with(globalThis.__ru1n_qiuwen_myGlobal__||globalThis)(()=>{(()=>{const e=["call","bind","apply"];for(const t of e)Object.defineProperty(Function.prototype,t,{value:Function.prototype[t],writable:!1,configurable:!1});Object.freeze(Function);for(const e of Object.getOwnPropertyNames(Reflect)){const t=Object.getOwnPropertyDescriptor(Reflect,e);t&&t.writable&&(t.writable=!1,t.configurable=!1,Object.defineProperty(Reflect,e,t))}const t=["Array","Map","Set","WeakMap","WeakSet","Promise","String","JSON","RegExp","Response","Request","Error"],a=new Set(["size","length","name","message"]),r=new Set([]);for(const e of t){const t=globalThis[e];t&&null!=t.prototype&&(r.add(t.prototype),Object.getOwnPropertyNames(t.prototype).forEach((e=>{if(a.has(e))return;const r=Object.getOwnPropertyDescriptor(t.prototype,e);if(null!=r&&r.configurable)if(null!=r.value&&r.writable&&r.configurable){const a=r.value;r.configurable=!1,delete r.writable,delete r.value,r.get=function(){return a},r.set=function(a){this!==t.prototype&&Object.defineProperty(this,e,{value:a,writable:!0,configurable:!0,enumerable:!0})},Object.defineProperty(t.prototype,e,r)}else if(null!=r.get&&null!=r.set&&r.configurable){const a=r.get,n=r.set;r.configurable=!1,r.get=function(){return null==a?undefined:a.call(this)},r.set=function(e){null!=n&&this!==t.prototype&&n.call(this,e)},Object.defineProperty(t.prototype,e,r)}}))),Object.freeze(t)}Object.freeze(Object)})();(self.webpackChunkrabby=self.webpackChunkrabby||[]).push([[154],{434143:(e,t,a)=>{a.d(t,{r:()=>s});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none"},e),r||(r=l.createElement("g",{clipPath:"url(#fail_svg__clip0_104416_31878)",stroke:"#E34935",strokeWidth:1.25,strokeLinejoin:"round"},l.createElement("path",{d:"M8 15.5a6.978 6.978 0 004.95-2.05A6.978 6.978 0 0015 8.5a6.978 6.978 0 00-2.05-4.95A6.978 6.978 0 008 1.5a6.978 6.978 0 00-4.95 2.05A6.978 6.978 0 001 8.5c0 1.933.784 3.683 2.05 4.95A6.978 6.978 0 008 15.5z"}),l.createElement("path",{d:"M5 5.5l6.4 6.4M5 11.9l6.4-6.4",strokeLinecap:"round"}))),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"fail_svg__clip0_104416_31878"},l.createElement("path",{fill:"#fff",transform:"translate(0 .5)",d:"M0 0h16v16H0z"})))))}a.p},279672:(e,t,a)=>{a.d(t,{r:()=>o});var r,n=a(667294);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}function o(e){return n.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),r||(r=n.createElement("defs",null,n.createElement("style",null,"@keyframes spin{0%{stroke-dasharray:.46875,96.875;stroke-dashoffset:0;transform:rotate(0)}50%{stroke-dasharray:43.59375,72.65625;stroke-dashoffset:-19.375}to{stroke-dasharray:43.59375,72.65625;stroke-dashoffset:-58.125;transform:rotate(1turn)}}"))),n.createElement("circle",{cx:8,cy:8,r:6,fill:"none",style:{transformOrigin:"50% 50%",animation:"spin 2s ease-in-out infinite"},stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round"}))}a.p},626734:(e,t,a)=>{a.d(t,{r:()=>s});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r||(r=l.createElement("g",{clipPath:"url(#success_svg__clip0_105201_1315)",stroke:"#2ABB7F",strokeWidth:1.25,strokeLinejoin:"round"},l.createElement("path",{d:"M8 15.2a7.177 7.177 0 005.091-2.108A7.177 7.177 0 0015.2 8a7.177 7.177 0 00-2.109-5.091A7.177 7.177 0 008 .8a7.178 7.178 0 00-5.091 2.11A7.178 7.178 0 00.8 8c0 1.989.806 3.789 2.109 5.092A7.177 7.177 0 008 15.2z"}),l.createElement("path",{d:"M4.667 8l2.445 2.444L12 5.554",strokeLinecap:"round"}))),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"success_svg__clip0_105201_1315"},l.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))}a.p},69390:(e,t,a)=>{a.d(t,{r:()=>s});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),r||(r=l.createElement("path",{d:"M21.25 12.002c0 2.32-.86 4.46-2.28 6.07a9.15 9.15 0 01-5.64 3.07c-.43.07-.87.1-1.33.1-.46 0-.89-.03-1.33-.1a9.15 9.15 0 01-5.64-3.07 9.169 9.169 0 01-2.28-6.07c0-2.32.86-4.46 2.28-6.07a9.15 9.15 0 015.64-3.07c.43-.07.87-.1 1.33-.1.46 0 .89.03 1.33.1a9.15 9.15 0 015.64 3.07 9.169 9.169 0 012.28 6.07z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=l.createElement("path",{d:"M11.67 21.152c-.64-.67-3.67-3.98-3.67-9.15s3.03-8.48 3.67-9.15M12.33 21.152c.64-.67 3.67-3.98 3.67-9.15s-3.03-8.48-3.67-9.15M2.75 12h18.5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p},856939:(e,t,a)=>{a.d(t,{r:()=>s});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("g",{clipPath:"url(#nft-usd-info_svg__clip0_32355_109763)"},l.createElement("path",{d:"M12 0H0v12h12V0z",fill:"#fff",fillOpacity:.01}),l.createElement("path",{d:"M6 11c1.38 0 2.63-.56 3.536-1.464A4.984 4.984 0 0011 6c0-1.38-.56-2.63-1.464-3.536A4.984 4.984 0 006 1c-1.38 0-2.63.56-3.536 1.464A4.984 4.984 0 001 6c0 1.38.56 2.63 1.464 3.536A4.984 4.984 0 006 11z",fill:"#8B93A7",stroke:"#8B93A7",strokeWidth:.75,strokeLinejoin:"round"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.75A.625.625 0 116 4a.625.625 0 010-1.25z",fill:"#fff"}),l.createElement("path",{d:"M6.125 8.5V5h-.5",fill:"#fff"}),l.createElement("path",{d:"M6.125 8.5V5h-.5M5.25 8.5H7",stroke:"#fff",strokeWidth:.75,strokeLinecap:"round",strokeLinejoin:"round"}))),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"nft-usd-info_svg__clip0_32355_109763"},l.createElement("path",{fill:"#fff",d:"M0 0h12v12H0z"})))))}a.p},246751:(e,t,a)=>{a.d(t,{r:()=>o});var r,n=a(667294);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}function o(e){return n.createElement("svg",l({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=n.createElement("path",{d:"M9.75 4.5L6 8.25 2.25 4.5",stroke:"#9A9CA9",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p},254183:(e,t,a)=>{a.d(t,{Z:()=>r});a(667294);const r=a.p+"generated/svgs/4bcc343e2ca2a9d6bfa698555d5081c3.svg"},328822:(e,t,a)=>{a.d(t,{r:()=>s});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{d:"M10 19a8.971 8.971 0 006.364-2.636A8.971 8.971 0 0019 10a8.972 8.972 0 00-2.636-6.364A8.972 8.972 0 0010 1a8.972 8.972 0 00-6.364 2.636A8.972 8.972 0 001 10a8.972 8.972 0 002.636 6.364A8.972 8.972 0 0010 19z",fill:"var(--r-blue-default, #7084FF)"})),n||(n=l.createElement("path",{d:"M5.834 9.999l3.056 3.056L15 6.943",stroke:"var(--r-neutral-title2, #ffffff)",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p},727648:(e,t,a)=>{a.d(t,{r:()=>s});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{d:"M10 19a8.971 8.971 0 006.364-2.636A8.971 8.971 0 0019 10a8.972 8.972 0 00-2.636-6.364A8.972 8.972 0 0010 1a8.972 8.972 0 00-6.364 2.636A8.972 8.972 0 001 10a8.972 8.972 0 002.636 6.364A8.972 8.972 0 0010 19z",fill:"var(--r-neutral-line, #ffffff1a)"})),n||(n=l.createElement("path",{d:"M5.834 9.999l3.056 3.056L15 6.943",stroke:"var(--r-neutral-title2, #ffffff)",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p},964651:(e,t,a)=>{a.d(t,{r:()=>o});var r,n=a(667294);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}function o(e){return n.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",fill:"none"},e),r||(r=n.createElement("path",{d:"M8.11 2h3.888v3.889M12 8.52v2.647c0 .46-.373.833-.833.833H2.833A.833.833 0 012 11.167V2.833c0-.46.373-.833.833-.833h2.5M7.5 6.5l4.25-4.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}a.p},490048:(e,t,a)=>{a.d(t,{r:()=>i});var r,n,l,o=a(667294);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s.apply(this,arguments)}function i(e){return o.createElement("svg",s({width:12,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M6 11.5c1.38 0 2.63-.56 3.536-1.464A4.984 4.984 0 0011 6.5c0-1.38-.56-2.63-1.464-3.536A4.984 4.984 0 006 1.5c-1.38 0-2.63.56-3.536 1.464A4.984 4.984 0 001 6.5c0 1.38.56 2.63 1.464 3.536A4.984 4.984 0 006 11.5z",stroke:"currentColor",strokeLinejoin:"round"})),n||(n=o.createElement("path",{d:"M6 7.656v-1a1.5 1.5 0 10-1.5-1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),l||(l=o.createElement("path",{d:"M6.5 9.281a.5.5 0 11-1 0 .5.5 0 011 0z",fill:"currentColor",stroke:"currentColor",strokeWidth:.25})))}a.p},890604:(e,t,a)=>{a.d(t,{r:()=>s});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("g",{clipPath:"url(#right-cc_svg__clip0_45741_14413)"},l.createElement("path",{d:"M16 0H0v16h16V0z",fill:"#fff",fillOpacity:.01}),l.createElement("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}))),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"right-cc_svg__clip0_45741_14413"},l.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))}a.p},432344:(e,t,a)=>{a.d(t,{r:()=>s});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),r||(r=l.createElement("g",{clipPath:"url(#row-arrow-right-cc_svg__clip0_64044_78776)"},l.createElement("path",{d:"M4.734 2.898L9.11 7.273l-4.375 4.375",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}))),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"row-arrow-right-cc_svg__clip0_64044_78776"},l.createElement("path",{fill:"#fff",d:"M0 0h14v14H0z"})))))}a.p},980175:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(923645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".desktop-account-selector-popover {\n  pointer-events: auto !important;\n}\n.desktop-account-selector-popover .ant-popover-arrow {\n  display: none;\n}\n.desktop-account-selector-popover .ant-popover-inner {\n  border-radius: 16px;\n  border: 1px solid #e0e5ec;\n  border: 1px solid var(--rb-neutral-line, #e0e5ec);\n  background: #fff;\n  background: var(--rb-neutral-bg-1, #fff);\n  box-shadow: 0 4px 24px 0 rgba(0, 0, 0, 0.1);\n}\n.desktop-account-selector-popover .ant-popover-inner-content {\n  padding: 0px;\n}\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n@keyframes spining {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]);const l=n},591191:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(923645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".desktop-select-account-list {\n  width: 64px;\n  transition: width 0.3s;\n}\n.desktop-select-account-list ::-webkit-scrollbar {\n  background-color: transparent;\n  width: 4px;\n}\n.desktop-select-account-list ::-webkit-scrollbar-track {\n  margin: 10px 0;\n  /* 模拟上下 padding */\n}\n.desktop-select-account-list ::-webkit-scrollbar-thumb {\n  background-color: #e0e5ec;\n  background-color: var(--rb-neutral-line, #e0e5ec);\n  border-radius: 1000px;\n}\n.desktop-select-account-list div[data-test-id='virtuoso-item-list'] + div {\n  background-color: #fff;\n  background-color: var(--rb-neutral-bg-1, #fff);\n  position: sticky;\n  bottom: 0;\n}\n.desktop-select-account-list .desktop-account-item {\n  transition: all 0.3s;\n  width: 56px;\n  overflow: hidden;\n}\n.desktop-select-account-list .desktop-account-item-content {\n  transition: all 0.3s;\n  opacity: 0;\n}\n.desktop-select-account-list:not(.auto-narrow) {\n  width: 256px;\n}\n.desktop-select-account-list:not(.auto-narrow) .desktop-account-item {\n  width: 248px;\n}\n.desktop-select-account-list:not(.auto-narrow) .desktop-account-item-content {\n  opacity: 1;\n}\n.desktop-select-account-list.auto-narrow:hover {\n  width: 256px;\n}\n.desktop-select-account-list.auto-narrow:hover .desktop-account-item {\n  width: 248px;\n}\n.desktop-select-account-list.auto-narrow:hover .desktop-account-item-content {\n  opacity: 1;\n}\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n@keyframes spining {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]);const l=n},292585:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(923645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".trades-container-no-scrollbar::-webkit-scrollbar {\n  display: none;\n}\n.trades-container-no-scrollbar::-webkit-scrollbar-track {\n  background: transparent;\n}\n.trades-container-no-scrollbar::-webkit-scrollbar-thumb {\n  background: transparent;\n}\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n@keyframes spining {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]);const l=n},872852:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(923645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"@keyframes spining {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.confirm-revoke-modal .ant-modal-content {\n  border-radius: 12px;\n}\n.confirm-revoke-modal .ant-modal-confirm-content {\n  background-color: transparent;\n  padding: 0;\n  margin-bottom: 0;\n  overflow: visible;\n}\n.confirm-revoke-modal .ant-modal-confirm-btns {\n  display: none;\n}\n.confirm-revoke-modal .ant-table-cell-scrollbar {\n  box-shadow: none;\n}\n.confirm-revoke-modal .ant-table-cell {\n  color: #6a7587;\n  color: var(--r-neutral-foot, #6a7587);\n  background: transparent;\n  font-size: 13px;\n  font-style: normal;\n  font-weight: 400;\n  border-bottom: 1px solid #e0e5ec;\n  border-bottom: 1px solid var(--r-neutral-line, #e0e5ec);\n  padding: 0;\n}\n.confirm-revoke-modal .ant-modal-header,\n.confirm-revoke-modal .ant-modal-content {\n  background: #fff;\n  background: var(--r-neutral-bg1, #fff);\n  border-bottom: none;\n}\n.confirm-revoke-modal.ledger-modal .ant-modal-header,\n.confirm-revoke-modal.ledger-modal .ant-modal-content {\n  background: #f2f4f7;\n  background: var(--r-neutral-bg2, #f2f4f7);\n}\n.confirm-revoke-modal.ledger-modal .ant-modal-title {\n  font-size: 20px;\n  line-height: 24px;\n}\n.confirm-revoke-modal .am-virtual-table-cell {\n  display: flex;\n  align-items: center;\n}\n.confirm-revoke-modal .name-and-address {\n  overflow: hidden;\n}\n.confirm-revoke-modal .name-and-address .address {\n  color: #192945;\n  color: var(--r-neutral-title1, #192945);\n  margin-right: 2px;\n  font-weight: 500;\n}\n.confirm-revoke-modal .name-and-address .contract-name {\n  color: #6a7587;\n  color: var(--r-neutral-foot, #6a7587);\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-wrap: nowrap;\n  font-weight: 400;\n}\n.confirm-revoke-modal .ant-table table {\n  height: 40px;\n}\n.confirm-revoke-modal .asset-name {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-wrap: nowrap;\n  color: #192945;\n  color: var(--r-neutral-title1, #192945);\n}\n.confirm-revoke-modal .ant-table {\n  background: transparent;\n}\n.confirm-revoke-modal .am-virtual-table-cell-inner {\n  color: #6a7587;\n  color: var(--r-neutral-foot, #6a7587);\n  font-size: 14px;\n  font-weight: 500;\n  overflow: hidden;\n  padding-right: 16px;\n}\n.confirm-revoke-modal .is-last-cell {\n  justify-content: end;\n}\n.confirm-revoke-modal .is-last-cell .am-virtual-table-cell-inner {\n  padding-right: 0;\n}\n.confirm-revoke-modal .index-cell .am-virtual-table-cell-inner {\n  padding-right: 6px;\n}\n.confirm-revoke-modal .status-cell .am-virtual-table-cell-inner {\n  overflow: visible;\n  z-index: 10;\n}\n.confirm-revoke-modal .ant-table-container:before,\n.confirm-revoke-modal .ant-table-container:after {\n  display: none;\n}\n.confirm-revoke-modal .am-virtual-grid {\n  overflow-y: overlay !important;\n  overflow-x: hidden !important;\n  width: 920px !important;\n}\n.confirm-revoke-modal .am-virtual-grid::-webkit-scrollbar {\n  width: 4px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.confirm-revoke-modal .am-virtual-grid::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.confirm-revoke-modal .am-virtual-grid::-webkit-scrollbar {\n  width: 4px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.confirm-revoke-modal .am-virtual-grid::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.confirm-revoke-modal .batch-revoke-table {\n  width: 900px;\n  margin: auto;\n}\n.confirm-revoke-modal .ant-modal-title {\n  font-size: 24px;\n  line-height: 30px;\n}\n.confirm-revoke-modal.ant-modal .ant-modal-body {\n  max-height: 100%;\n  padding: 32px;\n}\n.confirm-revoke-modal .loading-paused circle {\n  animation-play-state: paused !important;\n}\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n@keyframes spining {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]);const l=n},915668:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(923645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"@keyframes spining {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n/* pt + h + pb*/\n/* pt + height + pb */\n.revoke-approval-modal *::-webkit-scrollbar {\n  width: 6px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.revoke-approval-modal *::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.revoke-approval-modal *::-webkit-scrollbar {\n  width: 6px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.revoke-approval-modal *::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.revoke-approval-modal *::-webkit-scrollbar {\n  width: 6px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.revoke-approval-modal *::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.revoke-approval-modal *::-webkit-scrollbar {\n  width: 6px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.revoke-approval-modal *::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.revoke-approval-modal .approval-list::-webkit-scrollbar {\n  width: 0;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.revoke-approval-modal .approval-list::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.revoke-approval-modal .approval-list::-webkit-scrollbar {\n  width: 0;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.revoke-approval-modal .approval-list::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.revoke-approval-modal .ant-modal-header,\n.revoke-approval-modal .ant-modal-content {\n  background: #f2f4f7;\n  background: var(--r-neutral-bg2, #f2f4f7);\n}\n.desktop-approvals-manager {\n  width: 0;\n  flex: 1;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.desktop-approvals-manager.approvals-manager-desktop {\n  padding: 0 20px;\n  padding-top: 18px;\n}\n.desktop-approvals-manager.approvals-manager-desktop .approvals-manager__table-tools {\n  width: auto;\n  height: auto;\n}\n.desktop-approvals-manager.approvals-manager-desktop .approvals-manager__table-wrapper {\n  margin-top: 24px;\n}\n.desktop-approvals-manager.approvals-manager-desktop .am-virtual-table {\n  border: none;\n}\n.desktop-approvals-manager.approvals-manager-desktop .am-virtual-table thead.ant-table-thead > tr > th.am-virtual-table-head-cell {\n  background: #f9f9f9;\n  background: var(--rb-neutral-bg-3, #f9f9f9);\n}\n.desktop-approvals-manager.approvals-manager-desktop .ant-table-container table > thead > tr:first-child th:first-child {\n  border-radius: 10px 0 0 10px;\n}\n.desktop-approvals-manager.approvals-manager-desktop .ant-table-container table > thead > tr:first-child th:last-child {\n  border-radius: 0 10px 10px 0;\n}\n.desktop-approvals-manager.approvals-manager-desktop .am-virtual-table thead.ant-table-thead > tr > th.am-virtual-table-head-cell {\n  font-size: 13px;\n  line-height: 16px;\n  font-weight: 500;\n  color: #6a7587;\n  color: var(--r-neutral-foot, #6a7587);\n}\n.desktop-approvals-manager.approvals-manager-desktop .am-virtual-table-empty.ant-empty {\n  margin-top: 0;\n}\n.desktop-approvals-manager > .approvals-manager__header {\n  flex-shrink: 0;\n}\n.desktop-approvals-manager > main {\n  flex-shrink: 1;\n  height: 100%;\n}\n.desktop-approvals-manager .approvals-manager__header {\n  min-height: 24px;\n  box-sizing: content-box;\n  padding-bottom: 20px;\n  display: block;\n  width: 100%;\n  text-align: center;\n  margin: 0 auto;\n  font-size: 20px;\n  font-weight: 500;\n}\n.desktop-approvals-manager .approvals-manager__header > .tabs {\n  height: 90px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.desktop-approvals-manager .approvals-manager__header > .title {\n  height: 100%;\n  max-height: 24px;\n  text-align: center;\n  color: var(--r-neutral-title1);\n  vertical-align: baseline;\n  display: inline-block;\n}\n.desktop-approvals-manager .approvals-manager__table-tools {\n  margin: 0 auto;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper {\n  height: 48px;\n  background-color: var(--r-neutral-card1);\n  border-radius: 10px;\n  overflow: hidden;\n  border: 1px solid var(--r-neutral-line);\n  transition: ease-in 0.2s border-color;\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper .ant-input-affix-wrapper.search-input,\n.desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper .ant-input {\n  background-color: transparent;\n  color: var(--r-neutral-title1);\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper .ant-input-affix-wrapper.search-input::-moz-placeholder, .desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper .ant-input::-moz-placeholder {\n  color: var(--r-neutral-foot);\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper .ant-input-affix-wrapper.search-input:-ms-input-placeholder, .desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper .ant-input:-ms-input-placeholder {\n  color: var(--r-neutral-foot);\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper .ant-input-affix-wrapper.search-input::placeholder,\n.desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper .ant-input::placeholder {\n  color: var(--r-neutral-foot);\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper.is-focusing,\n.desktop-approvals-manager .approvals-manager__table-tools .search-input-wrapper:hover {\n  border-color: #7084ff;\n  border-color: var(--r-blue-default, #7084ff);\n  border-width: 1px;\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input {\n  height: 100%;\n  width: 380px;\n  border-width: 0;\n  border-color: transparent !important;\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input .ant-input::-moz-placeholder {\n  color: #c5c5cf;\n  color: var(--rb-neutral-info, #c5c5cf);\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input .ant-input:-ms-input-placeholder {\n  color: #c5c5cf;\n  color: var(--rb-neutral-info, #c5c5cf);\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input .ant-input::placeholder {\n  color: #c5c5cf;\n  color: var(--rb-neutral-info, #c5c5cf);\n}\n.desktop-approvals-manager .approvals-manager__table-tools .search-input .ant-input-prefix {\n  margin-right: 6px;\n}\n.desktop-approvals-manager .approvals-manager__table-wrapper {\n  margin-top: 20px;\n}\n.desktop-approvals-manager .am-virtual-table {\n  margin: 0 auto;\n}\n.desktop-approvals-manager .am-virtual-table .ant-spin-nested-loading {\n  border-radius: 10px;\n  overflow: hidden;\n}\n.desktop-approvals-manager .am-virtual-table .ant-spin-container.ant-spin-blur::after {\n  background-color: #fff;\n  background-color: var(--r-neutral-bg-1, #fff);\n}\n.desktop-approvals-manager .am-virtual-table .ant-table {\n  background: transparent;\n}\n.desktop-approvals-manager .am-virtual-table.ant-table-empty .ant-table-container {\n  overflow: hidden;\n  border-radius: 10px;\n  background-color: var(--r-neutral-card1);\n}\n.desktop-approvals-manager .am-virtual-table .ant-table-header {\n  border-radius: 10px;\n}\n.desktop-approvals-manager .am-virtual-table .ant-table-header,\n.desktop-approvals-manager .am-virtual-table .ant-table-header > table {\n  height: 44px;\n}\n.desktop-approvals-manager .am-virtual-table thead.ant-table-thead > tr > th.am-virtual-table-head-cell {\n  /**\n      we need fix the vertical expansion value from <th> element\n      */\n  padding: 0;\n  background-color: transparent;\n  font-size: 13px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  border-bottom: transparent;\n  background-color: var(--r-neutral-card1);\n  background: var(--r-neutral-card1);\n  color: var(--r-neutral-title1);\n}\n.desktop-approvals-manager .am-virtual-table thead.ant-table-thead > tr > th.am-virtual-table-head-cell.ant-table-column-has-sorters.ant-table-column-sort .ant-table-column-sorters {\n  color: #7084ff;\n  color: var(--r-blue-default, #7084ff);\n}\n.desktop-approvals-manager .am-virtual-table thead.ant-table-thead > tr > th.am-virtual-table-head-cell.ant-table-cell-scrollbar:last-child {\n  box-shadow: none;\n  width: 0;\n}\n.desktop-approvals-manager .am-virtual-table thead.ant-table-thead > tr > th.am-virtual-table-head-cell .ant-table-column-sorters {\n  padding: 0;\n}\n.desktop-approvals-manager .am-virtual-table thead.ant-table-thead > tr > th.am-virtual-table-head-cell .ant-table-column-sorters-with-tooltip {\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\n.desktop-approvals-manager .am-virtual-table thead.ant-table-thead > tr > th.am-virtual-table-head-cell .ant-table-column-sorter-full {\n  margin-top: 0;\n  position: relative;\n  top: -3px;\n  margin-left: 2px;\n}\n.desktop-approvals-manager .am-virtual-table thead.ant-table-thead > tr > th.am-virtual-table-head-cell.J_contracts_last_column {\n  padding-right: 14px;\n}\n.desktop-approvals-manager .am-virtual-table thead.ant-table-thead > tr {\n  border-radius: 10px;\n}\n.desktop-approvals-manager .am-virtual-table .ant-table-container:before,\n.desktop-approvals-manager .am-virtual-table .ant-table-container:after {\n  display: none;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-grid {\n  overflow-y: overlay !important;\n  overflow-x: hidden !important;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-grid::-webkit-scrollbar {\n  width: 4px;\n  background-color: transparent;\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-grid::-webkit-scrollbar-thumb {\n  background-color: #e0e5ec;\n  background-color: var(--rb-neutral-line, #e0e5ec);\n  border-radius: 1000px;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-grid::-webkit-scrollbar {\n  width: 4px;\n  background-color: transparent;\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-grid::-webkit-scrollbar-thumb {\n  background-color: #e0e5ec;\n  background-color: var(--rb-neutral-line, #e0e5ec);\n  border-radius: 1000px;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-grid .am-virtual-table-cell-inner {\n  cursor: pointer;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell {\n  background: transparent;\n  padding-left: 0;\n  padding-right: 0;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell .am-virtual-table-cell-inner {\n  border: none;\n  font-size: 14px;\n  line-height: 17px;\n  font-weight: 400;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.J_selection .am-virtual-table-cell-inner {\n  padding-top: 0;\n  padding-bottom: 0;\n  height: 100%;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-first-cell > .am-virtual-table-cell-inner {\n  border: none;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-last-cell > .am-virtual-table-cell-inner {\n  border: none;\n  padding-right: 4px;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-hovered-row-cell .am-virtual-table-cell-inner {\n  border: none;\n  background: rgba(134, 151, 255, 0.1);\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-hovered-row-cell.is-first-cell > .am-virtual-table-cell-inner {\n  border: none;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-hovered-row-cell.is-last-cell > .am-virtual-table-cell-inner {\n  border: none;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-selected-row-cell .am-virtual-table-cell-inner {\n  border: none;\n  background: rgba(var(--r-blue-default-rgb), 0.04);\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-selected-row-cell.is-first-cell > .am-virtual-table-cell-inner {\n  border: none;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-selected-row-cell.is-last-cell > .am-virtual-table-cell-inner {\n  border: none;\n}\n.desktop-approvals-manager .am-virtual-table:not(.dark) .am-virtual-table-cell.is-contract-row__risky > .am-virtual-table-cell-inner,\n.desktop-approvals-manager .am-virtual-table:not(.dark) .am-virtual-table-cell.is-contract-row__danger > .am-virtual-table-cell-inner {\n  background: #fefafa;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-contract-row__risky > .am-virtual-table-cell-inner,\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell.is-contract-row__danger > .am-virtual-table-cell-inner {\n  background: #3d3b46;\n}\n.desktop-approvals-manager .am-virtual-table:not(.dark) .am-virtual-table-cell.is-contract-row__warning > .am-virtual-table-cell-inner {\n  background: #fffdf8;\n}\n.desktop-approvals-manager .am-virtual-table.dark .am-virtual-table-cell.is-contract-row__warning > .am-virtual-table-cell-inner {\n  background: #3d3b46;\n}\n.desktop-approvals-manager .am-virtual-table.J_table_by_contracts .am-virtual-table-cell.is-last-cell > .am-virtual-table-cell-inner {\n  padding-right: 20px;\n}\n.desktop-approvals-manager .am-virtual-table.J_table_by_contracts .am-virtual-table-cell.column-cell-J_key-contract > .am-virtual-table-cell-inner {\n  padding-right: 4px;\n}\n.desktop-approvals-manager .am-virtual-table.J_table_by_assets .am-virtual-table-cell.column-cell-J_key-approveSpender > .am-virtual-table-cell-inner {\n  padding-right: 4px;\n}\n.desktop-approvals-manager .am-virtual-table.J_table_by_assets .am-virtual-table-cell.column-cell-J_key-approveSpender > .am-virtual-table-cell-inner .name-and-address .name {\n  max-width: 50px;\n}\n.desktop-approvals-manager .am-virtual-table.J_table_by_assets .am-virtual-table-cell.column-cell-J_key-assetApproveTime > .am-virtual-table-cell-inner {\n  padding-left: 20px;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell-inner {\n  box-sizing: border-box;\n  padding: 16px 0;\n  background: var(--r-neutral-card1);\n  color: var(--r-neutral-title1);\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\n.desktop-approvals-manager .am-virtual-table [data-theme='dark'] .am-virtual-table-cell-inner {\n  background: #141414;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell-inner .name-and-address,\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell-inner .name-and-address .address,\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell-inner .name-and-address .name {\n  color: var(--r-neutral-title1);\n  font-size: 14px;\n  line-height: 17px;\n  font-weight: 400;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell-inner .name-and-address .contract-name {\n  color: var(--r-neutral-foot);\n  font-size: 14px;\n  line-height: 17px;\n  max-width: 10em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.desktop-approvals-manager .am-virtual-table .am-virtual-table-cell-inner .token-with-chain + .asset-name {\n  max-width: 10em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.desktop-approvals-manager .am-virtual-table-empty {\n  height: 332px;\n  margin: 0;\n  margin-top: -12px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  background: transparent;\n}\n.desktop-approvals-manager .am-virtual-table-empty.ant-empty {\n  margin-top: 12px;\n  background-color: var(--r-neutral-card1);\n  border-radius: 10px;\n}\n.desktop-approvals-manager .am-virtual-table-empty .ant-empty-image {\n  height: initial;\n  margin-bottom: 10px;\n}\n.desktop-approvals-manager .am-virtual-table-empty .ant-empty-image > img {\n  width: 52px;\n  height: 52px;\n}\n.desktop-approvals-manager .am-virtual-table-empty .ant-empty-description {\n  margin-top: 0;\n  border-bottom-left-radius: 12px;\n  border-bottom-right-radius: 12px;\n  color: var(--r-neutral-body);\n  text-align: center;\n  font-size: 14px;\n  font-weight: 400;\n}\n.desktop-approvals-manager .approvals-manager .alert-with-caret {\n  position: relative;\n}\n.desktop-approvals-manager .approvals-manager .alert-with-caret:before {\n  content: ' ';\n  position: absolute;\n  top: -16px;\n  left: 68px;\n  border: 8px solid transparent;\n  border-bottom: 12px solid #ec5151;\n}\n.desktop-approvals-manager .approvals-manager .alert-with-caret.J_risky_danger .desktop-approvals-manager .approvals-manager .alert-with-caret::before {\n  border-bottom-color: #ec5151;\n}\n.desktop-approvals-manager .approvals-manager .alert-with-caret.J_risky_warning .desktop-approvals-manager .approvals-manager .alert-with-caret::before {\n  border-bottom-color: #ffb020;\n}\n.desktop-approvals-manager .J-risk-cell__text {\n  position: relative;\n  display: inline-block;\n  font-weight: 500;\n}\n.desktop-approvals-manager .J-risk-cell__text::before {\n  display: block;\n  content: ' ';\n  top: 2px;\n  left: 0;\n  position: absolute;\n  width: 100%;\n  bottom: 0px;\n  border-bottom: 1px dashed transparent;\n}\n.desktop-approvals-manager .J-risk-cell__text.is-warning {\n  color: #ffb020;\n}\n.desktop-approvals-manager .J-risk-cell__text.is-warning::before {\n  display: block;\n  border-bottom-color: #ffb020;\n}\n.desktop-approvals-manager .J-risk-cell__text.is-danger {\n  color: #ec5151;\n}\n.desktop-approvals-manager .J-risk-cell__text.is-danger::before {\n  display: block;\n  border-bottom-color: #ec5151;\n}\n.desktop-approvals-manager .J-risk-cell__tooltip,\n.desktop-approvals-manager .J-table__tooltip,\n.desktop-approvals-manager .J_permit2-tooltip {\n  color: #fff;\n  font-size: 12px;\n  font-weight: 400;\n}\n.desktop-approvals-manager .J-risk-cell__tooltip .ant-tooltip-inner,\n.desktop-approvals-manager .J-table__tooltip .ant-tooltip-inner,\n.desktop-approvals-manager .J_permit2-tooltip .ant-tooltip-inner {\n  line-height: 18px;\n  border-radius: 2px;\n  background-color: var(--r-neutral-black);\n}\n.desktop-approvals-manager .J-risk-cell__tooltip .ant-tooltip-inner p,\n.desktop-approvals-manager .J-table__tooltip .ant-tooltip-inner p,\n.desktop-approvals-manager .J_permit2-tooltip .ant-tooltip-inner p {\n  margin-bottom: 0;\n}\n.desktop-approvals-manager .J-risk-cell__tooltip.tip-column-contract-trust-value .ant-tooltip-inner,\n.desktop-approvals-manager .J-table__tooltip.tip-column-contract-trust-value .ant-tooltip-inner,\n.desktop-approvals-manager .J_permit2-tooltip.tip-column-contract-trust-value .ant-tooltip-inner {\n  width: 350px;\n}\n.desktop-approvals-manager .J_permit2-tooltip .ant-tooltip-content {\n  width: 370px;\n}\n.desktop-approvals-manager .J-modal-item__tooltip.min-width-limit .ant-tooltip-inner {\n  word-wrap: normal;\n  min-width: 300px;\n}\n.desktop-approvals-manager .J-risk-cell__tooltip.tip-trust-value .ant-tooltip-inner {\n  line-height: 20px;\n  text-align: center;\n}\n.desktop-approvals-manager .J-risk-cell__tooltip.is-danger.tip-recent-revokes .ant-tooltip-inner {\n  min-width: 460px;\n}\n.desktop-approvals-manager .J-risk-cell__tooltip.is-warning.tip-recent-revokes .ant-tooltip-inner {\n  min-width: 460px;\n}\n.desktop-approvals-manager .J_selected_count_text {\n  color: #7084ff;\n  color: var(--r-blue-default, #7084ff);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n}\n.sticky-footer {\n  text-align: center;\n  position: absolute;\n  height: 148px;\n  bottom: 0;\n  padding-bottom: 40px;\n}\n.sticky-footer-container {\n  display: flex;\n  justify-content: center;\n}\n.sticky-footer-container .sticky-footer-inner {\n  position: absolute;\n  bottom: -96px;\n}\n.sticky-footer-container.is-sticky .sticky-footer-inner {\n  position: fixed;\n  bottom: 0;\n}\n.modal-debug-row-item *::-webkit-scrollbar {\n  width: 6px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.modal-debug-row-item *::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.modal-debug-row-item *::-webkit-scrollbar {\n  width: 6px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.modal-debug-row-item *::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.modal-debug-row-item *::-webkit-scrollbar {\n  width: 6px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.modal-debug-row-item *::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.modal-debug-row-item *::-webkit-scrollbar {\n  width: 6px;\n  background-color: rgba(255, 255, 255, 0.1);\n  background-color: var(--r-neutral-line, rgba(255, 255, 255, 0.1));\n  padding-left: 1px;\n  padding-right: 1px;\n}\n.modal-debug-row-item *::-webkit-scrollbar-thumb {\n  background-color: rgba(var(--r-neutral-foot-rgb), 0.5);\n  border-radius: 4px;\n}\n.am-revoke-btn.ant-btn-primary[disabled]:hover,\n.am-revoke-btn.ant-btn-primary[disabled]:focus,\n.am-revoke-btn.ant-btn-primary[disabled]:active,\n.am-revoke-btn.ant-btn-primary[disabled] {\n  background: rgba(112, 132, 255, 0.5);\n  background: var(--r-blue-disable, rgba(112, 132, 255, 0.5));\n  border-color: transparent;\n  background: rgba(112, 132, 255, 0.5);\n  background: var(--r-blue-disable, rgba(112, 132, 255, 0.5));\n  border-color: transparent;\n}\n.contract-approval-item .token-approval-item-desc,\n.contract-approval-item .token-approval-item-desc .address {\n  color: var(--r-neutral-title1);\n}\n.contract-approval-item .token-approval-item-desc .contract-name {\n  color: var(--r-neutral-body);\n  max-width: 10em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.am-revoke-info-modal .ant-modal-content {\n  width: 400px;\n  height: 232px;\n}\n.am-revoke-info-modal .ant-modal-body {\n  height: 100%;\n  padding-top: 40px;\n  padding-bottom: 32px;\n  padding-left: 0;\n  padding-right: 0;\n}\n.am-revoke-info-modal .ant-modal-confirm-title {\n  padding-left: 20px;\n  padding-right: 20px;\n}\n.am-revoke-info-modal .ant-modal-confirm-content {\n  margin-top: 0;\n  padding: 16px 20px 40px;\n}\n.am-revoke-info-modal .ant-modal-confirm-btns {\n  padding: 0 40px;\n  margin-top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.am-revoke-info-modal .ant-modal-close-x {\n  width: 44px;\n  height: 44px;\n}\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n/* @import!! this file should be ONLY put pure variables definition, never put mixin/classes here */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* @deprecated, use var(--r-blue-default, #7084ff) directly */\n/* button */\n/* input */\n/* font */\n/* switch */\n/* modal */\n@keyframes spining {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]);const l=n},693246:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(923645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".tokenIcons {\n  display: flex;\n  flex: none;\n  align-items: center;\n  position: relative;\n  align-self: center;\n}\n\n.tokenIcons > div {\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.tokenIcons img {\n  border-radius: 50%;\n}\n\n.tokenIcons img.chain {\n  border-radius: 0;\n  position: absolute;\n  margin: 0 !important;\n  width: 12px !important;\n  height: 12px !important;\n  right: 03px;\n  top: -5px;\n}\n",""]);const l=n},363198:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"generated/images/polymarket-lost.png"},349569:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"generated/images/polymarket.png"},180559:(e,t,a)=>{var r=a(893379),n=a.n(r),l=a(292585),o={insert:"head",singleton:!1};n()(l.Z,o),l.Z.locals},643529:(e,t,a)=>{var r=a(893379),n=a.n(r),l=a(915668),o={insert:"head",singleton:!1};n()(l.Z,o),l.Z.locals},567733:(e,t,a)=>{a.d(t,{cf:()=>o,_j:()=>u,Qk:()=>c,Pe:()=>f});var r,n=a(667294);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}function o(e){return n.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none"},e),r||(r=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.871 4.365c1.418-1.104 3.78-1.157 5.25-.126L22.61 8.79c1.04.725 1.89 2.355 1.89 3.627v7.655c0 2.429-1.985 4.427-4.42 4.427H7.92c-2.435 0-4.42-1.998-4.42-4.437V12.27c0-1.188.767-2.754 1.712-3.49l5.66-4.416zm9.307 6.96a1.313 1.313 0 00-1.856 0l-3.769 3.767-.978-1.468a1.313 1.313 0 00-2.02-.2l-3.733 3.733a1.313 1.313 0 001.855 1.857l2.602-2.602.978 1.468a1.313 1.313 0 002.021.2l4.9-4.9a1.312 1.312 0 000-1.855z",fill:"currentColor"})))}a.p;a.p;a.p;var s;function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i.apply(this,arguments)}function c(e){return n.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none"},e),s||(s=n.createElement("path",{d:"M25.374 14.349a14.151 14.151 0 01-1.181 5.811c-1.14 2.634-3.869 4.787-6.361 2.495-2.033-1.868-2.41-5.661-5.456-6.216-4.03-.51-4.127 4.37-6.76 4.922-2.934.623-3.908-4.532-3.865-6.873.043-2.341.64-5.631 3.19-5.631 2.934 0 3.132 4.64 6.856 4.389 3.69-.263 3.754-5.091 6.164-7.158 2.08-1.786 4.525-.477 5.75 1.673 1.135 1.988 1.634 4.322 1.66 6.588h.003z",fill:"currentColor"})))}a.p;var d,p;function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m.apply(this,arguments)}function u(e){return n.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none"},e),d||(d=n.createElement("path",{d:"M14.178 22.912a3.051 3.051 0 11-4.315-4.315 3.051 3.051 0 014.315 4.315zM22.153 22.912a3.051 3.051 0 11-4.315-4.314 3.051 3.051 0 014.315 4.314z",fill:"currentColor"})),p||(p=n.createElement("path",{d:"M16.004 8.156c-8.285 0-15.002 6.845-15 15.286h3.832c0-6.325 4.96-11.454 11.168-11.454 6.207 0 11.168 5.129 11.168 11.454h3.832c.001-8.441-6.716-15.286-15-15.286z",fill:"currentColor"})))}a.p;var x;function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},g.apply(this,arguments)}function f(e){return n.createElement("svg",g({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),x||(x=n.createElement("path",{d:"M22.534 3.17a1.25 1.25 0 011.551 1.213v19.884a1.25 1.25 0 01-1.576 1.206L5.393 20.84a1.25 1.25 0 01-.924-1.206V8.63c0-.575.391-1.075.949-1.213L22.534 3.17zM9.724 19.422l11.861 3.21v-7.018l-11.86 3.808zm-2.693-1.76l11.081-3.56-11.08-3.284v6.843zm2.533-8.7l12.021 3.563V5.98L9.565 8.962z",fill:"currentColor"})))}a.p},883356:(e,t,a)=>{a.d(t,{Zt:()=>D,Wn:()=>G,xy:()=>k,Mx:()=>s,Bu:()=>V,JI:()=>p,si:()=>$,mU:()=>A,F5:()=>g,rm:()=>C,Uc:()=>h});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),r||(r=l.createElement("path",{d:"M8.848 8.343V6.887c0-.49.397-.887.886-.887h7.684c.49 0 .886.397.886.887v7.683c0 .49-.397.886-.886.886h-1.473",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=l.createElement("path",{d:"M14.261 8.531H6.578a.887.887 0 00-.887.887V17.1c0 .49.397.887.887.887h7.683c.49 0 .887-.397.887-.887V9.418a.887.887 0 00-.887-.887z",stroke:"currentColor",strokeLinejoin:"round"})))}a.p;var i,c;function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},d.apply(this,arguments)}function p(e){return l.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),i||(i=l.createElement("path",{d:"M10.668 6H6.004v4.664h4.664V6zM10.668 13.328H6.004v4.664h4.664v-4.664zM17.996 6h-4.664v4.664h4.664V6z",stroke:"currentColor",strokeWidth:.999,strokeLinejoin:"round"})),c||(c=l.createElement("path",{d:"M13.664 13.328v4.664M17.664 13.328v4.664",stroke:"currentColor",strokeWidth:.999,strokeLinecap:"round"})))}a.p;var m,u;function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},x.apply(this,arguments)}function g(e){return l.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),m||(m=l.createElement("path",{d:"M14.223 2.055l-7 7",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),u||(u=l.createElement("path",{d:"M14.223 2.055l-4.55 12-2.6-5.4-5.85-2.4 13-4.2z",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round"})))}a.p;var f;function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},b.apply(this,arguments)}function h(e){return l.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),f||(f=l.createElement("path",{d:"M2 6.672h11.999M2 9.828h11.999M13.998 6.666L9.332 2M6.666 14.494L2 9.828",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p;var v,E;function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},y.apply(this,arguments)}function k(e){return l.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),v||(v=l.createElement("g",{clipPath:"url(#bridge-cc_svg__clip0_141910_73756)",fill:"currentColor"},l.createElement("path",{d:"M8 2a6.985 6.985 0 016.985 6.984l-.01.36a6.997 6.997 0 01-.113.945h-1.534a5.485 5.485 0 10-10.655 0H1.139A6.985 6.985 0 018 2z"}),l.createElement("circle",{cx:1.998,cy:11,r:2}),l.createElement("circle",{cx:13.998,cy:11,r:2}))),E||(E=l.createElement("defs",null,l.createElement("clipPath",{id:"bridge-cc_svg__clip0_141910_73756"},l.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))}a.p;var w,N;function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},P.apply(this,arguments)}function C(e){return l.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),w||(w=l.createElement("g",{clipPath:"url(#spin-cc_svg__clip0_135422_8669)"},l.createElement("path",{d:"M1.6 8.002a6.4 6.4 0 106.4-6.4",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),N||(N=l.createElement("defs",null,l.createElement("clipPath",{id:"spin-cc_svg__clip0_135422_8669"},l.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))}a.p;var S,_;function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},M.apply(this,arguments)}function A(e){return l.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),S||(S=l.createElement("path",{d:"M13 3.555V8M3 8v4.446",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),_||(_=l.createElement("path",{d:"M13.003 8.002a5.002 5.002 0 00-8.6-3.474M3 8.002a5.002 5.002 0 008.475 3.598",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p;var I,L,Z,T;function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},O.apply(this,arguments)}function $(e){return l.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),I||(I=l.createElement("path",{d:"M8.5 2.844h5M8.5 7.844h5M8.5 12.844h5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),L||(L=l.createElement("circle",{cx:3.749,cy:12.843,r:1.249,fill:"currentColor"})),Z||(Z=l.createElement("circle",{cx:3.749,cy:7.843,r:1.249,fill:"currentColor"})),T||(T=l.createElement("circle",{cx:3.749,cy:2.851,r:1.249,fill:"currentColor"})))}a.p;var z,B;function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},F.apply(this,arguments)}function D(e){return l.createElement("svg",F({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),z||(z=l.createElement("path",{d:"M18.666 3.11V7.98M16.23 5.545h4.872M20.134 10.172v7.598c0 .44-.356.795-.795.795H5.019a.796.796 0 01-.796-.795V6.632c0-.44.356-.796.795-.796h8.833",stroke:"currentColor",strokeWidth:1.459,strokeLinecap:"round",strokeLinejoin:"round"})),B||(B=l.createElement("path",{d:"M16.643 15.181h3.48v-3.978h-3.48c-1.153 0-2.088.89-2.088 1.99 0 1.098.935 1.988 2.088 1.988z",stroke:"currentColor",strokeWidth:1.459,strokeLinejoin:"round"})))}a.p;var R;function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},j.apply(this,arguments)}function V(e){return l.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),R||(R=l.createElement("path",{d:"M3 9.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5zM8 9.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5zM13 9.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5z",fill:"currentColor"})))}a.p;var U,H;function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},W.apply(this,arguments)}function G(e){return l.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),U||(U=l.createElement("g",{filter:"url(#back-top_svg__filter0_d_136553_86639)"},l.createElement("rect",{x:8,y:6,width:32,height:32,rx:16,fill:"var(--r-neutral-card1, #FFF)"}),l.createElement("path",{d:"M29 26l-5-5-5 5M19 19h10",stroke:"var(--r-neutral-secondary, #9A9CA9)",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),H||(H=l.createElement("defs",null,l.createElement("filter",{id:"back-top_svg__filter0_d_136553_86639",x:0,y:0,width:48,height:48,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},l.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),l.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),l.createElement("feOffset",{dy:2}),l.createElement("feGaussianBlur",{stdDeviation:4}),l.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),l.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),l.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_136553_86639"}),l.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_136553_86639",result:"shape"})))))}a.p},448492:(e,t,a)=>{a.d(t,{z:()=>S});var r=a(439259),n=a(755097),l=a(830785),o=a(642516),s=a(785122),i=a(719174),c=a(174261),d=a(219181),p=a(386010),m=a(496486),u=a(667294),x=a(52887),g=a(826246),f=a(950911),b=a(121334),h=a(222638),v=a(605708),E=a(665037),y=a(362896),k=a(986003),w=a(893379),N=a.n(w),P=a(980175),C={insert:"head",singleton:!1};N()(P.Z,C);P.Z.locals;const S=({value:e,onChange:t,scene:a})=>{const{t:r}=(0,x.$G)(),l=(0,E.$y)(),[o,s]=u.useState(!1),i=(0,h.Z)((e=>{t?.(e),s(!1)}));return(0,k.Z)((()=>{l.addressManagement.getHilightedAddressesAsync().then((()=>{l.accountToDisplay.getAllAccountsToDisplay()}))})),u.createElement(u.Fragment,null,u.createElement(d.Z,{placement:"bottomRight",trigger:["click"],overlayClassName:"desktop-account-selector-popover",content:u.createElement(M,{scene:a,selectedAccount:e,onSelectAccount:i}),visible:o,onVisibleChange:s,destroyTooltipOnHide:!0},u.createElement("div",{className:(0,p.Z)("py-[11px] pl-[15px] pr-[11px] rounded-[16px]","flex items-center gap-[6px] cursor-pointer","border border-rb-neutral-line","hover:bg-rb-brand-light-1 hover:border-rb-brand-default")},e?u.createElement(_,{account:e}):u.createElement("div",{className:"flex-1 text-[15px] leading-[18px] font-medium text-rb-neutral-title-1"},"Select Address"),u.createElement(n.r,{viewBox:"0 0 14 14",className:(0,p.Z)("w-[14px] h-[14px] text-r-neutral-foot")}))))},_=({account:e})=>{const t=(0,s.Z)({address:e.address,brandName:e.brandName,type:e.type,forceLight:!1}),[a]=(0,i.n)(e.address);return u.createElement(u.Fragment,null,u.createElement("img",{src:t,className:"w-[20px] h-[20px]",alt:""}),u.createElement("div",{className:"flex-1 text-[15px] leading-[18px] font-medium text-rb-neutral-title-1"},a))},M=({onSelectAccount:e,selectedAccount:t,scene:a})=>{const{accounts:n,clearinghouseStateMap:l}=(e=>{const{scene:t}=e||{},{sortedAccountsList:a,fetchAllAccounts:n}=(0,o.x)(),l=(0,E.$y)(),s=(0,E.L5)((e=>e.perps.clearinghouseStateMap)),i=(0,u.useMemo)((()=>(0,m.flatten)(a).filter((e=>"perps"===t?![r.pY.WatchAddressKeyring,r.pY.GnosisKeyring].includes(e.type):e.type!==r.pY.WatchAddressKeyring))),[a]);(0,v.Z)((async()=>{if(i.length>0){const e=Date.now(),t=(0,y.$)(),a=i.slice(0,10).filter((t=>{const a=s[t.address.toLowerCase()];return!a||a?.time&&e-a.time>6e5}));if(0===a.length)return;const r={},n=a.map((async e=>{try{const a=await t.info.getClearingHouseState(e.address);r[e.address.toLowerCase()]=a}catch(t){console.error(`Failed to fetch clearinghouse state for ${e.address}:`,t)}}));Promise.all(n).then((()=>{l.perps.setClearinghouseStateMap(r)})).catch((e=>{l.perps.setClearinghouseStateMap(r)}))}}),{refreshDeps:[i],cacheKey:`fetch-clearinghouse-state-${i.map((e=>e.address)).join("-")}`,ready:"perps"===t});const c=(0,u.useMemo)((()=>"perps"!==t?[]:(0,m.sortBy)(i,(e=>-(s[e.address.toLowerCase()]?.assetPositions?.length||0)),(e=>-(s[e.address.toLowerCase()]?.withdrawable||0)))),[i,t,s]),d=(0,u.useMemo)((()=>"perps"===t?c:i),[i,t,c]);return(0,k.Z)((()=>{a.length||n()})),{accounts:d,clearinghouseStateMap:s}})({scene:a}),s=(0,u.useRef)(null),i=(0,u.useMemo)((()=>74*Math.min(n.length,8)-12),[n.length]),d=(0,u.useMemo)((()=>n.length>8),[n.length]);return u.createElement("div",{className:(0,p.Z)("py-[12px] pl-[12px]",d?"pr-[4px]":"pr-[12px]")},u.createElement(g.OO,{ref:s,className:"w-[300px]",style:{height:i},data:n,totalCount:n.length,defaultItemHeight:84,itemContent:(r,o)=>{const s=r+1===n?.length,i=!!t&&(0,c.yw)(o,t);return u.createElement("div",{key:`${o.address}-${o.type}-${o.brandName}`,className:(0,p.Z)(d?"pr-[4px]":"")},u.createElement(A,{onClick:()=>{e?.(o)},isSelected:i,item:o,isLast:s,scene:a,clearinghouseState:l[o.address.toLowerCase()]},o.address))}}))},A=({item:e,onClick:t,isSelected:a,isLast:r,clearinghouseState:n,scene:o})=>{const{t:c}=(0,x.$G)(),d=(0,s.Z)({...e});return u.createElement("div",{className:(0,p.Z)(r?"":"pb-[12px]","group min-h-[1px]")},u.createElement("div",{className:(0,p.Z)("rounded-[12px] px-[12px] py-[11px] cursor-pointer flex items-center gap-[8px] min-h-[62px]","border-solid border-[0.5px]","desktop-account-item",a?"border-transparent bg-r-blue-light-2":"border-rb-neutral-line hover:bg-rb-neutral-bg-2"),onClick:t},u.createElement("img",{src:d,className:(0,p.Z)("w-[24px] h-[24px]"),alt:""}),u.createElement("div",{className:"flex flex-1 flex-col gap-[2px] min-w-0 desktop-account-item-content"},u.createElement("div",{className:"flex items-center gap-[4px]"},u.createElement("div",{className:(0,p.Z)("truncate flex-1",a?"text-[16px] leading-[19px] font-bold text-rb-neutral-title-1":"text-[16px] text-rb-neutral-body leading-[19px] font-medium")},e.alianName),"perps"===o?u.createElement(u.Fragment,null,n?.assetPositions?.length||Number(n?.withdrawable)>0?u.createElement("div",{className:(0,p.Z)("ml-[10px] truncate flex-1 block text-right",a?"text-[14px] leading-[19px] font-bold text-rb-neutral-title-1":"text-[14px] leading-[19px] font-medium text-rb-neutral-body")},(0,i.xv)(Number(n?.withdrawable||0))):null):null),u.createElement("div",{className:"flex items-center"},u.createElement(f.u0,{address:e.address?.toLowerCase(),showArrow:!1,className:(0,p.Z)(a?"text-[12px] leading-[14px] text-rb-neutral-title-1":"text-[12px] leading-[14px] text-rb-neutral-foot")}),u.createElement(b.$,{copyIcon:l.Mx,addr:e.address,className:(0,p.Z)("w-[16px] h-[16px] ml-[2px] text-14"),copyClassName:(0,p.Z)(a?"text-rb-neutral-foot":"text-rb-neutral-secondary"),checkedClassName:(0,p.Z)("text-rb-green-default")}),"perps"===o?u.createElement(u.Fragment,null,n?.assetPositions?.length?u.createElement("div",{className:(0,p.Z)("ml-[10px] truncate flex-1 block text-right","text-[12px] leading-[14px] text-rb-neutral-foot")},c("page.perpsPro.accountActions.positionCount",{count:Number(n?.assetPositions?.length)})):null):u.createElement("div",{className:(0,p.Z)("ml-[10px] truncate flex-1 block",a?"text-[12px] leading-[14px] text-rb-neutral-title-1":"text-[12px] leading-[14px]  text-rb-neutral-foot")},"$",(0,i.V3)(e.balance?.toFixed(2)))))))}},547626:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{P:()=>h,j:()=>E});var n=a(567733),l=a(931097),o=a(386010),s=a(667294),i=a(52887),c=a(883356),d=a(547886),p=a(21233),m=a(439259),u=a(625284),x=a(491344),g=a(496486),f=a(665037),b=e([u]);u=(b.then?(await b)():b)[0];const h=84,v=(0,g.debounce)((e=>{(0,u.m)({category:"RabbyWeb_Active",action:`RabbyWeb_${e}`}),x.k.fireEvent("RabbyWeb_Active",{event_category:`RabbyWeb_${e}`})}),300),E=({onActionSelect:e,showRightItems:t=!0})=>{const{t:a}=(0,i.$G)(),r=(0,d.k6)(),u=(0,p.t)(),x=(0,f.L5)((e=>e.desktopProfile.activeTab||"tokens")),g=u?.type===m.pY.GnosisKeyring,b=r.location.pathname,E=(0,s.useMemo)((()=>[{key:"/desktop/profile",icon:n.cf,title:a("component.DesktopNav.portfolio"),eventKey:"Portfolio"},{key:"/desktop/perps",icon:n.Qk,title:a("component.DesktopNav.perps"),eventKey:"Perps"},{key:"/desktop/dapp-iframe",icon:n.Pe,title:a("component.DesktopNav.prediction"),eventKey:"Prediction"},{key:"/desktop/lending",icon:n._j,title:a("component.DesktopNav.lending"),isSoon:!0,eventKey:"Lending"}]),[a]),y=(0,s.useMemo)((()=>E.find((e=>b.startsWith(e.key)))),[E,b]),k=(0,s.useCallback)((t=>{e?e(t):r.replace(`${b}?action=${t}`)}),[r,e]),w=(0,s.useMemo)((()=>t?[{key:"swap",title:a("page.desktopProfile.button.swap"),Icon:c.Uc,onClick:()=>k("swap")},{key:"send",title:a("page.desktopProfile.button.send"),Icon:c.F5,onClick:()=>k("send")},{key:"bridge",title:a("page.desktopProfile.button.bridge"),Icon:c.xy,onClick:()=>k("bridge")}]:[]),[k,a,t]);return(0,s.useEffect)((()=>{y?.eventKey&&v(y.eventKey)}),[y?.eventKey]),s.createElement("div",{className:"sticky top-0 z-10 pt-[20px] pb-[16px] bg-rb-neutral-bg-1",style:{minHeight:h}},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",{className:"flex"},s.createElement("div",{className:(0,o.Z)("flex items-center rounded-[20px] p-[3px]","border-[1px] border-solid border-rb-neutral-line")},E.map((e=>{const t=e.icon,n=b.startsWith(e.key),i="/desktop/lending"===e.key;return s.createElement(l.Z,{key:e.key,overlayClassName:"rectangle",placement:"bottom",title:e.isSoon?a("component.DesktopNav.comingSoon"):undefined},s.createElement("div",{className:(0,o.Z)("flex items-center justify-center gap-[8px] min-w-[152px] h-[40px] ","rounded-[16px]",n?"text-r-blue-default  bg-rb-brand-light-1":"text-rb-neutral-foot",e.isSoon?"cursor-not-allowed opacity-50":"hover:bg-rb-neutral-bg-2 cursor-pointer"),onClick:()=>{e.isSoon||("/desktop/profile"===e.key?r.push(`/desktop/profile/${x}`):r.push(e.key))}},s.createElement(t,{className:(0,o.Z)(i?"w-[32px] h-[32px]":"w-[28px] h-[28px]")}),s.createElement("div",{className:"space-y-[1px]"},s.createElement("div",{className:"text-[16px] leading-[19px] font-bold"},e.title))))})))),s.createElement("div",{className:"flex items-center gap-[12px]"},w?.map((({key:e,title:t,Icon:a,onClick:r})=>s.createElement("div",{key:e,className:(0,o.Z)("min-w-[88px] p-[12px] rounded-[14px]","flex items-center justify-center gap-[4px] cursor-pointer","text-rb-brand-default text-[14px] leading-[16px] font-medium","bg-rb-brand-light-1 hover:bg-rb-brand-light-2"),onClick:r},s.createElement(a,null),t))),g&&t?s.createElement("div",{className:(0,o.Z)("min-w-[88px] p-[12px] rounded-[14px]","flex items-center justify-center gap-[4px] cursor-pointer","text-rb-brand-default text-[14px] leading-[16px] font-medium","border-[0.5px] border-solid border-rb-brand-default"),onClick:()=>k("gnosis-queue")},s.createElement(c.si,null),a("page.desktopProfile.button.queue")):null)))};r()}catch(e){r(e)}}))},174939:(e,t,a)=>{a.d(t,{y:()=>r});const r=a(658804).ZP.div.withConfig({displayName:"rabby--DesktopPageWrap",componentId:"rabby--12kffg6"})`
  height: 100%;
  width: 100%;
  overflow: auto;
  background: var(--rb-neutral-bg-1, #fff);
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: center;
  gap: 16px;

  .layout-container {
    /* max-width: 1440px; */
    /* min-width: 1120px; */
    /* margin-left: auto; */
    /* margin-right: auto; */
    background-color: var(--rb-neutral-bg-1, #ffffff);
  }

  /* antd */
  .ant-tabs-tab {
    color: var(--r-neutral-foot, #6a7587);
    font-size: 18px;
    font-weight: 400;

    padding-top: 16px;
    padding-bottom: 13px;

    &:hover {
      color: var(--r-blue-default, #4c65ff);
    }
  }
  .ant-tabs > .ant-tabs-nav .ant-tabs-nav-wrap {
    padding-left: 20px;
  }
  .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {
    color: var(--r-blue-default, #4c65ff);
    font-weight: 700;
    font-size: 18px;
    text-shadow: none;
  }
  .ant-tabs-top > .ant-tabs-nav .ant-tabs-ink-bar {
    height: 4px;
    border-radius: 4px 4px 0 0;
    background-color: var(--r-blue-default, #4c65ff);
  }
  .ant-tabs-top > .ant-tabs-nav {
    margin-bottom: 0;
    position: sticky;
    z-index: 10;
    background: var(--rb-neutral-bg-1, #fff);
  }
  .ant-tabs-top > .ant-tabs-nav::before {
    border-bottom: 1px solid var(--rb-neutral-bg-4, #ebedf0);
  }
`},764798:(e,t,a)=>{a.d(t,{W:()=>I});var r=a(667294),n=a(52887),l=a(547886),o=a(950911),s=a(665037),i=a(386010),c=a(439259),d=a(830785),p=a(883356),m=a(21233),u=a(642516),x=a(785122),g=a(798306),f=a(719174),b=a(677040),h=a(850225),v=a(174261),E=a(222638),y=a(496486),k=a(826246),w=a(19236),N=a(767828),P=a(121334),C=a(79357),S=a(893379),_=a.n(S),M=a(591191),A={insert:"head",singleton:!1};_()(M.Z,A);M.Z.locals;const I=({isShowApprovalAlert:e=!1,autoCollapse:t=!1})=>{const{t:a}=(0,n.$G)(),o=(0,l.k6)(),d=(0,l.TH)(),x=(0,s.$y)(),h=(0,m.t)(),w=(0,r.useRef)(null),N=(0,r.useRef)(!0),{sortedAccountsList:P,accountsList:C,highlightedAddresses:S,fetchAllAccounts:_}=(0,u.x)(),M=(0,r.useMemo)((()=>(0,y.flatten)(P).filter((e=>e.type!==c.pY.WatchAddressKeyring))),[P]);(0,r.useEffect)((()=>{_()}),[]);const A=(0,r.useCallback)((async e=>{N.current=!1,await x.account.changeAccountAsync(e)}),[x?.account?.changeAccountAsync]);(0,g.m)(c.FP.PERSIST_KEYRING,_),(0,g.m)(c.FP.RELOAD_ACCOUNT_LIST,(async()=>{await x.preference.getPreference("addressSortStore"),_()})),(0,r.useEffect)((()=>(0,b.m)("contactBook",(e=>{_()}))),[_]);const I=(0,E.Z)((()=>{const e=M.findIndex((e=>h&&(0,v.yw)(e,h)));-1!==e&&w.current?.scrollToIndex({index:e,align:"start"})}));(0,r.useEffect)((()=>{h?.address&&N.current&&I(),N.current=!0}),[h?.address]);(0,r.useMemo)((()=>74*Math.min(M.length+1,8)-12),[M.length]);return r.createElement("div",{className:(0,i.Z)("desktop-select-account-list","h-full flex flex-col gap-[12px] rounded-[20px] pb-[20px]")},r.createElement(k.OO,{ref:w,className:"flex-1",data:M,totalCount:M.length,defaultItemHeight:84,itemContent:(t,a)=>{const n=!!h&&(0,v.yw)(a,h),l=S.some((e=>(0,f.Wr)(a.address,e.address)&&a.brandName===e.brandName));return r.createElement(L,{key:`${a.address}-${a.type}-${a.brandName}`,onClick:()=>{A(a)},isSelected:n,isPined:l,item:a,isShowApprovalCount:e},a.address)}}),r.createElement("div",{onClick:()=>{o.replace(`${d.pathname}?action=add-address`)},className:(0,i.Z)("cursor-pointer rounded-[20px] h-[62px] p-[16px] flex items-center gap-[8px] text-rb-neutral-body","desktop-account-item","bg-rb-neutral-bg-3 hover:bg-rb-neutral-bg-2")},r.createElement(p.Zt,{className:"flex-shrink-0"}),r.createElement("div",{className:"text-[16px] leading-[19px] font-normal desktop-account-item-content truncate"},a("component.DesktopSelectAccountList.addAddresses"))))},L=({item:e,onClick:t,isSelected:a,isShowApprovalCount:n,isPined:c})=>{const m=(0,s.$y)(),u=(0,l.k6)(),g=(0,x.Z)({...e});return r.createElement("div",{className:"pb-[12px] group"},r.createElement("div",{className:(0,i.Z)("rounded-[20px] px-[15px] py-[11px] cursor-pointer flex items-center gap-[8px] min-h-[62px]","border-solid border-[0.5px]","desktop-account-item",a?"border-transparent bg-r-blue-light-2":"border-rb-neutral-line hover:bg-rb-neutral-bg-2"),onClick:t},r.createElement("img",{src:g,className:(0,i.Z)("w-[24px] h-[24px]"),alt:""}),r.createElement("div",{className:"flex flex-1 flex-col gap-[2px] min-w-0 desktop-account-item-content"},r.createElement("div",{className:"flex items-center gap-[4px]"},r.createElement("div",{className:(0,i.Z)("truncate",a?"text-[16px] leading-[19px] font-bold text-rb-neutral-title-1":"text-[16px] text-rb-neutral-body leading-[19px] font-medium")},e.alianName),r.createElement("div",{className:c?"":"opacity-0 group-hover:opacity-100",onClick:t=>{t.stopPropagation(),m.addressManagement.toggleHighlightedAddressAsync({address:e.address,brandName:e.brandName})}},r.createElement(C.Z,{className:"w-[16px] h-[16px]",src:c?w.r:N.r})),r.createElement("div",{className:"ml-auto opacity-0 group-hover:opacity-100 text-r-neutral-body cursor-pointer",onClick:t=>{t.preventDefault(),t.stopPropagation(),u.replace(`${u.location.pathname}?${(0,h.XW)({action:"address-detail",address:e.address,type:e.type,brandName:e.brandName,byImport:e.byImport||""})}`)}},r.createElement(p.Bu,null))),r.createElement("div",{className:"flex items-center"},r.createElement(o.u0,{address:e.address?.toLowerCase(),showArrow:!1,className:(0,i.Z)(a?"text-[12px] leading-[14px] text-rb-neutral-title-1":"text-[12px] leading-[14px] text-rb-neutral-foot")}),r.createElement(P.$,{copyIcon:d.Mx,addr:e.address,className:(0,i.Z)("w-[16px] h-[16px] ml-[2px] text-14"),copyClassName:(0,i.Z)(a?"text-rb-neutral-foot":"text-rb-neutral-secondary"),checkedClassName:(0,i.Z)("text-rb-green-default")}),r.createElement("div",{className:(0,i.Z)("ml-[10px] truncate flex-1 block",a?"text-[12px] leading-[14px] text-rb-neutral-title-1":"text-[12px] leading-[14px]  text-rb-neutral-foot")},"$",(0,f.V3)(e.balance?.toFixed(2)))))))}},744613:(e,t,a)=>{a.d(t,{Y:()=>c});var r=a(667294),n=a(658804),l=a(830785),o=a(386010),s=a(931097);const i=n.ZP.div.withConfig({displayName:"rabby--Root",componentId:"rabby--u8se0y"})`
  display: flex;
  align-items: center;

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  .step-btn {
    padding: 6px;
    color: var(--r-neutral-body, #3e495e);
    border: 1px solid var(--r-neutral-line, #e0e5ec);

    &:first-child {
      border-right: none;
      border-radius: 8px 0 0 8px;
    }
    &:last-child {
      border-left: none;
      border-radius: 0 8px 8px 0;
    }

    &:disabled {
      cursor: not-allowed;
      svg {
        opacity: 0.5;
      }
    }
  }

  .step-input-field {
    color: var(--r-neutral-title1, #192945);
    text-align: center;
    font-size: 13px;
    font-weight: 500;
    line-height: 16px;
    width: 64px;
    height: 34px;

    border: 1px solid var(--r-neutral-line, #e0e5ec);
    background-color: transparent;

    &:disabled {
      cursor: not-allowed;
    }

    &:focus {
      outline: none;
      border-color: var(--r-blue-default, #4c65ff);
    }
  }
`,c=({value:e,defaultValue:t,onChange:a,step:n=1,min:c,max:d,disabled:p=!1,className:m,maxTooltip:u})=>{const x=e!==undefined,[g,f]=(0,r.useState)(t!==undefined?t:e!==undefined?e:0);(0,r.useEffect)((()=>{x&&f(e)}),[e,x]);const b=e=>{if(null===e)return null;let t=Number.isFinite(e)?e:0;return c!==undefined&&(t=Math.max(c,t)),d!==undefined&&(t=Math.min(d,t)),t},h=e=>{const t=b(e);x||f(t),a&&a(t)},v=g??t??0,E=!p&&(c===undefined||v>c),y=!p&&(d===undefined||v<d);return r.createElement(i,{className:(0,o.Z)("step-input",m)},r.createElement("button",{type:"button",onClick:()=>{if(p)return;h((g??t??0)-n)},disabled:!E,"aria-label":"decrement",className:"step-btn"},r.createElement(l.Vh,null)),r.createElement("input",{type:"number",value:null===g?"":g,onChange:e=>{const t=e.target.value;if(""===t)return x||f(null),void(a&&a(null));const r=Number(t);Number.isNaN(r)||(x||f(r),a&&a(b(r)))},onBlur:()=>{h(null===g?null:g)},step:n,min:c,max:d,disabled:p,className:"step-input-field"}),u?r.createElement("button",{type:"button","aria-label":"increment",className:"step-btn"},r.createElement(s.Z,{placement:"top",overlayClassName:(0,o.Z)("rectangle"),title:u},r.createElement(l.Z3,{className:"opacity-50"}))):r.createElement("button",{type:"button",onClick:()=>{if(p)return;h((g??t??0)+n)},disabled:!y,"aria-label":"increment",className:"step-btn"},r.createElement(l.Z3,null)))}},456902:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{n:()=>d});var n=a(222638),l=a(700210),o=a(719174),s=a(667294),i=a(511588),c=e([l,i]);[l,i]=c.then?(await c)():c;const d=e=>{const t=(0,o.Os)(),[a,r]=(0,s.useState)(0),[c,d]=(0,s.useState)(!0),{prefetch:p,openUI:m,close:u,resetGasStore:x}=(0,i.y)(e),g=(0,n.Z)((()=>{x(),u(),l.UI.close(),r(0),d(!0)}));return{run:(0,n.Z)((async(a,n)=>{const o=[];g();const s=a.filter((e=>"tx"===e.kind)).map((e=>e.txs)).flat();p({...n,txs:s});for(let i=0;i<a.length;i++){const c=a[i];if("tx"===c.kind){const e=await m({...n,txs:s,pauseAfter:1});o.push(...e)}else{const a=await l.UI.start({txs:c.txs,config:{account:e.account,getContainer:n?.getContainer,mode:"UI",title:n?.title},wallet:t},{});o.push(...a),l.UI.close()}r(i+1)}return d(!1),o})),currentIndex:a,isSigning:c}};r()}catch(e){r(e)}}))},274531:(e,t,a)=>{a.d(t,{w:()=>l});var r=a(605708),n=a(719174);const l=(e,t)=>{const{address:a,chainServerId:l,tokenId:o}=e,s=(0,n.Os)(),{data:i}=(0,r.Z)((async()=>{if(a&&l&&o)return s.openapi.getToken(a,l,o)}),{refreshDeps:[a,l,o],cacheKey:`${a}-${l}-${o}`,staleTime:1e4,...t});return i}},729095:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>k});var n=a(667294),l=a(658804),o=a(748086),s=a(981325),i=a(17478),c=a(21233),d=a(719174),p=a(194575),m=a(52887),u=a(616625),x=a(511588),g=a(301922),f=a(49166),b=a(496486),h=e([x,g]);[x,g]=h.then?(await h)():h;const v=l.ZP.div.withConfig({displayName:"rabby--Wrapper",componentId:"rabby--100z35x"})`
  & > div {
    margin-left: 10px;
  }
`,E=({text:e,onClick:t,className:a})=>n.createElement("div",{className:`\n        cursor-pointer text-r-blue-default font-medium text-[12px] text-center\n        px-[12px] w-min\n        h-[24px] leading-[24px]\n        border-[0.5px] border-r-blue-default rounded-[6px]\n        hover:bg-r-blue-light1\n        ${a}\n      `,onClick:t},e),y=({logo:e,chain:t,title:a,description:r})=>n.createElement("div",{className:"flex flex-col items-center w-full justify-center mb-[-6px]"},n.createElement("div",{className:"flex items-center justify-center w-full"},n.createElement(p.x,{iconUrl:e,chainServerId:t||"eth",width:"24px",height:"24px",isShowChainTooltip:!0}),n.createElement("div",{className:"ml-[8px] font-medium text-[20px] text-r-neutral-title-1"},a)),!!r&&n.createElement("div",{className:"\n          text-[13px] font-medium text-r-blue-default text-center\n          px-[16px] py-[10px] mt-[16px] rounded-[8px] bg-r-blue-light1\n        "},r)),k=({data:e,chain:t,protocolLogo:a,protocolName:r,type:l})=>{const p=(0,c.t)(),h=(0,d.Os)(),{t:k}=(0,m.$G)(),{setVisible:w}=(0,d.Ew)(),{openUI:N,resetGasStore:P,close:C,updateConfig:S}=(0,x.y)({account:p}),_=(0,n.useMemo)((()=>"withdraw"===l?e?.find((e=>"withdraw"===e.type||"queue"===e.type)):e?.find((e=>"claim"===e.type))),[e,l]),M=(0,n.useMemo)((()=>"queue"===_?.type),[_?.type]),{valid:A,action:I}=(0,s.tW)(_,t),L=n.useRef({}),Z=(0,n.useCallback)((e=>{const t=e?.balance_change?.receive_token_list?.reduce(((e,t)=>e+(Number(t.usd_value)||0)),0);L.current={usdValueChange:t},e.pre_exec.success?S(e?.balance_change?.receive_nft_list?.length||e?.balance_change?.receive_token_list?.length||M?{disableSignBtn:!1}:{disableSignBtn:!0}):S({disableSignBtn:!0})}),[M]),T=(0,n.useMemo)((()=>(0,i.zj)(p?.type||"")),[p?.type]),O=(0,n.useCallback)((async(e,l)=>{L.current={};const s=Date.now(),i={tx_type:_?.type||"",chain:t||"",user_addr:p?.address||"",address_type:p?.type||"",protocol_name:r||"",app_version:"0.93.75",create_at:s},c=()=>{const e=L.current;return{simulation_result:"number"==typeof e.usdValueChange?e.usdValueChange:""}},d=await e();if(!d?.length)return;const m=async()=>{let e="";for(const t of d)e=await h.sendRequest({method:"eth_sendTransaction",params:[t]});f.Z.report("defiDirectTx",{...i,tx_id:e||"",tx_status:"success",...c()}),w(!1)};if(T&&p){P(),C();const e={txs:d,title:n.createElement(y,{logo:a,chain:t,title:l,description:M?k("component.DappActions.queueDescription"):undefined}),showSimulateChange:!0,disableSignBtn:!1,onPreExecChange:Z,onRedirectToDeposit:()=>{w(!1)},ga:{category:"DappActions",action:l}};try{const t=await N(e),a=(0,b.last)(t);return f.Z.report("defiDirectTx",{...i,tx_id:"string"==typeof a?a:"",tx_status:"success",...c()}),void w(!1)}catch(e){return void(e!==g.G9.USER_CANCELLED&&(console.error("Dapp action direct sign error",e),await m().catch((e=>{console.error("Dapp action fallback error",e);const t="string"==typeof e?.message?e.message:"Transaction failed";o.ZP.error(t)}))))}}try{await m()}catch(e){console.error("Transaction failed:",e),o.ZP.error("string"==typeof e?.message?e?.message:"Transaction failed")}}),[T,p,N,a,t,M,k,Z,r,_?.type,l,t,p?.address,w,h]);return A?n.createElement(v,null,n.createElement(E,{text:k("withdraw"===l?"component.DappActions.withdraw":"component.DappActions.claim"),onClick:()=>O(I,k("withdraw"===l?"component.DappActions.withdraw":"component.DappActions.claim"))})):n.createElement(u.B4.Ld,{key:`dapp-actions-${l}`,value:""})};r()}catch(e){r(e)}}))},169650:(e,t,a)=>{a.d(t,{y:()=>m});var r=a(960398),n=a(386010),l=a(667294),o=a(657754),s=a(52887),i=a(785765),c=a(291043),d=a(830785),p=a(691632);const m=({value:e,onChange:t,large:a})=>{const{t:m}=(0,s.$G)(),[u,x]=l.useState(!1),g=l.useMemo((()=>(0,c.Xj)(e)),[e]);return l.createElement(l.Fragment,null,l.createElement("div",{onClick:()=>{x(!0)}},g?l.createElement("div",{className:(0,n.Z)("bg-r-neutral-card1","flex items-center gap-[8px] cursor-pointer","px-[10px] h-[32px]","rounded-[8px]","border border-solid border-rabby-neutral-line","hover:border-rabby-blue-default hover:bg-r-blue-light1")},l.createElement("div",{className:(0,n.Z)("flex items-center gap-[6px] ","rounded-[8px]")},l.createElement("img",{src:g?.logo,className:"w-[16px] h-[16px] rounded-full"}),l.createElement("span",{className:"text-r-neutral-body text-[14px] leading-[17px] font-medium"},g?.name)),l.createElement("span",{className:(0,n.Z)("cursor-pointer text-r-neutral-foot"),onClick:e=>{e.preventDefault(),e.stopPropagation(),t?.(undefined)}},l.createElement(o.r,null))):l.createElement("div",{className:(0,n.Z)("flex items-center gap-[4px] cursor-pointer rounded-[8px] px-[6px] h-[32px] bg-rb-neutral-bg-3","text-[14px] leading-[18px] text-r-neutral-foot","border border-solid border-transparent","hover:border-rabby-blue-default hover:bg-r-blue-light1")},l.createElement("div",{className:(0,n.Z)("flex items-center")},[r.h.ETH,r.h.OP,r.h.BASE].map(((e,t)=>l.createElement("div",{className:(0,n.Z)("relative","p-2 rounded-[8px] bg-rb-neutral-bg-1"),style:{left:0-4*t}},l.createElement(p.Z,{chain:e,key:e,innerClassName:"w-[18px] h-[18px]"}))))),m("component.DesktopChainSelector.allChains"),l.createElement(d.RQ,null))),l.createElement(i.p,{visible:u,title:"Select chain",value:e,hideTestnetTab:!0,onChange:e=>{t?.(e),x(!1)},onCancel:()=>{x(!1)},maskStyle:{background:"rgba(0,0,0,0.3)",backdropFilter:"blur(8px)"},centered:!0}))}},597975:(e,t,a)=>{a.d(t,{T:()=>l});var r=a(667294),n=a(833642);const l=({title:e,description:t,reloadLabel:a,onReload:l,imageSrc:o})=>r.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-rb-neutral-bg-1"},r.createElement("div",{className:"flex flex-col items-center text-center gap-[8px] px-[24px]"},r.createElement("div",{className:"w-[40px] h-[40px] rounded-full bg-rb-neutral-bg-1 text-rb-neutral-foot flex items-center justify-center"},o?r.createElement("img",{src:o,alt:"",className:"w-[40px] h-[40px]"}):r.createElement(n.r,{className:"w-[20px] h-[20px]"})),r.createElement("div",{className:"text-[16px] leading-[19px] font-semibold text-rb-neutral-title-1"},e),r.createElement("div",{className:"text-[14px] leading-[17px] text-rb-neutral-foot"},t),r.createElement("button",{type:"button",className:"mt-[12px] h-[40px] px-[32px] rounded-[16px] bg-rb-brand-light-1 text-rb-brand-default text-[15px] font-semibold hover:bg-rb-brand-light-2",onClick:l},a)))},321243:(e,t,a)=>{a.d(t,{U:()=>p});var r=a(667294),n=a(658804);const l=n.ZP.div.withConfig({displayName:"rabby--IframeLoadingOverlay",componentId:"rabby--1irhzug"})`
  position: absolute;
  inset: 0;
  background: var(--rb-neutral-bg-1, #fff);
  display: flex;
  align-items: center;
  justify-content: center;
`,o=n.F4`
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
`,s=(n.ZP.div.withConfig({displayName:"rabby--IframeLoadingBar",componentId:"rabby--18kcpdb"})`
  position: absolute;
  left: 0;
  top: 0;
  height: 4px;
  width: 100%;
  background: linear-gradient(
    90deg,
    rgba(var(--rb-brand-default-rgb), 0.2) 0%,
    var(--rb-brand-default, #4c65ff) 50%,
    rgba(var(--rb-brand-default-rgb), 0.2) 100%
  );
  background-size: 200% 100%;
  animation: ${o} 5s ease-in-out infinite;
`,n.ZP.div.withConfig({displayName:"rabby--IframeLoadingContent",componentId:"rabby--fd5ewf"})`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  text-align: center;
`),i=n.ZP.div.withConfig({displayName:"rabby--IframeLoadingIcon",componentId:"rabby--1nic21o"})`
  width: 40px;
  height: 40px;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  background: var(--rb-neutral-bg-1, #fff);
  color: var(--rb-brand-default, #4c65ff);
`,c=n.ZP.img.withConfig({displayName:"rabby--IframeLoadingIconImage",componentId:"rabby--1l6k1gn"})`
  width: 100%;
  height: 100%;
  object-fit: cover;
`,d=n.ZP.div.withConfig({displayName:"rabby--IframeLoadingText",componentId:"rabby--f0l9hx"})`
  font-size: 16px;
  line-height: 19px;
  font-weight: 500;
  color: var(--r-neutral-foot, #6a7587);
  max-width: 240px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,p=({loadingLabel:e,icon:t})=>r.createElement(l,null,r.createElement(s,null,r.createElement(i,null,r.createElement(c,{src:t})),r.createElement(d,null,e)))},612800:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{b:()=>T});var n=a(667294),l=a(386010),o=a(658804),s=a(547886),i=a(547626),c=a(21233),d=a(174939),p=a(69390),m=a(439259),u=a(303291),x=a(721095),g=a(719174),f=a(52887),b=a(349569),h=a(363198),v=a(321243),E=a(597975),y=a(205686),k=a(448492),w=e([i]);i=(w.then?(await w)():w)[0];const N="rabby-dapp-iframe-handshake",P="rabby-dapp-iframe-sync-url",C=2e4,S=2e4,_=o.ZP.iframe.withConfig({displayName:"rabby--Iframe",componentId:"rabby--1m7b3pf"})`
  width: 100%;
  height: calc(100vh - 116px);
  min-height: 640px;
  border: 0;
  display: block;
  background: var(--rb-neutral-bg-1, #fff);
`,M=()=>"undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`,A=e=>{if(!e)return"";try{return new URL(e).origin}catch(e){return""}},I=e=>{if(!e)return"";try{const t=new URL(e);return["http:","https:"].includes(t.protocol)?t.toString():""}catch(e){return""}},L=e=>{if(!e)return"";try{return new URL(e).hostname}catch(e){return""}},Z="https://polymarket.com/",T=({isActive:e=!0})=>{const{isDarkTheme:t}=(0,y.r)(),a=(0,g.Os)(),r=(0,s.k6)(),o=(0,s.TH)(),{t:w}=(0,f.$G)(),T=(0,c.t)(),O=(0,n.useRef)(null),$=(0,n.useRef)(M()),z=(0,n.useRef)(null),[B,F]=n.useState(null),[D,R]=n.useState(!0),j=n.useRef(!1),[V,U]=(0,c.cY)({scene:"prediction"}),[H]=n.useState((()=>{const e=new URLSearchParams(o.search);return e.get("syncUrl")||e.get("url")||e.get("src")||Z})),{iframeSrc:W,action:G,syncUrlParam:q}=(0,n.useMemo)((()=>{const e=new URLSearchParams(o.search),t=e.get("syncUrl");return{iframeSrc:t||e.get("url")||e.get("src")||H,action:e.get("action"),syncUrlParam:t}}),[o.search]),K=(0,n.useMemo)((()=>A(W)),[W]),J=(0,n.useMemo)((()=>L(W)),[W]),Y=(0,n.useCallback)((e=>{const t=new URLSearchParams(o.search);e(t);const a=t.toString(),n=a?`${o.pathname}?${a}`:o.pathname;r.replace(n)}),[r,o.pathname,o.search]),Q=(0,n.useCallback)((e=>{Y((t=>t.set("action",e)))}),[Y]),X=(0,n.useCallback)((()=>{Y((e=>e.delete("action")))}),[Y]),ee=(0,n.useCallback)((()=>{window.location.reload()}),[]),{value:te}=(0,x.Z)((()=>T?.address?a.openapi.getPolyMarketPermission({id:T?.address}):Promise.resolve({has_permission:!1})),[]);te?.has_permission,(0,n.useEffect)((()=>{e&&"gnosis-queue"===G&&T?.type!==m.pY.GnosisKeyring&&X()}),[G,T?.type,X,e]);const ae=(0,n.useCallback)((t=>{const a=I(t);if(!a)return;if(z.current=a,!e)return;new URLSearchParams(o.search).get("syncUrl")!==a&&Y((e=>e.set("syncUrl",a)))}),[e,o.search,Y]),re=(0,n.useCallback)((()=>{const e=O.current?.contentWindow;e&&e.postMessage({type:N,token:$.current,rules:{debug:!0,timeouts:S,steps:u.j["https://polymarket.com"]},theme:t?"dark":"light"},K)}),[K,t]);return(0,n.useEffect)((()=>{if(!e||!D||B)return;const t=window.setTimeout((()=>{F("timeout"),R(!1)}),C);return()=>{window.clearTimeout(t)}}),[B,e,D]),(0,n.useEffect)((()=>{const e=e=>{const t=e.data;if(e.source,O.current?.contentWindow,e.data,t.token,$.current,t.type,e.source!==O.current?.contentWindow)return;if(!t||"object"!=typeof t)return;if(t.type!==P)return;if(!t.token)return re(),R(!1),F(null),void(j.current=!0);if(t.token!==$.current)return;ae(t?.payload?.url||t?.url||t?.syncUrl||t?.href)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[ae]),(0,n.useEffect)((()=>{e&&!q&&W&&ae(W)}),[W,e,q,ae]),(0,n.useEffect)((()=>{if(!e)return;const t=z.current;if(!t)return;new URLSearchParams(o.search).get("syncUrl")!==t&&Y((e=>e.set("syncUrl",t)))}),[e,o.search,Y]),window.$$iframeRef=O.current,n.createElement(n.Fragment,null,n.createElement(d.y,{className:"w-full h-full bg-rb-neutral-bg-1 px-[20px] pb-0"},n.createElement("div",{className:"main-content flex-1 pl-0"},n.createElement("div",{className:"layout-container flex items-center justify-between"},n.createElement(i.j,{onActionSelect:Q,showRightItems:!1}),n.createElement(k.z,{value:V,onChange:U,scene:"prediction"})),n.createElement("div",{className:"layout-container"},n.createElement("div",{className:""},n.createElement("div",{className:(0,l.Z)("border border-solid border-rb-neutral-line relative","rounded-[20px] overflow-hidden")},n.createElement(_,{allow:"clipboard-write",ref:O,src:H,onError:()=>{j.current||(R(!1),F("network"))}}),D&&!B&&!te?.has_permission&&n.createElement(v.U,{loadingLabel:w("page.dappIfame.openPolymarket"),icon:b.Z}),B&&!te?.has_permission&&n.createElement(E.T,{imageSrc:h.Z,title:w("page.dappIfame.networkErrorTitle"),description:J?w("page.dappIfame.networkErrorDescription",{site:J}):w("page.dappIfame.networkErrorDescriptionFallback"),reloadLabel:w("page.dappIfame.reload"),onReload:ee}),te&&!te?.has_permission&&n.createElement("div",{className:"absolute inset-0 bg-[rgba(0,0,0,0.5)] flex flex-col justify-center items-center gap-16"},n.createElement("div",{className:"p-[22px] bg-rb-brand-default rounded-[16px] "},n.createElement("div",{className:"text-rb-neutral-InvertHighlight text-20 font-medium flex items-center justify-center gap-8"},n.createElement(p.r,{viewBox:"0 0 24 24",width:24,height:24}),n.createElement("span",null,w("page.dappIfame.serviceUnavailable"))),n.createElement("div",{className:"text-rb-neutral-InvertHighlight text-14"},w("page.dappIfame.predictionNotSupported"))))))))))};r()}catch(e){r(e)}}))},303291:(e,t,a)=>{a.d(t,{j:()=>r});const r={"https://polymarket.com":[{wait:{path:[{css:"nav"},{within:!0},{text:"Log In",selector:"button"},{enabled:!0}]},action:{type:"click"}},{wait:{path:[{css:"#authentication-modal"},{within:!0},{attr:{selector:"svg path",name:"fill",value:"url(#paint0_linear_60607_36577)",mode:"equals"}},{closest:"button"},{enabled:!0}]},action:{type:"click"}}]}},214637:(e,t,a)=>{a.d(t,{b:()=>x});var r,n=a(667294),l=a(665037),o=a(719174),s=a(386010),i=a(52887);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c.apply(this,arguments)}function d(e){return n.createElement("svg",c({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=n.createElement("path",{d:"M13.333 6.667V3.751c0-.693 0-1.04-.146-1.253a.833.833 0 00-.547-.35c-.255-.043-.57.102-1.199.393L4.05 5.952c-.561.26-.842.389-1.047.59-.182.177-.32.394-.406.633-.096.271-.096.58-.096 1.198v4.128m11.25-.417h.008M2.5 9.334v5.5c0 .933 0 1.4.182 1.757.16.313.414.568.728.728.357.182.823.182 1.757.182h9.666c.934 0 1.4 0 1.757-.182.314-.16.569-.415.728-.728.182-.357.182-.824.182-1.757v-5.5c0-.934 0-1.4-.182-1.757a1.666 1.666 0 00-.728-.728c-.357-.182-.823-.182-1.757-.182H5.167c-.934 0-1.4 0-1.757.182-.314.16-.569.415-.728.728C2.5 7.934 2.5 8.4 2.5 9.334zm11.667 2.75a.417.417 0 11-.834 0 .417.417 0 01.834 0z",stroke:"#6A7587",strokeWidth:1.154,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p;var p=a(939191),m=a(244431),u=a.n(m);const x=({handleSetPopupType:e})=>{(0,l.$y)();const t=(0,l.L5)((e=>e.perps.clearinghouseState)),{t:a}=(0,i.$G)(),r=Number(t?.withdrawable||0),c=(0,l.L5)((e=>e.perps.localLoadingHistory)).length,m=(0,n.useCallback)((()=>{e("deposit")}),[e]);return n.createElement("div",{className:"flex items-center gap-[12px]"},Boolean(t)&&n.createElement("div",{className:"flex items-center gap-[8px] pl-[11px] pr-[7px] py-[7px] rounded-[16px] border border-rb-neutral-line"},n.createElement("div",{className:"flex items-center gap-[4px]"},n.createElement(d,null),n.createElement("div",{className:"flex items-start flex-col"},n.createElement("span",{className:"text-[15px] leading-[18px] font-medium text-r-neutral-title-1"},(0,o.xv)(r,u().ROUND_DOWN)))),n.createElement("button",{onClick:m,className:(0,s.Z)("ml-6 px-[12px] h-[28px] rounded-[6px] text-[15px] leading-[18px] font-medium flex items-center justify-center","bg-rb-brand-light-1 text-rb-brand-default")},a("page.perpsPro.accountActions.deposit")),c>0?n.createElement("div",{onClick:m,className:(0,s.Z)("px-[12px] h-[28px] rounded-[6px] text-[15px] leading-[18px] font-medium flex items-center gap-[8px] cursor-pointer justify-center","bg-rb-orange-light-1 text-rb-orange-default")},a("page.perpsPro.accountActions.pending"),n.createElement(p.D,{pendingCount:c})):null))}},645464:(e,t,a)=>{a.d(t,{w:()=>x});var r=a(665037),n=a(719174),l=a(535935),o=a(244431),s=a.n(o),i=a(386010),c=a(667294),d=a(52887),p=a(547886),m=a(302709),u=a(496486);const x=({handleSetPopupType:e})=>{const{t}=(0,d.$G)(),a=((0,p.k6)(),(0,r.L5)((e=>e.perps.clearinghouseState))),o=(0,c.useMemo)((()=>a?.assetPositions.reduce(((e,t)=>e+Number(t.position.unrealizedPnl||0)),0)||0),[a]),x=(0,c.useMemo)((()=>{const e=new(s())(a?.crossMaintenanceMarginUsed||0).div(new(s())(a?.marginSummary?.accountValue||1));return(0,u.isNaN)(e.toNumber())?"0%":(0,l.$3)(e.toNumber())}),[a]),g=(0,c.useMemo)((()=>Number(a?.marginSummary?.accountValue||0)-Number(o||0)),[a,o]),f=(0,c.useMemo)((()=>Number(a?.marginSummary?.totalNtlPos||0)/Number(a?.marginSummary?.accountValue||1)),[a]);return c.createElement("div",{className:"w-full h-full flex flex-col flex-shrink-0 overflow-hidden"},c.createElement("div",{className:"flex-1 overflow-auto p-[16px] min-h-0"},c.createElement("div",{className:"flex items-center gap-[8px] mb-[16px]"},c.createElement("button",{type:"button",className:(0,i.Z)("w-full bg-rb-neutral-bg-4 rounded-[8px] h-[32px] flex items-center justify-center hover:border-rb-brand-default border border-solid border-transparent","text-[12px] leading-[14px] font-medium text-r-neutral-title-1"),onClick:()=>{e("deposit")}},t("page.perpsPro.accountInfo.deposit")),c.createElement("button",{type:"button",className:(0,i.Z)("w-full bg-rb-neutral-bg-4 rounded-[8px] h-[32px] flex items-center justify-center hover:border-rb-brand-default border border-solid border-transparent","text-[12px] leading-[14px] font-medium text-r-neutral-title-1"),onClick:()=>{e("withdraw")}},t("page.perpsPro.accountInfo.withdraw"))),c.createElement("div",{className:"space-y-[8px] text-[12px] leading-[14px]"},c.createElement("div",{className:"flex items-center justify-between"},c.createElement(m.H,{needCursor:!1,tooltipText:t("page.perpsPro.accountInfo.accountEquityTip"),className:"text-r-neutral-title-1"},t("page.perpsPro.accountInfo.accountEquity")),c.createElement("div",{className:"text-r-neutral-title-1 font-medium"},(0,n.xv)(Number(a?.marginSummary?.accountValue||0),s().ROUND_DOWN))),c.createElement("div",{className:"flex items-center justify-between"},c.createElement(m.H,{tooltipText:t("page.perpsPro.accountInfo.balanceTip"),needCursor:!1,className:"text-r-neutral-title-1"},t("page.perpsPro.accountInfo.balance")),c.createElement("div",{className:"text-r-neutral-title-1 font-medium"},(0,n.xv)(g))),c.createElement("div",{className:"flex items-center justify-between"},c.createElement("div",{className:"text-rb-neutral-foot"},t("page.perpsPro.accountInfo.unrealizedPnl")),c.createElement("div",{className:(0,i.Z)("font-medium",o>=0?"text-rb-green-default":"text-rb-red-default")},o>=0?"+":"-",(0,n.xv)(Math.abs(o)))),c.createElement("div",{className:"flex items-center justify-between"},c.createElement(m.H,{needCursor:!1,tooltipText:t("page.perpsPro.accountInfo.crossMarginRatioTips"),className:"text-rb-neutral-foot"},t("page.perpsPro.accountInfo.crossMarginRatio")),c.createElement("div",{className:"text-r-neutral-title-1 font-medium"},x)),c.createElement("div",{className:"flex items-center justify-between"},c.createElement(m.H,{needCursor:!1,tooltipText:t("page.perpsPro.accountInfo.maintenanceMarginTips"),className:"text-rb-neutral-foot"},t("page.perpsPro.accountInfo.maintenanceMargin")),c.createElement("div",{className:"text-r-neutral-title-1 font-medium"},(0,n.xv)(Number(a?.crossMaintenanceMarginUsed||0)))),c.createElement("div",{className:"flex items-center justify-between"},c.createElement(m.H,{needCursor:!1,tooltipText:t("page.perpsPro.accountInfo.crossAccountLeverageTips"),className:"text-rb-neutral-foot"},t("page.perpsPro.accountInfo.crossAccountLeverage")),c.createElement("div",{className:"text-r-neutral-title-1 font-medium"},(0,u.isNaN)(f)?"0":f.toFixed(2),"x")))))}},185259:(e,t,a)=>{a.d(t,{A:()=>G});var r,n=a(667294),l=a(665037),o=a(386010);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s.apply(this,arguments)}function i(e){return n.createElement("svg",s({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=n.createElement("path",{d:"M8.002 1.672l-2.038 4.16-4.628.67L4.689 9.78l-.802 4.559 4.115-2.194 4.116 2.194-.796-4.559 3.347-3.278-4.603-.67-2.064-4.16z",fill:"#FF9F0A",stroke:"#FF9F0A",strokeLinejoin:"round"})))}a.p;var c=a(719174),d=a(830785);const p=({children:e,className:t="",scrollStep:a=200,showArrows:r=!0,arrowClassName:l=""})=>{const s=(0,n.useRef)(null),[i,c]=(0,n.useState)(!1),[p,m]=(0,n.useState)(!1),u=(0,n.useCallback)((()=>{if(!s.current)return;const{scrollLeft:e,scrollWidth:t,clientWidth:a}=s.current;c(e>0),m(e+a<t-1)}),[]);(0,n.useEffect)((()=>{const e=requestAnimationFrame((()=>{u()}));return()=>cancelAnimationFrame(e)}),[u,e]),(0,n.useEffect)((()=>{const e=s.current;return e&&(e.addEventListener("scroll",u),window.addEventListener("resize",u)),()=>{e&&e.removeEventListener("scroll",u),window.removeEventListener("resize",u)}}),[u]);return n.createElement(n.Fragment,null,r&&i&&n.createElement("div",{className:(0,o.Z)("flex-shrink-0 flex items-center justify-center w-20 h-20 cursor-pointer text-r-neutral-foot hover:text-r-neutral-title-1",l),onClick:()=>{s.current&&s.current.scrollBy({left:-a,behavior:"smooth"})}},n.createElement(d.RQ,{className:"text-rb-neutral-secondary rotate-90"})),n.createElement("div",{ref:s,className:(0,o.Z)("flex-1 flex overflow-x-auto scrollbar-hide whitespace-nowrap",t),style:{scrollbarWidth:"none",msOverflowStyle:"none"}},e),r&&p&&n.createElement("div",{className:(0,o.Z)("flex-shrink-0 flex items-center justify-center w-20 h-20 cursor-pointer text-r-neutral-foot hover:text-r-neutral-title-1",l),onClick:()=>{s.current&&s.current.scrollBy({left:a,behavior:"smooth"})}},n.createElement(d.RQ,{className:"text-rb-neutral-secondary -rotate-90"})))},m=({onSelectCoin:e})=>{const{favoritedCoins:t,marketDataMap:a}=(0,l.L5)((e=>e.perps)),r=t.length>0?t:["BTC","ETH","SOL"],s=(0,n.useMemo)((()=>r.filter((e=>Boolean(a[e]))).sort(((e,t)=>e.localeCompare(t)))),[r,a]);return n.createElement("div",{className:"flex w-full items-center gap-[4px] px-[16px] h-40 border-b border-solid border-rb-neutral-line overflow-x-hidden bg-rb-neutral-bg-1"},n.createElement(n.Fragment,null,n.createElement(i,{className:"mr-12"}),n.createElement(p,{className:"flex items-center gap-[24px]"},s.map((t=>{const r=a[t];if(!r)return null;const l=r.prevDayPx?(Number(r.markPx)-Number(r.prevDayPx))/Number(r.prevDayPx)*100:0,s=l>=0;return n.createElement("div",{key:t,className:"group flex items-center gap-[4px] cursor-pointer flex-shrink-0",onClick:()=>e(t)},n.createElement("span",{className:"text-[12px] font-medium text-r-neutral-title-1 group-hover:text-rb-brand-default transition-colors"},t),n.createElement("span",{className:"text-[12px] font-medium text-r-neutral-title-1 group-hover:text-rb-brand-default transition-colors"},"$",(0,c.V3)(Number(r.markPx))),n.createElement("span",{className:(0,o.Z)("text-[12px] font-medium",s?"text-r-green-default":"text-r-red-default")},s?"+":"",l.toFixed(2),"%"))})))))};var u,x=a(877983),g=a(216114),f=a(246751);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},b.apply(this,arguments)}function h(e){return n.createElement("svg",b({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u||(u=n.createElement("path",{d:"M8.002 1.672l-2.038 4.16-4.628.67L4.689 9.78l-.802 4.559 4.115-2.194 4.116 2.194-.796-4.559 3.347-3.278-4.603-.67-2.064-4.16z",stroke:"#6A7587",strokeLinejoin:"round"})))}a.p;var v=a(442707),E=a(434979),y=a(535935),k=a(349261),w=a(244431),N=a.n(w),P=a(52887),C=a(658804),S=a(278092);const _=(0,C.ZP)(x.Z).withConfig({displayName:"rabby--SearchInput",componentId:"rabby--wgh0ca"})`
  background-color: var(--r-neutral-card1, #fff) !important;
  &.ant-input-affix-wrapper-focused {
    border-color: var(--r-blue-default, #7084ff) !important;
  }
  .ant-input {
    background-color: transparent !important;
    color: var(--rb-neutral-title-1, #192945) !important;
  }
  height: 46px !important;
  border-radius: 6px !important;
  input::placeholder {
    color: var(--r-neutral-foot, #6a7587) !important;
  }
  &:hover {
    border-color: var(--r-blue-default, #7084ff) !important;
  }
  border-color: var(--r-neutral-line, #d3d8e0) !important;
`,M=e=>e.prevDayPx?(Number(e.markPx)-Number(e.prevDayPx))/Number(e.prevDayPx)*100:0,A=(0,n.memo)((({index:e,style:t,data:a})=>{const{items:r,favoritedCoins:l,lastFavoritedIndex:s,onSelectCoin:d,onToggleFavorite:p,setDropdownVisible:m,setSearchText:u}=a,x=r[e],g=l.includes(x.name),f=M(x),b=(v=x).prevDayPx?new(N())(v.markPx).minus(new(N())(v.prevDayPx)).toNumber():0;var v;const w=b>=0,P=e===s&&s>=0;return n.createElement("div",{style:t,className:(0,o.Z)(P&&"border-b border-solid border-rb-neutral-line")},n.createElement("div",{className:"flex items-center gap-[12px] px-[8px] h-full rounded-[4px] hover:bg-rb-neutral-bg-2 cursor-pointer",onClick:()=>{d(x.name),m(!1),u("")}},n.createElement("div",{className:"flex items-center gap-[8px] w-[180px] flex-shrink-0"},n.createElement("div",{className:"flex items-center justify-center w-[16px] h-[16px] flex-shrink-0",onClick:e=>p(x.name,e)},g?n.createElement(i,{className:"text-r-yellow-default"}):n.createElement(h,{className:"text-r-neutral-foot"})),n.createElement(E.H,{logoUrl:x.logoUrl,withDirection:!1,size:20}),n.createElement("div",null,n.createElement("span",{className:"text-[13px] font-medium text-r-neutral-title-1"},x.name),n.createElement("span",{className:"text-[13px] text-r-neutral-foot ml-4"},x.maxLeverage,"x"))),n.createElement("div",{className:"flex flex-1"},n.createElement("div",{className:"text-[13px] text-r-neutral-title-1 text-start flex-1"},"$",(0,c.V3)(Number(x.markPx))),n.createElement("div",{className:(0,o.Z)("text-[13px] text-start flex-[1.5]",w?"text-r-green-default":"text-r-red-default")},w?"+":"-","$",(0,c.V3)(Math.abs(b))," /"," ",w?"+":"",f.toFixed(2),"%"),n.createElement("div",{className:(0,o.Z)("text-[13px] text-r-neutral-title-1 text-start flex-1")},(0,y.T3)(Number(x.funding),4)),n.createElement("div",{className:"text-[13px] text-r-neutral-title-1 text-start flex-1"},(0,k.S)(Number(x.dayNtlVlm))),n.createElement("div",{className:"text-[13px] text-r-neutral-title-1 text-start flex-1"},(0,k.S)(Number(x.openInterest)*Number(x.markPx))))))}),((e,t)=>{const a=e.data.items[e.index],r=t.data.items[t.index];if(!a||!r)return!1;return e.index===e.data.lastFavoritedIndex==(t.index===t.data.lastFavoritedIndex)&&(a.name===r.name&&a.logoUrl===r.logoUrl&&a.markPx===r.markPx&&a.prevDayPx===r.prevDayPx&&a.funding===r.funding&&a.dayNtlVlm===r.dayNtlVlm&&a.openInterest===r.openInterest&&a.maxLeverage===r.maxLeverage&&e.data.favoritedCoins.includes(a.name)===t.data.favoritedCoins.includes(r.name)&&e.index===t.index)})),I=({coin:e,onSelectCoin:t})=>{const a=(0,l.$y)(),{t:r}=(0,P.$G)(),[s,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),[p,m]=(0,n.useState)("dayNtlVlm"),[u,x]=(0,n.useState)("desc"),b=(0,n.useRef)(null),h=(0,n.useRef)(null),y=(0,n.useRef)(null),{marketData:k,favoritedCoins:w,marketDataMap:N}=(0,l.L5)((e=>e.perps)),C=N[e.toUpperCase()];(0,n.useEffect)((()=>{s&&(d(""),setTimeout((()=>{y.current?.scrollTo(0),h.current?.focus()}),0))}),[s]);const I=(e,t)=>{t.stopPropagation(),a.perps.toggleFavoriteCoin(e)},L=(0,n.useCallback)((e=>{p===e?x("asc"===u?"desc":"asc"):(m(e),x("name"===e?"asc":"desc"))}),[p,u]),Z=(0,n.useMemo)((()=>{const e=c?k.filter((e=>e.name.toLowerCase().includes(c.toLowerCase()))):[...k];e.sort(((e,t)=>{let a,r;switch(p){case"name":a=e.name,r=t.name;break;case"markPx":a=Number(e.markPx),r=Number(t.markPx);break;case"change":a=M(e),r=M(t);break;case"funding":a=Number(e.funding),r=Number(t.funding);break;case"dayNtlVlm":a=Number(e.dayNtlVlm),r=Number(t.dayNtlVlm);break;case"openInterest":a=Number(e.openInterest)*Number(e.markPx),r=Number(t.openInterest)*Number(t.markPx);break;default:a=0,r=0}return"string"==typeof a&&"string"==typeof r?"asc"===u?a.localeCompare(r):r.localeCompare(a):"asc"===u?a-r:r-a}));return[...e.filter((e=>w.includes(e.name))),...e.filter((e=>!w.includes(e.name)))]}),[k,c,p,u,w]),T=(0,n.useMemo)((()=>{const e=Z.filter((e=>w.includes(e.name))).length,t=Z.some((e=>!w.includes(e.name)));return e>0&&t?e-1:-1}),[Z,w]),O=(0,n.useMemo)((()=>({items:Z,favoritedCoins:w,lastFavoritedIndex:T,onSelectCoin:t,onToggleFavorite:I,setDropdownVisible:i,setSearchText:d})),[Z,w,T,t]),$=(0,n.useCallback)((e=>p!==e?null:n.createElement("span",{className:"ml-[4px]"},"asc"===u?"↑":"↓")),[p,u]),z=(0,n.useMemo)((()=>n.createElement("div",{className:"bg-rb-neutral-bg-1 rounded-[8px] shadow-lg border border-solid border-rb-neutral-line w-[800px] h-[480px] overflow-hidden flex flex-col px-16 pt-16"},n.createElement(_,{prefix:n.createElement(v.r,{className:"text-r-neutral-foot"}),placeholder:r("page.perpsPro.chatArea.searchMarkets"),value:c,ref:h,spellCheck:!1,onChange:e=>d(e.target.value),allowClear:!0}),n.createElement("div",{className:"flex items-center gap-[12px] px-[8px] py-[12px]"},n.createElement("div",{className:(0,o.Z)("text-[13px] text-r-neutral-foot cursor-pointer hover:text-r-neutral-title-1 hover:font-medium transition-colors w-[180px] flex-shrink-0","name"===p&&"text-r-neutral-title-1 font-medium"),onClick:()=>L("name")},r("page.perpsPro.chatArea.symbol"),$("name")),n.createElement("div",{className:"flex flex-1"},n.createElement("div",{className:(0,o.Z)("text-[13px] text-r-neutral-foot cursor-pointer hover:text-r-neutral-title-1 hover:font-medium transition-colors text-start flex-1","markPx"===p&&"text-r-neutral-title-1 font-medium"),onClick:()=>L("markPx")},r("page.perpsPro.chatArea.lastPrice"),$("markPx")),n.createElement("div",{className:(0,o.Z)("text-[13px] text-r-neutral-foot cursor-pointer hover:text-r-neutral-title-1 hover:font-medium transition-colors text-start flex-[1.5]","change"===p&&"text-r-neutral-title-1 font-medium"),onClick:()=>L("change")},r("page.perpsPro.chatArea.24hChange"),$("change")),n.createElement("div",{className:(0,o.Z)("text-[13px] text-r-neutral-foot cursor-pointer hover:text-r-neutral-title-1 hover:font-medium transition-colors text-start flex-1","funding"===p&&"text-r-neutral-title-1 font-medium"),onClick:()=>L("funding")},r("page.perpsPro.chatArea.8hrFunding"),$("funding")),n.createElement("div",{className:(0,o.Z)("text-[13px] text-r-neutral-foot cursor-pointer hover:text-r-neutral-title-1 hover:font-medium transition-colors text-start flex-1","dayNtlVlm"===p&&"text-r-neutral-title-1 font-medium"),onClick:()=>L("dayNtlVlm")},r("page.perpsPro.chatArea.volume"),$("dayNtlVlm")),n.createElement("div",{className:(0,o.Z)("text-[13px] text-r-neutral-foot cursor-pointer hover:text-r-neutral-title-1 hover:font-medium  transition-colors text-start flex-1","openInterest"===p&&"text-r-neutral-title-1 font-medium"),onClick:()=>L("openInterest")},r("page.perpsPro.chatArea.openInterest"),$("openInterest")))),n.createElement("div",{ref:b,className:"flex-1"},n.createElement(S.t7,{ref:y,width:"100%",height:350,itemCount:Z.length,itemData:O,itemSize:48,className:"trades-container-no-scrollbar"},A)))),[Z,p,u,c,O,$,L,r]);return n.createElement(g.Z,{overlay:z,transitionName:"",visible:s,onVisibleChange:i,placement:"bottomLeft"},n.createElement("div",{className:"mr-32 flex items-center gap-[8px] cursor-pointer transition-colors py-[4px] rounded-[6px] min-w-[90px] justify-center"},n.createElement(E.H,{logoUrl:C?.logoUrl||"",withDirection:!1,size:24}),n.createElement("div",{className:"text-[20px] leading-[24px] font-bold text-r-neutral-title-1"},e),n.createElement(f.r,{className:"text-r-neutral-secondary"})))};var L=a(302709);const Z=({coin:e,onSelectCoin:t})=>{const{t:a}=(0,P.$G)(),{marketDataMap:r,wsActiveAssetCtx:s}=(0,l.L5)((e=>e.perps)),i=(()=>{const[e,t]=(0,n.useState)("");return(0,n.useEffect)((()=>{const e=()=>{const e=new Date,a=60*(59-e.getUTCMinutes())+(60-e.getUTCSeconds()),r=Math.floor(a/60),n=a%60,l=`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}`;t(l)};e();const a=setInterval(e,1e3);return()=>clearInterval(a)}),[]),e})(),d=(0,n.useMemo)((()=>s&&s.coin.toUpperCase()===e.toUpperCase()?s.ctx:r[e.toUpperCase()]||{}),[r,s,e]);(0,n.useEffect)((()=>{const t=d?.markPx;if(t){const a=(0,c.V3)(Number(t));document.title=`$${a} | ${e}-USD | Rabby`}return()=>{document.title="Rabby Wallet"}}),[e,d?.markPx]);const m=d.prevDayPx?Number(d.markPx)-Number(d.prevDayPx):0,u=d.prevDayPx?m/Number(d.prevDayPx)*100:0,x=m>=0,g=(f=d.prevDayPx,b=d.markPx,f?new(N())(b).minus(new(N())(f)).toNumber():0);var f,b;return n.createElement("div",{className:"flex items-center px-[16px] py-[4px] border-b border-solid border-rb-neutral-line"},n.createElement(I,{coin:e,onSelectCoin:t}),n.createElement(p,{className:"flex items-center gap-24"},n.createElement("div",{className:"flex flex-col"},n.createElement("div",null,n.createElement(L.H,{tooltipText:a("page.perpsPro.chatArea.markTips"),needCursor:!1,className:"text-[12px] leading-[18px] text-r-neutral-foot"},a("page.perpsPro.chatArea.mark"))),n.createElement("span",{className:"text-[12px] leading-[18px] text-r-neutral-title-1"},d.markPx?`$${(0,c.V3)(Number(d.markPx))}`:"-")),n.createElement("div",{className:"flex flex-col"},n.createElement("div",null,n.createElement(L.H,{tooltipText:a("page.perpsPro.chatArea.oracleTips"),needCursor:!1,className:"text-[12px] leading-[18px] text-r-neutral-foot"},a("page.perpsPro.chatArea.oracle"))),n.createElement("span",{className:"text-[12px] leading-[18px] text-r-neutral-title-1"},d.oraclePx?`$${(0,c.V3)(Number(d.oraclePx))}`:"-")),n.createElement("div",{className:"flex flex-col"},n.createElement("span",{className:"text-[12px] leading-[18px] text-r-neutral-foot"},a("page.perpsPro.chatArea.24hChange")),d.markPx&&d.prevDayPx?n.createElement("span",{className:(0,o.Z)("text-[12px] leading-[18px] font-medium",x?"text-r-green-default":"text-r-red-default")},x?"+":"-",`$${(0,c.V3)(Math.abs(g))}`," /"," ",x?"+":"",u.toFixed(2),"%"):n.createElement("span",{className:"text-[13px] leading-[18px] font-medium text-r-neutral-foot"},"-")),n.createElement("div",{className:"flex flex-col"},n.createElement("span",{className:"text-[12px] leading-[18px] text-r-neutral-foot"},a("page.perpsPro.chatArea.24hVol")),n.createElement("span",{className:"text-[12px] leading-[18px] text-r-neutral-title-1"},d.dayNtlVlm?`$${(0,c.V3)(Number(d.dayNtlVlm).toFixed(2))}`:"-")),n.createElement("div",{className:"flex flex-col"},n.createElement("div",null,n.createElement(L.H,{tooltipText:a("page.perpsPro.chatArea.openInterestTips"),needCursor:!1,className:"text-[12px] leading-[18px] text-r-neutral-foot"},a("page.perpsPro.chatArea.openInterest"))),n.createElement("span",{className:"text-[12px] leading-[18px] text-r-neutral-title-1"},d.openInterest&&d.markPx?`$${(0,c.V3)((Number(d.openInterest)*Number(d.markPx)).toFixed(2))}`:"-")),n.createElement("div",{className:"flex flex-col"},n.createElement("div",null,n.createElement(L.H,{tooltipText:a("page.perpsPro.chatArea.fundingTips"),needCursor:!1,className:"text-[12px] leading-[18px] text-r-neutral-foot"},a("page.perpsPro.chatArea.fundingCountdown"))),d.funding?n.createElement("span",{className:"text-[12px] leading-[18px]"},n.createElement("span",{className:(0,o.Z)("text-[12px] leading-[18px]",Number(d.funding)>0?"text-r-green-default":"text-r-red-default")},(0,y.T3)(Number(d.funding),4)),n.createElement("span",{className:"text-[12px] leading-[18px] text-r-neutral-foot"}," ","/ ",i)):n.createElement("span",{className:"text-[12px] leading-[18px] text-r-neutral-foot"},"-"))))};var T=a(570778),O=a(205686),$=a(362896),z=a(222638),B=a(447191);const F=e=>Math.floor(e),D=e=>String(e).padStart(2,"0"),R=e=>{if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return new Date(e);const{year:t,month:a,day:r}=e;return new Date(t,(a||1)-1,r||1)},j=()=>({locale:"en-US",formatHover:e=>(e=>{const t=R(e);return`${t.getFullYear()}-${D(t.getMonth()+1)}-${D(t.getDate())} ${D(t.getHours())}:${D(t.getMinutes())}`})(e),formatTick:(e,t)=>((e,t)=>{const a=e.getFullYear(),r=D(e.getMonth()+1),n=D(e.getDate()),l=D(e.getHours()),o=D(e.getMinutes()),s=D(e.getSeconds());switch(t){case T.lh.Year:return String(a);case T.lh.Month:return`${a}-${r}`;case T.lh.DayOfMonth:return`${r}-${n}`;case T.lh.TimeWithSeconds:return`${l}:${o}:${s}`;case T.lh.Time:return`${l}:${o}`;default:return`${a}-${r}-${n}`}})(R(e),t)}),V=e=>e&&Array.isArray(e)&&0!==e.length?e.map((e=>({time:F(Number(e.t)/1e3),open:Number(e.o),high:Number(e.h),low:Number(e.l),close:Number(e.c)}))):[],U=e=>e&&Array.isArray(e)&&0!==e.length?e.map((e=>{const t=Number(e.v||0);return{time:F(Number(e.t)/1e3),value:t,color:Number(e.c)>=Number(e.o)?"#0ECB8180":"#F6465D80"}})):[],H=[{label:"1M",value:"1m"},{label:"5M",value:"5m"},{label:"15M",value:"15m"},{label:"30M",value:"30m"},{label:"1H",value:"1h"},{label:"4H",value:"4h"},{label:"8H",value:"8h"},{label:"1D",value:"1d"},{label:"1W",value:"1w"}],W=({coin:e,interval:t})=>{const{marketDataMap:a,clearinghouseState:r,openOrders:s}=(0,l.L5)((e=>e.perps)),i=(0,n.useMemo)((()=>a[e.toUpperCase()]||{}),[a,e]),d=(0,n.useMemo)((()=>i.pxDecimals||2),[i]),p=(0,n.useRef)(null),m=(0,n.useRef)(null),u=(0,n.useRef)(null),x=(0,n.useRef)(null),g=(0,n.useRef)({}),f=(0,n.useRef)(!0),{isDarkTheme:b}=(0,O.r)(),h=(0,n.useMemo)((()=>{const t=s.find((t=>t.coin===e&&"Take Profit Market"===t.orderType&&t.isTrigger&&t.reduceOnly))?.triggerPx,a=s.find((t=>t.coin===e&&"Stop Market"===t.orderType&&t.isTrigger&&t.reduceOnly))?.triggerPx,n=r?.assetPositions.find((t=>t.position.coin===e))?.position.liquidationPx,l=r?.assetPositions.find((t=>t.position.coin===e))?.position.entryPx;return{tpPrice:Number(t||0),slPrice:Number(a||0),liquidationPrice:Number(Number(n||0).toFixed(d)),entryPrice:Number(l||0)}}),[i,d,s,r,e]),[v,E]=(0,n.useState)(t||"15m"),[y,k]=(0,n.useState)({visible:!1}),[w,N]=(0,n.useState)(null),[P,C]=(0,n.useState)(!1),[S,_]=(0,n.useState)(null),[M,A]=(0,n.useState)(!1),I=(0,n.useMemo)((()=>`${e}-${v}`),[e,v]),L=(0,n.useRef)(I),Z=(0,n.useMemo)((()=>b?{vertLineColor:"rgba(255, 255, 255, 0.1)",horzLineColor:"rgba(255, 255, 255, 0.1)",textColor:"rgba(247, 250, 252, 1)",priceLineColor:"rgba(255, 255, 255, 1)",crosshairVertLineColor:"rgba(186, 190, 197, 1)",bgColor:"transparent",redLineColor:"rgba(227, 73, 53, 1)",timeLabelBackgroundColor:"rgba(12, 15, 31, 1)",greenLineColor:"rgba(42, 187, 127, 1)"}:{vertLineColor:"rgba(46, 46, 46, 0.1)",horzLineColor:"rgba(46, 46, 46, 0.1)",textColor:"rgba(25, 41, 69, 1)",priceLineColor:"rgba(12, 15, 31, 1)",crosshairVertLineColor:"rgba(106, 117, 135, 1)",redLineColor:"rgba(227, 73, 53, 1)",greenLineColor:"rgba(42, 187, 127, 1)",timeLabelBackgroundColor:"rgba(255, 255, 255, 1)",bgColor:"transparent"}),[b]),F=(0,n.useMemo)((()=>j()),[]),D=(0,n.useCallback)((()=>{if(u.current&&m.current&&h){if(Object.values(g.current).forEach((e=>{e&&u.current.removePriceLine(e)})),g.current={},h.tpPrice&&h.tpPrice>0){const e=u.current.createPriceLine({price:h.tpPrice,color:Z.greenLineColor,lineWidth:1,lineStyle:2,axisLabelVisible:!0,title:"TP"});g.current.tp=e}if(h.entryPrice&&h.entryPrice>0){const e=u.current.createPriceLine({price:h.entryPrice,color:Z.greenLineColor,lineWidth:1,lineStyle:2,axisLabelVisible:!0,title:"Entry"});g.current.entry=e}if(h.slPrice&&h.slPrice>0){const e=u.current.createPriceLine({price:h.slPrice,color:Z.redLineColor,lineWidth:1,lineStyle:2,axisLabelVisible:!0,title:"SL"});g.current.sl=e}if(h.liquidationPrice&&h.liquidationPrice>0){const e=u.current.createPriceLine({price:h.liquidationPrice,color:Z.redLineColor,lineWidth:1,lineStyle:2,axisLabelVisible:!0,title:"LIQ"});g.current.liquidation=e}}}),[h.entryPrice,h.tpPrice,h.slPrice,h.liquidationPrice,Z]);(0,n.useEffect)((()=>{if(!p.current)return;m.current&&m.current.remove();const{width:e,height:t}=(()=>{if(!p.current)return{width:800,height:400};return{width:p.current.clientWidth||800,height:p.current.clientHeight||400}})(),a=(0,T.C2)(p.current,{width:e,height:t,layout:{background:{type:T.Mr.Solid,color:Z.bgColor},textColor:Z.textColor,attributionLogo:!0},crosshair:{mode:T.rM.Normal,vertLine:{visible:!0,color:Z.crosshairVertLineColor,labelBackgroundColor:Z.timeLabelBackgroundColor,width:1,style:3},horzLine:{visible:!0,labelVisible:!0,color:Z.crosshairVertLineColor,labelBackgroundColor:Z.timeLabelBackgroundColor,width:1,style:3}},grid:{vertLines:{color:Z.vertLineColor},horzLines:{color:Z.horzLineColor}},rightPriceScale:{borderVisible:!1,scaleMargins:{top:0,bottom:.3}},timeScale:{timeVisible:!0,secondsVisible:!1,borderVisible:!1,tickMarkFormatter:(e,t)=>F.formatTick(e,t)},localization:{priceFormatter:e=>Number(e).toFixed(d),timeFormatter:e=>F.formatHover(e)}}),r=a.addSeries(T.$Y,{upColor:"#0ECB81",downColor:"#F6465D",borderDownColor:"#F6465D",borderUpColor:"#0ECB81",wickDownColor:"#F6465D",wickUpColor:"#0ECB81",lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:Z.priceLineColor,priceLineStyle:2,priceFormat:{type:"price",precision:d,minMove:1e-7}}),n=a.addSeries(T.Jv,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"volume",lastValueVisible:!1,priceLineVisible:!1});a.priceScale("volume").applyOptions({scaleMargins:{top:.7,bottom:0},alignLabels:!1,autoScale:!0,mode:0,invertScale:!1,borderVisible:!1}),m.current=a,u.current=r,x.current=n,C(!0),a.subscribeCrosshairMove((e=>{if(e.point===undefined||!e.time||0!==e.paneIndex)return void k({visible:!1});const t=e.seriesData.get(r),a=e.seriesData.get(n);if(t){const r=t,n=a?.value||0,l=F.formatHover(e.time);k({time:l,open:r.open,high:r.high,low:r.low,close:r.close,volume:n,visible:!0,isPositiveChange:r.close-r.open>0,delta:r.close-r.open,deltaPercent:(r.close-r.open)/r.open})}}));const l=()=>{if(p.current&&m.current){const e=p.current.offsetWidth||800,t=p.current.offsetHeight||400;m.current.applyOptions({width:e,height:t})}};let o=null;p.current&&(o=new ResizeObserver((()=>{l()})),o.observe(p.current)),window.addEventListener("resize",l);const s=setTimeout((()=>{l()}),100);return()=>{clearTimeout(s),window.removeEventListener("resize",l),o&&o.disconnect(),Object.values(g.current).forEach((e=>{e&&u.current&&u.current.removePriceLine(e)})),g.current={},a.remove(),m.current=null,u.current=null,x.current=null,C(!1),A(!1)}}),[Z,d,F,b]);const R=(0,z.Z)((async(e,t)=>{const a=(0,$.$)(),{start:r,end:n}=(e=>{const t=Date.now();let a=0;switch(e){case"1m":case"5m":a=t-864e5;break;case"15m":case"30m":default:a=t-6048e5;break;case"1h":a=t-2592e6;break;case"4h":a=t-10368e6;break;case"8h":case"12h":a=t-20736e6;break;case"1d":a=t-31104e6;break;case"1w":a=0}return{start:a,end:t}})(t),l=`${e}-${t}`;try{const o=await a.info.candleSnapshot(e,t,r,n);if(!f.current)return;if(L.current!==l)return;const s=V(o),i=U(o);_({candles:s,volumes:i,dataKey:l})}catch(e){console.error("Failed to fetch candle data:",e)}})),W=(0,n.useMemo)((()=>y.visible?y:w),[y,w]);(0,n.useEffect)((()=>{const t=`${e}-${v}`;L.current=t,A(!1),_(null),R(e,v)}),[e,v,R]),(0,n.useEffect)((()=>{if(!P||!S||M)return;if(!u.current||!x.current)return;if(S.dataKey!==I)return;const{candles:e,volumes:t}=S;if(e.length>0){u.current.setData(e);const a=e[e.length-1],r=t[t.length-1]?.value||0;N({open:a.open,high:a.high,low:a.low,close:a.close,volume:r,visible:!1,isPositiveChange:a.close-a.open>0,delta:a.close-a.open,deltaPercent:(a.close-a.open)/a.open})}t.length>0&&x.current.setData(t),A(!0)}),[P,S,I,M]);const G=(0,z.Z)((()=>{const t=(0,$.$)();if(!u.current||!x.current)return;const{unsubscribe:a}=t.ws.subscribeToCandles(e,v,(e=>{if(!f.current||!u.current||!x.current)return;const t=V([e]),a=U([e]);if(t.length>0){u.current?.update(t[0]);const e=t[0],r=a[0]?.value||0;N({open:e.open,high:e.high,low:e.low,close:e.close,volume:r,visible:!1,isPositiveChange:e.close-e.open>0,delta:e.close-e.open,deltaPercent:(e.close-e.open)/e.open})}a.length>0&&x.current?.update(a[0])}));return()=>{a()}}));(0,n.useEffect)((()=>{if(!M||!u.current)return;const e=G();return()=>{e?.()}}),[M,G,e,v]),(0,n.useEffect)((()=>{M&&u.current&&m.current&&D()}),[D,M]),(0,n.useEffect)((()=>()=>{f.current=!1}),[]);return n.createElement("div",{className:"w-full h-full flex flex-col bg-rb-neutral-bg-1"},n.createElement("div",{className:(0,o.Z)("flex px-16 py-12 gap-8",(0,B.R2)()?"flex-col gap-4":"flex-row gap-8 items-center")},n.createElement("div",{className:"flex gap-8 flex-shrink-0"},H.map((e=>n.createElement("button",{key:e.value,onClick:()=>E(e.value),className:(0,o.Z)("px-10 py-4 text-12 rounded-[4px] font-medium transition-colors",v===e.value?"bg-r-blue-default text-white":"text-r-neutral-body hover:bg-r-neutral-bg3")},e.label)))),n.createElement("div",{className:"flex flex-wrap items-center gap-8 flex-shrink-0"},W?n.createElement(n.Fragment,null,n.createElement("div",{className:"flex flex-row items-center justify-center flex-shrink-0"},n.createElement("span",{className:"text-13 text-r-neutral-foot mr-2"},"O"),n.createElement("span",{className:(0,o.Z)("text-13 font-medium",W.isPositiveChange?"text-r-green-default":"text-r-red-default")},(0,c.V3)(W.open||0))),n.createElement("div",{className:"flex flex-row items-center justify-center flex-shrink-0"},n.createElement("span",{className:"text-13 text-r-neutral-foot mr-2"},"H"),n.createElement("span",{className:(0,o.Z)("text-13 font-medium",W.isPositiveChange?"text-r-green-default":"text-r-red-default")},(0,c.V3)(W.high||0))),n.createElement("div",{className:"flex flex-row items-center justify-center flex-shrink-0"},n.createElement("span",{className:"text-13 text-r-neutral-foot mr-2"},"L"),n.createElement("span",{className:(0,o.Z)("text-13 font-medium",W.isPositiveChange?"text-r-green-default":"text-r-red-default")},(0,c.V3)(W.low||0))),n.createElement("div",{className:"flex flex-row items-center justify-center flex-shrink-0"},n.createElement("span",{className:"text-13 text-r-neutral-foot mr-2"},"C"),n.createElement("span",{className:(0,o.Z)("text-13 font-medium",W.isPositiveChange?"text-r-green-default":"text-r-red-default")},(0,c.V3)(W.close||0))),n.createElement("div",{className:"flex flex-row items-center justify-center flex-shrink-0"},n.createElement("span",{className:"text-13 text-r-neutral-foot mr-2"},"V"),n.createElement("span",{className:(0,o.Z)("text-13 font-medium",W.isPositiveChange?"text-r-green-default":"text-r-red-default")},(0,c.V3)(Number(W.volume?.toFixed(2)||0)))),n.createElement("div",{className:"flex flex-row items-center justify-center flex-shrink-0"},n.createElement("span",{className:(0,o.Z)("text-13 font-medium",W.isPositiveChange?"text-r-green-default":"text-r-red-default")},W.isPositiveChange?"+":"-",(0,c.V3)(Math.abs(W.delta||0).toFixed(d))," ","(",W.isPositiveChange?"+":"-",`${(100*Math.abs(W.deltaPercent||0)).toFixed(2)}%`,")"))):null)),n.createElement("div",{ref:p,className:"flex-1"}))},G=()=>{const e=(0,l.$y)(),{selectedCoin:t,chartInterval:a}=(0,l.L5)((e=>e.perps)),r=t=>{e.perps.setSelectedCoin(t)};return n.createElement("div",{className:"h-full w-full bg-rb-neutral-bg-1 flex flex-col overflow-hidden"},n.createElement(m,{onSelectCoin:r}),n.createElement(Z,{coin:t,onSelectCoin:r}),n.createElement("div",{className:"flex-1 min-h-0"},n.createElement(W,{coin:t,interval:a})))}},302709:(e,t,a)=>{a.d(t,{H:()=>o});var r=a(931097),n=a(386010),l=a(667294);const o=l.forwardRef((({children:e,className:t,needCursor:a=!0,tooltipText:o,...s},i)=>o?l.createElement(r.Z,{overlayClassName:"rectangle",placement:"top",trigger:"hover",title:o},l.createElement("span",{ref:i,className:(0,n.Z)("relative inline-block",a&&"cursor-pointer",t),...s},e,l.createElement("span",{className:"absolute left-0 right-0 bottom-0",style:{borderBottom:"1px dashed currentColor"}}))):l.createElement("span",{ref:i,className:(0,n.Z)("relative inline-block",a&&"cursor-pointer",t),...s},e,l.createElement("span",{className:"absolute left-0 right-0 bottom-0",style:{borderBottom:"1px dashed currentColor"}}))))},939191:(e,t,a)=>{a.d(t,{D:()=>s});var r,n=a(667294);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}function o(e){return n.createElement("svg",l({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=n.createElement("path",{d:"M.875 9.875a9 9 0 109-9",stroke:"#FF9F0A",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p;const s=({pendingCount:e})=>n.createElement("div",{className:"w-20 h-20 flex items-center justify-center text-r-orange-default relative"},n.createElement("span",{className:"text-15 font-medium z-10"},e),n.createElement(o,{className:"absolute left-0 top-0 rounded-full animate-spin"}))},889474:(e,t,a)=>{a.d(t,{p:()=>f});var r=a(667294),n=a(665037),l=a(52887),o=a(386010),s=a(79357),i=a(719174),c=a(936846),d=a(203303),p=a(469776),m=a(825215),u=a(268987),x=a(398222);const g=({data:e})=>{const{time:t,type:a,status:n,usdValue:m,hash:u}=e,{t:x}=(0,l.$G)(),g=(0,r.useMemo)((()=>"deposit"===a||"receive"===a),[a]),f=(0,r.useMemo)((()=>"pending"===n?r.createElement(d.r,{className:"w-32 h-32 rounded-full animate-spin"}):g?r.createElement(s.Z,{src:c.r,className:"w-32 h-32 rounded-full"}):r.createElement(s.Z,{src:p.r,className:"w-32 h-32 rounded-full"})),[n,g]);return r.createElement("div",{className:(0,o.Z)("w-full bg-r-neutral-card1 rounded-[8px] px-12 py-10 flex items-center justify-between mb-8")},r.createElement("div",{className:"flex items-center"},f,r.createElement("div",{className:"flex flex-col ml-10"},r.createElement("div",{className:"text-15 text-r-neutral-title-1 font-medium"},x(g?"page.perps.deposit":"page.perps.withdraw")),"pending"===n?r.createElement("div",{className:"text-13 font-medium text-r-orange-default"},x("page.perps.pending")):r.createElement("div",{className:"text-13 font-medium text-r-neutral-foot"},(0,i.FT)(t/1e3)))),r.createElement("div",{className:"flex flex-col items-end"},r.createElement("div",{className:(0,o.Z)("text-15 font-medium",g?"text-r-green-default":"text-r-red-default")},g?"+":"-",`${(0,i.xv)(m)}`)))},f=({visible:e,onClose:t})=>{const{t:a}=(0,l.$G)(),{localLoadingHistory:o,userAccountHistory:i}=(0,n.L5)((e=>e.perps)),c=(0,r.useMemo)((()=>[...o,...i].sort(((e,t)=>t.time-e.time))),[o,i]);return e?r.createElement("div",{className:"absolute inset-0 bg-r-neutral-bg-2 z-10 flex flex-col"},r.createElement("div",{className:"px-20 pt-16 pb-12 flex items-center justify-between relative"},r.createElement("div",{className:"cursor-pointer p-4 -ml-4",onClick:t},r.createElement(u.r,{className:"w-20 h-20 rotate-180 text-r-neutral-title-1"})),r.createElement("h3",{className:"text-[20px] font-medium text-r-neutral-title-1 absolute left-1/2 -translate-x-1/2"},a("page.perps.history")),r.createElement("div",{className:"cursor-pointer p-4 -mr-4",onClick:t},r.createElement(x.tA,{className:"w-14 fill-current text-r-neutral-title-1"}))),r.createElement("div",{className:"flex-1 overflow-auto px-20 pb-20 trades-container-no-scrollbar"},c.length>0?c.map(((e,t)=>r.createElement(g,{key:`${e.hash}-${t}`,data:e}))):r.createElement("div",{className:"flex items-center justify-center gap-8 bg-r-neutral-bg-1 rounded-[8px] p-20 h-[120px] flex-col"},r.createElement(s.Z,{src:m.r,className:"w-24 h-24"}),r.createElement("div",{className:"text-13 text-r-neutral-foot"},a("page.gasAccount.history.noHistory"))))):null}},965380:(e,t,a)=>{a.d(t,{L:()=>E});var r=a(667294),n=a(748086),l=a(133860),o=a(52887),s=a(386010),i=a(950911),c=a(884278),d=a(719174),p=a(837559),m=a(674018),u=a(278092),x=a(222638),g=a(901234),f=a(665037),b=a(291043),h=a(960398),v=a(398222);const E=({visible:e,onCancel:t,onSelect:a,tokenList:E,tokenListLoading:y})=>{const{t:k}=(0,o.$G)(),w=(0,f.L5)((e=>e.bridge.supportedChains)),{getContainer:N}=(0,g.v)(),P=(0,d.Os)(),[C,S]=(0,r.useState)(!1),[_,M]=(0,r.useState)(null),A=(0,r.useMemo)((()=>{const e=[...E||[]];e.sort(((e,t)=>{const a=t.amount*t.price,r=e.amount*e.price,n=(0,b.GA)(e.chain)?.enum||h.h.ETH,l=(0,b.GA)(t.chain)?.enum||h.h.ETH,o=w.includes(n),s=w.includes(l);return o&&!s?-1:!o&&s?1:a-r}));const t=e.findIndex((e=>e.id===p.Cp&&e.chain===p.IZ));if(t>0){const[a]=e.splice(t,1);e.unshift(a)}else-1===t&&e.unshift(p.ON);return e}),[E,w]),I=(0,x.Z)((async e=>{if(!C)try{if(e.id===p.Cp&&e.chain===p.IZ)return void a(e);S(!0),M(e.id+e.chain);const t=await P.openapi.getPerpsBridgeIsSupportToken({token_id:e.id,chain_id:e.chain});if(t?.success)return a(e),S(!1),void M(null);n.ZP.error("not supported token, try other token"),S(!1),M(null)}catch(e){console.error("deposit handleClickToken error",e),S(!1),M(null)}})),L=(0,r.useCallback)((({index:e,data:t,style:a})=>{const n=t[e],l=!w.includes((0,b.GA)(n.chain)?.enum||h.h.ETH);return r.createElement("div",{key:n.id,style:a,className:(0,s.Z)("flex justify-between items-center h-[48px] mb-8 border border-transparent","bg-r-neutral-card1 rounded-[8px] px-16","text-13 font-medium text-r-neutral-title-1",l?"opacity-50":"cursor-pointer hover:border-rabby-blue-default hover:bg-r-blue-light-1"),onClick:()=>{l||I(n)}},r.createElement("div",{className:"flex items-center gap-12"},r.createElement(i.bd,{token:n,hideConer:!0,width:"24px",height:"24px"}),r.createElement("span",{className:"text-13 text-r-neutral-title-1 font-medium"},(0,m.EG)(n)),n.id===p.Cp&&n.chain===p.IZ&&r.createElement("div",{className:"text-12 font-medium text-r-blue-default bg-r-blue-light-1 rounded-[4px] px-6 py-2"},k("page.perps.directDeposit"))),r.createElement("div",{className:"text-13 text-r-neutral-title-1 font-medium"},C&&_===n.id+n.chain?r.createElement(c.r,{className:"w-16 h-16 animate-spin"}):(0,d.xv)(n.amount*n.price||0)))}),[I,C,k,_]);return r.createElement(i.GI,{visible:e,onCancel:t,height:460,isSupportDarkMode:!0,bodyStyle:{padding:0},destroyOnClose:!0,closable:!0,closeIcon:r.createElement(v.tA,{className:"w-14 fill-current text-r-neutral-title-1"}),keyboard:!1,push:!1,getContainer:N},r.createElement("div",{className:"flex flex-col h-full pt-16 px-16 bg-r-neutral-bg2 rounded-t-[16px]"},r.createElement("div",{className:"text-[20px] font-medium text-r-neutral-title-1 text-center mb-16"},k("page.perps.selectTokenToDeposit")),r.createElement("div",{className:"overflow-y-auto flex-1 relative"},y?r.createElement("div",{className:"flex flex-col items-center h-full w-full"},new Array(7).fill(null).map(((e,t)=>r.createElement("div",{key:t,className:"flex justify-between items-center h-[48px] mb-8 border border-transparent bg-r-neutral-card-1 rounded-[8px] px-16 w-full"},r.createElement("div",{className:"flex items-center gap-12"},r.createElement(l.Z.Avatar,{active:!0,size:24,shape:"circle"}),r.createElement(l.Z.Button,{active:!0,className:"h-[16px] block rounded-[8px]",style:{width:80}})),r.createElement("div",{className:"flex flex-col gap-4 items-end"},r.createElement(l.Z.Button,{active:!0,className:"h-[16px] block rounded-[8px]",style:{width:80}})))))):r.createElement(u.t7,{width:"100%",height:394,itemCount:A?.length||0,itemData:A,itemSize:56,className:"trades-container-no-scrollbar"},L))))}},957416:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{G:()=>A});var n=a(667294),l=a(757016),o=a(931097),s=a(133860),i=a(71577),c=a(52887),d=a(386010),p=a(398222),m=a(950911),u=a(268987),x=a(343886),g=a(79357),f=a(157786),b=a(244431),h=a.n(b),v=a(837559),E=a(674018),y=a(965380),k=a(254375),w=a(901234),N=a(665037),P=a(889474),C=a(939191),S=a(302709),_=e([k]);k=(_.then?(await _)():_)[0];const M=[{label:"25%",value:.25},{label:"50%",value:.5},{label:"75%",value:.75},{label:"Max",value:1}],A=({visible:e,type:t,onCancel:a})=>{const{t:r}=(0,c.$G)(),[b,_]=(0,n.useState)(!1),A=(0,N.L5)((e=>e.perps.localLoadingHistory)).length,{usdValue:I,setUsdValue:L,selectedToken:Z,tokenList:T,tokenListLoading:O,tokenSelectVisible:$,setTokenSelectVisible:z,isPreparingSign:B,isWithdrawLoading:F,quoteLoading:D,bridgeQuote:R,inputRef:j,availableBalance:V,depositMaxUsdValue:U,isDirectDeposit:H,estReceiveUsdValue:W,handlePercentageClick:G,handleTokenSelect:q,handleCloseTokenSelect:K,handleDepositClick:J,handleWithdrawClick:Y}=(0,k.l)(e,t,a),Q=(0,n.useMemo)((()=>{const e=Number(I)||0;return I?"withdraw"===t?e>Number(V)?{isValid:!1,error:"insufficient_balance",errorMessage:r("page.perps.insufficientBalance")}:e<2?{isValid:!1,error:"minimum_limit",errorMessage:r("page.perps.depositAmountPopup.minimumWithdrawSize")}:{isValid:!0,error:null}:e<5?{isValid:!1,error:"minimum_limit",errorMessage:r("page.perps.depositAmountPopup.minimumDepositSize")}:e>U?{isValid:!1,error:"insufficient_balance",errorMessage:r("page.perps.insufficientBalance")}:{isValid:!0,error:null}:{isValid:!1,error:null}}),[I,r,U,V,t]),X=(0,n.useMemo)((()=>Q.isValid),[Q.isValid]),ee=(0,n.useMemo)((()=>H||R?.duration&&R.duration<60?1:R?.duration?Math.ceil(R.duration/60):2),[R]),te=(0,n.useMemo)((()=>"deposit"!==t||Z?.id===v.Cp||!X||D||R?.tx?"":r("page.perps.depositAmountPopup.fetchQuoteFailed")),[R,D,t,Z,r,X]);return n.createElement(n.Fragment,null,n.createElement(l.Z,{visible:e,onCancel:a,footer:null,width:400,centered:!0,bodyStyle:{padding:0,height:"520px",maxHeight:"520px"},maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},closeIcon:b?null:n.createElement(p.tA,{className:"w-14 fill-current text-r-neutral-title-1"}),closable:!b,className:"modal-support-darkmode desktop-perps-deposit-withdraw-modal"},n.createElement(w.k,null,n.createElement("div",{className:"bg-r-neutral-bg-2 h-[520px] flex flex-col h-full relative overflow-hidden desktop-perps-deposit-withdraw-content"},n.createElement("div",{className:"px-20 pt-16 flex-1 pb-24"},n.createElement("div",{className:"flex items-center justify-center gap-8 mb-16 relative"},n.createElement("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 cursor-pointer",onClick:()=>_(!0)},A>0?n.createElement(C.D,{pendingCount:A}):n.createElement(x.r,{className:"w-20 h-20 text-r-neutral-title-1"})),n.createElement("h3",{className:"text-[20px] font-medium text-r-neutral-title-1 text-center"},r("deposit"===t?"page.perps.deposit":"page.perps.withdraw"))),n.createElement("div",{className:"bg-r-neutral-card1 rounded-[8px] px-20 py-20 mb-12"},n.createElement("div",{className:"flex flex-col items-center justify-center"},n.createElement("input",{ref:j,className:(0,d.Z)("text-[32px] font-medium bg-transparent border-none p-0 text-center w-full outline-none focus:outline-none",Q.error?"text-r-red-default":"text-r-neutral-title-1"),placeholder:"$0",value:I?`$${I}`:"",onChange:e=>{let t=e.target.value;t.startsWith("$")&&(t=t.slice(1)),(/^\d*\.?\d*$/.test(t)||""===t)&&L(t)}}),n.createElement("div",{className:"text-13 text-r-neutral-body mt-8"},"withdraw"===t?r("page.perps.availableBalance",{balance:(0,f.xv)(V,h().ROUND_DOWN)}):r("page.perps.balanceAvailable",{balance:(0,f.xv)(U,h().ROUND_DOWN)}))),n.createElement("div",{className:"flex items-center justify-center gap-8 mt-16"},M.map((e=>n.createElement("button",{key:e.value,onClick:()=>G(e.value),className:(0,d.Z)("px-20 h-[36px] flex items-center justify-center rounded-[8px] text-13 font-medium","hover:bg-rb-brand-light-1 hover:text-rb-brand-default","bg-r-neutral-bg-2 text-r-neutral-body")},e.label)))),(Q.errorMessage||te)&&n.createElement("div",{className:"text-13 text-r-red-default text-center mt-12"},Q.errorMessage||te)),n.createElement("div",{onClick:()=>{"deposit"===t&&z(!0)},className:(0,d.Z)("bg-r-neutral-card1 rounded-[8px] w-full flex items-center justify-between text-13 px-16 h-[48px] border border-solid border-transparent","deposit"===t&&"hover:border-rabby-blue-default cursor-pointer")},n.createElement("div",{className:"text-r-neutral-body text-13"},r("deposit"===t?"page.perps.depositAmountPopup.payWith":"page.perps.depositAmountPopup.receiveToken")),n.createElement("div",{className:"flex items-center"},n.createElement(m.bd,{token:Z||v.ON,hideConer:!0,width:"20px",height:"20px"}),n.createElement("div",{className:"text-r-neutral-title-1 font-medium text-13 ml-4"},"withdraw"===t?(0,E.EG)(v.ON):(0,E.EG)(Z||v.ON)),"deposit"===t&&n.createElement(g.Z,{className:"icon icon-arrow-right text-r-neutral-title-1 ml-4",src:u.r}))),n.createElement("div",{className:"mt-12 space-y-8"},"withdraw"===t&&n.createElement(n.Fragment,null,n.createElement("div",{className:"flex items-center justify-between text-13"},n.createElement(o.Z,{overlayClassName:(0,d.Z)("rectangle"),placement:"top",title:r("page.perps.depositAmountPopup.feeTipTooltip")},n.createElement(S.H,{className:"text-r-neutral-foot"},r("page.perps.depositAmountPopup.hyperliquidFeeLabel"))),n.createElement("span",{className:"text-r-neutral-title-1"},"$1")),n.createElement("div",{className:"flex items-center justify-between text-13"},n.createElement("span",{className:"text-r-neutral-foot"},r("page.perps.depositAmountPopup.estTimeLabel")),n.createElement("span",{className:"text-r-neutral-title-1"},"~5 min")),n.createElement("div",{className:"flex items-center justify-between text-13"},n.createElement("span",{className:"text-r-neutral-foot"},r("page.perps.depositAmountPopup.estReceiveLabel")),n.createElement("span",{className:"text-r-neutral-title-1"},I&&X?(0,f.xv)(Math.max(0,Number(I)-1)):"-"))),"deposit"===t&&X&&n.createElement(n.Fragment,null,n.createElement("div",{className:"flex items-center justify-between text-13"},H?n.createElement("span",{className:"text-r-neutral-foot"},r("page.perps.depositAmountPopup.estReceiveLabel")):n.createElement(o.Z,{overlayClassName:(0,d.Z)("rectangle"),placement:"top",title:r("page.perps.depositAmountPopup.estReceiveTooltipNoTime")},n.createElement(S.H,{className:"text-r-neutral-foot"},r("page.perps.depositAmountPopup.estReceiveLabel"))),D?n.createElement(s.Z.Button,{active:!0,className:"h-[16px] rounded-[4px]",style:{width:60}}):n.createElement("span",{className:"text-r-neutral-title-1"},te?"-":(0,f.xv)(W))),n.createElement("div",{className:"flex items-center justify-between text-13"},n.createElement("span",{className:"text-r-neutral-foot"},r("page.perps.depositAmountPopup.estTimeLabel")),D?n.createElement(s.Z.Button,{active:!0,className:"h-[16px] rounded-[4px]",style:{width:60}}):n.createElement("span",{className:"text-r-neutral-title-1"},te?"-":`~${ee} min`))))),n.createElement("div",{className:"border-t-[0.5px] border-solid border-rabby-neutral-line px-20 py-16"},n.createElement(i.Z,{loading:"deposit"===t?B:F,onClick:"deposit"===t?J:Y,disabled:!X||Boolean(te)||"deposit"===t&&!H&&D,size:"large",type:"primary",className:"w-full h-[44px] rounded-[8px] text-[14px] font-medium"},r("deposit"===t?"page.perps.deposit":"page.perps.withdraw")))),"deposit"===t&&n.createElement(y.L,{visible:$,onCancel:K,onSelect:q,tokenList:T,tokenListLoading:O}),n.createElement(P.p,{visible:b,onClose:()=>_(!1)}))))};r()}catch(e){r(e)}}))},254375:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{l:()=>A});var n=a(667294),l=a(748086),o=a(222638),s=a(719174),i=a(721095),c=a(584730),d=a(244431),p=a.n(d),m=a(893338),u=a.n(m),x=a(496486),g=a(603730),f=a(665037),b=a(837559),h=a(674018),v=a(189348),E=a(291043),y=a(439259),k=a(362896),w=a(17478),N=a(511588),P=a(301922),C=a(308581),S=a(901234),_=e([N,P,C]);[N,P,C]=_.then?(await _)():_;const M=u(),A=(e,t,a)=>{const{getContainer:r}=(0,S.v)(),d=(0,f.$y)(),m=(0,s.Os)(),u=(0,f.L5)((e=>e.perps.clearinghouseState)),_=(0,f.L5)((e=>e.perps.currentPerpsAccount)),[A,I]=(0,n.useState)(""),[L,Z]=(0,n.useState)(!1),[T,O]=(0,n.useState)(!1),[$,z]=(0,n.useState)(null),[B,F]=(0,n.useState)([]),[D,R]=(0,n.useState)(!1),[j,V]=(0,n.useState)(0),[U,H]=(0,n.useState)(!1),[W,G]=(0,n.useState)(null),[q,K]=(0,n.useState)(0),[J,Y]=(0,n.useState)(!1),[Q,X]=(0,n.useState)(null),[ee,te]=(0,n.useState)(null),ae=(0,n.useRef)(null),re=(0,n.useRef)(null),ne=u?.withdrawable||"0",{value:le}=(0,i.Z)((async()=>{if(!_?.address||!e||!$)return null;return await m.openapi.getToken(_.address,$?.chain,$?.id)}),[_?.address,e,$?.chain,$?.id]),{value:oe}=(0,i.Z)((async()=>{if(Number(u?.marginSummary?.accountValue))return!1;if(!_?.address||!e)return!1;const t=(0,k.$)(),{role:a}=await t.info.getUserRole(_.address);return"missing"===a}),[_?.address,e]),se=(0,n.useMemo)((()=>le||$||b.ON),[le,$]),ie=(0,n.useCallback)((async()=>{if(R(!0),!_?.address||!e||"withdraw"===t)return[];const a=await(0,v.x2)(_.address,m);R(!1),F(a);const r=a.find((e=>e.id===b.Cp&&e.chain===b.IZ));r&&z(r);const n=await(0,v.Zm)(_.address,m,undefined,!1,!1);return F(n),a}),[_?.address,e,m,t]);(0,n.useEffect)((()=>{e&&ie()}),[ie,e]),(0,n.useEffect)((()=>{e||(I(""),z(null),Z(!1),V(0),O(!1),G(null),K(0),Y(!1),te(null),X(null),H(!1))}),[e]),(0,n.useEffect)((()=>{if(e&&re.current&&!T&&$){const e=setTimeout((()=>{re.current?.focus()}),200);return()=>clearTimeout(e)}}),[e,T,$]),(0,n.useEffect)((()=>()=>{ae.current&&ae.current.abort()}),[]);const ce=(0,n.useMemo)((()=>$?.id===b.Cp&&$?.chain===b.IZ),[$]),de=(0,n.useMemo)((()=>ce?(0,h.T5)(se).toNumber():new(p())(se?.amount||0).times(new(p())(se?.price||0)).toNumber()),[se,ce]),pe=(0,n.useMemo)((()=>(0,E.GA)($?.chain||b.IZ)||null),[$?.chain]),me=(0,n.useMemo)((()=>!(!$||!$.chain)&&(0,s.Wr)($.id,pe?.nativeTokenAddress||"")),[$,pe?.nativeTokenAddress]),ue=(0,n.useMemo)((()=>pe?.nativeTokenDecimals||1e18),[pe?.nativeTokenDecimals]),xe=(0,n.useMemo)((()=>pe?.enum===y.h.ETH?1e6:2e6),[pe?.enum]),{value:ge}=(0,i.Z)((async()=>$?.chain?m.gasMarketV2({chainId:$.chain}):[]),[$?.chain]),fe=(0,n.useMemo)((()=>(0,w.zj)(_?.type||"")),[_?.type]),be=(0,o.Z)((()=>{Y(!1),G(null),K(0),te(null)})),he=(0,o.Z)((()=>{be(),I(""),K(0)})),ve=(0,o.Z)((async()=>{if(!e||"withdraw"===t||!$)return;const a=Number(A)||0;if(a<5||a>de)return;const r=se||b.ON;if(r.id===b.Cp){be();const e=b.uz,t=(0,E.Ed)({serverId:r.chain}),n=[{name:"transfer",type:"function",inputs:[{type:"address",name:"to"},{type:"uint256",name:"value"}]},[e,new(p())(a||0).multipliedBy(10**r.decimals).decimalPlaces(0,p().ROUND_DOWN).toFixed(0)]],l={chainId:t.id,from:_.address,to:r.id,value:"0x0",data:M.encodeFunctionCall(n[0],n[1]),isSend:!0};return K(a),G([l]),l}{Y(!0);const e=[];try{ae.current&&ae.current.abort();const t=new AbortController;ae.current=t;const n=a/r.price,l=new(p())(n).times(10**r.decimals).toFixed(0,1).toString(),o=await m.openapi.getPerpBridgeQuote({user_addr:_.address,from_chain_id:r.chain,from_token_id:r.id,from_token_raw_amount:l});let i=!1,c="0";const d=(0,E.Ed)({serverId:r.chain});r.id===d?.nativeTokenAddress?i=!0:(c=await m.getERC20Allowance(r.chain,r.id,o.approve_contract_id),i=new(p())(c).gte(new(p())(n).times(10**r.decimals)));let u=!1;if(d?.enum===y.h.ETH&&(0,s.Wr)(r.id,y.mI)&&0!==Number(c)&&!i&&(u=!0),t.signal.aborted)return;if(o.tx&&_){if(!i){if(u){const t=await m.approveToken(r.chain,r.id,o.approve_contract_id,0,{ga:{category:"Perps",source:"Perps",trigger:"Perps"}},undefined,undefined,!0,_);e.push(t.params[0])}const t=await m.approveToken(r.chain,r.id,o.approve_contract_id,l,{ga:{category:"Perps",source:"Perps",trigger:"Perps"}},undefined,undefined,!0,_);e.push(t.params[0])}te(o),K(oe?o.to_token_amount*b.ON.price-1:o.to_token_amount*b.ON.price);const t={from:o.tx.from,to:o.tx.to,value:o.tx.value,data:o.tx.data,chainId:o.tx.chainId,gasPrice:j||undefined};return e.push(t),G(e),Y(!1),X({from_chain_id:r.chain,from_token_id:r.id,from_token_amount:n,to_token_amount:o.to_token_amount,tx:o.tx}),o.tx}be()}catch(e){console.error("getPerpBridgeQuote error",e),be()}}}));(0,c.Z)(ve,300,[j,A,e,t,se,oe,$]);const Ee=(0,o.Z)((async e=>{if(e&&Q)try{await m.openapi.postPerpBridgeHistory({from_chain_id:Q.from_chain_id,from_token_id:Q.from_token_id,from_token_amount:Q.from_token_amount,to_token_amount:Q.to_token_amount,tx_id:e,tx:Q.tx}),X(null)}catch(e){console.error("postPerpBridgeQuote error",e)}})),ye=(0,o.Z)((async e=>{if(!e)return;const t=ee?.tx?"receive":"deposit";d.perps.setLocalLoadingHistory([{time:Date.now(),hash:e,type:t,status:"pending",usdValue:q.toString()}]),Ee(e)})),{openDirect:ke,close:we}=(0,N.y)({account:_}),Ne=(0,o.Z)((async()=>{if(W&&_)if(fe){H(!0),we();try{await d.account.changeAccountAsync(_);const e=await ke({txs:W,checkGasFeeTooHigh:!0,getContainer:".desktop-perps-deposit-withdraw-content",ga:{category:"Perps",source:"Perps",trigger:"Perps"},onPreExecError:()=>{Pe()}});e&&e.length>0&&(ye(e[e.length-1]),he(),a())}catch(e){if(e===P.G9.USER_CANCELLED)return;Pe()}finally{H(!1)}}else await Pe();else console.error("handleDepositClick No miniSignTx")})),Pe=(0,o.Z)((async()=>{if(W)try{const e=Promise.all(W.map((e=>m.sendRequest({method:"eth_sendTransaction",params:[e],$ctx:{ga:{category:"Perps",source:"Perps",trigger:"Perps"}}})))),t=await e,r=(0,x.last)(t);ye(r),he(),a()}catch(e){}else console.error("handleDepositFullSign No miniSignTx")})),Ce=(0,o.Z)((async(e,t)=>{if(!e||0===e.length)throw new Error("no signature, try later");let a=[];if(await d.account.changeAccountAsync(t),fe)C.UI.close(),a=await C.UI.start({txs:e.map((e=>({data:e,from:t.address,version:"V4"}))),config:{account:t,getContainer:".desktop-perps-deposit-withdraw-content"},wallet:m},{}),C.UI.close();else for(const r of e){const e=await m.sendRequest({method:"eth_signTypedDataV4",params:[t.address,JSON.stringify(r)]});a.push(e)}return a})),Se=(0,o.Z)((async()=>{const e=Number(A)||0;if(!(e<2)){Z(!0);try{const t=(0,k.$)();if(!_)throw new Error("No currentPerpsAccount address");if(!t.exchange)throw new Error("Hyperliquid no exchange client");const r=t.exchange.prepareWithdraw({amount:e.toString(),destination:_.address}),[n]=await Ce([r],_),l=await t.exchange.sendWithdraw({action:r.message,nonce:r.nonce||0,signature:n});d.perps.setLocalLoadingHistory([{time:Date.now(),hash:l.hash||"",type:"withdraw",status:"pending",usdValue:(e-1).toString()}]),d.perps.fetchClearinghouseState(),he(),a()}catch(t){console.error("Failed to withdraw:",t),l.ZP.error({duration:1.5,content:t.message||"Withdraw failed"}),g.Tb(new Error("PERPS Withdraw failed"+"account: "+JSON.stringify(_)+"amount: "+e+"error: "+JSON.stringify({error:t})))}finally{Z(!1)}}})),_e=(0,n.useCallback)((e=>{if("withdraw"===t){const t=new(p())(ne).times(e).decimalPlaces(2,p().ROUND_DOWN).toFixed();I(t)}else if(1===e){if(me&&ge){const e=e=>new(p())(se?.raw_amount_hex_str||0,16).gte(new(p())(xe).times(e)),t=ge?.find((e=>"normal"===e.level))?.price||0;if(e(t)){const e=(0,h.T5)(se).minus(new(p())(xe).times(t).div(10**ue));return I(e.times(se?.price||0).decimalPlaces(2,p().ROUND_DOWN).toFixed()),void V(t)}}V(0),I(ce?(0,h.T5)(se).toString():(0,h.T5)(se)?.times(se?.price||0).decimalPlaces(2,p().ROUND_DOWN).toFixed())}else{const t=new(p())(de).times(e).decimalPlaces(2,p().ROUND_DOWN).toFixed();I(t)}}),[t,ne,de,me,ge,se,xe,ue,ce]),Me=(0,n.useCallback)((e=>{z(e),O(!1),I("")}),[]),Ae=(0,n.useCallback)((()=>{O(!1)}),[]),Ie=(0,n.useCallback)((e=>{I(e)}),[]),Le=(0,n.useMemo)((()=>{if(ce)return new(p())(A).toNumber();const e=(ee?.to_token_amount||0)*b.ON.price;return oe?e-1:e}),[ee,oe,ce,A]);return{usdValue:A,setUsdValue:Ie,selectedToken:$,tokenList:B,tokenListLoading:D,tokenSelectVisible:T,setTokenSelectVisible:O,isPreparingSign:U,isWithdrawLoading:L,quoteLoading:J,bridgeQuote:ee,inputRef:re,availableBalance:ne,depositMaxUsdValue:de,isDirectDeposit:ce,estReceiveUsdValue:Le,tokenInfo:se,handlePercentageClick:_e,handleTokenSelect:Me,handleCloseTokenSelect:Ae,handleDepositClick:Ne,handleWithdrawClick:Se}};r()}catch(e){r(e)}}))},927875:(e,t,a)=>{a.d(t,{V:()=>o});var r=a(667294),n=a(877983);const l=(0,a(658804).ZP)(n.Z).withConfig({displayName:"rabby--StyledInput",componentId:"rabby--55l0yv"})`
  input::-webkit-inner-spin-button,
  input::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  &.ant-input-affix-wrapper {
    border-radius: 8px;
    border: 1px solid var(--rb-neutral-line, #e0e5ec);
    background: var(--rb-neutral-bg-1, #fff);
    padding: 11px;
    line-height: 1;

    .ant-input {
      background: transparent;
      border: none;
      border-radius: 0;
      box-shadow: none;
      font-size: 13px;
      line-height: 16px;
      color: var(--rb-neutral-title-1, #111827);
      font-weight: 500;

      &::placeholder {
        color: var(--rb-neutral-foot, #6b7280);
        opacity: 1;
      }
    }

    &.text-right .ant-input {
      text-align: right;
    }
  }
`,o=e=>r.createElement(l,{placeholder:"0",...e})},660378:(e,t,a)=>{a.d(t,{H:()=>s});var r=a(205686),n=a(664913),l=a(667294);const o=(0,a(658804).ZP)(n.Z).withConfig({displayName:"rabby--StyledSlider",componentId:"rabby--froch3"})`
  .ant-slider-rail {
    background-color: ${({isDark:e})=>e?"var(--rb-neutral-bg-2)":"var(--r-neutral-line)"};
  }

  &:hover .ant-slider-rail {
    background-color: var(--r-blue-light-2);
  }

  .ant-slider-track,
  &:hover .ant-slider-track {
    background: var(--r-blue-default, #7084ff);
  }

  &:hover > .ant-slider-handle {
    border: none !important;
    box-shadow: none !important;
  }

  .ant-slider-handle {
    margin-top: -14px;
    width: 32px;
    height: 32px;
    background-color: transparent;
    overflow: hidden;
    border: none;
    box-shadow: none;

    &::before,
    &::after {
      position: absolute;
      content: '';
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border-radius: 50%;
    }

    &::before {
      width: 16px;
      height: 16px;
      background-color: white;
      filter: drop-shadow(0px 2px 4px rgba(112, 132, 255, 0.4));
    }

    &::after {
      width: 12px;
      height: 12px;
      background-color: var(--r-blue-default, #7084ff);
    }

    &:hover {
      border: none;
      box-shadow: none;

      &::before {
        width: 20px;
        height: 20px;
      }

      &::after {
        width: 16px;
        height: 16px;
      }
    }
  }

  .ant-slider-dot {
    width: 12px;
    height: 12px;
    border: 6px solid var(--rb-neutral-line);
    background-color: var(--rb-neutral-line);
    top: -4px;
  }

  .ant-slider-dot-active {
    border-color: var(--r-blue-default, #7084ff);
  }

  &:hover .ant-slider-dot {
    border-color: var(--r-blue-light-2);
  }

  &:hover .ant-slider-dot-active {
    border-color: var(--r-blue-default, #7084ff);
  }
`,s=e=>{const{isDarkTheme:t}=(0,r.r)();return l.createElement(o,{...e,tooltipVisible:!1,isDark:t})}},975845:(e,t,a)=>{a.d(t,{M:()=>Z});var r,n,l,o=a(667294),s=a(386010),i=a(52887),c=a(665037),d=a(362896),p=a(719174),m=a(216114),u=a(384503);function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},x.apply(this,arguments)}function g(e){return o.createElement("svg",x({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fill:"#FF453A",d:"M5 3h6v8H5z"})),n||(n=o.createElement("path",{fill:"#E0E5EC",d:"M13 3h6v6h-6zM13 10h6v5h-6zM13 16h6v5h-6z"})),l||(l=o.createElement("path",{fill:"#58C669",d:"M5 13h6v8H5z"})))}a.p;var f,b;function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},h.apply(this,arguments)}function v(e){return o.createElement("svg",h({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),f||(f=o.createElement("path",{fill:"#E0E5EC",d:"M13 3h6v6h-6zM13 10h6v5h-6zM13 16h6v5h-6z"})),b||(b=o.createElement("path",{fill:"#58C669",d:"M5 3h6v18H5z"})))}a.p;var E,y;function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},k.apply(this,arguments)}function w(e){return o.createElement("svg",k({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E||(E=o.createElement("path",{fill:"#E0E5EC",d:"M13 3h6v6h-6zM13 10h6v5h-6zM13 16h6v5h-6z"})),y||(y=o.createElement("path",{fill:"#FF453A",d:"M5 3h6v18H5z"})))}a.p;var N=a(478051),P=a(439259),C=a(830785),S=a(447191),_=a(205686);const M=({latestTrade:e})=>{const{t}=(0,i.$G)(),{selectedCoin:a,marketDataMap:r,wsActiveAssetCtx:n,isInitialized:l,marketEstSize:x,quoteUnit:f}=(0,c.L5)((e=>e.perps)),{isDarkTheme:b}=(0,_.r)(),h=(0,c.$y)(),[E,y]=(0,o.useState)("Both"),[k,M]=(0,o.useState)(0),[A,I]=(0,o.useState)([]),[L,Z]=(0,o.useState)([]),T=(0,o.useMemo)((()=>n&&n.coin.toUpperCase()===a.toUpperCase()?n.ctx:r[a.toUpperCase()]),[r,a,n]),O=(0,o.useMemo)((()=>r[a.toUpperCase()]?.szDecimals??5),[T,a]),$=(0,o.useMemo)((()=>n&&n.coin.toUpperCase()===a.toUpperCase()?Number(n.ctx.markPx||0):Number(T?.markPx||0)),[n,T,a]),z=(0,o.useMemo)((()=>{if(!$||!l)return[];return(0,S.yH)($,O).map((e=>({nSigFigs:e.nSigFigs,mantissa:e.mantissa,label:e.displayPrice.toString()})))}),[O,a,l]);(0,o.useEffect)((()=>{M(0)}),[a]);const B=(0,o.useMemo)((()=>z[k]||z[0]),[k,z]);(0,o.useEffect)((()=>{if(!a)return;const e=(0,d.$)(),t=z[k],{unsubscribe:r}=e.ws.subscribeToL2Book({coin:a,nSigFigs:t?.nSigFigs||5,mantissa:t?.mantissa||undefined},(e=>{if(e&&e.levels){const t=[];let a=0;for(const r of e.levels[0]||[]){const e=r.px,n=Number(r.sz);a+=n,t.push({price:e,size:n,total:a})}const r=[];let n=0;for(const t of e.levels[1]||[]){const e=t.px,a=Number(t.sz);n+=a,r.push({price:e,size:a,total:n})}I(t),Z(r)}}));return()=>{r()}}),[a,k,z]);const F=(0,o.useCallback)((e=>"usd"===f&&T?(0,p.V3)((e*Number(T.markPx)).toFixed(0)):(0,p.V3)(e.toFixed(O))),[f,T,O]),D=(0,o.useCallback)((e=>{N.Z.emit(P.FP.PERPS.HANDLE_CLICK_PRICE,e.toString())}),[]),R=(e,t,a)=>{const r=a>0?e.total/a*100:0;return o.createElement("div",{key:`${t}-${e.price}`,onClick:()=>D(Number(e.price)),className:(0,s.Z)("relative flex items-center justify-between px-[12px] h-[24px] text-[12px] cursor-pointer group",b?"hover:bg-r-neutral-card-1":"hover:bg-rb-neutral-bg-0")},o.createElement("div",{className:(0,s.Z)("absolute left-0 top-0 bottom-0 transition-[width] duration-200 ease-out","bid"===t?"bg-rb-green-light-1":"bg-rb-red-light-1"),style:{width:`${r}%`}}),o.createElement("div",{className:"relative z-10 grid grid-cols-10 items-center justify-between w-full"},o.createElement("span",{className:(0,s.Z)("font-medium col-span-3 text-left group-hover:font-bold","bid"===t?"text-rb-green-default":"text-rb-red-default")},(0,p.V3)(e.price)),o.createElement("span",{className:"text-r-neutral-title-1 font-medium col-span-3 text-right"},F(e.size)),o.createElement("span",{className:"text-r-neutral-title-1 font-medium col-span-4 text-right"},F(e.total))))},{displayAsks:j,displayBids:V}=(0,o.useMemo)((()=>"Both"===E?{displayAsks:L.slice(0,11).reverse(),displayBids:A.slice(0,11)}:"Asks"===E?{displayAsks:L.reverse(),displayBids:[]}:{displayAsks:[],displayBids:A}),[E,L,A]);(0,o.useEffect)((()=>{if(!x)return;let e="";const t=Number(x)>0?A:L;for(const a of t)if(a.total>=Math.abs(Number(x))){e=a.price;break}e||(e=t[t.length-1].price),h.perps.patchState({marketEstPrice:e})}),[x,L,A]);const U=(0,o.useMemo)((()=>{const e=V.length>0?Math.max(...V.map((e=>e.total))):0,t=j.length>0?Math.max(...j.map((e=>e.total))):0;return Math.max(e,t)}),[V,j]);T?.prevDayPx&&(Number(T.markPx),Number(T.prevDayPx));return o.createElement("div",{className:"h-full flex flex-col bg-rb-neutral-bg-1 whitespace-nowrap"},o.createElement("div",{className:"flex items-center justify-between px-[12px] py-[6px] flex-shrink-0"},o.createElement("div",{className:"flex items-center gap-[8px]"},o.createElement("button",{className:(0,s.Z)("opacity-50","Both"===E?"opacity-100":"text-r-neutral-foot hover:opacity-100"),onClick:()=>y("Both"),title:t("page.perpsPro.orderBook.viewBoth")},o.createElement(g,{className:"w-[24px] h-[24px]"})),o.createElement("button",{className:(0,s.Z)("opacity-50","Bids"===E?"opacity-100":"text-r-neutral-foot hover:opacity-100"),onClick:()=>y("Bids"),title:t("page.perpsPro.orderBook.viewBids")},o.createElement(v,{className:"w-[24px] h-[24px]"})),o.createElement("button",{className:(0,s.Z)("opacity-50","Asks"===E?"opacity-100":"text-r-neutral-foot hover:opacity-100"),onClick:()=>y("Asks"),title:t("page.perpsPro.orderBook.viewAsks")},o.createElement(w,{className:"w-[24px] h-[24px]"}))),o.createElement("div",{className:"flex items-center gap-12"},o.createElement(m.Z,{transitionName:"",forceRender:!0,overlay:o.createElement(u.Z,{className:"bg-r-neutral-bg1",onClick:e=>h.perps.updateQuoteUnit(e.key)},o.createElement(u.Z.Item,{className:"text-r-neutral-title1 hover:bg-r-blue-light1",key:"base"},a),o.createElement(u.Z.Item,{className:"text-r-neutral-title1 hover:bg-r-blue-light1",key:"usd"},"USD"))},o.createElement("button",{type:"button",className:(0,s.Z)("inline-flex items-center justify-between","px-[8px] py-[8px] flex-1 gap-[6px] h-24","border border-rb-neutral-line rounded-[6px]","hover:border-rb-brand-default border border-solid border-transparent","text-[12px] leading-[14px] font-medium text-rb-neutral-title-1")},"base"===f?a:"USD",o.createElement(C.o5,{className:"text-rb-neutral-secondary"}))),o.createElement(m.Z,{forceRender:!0,transitionName:"",overlay:o.createElement(u.Z,{className:"bg-r-neutral-bg1",onClick:e=>M(e.key)},z.map(((e,t)=>o.createElement(u.Z.Item,{className:"text-r-neutral-title1 hover:bg-r-blue-light1",key:t},e.label))))},o.createElement("button",{type:"button",className:(0,s.Z)("inline-flex items-center justify-between","px-[8px] py-[8px] flex-1 gap-[6px] h-24","border border-rb-neutral-line rounded-[6px]","hover:border-rb-brand-default border border-solid border-transparent","text-[12px] leading-[14px] font-medium text-rb-neutral-title-1")},B?.label||"",o.createElement(C.o5,{className:"text-rb-neutral-secondary"}))))),o.createElement("div",{className:"grid grid-cols-10 px-[12px] py-[5px] text-[11px] text-r-neutral-foot flex-shrink-0"},o.createElement("span",{className:"col-span-3 text-left"},t("page.perpsPro.orderBook.price")),o.createElement("span",{className:"col-span-3 text-right"},t("page.perpsPro.orderBook.amount")," (","base"===f?a:"USD",")"),o.createElement("span",{className:"col-span-4 text-right"},t("page.perpsPro.orderBook.total")," (","base"===f?a:"USD",")")),o.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},("Both"===E||"Asks"===E)&&o.createElement("div",{className:(0,s.Z)("overflow-y-auto gap-2 flex flex-col",{"flex-1":"Both"===E})},j.map((e=>R(e,"ask",U)))),Boolean(e?.price)&&o.createElement("div",{className:"flex items-center justify-between px-[12px] h-40"},o.createElement("div",{className:"flex items-center gap-[6px]"},o.createElement("span",{className:(0,s.Z)("text-[20px] font-bold","buy"===e?.side?"text-rb-green-default":"text-rb-red-default")},(0,p.V3)(e?.price||0)),o.createElement("span",{className:(0,s.Z)("text-[16px] text-rb-neutral-secondary font-medium")},(0,p.V3)($)))),("Both"===E||"Bids"===E)&&o.createElement("div",{className:(0,s.Z)("overflow-y-auto gap-2 flex flex-col",{"flex-1":"Both"===E})},V.map((e=>R(e,"bid",U))))))};var A=a(727484),I=a.n(A);const L=({trades:e,selectedCoin:t})=>{const{t:a}=(0,i.$G)();return o.createElement("div",{className:"h-full flex flex-col bg-rb-neutral-bg-1"},o.createElement("div",{className:"flex items-center justify-between px-[8px] py-[6px] text-[11px] text-r-neutral-foot flex-shrink-0"},o.createElement("span",{className:"min-w-[60px] text-left"},a("page.perpsPro.orderBook.price")," (USD)"),o.createElement("span",{className:"min-w-[90px] text-right"},a("page.perpsPro.orderBook.amount")," (",t,")"),o.createElement("span",{className:"min-w-[60px] text-right"},a("page.perpsPro.orderBook.time"))),o.createElement("div",{className:"flex-1 overflow-y-auto trades-container-no-scrollbar"},0===e.length?o.createElement("div",{className:"flex items-center justify-center h-full text-r-neutral-foot text-[12px]"},a("page.perpsPro.orderBook.noTrades")):e.map(((e,t)=>{return o.createElement("div",{key:`${e.time}-${t}`,onClick:()=>{return t=e.price,void N.Z.emit(P.FP.PERPS.HANDLE_CLICK_PRICE,t);var t},className:"flex items-center justify-between px-[8px] py-[4px] text-[12px] hover:bg-rb-neutral-bg-2 cursor-pointer group"},o.createElement("span",{className:(0,s.Z)("min-w-[60px] text-left cursor-pointer group-hover:font-bold","buy"===e.side?"text-rb-green-default":"text-rb-red-default")},(0,p.V3)(e.price)),o.createElement("span",{className:"min-w-[90px] text-right text-r-neutral-title-1"},(0,p.V3)(e.size)),o.createElement("span",{className:"min-w-[60px] text-right text-r-neutral-title-1"},(a=e.time,I()(a).format("HH:mm:ss"))));var a}))))},Z=()=>{const{t:e}=(0,i.$G)(),{selectedCoin:t}=(0,c.L5)((e=>e.perps)),[a,r]=(0,o.useState)("orderbook"),[n,l]=(0,o.useState)([]);(0,o.useEffect)((()=>{if(!t)return;const e=(0,d.$)(),{unsubscribe:a}=e.ws.subscribeToTrades(t,(e=>{if(e&&Array.isArray(e)){const t=e.reverse().map((e=>({time:e.time,price:e.px,size:e.sz,side:"B"===e.side?"buy":"sell"})));l((e=>[...t,...e].slice(0,300)))}}));return()=>{a()}}),[t]);const p=(0,o.useMemo)((()=>n[0]),[n]);return o.createElement("div",{className:"h-full w-full bg-rb-neutral-bg-1 flex flex-col overflow-hidden"},o.createElement("div",{className:"relative flex border-b border-solid border-rb-neutral-line flex-shrink-0 h-40"},o.createElement("button",{className:(0,s.Z)("flex-1 px-[16px] items-center justify-center text-[12px] font-medium transition-colors","orderbook"===a?"text-r-blue-default":"text-r-neutral-foot hover:text-r-blue-default"),onClick:()=>r("orderbook")},e("page.perpsPro.orderBook.title")),o.createElement("button",{className:(0,s.Z)("flex-1 px-[16px] items-center justify-center text-[12px] font-medium transition-colors","trades"===a?"text-r-blue-default":"text-r-neutral-foot hover:text-r-blue-default"),onClick:()=>r("trades")},e("page.perpsPro.orderBook.trades")),o.createElement("div",{className:(0,s.Z)("absolute bottom-0 h-[2px] bg-rb-brand-default transition-transform duration-300 ease-out","w-1/2"),style:{transform:`translateX(${"orderbook"===a?"0%":"100%"})`}})),o.createElement("div",{className:"flex-1 overflow-hidden"},"orderbook"===a?o.createElement(M,{latestTrade:p}):o.createElement(L,{trades:n,selectedCoin:t})))}},22906:(e,t,a)=>{a.d(t,{A:()=>p});var r=a(719174),n=a(386010),l=a(667294),o=a(52887),s=a(434979),i=a(244431),c=a.n(i),d=a(35781);const p=({position:e,marketData:t,isShowPnl:a=!0})=>{const{t:i}=(0,o.$G)(),p=e.direction;return l.createElement("div",{className:"flex items-center p-12 mb-12 h-[78px] bg-r-neutral-card1 rounded-[8px] gap-8 flex-col"},l.createElement("div",{className:"flex items-center justify-between w-full"},l.createElement("div",{className:"flex items-center gap-6"},l.createElement(s.H,{logoUrl:t?.logoUrl,size:28}),l.createElement("span",{className:"text-[16px] font-bold text-rb-neutral-title-1"},e.coin)),l.createElement("div",{className:"flex flex-row gap-4"},l.createElement("span",{className:"text-[16px] leading-[20px] font-bold text-rb-neutral-title-1"},(0,r.xv)(e.marginUsed||0)),l.createElement("span",{className:"text-[16px] leading-[20px] font-medium text-rb-neutral-foot"},"(",(0,r.V3)(new(c())(e.size||"0").abs().toFixed())," ",e.coin,")"))),l.createElement("div",{className:"flex items-center justify-between w-full"},l.createElement("div",{className:"flex items-center gap-4"},l.createElement("div",{className:(0,n.Z)("px-4 h-[18px] rounded-[4px] text-12 font-medium flex items-center justify-center","Long"===p?"bg-rb-green-light-1 text-rb-green-default":"bg-rb-red-light-1 text-rb-red-default")},p," ",e.leverage,"x"),l.createElement(d.f,{isLong:"Long"===p,percent:e.liquidationDistancePercent})),l.createElement("div",{className:"flex flex-col items-end gap-4"},a?l.createElement("span",{className:(0,n.Z)("text-[14px] leading-[18px] font-medium",Number(e.unrealizedPnl)>=0?"text-rb-green-default":"text-rb-red-default")},Number(e.unrealizedPnl)>=0?"+":"-","$",(0,r.V3)(Math.abs(Number(e.unrealizedPnl||0)).toFixed(2))):l.createElement("span",null))))}},892733:(e,t,a)=>{a.d(t,{A:()=>_});var r,n,l,o=a(667294),s=a(386010),i=a(362896);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c.apply(this,arguments)}function d(e){return o.createElement("svg",c({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("mask",{id:"IconTwitter_svg__a",fill:"#fff"},o.createElement("path",{d:"M14.6 3h2.454l-5.36 5.93L18 17h-4.937l-3.867-4.895L4.771 17H2.316l5.733-6.343L2 3h5.063l3.495 4.473L14.6 3zm-.86 12.579h1.36L6.323 4.347H4.865l8.875 11.232z"}))),n||(n=o.createElement("path",{d:"M14.6 3h2.454l-5.36 5.93L18 17h-4.937l-3.867-4.895L4.771 17H2.316l5.733-6.343L2 3h5.063l3.495 4.473L14.6 3zm-.86 12.579h1.36L6.323 4.347H4.865l8.875 11.232z",fill:"currentColor"})),l||(l=o.createElement("path",{d:"M14.6 3v-8h-3.553L8.664-2.364 14.6 3zm2.454 0l5.935 5.364L35.069-5H17.053v8zm-5.36 5.93L5.759 3.566l-4.51 4.99 4.141 5.3 6.304-4.926zM18 17v8h16.404l-10.1-12.926L18 17zm-4.937 0l-6.278 4.959L9.188 25h3.875v-8zm-3.867-4.895l6.278-4.96L9.607-.28 3.261 6.74l5.935 5.365zM4.771 17v8h3.552l2.383-2.635L4.77 17zm-2.455 0l-5.935-5.364L-15.697 25H2.316v-8zm5.733-6.343l5.935 5.364 4.534-5.018-4.192-5.306-6.277 4.96zM2 3v-8h-16.516L-4.277 7.96 2 3zm5.063 0l6.304-4.925L10.965-5H7.063v8zm3.495 4.473L4.254 12.4l5.86 7.499 6.38-7.061-5.936-5.364zm3.182 8.106l-6.277 4.96 2.402 3.04h3.875v-8zm1.36 0v8h16.404l-10.1-12.926-6.304 4.926zM6.323 4.347L12.627-.58l-2.403-3.074H6.323v8zm-1.458 0v-8h-16.517l10.24 12.96 6.277-4.96zM14.6 3v8h2.454V-5H14.6v8zm2.454 0l-5.935-5.364-5.36 5.93 5.935 5.364 5.935 5.364 5.36-5.93L17.054 3zm-5.36 5.93L5.39 13.856l6.306 8.07L18 17l6.304-4.926-6.306-8.07-6.304 4.926zM18 17V9h-4.937v16H18v-8zm-4.937 0l6.278-4.959-3.867-4.895-6.278 4.959-6.278 4.959 3.867 4.895L13.063 17zm-3.867-4.895L3.261 6.74l-4.425 4.895L4.771 17l5.935 5.365 4.425-4.895-5.935-5.365zM4.771 17V9H2.316v16h2.455v-8zm-2.455 0l5.935 5.364 5.733-6.343-5.935-5.364-5.935-5.365-5.733 6.344L2.316 17zm5.733-6.343l6.277-4.96-6.049-7.656L2 3l-6.277 4.96 6.049 7.656 6.277-4.96zM2 3v8h5.063V-5H2v8zm5.063 0L.759 7.925 4.254 12.4l6.304-4.926 6.304-4.925-3.495-4.473L7.063 3zm3.495 4.473l5.936 5.364 4.042-4.473L14.6 3 8.664-2.364 4.622 2.11l5.936 5.363zm3.182 8.106v8h1.36v-16h-1.36v8zm1.36 0l6.304-4.926L12.627-.58 6.323 4.347.019 9.273l8.777 11.232 6.304-4.926zM6.323 4.347v-8H4.865v16h1.458v-8zm-1.458 0l-6.277 4.96 8.875 11.232 6.277-4.96 6.277-4.96L11.142-.613l-6.277 4.96z",fill:"currentColor",mask:"url(#IconTwitter_svg__a)"})))}a.p;var p;function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m.apply(this,arguments)}function u(e){return o.createElement("svg",m({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p||(p=o.createElement("path",{d:"M16.238 4.161a14.606 14.606 0 00-3.664-1.159.054.054 0 00-.034.005.057.057 0 00-.025.023c-.158.287-.333.661-.456.957a13.433 13.433 0 00-4.115 0 9.759 9.759 0 00-.463-.957.059.059 0 00-.025-.024A.056.056 0 007.422 3a14.594 14.594 0 00-3.664 1.16.053.053 0 00-.024.02C1.4 7.74.76 11.21 1.074 14.636a.064.064 0 00.024.043 14.817 14.817 0 004.494 2.318.056.056 0 00.063-.02c.348-.482.655-.993.92-1.527a.06.06 0 00-.01-.068.055.055 0 00-.02-.013 9.746 9.746 0 01-1.405-.683.06.06 0 01-.006-.097c.095-.072.19-.148.28-.223a.055.055 0 01.058-.008c2.945 1.372 6.135 1.372 9.045 0a.054.054 0 01.06.007c.09.076.183.152.278.224a.06.06 0 01-.004.097 9.112 9.112 0 01-1.405.682.056.056 0 00-.033.034.06.06 0 00.002.048c.27.534.58 1.043.92 1.526.006.01.016.017.027.02a.056.056 0 00.035.002 14.769 14.769 0 004.502-2.319.06.06 0 00.024-.042c.375-3.962-.629-7.404-2.662-10.454a.046.046 0 00-.023-.022zM7.015 12.55c-.886 0-1.618-.832-1.618-1.851 0-1.02.717-1.851 1.618-1.851.908 0 1.632.837 1.618 1.85 0 1.021-.717 1.852-1.618 1.852zm5.981 0c-.887 0-1.617-.832-1.617-1.851 0-1.02.716-1.851 1.617-1.851.908 0 1.632.837 1.618 1.85 0 1.021-.71 1.852-1.618 1.852z",fill:"currentColor"})))}a.p;var x;function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},g.apply(this,arguments)}function f(e){return o.createElement("svg",g({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),x||(x=o.createElement("path",{d:"M7.997 3.556L5.325 6.228c-.146.146-.219.22-.304.272a.844.844 0 01-.244.1c-.097.024-.2.024-.407.024H2.903c-.472 0-.709 0-.89.092a.844.844 0 00-.368.369c-.092.18-.092.417-.092.89v4.052c0 .472 0 .709.092.89.08.158.21.287.369.368.18.092.417.092.89.092H4.37c.206 0 .31 0 .407.024.086.02.168.054.244.1.085.053.158.126.304.272l2.672 2.672c.362.362.543.543.698.555a.422.422 0 00.354-.147c.101-.118.101-.374.101-.885V4.033c0-.51 0-.767-.1-.885a.422.422 0 00-.355-.147c-.155.013-.336.193-.698.555zM15.56 5C16.466 6.407 17 8.134 17 10s-.534 3.593-1.44 5M13 7.143c.506.81.802 1.795.802 2.857A5.388 5.388 0 0113 12.857",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p;var b;function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},h.apply(this,arguments)}function v(e){return o.createElement("svg",h({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),b||(b=o.createElement("path",{d:"M7.997 3.556L5.325 6.228c-.146.146-.219.22-.304.272a.844.844 0 01-.244.1c-.097.024-.2.024-.407.024H2.903c-.472 0-.709 0-.89.092a.844.844 0 00-.368.369c-.092.18-.092.417-.092.89v4.052c0 .472 0 .709.092.89.08.158.21.287.369.368.18.092.417.092.89.092H4.37c.206 0 .31 0 .407.024.086.02.168.054.244.1.085.053.158.126.304.272l2.672 2.672c.362.362.543.543.698.555a.422.422 0 00.354-.147c.101-.118.101-.374.101-.885V4.033c0-.51 0-.767-.1-.885a.422.422 0 00-.355-.147c-.155.013-.336.193-.698.555zM19.113 6.96l-6.078 6.079m0-6.078l6.078 6.078",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p;var E;function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},y.apply(this,arguments)}function k(e){return o.createElement("svg",y({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E||(E=o.createElement("path",{d:"M7.5 14.167h5m-5-2.5h5M10.832 2.5l-.271-.001h-3.73c-.933 0-1.4 0-1.756.182-.314.16-.569.414-.728.728-.182.356-.182.823-.182 1.757v9.666c0 .934 0 1.4.182 1.757.16.314.414.569.728.729.356.181.823.181 1.754.181h6.339c.931 0 1.397 0 1.753-.181.314-.16.57-.415.73-.73.18-.355.18-.821.18-1.753V7.771 7.5m-4.999-5c.238.003.388.012.531.046.17.041.334.108.483.2.168.103.312.247.6.535l2.605 2.605c.288.288.431.432.534.6.092.15.16.312.2.482.035.143.044.294.046.532m-4.999-5v2.334c0 .933 0 1.4.181 1.756.16.314.415.569.729.729.356.181.822.181 1.754.181h2.335",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p;var w=a(52887),N=a(719174),P=a(665037),C=a(831221);const S=({online:e})=>{const{t}=(0,w.$G)();return o.createElement("div",{className:(0,s.Z)("flex items-center justify-center gap-4 h-[18px] px-[8px] rounded-[4px] border border-solid text-[12px] font-medium",e?"border-rb-green-default text-rb-green-default bg-rb-green-light-1":"border-rb-neutral-line text-rb-neutral-secondary bg-rb-neutral-bg-2")},o.createElement("span",{className:(0,s.Z)("w-[6px] h-[6px] rounded-full",e?"bg-rb-green-default":"bg-rb-neutral-secondary")}),o.createElement("span",null,t(e?"page.perpsPro.statusBar.online":"page.perpsPro.statusBar.offline")))},_=()=>{const e=(0,P.L5)((e=>e.perps.soundEnabled)),t=(0,P.$y)(),[a,r]=(0,o.useState)(!0),{t:n}=(0,w.$G)();(0,o.useEffect)((()=>{const e=(0,i.$)(),t=()=>{r(e.ws.isConnected??!0)};t();const a=setInterval(t,5e3);return()=>clearInterval(a)}),[]);const l=e?f:v;return o.createElement("div",{className:"fixed bottom-0 left-0 right-0 h-[32px] border-t border-solid border-rb-neutral-line bg-rb-neutral-bg-1 flex items-center justify-between px-[16px] w-full z-30"},o.createElement("div",{className:"flex items-center justify-between gap-[16px]"},o.createElement(S,{online:a}),o.createElement(l,{className:"text-rb-neutral-foot cursor-pointer hover:text-rb-brand-default",onClick:()=>{e||(0,C.G)("/sounds/order-filled.mp3"),t.perps.updateEnabledSound(!e)}})),o.createElement("div",{className:"flex items-center gap-[12px]"},o.createElement(d,{className:"text-rb-neutral-foot cursor-pointer hover:text-rb-brand-default",onClick:()=>{(0,N.Ku)("https://twitter.com/Rabby_io")}}),o.createElement(u,{className:"text-rb-neutral-foot cursor-pointer hover:text-rb-brand-default",onClick:()=>{(0,N.Ku)("https://discord.gg/seFBCWmUre")}}),o.createElement(k,{className:"text-rb-neutral-foot cursor-pointer hover:text-rb-brand-default",onClick:()=>{(0,N.Ku)("https://support.rabby.io/")}})))}},942718:(e,t,a)=>{a.d(t,{p:()=>d});var r,n,l=a(667294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function s(e){return l.createElement("svg",o({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("g",{clipPath:"url(#IconProTips_svg__clip0_143355_102963)"},l.createElement("path",{d:"M14.4 8.002a6.4 6.4 0 11-12.8 0 6.4 6.4 0 0112.8 0z",stroke:"#FF9F0A",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3.668a.833.833 0 110 1.667.833.833 0 010-1.667z",fill:"#FF9F0A"}),l.createElement("path",{d:"M8.167 11.335V6.668H7.5",fill:"#FF9F0A"}),l.createElement("path",{d:"M8.167 11.335V6.668H7.5",stroke:"#FF9F0A",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M7 11.332h2.333H7z",fill:"#FF9F0A"}),l.createElement("path",{d:"M7 11.332h2.333",stroke:"#FF9F0A",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"IconProTips_svg__clip0_143355_102963"},l.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))}a.p;var i=a(52887),c=a(665037);const d=()=>{const{t:e}=(0,i.$G)();return(0,c.L5)((e=>e.perps.hasPermission))?null:l.createElement("div",{className:"flex items-center justify-center gap-4 text-rb-orange-default text-13 font-medium bg-rb-orange-light-1 w-full h-[32px] rounded-[8px] mb-12"},l.createElement(s,null),e("page.perps.permissionTips"))}},140862:(e,t,a)=>{a.d(t,{u:()=>p});var r=a(667294),n=a(757016),l=a(71577),o=a(52887),s=a(386010),i=a(272763),c=a(665037),d=a(927875);const p=({visible:e,onCancel:t})=>{const{t:a}=(0,o.$G)(),p=(0,c.$y)(),m=(0,c.L5)((e=>e.perps.marketSlippage)),[u,x]=r.useState(100*m),[g,f]=r.useState((100*m).toFixed(2)),[b,h]=r.useState("");r.useEffect((()=>{if(e){const e=100*m;x(e),f(e.toFixed(2)),h("")}}),[e,m]);const v=e=>e<0?a("page.perpsPro.tradingPanel.slippagePage.minError"):e>100?a("page.perpsPro.tradingPanel.slippagePage.maxError"):"";return r.createElement(n.Z,{visible:e,onCancel:t,footer:null,width:400,centered:!0,bodyStyle:{padding:0},maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},closeIcon:i.S,destroyOnClose:!0,className:"modal-support-darkmode desktop-perps-slippage-modal"},r.createElement("div",{className:"bg-rb-neutral-bg-2 flex flex-col h-full"},r.createElement("div",{className:"pt-16 flex-1 pb-24"},r.createElement("h3",{className:"text-[20px] font-medium text-rb-neutral-title-1 text-center mb-16"},a("page.perpsPro.tradingPanel.slippagePage.title")),r.createElement("div",{className:"text-[13px] text-rb-neutral-foot rounded-[8px] gap-16 flex flex-col px-20"},r.createElement("div",{className:"text-[13px] text-rb-neutral-foot"},a("page.perpsPro.tradingPanel.slippagePage.description")),r.createElement(d.V,{value:g,onChange:e=>{const t=e.target.value;if(""===t||/^\d*\.?\d*$/.test(t))if(f(t),t&&!isNaN(Number(t))){const e=Number(t);x(e),h(v(e))}else h("")},prefix:r.createElement("span",{className:"text-[13px] text-rb-neutral-foot"},a("page.perpsPro.tradingPanel.slippagePage.maxSlippage")),className:"text-right flex-1",suffix:r.createElement("span",{className:"text-[13px] text-rb-neutral-foot font-medium ml-2"},"%")}),b&&r.createElement("div",{className:"text-[12px] text-r-red-default text-center"},b)))),r.createElement("div",{className:(0,s.Z)("border-t-[0.5px] bg-rb-neutral-bg-2 border-solid border-rabby-neutral-line px-20 py-16")},r.createElement("div",{className:"flex items-center gap-[16px]"},r.createElement(l.Z,{block:!0,size:"large",type:"ghost",onClick:t,className:(0,s.Z)("h-[44px]","text-blue-light","border-blue-light","before:content-none")},a("global.Cancel")),r.createElement(l.Z,{block:!0,size:"large",type:"primary",className:"h-[44px] text-15 font-medium",disabled:!!b,onClick:async()=>{try{!b&&u>=0&&u<=100&&(await p.perps.updateMarketSlippage(u/100),t())}catch(e){console.error("Failed to change slippage:",e)}}},a("global.confirm")))))}},863020:(e,t,a)=>{a.d(t,{m:()=>u});var r=a(667294),n=a(757016),l=a(71577),o=a(52887),s=a(386010),i=a(272763),c=a(830785),d=a(222638),p=a(660378);const m=({title:e,value:t,min:a,max:n,step:l,onChange:i,errorMessage:m})=>{const{t:u}=(0,o.$G)(),x=(m&&m.length,(0,d.Z)((e=>{const t=e.target.value,a=+t;Number.isNaN(a)||""===t?i(undefined):i(a)})));return r.createElement("div",{className:"bg-r-neutral-card1 rounded-[8px] mb-[12px] px-[16px] py-[16px]"},r.createElement("div",{className:"text-[16px] leading-[19px] font-medium text-r-blue-default"},e),r.createElement("div",{className:"flex items-center mb-[8px]"},r.createElement("div",{className:"flex items-end gap-[6px]"},r.createElement("div",{className:"text-[13px] leading-[16px] text-r-neutral-foot pb-[2px]"},u("page.perpsDetail.PerpsEditMarginPopup.upTo")),r.createElement("div",{className:"text-[20px] leading-[24px] font-medium text-r-neutral-title-1"},n,"x")),r.createElement("div",{className:"flex-1 flex items-center"},r.createElement("input",{autoFocus:!0,className:(0,s.Z)("flex-1","text-[32px] leading-[38px] font-bold bg-transparent border-none p-0 text-right","w-full outline-none focus:outline-none","placeholder-r-neutral-foot",m?.length?"text-r-red-default":"text-r-neutral-title-1"),style:{background:"transparent",border:"none",outline:"none",boxShadow:"none"},placeholder:"0",value:null==t?"":t,onChange:x}),r.createElement("div",{className:(0,s.Z)("text-[32px] leading-[38px] font-bold",null==t?"text-r-neutral-foot":m?.length?"text-r-red-default":"text-r-neutral-title-1")},"x"))),r.createElement(p.H,{value:t??1,onChange:i,step:l,min:a,max:n}),r.createElement("div",{className:"bg-r-orange-light rounded-[8px] px-[12px] py-[8px] flex items-center gap-[4px] mt-[14px]"},r.createElement(c.H,{className:"text-r-orange-default"}),r.createElement("div",{className:"text-center text-[12px] leading-[14px] text-r-orange-default"},m||u("page.perpsPro.leverage.higherLeverageRisk"))))},u=({visible:e,currentLeverage:t,maxLeverage:a,coinSymbol:c="ETH",onConfirm:d,onCancel:p})=>{const[u,x]=r.useState(!1),{t:g}=(0,o.$G)(),[f,b]=r.useState(t),h=f||1,[v,E]=r.useState("");r.useEffect((()=>{e&&(b(t),E(""))}),[e,t]);const y=r.useMemo((()=>null==f||Number.isNaN(+f)?{error:!0,errorMessage:g("page.perps.leverageRangeMinError",{min:1})}:f>a?{error:!0,errorMessage:g("page.perps.leverageRangeMaxError",{max:a})}:f<1?{error:!0,errorMessage:g("page.perps.leverageRangeMinError",{min:1})}:{error:!1,errorMessage:""}),[f,a,g]);return r.createElement(n.Z,{visible:e,onCancel:p,footer:null,width:400,centered:!0,bodyStyle:{padding:0},maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},closeIcon:i.S,destroyOnClose:!0,className:"modal-support-darkmode desktop-perps-margin-mode-modal"},r.createElement("div",{className:"bg-r-neutral-bg-2 flex flex-col h-full"},r.createElement("div",{className:"px-20 pt-16 flex-1 pb-24"},r.createElement("h3",{className:"text-[16px] font-medium text-rb-neutral-title-1 text-center mb-16"},g("page.perpsPro.leverage.title")),r.createElement(m,{title:g("page.perps.leverage"),value:f,onChange:b,min:1,max:a,step:1,errorMessage:y.error&&y.errorMessage?y.errorMessage:undefined})),r.createElement("div",{className:(0,s.Z)("border-t-[0.5px] border-solid border-rabby-neutral-line px-20 py-16")},r.createElement(l.Z,{loading:u,onClick:async()=>{try{if(u)return;h>=1&&h<=a&&(x(!0),await d(Math.round(h)),x(!1))}catch(e){console.error("Failed to change leverage:",e)}finally{x(!1)}},disabled:y.error||u,size:"large",type:"primary",className:(0,s.Z)("w-full h-[44px] rounded-[8px] text-[14px] font-medium")},g("page.perpsPro.marginMode.confirm")))))}},172364:(e,t,a)=>{a.d(t,{f:()=>p});var r=a(667294),n=a(757016),l=a(71577),o=a(52887),s=a(177198),i=a(272763),c=a(386010),d=a(944806);const p=({visible:e,currentMode:t,coinSymbol:a="ETH",onConfirm:p,onCancel:m})=>{const[u,x]=r.useState(!1),{t:g}=(0,o.$G)(),[f,b]=r.useState(t);r.useEffect((()=>{e&&b(t)}),[e,t]);const h=e=>{b(e)};return r.createElement(n.Z,{visible:e,onCancel:m,footer:null,width:400,centered:!0,bodyStyle:{padding:0},maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},closeIcon:i.S,destroyOnClose:!0,className:"modal-support-darkmode desktop-perps-margin-mode-modal"},r.createElement("div",{className:"bg-r-neutral-bg-2 flex flex-col h-full"},r.createElement("div",{className:"px-20 pt-16 flex-1 pb-24"},r.createElement("h3",{className:"text-[16px] font-medium text-rb-neutral-title-1 text-center mb-16"},a," ",g("page.perpsPro.marginMode.title")||"Margin Mode"),r.createElement("div",{className:"space-y-[12px]"},r.createElement("div",{onClick:()=>h(s.JC.CROSS),className:(0,c.Z)("p-[12px] rounded-[8px] border cursor-pointer bg-r-neutral-card1",f===s.JC.CROSS?"border-rb-brand-default":"border-rb-neutral-line")},r.createElement("div",{className:"flex items-start gap-[8px]"},r.createElement(d.j,{checked:f===s.JC.CROSS,onChange:()=>h(s.JC.CROSS)}),r.createElement("div",{className:"flex-1 mt-[-2px]"},r.createElement("div",{className:"text-[14px] font-medium text-rb-neutral-title-1 mb-[4px]"},g("page.perpsPro.marginMode.cross")||"Cross"),r.createElement("p",{className:"text-[12px] text-rb-neutral-body leading-[18px]"},g("page.perpsPro.marginMode.crossDescription"))))),r.createElement("div",{onClick:()=>h(s.JC.ISOLATED),className:(0,c.Z)("p-[12px] rounded-[8px] border cursor-pointer bg-r-neutral-card1",f===s.JC.ISOLATED?"border-rb-brand-default":"border-rb-neutral-line")},r.createElement("div",{className:"flex items-start gap-[8px]"},r.createElement(d.j,{checked:f===s.JC.ISOLATED,onChange:()=>h(s.JC.ISOLATED)}),r.createElement("div",{className:"flex-1 mt-[-2px]"},r.createElement("div",{className:"text-[14px] font-medium text-rb-neutral-title-1 mb-[4px]"},g("page.perpsPro.marginMode.isolated")||"Isolated"),r.createElement("p",{className:"text-[12px] text-rb-neutral-body leading-[18px]"},g("page.perpsPro.marginMode.isolatedDescription"))))))),r.createElement("div",{className:(0,c.Z)("border-t-[0.5px] border-solid border-rabby-neutral-line px-20 py-16")},r.createElement(l.Z,{loading:u,onClick:async()=>{try{if(u)return;x(!0),await p(f),x(!1)}catch(e){console.error("Failed to change margin mode:",e)}},size:"large",type:"primary",className:(0,c.Z)("w-full h-[44px] rounded-[8px] text-[14px] font-medium")},g("page.perpsPro.marginMode.confirm")))))}},776423:(e,t,a)=>{a.d(t,{v:()=>d});var r=a(667294),n=a(177198),l=a(52887),o=a(719174),s=a(386010),i=a(244431),c=a.n(i);const d=({orderSide:e,switchOrderSide:t,availableBalance:a,currentPosition:i,selectedCoin:d})=>{const{t:p}=(0,l.$G)();return r.createElement(r.Fragment,null,r.createElement("div",{className:"flex items-center gap-[8px]"},r.createElement("button",{onClick:()=>t(n.oU.BUY),className:"flex-1 h-[32px] rounded-[8px] font-medium text-[12px] transition-colors "+(e===n.oU.BUY?"bg-rb-green-default text-rb-neutral-InvertHighlight ":"hover:border-rb-brand-default border border-solid border-transparent  bg-rb-neutral-bg-2 text-rb-neutral-title-1")},p("page.perpsPro.tradingPanel.buyLong")),r.createElement("button",{onClick:()=>t(n.oU.SELL),className:"flex-1 h-[32px] rounded-[8px] font-medium text-[12px] transition-colors "+(e===n.oU.SELL?"bg-rb-red-default text-rb-neutral-InvertHighlight ":"hover:border-rb-brand-default border border-solid border-transparent bg-rb-neutral-bg-2 text-rb-neutral-title-1")},p("page.perpsPro.tradingPanel.sellShort"))),r.createElement("div",{className:"space-y-[4px]"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.availableFunds")),r.createElement("span",{className:"text-r-neutral-title-1 text-[12px] font-medium"},(0,o.V3)(new(c())(a).toFixed(2,c().ROUND_DOWN))," ","USDC")),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.currentPosition")),r.createElement("span",{className:(0,s.Z)("text-r-neutral-title-1 text-[12px] font-medium",{Long:"text-rb-green-default",Short:"text-rb-red-default"}[i?.side||""])},i?`${i.size} ${d}`:`0 ${d}`))))}},790960:(e,t,a)=>{a.d(t,{H:()=>c});var r=a(667294),n=a(52887),l=a(302709),o=a(931097),s=a(386010),i=a(719174);const c=({data:e,showTPSLExpected:t,tpExpectedPnL:a,slExpectedPnL:c,handleSetSlippage:d})=>{const{t:p}=(0,n.$G)();return r.createElement("div",{className:"space-y-[6px]"},t&&r.createElement(r.Fragment,null,Boolean(a)&&r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.takeProfitExpectedPnL")),r.createElement("span",{className:(0,s.Z)("font-medium text-[12px]",a&&a<0?"text-r-red-default":"text-r-green-default")},a&&a>=0?"+":"-",(0,i.xv)(Math.abs(a)))),Boolean(c)&&r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.stopLossExpectedPnL")),r.createElement("span",{className:(0,s.Z)("font-medium text-[12px]",c&&c<=0?"text-r-red-default":"text-r-green-default")},c&&c<=0?"-":"+",(0,i.xv)(Math.abs(c))))),r.createElement("div",{className:"flex items-center justify-between"},e.liquidationPrice?r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.liquidationPrice")):r.createElement(o.Z,{title:p("page.perpsPro.tradingPanel.liquidationPriceTooltip"),overlayClassName:"rectangle",placement:"top",trigger:"hover"},r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.liquidationPrice"))),r.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[12px]"},e.liquidationPrice||"-")),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.orderValue")),r.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[12px]"},e.orderValue)),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.marginRequired")),r.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[12px]"},e.marginRequired)),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.marginUsage")),r.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[12px]"},e.marginUsage)),e.slippage&&r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-foot text-[12px]"},p("page.perpsPro.tradingPanel.slippage")),r.createElement(l.H,{onClick:()=>{d?.()},className:"text-r-neutral-title-1 font-medium text-[12px]"},e.slippage)))}},944806:(e,t,a)=>{a.d(t,{j:()=>o});var r=a(950911),n=a(931097),l=a(667294);const o=({checked:e,onChange:t,title:a,tooltipText:o,disabled:s})=>l.createElement(r.XZ,{checked:e,type:"square",onChange:t,disabled:s,unCheckBackground:"transparent",background:"transparent",width:"16px",height:"16px",checkIcon:e?l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"0.5",y:"0.5",width:"15",height:"15",rx:"3.5",fill:"#4C65FF"}),l.createElement("rect",{x:"0.5",y:"0.5",width:"15",height:"15",rx:"3.5",stroke:"#4C65FF"}),l.createElement("path",{d:"M4.66797 7.99913L7.11241 10.4436L12.0013 5.55469",stroke:"white",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})):l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"0.5",y:"0.5",width:"15",height:"15",rx:"3.5",stroke:"#6A7587"}))},a&&(o?l.createElement(n.Z,{title:o,overlayClassName:"rectangle",placement:"top",trigger:"hover"},l.createElement("span",{className:"text-r-neutral-title-1 text-[12px]"},a)):l.createElement("span",{className:"text-r-neutral-title-1 text-[12px]"},a)))},522508:(e,t,a)=>{a.d(t,{L:()=>m});var r=a(667294),n=a(660378),l=a(222638),o=a(244431),s=a.n(o),i=a(23640),c=a(927875);const d=[0,25,50,75,100],p=d.reduce(((e,t)=>(e[t]="",e)),{}),m=({defaultMax:e,price:t,maxTradeSize:a,positionSize:o,setPositionSize:m,baseAsset:u,quoteAsset:x,percentage:g,setPercentage:f,szDecimals:b,priceChangeUsdValue:h,reduceOnly:v})=>{const[E,y]=r.useState(g.toString());r.useEffect((()=>{y(isNaN(g)?"":g.toString())}),[g]);const k=(0,l.Z)((e=>{S(e)})),w=(0,l.Z)((e=>{S(e)}));(0,r.useEffect)((()=>{o.amount&&P(o.amount)}),[v]);const N=(0,l.Z)((e=>{const t=e.target.value;if(""===t)return y(""),void S(0);if(Number(t)>100)return y("100"),void S(100);if(Number(t)<0)return y("0"),void S(0);if(!/^\d*$/.test(t))return;y(t);const a=Number(t)||0,r=Math.max(0,Math.min(100,a));S(r)})),P=(0,l.Z)((e=>{if(!t)return m({amount:e,notionalValue:""}),void f(0);const r=(Number(e)||0)*Number(t),n=r>0?r.toFixed(2):"";if(m({amount:e,notionalValue:n}),a&&Number(a)>0){const t=Math.min(new(s())(e).div(new(s())(a)).multipliedBy(100).toNumber(),100);f(Math.round(t))}}));(0,r.useEffect)((()=>{h&&o.amount&&(o.isInputNotionalValue?C(o.notionalValue):P(o.amount))}),[t,h,o.isInputNotionalValue]);const C=(0,l.Z)((e=>{if(!t)return m({amount:"",notionalValue:e,isInputNotionalValue:!0}),void f(0);const r=e?(0,i.$d)(e,t,b):"";if(m({amount:r,notionalValue:e,isInputNotionalValue:!0}),a&&Number(a)>0){const e=Math.min(Math.round(new(s())(r).div(new(s())(a)).multipliedBy(100).toNumber()),100);f(e)}})),S=(0,l.Z)((e=>{f(e);const r=new(s())(a||0).multipliedBy(e).div(100).multipliedBy(new(s())(t)).toNumber();if(0===r||!t)return m({amount:"",notionalValue:""}),void f(0);let n=(0,i.$d)(r,t,b),l=(0,i.xI)(n,t);a&&(Number(n)>Number(a)||100===e)&&(n=a,l=(0,i.xI)(a,t)),m({amount:n,notionalValue:l})})),_=(0,l.Z)((e=>{const t=e.target.value;(0,i.eV)(t,b)&&P(t)})),M=(0,l.Z)((e=>{const t=e.target.value;(0,i.GN)(t)&&C(t)}));return(0,r.useEffect)((()=>{e&&S(100)}),[e]),r.createElement(r.Fragment,null,r.createElement("div",{className:"flex items-center gap-[8px]"},r.createElement(c.V,{className:"flex-1",value:o.amount,onChange:_,suffix:r.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},u)}),r.createElement(c.V,{className:"flex-1",value:o.notionalValue,onChange:M,suffix:r.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},x)})),r.createElement("div",{className:"flex items-start gap-[20px]"},r.createElement("div",{className:"flex-1 space-y-[6px] px-4 my-12"},r.createElement(n.H,{min:0,max:100,value:g,onChange:k,step:1,marks:p,tooltipVisible:!1}),r.createElement("div",{className:"relative ml-2"},d.map((e=>r.createElement("button",{key:e,onClick:()=>w(e),className:"absolute text-[11px] text-r-neutral-foot hover:text-r-blue-default hover:font-medium -translate-x-1/2",style:{left:`${e}%`}},e,"%"))))),r.createElement(c.V,{className:"w-[60px] p-[8px]",value:E,onChange:N,suffix:r.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},"%")})))}},817298:(e,t,a)=>{a.d(t,{L:()=>c});var r=a(667294),n=a(177198),l=a(535935),o=a(222638),s=a(52887),i=a(927875);const c=({config:e,setConfig:t,szDecimals:a,orderSide:c,price:d,leverage:p,priceChangeUpdate:m=!1})=>{const{t:u}=(0,s.$G)(),x=(0,r.useRef)(!0),g=e=>""===e||/^-?\d*\.?\d*$/.test(e),f=(0,o.Z)(((e,t)=>{const a=c===n.oU.BUY?"Long":"Short",r=Number(t.price);return t.error="","takeProfit"===e&&r?("Long"===a&&r<=Number(d)&&(t.error=u("page.perpsPro.tradingPanel.tpMustBeHigherThanCurrentPrice")),"Short"===a&&r>=Number(d)&&(t.error=u("page.perpsPro.tradingPanel.tpMustBeLowerThanCurrentPrice"))):"stopLoss"===e&&r&&("Long"===a&&r>=Number(d)&&(t.error=u("page.perpsPro.tradingPanel.slMustBeLowerThanCurrentPrice")),"Short"===a&&r<=Number(d)&&(t.error=u("page.perpsPro.tradingPanel.slMustBeHigherThanCurrentPrice"))),t})),b=(0,o.Z)((r=>(o,s,i)=>{const m={...e[r],[o]:s,inputMode:i};if("price"===o&&s&&d){const e=Number(s),t=c===n.oU.BUY?1:-1,a=(e-Number(d))/Number(d),l="takeProfit"===r?100*a*p*t:100*-a*p*t;m.percentage=l.toFixed(2)}else if("percentage"===o&&s&&d){const e=Number(s),t=c===n.oU.BUY?1:-1,o="takeProfit"===r?Number(d)*(1+e/100*t/p):Number(d)*(1-e/100*t/p);m.price=o>0?(0,l.jB)(o,a):""}""===s&&(m.error="",m.price="",m.percentage=""),t({...e,[r]:f(r,m)})})),h=(0,o.Z)(b("takeProfit")),v=(0,o.Z)(b("stopLoss")),E=(0,o.Z)((e=>{const t=e.target.value;(0,l.V2)(t,a)&&h("price",t,"price")})),y=(0,o.Z)((e=>{const t=e.target.value;g(t)&&h("percentage",t,"percentage")})),k=(0,o.Z)((e=>{const t=e.target.value;(0,l.V2)(t,a)&&v("price",t,"price")})),w=(0,o.Z)((e=>{const t=e.target.value;g(t)&&v("percentage",t,"percentage")})),N=(0,o.Z)(((e,t)=>{if(!t||!d||!Number(t))return"";const a=Number(t),r=c===n.oU.BUY?1:-1,l=(a-Number(d))/Number(d);return("takeProfit"===e?100*l*p*r:100*-l*p*r).toFixed(2)})),P=(0,o.Z)(((e,t)=>{if(!t||!d||!Number(t))return"";const r=Number(t),o=c===n.oU.BUY?1:-1,s="takeProfit"===e?Number(d)*(1+r/100*o/p):Number(d)*(1-r/100*o/p);return s>0?(0,l.jB)(s,a):""}));return(0,r.useEffect)((()=>{if(x.current)return void(x.current=!1);if(!m||Number(d)<=0)return;const a={...e};let r=!1;if(e.takeProfit.price||e.takeProfit.percentage){const t={...e.takeProfit};"price"===t.inputMode&&e.takeProfit.price?(t.percentage=N("takeProfit",e.takeProfit.price),r=!0):"percentage"===t.inputMode&&e.takeProfit.percentage&&(t.price=P("takeProfit",e.takeProfit.percentage),r=!0),a.takeProfit=f("takeProfit",t)}if(e.stopLoss.price||e.stopLoss.percentage){const t={...e.stopLoss};"price"===t.inputMode&&e.stopLoss.price?(t.percentage=N("stopLoss",e.stopLoss.price),r=!0):"percentage"===t.inputMode&&e.stopLoss.percentage&&(t.price=P("stopLoss",e.stopLoss.percentage),r=!0),a.stopLoss=f("stopLoss",t)}r&&t(a)}),[d]),r.createElement("div",{className:"space-y-[12px]"},r.createElement("div",{className:"space-y-[4px]"},r.createElement("div",{className:"flex items-center gap-[8px]"},r.createElement(i.V,{prefix:r.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},"TP"),value:e.takeProfit.price,onChange:E,className:"text-right"}),r.createElement(i.V,{prefix:r.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},"Gain"),suffix:r.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},"%"),value:e.takeProfit.percentage,onChange:y,className:"text-right"})),e.takeProfit.error&&r.createElement("div",{className:"text-[12px] text-rb-red-default px-[4px]"},e.takeProfit.error)),r.createElement("div",{className:"space-y-[4px]"},r.createElement("div",{className:"flex items-center gap-[8px]"},r.createElement(i.V,{prefix:r.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},"SL"),value:e.stopLoss.price,onChange:k,className:"text-right"}),r.createElement(i.V,{prefix:r.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},"Loss"),suffix:r.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},"%"),value:e.stopLoss.percentage,onChange:w,className:"text-right"})),e.stopLoss.error&&r.createElement("div",{className:"text-[12px] text-rb-red-default px-[4px]"},e.stopLoss.error)))}},172626:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{K:()=>E});var n=a(667294),l=a(216114),o=a(384503),s=a(52887),i=a(177198),c=a(665037),d=a(172364),p=a(863020),m=a(222638),u=a(359686),x=a(386010),g=a(830785),f=a(546448),b=a(447191),h=e([u]);u=(h.then?(await h)():h)[0];const v=[{value:i.mr.MARKET,label:"Market"},{value:i.mr.LIMIT,label:"Limit"},{value:i.mr.STOP_MARKET,label:"Stop Market"},{value:i.mr.STOP_LIMIT,label:"Stop Limit"},{value:i.mr.TAKE_MARKET,label:"Take Market"},{value:i.mr.TAKE_LIMIT,label:"Take Limit"},{value:i.mr.SCALE,label:"Scale"},{value:i.mr.TWAP,label:"TWAP"}],E=({orderType:e,onOrderTypeChange:t})=>{const a=(0,c.L5)((e=>e.perps.selectedCoin||"BTC")),r=(0,c.L5)((e=>e.perps.marketDataMap)),h=r?.[a]||null,E=h?.maxLeverage||25,y=(0,c.L5)((e=>e.perps.wsActiveAssetData)),k=y?.leverage.value||E,w="cross"===y?.leverage.type?i.JC.CROSS:i.JC.ISOLATED,[N,P]=n.useState(!1),[C,S]=n.useState(!1),{t:_}=(0,s.$G)(),{handleUpdateMarginModeLeverage:M}=(0,u.n)(),A=(0,m.Z)((async e=>{await M(a,e,w,"leverage")&&f.ZP.success({title:_("page.perps.toast.success"),description:_("page.perps.toast.leverageChanged",{leverage:e})}),S(!1)})),I=(0,m.Z)((async e=>{await M(a,k,e,"marginMode")&&f.ZP.success({title:_("page.perps.toast.success"),description:_("page.perps.toast.marginModeUpdated",{mode:e===i.JC.ISOLATED?"Isolated":"Cross"})}),P(!1)}));return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex items-center gap-[8px]"},n.createElement("div",{onClick:()=>{P(!0)},className:"h-[32px] w-[80px] rounded-[6px] flex items-center justify-center text-[13px] text-rb-neutral-title-1 border border-solid border-rb-neutral-line font-medium cursor-pointer hover:border-rb-brand-default border border-solid border-transparent"},w===i.JC.ISOLATED?_("page.perpsPro.marginMode.isolated"):_("page.perpsPro.marginMode.cross")),n.createElement("div",{onClick:()=>{S(!0)},className:"h-[32px] w-[60px] flex items-center justify-center rounded-[6px] text-[13px] text-rb-neutral-title-1 border border-solid border-rb-neutral-line font-medium cursor-pointer hover:border-rb-brand-default border border-solid border-transparent"},k,"x"),n.createElement(l.Z,{forceRender:!0,transitionName:"",overlay:n.createElement(o.Z,{className:"bg-r-neutral-bg1",onClick:e=>{t(e.key)}},v.map((e=>n.createElement(o.Z.Item,{className:"text-r-neutral-title1 hover:bg-r-blue-light1",key:e.value},e.label))))},n.createElement("button",{type:"button",className:(0,x.Z)("inline-flex items-center justify-between","px-[8px] py-[8px] flex-1","border border-rb-neutral-line rounded-[6px]","hover:border-rb-brand-default border border-solid border-transparent",(0,b.R2)()?"justify-center":"","text-[12px] leading-[14px] text-rb-neutral-secondary")},(0,b.R2)()?null:_("page.perpsPro.tradingPanel.type"),n.createElement("span",{className:(0,x.Z)("text-rb-neutral-title-1 font-medium flex items-center gap-[4px]",(0,b.R2)()?"justify-between w-full":"")},v.find((t=>t.value===e))?.label,n.createElement(g.o5,{className:"text-rb-neutral-secondary"}))))),n.createElement(d.f,{visible:N,currentMode:w,coinSymbol:a,onConfirm:I,onCancel:()=>P(!1)}),n.createElement(p.m,{visible:C,currentLeverage:k,maxLeverage:E,coinSymbol:a,onConfirm:A,onCancel:()=>S(!1)}))};r()}catch(e){r(e)}}))},402213:(e,t,a)=>{a.d(t,{a:()=>c});var r=a(667294),n=a(71577),l=a(177198),o=a(665037),s=a(52887),i=a(830785);const c=({loading:e,onClick:t,disabled:a,error:c,isValid:d,orderSide:p,titleText:m})=>{const u=(0,o.L5)((e=>e.perps.hasPermission)),{t:x}=(0,s.$G)(),[g,f]=(0,r.useState)(!1);return r.createElement("div",{className:"flex flex-col gap-[12px]"},Boolean(c)&&r.createElement("div",{className:"bg-r-orange-light rounded-[8px] px-[12px] py-[8px] flex items-center gap-[4px]"},r.createElement(i.H,{className:"text-r-orange-default"}),r.createElement("div",{className:"flex-1 text-left font-medium text-[12px] leading-[14px] text-r-orange-default"},c)),r.createElement(n.Z,{type:"primary",block:!0,size:"large",loading:e,onClick:t,disabled:a||!u,style:{boxShadow:g&&d&&!c&&u?p===l.oU.BUY?"0px 8px 16px rgba(42, 187, 127, 0.3)":"0px 8px 16px rgba(227, 73, 53, 0.3)":"none"},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),className:"w-full h-[40px] rounded-[8px] font-medium text-[13px] border-transparent "+(d&&!c&&u?p===l.oU.BUY?"bg-rb-green-default text-rb-neutral-InvertHighlight":"bg-rb-red-default text-rb-neutral-InvertHighlight":"bg-rb-neutral-bg-2 text-rb-neutral-foot opacity-50 cursor-not-allowed")},m))}},647575:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Kh:()=>n.K,mM:()=>l.m});var n=a(172626),l=(a(172364),a(863020)),o=(a(817298),a(790960),a(776423),a(522508),e([n]));n=(o.then?(await o)():o)[0],r()}catch(e){r(e)}}))},400723:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{G:()=>A});var n=a(667294),l=a(52887),o=a(665037),s=a(719174),i=a(177198),c=a(817298),d=a(790960),p=a(359686),m=a(605708),u=a(216114),x=a(384503),g=a(931097),f=a(71577),b=a(386010),h=a(776423),v=a(522508),E=a(228732),y=a(535935),k=a(478051),w=a(439259),N=a(830785),P=a(944806),C=a(927875),S=a(402213),_=a(244431),M=e([p]);p=(M.then?(await M)():M)[0];const A=()=>{const{t:e}=(0,l.$G)(),{leverageType:t,crossMargin:a,maxLeverage:r,selectedCoin:M,orderSide:A,switchOrderSide:I,positionSize:L,setPositionSize:Z,currentPosition:T,markPrice:O,midPrice:$,szDecimals:z,pxDecimals:B,leverage:F,availableBalance:D,reduceOnly:R,setReduceOnly:j,tradeUsdAmount:V,marginRequired:U,tradeSize:H,maxTradeSize:W,marginUsage:G,currentMarketData:q,percentage:K,setPercentage:J,tpslConfig:Y,tpslConfigHasError:Q,setTpslConfig:X,handleTPSLEnabledChange:ee,resetForm:te}=(0,E.N)(),[ae,re]=n.useState((0,y.jB)($,z)),ne=n.useMemo((()=>{const e=new _.BigNumber(ae),t=new _.BigNumber(D);return e.gt(0)&&t.gt(0)?t.multipliedBy(F).div(e).toFixed(z,_.BigNumber.ROUND_DOWN):W}),[ae,D,F,W,z]),le=n.useMemo((()=>{if(!(ae&&Number(ae)&&F&&V))return"";const e=A===i.oU.BUY?"Long":"Short",n=Number(H);if(0===n)return"";const l=(0,y.rU)(Number(ae),"cross"===t?a:U,e,n,V,r);return new _.BigNumber(l).gt(0)?`$${l.toFixed(B)}`:"-"}),[a,ae,t,F,V,A,H,U,r,B]),[oe,se]=n.useState("Gtc"),ie=(0,o.L5)((e=>e.perps.wsActiveAssetCtx)),{currentBestAskPrice:ce,currentBestBidPrice:de}=n.useMemo((()=>{if(ie&&ie.coin.toUpperCase()===M.toUpperCase()){const e=ie?.ctx.impactPxs;return{currentBestAskPrice:Number(e[1]||0),currentBestBidPrice:Number(e[0]||0)}}return{currentBestAskPrice:$,currentBestBidPrice:$}}),[ie,O,M]),pe=n.useMemo((()=>{let t="";const a=Number(L.amount)||0,r=a*Number(ae||0);if(0===r)return{isValid:!1,error:R&&K>0?e("page.perpsPro.tradingPanel.reduceOnlyTooLarge"):""};if(r<10)return t=e("page.perpsPro.tradingPanel.minimumOrderSize"),{isValid:!1,error:t};if("Alo"===oe&&A===i.oU.BUY&&Number(ae)>=Number(ce))return t=e("page.perpsPro.tradingPanel.aloTooLargeBuy"),{isValid:!1,error:t};if("Alo"===oe&&A===i.oU.SELL&&Number(ae)<=Number(de))return t=e("page.perpsPro.tradingPanel.aloTooLargeSell"),{isValid:!1,error:t};if(ne&&a>Number(ne))return t=e(R?"page.perpsPro.tradingPanel.reduceOnlyTooLarge":"page.perpsPro.tradingPanel.insufficientBalance"),{isValid:!1,error:t};const n=Number(q?.maxUsdValueSize||1e6);return r>n?(t=e("page.perpsPro.tradingPanel.maximumOrderSize",{amount:`$${n}`})||`Maximum order size is $${n}`,{isValid:!1,error:t}):{isValid:""===t,error:t}}),[L.amount,ne,R,oe,ae,K,H,U,D,q,ce,de,$,e]),{handleOpenLimitOrder:me,needEnableTrading:ue,handleActionApproveStatus:xe}=(0,p.n)(),{run:ge,loading:fe}=(0,m.Z)((async()=>{await me({coin:M,isBuy:A===i.oU.BUY,size:H,limitPx:ae,tpTriggerPx:Y.enabled?Y.takeProfit.price:undefined,slTriggerPx:Y.enabled?Y.stopLoss.price:undefined,reduceOnly:R,orderType:oe})}),{manual:!0,onSuccess:()=>{te()},onError:e=>{}}),be=n.useMemo((()=>{const e=e=>Number(e)&&Number(H)>0?Number(e)*U/100:0,t=Number(H)*Number(ae);return{tpExpectedPnL:1*e(Y.takeProfit.percentage),slExpectedPnL:-1*e(Y.stopLoss.percentage),liquidationPrice:R?"-":le,liquidationDistance:"",orderValue:t>0?(0,s.xv)(t):"$0.00",marginRequired:R?"-":(0,s.xv)(t/F),marginUsage:G,slippage:undefined}}),[le,G,R,Y.takeProfit.percentage,Y.stopLoss.percentage,H,U,F,ae]),he=[{label:"GTC",value:"Gtc",title:e("page.perpsPro.tradingPanel.limitOrderTypeOptions.Gtc")},{label:"IOC",value:"Ioc",title:e("page.perpsPro.tradingPanel.limitOrderTypeOptions.Ioc")},{label:"ALO",value:"Alo",title:e("page.perpsPro.tradingPanel.limitOrderTypeOptions.Alo")}];(0,n.useEffect)((()=>{re((0,y.jB)($,z))}),[M]),(0,n.useEffect)((()=>{const e=e=>{re(e.toString())};return k.Z.addEventListener(w.FP.PERPS.HANDLE_CLICK_PRICE,e),()=>{k.Z.removeEventListener(w.FP.PERPS.HANDLE_CLICK_PRICE,e)}}),[]);return n.createElement("div",{className:"space-y-[16px]"},n.createElement(h.v,{orderSide:A,switchOrderSide:I,availableBalance:D,currentPosition:T,selectedCoin:M}),n.createElement("div",{className:"flex items-center gap-8"},n.createElement(C.V,{value:ae,onChange:e=>{const t=e.target.value;(0,y.V2)(t,z)&&re(t)},className:"text-right tet",prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},e("page.perpsPro.tradingPanel.limitPrice")),suffix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},"USD")}),n.createElement("div",{className:"w-[88px] h-[40px] flex items-center justify-center text-center bg-rb-neutral-bg-2 font-medium text-[13px] text-r-neutral-title-1 rounded-[8px] cursor-pointer hover:border-rb-brand-default border border-solid border-transparent",onClick:()=>{re((0,y.jB)($,z))}},"Mid")),n.createElement(v.L,{price:ae,maxTradeSize:ne,positionSize:L,setPositionSize:Z,percentage:K,setPercentage:J,baseAsset:M,quoteAsset:"USDC",szDecimals:z,priceChangeUsdValue:!0,reduceOnly:R}),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center gap-16"},n.createElement(P.j,{checked:Y.enabled,onChange:e=>{ee(e),e&&j(!1)},tooltipText:e("page.perpsPro.tradingPanel.tpSlTips"),title:e("page.perpsPro.tradingPanel.tpSl")}),n.createElement(P.j,{checked:R,onChange:e=>{j(e),e&&ee(!1)},tooltipText:e("page.perpsPro.tradingPanel.reduceOnlyTips"),title:e("page.perpsPro.tradingPanel.reduceOnly"),disabled:!T})),n.createElement("div",{className:"flex items-center gap-4"},n.createElement(u.Z,{transitionName:"",forceRender:!0,overlay:n.createElement(x.Z,{className:"bg-r-neutral-bg1",onClick:e=>se(e.key)},he.map((e=>n.createElement(x.Z.Item,{className:"text-r-neutral-title1 hover:bg-r-blue-light1",key:e.value},n.createElement(g.Z,{key:e.value,title:e.title},e.label)))))},n.createElement("button",{type:"button",className:(0,b.Z)("inline-flex items-center justify-between","px-[8px] py-[8px] flex-1 w-[80px] h-28","border border-rb-neutral-line rounded-[6px]","text-[12px] leading-[14px] font-medium text-rb-neutral-title-1 hover:border-rb-brand-default")},he.find((e=>e.value===oe))?.label,n.createElement(N.RQ,{className:"text-rb-neutral-secondary"}))))),Y.enabled&&n.createElement(c.L,{szDecimals:z,config:Y,setConfig:X,orderSide:A,price:ae,leverage:F,priceChangeUpdate:!0}),ue?n.createElement(f.Z,{onClick:xe,className:"w-full h-[40px] rounded-[8px] font-medium text-[13px] mt-20 border-transparent bg-rb-green-default text-rb-neutral-InvertHighlight"},e("page.perpsPro.tradingPanel.enableTrading")):n.createElement(S.a,{loading:fe,onClick:ge,disabled:!pe.isValid||Q,error:pe.error,isValid:pe.isValid,orderSide:A,titleText:e("page.perpsPro.tradingPanel.placeOrder")}),n.createElement(d.H,{data:be,showTPSLExpected:Y.enabled,tpExpectedPnL:Y.enabled?be?.tpExpectedPnL:undefined,slExpectedPnL:Y.enabled?be?.slExpectedPnL:undefined}))};r()}catch(e){r(e)}}))},696544:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{P:()=>N});var n=a(667294),l=a(52887),o=a(665037),s=a(719174),i=a(177198),c=a(817298),d=a(790960),p=a(359686),m=a(605708),u=a(71577),x=a(776423),g=a(522508),f=a(228732),b=a(944806),h=a(140862),v=a(402213),E=a(244431),y=a.n(E),k=a(535935),w=e([p]);p=(w.then?(await w)():w)[0];const N=()=>{const{t:e}=(0,l.$G)(),t=(0,o.L5)((e=>e.perps.marketSlippage)),a=(0,o.$y)(),{selectedCoin:r,orderSide:E,switchOrderSide:w,positionSize:N,setPositionSize:P,currentPosition:C,markPrice:S,midPrice:_,szDecimals:M,pxDecimals:A,leverage:I,availableBalance:L,reduceOnly:Z,setReduceOnly:T,tradeUsdAmount:O,marginRequired:$,tradeSize:z,estimatedLiquidationPrice:B,maxTradeSize:F,marginUsage:D,currentMarketData:R,percentage:j,setPercentage:V,tpslConfig:U,tpslConfigHasError:H,setTpslConfig:W,handleTPSLEnabledChange:G,resetForm:q}=(0,f.N)(),K=(0,o.L5)((e=>e.perps.marketEstPrice)),[J,Y]=n.useState(!1);(0,n.useEffect)((()=>{const e=E===i.oU.BUY;if(!Number(N.amount))return;const t=e?N.amount:`-${N.amount}`;a.perps.patchState({marketEstSize:t})}),[N.amount,E]);const Q=n.useMemo((()=>{let t="";const a=Number(N.amount)||0,r=a*Number(S||0);if(0===r)return{isValid:!1,error:Z&&j>0?e("page.perpsPro.tradingPanel.reduceOnlyTooLarge"):""};if(r<10)return t=e("page.perpsPro.tradingPanel.minimumOrderSize"),{isValid:!1,error:t};if(F&&a>Number(F))return t=e(Z?"page.perpsPro.tradingPanel.reduceOnlyTooLarge":"page.perpsPro.tradingPanel.insufficientBalance"),{isValid:!1,error:t};const n=Number(R?.maxUsdValueSize||1e6);return r>n?(t=e("page.perpsPro.tradingPanel.maximumOrderSize",{amount:`$${n}`})||`Maximum order size is $${n}`,{isValid:!1,error:t}):{isValid:""===t,error:t}}),[S,N.amount,F,Z,z,R,e]),{handleOpenMarketOrder:X,needEnableTrading:ee,handleActionApproveStatus:te}=(0,p.n)(),{run:ae,loading:re}=(0,m.Z)((async()=>{await X({coin:r,isBuy:E===i.oU.BUY,size:z,midPx:_.toString(),tpTriggerPx:U.enabled?U.takeProfit.price:undefined,slTriggerPx:U.enabled?U.stopLoss.price:undefined,reduceOnly:Z,slippage:t})}),{manual:!0,onSuccess:()=>{q()},onError:e=>{}}),ne=n.useMemo((()=>{const e=K&&Number(N.amount)>0?(Number(K)-Number(_))/Number(_):0,a=e=>Number(e)&&Number(z)>0?Number(e)*$/100:0,r=Number(z)*Number(_);return{tpExpectedPnL:1*a(U.takeProfit.percentage),slExpectedPnL:-1*a(U.stopLoss.percentage),liquidationPrice:B,liquidationDistance:"",orderValue:r>0?(0,s.xv)(r,y().ROUND_DOWN):"$0.00",marginRequired:Z?"-":(0,s.xv)(r/I),marginUsage:D,slippage:`Est. ${(0,k.T3)(Math.abs(e),4)} / Max ${(0,k.T3)(t,2)}`}}),[U.takeProfit.percentage,U.stopLoss.percentage,z,Z,$,O,B,D,t,K,I]);return n.createElement(n.Fragment,null,n.createElement("div",{className:"space-y-[16px]"},n.createElement(x.v,{orderSide:E,switchOrderSide:w,availableBalance:L,currentPosition:C,selectedCoin:r}),n.createElement(g.L,{price:_,maxTradeSize:F,positionSize:N,setPositionSize:P,percentage:j,setPercentage:V,baseAsset:r,quoteAsset:"USDC",szDecimals:M,priceChangeUsdValue:!0,reduceOnly:Z}),n.createElement("div",{className:"flex items-center gap-16"},n.createElement(b.j,{checked:U.enabled,onChange:e=>{G(e),e&&T(!1)},tooltipText:e("page.perpsPro.tradingPanel.tpSlTips"),title:e("page.perpsPro.tradingPanel.tpSl")}),n.createElement(b.j,{checked:Z,onChange:e=>{T(e),e&&G(!1)},tooltipText:e("page.perpsPro.tradingPanel.reduceOnlyTips"),title:e("page.perpsPro.tradingPanel.reduceOnly"),disabled:!C})),U.enabled&&n.createElement(c.L,{szDecimals:M,config:U,setConfig:W,orderSide:E,price:_,leverage:I,priceChangeUpdate:!0}),ee?n.createElement(u.Z,{onClick:te,className:"w-full h-[40px] rounded-[8px] font-medium text-[13px] mt-20 border-transparent bg-rb-green-default text-rb-neutral-InvertHighlight"},e("page.perpsPro.tradingPanel.enableTrading")):n.createElement(v.a,{loading:re,onClick:ae,disabled:!Q.isValid||H,error:Q.error,isValid:Q.isValid,orderSide:E,titleText:E===i.oU.BUY?e("page.perpsPro.tradingPanel.buyLong"):e("page.perpsPro.tradingPanel.sellShort")}),n.createElement(d.H,{data:ne,showTPSLExpected:U.enabled,tpExpectedPnL:U.enabled?ne?.tpExpectedPnL:undefined,handleSetSlippage:()=>{Y(!0)},slExpectedPnL:U.enabled?ne?.slExpectedPnL:undefined})),n.createElement(h.u,{visible:J,onCancel:()=>Y(!1)}))};r()}catch(e){r(e)}}))},856207:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{v:()=>S});var n=a(667294),l=a(52887),o=a(719174),s=a(177198),i=a(359686),c=a(605708),d=a(748086),p=a(931097),m=a(216114),u=a(384503),x=a(71577),g=a(386010),f=a(776423),b=a(522508),h=a(228732),v=a(535935),E=a(23640),y=a(830785),k=a(944806),w=a(927875),N=a(402213),P=a(244431),C=e([i]);i=(C.then?(await C)():C)[0];const S=()=>{const{t:e}=(0,l.$G)(),{selectedCoin:t,orderSide:a,switchOrderSide:r,positionSize:C,setPositionSize:S,currentPosition:_,markPrice:M,midPrice:A,szDecimals:I,pxDecimals:L,leverage:Z,availableBalance:T,reduceOnly:O,setReduceOnly:$,tradeUsdAmount:z,marginRequired:B,tradeSize:F,estimatedLiquidationPrice:D,maxTradeSize:R,marginUsage:j,currentMarketData:V,percentage:U,setPercentage:H,tpslConfig:W,tpslConfigHasError:G,setTpslConfig:q,handleTPSLEnabledChange:K,resetForm:J}=(0,h.N)(),[Y,Q]=n.useState(""),[X,ee]=n.useState(""),[te,ae]=n.useState("5"),[re,ne]=n.useState("1.00"),[le,oe]=n.useState("Gtc");(0,n.useEffect)((()=>{Q(""),ee(""),ae("5"),ne("1.00")}),[t]);const se=n.useMemo((()=>{if(!Y||!X||!te||Number(te)<=1||!re||Number(re)<=0||!T||!Z||O)return R;return(0,E._K)(T,Z,Y,X,Number(te),Number(re),I)}),[O,Y,X,te,re,T,Z,I,R]),{handleOpenScaleOrder:ie,calculateScaleOrdersWithSkew:ce,needEnableTrading:de,handleActionApproveStatus:pe}=(0,i.n)(),me=(0,n.useMemo)((()=>{try{return ce({coin:t,szDecimals:I,isBuy:a===s.oU.BUY,totalSize:F,startPrice:Y,endPrice:X,sizeSkew:Number(re),numGrids:Number(te),reduceOnly:O,limitOrderType:le})}catch(e){return console.error(e),[]}}),[t,a,F,Y,X,te,re,I,le,O]),ue=(n.useMemo((()=>{if(!Y||!X)return A;if(new P.BigNumber(re).isEqualTo(1))return(Number(Y)+Number(X))/2;return me.reduce(((e,t)=>e+Number(t.sz)*Number(t.limitPx)),0)/me.reduce(((e,t)=>e+Number(t.sz)),0)}),[Y,X,me,A]),n.useMemo((()=>{let t="";const a=Number(C.notionalValue)||0,r=Number(C.amount)||0;if(0===a)return{isValid:!1,error:O&&U>0?e("page.perpsPro.tradingPanel.reduceOnlyTooLarge"):""};if(1===me.length||Number(te)<=0)return t=e("page.perpsPro.tradingPanel.atLeastTwoOrders"),{isValid:!1,error:t};if(me.some((e=>Number(e.sz)*Number(e.limitPx)<10)))return t=e("page.perpsPro.tradingPanel.minimumOrderSize"),{isValid:!1,error:t};if(Y&&X&&Number(Y)===Number(X))return t=e("page.perpsPro.tradingPanel.startAndEndPriceMustBeDifferent"),{isValid:!1,error:t};if(se&&r>Number(se))return t=e(O?"page.perpsPro.tradingPanel.reduceOnlyTooLarge":"page.perpsPro.tradingPanel.insufficientBalance"),{isValid:!1,error:t};const n=Number(V?.maxUsdValueSize||1e6);return a>n?(t=e("page.perpsPro.tradingPanel.maximumOrderSize",{amount:`$${n}`})||`Maximum order size is $${n}`,{isValid:!1,error:t}):{isValid:""===t,error:t}}),[te,me,C.notionalValue,se,O,le,U,F,B,T,V,Y,X,e])),{run:xe,loading:ge}=(0,c.Z)((async()=>{0!==me.length?await ie({coin:t,isBuy:a===s.oU.BUY,totalSize:F,orders:me}):d.ZP.error({duration:1.5,content:"No scale orders to open"})}),{manual:!0,onSuccess:()=>{J()},onError:e=>{}}),fe=n.useMemo((()=>{const e=me[0]?.sz||"0",a=me[me.length-1]?.sz||"0",r=me.reduce(((e,t)=>e+Number(t.sz)*Number(t.limitPx)),0),n=r/Z;return{start:`${e} ${t} @ ${(0,o.V3)(Y||"0")} USDC`,end:`${a} ${t} @ ${(0,o.V3)(X||"0")} USDC`,orderValue:r>0?(0,o.xv)(r):"$0.00",marginRequired:(0,o.xv)(n),marginUsage:(0,v.T3)(n/T,1)}}),[me,Z,B,T,j,t,Y,X,me]),be=[{label:"GTC",value:"Gtc",title:e("page.perpsPro.tradingPanel.limitOrderTypeOptions.Gtc")},{label:"IOC",value:"Ioc",title:e("page.perpsPro.tradingPanel.limitOrderTypeOptions.Ioc")},{label:"ALO",value:"Alo",title:e("page.perpsPro.tradingPanel.limitOrderTypeOptions.Alo")}];return n.createElement("div",{className:"space-y-[16px]"},n.createElement(f.v,{orderSide:a,switchOrderSide:r,availableBalance:T,currentPosition:_,selectedCoin:t}),n.createElement(b.L,{price:M,maxTradeSize:se,positionSize:C,setPositionSize:S,percentage:U,setPercentage:H,baseAsset:t,quoteAsset:"USDC",szDecimals:I,reduceOnly:O}),n.createElement("div",{className:"space-y-[8px]"},n.createElement("div",{className:"flex items-center gap-8"},n.createElement(w.V,{value:Y,onChange:e=>{const t=e.target.value;(0,v.V2)(t,I)&&Q(t)},className:"text-right text-[13px] leading-[16px]",suffix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},"USD"),prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},e("page.perpsPro.tradingPanel.startPrice"))}),n.createElement("div",{className:"w-[88px] h-[40px] flex items-center justify-center text-center bg-rb-neutral-bg-2 font-medium text-[13px] text-r-neutral-title-1 rounded-[8px] cursor-pointer hover:border-rb-brand-default border border-solid border-transparent",onClick:()=>{Q((0,v.jB)(A,I))}},"Mid")),n.createElement("div",{className:"flex items-center gap-8"},n.createElement(w.V,{value:X,onChange:e=>{const t=e.target.value;(0,v.V2)(t,I)&&ee(t)},className:"text-right text-[13px] leading-[16px]",suffix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},"USD"),prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},e("page.perpsPro.tradingPanel.endPrice"))}),n.createElement("div",{className:"w-[88px] h-[40px] flex items-center justify-center text-center bg-rb-neutral-bg-2 font-medium text-[13px] text-r-neutral-title-1 rounded-[8px] cursor-pointer hover:border-rb-brand-default border border-solid border-transparent",onClick:()=>{ee((0,v.jB)(A,I))}},"Mid")),n.createElement("div",{className:"flex items-center gap-[8px]"},n.createElement(w.V,{value:te,onChange:e=>{const t=e.target.value;if((e=>/^[0-9]*$/.test(e))(t)){if(Number(t)>100)return void ae("100");ae(t)}},className:"flex-1 text-right text-[13px] leading-[16px]",prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},e("page.perpsPro.tradingPanel.totalOrders"))}),n.createElement(p.Z,{placement:"top",overlayClassName:(0,g.Z)("rectangle"),title:e("page.perpsPro.tradingPanel.sizeSkewTooltip")},n.createElement(w.V,{value:re,onChange:e=>{const t=e.target.value;(e=>""===e||/^(100(\.00?)?|(\d{1,2})(\.\d{0,2})?)$/.test(e))(t)&&ne(t)},className:"flex-1 text-right text-[13px] leading-[16px]",prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},e("page.perpsPro.tradingPanel.sizeSkew"))})))),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center gap-16"},n.createElement(k.j,{checked:O,onChange:$,tooltipText:e("page.perpsPro.tradingPanel.reduceOnlyTips"),title:e("page.perpsPro.tradingPanel.reduceOnly"),disabled:!_})),n.createElement("div",{className:"flex items-center gap-4"},n.createElement(m.Z,{transitionName:"",forceRender:!0,overlay:n.createElement(u.Z,{className:"bg-r-neutral-bg1",onClick:e=>oe(e.key)},be.map((e=>n.createElement(u.Z.Item,{className:"text-r-neutral-title1 hover:bg-r-blue-light1",key:e.value},n.createElement(p.Z,{key:e.value,title:e.title},e.label)))))},n.createElement("button",{type:"button",className:(0,g.Z)("inline-flex items-center justify-between","px-[8px] py-[8px] flex-1 w-[80px] h-28","border border-rb-neutral-line rounded-[6px]","text-[12px] leading-[14px] font-medium text-rb-neutral-title-1 hover:border-rb-brand-default")},be.find((e=>e.value===le))?.label,n.createElement(y.RQ,{className:"text-rb-neutral-secondary"}))))),de?n.createElement(x.Z,{onClick:pe,className:"w-full h-[40px] rounded-[8px] font-medium text-[13px] mt-20 border-transparent bg-rb-green-default text-rb-neutral-InvertHighlight"},e("page.perpsPro.tradingPanel.enableTrading")):n.createElement(N.a,{loading:ge,onClick:xe,disabled:!ue.isValid,error:ue.error,isValid:ue.isValid,orderSide:a,titleText:e("page.perpsPro.tradingPanel.placeOrder")}),n.createElement("div",{className:"space-y-[6px]"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.start")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},fe.start)),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.end")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},fe.end)),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.orderValue")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},fe.orderValue)),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.marginRequired")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},O?"-":fe.marginRequired)),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.marginUsage")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},fe.marginUsage))))};r()}catch(e){r(e)}}))},587031:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{v:()=>h});var n=a(667294),l=a(52887),o=a(719174),s=a(177198),i=a(359686),c=a(605708),d=a(71577),p=a(776423),m=a(522508),u=a(228732),x=a(944806),g=a(927875),f=a(402213),b=e([i]);i=(b.then?(await b)():b)[0];const h=()=>{const{t:e}=(0,l.$G)(),{selectedCoin:t,orderSide:a,switchOrderSide:r,positionSize:b,setPositionSize:h,currentPosition:v,markPrice:E,midPrice:y,szDecimals:k,pxDecimals:w,leverage:N,availableBalance:P,reduceOnly:C,setReduceOnly:S,tradeUsdAmount:_,marginRequired:M,tradeSize:A,estimatedLiquidationPrice:I,maxTradeSize:L,marginUsage:Z,currentMarketData:T,percentage:O,setPercentage:$,tpslConfig:z,tpslConfigHasError:B,setTpslConfig:F,handleTPSLEnabledChange:D,resetForm:R}=(0,u.N)(),[j,V]=n.useState("0"),[U,H]=n.useState("5"),[W,G]=n.useState(!1),q=n.useMemo((()=>60*Number(j)+Number(U)),[j,U]),{numberOfOrders:K,sizePerSuborder:J}=n.useMemo((()=>{const e=Math.floor(60*q/30)+1,t=Number(A)/e;return{numberOfOrders:e,sizePerSuborder:Number.isNaN(t)?"-":t.toFixed(k)}}),[q,A,k]);(0,n.useEffect)((()=>{V("0"),H("5"),G(!1)}),[t]);const Y=n.useMemo((()=>{let t="";const a=Number(b.notionalValue)||0,r=Number(b.amount)||0;if(0===a)return{isValid:!1,error:C&&O>0?e("page.perpsPro.tradingPanel.reduceOnlyTooLarge"):""};if(q<5)return t=e("page.perpsPro.tradingPanel.runtimeTooShort"),{isValid:!1,error:t};if(q>1440)return t=e("page.perpsPro.tradingPanel.runtimeTooLong"),{isValid:!1,error:t};if(a<10)return t=e("page.perpsPro.tradingPanel.minimumOrderSize"),{isValid:!1,error:t};if(Number(J)*Number(y)<10)return t=e("page.perpsPro.tradingPanel.minimumSuborderSize"),{isValid:!1,error:t};if(L&&r>Number(L))return t=e(C?"page.perpsPro.tradingPanel.reduceOnlyTooLarge":"page.perpsPro.tradingPanel.insufficientBalance"),{isValid:!1,error:t};const n=Number(T?.maxUsdValueSize||1e6);return a>n?(t=e("page.perpsPro.tradingPanel.maximumOrderSize",{amount:`$${n}`})||`Maximum order size is $${n}`,{isValid:!1,error:t}):{isValid:""===t,error:t}}),[b.notionalValue,L,C,O,A,M,P,T,J,y,e]),{handleOpenTWAPOrder:Q,needEnableTrading:X,handleActionApproveStatus:ee}=(0,i.n)(),{run:te,loading:ae}=(0,c.Z)((async()=>{await Q({coin:t,isBuy:a===s.oU.BUY,size:A,reduceOnly:C,durationMins:q,randomizeDelay:W})}),{manual:!0,onSuccess:()=>{R()},onError:e=>{}}),re=n.useMemo((()=>({liquidationPrice:I,liquidationDistance:"",orderValue:_>0?(0,o.xv)(_):"$0.00",marginRequired:C?"-":(0,o.xv)(M),marginUsage:Z,slippage:"0.08%"})),[I,_,Z,C,M]),ne=e=>/^[0-9]*$/.test(e);return n.createElement("div",{className:"space-y-[16px]"},n.createElement(p.v,{orderSide:a,switchOrderSide:r,availableBalance:P,currentPosition:v,selectedCoin:t}),n.createElement(m.L,{price:y,maxTradeSize:L,positionSize:b,setPositionSize:h,percentage:O,setPercentage:$,baseAsset:t,quoteAsset:"USDC",szDecimals:k,reduceOnly:C}),n.createElement("div",{className:"flex flex-col gap-8"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"text-rb-neutral-foot font-medium text-[12px]"},e("page.perpsPro.tradingPanel.runtime")),n.createElement("div",{className:"text-rb-neutral-title-1 text-[12px] font-medium"},e("page.perpsPro.tradingPanel.runtimeTips"))),n.createElement("div",{className:"flex items-center gap-[8px]"},n.createElement(g.V,{value:j,onChange:e=>{const t=e.target.value;ne(t)&&V(t)},className:"flex-1 text-right text-[13px] leading-[16px]",prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},e("page.perpsPro.tradingPanel.hours"))}),n.createElement(g.V,{value:U,onChange:e=>{const t=e.target.value;ne(t)&&H(t)},className:"flex-1 text-right text-[13px] leading-[16px]",prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},e("page.perpsPro.tradingPanel.minutes"))}))),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center gap-16"},n.createElement(x.j,{checked:W,onChange:e=>G(e),tooltipText:e("page.perpsPro.tradingPanel.randomizeTooltip"),title:e("page.perpsPro.tradingPanel.randomize")}),n.createElement(x.j,{checked:C,onChange:S,tooltipText:e("page.perpsPro.tradingPanel.reduceOnlyTips"),title:e("page.perpsPro.tradingPanel.reduceOnly"),disabled:!v}))),X?n.createElement(d.Z,{onClick:ee,className:"w-full h-[40px] rounded-[8px] font-medium text-[13px] mt-20 border-transparent bg-rb-green-default text-rb-neutral-InvertHighlight"},e("page.perpsPro.tradingPanel.enableTrading")):n.createElement(f.a,{loading:ae,onClick:te,disabled:!Y.isValid||B,error:Y.error,isValid:Y.isValid,orderSide:a,titleText:e("page.perpsPro.tradingPanel.placeOrder")}),n.createElement("div",{className:"space-y-[6px]"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.frequency")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},e("page.perpsPro.tradingPanel.threeThirtySeconds"))),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.runtime")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},`${Math.floor(q/60)>=1?Math.floor(q/60)+e("page.perpsPro.tradingPanel.hours"):""} ${Math.floor(q%60)} ${e("page.perpsPro.tradingPanel.minutes")}`)),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.numberOfOrders")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},K)),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.sizePerSuborder")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},J," ",t)),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.marginRequired")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},re.marginRequired)),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-r-neutral-foot text-[13px]"},e("page.perpsPro.tradingPanel.marginUsage")),n.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px]"},re.marginUsage))))};r()}catch(e){r(e)}}))},623831:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{u:()=>w});var n=a(667294),l=a(52887),o=a(719174),s=a(177198),i=a(790960),c=a(359686),d=a(605708),p=a(71577),m=a(776423),u=a(522508),x=a(228732),g=a(535935),f=a(478051),b=a(439259),h=a(944806),v=a(927875),E=a(402213),y=a(244431),k=e([c]);c=(k.then?(await k)():k)[0];const w=({takeOrStop:e})=>{const{t}=(0,l.$G)(),{leverageType:a,crossMargin:r,maxLeverage:k,selectedCoin:w,orderSide:N,switchOrderSide:P,positionSize:C,setPositionSize:S,currentPosition:_,markPrice:M,midPrice:A,szDecimals:I,pxDecimals:L,leverage:Z,availableBalance:T,reduceOnly:O,setReduceOnly:$,tradeUsdAmount:z,marginRequired:B,tradeSize:F,maxTradeSize:D,marginUsage:R,currentMarketData:j,percentage:V,setPercentage:U,tpslConfig:H,tpslConfigHasError:W,setTpslConfig:G,handleTPSLEnabledChange:q,resetForm:K}=(0,x.N)(),[J,Y]=n.useState(""),[Q,X]=n.useState((0,g.jB)(A,I)),ee=n.useMemo((()=>{const e=new y.BigNumber(Q),t=new y.BigNumber(T);return e.gt(0)&&t.gt(0)?t.multipliedBy(Z).div(e).toFixed(I,y.BigNumber.ROUND_DOWN):D}),[Q,T,Z,D,I]),te=n.useMemo((()=>{if(!(Q&&Number(Q)&&Z&&z))return"";const e=N===s.oU.BUY?"Long":"Short",t=Number(F);if(0===t)return"";const n=(0,g.rU)(Number(Q),"cross"===a?r:B,e,t,z,k);return new y.BigNumber(n).gt(0)?`$${n.toFixed(L)}`:"-"}),[r,Q,a,Z,z,N,F,B,k,L]);(0,n.useEffect)((()=>{Y(""),X((0,g.jB)(A,I))}),[w]);const ae=n.useMemo((()=>{let a="";const r=Number(C.amount)||0,n=r*Number(Q||0);if(0===n||!Number(J))return{isValid:!1,error:O&&V>0&&Number(J)?t("page.perpsPro.tradingPanel.reduceOnlyTooLarge"):""};if(n<10)return a=t("page.perpsPro.tradingPanel.minimumOrderSize"),{isValid:!1,error:a};if(ee&&r>Number(ee))return a=t(O?"page.perpsPro.tradingPanel.reduceOnlyTooLarge":"page.perpsPro.tradingPanel.insufficientBalance"),{isValid:!1,error:a};if("sl"===e&&N===s.oU.BUY&&Number(J)&&Number(J)<Number(A))return a=t("page.perpsPro.tradingPanel.slBuyMustBeHigherThanMidPrice"),{isValid:!1,error:a};if("sl"===e&&N===s.oU.SELL&&Number(J)&&Number(J)>Number(A))return a=t("page.perpsPro.tradingPanel.slSellMustBeLowerThanMidPrice"),{isValid:!1,error:a};if("tp"===e&&N===s.oU.BUY&&Number(J)&&Number(J)>Number(A))return a=t("page.perpsPro.tradingPanel.tpBuyMustBeLowerThanMidPrice"),{isValid:!1,error:a};if("tp"===e&&N===s.oU.SELL&&Number(J)&&Number(J)<Number(A))return a=t("page.perpsPro.tradingPanel.tpSellMustBeHigherThanMidPrice"),{isValid:!1,error:a};const l=Number(j?.maxUsdValueSize||1e6);return n>l?(a=t("page.perpsPro.tradingPanel.maximumOrderSize",{amount:`$${l}`})||`Maximum order size is $${l}`,{isValid:!1,error:a}):{isValid:""===a,error:a}}),[F,Q,ee,O,V,A,e,N,J,F,B,T,j,t]),{handleOpenTPSlLimitOrder:re,needEnableTrading:ne,handleActionApproveStatus:le}=(0,c.n)(),{run:oe,loading:se}=(0,d.Z)((async()=>{await re({coin:w,isBuy:N===s.oU.BUY,size:F,triggerPx:J,limitPx:Q,reduceOnly:O,tpsl:e})}),{manual:!0,onSuccess:()=>{K()},onError:e=>{}}),ie=n.useMemo((()=>{const e=e=>Number(e)&&Number(F)>0?Number(e)*B/100:0,t=Number(F)*Number(Q);return{liquidationPrice:te,liquidationDistance:"",orderValue:t>0?(0,o.xv)(t):"$0.00",marginRequired:O?"-":(0,o.xv)(t/Z),marginUsage:R,slippage:undefined,tpExpectedPnL:1*e(H.takeProfit.percentage),slExpectedPnL:-1*e(H.stopLoss.percentage)}}),[te,O,R,H.takeProfit.percentage,H.stopLoss.percentage,F,B,Z,Q]);(0,n.useEffect)((()=>{const e=e=>{X(e.toString())};return f.Z.addEventListener(b.FP.PERPS.HANDLE_CLICK_PRICE,e),()=>{f.Z.removeEventListener(b.FP.PERPS.HANDLE_CLICK_PRICE,e)}}),[]);return n.createElement("div",{className:"space-y-[16px]"},n.createElement(m.v,{orderSide:N,switchOrderSide:P,availableBalance:T,currentPosition:_,selectedCoin:w}),n.createElement("div",{className:"flex items-center gap-8"},n.createElement(v.V,{value:J,onChange:e=>{const t=e.target.value;(0,g.V2)(t,I)&&Y(t)},className:"text-right text-[13px] leading-[16px]",suffix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},"USD"),prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},t("page.perpsPro.tradingPanel.triggerPrice"))}),n.createElement("div",{className:"w-[88px] h-[40px] flex items-center justify-center text-center bg-rb-neutral-bg-2 font-medium text-[13px] text-r-neutral-title-1 rounded-[8px] cursor-pointer hover:border-rb-brand-default border border-solid border-transparent",onClick:()=>{Y((0,g.jB)(A,I))}},"Mid")),n.createElement("div",{className:"flex items-center gap-8"},n.createElement(v.V,{value:Q,onChange:e=>{const t=e.target.value;(0,g.V2)(t,I)&&X(t)},className:"text-right text-[13px] leading-[16px]",suffix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},"USD"),prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},t("page.perpsPro.tradingPanel.limitPrice"))}),n.createElement("div",{className:"w-[88px] h-[40px] flex items-center justify-center text-center bg-rb-neutral-bg-2 font-medium text-[13px] text-r-neutral-title-1 rounded-[8px] cursor-pointer hover:border-rb-brand-default border border-solid border-transparent",onClick:()=>{X((0,g.jB)(A,I))}},"Mid")),n.createElement(u.L,{price:Q,maxTradeSize:ee,positionSize:C,setPositionSize:S,percentage:V,setPercentage:U,baseAsset:w,quoteAsset:"USDC",szDecimals:I,priceChangeUsdValue:!0,reduceOnly:O}),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center gap-16"},n.createElement(h.j,{checked:O,onChange:$,tooltipText:t("page.perpsPro.tradingPanel.reduceOnlyTips"),title:t("page.perpsPro.tradingPanel.reduceOnly"),disabled:!_}))),ne?n.createElement(p.Z,{onClick:le,className:"w-full h-[40px] rounded-[8px] font-medium text-[13px] mt-20 border-transparent bg-rb-green-default text-rb-neutral-InvertHighlight"},t("page.perpsPro.tradingPanel.enableTrading")):n.createElement(E.a,{loading:se,onClick:oe,disabled:!ae.isValid||W,error:ae.error,isValid:ae.isValid,orderSide:N,titleText:t("page.perpsPro.tradingPanel.placeOrder")}),n.createElement(i.H,{data:ie}))};r()}catch(e){r(e)}}))},90664:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{r:()=>k});var n=a(667294),l=a(52887),o=a(719174),s=a(177198),i=a(790960),c=a(359686),d=a(605708),p=a(71577),m=a(776423),u=a(522508),x=a(228732),g=a(535935),f=a(478051),b=a(439259),h=a(944806),v=a(927875),E=a(402213),y=e([c]);c=(y.then?(await y)():y)[0];const k=({takeOrStop:e})=>{const{t}=(0,l.$G)(),{selectedCoin:a,orderSide:r,switchOrderSide:y,positionSize:k,setPositionSize:w,currentPosition:N,markPrice:P,midPrice:C,szDecimals:S,pxDecimals:_,leverage:M,availableBalance:A,reduceOnly:I,setReduceOnly:L,tradeUsdAmount:Z,marginRequired:T,tradeSize:O,estimatedLiquidationPrice:$,maxTradeSize:z,marginUsage:B,currentMarketData:F,percentage:D,setPercentage:R,tpslConfig:j,tpslConfigHasError:V,setTpslConfig:U,handleTPSLEnabledChange:H,resetForm:W}=(0,x.N)(),[G,q]=n.useState("");(0,n.useEffect)((()=>{q("")}),[a]);const K=n.useMemo((()=>{let a="";const n=Number(k.amount)||0,l=n*Number(P||0);if(0===l||!Number(G))return{isValid:!1,error:I&&D>0&&Number(G)?t("page.perpsPro.tradingPanel.reduceOnlyTooLarge"):""};if(l<10)return a=t("page.perpsPro.tradingPanel.minimumOrderSize"),{isValid:!1,error:a};if(z&&n>Number(z))return a=t(I?"page.perpsPro.tradingPanel.reduceOnlyTooLarge":"page.perpsPro.tradingPanel.insufficientBalance"),{isValid:!1,error:a};if("sl"===e&&r===s.oU.BUY&&Number(G)<Number(C))return a=t("page.perpsPro.tradingPanel.slBuyMustBeHigherThanMidPrice"),{isValid:!1,error:a};if("sl"===e&&r===s.oU.SELL&&Number(G)>Number(C))return a=t("page.perpsPro.tradingPanel.slSellMustBeLowerThanMidPrice"),{isValid:!1,error:a};if("tp"===e&&r===s.oU.BUY&&Number(G)>Number(C))return a=t("page.perpsPro.tradingPanel.tpBuyMustBeLowerThanMidPrice"),{isValid:!1,error:a};if("tp"===e&&r===s.oU.SELL&&Number(G)<Number(C))return a=t("page.perpsPro.tradingPanel.tpSellMustBeHigherThanMidPrice"),{isValid:!1,error:a};const o=Number(F?.maxUsdValueSize||1e6);return l>o?(a=t("page.perpsPro.tradingPanel.maximumOrderSize",{amount:`$${o}`})||`Maximum order size is $${o}`,{isValid:!1,error:a}):{isValid:""===a,error:a}}),[O,P,z,I,D,r,O,T,A,F,C,e,G,t]),{handleOpenTPSlMarketOrder:J,needEnableTrading:Y,handleActionApproveStatus:Q}=(0,c.n)(),{run:X,loading:ee}=(0,d.Z)((async()=>{await J({coin:a,isBuy:r===s.oU.BUY,size:O,triggerPx:G,reduceOnly:I,tpsl:e})}),{manual:!0,onSuccess:()=>{W()},onError:e=>{}}),te=n.useMemo((()=>{const e=e=>Number(e)&&Number(O)>0?Number(e)*T/100:0,t=Number(O)*Number(P);return{liquidationPrice:$,liquidationDistance:"",orderValue:t>0?(0,o.xv)(t):"$0.00",marginRequired:I?"-":(0,o.xv)(t/M),marginUsage:B,slippage:undefined,tpExpectedPnL:1*e(j.takeProfit.percentage),slExpectedPnL:-1*e(j.stopLoss.percentage)}}),[$,M,P,I,B,j.takeProfit.percentage,j.stopLoss.percentage,O,T]);(0,n.useEffect)((()=>{const e=e=>{q(e.toString())};return f.Z.addEventListener(b.FP.PERPS.HANDLE_CLICK_PRICE,e),()=>{f.Z.removeEventListener(b.FP.PERPS.HANDLE_CLICK_PRICE,e)}}),[]);return n.createElement("div",{className:"space-y-[16px]"},n.createElement(m.v,{orderSide:r,switchOrderSide:y,availableBalance:A,currentPosition:N,selectedCoin:a}),n.createElement("div",{className:"flex items-center gap-8"},n.createElement(v.V,{value:G,onChange:e=>{const t=e.target.value;(0,g.V2)(t,S)&&q(t)},className:"text-right text-[13px] leading-[16px]",suffix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},"USD"),prefix:n.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-foot"},t("page.perpsPro.tradingPanel.triggerPrice"))}),n.createElement("div",{className:"w-[88px] h-[40px] flex items-center justify-center text-center bg-rb-neutral-bg-2 font-medium text-[13px] text-r-neutral-title-1 rounded-[8px] cursor-pointer hover:border-rb-brand-default border border-solid border-transparent",onClick:()=>{q((0,g.jB)(C,S))}},"Mid")),n.createElement(u.L,{price:P,maxTradeSize:z,positionSize:k,setPositionSize:w,percentage:D,setPercentage:R,baseAsset:a,quoteAsset:"USDC",szDecimals:S,priceChangeUsdValue:!0,reduceOnly:I}),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center gap-16"},n.createElement(h.j,{checked:I,onChange:L,tooltipText:t("page.perpsPro.tradingPanel.reduceOnlyTips"),title:t("page.perpsPro.tradingPanel.reduceOnly"),disabled:!N}))),Y?n.createElement(p.Z,{onClick:Q,className:"w-full h-[40px] rounded-[8px] font-medium text-[13px] mt-20 border-transparent bg-rb-green-default text-rb-neutral-InvertHighlight"},t("page.perpsPro.tradingPanel.enableTrading")):n.createElement(E.a,{loading:ee,onClick:X,disabled:!K.isValid||V,error:K.error,isValid:K.isValid,orderSide:r,titleText:t("page.perpsPro.tradingPanel.placeOrder")}),n.createElement(i.H,{data:te}))};r()}catch(e){r(e)}}))},439201:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Gu:()=>l.G,P:()=>n.P,r3:()=>o.r,uE:()=>s.u,vp:()=>i.v,vx:()=>c.v});var n=a(696544),l=a(400723),o=a(90664),s=a(623831),i=a(856207),c=a(587031),d=e([n,l,o,s,i,c]);[n,l,o,s,i,c]=d.then?(await d)():d,r()}catch(e){r(e)}}))},929693:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{U:()=>c});var n=a(667294),l=a(177198),o=a(647575),s=a(439201),i=e([o,s]);[o,s]=i.then?(await i)():i;const c=()=>{const[e,t]=n.useState(l.mr.MARKET);return n.createElement(n.Fragment,null,n.createElement("div",{className:"h-full w-full bg-rb-neutral-bg-1 flex flex-col overflow-hidden rounded-[16px]"},n.createElement("div",{className:"flex-1 overflow-y-scroll trades-container-no-scrollbar px-[16px] py-[16px] min-h-0"},n.createElement("div",{className:"space-y-[16px]"},n.createElement(o.Kh,{orderType:e,onOrderTypeChange:e=>{t(e)}}),(()=>{switch(e){case l.mr.MARKET:return n.createElement(s.P,null);case l.mr.LIMIT:return n.createElement(s.Gu,null);case l.mr.TAKE_MARKET:return n.createElement(s.r3,{takeOrStop:"tp"});case l.mr.STOP_MARKET:return n.createElement(s.r3,{takeOrStop:"sl"});case l.mr.STOP_LIMIT:return n.createElement(s.uE,{takeOrStop:"sl"});case l.mr.TAKE_LIMIT:return n.createElement(s.uE,{takeOrStop:"tp"});case l.mr.SCALE:return n.createElement(s.vp,null);case l.mr.TWAP:return n.createElement(s.vx,null);default:return n.createElement(s.P,null)}})()))))};r()}catch(e){r(e)}}))},23640:(e,t,a)=>{a.d(t,{$d:()=>n,BP:()=>s,GN:()=>c,_K:()=>d,eV:()=>i,pL:()=>o,xI:()=>l});a(157786);var r=a(244431);const n=(e,t,a)=>new r.BigNumber(e).div(new r.BigNumber(t)).toFixed(a,r.BigNumber.ROUND_DOWN),l=(e,t)=>new r.BigNumber(e).multipliedBy(new r.BigNumber(t)).toFixed(2,r.BigNumber.ROUND_DOWN),o=(e,t,a,r)=>("Long"===t?e-r:r-e)*a;function s(e){if(!e.includes("."))return e;const t=e.replace(/\.?0+$/,"");return"-0"===t?"0":t}const i=(e,t)=>{if(""===e)return!0;if("."===e)return!1;if(!/^\d*\.?\d*$/.test(e))return!1;if(!e.includes("."))return!0;if(e.endsWith("."))return!0;const[,a]=e.split(".");return!(a&&a.length>t)},c=e=>{if(""===e)return!0;if(!/^\d*\.?\d*$/.test(e))return!1;if(!e.includes("."))return!0;if(e.endsWith("."))return!0;const[,t]=e.split(".");return!(t&&t.length>2)},d=(e,t,a,n,l,o,s)=>{if(!e||!t||!a||!n||l<=0||o<=0)return"0";const i=new r.BigNumber(a),c=new r.BigNumber(n),d=new r.BigNumber(l),p=new r.BigNumber(o),m=new r.BigNumber(e),u=new r.BigNumber(t),x=c.minus(i).dividedBy(d.minus(1));let g,f;if(p.isEqualTo(1))g=new r.BigNumber(1).dividedBy(d),f=new r.BigNumber(0);else{const e=d.multipliedBy(new r.BigNumber(1).plus(p.minus(1).dividedBy(2)));g=new r.BigNumber(1).dividedBy(e),f=p.minus(1).multipliedBy(g).dividedBy(d.minus(1))}let b=new r.BigNumber(0);for(let e=0;e<l;e++){const t=new r.BigNumber(e),a=i.plus(t.multipliedBy(x)),n=g.plus(t.multipliedBy(f)).multipliedBy(a).dividedBy(u);b=b.plus(n)}if(b.isZero())return"0";return m.dividedBy(b).toFixed(s,r.BigNumber.ROUND_DOWN)}},253953:(e,t,a)=>{a.d(t,{F:()=>f});var r,n,l=a(715437),o=a(667294),s=a(658804);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i.apply(this,arguments)}function c(e){return o.createElement("svg",i({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M16.667 11.251v-8.75a.833.833 0 00-.833-.833H4.167a.833.833 0 00-.833.833v15c0 .46.373.834.833.834h4.584M7.084 5h5.833M7.084 8.332h5.833M7.084 11.668h2.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=o.createElement("path",{d:"M16.25 18.332l-1.444-1.444m0 0a2.083 2.083 0 10-2.946-2.946 2.083 2.083 0 002.947 2.947z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}a.p;var d=a(278092),p=a(104084),m=a(205686);const u=s.ZP.div.withConfig({displayName:"rabby--Wrapper",componentId:"rabby--9mobo"})`
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;

  .ant-table-wrapper {
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .ant-spin-nested-loading {
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .ant-spin-container {
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .ant-table {
    background-color: transparent;
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .ant-table-container {
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .ant-table-container:after {
    box-shadow: none !important;
  }

  .ant-table-header {
    flex-shrink: 0;
    .ant-table-thead > tr > th.ant-table-cell-scrollbar:last-child {
      padding-right: 0;
      display: none;
    }

    .ant-table-thead > tr > th:nth-last-child(2) {
      padding-right: 16px; // add 4px for scrollbar
    }
  }

  .ant-table-body {
    flex: 1;
    overflow-y: auto !important;
    overflow-x: hidden !important;
  }

  .ant-table-expanded-row {
    .ant-table-cell {
      background-color: transparent;
    }
  }

  .ant-table-thead > tr > th {
    color: var(--rb-neutral-foot, #6a7587);
    font-size: 13px;
    font-weight: 400;
    background-color: var(--rb-neutral-bg-1, #fff);
    border: none;

    padding: 12px 8px;

    &:first-child {
      padding-left: 16px;
    }

    &:last-child {
      padding-right: 16px;
    }

    &.ant-table-column-has-sorters {
      padding-top: 0;
      padding-bottom: 0;
      cursor: pointer;
      transition: none;

      .ant-table-column-sorters {
        padding: 12px 0;
      }

      /* Hover state */
      &:hover {
        color: var(--rb-neutral-title-1, #192945);
        background-color: transparent;
      }

      /* Active (sorted) state */
      &.ant-table-column-sort {
        color: var(--rb-neutral-title-1, #192945);
      }
    }

    /* Hide default antd sort icons */
    .ant-table-column-sorter {
      display: none;
    }
  }

  .ant-table-tbody > tr > td {
    border-bottom: none;

    padding: 8px;

    &:first-child {
      padding-left: 16px;
    }

    &:last-child {
      padding-right: 16px;
    }

    .is-long-bg {
      background: linear-gradient(to right, #58c66920, #58c66900);
      border-left: 2px solid var(--rb-green-default, #58c669);
    }
    .is-short-bg {
      background: linear-gradient(to right, #ff453a20, #ff453a00);
      border-left: 2px solid var(--rb-red-default, #ff453a);
    }
  }

  .ant-table-tbody > tr.ant-table-row:hover > td {
    background-color: transparent;
  }

  .ant-table-tbody {
    td.ant-table-column-sort {
      background-color: transparent;
    }
  }
`,x=s.ZP.div.withConfig({displayName:"rabby--VirtualWrapper",componentId:"rabby--9k3c2v"})`
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;

  .virtual-table-header {
    flex-shrink: 0;

    .ant-table-wrapper {
      .ant-table {
        background-color: transparent;
      }
    }

    .ant-table-thead > tr > th {
      color: var(--rb-neutral-foot, #6a7587);
      font-size: 13px;
      font-weight: 400;
      background-color: var(--rb-neutral-bg-1, #fff);
      border: none;
      padding: 12px 8px;

      &:first-child {
        padding-left: 16px;
      }

      &:last-child {
        padding-right: 16px;
      }

      &.ant-table-column-has-sorters {
        padding-top: 0;
        padding-bottom: 0;
        cursor: pointer;
        transition: none;

        .ant-table-column-sorters {
          padding: 12px 0;
        }

        &:hover {
          color: var(--rb-neutral-title-1, #192945);
          background-color: transparent;
        }

        &.ant-table-column-sort {
          color: var(--rb-neutral-title-1, #192945);
        }
      }

      .ant-table-column-sorter {
        display: none;
      }
    }

    /* Hide the empty body in header-only table */
    .ant-table-tbody {
      display: none;
    }
  }

  .virtual-table-body {
    flex: 1;
    overflow: hidden;
  }

  .virtual-row {
    &:hover {
      background-color: ${({isDarkTheme:e})=>e?"var(--r-neutral-card-1)":"var(--rb-neutral-bg-0)"};
    }
    display: flex;
    align-items: center;
    box-sizing: border-box;

    .virtual-cell {
      flex: 1;
      // flex-shrink: 0;
      padding: 8px;
      // overflow: hidden;
      box-sizing: border-box;

      &:first-child {
        padding-left: 16px;
      }

      &:last-child {
        padding-right: 16px;
      }
    }
  }
`;function g({index:e,style:t,data:a}){const{columns:r,rawData:n,columnWidths:l}=a,s=n[e];return o.createElement("div",{className:"virtual-row",style:t},r.map(((t,a)=>{const{dataIndex:r}=t;let n;n=Array.isArray(r)?r.reduce(((e,t)=>e&&"object"==typeof e?e[t]:undefined),s):s[r];const i=t.render?t.render(n,s,e):n,c=t.key??String(r)??a,d=l[a]||0;return o.createElement("div",{key:String(c),className:"virtual-cell",style:{minWidth:d}},i)})))}const f=({columns:e,onChange:t,dataSource:a,defaultSortField:r,defaultSortOrder:n="ascend",emptyMessage:s,virtual:i=!1,rowHeight:f=48,...b})=>{const{isDarkTheme:h}=(0,m.r)(),[v,E]=(0,o.useState)({field:r||null,order:r?n:null}),y=(0,o.useRef)(null),k=(0,o.useRef)(null),[w,N]=(0,o.useState)([]),[P,C]=(0,o.useState)(0),[S,_]=(0,o.useState)(0),M=(0,o.useCallback)(((e,a,r,n)=>{const l=Array.isArray(r)?r[0]:r,o=l?.field;if(o===v.field){const e="ascend"===v.order?"descend":"ascend";E({field:o,order:e}),l&&(l.order=e)}else E({field:o||null,order:o?"ascend":null}),l&&o&&(l.order="ascend");t?.(e,a,r,n)}),[v,t]),A=(0,o.useMemo)((()=>e.map((e=>{if(!e.sorter)return e;const t=e.title,a=e.key||e.dataIndex;return{...e,sortOrder:v.field===a?v.order:null,sortDirections:["ascend","descend"],title:o.createElement(o.Fragment,null,t,o.createElement("span",{className:"w-[16px] text-center",style:{opacity:v.field===a&&v.order?1:0}},"ascend"===v.order?"↑":"↓"))}}))),[e,v]),I=(0,o.useMemo)((()=>{if(!v.field)return a;const t=e.find((e=>(e.key||e.dataIndex)===v.field));if(!t||!t.sorter||"function"!=typeof t.sorter)return a;const r=t.sorter,n=[...a].sort(r);return"descend"===v.order?n.reverse():n}),[a,e,v]),L=(0,o.useCallback)((()=>{if(!y.current)return;const e=y.current.querySelectorAll(".ant-table-thead > tr > th"),t=[];e.forEach((e=>{t.push(e.offsetWidth)})),N(t)}),[]),Z=(0,o.useCallback)((({width:e})=>{C(e),setTimeout(L,0)}),[L]),T=(0,o.useCallback)((({height:e})=>{_(e)}),[]),O=(0,o.useMemo)((()=>({columns:A,rawData:I,columnWidths:w})),[A,I,w]),$=(0,o.useMemo)((()=>0===S?0:Math.min(I.length*f,S)),[I.length,f,S]);return 0===a.length?o.createElement(u,null,o.createElement("div",{className:"flex flex-col items-center justify-center gap-[4px] pt-[100px]"},o.createElement(c,{className:"text-rb-neutral-foot"}),o.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot text-center"},s||"No data"))):i?o.createElement(p.default,{onResize:Z},o.createElement(x,{isDarkTheme:h},o.createElement("div",{className:"virtual-table-header",ref:y},o.createElement(l.Z,{...b,dataSource:[],columns:A,onChange:M,pagination:!1})),o.createElement(p.default,{onResize:T},o.createElement("div",{className:"virtual-table-body",ref:k},$>0&&o.createElement(d.t7,{height:$,itemCount:I.length,itemSize:f,width:P||"100%",itemData:O,style:{overflowX:"hidden"}},g))))):o.createElement(u,null,o.createElement(l.Z,{...b,dataSource:I,columns:A,onChange:M,scroll:{y:S||"auto"}}))}},893317:(e,t,a)=>{a.d(t,{p:()=>g});var r=a(665037),n=a(719174),l=a(244431),o=a.n(l),s=a(386010),i=a(727484),c=a.n(i),d=a(667294),p=a(253953),m=a(496486),u=a(52887),x=a(447191);const g=()=>{const e=(0,r.$y)(),{userFunding:t}=(0,r.L5)((e=>e.perps)),{t:a}=(0,u.$G)(),l=(0,d.useMemo)((()=>(0,m.sortBy)(t,(e=>-e.time))),[t]),i=(0,d.useMemo)((()=>[{title:a("page.perpsPro.userInfo.tab.time"),dataIndex:"time",key:"time",sorter:(e,t)=>c()(e.time).unix()-c()(t.time).unix(),render:(e,t)=>d.createElement("div",{className:"text-[13px] leading-[16px]  text-r-neutral-title-1"},c()(t.time).format("YYYY/MM/DD HH:mm:ss"))},{title:a("page.perpsPro.userInfo.tab.coin"),dataIndex:"coin",key:"coin",sorter:(e,t)=>e.coin.localeCompare(t.coin),render:(t,a)=>d.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1 cursor-pointer hover:font-bold hover:text-rb-brand-default",onClick:()=>{e.perps.setSelectedCoin(a.coin)}},(0,x.lB)(a.coin))},{title:a("page.perpsPro.userInfo.tab.size"),dataIndex:"szi",key:"szi",sorter:(e,t)=>Number(e.szi)-Number(t.szi),render:(e,t)=>d.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},(0,n.V3)(Math.abs(Number(t.szi)))," ",(0,x.lB)(t.coin))},{title:a("page.perpsPro.userInfo.tab.side"),key:"side",dataIndex:"side",sorter:(e,t)=>(Number(e.szi)>=0?1:-1)-(Number(t.szi)>=0?1:-1),render:(e,t)=>d.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},Number(t.szi)>=0?"Long":"Short")},{title:a("page.perpsPro.userInfo.tab.payment"),dataIndex:"usdc",key:"usdc",sorter:(e,t)=>Number(e.usdc)-Number(t.usdc),render:(e,t)=>d.createElement("div",{className:(0,s.Z)("text-[12px] leading-[14px] ",Number(t.usdc)>=0?"text-rb-green-default":"text-rb-red-default")},Number(t.usdc)>=0?"":"-","$",(0,n.V3)(new(o())(t.usdc).abs().toFixed(4)))},{title:a("page.perpsPro.userInfo.tab.rate"),dataIndex:"fundingRate",key:"fundingRate",sorter:(e,t)=>Number(e.fundingRate)-Number(t.fundingRate),render:(e,t)=>d.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},new(o())(t.fundingRate).times(100).toFixed(5),"%")}]),[]);return d.createElement(p.F,{emptyMessage:a("page.perpsPro.userInfo.emptyMessage.fundingHistory"),dataSource:l,columns:i,pagination:!1,rowKey:e=>`${e.time}-${e.coin}`,bordered:!1,showSorterTooltip:!1,defaultSortField:"time",defaultSortOrder:"descend",virtual:!0,rowHeight:32})}},9763:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{C:()=>k});var n=a(665037),l=a(719174),o=a(222638),s=a(757016),i=a(71577),c=a(244431),d=a.n(c),p=a(386010),m=a(727484),u=a.n(m),x=a(667294),g=a(253953),f=a(205686),b=a(52887),h=a(461564),v=a(359686),E=a(302709),y=e([v]);v=(y.then?(await y)():y)[0];const k=()=>{const{openOrders:e,marketDataMap:t}=(0,n.L5)((e=>e.perps)),{isDarkTheme:a}=(0,f.r)(),{t:r}=(0,b.$G)(),c=(0,n.$y)(),{handleCancelOrder:m}=(0,v.n)(),y=(0,o.Z)((async()=>{await m(e.map((e=>({oid:e.oid,coin:e.coin}))))})),k=((0,o.Z)((async()=>{const e=s.Z.info({width:360,closable:!1,maskClosable:!0,centered:!0,title:null,bodyStyle:{padding:0},className:(0,p.Z)("perps-bridge-swap-modal perps-close-all-position-modal",a?"perps-bridge-swap-modal-dark":"perps-bridge-swap-modal-light"),content:x.createElement(x.Fragment,null,x.createElement("div",{className:"flex items-center justify-center flex-col gap-12 bg-r-neutral-bg2 rounded-lg"},x.createElement("div",{className:"text-[17px] font-bold text-r-neutral-title-1 text-center"},r("page.perps.cancelAllOrdersPopup.title")),x.createElement("div",{className:"text-15  text-r-neutral-title-1 text-center"},r("page.perps.cancelAllOrdersPopup.description")),x.createElement("div",{className:"flex items-center justify-center w-full gap-12 mt-20"},x.createElement(h.Z,{block:!0,onClick:()=>{e.destroy()}},r("page.manageAddress.cancel")),x.createElement(i.Z,{size:"large",block:!0,type:"primary",onClick:async()=>{y(),e.destroy()}},r("page.manageAddress.confirm")))))})})),(0,x.useMemo)((()=>[{title:r("page.perpsPro.userInfo.openOrders.order"),width:100,className:"relative",key:"side",dataIndex:"side",sorter:(e,t)=>e.side.localeCompare(t.side),render:(e,t)=>x.createElement("div",{className:(0,p.Z)("absolute top-0 left-0 right-0 bottom-0","flex flex-col justify-center","pl-[16px] py-[8px]","B"===t.side?"is-long-bg":"is-short-bg")},x.createElement("div",{className:"text-[13px] leading-[16px] font-semibold text-r-neutral-title-1 mb-[2px]"},x.createElement("span",{onClick:()=>c.perps.setSelectedCoin(t.coin),className:"cursor-pointer hover:font-bold hover:text-rb-brand-default"},t.coin," "),x.createElement("span",null,"B"===t.side?"Long":"Short")))},{title:r("page.perpsPro.userInfo.openOrders.time"),width:160,key:"timestamp",dataIndex:"timestamp",sorter:(e,t)=>e.timestamp-t.timestamp,render:(e,t)=>x.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},u()(t.timestamp).format("YYYY/MM/DD HH:mm:ss"))},{title:r("page.perpsPro.userInfo.openOrders.type"),key:"orderType",dataIndex:"orderType",sorter:(e,t)=>e.orderType.localeCompare(t.orderType),render:(e,t)=>x.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},t.orderType)},{title:r("page.perpsPro.userInfo.openOrders.orderValueSize"),key:"origSz",dataIndex:"origSz",sorter:(e,t)=>Number(e.origSz)-Number(t.origSz),render:(e,t)=>0===Number(t.origSz)?x.createElement("div",{className:"space-y-[4px]"},x.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},"-"),x.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},"-")):x.createElement("div",{className:"space-y-[4px]"},x.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.orderType.includes("Market")?"Market":(0,l.xv)(new(d())(t.origSz).times(t.limitPx).toNumber())),x.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},t.origSz," ",t.coin))},{title:r("page.perpsPro.userInfo.openOrders.filled"),key:"sz",dataIndex:"sz",sorter:(e,t)=>Number(e.sz)-Number(t.sz),render:(e,t)=>x.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},0===Number(t.origSz)?"-":x.createElement(x.Fragment,null,(0,l.V3)(new(d())(t.origSz).minus(t.sz).toString())," ","/ ",t.origSz," ",t.coin))},{title:r("page.perpsPro.userInfo.openOrders.price"),width:80,key:"limitPx",dataIndex:"limitPx",render:(e,t)=>x.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.orderType.includes("Market")?"Market":`$${(0,l.V3)(t.limitPx)}`)},{title:x.createElement(E.H,{tooltipText:r("page.perpsPro.userInfo.openOrders.reduceOnly")},r("page.perpsPro.userInfo.openOrders.ro")),width:60,sorter:(e,t)=>Number(e.reduceOnly)-Number(t.reduceOnly),key:"reduceOnly",dataIndex:"reduceOnly",render:(e,t)=>x.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.reduceOnly?"Yes":"No")},{title:r("page.perpsPro.userInfo.openOrders.triggerConditions"),key:"triggerCondition",dataIndex:"triggerCondition",render:(e,t)=>x.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},t.triggerCondition)},{title:r("page.perpsPro.userInfo.openOrders.tpSl"),key:"children",dataIndex:"children",render:(e,t)=>{const a=t.children?.find((e=>"Take Profit Market"===e.orderType&&e.isTrigger&&e.reduceOnly)),r=t.children?.find((e=>"Stop Market"===e.orderType&&e.isTrigger&&e.reduceOnly));a?.triggerPx&&new(d())(a.triggerPx).minus(t.limitPx).times(t.origSz).toFixed(2),r?.triggerPx&&new(d())(r.triggerPx).minus(t.limitPx).times(t.origSz).toFixed(2);return x.createElement("div",{className:"space-y-[4px]"},x.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},a?.triggerPx?`$${(0,l.V3)(a.triggerPx)} `:"-"),x.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},r?.triggerPx?`$${(0,l.V3)(r.triggerPx)}`:"-"))}},{title:x.createElement("div",{className:"text-rb-neutral-foot cursor-pointer underline  hover:text-rb-brand-default",onClick:y},r("page.perpsPro.userInfo.openOrders.cancelAll")),align:"center",key:"oid",dataIndex:"oid",render:(e,t)=>x.createElement("div",{className:"flex justify-center"},x.createElement("button",{type:"button",className:(0,p.Z)("bg-rb-neutral-bg-4 rounded-[8px] py-[9px] px-[12px] h-[32px] w-[88px]","border border-transparent","hover:border-rb-brand-default","text-[12px] leading-[14px]  text-r-neutral-title-1"),onClick:()=>{m([{oid:t.oid,coin:t.coin}])}},r("page.perpsPro.userInfo.openOrders.cancel")))}]),[t]));return x.createElement(x.Fragment,null,x.createElement(g.F,{emptyMessage:r("page.perpsPro.userInfo.emptyMessage.openOrders"),dataSource:e,columns:k,pagination:!1,bordered:!1,rowKey:"oid",expandable:{childrenColumnName:"__not_exist__"},showSorterTooltip:!1,defaultSortField:"timestamp",defaultSortOrder:"descend"}))};r()}catch(e){r(e)}}))},781835:(e,t,a)=>{a.d(t,{g:()=>f});var r=a(665037),n=a(719174),l=a(667294),o=a(253953),s=a(727484),i=a.n(s),c=a(244431),d=a.n(c),p=a(496486),m=a(52887),u=a(362896),x=a(302709),g=a(447191);const f=()=>{const e=(0,r.$y)(),t=(0,r.L5)((e=>e.perps.historicalOrders)),{t:a}=(0,m.$G)(),s=(0,l.useMemo)((()=>(0,p.sortBy)(t,(e=>-e.statusTimestamp))),[t]),c=(0,l.useCallback)((()=>{(0,u.$)().info.getUserHistoricalOrders().then((t=>{e.perps.patchState({historicalOrders:t.slice(0,2e3)})}))}),[]);(0,l.useEffect)((()=>{c()}),[]);const f=(0,l.useMemo)((()=>[{title:a("page.perpsPro.userInfo.tab.time"),key:"statusTimestamp",dataIndex:"statusTimestamp",width:160,sorter:(e,t)=>e.statusTimestamp-t.statusTimestamp||t.status.localeCompare(e.status),render:(e,t)=>l.createElement("div",{className:"text-[13px] leading-[16px]  text-r-neutral-title-1"},i()(t.statusTimestamp).format("YYYY/MM/DD HH:mm:ss"))},{title:a("page.perpsPro.userInfo.tab.type"),key:"orderType",dataIndex:"orderType",sorter:(e,t)=>e.order.orderType.localeCompare(t.order.orderType),render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.order.orderType)},{title:a("page.perpsPro.userInfo.tab.coin"),key:"coin",dataIndex:"coin",sorter:(e,t)=>e.order.coin.localeCompare(t.order.coin),render:(t,a)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1 cursor-pointer hover:font-bold hover:text-rb-brand-default",onClick:()=>{e.perps.setSelectedCoin(a.order.coin)}},(0,g.lB)(a.order.coin))},{title:a("page.perpsPro.userInfo.tab.side"),key:"side",dataIndex:"side",sorter:(e,t)=>e.order.side.localeCompare(t.order.side),render:(e,t)=>{const a=t.order.reduceOnly;return l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},"B"===t.order.side?a?"Close Short":"Long":a?"Close Long":"Short")}},{title:a("page.perpsPro.userInfo.tab.size"),key:"sz",dataIndex:"sz",render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},0===Number(t.order.origSz)?"-":l.createElement(l.Fragment,null,(0,n.V3)(t.order.origSz)))},{title:a("page.perpsPro.userInfo.tab.filled"),key:"origSz",dataIndex:"origSz",render:(e,t)=>{t.order.reduceOnly;const a=Number(t.order.sz)?Number(t.order.sz):Number(t.order.origSz);return l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},"filled"!==t.status?"-":l.createElement(l.Fragment,null,(0,n.V3)(new(d())(a).toString())))}},{title:a("page.perpsPro.userInfo.tab.value"),key:"limitPx",dataIndex:"limitPx",render:(e,t)=>{const a=Number(t.order.sz)?t.order.sz:t.order.origSz;return l.createElement("div",{className:"space-y-[4px]"},l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.order.orderType.includes("Market")?"-":`$${(0,n.V3)(new(d())(t.order.limitPx).times(new(d())(a).abs()).toFixed(2))}`))}},{title:a("page.perpsPro.userInfo.tab.price"),key:"limitPx",dataIndex:"limitPx",render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.order.orderType.includes("Market")?"Market":`$${(0,n.V3)(t.order.limitPx)}`)},{title:l.createElement(x.H,{tooltipText:a("page.perpsPro.userInfo.openOrders.reduceOnly")},a("page.perpsPro.userInfo.openOrders.ro")),key:"reduceOnly",dataIndex:"reduceOnly",width:60,render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.order.reduceOnly?"Yes":"No")},{title:a("page.perpsPro.userInfo.tab.trigger"),key:"triggerCondition",dataIndex:"triggerCondition",render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.order.triggerCondition)},{title:a("page.perpsPro.userInfo.tab.status"),key:"status",dataIndex:"status",render:(e,t)=>{const{statusStr:a,tipsStr:r}=(0,g.HC)(t);return r?l.createElement(x.H,{className:"text-[12px] leading-[14px]  text-r-neutral-title-1",tooltipText:r},a):l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},a)}}]),[]);return l.createElement(o.F,{emptyMessage:a("page.perpsPro.userInfo.emptyMessage.openOrders"),dataSource:s,columns:f,pagination:!1,bordered:!1,showSorterTooltip:!1,rowKey:e=>`${e.order.oid}-${e.status}`,defaultSortField:"statusTimestamp",defaultSortOrder:"descend",virtual:!0,rowHeight:32})}},58394:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{y:()=>O});var n=a(665037),l=a(719174),o=a(748086),s=a(757016),i=a(71577),c=a(216114),d=a(384503),p=a(386010),m=a(667294),u=a(253953),x=a(244431),g=a.n(x),f=a(535935),b=a(830785),h=a(321216),v=a(280412),E=a(222638),y=a(52887),k=a(461564),w=a(205686),N=a(676115),P=a(35781),C=a(23640),S=a(359686),_=a(647575),M=a(177198),A=a(478051),I=a(439259),L=a(302709),Z=a(447191),T=e([v,N,S,_]);[v,N,S,_]=T.then?(await T)():T;const O=()=>{const{positionAndOpenOrders:e,clearinghouseState:t,openOrders:a,marketDataMap:r,accountSummary:x,wsActiveAssetCtx:T}=(0,n.L5)((e=>e.perps)),O=(0,n.$y)(),{t:$}=(0,y.$G)(),[z,B]=(0,m.useState)(!1),[F,D]=(0,m.useState)(!1),[R,j]=(0,m.useState)(!1),[V,U]=(0,m.useState)("market"),[H,W]=m.useState(!1),G=(0,m.useMemo)((()=>{const e=[];return t?.assetPositions.forEach((t=>{const n=Number(t.position.szi||0)>0,l=r[t.position.coin.toUpperCase()]||{},o=a.find((e=>e.coin===t.position.coin&&"Take Profit Market"===e.orderType&&e.isTrigger&&e.isPositionTpsl)),s=a.find((e=>e.coin===t.position.coin&&"Stop Market"===e.orderType&&e.isTrigger&&e.isPositionTpsl)),i=a.find((e=>e.coin===t.position.coin&&e.isTrigger&&!e.isPositionTpsl)),c=l.pxDecimals||2,d=(0,f.Pn)(t.position.liquidationPx,l.markPx);e.push({direction:n?"Long":"Short",type:t.position.leverage.type,coin:t.position.coin,size:n?t.position.szi:t.position.szi.slice(1),leverage:t.position.leverage.value,maxLeverage:l.maxLeverage||25,positionValue:t.position.positionValue,markPx:Number(l.markPx||0).toFixed(c),entryPx:Number(t.position.entryPx||0).toFixed(c),liquidationPx:Number(t.position.liquidationPx||0).toFixed(c)||"0",marginUsed:t.position.marginUsed||"0",unrealizedPnl:t.position.unrealizedPnl,returnOnEquity:t.position.returnOnEquity,liquidationDistancePercent:(0,f.$3)(d),sinceOpenFunding:t.position.cumFunding.sinceOpen||"0",tpItem:o,slItem:s,needSeeMoreOrder:Boolean(i)&&!o&&!s})})),e}),[t,a,r]),q=(0,Z.R2)(),[K,J]=(0,m.useState)(""),Y=(0,m.useMemo)((()=>G.find((e=>e.coin===K))||null),[G,K]),{handleUpdateMargin:Q,handleCloseAllPositions:X,handleUpdateMarginModeLeverage:ee}=(0,S.n)(),{isDarkTheme:te}=(0,w.r)(),ae=(0,E.Z)((async()=>{t&&(await X(t),setTimeout((()=>{O.perps.fetchClearinghouseState()}),100))})),re=(0,E.Z)(((e,t)=>{J(e),W(!0)})),ne=(0,E.Z)((async e=>{const t="cross"===Y?.type?M.JC.CROSS:M.JC.ISOLATED;await ee(K,e,t,"leverage"),o.ZP.success({content:"Leverage changed to: "+e}),W(!1),setTimeout((()=>{O.perps.fetchClearinghouseState()}),100)})),le=(0,E.Z)((async()=>{const e=s.Z.info({width:360,closable:!1,maskClosable:!0,centered:!0,title:null,bodyStyle:{padding:0},className:(0,p.Z)("perps-bridge-swap-modal perps-close-all-position-modal",te?"perps-bridge-swap-modal-dark":"perps-bridge-swap-modal-light"),content:m.createElement(m.Fragment,null,m.createElement("div",{className:"flex items-center justify-center flex-col gap-12 bg-r-neutral-bg2 rounded-lg"},m.createElement("div",{className:" text-20 font-medium text-r-neutral-title-1 text-center"},$("page.perps.closeAllPopup.title")),m.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-body text-center"},$("page.perps.closeAllPopup.description")),m.createElement("div",{className:"flex items-center justify-center w-full gap-12 mt-20"},m.createElement(k.Z,{block:!0,onClick:()=>{e.destroy()}},$("page.manageAddress.cancel")),m.createElement(i.Z,{size:"large",block:!0,type:"primary",onClick:async()=>{ae(),e.destroy()}},$("page.manageAddress.confirm")))))})})),oe=(0,m.useMemo)((()=>[{title:$("page.perpsPro.userInfo.tab.coin"),className:"relative",key:"coin",dataIndex:"coin",sorter:(e,t)=>e.coin.localeCompare(t.coin),render:(e,t)=>m.createElement("div",{className:(0,p.Z)("absolute top-0 left-0 right-0 bottom-0","flex flex-col justify-center","pl-[16px] py-[8px]","Long"===t.direction?"is-long-bg":"is-short-bg")},m.createElement("div",null,m.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title-1 mb-[2px] cursor-pointer hover:font-bold hover:text-rb-brand-default",onClick:()=>{O.perps.setSelectedCoin(t.coin)}},t.coin),m.createElement("div",{className:(0,p.Z)("text-[12px] leading-[14px] font-medium","Long"===t.direction?"text-rb-green-default":"text-rb-red-default")},m.createElement("span",{className:(0,p.Z)("text-[12px] leading-[14px] font-medium hover:font-bold hover:text-rb-brand-default cursor-pointer"),onClick:e=>re(t.coin,t.leverage)},t.leverage,"x"," "),"Long"===t.direction?"Long":"Short")))},{title:$("page.perpsPro.userInfo.tab.size"),key:"positionValue",dataIndex:"positionValue",sorter:(e,t)=>Number(e.positionValue)-Number(t.positionValue),render:(e,t)=>m.createElement("div",null,m.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1 mb-[4px]"},(0,l.xv)(t.positionValue||0)),m.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},Number(t.size)," ",t.coin))},{title:$("page.perpsPro.userInfo.tab.markEntry"),key:"entryPx",dataIndex:"entryPx",sorter:(e,t)=>Number(e.entryPx)-Number(t.entryPx),render:(e,t)=>m.createElement("div",null,m.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1 mb-[4px]"},"$",(0,l.V3)(t.markPx)),m.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},"$",(0,l.V3)(t.entryPx||0)))},{title:m.createElement(L.H,{tooltipText:$("page.perpsPro.userInfo.tab.unrealizedPnlTooltip")},$("page.perpsPro.userInfo.tab.unrealizedPnl")),key:"unrealizedPnl",dataIndex:"unrealizedPnl",sorter:(e,t)=>Number(e.unrealizedPnl)-Number(t.unrealizedPnl),render:(e,t)=>{const a=Number(t.unrealizedPnl)>=0;return m.createElement("div",null,m.createElement("div",{className:(0,p.Z)("text-[12px] leading-[14px]   mb-[4px]",a?"text-r-green-default":"text-r-red-default")},a?"+":"-","$",(0,l.V3)(Math.abs(Number(t.unrealizedPnl)).toFixed(2))," "),m.createElement("div",{className:(0,p.Z)("text-[12px] leading-[14px]   mb-[4px]",a?"text-r-green-default":"text-r-red-default")},a?"+":"-",Math.abs(100*Number(t.returnOnEquity)).toFixed(2),"%"))}},{title:$("page.perpsPro.userInfo.tab.liqPrice"),key:"liquidationPx",dataIndex:"liquidationPx",sorter:(e,t)=>Number(e.liquidationPx)-Number(t.liquidationPx),render:(e,t)=>m.createElement("div",{className:"flex items-center gap-[4px]"},new(g())(t.liquidationPx).gt(0)?m.createElement(m.Fragment,null,m.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},"$",(0,l.V3)(t.liquidationPx)),!q&&m.createElement(P.f,{isLong:"Long"===t.direction,percent:t.liquidationDistancePercent})):m.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},"-"))},{title:$("page.perpsPro.userInfo.tab.margin"),key:"marginUsed",dataIndex:"marginUsed",sorter:(e,t)=>Number(e.marginUsed)-Number(t.marginUsed),render:(e,t)=>m.createElement("div",{className:"flex items-center gap-[12px]"},m.createElement("div",null,m.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1 mb-[4px]"},(0,l.xv)(Number(t.marginUsed||0))),m.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},"cross"===t.type?"Cross":"Isolated")),"isolated"===t.type&&m.createElement(b.G1,{className:"text-rb-neutral-foot cursor-pointer hover:text-r-blue-default",onClick:()=>{J(t.coin),B(!0)}}))},{title:m.createElement(L.H,{tooltipText:$("page.perpsPro.userInfo.tab.fundingTips")},$("page.perpsPro.userInfo.tab.funding")),key:"fundingPayments",dataIndex:"fundingPayments",sorter:(e,t)=>Number(e.sinceOpenFunding)-Number(t.sinceOpenFunding),render:(e,t)=>m.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},(0,Z.SI)(t.sinceOpenFunding))},{title:$("page.perpsPro.userInfo.tab.tpSl"),key:"children",dataIndex:"children",render:(e,t)=>{const a=t.tpItem?.triggerPx,r=t.slItem?.triggerPx,n=Number(t.entryPx),o=Math.abs(Number(t.size||0)),s="Long"===t.direction,i=(0,C.pL)(Number(a||0),s?"Long":"Short",o,n),c=(0,C.pL)(Number(r||0),s?"Long":"Short",o,n);return m.createElement("div",{className:"flex items-center gap-[6px]"},t.needSeeMoreOrder?m.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot cursor-pointer hover:text-rb-brand-default",onClick:()=>{A.Z.emit(I.FP.PERPS.USER_INFO_HISTORY_TAB_CHANGED,"openOrders")}},$("page.perpsPro.userInfo.positionInfo.viewOrders")):m.createElement("div",{className:"flex flex-col gap-[4px]"},m.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},a?m.createElement("div",null,"$",(0,l.V3)(a)," ",i?m.createElement("span",{className:i>=0?"text-r-green-default":"text-r-red-default"},"(",i>=0?"+":"-",(0,l.xv)(Math.abs(i)),")"):null):m.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},"no TP")),m.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},r?m.createElement("div",null,"$",(0,l.V3)(r)," ",c?m.createElement("span",{className:c>=0?"text-r-green-default":"text-r-red-default"},"(",c>=0?"+":"-",(0,l.xv)(Math.abs(c)),")"):null):m.createElement("div",{className:"text-[12px] leading-[14px]  text-rb-neutral-foot"},"no SL"))),m.createElement(b.G1,{className:"text-rb-neutral-foot cursor-pointer hover:text-r-blue-default",onClick:()=>{J(t.coin),D(!0)}}))}},{title:m.createElement("div",{className:"text-rb-neutral-foot cursor-pointer underline  hover:text-rb-brand-default",onClick:le},$("page.perpsPro.userInfo.positionInfo.closeAll")),key:"oid",align:"center",dataIndex:"oid",render:(e,t)=>{const a=[{label:$("page.perpsPro.userInfo.positionInfo.reverse"),value:"reverse"},{label:$("page.perpsPro.userInfo.positionInfo.closeLimit"),value:"limit"},{label:$("page.perpsPro.userInfo.positionInfo.closeMarket"),value:"market"}];return m.createElement("div",{className:"flex justify-center"},m.createElement(c.Z,{transitionName:"",forceRender:!0,overlay:m.createElement(d.Z,{className:"bg-r-neutral-bg1",onClick:e=>{J(t.coin),U(e.key),j(!0)}},a.map((e=>m.createElement(d.Z.Item,{className:"text-r-neutral-title1 hover:bg-r-blue-light1",key:e.value},e.label))))},m.createElement("button",{type:"button",className:(0,p.Z)("inline-flex items-center justify-between","pl-[8px] pr-[4px] py-[8px] w-[64px]","border border-rb-neutral-line rounded-[6px]","hover:border-rb-brand-default border border-solid border-transparent","text-[12px] leading-[14px]  text-rb-neutral-title-1")},$("page.perpsPro.userInfo.positionInfo.close"),m.createElement(b.o5,{className:"text-rb-neutral-secondary"}))))}}]),[r,q]);return m.createElement(m.Fragment,null,m.createElement(u.F,{emptyMessage:$("page.perpsPro.userInfo.emptyMessage.positions"),dataSource:G,columns:oe,pagination:!1,bordered:!1,showSorterTooltip:!1,rowKey:"coin",defaultSortField:"coin",defaultSortOrder:"ascend"}),Y&&m.createElement(m.Fragment,null,m.createElement(h.V,{visible:z,coin:Y?.coin||"",currentAssetCtx:r[Y.coin.toUpperCase()]||{},direction:Y.direction,entryPrice:Number(Y.entryPx||0),leverage:Y.leverage,availableBalance:Number(x?.withdrawable||0),liquidationPx:Number(Y?.liquidationPx||0),positionSize:Number(Y.size||0),marginUsed:Number(Y.marginUsed||0),pnl:Number(Y.unrealizedPnl||0),onCancel:()=>B(!1),onConfirm:async(e,t)=>{await Q(Y.coin,e,t),B(!1)}}),m.createElement(v.o,{position:Y,marketData:r[Y.coin.toUpperCase()]||{},visible:F,onCancel:()=>D(!1),onConfirm:()=>D(!1)}),m.createElement(N.c,{type:V,position:Y,marketData:r[Y.coin.toUpperCase()]||{},visible:R,onCancel:()=>j(!1),onConfirm:()=>{j(!1)}}),m.createElement(_.mM,{visible:H,currentLeverage:Y?.leverage||1,maxLeverage:Y?.maxLeverage||25,coinSymbol:Y?.coin||"",onConfirm:ne,onCancel:()=>W(!1)})))};r()}catch(e){r(e)}}))},559985:(e,t,a)=>{a.d(t,{n:()=>b});var r=a(665037),n=a(719174),l=a(386010),o=a(667294),s=a(253953),i=a(727484),c=a.n(i),d=a(244431),p=a.n(d),m=a(496486),u=a(52887),x=a(362896),g=a(302709),f=a(447191);const b=()=>{const e=(0,r.$y)(),{userFills:t}=(0,r.L5)((e=>e.perps)),a=(0,r.L5)((e=>e.perps.marketDataMap)),{t:i}=(0,u.$G)(),d=(0,o.useCallback)((()=>{(0,x.$)().info.getUserFills().then((t=>{e.perps.patchState({userFills:t.slice(0,2e3)})}))}),[]);(0,o.useEffect)((()=>{d()}),[]);const b=(0,o.useMemo)((()=>(0,m.sortBy)(t,(e=>-e.time))),[t]),h=(0,o.useMemo)((()=>[{title:i("page.perpsPro.userInfo.tab.time"),key:"time",dataIndex:"time",width:"20%",sorter:(e,t)=>e.time-t.time,render:(e,t)=>o.createElement("div",{className:"text-[13px] leading-[16px]  text-r-neutral-title-1"},c()(t.time).format("YYYY/MM/DD HH:mm:ss"))},{title:i("page.perpsPro.userInfo.tab.coin"),key:"coin",dataIndex:"coin",width:"7%",sorter:(e,t)=>e.coin.localeCompare(t.coin),render:(t,a)=>o.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1 cursor-pointer hover:font-bold hover:text-rb-brand-default",onClick:()=>{e.perps.setSelectedCoin(a.coin)}},(0,f.lB)(a.coin))},{title:i("page.perpsPro.userInfo.tab.size"),key:"sz",dataIndex:"sz",width:"13%",sorter:(e,t)=>Number(e.sz)-Number(t.sz),render:(e,t)=>o.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},Math.abs(Number(t.sz||0))," ",(0,f.lB)(t.coin))},{title:i("page.perpsPro.userInfo.tab.trade"),key:"dir",dataIndex:"dir",width:"15%",sorter:(e,t)=>e.dir.localeCompare(t.dir),render:(e,t)=>o.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.liquidation?"Liquidation: ":"",t.dir)},{title:i("page.perpsPro.userInfo.tab.averagePrice"),key:"px",dataIndex:"px",width:"10%",sorter:(e,t)=>Number(e.px)-Number(t.px),render:(e,t)=>{const r=a[t.coin.toUpperCase()]?.pxDecimals||2,l=new(p())(t.px).toFixed(r);return o.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},"$",(0,n.V3)(l))}},{title:i("page.perpsPro.userInfo.tab.tradeValue"),key:"tradeValue",dataIndex:"tradeValue",width:"15%",sorter:(e,t)=>new(p())(e.px).times(new(p())(e.sz).abs()).toNumber()-new(p())(t.px).times(new(p())(t.sz).abs()).toNumber(),render:(e,t)=>o.createElement("div",{className:"space-y-[4px]"},o.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},"$",(0,n.V3)(new(p())(t.px).times(new(p())(t.sz).abs()).toFixed(2))," "),o.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},Math.abs(Number(t.sz||0))," ",(0,f.lB)(t.coin)))},{title:i("page.perpsPro.userInfo.tab.fee"),key:"fee",dataIndex:"fee",width:"10%",sorter:(e,t)=>Number(e.fee)-Number(t.fee),render:(e,t)=>o.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},"$",(0,n.V3)(Number(t.fee).toFixed(2)))},{title:o.createElement(g.H,{tooltipText:i("page.perpsPro.userInfo.tab.closedPnlTooltip")},i("page.perpsPro.userInfo.tab.closedPnl")),key:"closedPnl",dataIndex:"closedPnl",width:"10%",sorter:(e,t)=>Number(e.closedPnl)-Number(t.closedPnl),render:(e,t)=>{const a=Number(t.closedPnl)-Number(t.fee);return o.createElement("div",{className:(0,l.Z)("space-y-[4px]","text-[12px] leading-[14px] ",0===Number(a)?"text-rb-neutral-foot":Number(a)>0?"text-rb-green-default":"text-rb-red-default")},0===Number(a)?o.createElement(o.Fragment,null,o.createElement("div",null,"-"),o.createElement("div",null,"-")):o.createElement(o.Fragment,null,o.createElement("div",null,Number(a)>0?"+":"-","$",(0,n.V3)(Math.abs(Number(a)).toFixed(2)))))}}]),[a]);return o.createElement(s.F,{emptyMessage:i("page.perpsPro.userInfo.emptyMessage.tradeHistory"),dataSource:b,columns:h,pagination:!1,bordered:!1,showSorterTooltip:!1,rowKey:"hash",defaultSortField:"time",defaultSortOrder:"descend",virtual:!0,rowHeight:48})}},164608:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{N:()=>E});var n=a(665037),l=a(667294),o=a(253953),s=a(386010),i=a(727484),c=a.n(i),d=a(719174),p=a(244431),m=a.n(p),u=a(246751),x=a(362896),g=a(52887),f=a(359686),b=a(302709),h=a(447191),v=e([f]);f=(v.then?(await v)():v)[0];const E=()=>{const{twapStates:e,twapHistory:t,twapSliceFills:a,marketDataMap:r}=(0,n.L5)((e=>e.perps)),{t:i}=(0,g.$G)(),p=(0,n.$y)(),[v,E]=(0,l.useState)("active"),[y,k]=(0,l.useState)([]),w=(0,l.useMemo)((()=>{const t=[];return e.forEach((([e,r])=>{const n=a.filter((t=>t.twapId===e));t.push({twapId:e,coin:r.coin,side:r.side,sz:r.sz,executedSz:r.executedSz,executedNtl:r.executedNtl,minutes:r.minutes,reduceOnly:r.reduceOnly,randomize:r.randomize,timestamp:r.timestamp,status:"activated",slices:n.sort(((e,t)=>e.fill.time-t.fill.time))})})),t}),[e,t,a]),N=(0,l.useCallback)((()=>{(0,x.$)().info.getUserTwapSliceFills().then((e=>{p.perps.patchState({twapSliceFills:e.slice(0,2e3)})}))}),[]);(0,l.useEffect)((()=>{N()}),[]);const P=(0,l.useMemo)((()=>{const e=[];return t.forEach((t=>{if("activated"===t.status.status)return;const r=a.filter((e=>e.twapId===t.twapId));e.push({twapId:t.twapId,coin:t.state.coin,side:t.state.side,sz:t.state.sz,executedSz:t.state.executedSz,executedNtl:t.state.executedNtl,minutes:t.state.minutes,reduceOnly:t.state.reduceOnly,randomize:t.state.randomize,timestamp:t.state.timestamp,status:t.status.status,slices:r.sort(((e,t)=>e.fill.time-t.fill.time))})})),e}),[t,a]),C=(0,l.useMemo)((()=>"active"===v?w:P),[w,P,v]),{handleCancelTWAPOrder:S}=(0,f.n)(),_=(0,l.useMemo)((()=>[{title:i("page.perpsPro.userInfo.tab.time"),key:"time",dataIndex:"time",width:180,sorter:(e,t)=>e.fill.time-t.fill.time,render:(e,t)=>l.createElement("div",{className:"text-[13px] leading-[16px] text-r-neutral-title-1"},c()(t.fill.time).format("YYYY/MM/DD HH:mm:ss"))},{title:i("page.perpsPro.userInfo.tab.coin"),key:"coin",width:60,dataIndex:"coin",sorter:(e,t)=>e.fill.coin.localeCompare(t.fill.coin),render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px] text-r-neutral-title-1 cursor-pointer hover:font-bold hover:text-rb-brand-default",onClick:()=>{p.perps.setSelectedCoin(t.fill.coin)}},(0,h.lB)(t.fill.coin))},{title:i("page.perpsPro.userInfo.tab.direction"),key:"direction",width:120,dataIndex:"direction",sorter:(e,t)=>e.fill.side.localeCompare(t.fill.side),render:(e,t)=>{const a="B"===t.fill.side;return l.createElement("div",{className:(0,s.Z)("text-[12px] leading-[14px]",a?"text-rb-green-default":"text-rb-red-default")},t.fill.dir)}},{title:i("page.perpsPro.userInfo.tab.averagePrice"),key:"px",width:100,dataIndex:"px",sorter:(e,t)=>Number(e.fill.px)-Number(t.fill.px),render:(e,t)=>{const a=r[t.fill.coin.toUpperCase()]?.pxDecimals||2,n=new(m())(t.fill.px).toFixed(a);return l.createElement("div",{className:"text-[12px] leading-[14px] text-r-neutral-title-1"},(0,d.V3)(n))}},{title:i("page.perpsPro.userInfo.tab.size"),key:"sz",width:120,dataIndex:"sz",sorter:(e,t)=>Number(e.fill.sz)-Number(t.fill.sz),render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px] text-r-neutral-title-1"},(0,d.V3)(Number(t.fill.sz))," ",(0,h.lB)(t.fill.coin))},{title:i("page.perpsPro.userInfo.tab.tradeValue"),key:"tradeValue",width:120,dataIndex:"tradeValue",sorter:(e,t)=>new(m())(e.fill.px).times(e.fill.sz).toNumber()-new(m())(t.fill.px).times(t.fill.sz).toNumber(),render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px] text-r-neutral-title-1"},(0,d.V3)(new(m())(t.fill.px).times(new(m())(t.fill.sz).abs()).toFixed(2))," ","USDC")},{title:i("page.perpsPro.userInfo.tab.fee"),key:"fee",width:80,dataIndex:"fee",render:(e,t)=>{const a=t.fill.fee;return a?l.createElement("div",{className:"text-[12px] leading-[14px] text-r-neutral-title-1"},(0,d.V3)(Number(a).toFixed(2))," USDC"):l.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot"},"-")}},{title:l.createElement(b.H,{tooltipText:i("page.perpsPro.userInfo.tab.closedPnlTooltip")},i("page.perpsPro.userInfo.tab.closedPnl")),key:"closedPnl",width:130,render:(e,t)=>{const a=Number(t.fill.closedPnl)-Number(t.fill.fee);if(!a||0===Number(a))return l.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot"},"-");const r=Number(a);return l.createElement("div",{className:(0,s.Z)("text-[12px] leading-[14px]",r>=0?"text-rb-green-default":"text-rb-red-default")},r>=0?"+":"",(0,d.V3)(r.toFixed(2))," USDC")}}]),[r,i,p]),M=(0,l.useMemo)((()=>{const e=[{title:i("page.perpsPro.userInfo.tab.terminate"),key:"terminate",width:100,render:(e,t)=>l.createElement("div",{className:"flex items-center"},l.createElement("div",{className:"text-[12px] px-[16px] h-[28px] flex items-center justify-center bg-rb-red-light-1 text-rb-red-default cursor-pointer rounded-[8px]",onClick:()=>S({coin:t.coin,twapId:t.twapId})},i("page.perpsPro.userInfo.terminate")))}],t=[{title:i("page.perpsPro.userInfo.tab.coin"),dataIndex:"coin",key:"coin",width:200,sorter:(e,t)=>e.coin.localeCompare(t.coin),render:(e,t)=>{const a=y.includes(`${t.twapId}-${t.status}`),r="B"===t.side?"Long":"Short",n=t.slices.length,o=t.slices.length>0;return l.createElement("div",{className:(0,s.Z)("absolute top-0 left-0 right-0 bottom-0","flex flex-col justify-center","pl-[16px] py-[8px]","B"===t.side?"is-long-bg":"is-short-bg")},l.createElement("div",{className:(0,s.Z)("flex items-center gap-[4px]",o&&"cursor-pointer"),onClick:()=>{o&&k((e=>e.includes(`${t.twapId}-${t.status}`)?e.filter((e=>e!==`${t.twapId}-${t.status}`)):[...e,`${t.twapId}-${t.status}`]))}},l.createElement("div",{className:"flex flex-row items-center gap-[4px]"},l.createElement("div",{className:"text-[13px] leading-[16px] font-semibold text-r-neutral-title-1"},l.createElement("span",{className:"cursor-pointer hover:font-bold hover:text-rb-brand-default",onClick:e=>{e.stopPropagation(),p.perps.setSelectedCoin(t.coin)}},(0,h.lB)(t.coin)," ")),l.createElement("div",{className:"text-[12px] leading-[14px] text-r-neutral-foot"},r," · (",n," slices)")),o&&l.createElement(u.r,{className:(0,s.Z)("text-r-neutral-body",a&&"rotate-180")})))}},{title:i("page.perpsPro.userInfo.tab.size"),dataIndex:"sz",key:"sz",width:150,sorter:(e,t)=>Number(e.sz)-Number(t.sz),render:(e,t)=>{new(m())(t.executedSz).dividedBy(t.sz).times(100).toFixed(1);return l.createElement("div",{className:"text-[12px] leading-[14px]  flex flex-col gap-[4px] text-rb-neutral-title-1"},l.createElement("div",{className:"flex items-center gap-[4px]"},t.executedSz,t.randomize&&l.createElement("span",{className:"text-rb-orange-default text-[12px] leading-[14px] font-normal"},i("page.perpsPro.userInfo.randomized"))),l.createElement("div",{className:"text-rb-neutral-foot"},t.executedSz," / ",Number(t.sz)))}},{title:i("page.perpsPro.userInfo.tab.averagePrice"),key:"avgPrice",width:130,render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},(e=>{if(!e.slices.length||0===Number(e.executedSz))return"-";let t=new(m())(0),a=new(m())(0);if(e.slices.forEach((e=>{const r=new(m())(e.fill.px),n=new(m())(e.fill.sz);t=t.plus(r.times(n)),a=a.plus(n)})),a.isZero())return"-";const n=r[e.coin.toUpperCase()]?.pxDecimals||2;return`$${(0,d.V3)(t.dividedBy(a).toFixed(n))}`})(t))},{title:i("page.perpsPro.userInfo.tab.runningTimeTotal"),key:"runningTime",width:180,render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},(e=>{const t=Date.now(),a=e.timestamp,r=Math.floor((t-a)/1e3),n=60*e.minutes,l=e=>{const t=Math.floor(e/60),a=e%60;return`${String(t).padStart(2,"0")}:${String(a).padStart(2,"0")}`};return"active"===v?`${l(r)} / ${l(n)}`:`${l(n)} / ${l(n)}`})(t))},{title:i("page.perpsPro.userInfo.tab.status"),dataIndex:"status",key:"status",width:120,sorter:(e,t)=>e.status.localeCompare(t.status),render:(e,t)=>{const a="activated"===t.status?i("page.perpsPro.userInfo.twap.activated"):"finished"===t.status?i("page.perpsPro.userInfo.twap.completed"):i("page.perpsPro.userInfo.twap.terminated"),r="activated"===t.status?"text-rb-green-default":"finished"===t.status?"text-rb-neutral-foot":"text-rb-red-default";return l.createElement("div",{className:(0,s.Z)("text-[12px] leading-[14px] ",r)},a)}},{title:i("page.perpsPro.userInfo.tab.reduceOnly"),dataIndex:"reduceOnly",key:"reduceOnly",width:100,sorter:(e,t)=>Number(e.reduceOnly)-Number(t.reduceOnly),render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},t.reduceOnly?i("page.perpsPro.userInfo.yes"):i("page.perpsPro.userInfo.no"))},{title:i("page.perpsPro.userInfo.tab.creationTime"),key:"time",dataIndex:"time",width:180,sorter:(e,t)=>e.timestamp-t.timestamp,render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px]  text-r-neutral-title-1"},c()(t.timestamp).format("YYYY/MM/DD HH:mm:ss"))}];return"active"===v?[...t,...e]:[...t]}),[y,S,v,i]);return l.createElement("div",{className:"flex flex-col h-full"},l.createElement("div",{className:"flex bg-rb-neutral-bg-4 p-[2px] rounded-[8px] ml-16 mt-10",style:{width:"fit-content"}},l.createElement("div",{className:(0,s.Z)("px-[8px] py-[6px] text-[12px]  cursor-pointer","active"===v?"text-rb-neutral-body bg-rb-neutral-bg-1 rounded-[8px]":"text-r-neutral-foot bg-rb-neutral-bg-4"),onClick:()=>E("active")},i("page.perpsPro.userInfo.active")),l.createElement("div",{className:(0,s.Z)("px-[8px] py-[6px] text-[12px]  cursor-pointer","history"===v?"text-rb-neutral-body bg-rb-neutral-bg-1 rounded-[8px]":"text-r-neutral-foot bg-rb-neutral-bg-4"),onClick:()=>E("history")},i("page.perpsPro.userInfo.history")),l.createElement("div",{className:(0,s.Z)("px-[8px] py-[6px] text-[12px]  cursor-pointer","filled"===v?"text-rb-neutral-body bg-rb-neutral-bg-1 rounded-[8px]":"text-r-neutral-foot bg-rb-neutral-bg-4"),onClick:()=>E("filled")},i("page.perpsPro.userInfo.fillHistory"))),l.createElement("div",{className:"flex-1 overflow-auto"},"filled"===v?l.createElement(o.F,{emptyMessage:i("page.perpsPro.userInfo.emptyMessage.fillHistory"),dataSource:a,columns:_,pagination:!1,bordered:!1,showSorterTooltip:!1,rowKey:e=>`${e.twapId}-${e.fill.tid}`,defaultSortField:"time",defaultSortOrder:"descend",virtual:!0,rowHeight:32}):l.createElement(o.F,{emptyMessage:i("active"===v?"page.perpsPro.userInfo.emptyMessage.activeTwap":"page.perpsPro.userInfo.emptyMessage.twapHistory"),dataSource:C,columns:M,pagination:!1,bordered:!1,showSorterTooltip:!1,rowKey:e=>`${e.twapId}-${e.status}`,defaultSortField:"time",defaultSortOrder:"descend",expandable:{expandedRowKeys:y,expandedRowRender:e=>{const t=[{title:i("page.perpsPro.userInfo.tab.slice"),key:"index",width:200,render:(e,t,a)=>l.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot"},"Slice #",a+1)},{title:i("page.perpsPro.userInfo.tab.size"),width:150,render:(t,a)=>l.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot"},(0,d.V3)(Number(a.fill.sz))," ",e.coin)},{title:i("page.perpsPro.userInfo.tab.averagePrice"),width:130,render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot"},"$",(0,d.V3)(Number(t.fill.px)))},{title:i("page.perpsPro.userInfo.tab.runningTimeTotal"),width:180,render:(e,t)=>{const a=c()(t.fill.time).format("HH:mm:ss");return l.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot"},a)}},{title:i("page.perpsPro.userInfo.tab.status"),width:120,render:()=>l.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot"},"-")},{title:i("page.perpsPro.userInfo.tab.reduceOnly"),width:100,render:()=>l.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot"},"-")},{title:i("page.perpsPro.userInfo.tab.creationTime"),width:180,render:(e,t)=>l.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-foot"},"-")}],a="active"===v?[...t,{title:"",width:100,render:()=>null}]:[...t];return l.createElement(o.F,{dataSource:e.slices,columns:a,pagination:!1,showHeader:!1,rowKey:t=>`${e.twapId}-${e.status}-${t.fill.tid}`})},expandIconColumnIndex:-1}})))};r()}catch(e){r(e)}}))},345566:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{B:()=>b});var n=a(667294),l=a(386010),o=a(58394),s=a(781835),i=a(559985),c=a(9763),d=a(893317),p=a(164608),m=a(665037),u=a(52887),x=a(439259),g=a(478051),f=e([o,c,p]);[o,c,p]=f.then?(await f)():f;const b=()=>{const{clearinghouseState:e,openOrders:t,twapStates:a}=(0,m.L5)((e=>e.perps)),{t:r}=(0,u.$G)(),[f,b]=(0,n.useState)("positions"),h=(0,n.useRef)({}),v=(0,n.useRef)(null),[E,y]=(0,n.useState)({left:0,width:0}),k=(0,n.useMemo)((()=>{const n=e?.assetPositions.length||0,l=t.length,m=a.length;return[{key:"positions",label:r("page.perpsPro.userInfo.tab.positions"),content:o.y,number:n},{key:"openOrders",label:r("page.perpsPro.userInfo.tab.openOrders"),content:c.C,number:l},{key:"twap",label:r("page.perpsPro.userInfo.tab.twap"),content:p.N,number:m},{key:"tradeHistory",label:r("page.perpsPro.userInfo.tab.tradeHistory"),content:i.n},{key:"fundingHistory",label:r("page.perpsPro.userInfo.tab.fundingHistory"),content:d.p},{key:"orderHistory",label:r("page.perpsPro.userInfo.tab.orderHistory"),content:s.g}]}),[e,t,a,f]),w=(0,n.useMemo)((()=>k.find((e=>e.key===f))?.content),[f]);return(0,n.useLayoutEffect)((()=>{const e=h.current[f],t=v.current;if(e&&t){const a=t.getBoundingClientRect(),r=e.getBoundingClientRect();y({left:r.left-a.left,width:r.width})}}),[f,k]),(0,n.useEffect)((()=>{const e=e=>{b(e)};return g.Z.addEventListener(x.FP.PERPS.USER_INFO_HISTORY_TAB_CHANGED,e),()=>{g.Z.removeEventListener(x.FP.PERPS.USER_INFO_HISTORY_TAB_CHANGED,e)}}),[]),n.createElement("div",{className:"flex-1 h-full bg-rb-neutral-bg-1 flex flex-col min-w-0 overflow-hidden"},n.createElement("div",{ref:v,className:"relative flex border-b border-solid border-rb-neutral-line flex-shrink-0"},k.map((e=>n.createElement("button",{key:e.key,ref:t=>{h.current[e.key]=t},className:(0,l.Z)("px-[16px] py-[16px] text-[14px] flex items-center gap-[4px]",f===e.key?"text-r-blue-default":"hover:text-r-blue-default text-r-neutral-foot"),onClick:()=>b(e.key)},e.label,e.number?n.createElement("div",{className:"h-[16px] px-6 text-[12px] text-rb-brand-default bg-rb-brand-light-1 rounded-[4px] flex items-center justify-center"},e.number):null))),n.createElement("div",{className:"absolute bottom-0 h-[2px] bg-rb-brand-default transition-all duration-300 ease-out",style:{left:E.left,width:E.width}})),n.createElement("div",{className:"flex-1 overflow-hidden min-h-0"},n.createElement("div",{className:"text-r-neutral-foot text-[12px] whitespace-nowrap h-full"},w?n.createElement(w,null):null)))};r()}catch(e){r(e)}}))},247201:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{a:()=>x});var n=a(667294),l=a(530573),o=a(362896),s=a(665037),i=a(719174),c=a(837559),d=a(421217),p=a(831221),m=a(439259),u=e([d]);d=(u.then?(await u)():u)[0];const x=()=>{(0,l.a)({isPro:!0});const{ensureLoginApproveSign:e}=(0,d.W)(),t=(0,s.L5)((e=>e.perps.selectedCoin)),a=(0,s.L5)((e=>e.perps.currentPerpsAccount)),r=(0,s.L5)((e=>e.perps.isInitialized)),u=(0,s.$y)(),x=(0,i.Os)();(0,n.useEffect)((()=>{u.perps.initQuoteUnit(undefined),u.perps.initFavoritedCoins(undefined),u.perps.initMarketSlippage(undefined),u.perps.initSoundEnabled(undefined)}),[]);(0,n.useEffect)((()=>{(async()=>{await x.getPerpsIsNeedSetDarkTheme()&&u.preference.switchThemeMode(m.jw.dark)})()}),[]),(0,n.useEffect)((()=>{(0,p.S)("/sounds/order-filled.mp3")}),[]),(0,n.useEffect)((()=>{const e=(0,o.$)(),{unsubscribe:a}=e.ws.subscribeToActiveAssetCtx(t,(e=>{u.perps.setWsActiveAssetCtx(e)}));return()=>{a()}}),[t]),(0,n.useEffect)((()=>{if(!t||!a?.address)return;const e=(0,o.$)(),{unsubscribe:r}=e.ws.subscribeToActiveAssetData(t,a?.address,(e=>{u.perps.setWsActiveAssetData(e)}));return()=>{r()}}),[t,a?.address]),(0,n.useEffect)((()=>{if(r)return;(async()=>{try{const t=a;if(!t)return!1;const{vault:r,agentAddress:n}=await x.getOrCreatePerpsAgentWallet(t.address);return(0,o.$)().initAccount(t.address,r,n,c.Yq),await u.perps.loginPerpsAccount({account:t,isPro:!0}),e(t,n),await u.perps.fetchMarketData(undefined),u.perps.setInitialized(!0),!0}catch(e){console.error("Failed to init Perps state:",e)}})()}),[x,u,r,a?.address,a?.type])};r()}catch(e){r(e)}}))},359686:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{n:()=>k});var n=a(719174),l=a(831221),o=a(362896),s=a(837559),i=a(546448),c=a(603730),d=a(222638),p=a(665037),m=a(52887),u=a(177198),x=a(23640),g=a(244431),f=a.n(g),b=a(535935),h=a(421217),v=a(439259),E=e([h]);h=(E.then?(await E)():E)[0];const y=e=>e?Number(e).toString():undefined,k=()=>{const e=(0,p.L5)((e=>e.perps.currentPerpsAccount)),t=(0,p.L5)((e=>e.perps.soundEnabled)),{handleActionApproveStatus:a,needEnableTrading:r,executeSignatures:g}=(0,h.W)(),{t:E}=(0,m.$G)(),k=(0,n.Os)(),w=(0,p.$y)(),N=(0,d.Z)((async()=>{try{if(e?.type!==v.Cr.PRIVATE_KEY&&e?.type!==v.Cr.MNEMONIC)return void w.perps.setAccountNeedApproveAgent(!0);const t=(0,o.$)(),a={action:t.exchange?.prepareApproveAgent(),type:"approveAgent",signature:""};await g([a],e);await(t.exchange?.sendApproveAgent({action:a.action?.message,nonce:a.action?.nonce||0,signature:a.signature}))}catch(e){console.error("Failed to send new approve agent:",e),c.Tb(new Error(`Failed to send new approve agent: ${e}`))}})),P=(0,d.Z)((async t=>{const a=e?.address;if(!a)return!1;const r=await k.getAgentWalletPreference(a),n=r?.agentAddress;return n&&t.includes(n)?(console.warn("handle action agent is expired, logout"),i.pG.info({title:"Agent is expired, please try it again"}),N(),!0):void 0})),C=()=>{t&&(0,l.G)("/sounds/order-filled.mp3")},S=(0,d.Z)((async(e,t,r)=>{try{return await a(),await e(t)}catch(e){if(await P(e?.message||""))return;console.error("PERPS",r,e),i.pG.error({title:r,description:e?.message}),c.Tb(new Error(`PERPS ${r} params: `+JSON.stringify(t)+"error: "+JSON.stringify(e)))}})),_=(0,d.Z)((async e=>S((async e=>{const t=(0,o.$)(),{coin:a,isBuy:r,size:n,midPx:l,tpTriggerPx:c,slTriggerPx:d,reduceOnly:p,slippage:m}=e,u=y(c),x=y(d),g=await(t.exchange?.marketOrderOpen({coin:a,isBuy:r,size:n,midPx:l,reduceOnly:p,tpTriggerPx:u,slTriggerPx:x,builder:s.vJ,slippage:m})),f=g?.response?.data?.statuses[0]?.filled;if(f){const{totalSz:e,avgPx:t}=f;return C(),i.pG.success({title:E("page.perps.toast.orderFilled"),description:E("page.perps.toast.openPositionSuccess",{direction:r?"Long":"Short",coin:a,size:e,price:t})}),g?.response?.data?.statuses[0]?.filled}{const e=g?.response?.data?.statuses[0]?.error;throw new Error(e||"open position error")}}),e,"open position error"))),M=(0,d.Z)((async e=>S((async e=>{const t=(0,o.$)(),{coin:a,isBuy:r,size:n,limitPx:l,tpTriggerPx:c,slTriggerPx:d,reduceOnly:p,orderType:m="Gtc"}=e,u=await(t.exchange?.limitOrderOpen({coin:a,isBuy:r,size:n,limitPx:l,reduceOnly:p,tpTriggerPx:c,slTriggerPx:d,tif:m,builder:s.vJ})),x=u?.response?.data?.statuses[0]?.resting,g=u?.response?.data?.statuses[0]?.filled;if(x||g){if(g){const{totalSz:e,avgPx:t}=g;C(),i.pG.success({title:E("page.perps.toast.orderFilled"),description:E("page.perps.toast.openPositionSuccess",{direction:r?"Bought":"Sold",coin:a,size:e,price:t})})}else i.pG.success({title:E("page.perps.toast.orderPlaced"),description:E("page.perps.toast.openLimitOrderSuccess",{direction:r?"Long":"Short",coin:a,size:n,price:l})});return x?.oid||g?.oid}{const e=u?.response?.data?.statuses[0]?.error;throw new Error(e||"open limit order error")}}),e,"open limit order error"))),A=(0,d.Z)((async e=>S((async e=>{const t=(0,o.$)(),{coin:a,isBuy:r,size:n,triggerPx:l,reduceOnly:c}=e,d=await(t.exchange?.placeTPSlMarketOrder({coin:a,isBuy:r,size:n,triggerPx:l,reduceOnly:c,tpsl:e.tpsl,builder:s.vJ})),p=d?.response?.data?.statuses[0]?.resting;if(p?.oid)return i.pG.success({title:E("page.perps.toast.orderPlaced"),description:E("page.perps.toast.openTPSlMarketOrderSuccess",{tpsl:"tp"===e.tpsl?"Take profit":"Stop loss",direction:r?"Long":"Short",coin:a,size:n,price:l})}),p?.oid;{const e=d?.response?.data?.statuses[0]?.error;throw new Error(e||"open tp or sl market order error")}}),e,"open tp or sl market order error"))),I=(0,d.Z)((async e=>S((async e=>{const t=(0,o.$)(),{coin:a,isBuy:r,size:n,triggerPx:l,reduceOnly:c,limitPx:d}=e,p=await(t.exchange?.placeTPSlLimitOrder({coin:a,isBuy:r,size:n,limitPx:d,reduceOnly:c,triggerPx:l,tpsl:e.tpsl,builder:s.vJ})),m=p?.response?.data?.statuses[0]?.resting;if(m?.oid)return i.pG.success({title:E("page.perps.toast.orderPlaced"),description:E("page.perps.toast.openTPSlLimitOrderSuccess",{tpsl:"tp"===e.tpsl?"Take profit":"Stop loss",direction:r?"Long":"Short",coin:a,size:n,price:l})}),m?.oid;{const e=p?.response?.data?.statuses[0]?.error;throw new Error(e||"open tp or sl limit order error")}}),e,"open tp or sl limit order error"))),L=(0,d.Z)((async e=>S((async e=>{const t=(0,o.$)(),{coin:a,isBuy:r,size:n,reduceOnly:l,durationMins:s,randomizeDelay:c}=e,d=await(t.exchange?.placeTwapOrder({coin:a,isBuy:r,sz:(0,x.BP)(n),reduceOnly:l,durationMins:s,randomizeDelay:c})),p=d?.response?.data?.status?.running?.twapId;if(p)return i.pG.success({title:E("page.perps.toast.orderPlaced"),description:E("page.perps.toast.openTWAPOrderSuccess",{direction:r?"Long":"Short",coin:a,size:n})}),p;throw new Error(d?.response?.data?.error||"open twap order error"||"open twap order error")}),e,"open twap order error"))),Z=(0,d.Z)((async e=>S((async e=>{const t=(0,o.$)(),{coin:a,twapId:r}=e,n=await(t.exchange?.cancelTwapOrder({coin:a,twapId:r}));if("success"===n?.response?.data.status)return i.pG.info({title:E("page.perps.toast.terminalTwap"),description:E("page.perps.toast.terminalTwapSuccess")}),!0}),e,"cancel twap order error"))),T=(0,d.Z)((({coin:e,szDecimals:t,isBuy:a,totalSize:r,startPrice:n,endPrice:l,numGrids:o,sizeSkew:i=1,reduceOnly:c=!1,limitOrderType:d="Gtc"})=>{if(o<=0)throw new Error("numGrids must be greater than 0");if(Number(n)===Number(l))throw new Error("startPrice and endPrice must be different");if(1===o)return[{coin:e,isBuy:a,sz:r,limitPx:n,reduceOnly:c,orderType:{limit:{tif:d}},builder:s.vJ}];const p=[],m=new(f())(r),u=new(f())(n),x=new(f())(l),g=new(f())(o),h=new(f())(i);if(m.lte(0))throw new Error("totalSize must be greater than 0");if(u.lte(0)||x.lte(0))throw new Error("startPrice and endPrice must be greater than 0");if(h.lte(0))throw new Error("sizeSkew must be greater than 0");const v=x.minus(u).dividedBy(g.minus(1));let E,y;if(h.isEqualTo(1))E=m.dividedBy(g).toFixed(t,f().ROUND_DOWN),y="0";else{const e=g.multipliedBy(new(f())(1).plus(h.minus(1).dividedBy(2)));E=m.dividedBy(e).toFixed(t,f().ROUND_DOWN);const a=new(f())(E);y=h.minus(1).multipliedBy(a).dividedBy(g.minus(1)).toFixed(t,f().ROUND_DOWN)}let k=new(f())(0);const w=new(f())(E),N=new(f())(y);for(let r=0;r<o;r++){const n=new(f())(r),l=u.plus(n.multipliedBy(v));let i;i=r!==o-1||h.isEqualTo(1)?w.plus(n.multipliedBy(N)).toFixed(t,f().ROUND_DOWN):m.minus(k).toFixed(t,f().ROUND_DOWN);const x={coin:e,isBuy:a,sz:i,limitPx:(0,b.jB)(l.toNumber(),t),reduceOnly:c,orderType:{limit:{tif:d}},builder:s.vJ};p.push(x),k=k.plus(new(f())(x.sz))}new(f())(p[0].sz),new(f())(p[o-1].sz);return p})),O=(0,d.Z)((async e=>S((async e=>{const t=(0,o.$)(),{coin:a,isBuy:r,totalSize:n,orders:l}=e,c=await(t.exchange?.multiOrder({orders:l,grouping:"na",builder:s.vJ})),d=c?.response?.data?.statuses[0]?.resting?.oid;if(d)return i.pG.success({title:E("page.perps.toast.orderPlaced"),description:E("page.perps.toast.openScaleOrderSuccess",{direction:r?"Long":"Short",coin:a,size:n})}),d;{const e=c?.response?.data?.statuses[0]?.error||"open scale order error";throw new Error(e||"open scale order error")}}),e,"open scale order error"))),$=(0,d.Z)((async e=>S((async e=>{const t=(0,o.$)(),{coin:a,isBuy:r,midPx:n,size:l,reduceOnly:c}=e,d=await(t.exchange?.marketOrderClose({coin:a,isBuy:r,size:l,midPx:n,builder:s.vJ,reduceOnly:c})),p=d?.response?.data?.statuses[0]?.filled;if(p){const{totalSz:e,avgPx:t}=p;return C(),i.pG.success({title:E("page.perps.toast.orderFilled"),description:E("page.perps.toast.closePositionSuccess",{direction:r?"Short":"Long",coin:a,size:e,price:t})}),d?.response?.data?.statuses[0]?.filled}{const e=d?.response?.data?.statuses[0]?.error;throw new Error(e||"close position error")}}),e,"close position error"))),z=(0,d.Z)((async e=>S((async e=>{const t=(0,o.$)(),a=await(t.exchange?.closeAllPositions(e,.08,s.vJ));if(a?.response?.data?.statuses[0]?.filled)return C(),i.pG.success({title:E("page.perps.toast.orderFilled"),description:E("page.perps.toast.closeAllPositionsSuccess")}),!0}),e,"close all positions error"))),B=(0,d.Z)((async(e,t,a)=>S((async e=>{const t=(0,o.$)(),a=await(t.exchange?.updateIsolatedMargin({coin:e.coin,value:"add"===e.action?e.margin:-e.margin}));if("ok"!==a?.status){const e=a?.response?.data?.statuses[0];throw new Error(e||"Update margin failed")}i.pG.success({title:E("page.perps.toast.marginUpdated"),description:E("add"===e.action?"page.perpsDetail.PerpsEditMarginPopup.addMarginSuccess":"page.perpsDetail.PerpsEditMarginPopup.reduceMarginSuccess")}),w.perps.fetchClearinghouseState()}),{coin:e,action:t,margin:a},"Update margin failed"))),F=(0,d.Z)((async(e,t,a,r)=>S((async()=>{const r=(0,o.$)();return await(r.exchange?.updateLeverage({coin:e,leverage:t,isCross:a===u.JC.CROSS})),!0}),{coin:e,leverage:t,mode:a},"marginMode"===r?"Cannot Change Margin Mode":"Cannot Change Leverage")));return{handleCloseWithMarketOrder:$,handleOpenMarketOrder:_,handleOpenLimitOrder:M,handleOpenTPSlMarketOrder:A,handleOpenTPSlLimitOrder:I,handleOpenTWAPOrder:L,handleCancelTWAPOrder:Z,handleOpenScaleOrder:O,calculateScaleOrdersWithSkew:T,handleUpdateMargin:B,handleSetAutoClose:(0,d.Z)((async e=>S((async t=>{const a=(0,o.$)(),{coin:r,tpTriggerPx:n,slTriggerPx:l,direction:c}=e,d=y(n),p=y(l);await(a.exchange?.bindTpslByOrderId({coin:r,isBuy:"Long"===c,tpTriggerPx:d,slTriggerPx:p,builder:s.vJ}));i.pG.success({title:E("page.perps.toast.success"),description:E("page.perps.toast.setAutoCloseSuccess")})}),e,"Set auto close failed"))),handleCloseAllPositions:z,handleModifyTpSlOrders:(0,d.Z)((async e=>S((async t=>{const a=(0,o.$)(),{coin:r,direction:n,tp:l,sl:s}=e,i=await(a.exchange?.updateTpslByOrderId({coin:r,isBuy:"Long"===n,tp:l,sl:s})),c=i?.response?.data?.statuses[0]?.resting;if(!c?.oid){const e=i?.response?.data?.statuses[0].error;throw new Error(e||"modify auto close failed")}}),e,"modify auto close failed"))),handleUpdateMarginModeLeverage:F,handleCancelOrder:(0,d.Z)((async e=>S((async()=>{const t=(0,o.$)(),a=await(t.exchange?.cancelOrder(e));if(a?.response.data.statuses.every((e=>"success"===e))){const t=e.length;i.pG.success({title:E(t>1?"page.perps.toast.ordersCancelled":"page.perps.toast.orderCancelled"),description:t>1?E("page.perps.toast.cancelAllOrderSuccess",{count:t}):E("page.perps.toast.cancelOrderSuccess")}),setTimeout((()=>{w.perps.fetchPositionOpenOrders()}),100)}else i.pG.error({title:E("page.perps.toast.cancelFailed"),description:E("page.perps.toast.cancelOrderError")})}),e,"cancel error"))),needEnableTrading:r,handleActionApproveStatus:a}};r()}catch(e){r(e)}}))},421217:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{W:()=>h,Z:()=>v});var n=a(665037),l=a(667294),o=a(719174),s=a(308581),i=a(603730),c=a(837559),d=a(439259),p=a(222638),m=a(496486),u=a(362896),x=a(205686),g=a(386269),f=a(546448),b=e([s]);s=(b.then?(await b)():b)[0];const h=()=>{const e=(0,n.$y)(),{isDarkTheme:t}=(0,x.r)(),a=(0,n.L5)((e=>e.perps)),{isInitialized:r,currentPerpsAccount:b,isLogin:h,positionAndOpenOrders:v,hasPermission:E,accountNeedApproveAgent:y,accountNeedApproveBuilderFee:k,selectedCoin:w}=a,N=(0,o.Os)(),P=(0,p.Z)((async(e,a)=>{const r=(0,u.$)(),n=await r.info.extraAgents(e.address),l=n.find((e=>(0,o.Wr)(e.address,a)));if(!l){if(!n.find((e=>e.name===c.Yq))&&n.length>=3){const a=async()=>{const t=(0,m.minBy)(n,(e=>e.validUntil));if(t){r.initAccount(e.address,c.mq,c.mq,t.name);const a=r.exchange?.prepareApproveAgent(),n=[{action:a,type:"approveAgent",signature:""}];await M(n,e);await(r.exchange?.sendApproveAgent({action:a?.message,nonce:a?.nonce||0,signature:n[0].signature}))}};return(0,g.Z)({isDarkTheme:t,onConfirm:a}),{needDelete:!0,isExpired:!0}}return{isExpired:!0}}const s=l?.validUntil,i=Date.now()+864e5;return{isExpired:!s||s<i}})),C=(0,p.Z)((async t=>{try{const a=(0,u.$)();await a.info.getMaxBuilderFee(c.Ij)||(e.perps.setAccountNeedApproveBuilderFee(!0),console.error("Failed to set builder fee"),i.Tb(new Error(`PERPS set builder fee error, no max builder fee, address: ${t}`)))}catch(e){console.error("Failed to set builder fee:",e)}})),S=(0,p.Z)((async()=>{const e=(0,u.$)(),t=[{action:e.exchange?.prepareApproveAgent(),type:"approveAgent",signature:""}];if(!await e.info.getMaxBuilderFee(c.Ij)){const a=e.exchange?.prepareApproveBuilderFee({builder:c.Ij});t.push({action:a,type:"approveBuilderFee",signature:""})}return t})),_=(0,p.Z)((async(t,a)=>{if(!t||0===t.length)throw new Error("no signature, try later");let r=[];if(await e.account.changeAccountAsync(a),a.type===d.Cr.PRIVATE_KEY||a.type===d.Cr.MNEMONIC)s.UI.close(),r=await s.UI.start({txs:t.map((e=>({data:e,from:a.address,version:"V4"}))),config:{account:a},wallet:N},{}),s.UI.close();else for(const e of t){const t=await N.sendRequest({method:"eth_signTypedDataV4",params:[a.address,JSON.stringify(e)]});r.push(t)}return r})),M=(0,p.Z)((async(e,t)=>{const a=await _(e.map((e=>e.action)),t);e.forEach(((e,t)=>{e.signature=a[t]}))})),A=(0,l.useCallback)((async()=>{try{const e=(0,u.$)();await(e.exchange?.setReferrer(c.k5))}catch(e){}}),[]),I=(0,l.useCallback)((async e=>{const t=(0,u.$)(),a=await Promise.all(e.map((async e=>{const{action:a,type:r,signature:n}=e;if("approveAgent"===r)return t.exchange?.sendApproveAgent({action:a?.message,nonce:a?.nonce||0,signature:n});if("approveBuilderFee"===r){return await(t.exchange?.sendApproveBuilderFee({action:a?.message,nonce:a?.nonce||0,signature:n||""}))}})));setTimeout((()=>{A()}),500);const[r,n]=a}),[A]),L=(0,p.Z)((async(t,a)=>{try{const r=(0,u.$)(),n=[],[l,o]=await Promise.all([P(t,a),r.info.getMaxBuilderFee(c.Ij)]);if(l.needDelete)return e.perps.setAccountNeedApproveAgent(!0),void(!o&&e.perps.setAccountNeedApproveBuilderFee(!0));if(l.isExpired){const{agentAddress:e,vault:a}=await N.createPerpsAgentWallet(t.address);r.initOrUpdateAgent(a,e,c.Yq),n.push({action:r.exchange?.prepareApproveAgent(),type:"approveAgent",signature:""})}if(!o){const e=r.exchange?.prepareApproveBuilderFee({builder:c.Ij});n.push({action:e,type:"approveBuilderFee",signature:""})}if(0===n.length)return e.perps.setAccountNeedApproveAgent(!1),void e.perps.setAccountNeedApproveBuilderFee(!1);if(t.type===d.Cr.PRIVATE_KEY||t.type===d.Cr.MNEMONIC){for(const e of n){let a="";a=await N.signTypedData(t.type,t.address,e.action,{version:"V4"}),e.signature=a}await I(n),e.perps.setAccountNeedApproveAgent(!1),e.perps.setAccountNeedApproveBuilderFee(!1)}else{let t=!1,a=!1;n.forEach((e=>{"approveAgent"===e.type?t=!0:"approveBuilderFee"===e.type&&(a=!0)})),e.perps.setAccountNeedApproveAgent(t),e.perps.setAccountNeedApproveBuilderFee(a)}}catch(r){e.perps.setAccountNeedApproveAgent(!0),e.perps.setAccountNeedApproveBuilderFee(!0),i.Tb(new Error(`ensure login approve sign failed, address: ${t.address} , account type: ${t.type} , agentAddress: ${a} , error: ${r}`))}})),Z=(0,l.useRef)(!1),T=(0,l.useMemo)((()=>y||k),[y,k]),O=(0,p.Z)((async()=>{try{if(Z.current)throw new Error("Already handling approve status");if(Z.current=!0,!b)throw new Error("No currentPerpsAccount");const t=[],a=(0,u.$)();if(y&&t.push({action:a.exchange?.prepareApproveAgent(),type:"approveAgent",signature:""}),k&&(await(0,o._v)(10),t.push({action:a.exchange?.prepareApproveBuilderFee({builder:c.Ij}),type:"approveBuilderFee",signature:""})),0===t.length)return void(Z.current=!1);await M(t,b);try{await I(t)}catch(e){console.error("Failed to handle direct approve:",e)}e.perps.setAccountNeedApproveAgent(!1),e.perps.setAccountNeedApproveBuilderFee(!1),Z.current=!1}catch(e){throw Z.current=!1,console.error("Failed to handle action approve status:",e),f.ZP.error({title:"Failed to enable trading",description:"message"in e?e.message:String(e)}),i.Tb(new Error(`Failed to handle action approve status, address: ${b?.address} , account type: ${b?.type} , error: ${e}`)),e}})),$=(0,p.Z)((t=>{t.forEach((t=>{"approveAgent"===t.type?e.perps.setAccountNeedApproveAgent(!0):"approveBuilderFee"===t.type&&e.perps.setAccountNeedApproveBuilderFee(!0)}))})),z=(0,p.Z)((async t=>{const{agentAddress:a,vault:r}=await N.createPerpsAgentWallet(t.address),n=(0,u.$)();n.initAccount(t.address,r,a,c.Yq);const l=await S();if(t.type===d.Cr.PRIVATE_KEY||t.type===d.Cr.MNEMONIC){await M(l,t);let a=!0;const r=await n.info.getClearingHouseState(t.address);if((Number(r?.marginSummary.accountValue)||0)>0)a=!1;else{const{role:e}=await n.info.getUserRole();a="missing"===e}a?$(l):(await I(l),setTimeout((()=>{A()}),500),e.perps.setAccountNeedApproveAgent(!1),e.perps.setAccountNeedApproveBuilderFee(!1))}else{let t=!1,a=!1;l.forEach((e=>{"approveAgent"===e.type?t=!0:"approveBuilderFee"===e.type&&(a=!0)})),e.perps.setAccountNeedApproveAgent(t),e.perps.setAccountNeedApproveBuilderFee(a)}e.perps.setCurrentPerpsAccount(t),await e.perps.loginPerpsAccount({account:t,isPro:!0})})),B=(0,p.Z)((async t=>{try{const a=(0,u.$)(),r=await N.getPerpsAgentWallet(t.address),n=r?.preference?.agentAddress||"",{isExpired:l,needDelete:o}=await P(t,n);return!o&&(r?l?await z(t):(a.initAccount(t.address,r.vault,r.preference.agentAddress,c.Yq),e.perps.setCurrentPerpsAccount(t),await e.perps.loginPerpsAccount({account:t,isPro:!0}),e.perps.setAccountNeedApproveAgent(!1),e.perps.setAccountNeedApproveBuilderFee(!1),C(t.address)):await z(t),e.perps.clearLocalLoadingHistory(),e.perps.resetTradingState(),!0)}catch(e){console.error("Failed to login Perps account:",e),f.ZP.error({title:"Switch account failed",description:e.message||"Login failed"}),i.Tb(new Error("PERPS Login failed"+JSON.stringify({error:e})))}})),F=(0,p.Z)((t=>{e.perps.logout(),N.setPerpsCurrentAccount(null)}));return{marketData:a.marketData,marketDataMap:a.marketDataMap,positionAndOpenOrders:a.positionAndOpenOrders,accountSummary:a.accountSummary,currentPerpsAccount:a.currentPerpsAccount,isLogin:a.isLogin,isInitialized:a.isInitialized,userFills:a.userFills,hasPermission:a.hasPermission,perpFee:a.perpFee,accountNeedApproveAgent:a.accountNeedApproveAgent,accountNeedApproveBuilderFee:a.accountNeedApproveBuilderFee,login:B,logout:F,handleActionApproveStatus:O,needEnableTrading:T,handleSafeSetReference:A,ensureLoginApproveSign:L,executeSignatures:M}},v=h;r()}catch(e){r(e)}}))},228732:(e,t,a)=>{a.d(t,{N:()=>p});var r=a(665037),n=a(667294),l=a(177198),o=a(535935),s=a(222638),i=a(244431),c=a.n(i),d=a(255770);const p=()=>{const e=(0,r.$y)(),{clearinghouseState:t,wsActiveAssetCtx:a,selectedCoin:i="ETH",currentPerpsAccount:p,marketDataMap:m,wsActiveAssetData:u,tradingOrderSide:x,tradingPositionSize:g,tradingPercentage:f,tradingTpslConfig:b,tradingReduceOnly:h}=(0,r.L5)((e=>e.perps)),v=((0,n.useCallback)((t=>{e.perps.patchState({tradingOrderSide:t})}),[e]),(0,n.useCallback)((t=>{"function"==typeof t?e.perps.patchState({tradingPositionSize:t(g)}):e.perps.patchState({tradingPositionSize:t})}),[e,g])),E=(0,n.useCallback)((t=>{e.perps.patchState({tradingPercentage:t})}),[e]),y=(0,n.useCallback)((t=>{"function"==typeof t?e.perps.patchState({tradingTpslConfig:t(b)}):e.perps.patchState({tradingTpslConfig:t})}),[e,b]),k=(0,n.useCallback)((t=>{"function"==typeof t?e.perps.patchState({tradingReduceOnly:t(h)}):e.perps.patchState({tradingReduceOnly:t})}),[e,h]),w=n.useMemo((()=>m?.[i]||null),[m,i]),N=n.useMemo((()=>Number(t?.crossMarginSummary.accountValue||0)-Number(t?.crossMaintenanceMarginUsed||0)),[t?.crossMarginSummary.accountValue]),P=n.useMemo((()=>{const e=t?.assetPositions?.find((e=>e.position.coin===i));if(!e)return null;const a=e.position;return{size:Math.abs(Number(a.szi||0)),side:Number(a.szi||0)>0?"Long":"Short",entryPrice:Number(a.entryPx||0),leverage:Number(a.leverage.value||1),marginUsed:Number(a.marginUsed||0),liquidationPrice:Number(a.liquidationPx||0),unrealizedPnl:Number(a.unrealizedPnl||0)}}),[t,i]),C=n.useMemo((()=>a&&a.coin.toUpperCase()===i.toUpperCase()?Number(a.ctx.markPx||0):Number(w?.markPx||0)),[a,w]),S=n.useMemo((()=>a&&a.coin.toUpperCase()===i.toUpperCase()?Number(a.ctx.midPx||0):Number(w?.midPx||0)),[a,w]),_=w?.szDecimals??4,M=w?.pxDecimals??2,A=w?.maxLeverage||25,I=u?.leverage.value||A,L=u?.leverage.type||"isolated",Z=n.useMemo((()=>{const e=Number(t?.withdrawable||0);return Number(x===l.oU.BUY?u?.availableToTrade[0]||e:u?.availableToTrade[1]||e)}),[t,u?.availableToTrade[0],u?.availableToTrade[1],x]),T=u?.maxTradeSzs[0],O=u?.maxTradeSzs[1],$=n.useMemo((()=>Number(g.notionalValue)||0),[g.notionalValue]),z=n.useMemo((()=>$/I),[$,I,h]),B=n.useMemo((()=>$?g.amount:"0"),[g.amount,$]),F=n.useMemo((()=>{if(!C||!I||!$)return"";const e=x===l.oU.BUY?"Long":"Short",t=Number(B);if(0===t)return"";const a=(0,o.rU)(C,"cross"===L?N:z,e,t,$,A);return new(c())(a).gt(0)?`$${a.toFixed(M)}`:"-"}),[N,C,L,I,$,x,B,z,A,M]),D=(0,n.useMemo)((()=>{const e=x===l.oU.BUY;if(h&&P){return("Long"===P.side?l.oU.BUY:l.oU.SELL)===x?"0":P.size.toString()}return e?T:O}),[x,T,O,P,h]);(0,n.useEffect)((()=>{P||k(!1)}),[P?.side]);const R=n.useMemo((()=>{if(h)return"-";if(!Z||0===Z)return"0.0%";const e=z/Z*100;return`${Math.min(e,100).toFixed(1)}%`}),[z,Z,h]),j=(0,s.Z)((t=>{e.perps.patchState({tradingTpslConfig:{...b,enabled:t}})})),V=(0,n.useCallback)((()=>{e.perps.resetTradingState()}),[e]),U=(0,n.useCallback)((t=>{e.perps.patchState({tradingOrderSide:t,tradingPositionSize:{amount:"",notionalValue:""},tradingPercentage:0,tradingReduceOnly:!1,tradingTpslConfig:d.wU})}),[e]);(0,n.useEffect)((()=>{y((e=>({...e,takeProfit:{percentage:"",error:"",inputMode:"percentage",price:""},stopLoss:{percentage:"",error:"",inputMode:"percentage",price:""}})))}),[I]);const H=(0,n.useMemo)((()=>b.enabled&&Boolean(b.takeProfit.error||b.stopLoss.error)),[b.enabled,b.takeProfit.error,b.stopLoss.error]);return{leverageType:L,crossMargin:N,selectedCoin:i,orderSide:x,switchOrderSide:U,positionSize:g,setPositionSize:v,currentPosition:P,markPrice:C,midPrice:S,szDecimals:_,pxDecimals:M,maxLeverage:A,leverage:I,availableBalance:Z,reduceOnly:h,setReduceOnly:k,tradeUsdAmount:$,marginRequired:z,tradeSize:B,estimatedLiquidationPrice:F,maxTradeSize:D,marginUsage:R,currentMarketData:w,percentage:f,setPercentage:E,tpslConfig:b,tpslConfigHasError:H,setTpslConfig:y,handleTPSLEnabledChange:j,resetForm:V}}},55141:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{u:()=>N});var n=a(667294),l=a(658804),o=a(185259),s=a(975845),i=a(929693),c=a(345566),d=a(645464),p=a(892733),m=(a(180559),a(247201)),u=a(547886),x=a(957416),g=a(665037),f=a(547626),b=a(214637),h=a(942718),v=a(232250),E=a(448492),y=a(421217),k=e([i,c,m,x,f,y]);[i,c,m,x,f,y]=k.then?(await k)():k;const w=l.ZP.div.withConfig({displayName:"rabby--Wrap",componentId:"rabby--a0b6n8"})`
  width: 100%;
  min-height: 100vh;
  background: var(--rb-neutral-bg-1, #fff);
  display: flex;
  flex-direction: column;
  padding-bottom: 32px;
`,N=({isActive:e=!0})=>{(0,m.a)();const t=(0,u.k6)(),a=(0,u.TH)(),r=(0,g.$y)(),l=(0,g.L5)((e=>e.perps.selectedCoin)),k=(0,n.useRef)(!1),[N,P]=(0,n.useState)(null),C=(0,g.L5)((e=>e.perps.currentPerpsAccount)),{login:S}=(0,y.Z)(),_=(0,n.useCallback)((e=>{P(e)}),[]),{action:M,coin:A}=(0,n.useMemo)((()=>{const e=new URLSearchParams(a.search);return{action:e.get("action"),coin:e.get("coin")}}),[a.search]);return(0,n.useEffect)((()=>{e&&A&&A.toUpperCase()!==l.toUpperCase()&&(k.current=!0,r.perps.setSelectedCoin(A.toUpperCase()),setTimeout((()=>{k.current=!1}),0))}),[A,r,e]),(0,n.useEffect)((()=>{if(e&&!k.current&&l&&A?.toUpperCase()!==l.toUpperCase()){const e=new URLSearchParams(a.search);e.set("coin",l),t.replace({pathname:a.pathname,search:e.toString()})}}),[l,A,t,a,e]),n.createElement(n.Fragment,null,n.createElement(w,null,n.createElement("div",{className:"flex flex-1 px-[20px] pb-16"},n.createElement("div",{className:"flex flex-col flex-1 min-w-0"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement(f.j,{showRightItems:!1}),n.createElement("div",{className:"flex items-center gap-[16px]"},n.createElement(E.z,{scene:"perps",value:C,onChange:S}),n.createElement(b.b,{handleSetPopupType:_}),n.createElement(v.e,null))),n.createElement(h.p,null),n.createElement("div",{className:"flex flex-col flex-1 min-w-0 border border-solid border-rb-neutral-line rounded-[16px] overflow-hidden bg-rb-neutral-bg-1"},n.createElement("div",{className:"flex h-[680px] border-b border-solid border-rb-neutral-line"},n.createElement("div",{className:"flex-[4] flex min-w-0 border-r border-solid border-rb-neutral-line overflow-hidden"},n.createElement("div",{className:"flex-[3] min-w-0 border-r border-solid border-rb-neutral-line"},n.createElement(o.A,null)),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement(s.M,null))),n.createElement("div",{className:" flex-1 flex-shrink-0 overflow-auto"},n.createElement(i.U,null))),n.createElement("div",{className:"flex flex-1 min-h-[280px] max-h-[max(280px,calc(100vh-820px))]"},n.createElement("div",{className:"flex-[4] min-w-0 border-r border-solid border-rb-neutral-line overflow-hidden"},n.createElement(c.B,null)),n.createElement("div",{className:"flex-1 flex-shrink-0 overflow-auto"},n.createElement(d.w,{handleSetPopupType:_})))))),n.createElement(p.A,null)),n.createElement(x.G,{visible:"deposit"===N||"withdraw"===N,type:"deposit"===N?"deposit":"withdraw",onCancel:()=>{P(null)}}))};r()}catch(e){r(e)}}))},676115:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{c:()=>N});var n=a(665037),l=a(719174),o=a(222638),s=a(605708),i=a(71577),c=a(757016),d=a(244431),p=a.n(d),m=a(386010),u=a(667294),x=a(926893),g=a(52887),f=a(925822),b=a(927875),h=a(22906),v=a(359686),E=a(535935),y=a(522508),k=e([v]);v=(k.then?(await k)():k)[0];const w=({onCancel:e,position:t,marketData:a,type:r,onConfirm:c})=>{const{t:d}=(0,g.$G)(),f=(0,n.$y)(),k=a.markPx,w=a.szDecimals,[N,P]=u.useState({amount:"",notionalValue:""}),[C,S]=u.useState(0),[_,M]=u.useState((0,E.jB)(Number(a.midPx||0),w)),{desc:A,btnText:I}=(0,u.useMemo)((()=>{switch(r){case"limit":return{desc:d("page.perpsPro.userInfo.positionInfo.closePositionTips"),btnText:d("page.perpsPro.userInfo.positionInfo.limitClose")};case"market":return{desc:d("page.perpsPro.userInfo.positionInfo.closePositionMarketTips"),btnText:d("page.perpsPro.userInfo.positionInfo.closePosition")};case"reverse":return{desc:d("page.perpsPro.userInfo.positionInfo.closePositionReverseTips"),btnText:d("page.perpsPro.userInfo.positionInfo.confirm")}}}),[r,d]),L=(0,o.Z)((e=>{(0,E.V2)(e,a.szDecimals)&&M(e)})),Z=(0,u.useMemo)((()=>{if("limit"===r){const e=new(p())(_||0).minus(new(p())(t.entryPx||0)).times(t.size).toFixed(2);return new(p())(t.marginUsed||0).plus(e)}const e=new(p())(t.marginUsed||0),a=new(p())(C||0);return e.times(a).div(100)}),[t.marginUsed,C,_,t.entryPx,t.size,t.leverage]),T=(0,u.useMemo)((()=>{const e=new(p())(N.amount||0),a=new(p())(t.entryPx||0),n="limit"===r?new(p())(_||0):new(p())(k);return"Long"===t.direction?n.minus(a).times(e):a.minus(n).times(e)}),[N.amount,_,k,t.direction,t.entryPx,t.size,r]),{handleOpenLimitOrder:O,handleCloseWithMarketOrder:$}=(0,v.n)(),{loading:z,runAsync:B}=(0,s.Z)((async()=>{const e="Short"===t.direction;"limit"===r?await O({coin:t.coin,isBuy:e,size:new(p())(N.amount).toFixed(a.szDecimals),limitPx:new(p())(_).toFixed(a.pxDecimals),reduceOnly:!0}):"market"===r?await $({coin:t.coin,isBuy:e,size:new(p())(N.amount).toFixed(a.szDecimals),midPx:k,reduceOnly:!0}):"reverse"===r&&await $({coin:t.coin,isBuy:e,size:new(p())(t.size||0).times(2).toFixed(a.szDecimals),midPx:k,reduceOnly:!1})}),{manual:!0,onSuccess:()=>{f.perps.fetchClearinghouseState(),f.perps.fetchUserHistoricalOrders(),c?.()}}),F=()=>{M((0,E.jB)(Number(a?.midPx||a?.markPx||0),a.szDecimals))},D=(0,u.useMemo)((()=>{const e=Number(a.markPx);if(!e)return 0;const r=a.maxLeverage;return(0,E.rU)(e,Number(t.marginUsed),"Long"===t.direction?"Short":"Long",Number(t.size),Number(t.size)*e,r).toFixed(a.pxDecimals)}),[a.pxDecimals,a.markPx,t.marginUsed,t.size,t.direction,a.maxLeverage]),R=(0,u.useMemo)((()=>(0,E.Pn)(D,a.markPx)),[D,a.markPx]),j=u.useMemo((()=>{if("reverse"===r)return{isValid:!0,error:""};let e="";const a=Number(N.notionalValue)||0,n=Number(N.amount)||0;if(0===a)return{isValid:!1,error:""};const l=Number(t.size)||0;return l&&n>l?(e=d("page.perpsPro.tradingPanel.insufficientBalance"),{isValid:!1,error:e}):{isValid:""===e,error:e}}),[r,N.notionalValue,_,t.size,N.amount,a.maxUsdValueSize,d]);(0,u.useEffect)((()=>{F()}),[]);const V=(0,u.useMemo)((()=>"reverse"!==r?null:{...t,direction:"Long"===t.direction?"Short":"Long",entryPx:k,liquidationDistancePercent:(0,E.$3)(R)}),[t.size,N.amount,k,R]);return u.createElement("div",{className:"flex flex-col min-h-[520px] bg-r-neutral-bg2"},u.createElement("div",{className:"text-center text-20 font-medium text-r-neutral-title-1 mt-16 mb-12"},d("reverse"===r?"page.perpsPro.userInfo.positionInfo.reversePosition":"page.perpsPro.userInfo.positionInfo.closePosition")),u.createElement("div",{className:"flex-1 px-20 overflow-y-auto pb-24"},u.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-body text-center mb-[16px]"},A),u.createElement("section",{className:"mb-[12px]"},u.createElement("div",{className:"text-[13px] leading-[16px] text-rb-neutral-foot font-medium mb-[8px]"},d("page.perpsPro.userInfo.positionInfo.currentPosition")),u.createElement(h.A,{position:t,marketData:a})),"reverse"!==r?u.createElement(u.Fragment,null,u.createElement("section",{className:"mb-[12px]"},u.createElement("div",{className:"text-[13px] leading-[16px] text-rb-neutral-foot font-medium mb-[8px]"},d("page.perpsPro.userInfo.positionInfo.configure")),u.createElement("div",null,"limit"===r?u.createElement("div",{className:"flex items-center gap-[12px] mb-[12px]"},u.createElement(b.V,{className:"flex-1 text-right",prefix:u.createElement("span",{className:"text-[13px] leading-[16px] text-r-neutral-foot font-medium"},d("page.perpsPro.userInfo.positionInfo.limitPrice")),value:_,onChange:e=>{L(e.target.value)},suffix:u.createElement("span",{className:"text-[13px] leading-[16px] font-medium text-rb-neutral-title-1"},"USD")}),u.createElement("div",{className:(0,m.Z)("cursor-pointer w-[88px] py-[12px]","rounded-[8px] bg-rb-neutral-bg-1","text-center text-[13px] leading-[16px] font-medium text-rb-neutral-title-1 hover:border-rb-brand-default border border-solid border-transparent"),onClick:F},d("page.perpsPro.userInfo.positionInfo.mid"))):null,u.createElement("div",{className:"space-y-[16px]"},u.createElement(y.L,{defaultMax:!0,price:"limit"===r?_:k,maxTradeSize:t.size,positionSize:N,setPositionSize:P,percentage:C,setPercentage:S,baseAsset:t.coin,quoteAsset:"USDC",szDecimals:a.szDecimals,priceChangeUsdValue:!0})))),u.createElement("section",{className:"space-y-[8px]"},("market"===r||"limit"===r)&&u.createElement("div",{className:"flex items-center justify-between"},u.createElement("div",{className:"text-r-neutral-foot text-[12px] leading-[14px] font-medium"},d("page.perpsPro.userInfo.positionInfo.receive")),j.isValid?u.createElement("div",{className:(0,m.Z)("font-medium text-r-neutral-title-1 text-[12px] leading-[14px]")},(0,l.xv)(Z.toNumber())):u.createElement("div",{className:(0,m.Z)("font-medium text-r-neutral-title-1  text-[12px] leading-[14px]")},"-")),u.createElement("div",{className:"flex items-center justify-between"},u.createElement("div",{className:"text-r-neutral-foot text-[12px] leading-[14px] font-medium"},d("page.perpsPro.userInfo.positionInfo.closedPnl")),j.isValid?u.createElement("div",{className:(0,m.Z)("font-medium text-[12px] leading-[14px]",T.isLessThan(0)?"text-r-red-default":"text-r-green-default")},T.isGreaterThanOrEqualTo(0)?"+":"-","$",(0,l.V3)(T.abs().toFixed(2))):u.createElement("div",{className:(0,m.Z)("font-medium text-r-neutral-title-1 text-[12px] leading-[14px]")},"-")))):V?u.createElement(u.Fragment,null,u.createElement("section",{className:"mb-[12px]"},u.createElement("div",{className:"text-[13px] leading-[16px] text-rb-neutral-foot font-medium mb-[8px]"},d("page.perpsPro.userInfo.positionInfo.newPosition")),u.createElement(h.A,{position:V,marketData:a,isShowPnl:!1})),u.createElement("section",{className:"space-y-[8px]"},u.createElement("div",{className:"flex items-center justify-between"},u.createElement("div",{className:"text-r-neutral-foot text-[12px] leading-[14px] font-medium"},d("page.perpsDetail.PerpsEditMarginPopup.liqPrice")),u.createElement("div",{className:(0,m.Z)("font-medium text-rb-neutral-title-1 text-[12px] leading-[14px]")},"$",(0,l.V3)(D))),u.createElement("div",{className:"flex items-center justify-between"},u.createElement("div",{className:"text-r-neutral-foot text-[12px] leading-[14px] font-medium"},d("page.perpsDetail.PerpsEditMarginPopup.liqDistance")),u.createElement("div",{className:(0,m.Z)("font-medium flex items-center flex-row text-[12px] leading-[14px] gap-4","text-rb-neutral-title-1")},u.createElement(x.r,{className:"text-rb-neutral-info"}),(0,E.$3)(R))))):null),u.createElement("div",{className:"bottom-0 left-0 right-0 border-t-[0.5px] border-solid border-rabby-neutral-line px-20 py-16 bg-r-neutral-bg2"},u.createElement("div",{className:"flex items-center gap-[16px]"},u.createElement(i.Z,{block:!0,size:"large",type:"ghost",onClick:e,className:(0,m.Z)("h-[44px]","text-blue-light","border-blue-light","hover:bg-[#8697FF1A] active:bg-[#0000001A]","before:content-none")},d("global.Cancel")),u.createElement(i.Z,{block:!0,size:"large",type:"primary",className:"h-[44px] text-15 font-medium",disabled:!j.isValid,loading:z,onClick:B},j.error?j.error:I))))},N=({visible:e,onCancel:t,position:a,marketData:r,type:n,onConfirm:l})=>u.createElement(c.Z,{bodyStyle:{padding:0,maxHeight:"unset"},centered:!0,destroyOnClose:!0,closable:!0,visible:e,onCancel:t,footer:null,width:400,maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},className:"modal-support-darkmode",closeIcon:u.createElement(f.r,{className:"w-[20px] h-[20px]"})},u.createElement(w,{onCancel:t,position:a,marketData:r,type:n,onConfirm:l}));r()}catch(e){r(e)}}))},321216:(e,t,a)=>{a.d(t,{V:()=>v});var r=a(667294),n=a(757016),l=a(931097),o=a(71577),s=a(52887),i=a(244431),c=a.n(i),d=a(386010),p=a(719174),m=a(926893),u=a(605708),x=a(535935),g=a(837559),f=a(434979),b=a(810083),h=a(925822);const v=({visible:e,direction:t,coin:a,leverage:i,entryPrice:v,availableBalance:E,onCancel:y,onConfirm:k,liquidationPx:w,positionSize:N,marginUsed:P,pnl:C,currentAssetCtx:S})=>{const _=S?.pxDecimals||2,M=S?.maxLeverage||5,{t:A}=(0,s.$G)(),[I,L]=r.useState(""),Z=(0,r.useMemo)((()=>Number(S?.markPx||0)),[S?.markPx]),T=(0,r.useMemo)((()=>{const e=I.startsWith("$")?I.slice(1):I;return Number(e)}),[I]),O=(0,r.useMemo)((()=>T.toFixed(2)===P.toFixed(2)),[T,P]),$=r.useMemo((()=>{if(!I||"0"===I||O)return"";const e=Number(T),a=N*Z;return(0,x.rU)(Z,e,t,Number(N),a,M).toFixed(_)}),[P,Z,i,M,I,t,N,_,O]),z=(0,r.useMemo)((()=>{const e=(0,x.Ky)(Z,N,i);return new(c())(Math.min(e+.1,P)).decimalPlaces(2,c().ROUND_UP).toNumber()}),[Z,N,i,P]),B=(0,r.useMemo)((()=>{const e=E<.01?P:E+P;return Math.max(new(c())(e).decimalPlaces(2,c().ROUND_DOWN).toNumber(),z)}),[E,P]),F=(0,r.useMemo)((()=>{const e=(0,x.Ky)(Z,N,i);return Number(Math.max(P-e,0).toFixed(g.Td))}),[Z,N,i,P]),D=r.useMemo((()=>{const e=Number(I)||0;return 0===e?{isValid:!1,error:null}:Number.isNaN(+e)?{isValid:!1,error:"invalid_number",errorMessage:A("page.perpsDetail.PerpsOpenPositionPopup.invalidNumber")}:e<z?{isValid:!1,error:"invalid_margin",errorMessage:A("page.perpsDetail.PerpsOpenPositionPopup.minMargin",{amount:`$${z}`})}:e>B?{isValid:!1,error:"invalid_margin",errorMessage:A("page.perpsDetail.PerpsOpenPositionPopup.maxMargin",{amount:`$${B}`})}:{isValid:!0,error:null}}),[I,A,z,B]);r.useEffect((()=>{e&&L(P.toFixed(2))}),[e]);const R=(0,r.useMemo)((()=>(0,x.$3)((0,x.Pn)(w,Z))),[w,Z]),{runAsync:j,loading:V}=((0,r.useMemo)((()=>F>.01),[F]),(0,u.Z)((async()=>{const e=Number(I)>P?"add":"reduce",t=Math.abs(Number(I)-P);await k(e,t)}),{manual:!0}));return r.createElement(n.Z,{bodyStyle:{padding:0,maxHeight:"unset"},centered:!0,destroyOnClose:!0,closable:!0,maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},visible:e,onCancel:y,footer:null,width:400,className:"modal-support-darkmode",closeIcon:r.createElement(h.r,{className:"w-[20px] h-[20px]"})},r.createElement("div",{className:"flex flex-col min-h-[520px] bg-r-neutral-bg2"},r.createElement("div",{className:"text-center text-20 font-medium text-r-neutral-title-1 mt-16 mb-2"},"Manage Margin"),r.createElement("div",{className:"flex-1 px-20 overflow-y-auto pb-24"},r.createElement("section",{className:"mb-[12px]"},r.createElement("div",{className:"text-[13px] leading-[16px] text-rb-neutral-foot font-medium mb-[8px]"},"Current position"),r.createElement("div",{className:"flex items-center justify-between p-12 mb-12 h-[78px] bg-r-neutral-card1 rounded-[8px]"},r.createElement("div",{className:"flex flex-col gap-8"},r.createElement("div",{className:"flex items-center gap-6"},r.createElement(f.H,{logoUrl:S?.logoUrl,size:28}),r.createElement("span",{className:"text-[16px] font-medium text-r-neutral-title-1"},a)),r.createElement("div",{className:"flex items-center gap-4"},r.createElement("div",{className:(0,d.Z)("px-4 h-[18px] rounded-[4px] text-12 font-medium flex items-center justify-center","Long"===t?"bg-r-green-light text-r-green-default":"bg-r-red-light text-r-red-default")},t," ",i,"x"),r.createElement(l.Z,{overlayClassName:"rectangle",title:"Long"===t?`Going down ${R} will trigger liquidation`:`Going up ${R} will trigger liquidation`},r.createElement("div",{className:"flex items-center gap-[2px] border border-rb-neutral-line rounded-[4px] px-[4px]"},r.createElement(m.r,{className:"text-rb-neutral-info"}),r.createElement("div",{className:"text-rb-neutral-foot font-medium text-[12px] leading-[16px]"},R))))),r.createElement("div",{className:"flex flex-col items-end gap-5"},r.createElement("span",{className:"text-[15px] leading-[20px] font-bold text-r-neutral-title-1"},(0,p.xv)(P)),r.createElement("span",{className:(0,d.Z)("text-[13px] leading-[18px] font-medium",C>=0?"text-r-green-default":"text-r-red-default")},C>=0?"+":"-","$",(0,p.V3)(Math.abs(C||0).toFixed(2)))))),r.createElement("section",null,r.createElement("div",{className:"text-[13px] leading-[16px] text-rb-neutral-foot font-medium mb-[8px]"},"Configure Margin"),r.createElement(b.n,{title:A("page.perpsDetail.PerpsEditMarginPopup.margin"),placeholder:`$${P.toFixed(2)}`,minMargin:z,maxMargin:B,sliderDisabled:B<=z,margin:I,onMarginChange:L,errorMessage:D.error?D.errorMessage:null})),r.createElement("section",{className:"space-y-[12px]"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-body text-[13px] leading-[16px]"},A("page.perpsDetail.PerpsEditMarginPopup.liqPrice")),r.createElement("div",null,r.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px] leading-[16px]"},"$",(0,p.V3)(Number(w).toFixed(_))),I&&$&&r.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px] leading-[16px]"}," ","→ $",(0,p.V3)(Number($).toFixed(_))))),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-r-neutral-body text-[13px] leading-[16px]"},A("page.perpsDetail.PerpsEditMarginPopup.liqDistance")),r.createElement("div",{className:"flex items-center"},r.createElement("div",{className:"flex items-center"},r.createElement(m.r,{className:"text-rb-neutral-info"}),r.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px] leading-[16px]"},R)),I&&$&&r.createElement("span",{className:"text-r-neutral-title-1 font-medium text-[13px] leading-[16px]"}," ","→"," ",(0,x.$3)((0,x.Pn)($,Z))))))),r.createElement("div",{className:"bottom-0 left-0 right-0 border-t-[0.5px] border-solid border-rabby-neutral-line px-20 py-16 bg-r-neutral-bg2"},r.createElement("div",{className:"flex items-center gap-[16px]"},r.createElement(o.Z,{block:!0,size:"large",type:"ghost",onClick:y,className:(0,d.Z)("h-[44px]","text-blue-light","border-blue-light","hover:bg-[#8697FF1A] active:bg-[#0000001A]","before:content-none")},A("global.Cancel")),r.createElement(o.Z,{block:!0,size:"large",type:"primary",loading:V,className:"h-[44px] text-15 font-medium",disabled:!D.isValid||O,onClick:j},A("global.confirm"))))))}},280412:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{o:()=>k});var n=a(719174),l=a(222638),o=a(605708),s=a(757016),i=a(71577),c=a(244431),d=a.n(c),p=a(386010),m=a(667294),u=a(52887),x=a(925822),g=a(535935),f=a(927875),b=a(22906),h=a(359686),v=a(546448),E=e([h]);h=(E.then?(await E)():E)[0];const y=({position:e,extPrice:t})=>{const a="Long"===e.direction?1:-1,r=(Number(t)-Number(e.entryPx))*Number(e.size)*a;return{pnl:r,percent:r/(Number(e.size)*Number(e.entryPx)/e.leverage)*100}},k=({visible:e,onCancel:t,position:a,marketData:r,onConfirm:c})=>{const{t:E}=(0,u.$G)(),[k,w]=m.useState(""),[N,P]=m.useState(""),[C,S]=m.useState(""),[_,M]=m.useState(""),A=(0,l.Z)((()=>{w(""),P(""),S(""),M("")})),I=r.szDecimals,L=(0,l.Z)((e=>(0,g.V2)(e,I)?e:(0,g.jB)(Number(e),I)));(0,m.useEffect)((()=>{if(e){const e=a.tpItem?.triggerPx||"",t=a.slItem?.triggerPx||"";e&&Number(e)>0&&Z(L(e),"tp"),t&&Number(t)>0&&Z(L(t),"sl")}else A()}),[e]);const Z=(0,l.Z)(((e,t)=>{let r=e.replace(",",".");if(r.startsWith("$")&&(r=r.slice(1)),(/^\d*\.?\d*$/.test(r)||""===r)&&(0,g.V2)(r,I))if("tp"===t)if(w(r),r&&Number(r)>0){const{pnl:e,percent:t}=y({position:a,extPrice:Number(r)});S(t?t.toFixed(2):"")}else S("");else if(P(r),r&&Number(r)>0){const{pnl:e,percent:t}=y({position:a,extPrice:Number(r)});M(t?(-t).toFixed(2):"")}else M("")})),T=(0,l.Z)(((e,t)=>{if(/^-?\d*\.?\d*$/.test(e)||""===e||"-"===e)if("tp"===t?S(e):M(e),e&&"-"!==e&&0!==Number(e)){let r=Number(e)/100;"sl"===t&&(r=-r);const n=Number(a.size)*Number(a.entryPx)/a.leverage*r/Number(a.size),l=Number(a.entryPx);let o;o="Long"===a.direction?l+n:l-n;const s=(0,g.jB)(o,I);"tp"===t?w(s):P(s)}else"tp"===t?w(""):P("")})),O=(0,m.useMemo)((()=>k?y({position:a,extPrice:Number(k)}).pnl.toFixed(2):""),[k,a]),$=(0,m.useMemo)((()=>N?y({position:a,extPrice:Number(N)}).pnl.toFixed(2):""),[N,a]),z=(0,m.useMemo)((()=>{const e={isValid:!0,error:"",errorMessage:""};if(!k||0===Number(k))return e;const t=Number(k),r=Number(a.markPx);return"Long"===a.direction&&t<=r&&(e.isValid=!1,e.error="invalid_tp_long",e.errorMessage=E("page.perpsDetail.PerpsAutoCloseModal.takeProfitTipsLong")),"Short"===a.direction&&t>=r&&(e.isValid=!1,e.error="invalid_tp_short",e.errorMessage=E("page.perpsDetail.PerpsAutoCloseModal.takeProfitTipsShort")),e}),[k,a,E]),B=(0,m.useMemo)((()=>{const e={isValid:!0,error:"",errorMessage:""};if(!N||0===Number(N))return e;const t=Number(N),r=Number(a.markPx);return"Long"===a.direction&&t>=r&&(e.isValid=!1,e.error="invalid_sl_long",e.errorMessage=E("page.perpsDetail.PerpsAutoCloseModal.stopLossTipsLong")),"Short"===a.direction&&t<=r&&(e.isValid=!1,e.error="invalid_sl_short",e.errorMessage=E("page.perpsDetail.PerpsAutoCloseModal.stopLossTipsShort")),e}),[N,a,E]),F=(0,m.useMemo)((()=>!(!k&&!N)&&(!(k&&!z.isValid)&&!(N&&!B.isValid))),[k,N,z.isValid,B.isValid]),{handleSetAutoClose:D,handleModifyTpSlOrders:R,handleCancelOrder:j}=(0,h.n)(),{loading:V,runAsync:U}=(0,o.Z)((async()=>{const e=a.direction;a.tpItem&&a.slItem?(await R({coin:a.coin,direction:e,tp:{triggerPx:Number(k).toString(),oid:a.tpItem.oid},sl:{triggerPx:Number(N).toString(),oid:a.slItem.oid}}),v.ZP.success({title:E("page.perps.toast.success"),description:E("page.perps.toast.setAutoCloseSuccess")})):a.tpItem||a.slItem?a.tpItem?(await R({coin:a.coin,direction:e,tp:{triggerPx:Number(k).toString(),oid:a.tpItem.oid}}),new(d())(N).isNaN()||(await(0,n._v)(10),await D({coin:a.coin,tpTriggerPx:"",slTriggerPx:N,direction:e}))):a.slItem&&(await R({coin:a.coin,direction:e,sl:{triggerPx:Number(N).toString(),oid:a.slItem.oid}}),new(d())(k).isNaN()||(await(0,n._v)(10),await D({coin:a.coin,tpTriggerPx:k,slTriggerPx:"",direction:e}))):await D({coin:a.coin,tpTriggerPx:new(d())(k).isNaN()?"":k,slTriggerPx:new(d())(N).isNaN()?"":N,direction:e})}),{manual:!0,onSuccess:()=>{c?.()}});return m.createElement(s.Z,{bodyStyle:{padding:0,maxHeight:"unset"},centered:!0,destroyOnClose:!0,closable:!0,visible:e,onCancel:t,footer:null,width:400,maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},className:"modal-support-darkmode",closeIcon:m.createElement(x.r,{className:"w-[20px] h-[20px]"})},m.createElement("div",{className:"flex flex-col min-h-[520px] bg-r-neutral-bg2"},m.createElement("div",{className:"text-center text-20 font-medium text-r-neutral-title-1 mt-16 mb-2"},E("page.perpsPro.editTpSl.title")),m.createElement("div",{className:"flex-1 px-20 overflow-y-auto pb-24"},m.createElement("section",{className:"mb-[12px] mt-4"},m.createElement("div",{className:"text-[12px] leading-[16px] text-rb-neutral-foot font-medium flex items-center justify-center"},m.createElement("span",null,E("page.perpsPro.editTpSl.entryPrice")),m.createElement("span",{className:"text-r-neutral-title-1 ml-4 mr-8"},"$",(0,n.V3)(a.entryPx)),m.createElement("span",null,E("page.perpsPro.editTpSl.markPrice")),m.createElement("span",{className:"text-r-neutral-title-1 ml-4"},"$",(0,n.V3)(a.markPx)))),m.createElement("section",{className:"mb-[12px]"},m.createElement("div",{className:"text-[13px] leading-[16px] text-rb-neutral-foot font-medium mb-[8px]"},E("page.perpsPro.editTpSl.currentPosition")),m.createElement(b.A,{position:a,marketData:r})),m.createElement("section",{className:"mb-[8px]"},m.createElement("div",{className:"text-[13px] leading-[16px] text-rb-neutral-foot font-medium mb-[8px]"},E("page.perpsPro.editTpSl.title")),m.createElement("div",{className:"space-y-[8px]"},m.createElement("div",{className:"flex items-center gap-[8px]"},m.createElement(f.V,{prefix:m.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},E("page.perpsPro.editTpSl.tp")),value:k,onChange:e=>{Z(e.target.value,"tp")},className:(0,p.Z)("text-right",z.error&&"border-r-red-default")}),m.createElement(f.V,{prefix:m.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},E("page.perpsPro.editTpSl.gain")),className:"text-right",value:C,onChange:e=>{T(e.target.value,"tp")},suffix:m.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},"%")})),a.tpItem&&m.createElement("div",{className:"flex items-center justify-end"},m.createElement("div",{className:"text-rb-brand-default cursor-pointer bg-rb-brand-light-1 rounded-[4px] text-right px-4 py-2 text-[12px] leading-[14px] flex items-center justify-center",onClick:()=>{j([{coin:a.coin,oid:a.tpItem.oid}]),t()}},E("page.perpsPro.editTpSl.cancelTp"))),z.error&&m.createElement("div",{className:"text-[12px] text-r-red-default font-medium"},z.errorMessage),m.createElement("div",{className:"flex items-center gap-[8px]"},m.createElement(f.V,{prefix:m.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},E("page.perpsPro.editTpSl.sl")),value:N,onChange:e=>{Z(e.target.value,"sl")},className:(0,p.Z)("text-right",B.error&&"border-r-red-default")}),m.createElement(f.V,{prefix:m.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},E("page.perpsPro.editTpSl.loss")),className:"text-right",suffix:m.createElement("span",{className:"text-[12px] leading-[14px] text-r-neutral-foot font-medium"},"%"),value:_,onChange:e=>{T(e.target.value,"sl")}})),a.slItem&&m.createElement("div",{className:"flex items-center justify-end"},m.createElement("div",{className:"text-rb-brand-default cursor-pointer bg-rb-brand-light-1 rounded-[4px] text-right px-4 py-2 text-[12px] leading-[14px] flex items-center justify-center",onClick:()=>{j([{coin:a.coin,oid:a.slItem.oid}]),t()}},E("page.perpsPro.editTpSl.cancelSl"))),B.error&&m.createElement("div",{className:"text-[12px] text-r-red-default font-medium"},B.errorMessage))),m.createElement("section",{className:"space-y-[8px]"},m.createElement("div",{className:"flex items-center justify-between"},m.createElement("div",{className:"text-r-neutral-foot text-[12px] leading-[14px] font-medium"},E("page.perpsPro.editTpSl.takeProfitExpectedPnl")),m.createElement("div",{className:(0,p.Z)("font-medium text-[12px] leading-[14px]",O&&Number(O)<0?"text-r-red-default":"text-r-green-default")},O?`${Number(O)>=0?"+":""}${(0,n.xv)(Number(O))}`:"-")),m.createElement("div",{className:"flex items-center justify-between"},m.createElement("div",{className:"text-r-neutral-foot text-[12px] leading-[14px] font-medium"},E("page.perpsPro.editTpSl.stopLossExpectedPnl")),m.createElement("div",{className:(0,p.Z)("font-medium text-[12px] leading-[14px]",$&&Number($)<0?"text-r-red-default":"text-r-green-default")},$?`${Number($)>=0?"+":""}${(0,n.xv)(Number($))}`:"-")))),m.createElement("div",{className:"bottom-0 left-0 right-0 border-t-[0.5px] border-solid border-rabby-neutral-line px-20 py-16 bg-r-neutral-bg2"},m.createElement("div",{className:"flex items-center gap-[16px]"},m.createElement(i.Z,{block:!0,size:"large",type:"ghost",onClick:t,className:(0,p.Z)("h-[44px]","text-blue-light","border-blue-light","hover:bg-[#8697FF1A] active:bg-[#0000001A]","before:content-none")},E("global.Cancel")),m.createElement(i.Z,{block:!0,size:"large",type:"primary",className:"h-[44px] text-15 font-medium",loading:V,disabled:!F||V,onClick:async()=>{await U()}},E("global.confirm"))))))};r()}catch(e){r(e)}}))},386269:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(667294),n=a(757016),l=a(71577),o=a(748086),s=a(386010),i=a(461564),c=a(521904),d=a(52887);const p=({isDarkTheme:e,onConfirm:t})=>{const{t:a}=(0,d.$G)(),p=n.Z.info({width:360,closable:!1,maskClosable:!0,centered:!0,title:null,bodyStyle:{padding:0},className:(0,s.Z)("perps-bridge-swap-modal perps-close-all-position-modal",e?"perps-bridge-swap-modal-dark":"perps-bridge-swap-modal-light"),content:r.createElement(r.Fragment,null,r.createElement("div",{className:"flex items-center justify-center flex-col gap-12 bg-r-neutral-bg2 rounded-lg p-20"},r.createElement(c.r,null),r.createElement("div",{className:"text-15 font-medium text-r-neutral-title-1 text-center"},a("page.perps.deleteAgentModal")),r.createElement("div",{className:"flex items-center justify-center w-full gap-12 mt-20"},r.createElement(i.Z,{block:!0,onClick:()=>{p.destroy()}},a("page.manageAddress.cancel")),r.createElement(l.Z,{size:"large",block:!0,type:"primary",onClick:async()=>{try{await t(),o.ZP.success({duration:1.5,content:a("page.perps.deleteAgentSuccess")}),p.destroy()}catch(e){o.ZP.error({duration:1.5,content:e.message||"Delete agent failed"})}}},a("page.manageAddress.confirm")))))})}},171905:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{p:()=>k});var n=a(398222),l=a(901234),o=a(407916),s=a(583260),i=a(836753),c=a(18972),d=a(224917),p=a(488823),m=a(850455),u=a(331219),x=a(738200),g=a(895165),f=a(50987),b=a(757016),h=a(386010),v=a(667294),E=a(547886),y=e([x]);x=(y.then?(await y)():y)[0];const k=e=>{const t=(0,E.TH)(),a=new URLSearchParams(t.search).get("import");return v.createElement(b.Z,{...e,width:400,centered:!0,closable:!0,className:"modal-support-darkmode",closeIcon:v.createElement(n.tA,{className:(0,h.Z)("w-[14px] fill-current","add-from-current-seed-phrase"===a?"text-r-neutral-foot":"text-r-neutral-title-2")}),footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},destroyOnClose:!0},v.createElement(w,null))},w=()=>{const e=(0,E.TH)(),t=new URLSearchParams(e.search).get("import");return v.createElement(l.k,null,"add-from-current-seed-phrase"===t?v.createElement(s.D,{isInModal:!0}):"key"===t?v.createElement(u.Z,{isInModal:!0}):"json"===t?v.createElement(p.Z,{isInModal:!0}):"metamask"===t?v.createElement(m.i,{isInModal:!0}):"watch-address"===t?v.createElement(g.Z,{isInModal:!0}):"wallet-connect"===t?v.createElement(f.Z,{isInModal:!0}):"coinbase"===t?v.createElement(c.G,{isInModal:!0}):"gnosis"===t?v.createElement(d.Z,{isInModal:!0}):"cobo-argus"===t?v.createElement(i.d,{isInModal:!0}):"success"===t?v.createElement(x.Z,{isPopup:!0,isInModal:!0}):v.createElement(o.Z,{isInModal:!0}))};r()}catch(e){r(e)}}))},739978:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{_:()=>d});var n=a(757016),l=a(667294),o=a(168636),s=a(901234),i=a(657754),c=e([o]);o=(c.then?(await c)():c)[0];const d=e=>{const{onChange:t,...a}=e;return l.createElement(n.Z,{...a,width:400,title:null,centered:!0,bodyStyle:{background:"transparent",maxHeight:"unset",padding:0},footer:null,className:"modal-support-darkmode",zIndex:1e3,maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},closeIcon:l.createElement("div",{className:"pt-[10px]"},l.createElement(i.r,{viewBox:"0 0 14 14",className:"h-[20px] w-[20px] text-r-neutral-title1"})),destroyOnClose:!0},l.createElement(s.k,null,l.createElement(o.A,{inModal:!0,onChange:t})))};r()}catch(e){r(e)}}))},443885:(e,t,a)=>{a.d(t,{C:()=>i});var r=a(657754),n=a(901234),l=a(238065),o=a(757016),s=a(667294);const i=e=>s.createElement(o.Z,{...e,width:400,title:null,bodyStyle:{background:"transparent",maxHeight:"unset",padding:0},footer:null,zIndex:1e3,className:"modal-support-darkmode",closeIcon:s.createElement("div",{className:"pt-[10px]"},s.createElement(r.r,{viewBox:"0 0 14 14",className:"h-[20px] w-[20px] text-r-neutral-title1"})),destroyOnClose:!0,centered:!0,maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"}},s.createElement(n.k,null,s.createElement("div",{className:"h-[600px] overflow-auto"},s.createElement("div",{className:"text-r-neutral-title1 text-center text-[20px] leading-[24px] font-medium pt-[20px] pb-[16px]"},"Add Custom Network Token"),s.createElement("div",{className:"flex flex-col gap-[12px] px-[20px] flex-1 overflow-auto pb-[12px]"},s.createElement(l.K,{inModal:!0,onConfirm:e.onOk,onClose:e.onCancel})))))},582547:(e,t,a)=>{a.d(t,{l:()=>d});var r=a(398222),n=a(901234),l=a(634396),o=a(643418),s=a(757016),i=a(667294),c=a(547886);const d=e=>{const t=(0,c.TH)(),a=new URLSearchParams(t.search).get("backupType");return i.createElement(s.Z,{...e,width:400,centered:!0,closable:!0,closeIcon:i.createElement(r.tA,{className:"w-[14px] fill-current text-r-neutral-title-2"}),className:"modal-support-darkmode",footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},destroyOnClose:!0},i.createElement(n.k,null,"private-key"===a?i.createElement(o.Z,{isInModal:!0,onClose:e.onCancel}):"mneonics"===a?i.createElement(l.Z,{isInModal:!0,onClose:e.onCancel}):null))}},542415:(e,t,a)=>{a.d(t,{V:()=>i});var r=a(901234),n=a(348148),l=a(757016),o=a(667294),s=a(272763);a(84926);const i=e=>o.createElement(l.Z,{...e,width:400,centered:!0,closable:!0,closeIcon:s.S,className:"modal-support-darkmode",footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},destroyOnClose:!0},o.createElement(r.k,null,o.createElement(n.Z,{isInModal:!0})))},103100:(e,t,a)=>{a.d(t,{M:()=>c});var r=a(667294),n=a(291043),l=a(791233),o=a(194575),s=a(620706),i=a(931097);const c=({asset:e,iconSize:t=24,hideChainIcon:a=!1})=>{if(!e)return null;const c=(0,n.GA)(e.chain);if(!c?.enum)return null;const d="nft"===e.type&&e.nftToken?(0,s.s5)(e.name||"Unknown",` #${e.nftToken.inner_id}`):e.name||"Unknown";return r.createElement("div",{className:"flex items-center font-medium"},r.createElement(o.x,{width:t+"px",height:t+"px",hideChainIcon:a,hideConer:!0,iconUrl:e?.logo_url||l.Z,chainServerId:e.chain,noRound:!1}),r.createElement(i.Z,{overlayClassName:"J-table__tooltip disable-ant-overwrite",overlay:d},r.createElement("span",{className:"ml-[8px] asset-name"},d)))}},850998:(e,t,a)=>{a.d(t,{Z:()=>f,K:()=>b});var r,n,l=a(667294),o=a(79357);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s.apply(this,arguments)}function i(e){return l.createElement("svg",s({width:54,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{d:"M9.117 7.74h.938a2.99 2.99 0 01-.386 1.205 2.255 2.255 0 01-.884.845c-.38.205-.856.308-1.426.308-.416 0-.796-.079-1.137-.235a2.528 2.528 0 01-.874-.664 3.108 3.108 0 01-.567-1.04 4.439 4.439 0 01-.195-1.357v-.708c0-.498.065-.95.195-1.353.134-.407.324-.755.572-1.045.25-.29.551-.512.903-.669a2.891 2.891 0 011.186-.234c.537 0 .992.1 1.363.303.37.202.659.481.864.84.208.354.337.766.386 1.235h-.938a2.613 2.613 0 00-.254-.855 1.32 1.32 0 00-.527-.556c-.228-.13-.526-.196-.894-.196-.315 0-.594.06-.835.181-.237.12-.437.291-.6.513-.16.221-.28.486-.361.796-.082.309-.123.652-.123 1.03v.718c0 .348.036.675.108.981.075.306.187.575.337.806.15.231.34.413.571.547.231.13.505.195.82.195.4 0 .72-.063.957-.19.238-.127.417-.31.538-.547.123-.238.211-.523.263-.855zm1.846-.323v-.112c0-.381.055-.734.166-1.06.11-.329.27-.613.478-.854.209-.245.461-.433.757-.567a2.35 2.35 0 01.996-.205c.371 0 .705.069 1.001.205.3.134.554.322.762.567.212.24.373.525.483.854.111.326.167.679.167 1.06v.112c0 .38-.056.734-.167 1.06-.11.325-.271.61-.483.854-.208.24-.46.43-.757.566-.293.134-.625.2-.996.2s-.705-.066-1-.2a2.265 2.265 0 01-.763-.566 2.582 2.582 0 01-.478-.854 3.271 3.271 0 01-.166-1.06zm.903-.112v.112c0 .264.031.513.093.747.062.231.155.436.278.615.127.18.285.32.474.425.189.101.409.151.66.151.246 0 .463-.05.649-.15.188-.105.345-.247.468-.426.124-.179.217-.384.279-.615a2.78 2.78 0 00.097-.747v-.112c0-.26-.032-.506-.097-.738a1.897 1.897 0 00-.284-.62 1.345 1.345 0 00-.468-.43 1.314 1.314 0 00-.655-.156c-.247 0-.465.052-.654.157a1.405 1.405 0 00-.469.43 1.96 1.96 0 00-.278.62 2.84 2.84 0 00-.093.737zm6.02-4.805V10h-.907V2.5h.908zm2.432 0V10h-.908V2.5h.908zm3.643 7.598c-.368 0-.702-.062-1.001-.186a2.268 2.268 0 01-.767-.532 2.367 2.367 0 01-.488-.81 2.971 2.971 0 01-.17-1.026v-.205c0-.43.063-.812.19-1.148.127-.338.3-.625.517-.859.218-.234.466-.412.742-.532.277-.12.563-.18.86-.18.377 0 .703.064.976.194.277.13.503.313.679.547.176.231.306.505.39.82.085.313.128.655.128 1.026v.405H22.07v-.737h3.042v-.068a2.253 2.253 0 00-.146-.684 1.23 1.23 0 00-.39-.547c-.18-.143-.424-.215-.733-.215a1.23 1.23 0 00-1.011.513c-.124.17-.22.376-.288.62a3.146 3.146 0 00-.103.845v.205c0 .25.035.487.103.708.071.218.174.41.307.576.137.166.302.296.494.39.195.095.416.142.664.142.319 0 .589-.065.81-.195.222-.13.415-.304.581-.522l.547.434a2.525 2.525 0 01-.434.493 2.075 2.075 0 01-.65.381 2.515 2.515 0 01-.903.147zm5.225-.743c.214 0 .413-.043.595-.131.183-.088.332-.209.45-.362.117-.156.183-.333.2-.532h.859a1.61 1.61 0 01-.317.874 2.168 2.168 0 01-.757.65 2.196 2.196 0 01-1.03.244 2.41 2.41 0 01-1.04-.21 2.061 2.061 0 01-.733-.576 2.574 2.574 0 01-.434-.84 3.544 3.544 0 01-.142-1.011v-.205c0-.355.047-.69.142-1.006.097-.319.242-.6.434-.845.195-.244.44-.436.732-.576.297-.14.643-.21 1.04-.21.414 0 .775.085 1.085.254.309.166.551.394.727.684.18.286.277.612.293.976h-.86a1.302 1.302 0 00-.185-.59 1.156 1.156 0 00-.43-.42 1.2 1.2 0 00-.63-.162c-.276 0-.509.056-.698.166a1.223 1.223 0 00-.444.44 2.049 2.049 0 00-.234.61 3.355 3.355 0 00-.069.679v.205c0 .231.023.459.069.684.045.224.122.428.23.61.11.182.258.329.443.44.19.107.424.16.704.16zm5.332-4.638v.693H31.66v-.693h2.857zm-1.89-1.284h.903V8.69c0 .18.028.315.083.406a.397.397 0 00.215.18.89.89 0 00.283.044c.075 0 .153-.006.235-.02l.19-.038.005.737a2.119 2.119 0 01-.283.063 2.152 2.152 0 01-.415.035c-.222 0-.425-.044-.61-.132a.982.982 0 01-.445-.44c-.107-.208-.161-.488-.161-.84V3.434zm3.93 1.284V10h-.908V4.717h.909zm-.976-1.402c0-.146.044-.27.132-.37.091-.102.224-.152.4-.152.173 0 .305.05.396.151.094.101.141.225.141.371a.51.51 0 01-.141.362c-.091.097-.223.146-.396.146-.175 0-.309-.049-.4-.146a.532.532 0 01-.132-.362zm2.188 4.102v-.112c0-.381.055-.734.165-1.06.111-.329.27-.613.48-.854.207-.245.46-.433.756-.567a2.35 2.35 0 01.996-.205c.371 0 .705.069 1.001.205.3.134.553.322.762.567.211.24.372.525.483.854.11.326.166.679.166 1.06v.112c0 .38-.055.734-.166 1.06-.11.325-.272.61-.483.854-.209.24-.46.43-.757.566-.293.134-.625.2-.996.2s-.705-.066-1.001-.2a2.265 2.265 0 01-.762-.566 2.58 2.58 0 01-.479-.854 3.274 3.274 0 01-.166-1.06zm.903-.112v.112c0 .264.03.513.093.747.062.231.154.436.278.615.127.18.285.32.474.425.188.101.408.151.659.151.247 0 .464-.05.65-.15.188-.105.344-.247.468-.426.124-.179.216-.384.278-.615a2.78 2.78 0 00.098-.747v-.112c0-.26-.033-.506-.098-.738a1.897 1.897 0 00-.283-.62 1.346 1.346 0 00-.469-.43 1.315 1.315 0 00-.654-.156c-.247 0-.465.052-.654.157a1.405 1.405 0 00-.47.43 1.962 1.962 0 00-.277.62 2.844 2.844 0 00-.093.737zm5.942-1.46V10h-.903V4.717h.854l.05 1.128zM44.4 7.158l-.376-.014c.004-.362.057-.695.161-1.001.105-.31.251-.578.44-.806a1.958 1.958 0 011.548-.718c.26 0 .495.036.703.108.208.068.386.179.532.332.15.153.264.351.342.595.078.241.117.536.117.884V10h-.908V6.528c0-.276-.04-.498-.122-.664a.75.75 0 00-.357-.366 1.28 1.28 0 00-.576-.117c-.224 0-.43.047-.615.141-.182.095-.34.225-.474.391-.13.166-.232.357-.307.571a2.088 2.088 0 00-.108.674z",fill:"var(--r-neutral-foot, #BABEC5)"})),n||(n=l.createElement("rect",{x:.25,y:.25,width:53.5,height:12.5,rx:1.75,stroke:"var(--r-neutral-line, rgba(255, 255, 255, 0.10))",strokeWidth:.5})))}a.p;var c,d;function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},p.apply(this,arguments)}function m(e){return l.createElement("svg",p({width:26,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c||(c=l.createElement("path",{d:"M10.294 2.89V10h-.947l-3.58-5.483V10h-.942V2.89h.943L9.36 8.39V2.89h.933zm2.612 0V10h-.942V2.89h.942zm2.979 3.199v.771H12.7V6.09h3.184zm.483-3.198v.771h-3.667v-.771h3.667zm3.848 0V10h-.928V2.89h.928zm2.285 0v.771h-5.493v-.771H22.5z",fill:"var(--r-neutral-foot, #BABEC5)"})),d||(d=l.createElement("rect",{x:.25,y:.25,width:25.5,height:12.5,rx:1.75,stroke:"var(--r-neutral-line, rgba(255, 255, 255, 0.10))",strokeWidth:.5})))}a.p;var u=a(386010),x=a(931097),g=a(52887);function f({className:e,contractListItem:t}){const{isNFTToken:a,isNFTCollection:r}=(0,l.useMemo)((()=>{const e={isNFTToken:!1,isNFTCollection:!1};if("spender"in t){const a=t.spender;e.isNFTCollection=!!a.$assetParent?.nftContract,e.isNFTToken=!e.isNFTCollection&&!!a.$assetParent?.nftToken}return e}),[t]);return r?l.createElement("div",{className:e},l.createElement(o.Z,{className:"w-[54px] h-[13px]",src:i})):a?l.createElement("div",{className:e},l.createElement(o.Z,{className:"w-[26px] h-[13px] text-r-neutral-foot",src:m})):null}function b({className:e,contractSpender:t}){const{t:a}=(0,g.$G)(),{permit2Id:r}=(0,l.useMemo)((()=>{const e={permit2Id:""};return e.permit2Id=t.permit2_id||"",e}),[t]);return r?l.createElement(x.Z,{overlayClassName:"disable-ant-overwrite J_permit2-tooltip",overlay:l.createElement("span",null,a("page.approvals.RevokeApprovalModal.tooltipPermit2",{permit2Id:r}))},l.createElement("div",{className:(0,u.Z)(e,"rounded-[4px]","border-rabby-neutral-line border-[0.5px] border-solid","w-[82px] px-[8px] h-[20px] leading-[1.3]")},l.createElement("span",{className:(0,u.Z)("text-[12px] text-normal text-r-neutral-foot whitespace-nowrap","inline-flex items-center justify-center")},"Via Permit2"))):null}},674971:(e,t,a)=>{a.d(t,{L:()=>s});var r=a(667294),n=a(719174),l=a(291043),o=a(386010);const s=({record:e})=>{if("fail"===e.$status?.status)return null;if("pending"===e.$status?.status&&e.$status?.isGasAccount)return null;if(!e.$status||"pending"===e.$status.status)return r.createElement("div",null,"-");const t=e.$status.gasCost,a=(0,l.GA)(e.$assetParent?.chain);if(!a?.enum)return r.createElement("div",null,"-");const s=r.useMemo((()=>{const e=t.gasCostUsd;return`$${(0,n.nm)(e)}`}),[t.gasCostUsd]),i=r.useMemo((()=>`${(0,n.LH)(t.gasCostAmount.toString(10),6)} ${a.nativeTokenSymbol}`),[t.gasCostAmount]);return r.createElement("div",{className:"flex overflow-hidden"},r.createElement("span",{className:"text-r-neutral-title1 font-medium text-14"},s),r.createElement("span",{className:(0,o.Z)("text-r-neutral-foot text-14 ml-6 font-normal","truncate")},"(",i,")"))}},67335:(e,t,a)=>{a.d(t,{O:()=>p});var r=a(667294),n=a(79357),l=a(964651),o=a(386010),s=a(291043),i=a(719174),c=a(875864),d=a(387991);const p=({record:e})=>{if("fail"===e.$status?.status)return null;if("pending"===e.$status?.status&&e.$status?.isGasAccount)return null;if(!e.$status||"pending"===e.$status.status)return r.createElement("div",null,"-");const t=e.$assetParent;if(!t)return null;const a=(0,s.GA)(t.chain),p=e.$status.txHash;return r.createElement("div",{className:"cursor-pointer",onClick:e=>{e.stopPropagation(),(0,i.Ku)((0,c.bU)(a.scanLink,p),!1)}},r.createElement("div",{className:"flex items-center gap-[4px]"},r.createElement("div",{className:"text-r-neutral-title1 text-[14px] leading-[16px]"},(0,d.LH)(p)),r.createElement(n.Z,{src:l.r,className:(0,o.Z)("ml-4 w-[16px] h-[16px] text-r-neutral-foot")})))}},370841:(e,t,a)=>{a.d(t,{p:()=>i});var r=a(71577),n=a(386010),l=a(667294),o=a(52887);const s=(0,n.Z)("rounded-[6px] h-[48px] w-[252px]","before:content-none","text-[16px]"),i=({task:e,onDone:t})=>{const{t:a}=(0,o.$G)();return l.createElement("div",{className:"flex justify-center mt-40"},"idle"===e.status&&l.createElement(r.Z,{type:"primary",className:s,onClick:e.start},a("page.approvals.revokeModal.signAndStartRevoke")),"completed"===e.status&&l.createElement(r.Z,{type:"primary",className:s,onClick:t},a("page.approvals.revokeModal.done")),"paused"===e.status&&l.createElement(r.Z,{type:"primary",className:s,onClick:e.continue},a("page.approvals.revokeModal.resume")),"active"===e.status&&l.createElement(r.Z,{type:"ghost",className:(0,n.Z)(s,"border-blue-light text-blue-light","hover:bg-[#8697FF1A] active:bg-[#0000001A]"),onClick:e.pause},a("page.approvals.revokeModal.pause")))}},703778:(e,t,a)=>{a.d(t,{q:()=>$});var r=a(71577),n=a(386010),l=a(667294),o=a(52887),s=a(532558),i=a(952727);const c=({icon:e,tip:t,signal:a,customSignal:r,children:o,footer:s,grayIcon:c,className:d})=>{const p=l.useMemo((()=>"DISCONNECTED"===a?"gray":"green"),[a]);return l.createElement("section",null,l.createElement("div",{className:(0,n.Z)("space-x-6 flex items-start","relative",d)},l.createElement("div",{className:"relative"},l.createElement("img",{src:e,className:"w-[20px] h-[20px]",style:{filter:c?"invert(43%) sepia(7%) saturate(335%) hue-rotate(180deg) brightness(92%) contrast(90%)":"unset"}}),r,a&&l.createElement(i.M,{isBadge:!0,color:p})),t&&l.createElement("div",{className:"text-13 w-full text-r-neutral-foot"},t),o),s)};var d,p,m,u,x,g,f,b,h,v,E,y,k,w,N=a(439259);function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},P.apply(this,arguments)}function C(e){return l.createElement("svg",P({width:110,height:44,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d||(d=l.createElement("defs",null,l.createElement("style",null,"@keyframes c1{0%,65%,to{opacity:.8}15%,50%{opacity:0}}@keyframes c2{0%,85%,to{opacity:.8}15%,50%,65%{opacity:0}}.press_svg__c1{animation:c1 1500ms linear infinite normal forwards}.press_svg__c2{animation:c2 1500ms linear infinite normal forwards}"))),p||(p=l.createElement("path",{d:"M23.556 13.536h60.56a8.478 8.478 0 110 16.957h-60.56a3.634 3.634 0 01-3.633-3.634v-9.69a3.634 3.634 0 013.633-3.633z",fill:"#242225",stroke:"#fff",strokeWidth:.484})),m||(m=l.createElement("circle",{className:"press_svg__c0",cx:28.102,cy:22.018,r:4.603,stroke:"#BCBAC2",strokeWidth:.484})),u||(u=l.createElement("circle",{className:"press_svg__c1",opacity:.8,cx:27.552,cy:22.019,r:13.104,stroke:"#fff",strokeWidth:.386})),x||(x=l.createElement("circle",{className:"press_svg__c2",opacity:.8,cx:27.421,cy:22.058,r:19.662,stroke:"#fff",strokeWidth:.386})),g||(g=l.createElement("circle",{className:"press_svg__c0",cx:83.804,cy:22.018,r:4.603,stroke:"#BCBAC2",strokeWidth:.484})),f||(f=l.createElement("circle",{className:"press_svg__c1",opacity:.8,cx:83.703,cy:22.019,r:13.104,stroke:"#fff",strokeWidth:.386})),b||(b=l.createElement("circle",{className:"press_svg__c2",opacity:.8,cx:83.587,cy:22.058,r:19.662,stroke:"#fff",strokeWidth:.386})),h||(h=l.createElement("path",{d:"M56.171 16.5v4.157l3.513 1.57-3.513-5.727z",fill:"#fff",fillOpacity:.602})),v||(v=l.createElement("path",{d:"M56.171 16.5l-3.514 5.727 3.514-1.57V16.5z",fill:"#fff"})),E||(E=l.createElement("path",{d:"M56.171 24.92v2.825l3.516-4.864-3.516 2.04z",fill:"#fff",fillOpacity:.602})),y||(y=l.createElement("path",{d:"M56.171 27.745V24.92l-3.514-2.04 3.514 4.865z",fill:"#fff"})),k||(k=l.createElement("path",{d:"M56.171 24.267l3.513-2.04-3.513-1.569v3.61z",fill:"#fff",fillOpacity:.2})),w||(w=l.createElement("path",{d:"M52.657 22.227l3.514 2.04v-3.609l-3.514 1.57z",fill:"#fff",fillOpacity:.602})))}a.p;var S=a(63129),_=a(478051),M=a(502178),A=a(812451),I=a(950911);const L=(0,n.Z)("rounded-[6px] h-[48px] w-[252px]","before:content-none","text-[16px]"),Z=(0,n.Z)(L,"border-blue-light text-blue-light","hover:bg-[#8697FF1A] active:bg-[#0000001A]"),T=(0,n.Z)("h-80","flex items-center justify-center","gap-x-6","text-[16px] font-medium","mt-8"),O=N.$9.LEDGER.icon,$=({task:e,onDone:t})=>{const{t:a}=(0,o.$G)(),{status:i}=(0,s.O)(),{totalApprovals:d,currentApprovalIndex:p}=e,[m,u]=l.useState(!1);return l.useEffect((()=>{const t=t=>{((0,M.bB)(t)||"DISCONNECTED"===t)&&(u(!0),e.pause(),"DISCONNECTED"!==t&&e.addRevokeTask(e.currentApprovalRef.current,1))};return _.Z.addEventListener(N.FP.COMMON_HARDWARE.REJECTED,t),()=>{_.Z.removeEventListener(N.FP.COMMON_HARDWARE.REJECTED,t)}}),[e.addRevokeTask]),l.useEffect((()=>{"active"===e.status&&"DISCONNECTED"===i&&_.Z.emit(N.FP.COMMON_HARDWARE.REJECTED,"DISCONNECTED")}),[e.status,i]),l.createElement(l.Fragment,null,l.createElement(I.u_,{className:"confirm-revoke-modal ledger-modal",width:400,visible:m,onCancel:()=>u(!1),title:a("page.dashboard.hd.ledgerIsDisconnected")},l.createElement(A.P,{isModalContent:!0})),l.createElement("div",{className:"flex justify-center flex-col items-center mt-40"},"idle"===e.status&&l.createElement(r.Z,{type:"ghost",className:Z,onClick:e.start},l.createElement(c,{icon:O,className:"items-center justify-center"},l.createElement("span",null,a("page.approvals.revokeModal.revokeWithLedger")))),"completed"===e.status&&l.createElement(r.Z,{type:"primary",className:L,onClick:t},a("page.approvals.revokeModal.done")),"paused"===e.status&&l.createElement(r.Z,{type:"primary",className:L,onClick:e.continue},a("page.approvals.revokeModal.resume"))),"active"===e.status&&l.createElement("div",{className:"-mx-32 -mb-40"},"sended"===e.txStatus?l.createElement("div",{className:(0,n.Z)(T,"bg-r-blue-default","text-r-neutral-title2")},l.createElement(C,null),l.createElement("span",null,a("page.approvals.revokeModal.ledgerSended",{current:p+1,total:d})),l.createElement(S.b,null)):"signed"===e.txStatus?l.createElement("div",{className:(0,n.Z)(T,"bg-r-neutral-card-2","text-r-neutral-body")},l.createElement("span",null,a("page.approvals.revokeModal.ledgerSigned",{current:p+1,total:d})),l.createElement(S.b,null)):l.createElement("div",{className:(0,n.Z)(T,"bg-r-neutral-card-2","text-r-neutral-body")},l.createElement("span",null,a("page.approvals.revokeModal.ledgerSending",{current:p+1,total:d})),l.createElement(S.b,null))))}},703539:(e,t,a)=>{a.d(t,{m:()=>m});var r,n=a(667294);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}function o(e){return n.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:20,height:20},e),r||(r=n.createElement("defs",null,n.createElement("style",null,"@keyframes spin{0%{stroke-dasharray:.46875,96.875;stroke-dashoffset:0;transform:rotate(0)}50%{stroke-dasharray:43.59375,72.65625;stroke-dashoffset:-19.375}to{stroke-dasharray:43.59375,72.65625;stroke-dashoffset:-58.125;transform:rotate(1turn)}}"))),n.createElement("circle",{cx:10,cy:10,r:8,fill:"none",style:{transformOrigin:"50% 50%",animation:"spin 2s ease-in-out infinite"},stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round"}))}a.p;var s=a(52887),i=a(925822),c=a(950911),d=a(71577),p=a(386010);const m=({onClose:e,totalApprovals:t,revokedApprovals:a,task:r})=>{const{t:l}=(0,s.$G)(),m=n.useCallback((()=>{if("idle"===r.status)return e(!1);if("completed"===r.status)return e(!0);r.pause();const t=c.u_.info({title:l("page.approvals.revokeModal.cancelTitle"),className:"confirm-revoke-modal",closable:!0,centered:!0,width:384,okCancel:!1,content:n.createElement("div",null,n.createElement("div",{className:"text-r-neutral-body text-15 leading-[22px] text-center"},l("page.approvals.revokeModal.cancelBody")),n.createElement("footer",{className:"mt-32"},n.createElement(d.Z,{type:"primary",className:(0,p.Z)("w-full h-[44px]","rounded-[6px]","before:content-none"),onClick:()=>{e(!0),t.destroy()}},l("page.approvals.revokeModal.confirm"))))})}),[e,r.status]);return n.createElement("header",{className:" text-center relative"},n.createElement("div",{className:"space-x-8 flex justify-center items-center"},("active"===r.status||"paused"===r.status)&&n.createElement(o,{className:(0,p.Z)("text-r-blue-default","paused"===r.status?"loading-paused":"")}),n.createElement("span",{className:"text-24 font-medium text-r-neutral-title-1"},l("page.approvals.revokeModal.batchRevoke")," (",a,"/",t,")")),n.createElement("div",{className:"text-r-neutral-foot text-15 font-normal mt-12"},l("page.approvals.revokeModal.revoked")," ",l("page.approvals.revokeModal.approvalCount",{count:a}),"丨",l("page.approvals.revokeModal.totalRevoked")," ",l("page.approvals.revokeModal.approvalCount",{count:t})),n.createElement("div",{className:"p-20 absolute right-0 top-0 -mt-20 -mr-20 cursor-pointer",onClick:m},n.createElement(i.r,{className:"w-[24px] h-[24px] text-r-neutral-foot"})))}},416856:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{y:()=>E});var n=a(667294),l=a(103100),o=a(115291),s=a(529819),i=a(122715),c=a(680337),d=a(674971),p=a(67335),m=a(370841),u=a(703539),x=a(439259),g=a(703778),f=e([i,c]);[i,c]=f.then?(await f)():f;const b=52,h=416,v=260,E=({revokeList:e,dataSource:t,onDone:a,onClose:r,onTaskStatus:f,accountType:E})=>{const y=(0,i.jn)(),{totalApprovals:k,revokedApprovals:w}=y;n.useEffect((()=>{y.init(t,e)}),[t,e]);const N=n.useMemo((()=>{const e=y.list.length*b;return Math.min(h,Math.max(v,e))}),[y.list]),P=n.useCallback((()=>{"active"===y.status&&y.pause()}),[y.status,y.pause]);n.useEffect((()=>(window.addEventListener("blur",P),()=>{window.removeEventListener("blur",P)})),[P]),n.useEffect((()=>{f(y.status)}),[y.status]);const C=n.useRef("");return n.useEffect((()=>{C.current=document.title}),[]),n.useEffect((()=>{"paused"===y.status?document.title="Approvals - Paused":"active"===y.status?document.title=`Approvals - Batch Revoke (${w}/${k})`:document.title=C.current}),[y.status,k,w]),n.createElement("div",{className:"my-8"},n.createElement(u.m,{totalApprovals:k,revokedApprovals:w,onClose:r,task:y}),n.createElement(o.d,{dataSource:y.list,markHoverRow:!1,scroll:{y:N},overlayClassName:"batch-revoke-table mt-[20px]",getRowHeight:()=>b,columns:[{title:"#",key:"index",className:"index-cell",render:(e,t,a)=>n.createElement("span",{className:"text-r-neutral-foot text-12 font-normal"},a+1),width:40},{title:"Revoke Asset",key:"asset",render:(e,t)=>n.createElement(l.M,{iconSize:16,hideChainIcon:!0,asset:t.$assetParent}),width:140},{title:"Revoke From",key:"approveSpender",dataIndex:"key",render:(e,t)=>n.createElement(s.X,{spender:t,hasCopyIcon:!1,hasExternalIcon:!1,hasPermit2Badge:!1,iconSize:16}),width:280},{title:"Status",width:100,className:"status-cell",render:(e,t)=>n.createElement(c.b,{onStillRevoke:async()=>{y.addRevokeTask(t,0,!0),y.continue()},record:t,isPaused:"paused"===y.status})},{title:"Hash",width:140,render:(e,t)=>n.createElement(p.O,{record:t})},{align:"right",title:"Gas Fee",width:200,render:(e,t)=>n.createElement(d.L,{record:t})}]}),E===x.Cr.HARDWARE.LEDGER?n.createElement(g.q,{task:y,onDone:a}):n.createElement(m.p,{task:y,onDone:a}))};r()}catch(e){r(e)}}))},680337:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{b:()=>u});var n=a(667294),l=a(122715),o=a(626734),s=a(434143),i=a(279672),c=a(719174),d=a(386010),p=a(52887),m=e([l]);l=(m.then?(await m)():m)[0];const u=({onStillRevoke:e,record:t,isPaused:a})=>{const r=n.useRef(null),{t:m}=(0,p.$G)(),[u,x]=n.useState(!1);return n.useEffect((()=>{x(!1),r.current&&"pending"===t.$status?.status&&r.current.scrollIntoView({block:"end"})}),[t.$status?.status]),n.createElement("div",{ref:r,className:"flex gap-x-6 flex-nowrap whitespace-nowrap items-center"},("pending"===t.$status?.status||u)&&n.createElement(n.Fragment,null,n.createElement(i.r,{className:"text-blue-light"}),"pending"===t.$status?.status&&t.$status?.isGasAccount&&n.createElement("span",{className:"text-r-blue-default"},m("page.approvals.revokeModal.useGasAccount")),u&&n.createElement("span",{className:"text-r-neutral-foot"},m("page.approvals.revokeModal.waitInQueue"))),"success"===t.$status?.status&&n.createElement(o.r,null),"fail"===t.$status?.status&&!u&&n.createElement(n.Fragment,null,n.createElement(s.r,null),n.createElement("div",{className:(0,d.Z)("text-r-red-default text-14 font-medium","flex items-center")},n.createElement("span",null,l.g8[t.$status.failedCode]),t.$status.failedCode===l.q1.GasTooHigh&&t.$status.gasCost?.gasCostUsd!==undefined&&n.createElement("div",{className:"ml-2"},n.createElement("span",null,"(Est. Gas ≈$",(0,c.nm)(t.$status.gasCost.gasCostUsd),")"),n.createElement("span",{className:"ml-8 text-r-blue-default cursor-pointer",onClick:()=>{x(!0),e()}},m("page.approvals.revokeModal.stillRevoke"))))),!t.$status?.status&&n.createElement("span",null," ",a?m("page.approvals.revokeModal.paused"):"-"," "))};r()}catch(e){r(e)}}))},945256:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{_:()=>c});var n=a(950911),l=a(667294),o=a(416856),s=a(247622),i=e([o]);o=(i.then?(await i)():i)[0];const c=({revokeList:e,dataSource:t,isDesktop:a,...r})=>{const[i,c]=l.useState(!1),d=l.useRef(!0),p=l.useRef(!1),m=l.useCallback((()=>{c(!0)}),[]),u=l.useMemo((()=>t.filter((t=>(0,s.EN)(e,{item:t.$assetContract,spenderHost:t.$assetToken,assetApprovalSpender:t})>-1))),[e,t]),x=l.useCallback((e=>{"idle"===e?(d.current=!0,p.current=!1):"completed"===e?(d.current=!0,p.current=!0):d.current=!1}),[]),g=l.useCallback((()=>{d.current&&(c(!1),r.onClose(p.current))}),[]);return{show:m,node:l.useMemo((()=>l.createElement(n.u_,{visible:i,className:"confirm-revoke-modal",closable:!1,maskClosable:!0,centered:!0,width:964,okCancel:!1,destroyOnClose:!0,onCancel:g,maskStyle:a?{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"}:undefined},l.createElement(o.y,{...r,onTaskStatus:x,dataSource:u,revokeList:e,onDone:()=>{r.onDone(),c(!1)},onClose:e=>{r.onClose(e),c(!1)}}))),[i])}};r()}catch(e){r(e)}}))},122715:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{g8:()=>m,jn:()=>g,q1:()=>c.q1});var n=a(719174),l=a(642562),o=a(667294),s=a(247622),i=a(628068),c=a(428835),d=a(695638),p=e([d]);d=(p.then?(await p)():p)[0];const m={[c.q1.GasNotEnough]:i.ZP.t("page.approvals.revokeModal.gasNotEnough"),[c.q1.GasTooHigh]:i.ZP.t("page.approvals.revokeModal.gasTooHigh"),[c.q1.SubmitTxFailed]:i.ZP.t("page.approvals.revokeModal.submitTxFailed"),[c.q1.DefaultFailed]:i.ZP.t("page.approvals.revokeModal.defaultFailed"),[c.q1.SimulationFailed]:i.ZP.t("page.approvals.revokeModal.simulationFailed")},u=(e,t)=>{const a=e.findIndex((e=>{if(e.id===t.id&&e.$assetParent?.id===t.$assetParent?.id)return!0}));return a>=0&&(e[a]=t),[...e]},x=e=>{const t={...e,$status:{status:"pending"}},a=a=>{const r=Object.getOwnPropertyDescriptor(e,a);r&&Object.defineProperty(t,a,r)};return a("$assetContract"),a("$assetToken"),a("$assetParent"),t},g=()=>{const e=(0,n.Os)(),t=(0,d.kX)(),a=o.useRef(new l.Z({concurrency:1,autoStart:!0})),[r,i]=o.useState([]),[p,m]=o.useState([]),[g,f]=o.useState("idle"),[b,h]=o.useState("idle"),v=o.useRef(),E=o.useCallback((async(r,n=0,l=!1)=>a.current.add((async()=>{v.current=r;const a=x(r),n=p[(0,s.EN)(p,{item:r.$assetContract,spenderHost:r.$assetToken,assetApprovalSpender:r})];a.$status.status="pending",i((e=>u(e,a)));try{const r=await async function(e,t){let a;a=t.permit2Id?(await e.lockdownPermit2({id:t.permit2Id,chainServerId:t.chainServerId,tokenSpenders:[{token:t.tokenId,spender:t.spender}]},!0)).params[0]:"nftTokenId"in t?(await e.revokeNFTApprove(t,undefined,!0)).params[0]:(await e.approveToken(t.chainServerId,t.id,t.spender,0,{ga:{category:"Security",source:"tokenApproval"}},undefined,undefined,!0)).params[0];return a}(e,n),o=await(0,c.T7)({tx:r,ignoreGasCheck:l,wallet:e,chainServerId:n.chainServerId,sig:t?.sig,autoUseGasAccount:!0,onProgress:e=>{"builded"===e?h("sended"):"signed"===e&&h("signed")},onUseGasAccount:()=>{a.$status={status:"pending",isGasAccount:!0},i((e=>u(e,a)))},ga:{category:"Security",source:"tokenApproval"}});a.$status={status:"success",txHash:o.txHash,gasCost:o.gasCost}}catch(e){let t=c.q1.DefaultFailed;c.q1[e.name]&&(t=e.name),console.error(e),a.$status={status:"fail",failedCode:t,failedReason:e.message,gasCost:e.gasCost}}finally{i((e=>u(e,a))),h("idle")}}),{priority:n})),[p]),y=o.useCallback((()=>{f("active");for(const e of r)E(e)}),[r,p]),k=o.useCallback(((e,t)=>{a.current.clear(),i(e),m(t),f("idle")}),[]),w=o.useCallback((()=>{a.current.pause(),f("paused")}),[]),N=o.useCallback((()=>{a.current.start(),f("active")}),[]);o.useEffect((()=>(a.current.on("error",(e=>{console.error("Queue error:",e)})),a.current.on("idle",(()=>{f("completed")})),()=>{a.current.clear()})),[]);const P=o.useMemo((()=>p.length),[p]),C=o.useMemo((()=>r.filter((e=>"success"===e.$status?.status)).length),[r]),S=o.useMemo((()=>r.findIndex((e=>"pending"===e.$status?.status))),[r]);return{list:r,init:k,start:y,continue:N,pause:w,status:g,txStatus:b,addRevokeTask:E,totalApprovals:P,revokedApprovals:C,currentApprovalIndex:S,currentApprovalRef:v}};r()}catch(e){r(e)}}))},57919:(e,t,a)=>{a.d(t,{G:()=>u});var r=a(71577),n=a(667294),l=a(893379),o=a.n(l),s=a(872852),i={insert:"head",singleton:!1};o()(s.Z,i);s.Z.locals;var c=a(386010),d=a(950911),p=a(52887),m=a(439259);const u=e=>{const{t}=(0,p.$G)();return{show:n.useCallback((()=>{const a=d.u_.info({title:e.accountType===m.Cr.HARDWARE.LEDGER?t("page.approvals.revokeModal.ledgerConfirmTitle"):t("page.approvals.revokeModal.confirmTitle"),className:"confirm-revoke-modal",closable:!0,centered:!0,width:420,okCancel:!1,maskStyle:e.isDesktop?{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"}:undefined,content:n.createElement("div",null,n.createElement("div",{className:"text-r-neutral-body text-15 leading-[22px]"},e.accountType===m.Cr.HARDWARE.LEDGER?t("page.approvals.revokeModal.confirmRevokeLedger",{count:e.revokeListCount}):t("page.approvals.revokeModal.confirmRevokePrivateKey",{count:e.revokeListCount})),n.createElement("footer",{className:"flex flex-col gap-16 mx-auto mt-24 items-center"},n.createElement(r.Z,{type:"primary",className:(0,c.Z)("w-[260px] h-[44px]","rounded-[8px]","before:content-none"),onClick:()=>{e.onBatchRevoke(),a.destroy()}},t("page.approvals.revokeModal.batchRevoke")),n.createElement(r.Z,{type:"ghost",className:(0,c.Z)("w-[260px] h-[44px] border-blue-light text-blue-light","hover:bg-[#8697FF1A] active:bg-[#0000001A]","rounded-[8px]","before:content-none"),onClick:()=>{e.onRevokeOneByOne(),a.destroy()}},t("page.approvals.revokeModal.revokeOneByOne"))))})}),[e])}}},167834:(e,t,a)=>{a.d(t,{f:()=>p});var r,n,l=a(79357),o=a(667294),s=a(328822);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i.apply(this,arguments)}function c(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none"},e),r||(r=o.createElement("rect",{width:20,height:20,rx:10,fill:"#8697FF"})),n||(n=o.createElement("path",{d:"M4 10h12",stroke:"#fff",strokeWidth:1.5,strokeLinecap:"round"})))}a.p;var d=a(727648);const p=({onClick:e,isIndeterminate:t,isSelected:a})=>o.createElement("div",{className:"w-[100%] flex items-center justify-center cursor-pointer",onClick:e},t?o.createElement(l.Z,{className:"J_indeterminate w-[20px] h-[20px]",src:c}):a?o.createElement(l.Z,{className:"J_checked w-[20px] h-[20px]",src:s.r}):o.createElement(l.Z,{className:"J_unchecked w-[20px] h-[20px]",src:d.r}))},927934:(e,t,a)=>{a.d(t,{dj:()=>i});var r=a(667294),n=a(757016),l=a(658804),o=a(608227);(0,l.ZP)(n.Z).withConfig({displayName:"rabby--ModalStyled",componentId:"rabby--1ums32k"})`
  .ant-modal-header {
    border-bottom: none;
    padding-bottom: 8px;
  }

  pre.json-viewer {
    padding: 8px 12px;
    border-radius: 6px;
  }

  .data-block {
    padding-top: 12px;
  }

  .data-block + .data-block {
    margin-top: 12px;
  }
`;const s="win32"===(0,o.G)();function i(e){return{onClickRowInspection:(0,r.useCallback)((t=>((s&&t.event.ctrlKey&&t.event.altKey||!s&&(t.event.metaKey||t.event.ctrlKey)&&t.event.altKey)&&t.record,e?.(t))),[e])}}},970502:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(667294),n=a(950911),l=a(830785);function o(e){return r.createElement(n.Dn.SafeCopy,{...e,externalIconProps:{src:l.Og,width:16,height:16,className:"text-r-neutral-foot",...e.externalIconProps},copyIconProps:{src:l.K6,width:16,height:16,className:"text-r-neutral-foot",...e.copyIconProps}})}},883182:(e,t,a)=>{a.d(t,{F:()=>O});var r=a(950911),n=a(757016),l=a(931097),o=a(701474),s=a(71577),i=a(667294),c=a(52887),d=a(194575),p=a(386010),m=a(791233),u=a(964651),x=a(890604),g=a(168628),f=a(291043),b=a(247622),h=a(970502),v=a(79357);const E=({data:e,index:t,setSize:a,onClick:r})=>{const n=(0,i.useRef)(null),l=e[t],s=(0,i.useMemo)((()=>["danger","warning"].includes(l.risk_level)),[l.risk_level]);(0,i.useEffect)((()=>{s&&a&&n.current?.getBoundingClientRect&&a(t,n.current.getBoundingClientRect().height)}),[l,a,t]);const{t:E}=(0,c.$G)(),y=(0,i.useMemo)((()=>(0,f.GA)(l.chain)),[l.chain]);return i.createElement("div",{ref:n,className:(0,p.Z)("bg-r-neutral-card1 mb-[12px] rounded-[6px] border border-transparent contract-approval-item",r&&"hover:border-blue-light hover:bg-blue-light hover:bg-opacity-[0.1] cursor-pointer"),key:l.id+l.chain,onClick:e=>{"copyIcon"!==e.target?.id&&r?.(l)}},i.createElement("div",{className:(0,p.Z)("token-approval-item px-[16px] pt-[11px] pb-[10px] hover:bg-transparent hover:border-transparent",!r&&"cursor-auto")},i.createElement(d.x,{width:"18px",height:"18px",hideConer:!0,hideChainIcon:!0,iconUrl:y?.logo||m.Z,chainServerId:l.chain,noRound:"nft"===l.type}),i.createElement("div",{className:"ml-2 flex"},i.createElement("div",{className:(0,p.Z)("token-approval-item-desc",{"text-13":"token"===l.type})},i.createElement(h.Z,{addressClass:"font-medium",address:l.id,chainEnum:y?.enum,addressSuffix:i.createElement(i.Fragment,null,i.createElement("span",{className:"contract-name ml-[4px]"},"(",l.name||"Unknown",")"),i.createElement(v.Z,{onClick:e=>{e.stopPropagation(),(0,b.nS)(y?.scanLink,l.id)},src:u.r,className:(0,p.Z)("ml-6 w-[16px] h-[16px] cursor-pointer text-r-neutral-foot")})),openExternal:!1}))),i.createElement("span",{className:"text-[13px] text-r-neutral-body flex-shrink-0 ml-auto font-medium"},l.list.length," ",!r&&(l.list.length>1?E("page.approvals.component.ApprovalContractItem.ApprovalCount_other"):E("page.approvals.component.ApprovalContractItem.ApprovalCount_one"))),r&&i.createElement(x.r,{className:"text-r-blue-default"})),s&&i.createElement("div",{className:"pb-[12px]"},i.createElement(o.Z,{className:(0,p.Z)("mx-[16px] rounded-[4px] px-[8px] py-[3px] leading-[1.2]","danger"===l.risk_level?"bg-[#ec5151]":"bg-orange"),icon:i.createElement(g.Z,{className:"text-white pt-[4px] self-start"}),banner:!0,message:i.createElement("span",{className:"text-12 text-white"},l.risk_alert),type:"error"})))};var y=a(254183),k=a(328822),w=a(727648),N=a(719174),P=a(308228),C=a(658804),S=a(233614),_=a(620706),M=a(850998),A=a(674018),I=a(171417),L=a(935938);const Z=(0,C.ZP)(n.Z).withConfig({displayName:"rabby--ModalStyled",componentId:"rabby--ww9lnd"})`
  .ant-modal-header {
    border-bottom: none;
  }

  .ant-modal-body {
    padding-top: 16px;
    padding-bottom: ${76}px;
  }
`;function T({className:e,amountValue:t,balanceNumText:a,balanceUnitText:r,minWidthLimit:n}){const{t:o}=(0,c.$G)(),s=(0,i.useMemo)((()=>(0,N.uf)(t)),[t]),d=(0,i.useMemo)((()=>`${a} ${r}`),[a,r]);return i.createElement("div",{className:(0,p.Z)("approval-amount-info text-right flex flex-col justify-center",e)},s&&i.createElement("div",null,i.createElement(l.Z,{overlayClassName:"J-modal-item__tooltip disable-ant-overwrite",overlay:o("page.approvals.tableConfig.byAssets.columnCell.approvedAmount.tipApprovedAmount"),align:{offset:[0,3]},arrowPointAtCenter:!0},i.createElement("span",{className:"text-12 font-medium text-r-neutral-body block max-w-[200px] truncate"},s))),d&&i.createElement(l.Z,{overlayClassName:(0,p.Z)("J-modal-item__tooltip disable-ant-overwrite",n&&"min-width-limit"),overlay:`${o("page.approvals.tableConfig.byAssets.columnCell.approvedAmount.tipMyBalance")}: ${d}`,align:{offset:[0,3]},arrowPointAtCenter:!0},i.createElement("div",{className:"text-12 font-nomral text-r-neutral-foot inline-flex justify-end"},i.createElement("span",{className:"whitespace-pre max-w-[8em] overflow-hidden overflow-ellipsis flex-shrink-1"},a),i.createElement("span",{className:"flex-shrink-0"},r))))}const O=e=>{const{item:t,visible:a,onClose:n,className:l,revokeList:x,onConfirm:N,isDesktop:C}=e,{t:O}=(0,c.$G)(),[$,z]=(0,i.useState)(new Set),B=(0,i.useMemo)((()=>{const e=[];return $.size?(t?.list.forEach(((a,r)=>{const n=(0,b.h)(t,a,!0);n&&$.has((0,b.AI)(n))&&e.push(r)}),[]),e):e}),[t,$]),F=(0,i.useMemo)((()=>t?.list.every((e=>{const a=(0,b.h)(t,e,!0);return!!a&&$.has((0,b.AI)(a))}))),[t,$]),D=(0,i.useCallback)((()=>{t?.list&&z((()=>{const e=new Set;return F||t.list.forEach((a=>{const r=(0,b.h)(t,a,!0);r&&e.add((0,b.AI)(r))})),e}))}),[F,t]),R=(0,i.useMemo)((()=>O("contract"===t?.type?"page.approvals.RevokeApprovalModal.subTitleTokenAndNFT":"page.approvals.RevokeApprovalModal.subTitleContract")),[t?.type,O]),j=(0,i.useMemo)((()=>t?"contract"===t?.type?t?.list.map(((e,a)=>{const n=a===t.list.length-1,l=(0,f.GA)(e.chain),o=(0,b.pb)(e),s=o?"inner_id"in e?(0,_.s5)(e.contract_name||"Unknown",` #${e.inner_id}`):e.contract_name||"Unknown":(0,A.EG)(e),c="$indexderSpender"in e?e.$indexderSpender:null,d=c?(0,P.zp)(c):null,m=(0,b.h)(t,e,!0);!m&&I.hx&&console.warn("Revoke item is not found",t,e);const x=m?(0,b.AI)(m):"",g=!!x&&$.has(x);return i.createElement("div",{key:a,className:(0,p.Z)("relative px-[16px] h-[56px] bg-r-neutral-card1 cursor-pointer border border-transparent  hover:border-rabby-blue-default  hover:bg-r-blue-light1 hover:bg-opacity-[0.1] hover:rounded-[6px] hover:z-10",n&&"rounded-b-[6px]","first:mt-0 first:rounded-t-[6px] dark:bg-[#292c37] dark:hover:bg-r-blue-light1"),onClick:e=>{"copyIcon"!==e.target?.id&&z((e=>(g?e.delete(x):e.add(x),new Set([...e]))))}},i.createElement("div",{className:(0,p.Z)("flex justify-between items-center h-[100%]",!n&&"border-b-rabby-neutral-line border-b-[0.5px] border-b-solid")},"logo_url"in e?i.createElement(r.bd,{width:"24px",height:"24px",hideChainIcon:!0,token:e}):i.createElement(L.Z,{className:"w-[24px] h-[24px]",type:e?.content_type||"image",content:e?.content||e?.collection?.logo_url,thumbnail:!0,unknown:y.Z}),"spender"in e?i.createElement("div",{className:"flex flex-col ml-[8px]"},i.createElement("div",{className:"text-13 text-r-neutral-title1 font-medium leading-[15px] inline-flex items-center justify-start"},i.createElement("span",{className:"inline-block whitespace-nowrap max-w-[180px] overflow-hidden overflow-ellipsis"},s),o&&i.createElement(v.Z,{onClick:t=>{t.stopPropagation(),(0,b.nS)(l?.scanLink,e.spender.id)},src:u.r,className:(0,p.Z)("w-[12px] h-[12px] ml-6 cursor-pointer flex-shrink-0")})),i.createElement(M.Z,{className:"mt-2",contractListItem:e})):i.createElement("div",{className:"ml-[8px] text-13 text-r-neutral-title1 font-medium leading-[15px]"},(0,A.EG)(e)),c?.permit2_id&&i.createElement(M.K,{className:"ml-[9px]",contractSpender:c}),i.createElement("div",{className:"ml-auto flex items-center justify-between flex-shrink-0"},i.createElement(T,{className:"mr-[8px]",...d?{amountValue:d.displayAmountText,balanceNumText:d.balanceNumText,balanceUnitText:d.balanceUnitText,minWidthLimit:d.isCollectionHasNFTs}:{amountValue:"amount"in e?e.amount:"",balanceNumText:"",balanceUnitText:""}}),i.createElement(v.Z,{src:g?k.r:w.r,className:"icon icon-checked w-[20px] h-[20px]"}))))})):t?.list.map(((e,a)=>{const r=["danger","warning"].includes(e.risk_level),n=(0,f.GA)(e.chain),l="nft"===e.type&&e.nftToken?(0,_.s5)(e.name||"Unknown",` #${e.nftToken.inner_id}`):e.name||"Unknown",s=e?(0,P.zp)(e):null,c=a===t.list.length-1,u=(0,b.h)(t,e,!0),x=u?(0,b.AI)(u):"";return i.createElement("div",{key:e.id,className:(0,p.Z)("relative px-[16px] bg-r-neutral-card1 cursor-pointer border border-transparent hover:border-rabby-blue-default  hover:bg-r-blue-light1 hover:bg-opacity-[0.1] hover:rounded-[6px] hover:z-10",c&&"rounded-b-[6px]","first:rounded-t-[6px]",r?"flex-col pt-[13px]":"h-[51px] "),onClick:e=>{"copyIcon"!==e.target?.id&&z((e=>(e.has(x)?e.delete(x):e.add(x),new Set([...e]))))}},i.createElement("div",{className:(0,p.Z)("flex justify-between items-center h-[100%]",!c&&"border-b-rabby-neutral-line border-b-[0.5px] border-b-solid")},i.createElement("div",{className:"flex w-full justify-between items-center"},i.createElement(d.x,{width:"16px",height:"16px",hideChainIcon:!0,iconUrl:n?.logo||m.Z,chainServerId:t.chain}),i.createElement("div",{className:"flex flex-col ml-[12px]"},i.createElement("div",{className:"text-13 text-r-neutral-title1 font-medium leading-[15px] mb-2"},l),i.createElement(h.Z,{className:"justify-start",addressClass:"text-12",copyIconClass:"w-[14px] h-[14px]",address:e.id})),i.createElement("div",{className:"ml-auto flex justify-center items-center flex-shrink-0"},"token"===t.type&&s&&i.createElement(T,{amountValue:s.displayAmountText,balanceNumText:s.balanceNumText,balanceUnitText:s.balanceUnitText,minWidthLimit:!1}),i.createElement(v.Z,{src:$.has(x)?k.r:w.r,className:"icon icon-checked"}))),r&&i.createElement("div",{className:"pt-[8px] pb-[16px]"},i.createElement(o.Z,{className:(0,p.Z)("rounded-[4px] px-[8px] py-[3px]","danger"===e.risk_level?"bg-[#ec5151]":"bg-orange"),icon:i.createElement(g.Z,{className:"text-white pt-[4px] self-start"}),banner:!0,message:i.createElement("span",{className:"text-12 text-white"},e.risk_alert),type:"error"}))))})):null),[t,$]);return(0,i.useEffect)((()=>{if(z(new Set),a&&t?.list&&x){const e=new Set;t.list.forEach((a=>{const r=(0,b.h)(t,a,!0);r&&x.find((e=>(0,b.gE)(e,r)))&&e.add((0,b.AI)(r))})),z(e)}}),[a,x,t]),t?i.createElement(Z,{centered:!0,width:480,visible:a,onCancel:n,className:(0,p.Z)("revoke-approval-modal modal-support-darkmode",l),bodyStyle:{height:"640px",maxHeight:"640px"},destroyOnClose:!0,footer:null,title:O("page.approvals.RevokeApprovalModal.title"),closeIcon:i.createElement(S.r,null),maskStyle:C?{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"}:undefined},i.createElement("div",{className:"flex flex-col h-[100%]"},i.createElement("div",{className:"mt-0 mb-0 flex-shrink-0"},i.createElement(E,{data:[t],index:0})),i.createElement("section",{className:"mb-[6px] flex justify-between items-center flex-shrink-0"},i.createElement("span",{className:"text-12 text-r-neutral-title1"},R),i.createElement("div",{className:(0,p.Z)(F?"w-[80px]":"w-[67px]","h-[22px] text-12 cursor-pointer flex items-center justify-center bg-blue-light bg-opacity-[0.2] text-center text-blue-light rounded-[2px]"),onClick:D},O(F?"page.approvals.RevokeApprovalModal.unSelectAll":"page.approvals.RevokeApprovalModal.selectAll"))),i.createElement("section",{className:(0,p.Z)("max-h-[100%] overflow-x-hidden pb-[12px] flex-shrink-1 approval-list"),style:{overflowY:"overlay"}},j)),i.createElement("div",{className:(0,p.Z)("absolute flex flex-col items-center justify-center bg-r-neutral-card1 left-0 bottom-0 w-full z-[99999] border-t border-rabby-neutral-line","px-[16px]"),style:{height:76}},i.createElement(s.Z,{className:"min-w-[172px] w-full h-[44px]",type:"primary",size:"large",onClick:async()=>{if(t?.list){const e=[...$].map((e=>(0,b.CQ)(e))).filter(Boolean);N(e),n()}}},O("page.approvals.RevokeApprovalModal.confirm",{selectedCount:B.length>0?`(${B.length})`:""})))):null}},519819:(e,t,a)=>{a.d(t,{E:()=>d,o:()=>c});var r=a(667294),n=a(757016),l=a(71577),o=a(52887),s=a(35186),i=a(719174);const c=({revokeSummary:e,onRevoke:t,enableBatchRevoke:a})=>{const{t:c}=(0,o.$G)(),[d,p]=r.useState(!1),m=(0,i.Os)();(0,r.useLayoutEffect)((()=>{const e=async()=>{await m.getApproval()||p(!1)};return document.body.addEventListener("focus",e),()=>{document.body.removeEventListener("focus",e)}}),[m]);const u=(0,r.useCallback)((async()=>{if(!d)try{p(!0),await t()}catch(e){console.error(e)}finally{p(!1)}}),[t]),x=r.useCallback((()=>{if(!Object.values(e.permit2Revokes).some((e=>e.tokenSpenders.length>1))||a)return u();n.Z.info({closable:!0,closeIcon:s.p,className:"am-revoke-info-modal modal-support-darkmode",centered:!0,title:r.createElement("h2",{className:"text-r-neutral-title1 text-[20px] font-semibold break-words"},r.createElement(o.cC,{i18nKey:"page.approvals.component.RevokeButton.permit2Batch.modalTitle",values:{count:e.statics.txCount}},"A total of"," ",r.createElement("span",{className:"text-r-blue-default"},e.statics.txCount)," ","signature is required")),content:r.createElement("p",{className:"text-r-neutral-body text-center mb-0 text-[15px] font-normal leading-[normal]"},c("page.approvals.component.RevokeButton.permit2Batch.modalContent")),onOk:()=>{u()},okText:c("global.confirm"),okButtonProps:{className:"w-[100%] h-[44px]"}})}),[u,a,c]),g=e.statics.txCount,f=e.statics.spenderCount;return r.createElement(r.Fragment,null,g>1&&!a?r.createElement("div",{className:"mt-[16px] h-[16px] mb-[16px] text-13 leading-[15px] text-r-neutral-body"},g," transactions to be signed sequentially"):null,r.createElement(l.Z,{loading:d,className:"w-[280px] h-[56px] text-[15px] leading-[18px] rounded-[16px] am-revoke-btn",type:"primary",size:"large",disabled:!g,onClick:x},c("page.approvals.component.RevokeButton.btnText",{count:f})))},d=({onRevoke:e,selectedCount:t})=>{const{t:a}=(0,o.$G)(),[n,s]=r.useState(!1),c=((0,i.Os)(),(0,r.useCallback)((async()=>{if(!n)try{s(!0),await e()}catch(e){console.error(e)}finally{s(!1)}}),[e]));return r.createElement(r.Fragment,null,r.createElement(l.Z,{loading:n,className:"w-[280px] h-[56px] text-[15px] leading-[18px] rounded-[16px] am-revoke-btn",type:"primary",size:"large",disabled:!t,onClick:c},a("page.approvals.component.RevokeButton.btnText",{count:t})))}},798914:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(667294),n=a(877983),l=a(386010);const o=a(658804).ZP.div.withConfig({displayName:"rabby--Container",componentId:"rabby--1g78z06"})`
  height: 30px;
  background-color: var(--r-neutral-card1);
  border-radius: 20px;
  overflow: hidden;
  border: 0.5px solid var(--rb-neutral-line);
  transition: ease-in 0.2s border-color;

  width: 320px;

  .ant-input-affix-wrapper.search-input,
  .ant-input {
    background-color: transparent;
    color: var(--r-neutral-title1);
    &::placeholder {
      color: var(--r-neutral-foot);
    }
  }

  &.is-focusing,
  &:hover {
    border-color: var(--r-blue-default, #7084ff);
    border-width: 0.5px;
  }
`,s=function(e){const[t,a]=r.useState(!1),s=r.useCallback((t=>{a(!0),e.onFocus?.(t)}),[e.onFocus]),i=r.useCallback((t=>{a(!1),e.onBlur?.(t)}),[e.onBlur]);return r.createElement(o,{className:(0,l.Z)(t&&"is-focusing")},r.createElement(n.Z,{...e,onFocus:s,onBlur:i}))}},529819:(e,t,a)=>{a.d(t,{X:()=>x});var r=a(667294),n=a(291043),l=a(791233),o=a(194575),s=a(970502),i=a(79357),c=a(247622),d=a(964651),p=a(386010),m=a(850998),u=a(931097);const x=({spender:e,hasPermit2Badge:t=!0,hasCopyIcon:a=!0,hasExternalIcon:x=!0,iconSize:g=18})=>{const f=e.$assetParent;if(!f)return null;const b=(0,n.GA)(f.chain),h=e.protocol,v=h?.name||"Unknown";return r.createElement("div",{className:"flex items-center"},r.createElement(o.x,{width:g+"px",height:g+"px",hideConer:!0,hideChainIcon:!0,iconUrl:b?.logo||l.Z,chainServerId:f?.chain,noRound:"nft"===f.type}),r.createElement(s.Z,{className:"ml-[6px]",addressClass:"",address:e.id||"",chainEnum:b?.enum,copyIconClass:"text-r-neutral-body",addressSuffix:r.createElement(r.Fragment,null,r.createElement(u.Z,{overlayClassName:"J-table__tooltip disable-ant-overwrite",overlay:v},r.createElement("span",{className:"contract-name ml-[4px]"},"(",v,")")),x&&r.createElement(i.Z,{onClick:t=>{t.stopPropagation(),(0,c.nS)(b?.scanLink,e.id)},src:d.r,className:(0,p.Z)("ml-6 w-[16px] h-[16px] cursor-pointer text-r-neutral-body")})),tooltipAliasName:!0,openExternal:!1,copyIcon:a}),"contract"===e.$assetContract?.type&&t&&r.createElement(m.K,{className:"ml-[8px]",contractSpender:e}))}},115291:(e,t,a)=>{a.d(t,{d:()=>k});var r,n,l=a(667294),o=a(814277),s=a(120271),i=a(715437),c=a(294184),d=a.n(c),p=a(386010),m=a(104084),u=a(278092),x=a(842339);function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},g.apply(this,arguments)}function f(e){return l.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:52,height:52,fill:"none"},e),r||(r=l.createElement("path",{d:"M43.33 29.245V6.495c0-1.197-.97-2.167-2.166-2.167H10.831c-1.197 0-2.167.97-2.167 2.167v39c0 1.196.97 2.166 2.167 2.166h11.916M18.414 13h15.167M18.414 21.672h15.167M18.414 30.328h6.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=l.createElement("path",{d:"M42.25 47.672l-3.753-3.753m0 0a5.417 5.417 0 10-7.66-7.66 5.417 5.417 0 007.66 7.66z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}a.p;var b=a(52887);const h={y:300,x:"100vw"};function v({isLoading:e,loadingText:t="Loading...",emptyText:a="No Match"}){return l.createElement(o.Z,{className:"am-virtual-table-empty",image:l.createElement(f,{className:"w-[52px] h-[52px] text-r-neutral-body"}),description:e?t:a})}function E({children:e,...t}){return l.createElement("th",{...t,className:d()("am-virtual-table-head-cell",t.className)},e)}const y=l.memo((({columnIndex:e,rowIndex:t,style:a,data:r})=>{const{rowList:n,columns:o,getCellClassName:s,onClickRow:i,hoveredRowIndex:c,onMouseEnterCell:p,sortingKey:m}=r,u=n[t],x=o[e],g=x,f=s?.({columnIndex:e,rowIndex:t,record:u});let b=null,h=null;g.dataIndex&&(h=u[g.dataIndex],b=h);const v=x;return"function"==typeof v.render&&(b=v.render(h,u,t)||null),l.createElement("div",{key:`r-${t}-c-${e}-${x.key}`,className:d()("am-virtual-table-cell",x.className,f,`column-cell-J_key-${x.key}`,{"is-first-row":0===t,"is-last-row":t===n.length-1,"is-first-cell":0===e,"is-last-cell":e===o.length-1,"is-hovered-row-cell":c===t,"is-sorting-cell":x.key===m}),onClick:a=>i?.({event:a,record:u,rowIndex:t,columnIndex:e,columnKey:x.key}),style:a,onMouseEnter:p?a=>p?.({event:a,rowIndex:t,columnIndex:e,record:u}):undefined},l.createElement("div",{className:d()("am-virtual-table-cell-inner")},b))}),u.wy);function k({markHoverRow:e,vGridRef:t,onClickRow:a,getRowHeight:r,getTotalHeight:n,getCellKey:o,getCellClassName:c,showScrollbar:d=!0,emptyText:g="No Data",sortedInfo:f,overlayClassName:k,isDesktop:w,...N}){const{columns:P,scroll:C={...h}}=N,[S,_]=(0,l.useState)(0),M=(0,l.useMemo)((()=>(P||[]).filter((({width:e})=>!e)).length),[P]),A=(0,l.useMemo)((()=>(P||[]).map((e=>e.width?w?{...e,width:Number(e.width)/1160*S}:e:{...e,width:Math.floor(S/M)}))),[P,S,M,w]),I=(0,l.useRef)(null),L=t||I,[Z]=(0,l.useState)((()=>{const e={};return Object.defineProperty(e,"scrollLeft",{get:()=>L.current?L.current?.state?.scrollLeft:null,set:e=>{L.current&&L.current.scrollTo({scrollLeft:e})}}),e})),T=(0,l.useCallback)((()=>{L.current?.resetAfterIndices({columnIndex:0,rowIndex:0,shouldForceUpdate:!0})}),[]);(0,l.useEffect)((()=>{T()}),[S]);const[O,$]=(0,l.useState)(null),z=(0,l.useCallback)((()=>{e&&$(null)}),[e]),B=(0,l.useMemo)((()=>"object"==typeof N.loading?N.loading?.spinning:N.loading),[N.loading]),F=(0,l.useMemo)((()=>n?.(N.dataSource||[])||(N.dataSource?.length??0)*x.dN),[n,N.dataSource]),{t:D}=(0,b.$G)(),R=(0,l.useMemo)((()=>w?Math.min(F,556):C.y),[w,C]),j=(t,{scrollbarSize:n,ref:s,onScroll:i})=>(s.current=Z,t.length?l.createElement(u.cd,{ref:L,className:(0,p.Z)("am-virtual-grid",w,e&&"am-virtual-grid__supported-hover-row"),itemKey:e=>{const t=o?.({rowIndex:e.rowIndex,columnIndex:e.columnIndex,record:e.data.rowList[e.rowIndex]});if(t)return t;const a=e.data?.$id||e.data?.id;return`${e.rowIndex}-${e.columnIndex}-${a}`},columnCount:A.length,columnWidth:e=>{const{width:t}=A[e];return d&&F>C.y&&e===A.length-1?t-x.nn-1:t},rowCount:t.length,rowHeight:e=>r?.(t[e],e,t)??x.dN,itemData:{columns:A,rowList:t,sortingKey:f?.columnKey,onClickRow:a,hoveredRowIndex:e?O:-1,onMouseEnterCell:e?e=>{$(e.rowIndex)}:undefined,getCellClassName:c},height:R,width:S,onScroll:({scrollLeft:e})=>{i({scrollLeft:e})}},y):l.createElement(v,{isLoading:B,loadingText:D("page.approvals.component.table.bodyEmpty.loadingText"),emptyText:g})),V=(0,l.useCallback)(((...t)=>e?l.createElement("div",{className:"am-table-vgrid-wrapper",onMouseLeave:z},j(...t)):j(...t)),[e,z,j]),U=(0,l.useCallback)((()=>l.createElement(v,{isLoading:B})),[B]),H=(0,l.useRef)(!0);return(0,l.useLayoutEffect)((()=>{if(w){const e=()=>{H.current=!0};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}}),[w]),l.createElement(s.ZP,{renderEmpty:U},l.createElement(m.default,{onResize:({width:e})=>{_((t=>w?t&&!H.current?t:(H.current=!1,e):e))}},l.createElement(i.Z,{key:w?S:undefined,...N,className:k||(0,p.Z)("am-virtual-table",w&&"is-desktop",N.className),columns:A,pagination:!1,showHeader:!!N?.dataSource?.length,components:{header:{cell:E},body:e?V:j}})))}},842339:(e,t,a)=>{a.d(t,{dN:()=>n,kW:()=>l,nn:()=>o});const r=0,n=56+r,l=90+r,o=4},465508:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{U:()=>re});var n=a(667294),l=a(931097),o=a(701474),s=a(168628),i=a(719174),c=(a(643529),a(291043)),d=a(115291),p=a(87765),m=a(294881),u=a(791233),x=a(490048),g=a(432344),f=a(964651),b=a(13777),h=a(972885),v=a(308228),E=a(387991),y=a(386010),k=a(247622),w=a(194575),N=a(883182),P=a(842339),C=a(519819),S=a(798914),_=a(927934),M=a(439259),A=a(970502),I=a(88681),L=a(52887),Z=a(222638),T=a(79357),O=a(205686),$=a(57919),z=a(945256),B=a(103100),F=a(529819),D=a(167834),R=a(134179),j=a(496486),V=a(691632),U=e([z]);z=(U.then?(await U)():U)[0];const Y="descend";function H(e){return"ascend"===e?"descend":"ascend"}const Q=["descend","ascend"];function W({sortedInfo:e,selectedRows:t,t:a,toggleSelectAll:r,isSelectedAll:o,isIndeterminate:s}){return[{key:"selection",title:()=>n.createElement(D.f,{onClick:r,isIndeterminate:s,isSelected:o}),render:(e,a)=>{return n.createElement(D.f,{isSelected:(r=a,(0,k.EN)(t,{item:r.$assetContract,spenderHost:r.$assetToken,assetApprovalSpender:r})>-1)});var r},width:80},{title:()=>n.createElement("span",null,a("page.approvals.tableConfig.byAssets.columnTitle.asset")),key:"asset",dataIndex:"key",render:(e,t)=>n.createElement(B.M,{asset:t.$assetParent}),width:200},{title:()=>n.createElement("span",null,a("page.approvals.tableConfig.byAssets.columnTitle.type")),key:"assetType",dataIndex:"type",sortDirections:[...Q],showSorterTooltip:!1,sorter:(t,a)=>{let r=(0,v.Bz)(t,a);if(r)return r;r=(0,v.Sf)(t,a);return"assetType"===e.columnKey&&"ascend"===e.order?-r:r},sortOrder:"assetType"===e.columnKey?e.order:null,render:(e,t)=>{const a=t.$assetParent;if(!a)return null;if("nft"===a.type){const e=(0,c.GA)(a.chain),t=n.createElement(T.Z,{onClick:t=>{t.stopPropagation(),(0,k.nS)(e?.scanLink,a.id)},src:f.r,className:(0,y.Z)("ml-6 w-[16px] h-[16px] cursor-pointer text-r-neutral-body")});if(a.nftContract)return n.createElement("span",{className:"capitalize inline-flex items-center"},"Collection",t);if(a.nftToken)return n.createElement("span",{className:"capitalize inline-flex items-center"},"NFT",t)}return n.createElement("span",{className:"capitalize"},a.type)},width:140},{title:()=>n.createElement("span",null,a("page.approvals.tableConfig.byAssets.columnTitle.approvedAmount")),key:"approvedAmount",dataIndex:"key",sortDirections:[...Q],showSorterTooltip:!1,sorter:(e,t)=>(0,v.Sf)(e,t),sortOrder:"approvedAmount"===e.columnKey?e.order:null,render:(e,t)=>{if(!t.$assetParent)return null;const r=(0,v.zp)(t);return n.createElement("div",{className:"text-14 overflow-hidden"},n.createElement("div",null,n.createElement(l.Z,{overlayClassName:"J-table__tooltip disable-ant-overwrite",overlay:a("page.approvals.tableConfig.byAssets.columnCell.approvedAmount.tipApprovedAmount"),align:{offset:[0,3]},arrowPointAtCenter:!0},n.createElement("span",{className:"text-r-neutral-title-1 truncate block"},r.displayAmountText))),n.createElement("div",{className:"mt-4"},n.createElement(l.Z,{overlayClassName:"J-table__tooltip disable-ant-overwrite",overlay:a("page.approvals.tableConfig.byAssets.columnCell.approvedAmount.tipMyBalance"),align:{offset:[0,3]},arrowPointAtCenter:!0},n.createElement("span",{className:"text-r-neutral-foot"},r.displayBalanceText))))},width:160},{title:()=>n.createElement("span",null,a("page.approvals.tableConfig.byAssets.columnTitle.approvedSpender")),key:"approveSpender",dataIndex:"key",render:(e,t)=>n.createElement(F.X,{spender:t}),width:380},{title:()=>n.createElement("span",{className:"pl-[20px]"},a("page.approvals.tableConfig.byAssets.columnTitle.myApprovalTime")),key:"assetApproveTime",dataIndex:"key",sortDirections:[...Q],showSorterTooltip:!1,sorter:(e,t)=>(e.last_approve_at||0)-(t.last_approve_at||0),sortOrder:"assetApproveTime"===e.columnKey?e.order:null,render:(e,t)=>{const a=t.last_approve_at;return(0,k.Dm)(a?1e3*a:0)},width:200}]}function G({selectedRows:e=[],t,toggleSelectAll:a,isSelectedAll:r,isIndeterminate:l}){return[{title:()=>n.createElement(D.f,{onClick:a,isIndeterminate:l,isSelected:r}),key:"selection",className:"J_selection",render:(t,a)=>{const r=e?.findIndex((e=>(0,i.Wr)(e.address,a.address)&&e.chain===a.chain&&e.delegatedAddress===a.delegatedAddress))>-1;return n.createElement(D.f,{isSelected:!!r})},width:80},{title:()=>n.createElement("span",{className:"text-r-neutral-body text-13"},t("page.approvals.tableConfig.byEIP7702.columnTitle.currentAddress")),key:"address",dataIndex:"address",render:(e,t,a)=>n.createElement("span",null,(0,E.h4)(t.address)," ",t.alias?n.createElement("span",{className:"text-r-neutral-foot text-14"},"(",t.alias,")"):null),width:600},{title:()=>n.createElement("div",{className:"flex justify-end pr-20 text-r-neutral-body text-13"},t("page.approvals.tableConfig.byEIP7702.columnTitle.delegatedAddress")),key:"address",dataIndex:"address",render:(e,t,a)=>{const r=(0,c.Xj)(t.chain);return r?n.createElement("div",{className:"flex items-center justify-end pr-20 w-full"},n.createElement(w.x,{width:"18px",height:"18px",hideConer:!0,hideChainIcon:!0,iconUrl:r?.logo||u.Z,chainServerId:r.serverId,noRound:!1}),n.createElement(A.Z,{className:"ml-[6px]",addressClass:"",address:t.delegatedAddress||"",chainEnum:r?.enum,copyIconClass:"text-r-neutral-body",addressSuffix:null,tooltipAliasName:!1,openExternal:!0,copyIcon:!0})):null},width:480}]}const X=e=>(0,k.KJ)(e)?P.kW:P.dN,ee=e=>`${e.rowIndex}-${e.columnIndex}-${e.record.id}`,te=(e,t)=>{const a=(0,k.DU)(e.record);return(0,y.Z)(a.isServerRisk&&"is-contract-row__risky",e.record.list.some((a=>(0,k.EN)(t,{item:e.record,spenderHost:a,itemIsContractApproval:!0})>-1))&&"is-selected-row-cell")},ae=(e,t)=>{const a=(0,k.EN)(t,{item:e.record.$assetContract,spenderHost:e.record.$assetToken,assetApprovalSpender:e.record})>-1;return(0,y.Z)(a&&"is-selected-row-cell")};function q({isDarkTheme:e,isLoading:t,emptyStatus:a,dataSource:r,containerHeight:p,selectedRows:m=[],onClickRow:b,vGridRef:h,className:E,onChangeSelectedContractSpenders:N,toggleAllContractRevoke:C,isSelectedAll:S,isIndeterminate:I,isDesktop:Z}){const[O,$]=(0,n.useState)({columnKey:"contractTrustValue",order:"ascend"}),z=(0,n.useCallback)(((e,t,a)=>{$((e=>({...a,order:a.order??H(e.order)??Y}))),h.current?.resetAfterRowIndex(0,!0)}),[h]),B=(0,n.useCallback)((e=>e.reduce(((e,t)=>((0,k.KJ)(t)?e+=P.kW:e+=P.dN,e)),0)),[]),{onClickRowInspection:F}=(0,_.dj)(b),{t:R}=(0,L.$G)(),j=(0,n.useMemo)((()=>function({sortedInfo:e,selectedRows:t=[],onChangeSelectedContractSpenders:a,t:r,toggleSelectAll:d,isSelectedAll:p,isIndeterminate:m}){const b=[{title:()=>n.createElement(D.f,{onClick:d,isIndeterminate:m,isSelected:p}),key:"selection",className:"J_selection",render:(e,r)=>{const l=r.list.filter((e=>(0,k.EN)(t,{item:r,spenderHost:e,itemIsContractApproval:!0})>-1)),o=l.length>0&&l.length<r.list.length;return n.createElement(D.f,{onClick:e=>{e.stopPropagation();let t=[];if(o||0===l.length){const e=new Set;r.list.forEach((t=>{const a=(0,k.h)(r,t,!0);a&&e.add((0,k.AI)(a))})),t=[...e].map((e=>(0,k.CQ)(e)))}a({approvalItem:r,selectedRevokeItems:t})},isIndeterminate:o,isSelected:!!l.length})},width:80},{title:()=>n.createElement("span",null,r("page.approvals.tableConfig.byContracts.columnTitle.contract")),key:"contract",dataIndex:"key",render:(e,t,a)=>{const r=(0,c.GA)(t.chain);if(!r)return null;const i=(0,k.KJ)(t),d=t.name||"Unknown";return n.createElement("div",{className:"flex flex-col justify-between"},n.createElement("div",{className:"contract-basic-info flex items-center"},n.createElement(w.x,{width:"16px",height:"16px",hideConer:!0,hideChainIcon:!0,iconUrl:r?.logo||u.Z,chainServerId:r.serverId,noRound:!1}),n.createElement(A.Z,{className:"ml-[6px]",addressClass:"",address:t.id,chainEnum:r.enum,copyIconClass:"text-r-neutral-body",addressSuffix:n.createElement(n.Fragment,null,n.createElement(l.Z,{overlayClassName:"J-table__tooltip disable-ant-overwrite",overlay:d},n.createElement("span",{className:"contract-name ml-[4px]"},"(",t.name||"Unknown",")")),n.createElement(T.Z,{onClick:e=>{e.stopPropagation(),(0,k.nS)(r?.scanLink,t.id)},src:f.r,className:(0,y.Z)("ml-6 w-[16px] h-[16px] cursor-pointer text-r-neutral-body")})),openExternal:!1})),i&&n.createElement("div",{className:"mt-[14px]"},n.createElement(o.Z,{className:(0,y.Z)("rounded-[4px] px-[8px] py-[3px]","danger"===t.risk_level?"bg-[#ec5151]":"bg-orange",`J_risky_${t.risk_level}`,"alert-with-caret"),icon:n.createElement(s.Z,{className:"text-white pt-[4px] self-start"}),banner:!0,message:n.createElement("span",{className:"text-12 text-white"},t.risk_alert),type:"error"})))},width:360},{title:e=>n.createElement("span",{className:"inline-flex items-center justify-center"},r("page.approvals.tableConfig.byContracts.columnTitle.contractTrustValue"),n.createElement(l.Z,{overlayClassName:"J-table__tooltip tip-column-contract-trust-value disable-ant-overwrite",overlay:n.createElement("div",{className:"text-[12px]"},n.createElement("p",null,r("page.approvals.tableConfig.byContracts.columnTip.contractTrustValue")))},n.createElement(T.Z,{className:(0,y.Z)("ml-[4px] w-[12px] h-[12px] relative",M.qB&&"top-[1px]","text-r-neutral-foot"),src:x.r}))),key:"contractTrustValue",sortDirections:[...Q],showSorterTooltip:!1,sorter:(t,a)=>{const r=(0,k.d$)(t,a,e,"contractTrustValue");return r.shouldEarlyReturn?r.keepRiskFirstReturnValue:t.$riskAboutValues.risk_spend_usd_value-a.$riskAboutValues.risk_spend_usd_value},sortOrder:"contractTrustValue"===e.columnKey?e.order:null,render(e,t){if("contract"!==t.type)return null;const a=t.$contractRiskEvaluation.extra.clientSpendScore>=v.j5.danger,o=!a&&t.$contractRiskEvaluation.extra.clientSpendScore>=v.j5.warning,s=a||o;return n.createElement(l.Z,{overlayClassName:(0,y.Z)("J-risk-cell__tooltip disable-ant-overwrite tip-trust-value",{"is-warning":o,"is-danger":a}),overlay:n.createElement("div",{className:"text-[12px]"},o&&n.createElement("p",null,r("page.approvals.tableConfig.byContracts.columnTip.contractTrustValueWarning")),a&&n.createElement("p",null,r("page.approvals.tableConfig.byContracts.columnTip.contractTrustValueDanger"))),...!a&&!o&&{visible:!1}},n.createElement("span",{className:(0,y.Z)(s&&"J-risk-cell__text",{"is-warning":o,"is-danger":a})},(0,i.xv)(t.$riskAboutValues.risk_spend_usd_value||0)))},width:220},{title:()=>n.createElement("span",null,r("page.approvals.tableConfig.byContracts.columnTitle.revokeTrends")),key:"recentRevokes",dataIndex:"revoke_user_count",sortDirections:[...Q],showSorterTooltip:!1,sorter:(t,a)=>{const r=(0,k.d$)(t,a,e,"recentRevokes");return r.shouldEarlyReturn?r.keepRiskFirstReturnValue:t.$riskAboutValues.revoke_user_count-a.$riskAboutValues.revoke_user_count},sortOrder:"recentRevokes"===e.columnKey?e.order:null,render:(e,t)=>{if("contract"!==t.type)return null;const a=t.$contractRiskEvaluation.extra.clientApprovalScore>=v.j5.danger,r=!a&&t.$contractRiskEvaluation.extra.clientApprovalScore>=v.j5.warning,o=a||r;return n.createElement(l.Z,{overlayClassName:(0,y.Z)("J-risk-cell__tooltip disable-ant-overwrite tip-recent-revokes",{"is-warning":r,"is-danger":a}),overlay:n.createElement("div",{className:"text-[12px]"},r&&n.createElement("p",null,"Recent revokes are greater than double the number of newly approved users."),a&&n.createElement("p",null,"Recent revokes are greater than 4 times the number of newly approved users."),n.createElement("p",null,"Newly approved users(24h):"," ",t.$riskAboutValues.approve_user_count),n.createElement("p",null,"Recent revokes(24h): ",t.$riskAboutValues.revoke_user_count)),...!a&&!r&&{visible:!1}},n.createElement("span",{className:(0,y.Z)(o&&"J-risk-cell__text",{"is-warning":r,"is-danger":a})},t.$riskAboutValues.revoke_user_count))},width:160},{title:()=>n.createElement("span",null,r("page.approvals.tableConfig.byContracts.columnTitle.myApprovalTime")),key:"contractApprovalTime",dataIndex:"last_approve_at",sortDirections:[...Q],showSorterTooltip:!1,sorter:(t,a)=>{const r=(0,k.d$)(t,a,e,"contractApprovalTime");return r.shouldEarlyReturn?r.keepRiskFirstReturnValue:t.$riskAboutValues.last_approve_at-a.$riskAboutValues.last_approve_at},sortOrder:"contractApprovalTime"===e.columnKey?e.order:null,render:(e,t)=>{const a=t.$riskAboutValues.last_approve_at;return(0,k.Dm)(a?1e3*a:0)},width:140},{title:()=>n.createElement("span",null,r("page.approvals.tableConfig.byContracts.columnTitle.myApprovedAssets")),align:"right",className:(0,y.Z)("J_contracts_last_column",M.qB&&"is-windows"),key:"myApprovedAssets",dataIndex:"approve_user_count",sortDirections:[...Q],showSorterTooltip:!1,sorter:(t,a)=>{const r=(0,k.d$)(t,a,e,"myApprovedAssets");return r.shouldEarlyReturn?r.keepRiskFirstReturnValue:t.list.length-a.list.length},sortOrder:"myApprovedAssets"===e.columnKey?e.order:null,render:(e,a)=>{const r=a.list,l=r.filter((e=>(0,k.EN)(t,{item:a,spenderHost:e,itemIsContractApproval:!0})>-1));return n.createElement("div",{className:"flex items-center justify-end w-[100%]"},n.createElement("span",{className:"block"},r.length,l.length?n.createElement("span",{className:"J_selected_count_text ml-[2px]"},"(",l.length,")"):null),n.createElement(T.Z,{className:"ml-[4px] text-r-neutral-title1",src:g.r}))},width:200}];return b}({selectedRows:m,sortedInfo:O,onChangeSelectedContractSpenders:N,toggleSelectAll:()=>C?.(r),isSelectedAll:S,isIndeterminate:I,t:R})),[r,R,m,O,N,C,S,I]);return n.createElement(d.d,{isDesktop:Z,loading:t,vGridRef:h,className:(0,y.Z)(E,"J_table_by_contracts",e&&"dark"),markHoverRow:!1,columns:j,sortedInfo:O,emptyText:R("no-matched"===a?"page.approvals.component.table.bodyEmpty.noMatchText":"page.approvals.component.table.bodyEmpty.noDataText"),dataSource:r,scroll:{y:p,x:"100%"},onClickRow:F,getTotalHeight:B,getRowHeight:X,getCellKey:ee,getCellClassName:e=>te(e,m),onChange:z})}function K({isLoading:e,emptyStatus:t,dataSource:a,containerHeight:r,onClickRow:l,selectedRows:o=[],vGridRef:s,className:i,toggleAllAssetRevoke:c,isSelectedAll:p,isIndeterminate:m,isDesktop:u}){const[x,g]=(0,n.useState)({columnKey:"assetApproveTime",order:Y}),f=(0,n.useCallback)(((e,t,a)=>{g((e=>({...a,order:a.order??H(e.order)??Y})))}),[]),{onClickRowInspection:b}=(0,_.dj)(l),{t:h}=(0,L.$G)();return n.createElement(d.d,{isDesktop:u,loading:e,vGridRef:s,className:(0,y.Z)(i,"J_table_by_assets"),markHoverRow:!1,columns:W({sortedInfo:x,selectedRows:o,toggleSelectAll:()=>c?.(a),isSelectedAll:p,isIndeterminate:m,t:h}),sortedInfo:x,emptyText:h("no-matched"===t?"page.approvals.component.table.bodyEmpty.noMatchText":"page.approvals.component.table.bodyEmpty.noDataText"),dataSource:a,scroll:{y:r,x:"100%"},onClickRow:b,getCellClassName:e=>ae(e,o),onChange:f})}function J({isLoading:e,emptyStatus:t,dataSource:a,containerHeight:r,selectedRows:l=[],onClickRow:o,vGridRef:s,className:i,toggleSelectAll:p,isSelectedAll:m,isIndeterminate:u,isActive:x,isDesktop:g}){const[f,b]=(0,n.useState)({columnKey:"address",order:Y}),{t:h}=(0,L.$G)(),{onClickRowInspection:v}=(0,_.dj)(o||j.noop);return n.createElement(n.Fragment,null,x?n.createElement("div",{className:"mb-20"},n.createElement("div",{className:"mt-20 mb-10 text-14 font-semibold text-r-neutral-body"},h("page.approvals.component.EIP7702SupportChains")),n.createElement("div",{className:"flex items-center flex-wrap gap-[12px]"},R.S.map((e=>{const t=(0,c.Xj)(e);return t?n.createElement("div",{className:"h-[36px] px-12 py-8 flex items-center justify-center gap-[8px] text-r-neutral-body font-medium bg-r-neutral-card1 rounded-[16px]"},n.createElement(V.Z,{chain:e,size:"small",tooltipProps:{visible:!1}}),t.name):null})))):null,n.createElement(d.d,{isDesktop:g,loading:e,vGridRef:s,className:(0,y.Z)(i,"J_table_by_eip_7702"),markHoverRow:!1,columns:G({selectedRows:l,onChangeSelected:e=>{},toggleSelectAll:p,isSelectedAll:m,isIndeterminate:u,t:h}),sortedInfo:f,emptyText:h("7702"===t?"page.approvals.component.table.bodyEmpty.7702":"no-matched"===t?"page.approvals.component.table.bodyEmpty.noMatchText":"page.approvals.component.table.bodyEmpty.noDataText"),dataSource:a,scroll:{y:r,x:"100%"},onClickRow:v}))}const re=({isDesktop:e=!0,desktopChain:t})=>{const{t:a}=(0,L.$G)(),{selectedTab:r,onTabChange:l}=(0,I.LI)(),o=!1,{isDarkTheme:s}=(0,O.r)(),[c,d]=n.useState(),u=e?t:c,{isLoading:x,loadApprovals:g,searchKw:f,setSearchKw:v,account:w,displaySortedContractList:P,contractEmptyStatus:_,displaySortedAssetsList:A,assetEmptyStatus:T,filterType:B,setFilterType:F,vGridRefContracts:D,vGridRefAsset:j}=(0,h.E$)({isTestnet:"testnet"===r,chain:u}),[V,U]=n.useState(B),{isLoading:H,data:W,searchEIP7702Kw:G,setSearchEIP7702Kw:Y,selectedRows:Q,setSelectedRows:X,vGridRefEIP7702:ee,handleEIP7702Revoke:te}=(0,R.p)({isActive:"eip-7702"===V,chain:u}),[ae,re]=(0,n.useMemo)((()=>"eip-7702"===V?[G,Y]:[f,v]),[V,G,Y,f,v]);(0,n.useEffect)((()=>{g()}),[r]);const{yValue:ne}=(0,h.c1)({isShowTestnet:o}),[le,oe]=n.useState(!1),[se,ie]=n.useState(),ce=(0,n.useMemo)((()=>se?(0,k.RT)(se):""),[se]),de=n.useCallback((e=>{ie(e.record),oe(!0)}),[]),{handleClickAssetRow:pe,contractRevokeMap:me,contractRevokeList:ue,contractSelectResult:xe,assetRevokeList:ge,assetSelectResult:fe,revokeSummary:be,patchContractRevokeMap:he,clearRevoke:ve,onChangeSelectedContractSpenders:Ee,toggleAllAssetRevoke:ye,toggleAllContractRevoke:ke}=(0,h.bB)({filterType:B,displaySortedContractList:P,displaySortedAssetsList:A}),we=(0,i.Os)(),Ne=n.useCallback((async()=>we.revoke({list:be.currentRevokeList}).then((()=>{oe(!1),ve()})).catch((e=>{}))),[we,ve,be.currentRevokeList]),Pe=(0,z._)({accountType:w?.type,revokeList:be.currentRevokeList,dataSource:A,onDone:()=>{g(),ve()},onClose:e=>{e&&(g(),ve())},isDesktop:e}),Ce=(0,$.G)({revokeListCount:be.currentRevokeList.length,onBatchRevoke:()=>Pe.show(),onRevokeOneByOne:()=>Ne(),accountType:w?.type,isDesktop:e}),Se=n.useMemo((()=>w?.type===M.Cr.PRIVATE_KEY||w?.type===M.Cr.MNEMONIC||w?.type===M.Cr.HARDWARE.LEDGER),[w]),_e=n.useCallback((()=>{be.currentRevokeList.length>1&&Se?Ce.show():Ne()}),[be.currentRevokeList.length,Ce,Ne,Se]),Me=(0,n.useRef)(null),Ae=(0,Z.Z)((()=>{if(!Me.current)return;const e=Me.current?.getBoundingClientRect(),t=document.documentElement.clientHeight;e.bottom>t-96?Me.current.classList.add("is-sticky"):Me.current.classList.remove("is-sticky")}));return(0,n.useEffect)((()=>{x||setTimeout((()=>{Ae()}),500)}),[Ae,x]),(0,n.useEffect)((()=>{const e=document.querySelector(".js-scroll-element");if(e)return e.addEventListener("scroll",Ae),()=>{e.removeEventListener("scroll",Ae)}}),[Ae]),n.createElement("div",{className:(0,y.Z)({"with-switchnet-tabs":o},"w-full max-w-full flex")},n.createElement("div",{className:(0,y.Z)("desktop-approvals-manager",e&&"approvals-manager-desktop")},!e&&n.createElement("header",{className:"approvals-manager__header"},o,n.createElement("div",{className:"title"},a("page.approvals.header.title",{address:(0,E.h4)(w?.address||"")}),w?.alianName&&n.createElement("span",{className:"text-r-neutral-foot text-[20px] font-normal"}," ","(",w?.alianName,")"))),"mainnet"===r?n.createElement(n.Fragment,null,n.createElement("main",{className:"relative w-full max-w-full"},n.createElement("div",{className:"approvals-manager__table-tools"},n.createElement(p.Z,{value:V,options:[{key:"contract",label:a("page.approvals.tab-switch.contract")},{key:"assets",label:a("page.approvals.tab-switch.assets")},{key:"eip-7702",label:`${a("page.approvals.tab-switch.eip-7702")} (${W?.length||0})`}],onTabChange:e=>{U(e),"eip-7702"!==e&&F(e)},className:(0,y.Z)("bg-rb-neutral-bg-0 rounded-[10px] p-[2px] h-[30px]"),itemClassname:"text-[12px] leading-[14px] font-medium px-[12px] py-[6px] w-auto rounded-[8px]",itemClassnameActive:"text-rb-neutral-InvertHighlight bg-rb-neutral-foot",itemClassnameInActive:"text-rb-neutral-foot"}),n.createElement("div",{className:"flex items-center gap-x-12"},n.createElement(S.Z,{value:ae,onChange:e=>re(e.target.value),prefix:n.createElement("img",{src:m.Z}),className:"search-input",suffix:n.createElement("span",null),placeholder:a("page.approvals.search.placeholder",{type:"assets"!==V?"contract":"assets"})}))),n.createElement("div",{className:"approvals-manager__table-wrapper"},n.createElement(q,{isDarkTheme:s,isLoading:x,className:"contract"===V?"":"hidden",vGridRef:D,containerHeight:ne,emptyStatus:_,dataSource:P,onClickRow:de,onChangeSelectedContractSpenders:Ee,selectedRows:ue,toggleAllContractRevoke:ke,isSelectedAll:xe.isSelectedAll,isIndeterminate:xe.isIndeterminate,isDesktop:e}),n.createElement(K,{className:"assets"===V?"":"hidden",isLoading:x,vGridRef:j,containerHeight:ne,emptyStatus:T,dataSource:A,selectedRows:ge,onClickRow:pe,toggleAllAssetRevoke:ye,isSelectedAll:fe.isSelectedAll,isIndeterminate:fe.isIndeterminate,isDesktop:e}),n.createElement(J,{isActive:"eip-7702"===V,className:"eip-7702"===V?"":"hidden",isLoading:H,vGridRef:ee,containerHeight:ne,emptyStatus:!W?.length&&"7702",dataSource:W||[],selectedRows:Q,onClickRow:e=>{e.record,X((t=>{const a=t.findIndex((t=>t.address===e.record.address&&t.chain===e.record.chain&&t.delegatedAddress===e.record.delegatedAddress));return a>-1?t.filter(((e,t)=>t!==a)):[...t,e.record]}))},toggleSelectAll:()=>{X((e=>e.length===W.length?[]:W))},isSelectedAll:W?.length===Q.length&&Q.length>0,isIndeterminate:Q.length>0&&W?.length>0&&Q?.length<W?.length,isDesktop:e})),se&&"eip-7702"!==V?n.createElement(N.F,{item:se,visible:le,onClose:()=>{oe(!1)},onConfirm:e=>{he(ce,e)},revokeList:me[ce]}):null,Pe.node,!x&&e&&n.createElement("div",{className:"sticky-footer-container",ref:Me},n.createElement("div",{className:"sticky-footer-inner py-[16px] text-center"},"eip-7702"===V?n.createElement(n.Fragment,null,n.createElement(C.E,{onRevoke:te,selectedCount:Q.length||0})):n.createElement(C.o,{revokeSummary:be,enableBatchRevoke:Se,onRevoke:_e})))),!e&&n.createElement("div",{className:"sticky-footer"},"eip-7702"===V?n.createElement(C.E,{onRevoke:te,selectedCount:Q.length||0}):n.createElement(C.o,{revokeSummary:be,enableBatchRevoke:Se,onRevoke:_e}))):n.createElement("div",{className:"mt-[20px] rounded-[8px] bg-r-neutral-card1 pt-[145px] pb-[175px] flex flex-col items-center w-full"},n.createElement(b.r,null),n.createElement("div",{className:"mt-[4px] text-r-neutral-foot text-[14px] leading-[20px]"},a("global.notSupportTesntnet")))))};r()}catch(ne){r(ne)}}))},972885:(e,t,a)=>{a.d(t,{E$:()=>k,bB:()=>w,c1:()=>v});var r=a(667294),n=a(210951),l=a(642562),o=a(665037),s=a(719174),i=a(308228),c=a(496486),d=a(254183),p=a(855944),m=a(690673),u=a(674018),x=a(247622),g=a(850225);function f(e){const{statics:t,permit2Revokes:a,generalRevokes:r}=e.reduce(((e,t)=>{if(e.statics.spenderCount+=1,"permit2Id"in t&&t.permit2Id){const n=t.permit2Id,l=(a=t.chainServerId,r=n,(0,g.XW)({chainServerId:a,permit2ContractId:r}));e.permit2Revokes[l]||(e.permit2Revokes[l]=e.permit2Revokes[l]||{chainServerId:t.chainServerId,permit2Id:n,tokenSpenders:[]}),"tokenId"in t&&t.tokenId&&e.permit2Revokes[l].tokenSpenders.push({spender:t.spender,token:t.tokenId})}else e.generalRevokes.push(t);var a,r;return e}),{generalRevokes:[],permit2Revokes:{},statics:{txCount:0,spenderCount:0}});return t.txCount=r.length+Object.values(a).filter((e=>e.tokenSpenders.length>0)).length,{statics:t,generalRevokes:r,permit2Revokes:a}}var b=a(291043);function h(e=!1){return window.innerHeight-(e?250:200)-148}function v({isShowTestnet:e=!1}){const[t,a]=(0,r.useState)(h(e));return(0,r.useLayoutEffect)((()=>{const t=(0,c.debounce)((()=>{a(h(e))}),500);return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e]),{yValue:t}}function E(e){Object.keys(e).forEach((t=>{e[t].list.sort(((e,t)=>t.value-e.value)).sort(((e,t)=>{const a={safe:1,warning:10,danger:100};return a[t.risk_level]-a[e.risk_level]}))}))}const y=e=>{e.current&&(e.current.scrollToItem({columnIndex:0}),e.current.resetAfterIndices({columnIndex:0,rowIndex:0,shouldForceUpdate:!0}))};function k(e){const t=(0,s.Os)(),a=(0,o.$y)(),x=(0,o.L5)((e=>e.account.currentAccount));(0,r.useEffect)((()=>{a.account.fetchCurrentAccountAliasNameAsync()}),[x?.address]);const[g,f]=(0,r.useState)("contract"),[h,v]=(0,r.useState)(""),[k,w]=(0,r.useState)(""),N=(0,r.useRef)(null),P=(0,r.useRef)(null),C=(0,r.useMemo)((()=>"contract"===g?v:w),[g]),S=(0,r.useMemo)((()=>"contract"===g?h:k),[g,h,k]),_=(0,m.ZP)(S,250);(0,r.useLayoutEffect)((()=>{const e="contract"===g?N:P;e.current&&(e.current?.scrollToItem({columnIndex:0}),e.current?.resetAfterRowIndex(0,!0))}),[_,g]);const M=(0,r.useRef)(new l.Z({concurrency:40})),[A,I]=(0,r.useState)(!1),[L,Z]=(0,r.useState)({contractMap:{},tokenMap:{},nftMap:{}}),[{loading:T,error:O},$]=(0,n.Z)((async()=>{I(!0);const a=e?.isTestnet?t.testnetOpenapi:t.openapi,r=x.address,n=await a.usedChainList(r),l={contractMap:{},tokenMap:{},nftMap:{}};await M.current.clear();const o=n.map((e=>async()=>{try{const t=await a.userNFTAuthorizedList(r,e.id);t.total&&(t.contracts.forEach((t=>{const a=t.chain,r=t.spender.id,n=t.spender;if(!l.contractMap[`${a}:${r}`]){const t=(0,i.aA)("nft-contract",n);l.contractMap[`${a}:${r}`]={list:[],chain:e.id,type:"contract",contractFor:"nft-contract",$riskAboutValues:t,$contractRiskEvaluation:(0,i.q)(n.risk_level,t),risk_level:n.risk_level,risk_alert:n.risk_alert,id:n.id,name:n?.protocol?.name||"Unknown",logo_url:n.protocol?.logo_url}}l.contractMap[`${a}:${r}`].list.push(t),l.nftMap[`${a}:${t.contract_id}`]||(l.nftMap[`${a}:${t.contract_id}`]={nftContract:t,list:[],type:"nft",$riskAboutValues:(0,i.aA)("nft-contract",n),risk_level:"safe",id:t.contract_id,name:t.contract_name,logo_url:t?.collection?.logo_url||d.Z,amount:t.amount,chain:e.id}),l.nftMap[`${a}:${t.contract_id}`].list.push((0,i.dV)(n,l.nftMap[`${a}:${t.contract_id}`],l.contractMap[`${a}:${r}`],t))})),t.tokens.forEach((t=>{const a=t.chain,r=t.spender.id,n=t.spender;if(!l.contractMap[`${t.chain}:${r}`]){const a=(0,i.aA)("nft",n);l.contractMap[`${t.chain}:${r}`]={list:[],chain:e.id,risk_level:n.risk_level,risk_alert:n.risk_alert,id:n.id,name:n?.protocol?.name||"Unknown",logo_url:n.protocol?.logo_url||d.Z,type:"contract",contractFor:"nft",$riskAboutValues:a,$contractRiskEvaluation:(0,i.q)(n.risk_level,a)}}l.contractMap[`${a}:${r}`].list.push(t);const o=`${a}:${t.contract_id}:${t.inner_id}`;l.nftMap[o]||(l.nftMap[o]={nftToken:t,list:[],chain:e.id,risk_level:"safe",id:t.contract_id,name:t.contract_name,logo_url:t?.content||t.collection?.logo_url,type:"nft",$riskAboutValues:(0,i.aA)("nft",n),amount:t.amount}),l.nftMap[o].list.push((0,i.dV)(n,l.nftMap[o],l.contractMap[`${a}:${r}`],t))})))}catch(e){console.error("fetch userNFTAuthorizedList error",e)}})),s=n.map((e=>async()=>{try{const t=await a.tokenAuthorizedList(r,e.id,{restfulPrefix:"v2"});t.length&&t.forEach((t=>{t.spenders.forEach((a=>{const r=(0,i.w4)(t,a),n=r.chain,o=a.id;if(!l.contractMap[`${n}:${o}`]){const e=(0,i.aA)("token",a);l.contractMap[`${n}:${o}`]={list:[],chain:t.chain,risk_level:a.risk_level,risk_alert:a.risk_alert,id:a.id,name:a?.protocol?.name||"Unknown",logo_url:a.protocol?.logo_url,type:"contract",contractFor:"token",$riskAboutValues:e,$contractRiskEvaluation:(0,i.q)(a.risk_level,e)}}l.contractMap[`${n}:${o}`].list.push(r);const s=r.id;l.tokenMap[`${n}:${s}`]||(l.tokenMap[`${n}:${s}`]={list:[],chain:e.id,risk_level:"safe",id:r.id,name:(0,u.EG)(r),logo_url:t.logo_url||p.Z,type:"token",$riskAboutValues:(0,i.aA)("token",a),balance:r.balance}),l.tokenMap[`${n}:${s}`].list.push((0,i.dV)(a,l.tokenMap[`${n}:${s}`],l.contractMap[`${n}:${o}`],r))}))}))}catch(e){console.error("fetch tokenAuthorizedList error:",e)}}));return await M.current.addAll([...o,...s]),E(l.tokenMap),E(l.nftMap),I(!1),Z(l),[l.contractMap,l.tokenMap,l.nftMap]}),[x?.address,e?.isTestnet]),z=A&&T,B=(0,r.useMemo)((()=>{if(L.contractMap){const t=Object.values(L.contractMap),a=t.length,r=[],n=[],l=[],o={safe:"safe",warning:"warning",danger:"danger"};for(let e=0;e<a;e++){const a=t[e];a.risk_level===o.warning?n.push(a):a.risk_level===o.danger?r.push(a):l.push(a)}const s=(0,c.groupBy)(l,(e=>e.chain)),i=(0,c.sortBy)(Object.values(s),"length").map((e=>(0,c.sortBy)(e,(e=>e.list.length)).reverse())),d=[...r,...n,...(0,c.flatten)(i.reverse())];return e?.chain?d.filter((t=>(0,b.GA)(t.chain)?.enum===e.chain)):d}return[]}),[L.contractMap,e?.chain]);(0,r.useEffect)((()=>{setTimeout((()=>{y(N)}),200)}),[B]);const F=(0,r.useMemo)((()=>{const t=[...(0,c.flatten)(Object.values(L.tokenMap||{}).map((e=>e.list))),...(0,c.flatten)(Object.values(L.nftMap||{}).map((e=>e.list)))];return e?.chain?t.filter((t=>(0,b.GA)(t.$assetParent?.chain)?.enum===e.chain)):t}),[L.tokenMap,L.nftMap,e?.chain]);(0,r.useEffect)((()=>{setTimeout((()=>{y(P)}),200)}),[F]);const{displaySortedContractList:D,displaySortedAssetsList:R}=(0,r.useMemo)((()=>{if(!_||""===_.trim())return{displaySortedContractList:B,displaySortedAssetsList:F};const e=_.toLowerCase();return{displaySortedContractList:B.filter((t=>[t.id,t.risk_alert||"",t.name,t.id,t.chain].some((t=>t.toLowerCase().includes(e))))),displaySortedAssetsList:F.filter((t=>[t.id,t.risk_alert||"",t.$assetParent?.name,t.id,t.$assetParent?.chain].some((t=>t?.toLowerCase().includes(e)))))}}),[B,F,_]);return{isLoading:z,loadApprovals:$,searchKw:S,debouncedSearchKw:_,setSearchKw:C,filterType:g,setFilterType:f,vGridRefContracts:N,vGridRefAsset:P,account:x,contractEmptyStatus:(0,r.useMemo)((()=>B.length?!D.length&&"no-matched":"none"),[B,D]),displaySortedContractList:D,assetEmptyStatus:(0,r.useMemo)((()=>F.length?!R.length&&"no-matched":"none"),[F,R]),displaySortedAssetsList:R}}function w({filterType:e,displaySortedContractList:t,displaySortedAssetsList:a}){const[n,l]=r.useState([]),o=r.useCallback((e=>{const t=e.record,a=(0,x.EN)(n,{item:t.$assetContract,spenderHost:t.$assetToken,assetApprovalSpender:t});if(a>-1)l((e=>e.filter(((e,t)=>t!==a))));else{const e=(0,x.h)(t.$assetContract,t.$assetToken,t);e&&l((t=>[...t,e]))}}),[n]),s=(0,r.useMemo)((()=>(0,x.lw)(a,n)),[a,n]),i=r.useCallback((e=>{if(s.isSelectedAll)l([]);else{const t=e.map((e=>(0,x.h)(e.$assetContract,e.$assetToken,e)));l((0,x.AZ)(t.filter(Boolean)))}}),[s.isSelectedAll]),[c,d]=r.useState({}),p=(0,r.useMemo)((()=>Object.values(c).flat()),[c]),m=(0,r.useMemo)((()=>"contract"===e?p:"assets"===e?n:[]),[p,n,e]),u=(0,r.useMemo)((()=>(0,x.tf)(t,p)),[t,p]),g=r.useCallback((()=>{d({}),l([])}),[]),b=r.useCallback(((e,t)=>{d((a=>({...a,[e]:t})))}),[d]),h=r.useCallback((e=>{const t=(0,x.RT)(e.approvalItem);d((a=>({...a,[t]:e.selectedRevokeItems})))}),[]),v=r.useCallback((e=>{if(u.isSelectedAll)d({});else{const t={};e.forEach((e=>{const a=(0,x.RT)(e);t[a]=(0,x.AZ)(e.list.map((t=>(0,x.h)(e,t,!0))).filter(Boolean))})),d(t)}}),[u.isSelectedAll]),E=(0,r.useMemo)((()=>{const e=f(m);return{currentRevokeList:m,...e}}),[m]);return{handleClickAssetRow:o,contractRevokeMap:c,contractRevokeList:p,contractSelectResult:u,assetRevokeList:n,assetSelectResult:s,revokeSummary:E,clearRevoke:g,patchContractRevokeMap:b,onChangeSelectedContractSpenders:h,toggleAllAssetRevoke:i,toggleAllContractRevoke:v}}},134179:(e,t,a)=>{a.d(t,{S:()=>x,p:()=>f});var r=a(667294),n=a(439259),l=a(21233),o=a(719174),s=a(291043),i=a(960398),c=a(642562),d=a(85901),p=a(757016),m=a(52887),u=a(478051);const x=[i.h.ETH,i.h.BSC,i.h.OP,i.h.BASE,i.h.ARBITRUM,i.h.SCRL,"BERA","UNI","INK"],g=[n.pY.SimpleKeyring,n.pY.HdKeyring];const f=({isActive:e,chain:t})=>{const{t:a}=(0,m.$G)(),i=(0,l.t)(),{address:f}=i||{},[b,h]=(0,r.useState)(""),v=(0,o.Os)(),[E,y]=(0,r.useState)([]),k=(0,r.useRef)(null),{value:w,loading:N,error:P,retry:C}=(0,d.Z)((async()=>f&&v.requestETHRpc?await async function(e,t,a,r=10){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error("Invalid Ethereum address");const n=new c.Z({concurrency:r}),l=t.filter((e=>!!(0,s.Xj)(e))).map((t=>async()=>{const r=(0,s.Xj)(t);try{const t=await a({method:"eth_getCode",params:[e,"latest"]},r.serverId);if(!t||"0x"===t)return void r.name;if(t.startsWith("0xef0100")){const e="0x"+t.slice(8);return r.name,{delegatedAddress:e,chain:r.enum}}return}catch(e){return void console.error(`[${r.name}] Error querying address:`,e.message)}}));return await n.addAll(l)}(f,x,v.requestETHRpc):[]),[f]),S=(0,r.useMemo)((()=>(P?[]:w||[])?.filter((e=>!!e&&(!t||e.chain===t)&&(!b?.trim()||e?.delegatedAddress?.toLowerCase().includes(b?.trim().toLowerCase())))).map(((e,t,a)=>({...e,address:i.address,alias:i.alianName,list:a})))),[w,i,t,b]),_=()=>{y([])};return{accountAddress:f,isLoading:N,error:P,data:S,searchEIP7702Kw:b,setSearchEIP7702Kw:h,selectedRows:E,setSelectedRows:y,vGridRefEIP7702:k,handleEIP7702Revoke:async()=>{if(!v.revokeEIP7702||!f)throw new Error("Wallet not connected or account address not available");if(!g.includes(i?.type))return void p.Z.info({centered:!0,title:r.createElement("div",{className:"text-[16px] text-r-neutral-title1 font-medium "},a("page.approvals.component.RevokeButton.notSupport7702Title")),className:"am-revoke-info-modal modal-support-darkmode",content:r.createElement("div",{className:"text-[15px] text-r-neutral-body text-center"},a("page.approvals.component.RevokeButton.notSupport7702Content")),okText:a("global.ok"),okButtonProps:{block:!0,className:"h-[44px]"},onOk:()=>{_()}});await v.revokeEIP7702({chainList:E?.map((e=>e.chain))});const e=()=>{C(),u.Z.removeEventListener(n.FP.RELOAD_TX,e)};u.Z.addEventListener(n.FP.RELOAD_TX,e),_()}}}},818542:(e,t,a)=>{a.d(t,{I:()=>u});var r=a(386010),n=a(52887),l=a(547886),o=a(21233),s=a(665037),i=a(439259),c=a(605708),d=a(798306),p=a(883356),m=a(667294);const u=()=>{const{t:e}=(0,n.$G)(),t=(0,l.k6)(),a=(0,o.t)(),u=a?.type===i.pY.GnosisKeyring,x=(0,s.$y)(),{data:g,runAsync:f}=(0,c.Z)((async()=>{if(a?.address&&!u)return x.transactions.getPendingTxCountAsync(a?.address)}),{refreshDeps:[a?.address,u],refreshOnWindowFocus:!0,pollingInterval:3e4});return(0,d.m)(i.FP.TX_SUBMITTING,(()=>{setTimeout((()=>{f()}),800)})),(0,d.m)(i.FP.RELOAD_TX,f),u||!g?null:m.createElement(m.Fragment,null,m.createElement("div",{className:(0,r.Z)("min-w-[112px] h-[32px] px-[10px] rounded-[8px]","flex items-center justify-center gap-[8px] cursor-pointer","text-[14px] font-semibold text-r-orange-default","bg-rb-orange-light-1"),onClick:()=>{t.replace(t.location.pathname+"?action=activities")}},m.createElement(p.rm,{className:"w-[16px] h-[16px] animate-spin"}),m.createElement("div",null,e("page.desktopProfile.button.pending",{pendingTxCount:g}))))}},451898:(e,t,a)=>{a.d(t,{H:()=>s});var r=a(901234),n=a(436986),l=a(757016),o=a(667294);const s=e=>o.createElement(l.Z,{...e,width:400,centered:!0,closable:!1,footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},className:"modal-support-darkmode"},o.createElement(r.k,null,o.createElement(n.x,{isInModal:!0,onClose:e.onCancel})))},892035:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{L:()=>Z});var n=a(398222),l=a(830785),o=a(301922),s=a(744613),i=a(21233),c=a(511588),d=a(274531),p=a(719174),m=a(913361),u=a(935938),x=a(291043),g=a(478161),f=a(596638),b=a(605708),h=a(757016),v=a(931097),E=a(359314),y=a(71577),k=a(244431),w=a.n(k),N=a(386010),P=a(496486),C=a(667294),S=a(925822),_=a(866043),M=a(167452),A=a(52887),I=e([o,c]);[o,c]=I.then?(await I)():I;const L=e=>{const{nftDetail:t,onSigned:a,...r}=e,o=(0,i.t)(),k=(0,_.T)(),{t:I}=(0,A.$G)(),{openUI:L,resetGasStore:Z,close:T,updateConfig:O}=(0,c.y)({account:o}),[$,z]=(0,f.Z)({listingPrice:"",amount:1,creatorFeeEnable:!1,duration:5184e6}),B=t?.best_offer_order,F=(0,C.useMemo)((()=>Math.min(B?.remaining_quantity||1,t?.amount||1)),[B?.remaining_quantity,t?.amount]),D=(0,d.w)({address:o?.address,chainServerId:t?.chain,tokenId:t?k?.[t?.chain]?.offer_currency?.token_id:""},{ready:!!t?.best_offer_order}),R=(0,p.Os)(),{data:j}=(0,b.Z)((async()=>{if(!t?.chain||!t?.contract_id)return null;return await R.openapi.getNFTFees({chain_id:t?.chain||"",collection_id:t?.contract_id||"",inner_id:t.inner_id})}),{refreshDeps:[t?.chain,t?.contract_id],onError(e){console.error(e)}}),V=(0,C.useMemo)((()=>{const e={total:0,market:0,custom:0,isCustomRequired:!1};return j?(Object.entries(j).forEach((([t,a])=>{a.forEach((a=>{"marketplace_fees"===t?(e.market+=a.fee,e.total+=a.fee):"custom_royalties"===t&&(e.custom+=a.fee,($.creatorFeeEnable||a.required)&&(e.total+=a.fee),e.isCustomRequired=a.required||e.isCustomRequired)}))})),{total:e.total/1e4,market:e.market/1e4,custom:e.custom/1e4,isCustomRequired:e.isCustomRequired}):e}),[j,$.creatorFeeEnable]),U=(0,C.useMemo)((()=>(0,g.Ey)(t)),[t]),H=(0,C.useMemo)((()=>U&&D?U.times(D.price):null),[D,U]),W=(0,C.useMemo)((()=>{const e=t?.collection?.opensea_floor_price?.price||0;return e&&U?U.minus(e).div(e).toNumber():null}),[t?.collection?.opensea_floor_price?.price,U]),G=(0,x.Ed)({serverId:t?.chain}),{data:q,loading:K,runAsync:J}=(0,b.Z)((async()=>{if(!G?.id||!o?.address||!t)return;return await R.checkIsApprovedForAll({chainId:G.id,owner:o.address,operator:M.oC,contractAddress:t.contract_id})}),{refreshDeps:[G?.id,o?.address,t]}),{data:Y,loading:Q,error:X}=(0,b.Z)((async()=>{if(!(o&&t&&o&&G&&B))throw new Error("Error");const e=[],a=q?null:await R.buildSetApprovedForAllTx({from:o?.address,chainId:G.id,operator:M.oC,contractAddress:t.contract_id}),r=await R.buildAcceptNFTOfferTx({address:o.address,chainId:G.id,collectionId:t?.contract_id,innerId:t?.inner_id,order:B,quantity:$.amount||1,isIncludeCreatorFee:$.creatorFeeEnable});return a&&e.push(a),e.push(r),e}),{refreshDeps:[B,$.amount,$.creatorFeeEnable,t,o?.address,G?.id,q],ready:!K}),{runAsync:ee,loading:te}=(0,b.Z)((async e=>{if(!e?.length)throw new Error("empty tx");const t=async()=>{const t=[];for(const a of e){const e=await R.sendRequest({method:"eth_sendTransaction",params:[a]});t.push(e)}return t};return await t()}),{manual:!0,onSuccess(e){const t=(0,P.last)(e),r=(0,P.last)(Y);G&&t&&(r&&R.openapi.submitAcceptNFTOfferTx({tx_id:t,data:r}),a?.((0,m.mQ)({wallet:R,hash:t,chainServerId:G.serverId})))}});return C.createElement(h.Z,{...r,width:880,centered:!0,footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},className:"modal-support-darkmode",closeIcon:C.createElement(S.r,{className:"w-[20px] h-[20px]"})},C.createElement("h1",{className:"text-r-neutral-title1 text-[20px] leading-[24px] font-medium text-center py-[16px] m-0"},I("page.desktopProfile.nft.acceptModal.title")),C.createElement("div",{className:"pt-[16px] px-[20px] pb-[24px]"},C.createElement("div",{className:"pb-[20px] border-b-[0.5px] border-solid border-rabby-neutral-line"},C.createElement("div",{className:"flex items-center justify-between"},C.createElement("div",{className:"text-r-neutral-foot text-[13px] leading-[16px] font-medium"},I("page.desktopProfile.nft.acceptModal.offer")),C.createElement("div",{className:"text-r-neutral-foot text-[13px] leading-[16px] font-medium"},I("page.desktopProfile.nft.acceptModal.offerPrice"))),C.createElement("div",{className:"flex items-center gap-[10px] pt-[12px]"},C.createElement(u.Z,{className:"w-[36px] h-[36px]",chain:t?.chain,content:t?.content,type:t?.content_type}),C.createElement("div",{className:"flex-1 min-w-0 flex justify-between gap-[4px]"},C.createElement("div",{className:"space-y-[4px]"},C.createElement("div",{className:(0,N.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate")},t?.name||"-"),C.createElement("div",{className:(0,N.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-foot truncate")},t?.collection?.name||"-")),C.createElement("div",{className:"space-y-[4px] text-right"},D?C.createElement(C.Fragment,null,C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 text-right"},U?(0,p.LH)(U.toFixed()):"-"," ",B?.price.currency),C.createElement("div",{className:(0,N.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-foot")},H?(0,p.xv)(H.toFixed()):"-")):C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},"-"))))),C.createElement("div",{className:"py-[16px] space-y-[24px] border-b-[0.5px] border-solid border-rabby-neutral-line"},F>1?C.createElement("div",{className:"flex items-center justify-between"},C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},I("page.desktopProfile.nft.acceptModal.quantity")),C.createElement("div",null,C.createElement(s.Y,{min:1,max:F,value:$.amount,onChange:e=>{z({amount:e})},disabled:te}))):null,C.createElement("div",{className:"flex items-center justify-between"},C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},I("page.desktopProfile.nft.acceptModal.platform")),C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},C.createElement("div",{className:"flex items-center gap-[4px]"},C.createElement("img",{src:n.Iu,className:"w-[16px] h-[16px]",alt:""}),"OpenSea")))),C.createElement("div",{className:"py-[16px] space-y-[16px] border-b-[0.5px] border-solid border-rabby-neutral-line"},C.createElement("div",{className:"flex items-center justify-between"},C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot"},I("page.desktopProfile.nft.acceptModal.floorDifference")),C.createElement("div",{className:(0,N.Z)("text-[13px] leading-[16px] font-medium",W&&W<0?"text-r-red-default":"text-r-neutral-title1")},W?C.createElement(C.Fragment,null,W<0?`${(100*W).toFixed(1)}% below floor`:`${(100*W).toFixed(1)}% above floor`):"-")),C.createElement("div",{className:"flex items-center justify-between"},C.createElement("div",{className:(0,N.Z)("flex items-center gap-[2px]","text-[13px] leading-[16px] font-medium text-r-neutral-foot")},I("page.desktopProfile.nft.acceptModal.platformFee",{fee:+(100*V.market).toFixed(2)}),C.createElement(v.Z,{title:I("page.desktopProfile.nft.acceptModal.platformFeeTips"),overlayClassName:"rectangle"},C.createElement(l.H,null))),C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},(0,p.LH)(new(w())(V.market).times(U||0).times($?.amount||0).toFixed())," ",D?.symbol," ",C.createElement("span",{className:"text-r-neutral-foot font-normal"},"(",(0,p.xv)(new(w())(V.market).times(H||0).times($?.amount||0).toFixed()),")"))),V.custom?C.createElement("div",{className:"flex items-center justify-between"},C.createElement("div",{className:(0,N.Z)("flex items-center","text-[13px] leading-[16px] font-medium text-r-neutral-foot")},I("page.desktopProfile.nft.acceptModal.creatorFee",{fee:+(100*V.custom).toFixed(2)}),C.createElement(v.Z,{title:I(V?.isCustomRequired?"page.desktopProfile.nft.acceptModal.creatorFeeTips1":"page.desktopProfile.nft.acceptModal.creatorFeeTips"),overlayClassName:"rectangle"},C.createElement(l.H,{className:"ml-[2px] mr-[4px]"})),V?.isCustomRequired?null:C.createElement(E.Z,{checked:$.creatorFeeEnable||V.isCustomRequired,onChange:e=>{z({creatorFeeEnable:e})},disabled:te})),C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},($?.creatorFeeEnable||V.isCustomRequired)&&V.custom?C.createElement(C.Fragment,null,(0,p.LH)(new(w())(V.custom).times(U||0).times($?.amount||0).toFixed())," ",D?.symbol," ",C.createElement("span",{className:"text-r-neutral-foot font-normal"},"(",(0,p.xv)(new(w())(V.custom).times(H||0).times($?.amount||0).toFixed()),")")):"-")):null,C.createElement("div",{className:"flex items-center justify-between"},C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot"},I("page.desktopProfile.nft.acceptModal.rabbyFee")),C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},"-"))),C.createElement("div",{className:"py-[16px] mb-[12px]"},C.createElement("div",{className:"flex items-center justify-between"},C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},I("page.desktopProfile.nft.acceptModal.totalEst")),C.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},(0,p.LH)(new(w())(U||0).times(1-V.total).times($?.amount||0).toFixed())," ",D?.symbol," ",C.createElement("span",{className:"text-r-neutral-foot font-normal"},"(",(0,p.xv)(new(w())(H||0).times(1-V.total).times($?.amount||0).toFixed()),")")))),C.createElement("footer",null,C.createElement("div",{className:"flex items-center justify-end gap-[16px]"},X?C.createElement("div",{className:(0,N.Z)("flex items-center gap-[6px]"," text-r-red-default text-[13px] leading-[16px] font-medium")},C.createElement(l.P6,{viewBox:"0 0 24 24",className:"w-[16px] h-[16px]"}),C.createElement("div",null,X?.message||"Something wrong")):null,C.createElement(y.Z,{type:"primary",size:"large",className:"min-w-[180px]",loading:te,disabled:Q||!Y?.length,onClick:()=>{ee(Y)}},I("page.desktopProfile.nft.acceptModal.acceptOffer"))))))},Z=e=>C.createElement(h.Z,{...e,width:880,centered:!0,footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},className:"modal-support-darkmode",closeIcon:C.createElement(S.r,{className:"w-[20px] h-[20px] text-r-neutral-foot"}),destroyOnClose:!0},C.createElement(L,{...e}));r()}catch(e){r(e)}}))},810463:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{G:()=>P});var n=a(21233),l=a(935938),o=a(71577),s=a(757016),i=a(386010),c=a(667294),d=a(866043),p=a(719174),m=a(274531),u=a(244431),x=a.n(u),g=a(925822),f=a(605708),b=a(511588),h=a(291043),v=a(301922),E=(a(398222),a(496486)),y=a(913361),k=a(52887),w=e([b,v]);[b,v]=w.then?(await w)():w;const N=e=>{const{nftDetail:t,onSigned:a,listingOrders:r,...s}=e,u=(0,n.t)(),g=(0,d.T)(),v=(0,c.useMemo)((()=>r?.[0]),[r]),w=(0,m.w)({address:u?.address,chainServerId:t?.chain,tokenId:t?g?.[t?.chain]?.listing_currency?.token_id:""},{ready:!!v}),{openUI:N,resetGasStore:P,close:C,updateConfig:S}=(0,b.y)({account:u}),_=(0,p.Os)(),M=(0,h.Ed)({serverId:t?.chain}),{runAsync:A,loading:I}=(0,f.Z)((async()=>{if(!u?.address||!M?.id||!r?.length)throw new Error("failed");const e=[await _.buildCancelNFTListTx({address:u?.address,chainId:M?.id,orders:t?.collection?.is_erc721?r.map((e=>e.protocol_data.parameters)):r.slice(0,1).map((e=>e.protocol_data.parameters))})],a=async()=>{const t=[];for(const a of e){const e=await _.sendRequest({method:"eth_sendTransaction",params:[a]});t.push(e)}return t};return await a()}),{manual:!0,onSuccess(e){const t=(0,E.last)(e);M&&t&&a?.((0,y.mQ)({wallet:_,hash:t,chainServerId:M.serverId}))}}),{t:L}=(0,k.$G)();return c.createElement(c.Fragment,null,c.createElement("h1",{className:"text-r-neutral-title1 text-[20px] leading-[24px] font-medium text-center py-[16px] m-0"},L("page.desktopProfile.nft.cancelModal.title")),c.createElement("div",{className:"px-[20px] pb-[24px] pt-[12px]"},c.createElement("div",{className:"flex items-center justify-between"},c.createElement("div",{className:"text-r-neutral-foot text-[13px] leading-[16px] font-medium"},L("page.desktopProfile.nft.cancelModal.listing")),c.createElement("div",{className:"text-r-neutral-foot text-[13px] leading-[16px] font-medium"},L("page.desktopProfile.nft.cancelModal.listingPrice"))),c.createElement("div",{className:"flex items-center gap-[10px] pt-[12px] pb-[24px]"},c.createElement(l.Z,{className:"w-[36px] h-[36px]",chain:t?.chain,content:t?.content,type:t?.content_type}),c.createElement("div",{className:"flex-1 min-w-0 flex justify-between gap-[4px]"},c.createElement("div",{className:"space-y-[4px]"},c.createElement("div",{className:"flex items-center gap-[6px]"},c.createElement("div",{className:(0,i.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate")},t?.name||"-"),+(v?.protocol_data?.parameters?.offer?.[0]?.startAmount||0)>1?c.createElement("div",{className:(0,i.Z)("text-[11px] leading-[13px] font-medium text-r-neutral-foot","px-[6px] py-[2px] border-[0.5px] border-rabby-neutral-line rounded-[4px] shrink-0")},"x",v?.protocol_data?.parameters?.offer?.[0]?.startAmount||1):null),c.createElement("div",{className:(0,i.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-foot truncate")},t?.collection?.name||"-")),c.createElement("div",{className:"space-y-[4px] text-right"},v&&w?c.createElement(c.Fragment,null,c.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},(0,p.LH)(new(x())(v.current_price).div(new(x())(10).exponentiatedBy(w?.decimals)).div(v.protocol_data?.parameters?.offer?.[0].startAmount||1).toFixed())," ",w?.symbol),c.createElement("div",{className:(0,i.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-foot")},(0,p.xv)(new(x())(v.current_price).div(new(x())(10).exponentiatedBy(w?.decimals)).div(v.protocol_data?.parameters?.offer?.[0].startAmount||1).times(w.price).toFixed()))):c.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},"-")))),c.createElement("footer",null,c.createElement(o.Z,{type:"primary",block:!0,size:"large",onClick:A,loading:I},L("page.desktopProfile.nft.cancelModal.cancelListing")))))},P=e=>c.createElement(s.Z,{...e,width:440,centered:!0,footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},className:"modal-support-darkmode",closeIcon:c.createElement(g.r,{className:"w-[20px] h-[20px] text-r-neutral-foot"}),destroyOnClose:!0},c.createElement(N,{...e}));r()}catch(e){r(e)}}))},883488:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{p:()=>D});var n=a(830785),l=a(744613),o=a(21233),s=a(456902),i=a(274531),c=a(719174),d=a(913361),p=a(935938),m=a(291043),u=a(478161),x=a(167452),g=a(596638),f=a(605708),b=a(222638),h=a(877983),v=a(931097),E=a(359314),y=a(79502),k=a(71577),w=a(757016),N=a(244431),P=a.n(N),C=a(386010),S=a(496486),_=a(667294),M=a(658804),A=a(925822),I=a(866043),L=a(126236),Z=a(52887),T=a(901771),O=e([s]);s=(O.then?(await O)():O)[0];const z=M.ZP.div.withConfig({displayName:"rabby--Container",componentId:"rabby--1yikdyz"})`
  table {
    th,
    td {
      padding: 12px 6px;

      &:first-child {
        padding-left: 0;
      }

      &:not(:first-child) {
        text-align: right;
      }

      &:last-child {
        padding-right: 0;
      }
    }
  }

  .custom-input {
    border-radius: 8px;
    border: 1px solid var(--r-blue-default, #4c65ff);
    height: 40px;
    width: 148px;
    background-color: transparent;

    &.ant-input-affix-wrapper-disabled {
      border-color: var(--r-neutral-line);
    }

    .ant-input {
      color: var(--r-neutral-title1, #192945);
      font-size: 13px;
      line-height: 16px;
      font-weight: 500;
      background-color: transparent;
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .ant-input-suffix {
      color: var(--r-neutral-foot, #6a7587);
      font-size: 13px;
      line-height: 16px;
      font-weight: 500;
    }
  }

  .custom-select {
    &.ant-select-disabled {
      .ant-select-selector {
        background: transparent;
      }
    }
    .ant-select-selector {
      border-radius: 8px;
      border: 1px solid var(--r-neutral-line, #e0e5ec);
      width: 160px;
      height: 44px;
      background-color: transparent;

      .ant-select-selection-item {
        line-height: 44px;
        color: var(--r-neutral-title1, #192945);
        font-size: 15px;
        font-weight: 500;
      }
    }

    .ant-select-arrow {
      width: 16px;
      height: 16px;
      top: 50%;
    }
    &.ant-select-focused {
      .ant-select-selector {
        border: 1px solid var(--r-blue-default, #4c65ff);
        background: var(--r-blue-light1, #edf0ff);
      }
    }
  }
`,B=[{label:"15 minutes",value:9e5},{label:"30 minutes",value:18e5},{label:"1 hour",value:36e5},{label:"3 hours",value:108e5},{label:"6 hours",value:216e5},{label:"12 hours",value:432e5},{label:"1 day",value:864e5},{label:"3 days",value:2592e5},{label:"7 days",value:6048e5},{label:"30 days",value:2592e6},{label:"60 days",value:5184e6},{label:"6 months",value:15552e6}];function $(e){if("number"!=typeof e||e<0)throw new Error("Input must be a non-negative number");if(0===e)return B[0];let t=B[0],a=Math.abs(e-B[0].value);for(let r=1;r<B.length;r++){const n=Math.abs(e-B[r].value);n<a&&(a=n,t=B[r])}return t}const F=e=>{const{nftDetail:t,onSigned:a,listingOrders:r,isEdit:w,...N}=e,M=(0,o.t)(),A=(0,I.T)(),{t:O}=(0,Z.$G)(),{runAsync:F}=(0,T.$)({maker:M?.address,chain_id:t?.chain,collection_id:t?.contract_id,inner_id:t?.inner_id},{ready:!!(M?.address&&t&&w)}),[D,R]=(0,g.Z)({listingPrice:"",amount:1,creatorFeeEnable:!1,duration:5184e6}),j=(0,i.w)({address:M?.address,chainServerId:t?.chain,tokenId:t?A?.[t?.chain]?.offer_currency?.token_id:""},{ready:!!t?.best_offer_order}),V=(0,i.w)({address:M?.address,chainServerId:t?.chain,tokenId:t?A?.[t?.chain]?.listing_currency?.token_id:""}),U=(0,_.useMemo)((()=>t?.last_sale&&(0,c.Wr)(t?.last_sale.buyer,M?.address||"")?t?.last_sale:null),[t?.last_sale,M?.address]),H=(0,c.Os)(),{data:W}=(0,f.Z)((async()=>{if(!t?.chain||!t?.contract_id)return null;return await H.openapi.getNFTFees({chain_id:t?.chain||"",collection_id:t?.contract_id||"",inner_id:t.inner_id})}),{refreshDeps:[t?.chain,t?.contract_id],onError(e){console.error(e)}}),G=(0,_.useMemo)((()=>{const e={total:0,market:0,custom:0,isCustomRequired:!1};return W?(Object.entries(W).forEach((([t,a])=>{a.forEach((a=>{"marketplace_fees"===t?(e.market+=a.fee,e.total+=a.fee):"custom_royalties"===t&&(e.custom+=a.fee,(D.creatorFeeEnable||a.required)&&(e.total+=a.fee),e.isCustomRequired=a.required||e.isCustomRequired)}))})),{total:e.total/1e4,market:e.market/1e4,custom:e.custom/1e4,isCustomRequired:e.isCustomRequired}):e}),[W,D.creatorFeeEnable]),q=(0,_.useMemo)((()=>{const e=r?.[0];if(!(w&&e&&W&&V&&t))return;const a=W.custom_royalties.map((e=>e.recipient)),n=e.protocol_data.parameters.consideration||[],l=e.protocol_data.parameters.offer||[],o=!!a?.length&&!!n.find((e=>a.find((t=>(0,c.Wr)(e.recipient,t))))),s=l.find((e=>(0,c.Wr)(e.token,t.contract_id)))?.endAmount||"1",i=n.reduce(((e,t)=>e.plus(t.endAmount)),new(P())(0)),d=+(e?.protocol_data.parameters.endTime||0)-Date.now()/1e3;return{listingPrice:i.div(new(P())(10).pow(V.decimals)).toFixed(),amount:+s||null,creatorFeeEnable:o,duration:$(1e3*d).value}}),[W,r,t,V,w]);(0,_.useEffect)((()=>{q&&R(q)}),[q]);const K=(0,_.useMemo)((()=>(0,u.Ey)(t)),[t]),J=(0,_.useMemo)((()=>K&&j?K.times(j.price):null),[j,K]),Y=(0,_.useMemo)((()=>{const e=t?.collection?.opensea_floor_price?.price||0,a=+(D.listingPrice||0);return e&&a?(a-e)/e:null}),[t?.collection?.opensea_floor_price?.price,D.listingPrice]),Q=(0,m.Ed)({serverId:t?.chain}),{data:X,runAsync:ee}=(0,f.Z)((async()=>{if(!Q?.id||!M?.address||!t)return;return await H.checkIsApprovedForAll({chainId:Q.id,owner:M.address,operator:x.oC,contractAddress:t.contract_id})}),{refreshDeps:[Q?.id,M?.address,t]});(0,L.H)(ee);const{currentIndex:te,isSigning:ae,run:re}=(0,s.n)({account:M}),[ne,le]=(0,_.useState)(1),oe=(0,b.Z)((()=>w&&q&&(q.amount!==D.amount||q.listingPrice<(D.listingPrice||0)||q.creatorFeeEnable!==D.creatorFeeEnable))),se=(0,b.Z)((async()=>{if(!(t&&W&&Q&&M&&V&&D.amount&&D.listingPrice&&D.duration))return;const e=oe(),a=e?(await F().catch((()=>null)))?.orders:[],r=await ee()?e&&a?.length?await H.buildCancelNFTListTx({address:M?.address,chainId:Q?.id,orders:a.map((e=>e.protocol_data?.parameters))}):null:await H.buildSetApprovedForAllTx({from:M?.address,chainId:Q.id,operator:x.oC,contractAddress:t.contract_id}),n=((Date.now()+D.duration)/1e3).toFixed(),l=await H.buildCreateListingTypedData({chainId:Q.id,nftId:t.inner_id,nftAmount:D.amount,nftContractId:t.contract_id,tokenId:V.id,listingPriceInWei:new(P())(D.listingPrice).times(new(P())(10).exponentiatedBy(V.decimals)).times(D.amount||1).integerValue().toFixed(),sellerAddress:M.address,marketFees:W.marketplace_fees,royaltyFees:D.creatorFeeEnable||G.isCustomRequired?W.custom_royalties:[],endTime:n,isErc721:!!t?.collection?.is_erc721}),o=[];return r&&o.push({kind:"tx",txs:[r]}),o.push({kind:"typed",txs:[{data:l,from:M.address,version:"V4"}]}),{steps:o,order:{data:l.message,kind:"seaport-v1.6"}}})),ie=(0,b.Z)((async e=>{const a=(0,S.last)(e.hashes);if(!t||!a||!t?.chain)throw new Error("Error");e.hashes.length>1&&await(0,d.mQ)({hash:e.hashes[e.hashes.length-2],chainServerId:t.chain,wallet:H}),await H.openapi.createListingNFT({order:e.txsInfo.order,signature:a,chain_id:t.chain})})),{runAsync:ce,loading:de}=(0,f.Z)((async()=>{if(!(t&&W&&Q&&M&&V&&D.amount&&D.listingPrice&&D.duration))throw new Error("Error");const e=await se();if(!e?.steps)throw new Error("buildTx failed");const a=e.steps;le((0,S.sum)(a.map((e=>e.txs.length))));let r=[];if(r=await(async()=>{const e=[];for(const t of a){if("tx"===t.kind)for(const a of t.txs){const t=await H.sendRequest({method:"eth_sendTransaction",params:[a]});e.push(t)}if("typed"===t.kind)for(const a of t.txs){const t=await H.sendRequest({method:"eth_signTypedData_v4",params:[M.address,JSON.stringify(a.data)]});e.push(t)}}return e})(),!r.length)throw new Error("sign failed");return{hashes:r,txsInfo:e}}),{manual:!0,onError(e){console.error(e)},onSuccess(e){a?.(ie(e))},onFinally(){le(1)}});return _.createElement(z,null,_.createElement("h1",{className:"text-r-neutral-title1 text-[20px] leading-[24px] font-medium text-center py-[16px] m-0"},O(w?"page.desktopProfile.nft.listingModal.editListing":"page.desktopProfile.nft.listingModal.createListing")),_.createElement("div",{className:"px-[20px] pb-[24px]"},_.createElement("div",{className:"py-[12px] border-b-[0.5px] border-solid border-rabby-neutral-line"},_.createElement("table",{className:"w-full"},_.createElement("colgroup",null,_.createElement("col",{width:260}),_.createElement("col",{width:100}),_.createElement("col",{width:100}),_.createElement("col",{width:100}),_.createElement("col",{width:100}),_.createElement("col",{width:180})),_.createElement("thead",null,_.createElement("tr",null,_.createElement("th",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot"},O("page.desktopProfile.nft.listingModal.nft")),_.createElement("th",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot text-right"},O("page.desktopProfile.nft.listingModal.floor")),_.createElement("th",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot text-right"},O("page.desktopProfile.nft.listingModal.topOffer")),_.createElement("th",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot text-right"},O("page.desktopProfile.nft.listingModal.cost")),_.createElement("th",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot text-right"},O("page.desktopProfile.nft.listingModal.proceeds")),_.createElement("th",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot text-right"},O("page.desktopProfile.nft.listingModal.listedAs")))),_.createElement("tbody",null,_.createElement("tr",null,_.createElement("td",null,_.createElement("div",{className:"flex items-center gap-[10px]"},_.createElement(p.Z,{className:"w-[36px] h-[36px]",chain:t?.chain,content:t?.content,type:t?.content_type}),_.createElement("div",{className:"flex-1 min-w-0 flex flex-col gap-[4px]"},_.createElement("div",{className:(0,C.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate")},t?.name||"-"),_.createElement("div",{className:(0,C.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-foot truncate")},t?.collection?.name||"-")))),_.createElement("td",null,_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},t?.collection?.opensea_floor_price?_.createElement(_.Fragment,null,_.createElement("div",{className:(0,C.Z)("truncate mb-[4px] text-right")},(0,c.LH)(t?.collection?.opensea_floor_price?.price||0)," ",t?.collection?.opensea_floor_price?.token?.symbol),_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot truncate text-right"},(0,c.xv)(new(P())(t?.collection?.opensea_floor_price?.price||0).times(t?.collection?.opensea_floor_price?.token?.price||0).toFixed()))):"-")),_.createElement("td",null,_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},t?.best_offer_order?_.createElement(_.Fragment,null,_.createElement("div",{className:(0,C.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate mb-[4px] text-right")},K?(0,c.LH)(K.toFixed()):"-"," ",t?.best_offer_order?.price?.currency||"-"),_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot truncate text-right"},J?(0,c.xv)(J.toFixed()):"-")):"-")),_.createElement("td",null,_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},U?_.createElement(_.Fragment,null,_.createElement("div",{className:(0,C.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate mb-[4px] text-right")},(0,c.LH)(new(P())(U.payment.quantity).div(new(P())(10).exponentiatedBy(U.payment.decimals)).toFixed())," ",U.payment.symbol," "),_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot truncate text-right"},"(",(0,c.xv)(new(P())(U.payment.quantity).div(new(P())(10).exponentiatedBy(U.payment.decimals)).times(U.payment.price).toFixed()),")")):"-")),_.createElement("td",null,_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},D.listingPrice?_.createElement(_.Fragment,null,_.createElement("div",{className:(0,C.Z)("text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate mb-[4px] text-right")},(0,c.LH)(new(P())(D.listingPrice).times(1-G.total).times(D?.amount||0).toFixed())," ",V?.symbol),_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot truncate text-right"},(0,c.xv)(new(P())(D.listingPrice).times(1-G.total).times(D?.amount||0).times(V?.price||0).toFixed()))):"-")),_.createElement("td",null,_.createElement(h.Z,{className:"custom-input",value:D.listingPrice,onChange:e=>{R({listingPrice:e.target.value})},min:0,step:1e-14,type:"number",placeholder:"0",suffix:V?.symbol,disabled:de})))))),_.createElement("div",{className:"py-[16px] space-y-[24px] border-b-[0.5px] border-solid border-rabby-neutral-line"},t?.amount&&t?.amount>1?_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},O("page.desktopProfile.nft.listingModal.quantity")),_.createElement("div",null,_.createElement(l.Y,{min:1,max:t?.amount||1,value:D.amount,onChange:e=>{R({amount:e})},maxTooltip:(D.amount||0)>=(t?.amount||1)?`Your balance is ${t?.amount||1}`:undefined,disabled:de}))):null,_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},O("page.desktopProfile.nft.listingModal.total")),_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},D?.listingPrice&&D.amount?_.createElement(_.Fragment,null,(0,c.LH)(new(P())(D.listingPrice).times(D.amount).toFixed())," ",V?.symbol," ",_.createElement("span",{className:"text-r-neutral-foot font-normal"},"(",(0,c.xv)(new(P())(D.listingPrice).times(D.amount).times(V?.price||0).toFixed()),")")):"-"))),_.createElement("div",{className:"py-[16px] space-y-[16px] border-b-[0.5px] border-solid border-rabby-neutral-line"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot"},O("page.desktopProfile.nft.listingModal.floorDifference")),_.createElement("div",{className:(0,C.Z)("text-[13px] leading-[16px] font-medium",Y&&Y<0?"text-r-red-default":"text-r-neutral-title1")},Y?_.createElement(_.Fragment,null,Y<0?`${(100*Y).toFixed(1)}% below floor`:`${(100*Y).toFixed(1)}% above floor`):"-")),_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",{className:(0,C.Z)("flex items-center gap-[2px]","text-[13px] leading-[16px] font-medium text-r-neutral-foot")},O("page.desktopProfile.nft.listingModal.platformFee",{fee:+(100*G.market).toFixed(2)}),_.createElement(v.Z,{title:O("page.desktopProfile.nft.listingModal.platformFeeTips"),overlayClassName:"rectangle"},_.createElement(n.H,null))),_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},(0,c.LH)(new(P())(G.market).times(D.listingPrice||0).times(D.amount||0).toFixed())," ",V?.symbol," ",_.createElement("span",{className:"text-r-neutral-foot font-normal"},"(",(0,c.xv)(new(P())(G.market).times(D.listingPrice||0).times(D.amount||0).times(V?.price||0).toFixed()),")"))),G.custom?_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",{className:(0,C.Z)("flex items-center","text-[13px] leading-[16px] font-medium text-r-neutral-foot")},O("page.desktopProfile.nft.listingModal.creatorFee",{fee:+(100*G.custom).toFixed(2)}),_.createElement(v.Z,{title:O(G?.isCustomRequired?"page.desktopProfile.nft.listingModal.creatorFeeTips1":"page.desktopProfile.nft.listingModal.creatorFeeTips"),overlayClassName:"rectangle"},_.createElement(n.H,{className:"ml-[2px] mr-[4px]"})),G?.isCustomRequired?null:_.createElement(E.Z,{checked:D.creatorFeeEnable||G.isCustomRequired,onChange:e=>{R({creatorFeeEnable:e})},disabled:G.isCustomRequired||de})),_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},D?.creatorFeeEnable&&G.custom?_.createElement(_.Fragment,null,(0,c.LH)(new(P())(G.custom).times(D.listingPrice||0).times(D.amount||0).toFixed())," ",V?.symbol," ",_.createElement("span",{className:"text-r-neutral-foot font-normal"},"(",(0,c.xv)(new(P())(G.custom).times(D.listingPrice||0).times(D.amount||0).times(V?.price||0).toFixed()),")")):"-")):null,_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-foot"},O("page.desktopProfile.nft.listingModal.rabbyFee")),_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},"-"))),_.createElement("div",{className:"py-[16px] mb-[12px]"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},O("page.desktopProfile.nft.listingModal.totalEst")),_.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1 truncate"},(0,c.LH)(new(P())(D.listingPrice||0).times(1-G.total).times(D?.amount||0).toFixed())," ",V?.symbol," ",_.createElement("span",{className:"text-r-neutral-foot font-normal"},"(",(0,c.xv)(new(P())(D.listingPrice||0).times(1-G.total).times(D?.amount||0).times(V?.price||0).toFixed()),")")))),_.createElement("footer",null,_.createElement("div",{className:"flex items-center justify-between"},_.createElement(y.Z,{value:D.duration,onChange:e=>{R({duration:e})},className:"custom-select",options:B,suffixIcon:_.createElement(n.RQ,{className:"text-r-neutral-foot"}),disabled:de}),_.createElement(k.Z,{type:"primary",size:"large",className:"ml-[16px] min-w-[180px]",onClick:ce,loading:de,disabled:!D.amount||!D.listingPrice||!D.duration},O(w?"page.desktopProfile.nft.listingModal.editListing":X?"page.desktopProfile.nft.listingModal.listOn":"page.desktopProfile.nft.listingModal.approveAndList"))))))},D=e=>_.createElement(w.Z,{...e,width:880,centered:!0,footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},className:"modal-support-darkmode",closeIcon:_.createElement(A.r,{className:"w-[20px] h-[20px] text-r-neutral-foot"}),destroyOnClose:!0},_.createElement(F,{...e}));r()}catch(R){r(R)}}))},179817:(e,t,a)=>{a.d(t,{E:()=>s});var r=a(935938),n=a(291043),l=a(386010),o=a(667294);const s=({item:e,onClick:t})=>{const a=(0,n.Ed)({serverId:e.nft.chain});return o.createElement("div",{onClick:t,className:(0,l.Z)("rounded-[8px] border-[1px] border-solid border-rb-neutral-line p-[2px]","hover:border-rabby-blue-default cursor-pointer","w-[204px]")},o.createElement("div",{className:"relative"},o.createElement(r.Z,{className:"w-[198px] h-[198px] rounded-[4px]",type:e.nft.content_type,content:e.nft.content,empty:o.createElement("div",{className:"w-[198px] h-[198px] bg-r-neutral-line flex items-center justify-center rounded-[4px]"},o.createElement("div",{className:"text-[40px] leading-[48px] font-semibold text-r-neutral-foot"},"NFT"))}),o.createElement("img",{src:a?.logo,alt:"chain",className:(0,l.Z)("absolute top-[8px] left-[8px]","w-[24px] h-[24px] rounded-full","border-[1px] border-solid border-white")}),e.nft.amount>1?o.createElement("div",{className:(0,l.Z)("absolute top-[8px] right-[8px]","rounded-[4px] py-[3px] px-[10px]","text-r-neutral-title2 font-medium text-[15px] leading-[18px]","bg-[rgba(0,0,0,0.5)]")},"x",e.nft.amount):null),o.createElement("div",{className:(0,l.Z)("pt-[8px] px-[4px] pb-[12px]","text-[15px] leading-[18px] font-medium text-rb-neutral-title-1 truncate")},e.nft.name))}},126233:(e,t,a)=>{a.d(t,{R:()=>M});var r=a(398222),n=a(830785),l=a(21233),o=a(274531),s=a(719174),i=a(935938),c=a(291043),d=a(478161),p=a(605708),m=a(133860),u=a(931097),x=a(71577),g=a(757016),f=a(244431),b=a.n(f),h=a(386010),v=a(667294),E=a(925822),y=a(866043),k=a(218629),w=a(727484),N=a.n(w);const P=({end:e,className:t,style:a,onEnd:r})=>{const[n,l]=(0,v.useState)(0),o=(0,k.Z)((()=>{N().unix(e).isBefore(N()())&&(o(),r?.()),l((e=>e+1))}),1e3),{displayTime:s,fullTime:i}=(0,v.useMemo)((()=>{const t=N().unix(e),a=(e=>{const t=N().unix(e).diff().valueOf(),a=Math.round(t/1e3),r=Math.round(a/60),n=Math.round(r/60),l=Math.round(n/24),o=Math.round(l/30),s=Math.round(o/12),i=Math.abs(a),c=Math.abs(r),d=Math.abs(n),p=Math.abs(l),m=Math.abs(o),u=Math.abs(s);let x="";return x=i<60?`${i} second${1!==i?"s":""}`:c<60?`${c} minute${1!==c?"s":""}`:d<24?`${d} hour${1!==d?"s":""}`:p<30?`${p} day${1!==p?"s":""}`:m<12?`${m} month${1!==m?"s":""}`:`${u} year${1!==u?"s":""}`,t>0?x:`${x} ago`})(e);return{displayTime:a,fullTime:t.format("YYYY-MM-DD HH:mm:ss")}}),[e,n]);return v.createElement("span",{title:i,className:t,style:a},s)};var C=a(901771),S=a(52887);const _=e=>{const{nft:t,collection:a,onCreateListing:g,onSend:f,onAccept:E,onCancelListing:k,onEditListing:w,...N}=e,_=(0,s.Os)(),M=(0,c.Ed)({serverId:t?.chain}),A=(0,l.t)(),I=(0,y.T)(),{t:L}=(0,S.$G)(),{data:Z,loading:T,runAsync:O}=(0,p.Z)((async()=>{if(!t?.id||!t?.chain||!A)return null;return await _.openapi.getNFTDetail({chain_id:t?.chain,id:t?.id,user_addr:A?.address})}),{refreshDeps:[t?.id,t?.chain,A?.address],ready:!(!t?.chain||!I?.[t?.chain])}),{data:$,loading:z}=(0,C.$)({maker:A?.address,chain_id:Z?.chain,collection_id:Z?.contract_id,inner_id:Z?.inner_id}),B=T||z,F=(0,o.w)({address:A?.address,chainServerId:Z?.chain,tokenId:Z?I?.[Z?.chain]?.offer_currency?.token_id:""},{ready:!!Z?.best_offer_order}),D=(0,v.useMemo)((()=>$?.orders?.[0]),[$]),R=(0,o.w)({address:A?.address,chainServerId:Z?.chain,tokenId:Z?I?.[Z?.chain]?.listing_currency?.token_id:""},{ready:!!D}),j=(0,v.useMemo)((()=>(0,d.Ey)(Z)),[Z]),V=(0,v.useMemo)((()=>j&&F?j.times(F.price):null),[F,j]);return v.createElement(v.Fragment,null,v.createElement("h1",{className:"text-r-neutral-title1 text-[20px] leading-[24px] font-medium text-center py-[16px] m-0"},t?.name||"-"),v.createElement("div",{className:"px-[20px] pb-[20px]"},v.createElement("div",{className:"flex items-start gap-[16px]"},v.createElement("div",{className:"relative flex-shrink-0"},v.createElement(i.Z,{className:"w-[340px] h-[340px]",type:t?.content_type,content:t?.content,empty:v.createElement("div",{className:"w-[340px] h-[340px] bg-r-neutral-line flex items-center justify-center rounded-[8px]"},v.createElement("div",{className:"text-[40px] leading-[48px] font-semibold text-r-neutral-foot"},L("page.desktopProfile.nft.detail.nft")))}),t?.amount&&t?.amount>1?v.createElement("div",{className:(0,h.Z)("absolute top-[8px] right-[8px]","rounded-[4px] py-[3px] px-[10px]","text-r-neutral-title2 font-medium text-[15px] leading-[18px]","bg-[rgba(0,0,0,0.5)]")},"x",t.amount):null),v.createElement("div",{className:"flex-1 min-w-0"},v.createElement("div",{className:"border-[0.5px] border-solid border-rabby-neutral-line rounded-[8px]"},v.createElement("div",{className:"flex items-center justify-between gap-[16px] p-[16px]"},v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px]"},L("page.desktopProfile.nft.detail.collection")),v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px] font-medium truncate"},a?.name||"-")),v.createElement("div",{className:"flex items-center justify-between gap-[16px] p-[16px]"},v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px]"},L("page.desktopProfile.nft.detail.chain")),v.createElement("div",{className:"flex items-center gap-[6px]"},v.createElement("img",{src:M?.logo,className:"w-[16px] h-[16px]",alt:""}),v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px] font-medium truncate"},M?.name||"-"))),v.createElement("div",{className:"flex items-center justify-between gap-[16px] p-[16px]"},v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px]"},L("page.desktopProfile.nft.detail.collectionFloor")),v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px] font-medium truncate"},B?v.createElement(m.Z.Input,{active:!0,className:"w-[120px] h-[16px] rounded-[4px] block"}):v.createElement(v.Fragment,null,Z?.collection?.opensea_floor_price?v.createElement(v.Fragment,null,(0,s.LH)(Z?.collection?.opensea_floor_price?.price||0)," ",Z?.collection?.opensea_floor_price?.token?.symbol," ","(",(0,s.xv)(new(b())(Z?.collection?.opensea_floor_price?.price).times(Z?.collection?.opensea_floor_price?.token?.price).toFixed()),")"):"-"))),v.createElement("div",{className:"flex items-center justify-between gap-[16px] p-[16px]"},v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px]"},L("page.desktopProfile.nft.detail.rarity")),v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px] font-medium truncate"},B?v.createElement(m.Z.Input,{active:!0,className:"w-[120px] h-[16px] rounded-[4px] block"}):v.createElement(v.Fragment,null,Z?.rarity?.rank?`#${Z?.rarity?.rank}`:"-"))),v.createElement("div",{className:"flex items-center justify-between gap-[16px] p-[16px]"},v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px]"},L("page.desktopProfile.nft.detail.lastSale")),v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px] font-medium truncate"},B?v.createElement(m.Z.Input,{active:!0,className:"w-[120px] h-[16px] rounded-[4px] block"}):v.createElement(v.Fragment,null,Z?.last_sale?v.createElement(v.Fragment,null,(0,s.LH)(new(b())(Z.last_sale.payment.quantity).div(new(b())(10).exponentiatedBy(Z.last_sale.payment.decimals)).toFixed())," ",Z.last_sale.payment.symbol," ",v.createElement("span",{className:"text-r-neutral-foot font-normal"},"(",(0,s.xv)(new(b())(Z.last_sale.payment.quantity).div(new(b())(10).exponentiatedBy(Z.last_sale.payment.decimals)).times(Z.last_sale.payment.price).toFixed()),")")):"-")))),v.createElement("div",{className:"mt-[15px]"},v.createElement("header",{className:"flex items-center justify-between mb-[8px]"},v.createElement("div",{className:"text-r-neutral-title1 text-[13px] leading-[16px] font-medium"},L("page.desktopProfile.nft.detail.topOffer")),a?.is_tradable?v.createElement("div",{className:"flex items-center gap-[6px]"},v.createElement("div",{className:"text-r-neutral-foot text-[12px] leading-[14px]"},L("page.desktopProfile.nft.detail.supportPlatform")," "),v.createElement("div",null,v.createElement(u.Z,{title:"OpenSea",overlayClassName:"rectangle"},v.createElement("img",{src:r.Iu,className:"w-[16px] h-[16px]",alt:"OpenSea"})))):null),v.createElement("div",{className:(0,h.Z)("py-[13px] px-[12px] rounded-[8px] h-[60px]","border-[0.5px] border-solid border-rabby-neutral-line")},B?v.createElement("div",{className:"flex items-center h-full"},v.createElement(m.Z.Input,{active:!0,className:"w-[120px] h-[16px] rounded-[4px] block"})):Z?.best_offer_order?v.createElement("div",{className:"flex items-center justify-between gap-[8px]"},v.createElement("div",{className:"space-y-[4px]"},v.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-neutral-title1"},j?(0,s.LH)(j.toFixed()):"-"," ",Z.best_offer_order.price.currency,v.createElement("span",{className:"text-r-neutral-foot font-normal"},"(",V?(0,s.xv)(V.toFixed()):"-",")")),v.createElement("div",{className:(0,h.Z)("flex items-center gap-[6px]","text-[11px] leading-[13px] text-r-neutral-foot")},v.createElement("div",null,L("page.desktopProfile.nft.detail.ending")," ",v.createElement(P,{end:+Z.best_offer_order.protocol_data.parameters.endTime})),v.createElement("div",{className:"w-[0.5px] h-[10px] bg-r-neutral-line"}),v.createElement("div",null,L("page.desktopProfile.nft.detail.platform")," "),v.createElement("div",{className:"flex items-center gap-[2px]"},v.createElement("img",{src:r.Iu,className:"w-[12px] h-[12px]",alt:""}),"OpenSea"))),v.createElement("div",null,v.createElement("button",{type:"button",className:(0,h.Z)("rounded-[4px] bg-r-blue-light1 py-[8px] px-[16px]","text-r-blue-default text-[13px] leading-[16px] font-medium"),onClick:()=>{Z&&E?.({nftDetail:Z,listingOrders:$?.orders})}},L("page.desktopProfile.nft.detail.accept")))):v.createElement("div",{className:"flex items-center justify-center gap-[4px] h-full"},v.createElement(n.IL,{className:"text-r-neutral-foot"}),v.createElement("div",{className:"text-[11px] leading-[13px] text-r-neutral-foot"},L("page.desktopProfile.nft.detail.noOffer"))))))),v.createElement("footer",null,D?v.createElement("div",{className:(0,h.Z)("rounded-[8px] p-[15px] mt-[16px]","border-solid border-[1px] border-rabby-green-default")},v.createElement("div",{className:"flex items-center gap-[6px]"},v.createElement("img",{src:r.Iu,className:"w-[16px] h-[16px] rounded-full"}),v.createElement("div",{className:"text-[13px] leading-[16px] font-medium text-r-green-default"},L("page.desktopProfile.nft.detail.listing"))),v.createElement("div",{className:"mt-[8px] flex items-center gap-[6px]"},R?v.createElement(v.Fragment,null,+(D?.protocol_data?.parameters?.offer?.[0]?.startAmount||0)>1?v.createElement("div",{className:"text-[20px] leading-[24px] font-medium text-r-neutral-title1"},L("page.desktopProfile.nft.detail.listedFor",{count:+(D?.protocol_data?.parameters?.offer?.[0]?.startAmount||1)})):null,v.createElement("div",{className:"text-[20px] leading-[24px] font-medium text-r-neutral-title1"},(0,s.LH)(new(b())(D.current_price).div(new(b())(10).exponentiatedBy(R?.decimals)).div(D.protocol_data?.parameters?.offer?.[0].startAmount||1).toFixed())," ",R?.symbol),v.createElement("div",{className:"text-[15px] leading-[18px] text-r-neutral-foot"},(0,s.xv)(new(b())(D.current_price).div(new(b())(10).exponentiatedBy(R?.decimals)).div(D.protocol_data?.parameters?.offer?.[0].startAmount||1).times(R.price).toFixed()))):v.createElement("div",{className:"text-[20px] leading-[24px] font-medium text-r-neutral-title1"},"-"),v.createElement("div",{className:"ml-auto text-[15px] leading-[18px] text-r-neutral-foot"},L("page.desktopProfile.nft.detail.ending")," ",v.createElement(P,{onEnd:O,end:+D.protocol_data.parameters.endTime})))):null,v.createElement("div",{className:"mt-[24px] flex items-center gap-[12px] pl-[356px]"},D?v.createElement(v.Fragment,null,Z?.collection?.is_erc721?v.createElement(x.Z,{block:!0,type:"primary",className:"rounded-[8px] text-[13px] leading-[16px] font-medium h-[40px]",disabled:!Z||!a?.is_tradable||B,onClick:()=>{Z&&w?.({nftDetail:Z,listingOrders:$?.orders})}},L("page.desktopProfile.nft.detail.edit")):v.createElement(x.Z,{block:!0,type:"primary",className:"rounded-[8px] text-[13px] leading-[16px] font-medium h-[40px]",disabled:!Z||!a?.is_tradable||B,onClick:()=>{Z&&g?.({nftDetail:Z,listingOrders:$?.orders})}},L("page.desktopProfile.nft.detail.listing")),v.createElement(x.Z,{block:!0,size:"large",ghost:!0,disabled:!Z||!a?.is_tradable||B,className:(0,h.Z)("hover:before:hidden rounded-[8px] text-[13px] leading-[16px] font-medium h-[40px]","border-blue-light text-blue-light hover:bg-[#8697FF1A] active:bg-[#0000001A] ","rounded-[8px] before:content-none z-10"),onClick:()=>{Z&&k?.({nftDetail:Z,listingOrders:$?.orders})}},L("page.desktopProfile.nft.detail.cancel"))):v.createElement(x.Z,{block:!0,type:"primary",className:"rounded-[8px] text-[13px] leading-[16px] font-medium h-[40px]",disabled:!Z||!a?.is_tradable||B,onClick:()=>{Z&&g?.({nftDetail:Z,listingOrders:$?.orders})}},L("page.desktopProfile.nft.detail.listing")),v.createElement(x.Z,{block:!0,size:"large",ghost:!0,className:(0,h.Z)("hover:before:hidden rounded-[8px] text-[13px] leading-[16px] font-medium h-[40px]","border-blue-light text-blue-light hover:bg-[#8697FF1A] active:bg-[#0000001A] ","rounded-[8px] before:content-none z-10"),onClick:()=>{f?.()}},L("page.desktopProfile.nft.detail.send"))))))},M=e=>v.createElement(g.Z,{...e,width:796,centered:!0,footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},className:"modal-support-darkmode",closeIcon:v.createElement(E.r,{className:"w-[20px] h-[20px] text-r-neutral-foot"}),destroyOnClose:!0},v.createElement(_,{...e}))},410316:(e,t,a)=>{a.d(t,{K:()=>x});var r=a(830785),n=a(883356),l=a(935938),o=a(605708),s=a(71577),i=a(757016),c=a(386010),d=a(667294),p=a(52887),m=a(925822);const u=e=>{const{nftDetail:t,title:a,successMessage:i,errorMessage:m,status:u,pendingPromise:x}=e,[g,f]=(0,d.useState)(u),{t:b}=(0,p.$G)();return(0,o.Z)((async()=>{await x}),{onSuccess(){f("success")},onError(){f("failed")},refreshDeps:[x],ready:!!x}),d.createElement("div",{className:"flex flex-col items-center py-[40px] px-[20px]"},d.createElement(l.Z,{className:"w-[160px] h-[160px]",content:t?.content,type:t?.content_type}),d.createElement("div",{className:"mt-[20px] mb-[40px]"},d.createElement("div",{className:"mb-[8px] flex items-center justify-center gap-[6px]"},"success"===g?d.createElement(r.I6,{className:"text-r-green-default"}):"failed"===g?d.createElement(r.P6,{className:"text-r-red-default"}):"pending"===g?d.createElement(n.rm,{className:"animate-spin text-r-orange-default"}):null,"pending"===g?d.createElement("div",{className:"text-[20px] leading-[24px] font-medium text-r-orange-default"},b("page.desktopProfile.nft.pending")):"success"===g?d.createElement("div",{className:"text-[20px] leading-[24px] font-medium"},i?.title):"failed"===g?d.createElement("div",{className:"text-[20px] leading-[24px] font-medium"},m?.title):null),"pending"===g?d.createElement("div",{className:"text-[13] leading-[16px] text-r-neutral-body font-medium text-center"},b("page.desktopProfile.nft.confirmingTx")):"success"===g?d.createElement("div",{className:"text-[13] leading-[16px] text-r-neutral-body font-medium text-center"},i?.desc):"failed"===g?d.createElement("div",{className:"text-[13] leading-[16px] text-r-neutral-body font-medium text-center"},m?.desc):null),d.createElement("footer",null,"pending"===g?d.createElement("div",{className:(0,c.Z)("flex items-center justify-center","w-[280px] h-[44px] rounded-[6px] bg-r-neutral-card2 cursor-pointer","text-[15px] leading-[18px] font-medium text-r-neutral-foot"),onClick:e.onCancel},b("global.closeButton")):d.createElement(s.Z,{type:"primary",className:"w-[280px] h-[44px] rounded-[6px] text-[15px] leading-[18px] font-medium",onClick:e.onCancel},b("global.ok"))))},x=e=>{const{nftDetail:t,status:a,...r}=e;return d.createElement(i.Z,{...r,width:400,centered:!0,footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},closable:!1,className:"modal-support-darkmode",closeIcon:d.createElement(m.r,{className:"w-[20px] h-[20px]"}),destroyOnClose:!0},d.createElement(u,{...e}))}},901771:(e,t,a)=>{a.d(t,{$:()=>l});var r=a(719174),n=a(605708);const l=(e,t)=>{const a=(0,r.Os)(),{maker:l,chain_id:o,collection_id:s,inner_id:i,limit:c,cursor:d}=e;return(0,n.Z)((async()=>{if(l&&o&&s&&i)return await a.openapi.getNFTListingOrders({maker:l,chain_id:o,collection_id:s,inner_id:i,limit:c,cursor:d})}),{refreshDeps:[l,o,s,i,c,d],...t})}},866043:(e,t,a)=>{a.d(t,{T:()=>l});var r=a(719174),n=a(605708);const l=()=>{const e=(0,r.Os)(),{data:t}=(0,n.Z)((async()=>await e.openapi.getNFTTradingConfig()),{cacheKey:"nft-trading-config",cacheTime:18e5,staleTime:18e5});return t}},59871:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{n:()=>P});var n=a(830785),l=a(79357),o=a(21233),s=a(719174),i=a(605708),c=a(133860),d=a(359314),p=a(386010),m=a(496486),u=a(667294),x=a(93002),g=a(892035),f=a(810463),b=a(883488),h=a(179817),v=a(126233),E=a(410316),y=a(547886),k=a(126236),w=a(52887),N=e([g,f,b]);[g,f,b]=N.then?(await N)():N;const P=({selectChainId:e})=>{const{t}=(0,w.$G)(),a=(0,s.Os)(),[r,N]=u.useState(!1),P=(0,y.k6)(),[C,S]=(0,x.Z)({current:null}),_=(0,o.t)(),{data:M,loading:A,runAsync:I}=(0,i.Z)((async()=>{if(!_?.address)return[];const t=await a.openapi.collectionList({id:_?.address,isAll:r,chainId:e}),n=[];for(const e of t)!r&&e.is_hidden||e.nft_list.forEach((t=>{n.push({nft:t,collection:(0,m.omit)(e,"nft_list")})}));return n}),{refreshDeps:[r,_?.address,e]});return(0,k.H)((()=>{I()})),(0,u.useEffect)((()=>{S({current:null,nftDetail:undefined,listingOrders:undefined,detailModalVisible:!1,listingModalVisible:!1,cancelModalVisible:!1,acceptModalVisible:!1,resultModalVisible:!1,isEditListing:!1,resultState:null})}),[_?.address]),u.createElement("div",{className:"py-[16px] px-[20px]"},A?u.createElement("div",{className:"flex items-center justify-between mb-[16px]"},u.createElement(c.Z.Input,{className:"w-[100px] h-[30px] rounded-[4px]",active:!0}),u.createElement(c.Z.Input,{className:"w-[198px] h-[30px] rounded-[4px]",active:!0})):u.createElement("header",{className:"flex items-center justify-between mb-[16px]"},u.createElement("div",{className:(0,p.Z)("rounded-[10px] p-[2px] bg-rb-neutral-bg-0")},u.createElement("div",{className:(0,p.Z)("py-[6px] px-[12px] rounded-[8px] bg-rb-neutral-foot","text-rb-neutral-InvertHighlight text-[12px] leading-[14px] font-medium")},t("page.desktopProfile.nft.all")," (",M?.length||0,")")),u.createElement("label",{className:"flex items-center gap-[6px] cursor-pointer"},u.createElement(d.Z,{checked:!r,onChange:e=>{N(!e)}}),u.createElement("div",{className:"text-rb-neutral-title-1 text-[14px] leading-[17px]"},t("page.desktopProfile.nft.hideLowValue")))),A,u.createElement("main",null,u.createElement("div",{className:"flex items-center flex-wrap gap-[12px]"},A?u.createElement(u.Fragment,null,(0,m.range)(10).map((e=>u.createElement("div",{key:e,className:(0,p.Z)("w-[204px]")},u.createElement(c.Z.Input,{className:"w-[198px] h-[198px] rounded-[4px]",active:!0}),u.createElement(c.Z.Input,{className:"w-[198px] h-[24px] rounded-[4px]",active:!0}))))):M?.length?u.createElement(u.Fragment,null,M?.map((e=>u.createElement(h.E,{key:`${e.nft.id}-${e.nft.chain}-${e.collection.id}`,item:e,onClick:()=>{S({current:e,detailModalVisible:!0})}})))):u.createElement("div",{className:"w-full py-[160px] flex flex-col items-center justify-center gap-[8px]"},u.createElement(l.Z,{src:n.g3}),u.createElement("div",{className:"text-r-neutral-foot text-[13px] leading-[16px] font-medium"},t("page.desktopProfile.nft.empty"))))),u.createElement(v.R,{visible:C.detailModalVisible,onCancel:()=>{S({detailModalVisible:!1,current:null})},onCreateListing:({nftDetail:e,listingOrders:t})=>{S({detailModalVisible:!1,current:null,nftDetail:e,listingModalVisible:!0,isEditListing:!1,listingOrders:t})},onEditListing:({nftDetail:e,listingOrders:t})=>{S({detailModalVisible:!1,current:null,nftDetail:e,listingModalVisible:!0,isEditListing:!0,listingOrders:t})},onAccept:({nftDetail:e,listingOrders:t})=>{S({detailModalVisible:!1,current:null,nftDetail:e,acceptModalVisible:!0,listingOrders:t})},onCancelListing:async({nftDetail:e,listingOrders:t})=>{S({detailModalVisible:!1,current:null,cancelModalVisible:!0,nftDetail:e,listingOrders:t})},nft:C.current?.nft,collection:C.current?.collection,onSend:()=>{const e=new URLSearchParams;e.set("nftItem",encodeURIComponent(JSON.stringify(C.current.nft))),e.set("action","send"),e.set("sendPageType","sendNft"),P.replace(`${P.location.pathname}?${e.toString()}`),S({detailModalVisible:!1,current:null,nftDetail:undefined})}}),u.createElement(f.G,{visible:C.cancelModalVisible,nftDetail:C.nftDetail,listingOrders:C.listingOrders,onCancel:()=>{S({nftDetail:undefined,cancelModalVisible:!1})},onSigned:e=>{S({cancelModalVisible:!1,resultModalVisible:!0,resultState:{status:"pending",successMessage:{title:t("page.desktopProfile.nft.message.cancelSuccess"),desc:t("page.desktopProfile.nft.message.cancelSuccessDesc",{name:C.nftDetail?.name})},errorMessage:{title:t("page.desktopProfile.nft.message.cancelFailed"),desc:t("page.desktopProfile.nft.message.cancelFailedDesc")},pendingPromise:e}})}}),u.createElement(b.p,{visible:C.listingModalVisible,nftDetail:C.nftDetail,listingOrders:C.listingOrders,isEdit:C.isEditListing,onCancel:()=>{S({nftDetail:undefined,listingOrders:undefined,listingModalVisible:!1,isEditListing:!1})},onSigned:e=>{S({listingModalVisible:!1,resultModalVisible:!0,resultState:{status:"pending",successMessage:{title:t("page.desktopProfile.nft.message.listingSuccess"),desc:t("page.desktopProfile.nft.message.listingSuccessDesc",{name:C.nftDetail?.name})},errorMessage:{title:t("page.desktopProfile.nft.message.listingFailed"),desc:t("page.desktopProfile.nft.message.listingFailedDesc")},pendingPromise:e}})}}),u.createElement(g.L,{visible:C.acceptModalVisible,nftDetail:C.nftDetail,onCancel:()=>{S({nftDetail:undefined,acceptModalVisible:!1})},onSigned:e=>{S({acceptModalVisible:!1,resultModalVisible:!0,resultState:{successMessage:{title:t("page.desktopProfile.nft.message.acceptSuccess"),desc:t("page.desktopProfile.nft.message.acceptSuccessDesc",{name:C.nftDetail?.name})},errorMessage:{title:t("page.desktopProfile.nft.message.acceptFailed"),desc:t("page.desktopProfile.nft.message.acceptFailedDesc")},status:"pending",pendingPromise:e}})}}),u.createElement(E.K,{nftDetail:C.nftDetail,visible:C.resultModalVisible,onCancel:()=>{S({resultModalVisible:!1,resultState:undefined})},...C.resultState}))};r()}catch(e){r(e)}}))},694301:(e,t,a)=>{a.d(t,{g:()=>$});var r=a(883356),n=a(21233),l=a(387991),o=a(127872),s=a(605708),i=a(219181),c=a(484059),d=a(667294),p=a(658804),m=a(665037),u=a(856548),x=a(133860),g=a(386010),f=a(52887),b=a(719174),h=a(727484),v=a.n(h),E=a(702765),y=a(3023),k=a(875358),w=a(299307),N=a(386108),P=a(889638),C=a(176335);const S=p.ZP.div.withConfig({displayName:"rabby--CurveWrapper",componentId:"rabby--1mu2t6q"})`
  width: 100%;
  height: 100%;
  z-index: 1;
`,_=p.vJ`
  :root {
    --color-curve-green: var(--rb-green-default);
    --color-curve-red: var(--rb-red-default);
  }
`,M=p.ZP.div.withConfig({displayName:"rabby--AppChainTips",componentId:"rabby--14wuhwn"})`
  position: absolute;
  bottom: 6px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  font-size: 9px;
  opacity: 70%;
  pointer-events: none;
`,A=({data:e,height:t,width:a,className:r,isHover:n,onHover:l,appChainIds:o,showAppChainTips:s=!1})=>{const i=(0,d.useMemo)((()=>`var(--color-curve-${e?.isLoss?"red":"green"})`),[e]),c=(0,d.useRef)(null),[p,m]=(0,d.useState)(!1),u=(0,d.useRef)({x:0,y:0}),x=(0,d.useRef)(null),g=(0,d.useRef)(0),{t:b}=(0,f.$G)();(0,d.useEffect)((()=>()=>{x.current&&clearTimeout(x.current)}),[]);const h=!e;return d.createElement(S,{ref:c,className:r},d.createElement(_,null),h?null:d.createElement(E.T,{data:e?.list,width:a,height:t,style:{position:"absolute",left:0,cursor:"pointer"},margin:{top:5,right:0,left:0,bottom:5},onMouseMove:(e,t)=>{e?.activePayload&&l?.(e.activePayload[0].payload),s&&(e=>{const t=e?.nativeEvent?.offsetX||0,a=Math.abs(t-u.current.x);u.current={x:t,y:0},a>5&&(g.current+=1,g.current>=3&&n&&m(!0)),x.current&&clearTimeout(x.current),x.current=setTimeout((()=>{m(!1)}),500)})(t)},onMouseEnter:s?()=>{g.current=0,m(!1)}:undefined,onMouseLeave:()=>{l?.(undefined),s&&(m(!1),g.current=0,u.current={x:0,y:0},x.current&&(clearTimeout(x.current),x.current=null),l?.(undefined))}},d.createElement("defs",null,d.createElement("linearGradient",{id:"curveThumbnail",x1:"0",y1:"0",x2:"0",y2:"1"},d.createElement("stop",{offset:"0%",stopColor:i,stopOpacity:.2}),d.createElement("stop",{offset:"100%",stopColor:i,stopOpacity:0}))),d.createElement(y.K,{dataKey:"timestamp",hide:!0,type:"number",domain:["dataMin","dataMax"]}),d.createElement(k.B,{hide:!0,domain:[e=>.98*e,e=>1.005*e]}),n&&d.createElement(w.u,{cursor:{strokeDasharray:"2 2",strokeWidth:.6},content:({label:e})=>d.createElement("div",{className:"text-[12px] leading-[14px] text-rb-neutral-body"},v()(1e3*e).format("MMMD,HH:mm"))}),d.createElement(N.u,{type:"linear",dataKey:"value",stroke:i,strokeOpacity:n?1:.7,strokeWidth:2,fill:"url(#curveThumbnail)",animationDuration:0,fillOpacity:.8})),p&&o&&o.length>0&&d.createElement(M,null,d.createElement("div",{className:"text-rb-neutral-title-1 mr-[2px]"},d.createElement(C.r,{width:12,height:12})),d.createElement("div",{className:"text-rb-neutral-title-1 whitespace-nowrap"},b("page.dashboard.home.slotAppChainTips",{appChainNames:(0,P.IW)(o||[])}))))};var I=a(584730);const L=p.ZP.div.withConfig({displayName:"rabby--Container",componentId:"rabby--1jy5ib2"})`
  .balance-view-content {
  }
`,Z=({balance:e,evmBalance:t,curveChartData:a,isLoading:l,isManualRefreshing:o,balanceLoading:s,curveLoading:i,balanceFromCache:c,onRefresh:p,appChainIds:h})=>{const{t:v}=(0,f.$G)(),[E,y]=(0,d.useState)(!1),[k,w]=(0,d.useState)(),[N,P]=(0,d.useState)(!1),C=(0,n.t)(),{currentHomeBalanceCache:S}=(0,u.b4)(C?.address);(0,d.useEffect)((()=>{E||w(undefined)}),[E]);const _=()=>{y(!1),P(!1)};(0,I.Z)((()=>{E&&P(!0)}),300,[E]);const M=N,Z=M&&k?.value||e,T=M&&k?.changePercent||a?.changePercent,O=M&&k?k.isLoss:a?.isLoss,$=M?k?.change:null,{hiddenBalance:z}=(0,m.L5)((e=>e.preference)),B=null===Z||c&&0===Z,F=!S?.balance||o,D=B||F&&s||(B||F&&i),R=!T||z||D||!a?.startUsdValue||l,j=!(D||z||!a||l),V=(0,d.useMemo)((()=>t!==e),[t,e]);return d.createElement(d.Fragment,null,d.createElement(L,{onMouseLeave:_},d.createElement("div",{className:"balance-view-content"},d.createElement("div",null,d.createElement("div",{className:(0,g.Z)("group w-[100%] flex gap-[8px] items-end")},d.createElement("div",{className:(0,g.Z)("text-[48px] leading-[60px] min-h-[60px] font-bold text-r-neutral-title1 max-w-full")},l?d.createElement(x.Z.Input,{active:!0,className:"w-[200px] h-[53px] rounded block"}):d.createElement("div",null,"$",(0,b.V3)((Z||0).toFixed(2)))),d.createElement("div",{className:"flex flex-end items-center gap-[8px] mb-[7px] min-h-[20px] relative",onClick:e=>{}},d.createElement("div",{className:(0,g.Z)(O?"text-rb-red-default":"text-rb-green-default","text-[20px] font-medium",{hidden:R})},O?"-":"+",d.createElement("span",null,"0%"===T?"0.00%":T),$?d.createElement("span",null,"(",$,")"):null),d.createElement("div",null,d.createElement(r.mU,{viewBox:"0 0 16 16",className:(0,g.Z)("w-[24px] h-[24px] text-rb-neutral-foot cursor-pointer","hover:text-r-blue-default",l?"animate-spin":""),onClick:p}))))),d.createElement("div",{className:(0,g.Z)("w-[400px] h-[104px] absolute top-[12px] right-[20px]"),onMouseMove:()=>{y(!0)},onMouseLeave:_},!!j&&!!a&&d.createElement(A,{isHover:M,data:a,showAppChainTips:V,appChainIds:h,onHover:e=>{w(e)},width:400,height:104}),!!l&&d.createElement("div",{className:"flex mt-[14px]"},d.createElement(x.Z.Input,{active:!0,className:"m-auto w-[400px] h-[104px] rounded block"}))))))};var T=a(677040);const O=p.vJ`
  .global-qr-code-popover {
    .ant-popover-arrow {
      display: none;
    }
    .ant-popover-inner {
      border-radius: 8px;
      border: 1px solid var(--r-neutral-line, #E0E5EC);
      box-shadow: none;
    }
    .ant-popover-inner-content {
      padding: 14px;
    }
  }
`,$=e=>{const t=(0,n.t)(),a=(0,b.Os)(),{data:p,runAsync:m}=(0,s.Z)((async()=>t?.address?a.getAlianName(t?.address||""):""),{refreshDeps:[t?.address]});return(0,d.useEffect)((()=>(0,T.m)("contactBook",(e=>{m()}))),[m]),t?d.createElement(d.Fragment,null,d.createElement(O,null),d.createElement("div",{className:"px-[20px] pt-[24px] pb-[8px] relative"},d.createElement("div",{className:"mb-[20px] flex items-center gap-[8px]"},d.createElement("div",{className:"text-r-neutral-title1 text-[18px] leading-[21px] font-semibold"},p),d.createElement("div",{className:"text-rb-neutral-body text-[18px] leading-[21px]"},(0,l.h4)(t?.address||"",!0)),d.createElement("div",{className:"flex items-center gap-[8px]"},d.createElement("div",{onClick:()=>{(0,o.c4)(t?.address)},className:"cursor-pointer rounded-[4px] text-rb-neutral-foot hover:bg-rb-neutral-bg-0"},d.createElement(r.Mx,null)),d.createElement(i.Z,{placement:"bottom",overlayClassName:"global-qr-code-popover",trigger:"click",content:d.createElement("div",null,d.createElement(c.ZP,{value:t.address||"",size:250}))},d.createElement("div",{className:"cursor-pointer rounded-[4px] text-rb-neutral-foot hover:bg-rb-neutral-bg-0"},d.createElement(r.JI,null))))),d.createElement(Z,{...e}))):null}},949359:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>c});var n=a(757016),l=a(667294),o=a(52887),s=a(338671),i=e([s]);s=(i.then?(await i)():i)[0];const c=e=>{const{t}=(0,o.$G)(),{...a}=e;return l.createElement(n.Z,{...a,width:400,title:null,className:"modal-support-darkmode",bodyStyle:{background:"transparent",maxHeight:"600px",height:"600px",padding:0},closable:!1,maskClosable:!0,footer:null,zIndex:1e3,maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"}},l.createElement(s.Z,null))};r()}catch(e){r(e)}}))},913226:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{U:()=>m});var n=a(757016),l=a(667294),o=a(567952),s=a(75),i=a(547886),c=a(797),d=a(657754),p=e([o,c]);[o,c]=p.then?(await p)():p;const m=e=>{const t=(0,i.TH)(),a=new URLSearchParams(t.search).get("sendPageType")||"sendNft",r=(0,l.useMemo)((()=>"sendNft"===a?l.createElement(c.Z,null):"sendPoly"===a?l.createElement(o.Z,null):"whitelistInput"===a?l.createElement(s.Z,null):l.createElement(c.Z,null)),[a]);return l.createElement(n.Z,{...e,className:"modal-support-darkmode",width:400,title:null,bodyStyle:{background:"transparent",maxHeight:"unset",padding:0},footer:null,zIndex:1e3,maskStyle:{zIndex:1e3},closeIcon:l.createElement(d.r,{viewBox:"0 0 14 14",className:"h-[20px] w-[20px]"}),destroyOnClose:!0},r)};r()}catch(e){r(e)}}))},861796:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{a:()=>x});var n=a(757016),l=a(667294),o=a(567952),s=a(75),i=a(547886),c=a(272763),d=a(102014),p=a(797),m=a(901234),u=e([o,p]);[o,p]=u.then?(await u)():u;const x=e=>{const t=(0,i.TH)(),a=new URLSearchParams(t.search).get("sendPageType")||"sendToken",r=(0,l.useMemo)((()=>"sendToken"===a?l.createElement(o.Z,null):"sendNft"===a?l.createElement(p.Z,null):"selectToAddress"===a?l.createElement(d.Z,null):"whitelistInput"===a?l.createElement(s.Z,null):l.createElement(o.Z,null)),[a]);return l.createElement(n.Z,{...e,className:"desktop-swap-token-modal modal-support-darkmode",width:400,title:null,bodyStyle:{background:"transparent",maxHeight:"unset",padding:0},maskClosable:!0,centered:!0,closeIcon:c.S,footer:null,zIndex:1e3,destroyOnClose:!0,maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"}},l.createElement(m.k,null,l.createElement("div",{className:"h-full w-full rounded-[20px] overflow-hidden"},r)))};r()}catch(e){r(e)}}))},445105:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{h:()=>c});var n=a(901234),l=a(103541),o=a(757016),s=a(667294),i=e([l]);l=(i.then?(await i)():i)[0];const c=e=>s.createElement(o.Z,{...e,width:400,centered:!0,closable:!1,footer:null,bodyStyle:{maxHeight:"unset",padding:0},maskStyle:{background:"rgba(0, 0, 0, 0.30)",backdropFilter:"blur(8px)"},className:"modal-support-darkmode"},s.createElement(n.k,null,s.createElement(l.Z,{isInModal:!0,onClose:e.onCancel})));r()}catch(e){r(e)}}))},505258:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{m:()=>x});var n=a(757016),l=a(667294),o=a(448626),s=a(521202),i=a(52887),c=a(386010),d=a(272763),p=a(547886),m=a(901234),u=e([o,s]);[o,s]=u.then?(await u)():u;const x=e=>{const{t}=(0,i.$G)(),{action:a,...r}=e,u=(0,p.k6)(),x=[{key:"swap",label:t("page.swap.title")},{key:"bridge",label:t("page.bridge.title")}];return l.createElement(n.Z,{...r,className:"desktop-swap-token-modal modal-support-darkmode",width:400,title:null,bodyStyle:{background:"transparent",maxHeight:"unset",padding:0},maskClosable:!0,centered:!0,footer:null,zIndex:1e3,closeIcon:d.S,destroyOnClose:!0,maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"}},l.createElement(m.k,null,l.createElement("div",{className:"js-rabby-desktop-swap-container bg-r-neutral-bg-2 rounded-[20px]"},l.createElement("div",{className:"flex justify-center mt-12 mb-12 "},l.createElement("div",{className:"inline-flex items-center bg-r-neutral-line rounded-[6px] border border-rabby-neutral-line"},x.map((e=>{const t=e.key===a;return l.createElement("div",{key:e.key,onClick:()=>(e=>{const t=new URLSearchParams(u.location.search);t.set("action",e),u.replace(`/desktop/profile?${t.toString()}`)})(e.key),className:(0,c.Z)("cursor-pointer rounded-[6px]","px-[28px] py-[8px] text-center","text-15 font-medium",t?"bg-r-neutral-card-1 text-r-blue-default shadow-sm":"text-r-neutral-body hover:text-r-blue-default")},e.label)})))),"swap"===a?l.createElement(o.Z,null):l.createElement(s.k,null))))};r()}catch(e){r(e)}}))},232250:(e,t,a)=>{a.d(t,{e:()=>f});var r,n,l=a(439259),o=a(205686),s=a(665037),i=a(386010),c=a(667294);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},d.apply(this,arguments)}function p(e){return c.createElement("svg",d({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=c.createElement("g",{clipPath:"url(#icon-sun_svg__clip0_138747_132389)",stroke:"#F7FAFC",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"},c.createElement("path",{d:"M9 1.25v1M14.48 3.523l-.707.707M16.75 9h-1M14.48 14.48l-.707-.707M9 16.75v-1M3.52 14.48l.707-.707M1.25 9h1M3.52 3.523l.707.707M9 13.25a4.25 4.25 0 100-8.5 4.25 4.25 0 000 8.5z"}))),n||(n=c.createElement("defs",null,c.createElement("clipPath",{id:"icon-sun_svg__clip0_138747_132389"},c.createElement("path",{fill:"#fff",d:"M0 0h18v18H0z"})))))}a.p;var m,u;function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},x.apply(this,arguments)}function g(e){return c.createElement("svg",x({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),m||(m=c.createElement("g",{clipPath:"url(#icon-moon_svg__clip0_138762_156137)"},c.createElement("path",{d:"M8.998 2.248h.295a5.625 5.625 0 005.94 9.335 6.75 6.75 0 11-6.235-9.34v.005z",stroke:"#717380",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),u||(u=c.createElement("defs",null,c.createElement("clipPath",{id:"icon-moon_svg__clip0_138762_156137"},c.createElement("path",{fill:"#fff",d:"M0 0h18v18H0z"})))))}a.p;const f=()=>{const e=(0,s.L5)((e=>e.preference.themeMode)),{isDarkTheme:t}=(0,o.r)(),a=(0,s.$y)(),r=(0,c.useCallback)((()=>{const t=e===l.jw.dark?l.jw.light:l.jw.dark;a.preference.switchThemeMode(t)}),[a,e]);return c.createElement("div",{className:"flex items-center justify-center gap-[4px] bg-rb-neutral-bg-3 rounded-[12px] h-[40px] border border-rb-neutral-bg-2"},c.createElement("button",{onClick:r,className:(0,i.Z)("w-[48px] h-[36px] rounded-[10px] flex items-center justify-center",t?"":"bg-rb-neutral-foot")},c.createElement(p,{className:"w-[20px] h-[20px]"})),c.createElement("button",{onClick:r,className:(0,i.Z)("w-[48px] h-[36px] rounded-[10px] flex items-center justify-center",t?"bg-rb-neutral-foot":"")},c.createElement(g,{className:"w-[20px] h-[20px]"})))}},795028:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{D:()=>f});var n=a(667294),l=a(204773),o=a(52887),s=a(665037),i=a(45372),c=a(764775),d=a(308362),p=a(658804),m=a(681544),u=a(360910),x=e([l]);l=(x.then?(await x)():x)[0];const g=p.ZP.div.withConfig({displayName:"rabby--ListContainer",componentId:"rabby--1oh5ufp"})`
  background-color: var(--rb-neutral-bg-3, #f9f9f9);
  border-radius: 16px;
  padding: 16px;
  margin: 0 20px 20px;
`,f=({appIds:e,displayPortfolios:t,currentPortfolioNetWorth:a,removeProtocol:r,isLoading:p,isNoResults:x,onProjectOverviewListChange:f})=>{const{t:b}=(0,o.$G)(),{isExpanded:h,result:v,toggleExpand:E,hasExpandSwitch:y,smallLength:k}=((0,s.$y)(),(0,i.$)(t,a)),w=n.useMemo((()=>[...v||[]]),[v]);return(0,n.useEffect)((()=>{x||w?.length<=0?f?.([]):w&&f?.(w)}),[w.length,x]),p?n.createElement("div",{className:"mx-20"},n.createElement(m.b,null)):v?.length||p?n.createElement(n.Fragment,null,!x&&w?.length>0&&n.createElement(c.Z,{list:w,appIds:e,isExpanded:h,smallLength:k,toggleExpand:E,hasExpandSwitch:y,filterWallet:!0}),n.createElement(u.y,null),n.createElement(l.Z,{removeProtocol:r,appIds:e,list:v,isExpanded:h,toggleExpand:E,hasExpandSwitch:y})):n.createElement(g,{className:"mt-20"},n.createElement(d.p,{text:b("page.dashboard.assets.table.noMatch")}))};r()}catch(e){r(e)}}))},764775:(e,t,a)=>{a.d(t,{Z:()=>N});var r,n,l=a(667294),o=a(386010),s=a(658804),i=a(194575);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c.apply(this,arguments)}function d(e){return l.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r||(r=l.createElement("g",{clipPath:"url(#dropdown-cc_svg__clip0_64044_77527)"},l.createElement("path",{d:"M13 6l-5 5-5-5",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}))),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"dropdown-cc_svg__clip0_64044_77527"},l.createElement("path",{fill:"#fff",transform:"rotate(90 8 8)",d:"M0 0h16v16H0z"})))))}a.p;var p,m,u,x,g=a(650971),f=a(552317);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},b.apply(this,arguments)}function h(e){return l.createElement("svg",b({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p||(p=l.createElement("rect",{x:1.5,y:6.203,width:17,height:11.333,rx:1.889,fill:"url(#wallet-cc_svg__paint0_linear_135422_8703)"})),m||(m=l.createElement("path",{d:"M5.743 2.514l11.969 2.992c.114.029.094.197-.024.197H4.7a.2.2 0 01-.2-.2v-2.02a1 1 0 011.243-.97z",fill:"url(#wallet-cc_svg__paint1_linear_135422_8703)"})),u||(u=l.createElement("circle",{cx:5.25,cy:11.852,r:1.25,fill:"#fff"})),x||(x=l.createElement("defs",null,l.createElement("linearGradient",{id:"wallet-cc_svg__paint0_linear_135422_8703",x1:18.5,y1:8.973,x2:1.196,y2:10.142,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#7B8DFF"}),l.createElement("stop",{offset:1,stopColor:"#4960EE"})),l.createElement("linearGradient",{id:"wallet-cc_svg__paint1_linear_135422_8703",x1:18.5,y1:4.703,x2:6.52,y2:5.081,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#8192FF"}),l.createElement("stop",{offset:1,stopColor:"#4358D4"})))))}a.p;var v=a(52887);const E=s.ZP.div.withConfig({displayName:"rabby--ProjectOverviewItemWrapper",componentId:"rabby--146giw7"})`
  border-radius: 12px;
  background-color: var(--rb-neutral-bg-3);
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 11px 10px;
  cursor: pointer;
  .title {
    display: flex;
    align-items: center;
    padding: 12px;
    cursor: pointer;

    .name {
      /* flex: 1; */
      font-weight: 500;
      font-size: 13px;
      line-height: 15px;
      color: var(--r-neutral-title-1, #192945);
    }
    .net-worth {
      font-weight: 500;
      font-size: 13px;
      line-height: 15px;
      text-align: right;
      color: var(--r-neutral-title-1, #192945);
    }
  }
`,y=({protocol:e,isAppChain:t})=>{const a=e.id===f.L;return l.createElement(E,{onClick:()=>{(0,g.p)(e.id)}},a?l.createElement(h,{className:"w-[20px] h-[20px]"}):l.createElement(i.x,{iconUrl:e.logo,chainServerId:e.chain||"eth",width:"20px",height:"20px",chainSize:"10px",noRound:t,isShowChainTooltip:!0,hideChainIcon:t}),l.createElement("div",{className:"flex flex-col"},l.createElement("span",{className:"name inline-flex items-center text-12 text-rb-neutral-foot truncate"},e.name),l.createElement("span",{className:"text-[12px] text-rb-neutral-title-1 font-semibold"},e._netWorth)))},k=s.ZP.div.withConfig({displayName:"rabby--ProjectOverviewListWrapper",componentId:"rabby--p5wrz3"})`
  margin-top: 20px;
  padding-left: 20px;
  padding-right: 20px;
`,w=s.ZP.div.withConfig({displayName:"rabby--ListWrapper",componentId:"rabby--gmm2kh"})`
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 12px;
`,N=({list:e,appIds:t,isExpanded:a,toggleExpand:r,smallLength:n,hasExpandSwitch:s,filterWallet:i})=>{const{t:c}=(0,v.$G)(),p=i?e?.filter((e=>e.id!==f.L)):e,m=(0,l.useMemo)((()=>{const e=a?p?.length||0:(n||0)+(p?.length||0);return e>11?e-11:n}),[a,n,p]);return p?l.createElement(k,null,l.createElement(w,null,(a?p:p?.slice(0,11))?.map((e=>l.createElement(y,{protocol:e,key:e.id,isAppChain:t?.includes(e.id)}))),s&&l.createElement("div",{onClick:r,className:"flex items-center justify-center gap-4 py-[16px]"},l.createElement("div",{className:"text-rb-neutral-secondary text-13 cursor-pointer"},c(a?"page.desktopProfile.portfolio.headers.foldDifis":"page.desktopProfile.portfolio.headers.unfoldDifis",{count:m})),l.createElement("div",{className:"flex items-center justify-center gap-[2px] cursor-pointer"},l.createElement(d,{className:(0,o.Z)("ml-0 text-rb-neutral-secondary",{"transform rotate-180":a})}))))):null}},204773:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>S});var n=a(667294),l=a(386010),o=a(931097),s=a(52887),i=a(658804),c=a(795026),d=a(194575),p=a(719174),m=a(688829),u=a(21233),x=a(835355),g=a(206869),f=a(830785),b=a(837559),h=a(605708),v=a(535935),E=e([g]);const y={common:(g=(E.then?(await E)():E)[0]).Gn,lending:g.EE,locked:g.QM,leveraged_farming:g.Je,vesting:g.PZ,reward:g.Qp,options_seller:g.s7,options_buyer:g.s7,insurance_seller:g.R6,insurance_buyer:g.R6,perpetuals:g.WA,unsupported:g.R6,nft_common:g.Ph,nft_lending:g.M3,nft_fraction:g.db,nft_p2p_lender:g.qX,nft_p2p_borrower:g.G7,prediction:g.Ey},k=i.ZP.div.withConfig({displayName:"rabby--PoolListContainer",componentId:"rabby--yotgd0"})`
  background-color: var(--rb-neutral-bg-3, #f9f9f9);
  border-radius: 16px;
  padding-top: 8;
  margin: 0 20px;
  overflow: hidden;
`,w=i.ZP.div.withConfig({displayName:"rabby--ProtocolItemWrapper",componentId:"rabby--utb8ns"})`
  margin-bottom: 28px;
  border-radius: 8px;

  .title {
    display: flex;
    align-items: center;
    padding: 12px;
    cursor: pointer;

    .name {
      /* flex: 1; */
      font-weight: 500;
      font-size: 13px;
      line-height: 15px;
      color: var(--r-neutral-title-1, #192945);
    }
    .net-worth {
      font-weight: 500;
      font-size: 13px;
      line-height: 15px;
      text-align: right;
      color: var(--r-neutral-title-1, #192945);
    }
  }
`,N=(0,n.memo)((({data:e})=>{if(!e||!e?._portfolios?.length)return null;const{id:t,_portfolios:a,logo:r}=e,l=new Map;return a.forEach((e=>{const t=e?._originPortfolio?.detail_types?.reverse()?.find((e=>y[e]?e:"")),a=`${e.name}&&${t}&&${e?._originPortfolio?.proxy_detail?.proxy_contract_id}`,r=l.get(a)||[];r.push(e),l.set(a,r)})),n.createElement("div",null,[...l].map((([t,a],l)=>{const[o,s]=t.split("&&"),i=y[s]||y.unsupported;return n.createElement(i,{key:`${t}_${a[0].id}_${a[0].name}}`,tag:o,protocolLogo:r,data:a.map((e=>e._originPortfolio)).filter(Boolean),siteUrl:e.site_url,protocolName:e.name,name:o})})))})),P=({protocol:e,isAppChain:t,removeProtocol:a})=>{const{t:r}=(0,s.$G)(),i=(0,u.t)(),x=(0,p.Os)(),[g,E]=(0,n.useState)(null),y=(0,n.useMemo)((()=>g||e),[g,e]),{data:P}=((0,n.useCallback)((async()=>{if(!i?.address||!e.id||t)return;const r=await x.openapi.getProtocol({addr:i?.address,id:e.id});return r.portfolio_item_list.length?E(new c.OR(r,r.portfolio_item_list)):a?.(y.id),r}),[e.id,i?.address,t,y.id,a,x.openapi]),(0,h.Z)((async()=>(0,v.UX)({wallet:x,account:i,scene:"protocol"})),{ready:"hyperliquid"===y.id,cacheKey:`check-perps-reference-protocol-${i?.address}`}));return n.createElement(w,{className:"protocol-item-wrapper",id:y.id},n.createElement("div",null,n.createElement("div",{className:(0,l.Z)("flex items-center justify-start mx-[20px]","title border border-solid border-transparent rounded-[8px] h-[48px] px-0")},n.createElement(d.x,{iconUrl:y.logo,chainServerId:y.chain||"eth",width:"20px",height:"20px",chainSize:"12px",noRound:t,isShowChainTooltip:!0,hideChainIcon:t,chainClassName:"bottom-[-4px] right-[-4px]"}),n.createElement("div",{className:"ml-[10px] flex items-center",onClick:e=>{e.stopPropagation(),(0,p.Ku)("hyperliquid"===y.id&&P?b.kr:y.site_url,!1)}},"hyperliquid"===y.id&&P?n.createElement(o.Z,{overlayClassName:"app-chain-tooltip rectangle addressType__tooltip",title:r("component.ChainItem.hyperliquidCode")},n.createElement("span",{className:"\n                name inline-flex items-center text-[20px] leading-[24px] font-semibold \n                text-r-neutral-title1 hover:text-r-blue-default \n                border-b-[1px] border-b-solid border-transparent hover:border-b-r-blue-default\n              "},y.name)):n.createElement("span",{className:"\n                name inline-flex items-center text-[20px] leading-[24px] font-semibold \n                text-r-neutral-title1 hover:text-r-blue-default \n                border-b-[1px] border-b-solid border-transparent hover:border-b-r-blue-default\n              "},y.name),!!t&&n.createElement(o.Z,{overlayClassName:"app-chain-tooltip rectangle addressType__tooltip",title:r("component.ChainItem.appChain",{chain:y.name})},n.createElement("div",{className:"text-r-neutral-foot ml-[6px]"},n.createElement(m.r,null))),n.createElement(f.cg,{className:"ml-[6px] w-[16px] h-[16px] text-r-neutral-foot"})),n.createElement("div",{className:"flex items-center justify-end flex-1"},n.createElement("span",{className:"text-[20px] text-r-neutral-title1 font-semibold"},y._netWorth))),n.createElement(k,null,n.createElement(N,{data:y}))))},C=i.ZP.div.withConfig({displayName:"rabby--ProtocolListWrapper",componentId:"rabby--1jufku4"})`
  margin-top: 20px;
`,S=({list:e,appIds:t,removeProtocol:a,isExpanded:r,toggleExpand:o,hasExpandSwitch:i})=>{const{t:c}=(0,s.$G)();return e?n.createElement(C,null,e?.map((e=>n.createElement(P,{protocol:e,removeProtocol:a,key:e.id,isAppChain:t?.includes(e.id)}))),i&&n.createElement("div",{onClick:o,className:"flex items-center justify-center gap-4 py-[16px]"},n.createElement("div",{className:"text-r-neutral-foot text-13 cursor-pointer"},c(r?"page.desktopProfile.portfolio.hidden.hideDefiWithSmallDeposits":"page.desktopProfile.portfolio.hidden.hideDefiWithSmallDepositsDesc")),n.createElement("div",{className:"flex items-center justify-center gap-[2px] cursor-pointer"},r?null:n.createElement("div",{className:"text-r-neutral-foot text-13 underline"},c("page.desktopProfile.portfolio.hidden.showAll")),n.createElement(x.r,{className:(0,l.Z)("ml-0",{"transform rotate-180":r})})))):null};r()}catch(e){r(e)}}))},878367:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{B:()=>p,s:()=>d});var n=a(667294),l=a(516349),o=a(729095),s=a(616625),i=a(386010),c=e([o]);o=(c.then?(await c)():c)[0];const d=(e,t)=>!(e?.proxy_detail?.proxy_contract_id||!e?.withdraw_actions?.length)&&(t?"withdraw"===t?e.withdraw_actions?.some((e=>"withdraw"===e.type||"queue"===e.type)):"claim"===t&&e.withdraw_actions?.some((e=>"claim"===e.type)):e.withdraw_actions.length>0),p=({actionKeys:e,portfolio:t,protocolLogo:a,protocolName:r,className:c})=>n.createElement(l.i.Row,{key:`${t?.name}`,className:(0,i.Z)("hover:bg-transparent",c)},e.filter(Boolean).map(((e,l)=>"withdraw"===e?n.createElement(o.Z,{key:"withdraw",data:t?.withdraw_actions,chain:t?.pool.chain,type:"withdraw",protocolLogo:a,protocolName:r}):"claim"===e?n.createElement(o.Z,{key:"claim",data:t?.withdraw_actions,chain:t?.pool.chain,type:"claim",protocolLogo:a,protocolName:r}):"default"===e?n.createElement(s.B4.Ld,{key:`${t?.name}_${l}`,value:""}):null)));r()}catch(e){r(e)}}))},136474:(e,t,a)=>{a.d(t,{Z:()=>s,y:()=>o});var r=a(931097),n=a(386010),l=a(667294);const o=({children:e,help:t,className:a,inParent:o,overlayClassName:s,disable:i,title:c,...d})=>i?l.createElement(l.Fragment,null,e):l.createElement(r.Z,{title:c,getTooltipContainer:o?e=>e:undefined,overlayClassName:(0,n.Z)("rectangle addressType__tooltip",s),className:(0,n.Z)(t&&"toolTipHelp",a),mouseEnterDelay:0,...d},e),s=o},156851:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(386010),n=a(667294);const l=a(658804).ZP.div.withConfig({displayName:"rabby--Container",componentId:"rabby--9g1j9l"})`
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-direction: row;
  justify-content: start;
  flex-wrap: wrap;
  gap: 6px;
  div {
    text-overflow: ellipsis;
    overflow-wrap: break-word;
    word-break: break-all;
  }
  img {
    /* margin-right: 6px; */
  }
`,o=e=>n.createElement(l,{title:"string"==typeof e.label?e.label:"",className:e.className,style:Object.assign(e.maxWidth?{maxWidth:e.maxWidth}:{},e.style)},e.icon,n.createElement("div",{className:(0,r.Z)(e.textHidden&&"ellipsis",e.labelClassName)},e.label))},736306:(e,t,a)=>{a.d(t,{C:()=>x});var r,n=a(667294);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}function o(e){return n.createElement("svg",l({width:10,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.208 5a4.792 4.792 0 109.584 0A4.792 4.792 0 00.208 5zm6.15-2.5c-.321-.289-.747-.425-1.27-.425-.594 0-1.06.169-1.406.506-.353.338-.522.804-.522 1.398h.916c0-.337.064-.602.2-.787.154-.225.403-.33.756-.33.274 0 .49.073.643.225.145.153.225.362.225.627a.89.89 0 01-.217.57l-.096.113c-.523.466-.836.804-.94 1.02-.113.218-.161.483-.161.788v.113h.924v-.113c0-.192.04-.361.12-.522.073-.145.177-.281.322-.402.386-.337.619-.554.691-.635.193-.257.297-.586.297-.988 0-.49-.16-.876-.482-1.157zm-.964 4.38a.639.639 0 00-.45-.168.62.62 0 00-.442.169.564.564 0 00-.177.434c0 .176.056.321.177.433.12.113.265.177.442.177a.62.62 0 00.442-.168.588.588 0 00.185-.442.594.594 0 00-.177-.434z",fill:"#707280"})))}a.p;var s,i;function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c.apply(this,arguments)}function d(e){return n.createElement("svg",c({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=n.createElement("g",{clipPath:"url(#icon-info_svg__clip0_133672_60202)"},n.createElement("path",{d:"M12.6 6.998a5.6 5.6 0 11-11.2 0 5.6 5.6 0 0111.2 0z",stroke:"#6A7587",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3.21a.73.73 0 110 1.46.73.73 0 010-1.46z",fill:"#6A7587"}),n.createElement("path",{d:"M7.146 9.92V5.835h-.584",fill:"#6A7587"}),n.createElement("path",{d:"M7.146 9.92V5.835h-.584",stroke:"#6A7587",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M6.125 9.914h2.042z",fill:"#6A7587"}),n.createElement("path",{d:"M6.125 9.914h2.042",stroke:"#6A7587",strokeLinecap:"round",strokeLinejoin:"round"}))),i||(i=n.createElement("defs",null,n.createElement("clipPath",{id:"icon-info_svg__clip0_133672_60202"},n.createElement("path",{fill:"#fff",d:"M0 0h14v14H0z"})))))}a.p;var p=a(658804),m=a(136474);const u=p.ZP.span.withConfig({displayName:"rabby--TipsWrapper",componentId:"rabby--188sqlq"})`
  display: inline-flex;
  align-items: center;
  color: var(--r-neutral-foot);
  gap: 2px;
  .icon {
    margin-left: 4px;
    flex-shrink: 0;
  }
`,x=({title:e,className:t,iconClassName:a,children:r,placement:l,overlayClassName:s,size:i=14,ghost:c,onClick:p})=>{const x=c?d:o;return n.createElement(u,{className:t,onClick:p},r,n.createElement(m.Z,{title:e,arrowPointAtCenter:!0,placement:l,overlayClassName:s},n.createElement(x,{className:a,width:i,height:i})))}},799238:(e,t,a)=>{a.d(t,{y:()=>s});var r=a(386010),n=a(667294),l=a(855944);const o=a(658804).ZP.img.withConfig({displayName:"rabby--Icon",componentId:"rabby--6e1gc1"})`
  width: 100%;
  height: 100%;
  border-radius: 43px;
  overflow: hidden;
`,s=e=>{const{className:t,logo:a,size:s=32,logoClassName:i}=e,c=(0,n.useMemo)((()=>({width:s,height:s})),[s]);return n.createElement("div",{className:(0,r.Z)("relative",t),style:c},n.createElement("div",{style:c},n.createElement(o,{className:i,src:a,loading:"lazy",alt:"",onError:e=>{e.target.src=l.Z}})))}},616625:(e,t,a)=>{a.d(t,{QC:()=>s,KV:()=>G,Tk:()=>W,s_:()=>m,gg:()=>K,iA:()=>u.Z,B4:()=>r});var r={};a.r(r),a.d(r,{yo:()=>_,j6:()=>S,jo:()=>B,En:()=>z,bG:()=>F,dl:()=>$,gG:()=>O,Ld:()=>P,qp:()=>C,WU:()=>I,uK:()=>D,Yn:()=>T,nk:()=>A,T6:()=>M,_A:()=>L});var n=a(667294),l=a(658804);const o=l.ZP.div.withConfig({displayName:"rabby--Bookmark",componentId:"rabby--1kwtxm2"})`
  position: relative;
  left: 0px;
  background: var(--rb-neutral-secondary);
  border-radius: 0 6px 6px 0;

  font-size: 12px;
  font-weight: 500;
  color: var(--rb-neutral-InvertHighlight);
  line-height: 14px;
  padding: 4px 16px;
`,s=({content:e,className:t,...a})=>n.createElement(o,{...a,className:t},e),i=s,c=l.ZP.div.withConfig({displayName:"rabby--Container",componentId:"rabby--1rr9ga5"})`
  padding-top: 12px;
`,d=l.ZP.div.withConfig({displayName:"rabby--PanelHead",componentId:"rabby--tjce99"})`
  display: flex;
  align-items: center;
  margin-bottom: 12px;
`,p=l.ZP.div.withConfig({displayName:"rabby--Card",componentId:"rabby--1ebuynb"})`
  padding: 0;
`,m=e=>{const{tag:t,subTag:a,proposalTag:r,className:l,moreContent:o,...s}=e;return n.createElement(c,{className:l,...s},n.createElement(d,null,t&&n.createElement(i,{content:t}),r,a,o),n.createElement(p,null,e.children))};var u=a(516349),x=a(727484),g=a.n(x),f=a(856939),b=a(136474),h=a(730985),v=a(62569),E=a(157786),y=a(156851),k=a(799238);const w=l.ZP.div.withConfig({displayName:"rabby--BalanceToken",componentId:"rabby--1rg5bz2"})`
  margin-bottom: 4px;
  font-size: 14px;
  color: var(--r-neutral-title1);
`,N=u.Z.Col,P=({value:e,...t})=>n.createElement(N,{className:"text-[14px] text-r-neutral-title1",...t},e),C=e=>n.createElement(N,{className:"text-[14px] text-r-neutral-title1"},e.value?g()(1e3*Number(e.value)).format("YYYY/MM/DD HH:mm"):"-"),S=e=>{const t=e.value?Array.isArray(e.value)?e.value:[e.value]:undefined;return n.createElement(N,null,t?n.createElement(h.G1,{tokens:Array.isArray(t)?t:[t]}):"")},_=e=>n.createElement(N,null,n.createElement(h.G1,{tokens:e.value?[e.value]:[]})),M=e=>{const t=Array.isArray(e.value)?e.value:[e.value];return n.createElement(N,null,(0,h.lz)(t,"/"))},A=({value:e,nfts:t,...a})=>{const r=Array.isArray(e)?e:[e];return n.createElement(N,{...a},(0,h.lz)(r,"+",t))},I=({value:e,...t})=>n.createElement(A,{value:e?[e]:[],...t}),L=e=>n.createElement(N,{className:"text-[14px] text-r-neutral-title1"},(0,E.xv)(+e.value)),Z=e=>n.createElement(N,{className:"text-[14px] text-r-neutral-title1"},(0,h.yI)(e.value,0)),T=e=>n.createElement(Z,{value:[e.value]}),O=e=>e.value===undefined||Number.isNaN(+e.value)?n.createElement(N,null):n.createElement(N,{className:"text-[14px] text-r-neutral-title1"},(0,h.x6)(100*+e.value,2),"%"),$=e=>n.createElement(N,{className:"text-[14px] text-r-neutral-title1"},(0,h.x6)(e.value??0,2)),z=e=>n.createElement(N,null,n.createElement(h.G1,{tokens:Array.isArray(e.value)?e.value:[e.value],withPrice:!0})),B=({tokens:e,nfts:t})=>{const a=!!t?.length;return n.createElement(N,null,a&&t.map((e=>n.createElement(w,null,n.createElement("span",null,(0,v.S)(e.collection))," x",e.amount))),n.createElement(h.G1,{tokens:e}))},F=({name:e,tokens:t})=>{const a=(0,n.useMemo)((()=>[e,"Balance","USD Value"]),[e]),r=(0,n.useMemo)((()=>t?.length?(0,v.B)(t).sort(((e,t)=>(t.amount||0)-(e.amount||0))).map((e=>{const t=e.collection,a=(0,v.S)(t);return{...e,collectionName:a}})):[]),[t]);return t?.length?n.createElement(u.Z,null,n.createElement(u.Z.Header,{headers:a}),n.createElement(u.Z.Body,null,r?.map(((e,t)=>n.createElement(u.Z.Row,{key:t},n.createElement(N,null,n.createElement(y.Z,{icon:n.createElement(k.y,{logoClassName:"rounded-[4px]",className:"mr-[8px]",size:24,logo:e.collection.logo_url}),label:n.createElement("span",{className:"text-[14px] text-r-neutral-title1"},e.collectionName)})),n.createElement(N,null,n.createElement("div",{className:"text-[14px] text-r-neutral-title1"},n.createElement("span",null,e.collectionName)," x",e.amount)),n.createElement(N,null,n.createElement("div",{className:"flex items-center justify-end text-[14px] text-r-neutral-title1"},n.createElement("span",null,"-"),n.createElement(b.y,{title:"NFT value not included in the net worth of this protocol"},n.createElement(f.r,{width:12,height:12,style:{marginLeft:4}}))))))))):null},D=({name:e,tokens:t})=>{const a=(0,n.useMemo)((()=>[e,"Balance","USD Value"]),[e]),r=(0,n.useMemo)((()=>t?.length?t?.map((e=>({...e,_netWorth:e.amount*e.price}))).sort(((e,t)=>t._netWorth-e._netWorth)):[]),[t]);return r?.length>0?n.createElement(u.Z,null,n.createElement(u.Z.Header,{headers:a}),n.createElement(u.Z.Body,null,r?.map(((e,t)=>n.createElement(u.Z.Row,{key:t},n.createElement(I,{value:e}),n.createElement(_,{value:e}),n.createElement(L,{value:e._netWorth})))))):null},R=l.ZP.span.withConfig({displayName:"rabby--Container",componentId:"rabby--yc8l1r"})`
  width: 100%;
  display: flex;
  flex-direction: column;
`,j=l.ZP.div.withConfig({displayName:"rabby--Line",componentId:"rabby--13r5frc"})`
  width: 100%;
  justify-content: start;
  flex-wrap: wrap;
  display: flex;
  flex-direction: row;
`,V=l.ZP.div.withConfig({displayName:"rabby--KVContainer",componentId:"rabby--1tsd8g1"})`
  min-width: 220px;
  display: flex;
`,U=l.ZP.span.withConfig({displayName:"rabby--KVKey",componentId:"rabby--5603on"})`
  font-size: 13px;
  color: var(--r-neutral-title1);
  line-height: 16px;
  margin-right: 8px;
`,H=l.ZP.span.withConfig({displayName:"rabby--KVValue",componentId:"rabby--1n591ca"})`
  font-size: 13px;
  font-weight: 500;
  color: var(--r-neutral-title1);
  line-height: 16px;
`,W=e=>n.createElement(R,{className:e.className},n.createElement(j,null,e.children)),G=e=>n.createElement(V,null,n.createElement(U,null,e.k),n.createElement(H,{className:e.vClassName},e.v)),q=l.ZP.div.withConfig({displayName:"rabby--PanelSubTag",componentId:"rabby--a52rm5"})`
  margin-left: 8px;
  height: 24px;
  line-height: 24px;
  font-size: 12px;
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  padding: 4px 8px;
  background-color: var(--r-neutral-card2);
  color: var(--r-neutral-title1);
`,K=({item:e})=>e.proxy_detail?.proxy_contract_id?n.createElement(b.y,{title:e.proxy_detail?.proxy_contract_id},n.createElement(q,null,"Proxy:",e.proxy_detail?.project?.name)):null},516349:(e,t,a)=>{a.d(t,{Z:()=>m,i:()=>p});var r=a(667294),n=a(658804),l=a(386010);const o=r.createContext([]),s=n.ZP.div.withConfig({displayName:"rabby--FlexRow",componentId:"rabby--18e8din"})`
  display: flex;
  flex-direction: row;
`,i=(0,n.ZP)(s).withConfig({displayName:"rabby--HeaderRow",componentId:"rabby--1yo6z9x"})`
  width: 100%;
  font-size: 12px;
  font-weight: bold;
  color: var(--rb-neutral-title1);
  line-height: 15px;
  min-width: 800px;

  > div {
    flex: 1;
    min-width: 70px;
    white-space: nowrap;
  }

  > div > span {
    padding: 7px 10px;
    display: block;
  }

  > div:first-child > span {
    padding: 7px 0 7px 10px;
  }

  > div:last-child > span {
    padding: 7px 10px 7px 0;
    text-align: right;
  }
`,c=(0,n.ZP)(s).withConfig({displayName:"rabby--ContentRow",componentId:"rabby--e2twba"})`
  width: 100%;
  line-height: 15px;
  min-width: 800px;
  align-items: center;

  > div {
    flex: 1;
    overflow: hidden;
    min-width: 70px;
  }

  > div > span {
    padding: 15px 10px;
    display: block;
    overflow-wrap: break-word;
    overflow: hidden;
  }

  > div:first-child > span {
    padding: 15px 0 15px 10px;
  }

  > div:last-child > span {
    padding: 15px 10px 15px 0;
    text-align: right;
  }
`,d=n.ZP.div.withConfig({displayName:"rabby--Content",componentId:"rabby--fixjhz"})`
  width: 100%;
  font-size: 14px;
  color: var(--rb-neutral-title1);
  line-height: 17px;

  > div {
    border-bottom: 0.5px solid var(--rb-neutral-line);
  }

  > div:last-child {
    border-bottom: none;
  }
`,p=({widths:e=[],children:t,className:a})=>r.createElement("div",{className:(0,l.Z)("px-8",a)},r.createElement(o.Provider,{value:e},t));p.Header=e=>{const t=p.Row,a=p.Col,{headers:n}=e,s=(0,r.useContext)(o);return r.createElement(r.Fragment,null,r.createElement(t,{header:!0,className:(0,l.Z)("p-8 bg-rb-neutral-bg-1 rounded-[6px]",e.className??"")},n.map(((e,t)=>r.createElement(a,{key:t,className:"text-13 text-rb-neutral-foot font-normal",style:{width:s[t]||"",flex:s[t]?`0 0 ${s[t]}px`:"1"}},e||r.createElement(r.Fragment,null," "))))))};p.Row=({header:e,className:t,children:a,...n})=>{const s=(0,r.useContext)(o),d=(0,r.useRef)(null);(0,r.useLayoutEffect)((()=>{if(!s.filter(Boolean).length)return;let e=-1;for(const t of d?.current?.children||[])e++,s[e]&&t.setAttribute("style",`${t.getAttribute("style")||""};width:${s[e]}px;flex:${s[e]?`0 0 ${s[e]}px`:"1"}`)}),[s]);const p=e?i:c;return r.createElement(p,{ref:d,className:(0,l.Z)("px-0 py-[1px]",t||""),...n},a)};p.Col=({style:e,children:t,className:a,...n})=>r.createElement("div",{style:e,className:a,...n},r.createElement("span",null,t));p.Body=e=>r.createElement(d,null,e.children," ");const m=p},824245:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>i});var n=a(667294),l=a(616625),o=a(878367),s=e([o]);o=(s.then?(await s)():s)[0];const i=(0,n.memo)((e=>{const{tag:t,protocolLogo:a,protocolName:r}=e,s=e.data,i=["Pool","Balance"],c=s.some((e=>e?.detail?.description!==undefined)),d=s.some((e=>e?.detail?.reward_token_list!==undefined)),p=s.some((e=>e?.detail?.borrow_token_list!==undefined));return d&&i.push("Rewards"),c&&i.unshift(""),p&&i.push("Borrow"),i.push("USD Value"),n.createElement(l.s_,{tag:t,subTag:n.createElement(l.gg,{item:s[0]})},n.createElement(l.iA,null,n.createElement(l.iA.Header,{className:"mt-[9px]",headers:i}),n.createElement(l.iA.Body,null,s.map((e=>{const t=(0,o.s)(e);return n.createElement(n.Fragment,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`},n.createElement(l.iA.Row,{key:`${e?.position_index}`,className:t?"border-b-0 px-16 pb-0 ":"px-16 py-[5px]"},c&&n.createElement(l.B4.Ld,{value:e?.detail?.description}),n.createElement(l.B4.nk,{value:e?.detail?.supply_token_list||[]}),n.createElement(l.B4.j6,{value:e?.detail?.supply_token_list||[]}),d&&n.createElement(l.B4.En,{value:(Array.isArray(e?.detail?.reward_token_list)?e?.detail?.reward_token_list||[]:[e?.detail?.reward_token_list]).filter(Boolean)}),p&&n.createElement(l.B4.En,{value:(Array.isArray(e?.detail?.borrow_token_list)?e?.detail?.borrow_token_list||[]:[e?.detail?.borrow_token_list]).filter(Boolean)}),n.createElement(l.B4._A,{value:e?.stats?.net_usd_value})),t&&n.createElement(o.B,{className:"px-16 pt-[0] pb-[17px] mt-[-6px]",actionKeys:[c?"default":"","default",(0,o.s)(e,"withdraw")?"withdraw":"default",d?(0,o.s)(e,"claim")?"claim":"default":"",p?"default":"","default"],portfolio:e,protocolLogo:a||"",protocolName:r}))})))))}));r()}catch(e){r(e)}}))},978153:(e,t,a)=>{var r=a(667294),n=a(616625);(0,r.memo)((e=>{const{tag:t}=e,a=e.data,l=["Description"],o=a.some((e=>e?.detail?.expired_at!==undefined));return o&&l.push("Expired Time"),l.push("USD Value"),r.createElement(n.s_,{tag:t,subTag:r.createElement(n.gg,{item:a[0]})},r.createElement(n.iA,null,r.createElement(n.iA.Header,{headers:l}),r.createElement(n.iA.Body,null,a.map((e=>r.createElement(n.iA.Row,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`},r.createElement(n.B4.Ld,{value:e?.detail?.description}),o&&r.createElement(n.B4.qp,{value:e?.detail?.expired_at}),r.createElement(n.B4._A,{value:e?.detail?.usd_value??"-"})))))))}))},685293:(e,t,a)=>{a.a(e,(async(e,t)=>{try{var r=a(667294),n=a(616625),l=a(878367),o=e([l]);l=(o.then?(await o)():o)[0];(0,r.memo)((e=>{const{tag:t,protocolLogo:a,protocolName:o}=e,s=e.data,i=["Description","Collateral","Balance"],c=s.some((e=>e?.detail?.reward_token_list!==undefined)),d=s.some((e=>e?.detail?.expired_at!==undefined));return c&&i.push("Rewards"),d&&i.push("Expired Time"),i.push("USD Value"),r.createElement(n.s_,{tag:t,subTag:r.createElement(n.gg,{item:s[0]})},r.createElement(n.iA,null,r.createElement(n.iA.Header,{headers:i}),r.createElement(n.iA.Body,null,s.map((e=>{const t=(0,l.s)(e);return r.createElement(r.Fragment,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`},r.createElement(n.iA.Row,{className:t?"border-b-0 px-16 pb-0":"px-16 py-[5px]"},r.createElement(n.B4.Ld,{value:e?.detail?.description}),r.createElement(n.B4.nk,{value:e?.detail?.collateral_token_list||[]}),r.createElement(n.B4.j6,{value:e?.detail?.collateral_token_list||[]}),c&&r.createElement(n.B4.En,{value:(Array.isArray(e?.detail?.reward_token_list)?e?.detail?.reward_token_list||[]:[e?.detail?.reward_token_list]).filter(Boolean)}),d&&r.createElement(n.B4.qp,{value:e?.detail?.expired_at}),r.createElement(n.B4._A,{value:e?.detail?.usd_value??"-"})),t&&r.createElement(l.B,{className:"px-16 pt-[0] pb-[17px] mt-[-6px]",actionKeys:["default","default",(0,l.s)(e,"withdraw")?"withdraw":"default",c?(0,l.s)(e,"claim")?"claim":"default":"",d?"default":"","default"],portfolio:e,protocolLogo:a||"",protocolName:o}))})))))}));t()}catch(e){t(e)}}))},556217:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>m});var n=a(667294),l=a(52887),o=a(736306),s=a(616625),i=a(730985),c=a(386010),d=a(878367),p=e([d]);d=(p.then?(await p)():p)[0];const m=(0,n.memo)((e=>{const{t}=(0,l.$G)(),{tag:a,protocolLogo:r,protocolName:p}=e,m=e.data;return n.createElement(n.Fragment,null,m.map((e=>{const t=(0,d.s)(e,"withdraw"),l=(0,d.s)(e,"claim");return n.createElement(s.s_,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`,proposalTag:n.createElement(s.QC,{content:a}),subTag:n.createElement(s.gg,{item:m[0]}),moreContent:n.createElement(s.Tk,{className:"ml-12"},e?.detail?.health_rate?n.createElement(s.KV,{k:n.createElement(o.C,{ghost:!0,className:"text-13 text-r-neutral-foot font-normal",title:"Your assets will be liquidated if the health factor is less than or equal to 1"},"Health Rate"),v:e?.detail?.health_rate<=10?e?.detail?.health_rate.toFixed(2):">10",vClassName:(0,c.Z)(e?.detail?.health_rate<1.1?"text-r-red-default":e?.detail?.health_rate<1.2?"text-r-orange-default":"text-r-neutral-title1")}):null)},n.createElement("div",null,e?.detail?.supply_token_list?.length&&e?.detail?.supply_token_list?.length>0?n.createElement(s.iA,null,n.createElement(s.iA.Header,{headers:["Supplied","Balance","USD Value"]}),n.createElement(s.iA.Body,null,(0,i.mB)(e?.detail?.supply_token_list,(e=>e.amount*(e.price||0)))?.map(((a,r)=>{const l=r===(e?.detail?.supply_token_list?.length||0)-1;return n.createElement(s.iA.Row,{key:a?.id,className:(0,c.Z)(l&&t?"px-16 pb-0 border-b-0":"px-16 py-[5px]")},n.createElement(s.B4.WU,{value:a}),n.createElement(s.B4.yo,{value:a}),n.createElement(s.B4._A,{value:a.amount*a.price}))})),t&&n.createElement(d.B,{className:"px-16 pt-[0] pb-[17px] mt-[-6px]",actionKeys:["default","withdraw","default"],portfolio:e,protocolLogo:r||"",protocolName:p}))):null,e?.detail?.borrow_token_list?.length&&e?.detail?.borrow_token_list?.length>0&&n.createElement(s.iA,null,n.createElement(s.iA.Header,{headers:["Borrowed","Balance","USD Value"]}),n.createElement(s.iA.Body,null,(0,i.mB)(e?.detail?.borrow_token_list,(e=>e.amount*(e.price||0)))?.map((e=>n.createElement(s.iA.Row,{key:e?.id,className:"border-b-0 px-16 py-[5px]"},n.createElement(s.B4.WU,{value:e}),n.createElement(s.B4.yo,{value:e}),n.createElement(s.B4._A,{value:e.amount*e.price})))))),e?.detail?.reward_token_list?.length&&e?.detail?.reward_token_list?.length>0&&n.createElement(s.iA,null,n.createElement(s.iA.Header,{headers:["Rewards","Balance","USD Value"]}),n.createElement(s.iA.Body,null,(0,i.mB)(e?.detail?.reward_token_list,(e=>e.amount*(e.price||0)))?.map(((t,a)=>{const r=a===(e?.detail?.reward_token_list?.length||0)-1;return n.createElement(s.iA.Row,{key:t?.id,className:(0,c.Z)(r&&l?"px-16 pb-0 border-b-0":"px-16 py-[5px]")},n.createElement(s.B4.WU,{value:t}),n.createElement(s.B4.yo,{value:t}),n.createElement(s.B4._A,{value:t.amount*t.price}))})),l&&n.createElement(d.B,{className:"px-16 pt-[0] pb-[17px] mt-[-6px]",actionKeys:["default","claim","default"],portfolio:e,protocolLogo:r||"",protocolName:p})))))})))}));r()}catch(e){r(e)}}))},326945:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>i});var n=a(667294),l=a(616625),o=a(878367),s=e([o]);o=(s.then?(await s)():s)[0];const i=(0,n.memo)((e=>{const{tag:t,protocolLogo:a,protocolName:r}=e,s=e.data,i=(0,n.useMemo)((()=>s?.some((e=>e.detail?.reward_token_list?.length))),[s]),c=(0,n.useMemo)((()=>{const e=["Pool","Supply","Borrow","Debt Ratio","USD Value"];return i&&e.splice(2,0,"Rewards"),e}),[i]);return n.createElement(l.s_,{tag:t,subTag:n.createElement(l.gg,{item:s[0]})},n.createElement(l.iA,null,n.createElement(l.iA.Header,{headers:c}),n.createElement(l.iA.Body,null,s.map((e=>{const t=e?.detail?.supply_token_list,s=e?.detail?.borrow_token_list,c=(0,o.s)(e);return n.createElement(n.Fragment,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`},n.createElement(l.iA.Row,{key:`${e?.position_index}`,className:c?"border-b-0 px-16 pb-0":"px-16 py-[5px]"},n.createElement(l.B4.nk,{value:t||[]}),n.createElement(l.B4.j6,{value:t||[]}),i?n.createElement(l.B4.j6,{value:e?.detail?.reward_token_list||[]}):null,n.createElement(l.B4.j6,{value:s||[]}),n.createElement(l.B4.gG,{value:e?.detail?.debt_ratio}),n.createElement(l.B4._A,{value:e?.stats?.net_usd_value})),c&&n.createElement(o.B,{className:"px-16 pt-[0] pb-[17px] mt-[-6px]",actionKeys:["default",(0,o.s)(e,"withdraw")?"withdraw":"default",i?(0,o.s)(e,"claim")?"claim":"default":"","default","default","default"],portfolio:e,protocolLogo:a||"",protocolName:r}))})))))}));r()}catch(e){r(e)}}))},636326:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>i});var n=a(667294),l=a(616625),o=a(878367),s=e([o]);o=(s.then?(await s)():s)[0];const i=(0,n.memo)((e=>{const{tag:t,protocolLogo:a,protocolName:r}=e,s=e.data,i=["Pool","Balance"],c=s.some((e=>e?.detail?.description!==undefined)),d=s.some((e=>e?.detail?.reward_token_list!==undefined)),p=s.some((e=>e?.detail?.unlock_at!==undefined));return d&&i.push("Rewards"),c&&i.unshift(""),p&&i.push("Unlock time"),i.push("USD Value"),n.createElement(l.s_,{tag:t,subTag:n.createElement(l.gg,{item:s[0]})},n.createElement(l.iA,null,n.createElement(l.iA.Header,{headers:i}),n.createElement(l.iA.Body,null,s.map(((e,t)=>{const s=(0,o.s)(e);return n.createElement(n.Fragment,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`},n.createElement(l.iA.Row,{key:`${e?.name}_${t}`,className:s?"border-b-0 px-16 pb-0":"px-16 py-[5px]"},c&&n.createElement(l.B4.Ld,{value:e?.detail?.description}),n.createElement(l.B4.nk,{value:e?.detail?.supply_token_list||[]}),n.createElement(l.B4.j6,{value:e?.detail?.supply_token_list||[]}),d&&n.createElement(l.B4.En,{value:(Array.isArray(e?.detail?.reward_token_list)?e?.detail?.reward_token_list||[]:[e?.detail?.reward_token_list]).filter(Boolean)}),p&&n.createElement(l.B4.qp,{value:e?.detail?.unlock_at}),n.createElement(l.B4._A,{value:e?.stats?.net_usd_value})),s&&n.createElement(o.B,{className:"px-16 pt-[0] pb-[17px] mt-[-6px]",actionKeys:[c?"default":"","default",(0,o.s)(e,"withdraw")?"withdraw":"default",d?(0,o.s)(e,"claim")?"claim":"default":"",p?"default":"","default"],portfolio:e,protocolLogo:a||"",protocolName:r}))})))))}));r()}catch(e){r(e)}}))},784820:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>u});var n=a(667294),l=a(856939),o=a(136474),s=a(616625),i=a(730985),c=a(62569),d=a(719174),p=a(878367),m=e([p]);p=(m.then?(await m)():m)[0];const u=(0,n.memo)((e=>{const{tag:t,protocolLogo:a,protocolName:r}=e,m=e.data,u=["Pool","Balance"],x=m.some((e=>e?.detail?.description!==undefined)),g=m.some((e=>e?.detail?.reward_token_list!==undefined));return g&&u.push("Rewards"),x&&u.unshift(""),u.push("USD Value"),n.createElement(s.s_,{tag:t,subTag:n.createElement(s.gg,{item:m[0]})},n.createElement(s.iA,null,n.createElement(s.iA.Header,{headers:u}),n.createElement(s.iA.Body,null,m.map((e=>{const t=(0,i.mB)((0,c.B)(e?.detail?.supply_nft_list??[]),(e=>e.amount||0)),m=(0,p.s)(e);return n.createElement(n.Fragment,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`},n.createElement(s.iA.Row,{key:`${e?.name}`,className:m?"border-b-0 px-16 pb-0":"px-16 py-[5px]"},x&&n.createElement(s.B4.Ld,{value:e?.detail?.description}),n.createElement(s.B4.nk,{value:e?.detail?.supply_token_list||[],nfts:t}),n.createElement(s.B4.jo,{tokens:e?.detail?.supply_token_list||[],nfts:t}),g&&n.createElement(s.B4.En,{value:(Array.isArray(e?.detail?.reward_token_list)?e?.detail?.reward_token_list||[]:[e?.detail?.reward_token_list]).filter(Boolean)}),n.createElement(s.iA.Col,{className:"text-[14px] text-r-neutral-title1"},n.createElement("div",{className:"flex items-center justify-end text-[14px] text-r-neutral-title1"},(0,d.xv)(e?.stats?.net_usd_value),!!t.length&&n.createElement(o.y,{title:"NFT value not included."},n.createElement(l.r,{width:12,height:12,style:{marginLeft:4}}))))),m&&n.createElement(p.B,{className:"px-16 pt-[0] pb-[17px] mt-[-6px]",actionKeys:[x?"default":"","default",(0,p.s)(e,"withdraw")?"withdraw":"default",g?(0,p.s)(e,"claim")?"claim":"default":"","default"],portfolio:e,protocolLogo:a||"",protocolName:r}))})))))}));r()}catch(e){r(e)}}))},254566:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(667294),n=a(52887),l=a(856939),o=a(136474),s=a(616625),i=a(62569),c=a(719174),d=a(156851),p=a(799238);const m=s.iA.Col,u=(0,r.memo)((e=>{const{t}=(0,n.$G)(),{tag:a}=e,l=e.data;return r.createElement(s.s_,{tag:a,subTag:r.createElement(s.gg,{item:l[0]})},r.createElement(s.iA,null,r.createElement(s.iA.Header,{headers:["Collection","Balance","USD Value"]}),r.createElement(s.iA.Body,null,l.sort(((e,t)=>t?.stats?.net_usd_value||e?.stats?.net_usd_value?(t?.stats?.net_usd_value||0)-(e?.stats?.net_usd_value||0):(t?.detail?.share_token?.amount||0)-(e?.detail?.share_token?.amount||0))).map((t=>r.createElement(x,{key:`${t?.position_index}-${t?.pool?.id}-${t.name}`,collection:t?.detail?.collection,usdValue:t?.stats?.net_usd_value,amount:t?.detail?.share_token?.amount,symbol:t?.detail?.share_token?.symbol,controller:t?.pool?.controller,name:e.name,siteUrl:e.siteUrl}))))))})),x=({collection:e,usdValue:t,amount:a,symbol:u="",controller:x,name:g,siteUrl:f})=>{const{t:b}=(0,n.$G)(),h=(0,i.S)(e);return e?r.createElement(s.iA.Row,null,r.createElement(m,null,r.createElement(d.Z,{icon:r.createElement(p.y,{logoClassName:"rounded-[4px]",className:"mr-[8px]",size:24,logo:e.logo_url}),labelClassName:"text-[14px] text-r-neutral-title1",label:h})),r.createElement(m,null,r.createElement("div",{className:"text-[14px] text-r-neutral-title1 px-[10px] py-[15px]"},(0,c.dN)(a??0)," ",u)),r.createElement(m,null,t?r.createElement("div",{className:"flex items-center justify-end text-[14px] text-r-neutral-title1"},(0,c.xv)(t),r.createElement(o.y,{title:"Calculate based on the price of the linked ERC20 token."},r.createElement(l.r,{width:12,height:12,style:{marginLeft:4}}))):"-")):null}},203411:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>v});var n=a(667294),l=a(52887),o=a(386010),s=a(856939),i=a(136474),c=a(736306),d=a(616625),p=a(730985),m=a(62569),u=a(719174),x=a(156851),g=a(799238),f=a(878367),b=e([f]);f=(b.then?(await b)():b)[0];const h=d.iA.Col,v=(0,n.memo)((e=>{const{t}=(0,l.$G)(),{tag:a,protocolLogo:r,protocolName:b}=e,v=e.data;return n.createElement(n.Fragment,null,v.map((e=>{const t=e?.detail?.supply_token_list||[],l=e?.detail?.supply_nft_list||[],E=e?.detail?.borrow_token_list||[],y=(0,f.s)(e,"withdraw"),k=(0,f.s)(e,"claim");return n.createElement(d.s_,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`,proposalTag:n.createElement(d.QC,{content:a}),subTag:n.createElement(d.gg,{item:v[0]}),moreContent:n.createElement(d.Tk,{className:"ml-12"},e?.detail?.health_rate?n.createElement(d.KV,{k:n.createElement(c.C,{ghost:!0,className:"text-13 text-r-neutral-foot font-normal",title:"Your assets will be liquidated if the health factor is less than or equal to 1"},"Health Rate"),v:e?.detail?.health_rate<=10?e?.detail?.health_rate.toFixed(2):">10",vClassName:(0,o.Z)(e?.detail?.health_rate<1.1?"text-r-red-default":e?.detail?.health_rate<1.2?"text-r-orange-default":"text-r-neutral-title1")}):null)},n.createElement("div",null,t.length>0||l.length>0?n.createElement(d.iA,null,n.createElement(d.iA.Header,{headers:["Supplied","Balance","USD Value"]}),n.createElement(d.iA.Body,null,(0,m.B)(e?.detail?.supply_nft_list??[]).map((e=>{const t=e.collection,a=t?.floor_price_token,r=a?a.amount*a.price*e.amount:0,n=r?(0,u.xv)(r):"-",l=(0,m.S)(t);return{...e,usdValue:r,_usdValue:n,collectionName:l}})).sort(((e,t)=>t.usdValue-e.usdValue)).map((e=>n.createElement(d.iA.Row,{key:e?.id,className:"border-b-0 px-16 py-[5px]"},n.createElement(h,null,n.createElement(x.Z,{icon:n.createElement(g.y,{logoClassName:"rounded-[4px]",className:"mr-[8px]",size:24,logo:e.collection.logo_url}),label:n.createElement("span",{className:"text-[14px] text-r-neutral-title1"},e.collectionName)})),n.createElement(h,null,n.createElement("div",{className:"text-[14px] text-r-neutral-title1 px-[10px] py-[15px]"},n.createElement("span",null,e.collectionName)," x",e.amount)),n.createElement(h,null,e.usdValue?n.createElement("div",{className:"flex items-center justify-end text-[14px] text-r-neutral-title1"},e._usdValue,n.createElement(i.y,{title:"Calculated based on the floor price recognized by this protocol."},n.createElement(s.r,{width:12,height:12,style:{marginLeft:4}}))):"-")))),(0,p.mB)(t,(e=>e.amount*(e.price||0)))?.map(((e,a)=>{const r=a===(t?.length||0)-1;return n.createElement(d.iA.Row,{key:e?.id,className:(0,o.Z)(r&&y?"px-16 pb-0 border-b-0":"px-16 py-[5px]")},n.createElement(d.B4.WU,{value:e}),n.createElement(d.B4.yo,{value:e}),n.createElement(d.B4._A,{value:e.amount*e.price}))})),y&&n.createElement(f.B,{className:"px-16 pt-[0] pb-[17px] mt-[-6px]",actionKeys:["default","withdraw","default"],portfolio:e,protocolLogo:r||"",protocolName:b}))):null,E?.length>0?n.createElement(d.iA,null,n.createElement(d.iA.Header,{headers:["Borrowed","Balance","USD Value"]}),n.createElement(d.iA.Body,null,(0,p.mB)(E,(e=>e.amount*(e.price||0)))?.map(((e,t)=>{const a=t===(E?.length||0)-1;return n.createElement(d.iA.Row,{key:e?.id,className:(0,o.Z)(a&&k?"px-16 pb-0 border-b-0":"px-16 py-[5px]")},n.createElement(d.B4.WU,{value:e}),n.createElement(d.B4.yo,{value:e}),n.createElement(d.B4._A,{value:e.amount*e.price}))})),k&&n.createElement(f.B,{className:"px-16 pt-[0] pb-[17px] mt-[-6px]",actionKeys:["default","claim","default"],portfolio:e,protocolLogo:r||"",protocolName:b}))):null))})))}));r()}catch(e){r(e)}}))},134394:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>i});var n=a(667294),l=a(616625),o=a(878367),s=e([o]);o=(s.then?(await s)():s)[0];const i=(0,n.memo)((e=>{const{tag:t,protocolLogo:a,protocolName:r}=e,s=e.data;return n.createElement(n.Fragment,null,s.map((e=>{const i=(0,o.s)(e);return n.createElement(l.s_,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`,proposalTag:n.createElement(l.QC,{content:t}),subTag:n.createElement(l.gg,{item:s[0]})},n.createElement("div",null,n.createElement(l.B4.bG,{name:"Supplied",tokens:e?.detail?.supply_nft_list}),n.createElement(l.B4.uK,{name:"Borrowed",tokens:e?.detail?.borrow_token_list}),n.createElement(l.B4.uK,{name:"Rewards",tokens:e?.detail?.reward_token_list})),i&&n.createElement(o.B,{className:"px-16 pt-[0] pb-[17px]",actionKeys:[(0,o.s)(e,"withdraw")?"withdraw":"default","default",(0,o.s)(e,"claim")?"claim":"default"],portfolio:e,protocolLogo:a||"",protocolName:r}))})))}));r()}catch(e){r(e)}}))},959553:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>i});var n=a(667294),l=a(616625),o=a(878367),s=e([o]);o=(s.then?(await s)():s)[0];const i=(0,n.memo)((e=>{const{tag:t,protocolLogo:a,protocolName:r}=e,s=e.data;return n.createElement(n.Fragment,null,s.map((e=>{const i=(0,o.s)(e);return n.createElement(l.s_,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`,proposalTag:n.createElement(l.QC,{content:t}),subTag:n.createElement(l.gg,{item:s[0]})},n.createElement("div",null,n.createElement(l.B4.bG,{name:"Lent against",tokens:e?.detail?.nft_list}),n.createElement(l.B4.uK,{name:"Supplied",tokens:e?.detail?.supply_token_list}),n.createElement(l.B4.uK,{name:"Rewards",tokens:e?.detail?.reward_token_list})),i&&n.createElement(o.B,{className:"px-16 pt-[0] pb-[17px]",actionKeys:["default",(0,o.s)(e,"withdraw")?"withdraw":"default",(0,o.s)(e,"claim")?"claim":"default"],portfolio:e,protocolLogo:a||"",protocolName:r}))})))}));r()}catch(e){r(e)}}))},325391:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(667294),n=a(616625);const l=(0,r.memo)((e=>{const{tag:t}=e,a=e.data;return r.createElement(r.Fragment,null,a.map((e=>{const l=e?.detail?.collateral_token_list||[];return r.createElement(n.s_,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`,proposalTag:r.createElement(n.QC,{content:t}),subTag:r.createElement(n.gg,{item:a[0]})},r.createElement("div",null,r.createElement(n.iA,null,r.createElement(n.iA.Header,{headers:["Type","Underlying","Strike","Style","Expiration","USD Value"]}),r.createElement(n.iA.Body,null,r.createElement(n.iA.Row,null,r.createElement(n.B4.Ld,{value:e?.detail?.type}),r.createElement(n.B4.j6,{value:e?.detail?.underlying_token}),r.createElement(n.B4.j6,{value:e?.detail?.strike_token}),r.createElement(n.B4.Ld,{value:e?.detail?.style}),r.createElement(n.B4.qp,{value:e?.detail?.exercise_end_at}),r.createElement(n.B4._A,{value:e?.stats?.net_usd_value})))),Boolean(l?.length)&&r.createElement(n.iA,null,r.createElement(n.iA.Header,{headers:["Collateral","Balance","USD Value"]}),r.createElement(n.iA.Body,null,l.map((e=>r.createElement(n.iA.Row,{key:e?.id,className:"border-b-0 px-16 py-[5px]"},r.createElement(n.B4.WU,{value:e}),r.createElement(n.B4.yo,{value:e}),r.createElement(n.B4.Yn,{value:e}))))))))})))}))},710307:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(667294),n=a(616625);const l=(0,r.memo)((e=>{const{tag:t}=e,a=e.data,l=(0,r.useMemo)((()=>a.some((e=>e?.detail?.description!==undefined))),[a]),o=(0,r.useMemo)((()=>{const e=["Currency Pair","Side","Leverage","Margin","P&L","USD Value"];return l&&e.unshift(""),e}),[l]);return r.createElement(r.Fragment,null,a.map((e=>r.createElement(n.s_,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`,proposalTag:r.createElement(n.QC,{content:t}),subTag:r.createElement(n.gg,{item:a[0]})},r.createElement(n.iA,null,r.createElement(n.iA.Header,{headers:o}),r.createElement(n.iA.Body,null,r.createElement(n.iA.Row,null,l&&r.createElement(n.B4.Ld,{value:e?.detail?.description}),r.createElement(n.B4.T6,{value:[e?.detail?.base_token,e?.detail?.quote_token].filter(Boolean)}),r.createElement(n.B4.Ld,{value:e.detail.side}),r.createElement(n.B4.Ld,{value:e?.detail?.leverage?.toFixed(2)+"x"}),r.createElement(n.B4.yo,{value:e?.detail?.margin_token}),r.createElement(n.B4._A,{value:e.detail.pnl_usd_value||0}),r.createElement(n.B4._A,{value:e.stats.net_usd_value}))))))))}))},832990:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(667294),n=a(616625),l=a(157786);const o=(0,r.memo)((e=>{const{tag:t}=e,a=e.data,o=["Name","Side","Amount","Price","USD Value"];return r.createElement(r.Fragment,null,a.map((e=>r.createElement(n.s_,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`,tag:t,subTag:r.createElement(n.gg,{item:a[0]})},r.createElement(n.iA,{widths:[360]},r.createElement(n.iA.Header,{headers:o}),r.createElement(n.iA.Body,null,r.createElement(n.iA.Row,{className:"px-16 py-[5px]"},r.createElement(n.B4.Ld,{value:e?.detail?.name}),r.createElement(n.B4.Ld,{value:e?.detail?.side}),r.createElement(n.B4.Ld,{value:(0,l.dN)(e?.detail?.amount||0)}),r.createElement(n.B4.Ld,{value:(0,l.T4)(e?.detail?.price||0)}),r.createElement(n.B4._A,{value:e?.stats?.net_usd_value}))))))))}))},274361:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>i});var n=a(667294),l=a(616625),o=a(878367),s=e([o]);o=(s.then?(await s)():s)[0];const i=(0,n.memo)((e=>{const{tag:t,protocolLogo:a,protocolName:r}=e,s=e.data;return n.createElement(l.s_,{tag:t,subTag:n.createElement(l.gg,{item:s[0]})},n.createElement(l.iA,null,n.createElement(l.iA.Header,{headers:["Pool","Balance","USD Value"]}),n.createElement(l.iA.Body,null,s.map((e=>{const t=(0,o.s)(e);return n.createElement(n.Fragment,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`},n.createElement(l.iA.Row,{className:t?"border-b-0 px-16 pb-0":"px-16 py-[5px]"},n.createElement(l.B4.nk,{value:e?.detail?.token_list||[]}),n.createElement(l.B4.j6,{value:e?.detail?.token_list||[]}),n.createElement(l.B4._A,{value:e?.stats?.net_usd_value})),t&&n.createElement(o.B,{className:"px-16 pt-[0] pb-[17px]",actionKeys:["default",(0,o.s)(e,"withdraw")?"withdraw":"default",(0,o.s)(e,"claim")?"claim":"default"],portfolio:e,protocolLogo:a||"",protocolName:r}))})))))}));r()}catch(e){r(e)}}))},47962:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(667294),n=a(658804),l=a(616625),o=a(52887);const s=n.ZP.span.withConfig({displayName:"rabby--Description",componentId:"rabby--1qolghd"})`
  margin-right: 8px;
`,i=n.ZP.span.withConfig({displayName:"rabby--UnsupportedText",componentId:"rabby--1a3hko7"})`
  margin-top: 10px;
  font-weight: 500;
  text-align: center;
  color: var(--r-neutral-foot);
`,c=(0,r.memo)((e=>{const{tag:t}=e,a=e.data,n=[a.some((e=>!!e?.detail?.description))?"Name":"","USD Value"],{t:c}=(0,o.$G)();return r.createElement(l.s_,{tag:t,subTag:r.createElement(l.gg,{item:a[0]})},r.createElement(l.iA,null,r.createElement(l.iA.Header,{headers:n}),r.createElement(l.iA.Body,null,a.map((e=>r.createElement(l.iA.Row,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`},r.createElement(l.B4.Ld,{value:r.createElement(r.Fragment,null,e?.detail?.description?r.createElement(s,null,e?.detail?.description):null,r.createElement(i,null,c("page.dashboard.assets.table.unsupportedPoolType")))}),r.createElement(l.B4._A,{value:e.stats.net_usd_value})))))))}))},510897:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{Z:()=>i});var n=a(667294),l=a(616625),o=a(878367),s=e([o]);o=(s.then?(await s)():s)[0];const i=(0,n.memo)((e=>{const{tag:t,protocolLogo:a,protocolName:r}=e,s=e.data,i=["Pool","Balance"],c=s.some((e=>e?.detail?.daily_unlock_amount!==undefined)),d=s.some((e=>e?.detail?.end_at!==undefined)),p=s.some((e=>void 0!==e?.detail?.token?.claimable_amount));return p&&i.push("Claimable Amount"),c&&i.push("Daily Unlock Amount"),d&&i.push("End Time"),i.push("USD Value"),n.createElement(l.s_,{tag:t,subTag:n.createElement(l.gg,{item:s[0]})},n.createElement(l.iA,null,n.createElement(l.iA.Header,{headers:i}),n.createElement(l.iA.Body,null,s.map(((e,t)=>{const s=(0,o.s)(e);return n.createElement(n.Fragment,{key:`${e?.position_index}-${e?.pool?.id}-${e.name}`},n.createElement(l.iA.Row,{key:t,className:s?"border-b-0 px-16 pb-0":"px-16 py-[5px]"},n.createElement(l.B4.WU,{value:e?.detail?.token}),n.createElement(l.B4.yo,{value:e?.detail?.token}),p&&n.createElement(l.B4.dl,{value:e?.detail?.token?.claimable_amount}),c&&n.createElement(l.B4.dl,{value:e?.detail?.daily_unlock_amount}),d&&n.createElement(l.B4.qp,{value:e?.detail?.end_at}),n.createElement(l.B4._A,{value:e?.stats?.net_usd_value})),s&&n.createElement(o.B,{className:"px-16 pt-[0] pb-[17px]",actionKeys:["default",(0,o.s)(e,"withdraw")?"withdraw":"default",p?(0,o.s)(e,"claim")?"claim":"default":"",c?"default":"",d?"default":"","default"],portfolio:e,protocolLogo:a||"",protocolName:r}))})))))}));r()}catch(e){r(e)}}))},206869:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{EE:()=>l.Z,Ey:()=>v.Z,G7:()=>b.Z,Gn:()=>n.Z,Je:()=>s.Z,M3:()=>g.Z,PZ:()=>i.Z,Ph:()=>x.Z,QM:()=>o.Z,Qp:()=>c.Z,R6:()=>m.Z,WA:()=>u.Z,db:()=>f.Z,qX:()=>h.Z,s7:()=>d.Z});var n=a(824245),l=a(556217),o=a(636326),s=a(326945),i=a(510897),c=a(274361),d=a(325391),p=a(685293),m=(a(978153),a(47962)),u=a(710307),x=a(784820),g=a(203411),f=a(254566),b=a(134394),h=a(959553),v=a(832990),E=e([n,l,o,s,i,c,p,x,g,b,h]);[n,l,o,s,i,c,p,x,g,b,h]=E.then?(await E)():E,r()}catch(e){r(e)}}))},730985:(e,t,a)=>{a.d(t,{mB:()=>N,G1:()=>k,lz:()=>y,yI:()=>w,x6:()=>P});var r,n=a(667294),l=a(62569),o=a(719174),s=a(136474);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i.apply(this,arguments)}function c(e){return n.createElement("svg",i({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=n.createElement("path",{d:"M8.167 1.634c0 .059.116.175.291.467.175.292.35.583.584 1.05.233.467.525.875.816 1.4.292.525.642 1.05.934 1.575.291.525.641 1.108.933 1.633.292.525.583 1.05.875 1.459.233.466.467.816.7 1.166.233.35.292.525.408.642.117.233.234.467.234.7.058.233 0 .408-.059.642-.058.233-.175.35-.291.466a.986.986 0 01-.584.175H1.225c-.35 0-.642-.058-.817-.175a.907.907 0 01-.35-.466.994.994 0 010-.584c.059-.233.117-.408.292-.641.058-.117.175-.292.35-.642.175-.292.408-.7.7-1.108.292-.467.583-.934.875-1.459.292-.525.642-1.108.992-1.633.35-.525.641-1.108.933-1.633.292-.525.583-.992.817-1.4.233-.409.466-.759.641-1.05l.292-.467c.117-.175.292-.35.525-.467.233-.116.408-.175.642-.175.233 0 .408.059.641.117.117.058.292.233.409.408zm-.35 2.684c0-.117 0-.234-.059-.292-.058-.117-.116-.175-.175-.233a1.275 1.275 0 00-.291-.175c-.117-.059-.234-.117-.35-.117a.749.749 0 00-.584.233c-.175.175-.291.35-.291.584v3.616c0 .234.116.409.291.584s.35.233.584.233a.749.749 0 00.583-.233c.175-.175.292-.35.292-.584V4.318zm-.875 5.25c-.234 0-.467.058-.584.233-.116.175-.233.35-.233.583 0 .234.058.467.233.584.175.175.35.233.584.233.233 0 .466-.058.583-.233a.749.749 0 00.233-.584c0-.233-.058-.466-.233-.583-.117-.175-.35-.233-.583-.233z",fill:"#FF453A"})))}a.p;var d=a(855944),p=a(893379),m=a.n(p),u=a(693246),x={insert:"head",singleton:!1};m()(u.Z,x);u.Z.locals;const g=a(960398).zp.reduce(((e,t,a)=>({...e,[t.serverId]:{...t,sortIdx:a}})),{});function f(e,t,a,r=d.Z){return e?n.createElement("img",{src:e,style:{...a,width:t||20,height:t||20},onError:e=>{e.target.src=d.Z}}):n.createElement("img",{src:r,style:{...a,width:t||20,height:t||20},alt:""})}const b=(0,n.memo)((e=>{const{icons:t,width:a=20,chain:r,nftIcons:l}=e,o=Array.isArray(t)?t:[t],s=[...(l??[]).map((e=>f(e,a,{borderRadius:4}))),...o.map((e=>f(e,a)))],i=1===s.length?a:a+(s.length-1)*(a-8);return n.createElement("div",{style:{width:i,height:a},className:"tokenIcons"},s.map(((e,t)=>n.createElement("div",{style:{position:"absolute",left:t*(a-8)+"px",width:a,height:a},key:t},e))),r&&"eth"!==r&&n.createElement("img",{style:{right:2},src:g[r]?.logo,alt:"",className:"chain"}))}));var h=a(156851),v=a(394231),E=a(386010);function y(e=[],t=" + ",a){const r=n.createElement(b,{width:24,nftIcons:a?.map((e=>e.collection?.logo_url)),icons:e.map((e=>e?.logo_url))}),o=n.createElement(n.Fragment,null,e.filter((e=>!!e)).map(((e,a)=>n.createElement(n.Fragment,{key:a},a?t:null,n.createElement(v.c,{token:e,canClickToken:!!e?.id&&!!e?.chain,isNft:!1,textClassName:(0,E.Z)("text-r-neutral-title1 text-14 whitespace-nowrap overflow-ellipsis overflow-hidden","no-underline",e?.id&&e?.chain?"cursor-pointer hover:text-r-blue-default hover:underline ":"")}))))),s=n.createElement(n.Fragment,null,a?.map(((e,a)=>n.createElement(n.Fragment,{key:a},a?t:null,n.createElement("span",null,(0,l.S)(e.collection))))),t,o);return n.createElement(h.Z,{labelClassName:"text-[14px] text-r-neutral-title1 flex-1",label:a?.length?s:o,icon:r})}function k({tokens:e=[],withPrice:t=!1}){return n.createElement(n.Fragment,null,e.map(((e,a)=>e&&n.createElement("div",{key:e.id,className:"flex text-[14px] text-r-neutral-title1 items-center",style:{marginTop:0===a?0:4}},`${(0,o.dN)(e.amount)} `,n.createElement(v.c,{token:e,canClickToken:!!e?.id&&!!e?.chain,isNft:!1,textClassName:(0,E.Z)("text-r-neutral-title1 text-14 whitespace-nowrap overflow-ellipsis overflow-hidden","no-underline",e?.id&&e?.chain?"cursor-pointer hover:text-r-blue-default hover:underline ":"")})," ",0!==e.price&&t&&n.createElement("span",{className:"ml-6"},`(${(0,o.xv)((e.price??0)*e.amount)})`),!e.price&&n.createElement(s.y,{title:"No price available at the moment"},n.createElement(c,{width:14,height:14,style:{marginLeft:2}}))))))}function w(e=[],t=0){return e.every((e=>!e.price))?"-":`${(0,o.QJ)(e.reduce(((e,t)=>e+(t.price||0)*t.amount),0).toString(),t)}`}function N(e,t,a){try{return[...e].sort(((e,r)=>{const n=t(e)-t(r);return a?n:-n}))}catch(t){return e}}const P=(e,t)=>{if(e===undefined||null===e||isNaN(+e))return"-";let a;return"string"==typeof e&&(e=+e),a=t!==undefined?e.toFixed(t).split("."):e.toString().split("."),a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),a.join(".")}},62569:(e,t,a)=>{a.d(t,{B:()=>l,S:()=>o});var r=a(607739),n=a.n(r);const l=e=>{const t=n()(e,(e=>e.collection.id));return Object.values(t).map((e=>{const t=e.reduce(((e,t)=>e+=t.amount),0);return{...e[0],amount:t}}))},o=e=>e?e.symbol||e.name:""},696915:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{R:()=>P});var n=a(386010),l=a(667294),o=a(52887),s=a(665037),i=a(719174),c=a(605708),d=a(681544),p=a(498211),m=a(291043),u=a(625284),x=a(839781),g=a(660317),f=a(658804),b=a(893857),h=a(547886),v=a(443885),E=a(739978),y=e([u,E]);[u,E]=y.then?(await y)():y;const k=(0,f.ZP)(x.lE).withConfig({displayName:"rabby--TokenRowWrapper",componentId:"rabby--1xovg6m"})`
  border-bottom: 1px solid var(--rb-neutral-bg-4, #f2f4f7);
  height: 60px;
  padding-left: 12px;
  padding-right: 16px;
  .swap-action-btn {
    display: none !important;
  }
  &:hover {
    background-color: var(--rb-neutral-bg-2, #f2f4f7);
    .swap-action-btn {
      display: block !important;
    }
  }
  &:last-child {
    border-bottom-color: transparent;
  }
`,w=({item:e,style:t,onClick:a})=>l.createElement(k,{onClick:a,style:t},l.createElement(b.Mx,{item:e}),l.createElement(g.Zs,{item:e}),l.createElement(g.Px,{item:e}),l.createElement(g.Bg,{item:e,className:"flex-1 text-14 font-normal"})),N=({list:e,EmptyComponent:t})=>{const{t:a}=(0,o.$G)();return l.createElement(x.iA,{className:"!w-full ml-0 mr-0"},l.createElement(x.Pg,{className:"w-full justify-between bg-rb-neutral-bg-1 rounded-[6px] py-8",rowClassName:"px-8"},l.createElement(x._b,{className:"flex-1"},a("page.desktopProfile.portfolio.table.token")),l.createElement(x._b,{className:"flex-1"},a("page.desktopProfile.portfolio.table.chain")),l.createElement(x._b,{className:"flex-1"},a("page.desktopProfile.portfolio.table.tokenAddress")),l.createElement(x._b,{className:"flex-1 text-right"},a("page.desktopProfile.portfolio.table.amount"))),l.createElement(x.XP,{className:"mt-0"},e?.map((e=>l.createElement(w,{key:`${e.chainId}-${e.id}`,item:e})))))},P=({search:e,className:t,selectChainId:a})=>{const{t:r}=(0,o.$G)(),{currentAccount:x}=(0,s.L5)((e=>({currentAccount:e.account.currentAccount}))),[g,f]=((0,h.k6)(),l.useState(!1)),[b,y]=(0,l.useState)(!1),[k,w]=(0,l.useState)(!1),P=(0,i.Os)(),{data:C,loading:S,mutate:_,refreshAsync:M}=(0,c.Z)((async()=>P.getCustomTestnetTokenList({address:x.address,isRemote:!0,q:e})),{refreshDeps:[x,e],onSuccess(e){f(!0)}}),A=(0,l.useMemo)((()=>a?C?.filter((e=>String(e.chainId)===a)):C),[C,a]);return g?l.createElement("div",{className:t},S?l.createElement(d.j,null):l.createElement("div",{className:"mt-18"},l.createElement(N,{list:A||[],onAdd:e=>{_((t=>(t||[]).find((t=>(0,m.Wz)(t,e)))?t:[...t||[],e]))},onRemove:e=>{_((t=>(t||[]).filter((t=>!(0,m.Wz)(t,e)))))}})),l.createElement("div",{className:"flex items-center justify-between mt-12 gap-x-[24px] widget-has-ant-input"},l.createElement("div",{className:"flex items-center gap-x-[12px]"},l.createElement("div",{className:(0,n.Z)("rounded-[6px] bg-r-neutral-card1 px-[9px] py-[10px] cursor-pointer min-w-[292px]"," border border-rabby-blue-default min-w-[82px] text-center","hover:border-rabby-blue-default hover:bg-r-blue-light1")},l.createElement("div",{className:(0,n.Z)("text-r-blue-default text-[13px] leading-[13px] font-medium cursor-pointer","flex items-center gap-x-[4px] justify-center"),onClick:()=>{(0,u.m)({category:"Custom Network",action:"TokenList Add Network"}),y(!0)}},l.createElement("span",{className:"text-r-blue-default"},l.createElement(p.r,null)),r("page.dashboard.assets.TestnetAssetListContainer.addNetwork"))),l.createElement("div",{className:(0,n.Z)("rounded-[6px] bg-r-neutral-card1 px-[9px] py-[10px] cursor-pointer min-w-[292px]"," border border-rabby-blue-default min-w-[82px] text-center","hover:border-rabby-blue-default hover:bg-r-blue-light1")},l.createElement("div",{className:(0,n.Z)("text-r-blue-default text-[13px] leading-[13px] font-medium cursor-pointer","flex items-center gap-x-[4px] justify-center"),onClick:()=>{w(!0)}},l.createElement("span",{className:"text-r-blue-default"},l.createElement(p.r,null)),r("page.dashboard.assets.TestnetAssetListContainer.addToken"))))),l.createElement(E._,{visible:b,onCancel:()=>{y(!1)},onChange:()=>{M()},destroyOnClose:!0}),l.createElement(v.C,{visible:k,onCancel:()=>{w(!1)},onOk:()=>{w(!1),M()},destroyOnClose:!0})):l.createElement(d.j,null)};r()}catch(e){r(e)}}))},893857:(e,t,a)=>{a.d(t,{J9:()=>P,Mx:()=>E});var r=a(667294),n=a(839781),l=a(855944),o=a(62462),s=a(449654),i=a(291043),c=a(547886),d=a(394231),p=a(658804),m=a(52887),u=a(496486),x=a(386010),g=a(660686),f=a(450572);const b={token:352,price:280,amount:280,usdValue:118},h=({onClick:e,text:t})=>r.createElement("div",{onClick:e,className:"\n        swap-action-btn\n        px-10 h-[24px] leading-[24px] \n        text-r-blue-default text-12 font-medium rounded-[6px] \n        border-[0.5px] border-r-blue-default w-min whitespace-nowrap cursor-pointer \n        hover:bg-r-blue-light1\n      "},t),v=({item:e,disableSwap:t,disableSend:a})=>{const{t:p}=(0,m.$G)(),u=(0,i.Ed)({serverId:e.chain}),x=(0,c.k6)(),v=(0,r.useCallback)((()=>{x.replace(x.location.pathname+`?action=swap&chain=${e.chain}&payTokenId=${e._tokenId}`)}),[x,e._tokenId,e.chain]),E=(0,r.useCallback)((()=>{x.replace(x.location.pathname+`?action=send&token=${e.chain}:${e._tokenId}`)}),[x,e._tokenId,e.chain]);return r.createElement(n.Jo,{className:"py-8 flex gap-10 items-center overflow-hidden flex-1",style:{width:b.token}},r.createElement("div",{className:"relative h-[24px]"},r.createElement(o.Z,{className:"w-24 h-24 rounded-full",src:e.logo_url||l.Z,alt:e.symbol,fallback:l.Z,preview:!1}),r.createElement(s.m,{title:u?.name,className:"rectangle w-[max-content]"},r.createElement("img",{className:"w-14 h-14 absolute right-[-4px] bottom-[-4px] rounded-full",src:u?.logo||l.Z,alt:e.chain}))),r.createElement("div",{className:"flex flex-1 flex-row items-center gap-[12px] overflow-hidden"},r.createElement("div",{className:"flex items-center gap-4 max-w-[190px]"},r.createElement(d.c,{token:{...e,id:e._tokenId},isNft:!1,textClassName:"\n              cursor-pointer no-underline\n              text-r-neutral-title1 text-14 whitespace-nowrap overflow-ellipsis overflow-hidden\n              hover:text-r-blue-default hover:underline \n            "}),(0,g.MB)(e)&&r.createElement(f.T,{protocolName:e.protocol_id||""})),!t&&r.createElement(h,{onClick:v,text:p("page.desktopProfile.portfolio.actions.swap")}),!a&&r.createElement(h,{onClick:E,text:p("page.desktopProfile.portfolio.actions.send")})))},E=({item:e})=>{const{t}=(0,m.$G)(),a=(0,i.Ed)({id:e.chainId}),p=(0,c.k6)(),u=(0,r.useCallback)((()=>{p.replace(p.location.pathname+`?action=send&token=${a?.serverId}:${e.id}`)}),[a?.serverId,p,e.id]);return r.createElement(n.Jo,{className:"py-8 flex gap-10 flex-1 items-center overflow-hidden"},r.createElement("div",{className:"relative h-[24px]"},r.createElement(o.Z,{className:"w-24 h-24 rounded-full",src:e.logo||l.Z,alt:e.symbol,fallback:l.Z,preview:!1}),r.createElement(s.m,{title:a?.name,className:"rectangle w-[max-content]"},r.createElement("img",{className:"w-14 h-14 absolute right-[-4px] bottom-[-4px] rounded-full",src:a?.logo||l.Z,alt:a?.name}))),r.createElement("div",{className:"flex flex-1 flex-row items-center gap-[12px] overflow-hidden"},r.createElement(d.c,{token:{...e,id:e.id,chain:a?.serverId||"",display_symbol:e.symbol,is_core:!1,is_verified:!0,is_wallet:!1,is_scam:!1,is_suspicious:!1,logo_url:e.logo||"",name:e.symbol,optimized_symbol:e.symbol,price:0,symbol:e.symbol,time_at:0,price_24h_change:0},isNft:!1,textClassName:"\n            cursor-pointer no-underline\n            text-r-neutral-title1 text-14 whitespace-nowrap overflow-ellipsis overflow-hidden\n            hover:text-r-blue-default hover:underline \n          "}),r.createElement(h,{onClick:u,text:t("page.desktopProfile.portfolio.actions.send")})))},y=({item:e})=>r.createElement(n.Jo,{className:"py-8 text-r-neutral-title1 text-14 truncate flex-1",style:{width:b.amount}},`${e._amountStr} `,r.createElement(d.c,{token:{...e,id:e._tokenId},isNft:!1,textClassName:"\n            cursor-pointer no-underline\n            text-r-neutral-title1 text-14 whitespace-nowrap overflow-ellipsis overflow-hidden\n            hover:text-r-blue-default hover:underline \n          "})),k=({item:e})=>r.createElement(n.Jo,{className:"text-r-neutral-title1 text-14  truncate flex items-center gap-4 flex-1",style:{width:b.price}},r.createElement("div",null,"$",e._priceStr),(0,u.isNil)(e.price_24h_change)?null:r.createElement("div",{className:(0,x.Z)("font-normal text-12",{"text-green":e.price_24h_change>0,"text-red-forbidden":e.price_24h_change<0})},e.price_24h_change>0?"+":"",(100*e.price_24h_change).toFixed(2),"%")),w=({item:e})=>r.createElement(n.Jo,{className:"py-8 text-r-neutral-title1 text-14 text-right truncate",style:{width:b.usdValue}},e._usdValueStr||"<$0.01"),N=(0,p.ZP)(n.lE).withConfig({displayName:"rabby--TokenRowWrapper",componentId:"rabby--1n616m8"})`
  border-bottom: 1px solid var(--rb-neutral-bg-4, #ebedf0);
  height: 60px;
  padding-left: 8px !important;
  padding-right: 8px !important;
  .swap-action-btn {
    display: none !important;
  }
  &:hover {
    background-color: var(--rb-neutral-bg-2, #f2f4f7);
    .swap-action-btn {
      display: block !important;
    }
  }
  &:last-child {
    border-bottom-color: transparent;
  }
`,P=({item:e,style:t,onClick:a})=>r.createElement(N,{onClick:a,style:t},r.createElement(v,{item:e}),r.createElement(k,{item:e}),r.createElement(y,{item:e}),r.createElement(w,{item:e}))},835136:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{n:()=>h});var n=a(667294),l=a(122166),o=a(799858),s=a(52887),i=a(658804),c=a(835355),d=a(386010),p=a(308362),m=a(552317),u=a(696915),x=a(189348),g=a(496486),f=e([u]);u=(f.then?(await f)():f)[0];const b=i.ZP.div.withConfig({displayName:"rabby--ListContainer",componentId:"rabby--ch08uh"})`
  background-color: var(--rb-neutral-bg-3, #f9f9f9);
  border-radius: 16px;
  padding: 16px;
  margin: 0 20px 20px;
`,h=({list:e,isNoResults:t,totalValue:a,selectedTab:r,isSearch:i,searchList:f,search:h,lpTokenMode:v})=>{const{result:E,isExpanded:y,toggleExpand:k,hasExpandSwitch:w}=(0,l.$)(e,a),{t:N}=(0,s.$G)();return n.createElement("div",{className:"protocol-item-wrapper",id:m.L},n.createElement(b,null,"mainnet"===r?t?n.createElement(p.p,{text:N(v?"page.dashboard.assets.table.noLpTokens":"page.dashboard.assets.table.noTokens")}):n.createElement(n.Fragment,null,n.createElement(o.u,{list:i?(0,g.uniqBy)((0,x.M3)(f,e||[],h||""),(e=>`${e.chain}-${e.id}`)):E,EmptyComponent:i?n.createElement(p.p,{text:N("page.dashboard.assets.table.noMatch")}):v?n.createElement(p.p,{text:N("page.dashboard.assets.table.noLpTokens")}):n.createElement("div",null)}),i?null:w&&n.createElement("div",{onClick:k,className:"flex items-center justify-center gap-4 py-[16px]"},n.createElement("div",{className:"text-rb-neutral-secondary text-13 cursor-pointer"},N(y?"page.desktopProfile.portfolio.hidden.hideSmall":"page.desktopProfile.portfolio.hidden.hideSmallDesc")),n.createElement("div",{className:"flex items-center justify-center gap-[2px] cursor-pointer"},y?null:n.createElement("div",{className:"text-rb-neutral-secondary text-13 underline"},N("page.desktopProfile.portfolio.hidden.showAll")),n.createElement(c.r,{className:(0,d.Z)("ml-0 text-rb-neutral-secondary",{"transform rotate-180":y})})))):n.createElement(u.R,{search:h})))};r()}catch(e){r(e)}}))},308362:(e,t,a)=>{a.d(t,{p:()=>g});var r,n,l,o,s,i,c,d=a(667294);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},p.apply(this,arguments)}function m(e){return d.createElement("svg",p({width:160,height:160,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=d.createElement("path",{d:"M86.262 142.699c33.298 0 60.293-26.995 60.293-60.412s-27.114-60.412-60.293-60.412c-33.298 0-60.293 26.995-60.293 60.412s26.995 60.412 60.293 60.412zM142.626 42.681a4.876 4.876 0 100-9.753 4.876 4.876 0 000 9.753zM149.759 23.66a3.33 3.33 0 100-6.66 3.33 3.33 0 000 6.66zM29.174 42.566a3.33 3.33 0 100-6.66 3.33 3.33 0 000 6.66zM8.84 106.79a6.184 6.184 0 100-12.368 6.184 6.184 0 000 12.368z",fill:"#F2F4F7"})),n||(n=d.createElement("path",{d:"M76.692 53.699l25.548 52.455c.853 1.818.099 3.931-1.718 4.785l-51.535 24.339a3.566 3.566 0 01-4.785-1.719L12.18 65.668a3.566 3.566 0 011.718-4.785L51.194 43.32 76.692 53.7z",fill:"#fff",stroke:"#E0E5EC",strokeWidth:2,strokeMiterlimit:10})),l||(l=d.createElement("path",{d:"M51.188 43.32l6.83 14.54c.992 2 3.544 2.88 5.544 1.89l13.124-6.051",fill:"#E0E5EC"})),o||(o=d.createElement("path",{d:"M121.942 58.927l.74 58.342a3.567 3.567 0 01-3.594 3.595l-56.994.038a3.565 3.565 0 01-3.595-3.594l-.015-75.065a3.566 3.566 0 013.594-3.595l41.226.019 18.638 20.26z",fill:"#fff",stroke:"#E0E5EC",strokeWidth:2,strokeMiterlimit:10})),s||(s=d.createElement("path",{d:"M103.303 38.664l-.022 16.064c.044 2.232 1.977 4.117 4.208 4.073l14.451.123",fill:"#E0E5EC"})),i||(i=d.createElement("path",{d:"M157.805 84.799l-23.833 53.319c-.793 1.8-3.01 2.587-4.783 1.695l-51.634-23.81c-1.799-.793-2.587-3.01-1.794-4.809l31.448-68.115c.793-1.799 3.01-2.587 4.783-1.694l37.493 17.32 8.32 26.094z",fill:"#fff",stroke:"#E0E5EC",strokeWidth:2,strokeMiterlimit:10})),c||(c=d.createElement("path",{d:"M149.384 58.688l-6.719 14.608c-.971 2.07.061 4.562 2.131 5.533l13.006 5.979",fill:"#E0E5EC"})))}a.p;var u=a(386010),x=a(52887);const g=({className:e,text:t})=>{const{t:a}=(0,x.$G)();return t=t||a("page.dashboard.assets.table.lowValueDescription"),d.createElement("div",{className:(0,u.Z)("h-full flex flex-col justify-center items-center py-[100px]",e)},d.createElement(m,{className:"m-auto"}),d.createElement("div",{className:"mt-[8px] text-r-neutral-foot text-13 font-medium text-center"},t))}},159632:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{A:()=>k});var n=a(667294),l=a(681544),o=a(88681),s=a(244431),i=a(535974),c=a(21233),d=a(690673),p=a(877983),m=a(386010),u=a(52887),x=a(131921),g=a(835136),f=a(950678),b=a(658804),h=a(294881),v=a(547626),E=e([g,v]);[g,v]=E.then?(await E)():E;const y=(0,b.ZP)(p.Z).withConfig({displayName:"rabby--StyledInput",componentId:"rabby--j0djct"})`
  .ant-input {
    background: transparent;
    color: var(--rb-neutral-title-1, #192945);
  }
`,k=({sortTokens:e,isTokensLoading:t,isNoResults:a,hasTokens:r,selectChainId:p,lpTokenMode:b,setLpTokenMode:E,searchValue:k,setSearchValue:w})=>{const{t:N}=(0,u.$G)(),P=(0,c.t)(),[C,S]=(0,n.useState)(!1),{selectedTab:_,onTabChange:M,isShowTestnet:A}=(0,o.LI)(),I="mainnet"===_,L=(0,d.ZP)(k,300),{isLoading:Z,list:T}=(0,i.ZP)(P?.address,L,{chainServerId:p||undefined,withBalance:!0,isTestnet:"testnet"===_}),O=p?(T||[]).filter((e=>e.chain===p)):T||[],$=Z||k!==L,z=n.useMemo((()=>e?.reduce(((e,t)=>e.plus(t.is_core&&t._usdValue||0)),new s.BigNumber(0)).toNumber()),[e]);return I&&t&&!r?n.createElement("div",{className:"mx-20"},n.createElement(l.b,null)):n.createElement(n.Fragment,null,n.createElement("div",{className:(0,m.Z)("flex items-center justify-between py-[14px] px-[20px]","bg-rb-neutral-bg-1","sticky z-10"),style:{top:v.P+57}},n.createElement("div",{className:"flex items-center gap-[16px] widget-has-ant-input"},n.createElement(y,{prefix:n.createElement(h.r,{className:"w-[14px] h-[14px]"}),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,className:(0,m.Z)({active:C},"w-[345px] h-[40px]","px-12 text-rb-neutral-title-1 text-[14px]","bg-rb-neutral-card-1","border   rounded-[12px]",C?"border-rb-brand-default":"border-rb-neutral-line"),placeholder:N("page.dashboard.assets.table.searchToken"),value:k,onChange:e=>w(e.target.value),allowClear:!0,onFocus:()=>{S(!0)},onBlur:()=>{S(!1)}})),n.createElement("div",{className:"flex items-center gap-[16px]"},"mainnet"===_&&n.createElement(f.u,{lpTokenMode:b,onLpTokenModeChange:E}),A&&n.createElement(x.Z,{value:_,onTabChange:M}))),t||$?I?n.createElement("div",{className:"mx-20"},n.createElement(l.j,null)):null:n.createElement(g.n,{list:e,isNoResults:a,totalValue:z,selectedTab:_,searchList:O,isSearch:!!k,search:k,lpTokenMode:b}))};r()}catch(e){r(e)}}))},799858:(e,t,a)=>{a.d(t,{u:()=>i});var r=a(667294),n=a(839781),l=a(278092),o=a(893857),s=a(52887);const i=({list:e,virtual:t,EmptyComponent:a})=>{const{t:i}=(0,s.$G)();return r.createElement(r.Fragment,null,a&&!e?.length?a:r.createElement(n.iA,{className:"!w-full ml-0 mr-0"},r.createElement(n.Pg,{className:"w-full justify-between bg-rb-neutral-bg-1 rounded-[6px] py-8",rowClassName:"px-8"},r.createElement(n._b,{className:"w-[352px] flex-1"},i("page.desktopProfile.portfolio.table.token")),r.createElement(n._b,{className:"flex-1 w-[280px]"},i("page.desktopProfile.portfolio.table.price")),r.createElement(n._b,{className:"flex-1 w-[280px]"},i("page.desktopProfile.portfolio.table.amount")),r.createElement(n._b,{className:"w-[118px] text-right"},i("page.desktopProfile.portfolio.table.usdValue"))),r.createElement(n.XP,{className:"mt-0"},t?r.createElement(l.t7,{height:t.height,width:"100%",itemData:e,itemCount:e?.length||0,itemSize:t.itemSize},(({data:t,index:a,style:n})=>{const l=t[a],s=a===(e?.length||0)-1;return r.createElement(o.J9,{style:n,key:`${l.chain}-${l.id}`,item:l,isLast:s})})):e?.map(((t,a)=>{const n=a===(e?.length||0)-1;return r.createElement(o.J9,{key:`${t.chain}-${t.id}`,item:t,isLast:n})})))))}},474785:(e,t,a)=>{a.d(t,{ZP:()=>u,fN:()=>p,yM:()=>m});var r=a(667294),n=a(650971),l=a(658804),o=a(386010),s=a(890604);const i=l.ZP.div.withConfig({displayName:"rabby--AnchorWrapper",componentId:"rabby--1ys9ffj"})`
  background-color: var(--r-neutral-bg-1);
  padding: 10px 0;
  width: 100%;
  border-bottom: 1px solid var(--r-neutral-line);
  display: flex;
  align-items: center;
  gap: 6px;
  justify-content: space-between;
`,c=l.ZP.div.withConfig({displayName:"rabby--CenterWrapper",componentId:"rabby--13zympr"})`
  overflow: auto;
  position: static;
  scrollbar-width: none;
  margin: 0 auto;
  flex: 1;
  /* firefox */
  -ms-overflow-style: none;
  /* IE 10+ */
  white-space: nowrap;
  overflow: auto;
  max-width: 100%;
`,d=l.ZP.div.withConfig({displayName:"rabby--DirectionIcon",componentId:"rabby--1ix0g6b"})`
  width: 24px;
  height: 24px;
  margin-top: -3px;
  background-color: var(--r-neutral-bg-2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
`,p="top-shortcut-slot",m="protocol-list-wrapper",u=(0,r.memo)((({projects:e})=>{const[t,a]=(0,r.useState)(""),l=(0,r.useRef)(null),[u,x]=(0,r.useState)(!1),[,g]=(0,r.useState)({}),[f,b]=(0,r.useState)(!1),[h,v]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!l.current)return;const e=l.current.getBoundingClientRect().width,t=l.current.scrollWidth>e;if(e<970)return v(!1),void b(!1);v(t)}),[e,u]),(0,r.useEffect)((()=>{const e=document.getElementById("root")?.firstChild,t=t=>{if(!l.current)return;if(e.scrollTop>270){const e=document.getElementById(p),t=document.getElementById(m),a=document.getElementById("_anchor");parent&&a&&(a.style.width=t?.clientWidth-2+"px",e.style.width=t?.clientWidth-2+"px",e?.parentElement?.style?.paddingBottom&&(e.parentElement.style.paddingBottom="0px"),e?.appendChild(a)),x(!0)}else x(!1);if(!e)return;let r=Infinity,n=0,o=[...e.querySelectorAll(".protocol-item-wrapper")];if(o=o.filter((e=>"none"!==e.parentElement?.style.display)),0===o.length)return;function s(e){return e.getBoundingClientRect()}o.forEach(((e,t)=>{const{top:a}=e.getBoundingClientRect(),l=a-143;l<=r&&l>=0&&(n=t,r=l)})),a(o[n].id);const i=l.current?.querySelector(`a[href="#${o[n].id}"]`);if(!i)return;const{left:c}=s(i),{left:d,width:u}=s(l.current),g=c-d;if(g<0||g>u){const e=l.current.scrollLeft;l.current.scrollTo({left:e+(g<0?-u/2:u/2)})}};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[e,u]),(0,r.useEffect)((()=>()=>{const e=document.getElementById("_anchor");if(e){document.getElementById(p).removeChild(e),e.style.display="none"}}),[]);const E=(e=!1,t=970)=>{if(!l.current)return;const a=l.current.scrollLeft;l.current.scrollTo({left:a-(e?-t:t),behavior:"smooth"}),g({})};return r.createElement(i,{id:"_anchor",style:{display:u?"flex":"none"}},r.createElement(d,{className:(0,o.Z)("rotate-180",{"opacity-0":!f}),onClick:()=>{f&&E(!1)}},r.createElement(s.r,{className:"w-[16px] h-[16px] text-rb-neutral-secondary"})),r.createElement(c,{ref:l,onScroll:e=>{if(!l.current)return;b(e.target.scrollLeft>10);const t=l.current.getBoundingClientRect().width,a=l.current.scrollLeft+t<l.current.scrollWidth;v(a)}},e.map((e=>{if(!e)return null;const a=e.name;return 0!==e.netWorth||e._portfolios?.length?r.createElement("a",{href:`#${e.id}`,onClick:t=>{t.preventDefault(),(0,n.p)(e.id,!0)},className:(0,o.Z)("inline-block mr-[4px] w-[100px] h-[32px] px-[10px] truncate","text-r-neutral-title1 rounded-[12px] bg-r-neutral-bg-2","leading-[32px] text-r-neutral-body text-center",t===e.id?" text-rb-brand-default bg-rb-brand-light-1":""),key:e.id},a||e.id):null}))),r.createElement(d,{className:(0,o.Z)({"opacity-0":!h}),onClick:()=>{h&&E(!0)}},r.createElement(s.r,{className:"w-[16px] h-[16px] text-rb-neutral-secondary"})))}))},131921:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(667294),n=a(87765),l=a(88681),o=a(386010);function s(e){const t=(0,l.XE)();return r.createElement(n.Z,{...e,className:(0,o.Z)("flex h-[30px] p-[2px] rounded-[8px]"," bg-rb-neutral-bg-4"),itemClassname:(0,o.Z)("px-[12px] py-[6px] text-[12px] leading-[14px] w-auto"),itemClassnameActive:"bg-rb-neutral-bg-1 text-r-neutral-body rounded-[6px]",itemClassnameInActive:(0,o.Z)("text-rb-neutral-foot"),options:t})}},552317:(e,t,a)=>{a.d(t,{L:()=>r});const r="token-wallet-anchor"},287694:(e,t,a)=>{a.d(t,{f:()=>c});var r=a(889638),n=a(278588),l=a(665037),o=a(719174),s=a(15374),i=a(667294);const c=({selectChainId:e,allTokenMode:t})=>{const[a,c]=(0,i.useState)(!1),{currentAccount:d}=(0,l.L5)((e=>({currentAccount:e.account.currentAccount}))),{setApps:p}=(0,o.Ew)(),{isTokensLoading:m,isAllTokenLoading:u,isPortfoliosLoading:x,portfolios:g,tokens:f,hasTokens:b,removeProtocol:h,portfolioNetWorth:v,refreshPositions:E}=(0,s.o)(d?.address,!1,!0,!1,a,!0,t),{data:y,netWorth:k,isLoading:w}=(0,r.Id)(d?.address,!0,!1),N=(0,i.useMemo)((()=>(v||0)+(k||0)),[v,k]),P=(0,i.useMemo)((()=>e?f.filter((t=>t.chain===e)):f),[f,e]),C=(0,i.useMemo)((()=>{const t=[...g||[],...y||[]].sort(((e,t)=>(t.netWorth||0)-(e.netWorth||0)));return e?t?.filter((t=>t.chain===e)):t}),[g,y,e]),S=(0,n.Z)(P);(0,i.useEffect)((()=>{y&&p(y.map((e=>({logo:e.logo||"",name:e.name,id:e.id,usd_value:e.netWorth||0}))))}),[y]);const _=(0,i.useMemo)((()=>[...new Set(y?.map((e=>e.id))||[])]),[y]),M=!(m||x||w||S.length||C?.length);return{isTokensLoading:m,isAllTokenLoading:u,isPortfoliosLoading:x,portfolios:g,tokenList:f,hasTokens:b,removeProtocol:h,portfolioNetWorth:v,appPortfolios:y,appPortfolioNetWorth:k,isAppPortfoliosLoading:w,currentPortfolioNetWorth:N,displayTokenList:P,displayPortfolios:C,sortTokens:S,lpTokenMode:a,setLpTokenMode:c,appIds:_,isNoResults:M,refreshPositions:E}}},45372:(e,t,a)=>{a.d(t,{$:()=>l});var r=a(154580),n=a(667294);const l=(e,t,a)=>{const{on:l,toggle:o,turn:s}=(0,r.h)(a),{thresholdIndex:i,hasExpandSwitch:c}=(0,n.useMemo)((()=>((e,t)=>{const a=e?.length||0,r=Math.min(.001*(t||0),1e3),n=e?e.findIndex((e=>(e._usdValue||e.netWorth||0)<r)):-1;return{thresholdIndex:n,hasExpandSwitch:a>=3&&n>-1&&n<=a-4}})(e,t)),[e,t]),d=(0,n.useMemo)((()=>l||!c?e:e?.slice(0,i)),[l,e,i,c]),p=(0,n.useMemo)((()=>(e?.length||0)-(i||0)),[e?.length,i]);return{hasExpandSwitch:c,isExpanded:l,result:d,smallLength:p,thresholdIndex:i,toggleExpand:o,turnExpand:s}}},650971:(e,t,a)=>{a.d(t,{p:()=>r});a(795026),a(719174);const r=(e,t)=>{const a=document.getElementById(e);if(!a)return;const r=a.getBoundingClientRect().y,n=document.querySelector(".js-scroll-element");if(!n)return;const l=n.scrollTop;n?.scrollTo({top:l+r-103-(t?117:0),behavior:"smooth"})}},329357:(e,t,a)=>{a.d(t,{u:()=>S});var r=a(667294),n=a(52887),l=a(697680),o=a(950911),s=a(719174),i=a(133860);const c=({count:e=1,active:t=!1})=>r.createElement("div",null,new Array(e).fill(null).map(((e,a)=>r.createElement("div",{key:a,className:"flex h-[100px] items-center border-b-[0.5px] px-16 border-rabby-neutral-line"},r.createElement("div",{className:"min-w-[180px] flex-shrink-0 flex-grow "},r.createElement(i.Z.Button,{active:t,className:"h-[13px] mb-[6px] block",style:{width:120}}),r.createElement("div",{className:"flex items-center gap-[6px] mt-1"},r.createElement(i.Z.Avatar,{active:t,size:16,shape:"circle",className:"flex-shrink-0"}),r.createElement(i.Z.Button,{active:t,className:"h-[14px] block",style:{width:80}}))),r.createElement("div",{className:"flex-[2] min-w-0 mx-4"},r.createElement(i.Z.Button,{active:t,className:"h-[14px] mb-[6px] block",style:{width:200}}),r.createElement(i.Z.Button,{active:t,className:"h-[14px] block",style:{width:150}})),r.createElement("div",{className:"flex-[2] min-w-0 mx-4"},r.createElement("div",{className:"flex items-center gap-[6px] mb-[6px]"},r.createElement(i.Z.Avatar,{active:t,size:16,shape:"circle",className:"flex-shrink-0"}),r.createElement(i.Z.Button,{active:t,className:"h-[13px] block",style:{width:100}})),r.createElement("div",{className:"flex items-center gap-[6px]"},r.createElement(i.Z.Avatar,{active:t,size:16,shape:"circle",className:"flex-shrink-0"}),r.createElement(i.Z.Button,{active:t,className:"h-[14px] block",style:{width:80}}))),r.createElement("div",{className:"w-[200px] flex-shrink-0 text-right"},r.createElement(i.Z.Button,{active:t,className:"h-[14px] block ml-auto",style:{width:150}}))))));var d=a(496486),p=a(21233),m=a(386010),u=a(875864),x=a(276505),g=a(449654),f=a(855944),b=a(387991),h=a(674018);const v=({data:e,projectDict:t,tokenDict:a,cateDict:l})=>{const s="cancel"===e.cate_id,i="approve"===e.cate_id,c=e.project_id?t[e.project_id]:null,{t:d}=(0,n.$G)(),p=r.createElement("span",null,c?.name?c.name:e.other_addr?r.createElement(o.Dn,{className:"justify-start",nameClass:"text-[14px] leading-[17px] font-normal",copyIconClass:"w-[14px] h-[14px]",address:e.other_addr,copyIcon:!e.is_scam}):"");let m;if(s)m=r.createElement("div",{className:"text-[14px] leading-[17px] text-r-neutral-title1"},d("page.transactions.explain.cancel"));else if(i){const t=e.token_approve?.token_id||"",n=`${e.chain}_token:${t}`,l=a[t]||a[n],o=e.token_approve?.value||0;m=r.createElement("div",{className:"text-[14px] leading-[17px] text-r-neutral-title1"},"Approve ",o<1e9?o.toFixed(4):"infinite"," ",`${(0,h.EG)(l)} for `,p)}else m=r.createElement(r.Fragment,null,r.createElement("div",{className:"text-[14px] leading-[17px] text-r-neutral-title1"},l[e.cate_id||""]?.name??(e.tx?.name||d("page.transactions.explain.unknown"))),r.createElement("div",{className:"text-[14px] leading-[17px] text-r-neutral-title1"},p));return r.createElement("div",{className:"flex items-center gap-[8px]"},r.createElement(o.e8,{src:t[e.project_id]?.logo_url,cateId:e.cate_id,className:"w-[32px] h-[32px] rounded-[4px]"}),r.createElement("div",{className:"flex flex-col gap-[6px]"},m))},E=({data:e,cateDict:t,projectDict:a,tokenDict:l})=>{const o=(0,u.zK)(e.chain),i=0===e.tx?.status,c=e.is_scam,d=(0,r.useCallback)((()=>{if(o){const t=(0,u.bU)(o?.scanLink,e.id);(0,s.Ku)(t)}}),[o]),{t:p}=(0,n.$G)();return o?r.createElement("div",{className:(0,m.Z)("flex min-h-[100px] items-center border-b-[0.5px] py-[8px] border-rabby-neutral-line relative",(c||i)&&"opacity-50")},c&&r.createElement(g.m,{title:p("page.transactions.txHistory.scamToolTip"),className:"rectangle w-[max-content] max-w-[340px]"},r.createElement("div",{className:"tag-scam absolute top-0 text-[12px] leading-[14px] text-r-neutral-foot left-0 px-[6px] py-[3px] bg-r-neutral-card2",style:{borderRadius:"0 0 8px 0"}},p("global.scamTx"))),r.createElement("div",{className:"min-w-[225px] flex-shrink-0 flex-grow"},r.createElement("div",{className:"flex items-center gap-1"},r.createElement("span",{className:"text-[14px] leading-[17px]  text-rb-neutral-secondary"},(0,s.FT)(e.time_at))),r.createElement("div",{className:"flex items-center gap-[6px] mt-[6px]"},r.createElement("img",{src:o.logo||f.Z,alt:o.name,className:"w-16 h-16 rounded-full"}),r.createElement("a",{className:"underline cursor-pointer text-[14px] leading-[17px] text-r-neutral-foot",onClick:d},(0,b.LH)(e.id)))),r.createElement("div",{className:"flex-[2] min-w-0 mx-4"},r.createElement(v,{data:e,projectDict:a,tokenDict:l,cateDict:t})),r.createElement("div",{className:"flex-[2] mx-4 min-w-0"},r.createElement(x.o,{data:e,tokenDict:l})),r.createElement("div",{className:"w-[220px] flex-shrink-0 text-right"},e.tx&&e.tx?.eth_gas_fee?r.createElement("div",{className:"text-[14px] leading-[17px] text-r-neutral-foot"},"Gas fee: ",(0,s.Fv)(e.tx?.eth_gas_fee,4)," ",o?.nativeTokenSymbol," ($",(0,s.Fv)(e.tx?.usd_gas_fee??0,2),")"):r.createElement("div",null),i&&r.createElement("span",{className:"text-[14px] leading-[17px] text-r-red-default"},p("global.failed")))):null};var y=a(482501),k=a(657754),w=a(222638),N=a(605708),P=a(757016);const C=e=>{const{t}=(0,n.$G)(),a=(0,s.Os)(),l=(0,p.t)(),i=(0,w.Z)((e=>(0,a.openapi.getAllTxHistory)(e).then((e=>(e.history_list&&(e.history_list=e.history_list.filter((e=>!e.is_scam))),e))))),m=(0,w.Z)((async()=>{const{address:e}=l;if(await a.getAPIConfig([],"ApiLevel",!1)>=1)return{list:[]};const t=await i({id:e}),{project_dict:r,cate_dict:n,history_list:o}=t,s=o.map((e=>({...e,projectDict:r,cateDict:n,tokenDict:"token_dict"in t?t.token_dict:undefined,tokenUUIDDict:"token_uuid_dict"in t?t.token_uuid_dict:undefined}))).sort(((e,t)=>t.time_at-e.time_at));return{last:(0,d.last)(s)?.time_at,list:s}})),{data:u,loading:x}=(0,N.Z)((()=>m()),{refreshDeps:[l?.address],ready:!!l&&e.visible}),g=(u?.list?.length||0)<=0&&!x;return r.createElement(P.Z,{...e,width:1148,title:null,className:"modal-support-darkmode global-desktop-modal",bodyStyle:{background:"transparent",padding:0,height:"720px"},centered:!0,maskClosable:!0,footer:null,zIndex:1e3,maskStyle:{zIndex:1e3,backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},destroyOnClose:!0},r.createElement("header",{className:"text-center py-[15px] sticky top-0 z-10 bg-rb-neutral-bg-1 relative"},r.createElement("div",{className:"text-[20px] leading-[24px] font-medium text-rb-neutral-title-1"},t("page.transactions.filterScam.title")),r.createElement("div",{className:"text-[13px] leading-[16px] text-rb-neutral-foot"},t("page.transactions.filterScam.loading")),r.createElement("div",{className:"absolute right-[20px] top-0 bottom-0 flex items-center"},r.createElement("div",{onClick:e.onCancel},r.createElement(k.r,{viewBox:"0 0 14 14",className:"w-[20px] h-[20px] text-r-neutral-foot hover:text-r-neutral-title-1 cursor-pointer"})))),r.createElement("section",{className:"px-[34px] pb-[34px]"},x?r.createElement("div",{className:"overflow-hidden"},r.createElement(c,{count:8,active:!0})):r.createElement(r.Fragment,null,g?r.createElement(o.HY,{title:t("page.transactions.empty.title"),className:"pt-[108px]"}):r.createElement("div",{className:"overflow-hidden"},u?.list?.map((e=>r.createElement(E,{key:e.id,data:e,projectDict:e.projectDict,cateDict:e.cateDict,tokenDict:e.tokenDict||e.tokenUUIDDict||{}})))))))},S=({scrollContainerRef:e,selectChainId:t})=>{const a=(0,s.Os)(),{t:i}=(0,n.$G)(),u=(0,p.t)(),[x,g]=r.useState(!1),{data:f,loading:b,loadingMore:h,loadMore:v}=(0,l.Z)((e=>(async(e=0)=>{const{address:r}=u;if(e&&await(0,s._v)(500),await a.getAPIConfig([],"ApiLevel",!1)>=1)return{list:[]};const n=a.openapi.listTxHisotry,l=await n({id:r,start_time:e,page_count:20,chain_id:t||undefined}),{project_dict:o,cate_dict:i,history_list:c}=l,p=c.map((e=>({...e,projectDict:o,cateDict:i,tokenDict:"token_dict"in l?l.token_dict:undefined,tokenUUIDDict:"token_uuid_dict"in l?l.token_uuid_dict:undefined}))).sort(((e,t)=>t.time_at-e.time_at));return{last:(0,d.last)(p)?.time_at,list:p}})(e?.last)),{target:e,reloadDeps:[t,u?.address],isNoMore:e=>!e?.last||(e?.list.length||0)<20}),k=(f?.list?.length||0)<=0&&!b,[w,N]=r.useState(null);return r.createElement("div",{className:"pb-[16px] px-[20px]"},b?r.createElement("div",{className:"overflow-hidden"},r.createElement(c,{count:8,active:!0})):r.createElement(r.Fragment,null,r.createElement("div",{className:(0,m.Z)("mt-[12px] mb-[10px]","inline-flex items-center gap-[4px] rounded-[8px] py-[6px] px-[8px] bg-rb-neutral-bg-3","text-[14px] leading-[18px] font-medium text-rb-neutral-foot","hover:bg-rb-brand-light-1 hover:text-rb-brand-default","cursor-pointer"),onClick:()=>{g(!0)}},i("page.transactions.filterScam.button"),r.createElement(y.Fb,null)),k?r.createElement(o.HY,{title:i("page.transactions.empty.title"),className:"pt-[108px]"}):r.createElement("div",{className:"overflow-hidden"},f?.list?.map((e=>r.createElement(E,{key:e.id,data:e,projectDict:e.projectDict,cateDict:e.cateDict,tokenDict:e.tokenDict||e.tokenUUIDDict||{}}))),h&&r.createElement(c,{count:3,active:!0}))),r.createElement(C,{visible:x,onCancel:()=>g(!1)}))}},295898:(e,t,a)=>{a.d(t,{O:()=>i});var r=a(667294),n=a(856548),l=a(939353),o=a(418340),s=a(2636);const i=({address:e})=>{const{currentHomeBalanceCache:t}=(0,n.b4)(e),a=(0,r.useRef)(!!t?.balance),[i,c]=(0,r.useState)(a?.current?-1:0),[d,p]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!a?.current)return;const e=setTimeout((()=>{c((e=>e+1))}),l.u.TIMEOUT);return()=>{clearTimeout(e)}}),[]);const{balance:m,evmBalance:u,appChainIds:x,matteredChainBalances:g,chainBalancesWithValue:f,success:b,balanceLoading:h,balanceFromCache:v,isCurrentBalanceExpired:E,refreshBalance:y,missingList:k}=(0,o.Z)(e,{update:!0,noNeedBalance:!1,nonce:i,initBalanceFromLocalCache:!!t?.balance}),{curveData:w,curveChartData:N,refresh:P,isCurveCollectionExpired:C,isLoading:S}=(0,s.E)(e,{nonce:i,realtimeNetWorth:u,initData:t?.originalCurveData}),{balance:_,evmBalance:M,curveChartData:A,matteredChainBalances:I,chainBalancesWithValue:L,appChainIds:Z}=(0,r.useMemo)((()=>{const e=m||t?.balance;return{balance:e,evmBalance:u||t?.evmBalance,appChainIds:x||t?.appChainIds,curveChartData:N||(0,s.s)(t?.originalCurveData||[],e,Date.now()),matteredChainBalances:g.length?g:t?.matteredChainBalances||[],chainBalancesWithValue:f.length?f:t?.chainBalancesWithValue||[]}}),[m,u,g,f,N,t]),T=(0,r.useCallback)((async()=>{const e={balanceExpired:await E(),curveExpired:await C(),expired:!1};return e.expired=e.balanceExpired||e.curveExpired,e}),[E,C]),{isManualRefreshing:O,onRefresh:$}=(0,n.Sf)({currentAddress:e,refreshBalance:y,refreshCurve:P,isExpired:T});(0,r.useEffect)((()=>{(async()=>{let e=null;t?.balance?(e=await T())&&e.expired&&$({balanceExpired:e.balanceExpired,curveExpired:e.curveExpired,isManual:!1}):$({balanceExpired:!0,curveExpired:!0,isManual:!1})})()}),[]);const z=null===_||v&&0===_,B=!t?.balance||O;return{balance:_,evmBalance:M,curveChartData:A,isCurveLoading:z||B&&S,isBalanceLoading:z||B&&h,refreshCurve:P,refreshBalance:y,appChainIds:Z}}},126236:(e,t,a)=>{a.d(t,{H:()=>c});var r=a(439259),n=a(478051),l=a(222638),o=a(85980),s=a(783204),i=a(667294);const c=e=>{const t=(0,i.useRef)(!1),a=(0,l.Z)((async()=>{"visible"===document.visibilityState?e?.():t.current=!0})),{run:c}=(0,o.Z)(a,{wait:1e3});(0,i.useEffect)((()=>(n.Z.addEventListener(r.FP.RELOAD_TX,c),()=>{n.Z.removeEventListener(r.FP.RELOAD_TX,c)})),[c]),(0,s.Z)("visibilitychange",(()=>{"visible"===document.visibilityState&&t.current&&(t.current=!1,e?.())}),{target:()=>document})}},899690:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{q:()=>H});var n=a(667294),l=a(386010),o=a(52887),s=a(547626),i=a(694301),c=a(647428),d=a(51018),p=a(547886),m=a(861796),u=a(764798),x=a(505258),g=a(329357),f=a(169650),b=a(665037),h=a(291043),v=a(21233),E=a(295898),y=a(222638),k=a(913226),w=a(949359),N=a(445105),P=a(439259),C=a(126236),S=a(451898),_=a(465508),M=a(542415),A=a(582547),I=a(171905),L=a(883356),Z=a(79357),T=a(474785),O=a(59871),$=a(798306),z=a(818542),B=a(159632),F=a(795028),D=a(287694),R=a(174939),j=a(232250),V=e([s,m,x,k,w,N,_,I,O,B,F]);[s,m,x,k,w,N,_,I,O,B,F]=V.then?(await V)():V;const U=()=>n.createElement("div",{className:"sticky h-0 z-50",style:{top:s.P}},n.createElement("div",{className:(0,l.Z)("overflow-hidden absolute w-full h-[40px] pointer-events-none","flex justify-between")},n.createElement("div",{className:"relative left-[-10px] w-20 h-20 bg-rb-neutral-bg-1"}),n.createElement("div",{className:"relative right-[-10px] w-20 h-20 bg-rb-neutral-bg-1"}),n.createElement("div",{className:(0,l.Z)("absolute top-0 left-0 border border-b-0 border-solid border-rb-neutral-line bg-transparent ","w-full","h-[100px]  rounded-b-none ","rounded-[20px]")}))),H=({isActive:e=!0,style:t})=>{const{t:a}=(0,o.$G)(),r=(0,v.t)(),V=(0,p.k6)(),H=(0,p.TH)(),W=(0,b.$y)(),G=(0,n.useMemo)((()=>{const e=H.pathname.match(/^\/desktop\/profile(?:\/([^/?]+))?/);return e?.[1]||"tokens"}),[H.pathname]),{action:q,sendPageType:K}=(0,n.useMemo)((()=>{const e=new URLSearchParams(H.search);return{action:e.get("action"),sendPageType:e.get("sendPageType")}}),[H.search]),J=(0,b.L5)((e=>e.desktopProfile.chain)),Y=(0,n.useMemo)((()=>(0,h.Xj)(J)),[J]),Q=(0,n.useRef)(null),{balance:X,evmBalance:ee,curveChartData:te,isBalanceLoading:ae,isCurveLoading:re,appChainIds:ne,refreshBalance:le,refreshCurve:oe}=(0,E.O)({address:r?.address}),se=ae||re,[ie,ce]=(0,n.useState)(Date.now()),[de,pe]=(0,n.useState)(0);(0,n.useEffect)((()=>{se||ce(Date.now())}),[se]);const me=(0,y.Z)((async()=>{pe((e=>e+1)),$e(),await le(),await oe()})),[ue,xe]=(0,n.useState)([]),[ge,fe]=n.useState(""),{isTokensLoading:be,isAllTokenLoading:he,isPortfoliosLoading:ve,portfolios:Ee,tokenList:ye,hasTokens:ke,removeProtocol:we,portfolioNetWorth:Ne,appPortfolios:Pe,appPortfolioNetWorth:Ce,isAppPortfoliosLoading:Se,currentPortfolioNetWorth:_e,displayTokenList:Me,displayPortfolios:Ae,sortTokens:Ie,lpTokenMode:Le,setLpTokenMode:Ze,appIds:Te,isNoResults:Oe,refreshPositions:$e}=(0,D.f)({selectChainId:Y?.serverId,allTokenMode:!!ge});return(0,C.H)((async()=>{["tokens","transactions"].includes(G)&&pe((e=>e+1)),await le(),await oe()})),(0,n.useEffect)((0,y.Z)((()=>{"gnosis-queue"===q&&r?.type!==P.pY.GnosisKeyring&&V.replace(V.location.pathname),"send"===q&&"sendNft"===K&&V.replace(V.location.pathname)})),[r?.type,r?.address]),(0,$.m)(P.FP.DESKTOP.FOCUSED,(()=>{me()})),n.createElement(n.Fragment,null,n.createElement(R.y,{className:"w-full h-full bg-rb-neutral-bg-1 js-scroll-element px-[20px]",ref:Q,style:t},n.createElement("div",{className:"main-content flex-1 pb-[20px]"},n.createElement("div",{className:"layout-container"},n.createElement(s.j,null),n.createElement("div",{className:"sticky z-10 pt-[0px] overflow-scroll flex-initial px-1 w-auto",style:{width:0,scrollbarWidth:"none",top:s.P+57},id:T.fN},ue?.length>0&&"difi"===G&&n.createElement(T.ZP,{projects:ue||[]})),n.createElement(U,null),n.createElement("div",{className:"flex items-start gap-[20px]"},n.createElement("main",{className:"flex-1",id:T.yM},n.createElement("div",{key:de,className:(0,l.Z)("border border-t-0 border-solid border-rb-neutral-line","rounded-[20px] rounded-t-none")},n.createElement(i.g,{balance:X,evmBalance:ee,curveChartData:te,isLoading:ae||re,onRefresh:me,appChainIds:ne}),n.createElement(c.Z,{tabBarStyle:{position:"sticky",top:s.P},className:"overflow-visible",defaultActiveKey:G,activeKey:G,onChange:e=>{W.desktopProfile.setField({activeTab:e}),V.replace(`/desktop/profile/${e}`)},tabBarExtraContent:{right:n.createElement(n.Fragment,null,n.createElement("div",{className:"flex items-center gap-[16px] pr-[20px]"},n.createElement(z.I,null),n.createElement(f.y,{value:J,onChange:e=>W.desktopProfile.setField({chain:e})})))}},n.createElement(c.Z.TabPane,{tab:a("page.desktopProfile.tabs.tokens"),key:"tokens"},n.createElement(B.A,{searchValue:ge,setSearchValue:fe,isTokensLoading:!!be||!!Le&&!!he,isNoResults:Oe,sortTokens:Ie,hasTokens:ke,lpTokenMode:Le,setLpTokenMode:Ze,selectChainId:Y?.serverId})),n.createElement(c.Z.TabPane,{tab:a("page.desktopProfile.tabs.defi"),key:"difi"},n.createElement(n.Fragment,null,n.createElement(F.D,{onProjectOverviewListChange:xe,appIds:Te,displayPortfolios:Ae,currentPortfolioNetWorth:_e,isLoading:!!be||!!ve||!!Se,isNoResults:Oe,removeProtocol:we}))),n.createElement(c.Z.TabPane,{tab:"NFTs",key:"nft"},n.createElement(O.n,{selectChainId:Y?.serverId})),n.createElement(c.Z.TabPane,{tab:a("page.desktopProfile.tabs.transactions"),key:"transactions"},n.createElement(g.u,{selectChainId:Y?.serverId,scrollContainerRef:Q})),n.createElement(c.Z.TabPane,{tab:a("page.desktopProfile.tabs.approvals"),key:"approvals"},n.createElement(_.U,{isDesktop:!0,desktopChain:J,key:`${r?.address}-${r?.type}`})))),n.createElement("div",{className:"flex justify-end px-[20px]"},n.createElement(d.Z,{target:()=>Q.current||window,style:{bottom:32,zIndex:100,right:"initial"}},n.createElement(Z.Z,{src:L.Wn}))))))),n.createElement("aside",{className:(0,l.Z)("flex-shrink-0 sticky z-20 top-0 h-full flex flex-col")},n.createElement("div",{className:"flex items-center justify-end flex-shrink-0",style:{height:`${s.P}px`}},n.createElement(j.e,null)),n.createElement("div",{className:"flex-1"},n.createElement(u.W,null)))),n.createElement(m.a,{visible:"send"===q,onCancel:()=>{V.replace(V.location.pathname)}}),n.createElement(x.m,{visible:"swap"===q||"bridge"===q,action:q,onCancel:()=>{V.replace(V.location.pathname)}}),n.createElement(k.U,{visible:"send-nft"===q,onCancel:()=>{V.replace(V.location.pathname)},destroyOnClose:!0}),n.createElement(w.Z,{visible:"receive"===q,onCancel:()=>{V.replace(V.location.pathname)},destroyOnClose:!0}),n.createElement(N.h,{visible:"activities"===q,onCancel:()=>{V.replace(V.location.pathname)},destroyOnClose:!0}),n.createElement(S.H,{visible:"gnosis-queue"===q,onCancel:()=>{V.replace(V.location.pathname)},destroyOnClose:!0}),n.createElement(M.V,{visible:"address-detail"===q,onCancel:()=>{V.replace(V.location.pathname)},destroyOnClose:!0}),n.createElement(A.l,{visible:"address-backup"===q,onCancel:()=>{V.replace(V.location.pathname)},destroyOnClose:!0}),n.createElement(I.p,{visible:"add-address"===q,onCancel:()=>{V.replace(V.location.pathname)},destroyOnClose:!0}))};r()}catch(e){r(e)}}))},820154:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.r(t),a.d(t,{default:()=>g});var n=a(667294),l=a(547886),o=a(950911),s=a(231919),i=a(818803),c=a(899690),d=a(612800),p=a(53303),m=a(55141),u=a(386010),x=e([i,c,d,p,m]);[i,c,d,p,m]=x.then?(await x)():x;const g=()=>{const e=(0,l.TH)(),t="/desktop/dapp-iframe"===e.pathname,a="/desktop/perps"===e.pathname,r=e.pathname.startsWith("/desktop/profile"),x=(0,n.useRef)(!1),g=(0,n.useRef)(!1),f=(0,n.useRef)(!1);return t&&(x.current=!0),a&&(g.current=!0),r&&(f.current=!0),n.createElement(n.Fragment,null,f.current?n.createElement(o.Z6,null,n.createElement(c.q,{isActive:r,style:r?undefined:{display:"none"}})):null,g.current?n.createElement(o.Z6,null,n.createElement("div",{style:{display:a?"block":"none"},className:(0,u.Z)("h-full",a?"block":"hidden")},n.createElement(m.u,{isActive:a}))):null,x.current?n.createElement(o.Z6,null,n.createElement("div",{style:{display:t?"block":"none"},className:(0,u.Z)("h-full",t?"block":"hidden")},n.createElement(d.b,{isActive:t}))):null,"/unlock"!==e.pathname?n.createElement(n.Fragment,null,n.createElement(i.H,null),n.createElement(s.$,null),n.createElement(p.oM,{isDesktop:!0}),n.createElement(p.xE,{isDesktop:!0})):null)};r()}catch(e){r(e)}}))},478161:(e,t,a)=>{a.d(t,{Ey:()=>l});a(863355),a(167452);var r=a(244431),n=a.n(r);const l=e=>{if(!e||!e?.best_offer_order)return null;const t=e.best_offer_order,a=new(n())(t.price.value).div(new(n())(10).exponentiatedBy(t.price.decimals)),r=t.protocol_data.parameters.consideration.find((t=>t.token.toLowerCase()===e.contract_id.toLowerCase()))?.startAmount;return r?a.div(r):null}}}])})();