with((()=>{if(null==globalThis.__ru1n_qiuwen_scuttle_options__){const e=[{"file":"110.js","line":1,"col":17},{"file":"122.js","line":1,"col":17},{"file":"128.js","line":1,"col":17},{"file":"135.js","line":1,"col":17},{"file":"154.js","line":1,"col":17},{"file":"213.js","line":1,"col":17},{"file":"223.js","line":1,"col":17},{"file":"257.js","line":1,"col":17},{"file":"300.js","line":1,"col":17},{"file":"315.js","line":1,"col":17},{"file":"351.js","line":1,"col":17},{"file":"36.js","line":1,"col":17},{"file":"380.js","line":1,"col":17},{"file":"475.js","line":2,"col":17},{"file":"504.js","line":1,"col":17},{"file":"507.js","line":1,"col":17},{"file":"510.js","line":1,"col":17},{"file":"516.js","line":1,"col":17},{"file":"538.js","line":1,"col":17},{"file":"544.js","line":2,"col":17},{"file":"558.js","line":1,"col":17},{"file":"607.js","line":1,"col":17},{"file":"610.js","line":1,"col":17},{"file":"629.js","line":1,"col":17},{"file":"645.js","line":1,"col":17},{"file":"654.js","line":1,"col":17},{"file":"656.js","line":1,"col":17},{"file":"671.js","line":1,"col":17},{"file":"693.js","line":2,"col":17},{"file":"729.js","line":1,"col":17},{"file":"805.js","line":1,"col":17},{"file":"851.js","line":1,"col":17},{"file":"853.js","line":1,"col":17},{"file":"919.js","line":1,"col":17},{"file":"921.js","line":2,"col":17},{"file":"928.js","line":1,"col":17},{"file":"948.js","line":1,"col":17},{"file":"977.js","line":1,"col":17},{"file":"background.js","line":2,"col":17},{"file":"content-script.js","line":2,"col":17},{"file":"offscreen.js","line":2,"col":17},{"file":"sw.js","line":1,"col":6708},{"file":"ui.js","line":2,"col":17},{"file":"vendor/bitbox02/bitbox02-pairing.js","line":1,"col":17},{"file":"vendor/matomo.client.js","line":2,"col":17},{"file":"vendor/matomo.js","line":1,"col":17},{"file":"vendor/trezor/trezor-connect-webextension.js","line":1,"col":17},{"file":"vendor/trezor/trezor-content-script.js","line":1,"col":17},{"file":"webextension-polyfill.js","line":1,"col":17}]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ;Object.defineProperty(globalThis,"__ru1n_qiuwen_scuttle_options__",{configurable:!1,enumerable:!1,writable:!1,value:function e(t,T=new WeakSet){if(null===t||"object"!=typeof t)return t;if(T.has(t))return t;T.add(t),Object.freeze(t);for(const O of Reflect.ownKeys(t)){const L=t[O];L&&"object"==typeof L&&e(L,T)}return t}(e)})}})(),(()=>{if("__ru1n_qiuwen_myGlobal__"in globalThis)return;const e=Object.getOwnPropertyDescriptor,t=Object.defineProperty,T=Object.getOwnPropertyNames,O=Error,L=Set,E=JSON.stringify,r=parseInt,_=["importScripts","alert","atob","blur","btoa","cancelAnimationFrame","cancelIdleCallback","captureEvents","clearInterval","clearTimeout","close","confirm","find","focus","getComputedStyle","getSelection","matchMedia","moveBy","moveTo","open","postMessage","print","prompt","queueMicrotask","releaseEvents","reportError","requestAnimationFrame","requestIdleCallback","resizeBy","resizeTo","setInterval","setTimeout","stop","structuredClone","webkitCancelAnimationFrame","webkitRequestAnimationFrame","fetchLater","webkitRequestFileSystem","webkitResolveLocalFileSystemURL","addEventListener","dispatchEvent","removeEventListener","when","fetch","scroll","scrollBy","scrollTo","getScreenDetails","queryLocalFonts","showDirectoryPicker","showOpenFilePicker","showSaveFilePicker"],o=Object.create(null);"undefined"!=typeof Window&&Object.setPrototypeOf(o,Window.prototype);const n=globalThis.Reflect,s=globalThis.Proxy,i=globalThis,S=new L(T(globalThis));for(const e in globalThis)S.add(e);const P=["self","window","globalThis","__ru1n_qiuwen_myGlobal__","__proto__"],l=["OffscreenCanvas","Reflect","__ru1n_qiuwen_scuttle_options__","getComputedStyle","Document","HTMLElement","SVGElement","TouchEvent","KeyboardEvent"];if(null==globalThis.__ru1n_qiuwen_scuttle_options__)throw new O("No scuttle options found");const C=globalThis.__ru1n_qiuwen_scuttle_options__;for(const e of S)if(!P.includes(e))if(e.startsWith("on"))t(o,e,{[e]:{get:()=>globalThis[e],set(t){globalThis[e]=t},enumerable:!0,configurable:!1}});else if(_.includes(e)){const t=globalThis[e];o[e]=function(...e){return this===o?t.apply(void 0,e):t.apply(this,e)}}else o[e]=globalThis[e];t(globalThis,"__ru1n_qiuwen_myGlobal__",{get(){const e=(new O).stack;if(null==e)return null;const t=e.split("\n");let T="",L=0;for(let e=1;e<t.length;e++){const O=t[e].trim();if(O.startsWith("at ")){if(1===L){T=O;break}L++}}if(!T)return null;let _=T.match(/at\s+.+\s+\((.+):(\d+):(\d+)\)/)||T.match(/at\s+(.+):(\d+):(\d+)/);if(null==_||_.length<4)return null;const n={fileName:_[1],lineNumber:r(_[2],10),columnNumber:r(_[3],10),rawLine:T};for(const e of C)if(n.fileName.endsWith(e.file)&&n.lineNumber===e.line&&n.columnNumber===e.col)return E(n),o;return E(n),null},set(e){throw new O('Setting global property "__ru1n_qiuwen_myGlobal__" is restricted.')},configurable:!1,enumerable:!1}),o.window=o,o.self=o,o.globalThis=o,o.__ru1n_qiuwen_oldGlobalThis__=i;for(const T of S){if(P.includes(T)||T.startsWith("on")||l.includes(T))continue;const L=e(globalThis,T);null!=L&&(L.configurable&&null==L.get&&null==L.set?t(globalThis,T,{get(){throw new O(`Access to global property "${T}" on globalThis is restricted.`)},set(e){throw new O(`Setting global property "${T}" on globalThis is restricted.`)},enumerable:!0,configurable:!1}):"chrome"===T&&(globalThis.chrome=new s(globalThis.chrome,{get(e,t,T){if("storage"===t)throw new O("Access to chrome.storage is restricted.");return n.get(e,t,T)},set(e,t,T,L){if("storage"===t)throw new O("Access to chrome.storage is restricted.");return n.set(e,t,T,L)},getOwnPropertyDescriptor(e,t){if("storage"===t)throw new O("Access to chrome.storage is restricted.");return n.getOwnPropertyDescriptor(e,t)},defineProperty(e,t,T){if("storage"===t)throw new O("Access to chrome.storage is restricted.");return n.defineProperty(e,t,T)},setPrototypeOf(e,t){throw new O("Modifying prototype of chrome is restricted.")}})))}})(),globalThis.__ru1n_qiuwen_myGlobal__||globalThis){let scriptsLoadInitiated=!1;const clearAlarms=async()=>{(await chrome.alarms.getAll()).forEach((e=>{/^ALARMS/.test(e.name)&&chrome.alarms.clear(e.name)}))},importAllScripts=()=>{if(!scriptsLoadInitiated)try{importScripts("/webextension-polyfill.js","/vendor/trezor/trezor-connect-webextension.js","/background.js"),scriptsLoadInitiated=!0}catch(e){console.error(e)}},createOffscreen=async()=>{chrome.offscreen&&(await chrome.offscreen.hasDocument()||await chrome.offscreen.createDocument({url:"./offscreen.html",reasons:["IFRAME_SCRIPTING"],justification:"Used for Hardware Wallet to communicate with the extension."}))},keepAlive=()=>{chrome.runtime.onMessage.addListener(((e,t,T)=>(importAllScripts(),!1))),chrome.tabs.onActivated.addListener((()=>(importAllScripts(),!1)))},registerInPageContentScript=async()=>{try{await chrome.scripting.registerContentScripts([{id:"pageProvider",matches:["file://*/*","http://*/*","https://*/*"],js:["pageProvider.js"],runAt:"document_start",world:"MAIN",allFrames:!0}])}catch(e){console.warn(`Dropped attempt to register pageProvider content script. ${e}`)}};registerInPageContentScript(),clearAlarms(),createOffscreen(),keepAlive(),self.addEventListener("install",(()=>{importAllScripts()})),navigator?.usb&&navigator.usb.addEventListener("disconnect",(e=>{}))}