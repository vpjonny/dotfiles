import{a as W,b as R,c as he,e as ve}from"./chunk-NXQG6M3E.js";import"./chunk-5MT5Y5AC.js";import{d as K}from"./chunk-AKD4IV4A.js";import{b as J}from"./chunk-PB55N5D7.js";import{a as ge}from"./chunk-LEVBC5FZ.js";import"./chunk-QHC2DYOH.js";import{a as q}from"./chunk-EPX4LAAB.js";import"./chunk-GVFJTHCK.js";import"./chunk-J63JN6ZK.js";import"./chunk-6KT3MJYR.js";import{f as ue}from"./chunk-LQG7SAW5.js";import{b as ie,q as L}from"./chunk-TQ2XASI3.js";import"./chunk-XXAIJB4T.js";import{a as ce}from"./chunk-VPT3GAIN.js";import{b as fe}from"./chunk-UJWKDH2G.js";import{d as le,q as _e,z as X}from"./chunk-AHLFMVMC.js";import{a as se}from"./chunk-3DAKLS7D.js";import{s as pe}from"./chunk-IFGNGASP.js";import{Bb as Z,Db as V,He as d,bc as re,n as F}from"./chunk-NPJCEXXH.js";import"./chunk-PWGSI7LM.js";import"./chunk-RVS5KJOS.js";import{B as c,s as y}from"./chunk-5RLAMZDG.js";import"./chunk-VYWNZTTM.js";import"./chunk-MGS2LE6A.js";import"./chunk-CBNY2XQM.js";import"./chunk-FRGP5XJV.js";import{a as oe}from"./chunk-Q2B4R57L.js";import{b as H}from"./chunk-PJC4UBLU.js";import"./chunk-HDMZQINQ.js";import"./chunk-JYNY5RZ4.js";import"./chunk-OAMYZMR4.js";import{f as x,o as r,q as s}from"./chunk-LHDKEQAM.js";r();s();var ee=x(H());r();s();r();s();var O=x(H()),Ee=x(ce()),xe=x(oe());r();s();var t=x(H()),I=x(oe());r();s();var l={"preset-item":"_preset-item_hhs7f_1",presetItem:"_preset-item_hhs7f_1","preset-padding":"_preset-padding_hhs7f_7",presetPadding:"_preset-padding_hhs7f_7","preset-name":"_preset-name_hhs7f_15",presetName:"_preset-name_hhs7f_15",divide:"_divide_hhs7f_26",icon:"_icon_hhs7f_33",text:"_text_hhs7f_36",green:"_green_hhs7f_43",normal:"_normal_hhs7f_46","remove-icon":"_remove-icon_hhs7f_49",removeIcon:"_remove-icon_hhs7f_49","disabled-icon":"_disabled-icon_hhs7f_54",disabledIcon:"_disabled-icon_hhs7f_54","edit-icon":"_edit-icon_hhs7f_58",editIcon:"_edit-icon_hhs7f_58","selected-icon":"_selected-icon_hhs7f_62",selectedIcon:"_selected-icon_hhs7f_62","preset-info":"_preset-info_hhs7f_65",presetInfo:"_preset-info_hhs7f_65","icon-wrapper":"_icon-wrapper_hhs7f_74",iconWrapper:"_icon-wrapper_hhs7f_74"};var Ne=({isEdit:n,preset:a,isSelected:g,handleClickPreset:m,disableDelete:v,handleDeletePreset:E,handleEditPreset:p,hasShadow:f=!0,currentPresetId:P,jitoIsSuccess:N=!0,mevUnstableShowLevel:T,computedQuoteCompleted:k=!1})=>{let{name:j,slippage:u,priorityFee:z,id:b,priorityMode:A="auto",manualType:Y=0}=a,{type:B}=z,_=ge({priorityMode:A,manualType:Y,jitoIsSuccess:N,mevUnstableShowLevel:T,computedQuoteCompleted:k}),D=(0,t.useMemo)(()=>({market:d("swaptrade_modal_dialog_option_market"),fast:d("swaptrade_modal_dialog_option_fast5x"),turbo:d("swaptrade_modal_dialog_option_turbo10x"),custom:d("swaptrade_extension_cinteraction_custom")})[B],[B]),Q=(0,t.useMemo)(()=>{let U=G=>G?`${pe(ue(G),{needZero:!1})}`:"--";return u?.mode===ie.FIXED?U(u?.value):u?.mode===ie.DYNAMIC?u?.customMax?U(u?.customMax):d("swaptrade_slippage_cell_label_dynamic"):"--"},[u?.customMax,u?.mode,u?.value]);return t.default.createElement(le,{className:(0,I.default)("flex items-center justify-between",l.presetItem,{[l.presetPadding]:!n}),onClick:()=>{m&&m()}},t.default.createElement("div",{className:(0,I.default)("flex items-center")},n&&t.default.createElement(y,{className:(0,I.default)("okds-intermediate",l.removeIcon,{[l.disabledIcon]:v}),onClick:()=>{E&&E()},style:{fontSize:24},a11yText:"remove-item"}),t.default.createElement("div",{className:l.presetInfo},t.default.createElement("div",null,a.id===`${L}2`?t.default.createElement("div",{className:"flex items-center"},t.default.createElement(y,{className:(0,I.default)(b===P?"okx-defi-dex-meme-mode-filled":"okx-defi-dex-meme-mode"),style:{fontSize:20,marginRight:"4px",marginBottom:"8px"},a11yText:"meme-mode-icon"}),t.default.createElement("span",{className:l.presetName},j)):t.default.createElement("span",{className:l.presetName},j)),t.default.createElement("div",{className:(0,I.default)("flex items-center",l.presetTag)},t.default.createElement(q,{icon:"okx-defi-dex-slippage",text:Q}),t.default.createElement("div",{className:l.divide}),t.default.createElement(q,{icon:"okx-defi-dex-fee",text:D}),t.default.createElement("div",{className:l.divide}),t.default.createElement(q,{text:_.text,icon:_.icon,status:_.status,tooltipText:_.tips,showWarningIcon:_.showWarningIcon})))),n?t.default.createElement(t.default.Fragment,null,f&&t.default.createElement("div",{className:l.shadow}),t.default.createElement("div",{className:(0,I.default)("flex items-center justify-center",l.iconWrapper)},t.default.createElement(y,{className:(0,I.default)("okx-defi-marketplace-edit",l.editIcon),style:{fontSize:24},a11yText:"edit-item",onClick:p}))):g&&t.default.createElement(y,{className:(0,I.default)("okx-defi-marketplace-selected",l.selectedIcon),style:{fontSize:24},a11yText:"edit-item"}))},$=Ne;r();s();var ne={root:"_root_1hlcl_1",btns:"_btns_1hlcl_4","no-bg":"_no-bg_1hlcl_13",noBg:"_no-bg_1hlcl_13"};var Te=F(({addClick:n,onSelect:a})=>{let{configStore:g,quoteStore:m}=J(),{currentMode:v}=g,{jitoIsSuccess:E,mevUnstableShowLevel:p,computedQuoteCompleted:f}=m,{currentPresetList:P,currentPresetId:N,setCurrentPresetId:T}=K(),k=(0,Ee.useHistory)(),{presetPageEditState:j,setPresetPageEditState:u}=W(),z=()=>{u(!0)},{setEditPreset:b}=R(),{newPreset:A}=he(),Y=()=>{if(P.length>7){X.info({title:d("swaptrade_meme_toast_preset_max",{num:8})});return}if(b({value:A,isEdit:!1}),n)n();else{let D=`${V(Z)}?tab=${v}`;k.push(D)}},B=_=>{T(P?.[_]?.id),a?a():k.goBack()};return O.default.createElement("div",{className:ne.root},P.map((_,D)=>O.default.createElement($,{key:_.id,jitoIsSuccess:E,mevUnstableShowLevel:p,preset:_,isEdit:j,isSelected:_?.id===N,handleClickPreset:()=>{B(D)},currentPresetId:N,computedQuoteCompleted:f})),O.default.createElement("div",{className:(0,xe.default)("flex justify-between",ne.btns)},O.default.createElement(c,{className:"flex-1",category:c.CATEGORY.outline,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:z},d("commonall_filter_btn_edit")),O.default.createElement(c,{className:"flex-1",category:c.CATEGORY.fill,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:Y},d(v==="buy"?"swaptrade_meme_btn_add_buy_preset":"swaptrade_meme_btn_add_sell_preset"))))}),Pe=Te;r();s();var o=x(H()),Ie=x(ce()),M=x(oe());r();s();var be=x(H());function we({currentPresetList:n,currentPresetId:a}){let[g,m]=(0,be.useMemo)(()=>{let v=n.map(f=>({...f,isSelected:f.id===a})),E=[],p=[];return v.forEach(f=>{f.id.includes(L)?E.push(f):p.push(f)}),[E,p]},[n,a]);return{defaultList:g,formatList:m}}function Se({defaultList:n,list:a,setCurrentPresetList:g,setCurrentPresetId:m,setPresetPageEditState:v}){return{handleDone:()=>{let p=[...n,...a];g(p),p.findIndex(P=>P.isSelected===!0)===-1&&m(p[0].id),v(!1)}}}r();s();var i={root:"_root_swnpm_1",btns:"_btns_swnpm_4","no-bg":"_no-bg_swnpm_13",noBg:"_no-bg_swnpm_13",wrapper:"_wrapper_swnpm_16","drag-item":"_drag-item_swnpm_19",dragItem:"_drag-item_swnpm_19","custom-drag-item":"_custom-drag-item_swnpm_19",customDragItem:"_custom-drag-item_swnpm_19",item:"_item_swnpm_19","drag-item-active":"_drag-item-active_swnpm_28",dragItemActive:"_drag-item-active_swnpm_28",dragging:"_dragging_swnpm_28","drag-icon":"_drag-icon_swnpm_32",dragIcon:"_drag-icon_swnpm_32","not-drag":"_not-drag_swnpm_36",notDrag:"_not-drag_swnpm_36","icon-padding":"_icon-padding_swnpm_40",iconPadding:"_icon-padding_swnpm_40","preset-padding":"_preset-padding_swnpm_43",presetPadding:"_preset-padding_swnpm_43","icon-wrapper":"_icon-wrapper_swnpm_46",iconWrapper:"_icon-wrapper_swnpm_46","icon-wrapper-hover":"_icon-wrapper-hover_swnpm_51",iconWrapperHover:"_icon-wrapper-hover_swnpm_51"};var je=F(({editClick:n})=>{let{isSm:a}=fe(),{currentPresetList:g,currentPresetId:m,setCurrentPresetId:v,setCurrentPresetList:E}=K(),{setPresetPageEditState:p}=W(),{configStore:f,quoteStore:P}=J(),{currentMode:N}=f,{jitoIsSuccess:T,mevUnstableShowLevel:k,computedQuoteCompleted:j}=P,{defaultList:u,formatList:z}=we({currentPresetList:g,currentPresetId:m}),[b,A]=(0,o.useState)(z),{setEditPreset:Y}=R(),B=(0,Ie.useHistory)(),{handleDone:_}=Se({defaultList:u,list:b,setCurrentPresetList:E,setCurrentPresetId:v,setPresetPageEditState:p}),[D,Q]=(0,o.useState)(!1),[U,G]=(0,o.useState)(!1),ae=e=>{let h=b.filter((C,te)=>te!==e);A(h)},ye=(e,h)=>{let C=se.get(re),{isSelected:te}=e;if(te&&!C){Q(!0);return}ae(h)},ke=()=>{U&&se.set(re,"1");let e=b.findIndex(h=>h.isSelected===!0);ae(e),Q(!1)},de=e=>{let h=g.find(C=>C.id===e)||{};if(Y({value:h,isEdit:!0}),n)n();else{let C=`${V(Z)}?tab=${N}`;B.push(C)}},De=e=>{A(e)};(0,o.useEffect)(()=>()=>{p(!1)},[]);let Le=(0,o.useCallback)(()=>{a&&X.info({title:d("swaptrade_market_placeorder_error_preset_unable_delete")})},[a]);return o.default.createElement("div",{className:i.root},u.map(e=>o.default.createElement("div",{className:(0,M.default)("flex items-center justify-between",i.presetPadding),key:e.id},o.default.createElement($,{jitoIsSuccess:T,mevUnstableShowLevel:k,hasShadow:!0,key:e.id,preset:e,isEdit:!0,isSelected:e.id===m,handleDeletePreset:Le,disableDelete:e.id.includes(L),handleEditPreset:()=>de(e.id),currentPresetId:m,computedQuoteCompleted:j}),o.default.createElement("div",{className:(0,M.default)("flex items-center justify-center",i.iconWrapper,i.iconPadding)},o.default.createElement(y,{className:(0,M.default)("okds-hamburger flex items-center",i.notDrag),style:{fontSize:24},a11yText:"drag-item"})))),o.default.createElement("div",null,o.default.createElement(_e.Sortable,{restrictToParentElement:!0,onDragEnd:De,dataSource:b,mobileLongPress:!0,withOverlay:!1,wrapperStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:0,itemClassName:(0,M.default)(i.dragItem,i.customDragItem,i.item),itemDraggingClassName:(0,M.default)(i.dragItemActive,i.dragging),itemWrapperClassName:i.wrapper,renderHandler:({getHandlerRef:e,listeners:h,disabled:C})=>C?o.default.createElement("div",{ref:e}):o.default.createElement("div",{className:(0,M.default)("flex items-center justify-center",i.iconWrapper,i.iconWrapperHover,i.iconPadding)},o.default.createElement(y,{ref:e,...h,className:(0,M.default)("okds-hamburger flex items-center",i.dragIcon),style:{fontSize:24},a11yText:"drag-item"}))},b.map((e,h)=>o.default.createElement($,{jitoIsSuccess:T,mevUnstableShowLevel:k,key:e.name+h,preset:e,isEdit:!0,isSelected:e.id===m,handleDeletePreset:()=>ye(e,h),disableDelete:e.id.includes(L),handleEditPreset:()=>de(e.id),currentPresetId:m})))),o.default.createElement("div",{className:(0,M.default)("flex justify-between",i.btns)},o.default.createElement(c,{className:"flex-1",category:c.CATEGORY.fill,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:_},d("commonall_button_text_done"))),o.default.createElement(ve,{isChecked:U,setIsChecked:G,onConfirm:ke,visible:D,text:d("swaptrade_meme_dialog_desc_preset_delete"),showChecked:!0,confirmText:d("commonall_text_btn_ok_passive")}))}),Me=je;var me={DefaultList:Pe,EditList:Me};r();s();var Ce={root:"_root_45u39_1","no-bg":"_no-bg_45u39_4",noBg:"_no-bg_45u39_4"};var Ae=F(({editClick:n,addClick:a,onSelect:g})=>{let{presetPageEditState:m}=W();return ee.default.createElement("div",{className:Ce.root},m?ee.default.createElement(me.EditList,{editClick:n}):ee.default.createElement(me.DefaultList,{addClick:a,onSelect:g}))}),po=Ae;export{po as default};
//# sourceMappingURL=Presets-K3XG3UIB.js.map
