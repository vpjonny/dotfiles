import{Da as r,Ea as T,Fa as A,r as k}from"./chunk-22THXMTO.js";import{d as a,e as l,l as p}from"./chunk-NPJCEXXH.js";import{$ as S,B as f}from"./chunk-JYNY5RZ4.js";import{o as t,q as o}from"./chunk-LHDKEQAM.js";t();o();t();o();var h=class extends k{constructor(){super();this.preChecking=!0;this.preCheckData=null;this.serviceState={loaded:!1,isLimitRegion:!1};p(this,{serviceState:a,computedIsLimitRegion:l,computedIsNotLimitRegion:l,preCheckData:a,preChecking:a,computedPreCheckMsg:l})}get computedPreCheckMsg(){return!this.preChecking&&this.preCheckData&&this.preCheckData.status!==0?this.preCheckData?.msg:""}get computedIsLimitRegion(){return this.serviceState.loaded&&this.serviceState.isLimitRegion}get computedIsNotLimitRegion(){return this.serviceState.loaded&&!this.serviceState.isLimitRegion}},E=new h;t();o();t();o();S();t();o();var u=class{constructor(){this.hiddenTokenList=[];this.smallAssetConfig={...r}}setSmallAssetConfig(e){this.smallAssetConfig=e}setHiddenTokenList(e){this.hiddenTokenList=e}};var g=class{constructor(){this.model=new u}get hiddenTokenCaList(){return this.model.hiddenTokenList.map(e=>e.tokenContractAddress)}isSmallAssetHidden(){return this.model.smallAssetConfig.open??r.open}getSmallAssetThreshold(){let e=parseFloat(this.model.smallAssetConfig.amount);return console.warn("getSmallAssetThreshold",e),Number.isNaN(e)||!f(e)||!e?Number(r.amount):e}isTokenHidden(e){return e.isNativeToken===1?this.model.hiddenTokenList.some(n=>n.isNativeToken&&n.chainId===e.chainId):this.hiddenTokenCaList.includes(e.tokenContractAddress)}};t();o();function _(s){return s.some(e=>"tokenList"in e)}var c=class extends g{getMinAmountThresholdParam(){if(!!this.isSmallAssetHidden())return this.getSmallAssetThreshold()}async loadSmallAssetConfig(){let e=await T();this.model.setSmallAssetConfig(e)}async loadHiddenTokenConfig(e,n){if(!e&&!n)return;let i=await A(e,n);this.model.setHiddenTokenList(i)}filterHiddenTokenList(e){if(!e?.length)return e;let n=(i=[])=>Array.isArray(i)?i.filter(C=>!this.isTokenHidden(C)):i;return _(e)?e.map(i=>({...i,tokenList:n(i.tokenList)})).filter(i=>i.tokenList.length):n(e)}},Z=new c;export{E as a,Z as b};
//# sourceMappingURL=chunk-6U5AQS6C.js.map
