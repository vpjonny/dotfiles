import{a as Cr,b as br}from"./chunk-O3TIIRPP.js";import{a as kr,b as Sr,c as Go,d as hr,e as B}from"./chunk-E5Y77LVR.js";import{a as no}from"./chunk-CADVMGAW.js";import{a as io}from"./chunk-WP5MSDLO.js";import{a as re,b as Tr,c as yr}from"./chunk-AKD4IV4A.js";import{b as ro}from"./chunk-ZQKQQ4OE.js";import{a as fe}from"./chunk-NMNQL2R3.js";import{b as f}from"./chunk-PB55N5D7.js";import{a as nr,b as ir,c as sr,d as mr,e as ar,f as cr,g as ur,h as lr,i as pr,k as fr,l as dr,m as _r,n as gr}from"./chunk-MFGGF2Y7.js";import{a as he}from"./chunk-E5UIMO2Q.js";import{a as Ut,b as Ot,c as Rt,d as Qt,e as qt,g as $t,h as Zt,i as Kt,j as Jt,k as tr}from"./chunk-5FG6H5J6.js";import{f as rr}from"./chunk-5752NKZT.js";import{a as er}from"./chunk-LEVBC5FZ.js";import{b as Wt}from"./chunk-EYUFC4TO.js";import{a as De,b as or}from"./chunk-6U5AQS6C.js";import{a as to,b as Gt,c as Wo,d as Yt,e as jt,f as Ht,g as Qo,h as qo,i as Xt,j as zt}from"./chunk-QHC2DYOH.js";import{a as Pt}from"./chunk-ULAT354B.js";import{d as Lt,e as Ft}from"./chunk-RRYQDZYV.js";import{c as E}from"./chunk-L6KPEUIR.js";import{a as Je}from"./chunk-EPX4LAAB.js";import{a as Mt,f as Et}from"./chunk-S4V3ABCT.js";import{a as At}from"./chunk-MHNQB4I5.js";import{a as wt}from"./chunk-GVFJTHCK.js";import{a as vt}from"./chunk-LOGCUUNU.js";import{c as Vt,d as oo}from"./chunk-KJYTBTZX.js";import{a as Oo,c as Ro,e as eo}from"./chunk-DLWPK36I.js";import{a as Uo,d as Nt}from"./chunk-4TAIYLPS.js";import{f as Dt}from"./chunk-LQG7SAW5.js";import{a as xt}from"./chunk-CTJA2WQT.js";import{f as It,j as Bt}from"./chunk-F2F65RJN.js";import{a as Bo,b as Z,g as yt,o as Ct,r as Ke,x as Vo}from"./chunk-TQ2XASI3.js";import{a as bt}from"./chunk-XXAIJB4T.js";import{a as Ne}from"./chunk-VPT3GAIN.js";import{A as gt,B as kt,Ca as St,La as ht,Pa as Tt,q as _t,ra as W,xa as Q}from"./chunk-22THXMTO.js";import{a as dt}from"./chunk-MCCEOABZ.js";import{A as $,H as st,I as mt,d as R,f as nt,l as Io,n as No,p as ze,u as Po,v as it}from"./chunk-AHLFMVMC.js";import{a as ae}from"./chunk-3DAKLS7D.js";import{a as O,e as ft,i as Qe,k as Ae,l as pe,n as Fo,s as Se}from"./chunk-IFGNGASP.js";import{$b as Ao,Ab as pt,C as $e,Db as X,G as Ze,He as S,ac as Do,eb as at,ia as wo,n as F,nc as Lo,ob as Pe,vb as ct,wb as ut,xb as lt,yb as we}from"./chunk-NPJCEXXH.js";import{B as We,s as G}from"./chunk-5RLAMZDG.js";import{a as L}from"./chunk-Q2B4R57L.js";import{b as g}from"./chunk-PJC4UBLU.js";import{$ as Ie,F as rt,j as H,s as ot,z as tt}from"./chunk-JYNY5RZ4.js";import{f as p,o as t,q as r}from"./chunk-LHDKEQAM.js";t();r();var jo=p(g());Ie();t();r();var de=p(g());t();r();function Le(){let{buyStore:e,sellStore:o,configStore:i}=f(),{computedIsSell:n}=i;return n?o.computedSellNumber:e.computedBuyNumber}t();r();Ie();function xr(){let e=Le(),{fromToken:o}=B();return!rt(o.amountNum)&&new O.BigNumber(e).gt(o.amountNum)}function Er(){let{quoteStore:e,configStore:o,accountStore:i,buyStore:n,sellStore:s}=f(),{computedNonsupportChain:m,isConnectedWallet:a,hasInitWalletInfo:c}=i,{computedIsBuy:d,computedIsSell:_}=o,k=_?s.fromToken:n.fromToken,T=_?s.toToken:n.toToken,C=Le(),x=xr(),{computedCustomQuoteLoading:M,computedQuoteIsInvalid:v,computedSwapOnOtherDapp:h,computedToTokenAmount:b,computedGetQuoteFromAmount:y,computedQuoteIsBlackAddress:P,computedQuoteIsNewAddress:w}=e,{computedPreCheckMsg:N,preChecking:V,preCheckData:D}=De,U=(0,de.useMemo)(()=>Qe(b),[b]),xe=(0,de.useMemo)(()=>!new O.BigNumber(C).lte(0),[C]),Me=(0,de.useMemo)(()=>new O.BigNumber(C).eq(y),[C,y]),Ee=(0,de.useMemo)(()=>[!xe,M,!!v,!Me],[xe,M,v,Me]),ve=(0,de.useMemo)(()=>{let Eo=Oo(k),vo=Oo(T);return Eo||vo},[k,T]),ke=(0,de.useMemo)(()=>gr({computedPreCheckMsg:N,preChecking:V,preCheckData:D,isConnectedWallet:a,hasInitWalletInfo:c,computedNonsupportChain:m,computedQuoteIsBlackAddress:P,computedSwapOnOtherDapp:h,computedQuoteIsNewAddress:w,computedFormToTokenIsLeverageToken:ve,toToken:T,disableConditions:Ee,hasToAmount:U,isInsufficientBalance:x,isBuy:d,isSell:_}),[N,V,D,a,c,m,P,w,h,ve,T,d,_,Ee,U,x]);return(0,de.useMemo)(()=>_r(ke,d?"BUY_ACTIVE":"SELL_ACTIVE"),[ke,d])}t();r();var Or=p(g());t();r();var so=p(g());function vr(e){let[o,i]=(0,so.useState)(!1);return{runPreconditions:(0,so.useCallback)(async s=>{i(!0);try{await e.reduce(async(m,a)=>{let c=await m;return a(c)},Promise.resolve(s))}finally{i(!1)}},[e]),loading:o}}t();r();var ao=p(g());t();r();function Ir(){let{currentPreset:e}=re();return e?.slippage?.mode===Z.DYNAMIC?e?.slippage?.dynamicSlippage:e?.slippage?.value}function Nr(){let{currentPreset:e}=re();return e?.slippage?.mode===Z.DYNAMIC?Bo.AUTO:Bo.CUSTOM}function mo(){let{currentPreset:e}=re();return e?.slippage?.mode===Z.FIXED?"":e?.slippage?.supportCustomMax?e?.slippage?.customMax:""}t();r();var Pr=p(g());var zn=()=>{let{currentPreset:e}=re(),{priorityMode:o,manualType:i}=e;return(0,Pr.useMemo)(()=>o==="auto"?1:i===0?2:i===1?3:1,[o,i])},wr=zn;function Ar(){let{quoteStore:e,accountStore:o,configStore:i}=f(),{currentPreset:n}=re(),{priorityFee:s,slippage:m,priorityMode:a,manualType:c}=n,{computedGetQuoteFrom:d,jitoIsSuccess:_,mevUnstableShowLevel:k,computedQuoteId:T,computedAutoSlippage:C}=e,{computedIsBuy:x}=i,M=wt({priorityMode:a,manualType:c,jitoIsSuccess:_,mevUnstableShowLevel:k}),v=At(M),{formatPriorityFee:h}=Tr({priorityFee:s,isEnableMev:v}),b=mo(),y=o.getAddressByChainId(d.chainId),{computedAccountId:P}=o,w=wr(),N=(0,ao.useMemo)(()=>({direction:x?"0":"1",networkFee:{priorityFee:h?.value,priorityFeeType:yt[h?.type]},slippageConfig:{maxSlippage:m?.mode===Z.DYNAMIC?b:"",slippage:m?.mode===Z.FIXED?m?.value:C,slippageType:Nt[m?.mode]},accountInfo:{accountId:P},preSetConfig:{routerModeType:w},userWalletAddress:y,quoteId:T,...Ft()}),[b,h?.value,h?.type,m?.value,m?.mode,y,x,w,P,T,C]);return(0,ao.useCallback)(async()=>{Q.info(W.MEME_SWAP_GET_CALLDATA_PARAMS,{data:N,preset:n});let[D,U]=await Ze(vt(N));if(D||!U.data?.unsignedTx)throw $.error({title:D?.error_message||S("swaptrade_home_toast_initiation_error"),placement:$.DIRECTION.top}),Q.error(W.MEME_SWAP_GET_CALLDATA_ERROR,{error:D,params:N,res:U}),new Error(D?.error_message);return{unsignedTx:U.data.unsignedTx,calldataParams:N,originData:U.data}},[N,n])}t();r();var Fr=p(g());Ie();t();r();var Dr=p(g());function Lr(){let{memeSwapStore:e,accountStore:o}=f();console.log("accountStore",o.computedAccountId);let{getJitoTxData:i}=e;return{onSolanaSign:(0,Dr.useCallback)(async s=>{try{let m=await i(s);Q.info(W.MEME_SWAP_SIGN_PARAMS,{data:{...s,unsignedTxArray:m}});let a=await ht({...s,walletId:o.computedAccountId},m);return Q.info(W.MEME_SWAP_SIGN_SUCCESS,{data:{...s,unsignedTxArray:m,signedTransactions:a},tags:{txhash:(s?.transactionHash||[]).join(",")}}),{signedTransactions:a,txArray:m}}catch(m){throw m?.message!=="Expected String"&&!xt(m)&&$.error({title:S("swaptrade_home_toast_initiation_error"),placement:$.DIRECTION.top}),Q.error(W.MEME_SWAP_SIGN_ERROR,{error:m,data:s}),new Error(m?.error_message)}},[o.computedAccountId,i])}}function Br(){let{memeSwapStore:e,configStore:o}=f(),{onSolanaSign:i}=Lr(),{walletId:n}=fe();return(0,Fr.useCallback)(async(m={})=>{let{signedTransactions:a,txArray:c}=await i(m),d=await e.onSolanaSwap({data:{walletId:n,...m},signedTransactions:a,txArray:c}),_=H(o,"computedNativeTokenInfo.tokenContractAddress"),{calldataParams:k}=m,{fromAmount:T,fromTokenAddress:C}=k||{};return C===_&&ae.set(Ct,T),{...m,broadcastRes:d}},[e,i,n,o])}t();r();var Yo=p(g());Ie();function Vr(){let{quoteStore:e,accountStore:o,memeSwapStore:i}=f(),{chainId:n}=fe(),{computedGetQuoteFrom:s}=e,{usePreExecuteFn:m}=wo.hooks,{TxToastCheckTypeEnum:a}=wo.global,c=m(),d=s.isNativeToken?"":s.tokenContractAddress,_=o.getAddressByChainId(s.chainId),{computedSignWalletAddress:k,computedAccountId:T}=o,C=St(s.chainId,d),x=i.getSolanaUnsignedTx,M=(0,Yo.useCallback)(h=>{let b=x(h);return{checkTypes:[a.TX_ANALYZE],from:_,chainId:s.chainId,coinId:C?.coinId,simulateTransactionParamList:b.map(y=>({transaction:y.data,sigVerify:!1,replaceRecentBlockhash:!0}))}},[x,a.TX_ANALYZE,C?.coinId,s.chainId,_]);return(0,Yo.useCallback)(async(h={})=>{let b=M(h);Q.info(W.MEME_SWAP_PRE_EXECUTE_PARAMS,{data:{executeParams:b,data:h}});let[y,P]=await Ze(c(b));if(y)throw $.error({title:y?.error_message||S("swaptrade_home_toast_initiation_error"),placement:$.DIRECTION.top}),Q.error(W.MEME_SWAP_PRE_EXECUTE_ERR,{data:{error:y,executeParams:b,data:h}}),new Error(y?.error_message);let w=H(P,`${a.TX_ANALYZE}`,{});if(!w.result){let V=w.msg||H(ot(w.simulateTransactionResultList,D=>!tt(D.msg)),"msg",S("swaptrade_home_toast_initiation_error"));throw $.error({title:V,placement:$.DIRECTION.top}),Q.error(W.MEME_SWAP_PRE_EXECUTE_RESULT_ERR,{data:{res:P,error:w,...h,executeParams:b}}),new Error(V)}Q.info(W.MEME_SWAP_PRE_EXECUTE_RESULT,{data:{res:P,...h,executeParams:b}});let N={callData:{data:b.simulateTransactionParamList?.[0]?.transaction},hasReferralCommission:h.originData?.hasReferralCommission};return i.checkCallData({chainId:+n,responseData:N,requestParams:b,accountId:T,signWalletAddress:k}),h},[c,M,a.TX_ANALYZE,n,k,T,i.checkCallData])}t();r();var qe=p(g());function Ur(){let e=no(kt),{quoteStore:o,commonStore:i}=f(),{computedValueDifference:n,quoteDiffValThreshold:s,quoteDiffPercentThreshold:m,computedFromTokenValue:a,computedToTokenValue:c}=o;return(0,qe.useCallback)(()=>{let{showValueDiffDialog:_,diffPercent:k,diffValueType:T,diffVal:C}=n,x=i.currencyConversion(C.replace("-","")||"0"),M=eo(k,x,i.computedNowCurrencySymbol);return _?new Promise((v,h)=>{let b=Io.tip({infoType:Io.Tip.INFO_TYPE.default,title:qe.default.createElement(Qt,{loseDiffValueTxt:M,isUp:T==="up"}),children:qe.default.createElement("p",null,S("swaptrade_valuediff_select_desc_low_liquidity_low_value")),confirmText:S("swaptrade_confirmation_btn_continue_swap"),cancelText:S("commonall_text_btn_cancel"),onConfirm:()=>{b.destroy(),e({popup_type:"valuedifference",receive_value:n.receive,paid_value:n.pay,value_diff:n.quoteDiffPercentThreshold}),Q.info(W.SWAP_PRECHECK_PROMPT,{data:{errorType:"valuedifference",...n,quoteDiffValThreshold:s,quoteDiffPercentThreshold:m,computedFromTokenValue:a,computedToTokenValue:c}}),v(!0)},onClose:()=>{h(new Error("Value diff prompt closed"))},onCancel:()=>{h(new Error("Value diff prompt closed"))}})}):Promise.resolve(!0)},[n])}function Rr(){let e=Wt(),o=Ur(),i=Ar(),n=Vr(),s=Br(),{memeSwapStore:m}=f(),{runPreconditions:a,loading:c}=vr([e,o,i,n,s]),{setIsSwapLoading:d}=m;return(0,Or.useEffect)(()=>{d(c)},[d,c]),{onSwap:a,loading:c}}t();r();var Qr=p(g());function qr(){let{buyStore:e,sellStore:o,configStore:i,quoteStore:n,commonStore:s}=f(),{currentMode:m}=i;return(0,Qr.useMemo)(()=>{let a=m==="buy"?e.buyValue.value:o.sellValue.value;if(Qe(n.computedToTokenAmount)&&Qe(a)){let c=pe(n.computedToTokenAmount,{needBillionMillionUnit:!0,useScientificNotation:!0});return{price:Ae(s.currencyConversion(n.computedToTokenValue).toString(),s.computedNowCurrencySymbol,{needPlaceholder:!0}),amount:c}}return{price:"",amount:""}},[e.buyValue?.value,s,m,n.computedToTokenAmount,n.computedToTokenValue,o.sellValue?.value])}function Um(){let e=no(),o=Er(),{fromToken:i}=B(),{amount:n,price:s}=qr(),{onSwap:m}=Rr(),{sellStore:a,buyStore:c,commonStore:{setAddFundsVisible:d},configStore:_}=f(),k=(0,jo.useCallback)(()=>{let C=_.computedIsBuy?"BUY_DISABLED":"SELL_DISABLED",x=_.computedIsBuy?c.computedBuyTokenSymbol:a.computedSellTokenSymbol;return S(he[C],{symbol:x})},[_.computedIsBuy,c.computedBuyTokenSymbol,a.computedSellTokenSymbol]);return(0,jo.useCallback)(()=>({["LIMIT_REGION"]:{disabled:!0,btnTxt:k,onClick:()=>{},btnType:"LIMIT_REGION"},["BUY_ACTIVE"]:{disabled:!1,btnTxt:()=>S(he["BUY_ACTIVE"],{amt:n,token:Fo(H(c,"toToken.tokenSymbol")),price:s}),onClick:()=>{m(),e({button_name:"confirm"})},btnType:"BUY_ACTIVE"},["SELL_ACTIVE"]:{disabled:!1,btnTxt:()=>S(he["SELL_ACTIVE"],{amt:n,token:Fo(H(a,"toToken.tokenSymbol")),price:s}),onClick:()=>{m(),e({button_name:"confirm"})},btnType:"SELL_ACTIVE"},["BUY_DISABLED"]:{disabled:!0,btnTxt:()=>S(he["BUY_DISABLED"],{symbol:c.computedBuyTokenSymbol}),onClick:()=>{},btnType:"BUY_DISABLED"},["SELL_DISABLED"]:{disabled:!0,btnTxt:()=>S(he["SELL_DISABLED"],{symbol:a.computedSellTokenSymbol}),onClick:()=>{},btnType:"SELL_DISABLED"},["FILL_UP"]:{disabled:!1,btnTxt:()=>S(he["FILL_UP"],{token:i.symbol}),onClick:()=>{d(!0)},btnType:"FILL_UP"}}),[n,c,i.symbol,e,m,s,a,d,k])()[o]||{disabled:!0,btnTxt:()=>k(),onClick:()=>{}}}t();r();var dn=p(g());t();r();t();r();var Gr=p(g());var Yr=()=>{let{toToken:e}=B(),{configStore:o,quoteStore:i}=f(),{computedIsBuy:n}=o,{computedQuoteErrorMsg:s}=i;return(0,Gr.useMemo)(()=>ir({isHoneypot:Boolean(e?.isHoneypot&&n),tokenSymbol:e?.tokenSymbol||"",message:s}),[e?.isHoneypot,e?.tokenSymbol,n,s])};t();r();var jr=p(g());var Hr=()=>{let{fromToken:e,toToken:o}=B(),{quoteStore:i}=f(),{computedQuoteErrorMsg:n}=i,[s,m]=Lt(e,o);return(0,jr.useMemo)(()=>mr({isFromLeverageToken:s,isToLeverageToken:m,fromTokenSymbol:e?.tokenSymbol||"",toTokenSymbol:o?.tokenSymbol||"",message:n}),[s,m,e?.tokenSymbol,o?.tokenSymbol,n])};t();r();var Xr=p(g());var zr=()=>{let{quoteStore:e}=f(),{computedQuoteNetworkError:o}=e;return(0,Xr.useMemo)(()=>ur({hasNetworkError:o}),[o])};t();r();var $r=p(g());var Zr=()=>{let{accountStore:e}=f(),{computedNonsupportChain:o}=e,{fromToken:i}=B();return(0,$r.useMemo)(()=>ar({nonsupportChain:o,chainName:i?.chainName||""}),[o,i?.chainName])};t();r();var Kr=p(g());var Jr=()=>{let{quoteStore:e}=f(),{computedQuoteIsNewAddress:o,computedQuoteErrorMsg:i}=e;return(0,Kr.useMemo)(()=>cr({isNewAddress:o,message:i}),[o,i])};t();r();var en=p(g());var on=()=>{let{quoteStore:e}=f(),{computedQuoteLiquidityError:o,computedQuoteErrorMsg:i}=e;return(0,en.useMemo)(()=>pr({customNotLiquidity:!1,computedIsCustomLiquidity:!1,hasLiquidityError:o,dexIdsLength:Uo.computedIds?.length||0,openLiquidityDialog:()=>{Mt.setLiquidityModelVisible(!0)},message:i}),[Uo.computedIds?.length,o,i])};t();r();var tn=p(g());var rn=()=>{let{preCheckData:e}=De;return(0,tn.useMemo)(()=>!e||e?.status===0?null:{tier:0,notification:Et["PRE_CHECK_ERROR"]({title:e?.msg,type:e?.type})},[e])};t();r();var nn=p(g());var sn=()=>{let{quoteStore:e}=f(),{computedQuoteIsError:o,computedQuoteErrorMsg:i}=e;return(0,nn.useMemo)(()=>lr({hasQuoteError:o,message:i,useInsufficientLiquidityType:!0}),[o,i])};t();r();var mn=p(g());var an=()=>{let{fromToken:e}=B(),{configStore:o,quoteStore:i}=f(),{computedIsSell:n}=o,{computedQuoteErrorMsg:s}=i;return(0,mn.useMemo)(()=>sr({isHoneypot:Boolean(e?.isHoneypot&&n),tokenSymbol:e?.tokenSymbol||"",message:s}),[e?.isHoneypot,e?.tokenSymbol,n,s])};t();r();var cn=p(g());Ie();var un=()=>{let{quoteStore:e}=f(),{toToken:o,fromToken:i}=B(),n=H(e.quoteData,"data.commonDexInfo",null),s=Ro(i),m=Ro(o);return(0,cn.useMemo)(()=>{if(!s&&!m||!n?.tradeTaxes)return null;let a=Se(O.mul(n?.tradeTaxes,100),{needZero:!1}),c;if(s&&m)c=$e("wallet_swap_toast_pair_token_tax_warning",{token1:i?.tokenSymbol,token2:o?.tokenSymbol,value:a});else if(s)c=$e("wallet_swap_toast_token_tax_warning",{token:i?.tokenSymbol,value:a});else if(m)c=$e("wallet_swap_toast_token_tax_warning",{token:o?.tokenSymbol,value:a});else return null;return{tier:1,notification:{type:nt.TYPE.warn,title:c}}},[n,i,o,s,m])};t();r();var ln=p(g());var pn=()=>{let{quoteStore:e,commonStore:o}=f(),{computedValueDifference:i}=e;return(0,ln.useMemo)(()=>{let{showValueDiffDialog:n,diffPercent:s,diffVal:m}=i||{};if(!n)return null;let a=o.currencyConversion(m?.replace("-","")||"0"),c=eo(s||"0",a,o.computedNowCurrencySymbol);return fr({showValueDiffDialog:n,loseDiffValueTxt:c})},[i,o.currencyConversion,o.computedNowCurrencySymbol])};var fn=()=>{let e=rn(),o=Jr(),i=Zr(),n=Hr(),s=Yr(),m=on(),a=zr(),c=sn(),d=an(),_=un(),k=pn();return nr([e,i,n,d,s,o,m,a,c,_,k])};var Ec=F(({isSkeleton:e,className:o})=>{let i=fn();return dn.default.createElement(dr,{reminders:i,isSkeleton:e,className:o})});t();r();var K=p(g()),co=p(L());t();r();var Ge={skeleton:"_skeleton_cfkt8_1",container:"_container_cfkt8_5","right-skeleton":"_right-skeleton_cfkt8_9",rightSkeleton:"_right-skeleton_cfkt8_9","item-label":"_item-label_cfkt8_13",itemLabel:"_item-label_cfkt8_13"};var Zn=({initLoading:e,rightLoading:o,className:i})=>{let{quoteStore:n,commonStore:{currencyConversionWithSymbol:s},configStore:m}=f(),a=n,{computedToTokenValue:c,computedFromTokenValue:d,computedToTokenAmount:_,computedGetQuoteFromAmount:k,computedGetQuoteFrom:T,computedGetQuoteTo:C,computedRate:x,computedToFromRate:M}=a,{fromTokenPriceWithSymbol:v,toTokenPriceWithSymbol:h,fromTokenPriceWithBillionUnit:b,toTokenPriceWithBillionUnit:y}=Zt({fromUsdPrice:d,fromAmount:k,toUsdPrice:c,toAmount:_,currencyConversionWithSymbol:s}),P=T?.tokenSymbol,w=C?.tokenSymbol,N=(0,K.useMemo)(()=>b&&y&&v&&h&&M&&x&&P&&w,[b,y,v,h,M,x,P,w]),V=m.currentMode==="sell",[D,U,xe,Me,Ee,ve,ke,Re]=(0,K.useMemo)(()=>V?[P,v,b,x,M,w,h,y]:[w,h,y,M,x,P,v,b],[x,M,P,v,b,w,h,y,V]);return!v||!h||!b||!y?null:K.default.createElement(E,{loading:e,height:16,className:(0,co.default)(i,Ge.skeleton)},K.default.createElement("div",{className:(0,co.default)("flex items-center justify-between",Ge.container,i)},K.default.createElement("div",{className:(0,co.default)("flex items-center",Ge.itemLabel)},K.default.createElement("span",null,S("swaptrade_extension_cinteraction_reference"))),K.default.createElement(E,{loading:o,height:16,className:Ge.rightSkeleton},N?K.default.createElement($t,{fromTokenSymbol:D,toTokenSymbol:ve,fromToExchangeRate:Me,toFromExchangeRate:Ee,fromTokenPriceWithSymbol:U,fromTokenPriceWithBillionUnit:xe,toTokenPriceWithSymbol:ke,toTokenPriceWithBillionUnit:Re,boxClassName:"justify-end"}):K.default.createElement("span",null,"--"))))},Gc=F(Zn);t();r();var Xo=p(g()),zo=p(L());t();r();var Ho={root:"_root_ahgue_1",error:"_error_ahgue_10",skeleton:"_skeleton_ahgue_14"};var nu=({className:e,loading:o,amount:i,currency:n})=>{let m=i&&n?pe(i,{needBillionMillionUnit:!1}):"--";return Xo.default.createElement(E,{loading:o,height:16,className:(0,zo.default)(e,Ho.skeleton)},Xo.default.createElement("div",{className:(0,zo.default)(e,Ho.root)},S("swaptrade_trade_title_balance_amt",{num:m,symbol:n})))};t();r();var gn=p(g()),po=p(Ne());t();r();var uo=p(g()),lo=p(L());t();r();var Ye={root:"_root_1r990_1",item:"_item_1r990_8",active:"_active_1r990_23",skeleton:"_skeleton_1r990_27"};var _n=({className:e="",loading:o,tabList:i})=>uo.default.createElement(E,{loading:o,height:32,className:(0,lo.default)(e,Ye.skeleton)},uo.default.createElement("div",{className:(0,lo.default)(e,Ye.root)},i.map(n=>uo.default.createElement(R,{key:n.name,className:(0,lo.default)(Ye.item,n.active&&Ye.active),onClick:n.onClick},n.name))));var Iu=F(({className:e="",loading:o,mode:i})=>{let n=(0,po.useHistory)(),s=(0,po.useLocation)(),{search:m,pathname:a}=s,c=X(ut),d=X(ct),{buyStore:_,sellStore:k}=f(),T=[{name:S("swaptrade_market_item_buy"),active:i==="buy",onClick:()=>{a!==c&&(_.setToToken({}),ae.set(Ao,Do.MEME_BUY),n.replace(c+qo(Wo(Qo(m)))))}},{name:S("swaptrade_market_tab_item_sell"),active:i==="sell",onClick:()=>{a!==d&&(k.setFromToken({}),ae.set(Ao,Do.MEME_SELL),n.replace(d+qo(Wo(Qo(m)))))}}];return gn.default.createElement(_n,{className:e,loading:o,tabList:T})});t();r();var Fe=p(g()),kn=p(L());t();r();var $o={root:"_root_14kir_1","root-tg":"_root-tg_14kir_10",rootTg:"_root-tg_14kir_10"};var Ru=({children:e})=>{let o=dt(),i=()=>globalThis.document.querySelector(".main-container-wrapper").clientWidth-46,[n,s]=(0,Fe.useState)(i()),m=()=>{s(i())};return(0,Fe.useEffect)(()=>(window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}),[]),Fe.default.createElement("div",{className:(0,kn.default)($o.root,{[$o.rootTg]:o}),style:{width:n}},e)};t();r();var bn=p(g());t();r();var I=p(g()),yn=p(Ne()),ne=p(L());t();r();var Sn=p(g());function hn(e,o="--"){let{commonStore:i}=f(),n=i?.currencyConversion,s=i?.computedNowCurrencySymbol;return(0,Sn.useMemo)(()=>{if(!e&&e!==0&&e!=="0")return o;let m=Number(e);return Number.isNaN(m)?String(e):Ae(n(e).toString(),s,{needPlaceholder:!0,needK:!1})},[e,o,n,s])}t();r();var fo=p(g());var Kn=({disclaimerVisible:e,isNotLimitRegion:o})=>{let[i,n]=(0,fo.useState)(!1);return(0,fo.useEffect)(()=>{ae.get(Ke)||n(!e&&o)},[e,o]),{showCoach:i,setShowCoach:n}},Tn=Kn;t();r();var ce={"preset-name":"_preset-name_16uhg_1",presetName:"_preset-name_16uhg_1","custom-name":"_custom-name_16uhg_11",customName:"_custom-name_16uhg_11","preset-icon":"_preset-icon_16uhg_14",presetIcon:"_preset-icon_16uhg_14","go-icon":"_go-icon_16uhg_17",goIcon:"_go-icon_16uhg_17","preset-container":"_preset-container_16uhg_20",presetContainer:"_preset-container_16uhg_20","chain-logo":"_chain-logo_16uhg_28",chainLogo:"_chain-logo_16uhg_28","config-container":"_config-container_16uhg_31",configContainer:"_config-container_16uhg_31",divide:"_divide_16uhg_35","err-text":"_err-text_16uhg_41",errText:"_err-text_16uhg_41","mev-text":"_mev-text_16uhg_48",mevText:"_mev-text_16uhg_48"};var Jn=({initLoading:e,configClick:o,presetClick:i,className:n})=>{let{configStore:s,quoteStore:m,commonStore:a}=f(),{jitoIsSuccess:c,computedAutoSlippage:d,mevUnstableShowLevel:_,computedQuoteCompleted:k}=m,{totalFeeUSD:T}=yr(),{computedConfig:C,currentMode:x}=s,v=C?.nativeTokenInfo?.chainLogoUrl,{currentPreset:h}=re(),{name:b,slippage:y,priorityMode:P,manualType:w}=h,N=(0,yn.useHistory)(),V=()=>{if(o)o();else{let z=`${X(we)}?tab=${x}`;N.push(z)}},D=()=>{if(i)i();else{let z=`${X(pt)}?tab=${x}`;N.push(z)}},U=er({priorityMode:P,manualType:w,jitoIsSuccess:c,mevUnstableShowLevel:_,computedQuoteCompleted:k}),{disclaimerVisible:xe}=a,{computedIsNotLimitRegion:Me}=De,{showCoach:Ee,setShowCoach:ve}=Tn({disclaimerVisible:xe,isNotLimitRegion:Me}),ke=(0,I.useRef)(null),Re=(0,I.useRef)(null),Eo=(0,I.useMemo)(()=>[{target:()=>ke.current,title:S("swaptrade_meme_coachmrk_title_trading_presets"),placement:ze.DIRECTION.bottom,description:S("swaptrade_meme_coachmrk_desc_create_presets")},{target:()=>Re.current,title:S("swaptrade_meme_coachmrk_title_trading_presets"),placement:ze.DIRECTION.bottom,description:S("swaptrade_meme_coachmrk_desc_show_presets")}],[]),vo=(0,I.useMemo)(()=>{let z=et=>et?`${Se(Dt(et),{needZero:!1})}`:"--";return y?.mode===Z.FIXED?z(y?.value):y?.mode===Z.DYNAMIC?y?.customMax?z(O.min(y?.customMax||0,d||0).toString()):z(d):"--"},[d,y?.customMax,y?.mode,y?.value]),Hn=(0,I.useMemo)(()=>{let z=!1;return y?.mode===Z.DYNAMIC&&y?.customMax&&(z=O.lt(y?.customMax,d)),z?"yellow":"default"},[d,y?.customMax,y?.mode]),Xn=hn(T);return I.default.createElement(E,{loading:e,height:16,className:(0,ne.default)(n)},I.default.createElement("div",{className:n},I.default.createElement("div",{className:(0,ne.default)("flex items-center justify-between")},I.default.createElement(R,{className:(0,ne.default)("flex items-center",ce.presetContainer),onClick:D,ref:ke},I.default.createElement(oo,{src:v,size:16,className:(0,ne.default)(ce.chainLogo)}),I.default.createElement("span",{className:(0,ne.default)(ce.presetName)},b),I.default.createElement(G,{className:(0,ne.default)("okx-defi-game-caretup",ce.presetIcon),style:{fontSize:16},a11yText:"dropdown"})),I.default.createElement(R,{className:(0,ne.default)("flex items-center",ce.configContainer),onClick:V,ref:Re},I.default.createElement("div",{className:(0,ne.default)("flex items-center flex-wrap justify-end")},I.default.createElement(Je,{icon:"okx-defi-dex-slippage",text:vo,status:Hn}),I.default.createElement("div",{className:ce.divide}),I.default.createElement(Je,{icon:"okx-defi-dex-fee",text:Xn}),I.default.createElement("div",{className:ce.divide}),I.default.createElement(Je,{text:U.text,icon:U.icon,status:U.status,tooltipText:U.tips,showWarningIcon:U.showWarningIcon})),I.default.createElement(G,{className:(0,ne.default)("okx-defi-marketplace-chevron-right",ce.goIcon),style:{fontSize:16},a11yText:"config-item"}))),I.default.createElement(ze.Tour,{show:Ee,finishText:S("commonall_button_text_done"),onClose:()=>{ve(!1),ae.set(Ke,"1")},steps:Eo})))},Cn=F(Jn);var ei=e=>bn.default.createElement(Cn,{...e}),wl=ei;t();r();var ue=p(g()),Zo=p(L());t();r();var _o=p(g());var xn=()=>{let{quoteStore:e,commonStore:o}=f(),i=e.computedCurrentDefiPlatformInfo??null,n=(0,_o.useMemo)(()=>Ae(o.currencyConversion(i?.savingValueUSD).toString(),o.computedNowCurrencySymbol,{needPlaceholder:!0}),[i?.savingValueUSD]);return i?_o.default.createElement(qt,{isHasSaving:i.isHasSaving,savingValueUSD:n,savingAmount:i.savingAmount,skipFormat:!0}):null};t();r();var Be={"btn-loading":"_btn-loading_sdgyo_1",btnLoading:"_btn-loading_sdgyo_1","btn-afterfix":"_btn-afterfix_sdgyo_5",btnAfterfix:"_btn-afterfix_sdgyo_5",btn:"_btn_sdgyo_1","btn-content":"_btn-content_sdgyo_11",btnContent:"_btn-content_sdgyo_11",flash:"_flash_sdgyo_14"};var ep=F(({loading:e,className:o,useMemeSwapBtnProps:i})=>{let{btnTxt:n,btnType:s,statusType:m,onClick:a,...c}=i(),d=["BUY_ACTIVE","SELL_ACTIVE"].includes(s),_=(0,ue.useCallback)(()=>{setTimeout(()=>{a?.()})},[a]);return ue.default.createElement(E,{height:40,loading:e,className:Be.btnLoading},ue.default.createElement(We,{className:(0,Zo.default)(Be.btn,o),contentClassName:Be.btnContent,category:We.CATEGORY.fill,type:We.TYPE.primary,size:We.SIZE.lg,block:!0,onClick:_,...c},d&&ue.default.createElement(G,{className:(0,Zo.default)("okx-defi-dex-quick-filled",Be.flash),style:{fontSize:16},a11yText:"flash"}),ue.default.createElement("span",null,n?.())),ue.default.createElement("div",{className:Be.btnAfterfix},ue.default.createElement(xn,null)))});t();r();var J=p(g()),ko=p(L());t();r();var go=p(g());function Mn({userUniqueId:e,computedAccountId:o,chainId:i,debouncedFetchPositionList:n,positionList:s,fromToken:m,setFromToken:a,toToken:c,setToToken:d}){let{configStore:_,accountStore:k}=f(),{currentMode:T}=_,C=Cr(),x=(0,go.useMemo)(()=>!s||s?.length===0,[s]),M=h=>{if(T==="sell"?h?.tokenContractAddress!==m?.tokenContractAddress&&a(h):h?.tokenContractAddress!==c?.tokenContractAddress&&d(h),C(),Pe()){let y=document.querySelector("#meme-swap-container");y&&y.scrollTo({top:0,behavior:"smooth"});return}window.scrollTo({top:0,behavior:"smooth"})},{loaded:v}=tr(k);return(0,go.useEffect)(()=>{if(!!v&&e&&o&&i){let h={chainId:i,accountId:o,userUniqueId:e},b=or.getMinAmountThresholdParam();b&&(h.minAmountThreshold=b),n(h)}},[i,o,e,v]),{isEmptyData:x,handleSelect:M}}t();r();var Ko=p(g()),vn=p(L());t();r();var En={"empty-container":"_empty-container_1jq1y_1",emptyContainer:"_empty-container_1jq1y_1"};var oi=()=>{let e=()=>Ko.default.createElement(Po.State,{type:Po.State.TYPE.noResult,title:S("swaptrade_general_emptystate_no_assets")});return Ko.default.createElement("div",{className:(0,vn.default)("flex justify-content-center align-items-center",En.emptyContainer)},e())},In=oi;t();r();var Te={"my-position":"_my-position_e4ojt_1",myPosition:"_my-position_e4ojt_1",line:"_line_e4ojt_4","title-part":"_title-part_e4ojt_9",titlePart:"_title-part_e4ojt_9",title:"_title_e4ojt_9","chain-logo":"_chain-logo_e4ojt_23",chainLogo:"_chain-logo_e4ojt_23",container:"_container_e4ojt_26"};var ti=F(()=>{let{configStore:e,memePositionStore:o,accountStore:i,commonStore:n,buyStore:s,sellStore:m}=f(),{computedConfig:a}=e,c=a?.nativeTokenInfo,d=c?.chainLogoUrl,_=c?.chainId,{fetchPositionList:k,positionList:T,initState:C}=o,{computedAccountId:x}=i,{userUniqueId:M,computedNowCurrencySymbol:v}=n,{setToToken:h,toToken:b}=s,{setFromToken:y,fromToken:P}=m,w=kr(k,300),{isEmptyData:N,handleSelect:V}=Mn({userUniqueId:M,computedAccountId:x,chainId:_,debouncedFetchPositionList:w,positionList:T,setToToken:h,toToken:b,setFromToken:y,fromToken:P});if(!M)return null;let D=(0,J.useMemo)(()=>N?J.default.createElement(In,null):J.default.createElement("div",{className:Te.container},J.default.createElement(br,{key:_,isMyPosition:!0,normalList:T,selectToken:V,computedNowCurrencySymbol:v})),[N,P?.tokenContractAddress,b?.tokenContractAddress,T]);return C&&J.default.createElement("div",{className:(0,ko.default)(Te.myPosition)},J.default.createElement("div",{className:Te.line}),J.default.createElement("div",{className:(0,ko.default)("flex items-center justify-between",Te.titlePart)},J.default.createElement("span",{className:Te.title},S("swaptrade_meme_order_title_my_positions")),J.default.createElement(oo,{src:d,size:24,className:(0,ko.default)(Te.chainLogo)})),D)}),Rp=ti;t();r();t();r();var Ce=p(g()),So=p(L());t();r();var ye={content:"_content_sj07h_1",left:"_left_sj07h_6",right:"_right_sj07h_13",skeleton:"_skeleton_sj07h_26","right-skeleton":"_right-skeleton_sj07h_30",rightSkeleton:"_right-skeleton_sj07h_30",border:"_border_sj07h_34"};var Nn=({className:e="",rightLoading:o,initLoading:i,fee:n})=>{let{getUsd:s}=io(f),m=s(n);return Ce.default.createElement(E,{loading:i,height:16,className:(0,So.default)(e,ye.skeleton)},Ce.default.createElement("div",{className:(0,So.default)(e,ye.content)},Ce.default.createElement("div",{className:ye.left},S("swaptrade_order_info_label_network_fee")),Ce.default.createElement(E,{loading:o,height:16,className:ye.rightSkeleton},Ce.default.createElement("div",{className:ye.right},Ce.default.createElement("div",{className:(0,So.default)("ml-4","content-primary",ye.rightText)},m)))))};t();r();var le=p(g()),Pn=p(Ne()),je=p(L());t();r();var _e={content:"_content_18lf9_1",left:"_left_18lf9_6",right:"_right_18lf9_13",skeleton:"_skeleton_18lf9_26","right-skeleton":"_right-skeleton_18lf9_30",rightSkeleton:"_right-skeleton_18lf9_30"};var wn=({className:e="",rightLoading:o,initLoading:i,type:n="market",currency:s,amount:m,mode:a})=>{let c=(0,Pn.useHistory)(),d={market:S("swaptrade_modal_dialog_option_market"),fast:S("swaptrade_modal_dialog_option_fast5x"),turbo:S("swaptrade_modal_dialog_option_turbo10x")},_=`${X(we)}?tab=${a}`,k=m&&s?`${pe(m,{needBillionMillionUnit:!1})} ${s}`:"--";return le.default.createElement(E,{loading:i,height:16,className:(0,je.default)(e,_e.skeleton)},le.default.createElement("div",{className:(0,je.default)(e,_e.content)},le.default.createElement("div",{className:_e.left},S("swaptrade_modal_dialog_title_priority")),le.default.createElement(E,{loading:o,height:16,className:_e.rightSkeleton},le.default.createElement(R,{className:_e.right,onClick:()=>{c.push(_)}},n in d?le.default.createElement(mt,{size:st.SIZE.sm},d[n]):null,le.default.createElement("div",{className:(0,je.default)("ml-4","content-primary",_e.rightText)},k),le.default.createElement(G,{iconName:"okx-defi-dex-arrow-right-1",className:(0,je.default)("ml-4","content-secondary",_e.rightIcon)})))))};t();r();var ee=p(g()),To=p(L());t();r();var ho=p(g());t();r();var An={"value-diff-percent":"_value-diff-percent_kz08o_1",valueDiffPercent:"_value-diff-percent_kz08o_1","base-up":"_base-up_kz08o_10",baseUp:"_base-up_kz08o_10","base-down":"_base-down_kz08o_13",baseDown:"_base-down_kz08o_13"};var Dn=({computedValueDifference:e,formattedFiatValue:o,crossValueDifferenceTooltipProps:i})=>{if(!o)return null;let{diffPercentWeakTip:n}=e,s=Ot({specialValueRangePrompt:n,isOfflineType:!1,isReferredFee:!1});return ho.default.createElement("div",{className:An.valueDiffPercent},ho.default.createElement("span",null,`\u2248${o}`),ho.default.createElement(Ut,{isSwapChain:!0,valueDifference:e,swapChainValueDifferenceTooltip:s,crossValueDifferenceTooltipProps:i}))};t();r();var ie=p(g());var Ln=({stop:e})=>{let o=(0,ie.useRef)(null);(0,ie.useEffect)(()=>{o.current?.beginElement()},[]),(0,ie.useEffect)(()=>{e?o.current?.endElement():o.current?.beginElement()},[e]);let i=["rotate(","-90"," ","8"," ","8",")"].join("");return ie.default.createElement("svg",{id:"progressSvg",width:"16",height:"16",viewBox:"0 0 16 16"},ie.default.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#A3A3A3",style:{stroke:"#A3A3A3"},strokeWidth:"3",fill:"none"}),ie.default.createElement("circle",{id:"progressCircle",cx:"8",cy:"8",r:"5",stroke:"var(--okd-color-border-primary)",strokeWidth:"3",fill:"none",strokeDasharray:"31.4",strokeDashoffset:"31.4",transform:i},ie.default.createElement("animate",{ref:o,attributeName:"stroke-dashoffset",from:"31.4",to:"0",dur:"5s",fill:"remove",begin:"indefinite"})))};t();r();var ge={content:"_content_1bbbw_1",left:"_left_1bbbw_6",right:"_right_1bbbw_13",skeleton:"_skeleton_1bbbw_26","right-skeleton":"_right-skeleton_1bbbw_30",rightSkeleton:"_right-skeleton_1bbbw_30",amount:"_amount_1bbbw_34","to-token":"_to-token_1bbbw_41",toToken:"_to-token_1bbbw_41"};var ri=({className:e="",initLoading:o,rightLoading:i,circleLoading:n,tokenAmount:s,tokenSymbol:m})=>{let{quoteStore:a,commonStore:{currencyConversionWithSymbol:c}}=f(),{computedValueDifference:d,computedToTokenValue:_}=a,k=_?c(_,{needBillionMillionUnit:!1}):"";return ee.default.createElement(E,{loading:o,height:32,className:(0,To.default)(e,ge.skeleton)},ee.default.createElement("div",{className:(0,To.default)(e,ge.content)},ee.default.createElement("div",{className:ge.left},S("swaptrade_modal_label_quote")),ee.default.createElement(E,{loading:i,height:32,className:ge.rightSkeleton},ee.default.createElement("div",{className:ge.right},ee.default.createElement("div",{className:"flex items-center"},ee.default.createElement(Ln,{stop:n}),ee.default.createElement("div",{className:(0,To.default)("ml-4 content-primary",ge.amount)},s?pe(s,{needBillionMillionUnit:!1}):"--",ee.default.createElement("div",{className:ge.toToken},m))),ee.default.createElement(Dn,{formattedFiatValue:k,computedValueDifference:d})))))},Fn=F(ri);t();r();var q=p(g()),Ve=p(L());t();r();var Jo=p(g()),Vn=p(L());t();r();var Bn={text:"_text_1p989_1"};var ni=({text:e,tooltip:o,toolTipsProps:i,onShowExplain:n})=>Jo.default.createElement(it,{title:o,...i},Jo.default.createElement("span",{onMouseEnter:n,className:(0,Vn.default)(Bn.text)},e)),Un=ni;t();r();var be=p(g());var On=(e,o,i,n)=>{let{fromToken:s,toToken:m}=o,a=(0,be.useRef)(""),c=(0,be.useRef)(""),d=(0,be.useRef)(""),_=(0,be.useRef)("");(0,be.useEffect)(()=>{let k=a.current,T=c.current,{tokenSymbol:C}=s||{},{tokenSymbol:x}=m||{},{serviceFeeUsd:M}=e.computedServiceFeeInfo||{},v=i?n:M,h=e.computedGetQuoteFromValue||e.computedFromTokenValue,b=M&&C&&x&&h,y=k!==M&&T!==h||d.current!==x||_.current!==C;b&&y&&(gt({fee_shown:v,from_token_symbol:s.tokenSymbol,to_token_symbol:m.tokenSymbol,from_to_pair_symbol:`${s.tokenSymbol}:${m.tokenSymbol}`,input_amount_usd:h,source:_t()?.source,terminal:Pe()?Vo.Plugin:Vo.WEB,selected_chain_id:s.chainId,chain_name:s.chainName}),a.current=v,c.current=h,d.current=x,_.current=C)},[s,m,e.computedGetQuoteFrom,e.computedServiceFeeInfo,i,n,e])};t();r();var se={content:"_content_1bup3_1",left:"_left_1bup3_6",right:"_right_1bup3_13",skeleton:"_skeleton_1bup3_26","right-skeleton":"_right-skeleton_1bup3_30",rightSkeleton:"_right-skeleton_1bup3_30","service-fee":"_service-fee_1bup3_34",serviceFee:"_service-fee_1bup3_34","original-percent-right":"_original-percent-right_1bup3_41",originalPercentRight:"_original-percent-right_1bup3_41",icon:"_icon_1bup3_46",referralTag:"_referralTag_1bup3_49",referralArrow:"_referralArrow_1bup3_52"};var ii=({className:e="",initLoading:o,rightLoading:i,useBussinessStore:n,usePercentage:s,labelText:m="",unbindRefCode:a,onStopUseRefCode:c,referralMonitorParams:d})=>{let{getUsd:_}=io(n),{quoteStore:k}=n(),{computedGetQuoteFrom:T,computedGetQuoteTo:C}=k,x=(0,q.useMemo)(()=>({fromToken:T,toToken:C}),[T,C]),M=k.computedServiceFeeInfo||{},{isDisplayServiceFee:v,label:h,tooltip:b,discountedPercent:y,hasDiscount:P,originalPercent:w}=Bt({...M,formatServiceFeeUsd:_});if(On(k,x,s,y),!v)return null;let N=!!a,V=N?R:"div";return q.default.createElement(E,{loading:o,height:16,className:(0,Ve.default)(e,se.skeleton)},q.default.createElement("div",{className:(0,Ve.default)(e,se.content)},q.default.createElement("div",{className:(0,Ve.default)("flex",se.left)},q.default.createElement(Un,{tooltip:b,text:m||h})),q.default.createElement(E,{loading:i,height:16,className:se.rightSkeleton},q.default.createElement("div",{className:se.right},q.default.createElement(V,{className:(0,Ve.default)("ml-4 content-primary",se.serviceFee),onClick:()=>{!N||Jt({onStop:c,...d})}},N&&q.default.createElement(Kt,{className:se.referralTag,...d}),q.default.createElement("span",null,y),P&&q.default.createElement("span",{className:se.originalPercentRight},w),N&&q.default.createElement(G,{iconName:(0,Ve.default)(se.referralArrow,"okx-defi-marketplace-chevron-right")}))))))},Rn=F(ii);t();r();var me=p(g()),Wn=p(Ne()),Ue=p(L());t();r();var oe={content:"_content_1897u_1",left:"_left_1897u_6",right:"_right_1897u_13",skeleton:"_skeleton_1897u_26","right-skeleton":"_right-skeleton_1897u_30",rightSkeleton:"_right-skeleton_1897u_30",warning:"_warning_1897u_34","warning-text":"_warning-text_1897u_37",warningText:"_warning-text_1897u_37"};var Qn=({className:e="",initLoading:o,rightLoading:i,percent:n,isSafeMoonToken:s=0,tokenSymbol:m="",tokenTax:a="",mode:c})=>{let d=(0,Wn.useHistory)(),_=n?`${Se(O.mul(n,100),{needZero:!1})}`:"--",k=s===1&&!i&&O.gt(a,0)&&O.lt(n,a),T=k?Se(O.mul(a,100),{needZero:!1}):"--",C=`${X(we)}?tab=${c}`;return me.default.createElement(E,{loading:o,height:16,className:(0,Ue.default)(e,oe.skeleton)},me.default.createElement("div",{className:(0,Ue.default)(e,oe.root)},me.default.createElement("div",{className:oe.content},me.default.createElement("div",{className:oe.left},S("swaptrade_extension_header_title_slippage_tolerance")),me.default.createElement(E,{loading:i,height:16,className:oe.rightSkeleton},me.default.createElement(R,{className:oe.right,onClick:()=>{d.push(C)}},me.default.createElement("div",{className:(0,Ue.default)("content-primary",oe.rightText,{[oe.warning]:k})},_),me.default.createElement(G,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Ue.default)("ml-4","content-secondary",oe.rightIcon)})))),k?me.default.createElement("div",{className:(0,Ue.default)("mt-16",oe.warningText)},S("swaptrade_modal_alert_error_trade_tax",{token:m,num:T})):null))};var t_={PriorityFee:wn,Quote:Fn,Slippage:Qn,NetworkFee:Nn,ServiceFeeInfo:Rn};t();r();var A=p(g()),qn=p(Ne());var He=p(L());t();r();var Y={root:"_root_sy5hk_1",chain:"_chain_sy5hk_9",content:"_content_sy5hk_13",symbol:"_symbol_sy5hk_18","token-select":"_token-select_sy5hk_34",tokenSelect:"_token-select_sy5hk_34",copy:"_copy_sy5hk_44",address:"_address_sy5hk_50",data:"_data_sy5hk_58",price:"_price_sy5hk_63",split:"_split_sy5hk_74",cap:"_cap_sy5hk_81",skeleton:"_skeleton_sy5hk_92","high-risk-token":"_high-risk-token_sy5hk_95",highRiskToken:"_high-risk-token_sy5hk_95"};function si(e){let o=e,i=o.getBoundingClientRect().width,n=document.createRange();return n.setStart(o,0),n.setEnd(o,o.childNodes.length),n.getBoundingClientRect().width-i>1}var x_=({className:e="",loading:o,mode:i,item:n})=>{let s=(0,qn.useHistory)(),{commonStore:m}=f(),a=m.computedNowCurrencySymbol,c=`${X(lt)}?tab=${i}`,d=rr(n?.price?m.currencyConversion(n.price).toString():null,n?.chainId??0,n?.tokenContractAddress??"",a).value,_=ft(n?.marketCap?m.currencyConversion(n.marketCap).toString():null,{currencySign:a}).value,k=(0,A.useRef)(null),[T,C]=(0,A.useState)(!1);(0,A.useEffect)(()=>{!T&&_&&k.current&&si(k.current)&&C(!0)},[T,_,k.current]);let x={display:T?"block":"flex"},M={marginTop:T?"4px":"0"};return A.default.createElement(E,{loading:o||!n?.tokenSymbol,height:86,className:(0,He.default)(e,Y.skeleton)},A.default.createElement("div",{className:(0,He.default)(e,Y.root)},A.default.createElement("div",{className:Y.chain},A.default.createElement(Vt,{tokenSrc:n?.tokenLogoUrl??Lo(),chainSrc:n?.chainLogoUrl??Lo(),chainSize:14,tokenSize:34,className:(0,He.default)("boxCurrency")})),A.default.createElement("div",{className:Y.content},A.default.createElement("div",{className:"flex items-center justify-start"},A.default.createElement(R,{className:Y.symbol,onClick:()=>{s.push(c)}},n?.tokenSymbol||"--"),A.default.createElement(R,{onClick:()=>{s.push(c)}},A.default.createElement(G,{className:(0,He.default)("okx-defi-dex-arrow-down-sincere",Y.tokenSelect),style:{fontSize:12},a11yText:"select"}))),A.default.createElement("div",{className:Y.address},bt(n?.tokenContractAddress,8,8)||"--",A.default.createElement(Rt,{token:n,showTooltip:!0,className:Y.highRiskToken})),A.default.createElement("div",{className:Y.data,style:x},A.default.createElement("div",{className:Y.price},S("swaptrade_trade_label_price_numvalue",{value:d})),T?null:A.default.createElement("div",{className:Y.split}),A.default.createElement("div",{className:Y.cap,ref:k,style:M},S("swaptrade_trade_label_mcap_numvalue",{value:_}))))))};t();r();var j=p(g()),Xe=p(L());t();r();var yo=p(g());var mi=e=>yo.default.createElement(Pt,{...e}),Gn=(0,yo.memo)(mi);t();r();var te={"input-box":"_input-box_12cvh_1",inputBox:"_input-box_12cvh_1",tradeNumberInput:"_tradeNumberInput_12cvh_4",inner:"_inner_12cvh_4",disabled:"_disabled_12cvh_9",input:"_input_12cvh_1",label:"_label_12cvh_15",unit:"_unit_12cvh_23",error:"_error_12cvh_27",mt2:"_mt2_12cvh_33"};var ai=(0,j.memo)(({label:e,disabled:o})=>e?j.default.createElement("span",{className:(0,Xe.default)(te.label,{[te.disabled]:o})},e):null),ci=(0,j.memo)(({unit:e})=>e?j.default.createElement("div",{className:te.unit},e):null),ui=(0,j.memo)(({label:e,unit:o,quickSelectOptions:i,handleUpdateQuickSelectOptions:n,error:s,selectedIndex:m,disabled:a,...c})=>{let{suffix:d,..._}=c,k=d??j.default.createElement(ci,{unit:o});return j.default.createElement("div",{className:te.inputBox},j.default.createElement(No.Number,{spellCheck:"false",error:!!s,errorType:No.TIP_TYPE.always,disabled:a,enableMinus:!1,inputMode:"decimal",a11yLabel:typeof e=="string"?e:"input",..._,prefix:j.default.createElement(ai,{label:e,disabled:a}),suffix:k,className:(0,Xe.default)(te.tradeNumberInput,c.className),innerClassName:(0,Xe.default)(te.inner,{[te.disabled]:a},c.innerClassName),inputClassName:(0,Xe.default)(te.input,c.inputClassName)}),j.default.createElement(Gn,{className:te.mt2,options:i,selectedIndex:m,handleUpdateQuickSelectOptions:n,disabled:a}),!!s&&j.default.createElement("p",{className:te.error},s))}),Y_=ui;t();r();function Z_(){let{sellStore:e,buyStore:o,quoteStore:i,configStore:n}=f(),{computedIsSell:s}=n,m=s?e.computedSellNumberIsValid:o.computedBuyNumberIsValid,a=i.initLoading&&Pe();return!i.computedQuoteIsInvalid&&m||a}t();r();var Co=p(g()),Yn=p(Ne());var rg=e=>{let[o,i]=(0,Co.useState)(null),n=(0,Yn.useHistory)(),{queryParams:s}=ro(),m=s?.get("inputChain"),a=s?.get("inputCurrency"),c=s?.get("outputChain"),d=s?.get("outputCurrency");return(0,Co.useEffect)(()=>{if(!s)return;let C=Ht(s),x=Yt(e);to(e,C)?i(C):to(e,x)?i(x):i(Gt())},[e==="buy"?c:m,e==="buy"?d:a]),{tokenPair:o,setTokenPair:C=>{to(e,C)&&(jt(e,C),Xt(n,n.location.pathname,C))}}};t();r();var Oe=p(g());function li(){let{accountStore:e}=f(),{fromToken:o,toToken:i}=B(),{computedSignWalletAddress:n,computedAccountId:s}=e,m=e.getAddressByChainId(o?.chainId),a=Le(),c=Ir(),d=Nr(),_=mo();return(0,Oe.useCallback)(async()=>{let k=await Tt(n,o.chainId);return{userWalletAddress:m,tradeMode:It.MEME,accountInfo:{accountId:s},slippageConfig:{slippage:c,slippageType:d,maxSlippage:_},liquidityConfig:{defiPlatformIds:at},chainId:o.chainId,fromTokenAddress:o.tokenContractAddress,toTokenAddress:i.tokenContractAddress,amount:a,ext:k}},[m,c,d,_,o.chainId,o.tokenContractAddress,i.tokenContractAddress,a,s,n])}function dg(){let{quoteStore:e}=f(),{fetchQuote:o,cleanQuoteTimer:i}=e,n=li(),s=(0,Oe.useCallback)(async()=>{let m=await n();await o(m)},[n,o]);(0,Oe.useEffect)(()=>{s()},[s]),(0,Oe.useEffect)(()=>()=>{i()},[i])}t();r();var bo=p(g());var pi=e=>!e?.tokenContractAddress&&e?.tokenContractAddress!=="",fi=(e,o)=>e&&o&&o.price&&o.tokenContractAddress===e?.tokenContractAddress,di=e=>e.chainId,Tg=(e,o)=>{let[i,n]=(0,bo.useState)(null),s=fe();return(0,bo.useEffect)(()=>{async function m(){if(!pi(o)){if(fi(o,e)){n(e);return}if(!!di(s))if(o?.tokenContractAddress){let a=await Sr({inputContent:o?.tokenContractAddress,...s});if(a)n(a);else{let c=await Go(s);n(c)}}else{let a=await Go(s);n(a)}}}m()},[o?.tokenContractAddress,s.chainId,s.accountId,s.userUniqueId,s.walletId,s.walletAddress]),i};t();r();var xo=p(g());var _i=({myPosition:e,positionList:o,myPositionUsed:i,setMyPositionUsed:n})=>{if(!i&&e==="1"&&o.length){let s=document.querySelector("#meme-swap-container");s&&setTimeout(()=>{s.scrollTo({top:460,behavior:"smooth"}),n(!0),zt("myPosition")},400)}},vg=()=>{let{queryParams:e}=ro(),{memePositionStore:o}=f(),{positionList:i}=o,n=e?.get?.("myPosition"),[s,m]=(0,xo.useState)(!1);(0,xo.useEffect)(()=>{_i({myPosition:n,positionList:i,myPositionUsed:s,setMyPositionUsed:m})},[n,i,s])};t();r();Ie();var Dg=()=>{let{configStore:e}=f();return H(e,"computedNativeTokenInfo",null)};t();r();var Mo=p(g());var Og=(e,o)=>{let[i,n]=(0,Mo.useState)(null),s=fe(),{chainId:m,accountId:a,userUniqueId:c,userWalletAddress:d,businessType:_}=s;return(0,Mo.useEffect)(()=>{async function k(){if(e&&m&&a&&c&&d){let T=await hr({tokenAddress:e,chainId:m,accountId:a,userUniqueId:c,walletId:a,userWalletAddress:d,businessType:_},o);n(T)}}k()},[e,m,a,c,d,_]),i};t();r();var jn=p(g());var Gg=()=>(0,jn.useMemo)(()=>S("swaptrade_input_placeholder_label_amount"),[]);export{rg as a,dg as b,Tg as c,vg as d,Dg as e,Og as f,Um as g,Ec as h,Gc as i,nu as j,Iu as k,Ru as l,wl as m,ep as n,Rp as o,t_ as p,x_ as q,Y_ as r,Gg as s,Z_ as t};
//# sourceMappingURL=chunk-CBCQ475Z.js.map
