import{a as jt}from"./chunk-LJH5W7ES.js";import{a as dr}from"./chunk-V347ZKZ3.js";import{a as Ht}from"./chunk-PSGT3KTF.js";import{a as _r,b as gr,c as Sr,d as hr,e as Cr,f as kr,g as Tr,h as xr,i as yr,j as Ir,k as wr,l as br,m as qr,o as Vr}from"./chunk-MFGGF2Y7.js";import"./chunk-E5UIMO2Q.js";import{A as ar,B as lr,C as ur,D as pr,E as fr,I as Er,J as Dr,K as Pr,L as Mr,M as Br,N as Or,O as Fr,a as Ce,b as Fe,c as Xt,d as zt,e as Kt,f as Zt,g as $t,h as qe,i as Ve,j as G,k as Jt,l as ke,m as Do,n as Te,o as w,p as Xo,q as yo,r as er,s as tr,u as rr,v as nr,w as sr,x as Re,y as ir,z as mr}from"./chunk-DATB6I72.js";import{a as Lr}from"./chunk-UR22LX4B.js";import{a as Qt,f as Yt}from"./chunk-E4GROAX5.js";import{k as cr}from"./chunk-5FG6H5J6.js";import"./chunk-5752NKZT.js";import"./chunk-2QA7T6UC.js";import"./chunk-LEVBC5FZ.js";import"./chunk-Q2VVUFER.js";import"./chunk-EYUFC4TO.js";import{a as Eo}from"./chunk-6U5AQS6C.js";import"./chunk-QHC2DYOH.js";import{a as Nr,b as vr,c as Ar}from"./chunk-O6NQ2NHM.js";import{d as or}from"./chunk-LHMBREWS.js";import"./chunk-Y4CIMEKM.js";import"./chunk-K6IXN25O.js";import"./chunk-SRY3G57A.js";import{a as Vt}from"./chunk-AGXWN2TT.js";import{c as he}from"./chunk-L6KPEUIR.js";import"./chunk-EPX4LAAB.js";import{a as q,c as Et,e as Dt,f as Se}from"./chunk-S4V3ABCT.js";import"./chunk-R6FBHCT7.js";import{a as Mt,b as Bt}from"./chunk-PZXJSKV7.js";import"./chunk-MHNQB4I5.js";import"./chunk-GVFJTHCK.js";import"./chunk-J63JN6ZK.js";import"./chunk-LOGCUUNU.js";import{i as Rt,j as Ut}from"./chunk-KUKFUJBA.js";import"./chunk-DWEK3EIG.js";import"./chunk-QR5EI5TJ.js";import"./chunk-BHFRQZBI.js";import{a as Me}from"./chunk-57DLZB3H.js";import"./chunk-KJYTBTZX.js";import"./chunk-7B2UMYR3.js";import{c as Be,d as Ft,e as qt}from"./chunk-DLWPK36I.js";import"./chunk-5T4URYBB.js";import"./chunk-6KT3MJYR.js";import{g as Oe,n as ne}from"./chunk-ER33EHJQ.js";import"./chunk-LUU4SMIP.js";import{a as O}from"./chunk-4TAIYLPS.js";import"./chunk-LQG7SAW5.js";import"./chunk-CTJA2WQT.js";import{a as Gt,b as Wt}from"./chunk-IKQGQFXB.js";import{a as Pt}from"./chunk-F2F65RJN.js";import{c as Ot}from"./chunk-EGIK3RWU.js";import{f as xo,i as ge,j as Lt}from"./chunk-TQ2XASI3.js";import"./chunk-XXAIJB4T.js";import"./chunk-VPT3GAIN.js";import{c as _}from"./chunk-VJ2JNI4M.js";import{C as bt,Pa as At,ra as Nt,xa as vt,z as Pe}from"./chunk-22THXMTO.js";import"./chunk-HUG2KBCE.js";import{a as Lo}from"./chunk-MCCEOABZ.js";import{b as K}from"./chunk-UJWKDH2G.js";import{H as it,d as jo,f as Qo,g as st,l as So,n as z,o as _e,u as Ho,v as ho}from"./chunk-AHLFMVMC.js";import"./chunk-KZDRRGNV.js";import{a as Ao}from"./chunk-3DAKLS7D.js";import"./chunk-JVJHSYZS.js";import{a as ro,j as vo,l as j,m as yt,s as It,u as wt}from"./chunk-IFGNGASP.js";import{A as at,Bc as re,C as Co,He as h,Jb as to,Ka as St,Rc as Tt,Tc as To,Uc as Yo,Vb as ht,Wb as Ct,Xb as kt,_c as xt,eb as ko,la as lt,ma as ut,n as x,na as pt,o as mt,oa as ct,ob as F,p as De,pa as ft,qa as dt,ra as _t,ta as gt,xa as te}from"./chunk-NPJCEXXH.js";import"./chunk-4HHTYYQM.js";import"./chunk-PWGSI7LM.js";import"./chunk-RVS5KJOS.js";import{B as R,s as eo,v as Ee}from"./chunk-5RLAMZDG.js";import"./chunk-VYWNZTTM.js";import"./chunk-K6YGPUNZ.js";import"./chunk-K6262WF4.js";import"./chunk-ZJ4FWIGG.js";import"./chunk-34KDKISZ.js";import"./chunk-AL77NTUI.js";import"./chunk-V3FLECS4.js";import"./chunk-LHUS6JBK.js";import"./chunk-R6TSAW7C.js";import"./chunk-2W2QYRRT.js";import"./chunk-Q7AZQDRY.js";import"./chunk-DSO47LPO.js";import"./chunk-QOQ6OPZO.js";import"./chunk-MGS2LE6A.js";import{a as nt}from"./chunk-CBNY2XQM.js";import"./chunk-FRGP5XJV.js";import{a as D}from"./chunk-Q2B4R57L.js";import{b as S}from"./chunk-PJC4UBLU.js";import"./chunk-HDMZQINQ.js";import{$ as U,F as et,I as tt,N as rt,W as de,e as Ze,j as M,l as $e,n as Je,u as ot}from"./chunk-JYNY5RZ4.js";import"./chunk-F6LAWA6D.js";import"./chunk-OAMYZMR4.js";import"./chunk-I7KURANN.js";import"./chunk-BGUOO6AC.js";import"./chunk-GUM36CPA.js";import{f as u,o as r,q as n}from"./chunk-LHDKEQAM.js";r();n();var y=u(S()),Le=u(D());r();n();var Po=u(S());var bs=({isDialog:o,dialogProps:t={}})=>{let{isSm:e}=K(),{commonStore:s}=_(),{computedIsWalletEnv:m}=s;return e||m||!e&&o?Po.default.createElement(Po.default.Fragment,null,Po.default.createElement(rr.MobileView,{isDialog:o,dialogProps:t}),m&&Po.default.createElement(Po.default.Fragment,null,Po.default.createElement(nr,null))):null},Rr=x(bs);r();n();var Zo=u(S());r();n();var B=u(S()),Ko=u(D());r();n();var Z=u(S()),cn=u(D());r();n();var P=u(S()),mn=u(D());r();n();var Gr=u(S());U();var Wr=()=>{let{quoteStore:o,commonStore:t,fromToStore:e}=_(),{aggregateFetchStatus:s}=o,m=M(o,"quote.bestRoute.defiPlatformInfoList",[]);return(0,Gr.useMemo)(()=>{if(s===3)return m;let a=t.getChainByID(e.from.chainId),i=M(a,"supportPlatformIds",[]).filter(l=>l!==ko).map(l=>({defiPlatformId:l,status:1})).slice(0,3);return Je([],m,i)},[m,e.from.chainId,s,t.chainList])};r();n();var Qr=u(S());r();n();var jr={alert:"_alert_12652_1"};var Hr=({info:o,className:t=""})=>{if(o){let{title:e,desc:s,type:m,onConfirm:a,confirmText:i}=o;return Qr.default.createElement(Qo,{className:t||jr.alert,title:e,desc:s,type:m,closable:!1,onConfirm:a,confirmText:i})}return null};r();n();var Q=u(S()),nn=u(D());U();r();n();var no=u(S()),Ue=u(D());var Ns=({isDialog:o,keepDisplay:t=!1,labelClassName:e="",labelIconClassName:s=""})=>{let{fromToStore:m,quoteStore:a}=_(),{computedIsSingleChain:i}=m,{setLiquidityModelVisible:l}=q,{computedIsOkxProvider:c}=a,C=()=>{l(!0),bt({button_name:"liquidity_sources"})},p=F()?{maxWidth:200,placement:ho.DIRECTION.topRight}:{};return i&&!o&&c||t?no.default.createElement($t,{key:"smartRouter"},no.default.createElement("span",{className:(0,Ue.default)("flex items-center",qe.itemLabel,e)},h("swaptrade_1swap_selectioncard_label_liquidity"),no.default.createElement(ho,{title:h("swaptrade_compliance_tooltips_note_that_okx_dex"),...p},no.default.createElement(Gt,{className:s}))),no.default.createElement(Zt,null,no.default.createElement("div",{className:(0,Ue.default)(["font-bold","flex","align-items-center","content-primary","cursor-pointer",qe.slippage]),role:"button",tabIndex:0,onClick:C},no.default.createElement("span",null,O.computedLiquidityNum),no.default.createElement(eo,{iconName:"okx-defi-dex-arrow-right-1",className:"ml-4 content-primary"})))):null},Yr=x(Ns);r();n();var xe=u(S());var vs=({itemInfo:o})=>{let{receiveAmount:t,toTokenPrice:e}=o;return xe.default.createElement("div",{className:"w-100"},xe.default.createElement("div",{className:w.receiveAmount},t),xe.default.createElement("div",{className:w.receiveCurrency},e))},Xr=vs;r();n();var se=u(S());var As=({itemInfo:o})=>{let{estimatedGas:t,isOfflineType:e}=o,{label:s,Container:m,gasFee:a}=sr({isOfflineType:e,gasFee:t});return se.default.createElement("div",{className:w.infoColumn},se.default.createElement("div",{className:w.label},s),se.default.createElement(m,{isOfflineType:e},se.default.createElement("span",{className:w.networkFeeAmount},a)))},zr=As;r();n();var so=u(S());r();n();var Kr=u(S());U();var Zr=o=>(0,Kr.useMemo)(()=>{if(!o||o.length===0)return[];let t=new Map,e=new Map,s=new Map,m=new Map;o.forEach(p=>{let{fromIndex:g,toIndex:k}=p;t.has(g)||t.set(g,[]);let T=t.get(g);T&&T.push(p),e.set(g,(e.get(g)||0)+1),e.has(k)||e.set(k,0),s.set(k,(s.get(k)||0)+1),p.fromToken?.tokenLogoUrl&&m.set(g,p.fromToken.tokenLogoUrl),p.toToken?.tokenLogoUrl&&m.set(k,p.toToken.tokenLogoUrl)}),t.forEach(p=>{p.sort((g,k)=>{let T=parseFloat(g.percent)||0;return(parseFloat(k.percent)||0)-T})});let i=Array.from(e.entries()).filter(([p,g])=>g===0&&p!=="0").sort((p,g)=>{let k=s.get(p[0])||0;return(s.get(g[0])||0)-k})[0]?.[0];if(!i)return console.warn("[useGetDagRoute] No sink node found in DAG routing data"),[];let l=(p,g,k,T)=>{if(p===g)return[...T,p];k.add(p);let I=t.get(p)||[];for(let L of I){let E=L.toIndex;if(!k.has(E)){let v=l(E,g,k,[...T,p]);if(v)return v}}return null},c=l("0",i,new Set,[]);if(!c||c.length===0)return console.warn("[useGetDagRoute] No path found from source to sink in DAG routing data"),[];let C=[];return c.forEach(p=>{let g=m.get(p);g&&C.push(g)}),de(C)},[o]);r();n();U();var $r=o=>de($e(ot(o,({fromToken:t,toToken:e})=>[t.tokenLogoUrl,e.tokenLogoUrl])));var Ls=({routes:o,dagRoutes:t,routeClick:e})=>{let s=$r(o),m=Zr(t),a=t?.length?m||[]:s||[],{isSm:i}=K();return a.length>0&&so.default.createElement("div",{className:w.infoColumn,role:"button",tabIndex:0,onClick:l=>{l.stopPropagation(),e(l)}},so.default.createElement("div",{className:w.label},Co("swaptrade_1swap_selectioncard_label_trading_route")),so.default.createElement("div",{className:w.routeItems},a.map((l,c)=>so.default.createElement(so.default.Fragment,{key:`${c}_route_list`},c>0&&so.default.createElement(Me,{type:"okx-defi-dex-arrow-up-1",size:i?12:16,style:{transform:"rotate(90deg)",fontSize:i?"16px":"20px"},key:`${c}pointer`}),so.default.createElement(Ot,{size:i?16:20,src:l,key:`${c}logo`,className:w.routeItem}))),so.default.createElement(Me,{type:"okx-defi-dex-chevron-up",size:16,className:w.arrow})))},Jr=Ls;r();n();var ye=u(S()),on=u(D());var Es=({itemInfo:o})=>{let{isSm:t}=K(),{logo:e,name:s,reducePercent:m,approved:a,isBest:i,defiPlatformId:l}=o,c=l===ko;return ye.default.createElement("div",{className:(0,on.default)(w.info,w.swapInfo)},ye.default.createElement(Wt,{tooltip:c?Co("swaptrade_compliance_tooltips_okx_dex_refers_to"):"",logo:e,name:s,size:t?16:20,className:w.name,outClassName:w.swapInfoName}),ye.default.createElement(ir,{reducePercent:m,approved:a,size:it.SIZE.lg,isBest:i,className:w.swapInfoTags}))},en=Es;r();n();var tn=u(S());U();var rn=o=>{let{fromToStore:t,approveStore:e,commonStore:s,swapStore:m}=_(),{isSwapSolana:a}=m,{computedNowCurrencySymbol:i,currencyConversion:l}=s,c=o.offlineType===Pt.YES,C=Vt({realTimeTokenPrice:M(t,"to.wsPriceData.price"),amount:o.receiveAmount,nonRealTimeTokenValue:o.toTokenPrice||o.toTokenValue}),{routes:p,dagRoutes:g}=(0,tn.useMemo)(()=>{let k=M(o,"dexRouterList",[]),T=k?.[0];return T&&T.subRouterList?{routes:M(T,"subRouterList",[]),dagRoutes:[]}:T&&!T.subRouterList?{routes:[],dagRoutes:k}:{routes:[],dagRoutes:[]}},[o]);return{...o,logo:o.logo,name:o.name,receiveAmount:`${yt(o.receiveAmount)} ${t.to.tokenSymbol}`,toTokenPrice:h(a(t?.from?.chainId)?"swaptrade_providerselection_subheader_est_amount_jito":"swaptrade_providerselection_subheader_est_amount",{amount:`${vo(l(c?C:C-o.quoteNetWorkFeeOfMoney).toString(),i,{handleLtZero:!0,needBillionMillionUnit:!1,needPlaceholder:!0})}`}),estimatedGas:o.quoteNetWorkFeeOfMoney?vo(l(o.quoteNetWorkFeeOfMoney).toString(),i,{needBillionMillionUnit:!1,needPlaceholder:!0}):Tt,routes:p,dagRoutes:g,isOfflineType:c,approved:e.getApproveTokenConfig(t.from,o.defiPlatformId).tagStatus===St.Approved}};var sn=x(({active:o,itemInfo:t,loading:e,handleRouteClick:s})=>{let{logo:m,name:a,receiveAmount:i,toTokenPrice:l,estimatedGas:c,routes:C,dagRoutes:p,reducePercent:g,approved:k,isBest:T,isOfflineType:I,defiPlatformId:L}=rn(t),E=Te(),v=L===ko,{quoteStore:A,smartRouterStore:V,accountStore:uo,fromToStore:po={},commonStore:X}=_(),{setDexRouterList:co,setXRouteModal:fo}=V,{from:W={},computedIsSingleChain:oe}=po,{chainId:Oo}=W,{computedIsWalletEnv:Fo}=X,_o=uo.getAddressByChainId(Oo),qo=v&&(E||oe||Fo),Vo=()=>{A.setAggregateSelectId(L),A.setAggregateSelectStatus(1),A.updateBestRoute(tt(t,["dexRouterList"])),A.setCompareVisible(!1),Pe({...Oe(),button_name:"provider_card",wallet_address:_o})},Ro=(0,Q.useCallback)(Uo=>{s(Uo),fo(To.XROUTER),co(t.dexRouterList),A.updateBestRoute({...A.quote.bestRoute,dexRouterList:t.dexRouterList}),Pe({...Oe(),button_name:"okxdex_router",wallet_address:_o})},[t.dexRouterList,A,_o]);return e?Q.default.createElement(st.Input,{style:{height:150,width:"100%",borderRadius:12}}):Q.default.createElement(jo,{className:(0,nn.default)(w.container,{[w.active]:o}),onClick:()=>{Vo()}},Q.default.createElement(en,{itemInfo:{logo:m,name:a,reducePercent:g,approved:k,isBest:T,defiPlatformId:L}}),Q.default.createElement(Xr,{itemInfo:{receiveAmount:i,toTokenPrice:l}}),qo&&Q.default.createElement(Yr,{isDialog:!1,keepDisplay:!0,labelClassName:w.inquiryColor,labelIconClassName:w.iconColor}),Q.default.createElement("div",{className:w.line}),Q.default.createElement(zr,{itemInfo:{estimatedGas:c,isOfflineType:I}}),Q.default.createElement(Jr,{routes:C,dagRoutes:p,routeClick:Ro}))});var an=x(()=>{let{quoteStore:o,smartRouterStore:t}=_(),{setDialogGroupVisibleStatus:e,computedIsNoOkxLiquidity:s}=o,m=Wr(),{showXRouteModal:a,setXRouteModal:i}=t,l=(0,P.useMemo)(()=>m.map(T=>T.defiPlatformId),[m]),[c,C]=P.default.useState(!1),p=Te(),g=()=>{if(F()){t.setOldRouterModal(!0);return}if(p){C(!0);return}e(2)},k=(0,P.useMemo)(()=>O.computedIsCustomLiquidity&&s?{title:h("swaptrade_1swap_notification_selected_pools_reselect",{swaptrade_1swap_notification_selected_pools_reselect:O.computedIds?.length||"0"}),desc:P.default.createElement(Et,{openLiquidityDialog:()=>{q.setLiquidityModelVisible(!0)}}),type:Dt.info}:null,[s,O.computedIsCustomLiquidity]);return P.default.createElement("div",{className:p?yo.container:null},p&&P.default.createElement("div",{className:yo.header},P.default.createElement("div",{className:"flex items-center justify-between"},P.default.createElement("div",{className:yo.title},h("swaptrade_1swap_input_label_router")),P.default.createElement("div",{className:"flex items-center"},P.default.createElement(Xo,{className:"ml-auto"}))),P.default.createElement("div",{className:yo.desc},h("swaptrade_providerselection_subheader_ranked"))),k&&!p&&P.default.createElement(Hr,{info:k,className:yo.errorTips}),P.default.createElement(Do,{className:(0,mn.default)(yo.content,{"mt-16":p},{[yo.scroll]:!F()}),keyList:l},m?.map(T=>P.default.createElement(Do.Item,{key:T.defiPlatformId,id:T.defiPlatformId},P.default.createElement(sn,{itemInfo:T,active:o.aggregateSelectId===T.defiPlatformId,handleRouteClick:g,loading:T.status===1})))),P.default.createElement(So,{visible:c,title:h("swaptrade_xrouting_single_chain_routes"),showBackBtn:a===To.XROUTER_DETAIL,onBack:()=>{i(To.XROUTER)},onClose:()=>{C(!1)}},P.default.createElement(ke,{isDialog:!0})))});r();n();var zo=u(S());var Ps=["swaptrade_aggregator_dialog_desc_transp_prices","swaptrade_aggregator_dialog_desc_mev_prot"],ln=x(()=>{let{quoteStore:o}=_(),{aggregatorList:t,fetchAggregatorList:e,computedIsAggregatorListLoading:s}=o;return(0,zo.useEffect)(()=>{t?.length||e()},[t]),zo.default.createElement(zo.default.Fragment,null,zo.default.createElement(er,{title:"swaptrade_aggregator_dialog_title_top_prices",desc:"swaptrade_aggregator_dialog_desc_get_prices",tips:Ps,loading:s,logoList:t}))});r();n();var un=u(S());var pn=x(()=>{let{quoteStore:o}=_(),t=or();return un.default.createElement(Ho.State,{type:Ho.State.TYPE.systemError,title:h("swaptrade_quotesearch_emptystate_title_couldnt_retrieve"),description:h("swaptrade_quotesearch_emptystate_subheader_cantretrieve"),buttonText:h("swaptrade_market_empty_btn_reload"),onButtonClick:()=>{o.fetchQuote({params:t,config:{quoteSource:0}})}})});var Ie=x(({leftSlotHeight:o})=>{let{quoteStore:t,swapDappStore:e}=_(),s=[4,5,1].includes(t.aggregateFetchStatus)||e.computedSupportDappTradeByChain;return Z.default.createElement("div",{className:(0,cn.default)({[G.abnormalBox]:s})},e.computedSupportDappTradeByChain?Z.default.createElement(Ve,null):Z.default.createElement(Z.default.Fragment,null,t.aggregateFetchStatus===0&&Z.default.createElement(ln,null),t.aggregateFetchStatus===1&&Z.default.createElement(Jt,{height:o}),[2,3].includes(t.aggregateFetchStatus)&&Z.default.createElement(an,null),t.aggregateFetchStatus===4&&Z.default.createElement(Ve,null),t.aggregateFetchStatus===5&&Z.default.createElement(pn,null)))});var Ge=({title:o,subTitle:t,loadingButton:e,onShowExplain:s})=>B.default.createElement("div",{className:"flex justify-between w-100"},B.default.createElement("div",{className:"flex items-center"},o,t&&B.default.createElement(ho,{maxWidth:288,title:t,className:"ml-4"},B.default.createElement(eo,{iconName:"okds-information-circle",onMouseEnter:s}))),B.default.createElement("div",{className:"flex items-center"},e)),fl=x(()=>{let{quoteStore:o,smartRouterStore:t}=_(),{isSm:e,isMd:s}=K(),{compareVisible:m,setCompareVisible:a,dialogGroupVisibleStatus:i,setDialogGroupVisibleStatus:l}=o,c=()=>{a(!1),l(1)},C=(0,B.useCallback)(p=>{let g=B.default.createElement("div",{className:G.subTitle},h("swaptrade_providerselection_subheader_ranked"));return p?s||e?"":g:s||e?g:""},[s,e]);return B.default.createElement(So.Group,{visible:m,alignBottom:!0,noMargin:!0,maskClosable:!0,scrollDisable:!1,showBackBtn:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300},className:(0,Ko.default)(G.dialogGroup,G[`visible${i}`]),isFull:!0},B.default.createElement(So.Window,{className:(0,Ko.default)("flex","flex-col","grow",G.groupItem),onClose:c,noContentPadding:!e,containerClassName:(0,Ko.default)("flex","flex-col","grow",G.window),closeIconClassName:G.closeBtn,scrollBoxClassName:(0,Ko.default)("flex","flex-col","grow"),title:B.default.createElement(Ge,{title:h("swaptrade_1swap_input_label_router"),subTitle:C(!1),loadingButton:B.default.createElement(Xo,null)}),subTitle:C(!0)},B.default.createElement(Ie,null)),B.default.createElement(So.Window,{className:(0,Ko.default)(G.groupItem),onClose:c,closeIconClassName:G.closeBtn,title:h("swaptrade_xrouting_single_chain_routes"),onBack:()=>{t.showXRouteModal===To.XROUTER?o.setDialogGroupVisibleStatus(1):t.setXRouteModal(To.XROUTER)},showBackBtn:!0,scrollBoxClassName:G.scrollBox},B.default.createElement(ke,{isDialog:!0}),e?B.default.createElement(tr,{isDialog:!0,showDetailBackBtn:!0,hideDetailClose:!0,dialogProps:{isFull:!0,mask:!1,noMargin:!0}}):null))});r();n();var We={warp:"_warp_18ula_1","compare-title":"_compare-title_18ula_6",compareTitle:"_compare-title_18ula_6","close-icon":"_close-icon_18ula_11",closeIcon:"_close-icon_18ula_11"};var Ms=({visible:o,setVisible:t})=>Zo.default.createElement(Ce,{onClose:()=>{t(!1)},visible:o,title:Zo.default.createElement(Ge,{title:h("swaptrade_1swap_input_label_router"),subTitle:h("swaptrade_providerselection_subheader_ranked"),loadingButton:Zo.default.createElement(Xo,null)}),closeIconClassName:We.closeIcon,isFull:!0},Zo.default.createElement("div",{className:We.warp},Zo.default.createElement(Ie,null))),fn=Ms;r();n();var Ne=u(S()),In=u(D());U();r();n();var H=u(S()),xn=u(D());U();r();n();var mo=u(S()),ie=u(D());U();r();n();var io={footer:"_footer_mw6x2_1","wallet-footer":"_wallet-footer_mw6x2_5",walletFooter:"_wallet-footer_mw6x2_5","confirm-btn":"_confirm-btn_mw6x2_11",confirmBtn:"_confirm-btn_mw6x2_11","custom-btn":"_custom-btn_mw6x2_11",customBtn:"_custom-btn_mw6x2_11",btn:"_btn_mw6x2_11"};var Bs=()=>{let{dataStatus:o,computedClearAll:t,computedListCheckedAll:e,selectedListIds:s,computedCheckedAllDisabled:m,fromChainId:a}=O,{setConfirmIds:i,setLiquidityModelVisible:l,checkAllBtn:c}=q,C=F(),p=()=>{i(rt({},a,s)),l(!1)};return mo.default.createElement(mo.default.Fragment,null,o===to.READY&&mo.default.createElement("div",{className:(0,ie.default)("flex items-center justify-between",{[io.footer]:!C,[io.walletFooter]:C})},mo.default.createElement(_e,{circle:!0,onChange:c,checked:e,disabled:m},mo.default.createElement("span",{className:(0,ie.default)("ml-4")},h("swaptrade_dialog_status_all"))),t&&mo.default.createElement(ho,{title:h("swaptrade_dialog_btn_atleast_one"),placement:ho.DIRECTION.top,popupProps:{popupStyle:{maxWidth:"200px"}}},mo.default.createElement(R,{className:(0,ie.default)(io.confirmBtn,io.customBtn,io.btn),size:C?R.SIZE.lg:R.SIZE.sm,category:R.CATEGORY.fill,type:R.TYPE.highlight,disabled:!0},h("swaptrade_dialog_btn_confirm"))),!t&&mo.default.createElement(R,{className:(0,ie.default)(io.confirmBtn,io.customBtn,io.btn),size:C?R.SIZE.lg:R.SIZE.sm,category:R.CATEGORY.fill,type:R.TYPE.highlight,onClick:p},h("swaptrade_dialog_btn_confirm"))))},dn=x(Bs);r();n();var me=u(S()),hn=u(D());r();n();var _n=u(S()),gn=u(D());var Os=({placeholder:o="",searchCb:t=()=>{},value:e,propsName:s})=>{let m=a=>{t(a.target.value)};return _n.default.createElement(z.Search,{className:(0,gn.default)(s),placeholder:o,value:e,onChange:m})},Sn=Os;r();n();var je={"web-search":"_web-search_4nvvy_2",webSearch:"_web-search_4nvvy_2","wallet-search":"_wallet-search_4nvvy_5",walletSearch:"_wallet-search_4nvvy_5"};var Fs=()=>{let{searchLiquidityValue:o,dataStatus:t}=O,{setLiquiditySearchValue:e}=q,s=F(),m=a=>{e(a)};return me.default.createElement(me.default.Fragment,null,t===to.READY&&me.default.createElement("div",null,me.default.createElement(Sn,{placeholder:h("swaptrade_header_placeholder_above_tabs_search"),searchCb:m,value:o,propsName:(0,hn.default)({[je.webSearch]:!s,[je.walletSearch]:s})})))},Cn=x(Fs);r();n();var le=u(S()),Qe=u(D());r();n();var $o=u(S()),ae=u(D());r();n();var Mo={"item-box":"_item-box_syd4c_1",itemBox:"_item-box_syd4c_1",label:"_label_syd4c_6","check-box-inner":"_check-box-inner_syd4c_10",checkBoxInner:"_check-box-inner_syd4c_10",logo:"_logo_syd4c_14",text:"_text_syd4c_17","item-box-wallet":"_item-box-wallet_syd4c_21",itemBoxWallet:"_item-box-wallet_syd4c_21"};var qs=({data:o,setChecked:t,isWallet:e})=>{let{isChecked:s,logo:m,name:a,id:i}=o;return $o.default.createElement("div",{className:(0,ae.default)("flex",Mo.itemBox,{[Mo.itemBoxWallet]:e})},$o.default.createElement(_e,{onChange:()=>{t(i,s)},circle:!0,checked:s,className:(0,ae.default)("align-items-center",Mo.label)},$o.default.createElement("div",{className:(0,ae.default)("flex align-items-center",Mo.checkBoxInner)},$o.default.createElement(nt,{src:m,width:28,height:28,alt:a,pictureClassName:Mo.logo}),$o.default.createElement("span",{className:(0,ae.default)("ml-12",Mo.text)},a))))},we=qs;r();n();var $={"list-group":"_list-group_1k7te_1",listGroup:"_list-group_1k7te_1",label:"_label_1k7te_4","empty-box":"_empty-box_1k7te_9",emptyBox:"_empty-box_1k7te_9",loader:"_loader_1k7te_12","empty-search-box":"_empty-search-box_1k7te_15",emptySearchBox:"_empty-search-box_1k7te_15","wallet-list-group":"_wallet-list-group_1k7te_18",walletListGroup:"_wallet-list-group_1k7te_18"};var Vs=({computedSearchDataIsNull:o,data:t,setChecked:e,isWallet:s})=>le.default.createElement("div",{className:(0,Qe.default)("flex flex-col",{[$.listGroup]:!s,[$.walletListGroup]:s})},o&&le.default.createElement("div",{className:(0,Qe.default)("flex justify-center",$.emptySearchBox)},le.default.createElement(Ho.State,{title:null,type:Ho.State.TYPE.noResult,description:h("swaptrade_dialog_empty_no_result")})),!o&&t.map(m=>le.default.createElement(we,{key:m.id,data:m,setChecked:e}))),kn=Vs;r();n();var ao=u(S()),Jo=u(D());var Rs=({dataStatus:o,data:t,setChecked:e,refreshData:s,isWallet:m})=>ao.default.createElement("div",{className:(0,Jo.default)("flex flex-col",{[$.listGroup]:!m,[$.walletListGroup]:m})},o!==to.READY&&ao.default.createElement("div",{className:(0,Jo.default)("flex justify-center",$.emptyBox)},o===to.ERROR&&ao.default.createElement(Ut,{title:h("swaptrade_pricechart_no_connection_title"),description:h("swaptrade_pricechart_no_connection_desc"),buttonText:h("swaptrade_recent_transaction_dialog_btn_reload"),onButtonClick:s}),o===to.NULL&&ao.default.createElement(Rt,{description:h("swaptrade_home_txs_no_transaction_data")}),o===to.LOADING?ao.default.createElement(Ee.Circle,{size:Ee.SIZE.lg,className:(0,Jo.default)($.loader)}):null),t&&t.map((a,i)=>ao.default.createElement("div",{className:(0,Jo.default)("flex flex-col"),key:i},ao.default.createElement("span",{className:(0,Jo.default)("font-12",$.label)},a?.label),a?.list.map(l=>ao.default.createElement(we,{isWallet:m,key:l.id,data:l,setChecked:e}))))),Tn=Rs;r();n();var be={container:"_container_1x9k7_1","liquidity-dialog":"_liquidity-dialog_1x9k7_4",liquidityDialog:"_liquidity-dialog_1x9k7_4","foot-content":"_foot-content_1x9k7_4",footContent:"_foot-content_1x9k7_4","has-line":"_has-line_1x9k7_8",hasLine:"_has-line_1x9k7_8","no-line":"_no-line_1x9k7_11",noLine:"_no-line_1x9k7_11",content:"_content_1x9k7_14","wallet-content":"_wallet-content_1x9k7_17",walletContent:"_wallet-content_1x9k7_17","telegram-content":"_telegram-content_1x9k7_21",telegramContent:"_telegram-content_1x9k7_21"};var Us=({noFooter:o=!1})=>{let{computedShowData:t,computedSearchStatus:e,dataStatus:s,computedSearchDataIsNull:m,confirmIds:a,fromChainId:i}=O,{setLiquiditySearchValue:l,setSelectedListIds:c,filterSelectedListIds:C,fetchLiquidityData:p}=q,g=F(),k=Lo();(0,H.useEffect)(()=>{l("")},[l]),(0,H.useEffect)(()=>()=>{if(!g){let I=M(a,i);I&&c(I)}},[c,a,i]);let T=(I,L)=>{C(I,L)};return H.default.createElement(H.default.Fragment,null,H.default.createElement(Cn,null),H.default.createElement("div",{className:(0,xn.default)({[be.content]:!g,[be.walletContent]:g&&!k,[be.telegramContent]:k})},e?H.default.createElement(kn,{computedSearchDataIsNull:m,data:t,setChecked:T,isWallet:g}):H.default.createElement(Tn,{refreshData:p,dataStatus:s,data:t,setChecked:T,isWallet:g})),g&&!o&&H.default.createElement(dn,null))},yn=x(Us);r();n();var He={content:"_content_phnkk_1","content-tg":"_content-tg_phnkk_6",contentTg:"_content-tg_phnkk_6"};var Gs=()=>{let{fromToStore:o}=_(),{liquidityModelVisible:t,confirmIds:e}=O,{setLiquidityModelVisible:s,setSelectedListIds:m}=q,{from:a}=o;return Ne.default.createElement(Ce,{title:h("swaptrade_dialog_title_select_liquidity"),visible:t,onClose:()=>{let i=M(e,a.chainId);i&&m(i),s(!1)},isFull:!0},Ne.default.createElement("div",{className:(0,In.default)(He.content,Lo()&&He.contentTg)},Ne.default.createElement(yn,null)))},wn=x(Gs);r();n();var ts=u(S());r();n();r();n();var bn=u(S());var Nn=()=>{let{fromToStore:o,quoteStore:t}=_(),{to:e}=o,{computedQuoteErrorMsg:s}=t;return(0,bn.useMemo)(()=>gr({isHoneypot:Boolean(e?.isHoneypot),tokenSymbol:e?.tokenSymbol||"",message:s}),[e?.isHoneypot,e?.tokenSymbol,s])};r();n();var vn=u(S());var An=()=>{let{fromToStore:o,quoteStore:t}=_(),{from:e,to:s,computedLeverageTokenPair:m}=o,{computedQuoteErrorMsg:a}=t,[i,l]=m||[!1,!1];return(0,vn.useMemo)(()=>hr({isFromLeverageToken:i,isToLeverageToken:l,fromTokenSymbol:e?.tokenSymbol||"",toTokenSymbol:s?.tokenSymbol||"",message:a}),[i,l,e?.tokenSymbol,s?.tokenSymbol,a])};r();n();var Ln=u(S());var En=()=>{let{quoteStore:o}=_(),{computedQuoteNetworkError:t}=o;return(0,Ln.useMemo)(()=>Tr({hasNetworkError:t}),[t])};r();n();var Dn=u(S());var Pn=()=>{let{accountStore:o,fromToStore:t}=_(),{computedNonsupportChain:e}=o,{from:s}=t;return(0,Dn.useMemo)(()=>Cr({nonsupportChain:e,chainName:s?.chainName||""}),[e,s?.chainName])};r();n();var Mn=u(S());var Bn=()=>{let{quoteStore:o}=_(),{computedQuoteIsNewAddress:t,computedQuoteErrorMsg:e}=o;return(0,Mn.useMemo)(()=>kr({isNewAddress:t,message:e}),[t,e])};r();n();var On=u(S());var Fn=()=>{let{quoteStore:o}=_(),{computedNotLiquidity:t,computedQuoteErrorMsg:e,computedIsNoOkxLiquidity:s,aggregateSelectId:m}=o,{computedIsCustomLiquidity:a,computedIds:i}=O,l=m&&m!==ko;return(0,On.useMemo)(()=>yr({customNotLiquidity:Boolean(a&&s),computedIsCustomLiquidity:Boolean(a),hasLiquidityError:t,dexIdsLength:i?.length||0,openLiquidityDialog:()=>{q.setLiquidityModelVisible(!0)},message:e,isThirdPartySelected:Boolean(l)}),[a,s,t,i?.length,e,l])};r();n();var Vn=u(S());r();n();var ve=u(S());function qn(){let{quoteStore:o,swapDappStore:t,fromToStore:e}=_(),s=(0,ve.useCallback)(()=>e.computedFormToTokenIsLeverageToken?!1:t.computedSupportDappTradeByChain?!0:o.computedSupportDappTradeByQuote,[e.computedFormToTokenIsLeverageToken,t.computedSupportDappTradeByChain,o.computedSupportDappTradeByQuote]);return(0,ve.useMemo)(()=>(Eo.preCheckData?.status===1,s()),[s,Eo.preCheckData?.status])}var Rn=()=>{let o=qn();return(0,Vn.useMemo)(()=>Ir({swapOnOtherDappAlert:Boolean(o)}),[o])};r();n();var Gn=u(S());var Wn=()=>{let{preCheckData:o}=Eo;return(0,Gn.useMemo)(()=>!o||o?.status===0?null:{tier:0,notification:Se["PRE_CHECK_ERROR"]({title:o?.msg,type:o?.type})},[o])};r();n();var jn=u(S());var Qn=()=>{let{quoteStore:o}=_(),{computedQuoteError:t,computedQuoteErrorMsg:e}=o;return(0,jn.useMemo)(()=>xr({hasQuoteError:t,message:e,useInsufficientLiquidityType:!0}),[t,e])};r();n();var Hn=u(S());var Yn=()=>{let{fromToStore:o,quoteStore:t}=_(),{from:e}=o,{computedQuoteErrorMsg:s}=t;return(0,Hn.useMemo)(()=>Sr({isHoneypot:Boolean(e?.isHoneypot),tokenSymbol:e?.tokenSymbol||"",message:s}),[e?.isHoneypot,e?.tokenSymbol,s])};r();n();var Xn=u(S());U();var zn=()=>{let{quoteStore:o,fromToStore:t}=_(),{from:e,to:s}=t,m=M(o.quote,"commonDexInfo",null),a=Be(e),i=Be(s);return(0,Xn.useMemo)(()=>{if(!a&&!i||!m?.tradeTaxes)return null;let l=It(ro.mul(m?.tradeTaxes,100),{needZero:!1}),c;if(a&&i)c=Co("wallet_swap_toast_pair_token_tax_warning",{token1:e?.tokenSymbol,token2:s?.tokenSymbol,value:l});else if(a)c=Co("wallet_swap_toast_token_tax_warning",{token:e?.tokenSymbol,value:l});else if(i)c=Co("wallet_swap_toast_token_tax_warning",{token:s?.tokenSymbol,value:l});else return null;return{tier:1,notification:{type:Qo.TYPE.warn,title:c}}},[m,e,s,a,i])};r();n();var $n=u(S());r();n();var Kn=u(S());var Zn=({defiPlatformId:o,from:t,amount:e,approveTokensConfig:s,isCancelApproveStatus:m})=>{let{accountStore:a}=_(),{isConnectedWallet:i}=a;return(0,Kn.useMemo)(()=>{let c=t?.balance||t?.amountNum,C=!1,p=new at.BigNumber(e).isLessThanOrEqualTo(c||0);return i&&p&&m(t,o)&&(C=!0),{isNeedCancelApprove:C,tokenSymbol:t?.tokenSymbol}},[t,o,e,i,s])};var Jn=()=>{let{quoteStore:o,fromToStore:t,approveStore:e}=_(),{from:s,computedTypedValue:m}=t,a=o.quote?.bestRoute?.defiPlatformId,i=Zn({defiPlatformId:a,from:s,amount:m,approveTokensConfig:e.approveTokensConfig,isCancelApproveStatus:e.isCancelApproveStatus});return(0,$n.useMemo)(()=>{if(!i?.isNeedCancelApprove)return null;let l=Se["REVOKE_APPROVE"]({tokenSymbol:i?.tokenSymbol||""});return{tier:0,notification:{...l,type:Qo.TYPE.error}}},[i?.isNeedCancelApprove,i?.tokenSymbol])};r();n();var Ye=u(S());var os=()=>{let{quoteStore:o,fromToStore:t,commonStore:e}=_(),{from:s,to:m}=t,{computedQuoteError:a,quote:i}=o,l=(0,Ye.useMemo)(()=>{if(a)return{showValueDiffDialog:!1,loseDiffValueTxt:""};let{showValueDiffDialog:c,diffPercent:C,diffVal:p}=Ft({pay:s?.usdPrice,receive:m?.usdPrice,quoteDiffValThreshold:i?.bestRoute?.quoteDiffValThreshold,quoteDiffPercentThreshold:i?.bestRoute?.quoteDiffPercentThreshold}),g=e.currencyConversion(p?.replace("-","")||"0");return{showValueDiffDialog:c,loseDiffValueTxt:qt(C||"0",g,e.computedNowCurrencySymbol)}},[a,s?.usdPrice,m?.usdPrice,i?.bestRoute?.quoteDiffValThreshold,i?.bestRoute?.quoteDiffPercentThreshold,e]);return(0,Ye.useMemo)(()=>wr({showValueDiffDialog:l.showValueDiffDialog,loseDiffValueTxt:l.loseDiffValueTxt}),[l.showValueDiffDialog,l.loseDiffValueTxt])};var es=()=>{let o=Wn(),t=Bn(),e=Pn(),s=Jn(),m=An(),a=Nn(),i=Fn(),l=Rn(),c=En(),C=Qn(),p=Yn(),g=zn(),k=os();return _r([o,t,e,m,a,l,s,i,c,C,p,g,k])};var rs=x(({isSkeleton:o,className:t})=>{let e=es();return ts.default.createElement(br,{reminders:e,isSkeleton:o,className:t})});r();n();var pe=u(S());r();n();var Y=u(S());U();var Qs=({typeList:o,jitoData:t})=>{let{min:e,max:s}=(0,Y.useMemo)(()=>{let v=o?.[0],A=o?.[2];return{min:v,max:A}},[o]),m=(0,Y.useMemo)(()=>e&&s?`${j(e.fee,{useScientificNotation:!0})} ~ ${j(s.fee,{useScientificNotation:!0})}`:null,[e,s]),{solTokenSymbol:a,maxFee:i}=t||{},[l,c]=(0,Y.useState)(),[C,p]=(0,Y.useState)(""),[g,k]=(0,Y.useState)(""),[T,I]=(0,Y.useState)(!1);(0,Y.useEffect)(()=>{p(null),k(null),ro.gt(l,i)?(k(null),p(h("swaptrade_modal_dialog_error_max_priority_fee",{num:i,symbol:a}))):ro.lt(l,e?.fee)?(p(null),k(h("swaptrade_modal_dialog_error_low_priority_fee",{marketFee:j(e.fee,{useScientificNotation:!0}),turboFee:j(s.fee,{useScientificNotation:!0})}))):ro.gt(l,s?.fee)?(p(null),k(h("swaptrade_modal_dialog_error_high_priority_fee",{marketFee:j(e.fee,{useScientificNotation:!0}),turboFee:j(s.fee,{useScientificNotation:!0})}))):p(null)},[l,s,e,a,i]);let L=(0,Y.useMemo)(()=>!l||!!C||ro.lte(l,0),[C,l]);return{customAmount:l,setCustomAmount:c,handleCustomAmount:v=>{if(!v){c(v);return}let A=wt(v);!et(A)&&c(A,!0)},placeholder:m,solTokenSymbol:a,maxFee:i,errorTips:C,warningTips:g,confirmDisabled:L,activate:T,setActivate:I}},ns=Qs;r();n();var Ae=u(S());var ss="solana_fee_type",is=({handleCustomAmount:o,updateType:t})=>{let{solanaPriorityFeeStore:e}=_(),{setFeeType:s,setCustomFee:m}=e||{};return(0,Ae.useEffect)(()=>{let i=Ao.get(ss);!i||!s||!Lt.includes(i.type)||(s(i.type),t?.(i.type),m(i.customAmount),o(i.customAmount))},[]),{setLocalFeeType:(0,Ae.useCallback)(({type:i,customAmount:l})=>{Ao.set(ss,{type:i,customAmount:l})},[])}};r();n();var No=u(S()),ze=u(D());r();n();var Io=u(S());r();n();var b=u(S()),J=u(D());U();r();n();var ms=u(S());var as=({selector:o,place:t,scroll:e})=>{let[s,m]=(0,ms.useState)({});return{tgStyle:s,tgFocus:()=>{Lo()&&!De.isDesktop&&(m({marginBottom:t}),setTimeout(()=>{document.querySelector(o).scrollTo({top:e})},200))},tgBlur:()=>{Lo()&&!De.isDesktop&&m({})}}};r();n();var N={"custom-input":"_custom-input_8chj3_1",customInput:"_custom-input_8chj3_1","custom-input-suffix":"_custom-input-suffix_8chj3_4",customInputSuffix:"_custom-input-suffix_8chj3_4","meme-mode-suffix":"_meme-mode-suffix_8chj3_7",memeModeSuffix:"_meme-mode-suffix_8chj3_7","input-box":"_input-box_8chj3_10",inputBox:"_input-box_8chj3_10","error-tips":"_error-tips_8chj3_13",errorTips:"_error-tips_8chj3_13","warning-tips":"_warning-tips_8chj3_23",warningTips:"_warning-tips_8chj3_23",ellipsis:"_ellipsis_8chj3_33","mobile-custom":"_mobile-custom_8chj3_39",mobileCustom:"_mobile-custom_8chj3_39",selected:"_selected_8chj3_49",top:"_top_8chj3_52","item-content-left":"_item-content-left_8chj3_57",itemContentLeft:"_item-content-left_8chj3_57","item-content-right":"_item-content-right_8chj3_61",itemContentRight:"_item-content-right_8chj3_61","item-text":"_item-text_8chj3_65",itemText:"_item-text_8chj3_65","item-amount":"_item-amount_8chj3_75",itemAmount:"_item-amount_8chj3_75","item-usd":"_item-usd_8chj3_84",itemUsd:"_item-usd_8chj3_84","arrow-icon":"_arrow-icon_8chj3_94",arrowIcon:"_arrow-icon_8chj3_94"};var Hs=({value:o,onChange:t,solTokenSymbol:e,placeholder:s,error:m=!1,errorTips:a="",warningTips:i="",currencySymbol:l,currencyReConversion:c,jitoData:C,activate:p,setActivate:g,selectedType:k,memeMode:T})=>{let{icon:I,iconColor:L,text:E}=ge[xo.CUSTOM],{solPrice:v}=C||{},A=(0,b.useMemo)(()=>!o||!v?null:vo(c(ro.mul(o,v,{returnString:!0})),l),[c,o,v,l]),{tgBlur:V,tgFocus:uo,tgStyle:po}=as({selector:".priority-fee-tg-scroll-box",scroll:100,place:200}),[X,co]=(0,b.useState)(null);return(0,b.useEffect)(()=>{p&&Ze(M(X,"focus"))&&X.focus()},[p,X]),b.default.createElement("div",{className:(0,J.default)(N.mobileCustom,{[N.selected]:p||k===xo.CUSTOM}),style:po},b.default.createElement(jo,{className:N.top,onClick:()=>{g(!p)}},b.default.createElement("div",{className:(0,J.default)(N.itemContentLeft)},b.default.createElement(eo,{className:(0,J.default)(I),style:{color:L,fontSize:32}}),b.default.createElement("p",{className:(0,J.default)("font-16 font-bold",N.itemText)},h(E))),b.default.createElement("div",{className:(0,J.default)(N.itemContentRight)},o?b.default.createElement("div",{className:(0,J.default)(N.itemAmount)},b.default.createElement("p",{className:(0,J.default)("font-16 font-bold",N.itemTokenAmount)},j(o)," ",e),b.default.createElement("p",{className:(0,J.default)(N.itemUsd)},"\u2248 ",A)):null,b.default.createElement(eo,{className:(0,J.default)(p?"okx-defi-up":"okx-defi-down",N.arrowIcon)}))),b.default.createElement("div",null,p&&b.default.createElement(b.default.Fragment,null,b.default.createElement(z.Number,{onRef:fo=>{co(fo)},error:m,errorType:z.TIP_TYPE.always,className:N.customInput,size:z.SIZE.xl,value:o,onChange:t,onFocus:uo,onBlur:V,placeholder:s,suffix:b.default.createElement("span",{className:T?N.memeModeSuffix:N.customInputSuffix},e)}),a&&b.default.createElement("p",{className:N.errorTips},a),i&&b.default.createElement("p",{className:N.warningTips},i))))},ls=Hs;var Ys=o=>{let{value:t,onChange:e,solTokenSymbol:s,placeholder:m,error:a=!1,errorTips:i="",warningTips:l="",setActivate:c,memeMode:C}=o,{isSm:p}=K();return p?Io.default.createElement(ls,{...o}):Io.default.createElement(Io.default.Fragment,null,Io.default.createElement(z.Number,{error:a,errorType:z.TIP_TYPE.always,className:N.customInput,innerClassName:N.inputBox,size:z.SIZE.xl,value:t,onChange:e,placeholder:m,onFocus:()=>{c(!0)},onBlur:()=>{t||c(!1)},suffix:Io.default.createElement("span",{className:C?N.memeModeSuffix:N.customInputSuffix},s)}),i&&Io.default.createElement("p",{className:N.errorTips},i),l&&Io.default.createElement("p",{className:N.warningTips},l))},us=Ys;r();n();var Xe=u(S()),cs=u(D());r();n();var wo=u(S()),bo=u(D());r();n();var oo={ellipsis:"_ellipsis_17v8f_1","list-content":"_list-content_17v8f_7",listContent:"_list-content_17v8f_7","item-md-content":"_item-md-content_17v8f_17",itemMdContent:"_item-md-content_17v8f_17",selected:"_selected_17v8f_33","item-content-left":"_item-content-left_17v8f_36",itemContentLeft:"_item-content-left_17v8f_36","item-text":"_item-text_17v8f_47",itemText:"_item-text_17v8f_47","item-amount":"_item-amount_17v8f_64",itemAmount:"_item-amount_17v8f_64","item-token-amount":"_item-token-amount_17v8f_79",itemTokenAmount:"_item-token-amount_17v8f_79","item-usd":"_item-usd_17v8f_86",itemUsd:"_item-usd_17v8f_86"};var Xs=({selectedType:o,item:t,currencyReConversion:e,currencySymbol:s,onClick:m,activate:a,showLogo:i=!0,showUSD:l=!0})=>{let{type:c,fee:C,usd:p,solTokenSymbol:g}=t,{iconColor:k,text:T,icon:I}=ge[c];return wo.default.createElement(jo,{className:(0,bo.default)(oo.itemMdContent,{[oo.selected]:o===c&&!a}),onClick:()=>{m(c)}},wo.default.createElement("div",{className:(0,bo.default)(oo.itemContentLeft)},i&&wo.default.createElement(eo,{className:(0,bo.default)(I),style:{color:k,fontSize:32}}),wo.default.createElement("p",{className:(0,bo.default)("font-16 font-bold",oo.itemText)},h(T))),wo.default.createElement("div",{className:(0,bo.default)(oo.itemAmount)},wo.default.createElement("p",{className:(0,bo.default)("font-16 font-bold",oo.itemTokenAmount)},j(C,{useScientificNotation:!0})," ",g),l&&wo.default.createElement("p",{className:(0,bo.default)(oo.itemUsd)},"\u2248 ",vo(e(p),s))))},ps=Xs;var zs=({list:o,onClick:t,selectedType:e,currencyReConversion:s,currencySymbol:m,activate:a,memeMode:i})=>Xe.default.createElement("div",{className:(0,cs.default)("mt-16",oo.listContent)},o?.map(l=>Xe.default.createElement(ps,{item:l,key:l.type,selectedType:e,currencyReConversion:s,currencySymbol:m,onClick:t,activate:a,showLogo:!i,showUSD:!i}))),fs=zs;r();n();var ue={header:"_header_t8i9s_1",content:"_content_t8i9s_6","meme-mode":"_meme-mode_t8i9s_16",memeMode:"_meme-mode_t8i9s_16",title:"_title_t8i9s_19"};var Ks=({customAmount:o,handleCustomAmount:t,placeholder:e,solTokenSymbol:s,errorTips:m,warningTips:a,activate:i,setActivate:l,memeMode:c=!0,feeType:C,onClick:p})=>{let{solanaPriorityFeeStore:g,commonStore:k}=_(),{computedPriorityFeeList:T,jitoData:I}=g||{},{currencyReConversion:L,computedNowCurrencySymbol:E}=k;return No.default.createElement("div",{className:(0,ze.default)(ue.content,{[ue.memeMode]:c})},!c&&No.default.createElement("p",{className:(0,ze.default)("font-12 font-400",ue.title)},h("swaptrade_modal_dialog_desc_priority")),c&&No.default.createElement("div",{className:ue.header},No.default.createElement(Bt,null),No.default.createElement(Mt,null)),No.default.createElement(fs,{list:T,currencySymbol:E,currencyReConversion:L,selectedType:C,onClick:p,activate:i,memeMode:c}),No.default.createElement(us,{value:o,placeholder:e,onChange:t,solTokenSymbol:s,errorTips:m,warningTips:a,error:!!m,currencySymbol:E,currencyReConversion:L,jitoData:I,activate:i,setActivate:l,memeMode:c}))},ds=x(Ks);var Zs=()=>{let{solanaPriorityFeeStore:o}=_(),{computedPriorityFeeList:t,jitoData:e,setFeeType:s,feeType:m}=o||{},{customAmount:a,handleCustomAmount:i,placeholder:l,solTokenSymbol:c,errorTips:C,warningTips:p,confirmDisabled:g,activate:k,setActivate:T}=ns({typeList:t,jitoData:e}),{setLocalFeeType:I}=is({handleCustomAmount:i}),{visible:L,setVisible:E,setCustomFee:v}=o,A=(0,pe.useCallback)(V=>{Re(V),s(V),E(!1),v(null),T(!1),i(""),I({type:V})},[]);return pe.default.createElement(So.Action,{visible:L,title:h("swaptrade_modal_dialog_title_priority"),scrollBoxClassName:"priority-fee-tg-scroll-box",onClose:()=>{E(!1),i(m===xo.CUSTOM?a:null),T(!1)},noContentPadding:!0,confirmDisabled:g,confirmText:h("commonall_text_btn_confirm"),onConfirm:()=>{E(!1),Re(xo.CUSTOM,a),v(a),s(xo.CUSTOM),I({type:xo.CUSTOM,customAmount:a})}},pe.default.createElement(ds,{customAmount:a,handleCustomAmount:i,placeholder:l,solTokenSymbol:c,errorTips:C,warningTips:p,activate:k,setActivate:T,memeMode:!1,feeType:m,onClick:A}))},_s=x(Zs);r();n();var gs=u(S());var Ss=o=>{let{accountStore:t}=_(),{computedAccountId:e,setReferralInfo:s,computedSignWalletAddress:m}=t;(0,gs.useEffect)(()=>{if(!o||!e){s({refCode:"",referralCommissionAddress:""});return}(async()=>{try{let i=await At(m,Number(o)),{refCode:l="",referralCommissionAddress:c=""}=i||{};s({refCode:l,referralCommissionAddress:c})}catch(i){vt.error(Nt.GET_REFERRAL_CODE_FOR_QUOTE_ERROR,{error:i,data:{chainId:o,address:m}})}})()},[o,e,m,s])};r();n();var Bo=u(S());r();n();var ce=u(S());r();n();var hs={from:{chainId:null,tokenContractAddress:null},to:{chainId:null,tokenContractAddress:null}},$s=o=>{if(!o)return hs;let t={[Yo.SWAP]:ht,[Yo.BRIDGE]:Ct},e;return o===Yo.LIMIT_ORDER?e=Ao.get(kt)||Ao.get(xt)?.LIMIT_ORDER:e=Ao.get(t[o]),!e?.from?.tokenContractAddress||!e?.from?.chainName?hs:e},Cs=$s;var Js={from:{chainId:null,tokenContractAddress:null},to:{chainId:null,tokenContractAddress:null}},oi=({loading:o,type:t,from:e,to:s})=>{let{params:m}=Qt(),a=Cs(t),i=(0,ce.useMemo)(()=>jt(m),[m]),l=(0,ce.useMemo)(()=>{if(o)return!0;let g=mt()?Js:a;return i?!g.from.tokenContractAddress:!e.tokenContractAddress},[o,a,i,e]),c=(0,ce.useMemo)(()=>i&&!e.tokenContractAddress?a.from:e,[i,a,e]),C=(0,ce.useMemo)(()=>i&&!s.tokenContractAddress?a.to:s,[i,a,s]);return{loading:l,computedFrom:c,computedTo:C}},ks=oi;var Ts=()=>{let{fromToStore:o,slippageStore:t}=_(),{to:e,from:s,computedIsSingleChain:m}=o,{computedFrom:a,computedTo:i}=ks({loading:!1,type:"swap",from:s,to:e}),l=(0,Bo.useRef)(!1),c=(0,Bo.useRef)(Number.MIN_SAFE_INTEGER);(0,Bo.useEffect)(()=>{l.current=Boolean(ne.swapConfig?.chainId),l.current&&F()&&t.setSlippageSetting(ne.slippageSetting)},[]),(0,Bo.useEffect)(()=>{if(c.current!==a.chainId){c.current=a.chainId;return}ne.swapConfig?.chainId&&!l.current&&mr(ne.swapConfig)},[a.tokenContractAddress,i.tokenContractAddress,a.chainId]),(0,Bo.useEffect)(()=>{if(l.current&&F()){l.current=!1;return}a.chainId&&ar(a.chainId)},[m,a.chainId,i.chainId])};r();n();var xs=u(S());U();var ei={["UN_CONNECTED_WALLET"]:lt,["NOT_SUPPORT_WALLET"]:te,["DISABLED"]:te,["DAPP"]:gt,["FILL_UP"]:ut,["UNAPPROVED"]:pt,["APPROVING"]:ct,["CANCEL_APPROVE"]:ft,["CANCEL_APPROVING"]:dt,["TRADE_DISABLED"]:te,["TRADE_ACTIVE"]:_t};function ys(){let{fromToStore:o,swapBtnStore:t,accountStore:e,quoteStore:s,slippageStore:m,approveStore:a,outerStore:i,safeMoonStore:l,swapDappStore:c}=_(),{from:C,to:p,computedTypedValue:g,computedIsCrossChain:k,isBalanceLoading:T,fromBalanceState:I}=o,{swapBtnLoading:L,isInterceptionProcessing:E}=t,{isConnectedWallet:v,hasInitWalletInfo:A,computedNonsupportChain:V}=e,{computedQuoteIsNewAddress:uo,quote:{isFetchQuoting:po,bestRoute:X,quoteError:co,quoteNull:fo},computedSupportDappTradeByQuote:W,computedIsOkxProvider:oe}=s,{computedRealSlippageValue:Oo}=m,{getApprovalStatus:Fo,approveTokensConfig:_o}=a,{preChecking:qo,preCheckData:Vo,computedPreCheckMsg:Ro}=Eo,Uo=i?.computedFeeConfigErrorTips,go=l?.computedInputVal||"",Go=c?.checkShouldJumpToDapp,fe=Nr({chainId:C.chainId}),Wo=vr({isSingleChain:!k,isOkxAggregator:oe,isChainSupportBatchBroadcast:fe}),ee=(0,xs.useMemo)(()=>{let Is=Vr({preChecking:qo,preCheckData:Vo,computedPreCheckMsg:Ro,isConnectedWallet:v,hasInitWalletInfo:A,computedNonsupportChain:V,computedQuoteIsNewAddress:uo,isFetchQuoting:po,bestRoute:X,quoteError:co,quoteNull:fo,fromToken:C,toToken:p,computedTypedValue:g,computedIsCrossChain:k,slippage:Oo,computedFeeConfigErrorTips:Uo,computedInputVal:go,checkShouldJumpToDapp:Go,isInterceptionProcessing:E,isBalanceLoading:T,fromBalanceState:I,getApprovalStatus:Fo,approveAction:Ht,computedIsChainSupportDappTrade:W,isSupportSignApprovalAndSwap:Wo}),ws=qr(Is,"TRADE_DISABLED");return ei[ws]||te},[qo,Vo,Ro,v,A,V,uo,po,X,co,fo,C,p,g,k,T,I,Oo,Uo,go,Go,E,_o,Fo,W,Wo]);return t.getBtnAllStatus({from:C,swapLoading:L,toUsdPrice:M(p,"usdPrice")})[ee]}r();n();var lo={container:"_container_xj3be_1",scroll:"_scroll_xj3be_6",wrap:"_wrap_xj3be_10","wallet-header":"_wallet-header_xj3be_15",walletHeader:"_wallet-header_xj3be_15","input-panel-box":"_input-panel-box_xj3be_19",inputPanelBox:"_input-panel-box_xj3be_19","mb-6":"_mb-6_xj3be_23",mb6:"_mb-6_xj3be_23","swap-to-panel":"_swap-to-panel_xj3be_26",swapToPanel:"_swap-to-panel_xj3be_26"};var ti=()=>{let{commonStore:o,accountStore:t,fromToStore:e,quoteStore:s,safeMoonStore:m}=_(),{chainListLoadError:a}=o,{to:i,from:l,onClickMax:c,onSwitchFromTo:C,setStorageShowMaxDialog:p,visibleMaxDialog:g,computedIsCrossChain:k,computedFromGasDropAmount:T,computedIsSingleChain:I,computedMaxTipsText:L}=e,{computedInputVal:E,computedOutputVal:v,computedOutputPopVal:A}=m,{computedNonsupportChain:V,getAddressByChainId:uo}=t;Lr(),Yt(),Mr({computedIsSingleChain:I,chainId:l.chainId,clearProps:[l.tokenSymbol,i.tokenSymbol]}),Pr(),(0,y.useEffect)(()=>{if(l.chainId){let ee=uo(l.chainId);dr.tradePreCheck({chainId:l.chainId,userWalletAddress:ee})}},[l.chainId]),cr(t);let{computedCurrentTimerQuoteState:{isShowLoadingCpt:po},getGasTokenFeeLoading:X,compareVisible:co,setCompareVisible:fo}=s,W=!l.tokenContractAddress,{extensionHeaderSettingMap:oe}=Fr();Ss(l.chainId),Er(),Ts();let{handleTypeInput:Oo,handleTypeOutput:Fo}=Br(),{handleOpenSelectToken:_o,tokenModalVisible:qo,tokenListPageTitle:Vo,changeTokenModalVisible:Ro}=pr(),Uo=s.quote.quoteError||s.quote.quoteNull||m.computedHoneypot||V,{fromCurrencyInputProps:go,toCurrencyInputProps:Go}=Dr(),fe=Ar(),Wo=ys(),Ke=(0,y.useMemo)(()=>({...Wo,onClick:async()=>{let ee=await fe(I);Wo.onClick(ee)}}),[I,fe,Wo]);return a?y.default.createElement(ur,null):y.default.createElement("div",{className:lo.container},y.default.createElement("div",{className:lo.scroll},y.default.createElement("div",{className:lo.wrap},y.default.createElement(zt,{...oe[Yo.SWAP],outClassName:(0,Le.default)(lo.walletHeader)}),y.default.createElement("div",{className:lo.inputPanelBox},y.default.createElement(he,{loading:W,height:128,className:lo.mb6},y.default.createElement(Fe,{isExtension:!0,computedIsSingleChain:I,className:(0,Le.default)(lo.mb6),token:l,type:re.FROM,onClickMax:c,showMax:go.showMax,computedFromGasDropAmount:T,showMaxIcon:go.showMaxIcon,value:E,costValue:go.costValue,onChange:Oo,openSelectToken:()=>{_o(re.FROM)},label:h("swaptrade_card_swap_label1_pay"),balanceStatus:go.balanceStatus,visibleMaxDialog:g,maxDialogConfirm:p,maxTipsText:L,gasFeeLoading:X,disableInput:go.disableInput,disabledTokenSelect:!l.chainId})),y.default.createElement("div",{className:(0,Le.default)(lo.swapToPanel)},y.default.createElement(Kt,{onSwitchFromTo:C}),y.default.createElement(he,{loading:W,height:128},y.default.createElement(Fe,{isExtension:!0,computedIsSingleChain:I,value:v,costValue:Go.costValue,popover:A,onChange:Fo,token:i,type:re.TO,openSelectToken:()=>{_o(re.TO)},label:h("swaptrade_card_swap_label2_receive"),computedValueDifference:Go.valueDifference,balanceStatus:Go.balanceStatus,computedIsCrossChain:k,disabledTokenSelect:!i.chainId})))),y.default.createElement(Do,null,y.default.createElement(Do.Item,{id:"swapMessageCenter"},y.default.createElement(rs,{isSkeleton:W,className:"mt-16"})),y.default.createElement(Do.Item,{id:"detail"},y.default.createElement(lr,{isSkeleton:W}))))),y.default.createElement(he,{style:{marginTop:16,borderRadius:24},loading:W,height:48},y.default.createElement(Xt,{skeleton:!0,btnData:Ke,isShowLoadingCpt:W||po,isShowError:Uo,size:R.SIZE.lg})),y.default.createElement(fr,{visible:qo,setVisible:Ro,title:Vo}),y.default.createElement(Or,null),y.default.createElement(wn,null),y.default.createElement(fn,{visible:co,setVisible:fo}),y.default.createElement(Rr,{dialogProps:{isFull:!0,showBackBtn:!0,hideCloseBtn:!0}}),y.default.createElement(_s,null))},$g=x(ti);export{$g as default};
//# sourceMappingURL=Swap-H27PKWQL.js.map
