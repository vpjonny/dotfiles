import{b as Qi,c as Qd,d as Ji,e as es}from"./chunk-MOM36K3J.js";import{a as He,b as Fd,c as Bn,d as Un,e as Bd,f as Ud,h as Vd,i as Wd,k as Gd}from"./chunk-LOS6KRNX.js";import{c as Md}from"./chunk-O7CVD42X.js";import{b as Hd,c as qd}from"./chunk-LOGCUUNU.js";import{b as Ki,f as Fn,g as lo,h as me,i as Zd,j as Jd,k as Xi,l as Zi,m as el,n as er,o as mo,p as ol}from"./chunk-KUKFUJBA.js";import{a as Wn}from"./chunk-DWEK3EIG.js";import{a as Od,b as ji,d as Ld}from"./chunk-QR5EI5TJ.js";import{b as Xd,d as tl}from"./chunk-BHFRQZBI.js";import{a as _e}from"./chunk-57DLZB3H.js";import{b as uo,d as co}from"./chunk-KJYTBTZX.js";import{a as lt}from"./chunk-7B2UMYR3.js";import{c as zi,d as zd}from"./chunk-DLWPK36I.js";import{b as $i,c as Pd,d as dt}from"./chunk-6KT3MJYR.js";import{b as Rd}from"./chunk-CTJA2WQT.js";import{b as rl}from"./chunk-IKQGQFXB.js";import{a as jd,d as Vn,e as Kd,f as $d,h as Yd,k as Yi}from"./chunk-F2F65RJN.js";import{a as Nd,c as Re}from"./chunk-VJ2JNI4M.js";import{$a as Mn,Aa as Lt,Ba as oe,Ha as cd,Ia as pd,Ka as fd,Ma as Rn,Na as _d,Q as dd,Sa as gd,Ta as Nn,Ua as hd,Va as Td,W as Wo,Wa as Sd,Xa as Id,Ya as kd,_a as xd,cb as yd,db as Cd,eb as bd,fb as vd,gb as wd,ha as Pn,i as Hi,ib as Ed,j as ad,jb as Ad,ka as ld,kb as Dd,p as Wt,pa as ud,qa as qi,r as On,ra as Ie,xa as ee,za as Gt}from"./chunk-22THXMTO.js";import{b as id,c as Ln}from"./chunk-UJWKDH2G.js";import{A as ze,B as Ir,E as Mi,d as Bo,f as Ri,g as ya,i as Ni,l as ba,v as Et,z as At}from"./chunk-AHLFMVMC.js";import{a as md}from"./chunk-KZDRRGNV.js";import{a as Pe}from"./chunk-3DAKLS7D.js";import{b as od,i as nd,l as Dn}from"./chunk-JVJHSYZS.js";import{A as wr,B as Wi,D as Gi,E as rd,a as Xe,h as Vo,j as Ot,l as X,m as Fe,o as te,s as En,v as An,w as ed,y as Ze,z as td}from"./chunk-IFGNGASP.js";import{A as Q,Ac as Ba,C as yr,Ce as Ya,De as Xa,E as Cr,Ed as Ka,Ee as Za,Fb as Pa,Fe as Ja,G as fe,He as p,Ie as vr,K as Aa,N as Da,Ob as Fi,Rc as ue,S as br,Sc as wn,T as Dt,Ua as La,Uc as at,Vc as Ua,Yc as Ye,Zc as Ui,ad as Va,bd as Wa,be as $a,cd as Ga,d as B,dd as Vi,e as F,eb as ao,ed as Ha,f as P,fc as Ra,fd as qa,g as kr,gd as ja,h as va,hb as vn,ia as Oa,ic as Na,jc as Bi,k as so,kc as Ma,ke as Qa,l as $,le as za,m as it,n as Te,nc as Fa,o as wa,ob as st,r as Ea,t as xr,u as Uo,zc as Se}from"./chunk-NPJCEXXH.js";import{ae as sd}from"./chunk-MTBP4NOE.js";import{B as Ca,a as bn,s as Ve,v as io}from"./chunk-5RLAMZDG.js";import{q as xa}from"./chunk-FRGP5XJV.js";import{a as le}from"./chunk-Q2B4R57L.js";import{b as V}from"./chunk-PJC4UBLU.js";import{$ as Qe,B as Ia,C as Li,D as Sr,H as no,L as ka,M as Pi,b as Cn,e as _a,f as ga,j as H,o as ha,t as Ta,w as Sa,z as nt}from"./chunk-JYNY5RZ4.js";import{c as ot,f as b,h as T,n as f,o as a,q as d}from"./chunk-LHDKEQAM.js";var qo=ot(We=>{a();d();var jc=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Kc(r,t){return Object.prototype.hasOwnProperty.call(r,t)}We.assign=function(r){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var e=t.shift();if(!!e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(var o in e)Kc(e,o)&&(r[o]=e[o])}}return r};We.shrinkBuf=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};var $c={arraySet:function(r,t,e,o,n){if(t.subarray&&r.subarray){r.set(t.subarray(e,e+o),n);return}for(var i=0;i<o;i++)r[n+i]=t[e+i]},flattenChunks:function(r){var t,e,o,n,i,s;for(o=0,t=0,e=r.length;t<e;t++)o+=r[t].length;for(s=new Uint8Array(o),n=0,t=0,e=r.length;t<e;t++)i=r[t],s.set(i,n),n+=i.length;return s}},Qc={arraySet:function(r,t,e,o,n){for(var i=0;i<o;i++)r[n+i]=t[e+i]},flattenChunks:function(r){return[].concat.apply([],r)}};We.setTyped=function(r){r?(We.Buf8=Uint8Array,We.Buf16=Uint16Array,We.Buf32=Int32Array,We.assign(We,$c)):(We.Buf8=Array,We.Buf16=Array,We.Buf32=Array,We.assign(We,Qc))};We.setTyped(jc)});var Dl=ot((Sh,Al)=>{a();d();function zc(r,t,e,o){for(var n=r&65535|0,i=r>>>16&65535|0,s=0;e!==0;){s=e>2e3?2e3:e,e-=s;do n=n+t[o++]|0,i=i+n|0;while(--s);n%=65521,i%=65521}return n|i<<16|0}Al.exports=zc});var Ll=ot((xh,Ol)=>{a();d();function Yc(){for(var r,t=[],e=0;e<256;e++){r=e;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t}var Xc=Yc();function Zc(r,t,e,o){var n=Xc,i=o+e;r^=-1;for(var s=o;s<i;s++)r=r>>>8^n[(r^t[s])&255];return r^-1}Ol.exports=Zc});var Rl=ot((bh,Pl)=>{a();d();var Kn=30,Jc=12;Pl.exports=function(t,e){var o,n,i,s,l,c,u,m,h,S,g,I,C,y,v,D,M,E,x,R,O,N,U,q,L;o=t.state,n=t.next_in,q=t.input,i=n+(t.avail_in-5),s=t.next_out,L=t.output,l=s-(e-t.avail_out),c=s+(t.avail_out-257),u=o.dmax,m=o.wsize,h=o.whave,S=o.wnext,g=o.window,I=o.hold,C=o.bits,y=o.lencode,v=o.distcode,D=(1<<o.lenbits)-1,M=(1<<o.distbits)-1;e:do{C<15&&(I+=q[n++]<<C,C+=8,I+=q[n++]<<C,C+=8),E=y[I&D];t:for(;;){if(x=E>>>24,I>>>=x,C-=x,x=E>>>16&255,x===0)L[s++]=E&65535;else if(x&16){R=E&65535,x&=15,x&&(C<x&&(I+=q[n++]<<C,C+=8),R+=I&(1<<x)-1,I>>>=x,C-=x),C<15&&(I+=q[n++]<<C,C+=8,I+=q[n++]<<C,C+=8),E=v[I&M];r:for(;;){if(x=E>>>24,I>>>=x,C-=x,x=E>>>16&255,x&16){if(O=E&65535,x&=15,C<x&&(I+=q[n++]<<C,C+=8,C<x&&(I+=q[n++]<<C,C+=8)),O+=I&(1<<x)-1,O>u){t.msg="invalid distance too far back",o.mode=Kn;break e}if(I>>>=x,C-=x,x=s-l,O>x){if(x=O-x,x>h&&o.sane){t.msg="invalid distance too far back",o.mode=Kn;break e}if(N=0,U=g,S===0){if(N+=m-x,x<R){R-=x;do L[s++]=g[N++];while(--x);N=s-O,U=L}}else if(S<x){if(N+=m+S-x,x-=S,x<R){R-=x;do L[s++]=g[N++];while(--x);if(N=0,S<R){x=S,R-=x;do L[s++]=g[N++];while(--x);N=s-O,U=L}}}else if(N+=S-x,x<R){R-=x;do L[s++]=g[N++];while(--x);N=s-O,U=L}for(;R>2;)L[s++]=U[N++],L[s++]=U[N++],L[s++]=U[N++],R-=3;R&&(L[s++]=U[N++],R>1&&(L[s++]=U[N++]))}else{N=s-O;do L[s++]=L[N++],L[s++]=L[N++],L[s++]=L[N++],R-=3;while(R>2);R&&(L[s++]=L[N++],R>1&&(L[s++]=L[N++]))}}else if((x&64)===0){E=v[(E&65535)+(I&(1<<x)-1)];continue r}else{t.msg="invalid distance code",o.mode=Kn;break e}break}}else if((x&64)===0){E=y[(E&65535)+(I&(1<<x)-1)];continue t}else if(x&32){o.mode=Jc;break e}else{t.msg="invalid literal/length code",o.mode=Kn;break e}break}}while(n<i&&s<c);R=C>>3,n-=R,C-=R<<3,I&=(1<<C)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<c?257+(c-s):257-(s-c),o.hold=I,o.bits=C}});var Wl=ot((Eh,Vl)=>{a();d();var Nl=qo(),fo=15,Ml=852,Fl=592,Bl=0,cs=1,Ul=2,ep=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],tp=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],rp=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],op=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Vl.exports=function(t,e,o,n,i,s,l,c){var u=c.bits,m=0,h=0,S=0,g=0,I=0,C=0,y=0,v=0,D=0,M=0,E,x,R,O,N,U=null,q=0,L,K=new Nl.Buf16(fo+1),w=new Nl.Buf16(fo+1),z=null,Z=0,ge,he,re;for(m=0;m<=fo;m++)K[m]=0;for(h=0;h<n;h++)K[e[o+h]]++;for(I=u,g=fo;g>=1&&K[g]===0;g--);if(I>g&&(I=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,c.bits=1,0;for(S=1;S<g&&K[S]===0;S++);for(I<S&&(I=S),v=1,m=1;m<=fo;m++)if(v<<=1,v-=K[m],v<0)return-1;if(v>0&&(t===Bl||g!==1))return-1;for(w[1]=0,m=1;m<fo;m++)w[m+1]=w[m]+K[m];for(h=0;h<n;h++)e[o+h]!==0&&(l[w[e[o+h]]++]=h);if(t===Bl?(U=z=l,L=19):t===cs?(U=ep,q-=257,z=tp,Z-=257,L=256):(U=rp,z=op,L=-1),M=0,h=0,m=S,N=s,C=I,y=0,R=-1,D=1<<I,O=D-1,t===cs&&D>Ml||t===Ul&&D>Fl)return 1;for(;;){ge=m-y,l[h]<L?(he=0,re=l[h]):l[h]>L?(he=z[Z+l[h]],re=U[q+l[h]]):(he=32+64,re=0),E=1<<m-y,x=1<<C,S=x;do x-=E,i[N+(M>>y)+x]=ge<<24|he<<16|re|0;while(x!==0);for(E=1<<m-1;M&E;)E>>=1;if(E!==0?(M&=E-1,M+=E):M=0,h++,--K[m]===0){if(m===g)break;m=e[o+l[h]]}if(m>I&&(M&O)!==R){for(y===0&&(y=I),N+=S,C=m-y,v=1<<C;C+y<g&&(v-=K[C+y],!(v<=0));)C++,v<<=1;if(D+=1<<C,t===cs&&D>Ml||t===Ul&&D>Fl)return 1;R=M&O,i[R]=I<<24|C<<16|N-s|0}}return M!==0&&(i[N+M]=m-y<<24|64<<16|0),c.bits=I,0}});var xu=ot(It=>{a();d();var Je=qo(),Ts=Dl(),Rt=Ll(),np=Rl(),jo=Wl(),ip=0,pu=1,fu=2,Gl=4,sp=5,$n=6,Dr=0,ap=1,dp=2,ut=-2,_u=-3,Ss=-4,lp=-5,Hl=8,gu=1,ql=2,jl=3,Kl=4,$l=5,Ql=6,zl=7,Yl=8,Xl=9,Zl=10,Yn=11,jt=12,ps=13,Jl=14,fs=15,eu=16,tu=17,ru=18,ou=19,Qn=20,zn=21,nu=22,iu=23,su=24,au=25,du=26,_s=27,lu=28,uu=29,ce=30,Is=31,up=32,mp=852,cp=592,pp=15,fp=pp;function mu(r){return(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24)}function _p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Je.Buf16(320),this.work=new Je.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function hu(r){var t;return!r||!r.state?ut:(t=r.state,r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=gu,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Je.Buf32(mp),t.distcode=t.distdyn=new Je.Buf32(cp),t.sane=1,t.back=-1,Dr)}function Tu(r){var t;return!r||!r.state?ut:(t=r.state,t.wsize=0,t.whave=0,t.wnext=0,hu(r))}function Su(r,t){var e,o;return!r||!r.state||(o=r.state,t<0?(e=0,t=-t):(e=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?ut:(o.window!==null&&o.wbits!==t&&(o.window=null),o.wrap=e,o.wbits=t,Tu(r))}function Iu(r,t){var e,o;return r?(o=new _p,r.state=o,o.window=null,e=Su(r,t),e!==Dr&&(r.state=null),e):ut}function gp(r){return Iu(r,fp)}var cu=!0,gs,hs;function hp(r){if(cu){var t;for(gs=new Je.Buf32(512),hs=new Je.Buf32(32),t=0;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(jo(pu,r.lens,0,288,gs,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;jo(fu,r.lens,0,32,hs,0,r.work,{bits:5}),cu=!1}r.lencode=gs,r.lenbits=9,r.distcode=hs,r.distbits=5}function ku(r,t,e,o){var n,i=r.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Je.Buf8(i.wsize)),o>=i.wsize?(Je.arraySet(i.window,t,e-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>o&&(n=o),Je.arraySet(i.window,t,e-o,n,i.wnext),o-=n,o?(Je.arraySet(i.window,t,e-o,o,0),i.wnext=o,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0}function Tp(r,t){var e,o,n,i,s,l,c,u,m,h,S,g,I,C,y=0,v,D,M,E,x,R,O,N,U=new Je.Buf8(4),q,L,K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!r||!r.state||!r.output||!r.input&&r.avail_in!==0)return ut;e=r.state,e.mode===jt&&(e.mode=ps),s=r.next_out,n=r.output,c=r.avail_out,i=r.next_in,o=r.input,l=r.avail_in,u=e.hold,m=e.bits,h=l,S=c,N=Dr;e:for(;;)switch(e.mode){case gu:if(e.wrap===0){e.mode=ps;break}for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(e.wrap&2&&u===35615){e.check=0,U[0]=u&255,U[1]=u>>>8&255,e.check=Rt(e.check,U,2,0),u=0,m=0,e.mode=ql;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",e.mode=ce;break}if((u&15)!==Hl){r.msg="unknown compression method",e.mode=ce;break}if(u>>>=4,m-=4,O=(u&15)+8,e.wbits===0)e.wbits=O;else if(O>e.wbits){r.msg="invalid window size",e.mode=ce;break}e.dmax=1<<O,r.adler=e.check=1,e.mode=u&512?Zl:jt,u=0,m=0;break;case ql:for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(e.flags=u,(e.flags&255)!==Hl){r.msg="unknown compression method",e.mode=ce;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=ce;break}e.head&&(e.head.text=u>>8&1),e.flags&512&&(U[0]=u&255,U[1]=u>>>8&255,e.check=Rt(e.check,U,2,0)),u=0,m=0,e.mode=jl;case jl:for(;m<32;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.head&&(e.head.time=u),e.flags&512&&(U[0]=u&255,U[1]=u>>>8&255,U[2]=u>>>16&255,U[3]=u>>>24&255,e.check=Rt(e.check,U,4,0)),u=0,m=0,e.mode=Kl;case Kl:for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.head&&(e.head.xflags=u&255,e.head.os=u>>8),e.flags&512&&(U[0]=u&255,U[1]=u>>>8&255,e.check=Rt(e.check,U,2,0)),u=0,m=0,e.mode=$l;case $l:if(e.flags&1024){for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.length=u,e.head&&(e.head.extra_len=u),e.flags&512&&(U[0]=u&255,U[1]=u>>>8&255,e.check=Rt(e.check,U,2,0)),u=0,m=0}else e.head&&(e.head.extra=null);e.mode=Ql;case Ql:if(e.flags&1024&&(g=e.length,g>l&&(g=l),g&&(e.head&&(O=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Je.arraySet(e.head.extra,o,i,g,O)),e.flags&512&&(e.check=Rt(e.check,o,g,i)),l-=g,i+=g,e.length-=g),e.length))break e;e.length=0,e.mode=zl;case zl:if(e.flags&2048){if(l===0)break e;g=0;do O=o[i+g++],e.head&&O&&e.length<65536&&(e.head.name+=String.fromCharCode(O));while(O&&g<l);if(e.flags&512&&(e.check=Rt(e.check,o,g,i)),l-=g,i+=g,O)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=Yl;case Yl:if(e.flags&4096){if(l===0)break e;g=0;do O=o[i+g++],e.head&&O&&e.length<65536&&(e.head.comment+=String.fromCharCode(O));while(O&&g<l);if(e.flags&512&&(e.check=Rt(e.check,o,g,i)),l-=g,i+=g,O)break e}else e.head&&(e.head.comment=null);e.mode=Xl;case Xl:if(e.flags&512){for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(u!==(e.check&65535)){r.msg="header crc mismatch",e.mode=ce;break}u=0,m=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=jt;break;case Zl:for(;m<32;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}r.adler=e.check=mu(u),u=0,m=0,e.mode=Yn;case Yn:if(e.havedict===0)return r.next_out=s,r.avail_out=c,r.next_in=i,r.avail_in=l,e.hold=u,e.bits=m,dp;r.adler=e.check=1,e.mode=jt;case jt:if(t===sp||t===$n)break e;case ps:if(e.last){u>>>=m&7,m-=m&7,e.mode=_s;break}for(;m<3;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}switch(e.last=u&1,u>>>=1,m-=1,u&3){case 0:e.mode=Jl;break;case 1:if(hp(e),e.mode=Qn,t===$n){u>>>=2,m-=2;break e}break;case 2:e.mode=tu;break;case 3:r.msg="invalid block type",e.mode=ce}u>>>=2,m-=2;break;case Jl:for(u>>>=m&7,m-=m&7;m<32;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",e.mode=ce;break}if(e.length=u&65535,u=0,m=0,e.mode=fs,t===$n)break e;case fs:e.mode=eu;case eu:if(g=e.length,g){if(g>l&&(g=l),g>c&&(g=c),g===0)break e;Je.arraySet(n,o,i,g,s),l-=g,i+=g,c-=g,s+=g,e.length-=g;break}e.mode=jt;break;case tu:for(;m<14;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(e.nlen=(u&31)+257,u>>>=5,m-=5,e.ndist=(u&31)+1,u>>>=5,m-=5,e.ncode=(u&15)+4,u>>>=4,m-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=ce;break}e.have=0,e.mode=ru;case ru:for(;e.have<e.ncode;){for(;m<3;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.lens[K[e.have++]]=u&7,u>>>=3,m-=3}for(;e.have<19;)e.lens[K[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,q={bits:e.lenbits},N=jo(ip,e.lens,0,19,e.lencode,0,e.work,q),e.lenbits=q.bits,N){r.msg="invalid code lengths set",e.mode=ce;break}e.have=0,e.mode=ou;case ou:for(;e.have<e.nlen+e.ndist;){for(;y=e.lencode[u&(1<<e.lenbits)-1],v=y>>>24,D=y>>>16&255,M=y&65535,!(v<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(M<16)u>>>=v,m-=v,e.lens[e.have++]=M;else{if(M===16){for(L=v+2;m<L;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(u>>>=v,m-=v,e.have===0){r.msg="invalid bit length repeat",e.mode=ce;break}O=e.lens[e.have-1],g=3+(u&3),u>>>=2,m-=2}else if(M===17){for(L=v+3;m<L;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}u>>>=v,m-=v,O=0,g=3+(u&7),u>>>=3,m-=3}else{for(L=v+7;m<L;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}u>>>=v,m-=v,O=0,g=11+(u&127),u>>>=7,m-=7}if(e.have+g>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=ce;break}for(;g--;)e.lens[e.have++]=O}}if(e.mode===ce)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=ce;break}if(e.lenbits=9,q={bits:e.lenbits},N=jo(pu,e.lens,0,e.nlen,e.lencode,0,e.work,q),e.lenbits=q.bits,N){r.msg="invalid literal/lengths set",e.mode=ce;break}if(e.distbits=6,e.distcode=e.distdyn,q={bits:e.distbits},N=jo(fu,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,q),e.distbits=q.bits,N){r.msg="invalid distances set",e.mode=ce;break}if(e.mode=Qn,t===$n)break e;case Qn:e.mode=zn;case zn:if(l>=6&&c>=258){r.next_out=s,r.avail_out=c,r.next_in=i,r.avail_in=l,e.hold=u,e.bits=m,np(r,S),s=r.next_out,n=r.output,c=r.avail_out,i=r.next_in,o=r.input,l=r.avail_in,u=e.hold,m=e.bits,e.mode===jt&&(e.back=-1);break}for(e.back=0;y=e.lencode[u&(1<<e.lenbits)-1],v=y>>>24,D=y>>>16&255,M=y&65535,!(v<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(D&&(D&240)===0){for(E=v,x=D,R=M;y=e.lencode[R+((u&(1<<E+x)-1)>>E)],v=y>>>24,D=y>>>16&255,M=y&65535,!(E+v<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}u>>>=E,m-=E,e.back+=E}if(u>>>=v,m-=v,e.back+=v,e.length=M,D===0){e.mode=du;break}if(D&32){e.back=-1,e.mode=jt;break}if(D&64){r.msg="invalid literal/length code",e.mode=ce;break}e.extra=D&15,e.mode=nu;case nu:if(e.extra){for(L=e.extra;m<L;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,m-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=iu;case iu:for(;y=e.distcode[u&(1<<e.distbits)-1],v=y>>>24,D=y>>>16&255,M=y&65535,!(v<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if((D&240)===0){for(E=v,x=D,R=M;y=e.distcode[R+((u&(1<<E+x)-1)>>E)],v=y>>>24,D=y>>>16&255,M=y&65535,!(E+v<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}u>>>=E,m-=E,e.back+=E}if(u>>>=v,m-=v,e.back+=v,D&64){r.msg="invalid distance code",e.mode=ce;break}e.offset=M,e.extra=D&15,e.mode=su;case su:if(e.extra){for(L=e.extra;m<L;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,m-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=ce;break}e.mode=au;case au:if(c===0)break e;if(g=S-c,e.offset>g){if(g=e.offset-g,g>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=ce;break}g>e.wnext?(g-=e.wnext,I=e.wsize-g):I=e.wnext-g,g>e.length&&(g=e.length),C=e.window}else C=n,I=s-e.offset,g=e.length;g>c&&(g=c),c-=g,e.length-=g;do n[s++]=C[I++];while(--g);e.length===0&&(e.mode=zn);break;case du:if(c===0)break e;n[s++]=e.length,c--,e.mode=zn;break;case _s:if(e.wrap){for(;m<32;){if(l===0)break e;l--,u|=o[i++]<<m,m+=8}if(S-=c,r.total_out+=S,e.total+=S,S&&(r.adler=e.check=e.flags?Rt(e.check,n,S,s-S):Ts(e.check,n,S,s-S)),S=c,(e.flags?u:mu(u))!==e.check){r.msg="incorrect data check",e.mode=ce;break}u=0,m=0}e.mode=lu;case lu:if(e.wrap&&e.flags){for(;m<32;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(u!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=ce;break}u=0,m=0}e.mode=uu;case uu:N=ap;break e;case ce:N=_u;break e;case Is:return Ss;case up:default:return ut}return r.next_out=s,r.avail_out=c,r.next_in=i,r.avail_in=l,e.hold=u,e.bits=m,(e.wsize||S!==r.avail_out&&e.mode<ce&&(e.mode<_s||t!==Gl))&&ku(r,r.output,r.next_out,S-r.avail_out)?(e.mode=Is,Ss):(h-=r.avail_in,S-=r.avail_out,r.total_in+=h,r.total_out+=S,e.total+=S,e.wrap&&S&&(r.adler=e.check=e.flags?Rt(e.check,n,S,r.next_out-S):Ts(e.check,n,S,r.next_out-S)),r.data_type=e.bits+(e.last?64:0)+(e.mode===jt?128:0)+(e.mode===Qn||e.mode===fs?256:0),(h===0&&S===0||t===Gl)&&N===Dr&&(N=lp),N)}function Sp(r){if(!r||!r.state)return ut;var t=r.state;return t.window&&(t.window=null),r.state=null,Dr}function Ip(r,t){var e;return!r||!r.state||(e=r.state,(e.wrap&2)===0)?ut:(e.head=t,t.done=!1,Dr)}function kp(r,t){var e=t.length,o,n,i;return!r||!r.state||(o=r.state,o.wrap!==0&&o.mode!==Yn)?ut:o.mode===Yn&&(n=1,n=Ts(n,t,e,0),n!==o.check)?_u:(i=ku(r,t,e,e),i?(o.mode=Is,Ss):(o.havedict=1,Dr))}It.inflateReset=Tu;It.inflateReset2=Su;It.inflateResetKeep=hu;It.inflateInit=gp;It.inflateInit2=Iu;It.inflate=Tp;It.inflateEnd=Sp;It.inflateGetHeader=Ip;It.inflateSetDictionary=kp;It.inflateInfo="pako inflate (from Nodeca project)"});var vu=ot(_o=>{a();d();var Xn=qo(),yu=!0,Cu=!0;try{String.fromCharCode.apply(null,[0])}catch{yu=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Cu=!1}var Ko=new Xn.Buf8(256);for(Kt=0;Kt<256;Kt++)Ko[Kt]=Kt>=252?6:Kt>=248?5:Kt>=240?4:Kt>=224?3:Kt>=192?2:1;var Kt;Ko[254]=Ko[254]=1;_o.string2buf=function(r){var t,e,o,n,i,s=r.length,l=0;for(n=0;n<s;n++)e=r.charCodeAt(n),(e&64512)===55296&&n+1<s&&(o=r.charCodeAt(n+1),(o&64512)===56320&&(e=65536+(e-55296<<10)+(o-56320),n++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Xn.Buf8(l),i=0,n=0;i<l;n++)e=r.charCodeAt(n),(e&64512)===55296&&n+1<s&&(o=r.charCodeAt(n+1),(o&64512)===56320&&(e=65536+(e-55296<<10)+(o-56320),n++)),e<128?t[i++]=e:e<2048?(t[i++]=192|e>>>6,t[i++]=128|e&63):e<65536?(t[i++]=224|e>>>12,t[i++]=128|e>>>6&63,t[i++]=128|e&63):(t[i++]=240|e>>>18,t[i++]=128|e>>>12&63,t[i++]=128|e>>>6&63,t[i++]=128|e&63);return t};function bu(r,t){if(t<65534&&(r.subarray&&Cu||!r.subarray&&yu))return String.fromCharCode.apply(null,Xn.shrinkBuf(r,t));for(var e="",o=0;o<t;o++)e+=String.fromCharCode(r[o]);return e}_o.buf2binstring=function(r){return bu(r,r.length)};_o.binstring2buf=function(r){for(var t=new Xn.Buf8(r.length),e=0,o=t.length;e<o;e++)t[e]=r.charCodeAt(e);return t};_o.buf2string=function(r,t){var e,o,n,i,s=t||r.length,l=new Array(s*2);for(o=0,e=0;e<s;){if(n=r[e++],n<128){l[o++]=n;continue}if(i=Ko[n],i>4){l[o++]=65533,e+=i-1;continue}for(n&=i===2?31:i===3?15:7;i>1&&e<s;)n=n<<6|r[e++]&63,i--;if(i>1){l[o++]=65533;continue}n<65536?l[o++]=n:(n-=65536,l[o++]=55296|n>>10&1023,l[o++]=56320|n&1023)}return bu(l,o)};_o.utf8border=function(r,t){var e;for(t=t||r.length,t>r.length&&(t=r.length),e=t-1;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+Ko[r[e]]>t?e:t}});var Eu=ot((Fh,wu)=>{a();d();wu.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var Du=ot((Vh,Au)=>{a();d();Au.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var Lu=ot((Hh,Ou)=>{a();d();function xp(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Ou.exports=xp});var Ru=ot((Kh,Pu)=>{a();d();function yp(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}Pu.exports=yp});var Mu=ot(Qo=>{a();d();var go=xu(),$o=qo(),Zn=vu(),ke=Eu(),ks=Du(),Cp=Lu(),bp=Ru(),Nu=Object.prototype.toString;function Or(r){if(!(this instanceof Or))return new Or(r);this.options=$o.assign({chunkSize:16384,windowBits:0,to:""},r||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cp,this.strm.avail_out=0;var e=go.inflateInit2(this.strm,t.windowBits);if(e!==ke.Z_OK)throw new Error(ks[e]);if(this.header=new bp,go.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Zn.string2buf(t.dictionary):Nu.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=go.inflateSetDictionary(this.strm,t.dictionary),e!==ke.Z_OK)))throw new Error(ks[e])}Or.prototype.push=function(r,t){var e=this.strm,o=this.options.chunkSize,n=this.options.dictionary,i,s,l,c,u,m=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?ke.Z_FINISH:ke.Z_NO_FLUSH,typeof r=="string"?e.input=Zn.binstring2buf(r):Nu.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new $o.Buf8(o),e.next_out=0,e.avail_out=o),i=go.inflate(e,ke.Z_NO_FLUSH),i===ke.Z_NEED_DICT&&n&&(i=go.inflateSetDictionary(this.strm,n)),i===ke.Z_BUF_ERROR&&m===!0&&(i=ke.Z_OK,m=!1),i!==ke.Z_STREAM_END&&i!==ke.Z_OK)return this.onEnd(i),this.ended=!0,!1;e.next_out&&(e.avail_out===0||i===ke.Z_STREAM_END||e.avail_in===0&&(s===ke.Z_FINISH||s===ke.Z_SYNC_FLUSH))&&(this.options.to==="string"?(l=Zn.utf8border(e.output,e.next_out),c=e.next_out-l,u=Zn.buf2string(e.output,l),e.next_out=c,e.avail_out=o-c,c&&$o.arraySet(e.output,e.output,l,c,0),this.onData(u)):this.onData($o.shrinkBuf(e.output,e.next_out))),e.avail_in===0&&e.avail_out===0&&(m=!0)}while((e.avail_in>0||e.avail_out===0)&&i!==ke.Z_STREAM_END);return i===ke.Z_STREAM_END&&(s=ke.Z_FINISH),s===ke.Z_FINISH?(i=go.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ke.Z_OK):(s===ke.Z_SYNC_FLUSH&&(this.onEnd(ke.Z_OK),e.avail_out=0),!0)};Or.prototype.onData=function(r){this.chunks.push(r)};Or.prototype.onEnd=function(r){r===ke.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$o.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function xs(r,t){var e=new Or(t);if(e.push(r,!0),e.err)throw e.msg||ks[e.err];return e.result}function vp(r,t){return t=t||{},t.raw=!0,xs(r,t)}Qo.Inflate=Or;Qo.inflate=xs;Qo.inflateRaw=vp;Qo.ungzip=xs});a();d();var Ce=b(V()),Sn=b(le());a();d();var Gn=b(V());var nl=({channel:r,onListenData:t,onSubscribeSuccess:e,onListenError:o,onListenReconnected:n})=>{let i=(0,Gn.useRef)({onListenData:t,onSubscribeSuccess:e,onListenError:o,onListenReconnected:n});i.current={onListenData:t,onSubscribeSuccess:e,onListenError:o,onListenReconnected:n},(0,Gn.useEffect)(()=>{let s=Ld({isPri:!0,needLogin:!0,subscribeParams:[{channel:r}],onListenData:(l,c)=>{if(!l)return;let u=c;u?.channel===r&&i.current.onListenData(l,u)},onSubscribeSuccess:l=>{i.current.onSubscribeSuccess?.(l)},onListenError:l=>{i.current.onListenError(l)},onListenReconnected:()=>{i.current.onListenReconnected?.()}});return()=>{s?.()}},[r])};var il=r=>{nl({channel:Qi.DEX_PUSH_ENGINE,...r})},sl=r=>{nl({channel:Qi.DEX_STRATEGY_OPEN_ORDER,...r})};a();d();var al=r=>{let{accountStore:t}=Nd();dd({wallet_address:t.address,page_name:r})};a();d();Qe();a();d();async function dl(r){return await oe.get("/priapi/v1/dx/trade/multi/myTrades",{params:r})}async function ll(r){return await oe.get("/priapi/v1/dx/trade/multi/buildCancelCallData",{params:r})}a();d();a();d();var ul=r=>r.fromToken?{...r.fromToken,isFromToken:!0}:{chainLogoUrl:r.fromChainLogoUrl,tokenLogoUrl:r.fromIcon,tokenSymbol:r.fromTokenSymbol,chainName:r.fromChainName,chainId:r.fromChainId,tokenContractAddress:r.fromTokenAddress,tokenAmount:r.fromAmount,isFromToken:!0},ts=r=>r.toToken?{...r.toToken,isToToken:!0}:{chainLogoUrl:r.toChainLogoUrl,tokenLogoUrl:r.toIcon,tokenSymbol:r.toTokenSymbol,chainName:r.toChainName,chainId:r.toChainId,tokenContractAddress:r.toTokenAddress,tokenAmount:r.toAmount,isToToken:!0},ml=r=>Number(r.exchangeDirection)===0?ts(r):Number(r.exchangeDirection)===1?ul(r):r.fromToken?.tokenIsCurrency&&!r.toToken?.tokenIsCurrency||r.fromTokenIsCurrency&&!r.toTokenIsCurrency?ts(r):!r.fromToken?.tokenIsCurrency&&r.toToken?.tokenIsCurrency||!r.fromTokenIsCurrency&&r.toTokenIsCurrency?ul(r):ts(r);a();d();a();d();var v_=[0,2,3,4];var cl={TEE_SA_MARKET:1,TEE_SA_LIMIT_ORDER:6,TEE_SA_TP_ORDER:201,TEE_SA_SL_ORDER:202,TEE_SA_COPY_TRADE_ORDER:203};var L_={["all"]:null,["market"]:[1],["limit"]:[6],["tp_sl"]:[201,202]};var fl={["swaptrade_tee_tag_cancelling"]:4,["swaptrade_history_cell_tag_processing"]:5,["swaptrade_tee_tag_cancelled"]:2,["swaptrade_tee_tag_completed"]:1,["swaptrade_tee_tag_failed"]:3,["swaptrade_bridge_cell_tag_ready_to_claim"]:6,["swaptrade_bridge_header_claiming"]:7},P_={["swaptrade_tee_tag_active"]:3,["swaptrade_tee_tag_cancelling"]:-3,["swaptrade_history_cell_tag_processing"]:0,["swaptrade_tee_tag_suspended"]:4,["swaptrade_tee_tag_cancelled"]:-2,["swaptrade_tee_tag_completed"]:1,["swaptrade_tee_tag_failed"]:-1,["swaptrade_tee_tag_expired"]:-7},_l={["swaptrade_tee_tag_failed"]:-1,["swaptrade_tee_tag_completed"]:1};a();d();var Hn=b(V());a();d();var gl={"order-duration-text":"_order-duration-text_kdnal_1",orderDurationText:"_order-duration-text_kdnal_1"};var Uc=({duration:r})=>{let t=(0,Hn.useMemo)(()=>{let e=r&&r>0?`${Xe.showCeilTruncation(Xe.div(r,1e3),2)}`:"";return p("swaptrade_toast_msg_transaction_time_cost",{time:e})},[r]);return r?Hn.default.createElement("span",{className:gl.orderDurationText},t):null},rs=Uc;a();d();a();d();var hl=10026;a();d();var os=class extends On{constructor(){super();this.authStatus="authenticated";this.hasPermission=!0;this.authDialogVisible=!1;$(this,{hasPermission:B,authStatus:B,authDialogVisible:B,isAuthenticated:F})}get isAuthenticated(){return this.authStatus==="authenticated"}},Ht=new os;var ns=class{constructor(){this.login=async()=>{try{let t=await Hi.getSignChainIdByChainId(1);if(!await bd({chainId:t}))return At.success({title:p("swaptrade_alert_center_toast_network_unsupport")}),Ht.update({authStatus:"unauthenticated"}),{};let{isSupportSilentSignVersion:o}=await vd();ee.stuff("checkSupportSaDefaultSilentVersion",o),await yd({needSign:!0,isSilent:o});let n=Cd();return Ht.update({authStatus:"authenticated"}),{authToken:n,chainId:t}}catch{return Ht.update({authStatus:"unauthenticated"}),{}}};this.getAuthToken=async t=>{try{if(!t)return{authToken:"",chainId:1};let e=await Hi.getSignChainIdByChainId(1),o=await wd(t);return o?(Ht.update({authStatus:"authenticated"}),{authToken:o,chainId:e}):(Ht.update({authStatus:"unauthenticated"}),{})}catch{return Ht.update({authStatus:"unauthenticated"}),{}}};this.removeAuthToken=()=>{Ht.update({authStatus:"unauthenticated"})};this.setPermission=t=>{Ht.update({hasPermission:t})}}},is=new ns;a();d();var Go={Failed:"-1",Waiting:"1",Pending:"2",Succeed:"3"},Er={ESTIMATE:1,EXCEED_ESTIMATE:2,UNTIMED:3,TIMEOUT:4},Tl={FromIsBtcChain:1,FromIsNotBtcChain:2},be={SINGLE_TIPS:1,GAS:2,BRIDGE:3,BLOCK_FROM:4,BLOCK_BRIDGE:5,BLOCK_TO:6},St={SINGLE:1,CROSS_FROM_SWAP:2,CROSS_BRIDGE_SWAP:3,CROSS_TO_SWAP:4};a();d();var jn={SUCCESS:"success",FAIL:"fail",REJECT:"reject",TXHASH:"txhash",APPROVE:"approve",CONNECT:"connect",APP_STATUS:"appStatus",CLOSE:"close"},Wc=Object.values(jn),as=class{constructor(){T(this,"toast",!0);T(this,"setToast",t=>{this.toast=t});T(this,"chainList",[]);T(this,"setChainList",t=>{this.chainList=t});T(this,"quote",{});T(this,"updateQuote",t=>{this.quote={...this.quote,...t}});T(this,"portal","");T(this,"setPortal",t=>{this.portal=t||""});T(this,"swapParams",{});T(this,"setSwapParams",({fromAmount:t,...e})=>{this.swapParams={...e,fromAmount:te(t)?t:"1"}});T(this,"status","");T(this,"reset",()=>{this.to={},this.from={},this.events={},this.swapParams={}});T(this,"on",(t,e)=>{if(!Wc.includes(t))return new Error("Not support event!!");if(typeof e!="function")return{};this.events[t]||(this.events[t]=[]);let o=`${t}${this.events[t].length}`;return this.events[t].push({cb:e,eventId:o}),{eventId:o,remove:()=>{this.remove(t,o)}}});T(this,"emit",(t,...e)=>{let o=this.events[t];o&&o.length&&o.forEach(n=>{let{cb:i}=n;i&&i.apply(this,e)})});T(this,"remove",(t,e="")=>{let o=this.events[t];o&&e&&o.forEach((n,i)=>{n.eventId===e&&o.splice(i,1)})});T(this,"removeAll",()=>{this.events={}});this.events={}}static init(t){return this.instance||(this.instance=new as(t)),this.instance}},qn=as;T(qn,"instance",null);var Gc=new qn,ss=Gc;a();d();var tr=({fromAmount:r,fromSymbol:t,equal:e="=",toAmount:o,toSymbol:n,leftNumber:i=void 0,rightNumber:s=void 0})=>Dt.formatRange({leftNumber:i??Dt.formatCurrency(r,{code:t,isSymbol:!1}),sign:` ${e} `,rightNumber:s??Dt.formatCurrency(o,{code:n,isSymbol:!1})}),rr=({fromAmount:r,fromSymbol:t,equal:e="=",toAmount:o,toSymbol:n,leftNumber:i=void 0,rightNumber:s=void 0})=>Dt.formatRange({leftNumber:i??Dt.formatCurrency(r,{code:me(t),isSymbol:!1}),sign:` ${e} `,rightNumber:s??Dt.formatCurrency(o,{code:me(n),isSymbol:!1})}),Ho=({amount:r,symbol:t,extra:e})=>e?`${r} ${t} ${e}`:`${r} ${t}`,Pt=(r,t)=>xr.isRTL?`${t}${r}`:`${r}${t}`;a();d();var Hc=(r,t=0,e=0)=>!r||typeof r!="string"?ue:r.length<=t+e||t===0||e===0?r:`${r.slice(0,t)}...${r.slice(-e)}`,or=r=>Hc(r,6,4);a();d();a();d();var qt=b(V());function Ar({type:r,onURLClick:t,exploreUrl:e,desc:o,...n}){let{id:i}=n,s=i?`notification-${i}`:void 0,l=e?qt.default.createElement(lt,{className:"color-959dad",href:e,onClick:t},qt.default.createElement("div",{className:"inline-flex align-items-center"},qt.default.createElement("div",{className:"font-12 color-0569ff font-bold"},p("swaptrade_toast_anchor_view_in_explorer")),qt.default.createElement(_e,{className:"okx-defi-dex-link color-0569ff",size:20}))):void 0,c=3;r==="success"?Ir.success({...n,desc:o||l,duration:c,placement:Ir.DIRECTION.top,id:s}):r==="failed"?Ir.error({...n,desc:o||l,duration:c,placement:Ir.DIRECTION.top,id:s}):r==="info"?ze.info({...n,desc:o||l,duration:c,placement:ze.DIRECTION.top}):r==="expired"?ze.info({...n,desc:o||l,duration:c,icon:"okds-clock",placement:ze.DIRECTION.top}):r==="warn"?ze.warn({...n,desc:o||l,duration:c,placement:ze.DIRECTION.top}):r==="pending"&&Ir.pending({...n,desc:o||l,duration:c,placement:Ir.DIRECTION.top,id:s,lottieProps:{speed:3}})}function nr({orderId:r,...t}){Ar({type:"success",id:r,...t})}function po({orderId:r,...t}){Ar({type:"failed",id:r,...t})}function ds(r){Ar({type:"info",...r})}function Sl(r){Ar({type:"expired",...r})}function Il(r){Ar({type:"warn",...r})}function kl(r,t){let e=()=>{Md(),t.onClaim(r)},o=p("swaptrade_bridge_alert_title_ready_to_claim"),n=qt.default.createElement(qt.default.Fragment,null,qt.default.createElement("p",{style:{color:"var(--okd-color-content-secondary)"}},p("swaptrade_bridge_alert_desc_successfully_bridged_to_chainname",{chainName:r.toChainName,token:r.toTokenSymbol})),qt.default.createElement(Bo,{style:{marginTop:"8px",fontSize:"12px",lineHeight:"16px",color:"var(--okd-color-content-primary)"},size:Ca.SIZE.xs,onClick:e},p("commonall_modal_btn_claim")));Ar({type:"success",title:o,desc:n})}function xl({title:r,exploreUrl:t="",onURLClick:e=()=>{},desc:o=null,orderId:n}){Ar({type:"pending",title:r,exploreUrl:t,onURLClick:e,desc:o,id:n})}function Cl(r){let t=[];if(r){let{status:o,orderId:n,fromChildOrderDetailVO:i,failureReason:s}=r,{fromAmount:l,fromTokenSymbol:c,toAmount:u,toTokenSymbol:m,failureReason:h,exploreUrl:S}=i||{},g=`${n}_${o}`;if(t.includes(g))return;let I=()=>{t.unshift(g),t=t.slice(0,20)};o===Ye.OPEN?(I(),ds({title:p("swaptrade_orders_notif_limitorder_submitted",{sellValue:Fe(l,{needBillionMillionUnit:!0}),sellToken:me(c),receiveValue:Ze(u),receiveToken:me(m)})})):o===Ye.SUCCEED?(I(),nr({title:p("swaptrade_orders_notif_limitorder_success",{sellValue:Fe(l,{needBillionMillionUnit:!0}),sellToken:c,receiveValue:Ze(u),receiveToken:m}),exploreUrl:S})):o===Ye.FAILED&&s?(I(),po({title:p("swaptrade_orders_notif_limitorder_failed",{sellValue:Fe(l,{needBillionMillionUnit:!0}),sellToken:me(c),receiveValue:Ze(u),receiveToken:me(m)})})):o===Ye.FAILED&&h?(I(),po({title:p("swaptrade_orders_notif_limitorder_failed",{sellValue:Fe(l,{needBillionMillionUnit:!0}),sellToken:me(c),receiveValue:Ze(u),receiveToken:me(m)}),exploreUrl:S})):o===Ye.CANCELLED?(ds({title:p("swaptrade_orders_notif_limitorder_canceled",{sellValue:Fe(l,{needBillionMillionUnit:!0}),sellToken:me(c),receiveValue:Ze(u),receiveToken:me(m)})}),I()):o===Ye.EXPIRED&&(Sl({title:p("swaptrade_orders_notif_limitorder_expired",{sellValue:Fe(l,{needBillionMillionUnit:!0}),sellToken:me(c),receiveValue:Ze(u),receiveToken:me(m)}),exploreUrl:S}),I())}}a();d();var vl=b(V());a();d();var bl={"surplus-order-success-notification":"_surplus-order-success-notification_llykx_1",surplusOrderSuccessNotification:"_surplus-order-success-notification_llykx_1"};var wl=({surplusAmount:r,toTokenSymbol:t,fromAmount:e,fromTokenSymbol:o,toAmount:n,onConfirm:i,...s})=>{ze.success({placement:ze.DIRECTION.top,...s,className:bl["surplus-order-success-notification"],icon:vl.default.createElement(Ve,{iconName:"okx-defi-surplus-solid",style:{fontSize:"16px",color:"var(--okd-color-surface-interactive-feature-default)"}}),title:yr("swaptrade_order_top_card_trade_complete_title",{value:X(r),token:me(t)}),desc:yr("swaptrade_order_top_card_trade_complete_desc",{fromValue:Fe(e,{needBillionMillionUnit:!0}),fromToken:me(o),toValue:X(n),toToken:me(t)}),confirmText:yr("swaptrade_order_top_card_trade_complete_view_dets"),onConfirm:i})};a();d();a();d();var El=[1,-2,-1,-7];var ls=r=>El.includes(Number(r));a();d();var us=class{constructor(){this.MAX_ENTRIES=100;this.MAX_AGE_MS=5*60*1e3;this.MIN_AFTER_BROADCAST_DURATION_MS=100;this.timestamps=new Map}cleanupOldEntries(){let t=Date.now();Array.from(this.timestamps.entries()).forEach(([o,n])=>{t-n.beforeBroadcast>this.MAX_AGE_MS&&this.timestamps.delete(o)})}setTimestamp(t,e){if(!!t){if(this.timestamps.size>=this.MAX_ENTRIES&&(this.cleanupOldEntries(),this.timestamps.size>=this.MAX_ENTRIES)){let o=this.timestamps.keys().next().value;o&&this.timestamps.delete(o)}this.timestamps.set(t,{beforeBroadcast:e||Date.now()})}}setAfterBroadcastTimestamp(t,e){if(!t)return;let o=this.timestamps.get(t);!o||this.timestamps.set(t,{...o,afterBroadcast:e||Date.now()})}getDuration(t){if(!t)return null;let e=this.timestamps.get(t);if(!e)return null;let o=Date.now(),n;if(e.afterBroadcast!==void 0){let i=o-e.afterBroadcast;i>=this.MIN_AFTER_BROADCAST_DURATION_MS?n=i:n=o-e.beforeBroadcast}else n=o-e.beforeBroadcast;return this.timestamps.delete(t),n}get size(){return this.timestamps.size}};function qc(){let r=null;function t(){return r||(typeof window>"u"?r={setTimestamp:()=>{},setAfterBroadcastTimestamp:()=>{},getDuration:()=>null,get size(){return 0}}:r=new us),r}return{setTimestamp(e,o){t().setTimestamp(e,o)},setAfterBroadcastTimestamp(e,o){t().setAfterBroadcastTimestamp(e,o)},getDuration(e){return t().getDuration(e)},get size(){return t().size}}}var ms=qc();a();d();var Dp=b(V());a();d();var Uu=b(Mu());a();d();a();d();a();d();a();d();var Jn=()=>Boolean(typeof window>"u"||f.env.SSR_ENV);a();d();var ys={PING:"ping",PONG:"pong"},ho={CONNECTED:0,DISCONNECTED:1,PING_PENDING:2,PING_PENDING_OVER:3},ir=!Jn(),ei=ir&&!window.inOKXExtension;var wp=/^\{|\[/,Fu="";ir&&(Fu=window?.okGlobal?.socketBaseUrls?.trade);var ti={isPushingJSON(r){return wp.test(r)},getRealConnectUrl(r=Fu){return r}};a();d();var Bu={decode(r){let t=0,e,o,n,i,s,l=[],c=r.length;for(;t<c;)e=r[t++],e<128?s=e:e<224?(o=r[t++],s=(e&31)<<6|o&63):e<240?(o=r[t++],n=r[t++],s=(e&15)<<12|(o&63)<<6|n&63):(o=r[t++],n=r[t++],i=r[t++],s=(e&7)<<18|(o&63)<<12|(n&63)<<6|i&63),l.push(String.fromCodePoint(s));return l.join("")}};var Vu=Bu;if(ir&&ei){let{location:r,TextDecoder:t}=window;t&&(Vu=new t("utf-8")),window.$has_debug_push_param$=r.href.indexOf("debug_push=true")>-1}var Cs={};function Wu(r={}){let t=this,e=ti.getRealConnectUrl(r.connectUrl),o={maxPendingTime:5e3,maxReconnectTime:1e4,maxWaitingResponseTime:1e4,maxSleepRecoveringTime:3e3,...r,connectUrl:e},n=Cs[o.connectUrl];if(n)return n;let i={isConnected:!1,isConnectPending:!1,isClosingByClient:!1,isKillingUnWakeUp:!1,isPingPending:!1},s,l={reconnectTimer:0,handlePendingTimer:0,discontinueTimer:0,killingUnWakeUpTimer:0,pingPendingTimer:0},c={currReconnectTime:0,lastReceivingTime:0},u=[],m=[],h=[],S=[],g=[],I=()=>{},C=()=>{this.isConnected()&&(I(),l.pingPendingTimer=setTimeout(()=>{i.isPingPending=!0,S.forEach(w=>{w(ho.PING_PENDING)})},o.maxPendingTime))},y=(w,z)=>{for(let Z=0;Z<w.length;Z++)if(w[Z]===z){w.splice(Z,1);break}},v=()=>{i.isPingPending=!1,clearTimeout(l.pingPendingTimer)},D=()=>{clearInterval(l.handlePendingTimer)},M=()=>{c.currReconnectTime=0,l.reconnectTimer&&(clearTimeout(l.reconnectTimer),delete l.reconnectTimer)},E=()=>{!this.isConnected()&&!i.isConnectPending&&(M(),x())},x=function(){s=new WebSocket(o.connectUrl),i.isConnectPending=!0,s.onopen=R,s.onmessage=N,s.onclose=q,s.onerror=L,l.handlePendingTimer=setInterval(t.handleConnectPending,o.maxPendingTime)},R=function(){i.isConnected=!0,i.isConnectPending=!1,i.isClosingByClient=!1,M(),D(),m.forEach(w=>{w(),w.triggered=!0}),S.forEach(w=>{w(ho.CONNECTED)})},O=function(){i.isPingPending&&S.forEach(w=>{w(ho.PING_PENDING_OVER)}),v()},N=function(w){if(c.lastReceivingTime=Date.now(),clearTimeout(l.discontinueTimer),clearTimeout(l.killingUnWakeUpTimer),l.discontinueTimer=setTimeout(C,o.maxPendingTime),w.data instanceof Blob){let z=w.data,Z=new FileReader,ge={done:!1,resultString:""};g.push(ge),Z.onload=function(he){if(he.target.readyState==FileReader.DONE){let re=(0,Uu.inflateRaw)(he.target.result);for(ge.done=!0,ge.resultString=Vu.decode(re);g[0]&&g[0].done;){let{resultString:ie}=g.shift();ie===ys.PONG&&O();let se=ti.isPushingJSON(ie)?JSON.parse(ie):ie;K(se),window.$has_debug_push_param$&&(console.log(ie),window.$ok_debug_push_callback$&&window.$ok_debug_push_callback$(se))}}},Z.readAsArrayBuffer(z)}else{let z=w.data;z===ys.PONG&&O(),K(ti.isPushingJSON(z)?JSON.parse(z):z),window.$has_debug_push_param$&&console.log(z)}},U=function(){i.isConnected=!1,i.isConnectPending=!1,v(),m.forEach(w=>{w.triggered=!1})},q=function(){if(i.isKillingUnWakeUp){i.isKillingUnWakeUp=!1;return}i.isClosingByClient?U():l.reconnectTimer||L()},L=function(){U(),D(),u.forEach(z=>{z()}),S.forEach(z=>{z(ho.DISCONNECTED)}),l.reconnectTimer=setTimeout(x,c.currReconnectTime);let w=c.currReconnectTime+1e3;w>o.maxReconnectTime&&(w=o.maxReconnectTime),c.currReconnectTime=w},K=function(w){if(w.event==="error"&&Number(w.errorCode)===30026){s.close();return}h.forEach(Z=>Z(w))};if(this.setPushDataResolver=function(w){return h.push(w),()=>{y(h,w)}},this.connect=function(){if(ir){if(this.isConnected()){m.forEach(w=>{w.triggered||(w(),w.triggered=!0)});return}!this.isConnected()&&!i.isConnectPending&&x()}},this.disconnect=function(){clearTimeout(l.reconnectTimer),clearTimeout(l.discontinueTimer),delete l.reconnectTimer,delete l.discontinueTimer,i.isClosingByClient=!0,s.close(),u.length=0,m.length=0,h.length=0,I=()=>{},delete Cs[o.connectUrl];let{connection:w}=navigator;w&&w.removeEventListener&&w.removeEventListener("change",this.handleConnectionChange),ei&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)},this.isConnected=function(){return i.isConnected},this.sendChannel=function(w){s.readyState===WebSocket.OPEN?s.send(w):console.error("WebSocket is not in open state, can not send!")},this.onSocketConnected=function(w){return m.push(w),()=>{y(m,w)}},this.onSocketError=function(w){return u.push(w),()=>{y(u,w)}},this.onPushDiscontinue=function(w){return I=w,()=>{}},this.onStatusChange=function(w){return S.push(w),()=>{y(S,w)}},this.handleConnectPending=function(){i.isConnectPending&&u.forEach(w=>{w()})},this.handleConnectionChange=()=>{navigator.onLine===!0&&E()},this.handleVisibilityChange=()=>{if(!document.hidden){if(!this.isConnected()){E();return}Date.now()-c.lastReceivingTime>o.maxWaitingResponseTime&&(C(),l.killingUnWakeUpTimer=setTimeout(()=>{U(),M(),i.isKillingUnWakeUp=!0,s.close(),x()},o.maxSleepRecoveringTime))}},ir){let{connection:w}=navigator;w&&w.addEventListener&&w.addEventListener("change",this.handleConnectionChange),ei&&document.addEventListener("visibilitychange",this.handleVisibilityChange)}return Cs[o.connectUrl]=this,this}Wu.STATUS=ho;ir&&!window.WebSocketCore&&(window.WebSocketCore=Wu);a();d();function WT(r=ee){r.monitorTradeSpeedView({process:"26003"})}function GT(r=ee){r.monitorTradeSpeedView({process:"26002"})}function bs(r=ee){r.monitorTradeSpeedView({process:"26004"})}function HT(r=ee){r.monitorTradeSpeedView({process:"26005"})}function qT(r=ee){r.monitorTradeSpeedView({process:"26006"})}function Ep({isSimpleToast:r=!0,orderId:t,speedProvider:e},o=ee){o.monitorWsTradeSpeedView({process:"26007",isSimpleToast:r,orderId:t,speedProvider:e})}a();d();var vs=class{constructor(){this.records=new Map;this.TIMEOUT_DURATION=2*60*1e3;it(this)}addTimeoutWatch(t){let{orderId:e,txHash:o}=t;this.removeTimeoutWatch(e);let n=setTimeout(()=>{this.handleTimeout(e)},this.TIMEOUT_DURATION),i={orderId:e,txHash:o,timestamp:Date.now(),timerId:n};this.records.set(e,i),ee.info(Ie.THIRD_BROADCAST_TIMEOUT_WATCH_START,{data:{orderId:e,txHash:o,timeout:this.TIMEOUT_DURATION},tags:{orderId:e}})}removeTimeoutWatch(t){let e=this.records.get(t);e&&(clearTimeout(e.timerId),this.records.delete(t),ee.info(Ie.THIRD_BROADCAST_TIMEOUT_WATCH_CLEARED,{data:{orderId:t,txHash:e.txHash},tags:{orderId:t}}))}handleTimeout(t){this.records.get(t)&&(this.showTimeoutNotification(t),this.records.delete(t))}hasTimeoutWatch(t){return this.records.has(t)}getTimeoutRecord(t){return this.records.get(t)}get watchingCount(){return this.records.size}showTimeoutNotification(t){ze.error({title:p("swaptrade_home_toast_initiation_error"),placement:ze.DIRECTION.top,id:`timeout-${t}`}),ee.error(Ie.THIRD_BROADCAST_TIMEOUT,{data:{orderId:t},tags:{orderId:t}})}clearAll(){this.records.forEach(t=>{clearTimeout(t.timerId)}),this.records.clear(),ee.info(Ie.THIRD_BROADCAST_TIMEOUT_WATCH_CLEAR_ALL,{data:{message:"cleared"}})}},Ap=new vs;var $t=new Map,Op=()=>{if($t.size>=500){let r=Array.from($t.entries()),t=r.find(([,e])=>e.toastStatus==="received")?.[0];if(t)$t.delete(t);else{let e=r[0]?.[0];e&&$t.delete(e)}}},zo=(r,t="OKX_DEX_WS")=>{let e=$t.get(r);if(!e||e.successToastMonitorSended)return;e.receiveTimes?e.receiveTimes[t]=new Date().getTime():(e.receiveTimes={[t]:new Date().getTime()},e.firstReceiveSource=t);let o=()=>Object.values(qi).every(c=>!!e.receiveTimes[c]),n=()=>{let c=e.receiveTimes["HELIUS"]-e.receiveTimes["FULLNODE"],u=e.receiveTimes["HELIUS"]-e.receiveTimes["OKX_DEX_WS"],m=e.receiveTimes["FULLNODE"]-e.receiveTimes["OKX_DEX_WS"];return{heliusAndFullNodeTimeDiff:c,heliusAndOkxDexWsTimeDiff:u,fullNodeAndOkxDexWsTimeDiff:m}},i=()=>["FULLNODE","OKX_DEX_WS"].every(c=>!!e.receiveTimes[c]),s=xr.ipRegion==="HK";(s?i():o())&&(e.successToastMonitorSended=!0,ud((()=>{if(s){let S=e.receiveTimes["FULLNODE"]-e.receiveTimes["OKX_DEX_WS"];return{hoverSource:"hk_receive_tx_statistics",calldataFrom:r,hoverTimediff:S,extraInfo:e.firstReceiveSource}}let{heliusAndFullNodeTimeDiff:u,heliusAndOkxDexWsTimeDiff:m,fullNodeAndOkxDexWsTimeDiff:h}=n();return{hoverSource:"non_hk_receive_tx_statistics",calldataFrom:r,hoverTimediff:u,hoverPrefetchAreaTimediff:m,hoverBtnTimediff:h,extraInfo:e.firstReceiveSource}})())),$t.set(r,e)},Yo=r=>{if(!r)return!1;let t=$t.get(r);return t?t.toastStatus==="received":!1};var Xo=r=>{let t=$t.get(r);t||Op(),$t.set(r,{...t,toastStatus:"received"})};a();d();var To=class{constructor(t){T(this,"orderId","--");T(this,"chainId","--");T(this,"defiPlatformInfo","--");T(this,"fromAmount","--");T(this,"fromTokenSymbol","--");T(this,"price","--");T(this,"status","--");T(this,"time","--");T(this,"toAmount","--");T(this,"toTokenSymbol","--");T(this,"userWalletAddress","--");T(this,"exploreUrl","--");T(this,"isExchanged",!1);T(this,"swapType","--");T(this,"toChainId","--");it(this),Object.assign(this,t)}get computedFromAmount(){return`${Fe(this.fromAmount,{needPlaceholder:!0,needBillionMillionUnit:!0})}`}get computedToAmount(){return X(this.toAmount)}get computedToNetWorkPath(){let{fromChainName:t,toChainName:e}=this;return t===e?e:`${t} ${p("swaptrade_order_info_label_network_to")} ${e}`}updateFromJson(t){Object.assign(this,t)}toJSON(){return so(this)}};var{BigNumber:ws}=Xe,Lp=20,ri=[],k={Pending:"0",Quick:"5",Failed:"-1",Succeed:"1",Waiting:"100",SpeedingUp:"-4",Canceling:"-3",Canceled:"-2",PendingWithdrawn:"10",ReadyToClaim:"200",Claiming:"201",ClaimFailed:"202"},Ne={EXPIRED:-7,CANCELLING:-3,CANCELLED:-2,FAILED:-1,TRADING:0,COMPLETED:1,CREATING:2,ACTIVE:3,SUSPENDED:4},{Pending:Pp,SpeedingUp:Rp,Canceling:Np,PendingWithdrawn:Mp,ReadyToClaim:Fp,Claiming:Bp,ClaimFailed:Up}=k,Vp=[Pp,Rp,Np,Mp,Fp,Bp,Up],W={SingleChain:"1",CrossBridge:"2",CrossChain:"3",FromBridge:"3-1",BridgeTo:"3-2",FromBridgeTo:"3-3",GasStation:"4",GasStationCross:"5",LimitOrder:"6",MemeMode:"7"},tt=cl,kt={COMMON:1,BUY_DIP:2,TAKE_PROFIT:3,STOP_LOSS:4,CHASE_HIGH:5},Wp={COPY_TRADE:10},Gp={[kt.BUY_DIP]:"swaptrade_tee_tag_buy_below",[kt.TAKE_PROFIT]:"swaptrade_tee_tag_take_profit",[kt.STOP_LOSS]:"swaptrade_tee_tag_stop_loss",[kt.CHASE_HIGH]:"swaptrade_tee_tag_buy_above"},Hp={[Wp.COPY_TRADE]:{[kt.TAKE_PROFIT]:"swaptrade_copytrade_trade_type_tp",[kt.STOP_LOSS]:"swaptrade_copytrade_trade_type_sl"}},qp=(r,t)=>Hp?.[Number(t)]?.[Number(r)]||""||Gp[Number(r)]||"";var et={from:1,bridge:2,fromSwapTimeout:3},jp={FAIL:"-1",NO_SELECTED:"0",WAITING_FOR_FINAL:"1",WAITING_FOR_TRANSFER:"2",TRANSFER_SUCCEED:"3"},{NO_SELECTED:Kp,TRANSFER_SUCCEED:Gu}=jp,So=10,Hu={curPageNum:1,pageSize:So,total:0,lastCreateTime:null,cursor:null},$p={[W.SingleChain]:"swaptrade_order_swap_trade_type_swap",[W.CrossBridge]:"swaptrade_order_swap_trade_type_bridge",[W.CrossChain]:"swaptrade_order_swap_trade_type_cross_chain",[W.GasStation]:"swaptrade_dialog_tab_gasstation",[W.GasStationCross]:"swaptrade_dialog_tab_gasstation",[W.LimitOrder]:"swaptrade_dialog_tab_gasstation",[W.MemeMode]:"swaptrade_order_swap_trade_type_swap"},Qp={[tt.TEE_SA_LIMIT_ORDER]:(r,t)=>r?"swaptrade_tee_tab_label_limit_price":t?"swaptrade_tee_tab_label_limit_rate":"",[tt.TEE_SA_MARKET]:"swaptrade_tee_tab_label_market",[tt.TEE_SA_TP_ORDER]:"swaptrade_tee_select_limit",[tt.TEE_SA_SL_ORDER]:"swaptrade_tee_select_limit",[tt.TEE_SA_COPY_TRADE_ORDER]:"swaptrade_copytrade_status_copy_trade"},qu=(r,t,e,o)=>Number(r)===tt.TEE_SA_LIMIT_ORDER||Number(r)===tt.TEE_SA_TP_ORDER||Number(r)===tt.TEE_SA_SL_ORDER?t?"swaptrade_tee_tab_label_limit_price":e?"swaptrade_tee_tab_label_limit_rate":"swaptrade_orders_text_limit_order":o===10&&r===tt.TEE_SA_TP_ORDER?"swaptrade_copytrade_trade_type_tp":o===10&&r===tt.TEE_SA_SL_ORDER?"swaptrade_copytrade_trade_type_sl":Qp[r];function sr({childOrderId:r,status:t,exploreUrl:e,orderFailReason:o,toastGuideUrl:n,fromTokenIcon:i,fromChainLogoUrl:s,fromAmountIn:l,fromTokenSymbol:c,fromChainName:u,toTokenIcon:m,toChainLogoUrl:h,toAmountOut:S,toTokenSymbol:g,toChainName:I,originalTokenSymbol:C,refundAmount:y,refundSymbol:v,refundChain:D,errorCode:M,guideUrl:E},x,R={}){let O=x==="from",N=O?l:S,U=y?X(y,{needPlaceholder:!0}):"",q=O?Fe(l):X(S,{needBillionMillionUnit:!1});R?.useCurrencyInputFormat&&(q=Fe(N));let L=R?.isMemeModeOrder&&R?.assetDelay&&t===k.Succeed?"999999":M;return{key:`${r}${x}`,status:t,exploreUrl:e,orderFailReason:o,toastGuideUrl:n,originalTokenSymbol:C,fromChainName:u,fromTokenSymbol:c,toChainName:I,chainName:O?u:I,chainLogo:O?s:h,symbol:O?c:g,symbolLogo:O?i:m,amount:N==="-1"?"":q,errorCode:L,guideUrl:E,refund:{amount:U,symbol:v,chain:D},...R}}var zp={[Ne.CANCELLED]:k.Canceled,[Ne.COMPLETED]:k.Succeed,[Ne.FAILED]:k.Failed,[Ne.TRADING]:k.Pending,[Ne.CREATING]:k.Pending,[Ne.ACTIVE]:k.Pending,[Ne.SUSPENDED]:k.Pending,[Ne.EXPIRED]:k.Failed,[Ne.CANCELLING]:k.Canceling},Yp=r=>r.map(t=>Cn(t)?{...t,time:t.tradeTime,fromIcon:H(t,"fromToken.tokenLogoUrl"),toIcon:H(t,"toToken.tokenLogoUrl"),fromTokenSymbol:H(t,"fromToken.tokenSymbol"),toTokenSymbol:H(t,"toToken.tokenSymbol"),fromAmount:H(t,"fromToken.tokenAmount"),toAmount:H(t,"toToken.tokenAmount"),fromChainName:t.chainName,toChainName:t.chainName,status:zp[t.status]}:t),Es=class{constructor(t){T(this,"detail",{data:null,loading:!1,error:!1});T(this,"history",{list:[],loading:!1,loadMore:!1,hasMore:!1,error:null,pageInfo:{...Hu},chainId:-1,status:null});T(this,"limitHistory",{...this.history});T(this,"limitDetail",{...this.detail});T(this,"pendingOrders",[]);T(this,"modal",{orderId:"",visible:!1,defaultOrderId:""});T(this,"expireTime",0);T(this,"fromStepCountDownTimeGroup",{estimatedTime:0,estimatedTimeTotal:0});T(this,"bridgeStepCountDownTimeGroup",{estimatedTime:0,originEstimatedTime:0});T(this,"timeoutTimestamp",0);T(this,"timer",null);T(this,"timeOutTimer",null);T(this,"detailShowSource","");T(this,"showModal",(t,{tab:e="",isLimit:o,isBridge:n,orderData:i,strategyMode:s,orderType:l}={})=>{let c=typeof t=="string"?t:"";if(this.modal={visible:!0,orderId:c,defaultOrderId:c,isLimit:o,isBridge:n,orderData:i,strategyMode:s,orderType:l},e){this.setHistoryTab(e);return}let u=Ua?.[this.commonStore?.currentTab]??at.SWAP;this.setHistoryTab(u)});T(this,"updateModal",(t,{orderType:e=void 0,strategyMode:o=void 0,orderData:n=void 0,isLimit:i=void 0,isBridge:s=void 0}={})=>{this.modal.orderId=typeof t=="string"?t:"",this.modal.orderType=e,this.modal.strategyMode=o,this.modal.orderData=n,this.modal.isLimit=i,this.modal.isBridge=s});T(this,"closeModal",()=>{this.modal.visible=!1,this.setDetailShowSource()});T(this,"setDetailShowSource",(t="")=>{this.detailShowSource=t});T(this,"setDetail",t=>{this.detail={...this.detail,...t}});T(this,"setLimitDetail",t=>{this.limitDetail={...this.limitDetail,...t}});T(this,"getStepCountDownTimeGroup",({estimatedTime:t,originEstimatedTime:e,expireTime:o,extraEstimatedTime:n,extraOriginEstimatedTime:i})=>{let s=Math.min(t,o),l=e||t;return this.computedMainOrderType===W.BridgeTo&&(s=t+Math.min(n,o),l+=i),{estimatedTime:s,estimatedTimeTotal:l}});T(this,"setSwapExpireTime",t=>{let e=!this.computedCurrentHistoryTabIsLimit&&Number(t.estimatedTime),o=Number(t.fromEstimatedTime)||0,n=Number(t.bridgeEstimatedTime)||0,i=Number(t.originFromEstimatedTime)||0,s=Number(t.originBridgeEstimatedTime)||0;this.fromStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:e,estimatedTime:o,originEstimatedTime:i}),this.bridgeStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:e,estimatedTime:n,originEstimatedTime:s,extraEstimatedTime:o,extraOriginEstimatedTime:i}),this.expireTime=e,this.expireTime>0&&(this.timer=setInterval(()=>{let l=this.computedStepStatus.bridgeStatus,c=this.computedStepStatus.fromSwapStatus,u=this.detail?.data?.status===k.Canceling,m=h=>h===k.SpeedingUp||h===k.Pending;this.expireTime<1?(clearInterval(this.timer),this.bridgeStepCountDownTimeGroup.estimatedTime=0,this.fromStepCountDownTimeGroup.estimatedTime=0):(this.expireTime-=1,this.fromStepCountDownTimeGroup.estimatedTime>0&&m(c)&&!u&&(this.fromStepCountDownTimeGroup.estimatedTime-=1),this.bridgeStepCountDownTimeGroup.estimatedTime>0&&m(l)&&!u&&(this.bridgeStepCountDownTimeGroup.estimatedTime-=1))},1e3))});T(this,"setSwapTimeout",t=>{this.timeOutTimer&&clearInterval(this.timeOutTimer),this.timeoutTimestamp=Date.now()>t?0:t||0,this.timeoutTimestamp>0&&(this.timeOutTimer=setInterval(()=>{Date.now()>this.timeoutTimestamp&&(this.timeoutTimestamp=0,clearInterval(this.timeOutTimer))},1e3))});T(this,"removePendingOrder",t=>{let e=this.pendingOrders,o=e.findIndex(({orderId:i})=>i===t);o>-1&&e.splice(o,1),this.setPendingOrders([...e])});T(this,"updateDetailByData",t=>{let e=this.detail.data,o=n=>n&&{...n,fromAmountIn:n?.fromAmount,toAmountOut:n?.toAmount};if(e&&t&&t.orderId===e.orderId){let{fromChildOrder:n,bridgeChildOrder:i,toChildOrder:s}=t;this.setDetail({data:no(e,{...t,fromChildOrderDetailVo:o(n),bridgeChildOrderDetailVo:o(i),toChildOrderDetailVo:o(s)})})}});T(this,"fetchSwapHistoryList",async t=>{let{pageNum:e,...o}=t||{},i=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[s,l]=await fe(dl({...o,pageSize:So,accountId:this.accountStore.computedAccountId,...i}));if(s)return Promise.reject(s);let{dataList:c=[],cursor:u,hasNext:m}=l?.data||{};return{dataList:Yp(c),pageSize:So,cursor:u,hasMore:m}});T(this,"fetchBridgeHistoryList",async t=>{let{pageNum:e,chainId:o,...n}=t||{},s=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[l,c]=await fe(oe.get(ja,{params:{...n,fromChainId:o,pageSize:So,accountId:this.accountStore.computedAccountId,...s}}));if(l)return Promise.reject(l);let{dataList:u=[]}=c?.data||{};return{dataList:u,pageSize:So,lastCreateTime:u.length?u[u.length-1].time:null,hasMore:u.length===So}});T(this,"fetchLimitHistoryList",async(t={})=>{let e={...t,pageSize:this.limitHistory.pageInfo.pageSize,accountId:this.accountStore.computedAccountId,statusType:Ui.ALL};t.pageNum||(e.pageNum=1);let[o,n]=await fe(oe.get(Vi,{params:e}));return o?Promise.reject(o):n?.data||{}});T(this,"fetchHistoryFn",{[at.SWAP]:this.fetchSwapHistoryList,[at.BRIDGE]:this.fetchBridgeHistoryList,[at.LIMIT_ORDER]:this.fetchLimitHistoryList});T(this,"fetchHistory",async(t={},e=!1)=>{if(!this.historyTab)return;let o=this.accountStore.computedAccountWalletAddressesArray,n=this.fetchHistoryFn[this.historyTab];if(this.computedIsLimitOrSwapLabel.loading||this.computedIsLimitOrSwapLabel.loadMore||nt(o)||!n)return;this.computedIsLimitOrSwapLabel.chainId!==-1&&Object.assign(t,{chainId:this.computedIsLimitOrSwapLabel.chainId}),this.computedStatusFilterValue&&Object.assign(t,{status:this.computedStatusFilterValue}),this.setSwapOrLimitHistory(e?{loadMore:!0}:{loading:!0});let[i,s]=await fe(n(t));if(this.setSwapOrLimitHistory(e?{loadMore:!1}:{loading:!1}),i){this.setSwapOrLimitHistory({error:i});return}this.setSucResult(s,e)});T(this,"setSucResult",(t,e)=>{let{dataList:o,pageSize:n,totalCount:i,curPageNum:s,maxPageNum:l,lastCreateTime:c,hasMore:u,cursor:m}=t,h=e?this.computedIsLimitOrSwapLabel.list.concat(o):o;this.setSwapOrLimitHistory({list:h,pageInfo:{...this.computedIsLimitOrSwapLabel.pageInfo,total:i,pageSize:n,curPageNum:s,lastCreateTime:c,cursor:m},error:null,hasMore:u??l>s})});T(this,"updateSwapAndLimitDataList",t=>{this.computedIsLimitOrSwapLabel.list.forEach((e,o)=>{String(e?.orderId)===String(t?.orderId)&&(this.computedIsLimitOrSwapLabel.list[o]={...e,...t})})});T(this,"setChainId",async t=>{this.resetHistoryList(),this.setSwapOrLimitHistory({chainId:t}),await this.fetchHistory()});T(this,"setStatus",async t=>{this.resetHistoryList(),this.setSwapOrLimitHistory({status:t}),await this.fetchHistory()});T(this,"resetHistoryList",()=>{this.setSwapOrLimitHistory({pageInfo:{...Hu},list:[],error:null,loading:!1,loadMore:!1,hasMore:!1,chainId:-1,status:null})});T(this,"getLocalPriceFee",(t,e,o=!0)=>{let{symbol:n,usdToThisRate:i}=this.commonStore.nowCurrencyUnit||{};if(t&&e&&i){let s=Xe.mul(Xe.mul(t,e),i);return o?`(${Ot(s,n)})`:Ot(s,n)}return""});T(this,"getServiceFeeInfo",t=>{let{currencyConversionWithSymbol:e}=this.commonStore,{serviceFee:o,serviceFeeUsd:n,serviceFeeTokenSymbol:i,isDisplayServiceFee:s,isDisplayUsdFee:l,discountedServiceFeeRate:c}=Pi(t,"serviceFee","serviceFeeUsd","serviceFeeTokenSymbol","isDisplayServiceFee","isDisplayUsdFee","discountedServiceFeeRate"),u=Yi({serviceFee:o,serviceFeeUsd:n,tokenSymbol:i,formatServiceFeeUsd:e,discountedServiceFeeRate:c,isDisplayUsdFee:l}),m=String(s)==="1";return{formattedServiceFee:u,shouldDisplayServiceFee:m}});T(this,"getBridgeFeeInfo",t=>{let{currencyConversionWithSymbol:e}=this.commonStore,{toSwapServiceFee:o,toSwapServiceFeeUsd:n,toSwapServiceFeeTokenSymbol:i}=Pi(t,"toSwapServiceFee","toSwapServiceFeeUsd","toSwapServiceFeeTokenSymbol"),s=Yi({serviceFee:o,serviceFeeUsd:n,tokenSymbol:i,formatServiceFeeUsd:e}),l=Yd(t);return{formattedServiceFee:s,shouldDisplayServiceFee:l}});T(this,"getDexGasStationFeeDetailTip",(t,e)=>{if(!this.computedIsGasStation||e!==k.Succeed||!t)return"";let{approveTokenAmount:o,gasTokenPriceUSD:n,gasTokenSymbol:i,swapGasFeeAmount:s,transferApproveTokenGasFeeAmount:l}=t||{};return p("swaptrade_swapforgas_tooltips_desc_gasswap_netfee",{value1:this.getLocalPriceFee(o,n,!1),approveFee:X(o),token1:i,value2:this.getLocalPriceFee(l,n,!1),transferFee:X(l),token2:i,value3:this.getLocalPriceFee(s,n,!1),swapFee:X(s),token3:i})});T(this,"emitOrder",t=>{if(t){let{status:e,orderId:o,strategyMode:n,orderType:i}=t;e===k.Succeed||e===Ye.SUCCEED?ss.emit(jn.SUCCESS,{status:0,data:so(t),message:Cr("transaction success")}):(e===k.Failed||e===Ye.FAILED)&&ss.emit(jn.FAIL,{data:{orderId:o,strategyMode:n,orderType:i},status:-1,message:Cr("transaction fail")})}});T(this,"onSocket",(t,e=!0,o={})=>{(t?.type==="1"||t?.type==="3")&&t?.dexData&&t.dexData.type!=="approve"&&t.dexData.type!=="register"&&(this.updateSwapAndLimitDataList(t.dexData),this.updateSwapDetail(t.dexData),this.updateLimitOuterOrderList(t.dexData),this.updatePendingOrdersByData(t.dexData),this.emitOrder(t.dexData),this.toastSwapAndLimitOrder(e,t.dexData,o)),t?.type==="5"&&t?.dexData&&t.dexData.type!=="approve"&&t.dexData.type!=="register"&&e&&this.quickToastSwapOrder(t.dexData)});T(this,"onLimitDetailSocket",t=>{this.updateLimitDetailByData(t)});T(this,"onStrategyDetailSocket",t=>{this.updateStrategyDetailByData(t)});T(this,"updateSwapDetail",t=>{t.swapTradeType!==W.LimitOrder&&this.updateDetailByData(t)});T(this,"updateLimitOuterOrderList",t=>{this.commonStore?.computedCurrentTabIsLimit&&this.rootStore.limitOrderListStore.updateLimitOuterListData(t)});T(this,"toastSwapAndLimitOrder",(t,e,o={})=>{t&&!this.commonStore?.computedCurrentTabIsLimit?this.toastOrder(e,o):t&&this.commonStore?.computedCurrentTabIsLimit&&Cl(e)});T(this,"quickToastSwapOrder",({status:t,receiveTokenStatus:e,transactionHash:o,orderId:n})=>{let i=e!==Gu;if(t===k.Succeed&&i){if(zo(o),Yo(o))return;Xo(o);let s=ms.getDuration(n),l=s?vr("swaptrade_toast_msg_transaction_success_time",{time:React.createElement(rs,{duration:s})}):p("swaptrade_meme_broadcast_toast_trade_successful");Wo({tx_status:"success",terminal:"web"}),nr({title:l,orderId:n})}});T(this,"onSocketError",async()=>{let{computedAccountId:t}=this.accountStore,{currentTab:e}=this.commonStore,{visible:o,orderId:n,strategyMode:i,isLimit:s,orderType:l}=this.modal;if(!o){let[c]=await fe(this.updatePendingOrders(t,e));c&&Ea.error("history detail onSocketError",{error:c})}o&&n&&await fe(this.updateDetail({orderId:n,strategyMode:i,silent:!0,isLimit:s,orderType:l}))});T(this,"historyTab","");T(this,"setHistoryTab",t=>{this.historyTab=t});T(this,"dialogVisible",!1);T(this,"setDialogVisible",t=>{this.dialogVisible=t});T(this,"dialogOrderId","");T(this,"setDialogOrderId",t=>{this.dialogOrderId=t});T(this,"openDialog",t=>{t&&(this.setDialogVisible(!0),this.setDialogOrderId(t))});T(this,"closeDialog",()=>{this.setDialogVisible(!1),this.setDialogOrderId("")});T(this,"setDefaultOrderId",t=>{this.modal.defaultOrderId=t});it(this,{},{autoBind:!0}),this.rootStore=t,this.commonStore=t.commonStore,this.accountStore=t.accountStore,this.fromToStore=t.fromToStore,this.tokenModalStore=t.tokenModalStore}get computedHistoryList(){return this.history.list.map(t=>new To(so(t)))}get computedLimitHistoryList(){return this.limitHistory.list.map(t=>new To(so(t)))}get computedTimeGroup(){let t=this.computedCurrentHistoryTabIsLimit?this.computedLimitHistoryList:this.computedHistoryList,e=this.computedCurrentHistoryTabIsLimit?"createTime":"time";return t.reduce((o,n)=>{let i=o.find(s=>s.time===br(n?.[e],{format:"yyyyMMdd"}));return i?i.list.push(n):o.push({time:br(n?.[e],{format:"yyyyMMdd"}),list:[n]}),o},[])}get noData(){return this.computedCurrentHistoryTabIsLimit?!this.computedLimitHistoryList.length:!this.computedHistoryList.length}setHistory(t){this.history={...this.history,...t}}setLimitHistory(t){this.limitHistory={...this.limitHistory,...t}}setPendingOrders(t){this.pendingOrders=t}fetchSwapOrderDetail({orderId:t}){return oe.get(Va,{params:{orderId:t}}).then(({data:e})=>e)}async fetchLimitOrderSimpleInfo({orderId:t,strategyMode:e,orderType:o,initialLimitDetail:n}){let{authToken:i}=await is.getAuthToken(this.accountStore.computedAccountId),s={needSign:!0,headers:{"X-Web3-Auth":i||""}};return oe.get(qa,{params:{orderId:t,strategyMode:e,orderType:o,accountId:this.accountStore.computedAccountId},...s}).then(({data:l})=>({...n,...l})).catch(l=>{Number(l?.code)===hl&&is.removeAuthToken()})}fetchLimitOrderDetail({orderId:t,strategyMode:e,orderType:o}){return oe.get(Ha,{params:{orderId:t,strategyMode:e,orderType:o}}).then(({data:n})=>n)}fetchDetail({orderId:t,strategyMode:e,isLimit:o,orderType:n,initialLimitDetail:i}){if(o??this.computedCurrentHistoryTabIsLimit){let s={orderId:t,strategyMode:e,orderType:n};return i?this.fetchLimitOrderSimpleInfo({...s,initialLimitDetail:i}):this.fetchLimitOrderDetail(s)}return this.fetchSwapOrderDetail({orderId:t})}fetchPendingOrders(t,e){let n=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},i=e===at.BRIDGE?Ga:Wa;return oe.post(i,{accountId:t,...n}).then(({data:s})=>s)}async updatePendingOrders(t,e){if(wa())return;let o;if(this.commonStore?.computedCurrentTabIsLimit){let[,n]=await fe(oe.get(Vi,{params:{accountId:this.accountStore.computedAccountId,chainId:"",pageNum:1,pageSize:10,statusType:Ui.PENDING}}));o=n?.data?.dataList}else{let[,n]=await fe(this.fetchPendingOrders(t,e));o=n}Array.isArray(o)?this.setPendingOrders(o):this.setPendingOrders([])}updatePendingOrdersByData(t){if(!t)return;let e=this.pendingOrders,o=e.findIndex(({orderId:s})=>s===t.orderId),n=o>-1,i=t.swapTradeType===W.LimitOrder?t.status===Ye.PENDING:Vp.includes(t.status);i?(n&&e.splice(o,1),e.push(t)):!i&&n&&e.splice(o,1),this.setPendingOrders([...e])}async updateDetail({orderId:t,silent:e,strategyMode:o,isLimit:n,orderType:i,initialLimitDetail:s}){e||this.setLimitOrSwapDetail({data:null,loading:!0,error:!1},n);let[l,c]=await fe(this.fetchDetail({orderId:t,strategyMode:o,isLimit:n,orderType:i,initialLimitDetail:s}));clearInterval(this.timer),l?this.setLimitOrSwapDetail({data:null,error:!0},n):c?(this.setLimitOrSwapDetail({data:c,error:!1},n),this.setSwapExpireTime(c),this.setSwapTimeout(Number(c.timeoutTimestamp))):this.setLimitOrSwapDetail({data:null,error:!1},n),this.setLimitOrSwapDetail({loading:!1},n)}setLimitOrSwapDetail(t,e){e??this.computedCurrentHistoryTabIsLimit?this.setLimitDetail(t):this.setDetail(t)}updateLimitDetailByData(t){let e=this.limitDetail.data;if(Sr(t)||nt(t)||!t?.orderId||e?.orderId!==t.orderId)return;let o={...e};if(Sr(t.orderType)||(o.orderType=t.orderType),Sr(t.userWalletAddress)||(o.userWalletAddress=t.userWalletAddress),Sr(t.status)||(o.status=t.status),!t.extraInfo){this.setLimitDetail({data:o});return}if(t.extraInfo.type==="7"&&t.extraInfo.args){let{toTokenPrice:n,toTokenAmount:i}=t.extraInfo.args;o.toToken={...t.toToken,tokenAmount:i,tokenUsd:n},this.setLimitDetail({data:o});return}if(t.extraInfo.type==="3"&&t.extraInfo.args){let{failCode:n}=t.extraInfo.args;o.failCode=n,this.setLimitDetail({data:o})}}updateStrategyDetailByData(t){let{eventType:e,data:o}=t;if(![0,4].includes(e))return;let n=this.limitDetail.data;if(Sr(o)||nt(o))return;let i={...n};Sr(o.status)||(i.status=o.status),this.setLimitDetail({data:i})}get computedStatusFilterValue(){return this.historyTab===at.SWAP?_l[this.computedIsLimitOrSwapLabel.status]:fl[this.computedIsLimitOrSwapLabel.status]}get computedIsLimitOrSwapLabel(){return this.computedCurrentHistoryTabIsLimit?this.limitHistory:this.history}setSwapOrLimitHistory(t){this.computedCurrentHistoryTabIsLimit?this.setLimitHistory(t):this.setHistory(t)}get computedIsSingleChain(){return[W.SingleChain,W.GasStation,W.MemeMode].includes(H(this,"detail.data.swapTradeType",""))}get computedIsGasStation(){return[W.GasStation,W.GasStationCross].includes(H(this,"detail.data.swapTradeType",""))}get computedMainOrderType(){let t=this.detail.data,e="";if(!t)return e;let{swapTradeType:o,hiddenFromOrder:n,toChildOrderDetailVo:i}=t;return o!==W.CrossChain?e=o:n==="1"?e=W.BridgeTo:i?e=W.FromBridgeTo:e=W.FromBridge,e}get computedStepStatus(){let t=this.detail.data,e=n=>n?[k.Waiting,k.Pending].includes(n)?k.Pending:n:"",o=this.computedMainOrderType===W.BridgeTo?e(t?.bridgeChildOrderDetailVo?.status||""):t?.bridgeChildOrderDetailVo?.status||"";return[W.BridgeTo,W.CrossBridge].includes(this.computedMainOrderType)&&[k.Failed,k.Canceled].includes(t?.status)&&(o=t?.status),{fromSwapStatus:e(t?.fromChildOrderDetailVo?.status||""),bridgeStatus:o,toSwapStatus:t?.toChildOrderDetailVo?.status||""}}get computedRatio(){let t=this.detail?.data;if(!t)return{fromRatio:0,bridgeRatio:0};let{status:e}=t,o=this.computedStepStatus.bridgeStatus,n=this.computedStepStatus.fromSwapStatus;if(e===k.Succeed||e===k.Canceled||e===k.Failed&&this.computedMainOrderType===W.BridgeTo)return{fromRatio:1,bridgeRatio:1};let s=(this.fromStepCountDownTimeGroup.estimatedTimeTotal-this.fromStepCountDownTimeGroup.estimatedTime)/this.fromStepCountDownTimeGroup.estimatedTimeTotal;s=s>.8||this.fromStepCountDownTimeGroup.estimatedTimeTotal===0?.8:s;let l=(this.bridgeStepCountDownTimeGroup.estimatedTimeTotal-this.bridgeStepCountDownTimeGroup.estimatedTime)/this.bridgeStepCountDownTimeGroup.estimatedTimeTotal;return l=l>.8||this.bridgeStepCountDownTimeGroup.estimatedTimeTotal===0?.8:l,n!==k.Pending&&n!==k.SpeedingUp&&n!==k.Canceling&&(s=1),this.computedMainOrderType===W.FromBridgeTo&&o!==k.Pending&&o!==k.SpeedingUp&&o!==k.Canceling&&(l=0),o===k.Succeed&&(l=1),{fromRatio:s,bridgeRatio:l}}get computedFoldTipToast(){let t=this.detail?.data;if(!t)return{foldTipType:""};let{bridgeChildOrderDetailVo:e}=t,o=[],n=[],i=!1,s=!1,l=0,c=this.fromStepCountDownTimeGroup.estimatedTime,u=this.bridgeStepCountDownTimeGroup.estimatedTime,m=this.computedMainOrderType===W.FromBridge;this.computedSubOrders.forEach((C,y)=>{(C.tipType===et.from||C.tipType===et.bridge)&&o.push(C),C.errorCode!=="0"&&y<this.computedSubOrders.length-1&&n.push(C)});let h=-1,S=-1;o.length>0&&(h=o[0]?.tipType,S=o[0]?.blockProcess),h===et.bridge&&(l=u),h===et.from&&(l=c),m&&h===et.bridge&&(l=0),h===et.from?s=c===0:h===et.bridge&&(s=u===0);let g={...e,refund:{amount:e?.refundAmount?X(e.refundAmount):"",symbol:e?.refundSymbol,chain:e?.refundChain}},I=h===et.bridge?g:o?.[0];return n.length>0&&(I=n[n.length-1],i=!0),{foldTipType:h,foldBlockProcess:S,currentProcessIsTimeOut:s,tipCountDownTime:l,filterProcessItem:I,needShowErrorTip:i}}get computedSubOrders(){let t=this.detail.data;if(!t)return[];let{fromChildOrderDetailVo:e,bridgeChildOrderDetailVo:o}=t,{toChildOrderDetailVo:n,status:i,assetDelay:s}=t,l=this.computedStepStatus.bridgeStatus,c=this.computedStepStatus.fromSwapStatus,u=this.computedMainOrderType===W.BridgeTo,m=[e?.errorCode,o?.errorCode,n?.errorCode].filter(Boolean).some(M=>M!=="0"),h=i===k.ReadyToClaim,S=this.computedMainOrderType===W.FromBridgeTo,g=this.computedMainOrderType===W.FromBridge,I=l===k.Pending||l===k.SpeedingUp||this.computedMainOrderType===W.CrossBridge&&i!==k.Failed&&i!==k.Canceled&&i!==k.Succeed||u&&l===k.Waiting?et.bridge:0,C=c===k.Pending||c===k.SpeedingUp?et.from:0,y={bridgeInfo:o?.bridgeOrderInfoVo,dexBridgeShadowTokenPair:o?.dexBridgeShadowTokenPairInfoVo,dexBridgeShadowTokenPairChainId:o?.toChainId,tipInfo:{toTokenSymbol:e?.toTokenSymbol},bridgeTipInfo:{bridgeName:o?.bridgeOrderInfoVo?.bridgeName||"",toChainName:o?.toChainName||""}};e={...e,status:this.computedStepStatus.fromSwapStatus};let v=o?.status;o={...o,status:this.computedStepStatus.bridgeStatus};let D=this.computedFromChainRefundInfo.isFromChainRefund?"":o?.exploreUrl;if(this.computedIsSingleChain||this.computedMainOrderType===W.GasStationCross){let M=!1;this.timeoutTimestamp?M=!this.expireTime&&e.status===k.Pending:M=e.status===k.Pending;let E=this.computedMainOrderType===W.MemeMode;return[sr(e,"from",{isFromStart:!0,hasTimeoutTips:M,timeoutType:be.SINGLE_TIPS,hasErrorCode:m}),sr(e,"to",{...y,hiddenExploreUrl:!0,subOrderType:St.SINGLE,isMemeModeOrder:E,assetDelay:s,hasErrorCode:m})]}else if(this.computedMainOrderType===W.CrossBridge){let M=this.expireTime<1&&(o.status===k.Waiting||o.status===k.Pending);return[sr(e,"to",{...y,tipType:I&&!h,useCurrencyInputFormat:!0,hasTimeoutTips:M&&!h,timeoutType:be[o.status===k.Pending?"BRIDGE":"GAS"],blockProcess:o.status===k.Pending?be.BLOCK_BRIDGE:-1,hasErrorCode:m,subOrderDesc:"CrossBridge_1"}),sr(o,"to",{...y,exploreUrl:D,officialBridgeTime:o?.officialBridgeTime,hasErrorCode:m,subOrderType:St.CROSS_BRIDGE_SWAP,subOrderDesc:"CrossBridge_2"})]}else if([W.BridgeTo,W.FromBridge,W.FromBridgeTo].includes(this.computedMainOrderType)){let M=this.expireTime<1&&n?.status===k.Pending,E=!this.fromStepCountDownTimeGroup.estimatedTime&&(e.status===k.Pending||v===k.Waiting),x=!1,R;u&&!this.bridgeStepCountDownTimeGroup.estimatedTime?v===k.Waiting?(x=!0,R=be.GAS):v===k.Pending&&(x=!0,R=be.BRIDGE):S&&e?.status===k.Succeed&&!this.bridgeStepCountDownTimeGroup.estimatedTime&&(o.status===k.Waiting?(x=!0,R=be.GAS):o.status===k.Pending&&(x=!0,R=be.BRIDGE));let O=[sr(e,"from",{isFromStart:!0,ratio:this.computedRatio.fromRatio,showProgressBar:!0,tipType:C,hasTimeoutTips:E&&!h,timeoutType:be.SINGLE_TIPS,blockProcess:E?be.BLOCK_FROM:"",...y,hasErrorCode:m,subOrderDesc:"Bridge_from_1"}),sr(e,"to",{ratio:this.computedRatio.bridgeRatio,tipType:g&&E&&h?0:I&&!h,showProgressBar:S||u,countDownTime:!u&&this.fromStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:x&&!h,timeoutType:g?be.SINGLE_TIPS:R,blockProcess:be.BLOCK_BRIDGE,...y,subOrderType:St.CROSS_FROM_SWAP,hasErrorCode:m,subOrderDesc:"Bridge_to_2"}),sr(o,"to",{...y,exploreUrl:D,countDownTime:this.bridgeStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:g?!1:M&&!h,blockProcess:!g&&M?be.BLOCK_TO:"",timeoutType:be.SINGLE_TIPS,subOrderType:St.CROSS_BRIDGE_SWAP,hasErrorCode:m,subOrderDesc:"Bridge_to_3"})];return u&&O.shift(),(u||S)&&O.push(sr(n,"to",{subOrderType:St.CROSS_TO_SWAP,hasErrorCode:m,subOrderDesc:"Bridge_to_4"})),O}return[]}get computedFirstTimeoutSubOrderBlockProcess(){let t=this.computedSubOrders,e=this.computedFoldTipToast||{},o=t.find(n=>n.hasTimeoutTips);return H(o,"blockProcess")||H(e,"foldBlockProcess")||-1}get computedDataDetail(){return this.computedCurrentHistoryTabIsLimit?this.limitDetail:this.detail}get computedLimitOrderInfo(){if(!this.limitDetail?.data)return null;let{orderId:t,transactionType:e,createTime:o,userWalletAddress:n,status:i,orderType:s,expireTime:l,fromToken:c={},toToken:u={},slippageInfo:m,networkFeeInfo:h,serviceFeeInfo:S,routeSelection:g,approveMethod:I,providerInfo:C,triggerInfo:y,transactionInfo:v,swapDuration:D,executionHistoryList:M,chainName:E,chainLogoUrl:x,chainSymbol:R,executionHistoryShowMaxNum:O,canResume:N,failureReason:U,exchangeDirection:q,strategyMode:L,strategyType:K,boostInfo:w}=this.limitDetail?.data??{},{boostVolume:z,weighted:Z}=w||{},ge=ml(this.limitDetail?.data),he=x,{chainId:re,tokenLogoUrl:ie,tokenAmount:se,tokenSymbol:De}=c||{},{tokenLogoUrl:Bt,tokenSymbol:Ue,tokenAmount:Oe}=u||{},{tokenSymbol:Ut}=ge,{nativeTokenCostAmt:gt}=h||{},{serviceFeeUsd:Jt,nativeTokenCostAmt:Ee,discountedServiceFeeRate:to}=S||{},{transactionPrice:$e,transactionHash:Vt,transactionTime:vt,exploreUrl:Mo,transactionRate:ht}=v||{},ro=!Li(se)&&Xe.gte(se,0),Tt=!Li(Oe)&&Xe.gte(Oe,0),wt=Fe(se,{noNeedThousandth:!0}),oo=Ze(Oe,{needBillionMillionUnit:!1}),In=!!y?.triggerRate,kn={fromAmount:1,fromSymbol:De,toAmount:Ze(ht,{needBillionMillionUnit:!1}),toSymbol:Ue},Fo={fromAmount:1,fromSymbol:Ut,rightNumber:this.getLocalPriceFee(1,$e,!1)},xn={leftNumber:this.getLocalPriceFee(1,1,!1),toAmount:Ze(ws(1).div($e).toString(),{needBillionMillionUnit:!1}),toSymbol:Ue},yn={fromAmount:1,fromSymbol:Ue,toAmount:Ze(ws(1).div(ht).toString(),{needBillionMillionUnit:!1}),toSymbol:De},Di=this.getServiceFeeInfo({serviceFee:Ee||0,serviceFeeUsd:Jt,serviceFeeTokenSymbol:R,isDisplayServiceFee:!!S,discountedServiceFeeRate:to,isDisplayUsdFee:!0}),Oi=String(re)===String(Se.SOLANA_MAINNET);return{canResume:N,orderType:s,transactionType:e,executionHistoryShowMaxNum:Ia(O)?O:5,typeKey:"swaptrade_orders_text_limit_order",orderTypeKey:qu(s,!!y?.triggerPrice,!!y?.triggerRate,L),strategyType:K,strategyTypeKey:qp(K,L),status:i,fromToken:c||{},toToken:u||{},isSuccess:Number(i)===Ne.COMPLETED,isFailed:Number(i)===Ne.FAILED,isCreating:Number(i)===Ne.CREATING,fromTokenGroupLabel:`${Pt("-",wt)} ${De}`,formattedFromAmount:wt,fromTokenGroupLabelEquation:`${ro?Pt("-",wt):ue} ${me(De)}`,toTokenGroupLabel:`${Pt("+",oo)} ${Ue}`,toTokenGroupLabelEquation:`${Tt?Pt("+",oo):ue} ${me(Ue)}`,fromChainLogoUrl:x,fromTokenIcon:ie,toChainLogoUrl:he,toTokenIcon:Bt,createTime:o?br(o,{format:"yyyyMMddHHmmss"}):"",expireTime:l?br(l,{format:"yyyyMMddHHmmss"}):"",txTime:vt?br(vt,{format:"yyyyMMddHHmmss"}):"",networksName:E,networksLogo:x,isExecutionPriceByRate:In,execRate:ht?tr(kn):ue,execPrice:$e?tr(Fo):ue,reverseExecPrice:$e?tr(xn):ue,reverseExecRate:ht?tr(yn):ue,execPriceEquation:$e?rr(Fo):ue,reverseExecPriceEquation:$e?rr(xn):ue,execRateEquation:ht?rr(kn):ue,reverseExecRateEquation:ht?rr(yn):ue,fee:gt?Ho({amount:Ze(gt),symbol:R}):ue,originAddress:n,formatAddress:or(n),exploreUrl:Mo,fromTokenSymbol:De,failureReason:U,isSolanaLimitOrder:Oi,limitServiceFeeInfo:Di,formattedLastedHash:or(Vt),latestTransactionHash:Vt,routeSelection:g,approveMethod:I,executionHistoryList:M,swapDuration:nt(D)?ue:Wi(D,{hideZero:!0}),slippageInfo:m,providerInfo:C,triggerInfo:y,orderId:t,exchangeDirection:q,boostVolume:z,boostWeight:Z,isOrderFinished:ls(i)}}get computedLimitFromToInfo(){let t=this.limitDetail?.data;if(!t)return null;let{chainId:e,fromToken:o,toToken:n,userWalletAddress:i,swapTradeType:s}=t;return{apiRequestParams:{fromChainId:e,toChainId:e,userWalletAddress:i,swapTradeType:s},locationParams:{from:{chainId:e,tokenContractAddress:o.tokenContractAddress},to:{chainId:e,tokenContractAddress:n.tokenContractAddress}}}}get computedSwapFromToInfo(){let t=this.detail?.data;if(!t)return null;let{fromChainId:e,fromTokenAddress:o,toChainId:n,toTokenAddress:i,swapTradeType:s,from:l}=t;return{apiRequestParams:{fromChainId:e,toChainId:n,userWalletAddress:l,swapTradeType:s},locationParams:{from:{chainId:e,tokenContractAddress:o},to:{chainId:n,tokenContractAddress:i},inputAmount:this.computedIfSwapFailedAmount||La}}}get computedFromToInfo(){return this.computedCurrentHistoryTabIsLimit?this.computedLimitFromToInfo:this.computedSwapFromToInfo}getForRefuelFromPrice(t){return t&&!Vo(t)?X(t):"--"}getReceiveTokenPrice(t){return t&&!Vo(t)?X(t):"--"}getExplorerUrl(t){return this.computedIsSingleChain?t?.exploreUrl:""}getOrderFinnishedTime(t,e,o){return[k.Succeed].includes(o)?Wi(e-t,{hideZero:!0}):"--"}getFormattedNetworkFee(t){return t?X(t):""}getFormattedOtherFees(t){return t?X(t):""}getOtherFees(t,e){return t&&e?.fromTokenSymbol?`${t} ${e.fromTokenSymbol}`:""}getBridgeFee(t,e){return t?`${t} ${e?.toTokenSymbol}`:""}getBridgeFeeUsd(t,e,o){return rd(t(e).toString(),o)}getEstimateBridgeFeeAmount(t,e){return t?`${X(t)} ${e}`:""}getEstimateBridgeFeeAmountUsd(t,e,o){return t?Ot(o(t).toString(),e):""}getToSwapFee(t,e){return t?Ho({amount:t,symbol:e}):""}getFromToPrice(t){return t&&!Vo(t)&&t!=="-1"?X(ws("1").div(t).toString(10),{needBillionMillionUnit:!1}):"--"}getToFromPrice(t){return t&&!Vo(t)&&t!=="-1"?X(t,{needBillionMillionUnit:!1}):"--"}getGasToken(t,e,o,n,i){return!t||t===Kp?null:{amount:e,symbol:o,status:t,exploreUrl:n,logoUrl:i}}get computedOrderInfo(){if(!this.detail.data)return null;let{swapTradeType:t,time:e,fromChainName:o,fromChainLogoUrl:n,fromChildOrderDetailVo:i,toChainName:s,toChainLogoUrl:l,networkFee:c,nativeTokenSymbol:u,otherFees:m,from:h,forRefuelFromAmount:S,fromAmount:g,fromChainId:I,fromTokenSymbol:C,fromTokenAddress:y,toTokenSymbol:v,toChainId:D,toTokenAddress:M,bridgeChildOrderDetailVo:E,receiveTokenStatus:x,receiveTokenExploreUrl:R,receiveTokenAmount:O,receiveTokenSymbol:N,abnormalStatus:U,hiddenFromOrder:q,bridgeFee:L,bridgeFeeUsd:K,estimateBridgeFeeAmount:w,estimateBridgeFeeAmountUsd:z,toSwapFee:Z,toChainNativeTokenSymbol:ge,hiddenOtherFee:he,toChildOrderDetailVo:re,price:ie,receiveWalletAddress:se,gasStationActivityReward:De,receiveTokenLogoUrl:Bt,errorCode:Ue,status:Oe,orderCompletionTime:Ut,orderId:gt,specialOrderType:Jt,mevInfo:Ee,fromSwapMevInfo:to,toSwapMevInfo:$e,assetDelay:Vt,assetDelayTime:vt,isMemeTimeOut:Mo,totalSlippage:ht,slippageValue:ro,dexGasStationFeeDetailVO:Tt,freeGas:wt,estimatedTime:oo,transactionHash:In,willNeedManualClaim:kn,orderType:Fo,approveMethod:xn,isHasSurplus:yn,surplusAmount:Di,surplusValueUSD:Oi,toAmount:xc,toAmountValueUsd:yc,quoteToAmount:Cc,quoteToValueUsd:bc,boostVolume:vc,boostWeight:wc}=this.detail.data,Ec=String(wt)===Vn.FREE,la=this.detail.data?.defiPlatformInfo,{currencyConversion:ua,computedNowCurrencySymbol:ma}=this.commonStore,Ac=this.getServiceFeeInfo(this.detail.data),Dc=this.getBridgeFeeInfo(this.detail.data),ca=[{chainName:o,chainLogo:n}];this.computedIsSingleChain||ca.push({chainName:s,chainLogo:l});let pa=this.getFormattedNetworkFee(c),Oc=this.getFormattedOtherFees(m),Lc=Gi(L),Pc=Gi(Z),Rc=t===W.MemeMode,Nc=()=>{if(this.computedIsGasStation&&Tt){let{gasTokenSymbol:Fc,totalGasFeeAmount:Bc}=Tt||{},fa=X(Bc);return fa?Ho({amount:fa,symbol:Fc}):"--"}return pa?Ho({amount:pa,symbol:u}):"--"},Mc=E?.bridgeOrderInfoVo?.bridgeId;return{swapTradeType:t,orderType:Fo,routeSelection:Ee,approveMethod:xn,isSingleChain:this.computedIsSingleChain,type:t,transactionTypeKey:$p[t],orderTypeKey:qu(Fo),isShowCancel:i?.isShowCancel,time:br(e,{format:"yyyyMMddHHmmss"}),networks:ca,assetDelay:Vt,assetDelayTime:vt,isMemeTimeOut:Mo,isMemeModeOrder:Rc,networkFee:Nc(),otherFees:this.getOtherFees(Oc,E),bridgeFee:this.getBridgeFee(Lc,E),bridgeId:Mc,bridgeName:E?.bridgeOrderInfoVo?.bridgeName,bridgeLogo:E?.bridgeOrderInfoVo?.bridgeLogo,bridgeFeeUsd:this.getBridgeFeeUsd(ua,K,ma),estimateBridgeFeeAmount:this.getEstimateBridgeFeeAmount(w,u),estimateBridgeFeeAmountUsd:this.getEstimateBridgeFeeAmountUsd(z,ma,ua),toSwapFee:this.getToSwapFee(Pc,ge),fromToPrice:this.getFromToPrice(ie),toFromPrice:this.getToFromPrice(ie),from:h,chainId:I,fromChainId:I,receiveWalletAddress:se,fromAmount:g,fromTokenAddress:y,fromSymbol:C,toSymbol:v,toChainId:D,toTokenAddress:M,omittedFrom:or(h),omittedTo:or(se),gasToken:this.getGasToken(x,O,N,R,Bt),abnormalStatus:U,hiddenFromOrder:q,hiddenOtherFee:he,hasToChildOrderDetailVo:!!re,forRefuelFromPrice:this.getForRefuelFromPrice(S),receiveTokenPrice:this.getReceiveTokenPrice(O),receiveTokenStatus:x,gasStationActivityReward:De,exploreUrl:this.getExplorerUrl(i),errorCode:Ue,orderFinishedTime:this.getOrderFinnishedTime(e,Ut,Oe),status:Oe,orderId:gt,fromChainName:o,specialOrderType:Jt,mevInfo:Ee,fromSwapMevInfo:to,toSwapMevInfo:$e,totalSlippage:ht,slippageValue:ro,defiPlatformInfo:la,isIntentOrder:Ec,dexGasStationFeeDetailTips:this.getDexGasStationFeeDetailTip(Tt,Oe),freeGas:wt,estimatedTime:oo,singleChainServiceFeeInfo:Ac,crossChainServiceFeeInfo:Dc,transactionHash:In,omittedHash:or(In),willNeedManualClaim:kn,isHasSurplus:yn,surplusAmount:Di,surplusValueUSD:Oi,toAmount:xc,quoteToAmount:Cc,toChainName:s,quoteToValueUsd:bc,toAmountValueUsd:yc,boostVolume:vc,boostWeight:wc,isOrderFinished:ls(Oe),isOKXProvider:la?.id===ao}}get computedFromChainRefundInfo(){let t=this.detail.data;if(!t)return{};let e=H(t,"bridgeChildOrderDetailVo.errorCode");if(String(e)!=="5001")return{};let o=H(t,"bridgeChildOrderDetailVo")||{},{exploreUrl:n,fromTokenIcon:i,refundAmount:s,refundSymbol:l,refundChain:c}=o;return{isFromChainRefund:!0,exploreUrl:n,fromTokenIcon:i,refundAmount:s,formatRefundAmount:X(s,{needPlaceholder:!0,needBillionMillionUnit:!1}),refundSymbol:l,refundChain:c}}get computedPendingOrdersCount(){return this.pendingOrders.length}get computedPendingTimingStatus(){return this.timeoutTimestamp?this.expireTime!==0&&this.timeoutTimestamp?Er.ESTIMATE:!this.expireTime&&this.timeoutTimestamp?Er.EXCEED_ESTIMATE:!this.expireTime&&!this.timeoutTimestamp?Er.TIMEOUT:1:Er.TIMEOUT}toastOrder(t,e={}){if(t){let{status:o,orderId:n,fromAmount:i,fromTokenSymbol:s,toAmount:l,toTokenSymbol:c,fromChildOrder:u,receiveTokenStatus:m,type:h,swapTradeType:S,isMemeTimeOut:g,exploreUrl:I,assetDelay:C,sentSimpleVersion:y,willNeedManualClaim:v,transactionHash:D,isHasSurplus:M,surplusAmount:E}=t,x=`${n}_${o}`;if(st()||ri.includes(x))return;let R=S===W.MemeMode,O=()=>{ri.unshift(x),ri=ri.slice(0,Lp)},N=m!==Gu;if(o===k.Pending&&u?.status===k.Pending){if(O(),R&&g){Il({title:p("swaptrade_history_modal_error_likely_fail",{num:i,token1:s,token2:c})});return}xl({title:p("wallet_swap_toast_swap_submitted"),orderId:n})}else if(o===k.ReadyToClaim)O(),kl(t,this.rootStore.swapStore);else if(o===k.ClaimFailed)O(),po({title:p("swaptrade_bridge_alert_failed_to_claim_please"),orderId:n});else if(o===k.Succeed&&N){let U=this.computedSubOrders;if(O(),v===vn){if(zo(D),Yo(D))return;Xo(D),Wo({tx_status:"success",terminal:"web"}),nr({title:p("swaptrade_bridge_alert_youve_successfully_claimed_amt",{amt:X(l),token:c}),orderId:n});return}if(R&&C){if(zo(D),Yo(D))return;Xo(D),nr({title:p("swaptrade_history_modal_tips_swap_update",{num1:i,token1:s,num2:l,token2:c}),exploreUrl:I,orderId:n});return}if(!y){if(zo(D),Yo(D))return;Xo(D),M===1&&E?wl({surplusAmount:E,toTokenSymbol:c,fromAmount:i,fromTokenSymbol:s,toAmount:l,onConfirm:()=>{typeof e?.onViewOrderDetail=="function"?e.onViewOrderDetail({orderId:n,isLimit:!1,strategyMode:void 0,orderType:void 0,orderData:t,isBridge:!1}):this.showModal(n)},...e?.toastProps}):nr({title:p("swaptrade_toast_swap_success",{fromCount:Fe(i,{needBillionMillionUnit:!0}),fromToken:me(s),toCount:X(l),toToken:me(c)}),exploreUrl:U[U.length-1]?.exploreUrl,orderId:n})}}else if(o===k.Failed&&N){let q=this.computedSubOrders.filter(L=>L.status===k.Failed);O(),Wo({tx_status:"failure",terminal:"web"}),po({title:h==="gasStation"?p("swaptrade_gasstation_toast_refill_failed",{nativeToken:me(c)}):p("wallet_swap_toast_swap_failed"),exploreUrl:q[q.length-1]?.exploreUrl,orderId:n})}else o===k.Canceled&&N&&(nr({title:p("swaptrade_placeorder_toast_transaction_canceled"),orderId:n}),O())}}get computedCurrentHistoryTabIsLimit(){return this.historyTab===at.LIMIT_ORDER}get computedOrigin(){return this.historyTab===at.LIMIT_ORDER?at.LIMIT_ORDER:[W.SingleChain,W.GasStation].includes(this.computedMainOrderType)?at.SWAP:at.BRIDGE}get computedIfSwapFailedAmount(){let t=this.detail?.data;return t?.status===k.Failed&&!this.computedCurrentHistoryTabIsLimit&&te(t?.fromAmount)?t.fromAmount:""}},aI=Es;a();d();var Ku=b(V());var Xp=({onButtonClick:r})=>Ku.default.createElement(Jd,{title:p("swaptrade_pricechart_no_connection_title"),description:p("swaptrade_pricechart_no_connection_desc"),buttonText:p("swaptrade_recent_transaction_dialog_btn_reload"),onButtonClick:r}),$u=Xp;a();d();var mt=b(V());var As=b(le());Qe();a();d();var Qu=r=>({isHasSurplus:Boolean(r?.surplus?.surplusAmount)?1:0,surplusAmount:r?.surplus?.surplusAmount,surplusValueUSD:r?.surplus?.surplusValueUsd,toSymbol:r?.toToken?.tokenName,time:r?.createTime?new Date(Number(r.createTime)).toString():"",toAmount:r?.toToken?.tokenAmount,toChainId:r?.chainId,toTokenAddress:r?.toToken?.tokenContractAddress,toChainName:r?.chainName,quoteToValueUsd:r?.surplus?.estValueUsd,toAmountValueUsd:r?.surplus?.executedValueUsd,quoteToAmount:r?.surplus?.estAmount});a();d();var Zo={"banner-container":"_banner-container_bp10e_1",bannerContainer:"_banner-container_bp10e_1","surplus-icon":"_surplus-icon_bp10e_4",surplusIcon:"_surplus-icon_bp10e_4","banner-bg-light":"_banner-bg-light_bp10e_10",bannerBgLight:"_banner-bg-light_bp10e_10","banner-bg-dark":"_banner-bg-dark_bp10e_13",bannerBgDark:"_banner-bg-dark_bp10e_13"};var zu=({onClick:r,swapOrder:t,limitOrder:e})=>{let o=el(),n=(0,mt.useMemo)(()=>t||Qu(e),[t,e]),{isHasSurplus:i,surplusAmount:s,surplusValueUSD:l,toSymbol:c}=n??{},u=i===1,m=(0,mt.useCallback)(I=>{I.preventDefault(),I.stopPropagation(),r?.(),o.setOrderSurplusModalVisible(!0),o.setSurplusOrderSnapshot(n)},[r]),{getUsd:h}=tl(),S=(0,mt.useMemo)(()=>yr("swaptrade_order_top_card_trade_complete_details_desc",{usdvalue:h(l),token:c,value:X(s,{needBillionMillionUnit:!0})}),[c,l,s]),g=Xd()===xa.dark;return u?mt.default.createElement(mt.default.Fragment,null,mt.default.createElement("div",{onClick:m,onKeyDown:ga,role:"button",tabIndex:0},mt.default.createElement(Ri,{type:Ri.TYPE.info,title:yr("swaptrade_order_top_card_trade_complete_details_title"),icon:mt.default.createElement(Ve,{className:(0,As.default)("okx-defi-surplus-coin",Zo["surplus-icon"])}),desc:S,closable:!1,className:(0,As.default)(Zo["banner-container"],g?Zo["banner-bg-dark"]:Zo["banner-bg-light"]),rightActionText:mt.default.createElement(Ve,{className:"okx-defi-chevron-right"})}))):null};a();d();var Lr=b(V());var Yu=48,Zp=72,Jp=40,Ds=513,Os=678,Xu=()=>{let[r,t]=(0,Lr.useState)(Ds),[e,o]=(0,Lr.useState)(Os),{isSm:n}=id(),i=st();return(0,Lr.useEffect)(()=>{let s=()=>{let l=window.innerHeight,c=l-53-Zp-Jp-Yu;c<Ds?t(c):t(Ds);let u=l-Yu;u<Os?o(u):o(Os)};return!n&&!i&&(s(),window?.addEventListener?.("resize",s)),()=>{!n&&!i&&window?.removeEventListener?.("resize",s)}},[n,i]),(0,Lr.useMemo)(()=>n||i?{listStyle:{},detailStyle:{}}:{listStyle:{height:r},detailStyle:{minHeight:e}},[r,e,n,i])};a();d();var Ci=b(V()),Jm=b(le());a();d();var Me=b(V());a();d();var ct=b(V()),Zu=b(le());a();d();var qe=b(V()),Pr=b(le());a();d();var Y={item:"_item_rakqj_1",placeholder:"_placeholder_rakqj_8","chain-logo":"_chain-logo_rakqj_13",chainLogo:"_chain-logo_rakqj_13","chain-logos":"_chain-logos_rakqj_19",chainLogos:"_chain-logos_rakqj_19","chain-name":"_chain-name_rakqj_30",chainName:"_chain-name_rakqj_30","icon-btn":"_icon-btn_rakqj_33",iconBtn:"_icon-btn_rakqj_33",content:"_content_rakqj_43","label-tooltip":"_label-tooltip_rakqj_47",labelTooltip:"_label-tooltip_rakqj_47","icon-arrow":"_icon-arrow_rakqj_50",iconArrow:"_icon-arrow_rakqj_50","tooltip-icon":"_tooltip-icon_rakqj_55",tooltipIcon:"_tooltip-icon_rakqj_55",line:"_line_rakqj_58",link:"_link_rakqj_62","bridge-fee":"_bridge-fee_rakqj_69",bridgeFee:"_bridge-fee_rakqj_69","intent-order-network-fee":"_intent-order-network-fee_rakqj_73",intentOrderNetworkFee:"_intent-order-network-fee_rakqj_73","mev-box":"_mev-box_rakqj_76",mevBox:"_mev-box_rakqj_76","gas-station-fee-label":"_gas-station-fee-label_rakqj_79",gasStationFeeLabel:"_gas-station-fee-label_rakqj_79","info-icon":"_info-icon_rakqj_83",infoIcon:"_info-icon_rakqj_83",divider:"_divider_rakqj_86"};function ef({label:r,value:t,hasToolTips:e,toolTipsText:o="",className:n="",valueClassName:i="",labelOnClick:s,labelClassName:l=""}){let c=(0,qe.useRef)(),[u,m]=(0,qe.useState)(!1);(0,qe.useEffect)(()=>{let g=c.current;g&&m(od(g))},[]);let S=qe.default.createElement("div",{ref:c,...s?{onClick:s}:{},className:(0,Pr.default)("content-contrast truncate",Y.label,l)},r);return qe.default.createElement("div",{className:(0,Pr.default)("overflow-hidden font-14 ",Y.item,n)},qe.default.createElement("div",{className:(0,Pr.default)("flex align-items-center overflow-hidden font-12")},u?qe.default.createElement(Et,{maxWidth:200,prefixClassName:"cursor-pointer",title:r,className:"overflow-hidden"},S):S,e&&qe.default.createElement(Et,{title:o,prefixClassName:"cursor-pointer",placement:Et.DIRECTION.bottom,className:(0,Pr.default)("flex items-center",Y.tooltipIcon),popupProps:{popupStyle:{maxWidth:"200px"}}},qe.default.createElement(_e,{className:(0,Pr.default)("content-contrast",Y.infoIcon),type:"okx-defi-dex-information"}))),qe.default.createElement("div",{className:(0,Pr.default)("whitespace-nowrap content-primary mt-4 font-14",i)},t))}var G=ef;var tf=()=>{let{recentTransactionStore:r}=Re(),t=r?.computedOrderInfo,e=(0,ct.useMemo)(()=>(parseInt(t?.estimatedTime||0,10)/60).toFixed(0),[t?.estimatedTime]),o=(0,ct.useMemo)(()=>String(t?.freeGas)===Vn.FREE,[t?.freeGas]),n=(0,ct.useMemo)(()=>ct.default.createElement(G,{label:p("swaptrade_history_card_text_from_chain_fee",{chainName:t?.networks[0]?.chainName}),value:p("swaptrade_card_tag_free"),valueClassName:(0,Zu.default)(Y.intentOrderNetworkFee),hasToolTips:!1,labelOnClick:()=>{}}),[t?.networks]),i=(0,ct.useMemo)(()=>{let l=t?.totalSlippage,c=l?En(l*100,{sigFigs:2,needZero:!1,rounded:wn.TRUNCATE}):"--";return ct.default.createElement(G,{label:p("swaptrade_extension_label_slippage_tolerance"),value:c,hasToolTips:!1,labelOnClick:()=>{}})},[t?.totalSlippage]),s=(0,ct.useMemo)(()=>ct.default.createElement(ct.default.Fragment,null,e==="0"?null:ct.default.createElement(G,{label:p("swaptrade_history_text_conversion_time"),value:p("swaptrade_xrouting_tag_mins",{value:e}),hasToolTips:!1,labelOnClick:()=>{}})),[e]);return{isBridgeDetailFreeNetwork:o,bridgeNetworkFee:n,bridgeSlippage:i,bridgeSwapDuration:s}},oi=tf;a();d();var Ju=b(V());function Rr({value:r,label:t,hidden:e}){return e?null:Ju.default.createElement(G,{label:t||p("swaptrade_tee_header_approval_method"),value:r||"--"})}a();d();var em=b(V());function ar({value:r,label:t,hidden:e}){return e?null:em.default.createElement(G,{label:t||p("swaptrade_common_label_time"),value:r})}a();d();var Ge=b(V());var tm=b(le());var Ls=r=>r==="Smart Mode"?p("swaptrade_history_mev_subtitle_smart_mode"):r;function Jo({type:r,fromSwapMevInfo:t,toSwapMevInfo:e,networks:o,mevInfo:n,label:i}){return(0,Ge.useMemo)(()=>r===W.CrossChain&&(t||e)?Ge.default.createElement(G,{label:i||p("swaptrade_history_label_mev_protect"),value:Ge.default.createElement("div",{className:(0,tm.default)("flex items-center",Y.mevBox)},!!t&&Ge.default.createElement("div",{className:"flex items-center"},Ge.default.createElement(uo,{alt:o[0]?.chainName,size:20,src:o[0]?.chainLogo}),Ge.default.createElement("span",{className:"ml-4"},Ls(t))),!!e&&Ge.default.createElement("div",{className:"flex items-center"},Ge.default.createElement(uo,{alt:o[1]?.chainName,size:20,src:o[1]?.chainLogo}),Ge.default.createElement("span",{className:"ml-4"},Ls(e))))}):n?Ge.default.createElement(G,{label:i||p("swaptrade_history_label_mev_protect"),value:Ge.default.createElement("div",{className:"flex items-center"},Ge.default.createElement(uo,{alt:o[0]?.chainName,size:20,src:o[0]?.chainLogo}),Ge.default.createElement("span",{className:"ml-4"},Ls(n)))}):null,[t,i,n,o,e,r])}a();d();var ae=b(V()),rm=b(le());function en({type:r,isBridgeDetailFreeNetwork:t,bridgeNetworkFee:e,hiddenOtherFee:o,networks:n,networkFee:i,bridgeFee:s,bridgeFeeUsd:l,estimateBridgeFeeAmount:c,estimateBridgeFeeAmountUsd:u,crossChainServiceFeeInfo:m,isWidget:h,otherFees:S,bridgeName:g,dexGasStationFeeDetailTips:I,isIntentOrder:C,hidden:y,isEstimated:v}){let{recentTransactionStore:D}=Re(),M=(0,ae.useCallback)(()=>{let R=ba.show({title:p("swaptrade_swap_history_subtitle_network_fee"),children:I,hideCloseBtn:!0,confirmText:p("swaptrade_dialog_modal_gotit"),onConfirm:()=>{R.destroy()}})},[I]),E=(0,ae.useMemo)(()=>{let R=I?{labelOnClick:M,labelClassName:Y.gasStationFeeLabel}:{};return ae.default.createElement(G,{...R,label:p(v?"swaptrade_order_info_label_network_fee":"swaptrade_swap_history_subtitle_network_fee"),value:C?p("swaptrade_card_tag_free"):i,valueClassName:(0,rm.default)({[Y.intentOrderNetworkFee]:C})})},[i,C,M,I,v]);return(0,ae.useMemo)(()=>{if(y)return null;let R=D.computedIsSingleChain||r===W.GasStationCross||r===W.GasStation;return R?E:t?e:o?ae.default.createElement(ae.default.Fragment,null,ae.default.createElement(G,{label:p("swaptrade_history_card_text_from_chain_fee",{chainName:n[0].chainName}),value:i}),c&&ae.default.createElement(G,{label:p("swaptrade_history_label_bridge_network_fee",{bridge:g}),className:Y.bridgeFee,value:ae.default.createElement("div",{className:"flex flex-column"},u?ae.default.createElement("span",null,Cr(p("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:c,fee:u}))):ae.default.createElement("span",null,c))}),!h&&!R&&m?.shouldDisplayServiceFee?ae.default.createElement(G,{label:p("swaptrade_trade_label_service_fee"),value:ae.default.createElement("div",{className:"flex align-items-center"},ae.default.createElement("span",null,m?.formattedServiceFee))}):null,s&&ae.default.createElement(G,{label:p("swaptrade_history_label_bridge_fee",{bridge:g}),className:Y.bridgeFee,value:ae.default.createElement("div",{className:"flex flex-column"},ae.default.createElement("span",null,s))})):ae.default.createElement(ae.default.Fragment,null,E,ae.default.createElement(G,{label:ae.default.createElement(ae.default.Fragment,null,p("swaptrade_order_info_label_other_fees")),value:S}))},[y,D.computedIsSingleChain,r,t,o,E,S,e,n,i,s,g,l,h,m?.shouldDisplayServiceFee,m?.formattedServiceFee,c,u])}a();d();var Io=b(V());function Nr({networks:r=[],showLogo:t=!1,label:e,hidden:o}){return o?null:Io.default.createElement(G,{label:e||p("swaptrade_order_info_label_network"),value:Io.default.createElement("div",{className:"flex align-items-center"},t&&Io.default.createElement("div",{className:Y.chainLogos},r.map(({chainName:n,chainLogo:i})=>Io.default.createElement("img",{src:i,alt:`${n}Logo`,key:n}))),Io.default.createElement("div",{className:t?Y.chainName:""},r.map(({chainName:n})=>n).join(` ${p("swaptrade_order_info_label_network_to")} `)))})}a();d();var Nt=b(V()),om=b(le());function tn({label:r,fromToPrice:t,toFromPrice:e,fromSymbol:o,toSymbol:n,type:i,hidden:s}){let[l,c]=(0,Nt.useState)("fromTo"),u=(0,Nt.useMemo)(()=>{if(t==="--"||e==="--")return{text:"--",equation:"--"};if(l==="fromTo"){let S={fromAmount:1,fromSymbol:o,toAmount:t,toSymbol:n};return{text:tr(S),equation:rr(S)}}let h={fromAmount:1,fromSymbol:n,toAmount:e,toSymbol:o};return{text:tr(h),equation:rr(h)}},[o,n,l,t,e]),m=![W.CrossBridge,W.GasStation,W.GasStationCross].includes(i)&&u.text!=="--";return s?null:Nt.default.createElement(G,{label:r||p("swaptrade_order_info_label_price"),value:Nt.default.createElement("div",{className:"flex align-items-center"},Nt.default.createElement("span",null,Nt.default.createElement(er,{text:u.text,equation:u.equation},Cr(u.equation))),m&&Nt.default.createElement(Ve,{onClick:()=>{c(l==="fromTo"?"toFrom":"fromTo")},className:(0,om.default)("content-primary okx-defi-dex-rate",Y.iconBtn),size:16,a11yText:""}))})}a();d();var Mr=b(V()),im=b(Wn()),sm=b(le());a();d();var nm=b(V());Qe();var ni=(r,t,e)=>(0,nm.useMemo)(()=>{if(e||!st())return{fullAddress:r,ellipsisAddress:t};let o=Oa.global.formatXLayerAddressFn;if(!_a(o))return{fullAddress:r,ellipsisAddress:t};let n=o({address:r});return{fullAddress:n,ellipsisAddress:or(n)}},[r,t,e]);function Ps({formatAddress:r,originAddress:t,label:e,hidden:o}){let n=ni(t,r,o);return o?null:Mr.default.createElement(G,{label:e||p("swaptrade_details_text_receive_address"),value:Mr.default.createElement("div",{className:"flex align-items-center"},Mr.default.createElement("span",null,n.ellipsisAddress),Mr.default.createElement(im.CopyToClipboard,{text:n.fullAddress,onCopy:()=>{At.success(p("swaptrade_order_info_label_from_copy_success"))}},Mr.default.createElement("div",{className:(0,sm.default)("flex align-items-center",Y.iconBtn)},Mr.default.createElement(_e,{className:"okx-defi-dex-copy1",size:16}))))})}a();d();var ii=b(V());function Fr({value:r,isEstimated:t=!0,label:e,hidden:o=!1}){return o?null:ii.default.createElement(G,{label:e||(t?p("swaptrade_tee_tab_label_est_service_fee"):p("swaptrade_trade_label_service_fee")),value:ii.default.createElement("div",{className:"flex align-items-center"},ii.default.createElement("span",null,r))})}a();d();var am=b(V());function Br({value:r,label:t,autoFoumart:e=!0,hidden:o}){if(o)return null;let n=s=>e?En(Q.mul(s,100),{sigFigs:2,needZero:!1,rounded:wn.TRUNCATE}):s,i=()=>r?n(r):"--";return am.default.createElement(G,{label:t||p("swaptrade_tee_tab_label_slippage"),value:i()})}a();d();var dm=b(V());function Ur({value:r,label:t,hidden:e}){return e?null:dm.default.createElement(G,{label:t||p("swaptrade_history_text_conversion_time"),value:r||"--"})}a();d();var lm=b(V());function Vr({value:r,hidden:t,label:e}){return t?null:lm.default.createElement(G,{label:e||p("swaptrade_order_info_label_type"),value:r||"--"})}a();d();var Wr=b(V()),um=b(Wn()),mm=b(le());function Gr({omittedFrom:r,from:t,label:e,hidden:o}){let n=ni(t,r);return o?null:Wr.default.createElement(G,{label:e||p("swaptrade_order_info_label_from"),value:Wr.default.createElement("div",{className:"flex align-items-center"},Wr.default.createElement("span",null,n.ellipsisAddress),Wr.default.createElement(um.CopyToClipboard,{text:n.fullAddress,onCopy:()=>{At.success(p("swaptrade_order_info_label_from_copy_success"))}},Wr.default.createElement("div",{className:(0,mm.default)("flex align-items-center",Y.iconBtn)},Wr.default.createElement(_e,{className:"okx-defi-dex-copy1",size:16}))))})}a();d();var cm=b(V());a();d();var si={title:"_title_m2btf_1"};function Hr(){return cm.default.createElement("div",{className:si.title},p("swaptrade_tee_tab_label_transaction_details"))}a();d();var rn=b(V());function Rs({bridgeLogo:r,bridgeName:t,label:e,hidden:o}){return o?null:rn.default.createElement(G,{label:e||p("swaptrade_bot_hyperlink_label_bridge_route"),value:rn.default.createElement("div",{className:"flex align-items-center"},rn.default.createElement("img",{src:r,alt:t,className:Y.chainLogo}),rn.default.createElement("span",null,t))})}function rf({orderInfo:r}){let t=Wt(),{type:e,time:o,networks:n,networkFee:i,otherFees:s,from:l,omittedFrom:c,omittedTo:u,receiveWalletAddress:m,fromSymbol:h,toSymbol:S,fromToPrice:g,toFromPrice:I,bridgeFee:C,bridgeName:y,bridgeFeeUsd:v,hiddenOtherFee:D,estimateBridgeFeeAmount:M,estimateBridgeFeeAmountUsd:E,orderFinishedTime:x,isIntentOrder:R,totalSlippage:O,status:N,dexGasStationFeeDetailTips:U,crossChainServiceFeeInfo:q,transactionTypeKey:L,toSwapMevInfo:K,mevInfo:w,approveMethod:z,fromSwapMevInfo:Z,slippageValue:ge,bridgeLogo:he}=r,{isBridgeDetailFreeNetwork:re,bridgeNetworkFee:ie}=oi(),se=r?.singleChainServiceFeeInfo||{};return Me.default.createElement(Me.default.Fragment,null,Me.default.createElement(Hr,null),Me.default.createElement(Vr,{value:p(L)}),Me.default.createElement(ar,{value:o}),Me.default.createElement(Nr,{networks:n}),Me.default.createElement(Br,{value:ge||O}),Me.default.createElement(en,{type:e,isBridgeDetailFreeNetwork:re,bridgeNetworkFee:ie,hiddenOtherFee:D,networks:n,networkFee:i,bridgeFee:C,bridgeFeeUsd:v,estimateBridgeFeeAmount:M,estimateBridgeFeeAmountUsd:E,crossChainServiceFeeInfo:q,isWidget:t,otherFees:s,bridgeName:y,dexGasStationFeeDetailTips:U,isIntentOrder:R}),Me.default.createElement(Fr,{value:se.formattedServiceFee,isEstimated:N!==k.Succeed,hidden:!se.shouldDisplayServiceFee}),Me.default.createElement(Jo,{type:e,fromSwapMevInfo:Z,toSwapMevInfo:K,networks:n,mevInfo:w,label:p("swaptrade_trade_label_route_selection")}),Me.default.createElement(Ur,{value:x}),Me.default.createElement(tn,{type:e,fromSymbol:h,toSymbol:S,fromToPrice:g,toFromPrice:I}),Me.default.createElement(Rr,{value:z,hidden:!z}),Me.default.createElement(Rs,{bridgeLogo:he,bridgeName:y}),Me.default.createElement(Gr,{omittedFrom:c,from:l}),Me.default.createElement(Ps,{label:p("swaptrade_details_text_receive_address"),formatAddress:u,originAddress:m,hidden:!m||!u||e===W.GasStationCross}))}var pm=Te(rf);a();d();var ne=b(V());a();d();var Ii=b(V());a();d();var zr=b(V()),Gm=b(le());a();d();var Ns=class extends On{constructor(){super();this.loading=!1;this.error=!1;this.boostVolume="";this.boostWeight="";$(this,{loading:B,boostVolume:B,boostWeight:B})}},pt=new Ns;a();d();var Ti=b(V());a();d();var Ms=b(V());var of=Ms.default.createContext(null),fm=()=>{let r=Ms.default.useContext(of);if(!r)throw new Error("useLimitStore must be used within a MarketLimitProvider");return r};a();d();Qe();a();d();Qe();a();d();a();d();async function _m(r){return await oe.post($a,r)}a();d();async function gm(r){return await oe.post("/priapi/v1/dx/trade/market-trade/confirm-order",r)}a();d();var hm=r=>r===Kd.BEST64;a();d();a();d();var qr=class extends He{constructor(){super(...arguments);T(this,"formatContractPayload",()=>{let{orderData:e}=this;return{...JSON.parse(e?.callData?.data)}});T(this,"formatTransferPayload",()=>{});T(this,"getSendTransactionParams",async()=>{let e=this.formatContractPayload();return this.differentiatedEnvironment([{...e,extParams:this.extParams}])});T(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};T(qr,"chainId",Se.APTOS_MAINNET);a();d();var jr=class extends He{constructor(...e){super(...e);T(this,"formatContractPayload",async()=>{let{orderData:e}=this;return this.txData(e.unsignedTx)});T(this,"formatTransferPayload",async()=>{let{orderData:e}=this,{unsignedTx:o}=e;return this.txData(o)});T(this,"getSendTransactionParams",async()=>{let{payload:e}=await this.preExecution();return this.differentiatedEnvironment([e,this.extParams])});T(this,"preExecution",async()=>{let e;return this.isTransferType?e=await this.formatTransferPayload():e=await this.formatContractPayload(),e});T(this,"getTxData",()=>{let{mevConfig:e,unsignedTx:o}=this.orderData||{};try{return e?.enableMev?JSON.parse(o).array:[JSON.parse(o)]}catch(n){throw new Error(n)}});T(this,"jitoTransaction",async()=>{let e=this.getTxData();try{return Promise.all(e.map(this.txData))}catch(o){throw new Error(o)}});let o=new Qd;Object.assign(this,{...o})}};T(jr,"chainId",Se.SOLANA_MAINNET);a();d();var Kr=class extends He{constructor(){super(...arguments);T(this,"formatContractPayload",()=>{let{orderData:e}=this,{data:o,from:n}=e.callData,i=JSON.parse(o);return{...i,functionArgs:i.functionArgsEncode,txType:"contract_call",stxAddress:n}});T(this,"formatTransferPayload",()=>{});T(this,"getSendTransactionParams",async()=>this.differentiatedEnvironment([this.formatContractPayload(),this.extParams]));T(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};T(Kr,"chainId",Se.STACKS_MAINNET);a();d();var $r=class extends He{constructor(){super(...arguments);T(this,"walletNoNeedExtParams",!0);T(this,"formatContractPayload",()=>{let{orderData:e}=this,o=JSON.parse(e.unsignedTx),{executionRequest:n}=JSON.parse(o.data);return n.calls});T(this,"formatTransferPayload",()=>{});T(this,"getSendTransactionParams",async()=>this.differentiatedEnvironment([this.formatContractPayload()]));T(this,"preExecution",()=>({payload:this.formatContractPayload()}))}};T($r,"chainId",Se.STARKNET_MAINNET);a();d();var ai=class extends He{constructor(){super(...arguments);T(this,"formatContractPayload",()=>{let{orderData:e}=this,{txBytes:o}=JSON.parse(e.unsignedTx);return{transactionBlock:o}});T(this,"getSendTransactionParams",async()=>this.differentiatedEnvironment([this.formatContractPayload(),this.extParams]));T(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};T(ai,"chainId",Se.SUI_MAINNET);var Fs=ai;a();d();var di=class extends He{constructor(){super(...arguments);T(this,"walletNoNeedExtParams",!1);T(this,"formatContractPayload",()=>{let{orderData:e}=this,{params:o}=JSON.parse(e.unsignedTx);return o});T(this,"formatTransferPayload",()=>{let{orderData:e}=this,{params:o}=JSON.parse(e.unsignedTx);return o});T(this,"getSendTransactionParams",async()=>{let e=this.isTransferType?this.formatTransferPayload():this.formatContractPayload();return this.differentiatedEnvironment([e,this.extParams])});T(this,"preExecution",async()=>({payload:this.isTransferType?this.formatTransferPayload():this.formatContractPayload()}))}};T(di,"chainId",Se.TON_MAINNET);var Bs=di;a();d();var Qr=class extends He{constructor(){super(...arguments);T(this,"formatContractPayload",()=>{let{orderData:e}=this;return JSON.parse(e.unsignedTx)});T(this,"formatTransferPayload",()=>{});T(this,"getSendTransactionParams",async()=>{let e=this.formatContractPayload();return this.swapStore.extendTronParams&&(e=this.swapStore.extendTronParams(e)),this.differentiatedEnvironment([{...e,extParams:this.extParams}])});T(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};T(Qr,"chainId",Se.TRON_MAINNET);var nf={[Un.chainId]:Un,[jr.chainId]:jr,[qr.chainId]:qr,[Fs.chainId]:Fs,[Qr.chainId]:Qr,[Kr.chainId]:Kr,[$r.chainId]:$r,[Bs.chainId]:Bs},sf=r=>nf[r]||Un,af=(r,t,e)=>{let{chainId:o}=r,n=sf(o);return new n(t,e,r)},Tm=af;a();d();a();d();a();d();var Us=class{constructor(){this.signMessageBase=async t=>await gd({message:t,signType:"bs58"});this.sendTransactionBase=async t=>(await hd(...t)).result;this.signSilent=async({chainId:t,originMethod:e,originParams:o,calldataParams:n})=>await Nn({chainId:t,originMethod:e,originParams:o},{calldataParams:n??void 0})}},dr=Us;var Vs=class extends dr{constructor(){super(...arguments);this.signMessage=async({chainId:e,message:o},n={isSilent:!1})=>{if(n.isSilent){let i=await Mn(e);return this.signSilent({chainId:e,originMethod:"personal_sign",originParams:[o,i]})}return this.signMessageBase(o)};this.sendTransaction=async({chainId:e,callParams:o},n={isSilent:!1})=>{if(n.isSilent){let s=o[0];return{transactionHash:await this.signSilent({chainId:e,originMethod:"eth_sendTransaction",originParams:[{...s,chainId:Bn(e)}]}),nonce:parseInt(s.nonce,16)}}return{transactionHash:await this.sendTransactionBase(o)}};this.signApproveAndSwap=async({chainId:e,cancelApproveParams:o,approveParams:n,swapParams:i,approveToTokenParams:s},l={isSilent:!1})=>{let{transactionList:c,signParamsList:u,swapTransactionIndex:m}=cd({chainId:e,cancelApproveParams:o,approveParams:n,swapParams:i,approveToTokenParams:s}),h=await Ed({isSilentSign:l.isSilent,transactionList:c});if(h==="unsupported")throw new Error("Unsupported sign type");let S=await Ad({chainId:e,signParamsList:u,signType:h});return pd({signedResult:S,transactionList:c,swapTransactionIndex:m})}}},Sm=new Vs;a();d();var Ws=class extends dr{constructor(){super(...arguments);this.signMessage=({message:e})=>this.signMessageBase(e);this.sendTransaction=async({callParams:e})=>({transactionHash:await this.sendTransactionBase(e)})}},Im=new Ws;a();d();Qe();a();d();var km=async()=>{let{default:r}=await import("./bs58-NA2EZ6US.js");return r};var Gs=class extends dr{constructor(){super(...arguments);this.signMessage=async({chainId:e,message:o},n={isSilent:!1})=>{if(n.isSilent){let i=new TextEncoder().encode(o),s=await this.signSilent({chainId:e,originMethod:"signMessage",originParams:[i,"utf8"]});return(await km()).encode(s.signature)}return this.signMessageBase(o)};this.sendTransaction=async({chainId:e,callParams:o},n={isSilent:!1})=>n.isSilent?{transactionHash:await this.signSilent({chainId:e,originMethod:"signTransaction",originParams:[o]})}:{transactionHash:await this.sendTransactionBase(o)};this.signAllTransactions=({chainId:e,transactions:o},n={isSilent:!1})=>{if(n.isSilent){let i=Sa(o[0].transaction);return this.signSilent({chainId:e,originMethod:"signAllTransactions",originParams:[o,{skipKys:!0,signRaw:i}],calldataParams:n?.calldataParams??void 0})}return Td({transactions:o})}}},xm=new Gs;a();d();a();d();var on=class{constructor(){this.supportEvmSign=!1;this.currentWalletVersion="";this.isOkxWallet=!1;this.supportBs64Version=!1;this.supportSuiSilentSign=!1;this.supportSignApprovalAndSwap=!1;it(this,{},{autoBind:!0})}setSupportEvmSign(t){this.supportEvmSign=t}setSupportBs64Version(t){this.supportBs64Version=t}setSupportSuiSilentSign(t){this.supportSuiSilentSign=t}setSupportSignApprovalAndSwap(t){this.supportSignApprovalAndSwap=t}async checkWalletVersion(){try{let t=await _d();if(this.isOkxWallet=t,await Dd()){let o=await xd(),n=Uo(o||"","3.68.15"),i=Uo(o||"","3.74.12"),s=Uo(o||"","3.76.0"),l=Uo(o||"","3.86.15");this.setSupportEvmSign(n>=0),this.setSupportBs64Version(i>=0),this.setSupportSuiSilentSign(s>=0),this.setSupportSignApprovalAndSwap(l>=0),this.currentWalletVersion=o}}catch{this.reset()}}reset(){this.setSupportEvmSign(!1),this.currentWalletVersion="",this.isOkxWallet=!1,this.supportBs64Version=!1,this.supportSuiSilentSign=!1,this.setSupportSignApprovalAndSwap(!1)}};on.storeId="checkWalletVersion",on.storeName="CheckWalletVersionStore";var li=new on;var Hs=class extends dr{constructor(){super(...arguments);this.signMessage=({message:e})=>this.signMessageBase(e);this.sendTransaction=async({chainId:e,callParams:o},n={isSilent:!1})=>{if(n.isSilent&&li.supportSuiSilentSign){let{transactionBlock:s}=o[0],l=sd.from(s),c=await Mn(e),u={transactionBlock:l,account:c,chain:Se.SUI_MAINNET};return{transactionHash:(await this.signSilent({chainId:e,originMethod:"sui:signAndExecuteTransactionBlock",originParams:[u]})).digest}}return{transactionHash:await this.sendTransactionBase(o)}}}},ym=new Hs;var qs=class{constructor(){this.methodMap={evm:Sm,solana:xm,sui:ym,other:Im};this.handleMethod=t=>Dn(t)?this.methodMap.solana:nd(t)?this.methodMap.sui:Ba.includes(t)?this.methodMap.other:this.methodMap.evm;this.signMessage=async({chainId:t,message:e},o={isSilent:!1})=>this.handleMethod(t).signMessage({chainId:t,message:e},o).catch(i=>{throw Rd(i),i});this.sendTransaction=async({chainId:t,callParams:e},o={isSilent:!1})=>this.handleMethod(t).sendTransaction({chainId:t,callParams:e},o);this.signAllTransactions=async({chainId:t,transactions:e},o={isSilent:!1})=>{let n=this.handleMethod(t);if(!n.signAllTransactions)throw new Error(`Chain ${t} does not support signAllTransactions`);return n.signAllTransactions({chainId:t,transactions:e},o)};this.signApproveAndSwap=async(t,e)=>{let{chainId:o}=t,n=this.handleMethod(Number(o));if(!n.signApproveAndSwap)throw new Error(`Chain ${o} does not support signApproveAndSwap`);return n.signApproveAndSwap(t,e)}}},ft=new qs;a();d();var df=({isSilentSign:r,chainId:t})=>r&&li.supportEvmSign&&Id(t),Cm=df;var ko={getMarketCalldata:async(r,t)=>{let e=oe.post(Xa,r,{signal:t}),[o,n]=await fe(e);return[o,n]},getMarketQuoteAndCalldata:async(r,t)=>{let e=oe.post(Ya,r,{signal:t}),[o,n]=await fe(e);return[o,n]},marketSendTransaction:async({quoteData:r,transactionData:t,signAndSendTransactionParams:e},{isSilentSign:o=!1,defaultEnabledSilentMethod:n=!1}={})=>(ee.updateTradeLogEnd({isSilentSign:o}),Dn(r.chainId)?ko.solanaSignTransaction(t,{isSilentSign:o,defaultEnabledSilentMethod:n,encoding:t.solanaEncoding}):ko.signAndSendTransaction({quoteData:r,transactionData:t,signAndSendTransactionParams:e},{isSilentSign:o,defaultEnabledSilentMethod:n})),onIntentSignSwap:async({structureType:r,unsignedTx:t})=>hm(r)?ko.solanaIntentTransaction(t):ko.signIntentSwap(t),signIntentSwap:async r=>{try{ee.info(Ie.SIGN_INTENT_SWAP,{tradeType:Fi.MARKET,unsignedTx:r});let t=JSON.parse(r);return await fd({message:t})}catch(t){return Promise.reject(t)}},solanaIntentTransaction:async r=>{try{ee.info(Ie.SIGN_SOLANA_INTENT_SWAP,{tradeType:Fi.MARKET,unsignedTx:r});let t=await Bd(r),o=(await ft.signAllTransactions({chainId:Se.SOLANA_MAINNET,transactions:[t]},{isSilent:!1}))[0];return await Ud(o)}catch(t){return Promise.reject(t)}},solanaSignTransaction:async({unsignedTx:r},{isSilentSign:t=!1,defaultEnabledSilentMethod:e=!1,encoding:o="bs58",logger:n=ee,calldataParams:i}={})=>{try{let l=(await Vd(r,{encoding:o})).map(m=>m.payload.transaction);bs(n);let c=await ft.signAllTransactions({chainId:Se.SOLANA_MAINNET,transactions:l},{isSilent:t||e,...i&&{calldataParams:i}});return await Wd(c)}catch(s){return Promise.reject(s)}},evmSignTransaction:async({payload:r,chainId:t})=>{let e=r[0],o=await Nn({chainId:t,originMethod:"eth_signTransaction",originParams:[{...e,chainId:Bn(t)}]});return{signedInfoList:[{txHash:o.txHash,signature:o.signedTx}],nonce:parseInt(e.nonce,16)}},signAndSendTransaction:async({quoteData:r,transactionData:t,signAndSendTransactionParams:e},{isSilentSign:o=!1,defaultEnabledSilentMethod:n=!1,logger:i=ee})=>{let{chainId:s}=r,c=await Tm({chainId:s},{orderData:t,extParams:{txSource:3,orderId:t.orderId,toTokenAddress:r.toTokenAddress,crossChain:0,chainId:s,tokenAddress:r.fromTokenAddress,amount:r.fromAmount,toChainId:r.chainId}},{extendEvmParams:h=>(h.extParams.isMev=!!e.enableMev,h)}).getSendTransactionParams({needGasPrice:!0,isSilentSign:o||n});if(ee.updateTradeLogEnd({payload:c}),bs(i),r.isCombineApproveAndSwap&&r.isBatchBroadcast){let{transactionPayload:h}=Gd({approveTxInfo:r.approveTxInfo,params:{chainId:s,isOnlySign:!0}}),{transactions:S,swapTransactionIndex:g}=await ft.signApproveAndSwap({chainId:s,approveParams:{payload:h,transactionData:r.approveTxInfo},swapParams:{payload:c[0],transactionData:t}},{isSilent:o});return{signedInfoList:S.map(I=>({txHash:I.transactionHash,signature:I.signedTx})),swapTransactionIndex:g}}if(Cm({isSilentSign:o,chainId:s}))return await ko.evmSignTransaction({payload:c,chainId:s});let{transactionHash:u,nonce:m}=await ft.sendTransaction({chainId:s,callParams:c},{isSilent:o||n});return{signedInfoList:[{txHash:u}],nonce:m}},broadcast:async r=>qd(r),confirmOrder:async r=>gm(r),cancelOrder:async(r,t={})=>{let{isSilent:e=!1}=t,[o,n]=await fe(ll(r));if(o)throw o;if(!await Rn(Number(r.chainId)))return Promise.reject(new Error("Switch network failed"));let{data:s}=n,{unsignedTx:l,...c}=s,u={...c};e&&(u=Fd.reduce((S,g)=>((u[g]||u[g]===0)&&(S[g]=md(u[g],"0x")),S),u));let[m,h]=await fe(ft.sendTransaction({chainId:Number(r.chainId),callParams:u},{isSilent:e}));if(m)throw m;return h},createIntentOrder:async r=>_m(r)},bm=ko;var nn={data:null,detailMsg:"",error_code:"",error_message:"",msg:""},lf={market:bm.getMarketQuoteAndCalldata,meme:async()=>[new Error("meme requester not implemented"),null],aggregator:async()=>[new Error("aggregator requester not implemented"),null]},xo=class{constructor(){this.quoteData=nn;this.cancelRef=null;it(this,{},{autoBind:!0})}reset(){this.quoteData=nn}async requestQuote(t,e){this.cancelRef=Gt();let o=lf[e],[n,i]=await o(t,this.cancelRef.signal);if(Lt(n))return[n,null,{cancelled:!0}];if(n){let s=n||{};return this.setQuoteData(s),[n,null,{cancelled:!1}]}return this.setQuoteData(i||{}),[null,i,{cancelled:!1}]}setQuoteData(t){this.quoteData=t??nn}cancel(){this.cancelRef&&(this.cancelRef.abort(),this.cancelRef=null)}get computedQuoteCompleted(){return H(this.quoteData,"error_code","")}get computedQuoteSuccuss(){return this.computedQuoteCompleted==="0"}get computedQuoteNetworkError(){return H(this.quoteData,"status")==="ERR_NETWORK"}get computedQuoteErrorMsg(){return H(this.quoteData,"error_message","")}get computedDefiPlatformInfoList(){return H(this.quoteData,"data.defiPlatformInfoList",[])}get computedGetQuoteFrom(){return H(this.quoteData,"data.commonDexInfo.fromToken",null)}get computedGetQuoteTo(){return H(this.quoteData,"data.commonDexInfo.toToken",null)}get computedGetQuoteFromAmount(){return H(this.quoteData,"data.commonDexInfo.fromTokenAmount")}get computedGetQuoteFromValue(){return H(this.quoteData,"data.commonDexInfo.fromTokenValue")}get computedPriorityFeeInfo(){let t=H(this.quoteData,"data.networkFeeInfo.normal",{})??{},e=H(this.quoteData,"data.networkFeeInfo.mev.[0]",{})??{},o=Ji(t);return{mevPriorityFeeInfo:Ji(e),nonMevPriorityFeeInfo:o}}get computedRate(){return H(this.quoteData,"data.commonDexInfo.rate",null)}get computedToFromRate(){return H(this.quoteData,"data.commonDexInfo.toFromRate",null)}get computedTeeSignMarketRelTs(){return H(this.quoteData,"data.commonDexInfo.teeSignMarketRelTs")}get computedTeeSignTpslRelTs(){return H(this.quoteData,"data.commonDexInfo.teeSignTpslRelTs")}};xo.storeId="coreQuoteStoreV1",xo.storeName="CoreQuoteStore";var lr=class extends lo{constructor(e){super(e);this.QUOTE_TIMEOUT=3e3;this.isAutoQuote=!1;this.quoteLoading=!1;this.initLoading=!0;this.traceId=null;this.cacheParams=null;this.timerRef=null;this.defiPlatformId=null;this.defiPlatformName=null;this.currentDefiPlatformInfo={};this.isDappJump=!1;this.platformNotFoundError=null;this.disposerCurrentDefiPlatformInfoReaction=null;this.setSelectedDefiPlatform=e=>{e?(this.setCurrentDefiPlatformInfo(e),this.defiPlatformId=e.defiPlatformId??null,this.defiPlatformName=e.name??null):(this.defiPlatformId=null,this.defiPlatformName=null)};this.setCurrentDefiPlatformInfo=e=>{this.currentDefiPlatformInfo=e||{}};this.getCurrentDefiPlatformInfo=()=>{let e=this.quoteStore?.computedDefiPlatformInfoList||[];if(!e.length)return{};let o=e.find(s=>s?.defiPlatformId===this.defiPlatformId);if(this.defiPlatformId&&!o&&(this.platformNotFoundError={name:String(this.currentDefiPlatformInfo?.name??"")},this.setSelectedDefiPlatform(null)),o)return o;let i=e.find(s=>s?.defiPlatformId===ao)||e?.[0];return i?(this.setSelectedDefiPlatform(i),i):{}};this.clearPlatformNotFoundError=()=>{this.platformNotFoundError=null};this.setIsDappJump=e=>{this.isDappJump=e};this.setTraceId=e=>{this.traceId=e};this.setQUOTE_TIMEOUT=e=>{this.QUOTE_TIMEOUT=e||3e3};this.fetchQuote=ha((e,o,n)=>{n||(this.isAutoQuote=!0),this.startingPoll(e,o).catch(()=>{})},Pa);this.refreshQuote=()=>{this.quoteLoading=!0,this.cleanQuoteTimer(),this.fetchQuote(this.cacheParams,void 0,!0)};this.resetQuote=()=>{this.cleanQuoteTimer(),this.cacheParams=null,this.quoteStore?.reset(),this.setSelectedDefiPlatform({defiPlatformId:null,name:null})};this.cleanQuoteTimer=()=>{this.quoteStore?.cancel(),this.timerRef&&(clearTimeout(this.timerRef),this.timerRef=null)};this.liquidityChange=()=>{this.quoteLoading=!0,this.cleanQuoteTimer(),this.cacheParams=null};this.quoteStart=()=>{this.quoteLoading=!0,this.cleanQuoteTimer()};this.quoteEnd=()=>{this.initLoading=!1,this.quoteLoading=!1,this.isAutoQuote=!1};this.isQuoteImmediate=e=>{let o=e;return!!o?.chainId&&!!o?.fromTokenAddress&&!!o?.toTokenAddress&&new Xe.BigNumber(o?.amount??0).gt(0)};this.startingPoll=async(e,o)=>{if(this.cacheParams=e,this.timerRef&&clearTimeout(this.timerRef),!this.isQuoteImmediate(this.cacheParams||{})){this.initLoading=!1,this.resetQuote();return}await this.fetchQuoteAction(this.cacheParams,o),this.timerRef&&clearTimeout(this.timerRef),this.timerRef=setTimeout(async()=>{this.isAutoQuote=!0,await this.startingPoll(this.cacheParams,o)},this.QUOTE_TIMEOUT)};this.fetchQuoteAction=async(e,o)=>{this.quoteStart();let n=ad.getWalletId(),i=no({},e,{ext:{referId:n}});ee.info(Ie.MARKET_SWAP_QUOTE_PARAMS,{params:i});let[s,l,{cancelled:c}]=await this.quoteStore.requestQuote(i,"market");if(c){this.quoteEnd();return}s?(es.isOpen&&es?.close(),this.setTraceId("")):(o?.(l),this.setTraceId(n)),this.quoteEnd()};this.destroy=()=>{this.disposerCurrentDefiPlatformInfoReaction?.(),this.disposerCurrentDefiPlatformInfoReaction=null};this.quoteStore=e.getStore(xo),it(this,{},{autoBind:!0}),this.quoteStore&&(this.disposerCurrentDefiPlatformInfoReaction=va(()=>this.quoteStore?.computedDefiPlatformInfoList,()=>this.setCurrentDefiPlatformInfo(this.getCurrentDefiPlatformInfo())))}get quoteData(){return this.quoteStore?.quoteData??nn}get computedQuoteCompleted(){return this.quoteStore?.computedQuoteCompleted??""}get computedQuoteNetworkError(){return this.quoteStore?.computedQuoteNetworkError??!1}get computedQuoteErrorMsg(){return this.quoteStore?.computedQuoteErrorMsg??""}get computedQuoteIsError(){return this.computedQuoteCompleted&&this.computedQuoteCompleted!=="0"&&this.computedQuoteCompleted!==Bi}get computedQuoteIsNewAddress(){return this.computedQuoteCompleted&&H(this.quoteData,"error_code")===Ra}get computedQuoteLiquidityError(){return this.computedQuoteCompleted&&this.computedQuoteCompleted===Na}get computedSwapOnOtherDapp(){return this.computedQuoteCompleted===Bi}get computedSwapOnOtherDappAlert(){return this.computedQuoteCompleted===Ma}get computedSupportDappTradeByChain(){return this.computedSwapOnOtherDapp||this.computedSwapOnOtherDappAlert}get computedQuoteIsInvalid(){return this.computedQuoteCompleted&&(this.computedQuoteIsError||this.computedQuoteNetworkError||this.computedQuoteLiquidityError)}get computedCustomQuoteLoading(){return!this.isAutoQuote&&this.quoteLoading}get computedDefiPlatformInfo(){return this.currentDefiPlatformInfo}get computedDefiPlatformInfoList(){return H(this.quoteData,"data.defiPlatformInfoList",[]).map((o,n)=>({...o,isBest:n===0,toTokenPrice:o.toTokenValue}))}get computedGetDefiPlatformIdList(){return this.computedDefiPlatformInfoList?.map(e=>e.defiPlatformId)}get computedGetDefiPlatformId(){return this.computedDefiPlatformInfo?.defiPlatformId}get computedIsNoOkxLiquidity(){let e=this.computedDefiPlatformInfoList;return e?!e.some(n=>n?.defiPlatformId===ao):!1}get computedIsOkxRouter(){return!this.computedDefiPlatformInfo?.defiPlatformId||this.computedDefiPlatformInfo?.defiPlatformId===ao}get computedGetQuoteFrom(){return this.quoteStore?.computedGetQuoteFrom??{}}get computedGetQuoteTo(){return this.quoteStore?.computedGetQuoteTo??{}}get computedGetQuoteFromAmount(){return this.quoteStore?.computedGetQuoteFromAmount}get computedGetQuoteFromValue(){return this.quoteStore?.computedGetQuoteFromValue}get computedGetQuoteToAmount(){return this.computedDefiPlatformInfo?.receiveAmount}get computedGetQuoteToValue(){return this.computedDefiPlatformInfo?.toTokenValue}get computedQuoteSafemoon(){if(this.computedQuoteCompleted){let e=H(this.quoteData,"data.commonDexInfo.fromToken",{}),o=H(this.quoteData,"data.commonDexInfo.toToken",{});if(zi(e))return e?.tokenSymbol;if(zi(o))return o?.tokenSymbol}return""}get nativeTokenPrice(){return H(this.quoteData,"data.commonDexInfo.nativeTokenPrice",0)}get computedToTokenAmount(){return this.computedDefiPlatformInfo?.receiveAmount??"0"}get computedToTokenValue(){return this.computedDefiPlatformInfo?.toTokenValue??"0"}get computedMinimumReceived(){return this.computedDefiPlatformInfo?.minimumReceived}get computedGetEstimateGasFee(){return this.computedDefiPlatformInfo?.estimateGasFee}get computedQuoteNetworkFeeOfMoney(){return this.computedDefiPlatformInfo?.quoteNetWorkFeeOfMoney}get computedQuoteNetworkFeeOfNativeToken(){return this.computedDefiPlatformInfo?.networkFeeOfNativeToken}get computedServiceFeeInfo(){return H(this.computedDefiPlatformInfo,"serviceFeeInfo",{})}get computedPriorityFeeInfo(){return this.quoteStore?.computedPriorityFeeInfo??{mevPriorityFeeInfo:{},nonMevPriorityFeeInfo:{}}}get computedRate(){let e=this.computedGetQuoteFromAmount,o=this.computedGetQuoteToAmount;return e&&o?X(new Xe.BigNumber(o).div(e).toString(10),{needBillionMillionUnit:!1}):""}get computedToFromRate(){let e=this.computedGetQuoteFromAmount,o=this.computedGetQuoteToAmount;return e&&o?X(new Xe.BigNumber(e).div(o).toString(10),{needBillionMillionUnit:!1}):""}get quoteDiffValThreshold(){return this.computedDefiPlatformInfo?.quoteDiffValThreshold}get quoteDiffPercentThreshold(){return this.computedDefiPlatformInfo?.quoteDiffPercentThreshold}get computedValueDifference(){return zd({pay:this.computedGetQuoteFromValue,receive:this.computedToTokenValue,quoteDiffValThreshold:this.quoteDiffValThreshold,quoteDiffPercentThreshold:this.quoteDiffPercentThreshold})}get computedAutoSlippage(){let e=this.computedDefiPlatformInfo?.autoSlippageInfo?.referenceSlippage??"",o=this.computedDefiPlatformInfo?.autoSlippageInfo?.autoSlippage??"";return e||o}get computedGetRouterList(){return this.computedDefiPlatformInfo?.dexRouterList??[]}get jitoIsSuccess(){return this.computedDefiPlatformInfo?.isEnableMev==="1"}get mevUnstableShowLevel(){return this.computedDefiPlatformInfo?.mevUnstableShowLevel??-1}get computedMevConfig(){return H(this.computedTransactionData,"mevConfig")}get computedIsEnableMev(){return H(this.computedMevConfig,"enableMev")}get computedMevSuppliers(){return H(this.computedMevConfig,"mevSuppliers")}get computedGetQuoteNeedApprove(){return this.computedDefiPlatformInfo?.needApprove}get computedTransactionData(){return H(this.computedDefiPlatformInfo,"transactionData")}get computedApproveTxInfo(){return H(this.computedTransactionData,"approveTxInfo")}get computedIsCombineApproveAndSwap(){return!!this.computedApproveTxInfo}get computedIsOfflineType(){return this.computedDefiPlatformInfo?.offlineType===jd.YES}get computedTeeSignMarketRelTs(){return this.quoteStore?.computedTeeSignMarketRelTs}get computedTeeSignTpslRelTs(){return this.quoteStore?.computedTeeSignTpslRelTs}get computedQuoteId(){return H(this.computedDefiPlatformInfo,"quoteId")}get computedReducePercent(){return ed(this.computedDefiPlatformInfo?.reducePercent)}};lr.serviceId="marketQuoteService",lr.serviceName="MarketQuoteServiceStore";a();d();a();d();var ui="tradeConfigStore",yo="limitTradeFormService",Co="marketTradeFormService";a();d();a();d();var pe=class{destroy(){}hasError(){return!1}getError(){return null}async init(t){}};a();d();a();d();Qe();function uf(r){return typeof r=="number"&&Number.isFinite(r)||typeof r=="string"&&r!==""&&Number.isFinite(Number(r))}var xt=(r="")=>{let{pathname:t}=Aa(),e=r||t,[o,n]=e.split("/").slice(-2),i,s,l=!1;return uf(o)?(i=o,s=xr.chainInfo?.[i]||"",l=!!s):(s=o,i=Ta(xr.chainInfo,c=>c===s)),{chainId:i,chainName:s,tokenContractAddress:decodeURIComponent(n),needRedirect:l}};a();d();function mf(r){return new Promise(t=>setTimeout(t,r))}async function mi(r,t=3,e=0){let o;for(let n=0;n<t;n++)try{return await r()}catch(i){o=i,e&&n<t-1&&await mf(e)}throw o}function cf(r,t,e){let o=Gt();return{promise:r(t,{...e,signal:o.signal}),cancel:()=>o.abort()}}function pf(r,t,e){if(st())return cf(r,t,e);let o=new AbortController,n=o.signal;return{promise:r(t,{...e,signal:n}),cancel:()=>o.abort(),abortController:o}}function xw(r,t){return pf(oe.get,r,t)}a();d();var sn=r=>{let{chainId:t,tokenContractAddress:e}=xt();return dt({chainId:t,tokenContractAddress:e},r)},ci=r=>{let{chainId:t}=xt();return Number(r)===Number(t)};a();d();var Qt=class{constructor(){this.seq=0;this.currentKey=null;this.cancelRef=null}get key(){return this.currentKey}isSameKey(t){return this.currentKey===t}abort(){this.cancelRef&&(this.cancelRef.abort(),this.cancelRef=null)}start(t){this.abort(),this.currentKey=t;let e=++this.seq;return this.cancelRef=Gt(),{requestId:e,key:t,signal:this.cancelRef.signal}}isLatest(t,e){return t===this.seq&&e===this.currentKey}};var bo=class extends pe{constructor(){super();this.moduleName="targetToken";this.token=null;this.error=null;this.loading=!1;this.firstLoaded=!1;this.loadError=!1;this.config=null;this.request=new Qt;this.balanceRequest=new Qt;$(this,{token:B.ref,error:B.ref,loading:B,firstLoaded:B,loadError:B,config:B.ref,setToken:P.bound,setConfig:P.bound,setLoading:P.bound,setError:P.bound,updateBalance:P.bound,fetchTokenBalance:P.bound,reset:P.bound})}setToken(e){this.token=e}setConfig(e){this.config=e}setLoading(e){this.loading=e}setError(e){this.error=e}updateBalance(e){this.token&&e&&(this.token={...this.token,...e})}async fetchTokenTradeConfig(e){let{chainId:o,tokenContractAddress:n}=e,i=`${o}_${n}`,{requestId:s,signal:l}=this.request.start(i);kr(()=>{this.loading=!0});let[c,u]=await fe(mi(()=>oe.get(za,{params:{chainId:o,tokenContractAddress:n},signal:l}),3,500));if(!this.request.isLatest(s,i))return;if(c||!u?.data){Lt(c)||(ee.error(Ie.MARKET_ORDER_PLACER_STRATEGY_FETCH_ERROR,{error:c}),kr(()=>{this.config=null,this.loading=!1,this.firstLoaded=!0,this.loadError=!0,this.error=c}),ee.info(Ie.MARKET_SWAP_FETCH_CONFIG_ERROR,{data:{params:{chainId:o,tokenContractAddress:n},type:"fetchTokenTradeConfig",error:c}}));return}let{tokenInfo:m,...h}=u.data;kr(()=>{let S=sn(m);if(this.loading=!1,this.firstLoaded=!0,this.loadError=!1,this.error=null,!S){ee.error(Ie.MARKET_SWAP_TOKEN_NOT_MATCH_URL_TOKEN,{error:new Error(Ie.MARKET_SWAP_TOKEN_NOT_MATCH_URL_TOKEN),data:{params:{chainId:o,tokenContractAddress:n},type:"fetchTokenTradeConfig",urlToken:xt()}});return}this.token=m||this.token,this.config={...h,tokenInfo:m}})}async fetchTokenBalance(e){let{chainId:o,tokenContractAddress:n,userUniqueId:i,walletId:s,userWalletAddress:l}=e,c=`${o}_${n}_${s}_${l}_${i||""}`,{requestId:u,signal:m}=this.balanceRequest.start(c),[h,S]=await fe(oe.get(Ka,{params:{chainId:o,tokenAddress:n,userUniqueId:i,walletId:s,userWalletAddress:l,businessType:"1"},signal:m}));if(!this.balanceRequest.isLatest(u,c))return;if(h){Lt(h)||ee.error(Ie.MARKET_SWAP_FETCH_CONFIG_ERROR,{error:h,data:{chainId:o,tokenContractAddress:n,type:"fetchTokenBalance"}});return}let g=S?.data;!g||!sn(g)||kr(()=>{this.updateBalance({amountNum:g.amountNum,amountNumBigDecimal:g.amountNumBigDecimal})})}async init(e){let{chainId:o,tokenContractAddress:n}=e||xt();!o||!n||await this.fetchTokenTradeConfig({chainId:o,tokenContractAddress:n})}reset(){this.request.abort(),this.balanceRequest.abort(),this.token=null,this.error=null,this.loading=!1,this.firstLoaded=!1,this.loadError=!1,this.config=null}destroy(){}hasError(){return!!this.error||this.loadError}getError(){return this.error}};a();d();var vo=class extends pe{constructor(){super();this.moduleName="direction";this.direction="buy";$(this,{direction:B,setDirection:P.bound,isBuy:F,isSell:F,reset:P.bound})}setDirection(e){this.direction=e}get isBuy(){return this.direction==="buy"}get isSell(){return this.direction==="sell"}async init(){this.setDirection("buy")}reset(){this.direction="buy"}};a();d();var wo=class extends pe{constructor(){super();this.moduleName="tradeMode";$(this,{mode:B,setMode:P.bound,isMarket:F,isLimit:F,reset:P.bound})}getFromStorage(){let e=Pe.get(Ln);return e==="limit"||e==="market"?e:"market"}saveToStorage(){Pe.set(Ln,this.mode)}setMode(e){this.mode=e,this.saveToStorage()}get isMarket(){return this.mode==="market"}get isLimit(){return this.mode==="limit"}async init(e){e?this.setMode(this.getFromStorage()):this.setMode("market")}reset(){this.mode="market"}};a();d();Qe();a();d();var pi=class{constructor(){this.seq=0;this.pendingRequests=new Map}schedule(t,e,o){let n=this.pendingRequests.get(t);n&&n.abortController.abort();let i=++this.seq;return this.pendingRequests.set(t,{requestId:i,abortController:o}),e(o.signal).then(l=>{if(this.isLatest(i,t))return this.onRequestComplete(t),l;throw new Error(Xi)},l=>{throw this.isLatest(i,t)?l:new Error(Xi)})}onRequestComplete(t){this.pendingRequests.delete(t)}dispose(){Array.from(this.pendingRequests.values()).forEach(({abortController:t})=>{t.abort()}),this.pendingRequests.clear(),this.seq=0}isLatest(t,e){return this.pendingRequests.get(e)?.requestId===t}};var _f=[],Eo=class extends Zi{constructor(){super({strategy:new pi});this.moduleName="priceTokenList";this.list=_f;$(this,{...Zi.mobxAnnotations,list:B,formattedList:F,setList:P.bound,updateBalanceOverrideByAddress:P.bound,reset:P.bound})}get priceTokenLoading(){return this.getLoading()}get priceTokenError(){return this.getError()}get formattedList(){if(!Array.isArray(this.list)||!this.list.length)return[];let e=this.list.map(({currencyTokenInfo:o,currencyDefaultBuyAmountList:n})=>{let i=o.amountNum,s=o.amountNumBigDecimal;return{...o,amountNum:i,amountNumBigDecimal:s,currencyDefaultBuyAmountList:n,balance:i}}).filter(o=>!sn(o));return e.length?ka(e,o=>Number(o.currencyAmount),"desc"):[]}setList(e){this.list=e}updateBalanceOverrideByAddress(e){if(!Number(e.chainId))return;let{coinAmountOriginalDec:n,coinAmountDec:i}=e,s={amountNum:n,amountNumBigDecimal:i},l=this.list.findIndex(c=>{let u=c.currencyTokenInfo;return dt(e,u)});if(l>=0){let c=this.list[l],u=c.currencyTokenInfo,m=[...this.list],h={...c,currencyTokenInfo:{...u,amountNum:s.amountNum,amountNumBigDecimal:s.amountNumBigDecimal}};m[l]=h,this.setList(m)}}async doRequest(e,o){let{params:n}=e,i=await mi(()=>oe.get(Qa,{params:{...n,tradeType:1},signal:o.signal,isolate:!0}),3,500),s=i?.data?.[0]?.currencyTokenInfo?.chainId;return ci(s)?i?.data||[]:(ee.error(Ie.TOKEN_LIST_CHAIN_ID_NOT_MATCH_URL_CHAIN_ID,{error:new Error(Ie.TOKEN_LIST_CHAIN_ID_NOT_MATCH_URL_CHAIN_ID),data:{params:n,type:"fetchPriceTokenList",urlChainId:xt().chainId}}),[])}onSuccess(e){this.setList(e)}onError(e,o){ee.error(Ie.TOKEN_LIST_CHAIN_ID_NOT_MATCH_URL_CHAIN_ID,{error:new Error(Ie.TOKEN_LIST_CHAIN_ID_NOT_MATCH_URL_CHAIN_ID),data:{params:o,type:"fetchPriceTokenList",urlChainId:xt().chainId}})}async init(e){!e?.chainId||!e?.tokenContractAddress||await this.fetch({params:e})}reset(){this.dispose()}destroy(){}hasError(){return!!this.getError()}};a();d();a();d();Qe();var js="MARKET_TRADER_PRICING_TOKEN_AMOUNT_LIST_V2",Ks="MARKET_TRADER_SELL_AMOUNT_LIST_STORAGE_V2",fi=({token:r,amountList:t,storageKey:e,isSell:o=!1})=>{if(!wr(r))return;let n=Pe.get(e),i=H(r,"chainId"),s=$i(r),l=o?{[i]:t}:{[i]:{[s]:t}};Pe.set(e,no({},n,l))},_i=({token:r,storageKey:t})=>{if(!wr(r))return null;let e=Pe.get(t),o=H(r,"chainId"),n=$i(r),i=H(e,`[${o}]`);if(Array.isArray(i))return i;let s=H(i,`[${n}]`);return Array.isArray(s)?s:null};var ur=class extends pe{constructor(){super();this.moduleName="buyForm";this.selectToken=null;this.amountList=[];this.amount="";$(this,{selectToken:B.ref,amountList:B.ref,amount:B,computedInsufficientBalance:F,setSelectToken:P.bound,setAmountList:P.bound,setAmount:P.bound,updateBalance:P.bound,initAmountListFromStorage:P.bound,reset:P.bound})}get computedInsufficientBalance(){let e=this.selectToken?.amountNum,o=this.amount;return!te(e)||!te(o)?!1:new Q.BigNumber(o).gt(e)}setSelectToken(e){if(!e){this.selectToken=null;return}let o=!!this.selectToken&&dt(this.selectToken,e);this.selectToken=e,o||(this.amount="",this.initAmountListFromStorage())}setAmountList(e,o=!1){this.amountList=e,o&&this.selectToken&&fi({token:this.selectToken,amountList:e,storageKey:js,isSell:!1})}initAmountListFromStorage(){if(!wr(this.selectToken))return;let e=_i({token:this.selectToken,storageKey:js});if(Array.isArray(e)&&e.length>0){this.amountList=e;return}let o=this.selectToken?.currencyDefaultBuyAmountList;Array.isArray(o)&&o.length>0&&(this.amountList=o)}setAmount(e){this.amount=e}updateBalance(e){this.selectToken&&e&&(this.selectToken={...this.selectToken,...e})}async init(){}reset(){this.selectToken=null,this.amountList=[],this.amount=""}};a();d();var mr=class extends pe{constructor(){super();this.moduleName="sellForm";this.selectToken=null;this.amountList=[];this.amountListSelectedIndex=-1;this.amount="";$(this,{selectToken:B.ref,amountList:B.ref,amount:B,amountListSelectedIndex:B,computedAmountListSelectedVal:F,computedInsufficientBalance:F,setSelectToken:P.bound,setAmountList:P.bound,setAmount:P.bound,setAmountListSelectedIndex:P.bound,initAmountListFromStorage:P.bound,reset:P.bound})}setSelectToken(e){if(!e){this.selectToken=null;return}let o=!!this.selectToken&&dt(this.selectToken,e);this.selectToken=e,o||(this.amount="")}setAmountListSelectedIndex(e){this.amountListSelectedIndex=e}setAmountList(e,o=!1){this.amountList=e,o&&this.selectToken&&fi({token:this.selectToken,amountList:e,storageKey:Ks,isSell:!0})}setAmount(e){this.amount=e}get computedAmountListSelectedVal(){return this.amountList[this.amountListSelectedIndex]??0}get computedInsufficientBalance(){let e=this.selectToken?.amountNum,o=this.amount;return!te(e)||!te(o)?!1:new Q.BigNumber(o).gt(e)}initAmountListFromStorage(e){if(!wr(this.selectToken))return;let o=_i({token:this.selectToken,storageKey:Ks});if(Array.isArray(o)&&o.length>0){this.amountList=o;return}e?.length>0&&(this.amountList=e.map(Number))}async init(){}reset(){this.selectToken=null,this.amountList=[],this.amount=""}};a();d();var Ao=class extends pe{constructor(){super();this.moduleName="triggerConfig";this.type="price";this.ratio="";this.inputValue="";this.value="";this.selectedIndex=-1;this.hasValueChanged=!1;this.getMarketData=null;$(this,{type:B,ratio:B,inputValue:B,value:B,selectedIndex:B,hasValueChanged:B,setType:P.bound,setRatio:P.bound,setInputValue:P.bound,setValue:P.bound,setSelectedIndex:P.bound,setHasValueChanged:P.bound,clearSelectedIndex:P.bound,setMarketDataRef:P.bound,reset:P.bound,isPrice:F,isMarketCap:F,inputPrecision:F,isValueInvalid:F,triggerPrice:F,triggerMarketCap:F,triggerPriceDiffRate:F})}setType(e){this.type=e}setRatio(e){this.ratio=e}setInputValue(e){this.inputValue=e}setValue(e){this.value=e}setSelectedIndex(e){this.selectedIndex=e}setHasValueChanged(e){this.hasValueChanged=e}clearSelectedIndex(){this.selectedIndex=-1}setMarketDataRef(e){this.getMarketData=e}get isPrice(){return this.type==="price"}get isMarketCap(){return this.type==="mcap"}get inputPrecision(){return this.isPrice?12:2}get isValueInvalid(){return!te(this.value)}get triggerPrice(){if(this.isPrice)return this.value;let e=this.getMarketData?.();return!e||!te(this.value)||!te(e.circulatingSupply)?"":Q.div(this.value,e.circulatingSupply).toString()}get triggerMarketCap(){if(this.isMarketCap)return this.value;let e=this.getMarketData?.();return!e||!te(this.value)||!te(e.circulatingSupply)?"":Q.mul(this.value,e.circulatingSupply).toString()}get triggerPriceDiffRate(){let e=this.getMarketData?.();if(!e)return mo(0);if(!te(e.price)||!te(this.triggerPrice))return mo(0);let o=Q.sub(this.triggerPrice,e.price),n=Q.mul(Q.div(o,e.price),100);return mo(n)}async init(){}reset(){this.type="price",this.ratio="",this.inputValue="",this.value="",this.selectedIndex=-1,this.hasValueChanged=!1}};a();d();var an=class extends pe{constructor(){super();this.moduleName="marketData";this.price="";this.marketCap="";this.circulatingSupply="";this.isReady=!1;$(this,{price:B,marketCap:B,circulatingSupply:B,isReady:B,setPrice:P.bound,setMarketCap:P.bound,setCirculatingSupply:P.bound,setIsReady:P.bound,updateMarketData:P.bound,reset:P.bound,isSupportMarketCap:F})}setPrice(e){this.price=e}setMarketCap(e){this.marketCap=e}setCirculatingSupply(e){this.circulatingSupply=e}setIsReady(e){this.isReady=e}updateMarketData(e){e.price!==void 0&&(this.price=e.price),e.marketCap!==void 0&&(this.marketCap=e.marketCap),e.circulatingSupply!==void 0&&(this.circulatingSupply=e.circulatingSupply)}get isSupportMarketCap(){return this.isReady?te(this.marketCap)&&te(this.circulatingSupply):!0}async init(){}reset(){this.price="",this.marketCap="",this.circulatingSupply="",this.isReady=!1}};a();d();var dn=class extends pe{constructor(){super();this.moduleName="serviceState";this.request=new Qt;this.loaded=!1;this.isLimitRegion=!1;this.preChecking=!0;this.preCheckData=null;this.error=null;$(this,{loaded:B,isLimitRegion:B,preChecking:B,preCheckData:B,error:B,isLimitRegionConfirmed:F,isNotLimitRegion:F,preCheckMsg:F,serviceState:F,computedIsLimitRegion:F,computedIsNotLimitRegion:F,computedPreCheckMsg:F,setLoaded:P.bound,setIsLimitRegion:P.bound,setPreChecking:P.bound,setPreCheckData:P.bound,setError:P.bound,updateServiceState:P.bound,tradePreCheck:P.bound,reset:P.bound})}get isLimitRegionConfirmed(){return this.loaded&&this.isLimitRegion}get isNotLimitRegion(){return this.loaded&&!this.isLimitRegion}get preCheckMsg(){return!this.preChecking&&this.preCheckData&&this.preCheckData.status!==0&&this.preCheckData.msg||""}get serviceState(){return{loaded:this.loaded,isLimitRegion:this.isLimitRegion}}get computedIsLimitRegion(){return this.isLimitRegionConfirmed}get computedIsNotLimitRegion(){return this.isNotLimitRegion}get computedPreCheckMsg(){return this.preCheckMsg}setLoaded(e){this.loaded=e}setIsLimitRegion(e){this.isLimitRegion=e}setPreChecking(e){this.preChecking=e}setPreCheckData(e){this.preCheckData=e}setError(e){this.error=e}updateServiceState(e){e.loaded!==void 0&&(this.loaded=e.loaded),e.isLimitRegion!==void 0&&(this.isLimitRegion=e.isLimitRegion)}async tradePreCheck(e){this.preCheckData||(this.preChecking=!0);let o=`${e.chainId||""}_${e.userWalletAddress||""}`,{requestId:n,signal:i}=this.request.start(o),[s,l]=await fe(Hd(e,{signal:i}));!this.request.isLatest(n,o)||kr(()=>{this.preChecking=!1,!s&&l?.data&&(this.preCheckData=l.data,this.error=null),Lt(s)||(this.error=s)})}async init(e){await this.tradePreCheck({chainId:xt().chainId,userWalletAddress:e})}reset(){this.request.abort(),this.loaded=!1,this.isLimitRegion=!1,this.preChecking=!0,this.preCheckData=null,this.error=null}destroy(){this.request.abort()}hasError(){return!!this.error}getError(){return this.error}};a();d();var ln=class extends pe{constructor(){super();this.moduleName="tokenPairRate";this.tokenRateExpanded=!1;$(this,{tokenRateExpanded:B,setTokenRateExpanded:P.bound,reset:P.bound})}setTokenRateExpanded(e){this.tokenRateExpanded=e}async init(){this.tokenRateExpanded=!1}reset(){this.tokenRateExpanded=!1}};a();d();Qe();a();d();Qe();a();d();var gi=(e=>(e[e.TP=1]="TP",e[e.SL=2]="SL",e))(gi||{});var Do={[1]:{type:1,label:"swaptrade_tee_tag_take_profit",icon:"okx-defi-marketplace-pointer-up",params:[{name:"changeScale",label:"swaptrade_tee_input_tp",icon:"okx-defi-marketplace-pointer-up",suffix:"%",min:1,max:1e6,precision:0,checkParam:r=>{let t=H(r,"changeScale");return new Q.BigNumber(t).gte(1)&&new Q.BigNumber(t).lte(1e6)}},{name:"sellScale",label:"commonall_enterfield_title_sell",suffix:"%",min:1,max:100,precision:0,checkParam:r=>{let t=H(r,"sellScale");return new Q.BigNumber(t).gte(1)&&new Q.BigNumber(t).lte(100)}}],formatParams:r=>{let{type:t,values:e}=r,{changeScale:o,sellScale:n}=e;return{sellType:t,changeScale:new Q.BigNumber(o).abs().toString(),sellScale:new Q.BigNumber(n).abs().toString()}}},[2]:{type:2,label:"swaptrade_tee_tag_stop_loss",icon:"okx-defi-marketplace-pointer-down",params:[{name:"changeScale",label:"swaptrade_tee_input_sl",icon:"okx-defi-marketplace-pointer-down",suffix:"%",min:-99,max:-1,precision:0,isNegative:!0,checkParam:r=>{let t=H(r,"changeScale");return new Q.BigNumber(t).gte(-99)&&new Q.BigNumber(t).lte(-1)}},{name:"sellScale",label:"commonall_enterfield_title_sell",suffix:"%",min:1,max:100,precision:0,checkParam:r=>{let t=H(r,"sellScale");return new Q.BigNumber(t).gte(1)&&new Q.BigNumber(t).lte(100)}}],formatParams:r=>{let{type:t,values:e}=r,{changeScale:o,sellScale:n}=e;return{sellType:t,changeScale:new Q.BigNumber(o).abs().toString(),sellScale:new Q.BigNumber(n).abs().toString()}}}};a();d();Qe();a();d();var wm=r=>gi[r.type]?Do[r.type].params?Cn(r.values)?Do[r.type].params.every(t=>t.checkParam(r.values)):!1:!0:!1;a();d();a();d();var un=7*24*60*60*1e3;function mn(r=un){let t=new Date,e=t.toISOString(),o=new Date(t.getTime()+Number(r)),n=o.toISOString(),i=o.getTime();return{createdAt:e,expireTimestamp:n,timestamp:i}}var Em=({chainId:r,walletAddress:t,fromTokenAddress:e,toTokenAddress:o,fromAmount:n,minReturnAmount:i,referrerAddress:s,referrerCode:l,expireMs:c=un})=>{let{createdAt:u,expireTimestamp:m,timestamp:h}=mn(c);return s?`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"Swap"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Referrer Address: ${s}
Referrer Code: ${l}
Timestamp: ${h}`:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"Swap"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Timestamp: ${h}`},Am=({chainId:r,walletAddress:t,fromTokenAddress:e,toTokenAddress:o,fromAmount:n,minReturnAmount:i,referrerAddress:s,referrerCode:l,expireMs:c=un})=>{let{createdAt:u,expireTimestamp:m,timestamp:h}=mn(c);return s?{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"SwapAndAutoSell"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Referrer Address: ${s}
Referrer Code: ${l}
Timestamp: ${h}`,timestamp:h}:{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"SwapAndAutoSell"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Timestamp: ${h}`,timestamp:h}},Dm=({chainId:r,walletAddress:t,fromTokenAddress:e,toTokenAddress:o,fromAmount:n,minReturnAmount:i,referrerAddress:s,referrerCode:l,expireMs:c=un})=>{let{createdAt:u,expireTimestamp:m,timestamp:h}=mn(c);return{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"LimitOrderClassic"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Referrer Address: ${s}
Referrer Code: ${l}
Timestamp: ${h}`,timestamp:h}},Om=({chainId:r,walletAddress:t,fromTokenAddress:e,toTokenAddress:o,fromAmount:n,referrerAddress:i,referrerCode:s,expireMs:l=un})=>{let{createdAt:c,expireTimestamp:u,timestamp:m}=mn(l);return i?{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"LimitOrderUbased"}
Recipient: ${t}
Created At: ${c}
Expired At: ${u}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Referrer Address: ${i}
Referrer Code: ${s}
Timestamp: ${m}`,timestamp:m}:{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"LimitOrderUbased"}
Recipient: ${t}
Created At: ${c}
Expired At: ${u}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Timestamp: ${m}`,timestamp:m}};var Lm=({chainId:r,walletAddress:t,timeDuration:e,expireTime:o,isEdit:n,referrerAddress:i,referralCode:s})=>{let l=o?new Date(o):"",{createdAt:c,timestamp:u,expireTimestamp:m}=mn(e),h=l?l.toISOString():m,S=l?l.getTime():u,g=n?p("swaptrade_copytrade_data_sign_info_edit"):p("swaptrade_copytrade_data_sign_info"),I=i?`
Referrer Address: ${i}`:"",C=s?`
Referrer Code: ${s}`:"";return{signMsg:`${g}

Chain Index: ${r}
Strategy Type: ${"CopyTrade"}
Recipient: ${t}
Created At: ${c}
Expired At: ${h}${I}${C}
Timestamp: ${S}`,expireTimestamp:S}};async function $s(r){return await kd()||r}async function hf(r,t){let{isSilent:e=!1}=t,o=Em(r),n=await ft.signMessage({chainId:Number(r.chainId),message:o},{isSilent:e});return{signMsg:o,signature:n}}async function Tf(r,t){let{isSilent:e=!1}=t,{signMsg:o,timestamp:n}=Am(r),i=await ft.signMessage({chainId:Number(r.chainId),message:o},{isSilent:e});return{signMsg:o,signature:i,timestamp:n}}async function Sf(r,t){let{isSilent:e=!1}=t,{signMsg:o,timestamp:n}=Dm(r),i=await $s(e),s=await ft.signMessage({chainId:Number(r.chainId),message:o},{isSilent:i});return{signMsg:o,signature:s,timestamp:n}}async function If(r,t){let{isSilent:e=!1}=t,{signMsg:o,timestamp:n}=Om(r),i=await $s(e),s=await ft.signMessage({chainId:Number(r.chainId),message:o},{isSilent:i});return{signMsg:o,signature:s,timestamp:n}}async function kf(r){if(!await Rn(Number(r.chainId)))return Promise.reject(new Error("Switch network failed"));let e=await Sd(),{currentWalletId:o,currentAccount:{tee:n}}=e,{isSilent:i=!1,chainId:s,walletAddress:l,timeDuration:c,expireTime:u,isEdit:m=!1,referralCode:h,referrerAddress:S}=r,g=await $s(i),{signMsg:I,expireTimestamp:C}=Lm({walletAddress:l,chainId:s,timeDuration:c,expireTime:u,isEdit:m,referralCode:h,referrerAddress:S}),y=await ft.signMessage({chainId:s,message:I},{isSilent:g});return{signMsg:I,signature:y,accountId:o,address:l,chainId:s?.toString(),teeId:n.id,referrerAddress:S,referralCode:h,command:"CopyTrade",expireTimestamp:C}}var lD={["Swap"]:hf,["SwapAndAutoSell"]:Tf,["LimitOrderClassic"]:Sf,["LimitOrderUbased"]:If,["CopyTrade"]:kf};var Nm="market_sell_auto_sell_strategy",Pm=()=>{let r=Pe.get(Nm);return Array.isArray(r)?r.filter(t=>wm(t)):[]},Rm=r=>Do[r.type].params?Object.values(r.values).every(t=>!nt(t)):!0,cn=class extends pe{constructor(){super();this.moduleName="marketAutoSell";this.isAutoSellChecked=!1;this.strategies=Pm();$(this,{isAutoSellChecked:B,strategies:B.ref,computedCanAddStrategy:F,computedIsStrategyValid:F,computedHasEffectiveStrategy:F,computedIntentionType:F,computedStrategyErrors:F,computedInputErrorNumber:F,computedValidStrategies:F,computedTpSlRules:F,setIsAutoSellChecked:P.bound,setStrategies:P.bound,reset:P.bound})}setIsAutoSellChecked(e){this.isAutoSellChecked=e}setStrategies(e){this.strategies=e,Pe.set(Nm,e)}get computedCanAddStrategy(){return this.strategies.length<5}get computedIsStrategyValid(){let e=this.strategies.every(({values:o})=>{let n=Object.values(o).every(s=>!nt(s)),i=Object.values(o).every(s=>nt(s));return n||i});return!this.isAutoSellChecked||e}get computedHasEffectiveStrategy(){return this.strategies.some(e=>Rm(e))}get computedIntentionType(){return this.isAutoSellChecked?this.computedHasEffectiveStrategy?"SwapAndAutoSell":"Swap":"Swap"}get computedStrategyErrors(){return this.strategies.reduce((e,{values:o,id:n})=>{let i=Object.values(o).every(l=>!nt(l)),s=Object.values(o).every(l=>nt(l));return e[n]=Object.entries(o).reduce((l,[c,u])=>({...l,[c]:i||s?!1:nt(u)}),{}),e},{})}get computedInputErrorNumber(){return Object.values(this.computedStrategyErrors).reduce((e,o)=>e+Object.values(o).filter(n=>n===!0).length,0)}get computedValidStrategies(){return!this.isAutoSellChecked||!this.computedHasEffectiveStrategy?[]:this.strategies.filter(e=>Rm(e))}get computedTpSlRules(){return!this.isAutoSellChecked||!this.computedHasEffectiveStrategy?null:this.computedValidStrategies.map(e=>{let{type:o}=e;return Do[o].formatParams(e)})}async init(){}reset(){this.isAutoSellChecked=!1,this.strategies=Pm()}};a();d();a();d();var Mt=class{constructor(){this.children=new Map;$(this,{reset:P.bound})}getChildren(){return Array.from(this.children.values())}addChild(t,e){this.children.set(t,e)}removeChild(t){this.children.delete(t)}getChild(t){return this.children.get(t)}hasChild(t){return this.children.has(t)}reset(){this.children.forEach(t=>t.reset())}destroy(){this.children.forEach(t=>{t.destroy?.()})}hasError(){return Array.from(this.children.values()).some(t=>t.hasError())}getError(){let t=null;return Array.from(this.children.values()).some(e=>{let o=e.getError();return o!=null?(t=o,!0):!1}),t}getAllErrors(){let t=[];return this.children.forEach((e,o)=>{let n=e.getError();n&&t.push({module:o,error:n})}),t}async initAll(t){let e=[];this.children.forEach((o,n)=>{let i=t?.[n];e.push(o.init(i))}),await Promise.all(e)}async init(t){await this.initAll(t)}};a();d();var yt=class extends Mt{constructor(){super();this.moduleName="tradeConfigStore";this.isSaMode=!1;this.targetToken=new bo,this.tradeDirection=new vo,this.tradeMode=new wo,this.priceTokenList=new Eo,this.serviceState=new dn,this.tokenPairRate=new ln,this.addChild("targetToken",this.targetToken),this.addChild("direction",this.tradeDirection),this.addChild("tradeMode",this.tradeMode),this.addChild("priceTokenList",this.priceTokenList),this.addChild("serviceState",this.serviceState),this.addChild("tokenPairRate",this.tokenPairRate),$(this,{isSaMode:B,currentToken:F,chainId:F,loading:F,error:F,init:P.bound,resetErrors:P.bound,setIsSaMode:P.bound})}async init(){await this.targetToken.init(),this.targetToken.config?.supportSingleChainSwap&&(this.tradeMode.init(this.targetToken.config?.supportLimitU),this.tokenPairRate.init())}get currentToken(){return this.targetToken.token}get chainId(){return this.targetToken.token?.chainId??null}get loading(){return this.targetToken.loading}get error(){return this.hasError()}resetErrors(){this.targetToken.setError(null)}setIsSaMode(e){this.isSaMode=e}};yt.storeId=ui,yt.storeName=ui;a();d();var Qs="marketTradeFormStore",cr=class extends Mt{constructor(){super();this.moduleName="marketTradeFormStore";this.buyForm=new ur,this.sellForm=new mr,this.autoSell=new cn,this.addChild("buyForm",this.buyForm),this.addChild("sellForm",this.sellForm),this.addChild("autoSell",this.autoSell),$(this,{buyForm:B.ref,sellForm:B.ref,autoSell:B.ref})}async init(){}};cr.storeId=Qs,cr.storeName=Qs;a();d();a();d();var Mm="INITIAL_SELECTED_TOKEN",Fm=({chainId:r,storageKey:t}={})=>{let e=Pe.get(Mm)||{};return r&&t?e?.[r]?.[t]||"":e},Oo=({chainId:r,tokenAddress:t,storageKey:e})=>{let o=Fm();o[r]||(o[r]={}),o[r][e]=t,Pe.set(Mm,o)};var Lo=({chainId:r,storageKey:t,tokenList:e})=>{if(!e||e.length===0)return null;let o=Fm({chainId:r,storageKey:t});if(!o){let l=e[0];if(!l)return null;let c=l.tokenContractAddress;return c&&Oo({chainId:r,tokenAddress:c,storageKey:t}),l}let n=e.find(l=>l.tokenContractAddress===o);if(n)return n;let i=e[0];if(!i)return null;let s=i.tokenContractAddress;return s&&Oo({chainId:r,tokenAddress:s,storageKey:t}),i};var Po=class extends lo{constructor(e){super(e);this.serviceId=Co;this.serviceName=Co;this.tradeConfigStore=e.getStore(yt),this.tradeFormStore=e.getStore(cr),$(this,{fromToken:F,toToken:F,typedAmount:F,currentSelectToken:F,amountList:F,isTokenPairReady:F})}get isTokenPairReady(){return!(!this.fromToken||!this.toToken||!Pd(this.fromToken,this.toToken)||!ci(Number(this.fromToken?.chainId))||dt(this.fromToken,this.toToken))}get fromToken(){let{tradeDirection:e,targetToken:o}=this.tradeConfigStore;return e.isBuy?this.tradeFormStore.buyForm.selectToken:o.token}get toToken(){let{tradeDirection:e,targetToken:o}=this.tradeConfigStore;return e.isBuy?o.token:this.tradeFormStore.sellForm.selectToken}get typedAmount(){return this.tradeConfigStore.tradeDirection.isBuy?this.tradeFormStore.buyForm.amount:this.tradeFormStore.sellForm.amount}get currentSelectToken(){return this.tradeConfigStore.tradeDirection.isBuy?this.tradeFormStore.buyForm.selectToken:this.tradeFormStore.sellForm.selectToken}get amountList(){return this.tradeConfigStore.tradeDirection.isBuy?this.tradeFormStore.buyForm.amountList:this.tradeFormStore.sellForm.amountList}get autoSell(){return this.tradeFormStore.autoSell}setSelectToken(e){let{tradeDirection:o,targetToken:n}=this.tradeConfigStore,i=Number(n.token?.chainId);if(o.isBuy?this.tradeFormStore.buyForm.setSelectToken(e):this.tradeFormStore.sellForm.setSelectToken(e),i&&e.tokenContractAddress){let s=o.isBuy?"marketBuy":"marketSell";Oo({chainId:i,tokenAddress:e.tokenContractAddress,storageKey:s})}}setAmount(e){this.tradeConfigStore.tradeDirection.isBuy?this.tradeFormStore.buyForm.setAmount(e):this.tradeFormStore.sellForm.setAmount(e)}initSelectedToken(){let{priceTokenList:e,targetToken:o}=this.tradeConfigStore,n=Number(o.token?.chainId);if(!n)return;let i=e.formattedList;if(!i?.length||i[0]&&Number(i[0].chainId)!==n)return;let s=Lo({chainId:n,storageKey:"marketBuy",tokenList:i});s&&this.tradeFormStore.buyForm.setSelectToken(s);let l=Lo({chainId:n,storageKey:"marketSell",tokenList:i});l&&(this.tradeFormStore.sellForm.setSelectToken(l),this.tradeFormStore.sellForm.initAmountListFromStorage(this.tradeConfigStore.targetToken.config?.defaultSellPercentList))}};Po.serviceId=Co,Po.serviceName=Co;a();d();var zs="limitTradeFormStore",pr=class extends Mt{constructor(){super();this.moduleName="limitTradeFormStore";this.buyForm=new ur,this.sellForm=new mr,this.triggerConfig=new Ao,this.marketData=new an,this.addChild("buyForm",this.buyForm),this.addChild("sellForm",this.sellForm),this.addChild("triggerConfig",this.triggerConfig),this.addChild("marketData",this.marketData),this.triggerConfig.setMarketDataRef(()=>this.marketData),$(this,{buyForm:B.ref,sellForm:B.ref,triggerConfig:B.ref,marketData:B.ref})}async init(){}reset(){this.buyForm.reset(),this.sellForm.reset(),this.triggerConfig.reset(),this.marketData.reset()}};pr.storeId=zs,pr.storeName=zs;a();d();var fr=class extends lo{constructor(e){super(e);this.serviceId=yo;this.serviceName=yo;this.balanceLoading=!1;this.balanceRequest=new Qt;$(this,{balanceLoading:B,fromToken:F,toToken:F,fromTokenForSell:F,toTokenForSell:F,fromTokenBalance:F,fromTokenDecimals:F,fromTokenSymbol:F,typedAmount:F,currentSelectToken:F,marketPriceToTriggerPriceRate:F,amountList:F,computedIsBuy:F,computedIsLimit:F,computedIsConditionValueInValid:F,computedInsufficientBalance:F,computedTypedAmountIsValid:F,isFromTokenNonsupportChain:F,walletAddressOfFromTokenChain:F,setSelectToken:P.bound,setAmount:P.bound,initSelectedToken:P.bound,updateFromTokenBalanceByAddress:P.bound})}get buyForm(){return this.limitTradeFormStore.buyForm}get sellForm(){return this.limitTradeFormStore.sellForm}get triggerConfig(){return this.limitTradeFormStore.triggerConfig}get marketData(){return this.limitTradeFormStore.marketData}get tradeConfigStore(){let e=this.getStore(yt);if(!e)throw new Error("[LimitTradeFormServiceStore] TradeConfigStore not found in context. Make sure TradeConfigStore is registered before LimitTradeFormServiceStore.");return e}get limitTradeFormStore(){let e=this.getStore(pr);if(!e)throw new Error("[LimitTradeFormServiceStore] LimitTradeFormStore not found in context. Make sure LimitTradeFormStore is registered before LimitTradeFormServiceStore.");return e}get fromToken(){let{tradeDirection:e,targetToken:o}=this.tradeConfigStore;return e.isBuy?this.buyForm.selectToken:o.token}get walletAddressOfFromTokenChain(){let e=this.getStore(Ki);return e?.getAddressByChainId?e.getAddressByChainId(this.fromToken?.chainId):Od}get isFromTokenNonsupportChain(){if(!this.getStore(Ki).isConnectedWallet)return!1;let o=this.fromToken?.chainId;return!o||!td(o)?!1:!this.walletAddressOfFromTokenChain}get fromTokenForSell(){return this.tradeConfigStore.targetToken.token}get fromTokenBalance(){return this.fromToken?.amountNum}get fromTokenDecimals(){return this.fromToken?.decimals}get fromTokenSymbol(){return this.fromToken?.tokenSymbol}get computedIsBuy(){let{tradeDirection:e}=this.tradeConfigStore;return e.isBuy}get computedIsSell(){let{tradeDirection:e}=this.tradeConfigStore;return e.isSell}get computedIsLimit(){let{tradeMode:e}=this.tradeConfigStore;return e?.isLimit}get toToken(){let{tradeDirection:e,targetToken:o}=this.tradeConfigStore;return e.isBuy?o.token:this.sellForm.selectToken}get toTokenForSell(){return this.sellForm.selectToken}get typedAmount(){return this.tradeConfigStore.tradeDirection.isBuy?this.buyForm.amount:this.sellForm.amount}get currentSelectToken(){return this.tradeConfigStore.tradeDirection.isBuy?this.buyForm.selectToken:this.sellForm.selectToken}get amountList(){return this.tradeConfigStore.tradeDirection.isBuy?this.buyForm.amountList:this.sellForm.amountList}get computedSellPercent(){return!te(this.typedAmount)||!te(this.fromTokenBalance)||this.computedIsBuy?"":Q.floorDiv(this.typedAmount,this.fromTokenBalance,2,!1)}get marketPriceToTriggerPriceRate(){let{price:e}=this.marketData,{triggerPrice:o}=this.triggerConfig,{tradeDirection:n}=this.tradeConfigStore;return!te(e)||!te(o)?"":n.isBuy?Q.div(e,o).toString():Q.div(o,e).toString()}get computedStrategyType(){let{tradeDirection:e}=this.tradeConfigStore,{triggerPrice:o}=this.triggerConfig,{price:n}=this.marketData;return e.isBuy?new Q.BigNumber(o).gt(n)?kt.CHASE_HIGH:kt.BUY_DIP:new Q.BigNumber(o).lt(n)?kt.STOP_LOSS:kt.TAKE_PROFIT}get computedIsConditionValueInValid(){return this.triggerConfig.isValueInvalid}get computedTypedAmountIsValid(){return te(this.typedAmount)&&new Q.BigNumber(this.typedAmount).gt(0)}get computedInsufficientBalance(){return this.computedTypedAmountIsValid?new Q.BigNumber(this.typedAmount).gt(this.fromTokenBalance??0):!1}destroy(){this.balanceRequest.abort()}setSelectToken(e){let{tradeDirection:o,targetToken:n}=this.tradeConfigStore,i=Number(n.token?.chainId);if(o.isBuy?this.buyForm.setSelectToken(e):this.sellForm.setSelectToken(e),this.setAmount(""),i&&e.tokenContractAddress){let s=o.isBuy?"limitBuy":"limitSell";Oo({chainId:i,tokenAddress:e.tokenContractAddress,storageKey:s})}}setAmount(e){this.tradeConfigStore.tradeDirection.isBuy?this.buyForm.setAmount(e):this.sellForm.setAmount(e)}initSelectedToken(){let{priceTokenList:e,targetToken:o}=this.tradeConfigStore,n=Number(o.token?.chainId);if(!n)return;let i=e.formattedList;if(!i||i.length===0||i[0]&&Number(i[0].chainId)!==n)return;let s=Lo({chainId:n,storageKey:"limitBuy",tokenList:i});s&&this.buyForm.setSelectToken(s);let l=Lo({chainId:n,storageKey:"limitSell",tokenList:i});l&&(this.sellForm.setSelectToken(l),this.limitTradeFormStore.sellForm.initAmountListFromStorage(this.tradeConfigStore.targetToken.config?.defaultSellPercentList))}updateFromTokenBalanceByAddress(e){if(this.tradeConfigStore.priceTokenList.updateBalanceOverrideByAddress(e),dt(e,this.tradeConfigStore.targetToken.token)){let{coinAmountOriginalDec:o,amountNum:n,amountNumBigDecimal:i}=e,s=Number(o);this.tradeConfigStore.targetToken.updateBalance({amountNum:String(n||o),amountNumBigDecimal:i??(Number.isFinite(s)?s:void 0)})}}};fr.serviceId=yo,fr.serviceName=yo;a();d();var Bm=b(V());a();d();var Ys=class{constructor(){this.cancelRef=null;this.fetchMarketBoostInfo=async t=>{this.cancelRef&&this.cancelRef.abort(),this.cancelRef=Gt(),pt.update({loading:!0,boostVolume:"",boostWeight:""});let[e,o]=await fe(oe.post(Za,t,{signal:this.cancelRef.signal}));if(e){Lt(e)||pt.update({loading:!1,error:!0});return}pt.update({loading:!1,boostVolume:o?.data?.boostVolume,boostWeight:o?.data?.boostWeight})};this.fetchLimitBoostInfo=async t=>{this.cancelRef&&this.cancelRef.abort(),this.cancelRef=Gt(),pt.update({loading:!0,boostVolume:"",boostWeight:""});let[e,o]=await fe(oe.post(Ja,t,{signal:this.cancelRef.signal}));if(e){Lt(e)||pt.update({loading:!1,error:!0});return}pt.update({loading:!1,boostVolume:o?.data?.boostInfo?.boostVolume,boostWeight:o?.data?.boostInfo?.weighted})}}},hi=new Ys;var Um=()=>{let{accountStore:r}=Re(),t=Fn(lr),{computedGetQuoteFrom:e,computedGetQuoteTo:o,computedGetQuoteFromAmount:n,computedGetQuoteToAmount:i,computedServiceFeeInfo:s,computedIsOkxRouter:l}=t,c=r.getAddressByChainId(e.chainId);(0,Ti.useEffect)(()=>{if(!l)return;(async()=>{let m={chainId:e.chainId,fromTokenAddress:e.tokenContractAddress,toTokenAddress:o.tokenContractAddress,fromAmount:n,toAmount:i,tradeMode:$d.MARKET,userWalletAddress:c,refCode:s?.refCode};hi.fetchMarketBoostInfo(m)})()},[e.chainId,e.tokenContractAddress,n,o.tokenContractAddress,l,s?.refCode,c])},Vm=()=>{let{quoteStore:r}=fm(),t=Fn(fr),{fromToken:e,toToken:o}=t,{computedServiceFeeInfo:n,computedGetQuoteFromAmount:i,computedToTokenAmount:s}=r;(0,Ti.useEffect)(()=>{(async()=>{let c={serviceFeeInfo:n,chainId:e.chainId,fromTokenAddress:e.tokenContractAddress,toTokenAddress:o.tokenContractAddress,fromTokenAmount:i,toTokenAmount:s};hi.fetchLimitBoostInfo(c)})()},[n?.refCode,i,e?.chainId,e?.tokenContractAddress,o?.tokenContractAddress])},Wm=()=>{let{fromToStore:r,accountStore:t,quoteStore:e}=Re(),{from:o,to:n}=r,{computedIsOkxProvider:i,quote:s}=e,{bestRoute:l}=s,c=l?.serviceFeeInfo?.refCode,u=t.getAddressByChainId(o.chainId);(0,Ti.useEffect)(()=>{if(!i)return;(async()=>{let h={chainId:o.chainId,fromTokenAddress:o.tokenContractAddress,toTokenAddress:n.tokenContractAddress,fromAmount:o.amount,toAmount:n.amount,userWalletAddress:u,refCode:c};hi.fetchMarketBoostInfo(h)})()},[c,i,o.amount,o.chainId,o.tokenContractAddress,n.tokenContractAddress,u])};a();d();var pn={"boost-volume-content":"_boost-volume-content_3ndzy_1",boostVolumeContent:"_boost-volume-content_3ndzy_1","in-trade-detail":"_in-trade-detail_3ndzy_8",inTradeDetail:"_in-trade-detail_3ndzy_8","boost-weight-icon":"_boost-weight-icon_3ndzy_11",boostWeightIcon:"_boost-weight-icon_3ndzy_11"};var yf=[-2,-1,-7],Hm=({loading:r=!1,error:t=!1,boostWeight:e,boostVolume:o,inTradeDetail:n=!1,isOrderFinished:i=!1,status:s})=>{let{commonStore:{currencyConversion:l,computedNowCurrencySymbol:c}}=Re();return r?zr.default.createElement(ya.Input,{active:!0,style:{width:96,height:16}}):t||n&&yf.includes(Number(s))?ue:zr.default.createElement("div",{className:(0,Gm.default)(pn.boostVolumeContent,{[pn.inTradeDetail]:n})},te(e)&&te(o)&&zr.default.createElement(Et,{title:i?p("trade_mid_tooltip_confirmation_boost_applied"):p("trade_mid_tooltip_confirmation_est_boost_earn")},zr.default.createElement(Mi,{iconName:"okx-defi-dex-launched",size:Mi.SIZE.sm,iconClassName:pn.boostWeightIcon},mo(Q.mul(e,100),{needSign:!0,needZero:!1}))),zr.default.createElement("div",{className:pn.boostVolume},Ot(l(o||"0").toString(),c,{needPlaceholder:!0})))};var Cf={["market"]:Um,["limit"]:Vm,["swap"]:Wm},iP=Te(({type:r})=>{let t=Cf[r];return t(),zr.default.createElement(Hm,{loading:pt.loading,boostVolume:pt.boostVolume,boostWeight:pt.boostWeight,error:pt.error})}),qm=Te(Hm);a();d();var Si=b(V());var bf=({isOrderFinished:r})=>Si.default.createElement("div",{className:"color-white"},vr(r?"trade_mid_tooltip_confirmation_boost_volume":"trade_mid_tooltip_confirmation_est_boost_volume",{link:Si.default.createElement("a",{href:"https://web3.okx.com/boost/records",target:"_blank",rel:"noreferrer"},Si.default.createElement("span",{className:"color-white underline"},p("trade_mid_tooltip_confirmation_boost_volume_learn")))})),jm=bf;var vf=({orderInfo:r})=>{let{boostVolume:t,boostWeight:e,isOrderFinished:o,status:n}=r;return Ii.default.createElement(G,{label:o?p("trade_mid_confirmation_pg_boost_earned"):p("trade_mid_tooltip_confirmation_est_boost_title"),hasToolTips:!0,toolTipsText:Ii.default.createElement(jm,{isOrderFinished:o}),value:o?Ii.default.createElement(qm,{boostVolume:t,boostWeight:e,inTradeDetail:!0,isOrderFinished:!0,status:n}):ue})},ki=vf;a();d();var zt=b(V());function xi({execPrice:r,reverseExecPrice:t,execPriceEquation:e,reverseExecPriceEquation:o,isSolanaLimitOrder:n,showReverseIcon:i=!0,hasToolTips:s=!0,label:l,hidden:c=!1}){let[u,m]=(0,zt.useState)(!1);return c?null:zt.default.createElement(G,{label:l||p("swaptrade_orders_label_execution_price"),hasToolTips:s,toolTipsText:n?p("swaptrade_limit_dialog_desc_executed_price_solana"):p("swaptrade_orders_tooltips_executed_price"),value:zt.default.createElement("div",{className:"flex align-items-center content-primary"},zt.default.createElement("div",null,u?zt.default.createElement(er,{text:t,equation:o}):zt.default.createElement(er,{text:r,equation:e})),i&&zt.default.createElement(_e,{onClick:()=>{m(!u)},className:"okx-defi-dex-rate",size:16,style:{cursor:"pointer",marginLeft:8}}))})}a();d();var Km=b(V());function Ro({value:r,label:t,hidden:e}){return e?null:Km.default.createElement(G,{label:t||p("swaptrade_tee_tab_label_order_type"),value:r||"--"})}a();d();var yi=b(V()),$m=b(le());function fn({logo:r,name:t,label:e,hidden:o}){return o?null:yi.default.createElement(G,{label:e||p("swaptrade_mid_dialog_title_provider"),value:yi.default.createElement("div",{className:"flex flex-column"},yi.default.createElement(rl,{size:20,logo:r,name:t,className:(0,$m.default)("ml-4 content-primary","font-14")}))})}a();d();var _n=b(V());function Xs({chainName:r,chainLogo:t,value:e,label:o,hidden:n}){return n?null:_n.default.createElement(G,{label:o||p("swaptrade_history_label_mev_protect"),value:e?_n.default.createElement("div",{className:"flex items-center"},_n.default.createElement(uo,{alt:r,size:20,src:t}),_n.default.createElement("span",{className:"ml-4"},e)):"--"})}a();d();var Yr=b(V()),Qm=b(Wn()),Zs=b(le());function gn({originHash:r,formatHash:t,exploreUrl:e,label:o,hidden:n}){return n?null:Yr.default.createElement(G,{label:o||p("commonall_colheader_text_txn_hash"),value:Yr.default.createElement("div",{className:"flex align-items-center"},Yr.default.createElement(lt,{href:e,className:(0,Zs.default)("font-14",Y.link),handleStyle:!1},t),Yr.default.createElement(Qm.CopyToClipboard,{text:r,onCopy:()=>{At.success(p("swaptrade_order_info_label_from_copy_success"))}},Yr.default.createElement("div",{className:(0,Zs.default)("flex align-items-center",Y.iconBtn)},Yr.default.createElement(_e,{className:"okx-defi-dex-copy1",size:16}))))})}a();d();var Yt=b(V());var je={triggerRate:"triggerRate",triggerPrice:"triggerPrice",triggerPriceMarketCapacity:"triggerPriceMarketCapacity",copyTrade:"copyTrade"},wf=(r,t)=>Number(t)===203?je.copyTrade:t===tt.TEE_SA_SL_ORDER||t===tt.TEE_SA_TP_ORDER?je.triggerPrice:r?.triggerPrice&&r?.triggerMarketCapacity?je.triggerPriceMarketCapacity:r?.triggerRate?je.triggerRate:r?.triggerPrice?je.triggerPrice:"",Ef={[je.triggerRate]:"swaptrade_tee_label_trigger_rate",[je.triggerPriceMarketCapacity]:"swaptrade_tee_label_trigger_price_market_cap",[je.triggerPrice]:"swaptrade_tee_label_trigger_price",[je.copyTrade]:"swaptrade_copytrade_title_trigger_condition"};function Js({triggerInfo:r={},currencyConversion:t,computedNowCurrencySymbol:e,fromSymbol:o,toSymbol:n,orderType:i,exchangeDirection:s}){let[l,c]=(0,Yt.useState)(!1),u=wf(r,i);if(!u)return null;let m=()=>u===je.copyTrade&&Number(s)===0?p("swaptrade_copytrade_history_trigger_copy_buy"):u===je.copyTrade&&Number(s)===1?p("swaptrade_copytrade_history_trigger_copy_sell"):u===je.triggerRate?r.triggerRate?Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement("div",null,l?`1 ${n} = ${X(Q.safeDiv(1,r.triggerRate))} ${o}`:`1 ${o} = ${X(r.triggerRate)} ${n}`),Yt.default.createElement(Ve,{a11yText:"",onClick:()=>{c(!l)},className:"okx-defi-dex-rate",size:16,style:{cursor:"pointer",marginLeft:8}})):"--":u===je.triggerPriceMarketCapacity?`${r?.triggerPrice?Ot(t(r.triggerPrice).toString(),e):"--"} / ${r?.triggerMarketCapacity?Ot(t(r.triggerMarketCapacity).toString(),e,{needBillionMillionUnit:!0}):"--"}`:u===je.triggerPrice?r?.triggerPrice?Ot(t(r?.triggerPrice).toString(),e):"--":"";return Yt.default.createElement(G,{label:p(Ef[u]),value:Yt.default.createElement("div",{className:"flex align-items-center content-primary"},m())})}a();d();var zm=b(V());function ea({txTime:r,isSuccess:t}){return!r||!t?null:zm.default.createElement(G,{label:p("swaptrade_orders_label_order_time1"),value:r})}a();d();var Ym=b(V());function hn(){return Ym.default.createElement("div",{className:si.title},p("swaptrade_tee_reminder_order_details"))}function Af({orderInfo:r}){let{networksLogo:t,networksName:e,fee:o,createTime:n,expireTime:i,originAddress:s,formatAddress:l,execPrice:c,reverseExecPrice:u,execPriceEquation:m,reverseExecPriceEquation:h,exploreUrl:S,isSolanaLimitOrder:g,latestTransactionHash:I,formattedLastedHash:C,routeSelection:y,orderTypeKey:v,strategyType:D,strategyTypeKey:M,triggerInfo:E,slippageInfo:x,transactionType:R,fromToken:O,toToken:N,swapDuration:U,limitServiceFeeInfo:q={},approveMethod:L,providerInfo:K,status:w,isSuccess:z,orderType:Z,isExecutionPriceByRate:ge,execRateEquation:he,reverseExecRateEquation:re,execRate:ie,reverseExecRate:se,txTime:De,exchangeDirection:Bt,isOrderFinished:Ue}=r,{commonStore:{currencyConversion:Oe,computedNowCurrencySymbol:Ut}}=Re(),gt=[Ne.CANCELLED,Ne.EXPIRED,Ne.COMPLETED].includes(w);return ne.default.createElement(ne.default.Fragment,null,ne.default.createElement(hn,null),ne.default.createElement(Ro,{value:p(v)}),ne.default.createElement(Ro,{value:M?p(M):"",label:p("swaptrade_order_title_limit_type"),hidden:!M||D===1}),ne.default.createElement(ar,{value:n,label:p("swaptrade_orders_label_order_time")}),Number(Z)!==203&&ne.default.createElement(ar,{label:p("swaptrade_tee_tab_label_expires_after"),value:i}),ne.default.createElement(Js,{triggerInfo:E,currencyConversion:Oe,computedNowCurrencySymbol:Ut,fromSymbol:O.tokenSymbol,toSymbol:N.tokenSymbol,orderType:Z,exchangeDirection:Bt}),ne.default.createElement(Nr,{networks:[{chainName:e,chainLogo:t}]}),ne.default.createElement(Br,{value:x?.slippageValue,isSuccess:z,slippageInfo:x}),ne.default.createElement(G,{label:p(gt?"swaptrade_orders_label_fee":"swaptrade_order_info_label_network_fee"),hasToolTips:!gt,toolTipsText:gt?"":p("swaptrade_tee_tooltip_desc_est_network_fee"),value:ne.default.createElement("div",{className:"flex align-items-center content-primary"},o)}),ne.default.createElement(Fr,{value:q?.formattedServiceFee,isEstimated:!gt}),ne.default.createElement(Xs,{chainName:e,chainLogo:t,value:y,hidden:!y}),Ue&&ne.default.createElement(ki,{orderInfo:r}),ne.default.createElement("div",{className:Y.divider}),ne.default.createElement(Hr,null),ne.default.createElement(Vr,{value:R}),ne.default.createElement(Ur,{value:U,hidden:w===Ne.SUSPENDED}),ne.default.createElement(ea,{txTime:De,isSuccess:z}),ne.default.createElement(xi,{execPrice:ie,reverseExecPrice:se,execPriceEquation:he,reverseExecPriceEquation:re,isSolanaLimitOrder:g,showReverseIcon:ie!==ue,hasToolTips:!1,label:p("swaptrade_orders_label_execution_rate")}),!ge&&ne.default.createElement(xi,{execPrice:c,reverseExecPrice:u,execPriceEquation:m,reverseExecPriceEquation:h,isSolanaLimitOrder:g,showReverseIcon:c!==ue}),ne.default.createElement(Rr,{value:L}),ne.default.createElement(fn,{logo:K?.providerLogo,name:K?.provider}),ne.default.createElement(Gr,{omittedFrom:l,from:s}),ne.default.createElement(gn,{hidden:!(S&&I),originHash:I,formatHash:C,exploreUrl:S}))}var Xm=Af;a();d();var xe=b(V());function Df({orderInfo:r}){let t=Wt(),{type:e,time:o,networks:n,networkFee:i,otherFees:s,from:l,omittedFrom:c,fromSymbol:u,toSymbol:m,fromToPrice:h,toFromPrice:S,bridgeFee:g,bridgeName:I,bridgeFeeUsd:C,hiddenOtherFee:y,exploreUrl:v,estimateBridgeFeeAmount:D,estimateBridgeFeeAmountUsd:M,orderFinishedTime:E,isIntentOrder:x,totalSlippage:R,status:O,defiPlatformInfo:N,dexGasStationFeeDetailTips:U,crossChainServiceFeeInfo:q,transactionHash:L,omittedHash:K,approveMethod:w,transactionTypeKey:z,orderTypeKey:Z,fromSwapMevInfo:ge,toSwapMevInfo:he,mevInfo:re,slippageValue:ie,isOrderFinished:se,isOKXProvider:De}=r,{isBridgeDetailFreeNetwork:Bt,bridgeNetworkFee:Ue}=oi(),Oe=r?.singleChainServiceFeeInfo||{};return xe.default.createElement(xe.default.Fragment,null,xe.default.createElement(hn,null),xe.default.createElement(Ro,{value:p(Z)}),xe.default.createElement(ar,{value:o}),xe.default.createElement(Nr,{networks:n}),xe.default.createElement(Br,{value:ie||R}),xe.default.createElement(en,{type:e,isBridgeDetailFreeNetwork:Bt,bridgeNetworkFee:Ue,hiddenOtherFee:y,networks:n,networkFee:i,bridgeFee:g,bridgeFeeUsd:C,estimateBridgeFeeAmount:D,estimateBridgeFeeAmountUsd:M,crossChainServiceFeeInfo:q,isWidget:t,otherFees:s,bridgeName:I,isEstimated:O!==k.Succeed,dexGasStationFeeDetailTips:U,isIntentOrder:x}),xe.default.createElement(Fr,{value:Oe.formattedServiceFee,isEstimated:O!==k.Succeed,hidden:!Oe.shouldDisplayServiceFee}),xe.default.createElement(Jo,{type:e,fromSwapMevInfo:ge,toSwapMevInfo:he,networks:n,mevInfo:re,label:p("swaptrade_trade_label_route_selection")}),se&&De&&xe.default.createElement(ki,{orderInfo:r}),xe.default.createElement("div",{className:Y.divider}),xe.default.createElement(Hr,null),xe.default.createElement(Vr,{value:p(z)}),xe.default.createElement(Ur,{value:E}),xe.default.createElement(tn,{type:e,fromSymbol:u,toSymbol:m,fromToPrice:h,toFromPrice:S}),xe.default.createElement(Rr,{value:w}),xe.default.createElement(fn,{logo:N?.logo,name:N?.name,hidden:!N}),xe.default.createElement(Gr,{omittedFrom:c,from:l}),xe.default.createElement(gn,{originHash:L,formatHash:K,exploreUrl:v,hidden:!v}))}var Zm=Te(Df);var Of=(r={})=>![W.SingleChain,W.GasStation,W.LimitOrder,W.MemeMode].includes(r.swapTradeType);function Lf({orderInfo:r,isLimit:t,isBridge:e}){return t?Xm:e??Of(r)?pm:Zm}function Pf({orderInfo:r,className:t,gasToken:e,isWalletEnv:o,isLimit:n,isBridge:i}){let s=Lf({orderInfo:r,isLimit:n,isBridge:i});return Ci.default.createElement("div",{className:(0,Jm.default)(t,{[Y.wallet]:o})},Ci.default.createElement("div",{className:Y.content},Ci.default.createElement(s,{orderInfo:r,gasToken:e})))}var ec=Pf;a();d();var J=b(V()),Ke=b(le());a();d();var ta=b(V()),tc=b(le());a();d();var A={wrapper:"_wrapper_nj2i6_1",item:"_item_nj2i6_15",label:"_label_nj2i6_15",last:"_last_nj2i6_19",waiting:"_waiting_nj2i6_23",token:"_token_nj2i6_26",amount:"_amount_nj2i6_34","last-succeed":"_last-succeed_nj2i6_39",lastSucceed:"_last-succeed_nj2i6_39","token-amount-content":"_token-amount-content_nj2i6_42",tokenAmountContent:"_token-amount-content_nj2i6_42",activity:"_activity_nj2i6_45","waiting-symbol":"_waiting-symbol_nj2i6_48",waitingSymbol:"_waiting-symbol_nj2i6_48","amount-info":"_amount-info_nj2i6_51",amountInfo:"_amount-info_nj2i6_51","amount-text":"_amount-text_nj2i6_54",amountText:"_amount-text_nj2i6_54","status-box":"_status-box_nj2i6_59",statusBox:"_status-box_nj2i6_59","status-overflow":"_status-overflow_nj2i6_62",statusOverflow:"_status-overflow_nj2i6_62","next-arrow":"_next-arrow_nj2i6_68",nextArrow:"_next-arrow_nj2i6_68",tip:"_tip_nj2i6_74","arrow-icon":"_arrow-icon_nj2i6_84",arrowIcon:"_arrow-icon_nj2i6_84","flex-grow-0":"_flex-grow-0_nj2i6_93",flexGrow0:"_flex-grow-0_nj2i6_93","extra-gain":"_extra-gain_nj2i6_100",extraGain:"_extra-gain_nj2i6_100","process-tip-wrapper":"_process-tip-wrapper_nj2i6_118",processTipWrapper:"_process-tip-wrapper_nj2i6_118","border-tip-wrapper":"_border-tip-wrapper_nj2i6_128",borderTipWrapper:"_border-tip-wrapper_nj2i6_128","shadow-token-box":"_shadow-token-box_nj2i6_134",shadowTokenBox:"_shadow-token-box_nj2i6_134","go-to-swap":"_go-to-swap_nj2i6_137",goToSwap:"_go-to-swap_nj2i6_137","tip-fold":"_tip-fold_nj2i6_140",tipFold:"_tip-fold_nj2i6_140",loader:"_loader_nj2i6_143","waiting-logo":"_waiting-logo_nj2i6_150",waitingLogo:"_waiting-logo_nj2i6_150","sub-status-box":"_sub-status-box_nj2i6_153",subStatusBox:"_sub-status-box_nj2i6_153","sub-status-icon":"_sub-status-icon_nj2i6_157",subStatusIcon:"_sub-status-icon_nj2i6_157","icon-rotate":"_icon-rotate_nj2i6_161",iconRotate:"_icon-rotate_nj2i6_161",rotate:"_rotate_nj2i6_1","sub-status-icon-gas-token":"_sub-status-icon-gas-token_nj2i6_169",subStatusIconGasToken:"_sub-status-icon-gas-token_nj2i6_169",s0:"_s0_nj2i6_178","token-border":"_token-border_nj2i6_186",tokenBorder:"_token-border_nj2i6_186","share-link":"_share-link_nj2i6_189",shareLink:"_share-link_nj2i6_189","chain-name":"_chain-name_nj2i6_194",chainName:"_chain-name_nj2i6_194","gas-token-wrapper":"_gas-token-wrapper_nj2i6_212",gasTokenWrapper:"_gas-token-wrapper_nj2i6_212","gas-token":"_gas-token_nj2i6_212",gasToken:"_gas-token_nj2i6_212","waiting-chain-name":"_waiting-chain-name_nj2i6_219",waitingChainName:"_waiting-chain-name_nj2i6_219",loading:"_loading_nj2i6_222","loading-text":"_loading-text_nj2i6_231",loadingText:"_loading-text_nj2i6_231",failed:"_failed_nj2i6_234","waiting-icon":"_waiting-icon_nj2i6_237",waitingIcon:"_waiting-icon_nj2i6_237","gas-token-amount":"_gas-token-amount_nj2i6_240",gasTokenAmount:"_gas-token-amount_nj2i6_240","waiting-gas-token":"_waiting-gas-token_nj2i6_244",waitingGasToken:"_waiting-gas-token_nj2i6_244","gas-token-logo":"_gas-token-logo_nj2i6_244",gasTokenLogo:"_gas-token-logo_nj2i6_244","gas-token-info":"_gas-token-info_nj2i6_247",gasTokenInfo:"_gas-token-info_nj2i6_247","gas-token-chain-name":"_gas-token-chain-name_nj2i6_250",gasTokenChainName:"_gas-token-chain-name_nj2i6_250","pending-gas-token":"_pending-gas-token_nj2i6_253",pendingGasToken:"_pending-gas-token_nj2i6_253","succeed-gas-token":"_succeed-gas-token_nj2i6_256",succeedGasToken:"_succeed-gas-token_nj2i6_256","gas-token-symbol":"_gas-token-symbol_nj2i6_260",gasTokenSymbol:"_gas-token-symbol_nj2i6_260","text-overflow":"_text-overflow_nj2i6_263",textOverflow:"_text-overflow_nj2i6_263","amount-overflow":"_amount-overflow_nj2i6_268",amountOverflow:"_amount-overflow_nj2i6_268","pending-right-state":"_pending-right-state_nj2i6_275",pendingRightState:"_pending-right-state_nj2i6_275","pending-left-content":"_pending-left-content_nj2i6_278",pendingLeftContent:"_pending-left-content_nj2i6_278",link:"_link_nj2i6_282","pending-bottom-32":"_pending-bottom-32_nj2i6_286",pendingBottom32:"_pending-bottom-32_nj2i6_286","count-down-pill":"_count-down-pill_nj2i6_289",countDownPill:"_count-down-pill_nj2i6_289","position-relative":"_position-relative_nj2i6_292",positionRelative:"_position-relative_nj2i6_292","speeding-up-content":"_speeding-up-content_nj2i6_295",speedingUpContent:"_speeding-up-content_nj2i6_295","speed-up":"_speed-up_nj2i6_299",speedUp:"_speed-up_nj2i6_299","filter-order-pill":"_filter-order-pill_nj2i6_302",filterOrderPill:"_filter-order-pill_nj2i6_302","item-wrapper":"_item-wrapper_nj2i6_306",itemWrapper:"_item-wrapper_nj2i6_306","item-wrapper-left":"_item-wrapper-left_nj2i6_309",itemWrapperLeft:"_item-wrapper-left_nj2i6_309","item-wrapper-right":"_item-wrapper-right_nj2i6_318",itemWrapperRight:"_item-wrapper-right_nj2i6_318","box-pd":"_box-pd_nj2i6_321",boxPd:"_box-pd_nj2i6_321","progress-bar":"_progress-bar_nj2i6_324",progressBar:"_progress-bar_nj2i6_324","progress-delay":"_progress-delay_nj2i6_329",progressDelay:"_progress-delay_nj2i6_329","progress-val":"_progress-val_nj2i6_332",progressVal:"_progress-val_nj2i6_332","symbol-color":"_symbol-color_nj2i6_339",symbolColor:"_symbol-color_nj2i6_339","fold-arrow":"_fold-arrow_nj2i6_342",foldArrow:"_fold-arrow_nj2i6_342","pending-left6":"_pending-left6_nj2i6_347",pendingLeft6:"_pending-left6_nj2i6_347","icon-font-centers":"_icon-font-centers_nj2i6_350",iconFontCenters:"_icon-font-centers_nj2i6_350","token-amount-big":"_token-amount-big_nj2i6_353",tokenAmountBig:"_token-amount-big_nj2i6_353","token-amount-small":"_token-amount-small_nj2i6_360",tokenAmountSmall:"_token-amount-small_nj2i6_360","token-amount-wrapper":"_token-amount-wrapper_nj2i6_367",tokenAmountWrapper:"_token-amount-wrapper_nj2i6_367"};var Rf=({isFromStart:r,exploreUrl:t,hiddenExploreUrl:e,iconClassName:o})=>{let n={className:(0,tc.default)("content-contrast",A.shareLink),handleStyle:!1};return!r&&t&&!e?ta.default.createElement(lt,{href:t,...n},ta.default.createElement(_e,{className:o||"okx-defi-web3-open-link",size:16})):null},bi=Te(Rf);a();d();var ye={wrapper:"_wrapper_1817z_1","token-group":"_token-group_1817z_15",tokenGroup:"_token-group_1817z_15","detail-text":"_detail-text_1817z_25",detailText:"_detail-text_1817z_25",fail:"_fail_1817z_31",blue:"_blue_1817z_39",item:"_item_1817z_44",green:"_green_1817z_47",img:"_img_1817z_53","dialog-info":"_dialog-info_1817z_57",dialogInfo:"_dialog-info_1817z_57","status-box":"_status-box_1817z_61",statusBox:"_status-box_1817z_61","fold-arrow":"_fold-arrow_1817z_65",foldArrow:"_fold-arrow_1817z_65","execution-history-box":"_execution-history-box_1817z_70",executionHistoryBox:"_execution-history-box_1817z_70","execution-history-title":"_execution-history-title_1817z_77",executionHistoryTitle:"_execution-history-title_1817z_77","execution-history-desc":"_execution-history-desc_1817z_83",executionHistoryDesc:"_execution-history-desc_1817z_83","execution-history-content":"_execution-history-content_1817z_90",executionHistoryContent:"_execution-history-content_1817z_90","execution-history-item":"_execution-history-item_1817z_95",executionHistoryItem:"_execution-history-item_1817z_95","execution-history-time":"_execution-history-time_1817z_103",executionHistoryTime:"_execution-history-time_1817z_103","execution-history-msg":"_execution-history-msg_1817z_106",executionHistoryMsg:"_execution-history-msg_1817z_106","execution-history-info":"_execution-history-info_1817z_112",executionHistoryInfo:"_execution-history-info_1817z_112","execution-history-icon":"_execution-history-icon_1817z_115",executionHistoryIcon:"_execution-history-icon_1817z_115"};var Nf={0:"swaptrade_max_fee_reminder_trade_successful",3016:"swaptrade_max_fee_reminder_no_quote_low_liquidity",3005:"swaptrade_tee_reminder_quoted_price_below_min",3018:"swaptrade_tee_reminder_mev_provider_error",3017:"swaptrade_tee_reminder_unable_fetch_quote",3020:"swaptrade_tee_reminder_blocklisted_address_no_trade",3019:"swaptrade_tee_reminder_risky_token_no_trade",3023:"swaptrade_tee_reminder_limit_order_expired",3007:"swaptrade_tee_reminder_signature_failed",3006:"swaptrade_tee_reminder_preexecution_error",3014:"swaptrade_tee_reminder_insuffcient_funds_fee",3013:"swaptrade_tee_reminder_insufficient_funds_wallet",3015:"swaptrade_max_fee_reminder_order_exceeds_slippage",3008:"swaptrade_max_fee_reminder_broadcast_failed",3010:"swaptrade_tee_reminder_on_chain_failed",2001:"swaptrade_max_fee_reminder_failed_to_auto_cancel",2002:"swaptrade_max_fee_reminder_order_auto_canceled",2003:"swaptrade_max_fee_reminder_failed_to_cancel_order",2004:"swaptrade_max_fee_reminder_order_canceled",2005:"swaptrade_max_fee_reminder_order_expired",2006:"swaptrade_max_fee_reminder_failed_to_edit_order",2007:"swaptrade_max_fee_reminder_order_edited",2008:"swaptrade_max_fee_reminder_trade_successful",2009:"swaptrade_max_fee_reminder_broadcast_failed",2010:"swaptrade_max_fee_reminder_order_exceeds_slippage",2011:"swaptrade_max_fee_reminder_failed_to_create_order",2012:"swaptrade_max_fee_reminder_order_created"},Mf=({orderInfo:r})=>{let{fromTokenGroupLabel:t,fromTokenGroupLabelEquation:e,fromTokenIcon:o,toTokenGroupLabel:n,toTokenGroupLabelEquation:i,toTokenIcon:s,isSuccess:l,isFailed:c,executionHistoryList:u=[],executionHistoryShowMaxNum:m=5}=r,[h,S]=(0,J.useState)(!1),g=u?.length>0;return J.default.createElement("div",{className:(0,Ke.default)(ye.wrapper)},J.default.createElement("div",{className:(0,Ke.default)("flex flex-col")},J.default.createElement("span",{className:(0,Ke.default)("font-14 mb-8")},p("swaptrade_orders_label_sell1")),J.default.createElement("div",{className:(0,Ke.default)("flex items-center",ye.tokenGroup)},J.default.createElement("img",{src:o??"",alt:"",className:(0,Ke.default)("mr-12",ye.img)}),J.default.createElement(er,{text:t,equation:e},J.default.createElement("span",{className:(0,Ke.default)("ellipsis",ye.detailText)},e?.split(" ")?.[0]," ",J.default.createElement("span",{className:"content-contrast"},e?.split(" ")?.[1]))),g&&J.default.createElement("div",{className:(0,Ke.default)("flex justify-content-end",ye.statusBox)},J.default.createElement(_e,{className:(0,Ke.default)(ye.foldArrow,{"okx-defi-dex-arrow-down":h,"okx-defi-dex-arrow-up":!h}),onClick:()=>{S(I=>!I)},size:24})))),g&&!h&&J.default.createElement("div",{className:ye.executionHistoryBox},J.default.createElement("div",{className:ye.executionHistoryTitle},p("swaptrade_max_fee_header_order_execution_history")),J.default.createElement("div",{className:ye.executionHistoryContent},J.default.createElement("div",{className:ye.executionHistoryDesc},p("swaptrade_max_fee_reminder_only_displaying_last_5",{num:Dt.formatNumber(m)})),u.map((I,C)=>{let y=I.executionTime+I.code+C;return J.default.createElement("div",{key:y,className:ye.executionHistoryItem},J.default.createElement("div",{className:ye.executionHistoryInfo},J.default.createElement("span",{className:ye.executionHistoryTime},Dt.formatDateTime(new Date(Number(I.executionTime)),{format:"yyyyMMddHHmm"})),J.default.createElement("span",{className:ye.executionHistoryMsg},p(Nf[I.code])||"")),J.default.createElement("div",{className:ye.executionHistoryIcon},J.default.createElement(bi,{exploreUrl:I.exploreUrl,hiddenExploreUrl:!I.exploreUrl})))}))),J.default.createElement("div",{className:(0,Ke.default)("flex flex-col",ye.item)},J.default.createElement("span",{className:(0,Ke.default)("font-14 mb-12")},p(l?"swaptrade_orders_label_receive":"swaptrade_tee_tab_label_est_received")),J.default.createElement("div",{className:(0,Ke.default)("flex items-center",ye.tokenGroup)},J.default.createElement("img",{src:s??"",alt:"",className:(0,Ke.default)("mr-12",ye.img)}),J.default.createElement(er,{text:n,equation:i},J.default.createElement("span",{className:(0,Ke.default)("ellipsis",{[ye.green]:l,[ye.detailText]:!l})},c?ue:J.default.createElement(J.default.Fragment,null,i?.split(" ")?.[0]," ",J.default.createElement("span",{className:"content-contrast"},i?.split(" ")?.[1])))))))},rc=Mf;a();d();var Xt=b(V()),ia=b(le());a();d();a();d();var Ct=b(V()),nc=b(Wn()),ic=b(le());a();d();var Ff=r=>String(r)==="3",Bf=r=>String(r)==="8",ra=r=>String(r)==="22",Uf=r=>Ff(r)||Bf(r)||ra(r),vi=({blockProcess:r,bridgeId:t})=>r===be.BLOCK_BRIDGE&&Uf(t);a();d();var Ae=b(V()),Ft=b(le());a();d();var Le={box:"_box_oxkj0_1","mt-12":"_mt-12_oxkj0_9",mt12:"_mt-12_oxkj0_9",content:"_content_oxkj0_12","show-less-content":"_show-less-content_oxkj0_17",showLessContent:"_show-less-content_oxkj0_17","show-more-content":"_show-more-content_oxkj0_20",showMoreContent:"_show-more-content_oxkj0_20",overview:"_overview_oxkj0_23","overview-ellipsis":"_overview-ellipsis_oxkj0_27",overviewEllipsis:"_overview-ellipsis_oxkj0_27",list:"_list_oxkj0_35","list-item":"_list-item_oxkj0_39",listItem:"_list-item_oxkj0_39","switch-btn":"_switch-btn_oxkj0_43",switchBtn:"_switch-btn_oxkj0_43","switch-btn-icon":"_switch-btn-icon_oxkj0_47",switchBtnIcon:"_switch-btn-icon_oxkj0_47","switch-btn-icon-hide":"_switch-btn-icon-hide_oxkj0_55",switchBtnIconHide:"_switch-btn-icon-hide_oxkj0_55","action-content":"_action-content_oxkj0_58",actionContent:"_action-content_oxkj0_58","action-content-icon":"_action-content-icon_oxkj0_63",actionContentIcon:"_action-content-icon_oxkj0_63","guid-url-content":"_guid-url-content_oxkj0_68",guidUrlContent:"_guid-url-content_oxkj0_68","guid-url":"_guid-url_oxkj0_68",guidUrl:"_guid-url_oxkj0_68","no-box-wrapper":"_no-box-wrapper_oxkj0_75",noBoxWrapper:"_no-box-wrapper_oxkj0_75"};a();d();var Vf=r=>{switch(r){case St.SINGLE:return"customer_support_singlechainswap";case St.CROSS_FROM_SWAP:return"customer_support_fromswap";case St.CROSS_BRIDGE_SWAP:return"customer_support_bridge";case St.CROSS_TO_SWAP:return"customer_support_toswap";default:return""}},oc=Vf;var Wf=({overview:r,detailList:t=[],hasCustomerService:e=!1,orderId:o="",subOrderType:n="",className:i="",guideUrl:s=""})=>{let[l,c]=(0,Ae.useState)(!1),[u,m]=(0,Ae.useState)(!0),h=(0,Ae.useRef)(null),{recentTransactionStore:S,accountStore:g}=Re(),I=()=>{m(!u)},C=()=>{if(Pn({wallet_address:g.computedAccountWalletAddresses,order_id:o,button_name:oc(n)}),st()){let v=p("swaptrade_function_textbtn_contact_customer_support_link");Da(v,"_blank")}else S.closeModal(),window.okGlobal?.showCS?.()};return(0,Ae.useEffect)(()=>{if(t&&t.length>0){c(!0);return}if(h?.current){let y=h.current.getBoundingClientRect().height;c(y>48)}},[r,t,h]),Ae.default.createElement("div",{className:(0,Ft.default)("flex flex-column",Le.box,Le[i])},Ae.default.createElement("div",{className:(0,Ft.default)("font-12",Le.content,u?Le.showLessContent:Le.showMoreContent)},Ae.default.createElement("p",{className:(0,Ft.default)(Le.overview,{[Le.overviewEllipsis]:u&&l}),ref:h},r),t.length>0&&!u?Ae.default.createElement("ul",{className:Le.list},t.map((y,v)=>Ae.default.createElement("li",{key:v,className:Le.listItem},y))):null),l?Ae.default.createElement(Bo,{className:(0,Ft.default)("flex align-items-center font-bold",Le.switchBtn),onClick:I},u?p("swaptrade_function_dropdown_show_more"):p("swaptrade_function_dropdown_show_less"),Ae.default.createElement(Ve,{className:(0,Ft.default)("okx-defi-dex-arrow-down-chevrons",Le.switchBtnIcon,{[Le.switchBtnIconHide]:u}),style:{fontSize:12}})):null,e?Ae.default.createElement(Bo,{className:(0,Ft.default)("flex align-items-center font-700",Le.actionContent),onClick:C},p("swaptrade_function_textbtn_contact_customer_support"),Ae.default.createElement(Ve,{className:(0,Ft.default)("okx-defi-dex-arrow-to",Le.actionContentIcon),style:{fontSize:12}})):null,!!s&&Ae.default.createElement(lt,{handleStyle:!1,href:s,className:(0,Ft.default)("flex align-items-center font-700",Le.guidUrlContent,Le.guidUrl)},p("swaptrade_general_btn_check_guide"),Ae.default.createElement(Ve,{className:(0,Ft.default)("okx-defi-dex-arrow-to",Le.actionContentIcon),style:{fontSize:12}})))},Xr=Te(Wf);a();d();var _r={link:"_link_105qk_1","a-tag":"_a-tag_105qk_1",aTag:"_a-tag_105qk_1","tip-copy":"_tip-copy_105qk_8",tipCopy:"_tip-copy_105qk_8"};var oa=({bridgeName:r="",bridgeId:t})=>{let e=p("swaptrade_bridge_reminder_desc_swft_reason",{bridge:r}),o=[];if(ra(t)){let n=p("swaptrade_bridge_reminder_desc_meson_org_address"),i=p("swaptrade_bridge_reminder_desc_meson_org_discord");o=[Ct.default.createElement("span",{className:_r.link},Ct.default.createElement(bn,{href:n,alt:r,className:_r.aTag},n)),Ct.default.createElement("span",{className:_r.link},Ct.default.createElement(bn,{href:i,alt:r,className:_r.aTag},i))]}else{let n=p("swaptrade_bridge_reminder_desc_swft_org_address"),i=p("swaptrade_bridge_reminder_desc_swft_org_email");o=[Ct.default.createElement("span",{className:_r.link},Ct.default.createElement(bn,{href:n,alt:n,className:_r.aTag},n)),Ct.default.createElement("div",null,i,Ct.default.createElement(nc.CopyToClipboard,{text:i,onCopy:()=>{At.success(p("swaptrade_order_info_label_from_copy_success"))}},Ct.default.createElement(Ve,{className:(0,ic.default)("okx-defi-dex-copy2",_r.tipCopy)})))]}return Ct.default.createElement(Xr,{overview:e,detailList:o,className:"noBoxWrapper"})};a();d();var _t=b(V()),sc=b(le());a();d();var na={alert:"_alert_1eudu_1",close:"_close_1eudu_8","customer-text":"_customer-text_1eudu_15",customerText:"_customer-text_1eudu_15"};var Gf=({visible:r,computedPendingTimingStatus:t,isWalletEnv:e,order:o})=>{let{orderId:n,specialOrderType:i,fromChainName:s,willNeedManualClaim:l,toSymbol:c}=o,{recentTransactionStore:u,accountStore:m}=Re(),h=(0,_t.useCallback)(()=>{Pn({wallet_address:m.computedAccountWalletAddresses,order_id:n,button_name:"customer_support_top"})},[m.computedAccountWalletAddresses,n]),S=(0,_t.useCallback)(()=>{h(),window.okGlobal?.showCS()},[h]),g=(0,_t.useMemo)(()=>e?{target:"_blank",href:p("swaptrade_history_link_help_center"),onClick:h}:{onClick:S},[e,h,S]),I=(0,_t.useMemo)(()=>i===Tl.FromIsBtcChain?p("swaptrade_history_text_mechanism_unique",{chain:s}):t===Er.TIMEOUT?_t.default.createElement(_t.default.Fragment,null,p(e?"swaptrade_history_reminder_customer_service":"swaptrade_mid_reminder_avoid_waiting"),"\xA0",_t.default.createElement(Ni,{type:Ni.TYPE.secondary,underline:!0,linkClassName:na.customerText,...g},p(e?"swaptrade_history_textbtn_helper":"swaptrade_mid_textbtn_customer_service"))):l===vn?p("swaptrade_bridge_reminder_you_may_close_this",{token:c}):u.computedIsGasStation?p("swaptrade_history_toast_after_swap"):p("swaptrade_history_toast_confirming_check"),[t,u.computedIsGasStation,e,g,i,s,l,c]);return r?_t.default.createElement("div",{className:(0,sc.default)(na.alert)},_t.default.createElement("p",null,I)):null},ac=Te(Gf);a();d();var No={status:"_status_omr0p_1",loader:"_loader_omr0p_1","loader-wrap":"_loader-wrap_omr0p_5",loaderWrap:"_loader-wrap_omr0p_5","cancel-btn":"_cancel-btn_omr0p_8",cancelBtn:"_cancel-btn_omr0p_8","fail-btn":"_fail-btn_omr0p_11",failBtn:"_fail-btn_omr0p_11","fail-icon":"_fail-icon_omr0p_14",failIcon:"_fail-icon_omr0p_14","fail-desc":"_fail-desc_omr0p_17",failDesc:"_fail-desc_omr0p_17","is-not-empty":"_is-not-empty_omr0p_20",isNotEmpty:"_is-not-empty_omr0p_20","fixed-btn":"_fixed-btn_omr0p_34",fixedBtn:"_fixed-btn_omr0p_34","inner-btn":"_inner-btn_omr0p_43",innerBtn:"_inner-btn_omr0p_43","header-status-wrap":"_header-status-wrap_omr0p_46",headerStatusWrap:"_header-status-wrap_omr0p_46",desc:"_desc_omr0p_58","expire-time":"_expire-time_omr0p_61",expireTime:"_expire-time_omr0p_61","expire-time-content":"_expire-time-content_omr0p_68",expireTimeContent:"_expire-time-content_omr0p_68","absolute-expire-time":"_absolute-expire-time_omr0p_72",absoluteExpireTime:"_absolute-expire-time_omr0p_72","back-icon":"_back-icon_omr0p_85",backIcon:"_back-icon_omr0p_85","top-wrapper":"_top-wrapper_omr0p_93",topWrapper:"_top-wrapper_omr0p_93","header-status-icon":"_header-status-icon_omr0p_100",headerStatusIcon:"_header-status-icon_omr0p_100"};function Hf({order:r,className:t="",isWalletEnv:e=!1,computedPendingTimingStatus:o,firstBlockProcess:n}){let{status:i,abnormalStatus:s}=r,l=[k.Waiting,k.SpeedingUp].includes(i)?k.Pending:i,[c,u]=(0,Xt.useState)(!!Pe.get(ji)),m=vi({blockProcess:n,bridgeId:r?.bridgeId}),h=(0,Xt.useMemo)(()=>m?!1:!([k.Succeed,k.PendingWithdrawn,k.Failed,k.Canceled,k.ReadyToClaim,k.Claiming].includes(l)||c),[c,l,m]),S=()=>{Pe.set(ji,"1"),u(!0)},g=(0,Xt.useMemo)(()=>{let I=null;return l===k.Pending&&s!=="-1"&&(I=Xt.default.createElement("div",{className:(0,ia.default)("font-400 font-12 line-20 content-contrast",No.statusExplain)},s==="1"&&p("swaptrade_popup_pending_desc_for_assets_safety"),s==="2"&&p("swaptrade_popup_pending_desc_transaction_volume_toolarge"))),I},[l,s]);return Xt.default.createElement("div",{className:(0,ia.default)("text-center",No.status,{[No.showAlert]:h,[No.wallet]:e,[No.isNotEmpty]:g||h},t)},g,Xt.default.createElement(ac,{isWalletEnv:e,computedPendingTimingStatus:o,visible:h,onClose:S,order:r}))}var dc=Hf;a();d();var hr=b(V()),Ic=b(le());a();d();var lc=b(V());var qf=r=>(0,lc.useMemo)(()=>[k.Waiting,k.SpeedingUp].includes(r)?k.Pending:r,[r]),uc=qf;a();d();var Be=b(V()),Zt=b(le());a();d();var Zr={box:"_box_hp1z1_1","token-logo":"_token-logo_hp1z1_4",tokenLogo:"_token-logo_hp1z1_4","token-info":"_token-info_hp1z1_10",tokenInfo:"_token-info_hp1z1_10","token-amount":"_token-amount_hp1z1_13",tokenAmount:"_token-amount_hp1z1_13","share-link":"_share-link_hp1z1_23",shareLink:"_share-link_hp1z1_23","error-info":"_error-info_hp1z1_26",errorInfo:"_error-info_hp1z1_26"};var jf=({isFromChainRefund:r,exploreUrl:t,fromTokenIcon:e,formatRefundAmount:o,refundSymbol:n,refundChain:i})=>{if(!r)return null;let s=`${o} ${n}`,l=p("swaptrade_history_notif_thirdparty_bridge_refund",{amount:o,symbol:n,chain:i});return Be.default.createElement("div",{className:(0,Zt.default)(Zr.box)},Be.default.createElement("div",{className:(0,Zt.default)("flex align-items-center justify-between")},Be.default.createElement("div",{className:(0,Zt.default)("flex align-items-center")},Be.default.createElement("div",{className:(0,Zt.default)(Zr.tokenLogo)},Be.default.createElement(co,{src:e,size:22,className:(0,Zt.default)("shrink-0",A.tokenBorder)})),Be.default.createElement("div",{className:(0,Zt.default)(Zr.tokenInfo)},Be.default.createElement(Et,{title:s,textOverflow:{text:s},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300},Be.default.createElement("div",{className:(0,Zt.default)(Zr.tokenAmount,A.amountOverflow)},Pt("+",o)," ",Be.default.createElement("span",{className:A.symbolColor},n))),Be.default.createElement("p",{className:A.chainName},i))),t&&Be.default.createElement("div",null,Be.default.createElement(lt,{href:t,className:(0,Zt.default)("content-contrast",Zr.shareLink),handleStyle:!1},Be.default.createElement(_e,{className:"okx-defi-web3-open-link",size:16})))),Be.default.createElement("div",{className:Zr.errorInfo},Be.default.createElement(Xr,{overview:l,hasCustomerService:!0})))},mc=jf;a();d();var de=b(V()),gr=b(le());var Kf=({gasToken:r,networks:t,isWalletEnv:e})=>{let o=(0,de.useRef)(null),n=(0,de.useRef)(null),i=(0,de.useRef)(null),s=(0,de.useRef)(null),[l,c]=(0,de.useState)({}),[u,m]=(0,de.useState)({}),h=(0,de.useMemo)(()=>({fontSize:14,lineHeight:"16px"}),[]),S="14px",g=(0,de.useCallback)(({expectWidth:C,rightTextWidth:y,refRightTextComputedStyle:v,refLeftTextComputedStyle:D})=>{C<y&&(v.fontSize!==S?c(h):D.fontSize!==S?(c(h),m(h)):(c({width:C,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",...h}),m(h)))},[h]),I=(0,de.useCallback)(()=>{let C=o?.current?.clientWidth,y=n?.current?.scrollWidth,v=s?.current?.scrollWidth;if(C&&y&&v){let D=C-y-73,M=window.getComputedStyle(s?.current),E=window.getComputedStyle(i?.current);g({expectWidth:D,rightTextWidth:v,refRightTextComputedStyle:M,refLeftTextComputedStyle:E})}},[g]);return(0,de.useEffect)(()=>{I()},[l.fontSize,u.fontSize,I]),r?de.default.createElement("div",{className:(0,gr.default)("flex align-items-center justify-content-between overflow-hidden",A.gasTokenWrapper)},de.default.createElement("div",{ref:o,className:(0,gr.default)("flex align-items-center",A.gasToken,{[A.pendingGasToken]:r.status===Go.Pending,[A.waitingGasToken]:r.status===Go.Waiting,[A.succeedGasToken]:r.status===Go.Succeed})},de.default.createElement(co,{src:r.logoUrl||Fa(),size:32,className:(0,gr.default)("shrink-0",A.gasTokenLogo)}),de.default.createElement("div",{ref:n,className:(0,gr.default)("flex flex-column ml-12",{truncate:e},A.gasTokenInfo,A.pendingLeftContent)},de.default.createElement("span",{ref:i,className:(0,gr.default)(A.gasTokenAmount,{truncate:e}),style:u},vr("swaptrade_confirm_transaction_text_numbersforrefuel",{value:X(r.amount),symbol:de.default.createElement("span",{className:A.gasTokenSymbol},r.symbol)})),de.default.createElement("span",{className:(0,gr.default)("font-12 content-contrast",A.label,A.gasTokenChainName)},t[1].chainName))),r.status===Go.Succeed&&de.default.createElement(lt,{href:r.exploreUrl,className:(0,gr.default)(A.subStatusIconGasToken,A.shareLink)},de.default.createElement(_e,{className:"okx-defi-web3-open-link content-contrast",size:16}))):null},cc=Kf;a();d();var j=b(V()),we=b(le());a();d();var Jr=b(V());var pc=({countDownTime:r,isLast:t})=>r&&!t?Jr.default.createElement("span",{className:A.countDownPill},An(r)):Jr.default.createElement(io.Circle,{size:io.SIZE.md,className:A.loader,loaderStyle:{borderWidth:1}}),$f=({subOrder:r,isLast:t})=>{let{countDownTime:e,status:o}=r,n={countDownTime:e,isLast:t};return o===k.Pending?Jr.default.createElement(pc,{...n}):o===k.SpeedingUp?Jr.default.createElement("div",{className:A.speedingUpContent},Jr.default.createElement("span",{className:A.speedUp},p("swaptrade_list_colored_speeding_up")),Jr.default.createElement(pc,{...n})):null},fc=$f;a();d();var bt=b(V());a();d();var Tn=b(V());a();d();var sa=b(V());Qe();a();d();var ve=r=>({amount:r?.refund?.amount,symbol:r?.refund?.symbol,chain:r?.refund?.chain}),eo=r=>({bridgeName:r?.bridgeInfo?.bridgeName}),Qf=r=>({bridge:r?.bridgeInfo?.bridgeName,token1:r?.dexBridgeShadowTokenPair?.realTokenSymbol,token2:r?.dexBridgeShadowTokenPair?.shadowTokenSymbol}),zf=()=>{let r=Wt(),t=r?"swaptrade_history_notif_returned_failed_reasons":"swaptrade_servicefee_fee_notif_deduct_network_fee";return{1:{overviewKey:"swaptrade_history_notif_broadcast_failed"},2:{overviewKey:"swaptrade_history_notif_low_network_fee"},3:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},4:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},5:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},6:{overviewKey:"swaptrade_history_notif_accelerated_or_canceled"},7:{overviewKey:"swaptrade_history_notif_increase_gas"},8:{overviewKey:"swaptrade_history_errortip_official_bridge_asset_delay",renderOverview:e=>({chain:e?.chainName,value:e?.officialBridgeTime})},9:{overviewKey:"swaptrade_sub_order_tip_refund",hasCustomerService:!0},10:{overviewKey:"swaptrade_sub_order_tip_less_than_minimum"},11:{overviewKey:"swaptrade_trade_toast_multichain",renderOverview:e=>({wrapped:e.originalTokenSymbol,native:e.symbol})},12:{overviewKey:"swaptrade_bridge_toast_order_status_lag_behind_assets"},13:{overviewKey:"swaptrade_history_modal_top_error_jito_fail"},2003:{overviewKey:"swaptrade_history_notif_3rd_bridge_changes"},2501:{overviewKey:"swaptrade_history_notif_failed_returned_exchange",renderOverview:ve},2502:{overviewKey:"swaptrade_history_notif_failed_exchange"},2503:{overviewKey:"swaptrade_history_notif_returned_blacklist",renderOverview:ve},2504:{overviewKey:"swaptrade_history_notif_blacklist"},2506:{overviewKey:"swaptrade_history_notif_failed_increasing"},2507:{overviewKey:"swaptrade_history_notif_failed_returned_increasing",renderOverview:ve},2508:{overviewKey:"swaptrade_history_notif_failed_increasing"},2513:{overviewKey:"swaptrade_history_notif_returned_insufficient_liquidity",renderOverview:ve},2514:{overviewKey:"swaptrade_history_notif_3rdbridge_insufficient_liquidity"},2515:{overviewKey:"swaptrade_history_notif_returned_delisted_token",renderOverview:ve},2516:{overviewKey:"swaptrade_history_notif_delisted_token",renderOverview:ve},2517:{overviewKey:"swaptrade_history_notif_returned_limit",renderOverview:ve},2518:{overviewKey:"swaptrade_history_notif_limit"},2519:{overviewKey:"swaptrade_history_notif_bridge_slippage_later",renderOverview:ve},2520:{overviewKey:"swaptrade_history_notif_bridge_slippage_noref"},2598:{overviewKey:"swaptrade_history_notif_thirdparty_bridge_refund",renderOverview:ve,hasCustomerService:!0},2599:{overviewKey:"swaptrade_history_notif_thirdparty_bridge",hasCustomerService:!0},3502:{overviewKey:t,renderOverview:ve,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3504:{overviewKey:r?"swaptrade_history_notif_returned_contract":"swaptrade_servicefee_notif_returned_contract",renderOverview:ve},3505:{overviewKey:r?"swaptrade_history_notif_returned_broadcast_failed":"swaptrade_servicefee_notif_returned_broadcast_failed",renderOverview:ve},3506:{overviewKey:r?"swaptrade_history_notif_returned_low_fee":"swaptrade_servicefee_notif_returned_low_fee",renderOverview:ve},3507:{overviewKey:t,renderOverview:ve,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3508:{overviewKey:t,renderOverview:ve,detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},3509:{overviewKey:t,renderOverview:ve,detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},3510:{overviewKey:"swaptrade_history_notif_returned_accelerated_canceled",renderOverview:ve},3511:{overviewKey:r?"swaptrade_history_notif_returned_insufficient":"swaptrade_servicefee_notif_returned_insufficient",renderOverview:ve},3512:{overviewKey:"swaptrade_history_notif_returned_low_gas",renderOverview:ve},3599:{overviewKey:r?"swaptrade_history_notif_returned_error":"swaptrade_servicefee_notif_returned_error",renderOverview:ve,hasCustomerService:!0},9999:{overviewKey:"swaptrade_history_notif_error_contact_support",hasCustomerService:!0},4001:{overviewKey:"swaptrade_pop_dialog_desc_intent_error_retry"},4002:{overviewKey:"swaptrade_bridge_alert_desc_bridge_process_error",renderOverview:e=>({bridge:e?.bridgeInfo?.bridgeName})},4003:{overviewKey:"swaptrade_history_notif_desc_synapse_website_swap",renderOverview:Qf,hasGuideUrl:!0},999999:{overviewKey:"swaptrade_history_modal_tips_update_balance"},2600:{overviewKey:"swaptrade_reminder_desc_debridge_refund",renderOverview:eo,hasGuideUrl:!0},2601:{overviewKey:"swaptrade_reminder_desc_wormhole_refund",renderOverview:eo,hasGuideUrl:!0},2602:{overviewKey:"swaptrade_reminder_desc_arbitrum_refund",renderOverview:e=>({...eo(e),min:e?.officialBridgeTime}),hasGuideUrl:!0},2603:{overviewKey:"swaptrade_reminder_desc_wanchain_blocklist",renderOverview:eo},2604:{overviewKey:"swaptrade_reminder_desc_wormhole_daily_limit",renderOverview:eo},2605:{overviewKey:"swaptrade_reminder_desc_wormhole_maximum_limit",renderOverview:eo},2606:{overviewKey:"swaptrade_reminder_desc_meson_liquidity",renderOverview:eo}}},_c=zf;var Yf=({errorCode:r,subOrder:t,orderId:e=""})=>{let o=H(_c(),r);if(o){let n=p(o.overviewKey,o.renderOverview?o.renderOverview(t):void 0),{subOrderType:i}=t||{},s=o.hasGuideUrl?t?.guideUrl:"",l=Array.isArray(o.detailKeyList)?o.detailKeyList.map(c=>p(c)):[];return sa.default.createElement(Xr,{overview:n,detailList:l,hasCustomerService:!!o.hasCustomerService,orderId:e,subOrderType:i,guideUrl:s})}else if(r==="3501"&&t?.dexBridgeShadowTokenPair&&t?.dexBridgeShadowTokenPairChainId)return sa.default.createElement(Xr,{overview:p("swaptrade_reminder_text_trade_convert",{bridge:t?.bridgeInfo?.bridgeName,tokensymbol:t?.dexBridgeShadowTokenPair?.shadowTokenSymbol})});return null},gc=Te(Yf);a();d();var hc=b(V()),Tc=b(le());var Xf=({isFold:r,className:t,children:e})=>hc.default.createElement("div",{className:(0,Tc.default)("font-12 flex-item",A.tip,t,{[A.tipFold]:r})},e),wi=Xf;var Zf=({isFold:r,subOrder:t={},insteadTip:e=null,orderId:o=""})=>{let n=String(t?.errorCode),i=(0,Tn.useMemo)(()=>n&&n!=="0"?Tn.default.createElement(gc,{errorCode:n,subOrder:t,orderId:o}):null,[n,t,o]);return i&&!t?.isFromStart?Tn.default.createElement(wi,{isFold:r},i):e},Ei=Zf;a();d();var rt=b(V());var Jf=({tipType:r,isFold:t=!1,subOrder:e={},isTimeOut:o=!1,fromStatus:n="",bridgeStatus:i="",tipCountDownTime:s=0,needShowErrorTip:l=!1,isOriginBridge:c,hasTimeoutTips:u,timeoutType:m,isMemeModeOrder:h=!1,isMemeTimeOut:S=!1,bridgeId:g="",bridgeName:I="",blockProcess:C=-1})=>{let{content:y,hasBorderStyle:v}=(0,rt.useMemo)(()=>{if(e.hasErrorCode)return{content:null};if(h&&S)return{content:p("swaptrade_history_modal_error_too_long")};let M=vi({blockProcess:C,bridgeId:g});if(u){if(M)return{hasBorderStyle:!0,content:rt.default.createElement(oa,{bridgeName:I,bridgeId:g})};if(m===be.SINGLE_TIPS||m===be.GAS)return{content:p("swaptrade_history_reminder_wait_patiently")};if(m===be.BRIDGE)return{content:p("swaptrade_history_reminder_crossing_assets_thx",{chain:e?.bridgeTipInfo?.toChainName||e?.toChainName,bridge:e?.bridgeTipInfo?.bridgeName||e?.bridgeOrderInfoVo?.bridgeName})}}return r===1?{content:rt.default.createElement(rt.default.Fragment,null,p(o?"swaptrade_history_reminder_exchanging_tokens_thx":"swaptrade_history_reminder_exchanging_tokens",{chain:e?.chainName,tokenSymbol1:e?.fromTokenSymbol,tokenSymbol2:e?.tipInfo?.toTokenSymbol}))}:r===2?M&&o?{hasBorderStyle:!0,content:rt.default.createElement(oa,{bridgeName:I,bridgeId:g})}:{content:rt.default.createElement(rt.default.Fragment,null,p(o?"swaptrade_history_reminder_crossing_assets_thx":"swaptrade_history_reminder_crossing_assets",{chain:e?.bridgeTipInfo?.toChainName||e?.toChainName,bridge:e?.bridgeTipInfo?.bridgeName||e?.bridgeOrderInfoVo?.bridgeName}))}:{content:null}},[r,e,o,u,m,h,S,C,g,I]),D=n===k.SpeedingUp||i===k.SpeedingUp?`[${p("swaptrade_list_colored_speeding_up")}] `:"";return y?rt.default.createElement(wi,{isFold:t,className:v&&!t?A.borderTipWrapper:A.processTipWrapper},t&&!l&&rt.default.createElement("span",{className:A.filterOrderPill},D,s!==0&&rt.default.createElement("span",null,An(s)," ")),c&&D&&rt.default.createElement("span",{className:A.filterOrderPill},D),y):null},Ai=Jf;var e_=({isOriginBridge:r=!1,expireTime:t=0,isFold:e=!1,isLast:o=!1,fromStatus:n="",bridgeStatus:i="",foldTipToastData:s={foldTipType:"",currentProcessIsTimeOut:!0,tipCountDownTime:0,filterProcessItem:{},needShowErrorTip:!1},subOrder:l={},isWalletEnv:c=!1,isShow:u=!1,hasTimeoutTips:m,timeoutType:h,orderId:S="",isMemeModeOrder:g=!1,isMemeTimeOut:I=!1,bridgeId:C="",bridgeName:y="",blockProcess:v})=>{if(!u)return null;let{foldTipType:D,currentProcessIsTimeOut:M,tipCountDownTime:E,filterProcessItem:x,needShowErrorTip:R,foldBlockProcess:O}=s,N=e?x:l,U={isFold:e,isWalletEnv:c,subOrder:o?l:N,orderId:S},q=l?.tipType===et.bridge?et.bridge:"",L={tipType:e?D:q,isFold:e,subOrder:o?l:N,isTimeOut:r?t<1:M,fromStatus:n,bridgeStatus:i,tipCountDownTime:E,needShowErrorTip:R,isOriginBridge:r,hasTimeoutTips:m,timeoutType:h,isMemeModeOrder:g,isMemeTimeOut:I,bridgeId:C,bridgeName:y,blockProcess:e?O:v},K=bt.default.createElement(bt.default.Fragment,null);return e?R?K=bt.default.createElement(Ei,{...U}):K=o?bt.default.createElement(Ei,{...U}):bt.default.createElement(Ai,{...L}):m?K=bt.default.createElement(Ai,{...L}):K=bt.default.createElement(bt.default.Fragment,null,bt.default.createElement(Ei,{...U,insteadTip:o?null:bt.default.createElement(Ai,{...L})})),K},aa=Te(e_);function t_({bridgeStatus:r,fromStatus:t,expireTime:e,stepCount:o,subOrdersList:n,foldTipToastData:i,subOrder:s,index:l,isParticipateActivity:c,swapTradeType:u,gasStationActivityReward:m,isFold:h,setIsFold:S,isWalletEnv:g,timeoutSubOrder:I,orderId:C,mainOrderStatus:y,isMemeModeOrder:v,isMemeTimeOut:D,bridgeId:M,bridgeName:E,fromChainRefundInfo:x,getScrollContainer:R=()=>{}}){let{key:O,status:N,exploreUrl:U,chainName:q,symbol:L,symbolLogo:K,amount:w,isFromStart:z,hiddenExploreUrl:Z,showProgressBar:ge,hasTimeoutTips:he,timeoutType:re,blockProcess:ie}=s,se=(0,j.useRef)(null),[De,Bt]=(0,j.useState)(0),Ue=o===2,Oe=N===k.Waiting,Ut=[k.Succeed,k.ReadyToClaim,k.Claiming,k.ClaimFailed].includes(N),gt=r===k.SpeedingUp,Jt=l===0,Ee=l===n.length-1,to=l===n.length-2,$e=Jt||Ee,Vt="";w&&L&&(Ee&&Ut?Vt="+":Jt&&(Vt="-"));let vt=Ue&&gt,Mo=N!==k.Pending&&N!==k.SpeedingUp||vt,ht=[k.Pending,k.Waiting].includes(y),ro=`${Pt(Vt,w)} ${L}`,Tt={isFold:h,isLast:Ee,isOriginBridge:Ue,expireTime:e,fromStatus:t,bridgeStatus:r,foldTipToastData:i,subOrder:s,isWalletEnv:g,hasTimeoutTips:he&&ht,timeoutType:re,orderId:C,isMemeModeOrder:v,isMemeTimeOut:D,bridgeId:M,bridgeName:E,blockProcess:ie};return I&&h&&ht&&(Tt.timeoutType=I.timeoutType,Tt.hasTimeoutTips=I.hasTimeoutTips,Tt.blockProcess=I.blockProcess),(0,j.useEffect)(()=>{let wt=se?.current?.getBoundingClientRect()?.width||0,oo=se?.current?.parentElement?.getBoundingClientRect()?.width||0;Bt(oo-wt-12)},[]),j.default.createElement("div",{className:(0,we.default)(A.item),key:O},Jt&&j.default.createElement("div",{className:(0,we.default)("font-14",A.label)},p("swaptrade_card_swap_label1_pay")),Ee&&j.default.createElement("div",{className:(0,we.default)("font-14",A.label,Ee&&A.last,(Oe||vt)&&A.waiting)},p("swaptrade_card_swap_label2_receive")),j.default.createElement("div",{className:(0,we.default)("flex flex-row align-top",A.itemWrapper)},j.default.createElement("div",{className:A.itemWrapperLeft},j.default.createElement(co,{src:K,size:$e?32:22,className:(0,we.default)("shrink-0",A.tokenBorder,{[A.waitingLogo]:Oe||vt&&Ee})}),ge&&!h&&j.default.createElement(j.default.Fragment,null,j.default.createElement("div",{className:A["progress-bar"]},j.default.createElement("div",{className:(0,we.default)(A["progress-val"],{[A["progress-delay"]]:l===1})}))),Ee&&x.isFromChainRefund&&j.default.createElement("div",{className:A["progress-bar"]},j.default.createElement("div",{className:(0,we.default)(A["progress-val"],{[A["progress-delay"]]:l===1}),style:{height:"calc(100% + 44px)"}}))),j.default.createElement("div",{className:(0,we.default)(A.itemWrapperRight,{[A.boxPd]:!Ee&&!to,[A.iconFontCenters]:!$e})},j.default.createElement("div",{className:(0,we.default)("flex align-items-center",{[A["position-relative"]]:!Ee&&!to})},j.default.createElement("div",{className:A.token},j.default.createElement("div",{className:(0,we.default)("flex justify-between align-items-center")},j.default.createElement("div",{className:(0,we.default)(A.amount,{[A.flexGrow0]:!(w&&L),[A.lastSucceed]:Ee&&Ut,[A.activity]:c,[A.tokenAmountBig]:$e,[A.tokenAmountSmall]:!$e})},w&&L?j.default.createElement("div",{className:(0,we.default)("flex flex-item"),style:{maxWidth:`${De}px`}},j.default.createElement(Et,{title:ro,textOverflow:{text:ro},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300,getScrollContainer:R},j.default.createElement("div",{className:(0,we.default)(A.tokenAmountWrapper,{[A.textOverflow]:!c,[A.amountOverflow]:c},c?"flex align-items-center flex-1 shrink-0":""),style:{maxWidth:`${De}px`}},j.default.createElement("span",{className:A.tokenAmountContent},Pt(Vt,w)," "),j.default.createElement("span",{className:A.symbolColor},L))),W.GasStation===u&&Ee&&c&&Ut&&j.default.createElement("div",{className:(0,we.default)("inline-flex align-items-center",A.extraGain)},j.default.createElement("div",{className:(0,we.default)("font-12")},p("swaptrade_order_tag_won_value",{percentage:Number(m.discount)*100})))):j.default.createElement(j.default.Fragment,null,!vt&&j.default.createElement(fc,{subOrder:s,isLast:Ee}),Mo&&j.default.createElement("span",{className:(0,we.default)({[A.waitingSymbol]:Oe||vt})},"--",j.default.createElement(ol,{tokenSymbol:L,className:A.symbolColor}))),u!==W.SingleChain&&u!==W.GasStation?j.default.createElement("div",{className:(0,we.default)(A.chainName,Oe&&A.waiting)},q):null),j.default.createElement("div",{ref:se,className:(0,we.default)("flex justify-content-end",A.statusBox,A.textOverflow,A.flexGrow0)},Jt&&!Ue&&j.default.createElement(_e,{className:(0,we.default)(A.foldArrow,{"okx-defi-dex-arrow-down":h,"okx-defi-dex-arrow-up":!h}),onClick:()=>{S(wt=>!wt)},size:24}),j.default.createElement(bi,{isFromStart:z,exploreUrl:U,hiddenExploreUrl:Z,index:l}))))),j.default.createElement(aa,{...Tt,isShow:!h||Ee}))),j.default.createElement(aa,{...Tt,isShow:h&&!Ee}))}var Sc=Te(t_);function r_({subOrders:r,mainOrderStatus:t,swapTradeType:e,className:o="",gasToken:n,networks:i,orderInfo:s,isWalletEnv:l=!1,expireTime:c,foldTipToast:u,bridgeStatus:m,fromStatus:h,fromChainRefundInfo:S,getScrollContainer:g}){let{gasStationActivityReward:I,orderId:C,status:y,isMemeModeOrder:v,isMemeTimeOut:D,bridgeId:M,bridgeName:E}=s,x=Number(I?.isParticipateActivity)===1,R=uc(t),[O,N]=(0,hr.useState)(R!==k.Pending),U=O?[r[0],r[r.length-1]]:r,q=r.find(L=>L.hasTimeoutTips);return hr.default.createElement("div",null,hr.default.createElement("div",{className:(0,Ic.default)(A.wrapper,{[A.wallet]:l},o)},U.map((L,K)=>hr.default.createElement(Sc,{bridgeStatus:m,fromStatus:h,key:`${L.key}_${K}`,expireTime:c,stepCount:r.length,subOrdersList:U,foldTipToastData:u,subOrder:L,index:K,isParticipateActivity:x,swapTradeType:e,gasStationActivityReward:I,isFold:O,setIsFold:N,isWalletEnv:l,timeoutSubOrder:q,orderId:C,mainOrderStatus:y,isMemeModeOrder:v,isMemeTimeOut:D,bridgeId:M,bridgeName:E,fromChainRefundInfo:S,getScrollContainer:g})),hr.default.createElement(mc,{...S}),hr.default.createElement(cc,{gasToken:n,networks:i,mainOrderStatus:t,isWalletEnv:l})))}var kc=r_;a();d();var Tr={wrapper:"_wrapper_10fve_1",abnormal:"_abnormal_10fve_10",info:"_info_10fve_18","footer-has-btn":"_footer-has-btn_10fve_21",footerHasBtn:"_footer-has-btn_10fve_21"};function da({children:r,className:t,style:e}){let o=Wt();return Ce.default.createElement("div",{className:(0,Sn.default)(Tr.wrapper,{[Tr.widgetWrapper]:o},t),style:e},Ce.default.createElement("div",{className:(0,Sn.default)(Tr.abnormal,"flex align-items-center justify-content-center")},r))}function o_({orderId:r,orderData:t,className:e,isDialog:o,onClose:n,getScrollContainer:i,strategyMode:s,orderType:l,isLimit:c,isBridge:u}){let{recentTransactionStore:m,accountStore:h}=Re(),{computedSubOrders:S,computedOrderInfo:g,expireTime:I,computedCurrentHistoryTabIsLimit:C,computedDataDetail:y,limitDetail:v,computedLimitOrderInfo:D,computedPendingTimingStatus:M,setLimitOrSwapDetail:E,setDetail:x,setLimitDetail:R,computedFoldTipToast:O,computedStepStatus:{bridgeStatus:N,fromSwapStatus:U},computedFirstTimeoutSubOrderBlockProcess:q,computedFromChainRefundInfo:L,onLimitDetailSocket:K,onStrategyDetailSocket:w}=m,z=c?v:y,{data:Z,error:ge,loading:he}=z||{},re=c??C,ie=st();(0,Ce.useEffect)(()=>(t&&E({data:t,loading:!1,error:!1},re),r&&m.updateDetail({orderId:r,strategyMode:s,orderType:l,isLimit:re,initialLimitDetail:t}),()=>{x({data:null,loading:!1,error:!1}),R({data:null,loading:!1,error:!1})}),[r,t,x,R,E,m,s,l,re]),(0,Ce.useEffect)(()=>{(Z?.status===k.ReadyToClaim||Z?.status===k.Claiming)&&al("bridge_claim")},[Z?.status]);let{detailStyle:se}=Xu();return(0,Ce.useEffect)(()=>{r&&ld({wallet_address:h.computedAccountWalletAddresses,order_id:r})},[r,h.computedAccountWalletAddresses]),il({onListenData:De=>{K(De)},onListenError:()=>{}}),sl({onListenData:De=>{w(De)},onListenError:()=>{}}),ge?Ce.default.createElement(da,{style:se},Ce.default.createElement($u,{onButtonClick:()=>{m.updateDetail({orderId:r,strategyMode:s,orderType:l})}})):he?Ce.default.createElement(da,{style:se},Ce.default.createElement(io.Circle,{type:io.TYPE.neutral})):Z?Ce.default.createElement(Ce.default.Fragment,null,o||ie||Wt()||!g&&!v?.data?null:Ce.default.createElement(zu,{onClick:n,swapOrder:g,limitOrder:v?.data}),Ce.default.createElement("div",{className:(0,Sn.default)(Tr.wrapper,e),style:se},!re&&Ce.default.createElement(dc,{order:g,expireTime:I,computedPendingTimingStatus:M,isWalletEnv:ie,isDialog:o,firstBlockProcess:q}),!re&&Ce.default.createElement(kc,{expireTime:I,mainOrderStatus:Z.status,bridgeStatus:N,fromStatus:U,foldTipToast:O,subOrders:S,className:Tr.content,swapTradeType:Z.swapTradeType,gasToken:g.gasToken,orderInfo:g,networks:g.networks,isWalletEnv:ie,fromChainRefundInfo:L,getScrollContainer:i}),re&&Ce.default.createElement(rc,{isWalletEnv:ie,orderInfo:D}),Ce.default.createElement(ec,{className:(0,Sn.default)(Tr.info,{[Tr.footerHasBtn]:[Ye.OPEN].includes(D?.status)}),isLimit:re,orderInfo:re?D:g,gasToken:re?{}:g.gasToken,isWalletEnv:ie,isBridge:u}))):Ce.default.createElement(da,{style:se},Ce.default.createElement(Zd,{description:p("swaptrade_recent_transaction_dialog_no_data_desc")}))}var YF=Te(o_);export{js as a,Ks as b,fi as c,_i as d,WT as e,GT as f,bs as g,HT as h,qT as i,Ep as j,rs as k,ms as l,zo as m,Yo as n,Xo as o,nr as p,po as q,xl as r,jn as s,ss as t,hm as u,Tm as v,li as w,ft as x,bm as y,xt as z,Fm as A,Oo as B,v_ as C,hl as D,Ht as E,is as F,Er as G,k as H,Ne as I,W as J,aI as K,mi as L,xw as M,No as N,YF as O};
//# sourceMappingURL=chunk-VHSFEXWL.js.map
