import{a as eo}from"./chunk-Q2VVUFER.js";import{b as ge}from"./chunk-6U5AQS6C.js";import{g as $,h as ae}from"./chunk-QHC2DYOH.js";import{a as oo}from"./chunk-Y4CIMEKM.js";import{a as v}from"./chunk-K6IXN25O.js";import{a as Je,d as Qe}from"./chunk-BHFRQZBI.js";import{a as $e}from"./chunk-57DLZB3H.js";import{h as Ze}from"./chunk-F2F65RJN.js";import{l as qe}from"./chunk-TQ2XASI3.js";import{a as yo}from"./chunk-VPT3GAIN.js";import{C as He,I as Xe,h as ie,ia as je,p as ze,q as Ke,y as Ye,ya as Ge}from"./chunk-22THXMTO.js";import{b as Ue}from"./chunk-UJWKDH2G.js";import{H as Ee,J as De,d as O,l as W,o as Pe,v as A}from"./chunk-AHLFMVMC.js";import{a as U}from"./chunk-3DAKLS7D.js";import{a as ue,l as Oe,s as Ve,t as We}from"./chunk-IFGNGASP.js";import{$ as Ae,$b as q,C as fe,Db as G,E as Ie,G as Ne,He as l,Ie as ne,T as te,Uc as re,aa as Me,ac as M,n as oe,qb as Be,rb as Fe,vb as Re,wb as Le,zc as _e}from"./chunk-NPJCEXXH.js";import{B as D,s as V}from"./chunk-5RLAMZDG.js";import{a as ye}from"./chunk-CBNY2XQM.js";import{a as L}from"./chunk-Q2B4R57L.js";import{b as C}from"./chunk-PJC4UBLU.js";import{$ as pe,c as ve,f as S,j as R}from"./chunk-JYNY5RZ4.js";import{f,o as r,q as n}from"./chunk-LHDKEQAM.js";r();n();var _=f(C()),to=f(yo()),Ce=f(L());pe();r();n();var B={root:"_root_tldcp_1",select:"_select_tldcp_11",body:"_body_tldcp_14",item:"_item_tldcp_17",icon:"_icon_tldcp_34",name:"_name_tldcp_38",check:"_check_tldcp_47"};var Po=({key:o,icon:e,name:t,onClick:i,checked:a})=>_.default.createElement(O,{key:o,className:B.item,onClick:i},_.default.createElement(V,{className:`${e} ${B.icon}`,style:{fontSize:32}}),_.default.createElement("span",{className:B.name},t),a?_.default.createElement(Pe.Circle,{checked:!0,className:B.check}):null),Eo=async()=>{let[o,e]=await Ne(eo({sceneType:0}));if(o)return null;let t=e.data.find(s=>ve(s.chainId)===_e.SOLANA_MAINNET)||{},i=R(t,"nativeTokenInfo.chainId",""),a=R(t,"nativeTokenInfo.tokenContractAddress","");return{chainId:i,address:a}},Do=o=>{let[e,t]=(0,_.useState)(null);return(0,_.useEffect)(()=>{e||o||Eo().then(i=>{t(i)}).catch(S)},[e,o]),e},Io=({className:o,swapClick:e,bridgeClick:t,memeClick:i})=>{let{isSm:a}=Ue(),s=(0,to.useHistory)(),[c,d]=(0,_.useState)(!1),{pathname:u,search:h}=s.location,P=u===Ae,w=u===Me,E=P||w,x=u===Be,b=u===Fe,I=Do(E),N=G(Le),X=G(Re),j=G(""),uo=G("/bridge");(0,_.useEffect)(()=>{let g=M.SWAP;b&&(g=M.BRIDGE),P&&(g=M.MEME_BUY),w&&(g=M.MEME_SELL),U.set(q,g)},[]);let go=()=>{if(U.set(q,M.MEME_BUY),E&&(i&&i(),d(!1)),x){let g=$(h),wo=R(g,"from.chainId",0),To=R(g,"from.tokenContractAddress",""),xo=R(g,"to.chainId",0),bo=R(g,"to.tokenContractAddress",""),So=wo===I?.chainId&&To===I?.address,vo=xo===I?.chainId&&bo===I?.address;So?s.replace(N+ae($(h))):vo?s.replace(X+ae($(h))):s.replace(N)}b&&s.replace(N)},Co=()=>{U.set(q,M.SWAP),e&&e(),x&&d(!1),E&&s.replace(j+ae($(h))),b&&s.replace(j)},ko=()=>{U.set(q,M.BRIDGE),t&&t(),b&&d(!1),(E||x)&&s.replace(uo)},Se=[{tab:re.MEME_SWAP,icon:"okx-defi-dex-meme-mode",name:l("swaptrade_trade_bttmsheet_option_meme"),onClick:()=>{go()},checked:E},{tab:re.SWAP,icon:"okx-defi-dex-advanced",name:l("swaptrade_trade_bttmsheet_option_advanced"),onClick:()=>{Co()},checked:x},{tab:re.BRIDGE,icon:"okx-defi-dex-bridge",name:l("swaptrade_trade_bttmsheet_option_bridge"),onClick:()=>{ko()},checked:b}],ho=Se.find(g=>g.checked);return _.default.createElement(_.default.Fragment,null,_.default.createElement(O,{className:(0,Ce.default)(o,B.root),onClick:()=>{d(!0)}},_.default.createElement("span",null,ho?.name||"--"),_.default.createElement(V,{className:(0,Ce.default)("okx-defi-dex-arrow-down-sincere",B.select),style:{fontSize:12,height:32,width:32}})),_.default.createElement(W.Action,{onClose:()=>{d(!1)},visible:c,title:l("swaptrade_trade_bttmsheet_header_select_mode"),windowStyle:{borderTopLeftRadius:a?16:6,borderTopRightRadius:a?16:6}},_.default.createElement("div",{className:B.body},Se.map(g=>_.default.createElement(Po,{key:g.tab,...g})))))},it=oe(Io);r();n();var z=f(C());pe();function mt(o){let{computedAccountId:e,walletConfig:t}=o,[i,a]=(0,z.useState)(!1),s=(0,z.useCallback)(async()=>{if(!e)return;let d=t.address?.join(",")??void 0;await ge.loadHiddenTokenConfig(e,d)},[e,t.address]),c=(0,z.useCallback)(async()=>{await ge.loadSmallAssetConfig()},[]);return(0,z.useEffect)(()=>{Promise.allSettled([c(),s()]).then(S).catch(S).finally(()=>{a(!0)})},[e]),{loaded:i}}r();n();var K=f(C()),ke=f(L());r();n();var se={wrapper:"_wrapper_1k1o5_1",desc:"_desc_1k1o5_11"};var No=({token:o,className:e,iconClassName:t,showTooltip:i,showDesc:a,iconSize:s=12})=>{let c=Number(o?.riskLevel)===4,d=(0,K.useMemo)(()=>K.default.createElement("div",{className:(0,ke.default)(se.wrapper,e)},K.default.createElement($e,{className:(0,ke.default)("okx-defi-dex-risky-svg",se.icon,t),size:s}),a?K.default.createElement("span",{className:se.desc},l("swaptrade_cefimode_alert_desc_unsafe_token")):null),[a,e,t,s]);return c?i?K.default.createElement(A,{title:l("swaptrade_cefimode_textarea_unsafe_and_malicious")},d):d:null},vt=No;r();n();var T=f(C()),le=f(L());r();n();var F={box:"_box_1sjse_1",content:"_content_1sjse_5",price:"_price_1sjse_8","medium-font-size":"_medium-font-size_1sjse_12",mediumFontSize:"_medium-font-size_1sjse_12","normal-font-size":"_normal-font-size_1sjse_15",normalFontSize:"_normal-font-size_1sjse_15"};var Wt=({fromTokenSymbol:o,toTokenSymbol:e,fromToExchangeRate:t,toFromExchangeRate:i,fromTokenPriceWithSymbol:a,fromTokenPriceWithBillionUnit:s,toTokenPriceWithSymbol:c,toTokenPriceWithBillionUnit:d,contentClassName:u="",boxClassName:h="",isMediumFontSize:P=!1})=>{let[w,E]=(0,T.useState)(!0),x=(0,T.useMemo)(()=>w?{leftSymbol:o,rightSymbol:e,exchangeRate:t}:{leftSymbol:e,rightSymbol:o,exchangeRate:i},[w,o,e,t,i]),[b,I]=(0,T.useMemo)(()=>w?[a,s]:[c,d],[w,a,s,c,d]),N=te.formatRange({leftNumber:te.formatCurrency(1,{code:x.leftSymbol,isSymbol:!1}),sign:" \u2248 ",rightNumber:te.formatCurrency(x.exchangeRate,{code:x.rightSymbol,isSymbol:!1})});return T.default.createElement("div",{className:(0,le.default)("flex",F.box,h)},T.default.createElement(oo,{value:N},T.default.createElement(O,{className:(0,le.default)("font-bold ellipsis",F.content,u,P?F.mediumFontSize:F.normalFontSize),onClick:X=>{X.stopPropagation(),E(!w)}},N)),b&&T.default.createElement(A,{title:`${b}`,noWrapper:!0,maxWidth:300},T.default.createElement("span",{className:(0,le.default)(P?F.mediumFontSize:F.normalFontSize,F.price)},`(${I})`)))};r();n();var ro=f(C());var Ht=({fromUsdPrice:o,fromAmount:e,toUsdPrice:t,toAmount:i,currencyConversionWithSymbol:a})=>(0,ro.useMemo)(()=>{let s=new ue.BigNumber(o).div(e).toString(),c=new ue.BigNumber(t).div(i).toString(),d=s?a(s,{needBillionMillionUnit:!1}):"",u=c?a(c,{needBillionMillionUnit:!1}):"",h=s?a(s,{needBillionMillionUnit:!0}):"",P=c?a(c,{needBillionMillionUnit:!0}):"";return{fromTokenPrice:s,toTokenPrice:c,fromTokenPriceWithSymbol:d,toTokenPriceWithSymbol:u,fromTokenPriceWithBillionUnit:h,toTokenPriceWithBillionUnit:P}},[o,e,t,i,a]);r();n();var Y=f(C()),so=f(L());r();n();var k=f(C()),io=f(L());r();n();var no={"button-container":"_button-container_wmrwa_1",buttonContainer:"_button-container_wmrwa_1",base:"_base_wmrwa_12","tips-container":"_tips-container_wmrwa_21",tipsContainer:"_tips-container_wmrwa_21",footer:"_footer_wmrwa_30"};var Ao=({dialogShow:o,tipsModuleShow:e,isSwapChain:t,swapChainValueDifferenceTooltip:i,crossValueDifferenceTooltipProps:a})=>{let{gasFlag:s,feeUsd:c,quote:d,computedIsFreeNetworkFee:u}=a||{},{crossChainFee:h,toToken:P,bridge:w}=d?.bestRoute||{},E=Ze(d?.bestRoute),x=()=>{if(t)return k.default.createElement(k.default.Fragment,null,k.default.createElement("p",null,l("swaptrade_card_modal_value_difference_tips")),k.default.createElement("p",null,i));let N=k.default.createElement("p",null,l(s?"swaptrade_card_modal_value_difference_details1":"swaptrade_card_modal_value_difference_tips"));if(u)return k.default.createElement(k.default.Fragment,null,N,k.default.createElement("p",null,l("swaptrade_pop_dialog_desc_value_diff_bridgeprovider")));let X=Oe(h,{needPlaceholder:!0}),j=w?.crossToToken?.tokenSymbol;return ze()||!E?k.default.createElement("p",null,Ie(l("swaptrade_servicefee_dialog_value_differ",{bridge:w?.bridgeName,value:c,amount:X,symbol:j}))):k.default.createElement("p",null,l("swaptrade_servicefee_dialog_value_diff",{bridge:w?.bridgeName,value:c,amount:X,symbol:j,toChain:P?.chainName}))},b={title:l("swaptrade_modal_title_value_diff"),mobileWidth:"328",visible:e,confirmText:l("swaptrade_card_btn_value_difference_gotit"),onConfirm:()=>{o(!1)},onClose:()=>{o(!1)}},I=k.default.createElement("div",{className:(0,io.default)(no.tipsContainer)},x());return k.default.createElement(W.Tip,{...b},I)},ao=Ao;r();n();var ce={default:"_default_hmm0n_1",down:"_down_hmm0n_9",up:"_up_hmm0n_13"};var Mo=({valueDifference:o,isSwapChain:e,crossValueDifferenceTooltipProps:t,swapChainValueDifferenceTooltip:i})=>{let[a,s]=(0,Y.useState)(!1),{diffPercent:c,diffValueType:d}=o;return Y.default.createElement("div",{className:"flex align-items-center"},d!=="hidden"&&Y.default.createElement(A,{title:i,disabled:!e||!i},Y.default.createElement(O,{"data-testid":"diff-input",className:(0,so.default)("ml-4","content-contrast","keep-ltr",ce.default,{[ce.up]:d==="up",[ce.down]:d==="down"}),onClick:()=>{He({button_name:"value_difference"}),s(!0)}},`(${c})`)),Y.default.createElement(ao,{dialogShow:u=>{s(u)},tipsModuleShow:a,isSwapChain:e,swapChainValueDifferenceTooltip:i,crossValueDifferenceTooltipProps:t}))},vr=Mo;r();n();var Z=f(C()),lo=f(L());r();n();var he={"tag-container":"_tag-container_hkskz_1",tagContainer:"_tag-container_hkskz_1","icon-container":"_icon-container_hkskz_15",iconContainer:"_icon-container_hkskz_15",icon:"_icon_hkskz_15","tag-gap":"_tag-gap_hkskz_28",tagGap:"_tag-gap_hkskz_28"};var Kr=oe(({gapLeft:o=!1,isHasSaving:e,savingValueUSD:t,skipFormat:i=!1})=>{let a=e===1,{getUsd:s}=Qe(),c=(0,Z.useMemo)(()=>i?t:s(t??"--"),[t,i,s]);return a?Z.default.createElement(A,{title:fe("swaptrade_order_mid_popup_info_card_agg_body",{value:c})},Z.default.createElement(De,{className:(0,lo.default)(he["tag-container"],o&&he["tag-gap"]),size:Ee.SIZE.sm},fe("swaptrade_order_mid_aggregator_save_amount_node",{value:c}))):null});r();n();var J=f(C()),Te=f(L());r();n();r();n();var Bo=async()=>await ie.getWalletType()===ie.walletTypeEnum.OKX_WALLET;var de=async()=>{try{return await Bo()?(await(await ie.getWalletProvider())?.requestWallets()??{})[0]?.targetWalletId??null:null}catch{return null}};var co=async({dexMode:o,tokenPair:e,originalServiceFeeRate:t,discountedServiceFeeRate:i})=>{let a=await de();Xe({wallet_id:a,referral_code:v.refCode,dex_mode:o,token_pair:e,fee_rate_before_code:t,invitee_discount:i})},mo=async({dexMode:o,tokenPair:e,originalServiceFeeRate:t,discountedServiceFeeRate:i})=>{let a=await de();je({wallet_id:a,referral_code:v.refCode,dex_mode:o,token_pair:e,fee_rate_before_code:t,invitee_discount:i})};var po=async({dexMode:o,tokenPair:e,originalServiceFeeRate:t,discountedServiceFeeRate:i,btnName:a})=>{let s=await de();Ye({wallet_id:s,referral_code:v.refCode,dex_mode:o,token_pair:e,fee_rate_before_code:t,invitee_discount:i,button_name:a})};r();n();var we={referralTag:"_referralTag_wkv6n_1",icon:"_icon_wkv6n_13"};var Fo=({className:o,dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a})=>((0,J.useEffect)(()=>{co({dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a})},[]),J.default.createElement("div",{className:(0,Te.default)(we.referralTag,o)},J.default.createElement(V,{className:(0,Te.default)(we.icon,"okx-defi-referral")}),l("swaptrade_placeorder_tag_referral"))),hn=Fo;r();n();var be=f(C());pe();r();n();var fo=o=>{if(!o)return;let t={[o.toUpperCase()]:!0};U.set(Ge,t)};r();n();var y=f(C());r();n();var H={dialogContent:"_dialogContent_1vyih_1",dialogTitle:"_dialogTitle_1vyih_7",dialogDesc:"_dialogDesc_1vyih_14",btnWrapper:"_btnWrapper_1vyih_20",refCode:"_refCode_1vyih_27"};var Ro=({titleKey:o,descKey:e,refCode:t,refInfo:i,confirmTextKey:a,cancelTextKey:s,onConfirm:c,onCancel:d})=>y.default.createElement("div",{className:H.dialogContent},y.default.createElement(ye,{width:128,height:128,src:qe(Je()?"/cdn/assets/imgs/259/71D5A4042455ED22.png":"/cdn/assets/imgs/259/ABA5EC26AEF4A0F2.png"),alt:"ref-code-stop"}),y.default.createElement("div",{className:H.dialogTitle},l(o)),y.default.createElement("div",{className:H.dialogDesc},ne(e,{code:y.default.createElement("span",{className:H.refCode},t),discountNum:y.default.createElement("span",{className:H.discountNum},We(i?.discountRate))})),y.default.createElement("div",{className:H.btnWrapper},y.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.xl,block:!0,onClick:c},l(a)),y.default.createElement(D,{category:D.CATEGORY.outline,type:D.TYPE.primary,size:D.SIZE.xl,block:!0,onClick:d},l(s)))),xe=Ro;var Lo=({onStop:o,onBtnClick:e})=>{if(!v.refInfo)return;let{refInfo:t,refCode:i}=v,a=W.show({children:be.default.createElement(xe,{titleKey:"swaptrade_placeorder_modaltitle_code_removed",descKey:"swaptrade_placeorder_modaldesc_code_removed_from_tnx",refCode:i,refInfo:t,confirmTextKey:"swaptrade_placeorder_modalbtn_no_keep_using",cancelTextKey:"swaptrade_placeorder_modalbtn_yes_stop_using",onConfirm:()=>{e("keep_using"),a.destroy()},onCancel:()=>{e("stop_using"),o?.(t),fo(i),v.clearRefInfo(i),a.destroy()}}),onClose:()=>{e("exit"),a.destroy()},width:420})},Zn=({onStop:o,dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a})=>{if(!v.refInfo)return;mo({dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a}).then(S).catch(S);let s=h=>{po({dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a,btnName:h}).then(S).catch(S)},{refCode:c,refInfo:d}=v,u=W.show({children:be.default.createElement(xe,{titleKey:"swaptrade_placeorder_modaltitle_code_applied",descKey:"swaptrade_placeorder_modaldesc_code_transaction_auto",refCode:c,refInfo:d,confirmTextKey:"commonall_text_btn_ok_active",cancelTextKey:"swaptrade_placeorder_modalbtn_dont_use",onConfirm:()=>{s("ok"),u.destroy()},onCancel:()=>{s("do_not_use_code"),u.destroy(),Lo({onStop:o,onBtnClick:s})}}),onClose:()=>{s("exit"),u.destroy()},width:420})};r();n();var ni=({specialValueRangePrompt:o,isOfflineType:e,isReferredFee:t,extendFeeConfig:i})=>{let a=o?l("swaptrade_intro_dialog_desc_single_value_diff"):l("swaptrade_card_modal_value_difference_tips1");return e?l("swaptrade_pop_dialog_desc_value_diff_cover"):t?l("swaptrade_card_dialog_price_diff",{thirdParty:Ke().iframe_referrer,value:Ve(i?.feePercent,{needZero:!1})}):a};r();n();var ee=f(C());r();n();var me=f(C());var _o=({isUp:o=!1,children:e,customClassName:t="",isZero:i=!1})=>{let a=(0,me.useMemo)(()=>i?{}:{color:o?"var(--color-up-text)":"var(--color-down-text)"},[i,o]);return me.default.createElement("span",{className:t,style:a},e)};r();n();var Q={container:"_container_17xnn_1",icon:"_icon_17xnn_10",error:"_error_17xnn_15","error-color":"_error-color_17xnn_18",errorColor:"_error-color_17xnn_18"};var Ti=({loseDiffValueTxt:o,isUp:e})=>ee.default.createElement("div",{className:Q.container},ee.default.createElement(V,{fontSize:"28px",iconName:"okds-warning-circle-fill",className:Q.icon}),ee.default.createElement("span",{className:Q.error},ne("swaptrade_valuediff_select_title_one_value",{value:ee.default.createElement(_o,{customClassName:Q.errorColor,isUp:e},o)})));export{vr as a,ni as b,vt as c,Ti as d,Kr as e,it as f,Wt as g,Ht as h,hn as i,Zn as j,mt as k};
//# sourceMappingURL=chunk-5FG6H5J6.js.map
