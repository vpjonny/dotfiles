import{a as ee}from"./chunk-Y4CIMEKM.js";import{a as B}from"./chunk-K6IXN25O.js";import{a as W}from"./chunk-4TAIYLPS.js";import{a as $}from"./chunk-IKQGQFXB.js";import{f as J,g as Z}from"./chunk-F2F65RJN.js";import{a as P}from"./chunk-TQ2XASI3.js";import{c as H}from"./chunk-VJ2JNI4M.js";import{C as Y}from"./chunk-22THXMTO.js";import{b as K}from"./chunk-UJWKDH2G.js";import{d as U,v as T}from"./chunk-AHLFMVMC.js";import{b as X}from"./chunk-JVJHSYZS.js";import{C as M}from"./chunk-IFGNGASP.js";import{T as k,eb as D,fb as F,ob as u}from"./chunk-NPJCEXXH.js";import{s as z}from"./chunk-5RLAMZDG.js";import{a as w}from"./chunk-Q2B4R57L.js";import{b as N}from"./chunk-PJC4UBLU.js";import{f as g,o as r,q as i}from"./chunk-LHDKEQAM.js";r();i();var t=g(N()),G=g(w());r();i();var q={"text-ellipsis-tooltip":"_text-ellipsis-tooltip_19pja_1",textEllipsisTooltip:"_text-ellipsis-tooltip_19pja_1","text-ellipsis-content":"_text-ellipsis-content_19pja_4",textEllipsisContent:"_text-ellipsis-content_19pja_4"};function oe({className:l,style:p,text:s,tipText:o,maxWidth:e,tooltipProps:_={},...I}){let S=u(),m=(0,t.useRef)(null),[x,f]=(0,t.useState)(!1),[n,c]=(0,t.useState)(0);(0,t.useEffect)(()=>{let d=m.current;if(!e&&d){let b=d.parentElement.parentElement;c(b?.getBoundingClientRect().width)}else c(e)},[e,s]),(0,t.useEffect)(()=>{let d=m.current;f(d&&X(d))},[s,n]);let C=(0,t.useMemo)(()=>e||!n?{maxWidth:e}:{maxWidth:n},[e,n]);return t.default.createElement(T,{disabled:!x,title:o||s,maxWidth:S?200:160,..._,prefixClassName:(0,G.default)(q.textEllipsisTooltip,_?.prefixClassName)},t.default.createElement("div",{className:(0,G.default)("truncate",q.textEllipsisContent,l),style:{...p||{},...C},ref:m,...I},s))}var fe=(0,t.memo)(oe);r();i();var a=g(N()),O=g(w());r();i();var V={box:"_box_7d4qr_1",content:"_content_7d4qr_5"};function Oe({from:l,to:p,toFromRate:s,rate:o,hideExchangeBtn:e,contentClassName:_="",iconClassName:I="",className:S="justify-end"}){let[m,x]=(0,a.useState)(!0),f=u(),n=(0,a.useMemo)(()=>m?{from:l,to:p,price:o}:{from:p,to:l,price:s},[m,l,p,s,o]),c=k.formatRange({leftNumber:k.formatCurrency(1,{code:n.from,isSymbol:!1}),sign:" \u2248 ",rightNumber:k.formatCurrency(n.price,{code:n.to,isSymbol:!1})});return a.default.createElement("div",{className:(0,O.default)("flex",S,V.box)},a.default.createElement(ee,{value:c},a.default.createElement("div",{className:(0,O.default)(f?"font-12":" font-14","font-bold ellipsis",V.content,_)},c)),!e&&a.default.createElement(U,{onClick:C=>{C.stopPropagation(),Y({button_name:"rate"}),x(!m)}},a.default.createElement(z,{"data-testid":"exchangeIcon",className:(0,O.default)("cursor-pointer okx-defi-dex-rate ml-4 content-secondary",I)})))}r();i();var A=g(N());var ze=l=>{let{fromToStore:p,accountStore:s,quoteStore:o,slippageStore:e}=H(),{from:_,to:I,computedTypedValue:S}=p,{isSm:m,isMd:x}=K(),{chainId:f,tokenContractAddress:n}=_||{},{tokenContractAddress:c}=I||{},C=(0,A.useMemo)(()=>{if(l)return o.aggregateSelectId;if(o.compareVisible)return;let R=[];return(u()||m||x)&&(R.push(D),o.aggregateSelectId!==F&&o.aggregateSelectId!==D&&R.push(o.aggregateSelectId)),M(R)},[o.compareVisible,o.aggregateSelectId,m,x,l]),{computedAccountId:d,getAddressByChainId:b,referralInfo:j}=s,v=e.getSlippageType(),L=(0,A.useMemo)(()=>({slippage:v===P.AUTO?"":e.computedRealSlippageValue,maxSlippage:v===P.AUTO?e.computedRealCustomMaxSlippage:"",slippageType:v}),[e.computedRealSlippageValue,e.computedRealCustomMaxSlippage,v]),Q=(0,A.useMemo)(()=>M(W.computeExcludedDexIds),[W.computeExcludedDexIds]);return(0,A.useMemo)(()=>({chainId:f,fromTokenAddress:n,toTokenAddress:c,amount:S,userWalletAddress:b(f),tradeMode:String(J.SWAP),accountInfo:{accountId:d,teeId:"",accountBizLine:2,teeSilentSignEnabled:!1},liquidityConfig:{defiPlatformIds:C,excludedDexIds:Q},slippageConfig:L,ext:{refCode:j?.refCode||B.refCode}}),[f,n,c,S,d,b,L,C,B.refCode,Q,j.refCode])};r();i();var y=g(N()),te=g(w());var re=({label:l,tooltip:p,className:s})=>{let e=u()?{maxWidth:200,placement:T.DIRECTION.topRight}:{};return y.default.createElement("span",{className:(0,te.default)(s||Z.itemLabel)},y.default.createElement("span",null,l),y.default.createElement(T,{title:p,...e},y.default.createElement($,null)))},$e=re;export{fe as a,$e as b,Oe as c,ze as d};
//# sourceMappingURL=chunk-LHMBREWS.js.map
