import{a as Ky}from"./chunk-NSX4KF3O.js";import{a as uf,d as Uy,l as Vy,m as ol,o as Ui}from"./chunk-TQHX36LH.js";import{a as Fy}from"./chunk-SPXLEXQ4.js";import{a as Ry,b as jy}from"./chunk-DWOXXMCC.js";import{c as qy,d as Dy,e as ky,h as sl,i as Hy,k as Ly}from"./chunk-WIH4P5EU.js";import{a as ff}from"./chunk-OQWPK3VC.js";import{d as Ny}from"./chunk-GUM36CPA.js";import{c as O,o as g,p as M,q as _}from"./chunk-LHDKEQAM.js";var cl=O(Ns=>{g();_();Object.defineProperty(Ns,"__esModule",{value:!0});Ns.SignerInterface=void 0;var df=class{};Ns.SignerInterface=df});var ul=O(fl=>{g();_();Object.defineProperty(fl,"__esModule",{value:!0})});var ll=O(dl=>{g();_();Object.defineProperty(dl,"__esModule",{value:!0})});var bl=O(hl=>{g();_();Object.defineProperty(hl,"__esModule",{value:!0})});var pl=O(Fr=>{g();_();var $y=Fr&&Fr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lf=Fr&&Fr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$y(t,e,r)};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.EntryPointType=void 0;Fr.EntryPointType={EXTERNAL:"EXTERNAL",L1_HANDLER:"L1_HANDLER",CONSTRUCTOR:"CONSTRUCTOR"};lf(ul(),Fr);lf(ll(),Fr);lf(bl(),Fr)});var yl=O(Kt=>{g();_();var zy=Kt&&Kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gy=Kt&&Kt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zy(t,e,r)};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.BlockTag=Kt.BlockStatus=Kt.TransactionExecutionStatus=Kt.TransactionFinalityStatus=Kt.TransactionType=void 0;Kt.TransactionType={DECLARE:"DECLARE",DEPLOY:"DEPLOY",DEPLOY_ACCOUNT:"DEPLOY_ACCOUNT",INVOKE:"INVOKE_FUNCTION"};Kt.TransactionFinalityStatus={NOT_RECEIVED:"NOT_RECEIVED",RECEIVED:"RECEIVED",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"};Kt.TransactionExecutionStatus={REJECTED:"REJECTED",REVERTED:"REVERTED",SUCCEEDED:"SUCCEEDED"};Kt.BlockStatus={PENDING:"PENDING",ACCEPTED_ON_L1:"ACCEPTED_ON_L1",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",REJECTED:"REJECTED"};Kt.BlockTag={PENDING:"pending",LATEST:"latest"};Gy(pl(),Kt)});var gl=O(ml=>{g();_();Object.defineProperty(ml,"__esModule",{value:!0})});var vl=O(_l=>{g();_();Object.defineProperty(_l,"__esModule",{value:!0})});var Sl=O(wl=>{g();_();Object.defineProperty(wl,"__esModule",{value:!0})});var Al=O(xl=>{g();_();Object.defineProperty(xl,"__esModule",{value:!0})});var Cl=O(El=>{g();_();Object.defineProperty(El,"__esModule",{value:!0})});var Ml=O(Tl=>{g();_();Object.defineProperty(Tl,"__esModule",{value:!0})});var Il=O(Pl=>{g();_();Object.defineProperty(Pl,"__esModule",{value:!0})});var Bl=O(L=>{g();_();Object.defineProperty(L,"__esModule",{value:!0});L.ETransactionVersion3=L.ETransactionVersion2=L.ETransactionVersion=L.EDAMode=L.EDataAvailabilityMode=L.EBlockTag=L.ETransactionExecutionStatus=L.ETransactionFinalityStatus=L.ETransactionStatus=L.ESimulationFlag=L.ETransactionType=L.CALL_TYPE=L.L1_DA_MODE=L.PRICE_UNIT_FRI=L.PRICE_UNIT_WEI=L.STATE_MUTABILITY_EXTERNAL=L.STATE_MUTABILITY_VIEW=L.ABI_TYPE_ENUM=L.ABI_TYPE_L1_HANDLER=L.ABI_TYPE_CONSTRUCTOR=L.ABI_TYPE_FUNCTION=L.EVENT_ABI_TYPE=L.STRUCT_ABI_TYPE=L.TXN_TYPE_L1_HANDLER=L.TXN_TYPE_INVOKE=L.TXN_TYPE_DEPLOY_ACCOUNT=L.TXN_TYPE_DEPLOY=L.TXN_TYPE_DECLARE=L.STATUS_RECEIVED=L.STATUS_REJECTED=L.STATUS_PENDING=L.STATUS_REVERTED=L.STATUS_SUCCEEDED=L.STATUS_ACCEPTED_ON_L1=L.STATUS_ACCEPTED_ON_L2=void 0;L.STATUS_ACCEPTED_ON_L2="ACCEPTED_ON_L2";L.STATUS_ACCEPTED_ON_L1="ACCEPTED_ON_L1";L.STATUS_SUCCEEDED="SUCCEEDED";L.STATUS_REVERTED="REVERTED";L.STATUS_PENDING="PENDING";L.STATUS_REJECTED="REJECTED";L.STATUS_RECEIVED="RECEIVED";L.TXN_TYPE_DECLARE="DECLARE";L.TXN_TYPE_DEPLOY="DEPLOY";L.TXN_TYPE_DEPLOY_ACCOUNT="DEPLOY_ACCOUNT";L.TXN_TYPE_INVOKE="INVOKE";L.TXN_TYPE_L1_HANDLER="L1_HANDLER";L.STRUCT_ABI_TYPE="struct";L.EVENT_ABI_TYPE="event";L.ABI_TYPE_FUNCTION="function";L.ABI_TYPE_CONSTRUCTOR="constructor";L.ABI_TYPE_L1_HANDLER="l1_handler";L.ABI_TYPE_ENUM="enum";L.STATE_MUTABILITY_VIEW="view";L.STATE_MUTABILITY_EXTERNAL="external";L.PRICE_UNIT_WEI="WEI";L.PRICE_UNIT_FRI="FRI";L.L1_DA_MODE={BLOB:"BLOB",CALLDATA:"CALLDATA"};L.CALL_TYPE={DELEGATE:"DELEGATE",LIBRARY_CALL:"LIBRARY_CALL",CALL:"CALL"};L.ETransactionType={DECLARE:L.TXN_TYPE_DECLARE,DEPLOY:L.TXN_TYPE_DEPLOY,DEPLOY_ACCOUNT:L.TXN_TYPE_DEPLOY_ACCOUNT,INVOKE:L.TXN_TYPE_INVOKE,L1_HANDLER:L.TXN_TYPE_L1_HANDLER};L.ESimulationFlag={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"};L.ETransactionStatus={RECEIVED:L.STATUS_RECEIVED,REJECTED:L.STATUS_REJECTED,ACCEPTED_ON_L2:L.STATUS_ACCEPTED_ON_L2,ACCEPTED_ON_L1:L.STATUS_ACCEPTED_ON_L1};L.ETransactionFinalityStatus={ACCEPTED_ON_L2:L.STATUS_ACCEPTED_ON_L2,ACCEPTED_ON_L1:L.STATUS_ACCEPTED_ON_L1};L.ETransactionExecutionStatus={SUCCEEDED:L.STATUS_SUCCEEDED,REVERTED:L.STATUS_REVERTED};L.EBlockTag={LATEST:"latest",PENDING:"pending"};L.EDataAvailabilityMode={L1:"L1",L2:"L2"};L.EDAMode={L1:0,L2:1};L.ETransactionVersion={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"};L.ETransactionVersion2={V0:L.ETransactionVersion.V0,V1:L.ETransactionVersion.V1,V2:L.ETransactionVersion.V2,F0:L.ETransactionVersion.F0,F1:L.ETransactionVersion.F1,F2:L.ETransactionVersion.F2};L.ETransactionVersion3={V3:L.ETransactionVersion.V3,F3:L.ETransactionVersion.F3}});var Nl=O(Ol=>{g();_();Object.defineProperty(Ol,"__esModule",{value:!0})});var Dl=O(ql=>{g();_();Object.defineProperty(ql,"__esModule",{value:!0})});var hf=O(Mt=>{g();_();var kl=Mt&&Mt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yy=Mt&&Mt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mi=Mt&&Mt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kl(t,e,r)},Xy=Mt&&Mt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kl(t,e,r);return Yy(t,e),t};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.CONTRACT=void 0;mi(Sl(),Mt);Mt.CONTRACT=Xy(Al());mi(Cl(),Mt);mi(Ml(),Mt);mi(Il(),Mt);mi(Bl(),Mt);mi(Nl(),Mt);mi(Dl(),Mt)});var Hl=O(qs=>{g();_();Object.defineProperty(qs,"__esModule",{value:!0});qs.Permission=void 0;qs.Permission={ACCOUNTS:"accounts"}});var Ll=O(Ds=>{g();_();Object.defineProperty(Ds,"__esModule",{value:!0});Ds.TypedDataRevision=void 0;Ds.TypedDataRevision={ACTIVE:"1",LEGACY:"0"}});var jl=O(Rl=>{g();_();Object.defineProperty(Rl,"__esModule",{value:!0})});var Vl=O(Ul=>{g();_();Object.defineProperty(Ul,"__esModule",{value:!0})});var Kl=O(Fl=>{g();_();Object.defineProperty(Fl,"__esModule",{value:!0})});var zl=O($l=>{g();_();Object.defineProperty($l,"__esModule",{value:!0})});var Yl=O(Gl=>{g();_();Object.defineProperty(Gl,"__esModule",{value:!0})});var bf=O(Sr=>{g();_();var Zy=Sr&&Sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gi=Sr&&Sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Zy(t,e,r)};Object.defineProperty(Sr,"__esModule",{value:!0});gi(Hl(),Sr);gi(Ll(),Sr);gi(jl(),Sr);gi(Vl(),Sr);gi(Kl(),Sr);gi(zl(),Sr);gi(Yl(),Sr)});var Zl=O(Xl=>{g();_();Object.defineProperty(Xl,"__esModule",{value:!0})});var Jl=O(Wl=>{g();_();Object.defineProperty(Wl,"__esModule",{value:!0})});var e0=O(Ql=>{g();_();Object.defineProperty(Ql,"__esModule",{value:!0})});var r0=O(t0=>{g();_();Object.defineProperty(t0,"__esModule",{value:!0})});var n0=O(Wr=>{g();_();var Wy=Wr&&Wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ks=Wr&&Wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wy(t,e,r)};Object.defineProperty(Wr,"__esModule",{value:!0});ks(Zl(),Wr);ks(Jl(),Wr);ks(e0(),Wr);ks(r0(),Wr)});var Hs=O(Nt=>{g();_();var i0=Nt&&Nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Jy=Nt&&Nt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a0=Nt&&Nt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&i0(t,e,r)},pf=Nt&&Nt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&i0(t,e,r);return Jy(t,e),t};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PAYMASTER_API=Nt.WALLET_API=Nt.API=void 0;a0(hf(),Nt);Nt.API=pf(hf());a0(bf(),Nt);Nt.WALLET_API=pf(bf());Nt.PAYMASTER_API=pf(n0())});var vi=O(ve=>{g();_();var Qy=ve&&ve.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),em=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s0=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Qy(t,e,r);return em(t,e),t};Object.defineProperty(ve,"__esModule",{value:!0});ve.ETransactionExecutionStatus=ve.ETransactionStatus=ve.isRPC08_ResourceBounds=ve.isRPC08_FeeEstimate=ve.EDAMode=ve.EDataAvailabilityMode=ve.ETransactionVersion3=ve.ETransactionVersion2=ve.ETransactionVersion=ve.RPCSPEC08=void 0;var _i=s0(Hs());ve.RPCSPEC08=s0(Hs());ve.ETransactionVersion=_i.ETransactionVersion;ve.ETransactionVersion2=_i.ETransactionVersion2;ve.ETransactionVersion3=_i.ETransactionVersion3;ve.EDataAvailabilityMode=_i.EDataAvailabilityMode;ve.EDAMode=_i.EDAMode;function tm(e){return"l1_data_gas_consumed"in e}ve.isRPC08_FeeEstimate=tm;function rm(e){return"l1_data_gas"in e}ve.isRPC08_ResourceBounds=rm;ve.ETransactionStatus=_i.ETransactionStatus;ve.ETransactionExecutionStatus=_i.ETransactionExecutionStatus});var o0=O(_n=>{g();_();var nm=_n&&_n.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yf=_n&&_n.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&nm(t,e,r)};Object.defineProperty(_n,"__esModule",{value:!0});yf(gl(),_n);yf(vl(),_n);yf(vi(),_n)});var f0=O(c0=>{g();_();Object.defineProperty(c0,"__esModule",{value:!0})});var d0=O(u0=>{g();_();Object.defineProperty(u0,"__esModule",{value:!0})});var l0=O(Ir=>{g();_();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.NON_ZERO_PREFIX=Ir.ETH_ADDRESS=Ir.Literal=Ir.Uint=Ir.ValidateType=void 0;Ir.ValidateType={DEPLOY:"DEPLOY",CALL:"CALL",INVOKE:"INVOKE"};Ir.Uint={u8:"core::integer::u8",u16:"core::integer::u16",u32:"core::integer::u32",u64:"core::integer::u64",u128:"core::integer::u128",u256:"core::integer::u256",u512:"core::integer::u512"};Ir.Literal={ClassHash:"core::starknet::class_hash::ClassHash",ContractAddress:"core::starknet::contract_address::ContractAddress",Secp256k1Point:"core::starknet::secp256k1::Secp256k1Point",U96:"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"};Ir.ETH_ADDRESS="core::starknet::eth_address::EthAddress";Ir.NON_ZERO_PREFIX="core::zeroable::NonZero::"});var b0=O(h0=>{g();_();Object.defineProperty(h0,"__esModule",{value:!0})});var y0=O(p0=>{g();_();Object.defineProperty(p0,"__esModule",{value:!0})});var m0=O(qn=>{g();_();Object.defineProperty(qn,"__esModule",{value:!0});qn.OutsideExecutionVersion=qn.OutsideExecutionTypesV2=qn.OutsideExecutionTypesV1=void 0;qn.OutsideExecutionTypesV1={StarkNetDomain:[{name:"name",type:"felt"},{name:"version",type:"felt"},{name:"chainId",type:"felt"}],OutsideExecution:[{name:"caller",type:"felt"},{name:"nonce",type:"felt"},{name:"execute_after",type:"felt"},{name:"execute_before",type:"felt"},{name:"calls_len",type:"felt"},{name:"calls",type:"OutsideCall*"}],OutsideCall:[{name:"to",type:"felt"},{name:"selector",type:"felt"},{name:"calldata_len",type:"felt"},{name:"calldata",type:"felt*"}]};qn.OutsideExecutionTypesV2={StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],OutsideExecution:[{name:"Caller",type:"ContractAddress"},{name:"Nonce",type:"felt"},{name:"Execute After",type:"u128"},{name:"Execute Before",type:"u128"},{name:"Calls",type:"Call*"}],Call:[{name:"To",type:"ContractAddress"},{name:"Selector",type:"selector"},{name:"Calldata",type:"felt*"}]};qn.OutsideExecutionVersion={UNSUPPORTED:"0",V1:"1",V2:"2"}});var _0=O(g0=>{g();_();Object.defineProperty(g0,"__esModule",{value:!0})});var w0=O(v0=>{g();_();Object.defineProperty(v0,"__esModule",{value:!0})});var S0=O(Ls=>{g();_();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.TypedDataRevision=void 0;var im=Hs();Object.defineProperty(Ls,"TypedDataRevision",{enumerable:!0,get:function(){return im.TypedDataRevision}})});var A0=O(x0=>{g();_();Object.defineProperty(x0,"__esModule",{value:!0})});var Rs=O(xr=>{g();_();var E0=xr&&xr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),am=xr&&xr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sm=xr&&xr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&E0(t,e,r);return am(t,e),t},om=xr&&xr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&E0(t,e,r)};Object.defineProperty(xr,"__esModule",{value:!0});xr.JRPC=void 0;xr.JRPC=sm(A0());om(vi(),xr)});var Jr=O(Le=>{g();_();var C0=Le&&Le.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cm=Le&&Le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Kr=Le&&Le.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&C0(t,e,r)},fm=Le&&Le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&C0(t,e,r);return cm(t,e),t};Object.defineProperty(Le,"__esModule",{value:!0});Le.RPC=void 0;Kr(yl(),Le);Kr(o0(),Le);Kr(f0(),Le);Kr(d0(),Le);Kr(l0(),Le);Kr(b0(),Le);Kr(y0(),Le);Kr(m0(),Le);Kr(_0(),Le);Kr(w0(),Le);Kr(S0(),Le);Le.RPC=fm(Rs())});var wi=O(mf=>{g();_();Object.defineProperty(mf,"__esModule",{value:!0});function um(e,t){if(!e)throw new Error(t||"Assertion failure")}mf.default=um});var Qt=O(me=>{g();_();Object.defineProperty(me,"__esModule",{value:!0});me.concatenateArrayBuffer=me.pascalToSnake=me.sanitizeHex=me.sanitizeBytes=me.calcByteLength=me.padLeft=me.addHexPrefix=me.removeHexPrefix=me.buf2hex=me.btoaUniversal=me.atobUniversal=me.utf8ToArray=me.arrayBufferToString=me.IS_BROWSER=void 0;var T0=Ui();me.IS_BROWSER=typeof window<"u";var gf="0";function dm(e){return new Uint8Array(e).reduce((t,r)=>t+String.fromCharCode(r),"")}me.arrayBufferToString=dm;function lm(e){return new TextEncoder().encode(e)}me.utf8ToArray=lm;function hm(e){return T0.base.fromBase64(e)}me.atobUniversal=hm;function bm(e){return T0.base.toBase64(new Uint8Array(e))}me.btoaUniversal=bm;function pm(e){return e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"")}me.buf2hex=pm;function _f(e){return e.replace(/^0x/i,"")}me.removeHexPrefix=_f;function M0(e){return`0x${_f(e)}`}me.addHexPrefix=M0;function ym(e,t,r,n=gf){let i=t-e.length,a=e;if(i>0){let s=n.repeat(i);a=r?s+e:e+s}return a}function P0(e,t,r=gf){return ym(e,t,!0,r)}me.padLeft=P0;function I0(e,t=8){let{length:r}=e,n=r%t;return n?(r-n)/t*t+t:r}me.calcByteLength=I0;function B0(e,t=8,r=gf){return P0(e,I0(e,t),r)}me.sanitizeBytes=B0;function mm(e){let t=_f(e),r=B0(t,2);return r&&M0(r)}me.sanitizeHex=mm;var gm=e=>/[a-z]/.test(e)?e.split(/(?=[A-Z])/).join("_").toUpperCase():e;me.pascalToSnake=gm;function _m(e){let t=e.reduce((i,a)=>i+a.byteLength,0),r=new Uint8Array(t),n=0;return e.forEach(i=>{r.set(i,n),n+=i.byteLength}),r}me.concatenateArrayBuffer=_m});var er=O(G=>{g();_();Object.defineProperty(G,"__esModule",{value:!0});G.SYSTEM_MESSAGES=G.RPC_DEFAULT_NODES=G.DEFAULT_GLOBAL_CONFIG=G.SupportedRpcVersion=G.TransactionHashPrefix=G.StarknetChainId=G.NetworkName=G.BaseUrl=G.HARDENING_4BYTES=G.HARDENING_BYTE=G.SNIP9_V2_INTERFACE_ID=G.SNIP9_V1_INTERFACE_ID=G.OutsideExecutionCallerAny=G.UDC=G.RANGE_U128=G.RANGE_I128=G.RANGE_FELT=G.ADDR_BOUND=G.MAX_STORAGE_ITEM_SIZE=G.PRIME=G.API_VERSION=G.MASK_31=G.MASK_250=G.ZERO=G.TRANSACTION_VERSION=G.TEXT_TO_FELT_MAX_LEN=G.IS_BROWSER=void 0;var vm=Jr(),wm=Rs(),Sm=Qt();Object.defineProperty(G,"IS_BROWSER",{enumerable:!0,get:function(){return Sm.IS_BROWSER}});G.TEXT_TO_FELT_MAX_LEN=31;G.TRANSACTION_VERSION=wm.RPCSPEC08.ETransactionVersion;G.ZERO=0n;G.MASK_250=2n**250n-1n;G.MASK_31=2n**31n-1n;G.API_VERSION=G.ZERO;G.PRIME=2n**251n+17n*2n**192n+1n;G.MAX_STORAGE_ITEM_SIZE=256n;G.ADDR_BOUND=2n**251n-G.MAX_STORAGE_ITEM_SIZE;var vf=(e,t)=>({min:e,max:t});G.RANGE_FELT=vf(G.ZERO,G.PRIME-1n);G.RANGE_I128=vf(-(2n**127n),2n**127n-1n);G.RANGE_U128=vf(G.ZERO,2n**128n-1n);G.UDC={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"};G.OutsideExecutionCallerAny="0x414e595f43414c4c4552";G.SNIP9_V1_INTERFACE_ID="0x68cfd18b92d1907b8ba3cc324900277f5a3622099431ea85dd8089255e4181";G.SNIP9_V2_INTERFACE_ID="0x1d1144bb2138366ff28d8e9ab57456b1d332ac42196230c3a602003c89872";G.HARDENING_BYTE=128;G.HARDENING_4BYTES=2147483648n;var xm={SN_MAIN:"https://alpha-mainnet.starknet.io",SN_SEPOLIA:"https://alpha-sepolia.starknet.io"};G.BaseUrl=xm;var Am={SN_MAIN:"SN_MAIN",SN_SEPOLIA:"SN_SEPOLIA"};G.NetworkName=Am;var Em={SN_MAIN:"0x534e5f4d41494e",SN_SEPOLIA:"0x534e5f5345504f4c4941"};G.StarknetChainId=Em;var Cm={DECLARE:"0x6465636c617265",DEPLOY:"0x6465706c6f79",DEPLOY_ACCOUNT:"0x6465706c6f795f6163636f756e74",INVOKE:"0x696e766f6b65",L1_HANDLER:"0x6c315f68616e646c6572"};G.TransactionHashPrefix=Cm;var Tm={"0.7.1":"0.7.1","0.8.1":"0.8.1",v0_7_1:"0.7.1",v0_8_1:"0.8.1"};G.SupportedRpcVersion=Tm;G.DEFAULT_GLOBAL_CONFIG={legacyMode:!1,rpcVersion:"0.8.1",transactionVersion:vm.ETransactionVersion.V3,feeMarginPercentage:{bounds:{l1_gas:{max_amount:50,max_price_per_unit:50},l1_data_gas:{max_amount:50,max_price_per_unit:50},l2_gas:{max_amount:50,max_price_per_unit:50}},maxFee:50},fetch:void 0,websocket:void 0};G.RPC_DEFAULT_NODES={SN_MAIN:["https://starknet-mainnet.public.blastapi.io/rpc/","https://free-rpc.nethermind.io/mainnet-juno/"],SN_SEPOLIA:["https://starknet-sepolia.public.blastapi.io/rpc/","https://free-rpc.nethermind.io/sepolia-juno/"]};G.SYSTEM_MESSAGES={legacyTxWarningMessage:`You are using a deprecated transaction version (V0,V1,V2)!
Update to the latest V3 transactions!`,legacyTxRPC08Message:"RPC 0.8 do not support legacy transactions",SWOldV3:"RPC 0.7 V3 tx (improper resource bounds) not supported in RPC 0.8",channelVersionMismatch:"Channel specification version is not compatible with the connected node Specification Version",unsupportedSpecVersion:"The connected node specification version is not supported by this library"}});var St=O(dr=>{g();_();Object.defineProperty(dr,"__esModule",{value:!0});dr.isObject=dr.isString=dr.isBigInt=dr.isBoolean=dr.isNumber=dr.isUndefined=void 0;var Mm=e=>typeof e>"u"||e===void 0;dr.isUndefined=Mm;function Pm(e){return typeof e=="number"}dr.isNumber=Pm;function Im(e){return typeof e=="boolean"}dr.isBoolean=Im;function Bm(e){return typeof e=="bigint"}dr.isBigInt=Bm;function Om(e){return typeof e=="string"}dr.isString=Om;function Nm(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}dr.isObject=Nm});var Re=O(W=>{g();_();var qm=W&&W.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(W,"__esModule",{value:!0});W.isBigNumberish=W.stringToSha256ToArrayBuff4=W.addPercent=W.hexToBytes=W.toCairoBool=W.getHexStringArray=W.getHexString=W.getDecimalString=W.isStringWholeNumber=W.bigNumberishArrayToHexadecimalStringArray=W.bigNumberishArrayToDecimalStringArray=W.assertInRange=W.cleanHex=W.hexToDecimalString=W.toHex64=W.toStorageKey=W.toHexString=W.toHex=W.tryToBigInt=W.toBigInt=W.isHex=void 0;var O0=Ui(),Dm=er(),km=qm(wi()),Si=Qt(),wf=St();function $a(e){return/^0x[0-9a-f]*$/i.test(e)}W.isHex=$a;function za(e){return BigInt(e)}W.toBigInt=za;function Hm(e){return e?BigInt(e):void 0}W.tryToBigInt=Hm;function js(e){return(0,Si.addHexPrefix)(za(e).toString(16))}W.toHex=js;W.toHexString=js;function Lm(e){return(0,Si.addHexPrefix)(za(e).toString(16).padStart(64,"0"))}W.toStorageKey=Lm;function Rm(e){let t=(0,Si.addHexPrefix)(za(e).toString(16).padStart(64,"0"));if(t.length!==66)throw TypeError("number is too big for hex 0x(64) representation");return t}W.toHex64=Rm;function N0(e){return BigInt((0,Si.addHexPrefix)(e)).toString(10)}W.hexToDecimalString=N0;function jm(e){return e.toLowerCase().replace(/^(0x)0+/,"$1")}W.cleanHex=jm;function Um(e,t,r,n=""){let i=n===""?"invalid length":`invalid ${n} length`,a=BigInt(e),s=BigInt(t),o=BigInt(r);(0,km.default)(a>=s&&a<=o,`Message not signable, ${i}.`)}W.assertInRange=Um;function Vm(e){return e.map(t=>za(t).toString(10))}W.bigNumberishArrayToDecimalStringArray=Vm;function Fm(e){return e.map(t=>js(t))}W.bigNumberishArrayToHexadecimalStringArray=Fm;function Us(e){return/^\d+$/.test(e)}W.isStringWholeNumber=Us;function Km(e){if($a(e))return N0(e);if(Us(e))return e;throw new Error(`${e} needs to be a hex-string or whole-number-string`)}W.getDecimalString=Km;function q0(e){if($a(e))return e;if(Us(e))return(0,W.toHexString)(e);throw new Error(`${e} needs to be a hex-string or whole-number-string`)}W.getHexString=q0;function $m(e){return e.map(q0)}W.getHexStringArray=$m;function zm(e){return(+e).toString()}W.toCairoBool=zm;function D0(e){if(!$a(e))throw new Error(`${e} needs to be a hex-string`);let t=(0,Si.removeHexPrefix)(e);return t.length%2!==0&&(t=`0${t}`),O0.base.fromHex(t)}W.hexToBytes=D0;function Gm(e,t){let r=BigInt(e);return r+r*BigInt(t)/100n}W.addPercent=Gm;function Ym(e){let r=(n=>Number(n&Dm.MASK_31))(BigInt((0,Si.addHexPrefix)((0,Si.buf2hex)(O0.base.sha256(e)))));return D0(js(r))}W.stringToSha256ToArrayBuff4=Ym;function Xm(e){return(0,wf.isNumber)(e)||(0,wf.isBigInt)(e)||(0,wf.isString)(e)&&($a(e)||Us(e))}W.isBigNumberish=Xm});var Fs=O(lr=>{g();_();Object.defineProperty(lr,"__esModule",{value:!0});lr.getL2MessageHash=lr.solidityUint256PackedKeccak256=lr.getSelector=lr.getSelectorFromName=lr.starknetKeccak=lr.keccakBn=void 0;var Vs=Ui(),Zm=er(),Dn=Qt(),vn=Re(),k0=St();function Wm(e){let t=(0,Dn.removeHexPrefix)((0,vn.toHex)(BigInt(e))),r=t.length%2===0?t:`0${t}`;return(0,Dn.addHexPrefix)(Vs.base.keccak((0,vn.hexToBytes)((0,Dn.addHexPrefix)(r))).toString("hex"))}lr.keccakBn=Wm;function Jm(e){return(0,Dn.addHexPrefix)(Vs.base.keccak((0,Dn.utf8ToArray)(e)).toString("hex"))}function H0(e){return BigInt(Jm(e))&Zm.MASK_250}lr.starknetKeccak=H0;function L0(e){return(0,vn.toHex)(H0(e))}lr.getSelectorFromName=L0;function Qm(e){return(0,k0.isNumber)(e)||(0,k0.isBigInt)(e)?(0,vn.toHex)(e):(0,vn.isHex)(e)?e:(0,vn.isStringWholeNumber)(e)?(0,vn.toHex)(e):L0(e)}lr.getSelector=Qm;function R0(e){let t=(0,Dn.addHexPrefix)(e.reduce((r,n)=>r+(0,Dn.removeHexPrefix)((0,vn.toHex)(n)).padStart(64,"0"),""));return(0,Dn.addHexPrefix)(Vs.base.toHex(Vs.base.keccak_256((0,vn.hexToBytes)(t))))}lr.solidityUint256PackedKeccak256=R0;function eg(e,t,r,n,i){return R0([e,t,i,r,n.length,...n])}lr.getL2MessageHash=eg});var Ar=O(xt=>{g();_();Object.defineProperty(xt,"__esModule",{value:!0});xt.decodeShortString=xt.encodeShortString=xt.splitLongString=xt.isLongText=xt.isShortText=xt.isText=xt.isDecimalString=xt.isShortString=xt.isASCII=void 0;var j0=er(),U0=Qt(),Sf=Re(),tg=St();function xf(e){return/^[\x00-\x7F]*$/.test(e)}xt.isASCII=xf;function Ks(e){return e.length<=j0.TEXT_TO_FELT_MAX_LEN}xt.isShortString=Ks;function V0(e){return/^[0-9]*$/i.test(e)}xt.isDecimalString=V0;function Af(e){return(0,tg.isString)(e)&&!(0,Sf.isHex)(e)&&!(0,Sf.isStringWholeNumber)(e)}xt.isText=Af;var rg=e=>Af(e)&&Ks(e);xt.isShortText=rg;var ng=e=>Af(e)&&!Ks(e);xt.isLongText=ng;function ig(e){let t=RegExp(`[^]{1,${j0.TEXT_TO_FELT_MAX_LEN}}`,"g");return e.match(t)||[]}xt.splitLongString=ig;function ag(e){if(!xf(e))throw new Error(`${e} is not an ASCII string`);if(!Ks(e))throw new Error(`${e} is too long`);return(0,U0.addHexPrefix)(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}xt.encodeShortString=ag;function F0(e){if(!xf(e))throw new Error(`${e} is not an ASCII string`);if((0,Sf.isHex)(e))return(0,U0.removeHexPrefix)(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(V0(e))return F0("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}xt.decodeShortString=F0});var Fi=O(Vi=>{g();_();Object.defineProperty(Vi,"__esModule",{value:!0});Vi.byteArrayFromString=Vi.stringFromByteArray=void 0;var K0=Re(),$s=Ar();function sg(e){let t=BigInt(e.pending_word)===0n?"":(0,$s.decodeShortString)((0,K0.toHex)(e.pending_word));return e.data.reduce((r,n)=>{let i=BigInt(n)===0n?"":(0,$s.decodeShortString)((0,K0.toHex)(n));return r+i},"")+t}Vi.stringFromByteArray=sg;function og(e){let t=(0,$s.splitLongString)(e),r=t[t.length-1],n=t.map($s.encodeShortString),[i,a]=r===void 0||r.length===31?["0x00",0]:[n.pop(),r.length];return{data:n.length===0?[]:n,pending_word:i,pending_word_len:a}}Vi.byteArrayFromString=og});var Gs=O(zs=>{g();_();Object.defineProperty(zs,"__esModule",{value:!0});zs.CairoFelt=void 0;var $0=Re(),Ef=Ar(),Cf=St();function cg(e){if((0,Cf.isBigInt)(e)||Number.isInteger(e))return e.toString();if((0,Cf.isString)(e)){if((0,$0.isHex)(e))return BigInt(e).toString();if((0,Ef.isText)(e)){if(!(0,Ef.isShortString)(e))throw new Error(`${e} is a long string > 31 chars. Please split it into an array of short strings.`);return BigInt((0,Ef.encodeShortString)(e)).toString()}if((0,$0.isStringWholeNumber)(e))return e}if((0,Cf.isBoolean)(e))return`${+e}`;throw new Error(`${e} can't be computed by felt()`)}zs.CairoFelt=cg});var kn=O(Be=>{g();_();Object.defineProperty(Be,"__esModule",{value:!0});Be.CairoUint256=Be.UINT_256_HIGH_MIN=Be.UINT_256_LOW_MIN=Be.UINT_256_HIGH_MAX=Be.UINT_256_LOW_MAX=Be.UINT_256_MIN=Be.UINT_256_MAX=Be.UINT_128_MAX=void 0;var z0=Qt(),G0=Gs();Be.UINT_128_MAX=(1n<<128n)-1n;Be.UINT_256_MAX=(1n<<256n)-1n;Be.UINT_256_MIN=0n;Be.UINT_256_LOW_MAX=340282366920938463463374607431768211455n;Be.UINT_256_HIGH_MAX=340282366920938463463374607431768211455n;Be.UINT_256_LOW_MIN=0n;Be.UINT_256_HIGH_MIN=0n;var Qr=class{constructor(...t){if(typeof t[0]=="object"&&t.length===1&&"low"in t[0]&&"high"in t[0]){let r=Qr.validateProps(t[0].low,t[0].high);this.low=r.low,this.high=r.high}else if(t.length===1){let r=Qr.validate(t[0]);this.low=r&Be.UINT_128_MAX,this.high=r>>128n}else if(t.length===2){let r=Qr.validateProps(t[0],t[1]);this.low=r.low,this.high=r.high}else throw Error("Incorrect constructor parameters")}static validate(t){let r=BigInt(t);if(r<Be.UINT_256_MIN)throw Error("bigNumberish is smaller than UINT_256_MIN");if(r>Be.UINT_256_MAX)throw new Error("bigNumberish is bigger than UINT_256_MAX");return r}static validateProps(t,r){let n=BigInt(t),i=BigInt(r);if(n<Be.UINT_256_LOW_MIN||n>Be.UINT_256_LOW_MAX)throw new Error("low is out of range UINT_256_LOW_MIN - UINT_256_LOW_MAX");if(i<Be.UINT_256_HIGH_MIN||i>Be.UINT_256_HIGH_MAX)throw new Error("high is out of range UINT_256_HIGH_MIN - UINT_256_HIGH_MAX");return{low:n,high:i}}static is(t){try{Qr.validate(t)}catch{return!1}return!0}static isAbiType(t){return t===Qr.abiSelector}toBigInt(){return(this.high<<128n)+this.low}toUint256HexString(){return{low:(0,z0.addHexPrefix)(this.low.toString(16)),high:(0,z0.addHexPrefix)(this.high.toString(16))}}toUint256DecimalString(){return{low:this.low.toString(10),high:this.high.toString(10)}}toApiRequest(){return[(0,G0.CairoFelt)(this.low),(0,G0.CairoFelt)(this.high)]}};Be.CairoUint256=Qr;Qr.abiSelector="core::integer::u256"});var Ki=O(Er=>{g();_();Object.defineProperty(Er,"__esModule",{value:!0});Er.CairoUint512=Er.UINT_128_MIN=Er.UINT_512_MIN=Er.UINT_512_MAX=void 0;var Ys=Qt(),Xs=Gs(),Zs=kn();Er.UINT_512_MAX=(1n<<512n)-1n;Er.UINT_512_MIN=0n;Er.UINT_128_MIN=0n;var en=class{constructor(...t){if(typeof t[0]=="object"&&t.length===1&&"limb0"in t[0]&&"limb1"in t[0]&&"limb2"in t[0]&&"limb3"in t[0]){let r=en.validateProps(t[0].limb0,t[0].limb1,t[0].limb2,t[0].limb3);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}else if(t.length===1){let r=en.validate(t[0]);this.limb0=r&Zs.UINT_128_MAX,this.limb1=(r&Zs.UINT_128_MAX<<128n)>>128n,this.limb2=(r&Zs.UINT_128_MAX<<256n)>>256n,this.limb3=r>>384n}else if(t.length===4){let r=en.validateProps(t[0],t[1],t[2],t[3]);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}else throw Error("Incorrect Uint512 constructor parameters")}static validate(t){let r=BigInt(t);if(r<Er.UINT_512_MIN)throw Error("bigNumberish is smaller than UINT_512_MIN.");if(r>Er.UINT_512_MAX)throw Error("bigNumberish is bigger than UINT_512_MAX.");return r}static validateProps(t,r,n,i){let a=BigInt(t),s=BigInt(r),o=BigInt(n),u=BigInt(i);return[a,s,o,u].forEach((l,b)=>{if(l<Er.UINT_128_MIN||l>Zs.UINT_128_MAX)throw Error(`limb${b} is not in the range of a u128 number`)}),{limb0:a,limb1:s,limb2:o,limb3:u}}static is(t){try{en.validate(t)}catch{return!1}return!0}static isAbiType(t){return t===en.abiSelector}toBigInt(){return(this.limb3<<384n)+(this.limb2<<256n)+(this.limb1<<128n)+this.limb0}toUint512HexString(){return{limb0:(0,Ys.addHexPrefix)(this.limb0.toString(16)),limb1:(0,Ys.addHexPrefix)(this.limb1.toString(16)),limb2:(0,Ys.addHexPrefix)(this.limb2.toString(16)),limb3:(0,Ys.addHexPrefix)(this.limb3.toString(16))}}toUint512DecimalString(){return{limb0:this.limb0.toString(10),limb1:this.limb1.toString(10),limb2:this.limb2.toString(10),limb3:this.limb3.toString(10)}}toApiRequest(){return[(0,Xs.CairoFelt)(this.limb0),(0,Xs.CairoFelt)(this.limb1),(0,Xs.CairoFelt)(this.limb2),(0,Xs.CairoFelt)(this.limb3)]}};Er.CairoUint512=en;en.abiSelector="core::integer::u512"});var $r=O(Y=>{g();_();Object.defineProperty(Y,"__esModule",{value:!0});Y.felt=Y.tuple=Y.uint512=Y.uint256=Y.getAbiContractVersion=Y.isTypeNonZero=Y.isCairo1Abi=Y.getArrayType=Y.isCairo1Type=Y.isTypeSecp256k1Point=Y.isTypeU96=Y.isTypeByteArray=Y.isTypeBytes31=Y.isTypeEthAddress=Y.isTypeContractAddress=Y.isTypeBool=Y.isTypeLiteral=Y.isTypeUint256=Y.isTypeUint=Y.isTypeResult=Y.isTypeOption=Y.isTypeEnum=Y.isTypeStruct=Y.isTypeNamedTuple=Y.isTypeTuple=Y.isTypeArray=Y.isTypeFelt=Y.isLen=void 0;var $i=Jr(),fg=Gs(),Y0=kn(),ug=Ki(),dg=e=>/_len$/.test(e);Y.isLen=dg;var lg=e=>e==="felt"||e==="core::felt252";Y.isTypeFelt=lg;var hg=e=>/\*/.test(e)||e.startsWith("core::array::Array::")||e.startsWith("core::array::Span::");Y.isTypeArray=hg;var bg=e=>/^\(.*\)$/i.test(e);Y.isTypeTuple=bg;var pg=e=>/\(.*\)/i.test(e)&&e.includes(":");Y.isTypeNamedTuple=pg;var yg=(e,t)=>e in t;Y.isTypeStruct=yg;var mg=(e,t)=>e in t;Y.isTypeEnum=mg;var gg=e=>e.startsWith("core::option::Option::");Y.isTypeOption=gg;var _g=e=>e.startsWith("core::result::Result::");Y.isTypeResult=_g;var vg=e=>Object.values($i.Uint).includes(e);Y.isTypeUint=vg;var wg=e=>Y0.CairoUint256.isAbiType(e);Y.isTypeUint256=wg;var Sg=e=>Object.values($i.Literal).includes(e);Y.isTypeLiteral=Sg;var xg=e=>e==="core::bool";Y.isTypeBool=xg;var Ag=e=>e===$i.Literal.ContractAddress;Y.isTypeContractAddress=Ag;var Eg=e=>e===$i.ETH_ADDRESS;Y.isTypeEthAddress=Eg;var Cg=e=>e==="core::bytes_31::bytes31";Y.isTypeBytes31=Cg;var Tg=e=>e==="core::byte_array::ByteArray";Y.isTypeByteArray=Tg;var Mg=e=>e==="core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>";Y.isTypeU96=Mg;var Pg=e=>e===$i.Literal.Secp256k1Point;Y.isTypeSecp256k1Point=Pg;var Ig=e=>e.includes("::");Y.isCairo1Type=Ig;var Bg=e=>(0,Y.isCairo1Type)(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");Y.getArrayType=Bg;function Og(e){let{cairo:t}=X0(e);if(t===void 0)throw Error("Unable to determine Cairo version");return t==="1"}Y.isCairo1Abi=Og;function Ng(e){return e.startsWith($i.NON_ZERO_PREFIX)}Y.isTypeNonZero=Ng;function X0(e){if(e.find(n=>n.type==="interface"))return{cairo:"1",compiler:"2"};let t=e.find(n=>(n.type==="function"||n.type==="constructor")&&(n.inputs.length||n.outputs.length));if(!t)return{cairo:void 0,compiler:void 0};let r=t.inputs.length?t.inputs:t.outputs;return(0,Y.isCairo1Type)(r[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}Y.getAbiContractVersion=X0;var qg=e=>new Y0.CairoUint256(e).toUint256DecimalString();Y.uint256=qg;var Dg=e=>new ug.CairoUint512(e).toUint512DecimalString();Y.uint512=Dg;var kg=(...e)=>({...e});Y.tuple=kg;function Hg(e){return(0,fg.CairoFelt)(e)}Y.felt=Hg});var Z0=O(Js=>{g();_();Object.defineProperty(Js,"__esModule",{value:!0});Js.CairoCustomEnum=void 0;var Ws=St(),Tf=class{constructor(t){let r=Object.values(t);if(r.length===0)throw new Error("This Enum must have at least 1 variant");if(r.filter(i=>!(0,Ws.isUndefined)(i)).length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=t}unwrap(){return Object.values(this.variant).find(r=>!(0,Ws.isUndefined)(r))}activeVariant(){let r=Object.entries(this.variant).find(n=>!(0,Ws.isUndefined)(n[1]));return(0,Ws.isUndefined)(r)?"":r[0]}};Js.CairoCustomEnum=Tf});var J0=O(Hn=>{g();_();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.CairoOption=Hn.CairoOptionVariant=void 0;var W0=St();Hn.CairoOptionVariant={Some:0,None:1};var Mf=class{constructor(t,r){if(!(t in Object.values(Hn.CairoOptionVariant)))throw new Error("Wrong variant! It should be CairoOptionVariant.Some or .None.");if(t===Hn.CairoOptionVariant.Some){if((0,W0.isUndefined)(r))throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=r,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){return this.None?void 0:this.Some}isSome(){return!(0,W0.isUndefined)(this.Some)}isNone(){return this.None===!0}};Hn.CairoOption=Mf});var Q0=O(Ln=>{g();_();Object.defineProperty(Ln,"__esModule",{value:!0});Ln.CairoResult=Ln.CairoResultVariant=void 0;var Qs=St();Ln.CairoResultVariant={Ok:0,Err:1};var Pf=class{constructor(t,r){if(!(t in Object.values(Ln.CairoResultVariant)))throw new Error("Wrong variant! It should be CairoResultVariant.Ok or .Err.");t===Ln.CairoResultVariant.Ok?(this.Ok=r,this.Err=void 0):(this.Ok=void 0,this.Err=r)}unwrap(){if(!(0,Qs.isUndefined)(this.Ok))return this.Ok;if(!(0,Qs.isUndefined)(this.Err))return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!(0,Qs.isUndefined)(this.Ok)}isErr(){return!(0,Qs.isUndefined)(this.Err)}};Ln.CairoResult=Pf});var Ga=O(wn=>{g();_();var Lg=wn&&wn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),If=wn&&wn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Lg(t,e,r)};Object.defineProperty(wn,"__esModule",{value:!0});If(Z0(),wn);If(J0(),wn);If(Q0(),wn)});var th=O(Of=>{g();_();Object.defineProperty(Of,"__esModule",{value:!0});var eh=St(),Rg=Ar(),Bf={isBN:(e,t,r)=>{if(!(0,eh.isBigInt)(e[r]))throw new Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)},unknown:(e,t,r)=>{throw new Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)}};function eo(e,t,r){return Object.entries(e).reduce((n,[i,a])=>{let s=r??t[i];if(!(i in t)&&!r)return n[i]=a,n;if(s==="string"){if(Array.isArray(e[i])){let o=eo(e[i],e[i].map(u=>s));return n[i]=Object.values(o).join(""),n}return Bf.isBN(e,t,i),n[i]=(0,Rg.decodeShortString)(a),n}if(s==="number")return Bf.isBN(e,t,i),n[i]=Number(a),n;if(typeof s=="function")return n[i]=s(a),n;if(Array.isArray(s)){let o=eo(e[i],s,s[0]);return n[i]=Object.values(o),n}return(0,eh.isObject)(s)?(n[i]=eo(e[i],s),n):(Bf.unknown(e,t,i),n)},{})}Of.default=eo});var rh=O(to=>{g();_();Object.defineProperty(to,"__esModule",{value:!0});to.AbiParser1=void 0;var jg=$r(),Nf=class{constructor(t){this.abi=t}methodInputsLength(t){return t.inputs.reduce((r,n)=>(0,jg.isLen)(n.name)?r:r+1,0)}getMethod(t){return this.abi.find(r=>r.name===t)}getLegacyFormat(){return this.abi}};to.AbiParser1=Nf});var nh=O(ro=>{g();_();Object.defineProperty(ro,"__esModule",{value:!0});ro.AbiParser2=void 0;var qf=class{constructor(t){this.abi=t}methodInputsLength(t){return t.inputs.length}getMethod(t){return this.abi.find(n=>n.type==="interface")?.items?.find(n=>n.name===t)}getLegacyFormat(){return this.abi.flatMap(t=>t.type==="interface"?t.items:t)}};ro.AbiParser2=qf});var ah=O(Rn=>{g();_();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.isNoConstructorValid=Rn.getAbiVersion=Rn.createAbiParser=void 0;var Ug=$r(),Vg=rh(),Fg=nh();function Kg(e){let t=ih(e);if(t===0||t===1)return new Vg.AbiParser1(e);if(t===2)return new Fg.AbiParser2(e);throw Error(`Unsupported ABI version ${t}`)}Rn.createAbiParser=Kg;function ih(e){return e.find(t=>t.type==="interface")?2:(0,Ug.isCairo1Abi)(e)?1:0}Rn.getAbiVersion=ih;function $g(e,t,r){return e==="constructor"&&!r&&!t.length}Rn.isNoConstructorValid=$g});var no=O(Df=>{g();_();Object.defineProperty(Df,"__esModule",{value:!0});var oh=$r();function zg(e){let t=e.substring(0,e.indexOf(":")),r=e.substring(t.length+1);return{name:t,type:r}}function Gg(e){if(!e.includes("("))return{subTuple:[],result:e};let t=[],r="",n=0;for(;n<e.length;){if(e[n]==="("){let i=1,a=n;for(n++;i;)e[n]===")"&&i--,e[n]==="("&&i++,n++;t.push(e.substring(a,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}function Yg(e){let t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=Gg(t),i=n.split(",").map(a=>r.length?a.replace(" ",r.shift()):a);return(0,oh.isTypeNamedTuple)(e)&&(i=i.reduce((a,s)=>a.concat(zg(s)),[])),i}function sh(e,t,r){for(let n=0,i=0;n<e.length;n++)if(e[n]===t)i++;else if(e[n]===r&&--i===0)return n;return Number.POSITIVE_INFINITY}function Xg(e){let t=e.slice(1,-1),r=[],n=0,i;for(;n<t.length;){switch(!0){case t[n]==="(":{i=n+sh(t.slice(n),"(",")")+1;break}case(t.startsWith("core::result::Result::<",n)||t.startsWith("core::array::Array::<",n)||t.startsWith("core::option::Option::<",n)):{i=n+sh(t.slice(n),"<",">")+1;break}default:{let a=t.indexOf(",",n);i=a!==-1?a:Number.POSITIVE_INFINITY}}r.push(t.slice(n,i)),n=i+2}return r}function Zg(e){return(0,oh.isCairo1Type)(e)?Xg(e):Yg(e)}Df.default=Zg});var Ya=O(zi=>{g();_();var Wg=zi&&zi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zi,"__esModule",{value:!0});zi.CairoFixedArray=void 0;var ch=Wg(wi()),Cr=class{constructor(t,r){(0,ch.default)(Cr.isTypeFixedArray(r),`The type ${r} is not a Cairo fixed array. Needs [type; length].`);try{Cr.getFixedArrayType(r)}catch{throw new Error(`The type ${r} do not includes any content type. Needs [type; length].`)}try{Cr.getFixedArraySize(r)}catch{throw new Error(`The type ${r} type do not includes any length. Needs [type; length].`)}(0,ch.default)(Cr.getFixedArraySize(r)===t.length,`The ABI type ${r} is expecting ${Cr.getFixedArraySize(r)} items. ${t.length} items provided.`),this.content=t,this.arrayType=r}static getFixedArraySize(t){let r=t.match(/(?<=; )\d+(?=\])/);if(r===null)throw new Error(`ABI type ${t} do not includes a valid number after ';' character.`);return Number(r[0])}getFixedArraySize(){return Cr.getFixedArraySize(this.arrayType)}getFixedArrayType(){return Cr.getFixedArrayType(this.arrayType)}static compile(t){return t.reduce((r,n,i)=>(r[i]=n,r),{})}compile(){return Cr.compile(this.content)}static isTypeFixedArray(t){return/^\[.*;\s.*\]$/.test(t)&&/(?<=\[).+(?=;)/.test(t)&&/(?<=; )\d+(?=\])/.test(t)}};zi.CairoFixedArray=Cr;Cr.getFixedArrayType=e=>{let t=e.match(/(?<=\[).+(?=;)/);if(t===null)throw new Error(`ABI type ${e} do not includes a valid type of data.`);return t[0]}});var uh=O(Xa=>{g();_();var Jg=Xa&&Xa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xa,"__esModule",{value:!0});var Qg=kn(),e_=Ki(),tr=$r(),Sn=Ga(),t_=Jg(no()),fh=St(),kf=Ya();function r_(e){return Error(`Your object includes the property : ${e}, containing an Uint256 object without the 'low' and 'high' keys.`)}function n_(e){return Error(`Your object includes the property : ${e}, containing an Uint512 object without the 'limb0' to 'limb3' keys.`)}function i_(e,t,r,n){let i=(h,v)=>{if(kf.CairoFixedArray.isTypeFixedArray(v))return o(h,v);if((0,tr.isTypeArray)(v))return s(h,v);if((0,tr.isTypeEnum)(v,n)){let S=n[v];return l(h,S)}if((0,tr.isTypeTuple)(v))return u(h,v);if((0,tr.isTypeEthAddress)(v)||(0,tr.isTypeNonZero)(v)||(0,tr.isTypeByteArray)(v)||(0,tr.isTypeU96)(v)||(0,tr.isTypeSecp256k1Point)(v))return h;if(Qg.CairoUint256.isAbiType(v)){let S=h;if(typeof S!="object")return S;if(!("low"in S&&"high"in S))throw r_(v);return{low:S.low,high:S.high}}if(e_.CairoUint512.isAbiType(v)){let S=h;if(typeof S!="object")return S;if(!["limb0","limb1","limb2","limb3"].every(T=>T in S))throw n_(v);return{limb0:S.limb0,limb1:S.limb1,limb2:S.limb2,limb3:S.limb3}}if((0,tr.isTypeStruct)(v,r)){let S=r[v].members;return a(h,S)}return h},a=(h,v)=>v.reduce((T,E)=>{let I=B=>Object.defineProperty(T,E.name,{enumerable:!0,value:B??h[E.name]});if(h[E.name]==="undefined"&&((0,tr.isCairo1Type)(E.type)||!(0,tr.isLen)(E.name)))throw Error(`Your object needs a property with key : ${E.name} .`);return I(i(h[E.name],E.type)),T},{});function s(h,v){let S=(0,tr.getArrayType)(v);return(0,fh.isString)(h)?h:h.map(T=>i(T,S))}function o(h,v){let S=kf.CairoFixedArray.getFixedArrayType(v),T=kf.CairoFixedArray.getFixedArraySize(v);if(Array.isArray(h)){if(T!==h.length)throw new Error(`ABI type ${v}: array provided do not includes  ${T} items. ${h.length} items provided.`);return h.map(E=>i(E,S))}if(T!==Object.keys(h).length)throw new Error(`ABI type ${v}: object provided do not includes  ${T} properties. ${Object.keys(h).length} items provided.`);return i(h,S)}function u(h,v){return(0,t_.default)(v).reduce((E,I,B)=>{let D=Object.keys(h),q=H=>Object.defineProperty(E,B.toString(),{enumerable:!0,value:H??h[D[B]]}),k=I?.type?I.type:I;return q(i(h[D[B]],k)),E},{})}let l=(h,v)=>{if((0,tr.isTypeResult)(v.name)){let I=h,B=v.name.substring(v.name.indexOf("<")+1,v.name.lastIndexOf(",")),D=v.name.substring(v.name.indexOf(",")+1,v.name.lastIndexOf(">"));return I.isOk()?new Sn.CairoResult(Sn.CairoResultVariant.Ok,i(h.unwrap(),B)):new Sn.CairoResult(Sn.CairoResultVariant.Err,i(h.unwrap(),D))}if((0,tr.isTypeOption)(v.name)){let I=h,B=v.name.substring(v.name.indexOf("<")+1,v.name.lastIndexOf(">"));return I.isSome()?new Sn.CairoOption(Sn.CairoOptionVariant.Some,i(I.unwrap(),B)):new Sn.CairoOption(Sn.CairoOptionVariant.None,{})}let S=h,E=Object.entries(S.variant).map(I=>{if((0,fh.isUndefined)(I[1]))return I;let B=v.type.substring(v.type.lastIndexOf("<")+1,v.type.lastIndexOf(">"));return B==="()"?I:[I[0],i(S.unwrap(),B)]});return new Sn.CairoCustomEnum(Object.fromEntries(E))};return t.reduce((h,v)=>{let S=T=>Object.defineProperty(h,v.name,{enumerable:!0,value:T});return(0,tr.isLen)(v.name)&&!(0,tr.isCairo1Type)(v.type)||S(i(e[v.name],v.type)),h},{})}Xa.default=i_});var Rf=O(Zi=>{g();_();var dh=Zi&&Zi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.parseCalldataField=void 0;var a_=dh(wi()),Gi=Ya(),xi=kn(),Yi=Ki(),Hf=Qt(),s_=Re(),Lf=Ar(),Za=St(),o_=Fi(),Ae=$r(),tn=Ga(),c_=dh(no());function Xi(e,t){switch(!0){case xi.CairoUint256.isAbiType(e):return new xi.CairoUint256(t).toApiRequest();case Yi.CairoUint512.isAbiType(e):return new Yi.CairoUint512(t).toApiRequest();case(0,Ae.isTypeBytes31)(e):return(0,Lf.encodeShortString)(t.toString());case(0,Ae.isTypeSecp256k1Point)(e):{let r=(0,Hf.removeHexPrefix)((0,s_.toHex)(t)).padStart(128,"0"),n=(0,Ae.uint256)((0,Hf.addHexPrefix)(r.slice(-64))),i=(0,Ae.uint256)((0,Hf.addHexPrefix)(r.slice(0,-64)));return[(0,Ae.felt)(i.low),(0,Ae.felt)(i.high),(0,Ae.felt)(n.low),(0,Ae.felt)(n.high)]}default:return(0,Ae.felt)(t)}}function f_(e,t){let r=(0,c_.default)(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n}
      expected: ${r}`);return r.map((i,a)=>({element:n[a],type:i.type??i}))}function u_(e){let t=(0,o_.byteArrayFromString)(e);return[t.data.length.toString(),...t.data.map(r=>r.toString()),t.pending_word.toString(),t.pending_word_len.toString()]}function Br(e,t,r,n){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(Gi.CairoFixedArray.isTypeFixedArray(t)){let i=Gi.CairoFixedArray.getFixedArrayType(t),a=[];if(Array.isArray(e))a=new Gi.CairoFixedArray(e,t).content;else if(typeof e=="object")a=Object.values(e),(0,a_.default)(a.length===Gi.CairoFixedArray.getFixedArraySize(t),`ABI type ${t}: object provided do not includes  ${Gi.CairoFixedArray.getFixedArraySize(t)} items. ${a.length} items provided.`);else throw new Error(`ABI type ${t}: not an Array representing a cairo.fixedArray() provided.`);return a.reduce((s,o)=>s.concat(Br(o,i,r,n)),[])}if(Array.isArray(e)){let i=[];i.push((0,Ae.felt)(e.length));let a=(0,Ae.getArrayType)(t);return e.reduce((s,o)=>s.concat(Br(o,a,r,n)),i)}if(r[t]&&r[t].members.length){if(xi.CairoUint256.isAbiType(t))return new xi.CairoUint256(e).toApiRequest();if(Yi.CairoUint512.isAbiType(t))return new Yi.CairoUint512(e).toApiRequest();if((0,Ae.isTypeEthAddress)(t))return Xi(t,e);if((0,Ae.isTypeByteArray)(t))return u_(e);let{members:i}=r[t],a=e;return i.reduce((s,o)=>s.concat(Br(a[o.name],o.type,r,n)),[])}if((0,Ae.isTypeTuple)(t))return f_(e,t).reduce((a,s)=>{let o=Br(s.element,s.type,r,n);return a.concat(o)},[]);if(xi.CairoUint256.isAbiType(t))return new xi.CairoUint256(e).toApiRequest();if(Yi.CairoUint512.isAbiType(t))return new Yi.CairoUint512(e).toApiRequest();if((0,Ae.isTypeEnum)(t,n)){let{variants:i}=n[t];if((0,Ae.isTypeOption)(t)){let h=e;if(h.isSome()){let v=i.find(E=>E.name==="Some");if((0,Za.isUndefined)(v))throw Error("Error in abi : Option has no 'Some' variant.");let S=v.type;if(S==="()")return tn.CairoOptionVariant.Some.toString();let T=Br(h.unwrap(),S,r,n);return Array.isArray(T)?[tn.CairoOptionVariant.Some.toString(),...T]:[tn.CairoOptionVariant.Some.toString(),T]}return tn.CairoOptionVariant.None.toString()}if((0,Ae.isTypeResult)(t)){let h=e;if(h.isOk()){let E=i.find(D=>D.name==="Ok");if((0,Za.isUndefined)(E))throw Error("Error in abi : Result has no 'Ok' variant.");let I=E.type;if(I==="()")return tn.CairoResultVariant.Ok.toString();let B=Br(h.unwrap(),I,r,n);return Array.isArray(B)?[tn.CairoResultVariant.Ok.toString(),...B]:[tn.CairoResultVariant.Ok.toString(),B]}let v=i.find(E=>E.name==="Err");if((0,Za.isUndefined)(v))throw Error("Error in abi : Result has no 'Err' variant.");let S=v.type;if(S==="()")return tn.CairoResultVariant.Err.toString();let T=Br(h.unwrap(),S,r,n);return Array.isArray(T)?[tn.CairoResultVariant.Err.toString(),...T]:[tn.CairoResultVariant.Err.toString(),T]}let a=e,s=a.activeVariant(),o=i.find(h=>h.name===s);if((0,Za.isUndefined)(o))throw Error(`Not find in abi : Enum has no '${s}' variant.`);let u=o.type,l=i.findIndex(h=>h.name===s);if(u==="()")return l.toString();let b=Br(a.unwrap(),u,r,n);return Array.isArray(b)?[l.toString(),...b]:[l.toString(),b]}if((0,Ae.isTypeNonZero)(t))return Xi((0,Ae.getArrayType)(t),e);if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return Xi(t,e)}function d_(e,t,r,n){let{name:i,type:a}=t,{value:s}=e.next();switch(!0){case Gi.CairoFixedArray.isTypeFixedArray(a):if(!Array.isArray(s)&&typeof s!="object")throw Error(`ABI expected parameter ${i} to be an array or an object, got ${s}`);return Br(s,t.type,r,n);case(0,Ae.isTypeArray)(a):if(!Array.isArray(s)&&!(0,Lf.isText)(s))throw Error(`ABI expected parameter ${i} to be array or long string, got ${s}`);return(0,Za.isString)(s)&&(s=(0,Lf.splitLongString)(s)),Br(s,t.type,r,n);case(0,Ae.isTypeNonZero)(a):return Xi((0,Ae.getArrayType)(a),s);case(0,Ae.isTypeEthAddress)(a):return Xi(a,s);case((0,Ae.isTypeStruct)(a,r)||(0,Ae.isTypeTuple)(a)||xi.CairoUint256.isAbiType(a)):return Br(s,a,r,n);case(0,Ae.isTypeEnum)(a,n):return Br(s,a,r,n);default:return Xi(a,s)}}Zi.parseCalldataField=d_});var hh=O(Qa=>{g();_();var l_=Qa&&Qa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qa,"__esModule",{value:!0});var io=Ya(),ao=kn(),so=Ki(),Wa=Qt(),lh=Re(),h_=Ar(),b_=Fi(),Pt=$r(),Ja=Ga(),p_=l_(no());function jf(e,t){let r;switch(!0){case(0,Pt.isTypeBool)(e):return r=t.next().value,Boolean(BigInt(r));case ao.CairoUint256.isAbiType(e):let n=t.next().value,i=t.next().value;return new ao.CairoUint256(n,i).toBigInt();case so.CairoUint512.isAbiType(e):let a=t.next().value,s=t.next().value,o=t.next().value,u=t.next().value;return new so.CairoUint512(a,s,o,u).toBigInt();case(0,Pt.isTypeEthAddress)(e):return r=t.next().value,BigInt(r);case(0,Pt.isTypeBytes31)(e):return r=t.next().value,(0,h_.decodeShortString)(r);case(0,Pt.isTypeSecp256k1Point)(e):let l=(0,Wa.removeHexPrefix)(t.next().value).padStart(32,"0"),b=(0,Wa.removeHexPrefix)(t.next().value).padStart(32,"0"),h=(0,Wa.removeHexPrefix)(t.next().value).padStart(32,"0"),v=(0,Wa.removeHexPrefix)(t.next().value).padStart(32,"0");return BigInt((0,Wa.addHexPrefix)(b+l+v+h));default:return r=t.next().value,BigInt(r)}}function Tr(e,t,r,n){if(t.type==="()")return{};if(ao.CairoUint256.isAbiType(t.type)){let i=e.next().value,a=e.next().value;return new ao.CairoUint256(i,a).toBigInt()}if(so.CairoUint512.isAbiType(t.type)){let i=e.next().value,a=e.next().value,s=e.next().value,o=e.next().value;return new so.CairoUint512(i,a,s,o).toBigInt()}if((0,Pt.isTypeByteArray)(t.type)){let i=[],a=BigInt(e.next().value);for(;i.length<a;)i.push((0,lh.toHex)(e.next().value));let s=(0,lh.toHex)(e.next().value),o=BigInt(e.next().value),u={data:i,pending_word:s,pending_word_len:o};return(0,b_.stringFromByteArray)(u)}if(io.CairoFixedArray.isTypeFixedArray(t.type)){let i=[],a={name:"",type:io.CairoFixedArray.getFixedArrayType(t.type)},s=io.CairoFixedArray.getFixedArraySize(t.type);for(;i.length<s;)i.push(Tr(e,a,r,n));return i}if((0,Pt.isTypeArray)(t.type)){let i=[],a={name:"",type:(0,Pt.getArrayType)(t.type)},s=BigInt(e.next().value);for(;i.length<s;)i.push(Tr(e,a,r,n));return i}if((0,Pt.isTypeNonZero)(t.type)){let i={name:"",type:(0,Pt.getArrayType)(t.type)};return Tr(e,i,r,n)}if(r&&t.type in r&&r[t.type])return(0,Pt.isTypeEthAddress)(t.type)?jf(t.type,e):r[t.type].members.reduce((i,a)=>(i[a.name]=Tr(e,a,r,n),i),{});if(n&&t.type in n&&n[t.type]){let i=Number(e.next().value),a=n[t.type].variants.reduce((o,u,l)=>l===i?(o[u.name]=Tr(e,{name:"",type:u.type},r,n),o):(o[u.name]=void 0,o),{});if(t.type.startsWith("core::option::Option")){let o=i===Ja.CairoOptionVariant.Some?a.Some:void 0;return new Ja.CairoOption(i,o)}if(t.type.startsWith("core::result::Result")){let o;return i===Ja.CairoResultVariant.Ok?o=a.Ok:o=a.Err,new Ja.CairoResult(i,o)}return new Ja.CairoCustomEnum(a)}if((0,Pt.isTypeTuple)(t.type))return(0,p_.default)(t.type).reduce((a,s,o)=>{let u=s?.name?s.name:o,l=s?.type?s.type:s,b={name:u,type:l};return a[u]=Tr(e,b,r,n),a},{});if((0,Pt.isTypeArray)(t.type)){let i=[],a={name:"",type:(0,Pt.getArrayType)(t.type)},s=BigInt(e.next().value);for(;i.length<s;)i.push(Tr(e,a,r,n));return i}return jf(t.type,e)}function y_(e,t,r,n,i){let{name:a,type:s}=t,o;switch(!0){case(0,Pt.isLen)(a):return o=e.next().value,BigInt(o);case(r&&s in r||(0,Pt.isTypeTuple)(s)):return Tr(e,t,r,n);case(n&&(0,Pt.isTypeEnum)(s,n)):return Tr(e,t,r,n);case io.CairoFixedArray.isTypeFixedArray(s):return Tr(e,t,r,n);case(0,Pt.isTypeArray)(s):if((0,Pt.isCairo1Type)(s))return Tr(e,t,r,n);let u=[];if(i&&i[`${a}_len`]){let l=i[`${a}_len`];for(;u.length<l;)u.push(Tr(e,{name:a,type:t.type.replace("*","")},r,n))}return u;case(0,Pt.isTypeNonZero)(s):return Tr(e,t,r,n);default:return jf(s,e)}}Qa.default=y_});var wh=O(es=>{g();_();var m_=es&&es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(es,"__esModule",{value:!0});var rr=Jr(),ge=m_(wi()),bh=Ya(),ph=kn(),Uf=Ki(),Vf=Re(),g_=Ar(),$t=St(),he=$r(),Ff=(e,t)=>{if((0,ge.default)((0,$t.isString)(e)||(0,$t.isNumber)(e)||(0,$t.isBigInt)(e),`Validate: arg ${t.name} should be a felt typed as (String, Number or BigInt)`),(0,$t.isString)(e)&&!(0,Vf.isHex)(e))return;let r=BigInt(e.toString(10));(0,ge.default)(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`)},__=(e,t)=>{(0,ge.default)((0,$t.isString)(e),`Validate: arg ${t.name} should be a string.`),(0,ge.default)(e.length<32,`Validate: arg ${t.name} cairo typed ${t.type} should be a string of less than 32 characters.`)},v_=(e,t)=>{(0,ge.default)((0,$t.isString)(e),`Validate: arg ${t.name} should be a string.`)},oo=(e,t)=>{(0,$t.isNumber)(e)&&(0,ge.default)(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is too large to be typed as Number use (BigInt or String)"),(0,ge.default)((0,$t.isString)(e)||(0,$t.isNumber)(e)||(0,$t.isBigInt)(e)||(0,$t.isObject)(e)&&"low"in e&&"high"in e||(0,$t.isObject)(e)&&["limb0","limb1","limb2","limb3"].every(n=>n in e),`Validate: arg ${t.name} of cairo type ${t.type} should be type (String, Number or BigInt), but is ${typeof e} ${e}.`);let r;switch(t.type){case rr.Uint.u256:r=new ph.CairoUint256(e).toBigInt();break;case rr.Uint.u512:r=new Uf.CairoUint512(e).toBigInt();break;default:r=(0,Vf.toBigInt)(e)}switch(t.type){case rr.Uint.u8:(0,ge.default)(r>=0n&&r<=255n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0 - 255]`);break;case rr.Uint.u16:(0,ge.default)(r>=0n&&r<=65535n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 65535]`);break;case rr.Uint.u32:(0,ge.default)(r>=0n&&r<=4294967295n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 4294967295]`);break;case rr.Uint.u64:(0,ge.default)(r>=0n&&r<=2n**64n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^64-1]`);break;case rr.Uint.u128:(0,ge.default)(r>=0n&&r<=2n**128n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^128-1]`);break;case rr.Uint.u256:(0,ge.default)(r>=0n&&r<=2n**256n-1n,`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^256-1`);break;case rr.Uint.u512:(0,ge.default)(Uf.CairoUint512.is(r),`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^512-1`);break;case rr.Literal.ClassHash:(0,ge.default)(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case rr.Literal.ContractAddress:(0,ge.default)(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case rr.Literal.Secp256k1Point:{(0,ge.default)(r>=0n&&r<=2n**512n-1n,`Validate: arg ${t.name} must be ${t.type} : a 512 bits number.`);break}case rr.Literal.U96:{(0,ge.default)(r>=0n&&r<=2n**96n-1n,`Validate: arg ${t.name} must be ${t.type} : a 96 bits number.`);break}default:break}},yh=(e,t)=>{(0,ge.default)((0,$t.isBoolean)(e),`Validate: arg ${t.name} of cairo type ${t.type} should be type (Boolean)`)},mh=(e,t,r)=>{if(t.type===rr.Uint.u256||t.type===rr.Uint.u512){oo(e,t);return}if((0,he.isTypeEthAddress)(t.type)){(0,ge.default)(!(0,$t.isObject)(e),`EthAddress type is waiting a BigNumberish. Got "${e}"`);let n=BigInt(e.toString(10));(0,ge.default)(n>=0n&&n<=2n**160n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^160-1]`);return}(0,ge.default)((0,$t.isObject)(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as a js object (not array)`),r[t.type].members.forEach(({name:n})=>{(0,ge.default)(Object.keys(e).includes(n),`Validate: arg ${t.name} should have a property ${n}`)})},gh=(e,t)=>{(0,ge.default)((0,$t.isObject)(e),`Validate: arg ${t.name} is cairo type Enum (${t.type}), and should be defined as a js object (not array)`);let r=Object.getOwnPropertyNames(Object.getPrototypeOf(e)),n=[...Object.getOwnPropertyNames(e),...r];if(!((0,he.isTypeOption)(t.type)&&n.includes("isSome")&&n.includes("isNone"))&&!((0,he.isTypeResult)(t.type)&&n.includes("isOk")&&n.includes("isErr"))&&!(n.includes("variant")&&n.includes("activeVariant")))throw new Error(`Validate Enum: argument ${t.name}, type ${t.type}, value received "${e}", is not an Enum.`)},_h=(e,t)=>{(0,ge.default)((0,$t.isObject)(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},vh=(e,t,r,n)=>{let i=(0,he.isTypeArray)(t.type),a=i?(0,he.getArrayType)(t.type):bh.CairoFixedArray.getFixedArrayType(t.type);if(i&&(0,he.isTypeFelt)(a)&&(0,g_.isLongText)(e))return;let s=[];if(i)(0,ge.default)(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),s=e;else switch(!0){case Array.isArray(e):s=e;break;case typeof e=="object":s=Object.values(e);break;default:throw new Error(`Validate: arg ${t.name} should be an Array or an object.`)}switch(!0){case(0,he.isTypeFelt)(a):s.forEach(o=>Ff(o,t));break;case(0,he.isTypeTuple)(a):s.forEach(o=>_h(o,{name:t.name,type:a}));break;case(0,he.isTypeArray)(a):s.forEach(o=>vh(o,{name:"",type:a},r,n));break;case(0,he.isTypeStruct)(a,r):s.forEach(o=>mh(o,{name:t.name,type:a},r));break;case(0,he.isTypeEnum)(a,n):s.forEach(o=>gh(o,{name:t.name,type:a}));break;case((0,he.isTypeUint)(a)||(0,he.isTypeLiteral)(a)):s.forEach(o=>oo(o,{name:"",type:a}));break;case(0,he.isTypeBool)(a):s.forEach(o=>yh(o,t));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${s}`)}},w_=(e,t)=>{let r=(0,he.getArrayType)(t.type);switch((0,ge.default)((0,he.isTypeUint)(r)&&r!==Uf.CairoUint512.abiSelector||(0,he.isTypeFelt)(r),`Validate: ${t.name} type is not authorized for NonZero type.`),!0){case(0,he.isTypeFelt)(r):Ff(e,t),(0,ge.default)(BigInt(e.toString(10))>0,"Validate: value 0 is not authorized in NonZero felt252 type.");break;case(0,he.isTypeUint)(r):switch(oo(e,{name:"",type:r}),r){case rr.Uint.u256:(0,ge.default)(new ph.CairoUint256(e).toBigInt()>0,"Validate: value 0 is not authorized in NonZero uint256 type.");break;default:(0,ge.default)((0,Vf.toBigInt)(e)>0,"Validate: value 0 is not authorized in NonZero uint type.")}break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value "${e}"`)}};function S_(e,t,r,n){e.inputs.reduce((i,a)=>{let s=t[i];switch(!0){case(0,he.isLen)(a.name):return i;case(0,he.isTypeFelt)(a.type):Ff(s,a);break;case(0,he.isTypeBytes31)(a.type):__(s,a);break;case((0,he.isTypeUint)(a.type)||(0,he.isTypeLiteral)(a.type)):oo(s,a);break;case(0,he.isTypeBool)(a.type):yh(s,a);break;case(0,he.isTypeByteArray)(a.type):v_(s,a);break;case((0,he.isTypeArray)(a.type)||bh.CairoFixedArray.isTypeFixedArray(a.type)):vh(s,a,r,n);break;case(0,he.isTypeStruct)(a.type,r):mh(s,a,r);break;case(0,he.isTypeEnum)(a.type,n):gh(s,a);break;case(0,he.isTypeTuple)(a.type):_h(s,a);break;case(0,he.isTypeNonZero)(a.type):w_(s,a);break;default:throw new Error(`Validate Unhandled: argument ${a.name}, type ${a.type}, value ${s}`)}return i+1},0)}es.default=S_});var Ai=O(qt=>{g();_();var x_=qt&&qt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),A_=qt&&qt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ah=qt&&qt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&x_(t,e,r);return A_(t,e),t},ts=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0});qt.CallData=qt.parseCalldataField=qt.byteArray=qt.cairo=void 0;var co=Jr(),E_=ts(wi()),C_=Re(),T_=St(),M_=Fs(),P_=Ar(),I_=Fi(),Wi=$r(),fo=Ga(),B_=ts(th()),Kf=ah(),O_=ts(uh()),N_=Rf(),Sh=ts(hh()),xh=ts(wh());qt.cairo=Ah($r());qt.byteArray=Ah(Fi());var q_=Rf();Object.defineProperty(qt,"parseCalldataField",{enumerable:!0,get:function(){return q_.parseCalldataField}});var jn=class{constructor(t){this.structs=jn.getAbiStruct(t),this.enums=jn.getAbiEnum(t),this.parser=(0,Kf.createAbiParser)(t),this.abi=this.parser.getLegacyFormat()}validate(t,r,n=[]){if(t!==co.ValidateType.DEPLOY){let s=this.abi.filter(o=>{if(o.type!=="function")return!1;let u=o.stateMutability==="view"||o.state_mutability==="view";return t===co.ValidateType.INVOKE?!u:u}).map(o=>o.name);(0,E_.default)(s.includes(r),`${t===co.ValidateType.INVOKE?"invocable":"viewable"} method not found in abi`)}let i=this.abi.find(s=>t===co.ValidateType.DEPLOY?s.name===r&&s.type==="constructor":s.name===r&&s.type==="function");if((0,Kf.isNoConstructorValid)(r,n,i))return;let a=this.parser.methodInputsLength(i);if(n.length!==a)throw Error(`Invalid number of arguments, expected ${a} arguments, but got ${n.length}`);(0,xh.default)(i,n,this.structs,this.enums)}compile(t,r){let n=this.abi.find(o=>o.name===t);if((0,Kf.isNoConstructorValid)(t,r,n))return[];let i;if(Array.isArray(r))i=r;else{let o=(0,O_.default)(r,n.inputs,this.structs,this.enums);i=Object.values(o),(0,xh.default)(n,i,this.structs,this.enums)}let a=i[Symbol.iterator](),s=n.inputs.reduce((o,u)=>(0,Wi.isLen)(u.name)&&!(0,Wi.isCairo1Type)(u.type)?o:o.concat((0,N_.parseCalldataField)(a,u,this.structs,this.enums)),[]);return Object.defineProperty(s,"__compiled__",{enumerable:!1,writable:!1,value:!0}),s}static compile(t){let r=i=>{let a=(o,u=".")=>{let l=Array.isArray(o)?[o.length.toString(),...o]:o;return Object.entries(l).flatMap(([b,h])=>{let v=h;b==="entrypoint"?v=(0,M_.getSelectorFromName)(v):(0,P_.isLongText)(v)&&(v=(0,I_.byteArrayFromString)(v));let S=Array.isArray(l)&&b==="0"?"$$len":b;if((0,T_.isBigInt)(v))return[[`${u}${S}`,(0,Wi.felt)(v)]];if(Object(v)===v){let T=Object.getOwnPropertyNames(Object.getPrototypeOf(v)),E=[...Object.getOwnPropertyNames(v),...T];if(E.includes("isSome")&&E.includes("isNone")){let I=v,B=I.isSome()?fo.CairoOptionVariant.Some:fo.CairoOptionVariant.None;return I.isSome()?a({0:B,1:I.unwrap()},`${u}${S}.`):[[`${u}${S}`,(0,Wi.felt)(B)]]}if(E.includes("isOk")&&E.includes("isErr")){let I=v,B=I.isOk()?fo.CairoResultVariant.Ok:fo.CairoResultVariant.Err;return a({0:B,1:I.unwrap()},`${u}${S}.`)}if(E.includes("variant")&&E.includes("activeVariant")){let I=v,B=I.activeVariant(),q=Object.keys(I.variant).findIndex(k=>k===B);return typeof I.unwrap()=="object"&&Object.keys(I.unwrap()).length===0?[[`${u}${S}`,(0,Wi.felt)(q)]]:a({0:q,1:I.unwrap()},`${u}${S}.`)}return a(v,`${u}${S}.`)}return[[`${u}${S}`,(0,Wi.felt)(v)]]})};return Object.fromEntries(a(i))},n;if(Array.isArray(t)){let i={...t},a=r(i);n=Object.values(a)}else{let i=r(t);n=Object.values(i)}return Object.defineProperty(n,"__compiled__",{enumerable:!1,writable:!1,value:!0}),n}parse(t,r){let{outputs:n}=this.abi.find(s=>s.name===t),i=r.flat()[Symbol.iterator](),a=n.flat().reduce((s,o,u)=>{let l=o.name??u;return s[l]=(0,Sh.default)(i,o,this.structs,this.enums,s),s[l]&&s[`${l}_len`]&&delete s[`${l}_len`],s},{});return Object.keys(a).length===1&&0 in a?a[0]:a}format(t,r,n){let i=this.parse(t,r);return(0,B_.default)(i,n)}static getAbiStruct(t){return t.filter(r=>r.type==="struct").reduce((r,n)=>({...r,[n.name]:n}),{})}static getAbiEnum(t){let r=t.filter(n=>n.type==="enum").reduce((n,i)=>({...n,[i.name]:i}),{});return delete r["core::bool"],r}static toCalldata(t=[]){return jn.compile(t)}static toHex(t=[]){return jn.compile(t).map(n=>(0,C_.toHex)(n))}decodeParameters(t,r){let n=Array.isArray(t)?t:[t],i=r.flat()[Symbol.iterator](),a=n.map(s=>(0,Sh.default)(i,{name:"",type:s},this.structs,this.enums));return a.length===1?a[0]:a}};qt.CallData=jn});var Eh=O(Un=>{g();_();Object.defineProperty(Un,"__esModule",{value:!0});Un.base58=Un.fromBase58=Un.toBase58=void 0;var $f=uf();Object.defineProperty(Un,"base58",{enumerable:!0,get:function(){return $f.base58}});function D_(e){let t=M.Buffer.from(e);return $f.base58.encode(Uint8Array.from(t))}Un.toBase58=D_;function k_(e){return $f.base58.decode(e)}Un.fromBase58=k_});var Ch=O(Ji=>{g();_();Object.defineProperty(Ji,"__esModule",{value:!0});Ji.validateHexString=Ji.isHexString=void 0;function H_(e,t){return e.match(/^0x[0-9A-Fa-f]*$/)?!(t&&e.length!==2+2*t):!1}Ji.isHexString=H_;function L_(e){if(!e)return!1;let t=e.toLowerCase().startsWith("0x")?e.substring(2).toLowerCase():e.toLowerCase();return!(t.length===0||t.length%2!==0||!t.match(/^[0-9A-Fa-f]*$/))}Ji.validateHexString=L_});var Th=O(rn=>{g();_();Object.defineProperty(rn,"__esModule",{value:!0});rn.isHexPrefixed=rn.stripHexPrefix=rn.fromHex=rn.toHex=void 0;var R_=Ch();function j_(e,t=!1){let r=M.Buffer.from(e);return t?"0x"+r.toString("hex"):r.toString("hex")}rn.toHex=j_;function U_(e){if((e.startsWith("0x")||e.startsWith("0X"))&&(e=e.substring(2)),e.length%2!=0&&(e="0"+e),!(0,R_.validateHexString)(e))throw new Error("invalid hex string");return M.Buffer.from(e,"hex")}rn.fromHex=U_;function V_(e){return e.startsWith("0x")?e.substring(2):e}rn.stripHexPrefix=V_;function F_(e){return e.startsWith("0x")}rn.isHexPrefixed=F_});var xn=O(Ei=>{g();_();Object.defineProperty(Ei,"__esModule",{value:!0});Ei.anumber=zf;Ei.abytes=Mh;Ei.ahash=$_;Ei.aexists=z_;Ei.aoutput=G_;function zf(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function K_(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Mh(e,...t){if(!K_(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function $_(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zf(e.outputLen),zf(e.blockLen)}function z_(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function G_(e,t){Mh(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var Ph=O(uo=>{g();_();Object.defineProperty(uo,"__esModule",{value:!0});uo.crypto=void 0;uo.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var zt=O(be=>{g();_();Object.defineProperty(be,"__esModule",{value:!0});be.Hash=be.nextTick=be.byteSwapIfBE=be.isLE=void 0;be.isBytes=Y_;be.u8=X_;be.u32=Z_;be.createView=W_;be.rotr=J_;be.rotl=Q_;be.byteSwap=Xf;be.byteSwap32=e3;be.bytesToHex=r3;be.hexToBytes=n3;be.asyncLoop=a3;be.utf8ToBytes=Oh;be.toBytes=lo;be.concatBytes=s3;be.checkOpts=o3;be.wrapConstructor=c3;be.wrapConstructorWithOpts=f3;be.wrapXOFConstructorWithOpts=u3;be.randomBytes=d3;var Qi=Ph(),Yf=xn();function Y_(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function X_(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function Z_(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function W_(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function J_(e,t){return e<<32-t|e>>>t}function Q_(e,t){return e<<t|e>>>32-t>>>0}be.isLE=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function Xf(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}be.byteSwapIfBE=be.isLE?e=>e:e=>Xf(e);function e3(e){for(let t=0;t<e.length;t++)e[t]=Xf(e[t])}var Bh=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",t3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function r3(e){if((0,Yf.abytes)(e),Bh)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=t3[e[r]];return t}var An={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ih(e){if(e>=An._0&&e<=An._9)return e-An._0;if(e>=An.A&&e<=An.F)return e-(An.A-10);if(e>=An.a&&e<=An.f)return e-(An.a-10)}function n3(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Bh)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,a=0;i<r;i++,a+=2){let s=Ih(e.charCodeAt(a)),o=Ih(e.charCodeAt(a+1));if(s===void 0||o===void 0){let u=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+a)}n[i]=s*16+o}return n}var i3=async()=>{};be.nextTick=i3;async function a3(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let a=Date.now()-n;a>=0&&a<t||(await(0,be.nextTick)(),n+=a)}}function Oh(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function lo(e){return typeof e=="string"&&(e=Oh(e)),(0,Yf.abytes)(e),e}function s3(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,Yf.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let a=e[n];r.set(a,i),i+=a.length}return r}var Gf=class{clone(){return this._cloneInto()}};be.Hash=Gf;function o3(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function c3(e){let t=n=>e().update(lo(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function f3(e){let t=(n,i)=>e(i).update(lo(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function u3(e){let t=(n,i)=>e(i).update(lo(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function d3(e=32){if(Qi.crypto&&typeof Qi.crypto.getRandomValues=="function")return Qi.crypto.getRandomValues(new Uint8Array(e));if(Qi.crypto&&typeof Qi.crypto.randomBytes=="function")return Uint8Array.from(Qi.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}});var ho=O(Ci=>{g();_();Object.defineProperty(Ci,"__esModule",{value:!0});Ci.HashMD=void 0;Ci.setBigUint64=Nh;Ci.Chi=l3;Ci.Maj=h3;var Zf=xn(),rs=zt();function Nh(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),u=n?4:0,l=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+l,o,n)}function l3(e,t,r){return e&t^~e&r}function h3(e,t,r){return e&t^e&r^t&r}var Wf=class extends rs.Hash{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=(0,rs.createView)(this.buffer)}update(t){(0,Zf.aexists)(this);let{view:r,buffer:n,blockLen:i}=this;t=(0,rs.toBytes)(t);let a=t.length;for(let s=0;s<a;){let o=Math.min(i-this.pos,a-s);if(o===i){let u=(0,rs.createView)(t);for(;i<=a-s;s+=i)this.process(u,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Zf.aexists)(this),(0,Zf.aoutput)(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:a}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let h=s;h<i;h++)r[h]=0;Nh(n,i-8,BigInt(this.length*8),a),this.process(n,0);let o=(0,rs.createView)(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=u/4,b=this.get();if(l>b.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)o.setUint32(4*h,b[h],a)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return t.length=i,t.pos=o,t.finished=a,t.destroyed=s,i%r&&t.buffer.set(n),t}};Ci.HashMD=Wf});var ea=O(Kn=>{g();_();Object.defineProperty(Kn,"__esModule",{value:!0});Kn.sha224=Kn.sha256=Kn.SHA256=void 0;var Jf=ho(),Or=zt(),b3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fn=new Uint32Array(64),ns=class extends Jf.HashMD{constructor(t=32){super(64,t,8,!1),this.A=Vn[0]|0,this.B=Vn[1]|0,this.C=Vn[2]|0,this.D=Vn[3]|0,this.E=Vn[4]|0,this.F=Vn[5]|0,this.G=Vn[6]|0,this.H=Vn[7]|0}get(){let{A:t,B:r,C:n,D:i,E:a,F:s,G:o,H:u}=this;return[t,r,n,i,a,s,o,u]}set(t,r,n,i,a,s,o,u){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=u|0}process(t,r){for(let h=0;h<16;h++,r+=4)Fn[h]=t.getUint32(r,!1);for(let h=16;h<64;h++){let v=Fn[h-15],S=Fn[h-2],T=(0,Or.rotr)(v,7)^(0,Or.rotr)(v,18)^v>>>3,E=(0,Or.rotr)(S,17)^(0,Or.rotr)(S,19)^S>>>10;Fn[h]=E+Fn[h-7]+T+Fn[h-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:u,G:l,H:b}=this;for(let h=0;h<64;h++){let v=(0,Or.rotr)(o,6)^(0,Or.rotr)(o,11)^(0,Or.rotr)(o,25),S=b+v+(0,Jf.Chi)(o,u,l)+b3[h]+Fn[h]|0,E=((0,Or.rotr)(n,2)^(0,Or.rotr)(n,13)^(0,Or.rotr)(n,22))+(0,Jf.Maj)(n,i,a)|0;b=l,l=u,u=o,o=s+S|0,s=a,a=i,i=n,n=S+E|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,u=u+this.F|0,l=l+this.G|0,b=b+this.H|0,this.set(n,i,a,s,o,u,l,b)}roundClean(){Fn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};Kn.SHA256=ns;var Qf=class extends ns{constructor(){super(28),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868}};Kn.sha256=(0,Or.wrapConstructor)(()=>new ns);Kn.sha224=(0,Or.wrapConstructor)(()=>new Qf)});var ta=O(Q=>{g();_();Object.defineProperty(Q,"__esModule",{value:!0});Q.add5L=Q.add5H=Q.add4H=Q.add4L=Q.add3H=Q.add3L=Q.rotlBL=Q.rotlBH=Q.rotlSL=Q.rotlSH=Q.rotr32L=Q.rotr32H=Q.rotrBL=Q.rotrBH=Q.rotrSL=Q.rotrSH=Q.shrSL=Q.shrSH=Q.toBig=void 0;Q.fromBig=tu;Q.split=qh;Q.add=Yh;var bo=BigInt(2**32-1),eu=BigInt(32);function tu(e,t=!1){return t?{h:Number(e&bo),l:Number(e>>eu&bo)}:{h:Number(e>>eu&bo)|0,l:Number(e&bo)|0}}function qh(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:a,l:s}=tu(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}var Dh=(e,t)=>BigInt(e>>>0)<<eu|BigInt(t>>>0);Q.toBig=Dh;var kh=(e,t,r)=>e>>>r;Q.shrSH=kh;var Hh=(e,t,r)=>e<<32-r|t>>>r;Q.shrSL=Hh;var Lh=(e,t,r)=>e>>>r|t<<32-r;Q.rotrSH=Lh;var Rh=(e,t,r)=>e<<32-r|t>>>r;Q.rotrSL=Rh;var jh=(e,t,r)=>e<<64-r|t>>>r-32;Q.rotrBH=jh;var Uh=(e,t,r)=>e>>>r-32|t<<64-r;Q.rotrBL=Uh;var Vh=(e,t)=>t;Q.rotr32H=Vh;var Fh=(e,t)=>e;Q.rotr32L=Fh;var Kh=(e,t,r)=>e<<r|t>>>32-r;Q.rotlSH=Kh;var $h=(e,t,r)=>t<<r|e>>>32-r;Q.rotlSL=$h;var zh=(e,t,r)=>t<<r-32|e>>>64-r;Q.rotlBH=zh;var Gh=(e,t,r)=>e<<r-32|t>>>64-r;Q.rotlBL=Gh;function Yh(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var Xh=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);Q.add3L=Xh;var Zh=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;Q.add3H=Zh;var Wh=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);Q.add4L=Wh;var Jh=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;Q.add4H=Jh;var Qh=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);Q.add5L=Qh;var eb=(e,t,r,n,i,a)=>t+r+n+i+a+(e/2**32|0)|0;Q.add5H=eb;var p3={fromBig:tu,split:qh,toBig:Dh,shrSH:kh,shrSL:Hh,rotrSH:Lh,rotrSL:Rh,rotrBH:jh,rotrBL:Uh,rotr32H:Vh,rotr32L:Fh,rotlSH:Kh,rotlSL:$h,rotlBH:zh,rotlBL:Gh,add:Yh,add3L:Xh,add3H:Zh,add4L:Wh,add4H:Jh,add5H:eb,add5L:Qh};Q.default=p3});var is=O(Dt=>{g();_();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.sha384=Dt.sha512_256=Dt.sha512_224=Dt.sha512=Dt.SHA384=Dt.SHA512_256=Dt.SHA512_224=Dt.SHA512=void 0;var y3=ho(),re=ta(),go=zt(),[m3,g3]=(()=>re.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),$n=new Uint32Array(80),zn=new Uint32Array(80),Ti=class extends y3.HashMD{constructor(t=64){super(128,t,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:a,Cl:s,Dh:o,Dl:u,Eh:l,El:b,Fh:h,Fl:v,Gh:S,Gl:T,Hh:E,Hl:I}=this;return[t,r,n,i,a,s,o,u,l,b,h,v,S,T,E,I]}set(t,r,n,i,a,s,o,u,l,b,h,v,S,T,E,I){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=a|0,this.Cl=s|0,this.Dh=o|0,this.Dl=u|0,this.Eh=l|0,this.El=b|0,this.Fh=h|0,this.Fl=v|0,this.Gh=S|0,this.Gl=T|0,this.Hh=E|0,this.Hl=I|0}process(t,r){for(let q=0;q<16;q++,r+=4)$n[q]=t.getUint32(r),zn[q]=t.getUint32(r+=4);for(let q=16;q<80;q++){let k=$n[q-15]|0,H=zn[q-15]|0,j=re.default.rotrSH(k,H,1)^re.default.rotrSH(k,H,8)^re.default.shrSH(k,H,7),V=re.default.rotrSL(k,H,1)^re.default.rotrSL(k,H,8)^re.default.shrSL(k,H,7),R=$n[q-2]|0,Z=zn[q-2]|0,C=re.default.rotrSH(R,Z,19)^re.default.rotrBH(R,Z,61)^re.default.shrSH(R,Z,6),c=re.default.rotrSL(R,Z,19)^re.default.rotrBL(R,Z,61)^re.default.shrSL(R,Z,6),d=re.default.add4L(V,c,zn[q-7],zn[q-16]),p=re.default.add4H(d,j,C,$n[q-7],$n[q-16]);$n[q]=p|0,zn[q]=d|0}let{Ah:n,Al:i,Bh:a,Bl:s,Ch:o,Cl:u,Dh:l,Dl:b,Eh:h,El:v,Fh:S,Fl:T,Gh:E,Gl:I,Hh:B,Hl:D}=this;for(let q=0;q<80;q++){let k=re.default.rotrSH(h,v,14)^re.default.rotrSH(h,v,18)^re.default.rotrBH(h,v,41),H=re.default.rotrSL(h,v,14)^re.default.rotrSL(h,v,18)^re.default.rotrBL(h,v,41),j=h&S^~h&E,V=v&T^~v&I,R=re.default.add5L(D,H,V,g3[q],zn[q]),Z=re.default.add5H(R,B,k,j,m3[q],$n[q]),C=R|0,c=re.default.rotrSH(n,i,28)^re.default.rotrBH(n,i,34)^re.default.rotrBH(n,i,39),d=re.default.rotrSL(n,i,28)^re.default.rotrBL(n,i,34)^re.default.rotrBL(n,i,39),p=n&a^n&o^a&o,m=i&s^i&u^s&u;B=E|0,D=I|0,E=S|0,I=T|0,S=h|0,T=v|0,{h,l:v}=re.default.add(l|0,b|0,Z|0,C|0),l=o|0,b=u|0,o=a|0,u=s|0,a=n|0,s=i|0;let y=re.default.add3L(C,d,m);n=re.default.add3H(y,Z,c,p),i=y|0}({h:n,l:i}=re.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:a,l:s}=re.default.add(this.Bh|0,this.Bl|0,a|0,s|0),{h:o,l:u}=re.default.add(this.Ch|0,this.Cl|0,o|0,u|0),{h:l,l:b}=re.default.add(this.Dh|0,this.Dl|0,l|0,b|0),{h,l:v}=re.default.add(this.Eh|0,this.El|0,h|0,v|0),{h:S,l:T}=re.default.add(this.Fh|0,this.Fl|0,S|0,T|0),{h:E,l:I}=re.default.add(this.Gh|0,this.Gl|0,E|0,I|0),{h:B,l:D}=re.default.add(this.Hh|0,this.Hl|0,B|0,D|0),this.set(n,i,a,s,o,u,l,b,h,v,S,T,E,I,B,D)}roundClean(){$n.fill(0),zn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Dt.SHA512=Ti;var po=class extends Ti{constructor(){super(28),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735}};Dt.SHA512_224=po;var yo=class extends Ti{constructor(){super(32),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414}};Dt.SHA512_256=yo;var mo=class extends Ti{constructor(){super(48),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868}};Dt.SHA384=mo;Dt.sha512=(0,go.wrapConstructor)(()=>new Ti);Dt.sha512_224=(0,go.wrapConstructor)(()=>new po);Dt.sha512_256=(0,go.wrapConstructor)(()=>new yo);Dt.sha384=(0,go.wrapConstructor)(()=>new mo)});var iu=O(ra=>{g();_();Object.defineProperty(ra,"__esModule",{value:!0});ra.ripemd160=ra.RIPEMD160=void 0;var _3=ho(),as=zt(),v3=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),rb=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),w3=rb.map(e=>(9*e+5)%16),ru=[rb],nu=[w3];for(let e=0;e<4;e++)for(let t of[ru,nu])t.push(t[e].map(r=>v3[r]));var nb=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),S3=ru.map((e,t)=>e.map(r=>nb[t][r])),x3=nu.map((e,t)=>e.map(r=>nb[t][r])),A3=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),E3=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function tb(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}var _o=new Uint32Array(16),vo=class extends _3.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:r,h2:n,h3:i,h4:a}=this;return[t,r,n,i,a]}set(t,r,n,i,a){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=a|0}process(t,r){for(let S=0;S<16;S++,r+=4)_o[S]=t.getUint32(r,!0);let n=this.h0|0,i=n,a=this.h1|0,s=a,o=this.h2|0,u=o,l=this.h3|0,b=l,h=this.h4|0,v=h;for(let S=0;S<5;S++){let T=4-S,E=A3[S],I=E3[S],B=ru[S],D=nu[S],q=S3[S],k=x3[S];for(let H=0;H<16;H++){let j=(0,as.rotl)(n+tb(S,a,o,l)+_o[B[H]]+E,q[H])+h|0;n=h,h=l,l=(0,as.rotl)(o,10)|0,o=a,a=j}for(let H=0;H<16;H++){let j=(0,as.rotl)(i+tb(T,s,u,b)+_o[D[H]]+I,k[H])+v|0;i=v,v=b,b=(0,as.rotl)(u,10)|0,u=s,s=j}}this.set(this.h1+o+b|0,this.h2+l+v|0,this.h3+h+i|0,this.h4+n+s|0,this.h0+a+u|0)}roundClean(){_o.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};ra.RIPEMD160=vo;ra.ripemd160=(0,as.wrapConstructor)(()=>new vo)});var wo=O(Oe=>{g();_();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.shake256=Oe.shake128=Oe.keccak_512=Oe.keccak_384=Oe.keccak_256=Oe.keccak_224=Oe.sha3_512=Oe.sha3_384=Oe.sha3_256=Oe.sha3_224=Oe.Keccak=void 0;Oe.keccakP=fb;var na=xn(),os=ta(),En=zt(),sb=[],ob=[],cb=[],C3=BigInt(0),ss=BigInt(1),T3=BigInt(2),M3=BigInt(7),P3=BigInt(256),I3=BigInt(113);for(let e=0,t=ss,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],sb.push(2*(5*n+r)),ob.push((e+1)*(e+2)/2%64);let i=C3;for(let a=0;a<7;a++)t=(t<<ss^(t>>M3)*I3)%P3,t&T3&&(i^=ss<<(ss<<BigInt(a))-ss);cb.push(i)}var[B3,O3]=(0,os.split)(cb,!0),ib=(e,t,r)=>r>32?(0,os.rotlBH)(e,t,r):(0,os.rotlSH)(e,t,r),ab=(e,t,r)=>r>32?(0,os.rotlBL)(e,t,r):(0,os.rotlSL)(e,t,r);function fb(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let o=(s+8)%10,u=(s+2)%10,l=r[u],b=r[u+1],h=ib(l,b,1)^r[o],v=ab(l,b,1)^r[o+1];for(let S=0;S<50;S+=10)e[s+S]^=h,e[s+S+1]^=v}let i=e[2],a=e[3];for(let s=0;s<24;s++){let o=ob[s],u=ib(i,a,o),l=ab(i,a,o),b=sb[s];i=e[b],a=e[b+1],e[b]=u,e[b+1]=l}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=e[s+o];for(let o=0;o<10;o++)e[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}e[0]^=B3[n],e[1]^=O3[n]}r.fill(0)}var Mi=class extends En.Hash{constructor(t,r,n,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,(0,na.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,En.u32)(this.state)}keccak(){En.isLE||(0,En.byteSwap32)(this.state32),fb(this.state32,this.rounds),En.isLE||(0,En.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,na.aexists)(this);let{blockLen:r,state:n}=this;t=(0,En.toBytes)(t);let i=t.length;for(let a=0;a<i;){let s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=t[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,na.aexists)(this,!1),(0,na.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,a=t.length;i<a;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,a-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,na.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,na.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return t||(t=new Mi(r,n,i,s,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};Oe.Keccak=Mi;var Gn=(e,t,r)=>(0,En.wrapConstructor)(()=>new Mi(t,e,r));Oe.sha3_224=Gn(6,144,224/8);Oe.sha3_256=Gn(6,136,256/8);Oe.sha3_384=Gn(6,104,384/8);Oe.sha3_512=Gn(6,72,512/8);Oe.keccak_224=Gn(1,144,224/8);Oe.keccak_256=Gn(1,136,256/8);Oe.keccak_384=Gn(1,104,384/8);Oe.keccak_512=Gn(1,72,512/8);var ub=(e,t,r)=>(0,En.wrapXOFConstructorWithOpts)((n={})=>new Mi(t,e,n.dkLen===void 0?r:n.dkLen,!0));Oe.shake128=ub(31,168,128/8);Oe.shake256=ub(31,136,256/8)});var So=O(aa=>{g();_();Object.defineProperty(aa,"__esModule",{value:!0});aa.BLAKE=aa.SIGMA=void 0;var ia=xn(),Gt=zt();aa.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);var au=class extends Gt.Hash{constructor(t,r,n={},i,a,s){if(super(),this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,ia.anumber)(t),(0,ia.anumber)(r),(0,ia.anumber)(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error("key length must be undefined or 1.."+i);if(n.salt!==void 0&&n.salt.length!==a)throw new Error("salt must be undefined or "+a);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error("personalization must be undefined or "+s);this.blockLen=t,this.outputLen=r,this.buffer=new Uint8Array(t),this.buffer32=(0,Gt.u32)(this.buffer)}update(t){(0,ia.aexists)(this);let{blockLen:r,buffer:n,buffer32:i}=this;t=(0,Gt.toBytes)(t);let a=t.length,s=t.byteOffset,o=t.buffer;for(let u=0;u<a;){this.pos===r&&(Gt.isLE||(0,Gt.byteSwap32)(i),this.compress(i,0,!1),Gt.isLE||(0,Gt.byteSwap32)(i),this.pos=0);let l=Math.min(r-this.pos,a-u),b=s+u;if(l===r&&!(b%4)&&u+l<a){let h=new Uint32Array(o,b,Math.floor((a-u)/4));Gt.isLE||(0,Gt.byteSwap32)(h);for(let v=0;u+r<a;v+=i.length,u+=r)this.length+=r,this.compress(h,v,!1);Gt.isLE||(0,Gt.byteSwap32)(h);continue}n.set(t.subarray(u,u+l),this.pos),this.pos+=l,this.length+=l,u+=l}return this}digestInto(t){(0,ia.aexists)(this),(0,ia.aoutput)(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),Gt.isLE||(0,Gt.byteSwap32)(n),this.compress(n,0,!0),Gt.isLE||(0,Gt.byteSwap32)(n);let i=(0,Gt.u32)(t);this.get().forEach((a,s)=>i[s]=(0,Gt.byteSwapIfBE)(a))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:i,destroyed:a,outputLen:s,pos:o}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.length=n,t.finished=i,t.destroyed=a,t.outputLen=s,t.buffer.set(r),t.pos=o,t}};aa.BLAKE=au});var su=O(sa=>{g();_();Object.defineProperty(sa,"__esModule",{value:!0});sa.blake2b=sa.BLAKE2b=void 0;var db=So(),cr=ta(),hr=zt(),It=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),K=new Uint32Array(32);function Yn(e,t,r,n,i,a){let s=i[a],o=i[a+1],u=K[2*e],l=K[2*e+1],b=K[2*t],h=K[2*t+1],v=K[2*r],S=K[2*r+1],T=K[2*n],E=K[2*n+1],I=cr.default.add3L(u,b,s);l=cr.default.add3H(I,l,h,o),u=I|0,{Dh:E,Dl:T}={Dh:E^l,Dl:T^u},{Dh:E,Dl:T}={Dh:cr.default.rotr32H(E,T),Dl:cr.default.rotr32L(E,T)},{h:S,l:v}=cr.default.add(S,v,E,T),{Bh:h,Bl:b}={Bh:h^S,Bl:b^v},{Bh:h,Bl:b}={Bh:cr.default.rotrSH(h,b,24),Bl:cr.default.rotrSL(h,b,24)},K[2*e]=u,K[2*e+1]=l,K[2*t]=b,K[2*t+1]=h,K[2*r]=v,K[2*r+1]=S,K[2*n]=T,K[2*n+1]=E}function Xn(e,t,r,n,i,a){let s=i[a],o=i[a+1],u=K[2*e],l=K[2*e+1],b=K[2*t],h=K[2*t+1],v=K[2*r],S=K[2*r+1],T=K[2*n],E=K[2*n+1],I=cr.default.add3L(u,b,s);l=cr.default.add3H(I,l,h,o),u=I|0,{Dh:E,Dl:T}={Dh:E^l,Dl:T^u},{Dh:E,Dl:T}={Dh:cr.default.rotrSH(E,T,16),Dl:cr.default.rotrSL(E,T,16)},{h:S,l:v}=cr.default.add(S,v,E,T),{Bh:h,Bl:b}={Bh:h^S,Bl:b^v},{Bh:h,Bl:b}={Bh:cr.default.rotrBH(h,b,63),Bl:cr.default.rotrBL(h,b,63)},K[2*e]=u,K[2*e+1]=l,K[2*t]=b,K[2*t+1]=h,K[2*r]=v,K[2*r+1]=S,K[2*n]=T,K[2*n+1]=E}var xo=class extends db.BLAKE{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=It[0]|0,this.v0h=It[1]|0,this.v1l=It[2]|0,this.v1h=It[3]|0,this.v2l=It[4]|0,this.v2h=It[5]|0,this.v3l=It[6]|0,this.v3h=It[7]|0,this.v4l=It[8]|0,this.v4h=It[9]|0,this.v5l=It[10]|0,this.v5h=It[11]|0,this.v6l=It[12]|0,this.v6h=It[13]|0,this.v7l=It[14]|0,this.v7h=It[15]|0;let r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|1<<16|1<<24,t.salt){let n=(0,hr.u32)((0,hr.toBytes)(t.salt));this.v4l^=(0,hr.byteSwapIfBE)(n[0]),this.v4h^=(0,hr.byteSwapIfBE)(n[1]),this.v5l^=(0,hr.byteSwapIfBE)(n[2]),this.v5h^=(0,hr.byteSwapIfBE)(n[3])}if(t.personalization){let n=(0,hr.u32)((0,hr.toBytes)(t.personalization));this.v6l^=(0,hr.byteSwapIfBE)(n[0]),this.v6h^=(0,hr.byteSwapIfBE)(n[1]),this.v7l^=(0,hr.byteSwapIfBE)(n[2]),this.v7h^=(0,hr.byteSwapIfBE)(n[3])}if(t.key){let n=new Uint8Array(this.blockLen);n.set((0,hr.toBytes)(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:i,v2l:a,v2h:s,v3l:o,v3h:u,v4l:l,v4h:b,v5l:h,v5h:v,v6l:S,v6h:T,v7l:E,v7h:I}=this;return[t,r,n,i,a,s,o,u,l,b,h,v,S,T,E,I]}set(t,r,n,i,a,s,o,u,l,b,h,v,S,T,E,I){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=a|0,this.v2h=s|0,this.v3l=o|0,this.v3h=u|0,this.v4l=l|0,this.v4h=b|0,this.v5l=h|0,this.v5h=v|0,this.v6l=S|0,this.v6h=T|0,this.v7l=E|0,this.v7h=I|0}compress(t,r,n){this.get().forEach((u,l)=>K[l]=u),K.set(It,16);let{h:i,l:a}=cr.default.fromBig(BigInt(this.length));K[24]=It[8]^a,K[25]=It[9]^i,n&&(K[28]=~K[28],K[29]=~K[29]);let s=0,o=db.SIGMA;for(let u=0;u<12;u++)Yn(0,4,8,12,t,r+2*o[s++]),Xn(0,4,8,12,t,r+2*o[s++]),Yn(1,5,9,13,t,r+2*o[s++]),Xn(1,5,9,13,t,r+2*o[s++]),Yn(2,6,10,14,t,r+2*o[s++]),Xn(2,6,10,14,t,r+2*o[s++]),Yn(3,7,11,15,t,r+2*o[s++]),Xn(3,7,11,15,t,r+2*o[s++]),Yn(0,5,10,15,t,r+2*o[s++]),Xn(0,5,10,15,t,r+2*o[s++]),Yn(1,6,11,12,t,r+2*o[s++]),Xn(1,6,11,12,t,r+2*o[s++]),Yn(2,7,8,13,t,r+2*o[s++]),Xn(2,7,8,13,t,r+2*o[s++]),Yn(3,4,9,14,t,r+2*o[s++]),Xn(3,4,9,14,t,r+2*o[s++]);this.v0l^=K[0]^K[16],this.v0h^=K[1]^K[17],this.v1l^=K[2]^K[18],this.v1h^=K[3]^K[19],this.v2l^=K[4]^K[20],this.v2h^=K[5]^K[21],this.v3l^=K[6]^K[22],this.v3h^=K[7]^K[23],this.v4l^=K[8]^K[24],this.v4h^=K[9]^K[25],this.v5l^=K[10]^K[26],this.v5h^=K[11]^K[27],this.v6l^=K[12]^K[28],this.v6h^=K[13]^K[29],this.v7l^=K[14]^K[30],this.v7h^=K[15]^K[31],K.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};sa.BLAKE2b=xo;sa.blake2b=(0,hr.wrapConstructorWithOpts)(e=>new xo(e))});var Eo=O(Ne=>{g();_();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.sha3_512=Ne.sha3_256=Ne.ripemd160=Ne.sha512=Ne.sha256=Ne.magicHash=Ne.blake2=Ne.keccak256=Ne.keccak=Ne.hash160=Ne.doubleSha256=void 0;var Ao=ea();Object.defineProperty(Ne,"sha256",{enumerable:!0,get:function(){return Ao.sha256}});var N3=is();Object.defineProperty(Ne,"sha512",{enumerable:!0,get:function(){return N3.sha512}});var hb=iu();Object.defineProperty(Ne,"ripemd160",{enumerable:!0,get:function(){return hb.ripemd160}});var oa=wo();Object.defineProperty(Ne,"sha3_256",{enumerable:!0,get:function(){return oa.sha3_256}});Object.defineProperty(Ne,"sha3_512",{enumerable:!0,get:function(){return oa.sha3_512}});var q3=su();function bb(e){let t=(0,Ao.sha256)(e);return(0,Ao.sha256)(t)}Ne.doubleSha256=bb;function D3(e){let t=(0,Ao.sha256)(e);return(0,hb.ripemd160)(t)}Ne.hash160=D3;var k3=function(e,t=256){let r=M.Buffer.from(e);switch(t){case 224:return M.Buffer.from((0,oa.keccak_224)(r));case 256:return M.Buffer.from((0,oa.keccak_256)(r));case 384:return M.Buffer.from((0,oa.keccak_384)(r));case 512:return M.Buffer.from((0,oa.keccak_512)(r));default:throw new Error(`Invald algorithm: keccak${t}`)}};Ne.keccak=k3;var H3=function(e){return(0,Ne.keccak)(e)};Ne.keccak256=H3;function L3(e,t,r){let n=Math.ceil(t/8);return(0,q3.blake2b)(e,{dkLen:n,key:r})}Ne.blake2=L3;function lb(e){let t;return e<253?(t=M.Buffer.alloc(1),t.writeUInt8(e,0)):e<65536?(t=M.Buffer.alloc(1+2),t.writeUInt8(253,0),t.writeUInt16LE(e,1)):e<4294967296?(t=M.Buffer.alloc(1+4),t.writeUInt8(254,0),t.writeUInt32LE(e,1)):(t=M.Buffer.alloc(1+8),t.writeUInt8(255,0),t.writeInt32LE(e&-1,1),t.writeUInt32LE(Math.floor(e/4294967296),5)),t}var R3=M.Buffer.from(`Bitcoin Signed Message:
`);function j3(e,t){let r=t?M.Buffer.from(t,"utf8"):R3,n=lb(r.length),i=M.Buffer.from(e),a=lb(i.length),s=M.Buffer.concat([n,r,a,i]);return bb(s)}Ne.magicHash=j3});var fs=O(Pi=>{g();_();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.hmac=Pi.HMAC=void 0;var Co=xn(),pb=zt(),cs=class extends pb.Hash{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,(0,Co.ahash)(t);let n=(0,pb.toBytes)(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=t.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(t){return(0,Co.aexists)(this),this.iHash.update(t),this}digestInto(t){(0,Co.aexists)(this),(0,Co.abytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return t=t,t.finished=i,t.destroyed=a,t.blockLen=s,t.outputLen=o,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Pi.HMAC=cs;var U3=(e,t,r)=>new cs(e,t).update(r).digest();Pi.hmac=U3;Pi.hmac.create=(e,t)=>new cs(e,t)});var gb=O(ca=>{g();_();Object.defineProperty(ca,"__esModule",{value:!0});ca.hmacSHA512=ca.hmacSHA256=void 0;var yb=fs(),mb=Eo();function V3(e,t){return M.Buffer.from((0,yb.hmac)(mb.sha256,e,t))}ca.hmacSHA256=V3;function F3(e,t){return M.Buffer.from((0,yb.hmac)(mb.sha512,e,t))}ca.hmacSHA512=F3});var ou=O(we=>{g();_();Object.defineProperty(we,"__esModule",{value:!0});we.blake2s=we.BLAKE2s=we.B2S_IV=void 0;we.G1s=Cn;we.G2s=Tn;we.compress=vb;var _b=So(),K3=ta(),br=zt();we.B2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);function Cn(e,t,r,n,i){return e=e+t+i|0,n=(0,br.rotr)(n^e,16),r=r+n|0,t=(0,br.rotr)(t^r,12),{a:e,b:t,c:r,d:n}}function Tn(e,t,r,n,i){return e=e+t+i|0,n=(0,br.rotr)(n^e,8),r=r+n|0,t=(0,br.rotr)(t^r,7),{a:e,b:t,c:r,d:n}}function vb(e,t,r,n,i,a,s,o,u,l,b,h,v,S,T,E,I,B,D,q){let k=0;for(let H=0;H<n;H++)({a:i,b:u,c:v,d:I}=Cn(i,u,v,I,r[t+e[k++]])),{a:i,b:u,c:v,d:I}=Tn(i,u,v,I,r[t+e[k++]]),{a,b:l,c:S,d:B}=Cn(a,l,S,B,r[t+e[k++]]),{a,b:l,c:S,d:B}=Tn(a,l,S,B,r[t+e[k++]]),{a:s,b,c:T,d:D}=Cn(s,b,T,D,r[t+e[k++]]),{a:s,b,c:T,d:D}=Tn(s,b,T,D,r[t+e[k++]]),{a:o,b:h,c:E,d:q}=Cn(o,h,E,q,r[t+e[k++]]),{a:o,b:h,c:E,d:q}=Tn(o,h,E,q,r[t+e[k++]]),{a:i,b:l,c:T,d:q}=Cn(i,l,T,q,r[t+e[k++]]),{a:i,b:l,c:T,d:q}=Tn(i,l,T,q,r[t+e[k++]]),{a,b,c:E,d:I}=Cn(a,b,E,I,r[t+e[k++]]),{a,b,c:E,d:I}=Tn(a,b,E,I,r[t+e[k++]]),{a:s,b:h,c:v,d:B}=Cn(s,h,v,B,r[t+e[k++]]),{a:s,b:h,c:v,d:B}=Tn(s,h,v,B,r[t+e[k++]]),{a:o,b:u,c:S,d:D}=Cn(o,u,S,D,r[t+e[k++]]),{a:o,b:u,c:S,d:D}=Tn(o,u,S,D,r[t+e[k++]]);return{v0:i,v1:a,v2:s,v3:o,v4:u,v5:l,v6:b,v7:h,v8:v,v9:S,v10:T,v11:E,v12:I,v13:B,v14:D,v15:q}}var To=class extends _b.BLAKE{constructor(t={}){super(64,t.dkLen===void 0?32:t.dkLen,t,32,8,8),this.v0=we.B2S_IV[0]|0,this.v1=we.B2S_IV[1]|0,this.v2=we.B2S_IV[2]|0,this.v3=we.B2S_IV[3]|0,this.v4=we.B2S_IV[4]|0,this.v5=we.B2S_IV[5]|0,this.v6=we.B2S_IV[6]|0,this.v7=we.B2S_IV[7]|0;let r=t.key?t.key.length:0;if(this.v0^=this.outputLen|r<<8|1<<16|1<<24,t.salt){let n=(0,br.u32)((0,br.toBytes)(t.salt));this.v4^=(0,br.byteSwapIfBE)(n[0]),this.v5^=(0,br.byteSwapIfBE)(n[1])}if(t.personalization){let n=(0,br.u32)((0,br.toBytes)(t.personalization));this.v6^=(0,br.byteSwapIfBE)(n[0]),this.v7^=(0,br.byteSwapIfBE)(n[1])}if(t.key){let n=new Uint8Array(this.blockLen);n.set((0,br.toBytes)(t.key)),this.update(n)}}get(){let{v0:t,v1:r,v2:n,v3:i,v4:a,v5:s,v6:o,v7:u}=this;return[t,r,n,i,a,s,o,u]}set(t,r,n,i,a,s,o,u){this.v0=t|0,this.v1=r|0,this.v2=n|0,this.v3=i|0,this.v4=a|0,this.v5=s|0,this.v6=o|0,this.v7=u|0}compress(t,r,n){let{h:i,l:a}=(0,K3.fromBig)(BigInt(this.length)),{v0:s,v1:o,v2:u,v3:l,v4:b,v5:h,v6:v,v7:S,v8:T,v9:E,v10:I,v11:B,v12:D,v13:q,v14:k,v15:H}=vb(_b.SIGMA,r,t,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,we.B2S_IV[0],we.B2S_IV[1],we.B2S_IV[2],we.B2S_IV[3],a^we.B2S_IV[4],i^we.B2S_IV[5],n?~we.B2S_IV[6]:we.B2S_IV[6],we.B2S_IV[7]);this.v0^=s^T,this.v1^=o^E,this.v2^=u^I,this.v3^=l^B,this.v4^=b^D,this.v5^=h^q,this.v6^=v^k,this.v7^=S^H}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}};we.BLAKE2s=To;we.blake2s=(0,br.wrapConstructorWithOpts)(e=>new To(e))});var Io=O(Po=>{g();_();Object.defineProperty(Po,"__esModule",{value:!0});Po.pbkdf2=z3;Po.pbkdf2Async=G3;var Mo=xn(),$3=fs(),fa=zt();function wb(e,t,r,n){(0,Mo.ahash)(e);let i=(0,fa.checkOpts)({dkLen:32,asyncTick:10},n),{c:a,dkLen:s,asyncTick:o}=i;if((0,Mo.anumber)(a),(0,Mo.anumber)(s),(0,Mo.anumber)(o),a<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let u=(0,fa.toBytes)(t),l=(0,fa.toBytes)(r),b=new Uint8Array(s),h=$3.hmac.create(e,u),v=h._cloneInto().update(l);return{c:a,dkLen:s,asyncTick:o,DK:b,PRF:h,PRFSalt:v}}function Sb(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function z3(e,t,r,n){let{c:i,dkLen:a,DK:s,PRF:o,PRFSalt:u}=wb(e,t,r,n),l,b=new Uint8Array(4),h=(0,fa.createView)(b),v=new Uint8Array(o.outputLen);for(let S=1,T=0;T<a;S++,T+=o.outputLen){let E=s.subarray(T,T+o.outputLen);h.setInt32(0,S,!1),(l=u._cloneInto(l)).update(b).digestInto(v),E.set(v.subarray(0,E.length));for(let I=1;I<i;I++){o._cloneInto(l).update(v).digestInto(v);for(let B=0;B<E.length;B++)E[B]^=v[B]}}return Sb(o,u,s,l,v)}async function G3(e,t,r,n){let{c:i,dkLen:a,asyncTick:s,DK:o,PRF:u,PRFSalt:l}=wb(e,t,r,n),b,h=new Uint8Array(4),v=(0,fa.createView)(h),S=new Uint8Array(u.outputLen);for(let T=1,E=0;E<a;T++,E+=u.outputLen){let I=o.subarray(E,E+u.outputLen);v.setInt32(0,T,!1),(b=l._cloneInto(b)).update(h).digestInto(S),I.set(S.subarray(0,I.length)),await(0,fa.asyncLoop)(i-1,s,()=>{u._cloneInto(b).update(S).digestInto(S);for(let B=0;B<I.length;B++)I[B]^=S[B]})}return Sb(u,l,o,b,S)}});var Mb=O(Bo=>{g();_();Object.defineProperty(Bo,"__esModule",{value:!0});Bo.scrypt=Y3;Bo.scryptAsync=X3;var ua=xn(),Ab=Io(),Eb=ea(),J=zt();function xb(e,t,r,n,i,a){let s=e[t++]^r[n++],o=e[t++]^r[n++],u=e[t++]^r[n++],l=e[t++]^r[n++],b=e[t++]^r[n++],h=e[t++]^r[n++],v=e[t++]^r[n++],S=e[t++]^r[n++],T=e[t++]^r[n++],E=e[t++]^r[n++],I=e[t++]^r[n++],B=e[t++]^r[n++],D=e[t++]^r[n++],q=e[t++]^r[n++],k=e[t++]^r[n++],H=e[t++]^r[n++],j=s,V=o,R=u,Z=l,C=b,c=h,d=v,p=S,m=T,y=E,A=I,P=B,w=D,f=q,x=k,U=H;for(let F=0;F<8;F+=2)C^=(0,J.rotl)(j+w|0,7),m^=(0,J.rotl)(C+j|0,9),w^=(0,J.rotl)(m+C|0,13),j^=(0,J.rotl)(w+m|0,18),y^=(0,J.rotl)(c+V|0,7),f^=(0,J.rotl)(y+c|0,9),V^=(0,J.rotl)(f+y|0,13),c^=(0,J.rotl)(V+f|0,18),x^=(0,J.rotl)(A+d|0,7),R^=(0,J.rotl)(x+A|0,9),d^=(0,J.rotl)(R+x|0,13),A^=(0,J.rotl)(d+R|0,18),Z^=(0,J.rotl)(U+P|0,7),p^=(0,J.rotl)(Z+U|0,9),P^=(0,J.rotl)(p+Z|0,13),U^=(0,J.rotl)(P+p|0,18),V^=(0,J.rotl)(j+Z|0,7),R^=(0,J.rotl)(V+j|0,9),Z^=(0,J.rotl)(R+V|0,13),j^=(0,J.rotl)(Z+R|0,18),d^=(0,J.rotl)(c+C|0,7),p^=(0,J.rotl)(d+c|0,9),C^=(0,J.rotl)(p+d|0,13),c^=(0,J.rotl)(C+p|0,18),P^=(0,J.rotl)(A+y|0,7),m^=(0,J.rotl)(P+A|0,9),y^=(0,J.rotl)(m+P|0,13),A^=(0,J.rotl)(y+m|0,18),w^=(0,J.rotl)(U+x|0,7),f^=(0,J.rotl)(w+U|0,9),x^=(0,J.rotl)(f+w|0,13),U^=(0,J.rotl)(x+f|0,18);i[a++]=s+j|0,i[a++]=o+V|0,i[a++]=u+R|0,i[a++]=l+Z|0,i[a++]=b+C|0,i[a++]=h+c|0,i[a++]=v+d|0,i[a++]=S+p|0,i[a++]=T+m|0,i[a++]=E+y|0,i[a++]=I+A|0,i[a++]=B+P|0,i[a++]=D+w|0,i[a++]=q+f|0,i[a++]=k+x|0,i[a++]=H+U|0}function da(e,t,r,n,i){let a=n+0,s=n+16*i;for(let o=0;o<16;o++)r[s+o]=e[t+(2*i-1)*16+o];for(let o=0;o<i;o++,a+=16,t+=16)xb(r,s,e,t,r,a),o>0&&(s+=16),xb(r,a,e,t+=16,r,s)}function Cb(e,t,r){let n=(0,J.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:a,p:s,dkLen:o,asyncTick:u,maxmem:l,onProgress:b}=n;if((0,ua.anumber)(i),(0,ua.anumber)(a),(0,ua.anumber)(s),(0,ua.anumber)(o),(0,ua.anumber)(u),(0,ua.anumber)(l),b!==void 0&&typeof b!="function")throw new Error("progressCb should be function");let h=128*a,v=h/4;if(i<=1||(i&i-1)!==0||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, and less than 2^32");if(s<0||s>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");if(h*(i+s)>l)throw new Error("Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of "+l);let T=(0,Ab.pbkdf2)(Eb.sha256,e,t,{c:1,dkLen:h*s}),E=(0,J.u32)(T),I=(0,J.u32)(new Uint8Array(h*i)),B=(0,J.u32)(new Uint8Array(h)),D=()=>{};if(b){let q=2*i*s,k=Math.max(Math.floor(q/1e4),1),H=0;D=()=>{H++,b&&(!(H%k)||H===q)&&b(H/q)}}return{N:i,r:a,p:s,dkLen:o,blockSize32:v,V:I,B32:E,B:T,tmp:B,blockMixCb:D,asyncTick:u}}function Tb(e,t,r,n,i){let a=(0,Ab.pbkdf2)(Eb.sha256,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),a}function Y3(e,t,r){let{N:n,r:i,p:a,dkLen:s,blockSize32:o,V:u,B32:l,B:b,tmp:h,blockMixCb:v}=Cb(e,t,r);J.isLE||(0,J.byteSwap32)(l);for(let S=0;S<a;S++){let T=o*S;for(let E=0;E<o;E++)u[E]=l[T+E];for(let E=0,I=0;E<n-1;E++)da(u,I,u,I+=o,i),v();da(u,(n-1)*o,l,T,i),v();for(let E=0;E<n;E++){let I=l[T+o-16]%n;for(let B=0;B<o;B++)h[B]=l[T+B]^u[I*o+B];da(h,0,l,T,i),v()}}return J.isLE||(0,J.byteSwap32)(l),Tb(e,s,b,u,h)}async function X3(e,t,r){let{N:n,r:i,p:a,dkLen:s,blockSize32:o,V:u,B32:l,B:b,tmp:h,blockMixCb:v,asyncTick:S}=Cb(e,t,r);J.isLE||(0,J.byteSwap32)(l);for(let T=0;T<a;T++){let E=o*T;for(let B=0;B<o;B++)u[B]=l[E+B];let I=0;await(0,J.asyncLoop)(n-1,S,()=>{da(u,I,u,I+=o,i),v()}),da(u,(n-1)*o,l,E,i),v(),await(0,J.asyncLoop)(n,S,()=>{let B=l[E+o-16]%n;for(let D=0;D<o;D++)h[D]=l[E+D]^u[B*o+D];da(h,0,l,E,i),v()})}return J.isLE||(0,J.byteSwap32)(l),Tb(e,s,b,u,h)}});var Bb=O(ha=>{g();_();Object.defineProperty(ha,"__esModule",{value:!0});ha.blake3=ha.BLAKE3=void 0;var us=xn(),Z3=So(),Pb=ta(),zr=ou(),kt=zt(),nn={CHUNK_START:1<<0,CHUNK_END:1<<1,PARENT:1<<2,ROOT:1<<3,KEYED_HASH:1<<4,DERIVE_KEY_CONTEXT:1<<5,DERIVE_KEY_MATERIAL:1<<6},Ib=(()=>{let e=Array.from({length:16},(n,i)=>i),t=n=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map(i=>n[i]),r=[];for(let n=0,i=e;n<7;n++,i=t(i))r.push(...i);return Uint8Array.from(r)})(),la=class extends Z3.BLAKE{constructor(t={},r=0){let n=t.dkLen===void 0?32:t.dkLen;if(super(64,n,{},Number.MAX_SAFE_INTEGER,0,0),this.flags=0,this.chunkPos=0,this.chunksDone=0,this.stack=[],this.posOut=0,this.bufferOut32=new Uint32Array(16),this.chunkOut=0,this.enableXOF=!0,(0,us.anumber)(this.outputLen),t.key!==void 0&&t.context!==void 0)throw new Error("Blake3: only key or context can be specified at same time");if(t.key!==void 0){let i=(0,kt.toBytes)(t.key).slice();if(i.length!==32)throw new Error("Blake3: key should be 32 byte");this.IV=(0,kt.u32)(i),kt.isLE||(0,kt.byteSwap32)(this.IV),this.flags=r|nn.KEYED_HASH}else if(t.context!==void 0){let i=new la({dkLen:32},nn.DERIVE_KEY_CONTEXT).update(t.context).digest();this.IV=(0,kt.u32)(i),kt.isLE||(0,kt.byteSwap32)(this.IV),this.flags=r|nn.DERIVE_KEY_MATERIAL}else this.IV=zr.B2S_IV.slice(),this.flags=r;this.state=this.IV.slice(),this.bufferOut=(0,kt.u8)(this.bufferOut32)}get(){return[]}set(){}b2Compress(t,r,n,i=0){let{state:a,pos:s}=this,{h:o,l:u}=(0,Pb.fromBig)(BigInt(t),!0),{v0:l,v1:b,v2:h,v3:v,v4:S,v5:T,v6:E,v7:I,v8:B,v9:D,v10:q,v11:k,v12:H,v13:j,v14:V,v15:R}=(0,zr.compress)(Ib,i,n,7,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],zr.B2S_IV[0],zr.B2S_IV[1],zr.B2S_IV[2],zr.B2S_IV[3],o,u,s,r);a[0]=l^B,a[1]=b^D,a[2]=h^q,a[3]=v^k,a[4]=S^H,a[5]=T^j,a[6]=E^V,a[7]=I^R}compress(t,r=0,n=!1){let i=this.flags;if(this.chunkPos||(i|=nn.CHUNK_START),(this.chunkPos===15||n)&&(i|=nn.CHUNK_END),n||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,i,t,r),this.chunkPos+=1,this.chunkPos===16||n){let a=this.state;this.state=this.IV.slice();for(let s,o=this.chunksDone+1;(n||!(o&1))&&(s=this.stack.pop());o>>=1)this.buffer32.set(s,0),this.buffer32.set(a,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|nn.PARENT,this.buffer32,0),a=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(a)}this.pos=0}_cloneInto(t){t=super._cloneInto(t);let{IV:r,flags:n,state:i,chunkPos:a,posOut:s,chunkOut:o,stack:u,chunksDone:l}=this;return t.state.set(i.slice()),t.stack=u.map(b=>Uint32Array.from(b)),t.IV.set(r),t.flags=n,t.chunkPos=a,t.chunksDone=l,t.posOut=s,t.chunkOut=o,t.enableXOF=this.enableXOF,t.bufferOut32.set(this.bufferOut32),t}destroy(){this.destroyed=!0,this.state.fill(0),this.buffer32.fill(0),this.IV.fill(0),this.bufferOut32.fill(0);for(let t of this.stack)t.fill(0)}b2CompressOut(){let{state:t,pos:r,flags:n,buffer32:i,bufferOut32:a}=this,{h:s,l:o}=(0,Pb.fromBig)(BigInt(this.chunkOut++));kt.isLE||(0,kt.byteSwap32)(i);let{v0:u,v1:l,v2:b,v3:h,v4:v,v5:S,v6:T,v7:E,v8:I,v9:B,v10:D,v11:q,v12:k,v13:H,v14:j,v15:V}=(0,zr.compress)(Ib,0,i,7,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],zr.B2S_IV[0],zr.B2S_IV[1],zr.B2S_IV[2],zr.B2S_IV[3],o,s,r,n);a[0]=u^I,a[1]=l^B,a[2]=b^D,a[3]=h^q,a[4]=v^k,a[5]=S^H,a[6]=T^j,a[7]=E^V,a[8]=t[0]^I,a[9]=t[1]^B,a[10]=t[2]^D,a[11]=t[3]^q,a[12]=t[4]^k,a[13]=t[5]^H,a[14]=t[6]^j,a[15]=t[7]^V,kt.isLE||((0,kt.byteSwap32)(i),(0,kt.byteSwap32)(a)),this.posOut=0}finish(){if(this.finished)return;this.finished=!0,this.buffer.fill(0,this.pos);let t=this.flags|nn.ROOT;this.stack.length?(t|=nn.PARENT,kt.isLE||(0,kt.byteSwap32)(this.buffer32),this.compress(this.buffer32,0,!0),kt.isLE||(0,kt.byteSwap32)(this.buffer32),this.chunksDone=0,this.pos=this.blockLen):t|=(this.chunkPos?0:nn.CHUNK_START)|nn.CHUNK_END,this.flags=t,this.b2CompressOut()}writeInto(t){(0,us.aexists)(this,!1),(0,us.abytes)(t),this.finish();let{blockLen:r,bufferOut:n}=this;for(let i=0,a=t.length;i<a;){this.posOut>=r&&this.b2CompressOut();let s=Math.min(r-this.posOut,a-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible after digest call");return this.writeInto(t)}xof(t){return(0,us.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,us.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}};ha.BLAKE3=la;ha.blake3=(0,kt.wrapXOFConstructorWithOpts)(e=>new la(e))});var ds=O(pe=>{g();_();var Ob=pe&&pe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W3=pe&&pe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fr=pe&&pe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ob(t,e,r)},J3=pe&&pe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ob(t,e,r);return W3(t,e),t};Object.defineProperty(pe,"__esModule",{value:!0});pe.randomBytes=pe.concatBytes=pe.reverseBuffer=void 0;fr(Eh(),pe);fr(Th(),pe);fr(Eo(),pe);fr(gb(),pe);fr(uf(),pe);fr(ea(),pe);fr(fs(),pe);fr(iu(),pe);fr(is(),pe);fr(wo(),pe);fr(su(),pe);fr(ou(),pe);fr(Io(),pe);fr(Mb(),pe);fr(Bb(),pe);var Q3=J3(zt()),ev=ky();function tv(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e}pe.reverseBuffer=tv;function rv(e,t){return Q3.concatBytes(Uint8Array.from(e),Uint8Array.from(t))}pe.concatBytes=rv;function nv(e){return ev(e)}pe.randomBytes=nv});var pr=O((Nb,cu)=>{g();_();(function(e,t){"use strict";function r(C,c){if(!C)throw new Error(c||"Assertion failed")}function n(C,c){C.super_=c;var d=function(){};d.prototype=c.prototype,C.prototype=new d,C.prototype.constructor=C}function i(C,c,d){if(i.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(C||0,c||10,d||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Ny().Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,d){return c.cmp(d)>0?c:d},i.min=function(c,d){return c.cmp(d)<0?c:d},i.prototype._init=function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(d===16?this._parseHex(c,m,p):(this._parseBase(c,d,m),p==="le"&&this._initArray(this.toArray(),d,p)))},i.prototype._initNumber=function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},i.prototype._initArray=function(c,d,p){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var y,A,P=0;if(p==="be")for(m=c.length-1,y=0;m>=0;m-=3)A=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[y]|=A<<P&67108863,this.words[y+1]=A>>>26-P&67108863,P+=24,P>=26&&(P-=26,y++);else if(p==="le")for(m=0,y=0;m<c.length;m+=3)A=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[y]|=A<<P&67108863,this.words[y+1]=A>>>26-P&67108863,P+=24,P>=26&&(P-=26,y++);return this.strip()};function s(C,c){var d=C.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function o(C,c,d){var p=s(C,d);return d-1>=c&&(p|=s(C,d-1)<<4),p}i.prototype._parseHex=function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var y=0,A=0,P;if(p==="be")for(m=c.length-1;m>=d;m-=2)P=o(c,d,m)<<y,this.words[A]|=P&67108863,y>=18?(y-=18,A+=1,this.words[A]|=P>>>26):y+=8;else{var w=c.length-d;for(m=w%2===0?d+1:d;m<c.length;m+=2)P=o(c,d,m)<<y,this.words[A]|=P&67108863,y>=18?(y-=18,A+=1,this.words[A]|=P>>>26):y+=8}this.strip()};function u(C,c,d,p){for(var m=0,y=Math.min(C.length,d),A=c;A<y;A++){var P=C.charCodeAt(A)-48;m*=p,P>=49?m+=P-49+10:P>=17?m+=P-17+10:m+=P}return m}i.prototype._parseBase=function(c,d,p){this.words=[0],this.length=1;for(var m=0,y=1;y<=67108863;y*=d)m++;m--,y=y/d|0;for(var A=c.length-p,P=A%m,w=Math.min(A,A-P)+p,f=0,x=p;x<w;x+=m)f=u(c,x,x+m,d),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(P!==0){var U=1;for(f=u(c,x,c.length,d),x=0;x<P;x++)U*=d;this.imuln(U),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,y=0,A=0;A<this.length;A++){var P=this.words[A],w=((P<<m|y)&16777215).toString(16);y=P>>>24-m&16777215,y!==0||A!==this.length-1?p=l[6-w.length]+w+p:p=w+p,m+=2,m>=26&&(m-=26,A--)}for(y!==0&&(p=y.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var f=b[c],x=h[c];p="";var U=this.clone();for(U.negative=0;!U.isZero();){var F=U.modn(x).toString(c);U=U.idivn(x),U.isZero()?p=F+p:p=l[f-F.length]+F+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(c,d){return r(typeof a<"u"),this.toArrayLike(a,c,d)},i.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)},i.prototype.toArrayLike=function(c,d,p){var m=this.byteLength(),y=p||Math.max(1,m);r(m<=y,"byte array longer than desired length"),r(y>0,"Requested array length <= 0"),this.strip();var A=d==="le",P=new c(y),w,f,x=this.clone();if(A){for(f=0;!x.isZero();f++)w=x.andln(255),x.iushrn(8),P[f]=w;for(;f<y;f++)P[f]=0}else{for(f=0;f<y-m;f++)P[f]=0;for(f=0;!x.isZero();f++)w=x.andln(255),x.iushrn(8),P[y-f-1]=w}return P},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},i.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,p=0;return(d&8191)===0&&(p+=13,d>>>=13),(d&127)===0&&(p+=7,d>>>=7),(d&15)===0&&(p+=4,d>>>=4),(d&3)===0&&(p+=2,d>>>=2),(d&1)===0&&p++,p},i.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function v(C){for(var c=new Array(C.bitLength()),d=0;d<c.length;d++){var p=d/26|0,m=d%26;c[d]=(C.words[p]&1<<m)>>>m}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},i.prototype.ior=function(c){return r((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this.strip()},i.prototype.iand=function(c){return r((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=d.words[m]^p.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this.strip()},i.prototype.ixor=function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,d){r(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},i.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var y=0,A=0;A<m.length;A++)d=(p.words[A]|0)+(m.words[A]|0)+y,this.words[A]=d&67108863,y=d>>>26;for(;y!==0&&A<p.length;A++)d=(p.words[A]|0)+y,this.words[A]=d&67108863,y=d>>>26;if(this.length=p.length,y!==0)this.words[this.length]=y,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,y;p>0?(m=this,y=c):(m=c,y=this);for(var A=0,P=0;P<y.length;P++)d=(m.words[P]|0)-(y.words[P]|0)+A,A=d>>26,this.words[P]=d&67108863;for(;A!==0&&P<m.length;P++)d=(m.words[P]|0)+A,A=d>>26,this.words[P]=d&67108863;if(A===0&&P<m.length&&m!==this)for(;P<m.length;P++)this.words[P]=m.words[P];return this.length=Math.max(this.length,P),m!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function S(C,c,d){d.negative=c.negative^C.negative;var p=C.length+c.length|0;d.length=p,p=p-1|0;var m=C.words[0]|0,y=c.words[0]|0,A=m*y,P=A&67108863,w=A/67108864|0;d.words[0]=P;for(var f=1;f<p;f++){for(var x=w>>>26,U=w&67108863,F=Math.min(f,c.length-1),z=Math.max(0,f-C.length+1);z<=F;z++){var X=f-z|0;m=C.words[X]|0,y=c.words[z]|0,A=m*y+U,x+=A/67108864|0,U=A&67108863}d.words[f]=U|0,w=x|0}return w!==0?d.words[f]=w|0:d.length--,d.strip()}var T=function(c,d,p){var m=c.words,y=d.words,A=p.words,P=0,w,f,x,U=m[0]|0,F=U&8191,z=U>>>13,X=m[1]|0,ne=X&8191,fe=X>>>13,Ft=m[2]|0,ye=Ft&8191,ue=Ft>>>13,mn=m[3]|0,ke=mn&8191,le=mn>>>13,gn=m[4]|0,Ie=gn&8191,He=gn>>>13,Ka=m[5]|0,ze=Ka&8191,Ge=Ka>>>13,zd=m[6]|0,Ye=zd&8191,Xe=zd>>>13,Gd=m[7]|0,Ze=Gd&8191,We=Gd>>>13,Yd=m[8]|0,Je=Yd&8191,Qe=Yd>>>13,Xd=m[9]|0,et=Xd&8191,tt=Xd>>>13,Zd=y[0]|0,rt=Zd&8191,nt=Zd>>>13,Wd=y[1]|0,it=Wd&8191,at=Wd>>>13,Jd=y[2]|0,st=Jd&8191,ot=Jd>>>13,Qd=y[3]|0,ct=Qd&8191,ft=Qd>>>13,el=y[4]|0,ut=el&8191,dt=el>>>13,tl=y[5]|0,lt=tl&8191,ht=tl>>>13,rl=y[6]|0,bt=rl&8191,pt=rl>>>13,nl=y[7]|0,yt=nl&8191,mt=nl>>>13,il=y[8]|0,gt=il&8191,_t=il>>>13,al=y[9]|0,vt=al&8191,wt=al>>>13;p.negative=c.negative^d.negative,p.length=19,w=Math.imul(F,rt),f=Math.imul(F,nt),f=f+Math.imul(z,rt)|0,x=Math.imul(z,nt);var Fc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(Fc>>>26)|0,Fc&=67108863,w=Math.imul(ne,rt),f=Math.imul(ne,nt),f=f+Math.imul(fe,rt)|0,x=Math.imul(fe,nt),w=w+Math.imul(F,it)|0,f=f+Math.imul(F,at)|0,f=f+Math.imul(z,it)|0,x=x+Math.imul(z,at)|0;var Kc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(Kc>>>26)|0,Kc&=67108863,w=Math.imul(ye,rt),f=Math.imul(ye,nt),f=f+Math.imul(ue,rt)|0,x=Math.imul(ue,nt),w=w+Math.imul(ne,it)|0,f=f+Math.imul(ne,at)|0,f=f+Math.imul(fe,it)|0,x=x+Math.imul(fe,at)|0,w=w+Math.imul(F,st)|0,f=f+Math.imul(F,ot)|0,f=f+Math.imul(z,st)|0,x=x+Math.imul(z,ot)|0;var $c=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+($c>>>26)|0,$c&=67108863,w=Math.imul(ke,rt),f=Math.imul(ke,nt),f=f+Math.imul(le,rt)|0,x=Math.imul(le,nt),w=w+Math.imul(ye,it)|0,f=f+Math.imul(ye,at)|0,f=f+Math.imul(ue,it)|0,x=x+Math.imul(ue,at)|0,w=w+Math.imul(ne,st)|0,f=f+Math.imul(ne,ot)|0,f=f+Math.imul(fe,st)|0,x=x+Math.imul(fe,ot)|0,w=w+Math.imul(F,ct)|0,f=f+Math.imul(F,ft)|0,f=f+Math.imul(z,ct)|0,x=x+Math.imul(z,ft)|0;var zc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(zc>>>26)|0,zc&=67108863,w=Math.imul(Ie,rt),f=Math.imul(Ie,nt),f=f+Math.imul(He,rt)|0,x=Math.imul(He,nt),w=w+Math.imul(ke,it)|0,f=f+Math.imul(ke,at)|0,f=f+Math.imul(le,it)|0,x=x+Math.imul(le,at)|0,w=w+Math.imul(ye,st)|0,f=f+Math.imul(ye,ot)|0,f=f+Math.imul(ue,st)|0,x=x+Math.imul(ue,ot)|0,w=w+Math.imul(ne,ct)|0,f=f+Math.imul(ne,ft)|0,f=f+Math.imul(fe,ct)|0,x=x+Math.imul(fe,ft)|0,w=w+Math.imul(F,ut)|0,f=f+Math.imul(F,dt)|0,f=f+Math.imul(z,ut)|0,x=x+Math.imul(z,dt)|0;var Gc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(Gc>>>26)|0,Gc&=67108863,w=Math.imul(ze,rt),f=Math.imul(ze,nt),f=f+Math.imul(Ge,rt)|0,x=Math.imul(Ge,nt),w=w+Math.imul(Ie,it)|0,f=f+Math.imul(Ie,at)|0,f=f+Math.imul(He,it)|0,x=x+Math.imul(He,at)|0,w=w+Math.imul(ke,st)|0,f=f+Math.imul(ke,ot)|0,f=f+Math.imul(le,st)|0,x=x+Math.imul(le,ot)|0,w=w+Math.imul(ye,ct)|0,f=f+Math.imul(ye,ft)|0,f=f+Math.imul(ue,ct)|0,x=x+Math.imul(ue,ft)|0,w=w+Math.imul(ne,ut)|0,f=f+Math.imul(ne,dt)|0,f=f+Math.imul(fe,ut)|0,x=x+Math.imul(fe,dt)|0,w=w+Math.imul(F,lt)|0,f=f+Math.imul(F,ht)|0,f=f+Math.imul(z,lt)|0,x=x+Math.imul(z,ht)|0;var Yc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(Yc>>>26)|0,Yc&=67108863,w=Math.imul(Ye,rt),f=Math.imul(Ye,nt),f=f+Math.imul(Xe,rt)|0,x=Math.imul(Xe,nt),w=w+Math.imul(ze,it)|0,f=f+Math.imul(ze,at)|0,f=f+Math.imul(Ge,it)|0,x=x+Math.imul(Ge,at)|0,w=w+Math.imul(Ie,st)|0,f=f+Math.imul(Ie,ot)|0,f=f+Math.imul(He,st)|0,x=x+Math.imul(He,ot)|0,w=w+Math.imul(ke,ct)|0,f=f+Math.imul(ke,ft)|0,f=f+Math.imul(le,ct)|0,x=x+Math.imul(le,ft)|0,w=w+Math.imul(ye,ut)|0,f=f+Math.imul(ye,dt)|0,f=f+Math.imul(ue,ut)|0,x=x+Math.imul(ue,dt)|0,w=w+Math.imul(ne,lt)|0,f=f+Math.imul(ne,ht)|0,f=f+Math.imul(fe,lt)|0,x=x+Math.imul(fe,ht)|0,w=w+Math.imul(F,bt)|0,f=f+Math.imul(F,pt)|0,f=f+Math.imul(z,bt)|0,x=x+Math.imul(z,pt)|0;var Xc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(Xc>>>26)|0,Xc&=67108863,w=Math.imul(Ze,rt),f=Math.imul(Ze,nt),f=f+Math.imul(We,rt)|0,x=Math.imul(We,nt),w=w+Math.imul(Ye,it)|0,f=f+Math.imul(Ye,at)|0,f=f+Math.imul(Xe,it)|0,x=x+Math.imul(Xe,at)|0,w=w+Math.imul(ze,st)|0,f=f+Math.imul(ze,ot)|0,f=f+Math.imul(Ge,st)|0,x=x+Math.imul(Ge,ot)|0,w=w+Math.imul(Ie,ct)|0,f=f+Math.imul(Ie,ft)|0,f=f+Math.imul(He,ct)|0,x=x+Math.imul(He,ft)|0,w=w+Math.imul(ke,ut)|0,f=f+Math.imul(ke,dt)|0,f=f+Math.imul(le,ut)|0,x=x+Math.imul(le,dt)|0,w=w+Math.imul(ye,lt)|0,f=f+Math.imul(ye,ht)|0,f=f+Math.imul(ue,lt)|0,x=x+Math.imul(ue,ht)|0,w=w+Math.imul(ne,bt)|0,f=f+Math.imul(ne,pt)|0,f=f+Math.imul(fe,bt)|0,x=x+Math.imul(fe,pt)|0,w=w+Math.imul(F,yt)|0,f=f+Math.imul(F,mt)|0,f=f+Math.imul(z,yt)|0,x=x+Math.imul(z,mt)|0;var Zc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(Zc>>>26)|0,Zc&=67108863,w=Math.imul(Je,rt),f=Math.imul(Je,nt),f=f+Math.imul(Qe,rt)|0,x=Math.imul(Qe,nt),w=w+Math.imul(Ze,it)|0,f=f+Math.imul(Ze,at)|0,f=f+Math.imul(We,it)|0,x=x+Math.imul(We,at)|0,w=w+Math.imul(Ye,st)|0,f=f+Math.imul(Ye,ot)|0,f=f+Math.imul(Xe,st)|0,x=x+Math.imul(Xe,ot)|0,w=w+Math.imul(ze,ct)|0,f=f+Math.imul(ze,ft)|0,f=f+Math.imul(Ge,ct)|0,x=x+Math.imul(Ge,ft)|0,w=w+Math.imul(Ie,ut)|0,f=f+Math.imul(Ie,dt)|0,f=f+Math.imul(He,ut)|0,x=x+Math.imul(He,dt)|0,w=w+Math.imul(ke,lt)|0,f=f+Math.imul(ke,ht)|0,f=f+Math.imul(le,lt)|0,x=x+Math.imul(le,ht)|0,w=w+Math.imul(ye,bt)|0,f=f+Math.imul(ye,pt)|0,f=f+Math.imul(ue,bt)|0,x=x+Math.imul(ue,pt)|0,w=w+Math.imul(ne,yt)|0,f=f+Math.imul(ne,mt)|0,f=f+Math.imul(fe,yt)|0,x=x+Math.imul(fe,mt)|0,w=w+Math.imul(F,gt)|0,f=f+Math.imul(F,_t)|0,f=f+Math.imul(z,gt)|0,x=x+Math.imul(z,_t)|0;var Wc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(Wc>>>26)|0,Wc&=67108863,w=Math.imul(et,rt),f=Math.imul(et,nt),f=f+Math.imul(tt,rt)|0,x=Math.imul(tt,nt),w=w+Math.imul(Je,it)|0,f=f+Math.imul(Je,at)|0,f=f+Math.imul(Qe,it)|0,x=x+Math.imul(Qe,at)|0,w=w+Math.imul(Ze,st)|0,f=f+Math.imul(Ze,ot)|0,f=f+Math.imul(We,st)|0,x=x+Math.imul(We,ot)|0,w=w+Math.imul(Ye,ct)|0,f=f+Math.imul(Ye,ft)|0,f=f+Math.imul(Xe,ct)|0,x=x+Math.imul(Xe,ft)|0,w=w+Math.imul(ze,ut)|0,f=f+Math.imul(ze,dt)|0,f=f+Math.imul(Ge,ut)|0,x=x+Math.imul(Ge,dt)|0,w=w+Math.imul(Ie,lt)|0,f=f+Math.imul(Ie,ht)|0,f=f+Math.imul(He,lt)|0,x=x+Math.imul(He,ht)|0,w=w+Math.imul(ke,bt)|0,f=f+Math.imul(ke,pt)|0,f=f+Math.imul(le,bt)|0,x=x+Math.imul(le,pt)|0,w=w+Math.imul(ye,yt)|0,f=f+Math.imul(ye,mt)|0,f=f+Math.imul(ue,yt)|0,x=x+Math.imul(ue,mt)|0,w=w+Math.imul(ne,gt)|0,f=f+Math.imul(ne,_t)|0,f=f+Math.imul(fe,gt)|0,x=x+Math.imul(fe,_t)|0,w=w+Math.imul(F,vt)|0,f=f+Math.imul(F,wt)|0,f=f+Math.imul(z,vt)|0,x=x+Math.imul(z,wt)|0;var Jc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(Jc>>>26)|0,Jc&=67108863,w=Math.imul(et,it),f=Math.imul(et,at),f=f+Math.imul(tt,it)|0,x=Math.imul(tt,at),w=w+Math.imul(Je,st)|0,f=f+Math.imul(Je,ot)|0,f=f+Math.imul(Qe,st)|0,x=x+Math.imul(Qe,ot)|0,w=w+Math.imul(Ze,ct)|0,f=f+Math.imul(Ze,ft)|0,f=f+Math.imul(We,ct)|0,x=x+Math.imul(We,ft)|0,w=w+Math.imul(Ye,ut)|0,f=f+Math.imul(Ye,dt)|0,f=f+Math.imul(Xe,ut)|0,x=x+Math.imul(Xe,dt)|0,w=w+Math.imul(ze,lt)|0,f=f+Math.imul(ze,ht)|0,f=f+Math.imul(Ge,lt)|0,x=x+Math.imul(Ge,ht)|0,w=w+Math.imul(Ie,bt)|0,f=f+Math.imul(Ie,pt)|0,f=f+Math.imul(He,bt)|0,x=x+Math.imul(He,pt)|0,w=w+Math.imul(ke,yt)|0,f=f+Math.imul(ke,mt)|0,f=f+Math.imul(le,yt)|0,x=x+Math.imul(le,mt)|0,w=w+Math.imul(ye,gt)|0,f=f+Math.imul(ye,_t)|0,f=f+Math.imul(ue,gt)|0,x=x+Math.imul(ue,_t)|0,w=w+Math.imul(ne,vt)|0,f=f+Math.imul(ne,wt)|0,f=f+Math.imul(fe,vt)|0,x=x+Math.imul(fe,wt)|0;var Qc=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(Qc>>>26)|0,Qc&=67108863,w=Math.imul(et,st),f=Math.imul(et,ot),f=f+Math.imul(tt,st)|0,x=Math.imul(tt,ot),w=w+Math.imul(Je,ct)|0,f=f+Math.imul(Je,ft)|0,f=f+Math.imul(Qe,ct)|0,x=x+Math.imul(Qe,ft)|0,w=w+Math.imul(Ze,ut)|0,f=f+Math.imul(Ze,dt)|0,f=f+Math.imul(We,ut)|0,x=x+Math.imul(We,dt)|0,w=w+Math.imul(Ye,lt)|0,f=f+Math.imul(Ye,ht)|0,f=f+Math.imul(Xe,lt)|0,x=x+Math.imul(Xe,ht)|0,w=w+Math.imul(ze,bt)|0,f=f+Math.imul(ze,pt)|0,f=f+Math.imul(Ge,bt)|0,x=x+Math.imul(Ge,pt)|0,w=w+Math.imul(Ie,yt)|0,f=f+Math.imul(Ie,mt)|0,f=f+Math.imul(He,yt)|0,x=x+Math.imul(He,mt)|0,w=w+Math.imul(ke,gt)|0,f=f+Math.imul(ke,_t)|0,f=f+Math.imul(le,gt)|0,x=x+Math.imul(le,_t)|0,w=w+Math.imul(ye,vt)|0,f=f+Math.imul(ye,wt)|0,f=f+Math.imul(ue,vt)|0,x=x+Math.imul(ue,wt)|0;var ef=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(ef>>>26)|0,ef&=67108863,w=Math.imul(et,ct),f=Math.imul(et,ft),f=f+Math.imul(tt,ct)|0,x=Math.imul(tt,ft),w=w+Math.imul(Je,ut)|0,f=f+Math.imul(Je,dt)|0,f=f+Math.imul(Qe,ut)|0,x=x+Math.imul(Qe,dt)|0,w=w+Math.imul(Ze,lt)|0,f=f+Math.imul(Ze,ht)|0,f=f+Math.imul(We,lt)|0,x=x+Math.imul(We,ht)|0,w=w+Math.imul(Ye,bt)|0,f=f+Math.imul(Ye,pt)|0,f=f+Math.imul(Xe,bt)|0,x=x+Math.imul(Xe,pt)|0,w=w+Math.imul(ze,yt)|0,f=f+Math.imul(ze,mt)|0,f=f+Math.imul(Ge,yt)|0,x=x+Math.imul(Ge,mt)|0,w=w+Math.imul(Ie,gt)|0,f=f+Math.imul(Ie,_t)|0,f=f+Math.imul(He,gt)|0,x=x+Math.imul(He,_t)|0,w=w+Math.imul(ke,vt)|0,f=f+Math.imul(ke,wt)|0,f=f+Math.imul(le,vt)|0,x=x+Math.imul(le,wt)|0;var tf=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(tf>>>26)|0,tf&=67108863,w=Math.imul(et,ut),f=Math.imul(et,dt),f=f+Math.imul(tt,ut)|0,x=Math.imul(tt,dt),w=w+Math.imul(Je,lt)|0,f=f+Math.imul(Je,ht)|0,f=f+Math.imul(Qe,lt)|0,x=x+Math.imul(Qe,ht)|0,w=w+Math.imul(Ze,bt)|0,f=f+Math.imul(Ze,pt)|0,f=f+Math.imul(We,bt)|0,x=x+Math.imul(We,pt)|0,w=w+Math.imul(Ye,yt)|0,f=f+Math.imul(Ye,mt)|0,f=f+Math.imul(Xe,yt)|0,x=x+Math.imul(Xe,mt)|0,w=w+Math.imul(ze,gt)|0,f=f+Math.imul(ze,_t)|0,f=f+Math.imul(Ge,gt)|0,x=x+Math.imul(Ge,_t)|0,w=w+Math.imul(Ie,vt)|0,f=f+Math.imul(Ie,wt)|0,f=f+Math.imul(He,vt)|0,x=x+Math.imul(He,wt)|0;var rf=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(rf>>>26)|0,rf&=67108863,w=Math.imul(et,lt),f=Math.imul(et,ht),f=f+Math.imul(tt,lt)|0,x=Math.imul(tt,ht),w=w+Math.imul(Je,bt)|0,f=f+Math.imul(Je,pt)|0,f=f+Math.imul(Qe,bt)|0,x=x+Math.imul(Qe,pt)|0,w=w+Math.imul(Ze,yt)|0,f=f+Math.imul(Ze,mt)|0,f=f+Math.imul(We,yt)|0,x=x+Math.imul(We,mt)|0,w=w+Math.imul(Ye,gt)|0,f=f+Math.imul(Ye,_t)|0,f=f+Math.imul(Xe,gt)|0,x=x+Math.imul(Xe,_t)|0,w=w+Math.imul(ze,vt)|0,f=f+Math.imul(ze,wt)|0,f=f+Math.imul(Ge,vt)|0,x=x+Math.imul(Ge,wt)|0;var nf=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(nf>>>26)|0,nf&=67108863,w=Math.imul(et,bt),f=Math.imul(et,pt),f=f+Math.imul(tt,bt)|0,x=Math.imul(tt,pt),w=w+Math.imul(Je,yt)|0,f=f+Math.imul(Je,mt)|0,f=f+Math.imul(Qe,yt)|0,x=x+Math.imul(Qe,mt)|0,w=w+Math.imul(Ze,gt)|0,f=f+Math.imul(Ze,_t)|0,f=f+Math.imul(We,gt)|0,x=x+Math.imul(We,_t)|0,w=w+Math.imul(Ye,vt)|0,f=f+Math.imul(Ye,wt)|0,f=f+Math.imul(Xe,vt)|0,x=x+Math.imul(Xe,wt)|0;var af=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(af>>>26)|0,af&=67108863,w=Math.imul(et,yt),f=Math.imul(et,mt),f=f+Math.imul(tt,yt)|0,x=Math.imul(tt,mt),w=w+Math.imul(Je,gt)|0,f=f+Math.imul(Je,_t)|0,f=f+Math.imul(Qe,gt)|0,x=x+Math.imul(Qe,_t)|0,w=w+Math.imul(Ze,vt)|0,f=f+Math.imul(Ze,wt)|0,f=f+Math.imul(We,vt)|0,x=x+Math.imul(We,wt)|0;var sf=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(sf>>>26)|0,sf&=67108863,w=Math.imul(et,gt),f=Math.imul(et,_t),f=f+Math.imul(tt,gt)|0,x=Math.imul(tt,_t),w=w+Math.imul(Je,vt)|0,f=f+Math.imul(Je,wt)|0,f=f+Math.imul(Qe,vt)|0,x=x+Math.imul(Qe,wt)|0;var of=(P+w|0)+((f&8191)<<13)|0;P=(x+(f>>>13)|0)+(of>>>26)|0,of&=67108863,w=Math.imul(et,vt),f=Math.imul(et,wt),f=f+Math.imul(tt,vt)|0,x=Math.imul(tt,wt);var cf=(P+w|0)+((f&8191)<<13)|0;return P=(x+(f>>>13)|0)+(cf>>>26)|0,cf&=67108863,A[0]=Fc,A[1]=Kc,A[2]=$c,A[3]=zc,A[4]=Gc,A[5]=Yc,A[6]=Xc,A[7]=Zc,A[8]=Wc,A[9]=Jc,A[10]=Qc,A[11]=ef,A[12]=tf,A[13]=rf,A[14]=nf,A[15]=af,A[16]=sf,A[17]=of,A[18]=cf,P!==0&&(A[19]=P,p.length++),p};Math.imul||(T=S);function E(C,c,d){d.negative=c.negative^C.negative,d.length=C.length+c.length;for(var p=0,m=0,y=0;y<d.length-1;y++){var A=m;m=0;for(var P=p&67108863,w=Math.min(y,c.length-1),f=Math.max(0,y-C.length+1);f<=w;f++){var x=y-f,U=C.words[x]|0,F=c.words[f]|0,z=U*F,X=z&67108863;A=A+(z/67108864|0)|0,X=X+P|0,P=X&67108863,A=A+(X>>>26)|0,m+=A>>>26,A&=67108863}d.words[y]=P,p=A,A=m}return p!==0?d.words[y]=p:d.length--,d.strip()}function I(C,c,d){var p=new B;return p.mulp(C,c,d)}i.prototype.mulTo=function(c,d){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=T(this,c,d):m<63?p=S(this,c,d):m<1024?p=E(this,c,d):p=I(this,c,d),p};function B(C,c){this.x=C,this.y=c}B.prototype.makeRBT=function(c){for(var d=new Array(c),p=i.prototype._countBits(c)-1,m=0;m<c;m++)d[m]=this.revBin(m,p,c);return d},B.prototype.revBin=function(c,d,p){if(c===0||c===p-1)return c;for(var m=0,y=0;y<d;y++)m|=(c&1)<<d-y-1,c>>=1;return m},B.prototype.permute=function(c,d,p,m,y,A){for(var P=0;P<A;P++)m[P]=d[c[P]],y[P]=p[c[P]]},B.prototype.transform=function(c,d,p,m,y,A){this.permute(A,c,d,p,m,y);for(var P=1;P<y;P<<=1)for(var w=P<<1,f=Math.cos(2*Math.PI/w),x=Math.sin(2*Math.PI/w),U=0;U<y;U+=w)for(var F=f,z=x,X=0;X<P;X++){var ne=p[U+X],fe=m[U+X],Ft=p[U+X+P],ye=m[U+X+P],ue=F*Ft-z*ye;ye=F*ye+z*Ft,Ft=ue,p[U+X]=ne+Ft,m[U+X]=fe+ye,p[U+X+P]=ne-Ft,m[U+X+P]=fe-ye,X!==w&&(ue=f*F-x*z,z=f*z+x*F,F=ue)}},B.prototype.guessLen13b=function(c,d){var p=Math.max(d,c)|1,m=p&1,y=0;for(p=p/2|0;p;p=p>>>1)y++;return 1<<y+1+m},B.prototype.conjugate=function(c,d,p){if(!(p<=1))for(var m=0;m<p/2;m++){var y=c[m];c[m]=c[p-m-1],c[p-m-1]=y,y=d[m],d[m]=-d[p-m-1],d[p-m-1]=-y}},B.prototype.normalize13b=function(c,d){for(var p=0,m=0;m<d/2;m++){var y=Math.round(c[2*m+1]/d)*8192+Math.round(c[2*m]/d)+p;c[m]=y&67108863,y<67108864?p=0:p=y/67108864|0}return c},B.prototype.convert13b=function(c,d,p,m){for(var y=0,A=0;A<d;A++)y=y+(c[A]|0),p[2*A]=y&8191,y=y>>>13,p[2*A+1]=y&8191,y=y>>>13;for(A=2*d;A<m;++A)p[A]=0;r(y===0),r((y&-8192)===0)},B.prototype.stub=function(c){for(var d=new Array(c),p=0;p<c;p++)d[p]=0;return d},B.prototype.mulp=function(c,d,p){var m=2*this.guessLen13b(c.length,d.length),y=this.makeRBT(m),A=this.stub(m),P=new Array(m),w=new Array(m),f=new Array(m),x=new Array(m),U=new Array(m),F=new Array(m),z=p.words;z.length=m,this.convert13b(c.words,c.length,P,m),this.convert13b(d.words,d.length,x,m),this.transform(P,A,w,f,m,y),this.transform(x,A,U,F,m,y);for(var X=0;X<m;X++){var ne=w[X]*U[X]-f[X]*F[X];f[X]=w[X]*F[X]+f[X]*U[X],w[X]=ne}return this.conjugate(w,f,m),this.transform(w,f,z,A,m,y),this.conjugate(z,A,m),this.normalize13b(z,m),p.negative=c.negative^d.negative,p.length=c.length+d.length,p.strip()},i.prototype.mul=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},i.prototype.mulf=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),I(this,c,d)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,y=(m&67108863)+(d&67108863);d>>=26,d+=m/67108864|0,d+=y>>>26,this.words[p]=y&67108863}return d!==0&&(this.words[p]=d,this.length++),this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var d=v(c);if(d.length===0)return new i(1);for(var p=this,m=0;m<d.length&&d[m]===0;m++,p=p.sqr());if(++m<d.length)for(var y=p.sqr();m<d.length;m++,y=y.sqr())d[m]!==0&&(p=p.mul(y));return p},i.prototype.iushln=function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,m=67108863>>>26-d<<26-d,y;if(d!==0){var A=0;for(y=0;y<this.length;y++){var P=this.words[y]&m,w=(this.words[y]|0)-P<<d;this.words[y]=w|A,A=P>>>26-d}A&&(this.words[y]=A,this.length++)}if(p!==0){for(y=this.length-1;y>=0;y--)this.words[y+p]=this.words[y];for(y=0;y<p;y++)this.words[y]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(c){return r(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,d,p){r(typeof c=="number"&&c>=0);var m;d?m=(d-d%26)/26:m=0;var y=c%26,A=Math.min((c-y)/26,this.length),P=67108863^67108863>>>y<<y,w=p;if(m-=A,m=Math.max(0,m),w){for(var f=0;f<A;f++)w.words[f]=this.words[f];w.length=A}if(A!==0)if(this.length>A)for(this.length-=A,f=0;f<this.length;f++)this.words[f]=this.words[f+A];else this.words[0]=0,this.length=1;var x=0;for(f=this.length-1;f>=0&&(x!==0||f>=m);f--){var U=this.words[f]|0;this.words[f]=x<<26-y|U>>>y,x=U&P}return w&&x!==0&&(w.words[w.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(c,d,p){return r(this.negative===0),this.iushrn(c,d,p)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,m=1<<d;if(this.length<=p)return!1;var y=this.words[p];return!!(y&m)},i.prototype.imaskn=function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this.strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,d,p){var m=c.length+p,y;this._expand(m);var A,P=0;for(y=0;y<c.length;y++){A=(this.words[y+p]|0)+P;var w=(c.words[y]|0)*d;A-=w&67108863,P=(A>>26)-(w/67108864|0),this.words[y+p]=A&67108863}for(;y<this.length-p;y++)A=(this.words[y+p]|0)+P,P=A>>26,this.words[y+p]=A&67108863;if(P===0)return this.strip();for(r(P===-1),P=0,y=0;y<this.length;y++)A=-(this.words[y]|0)+P,P=A>>26,this.words[y]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(c,d){var p=this.length-c.length,m=this.clone(),y=c,A=y.words[y.length-1]|0,P=this._countBits(A);p=26-P,p!==0&&(y=y.ushln(p),m.iushln(p),A=y.words[y.length-1]|0);var w=m.length-y.length,f;if(d!=="mod"){f=new i(null),f.length=w+1,f.words=new Array(f.length);for(var x=0;x<f.length;x++)f.words[x]=0}var U=m.clone()._ishlnsubmul(y,1,w);U.negative===0&&(m=U,f&&(f.words[w]=1));for(var F=w-1;F>=0;F--){var z=(m.words[y.length+F]|0)*67108864+(m.words[y.length+F-1]|0);for(z=Math.min(z/A|0,67108863),m._ishlnsubmul(y,z,F);m.negative!==0;)z--,m.negative=0,m._ishlnsubmul(y,1,F),m.isZero()||(m.negative^=1);f&&(f.words[F]=z)}return f&&f.strip(),m.strip(),d!=="div"&&p!==0&&m.iushrn(p),{div:f||null,mod:m}},i.prototype.divmod=function(c,d,p){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,y,A;return this.negative!==0&&c.negative===0?(A=this.neg().divmod(c,d),d!=="mod"&&(m=A.div.neg()),d!=="div"&&(y=A.mod.neg(),p&&y.negative!==0&&y.iadd(c)),{div:m,mod:y}):this.negative===0&&c.negative!==0?(A=this.divmod(c.neg(),d),d!=="mod"&&(m=A.div.neg()),{div:m,mod:A.mod}):(this.negative&c.negative)!==0?(A=this.neg().divmod(c.neg(),d),d!=="div"&&(y=A.mod.neg(),p&&y.negative!==0&&y.isub(c)),{div:A.div,mod:y}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,m=c.ushrn(1),y=c.andln(1),A=p.cmp(m);return A<0||y===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modn=function(c){r(c<=67108863);for(var d=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(d*p+(this.words[m]|0))%c;return p},i.prototype.idivn=function(c){r(c<=67108863);for(var d=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+d*67108864;this.words[p]=m/c|0,d=m%c}return this.strip()},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var m=new i(1),y=new i(0),A=new i(0),P=new i(1),w=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++w;for(var f=p.clone(),x=d.clone();!d.isZero();){for(var U=0,F=1;(d.words[0]&F)===0&&U<26;++U,F<<=1);if(U>0)for(d.iushrn(U);U-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(f),y.isub(x)),m.iushrn(1),y.iushrn(1);for(var z=0,X=1;(p.words[0]&X)===0&&z<26;++z,X<<=1);if(z>0)for(p.iushrn(z);z-- >0;)(A.isOdd()||P.isOdd())&&(A.iadd(f),P.isub(x)),A.iushrn(1),P.iushrn(1);d.cmp(p)>=0?(d.isub(p),m.isub(A),y.isub(P)):(p.isub(d),A.isub(m),P.isub(y))}return{a:A,b:P,gcd:p.iushln(w)}},i.prototype._invmp=function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var m=new i(1),y=new i(0),A=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var P=0,w=1;(d.words[0]&w)===0&&P<26;++P,w<<=1);if(P>0)for(d.iushrn(P);P-- >0;)m.isOdd()&&m.iadd(A),m.iushrn(1);for(var f=0,x=1;(p.words[0]&x)===0&&f<26;++f,x<<=1);if(f>0)for(p.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);d.cmp(p)>=0?(d.isub(p),m.isub(y)):(p.isub(d),y.isub(m))}var U;return d.cmpn(1)===0?U=m:U=y,U.cmpn(0)<0&&U.iadd(c),U},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var m=0;d.isEven()&&p.isEven();m++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var y=d.cmp(p);if(y<0){var A=d;d=p,p=A}else if(y===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(m)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){r(typeof c=="number");var d=c%26,p=(c-d)/26,m=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var y=m,A=p;y!==0&&A<this.length;A++){var P=this.words[A]|0;P+=y,y=P>>>26,P&=67108863,this.words[A]=P}return y!==0&&(this.words[A]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var p;if(this.length>1)p=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,y=c.words[p]|0;if(m!==y){m<y?d=-1:m>y&&(d=1);break}}return d},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new R(c)},i.prototype.toRed=function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var D={k256:null,p224:null,p192:null,p25519:null};function q(C,c){this.name=C,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},q.prototype.ireduce=function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var m=p<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},q.prototype.split=function(c,d){c.iushrn(this.n,0,d)},q.prototype.imulK=function(c){return c.imul(this.k)};function k(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(k,q),k.prototype.split=function(c,d){for(var p=4194303,m=Math.min(c.length,9),y=0;y<m;y++)d.words[y]=c.words[y];if(d.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var A=c.words[9];for(d.words[d.length++]=A&p,y=10;y<c.length;y++){var P=c.words[y]|0;c.words[y-10]=(P&p)<<4|A>>>22,A=P}A>>>=22,c.words[y-10]=A,A===0&&c.length>10?c.length-=10:c.length-=9},k.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var m=c.words[p]|0;d+=m*977,c.words[p]=d&67108863,d=m*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function H(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(H,q);function j(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(j,q);function V(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(V,q),V.prototype.imulK=function(c){for(var d=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+d,y=m&67108863;m>>>=26,c.words[p]=y,d=m}return d!==0&&(c.words[c.length++]=d),c},i._prime=function(c){if(D[c])return D[c];var d;if(c==="k256")d=new k;else if(c==="p224")d=new H;else if(c==="p192")d=new j;else if(c==="p25519")d=new V;else throw new Error("Unknown prime "+c);return D[c]=d,d};function R(C){if(typeof C=="string"){var c=i._prime(C);this.m=c.p,this.prime=c}else r(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}R.prototype._verify1=function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},R.prototype._verify2=function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},R.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},R.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},R.prototype.add=function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},R.prototype.iadd=function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},R.prototype.sub=function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},R.prototype.isub=function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},R.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},R.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},R.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},R.prototype.isqr=function(c){return this.imul(c,c.clone())},R.prototype.sqr=function(c){return this.mul(c,c)},R.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),y=0;!m.isZero()&&m.andln(1)===0;)y++,m.iushrn(1);r(!m.isZero());var A=new i(1).toRed(this),P=A.redNeg(),w=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,w).cmp(P)!==0;)f.redIAdd(P);for(var x=this.pow(f,m),U=this.pow(c,m.addn(1).iushrn(1)),F=this.pow(c,m),z=y;F.cmp(A)!==0;){for(var X=F,ne=0;X.cmp(A)!==0;ne++)X=X.redSqr();r(ne<z);var fe=this.pow(x,new i(1).iushln(z-ne-1));U=U.redMul(fe),x=fe.redSqr(),F=F.redMul(x),z=ne}return U},R.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},R.prototype.pow=function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new i(1).toRed(this),m[1]=c;for(var y=2;y<m.length;y++)m[y]=this.mul(m[y-1],c);var A=m[0],P=0,w=0,f=d.bitLength()%26;for(f===0&&(f=26),y=d.length-1;y>=0;y--){for(var x=d.words[y],U=f-1;U>=0;U--){var F=x>>U&1;if(A!==m[0]&&(A=this.sqr(A)),F===0&&P===0){w=0;continue}P<<=1,P|=F,w++,!(w!==p&&(y!==0||U!==0))&&(A=this.mul(A,m[P]),w=0,P=0)}f=26}return A},R.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},R.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},i.mont=function(c){return new Z(c)};function Z(C){R.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,R),Z.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Z.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},Z.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=p.isub(m).iushrn(this.shift),A=y;return y.cmp(this.m)>=0?A=y.isub(this.m):y.cmpn(0)<0&&(A=y.iadd(this.m)),A._forceRed(this)},Z.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=p.isub(m).iushrn(this.shift),A=y;return y.cmp(this.m)>=0?A=y.isub(this.m):y.cmpn(0)<0&&(A=y.iadd(this.m)),A._forceRed(this)},Z.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof cu>"u"||cu,Nb)});var Mr=O(qb=>{g();_();var Gr=qb,iv=pr(),av=qy(),Oo=Dy();Gr.assert=av;Gr.toArray=Oo.toArray;Gr.zero2=Oo.zero2;Gr.toHex=Oo.toHex;Gr.encode=Oo.encode;function sv(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),s=0;s<n.length;s++){var o,u=a.andln(i-1);a.isOdd()?(u>(i>>1)-1?o=(i>>1)-u:o=u,a.isubn(o)):o=0,n[s]=o,a.iushrn(1)}return n}Gr.getNAF=sv;function ov(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0,a;e.cmpn(-n)>0||t.cmpn(-i)>0;){var s=e.andln(3)+n&3,o=t.andln(3)+i&3;s===3&&(s=-1),o===3&&(o=-1);var u;(s&1)===0?u=0:(a=e.andln(7)+n&7,(a===3||a===5)&&o===2?u=-s:u=s),r[0].push(u);var l;(o&1)===0?l=0:(a=t.andln(7)+i&7,(a===3||a===5)&&s===2?l=-o:l=o),r[1].push(l),2*n===u+1&&(n=1-n),2*i===l+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r}Gr.getJSF=ov;function cv(e,t,r){var n="_"+t;e.prototype[t]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}Gr.cachedProperty=cv;function fv(e){return typeof e=="string"?Gr.toArray(e,"hex"):e}Gr.parseBytes=fv;function uv(e){return new iv(e,"hex","le")}Gr.intFromLE=uv});var hs=O((wC,Db)=>{g();_();var ls=Mr(),Ii=pr(),No=ls.getNAF,dv=ls.getJSF,qo=ls.assert;function Zn(e,t){this.type=e,this.p=new Ii(t.p,16),this.red=t.prime?Ii.red(t.prime):Ii.mont(this.p),this.zero=new Ii(0).toRed(this.red),this.one=new Ii(1).toRed(this.red),this.two=new Ii(2).toRed(this.red),this.n=t.n&&new Ii(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Db.exports=Zn;Zn.prototype.point=function(){throw new Error("Not implemented")};Zn.prototype.validate=function(){throw new Error("Not implemented")};Zn.prototype._fixedNafMul=function(t,r){qo(t.precomputed);var n=t._getDoubles(),i=No(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,u;for(o=0;o<i.length;o+=n.step){u=0;for(var l=o+n.step-1;l>=o;l--)u=(u<<1)+i[l];s.push(u)}for(var b=this.jpoint(null,null,null),h=this.jpoint(null,null,null),v=a;v>0;v--){for(o=0;o<s.length;o++)u=s[o],u===v?h=h.mixedAdd(n.points[o]):u===-v&&(h=h.mixedAdd(n.points[o].neg()));b=b.add(h)}return b.toP()};Zn.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=No(r,n,this._bitLength),o=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var l=0;u>=0&&s[u]===0;u--)l++;if(u>=0&&l++,o=o.dblp(l),u<0)break;var b=s[u];qo(b!==0),t.type==="affine"?b>0?o=o.mixedAdd(a[b-1>>1]):o=o.mixedAdd(a[-b-1>>1].neg()):b>0?o=o.add(a[b-1>>1]):o=o.add(a[-b-1>>1].neg())}return t.type==="affine"?o.toP():o};Zn.prototype._wnafMulAdd=function(t,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,u=this._wnafT3,l=0,b,h,v;for(b=0;b<i;b++){v=r[b];var S=v._getNAFPoints(t);s[b]=S.wnd,o[b]=S.points}for(b=i-1;b>=1;b-=2){var T=b-1,E=b;if(s[T]!==1||s[E]!==1){u[T]=No(n[T],s[T],this._bitLength),u[E]=No(n[E],s[E],this._bitLength),l=Math.max(u[T].length,l),l=Math.max(u[E].length,l);continue}var I=[r[T],null,null,r[E]];r[T].y.cmp(r[E].y)===0?(I[1]=r[T].add(r[E]),I[2]=r[T].toJ().mixedAdd(r[E].neg())):r[T].y.cmp(r[E].y.redNeg())===0?(I[1]=r[T].toJ().mixedAdd(r[E]),I[2]=r[T].add(r[E].neg())):(I[1]=r[T].toJ().mixedAdd(r[E]),I[2]=r[T].toJ().mixedAdd(r[E].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],D=dv(n[T],n[E]);for(l=Math.max(D[0].length,l),u[T]=new Array(l),u[E]=new Array(l),h=0;h<l;h++){var q=D[0][h]|0,k=D[1][h]|0;u[T][h]=B[(q+1)*3+(k+1)],u[E][h]=0,o[T]=I}}var H=this.jpoint(null,null,null),j=this._wnafT4;for(b=l;b>=0;b--){for(var V=0;b>=0;){var R=!0;for(h=0;h<i;h++)j[h]=u[h][b]|0,j[h]!==0&&(R=!1);if(!R)break;V++,b--}if(b>=0&&V++,H=H.dblp(V),b<0)break;for(h=0;h<i;h++){var Z=j[h];Z!==0&&(Z>0?v=o[h][Z-1>>1]:Z<0&&(v=o[h][-Z-1>>1].neg()),v.type==="affine"?H=H.mixedAdd(v):H=H.add(v))}}for(b=0;b<i;b++)o[b]=null;return a?H:H.toP()};function Nr(e,t){this.curve=e,this.type=t,this.precomputed=null}Zn.BasePoint=Nr;Nr.prototype.eq=function(){throw new Error("Not implemented")};Nr.prototype.validate=function(){return this.curve.validate(this)};Zn.prototype.decodePoint=function(t,r){t=ls.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?qo(t[t.length-1]%2===0):t[0]===7&&qo(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Nr.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Nr.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Nr.prototype.encode=function(t,r){return ls.encode(this._encode(r),t)};Nr.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Nr.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Nr.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=t){for(var s=0;s<t;s++)i=i.dbl();n.push(i)}return{step:t,points:n}};Nr.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:t,points:r}};Nr.prototype._getBeta=function(){return null};Nr.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r}});var Hb=O((AC,kb)=>{g();_();var lv=Mr(),je=pr(),fu=ff(),ba=hs(),hv=lv.assert;function qr(e){ba.call(this,"short",e),this.a=new je(e.a,16).toRed(this.red),this.b=new je(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}fu(qr,ba);kb.exports=qr;qr.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new je(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new je(t.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],hv(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return t.basis?s=t.basis.map(function(o){return{a:new je(o.a,16),b:new je(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};qr.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:je.mont(t),n=new je(2).toRed(r).redInvm(),i=n.redNeg(),a=new je(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};qr.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),a=new je(1),s=new je(0),o=new je(0),u=new je(1),l,b,h,v,S,T,E,I=0,B,D;n.cmpn(0)!==0;){var q=i.div(n);B=i.sub(q.mul(n)),D=o.sub(q.mul(a));var k=u.sub(q.mul(s));if(!h&&B.cmp(r)<0)l=E.neg(),b=a,h=B.neg(),v=D;else if(h&&++I===2)break;E=B,i=n,n=B,o=a,a=D,u=s,s=k}S=B.neg(),T=D;var H=h.sqr().add(v.sqr()),j=S.sqr().add(T.sqr());return j.cmp(H)>=0&&(S=l,T=b),h.negative&&(h=h.neg(),v=v.neg()),S.negative&&(S=S.neg(),T=T.neg()),[{a:h,b:v},{a:S,b:T}]};qr.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(t).divRound(this.n),s=n.b.neg().mul(t).divRound(this.n),o=a.mul(n.a),u=s.mul(i.a),l=a.mul(n.b),b=s.mul(i.b),h=t.sub(o).sub(u),v=l.add(b).neg();return{k1:h,k2:v}};qr.prototype.pointFromX=function(t,r){t=new je(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(t,i)};qr.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};qr.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(r[s]),u=t[s],l=u._getBeta();o.k1.negative&&(o.k1.ineg(),u=u.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),i[s*2]=u,i[s*2+1]=l,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var b=this._wnafMulAdd(1,i,a,s*2,n),h=0;h<s*2;h++)i[h]=null,a[h]=null;return b};function Ht(e,t,r,n){ba.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new je(t,16),this.y=new je(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}fu(Ht,ba.BasePoint);qr.prototype.point=function(t,r,n){return new Ht(this,t,r,n)};qr.prototype.pointFromJSON=function(t,r){return Ht.fromJSON(this,t,r)};Ht.prototype._getBeta=function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};Ht.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ht.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function a(o){return t.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Ht.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ht.prototype.isInfinity=function(){return this.inf};Ht.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Ht.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Ht.prototype.getX=function(){return this.x.fromRed()};Ht.prototype.getY=function(){return this.y.fromRed()};Ht.prototype.mul=function(t){return t=new je(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Ht.prototype.mulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Ht.prototype.jmulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Ht.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Ht.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Ht.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Yt(e,t,r,n){ba.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new je(0)):(this.x=new je(t,16),this.y=new je(r,16),this.z=new je(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}fu(Yt,ba.BasePoint);qr.prototype.jpoint=function(t,r,n){return new Yt(this,t,r,n)};Yt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};Yt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Yt.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=t.x.redMul(n),s=this.y.redMul(r.redMul(t.z)),o=t.y.redMul(n.redMul(this.z)),u=i.redSub(a),l=s.redSub(o);if(u.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=u.redSqr(),h=b.redMul(u),v=i.redMul(b),S=l.redSqr().redIAdd(h).redISub(v).redISub(v),T=l.redMul(v.redISub(S)).redISub(s.redMul(h)),E=this.z.redMul(t.z).redMul(u);return this.curve.jpoint(S,T,E)};Yt.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),a=this.y,s=t.y.redMul(r).redMul(this.z),o=n.redSub(i),u=a.redSub(s);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),b=l.redMul(o),h=n.redMul(l),v=u.redSqr().redIAdd(b).redISub(h).redISub(h),S=u.redMul(h.redISub(v)).redISub(a.redMul(b)),T=this.z.redMul(o);return this.curve.jpoint(v,S,T)};Yt.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,u=this.z,l=u.redSqr().redSqr(),b=o.redAdd(o);for(r=0;r<t;r++){var h=s.redSqr(),v=b.redSqr(),S=v.redSqr(),T=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(l)),E=s.redMul(v),I=T.redSqr().redISub(E.redAdd(E)),B=E.redISub(I),D=T.redMul(B);D=D.redIAdd(D).redISub(S);var q=b.redMul(u);r+1<t&&(l=l.redMul(S)),s=I,u=q,b=D}return this.curve.jpoint(s,b.redMul(a),u)};Yt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Yt.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var u=i.redAdd(i).redIAdd(i),l=u.redSqr().redISub(o).redISub(o),b=s.redIAdd(s);b=b.redIAdd(b),b=b.redIAdd(b),t=l,r=u.redMul(o.redISub(l)).redISub(b),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),v=this.y.redSqr(),S=v.redSqr(),T=this.x.redAdd(v).redSqr().redISub(h).redISub(S);T=T.redIAdd(T);var E=h.redAdd(h).redIAdd(h),I=E.redSqr(),B=S.redIAdd(S);B=B.redIAdd(B),B=B.redIAdd(B),t=I.redISub(T).redISub(T),r=E.redMul(T.redISub(t)).redISub(B),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};Yt.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=u.redSqr().redISub(o).redISub(o);t=l;var b=s.redIAdd(s);b=b.redIAdd(b),b=b.redIAdd(b),r=u.redMul(o.redISub(l)).redISub(b),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),v=this.y.redSqr(),S=this.x.redMul(v),T=this.x.redSub(h).redMul(this.x.redAdd(h));T=T.redAdd(T).redIAdd(T);var E=S.redIAdd(S);E=E.redIAdd(E);var I=E.redAdd(E);t=T.redSqr().redISub(I),n=this.y.redAdd(this.z).redSqr().redISub(v).redISub(h);var B=v.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),r=T.redMul(E.redISub(t)).redISub(B)}return this.curve.jpoint(t,r,n)};Yt.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),u=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(a)),l=r.redAdd(r);l=l.redIAdd(l);var b=l.redMul(o),h=u.redSqr().redISub(b.redAdd(b)),v=b.redISub(h),S=o.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var T=u.redMul(v).redISub(S),E=n.redAdd(n).redMul(i);return this.curve.jpoint(h,T,E)};Yt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=t.redAdd(t).redIAdd(t),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(t).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var u=o.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var b=a.redIAdd(o).redSqr().redISub(s).redISub(u).redISub(l),h=r.redMul(b);h=h.redIAdd(h),h=h.redIAdd(h);var v=this.x.redMul(u).redISub(h);v=v.redIAdd(v),v=v.redIAdd(v);var S=this.y.redMul(b.redMul(l.redISub(b)).redISub(o.redMul(u)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var T=this.z.redAdd(o).redSqr().redISub(n).redISub(u);return this.curve.jpoint(v,S,T)};Yt.prototype.mul=function(t,r){return t=new je(t,r),this.curve._wnafMul(this,t)};Yt.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(t.z);return this.y.redMul(a).redISub(t.y.redMul(i)).cmpn(0)===0};Yt.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Yt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Yt.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var jb=O((TC,Rb)=>{g();_();var pa=pr(),Lb=ff(),Do=hs(),bv=Mr();function ya(e){Do.call(this,"mont",e),this.a=new pa(e.a,16).toRed(this.red),this.b=new pa(e.b,16).toRed(this.red),this.i4=new pa(4).toRed(this.red).redInvm(),this.two=new pa(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Lb(ya,Do);Rb.exports=ya;ya.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Lt(e,t,r){Do.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new pa(t,16),this.z=new pa(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Lb(Lt,Do.BasePoint);ya.prototype.decodePoint=function(t,r){return this.point(bv.toArray(t,r),1)};ya.prototype.point=function(t,r){return new Lt(this,t,r)};ya.prototype.pointFromJSON=function(t){return Lt.fromJSON(this,t)};Lt.prototype.precompute=function(){};Lt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Lt.fromJSON=function(t,r){return new Lt(t,r[0],r[1]||t.one)};Lt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Lt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Lt.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};Lt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Lt.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=t.x.redAdd(t.z),s=t.x.redSub(t.z),o=s.redMul(n),u=a.redMul(i),l=r.z.redMul(o.redAdd(u).redSqr()),b=r.x.redMul(o.redISub(u).redSqr());return this.curve.point(l,b)};Lt.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Lt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Lt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Lt.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Lt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Lt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var Fb=O((IC,Vb)=>{g();_();var pv=Mr(),Mn=pr(),Ub=ff(),ko=hs(),yv=pv.assert;function an(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,ko.call(this,"edwards",e),this.a=new Mn(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Mn(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Mn(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),yv(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}Ub(an,ko);Vb.exports=an;an.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};an.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};an.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)};an.prototype.pointFromX=function(t,r){t=new Mn(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var u=o.fromRed().isOdd();return(r&&!u||!r&&u)&&(o=o.redNeg()),this.point(t,o)};an.prototype.pointFromY=function(t,r){t=new Mn(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,t)};an.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Ee(e,t,r,n,i){ko.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Mn(t,16),this.y=new Mn(r,16),this.z=n?new Mn(n,16):this.curve.one,this.t=i&&new Mn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Ub(Ee,ko.BasePoint);an.prototype.pointFromJSON=function(t){return Ee.fromJSON(this,t)};an.prototype.point=function(t,r,n,i){return new Ee(this,t,r,n,i)};Ee.fromJSON=function(t,r){return new Ee(t,r[0],r[1],r[2])};Ee.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ee.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ee.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),a=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),s=i.redAdd(r),o=s.redSub(n),u=i.redSub(r),l=a.redMul(o),b=s.redMul(u),h=a.redMul(u),v=o.redMul(s);return this.curve.point(l,b,v,h)};Ee.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,u,l;if(this.curve.twisted){o=this.curve._mulA(r);var b=o.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(b.redSub(this.curve.two)),a=b.redMul(o.redSub(n)),s=b.redSqr().redSub(b).redSub(b)):(u=this.z.redSqr(),l=b.redSub(u).redISub(u),i=t.redSub(r).redISub(n).redMul(l),a=b.redMul(o.redSub(n)),s=b.redMul(l))}else o=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),l=o.redSub(u).redSub(u),i=this.curve._mulC(t.redISub(o)).redMul(l),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(l);return this.curve.point(i,a,s)};Ee.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ee.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),a=this.z.redMul(t.z.redAdd(t.z)),s=n.redSub(r),o=a.redSub(i),u=a.redAdd(i),l=n.redAdd(r),b=s.redMul(o),h=u.redMul(l),v=s.redMul(l),S=o.redMul(u);return this.curve.point(b,h,S,v)};Ee.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),u=n.redAdd(s),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(a),b=r.redMul(o).redMul(l),h,v;return this.curve.twisted?(h=r.redMul(u).redMul(a.redSub(this.curve._mulA(i))),v=o.redMul(u)):(h=r.redMul(u).redMul(a.redSub(i)),v=this.curve._mulC(o).redMul(u)),this.curve.point(b,h,v)};Ee.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};Ee.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};Ee.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};Ee.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};Ee.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};Ee.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ee.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ee.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ee.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};Ee.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ee.prototype.toP=Ee.prototype.normalize;Ee.prototype.mixedAdd=Ee.prototype.add});var uu=O(Kb=>{g();_();var Ho=Kb;Ho.base=hs();Ho.short=Hb();Ho.mont=jb();Ho.edwards=Fb()});var zb=O((kC,$b)=>{g();_();$b.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var Lo=O(Xb=>{g();_();var lu=Xb,Wn=sl(),du=uu(),mv=Mr(),Gb=mv.assert;function Yb(e){e.type==="short"?this.curve=new du.short(e):e.type==="edwards"?this.curve=new du.edwards(e):this.curve=new du.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,Gb(this.g.validate(),"Invalid curve"),Gb(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}lu.PresetCurve=Yb;function Jn(e,t){Object.defineProperty(lu,e,{configurable:!0,enumerable:!0,get:function(){var r=new Yb(t);return Object.defineProperty(lu,e,{configurable:!0,enumerable:!0,value:r}),r}})}Jn("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Wn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Jn("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Wn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Jn("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Wn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Jn("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Wn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Jn("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Wn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Jn("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wn.sha256,gRed:!1,g:["9"]});Jn("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var hu;try{hu=zb()}catch{hu=void 0}Jn("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Wn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",hu]})});var Wb=O((VC,Zb)=>{g();_();var gv=pr(),_v=Mr(),bu=_v.assert;function nr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}Zb.exports=nr;nr.fromPublic=function(t,r,n){return r instanceof nr?r:new nr(t,{pub:r,pubEnc:n})};nr.fromPrivate=function(t,r,n){return r instanceof nr?r:new nr(t,{priv:r,privEnc:n})};nr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};nr.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};nr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};nr.prototype._importPrivate=function(t,r){this.priv=new gv(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};nr.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?bu(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&bu(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};nr.prototype.derive=function(t){return t.validate()||bu(t.validate(),"public point not validated"),t.mul(this.priv).getX()};nr.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};nr.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};nr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var e1=O(($C,Qb)=>{g();_();var Ro=pr(),mu=Mr(),vv=mu.assert;function bs(e,t,r){if(t instanceof bs)return t;this._importDER(t,r)||(vv(t.r&&t.s,"Signature without r or s"),this.r=new Ro(t.r,16),this.s=new Ro(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam,this.curve=e,this.byteLength=this.curve.n.byteLength())}Qb.exports=bs;function wv(){this.place=0}function pu(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s],i>>>=0;return i<=127?!1:(t.place=s,i)}function Jb(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}bs.prototype._importDER=function(t,r){t=mu.toArray(t,r);var n=new wv;if(t[n.place++]!==48)return!1;var i=pu(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var a=pu(t,n);if(a===!1)return!1;var s=t.slice(n.place,a+n.place);if(n.place+=a,t[n.place++]!==2)return!1;var o=pu(t,n);if(o===!1||t.length!==o+n.place)return!1;var u=t.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new Ro(s),this.s=new Ro(u),this.recoveryParam=null,!0};function yu(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}bs.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Jb(r),n=Jb(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];yu(i,r.length),i=i.concat(r),i.push(2),yu(i,n.length);var a=i.concat(n),s=[48];return yu(s,a.length),s=s.concat(a),mu.encode(s,t)};bs.prototype.toBytes=function(){let t=this.r.toArray("be",this.byteLength),r=this.s.toArray("be",this.byteLength);return t.concat(r)}});var n1=O((YC,r1)=>{g();_();var Pn=pr(),t1=Hy(),Sv=Mr(),gu=Lo(),xv=Ly(),Bi=Sv.assert,_u=Wb(),jo=e1();function Dr(e){if(!(this instanceof Dr))return new Dr(e);typeof e=="string"&&(Bi(Object.prototype.hasOwnProperty.call(gu,e),"Unknown curve "+e),e=gu[e]),e instanceof gu.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}r1.exports=Dr;Dr.prototype.keyPair=function(t){return new _u(this,t)};Dr.prototype.keyFromPrivate=function(t,r){return _u.fromPrivate(this,t,r)};Dr.prototype.keyFromPublic=function(t,r){return _u.fromPublic(this,t,r)};Dr.prototype.genKeyPair=function(t){t||(t={});for(var r=new t1({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||xv(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Pn(2));;){var a=new Pn(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Dr.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Dr.prototype.sign=function(t,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof t!="string"&&typeof t!="number"&&!Pn.isBN(t)){Bi(typeof t=="object"&&t&&typeof t.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Bi(t.length>>>0===t.length);for(var a=0;a<t.length;a++)Bi((t[a]&255)===t[a])}r=this.keyFromPrivate(r,n),t=this._truncateToN(new Pn(t,16)),Bi(!t.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),u=t.toArray("be",s);Bi(new Pn(u).eq(t),"Can not sign message");for(var l=new t1({hash:this.hash,entropy:o,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new Pn(1)),h=0;;h++){var v=i.k?i.k(h):new Pn(l.generate(this.n.byteLength()));if(v=this._truncateToN(v,!0),!(v.cmpn(1)<=0||v.cmp(b)>=0)){var S=this.g.mul(v);if(!S.isInfinity()){var T=S.getX(),E=T.umod(this.n);if(E.cmpn(0)!==0){var I=v.invm(this.n).mul(E.mul(r.getPrivate()).iadd(t));if(I=I.umod(this.n),I.cmpn(0)!==0){var B=(S.getY().isOdd()?1:0)|(T.cmp(E)!==0?2:0);return i.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),B^=1),new jo(this.curve,{r:E,s:I,recoveryParam:B})}}}}}};Dr.prototype.verify=function(t,r,n,i){t=this._truncateToN(new Pn(t,16)),n=this.keyFromPublic(n,i),r=new jo(this.curve,r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),u=o.mul(t).umod(this.n),l=o.mul(a).umod(this.n),b;return this.curve._maxwellTrick?(b=this.g.jmulAdd(u,n.getPublic(),l),b.isInfinity()?!1:b.eqXToP(a)):(b=this.g.mulAdd(u,n.getPublic(),l),b.isInfinity()?!1:b.getX().umod(this.n).cmp(a)===0)};Dr.prototype.recoverPubKey=function(e,t,r,n){Bi((3&r)===r,"The recovery param is more than two bits"),t=new jo(this.curve,t,n);var i=this.n,a=new Pn(e),s=t.r,o=t.s,u=r&1,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?s=this.curve.pointFromX(s.add(this.curve.n),u):s=this.curve.pointFromX(s,u);var b=t.r.invm(i),h=i.sub(a).mul(b).umod(i),v=o.mul(b).umod(i);return this.g.mulAdd(h,s,v)};Dr.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new jo(this.curve,t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var o1=O((WC,s1)=>{g();_();var ps=Mr(),a1=ps.assert,i1=ps.parseBytes,ma=ps.cachedProperty;function Rt(e,t){this.eddsa=e,this._secret=i1(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=i1(t.pub)}Rt.fromPublic=function(t,r){return r instanceof Rt?r:new Rt(t,{pub:r})};Rt.fromSecret=function(t,r){return r instanceof Rt?r:new Rt(t,{secret:r})};Rt.prototype.secret=function(){return this._secret};ma(Rt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ma(Rt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ma(Rt,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});ma(Rt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ma(Rt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ma(Rt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Rt.prototype.sign=function(t){return a1(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};Rt.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};Rt.prototype.getSecret=function(t){return a1(this._secret,"KeyPair is public only"),ps.encode(this.secret(),t)};Rt.prototype.getPublic=function(t){return ps.encode(this.pubBytes(),t)};s1.exports=Rt});var f1=O((eT,c1)=>{g();_();var Av=pr(),Uo=Mr(),Ev=Uo.assert,Vo=Uo.cachedProperty,Cv=Uo.parseBytes;function Oi(e,t){this.eddsa=e,typeof t!="object"&&(t=Cv(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Ev(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Av&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Vo(Oi,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Vo(Oi,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Vo(Oi,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Vo(Oi,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Oi.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Oi.prototype.toHex=function(){return Uo.encode(this.toBytes(),"hex").toUpperCase()};c1.exports=Oi});var b1=O((nT,h1)=>{g();_();var Tv=sl(),Mv=Lo(),ga=Mr(),Pv=ga.assert,d1=ga.parseBytes,l1=o1(),u1=f1();function yr(e){if(Pv(e==="ed25519","only tested with ed25519 so far"),!(this instanceof yr))return new yr(e);e=Mv[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Tv.sha512}h1.exports=yr;yr.prototype.sign=function(t,r){t=d1(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),u=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:u,Rencoded:s})};yr.prototype.verify=function(t,r,n){t=d1(t),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),t),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};yr.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return ga.intFromLE(t.digest()).umod(this.curve.n)};yr.prototype.keyFromPublic=function(t){return l1.fromPublic(this,t)};yr.prototype.keyFromSecret=function(t){return l1.fromSecret(this,t)};yr.prototype.makeSignature=function(t){return t instanceof u1?t:new u1(this,t)};yr.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};yr.prototype.decodePoint=function(t){t=ga.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,a=ga.intFromLE(n);return this.curve.pointFromY(a,i)};yr.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};yr.prototype.decodeInt=function(t){return ga.intFromLE(t)};yr.prototype.isPoint=function(t){return t instanceof this.pointClass}});var _a=O(kr=>{g();_();Object.defineProperty(kr,"__esModule",{value:!0});kr.utils=kr.curves=kr.curve=kr.eddsa=kr.ec=void 0;var Iv=uu();kr.curve=Iv;var Bv=Lo();kr.curves=Bv;var Ov=n1();kr.ec=Ov;var Nv=b1();kr.eddsa=Nv;var qv=Mr();kr.utils=qv});var m1=O((p1,y1)=>{g();_();Object.defineProperty(p1,"__esModule",{value:!0});var Dv=_a(),sn=new Dv.ec("secp256k1"),ae=sn.curve,Ce=pr();function kv(e,t){let r=new Ce(t);if(r.cmp(ae.p)>=0)return null;r=r.toRed(ae.red);let n=r.redSqr().redIMul(r).redIAdd(ae.b).redSqrt();e===3!==n.isOdd()&&(n=n.redNeg());let i=r.redSqr().redIMul(r);return n.redSqr().redISub(i.redIAdd(ae.b)).isZero()?sn.keyPair({pub:{x:r,y:n}}):null}function Hv(e,t,r){let n=new Ce(t),i=new Ce(r);if(n.cmp(ae.p)>=0||i.cmp(ae.p)>=0||(n=n.toRed(ae.red),i=i.toRed(ae.red),(e===6||e===7)&&i.isOdd()!==(e===7)))return null;let a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(ae.b)).isZero()?sn.keyPair({pub:{x:n,y:i}}):null}function Qn(e){let t=e[0];switch(t){case 2:case 3:return e.length!==33?null:kv(t,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:Hv(t,e.subarray(1,33),e.subarray(33,65));default:return null}}y1.exports={contextRandomize(){return 0},privateKeyVerify(e){let t=new Ce(e);return t.cmp(ae.n)<0&&!t.isZero()},privateKeyNegate(e){let t=new Ce(e);return M.Buffer.from(ae.n.sub(t).umod(ae.n).toArray("be",32))},privateKeyTweakAdd(e,t){let r=new Ce(t);return r.cmp(ae.n)>=0||(r.iadd(new Ce(e)),r.cmp(ae.n)>=0&&r.isub(ae.n),r.isZero())?null:M.Buffer.from(r.toArray("be",32))},privateKeyTweakMul(e,t){let r=new Ce(t);return r.cmp(ae.n)>=0||r.isZero()?1:(r.imul(new Ce(e)),r.cmp(ae.n)>=0&&(r=r.umod(ae.n)),M.Buffer.from(r.toArray("be",32)))},publicKeyVerify(e){let t=Qn(e);return t==null?null:t.validate().result},publicKeyCreate(e,t){let r=new Ce(e);if(r.cmp(ae.n)>=0||r.isZero())return null;let n=sn.keyFromPrivate(e,null).getPublic();return M.Buffer.from(n.encode(null,t))},publicKeyConvert(e,t){let n=Qn(e).getPublic();return M.Buffer.from(n.encode(null,t))},publicKeyNegate(e,t){let r=Qn(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),M.Buffer.from(n.encode(null,t))},publicKeyCombine(e,t){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=Qn(e[i]),r[i]===null)return null;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?null:M.Buffer.from(n.encode(null,t))},publicKeyTweakAdd(e,t,r){let n=Qn(e);if(n===null||new Ce(t).cmp(ae.n)>=0)return null;let a=n.getPublic().add(ae.g.mul(t));return a.isInfinity()?null:M.Buffer.from(a.encode(null,r))},publicKeyTweakMul(e,t,r){let n=Qn(e);if(n===null)return null;let i=new Ce(t);if(i.cmp(ae.n)>=0||i.isZero())return null;let a=n.getPublic().mul(t);return M.Buffer.from(a.encode(null,r))},signatureNormalize(e){let t=new Ce(e.subarray(0,32)),r=new Ce(e.subarray(32,64));return t.cmp(ae.n)>=0||r.cmp(ae.n)>=0?null:(r.cmp(sn.nh)===1&&e.set(ae.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){let r=t.subarray(0,32),n=t.subarray(32,64);if(new Ce(r).cmp(ae.n)>=0||new Ce(n).cmp(ae.n)>=0)return 1;let{output:i}=e,a=i.subarray(4,4+33);a[0]=0,a.set(r,1);let s=33,o=0;for(;s>1&&a[o]===0&&!(a[o+1]&128);--s,++o);if(a=a.subarray(o),a[0]&128||s>1&&a[0]===0&&!(a[1]&128))return 1;let u=i.subarray(6+33,6+33+33);u[0]=0,u.set(n,1);let l=33,b=0;for(;l>1&&u[b]===0&&!(u[b+1]&128);--l,++b);return u=u.subarray(b),u[0]&128||l>1&&u[0]===0&&!(u[1]&128)?1:(e.outputlen=6+s+l,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+s]=2,i[5+s]=u.length,i.set(u,6+s),0)},signatureImport(e,t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return 1;let r=t[3];if(r===0||5+r>=t.length||t[4+r]!==2)return 1;let n=t[5+r];if(n===0||6+r+n!==t.length||t[4]&128||r>1&&t[4]===0&&!(t[5]&128)||t[r+6]&128||n>1&&t[r+6]===0&&!(t[r+7]&128))return 1;let i=t.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let a=t.subarray(6+r);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let s=new Ce(i);s.cmp(ae.n)>=0&&(s=new Ce(0));let o=new Ce(t.subarray(6+r));return o.cmp(ae.n)>=0&&(o=new Ce(0)),e.set(s.toArrayLike(Uint8Array,"be",32),0),e.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t){let r=new Ce(t);return r.cmp(ae.n)>=0||r.isZero()?null:sn.sign(e,t,{canonical:!0}).toBytes()},ecdsaVerify(e,t,r){let n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new Ce(n.r),a=new Ce(n.s);if(i.cmp(ae.n)>=0||a.cmp(ae.n)>=0)return 1;if(a.cmp(sn.nh)===1||i.isZero()||a.isZero())return 3;let s=Qn(r);if(s===null)return 2;let o=s.getPublic();return sn.verify(t,n,o)},ecdsaRecover(e,t,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},a=new Ce(i.r),s=new Ce(i.s);if(a.cmp(ae.n)>=0||s.cmp(ae.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;let o;try{o=sn.recoverPubKey(r,i,t,null)}catch{return 2}return M.Buffer.from(o.encode(null,n))},ecdh(e,t,r,n,i,a,s){let o=Qn(t);if(o===null)return 1;let u=new Ce(r);if(u.cmp(ae.n)>=0||u.isZero())return 2;let l=o.getPublic().mul(u);if(i===void 0){let b=l.encode(null,!0),h=sn.hash().update(b).digest();for(let v=0;v<32;++v)e[v]=h[v]}else{a||(a=new Uint8Array(32));let b=l.getX().toArray("be",32);for(let T=0;T<32;++T)a[T]=b[T];s||(s=new Uint8Array(32));let h=l.getY().toArray("be",32);for(let T=0;T<32;++T)s[T]=h[T];let v=i(a,s,n);if(!(v instanceof Uint8Array&&v.length===e.length))return 2;e.set(v)}return 0}}});var S1=O(jt=>{g();_();var Lv=jt&&jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rv=jt&&jt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jv=jt&&jt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Lv(t,e,r);return Rv(t,e),t};Object.defineProperty(jt,"__esModule",{value:!0});jt.fromSeed=jt.fromPublicKey=jt.fromPrivateKey=jt.fromBase58=jt.tinySecp256k1Interface=void 0;var vu=jv(ds()),Uv=uf(),Vv=Eo(),_1=(0,Uv.base58check)(Vv.sha256),v1=m1(),Xt=Ry(),Fv=jy();function Kv(e){return{isPoint:t=>e.publicKeyVerify(t),isPrivate:t=>e.privateKeyVerify(t),pointAddScalar:(t,r,n)=>e.publicKeyTweakAdd(t,r,n),pointFromScalar:(t,r)=>e.publicKeyCreate(t,r),privateAdd:(t,r)=>e.privateKeyTweakAdd(new Uint8Array(t),r),sign:(t,r)=>e.ecdsaSign(t,r),verify:(t,r,n)=>e.ecdsaVerify(n,t,r)}}function $v(e){return{isPoint:t=>e.publicKeyVerify(t),pointCompress:(t,r)=>Uint8Array.from(e.publicKeyConvert(t,r??!0)),isPrivate:t=>e.privateKeyVerify(t),pointFromScalar:(t,r)=>{let n=e.publicKeyCreate(t,r??!0);return n==null?null:Uint8Array.from(n)},sign:(t,r,n)=>Uint8Array.from(e.ecdsaSign(t,r)),verify:(t,r,n,i)=>e.ecdsaVerify(n,t,r)}}var ei=Kv(v1);jt.tinySecp256k1Interface=$v(v1);var wu=Xt.BufferN(32),zv=Xt.compile({wif:Xt.UInt8,bip32:{public:Xt.UInt32,private:Xt.UInt32}}),$o={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},g1=2147483648,Gv=Math.pow(2,31)-1;function Yv(e){return Xt.String(e)&&e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)!==null}function Xv(e){return Xt.UInt32(e)&&e<=Gv}var Fo=class{constructor(t,r,n,i,a=0,s=0,o=0){this.__D=t,this.__Q=r,this.chainCode=n,this.network=i,this.__DEPTH=a,this.__INDEX=s,this.__PARENT_FINGERPRINT=o,Xt(zv,i),this.lowR=!1}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get publicKey(){return this.__Q===void 0&&(this.__Q=M.Buffer.from(ei.pointFromScalar(this.__D,!0))),this.__Q}get privateKey(){return this.__D}get identifier(){return M.Buffer.from(vu.hash160(this.publicKey))}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return this.__D===void 0}neutered(){return Ko(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){let t=this.network,r=this.isNeutered()?t.bip32.public:t.bip32.private,n=M.Buffer.allocUnsafe(78);return n.writeUInt32BE(r,0),n.writeUInt8(this.depth,4),n.writeUInt32BE(this.parentFingerprint,5),n.writeUInt32BE(this.index,9),this.chainCode.copy(n,13),this.isNeutered()?this.publicKey.copy(n,45):(n.writeUInt8(0,45),this.privateKey.copy(n,46)),_1.encode(n)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return Fv.encode(this.network.wif,this.privateKey,!0)}derive(t){Xt(Xt.UInt32,t);let r=t>=g1,n=M.Buffer.allocUnsafe(37);if(r){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");n[0]=0,this.privateKey.copy(n,1),n.writeUInt32BE(t,33)}else this.publicKey.copy(n,0),n.writeUInt32BE(t,33);let i=vu.hmacSHA512(this.chainCode,n),a=i.slice(0,32),s=i.slice(32);if(!ei.isPrivate(a))return this.derive(t+1);let o;if(this.isNeutered()){let u=ei.pointAddScalar(this.publicKey,a,!0);if(u===null)return this.derive(t+1);o=Ko(u,s,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}else{let u=ei.privateAdd(this.privateKey,a);if(u==null)return this.derive(t+1);o=Su(u,s,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}return o}deriveHardened(t){return Xt(Xv,t),this.derive(t+g1)}derivePath(t){Xt(Yv,t);let r=t.split("/");if(r[0]==="m"){if(this.parentFingerprint)throw new TypeError("Expected master, got child");r=r.slice(1)}return r.reduce((n,i)=>{let a;return i.slice(-1)==="'"?(a=parseInt(i.slice(0,-1),10),n.deriveHardened(a)):(a=parseInt(i,10),n.derive(a))},this)}sign(t){if(!this.privateKey)throw new Error("Missing private key");return ei.sign(t,this.privateKey)}verify(t,r){return ei.verify(t,this.publicKey,r)}};function Zv(e,t){let r=M.Buffer.from(_1.decode(e));if(r.length!==78)throw new TypeError("Invalid buffer length");t=t||$o;let n=r.readUInt32BE(0);if(n!==t.bip32.private&&n!==t.bip32.public)throw new TypeError("Invalid network version");let i=r[4],a=r.readUInt32BE(5);if(i===0&&a!==0)throw new TypeError("Invalid parent fingerprint");let s=r.readUInt32BE(9);if(i===0&&s!==0)throw new TypeError("Invalid index");let o=r.slice(13,45),u;if(n===t.bip32.private){if(r.readUInt8(45)!==0)throw new TypeError("Invalid private key");let l=r.slice(46,78);u=Su(l,o,t,i,s,a)}else{let l=r.slice(45,78);u=Ko(l,o,t,i,s,a)}return u}jt.fromBase58=Zv;function w1(e,t,r){return Su(e,t,r)}jt.fromPrivateKey=w1;function Su(e,t,r,n,i,a){if(Xt({privateKey:wu,chainCode:wu},{privateKey:e,chainCode:t}),r=r||$o,!ei.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return new Fo(e,void 0,t,r,n,i,a)}function Wv(e,t,r){return Ko(e,t,r)}jt.fromPublicKey=Wv;function Ko(e,t,r,n,i,a){if(Xt({publicKey:Xt.BufferN(33),chainCode:wu},{publicKey:e,chainCode:t}),r=r||$o,!ei.isPoint(e))throw new TypeError("Point is not on the curve");return new Fo(void 0,e,t,r,n,i,a)}function Jv(e,t){if(Xt(Xt.Buffer,e),e.length<16)throw new TypeError("Seed should be at least 128 bits");if(e.length>64)throw new TypeError("Seed should be at most 512 bits");t=t||$o;let r=vu.hmacSHA512(M.Buffer.from("Bitcoin seed","utf8"),e),n=r.slice(0,32),i=r.slice(32);return w1(n,i,t)}jt.fromSeed=Jv});var x1=O(zo=>{g();_();Object.defineProperty(zo,"__esModule",{value:!0});zo.fromSeedV2=void 0;var Qv=Uy();function e6(e,t){return Qv.HDKey.fromMasterSeed(new Uint8Array([...e])).derive(t)}zo.fromSeedV2=e6});var A1=O(mr=>{g();_();Object.defineProperty(mr,"__esModule",{value:!0});mr.fromSeedV2=mr.fromPrivateKey=mr.fromPublicKey=mr.fromBase58=mr.fromSeed=mr.tinySecp256k1Interface=void 0;var ys=S1();Object.defineProperty(mr,"tinySecp256k1Interface",{enumerable:!0,get:function(){return ys.tinySecp256k1Interface}});Object.defineProperty(mr,"fromSeed",{enumerable:!0,get:function(){return ys.fromSeed}});Object.defineProperty(mr,"fromBase58",{enumerable:!0,get:function(){return ys.fromBase58}});Object.defineProperty(mr,"fromPublicKey",{enumerable:!0,get:function(){return ys.fromPublicKey}});Object.defineProperty(mr,"fromPrivateKey",{enumerable:!0,get:function(){return ys.fromPrivateKey}});var t6=x1();Object.defineProperty(mr,"fromSeedV2",{enumerable:!0,get:function(){return t6.fromSeedV2}})});var E1=O((vT,r6)=>{r6.exports=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]});var Au=O(Ni=>{g();_();Object.defineProperty(Ni,"__esModule",{value:!0});Ni._default=Ni.wordlists=void 0;var xu={};Ni.wordlists=xu;var Go;Ni._default=Go;try{Ni._default=Go=E1(),xu.english=Go,xu.EN=Go}catch{}});var Eu=O(Ue=>{g();_();Object.defineProperty(Ue,"__esModule",{value:!0});Ue.wordlists=Ue.getDefaultWordlist=Ue.setDefaultWordlist=Ue.validateMnemonic=Ue.generateMnemonic=Ue.entropyToMnemonic=Ue.mnemonicToEntropy=Ue.mnemonicToSeedV2=Ue.mnemonicToSeed=Ue.mnemonicToSeedSync=void 0;var T1=ds(),M1=Io(),Yo=Au(),P1=is(),n6=Vy(),va=Yo._default,C1="Invalid mnemonic",qi="Invalid entropy",i6="Invalid mnemonic checksum",I1=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function a6(e,t,r,n,i){let a=(0,M1.pbkdf2)(P1.sha512,e,t,{c:r,dkLen:n});return Promise.resolve(M.Buffer.from(a))}function ms(e){return(e||"").normalize("NFKD")}function B1(e,t,r){for(;e.length<r;)e=t+e;return e}function O1(e){return parseInt(e,2)}function N1(e){return e.map(t=>B1(t.toString(2),"0",8)).join("")}function q1(e){let r=e.length*8/32,n=(0,T1.sha256)(e);return N1(Array.from(n)).slice(0,r)}function D1(e){return"mnemonic"+(e||"")}function s6(e,t){let r=M.Buffer.from(ms(e),"utf8"),n=M.Buffer.from(D1(ms(t)),"utf8"),i=(0,M1.pbkdf2)(P1.sha512,r,n,{c:2048,dkLen:64});return M.Buffer.from(i)}Ue.mnemonicToSeedSync=s6;function o6(e,t){return Promise.resolve().then(()=>{let r=M.Buffer.from(ms(e),"utf8"),n=M.Buffer.from(D1(ms(t)),"utf8");return a6(r,n,2048,64,"sha512")})}Ue.mnemonicToSeed=o6;async function c6(e,t){let r=e.split(" ").map(a=>va.indexOf(a)),n=new Uint8Array(new Uint16Array(r).buffer),i=await(0,n6.mnemonicToSeed)(n,t);return M.Buffer.from(i)}Ue.mnemonicToSeedV2=c6;function k1(e,t){if(t=t||va,!t)throw new Error(I1);let r=ms(e).split(" ");if(r.length%3!==0)throw new Error(C1);let n=r.map(b=>{let h=t.indexOf(b);if(h===-1)throw new Error(C1);return B1(h.toString(2),"0",11)}).join(""),i=Math.floor(n.length/33)*32,a=n.slice(0,i),s=n.slice(i),o=a.match(/(.{1,8})/g).map(O1);if(o.length<16)throw new Error(qi);if(o.length>32)throw new Error(qi);if(o.length%4!==0)throw new Error(qi);let u=M.Buffer.from(o);if(q1(u)!==s)throw new Error(i6);return u.toString("hex")}Ue.mnemonicToEntropy=k1;function H1(e,t){if(M.Buffer.isBuffer(e)||(e=M.Buffer.from(e,"hex")),t=t||va,!t)throw new Error(I1);if(e.length<16)throw new TypeError(qi);if(e.length>32)throw new TypeError(qi);if(e.length%4!==0)throw new TypeError(qi);let r=N1(Array.from(e)),n=q1(e),s=(r+n).match(/(.{1,11})/g).map(o=>{let u=O1(o);return t[u]});return t[0]==="\u3042\u3044\u3053\u304F\u3057\u3093"?s.join("\u3000"):s.join(" ")}Ue.entropyToMnemonic=H1;function f6(e,t,r){if(e=e||128,e%32!==0)throw new TypeError(qi);return t=t||T1.randomBytes,H1(t(e/8),r)}Ue.generateMnemonic=f6;function u6(e,t){try{k1(e,t)}catch{return!1}return!0}Ue.validateMnemonic=u6;function d6(e){let t=Yo.wordlists[e];if(t)va=t;else throw new Error('Could not find wordlist for language "'+e+'"')}Ue.setDefaultWordlist=d6;function l6(){if(!va)throw new Error("No Default Wordlist set");return Object.keys(Yo.wordlists).filter(e=>e==="JA"||e==="EN"?!1:Yo.wordlists[e].every((t,r)=>t===va[r]))[0]}Ue.getDefaultWordlist=l6;var h6=Au();Object.defineProperty(Ue,"wordlists",{enumerable:!0,get:function(){return h6.wordlists}})});var F1=O(oe=>{g();_();var b6=oe&&oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p6=oe&&oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y6=oe&&oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&b6(t,e,r);return p6(t,e),t},m6=oe&&oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oe,"__esModule",{value:!0});oe.loadUncompressedPublicKey=oe.loadCompressedPublicKey=oe.publicKeyConvert=oe.publicKeyCreate=oe.publicKeyVerify=oe.privateKeyVerify=oe.loadPublicKey=oe.recover=oe.verifyWithNoRecovery=oe.verify=oe.getV=oe.sign=void 0;var g6=y6(_a()),Bt=new g6.ec("secp256k1"),L1=ds(),wa=m6(pr());function _6(e,t,r=!0){let n=Bt.sign(Array.from(e),M.Buffer.from(t),{canonical:r});return{signature:n.toBytes(),recovery:n.recoveryParam}}oe.sign=_6;function v6(e,t,r,n,i=!0){let a=gs(n);if(a==null)throw new Error("pubkey error");let s=Bt.keyPair({pub:{x:a.x,y:a.y}}).getPublic();return Bt.getKeyRecoveryParam(e,{r:t,s:r},s,i)}oe.getV=v6;function w6(e,t,r,n){let i=R1(t,r,e,!0);if(i==null)return!1;let a=j1(n,!0);return a==null?!1:i.equals(a)}oe.verify=w6;function S6(e,t,r){let n=gs(r);if(n==null)throw new Error("pubkey error");let i=Bt.keyPair({pub:{x:n.x,y:n.y}}),a={r:(0,L1.toHex)(t.slice(0,32)),s:(0,L1.toHex)(t.slice(32,64))};return i.verify(e,a)}oe.verifyWithNoRecovery=S6;function R1(e,t,r,n){let i={r:Array.from(e.slice(0,32)),s:Array.from(e.slice(32,64))},a=new wa.default(i.r),s=new wa.default(i.s);if(a.cmp(Bt.curve.n)>=0||s.cmp(Bt.curve.n)>=0||a.isZero()||s.isZero())return null;let o;try{o=Bt.recoverPubKey(Array.from(r),i,t,null)}catch{return null}return M.Buffer.from(o.encode(null,n))}oe.recover=R1;function gs(e){let t=M.Buffer.from(e),r=t[0];switch(r){case 2:case 3:return t.length!==33?null:U1(r,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:V1(r,t.subarray(1,33),t.subarray(33,65));default:return null}}oe.loadPublicKey=gs;function x6(e){let t=new wa.default(Array.from(e));return t.cmp(Bt.curve.n)<0&&!t.isZero()}oe.privateKeyVerify=x6;function A6(e){return gs(e)!==null}oe.publicKeyVerify=A6;function E6(e,t){let r=Bt.keyFromPrivate(Array.from(e),"bytes").getPublic();return M.Buffer.from(r.encode(null,t))}oe.publicKeyCreate=E6;function j1(e,t){let r=gs(e);if(r==null)return null;let n=Bt.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return M.Buffer.from(n.encode(null,t))}oe.publicKeyConvert=j1;function U1(e,t){let r=new wa.default(Array.from(t));if(r.cmp(Bt.curve.p)>=0)return null;let n=r.toRed(Bt.curve.red),i=n.redSqr().redIMul(n).redIAdd(Bt.curve.b).redSqrt();e===3!==i.isOdd()&&(i=i.redNeg());let a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(Bt.curve.b)).isZero()?{x:n,y:i}:null}oe.loadCompressedPublicKey=U1;function V1(e,t,r){let n=new wa.default(Array.from(t)),i=new wa.default(Array.from(r));if(n.cmp(Bt.curve.p)>=0||i.cmp(Bt.curve.p)>=0)return null;let a=n.toRed(Bt.curve.red),s=i.toRed(Bt.curve.red);if((e===6||e===7)&&s.isOdd()!==(e===7))return null;let o=a.redSqr().redIMul(a);return s.redSqr().redISub(o.redIAdd(Bt.curve.b)).isZero()?{x:a,y:s}:null}oe.loadUncompressedPublicKey=V1});var J1=O(se=>{g();_();var C6=se&&se.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),T6=se&&se.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),K1=se&&se.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&C6(t,e,r);return T6(t,e),t},M6=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(se,"__esModule",{value:!0});se.ed25519_getDerivedPrivateKey=se.isValidPath=se.ed25519_getRandomPrivateKey=se.ed25519SignTest=se.fromSecret=se.fromSeed=se.privateKeyVerify=se.publicKeyVerify=se.publicKeyCreate=se.verify=se.sign=se.ed25519MulBase=void 0;var $1=K1(_a()),Yr=ds(),P6=M6(pr()),I6=Eu(),Cu=K1(ol()),B6=is();Cu.utils.sha512Sync=(...e)=>(0,B6.sha512)(Cu.utils.concatBytes(...e));var ti=new $1.eddsa("ed25519"),z1=ti.curve;function O6(e){let t=ti.curve.g;return ti.encodePoint(t.mul($1.utils.intFromLE(e)))}se.ed25519MulBase=O6;function G1(e,t){let r=t;r.length==64&&(r=r.slice(0,32));let n=Cu.sync.sign(e,r);return Uint8Array.from(n)}se.sign=G1;function Y1(e,t,r){return ti.keyFromPublic(Array.from(r)).verify(Array.from(e),Array.from(t))}se.verify=Y1;function Xo(e){let t=e;t.length==64&&(t=t.slice(0,32));let n=ti.keyFromSecret(Array.from(t)).getPublic();if(e.length==64&&!N6(e.slice(32,64),n))throw new Error("invalid public key");return Uint8Array.from(n)}se.publicKeyCreate=Xo;function N6(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function q6(e){let t=ti.decodePoint(Array.from(e));return z1.validate(t)}se.publicKeyVerify=q6;function X1(e){let t=new P6.default(Array.from(e));return t.cmp(z1.n)<0&&!t.isZero()}se.privateKeyVerify=X1;function D6(e){let t=ti.keyFromSecret(Array.from(e)),r=Uint8Array.from(t.getPublic());return{publicKey:r,secretKey:(0,Yr.concatBytes)(e,r)}}se.fromSeed=D6;function k6(e){let t=e.slice(0,32),r=ti.keyFromSecret(Array.from(t));return{publicKey:Uint8Array.from(r.getPublic()),secretKey:Uint8Array.from(t)}}se.fromSecret=k6;function Z1(e){let t=(0,Yr.sha256)("ed25519-test"),r=Xo(e),n=G1(t,e);return Y1(t,n,r)}se.ed25519SignTest=Z1;function H6(e,t){for(;;){let r=(0,Yr.randomBytes)(32);if(X1(r)&&Z1(r)){let n=Xo(r),i=e?(0,Yr.concatBytes)(r,n):r;return t==="base58"?(0,Yr.toBase58)(i):(0,Yr.toHex)(i)}}}se.ed25519_getRandomPrivateKey=H6;var L6=new RegExp("^m(\\/[0-9]+')+$"),W1=e=>e.replace("'",""),R6=2147483648;function j6(e){let t=(0,Yr.hmacSHA512)("ed25519 seed",e),r=t.slice(0,32),n=t.slice(32);return{key:r,chainCode:n}}function U6({key:e,chainCode:t},r){let n=M.Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=M.Buffer.concat([M.Buffer.alloc(1,0),e,n]),a=(0,Yr.hmacSHA512)(t,i),s=a.slice(0,32),o=a.slice(32);return{key:s,chainCode:o}}var V6=e=>L6.test(e)?!e.split("/").slice(1).map(W1).some(isNaN):!1;se.isValidPath=V6;function F6(e,t,r=R6){if(!(0,se.isValidPath)(e))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=j6(t);return e.split("/").slice(1).map(W1).map(s=>parseInt(s,10)).reduce((s,o)=>U6(s,o+r),{key:n,chainCode:i})}async function K6(e,t,r,n){let i=await(0,I6.mnemonicToSeedV2)(e),a=F6(t,i).key,s=Xo(a),o=r?(0,Yr.concatBytes)(a,s):a;return n==="base58"?Promise.resolve((0,Yr.toBase58)(o)):Promise.resolve((0,Yr.toHex)(o))}se.ed25519_getDerivedPrivateKey=K6});var rp=O(_e=>{g();_();var $6=_e&&_e.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),z6=_e&&_e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),G6=_e&&_e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$6(t,e,r);return z6(t,e),t},Y6=_e&&_e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});_e.loadUncompressedPublicKey=_e.loadCompressedPublicKey=_e.publicKeyConvert=_e.publicKeyCreate=_e.publicKeyVerify=_e.privateKeyVerify=_e.loadPublicKey=_e.recover=_e.verify=_e.sign=void 0;var X6=G6(_a()),ur=new X6.ec("p256"),Sa=Y6(pr());function Z6(e,t,r=!0){let n=ur.sign(Array.from(e),M.Buffer.from(t),{canonical:r});return{signature:n.toBytes(),recovery:n.recoveryParam}}_e.sign=Z6;function W6(e,t,r,n){let i=Q1(t,r,e,!1);return i==null?!1:i.equals(n)}_e.verify=W6;function Q1(e,t,r,n){let i={r:Array.from(e.slice(0,32)),s:Array.from(e.slice(32,64))},a=new Sa.default(i.r),s=new Sa.default(i.s);if(a.cmp(ur.curve.n)>=0||s.cmp(ur.curve.n)>=0||a.isZero()||s.isZero())return null;let o;try{o=ur.recoverPubKey(Array.from(r),i,t,null)}catch{return null}return M.Buffer.from(o.encode(null,n))}_e.recover=Q1;function Tu(e){let t=M.Buffer.from(e),r=t[0];switch(r){case 2:case 3:return t.length!==33?null:ep(r,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:tp(r,t.subarray(1,33),t.subarray(33,65));default:return null}}_e.loadPublicKey=Tu;function J6(e){let t=new Sa.default(Array.from(e));return t.cmp(ur.curve.n)<0&&!t.isZero()}_e.privateKeyVerify=J6;function Q6(e){return Tu(e)!==null}_e.publicKeyVerify=Q6;function e5(e,t){let r=ur.keyFromPrivate(Array.from(e),"bytes").getPublic();return M.Buffer.from(r.encode(null,t))}_e.publicKeyCreate=e5;function t5(e,t){let r=Tu(e);if(r==null)return null;let n=ur.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return M.Buffer.from(n.encode(null,t))}_e.publicKeyConvert=t5;function ep(e,t){let r=new Sa.default(Array.from(t));if(r.cmp(ur.curve.p)>=0)return null;let n=r.toRed(ur.curve.red),i=n.redSqr().redIMul(n).redIAdd(ur.curve.b).redSqrt();return e===3!==i.isOdd()&&(i=i.redNeg()),{x:n,y:i}}_e.loadCompressedPublicKey=ep;function tp(e,t,r){let n=new Sa.default(Array.from(t)),i=new Sa.default(Array.from(r));if(n.cmp(ur.curve.p)>=0||i.cmp(ur.curve.p)>=0)return null;let a=n.toRed(ur.curve.red),s=i.toRed(ur.curve.red);if((e===6||e===7)&&s.isOdd()!==(e===7))return null;let o=a.redSqr().redIMul(a);return s.redSqr().redISub(o.redIAdd(ur.curve.b)).isZero()?{x:a,y:s}:null}_e.loadUncompressedPublicKey=tp});var In=O(te=>{g();_();Object.defineProperty(te,"__esModule",{value:!0});te.validateObject=te.createHmacDrbg=te.bitMask=te.bitSet=te.bitGet=te.bitLen=te.utf8ToBytes=te.equalBytes=te.concatBytes=te.ensureBytes=te.numberToVarBytesBE=te.numberToBytesLE=te.numberToBytesBE=te.bytesToNumberLE=te.bytesToNumberBE=te.hexToBytes=te.hexToNumber=te.numberToHexUnpadded=te.bytesToHex=void 0;var ip=BigInt(0),Zo=BigInt(1),r5=BigInt(2),Wo=e=>e instanceof Uint8Array,n5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Pu(e){if(!Wo(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n5[e[r]];return t}te.bytesToHex=Pu;function ap(e){let t=e.toString(16);return t.length&1?`0${t}`:t}te.numberToHexUnpadded=ap;function Iu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}te.hexToNumber=Iu;function Jo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("invalid byte sequence");t[r]=a}return t}te.hexToBytes=Jo;function i5(e){return Iu(Pu(e))}te.bytesToNumberBE=i5;function a5(e){if(!Wo(e))throw new Error("Uint8Array expected");return Iu(Pu(Uint8Array.from(e).reverse()))}te.bytesToNumberLE=a5;var s5=(e,t)=>Jo(e.toString(16).padStart(t*2,"0"));te.numberToBytesBE=s5;var o5=(e,t)=>(0,te.numberToBytesBE)(e,t).reverse();te.numberToBytesLE=o5;var c5=e=>Jo(ap(e));te.numberToVarBytesBE=c5;function f5(e,t,r){let n;if(typeof t=="string")try{n=Jo(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(Wo(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}te.ensureBytes=f5;function sp(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.length,0)),r=0;return e.forEach(n=>{if(!Wo(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}te.concatBytes=sp;function u5(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}te.equalBytes=u5;function d5(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}te.utf8ToBytes=d5;function l5(e){let t;for(t=0;e>ip;e>>=Zo,t+=1);return t}te.bitLen=l5;var h5=(e,t)=>e>>BigInt(t)&Zo;te.bitGet=h5;var b5=(e,t,r)=>e|(r?Zo:ip)<<BigInt(t);te.bitSet=b5;var p5=e=>(r5<<BigInt(e-1))-Zo;te.bitMask=p5;var Mu=e=>new Uint8Array(e),np=e=>Uint8Array.from(e);function y5(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Mu(e),i=Mu(e),a=0,s=()=>{n.fill(1),i.fill(0),a=0},o=(...h)=>r(i,n,...h),u=(h=Mu())=>{i=o(np([0]),h),n=o(),h.length!==0&&(i=o(np([1]),h),n=o())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0,v=[];for(;h<t;){n=o();let S=n.slice();v.push(S),h+=n.length}return sp(...v)};return(h,v)=>{s(),u(h);let S;for(;!(S=v(l()));)u();return s(),S}}te.createHmacDrbg=y5;var m5={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function g5(e,t,r={}){let n=(i,a,s)=>{let o=m5[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);let u=e[i];if(!(s&&u===void 0)&&!o(u,e))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${a}`)};for(let[i,a]of Object.entries(t))n(i,a,!1);for(let[i,a]of Object.entries(r))n(i,a,!0);return e}te.validateObject=g5});var Di=O(ie=>{g();_();Object.defineProperty(ie,"__esModule",{value:!0});ie.hashToPrivateScalar=ie.FpSqrtEven=ie.FpSqrtOdd=ie.Field=ie.nLength=ie.FpIsSquare=ie.FpDiv=ie.FpInvertBatch=ie.FpPow=ie.validateField=ie.isNegativeLE=ie.FpSqrt=ie.tonelliShanks=ie.invert=ie.pow2=ie.pow=ie.mod=void 0;var Bn=In(),Ot=BigInt(0),qe=BigInt(1),ri=BigInt(2),_5=BigInt(3),Bu=BigInt(4),op=BigInt(5),cp=BigInt(8),v5=BigInt(9),w5=BigInt(16);function Hr(e,t){let r=e%t;return r>=Ot?r:t+r}ie.mod=Hr;function fp(e,t,r){if(r<=Ot||t<Ot)throw new Error("Expected power/modulo > 0");if(r===qe)return Ot;let n=qe;for(;t>Ot;)t&qe&&(n=n*e%r),e=e*e%r,t>>=qe;return n}ie.pow=fp;function S5(e,t,r){let n=e;for(;t-- >Ot;)n*=n,n%=r;return n}ie.pow2=S5;function Qo(e,t){if(e===Ot||t<=Ot)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Hr(e,t),n=t,i=Ot,a=qe,s=qe,o=Ot;for(;r!==Ot;){let l=n/r,b=n%r,h=i-s*l,v=a-o*l;n=r,r=b,i=s,a=o,s=h,o=v}if(n!==qe)throw new Error("invert: does not exist");return Hr(i,t)}ie.invert=Qo;function up(e){let t=(e-qe)/ri,r,n,i;for(r=e-qe,n=0;r%ri===Ot;r/=ri,n++);for(i=ri;i<e&&fp(i,t,e)!==e-qe;i++);if(n===1){let s=(e+qe)/Bu;return function(u,l){let b=u.pow(l,s);if(!u.eql(u.sqr(b),l))throw new Error("Cannot find square root");return b}}let a=(r+qe)/ri;return function(o,u){if(o.pow(u,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,b=o.pow(o.mul(o.ONE,i),r),h=o.pow(u,a),v=o.pow(u,r);for(;!o.eql(v,o.ONE);){if(o.eql(v,o.ZERO))return o.ZERO;let S=1;for(let E=o.sqr(v);S<l&&!o.eql(E,o.ONE);S++)E=o.sqr(E);let T=o.pow(b,qe<<BigInt(l-S-1));b=o.sqr(T),h=o.mul(h,T),v=o.mul(v,b),l=S}return h}}ie.tonelliShanks=up;function dp(e){if(e%Bu===_5){let t=(e+qe)/Bu;return function(n,i){let a=n.pow(i,t);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(e%cp===op){let t=(e-op)/cp;return function(n,i){let a=n.mul(i,ri),s=n.pow(a,t),o=n.mul(i,s),u=n.mul(n.mul(o,ri),s),l=n.mul(o,n.sub(u,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return e%w5,up(e)}ie.FpSqrt=dp;var x5=(e,t)=>(Hr(e,t)&qe)===qe;ie.isNegativeLE=x5;var A5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function E5(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=A5.reduce((n,i)=>(n[i]="function",n),t);return(0,Bn.validateObject)(e,r)}ie.validateField=E5;function lp(e,t,r){if(r<Ot)throw new Error("Expected power > 0");if(r===Ot)return e.ONE;if(r===qe)return t;let n=e.ONE,i=t;for(;r>Ot;)r&qe&&(n=e.mul(n,i)),i=e.sqr(i),r>>=qe;return n}ie.FpPow=lp;function hp(e,t){let r=new Array(t.length),n=t.reduce((a,s,o)=>e.is0(s)?a:(r[o]=a,e.mul(a,s)),e.ONE),i=e.inv(n);return t.reduceRight((a,s,o)=>e.is0(s)?a:(r[o]=e.mul(a,r[o]),e.mul(a,s)),i),r}ie.FpInvertBatch=hp;function C5(e,t,r){return e.mul(t,typeof r=="bigint"?Qo(r,e.ORDER):e.inv(r))}ie.FpDiv=C5;function T5(e){let t=(e.ORDER-qe)/ri;return r=>{let n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}ie.FpIsSquare=T5;function Ou(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}ie.nLength=Ou;function M5(e,t,r=!1,n={}){if(e<=Ot)throw new Error(`Expected Fp ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:a}=Ou(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=dp(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:(0,Bn.bitMask)(i),ZERO:Ot,ONE:qe,create:u=>Hr(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Ot<=u&&u<e},is0:u=>u===Ot,isOdd:u=>(u&qe)===qe,neg:u=>Hr(-u,e),eql:(u,l)=>u===l,sqr:u=>Hr(u*u,e),add:(u,l)=>Hr(u+l,e),sub:(u,l)=>Hr(u-l,e),mul:(u,l)=>Hr(u*l,e),pow:(u,l)=>lp(o,u,l),div:(u,l)=>Hr(u*Qo(l,e),e),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>Qo(u,e),sqrt:n.sqrt||(u=>s(o,u)),invertBatch:u=>hp(o,u),cmov:(u,l,b)=>b?l:u,toBytes:u=>r?(0,Bn.numberToBytesLE)(u,a):(0,Bn.numberToBytesBE)(u,a),fromBytes:u=>{if(u.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${u.length}`);return r?(0,Bn.bytesToNumberLE)(u):(0,Bn.bytesToNumberBE)(u)}});return Object.freeze(o)}ie.Field=M5;function P5(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}ie.FpSqrtOdd=P5;function I5(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}ie.FpSqrtEven=I5;function B5(e,t,r=!1){e=(0,Bn.ensureBytes)("privateHash",e);let n=e.length,i=Ou(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let a=r?(0,Bn.bytesToNumberLE)(e):(0,Bn.bytesToNumberBE)(e);return Hr(a,t-qe)+qe}ie.hashToPrivateScalar=B5});var pp=O(xa=>{g();_();Object.defineProperty(xa,"__esModule",{value:!0});xa.validateBasic=xa.wNAF=void 0;var bp=Di(),O5=In(),N5=BigInt(0),Nu=BigInt(1);function q5(e,t){let r=(i,a)=>{let s=a.negate();return i?s:a},n=i=>{let a=Math.ceil(t/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,a){let s=e.ZERO,o=i;for(;a>N5;)a&Nu&&(s=s.add(o)),o=o.double(),a>>=Nu;return s},precomputeWindow(i,a){let{windows:s,windowSize:o}=n(a),u=[],l=i,b=l;for(let h=0;h<s;h++){b=l,u.push(b);for(let v=1;v<o;v++)b=b.add(l),u.push(b);l=b.double()}return u},wNAF(i,a,s){let{windows:o,windowSize:u}=n(i),l=e.ZERO,b=e.BASE,h=BigInt(2**i-1),v=2**i,S=BigInt(i);for(let T=0;T<o;T++){let E=T*u,I=Number(s&h);s>>=S,I>u&&(I-=v,s+=Nu);let B=E,D=E+Math.abs(I)-1,q=T%2!==0,k=I<0;I===0?b=b.add(r(q,a[B])):l=l.add(r(k,a[D]))}return{p:l,f:b}},wNAFCached(i,a,s,o){let u=i._WINDOW_SIZE||1,l=a.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&a.set(i,o(l))),this.wNAF(u,l,s)}}}xa.wNAF=q5;function D5(e){return(0,bp.validateField)(e.Fp),(0,O5.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,bp.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}xa.validateBasic=D5});var tc=O(De=>{g();_();var k5=De&&De.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),H5=De&&De.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mp=De&&De.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k5(t,e,r);return H5(t,e),t};Object.defineProperty(De,"__esModule",{value:!0});De.mapToCurveSimpleSWU=De.SWUFpSqrtRatio=De.weierstrass=De.weierstrassPoints=De.DER=void 0;var _s=mp(Di()),At=mp(In()),on=In(),qu=pp();function L5(e){let t=(0,qu.validateBasic)(e);At.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:R5,hexToBytes:j5}=At;De.DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=De.DER;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:R5(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=De.DER,r=typeof e=="string"?j5(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:a}=De.DER._parseInt(r.subarray(2)),{d:s,l:o}=De.DER._parseInt(a);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){let t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let b=l.toString(16);return b.length&1?`0${b}`:b},n=t(r(e.s)),i=t(r(e.r)),a=n.length/2,s=i.length/2,o=r(a),u=r(s);return`30${r(s+a+4)}02${u}${i}02${o}${n}`}};var Xr=BigInt(0),Ve=BigInt(1),ni=BigInt(2),ec=BigInt(3),yp=BigInt(4);function gp(e){let t=L5(e),{Fp:r}=t,n=t.toBytes||((T,E,I)=>{let B=E.toAffine();return At.concatBytes(Uint8Array.from([4]),r.toBytes(B.x),r.toBytes(B.y))}),i=t.fromBytes||(T=>{let E=T.subarray(1),I=r.fromBytes(E.subarray(0,r.BYTES)),B=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x:I,y:B}});function a(T){let{a:E,b:I}=t,B=r.sqr(T),D=r.mul(B,T);return r.add(r.add(D,r.mul(T,E)),I)}if(!r.eql(r.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function s(T){return typeof T=="bigint"&&Xr<T&&T<t.n}function o(T){if(!s(T))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(T){let{allowedPrivateKeyLengths:E,nByteLength:I,wrapPrivateKey:B,n:D}=t;if(E&&typeof T!="bigint"){if(T instanceof Uint8Array&&(T=At.bytesToHex(T)),typeof T!="string"||!E.includes(T.length))throw new Error("Invalid key");T=T.padStart(I*2,"0")}let q;try{q=typeof T=="bigint"?T:At.bytesToNumberBE((0,on.ensureBytes)("private key",T,I))}catch{throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof T}`)}return B&&(q=_s.mod(q,D)),o(q),q}let l=new Map;function b(T){if(!(T instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(E,I,B){if(this.px=E,this.py=I,this.pz=B,E==null||!r.isValid(E))throw new Error("x required");if(I==null||!r.isValid(I))throw new Error("y required");if(B==null||!r.isValid(B))throw new Error("z required")}static fromAffine(E){let{x:I,y:B}=E||{};if(!E||!r.isValid(I)||!r.isValid(B))throw new Error("invalid affine point");if(E instanceof h)throw new Error("projective point not allowed");let D=q=>r.eql(q,r.ZERO);return D(I)&&D(B)?h.ZERO:new h(I,B,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){let I=r.invertBatch(E.map(B=>B.pz));return E.map((B,D)=>B.toAffine(I[D])).map(h.fromAffine)}static fromHex(E){let I=h.fromAffine(i((0,on.ensureBytes)("pointHex",E)));return I.assertValidity(),I}static fromPrivateKey(E){return h.BASE.multiply(u(E))}_setWindowSize(E){this._WINDOW_SIZE=E,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:E,y:I}=this.toAffine();if(!r.isValid(E)||!r.isValid(I))throw new Error("bad point: x or y not FE");let B=r.sqr(I),D=a(E);if(!r.eql(B,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:E}=this.toAffine();if(r.isOdd)return!r.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){b(E);let{px:I,py:B,pz:D}=this,{px:q,py:k,pz:H}=E,j=r.eql(r.mul(I,H),r.mul(q,D)),V=r.eql(r.mul(B,H),r.mul(k,D));return j&&V}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:E,b:I}=t,B=r.mul(I,ec),{px:D,py:q,pz:k}=this,H=r.ZERO,j=r.ZERO,V=r.ZERO,R=r.mul(D,D),Z=r.mul(q,q),C=r.mul(k,k),c=r.mul(D,q);return c=r.add(c,c),V=r.mul(D,k),V=r.add(V,V),H=r.mul(E,V),j=r.mul(B,C),j=r.add(H,j),H=r.sub(Z,j),j=r.add(Z,j),j=r.mul(H,j),H=r.mul(c,H),V=r.mul(B,V),C=r.mul(E,C),c=r.sub(R,C),c=r.mul(E,c),c=r.add(c,V),V=r.add(R,R),R=r.add(V,R),R=r.add(R,C),R=r.mul(R,c),j=r.add(j,R),C=r.mul(q,k),C=r.add(C,C),R=r.mul(C,c),H=r.sub(H,R),V=r.mul(C,Z),V=r.add(V,V),V=r.add(V,V),new h(H,j,V)}add(E){b(E);let{px:I,py:B,pz:D}=this,{px:q,py:k,pz:H}=E,j=r.ZERO,V=r.ZERO,R=r.ZERO,Z=t.a,C=r.mul(t.b,ec),c=r.mul(I,q),d=r.mul(B,k),p=r.mul(D,H),m=r.add(I,B),y=r.add(q,k);m=r.mul(m,y),y=r.add(c,d),m=r.sub(m,y),y=r.add(I,D);let A=r.add(q,H);return y=r.mul(y,A),A=r.add(c,p),y=r.sub(y,A),A=r.add(B,D),j=r.add(k,H),A=r.mul(A,j),j=r.add(d,p),A=r.sub(A,j),R=r.mul(Z,y),j=r.mul(C,p),R=r.add(j,R),j=r.sub(d,R),R=r.add(d,R),V=r.mul(j,R),d=r.add(c,c),d=r.add(d,c),p=r.mul(Z,p),y=r.mul(C,y),d=r.add(d,p),p=r.sub(c,p),p=r.mul(Z,p),y=r.add(y,p),c=r.mul(d,y),V=r.add(V,c),c=r.mul(A,y),j=r.mul(m,j),j=r.sub(j,c),c=r.mul(m,d),R=r.mul(A,R),R=r.add(R,c),new h(j,V,R)}subtract(E){return this.add(E.negate())}is0(){return this.equals(h.ZERO)}wNAF(E){return S.wNAFCached(this,l,E,I=>{let B=r.invertBatch(I.map(D=>D.pz));return I.map((D,q)=>D.toAffine(B[q])).map(h.fromAffine)})}multiplyUnsafe(E){let I=h.ZERO;if(E===Xr)return I;if(o(E),E===Ve)return this;let{endo:B}=t;if(!B)return S.unsafeLadder(this,E);let{k1neg:D,k1:q,k2neg:k,k2:H}=B.splitScalar(E),j=I,V=I,R=this;for(;q>Xr||H>Xr;)q&Ve&&(j=j.add(R)),H&Ve&&(V=V.add(R)),R=R.double(),q>>=Ve,H>>=Ve;return D&&(j=j.negate()),k&&(V=V.negate()),V=new h(r.mul(V.px,B.beta),V.py,V.pz),j.add(V)}multiply(E){o(E);let I=E,B,D,{endo:q}=t;if(q){let{k1neg:k,k1:H,k2neg:j,k2:V}=q.splitScalar(I),{p:R,f:Z}=this.wNAF(H),{p:C,f:c}=this.wNAF(V);R=S.constTimeNegate(k,R),C=S.constTimeNegate(j,C),C=new h(r.mul(C.px,q.beta),C.py,C.pz),B=R.add(C),D=Z.add(c)}else{let{p:k,f:H}=this.wNAF(I);B=k,D=H}return h.normalizeZ([B,D])[0]}multiplyAndAddUnsafe(E,I,B){let D=h.BASE,q=(H,j)=>j===Xr||j===Ve||!H.equals(D)?H.multiplyUnsafe(j):H.multiply(j),k=q(this,I).add(q(E,B));return k.is0()?void 0:k}toAffine(E){let{px:I,py:B,pz:D}=this,q=this.is0();E==null&&(E=q?r.ONE:r.inv(D));let k=r.mul(I,E),H=r.mul(B,E),j=r.mul(D,E);if(q)return{x:r.ZERO,y:r.ZERO};if(!r.eql(j,r.ONE))throw new Error("invZ was invalid");return{x:k,y:H}}isTorsionFree(){let{h:E,isTorsionFree:I}=t;if(E===Ve)return!0;if(I)return I(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:E,clearCofactor:I}=t;return E===Ve?this:I?I(h,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return this.assertValidity(),n(h,this,E)}toHex(E=!0){return At.bytesToHex(this.toRawBytes(E))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let v=t.nBitLength,S=(0,qu.wNAF)(h,t.endo?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:s}}De.weierstrassPoints=gp;function U5(e){let t=(0,qu.validateBasic)(e);return At.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function V5(e){let t=U5(e),{Fp:r,n}=t,i=r.BYTES+1,a=2*r.BYTES+1;function s(y){return Xr<y&&y<r.ORDER}function o(y){return _s.mod(y,n)}function u(y){return _s.invert(y,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:b,weierstrassEquation:h,isWithinCurveOrder:v}=gp({...t,toBytes(y,A,P){let w=A.toAffine(),f=r.toBytes(w.x),x=At.concatBytes;return P?x(Uint8Array.from([A.hasEvenY()?2:3]),f):x(Uint8Array.from([4]),f,r.toBytes(w.y))},fromBytes(y){let A=y.length,P=y[0],w=y.subarray(1);if(A===i&&(P===2||P===3)){let f=At.bytesToNumberBE(w);if(!s(f))throw new Error("Point is not on curve");let x=h(f),U=r.sqrt(x),F=(U&Ve)===Ve;return(P&1)===1!==F&&(U=r.neg(U)),{x:f,y:U}}else if(A===a&&P===4){let f=r.fromBytes(w.subarray(0,r.BYTES)),x=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:f,y:x}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),S=y=>At.bytesToHex(At.numberToBytesBE(y,t.nByteLength));function T(y){let A=n>>Ve;return y>A}function E(y){return T(y)?o(-y):y}let I=(y,A,P)=>At.bytesToNumberBE(y.slice(A,P));class B{constructor(A,P,w){this.r=A,this.s=P,this.recovery=w,this.assertValidity()}static fromCompact(A){let P=t.nByteLength;return A=(0,on.ensureBytes)("compactSignature",A,P*2),new B(I(A,0,P),I(A,P,2*P))}static fromDER(A){let{r:P,s:w}=De.DER.toSig((0,on.ensureBytes)("DER",A));return new B(P,w)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new B(this.r,this.s,A)}recoverPublicKey(A){let{r:P,s:w,recovery:f}=this,x=V((0,on.ensureBytes)("msgHash",A));if(f==null||![0,1,2,3].includes(f))throw new Error("recovery id invalid");let U=f===2||f===3?P+t.n:P;if(U>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let F=(f&1)===0?"02":"03",z=l.fromHex(F+S(U)),X=u(U),ne=o(-x*X),fe=o(w*X),Ft=l.BASE.multiplyAndAddUnsafe(z,ne,fe);if(!Ft)throw new Error("point at infinify");return Ft.assertValidity(),Ft}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new B(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return At.hexToBytes(this.toDERHex())}toDERHex(){return De.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return At.hexToBytes(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}let D={isValidPrivateKey(y){try{return b(y),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{let y=t.randomBytes(r.BYTES+8),A=_s.hashToPrivateScalar(y,n);return At.numberToBytesBE(A,t.nByteLength)},precompute(y=8,A=l.BASE){return A._setWindowSize(y),A.multiply(BigInt(3)),A}};function q(y,A=!0){return l.fromPrivateKey(y).toRawBytes(A)}function k(y){let A=y instanceof Uint8Array,P=typeof y=="string",w=(A||P)&&y.length;return A?w===i||w===a:P?w===2*i||w===2*a:y instanceof l}function H(y,A,P=!0){if(k(y))throw new Error("first arg must be private key");if(!k(A))throw new Error("second arg must be public key");return l.fromHex(A).multiply(b(y)).toRawBytes(P)}let j=t.bits2int||function(y){let A=At.bytesToNumberBE(y),P=y.length*8-t.nBitLength;return P>0?A>>BigInt(P):A},V=t.bits2int_modN||function(y){return o(j(y))},R=At.bitMask(t.nBitLength);function Z(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(Xr<=y&&y<R))throw new Error(`bigint expected < 2^${t.nBitLength}`);return At.numberToBytesBE(y,t.nByteLength)}function C(y,A,P=c){if(["recovered","canonical"].some(ue=>ue in P))throw new Error("sign() legacy options not supported");let{hash:w,randomBytes:f}=t,{lowS:x,prehash:U,extraEntropy:F}=P;x==null&&(x=!0),y=(0,on.ensureBytes)("msgHash",y),U&&(y=(0,on.ensureBytes)("prehashed msgHash",w(y)));let z=V(y),X=b(A),ne=[Z(X),Z(z)];if(F!=null){let ue=F===!0?f(r.BYTES):F;ne.push((0,on.ensureBytes)("extraEntropy",ue,r.BYTES))}let fe=At.concatBytes(...ne),Ft=z;function ye(ue){let mn=j(ue);if(!v(mn))return;let ke=u(mn),le=l.BASE.multiply(mn).toAffine(),gn=o(le.x);if(gn===Xr)return;let Ie=o(ke*o(Ft+gn*X));if(Ie===Xr)return;let He=(le.x===gn?0:2)|Number(le.y&Ve),Ka=Ie;return x&&T(Ie)&&(Ka=E(Ie),He^=1),new B(gn,Ka,He)}return{seed:fe,k2sig:ye}}let c={lowS:t.lowS,prehash:!1},d={lowS:t.lowS,prehash:!1};function p(y,A,P=c){let{seed:w,k2sig:f}=C(y,A,P),x=t;return At.createHmacDrbg(x.hash.outputLen,x.nByteLength,x.hmac)(w,f)}l.BASE._setWindowSize(8);function m(y,A,P,w=d){let f=y;if(A=(0,on.ensureBytes)("msgHash",A),P=(0,on.ensureBytes)("publicKey",P),"strict"in w)throw new Error("options.strict was renamed to lowS");let{lowS:x,prehash:U}=w,F,z;try{if(typeof f=="string"||f instanceof Uint8Array)try{F=B.fromDER(f)}catch(le){if(!(le instanceof De.DER.Err))throw le;F=B.fromCompact(f)}else if(typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint"){let{r:le,s:gn}=f;F=new B(le,gn)}else throw new Error("PARSE");z=l.fromHex(P)}catch(le){if(le.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(x&&F.hasHighS())return!1;U&&(A=t.hash(A));let{r:X,s:ne}=F,fe=V(A),Ft=u(ne),ye=o(fe*Ft),ue=o(X*Ft),mn=l.BASE.multiplyAndAddUnsafe(z,ye,ue)?.toAffine();return mn?o(mn.x)===X:!1}return{CURVE:t,getPublicKey:q,getSharedSecret:H,sign:p,verify:m,ProjectivePoint:l,Signature:B,utils:D}}De.weierstrass=V5;function _p(e,t){let r=e.ORDER,n=Xr;for(let T=r-Ve;T%ni===Xr;T/=ni)n+=Ve;let i=n,a=ni<<i-Ve-Ve,s=a*ni,o=(r-Ve)/s,u=(o-Ve)/ni,l=s-Ve,b=a,h=e.pow(t,o),v=e.pow(t,(o+Ve)/ni),S=(T,E)=>{let I=h,B=e.pow(E,l),D=e.sqr(B);D=e.mul(D,E);let q=e.mul(T,D);q=e.pow(q,u),q=e.mul(q,B),B=e.mul(q,E),D=e.mul(q,T);let k=e.mul(D,B);q=e.pow(k,b);let H=e.eql(q,e.ONE);B=e.mul(D,v),q=e.mul(k,I),D=e.cmov(B,D,H),k=e.cmov(q,k,H);for(let j=i;j>Ve;j--){let V=j-ni;V=ni<<V-Ve;let R=e.pow(k,V),Z=e.eql(R,e.ONE);B=e.mul(D,I),I=e.mul(I,I),R=e.mul(k,I),D=e.cmov(B,D,Z),k=e.cmov(R,k,Z)}return{isValid:H,value:D}};if(e.ORDER%yp===ec){let T=(e.ORDER-ec)/yp,E=e.sqrt(e.neg(t));S=(I,B)=>{let D=e.sqr(B),q=e.mul(I,B);D=e.mul(D,q);let k=e.pow(D,T);k=e.mul(k,q);let H=e.mul(k,E),j=e.mul(e.sqr(k),B),V=e.eql(j,I),R=e.cmov(H,k,V);return{isValid:V,value:R}}}return S}De.SWUFpSqrtRatio=_p;function F5(e,t){if(_s.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=_p(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,a,s,o,u,l,b,h;i=e.sqr(n),i=e.mul(i,t.Z),a=e.sqr(i),a=e.add(a,i),s=e.add(a,e.ONE),s=e.mul(s,t.B),o=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),o=e.mul(o,t.A),a=e.sqr(s),l=e.sqr(o),u=e.mul(l,t.A),a=e.add(a,u),a=e.mul(a,s),l=e.mul(l,o),u=e.mul(l,t.B),a=e.add(a,u),b=e.mul(i,s);let{isValid:v,value:S}=r(a,l);h=e.mul(i,n),h=e.mul(h,S),b=e.cmov(b,s,v),h=e.cmov(h,S,v);let T=e.isOdd(n)===e.isOdd(h);return h=e.cmov(e.neg(h),h,T),b=e.div(b,o),{x:b,y:h}}}De.mapToCurveSimpleSWU=F5});var Ap=O(Fe=>{g();_();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.createHasher=Fe.isogenyMap=Fe.hash_to_field=Fe.expand_message_xof=Fe.expand_message_xmd=Fe.isNum=Fe.isBytes=Fe.strxor=Fe.i2osp=Fe.validateDST=void 0;var K5=Di(),Zr=In();function vp(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return(0,Zr.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}Fe.validateDST=vp;var $5=Zr.bytesToNumberBE;function On(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}Fe.i2osp=On;function wp(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}Fe.strxor=wp;function Aa(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}Fe.isBytes=Aa;function rc(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}Fe.isNum=rc;function Sp(e,t,r,n){Aa(e),Aa(t),rc(r),t.length>255&&(t=n((0,Zr.concatBytes)((0,Zr.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:a}=n,s=Math.ceil(r/i);if(s>255)throw new Error("Invalid xmd length");let o=(0,Zr.concatBytes)(t,On(t.length,1)),u=On(0,a),l=On(r,2),b=new Array(s),h=n((0,Zr.concatBytes)(u,e,l,On(0,1),o));b[0]=n((0,Zr.concatBytes)(h,On(1,1),o));for(let S=1;S<=s;S++){let T=[wp(h,b[S-1]),On(S+1,1),o];b[S]=n((0,Zr.concatBytes)(...T))}return(0,Zr.concatBytes)(...b).slice(0,r)}Fe.expand_message_xmd=Sp;function xp(e,t,r,n,i){if(Aa(e),Aa(t),rc(r),t.length>255){let a=Math.ceil(2*n/8);t=i.create({dkLen:a}).update((0,Zr.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(On(r,2)).update(t).update(On(t.length,1)).digest()}Fe.expand_message_xof=xp;function Du(e,t,r){(0,Zr.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:a,hash:s,expand:o,DST:u}=r;Aa(e),rc(t);let l=vp(u),b=n.toString(2).length,h=Math.ceil((b+i)/8),v=t*a*h,S;if(o==="xmd")S=Sp(e,l,v,s);else if(o==="xof")S=xp(e,l,v,i,s);else if(o==="_internal_pass")S=e;else throw new Error('expand must be "xmd" or "xof"');let T=new Array(t);for(let E=0;E<t;E++){let I=new Array(a);for(let B=0;B<a;B++){let D=h*(B+E*a),q=S.subarray(D,D+h);I[B]=(0,K5.mod)($5(q),n)}T[E]=I}return T}Fe.hash_to_field=Du;function z5(e,t){let r=t.map(n=>Array.from(n).reverse());return(n,i)=>{let[a,s,o,u]=r.map(l=>l.reduce((b,h)=>e.add(e.mul(b,n),h)));return n=e.div(a,s),i=e.mul(i,e.div(o,u)),{x:n,y:i}}}Fe.isogenyMap=z5;function G5(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let a=Du(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(a[0])),o=e.fromAffine(t(a[1])),u=s.add(o).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let a=Du(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(a[0])).clearCofactor();return s.assertValidity(),s}}}Fe.createHasher=G5});var ku=O(Ea=>{g();_();Object.defineProperty(Ea,"__esModule",{value:!0});Ea.createCurve=Ea.getHash=void 0;var Y5=fs(),Ep=zt(),X5=tc();function Cp(e){return{hash:e,hmac:(t,...r)=>(0,Y5.hmac)(e,t,(0,Ep.concatBytes)(...r)),randomBytes:Ep.randomBytes}}Ea.getHash=Cp;function Z5(e,t){let r=n=>(0,X5.weierstrass)({...e,...Cp(n)});return Object.freeze({...r(t),create:r})}Ea.createCurve=Z5});var kp=O(Et=>{g();_();var W5=Et&&Et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),J5=Et&&Et.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Q5=Et&&Et.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&W5(t,e,r);return J5(t,e),t},Hu;Object.defineProperty(Et,"__esModule",{value:!0});Et.encodeToCurve=Et.hashToCurve=Et.schnorr=Et.secp256k1=void 0;var nc=ea(),e4=zt(),Ut=Di(),t4=tc(),ir=In(),Pp=Q5(Ap()),r4=ku(),oc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ic=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ip=BigInt(1),ac=BigInt(2),Tp=(e,t)=>(e+t/ac)/t;function Bp(e){let t=oc,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),u=BigInt(88),l=e*e*e%t,b=l*l*e%t,h=(0,Ut.pow2)(b,r,t)*b%t,v=(0,Ut.pow2)(h,r,t)*b%t,S=(0,Ut.pow2)(v,ac,t)*l%t,T=(0,Ut.pow2)(S,i,t)*S%t,E=(0,Ut.pow2)(T,a,t)*T%t,I=(0,Ut.pow2)(E,o,t)*E%t,B=(0,Ut.pow2)(I,u,t)*I%t,D=(0,Ut.pow2)(B,o,t)*E%t,q=(0,Ut.pow2)(D,r,t)*b%t,k=(0,Ut.pow2)(q,s,t)*T%t,H=(0,Ut.pow2)(k,n,t)*l%t,j=(0,Ut.pow2)(H,ac,t);if(!ii.eql(ii.sqr(j),e))throw new Error("Cannot find square root");return j}var ii=(0,Ut.Field)(oc,void 0,void 0,{sqrt:Bp});Et.secp256k1=(0,r4.createCurve)({a:BigInt(0),b:BigInt(7),Fp:ii,n:ic,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=ic,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ip*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=Tp(a*e,t),u=Tp(-n*e,t),l=(0,Ut.mod)(e-o*r-u*i,t),b=(0,Ut.mod)(-o*n-u*a,t),h=l>s,v=b>s;if(h&&(l=t-l),v&&(b=t-b),l>s||b>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:v,k2:b}}}},nc.sha256);var cc=BigInt(0),Op=e=>typeof e=="bigint"&&cc<e&&e<oc,n4=e=>typeof e=="bigint"&&cc<e&&e<ic,Mp={};function sc(e,...t){let r=Mp[e];if(r===void 0){let n=(0,nc.sha256)(Uint8Array.from(e,i=>i.charCodeAt(0)));r=(0,ir.concatBytes)(n,n),Mp[e]=r}return(0,nc.sha256)((0,ir.concatBytes)(r,...t))}var Uu=e=>e.toRawBytes(!0).slice(1),Ru=e=>(0,ir.numberToBytesBE)(e,32),Lu=e=>(0,Ut.mod)(e,oc),vs=e=>(0,Ut.mod)(e,ic),Vu=Et.secp256k1.ProjectivePoint,i4=(e,t,r)=>Vu.BASE.multiplyAndAddUnsafe(e,t,r);function ju(e){let t=Et.secp256k1.utils.normPrivateKeyToScalar(e),r=Vu.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:vs(-t),bytes:Uu(r)}}function Np(e){if(!Op(e))throw new Error("bad x: need 0 < x < p");let t=Lu(e*e),r=Lu(t*e+BigInt(7)),n=Bp(r);n%ac!==cc&&(n=Lu(-n));let i=new Vu(e,n,Ip);return i.assertValidity(),i}function qp(...e){return vs((0,ir.bytesToNumberBE)(sc("BIP0340/challenge",...e)))}function a4(e){return ju(e).bytes}function s4(e,t,r=(0,e4.randomBytes)(32)){let n=(0,ir.ensureBytes)("message",e),{bytes:i,scalar:a}=ju(t),s=(0,ir.ensureBytes)("auxRand",r,32),o=Ru(a^(0,ir.bytesToNumberBE)(sc("BIP0340/aux",s))),u=sc("BIP0340/nonce",o,i,n),l=vs((0,ir.bytesToNumberBE)(u));if(l===cc)throw new Error("sign failed: k is zero");let{bytes:b,scalar:h}=ju(l),v=qp(b,i,n),S=new Uint8Array(64);if(S.set(b,0),S.set(Ru(vs(h+v*a)),32),!Dp(S,n,i))throw new Error("sign: Invalid signature produced");return S}function Dp(e,t,r){let n=(0,ir.ensureBytes)("signature",e,64),i=(0,ir.ensureBytes)("message",t),a=(0,ir.ensureBytes)("publicKey",r,32);try{let s=Np((0,ir.bytesToNumberBE)(a)),o=(0,ir.bytesToNumberBE)(n.subarray(0,32));if(!Op(o))return!1;let u=(0,ir.bytesToNumberBE)(n.subarray(32,64));if(!n4(u))return!1;let l=qp(Ru(o),Uu(s),i),b=i4(s,u,vs(-l));return!(!b||!b.hasEvenY()||b.toAffine().x!==o)}catch{return!1}}Et.schnorr={getPublicKey:a4,sign:s4,verify:Dp,utils:{randomPrivateKey:Et.secp256k1.utils.randomPrivateKey,lift_x:Np,pointToBytes:Uu,numberToBytesBE:ir.numberToBytesBE,bytesToNumberBE:ir.bytesToNumberBE,taggedHash:sc,mod:Ut.mod}};var o4=Pp.isogenyMap(ii,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),c4=(0,t4.mapToCurveSimpleSWU)(ii,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ii.create(BigInt("-11"))});Hu=Pp.createHasher(Et.secp256k1.ProjectivePoint,e=>{let{x:t,y:r}=c4(ii.create(e[0]));return o4(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ii.ORDER,m:1,k:128,expand:"xmd",hash:nc.sha256}),Et.hashToCurve=Hu.hashToCurve,Et.encodeToCurve=Hu.encodeToCurve});var Rp=O(ai=>{g();_();Object.defineProperty(ai,"__esModule",{value:!0});ai.poseidon=ai.splitConstants=ai.validateOpts=void 0;var Hp=Di();function Lp(e){let{Fp:t}=e;(0,Hp.validateField)(t);for(let u of["t","roundsFull","roundsPartial"])if(typeof e[u]!="number"||!Number.isSafeInteger(e[u]))throw new Error(`Poseidon: invalid param ${u}=${e[u]} (${typeof e[u]})`);if(e.reversePartialPowIdx!==void 0&&typeof e.reversePartialPowIdx!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${e.reversePartialPowIdx}`);let r=e.sboxPower;if(r===void 0&&(r=5),typeof r!="number"||!Number.isSafeInteger(r))throw new Error(`Poseidon wrong sboxPower=${r}`);let n=BigInt(r),i=u=>(0,Hp.FpPow)(t,u,n);if(r===3?i=u=>t.mul(t.sqrN(u),u):r===5&&(i=u=>t.mul(t.sqrN(t.sqrN(u)),u)),e.roundsFull%2!==0)throw new Error(`Poseidon roundsFull is not even: ${e.roundsFull}`);let a=e.roundsFull+e.roundsPartial;if(!Array.isArray(e.roundConstants)||e.roundConstants.length!==a)throw new Error("Poseidon: wrong round constants");let s=e.roundConstants.map(u=>{if(!Array.isArray(u)||u.length!==e.t)throw new Error(`Poseidon wrong round constants: ${u}`);return u.map(l=>{if(typeof l!="bigint"||!t.isValid(l))throw new Error(`Poseidon wrong round constant=${l}`);return t.create(l)})});if(!Array.isArray(e.mds)||e.mds.length!==e.t)throw new Error("Poseidon: wrong MDS matrix");let o=e.mds.map(u=>{if(!Array.isArray(u)||u.length!==e.t)throw new Error(`Poseidon MDS matrix row: ${u}`);return u.map(l=>{if(typeof l!="bigint")throw new Error(`Poseidon MDS matrix value=${l}`);return t.create(l)})});return Object.freeze({...e,rounds:a,sboxFn:i,roundConstants:s,mds:o})}ai.validateOpts=Lp;function f4(e,t){if(typeof t!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(e)||e.length%t)throw new Error("poseidonSplitConstants: wrong rc");let r=[],n=[];for(let i=0;i<e.length;i++)n.push(e[i]),n.length===t&&(r.push(n),n=[]);return r}ai.splitConstants=f4;function u4(e){let{t,Fp:r,rounds:n,sboxFn:i,reversePartialPowIdx:a}=Lp(e),s=Math.floor(e.roundsFull/2),o=a?t-1:0,u=(b,h,v)=>(b=b.map((S,T)=>r.add(S,e.roundConstants[v][T])),h?b=b.map(S=>i(S)):b[o]=i(b[o]),b=e.mds.map(S=>S.reduce((T,E,I)=>r.add(T,r.mulN(E,b[I])),r.ZERO)),b),l=function(h){if(!Array.isArray(h)||h.length!==t)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${t})`);h=h.map(S=>{if(typeof S!="bigint")throw new Error(`Poseidon: wrong value=${S} (${typeof S})`);return r.create(S)});let v=0;for(let S=0;S<s;S++)h=u(h,!0,v++);for(let S=0;S<e.roundsPartial;S++)h=u(h,!1,v++);for(let S=0;S<s;S++)h=u(h,!0,v++);if(v!==n)throw new Error(`Poseidon: wrong number of rounds: last round=${v}, total=${n}`);return h};return l.roundConstants=e.roundConstants,l}ai.poseidon=u4});var Jp=O($=>{g();_();var d4=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),l4=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h4=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&d4(t,e,r);return l4(t,e),t};Object.defineProperty($,"__esModule",{value:!0});$.poseidonHashMany=$.poseidonHashSingle=$.poseidonHashFunc=$.poseidonHash=$.poseidonSmall=$.poseidonCreate=$.poseidonBasic=$._poseidonMDS=$.Fp251=$.Fp253=$.keccak=$.computeHashOnElements=$.hashChain=$.pedersen=$.getAccountPath=$.ethSigToPrivate=$.getStarkKey=$.grindKey=$.utils=$.Signature=$.ProjectivePoint=$.CURVE=$.verify=$.sign=$.getSharedSecret=$.getPublicKey=$._starkCurve=void 0;var b4=wo(),$u=ea(),p4=zt(),Hi=Di(),y4=Rp(),m4=tc(),ar=h4(In()),g4=ku(),uc=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),Vp=252;function jp(e){for(;e[0]===0;)e=e.subarray(1);let t=e.length*8-Vp,r=ar.bytesToNumberBE(e);return t>0?r>>BigInt(t):r}function Fp(e){return typeof e=="string"&&(e=Gu(e),e.length&1&&(e="0"+e)),ar.hexToBytes(e)}var Li=(0,m4.weierstrass)({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:(0,Hi.Field)(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:uc,nBitLength:Vp,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...(0,g4.getHash)($u.sha256),bits2int:jp,bits2int_modN:e=>{let t=ar.bytesToNumberBE(e).toString(16);return t.length===63&&(e=Fp(t+"0")),(0,Hi.mod)(jp(e),uc)}});$._starkCurve=Li;function ki(e){return ar.ensureBytes("",typeof e=="string"?Fp(e):e)}function zu(e){return ar.bytesToHex(ki(e)).padStart(64,"0")}function Kp(e,t=!1){return Li.getPublicKey(zu(e),t)}$.getPublicKey=Kp;function _4(e,t){return Li.getSharedSecret(zu(e),t)}$.getSharedSecret=_4;function v4(e,t,r){return Li.sign(ki(e),zu(t),r)}$.sign=v4;function w4(e,t,r){let n=e instanceof $p?e:ki(e);return Li.verify(n,ki(t),ki(r))}$.verify=w4;var{CURVE:S4,ProjectivePoint:Ca,Signature:$p,utils:x4}=Li;$.CURVE=S4;$.ProjectivePoint=Ca;$.Signature=$p;$.utils=x4;function zp(e){return`0x${ar.bytesToHex(e.subarray(1)).replace(/^0+/gm,"")}`}function Gu(e){return e.replace(/^0x/i,"")}function A4(e){return`0x${e.toString(16)}`}function Gp(e){let t=ki(e),r=2n**256n,n=r-(0,Hi.mod)(r,uc);for(let i=0;;i++){let a=Fu(ar.concatBytes(t,ar.numberToVarBytesBE(BigInt(i))));if(a<n)return(0,Hi.mod)(a,uc).toString(16);if(i===1e5)throw new Error("grindKey is broken: tried 100k vals")}}$.grindKey=Gp;function E4(e){return zp(Kp(e,!0))}$.getStarkKey=E4;function C4(e){if(e=Gu(e),e.length!==130)throw new Error("Wrong ethereum signature");return Gp(e.substring(0,64))}$.ethSigToPrivate=C4;var T4=2n**31n-1n,fc=e=>Number(e&T4);function M4(e,t,r,n){let i=fc(Fu(e)),a=fc(Fu(t)),s=ar.hexToNumber(Gu(r));return`m/2645'/${i}'/${a}'/${fc(s)}'/${fc(s>>31n)}'/${n}`}$.getAccountPath=M4;var ws=[new Ca(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new Ca(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new Ca(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new Ca(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new Ca(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function Yp(e,t){let r=[],n=e;for(let i=0;i<248;i++)r.push(n),n=n.double();n=t;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}var P4=Yp(ws[1],ws[2]),I4=Yp(ws[3],ws[4]);function Xp(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"){if(!Number.isSafeInteger(e))throw new Error(`Invalid pedersenArg: ${e}`);t=BigInt(e)}else t=ar.bytesToNumberBE(ki(e));if(!(0n<=t&&t<Li.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${t}`);return t}function Up(e,t,r){let n=Xp(t);for(let i=0;i<252;i++){let a=r[i];if(a.equals(e))throw new Error("Same point");(n&1n)!==0n&&(e=e.add(a)),n>>=1n}return e}function Yu(e,t){let r=ws[0];return r=Up(r,e,P4),r=Up(r,t,I4),zp(r.toRawBytes(!0))}$.pedersen=Yu;function B4(e,t=Yu){if(!Array.isArray(e)||e.length<1)throw new Error("data should be array of at least 1 element");return e.length===1?A4(Xp(e[0])):Array.from(e).reverse().reduce((r,n)=>t(n,r))}$.hashChain=B4;var O4=(e,t=Yu)=>[0,...e,e.length].reduce((r,n)=>t(r,n));$.computeHashOnElements=O4;var N4=ar.bitMask(250),q4=e=>ar.bytesToNumberBE((0,b4.keccak_256)(e))&N4;$.keccak=q4;var Fu=e=>ar.bytesToNumberBE((0,$u.sha256)(e));$.Fp253=(0,Hi.Field)(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681"));$.Fp251=(0,Hi.Field)(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function Ku(e,t,r){let n=e.fromBytes((0,$u.sha256)((0,p4.utf8ToBytes)(`${t}${r}`)));return e.create(n)}function Zp(e,t,r,n=0){let i=[],a=[];for(let s=0;s<r;s++)i.push(Ku(e,`${t}x`,n*r+s)),a.push(Ku(e,`${t}y`,n*r+s));if(new Set([...i,...a]).size!==2*r)throw new Error("X and Y values are not distinct");return i.map(s=>a.map(o=>e.inv(e.sub(s,o))))}$._poseidonMDS=Zp;var D4=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function Xu(e,t){if((0,Hi.validateField)(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);let r=e.rate+e.capacity,n=e.roundsFull+e.roundsPartial,i=[];for(let s=0;s<n;s++){let o=[];for(let u=0;u<r;u++)o.push(Ku(e.Fp,"Hades",r*s+u));i.push(o)}let a=(0,y4.poseidon)({...e,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:i});return a.m=r,a.rate=e.rate,a.capacity=e.capacity,a}$.poseidonBasic=Xu;function k4(e,t=0){let r=e.rate+e.capacity;if(!Number.isSafeInteger(t))throw new Error(`Wrong mdsAttempt=${t}`);return Xu(e,Zp(e.Fp,"HadesMDS",r,t))}$.poseidonCreate=k4;$.poseidonSmall=Xu({Fp:$.Fp251,rate:2,capacity:1,roundsFull:8,roundsPartial:83},D4);function Wp(e,t,r=$.poseidonSmall){return r([e,t,2n])[0]}$.poseidonHash=Wp;function H4(e,t,r=$.poseidonSmall){return ar.numberToVarBytesBE(Wp(ar.bytesToNumberBE(e),ar.bytesToNumberBE(t),r))}$.poseidonHashFunc=H4;function L4(e,t=$.poseidonSmall){return t([e,0n,1n])[0]}$.poseidonHashSingle=L4;function R4(e,t=$.poseidonSmall){let{m:r,rate:n}=t;if(!Array.isArray(e))throw new Error("bigint array expected in values");let i=Array.from(e);for(i.push(1n);i.length%n!==0;)i.push(0n);let a=new Array(r).fill(0n);for(let s=0;s<i.length;s+=n){for(let o=0;o<n;o++)a[o]+=i[s+o];a=t(a)}return a[0]}$.poseidonHashMany=R4});var t2=O(sr=>{g();_();var j4=sr&&sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),U4=sr&&sr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qp=sr&&sr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&j4(t,e,r);return U4(t,e),t};Object.defineProperty(sr,"__esModule",{value:!0});sr.bytesToHex=sr.hexToBytes=sr.stark=sr.secp256k1=void 0;sr.secp256k1=Qp(kp());sr.stark=Qp(Jp());var e2=In();Object.defineProperty(sr,"hexToBytes",{enumerable:!0,get:function(){return e2.hexToBytes}});Object.defineProperty(sr,"bytesToHex",{enumerable:!0,get:function(){return e2.bytesToHex}})});var r2=O(or=>{g();_();var V4=or&&or.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),F4=or&&or.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dc=or&&or.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&V4(t,e,r);return F4(t,e),t};Object.defineProperty(or,"__esModule",{value:!0});or.schnorr=or.p256=or.ed25519=or.secp256k1=void 0;or.secp256k1=dc(F1());or.ed25519=dc(J1());or.p256=dc(rp());or.schnorr=dc(t2())});var si=O(Ct=>{g();_();var K4=Ct&&Ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$4=Ct&&Ct.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ta=Ct&&Ct.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&K4(t,e,r);return $4(t,e),t};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.secp256k1=Ct.ed25519=Ct.signUtil=Ct.elliptic=Ct.bip39=Ct.bip32=void 0;Ct.bip32=Ta(A1());Ct.bip39=Ta(Eu());Ct.elliptic=Ta(_a());Ct.signUtil=Ta(r2());Ct.ed25519=Ta(ol());Ct.secp256k1=Ta(Fy())});var cn=O(lc=>{g();_();Object.defineProperty(lc,"__esModule",{value:!0});lc.starkCurve=void 0;var z4=si();lc.starkCurve=z4.signUtil.schnorr.stark});var Wu=O(gr=>{g();_();Object.defineProperty(gr,"__esModule",{value:!0});gr.calculateL2MessageTxHash=gr.calculateTransactionHash=gr.calculateDeployAccountTransactionHash=gr.calculateDeclareTransactionHash=gr.calculateTransactionHashCommon=gr.computeHashOnElements=void 0;var hc=er(),G4=cn(),n2=Re(),Y4=Fs();function Zu(e){return[...e,e.length].reduce((t,r)=>G4.starkCurve.pedersen((0,n2.toBigInt)(t),(0,n2.toBigInt)(r)),0).toString()}gr.computeHashOnElements=Zu;function Ss(e,t,r,n,i,a,s,o=[]){let u=Zu(i),l=[e,t,r,n,u,a,s,...o];return Zu(l)}gr.calculateTransactionHashCommon=Ss;function X4(e,t,r,n,i,a,s){return Ss(hc.TransactionHashPrefix.DECLARE,r,t,0,[e],n,i,[a,...s?[s]:[]])}gr.calculateDeclareTransactionHash=X4;function Z4(e,t,r,n,i,a,s,o){let u=[t,n,...r];return Ss(hc.TransactionHashPrefix.DEPLOY_ACCOUNT,i,e,0,u,a,s,[o])}gr.calculateDeployAccountTransactionHash=Z4;function W4(e,t,r,n,i,a){return Ss(hc.TransactionHashPrefix.INVOKE,t,e,0,r,n,i,[a])}gr.calculateTransactionHash=W4;function J4(e,t,r,n,i,a){let s=[e,...n];return Ss(hc.TransactionHashPrefix.L1_HANDLER,0,t,(0,Y4.getSelector)(r),s,0,i,[a])}gr.calculateL2MessageTxHash=J4});var c2=O(Ke=>{g();_();Object.defineProperty(Ke,"__esModule",{value:!0});Ke.calculateInvokeTransactionHash=Ke.calculateDeclareTransactionHash=Ke.calculateDeployAccountTransactionHash=Ke.calculateTransactionHashCommon=Ke.hashFeeFieldV3B3=Ke.hashFeeField=Ke.encodeDataResourceBoundsL1=Ke.encodeResourceBoundsL2=Ke.encodeResourceBoundsL1=Ke.hashDAMode=void 0;var Q4=si(),ci=Q4.signUtil.schnorr.stark.poseidonHashMany,Ju=er(),e8=Re(),Qu=Ar(),t8=vi(),oi=e=>e.map(t=>BigInt(t)),r8=32n,n8=64n,bc=128n,ed=n8+bc,i8=BigInt((0,Qu.encodeShortString)("L1_GAS")),a8=BigInt((0,Qu.encodeShortString)("L2_GAS")),s8=BigInt((0,Qu.encodeShortString)("L1_DATA"));function i2(e,t){return(BigInt(e)<<r8)+BigInt(t)}Ke.hashDAMode=i2;function td(e){return(i8<<ed)+(BigInt(e.l1_gas.max_amount)<<bc)+BigInt(e.l1_gas.max_price_per_unit)}Ke.encodeResourceBoundsL1=td;function rd(e){return(a8<<ed)+(BigInt(e.l2_gas.max_amount)<<bc)+BigInt(e.l2_gas.max_price_per_unit)}Ke.encodeResourceBoundsL2=rd;function a2(e){return(s8<<ed)+(BigInt(e.l1_data_gas.max_amount)<<bc)+BigInt(e.l1_data_gas.max_price_per_unit)}Ke.encodeDataResourceBoundsL1=a2;function s2(e,t){let r=td(t),n=rd(t);return ci([BigInt(e),r,n])}Ke.hashFeeField=s2;function o2(e,t){let r=td(t),n=rd(t),i=a2(t);return ci([BigInt(e),r,n,i])}Ke.hashFeeFieldV3B3=o2;function pc(e,t,r,n,i,a,s,o,u,l,b=[]){let h=(0,t8.isRPC08_ResourceBounds)(l)?o2(a,l):s2(a,l),v=i2(o,u),S=oi([e,t,r,h,ci(oi(s)),n,i,v,...oi(b)]);return(0,e8.toHex)(ci(S))}Ke.calculateTransactionHashCommon=pc;function o8(e,t,r,n,i,a,s,o,u,l,b,h){return pc(Ju.TransactionHashPrefix.DEPLOY_ACCOUNT,i,e,a,s,b,h,o,u,l,[ci(oi(r)),t,n])}Ke.calculateDeployAccountTransactionHash=o8;function c8(e,t,r,n,i,a,s,o,u,l,b,h){return pc(Ju.TransactionHashPrefix.DECLARE,n,r,i,a,b,oi(h),o,u,l,[ci(oi(s)),e,t])}Ke.calculateDeclareTransactionHash=c8;function f8(e,t,r,n,i,a,s,o,u,l,b){return pc(Ju.TransactionHashPrefix.INVOKE,t,e,n,i,l,b,s,o,u,[ci(oi(a)),ci(oi(r))])}Ke.calculateInvokeTransactionHash=f8});var f2=O(fn=>{g();_();Object.defineProperty(fn,"__esModule",{value:!0});fn.calculateDeployAccountTransactionHash=fn.calculateDeclareTransactionHash=fn.calculateInvokeTransactionHash=fn.calculateL2MessageTxHash=void 0;var Ma=Rs(),nd=Wu(),id=c2(),u8=Wu();Object.defineProperty(fn,"calculateL2MessageTxHash",{enumerable:!0,get:function(){return u8.calculateL2MessageTxHash}});function d8(e){return[Ma.ETransactionVersion.V3,Ma.ETransactionVersion.F3].includes(e.version)}function l8(e){return d8(e)?(0,id.calculateInvokeTransactionHash)(e.senderAddress,e.version,e.compiledCalldata,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):(0,nd.calculateTransactionHash)(e.senderAddress,e.version,e.compiledCalldata,e.maxFee,e.chainId,e.nonce)}fn.calculateInvokeTransactionHash=l8;function h8(e){return[Ma.ETransactionVersion.V3,Ma.ETransactionVersion.F3].includes(e.version)}function b8(e){return h8(e)?(0,id.calculateDeclareTransactionHash)(e.classHash,e.compiledClassHash,e.senderAddress,e.version,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):(0,nd.calculateDeclareTransactionHash)(e.classHash,e.senderAddress,e.version,e.maxFee,e.chainId,e.nonce,e.compiledClassHash)}fn.calculateDeclareTransactionHash=b8;function p8(e){return[Ma.ETransactionVersion.V3,Ma.ETransactionVersion.F3].includes(e.version)}function y8(e){return p8(e)?(0,id.calculateDeployAccountTransactionHash)(e.contractAddress,e.classHash,e.compiledConstructorCalldata,e.salt,e.version,e.chainId,e.nonce,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):(0,nd.calculateDeployAccountTransactionHash)(e.contractAddress,e.classHash,e.constructorCalldata,e.salt,e.version,e.maxFee,e.chainId,e.nonce)}fn.calculateDeployAccountTransactionHash=y8});var xs=O(Zt=>{g();_();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.extractSignificantDigits=Zt.toSafeNumberOrThrow=Zt.getUnsafeNumberReason=Zt.UnsafeNumberReason=Zt.isSafeNumber=Zt.isNumber=Zt.isInteger=void 0;function sd(e){return m8.test(e)}Zt.isInteger=sd;var m8=/^-?[0-9]+$/;function g8(e){return _8.test(e)}Zt.isNumber=g8;var _8=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function u2(e,t){let r=parseFloat(e),n=String(r),i=ad(e),a=ad(n);return!!(i===a||t?.approx===!0&&!sd(e)&&a.length>=14&&i.startsWith(a.substring(0,14)))}Zt.isSafeNumber=u2;var Pa;(function(e){e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float"})(Pa=Zt.UnsafeNumberReason||(Zt.UnsafeNumberReason={}));function d2(e){if(u2(e,{approx:!1}))return;if(sd(e))return Pa.truncate_integer;let t=parseFloat(e);return isFinite(t)?t===0?Pa.underflow:Pa.truncate_float:Pa.overflow}Zt.getUnsafeNumberReason=d2;function v8(e,t){let r=parseFloat(e),n=d2(e);if(t?.approx===!0?n&&n!==Pa.truncate_float:n){let i=n.replace(/_\w+$/,"");throw new Error(`Cannot safely convert to number: the value '${e}' would ${i} and become ${r}`)}return r}Zt.toSafeNumberOrThrow=v8;function ad(e){return e.replace(w8,"").replace(x8,"").replace(A8,"").replace(S8,"")}Zt.extractSignificantDigits=ad;var w8=/[eE][+-]?\d+$/,S8=/^-?(0*)?/,x8=/\./,A8=/0+$/});var mc=O(fi=>{g();_();Object.defineProperty(fi,"__esModule",{value:!0});fi.toLosslessNumber=fi.isLosslessNumber=fi.LosslessNumber=void 0;var As=xs(),yc=class{constructor(t){if(this.isLosslessNumber=!0,!(0,As.isNumber)(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}valueOf(){let t=(0,As.getUnsafeNumberReason)(this.value);if(t===void 0||t===As.UnsafeNumberReason.truncate_float)return parseFloat(this.value);if((0,As.isInteger)(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${t} and become ${parseFloat(this.value)}`)}toString(){return this.value}};fi.LosslessNumber=yc;function E8(e){return e&&typeof e=="object"&&e.isLosslessNumber===!0||!1}fi.isLosslessNumber=E8;function C8(e){if((0,As.extractSignificantDigits)(e+"").length>15)throw new Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${e})`);if(isNaN(e))throw new Error("Invalid number: NaN");if(!isFinite(e))throw new Error("Invalid number: "+e);return new yc(String(e))}fi.toLosslessNumber=C8});var od=O(Ia=>{g();_();Object.defineProperty(Ia,"__esModule",{value:!0});Ia.parseNumberAndBigInt=Ia.parseLosslessNumber=void 0;var T8=mc(),M8=xs();function P8(e){return new T8.LosslessNumber(e)}Ia.parseLosslessNumber=P8;function I8(e){return(0,M8.isInteger)(e)?BigInt(e):parseFloat(e)}Ia.parseNumberAndBigInt=I8});var l2=O(gc=>{g();_();Object.defineProperty(gc,"__esModule",{value:!0});gc.revive=void 0;var B8=mc();function O8(e,t){return cd({"":e},"",e,t)}gc.revive=O8;function cd(e,t,r,n){return Array.isArray(r)?n.call(e,t,q8(r,n)):r&&typeof r=="object"&&!(0,B8.isLosslessNumber)(r)?n.call(e,t,N8(r,n)):n.call(e,t,r)}function N8(e,t){return Object.keys(e).forEach(r=>{let n=cd(e,r,e[r],t);n!==void 0?e[r]=n:delete e[r]}),e}function q8(e,t){for(let r=0;r<e.length;r++)e[r]=cd(e,r+"",e[r],t);return e}});var g2=O(Te=>{g();_();Object.defineProperty(Te,"__esModule",{value:!0});Te.codeLowercaseF=Te.codeUppercaseF=Te.codeLowercaseE=Te.codeUppercaseE=Te.codeLowercaseA=Te.codeUppercaseA=Te.isDeepEqual=Te.isValidStringCharacter=Te.parse=void 0;var D8=od(),k8=l2();function H8(e,t,r=D8.parseLosslessNumber){let n=0,i=o();return T(i),I(),t?(0,k8.revive)(i,t):i;function a(){if(e.charCodeAt(n)===V8){n++,l();let m={},y=!0;for(;n<e.length&&e.charCodeAt(n)!==b2;){y?y=!1:(v(),l());let A=n,P=b();if(P===void 0)throw new SyntaxError(`Quoted object key expected ${p()}`);l(),S();let w=o();w===void 0&&Z(),Object.prototype.hasOwnProperty.call(m,P)&&!wc(w,m[P])&&k(P,A+1),m[P]=w}return e.charCodeAt(n)!==b2&&H(),n++,m}}function s(){if(e.charCodeAt(n)===F8){n++,l();let m=[],y=!0;for(;n<e.length&&e.charCodeAt(n)!==p2;){y?y=!1:v();let A=o();E(A),m.push(A)}return e.charCodeAt(n)!==p2&&j(),n++,m}}function o(){l();let m=b()??h()??a()??s()??u("true",!0)??u("false",!1)??u("null",null);return l(),m}function u(m,y){if(e.slice(n,n+m.length)===m)return n+=m.length,y}function l(){for(;L8(e.charCodeAt(n));)n++}function b(){if(e.charCodeAt(n)===fd){n++;let m="";for(;n<e.length&&e.charCodeAt(n)!==fd;){if(e.charCodeAt(n)===U8){let y=e[n+1],A=j8[y];A!==void 0?(m+=A,n++):y==="u"?_c(e.charCodeAt(n+2))&&_c(e.charCodeAt(n+3))&&_c(e.charCodeAt(n+4))&&_c(e.charCodeAt(n+5))?(m+=String.fromCharCode(parseInt(e.slice(n+2,n+6),16)),n+=5):C(n):R(n)}else m2(e.charCodeAt(n))?m+=e[n]:V(e[n]);n++}return D(),n++,m}}function h(){let m=n;if(e.charCodeAt(n)===y2&&(n++,B(m)),e.charCodeAt(n)===ud)n++;else if(R8(e.charCodeAt(n)))for(n++;vc(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===W8)for(n++,B(m);vc(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===Te.codeLowercaseE||e.charCodeAt(n)===Te.codeUppercaseE)for(n++,(e.charCodeAt(n)===y2||e.charCodeAt(n)===Y8)&&n++,B(m);vc(e.charCodeAt(n));)n++;if(n>m)return r(e.slice(m,n))}function v(){if(e.charCodeAt(n)!==Z8)throw new SyntaxError(`Comma ',' expected after value ${p()}`);n++}function S(){if(e.charCodeAt(n)!==J8)throw new SyntaxError(`Colon ':' expected after property name ${p()}`);n++}function T(m){if(m===void 0)throw new SyntaxError(`JSON value expected ${p()}`)}function E(m){if(m===void 0)throw new SyntaxError(`Array item expected ${p()}`)}function I(){if(n<e.length)throw new SyntaxError(`Expected end of input ${p()}`)}function B(m){if(!vc(e.charCodeAt(n))){let y=e.slice(m,n);throw new SyntaxError(`Invalid number '${y}', expecting a digit ${p()}`)}}function D(){if(e.charCodeAt(n)!==fd)throw new SyntaxError(`End of string '"' expected ${p()}`)}function q(){throw new SyntaxError(`Quoted object key expected ${p()}`)}function k(m,y){throw new SyntaxError(`Duplicate key '${m}' encountered at position ${y}`)}function H(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${p()}`)}function j(){throw new SyntaxError(`Array item or end of array ']' expected ${p()}`)}function V(m){throw new SyntaxError(`Invalid character '${m}' ${c()}`)}function R(m){let y=e.slice(m,m+2);throw new SyntaxError(`Invalid escape character '${y}' ${c()}`)}function Z(){throw new SyntaxError(`Object value expected after ':' ${c()}`)}function C(m){let y=m+2;for(;/\w/.test(e[y]);)y++;let A=e.slice(m,y);throw new SyntaxError(`Invalid unicode character '${A}' ${c()}`)}function c(){return`at position ${n}`}function d(){return n<e.length?`but got '${e[n]}'`:"but reached end of input"}function p(){return d()+" "+c()}}Te.parse=H8;function L8(e){return e===K8||e===$8||e===z8||e===G8}function _c(e){return e>=ud&&e<=dd||e>=Te.codeUppercaseA&&e<=Te.codeUppercaseF||e>=Te.codeLowercaseA&&e<=Te.codeLowercaseF}function vc(e){return e>=ud&&e<=dd}function R8(e){return e>=X8&&e<=dd}function m2(e){return e>=32&&e<=1114111}Te.isValidStringCharacter=m2;function wc(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((r,n)=>wc(r,t[n])):h2(e)&&h2(t)?[...new Set([...Object.keys(e),...Object.keys(t)])].every(n=>wc(e[n],t[n])):!1}Te.isDeepEqual=wc;function h2(e){return typeof e=="object"&&e!==null}var j8={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},U8=92,V8=123,b2=125,F8=91,p2=93,K8=32,$8=10,z8=9,G8=13,fd=34,Y8=43,y2=45,ud=48,X8=49,dd=57,Z8=44,W8=46,J8=58;Te.codeUppercaseA=65;Te.codeLowercaseA=97;Te.codeUppercaseE=69;Te.codeLowercaseE=101;Te.codeUppercaseF=70;Te.codeLowercaseF=102});var v2=O(Sc=>{g();_();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.stringify=void 0;var Q8=xs();function _2(e,t,r,n){let i=e7(r),a=typeof t=="function"?t.call({"":e},"",e):e;return s(a,"");function s(b,h){if(Array.isArray(n)){let v=n.find(S=>S.test(b));if(v){let S=v.stringify(b);if(typeof S!="string"||!(0,Q8.isNumber)(S))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${S})`);return S}}if(typeof b=="boolean"||typeof b=="number"||typeof b=="string"||b===null||b instanceof Date||b instanceof Boolean||b instanceof Number||b instanceof String)return JSON.stringify(b);if(b&&b.isLosslessNumber||typeof b=="bigint")return b.toString();if(Array.isArray(b))return o(b,h);if(b&&typeof b=="object")return u(b,h)}function o(b,h){if(b.length===0)return"[]";let v=i?h+i:void 0,S=i?`[
`:"[";for(let T=0;T<b.length;T++){let E=typeof t=="function"?t.call(b,String(T),b[T]):b[T];i&&(S+=v),typeof E<"u"&&typeof E!="function"?S+=s(E,v):S+="null",T<b.length-1&&(S+=i?`,
`:",")}return S+=i?`
`+h+"]":"]",S}function u(b,h){if(typeof b.toJSON=="function")return _2(b.toJSON(),t,r,void 0);let v=Array.isArray(t)?t.map(String):Object.keys(b);if(v.length===0)return"{}";let S=i?h+i:void 0,T=!0,E=i?`{
`:"{";return v.forEach(I=>{let B=typeof t=="function"?t.call(b,I,b[I]):b[I];if(l(I,B)){T?T=!1:E+=i?`,
`:",";let D=JSON.stringify(I);E+=i?S+D+": ":D+":",E+=s(B,S)}}),E+=i?`
`+h+"}":"}",E}function l(b,h){return typeof h<"u"&&typeof h!="function"&&typeof h!="symbol"}}Sc.stringify=_2;function e7(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}});var S2=O(w2=>{g();_();Object.defineProperty(w2,"__esModule",{value:!0})});var A2=O(ce=>{g();_();var t7=ce&&ce.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),r7=ce&&ce.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&t7(t,e,r)};Object.defineProperty(ce,"__esModule",{value:!0});ce.getUnsafeNumberReason=ce.toSafeNumberOrThrow=ce.isSafeNumber=ce.isNumber=ce.isInteger=ce.UnsafeNumberReason=ce.parseNumberAndBigInt=ce.parseLosslessNumber=ce.toLosslessNumber=ce.isLosslessNumber=ce.LosslessNumber=ce.stringify=ce.parse=void 0;var n7=g2();Object.defineProperty(ce,"parse",{enumerable:!0,get:function(){return n7.parse}});var i7=v2();Object.defineProperty(ce,"stringify",{enumerable:!0,get:function(){return i7.stringify}});var ld=mc();Object.defineProperty(ce,"LosslessNumber",{enumerable:!0,get:function(){return ld.LosslessNumber}});Object.defineProperty(ce,"isLosslessNumber",{enumerable:!0,get:function(){return ld.isLosslessNumber}});Object.defineProperty(ce,"toLosslessNumber",{enumerable:!0,get:function(){return ld.toLosslessNumber}});var x2=od();Object.defineProperty(ce,"parseLosslessNumber",{enumerable:!0,get:function(){return x2.parseLosslessNumber}});Object.defineProperty(ce,"parseNumberAndBigInt",{enumerable:!0,get:function(){return x2.parseNumberAndBigInt}});var Ba=xs();Object.defineProperty(ce,"UnsafeNumberReason",{enumerable:!0,get:function(){return Ba.UnsafeNumberReason}});Object.defineProperty(ce,"isInteger",{enumerable:!0,get:function(){return Ba.isInteger}});Object.defineProperty(ce,"isNumber",{enumerable:!0,get:function(){return Ba.isNumber}});Object.defineProperty(ce,"isSafeNumber",{enumerable:!0,get:function(){return Ba.isSafeNumber}});Object.defineProperty(ce,"toSafeNumberOrThrow",{enumerable:!0,get:function(){return Ba.toSafeNumberOrThrow}});Object.defineProperty(ce,"getUnsafeNumberReason",{enumerable:!0,get:function(){return Ba.getUnsafeNumberReason}});r7(S2(),ce)});var Ri=O(_r=>{g();_();var a7=_r&&_r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),s7=_r&&_r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o7=_r&&_r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&a7(t,e,r);return s7(t,e),t};Object.defineProperty(_r,"__esModule",{value:!0});_r.stringify=_r.parseAlwaysAsBig=_r.parse=void 0;var Es=o7(A2()),c7=e=>{if(!Es.isInteger(e))return parseFloat(e);let t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},f7=e=>Es.parse(String(e),void 0,c7);_r.parse=f7;var u7=e=>Es.parse(String(e),void 0,Es.parseNumberAndBigInt);_r.parseAlwaysAsBig=u7;var d7=(e,t,r,n)=>Es.stringify(e,t,r,n);_r.stringify=d7});var B2=O(Se=>{g();_();Object.defineProperty(Se,"__esModule",{value:!0});Se.computeContractClassHash=Se.computeSierraContractClassHash=Se.computeCompiledClassHash=Se.hashByteCodeSegments=Se.computeLegacyContractClassHash=Se.computeHintedClassHash=Se.formatSpaces=Se.calculateContractAddressFromHash=Se.computePoseidonHashOnElements=Se.computePedersenHashOnElements=Se.computeHashOnElements=Se.computePoseidonHash=Se.computePedersenHash=void 0;var l7=si(),dn=l7.signUtil.schnorr.stark.poseidonHashMany,E2=er(),h7=Ai(),b7=$r(),Cs=cn(),xc=Qt(),Ac=Ri(),Oa=Re(),Ec=Ar(),C2=St();function p7(e,t){return Cs.starkCurve.pedersen(BigInt(e),BigInt(t))}Se.computePedersenHash=p7;function y7(e,t){return(0,Oa.toHex)(Cs.starkCurve.poseidonHash(BigInt(e),BigInt(t)))}Se.computePoseidonHash=y7;function un(e){return[...e,e.length].reduce((t,r)=>Cs.starkCurve.pedersen(BigInt(t),BigInt(r)),0).toString()}Se.computeHashOnElements=un;Se.computePedersenHashOnElements=un;function m7(e){return(0,Oa.toHex)(dn(e.map(t=>BigInt(t))))}Se.computePoseidonHashOnElements=m7;function g7(e,t,r,n){let i=h7.CallData.compile(r),a=un(i),s=(0,b7.felt)("0x535441524b4e45545f434f4e54524143545f41444452455353"),o=un([s,n,e,t,a]);return(0,Oa.toHex)(BigInt(o)%E2.ADDR_BOUND)}Se.calculateContractAddressFromHash=g7;function _7(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function pd(e){let t=!1,r=[];for(let n of e)n==='"'&&!(r.length>0&&r.slice(-1)[0]==="\\")&&(t=!t),t?r.push(n):r.push(n===":"?": ":n===","?", ":n);return r.join("")}Se.formatSpaces=pd;function T2(e){let{abi:t,program:r}=e,n={abi:t,program:r},i=pd((0,Ac.stringify)(n,_7));return(0,xc.addHexPrefix)(Cs.starkCurve.keccak((0,xc.utf8ToArray)(i)).toString(16))}Se.computeHintedClassHash=T2;function M2(e){let t=(0,C2.isString)(e)?(0,Ac.parse)(e):e,r=(0,Oa.toHex)(E2.API_VERSION),n=un(t.entry_points_by_type.EXTERNAL.flatMap(l=>[l.selector,l.offset])),i=un(t.entry_points_by_type.L1_HANDLER.flatMap(l=>[l.selector,l.offset])),a=un(t.entry_points_by_type.CONSTRUCTOR.flatMap(l=>[l.selector,l.offset])),s=un(t.program.builtins.map(l=>(0,Ec.encodeShortString)(l))),o=T2(t),u=un(t.program.data);return un([r,n,i,a,s,o,u])}Se.computeLegacyContractClassHash=M2;function v7(e){return dn(e.flatMap(t=>BigInt((0,Ec.encodeShortString)(t))))}function hd(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),v7(r.builtins)]);return dn(t)}function P2(e){let t=e.bytecode.map(a=>BigInt(a)),r=e.bytecode_segment_lengths??[],n=0,i=r.flatMap(a=>{let s=t.slice(n,n+=a);return[BigInt(a),dn(s)]});return 1n+dn(i)}Se.hashByteCodeSegments=P2;function w7(e){let t="COMPILED_CLASS_V1",r=BigInt((0,Ec.encodeShortString)(t)),n=hd(e.entry_points_by_type.EXTERNAL),i=hd(e.entry_points_by_type.L1_HANDLER),a=hd(e.entry_points_by_type.CONSTRUCTOR),s=e.bytecode_segment_lengths?P2(e):dn(e.bytecode.map(o=>BigInt(o)));return(0,Oa.toHex)(dn([r,n,i,a,s]))}Se.computeCompiledClassHash=w7;function bd(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return dn(t)}function S7(e){let t=pd((0,Ac.stringify)(e.abi,null));return BigInt((0,xc.addHexPrefix)(Cs.starkCurve.keccak((0,xc.utf8ToArray)(t)).toString(16)))}function I2(e){let t="CONTRACT_CLASS_V0.1.0",r=BigInt((0,Ec.encodeShortString)(t)),n=bd(e.entry_points_by_type.EXTERNAL),i=bd(e.entry_points_by_type.L1_HANDLER),a=bd(e.entry_points_by_type.CONSTRUCTOR),s=S7(e),o=dn(e.sierra_program.map(u=>BigInt(u)));return(0,Oa.toHex)(dn([r,n,i,a,s,o]))}Se.computeSierraContractClassHash=I2;function x7(e){let t=(0,C2.isString)(e)?(0,Ac.parse)(e):e;return"sierra_program"in t?I2(t):M2(t)}Se.computeContractClassHash=x7});var Lr=O(Nn=>{g();_();var A7=Nn&&Nn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yd=Nn&&Nn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&A7(t,e,r)};Object.defineProperty(Nn,"__esModule",{value:!0});yd(Fs(),Nn);yd(f2(),Nn);yd(B2(),Nn)});var Tc=O(Cc=>{g();_();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.config=void 0;var E7=er(),ui=class{constructor(){this.initialize()}initialize(){this.config={...E7.DEFAULT_GLOBAL_CONFIG}}static getInstance(){return ui.instance||(ui.instance=new ui),ui.instance}get(t,r){return this.config[t]??r}set(t,r){this.config[t]=r}update(t){this.config={...this.config,...t}}getAll(){return{...this.config}}reset(){this.initialize()}delete(t){delete this.config[t]}hasKey(t){return t in this.config}};Cc.config=ui.getInstance()});var O2=O(Mc=>{g();_();Object.defineProperty(Mc,"__esModule",{value:!0});Mc.estimateFeeToBounds=void 0;var Rr=Re();function C7(e,t){return{l2_gas:{max_amount:(0,Rr.toHex)((0,Rr.addPercent)(e.l2_gas_consumed,t.l2_gas.max_amount)),max_price_per_unit:(0,Rr.toHex)((0,Rr.addPercent)(e.l2_gas_price,t.l2_gas.max_price_per_unit))},l1_gas:{max_amount:(0,Rr.toHex)((0,Rr.addPercent)(e.l1_gas_consumed,t.l1_gas.max_amount)),max_price_per_unit:(0,Rr.toHex)((0,Rr.addPercent)(e.l1_gas_price,t.l1_gas.max_price_per_unit))},l1_data_gas:{max_amount:(0,Rr.toHex)((0,Rr.addPercent)(e.l1_data_gas_consumed,t.l1_data_gas.max_amount)),max_price_per_unit:(0,Rr.toHex)((0,Rr.addPercent)(e.l1_data_gas_price,t.l1_data_gas.max_price_per_unit))}}}Mc.estimateFeeToBounds=C7});var di=O(de=>{g();_();Object.defineProperty(de,"__esModule",{value:!0});de.getFullPublicKey=de.reduceV2=de.v3Details=de.toFeeVersion=de.toTransactionVersion=de.intDAM=de.ZEROFee=de.estimateFeeToBounds=de.estimatedFeeToMaxFee=de.signatureToHexArray=de.signatureToDecimalArray=de.formatSignature=de.randomAddress=de.decompressProgram=de.compressProgram=void 0;var md=si(),N2=Ky(),q2=Tc(),Pc=er(),Tt=vi(),Ts=Qt(),D2=Ri(),ln=Re(),k2=St(),T7=O2();function M7(e){let t=(0,k2.isString)(e)?e:(0,D2.stringify)(e),r=(0,N2.gzip)(t);return(0,Ts.btoaUniversal)(r)}de.compressProgram=M7;function P7(e){if(Array.isArray(e))return e;let t=(0,Ts.arrayBufferToString)((0,N2.ungzip)((0,Ts.atobUniversal)(e)));return(0,D2.parse)(t)}de.decompressProgram=P7;function I7(){let e=md.signUtil.schnorr.stark.utils.randomPrivateKey();return md.signUtil.schnorr.stark.getStarkKey(e)}de.randomAddress=I7;function gd(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>(0,ln.toHex)(t));try{let{r:t,s:r}=e;return[(0,ln.toHex)(t),(0,ln.toHex)(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}de.formatSignature=gd;function B7(e){return(0,ln.bigNumberishArrayToDecimalStringArray)(gd(e))}de.signatureToDecimalArray=B7;function O7(e){return(0,ln.bigNumberishArrayToHexadecimalStringArray)(gd(e))}de.signatureToHexArray=O7;function N7(e,t=q2.config.get("feeMarginPercentage").maxFee){return(0,ln.addPercent)(e,t)}de.estimatedFeeToMaxFee=N7;function _d(e,t=q2.config.get("feeMarginPercentage").bounds,r){return(0,k2.isBigInt)(e)?{l2_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_data_gas:{max_amount:"0x0",max_price_per_unit:"0x0"}}:(0,T7.estimateFeeToBounds)(e,t)}de.estimateFeeToBounds=_d;function q7(e){return{l1_gas_consumed:0n,l1_gas_price:0n,l1_data_gas_consumed:0n,l1_data_gas_price:0n,l2_gas_consumed:0n,l2_gas_price:0n,overall_fee:Pc.ZERO,unit:"FRI",suggestedMaxFee:Pc.ZERO,resourceBounds:_d(Pc.ZERO,void 0,e)}}de.ZEROFee=q7;function D7(e){if(e===Tt.EDataAvailabilityMode.L1)return Tt.EDAMode.L1;if(e===Tt.EDataAvailabilityMode.L2)return Tt.EDAMode.L2;throw Error("EDAM conversion")}de.intDAM=D7;function k7(e,t){let r=t?(0,ln.toHex)(t):void 0,n=(0,ln.toHex)(e);if(t&&!Object.values(Tt.ETransactionVersion).includes(r))throw Error(`providedVersion ${t} is not ETransactionVersion`);if(!Object.values(Tt.ETransactionVersion).includes(n))throw Error(`defaultVersion ${e} is not ETransactionVersion`);return t?r:n}de.toTransactionVersion=k7;function H7(e){if(!e)return;let t=(0,ln.toHex)(e);if(t===Tt.ETransactionVersion.V0)return Tt.ETransactionVersion.F0;if(t===Tt.ETransactionVersion.V1)return Tt.ETransactionVersion.F1;if(t===Tt.ETransactionVersion.V2)return Tt.ETransactionVersion.F2;if(t===Tt.ETransactionVersion.V3)return Tt.ETransactionVersion.F3;throw Error(`toFeeVersion: ${t} is not supported`)}de.toFeeVersion=H7;function L7(e,t){return{tip:e.tip||0,paymasterData:e.paymasterData||[],accountDeploymentData:e.accountDeploymentData||[],nonceDataAvailabilityMode:e.nonceDataAvailabilityMode||Tt.EDataAvailabilityMode.L1,feeDataAvailabilityMode:e.feeDataAvailabilityMode||Tt.EDataAvailabilityMode.L1,resourceBounds:e.resourceBounds??_d(Pc.ZERO,void 0,t)}}de.v3Details=L7;function R7(e){return e===Tt.ETransactionVersion.F2?Tt.ETransactionVersion.F1:e===Tt.ETransactionVersion.V2?Tt.ETransactionVersion.V1:e}de.reduceV2=R7;function j7(e){let t=(0,ln.toHex)(e);return(0,Ts.addHexPrefix)((0,Ts.buf2hex)(md.signUtil.schnorr.stark.getPublicKey(t,!1)))}de.getFullPublicKey=j7});var Ic=O(Wt=>{g();_();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.getVersionsByType=Wt.buildUDCCall=Wt.getExecuteCalldata=Wt.fromCallsToExecuteCalldata_cairo1=Wt.fromCallsToExecuteCalldata=Wt.transformCallsToMulticallArrays=void 0;var vd=er(),Na=vi(),qa=Ai(),U7=cn(),H2=Lr(),wd=Re(),V7=di(),F7=e=>{let t=[],r=[];return e.forEach(n=>{let i=qa.CallData.compile(n.calldata||[]);t.push({to:(0,wd.toBigInt)(n.contractAddress).toString(10),selector:(0,wd.toBigInt)((0,H2.getSelectorFromName)(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:i.length.toString()}),r.push(...i)}),{callArray:t,calldata:qa.CallData.compile({calldata:r})}};Wt.transformCallsToMulticallArrays=F7;var K7=e=>{let{callArray:t,calldata:r}=(0,Wt.transformCallsToMulticallArrays)(e);return[...qa.CallData.compile({callArray:t}),...r]};Wt.fromCallsToExecuteCalldata=K7;var $7=e=>{let t=e.map(r=>({contractAddress:r.contractAddress,entrypoint:r.entrypoint,calldata:Array.isArray(r.calldata)&&"__compiled__"in r.calldata?r.calldata:qa.CallData.compile(r.calldata)}));return qa.CallData.compile({orderCalls:t})};Wt.fromCallsToExecuteCalldata_cairo1=$7;var z7=(e,t="0")=>t==="1"?(0,Wt.fromCallsToExecuteCalldata_cairo1)(e):(0,Wt.fromCallsToExecuteCalldata)(e);Wt.getExecuteCalldata=z7;function G7(e,t){let r=[].concat(e).map(n=>{let{classHash:i,salt:a,unique:s=!0,constructorCalldata:o=[]}=n,u=qa.CallData.compile(o),l=a??(0,V7.randomAddress)();return{call:{contractAddress:vd.UDC.ADDRESS,entrypoint:vd.UDC.ENTRYPOINT,calldata:[i,l,(0,wd.toCairoBool)(s),u.length,...u]},address:(0,H2.calculateContractAddressFromHash)(s?U7.starkCurve.pedersen(t,l):l,i,u,s?vd.UDC.ADDRESS:0)}});return{calls:r.map(n=>n.call),addresses:r.map(n=>n.address)}}Wt.buildUDCCall=G7;function Y7(e){return e==="fee"?{v1:Na.ETransactionVersion.F1,v2:Na.ETransactionVersion.F2,v3:Na.ETransactionVersion.F3}:{v1:Na.ETransactionVersion.V1,v2:Na.ETransactionVersion.V2,v3:Na.ETransactionVersion.V3}}Wt.getVersionsByType=Y7});var xd=O(Da=>{g();_();Object.defineProperty(Da,"__esModule",{value:!0});Da.proofMerklePath=Da.MerkleTree=void 0;var Sd=Lr(),li=class{constructor(t,r=Sd.computePedersenHash){this.branches=[],this.hashMethod=r,this.leaves=t,this.root=this.build(t)}build(t){if(t.length===1)return t[0];t.length!==this.leaves.length&&this.branches.push(t);let r=[];for(let n=0;n<t.length;n+=2)n+1===t.length?r.push(li.hash(t[n],"0x0",this.hashMethod)):r.push(li.hash(t[n],t[n+1],this.hashMethod));return this.build(r)}static hash(t,r,n=Sd.computePedersenHash){let[i,a]=[BigInt(t),BigInt(r)].sort((s,o)=>s>=o?1:-1);return n(i,a)}getProof(t,r=this.leaves,n=[]){let i=r.indexOf(t);if(i===-1)throw new Error("leaf not found");if(r.length===1)return n;let a=i%2===0,s=(a?r[i+1]:r[i-1])??"0x0",o=[...n,s],u=this.leaves.length===r.length?-1:this.branches.findIndex(b=>b.length===r.length),l=this.branches[u+1]??[this.root];return this.getProof(li.hash(a?t:s,a?s:t,this.hashMethod),l,o)}};Da.MerkleTree=li;function L2(e,t,r,n=Sd.computePedersenHash){if(r.length===0)return e===t;let[i,...a]=r;return L2(e,li.hash(t,i,n),a,n)}Da.proofMerklePath=L2});var Oc=O(Me=>{g();_();var X7=Me&&Me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Me,"__esModule",{value:!0});Me.verifyMessage=Me.getMessageHash=Me.getStructHash=Me.encodeData=Me.encodeValue=Me.getTypeHash=Me.encodeType=Me.getDependencies=Me.isMerkleTreeType=Me.prepareSelector=Me.validateTypedData=void 0;var Ms=er(),Pe=Jr(),j2=X7(wi()),Z7=Fi(),R2=cn(),ka=Lr(),W7=xd(),ji=Re(),U2=Ar(),V2=St(),J7={u256:JSON.parse('[{ "name": "low", "type": "u128" }, { "name": "high", "type": "u128" }]'),TokenAmount:JSON.parse('[{ "name": "token_address", "type": "ContractAddress" }, { "name": "amount", "type": "u256" }]'),NftId:JSON.parse('[{ "name": "collection_address", "type": "ContractAddress" }, { "name": "token_id", "type": "u256" }]')},Pr={[Pe.TypedDataRevision.ACTIVE]:{domain:"StarknetDomain",hashMethod:ka.computePoseidonHashOnElements,hashMerkleMethod:ka.computePoseidonHash,escapeTypeString:e=>`"${e}"`,presetTypes:J7},[Pe.TypedDataRevision.LEGACY]:{domain:"StarkNetDomain",hashMethod:ka.computePedersenHashOnElements,hashMerkleMethod:ka.computePedersenHash,escapeTypeString:e=>e,presetTypes:{}}};function Bc(e,t,{min:r,max:n}){let i=BigInt(e);(0,j2.default)(i>=r&&i<=n,`${i} (${t}) is out of bounds [${r}, ${n}]`)}function F2({types:e,domain:t}){if(Pr[Pe.TypedDataRevision.ACTIVE].domain in e&&t.revision===Pe.TypedDataRevision.ACTIVE)return Pe.TypedDataRevision.ACTIVE;if(Pr[Pe.TypedDataRevision.LEGACY].domain in e&&(t.revision??Pe.TypedDataRevision.LEGACY)===Pe.TypedDataRevision.LEGACY)return Pe.TypedDataRevision.LEGACY}function hn(e){try{return(0,ji.toHex)(e)}catch{if((0,V2.isString)(e))return(0,ji.toHex)((0,U2.encodeShortString)(e));throw new Error(`Invalid BigNumberish: ${e}`)}}function Ad(e){let t=e;return Boolean(t.message&&t.primaryType&&t.types&&F2(t))}Me.validateTypedData=Ad;function K2(e){return(0,ji.isHex)(e)?e:(0,ka.getSelectorFromName)(e)}Me.prepareSelector=K2;function $2(e){return e.type==="merkletree"}Me.isMerkleTreeType=$2;function Ed(e,t,r=[],n="",i=Pe.TypedDataRevision.LEGACY){let a=[t];return t[t.length-1]==="*"?a=[t.slice(0,-1)]:i===Pe.TypedDataRevision.ACTIVE&&(t==="enum"?a=[n]:t.match(/^\(.*\)$/)&&(a=t.slice(1,-1).split(",").map(s=>s[s.length-1]==="*"?s.slice(0,-1):s))),a.filter(s=>!r.includes(s)&&e[s]).reduce((s,o)=>[...s,...[o,...e[o].reduce((u,l)=>[...u,...Ed(e,l.type,u,l.contains,i).filter(b=>!u.includes(b))],[])].filter(u=>!s.includes(u))],[])}Me.getDependencies=Ed;function Q7(e,t){if(t.parent&&t.key){let n=e[t.parent].find(a=>a.name===t.key);if(!$2(n))throw new Error(`${t.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return n.contains}return"raw"}function z2(e,t,r=Pe.TypedDataRevision.LEGACY){let n=r===Pe.TypedDataRevision.ACTIVE?{...e,...Pr[r].presetTypes}:e,[i,...a]=Ed(n,t,void 0,void 0,r),s=i?[i,...a.sort()]:[],o=Pr[r].escapeTypeString;return s.map(u=>{let l=n[u].map(b=>{let h=b.type==="enum"&&r===Pe.TypedDataRevision.ACTIVE?b.contains:b.type,v=h.match(/^\(.*\)$/)?`(${h.slice(1,-1).split(",").map(S=>S&&o(S)).join(",")})`:o(h);return`${o(b.name)}:${v}`});return`${o(u)}(${l})`}).join("")}Me.encodeType=z2;function G2(e,t,r=Pe.TypedDataRevision.LEGACY){return(0,ka.getSelectorFromName)(z2(e,t,r))}Me.getTypeHash=G2;function Ps(e,t,r,n={},i=Pe.TypedDataRevision.LEGACY){if(e[t])return[t,Is(e,t,r,i)];if(Pr[i].presetTypes[t])return[t,Is(Pr[i].presetTypes,t,r,i)];if(t.endsWith("*")){let a=r.map(s=>Ps(e,t.slice(0,-1),s,void 0,i)[1]);return[t,Pr[i].hashMethod(a)]}switch(t){case"enum":{if(i===Pe.TypedDataRevision.ACTIVE){let[a,s]=Object.entries(r)[0],o=e[n.parent].find(v=>v.name===n.key),u=e[o.contains],l=u.find(v=>v.name===a),b=u.indexOf(l),h=l.type.slice(1,-1).split(",").map((v,S)=>{if(!v)return v;let T=s[S];return Ps(e,v,T,void 0,i)[1]});return[t,Pr[i].hashMethod([b,...h])]}return[t,hn(r)]}case"merkletree":{let a=Q7(e,n),s=r.map(u=>Ps(e,a,u,void 0,i)[1]),{root:o}=new W7.MerkleTree(s,Pr[i].hashMerkleMethod);return["felt",o]}case"selector":return["felt",K2(r)];case"string":{if(i===Pe.TypedDataRevision.ACTIVE){let a=(0,Z7.byteArrayFromString)(r),s=[a.data.length,...a.data,a.pending_word,a.pending_word_len];return[t,Pr[i].hashMethod(s)]}return[t,hn(r)]}case"i128":{if(i===Pe.TypedDataRevision.ACTIVE){let a=BigInt(r);return Bc(a,t,Ms.RANGE_I128),[t,hn(a<0n?Ms.PRIME+a:a)]}return[t,hn(r)]}case"timestamp":case"u128":return i===Pe.TypedDataRevision.ACTIVE&&Bc(r,t,Ms.RANGE_U128),[t,hn(r)];case"felt":case"shortstring":return i===Pe.TypedDataRevision.ACTIVE&&Bc(hn(r),t,Ms.RANGE_FELT),[t,hn(r)];case"ClassHash":case"ContractAddress":return i===Pe.TypedDataRevision.ACTIVE&&Bc(r,t,Ms.RANGE_FELT),[t,hn(r)];case"bool":return i===Pe.TypedDataRevision.ACTIVE&&(0,j2.default)((0,V2.isBoolean)(r),`Type mismatch for ${t} ${r}`),[t,hn(r)];default:{if(i===Pe.TypedDataRevision.ACTIVE)throw new Error(`Unsupported type: ${t}`);return[t,hn(r)]}}}Me.encodeValue=Ps;function Y2(e,t,r,n=Pe.TypedDataRevision.LEGACY){let i=e[t]??Pr[n].presetTypes[t],[a,s]=i.reduce(([o,u],l)=>{if(r[l.name]===void 0||r[l.name]===null&&l.type!=="enum")throw new Error(`Cannot encode data: missing data for '${l.name}'`);let b=r[l.name],h={parent:t,key:l.name},[v,S]=Ps(e,l.type,b,h,n);return[[...o,v],[...u,S]]},[["felt"],[G2(e,t,n)]]);return[a,s]}Me.encodeData=Y2;function Is(e,t,r,n=Pe.TypedDataRevision.LEGACY){return Pr[n].hashMethod(Y2(e,t,r,n)[1])}Me.getStructHash=Is;function X2(e,t){if(!Ad(e))throw new Error("Typed data does not match JSON schema");let r=F2(e),{domain:n,hashMethod:i}=Pr[r],a=[(0,U2.encodeShortString)("StarkNet Message"),Is(e.types,n,e.domain,r),t,Is(e.types,e.primaryType,e.message,r)];return i(a)}Me.getMessageHash=X2;function e9(e,t,r,n){let i=Ad(e);if(!(0,ji.isBigNumberish)(e)&&!i)throw new Error("message has a wrong format.");if(i&&n===void 0)throw new Error("When providing a TypedData in message parameter, the accountAddress parameter has to be provided.");if(i&&!(0,ji.isBigNumberish)(n))throw new Error("accountAddress shall be a BigNumberish");let a=i?X2(e,n):(0,ji.toHex)(e),s=Array.isArray(t)?new R2.starkCurve.Signature(BigInt(t[0]),BigInt(t[1])):t,o=(0,ji.toHex)(r);return R2.starkCurve.verify(s,a,o)}Me.verifyMessage=e9});var Z2=O(Nc=>{g();_();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.Signer=void 0;var Ha=Jr(),t9=Ai(),Cd=cn(),r9=Qt(),La=Lr(),n9=Re(),Ra=di(),i9=Ic(),a9=Oc(),Td=class{constructor(t=Cd.starkCurve.utils.randomPrivateKey()){this.pk=t instanceof Uint8Array?(0,r9.buf2hex)(t):(0,n9.toHex)(t)}async getPubKey(){return Cd.starkCurve.getStarkKey(this.pk)}async signMessage(t,r){let n=(0,a9.getMessageHash)(t,r);return(await this.signRaw(n)).signature}async signTransaction(t,r){let n=(0,i9.getExecuteCalldata)(t,r.cairoVersion),i;if(Object.values(Ha.ETransactionVersion2).includes(r.version)){let a=r;i=(0,La.calculateInvokeTransactionHash)({...a,senderAddress:a.walletAddress,compiledCalldata:n,version:a.version})}else if(Object.values(Ha.ETransactionVersion3).includes(r.version)){let a=r;i=(0,La.calculateInvokeTransactionHash)({...a,senderAddress:a.walletAddress,compiledCalldata:n,version:a.version,nonceDataAvailabilityMode:(0,Ra.intDAM)(a.nonceDataAvailabilityMode),feeDataAvailabilityMode:(0,Ra.intDAM)(a.feeDataAvailabilityMode)})}else throw Error("unsupported signTransaction version");return this.signRaw(i)}async signDeployAccountTransaction(t){let r=t9.CallData.compile(t.constructorCalldata),n;if(Object.values(Ha.ETransactionVersion2).includes(t.version)){let i=t;n=(0,La.calculateDeployAccountTransactionHash)({...i,salt:i.addressSalt,constructorCalldata:r,version:i.version})}else if(Object.values(Ha.ETransactionVersion3).includes(t.version)){let i=t;n=(0,La.calculateDeployAccountTransactionHash)({...i,salt:i.addressSalt,compiledConstructorCalldata:r,version:i.version,nonceDataAvailabilityMode:(0,Ra.intDAM)(i.nonceDataAvailabilityMode),feeDataAvailabilityMode:(0,Ra.intDAM)(i.feeDataAvailabilityMode)})}else throw Error("unsupported signDeployAccountTransaction version");return this.signRaw(n)}async signDeclareTransaction(t){let r;if(Object.values(Ha.ETransactionVersion2).includes(t.version)){let n=t;r=(0,La.calculateDeclareTransactionHash)({...n,version:n.version})}else if(Object.values(Ha.ETransactionVersion3).includes(t.version)){let n=t;r=(0,La.calculateDeclareTransactionHash)({...n,version:n.version,nonceDataAvailabilityMode:(0,Ra.intDAM)(n.nonceDataAvailabilityMode),feeDataAvailabilityMode:(0,Ra.intDAM)(n.feeDataAvailabilityMode)})}else throw Error("unsupported signDeclareTransaction version");return this.signRaw(r)}async signRaw(t){return{signature:Cd.starkCurve.sign(t,this.pk),hash:t}}};Nc.Signer=Td});var Md=O(hi=>{g();_();var s9=hi&&hi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W2=hi&&hi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&s9(t,e,r)};Object.defineProperty(hi,"__esModule",{value:!0});W2(cl(),hi);W2(Z2(),hi)});var Id=O(bi=>{g();_();Object.defineProperty(bi,"__esModule",{value:!0});bi.contractClassResponseToLegacyCompiledContract=bi.extractContractHashes=bi.isSierra=void 0;var J2=Lr(),o9=Ri(),c9=di(),f9=St();function Pd(e){return"sierra_program"in((0,f9.isString)(e)?(0,o9.parse)(e):e)}bi.isSierra=Pd;function u9(e){let t={...e};if(Pd(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=(0,J2.computeCompiledClassHash)(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??(0,J2.computeContractClassHash)(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}bi.extractContractHashes=u9;function d9(e){if(Pd(e))throw Error("ContractClassResponse need to be LegacyContractClass (cairo0 response class)");let t=e;return{...t,program:(0,c9.decompressProgram)(t.program)}}bi.contractClassResponseToLegacyCompiledContract=d9});var sy=O(Jt=>{g();_();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.Block=Jt.validBlockTags=Jt.getDefaultNodes=Jt.getDefaultNodeUrl=Jt.parseContract=Jt.createSierraContractClass=Jt.wait=void 0;var l9=Tc(),ty=er(),ry=Jr(),h9=Id(),Q2=Lr(),Bd=Ri(),ey=Re(),b9=Ar(),ny=di(),Bs=St();function p9(e){return new Promise(t=>{setTimeout(t,e)})}Jt.wait=p9;function iy(e){let t={...e};return delete t.sierra_program_debug_info,t.abi=(0,Q2.formatSpaces)((0,Bd.stringify)(e.abi)),t.sierra_program=(0,Q2.formatSpaces)((0,Bd.stringify)(e.sierra_program)),t.sierra_program=(0,ny.compressProgram)(t.sierra_program),t}Jt.createSierraContractClass=iy;function y9(e){let t=(0,Bs.isString)(e)?(0,Bd.parse)(e):e;return(0,h9.isSierra)(e)?iy(t):{...t,..."program"in t&&{program:(0,ny.compressProgram)(t.program)}}}Jt.parseContract=y9;var m9=(e,t=!1,r)=>{let i=ay(r??l9.config.get("rpcVersion"))[e??ty.NetworkName.SN_SEPOLIA],a=Math.floor(Math.random()*i.length);return i[a]};Jt.getDefaultNodeUrl=m9;function ay(e){let t=n=>`v${n.replace(/^v/,"").replace(/\./g,"_")}`,r={...ty.RPC_DEFAULT_NODES};return Object.keys(r).forEach(function(n,i){r[n]=r[n].map(a=>`${a}${t(e)}`)}),r}Jt.getDefaultNodes=ay;Jt.validBlockTags=Object.values(ry.BlockTag);var Od=class{setIdentifier(t){if((0,Bs.isString)(t))if((0,b9.isDecimalString)(t))this.number=parseInt(t,10);else if((0,ey.isHex)(t))this.hash=t;else if(Jt.validBlockTags.includes(t))this.tag=t;else throw TypeError(`Block identifier unmanaged: ${t}`);else(0,Bs.isBigInt)(t)?this.hash=(0,ey.toHex)(t):(0,Bs.isNumber)(t)?this.number=t:this.tag=ry.BlockTag.PENDING;if((0,Bs.isNumber)(this.number)&&this.number<0)throw TypeError(`Block number (${this.number}) can't be negative`)}constructor(t){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(t)}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(t){this.setIdentifier(t)}};Jt.Block=Od});var dy=O(Dc=>{g();_();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.Account=void 0;var g9=Tc(),bn=er(),Os=vi(),_9=Md(),Nd=Jr(),qc=Ai(),oy=Id(),cy=Lr(),ja=Re(),v9=sy(),jr=di(),fy=Ic(),uy=St(),w9=Oc(),qd=(e,t=!0)=>{let{tip:r,paymasterData:n,accountDeploymentData:i,nonceDataAvailabilityMode:a,feeDataAvailabilityMode:s,resourceBounds:o}=(0,jr.v3Details)(e,bn.SupportedRpcVersion.v0_8_1),u={resource_bounds:{L1_GAS:o.l1_gas,L1_DATA_GAS:o.l1_data_gas,L2_GAS:o.l2_gas},tip:(0,ja.toHex)(r),paymaster_data:n,nonce_data_availability_mode:s=="L1"?0:1,fee_data_availability_mode:a=="L1"?0:1};return t&&(u.account_deployment_data=i),u},Dd=class{constructor(t,r,n,i=g9.config.get("transactionVersion")){this.address=t.toLowerCase(),this.signer=(0,uy.isString)(r)||r instanceof Uint8Array?new _9.Signer(r):r,n&&(this.cairoVersion=n.toString()),this.transactionVersion=i}async getCairoVersion(){return this.cairoVersion}async execute(t,r={}){let n=Array.isArray(t)?t:[t];if(r.nonce===void 0||r.chainId===void 0)throw new Error("missing transaction parameter");let i=Os.ETransactionVersion.V3,a={...(0,jr.v3Details)(r,bn.SupportedRpcVersion.v0_8_1),walletAddress:this.address,nonce:r.nonce,chainId:r.chainId,cairoVersion:await this.getCairoVersion(),version:i},s=await this.signer.signTransaction(n,a),o=(0,fy.getExecuteCalldata)(n,await this.getCairoVersion());return{txId:s.hash,signature:{type:Nd.TransactionType.INVOKE,sender_address:this.address,calldata:(0,jr.signatureToHexArray)(qc.CallData.compile(o)),signature:(0,jr.signatureToHexArray)(s.signature),nonce:(0,ja.toHex)(r.nonce),...qd(r),version:i}}}async declare(t,r={}){let n=(0,oy.extractContractHashes)(t),{version:i}=r;if(r.nonce===void 0||r.chainId===void 0)throw new Error("missing transaction parameter");let a=Os.ETransactionVersion.V3,s={...(0,jr.v3Details)(r,bn.SupportedRpcVersion.v0_8_1),nonce:r.nonce,version:a,chainId:r.chainId,walletAddress:this.address,cairoVersion:void 0},{compiledClassHash:o,contract:u,signature:l}=await this.buildDeclarePayload(n,s);return{type:Nd.TransactionType.DECLARE,sender_address:this.address,compiled_class_hash:o,contract_class:u,nonce:(0,ja.toHex)(r.nonce),signature:(0,jr.signatureToDecimalArray)(l),...qd(r),version:a}}async deploy(t,r={}){let{calls:n}=(0,fy.buildUDCCall)(t,this.address);return await this.execute(n,r)}async deployAccount({classHash:t,constructorCalldata:r=[],addressSalt:n=0,contractAddress:i},a={}){let s=Os.ETransactionVersion.V3,o=bn.ZERO;if(a.chainId===void 0)throw new Error("missing transaction parameter");let u=qc.CallData.compile(r),l=i??(0,cy.calculateContractAddressFromHash)(n,t,u,0),b=await this.signer.signDeployAccountTransaction({...(0,jr.v3Details)(a,bn.SupportedRpcVersion.v0_8_1),classHash:t,constructorCalldata:u,contractAddress:l,addressSalt:n,chainId:a.chainId,version:s,nonce:o});return{txId:b.hash,signature:{type:Nd.TransactionType.DEPLOY_ACCOUNT,version:s,signature:(0,jr.signatureToHexArray)(b.signature),nonce:(0,ja.toHex)(o),contract_address_salt:n,constructor_calldata:(0,jr.signatureToHexArray)(u),class_hash:(0,ja.toHex)(t),...qd(a,!1)}}}async signMessage(t){return this.signer.signMessage(t,this.address)}async hashMessage(t){return(0,w9.getMessageHash)(t,this.address)}async buildDeclarePayload(t,r){let{classHash:n,contract:i,compiledClassHash:a}=(0,oy.extractContractHashes)(t),s=(0,v9.parseContract)(i);if((0,uy.isUndefined)(a)&&(r.version===Os.ETransactionVersion3.F3||r.version===Os.ETransactionVersion3.V3))throw Error("V3 Transaction work with Cairo1 Contracts and require compiledClassHash");let o=r.skipValidate?[]:await this.signer.signDeclareTransaction({...r,...(0,jr.v3Details)(r,bn.SupportedRpcVersion.v0_8_1),classHash:n,compiledClassHash:a,senderAddress:r.walletAddress});return{senderAddress:r.walletAddress,signature:o,contract:s,compiledClassHash:a}}async buildAccountDeployPayload({classHash:t,addressSalt:r=0,constructorCalldata:n=[],contractAddress:i},a){let s=qc.CallData.compile(n),o=i??(0,cy.calculateContractAddressFromHash)(r,t,s,0),u=a.skipValidate?[]:await this.signer.signDeployAccountTransaction({...a,...(0,jr.v3Details)(a,bn.SupportedRpcVersion.v0_8_1),classHash:t,contractAddress:o,addressSalt:r,constructorCalldata:s});return{...(0,jr.v3Details)(a,bn.SupportedRpcVersion.v0_8_1),classHash:t,addressSalt:r,constructorCalldata:s,signature:u}}buildUDCContractPayload(t){return[].concat(t).map(n=>{let{classHash:i,salt:a="0",unique:s=!0,constructorCalldata:o=[]}=n,u=qc.CallData.compile(o);return{contractAddress:bn.UDC.ADDRESS,entrypoint:bn.UDC.ENTRYPOINT,calldata:[i,a,(0,ja.toCairoBool)(s),u.length,...u]}})}};Dc.Account=Dd});var ly=O(kc=>{g();_();Object.defineProperty(kc,"__esModule",{value:!0});kc.AccountInterface=void 0;var kd=class{};kc.AccountInterface=kd});var Hc=O(pi=>{g();_();var S9=pi&&pi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hy=pi&&pi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&S9(t,e,r)};Object.defineProperty(pi,"__esModule",{value:!0});hy(dy(),pi);hy(ly(),pi)});var by=O(yi=>{g();_();Object.defineProperty(yi,"__esModule",{value:!0});yi.bnToUint256=yi.isUint256=yi.uint256ToBN=void 0;var Hd=kn();function x9(e){return new Hd.CairoUint256(e).toBigInt()}yi.uint256ToBN=x9;function A9(e){return Hd.CairoUint256.is(e)}yi.isUint256=A9;function E9(e){return new Hd.CairoUint256(e).toUint256HexString()}yi.bnToUint256=E9});var Ld=O(pn=>{g();_();Object.defineProperty(pn,"__esModule",{value:!0});pn.validateChecksumAddress=pn.getChecksumAddress=pn.validateAndParseAddress=pn.addAddressPadding=void 0;var C9=Ui(),py=er(),Ua=Qt(),T9=Lr(),yy=Re(),M9=St();function my(e){let t=(0,yy.toHex)((0,M9.isString)(e)?(0,Ua.addHexPrefix)(e):e),r=(0,Ua.removeHexPrefix)(t).padStart(64,"0");return(0,Ua.addHexPrefix)(r)}pn.addAddressPadding=my;function gy(e){let t=my(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return(0,yy.assertInRange)(t,py.ZERO,py.ADDR_BOUND-1n,"Starknet Address"),t}pn.validateAndParseAddress=gy;function _y(e){let t=(0,Ua.removeHexPrefix)(gy(e)).toLowerCase().split(""),r=(0,Ua.removeHexPrefix)((0,T9.keccakBn)(e)),n=C9.base.fromHex(r.padStart(64,"0"));for(let i=0;i<t.length;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return(0,Ua.addHexPrefix)(t.join(""))}pn.getChecksumAddress=_y;function P9(e){return _y(e)===e}pn.validateChecksumAddress=P9});var vy=O(Ur=>{g();_();Object.defineProperty(Ur,"__esModule",{value:!0});Ur.accountClassHash=Ur.ProxyAccountClassHash=Ur.ETHBridge=Ur.STRK=Ur.ETH=void 0;Ur.ETH="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7";Ur.STRK="0x04718f5a0Fc34cC1AF16A1cdee98fFB20C31f5cD61D6Ab07201858f4287c938D";Ur.ETHBridge="0x073314940630fd6dcda0d772d4c972c4e0a9946bef9dabf4ef84eda8ef542b82";Ur.ProxyAccountClassHash="0x3530cc4759d78042f1b543bf797f5f3d647cde0388c33734cf91b7f7b9314a9";Ur.accountClassHash="0x309c042d3729173c7f2f91a34f04d8c509c1b292d334679ef1aabf8da0899cc"});var Ud=O(Vt=>{g();_();var I9=Vt&&Vt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B9=Vt&&Vt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jd=Vt&&Vt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&I9(t,e,r);return B9(t,e),t};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.CreateMultiContractCall=Vt.CreateContractCall=Vt.CreateTransferTx=Vt.CreateSignedDeployAccountTx=Vt.CalculateContractAddressFromHash=void 0;var jc=Hc(),O9=jd(cn()),Rd=jd(Lr()),Uc=jd(Ri()),Lc=Ai(),Vc=Qt(),N9=Ld(),Rc=vy();function wy(e){let t={implementation:Rc.accountClassHash,selector:Rd.getSelectorFromName("initialize"),calldata:Lc.CallData.compile({signer:e,guardian:"0"})},r=Rd.calculateContractAddressFromHash(e,Rc.ProxyAccountClassHash,Lc.CallData.compile(t),0);return(0,N9.addAddressPadding)(r)}Vt.CalculateContractAddressFromHash=wy;async function q9(e,t,r){let n=O9.starkCurve.getStarkKey(r),i=wy(n),a=new jc.Account(i,(0,Vc.addHexPrefix)(r)),s={implementation:Rc.accountClassHash,selector:Rd.getSelectorFromName("initialize"),calldata:Lc.CallData.compile({signer:n,guardian:"0"})},o=Lc.CallData.compile(s),u=await a.deployAccount({addressSalt:n,classHash:Rc.ProxyAccountClassHash,constructorCalldata:o,contractAddress:i},{chainId:t,resourceBounds:e});return{txId:u.txId,signature:Uc.stringify(u.signature)}}Vt.CreateSignedDeployAccountTx=q9;async function D9(e,t,r,n,i,a,s,o){let l=await new jc.Account(t,(0,Vc.addHexPrefix)(o)).execute({contractAddress:e,entrypoint:"transfer",calldata:[r,n,0]},{chainId:s,nonce:i,resourceBounds:a});return{txId:l.txId,signature:Uc.stringify(l.signature)}}Vt.CreateTransferTx=D9;async function k9(e,t,r,n,i,a,s,o){let u=new jc.Account(t,(0,Vc.addHexPrefix)(o));n||(n=[]);let l=await u.execute({contractAddress:e,entrypoint:r,calldata:n},{chainId:s,nonce:i,resourceBounds:a});return{txId:l.txId,signature:Uc.stringify(l.signature)}}Vt.CreateContractCall=k9;async function H9(e,t,r,n,i,a){let s=new jc.Account(e,(0,Vc.addHexPrefix)(a)),o=t.map(l=>({contractAddress:l.contract_address?l.contract_address:l.contractAddress,entrypoint:l.entry_point?l.entry_point:l.entrypoint,calldata:l.calldata})),u=await s.execute(o,{chainId:i,nonce:r,resourceBounds:n});return{txId:u.txId,signature:Uc.stringify(u.signature)}}Vt.CreateMultiContractCall=H9});var xy=O(vr=>{g();_();var L9=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),R9=vr&&vr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),j9=vr&&vr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&L9(t,e,r);return R9(t,e),t};Object.defineProperty(vr,"__esModule",{value:!0});vr.verifyMessage=vr.signMessage=vr.signMessageWithTypeData=void 0;var Sy=j9(cn()),U9=Hc(),V9=Qt(),F9=Ud(),Vd=si();async function K9(e,t){let r=Vd.signUtil.schnorr.stark.getPublicKey(t),n=Sy.starkCurve.getStarkKey(t),i=(0,F9.CalculateContractAddressFromHash)(n),a=new U9.Account(i,(0,V9.addHexPrefix)(t)),s=await a.signMessage(e),o=await a.hashMessage(e);return{signature:s,hash:o,publicKey:r}}vr.signMessageWithTypeData=K9;async function $9(e,t){let r=Vd.signUtil.schnorr.stark.getPublicKey(t);return{signature:Sy.starkCurve.sign(e,t),hash:e,publicKey:r}}vr.signMessage=$9;function z9(e,t,r){return Vd.signUtil.schnorr.stark.verify(e,t,r)}vr.verifyMessage=z9});var Cy=O(wr=>{g();_();var G9=wr&&wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y9=wr&&wr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X9=wr&&wr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&G9(t,e,r);return Y9(t,e),t};Object.defineProperty(wr,"__esModule",{value:!0});wr.modPrivateKey=wr.testSign=wr.GetRandomPrivateKey=void 0;var Ay=si(),Fd=Ui(),Kd=X9(cn());async function Z9(){for(;;){let e=Fd.base.randomBytes(32);if(W9(e)&&Ey(e.toString("hex")))return`0x${Ay.signUtil.schnorr.bytesToHex(e)}`}}wr.GetRandomPrivateKey=Z9;function Ey(e){let t="7465dd6b1bbffdb05442eb17f5ca38ad1aa78a6f56bf4415bdee219114a47a1",r=Kd.starkCurve.sign(t,e),n=Ay.signUtil.schnorr.stark.getPublicKey(e);return Kd.starkCurve.verify(r,t,n)}wr.testSign=Ey;function W9(e){let t=new Fd.BN(Array.from(e)),r=new Fd.BN(Kd.starkCurve.CURVE.n.toString());return t.cmp(r)<0&&!t.isZero()}var J9=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583");function Q9(e){let t;return!e.startsWith("0x")&&!e.startsWith("0X")?t=`0x${e}`:t=e,"0x"+(BigInt(t.toLowerCase())%J9).toString(16)}wr.modPrivateKey=Q9});var Iy=O(Fa=>{g();_();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.StarknetWallet=Fa.resourceBoundsFromRPC=void 0;var xe=Ui(),Va=si(),$e=By(),Ty=Re(),ew=di(),tw=er();function Py(e){let t=r=>"0x"+BigInt(r).toString(16);return{l1_gas:{max_amount:t(e.l1_gas_consumed),max_price_per_unit:t(e.l1_gas_price)},l1_data_gas:{max_amount:t(e.l1_data_gas_consumed),max_price_per_unit:t(e.l1_data_gas_price)},l2_gas:{max_amount:t(e.l2_gas_consumed),max_price_per_unit:t(e.l2_gas_price)}}}Fa.resourceBoundsFromRPC=Py;function rw(e){if(!e)return!1;let t=e.toLowerCase().startsWith("0x")?e.substring(2).toLowerCase():e.toLowerCase();return!(t.length===0||!t.match(/^[0-9A-Fa-f]*$/))}function My(e){if(!rw(e))return!1;let t=xe.base.fromHex(e.toLowerCase());return!(t.length<25||t.length>33||t.every(r=>r===0))}var $d=class extends xe.BaseWallet{getRandomPrivateKey(){return(0,$e.GetRandomPrivateKey)()}async getDerivedPath(t){return`m/44'/9004'/0'/0/${t.index}`}async getDerivedPrivateKey(t){return Va.bip39.mnemonicToSeedV2(t.mnemonic).then(r=>{let n=Va.bip32.fromSeedV2(r,"m/44'/60'/0'/0/0");if(!n.privateKey)return Promise.reject(xe.GenPrivateKeyError);let i=M.Buffer.from(n.privateKey),a=Va.bip32.fromSeedV2(i,t.hdPath);if(a.privateKey){let s=xe.base.toHex(a.privateKey),o=$e.ec.starkCurve.grindKey(s);return Promise.resolve(`0x${o}`)}else return Promise.reject(xe.GenPrivateKeyError)}).catch(r=>Promise.reject(xe.GenPrivateKeyError))}async getDerivedPrivateKeyOld(t){return Va.bip39.mnemonicToSeed(t.mnemonic).then(r=>{let n=Va.bip32.fromSeed(r).derivePath("m/44'/60'/0'/0/0");if(!n.privateKey)return Promise.reject(xe.GenPrivateKeyError);let i=M.Buffer.from(n.privateKey),a=Va.bip32.fromSeed(i).derivePath(t.hdPath);if(a.privateKey){let s=xe.base.toHex(a.privateKey),o=$e.ec.starkCurve.grindKey(s);return Promise.resolve(`0x${o}`)}else return Promise.reject(xe.GenPrivateKeyError)}).catch(r=>Promise.reject(xe.GenPrivateKeyError+":"+r))}async getNewAddress(t){if(!My(t.privateKey))throw new Error("invalid key");try{let r=(0,$e.modPrivateKey)(t.privateKey),n=$e.ec.starkCurve.getStarkKey(r),a={address:(0,$e.CalculateContractAddressFromHash)(n),publicKey:n};return Promise.resolve(a)}catch{return Promise.reject(xe.NewAddressError)}}async validPrivateKey(t){let n={isValid:My(t.privateKey),privateKey:t.privateKey};return Promise.resolve(n)}async signTransaction(t){try{if(!t.privateKey)return Promise.reject(xe.InvalidPrivateKeyError);let r=t.data;if(r.nonce===void 0)return Promise.reject(xe.SignTxError);let n=r.nonce,i=r.chainId||$e.constants.StarknetChainId.SN_MAIN,a=(0,ew.estimateFeeToBounds)(tw.ZERO);r.resourceBounds&&(a=Py(r.resourceBounds));let s=(0,$e.modPrivateKey)(t.privateKey);if(r.type=="transfer"&&r.transferData!==void 0){let o=r.transferData.contractAddress,u=r.transferData.from,l=r.transferData.to,b=r.transferData.amount;if(!(await this.validAddress({address:l})).isValid)return Promise.reject(xe.ValidAddressError);let v=await(0,$e.CreateTransferTx)(o,u,l,b,n,a,i,s);return Promise.resolve(v)}else if(r.type=="deploy_account"){let o=await(0,$e.CreateSignedDeployAccountTx)(a,i,s);return Promise.resolve(o)}else if(r.type=="contract_call"&&r.contractCallData!==void 0){let o=r.contractCallData.contractAddress,u=r.contractCallData.from,l=r.contractCallData.functionName,b=r.contractCallData.callData,h=await(0,$e.CreateContractCall)(o,u,l,b,n,a,i,s);return Promise.resolve(h)}else if(r.type=="multi_contract_call"&&r.multiContractCallData!==void 0){let o=r.multiContractCallData.from,u=r.multiContractCallData.calls,l=(0,$e.CreateMultiContractCall)(o,u,n,a,i,s);return Promise.resolve(l)}return Promise.reject(xe.SignTxError)}catch{return Promise.reject(xe.SignTxError)}}async validAddress(t){let r;try{(0,$e.validateAndParseAddress)(t.address),r=t.address.startsWith("0x")&&t.address.length>50}catch{r=!1}let n={isValid:r,address:t.address};return Promise.resolve(n)}async signMessage(t){if(!t.privateKey)return Promise.reject(`${xe.InvalidPrivateKeyError}: cannot be empty`);let{isValid:r}=await this.validPrivateKey({privateKey:t.privateKey});if(!r)return Promise.reject(`${xe.InvalidPrivateKeyError}: not valid private key`);try{let n=(0,$e.modPrivateKey)(t.privateKey);if(typeof t.data.message=="string"){let i=t.data.message;if(i.startsWith("0x")){let a=await(0,$e.signMessage)(i,n),s=a.signature,o={signature:{r:s.r,s:s.s,recovery:s.recovery},hash:a.hash,publicKey:a.publicKey};return Promise.resolve(o)}}else{let i=t.data.message,a=await(0,$e.signMessageWithTypeData)(i,n),s=a.signature,o={signature:{r:s.r,s:s.s,recovery:s.recovery},hash:a.hash,publicKey:a.publicKey};return Promise.resolve(o)}}catch{return Promise.reject(xe.SignTxError)}}async signCommonMsg(t){let r;if(t.message.text)r=t.message.text;else{let h=await this.getNewAddress({privateKey:t.privateKey});h.publicKey.startsWith("0x")&&(h.publicKey=h.publicKey.substring(2)),r=(0,xe.buildCommonSignMsg)(h.publicKey,t.message.walletId)}let n=xe.base.magicHash(r),i=n.slice(0,16),a=n.slice(16),s=(0,$e.computeHashOnElements)([(0,Ty.hexToDecimalString)(xe.base.toHex(i)),(0,Ty.hexToDecimalString)(xe.base.toHex(a))]);s.startsWith("0x")&&(s=s.substring(2));let o=(0,$e.modPrivateKey)(t.privateKey),u=$e.ec.starkCurve.sign(s,o),l=$e.ec.starkCurve.ProjectivePoint.fromHex(xe.base.toHex($e.ec.starkCurve.getPublicKey(o))),b={publicKey:l.x.toString(16),publicKeyY:l.y.toString(16),signedDataR:u.r.toString(16),signedDataS:u.s.toString(16)};return Promise.resolve(xe.base.toHex(xe.base.toUtf8((0,xe.jsonStringifyUniform)(b))))}verifyMessage(t){try{let r=t.data.signature,n=t.data.hash,i=t.data.publicKey;return Promise.resolve((0,$e.verifyMessage)(r,n,i))}catch(r){return Promise.reject(r)}}};Fa.StarknetWallet=$d});var By=O(ee=>{g();_();var Oy=ee&&ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nw=ee&&ee.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yn=ee&&ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Oy(t,e,r)},Vr=ee&&ee.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Oy(t,e,r);return nw(t,e),t};Object.defineProperty(ee,"__esModule",{value:!0});ee.typedData=ee.shortString=ee.uint256=ee.merkle=ee.ec=ee.stark=ee.transaction=ee.num=ee.json=ee.hash=ee.encode=ee.constants=void 0;yn(Md(),ee);yn(Jr(),ee);yn(Lr(),ee);yn(Hc(),ee);ee.constants=Vr(er());ee.encode=Vr(Qt());ee.hash=Vr(Lr());ee.json=Vr(Ri());ee.num=Vr(Re());ee.transaction=Vr(Ic());ee.stark=Vr(di());ee.ec=Vr(cn());ee.merkle=Vr(xd());ee.uint256=Vr(by());ee.shortString=Vr(Ar());ee.typedData=Vr(Oc());yn(Ld(),ee);yn(Ai(),ee);yn(xy(),ee);yn(Cy(),ee);yn(Ud(),ee);yn(Iy(),ee)});export{By as a};
//# sourceMappingURL=chunk-WEWK4QIO.js.map
