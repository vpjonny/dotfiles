import{b as si,c as li,f as Ci,g as Ti,l as bi,m as wi,n as Ri}from"./chunk-567ZSQZY.js";import{a as Ai,b as yi,c as Ii,d as Ei,e as Ni}from"./chunk-RRYQDZYV.js";import{a as qo}from"./chunk-AGXWN2TT.js";import{f as ci}from"./chunk-J63JN6ZK.js";import{C as Ko,D as Pr,E as Ho,F as Tt,G as Mr,H as G,I as Le,J as Wt,K as vi,N as v,O as Oi,p as Go,q as Or,r as mi,s as $t,t as Vt,v as Wo,x as hi,y as gi}from"./chunk-VHSFEXWL.js";import{b as ui}from"./chunk-MOM36K3J.js";import{k as Gt}from"./chunk-LOS6KRNX.js";import{a as fi}from"./chunk-O7CVD42X.js";import{a as pi}from"./chunk-LOGCUUNU.js";import{h as ct}from"./chunk-KUKFUJBA.js";import{d as oi,e as ni}from"./chunk-QR5EI5TJ.js";import{a as ae}from"./chunk-57DLZB3H.js";import{d as xi}from"./chunk-DLWPK36I.js";import{a as ii,b as Nr,d as at}from"./chunk-6KT3MJYR.js";import{g as Dr,n as ki}from"./chunk-ER33EHJQ.js";import{a as Lr}from"./chunk-LUU4SMIP.js";import{b as Si,e as _i}from"./chunk-LQG7SAW5.js";import{a as Ct}from"./chunk-CTJA2WQT.js";import{b as vr,c as ai}from"./chunk-XXAIJB4T.js";import{a as hs}from"./chunk-VPT3GAIN.js";import{b as di,c as Rr}from"./chunk-VJ2JNI4M.js";import{Ba as ne,C as Zs,Ga as ei,Ja as $o,Qa as ti,Wa as Vo,ab as ri,c as Ys,ra as R,s as Qs,t as jo,x as Js,xa as w}from"./chunk-22THXMTO.js";import{A as gt,B as we,a as yc,l as ps,z as st}from"./chunk-AHLFMVMC.js";import{a as je}from"./chunk-3DAKLS7D.js";import{g as qs,h as Ks,i as Hs,j as zs,k as Xs,l as wr,m as kr}from"./chunk-JVJHSYZS.js";import{A as Gs,B as Ws,a as Oe,f as Uo,h as $s,j as Bo,l as jt,m as Er,o as xr,p as Vs,z as Ae}from"./chunk-IFGNGASP.js";import{Aa as Ts,Bc as Z,Dc as ws,E as Ro,Ed as Rs,Fd as Fo,G as oe,Gb as Es,Gd as Os,Hb as Bt,Hd as Ls,He as k,Id as Ds,Jb as Ue,Jd as Ps,Ka as F,Kb as it,Kd as Ms,La as Oo,Lb as _t,Ma as Mt,Mc as Ir,Oa as Ft,Oc as ks,Ra as Ut,Rb as Po,Uc as Be,V as _s,_d as Fs,ab as bs,ae as Us,c as gs,ce as Bs,eb as As,g as Tr,h as br,ha as Cs,hd as Ns,ia as ke,id as vs,k as re,kb as Lo,l as Ss,lb as Do,m as Ar,n as yr,ob as St,rb as ys,sb as Is,ue as js,ya as be,yc as Mo,zc as xs}from"./chunk-NPJCEXXH.js";import{v as K}from"./chunk-5RLAMZDG.js";import{a as Cr}from"./chunk-Q2B4R57L.js";import{a as ns,b as me}from"./chunk-PJC4UBLU.js";import{a as os,b as ss,c as is,d as as}from"./chunk-HDMZQINQ.js";import{$ as nt,C as us,D as Pt,K as ds,N as fs,P as ms,S as _r,X as vo,f as cs,j as M,r as No,w as ls,z as ht}from"./chunk-JYNY5RZ4.js";import{a as Dt}from"./chunk-OAMYZMR4.js";import{f as O,h as l,n as S,o as d,p as h,q as f}from"./chunk-LHDKEQAM.js";d();f();nt();d();f();nt();d();f();d();f();var td=O(me());d();f();var Io=O(me());d();f();d();f();var zo={};function P(){let o;if(typeof globalThis<"u")o=globalThis;else if(typeof window<"u")o=window;else if(typeof globalThis<"u")o=globalThis;else throw new Error("unable to locate global object");return o}var H=o=>{let e=P(),t={_global_subscribe_list:{},_global_message_list:{},locale:"en_US"};return new Proxy(t,{get(r,n,s){if(n==="toJSON")return()=>{let c=e,u=c.okGlobal?{...c.okGlobal}:{},m=c._okGlobal?{...c._okGlobal}:{};return{...u,...m,...zo}};if(n==="toString")return()=>JSON.stringify(s.toJSON());let i=[zo,e._okGlobal,e.okGlobal];return o&&(i=o(i)),i.find(c=>c&&Object.prototype.hasOwnProperty.call(c,n))?.[n]},set(r,n,s){return zo[n]=s,!0}})};d();f();var A=()=>Boolean(typeof window>"u"||S.env.SSR_ENV);d();f();d();f();var te=O(Dt());d();f();d();f();d();f();d();f();d();f();d();f();d();f();d();f();d();f();var Li=["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"];d();f();d();f();var Mi=O(os());d();f();function Ic(o,e){var t,r;if(Array.prototype.indexOf)return o.indexOf(e);for(t=0,r=o.length;t<r;t++)if(o[t]===e)return t;return-1}function Ec(o,e,t){var r,n;if(Array.prototype.forEach)return o.forEach(e,t);for(r=0,n=o.length;r<n;r++)e.call(t,o[r],r,o)}function xc(o){return String.prototype.trim?o.trim():o.replace(/(^\s*)|(\s*$)/g,"")}function wc(o){var e=/\s|\n|\t/,t=e.exec(o);return t?t.index:-1}var ee={indexOf:Ic,forEach:Ec,trim:xc,spaceIndex:wc};var{FilterCSS:kc,getDefaultWhiteList:Nc}=Mi.default;function Fi(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"],picture:["class"],figure:["class"],button:["type","class"]}}var Ui=new kc;function vc(o,e,t){}function Rc(o,e,t){}function Oc(o,e,t){}function Lc(o,e,t){}function Bi(o){return o.replace(Pc,"&lt;").replace(Mc,"&gt;")}function Dc(o,e,t,r){if(t=qi(t),e==="href"||e==="src"){if(t=ee.trim(t),t==="#")return"#";if(!(t.substr(0,7)==="http://"||t.substr(0,8)==="https://"||t.substr(0,7)==="mailto:"||t.substr(0,4)==="tel:"||t.substr(0,11)==="data:image/"||t.substr(0,6)==="ftp://"||t.substr(0,2)==="./"||t.substr(0,3)==="../"||t[0]==="#"||t[0]==="/"))return""}else if(e==="background"){if(Fr.lastIndex=0,Fr.test(t))return""}else if(e==="style"){if(Di.lastIndex=0,Di.test(t)||(Pi.lastIndex=0,Pi.test(t)&&(Fr.lastIndex=0,Fr.test(t))))return"";r!==!1&&(r=r||Ui,t=r.process(t))}return t=Ki(t),t}var Pc=/</g,Mc=/>/g,Fc=/"/g,Uc=/&quot;/g,Bc=/&#([a-zA-Z0-9]*);?/gim,jc=/&colon;?/gim,$c=/&newline;?/gim,Fr=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Di=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Pi=/u\s*r\s*l\s*\(.*/gi;function ji(o){return o.replace(Fc,"&quot;")}function $i(o){return o.replace(Uc,'"')}function Vi(o){return o.replace(Bc,function(t,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function Gi(o){return o.replace(jc,":").replace($c," ")}function Wi(o){for(var e="",t=0,r=o.length;t<r;t++)e+=o.charCodeAt(t)<32?" ":o.charAt(t);return ee.trim(e)}function qi(o){return o=$i(o),o=Vi(o),o=Gi(o),o=Wi(o),o}function Ki(o){return o=ji(o),o=Bi(o),o}function Vc(){return""}function Gc(o,e){typeof e!="function"&&(e=function(){});var t=!Array.isArray(o);function r(i){return t?!0:ee.indexOf(o,i)!==-1}var n=[],s=!1;return{onIgnoreTag:function(i,a,c){if(r(i))if(c.isClosing){var u="[/removed]",m=c.position+u.length;return n.push([s!==!1?s:c.position,m]),s=!1,u}else return s||(s=c.position),"[removed]";else return e(i,a,c)},remove:function(i){var a="",c=0;return ee.forEach(n,function(u){a+=i.slice(c,u[0]),c=u[1]}),a+=i.slice(c),a}}}function Wc(o){for(var e="",t=0;t<o.length;){var r=o.indexOf("<!--",t);if(r===-1){e+=o.slice(t);break}e+=o.slice(t,r);var n=o.indexOf("-->",r);if(n===-1)break;t=n+3}return e}function qc(o){var e=o.split("");return e=e.filter(function(t){var r=t.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),e.join("")}var Kc=Fi(),Hc='"',zc=Ui,ue={whiteList:Kc,getDefaultWhiteList:Fi,onTag:vc,onIgnoreTag:Rc,onTagAttr:Oc,onIgnoreTagAttr:Lc,safeAttrValue:Dc,escapeHtml:Bi,escapeQuote:ji,unescapeQuote:$i,escapeHtmlEntities:Vi,escapeDangerHtml5Entities:Gi,clearNonPrintableCharacter:Wi,friendlyAttrValue:qi,escapeAttrValue:Ki,onIgnoreTagStripAll:Vc,StripTagBody:Gc,stripCommentTag:Wc,stripBlankChar:qc,attributeWrapSign:Hc,cssFilter:zc,getDefaultCSSWhiteList:Nc};d();f();function Xc(o){var e=ee.spaceIndex(o),t;return e===-1?t=o.slice(1,-1):t=o.slice(1,e+1),t=ee.trim(t).toLowerCase(),t.slice(0,1)==="/"&&(t=t.slice(1)),t.slice(-1)==="/"&&(t=t.slice(0,-1)),t}function Yc(o){return o.slice(0,2)==="</"}function Qc(o,e,t){"use strict";var r="",n=0,s=!1,i=!1,a=0,c=o.length,u="",m="";e:for(a=0;a<c;a++){var p=o.charAt(a);if(s===!1){if(p==="<"){s=a;continue}}else if(i===!1){if(p==="<"){r+=t(o.slice(n,a)),s=a,n=a;continue}if(p===">"||a===c-1){r+=t(o.slice(n,s)),m=o.slice(s,a+1),u=Xc(m),r+=e(s,r.length,u,m,Yc(m)),n=a+1,s=!1;continue}if(p==='"'||p==="'")for(var g=1,_=o.charAt(a-g);_.trim()===""||_==="=";){if(_==="="){i=p;continue e}_=o.charAt(a-++g)}}else if(p===i){i=!1;continue}}return n<c&&(r+=t(o.substr(n))),r}var Jc=/[^a-zA-Z0-9\\_:.-]/gim;function Zc(o,e){"use strict";var t=0,r=0,n=[],s=!1,i=o.length;function a(g,_){if(g=ee.trim(g),g=g.replace(Jc,"").toLowerCase(),!(g.length<1)){var C=e(g,_||"");C&&n.push(C)}}for(var c=0;c<i;c++){var u=o.charAt(c),m,p;if(s===!1&&u==="="){s=o.slice(t,c),t=c+1,r=o.charAt(t)==='"'||o.charAt(t)==="'"?t:tl(o,c+1);continue}if(s!==!1&&c===r){if(p=o.indexOf(u,c+1),p===-1)break;m=ee.trim(o.slice(r+1,p)),a(s,m),s=!1,c=p,t=c+1;continue}if(/\s|\n|\t/.test(u))if(o=o.replace(/\s|\n|\t/g," "),s===!1)if(p=el(o,c),p===-1){m=ee.trim(o.slice(t,c)),a(m),s=!1,t=c+1;continue}else{c=p-1;continue}else if(p=rl(o,c-1),p===-1){m=ee.trim(o.slice(t,c)),m=Hi(m),a(s,m),s=!1,t=c+1;continue}else continue}return t<o.length&&(s===!1?a(o.slice(t)):a(s,Hi(ee.trim(o.slice(t))))),ee.trim(n.join(" "))}function el(o,e){for(;e<o.length;e++){var t=o[e];if(t!==" ")return t==="="?e:-1}}function tl(o,e){for(;e<o.length;e++){var t=o[e];if(t!==" ")return t==="'"||t==='"'?e:-1}}function rl(o,e){for(;e>0;e--){var t=o[e];if(t!==" ")return t==="="?e:-1}}function ol(o){return o[0]==='"'&&o[o.length-1]==='"'||o[0]==="'"&&o[o.length-1]==="'"}function Hi(o){return ol(o)?o.substr(1,o.length-2):o}var Ur={parseTag:Qc,parseAttr:Zc};d();f();var zi=O(os());var{FilterCSS:nl}=zi.default,{parseTag:sl,parseAttr:il}=Ur;function Br(o){return o==null}function al(o){var e=ee.spaceIndex(o);if(e===-1)return{html:"",closing:o[o.length-2]==="/"};o=ee.trim(o.slice(e+1,-1));var t=o[o.length-1]==="/";return t&&(o=ee.trim(o.slice(0,-1))),{html:o,closing:t}}function cl(o){var e={};for(var t in o)e[t]=o[t];return e}function jr(o){o=cl(o||{}),o.stripIgnoreTag&&(o.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),o.onIgnoreTag=ue.onIgnoreTagStripAll),o.whiteList||o.allowList?o.whiteList=o.whiteList||o.allowList:o.whiteList=ue.whiteList,this.attributeWrapSign=o.singleQuotedAttributeValue===!0?"'":ue.attributeWrapSign,o.onTag=o.onTag||ue.onTag,o.onTagAttr=o.onTagAttr||ue.onTagAttr,o.onIgnoreTag=o.onIgnoreTag||ue.onIgnoreTag,o.onIgnoreTagAttr=o.onIgnoreTagAttr||ue.onIgnoreTagAttr,o.safeAttrValue=o.safeAttrValue||ue.safeAttrValue,o.escapeHtml=o.escapeHtml||ue.escapeHtml,this.options=o,o.css===!1?this.cssFilter=!1:(o.css=o.css||{},this.cssFilter=new nl(o.css))}jr.prototype.process=function(o){if(o=o||"",o=o.toString(),!o)return"";var e=this,t=e.options,r=t.whiteList,n=t.onTag,s=t.onIgnoreTag,i=t.onTagAttr,a=t.onIgnoreTagAttr,c=t.safeAttrValue,u=t.escapeHtml,m=e.attributeWrapSign,p=e.cssFilter;t.stripBlankChar&&(o=ue.stripBlankChar(o)),t.allowCommentTag||(o=ue.stripCommentTag(o));var g=!1;t.stripIgnoreTagBody&&(g=ue.StripTagBody(t.stripIgnoreTagBody,s),s=g.onIgnoreTag);var _=sl(o,function(C,T,y,b,E){var x={sourcePosition:C,position:T,isClosing:E,isWhite:Object.prototype.hasOwnProperty.call(r,y)},N=n(y,b,x);if(!Br(N))return N;if(x.isWhite){if(x.isClosing)return"</"+y+">";var V=al(b),I=r[y],q=il(V.html,function(L,B){var X=ee.indexOf(I,L)!==-1,le=i(y,L,B,X);return Br(le)?X?(B=c(y,L,B,p),B?L+"="+m+B+m:L):(le=a(y,L,B,X),Br(le)?void 0:le):le});return b="<"+y,q&&(b+=" "+q),V.closing&&(b+=" /"),b+=">",b}else return N=s(y,b,x),Br(N)?u(b):N},u);return g&&(_=g.remove(_)),_};var{whiteList:ll,getDefaultWhiteList:ul,onTag:dl,onIgnoreTag:fl,onTagAttr:ml,onIgnoreTagAttr:pl,safeAttrValue:hl,escapeHtml:gl,escapeQuote:Sl,unescapeQuote:_l,escapeHtmlEntities:Cl,escapeDangerHtml5Entities:Tl,clearNonPrintableCharacter:bl,friendlyAttrValue:Al,escapeAttrValue:yl,onIgnoreTagStripAll:Il,StripTagBody:El,stripCommentTag:xl,stripBlankChar:wl,attributeWrapSign:kl,cssFilter:Nl,getDefaultCSSWhiteList:vl}=ue,{parseTag:Rl,parseAttr:Ol}=Ur;function Ll(o,e){var t=new jr(e);return t.process(o)}var Xi={filterXSS:Ll,FilterXSS:jr,whiteList:ll,getDefaultWhiteList:ul,onTag:dl,onIgnoreTag:fl,onTagAttr:ml,onIgnoreTagAttr:pl,safeAttrValue:hl,escapeHtml:gl,escapeQuote:Sl,unescapeQuote:_l,escapeHtmlEntities:Cl,escapeDangerHtml5Entities:Tl,clearNonPrintableCharacter:bl,friendlyAttrValue:Al,escapeAttrValue:yl,onIgnoreTagStripAll:Il,StripTagBody:El,stripCommentTag:xl,stripBlankChar:wl,attributeWrapSign:kl,cssFilter:Nl,getDefaultCSSWhiteList:vl,parseTag:Rl,parseAttr:Ol};var $r=Xi,qt=$r.getDefaultWhiteList(),Dl=$r.escapeAttrValue,Xo={};Object.keys(qt).forEach(o=>{qt[o]=qt[o].concat(Li)});function Pl(o){let e={};for(let t in o)Array.isArray(o[t])?e[t.toLowerCase()]=o[t].map(r=>r.toLowerCase()):e[t.toLowerCase()]=o[t];return e}function Ml(o){let e=o?.mode||"escape",t=o?.whiteList,r=o?.allowHrefVariables||!1,n=qt;if(t){let i=Pl(t);n={...qt,...i}}let s=e==="escape";return new $r.FilterXSS({onTagAttr(i,a,c,u){if(u&&i==="a"&&a==="href"&&(c.startsWith("okex://")||c.startsWith("okx://")||c.startsWith("okxtr://")))return`${a}="${c}"`;if(u&&r&&i==="a"&&a==="href"&&c.startsWith("{")&&c.endsWith("}"))return`${a}="${c}"`},onIgnoreTagAttr(i,a,c){if(a.startsWith("data-")){let u=s?Dl(c):c.replace(/</g,"").replace(/>/g,"");return`${a}="${u}"`}},css:!1,escapeHtml:i=>s?$r.escapeHtml(i):i.replace(/</g,"").replace(/>/g,""),...o,whiteList:n})}function Fl(o,e){let t=JSON.stringify(e);return Xo[t]||(Xo[t]=Ml(e)),Xo[t].process(o)}var Yi=Fl;d();f();var Ul=["javascript:","view-source:","\\s*j\\s*a\\s*v\\s*a\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*:\\s*"],Yo={};function Bl(o,e,t){let r=`${o.join(",")}|${t.join(",")}`;if(!Yo[r]){let n=Ul.concat(t).filter(i=>!e.has(i)),s=new RegExp(n.join("|"),"gi");Yo[r]=s}return Yo[r]}function jl(o,e){let t=o,r="",n=e?.keywordsWhiteList||[],s=new Set(n),i=e?.keywordsBlackList||[],a=Bl(n,s,i);do r=t,t=t.replace(a,"");while(t!==r);return t}var Qi=jl;function Qo(o,e){let t=Yi(o,e);return t=Qi(t,e),t}function $l(o){let e,t=o,r=0;do e=t,t=decodeURIComponent(t),r++;while(t!==e&&r<5);return{decodeValue:t,count:r}}function Vl(o,e){let t=1,r=o;do t++,r=encodeURIComponent(r);while(t!==e);return r}function Gl(o){try{let{decodeValue:e,count:t}=$l(o);return e===o?{isEncode:!1,count:0}:{isEncode:e,count:t}}catch{return{isEncode:!1,count:0}}}function Kt(o,e,t){let{enableXssPurify:r,mode:n}=e;if(!r||o==null)return t(o);let{isEncode:s,count:i}=Gl(String(o));if(s&&typeof s=="string"){let a=Qo(s,{mode:n});return t(a===s?o:Vl(a,i))}return t(Qo(String(o),{mode:n}))}d();f();function bt(...o){let e=o[0];for(let t=1;t<o.length;t++){let r=o[t];r&&Object.keys(r).forEach(n=>{e[n]=r[n]})}return e}d();f();var Wl={get(o){let e=o;return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},set(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},Ji=Wl;d();f();d();f();var ql=H(),Kl=A(),qe=P(),W={debug(){},info(){},warn(){},error(){},timeStart(){},timeEnd(){},init(){}},Hl=()=>{if(qe.ssrUtils&&qe.ssrUtils.logger){let o=qe.ssrUtils.logger;W.debug=(...e)=>o.debug?.(...e),W.info=(...e)=>o.info?.(...e),W.warn=(...e)=>o.warn?.(...e),W.error=(...e)=>o.error?.(...e),W.timeStart=(...e)=>o.timeStart?.(...e),W.timeEnd=(...e)=>o.timeEnd?.(...e)}},Vr=({message:o,level:e,data:t})=>{let r={};t instanceof Error?r={error:t}:r={message:o,...t??{}};let n=Object.keys(r).find(i=>r[i]instanceof Error),s=n?r[n]:void 0;if(s){n&&delete r[n];let i=new Error;i.message=`${o} - ${s.message}`,i.name=s.name,i.stack=s.stack,qe.Sentry?.captureException(i,{...r,message:o,contexts:{report:{info:JSON.stringify(r)}}});return}qe.Sentry?.captureEvent({...r,message:o,level:e,contexts:{report:{info:JSON.stringify(r)}}})},zl=(o={})=>{let{dsn:e,version:t,traceId:r,injectableOptions:n={}}=qe?.__INIT_STATE__?.appContext||{},s=n?.reportOptions,i={};typeof s=="object"&&!Array.isArray(s)&&(i=s||{}),!(!e&&!o?.dsn&&!i.dsn)&&(qe.Sentry?.init({dsn:e,release:t,...o,...i},{debug:["dev","daily"].includes(ql.envSign)}),qe.Sentry?.setTag("traceId",r),W.debug=(a,c)=>Vr({message:a,level:"debug",data:c}),W.info=(a,c)=>Vr({message:a,level:"info",data:c}),W.warn=(a,c)=>Vr({message:a,level:"warn",data:c}),W.error=(a,c)=>Vr({message:a,level:"error",data:c}),W.timeStart=console.time,W.timeEnd=console.timeEnd)};W.init=Kl?Hl:zl;W.init();d();f();var Zi=["path","domain","overwrite","sameSite","encrypt","maxAge","expires","httpOnly","secure","signed"];var lt=H(),Gr=A(),Jo=null;function Xl(o){if(Gr||Jo)return;let e=o,t={};for(let r=0;r<e.length;r++){let n=e[r];typeof n=="string"&&n&&(t[n]=!0)}Jo=t}function ta(o,e){if(typeof o=="number"){let t=o*24*60*60,r=t;return typeof e=="number"&&t>e&&(r=e),new Date(Date.now()+r*1e3)}else if(o instanceof Date){let t=o;if(typeof e=="number"){let r=new Date(Date.now()+e*1e3);o>r&&(t=r)}return t}}function ea(o,e){e.length&&W.info(o),W.info(`[cookieAlarm]: "cookieWhiteList length is ${e.length}`)}function Zo(o){let{name:e,apiType:t,type:r,defaultCookieInterceptLevel:n,defaultCookieInterceptMaxAge:s}=o||{},i=t==="instance",a=lt?.cookieWhitelist||[];a.length===0&&(lt=H(),a=lt?.cookieWhitelist||[]),Xl(a);let c=i?lt?.cookieInterceptLevel||n||0:lt?.cookieInterceptLevel||0,u=i?lt?.cookieInterceptMaxAge||s:lt?.cookieInterceptMaxAge;if(e&&(Gr&&!a.includes(e)||!Gr&&!Jo?.[e])){let m=`[cookieAlarm]: "${e}" is not allowed to ${r}!`;if(c===1)ea(m,a);else if(c===2){ea(m,a);return}}return typeof u>"u"?!0:u}function ra(o){let e=!1;return Gr&&o&&Object.keys(o).every(n=>Zi.includes(n))&&(e=!0),e}var Ht=P(),Wr=A(),oa=typeof document>"u",Yl={path:"/"},At="ok_global",pe={cacheMap:{}},ut=class{constructor(e){l(this,"options");l(this,"converter");l(this,"attributes");l(this,"enableXssPurify");l(this,"mode");l(this,"initAttributes");l(this,"initConverter");this.options=e||{},this.converter=e?.converter||Ji,this.attributes=e?.attributes||Yl,this.enableXssPurify=e?.enableXssPurify===void 0?!0:e.enableXssPurify,this.mode=e?.mode||"escape",this.initAttributes={value:Object.freeze(this.attributes)},this.initConverter={value:Object.freeze(this.converter)}}init(e){return new ut(e)}closeXssPurify(){this.enableXssPurify=!1}setMode(e){this.mode=e}validateProjectName(e){if(e===At)throw new Error("ok_global is not allowed as a cookie name. Please use 'Cookies.g' instead.")}getApi(e,t={disableOkGlobal:!0}){if(arguments.length&&!e||(t?.disableOkGlobal&&this.validateProjectName(e),!Zo({apiType:"instance",type:"get",name:e,defaultCookieInterceptLevel:this.options?.cookieInterceptLevel,defaultCookieInterceptMaxAge:this.options?.cookieInterceptMaxAge})))return;if(Wr){let a=Ht?.ssrUtils?.cookies?.get(e);return a&&Kt(a,{enableXssPurify:this.enableXssPurify,mode:this.mode},c=>c)}if(oa)return;let n=document.cookie||"";if(e){if(e in pe.cacheMap&&n===pe.cachedCookie)return pe.cacheMap[e]}else if(pe.cacheCookieFullObj&&n===pe.cachedCookie)return pe.cacheCookieFullObj;if(e){let c=(n?n.split("; "):[]).find(u=>{let m=u.indexOf("=");if(m===-1)return!1;let p=u.substring(0,m);try{return decodeURIComponent(p)===e}catch{return!1}});if(c){let u=c.indexOf("="),m=c.substring(u+1);try{let p=this.converter.get(m,e),g=Kt(p,{enableXssPurify:this.enableXssPurify,mode:this.mode},_=>_);return n===pe.cachedCookie?pe.cacheMap[e]=g:pe={cachedCookie:n,cacheMap:{[e]:g},cacheCookieFullObj:void 0},g}catch{}}n===pe.cachedCookie?pe.cacheMap[e]=void 0:pe={cachedCookie:n,cacheMap:{[e]:void 0},cacheCookieFullObj:void 0};return}let s=n?n.split("; "):[],i={};return s.forEach(a=>{let c=a.indexOf("=");if(c===-1)return;let u=a.substring(0,c),m=a.substring(c+1);try{let p=decodeURIComponent(u),g=this.converter.get(m,p),_=Kt(g,{enableXssPurify:this.enableXssPurify,mode:this.mode},C=>C);i[p]=_}catch{}}),pe={cachedCookie:n,cacheMap:{...i},cacheCookieFullObj:i},i}setApi(e,t,r,n={disableOkGlobal:!0}){if(oa)return;n?.disableOkGlobal&&this.validateProjectName(e);let s=Zo({apiType:"instance",type:"set",name:e,defaultCookieInterceptLevel:this.options?.cookieInterceptLevel,defaultCookieInterceptMaxAge:this.options?.cookieInterceptMaxAge});if(!s)return;let i=ra(r),a=e,c={...r};if(c=bt({},this.attributes,c),c.expires){let m=ta(c.expires,s);m&&(c.expires=m.toUTCString())}a=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,encodeURIComponent);let u="";return Object.keys(c).forEach(m=>{!c[m]||(u+=`; ${m}`,c[m]!==!0&&(typeof c[m]=="number"&&(c[m]=String(c[m])),u+=`=${String(c[m]).split(";")[0]}`))}),Kt(t,{enableXssPurify:this.enableXssPurify,mode:this.mode},m=>{if(i)return Ht?.ssrUtils?.cookies?.set(a,m,c);let p=`${a}=${this.converter.set(m,a)}${u}`;return document.cookie=p,pe={cacheMap:{}},p})}set(e,t,r){return this.setApi(e,t,r)}get(e){return e===void 0?this.getApi():this.getApi(e)}get g(){let e=this;return{set(t,r){if(Wr)return Ht?.ssrUtils?.cookies?.g?.set(t,r);if(typeof t!="string"||!t||typeof r!="string"&&typeof r!="number")return!1;let n=e.getApi(At,{disableOkGlobal:!1}),s={};if(n&&typeof n=="string")try{n=decodeURIComponent(n),s=JSON.parse(n)}catch{}return e.setApi(At,JSON.stringify(Object.assign(s,{[t]:r})),{expires:1e3},{disableOkGlobal:!1})},get(t){if(Wr)return Ht?.ssrUtils?.cookies?.g?.get(t);let r=e.getApi(At,{disableOkGlobal:!1});try{return r&&typeof r=="string"?(r=decodeURIComponent(r),JSON.parse(r)[t]):void 0}catch{return}},remove(t){if(Wr){Ht?.ssrUtils?.cookies?.g?.set(t,void 0);return}let r=e.getApi(At,{disableOkGlobal:!1}),n={};if(r&&typeof r=="string")try{r=decodeURIComponent(r),n=JSON.parse(r)}catch{}n[t]&&(delete n[t],e.setApi(At,JSON.stringify(n),{expires:1e3},{disableOkGlobal:!1}))}}}remove(e,t){this.set(e,"",bt({},t,{expires:-1}))}withAttributes(e){return new ut({converter:this.initConverter.value,attributes:bt({},this.initAttributes.value,e)})}withConverter(e){return new ut({converter:bt({},this.initConverter.value,e),attributes:this.initAttributes.value})}},na=new ut;var en=na;var tn="ok_site_info",Ql=P(),on=A(),rn=o=>o.split("").reverse().join(""),Jl=o=>rn(on?h.Buffer.from(o).toString("base64"):window.btoa(o)),Zl=o=>{let e=rn(o);return on?h.Buffer.from(e,"base64").toString("utf-8"):window.atob(e)},nn=(o=!0)=>{let e=en.get(tn);if(!e)return o?{}:"";try{return o?JSON.parse(Zl(e)):e}catch{}return{}},sa=o=>{let e=nn();Object.keys(o).forEach(r=>{e[r]=o[r]});let t=Jl(JSON.stringify(e));on?Ql?.ssrUtils?.cookies?.set(tn,t):en.set(tn,t)};var eu=H(o=>[...o||[],{getSiteInfo:nn,setSiteInfo:sa}]),se=eu;var qr=()=>{let{locale:o=""}=se||{};return o.replace(/-/g,"_").toLowerCase()==="zh_cn"},ia={returnString:!1,isConvertToZero:!1,exponentialAt:[-7,20]},aa=()=>qr()?["\u4E07","\u4EBF"]:["M","B"],ca=()=>qr()?[1e4,1e8]:[1e6,1e9],Ke={K:"K",M:"M",B:"B",T:"T",P:"P",E:"E",Z:"Z",Y:"Y"},sn=[{min:0,max:10**3,sign:""},{min:10**3,max:10**6,sign:Ke.K},{min:10**6,max:10**9,sign:Ke.M},{min:10**9,max:10**12,sign:Ke.B},{min:10**12,max:10**15,sign:Ke.T},{min:10**15,max:10**18,sign:Ke.P},{min:10**18,max:10**21,sign:Ke.E},{min:10**21,max:10**24,sign:Ke.Z},{min:10**24,max:1/0,sign:Ke.Y}],la=[{min:1,max:100,digit:4},{min:100,max:1e5,digit:2},{min:1e5,max:1e6,digit:1},{min:1e6,max:1/0,digit:0}],ua=5,an=15;d();f();var da=O(Dt());function ye(o){return o&&+o}function dt(o){return typeof o!="string"&&typeof o!="number"||`${o}`.trim().length===0?!0:Number.isNaN(Number(o))}function cn(o,e){return e&&(o===void 0||Number.isNaN(o)||o===""||o===null)?0:o}function Kr(o,e){return!e&&o.endsWith("0")?new da.default(o).toFixed():o}var ln=o=>Object.prototype.toString.call(o)==="[object Object]";var un=class{constructor(e){l(this,"calcConfig");l(this,"bigNumber");l(this,"BigNumber",te.BigNumber);l(this,"convertNum",e=>{let{isConvertToZero:t}=this.calcConfig;return cn(e,t)});l(this,"config",e=>{let{calcConfig:t}=this;this.calcConfig={...t,...e}});l(this,"add",(e,t,r)=>{let{returnString:n}=r||this.calcConfig,s=this.bigNumber(e).plus(this.convertNum(t));return n?s.toFixed():s.toNumber()});l(this,"sub",(e,t,r)=>{let{returnString:n}=r||this.calcConfig,s=this.bigNumber(e).minus(this.convertNum(t));return n?s.toFixed():s.toNumber()});l(this,"mul",(e,t,r)=>{let{returnString:n}=r||this.calcConfig,s=this.bigNumber(e).times(this.convertNum(t));return n?s.toFixed():s.toNumber()});l(this,"div",(e,t,r)=>{let{returnString:n}=r||this.calcConfig;this.calcConfig.decimalPlaces=40;let s=this.bigNumber(e).div(this.convertNum(t));return n?s.toFixed():s.toNumber()});l(this,"safeDiv",(e,t,r)=>{let{returnString:n}=r||this.calcConfig;return Number(this.convertNum(t))===0?n?"0":0:this.div(e,this.convertNum(t),r)});l(this,"pow",(e,t,r)=>{let{returnString:n}=r||this.calcConfig;if(!Number.isInteger(+t))throw new Error("Exponent not an integer");if(+t<0)throw new Error("Exponent need more than 0");let s=this.bigNumber(e).exponentiatedBy(t);return n?s.toFixed():s.toNumber()});l(this,"digitLength",e=>this.bigNumber(e).dp());l(this,"ceilTruncate",(e,t,r=!0)=>{let n=ye(t);if(!r){let s=this.bigNumber(e).toFixed(Math.min(n,Number(this.digitLength(e))),te.BigNumber.ROUND_CEIL);return Kr(s,r)}return this.bigNumber(e).toFixed(n,te.BigNumber.ROUND_CEIL)});l(this,"floorTruncate",(e,t,r=!0)=>{let n=ye(t);if(!r){let s=this.bigNumber(e).toFixed(Math.min(n,this.digitLength(e)),te.BigNumber.ROUND_FLOOR);return Kr(s,r)}return this.bigNumber(e).toFixed(n,te.BigNumber.ROUND_FLOOR)});l(this,"truncate",(e,t,r=!0)=>{let n=ye(t);if(!r){let s=this.bigNumber(e).toFixed(Math.min(n,Number(this.digitLength(e))));return Kr(s,r)}return this.bigNumber(e).toFixed(n)});l(this,"ceilMul",(e,t,r,n=!0)=>{let s=ye(r),i=this.bigNumber(e).times(t).toFixed(s,te.BigNumber.ROUND_CEIL);return n?i:this.bigNumber(i).toFixed(Math.min(s,Number(this.digitLength(i))),te.BigNumber.ROUND_FLOOR)});l(this,"floorMul",(e,t,r,n=!0)=>{let s=ye(r),i=this.bigNumber(e).times(t).toFixed(s,te.BigNumber.ROUND_FLOOR);return n?i:this.bigNumber(i).toFixed(Math.min(s,Number(this.digitLength(i))),te.BigNumber.ROUND_FLOOR)});l(this,"ceilDiv",(e,t,r,n=!0)=>{let s=ye(r),i=this.bigNumber(e).div(t).toFixed(s,te.BigNumber.ROUND_CEIL);return n?i:this.bigNumber(i).toFixed(Math.min(s,Number(this.digitLength(i))),te.BigNumber.ROUND_FLOOR)});l(this,"safeCeilDiv",(e,t,r,n)=>{let s=r||0;return Number(t)===0?this.ceilDiv(0,1,s,n):this.ceilDiv(e,t,s,n)});l(this,"floorDiv",(e,t,r,n=!0)=>{let s=ye(r),i=this.bigNumber(e).div(t).toFixed(s,te.BigNumber.ROUND_FLOOR);return n?i:this.bigNumber(i).toFixed(Math.min(s,Number(this.digitLength(i))),te.BigNumber.ROUND_FLOOR)});l(this,"safeFloorDiv",(e,t,...r)=>Number(t)===0?this.floorDiv(0,1,...r):this.floorDiv(e,t,...r));l(this,"toPlainString",e=>this.bigNumber(e).toFixed());l(this,"lt",(e,t)=>this.bigNumber(e).lt(this.convertNum(t)));l(this,"lte",(e,t)=>this.bigNumber(e).lte(this.convertNum(t)));l(this,"gt",(e,t)=>this.bigNumber(e).gt(this.convertNum(t)));l(this,"gte",(e,t)=>this.bigNumber(e).gte(this.convertNum(t)));l(this,"eq",(e,t)=>this.bigNumber(e).eq(this.convertNum(t)));l(this,"max",(...e)=>{let{returnString:t}=this.calcConfig;return t?te.BigNumber.max(...e).toFixed():te.BigNumber.max(...e).toNumber()});l(this,"min",(...e)=>{let{returnString:t}=this.calcConfig;return t?te.BigNumber.min(...e).toFixed():te.BigNumber.min(...e).toNumber()});l(this,"sigDigs",(e,t=5)=>{let r=this.bigNumber(e),n=r.precision(t);return r.precision()<t?r.toPrecision(t):n.toString()});this.calcConfig={...ia,...e};let t=te.BigNumber.clone();this.bigNumber=r=>{let{isConvertToZero:n,exponentialAt:s,decimalPlaces:i}=this.calcConfig;return s&&t.config({EXPONENTIAL_AT:s}),i&&t.config({DECIMAL_PLACES:i}),new t(cn(r,n))}}},Hr=un;d();f();var Te=O(Dt());d();f();var va=O(Dt());d();f();var fa=A(),zt=P();function zr(){let o=zt.okMarkLocaleVarSign;return fa||!o}function ie(o,e=zt.okMarkLocaleVarSign||"",t){return!fa&&typeof zt?.getFalconNeededRes=="function"&&zt.getFalconNeededRes(t,o),zr()||!o?o:zt.okMarkLocale?.(o,e)||o}d();f();d();f();d();f();d();f();var Ie=O(ns()),Me=O(me());d();f();d();f();d();f();var yt="global",ma="PLEASE_INIT_INTL",Xr="NOT_A_NUMBER";var z={currency:"currency",percent:"percent",compact:"compact"},Xt={ceil:"ceil",floor:"floor"},He={code:"code",symbol:"symbol",narrowSymbol:"narrowSymbol",name:"name"},Yr={narrow:"narrow",short:"short",long:"long"};var dn=null,ze=P();function D(o=se?.locale||""){return o?o.replace(/_/g,"-"):"en-US"}function j(o){let e=o?.project||yt;return`${D(o?.locale)}@${e}`}function De(){return!!(A()&&ze?.ssrUtils?.setCache)}function Yt(){return!!(A()&&ze?.ssrUtils?.globalStore)}function Qt(o="SSRProviderModuleArray",e){if(e){let r=ze?.ssrUtils?.globalStore?.get(o);return Array.isArray(r)?r.some(s=>s?.ssrModuleName===e?.ssrModuleName)?void 0:(r.push(e),ze?.ssrUtils?.globalStore?.set(o,r)):ze?.ssrUtils?.globalStore?.set(o,[e])}return ze?.ssrUtils?.globalStore?.get(o)}function It(o,e){return e?ze?.ssrUtils?.setCache?.(`blade@localeStore@${o}`,e):ze?.ssrUtils?.getCache?.(`blade@localeStore@${o}`)}var Y={};function U(o,e){if(e?.useSington&&Y[j(e)])return;let t=is(),r=as({locale:D(e?.locale),messages:o,onError:n=>{dn=n}},t);if(De()&&e?.from){It(j(e),r);return}Y[j(e)]=r}function pa(){dn=null}function ha(){return dn}var tu=P();function Xe(o,e,t={},r=!1,n){let s={...t};r&&Object.keys(t).forEach(T=>{s[T]=ie(t[T],tu.okMarkLocaleVarInTextSign,{noNeedFilter:!0})});let{locale:i,project:a}=o,c=j({project:a,locale:D(i)}),u=Y[c];if(De()&&n==="i18n"&&(u=It(c)),!u){if(se?.envSign!=="prod")throw new Error(ma);return""}let m={id:e,defaultMessage:""},p={},g=u.messages[e],_=ga(g);u.messages[e]=_.res,Object.entries(_.tagMaps).forEach(([T,{isClose:y,isEnd:b,matchText:E,tag:x}])=>{if(!b){if(y){p[T]=()=>E;return}p[T]=N=>`${E}${N}</${x}>`}});let C=u.formatMessage(m,{...s,...p});return u.messages[e]=g,C}d();f();var ru="//static.coinall.ltd",fn="//okg-pub-hk.oss-cn-hongkong.aliyuncs.com",ou=()=>{let o=H(),{cdnBaseUrl:e=""}=o;(o.envSign==="daily"||o.envSign==="dev")&&(e=fn);let t=e||ru;return{BASE_URL_PUBLISH:`${t}/cdn/i18n/web`,BASE_URL_PREVIEW:`${t}/cdnpre/i18n/web`,BASE_URL_NOCDN_PUBLISH:`${fn}/cdn/i18n/web`,BASE_URL_NOCDN_PREVIEW:`${fn}/cdnpre/i18n/web`,LANGUAGE_VERSIONS:o.i18nVersion||{}}},Pe=ou;d();f();var{showKey:nu,showKeyMode:Sa,preview:su}=!A()&&typeof sessionStorage<"u"?sessionStorage:{},iu=nu==="777",au=Sa==="1",cu=Sa==="2",lu=su==="1",_a={isInDevMode:!1,usingRemote:!1,fetchBaseUrl:Pe().BASE_URL_PUBLISH,isShowKeyMode:iu,isShowKeyTips:au,isShowPureKey:cu,isPreview:lu,partsDataProvided:!1,hasLoadedModules:[],localeStore:{main:{}},localeDevStore:{main:{}},baseInitState:{fetchDone:!1,didMount:!1,didMountFns:[],errorTimes:0},localeState:{fetchModules:[],fetchConfigs:[]},SSRProviderModule:"SSRProviderModuleArray"},Ye=o=>{Object.assign(_a,o)},$=_a;var uu=/[\n]/g,du=/\{(\w+)}|(\n)|(\\n)+/g,mn=/<\/?[a-z][\s\S]*>/i,fu=/(\n)|(\\n)/g,Ta="en_US",hn=P();function ba(){return zr()?"":"data-locale-"}function Ca(o){let{isShowKeyMode:e}=$,t=ba(),r=[],n=0,s,i=0;for(;s=uu.exec(o);){let[a,c]=s,{index:u}=s;n<u&&r.push((0,Ie.jsx)(Me.Fragment,{children:o.slice(n,u)},`${t}${i++}`)),c||r.push((0,Ie.jsx)(Me.Fragment,{children:(0,Ie.jsx)("br",{})},`${t}${i++}`)),n=u+a.length}return n<o.length&&r.push((0,Ie.jsx)(Me.Fragment,{children:o.slice(n)},`${t}${i}`)),e?r:(0,Ie.jsx)(Me.Fragment,{children:r},`${t}${i}`)}function Aa(o,e){let t=ba(),{isShowKeyMode:r}=$,n=[],s=0,i,a=0;if(typeof o=="string"){for(;i=du.exec(o);){let[c,u]=i,{index:m}=i;s<m&&n.push((0,Ie.jsx)(Me.Fragment,{children:o.slice(s,m)},`${t}${a++}`)),(Object.keys(e||{})||[]).length!==0&&e?.[u]!==void 0&&e?.[u]!==null&&n.push((0,Ie.jsx)(Me.Fragment,{children:e[u]},`${t}${a++}`)),u===void 0&&n.push((0,Ie.jsx)(Me.Fragment,{children:(0,Ie.jsx)("br",{})},`${t}${a++}`)),s=m+c.length}s<o.length&&n.push((0,Ie.jsx)(Me.Fragment,{children:o.slice(s)},`${t}${a}`))}return r?n:(0,Ie.jsx)(Me.Fragment,{children:n},`${t}${a}`)}function de(o,e){let{i18nModulePrefix:t=""}=H(),r=new RegExp(`^${t}`);return t&&!e?o&&(o.startsWith(t)?o:`${t}${o}`):e&&t&&o&&o.startsWith(t)?o.replace(r,""):o}function gn(o,e){let t=`${o}`?.toLowerCase()?.replace(/-/g,"_"),r=/[\u4e00-\u9fa5]/gi;return t==="zh_cn"||t==="zh_tw"?!r.test(e):!1}function Zt(){try{if(!A()){let o=window.javaweb_locale||null;if(o)return o=o.replace(/\n/g,"\\n"),JSON.parse(o)}return null}catch{return null}}function ya(o,e,t,r,n){let s=setTimeout(()=>{window[`${o}`]||(t(e,r,n),clearTimeout(s))},1e3)}function $e(o,e,t="i18n"){let r=!A()&&hn?.location?.pathname||"",n=`${t} -- ${r?`${o} -- ${r}`:o}`;e&&(n=`${n} -- ${e}`);let s=typeof e=="object",i=typeof e=="object"&&e?.devid?e.devid:!A()&&typeof localStorage!==void 0&&localStorage.devid||"",a=s?{...e,devid:i}:{message:e,devid:i};W.info(n,{message:a,customConfig:{error:{type:o},project:{id:243,token:"2b65098fbd898b1419f8241753fbf146"}}})}function Jt(o,e,t,r=!1){let{isShowKeyMode:n,isShowPureKey:s,localeState:i}=$,a=hn.okMarkLocaleTextSign,{LANGUAGE_VERSIONS:c}=Pe();if(!n)return ie(e||"",a,{noNeedFilter:!0});if(s)return ie(o,a,{noNeedFilter:!0});let u=t,m=i.fetchConfigs[0];if(!m)return ie(e,a,{noNeedFilter:!0});u||(u=m.project);let{site:p}=m,{version:g}=m,_=c[u];return _&&(g=_),r?`showkeyWithJSX?key=${o}?site=${p}?partName=${t}?project=${u}?version=${g}?content=${e}?showkeyWithJSX`:`showkey?key=${o}?site=${p}?partName=${t}?project=${u}?version=${g}?content=${e}?showkey`}function pn(o){return Object.prototype.toString.call(o).includes("String")}function Ia(o={}){let{content:e}=o,{key:t,moduleName:r,handler:n={},useBr:s,withJSX:i,values:a={},currLocale:c,from:u="i18n"}=o;if(!e)return Jt(t,e,r);if(hn?.getFalconNeededRes&&ie(e,"",{originContent:!0,msg:{project:r,key:t,content:e}}),!n.hasBr&&mn.test(e)&&s&&(e=pn(e)?e.replace(fu,""):e),i)return Jt(t,e,r,i);if((Object.keys(a)||[]).length===0)return s&&pn(e)&&e.indexOf(`
`)>-1&&!n.hasBr&&!mn.test(e)?Ca(e):Jt(t,e,r,i);let p="";return p=Xe({project:r,locale:c?.toLowerCase()},t,a,!0,u),s&&pn(p)&&p.indexOf(`
`)>-1&&!n.hasBr&&!mn.test(e||"")?Ca(p):Jt(t,p,r,i)}var Ve=P(),mu=typeof Ve=="object"&&Ve!==null&&Ve.Object===Object&&Ve,pu=typeof Ve=="object"&&Ve!==null&&Ve.Object===Object&&Ve,hu=typeof self=="object"&&self!==null&&self.Object===Object&&self,fp=pu||mu||hu||Function("return this")();function Qe(o,e,t){let{locale:r,ipRegion:n,envSign:s,langPath:i,userAgent:a,site:c}=se||{};$e(o,{project:Ve.__INIT_STATE__?.appContext?.project,locale:r,ipRegion:n,envSign:s,langPath:i,userAgent:a,site:c,message:t},e)}d();f();var gu=P(),Qr=gu?.crypto,Jr={mathRandom:()=>Math.random(),cryptoRandom:o=>{let{bytesLength:e=1,UnitArray:t=Uint32Array}=o||{},r=new t(e);if(Qr)return Qr.getRandomValues(r);let n=2**(t.BYTES_PER_ELEMENT*8)-1;for(let s=0;s<e;s++)r[s]=Math.floor(Math.random()*n);return r},get:o=>{let{useMathRandom:e=!1}=o||{};if(e)return Jr.mathRandom();if(Qr){let t=new Uint32Array(1);return Qr.getRandomValues(t),t[0]/2**32}return Jr.mathRandom()}};function Sn(o,e){if(A())return e;let r=navigator?.userAgent?.match(/Chrome\/(\d+)/)?.[1];return(r==="88"||r==="89")&&o==="zh-CN"?e.replace("ddHH","ddhh"):e}function ga(o){let e=/<\s*(\/)?\s*([a-z]+)(?:\s+[^\/]+(?:\s*=\s*(?:[^/]+)|\"\S+\"|\'\S+\')?)?\s*(\/)?\s*>/gi,t={},r={},n=0,s=o,i=[],a=e.exec(o);for(;a!==null;)i.push(a),a=e.exec(o);return i.forEach(([c,u,m,p])=>{if(p)return;let g="";t[m]?(g=`</${t[m]}>`,Reflect.deleteProperty(t,m)):(t[m]=`tmp${n++}`,r[t[m]]={matchText:c,isClose:!!p,isEnd:!!u,tag:m},g=`<${t[m]}>`),s=s.replace(c,g)}),{res:s,tagMaps:r}}function Ea(o){return o&&["currency","percent","compact"].includes(o)}d();f();function Su(o,e){return e&&!/^(ar|th)/i.test(e)?o:o.replace(/[\u0660-\u0669]/g,t=>String(t.charCodeAt(0)-1632)).replace(/[\u0e50-\u0e59]/g,t=>String(t.charCodeAt(0)-3664))}function xa(o,e){let t=Su(o,e);t=t.replace(/\bGMT\b(?![+-])/g,"UTC"),t=t.replace(/\bGMT0\b/g,"UTC0");let r=/(\(?)[\[]?(GMT|UTC|غرينتش)[\]]?\s*([+-])\s*([0-9]+(?:[:.]?[0-9]+)?)(\)?)/gi;return t.replace(r,(s,i,a,c,u)=>{let m=u;return m.length===3&&!m.includes(":")&&!m.includes(".")&&(m=`${m.charAt(0)}:${m.substring(1)}`),m=m.replace(".",":"),m==="0"||m==="0:00"?"UTC":`(UTC${c}${m})`})}var _n={"tr-tr":(o,e,t)=>{let r=e;return o.startsWith("MMdd")&&(r=e.replace("/",".")),o.includes("z")&&(r=xa(r,t)),r},default:(o,e,t)=>{let r=e;return o.includes("z")?r=xa(r,t):t.includes("ar-")&&(r="\u200F"+r),r}};function Zr(o,e,t){let r=o.toLowerCase();return _n[r]!==void 0?_n[r](e,t,r):_n.default(e,t,r)}function wa(o,e="blade-intl"){let t=!A()&&globalThis?.location?.pathname||"",r=`${e} -- ${t}`;W.info(r,{message:"blade-formatDateTime-catch",customConfig:{error:{type:o},project:{id:243,token:"2b65098fbd898b1419f8241753fbf146"}}})}d();f();var Et=O(Dt());var _u={"en-in":()=>({groupSize:3,secondaryGroupSize:2}),"hi-in":()=>({groupSize:3,secondaryGroupSize:2}),"es-es":o=>({groupSize:o?.length===4?0:3}),"es-ar":o=>({groupSize:o?.length===4?0:3}),"pl-pl":o=>({groupSize:o?.length===4?0:3}),"pt-pt":o=>({groupSize:o?.length===4?0:3})};function Cn(o){let e=o?.bgValue?.e,t=!!`${o?.value}`.split("").find(m=>m==="."),r=/e[+-]|e\d/.test(`${o?.value}`),n=t&&!r?`${o?.value}`:o.bgValue.toFormat({groupSeparator:"",decimalSeparator:"."}),[s,i]=n?.trim().split("."),a=i?i.length:0;e&&e<0&&i&&Math.abs(e)>i.length&&(a=Math.abs(e)+2);let c={};(typeof o?.useGrouping!="boolean"||o?.useGrouping)&&(c=_u[o.locale.toLowerCase()]?.(s)||{groupSize:3});let u={decimalSeparator:o?.smallDigitalSymbol,groupSeparator:o?.micrometerSymbol,...c};return{decimalLen:a,bgFormatConfig:u}}function Tn(o,e,t){let r=o.replace("-",""),n=e.replace(/0/g,"").replace(/\d/,r),s={"es-419":()=>/\d%/.test(n)?n.replace(/%/,"\xA0%"):n};return s[t]&&s[t]()||n}function Cu(o){let{needZero:e,digit:t}=o,r=0;return e&&(r=t),r}function Tu(o){let{digit:e}=o,t=2;return e==0?t=0:e&&(t=e),t}function bu(o){switch(o){case Xt.ceil:return Et.default.ROUND_CEIL;case Xt.floor:return Et.default.ROUND_FLOOR;default:return Et.default.ROUND_HALF_UP}}function Au(o){return o===0?0:o}function yu(o){let e=o?.match(/\d/g);return e?e.length:-1}function Iu(o,e){try{let t=`${Number(o)}`,{res:r,roundingMode:n,digit:s=2,needZero:i,locale:a,micrometerSymbol:c,smallDigitalSymbol:u,useGrouping:m}=e,p=r.replace(/(\d)[\s,.](\d)/g,(L,B,X)=>B+X).replace(/-/,""),g=new RegExp(`\\${c}|\\+`,"g"),_=r?.replace(g,""),C=_?.indexOf(u);_?.includes(u)||(C=yu(_));let T=new RegExp(`(.{${C}})`),y=t?.replace(/\.|\+/,"")?.replace(T,"$1."),b=new Et.default(y),E=Au(s),x=b.toFixed(E,bu(n)),N=new Et.default(x),{bgFormatConfig:V}=Cn({bgValue:b,micrometerSymbol:c,smallDigitalSymbol:u,locale:a,value:t,useGrouping:m}),I;return typeof i>"u"||i?I=N.toFormat(E,V):I=N.toFormat(V),p.replace(/[\d]+/g,I)}catch(t){throw new Error(`Number short err: ${t}`)}}function bn(o,e,t){let{style:r,notation:n}=e,s=Cu(e),i=Tu(e),a=e?.roundingMode,c={},u=o;if(r===z.percent)u=1,o<0&&(u=-1),c={minimumFractionDigits:0,style:e?.style};else if(n===z.compact){let{digit:m,needZero:p,micrometerSymbol:g="",smallDigitalSymbol:_="",useGrouping:C}=e;c={notation:z.compact,compactDisplay:"short",minimumFractionDigits:20,maximumFractionDigits:20};let T=Y[j({locale:t})].formatNumber(u,c);return Iu(u,{digit:m,res:T,roundingMode:a,needZero:p,locale:t,micrometerSymbol:g,smallDigitalSymbol:_,useGrouping:C})}else c={style:e?.style,currency:e?.currency,currencyDisplay:He.narrowSymbol,minimumFractionDigits:s,maximumFractionDigits:i,roundingMode:a};return Y[j({locale:t})].formatNumber(u,c)}function ft(o,e,t){let r=o,{isRTL:n=!1}=H(),{signDisplay:s=!1,zeroSign:i="+"}=t||{};return s&&(e>0?r=`+${r}`:e==0&&i&&(r=`${typeof i=="string"?i:"+"}${r}`)),n&&(r=`\u200F\u200E${r}\u200F`),r}d();f();var Eu=["ar","he","fa","ur","ks","ps","ug","pa","sd"],Na=(o,e,t)=>{let r=1,n=Math.abs(e);return(o.length>1&&o!=="-1"||n>1||n===0)&&(r=2),(/^-/.test(o)||e===0&&t==="-")&&(r=-r),r},ka=(o,e)=>{let t,r=Math.abs(o);if(e){let n="\u0661",s="\u0662";t=r===1?new RegExp(`(?:${n}|1)`,"g"):new RegExp(`(?:${s}|2)`,"g")}else t=r===1?/1/g:/2/g;return t},An=o=>{let{signDisplay:e=!1,number:t,zeroSign:r="+"}=o,n=String(t),s=n;return!n?.includes("+")&&!n?.includes("-")&&e&&(t!=0?s=`+${n}`:t==0&&r&&(s=`${r}${n}`)),s},eo=(o,e)=>{let{stringValue:t,numberValue:r,code:n,locale:s,currencyDisplay:i,currencySign:a="",signDisplay:c,zeroSign:u="+",invalid:m=!1}=e,p=String(o),g=t;r===0&&u==="-"&&(g=`-${t}`);let _=i===He.narrowSymbol,C=Eu.some(T=>s?.startsWith(T));if(m&&_&&C)return`\u200F\u200E${An({number:g,signDisplay:c,zeroSign:u})}\xA0\u200F${a}\u200E\u200F`;try{U({},{locale:s,useSington:!0});let y=Y[j({locale:s})];pa();let b=c&&(r!==0||u),E=y.formatNumber(o,{style:z.currency,currency:n,currencyDisplay:i,minimumFractionDigits:0,maximumFractionDigits:0,...b?{signDisplay:"always"}:{}}),x=ha();if(x&&x.toString().includes("Invalid currency code"))return a?eo(o,{...e,code:"USD",invalid:!0}):An({number:g,signDisplay:c,zeroSign:u});if(m){let I=ka(o,C),q=t.replace(/^[+-]/,"");return E.replace(I,q).replace("US$",a).replace("$",a)}if(_&&C){let I=E.replace(/\u200F/g,"").replace(/\u200E/g,"").replace(/\u00A0/g,"").replace(/\u0661/g,"").replace(p,"");return`\u200F\u200E${g}\xA0\u200F${I}\u200E\u200F`}let N=ka(o,C),V=t.replace(/^[+-]/,"");return E.replace(N,V)}catch{return g}},yn=(o,e)=>{let t=H()?.isRTL,{currency:r=""}=e,{currencySign:n="",signDisplay:s,zeroSign:i,code:a,isSymbol:c=!0,forceLtr:u=!1}=e,m=An({number:o,signDisplay:s,zeroSign:i});if(!c&&a&&(r=a),!r&&!n)return m;let p=r&&!n;if(t){let y=p?` ${r}`:n;return`\u200F\u200E${m}\u200F${y}\u200F`}if(p)return u?`\u200E${m} ${r}\u200E`:`${m} ${r}`;let g=/^([-+])([^-+]+)$/,C=m.match(g)?.[1]||"",T=m.replace(C,"");return`${C}${n}${T}`};d();f();function he(o){let e={project:yt,locale:D(o),useSington:!0};U({},e);let t=Y[j(e)].formatNumber(10000.1);return{micrometerSymbol:t[2],smallDigitalSymbol:t.split("").reverse()[1]}}function Ce(o,e){let t=new va.default(o);if(Number.isNaN(t.toNumber())){if(se?.envSign!=="prod")throw new Error(Xr);return""}let r=D(e?.locale),{micrometerSymbol:n,smallDigitalSymbol:s}=he(r),{decimalLen:i,bgFormatConfig:a}=Cn({bgValue:t,micrometerSymbol:n,smallDigitalSymbol:s,locale:r,value:o,useGrouping:e?.useGrouping}),c=Ea(e?.style||e?.notation),u={...e,bgFormatConfig:a,micrometerSymbol:n,smallDigitalSymbol:s};if(typeof e?.needZero>"u"||e?.needZero){if(c&&e){let C=bn(o,u,r);if(e?.notation===z.compact||e?.style===z.currency){let T=ft(C,o,e);return ie(T)}else if(e?.style===z.percent&&!e?.needK){let T=Tn(t.toFormat(i,a),C,r),y=ft(T,o,e);return ie(y)}}let g=t.toFormat(i,a),_=ft(g,o,e);return ie(_)}if(c){let g=bn(t.toNumber(),u,r);if(e?.notation===z.compact||e?.style===z.currency){let _=ft(g,o,e);return ie(_)}else if(e?.style===z.percent&&!e?.needK){let _=Tn(t.toFormat(a),g,r),C=ft(_,o,e);return ie(C)}}let m=t.toFormat(a),p=ft(m,o,e);return ie(p)}function In(o,e){let t={groupSeparator:"",decimalSeparator:"."};return o&&e!==void 0&&e!==null?[e,t]:[t]}function En(o,...e){let[t,r=0,n=!0,s=2,i=!0]=e||[],a=se?.isRTL,c=aa(),u=ca(),m=new Te.BigNumber(t).abs(),p=1,g="",_=e.find(T=>ln(T))||{};if(m.isLessThan(new Te.BigNumber(u[0])))return o(t,r,{..._,needZero:n});m.isGreaterThanOrEqualTo(u[1])?(p=u[1],g=c[1]):(p=u[0],g=c[0]),Te.BigNumber.config({DECIMAL_PLACES:40});let C=o(new Te.BigNumber(t).div(p).toNumber(),s,{..._,needZero:i});return a?`${g}${C}`:`${C}${g}`}function xn(o,e){let t=e[0],{digit:r=0,needZero:n=!0,shortDigit:s=2,shortNeedZero:i=!0,needK:a=!0,needChineseUnit:c=!1}=e[1]||{},u=se?.isRTL,m=!(qr()&&c),p=a?["K","M","B"]:["M","B"],g=a?[1e3,1e6,1e9]:[1e6,1e9],_=m?p:["\u4E07","\u4EBF"],C=m?g:[1e4,1e8],T=new Te.BigNumber(t).abs(),y=1,b="",[E,x,N]=C,[V,I,q]=_,L=e.find(X=>ln(X))||{};if(T.isLessThan(new Te.BigNumber(E)))return o(t,r,{...L,needZero:n});y=N||x,b=q||I,N&&T.isGreaterThanOrEqualTo(x)&&T.isLessThan(new Te.BigNumber(N))&&(y=x,b=I),T.isGreaterThanOrEqualTo(E)&&T.isLessThan(new Te.BigNumber(x))&&(y=E,b=V),Te.BigNumber.config({DECIMAL_PLACES:40});let B=o(new Te.BigNumber(t).div(y).toNumber(),s,{...L,needZero:i});return u?`${b}${B}`:`${B}${b}`}var wn=class extends Hr{constructor(){super(...arguments);l(this,"thousandFormat",(t,r)=>dt(t)?"NaN":Ce(t,r));l(this,"showCeilTruncation",(t,r,n)=>{if(dt(t))return"NaN";let s=typeof n=="boolean"?{needZero:n}:n,i=s?.needZero===void 0?!0:s?.needZero,a=ye(r),c=this.bigNumber(this.bigNumber(t).toFixed(a,Te.BigNumber.ROUND_CEIL)).toFormat(...In(i,a));return Ce(c,{...s,needZero:i})});l(this,"showFloorTruncation",(t,r,n)=>{if(dt(t))return"NaN";let s=typeof n=="boolean"?{needZero:n}:n,i=s?.needZero===void 0?!0:s?.needZero,a=ye(r),c=this.bigNumber(this.bigNumber(t).toFixed(a,Te.BigNumber.ROUND_FLOOR)).toFormat(...In(i,a));return Ce(c,{...s,needZero:i})});l(this,"showTruncation",(t,r,n)=>{if(dt(t))return"NaN";let s=ye(r),i=typeof n=="boolean"?{needZero:n}:n,a=i?.needZero===void 0?!0:i?.needZero,c=this.bigNumber(this.bigNumber(t).toFixed(s)).toFormat(...In(a,s));return Ce(c,{...i,needZero:a})});l(this,"roundShort",(...t)=>En(this.showTruncation.bind(this),...t));l(this,"floorShort",(...t)=>En(this.showFloorTruncation.bind(this),...t));l(this,"ceilShort",(...t)=>En(this.showCeilTruncation.bind(this),...t));l(this,"roundTruncateShort",(...t)=>xn(this.showTruncation.bind(this),t));l(this,"floorTruncateShort",(...t)=>xn(this.showFloorTruncation.bind(this),t));l(this,"ceilTruncateShort",(...t)=>xn(this.showCeilTruncation.bind(this),t));l(this,"abbreviateFiat",(t,r)=>{if(dt(t))return"NaN";let n=+t;if(n===0)return"0";let s=0,i=10**-an;return Math.abs(n)<i?(s=an,n=n<0?-i:i):s=this.getFiatDigit(n),this.showTruncation(n,s,r)});l(this,"getFiatDigit",t=>{let r=0,n=Math.abs(+t);if(n<1){let i=this.toPlainString(t),a=i.length;return i=i.replace(/^0\.0*/,"0."),r=a-i.length+ua,r}return r=la.find(({min:i,max:a})=>n>=i&&n<a)?.digit||0,r})}num2Shorthand(t,r=2,n){let s=sn[0];if(dt(t))return"NaN";let i=Math.abs(+t),a=sn.find(({min:p,max:g})=>i>=p&&i<g)||s,{min:c,sign:u}=a;if(c===0)return this.showFloorTruncation(t,r,n);let m=this.div(t,c);return`${this.showFloorTruncation(m,r,n)}${u}`}},kn=wn;var xu=new kn;d();f();d();f();var Nn=class{constructor(){l(this,"slist");l(this,"remove",(e,t)=>{let r=this.slist[e];!r||!t||r.forEach((n,s)=>{n.id===t&&r.splice(s,1)})});l(this,"listen",(e,t,r=!1)=>{if(typeof t!="function")return null;this.slist[e]||(this.slist[e]=[]);let n=`${e}${this.slist[e].length}`;return this.slist[e].push({id:n,fn:t,once:r,count:0}),{id:n,remove:()=>{this.remove(e,n)}}});l(this,"trigger",(e,...t)=>{let r=this.slist[e];!r||r.length===0||r.forEach(n=>{let s=n,{id:i,fn:a,once:c}=s;a&&(a.apply(this,t),s.count++,c&&this.remove(e,i))})});this.slist=(()=>{if(A())return{};let e=P();return e._global_subscribe_list||(e._global_subscribe_list={}),e._global_subscribe_list})()}},Fe=new Nn;d();f();d();f();d();f();d();f();d();f();d();f();var Q="_expire",xt=P(),Ge=class{constructor(e,t){l(this,"storageKey");l(this,"projectKey");this.storageKey=e,this.projectKey=t}static isCorrectExpire(e){return typeof e<"u"&&Number.isInteger(Number(e))&&Number.isSafeInteger(e)&&e>new Date().getTime()}static isCorrectExpireSeconds(e){return typeof e<"u"&&Number.isInteger(e)&&Number.isSafeInteger(e)&&e>0}static getExpire(e){return new Date().getTime()+e*1e3}getProjectData(e){if(A())return{};let t=xt[this.storageKey].getItem(this.projectKey),r={};try{r=JSON.parse(t||"{}")}catch{r={}}let n={[Q]:{}},s=r[Q]||{};return Object.keys(r).forEach(i=>{i!==Q&&(s[i]===void 0||Ge.isCorrectExpire(s[i]))&&(n[i]=r[i],n[Q]&&(n[Q][i]=s[i]))}),e&&delete n[Q],n}get(e){return e==null||e instanceof Function||e instanceof Array||e instanceof Object?void 0:this.getProjectData()[e]}set(e,t,r){if(A()||e==null||e instanceof Function||e instanceof Array||e===Q)return!1;let n=this.getProjectData();if(!(e instanceof Object)){n[e]=t,typeof r<"u"&&Ge.isCorrectExpireSeconds(r)?(n[Q]||(n[Q]={}),n[Q][e]=Ge.getExpire(r)):n[Q]&&delete n[Q][e];try{return xt[this.storageKey].setItem(this.projectKey,JSON.stringify(n)),!0}catch{return!1}}return this.setAll(e,t)}setAll(e={},t={}){if(A())return!1;let r=this.getProjectData();Object.entries(e).forEach(n=>{let s=n[0];if(s===Q)return;let i=t[s];r[s]=n[1],Ge.isCorrectExpireSeconds(i)?(r[Q]||(r[Q]={}),r[Q][s]=Ge.getExpire(i)):r[Q]&&delete r[Q][s]});try{return xt[this.storageKey].setItem(this.projectKey,JSON.stringify(r)),!0}catch{return!1}}remove(e){if(A()||e==null||e instanceof Function||e.constructor&&e.constructor===Object)return!1;let t=[];e instanceof Array?t=e:t.push(e);let r=this.getProjectData();return t.forEach(n=>{delete r[n],r[Q]&&delete r[Q][n]}),xt[this.storageKey].setItem(this.projectKey,JSON.stringify(r)),!0}getAll(){return this.getProjectData(!0)}cleanAll(){A()||xt[this.storageKey].setItem(this.projectKey,JSON.stringify({}))}cleanInvalidData(){A()||xt[this.storageKey].setItem(this.projectKey,JSON.stringify(this.getProjectData()))}},ce=Ge;var Oa="ok_",Ra=`${Oa}global`,vn="localStorage",Rn=class extends ce{constructor(t){super(vn,Oa+t);l(this,"global");l(this,"g");this.global=new ce(vn,Ra),this.g=new ce(vn,Ra)}},La=Rn;d();f();var Pa="ok_",On="sessionStorage",Da=`${Pa}global`,Ln=class extends ce{constructor(t){super(On,Pa+t);l(this,"global");l(this,"g");this.global=new ce(On,Da),this.g=new ce(On,Da)}},Ma=Ln;var Dn=class{constructor(){l(this,"local");l(this,"session");this.local={},this.session={}}localProject(e){return this.local[e]||(this.local[e]=new La(e)),this.local[e]}sessionProject(e){return this.session[e]||(this.session[e]=new Ma(e)),this.session[e]}},er=new Dn;var Je="ok_",kt="default",Ua="global",rr="localStorage",or="sessionStorage",nr=Je+kt,Pn=Je+Ua;function ro(o){if(o===kt)throw new Error("'default' is not allowed as a project name.");if(o===Ua)throw new Error("'global' is not allowed as a project name. Please use 'storage.g' or 'storage.session.g' instead.");return o}function Ba(o,e,t){let r=new ce(o,e);return t?r.getAll():r.getProjectData()}function wt(o,e){if(A())return;new ce(o,e).cleanInvalidData()}var tr={get(o,e,t){return new ce(o,e).get(t)},set(o,e,t,r,n){return new ce(o,e).set(t,r,n)},remove(o,e,t){return new ce(o,e).remove(t)},getAll(o,e){return new ce(o,e).getAll()},cleanAll(o,e){return new ce(o,e).cleanAll()}};function to({isLocal:o,isGlobal:e}){function t(){return o?rr:or}function r(){return e?Pn:nr}return{set(n,s,i){return tr.set(t(),r(),n,s,i)},get(n){return tr.get(t(),r(),n)},remove(n){return tr.remove(t(),r(),n)},getAll(){return tr.getAll(t(),r())},cleanAll(){return tr.cleanAll(t(),r())}}}var Fa=(()=>{let o={...to({isLocal:!0,isGlobal:!0})};return{...to({isLocal:!0,isGlobal:!1}),getProjectStorage(e){return Ba(rr,Je+e,!0)},global:o,g:o}})();function wu(o){let{project:e}=o,t=ro(e);return nr=Je+t,wt(rr,nr),wt(rr,Pn),t!==kt&&wt(rr,Je+kt),er.localProject(t)}function ku(o){let e=ro(o);return er.localProject(e)}function Nu(o){let{project:e}=o,t=ro(e);return nr=Je+t,wt(or,nr),wt(or,Pn),t!==kt&&wt(or,Je+kt),er.sessionProject(t)}function vu(o){let e=ro(o);return er.sessionProject(e)}var Ru=(()=>{let o={...to({isLocal:!1,isGlobal:!0})};return{...to({isLocal:!1,isGlobal:!1}),getProjectStorage(e){return Ba(or,Je+e,!0)},global:o,g:o,init:Nu,getInstance:vu}})(),Ou={getInstance:ku,init:wu,session:Ru,...Fa,local:Fa},Nt=Ou;d();f();d();f();var Ee={get(o){if(A())return"";let e=new RegExp(`(^| )${o}=([^;]*)(;|$)`),t=!A()&&typeof document<"u"&&document?.cookie?.match(e);return t?decodeURIComponent(t[2]):""}};var Mn=H(),Lu="toLocale cannot be used outside of LocaleProvider, issue key is ";function Ne(o="",e,t,r){let{localeStore:n,localeDevStore:s,localeState:i,SSRProviderModule:a}=$;try{let{partName:c}=t||{},{withJSX:u,useBr:m=!0}=t||{};c=de(c||"");let p=c||i.fetchModules&&i.fetchModules[0]&&i.fetchModules[0].project||"main";p=de(p);let g=n[p],_,C;if(De&&De()){if(Yt()){let N=Qt(a),V=c?N?.find(I=>I?.ssrModuleName===c):void 0;_=V?.ssrModuleName||N?.[0]?.ssrModuleName,C=V?.ssrLocale||N?.[0]?.ssrLocale}let E=j({locale:C?.toLowerCase(),project:_});if(g=It(E)?.messages||{},A()&&C&&C!==Mn.locale?.toLowerCase()){if(Mn?.envSign!=="prod")throw new Error(`${Lu}${o}`);return""}}let T=i[p]?.locale||Mn.locale||!A()&&Ee.get("locale")||!A()&&Ee.get("language")||Ta;A()&&De()&&(p=_,T=C);let y=g&&g[o]||"";if($.isInDevMode&&!A()&&s[p]){let E=s[p][o];E&&(y=E)}return Ia({key:o,moduleName:p,handler:r,content:y,useBr:m,withJSX:u,values:e,currLocale:T,from:"i18n"})}catch(c){return console.log(c),""}}function sr(o="",e,t){let r=Ne(o,{},{...t,withJSX:!0},{hasBr:!0});return Aa(r,e)}function ir(o="",e,t={}){let r=Ne(o,e,t);return r&&typeof r=="object"&&"props"in r?r.props.children:r}function vt(o){let e=de(o,!0);Ne[e]=(t,r)=>Ne(t,r,{partName:o}),ir[e]=(t,r)=>ir(t,r,{partName:o}),sr[e]=(t,r)=>sr(t,r,{partName:o})}d();f();var Fn="MULTILINGUAL_OKDB",Du=9007199254740992,Un="okI18nVersion",ja=o=>{let t=Nt.g.get(Un)||{};t[o.project]||(t[o.project]={}),t[o.project][o.locale]=o.version,Nt.g.set(Un,t)};function xe(o){try{let e=new Date().getTime(),t=!o.err&&(e-(o?.startTime||0))/1e3||0;if(t>1){let r={...o?.msg,timeout:t};$e(o?.name,r)}else o.err&&$e(o?.name,o?.msg)}catch{$e("dbTimeOutReport-catch-err",o?.msg)}}var $a=(o,e)=>{if(!e)return null;if(localStorage.i18nDBversion=Number(e)+1,e>=Du)return window?.indexedDB?.deleteDatabase(Fn),Nt.g.set(Un,{}),null;let t={project:o.project,locale:o.locale,version:o.version},r=null;try{window?.indexedDB&&(r=window.indexedDB.open(Fn,Number(e)+1))}catch{return null}if(!r)return null;r.onsuccess=n=>{(n?.target?.result).close()},r.onerror=()=>{let n={name:"setDB-open-err",err:"err",msg:{...t,err:"open-err"}};xe(n)},r.onblocked=()=>{let n={name:"setDB-onblocked-err",err:"err",msg:{...t,err:"onblocked"}};xe(n)},r.onupgradeneeded=n=>{let s=n?.target?.result,i=null;try{if(s.objectStoreNames.contains(`${o.project}_${o.locale}`)){let a=n?.target?.transaction;if(!a)return;let c=a.objectStore(`${o.project}_${o.locale}`).put({project:o?.data.project,version:o?.data.version,data:JSON.stringify(o.data)});c.onsuccess=()=>{ja(o)},c.onerror=u=>{let m={err:"err",name:"setDB-put-db-err",msg:{...t,err:u?.target?.error}};xe(m),s?.close()}}else{i=s.createObjectStore(`${o.project}_${o.locale}`,{keyPath:"project"}),i.createIndex("project","project",{unique:!1});let a=n?.target?.transaction;if(!a)return;let c=a.objectStore(`${o.project}_${o.locale}`).add({project:o?.data.project,version:o?.data.version,data:JSON.stringify(o.data)});c.onsuccess=()=>{ja(o)},c.onerror=u=>{let m={err:"err",name:"setDB-add-db-err",msg:{...t,err:u?.target?.error}};xe(m),s?.close()}}}catch(a){let c={err:"err",name:"setDB-put-db-catch-err",msg:{...t,err:a instanceof Error?a.message:String(a)}};xe(c)}}},Va=(o,e,t)=>{let r=new Date().getTime(),n=null;try{window?.indexedDB&&(n=window.indexedDB.open(Fn))}catch{return t(o)}if(!n)return t(o);n.onsuccess=s=>{let i=s?.target?.result;try{if(i.objectStoreNames.contains(`${o.project}_${o.locale}`)){let a=i.transaction([`${o.project}_${o.locale}`]);a.oncomplete=()=>{i?.close()};let u=a.objectStore(`${o.project}_${o.locale}`).get(`${o.project}_${o.locale}`);u.onsuccess=()=>{if(u.result){let m=u.result,p={startTime:r,name:"getDB-got-db-timeout",msg:{...o}};xe(p),e(m)}else{let m={startTime:r,name:"getDB-nogot-db-timeout",msg:{...o}};xe(m),t(o)}},u.onerror=m=>{let p={startTime:r,name:"getDB-getRequest-onerror-timeout",msg:{...o,err:m?.target?.error}};xe(p),t(o),i?.close()}}else{let a={startTime:r,name:"getDB-no-storeNames-timeout",msg:{...o}};xe(a),t(o)}}catch(a){let c={startTime:r,name:"getDB-catch-err",err:"err",msg:{...o,err:a instanceof Error?a.message:String(a)}};xe(c),t(o),i?.close()}},n.onerror=s=>{let i={startTime:r,name:"getDB-onerror-err",err:"err",msg:{...o,err:s?.target?.error}};xe(i),t(o)},n.onblocked=s=>{let i={startTime:r,name:"getDB-onblocked-err",err:"err",msg:{...o,err:s?.target?.error}};xe(i),t(o)}};var Pu="okI18nVersion",no="en_US",so=H(),J=P();function Bn(o){if(!o)return null;let{site:e,project:t,version:r,resourceType:n="js",fetchBaseUrl:s=$.fetchBaseUrl}=o,{LANGUAGE_VERSIONS:i}=Pe(),a=o.locale||so.locale||!A()&&Ee.get("locale")||!A()&&Ee.get("language")||no,c=e?.toLowerCase(),u=t?.toLowerCase(),m=a&&a.toLowerCase&&a.toLowerCase().replace(/-/g,"_"),p=`${c}_${u}_${m}`,g=`${s}/${e}/${u}/${m}.${n}`,_=de(t,!0),C=i[_]||r;return{url:`${g}${C?`?v=${C}`:""}`,namespace:p,finalVersion:C,locale:a}}function Wa(o,e,t,r){let{localeDevStore:n,localeState:s}=$,a=s[e]?.locale||so?.locale||Ee.get("locale")||Ee.get("language")||no,c=Zt(),u=o||J[`${e}`]||{};U({...n[`${e}`],...u,...c,version:t,project:e},{locale:a.toLowerCase(),project:e});let m=[];s.fetchModules.forEach(_=>{_.project===e?m.push({..._,fetchDone:!0}):m.push(_)}),s.fetchModules=m,s[`${e}_${r}`]?.updateView?.();let g=s.fetchConfigs.find(_=>_.project===e);g?.fastRender&&g.onLocaleReady?.(o||J[`${e}`])}function oo(o,e,t,r){let{localeStore:n,localeDevStore:s,localeState:i,hasLoadedModules:a}=$,{onLocaleDataReady:c}=J||{},m=i[e.project]?.locale||so.locale||Ee.get("locale")||Ee.get("language")||no;!t&&J[`${e.project}`]&&!r&&!e.noCache&&J.addEventListener("load",()=>{try{let C=JSON.stringify(J[`${e.project}`]),T=gn(e.locale,C),y=localStorage.i18nDBversion||1e4;!T&&$a({project:e.project,locale:e.locale||"",version:e.version||"",data:{...J[`${e.project}`],project:`${e.project}_${e.locale}`,version:e.version||""}},Number.isNaN(y)?1e4:y)}catch{$e("i18n-multiLoaded-setDB-err",e)}});let p=t||{...J&&J[`${e.project}`],version:e.version,project:e.project},g=Zt(),_={...s[`${e.project}`],...p,...g};if(c&&c(t||(J&&J[`${e.project}`],{project:e.project})),U(_,{locale:m.toLowerCase(),project:e.project}),o){a.push(e.project),e?.resolveFn?.(_);return}if(!$.usingRemote){n[`${e.project}`]=t||J&&J[`${e.project}`];return}!i[`${e.project}_${e.flag}`]||(n[`${e.project}`]=t||J&&J[`${e.project}`],Wa(t,e.project,e.version,e.flag))}function Mu(o,e){let{localeState:t}=$,r=o.flag?t[`${o.project}_${o.flag}`]:t[o.project];typeof r.errorTimes=="number"&&(r.errorTimes+=1);let{errorTimes:n}=r;if(typeof n=="number"&&n>=4){$e("i18n-remote-data-err",o);return}if(n!==2){e({...o},!o.flag,!0);return}let s=no,i=o.locale||so.locale||Ee.get("locale")||Ee.get("language");if(n===2&&i!==s){let a=t.fetchConfigs.find(m=>m.project===o.project),c=o;a?(a.locale=s,a.flag=o.flag,t[o.project]=s):c.locale=s;let u=o.flag?{...a}:{...c};e(u,!o.flag,!0)}}function Rt(o,e,t){let r=document.createElement("script");r.setAttribute("src",o.url),r.onerror=e,r.onload=t,document.head.appendChild(r)}function io(o,e,t){let{localeState:r,hasLoadedModules:n}=$,{project:s,noCache:i,flag:a,noFetch:c,resolveFn:u}=o;e&&!t&&(r[s]={errorTimes:0});let m=Bn(o),p=m?.finalVersion;if(n.includes(s))return Wa(!1,s,p,a),o?.resolveFn&&o?.resolveFn(J[`${s}`]);let g=m?.locale,_=()=>{Mu(o,io)},C={project:s,version:p,locale:g,noCache:i,flag:a,resolveFn:u},T=()=>{oo(e,C,!1)};if(!A()&&window?.indexedDB&&typeof window?.indexedDB.open=="function"&&!i&&!c){let b=Nt.g.get(Pu)||{};(b[s]&&b[s][g]||"")===p?J[`${s}`]?oo(e,C,!1,!0):(Va({project:s,version:p,locale:g},N=>{if(N){let V=gn(g,N.data||""),I=JSON.parse(N.data);I&&!V&&(J[`${s}`]=I),p===N.version&&!V?oo(e,C,I):Rt(m,_,T)}else Rt(m,_,T)},()=>{Rt(m,_,T)}),ya(s,m,Rt,_,T)):J[`${s}`]?oo(e,C,J[`${s}`],!0):Rt(m,_,T)}else!c&&Rt(m,_,T),c&&T();return null}d();f();var co=O(ns()),Lt=O(me());var Ot={project:""},ao=H(),mt=A(),jn="en_US",Fu="ok_language",Uu="main",Bu="prod",qa=1;function ju(){let o=Date.now();return++qa,o+=qa,o}var $n=class extends Lt.default.Component{componentDidMount(){let{fetchConfig:e}=this.props;mt||e&&window&&window.react_locale_is_done&&window.react_locale_is_done()}render(){return(0,co.jsx)(Lt.Fragment,{children:this.props.children})}},lo=class extends Lt.default.Component{constructor(e){super(e);l(this,"flag");l(this,"unmount",!1);this.flag=ju();let{part:t={},isDev:r,localeData:n,fetchConfig:s={},partsData:i,noRemoteData:a}=this.props,{localeStore:c,localeDevStore:u,baseInitState:m,localeState:p,isPreview:g,isShowKeyMode:_,isShowKeyTips:C,hasLoadedModules:T,SSRProviderModule:y}=$,b=jn,E={...s,project:de(s?.project)},x={...t};x.project=de(x?.project||"");let{intl:N={}}=E;(Object.keys(N)||[]).length===0?b=E.locale||ao?.locale||jn:b=N.intlConfigs&&N.intlConfigs.locale||ao?.locale||jn;let I=x.project||E.project||Uu;if(n){let L=Zt();if(De()){let le=b.toLowerCase();c[I]={},c[I].moduleLanguage=b,Yt()&&Qt(y,{ssrModuleName:I,ssrLocale:le})}else c[I]={...n,...L};mt||(p[`${I}_${this.flag}`]={...m});let B={locale:b};p[I]=B,(mt||a)&&(U({...n,...L},{locale:b.toLowerCase(),project:I,from:"i18n"}),!p.fetchModules.find(ko=>I===ko?.project)&&p.fetchModules.push({project:I,flag:this.flag,fetchDone:!1}),a&&C&&_&&p.fetchConfigs.push(E));let X=T.includes(E.project);(r||X)&&(Ye({isInDevMode:!0}),u[I]=n,X&&U(n,{locale:b.toLowerCase(),project:I}),!E.project&&!E.site&&U(n,{locale:b.toLowerCase(),project:I})),!E.project&&p.fetchModules.length<1&&p.fetchModules.push({project:I})}if(_&&g){let L=localStorage.getItem(Fu),B=JSON.parse(L)||{},X=`${I}_${b.toLowerCase()}`,le=(B[X]||B[I]||{}).localData;c[I]=le,p[`${I}_${this.flag}`]={...m};let ko={locale:b};p[I]=ko,Ye({isInDevMode:!0}),u[I]=le}let{project:q=""}=E;if((mt||a)&&vt(q),!mt&&q&&!a){Ot=E,Ot.locale=b,ao.envSign&&ao.envSign!==Bu&&Ye({fetchBaseUrl:Pe().BASE_URL_PREVIEW}),E.noCdn===1&&Ye({fetchBaseUrl:Pe().BASE_URL_NOCDN_PREVIEW}),E.noCdn===2&&Ye({fetchBaseUrl:Pe().BASE_URL_NOCDN_PUBLISH}),c[q]=window?.[q]||{},p[`${q}_${this.flag}`]={...m};let L={locale:b};p[q]=L,p.fetchModules.push({flag:this.flag,project:q,fetchDone:!1}),p.fetchConfigs.find(X=>X.site===E.site&&X.project===E.project&&X.locale===E.locale)||p.fetchConfigs.push(E),Ye({usingRemote:!0}),vt(q)}else i&&(Ye({partsDataProvided:!0}),Object.keys(i).forEach(L=>{c[L]=i[L],vt(L),U(i[L],{locale:b.toLowerCase(),project:L})}));if(x.project){let L={...Ot};L.site=x.site,p.locale=Ot.locale,L.project=x.project;let B={...Ot,...L};p.fetchConfigs.push(B),mt?c[x.project]={}:c[x.project]=window?.[x.project]||{},p[`${x.project}_${this.flag}`]={...m};let X={locale:b};p[x.project]=X,p.fetchModules.push({project:x.project,fetchDone:!1,flag:this.flag}),$.usingRemote||$.partsDataProvided||(Ne[x.project]=Ne),vt(x.project)}}componentDidMount(){let{part:e={},fetchConfig:t={},noRemoteData:r}=this.props,{localeState:n}=$,s={...e},i={...t};i.project=de(i?.project||""),s.project=de(s?.project||"");let{project:a=""}=i,c=()=>{!this.unmount&&this.forceUpdate()};if(s.project||i){let u=s?.project?`${s.project}_${this.flag}`:null,m=n[u||`${i.project}_${this.flag}`];m&&(m.updateView=c)}if(!mt&&a&&!r){let u={...i,flag:this.flag};io(u)}if(s.project){let m={...{...Ot,site:s.site,project:s.project},flag:this.flag};io(m)}}componentWillUnmount(){let{localeState:e}=$;this.unmount=!0;let{part:t={},fetchConfig:r={},noRemoteData:n}=this.props,s={...t},i={...r},a=de(i?.project||""),c=de(s?.project||""),u=a||c,m=e.fetchModules.findIndex(p=>p?.project===u&&p.flag===this.flag);n||(delete e[`${u}_${this.flag}`],m>-1&&e?.fetchModules?.splice(m,1))}render(){let{part:e={},children:t,customRender:r,normalCsr:n,fetchConfig:s={}}=this.props,{localeState:i}=$,a={...e},c={...s};c.project=de(c?.project||""),a.project=de(a?.project||"");let u=typeof r=="function";if(!$.usingRemote)return(0,co.jsx)(Lt.Fragment,{children:t});if(a.project||c&&!c.fastRender){let m=a.project||c.project,p=i.fetchModules.find(T=>T.project===m&&T.flag===this.flag?T.fetchDone:!1),g=!p&&i.fetchModules.find(T=>T.project===m?T.fetchDone:!1),_=p||g,C=window?.__INIT_STATE__?.appContext?.isSSR;if(!_&&n||!_&&!C)return u?r(t,!1):null}return(0,co.jsx)($n,{fetchConfig:c,children:u?r(t,!0):t})}};var $u=Ne;var{localeStore:Kg}=$;d();f();d();f();d();f();var Vn=class{constructor(e=50){l(this,"cache",new Map);l(this,"keys");l(this,"keysIndex",0);this.keys=Array.from(new Array(e))}delete(e){this.keys=this.keys.map(t=>t===e?void 0:t),this.keysIndex=(this.keysIndex-1)%this.keys.length,this.cache.delete(e)}clear(){this.cache.clear(),this.keys.fill(void 0),this.keysIndex=0}get(e){return this.cache.get(e)}set(e,t){if(!this.keys.includes(e)){let r=this.keys[this.keysIndex];r!==void 0&&this.cache.delete(r),this.keys[this.keysIndex]=e,this.keysIndex=(this.keysIndex+1)%this.keys.length}this.cache.set(e,t)}},Ze=new Vn;d();f();var ve="ok-storagemutated",pt="ok-storagemutated-1";d();f();var ar=new Map;function Ka(o,...e){ar.set(o,!0),Fe.trigger(o,...e),ar.set(o,!1)}var cr=P(),Vu="storage";function Ha({data:o}){o&&o.type===pt&&Fe.trigger(ve,o.changedParts)}function za(){if(!A()){if(typeof BroadcastChannel<"u"){let o=new BroadcastChannel(pt);Fe.listen(ve,e=>{ar.get(ve)&&o.postMessage(e)},!1),o.onmessage=e=>{e?.data&&(Ze.clear(),Fe.trigger(ve,e.data))}}else if(typeof cr<"u"&&typeof navigator<"u"){Fe.listen(ve,e=>{typeof localStorage<"u"&&ar.get(ve)&&localStorage.setItem(pt,JSON.stringify({trig:Math.random(),type:pt,changedParts:e})),typeof cr?.clients=="object"&&[...cr?.clients.matchAll({includeUncontrolled:!0})].forEach(t=>{t.postMessage({type:pt,changedParts:e})})},!1),typeof cr?.addEventListener<"u"&&cr?.addEventListener(Vu,e=>{if(e.key===pt){let t=e.newValue?JSON.parse(e.newValue):null;t&&Ha({data:t})}});let o=self.document&&navigator.serviceWorker;o&&o.addEventListener("message",Ha)}}}d();f();function Gn(o,e){let t,r=!1,n;return{subscribe(s){async function i(){let u;try{t?u=await t:(t=o(),u=await t,t=null),r=!0,n=u,s(u,null)}catch(m){s(null,m)}}r&&s(n,null),i();function a(u){u===e&&i()}let c=Fe.listen(ve,a,!1);return{unsubscribe:()=>{c?.remove()}}},hasValue(){return r},getValue(){return n}}}d();f();function Gu(o,e,t){if(e==="$in"&&Array.isArray(t))return t.includes(o);if(typeof o=="number"&&typeof t=="number")switch(e){case"$eq":return o===t;case"$ne":return o!==t;case"$gt":return o>t;case"$lt":return o<t;case"$gte":return o>=t;case"$lte":return o<=t;default:break}throw new Error(`Unsupported operator or type: ${e}`)}function Wu(o,e){return Object.entries(e).every(([t,r])=>Gu(o,t,r))}function qu(o,e,t){return typeof t=="object"?Wu(o[e],t):o[e]===t}function Wn(o,e){let t=[],r=Object.entries(e);for(let n=0;n<r.length;n++){let[s,i]=r[n];t.push([s,i])}return t.every(([n,s])=>qu(o,n,s))}function lr(o,e){return o.filter(t=>Wn(t,e))}d();f();d();f();var uo=class{constructor(){l(this,"queue");l(this,"isProcessing");this.queue=[],this.isProcessing=!1}async enqueue(e){return new Promise((t,r)=>{this.queue.push({fn:e,resolve:t,reject:r}),this.isProcessing||this.processQueue()})}async processQueue(){if(this.queue.length===0){this.isProcessing=!1;return}this.isProcessing=!0;let{fn:e,resolve:t,reject:r}=this.queue.shift();try{let n=await e();t(n)}catch(n){r(n)}await this.processQueue()}};d();f();function Xa(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var fo="idb",et=new uo,ur=class{constructor({storeName:e,indices:t,options:r,db:n,enableCache:s}){l(this,"options");l(this,"db");l(this,"storeName");l(this,"enableCache");l(this,"indices");l(this,"transaction");l(this,"store");l(this,"storeExist");this.db=n,this.storeName=e,this.indices=t??[],this.options=r,this.enableCache=s??!0,this.storeExist=!1}createIndex(e,t,r){if(A())return!1;if(!this.db.autoVersion)throw new Error("Can not create index dynamically when version is set");let n={indexName:e,keyPath:t,options:r??{}};this.db.setVersion(this.db.vero+1);let s=this.db.storesConfig[this.storeName];return s?(s.indices?.length||(s.indices=[]),s.indices.push(n),this.indices.push(n),!0):!1}getPrimaryKey(){return typeof this.options?.keyPath=="string"?this.options?.keyPath:""}async performSpecialQuery(e){if(!e)return null;let t=this.indices,r=this.getPrimaryKey(),n=e?[r,...t.map(s=>typeof s.keyPath=="string"?s.keyPath:"")].find(s=>s&&Object.hasOwn(e,s)):void 0;if(n){let s=e[n];if(typeof s=="string"||typeof s=="number"){if(n===r)return{key:n,data:[await this.get(s)]};let i=t.find(a=>a.keyPath===n);if(i)return{key:n,data:await this.getAllFromIndex(i.indexName,s,!0)}}}return null}getCacheData(e){if(!this.enableCache)return null;let r=`${this.db.dbInfo.dbName}_${this.storeName}_${e}`;return Ze.get(r)}setCacheData(e,t){if(!this.enableCache)return;let r=this.db.dbInfo.dbName;Ze.set(`${r}_${this.storeName}_${e}`,t)}async getApi(e,t){if(A())return"";let{transaction:r,store:n}=await this.db.basicOpenStore("get",this.storeName);return this.transaction=r,this.store=n,new Promise((s,i)=>{let a=Array.isArray(t),c=e(),u=a?c:[c],m,p=a?t:[t],g=[];u.forEach((_,C)=>{let T=p[C];_.onsuccess=()=>{m=_.result;let b=_.source.keyPath;T&&this.getPrimaryKey()&&b===this.getPrimaryKey()&&m&&this.setCacheData(T,m),m&&(Array.isArray(m)?g.push([...m]):g.push(m))}}),r.oncomplete=()=>{this.db.db?.close(),this.db.versionChange&&(this.db.versionChange=!1),s(a?g:g[0])},r.onerror=_=>{let{name:C,message:T}=_?.target?.error||{};Qe(`${fo}-getDB-catch-err`,fo,`${C}: ${T}`),this.db.db?.close(),i(_)}})}async getFromIndex(e,t){return this.getAllFromIndex(e,t,!1)}async getAllFromIndex(e,t,r){return this.baseGet(t,n=>{let s=this.store.index(e);return r?s.getAll(n):s.get(n)},()=>null)}async get(e){return this.baseGet(e,t=>this.store.get(t),t=>this.getCacheData(t))}liveQuery(e){return Gn(()=>this.query(e),this.getQueryRange())}async query(e){let t=await this.performSpecialQuery(e);if(t){let n={...e};return delete n[t.key],lr(t.data,n)}let r=await this.getAll();return e?lr(r,e):r}async getAll(e,t){return et.enqueue(()=>this.getApi(()=>this.store.getAll(e,t)))}async getKey(e){return et.enqueue(()=>this.getApi(()=>this.store.getKey(e)))}async getAllKeys(){return et.enqueue(()=>this.getApi(()=>this.store.getAllKeys()))}async count(){return et.enqueue(()=>this.getApi(()=>this.store.count()))}onMutate(){Ka(ve,this.getQueryRange())}handleGetCache(e,t){let r=Array.isArray(e),n=[];if(r){let s=[...e];if(e.forEach((i,a)=>{let c=t(i);c&&(Array.isArray(c)?n.push(...c):n.push(c),s.splice(a,1))}),s.length===0)return n}else if(e){let s=t(e);if(s)return s}return null}async baseGet(e,t,r){let n=Array.isArray(e),s=this.handleGetCache(e,r);return s||await et.enqueue(()=>this.getApi(()=>n?e.map(a=>t(a)):t(e),e))}async setApi(e,{silent:t=!1}={}){if(A())return!1;let{transaction:r,store:n}=await this.db.basicOpenStore("set",this.storeName);return this.transaction=r,this.store=n,new Promise(async(s,i)=>{let a=g=>{Xa(g)},c=await e();if(!c){this.db.db?.close(),i(!1);return}let{request:u}=c,m=Array.isArray(u),p;m?(u.forEach(g=>{g.onerror=a}),p=u[u.length-1]):p=u,p.onsuccess=()=>{this.db.versionChange&&(this.db.versionChange=!1),this.db.db?.close(),s(!0),t||this.onMutate()},p.onerror=g=>{let{name:_,message:C}=g?.target?.error||{};Qe(`${fo}-setDB-catch-err`,fo,`${_}: ${C}`),i(!1),this.db.db?.close()}})}async set(e,{clear:t=!1,silent:r=!1}={}){let n=this.getPrimaryKey(),s=i=>{if(n){let a=e[n];a&&this.setCacheData(a,i)}};return et.enqueue(()=>this.setApi(()=>new Promise(i=>{let a=()=>{if(Array.isArray(e)){let c=e.map(u=>(s(u),this.store.put(u)));this.enableCache&&Ze.clear(),i({request:c,method:"set"});return}s(e),i({request:this.store.put(e),method:"set"})};if(t){let c=this.store.clear();c.onsuccess=()=>{a()},c.onerror=()=>{i(null)}}else a()}),{silent:r}))}async delete(e){return et.enqueue(()=>this.setApi(()=>{let t=this.store,r;return Array.isArray(e)?r=e:r=[e],{request:r.map(s=>(this.enableCache&&Ze.delete(`${this.db.dbInfo.dbName}_${this.storeName}_${s}`),t.delete(s))),method:"delete"}}))}getQueryRange(){return[this.db.dbInfo.dbName,this.storeName].join("_")}async clear(){return et.enqueue(()=>this.setApi(()=>(this.enableCache&&Ze.clear(),{request:this.store.clear(),method:"clear"})))}async deleteStore(e){return e?this.db.deleteStore(e):this.db.deleteStore(this.storeName)}openStore(e,t){return this.db.openStore(e,t)}getInstance(){return new Promise((e,t)=>{let r=indexedDB.open(this.db.dbName);r.onsuccess=()=>{let n=r?.result,s=n?.version,i=n?.objectStoreNames?.contains?.(this.storeName);this.storeExist=i,this.db.autoVersion&&(this.db.vero=s+1,i||this.db.setVersion(s+1)),n?.close(),e(this)},r.onerror=n=>{t(n?.target?.error)}})}setVersion(e){this.db.setVersion(e)}basicOpenStore(e,t){return this.db.basicOpenStore(e,t)}};var tt="idb";za();var dr=class{constructor(e){l(this,"dbInfo");l(this,"db");l(this,"store");l(this,"transaction");l(this,"stores");l(this,"storesConfig");l(this,"versionChange");l(this,"vero");l(this,"storeExist");l(this,"autoVersion");l(this,"dbName");let t;typeof e=="string"?t={dbName:e,config:{}}:typeof e=="object"?t=e:t={};let{dbName:r,config:n,version:s}=t;this.dbInfo={dbName:r??"FE"},this.dbName=`OK_${this.dbInfo.dbName.toUpperCase()}`,this.db=null,this.store=null,this.transaction=null,this.stores=new Map,this.storesConfig=n??{},this.versionChange=!1,this.autoVersion=typeof s>"u",this.vero=s??1,this.storeExist=!1,this.initStores()}initStores(){Object.keys(this.storesConfig).forEach(e=>{let{indices:t,options:r}=this.storesConfig[e];this.stores.has(e)||this.stores.set(e,new ur({storeName:e,indices:t,options:r,db:this}))})}static async deleteDb(e){if(!e)return!0;if(typeof e=="string"){let t=`OK_${e.toUpperCase()}`;return t==="OK_FE"?!0:new Promise((r,n)=>{let s=indexedDB.deleteDatabase(t);s.onsuccess=()=>{r(!0)},s.onerror=i=>{n(i)}})}if(Array.isArray(e)){let t=e.map(r=>{let n=`OK_${r.toUpperCase()}`;return n==="OK_FE"?!0:new Promise((s,i)=>{let a=indexedDB.deleteDatabase(n);a.onsuccess=()=>{s(!0)},a.onerror=c=>{i(c)}})});return Promise.all(t).then(r=>r.every(n=>n===!0))}return!0}setVersion(e){this.versionChange=!0,this.vero=e}basicOpenStore(e,t){let r=this.versionChange;return new Promise((n,s)=>{let i;if(r||!this.autoVersion){let a=this.vero;i=indexedDB.open(this.dbName,a)}else i=indexedDB.open(this.dbName);i.onupgradeneeded=a=>{try{let c=a.target,u=i?.result;this.db=u;let m;if(Object.keys(this.storesConfig).forEach(p=>{let g=this.storesConfig[p],{options:_,indices:C}=g;u.objectStoreNames.contains(p)?m=c.transaction.objectStore(p):m=u.createObjectStore(p,_),C?.forEach(T=>{let{indexName:y,keyPath:b,options:E}=T;m.indexNames.contains(y)||m.createIndex(y,b,E)});for(let T=0;T<m.indexNames.length;T++){let y=m.indexNames[T];C?.find(b=>b.indexName===y)||m.deleteIndex(y)}}),!this.autoVersion)for(let p=0;p<u.objectStoreNames.length;p++){let g=u.objectStoreNames[p];Object.keys(this.storesConfig).find(_=>_===g)||u.deleteObjectStore(g)}}catch(c){let{name:u,message:m}=c||{};Qe(`${tt}-openDB-catch-err-in-upgrade`,tt,`${u}: ${m}`)}},i.onsuccess=()=>{try{let a=i?.result;if(this.db=a,t){let c=e==="get"?"readonly":"readwrite",u=a.transaction(t,c),m=u.objectStore(t);n({store:m,transaction:u})}else n({store:null,transaction:null})}catch(a){let{name:c,message:u}=a||{};Qe(`${tt}-openDB-catch-err-in-success`,tt,`${c}: ${u}`),s(u)}},i.onerror=()=>{let{name:a,message:c}=i?.error||{};c?.includes?.("The connection was closed")||Qe(`${tt}-openDB-catch-err-in-error`,tt,`${a}: ${c}`),c?.includes?.("less than the existing version")?(indexedDB.deleteDatabase(this.dbName),s(new Error(`${c} Please reload the page!`))):s(c)},i.onblocked=()=>{let{name:a,message:c}=i?.error||{};Qe(`${tt}-openDB-catch-block`,tt,`${a}: ${c}`),s(new Error("Database is outdated, please reload the page!"))}})}static async openStore(e,t){return new dr().openStore(e,t)}async openStore(e,t){return this.stores.has(e)?this.stores.get(e):(this.storesConfig[e]={options:t},this.initStores(),this.stores.get(e).getInstance())}deleteStore(e){return A()?!1:new Promise((t,r)=>{if(!this.stores.get(e))return;let n=this.stores.get(e);delete this.storesConfig[e],this.stores.delete(e),n.getInstance().then(s=>{if(s.storeExist){let i=indexedDB.open(this.dbName,this.vero);i.onupgradeneeded=()=>{let a=i?.result;a?.deleteObjectStore?.(e),a?.close(),t(!0)},i.onerror=a=>{i?.result?.close(),r(a)}}}).catch(s=>{r(s)})})}},Ku=dr;d();f();d();f();d();f();function Hu(o){if(o instanceof Date||typeof o=="number")return o;if(typeof o=="string"){if(/^\d+$/.test(o)){let e=Number(o);if(!Number.isNaN(e))return e}return o}return o}function fr(o,e){let t,r=D(e?.locale),n=Hu(o);if(e?.format)try{let s=e.format;s?.includes("MMMdd")&&(s=s.replace("MMMdd","MMMd"));let i=Sn(r,s),c={...ss(i),...e};i.includes("z")&&(c.timeZoneName="shortOffset"),delete c.format,delete c.locale;let u={locale:r,useSington:!0};U({},u),t=Y[j(u)].formatDate(n,c),t=Zr(r,i,t)}catch{let i=e.format;i?.includes("MMMdd")&&(i=i.replace("MMMdd","MMMd"));let a=Sn(r,i),c={locale:r,project:a,useSington:!0};U({[a]:`{date, date, ::${a}}`},c),t=Xe(c,a,{date:o}),t=Zr(r,a,t),wa("formatDateTime")}else{let s={locale:r,useSington:!0};U({},s),t=Y[j(s)].formatDate(n,e),t=Zr(r,"",t)}return ie(t)}d();f();function mo(o,e,t){let r={locale:D(t?.locale),useSington:!0};return U({},r),Y[j(r)].formatRelativeTime(o,e,t)}d();f();function qn(o){let e=se?.isRTL,{sign:t=""}=o,{leftNumber:r,rightNumber:n}=o;return r||(r=""),n||(n=""),e?`\u200F${r}${t}\u200E${n}\u200F`:r+t+n}d();f();function po(o,e){try{let t=D(e?.locale),r={locale:t,useSington:!0};return U({},r),Y[j(r)].formatters.getDisplayNames(t,{type:z.currency,style:e?.style||Yr.long}).of(o)||o}catch{return o}}d();f();function ho(o){return se?.isRTL?o:`\u200E${o}\u200E`}d();f();function go(o,e){let r={locale:D(e?.locale),useSington:!0};return U({},r),Y[j(r)].formatPlural(o)!=="one"}d();f();function So(o,e){let{currencyDisplay:t="narrowSymbol",isSymbol:r=!0,code:n="",zeroSign:s="+"}=e,i=D(e?.locale),{smallDigitalSymbol:a}=he(i),c=String(o),u=Number(c.replace(a,"."));if(!n)return yn(o,e);if(!t||t===He.narrowSymbol){if(!r)return yn(o,e);let g=c.startsWith("-")||u===0&&s==="-"?-1:1;return eo(g,{...e,locale:i,stringValue:c,numberValue:u,currencyDisplay:t})}let m=Na(c,u,s);return eo(m,{...e,locale:i,currencySign:n,stringValue:c,numberValue:u})}d();f();function _o(o,e){return Ce(o,{...e,style:z.percent})}d();f();function Co(o,e){return Ce(o,{...e,notation:z.compact})}d();f();function To(o,e){if(typeof o!="string")return o;let{hasThousandSep:t=!1}=e||{},r=D(e?.locale),{micrometerSymbol:n}=he(r),s=o?.replace(/[\u200F\u200E]/g,"");return t||(s=s?.split(n).join("")),s?.split("")}d();f();function bo(o,e){let t=`${o}`?.replace(/[\u200F\u200E]/g,""),r=D(e?.locale),{smallDigitalSymbol:n,micrometerSymbol:s}=he(r),i=new RegExp(`\\${s}`,"g"),[a,c]=t.split(n),u=a.replace(i,""),m=Number(`${u}${c?`.${c}`:""}`);if(Number.isNaN(m)||t[0]!=="-"&&Number.isNaN(Number(t[0])))throw new Error(Xr);if(e?.handleInput){let p=!!t.split("").find(g=>g===n);return`${u}${p?".":""}${c===void 0?"":c}`}return m}d();f();function zu(o){let e=["\u2080","\u2081","\u2082","\u2083","\u2084","\u2085","\u2086","\u2087","\u2088","\u2089"],t="",r=o;for(;r>0;)t=e[r%10]+t,r=Math.floor(r/10);return`0${t}`}function Xu(o,e){let{smallDigitalSymbol:t}=e;if(typeof o!="string")return o;let r=o.indexOf(t);if(r===-1||o.indexOf(t,r+1)!==-1)return o;let n=o.slice(r+1),s=0;for(;s<n.length&&n[s]==="0";)s++;if(s<4)return o;let i=o.slice(0,r),a=zu(s)+n.slice(s);return`${i}${t}${a}`}function Ao(o,e){let t=D(e?.locale),{smallDigitalSymbol:r}=he(t),n={...e,smallDigitalSymbol:r};return Xu(o,n)}var yo=class{constructor(e={}){l(this,"intlConfigs");l(this,"formatNumber",(e,t)=>Ce(e,{...t,locale:t?.locale||this.intlConfigs.locale}));l(this,"formatMessage",(e,t,r,n=!1,s)=>Xe({...e,locale:e?.locale||this.intlConfigs.locale},t,r,n,s));l(this,"formatDateTime",(e,t)=>fr(e,{...t,locale:t?.locale||this.intlConfigs.locale}));l(this,"formatRange",e=>qn(e));l(this,"formatCurrency",(e,t)=>So(e,{...t,locale:t?.locale||this.intlConfigs.locale}));l(this,"formatRelativeTime",(e,t,r)=>mo(e,t||"second",{...r,locale:r?.locale||this.intlConfigs.locale}));l(this,"getCurrencyName",(e,t)=>po(e,{...t,locale:t?.locale||this.intlConfigs.locale}));l(this,"getNumberInfo",e=>he(e||this.intlConfigs.locale));l(this,"percent",(e,t)=>_o(e,{...t,locale:t?.locale||this.intlConfigs.locale}));l(this,"shortNumber",(e,t)=>Co(e,{...t,locale:t?.locale||this.intlConfigs.locale}));l(this,"splitNumber",(e,t)=>To(e,{...t,locale:t?.locale||this.intlConfigs.locale}));l(this,"parseLocaleNumber",(e,t)=>{let r=D(t?.locale||this.intlConfigs.locale);return bo(e,{...t,locale:r})});l(this,"zeroFoldedNum",(e,t)=>{let r=D(t?.locale||this.intlConfigs.locale),s=this.getNumberInfo(r)?.smallDigitalSymbol,i={...t,smallDigitalSymbol:s};return Ao(e,i)});l(this,"scientificNotation",(e,t)=>this.zeroFoldedNum(e,t));l(this,"forceLTR",e=>ho(e));l(this,"isPlural",(e,t)=>go(e,t));this.intlConfigs=e,this.intlConfigs=e}get locale(){return D(this.intlConfigs.locale)}init(e,t={}){U(e,{...t,locale:this.locale})}},Ya=new yo,Ju=Ya;d();f();var Qa=O(me());var sT=(0,Qa.createContext)({initialProps:{},getInitialProps:()=>Promise.reject(Error("You may forget to use InitialPropsProvider"))});d();f();var _T=O(me());d();f();var Kn=class{constructor(e){l(this,"_context",null);l(this,"getInitialProps",(...e)=>this._context?this._context.getInitialProps(...e):Promise.reject(Error("You may forget to use InitialPropsProvider")));Ar(this),this._updateContext(e)}get initialProps(){return this._context?this._context.initialProps:{}}_updateContext(e){this._context=e}},Ja=Kn;var Hn=null,ed=null;function zn(o){return Hn||(Hn=new Ja(ed)),o.prototype.initialPropsStore=Hn,o}d();f();d();f();d();f();d();f();d();f();d();f();d();f();nt();var Za=(o,e)=>!!o.find(r=>Number(e)===Number(r.chainId)),ec=o=>{if(!o)return!1;let{fromChainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:n}=o,s=[Ae(e)&&r,Ae(t)&&n];return!!ms(s,Boolean)};var{BigNumber:fe}=Oe,Xn=class{constructor(e){l(this,"defaultToken",{amount:"",prevAmount:"",balance:"",logoURI:"",coinId:"",decimals:"",usdPrice:"",tokenName:"",baseCoinId:"",tokenSymbol:"",tokenLogoUrl:"",isNativeToken:0,tokenContractAddress:"",isSafeMoonToken:"",isHoneypot:"",buyTaxes:"0",sellTaxes:"0",reverseReceiveAmount:"",chainId:""});l(this,"from",{...this.defaultToken});l(this,"to",{...this.defaultToken});l(this,"fromBalanceState",be.BALANCE_NOT_SHOW);l(this,"toBalanceState",be.BALANCE_NOT_SHOW);l(this,"fromBalanceRequestError",!1);l(this,"toBalanceRequestError",!1);l(this,"isBalanceLoading",!1);l(this,"visibleAddFunds",!1);l(this,"setFrom",e=>{this.from=e});l(this,"setTo",e=>{this.to=e});l(this,"maxDialogType",Ut.enough);l(this,"setMaxDialogType",e=>{this.maxDialogType=e});l(this,"checkMaxDialogTypeIsEnough",e=>Ut.enough===e);l(this,"typedValue","");l(this,"fromMax",!1);l(this,"independentField",Z.FROM);l(this,"singleTypedValue","");l(this,"singleFromMax",!1);l(this,"advanceSetTypedValue",(e="",t=!1,r="")=>{(r||this.commonStore.currentTab)===Be.SWAP?(this.singleTypedValue=e,this.singleFromMax=t):this.setTypeInput(e,t)});l(this,"needCrossChainDoubleConfirm",!1);l(this,"setNeedCrossChainDoubleConfirm",e=>{this.needCrossChainDoubleConfirm=e});l(this,"updateBtcFromBalance",async()=>this.computedIsFromBtcCoin?(await this.getTokenBalanceByAccount(Z.FROM,re(this.from)),!this.fromBalanceRequestError):!this.fromBalanceRequestError);l(this,"onClickMax",async()=>{Zs({button_name:"max"});let{isNativeToken:e}=this.from;this.setField(Z.FROM);let t="",r="";if(e===1){let[n,s]=await Promise.all([this.rootStore.quoteStore.fetchGasTokenFee(),this.updateBtcFromBalance()]);if(!s)return;let{balance:i,availableBalance:a}=this.from,c=(this.computedIsFromBtcCoin?a:i)||"0";if(n===-1)return;r=fe(c).minus(n);let u=r.isNegative();this.setMaxDialogType(u?Ut.insufficient:Ut.enough),u&&this.setShowAddFund(!0),this.showMaxDialog(),this.setShowMaxIcon(!0),t=u?"":r.toString()}else t=this.from.balance;this.advanceSetTypedValue(t,!0)});l(this,"setTypeInput",(e,t)=>{this.typedValue=e,this.fromMax=!!t});l(this,"setField",e=>{this.independentField=e});l(this,"quoteUpdateFromTo",e=>{let{receiveAmount:t="",fromTokenPrice:r="",toTokenPrice:n="",payAmount:s="",inputToTokenPrice:i="",toTokenValue:a="",fromTokenValue:c=""}=e||{};!this.computedIsExactIn&&t?(this.from.amount=s,this.to.amount=this.computedTypedValue,this.to.prevAmount=this.computedTypedValue,this.from.currentTime=new Date().getTime(),this.to.usdPrice=i):this.computedIsExactIn&&(this.from.amount=this.computedTypedValue,this.to.amount=t,this.from.prevAmount=this.computedTypedValue,this.to.currentTime=new Date().getTime(),this.to.usdPrice=n||a),this.to.reverseReceiveAmount=t,this.from.usdPrice=r||c});l(this,"checkAndGetTokenInfo",async({chainId:e,tokenContractAddress:t})=>{let[r,n]=await this.getTokenInfoAndBalance(e,t);return r?null:n.data});l(this,"getDexMultiDefaultTokenInfo",e=>{let{chainList:t}=this.commonStore,r=re(t).find(n=>Number(n.chainId)===Number(e??Mo))||{};return{fromDexMultiTokenInfoVO:{...r.dexDefaultFromToTokenShowVO?.fromDexMultiTokenInfoVO,reserveGas:r.reserveGas},toDexMultiTokenInfoVO:r.dexDefaultFromToTokenShowVO?.toDexMultiTokenInfoVO||{}}});l(this,"addressReplaceSymbol",e=>{let{fromDexMultiTokenInfoVO:t}=this.getDexMultiDefaultTokenInfo(e.chainId),{tokenSymbol:r,isNativeToken:n}=t;return n&&this.commonStore.getTokenAddress(e)===this.commonStore.getTokenAddress(t)?r:e?.tokenContractAddress});l(this,"symbolReplaceAddress",e=>this.tokenReplaceMainToken(e).tokenContractAddress);l(this,"validTokens",{});l(this,"fetchTokenInfo",async e=>{if(e.tokenContractAddress){let t=await this.checkAndGetTokenInfo(e);if(t?.tokenContractAddress){let n={...t,balance:t.amountNum,amount:e.amount||""},s=`${t.chainId}_${this.commonStore.getTokenAddress(t)}`;return this.validTokens[s]=!0,n}let r=`${e.chainId}_${this.commonStore.getTokenAddress(e)}`;return this.validTokens[r]=e.tokenContractAddress==ws,null}return null});l(this,"checkQueryToken",async(e,t=!0)=>{if(!Ae(e.chainId))return null;let r=e;if(Za(this.commonStore.chainList,Number(e.chainId))){let{from:s}=this.getInitializedValue(e.chainId);if(this.commonStore.getTokenAddress(e)===this.commonStore.getTokenAddress(s)&&t){let a=`${s?.chainId}_${this.commonStore.getTokenAddress(s)}`;return this.validTokens[a]=!0,s}let i=await this.fetchTokenInfo({chainId:Number(e.chainId),tokenContractAddress:e.tokenContractAddress});t?r=i||s:r=i}else r=null;return r});l(this,"updateFrom",e=>{(!this.commonStore.equalsToken(e,this.from)||this.from.balance!==e.balance)&&(this.setShowMaxIcon(!1),this.setShowAddFund(!1)),at(this.from,e)?this.from={...re(this.from),...e}:this.from={...re(this.from),...e,wsPriceData:{}}});l(this,"updateFromAmount",e=>{this.from.amount=e,e||(this.from.usdPrice="0"),this.from.prevAmount||(this.from.prevAmount=e)});l(this,"updateFromUsdPriceFromWs",(e={})=>{!at(e,this.from)||(this.from.wsPriceData=e,this.from.usdPrice=qo({realTimeTokenPrice:e.price,amount:this.from.amount,nonRealTimeTokenValue:this.from.usdPrice}))});l(this,"updateToUsdPriceFromWs",(e={})=>{!at(e,this.to)||(this.to.wsPriceData=e,this.to.usdPrice=qo({realTimeTokenPrice:e.price,amount:this.to.amount,nonRealTimeTokenValue:this.to.usdPrice}))});l(this,"updateTo",e=>{at(this.to,e)?this.to={...re(this.to),...e}:this.to={...re(this.to),...e,wsPriceData:{}}});l(this,"hideMaxDialog",!!je.get(Lo));l(this,"hideMaxDialogLessGas",!!je.get(Do));l(this,"setStorageShowMaxDialog",e=>{if(e){let t=this.checkMaxDialogTypeIsEnough(this.maxDialogType);je.set(t?Lo:Do,"1"),t?this.hideMaxDialog=!0:this.hideMaxDialogLessGas=!0}this.visibleMaxDialog=!1});l(this,"visibleMaxDialog",!1);l(this,"showMaxDialog",()=>{let e=this.checkMaxDialogTypeIsEnough(this.maxDialogType);e&&this.hideMaxDialog||!e&&this.hideMaxDialogLessGas||(this.visibleMaxDialog=!0)});l(this,"showMaxIcon",!1);l(this,"setShowMaxIcon",e=>{this.showMaxIcon=e});l(this,"showAddFund",!1);l(this,"setShowAddFund",e=>{this.showAddFund=e});l(this,"setFromBalanceRequestError",e=>{this.fromBalanceRequestError=e});l(this,"setToBalanceRequestError",e=>{this.toBalanceRequestError=e});l(this,"resetBalanceState",()=>{this.setShowMaxIcon(!1),this.setShowAddFund(!1),[this.fromBalanceRequestError,this.toBalanceRequestError]=[this.toBalanceRequestError,this.fromBalanceRequestError]});l(this,"onSwitchFromTo",async()=>{if(!this.isBalanceLoading){this.rootStore.quoteStore.quoteScope=null;let[e,t]=[re(this.from),re(this.to)];this.resetBalanceState();let r={amount:this.computedTypedValue??"",prevAmount:this.computedTypedValue??"",usdPrice:""},n={amount:"",prevAmount:"",usdPrice:""};this.setNeedCrossChainDoubleConfirm(!0),this.setField(Z.FROM),this.computedIsSingleChain?(this.setCacheTokenInfo({chainId:t.chainId,tokenContractAddress:t.tokenContractAddress,amountNum:t.balance},"switchFromTo"),this.setFrom({...t,...r})):(this.rootStore.quoteStore.setQuoteNumber(this.computedTypedValue?0:2),this.setCacheTokenInfo({chainId:t.chainId,tokenContractAddress:t.tokenContractAddress,amountNum:t.balance},"switchFromTo"),this.setFrom({...t,amount:t.amount||"",prevAmount:t.amount||"",usdPrice:""})),this.setTo({...e,...n}),this.advanceSetTypedValue(t.amount),this.rootStore.receiveAddressStore.clearReceiveAddressValue()}});l(this,"getChainInfo",e=>{let{chainList:t}=this.commonStore;return t.find(n=>Number(n.chainId)===Number(e))||{}});l(this,"getInitializedValue",(e=Mo)=>{let t=this.getChainInfo(e),{fromDexMultiTokenInfoVO:r,toDexMultiTokenInfoVO:n}=t?.dexDefaultFromToTokenShowVO||{fromDexMultiTokenInfoVO:{},toDexMultiTokenInfoVO:{}},s={...re(r),balance:"",reserveGas:t?.reserveGas},i={...re(n),balance:""};return{from:s,to:i}});l(this,"resetFromTo",async e=>{let{chainList:t,currentTab:r}=this.commonStore,n=r===Be.BRIDGE;if(Number(e)!==Number(this.from.chainId)){let s=re(t).find(m=>Number(m.chainId)===Number(e)),{fromDexMultiTokenInfoVO:i,toDexMultiTokenInfoVO:a,toCrossDexMultiTokenInfoVO:c}=s?.dexDefaultFromToTokenShowVO||{fromDexMultiTokenInfoVO:{},toDexMultiTokenInfoVO:{}};this.from={...re(i),balance:"",reserveGas:s?.reserveGas};let u=n&&c||a;this.to={...re(u),balance:""}}});l(this,"clearFromTo",()=>{this.from={},this.to={}});l(this,"updateBalanceIfNativeToken",(e,t)=>{t.isNativeToken?this.getTokenBalanceByAccount(e,t,!1).catch(cs):(this.setFromBalanceRequestError(!1),this.setBalance(e,t.amountNum))});l(this,"getSwapTokenBalance",(e=!1)=>{this.getTokenBalanceByAccount(Z.FROM,re(this.from),e).catch(()=>{}),this.getTokenBalanceByAccount(Z.TO,re(this.to),e).catch(()=>{})});l(this,"getTokenInfoAndBalance",async(e,t)=>{let r=this.accountStore.getAddressByChainId(e),n={chainId:e,tokenAddress:t,userUniqueId:this.commonStore.userUniqueId,accountId:this.accountStore.computedAccountId,userWalletAddress:r,businessType:this.commonStore.computedCurrentTabIsLimit?Po.LIMIT_ORDER:Po.SWAP_ORDER};return oe(ne.get(Rs,{params:n}))});l(this,"needBalanceLoading",!0);l(this,"setNeedBalanceLoading",e=>{this.needBalanceLoading=e});l(this,"getTokenBalanceByAccount",async(e,t,r=!1)=>{let n=e===Z.FROM,{chainId:s,tokenContractAddress:i}=t||{};if(Ae(s)&&i&&this.accountStore.computedAccountId){this.needBalanceLoading&&(this.isBalanceLoading=!0);let a=await this.getTokenInfoAndBalance(s,i);if(this.isBalanceLoading=!1,this.setNeedBalanceLoading(!0),!this.commonStore.equalsToken(t,n?this.from:this.to))return;if(a[0]){if(r){this.fromBalanceRequestError=!1,this.toBalanceRequestError=!1;return}n?(this.fromBalanceRequestError=!0,this.fromBalanceState=be.BALANCE_REQUEST_FAILED):(this.toBalanceRequestError=!0,this.toBalanceState=be.BALANCE_REQUEST_FAILED),this.setBalance(e,"0","0","0");return}n?this.fromBalanceRequestError=!1:this.toBalanceRequestError=!1;let{amountNum:c,availableAmountNum:u,currencyAmount:m}=a[1]?.data||{};n&&this.setCacheTokenInfo({chainId:s,tokenContractAddress:i,amountNum:c},"api"),this.setBalance(e,c,u,m)}});l(this,"cacheTokenInfo",{});l(this,"setCacheTokenInfo",(e,t)=>{this.cacheTokenInfo=e,w.info(R.GET_BALANCE,{...e,tokenContractAddress:ai(e.tokenContractAddress),type:t})});l(this,"setBalance",(e,t="",r="",n="")=>{let s=e===Z.TO,i={balance:t,availableBalance:r,currencyAmount:n};s?this.updateTo({...this.to,...i}):this.updateFrom({...this.from,...i})});l(this,"setBalanceState",e=>{let{amount:t,address:r,from:n,to:s}=e;Boolean(r)&&Boolean(n.tokenContractAddress)?this.fromBalanceRequestError===!0?this.fromBalanceState=be.BALANCE_REQUEST_FAILED:fe(n.balance||"0").lt(t||"0")?this.fromBalanceState=be.BALANCE_INSUFFICIENT:this.fromBalanceState=be.COMMON:this.fromBalanceState=be.BALANCE_NOT_SHOW,!(Boolean(r)&&Boolean(s.tokenContractAddress))||!this.computedIsToAddressEqualsCurrentToAddress&&this.computedDiffCrossChain?this.toBalanceState=be.BALANCE_NOT_SHOW:this.toBalanceRequestError===!0?this.toBalanceState=be.BALANCE_REQUEST_FAILED:this.toBalanceState=be.COMMON});l(this,"equalsTokenAndAccount",(e,t)=>this.commonStore.equalsToken(e,t)&&this.accountStore.getAddressByChainId(e.chainId)===t.address);l(this,"updateFromBalancePush",e=>{let{coinAmountOriginalDec:t,availableAmountNum:r,currencyAmount:n}=e;this.equalsTokenAndAccount(this.from,e)?(this.setCacheTokenInfo({chainId:e.chainId,tokenContractAddress:e.tokenContractAddress,amountNum:t},"ws"),this.setBalance(Z.FROM,t,r,n)):this.equalsTokenAndAccount(this.to,e)&&this.setBalance(Z.TO,t,r,n)});l(this,"tokenReplaceMainToken",e=>{let t=e,{fromDexMultiTokenInfoVO:r}=this.getDexMultiDefaultTokenInfo(e?.chainId),{tokenSymbol:n,chainId:s}=r;return Ae(e?.chainId)&&e?.tokenContractAddress&&(this.commonStore.getTokenAddress(e)===(this.commonStore.isSensitiveChain(s)?n:_r(n))||this.commonStore.getTokenAddress(e)===this.commonStore.getTokenAddress(r))&&(t={...r,amount:e.amount}),t});l(this,"onClickAddFunds",()=>{let{tokenSymbol:e,chainName:t}=this.from,{address:r}=this.accountStore,n={currency:e,network:t,address:r};this.getDeposit(n)});l(this,"calOrderUpdateFromTo",e=>{let{fromTokenUsd:t,toTokenUsd:r,fromAmount:n,toAmount:s}=e||{};Pt(n)||(this.from.amount=n),Pt(t)||(this.from.usdPrice=t),Pt(s)||(this.to.amount=s),Pt(r)||(this.to.usdPrice=r)});l(this,"isEvmChain",e=>Ae(e)?this.commonStore.getChainByID(e)?.chainType!==Ts.NO_EVM_CHAIN:!0);l(this,"isTronChain",e=>e===xs.TRON_MAINNET);l(this,"getFormatFromToToken",async({from:e,to:t},r)=>{let[n,s]=await Promise.all([this.checkQueryToken(e,r),this.checkQueryToken(t,r)]),i=n,a=s,c=u=>`${u?.chainId}-${u?.tokenContractAddress}`;if(n){let u=this.getInitializedValue(n?.chainId),m=No(vo([n,s,u.from,u.to],c));i=m[0],a=m[1]}else if(s){let u=this.getInitializedValue(s.chainId),m=No(vo([s,u.from,u.to],c));i=m[1],a=m[0]}return{token1:i,token2:a}});l(this,"orderContinueStatus",Ue.DEFAULT);l(this,"setOrderContinueStatus",e=>{this.orderContinueStatus=e});l(this,"fillSwapFromTo",async({apiRequestParams:e,locationParams:t})=>{let{closeModal:r}=this.rootStore.recentTransactionStore;!await this.beforeCheckAndGetTokenInfo(e,t)||(r(),this.setSwapAndLimitTypeValue(t.inputAmount))});l(this,"beforeCheckAndGetTokenInfo",async(e,t)=>{let{orderCheckContinue:r}=this.rootStore.oneMoreOrderStore;if(this.setOrderContinueStatus(Ue.LOADING),e&&!await r(e))return this.setOrderContinueStatus(Ue.ERROR),!1;let{token1:n,token2:s}=await this.getFormatFromToToken(t,!1);return!n||!s?(st.error({title:k("swaptrade_history_toast_setup_error"),duration:it}),this.setOrderContinueStatus(Ue.ERROR),!1):(this.setOrderContinueStatus(Ue.READY),this.updateFromAndToInfo(n,s),!0)});l(this,"beforeCheckUrl",async e=>{this.setOrderContinueStatus(Ue.LOADING);let{orderCheckContinue:t}=this.rootStore.oneMoreOrderStore;return await t(e)?(this.setOrderContinueStatus(Ue.READY),!0):(this.setOrderContinueStatus(Ue.ERROR),!1)});l(this,"updateFromAndToInfo",(e,t)=>{this.updateFrom(e),this.updateTo(t)});l(this,"nativeCoin",null);l(this,"setNativeCoin",e=>{this.nativeCoin={...e}});this.rootStore=e,this.accountStore=e.accountStore,this.commonStore=e.commonStore,br(()=>this.initialPropsStore.initialProps.fromTo,(t={})=>{let{from:r={},to:n={}}=t;this.setFrom(r),this.setTo(n)})}static async getInitialProps(e){let t=new URLSearchParams(e.route.search),{from:{chainId:r,tokenContractAddress:n},to:{chainId:s,tokenContractAddress:i}}=ci(t);if(!ec({fromChainId:r,toChainId:s,fromTokenAddress:n,toTokenAddress:i}))return{from:{},to:{}};let a=Us,c={chainId:r,fromTokenAddress:n,toTokenAddress:i};e.route.path.includes(ys)&&(a=Fo,c={chainId:r,toChainId:s,fromTokenAddress:n,toTokenAddress:i}),e.route.path.includes(Is)&&(a=Bs,c={fromChainId:r,toChainId:s,fromTokenAddress:n,toTokenAddress:i});let[p,g]=await oe(ne.get(a,{params:c}));return p?{from:{},to:{}}:{from:M(g,"data.fromTokenInfo")||M(g,"data.fromToken"),to:M(g,"data.toTokenInfo")||M(g,"data.toToken")}}get computedTypedValue(){return this.commonStore.currentTab===Be.SWAP?this.singleTypedValue:this.typedValue}get computedFromMax(){return this.commonStore.currentTab===Be.SWAP?this.singleFromMax:this.fromMax}get computedNeedCrossChainDoubleConfirm(){return this.computedIsSingleChain?!1:!this.needCrossChainDoubleConfirm}get dependentField(){return this.independentField===Z.FROM?Z.TO:Z.FROM}get computedIsExactIn(){return this.independentField===Z.FROM}get computedIsSingleChain(){return Ae(this.from.chainId)&&Ae(this.to.chainId)&&Number(this.from.chainId)===Number(this.to?.chainId)}get computedSwapAmount(){return{[this.independentField]:this.computedFromMax?Er(this.computedTypedValue,{noNeedThousandth:!0}):this.computedTypedValue,[this.dependentField]:this.computedCalAmount[this.dependentField]}}get computedCalAmount(){return{[Z.FROM]:Er(this.from?.amount,{noNeedThousandth:!0})??"",[Z.TO]:Er(this.to?.amount,{noNeedThousandth:!0})??""}}get computedIfQuote(){return!!(this.computedTypedValueIsValid&&this.from&&this.to)}get computedTypedValueIsValid(){return!fe(this.computedTypedValue).isZero()&&!fe(this.computedTypedValue).isNaN()}get computedFromAmountIsValid(){let{amount:e}=this.from;return xr(e)}get computedFromLocalCostByUsd(){let{usdPrice:e}=this.from;if(!this.computedFromAmountIsValid)return"";let{nowCurrencyUnit:t}=this.commonStore,{symbol:r,usdToThisRate:n}=t,s=fe(e);if(r&&e&&n&&!s.isNaN()){let a=s.multipliedBy(n).toString();return Bo(a,r,{needBillionMillionUnit:!1})}return""}get computedToLocalCostByUsd(){let{usdPrice:e}=this.to,{nowCurrencyUnit:t}=this.commonStore,{symbol:r,usdToThisRate:n}=t,s=fe(e);if(r&&e&&n&&this.to.amount&&!s.isNaN()&&xr(this.from.amount)){let a=s.multipliedBy(n).toString();return Bo(a,r,{needBillionMillionUnit:!1})}return""}get computedRate(){let{from:e,to:t,computedIsExactIn:r}=this,{quoteStore:n,gasDropStore:s}=this.rootStore,i=M(n,"quote.bestRoute.gasDropFromAmount",""),a=i&&s?.gasDropConfig?.gasDrop?fe(e?.amount).minus(i):fe(e?.amount),c=t?.reverseReceiveAmount&&r||!r&&e?.amount;return a&&c?jt(fe(t?.reverseReceiveAmount).div(a).toString(10),{needBillionMillionUnit:!1}):""}get computedToFromRate(){let{from:e,to:t,computedIsExactIn:r}=this,{quoteStore:n,gasDropStore:s}=this.rootStore,i=M(n,"quote.bestRoute.gasDropFromAmount",""),a=i&&s?.gasDropConfig?.gasDrop?fe(e?.amount).minus(i):fe(e?.amount),c=t?.reverseReceiveAmount&&r||!r&&e?.amount;return a&&c?jt(fe(a).div(t?.reverseReceiveAmount).toString(10),{needBillionMillionUnit:!1}):""}get computedIsToAddressEqualsCurrentToAddress(){let e=this.accountStore.getAddressByChainId(this.to.chainId);return e&&this.rootStore.receiveAddressStore.computedReceiveAddr===e}get computedValueDifference(){let{quoteStore:e}=this.rootStore,t=M(e,"quote.bestRoute.quoteDiffValThreshold"),r=M(e,"quote.bestRoute.quoteDiffPercentThreshold");return xi({pay:this.from.usdPrice,receive:this.to.usdPrice,quoteDiffValThreshold:t,quoteDiffPercentThreshold:r})}get computedIsCrossChain(){return Ae(this.from.chainId)&&Ae(this.to.chainId)&&Number(this.from.chainId)!==Number(this.to?.chainId)}get computedIsBridge(){let{from:e,to:t}=this;return this.computedIsCrossChain&&e.tokenSymbol===t.tokenSymbol}getDeposit(){}get computedDiffCrossChain(){let e=!!this.accountStore.address,t=this.commonStore.getChainByID(this.from.chainId),r=this.commonStore.getChainByID(this.to.chainId),n=String(this.from.isHoneypot),s=String(this.to.isHoneypot),{computedNonsupportChain:i}=this.accountStore,a=t?.crossChainType||"",c=r?.crossChainType||"";return e&&!i&&n!=="1"&&s!=="1"&&a&&c&&a!==c}get computedMaxTipsText(){let{from:e,maxDialogType:t}=this,{cacheNativeGasFee:r}=this.rootStore.quoteStore;if(!e.isNativeToken||!r||!e.tokenSymbol)return k("wallet_swap_toast_reserve_mainnet_token");let n={value:jt(r),tokenSymbol:e.tokenSymbol};if(this.checkMaxDialogTypeIsEnough(t)){if(this.computedIsFromBtcCoin&&Oe.gt(this.computedUnavailableBalance,0)){let s=jt(this.computedUnavailableBalance);return k("swaptrade_dialog_pay_card_reserved_from_wallet",{symbol:n.tokenSymbol,value:n.value,unablevalue:s})}return k("swaptrade_dialog_desc_reserved_netfee",n)}return k("swaptrade_dialog_desc_please_reserve",n)}get computedShowAddFund(){let{accountStore:e,swapBtnStore:t}=this.rootStore,{from:r}=this;if(!e.computedNonsupportChain){let n=fe(this.computedTypedValue||0),s=fe(r.balance||0);if(this.independentField===Z.FROM&&n.gt(s)||t.computedTooBalance)return!0}return this.showAddFund&&!this.checkMaxDialogTypeIsEnough(this.maxDialogType)}get computedIsEvmChain(){return this.isEvmChain(this.from.chainId)}get computedDefaultAutoSlippageInfo(){let e=this.commonStore.getChainByID(this.from.chainId);return{autoSlippage:e?.toleranceSlippage?.selectItem,autoTotalSlippage:e?.crossToleranceSlippage?.selectItem}}get computedIsSolanaChain(){return wr(this.from.chainId)}get computedIsAptosChain(){return kr(this.from.chainId)}get computedIsTronChain(){return Ks(this.from.chainId)}get computedIsSuiChain(){return Hs(this.from.chainId)}get computedIsStacksChain(){return zs(this.from.chainId)}get computedIsStarknetChain(){return Xs(this.from.chainId)}get computedHasToSwap(){let e=M(this.rootStore.quoteStore,"quote.bestRoute.toSwapFeeUsd");return this.computedIsCrossChain&&e>0}setSwapAndLimitTypeValue(e){let{computedCurrentTabIsLimit:t}=this.commonStore,{clearSellAndReceive:r}=this.rootStore?.limitOrderControlStore||{};t?r?.():xr(e)?(this.setField(Z.FROM),this.advanceSetTypedValue(e)):this.advanceSetTypedValue("")}get computedLeverageTokenPair(){return Ei(this.from,this.to)}get computedFormToTokenIsLeverageToken(){let[e,t]=this.computedLeverageTokenPair;return!!e||!!t}get computedIsFromBtcChain(){return qs(this.from.chainId)}get computedIsFromBtcCoin(){return this.computedIsFromBtcChain&&this.from.isNativeToken}get computedUnavailableBalance(){return fe(this.from.balance).minus(this.from.availableBalance).toString()}},tc=zn(Xn);var pr=class extends tc{constructor(t){super(t);l(this,"getDeposit",()=>()=>{});l(this,"addFundsParams",{});l(this,"closeAddFunds",()=>{this.visibleAddFunds=!1});l(this,"onClickAddFunds",()=>{let{tokenSymbol:t,chainName:r,tokenLogoUrl:n,chainId:s,isNativeToken:i,tokenContractAddress:a}=this.from;this.visibleAddFunds=!0;let c={currency:t,network:r,iconUrl:n,chainId:s,isNativeToken:i,tokenContractAddress:i?"":a,receiveOnly:!0};this.baseAddFunds(c)});l(this,"baseAddFunds",t=>{this.visibleAddFunds=!0,this.addFundsParams={...t}});l(this,"tokenReplaceMainToken",(t,r)=>{let n=t,s=!ii(t),{fromDexMultiTokenInfoVO:i}=this.getDexMultiDefaultTokenInfo(s?r:t.chainId),{tokenSymbol:a,chainId:c}=i;return!s&&(this.commonStore.getTokenAddress(t)===(this.commonStore.isSensitiveChain(c)?a:_r(a))||this.commonStore.getTokenAddress(t)===this.commonStore.getTokenAddress(i))&&(n={...i,amount:t.amount}),n});Lr(this),br(()=>{let{computedDiffCrossChain:r,to:n}=this;return{computedDiffCrossChain:r,toChainId:n?.chainId}},({computedDiffCrossChain:r,toChainId:n})=>{this.cacheToChainId!==n&&this.rootStore.receiveAddressStore.saveReceiveAddressValue({}),this.rootStore.receiveAddressStore.setCacheToChainId(r&&n?n:-1)},{equals:gs.shallow})}};d();f();d();f();var Yn=class{constructor(e){l(this,"receiveAddrStatus",Ft.NORMAL);l(this,"receiveAddrObj",{});l(this,"saveReceiveAddressValue",e=>{this.receiveAddrObj=this.filterReceiveWalletInfo(e),e?.specifiedAddress||this.initCheckAddrStatus()});l(this,"clearReceiveAddressValue",()=>{this.receiveAddrObj={},this.initCheckAddrStatus(),this.walletAddrInWeb3=[],this.getLinkedWalletAddrInWeb3().catch(()=>{})});l(this,"checkReceiveAddressLoading",!1);l(this,"filterReceiveAddress",(e,t,r=!0)=>{let n=t?.specifiedAddress||this.receiveAddrObj?.specifiedAddress||"";return n?e.filter(({specifiedAddress:s})=>r?s.includes(n):s===n):e});l(this,"filterReceiveWalletInfo",e=>{if(!e.specifiedAddress||e.walletId)return e;let t=this.filterReceiveAddress(this.initWalletAddrListFromChain,e,!1);return t.length?t[0]:e});l(this,"initCheckAddrStatus",()=>{this.checkReceiveAddressLoading=!1,this.receiveAddrStatus=Ft.NORMAL});l(this,"checkReceiveAddr",async e=>{if(e||this.receiveAddrObj.specifiedAddress){this.checkReceiveAddressLoading=!0;let{to:t}=this.rootStore.fromToStore,r=Symbol("requestId");this.currentRequestId=r;let[n,s]=await oe(ne.get(js,{params:{address:e||this.receiveAddrObj.specifiedAddress,chainId:t?.chainId}}));if(this.checkReceiveAddressLoading=!1,n){w.stuff(n),this.receiveAddrStatus=Ft.ILLEGALITY;return}this.currentRequestId===r&&Tr(()=>{this.receiveAddrStatus=s.data.status})}else this.initCheckAddrStatus()});l(this,"getSpecifiedChainWalletList",async e=>{let t=await this.getSpecifiedChainWalletListByWeb3(e),r={};return t?.forEach(n=>{let{specifiedAddress:s,walletType:i,createTime:a}=n,c=i===Es.OKEXCHAIN;r[s]&&r[s]?.has&&c?r[s].walletInfo.createTime<a&&(r[s].walletInfo=n):(!r[s]?.has||c)&&(r[s]={walletInfo:n,has:c})}),Object.keys(r).map(n=>r[n].walletInfo)});l(this,"walletAddrInWeb3",[]);l(this,"getLinkedWalletAddrInWeb3",async()=>{let{computedDiffCrossChain:e,to:t}=this.rootStore.fromToStore,{computedAccountId:r}=this.rootStore.accountStore;if(!e)return;let[n,s]=await oe(this.getSpecifiedChainWalletList({chainId:t.chainId,walletIds:[r]}));n||Tr(()=>{this.walletAddrInWeb3=s})});l(this,"initWalletAddrListFromChain",[]);l(this,"initWalletAddrListInStorage",[]);l(this,"filterWalletAddrListFromChain",[]);l(this,"filterWalletAddrListInStorage",[]);l(this,"getWalletList",async()=>{let{to:e}=this.rootStore.fromToStore,t=await this.getSpecifiedChainWalletList({chainId:e.chainId});Tr(()=>{this.initWalletAddrListFromChain=t,this.filterWalletAddrListFromChain=t;let r=je.get(Bt);if(r){let n=r[e.chainId]||[];this.initWalletAddrListInStorage=n,this.filterWalletAddrListInStorage=n}})});l(this,"getFilteredAddrList",e=>{this.filterWalletAddrListFromChain=this.filterReceiveAddress(this.initWalletAddrListFromChain,e),this.filterWalletAddrListInStorage=this.filterReceiveAddress(this.initWalletAddrListInStorage,e)});l(this,"saveWalletAddressToStorage",e=>{this.receiveAddrObj?.specifiedAddress&&je.set(Bt,{[e.chainId]:[this.receiveAddrObj]})});l(this,"formatInputValue",e=>{let{specifiedAddress:t,deriveName:r,label:n}=e;if(t.length<=9)return t;let s=vr(e.specifiedAddress);return r&&(s=`(${s})`,n?s=`${r} - ${n} ${s}`:s=`${r} ${s}`),s});this.rootStore=e}get computedSwapHighLight(){return this.receiveAddrStatus===Ft.NORMAL&&!!this.receiveAddrObj?.specifiedAddress}get computedFormatReceiveAddr(){return this.receiveAddrObj?.specifiedAddress?this.formatInputValue(this.receiveAddrObj):""}get computedReceiveAddr(){return this.receiveAddrObj?.specifiedAddress||""}async getSpecifiedChainWalletListByWeb3(){return[]}get computedWalletAddrInWeb3(){return this.walletAddrInWeb3.length?this.walletAddrInWeb3[0]:null}get isFromFilterAddress(){let e=this.filterReceiveAddress(this.initWalletAddrListFromChain,this.receiveAddrObj?.specifiedAddress,!1),t=this.filterReceiveAddress(this.initWalletAddrListInStorage,this.receiveAddrObj?.specifiedAddress,!1);return!!(e.length+t.length)&&!!this.receiveAddrObj?.specifiedAddress}},rc=Yn;var Qn=class extends rc{constructor(t){super(t);l(this,"formatInputValueEx",(t,r)=>{let{keyringName:n,walletName:s}=t;if(r.length<=9)return r;let i=vr(r);return n&&(i=`(${i})`,s?i=`${n} - ${s} ${i}`:i=`${n} ${i}`),i});l(this,"cacheToChainId",-1);l(this,"setCacheToChainId",t=>{this.cacheToChainId=t});l(this,"addressListEx",[]);l(this,"getWalletListEx",()=>{let{accountStore:t,fromToStore:r}=this.rootStore,n=ke.getNetWorkName(r.to.chainId),{walletList:s,addressBookList:i,keyringIdentityTypeEnum:a}=t,u=(je.get(Bt)||{})[r.to.chainId]||[],m=Ai(i,n),p=yi(s,n);this.addressListEx=Ii({recentAddrData:u,addressBookData:m,walletListData:p,chainName:n,keyringIdentityTypeEnum:a})});Lr(this)}get computedFormatReceiveAddrEx(){let{accountStore:t,fromToStore:r}=this.rootStore,{walletConfig:n}=t;if(this.receiveAddrObj.specifiedAddress)return this.formatInputValueEx(this.receiveAddrObj,this.receiveAddrObj.specifiedAddress);let s=ke.getNetWorkName(r.to.chainId),i=n?.account[s];return i?(this.receiveAddrObj={...n,specifiedAddress:i},this.formatInputValueEx(n,i)):""}},oc=Qn;d();f();nt();var Jn=class{constructor(e){l(this,"orderCheckContinue",async e=>{let[t,r]=await oe(ne.get(Fs,{params:e}));if(t)return st.error({title:k("swaptrade_history_toast_setup_error"),duration:it}),!1;let n=M(r,"data"),s=String(n?.checkCode);return s===_t.SUCCESS?!0:(s===_t.SINGLE_ERROR||s===_t.LIMIT_SINGLE_ERROR?st.error({title:k("swaptrade_history_toast_chain_unsupported",{chain:n?.fromChainName}),duration:it}):s===_t.CROSS_ERRORL||s===_t.LIMIT_CROSS_ERRORL?st.error({title:k("swaptrade_history_toast_both_unsupported",{fromChain:n?.fromChainName,toChain:n?.toChainName}),duration:it}):st.error({title:k("swaptrade_history_toast_setup_error"),duration:it}),!1)});this.rootStore=e,Ar(this,{},{autoBind:!0})}},nc=Jn;d();f();nt();d();f();var Eo="NO_CHECK",rt="0",KA="0x".padEnd(66,"f");var Zn=class{constructor(){this.approveTokenDefaultConfig={status:F.Unknown,approvedAmount:rt,tagStatus:F.Unknown,successCallback:void 0,isCombineApproveAndSwap:!1,transactionHash:void 0,approveInfo:null};this.approveTokensConfig={};this.bridgeApproveSocketError=!1;this.getApproveTokenMapKey=(e,t)=>{let r=Nr(e);return`${e?.chainId}_${r}_${t}`};this.registerApproveToken=(e,t)=>{let r=this.getApproveTokenMapKey(e,t),n=M(this.approveTokensConfig,r);ht(n)&&(this.approveTokensConfig[r]={...this.approveTokenDefaultConfig})};this.updateApproveTokenConfig=(e,t,r)=>{let n=this.getApproveTokenMapKey(e,t),s=M(this.approveTokensConfig,n),i=ht(s),a=s||this.approveTokenDefaultConfig;this.approveTokensConfig={...this.approveTokensConfig,[n]:{...a,...r}},i&&w.stuff("if you want to update approve token config, you should register it first.")};this.removeApproveTokenConfig=(e,t)=>{let r=this.getApproveTokenMapKey(e,t);delete this.approveTokensConfig[r]};this.getApproveTokenConfig=(e,t)=>{let r=this.getApproveTokenMapKey(e,t);return M(this.approveTokensConfig,r,this.approveTokenDefaultConfig)};this.clearNonApprovingTokensConfig=()=>{let e=ds(this.approveTokensConfig,t=>[F.Approving,F.CancelApproving].includes(t.status));this.approveTokensConfig={...e}};this.getApprovalStatus=(e,t)=>this.getApproveTokenConfig(e,t).status;this.isApprovalCheckRequired=(e,t,r)=>{let{isNativeToken:n}=e;return(t?!0:r==="1")&&!n&&!wr(e.chainId)&&!kr(e.chainId)};this.validApproveAmountLessSwapAmount=(e,t)=>new Oe.BigNumber(e).isLessThan(t||rt);this.isValidApprovalStatus=(e,t,r)=>{let n=$s(e),s=this.validApproveAmountLessSwapAmount(e,t);return n?F.UnApproved:s&&r?F.CancelApprove:s?F.UnApproved:F.Approved};this.fetchApproveAllowance=async(e,t,r,n,s,i)=>{let a=()=>ne.get(Os,{params:{userWalletAddress:t,tokenContractAddress:e.tokenContractAddress,chainId:e.chainId,defiPlatformIds:r}}).then(m=>m?.data),c=await a();return n&&c&&typeof c=="object"&&Object.keys(c).length>0&&Object.values(c).every(m=>m?.amount===rt)?(w.info(R.APPROVE_RETRY,{approveEventType:i,fromAmount:e.amount,defiPlatformId:s,isCrossChain:!1}),a()):c};this.getApproveUrl=e=>e?{approveDataUrl:Ds,saveApproveUrl:Ms}:{approveDataUrl:Ls,saveApproveUrl:Ps};this.fetchApproveData=({approveDataUrl:e,params:t,approveTxInfo:r})=>{if(r)return Gt({approveTxInfo:r,params:t});let{isCrossChain:n,...s}=t;return ne.get(e,{params:s}).then(i=>Gt({approveTxInfo:i?.data,params:t}))};this.isApprovalStatusPending=(e,t)=>{let r=this.getApprovalStatus(e,t);return[F.Approving,F.CancelApproving].includes(r)};this.isCancelApproveStatus=(e,t)=>{let r=this.getApprovalStatus(e,t);return[F.CancelApprove,F.CancelApproving].includes(r)};this.isPendingNeedCheck=async e=>{this.isApprovalStatusPending(e.token,e.defiPlatformId)&&this.checkApprove({...e,needRetry:!0}).catch(()=>{})};this.isPendingNotCheck=async e=>{this.isApprovalStatusPending(e.token,e.defiPlatformId)||this.checkApprove({...e,needCheck:Eo}).catch(()=>{})};this.bridgePendingNotCheck=async e=>{(!this.isApprovalStatusPending(e.token,e.defiPlatformId)||this.bridgeApproveSocketError)&&(await this.checkApprove({...e,isCrossChain:!0,needCheck:Eo}),this.bridgeApproveSocketError=!1)};this.updateUnnecessaryApproveTokenStatus=(e,t)=>{t.forEach(r=>{this.registerApproveToken(e,r),this.updateApproveTokenConfig(e,r,{status:F.Approved,tagStatus:F.UnApproved})})};this.updateApproveConfigByAllowance=({allowanceData:e,token:t,defiPlatformId:r,needCheck:n})=>{if(!e||ht(e)){this.updateApproveTokenConfig(t,r,{status:F.Unknown,approvedAmount:rt,tagStatus:F.Unknown});return}n===Eo&&this.isApprovalStatusPending(t,r)||Object.keys(e).forEach(s=>{let i=e[s];this.calcApproveState({approveInfo:i,token:t,defiPlatformId:s})})};this.checkApprove=async({token:e,userWalletAddress:t,needApprove:r,defiPlatformIds:n,defiPlatformId:s,allowanceData:i={},needCheck:a="",isLimitOrder:c=!1,isCrossChain:u=!1,needRetry:m=!1,approveEventType:p})=>{if(!this.isApprovalCheckRequired(e,c,r)){this.updateUnnecessaryApproveTokenStatus(e,n);return}let{tokenContractAddress:g}=e;if(g&&t){if(!u){let[,_]=await oe(this.fetchApproveAllowance(e,t,n,m,s,p));this.updateApproveConfigByAllowance({allowanceData:_,token:e,defiPlatformId:s,needCheck:a});return}this.updateApproveConfigByAllowance({allowanceData:i,token:e,defiPlatformId:s,needCheck:a})}};this.calcApproveState=({approveInfo:e,token:t,defiPlatformId:r})=>{let{decimals:n}=t,s=Number(e.status);if([F.Approving,F.CancelApprove].includes(s))return;let i=Number(e.status)===F.Approved?e.amount:rt,a=Vs(i,n)||rt,c=e?.needCancelApproveToken,u=this.isValidApprovalStatus(a,t.amount||rt,c);this.registerApproveToken(t,r),this.updateApproveTokenConfig(t,r,{status:u,tagStatus:u,approvedAmount:a,approveInfo:e})};this.updateApproveState=({token:e,defiPlatformId:t,userWalletAddress:r,needApprove:n="1"})=>{if(!Gs(e))return;let s=this.getApproveTokenConfig(e,t);s?.approveInfo?this.calcApproveState({approveInfo:s?.approveInfo,token:e,defiPlatformId:t}):this.isPendingNotCheck({token:e,userWalletAddress:r,defiPlatformId:t,needApprove:n})};this.fetchApproveDataErrorTips=(e,t,r)=>{this.updateApproveTokenConfig(e,t,{status:F.UnApproved});let n=ct(e?.tokenSymbol);Or({title:r?k("swaptrade_transfer_notification_title_ccy_unrevoked",{ccy:n}):k("swaptrade_toast_approve_fail",{tokenSymbol:n})})};this.approveErrorTips=({error:e,chainId:t,transactionPayload:r,token:n,defiPlatformId:s,cancelApproveTag:i})=>{w.error(R.APPROVE_TOKEN_ERROR,{chainId:t,transactionPayload:r,error:e,token:n,defiPlatformId:s}),Ct(e)||gt.error({title:e?.error_message||e?.message||e?.msg||k("swaptrade_home_toast_initiation_error"),placement:gt.DIRECTION.top}),this.updateApproveTokenConfig(n,s,{status:this.isCancelApprove(i)?F.CancelApprove:F.UnApproved})};this.isCancelApprove=e=>e===Oo.CANCEL_APPROVE;this.setApprove=async({token:e,userWalletAddress:t,defiPlatformId:r,isCrossChain:n=!1,cancelApproveTag:s,approveAmount:i,approveTxInfo:a},{isSilentSign:c=!1,isCombineApproveAndSwap:u=!1,successCallback:m}={isSilentSign:!1})=>{w.info(R.SET_APPROVE_PARAMS,{params:{token:e,userWalletAddress:t,defiPlatformId:r,isCrossChain:n,cancelApproveTag:s,approveAmount:i,approveTxInfo:a},config:{isSilentSign:c,isCombineApproveAndSwap:u}});let{chainId:p}=e;this.updateApproveTokenConfig(e,r,{status:this.isCancelApprove(s)?F.CancelApproving:F.Approving,isCombineApproveAndSwap:u,successCallback:m});try{let g={isCrossChain:n,userWalletAddress:t,tokenContractAddress:e.tokenContractAddress,chainId:e.chainId,defiPlatformId:r,cancelApproveTag:s,teeSilentSignEnabled:c};c&&!u&&(g.approveAmount=i);let{id:_,transactionPayload:C,defiPlatformId:T}=await this.fetchApproveData({approveTxInfo:a,approveDataUrl:this.getApproveUrl(n).approveDataUrl,params:g});return await this.approveToken({chainId:p,transactionPayload:C},{isSilentSign:c}).then(async({result:y})=>(this.toastApproveSubmitted({token:e,cancelApproveTag:s,isCombineApproveAndSwap:u}),w.info(R.APPROVE_BROADCAST_SUCCESS,{params:{id:_,chainId:p,transactionHash:y}}),this.updateApproveTokenConfig(e,r,{transactionHash:y}),await this.saveApprove({id:_,chainId:p,transactionHash:y,userWalletAddress:t,isCrossChain:n,cancelApproveTag:s,defiPlatformId:T}),!0)).catch(y=>(this.approveErrorTips({error:y,chainId:p,transactionPayload:C,token:e,defiPlatformId:T,cancelApproveTag:s}),!1))}catch{return this.fetchApproveDataErrorTips(e,r,s),!1}};this.saveApprove=async({id:e,chainId:t,transactionHash:r,userWalletAddress:n,isCrossChain:s,cancelApproveTag:i,defiPlatformId:a,refetchQuote:c})=>{if(!r)return;let u={id:e,transactionHash:r,chainId:t,userWalletAddress:n,cancelApproveTag:i};s&&fs(u,"defiPlatformId",a),w.info(R.SAVE_APPROVE,u);let{saveApproveUrl:m}=this.getApproveUrl(s),[p]=await oe(ne.post(m,u));p&&w.info(R.SAVE_APPROVE_ERROR,{error:p?.message,...u}),s&&String(a)!==As&&c?.()};this.checkCurrentPushedApproveInfo=(e,t,r,n,s)=>{let{chainId:i,fromTokenAddress:a,platformId:c,defiPlatformId:u}=e,m=n?u:c,p={chainId:Number(i),tokenContractAddress:a},g=at(t,p),_=String(r)===String(m),C=e.transactionHash===s;return{isCurrentToken:g,isSamePlatform:_,isSameTransactionHash:C,pushedToken:p,pushedPlatformId:m}};this.handleCurrentPushedApproveToken=async({dexData:e,pushedPlatformId:t,token:r,isCrossChain:n,refetchQuote:s,userWalletAddress:i,needApprove:a,approveEventType:c})=>{if(!n)await this.isPendingNeedCheck({token:r,userWalletAddress:i,defiPlatformIds:[t],defiPlatformId:t,needApprove:a,approveEventType:c});else{let u={status:e.status,amount:e.approveAmount,needCancelApproveToken:e.needCancelApproveToken};this.calcApproveState({approveInfo:u,token:r,defiPlatformId:t}),s?.()}};this.toastApproveSubmitted=({token:e,cancelApproveTag:t,isCombineApproveAndSwap:r})=>{if(St())return;let n="swaptrade_transfer_notification_approval_submit";r&&(n="swaptrade_mid_dialog_toast_success_submitted"),t===Oo.CANCEL_APPROVE&&(n="swaptrade_transfer_toast_ccy_unrevoke_submit"),mi({title:k(n,{ccy:ct(e.tokenSymbol)})})};this.onSocket=async({data:e,token:t,defiPlatformId:r,isCrossChain:n,refetchQuote:s},i)=>{if(e?.type==="1"&&e?.dexData&&e.dexData.type==="approve"){let a=e.dexData,{status:c,transactionHash:u,fromTokenSymbol:m,exploreUrl:p,solanaToast:g,userWalletAddress:_}=a,C=St(),{successCallback:T,transactionHash:y}=this.getApproveTokenConfig(t,r),{isCurrentToken:b,isSamePlatform:E,isSameTransactionHash:x,pushedToken:N,pushedPlatformId:V}=this.checkCurrentPushedApproveInfo(a,t,r,n,y);if(g==="1")return;if(b&&E&&(w.info(R.APPROVE_SOCKET_SUCCESS,{fromAmount:t.amount,defiPlatformId:r,status:a.status,amount:a.approveAmount,needCancelApproveToken:a.needCancelApproveToken,isCrossChain:n}),await this.handleCurrentPushedApproveToken({dexData:a,pushedPlatformId:V,token:t,isCrossChain:n,userWalletAddress:_,refetchQuote:s,needApprove:"1",approveEventType:"onSocket"})),(!b||b&&!E)&&this.removeApproveTokenConfig(N,V),c===Mt.APPROVE_SUCCESS){let I=k("swaptrade_toast_approve_success",{tokenSymbol:ct(m)});!C&&Go({title:I,exploreUrl:p}),Vt.emit($t.APPROVE,{data:u,status:0,message:I}),x&&T?await T():i?.()}else if(c===Mt.APPROVE_FAILED&&!C){let I=k("swaptrade_toast_approve_fail",{tokenSymbol:ct(m)});Or({title:I,exploreUrl:p})}else if(c===Mt.CANCEL_APPROVE_SUCCESS&&!C){let I=k("swaptrade_transfer_notification_title_ccy_revoked",{ccy:ct(m)});x&&T&&await T(),Go({title:I,exploreUrl:p})}else if(c===Mt.CANCEL_APPROVE_FAILED&&!C){let I=k("swaptrade_transfer_notification_title_ccy_unrevoked",{ccy:ct(m)});Or({title:I,exploreUrl:p})}}};this.onSocketError=e=>{e.isCrossChain?this.bridgeApproveSocketError=!0:this.isPendingNeedCheck(e).catch(()=>{})}}approveToken(e,{isSilentSign:t}={isSilentSign:!1}){return Promise.resolve(e)}},py=Zn;d();f();nt();d();f();nt();var sd=/\s/,es=o=>!(!ls(o)||sd.test(o)||o.length<10);var hr=class{constructor(e){this.walletSignConfirming=!1;this.defaultGasFee="--";this.isWalletConfirm=!1;this.isConfirmLoading=!1;this.txInfo={};this.confirmSwapVisible=!1;this.calldataSign=null;this.cacheVerifyCallDataResult=null;this.autoShowDialog=!0;this.solanaSwapParams=null;this.walletConfirming=!1;this.setWalletConfirm=e=>{this.isWalletConfirm=e};this.resetTxInfo=()=>{this.txInfo={}};this.setConfirmSwapVisible=e=>{this.confirmSwapVisible=e};this.setAutoShowDialog=e=>{this.autoShowDialog=e};this.setCalldataSign=e=>{this.calldataSign=e};this.setCacheVerifyCallDataResult=e=>{this.cacheVerifyCallDataResult=e};this.setSolanaSwapParams=e=>{this.solanaSwapParams=e};this.showRecentTransactionModal=e=>{this.confirmSwapVisible=!1,this.rootStore.recentTransactionStore.showModal(e)};this.saveOrderParamsExtendSlippageAndGasPrice=e=>{let t={...e},{computedQuote:r}=this,{computedIsSingleChain:n,computedDefaultAutoSlippageInfo:s}=this.rootStore.fromToStore,{autoSlippageInfo:i}=r.bestRoute||{},a=Si({isSingleChain:n,autoSlippageInfo:s}),c={autoSlippageInfo:i||{}},u=M(this,"rootStore.slippageStore");return u&&(a=u.computedRealSlippageValue,c=u.getOrderSlippageInfo()),Object.assign(t,{slippage:String(a),..._i({slippageInfo:c,isSingleChain:n})})};this.extendSaveOrderParams=e=>e;this.extendSignParams=async e=>{let t={...e},r=M(this.rootStore.quoteStore,"quote.bestRoute.permit2Data");if(r&&!this.calldataSign){let[n,s]=await this.checkPermit2();if(n)return null;this.setCalldataSign(s),t={...t,unsignedTx:r?.unsignedTx,signature:s}}else r&&this.calldataSign&&(t={...t,unsignedTx:r?.unsignedTx,signature:this.calldataSign});return t};this.checkPermit2=async()=>{let e=M(this.rootStore.quoteStore,"quote.bestRoute.permit2Data"),t=M(this.rootStore.quoteStore,"quote.bestRoute.fromToken.chainId"),{signTransaction:r}=this.rootStore.sendTransactionStore,n=e?.unsignedTx,[s,i]=await r(n,t);return s&&(w.error(R.SIGN_PERMIT2_DATA,{error:s,unsignedTx:n}),Ct(s)||we.error({title:k("swaptrade_trading_mode_alert_order_fail"),placement:we.DIRECTION.top})),[s,i]};this.resetFromToAmount=()=>{this.rootStore.fromToStore.updateFrom({amount:"",currentTime:"",prevAmount:"",usdPrice:""}),this.rootStore.fromToStore.updateTo({amount:"",prevAmount:"",usdPrice:"",currentTime:""}),this.rootStore.fromToStore.advanceSetTypedValue("")};this.getExtParams=e=>{let{computedIsSingleChain:t,to:r,from:n,computedDiffCrossChain:s}=this.rootStore.fromToStore,{receiveAddrObj:i}=this.rootStore.receiveAddressStore,a=s?i?.specifiedAddress:r.tokenContractAddress;return{txSource:3,orderId:e,toTokenAddress:a,crossChain:t?0:1,chainId:n.chainId,tokenAddress:n.tokenContractAddress,amount:n.amount,toChainId:r.chainId}};this.checkCallData=async({chainId:e,responseData:t,requestParams:r})=>{let{computedAccountId:n,computedSignWalletAddress:s}=this.rootStore.accountStore,i=await ti({callData:t?.callData?.data,chainId:e,hasReferralCommission:t?.hasReferralCommission,address:s});return i.success||this.setCacheVerifyCallDataResult({...i,walletId:n,requestCommissionAddress:r?.serviceFeeInfo?.referralCommissionAddress}),i};this.logVerifyCallDataResult=({txHash:e,orderId:t})=>{this.cacheVerifyCallDataResult&&!this.cacheVerifyCallDataResult.success&&(ei({...this.cacheVerifyCallDataResult,txHash:e,orderId:t}),this.setCacheVerifyCallDataResult(null))};this.handleSignOrSendTransactionSuccess=async e=>{let{transactionHash:t,nonce:r,orderData:n}=e,{callData:s,orderId:i,swapParams:a}=n,{computedIsEvmChain:c,from:u}=this.rootStore.fromToStore;if(this.walletSignConfirming=!1,!es(t))throw new Error(`hash format is invalid: ${t}`);return this.txInfo={...s,txHash:t},n.approveTxInfo?await this.sendTransactionOrUpdateHash(e):new Oe.BigNumber(r).isNaN()?(this.sendTransactionOrUpdateHash({orderId:i,transactionHash:t}),c&&ri(t,this.rootStore.fromToStore.from.chainId).then(m=>{m&&(w.info(R.UPDATE_NONCE,{nonce:m.nonce,tags:{orderId:i}}),this.sendTransactionOrUpdateHash({orderId:i,transactionHash:t,nonce:m.nonce}))}).catch(m=>{w.error(R.UPDATE_NONCE_FAIL,{error:m})})):this.sendTransactionOrUpdateHash({orderId:i,transactionHash:t,nonce:r}),this.afterTransaction(i,{txHash:t,chainId:a.chainId,txType:"SWAP"}),this.logChainId({message:R.CHECK_CHAIN_ID_AFTER_SEND_TRANSACTION,fromChainId:u.chainId,saveOrderChainId:a.chainId,orderId:i}),this.logVerifyCallDataResult({txHash:t,orderId:i}),!0};this.widgetSubmitTxEvent=e=>{};this.formatClaimPayload=(e,t)=>{let{orderId:r,toChainId:n}=t;return Wo({chainId:n},{orderData:e,extParams:{txType:86,txSource:3,orderId:r,toTokenAddress:t.toTokenAddress,chainId:t.chainId||t.fromChainId,tokenAddress:t.fromTokenAddress,amount:t.fromAmount,toChainId:n}},this).getSendTransactionParams()};this.fetchClaimCalldata=async(e,t)=>{let{orderId:r}=e,[n,s]=await oe(ne.post(Ns,{mainOrderId:r,payerWalletAddress:t}));if(n)return w.error(R.FETCH_CLAIM_CALDATA_ERROR,{error:n,tags:{orderId:r}}),we.error({title:n?.error_message||k("swaptrade_home_toast_initiation_error"),placement:we.DIRECTION.top}),null;let i=M(s,"data",{});return{payload:await this.formatClaimPayload(s?.data||{},e),sourceClaimPayload:i}};this.updateClaimOrder=e=>{w.info(R.UPDATE_CLAIM_ORDER,{params:e,tags:{orderId:e.mainOrderId}}),ne.post(vs,e)};this.rootStore=e,this.gasDropStore=e.gasDropStore}get computedEstimateGasFee(){let e=this.defaultGasFee,t=this.rootStore.commonStore.nowCurrencyUnit,r=M(this.computedQuote.bestRoute,"quoteNetWorkFeeOfMoney");if(this.isSwapSolana(this.rootStore.fromToStore.from.chainId)&&this.rootStore.quoteStore.enableQuoteAggregates){let s=M(this.rootStore.solanaPriorityFeeStore,"computedPriorityFeeOfUsd",0);r=Oe.add(s,r,{returnString:!0})}let n=new Oe.BigNumber(r).multipliedBy(M(t,"usdToThisRate"));return!ht(t)&&!n.isNaN()&&(e=Uo(n.toString(),{currencySign:t?.symbol}).value),e}get computedCrossChainFromFee(){let e=M(this.computedQuote.bestRoute,"fromSwapFeeUsd");if(!e||us(Number(e)))return"--";let{computedNowCurrencySymbol:t,currencyConversion:r}=this.rootStore.commonStore,n=r(e).toString();return Uo(n,{currencySign:t}).value}get computedQuote(){return this.rootStore.quoteStore.quote}checkRepeatOrderDetail(e){e&&this.rootStore.recentTransactionStore.showModal(e)}baseSaveOrderParams(){let{computedQuote:e}=this,{from:t,to:r}=this.rootStore.fromToStore,{estimateGasFee:n,minimumReceived:s,defiPlatformId:i,traceData:a}=e.bestRoute||{},{computedIsMevOpen:c}=this.rootStore.mevStore,u={chainId:t.chainId,fromAmount:this.rootStore.quoteStore?.computedQuoteAmount,fromTokenAddress:t.tokenContractAddress,fromTokenDecimal:String(t.decimals),toAmount:r.reverseReceiveAmount,toTokenAddress:r.tokenContractAddress,toTokenDecimal:String(r.decimals),userWalletAddress:this.rootStore.accountStore.address,estimateGasFee:n,pmm:"1",minimumReceived:s,openMev:c,toChainId:r.chainId,traceData:a};i&&(u.defiPlatformId=i);let m=this.rootStore.outerStore.extendFeeConfig(u);return this.saveOrderParamsExtendSlippageAndGasPrice(m)}saveOrderParams(){let e=this.baseSaveOrderParams();return this.extendSaveOrderParams(e)}async onGenerateCallData(e){return w.info(R.SAVE_ORDER_PARAMS,{data:e}),{}}onSaveOrder(e){let t={...e,...Ni()};return w.info(R.SAVE_ORDER_PARAMS,{data:t}),pi(t)}saveOrderErr(e){let{error_code:t,error_message:r=""}=e;return w.error(R.SAVE_ORDER_ERROR,{error:e}),t==="10014"?we.error({title:k("swaptrade_toast_trade_not_available"),placement:we.DIRECTION.top}):we.error({title:r||k("swaptrade_toast_save_order_fail"),placement:we.DIRECTION.top})}saveOrderError(e){this.saveOrderErr(e),this.isConfirmLoading=!1,w.removeKeep()}walletErrorMessage(e){let t=null;try{t=JSON.parse(e?.message)}catch{t={}}return t}walletErrToast(e,t){let r,n=this.walletErrorMessage(e);if(w.error(R.SEND_ERROR,{error:e,tags:{orderId:t}}),n?.code===Ir.SLIPPAGE_LOW)r=k("swaptrade_home_toast_slippage_too_low");else if(n?.code===Ir.SEND_TX_ERROR_CODE)r=n?.message;else if(n?.code===Ir.NOT_TIPS)return null;return we.error({title:r||k("swaptrade_home_toast_broadcast_failed"),placement:we.DIRECTION.top,duration:0})}onWalletFail(e,t,r=!1){Ct(e)?r||this.cancelOrder(t):e?.code!==ks.RECEIPT_ERROR&&(Vt.emit($t.FAIL,{data:{orderId:t},status:-2,message:Ro("transaction fail")}),this.walletErrToast(e,t)),w.error(R.ON_WALLET_FAIL,{error:e,tags:{orderId:t}})}extendEvmParams(e){return e}isOkxWallet(){}async getTransactionPayload({orderData:e,orderId:t}){let{from:r,computedIsSingleChain:n}=this.rootStore.fromToStore,s=Wo(r,{orderData:e,extParams:this.getExtParams(t)},this),i=n&&ki.supportCustomGasFee;return s.getSendTransactionParams({needGasPrice:i})}sendTransactionEnhance(...e){return this.rootStore.sendTransactionStore.sendTransaction(...e)}get walletSendParams(){return{}}getTransaction(){}logChainId(e){return!0}async doubleCheckChainId(e){return!0}async onChainTransaction(e){let{approveTxInfo:t,orderId:r,swapParams:n}=e,s=await this.getTransactionPayload({orderData:e,orderId:r}),{from:i}=this.rootStore.fromToStore;if(w.info(R.PAYLOAD,{payload:s,tags:{orderId:r}}),this.logChainId({message:R.CHECK_CHAIN_ID_BEFORE_SEND_TRANSACTION,fromChainId:i.chainId,saveOrderChainId:n.chainId,orderId:r}),!await this.doubleCheckChainId({saveOrderChainId:n.chainId,orderId:r}))return!1;if(this.walletSignConfirming=!0,t){let{transactionPayload:c}=Gt({approveTxInfo:t,params:{chainId:n.chainId,isOnlySign:!0}});return hi.signApproveAndSwap({chainId:n.chainId,approveParams:{payload:c,transactionData:t},swapParams:{payload:s[0],transactionData:e}}).then(({transactions:u,transactionHash:m})=>this.handleSignOrSendTransactionSuccess({transactionHash:m,transactions:u,orderData:e,fromTokenAddress:Nr(i)}))}return $o({chainId:i.chainId,walletType:this.rootStore.accountStore.walletConfig?.walletType,walletSendParams:this.walletSendParams},...s).then(({result:c,nonce:u})=>this.handleSignOrSendTransactionSuccess({transactionHash:c,nonce:u,orderData:e}))}afterTransaction(e,t){this.setWalletConfirm(!0),this.autoShowDialog&&this.showRecentTransactionModal(e),Vt.emit($t.TXHASH,{status:0,data:re(this.txInfo),message:Ro("Transaction hash has been generated")}),this.widgetSubmitTxEvent(t)}async onSwap(e){this.isConfirmLoading=!0,w.keepLive(),this.setCalldataSign(null);let t=null;if(e)t=this.rootStore.outerStore.extendFeeConfig(e);else{let i=await this.saveOrderParams();t=await this.extendSignParams(i)}if(!t){this.isConfirmLoading=!1;return}if(this.isSwapSolana(this.rootStore.fromToStore.from.chainId)){await this.onSolanaSwap(t);return}let[r,n]=await oe(this.onGenerateCallData(t));if(r){this.saveOrderError(r);return}w.info(R.SAVE_ORDER,{data:n?.data,tags:{orderId:n?.data.orderId}}),Js({...Dr(),order_id:n?.data.orderId,wallet_type:this.rootStore.accountStore.walletConfig?.walletType}),this.checkCallData({chainId:t.chainId,responseData:n?.data||{},requestParams:t}).catch(()=>{});let[s]=await oe(this.onChainTransaction({...n?.data,swapParams:t}));s&&(this.walletSignConfirming=!1,this.onWalletFail(s,n?.data?.orderId)),this.isConfirmLoading=!1,w.removeKeep()}async onClaim(e){let{getAddressByChainId:t}=this.rootStore.accountStore,r=t(e.toChainId),n=await this.fetchClaimCalldata(e,r);if(!n||!n.payload)return!1;let{payload:s}=n;return await this.doubleCheckChainId({saveOrderChainId:e.toChainId,orderId:e.orderId})?(this.walletConfirming=!0,w.info(R.CLAIM_PAYLOAD,{payload:s,tags:{orderId:e.orderId}}),$o({chainId:e.toChainId,walletType:this.rootStore.accountStore.walletConfig?.walletType,walletSendParams:this.walletSendParams},...s).then(({result:a,nonce:c})=>{if(this.walletConfirming=!1,!es(a))throw new Error(`hash format is invalid: ${a}`);new Oe.BigNumber(c).isNaN()?this.updateClaimOrder({mainOrderId:e.orderId,redeemTxHash:a}):this.updateClaimOrder({mainOrderId:e.orderId,redeemTxHash:a,nonce:c})}).catch(a=>{this.walletConfirming=!1,this.onWalletFail(a,e.orderId,!0)})):!1}};d();f();var _e=O(me());d();f();var ge=O(me()),We=O(Cr());d();f();var ts=O(me()),sc=O(Cr());var id=({expireTime:o,absoluteContent:e})=>ts.default.createElement("div",{className:(0,sc.default)(v.expireTime,e&&v.absoluteExpireTime)},ts.default.createElement("div",{className:v.expireTimeContent},Ws(o*1e3,{hideZero:!0})||"--")),xo=id;var ad=o=>{let t=v.loader,r=n=>({icon:ge.default.createElement(K.Circle,{size:K.SIZE.md,type:K.TYPE.neutral,loaderClassName:t,className:v.loaderWrap}),descClassName:(0,We.default)(v.pendDescKey),descKey:n});switch(o){case G.Pending:return r("swaptrade_order_status_pending");case G.Succeed:return{icon:ge.default.createElement(ae,{className:(0,We.default)("okds-success-circle",v.successIcon),size:24}),descKey:"swaptrade_order_status_succeed"};case G.PendingWithdrawn:return{icon:ge.default.createElement(ae,{className:(0,We.default)("okx-defi-marketplace-clock"),size:24}),descKey:k("swaptrade_history_cell_tag_processing")};case G.Failed:return{icon:ge.default.createElement(ae,{className:(0,We.default)("okds-fail-circle",v.failIcon),size:24}),descKey:"swaptrade_orders_text_details_order_failed",descClassName:v.failDesc};case G.Canceling:return{icon:ge.default.createElement(K.Circle,{size:K.SIZE.md,type:K.TYPE.neutral,loaderClassName:t,className:v.loaderWrap}),descKey:"swaptrade_placeorder_title_canceling"};case G.Canceled:return{icon:ge.default.createElement(ae,{className:(0,We.default)("okds-fail-circle",v.cancelIcon),size:24}),descKey:"swaptrade_placeorder_title_transaction_canceled"};case G.ReadyToClaim:case G.ClaimFailed:return{icon:ge.default.createElement(ae,{size:24,className:(0,We.default)("okx-defi-dex-ready-to-claim")}),descKey:"swaptrade_bridge_cell_tag_ready_to_claim"};case G.Claiming:return{icon:ge.default.createElement(K.Circle,{size:K.SIZE.md,type:K.TYPE.neutral,loaderClassName:t,className:v.loaderWrap}),descKey:"swaptrade_bridge_header_claiming"};default:return{}}};function cd({order:o,className:e="",computedPendingTimingStatus:t,expireTime:r,showExpireTime:n}){let{status:s}=o,i=[G.Waiting,G.SpeedingUp].includes(s)?G.Pending:s,a=ad(i);return ge.default.createElement("div",{className:v.headerStatusWrap},ge.default.createElement("div",{className:(0,We.default)(v.status,e)},ge.default.createElement("span",{className:v.headerStatusIcon},a?.icon),ge.default.createElement("div",{className:(0,We.default)("font-700 font-18 content-primary",v.desc,a?.descClassName)},k(a?.descKey)||a?.descKey)),n&&i===G.Pending&&t===Mr.ESTIMATE&&ge.default.createElement(xo,{expireTime:r}))}var ic=cd;d();f();var Se=O(me()),Re=O(Cr());var ld=(o,e)=>{let r=(0,Re.default)({[v.loader]:!e});switch(Number(o)){case Le.COMPLETED:return{icon:Se.default.createElement(ae,{className:(0,Re.default)("okds-success-circle",v.successIcon),size:24}),descKey:"swaptrade_tee_header_completed"};case Le.ACTIVE:return{icon:Se.default.createElement(ae,{className:(0,Re.default)("okds-pending-circle",v.blueIcon),size:24}),descKey:"swaptrade_tee_header_active"};case Le.TRADING:return{icon:Se.default.createElement(K.Circle,{size:K.SIZE.xl,type:K.TYPE.neutral,loaderClassName:r,className:v.loaderWrap}),descKey:"swaptrade_tee_cell_header_trading"};case Le.FAILED:return{icon:Se.default.createElement(ae,{className:(0,Re.default)("okds-fail-circle",v.failIcon),size:24}),descKey:"swaptrade_orders_text_details_order_failed",descClassName:v.failDesc};case Le.CREATING:return{icon:Se.default.createElement(K.Circle,{size:K.SIZE.xl,type:K.TYPE.neutral,loaderClassName:r,className:v.loaderWrap}),descKey:"swaptrade_tee_header_creating_order"};case Le.EXPIRED:return{icon:Se.default.createElement(ae,{className:(0,Re.default)("okds-clock",v.greyIcon),size:24}),descKey:"swaptrade_tee_header_expired"};case Le.CANCELLING:return{icon:Se.default.createElement(ae,{className:(0,Re.default)("okds-pending-circle",v.blueIcon),size:24}),descKey:"swaptrade_tee_cell_header_canceling"};case Le.CANCELLED:return{icon:Se.default.createElement(ae,{className:(0,Re.default)("okds-warning-circle",v.greyIcon),size:24}),descKey:"swaptrade_tee_header_canceled"};case Le.SUSPENDED:return{icon:Se.default.createElement(ae,{className:(0,Re.default)("okds-warning-circle",v.greyIcon),size:24}),descKey:"swaptrade_tee_header_suspended"};default:return{}}};function ud({order:o,isWalletEnv:e,className:t}){let{status:r}=o,n=ld(r,e);return Se.default.createElement("div",{className:v.headerStatusWrap},Se.default.createElement("div",{className:(0,Re.default)("text-center",v.status,t)},Se.default.createElement("span",{className:v.headerStatusIcon},n?.icon),Se.default.createElement("div",{className:(0,Re.default)("font-700 font-18 content-primary",n?.descClassName)},k(n?.descKey))))}var ac=ud;d();f();var gr=O(me()),cc=O(Cr());var dd=({isLimit:o,order:e,computedPendingTimingStatus:t,expireTime:r,onBack:n=()=>{},showBackButton:s,hideBackButton:i=!1})=>{let{status:a}=e||{},c=[G.Waiting,G.SpeedingUp].includes(a)?G.Pending:a;return{renderTopLeft:()=>i?gr.default.createElement("div",{style:{width:56}}):s||o?gr.default.createElement(ae,{className:(0,cc.default)("okx-defi-dex-arrow-left",v.backIcon),size:24,onClick:n}):c===G.Pending&&t===Mr.ESTIMATE?gr.default.createElement(xo,{expireTime:r,absoluteContent:!0}):gr.default.createElement("div",{style:{width:56}}),topClassName:o?"":v.topWrapper}},lc=dd;d();f();d();f();d();f();function uc(o,e){gt.error({title:o.error_message||o.msg||k(e||"swaptrade_home_toast_initiation_error"),placement:gt.DIRECTION.top})}async function dc(o,{isSilent:e=!1}){w.info(R.INTENTION_ACTIVE_ORDER_START,{orderIds:o,orderCount:o.length,isSilent:e});try{let t=await Vo(),{currentWalletId:r}=t,{authToken:n}=await Tt.getAuthToken(r),s={needSign:!0,headers:{"X-Web3-Auth":n||""}},[i,a]=await oe(ne.post("/priapi/v1/dx/strategy/common/reactivate",{accountId:r,orderIds:o},s));if(i){if(Number(i?.code)===Pr)return Tt.removeAuthToken(),Ho.update({authDialogVisible:!0}),!1;throw w.error(R.INTENTION_ACTIVE_ORDER_ERROR,{orderIds:o,error:i}),uc(i,"swaptrade_tee_notification_header_unable_to_resume_some"),i}return w.info(R.INTENTION_ACTIVE_ORDER_SUCCESS,{orderIds:o,result:a}),a}catch(t){throw w.error(R.INTENTION_ACTIVE_ORDER_ERROR,{orderIds:o,error:t}),t}}async function fc(o,{isSilent:e=!1}){w.info(R.INTENTION_CANCEL_ORDER_START,{orderIds:o,isSilent:e});try{let t=await Vo(),{currentWalletId:r}=t,{authToken:n}=await Tt.getAuthToken(r),s={needSign:!0,headers:{"X-Web3-Auth":n||""}},[i,a]=await oe(ne.post("/priapi/v1/dx/strategy/common/cancel",{accountId:r,orderIds:o},s));if(i){if(Number(i?.code)===Pr)return Tt.removeAuthToken(),Ho.update({authDialogVisible:!0}),!1;throw w.error(R.INTENTION_CANCEL_ORDER_ERROR,{orderIds:o,error:i}),uc(i,"swaptrade_tee_notification_header_unable_to_cancel_some"),i}return w.info(R.INTENTION_CANCEL_ORDER_SUCCESS,{orderIds:o,result:a}),a}catch(t){throw w.error(R.INTENTION_CANCEL_ORDER_ERROR,{orderIds:o,error:t}),t}}function mc(o){return Number(o.orderType)===1?Ko.includes(Number(o.status))&&o?.fromChildOrderDetailVo?.isShowCancel&&jo.supportStatus:Ko.includes(Number(o.status))}function pc(o){return Number(o.status)===4&&o.canResume}async function hc(o){return gi.cancelOrder(o,{isSilent:jo.supportStatus})}async function gc(o,e){return fc([o],e)}async function Sc(o,e){return dc([o],e)}var fd=(o={})=>![Wt.SingleChain,Wt.GasStation,Wt.LimitOrder,Wt.MemeMode].includes(o.swapTradeType),md=(o,e=!1,{onClose:t}={})=>{let r=o||{},n=!e&&fd(r),{isSaAccountNormal:s}=Qs,i=!St()&&!n&&mc(r)&&s,a=!St()&&!n&&pc(r)&&s,c={text:k("commonall_text_btn_cancel"),action:async()=>{try{if(e){await gc(r.orderId,{}),t?.();return}await hc({txHash:r.transactionHash,chainId:r.fromChainId,userWalletAddress:r.from}),t?.()}catch(m){throw m}}},u={text:k("swaptrade_tee_dialog_btn_resume"),action:async()=>{try{await Sc(r.orderId,{}),t?.()}catch(m){throw m}}};if(a&&i)return{onCancel:c.action,cancelText:c.text,onConfirm:u.action,confirmText:u.text,confirmBtnProps:{block:!0,width:"50%"},cancelBtnProps:{block:!0,width:"50%"}};if(i)return{onConfirm:c.action,confirmText:c.text,confirmBtnProps:{block:!0}};if(a)return{onConfirm:u.action,confirmText:u.text,confirmBtnProps:{block:!0}}},_c=md;d();f();var Cc={"loader-wrap":"_loader-wrap_7hvh8_1",loaderWrap:"_loader-wrap_7hvh8_1"};var pd=({orderId:o,onClose:e,visible:t,strategyMode:r=void 0,isLimit:n=void 0,isBridge:s=void 0,orderData:i=void 0,orderType:a=void 0,hideBackButton:c=!1,dialogProps:u={}})=>{let{recentTransactionStore:m,swapStore:p}=Rr(),{showModal:g}=m,{onClaim:_}=p||{};(0,_e.useEffect)(()=>{t&&g(o,{tab:Be.SWAP,isLimit:n,isBridge:s,orderData:i,orderType:a,strategyMode:r})},[s,n,i,o,a,g,r,t]);let{computedOrderInfo:C,expireTime:T,computedPendingTimingStatus:y,computedLimitOrderInfo:b}=m||{},E=(0,_e.useMemo)(()=>n?b&&_e.default.createElement(ac,{order:b}):C&&_e.default.createElement(ic,{order:C,expireTime:T,computedPendingTimingStatus:y,showExpireTime:!1}),[n,b,C,T,y]),x=lc({isLimit:!1,order:C,computedPendingTimingStatus:y,expireTime:T,showBackButton:!1,hideBackButton:c}),V=_c(n?b:C,n,{onClose:e}),I=(0,_e.useMemo)(()=>{let{status:B,toSymbol:X}=C||{},le={onConfirm:()=>{fi({fromChainId:C.chainId,toChainId:C.toChainId,bridgeRouter:C?.bridgeName}),_?.(C),e?.()},confirmText:k("swaptrade_bridge_btn_claim_token",{token:X})};return[G.ReadyToClaim,G.ClaimFailed].includes(B)?{confirmBtnProps:{block:!0},...le}:B===G.Claiming?{confirmBtnProps:{block:!0,loading:!0,loadingText:le.confirmText},...le}:{}},[V,C,_,e]),q=(0,_e.useRef)(null),L=()=>q.current;return _e.default.createElement(ps.Action,{noContentPadding:!0,visible:t,onClose:e,title:E,...x,...I,scrollBoxRef:B=>{q.current=B},...u},_e.default.createElement(li,{fallbackComponent:()=>_e.default.createElement(K.Circle,{size:K.SIZE.md,type:K.TYPE.neutral,className:Cc.loaderWrap})},_e.default.createElement(Oi,{orderId:o,orderData:i,strategyMode:r,onClose:e,orderType:a,getScrollContainer:L,isLimit:n,isBridge:s})))},rs=yr(pd);d();f();d();f();var Sd=O(me());d();f();d();f();d();f();var Tc=Ci(["isWalletConfirm","isConfirmLoading","txInfo","confirmSwapVisible","walletConfirming","walletSignConfirming"],["computedEstimateGasFee","computedCrossChainFromFee","computedQuote"]);var Sr=class extends hr{constructor(t){super(t);l(this,"sendTransactionEnhance",t=>{let{from:r}=this.rootStore?.fromToStore,{walletSendParams:n}=this.rootStore.walletContractStore;return this.rootStore.sendTransactionStore.sendTransaction(r.chainId,t,n).then(s=>Ys(r.chainId,s))});l(this,"showRecentTransactionModal",t=>{this.isConfirmLoading=!1,this.confirmSwapVisible=!1,w.stuff(`orderId: ${t}`),ke.history.go(-1);let{advanceSetTypedValue:r}=this.rootStore?.fromToStore;r?.("")});l(this,"baseSaveOrderParams",()=>({...super.baseSaveOrderParams()}));l(this,"extendsGas",t=>{let r={...t},{gasInfo:n}=this.rootStore.walletContractStore,{gasLimitInfo:s,isGasLimitLoading:i,gasType:a,...c}=n;return r.extParams.gasType=a,{...r,gasInfo:c}});l(this,"extendEvmParams",(t,r=!1)=>{let n=super.extendEvmParams(t),{activityId:s}=this.rootStore.walletContractStore,i=this.rootStore.quoteStore.quote?.bestRoute?.isEnableMev;s&&(n.extParams.activityId=s);let{computedIsMevOpen:a,mevInfo:c,walletMevControl:u}=this.rootStore.mevStore;return n.extParams.isMev=a||u||r,n.extParams.mevInfo=c,!r&&Number(i)===bs.ON&&(n.extParams.isShowBlockSwapMevTooltip=!0),n});l(this,"extendTronParams",t=>{let r={...t},{maxGasFeeInt:n}=this.rootStore.walletContractStore;return r.maxGasFeeInt=n,r});l(this,"onWalletFail",(t,r)=>{this.isConfirmLoading=!1,!t?.message?.includes(ke.global?.HARDWALLETERROR)&&super.onWalletFail(t,r)});l(this,"checkRepeatOrderDetail",t=>{t&&ke.history.push(`${_s}/${t}`)});l(this,"onSwap",async t=>{let{computedIsOfflineType:r}=this.rootStore.quoteStore;r?await this.rootStore.intentSwapStore?.onIntentSwap():await super.onSwap(t)});l(this,"getSaveOrderMonitorData",()=>({...Dr(),...this.rootStore.walletContractStore.computedMonitorGasType}));l(this,"onClaim",t=>{ke.history.push(`${Cs}?orderId=${t.orderId}&source=orderDetail`)});Ss(this,Tc)}isOkxWallet(){return!0}getTransaction(){}walletErrorMessage(t){return t}};var wo=class{constructor(){this.receiveAddressStore=new oc(this),this.commonStore=new bi(this),this.accountStore=new Ti(this),this.fromToStore=new pr(this),this.swapStore=new Sr(this),this.recentTransactionStore=new vi(this),this.oneMoreOrderStore=new nc(this),this.sendTransactionStore=new wi(this)}};d();f();var ot=O(me()),bc=O(hs());var hd=({orderId:o,onClose:e,visible:t,showToast:r,currency:n,currentWallet:s,walletInfo:i,onBack:a=()=>{},t:c,dispatch:u,orderType:m=void 0,strategyMode:p=void 0,isLimit:g=void 0,isBridge:_=void 0,orderData:C=void 0})=>{let T=(0,bc.useHistory)();(0,ot.useEffect)(()=>{ke.setRuntimeContext({history:T,toLocale:c,dispatch:u,walletInfo:i,onBack:a})},[c,T,u,i,a]);let{commonStore:y,accountStore:b,recentTransactionStore:E}=Rr();si(),(0,ot.useEffect)(()=>{y.setCurrentTab(Be.SWAP),y.getUserUnit(n)},[]);let x=E?.detail?.data?.fromChainId;(0,ot.useEffect)(()=>{s&&b.setWalletConfig(s),x&&b.setFromChainId(x)},[x,b,s]);let{computedAccountWalletAddresses:N}=b;(0,ot.useEffect)(()=>{let I;return N&&(I=ni(N)),()=>{N&&I?.()}},[N]),(0,ot.useEffect)(()=>{let I=oi({isPri:!0,needLogin:!0,subscribeParams:{channel:ui.DEX_PUSH_ENGINE},onListenData:q=>{E.onSocket(q,r)},onListenError:()=>{E.onSocketError()}});return()=>{I()}},[N,E,r]);let{initialized:V}=Ri();return V?ot.default.createElement(rs,{orderId:o,visible:t,onClose:e,orderType:m,strategyMode:p,isLimit:g,isBridge:_,orderData:C}):null},gd=yr(hd);var _d=new wo,Px=di(_d);d();f();var Ac=O(me()),Td=O(hs()),bd=O(yc());export{se as a,Hr as b,Xt as c,Jr as d,xu as e,Ne as f,lo as g,$u as h,lr as i,Ku as j,fr as k,Ju as l,py as m,zn as n,ec as o,pr as p,oc as q,hr as r,nc as s,rs as t};
//# sourceMappingURL=chunk-4E6PJXXD.js.map
