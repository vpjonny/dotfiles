import{b as h}from"./chunk-6KT3MJYR.js";import{c as _}from"./chunk-3DAKLS7D.js";import{A as f,h as T,z as S}from"./chunk-IFGNGASP.js";import{Cb as I,O as k,nb as A,ob as C,t as a}from"./chunk-NPJCEXXH.js";import{$,I as y,g as m,t as P}from"./chunk-JYNY5RZ4.js";import{o as g,q as l}from"./chunk-LHDKEQAM.js";g();l();$();var p=e=>C()?e:P(a.chainInfo,r=>r===e)||e,w=e=>{if(!f(e))return"";let t=e.chainId;return C()?t:a.chainInfo?.[t]||t},x=(e,t)=>f(e)&&f(t)?{chain:`${w(e)},${w(t)}`,token:`${h(e,!0)},${h(t,!0)}`}:{};function b({from:e,to:t,inputAmount:r,feeConfig:n,addressType:i}={}){let o=new URLSearchParams,u=(s,d)=>{S(d?.chainId)&&o.set(`${s}Chain`,d.chainId),d?.tokenContractAddress&&o.set(`${s}Currency`,d.tokenContractAddress)},c=s=>{s?.referrerAddress&&s?.feePercent&&(o.set("referrerAddress",s.referrerAddress),o.set("feePercent",s.feePercent))};return u("input",e),u("output",t),c(n),r&&o.set("inputAmount",r),i&&o.set("addressType",i),o}var R=e=>{if(!e)return"";let t=e.get("inputChain"),r=e.get("inputCurrency"),n=e.get("outputChain"),i=e.get("outputCurrency"),o={};t&&r&&n&&i&&(e.delete("inputChain"),e.delete("inputCurrency"),e.delete("outputChain"),e.delete("outputCurrency"),o=x({chainId:t,tokenContractAddress:r},{chainId:n,tokenContractAddress:i}));let u=Object.fromEntries(e.entries());return new k().stringify({...o,...u})};function U(e={}){let t=b(e);t.delete("referrerAddress"),t.delete("feePercent");let r=y(e,["from","to","token","chain","inputAmount","feeConfig","addressType","tokenPair","bridgeTokenPair"]);return m(r).forEach(n=>{t.set(n,r[n])}),t}var E=e=>{if(!e)return e;let t=e.get("chain");if(!t)return e;if(t?.includes(",")){let[n,i]=t.split(",");e.set("inputChain",p(n)),e.set("outputChain",p(i))}else{let n=p(t);e.set("outputChain",n)}let r=e.get("token");if(!r)return e;if(r?.includes(",")){let[n,i]=r.split(",");e.set("inputCurrency",n),e.set("outputCurrency",i)}else e.set("outputCurrency",r);return e};function X(e,t){let r=E(e),n=o=>{let u=c=>{let s=r.get(`${o}${c}`);return!s&&t&&(s=r.get(`${o}Limit${c}`)),s};return{chainId:u("Chain"),tokenContractAddress:u("Currency")}},i=()=>{let o=r.get("referrerAddress"),u=r.get("feePercent");return _()&&o&&u&&!T(u)?{referrerAddress:o,feePercent:u}:{}};return{from:n("input"),to:n("output"),inputAmount:r.get("inputAmount"),feeConfig:i(),addressType:r.get("addressType"),autoSwitch:r.get("autoSwitch")}}function v(e,t){return!e||!t?"":e===A.OKX_WALLET_EXTENSION?t:I(t)}export{x as a,b,R as c,U as d,E as e,X as f,v as g};
//# sourceMappingURL=chunk-J63JN6ZK.js.map
