import{C as ge,F as Xe,M as j,P as Ie,b as ne,d as se,u as fe}from"./chunk-FRGP5XJV.js";import{a as Ye}from"./chunk-Q2B4R57L.js";import{b as M}from"./chunk-PJC4UBLU.js";import{f as $,o as i,q as a}from"./chunk-LHDKEQAM.js";i();a();var B=$(M());i();a();var J=$(M()),Ee=$(Ye()),m=$(Xe());i();a();var G=$(M());function Qe({alt:e,store:r,...t},o){let{onLoad:s,onError:l,needSource:d,sourceSrcset:f,requestSrc:n,imgSrcSet:S,imgSrc:p}=r;return p?G.default.createElement(G.default.Fragment,null,d&&G.default.createElement("source",{"data-testid":"okd-image-source-webp-default",srcSet:f}),G.default.createElement("img",{...t,src:p,ref:o,srcSet:S,alt:e,onLoad:c=>{s(c,p,n)},onError:c=>{l(c,p,n)}})):null}var Re=(0,G.forwardRef)(Qe);i();a();var X=$(M());i();a();var Je="x-oss-process=image/",dr=new RegExp(`(${Je}[^&]+&??)`);var q={cover:"cover",contain:"contain"};q.allAsArray=Object.values(q);var ee={resize:"resize",crop:"crop"},H={sm:"(max-width: 767px)",md:"(min-width: 768px) and (max-width: 1023px)",lg:"(min-width: 1024px) and (max-width: 1269px)",xl:"(min-width: 1270px) and (max-width: 1859px)","2xl":"(min-width: 1860px) and (max-width: 2036px)","3xl":"(min-width: 2037px)"};i();a();i();a();var ae="x-oss-process=image/",Ke=new RegExp(`(${ae}[^&]+&??)`),De="format,webp",ie="/ignore-error,1",ce={resize:"resize",crop:"crop"},Ze=e=>e.replace(/\s/g,"%20");function Se(e){return!!(e&&e.startsWith("data:")&&e.includes("base64,"))}function ue(e){return e&&e.startsWith("blob:")}function re(e){return e.includes(De)}function Pe(e){let{cdnDomainMap:r={}}=se,t="";return!e.includes(se.cdnBaseUrl)&&Object.values(r).some(o=>e.includes(o)?(t=o,!0):!1)?e.replace(t,se.cdnBaseUrl):e}function $e(e){return e.includes(ie)?`${e.replace(ie,"")}${ie}`:`${e}${ie}`}function we(e="",r){let t=e;return e.includes(r)?e:(t.indexOf(ae)>-1?t=t.replace(Ke,`$1/${r}`):t.indexOf("?")!==-1?t+=`&${ae}${r}`:t+=`?${ae}${r}`,$e(t))}function k(e,r=!0){let t=e;return t?ue(e)?e:(t=Pe(Ze(e)),r?we(t,De):t):""}var er=e=>e[0],Y=(e={},r,t)=>{if(!r)return"";let o=Object.entries(e).map(([s,l])=>l?`${er(s)}_${l}`:"").filter(Boolean).join(",");return o?we(r,`${t},${o},type_6`):r},he=(e,r)=>e.map(t=>{let{media:o,type:s=ce.resize,src:l,resize:d,crop:f,w:n,h:S,...p}=t,c=s;f&&(c=ce.crop),d&&(c=ce.resize);let h=Y(d||f||{width:n,height:S},l||r,c);return{media:o,src:h,...p}}),de=({srcSetData:e,resize:r,useWebp:t})=>e.map(o=>`${Y(r,k(o.src,t),ce.resize)} ${o.size}`).join(",");function xe({mediaSource:e,isErrorState:r,useWebp:t}){return e.map((o,s)=>{let{media:l,src:d,...f}=o,n=H[l]||l,S=d;return S&&!r?X.default.createElement(X.Fragment,{key:n||s},t&&!re(S)&&X.default.createElement("source",{"data-testid":"okd-image-source-webp-media",media:n,srcSet:k(S),...f}),X.default.createElement("source",{"data-testid":"okd-image-source-media",media:n,srcSet:S})):null})}i();a();i();a();var Q=$(M());function be(e){let r=(0,Q.useRef)(null),[t,o]=(0,Q.useState)(!e);return(0,Q.useEffect)(()=>{if(!e)return;let{top:s=0,bottom:l=0,right:d=0,left:f=0,...n}=typeof e=="object"?e:{},S=`${s}px ${d}px ${l}px ${f}px`,p,c=!1;r.current&&!t&&(fe.IntersectionObserver?(p=new fe.IntersectionObserver(I=>{I.forEach(L=>{!c&&(L.intersectionRatio>0||L.isIntersecting)&&o(!0)})},{threshold:.01,rootMargin:S,...n}),p.observe(r.current)):o(!0));let h=r.current;return()=>{c=!0,p&&p.unobserve&&h&&(p.unobserve(h),p=null)}},[e]),{imageRef:r,visible:t,lazyload:e}}i();a();var me=$(M());function _e({store:e,ssrRendered:r}){let{onError:t,onLoad:o,mediaSource:s,loadedImages:l,requestSrc:d}=e,{media:f}=Ie(),n=(0,me.useRef)(null);return(0,me.useEffect)(()=>{if(r&&n.current){let{complete:S,naturalHeight:p}=n.current,c=s&&s.find(h=>h.media===H[f])?.src||d;S&&!l.current.has(c)&&(p>0?o(n.current,d,c):t(n.current,d,c))}},[]),{imgRef:n}}i();a();var P=$(M());function ye(e){let{errorImg:r,src:t,onError:o,onLoad:s,mediaData:l,resize:d,useWebp:f,srcSetData:n,lazyload:S}=e,p=he(l,t),c=(0,P.useRef)(new Map),[h,I]=(0,P.useState)(!t),[L,w]=(0,P.useState)(h&&!r),[O,T]=(0,P.useState)(!1),v=(0,P.useMemo)(()=>{let b,x;return n.length>0&&(b=de({srcSetData:n,resize:d,useWebp:!1}),x=de({srcSetData:n,resize:d,useWebp:f})),{imgSrcSet:b,sourceSrcSet:x}},[n,d,f]),R=h&&r,F=(0,P.useMemo)(()=>{let b=R?r:t,x=R?k(b,!1):Y(d,k(b,!1),ee.resize),E=Y(d,k(b,f),ee.resize),A=f&&!re(x),z=v.sourceSrcSet||E;return{imgSrc:x,sourceSrc:E,requestSrc:A?z:x,needSource:A,sourceSrcset:z}},[v,R,t,d,f,r]);return(0,P.useEffect)(()=>{h&&t&&I(!1),L&&t&&w(!1)},[t]),{onError:(b,x,E)=>{c.current.set(E,{onerror:!0}),I(!0),o(b,x),r?x==r&&w(!0):w(!0)},onLoad:(b,x,E)=>{c.current.set(E,{onload:!0}),S&&T(!0),s(b)},isLoaded:O,isFallbackError:L,isErrorState:R,mediaSource:p,loadedImages:c,...v,...F}}var Ce=`${j}-picture`;function U(e){let r=ge.useMergeProps(U.defaultPropsValue,e),{src:t,alt:o,layout:s,lazyload:l,className:d,useWebp:f,placeholder:n,errorImg:S,width:p,height:c,style:h,pictureClassName:I,pictureStyle:L,resize:w,originWidth:O,originHeight:T,mediaData:v,ssrRendered:R,srcSetData:F,getImgRef:W,...K}=r,b=Se(t)||ue(t)?!1:f,x=ye({...r,useWebp:b}),{isLoaded:E,isFallbackError:A,isErrorState:z,mediaSource:V}=x,{imgRef:te}=_e({store:x,ssrRendered:R}),{imageRef:le,visible:u}=be(l),N=A||l&&!E&&!u,pe={width:p,height:c,...h};return J.default.createElement("picture",{className:(0,Ee.default)(ge.data.okdNamespace,Ce,I,{[`${Ce}-font`]:!N}),ref:le,style:L},u&&!A&&J.default.createElement(J.default.Fragment,null,J.default.createElement(xe,{mediaSource:V,isErrorState:z,useWebp:b}),J.default.createElement(Re,{"data-testid":`okd-picture-img-${s||"default"}`,...K,store:x,ref:oe=>{te.current=oe,W?.(oe)},width:O||p,height:T||c,style:pe,className:(0,Ee.default)(s&&`${Ce}-${s}`,d),alt:o})),N&&n)}U.propTypes={className:m.default.string,pictureClassName:m.default.string,style:m.default.object,pictureStyle:m.default.object,width:m.default.oneOfType([m.default.number,m.default.string]),height:m.default.oneOfType([m.default.number,m.default.string]),src:m.default.string.isRequired,useWebp:m.default.bool,alt:m.default.string.isRequired,layout:m.default.oneOf([q.contain,q.cover]),lazyload:m.default.oneOfType([m.default.bool,m.default.object]),mediaData:m.default.array,srcSetData:m.default.array,resize:m.default.object,errorImg:m.default.string,onError:m.default.func,onLoad:m.default.func,placeholder:m.default.node,originWidth:m.default.number,originHeight:m.default.number,ssrRendered:m.default.bool};U.defaultPropsValue={resize:void 0,layout:void 0,lazyload:!1,className:"",pictureClassName:"",style:{},pictureStyle:{},useWebp:!0,placeholder:void 0,errorImg:null,mediaData:[],srcSetData:[],onError:()=>{},onLoad:()=>{},width:void 0,height:void 0,originWidth:void 0,originHeight:void 0,src:void 0,alt:"",ssrRendered:!1};U.MEDIA=H;U.LAYOUT=q;U.ACTION=ee;var Oe=U;i();a();var C=$(M());i();a();var rr=(e,r,t)=>{let o=r==="svg"?"svg":"canvas";return e?.querySelector(`.${t}-view ${o}`)},tr=(e,r)=>{r&&e&&e.setAttribute("aria-label",ne(r))},or=(e,r,t,o)=>{if(!t||!e||!r)return;let s=document.createElement("span");s.id=o,s.classList.add(`${j}-a11y-text`),s.innerText=ne(t),e.appendChild(s),r.setAttribute("aria-describedby",ne(o))},ve=({animationContainer:e,setAnimationLoaded:r,onDOMLoaded:t,renderer:o,animationPrefix:s,a11yText:l,a11yDescription:d,a11yDescriptionDOMId:f})=>()=>{if(!e.current)return;r(!0),t?.();let n=rr(e.current,o,s);!n||(tr(n,l),n.setAttribute("role","img"),or(e.current,n,d,f))},Ae=(e,r)=>(e.current?.addEventListener(r.name,r.handler),()=>{e.current?.removeEventListener(r.name,r.handler)});var nr=({lottie:e,lottieProps:r={},className:t="",style:o,animationPrefix:s,a11yText:l,a11yDescription:d})=>{let{animationData:f,path:n,loop:S,autoplay:p=!0,initialSegment:c,onComplete:h,onLoopComplete:I,onEnterFrame:L,onSegmentStart:w,onConfigReady:O,onDataReady:T,onDataFailed:v,onLoadedImages:R,onDOMLoaded:F,onDestroy:W,animationRef:K,lottieRef:b,renderer:x,name:E,assetsPath:A,rendererSettings:z,...V}=r,[te,le]=(0,C.useState)(!1),u=(0,C.useRef)(),N=(0,C.useRef)(null),pe=()=>{u.current?.play()},oe=()=>{u.current?.stop()},Me=()=>{u.current?.pause()},ke=g=>{u.current?.setSpeed(g)},Fe=(g,D)=>{u.current?.goToAndPlay(g,D)},We=(g,D)=>{u.current?.goToAndStop(g,D)},ze=g=>{u.current?.setDirection(g)},je=(g,D)=>{u.current?.playSegments(g,D)},Ge=g=>{u.current?.setSubframe(g)},Ue=g=>u.current?.getDuration(g),Be=()=>{u.current?.destroy(),u.current=void 0},Ve=(g={})=>{if(!N.current)return()=>{};u.current?.destroy();let D={...r,...g,container:N.current,loop:S,rendererSettings:{role:"img",expression:!1,...r.rendererSettings}};return u.current=e.loadAnimation(D),()=>{u.current?.destroy(),u.current=void 0}};(0,C.useEffect)(()=>{let g=Ve();return()=>g?.()},[f,n,S]),(0,C.useEffect)(()=>{!u.current||(u.current.autoplay=!!p)},[p]),(0,C.useEffect)(()=>{if(!u.current)return;if(!c){u.current.resetSegments(!0);return}if(!Array.isArray(c)||!c.length)return;let[g,D]=c;(u.current.currentRawFrame<g||u.current.currentRawFrame>D)&&(u.current.currentRawFrame=g),u.current.setSegment(g,D)},[c]);let qe=(0,C.useId)();return(0,C.useEffect)(()=>{let g=ve({animationContainer:N,setAnimationLoaded:le,onDOMLoaded:F,renderer:x,animationPrefix:s,a11yText:l,a11yDescription:d,a11yDescriptionDOMId:qe}),Le=[{name:"complete",handler:h},{name:"loopComplete",handler:I},{name:"enterFrame",handler:L},{name:"segmentStart",handler:w},{name:"config_ready",handler:O},{name:"data_ready",handler:T},{name:"data_failed",handler:v},{name:"loaded_images",handler:R},{name:"DOMLoaded",handler:g},{name:"destroy",handler:W}].filter(Z=>Z.handler!=null);if(!Le.length)return()=>{};let He=Le.map(Z=>Ae(u,Z));return()=>{He.forEach(Z=>Z())}},[h,I,L,w,O,T,v,R,F,W,n]),{View:C.default.createElement("div",{className:`${s}-view ${t||""}`,style:{visibility:te?"visible":"hidden",...o},ref:N,...V}),play:pe,stop:oe,pause:Me,setSpeed:ke,goToAndStop:We,goToAndPlay:Fe,setDirection:ze,playSegments:je,setSubframe:Ge,getDuration:Ue,destroy:Be,animationContainerRef:N,animationLoaded:te,lottieItem:u.current}},Te=nr;i();a();var Ne=`${j}-animation`,sr=e=>{let{containerClassName:r="",containerStyle:t={},style:o,className:s,poster:l,posterProps:d={},a11yDescription:f,a11yText:n,lottie:S,speed:p,...c}=e,{View:h,play:I,stop:L,pause:w,setSpeed:O,goToAndStop:T,goToAndPlay:v,setDirection:R,playSegments:F,setSubframe:W,getDuration:K,destroy:b,animationContainerRef:x,animationLoaded:E,lottieItem:A}=Te({lottie:S,lottieProps:c,className:s,style:o,animationPrefix:Ne,a11yText:n,a11yDescription:f});(0,B.useEffect)(()=>{e.animationRef&&Object.assign(e.animationRef,{current:{play:I,stop:L,pause:w,setSpeed:O,goToAndPlay:v,goToAndStop:T,setDirection:R,playSegments:F,setSubframe:W,getDuration:K,destroy:b,animationContainerRef:x,animationLoaded:E,lottieItem:A}})},[e.animationRef]),(0,B.useEffect)(()=>{p&&O(p)},[p]),(0,B.useEffect)(()=>{e.lottieRef&&Object.assign(e.lottieRef,{current:{...A}})},[e.lottieRef]);let{pictureClassName:z=""}=d,V=()=>!l||E?null:typeof l=="function"?l():B.default.createElement(Oe,{pictureClassName:`${j}-animation-poster ${z}`,src:l,...d});return B.default.createElement("div",{className:`${Ne} ${r}`,style:t},h,V())},Pt=sr;i();a();var vt={SVG:"svg",CANVAS:"canvas"},At={postive:1,reverse:-1};export{Oe as a,Pt as b,vt as c,At as d};
//# sourceMappingURL=chunk-CBNY2XQM.js.map
