import{a as be,b as we,c as me,d as St,e as Ee,f as vt,g as Jt,h as Q,i as $t,j as dt,k as ge,l as te,m as z,n as W,o as Be,p as Lt,q as _e,r as Se,s as ve}from"./chunk-V3FLECS4.js";import{a as Ge}from"./chunk-F6LAWA6D.js";import{a as ye,c as Me,d as Ve}from"./chunk-GUM36CPA.js";import{c as qe,f as Pe,h as T,o as N,q}from"./chunk-LHDKEQAM.js";var In=qe(o=>{N();q();Object.defineProperty(o,"__esModule",{value:!0});o.s16=o.s8=o.nu64be=o.u48be=o.u40be=o.u32be=o.u24be=o.u16be=o.nu64=o.u48=o.u40=o.u32=o.u24=o.u16=o.u8=o.offset=o.greedy=o.Constant=o.UTF8=o.CString=o.Blob=o.Boolean=o.BitField=o.BitStructure=o.VariantLayout=o.Union=o.UnionLayoutDiscriminator=o.UnionDiscriminator=o.Structure=o.Sequence=o.DoubleBE=o.Double=o.FloatBE=o.Float=o.NearInt64BE=o.NearInt64=o.NearUInt64BE=o.NearUInt64=o.IntBE=o.Int=o.UIntBE=o.UInt=o.OffsetLayout=o.GreedyCount=o.ExternalLayout=o.bindConstructorLayout=o.nameWithProperty=o.Layout=o.uint8ArrayToBuffer=o.checkUint8Array=void 0;o.constant=o.utf8=o.cstr=o.blob=o.unionLayoutDiscriminator=o.union=o.seq=o.bits=o.struct=o.f64be=o.f64=o.f32be=o.f32=o.ns64be=o.s48be=o.s40be=o.s32be=o.s24be=o.s16be=o.ns64=o.s48=o.s40=o.s32=o.s24=void 0;var oe=Ve();function xt(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o.checkUint8Array=xt;function b(r){return xt(r),oe.Buffer.from(r.buffer,r.byteOffset,r.length)}o.uint8ArrayToBuffer=b;var m=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};o.Layout=m;function ie(r,t){return t.property?r+"["+t.property+"]":r}o.nameWithProperty=ie;function Ln(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof m))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}o.bindConstructorLayout=Ln;var O=class extends m{isCount(){throw new Error("ExternalLayout is abstract")}};o.ExternalLayout=O;var Tt=class extends O{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){xt(t);let n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}};o.GreedyCount=Tt;var wt=class extends O{constructor(t,e=0,n){if(!(t instanceof m))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof M||this.layout instanceof V}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}};o.OffsetLayout=wt;var M=class extends m{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return b(t).readUIntLE(e,this.span)}encode(t,e,n=0){return b(e).writeUIntLE(t,n,this.span),this.span}};o.UInt=M;var V=class extends m{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return b(t).readUIntBE(e,this.span)}encode(t,e,n=0){return b(e).writeUIntBE(t,n,this.span),this.span}};o.UIntBE=V;var J=class extends m{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return b(t).readIntLE(e,this.span)}encode(t,e,n=0){return b(e).writeIntLE(t,n,this.span),this.span}};o.Int=J;var st=class extends m{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return b(t).readIntBE(e,this.span)}encode(t,e,n=0){return b(e).writeIntBE(t,n,this.span),this.span}};o.IntBE=st;var se=Math.pow(2,32);function zt(r){let t=Math.floor(r/se),e=r-t*se;return{hi32:t,lo32:e}}function Wt(r,t){return r*se+t}var At=class extends m{constructor(t){super(8,t)}decode(t,e=0){let n=b(t),s=n.readUInt32LE(e),i=n.readUInt32LE(e+4);return Wt(i,s)}encode(t,e,n=0){let s=zt(t),i=b(e);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}};o.NearUInt64=At;var Dt=class extends m{constructor(t){super(8,t)}decode(t,e=0){let n=b(t),s=n.readUInt32BE(e),i=n.readUInt32BE(e+4);return Wt(s,i)}encode(t,e,n=0){let s=zt(t),i=b(e);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}};o.NearUInt64BE=Dt;var Ot=class extends m{constructor(t){super(8,t)}decode(t,e=0){let n=b(t),s=n.readUInt32LE(e),i=n.readInt32LE(e+4);return Wt(i,s)}encode(t,e,n=0){let s=zt(t),i=b(e);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}};o.NearInt64=Ot;var Ct=class extends m{constructor(t){super(8,t)}decode(t,e=0){let n=b(t),s=n.readInt32BE(e),i=n.readUInt32BE(e+4);return Wt(s,i)}encode(t,e,n=0){let s=zt(t),i=b(e);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}};o.NearInt64BE=Ct;var Ut=class extends m{constructor(t){super(4,t)}decode(t,e=0){return b(t).readFloatLE(e)}encode(t,e,n=0){return b(e).writeFloatLE(t,n),4}};o.Float=Ut;var kt=class extends m{constructor(t){super(4,t)}decode(t,e=0){return b(t).readFloatBE(e)}encode(t,e,n=0){return b(e).writeFloatBE(t,n),4}};o.FloatBE=kt;var Ht=class extends m{constructor(t){super(8,t)}decode(t,e=0){return b(t).readDoubleLE(e)}encode(t,e,n=0){return b(e).writeDoubleLE(t,n),8}};o.Double=Ht;var Ft=class extends m{constructor(t){super(8,t)}decode(t,e=0){return b(t).readDoubleBE(e)}encode(t,e,n=0){return b(e).writeDoubleBE(t,n),8}};o.DoubleBE=Ft;var Nt=class extends m{constructor(t,e,n){if(!(t instanceof m))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof O&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof O)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof O&&(s=s.decode(t,e)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){let n=[],s=0,i=this.count;for(i instanceof O&&(i=i.decode(t,e));s<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return n}encode(t,e,n=0){let s=this.elementLayout,i=t.reduce((u,f)=>u+s.encode(f,e,n+u),0);return this.count instanceof O&&this.count.encode(t.length,e,n),i}};o.Sequence=Nt;var qt=class extends m{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,u)=>i&&u instanceof m,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(let i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,u)=>i+u.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{let u=i.getSpan(t,e);return e+=u,s+u},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){xt(t);let n=this.makeDestinationObject();for(let s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){let s=n,i=0,u=0;for(let f of this.fields){let E=f.span;if(u=0<E?E:0,f.property!==void 0){let g=t[f.property];g!==void 0&&(u=f.encode(g,e,n),0>E&&(E=f.getSpan(e,n)))}i=n,n+=E}return i+u-s}fromArray(t){let e=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(let n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}};o.Structure=qt;var mt=class{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}};o.UnionDiscriminator=mt;var pt=class extends mt{constructor(t,e){if(!(t instanceof O&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}};o.UnionLayoutDiscriminator=pt;var Et=class extends m{constructor(t,e,n){let s;if(t instanceof M||t instanceof V)s=new pt(new wt(t));else if(t instanceof O&&t.isCount())s=new pt(t);else if(t instanceof mt)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof m))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof M||t instanceof V)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof M||t instanceof V,this.defaultLayout=e,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return u(f)},this.configGetSourceVariant=function(f){u=f.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;let n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(let e in this.registry){let n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n,s=this.discriminator,i=s.decode(t,e),u=this.registry[i];if(u===void 0){let f=this.defaultLayout,E=0;this.usesPrefixDiscriminator&&(E=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[f.property]=f.decode(t,e+E)}else n=u.decode(t,e);return n}encode(t,e,n=0){let s=this.getSourceVariant(t);if(s===void 0){let i=this.discriminator,u=this.defaultLayout,f=0;return this.usesPrefixDiscriminator&&(f=i.layout.span),i.encode(t[i.property],e,n),f+u.encode(t[u.property],e,n+f)}return s.encode(t,e,n)}addVariant(t,e,n){let s=new Pt(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}};o.Union=Et;var Pt=class extends m{constructor(t,e,n,s){if(!(t instanceof Et))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof m))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,e+n)),n+s}decode(t,e=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};o.VariantLayout=Pt;function lt(r){return 0>r&&(r+=4294967296),r}var gt=class extends m{constructor(t,e,n){if(!(t instanceof M||t instanceof V))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=lt(i),this},this._packedGetValue=function(){return s}}decode(t,e=0){let n=this.makeDestinationObject(),s=this.word.decode(t,e);this._packedSetValue(s);for(let i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){let s=this.word.decode(e,n);this._packedSetValue(s);for(let i of this.fields)if(i.property!==void 0){let u=t[i.property];u!==void 0&&i.encode(u)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){let n=new Bt(this,t,e);return this.fields.push(n),n}addBoolean(t){let e=new Mt(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}};o.BitStructure=gt;var Bt=class{constructor(t,e,n){if(!(t instanceof gt))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");let s=8*t.span,i=t.fields.reduce((u,f)=>u+f.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=lt(this.valueMask<<this.start),this.property=n}decode(t,e){let n=this.container._packedGetValue();return lt(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==lt(t&this.valueMask))throw new TypeError(ie("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let e=this.container._packedGetValue(),n=lt(t<<this.start);this.container._packedSetValue(lt(e&~this.wordMask)|n)}};o.BitField=Bt;var Mt=class extends Bt{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};o.Boolean=Mt;var Vt=class extends m{constructor(t,e){if(!(t instanceof O&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof O||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),b(t).slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof O&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(ie("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>e.length)throw new RangeError("encoding overruns Uint8Array");let i=b(t);return b(e).write(i.toString("hex"),n,s,"hex"),this.length instanceof O&&this.length.encode(s,e,n),s}};o.Blob=Vt;var Gt=class extends m{constructor(t){super(-1,t)}getSpan(t,e=0){xt(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){let n=this.getSpan(t,e);return b(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let s=oe.Buffer.from(t,"utf8"),i=s.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");let u=b(e);return s.copy(u,n),u[n+i]=0,i+1}};o.CString=Gt;var Zt=class extends m{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return xt(t),t.length-e}decode(t,e=0){let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return b(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let s=oe.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(b(e),n),i}};o.UTF8=Zt;var jt=class extends m{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}};o.Constant=jt;o.greedy=(r,t)=>new Tt(r,t);o.offset=(r,t,e)=>new wt(r,t,e);o.u8=r=>new M(1,r);o.u16=r=>new M(2,r);o.u24=r=>new M(3,r);o.u32=r=>new M(4,r);o.u40=r=>new M(5,r);o.u48=r=>new M(6,r);o.nu64=r=>new At(r);o.u16be=r=>new V(2,r);o.u24be=r=>new V(3,r);o.u32be=r=>new V(4,r);o.u40be=r=>new V(5,r);o.u48be=r=>new V(6,r);o.nu64be=r=>new Dt(r);o.s8=r=>new J(1,r);o.s16=r=>new J(2,r);o.s24=r=>new J(3,r);o.s32=r=>new J(4,r);o.s40=r=>new J(5,r);o.s48=r=>new J(6,r);o.ns64=r=>new Ot(r);o.s16be=r=>new st(2,r);o.s24be=r=>new st(3,r);o.s32be=r=>new st(4,r);o.s40be=r=>new st(5,r);o.s48be=r=>new st(6,r);o.ns64be=r=>new Ct(r);o.f32=r=>new Ut(r);o.f32be=r=>new kt(r);o.f64=r=>new Ht(r);o.f64be=r=>new Ft(r);o.struct=(r,t,e)=>new qt(r,t,e);o.bits=(r,t,e)=>new gt(r,t,e);o.seq=(r,t,e)=>new Nt(r,t,e);o.union=(r,t,e)=>new Et(r,t,e);o.unionLayoutDiscriminator=(r,t)=>new pt(r,t);o.blob=(r,t)=>new Vt(r,t);o.cstr=r=>new Gt(r);o.utf8=(r,t)=>new Zt(r,t);o.constant=(r,t)=>new jt(r,t)});N();q();N();q();N();q();var It=BigInt(4294967295),ee=BigInt(32);function Le(r,t=!1){return t?{h:Number(r&It),l:Number(r>>ee&It)}:{h:Number(r>>ee&It)|0,l:Number(r&It)|0}}function Ze(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){let{h:i,l:u}=Le(r[s],t);[e[s],n[s]]=[i,u]}return[e,n]}var je=(r,t)=>BigInt(r>>>0)<<ee|BigInt(t>>>0),ze=(r,t,e)=>r>>>e,We=(r,t,e)=>r<<32-e|t>>>e,Ye=(r,t,e)=>r>>>e|t<<32-e,Xe=(r,t,e)=>r<<32-e|t>>>e,Ke=(r,t,e)=>r<<64-e|t>>>e-32,Qe=(r,t,e)=>r>>>e-32|t<<64-e,Je=(r,t)=>t,$e=(r,t)=>r,tn=(r,t,e)=>r<<e|t>>>32-e,en=(r,t,e)=>t<<e|r>>>32-e,nn=(r,t,e)=>t<<e-32|r>>>64-e,rn=(r,t,e)=>r<<e-32|t>>>64-e;function sn(r,t,e,n){let s=(t>>>0)+(n>>>0);return{h:r+e+(s/2**32|0)|0,l:s|0}}var on=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),cn=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,an=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),un=(r,t,e,n,s)=>t+e+n+s+(r/2**32|0)|0,fn=(r,t,e,n,s)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),dn=(r,t,e,n,s,i)=>t+e+n+s+i+(r/2**32|0)|0;var hn={fromBig:Le,split:Ze,toBig:je,shrSH:ze,shrSL:We,rotrSH:Ye,rotrSL:Xe,rotrBH:Ke,rotrBL:Qe,rotr32H:Je,rotr32L:$e,rotlSH:tn,rotlSL:en,rotlBH:nn,rotlBL:rn,add:sn,add3L:on,add3H:cn,add4L:an,add4H:un,add5H:dn,add5L:fn},p=hn;var[ln,pn]=(()=>p.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))))(),nt=new Uint32Array(80),rt=new Uint32Array(80),ne=class extends me{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:s,Ch:i,Cl:u,Dh:f,Dl:E,Eh:g,El:a,Fh:S,Fl:v,Gh:D,Gl:U,Hh:R,Hl:C}=this;return[t,e,n,s,i,u,f,E,g,a,S,v,D,U,R,C]}set(t,e,n,s,i,u,f,E,g,a,S,v,D,U,R,C){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=u|0,this.Dh=f|0,this.Dl=E|0,this.Eh=g|0,this.El=a|0,this.Fh=S|0,this.Fl=v|0,this.Gh=D|0,this.Gl=U|0,this.Hh=R|0,this.Hl=C|0}process(t,e){for(let h=0;h<16;h++,e+=4)nt[h]=t.getUint32(e),rt[h]=t.getUint32(e+=4);for(let h=16;h<80;h++){let k=nt[h-15]|0,j=rt[h-15]|0,tt=p.rotrSH(k,j,1)^p.rotrSH(k,j,8)^p.shrSH(k,j,7),at=p.rotrSL(k,j,1)^p.rotrSL(k,j,8)^p.shrSL(k,j,7),G=nt[h-2]|0,H=rt[h-2]|0,ut=p.rotrSH(G,H,19)^p.rotrBH(G,H,61)^p.shrSH(G,H,6),it=p.rotrSL(G,H,19)^p.rotrBL(G,H,61)^p.shrSL(G,H,6),ft=p.add4L(at,it,rt[h-7],rt[h-16]),yt=p.add4H(ft,tt,ut,nt[h-7],nt[h-16]);nt[h]=yt|0,rt[h]=ft|0}let{Ah:n,Al:s,Bh:i,Bl:u,Ch:f,Cl:E,Dh:g,Dl:a,Eh:S,El:v,Fh:D,Fl:U,Gh:R,Gl:C,Hh:$,Hl:ot}=this;for(let h=0;h<80;h++){let k=p.rotrSH(S,v,14)^p.rotrSH(S,v,18)^p.rotrBH(S,v,41),j=p.rotrSL(S,v,14)^p.rotrSL(S,v,18)^p.rotrBL(S,v,41),tt=S&D^~S&R,at=v&U^~v&C,G=p.add5L(ot,j,at,pn[h],rt[h]),H=p.add5H(G,$,k,tt,ln[h],nt[h]),ut=G|0,it=p.rotrSH(n,s,28)^p.rotrBH(n,s,34)^p.rotrBH(n,s,39),ft=p.rotrSL(n,s,28)^p.rotrBL(n,s,34)^p.rotrBL(n,s,39),yt=n&i^n&f^i&f,Xt=s&u^s&E^u&E;$=R|0,ot=C|0,R=D|0,C=U|0,D=S|0,U=v|0,{h:S,l:v}=p.add(g|0,a|0,H|0,ut|0),g=f|0,a=E|0,f=i|0,E=u|0,i=n|0,u=s|0;let Kt=p.add3L(ut,ft,Xt);n=p.add3H(Kt,H,it,yt),s=Kt|0}({h:n,l:s}=p.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:u}=p.add(this.Bh|0,this.Bl|0,i|0,u|0),{h:f,l:E}=p.add(this.Ch|0,this.Cl|0,f|0,E|0),{h:g,l:a}=p.add(this.Dh|0,this.Dl|0,g|0,a|0),{h:S,l:v}=p.add(this.Eh|0,this.El|0,S|0,v|0),{h:D,l:U}=p.add(this.Fh|0,this.Fl|0,D|0,U|0),{h:R,l:C}=p.add(this.Gh|0,this.Gl|0,R|0,C|0),{h:$,l:ot}=p.add(this.Hh|0,this.Hl|0,$|0,ot|0),this.set(n,s,i,u,f,E,g,a,S,v,D,U,R,C,$,ot)}roundClean(){nt.fill(0),rt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Ie=be(()=>new ne);N();q();var Y=BigInt(0),P=BigInt(1),Rt=BigInt(2),xn=BigInt(8),yn={zip215:!0};function bn(r){let t=ve(r);return ge(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Re(r){let t=bn(r),{Fp:e,n,prehash:s,hash:i,randomBytes:u,nByteLength:f,h:E}=t,g=Rt<<BigInt(f*8)-P,a=e.create,S=Lt(t.n,t.nBitLength),v=t.uvRatio||((l,c)=>{try{return{isValid:!0,value:e.sqrt(l*e.inv(c))}}catch{return{isValid:!1,value:Y}}}),D=t.adjustScalarBytes||(l=>l),U=t.domain||((l,c,d)=>{if(St("phflag",d),c.length||d)throw new Error("Contexts/pre-hash are not supported");return l});function R(l,c){dt("coordinate "+l,c,Y,g)}function C(l){if(!(l instanceof h))throw new Error("ExtendedPoint expected")}let $=te((l,c)=>{let{ex:d,ey:x,ez:y}=l,w=l.is0();c==null&&(c=w?xn:e.inv(y));let B=a(d*c),L=a(x*c),_=a(y*c);if(w)return{x:Y,y:P};if(_!==P)throw new Error("invZ was invalid");return{x:B,y:L}}),ot=te(l=>{let{a:c,d}=t;if(l.is0())throw new Error("bad point: ZERO");let{ex:x,ey:y,ez:w,et:B}=l,L=a(x*x),_=a(y*y),I=a(w*w),A=a(I*I),F=a(L*c),X=a(I*a(F+_)),K=a(A+a(d*a(L*_)));if(X!==K)throw new Error("bad point: equation left != right (1)");let Z=a(x*y),et=a(w*B);if(Z!==et)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(c,d,x,y){this.ex=c,this.ey=d,this.ez=x,this.et=y,R("x",c),R("y",d),R("z",x),R("t",y),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(c){if(c instanceof h)throw new Error("extended point not allowed");let{x:d,y:x}=c||{};return R("x",d),R("y",x),new h(d,x,P,a(d*x))}static normalizeZ(c){let d=e.invertBatch(c.map(x=>x.ez));return c.map((x,y)=>x.toAffine(d[y])).map(h.fromAffine)}static msm(c,d){return Se(h,S,c,d)}_setWindowSize(c){tt.setWindowSize(this,c)}assertValidity(){ot(this)}equals(c){C(c);let{ex:d,ey:x,ez:y}=this,{ex:w,ey:B,ez:L}=c,_=a(d*L),I=a(w*y),A=a(x*L),F=a(B*y);return _===I&&A===F}is0(){return this.equals(h.ZERO)}negate(){return new h(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){let{a:c}=t,{ex:d,ey:x,ez:y}=this,w=a(d*d),B=a(x*x),L=a(Rt*a(y*y)),_=a(c*w),I=d+x,A=a(a(I*I)-w-B),F=_+B,X=F-L,K=_-B,Z=a(A*X),et=a(F*K),ct=a(A*K),_t=a(X*F);return new h(Z,et,_t,ct)}add(c){C(c);let{a:d,d:x}=t,{ex:y,ey:w,ez:B,et:L}=this,{ex:_,ey:I,ez:A,et:F}=c;if(d===BigInt(-1)){let ue=a((w-y)*(I+_)),fe=a((w+y)*(I-_)),Qt=a(fe-ue);if(Qt===Y)return this.double();let de=a(B*Rt*F),he=a(L*Rt*A),le=he+de,pe=fe+ue,xe=he-de,ke=a(le*Qt),He=a(pe*xe),Fe=a(le*xe),Ne=a(Qt*pe);return new h(ke,He,Ne,Fe)}let X=a(y*_),K=a(w*I),Z=a(L*x*F),et=a(B*A),ct=a((y+w)*(_+I)-X-K),_t=et-Z,ce=et+Z,ae=a(K-d*X),De=a(ct*_t),Oe=a(ce*ae),Ce=a(ct*ae),Ue=a(_t*ce);return new h(De,Oe,Ue,Ce)}subtract(c){return this.add(c.negate())}wNAF(c){return tt.wNAFCached(this,c,h.normalizeZ)}multiply(c){let d=c;dt("scalar",d,P,n);let{p:x,f:y}=this.wNAF(d);return h.normalizeZ([x,y])[0]}multiplyUnsafe(c){let d=c;return dt("scalar",d,Y,n),d===Y?j:this.equals(j)||d===P?this:this.equals(k)?this.wNAF(d).p:tt.unsafeLadder(this,d)}isSmallOrder(){return this.multiplyUnsafe(E).is0()}isTorsionFree(){return tt.unsafeLadder(this,n).is0()}toAffine(c){return $(this,c)}clearCofactor(){let{h:c}=t;return c===P?this:this.multiplyUnsafe(c)}static fromHex(c,d=!1){let{d:x,a:y}=t,w=e.BYTES;c=Q("pointHex",c,w),St("zip215",d);let B=c.slice(),L=c[w-1];B[w-1]=L&-129;let _=vt(B),I=d?g:e.ORDER;dt("pointHex.y",_,Y,I);let A=a(_*_),F=a(A-P),X=a(x*A-y),{isValid:K,value:Z}=v(F,X);if(!K)throw new Error("Point.fromHex: invalid y coordinate");let et=(Z&P)===P,ct=(L&128)!==0;if(!d&&Z===Y&&ct)throw new Error("Point.fromHex: x=0 and x_0=1");return ct!==et&&(Z=a(-Z)),h.fromAffine({x:Z,y:_})}static fromPrivateKey(c){return H(c).point}toRawBytes(){let{x:c,y:d}=this.toAffine(),x=Jt(d,e.BYTES);return x[x.length-1]|=c&P?128:0,x}toHex(){return Ee(this.toRawBytes())}}h.BASE=new h(t.Gx,t.Gy,P,a(t.Gx*t.Gy)),h.ZERO=new h(Y,P,P,Y);let{BASE:k,ZERO:j}=h,tt=_e(h,f*8);function at(l){return z(l,n)}function G(l){return at(vt(l))}function H(l){let c=f;l=Q("private key",l,c);let d=Q("hashed private key",i(l),2*c),x=D(d.slice(0,c)),y=d.slice(c,2*c),w=G(x),B=k.multiply(w),L=B.toRawBytes();return{head:x,prefix:y,scalar:w,point:B,pointBytes:L}}function ut(l){return H(l).pointBytes}function it(l=new Uint8Array,...c){let d=$t(...c);return G(i(U(d,Q("context",l),!!s)))}function ft(l,c,d={}){l=Q("message",l),s&&(l=s(l));let{prefix:x,scalar:y,pointBytes:w}=H(c),B=it(d.context,x,l),L=k.multiply(B).toRawBytes(),_=it(d.context,L,w,l),I=at(B+_*y);dt("signature.s",I,Y,n);let A=$t(L,Jt(I,e.BYTES));return Q("result",A,f*2)}let yt=yn;function Xt(l,c,d,x=yt){let{context:y,zip215:w}=x,B=e.BYTES;l=Q("signature",l,2*B),c=Q("message",c),w!==void 0&&St("zip215",w),s&&(c=s(c));let L=vt(l.slice(B,2*B)),_,I,A;try{_=h.fromHex(d,w),I=h.fromHex(l.slice(0,B),w),A=k.multiplyUnsafe(L)}catch{return!1}if(!w&&_.isSmallOrder())return!1;let F=it(y,I.toRawBytes(),_.toRawBytes(),c);return I.add(_.multiplyUnsafe(F)).subtract(A).clearCofactor().equals(h.ZERO)}return k._setWindowSize(8),{CURVE:t,getPublicKey:ut,sign:ft,verify:Xt,ExtendedPoint:h,utils:{getExtendedPublicKey:H,randomPrivateKey:()=>u(e.BYTES),precompute(l=8,c=h.BASE){return c._setWindowSize(l),c.multiply(BigInt(3)),c}}}}var re=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Te=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),$n=BigInt(0),wn=BigInt(1),Ae=BigInt(2),tr=BigInt(3),mn=BigInt(5),En=BigInt(8);function gn(r){let t=BigInt(10),e=BigInt(20),n=BigInt(40),s=BigInt(80),i=re,f=r*r%i*r%i,E=W(f,Ae,i)*f%i,g=W(E,wn,i)*r%i,a=W(g,mn,i)*g%i,S=W(a,t,i)*a%i,v=W(S,e,i)*S%i,D=W(v,n,i)*v%i,U=W(D,s,i)*D%i,R=W(U,s,i)*D%i,C=W(R,t,i)*a%i;return{pow_p_5_8:W(C,Ae,i)*r%i,b2:f}}function Bn(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function _n(r,t){let e=re,n=z(t*t*t,e),s=z(n*n*t,e),i=gn(r*s).pow_p_5_8,u=z(r*n*i,e),f=z(t*u*u,e),E=u,g=z(u*Te,e),a=f===r,S=f===z(-r,e),v=f===z(-r*Te,e);return a&&(u=E),(S||v)&&(u=g),Be(u,e)&&(u=z(-u,e)),{isValid:a||S,value:u}}var Sn=(()=>Lt(re,void 0,!0))(),vn=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Sn,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:En,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ie,randomBytes:we,adjustScalarBytes:Bn,uvRatio:_n}))(),er=(()=>Re(vn))();N();q();Me();N();q();var Yt=Pe(Ge(),1);var Rn=class extends Yt.default{constructor(t,e,n){super();T(this,"socket");this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,e,n){let s=n||e;try{this.socket.send(t),s()}catch(i){s(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};function lr(r,t){return new Rn(r,t)}var Tn=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},pr=class extends Yt.default{constructor(t,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:u=5,...f}={},E,g){super();T(this,"address");T(this,"rpc_id");T(this,"queue");T(this,"options");T(this,"autoconnect");T(this,"ready");T(this,"reconnect");T(this,"reconnect_timer_id");T(this,"reconnect_interval");T(this,"max_reconnects");T(this,"rest_options");T(this,"current_reconnects");T(this,"generate_request_id");T(this,"socket");T(this,"webSocketFactory");T(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=u,this.rest_options=f,this.current_reconnects=0,this.generate_request_id=E||(()=>++this.rpc_id),g?this.dataPack=g:this.dataPack=new Tn,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,n,s){return!s&&typeof n=="object"&&(s=n,n=null),new Promise((i,u)=>{if(!this.ready)return u(new Error("socket not ready"));let f=this.generate_request_id(t,e),E={jsonrpc:"2.0",method:t,params:e||void 0,id:f};this.socket.send(this.dataPack.encode(E),s,g=>{if(g)return u(g);this.queue[f]={promise:[i,u]},n&&(this.queue[f].timeout=setTimeout(()=>{delete this.queue[f],u(new Error("reply timeout"))},n))})})}async login(t){let e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((n,s)=>{if(!this.ready)return s(new Error("socket not ready"));let i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),u=>{if(u)return s(u);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=ye.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);let s=[n.notification];if(n.params.constructor===Object)s.push(n.params);else for(let i=0;i<n.params.length;i++)s.push(n.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",n,s),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}};export{er as a,In as b,lr as c,pr as d};
//# sourceMappingURL=chunk-AL77NTUI.js.map
