import{a as X,b as $,c as j,d as J,e as K,f as Y,g as R,h as ee,i as oe,j as te,k as ne,l as re,m as ie,n as se,o as me,p as A,q as ae,r as le,s as ue,t as de}from"./chunk-CBCQ475Z.js";import"./chunk-O3TIIRPP.js";import"./chunk-E5Y77LVR.js";import{a as Z}from"./chunk-CADVMGAW.js";import"./chunk-WP5MSDLO.js";import"./chunk-AKD4IV4A.js";import"./chunk-ZQKQQ4OE.js";import"./chunk-NMNQL2R3.js";import{b as _}from"./chunk-PB55N5D7.js";import"./chunk-MFGGF2Y7.js";import"./chunk-E5UIMO2Q.js";import{f as W}from"./chunk-5FG6H5J6.js";import"./chunk-5752NKZT.js";import"./chunk-2QA7T6UC.js";import"./chunk-LEVBC5FZ.js";import"./chunk-Q2VVUFER.js";import"./chunk-EYUFC4TO.js";import"./chunk-6U5AQS6C.js";import"./chunk-QHC2DYOH.js";import"./chunk-Y4CIMEKM.js";import"./chunk-K6IXN25O.js";import"./chunk-ULAT354B.js";import"./chunk-RRYQDZYV.js";import"./chunk-L6KPEUIR.js";import"./chunk-EPX4LAAB.js";import"./chunk-S4V3ABCT.js";import"./chunk-R6FBHCT7.js";import"./chunk-MHNQB4I5.js";import"./chunk-GVFJTHCK.js";import"./chunk-J63JN6ZK.js";import"./chunk-LOGCUUNU.js";import"./chunk-BHFRQZBI.js";import"./chunk-57DLZB3H.js";import"./chunk-KJYTBTZX.js";import"./chunk-7B2UMYR3.js";import"./chunk-DLWPK36I.js";import"./chunk-5T4URYBB.js";import"./chunk-6KT3MJYR.js";import"./chunk-4TAIYLPS.js";import"./chunk-LQG7SAW5.js";import"./chunk-CTJA2WQT.js";import"./chunk-F2F65RJN.js";import"./chunk-EGIK3RWU.js";import"./chunk-TQ2XASI3.js";import"./chunk-XXAIJB4T.js";import"./chunk-VPT3GAIN.js";import"./chunk-VJ2JNI4M.js";import{C as G,ra as h,xa as P}from"./chunk-22THXMTO.js";import"./chunk-HUG2KBCE.js";import{a as H}from"./chunk-MCCEOABZ.js";import"./chunk-UJWKDH2G.js";import"./chunk-AHLFMVMC.js";import"./chunk-KZDRRGNV.js";import"./chunk-3DAKLS7D.js";import"./chunk-JVJHSYZS.js";import{a as v,o as z}from"./chunk-IFGNGASP.js";import{Ec as V,He as F,T as D,n as U}from"./chunk-NPJCEXXH.js";import"./chunk-4HHTYYQM.js";import"./chunk-PWGSI7LM.js";import"./chunk-RVS5KJOS.js";import{v as q}from"./chunk-5RLAMZDG.js";import"./chunk-VYWNZTTM.js";import"./chunk-K6YGPUNZ.js";import"./chunk-K6262WF4.js";import"./chunk-ZJ4FWIGG.js";import"./chunk-34KDKISZ.js";import"./chunk-AL77NTUI.js";import"./chunk-V3FLECS4.js";import"./chunk-LHUS6JBK.js";import"./chunk-R6TSAW7C.js";import"./chunk-2W2QYRRT.js";import"./chunk-Q7AZQDRY.js";import"./chunk-DSO47LPO.js";import"./chunk-QOQ6OPZO.js";import"./chunk-MGS2LE6A.js";import"./chunk-CBNY2XQM.js";import"./chunk-FRGP5XJV.js";import{a as ve}from"./chunk-Q2B4R57L.js";import{b as C}from"./chunk-PJC4UBLU.js";import"./chunk-HDMZQINQ.js";import{$ as Le,H as O}from"./chunk-JYNY5RZ4.js";import"./chunk-F6LAWA6D.js";import"./chunk-OAMYZMR4.js";import"./chunk-I7KURANN.js";import"./chunk-BGUOO6AC.js";import"./chunk-GUM36CPA.js";import{f as x,o as u,q as d}from"./chunk-LHDKEQAM.js";u();d();var t=x(C()),E=x(ve());u();d();var b=x(C());Le();var ce=()=>{let{sellStore:n,quoteStore:o}=_(),{tokenPair:r,setTokenPair:f}=X("sell"),e=j(n?.fromToken,r?.from),m=Y(e?.tokenContractAddress);(0,b.useEffect)(()=>{e&&e?.tokenContractAddress&&n.setFromToken(e),e&&m&&e?.tokenContractAddress===m?.tokenContractAddress&&n.setFromToken(O(e,m))},[e?.tokenContractAddress,m?.amountNum]);let l=K();(0,b.useEffect)(()=>{l&&l?.tokenContractAddress&&n.setToToken(l)},[l?.tokenContractAddress]),(0,b.useEffect)(()=>{f({from:n.fromToken,to:n.toToken})},[n?.fromToken?.tokenContractAddress]),$(),J(),(0,b.useEffect)(()=>{o.quoteData?.data&&n.setLoading(!1)},[o.quoteData?.data])};u();d();var a=x(C());var pe=()=>{let{sellStore:n,configStore:o}=_(),{currentMode:r,initLoading:f}=o,{sellValue:e,setSellValue:m,currentSellPreset:l,fromToken:c,updateCurrentPresetAmountList:g,setIsPercentMode:M,sellPresetList:y,currentSellPresetId:T,setSellPresetList:S}=n,N=ue();(0,a.useEffect)(()=>{r==="sell"&&M?.(!1)},[r,M]);let Q=(0,a.useCallback)(s=>{if(r!=="sell"||!z(s.value))return;let L=v.floorDiv(s.value,100,2);m({value:L,type:"select",index:s.index??0}),P.info(h.MEME_SWAP_AMOUNT_SELECT,{data:{type:"select",item:s,currentMode:r}})},[r,m]),_e=(0,a.useCallback)(s=>{m({value:s,type:"custom",index:e?.index??0}),P.info(h.MEME_SWAP_AMOUNT_INPUT,{data:{value:s,type:"custom",index:e?.index??0,currentMode:r}})},[r,e?.index,m]),fe=(0,a.useMemo)(()=>Math.min(V,Number(c?.decimals??0)),[c?.decimals]),ke=(0,a.useMemo)(()=>{if(r!=="sell")return"";if(e?.type==="select"){let s=c?.amountNum||"0";return v.mul(e.value||"0",s)}return e?.value??""},[r,c?.amountNum,e?.type,e?.value]),ge=(0,a.useMemo)(()=>f?[{label:"",key:"meme_sell_loading_1"},{label:"",key:"meme_sell_loading_2"},{label:"",key:"meme_sell_loading_3"}]:(l?.amountList||[]).map((p,k)=>{let B=v.mul(p,100);return{label:D.percent(B),value:B,key:`meme_select${k+1}`,onClick:Q,index:k,symbol:"%",min:0,max:100,precision:0}}),[Q,l?.amountList,f]),ye=(0,a.useCallback)(s=>{let L=s.map(p=>z(p)?v.floorDiv(p,100,2):String(p));if(typeof g=="function"){g(L);return}if(Array.isArray(y)&&typeof S=="function"){let p=y.map(k=>k?.id===T?{...k,amountList:L}:k);S(p)}},[g,y,S,T]),Se=(0,a.useMemo)(()=>{if(e?.type==="select")return e?.index??0},[e?.index,e?.type]);return{inputLabel:N,inputValue:ke,precision:fe,changeHandle:_e,unit:c?.tokenSymbol,quickSelectOptions:ge,handleUpdateQuickSelectOptions:ye,selectedIndex:Se}};u();d();var i={root:"_root_z8yvd_1","tg-root":"_tg-root_z8yvd_4",tgRoot:"_tg-root_z8yvd_4",content:"_content_z8yvd_7",loading:"_loading_z8yvd_10","loading-mask":"_loading-mask_z8yvd_13",loadingMask:"_loading-mask_z8yvd_13","extension-mask":"_extension-mask_z8yvd_13",extensionMask:"_extension-mask_z8yvd_13","tg-mask":"_tg-mask_z8yvd_18",tgMask:"_tg-mask_z8yvd_18",switch:"_switch_z8yvd_23",tab:"_tab_z8yvd_26",token:"_token_z8yvd_29",balance:"_balance_z8yvd_33",input:"_input_z8yvd_36",quote:"_quote_z8yvd_39","input-box":"_input-box_z8yvd_42",inputBox:"_input-box_z8yvd_42","select-token-symbol":"_select-token-symbol_z8yvd_48",selectTokenSymbol:"_select-token-symbol_z8yvd_48",btn:"_btn_z8yvd_55","error-tips":"_error-tips_z8yvd_64",errorTips:"_error-tips_z8yvd_64",divide:"_divide_z8yvd_67"};var be=U(()=>{let{sellStore:n,quoteStore:o,memeSwapStore:r}=_();ce();let f=de(),e=H(),m=Z(G),{inputLabel:l,inputValue:c,precision:g,changeHandle:M,unit:y,quickSelectOptions:T,handleUpdateQuickSelectOptions:S,selectedIndex:N}=pe();return t.default.createElement("div",{className:(0,E.default)(i.root,{[i.tgRoot]:e})},t.default.createElement(q,{hasMask:!0,loading:r?.isSwapLoading,loaderClassName:i.loading,zIndex:11,maskClassName:(0,E.default)(i.loadingMask,e?i.tgMask:i.extensionMask)},t.default.createElement("div",{className:i.content},t.default.createElement(re,null,t.default.createElement(W,{className:i.switch,memeClick:()=>{m({button_name:"to_meme",tab_name:"to_meme"})}}),t.default.createElement(ne,{className:i.tab,loading:o?.initLoading,mode:"sell"})),t.default.createElement(ae,{className:i.token,loading:o?.initLoading,item:n?.fromToken,mode:"sell"}),t.default.createElement(te,{className:i.balance,loading:o?.initLoading,amount:n?.fromToken?.amountNum,currency:n?.fromToken?.tokenSymbol}),t.default.createElement(le,{className:i.input,value:c,precision:g,onChange:M,label:l,placeholder:F("swaptrade_general_placeholder_amount",{},{useBr:!1}),quickSelectOptions:T,handleUpdateQuickSelectOptions:S,selectedIndex:N,unit:y}),f&&t.default.createElement(t.default.Fragment,null,t.default.createElement(A.Quote,{className:"mb-16",initLoading:o.initLoading,rightLoading:o.computedCustomQuoteLoading,circleLoading:o.quoteLoading,tokenAmount:o?.computedToTokenAmount,price:o?.computedToTokenValue,tokenSymbol:n?.toToken?.tokenSymbol}),t.default.createElement(ie,{className:"mb-16",initLoading:o.initLoading}),t.default.createElement(oe,{initLoading:o.initLoading,rightLoading:o.computedCustomQuoteLoading,className:"mb-16"}),t.default.createElement(A.ServiceFeeInfo,{className:"mb-24",initLoading:o.initLoading,rightLoading:o.computedCustomQuoteLoading,useBussinessStore:_})),t.default.createElement(ee,{isSkeleton:r?.isSwapLoading}),t.default.createElement(se,{loading:o.initLoading,useMemeSwapBtnProps:R}))),t.default.createElement(me,null))}),vo=be;export{vo as default};
//# sourceMappingURL=Sell-NM4ITVC5.js.map
