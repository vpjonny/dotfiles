import{a as Mf,d as R2,l as N2,m as c0,n as L2,p as Nr}from"./chunk-UGRF6UE3.js";import{a as O2,b as k2}from"./chunk-4GQL426X.js";import{G as P2,H as A2,I as M2,L as a0,M as I2,O as B2,a as Af,d as E2}from"./chunk-HONEWRHX.js";import{c as R,o as C,p as B,q as x}from"./chunk-LHDKEQAM.js";var If=R(sa=>{C();x();Object.defineProperty(sa,"__esModule",{value:!0});sa.config=void 0;var q2={network:{layer1:"placeholder"},logLevel:"debug"};sa.config=q2});var f0=R(Z=>{C();x();Object.defineProperty(Z,"__esModule",{value:!0});Z.PreconditionFailedError=Z.PayloadTooLargeError=Z.ValidationError=Z.BadPathError=Z.NotEnoughProofError=Z.ConflictError=Z.DoesNotExist=Z.GaiaHubError=Z.NoSessionDataError=Z.InvalidStateError=Z.FailedDecryptionError=Z.SignatureVerificationError=Z.LoginFailedError=Z.InvalidAmountError=Z.NotEnoughFundsError=Z.InvalidDIDError=Z.MissingParameterError=Z.InvalidParameterError=Z.BlockstackError=Z.ERROR_CODES=void 0;Z.ERROR_CODES={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(Z.ERROR_CODES);var Tr=class extends Error{constructor(t){super();let r=t.message,n=`Error Code: ${t.code}`,i=this.stack;if(i)n+=`Stack Trace:
${i}`;else try{throw new Error}catch(s){i=s.stack}r+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${n}`,this.message=r,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}};Z.BlockstackError=Tr;var Bf=class extends Tr{constructor(t,r=""){super({code:Z.ERROR_CODES.MISSING_PARAMETER,message:r,parameter:t}),this.name="MissingParametersError"}};Z.InvalidParameterError=Bf;var Of=class extends Tr{constructor(t,r=""){super({code:Z.ERROR_CODES.MISSING_PARAMETER,message:r,parameter:t}),this.name="MissingParametersError"}};Z.MissingParameterError=Of;var kf=class extends Tr{constructor(t=""){super({code:Z.ERROR_CODES.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}};Z.InvalidDIDError=kf;var Rf=class extends Tr{constructor(t){let r=`Not enough UTXOs to fund. Left to fund: ${t}`;super({code:Z.ERROR_CODES.NOT_ENOUGH_FUNDS_ERROR,message:r}),this.leftToFund=t,this.name="NotEnoughFundsError",this.message=r}};Z.NotEnoughFundsError=Rf;var Nf=class extends Tr{constructor(t,r){let n=`Not enough coin to fund fees transaction fees. Fees would be ${t}, specified spend is  ${r}`;super({code:Z.ERROR_CODES.INVALID_AMOUNT_ERROR,message:n}),this.specifiedAmount=r,this.fees=t,this.name="InvalidAmountError",this.message=n}};Z.InvalidAmountError=Nf;var Lf=class extends Tr{constructor(t){let r=`Failed to login: ${t}`;super({code:Z.ERROR_CODES.LOGIN_FAILED_ERROR,message:r}),this.message=r,this.name="LoginFailedError"}};Z.LoginFailedError=Lf;var qf=class extends Tr{constructor(t){let r=`Failed to verify signature: ${t}`;super({code:Z.ERROR_CODES.SIGNATURE_VERIFICATION_ERROR,message:r}),this.message=r,this.name="SignatureVerificationError"}};Z.SignatureVerificationError=qf;var Hf=class extends Tr{constructor(t="Unable to decrypt cipher object."){super({code:Z.ERROR_CODES.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}};Z.FailedDecryptionError=Hf;var Vf=class extends Tr{constructor(t){super({code:Z.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}};Z.InvalidStateError=Vf;var Df=class extends Tr{constructor(t){super({code:Z.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}};Z.NoSessionDataError=Df;var an=class extends Tr{constructor(t,r){super(t),r&&(this.hubError={statusCode:r.status,statusText:r.statusText},typeof r.body=="string"?this.hubError.message=r.body:typeof r.body=="object"&&Object.assign(this.hubError,r.body))}};Z.GaiaHubError=an;var Kf=class extends an{constructor(t,r){super({message:t,code:Z.ERROR_CODES.DOES_NOT_EXIST},r),this.name="DoesNotExist"}};Z.DoesNotExist=Kf;var Uf=class extends an{constructor(t,r){super({message:t,code:Z.ERROR_CODES.CONFLICT_ERROR},r),this.name="ConflictError"}};Z.ConflictError=Uf;var zf=class extends an{constructor(t,r){super({message:t,code:Z.ERROR_CODES.NOT_ENOUGH_PROOF_ERROR},r),this.name="NotEnoughProofError"}};Z.NotEnoughProofError=zf;var Ff=class extends an{constructor(t,r){super({message:t,code:Z.ERROR_CODES.BAD_PATH_ERROR},r),this.name="BadPathError"}};Z.BadPathError=Ff;var jf=class extends an{constructor(t,r){super({message:t,code:Z.ERROR_CODES.VALIDATION_ERROR},r),this.name="ValidationError"}};Z.ValidationError=jf;var $f=class extends an{constructor(t,r,n){super({message:t,code:Z.ERROR_CODES.PAYLOAD_TOO_LARGE_ERROR},r),this.name="PayloadTooLargeError",this.maxUploadByteSize=n}};Z.PayloadTooLargeError=$f;var Gf=class extends an{constructor(t,r){super({message:t,code:Z.ERROR_CODES.PRECONDITION_FAILED_ERROR},r),this.name="PreconditionFailedError"}};Z.PreconditionFailedError=Gf});var u0=R(oa=>{C();x();Object.defineProperty(oa,"__esModule",{value:!0});oa.Logger=void 0;var H2=If(),d0=["debug","info","warn","error","none"],Wf={},V2={};for(let e=0;e<d0.length;e++){let t=d0[e];Wf[t]=e,V2[e]=t}var Xf=class{static error(t){!this.shouldLog("error")||console.error(this.logMessage("error",t))}static warn(t){!this.shouldLog("warn")||console.warn(this.logMessage("warn",t))}static info(t){!this.shouldLog("info")||console.log(this.logMessage("info",t))}static debug(t){!this.shouldLog("debug")||console.log(this.logMessage("debug",t))}static logMessage(t,r){return`[${t.toUpperCase()}] ${r}`}static shouldLog(t){return Wf[H2.config.logLevel]<=Wf[t]}};oa.Logger=Xf});var aa=R(fe=>{C();x();Object.defineProperty(fe,"__esModule",{value:!0});fe.isInstance=fe.concatArray=fe.concatBytes=fe.toBytes=fe.octetsToBytes=fe.bytesToAscii=fe.asciiToBytes=fe.bytesToUtf8=fe.utf8ToBytes=fe.hexToBytes=fe.bytesToHex=fe.fromTwos=fe.toTwos=fe.bigIntToBytes=fe.hexToInt=fe.intToHex=fe.hexToBigInt=fe.with0x=fe.intToBigInt=fe.intToBytes=void 0;function D2(e,t,r){return h0(Jf(e,t),r)}fe.intToBytes=D2;function Jf(e,t){let r=e;if(typeof r=="number"){if(!Number.isInteger(r))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(r)}if(typeof r=="string")if(r.toLowerCase().startsWith("0x")){let n=r.slice(2);n=n.padStart(n.length+n.length%2,"0"),r=Qf(n)}else try{return BigInt(r)}catch(n){if(n instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${r}' is not finite.`)}if(typeof r=="bigint")return r;if(r instanceof Uint8Array)if(t){let n=b0(BigInt(`0x${Yf(r)}`),BigInt(r.byteLength*8));return BigInt(n.toString())}else return BigInt(`0x${Yf(r)}`);if(r!=null&&typeof r=="object"&&r.constructor.name==="BN")return BigInt(r.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}fe.intToBigInt=Jf;function K2(e){return e.startsWith("0x")?e:`0x${e}`}fe.with0x=K2;function U2(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}fe.hexToBigInt=U2;function l0(e,t=8){return(typeof e=="bigint"?e:Jf(e,!1)).toString(16).padStart(t*2,"0")}fe.intToHex=l0;function z2(e){return parseInt(e,16)}fe.hexToInt=z2;function h0(e,t=16){let r=l0(e,t);return Qf(r)}fe.bigIntToBytes=h0;function F2(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw new Error(`Unable to represent integer in width: ${t}`);return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}fe.toTwos=F2;function j2(e,t){return e&BigInt(1)<<t}function b0(e,t){return j2(e,t-BigInt(1))?e-(BigInt(1)<<t):e}fe.fromTwos=b0;var $2=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Yf(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r of e)t+=$2[r];return t}fe.bytesToHex=Yf;function Qf(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,r=new Uint8Array(t.length/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}fe.hexToBytes=Qf;function p0(e){return new TextEncoder().encode(e)}fe.utf8ToBytes=p0;function G2(e){return new TextDecoder().decode(e)}fe.bytesToUtf8=G2;function W2(e){let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r)&255);return new Uint8Array(t)}fe.asciiToBytes=W2;function X2(e){return String.fromCharCode.apply(null,e)}fe.bytesToAscii=X2;function Y2(e){return!Number.isInteger(e)||e<0||e>255}function Zf(e){if(e.some(Y2))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}fe.octetsToBytes=Zf;function Z2(e){if(typeof e=="string")return p0(e);if(e instanceof Uint8Array)return e;throw new TypeError(`Expected input type is (Uint8Array | string) but got (${typeof e})`)}fe.toBytes=Z2;function y0(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}fe.concatBytes=y0;function J2(e){return y0(...e.map(t=>typeof t=="number"?Zf([t]):t instanceof Array?Zf(t):t))}fe.concatArray=J2;function Q2(e,t){return e instanceof t||e?.constructor?.name?.toLowerCase()===t.name}fe.isInstance=Q2});var g0=R(Er=>{C();x();Object.defineProperty(Er,"__esModule",{value:!0});Er.BLOCKSTACK_DEFAULT_GAIA_HUB_URL=Er.PRIVATE_KEY_UNCOMPRESSED_LENGTH=Er.PRIVATE_KEY_COMPRESSED_LENGTH=Er.TransactionVersion=Er.ChainID=void 0;var em;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(em=Er.ChainID||(Er.ChainID={}));var tm;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(tm=Er.TransactionVersion||(Er.TransactionVersion={}));Er.PRIVATE_KEY_COMPRESSED_LENGTH=33;Er.PRIVATE_KEY_UNCOMPRESSED_LENGTH=32;Er.BLOCKSTACK_DEFAULT_GAIA_HUB_URL="https://hub.blockstack.org"});var m0=R(Un=>{C();x();Object.defineProperty(Un,"__esModule",{value:!0});Un.signatureRsvToVrs=Un.signatureVrsToRsv=Un.parseRecoverableSignatureVrs=void 0;var rm=aa(),ed=32;function nm(e){if(e.length<ed*2*2+1)throw new Error("Invalid signature");let t=e.slice(0,2),r=e.slice(2,2+ed*2),n=e.slice(2+ed*2);return{recoveryId:(0,rm.hexToInt)(t),r,s:n}}Un.parseRecoverableSignatureVrs=nm;function im(e){return e.slice(2)+e.slice(0,2)}Un.signatureVrsToRsv=im;function sm(e){return e.slice(-2)+e.slice(0,-2)}Un.signatureRsvToVrs=sm});var v0=R(ca=>{C();x();Object.defineProperty(ca,"__esModule",{value:!0});ca.privateKeyToBytes=void 0;var om=aa();function am(e){let t=typeof e=="string"?(0,om.hexToBytes)(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}ca.privateKeyToBytes=am});var _0=R(He=>{C();x();Object.defineProperty(He,"__esModule",{value:!0});He.writeUInt32LE=He.readUInt32LE=He.writeUInt32BE=He.readUInt32BE=He.writeUInt16LE=He.readUInt16LE=He.writeUInt8=He.readUInt8=He.writeUInt16BE=He.readUInt16BE=He.alloc=He.equals=void 0;function cm(e,t){if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}He.equals=cm;function fm(e,t){let r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t;return r}He.alloc=fm;function dm(e,t){return(e[t+0]<<8|e[t+1])>>>0}He.readUInt16BE=dm;function um(e,t,r){e[r+0]=t>>>8,e[r+1]=t>>>0}He.writeUInt16BE=um;function lm(e,t){return e[t]}He.readUInt8=lm;function hm(e,t,r){e[r]=t}He.writeUInt8=hm;function bm(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}He.readUInt16LE=bm;function pm(e,t,r){e[r+0]=t&255,t>>>=8,e[r+1]=t&255}He.writeUInt16LE=pm;function ym(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}He.readUInt32BE=ym;function gm(e,t,r){e[r+3]=t,t>>>=8,e[r+2]=t,t>>>=8,e[r+1]=t,t>>>=8,e[r]=t}He.writeUInt32BE=gm;function mm(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0|e[t+2]<<16>>>0|e[t+3]<<24>>>0}He.readUInt32LE=mm;function vm(e,t,r){e[r+0]=t&255,t>>>=8,e[r+1]=t&255,t>>>=8,e[r+2]=t&255,t>>>=8,e[r+3]=t&255}He.writeUInt32LE=vm});var we=R(Pr=>{C();x();var _m=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zn=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_m(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});zn(If(),Pr);zn(f0(),Pr);zn(u0(),Pr);zn(aa(),Pr);zn(g0(),Pr);zn(m0(),Pr);zn(v0(),Pr);zn(_0(),Pr)});var or=R(Y=>{C();x();Object.defineProperty(Y,"__esModule",{value:!0});Y.TxRejectedReason=Y.AssetType=Y.NonFungibleConditionCode=Y.FungibleConditionCode=Y.PubKeyEncoding=Y.AddressVersion=Y.AddressHashMode=Y.AuthType=Y.PostConditionPrincipalID=Y.PostConditionType=Y.PostConditionMode=Y.TransactionVersion=Y.anchorModeFromNameOrValue=Y.AnchorModeNames=Y.AnchorMode=Y.ClarityVersion=Y.PayloadType=Y.StacksMessageType=Y.ChainID=Y.DEFAULT_CORE_NODE_API_URL=Y.MEMO_MAX_LENGTH_BYTES=Y.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=Y.COMPRESSED_PUBKEY_LENGTH_BYTES=Y.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=Y.DEFAULT_TRANSACTION_VERSION=Y.DEFAULT_CHAIN_ID=Y.COINBASE_BYTES_LENGTH=Y.CLARITY_INT_BYTE_SIZE=Y.CLARITY_INT_SIZE=Y.MAX_STRING_LENGTH_BYTES=Y.whenMessageType=void 0;var fa;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(fa||(fa={}));Y.ChainID=fa;var Sm=fa.Mainnet;Y.DEFAULT_CHAIN_ID=Sm;var wm=128;Y.MAX_STRING_LENGTH_BYTES=wm;var Cm=128;Y.CLARITY_INT_SIZE=Cm;var xm=16;Y.CLARITY_INT_BYTE_SIZE=xm;var Tm=32;Y.COINBASE_BYTES_LENGTH=Tm;var Em=65;Y.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=Em;var Pm=32;Y.COMPRESSED_PUBKEY_LENGTH_BYTES=Pm;var Am=64;Y.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=Am;var Mm=34;Y.MEMO_MAX_LENGTH_BYTES=Mm;var Im="https://stacks-node-api.mainnet.stacks.co";Y.DEFAULT_CORE_NODE_API_URL=Im;var td;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(td||(td={}));Y.StacksMessageType=td;function Bm(e){return t=>t[e]}Y.whenMessageType=Bm;var rd;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient"})(rd||(rd={}));Y.PayloadType=rd;var nd;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2"})(nd||(nd={}));Y.ClarityVersion=nd;var Ur;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(Ur||(Ur={}));Y.AnchorMode=Ur;var bo=["onChainOnly","offChainOnly","any"];Y.AnchorModeNames=bo;var S0={[bo[0]]:Ur.OnChainOnly,[bo[1]]:Ur.OffChainOnly,[bo[2]]:Ur.Any,[Ur.OnChainOnly]:Ur.OnChainOnly,[Ur.OffChainOnly]:Ur.OffChainOnly,[Ur.Any]:Ur.Any};function Om(e){if(e in S0)return S0[e];throw new Error(`Invalid anchor mode "${e}", must be one of: ${bo.join(", ")}`)}Y.anchorModeFromNameOrValue=Om;var da;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(da||(da={}));Y.TransactionVersion=da;var km=da.Mainnet;Y.DEFAULT_TRANSACTION_VERSION=km;var id;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(id||(id={}));Y.PostConditionMode=id;var sd;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(sd||(sd={}));Y.PostConditionType=sd;var od;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(od||(od={}));Y.AuthType=od;var ad;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH"})(ad||(ad={}));Y.AddressHashMode=ad;var cd;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(cd||(cd={}));Y.AddressVersion=cd;var fd;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(fd||(fd={}));Y.PubKeyEncoding=fd;var dd;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(dd||(dd={}));Y.FungibleConditionCode=dd;var ud;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(ud||(ud={}));Y.NonFungibleConditionCode=ud;var ld;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(ld||(ld={}));Y.PostConditionPrincipalID=ld;var hd;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(hd||(hd={}));Y.AssetType=hd;var bd;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(bd||(bd={}));Y.TxRejectedReason=bd});var pd=R(ar=>{C();x();Object.defineProperty(ar,"__esModule",{value:!0});ar.c32decode=ar.c32normalize=ar.c32encode=ar.c32=void 0;var Rm=we();ar.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";var po="0123456789abcdef";function Nm(e,t){if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");e.length%2!==0&&(e=`0${e}`),e=e.toLowerCase();let r=[],n=0;for(let c=e.length-1;c>=0;c--)if(n<4){let d=po.indexOf(e[c])>>n,l=0;c!==0&&(l=po.indexOf(e[c-1]));let p=1+n,b=l%(1<<p)<<5-p,E=ar.c32[d+b];n=p,r.unshift(E)}else n=0;let i=0;for(let c=0;c<r.length&&r[c]==="0";c++)i++;r=r.slice(i);let s=new TextDecoder().decode((0,Rm.hexToBytes)(e)).match(/^\u0000*/),o=s?s[0].length:0;for(let c=0;c<o;c++)r.unshift(ar.c32[0]);if(t){let c=t-r.length;for(let d=0;d<c;d++)r.unshift(ar.c32[0])}return r.join("")}ar.c32encode=Nm;function w0(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}ar.c32normalize=w0;function Lm(e,t){if(e=w0(e),!e.match(`^[${ar.c32}]*$`))throw new Error("Not a c32-encoded string");let r=e.match(`^${ar.c32[0]}*`),n=r?r[0].length:0,i=[],s=0,o=0;for(let l=e.length-1;l>=0;l--){o===4&&(i.unshift(po[s]),o=0,s=0);let b=(ar.c32.indexOf(e[l])<<o)+s,E=po[b%16];if(o+=1,s=b>>4,s>1<<o)throw new Error("Panic error in decoding.");i.unshift(E)}i.unshift(po[s]),i.length%2===1&&i.unshift("0");let c=0;for(let l=0;l<i.length&&i[l]==="0";l++)c++;i=i.slice(c-c%2);let d=i.join("");for(let l=0;l<n;l++)d=`00${d}`;if(t){let l=t*2-d.length;for(let p=0;p<l;p+=2)d=`00${d}`}return d}ar.c32decode=Lm});var yd=R(Zi=>{C();x();Object.defineProperty(Zi,"__esModule",{value:!0});Zi.c32checkDecode=Zi.c32checkEncode=void 0;var C0=Nr(),x0=we(),yo=pd();function T0(e){let t=C0.base.sha256(C0.base.sha256((0,x0.hexToBytes)(e)));return(0,x0.bytesToHex)(t.slice(0,4))}function qm(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let r=e.toString(16);r.length===1&&(r=`0${r}`);let n=T0(`${r}${t}`),i=(0,yo.c32encode)(`${t}${n}`);return`${yo.c32[e]}${i}`}Zi.c32checkEncode=qm;function Hm(e){e=(0,yo.c32normalize)(e);let t=(0,yo.c32decode)(e.slice(1)),r=e[0],n=yo.c32.indexOf(r),i=t.slice(-8),s=n.toString(16);if(s.length===1&&(s=`0${s}`),T0(`${s}${t.substring(0,t.length-8)}`)!==i)throw new Error("Invalid c32check string: checksum mismatch");return[n,t.substring(0,t.length-8)]}Zi.c32checkDecode=Hm});var P0=R((FC,E0)=>{C();x();function Vm(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,c=e.charAt(0),d=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function p(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var P=0,T=0,I=0,M=w.length;I!==M&&w[I]===0;)I++,P++;for(var k=(M-I)*l+1>>>0,O=new Uint8Array(k);I!==M;){for(var L=w[I],q=0,H=k-1;(L!==0||q<T)&&H!==-1;H--,q++)L+=256*O[H]>>>0,O[H]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");T=q,I++}for(var D=k-T;D!==k&&O[D]===0;)D++;for(var V=c.repeat(P);D<k;++D)V+=e.charAt(O[D]);return V}function b(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;for(var P=0,T=0,I=0;w[P]===c;)T++,P++;for(var M=(w.length-P)*d+1>>>0,k=new Uint8Array(M);w[P];){var O=t[w.charCodeAt(P)];if(O===255)return;for(var L=0,q=M-1;(O!==0||L<I)&&q!==-1;q--,L++)O+=o*k[q]>>>0,k[q]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");I=L,P++}for(var H=M-I;H!==M&&k[H]===0;)H++;for(var D=new Uint8Array(T+(M-H)),V=T;H!==M;)D[V++]=k[H++];return D}function E(w){var P=b(w);if(P)return P;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:b,decode:E}}E0.exports=Vm});var B0=R(Fn=>{C();x();var Dm=Fn&&Fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.decode=Fn.encode=void 0;var ua=Nr(),A0=we(),M0=Dm(P0()),I0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function Km(e,t="00"){let r=typeof e=="string"?(0,A0.hexToBytes)(e):e,n=typeof t=="string"?(0,A0.hexToBytes)(t):e;if(!(r instanceof Uint8Array)||!(n instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");let i=ua.base.sha256(ua.base.sha256(new Uint8Array([...n,...r])));return(0,M0.default)(I0).encode([...n,...r,...i.slice(0,4)])}Fn.encode=Km;function Um(e){let t=(0,M0.default)(I0).decode(e),r=t.slice(0,1),n=t.slice(1,-4),i=ua.base.sha256(ua.base.sha256(new Uint8Array([...r,...n])));return t.slice(-4).forEach((s,o)=>{if(s!==i[o])throw new Error("Invalid checksum")}),{prefix:r,data:n}}Fn.decode=Um});var q0=R(Ve=>{C();x();var zm=Ve&&Ve.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fm=Ve&&Ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jm=Ve&&Ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zm(t,e,r);return Fm(t,e),t};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.c32ToB58=Ve.b58ToC32=Ve.c32addressDecode=Ve.c32address=Ve.versions=void 0;var k0=yd(),R0=jm(B0()),O0=we();Ve.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};var Ji={};Ji[0]=Ve.versions.mainnet.p2pkh;Ji[5]=Ve.versions.mainnet.p2sh;Ji[111]=Ve.versions.testnet.p2pkh;Ji[196]=Ve.versions.testnet.p2sh;var Qi={};Qi[Ve.versions.mainnet.p2pkh]=0;Qi[Ve.versions.mainnet.p2sh]=5;Qi[Ve.versions.testnet.p2pkh]=111;Qi[Ve.versions.testnet.p2sh]=196;function N0(e,t){if(!t.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,k0.c32checkEncode)(e,t)}`}Ve.c32address=N0;function L0(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,k0.c32checkDecode)(e.slice(1))}Ve.c32addressDecode=L0;function $m(e,t=-1){let r=R0.decode(e),n=(0,O0.bytesToHex)(r.data),i=parseInt((0,O0.bytesToHex)(r.prefix),16),s;return t<0?(s=i,Ji[i]!==void 0&&(s=Ji[i])):s=t,N0(s,n)}Ve.b58ToC32=$m;function Gm(e,t=-1){let r=L0(e),n=r[0],i=r[1],s;t<0?(s=n,Qi[n]!==void 0&&(s=Qi[n])):s=t;let o=s.toString(16);return o.length===1&&(o=`0${o}`),R0.encode(i,o)}Ve.c32ToB58=Gm});var es=R(rt=>{C();x();Object.defineProperty(rt,"__esModule",{value:!0});rt.b58ToC32=rt.c32ToB58=rt.versions=rt.c32normalize=rt.c32addressDecode=rt.c32address=rt.c32checkDecode=rt.c32checkEncode=rt.c32decode=rt.c32encode=void 0;var gd=pd();Object.defineProperty(rt,"c32encode",{enumerable:!0,get:function(){return gd.c32encode}});Object.defineProperty(rt,"c32decode",{enumerable:!0,get:function(){return gd.c32decode}});Object.defineProperty(rt,"c32normalize",{enumerable:!0,get:function(){return gd.c32normalize}});var H0=yd();Object.defineProperty(rt,"c32checkEncode",{enumerable:!0,get:function(){return H0.c32checkEncode}});Object.defineProperty(rt,"c32checkDecode",{enumerable:!0,get:function(){return H0.c32checkDecode}});var go=q0();Object.defineProperty(rt,"c32address",{enumerable:!0,get:function(){return go.c32address}});Object.defineProperty(rt,"c32addressDecode",{enumerable:!0,get:function(){return go.c32addressDecode}});Object.defineProperty(rt,"c32ToB58",{enumerable:!0,get:function(){return go.c32ToB58}});Object.defineProperty(rt,"b58ToC32",{enumerable:!0,get:function(){return go.b58ToC32}});Object.defineProperty(rt,"versions",{enumerable:!0,get:function(){return go.versions}})});var Eh=R((mo,ts)=>{C();x();var Wm=200,Y0="__lodash_hash_undefined__",Z0=9007199254740991,Td="[object Arguments]",Xm="[object Array]",J0="[object Boolean]",Q0="[object Date]",Ym="[object Error]",Ed="[object Function]",eh="[object GeneratorFunction]",la="[object Map]",th="[object Number]",Pd="[object Object]",V0="[object Promise]",rh="[object RegExp]",ha="[object Set]",nh="[object String]",ih="[object Symbol]",vd="[object WeakMap]",sh="[object ArrayBuffer]",ba="[object DataView]",oh="[object Float32Array]",ah="[object Float64Array]",ch="[object Int8Array]",fh="[object Int16Array]",dh="[object Int32Array]",uh="[object Uint8Array]",lh="[object Uint8ClampedArray]",hh="[object Uint16Array]",bh="[object Uint32Array]",Zm=/[\\^$.*+?()[\]{}|]/g,Jm=/\w*$/,Qm=/^\[object .+?Constructor\]$/,e3=/^(?:0|[1-9]\d*)$/,De={};De[Td]=De[Xm]=De[sh]=De[ba]=De[J0]=De[Q0]=De[oh]=De[ah]=De[ch]=De[fh]=De[dh]=De[la]=De[th]=De[Pd]=De[rh]=De[ha]=De[nh]=De[ih]=De[uh]=De[lh]=De[hh]=De[bh]=!0;De[Ym]=De[Ed]=De[vd]=!1;var t3=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,r3=typeof self=="object"&&self&&self.Object===Object&&self,Cn=t3||r3||Function("return this")(),ph=typeof mo=="object"&&mo&&!mo.nodeType&&mo,D0=ph&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,n3=D0&&D0.exports===ph;function i3(e,t){return e.set(t[0],t[1]),e}function s3(e,t){return e.add(t),e}function o3(e,t){for(var r=-1,n=e?e.length:0;++r<n&&t(e[r],r,e)!==!1;);return e}function a3(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function yh(e,t,r,n){var i=-1,s=e?e.length:0;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function c3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function f3(e,t){return e?.[t]}function gh(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function K0(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function Ad(e,t){return function(r){return e(t(r))}}function U0(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var d3=Array.prototype,u3=Function.prototype,pa=Object.prototype,md=Cn["__core-js_shared__"],z0=function(){var e=/[^.]+$/.exec(md&&md.keys&&md.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mh=u3.toString,jn=pa.hasOwnProperty,ya=pa.toString,l3=RegExp("^"+mh.call(jn).replace(Zm,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F0=n3?Cn.Buffer:void 0,j0=Cn.Symbol,$0=Cn.Uint8Array,h3=Ad(Object.getPrototypeOf,Object),b3=Object.create,p3=pa.propertyIsEnumerable,y3=d3.splice,G0=Object.getOwnPropertySymbols,g3=F0?F0.isBuffer:void 0,m3=Ad(Object.keys,Object),_d=is(Cn,"DataView"),vo=is(Cn,"Map"),Sd=is(Cn,"Promise"),wd=is(Cn,"Set"),Cd=is(Cn,"WeakMap"),_o=is(Object,"create"),v3=Ii(_d),_3=Ii(vo),S3=Ii(Sd),w3=Ii(wd),C3=Ii(Cd),W0=j0?j0.prototype:void 0,X0=W0?W0.valueOf:void 0;function Mi(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x3(){this.__data__=_o?_o(null):{}}function T3(e){return this.has(e)&&delete this.__data__[e]}function E3(e){var t=this.__data__;if(_o){var r=t[e];return r===Y0?void 0:r}return jn.call(t,e)?t[e]:void 0}function P3(e){var t=this.__data__;return _o?t[e]!==void 0:jn.call(t,e)}function A3(e,t){var r=this.__data__;return r[e]=_o&&t===void 0?Y0:t,this}Mi.prototype.clear=x3;Mi.prototype.delete=T3;Mi.prototype.get=E3;Mi.prototype.has=P3;Mi.prototype.set=A3;function xn(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function M3(){this.__data__=[]}function I3(e){var t=this.__data__,r=ga(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():y3.call(t,r,1),!0}function B3(e){var t=this.__data__,r=ga(t,e);return r<0?void 0:t[r][1]}function O3(e){return ga(this.__data__,e)>-1}function k3(e,t){var r=this.__data__,n=ga(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}xn.prototype.clear=M3;xn.prototype.delete=I3;xn.prototype.get=B3;xn.prototype.has=O3;xn.prototype.set=k3;function rs(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function R3(){this.__data__={hash:new Mi,map:new(vo||xn),string:new Mi}}function N3(e){return ma(this,e).delete(e)}function L3(e){return ma(this,e).get(e)}function q3(e){return ma(this,e).has(e)}function H3(e,t){return ma(this,e).set(e,t),this}rs.prototype.clear=R3;rs.prototype.delete=N3;rs.prototype.get=L3;rs.prototype.has=q3;rs.prototype.set=H3;function ns(e){this.__data__=new xn(e)}function V3(){this.__data__=new xn}function D3(e){return this.__data__.delete(e)}function K3(e){return this.__data__.get(e)}function U3(e){return this.__data__.has(e)}function z3(e,t){var r=this.__data__;if(r instanceof xn){var n=r.__data__;if(!vo||n.length<Wm-1)return n.push([e,t]),this;r=this.__data__=new rs(n)}return r.set(e,t),this}ns.prototype.clear=V3;ns.prototype.delete=D3;ns.prototype.get=K3;ns.prototype.has=U3;ns.prototype.set=z3;function F3(e,t){var r=Id(e)||b6(e)?c3(e.length,String):[],n=r.length,i=!!n;for(var s in e)(t||jn.call(e,s))&&!(i&&(s=="length"||d6(s,n)))&&r.push(s);return r}function vh(e,t,r){var n=e[t];(!(jn.call(e,t)&&Ch(n,r))||r===void 0&&!(t in e))&&(e[t]=r)}function ga(e,t){for(var r=e.length;r--;)if(Ch(e[r][0],t))return r;return-1}function j3(e,t){return e&&_h(t,Bd(t),e)}function xd(e,t,r,n,i,s,o){var c;if(n&&(c=s?n(e,i,s,o):n(e)),c!==void 0)return c;if(!va(e))return e;var d=Id(e);if(d){if(c=a6(e),!t)return i6(e,c)}else{var l=Ai(e),p=l==Ed||l==eh;if(y6(e))return Z3(e,t);if(l==Pd||l==Td||p&&!s){if(gh(e))return s?e:{};if(c=c6(p?{}:e),!t)return s6(e,j3(c,e))}else{if(!De[l])return s?e:{};c=f6(e,l,xd,t)}}o||(o=new ns);var b=o.get(e);if(b)return b;if(o.set(e,c),!d)var E=r?o6(e):Bd(e);return o3(E||e,function(w,P){E&&(P=w,w=e[P]),vh(c,P,xd(w,t,r,n,P,e,o))}),c}function $3(e){return va(e)?b3(e):{}}function G3(e,t,r){var n=t(e);return Id(e)?n:a3(n,r(e))}function W3(e){return ya.call(e)}function X3(e){if(!va(e)||l6(e))return!1;var t=Th(e)||gh(e)?l3:Qm;return t.test(Ii(e))}function Y3(e){if(!wh(e))return m3(e);var t=[];for(var r in Object(e))jn.call(e,r)&&r!="constructor"&&t.push(r);return t}function Z3(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function Md(e){var t=new e.constructor(e.byteLength);return new $0(t).set(new $0(e)),t}function J3(e,t){var r=t?Md(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Q3(e,t,r){var n=t?r(K0(e),!0):K0(e);return yh(n,i3,new e.constructor)}function e6(e){var t=new e.constructor(e.source,Jm.exec(e));return t.lastIndex=e.lastIndex,t}function t6(e,t,r){var n=t?r(U0(e),!0):U0(e);return yh(n,s3,new e.constructor)}function r6(e){return X0?Object(X0.call(e)):{}}function n6(e,t){var r=t?Md(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function i6(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function _h(e,t,r,n){r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],c=n?n(r[o],e[o],o,r,e):void 0;vh(r,o,c===void 0?e[o]:c)}return r}function s6(e,t){return _h(e,Sh(e),t)}function o6(e){return G3(e,Bd,Sh)}function ma(e,t){var r=e.__data__;return u6(t)?r[typeof t=="string"?"string":"hash"]:r.map}function is(e,t){var r=f3(e,t);return X3(r)?r:void 0}var Sh=G0?Ad(G0,Object):v6,Ai=W3;(_d&&Ai(new _d(new ArrayBuffer(1)))!=ba||vo&&Ai(new vo)!=la||Sd&&Ai(Sd.resolve())!=V0||wd&&Ai(new wd)!=ha||Cd&&Ai(new Cd)!=vd)&&(Ai=function(e){var t=ya.call(e),r=t==Pd?e.constructor:void 0,n=r?Ii(r):void 0;if(n)switch(n){case v3:return ba;case _3:return la;case S3:return V0;case w3:return ha;case C3:return vd}return t});function a6(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&jn.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function c6(e){return typeof e.constructor=="function"&&!wh(e)?$3(h3(e)):{}}function f6(e,t,r,n){var i=e.constructor;switch(t){case sh:return Md(e);case J0:case Q0:return new i(+e);case ba:return J3(e,n);case oh:case ah:case ch:case fh:case dh:case uh:case lh:case hh:case bh:return n6(e,n);case la:return Q3(e,n,r);case th:case nh:return new i(e);case rh:return e6(e);case ha:return t6(e,n,r);case ih:return r6(e)}}function d6(e,t){return t=t??Z0,!!t&&(typeof e=="number"||e3.test(e))&&e>-1&&e%1==0&&e<t}function u6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function l6(e){return!!z0&&z0 in e}function wh(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||pa;return e===r}function Ii(e){if(e!=null){try{return mh.call(e)}catch{}try{return e+""}catch{}}return""}function h6(e){return xd(e,!0,!0)}function Ch(e,t){return e===t||e!==e&&t!==t}function b6(e){return p6(e)&&jn.call(e,"callee")&&(!p3.call(e,"callee")||ya.call(e)==Td)}var Id=Array.isArray;function xh(e){return e!=null&&g6(e.length)&&!Th(e)}function p6(e){return m6(e)&&xh(e)}var y6=g3||_6;function Th(e){var t=va(e)?ya.call(e):"";return t==Ed||t==eh}function g6(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Z0}function va(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function m6(e){return!!e&&typeof e=="object"}function Bd(e){return xh(e)?F3(e):Y3(e)}function v6(){return[]}function _6(){return!1}ts.exports=h6});var ss=R(cn=>{C();x();Object.defineProperty(cn,"__esModule",{value:!0});cn.addressToString=cn.addressFromVersionHash=cn.addressHashModeToVersion=cn.createMessageSignature=void 0;var gr=or(),S6=es(),w6=we();function C6(e){if((0,w6.hexToBytes)(e).byteLength!=gr.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)throw Error("Invalid signature");return{type:gr.StacksMessageType.MessageSignature,data:e}}cn.createMessageSignature=C6;function x6(e,t){switch(e){case gr.AddressHashMode.SerializeP2PKH:switch(t){case gr.TransactionVersion.Mainnet:return gr.AddressVersion.MainnetSingleSig;case gr.TransactionVersion.Testnet:return gr.AddressVersion.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}case gr.AddressHashMode.SerializeP2SH:case gr.AddressHashMode.SerializeP2WPKH:case gr.AddressHashMode.SerializeP2WSH:switch(t){case gr.TransactionVersion.Mainnet:return gr.AddressVersion.MainnetMultiSig;case gr.TransactionVersion.Testnet:return gr.AddressVersion.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(e)}`)}}cn.addressHashModeToVersion=x6;function T6(e,t){return{type:gr.StacksMessageType.Address,version:e,hash160:t}}cn.addressFromVersionHash=T6;function E6(e){return(0,S6.c32address)(e.version,e.hash160)}cn.addressToString=E6});var Tn=R(cr=>{C();x();Object.defineProperty(cr,"__esModule",{value:!0});cr.createStandardPrincipal=cr.createContractPrincipal=cr.parsePrincipalString=cr.createAddress=cr.createAssetInfo=cr.createLPString=cr.parseAssetInfoString=void 0;var $n=or(),P6=es(),A6=zr();function M6(e){let[t,r,n]=e.split(/\.|::/);return Ph(t,r,n)}cr.parseAssetInfoString=M6;function _a(e,t,r){let n=t||1,i=r||$n.MAX_STRING_LENGTH_BYTES;if((0,A6.exceedsMaxLengthBytes)(e,i))throw new Error(`String length exceeds maximum bytes ${i}`);return{type:$n.StacksMessageType.LengthPrefixedString,content:e,lengthPrefixBytes:n,maxLengthBytes:i}}cr.createLPString=_a;function Ph(e,t,r){return{type:$n.StacksMessageType.AssetInfo,address:Sa(e),contractName:_a(t),assetName:_a(r)}}cr.createAssetInfo=Ph;function Sa(e){let t=(0,P6.c32addressDecode)(e);return{type:$n.StacksMessageType.Address,version:t[0],hash160:t[1]}}cr.createAddress=Sa;function I6(e){if(e.includes(".")){let[t,r]=e.split(".");return Ah(t,r)}else return Mh(e)}cr.parsePrincipalString=I6;function Ah(e,t){let r=Sa(e),n=_a(t);return{type:$n.StacksMessageType.Principal,prefix:$n.PostConditionPrincipalID.Contract,address:r,contractName:n}}cr.createContractPrincipal=Ah;function Mh(e){let t=Sa(e);return{type:$n.StacksMessageType.Principal,prefix:$n.PostConditionPrincipalID.Standard,address:t}}cr.createStandardPrincipal=Mh});var Lr=R(So=>{C();x();Object.defineProperty(So,"__esModule",{value:!0});So.ClarityType=void 0;var B6;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(B6=So.ClarityType||(So.ClarityType={}))});var Ca=R(fr=>{C();x();Object.defineProperty(fr,"__esModule",{value:!0});fr.contractPrincipalCVFromStandard=fr.contractPrincipalCVFromAddress=fr.contractPrincipalCV=fr.standardPrincipalCVFromAddress=fr.standardPrincipalCV=fr.principalToString=fr.principalCV=void 0;var O6=we(),Ih=ss(),wa=Tn(),os=Lr();function k6(e){if(e.type===os.ClarityType.PrincipalStandard)return(0,Ih.addressToString)(e.address);if(e.type===os.ClarityType.PrincipalContract)return`${(0,Ih.addressToString)(e.address)}.${e.contractName.content}`;throw new Error(`Unexpected principal data: ${JSON.stringify(e)}`)}fr.principalToString=k6;function R6(e){if(e.includes(".")){let[t,r]=e.split(".");return Oh(t,r)}else return Bh(e)}fr.principalCV=R6;function Bh(e){let t=(0,wa.createAddress)(e);return{type:os.ClarityType.PrincipalStandard,address:t}}fr.standardPrincipalCV=Bh;function N6(e){return{type:os.ClarityType.PrincipalStandard,address:e}}fr.standardPrincipalCVFromAddress=N6;function Oh(e,t){let r=(0,wa.createAddress)(e),n=(0,wa.createLPString)(t);return kh(r,n)}fr.contractPrincipalCV=Oh;function kh(e,t){if((0,O6.utf8ToBytes)(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:os.ClarityType.PrincipalContract,address:e,contractName:t}}fr.contractPrincipalCVFromAddress=kh;function L6(e,t){let r=(0,wa.createLPString)(t);return{type:os.ClarityType.PrincipalContract,address:e.address,contractName:r}}fr.contractPrincipalCVFromStandard=L6});var Nh=R(fn=>{C();x();Object.defineProperty(fn,"__esModule",{value:!0});fn.getCVTypeString=fn.cvToJSON=fn.cvToValue=fn.cvToString=void 0;var Rh=Ca(),ie=Lr(),wo=we();function as(e,t="hex"){switch(e.type){case ie.ClarityType.BoolTrue:return"true";case ie.ClarityType.BoolFalse:return"false";case ie.ClarityType.Int:return e.value.toString();case ie.ClarityType.UInt:return`u${e.value.toString()}`;case ie.ClarityType.Buffer:if(t==="tryAscii"){let r=(0,wo.bytesToAscii)(e.buffer);if(/[ -~]/.test(r))return JSON.stringify(r)}return`0x${(0,wo.bytesToHex)(e.buffer)}`;case ie.ClarityType.OptionalNone:return"none";case ie.ClarityType.OptionalSome:return`(some ${as(e.value,t)})`;case ie.ClarityType.ResponseErr:return`(err ${as(e.value,t)})`;case ie.ClarityType.ResponseOk:return`(ok ${as(e.value,t)})`;case ie.ClarityType.PrincipalStandard:case ie.ClarityType.PrincipalContract:return(0,Rh.principalToString)(e);case ie.ClarityType.List:return`(list ${e.list.map(r=>as(r,t)).join(" ")})`;case ie.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(r=>`(${r} ${as(e.data[r],t)})`).join(" ")})`;case ie.ClarityType.StringASCII:return`"${e.data}"`;case ie.ClarityType.StringUTF8:return`u"${e.data}"`}}fn.cvToString=as;function xa(e,t=!1){switch(e.type){case ie.ClarityType.BoolTrue:return!0;case ie.ClarityType.BoolFalse:return!1;case ie.ClarityType.Int:case ie.ClarityType.UInt:return t?e.value.toString():e.value;case ie.ClarityType.Buffer:return`0x${(0,wo.bytesToHex)(e.buffer)}`;case ie.ClarityType.OptionalNone:return null;case ie.ClarityType.OptionalSome:return cs(e.value);case ie.ClarityType.ResponseErr:return cs(e.value);case ie.ClarityType.ResponseOk:return cs(e.value);case ie.ClarityType.PrincipalStandard:case ie.ClarityType.PrincipalContract:return(0,Rh.principalToString)(e);case ie.ClarityType.List:return e.list.map(n=>cs(n));case ie.ClarityType.Tuple:let r={};return Object.keys(e.data).forEach(n=>{r[n]=cs(e.data[n])}),r;case ie.ClarityType.StringASCII:return e.data;case ie.ClarityType.StringUTF8:return e.data}}fn.cvToValue=xa;function cs(e){switch(e.type){case ie.ClarityType.ResponseErr:return{type:En(e),value:xa(e,!0),success:!1};case ie.ClarityType.ResponseOk:return{type:En(e),value:xa(e,!0),success:!0};default:return{type:En(e),value:xa(e,!0)}}}fn.cvToJSON=cs;function En(e){switch(e.type){case ie.ClarityType.BoolTrue:case ie.ClarityType.BoolFalse:return"bool";case ie.ClarityType.Int:return"int";case ie.ClarityType.UInt:return"uint";case ie.ClarityType.Buffer:return`(buff ${e.buffer.length})`;case ie.ClarityType.OptionalNone:return"(optional none)";case ie.ClarityType.OptionalSome:return`(optional ${En(e.value)})`;case ie.ClarityType.ResponseErr:return`(response UnknownType ${En(e.value)})`;case ie.ClarityType.ResponseOk:return`(response ${En(e.value)} UnknownType)`;case ie.ClarityType.PrincipalStandard:case ie.ClarityType.PrincipalContract:return"principal";case ie.ClarityType.List:return`(list ${e.list.length} ${e.list.length?En(e.list[0]):"UnknownType"})`;case ie.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(t=>`(${t} ${En(e.data[t])})`).join(" ")})`;case ie.ClarityType.StringASCII:return`(string-ascii ${(0,wo.asciiToBytes)(e.data).length})`;case ie.ClarityType.StringUTF8:return`(string-utf8 ${(0,wo.utf8ToBytes)(e.data).length})`}}fn.getCVTypeString=En});var Vh=R(Gn=>{C();x();Object.defineProperty(Gn,"__esModule",{value:!0});Gn.falseCV=Gn.trueCV=Gn.boolCV=void 0;var Lh=Lr(),qh=()=>({type:Lh.ClarityType.BoolTrue});Gn.trueCV=qh;var Hh=()=>({type:Lh.ClarityType.BoolFalse});Gn.falseCV=Hh;var q6=e=>e?qh():Hh();Gn.boolCV=q6});var jh=R(fs=>{C();x();Object.defineProperty(fs,"__esModule",{value:!0});fs.uintCV=fs.intCV=void 0;var zh=we(),Fh=Lr(),Dh=BigInt("0xffffffffffffffffffffffffffffffff"),H6=BigInt(0),Kh=BigInt("0x7fffffffffffffffffffffffffffffff"),Uh=BigInt("-170141183460469231731687303715884105728"),V6=e=>{let t=(0,zh.intToBigInt)(e,!0);if(t>Kh)throw new RangeError(`Cannot construct clarity integer from value greater than ${Kh}`);if(t<Uh)throw new RangeError(`Cannot construct clarity integer form value less than ${Uh}`);return{type:Fh.ClarityType.Int,value:t}};fs.intCV=V6;var D6=e=>{let t=(0,zh.intToBigInt)(e,!1);if(t<H6)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>Dh)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${Dh}`);return{type:Fh.ClarityType.UInt,value:t}};fs.uintCV=D6});var Gh=R(ds=>{C();x();Object.defineProperty(ds,"__esModule",{value:!0});ds.bufferCVFromString=ds.bufferCV=void 0;var K6=we(),U6=Lr(),$h=e=>{if(e.length>1e6)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:U6.ClarityType.Buffer,buffer:e}};ds.bufferCV=$h;var z6=e=>$h((0,K6.utf8ToBytes)(e));ds.bufferCVFromString=z6});var Zh=R(Wn=>{C();x();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.optionalCVOf=Wn.someCV=Wn.noneCV=void 0;var Wh=Lr();function Xh(){return{type:Wh.ClarityType.OptionalNone}}Wn.noneCV=Xh;function Yh(e){return{type:Wh.ClarityType.OptionalSome,value:e}}Wn.someCV=Yh;function F6(e){return e?Yh(e):Xh()}Wn.optionalCVOf=F6});var Qh=R(us=>{C();x();Object.defineProperty(us,"__esModule",{value:!0});us.responseOkCV=us.responseErrorCV=void 0;var Jh=Lr();function j6(e){return{type:Jh.ClarityType.ResponseErr,value:e}}us.responseErrorCV=j6;function $6(e){return{type:Jh.ClarityType.ResponseOk,value:e}}us.responseOkCV=$6});var eb=R(Ta=>{C();x();Object.defineProperty(Ta,"__esModule",{value:!0});Ta.listCV=void 0;var G6=Lr();function W6(e){return{type:G6.ClarityType.List,list:e}}Ta.listCV=W6});var tb=R(Ea=>{C();x();Object.defineProperty(Ea,"__esModule",{value:!0});Ea.tupleCV=void 0;var X6=Lr(),Y6=zr();function Z6(e){for(let t in e)if(!(0,Y6.isClarityName)(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:X6.ClarityType.Tuple,data:e}}Ea.tupleCV=Z6});var Pa=R(Xn=>{C();x();Object.defineProperty(Xn,"__esModule",{value:!0});Xn.stringCV=Xn.stringUtf8CV=Xn.stringAsciiCV=void 0;var rb=Lr(),nb=e=>({type:rb.ClarityType.StringASCII,data:e});Xn.stringAsciiCV=nb;var ib=e=>({type:rb.ClarityType.StringUTF8,data:e});Xn.stringUtf8CV=ib;var J6=(e,t)=>{switch(t){case"ascii":return nb(e);case"utf8":return ib(e)}};Xn.stringCV=J6});var sb=R(Yn=>{C();x();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.base58=Yn.fromBase58=Yn.toBase58=void 0;var Od=Mf();Object.defineProperty(Yn,"base58",{enumerable:!0,get:function(){return Od.base58}});function Q6(e){let t=B.Buffer.from(e);return Od.base58.encode(Uint8Array.from(t))}Yn.toBase58=Q6;function ev(e){return Od.base58.decode(e)}Yn.fromBase58=ev});var ob=R(ls=>{C();x();Object.defineProperty(ls,"__esModule",{value:!0});ls.validateHexString=ls.isHexString=void 0;function tv(e,t){return e.match(/^0x[0-9A-Fa-f]*$/)?!(t&&e.length!==2+2*t):!1}ls.isHexString=tv;function rv(e){if(!e)return!1;let t=e.toLowerCase().startsWith("0x")?e.substring(2).toLowerCase():e.toLowerCase();return!(t.length===0||t.length%2!==0||!t.match(/^[0-9A-Fa-f]*$/))}ls.validateHexString=rv});var ab=R(dn=>{C();x();Object.defineProperty(dn,"__esModule",{value:!0});dn.isHexPrefixed=dn.stripHexPrefix=dn.fromHex=dn.toHex=void 0;var nv=ob();function iv(e,t=!1){let r=B.Buffer.from(e);return t?"0x"+r.toString("hex"):r.toString("hex")}dn.toHex=iv;function sv(e){if((e.startsWith("0x")||e.startsWith("0X"))&&(e=e.substring(2)),e.length%2!=0&&(e="0"+e),!(0,nv.validateHexString)(e))throw new Error("invalid hex string");return B.Buffer.from(e,"hex")}dn.fromHex=sv;function ov(e){return e.startsWith("0x")?e.substring(2):e}dn.stripHexPrefix=ov;function av(e){return e.startsWith("0x")}dn.isHexPrefixed=av});var Pn=R(Bi=>{C();x();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.anumber=kd;Bi.abytes=cb;Bi.ahash=fv;Bi.aexists=dv;Bi.aoutput=uv;function kd(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function cv(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function cb(e,...t){if(!cv(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function fv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kd(e.outputLen),kd(e.blockLen)}function dv(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function uv(e,t){cb(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var fb=R(Aa=>{C();x();Object.defineProperty(Aa,"__esModule",{value:!0});Aa.crypto=void 0;Aa.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var rr=R(Ie=>{C();x();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Hash=Ie.nextTick=Ie.byteSwapIfBE=Ie.isLE=void 0;Ie.isBytes=lv;Ie.u8=hv;Ie.u32=bv;Ie.createView=pv;Ie.rotr=yv;Ie.rotl=gv;Ie.byteSwap=Ld;Ie.byteSwap32=mv;Ie.bytesToHex=_v;Ie.hexToBytes=Sv;Ie.asyncLoop=Cv;Ie.utf8ToBytes=lb;Ie.toBytes=Ma;Ie.concatBytes=xv;Ie.checkOpts=Tv;Ie.wrapConstructor=Ev;Ie.wrapConstructorWithOpts=Pv;Ie.wrapXOFConstructorWithOpts=Av;Ie.randomBytes=Mv;var hs=fb(),Nd=Pn();function lv(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function hv(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function bv(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function pv(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function yv(e,t){return e<<32-t|e>>>t}function gv(e,t){return e<<t|e>>>32-t>>>0}Ie.isLE=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function Ld(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}Ie.byteSwapIfBE=Ie.isLE?e=>e:e=>Ld(e);function mv(e){for(let t=0;t<e.length;t++)e[t]=Ld(e[t])}var ub=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",vv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _v(e){if((0,Nd.abytes)(e),ub)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=vv[e[r]];return t}var An={_0:48,_9:57,A:65,F:70,a:97,f:102};function db(e){if(e>=An._0&&e<=An._9)return e-An._0;if(e>=An.A&&e<=An.F)return e-(An.A-10);if(e>=An.a&&e<=An.f)return e-(An.a-10)}function Sv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(ub)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let o=db(e.charCodeAt(s)),c=db(e.charCodeAt(s+1));if(o===void 0||c===void 0){let d=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}n[i]=o*16+c}return n}var wv=async()=>{};Ie.nextTick=wv;async function Cv(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let s=Date.now()-n;s>=0&&s<t||(await(0,Ie.nextTick)(),n+=s)}}function lb(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Ma(e){return typeof e=="string"&&(e=lb(e)),(0,Nd.abytes)(e),e}function xv(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,Nd.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}var Rd=class{clone(){return this._cloneInto()}};Ie.Hash=Rd;function Tv(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Ev(e){let t=n=>e().update(Ma(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Pv(e){let t=(n,i)=>e(i).update(Ma(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Av(e){let t=(n,i)=>e(i).update(Ma(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Mv(e=32){if(hs.crypto&&typeof hs.crypto.getRandomValues=="function")return hs.crypto.getRandomValues(new Uint8Array(e));if(hs.crypto&&typeof hs.crypto.randomBytes=="function")return Uint8Array.from(hs.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}});var Ia=R(Oi=>{C();x();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.HashMD=void 0;Oi.setBigUint64=hb;Oi.Chi=Iv;Oi.Maj=Bv;var qd=Pn(),Co=rr();function hb(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),c=Number(r&s),d=n?4:0,l=n?0:4;e.setUint32(t+d,o,n),e.setUint32(t+l,c,n)}function Iv(e,t,r){return e&t^~e&r}function Bv(e,t,r){return e&t^e&r^t&r}var Hd=class extends Co.Hash{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=(0,Co.createView)(this.buffer)}update(t){(0,qd.aexists)(this);let{view:r,buffer:n,blockLen:i}=this;t=(0,Co.toBytes)(t);let s=t.length;for(let o=0;o<s;){let c=Math.min(i-this.pos,s-o);if(c===i){let d=(0,Co.createView)(t);for(;i<=s-o;o+=i)this.process(d,o);continue}n.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,qd.aexists)(this),(0,qd.aoutput)(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let b=o;b<i;b++)r[b]=0;hb(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,Co.createView)(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=d/4,p=this.get();if(l>p.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<l;b++)c.setUint32(4*b,p[b],s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}};Oi.HashMD=Hd});var bs=R(Qn=>{C();x();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.sha224=Qn.sha256=Qn.SHA256=void 0;var Vd=Ia(),Fr=rr(),Ov=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jn=new Uint32Array(64),xo=class extends Vd.HashMD{constructor(t=32){super(64,t,8,!1),this.A=Zn[0]|0,this.B=Zn[1]|0,this.C=Zn[2]|0,this.D=Zn[3]|0,this.E=Zn[4]|0,this.F=Zn[5]|0,this.G=Zn[6]|0,this.H=Zn[7]|0}get(){let{A:t,B:r,C:n,D:i,E:s,F:o,G:c,H:d}=this;return[t,r,n,i,s,o,c,d]}set(t,r,n,i,s,o,c,d){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=c|0,this.H=d|0}process(t,r){for(let b=0;b<16;b++,r+=4)Jn[b]=t.getUint32(r,!1);for(let b=16;b<64;b++){let E=Jn[b-15],w=Jn[b-2],P=(0,Fr.rotr)(E,7)^(0,Fr.rotr)(E,18)^E>>>3,T=(0,Fr.rotr)(w,17)^(0,Fr.rotr)(w,19)^w>>>10;Jn[b]=T+Jn[b-7]+P+Jn[b-16]|0}let{A:n,B:i,C:s,D:o,E:c,F:d,G:l,H:p}=this;for(let b=0;b<64;b++){let E=(0,Fr.rotr)(c,6)^(0,Fr.rotr)(c,11)^(0,Fr.rotr)(c,25),w=p+E+(0,Vd.Chi)(c,d,l)+Ov[b]+Jn[b]|0,T=((0,Fr.rotr)(n,2)^(0,Fr.rotr)(n,13)^(0,Fr.rotr)(n,22))+(0,Vd.Maj)(n,i,s)|0;p=l,l=d,d=c,c=o+w|0,o=s,s=i,i=n,n=w+T|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,c=c+this.E|0,d=d+this.F|0,l=l+this.G|0,p=p+this.H|0,this.set(n,i,s,o,c,d,l,p)}roundClean(){Jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};Qn.SHA256=xo;var Dd=class extends xo{constructor(){super(28),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868}};Qn.sha256=(0,Fr.wrapConstructor)(()=>new xo);Qn.sha224=(0,Fr.wrapConstructor)(()=>new Dd)});var ps=R(ae=>{C();x();Object.defineProperty(ae,"__esModule",{value:!0});ae.add5L=ae.add5H=ae.add4H=ae.add4L=ae.add3H=ae.add3L=ae.rotlBL=ae.rotlBH=ae.rotlSL=ae.rotlSH=ae.rotr32L=ae.rotr32H=ae.rotrBL=ae.rotrBH=ae.rotrSL=ae.rotrSH=ae.shrSL=ae.shrSH=ae.toBig=void 0;ae.fromBig=Ud;ae.split=bb;ae.add=Ab;var Ba=BigInt(2**32-1),Kd=BigInt(32);function Ud(e,t=!1){return t?{h:Number(e&Ba),l:Number(e>>Kd&Ba)}:{h:Number(e>>Kd&Ba)|0,l:Number(e&Ba)|0}}function bb(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:o}=Ud(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}var pb=(e,t)=>BigInt(e>>>0)<<Kd|BigInt(t>>>0);ae.toBig=pb;var yb=(e,t,r)=>e>>>r;ae.shrSH=yb;var gb=(e,t,r)=>e<<32-r|t>>>r;ae.shrSL=gb;var mb=(e,t,r)=>e>>>r|t<<32-r;ae.rotrSH=mb;var vb=(e,t,r)=>e<<32-r|t>>>r;ae.rotrSL=vb;var _b=(e,t,r)=>e<<64-r|t>>>r-32;ae.rotrBH=_b;var Sb=(e,t,r)=>e>>>r-32|t<<64-r;ae.rotrBL=Sb;var wb=(e,t)=>t;ae.rotr32H=wb;var Cb=(e,t)=>e;ae.rotr32L=Cb;var xb=(e,t,r)=>e<<r|t>>>32-r;ae.rotlSH=xb;var Tb=(e,t,r)=>t<<r|e>>>32-r;ae.rotlSL=Tb;var Eb=(e,t,r)=>t<<r-32|e>>>64-r;ae.rotlBH=Eb;var Pb=(e,t,r)=>e<<r-32|t>>>64-r;ae.rotlBL=Pb;function Ab(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var Mb=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);ae.add3L=Mb;var Ib=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;ae.add3H=Ib;var Bb=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);ae.add4L=Bb;var Ob=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;ae.add4H=Ob;var kb=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);ae.add5L=kb;var Rb=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;ae.add5H=Rb;var kv={fromBig:Ud,split:bb,toBig:pb,shrSH:yb,shrSL:gb,rotrSH:mb,rotrSL:vb,rotrBH:_b,rotrBL:Sb,rotr32H:wb,rotr32L:Cb,rotlSH:xb,rotlSL:Tb,rotlBH:Eb,rotlBL:Pb,add:Ab,add3L:Mb,add3H:Ib,add4L:Bb,add4H:Ob,add5H:Rb,add5L:kb};ae.default=kv});var To=R($t=>{C();x();Object.defineProperty($t,"__esModule",{value:!0});$t.sha384=$t.sha512_256=$t.sha512_224=$t.sha512=$t.SHA384=$t.SHA512_256=$t.SHA512_224=$t.SHA512=void 0;var Rv=Ia(),le=ps(),Na=rr(),[Nv,Lv]=(()=>le.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),ei=new Uint32Array(80),ti=new Uint32Array(80),ki=class extends Rv.HashMD{constructor(t=64){super(128,t,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:c,Dl:d,Eh:l,El:p,Fh:b,Fl:E,Gh:w,Gl:P,Hh:T,Hl:I}=this;return[t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I]}set(t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=c|0,this.Dl=d|0,this.Eh=l|0,this.El=p|0,this.Fh=b|0,this.Fl=E|0,this.Gh=w|0,this.Gl=P|0,this.Hh=T|0,this.Hl=I|0}process(t,r){for(let O=0;O<16;O++,r+=4)ei[O]=t.getUint32(r),ti[O]=t.getUint32(r+=4);for(let O=16;O<80;O++){let L=ei[O-15]|0,q=ti[O-15]|0,H=le.default.rotrSH(L,q,1)^le.default.rotrSH(L,q,8)^le.default.shrSH(L,q,7),D=le.default.rotrSL(L,q,1)^le.default.rotrSL(L,q,8)^le.default.shrSL(L,q,7),V=ei[O-2]|0,ne=ti[O-2]|0,S=le.default.rotrSH(V,ne,19)^le.default.rotrBH(V,ne,61)^le.default.shrSH(V,ne,6),a=le.default.rotrSL(V,ne,19)^le.default.rotrBL(V,ne,61)^le.default.shrSL(V,ne,6),u=le.default.add4L(D,a,ti[O-7],ti[O-16]),h=le.default.add4H(u,H,S,ei[O-7],ei[O-16]);ei[O]=h|0,ti[O]=u|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:c,Cl:d,Dh:l,Dl:p,Eh:b,El:E,Fh:w,Fl:P,Gh:T,Gl:I,Hh:M,Hl:k}=this;for(let O=0;O<80;O++){let L=le.default.rotrSH(b,E,14)^le.default.rotrSH(b,E,18)^le.default.rotrBH(b,E,41),q=le.default.rotrSL(b,E,14)^le.default.rotrSL(b,E,18)^le.default.rotrBL(b,E,41),H=b&w^~b&T,D=E&P^~E&I,V=le.default.add5L(k,q,D,Lv[O],ti[O]),ne=le.default.add5H(V,M,L,H,Nv[O],ei[O]),S=V|0,a=le.default.rotrSH(n,i,28)^le.default.rotrBH(n,i,34)^le.default.rotrBH(n,i,39),u=le.default.rotrSL(n,i,28)^le.default.rotrBL(n,i,34)^le.default.rotrBL(n,i,39),h=n&s^n&c^s&c,g=i&o^i&d^o&d;M=T|0,k=I|0,T=w|0,I=P|0,w=b|0,P=E|0,{h:b,l:E}=le.default.add(l|0,p|0,ne|0,S|0),l=c|0,p=d|0,c=s|0,d=o|0,s=n|0,o=i|0;let y=le.default.add3L(S,u,g);n=le.default.add3H(y,ne,a,h),i=y|0}({h:n,l:i}=le.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=le.default.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:c,l:d}=le.default.add(this.Ch|0,this.Cl|0,c|0,d|0),{h:l,l:p}=le.default.add(this.Dh|0,this.Dl|0,l|0,p|0),{h:b,l:E}=le.default.add(this.Eh|0,this.El|0,b|0,E|0),{h:w,l:P}=le.default.add(this.Fh|0,this.Fl|0,w|0,P|0),{h:T,l:I}=le.default.add(this.Gh|0,this.Gl|0,T|0,I|0),{h:M,l:k}=le.default.add(this.Hh|0,this.Hl|0,M|0,k|0),this.set(n,i,s,o,c,d,l,p,b,E,w,P,T,I,M,k)}roundClean(){ei.fill(0),ti.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};$t.SHA512=ki;var Oa=class extends ki{constructor(){super(28),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735}};$t.SHA512_224=Oa;var ka=class extends ki{constructor(){super(32),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414}};$t.SHA512_256=ka;var Ra=class extends ki{constructor(){super(48),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868}};$t.SHA384=Ra;$t.sha512=(0,Na.wrapConstructor)(()=>new ki);$t.sha512_224=(0,Na.wrapConstructor)(()=>new Oa);$t.sha512_256=(0,Na.wrapConstructor)(()=>new ka);$t.sha384=(0,Na.wrapConstructor)(()=>new Ra)});var jd=R(ys=>{C();x();Object.defineProperty(ys,"__esModule",{value:!0});ys.ripemd160=ys.RIPEMD160=void 0;var qv=Ia(),Eo=rr(),Hv=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Lb=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),Vv=Lb.map(e=>(9*e+5)%16),zd=[Lb],Fd=[Vv];for(let e=0;e<4;e++)for(let t of[zd,Fd])t.push(t[e].map(r=>Hv[r]));var qb=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Dv=zd.map((e,t)=>e.map(r=>qb[t][r])),Kv=Fd.map((e,t)=>e.map(r=>qb[t][r])),Uv=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),zv=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function Nb(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}var La=new Uint32Array(16),qa=class extends qv.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:r,h2:n,h3:i,h4:s}=this;return[t,r,n,i,s]}set(t,r,n,i,s){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(t,r){for(let w=0;w<16;w++,r+=4)La[w]=t.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,c=this.h2|0,d=c,l=this.h3|0,p=l,b=this.h4|0,E=b;for(let w=0;w<5;w++){let P=4-w,T=Uv[w],I=zv[w],M=zd[w],k=Fd[w],O=Dv[w],L=Kv[w];for(let q=0;q<16;q++){let H=(0,Eo.rotl)(n+Nb(w,s,c,l)+La[M[q]]+T,O[q])+b|0;n=b,b=l,l=(0,Eo.rotl)(c,10)|0,c=s,s=H}for(let q=0;q<16;q++){let H=(0,Eo.rotl)(i+Nb(P,o,d,p)+La[k[q]]+I,L[q])+E|0;i=E,E=p,p=(0,Eo.rotl)(d,10)|0,d=o,o=H}}this.set(this.h1+c+p|0,this.h2+l+E|0,this.h3+b+i|0,this.h4+n+o|0,this.h0+s+d|0)}roundClean(){La.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};ys.RIPEMD160=qa;ys.ripemd160=(0,Eo.wrapConstructor)(()=>new qa)});var Ha=R(je=>{C();x();Object.defineProperty(je,"__esModule",{value:!0});je.shake256=je.shake128=je.keccak_512=je.keccak_384=je.keccak_256=je.keccak_224=je.sha3_512=je.sha3_384=je.sha3_256=je.sha3_224=je.Keccak=void 0;je.keccakP=zb;var gs=Pn(),Ao=ps(),Mn=rr(),Db=[],Kb=[],Ub=[],Fv=BigInt(0),Po=BigInt(1),jv=BigInt(2),$v=BigInt(7),Gv=BigInt(256),Wv=BigInt(113);for(let e=0,t=Po,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Db.push(2*(5*n+r)),Kb.push((e+1)*(e+2)/2%64);let i=Fv;for(let s=0;s<7;s++)t=(t<<Po^(t>>$v)*Wv)%Gv,t&jv&&(i^=Po<<(Po<<BigInt(s))-Po);Ub.push(i)}var[Xv,Yv]=(0,Ao.split)(Ub,!0),Hb=(e,t,r)=>r>32?(0,Ao.rotlBH)(e,t,r):(0,Ao.rotlSH)(e,t,r),Vb=(e,t,r)=>r>32?(0,Ao.rotlBL)(e,t,r):(0,Ao.rotlSL)(e,t,r);function zb(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){let c=(o+8)%10,d=(o+2)%10,l=r[d],p=r[d+1],b=Hb(l,p,1)^r[c],E=Vb(l,p,1)^r[c+1];for(let w=0;w<50;w+=10)e[o+w]^=b,e[o+w+1]^=E}let i=e[2],s=e[3];for(let o=0;o<24;o++){let c=Kb[o],d=Hb(i,s,c),l=Vb(i,s,c),p=Db[o];i=e[p],s=e[p+1],e[p]=d,e[p+1]=l}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)r[c]=e[o+c];for(let c=0;c<10;c++)e[o+c]^=~r[(c+2)%10]&r[(c+4)%10]}e[0]^=Xv[n],e[1]^=Yv[n]}r.fill(0)}var Ri=class extends Mn.Hash{constructor(t,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,(0,gs.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Mn.u32)(this.state)}keccak(){Mn.isLE||(0,Mn.byteSwap32)(this.state32),zb(this.state32,this.rounds),Mn.isLE||(0,Mn.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,gs.aexists)(this);let{blockLen:r,state:n}=this;t=(0,Mn.toBytes)(t);let i=t.length;for(let s=0;s<i;){let o=Math.min(r-this.pos,i-s);for(let c=0;c<o;c++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,gs.aexists)(this,!1),(0,gs.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,gs.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,gs.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Ri(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};je.Keccak=Ri;var ri=(e,t,r)=>(0,Mn.wrapConstructor)(()=>new Ri(t,e,r));je.sha3_224=ri(6,144,224/8);je.sha3_256=ri(6,136,256/8);je.sha3_384=ri(6,104,384/8);je.sha3_512=ri(6,72,512/8);je.keccak_224=ri(1,144,224/8);je.keccak_256=ri(1,136,256/8);je.keccak_384=ri(1,104,384/8);je.keccak_512=ri(1,72,512/8);var Fb=(e,t,r)=>(0,Mn.wrapXOFConstructorWithOpts)((n={})=>new Ri(t,e,n.dkLen===void 0?r:n.dkLen,!0));je.shake128=Fb(31,168,128/8);je.shake256=Fb(31,136,256/8)});var Va=R(vs=>{C();x();Object.defineProperty(vs,"__esModule",{value:!0});vs.BLAKE=vs.SIGMA=void 0;var ms=Pn(),nr=rr();vs.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);var $d=class extends nr.Hash{constructor(t,r,n={},i,s,o){if(super(),this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,ms.anumber)(t),(0,ms.anumber)(r),(0,ms.anumber)(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error("key length must be undefined or 1.."+i);if(n.salt!==void 0&&n.salt.length!==s)throw new Error("salt must be undefined or "+s);if(n.personalization!==void 0&&n.personalization.length!==o)throw new Error("personalization must be undefined or "+o);this.blockLen=t,this.outputLen=r,this.buffer=new Uint8Array(t),this.buffer32=(0,nr.u32)(this.buffer)}update(t){(0,ms.aexists)(this);let{blockLen:r,buffer:n,buffer32:i}=this;t=(0,nr.toBytes)(t);let s=t.length,o=t.byteOffset,c=t.buffer;for(let d=0;d<s;){this.pos===r&&(nr.isLE||(0,nr.byteSwap32)(i),this.compress(i,0,!1),nr.isLE||(0,nr.byteSwap32)(i),this.pos=0);let l=Math.min(r-this.pos,s-d),p=o+d;if(l===r&&!(p%4)&&d+l<s){let b=new Uint32Array(c,p,Math.floor((s-d)/4));nr.isLE||(0,nr.byteSwap32)(b);for(let E=0;d+r<s;E+=i.length,d+=r)this.length+=r,this.compress(b,E,!1);nr.isLE||(0,nr.byteSwap32)(b);continue}n.set(t.subarray(d,d+l),this.pos),this.pos+=l,this.length+=l,d+=l}return this}digestInto(t){(0,ms.aexists)(this),(0,ms.aoutput)(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),nr.isLE||(0,nr.byteSwap32)(n),this.compress(n,0,!0),nr.isLE||(0,nr.byteSwap32)(n);let i=(0,nr.u32)(t);this.get().forEach((s,o)=>i[o]=(0,nr.byteSwapIfBE)(s))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:c}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.length=n,t.finished=i,t.destroyed=s,t.outputLen=o,t.buffer.set(r),t.pos=c,t}};vs.BLAKE=$d});var Gd=R(_s=>{C();x();Object.defineProperty(_s,"__esModule",{value:!0});_s.blake2b=_s.BLAKE2b=void 0;var jb=Va(),mr=ps(),Ar=rr(),Kt=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),F=new Uint32Array(32);function ni(e,t,r,n,i,s){let o=i[s],c=i[s+1],d=F[2*e],l=F[2*e+1],p=F[2*t],b=F[2*t+1],E=F[2*r],w=F[2*r+1],P=F[2*n],T=F[2*n+1],I=mr.default.add3L(d,p,o);l=mr.default.add3H(I,l,b,c),d=I|0,{Dh:T,Dl:P}={Dh:T^l,Dl:P^d},{Dh:T,Dl:P}={Dh:mr.default.rotr32H(T,P),Dl:mr.default.rotr32L(T,P)},{h:w,l:E}=mr.default.add(w,E,T,P),{Bh:b,Bl:p}={Bh:b^w,Bl:p^E},{Bh:b,Bl:p}={Bh:mr.default.rotrSH(b,p,24),Bl:mr.default.rotrSL(b,p,24)},F[2*e]=d,F[2*e+1]=l,F[2*t]=p,F[2*t+1]=b,F[2*r]=E,F[2*r+1]=w,F[2*n]=P,F[2*n+1]=T}function ii(e,t,r,n,i,s){let o=i[s],c=i[s+1],d=F[2*e],l=F[2*e+1],p=F[2*t],b=F[2*t+1],E=F[2*r],w=F[2*r+1],P=F[2*n],T=F[2*n+1],I=mr.default.add3L(d,p,o);l=mr.default.add3H(I,l,b,c),d=I|0,{Dh:T,Dl:P}={Dh:T^l,Dl:P^d},{Dh:T,Dl:P}={Dh:mr.default.rotrSH(T,P,16),Dl:mr.default.rotrSL(T,P,16)},{h:w,l:E}=mr.default.add(w,E,T,P),{Bh:b,Bl:p}={Bh:b^w,Bl:p^E},{Bh:b,Bl:p}={Bh:mr.default.rotrBH(b,p,63),Bl:mr.default.rotrBL(b,p,63)},F[2*e]=d,F[2*e+1]=l,F[2*t]=p,F[2*t+1]=b,F[2*r]=E,F[2*r+1]=w,F[2*n]=P,F[2*n+1]=T}var Da=class extends jb.BLAKE{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=Kt[0]|0,this.v0h=Kt[1]|0,this.v1l=Kt[2]|0,this.v1h=Kt[3]|0,this.v2l=Kt[4]|0,this.v2h=Kt[5]|0,this.v3l=Kt[6]|0,this.v3h=Kt[7]|0,this.v4l=Kt[8]|0,this.v4h=Kt[9]|0,this.v5l=Kt[10]|0,this.v5h=Kt[11]|0,this.v6l=Kt[12]|0,this.v6h=Kt[13]|0,this.v7l=Kt[14]|0,this.v7h=Kt[15]|0;let r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|1<<16|1<<24,t.salt){let n=(0,Ar.u32)((0,Ar.toBytes)(t.salt));this.v4l^=(0,Ar.byteSwapIfBE)(n[0]),this.v4h^=(0,Ar.byteSwapIfBE)(n[1]),this.v5l^=(0,Ar.byteSwapIfBE)(n[2]),this.v5h^=(0,Ar.byteSwapIfBE)(n[3])}if(t.personalization){let n=(0,Ar.u32)((0,Ar.toBytes)(t.personalization));this.v6l^=(0,Ar.byteSwapIfBE)(n[0]),this.v6h^=(0,Ar.byteSwapIfBE)(n[1]),this.v7l^=(0,Ar.byteSwapIfBE)(n[2]),this.v7h^=(0,Ar.byteSwapIfBE)(n[3])}if(t.key){let n=new Uint8Array(this.blockLen);n.set((0,Ar.toBytes)(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:c,v3h:d,v4l:l,v4h:p,v5l:b,v5h:E,v6l:w,v6h:P,v7l:T,v7h:I}=this;return[t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I]}set(t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=c|0,this.v3h=d|0,this.v4l=l|0,this.v4h=p|0,this.v5l=b|0,this.v5h=E|0,this.v6l=w|0,this.v6h=P|0,this.v7l=T|0,this.v7h=I|0}compress(t,r,n){this.get().forEach((d,l)=>F[l]=d),F.set(Kt,16);let{h:i,l:s}=mr.default.fromBig(BigInt(this.length));F[24]=Kt[8]^s,F[25]=Kt[9]^i,n&&(F[28]=~F[28],F[29]=~F[29]);let o=0,c=jb.SIGMA;for(let d=0;d<12;d++)ni(0,4,8,12,t,r+2*c[o++]),ii(0,4,8,12,t,r+2*c[o++]),ni(1,5,9,13,t,r+2*c[o++]),ii(1,5,9,13,t,r+2*c[o++]),ni(2,6,10,14,t,r+2*c[o++]),ii(2,6,10,14,t,r+2*c[o++]),ni(3,7,11,15,t,r+2*c[o++]),ii(3,7,11,15,t,r+2*c[o++]),ni(0,5,10,15,t,r+2*c[o++]),ii(0,5,10,15,t,r+2*c[o++]),ni(1,6,11,12,t,r+2*c[o++]),ii(1,6,11,12,t,r+2*c[o++]),ni(2,7,8,13,t,r+2*c[o++]),ii(2,7,8,13,t,r+2*c[o++]),ni(3,4,9,14,t,r+2*c[o++]),ii(3,4,9,14,t,r+2*c[o++]);this.v0l^=F[0]^F[16],this.v0h^=F[1]^F[17],this.v1l^=F[2]^F[18],this.v1h^=F[3]^F[19],this.v2l^=F[4]^F[20],this.v2h^=F[5]^F[21],this.v3l^=F[6]^F[22],this.v3h^=F[7]^F[23],this.v4l^=F[8]^F[24],this.v4h^=F[9]^F[25],this.v5l^=F[10]^F[26],this.v5h^=F[11]^F[27],this.v6l^=F[12]^F[28],this.v6h^=F[13]^F[29],this.v7l^=F[14]^F[30],this.v7h^=F[15]^F[31],F.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};_s.BLAKE2b=Da;_s.blake2b=(0,Ar.wrapConstructorWithOpts)(e=>new Da(e))});var Ua=R($e=>{C();x();Object.defineProperty($e,"__esModule",{value:!0});$e.sha3_512=$e.sha3_256=$e.ripemd160=$e.sha512=$e.sha256=$e.magicHash=$e.blake2=$e.keccak256=$e.keccak=$e.hash160=$e.doubleSha256=void 0;var Ka=bs();Object.defineProperty($e,"sha256",{enumerable:!0,get:function(){return Ka.sha256}});var Zv=To();Object.defineProperty($e,"sha512",{enumerable:!0,get:function(){return Zv.sha512}});var Gb=jd();Object.defineProperty($e,"ripemd160",{enumerable:!0,get:function(){return Gb.ripemd160}});var Ss=Ha();Object.defineProperty($e,"sha3_256",{enumerable:!0,get:function(){return Ss.sha3_256}});Object.defineProperty($e,"sha3_512",{enumerable:!0,get:function(){return Ss.sha3_512}});var Jv=Gd();function Wb(e){let t=(0,Ka.sha256)(e);return(0,Ka.sha256)(t)}$e.doubleSha256=Wb;function Qv(e){let t=(0,Ka.sha256)(e);return(0,Gb.ripemd160)(t)}$e.hash160=Qv;var e8=function(e,t=256){let r=B.Buffer.from(e);switch(t){case 224:return B.Buffer.from((0,Ss.keccak_224)(r));case 256:return B.Buffer.from((0,Ss.keccak_256)(r));case 384:return B.Buffer.from((0,Ss.keccak_384)(r));case 512:return B.Buffer.from((0,Ss.keccak_512)(r));default:throw new Error(`Invald algorithm: keccak${t}`)}};$e.keccak=e8;var t8=function(e){return(0,$e.keccak)(e)};$e.keccak256=t8;function r8(e,t,r){let n=Math.ceil(t/8);return(0,Jv.blake2b)(e,{dkLen:n,key:r})}$e.blake2=r8;function $b(e){let t;return e<253?(t=B.Buffer.alloc(1),t.writeUInt8(e,0)):e<65536?(t=B.Buffer.alloc(1+2),t.writeUInt8(253,0),t.writeUInt16LE(e,1)):e<4294967296?(t=B.Buffer.alloc(1+4),t.writeUInt8(254,0),t.writeUInt32LE(e,1)):(t=B.Buffer.alloc(1+8),t.writeUInt8(255,0),t.writeInt32LE(e&-1,1),t.writeUInt32LE(Math.floor(e/4294967296),5)),t}var n8=B.Buffer.from(`Bitcoin Signed Message:
`);function i8(e,t){let r=t?B.Buffer.from(t,"utf8"):n8,n=$b(r.length),i=B.Buffer.from(e),s=$b(i.length),o=B.Buffer.concat([n,r,s,i]);return Wb(o)}$e.magicHash=i8});var Io=R(Ni=>{C();x();Object.defineProperty(Ni,"__esModule",{value:!0});Ni.hmac=Ni.HMAC=void 0;var za=Pn(),Xb=rr(),Mo=class extends Xb.Hash{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,(0,za.ahash)(t);let n=(0,Xb.toBytes)(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return(0,za.aexists)(this),this.iHash.update(t),this}digestInto(t){(0,za.aexists)(this),(0,za.abytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:c}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Ni.HMAC=Mo;var s8=(e,t,r)=>new Mo(e,t).update(r).digest();Ni.hmac=s8;Ni.hmac.create=(e,t)=>new Mo(e,t)});var Jb=R(ws=>{C();x();Object.defineProperty(ws,"__esModule",{value:!0});ws.hmacSHA512=ws.hmacSHA256=void 0;var Yb=Io(),Zb=Ua();function o8(e,t){return B.Buffer.from((0,Yb.hmac)(Zb.sha256,e,t))}ws.hmacSHA256=o8;function a8(e,t){return B.Buffer.from((0,Yb.hmac)(Zb.sha512,e,t))}ws.hmacSHA512=a8});var Wd=R(Le=>{C();x();Object.defineProperty(Le,"__esModule",{value:!0});Le.blake2s=Le.BLAKE2s=Le.B2S_IV=void 0;Le.G1s=In;Le.G2s=Bn;Le.compress=ep;var Qb=Va(),c8=ps(),Mr=rr();Le.B2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);function In(e,t,r,n,i){return e=e+t+i|0,n=(0,Mr.rotr)(n^e,16),r=r+n|0,t=(0,Mr.rotr)(t^r,12),{a:e,b:t,c:r,d:n}}function Bn(e,t,r,n,i){return e=e+t+i|0,n=(0,Mr.rotr)(n^e,8),r=r+n|0,t=(0,Mr.rotr)(t^r,7),{a:e,b:t,c:r,d:n}}function ep(e,t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I,M,k,O){let L=0;for(let q=0;q<n;q++)({a:i,b:d,c:E,d:I}=In(i,d,E,I,r[t+e[L++]])),{a:i,b:d,c:E,d:I}=Bn(i,d,E,I,r[t+e[L++]]),{a:s,b:l,c:w,d:M}=In(s,l,w,M,r[t+e[L++]]),{a:s,b:l,c:w,d:M}=Bn(s,l,w,M,r[t+e[L++]]),{a:o,b:p,c:P,d:k}=In(o,p,P,k,r[t+e[L++]]),{a:o,b:p,c:P,d:k}=Bn(o,p,P,k,r[t+e[L++]]),{a:c,b,c:T,d:O}=In(c,b,T,O,r[t+e[L++]]),{a:c,b,c:T,d:O}=Bn(c,b,T,O,r[t+e[L++]]),{a:i,b:l,c:P,d:O}=In(i,l,P,O,r[t+e[L++]]),{a:i,b:l,c:P,d:O}=Bn(i,l,P,O,r[t+e[L++]]),{a:s,b:p,c:T,d:I}=In(s,p,T,I,r[t+e[L++]]),{a:s,b:p,c:T,d:I}=Bn(s,p,T,I,r[t+e[L++]]),{a:o,b,c:E,d:M}=In(o,b,E,M,r[t+e[L++]]),{a:o,b,c:E,d:M}=Bn(o,b,E,M,r[t+e[L++]]),{a:c,b:d,c:w,d:k}=In(c,d,w,k,r[t+e[L++]]),{a:c,b:d,c:w,d:k}=Bn(c,d,w,k,r[t+e[L++]]);return{v0:i,v1:s,v2:o,v3:c,v4:d,v5:l,v6:p,v7:b,v8:E,v9:w,v10:P,v11:T,v12:I,v13:M,v14:k,v15:O}}var Fa=class extends Qb.BLAKE{constructor(t={}){super(64,t.dkLen===void 0?32:t.dkLen,t,32,8,8),this.v0=Le.B2S_IV[0]|0,this.v1=Le.B2S_IV[1]|0,this.v2=Le.B2S_IV[2]|0,this.v3=Le.B2S_IV[3]|0,this.v4=Le.B2S_IV[4]|0,this.v5=Le.B2S_IV[5]|0,this.v6=Le.B2S_IV[6]|0,this.v7=Le.B2S_IV[7]|0;let r=t.key?t.key.length:0;if(this.v0^=this.outputLen|r<<8|1<<16|1<<24,t.salt){let n=(0,Mr.u32)((0,Mr.toBytes)(t.salt));this.v4^=(0,Mr.byteSwapIfBE)(n[0]),this.v5^=(0,Mr.byteSwapIfBE)(n[1])}if(t.personalization){let n=(0,Mr.u32)((0,Mr.toBytes)(t.personalization));this.v6^=(0,Mr.byteSwapIfBE)(n[0]),this.v7^=(0,Mr.byteSwapIfBE)(n[1])}if(t.key){let n=new Uint8Array(this.blockLen);n.set((0,Mr.toBytes)(t.key)),this.update(n)}}get(){let{v0:t,v1:r,v2:n,v3:i,v4:s,v5:o,v6:c,v7:d}=this;return[t,r,n,i,s,o,c,d]}set(t,r,n,i,s,o,c,d){this.v0=t|0,this.v1=r|0,this.v2=n|0,this.v3=i|0,this.v4=s|0,this.v5=o|0,this.v6=c|0,this.v7=d|0}compress(t,r,n){let{h:i,l:s}=(0,c8.fromBig)(BigInt(this.length)),{v0:o,v1:c,v2:d,v3:l,v4:p,v5:b,v6:E,v7:w,v8:P,v9:T,v10:I,v11:M,v12:k,v13:O,v14:L,v15:q}=ep(Qb.SIGMA,r,t,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,Le.B2S_IV[0],Le.B2S_IV[1],Le.B2S_IV[2],Le.B2S_IV[3],s^Le.B2S_IV[4],i^Le.B2S_IV[5],n?~Le.B2S_IV[6]:Le.B2S_IV[6],Le.B2S_IV[7]);this.v0^=o^P,this.v1^=c^T,this.v2^=d^I,this.v3^=l^M,this.v4^=p^k,this.v5^=b^O,this.v6^=E^L,this.v7^=w^q}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}};Le.BLAKE2s=Fa;Le.blake2s=(0,Mr.wrapConstructorWithOpts)(e=>new Fa(e))});var Ga=R($a=>{C();x();Object.defineProperty($a,"__esModule",{value:!0});$a.pbkdf2=d8;$a.pbkdf2Async=u8;var ja=Pn(),f8=Io(),Cs=rr();function tp(e,t,r,n){(0,ja.ahash)(e);let i=(0,Cs.checkOpts)({dkLen:32,asyncTick:10},n),{c:s,dkLen:o,asyncTick:c}=i;if((0,ja.anumber)(s),(0,ja.anumber)(o),(0,ja.anumber)(c),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let d=(0,Cs.toBytes)(t),l=(0,Cs.toBytes)(r),p=new Uint8Array(o),b=f8.hmac.create(e,d),E=b._cloneInto().update(l);return{c:s,dkLen:o,asyncTick:c,DK:p,PRF:b,PRFSalt:E}}function rp(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function d8(e,t,r,n){let{c:i,dkLen:s,DK:o,PRF:c,PRFSalt:d}=tp(e,t,r,n),l,p=new Uint8Array(4),b=(0,Cs.createView)(p),E=new Uint8Array(c.outputLen);for(let w=1,P=0;P<s;w++,P+=c.outputLen){let T=o.subarray(P,P+c.outputLen);b.setInt32(0,w,!1),(l=d._cloneInto(l)).update(p).digestInto(E),T.set(E.subarray(0,T.length));for(let I=1;I<i;I++){c._cloneInto(l).update(E).digestInto(E);for(let M=0;M<T.length;M++)T[M]^=E[M]}}return rp(c,d,o,l,E)}async function u8(e,t,r,n){let{c:i,dkLen:s,asyncTick:o,DK:c,PRF:d,PRFSalt:l}=tp(e,t,r,n),p,b=new Uint8Array(4),E=(0,Cs.createView)(b),w=new Uint8Array(d.outputLen);for(let P=1,T=0;T<s;P++,T+=d.outputLen){let I=c.subarray(T,T+d.outputLen);E.setInt32(0,P,!1),(p=l._cloneInto(p)).update(b).digestInto(w),I.set(w.subarray(0,I.length)),await(0,Cs.asyncLoop)(i-1,o,()=>{d._cloneInto(p).update(w).digestInto(w);for(let M=0;M<I.length;M++)I[M]^=w[M]})}return rp(d,l,c,p,w)}});var cp=R(Wa=>{C();x();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.scrypt=l8;Wa.scryptAsync=h8;var xs=Pn(),ip=Ga(),sp=bs(),se=rr();function np(e,t,r,n,i,s){let o=e[t++]^r[n++],c=e[t++]^r[n++],d=e[t++]^r[n++],l=e[t++]^r[n++],p=e[t++]^r[n++],b=e[t++]^r[n++],E=e[t++]^r[n++],w=e[t++]^r[n++],P=e[t++]^r[n++],T=e[t++]^r[n++],I=e[t++]^r[n++],M=e[t++]^r[n++],k=e[t++]^r[n++],O=e[t++]^r[n++],L=e[t++]^r[n++],q=e[t++]^r[n++],H=o,D=c,V=d,ne=l,S=p,a=b,u=E,h=w,g=P,y=T,_=I,A=M,m=k,f=O,v=L,K=q;for(let U=0;U<8;U+=2)S^=(0,se.rotl)(H+m|0,7),g^=(0,se.rotl)(S+H|0,9),m^=(0,se.rotl)(g+S|0,13),H^=(0,se.rotl)(m+g|0,18),y^=(0,se.rotl)(a+D|0,7),f^=(0,se.rotl)(y+a|0,9),D^=(0,se.rotl)(f+y|0,13),a^=(0,se.rotl)(D+f|0,18),v^=(0,se.rotl)(_+u|0,7),V^=(0,se.rotl)(v+_|0,9),u^=(0,se.rotl)(V+v|0,13),_^=(0,se.rotl)(u+V|0,18),ne^=(0,se.rotl)(K+A|0,7),h^=(0,se.rotl)(ne+K|0,9),A^=(0,se.rotl)(h+ne|0,13),K^=(0,se.rotl)(A+h|0,18),D^=(0,se.rotl)(H+ne|0,7),V^=(0,se.rotl)(D+H|0,9),ne^=(0,se.rotl)(V+D|0,13),H^=(0,se.rotl)(ne+V|0,18),u^=(0,se.rotl)(a+S|0,7),h^=(0,se.rotl)(u+a|0,9),S^=(0,se.rotl)(h+u|0,13),a^=(0,se.rotl)(S+h|0,18),A^=(0,se.rotl)(_+y|0,7),g^=(0,se.rotl)(A+_|0,9),y^=(0,se.rotl)(g+A|0,13),_^=(0,se.rotl)(y+g|0,18),m^=(0,se.rotl)(K+v|0,7),f^=(0,se.rotl)(m+K|0,9),v^=(0,se.rotl)(f+m|0,13),K^=(0,se.rotl)(v+f|0,18);i[s++]=o+H|0,i[s++]=c+D|0,i[s++]=d+V|0,i[s++]=l+ne|0,i[s++]=p+S|0,i[s++]=b+a|0,i[s++]=E+u|0,i[s++]=w+h|0,i[s++]=P+g|0,i[s++]=T+y|0,i[s++]=I+_|0,i[s++]=M+A|0,i[s++]=k+m|0,i[s++]=O+f|0,i[s++]=L+v|0,i[s++]=q+K|0}function Ts(e,t,r,n,i){let s=n+0,o=n+16*i;for(let c=0;c<16;c++)r[o+c]=e[t+(2*i-1)*16+c];for(let c=0;c<i;c++,s+=16,t+=16)np(r,o,e,t,r,s),c>0&&(o+=16),np(r,s,e,t+=16,r,o)}function op(e,t,r){let n=(0,se.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:s,p:o,dkLen:c,asyncTick:d,maxmem:l,onProgress:p}=n;if((0,xs.anumber)(i),(0,xs.anumber)(s),(0,xs.anumber)(o),(0,xs.anumber)(c),(0,xs.anumber)(d),(0,xs.anumber)(l),p!==void 0&&typeof p!="function")throw new Error("progressCb should be function");let b=128*s,E=b/4;if(i<=1||(i&i-1)!==0||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, and less than 2^32");if(o<0||o>(2**32-1)*32/b)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");if(b*(i+o)>l)throw new Error("Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of "+l);let P=(0,ip.pbkdf2)(sp.sha256,e,t,{c:1,dkLen:b*o}),T=(0,se.u32)(P),I=(0,se.u32)(new Uint8Array(b*i)),M=(0,se.u32)(new Uint8Array(b)),k=()=>{};if(p){let O=2*i*o,L=Math.max(Math.floor(O/1e4),1),q=0;k=()=>{q++,p&&(!(q%L)||q===O)&&p(q/O)}}return{N:i,r:s,p:o,dkLen:c,blockSize32:E,V:I,B32:T,B:P,tmp:M,blockMixCb:k,asyncTick:d}}function ap(e,t,r,n,i){let s=(0,ip.pbkdf2)(sp.sha256,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),s}function l8(e,t,r){let{N:n,r:i,p:s,dkLen:o,blockSize32:c,V:d,B32:l,B:p,tmp:b,blockMixCb:E}=op(e,t,r);se.isLE||(0,se.byteSwap32)(l);for(let w=0;w<s;w++){let P=c*w;for(let T=0;T<c;T++)d[T]=l[P+T];for(let T=0,I=0;T<n-1;T++)Ts(d,I,d,I+=c,i),E();Ts(d,(n-1)*c,l,P,i),E();for(let T=0;T<n;T++){let I=l[P+c-16]%n;for(let M=0;M<c;M++)b[M]=l[P+M]^d[I*c+M];Ts(b,0,l,P,i),E()}}return se.isLE||(0,se.byteSwap32)(l),ap(e,o,p,d,b)}async function h8(e,t,r){let{N:n,r:i,p:s,dkLen:o,blockSize32:c,V:d,B32:l,B:p,tmp:b,blockMixCb:E,asyncTick:w}=op(e,t,r);se.isLE||(0,se.byteSwap32)(l);for(let P=0;P<s;P++){let T=c*P;for(let M=0;M<c;M++)d[M]=l[T+M];let I=0;await(0,se.asyncLoop)(n-1,w,()=>{Ts(d,I,d,I+=c,i),E()}),Ts(d,(n-1)*c,l,T,i),E(),await(0,se.asyncLoop)(n,w,()=>{let M=l[T+c-16]%n;for(let k=0;k<c;k++)b[k]=l[T+k]^d[M*c+k];Ts(b,0,l,T,i),E()})}return se.isLE||(0,se.byteSwap32)(l),ap(e,o,p,d,b)}});var up=R(Ps=>{C();x();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.blake3=Ps.BLAKE3=void 0;var Bo=Pn(),b8=Va(),fp=ps(),en=Wd(),Gt=rr(),un={CHUNK_START:1<<0,CHUNK_END:1<<1,PARENT:1<<2,ROOT:1<<3,KEYED_HASH:1<<4,DERIVE_KEY_CONTEXT:1<<5,DERIVE_KEY_MATERIAL:1<<6},dp=(()=>{let e=Array.from({length:16},(n,i)=>i),t=n=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map(i=>n[i]),r=[];for(let n=0,i=e;n<7;n++,i=t(i))r.push(...i);return Uint8Array.from(r)})(),Es=class extends b8.BLAKE{constructor(t={},r=0){let n=t.dkLen===void 0?32:t.dkLen;if(super(64,n,{},Number.MAX_SAFE_INTEGER,0,0),this.flags=0,this.chunkPos=0,this.chunksDone=0,this.stack=[],this.posOut=0,this.bufferOut32=new Uint32Array(16),this.chunkOut=0,this.enableXOF=!0,(0,Bo.anumber)(this.outputLen),t.key!==void 0&&t.context!==void 0)throw new Error("Blake3: only key or context can be specified at same time");if(t.key!==void 0){let i=(0,Gt.toBytes)(t.key).slice();if(i.length!==32)throw new Error("Blake3: key should be 32 byte");this.IV=(0,Gt.u32)(i),Gt.isLE||(0,Gt.byteSwap32)(this.IV),this.flags=r|un.KEYED_HASH}else if(t.context!==void 0){let i=new Es({dkLen:32},un.DERIVE_KEY_CONTEXT).update(t.context).digest();this.IV=(0,Gt.u32)(i),Gt.isLE||(0,Gt.byteSwap32)(this.IV),this.flags=r|un.DERIVE_KEY_MATERIAL}else this.IV=en.B2S_IV.slice(),this.flags=r;this.state=this.IV.slice(),this.bufferOut=(0,Gt.u8)(this.bufferOut32)}get(){return[]}set(){}b2Compress(t,r,n,i=0){let{state:s,pos:o}=this,{h:c,l:d}=(0,fp.fromBig)(BigInt(t),!0),{v0:l,v1:p,v2:b,v3:E,v4:w,v5:P,v6:T,v7:I,v8:M,v9:k,v10:O,v11:L,v12:q,v13:H,v14:D,v15:V}=(0,en.compress)(dp,i,n,7,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],en.B2S_IV[0],en.B2S_IV[1],en.B2S_IV[2],en.B2S_IV[3],c,d,o,r);s[0]=l^M,s[1]=p^k,s[2]=b^O,s[3]=E^L,s[4]=w^q,s[5]=P^H,s[6]=T^D,s[7]=I^V}compress(t,r=0,n=!1){let i=this.flags;if(this.chunkPos||(i|=un.CHUNK_START),(this.chunkPos===15||n)&&(i|=un.CHUNK_END),n||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,i,t,r),this.chunkPos+=1,this.chunkPos===16||n){let s=this.state;this.state=this.IV.slice();for(let o,c=this.chunksDone+1;(n||!(c&1))&&(o=this.stack.pop());c>>=1)this.buffer32.set(o,0),this.buffer32.set(s,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|un.PARENT,this.buffer32,0),s=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(s)}this.pos=0}_cloneInto(t){t=super._cloneInto(t);let{IV:r,flags:n,state:i,chunkPos:s,posOut:o,chunkOut:c,stack:d,chunksDone:l}=this;return t.state.set(i.slice()),t.stack=d.map(p=>Uint32Array.from(p)),t.IV.set(r),t.flags=n,t.chunkPos=s,t.chunksDone=l,t.posOut=o,t.chunkOut=c,t.enableXOF=this.enableXOF,t.bufferOut32.set(this.bufferOut32),t}destroy(){this.destroyed=!0,this.state.fill(0),this.buffer32.fill(0),this.IV.fill(0),this.bufferOut32.fill(0);for(let t of this.stack)t.fill(0)}b2CompressOut(){let{state:t,pos:r,flags:n,buffer32:i,bufferOut32:s}=this,{h:o,l:c}=(0,fp.fromBig)(BigInt(this.chunkOut++));Gt.isLE||(0,Gt.byteSwap32)(i);let{v0:d,v1:l,v2:p,v3:b,v4:E,v5:w,v6:P,v7:T,v8:I,v9:M,v10:k,v11:O,v12:L,v13:q,v14:H,v15:D}=(0,en.compress)(dp,0,i,7,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],en.B2S_IV[0],en.B2S_IV[1],en.B2S_IV[2],en.B2S_IV[3],c,o,r,n);s[0]=d^I,s[1]=l^M,s[2]=p^k,s[3]=b^O,s[4]=E^L,s[5]=w^q,s[6]=P^H,s[7]=T^D,s[8]=t[0]^I,s[9]=t[1]^M,s[10]=t[2]^k,s[11]=t[3]^O,s[12]=t[4]^L,s[13]=t[5]^q,s[14]=t[6]^H,s[15]=t[7]^D,Gt.isLE||((0,Gt.byteSwap32)(i),(0,Gt.byteSwap32)(s)),this.posOut=0}finish(){if(this.finished)return;this.finished=!0,this.buffer.fill(0,this.pos);let t=this.flags|un.ROOT;this.stack.length?(t|=un.PARENT,Gt.isLE||(0,Gt.byteSwap32)(this.buffer32),this.compress(this.buffer32,0,!0),Gt.isLE||(0,Gt.byteSwap32)(this.buffer32),this.chunksDone=0,this.pos=this.blockLen):t|=(this.chunkPos?0:un.CHUNK_START)|un.CHUNK_END,this.flags=t,this.b2CompressOut()}writeInto(t){(0,Bo.aexists)(this,!1),(0,Bo.abytes)(t),this.finish();let{blockLen:r,bufferOut:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.b2CompressOut();let o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible after digest call");return this.writeInto(t)}xof(t){return(0,Bo.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Bo.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}};Ps.BLAKE3=Es;Ps.blake3=(0,Gt.wrapXOFConstructorWithOpts)(e=>new Es(e))});var Oo=R(Be=>{C();x();var lp=Be&&Be.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p8=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vr=Be&&Be.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lp(t,e,r)},y8=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lp(t,e,r);return p8(t,e),t};Object.defineProperty(Be,"__esModule",{value:!0});Be.randomBytes=Be.concatBytes=Be.reverseBuffer=void 0;vr(sb(),Be);vr(ab(),Be);vr(Ua(),Be);vr(Jb(),Be);vr(Mf(),Be);vr(bs(),Be);vr(Io(),Be);vr(jd(),Be);vr(To(),Be);vr(Ha(),Be);vr(Gd(),Be);vr(Wd(),Be);vr(Ga(),Be);vr(cp(),Be);vr(up(),Be);var g8=y8(rr()),m8=M2();function v8(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e}Be.reverseBuffer=v8;function _8(e,t){return g8.concatBytes(Uint8Array.from(e),Uint8Array.from(t))}Be.concatBytes=_8;function S8(e){return m8(e)}Be.randomBytes=S8});var Ir=R((hp,Xd)=>{C();x();(function(e,t){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=E2().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(u===16?this._parseHex(a,g,h):(this._parseBase(a,u,g),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(a,u,h){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,_,A=0;if(h==="be")for(g=a.length-1,y=0;g>=0;g-=3)_=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[y]|=_<<A&67108863,this.words[y+1]=_>>>26-A&67108863,A+=24,A>=26&&(A-=26,y++);else if(h==="le")for(g=0,y=0;g<a.length;g+=3)_=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[y]|=_<<A&67108863,this.words[y+1]=_>>>26-A&67108863,A+=24,A>=26&&(A-=26,y++);return this.strip()};function o(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(S,a,u){var h=o(S,u);return u-1>=a&&(h|=o(S,u-1)<<4),h}i.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y=0,_=0,A;if(h==="be")for(g=a.length-1;g>=u;g-=2)A=c(a,u,g)<<y,this.words[_]|=A&67108863,y>=18?(y-=18,_+=1,this.words[_]|=A>>>26):y+=8;else{var m=a.length-u;for(g=m%2===0?u+1:u;g<a.length;g+=2)A=c(a,u,g)<<y,this.words[_]|=A&67108863,y>=18?(y-=18,_+=1,this.words[_]|=A>>>26):y+=8}this.strip()};function d(S,a,u,h){for(var g=0,y=Math.min(S.length,u),_=a;_<y;_++){var A=S.charCodeAt(_)-48;g*=h,A>=49?g+=A-49+10:A>=17?g+=A-17+10:g+=A}return g}i.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=u)g++;g--,y=y/u|0;for(var _=a.length-h,A=_%g,m=Math.min(_,_-A)+h,f=0,v=h;v<m;v+=g)f=d(a,v,v+g,u),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var K=1;for(f=d(a,v,a.length,u),v=0;v<A;v++)K*=u;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var g=0,y=0,_=0;_<this.length;_++){var A=this.words[_],m=((A<<g|y)&16777215).toString(16);y=A>>>24-g&16777215,y!==0||_!==this.length-1?h=l[6-m.length]+m+h:h=m+h,g+=2,g>=26&&(g-=26,_--)}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=p[a],v=b[a];h="";var K=this.clone();for(K.negative=0;!K.isZero();){var U=K.modn(v).toString(a);K=K.idivn(v),K.isZero()?h=U+h:h=l[f-U.length]+U+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return r(typeof s<"u"),this.toArrayLike(s,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,h){var g=this.byteLength(),y=h||Math.max(1,g);r(g<=y,"byte array longer than desired length"),r(y>0,"Requested array length <= 0"),this.strip();var _=u==="le",A=new a(y),m,f,v=this.clone();if(_){for(f=0;!v.isZero();f++)m=v.andln(255),v.iushrn(8),A[f]=m;for(;f<y;f++)A[f]=0}else{for(f=0;f<y-g;f++)A[f]=0;for(f=0;!v.isZero();f++)m=v.andln(255),v.iushrn(8),A[y-f-1]=m}return A},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function E(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var h=u/26|0,g=u%26;a[u]=(S.words[h]&1<<g)>>>g}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var g=0;g<h.length;g++)this.words[g]=u.words[g]^h.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var g=0;g<u;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var h=a/26|0,g=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var y=0,_=0;_<g.length;_++)u=(h.words[_]|0)+(g.words[_]|0)+y,this.words[_]=u&67108863,y=u>>>26;for(;y!==0&&_<h.length;_++)u=(h.words[_]|0)+y,this.words[_]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;_<h.length;_++)this.words[_]=h.words[_];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,y;h>0?(g=this,y=a):(g=a,y=this);for(var _=0,A=0;A<y.length;A++)u=(g.words[A]|0)-(y.words[A]|0)+_,_=u>>26,this.words[A]=u&67108863;for(;_!==0&&A<g.length;A++)u=(g.words[A]|0)+_,_=u>>26,this.words[A]=u&67108863;if(_===0&&A<g.length&&g!==this)for(;A<g.length;A++)this.words[A]=g.words[A];return this.length=Math.max(this.length,A),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function w(S,a,u){u.negative=a.negative^S.negative;var h=S.length+a.length|0;u.length=h,h=h-1|0;var g=S.words[0]|0,y=a.words[0]|0,_=g*y,A=_&67108863,m=_/67108864|0;u.words[0]=A;for(var f=1;f<h;f++){for(var v=m>>>26,K=m&67108863,U=Math.min(f,a.length-1),X=Math.max(0,f-S.length+1);X<=U;X++){var te=f-X|0;g=S.words[te]|0,y=a.words[X]|0,_=g*y+K,v+=_/67108864|0,K=_&67108863}u.words[f]=K|0,m=v|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var P=function(a,u,h){var g=a.words,y=u.words,_=h.words,A=0,m,f,v,K=g[0]|0,U=K&8191,X=K>>>13,te=g[1]|0,ye=te&8191,Ee=te>>>13,tr=g[2]|0,Oe=tr&8191,Pe=tr>>>13,Sn=g[3]|0,et=Sn&8191,Me=Sn>>>13,wn=g[4]|0,Fe=wn&8191,tt=wn>>>13,ho=g[5]|0,at=ho&8191,ct=ho>>>13,Gl=g[6]|0,ft=Gl&8191,dt=Gl>>>13,Wl=g[7]|0,ut=Wl&8191,lt=Wl>>>13,Xl=g[8]|0,ht=Xl&8191,bt=Xl>>>13,Yl=g[9]|0,pt=Yl&8191,yt=Yl>>>13,Zl=y[0]|0,gt=Zl&8191,mt=Zl>>>13,Jl=y[1]|0,vt=Jl&8191,_t=Jl>>>13,Ql=y[2]|0,St=Ql&8191,wt=Ql>>>13,e0=y[3]|0,Ct=e0&8191,xt=e0>>>13,t0=y[4]|0,Tt=t0&8191,Et=t0>>>13,r0=y[5]|0,Pt=r0&8191,At=r0>>>13,n0=y[6]|0,Mt=n0&8191,It=n0>>>13,i0=y[7]|0,Bt=i0&8191,Ot=i0>>>13,s0=y[8]|0,kt=s0&8191,Rt=s0>>>13,o0=y[9]|0,Nt=o0&8191,Lt=o0>>>13;h.negative=a.negative^u.negative,h.length=19,m=Math.imul(U,gt),f=Math.imul(U,mt),f=f+Math.imul(X,gt)|0,v=Math.imul(X,mt);var ff=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ff>>>26)|0,ff&=67108863,m=Math.imul(ye,gt),f=Math.imul(ye,mt),f=f+Math.imul(Ee,gt)|0,v=Math.imul(Ee,mt),m=m+Math.imul(U,vt)|0,f=f+Math.imul(U,_t)|0,f=f+Math.imul(X,vt)|0,v=v+Math.imul(X,_t)|0;var df=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(df>>>26)|0,df&=67108863,m=Math.imul(Oe,gt),f=Math.imul(Oe,mt),f=f+Math.imul(Pe,gt)|0,v=Math.imul(Pe,mt),m=m+Math.imul(ye,vt)|0,f=f+Math.imul(ye,_t)|0,f=f+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,_t)|0,m=m+Math.imul(U,St)|0,f=f+Math.imul(U,wt)|0,f=f+Math.imul(X,St)|0,v=v+Math.imul(X,wt)|0;var uf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(uf>>>26)|0,uf&=67108863,m=Math.imul(et,gt),f=Math.imul(et,mt),f=f+Math.imul(Me,gt)|0,v=Math.imul(Me,mt),m=m+Math.imul(Oe,vt)|0,f=f+Math.imul(Oe,_t)|0,f=f+Math.imul(Pe,vt)|0,v=v+Math.imul(Pe,_t)|0,m=m+Math.imul(ye,St)|0,f=f+Math.imul(ye,wt)|0,f=f+Math.imul(Ee,St)|0,v=v+Math.imul(Ee,wt)|0,m=m+Math.imul(U,Ct)|0,f=f+Math.imul(U,xt)|0,f=f+Math.imul(X,Ct)|0,v=v+Math.imul(X,xt)|0;var lf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(lf>>>26)|0,lf&=67108863,m=Math.imul(Fe,gt),f=Math.imul(Fe,mt),f=f+Math.imul(tt,gt)|0,v=Math.imul(tt,mt),m=m+Math.imul(et,vt)|0,f=f+Math.imul(et,_t)|0,f=f+Math.imul(Me,vt)|0,v=v+Math.imul(Me,_t)|0,m=m+Math.imul(Oe,St)|0,f=f+Math.imul(Oe,wt)|0,f=f+Math.imul(Pe,St)|0,v=v+Math.imul(Pe,wt)|0,m=m+Math.imul(ye,Ct)|0,f=f+Math.imul(ye,xt)|0,f=f+Math.imul(Ee,Ct)|0,v=v+Math.imul(Ee,xt)|0,m=m+Math.imul(U,Tt)|0,f=f+Math.imul(U,Et)|0,f=f+Math.imul(X,Tt)|0,v=v+Math.imul(X,Et)|0;var hf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(hf>>>26)|0,hf&=67108863,m=Math.imul(at,gt),f=Math.imul(at,mt),f=f+Math.imul(ct,gt)|0,v=Math.imul(ct,mt),m=m+Math.imul(Fe,vt)|0,f=f+Math.imul(Fe,_t)|0,f=f+Math.imul(tt,vt)|0,v=v+Math.imul(tt,_t)|0,m=m+Math.imul(et,St)|0,f=f+Math.imul(et,wt)|0,f=f+Math.imul(Me,St)|0,v=v+Math.imul(Me,wt)|0,m=m+Math.imul(Oe,Ct)|0,f=f+Math.imul(Oe,xt)|0,f=f+Math.imul(Pe,Ct)|0,v=v+Math.imul(Pe,xt)|0,m=m+Math.imul(ye,Tt)|0,f=f+Math.imul(ye,Et)|0,f=f+Math.imul(Ee,Tt)|0,v=v+Math.imul(Ee,Et)|0,m=m+Math.imul(U,Pt)|0,f=f+Math.imul(U,At)|0,f=f+Math.imul(X,Pt)|0,v=v+Math.imul(X,At)|0;var bf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(bf>>>26)|0,bf&=67108863,m=Math.imul(ft,gt),f=Math.imul(ft,mt),f=f+Math.imul(dt,gt)|0,v=Math.imul(dt,mt),m=m+Math.imul(at,vt)|0,f=f+Math.imul(at,_t)|0,f=f+Math.imul(ct,vt)|0,v=v+Math.imul(ct,_t)|0,m=m+Math.imul(Fe,St)|0,f=f+Math.imul(Fe,wt)|0,f=f+Math.imul(tt,St)|0,v=v+Math.imul(tt,wt)|0,m=m+Math.imul(et,Ct)|0,f=f+Math.imul(et,xt)|0,f=f+Math.imul(Me,Ct)|0,v=v+Math.imul(Me,xt)|0,m=m+Math.imul(Oe,Tt)|0,f=f+Math.imul(Oe,Et)|0,f=f+Math.imul(Pe,Tt)|0,v=v+Math.imul(Pe,Et)|0,m=m+Math.imul(ye,Pt)|0,f=f+Math.imul(ye,At)|0,f=f+Math.imul(Ee,Pt)|0,v=v+Math.imul(Ee,At)|0,m=m+Math.imul(U,Mt)|0,f=f+Math.imul(U,It)|0,f=f+Math.imul(X,Mt)|0,v=v+Math.imul(X,It)|0;var pf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(pf>>>26)|0,pf&=67108863,m=Math.imul(ut,gt),f=Math.imul(ut,mt),f=f+Math.imul(lt,gt)|0,v=Math.imul(lt,mt),m=m+Math.imul(ft,vt)|0,f=f+Math.imul(ft,_t)|0,f=f+Math.imul(dt,vt)|0,v=v+Math.imul(dt,_t)|0,m=m+Math.imul(at,St)|0,f=f+Math.imul(at,wt)|0,f=f+Math.imul(ct,St)|0,v=v+Math.imul(ct,wt)|0,m=m+Math.imul(Fe,Ct)|0,f=f+Math.imul(Fe,xt)|0,f=f+Math.imul(tt,Ct)|0,v=v+Math.imul(tt,xt)|0,m=m+Math.imul(et,Tt)|0,f=f+Math.imul(et,Et)|0,f=f+Math.imul(Me,Tt)|0,v=v+Math.imul(Me,Et)|0,m=m+Math.imul(Oe,Pt)|0,f=f+Math.imul(Oe,At)|0,f=f+Math.imul(Pe,Pt)|0,v=v+Math.imul(Pe,At)|0,m=m+Math.imul(ye,Mt)|0,f=f+Math.imul(ye,It)|0,f=f+Math.imul(Ee,Mt)|0,v=v+Math.imul(Ee,It)|0,m=m+Math.imul(U,Bt)|0,f=f+Math.imul(U,Ot)|0,f=f+Math.imul(X,Bt)|0,v=v+Math.imul(X,Ot)|0;var yf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(yf>>>26)|0,yf&=67108863,m=Math.imul(ht,gt),f=Math.imul(ht,mt),f=f+Math.imul(bt,gt)|0,v=Math.imul(bt,mt),m=m+Math.imul(ut,vt)|0,f=f+Math.imul(ut,_t)|0,f=f+Math.imul(lt,vt)|0,v=v+Math.imul(lt,_t)|0,m=m+Math.imul(ft,St)|0,f=f+Math.imul(ft,wt)|0,f=f+Math.imul(dt,St)|0,v=v+Math.imul(dt,wt)|0,m=m+Math.imul(at,Ct)|0,f=f+Math.imul(at,xt)|0,f=f+Math.imul(ct,Ct)|0,v=v+Math.imul(ct,xt)|0,m=m+Math.imul(Fe,Tt)|0,f=f+Math.imul(Fe,Et)|0,f=f+Math.imul(tt,Tt)|0,v=v+Math.imul(tt,Et)|0,m=m+Math.imul(et,Pt)|0,f=f+Math.imul(et,At)|0,f=f+Math.imul(Me,Pt)|0,v=v+Math.imul(Me,At)|0,m=m+Math.imul(Oe,Mt)|0,f=f+Math.imul(Oe,It)|0,f=f+Math.imul(Pe,Mt)|0,v=v+Math.imul(Pe,It)|0,m=m+Math.imul(ye,Bt)|0,f=f+Math.imul(ye,Ot)|0,f=f+Math.imul(Ee,Bt)|0,v=v+Math.imul(Ee,Ot)|0,m=m+Math.imul(U,kt)|0,f=f+Math.imul(U,Rt)|0,f=f+Math.imul(X,kt)|0,v=v+Math.imul(X,Rt)|0;var gf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(gf>>>26)|0,gf&=67108863,m=Math.imul(pt,gt),f=Math.imul(pt,mt),f=f+Math.imul(yt,gt)|0,v=Math.imul(yt,mt),m=m+Math.imul(ht,vt)|0,f=f+Math.imul(ht,_t)|0,f=f+Math.imul(bt,vt)|0,v=v+Math.imul(bt,_t)|0,m=m+Math.imul(ut,St)|0,f=f+Math.imul(ut,wt)|0,f=f+Math.imul(lt,St)|0,v=v+Math.imul(lt,wt)|0,m=m+Math.imul(ft,Ct)|0,f=f+Math.imul(ft,xt)|0,f=f+Math.imul(dt,Ct)|0,v=v+Math.imul(dt,xt)|0,m=m+Math.imul(at,Tt)|0,f=f+Math.imul(at,Et)|0,f=f+Math.imul(ct,Tt)|0,v=v+Math.imul(ct,Et)|0,m=m+Math.imul(Fe,Pt)|0,f=f+Math.imul(Fe,At)|0,f=f+Math.imul(tt,Pt)|0,v=v+Math.imul(tt,At)|0,m=m+Math.imul(et,Mt)|0,f=f+Math.imul(et,It)|0,f=f+Math.imul(Me,Mt)|0,v=v+Math.imul(Me,It)|0,m=m+Math.imul(Oe,Bt)|0,f=f+Math.imul(Oe,Ot)|0,f=f+Math.imul(Pe,Bt)|0,v=v+Math.imul(Pe,Ot)|0,m=m+Math.imul(ye,kt)|0,f=f+Math.imul(ye,Rt)|0,f=f+Math.imul(Ee,kt)|0,v=v+Math.imul(Ee,Rt)|0,m=m+Math.imul(U,Nt)|0,f=f+Math.imul(U,Lt)|0,f=f+Math.imul(X,Nt)|0,v=v+Math.imul(X,Lt)|0;var mf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(mf>>>26)|0,mf&=67108863,m=Math.imul(pt,vt),f=Math.imul(pt,_t),f=f+Math.imul(yt,vt)|0,v=Math.imul(yt,_t),m=m+Math.imul(ht,St)|0,f=f+Math.imul(ht,wt)|0,f=f+Math.imul(bt,St)|0,v=v+Math.imul(bt,wt)|0,m=m+Math.imul(ut,Ct)|0,f=f+Math.imul(ut,xt)|0,f=f+Math.imul(lt,Ct)|0,v=v+Math.imul(lt,xt)|0,m=m+Math.imul(ft,Tt)|0,f=f+Math.imul(ft,Et)|0,f=f+Math.imul(dt,Tt)|0,v=v+Math.imul(dt,Et)|0,m=m+Math.imul(at,Pt)|0,f=f+Math.imul(at,At)|0,f=f+Math.imul(ct,Pt)|0,v=v+Math.imul(ct,At)|0,m=m+Math.imul(Fe,Mt)|0,f=f+Math.imul(Fe,It)|0,f=f+Math.imul(tt,Mt)|0,v=v+Math.imul(tt,It)|0,m=m+Math.imul(et,Bt)|0,f=f+Math.imul(et,Ot)|0,f=f+Math.imul(Me,Bt)|0,v=v+Math.imul(Me,Ot)|0,m=m+Math.imul(Oe,kt)|0,f=f+Math.imul(Oe,Rt)|0,f=f+Math.imul(Pe,kt)|0,v=v+Math.imul(Pe,Rt)|0,m=m+Math.imul(ye,Nt)|0,f=f+Math.imul(ye,Lt)|0,f=f+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,Lt)|0;var vf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(vf>>>26)|0,vf&=67108863,m=Math.imul(pt,St),f=Math.imul(pt,wt),f=f+Math.imul(yt,St)|0,v=Math.imul(yt,wt),m=m+Math.imul(ht,Ct)|0,f=f+Math.imul(ht,xt)|0,f=f+Math.imul(bt,Ct)|0,v=v+Math.imul(bt,xt)|0,m=m+Math.imul(ut,Tt)|0,f=f+Math.imul(ut,Et)|0,f=f+Math.imul(lt,Tt)|0,v=v+Math.imul(lt,Et)|0,m=m+Math.imul(ft,Pt)|0,f=f+Math.imul(ft,At)|0,f=f+Math.imul(dt,Pt)|0,v=v+Math.imul(dt,At)|0,m=m+Math.imul(at,Mt)|0,f=f+Math.imul(at,It)|0,f=f+Math.imul(ct,Mt)|0,v=v+Math.imul(ct,It)|0,m=m+Math.imul(Fe,Bt)|0,f=f+Math.imul(Fe,Ot)|0,f=f+Math.imul(tt,Bt)|0,v=v+Math.imul(tt,Ot)|0,m=m+Math.imul(et,kt)|0,f=f+Math.imul(et,Rt)|0,f=f+Math.imul(Me,kt)|0,v=v+Math.imul(Me,Rt)|0,m=m+Math.imul(Oe,Nt)|0,f=f+Math.imul(Oe,Lt)|0,f=f+Math.imul(Pe,Nt)|0,v=v+Math.imul(Pe,Lt)|0;var _f=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(_f>>>26)|0,_f&=67108863,m=Math.imul(pt,Ct),f=Math.imul(pt,xt),f=f+Math.imul(yt,Ct)|0,v=Math.imul(yt,xt),m=m+Math.imul(ht,Tt)|0,f=f+Math.imul(ht,Et)|0,f=f+Math.imul(bt,Tt)|0,v=v+Math.imul(bt,Et)|0,m=m+Math.imul(ut,Pt)|0,f=f+Math.imul(ut,At)|0,f=f+Math.imul(lt,Pt)|0,v=v+Math.imul(lt,At)|0,m=m+Math.imul(ft,Mt)|0,f=f+Math.imul(ft,It)|0,f=f+Math.imul(dt,Mt)|0,v=v+Math.imul(dt,It)|0,m=m+Math.imul(at,Bt)|0,f=f+Math.imul(at,Ot)|0,f=f+Math.imul(ct,Bt)|0,v=v+Math.imul(ct,Ot)|0,m=m+Math.imul(Fe,kt)|0,f=f+Math.imul(Fe,Rt)|0,f=f+Math.imul(tt,kt)|0,v=v+Math.imul(tt,Rt)|0,m=m+Math.imul(et,Nt)|0,f=f+Math.imul(et,Lt)|0,f=f+Math.imul(Me,Nt)|0,v=v+Math.imul(Me,Lt)|0;var Sf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Sf>>>26)|0,Sf&=67108863,m=Math.imul(pt,Tt),f=Math.imul(pt,Et),f=f+Math.imul(yt,Tt)|0,v=Math.imul(yt,Et),m=m+Math.imul(ht,Pt)|0,f=f+Math.imul(ht,At)|0,f=f+Math.imul(bt,Pt)|0,v=v+Math.imul(bt,At)|0,m=m+Math.imul(ut,Mt)|0,f=f+Math.imul(ut,It)|0,f=f+Math.imul(lt,Mt)|0,v=v+Math.imul(lt,It)|0,m=m+Math.imul(ft,Bt)|0,f=f+Math.imul(ft,Ot)|0,f=f+Math.imul(dt,Bt)|0,v=v+Math.imul(dt,Ot)|0,m=m+Math.imul(at,kt)|0,f=f+Math.imul(at,Rt)|0,f=f+Math.imul(ct,kt)|0,v=v+Math.imul(ct,Rt)|0,m=m+Math.imul(Fe,Nt)|0,f=f+Math.imul(Fe,Lt)|0,f=f+Math.imul(tt,Nt)|0,v=v+Math.imul(tt,Lt)|0;var wf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(wf>>>26)|0,wf&=67108863,m=Math.imul(pt,Pt),f=Math.imul(pt,At),f=f+Math.imul(yt,Pt)|0,v=Math.imul(yt,At),m=m+Math.imul(ht,Mt)|0,f=f+Math.imul(ht,It)|0,f=f+Math.imul(bt,Mt)|0,v=v+Math.imul(bt,It)|0,m=m+Math.imul(ut,Bt)|0,f=f+Math.imul(ut,Ot)|0,f=f+Math.imul(lt,Bt)|0,v=v+Math.imul(lt,Ot)|0,m=m+Math.imul(ft,kt)|0,f=f+Math.imul(ft,Rt)|0,f=f+Math.imul(dt,kt)|0,v=v+Math.imul(dt,Rt)|0,m=m+Math.imul(at,Nt)|0,f=f+Math.imul(at,Lt)|0,f=f+Math.imul(ct,Nt)|0,v=v+Math.imul(ct,Lt)|0;var Cf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Cf>>>26)|0,Cf&=67108863,m=Math.imul(pt,Mt),f=Math.imul(pt,It),f=f+Math.imul(yt,Mt)|0,v=Math.imul(yt,It),m=m+Math.imul(ht,Bt)|0,f=f+Math.imul(ht,Ot)|0,f=f+Math.imul(bt,Bt)|0,v=v+Math.imul(bt,Ot)|0,m=m+Math.imul(ut,kt)|0,f=f+Math.imul(ut,Rt)|0,f=f+Math.imul(lt,kt)|0,v=v+Math.imul(lt,Rt)|0,m=m+Math.imul(ft,Nt)|0,f=f+Math.imul(ft,Lt)|0,f=f+Math.imul(dt,Nt)|0,v=v+Math.imul(dt,Lt)|0;var xf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(xf>>>26)|0,xf&=67108863,m=Math.imul(pt,Bt),f=Math.imul(pt,Ot),f=f+Math.imul(yt,Bt)|0,v=Math.imul(yt,Ot),m=m+Math.imul(ht,kt)|0,f=f+Math.imul(ht,Rt)|0,f=f+Math.imul(bt,kt)|0,v=v+Math.imul(bt,Rt)|0,m=m+Math.imul(ut,Nt)|0,f=f+Math.imul(ut,Lt)|0,f=f+Math.imul(lt,Nt)|0,v=v+Math.imul(lt,Lt)|0;var Tf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Tf>>>26)|0,Tf&=67108863,m=Math.imul(pt,kt),f=Math.imul(pt,Rt),f=f+Math.imul(yt,kt)|0,v=Math.imul(yt,Rt),m=m+Math.imul(ht,Nt)|0,f=f+Math.imul(ht,Lt)|0,f=f+Math.imul(bt,Nt)|0,v=v+Math.imul(bt,Lt)|0;var Ef=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ef>>>26)|0,Ef&=67108863,m=Math.imul(pt,Nt),f=Math.imul(pt,Lt),f=f+Math.imul(yt,Nt)|0,v=Math.imul(yt,Lt);var Pf=(A+m|0)+((f&8191)<<13)|0;return A=(v+(f>>>13)|0)+(Pf>>>26)|0,Pf&=67108863,_[0]=ff,_[1]=df,_[2]=uf,_[3]=lf,_[4]=hf,_[5]=bf,_[6]=pf,_[7]=yf,_[8]=gf,_[9]=mf,_[10]=vf,_[11]=_f,_[12]=Sf,_[13]=wf,_[14]=Cf,_[15]=xf,_[16]=Tf,_[17]=Ef,_[18]=Pf,A!==0&&(_[19]=A,h.length++),h};Math.imul||(P=w);function T(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var h=0,g=0,y=0;y<u.length-1;y++){var _=g;g=0;for(var A=h&67108863,m=Math.min(y,a.length-1),f=Math.max(0,y-S.length+1);f<=m;f++){var v=y-f,K=S.words[v]|0,U=a.words[f]|0,X=K*U,te=X&67108863;_=_+(X/67108864|0)|0,te=te+A|0,A=te&67108863,_=_+(te>>>26)|0,g+=_>>>26,_&=67108863}u.words[y]=A,h=_,_=g}return h!==0?u.words[y]=h:u.length--,u.strip()}function I(S,a,u){var h=new M;return h.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var h,g=this.length+a.length;return this.length===10&&a.length===10?h=P(this,a,u):g<63?h=w(this,a,u):g<1024?h=T(this,a,u):h=I(this,a,u),h};function M(S,a){this.x=S,this.y=a}M.prototype.makeRBT=function(a){for(var u=new Array(a),h=i.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,h,a);return u},M.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var g=0,y=0;y<u;y++)g|=(a&1)<<u-y-1,a>>=1;return g},M.prototype.permute=function(a,u,h,g,y,_){for(var A=0;A<_;A++)g[A]=u[a[A]],y[A]=h[a[A]]},M.prototype.transform=function(a,u,h,g,y,_){this.permute(_,a,u,h,g,y);for(var A=1;A<y;A<<=1)for(var m=A<<1,f=Math.cos(2*Math.PI/m),v=Math.sin(2*Math.PI/m),K=0;K<y;K+=m)for(var U=f,X=v,te=0;te<A;te++){var ye=h[K+te],Ee=g[K+te],tr=h[K+te+A],Oe=g[K+te+A],Pe=U*tr-X*Oe;Oe=U*Oe+X*tr,tr=Pe,h[K+te]=ye+tr,g[K+te]=Ee+Oe,h[K+te+A]=ye-tr,g[K+te+A]=Ee-Oe,te!==m&&(Pe=f*U-v*X,X=f*X+v*U,U=Pe)}},M.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,g=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+g},M.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var g=0;g<h/2;g++){var y=a[g];a[g]=a[h-g-1],a[h-g-1]=y,y=u[g],u[g]=-u[h-g-1],u[h-g-1]=-y}},M.prototype.normalize13b=function(a,u){for(var h=0,g=0;g<u/2;g++){var y=Math.round(a[2*g+1]/u)*8192+Math.round(a[2*g]/u)+h;a[g]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},M.prototype.convert13b=function(a,u,h,g){for(var y=0,_=0;_<u;_++)y=y+(a[_]|0),h[2*_]=y&8191,y=y>>>13,h[2*_+1]=y&8191,y=y>>>13;for(_=2*u;_<g;++_)h[_]=0;r(y===0),r((y&-8192)===0)},M.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},M.prototype.mulp=function(a,u,h){var g=2*this.guessLen13b(a.length,u.length),y=this.makeRBT(g),_=this.stub(g),A=new Array(g),m=new Array(g),f=new Array(g),v=new Array(g),K=new Array(g),U=new Array(g),X=h.words;X.length=g,this.convert13b(a.words,a.length,A,g),this.convert13b(u.words,u.length,v,g),this.transform(A,_,m,f,g,y),this.transform(v,_,K,U,g,y);for(var te=0;te<g;te++){var ye=m[te]*K[te]-f[te]*U[te];f[te]=m[te]*U[te]+f[te]*K[te],m[te]=ye}return this.conjugate(m,f,g),this.transform(m,f,X,_,g,y),this.conjugate(X,_,g),this.normalize13b(X,g),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),I(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,y=(g&67108863)+(u&67108863);u>>=26,u+=g/67108864|0,u+=y>>>26,this.words[h]=y&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=E(a);if(u.length===0)return new i(1);for(var h=this,g=0;g<u.length&&u[g]===0;g++,h=h.sqr());if(++g<u.length)for(var y=h.sqr();g<u.length;g++,y=y.sqr())u[g]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,g=67108863>>>26-u<<26-u,y;if(u!==0){var _=0;for(y=0;y<this.length;y++){var A=this.words[y]&g,m=(this.words[y]|0)-A<<u;this.words[y]=m|_,_=A>>>26-u}_&&(this.words[y]=_,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,h){r(typeof a=="number"&&a>=0);var g;u?g=(u-u%26)/26:g=0;var y=a%26,_=Math.min((a-y)/26,this.length),A=67108863^67108863>>>y<<y,m=h;if(g-=_,g=Math.max(0,g),m){for(var f=0;f<_;f++)m.words[f]=this.words[f];m.length=_}if(_!==0)if(this.length>_)for(this.length-=_,f=0;f<this.length;f++)this.words[f]=this.words[f+_];else this.words[0]=0,this.length=1;var v=0;for(f=this.length-1;f>=0&&(v!==0||f>=g);f--){var K=this.words[f]|0;this.words[f]=v<<26-y|K>>>y,v=K&A}return m&&v!==0&&(m.words[m.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,h){return r(this.negative===0),this.iushrn(a,u,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,g=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&g)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var g=67108863^67108863>>>u<<u;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,h){var g=a.length+h,y;this._expand(g);var _,A=0;for(y=0;y<a.length;y++){_=(this.words[y+h]|0)+A;var m=(a.words[y]|0)*u;_-=m&67108863,A=(_>>26)-(m/67108864|0),this.words[y+h]=_&67108863}for(;y<this.length-h;y++)_=(this.words[y+h]|0)+A,A=_>>26,this.words[y+h]=_&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,y=0;y<this.length;y++)_=-(this.words[y]|0)+A,A=_>>26,this.words[y]=_&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var h=this.length-a.length,g=this.clone(),y=a,_=y.words[y.length-1]|0,A=this._countBits(_);h=26-A,h!==0&&(y=y.ushln(h),g.iushln(h),_=y.words[y.length-1]|0);var m=g.length-y.length,f;if(u!=="mod"){f=new i(null),f.length=m+1,f.words=new Array(f.length);for(var v=0;v<f.length;v++)f.words[v]=0}var K=g.clone()._ishlnsubmul(y,1,m);K.negative===0&&(g=K,f&&(f.words[m]=1));for(var U=m-1;U>=0;U--){var X=(g.words[y.length+U]|0)*67108864+(g.words[y.length+U-1]|0);for(X=Math.min(X/_|0,67108863),g._ishlnsubmul(y,X,U);g.negative!==0;)X--,g.negative=0,g._ishlnsubmul(y,1,U),g.isZero()||(g.negative^=1);f&&(f.words[U]=X)}return f&&f.strip(),g.strip(),u!=="div"&&h!==0&&g.iushrn(h),{div:f||null,mod:g}},i.prototype.divmod=function(a,u,h){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,y,_;return this.negative!==0&&a.negative===0?(_=this.neg().divmod(a,u),u!=="mod"&&(g=_.div.neg()),u!=="div"&&(y=_.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:g,mod:y}):this.negative===0&&a.negative!==0?(_=this.divmod(a.neg(),u),u!=="mod"&&(g=_.div.neg()),{div:g,mod:_.mod}):(this.negative&a.negative)!==0?(_=this.neg().divmod(a.neg(),u),u!=="div"&&(y=_.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:_.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,g=a.ushrn(1),y=a.andln(1),_=h.cmp(g);return _<0||y===1&&_===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(u*h+(this.words[g]|0))%a;return h},i.prototype.idivn=function(a){r(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+u*67108864;this.words[h]=g/a|0,u=g%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var g=new i(1),y=new i(0),_=new i(0),A=new i(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),v=u.clone();!u.isZero();){for(var K=0,U=1;(u.words[0]&U)===0&&K<26;++K,U<<=1);if(K>0)for(u.iushrn(K);K-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(f),y.isub(v)),g.iushrn(1),y.iushrn(1);for(var X=0,te=1;(h.words[0]&te)===0&&X<26;++X,te<<=1);if(X>0)for(h.iushrn(X);X-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(f),A.isub(v)),_.iushrn(1),A.iushrn(1);u.cmp(h)>=0?(u.isub(h),g.isub(_),y.isub(A)):(h.isub(u),_.isub(g),A.isub(y))}return{a:_,b:A,gcd:h.iushln(m)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var g=new i(1),y=new i(0),_=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var A=0,m=1;(u.words[0]&m)===0&&A<26;++A,m<<=1);if(A>0)for(u.iushrn(A);A-- >0;)g.isOdd()&&g.iadd(_),g.iushrn(1);for(var f=0,v=1;(h.words[0]&v)===0&&f<26;++f,v<<=1);if(f>0)for(h.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(_),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),g.isub(y)):(h.isub(u),y.isub(g))}var K;return u.cmpn(1)===0?K=g:K=y,K.cmpn(0)<0&&K.iadd(a),K},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var g=0;u.isEven()&&h.isEven();g++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var _=u;u=h,h=_}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(g)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,h=(a-u)/26,g=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var y=g,_=h;y!==0&&_<this.length;_++){var A=this.words[_]|0;A+=y,y=A>>>26,A&=67108863,this.words[_]=A}return y!==0&&(this.words[_]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var g=this.words[0]|0;h=g===a?0:g<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,y=a.words[h]|0;if(g!==y){g<y?u=-1:g>y&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new V(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var k={k256:null,p224:null,p192:null,p25519:null};function O(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},O.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var g=h<this.n?-1:u.ucmp(this.p);return g===0?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(a,u){a.iushrn(this.n,0,u)},O.prototype.imulK=function(a){return a.imul(this.k)};function L(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,O),L.prototype.split=function(a,u){for(var h=4194303,g=Math.min(a.length,9),y=0;y<g;y++)u.words[y]=a.words[y];if(u.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var _=a.words[9];for(u.words[u.length++]=_&h,y=10;y<a.length;y++){var A=a.words[y]|0;a.words[y-10]=(A&h)<<4|_>>>22,_=A}_>>>=22,a.words[y-10]=_,_===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var g=a.words[h]|0;u+=g*977,a.words[h]=u&67108863,u=g*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(q,O);function H(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,O);function D(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(D,O),D.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var g=(a.words[h]|0)*19+u,y=g&67108863;g>>>=26,a.words[h]=y,u=g}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(k[a])return k[a];var u;if(a==="k256")u=new L;else if(a==="p224")u=new q;else if(a==="p192")u=new H;else if(a==="p25519")u=new D;else throw new Error("Unknown prime "+a);return k[a]=u,u};function V(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}V.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},V.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},V.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},V.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},V.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},V.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},V.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},V.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},V.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},V.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},V.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},V.prototype.isqr=function(a){return this.imul(a,a.clone())},V.prototype.sqr=function(a){return this.mul(a,a)},V.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);r(!g.isZero());var _=new i(1).toRed(this),A=_.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,m).cmp(A)!==0;)f.redIAdd(A);for(var v=this.pow(f,g),K=this.pow(a,g.addn(1).iushrn(1)),U=this.pow(a,g),X=y;U.cmp(_)!==0;){for(var te=U,ye=0;te.cmp(_)!==0;ye++)te=te.redSqr();r(ye<X);var Ee=this.pow(v,new i(1).iushln(X-ye-1));K=K.redMul(Ee),v=Ee.redSqr(),U=U.redMul(v),X=ye}return K},V.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},V.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,g=new Array(1<<h);g[0]=new i(1).toRed(this),g[1]=a;for(var y=2;y<g.length;y++)g[y]=this.mul(g[y-1],a);var _=g[0],A=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),y=u.length-1;y>=0;y--){for(var v=u.words[y],K=f-1;K>=0;K--){var U=v>>K&1;if(_!==g[0]&&(_=this.sqr(_)),U===0&&A===0){m=0;continue}A<<=1,A|=U,m++,!(m!==h&&(y!==0||K!==0))&&(_=this.mul(_,g[A]),m=0,A=0)}f=26}return _},V.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},V.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new ne(a)};function ne(S){V.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ne,V),ne.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ne.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),_=y;return y.cmp(this.m)>=0?_=y.isub(this.m):y.cmpn(0)<0&&(_=y.iadd(this.m)),_._forceRed(this)},ne.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var h=a.mul(u),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),_=y;return y.cmp(this.m)>=0?_=y.isub(this.m):y.cmpn(0)<0&&(_=y.iadd(this.m)),_._forceRed(this)},ne.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof Xd>"u"||Xd,hp)});var qr=R(bp=>{C();x();var tn=bp,w8=Ir(),C8=P2(),Xa=A2();tn.assert=C8;tn.toArray=Xa.toArray;tn.zero2=Xa.zero2;tn.toHex=Xa.toHex;tn.encode=Xa.encode;function x8(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,s=e.clone(),o=0;o<n.length;o++){var c,d=s.andln(i-1);s.isOdd()?(d>(i>>1)-1?c=(i>>1)-d:c=d,s.isubn(c)):c=0,n[o]=c,s.iushrn(1)}return n}tn.getNAF=x8;function T8(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0,s;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o=e.andln(3)+n&3,c=t.andln(3)+i&3;o===3&&(o=-1),c===3&&(c=-1);var d;(o&1)===0?d=0:(s=e.andln(7)+n&7,(s===3||s===5)&&c===2?d=-o:d=o),r[0].push(d);var l;(c&1)===0?l=0:(s=t.andln(7)+i&7,(s===3||s===5)&&o===2?l=-c:l=c),r[1].push(l),2*n===d+1&&(n=1-n),2*i===l+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r}tn.getJSF=T8;function E8(e,t,r){var n="_"+t;e.prototype[t]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}tn.cachedProperty=E8;function P8(e){return typeof e=="string"?tn.toArray(e,"hex"):e}tn.parseBytes=P8;function A8(e){return new w8(e,"hex","le")}tn.intFromLE=A8});var Ro=R((oE,pp)=>{C();x();var ko=qr(),Li=Ir(),Ya=ko.getNAF,M8=ko.getJSF,Za=ko.assert;function si(e,t){this.type=e,this.p=new Li(t.p,16),this.red=t.prime?Li.red(t.prime):Li.mont(this.p),this.zero=new Li(0).toRed(this.red),this.one=new Li(1).toRed(this.red),this.two=new Li(2).toRed(this.red),this.n=t.n&&new Li(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}pp.exports=si;si.prototype.point=function(){throw new Error("Not implemented")};si.prototype.validate=function(){throw new Error("Not implemented")};si.prototype._fixedNafMul=function(t,r){Za(t.precomputed);var n=t._getDoubles(),i=Ya(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],c,d;for(c=0;c<i.length;c+=n.step){d=0;for(var l=c+n.step-1;l>=c;l--)d=(d<<1)+i[l];o.push(d)}for(var p=this.jpoint(null,null,null),b=this.jpoint(null,null,null),E=s;E>0;E--){for(c=0;c<o.length;c++)d=o[c],d===E?b=b.mixedAdd(n.points[c]):d===-E&&(b=b.mixedAdd(n.points[c].neg()));p=p.add(b)}return p.toP()};si.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Ya(r,n,this._bitLength),c=this.jpoint(null,null,null),d=o.length-1;d>=0;d--){for(var l=0;d>=0&&o[d]===0;d--)l++;if(d>=0&&l++,c=c.dblp(l),d<0)break;var p=o[d];Za(p!==0),t.type==="affine"?p>0?c=c.mixedAdd(s[p-1>>1]):c=c.mixedAdd(s[-p-1>>1].neg()):p>0?c=c.add(s[p-1>>1]):c=c.add(s[-p-1>>1].neg())}return t.type==="affine"?c.toP():c};si.prototype._wnafMulAdd=function(t,r,n,i,s){var o=this._wnafT1,c=this._wnafT2,d=this._wnafT3,l=0,p,b,E;for(p=0;p<i;p++){E=r[p];var w=E._getNAFPoints(t);o[p]=w.wnd,c[p]=w.points}for(p=i-1;p>=1;p-=2){var P=p-1,T=p;if(o[P]!==1||o[T]!==1){d[P]=Ya(n[P],o[P],this._bitLength),d[T]=Ya(n[T],o[T],this._bitLength),l=Math.max(d[P].length,l),l=Math.max(d[T].length,l);continue}var I=[r[P],null,null,r[T]];r[P].y.cmp(r[T].y)===0?(I[1]=r[P].add(r[T]),I[2]=r[P].toJ().mixedAdd(r[T].neg())):r[P].y.cmp(r[T].y.redNeg())===0?(I[1]=r[P].toJ().mixedAdd(r[T]),I[2]=r[P].add(r[T].neg())):(I[1]=r[P].toJ().mixedAdd(r[T]),I[2]=r[P].toJ().mixedAdd(r[T].neg()));var M=[-3,-1,-5,-7,0,7,5,1,3],k=M8(n[P],n[T]);for(l=Math.max(k[0].length,l),d[P]=new Array(l),d[T]=new Array(l),b=0;b<l;b++){var O=k[0][b]|0,L=k[1][b]|0;d[P][b]=M[(O+1)*3+(L+1)],d[T][b]=0,c[P]=I}}var q=this.jpoint(null,null,null),H=this._wnafT4;for(p=l;p>=0;p--){for(var D=0;p>=0;){var V=!0;for(b=0;b<i;b++)H[b]=d[b][p]|0,H[b]!==0&&(V=!1);if(!V)break;D++,p--}if(p>=0&&D++,q=q.dblp(D),p<0)break;for(b=0;b<i;b++){var ne=H[b];ne!==0&&(ne>0?E=c[b][ne-1>>1]:ne<0&&(E=c[b][-ne-1>>1].neg()),E.type==="affine"?q=q.mixedAdd(E):q=q.add(E))}}for(p=0;p<i;p++)c[p]=null;return s?q:q.toP()};function jr(e,t){this.curve=e,this.type=t,this.precomputed=null}si.BasePoint=jr;jr.prototype.eq=function(){throw new Error("Not implemented")};jr.prototype.validate=function(){return this.curve.validate(this)};si.prototype.decodePoint=function(t,r){t=ko.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?Za(t[t.length-1]%2===0):t[0]===7&&Za(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};jr.prototype.encodeCompressed=function(t){return this.encode(t,!0)};jr.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};jr.prototype.encode=function(t,r){return ko.encode(this._encode(r),t)};jr.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};jr.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};jr.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=t){for(var o=0;o<t;o++)i=i.dbl();n.push(i)}return{step:t,points:n}};jr.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}};jr.prototype._getBeta=function(){return null};jr.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r}});var gp=R((fE,yp)=>{C();x();var I8=qr(),nt=Ir(),Yd=Af(),As=Ro(),B8=I8.assert;function $r(e){As.call(this,"short",e),this.a=new nt(e.a,16).toRed(this.red),this.b=new nt(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Yd($r,As);yp.exports=$r;$r.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new nt(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new nt(t.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],B8(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return t.basis?o=t.basis.map(function(c){return{a:new nt(c.a,16),b:new nt(c.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};$r.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:nt.mont(t),n=new nt(2).toRed(r).redInvm(),i=n.redNeg(),s=new nt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[o,c]};$r.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),s=new nt(1),o=new nt(0),c=new nt(0),d=new nt(1),l,p,b,E,w,P,T,I=0,M,k;n.cmpn(0)!==0;){var O=i.div(n);M=i.sub(O.mul(n)),k=c.sub(O.mul(s));var L=d.sub(O.mul(o));if(!b&&M.cmp(r)<0)l=T.neg(),p=s,b=M.neg(),E=k;else if(b&&++I===2)break;T=M,i=n,n=M,c=s,s=k,d=o,o=L}w=M.neg(),P=k;var q=b.sqr().add(E.sqr()),H=w.sqr().add(P.sqr());return H.cmp(q)>=0&&(w=l,P=p),b.negative&&(b=b.neg(),E=E.neg()),w.negative&&(w=w.neg(),P=P.neg()),[{a:b,b:E},{a:w,b:P}]};$r.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),c=s.mul(n.a),d=o.mul(i.a),l=s.mul(n.b),p=o.mul(i.b),b=t.sub(c).sub(d),E=l.add(p).neg();return{k1:b,k2:E}};$r.prototype.pointFromX=function(t,r){t=new nt(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(t,i)};$r.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};$r.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<t.length;o++){var c=this._endoSplit(r[o]),d=t[o],l=d._getBeta();c.k1.negative&&(c.k1.ineg(),d=d.neg(!0)),c.k2.negative&&(c.k2.ineg(),l=l.neg(!0)),i[o*2]=d,i[o*2+1]=l,s[o*2]=c.k1,s[o*2+1]=c.k2}for(var p=this._wnafMulAdd(1,i,s,o*2,n),b=0;b<o*2;b++)i[b]=null,s[b]=null;return p};function Wt(e,t,r,n){As.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new nt(t,16),this.y=new nt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Yd(Wt,As.BasePoint);$r.prototype.point=function(t,r,n){return new Wt(this,t,r,n)};$r.prototype.pointFromJSON=function(t,r){return Wt.fromJSON(this,t,r)};Wt.prototype._getBeta=function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};Wt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Wt.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(c){return t.point(c[0],c[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Wt.prototype.isInfinity=function(){return this.inf};Wt.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Wt.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,c)};Wt.prototype.getX=function(){return this.x.fromRed()};Wt.prototype.getY=function(){return this.y.fromRed()};Wt.prototype.mul=function(t){return t=new nt(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Wt.prototype.mulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Wt.prototype.jmulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Wt.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Wt.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Wt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function ir(e,t,r,n){As.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new nt(0)):(this.x=new nt(t,16),this.y=new nt(r,16),this.z=new nt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Yd(ir,As.BasePoint);$r.prototype.jpoint=function(t,r,n){return new ir(this,t,r,n)};ir.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};ir.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ir.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=t.x.redMul(n),o=this.y.redMul(r.redMul(t.z)),c=t.y.redMul(n.redMul(this.z)),d=i.redSub(s),l=o.redSub(c);if(d.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=d.redSqr(),b=p.redMul(d),E=i.redMul(p),w=l.redSqr().redIAdd(b).redISub(E).redISub(E),P=l.redMul(E.redISub(w)).redISub(o.redMul(b)),T=this.z.redMul(t.z).redMul(d);return this.curve.jpoint(w,P,T)};ir.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),s=this.y,o=t.y.redMul(r).redMul(this.z),c=n.redSub(i),d=s.redSub(o);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),p=l.redMul(c),b=n.redMul(l),E=d.redSqr().redIAdd(p).redISub(b).redISub(b),w=d.redMul(b.redISub(E)).redISub(s.redMul(p)),P=this.z.redMul(c);return this.curve.jpoint(E,w,P)};ir.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,c=this.y,d=this.z,l=d.redSqr().redSqr(),p=c.redAdd(c);for(r=0;r<t;r++){var b=o.redSqr(),E=p.redSqr(),w=E.redSqr(),P=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(l)),T=o.redMul(E),I=P.redSqr().redISub(T.redAdd(T)),M=T.redISub(I),k=P.redMul(M);k=k.redIAdd(k).redISub(w);var O=p.redMul(d);r+1<t&&(l=l.redMul(w)),o=I,d=O,p=k}return this.curve.jpoint(o,p.redMul(s),d)};ir.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ir.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var d=i.redAdd(i).redIAdd(i),l=d.redSqr().redISub(c).redISub(c),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),t=l,r=d.redMul(c.redISub(l)).redISub(p),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),E=this.y.redSqr(),w=E.redSqr(),P=this.x.redAdd(E).redSqr().redISub(b).redISub(w);P=P.redIAdd(P);var T=b.redAdd(b).redIAdd(b),I=T.redSqr(),M=w.redIAdd(w);M=M.redIAdd(M),M=M.redIAdd(M),t=I.redISub(P).redISub(P),r=T.redMul(P.redISub(t)).redISub(M),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};ir.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var d=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=d.redSqr().redISub(c).redISub(c);t=l;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),r=d.redMul(c.redISub(l)).redISub(p),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),E=this.y.redSqr(),w=this.x.redMul(E),P=this.x.redSub(b).redMul(this.x.redAdd(b));P=P.redAdd(P).redIAdd(P);var T=w.redIAdd(w);T=T.redIAdd(T);var I=T.redAdd(T);t=P.redSqr().redISub(I),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(b);var M=E.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M),r=P.redMul(T.redISub(t)).redISub(M)}return this.curve.jpoint(t,r,n)};ir.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),c=n.redSqr(),d=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var p=l.redMul(c),b=d.redSqr().redISub(p.redAdd(p)),E=p.redISub(b),w=c.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var P=d.redMul(E).redISub(w),T=n.redAdd(n).redMul(i);return this.curve.jpoint(b,P,T)};ir.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=t.redAdd(t).redIAdd(t),o=s.redSqr(),c=this.x.redAdd(r).redSqr().redISub(t).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(o);var d=c.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var p=s.redIAdd(c).redSqr().redISub(o).redISub(d).redISub(l),b=r.redMul(p);b=b.redIAdd(b),b=b.redIAdd(b);var E=this.x.redMul(d).redISub(b);E=E.redIAdd(E),E=E.redIAdd(E);var w=this.y.redMul(p.redMul(l.redISub(p)).redISub(c.redMul(d)));w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var P=this.z.redAdd(c).redSqr().redISub(n).redISub(d);return this.curve.jpoint(E,w,P)};ir.prototype.mul=function(t,r){return t=new nt(t,r),this.curve._wnafMul(this,t)};ir.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0};ir.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ir.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ir.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var _p=R((lE,vp)=>{C();x();var Ms=Ir(),mp=Af(),Ja=Ro(),O8=qr();function Is(e){Ja.call(this,"mont",e),this.a=new Ms(e.a,16).toRed(this.red),this.b=new Ms(e.b,16).toRed(this.red),this.i4=new Ms(4).toRed(this.red).redInvm(),this.two=new Ms(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}mp(Is,Ja);vp.exports=Is;Is.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Xt(e,t,r){Ja.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ms(t,16),this.z=new Ms(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}mp(Xt,Ja.BasePoint);Is.prototype.decodePoint=function(t,r){return this.point(O8.toArray(t,r),1)};Is.prototype.point=function(t,r){return new Xt(this,t,r)};Is.prototype.pointFromJSON=function(t){return Xt.fromJSON(this,t)};Xt.prototype.precompute=function(){};Xt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Xt.fromJSON=function(t,r){return new Xt(t,r[0],r[1]||t.one)};Xt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Xt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Xt.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),c=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,c)};Xt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Xt.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=t.x.redAdd(t.z),o=t.x.redSub(t.z),c=o.redMul(n),d=s.redMul(i),l=r.z.redMul(c.redAdd(d).redSqr()),p=r.x.redMul(c.redISub(d).redSqr());return this.curve.point(l,p)};Xt.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var c=o.length-1;c>=0;c--)o[c]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Xt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Xt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Xt.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Xt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Xt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var Cp=R((pE,wp)=>{C();x();var k8=qr(),On=Ir(),Sp=Af(),Qa=Ro(),R8=k8.assert;function ln(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,Qa.call(this,"edwards",e),this.a=new On(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new On(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new On(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),R8(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}Sp(ln,Qa);wp.exports=ln;ln.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};ln.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};ln.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)};ln.prototype.pointFromX=function(t,r){t=new On(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),c=o.redSqrt();if(c.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var d=c.fromRed().isOdd();return(r&&!d||!r&&d)&&(c=c.redNeg()),this.point(t,c)};ln.prototype.pointFromY=function(t,r){t=new On(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var c=o.redSqrt();if(c.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,t)};ln.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Ke(e,t,r,n,i){Qa.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new On(t,16),this.y=new On(r,16),this.z=n?new On(n,16):this.curve.one,this.t=i&&new On(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Sp(Ke,Qa.BasePoint);ln.prototype.pointFromJSON=function(t){return Ke.fromJSON(this,t)};ln.prototype.point=function(t,r,n,i){return new Ke(this,t,r,n,i)};Ke.fromJSON=function(t,r){return new Ke(t,r[0],r[1],r[2])};Ke.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ke.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ke.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),o=i.redAdd(r),c=o.redSub(n),d=i.redSub(r),l=s.redMul(c),p=o.redMul(d),b=s.redMul(d),E=c.redMul(o);return this.curve.point(l,p,E,b)};Ke.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,c,d,l;if(this.curve.twisted){c=this.curve._mulA(r);var p=c.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(p.redSub(this.curve.two)),s=p.redMul(c.redSub(n)),o=p.redSqr().redSub(p).redSub(p)):(d=this.z.redSqr(),l=p.redSub(d).redISub(d),i=t.redSub(r).redISub(n).redMul(l),s=p.redMul(c.redSub(n)),o=p.redMul(l))}else c=r.redAdd(n),d=this.curve._mulC(this.z).redSqr(),l=c.redSub(d).redSub(d),i=this.curve._mulC(t.redISub(c)).redMul(l),s=this.curve._mulC(c).redMul(r.redISub(n)),o=c.redMul(l);return this.curve.point(i,s,o)};Ke.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ke.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),s=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(r),c=s.redSub(i),d=s.redAdd(i),l=n.redAdd(r),p=o.redMul(c),b=d.redMul(l),E=o.redMul(l),w=c.redMul(d);return this.curve.point(p,b,w,E)};Ke.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),s=this.y.redMul(t.y),o=this.curve.d.redMul(i).redMul(s),c=n.redSub(o),d=n.redAdd(o),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(s),p=r.redMul(c).redMul(l),b,E;return this.curve.twisted?(b=r.redMul(d).redMul(s.redSub(this.curve._mulA(i))),E=c.redMul(d)):(b=r.redMul(d).redMul(s.redSub(i)),E=this.curve._mulC(c).redMul(d)),this.curve.point(p,b,E)};Ke.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};Ke.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};Ke.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};Ke.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};Ke.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};Ke.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ke.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ke.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ke.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};Ke.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ke.prototype.toP=Ke.prototype.normalize;Ke.prototype.mixedAdd=Ke.prototype.add});var Zd=R(xp=>{C();x();var ec=xp;ec.base=Ro();ec.short=gp();ec.mont=_p();ec.edwards=Cp()});var Ep=R((SE,Tp)=>{C();x();Tp.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var tc=R(Mp=>{C();x();var Qd=Mp,oi=a0(),Jd=Zd(),N8=qr(),Pp=N8.assert;function Ap(e){e.type==="short"?this.curve=new Jd.short(e):e.type==="edwards"?this.curve=new Jd.edwards(e):this.curve=new Jd.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,Pp(this.g.validate(),"Invalid curve"),Pp(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Qd.PresetCurve=Ap;function ai(e,t){Object.defineProperty(Qd,e,{configurable:!0,enumerable:!0,get:function(){var r=new Ap(t);return Object.defineProperty(Qd,e,{configurable:!0,enumerable:!0,value:r}),r}})}ai("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:oi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});ai("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:oi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});ai("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:oi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});ai("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:oi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});ai("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:oi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});ai("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:oi.sha256,gRed:!1,g:["9"]});ai("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:oi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var eu;try{eu=Ep()}catch{eu=void 0}ai("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:oi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",eu]})});var Bp=R((PE,Ip)=>{C();x();var L8=Ir(),q8=qr(),tu=q8.assert;function dr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}Ip.exports=dr;dr.fromPublic=function(t,r,n){return r instanceof dr?r:new dr(t,{pub:r,pubEnc:n})};dr.fromPrivate=function(t,r,n){return r instanceof dr?r:new dr(t,{priv:r,privEnc:n})};dr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};dr.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};dr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};dr.prototype._importPrivate=function(t,r){this.priv=new L8(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};dr.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?tu(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&tu(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};dr.prototype.derive=function(t){return t.validate()||tu(t.validate(),"public point not validated"),t.mul(this.priv).getX()};dr.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};dr.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};dr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Rp=R((IE,kp)=>{C();x();var rc=Ir(),iu=qr(),H8=iu.assert;function No(e,t,r){if(t instanceof No)return t;this._importDER(t,r)||(H8(t.r&&t.s,"Signature without r or s"),this.r=new rc(t.r,16),this.s=new rc(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam,this.curve=e,this.byteLength=this.curve.n.byteLength())}kp.exports=No;function V8(){this.place=0}function ru(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return i<=127?!1:(t.place=o,i)}function Op(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}No.prototype._importDER=function(t,r){t=iu.toArray(t,r);var n=new V8;if(t[n.place++]!==48)return!1;var i=ru(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var s=ru(t,n);if(s===!1)return!1;var o=t.slice(n.place,s+n.place);if(n.place+=s,t[n.place++]!==2)return!1;var c=ru(t,n);if(c===!1||t.length!==c+n.place)return!1;var d=t.slice(n.place,c+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;return this.r=new rc(o),this.s=new rc(d),this.recoveryParam=null,!0};function nu(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}No.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Op(r),n=Op(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];nu(i,r.length),i=i.concat(r),i.push(2),nu(i,n.length);var s=i.concat(n),o=[48];return nu(o,s.length),o=o.concat(s),iu.encode(o,t)};No.prototype.toBytes=function(){let t=this.r.toArray("be",this.byteLength),r=this.s.toArray("be",this.byteLength);return t.concat(r)}});var qp=R((kE,Lp)=>{C();x();var kn=Ir(),Np=I2(),D8=qr(),su=tc(),K8=B2(),qi=D8.assert,ou=Bp(),nc=Rp();function Gr(e){if(!(this instanceof Gr))return new Gr(e);typeof e=="string"&&(qi(Object.prototype.hasOwnProperty.call(su,e),"Unknown curve "+e),e=su[e]),e instanceof su.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}Lp.exports=Gr;Gr.prototype.keyPair=function(t){return new ou(this,t)};Gr.prototype.keyFromPrivate=function(t,r){return ou.fromPrivate(this,t,r)};Gr.prototype.keyFromPublic=function(t,r){return ou.fromPublic(this,t,r)};Gr.prototype.genKeyPair=function(t){t||(t={});for(var r=new Np({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||K8(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new kn(2));;){var s=new kn(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Gr.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Gr.prototype.sign=function(t,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof t!="string"&&typeof t!="number"&&!kn.isBN(t)){qi(typeof t=="object"&&t&&typeof t.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),qi(t.length>>>0===t.length);for(var s=0;s<t.length;s++)qi((t[s]&255)===t[s])}r=this.keyFromPrivate(r,n),t=this._truncateToN(new kn(t,16)),qi(!t.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),c=r.getPrivate().toArray("be",o),d=t.toArray("be",o);qi(new kn(d).eq(t),"Can not sign message");for(var l=new Np({hash:this.hash,entropy:c,nonce:d,pers:i.pers,persEnc:i.persEnc||"utf8"}),p=this.n.sub(new kn(1)),b=0;;b++){var E=i.k?i.k(b):new kn(l.generate(this.n.byteLength()));if(E=this._truncateToN(E,!0),!(E.cmpn(1)<=0||E.cmp(p)>=0)){var w=this.g.mul(E);if(!w.isInfinity()){var P=w.getX(),T=P.umod(this.n);if(T.cmpn(0)!==0){var I=E.invm(this.n).mul(T.mul(r.getPrivate()).iadd(t));if(I=I.umod(this.n),I.cmpn(0)!==0){var M=(w.getY().isOdd()?1:0)|(P.cmp(T)!==0?2:0);return i.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),M^=1),new nc(this.curve,{r:T,s:I,recoveryParam:M})}}}}}};Gr.prototype.verify=function(t,r,n,i){t=this._truncateToN(new kn(t,16)),n=this.keyFromPublic(n,i),r=new nc(this.curve,r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),d=c.mul(t).umod(this.n),l=c.mul(s).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(d,n.getPublic(),l),p.isInfinity()?!1:p.eqXToP(s)):(p=this.g.mulAdd(d,n.getPublic(),l),p.isInfinity()?!1:p.getX().umod(this.n).cmp(s)===0)};Gr.prototype.recoverPubKey=function(e,t,r,n){qi((3&r)===r,"The recovery param is more than two bits"),t=new nc(this.curve,t,n);var i=this.n,s=new kn(e),o=t.r,c=t.s,d=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),d):o=this.curve.pointFromX(o,d);var p=t.r.invm(i),b=i.sub(s).mul(p).umod(i),E=c.mul(p).umod(i);return this.g.mulAdd(b,o,E)};Gr.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new nc(this.curve,t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Kp=R((LE,Dp)=>{C();x();var Lo=qr(),Vp=Lo.assert,Hp=Lo.parseBytes,Bs=Lo.cachedProperty;function Yt(e,t){this.eddsa=e,this._secret=Hp(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Hp(t.pub)}Yt.fromPublic=function(t,r){return r instanceof Yt?r:new Yt(t,{pub:r})};Yt.fromSecret=function(t,r){return r instanceof Yt?r:new Yt(t,{secret:r})};Yt.prototype.secret=function(){return this._secret};Bs(Yt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Bs(Yt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Bs(Yt,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Bs(Yt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Bs(Yt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Bs(Yt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Yt.prototype.sign=function(t){return Vp(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};Yt.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};Yt.prototype.getSecret=function(t){return Vp(this._secret,"KeyPair is public only"),Lo.encode(this.secret(),t)};Yt.prototype.getPublic=function(t){return Lo.encode(this.pubBytes(),t)};Dp.exports=Yt});var zp=R((VE,Up)=>{C();x();var U8=Ir(),ic=qr(),z8=ic.assert,sc=ic.cachedProperty,F8=ic.parseBytes;function Hi(e,t){this.eddsa=e,typeof t!="object"&&(t=F8(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),z8(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof U8&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}sc(Hi,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});sc(Hi,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});sc(Hi,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});sc(Hi,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Hi.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Hi.prototype.toHex=function(){return ic.encode(this.toBytes(),"hex").toUpperCase()};Up.exports=Hi});var Wp=R((UE,Gp)=>{C();x();var j8=a0(),$8=tc(),Os=qr(),G8=Os.assert,jp=Os.parseBytes,$p=Kp(),Fp=zp();function Br(e){if(G8(e==="ed25519","only tested with ed25519 so far"),!(this instanceof Br))return new Br(e);e=$8[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=j8.sha512}Gp.exports=Br;Br.prototype.sign=function(t,r){t=jp(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),s=this.g.mul(i),o=this.encodePoint(s),c=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),d=i.add(c).umod(this.curve.n);return this.makeSignature({R:s,S:d,Rencoded:o})};Br.prototype.verify=function(t,r,n){t=jp(t),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),t),o=this.g.mul(r.S()),c=r.R().add(i.pub().mul(s));return c.eq(o)};Br.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return Os.intFromLE(t.digest()).umod(this.curve.n)};Br.prototype.keyFromPublic=function(t){return $p.fromPublic(this,t)};Br.prototype.keyFromSecret=function(t){return $p.fromSecret(this,t)};Br.prototype.makeSignature=function(t){return t instanceof Fp?t:new Fp(this,t)};Br.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};Br.prototype.decodePoint=function(t){t=Os.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,s=Os.intFromLE(n);return this.curve.pointFromY(s,i)};Br.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};Br.prototype.decodeInt=function(t){return Os.intFromLE(t)};Br.prototype.isPoint=function(t){return t instanceof this.pointClass}});var ks=R(Wr=>{C();x();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.utils=Wr.curves=Wr.curve=Wr.eddsa=Wr.ec=void 0;var W8=Zd();Wr.curve=W8;var X8=tc();Wr.curves=X8;var Y8=qp();Wr.ec=Y8;var Z8=Wp();Wr.eddsa=Z8;var J8=qr();Wr.utils=J8});var Zp=R((Xp,Yp)=>{C();x();Object.defineProperty(Xp,"__esModule",{value:!0});var Q8=ks(),hn=new Q8.ec("secp256k1"),me=hn.curve,Ue=Ir();function e_(e,t){let r=new Ue(t);if(r.cmp(me.p)>=0)return null;r=r.toRed(me.red);let n=r.redSqr().redIMul(r).redIAdd(me.b).redSqrt();e===3!==n.isOdd()&&(n=n.redNeg());let i=r.redSqr().redIMul(r);return n.redSqr().redISub(i.redIAdd(me.b)).isZero()?hn.keyPair({pub:{x:r,y:n}}):null}function t_(e,t,r){let n=new Ue(t),i=new Ue(r);if(n.cmp(me.p)>=0||i.cmp(me.p)>=0||(n=n.toRed(me.red),i=i.toRed(me.red),(e===6||e===7)&&i.isOdd()!==(e===7)))return null;let s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(me.b)).isZero()?hn.keyPair({pub:{x:n,y:i}}):null}function ci(e){let t=e[0];switch(t){case 2:case 3:return e.length!==33?null:e_(t,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:t_(t,e.subarray(1,33),e.subarray(33,65));default:return null}}Yp.exports={contextRandomize(){return 0},privateKeyVerify(e){let t=new Ue(e);return t.cmp(me.n)<0&&!t.isZero()},privateKeyNegate(e){let t=new Ue(e);return B.Buffer.from(me.n.sub(t).umod(me.n).toArray("be",32))},privateKeyTweakAdd(e,t){let r=new Ue(t);return r.cmp(me.n)>=0||(r.iadd(new Ue(e)),r.cmp(me.n)>=0&&r.isub(me.n),r.isZero())?null:B.Buffer.from(r.toArray("be",32))},privateKeyTweakMul(e,t){let r=new Ue(t);return r.cmp(me.n)>=0||r.isZero()?1:(r.imul(new Ue(e)),r.cmp(me.n)>=0&&(r=r.umod(me.n)),B.Buffer.from(r.toArray("be",32)))},publicKeyVerify(e){let t=ci(e);return t==null?null:t.validate().result},publicKeyCreate(e,t){let r=new Ue(e);if(r.cmp(me.n)>=0||r.isZero())return null;let n=hn.keyFromPrivate(e,null).getPublic();return B.Buffer.from(n.encode(null,t))},publicKeyConvert(e,t){let n=ci(e).getPublic();return B.Buffer.from(n.encode(null,t))},publicKeyNegate(e,t){let r=ci(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),B.Buffer.from(n.encode(null,t))},publicKeyCombine(e,t){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=ci(e[i]),r[i]===null)return null;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?null:B.Buffer.from(n.encode(null,t))},publicKeyTweakAdd(e,t,r){let n=ci(e);if(n===null||new Ue(t).cmp(me.n)>=0)return null;let s=n.getPublic().add(me.g.mul(t));return s.isInfinity()?null:B.Buffer.from(s.encode(null,r))},publicKeyTweakMul(e,t,r){let n=ci(e);if(n===null)return null;let i=new Ue(t);if(i.cmp(me.n)>=0||i.isZero())return null;let s=n.getPublic().mul(t);return B.Buffer.from(s.encode(null,r))},signatureNormalize(e){let t=new Ue(e.subarray(0,32)),r=new Ue(e.subarray(32,64));return t.cmp(me.n)>=0||r.cmp(me.n)>=0?null:(r.cmp(hn.nh)===1&&e.set(me.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){let r=t.subarray(0,32),n=t.subarray(32,64);if(new Ue(r).cmp(me.n)>=0||new Ue(n).cmp(me.n)>=0)return 1;let{output:i}=e,s=i.subarray(4,4+33);s[0]=0,s.set(r,1);let o=33,c=0;for(;o>1&&s[c]===0&&!(s[c+1]&128);--o,++c);if(s=s.subarray(c),s[0]&128||o>1&&s[0]===0&&!(s[1]&128))return 1;let d=i.subarray(6+33,6+33+33);d[0]=0,d.set(n,1);let l=33,p=0;for(;l>1&&d[p]===0&&!(d[p+1]&128);--l,++p);return d=d.subarray(p),d[0]&128||l>1&&d[0]===0&&!(d[1]&128)?1:(e.outputlen=6+o+l,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=s.length,i.set(s,4),i[4+o]=2,i[5+o]=d.length,i.set(d,6+o),0)},signatureImport(e,t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return 1;let r=t[3];if(r===0||5+r>=t.length||t[4+r]!==2)return 1;let n=t[5+r];if(n===0||6+r+n!==t.length||t[4]&128||r>1&&t[4]===0&&!(t[5]&128)||t[r+6]&128||n>1&&t[r+6]===0&&!(t[r+7]&128))return 1;let i=t.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let s=t.subarray(6+r);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let o=new Ue(i);o.cmp(me.n)>=0&&(o=new Ue(0));let c=new Ue(t.subarray(6+r));return c.cmp(me.n)>=0&&(c=new Ue(0)),e.set(o.toArrayLike(Uint8Array,"be",32),0),e.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t){let r=new Ue(t);return r.cmp(me.n)>=0||r.isZero()?null:hn.sign(e,t,{canonical:!0}).toBytes()},ecdsaVerify(e,t,r){let n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new Ue(n.r),s=new Ue(n.s);if(i.cmp(me.n)>=0||s.cmp(me.n)>=0)return 1;if(s.cmp(hn.nh)===1||i.isZero()||s.isZero())return 3;let o=ci(r);if(o===null)return 2;let c=o.getPublic();return hn.verify(t,n,c)},ecdsaRecover(e,t,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},s=new Ue(i.r),o=new Ue(i.s);if(s.cmp(me.n)>=0||o.cmp(me.n)>=0)return 1;if(s.isZero()||o.isZero())return 2;let c;try{c=hn.recoverPubKey(r,i,t,null)}catch{return 2}return B.Buffer.from(c.encode(null,n))},ecdh(e,t,r,n,i,s,o){let c=ci(t);if(c===null)return 1;let d=new Ue(r);if(d.cmp(me.n)>=0||d.isZero())return 2;let l=c.getPublic().mul(d);if(i===void 0){let p=l.encode(null,!0),b=hn.hash().update(p).digest();for(let E=0;E<32;++E)e[E]=b[E]}else{s||(s=new Uint8Array(32));let p=l.getX().toArray("be",32);for(let P=0;P<32;++P)s[P]=p[P];o||(o=new Uint8Array(32));let b=l.getY().toArray("be",32);for(let P=0;P<32;++P)o[P]=b[P];let E=i(s,o,n);if(!(E instanceof Uint8Array&&E.length===e.length))return 2;e.set(E)}return 0}}});var ry=R(Zt=>{C();x();var r_=Zt&&Zt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),n_=Zt&&Zt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i_=Zt&&Zt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&r_(t,e,r);return n_(t,e),t};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.fromSeed=Zt.fromPublicKey=Zt.fromPrivateKey=Zt.fromBase58=Zt.tinySecp256k1Interface=void 0;var au=i_(Oo()),s_=Mf(),o_=Ua(),Qp=(0,s_.base58check)(o_.sha256),ey=Zp(),sr=O2(),a_=k2();function c_(e){return{isPoint:t=>e.publicKeyVerify(t),isPrivate:t=>e.privateKeyVerify(t),pointAddScalar:(t,r,n)=>e.publicKeyTweakAdd(t,r,n),pointFromScalar:(t,r)=>e.publicKeyCreate(t,r),privateAdd:(t,r)=>e.privateKeyTweakAdd(new Uint8Array(t),r),sign:(t,r)=>e.ecdsaSign(t,r),verify:(t,r,n)=>e.ecdsaVerify(n,t,r)}}function f_(e){return{isPoint:t=>e.publicKeyVerify(t),pointCompress:(t,r)=>Uint8Array.from(e.publicKeyConvert(t,r??!0)),isPrivate:t=>e.privateKeyVerify(t),pointFromScalar:(t,r)=>{let n=e.publicKeyCreate(t,r??!0);return n==null?null:Uint8Array.from(n)},sign:(t,r,n)=>Uint8Array.from(e.ecdsaSign(t,r)),verify:(t,r,n,i)=>e.ecdsaVerify(n,t,r)}}var fi=c_(ey);Zt.tinySecp256k1Interface=f_(ey);var cu=sr.BufferN(32),d_=sr.compile({wif:sr.UInt8,bip32:{public:sr.UInt32,private:sr.UInt32}}),cc={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},Jp=2147483648,u_=Math.pow(2,31)-1;function l_(e){return sr.String(e)&&e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)!==null}function h_(e){return sr.UInt32(e)&&e<=u_}var oc=class{constructor(t,r,n,i,s=0,o=0,c=0){this.__D=t,this.__Q=r,this.chainCode=n,this.network=i,this.__DEPTH=s,this.__INDEX=o,this.__PARENT_FINGERPRINT=c,sr(d_,i),this.lowR=!1}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get publicKey(){return this.__Q===void 0&&(this.__Q=B.Buffer.from(fi.pointFromScalar(this.__D,!0))),this.__Q}get privateKey(){return this.__D}get identifier(){return B.Buffer.from(au.hash160(this.publicKey))}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return this.__D===void 0}neutered(){return ac(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){let t=this.network,r=this.isNeutered()?t.bip32.public:t.bip32.private,n=B.Buffer.allocUnsafe(78);return n.writeUInt32BE(r,0),n.writeUInt8(this.depth,4),n.writeUInt32BE(this.parentFingerprint,5),n.writeUInt32BE(this.index,9),this.chainCode.copy(n,13),this.isNeutered()?this.publicKey.copy(n,45):(n.writeUInt8(0,45),this.privateKey.copy(n,46)),Qp.encode(n)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return a_.encode(this.network.wif,this.privateKey,!0)}derive(t){sr(sr.UInt32,t);let r=t>=Jp,n=B.Buffer.allocUnsafe(37);if(r){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");n[0]=0,this.privateKey.copy(n,1),n.writeUInt32BE(t,33)}else this.publicKey.copy(n,0),n.writeUInt32BE(t,33);let i=au.hmacSHA512(this.chainCode,n),s=i.slice(0,32),o=i.slice(32);if(!fi.isPrivate(s))return this.derive(t+1);let c;if(this.isNeutered()){let d=fi.pointAddScalar(this.publicKey,s,!0);if(d===null)return this.derive(t+1);c=ac(d,o,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}else{let d=fi.privateAdd(this.privateKey,s);if(d==null)return this.derive(t+1);c=fu(d,o,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}return c}deriveHardened(t){return sr(h_,t),this.derive(t+Jp)}derivePath(t){sr(l_,t);let r=t.split("/");if(r[0]==="m"){if(this.parentFingerprint)throw new TypeError("Expected master, got child");r=r.slice(1)}return r.reduce((n,i)=>{let s;return i.slice(-1)==="'"?(s=parseInt(i.slice(0,-1),10),n.deriveHardened(s)):(s=parseInt(i,10),n.derive(s))},this)}sign(t){if(!this.privateKey)throw new Error("Missing private key");return fi.sign(t,this.privateKey)}verify(t,r){return fi.verify(t,this.publicKey,r)}};function b_(e,t){let r=B.Buffer.from(Qp.decode(e));if(r.length!==78)throw new TypeError("Invalid buffer length");t=t||cc;let n=r.readUInt32BE(0);if(n!==t.bip32.private&&n!==t.bip32.public)throw new TypeError("Invalid network version");let i=r[4],s=r.readUInt32BE(5);if(i===0&&s!==0)throw new TypeError("Invalid parent fingerprint");let o=r.readUInt32BE(9);if(i===0&&o!==0)throw new TypeError("Invalid index");let c=r.slice(13,45),d;if(n===t.bip32.private){if(r.readUInt8(45)!==0)throw new TypeError("Invalid private key");let l=r.slice(46,78);d=fu(l,c,t,i,o,s)}else{let l=r.slice(45,78);d=ac(l,c,t,i,o,s)}return d}Zt.fromBase58=b_;function ty(e,t,r){return fu(e,t,r)}Zt.fromPrivateKey=ty;function fu(e,t,r,n,i,s){if(sr({privateKey:cu,chainCode:cu},{privateKey:e,chainCode:t}),r=r||cc,!fi.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return new oc(e,void 0,t,r,n,i,s)}function p_(e,t,r){return ac(e,t,r)}Zt.fromPublicKey=p_;function ac(e,t,r,n,i,s){if(sr({publicKey:sr.BufferN(33),chainCode:cu},{publicKey:e,chainCode:t}),r=r||cc,!fi.isPoint(e))throw new TypeError("Point is not on the curve");return new oc(void 0,e,t,r,n,i,s)}function y_(e,t){if(sr(sr.Buffer,e),e.length<16)throw new TypeError("Seed should be at least 128 bits");if(e.length>64)throw new TypeError("Seed should be at most 512 bits");t=t||cc;let r=au.hmacSHA512(B.Buffer.from("Bitcoin seed","utf8"),e),n=r.slice(0,32),i=r.slice(32);return ty(n,i,t)}Zt.fromSeed=y_});var ny=R(fc=>{C();x();Object.defineProperty(fc,"__esModule",{value:!0});fc.fromSeedV2=void 0;var g_=R2();function m_(e,t){return g_.HDKey.fromMasterSeed(new Uint8Array([...e])).derive(t)}fc.fromSeedV2=m_});var iy=R(Or=>{C();x();Object.defineProperty(Or,"__esModule",{value:!0});Or.fromSeedV2=Or.fromPrivateKey=Or.fromPublicKey=Or.fromBase58=Or.fromSeed=Or.tinySecp256k1Interface=void 0;var qo=ry();Object.defineProperty(Or,"tinySecp256k1Interface",{enumerable:!0,get:function(){return qo.tinySecp256k1Interface}});Object.defineProperty(Or,"fromSeed",{enumerable:!0,get:function(){return qo.fromSeed}});Object.defineProperty(Or,"fromBase58",{enumerable:!0,get:function(){return qo.fromBase58}});Object.defineProperty(Or,"fromPublicKey",{enumerable:!0,get:function(){return qo.fromPublicKey}});Object.defineProperty(Or,"fromPrivateKey",{enumerable:!0,get:function(){return qo.fromPrivateKey}});var v_=ny();Object.defineProperty(Or,"fromSeedV2",{enumerable:!0,get:function(){return v_.fromSeedV2}})});var sy=R((sP,__)=>{__.exports=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]});var uu=R(Vi=>{C();x();Object.defineProperty(Vi,"__esModule",{value:!0});Vi._default=Vi.wordlists=void 0;var du={};Vi.wordlists=du;var dc;Vi._default=dc;try{Vi._default=dc=sy(),du.english=dc,du.EN=dc}catch{}});var lu=R(it=>{C();x();Object.defineProperty(it,"__esModule",{value:!0});it.wordlists=it.getDefaultWordlist=it.setDefaultWordlist=it.validateMnemonic=it.generateMnemonic=it.entropyToMnemonic=it.mnemonicToEntropy=it.mnemonicToSeedV2=it.mnemonicToSeed=it.mnemonicToSeedSync=void 0;var ay=Oo(),cy=Ga(),uc=uu(),fy=To(),S_=N2(),Rs=uc._default,oy="Invalid mnemonic",Di="Invalid entropy",w_="Invalid mnemonic checksum",dy=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function C_(e,t,r,n,i){let s=(0,cy.pbkdf2)(fy.sha512,e,t,{c:r,dkLen:n});return Promise.resolve(B.Buffer.from(s))}function Ho(e){return(e||"").normalize("NFKD")}function uy(e,t,r){for(;e.length<r;)e=t+e;return e}function ly(e){return parseInt(e,2)}function hy(e){return e.map(t=>uy(t.toString(2),"0",8)).join("")}function by(e){let r=e.length*8/32,n=(0,ay.sha256)(e);return hy(Array.from(n)).slice(0,r)}function py(e){return"mnemonic"+(e||"")}function x_(e,t){let r=B.Buffer.from(Ho(e),"utf8"),n=B.Buffer.from(py(Ho(t)),"utf8"),i=(0,cy.pbkdf2)(fy.sha512,r,n,{c:2048,dkLen:64});return B.Buffer.from(i)}it.mnemonicToSeedSync=x_;function T_(e,t){return Promise.resolve().then(()=>{let r=B.Buffer.from(Ho(e),"utf8"),n=B.Buffer.from(py(Ho(t)),"utf8");return C_(r,n,2048,64,"sha512")})}it.mnemonicToSeed=T_;async function E_(e,t){let r=e.split(" ").map(s=>Rs.indexOf(s)),n=new Uint8Array(new Uint16Array(r).buffer),i=await(0,S_.mnemonicToSeed)(n,t);return B.Buffer.from(i)}it.mnemonicToSeedV2=E_;function yy(e,t){if(t=t||Rs,!t)throw new Error(dy);let r=Ho(e).split(" ");if(r.length%3!==0)throw new Error(oy);let n=r.map(p=>{let b=t.indexOf(p);if(b===-1)throw new Error(oy);return uy(b.toString(2),"0",11)}).join(""),i=Math.floor(n.length/33)*32,s=n.slice(0,i),o=n.slice(i),c=s.match(/(.{1,8})/g).map(ly);if(c.length<16)throw new Error(Di);if(c.length>32)throw new Error(Di);if(c.length%4!==0)throw new Error(Di);let d=B.Buffer.from(c);if(by(d)!==o)throw new Error(w_);return d.toString("hex")}it.mnemonicToEntropy=yy;function gy(e,t){if(B.Buffer.isBuffer(e)||(e=B.Buffer.from(e,"hex")),t=t||Rs,!t)throw new Error(dy);if(e.length<16)throw new TypeError(Di);if(e.length>32)throw new TypeError(Di);if(e.length%4!==0)throw new TypeError(Di);let r=hy(Array.from(e)),n=by(e),o=(r+n).match(/(.{1,11})/g).map(c=>{let d=ly(c);return t[d]});return t[0]==="\u3042\u3044\u3053\u304F\u3057\u3093"?o.join("\u3000"):o.join(" ")}it.entropyToMnemonic=gy;function P_(e,t,r){if(e=e||128,e%32!==0)throw new TypeError(Di);return t=t||ay.randomBytes,gy(t(e/8),r)}it.generateMnemonic=P_;function A_(e,t){try{yy(e,t)}catch{return!1}return!0}it.validateMnemonic=A_;function M_(e){let t=uc.wordlists[e];if(t)Rs=t;else throw new Error('Could not find wordlist for language "'+e+'"')}it.setDefaultWordlist=M_;function I_(){if(!Rs)throw new Error("No Default Wordlist set");return Object.keys(uc.wordlists).filter(e=>e==="JA"||e==="EN"?!1:uc.wordlists[e].every((t,r)=>t===Rs[r]))[0]}it.getDefaultWordlist=I_;var B_=uu();Object.defineProperty(it,"wordlists",{enumerable:!0,get:function(){return B_.wordlists}})});var Cy=R(Ce=>{C();x();var O_=Ce&&Ce.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),k_=Ce&&Ce.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),R_=Ce&&Ce.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&O_(t,e,r);return k_(t,e),t},N_=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.loadUncompressedPublicKey=Ce.loadCompressedPublicKey=Ce.publicKeyConvert=Ce.publicKeyCreate=Ce.publicKeyVerify=Ce.privateKeyVerify=Ce.loadPublicKey=Ce.recover=Ce.verifyWithNoRecovery=Ce.verify=Ce.getV=Ce.sign=void 0;var L_=R_(ks()),Ut=new L_.ec("secp256k1"),my=Oo(),Ns=N_(Ir());function q_(e,t,r=!0){let n=Ut.sign(Array.from(e),B.Buffer.from(t),{canonical:r});return{signature:n.toBytes(),recovery:n.recoveryParam}}Ce.sign=q_;function H_(e,t,r,n,i=!0){let s=Vo(n);if(s==null)throw new Error("pubkey error");let o=Ut.keyPair({pub:{x:s.x,y:s.y}}).getPublic();return Ut.getKeyRecoveryParam(e,{r:t,s:r},o,i)}Ce.getV=H_;function V_(e,t,r,n){let i=vy(t,r,e,!0);if(i==null)return!1;let s=_y(n,!0);return s==null?!1:i.equals(s)}Ce.verify=V_;function D_(e,t,r){let n=Vo(r);if(n==null)throw new Error("pubkey error");let i=Ut.keyPair({pub:{x:n.x,y:n.y}}),s={r:(0,my.toHex)(t.slice(0,32)),s:(0,my.toHex)(t.slice(32,64))};return i.verify(e,s)}Ce.verifyWithNoRecovery=D_;function vy(e,t,r,n){let i={r:Array.from(e.slice(0,32)),s:Array.from(e.slice(32,64))},s=new Ns.default(i.r),o=new Ns.default(i.s);if(s.cmp(Ut.curve.n)>=0||o.cmp(Ut.curve.n)>=0||s.isZero()||o.isZero())return null;let c;try{c=Ut.recoverPubKey(Array.from(r),i,t,null)}catch{return null}return B.Buffer.from(c.encode(null,n))}Ce.recover=vy;function Vo(e){let t=B.Buffer.from(e),r=t[0];switch(r){case 2:case 3:return t.length!==33?null:Sy(r,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:wy(r,t.subarray(1,33),t.subarray(33,65));default:return null}}Ce.loadPublicKey=Vo;function K_(e){let t=new Ns.default(Array.from(e));return t.cmp(Ut.curve.n)<0&&!t.isZero()}Ce.privateKeyVerify=K_;function U_(e){return Vo(e)!==null}Ce.publicKeyVerify=U_;function z_(e,t){let r=Ut.keyFromPrivate(Array.from(e),"bytes").getPublic();return B.Buffer.from(r.encode(null,t))}Ce.publicKeyCreate=z_;function _y(e,t){let r=Vo(e);if(r==null)return null;let n=Ut.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return B.Buffer.from(n.encode(null,t))}Ce.publicKeyConvert=_y;function Sy(e,t){let r=new Ns.default(Array.from(t));if(r.cmp(Ut.curve.p)>=0)return null;let n=r.toRed(Ut.curve.red),i=n.redSqr().redIMul(n).redIAdd(Ut.curve.b).redSqrt();e===3!==i.isOdd()&&(i=i.redNeg());let s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(Ut.curve.b)).isZero()?{x:n,y:i}:null}Ce.loadCompressedPublicKey=Sy;function wy(e,t,r){let n=new Ns.default(Array.from(t)),i=new Ns.default(Array.from(r));if(n.cmp(Ut.curve.p)>=0||i.cmp(Ut.curve.p)>=0)return null;let s=n.toRed(Ut.curve.red),o=i.toRed(Ut.curve.red);if((e===6||e===7)&&o.isOdd()!==(e===7))return null;let c=s.redSqr().redIMul(s);return o.redSqr().redISub(c.redIAdd(Ut.curve.b)).isZero()?{x:s,y:o}:null}Ce.loadUncompressedPublicKey=wy});var Oy=R(ve=>{C();x();var F_=ve&&ve.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),j_=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xy=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&F_(t,e,r);return j_(t,e),t},$_=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ve,"__esModule",{value:!0});ve.ed25519_getDerivedPrivateKey=ve.isValidPath=ve.ed25519_getRandomPrivateKey=ve.ed25519SignTest=ve.fromSecret=ve.fromSeed=ve.privateKeyVerify=ve.publicKeyVerify=ve.publicKeyCreate=ve.verify=ve.sign=ve.ed25519MulBase=void 0;var Ty=xy(ks()),rn=Oo(),G_=$_(Ir()),W_=lu(),hu=xy(c0()),X_=To();hu.utils.sha512Sync=(...e)=>(0,X_.sha512)(hu.utils.concatBytes(...e));var di=new Ty.eddsa("ed25519"),Ey=di.curve;function Y_(e){let t=di.curve.g;return di.encodePoint(t.mul(Ty.utils.intFromLE(e)))}ve.ed25519MulBase=Y_;function Py(e,t){let r=t;r.length==64&&(r=r.slice(0,32));let n=hu.sync.sign(e,r);return Uint8Array.from(n)}ve.sign=Py;function Ay(e,t,r){return di.keyFromPublic(Array.from(r)).verify(Array.from(e),Array.from(t))}ve.verify=Ay;function lc(e){let t=e;t.length==64&&(t=t.slice(0,32));let n=di.keyFromSecret(Array.from(t)).getPublic();if(e.length==64&&!Z_(e.slice(32,64),n))throw new Error("invalid public key");return Uint8Array.from(n)}ve.publicKeyCreate=lc;function Z_(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function J_(e){let t=di.decodePoint(Array.from(e));return Ey.validate(t)}ve.publicKeyVerify=J_;function My(e){let t=new G_.default(Array.from(e));return t.cmp(Ey.n)<0&&!t.isZero()}ve.privateKeyVerify=My;function Q_(e){let t=di.keyFromSecret(Array.from(e)),r=Uint8Array.from(t.getPublic());return{publicKey:r,secretKey:(0,rn.concatBytes)(e,r)}}ve.fromSeed=Q_;function e5(e){let t=e.slice(0,32),r=di.keyFromSecret(Array.from(t));return{publicKey:Uint8Array.from(r.getPublic()),secretKey:Uint8Array.from(t)}}ve.fromSecret=e5;function Iy(e){let t=(0,rn.sha256)("ed25519-test"),r=lc(e),n=Py(t,e);return Ay(t,n,r)}ve.ed25519SignTest=Iy;function t5(e,t){for(;;){let r=(0,rn.randomBytes)(32);if(My(r)&&Iy(r)){let n=lc(r),i=e?(0,rn.concatBytes)(r,n):r;return t==="base58"?(0,rn.toBase58)(i):(0,rn.toHex)(i)}}}ve.ed25519_getRandomPrivateKey=t5;var r5=new RegExp("^m(\\/[0-9]+')+$"),By=e=>e.replace("'",""),n5=2147483648;function i5(e){let t=(0,rn.hmacSHA512)("ed25519 seed",e),r=t.slice(0,32),n=t.slice(32);return{key:r,chainCode:n}}function s5({key:e,chainCode:t},r){let n=B.Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=B.Buffer.concat([B.Buffer.alloc(1,0),e,n]),s=(0,rn.hmacSHA512)(t,i),o=s.slice(0,32),c=s.slice(32);return{key:o,chainCode:c}}var o5=e=>r5.test(e)?!e.split("/").slice(1).map(By).some(isNaN):!1;ve.isValidPath=o5;function a5(e,t,r=n5){if(!(0,ve.isValidPath)(e))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=i5(t);return e.split("/").slice(1).map(By).map(o=>parseInt(o,10)).reduce((o,c)=>s5(o,c+r),{key:n,chainCode:i})}async function c5(e,t,r,n){let i=await(0,W_.mnemonicToSeedV2)(e),s=a5(t,i).key,o=lc(s),c=r?(0,rn.concatBytes)(s,o):s;return n==="base58"?Promise.resolve((0,rn.toBase58)(c)):Promise.resolve((0,rn.toHex)(c))}ve.ed25519_getDerivedPrivateKey=c5});var Ly=R(ke=>{C();x();var f5=ke&&ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),d5=ke&&ke.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u5=ke&&ke.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&f5(t,e,r);return d5(t,e),t},l5=ke&&ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.loadUncompressedPublicKey=ke.loadCompressedPublicKey=ke.publicKeyConvert=ke.publicKeyCreate=ke.publicKeyVerify=ke.privateKeyVerify=ke.loadPublicKey=ke.recover=ke.verify=ke.sign=void 0;var h5=u5(ks()),_r=new h5.ec("p256"),Ls=l5(Ir());function b5(e,t,r=!0){let n=_r.sign(Array.from(e),B.Buffer.from(t),{canonical:r});return{signature:n.toBytes(),recovery:n.recoveryParam}}ke.sign=b5;function p5(e,t,r,n){let i=ky(t,r,e,!1);return i==null?!1:i.equals(n)}ke.verify=p5;function ky(e,t,r,n){let i={r:Array.from(e.slice(0,32)),s:Array.from(e.slice(32,64))},s=new Ls.default(i.r),o=new Ls.default(i.s);if(s.cmp(_r.curve.n)>=0||o.cmp(_r.curve.n)>=0||s.isZero()||o.isZero())return null;let c;try{c=_r.recoverPubKey(Array.from(r),i,t,null)}catch{return null}return B.Buffer.from(c.encode(null,n))}ke.recover=ky;function bu(e){let t=B.Buffer.from(e),r=t[0];switch(r){case 2:case 3:return t.length!==33?null:Ry(r,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:Ny(r,t.subarray(1,33),t.subarray(33,65));default:return null}}ke.loadPublicKey=bu;function y5(e){let t=new Ls.default(Array.from(e));return t.cmp(_r.curve.n)<0&&!t.isZero()}ke.privateKeyVerify=y5;function g5(e){return bu(e)!==null}ke.publicKeyVerify=g5;function m5(e,t){let r=_r.keyFromPrivate(Array.from(e),"bytes").getPublic();return B.Buffer.from(r.encode(null,t))}ke.publicKeyCreate=m5;function v5(e,t){let r=bu(e);if(r==null)return null;let n=_r.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return B.Buffer.from(n.encode(null,t))}ke.publicKeyConvert=v5;function Ry(e,t){let r=new Ls.default(Array.from(t));if(r.cmp(_r.curve.p)>=0)return null;let n=r.toRed(_r.curve.red),i=n.redSqr().redIMul(n).redIAdd(_r.curve.b).redSqrt();return e===3!==i.isOdd()&&(i=i.redNeg()),{x:n,y:i}}ke.loadCompressedPublicKey=Ry;function Ny(e,t,r){let n=new Ls.default(Array.from(t)),i=new Ls.default(Array.from(r));if(n.cmp(_r.curve.p)>=0||i.cmp(_r.curve.p)>=0)return null;let s=n.toRed(_r.curve.red),o=i.toRed(_r.curve.red);if((e===6||e===7)&&o.isOdd()!==(e===7))return null;let c=s.redSqr().redIMul(s);return o.redSqr().redISub(c.redIAdd(_r.curve.b)).isZero()?{x:s,y:o}:null}ke.loadUncompressedPublicKey=Ny});var Rn=R(ue=>{C();x();Object.defineProperty(ue,"__esModule",{value:!0});ue.validateObject=ue.createHmacDrbg=ue.bitMask=ue.bitSet=ue.bitGet=ue.bitLen=ue.utf8ToBytes=ue.equalBytes=ue.concatBytes=ue.ensureBytes=ue.numberToVarBytesBE=ue.numberToBytesLE=ue.numberToBytesBE=ue.bytesToNumberLE=ue.bytesToNumberBE=ue.hexToBytes=ue.hexToNumber=ue.numberToHexUnpadded=ue.bytesToHex=void 0;var Hy=BigInt(0),hc=BigInt(1),_5=BigInt(2),bc=e=>e instanceof Uint8Array,S5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yu(e){if(!bc(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=S5[e[r]];return t}ue.bytesToHex=yu;function Vy(e){let t=e.toString(16);return t.length&1?`0${t}`:t}ue.numberToHexUnpadded=Vy;function gu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}ue.hexToNumber=gu;function pc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");t[r]=s}return t}ue.hexToBytes=pc;function w5(e){return gu(yu(e))}ue.bytesToNumberBE=w5;function C5(e){if(!bc(e))throw new Error("Uint8Array expected");return gu(yu(Uint8Array.from(e).reverse()))}ue.bytesToNumberLE=C5;var x5=(e,t)=>pc(e.toString(16).padStart(t*2,"0"));ue.numberToBytesBE=x5;var T5=(e,t)=>(0,ue.numberToBytesBE)(e,t).reverse();ue.numberToBytesLE=T5;var E5=e=>pc(Vy(e));ue.numberToVarBytesBE=E5;function P5(e,t,r){let n;if(typeof t=="string")try{n=pc(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(bc(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}ue.ensureBytes=P5;function Dy(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.length,0)),r=0;return e.forEach(n=>{if(!bc(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}ue.concatBytes=Dy;function A5(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}ue.equalBytes=A5;function M5(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}ue.utf8ToBytes=M5;function I5(e){let t;for(t=0;e>Hy;e>>=hc,t+=1);return t}ue.bitLen=I5;var B5=(e,t)=>e>>BigInt(t)&hc;ue.bitGet=B5;var O5=(e,t,r)=>e|(r?hc:Hy)<<BigInt(t);ue.bitSet=O5;var k5=e=>(_5<<BigInt(e-1))-hc;ue.bitMask=k5;var pu=e=>new Uint8Array(e),qy=e=>Uint8Array.from(e);function R5(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=pu(e),i=pu(e),s=0,o=()=>{n.fill(1),i.fill(0),s=0},c=(...b)=>r(i,n,...b),d=(b=pu())=>{i=c(qy([0]),b),n=c(),b.length!==0&&(i=c(qy([1]),b),n=c())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,E=[];for(;b<t;){n=c();let w=n.slice();E.push(w),b+=n.length}return Dy(...E)};return(b,E)=>{o(),d(b);let w;for(;!(w=E(l()));)d();return o(),w}}ue.createHmacDrbg=R5;var N5={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function L5(e,t,r={}){let n=(i,s,o)=>{let c=N5[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let d=e[i];if(!(o&&d===void 0)&&!c(d,e))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${s}`)};for(let[i,s]of Object.entries(t))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return e}ue.validateObject=L5});var Ki=R(ge=>{C();x();Object.defineProperty(ge,"__esModule",{value:!0});ge.hashToPrivateScalar=ge.FpSqrtEven=ge.FpSqrtOdd=ge.Field=ge.nLength=ge.FpIsSquare=ge.FpDiv=ge.FpInvertBatch=ge.FpPow=ge.validateField=ge.isNegativeLE=ge.FpSqrt=ge.tonelliShanks=ge.invert=ge.pow2=ge.pow=ge.mod=void 0;var Nn=Rn(),zt=BigInt(0),Ge=BigInt(1),ui=BigInt(2),q5=BigInt(3),mu=BigInt(4),Ky=BigInt(5),Uy=BigInt(8),H5=BigInt(9),V5=BigInt(16);function Xr(e,t){let r=e%t;return r>=zt?r:t+r}ge.mod=Xr;function zy(e,t,r){if(r<=zt||t<zt)throw new Error("Expected power/modulo > 0");if(r===Ge)return zt;let n=Ge;for(;t>zt;)t&Ge&&(n=n*e%r),e=e*e%r,t>>=Ge;return n}ge.pow=zy;function D5(e,t,r){let n=e;for(;t-- >zt;)n*=n,n%=r;return n}ge.pow2=D5;function yc(e,t){if(e===zt||t<=zt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Xr(e,t),n=t,i=zt,s=Ge,o=Ge,c=zt;for(;r!==zt;){let l=n/r,p=n%r,b=i-o*l,E=s-c*l;n=r,r=p,i=o,s=c,o=b,c=E}if(n!==Ge)throw new Error("invert: does not exist");return Xr(i,t)}ge.invert=yc;function Fy(e){let t=(e-Ge)/ui,r,n,i;for(r=e-Ge,n=0;r%ui===zt;r/=ui,n++);for(i=ui;i<e&&zy(i,t,e)!==e-Ge;i++);if(n===1){let o=(e+Ge)/mu;return function(d,l){let p=d.pow(l,o);if(!d.eql(d.sqr(p),l))throw new Error("Cannot find square root");return p}}let s=(r+Ge)/ui;return function(c,d){if(c.pow(d,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let l=n,p=c.pow(c.mul(c.ONE,i),r),b=c.pow(d,s),E=c.pow(d,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let w=1;for(let T=c.sqr(E);w<l&&!c.eql(T,c.ONE);w++)T=c.sqr(T);let P=c.pow(p,Ge<<BigInt(l-w-1));p=c.sqr(P),b=c.mul(b,P),E=c.mul(E,p),l=w}return b}}ge.tonelliShanks=Fy;function jy(e){if(e%mu===q5){let t=(e+Ge)/mu;return function(n,i){let s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%Uy===Ky){let t=(e-Ky)/Uy;return function(n,i){let s=n.mul(i,ui),o=n.pow(s,t),c=n.mul(i,o),d=n.mul(n.mul(c,ui),o),l=n.mul(c,n.sub(d,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return e%V5,Fy(e)}ge.FpSqrt=jy;var K5=(e,t)=>(Xr(e,t)&Ge)===Ge;ge.isNegativeLE=K5;var U5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function z5(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=U5.reduce((n,i)=>(n[i]="function",n),t);return(0,Nn.validateObject)(e,r)}ge.validateField=z5;function $y(e,t,r){if(r<zt)throw new Error("Expected power > 0");if(r===zt)return e.ONE;if(r===Ge)return t;let n=e.ONE,i=t;for(;r>zt;)r&Ge&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Ge;return n}ge.FpPow=$y;function Gy(e,t){let r=new Array(t.length),n=t.reduce((s,o,c)=>e.is0(o)?s:(r[c]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,c)=>e.is0(o)?s:(r[c]=e.mul(s,r[c]),e.mul(s,o)),i),r}ge.FpInvertBatch=Gy;function F5(e,t,r){return e.mul(t,typeof r=="bigint"?yc(r,e.ORDER):e.inv(r))}ge.FpDiv=F5;function j5(e){let t=(e.ORDER-Ge)/ui;return r=>{let n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}ge.FpIsSquare=j5;function vu(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}ge.nLength=vu;function $5(e,t,r=!1,n={}){if(e<=zt)throw new Error(`Expected Fp ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=vu(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=jy(e),c=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:(0,Nn.bitMask)(i),ZERO:zt,ONE:Ge,create:d=>Xr(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return zt<=d&&d<e},is0:d=>d===zt,isOdd:d=>(d&Ge)===Ge,neg:d=>Xr(-d,e),eql:(d,l)=>d===l,sqr:d=>Xr(d*d,e),add:(d,l)=>Xr(d+l,e),sub:(d,l)=>Xr(d-l,e),mul:(d,l)=>Xr(d*l,e),pow:(d,l)=>$y(c,d,l),div:(d,l)=>Xr(d*yc(l,e),e),sqrN:d=>d*d,addN:(d,l)=>d+l,subN:(d,l)=>d-l,mulN:(d,l)=>d*l,inv:d=>yc(d,e),sqrt:n.sqrt||(d=>o(c,d)),invertBatch:d=>Gy(c,d),cmov:(d,l,p)=>p?l:d,toBytes:d=>r?(0,Nn.numberToBytesLE)(d,s):(0,Nn.numberToBytesBE)(d,s),fromBytes:d=>{if(d.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${d.length}`);return r?(0,Nn.bytesToNumberLE)(d):(0,Nn.bytesToNumberBE)(d)}});return Object.freeze(c)}ge.Field=$5;function G5(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}ge.FpSqrtOdd=G5;function W5(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}ge.FpSqrtEven=W5;function X5(e,t,r=!1){e=(0,Nn.ensureBytes)("privateHash",e);let n=e.length,i=vu(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?(0,Nn.bytesToNumberLE)(e):(0,Nn.bytesToNumberBE)(e);return Xr(s,t-Ge)+Ge}ge.hashToPrivateScalar=X5});var Xy=R(qs=>{C();x();Object.defineProperty(qs,"__esModule",{value:!0});qs.validateBasic=qs.wNAF=void 0;var Wy=Ki(),Y5=Rn(),Z5=BigInt(0),_u=BigInt(1);function J5(e,t){let r=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,c=i;for(;s>Z5;)s&_u&&(o=o.add(c)),c=c.double(),s>>=_u;return o},precomputeWindow(i,s){let{windows:o,windowSize:c}=n(s),d=[],l=i,p=l;for(let b=0;b<o;b++){p=l,d.push(p);for(let E=1;E<c;E++)p=p.add(l),d.push(p);l=p.double()}return d},wNAF(i,s,o){let{windows:c,windowSize:d}=n(i),l=e.ZERO,p=e.BASE,b=BigInt(2**i-1),E=2**i,w=BigInt(i);for(let P=0;P<c;P++){let T=P*d,I=Number(o&b);o>>=w,I>d&&(I-=E,o+=_u);let M=T,k=T+Math.abs(I)-1,O=P%2!==0,L=I<0;I===0?p=p.add(r(O,s[M])):l=l.add(r(L,s[k]))}return{p:l,f:p}},wNAFCached(i,s,o,c){let d=i._WINDOW_SIZE||1,l=s.get(i);return l||(l=this.precomputeWindow(i,d),d!==1&&s.set(i,c(l))),this.wNAF(d,l,o)}}}qs.wNAF=J5;function Q5(e){return(0,Wy.validateField)(e.Fp),(0,Y5.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Wy.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}qs.validateBasic=Q5});var mc=R(We=>{C();x();var e4=We&&We.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),t4=We&&We.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zy=We&&We.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&e4(t,e,r);return t4(t,e),t};Object.defineProperty(We,"__esModule",{value:!0});We.mapToCurveSimpleSWU=We.SWUFpSqrtRatio=We.weierstrass=We.weierstrassPoints=We.DER=void 0;var Do=Zy(Ki()),qt=Zy(Rn()),bn=Rn(),Su=Xy();function r4(e){let t=(0,Su.validateBasic)(e);qt.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:n4,hexToBytes:i4}=qt;We.DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=We.DER;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:n4(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=We.DER,r=typeof e=="string"?i4(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=We.DER._parseInt(r.subarray(2)),{d:o,l:c}=We.DER._parseInt(s);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){let t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let p=l.toString(16);return p.length&1?`0${p}`:p},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,c=r(s),d=r(o);return`30${r(o+s+4)}02${d}${i}02${c}${n}`}};var nn=BigInt(0),st=BigInt(1),li=BigInt(2),gc=BigInt(3),Yy=BigInt(4);function Jy(e){let t=r4(e),{Fp:r}=t,n=t.toBytes||((P,T,I)=>{let M=T.toAffine();return qt.concatBytes(Uint8Array.from([4]),r.toBytes(M.x),r.toBytes(M.y))}),i=t.fromBytes||(P=>{let T=P.subarray(1),I=r.fromBytes(T.subarray(0,r.BYTES)),M=r.fromBytes(T.subarray(r.BYTES,2*r.BYTES));return{x:I,y:M}});function s(P){let{a:T,b:I}=t,M=r.sqr(P),k=r.mul(M,P);return r.add(r.add(k,r.mul(P,T)),I)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(P){return typeof P=="bigint"&&nn<P&&P<t.n}function c(P){if(!o(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(P){let{allowedPrivateKeyLengths:T,nByteLength:I,wrapPrivateKey:M,n:k}=t;if(T&&typeof P!="bigint"){if(P instanceof Uint8Array&&(P=qt.bytesToHex(P)),typeof P!="string"||!T.includes(P.length))throw new Error("Invalid key");P=P.padStart(I*2,"0")}let O;try{O=typeof P=="bigint"?P:qt.bytesToNumberBE((0,bn.ensureBytes)("private key",P,I))}catch{throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof P}`)}return M&&(O=Do.mod(O,k)),c(O),O}let l=new Map;function p(P){if(!(P instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(T,I,M){if(this.px=T,this.py=I,this.pz=M,T==null||!r.isValid(T))throw new Error("x required");if(I==null||!r.isValid(I))throw new Error("y required");if(M==null||!r.isValid(M))throw new Error("z required")}static fromAffine(T){let{x:I,y:M}=T||{};if(!T||!r.isValid(I)||!r.isValid(M))throw new Error("invalid affine point");if(T instanceof b)throw new Error("projective point not allowed");let k=O=>r.eql(O,r.ZERO);return k(I)&&k(M)?b.ZERO:new b(I,M,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){let I=r.invertBatch(T.map(M=>M.pz));return T.map((M,k)=>M.toAffine(I[k])).map(b.fromAffine)}static fromHex(T){let I=b.fromAffine(i((0,bn.ensureBytes)("pointHex",T)));return I.assertValidity(),I}static fromPrivateKey(T){return b.BASE.multiply(d(T))}_setWindowSize(T){this._WINDOW_SIZE=T,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:T,y:I}=this.toAffine();if(!r.isValid(T)||!r.isValid(I))throw new Error("bad point: x or y not FE");let M=r.sqr(I),k=s(T);if(!r.eql(M,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:T}=this.toAffine();if(r.isOdd)return!r.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){p(T);let{px:I,py:M,pz:k}=this,{px:O,py:L,pz:q}=T,H=r.eql(r.mul(I,q),r.mul(O,k)),D=r.eql(r.mul(M,q),r.mul(L,k));return H&&D}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){let{a:T,b:I}=t,M=r.mul(I,gc),{px:k,py:O,pz:L}=this,q=r.ZERO,H=r.ZERO,D=r.ZERO,V=r.mul(k,k),ne=r.mul(O,O),S=r.mul(L,L),a=r.mul(k,O);return a=r.add(a,a),D=r.mul(k,L),D=r.add(D,D),q=r.mul(T,D),H=r.mul(M,S),H=r.add(q,H),q=r.sub(ne,H),H=r.add(ne,H),H=r.mul(q,H),q=r.mul(a,q),D=r.mul(M,D),S=r.mul(T,S),a=r.sub(V,S),a=r.mul(T,a),a=r.add(a,D),D=r.add(V,V),V=r.add(D,V),V=r.add(V,S),V=r.mul(V,a),H=r.add(H,V),S=r.mul(O,L),S=r.add(S,S),V=r.mul(S,a),q=r.sub(q,V),D=r.mul(S,ne),D=r.add(D,D),D=r.add(D,D),new b(q,H,D)}add(T){p(T);let{px:I,py:M,pz:k}=this,{px:O,py:L,pz:q}=T,H=r.ZERO,D=r.ZERO,V=r.ZERO,ne=t.a,S=r.mul(t.b,gc),a=r.mul(I,O),u=r.mul(M,L),h=r.mul(k,q),g=r.add(I,M),y=r.add(O,L);g=r.mul(g,y),y=r.add(a,u),g=r.sub(g,y),y=r.add(I,k);let _=r.add(O,q);return y=r.mul(y,_),_=r.add(a,h),y=r.sub(y,_),_=r.add(M,k),H=r.add(L,q),_=r.mul(_,H),H=r.add(u,h),_=r.sub(_,H),V=r.mul(ne,y),H=r.mul(S,h),V=r.add(H,V),H=r.sub(u,V),V=r.add(u,V),D=r.mul(H,V),u=r.add(a,a),u=r.add(u,a),h=r.mul(ne,h),y=r.mul(S,y),u=r.add(u,h),h=r.sub(a,h),h=r.mul(ne,h),y=r.add(y,h),a=r.mul(u,y),D=r.add(D,a),a=r.mul(_,y),H=r.mul(g,H),H=r.sub(H,a),a=r.mul(g,u),V=r.mul(_,V),V=r.add(V,a),new b(H,D,V)}subtract(T){return this.add(T.negate())}is0(){return this.equals(b.ZERO)}wNAF(T){return w.wNAFCached(this,l,T,I=>{let M=r.invertBatch(I.map(k=>k.pz));return I.map((k,O)=>k.toAffine(M[O])).map(b.fromAffine)})}multiplyUnsafe(T){let I=b.ZERO;if(T===nn)return I;if(c(T),T===st)return this;let{endo:M}=t;if(!M)return w.unsafeLadder(this,T);let{k1neg:k,k1:O,k2neg:L,k2:q}=M.splitScalar(T),H=I,D=I,V=this;for(;O>nn||q>nn;)O&st&&(H=H.add(V)),q&st&&(D=D.add(V)),V=V.double(),O>>=st,q>>=st;return k&&(H=H.negate()),L&&(D=D.negate()),D=new b(r.mul(D.px,M.beta),D.py,D.pz),H.add(D)}multiply(T){c(T);let I=T,M,k,{endo:O}=t;if(O){let{k1neg:L,k1:q,k2neg:H,k2:D}=O.splitScalar(I),{p:V,f:ne}=this.wNAF(q),{p:S,f:a}=this.wNAF(D);V=w.constTimeNegate(L,V),S=w.constTimeNegate(H,S),S=new b(r.mul(S.px,O.beta),S.py,S.pz),M=V.add(S),k=ne.add(a)}else{let{p:L,f:q}=this.wNAF(I);M=L,k=q}return b.normalizeZ([M,k])[0]}multiplyAndAddUnsafe(T,I,M){let k=b.BASE,O=(q,H)=>H===nn||H===st||!q.equals(k)?q.multiplyUnsafe(H):q.multiply(H),L=O(this,I).add(O(T,M));return L.is0()?void 0:L}toAffine(T){let{px:I,py:M,pz:k}=this,O=this.is0();T==null&&(T=O?r.ONE:r.inv(k));let L=r.mul(I,T),q=r.mul(M,T),H=r.mul(k,T);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:L,y:q}}isTorsionFree(){let{h:T,isTorsionFree:I}=t;if(T===st)return!0;if(I)return I(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:T,clearCofactor:I}=t;return T===st?this:I?I(b,this):this.multiplyUnsafe(t.h)}toRawBytes(T=!0){return this.assertValidity(),n(b,this,T)}toHex(T=!0){return qt.bytesToHex(this.toRawBytes(T))}}b.BASE=new b(t.Gx,t.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);let E=t.nBitLength,w=(0,Su.wNAF)(b,t.endo?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:o}}We.weierstrassPoints=Jy;function s4(e){let t=(0,Su.validateBasic)(e);return qt.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function o4(e){let t=s4(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(y){return nn<y&&y<r.ORDER}function c(y){return Do.mod(y,n)}function d(y){return Do.invert(y,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:p,weierstrassEquation:b,isWithinCurveOrder:E}=Jy({...t,toBytes(y,_,A){let m=_.toAffine(),f=r.toBytes(m.x),v=qt.concatBytes;return A?v(Uint8Array.from([_.hasEvenY()?2:3]),f):v(Uint8Array.from([4]),f,r.toBytes(m.y))},fromBytes(y){let _=y.length,A=y[0],m=y.subarray(1);if(_===i&&(A===2||A===3)){let f=qt.bytesToNumberBE(m);if(!o(f))throw new Error("Point is not on curve");let v=b(f),K=r.sqrt(v),U=(K&st)===st;return(A&1)===1!==U&&(K=r.neg(K)),{x:f,y:K}}else if(_===s&&A===4){let f=r.fromBytes(m.subarray(0,r.BYTES)),v=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:f,y:v}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),w=y=>qt.bytesToHex(qt.numberToBytesBE(y,t.nByteLength));function P(y){let _=n>>st;return y>_}function T(y){return P(y)?c(-y):y}let I=(y,_,A)=>qt.bytesToNumberBE(y.slice(_,A));class M{constructor(_,A,m){this.r=_,this.s=A,this.recovery=m,this.assertValidity()}static fromCompact(_){let A=t.nByteLength;return _=(0,bn.ensureBytes)("compactSignature",_,A*2),new M(I(_,0,A),I(_,A,2*A))}static fromDER(_){let{r:A,s:m}=We.DER.toSig((0,bn.ensureBytes)("DER",_));return new M(A,m)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new M(this.r,this.s,_)}recoverPublicKey(_){let{r:A,s:m,recovery:f}=this,v=D((0,bn.ensureBytes)("msgHash",_));if(f==null||![0,1,2,3].includes(f))throw new Error("recovery id invalid");let K=f===2||f===3?A+t.n:A;if(K>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let U=(f&1)===0?"02":"03",X=l.fromHex(U+w(K)),te=d(K),ye=c(-v*te),Ee=c(m*te),tr=l.BASE.multiplyAndAddUnsafe(X,ye,Ee);if(!tr)throw new Error("point at infinify");return tr.assertValidity(),tr}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return qt.hexToBytes(this.toDERHex())}toDERHex(){return We.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qt.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}let k={isValidPrivateKey(y){try{return p(y),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let y=t.randomBytes(r.BYTES+8),_=Do.hashToPrivateScalar(y,n);return qt.numberToBytesBE(_,t.nByteLength)},precompute(y=8,_=l.BASE){return _._setWindowSize(y),_.multiply(BigInt(3)),_}};function O(y,_=!0){return l.fromPrivateKey(y).toRawBytes(_)}function L(y){let _=y instanceof Uint8Array,A=typeof y=="string",m=(_||A)&&y.length;return _?m===i||m===s:A?m===2*i||m===2*s:y instanceof l}function q(y,_,A=!0){if(L(y))throw new Error("first arg must be private key");if(!L(_))throw new Error("second arg must be public key");return l.fromHex(_).multiply(p(y)).toRawBytes(A)}let H=t.bits2int||function(y){let _=qt.bytesToNumberBE(y),A=y.length*8-t.nBitLength;return A>0?_>>BigInt(A):_},D=t.bits2int_modN||function(y){return c(H(y))},V=qt.bitMask(t.nBitLength);function ne(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(nn<=y&&y<V))throw new Error(`bigint expected < 2^${t.nBitLength}`);return qt.numberToBytesBE(y,t.nByteLength)}function S(y,_,A=a){if(["recovered","canonical"].some(Pe=>Pe in A))throw new Error("sign() legacy options not supported");let{hash:m,randomBytes:f}=t,{lowS:v,prehash:K,extraEntropy:U}=A;v==null&&(v=!0),y=(0,bn.ensureBytes)("msgHash",y),K&&(y=(0,bn.ensureBytes)("prehashed msgHash",m(y)));let X=D(y),te=p(_),ye=[ne(te),ne(X)];if(U!=null){let Pe=U===!0?f(r.BYTES):U;ye.push((0,bn.ensureBytes)("extraEntropy",Pe,r.BYTES))}let Ee=qt.concatBytes(...ye),tr=X;function Oe(Pe){let Sn=H(Pe);if(!E(Sn))return;let et=d(Sn),Me=l.BASE.multiply(Sn).toAffine(),wn=c(Me.x);if(wn===nn)return;let Fe=c(et*c(tr+wn*te));if(Fe===nn)return;let tt=(Me.x===wn?0:2)|Number(Me.y&st),ho=Fe;return v&&P(Fe)&&(ho=T(Fe),tt^=1),new M(wn,ho,tt)}return{seed:Ee,k2sig:Oe}}let a={lowS:t.lowS,prehash:!1},u={lowS:t.lowS,prehash:!1};function h(y,_,A=a){let{seed:m,k2sig:f}=S(y,_,A),v=t;return qt.createHmacDrbg(v.hash.outputLen,v.nByteLength,v.hmac)(m,f)}l.BASE._setWindowSize(8);function g(y,_,A,m=u){let f=y;if(_=(0,bn.ensureBytes)("msgHash",_),A=(0,bn.ensureBytes)("publicKey",A),"strict"in m)throw new Error("options.strict was renamed to lowS");let{lowS:v,prehash:K}=m,U,X;try{if(typeof f=="string"||f instanceof Uint8Array)try{U=M.fromDER(f)}catch(Me){if(!(Me instanceof We.DER.Err))throw Me;U=M.fromCompact(f)}else if(typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint"){let{r:Me,s:wn}=f;U=new M(Me,wn)}else throw new Error("PARSE");X=l.fromHex(A)}catch(Me){if(Me.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(v&&U.hasHighS())return!1;K&&(_=t.hash(_));let{r:te,s:ye}=U,Ee=D(_),tr=d(ye),Oe=c(Ee*tr),Pe=c(te*tr),Sn=l.BASE.multiplyAndAddUnsafe(X,Oe,Pe)?.toAffine();return Sn?c(Sn.x)===te:!1}return{CURVE:t,getPublicKey:O,getSharedSecret:q,sign:h,verify:g,ProjectivePoint:l,Signature:M,utils:k}}We.weierstrass=o4;function Qy(e,t){let r=e.ORDER,n=nn;for(let P=r-st;P%li===nn;P/=li)n+=st;let i=n,s=li<<i-st-st,o=s*li,c=(r-st)/o,d=(c-st)/li,l=o-st,p=s,b=e.pow(t,c),E=e.pow(t,(c+st)/li),w=(P,T)=>{let I=b,M=e.pow(T,l),k=e.sqr(M);k=e.mul(k,T);let O=e.mul(P,k);O=e.pow(O,d),O=e.mul(O,M),M=e.mul(O,T),k=e.mul(O,P);let L=e.mul(k,M);O=e.pow(L,p);let q=e.eql(O,e.ONE);M=e.mul(k,E),O=e.mul(L,I),k=e.cmov(M,k,q),L=e.cmov(O,L,q);for(let H=i;H>st;H--){let D=H-li;D=li<<D-st;let V=e.pow(L,D),ne=e.eql(V,e.ONE);M=e.mul(k,I),I=e.mul(I,I),V=e.mul(L,I),k=e.cmov(M,k,ne),L=e.cmov(V,L,ne)}return{isValid:q,value:k}};if(e.ORDER%Yy===gc){let P=(e.ORDER-gc)/Yy,T=e.sqrt(e.neg(t));w=(I,M)=>{let k=e.sqr(M),O=e.mul(I,M);k=e.mul(k,O);let L=e.pow(k,P);L=e.mul(L,O);let q=e.mul(L,T),H=e.mul(e.sqr(L),M),D=e.eql(H,I),V=e.cmov(q,L,D);return{isValid:D,value:V}}}return w}We.SWUFpSqrtRatio=Qy;function a4(e,t){if(Do.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=Qy(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,c,d,l,p,b;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),c=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),c=e.mul(c,t.A),s=e.sqr(o),l=e.sqr(c),d=e.mul(l,t.A),s=e.add(s,d),s=e.mul(s,o),l=e.mul(l,c),d=e.mul(l,t.B),s=e.add(s,d),p=e.mul(i,o);let{isValid:E,value:w}=r(s,l);b=e.mul(i,n),b=e.mul(b,w),p=e.cmov(p,o,E),b=e.cmov(b,w,E);let P=e.isOdd(n)===e.isOdd(b);return b=e.cmov(e.neg(b),b,P),p=e.div(p,c),{x:p,y:b}}}We.mapToCurveSimpleSWU=a4});var i1=R(ot=>{C();x();Object.defineProperty(ot,"__esModule",{value:!0});ot.createHasher=ot.isogenyMap=ot.hash_to_field=ot.expand_message_xof=ot.expand_message_xmd=ot.isNum=ot.isBytes=ot.strxor=ot.i2osp=ot.validateDST=void 0;var c4=Ki(),sn=Rn();function e1(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return(0,sn.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}ot.validateDST=e1;var f4=sn.bytesToNumberBE;function Ln(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}ot.i2osp=Ln;function t1(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}ot.strxor=t1;function Hs(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}ot.isBytes=Hs;function vc(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}ot.isNum=vc;function r1(e,t,r,n){Hs(e),Hs(t),vc(r),t.length>255&&(t=n((0,sn.concatBytes)((0,sn.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");let c=(0,sn.concatBytes)(t,Ln(t.length,1)),d=Ln(0,s),l=Ln(r,2),p=new Array(o),b=n((0,sn.concatBytes)(d,e,l,Ln(0,1),c));p[0]=n((0,sn.concatBytes)(b,Ln(1,1),c));for(let w=1;w<=o;w++){let P=[t1(b,p[w-1]),Ln(w+1,1),c];p[w]=n((0,sn.concatBytes)(...P))}return(0,sn.concatBytes)(...p).slice(0,r)}ot.expand_message_xmd=r1;function n1(e,t,r,n,i){if(Hs(e),Hs(t),vc(r),t.length>255){let s=Math.ceil(2*n/8);t=i.create({dkLen:s}).update((0,sn.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(Ln(r,2)).update(t).update(Ln(t.length,1)).digest()}ot.expand_message_xof=n1;function wu(e,t,r){(0,sn.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:o,expand:c,DST:d}=r;Hs(e),vc(t);let l=e1(d),p=n.toString(2).length,b=Math.ceil((p+i)/8),E=t*s*b,w;if(c==="xmd")w=r1(e,l,E,o);else if(c==="xof")w=n1(e,l,E,i,o);else if(c==="_internal_pass")w=e;else throw new Error('expand must be "xmd" or "xof"');let P=new Array(t);for(let T=0;T<t;T++){let I=new Array(s);for(let M=0;M<s;M++){let k=b*(M+T*s),O=w.subarray(k,k+b);I[M]=(0,c4.mod)(f4(O),n)}P[T]=I}return P}ot.hash_to_field=wu;function d4(e,t){let r=t.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,o,c,d]=r.map(l=>l.reduce((p,b)=>e.add(e.mul(p,n),b)));return n=e.div(s,o),i=e.mul(i,e.div(c,d)),{x:n,y:i}}}ot.isogenyMap=d4;function u4(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=wu(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),c=e.fromAffine(t(s[1])),d=o.add(c).clearCofactor();return d.assertValidity(),d},encodeToCurve(n,i){let s=wu(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o}}}ot.createHasher=u4});var Cu=R(Vs=>{C();x();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.createCurve=Vs.getHash=void 0;var l4=Io(),s1=rr(),h4=mc();function o1(e){return{hash:e,hmac:(t,...r)=>(0,l4.hmac)(e,t,(0,s1.concatBytes)(...r)),randomBytes:s1.randomBytes}}Vs.getHash=o1;function b4(e,t){let r=n=>(0,h4.weierstrass)({...e,...o1(n)});return Object.freeze({...r(t),create:r})}Vs.createCurve=b4});var y1=R(Ht=>{C();x();var p4=Ht&&Ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),y4=Ht&&Ht.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),g4=Ht&&Ht.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&p4(t,e,r);return y4(t,e),t},xu;Object.defineProperty(Ht,"__esModule",{value:!0});Ht.encodeToCurve=Ht.hashToCurve=Ht.schnorr=Ht.secp256k1=void 0;var _c=bs(),m4=rr(),Jt=Ki(),v4=mc(),ur=Rn(),f1=g4(i1()),_4=Cu(),xc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Sc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),d1=BigInt(1),wc=BigInt(2),a1=(e,t)=>(e+t/wc)/t;function u1(e){let t=xc,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),c=BigInt(44),d=BigInt(88),l=e*e*e%t,p=l*l*e%t,b=(0,Jt.pow2)(p,r,t)*p%t,E=(0,Jt.pow2)(b,r,t)*p%t,w=(0,Jt.pow2)(E,wc,t)*l%t,P=(0,Jt.pow2)(w,i,t)*w%t,T=(0,Jt.pow2)(P,s,t)*P%t,I=(0,Jt.pow2)(T,c,t)*T%t,M=(0,Jt.pow2)(I,d,t)*I%t,k=(0,Jt.pow2)(M,c,t)*T%t,O=(0,Jt.pow2)(k,r,t)*p%t,L=(0,Jt.pow2)(O,o,t)*P%t,q=(0,Jt.pow2)(L,n,t)*l%t,H=(0,Jt.pow2)(q,wc,t);if(!hi.eql(hi.sqr(H),e))throw new Error("Cannot find square root");return H}var hi=(0,Jt.Field)(xc,void 0,void 0,{sqrt:u1});Ht.secp256k1=(0,_4.createCurve)({a:BigInt(0),b:BigInt(7),Fp:hi,n:Sc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=Sc,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-d1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),c=a1(s*e,t),d=a1(-n*e,t),l=(0,Jt.mod)(e-c*r-d*i,t),p=(0,Jt.mod)(-c*n-d*s,t),b=l>o,E=p>o;if(b&&(l=t-l),E&&(p=t-p),l>o||p>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:b,k1:l,k2neg:E,k2:p}}}},_c.sha256);var Tc=BigInt(0),l1=e=>typeof e=="bigint"&&Tc<e&&e<xc,S4=e=>typeof e=="bigint"&&Tc<e&&e<Sc,c1={};function Cc(e,...t){let r=c1[e];if(r===void 0){let n=(0,_c.sha256)(Uint8Array.from(e,i=>i.charCodeAt(0)));r=(0,ur.concatBytes)(n,n),c1[e]=r}return(0,_c.sha256)((0,ur.concatBytes)(r,...t))}var Au=e=>e.toRawBytes(!0).slice(1),Eu=e=>(0,ur.numberToBytesBE)(e,32),Tu=e=>(0,Jt.mod)(e,xc),Ko=e=>(0,Jt.mod)(e,Sc),Mu=Ht.secp256k1.ProjectivePoint,w4=(e,t,r)=>Mu.BASE.multiplyAndAddUnsafe(e,t,r);function Pu(e){let t=Ht.secp256k1.utils.normPrivateKeyToScalar(e),r=Mu.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:Ko(-t),bytes:Au(r)}}function h1(e){if(!l1(e))throw new Error("bad x: need 0 < x < p");let t=Tu(e*e),r=Tu(t*e+BigInt(7)),n=u1(r);n%wc!==Tc&&(n=Tu(-n));let i=new Mu(e,n,d1);return i.assertValidity(),i}function b1(...e){return Ko((0,ur.bytesToNumberBE)(Cc("BIP0340/challenge",...e)))}function C4(e){return Pu(e).bytes}function x4(e,t,r=(0,m4.randomBytes)(32)){let n=(0,ur.ensureBytes)("message",e),{bytes:i,scalar:s}=Pu(t),o=(0,ur.ensureBytes)("auxRand",r,32),c=Eu(s^(0,ur.bytesToNumberBE)(Cc("BIP0340/aux",o))),d=Cc("BIP0340/nonce",c,i,n),l=Ko((0,ur.bytesToNumberBE)(d));if(l===Tc)throw new Error("sign failed: k is zero");let{bytes:p,scalar:b}=Pu(l),E=b1(p,i,n),w=new Uint8Array(64);if(w.set(p,0),w.set(Eu(Ko(b+E*s)),32),!p1(w,n,i))throw new Error("sign: Invalid signature produced");return w}function p1(e,t,r){let n=(0,ur.ensureBytes)("signature",e,64),i=(0,ur.ensureBytes)("message",t),s=(0,ur.ensureBytes)("publicKey",r,32);try{let o=h1((0,ur.bytesToNumberBE)(s)),c=(0,ur.bytesToNumberBE)(n.subarray(0,32));if(!l1(c))return!1;let d=(0,ur.bytesToNumberBE)(n.subarray(32,64));if(!S4(d))return!1;let l=b1(Eu(c),Au(o),i),p=w4(o,d,Ko(-l));return!(!p||!p.hasEvenY()||p.toAffine().x!==c)}catch{return!1}}Ht.schnorr={getPublicKey:C4,sign:x4,verify:p1,utils:{randomPrivateKey:Ht.secp256k1.utils.randomPrivateKey,lift_x:h1,pointToBytes:Au,numberToBytesBE:ur.numberToBytesBE,bytesToNumberBE:ur.bytesToNumberBE,taggedHash:Cc,mod:Jt.mod}};var T4=f1.isogenyMap(hi,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),E4=(0,v4.mapToCurveSimpleSWU)(hi,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:hi.create(BigInt("-11"))});xu=f1.createHasher(Ht.secp256k1.ProjectivePoint,e=>{let{x:t,y:r}=E4(hi.create(e[0]));return T4(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:hi.ORDER,m:1,k:128,expand:"xmd",hash:_c.sha256}),Ht.hashToCurve=xu.hashToCurve,Ht.encodeToCurve=xu.encodeToCurve});var v1=R(bi=>{C();x();Object.defineProperty(bi,"__esModule",{value:!0});bi.poseidon=bi.splitConstants=bi.validateOpts=void 0;var g1=Ki();function m1(e){let{Fp:t}=e;(0,g1.validateField)(t);for(let d of["t","roundsFull","roundsPartial"])if(typeof e[d]!="number"||!Number.isSafeInteger(e[d]))throw new Error(`Poseidon: invalid param ${d}=${e[d]} (${typeof e[d]})`);if(e.reversePartialPowIdx!==void 0&&typeof e.reversePartialPowIdx!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${e.reversePartialPowIdx}`);let r=e.sboxPower;if(r===void 0&&(r=5),typeof r!="number"||!Number.isSafeInteger(r))throw new Error(`Poseidon wrong sboxPower=${r}`);let n=BigInt(r),i=d=>(0,g1.FpPow)(t,d,n);if(r===3?i=d=>t.mul(t.sqrN(d),d):r===5&&(i=d=>t.mul(t.sqrN(t.sqrN(d)),d)),e.roundsFull%2!==0)throw new Error(`Poseidon roundsFull is not even: ${e.roundsFull}`);let s=e.roundsFull+e.roundsPartial;if(!Array.isArray(e.roundConstants)||e.roundConstants.length!==s)throw new Error("Poseidon: wrong round constants");let o=e.roundConstants.map(d=>{if(!Array.isArray(d)||d.length!==e.t)throw new Error(`Poseidon wrong round constants: ${d}`);return d.map(l=>{if(typeof l!="bigint"||!t.isValid(l))throw new Error(`Poseidon wrong round constant=${l}`);return t.create(l)})});if(!Array.isArray(e.mds)||e.mds.length!==e.t)throw new Error("Poseidon: wrong MDS matrix");let c=e.mds.map(d=>{if(!Array.isArray(d)||d.length!==e.t)throw new Error(`Poseidon MDS matrix row: ${d}`);return d.map(l=>{if(typeof l!="bigint")throw new Error(`Poseidon MDS matrix value=${l}`);return t.create(l)})});return Object.freeze({...e,rounds:s,sboxFn:i,roundConstants:o,mds:c})}bi.validateOpts=m1;function P4(e,t){if(typeof t!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(e)||e.length%t)throw new Error("poseidonSplitConstants: wrong rc");let r=[],n=[];for(let i=0;i<e.length;i++)n.push(e[i]),n.length===t&&(r.push(n),n=[]);return r}bi.splitConstants=P4;function A4(e){let{t,Fp:r,rounds:n,sboxFn:i,reversePartialPowIdx:s}=m1(e),o=Math.floor(e.roundsFull/2),c=s?t-1:0,d=(p,b,E)=>(p=p.map((w,P)=>r.add(w,e.roundConstants[E][P])),b?p=p.map(w=>i(w)):p[c]=i(p[c]),p=e.mds.map(w=>w.reduce((P,T,I)=>r.add(P,r.mulN(T,p[I])),r.ZERO)),p),l=function(b){if(!Array.isArray(b)||b.length!==t)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${t})`);b=b.map(w=>{if(typeof w!="bigint")throw new Error(`Poseidon: wrong value=${w} (${typeof w})`);return r.create(w)});let E=0;for(let w=0;w<o;w++)b=d(b,!0,E++);for(let w=0;w<e.roundsPartial;w++)b=d(b,!1,E++);for(let w=0;w<o;w++)b=d(b,!0,E++);if(E!==n)throw new Error(`Poseidon: wrong number of rounds: last round=${E}, total=${n}`);return b};return l.roundConstants=e.roundConstants,l}bi.poseidon=A4});var O1=R($=>{C();x();var M4=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I4=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),B4=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&M4(t,e,r);return I4(t,e),t};Object.defineProperty($,"__esModule",{value:!0});$.poseidonHashMany=$.poseidonHashSingle=$.poseidonHashFunc=$.poseidonHash=$.poseidonSmall=$.poseidonCreate=$.poseidonBasic=$._poseidonMDS=$.Fp251=$.Fp253=$.keccak=$.computeHashOnElements=$.hashChain=$.pedersen=$.getAccountPath=$.ethSigToPrivate=$.getStarkKey=$.grindKey=$.utils=$.Signature=$.ProjectivePoint=$.CURVE=$.verify=$.sign=$.getSharedSecret=$.getPublicKey=$._starkCurve=void 0;var O4=Ha(),Ou=bs(),k4=rr(),zi=Ki(),R4=v1(),N4=mc(),lr=B4(Rn()),L4=Cu(),Pc=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),w1=252;function _1(e){for(;e[0]===0;)e=e.subarray(1);let t=e.length*8-w1,r=lr.bytesToNumberBE(e);return t>0?r>>BigInt(t):r}function C1(e){return typeof e=="string"&&(e=Ru(e),e.length&1&&(e="0"+e)),lr.hexToBytes(e)}var Fi=(0,N4.weierstrass)({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:(0,zi.Field)(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:Pc,nBitLength:w1,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...(0,L4.getHash)(Ou.sha256),bits2int:_1,bits2int_modN:e=>{let t=lr.bytesToNumberBE(e).toString(16);return t.length===63&&(e=C1(t+"0")),(0,zi.mod)(_1(e),Pc)}});$._starkCurve=Fi;function Ui(e){return lr.ensureBytes("",typeof e=="string"?C1(e):e)}function ku(e){return lr.bytesToHex(Ui(e)).padStart(64,"0")}function x1(e,t=!1){return Fi.getPublicKey(ku(e),t)}$.getPublicKey=x1;function q4(e,t){return Fi.getSharedSecret(ku(e),t)}$.getSharedSecret=q4;function H4(e,t,r){return Fi.sign(Ui(e),ku(t),r)}$.sign=H4;function V4(e,t,r){let n=e instanceof T1?e:Ui(e);return Fi.verify(n,Ui(t),Ui(r))}$.verify=V4;var{CURVE:D4,ProjectivePoint:Ds,Signature:T1,utils:K4}=Fi;$.CURVE=D4;$.ProjectivePoint=Ds;$.Signature=T1;$.utils=K4;function E1(e){return`0x${lr.bytesToHex(e.subarray(1)).replace(/^0+/gm,"")}`}function Ru(e){return e.replace(/^0x/i,"")}function U4(e){return`0x${e.toString(16)}`}function P1(e){let t=Ui(e),r=2n**256n,n=r-(0,zi.mod)(r,Pc);for(let i=0;;i++){let s=Iu(lr.concatBytes(t,lr.numberToVarBytesBE(BigInt(i))));if(s<n)return(0,zi.mod)(s,Pc).toString(16);if(i===1e5)throw new Error("grindKey is broken: tried 100k vals")}}$.grindKey=P1;function z4(e){return E1(x1(e,!0))}$.getStarkKey=z4;function F4(e){if(e=Ru(e),e.length!==130)throw new Error("Wrong ethereum signature");return P1(e.substring(0,64))}$.ethSigToPrivate=F4;var j4=2n**31n-1n,Ec=e=>Number(e&j4);function $4(e,t,r,n){let i=Ec(Iu(e)),s=Ec(Iu(t)),o=lr.hexToNumber(Ru(r));return`m/2645'/${i}'/${s}'/${Ec(o)}'/${Ec(o>>31n)}'/${n}`}$.getAccountPath=$4;var Uo=[new Ds(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new Ds(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new Ds(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new Ds(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new Ds(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function A1(e,t){let r=[],n=e;for(let i=0;i<248;i++)r.push(n),n=n.double();n=t;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}var G4=A1(Uo[1],Uo[2]),W4=A1(Uo[3],Uo[4]);function M1(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"){if(!Number.isSafeInteger(e))throw new Error(`Invalid pedersenArg: ${e}`);t=BigInt(e)}else t=lr.bytesToNumberBE(Ui(e));if(!(0n<=t&&t<Fi.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${t}`);return t}function S1(e,t,r){let n=M1(t);for(let i=0;i<252;i++){let s=r[i];if(s.equals(e))throw new Error("Same point");(n&1n)!==0n&&(e=e.add(s)),n>>=1n}return e}function Nu(e,t){let r=Uo[0];return r=S1(r,e,G4),r=S1(r,t,W4),E1(r.toRawBytes(!0))}$.pedersen=Nu;function X4(e,t=Nu){if(!Array.isArray(e)||e.length<1)throw new Error("data should be array of at least 1 element");return e.length===1?U4(M1(e[0])):Array.from(e).reverse().reduce((r,n)=>t(n,r))}$.hashChain=X4;var Y4=(e,t=Nu)=>[0,...e,e.length].reduce((r,n)=>t(r,n));$.computeHashOnElements=Y4;var Z4=lr.bitMask(250),J4=e=>lr.bytesToNumberBE((0,O4.keccak_256)(e))&Z4;$.keccak=J4;var Iu=e=>lr.bytesToNumberBE((0,Ou.sha256)(e));$.Fp253=(0,zi.Field)(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681"));$.Fp251=(0,zi.Field)(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function Bu(e,t,r){let n=e.fromBytes((0,Ou.sha256)((0,k4.utf8ToBytes)(`${t}${r}`)));return e.create(n)}function I1(e,t,r,n=0){let i=[],s=[];for(let o=0;o<r;o++)i.push(Bu(e,`${t}x`,n*r+o)),s.push(Bu(e,`${t}y`,n*r+o));if(new Set([...i,...s]).size!==2*r)throw new Error("X and Y values are not distinct");return i.map(o=>s.map(c=>e.inv(e.sub(o,c))))}$._poseidonMDS=I1;var Q4=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function Lu(e,t){if((0,zi.validateField)(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);let r=e.rate+e.capacity,n=e.roundsFull+e.roundsPartial,i=[];for(let o=0;o<n;o++){let c=[];for(let d=0;d<r;d++)c.push(Bu(e.Fp,"Hades",r*o+d));i.push(c)}let s=(0,R4.poseidon)({...e,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:i});return s.m=r,s.rate=e.rate,s.capacity=e.capacity,s}$.poseidonBasic=Lu;function eS(e,t=0){let r=e.rate+e.capacity;if(!Number.isSafeInteger(t))throw new Error(`Wrong mdsAttempt=${t}`);return Lu(e,I1(e.Fp,"HadesMDS",r,t))}$.poseidonCreate=eS;$.poseidonSmall=Lu({Fp:$.Fp251,rate:2,capacity:1,roundsFull:8,roundsPartial:83},Q4);function B1(e,t,r=$.poseidonSmall){return r([e,t,2n])[0]}$.poseidonHash=B1;function tS(e,t,r=$.poseidonSmall){return lr.numberToVarBytesBE(B1(lr.bytesToNumberBE(e),lr.bytesToNumberBE(t),r))}$.poseidonHashFunc=tS;function rS(e,t=$.poseidonSmall){return t([e,0n,1n])[0]}$.poseidonHashSingle=rS;function nS(e,t=$.poseidonSmall){let{m:r,rate:n}=t;if(!Array.isArray(e))throw new Error("bigint array expected in values");let i=Array.from(e);for(i.push(1n);i.length%n!==0;)i.push(0n);let s=new Array(r).fill(0n);for(let o=0;o<i.length;o+=n){for(let c=0;c<n;c++)s[c]+=i[o+c];s=t(s)}return s[0]}$.poseidonHashMany=nS});var N1=R(hr=>{C();x();var iS=hr&&hr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sS=hr&&hr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),k1=hr&&hr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iS(t,e,r);return sS(t,e),t};Object.defineProperty(hr,"__esModule",{value:!0});hr.bytesToHex=hr.hexToBytes=hr.stark=hr.secp256k1=void 0;hr.secp256k1=k1(y1());hr.stark=k1(O1());var R1=Rn();Object.defineProperty(hr,"hexToBytes",{enumerable:!0,get:function(){return R1.hexToBytes}});Object.defineProperty(hr,"bytesToHex",{enumerable:!0,get:function(){return R1.bytesToHex}})});var L1=R(br=>{C();x();var oS=br&&br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aS=br&&br.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ac=br&&br.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oS(t,e,r);return aS(t,e),t};Object.defineProperty(br,"__esModule",{value:!0});br.schnorr=br.p256=br.ed25519=br.secp256k1=void 0;br.secp256k1=Ac(Cy());br.ed25519=Ac(Oy());br.p256=Ac(Ly());br.schnorr=Ac(N1())});var zo=R(Vt=>{C();x();var cS=Vt&&Vt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fS=Vt&&Vt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ks=Vt&&Vt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cS(t,e,r);return fS(t,e),t};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.secp256k1=Vt.ed25519=Vt.signUtil=Vt.elliptic=Vt.bip39=Vt.bip32=void 0;Vt.bip32=Ks(iy());Vt.bip39=Ks(lu());Vt.elliptic=Ks(ks());Vt.signUtil=Ks(L1());Vt.ed25519=Ks(c0());Vt.secp256k1=Ks(L2())});var pi=R(he=>{C();x();Object.defineProperty(he,"__esModule",{value:!0});he.publicKeyToAddress=he.privateKeyToString=he.getPublicKey=he.signMessageHashRsv=he.signWithKey=he.makeRandomPrivKey=he.createStacksPrivateKey=he.deserializePublicKey=he.compressPublicKey=he.pubKeyfromPrivKey=he.serializePublicKey=he.publicKeyToString=he.isCompressed=he.publicKeyFromBytes=he.publicKeyFromSignatureRsv=he.publicKeyFromSignatureVrs=he.createStacksPublicKey=he.getAddressFromPublicKey=he.getAddressFromPrivateKey=void 0;var Fo=zo(),q1=Nr(),dS=Fo.secp256k1.getPublicKey,H1=Fo.secp256k1.Point,V1=Fo.secp256k1.Signature,uS=Fo.secp256k1.signSync,D1=Fo.secp256k1.utils,Qt=we(),lS=es(),Mc=ss(),pn=or(),K1=zr();D1.hmacSha256Sync=(e,...t)=>{let r=q1.base.hmac.create(q1.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};function hS(e,t=pn.TransactionVersion.Mainnet){let r=Hu(e);return U1(r.data,t)}he.getAddressFromPrivateKey=hS;function U1(e,t=pn.TransactionVersion.Mainnet){e=typeof e=="string"?e:(0,Qt.bytesToHex)(e);let r=(0,Mc.addressHashModeToVersion)(pn.AddressHashMode.SerializeP2PKH,t),n=(0,Mc.addressFromVersionHash)(r,(0,K1.hashP2PKH)((0,Qt.hexToBytes)(e)));return(0,Mc.addressToString)(n)}he.getAddressFromPublicKey=U1;function qu(e){return{type:pn.StacksMessageType.PublicKey,data:(0,Qt.hexToBytes)(e)}}he.createStacksPublicKey=qu;function z1(e,t,r=pn.PubKeyEncoding.Compressed){let n=(0,Qt.parseRecoverableSignatureVrs)(t.data),i=new V1((0,Qt.hexToBigInt)(n.r),(0,Qt.hexToBigInt)(n.s)),s=H1.fromSignature(e,i,n.recoveryId),o=r===pn.PubKeyEncoding.Compressed;return s.toHex(o)}he.publicKeyFromSignatureVrs=z1;function bS(e,t,r=pn.PubKeyEncoding.Compressed){return z1(e,{...t,data:(0,Qt.signatureRsvToVrs)(t.data)},r)}he.publicKeyFromSignatureRsv=bS;function F1(e){return{type:pn.StacksMessageType.PublicKey,data:e}}he.publicKeyFromBytes=F1;function pS(e){return!(0,Qt.bytesToHex)(e.data).startsWith("04")}he.isCompressed=pS;function yS(e){return(0,Qt.bytesToHex)(e.data)}he.publicKeyToString=yS;function gS(e){return e.data.slice()}he.serializePublicKey=gS;function Hu(e){let t=Vu(e),r=dS(t.data.slice(0,32),t.compressed);return qu((0,Qt.bytesToHex)(r))}he.pubKeyfromPrivKey=Hu;function mS(e){let t=typeof e=="string"?e:(0,Qt.bytesToHex)(e),r=H1.fromHex(t).toHex(!0);return qu(r)}he.compressPublicKey=mS;function vS(e){let t=e.readUInt8(),r=t!==4?pn.COMPRESSED_PUBKEY_LENGTH_BYTES:pn.UNCOMPRESSED_PUBKEY_LENGTH_BYTES;return F1((0,Qt.concatArray)([t,e.readBytes(r)]))}he.deserializePublicKey=vS;function Vu(e){if(e==null||null||e.length==0)throw new Error("invalid key");let t=(0,Qt.privateKeyToBytes)(e);if(t.every(n=>n===0))throw new Error("invalid key");let r=t.length==Qt.PRIVATE_KEY_COMPRESSED_LENGTH;return{data:t,compressed:r}}he.createStacksPrivateKey=Vu;function _S(){return Vu(D1.randomPrivateKey())}he.makeRandomPrivKey=_S;function j1(e,t){let[r,n]=uS(t,e.data.slice(0,32),{canonical:!0,recovered:!0});if(n==null)throw new Error("No signature recoveryId received");let s=(0,Qt.intToHex)(n,1)+V1.fromHex(r).toCompactHex();return(0,Mc.createMessageSignature)(s)}he.signWithKey=j1;function SS({messageHash:e,privateKey:t}){let r=j1(t,e);return{...r,data:(0,Qt.signatureVrsToRsv)(r.data)}}he.signMessageHashRsv=SS;function wS(e){return Hu(e.data)}he.getPublicKey=wS;function CS(e){return(0,Qt.bytesToHex)(e.data)}he.privateKeyToString=CS;function xS(e,t){return(0,lS.c32address)(e,(0,Qt.bytesToHex)((0,K1.hash160)(t.data)))}he.publicKeyToAddress=xS});var zs=R(ze=>{C();x();Object.defineProperty(ze,"__esModule",{value:!0});ze.deserializePayload=ze.serializePayload=ze.createCoinbasePayload=ze.createPoisonPayload=ze.createSmartContractPayload=ze.createContractCallPayload=ze.createTokenTransferPayload=ze.isCoinbasePayload=ze.isPoisonPayload=ze.isSmartContractPayload=ze.isContractCallPayload=ze.isTokenTransferPayload=void 0;var jo=we(),pe=or(),Us=qn(),TS=Ca(),Ic=Tn(),Ft=yi();function ES(e){return e.payloadType===pe.PayloadType.TokenTransfer}ze.isTokenTransferPayload=ES;function PS(e){return e.payloadType===pe.PayloadType.ContractCall}ze.isContractCallPayload=PS;function AS(e){return e.payloadType===pe.PayloadType.SmartContract}ze.isSmartContractPayload=AS;function MS(e){return e.payloadType===pe.PayloadType.PoisonMicroblock}ze.isPoisonPayload=MS;function IS(e){return e.payloadType===pe.PayloadType.Coinbase}ze.isCoinbasePayload=IS;function $1(e,t,r){return typeof e=="string"&&(e=(0,TS.principalCV)(e)),typeof r=="string"&&(r=(0,Ft.createMemoString)(r)),{type:pe.StacksMessageType.Payload,payloadType:pe.PayloadType.TokenTransfer,recipient:e,amount:(0,jo.intToBigInt)(t,!1),memo:r??(0,Ft.createMemoString)("")}}ze.createTokenTransferPayload=$1;function G1(e,t,r,n){return typeof e=="string"&&(e=(0,Ic.createAddress)(e)),typeof t=="string"&&(t=(0,Ic.createLPString)(t)),typeof r=="string"&&(r=(0,Ic.createLPString)(r)),{type:pe.StacksMessageType.Payload,payloadType:pe.PayloadType.ContractCall,contractAddress:e,contractName:t,functionName:r,functionArgs:n}}ze.createContractCallPayload=G1;function Du(e,t,r){return typeof e=="string"&&(e=(0,Ic.createLPString)(e)),typeof t=="string"&&(t=(0,Ft.codeBodyString)(t)),typeof r=="number"?{type:pe.StacksMessageType.Payload,payloadType:pe.PayloadType.VersionedSmartContract,clarityVersion:r,contractName:e,codeBody:t}:{type:pe.StacksMessageType.Payload,payloadType:pe.PayloadType.SmartContract,contractName:e,codeBody:t}}ze.createSmartContractPayload=Du;function W1(){return{type:pe.StacksMessageType.Payload,payloadType:pe.PayloadType.PoisonMicroblock}}ze.createPoisonPayload=W1;function Ku(e,t){if(e.byteLength!=pe.COINBASE_BYTES_LENGTH)throw Error(`Coinbase buffer size must be ${pe.COINBASE_BYTES_LENGTH} bytes`);return t!=null?{type:pe.StacksMessageType.Payload,payloadType:pe.PayloadType.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:pe.StacksMessageType.Payload,payloadType:pe.PayloadType.Coinbase,coinbaseBytes:e}}ze.createCoinbasePayload=Ku;function BS(e){let t=[];switch(t.push(e.payloadType),e.payloadType){case pe.PayloadType.TokenTransfer:t.push((0,Us.serializeCV)(e.recipient)),t.push((0,jo.intToBytes)(e.amount,!1,8)),t.push((0,Ft.serializeStacksMessage)(e.memo));break;case pe.PayloadType.ContractCall:t.push((0,Ft.serializeStacksMessage)(e.contractAddress)),t.push((0,Ft.serializeStacksMessage)(e.contractName)),t.push((0,Ft.serializeStacksMessage)(e.functionName));let r=new Uint8Array(4);(0,jo.writeUInt32BE)(r,e.functionArgs.length,0),t.push(r),e.functionArgs.forEach(n=>{t.push((0,Us.serializeCV)(n))});break;case pe.PayloadType.SmartContract:t.push((0,Ft.serializeStacksMessage)(e.contractName)),t.push((0,Ft.serializeStacksMessage)(e.codeBody));break;case pe.PayloadType.VersionedSmartContract:t.push(e.clarityVersion),t.push((0,Ft.serializeStacksMessage)(e.contractName)),t.push((0,Ft.serializeStacksMessage)(e.codeBody));break;case pe.PayloadType.PoisonMicroblock:break;case pe.PayloadType.Coinbase:t.push(e.coinbaseBytes);break;case pe.PayloadType.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push((0,Us.serializeCV)(e.recipient));break}return(0,jo.concatArray)(t)}ze.serializePayload=BS;function OS(e){switch(e.readUInt8Enum(pe.PayloadType,r=>{throw new Error(`Cannot recognize PayloadType: ${r}`)})){case pe.PayloadType.TokenTransfer:let r=(0,Us.deserializeCV)(e),n=(0,jo.intToBigInt)(e.readBytes(8),!1),i=(0,Ft.deserializeMemoString)(e);return $1(r,n,i);case pe.PayloadType.ContractCall:let s=(0,Ft.deserializeAddress)(e),o=(0,Ft.deserializeLPString)(e),c=(0,Ft.deserializeLPString)(e),d=[],l=e.readUInt32BE();for(let T=0;T<l;T++){let I=(0,Us.deserializeCV)(e);d.push(I)}return G1(s,o,c,d);case pe.PayloadType.SmartContract:let p=(0,Ft.deserializeLPString)(e),b=(0,Ft.deserializeLPString)(e,4,1e5);return Du(p,b);case pe.PayloadType.VersionedSmartContract:{let T=e.readUInt8Enum(pe.ClarityVersion,k=>{throw new Error(`Cannot recognize ClarityVersion: ${k}`)}),I=(0,Ft.deserializeLPString)(e),M=(0,Ft.deserializeLPString)(e,4,1e5);return Du(I,M,T)}case pe.PayloadType.PoisonMicroblock:return W1();case pe.PayloadType.Coinbase:let E=e.readBytes(pe.COINBASE_BYTES_LENGTH);return Ku(E);case pe.PayloadType.CoinbaseToAltRecipient:let w=e.readBytes(pe.COINBASE_BYTES_LENGTH),P=(0,Us.deserializeCV)(e);return Ku(w,P)}}ze.deserializePayload=OS});var Hn=R(kr=>{C();x();Object.defineProperty(kr,"__esModule",{value:!0});kr.VerificationError=kr.SigningError=kr.NotImplementedError=kr.NoEstimateAvailableError=kr.DeserializationError=kr.SerializationError=void 0;var gi=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Uu=class extends gi{constructor(t){super(t)}};kr.SerializationError=Uu;var zu=class extends gi{constructor(t){super(t)}};kr.DeserializationError=zu;var Fu=class extends gi{constructor(t){super(t)}};kr.NoEstimateAvailableError=Fu;var ju=class extends gi{constructor(t){super(t)}};kr.NotImplementedError=ju;var $u=class extends gi{constructor(t){super(t)}};kr.SigningError=$u;var Gu=class extends gi{constructor(t){super(t)}};kr.VerificationError=Gu});var Wo=R(Sr=>{C();x();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.serializeTransactionAuthField=Sr.serializeMessageSignature=Sr.deserializeTransactionAuthField=Sr.createTransactionAuthField=Sr.deserializeMessageSignature=Sr.AuthFieldType=void 0;var kS=Hn(),gn=or(),Go=pi(),RS=ss(),Xu=we(),yn;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(yn=Sr.AuthFieldType||(Sr.AuthFieldType={}));function Wu(e){return(0,RS.createMessageSignature)((0,Xu.bytesToHex)(e.readBytes(gn.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)))}Sr.deserializeMessageSignature=Wu;function $o(e,t){return{pubKeyEncoding:e,type:gn.StacksMessageType.TransactionAuthField,contents:t}}Sr.createTransactionAuthField=$o;function NS(e){let t=e.readUInt8Enum(yn,r=>{throw new kS.DeserializationError(`Could not read ${r} as AuthFieldType`)});switch(t){case yn.PublicKeyCompressed:return $o(gn.PubKeyEncoding.Compressed,(0,Go.deserializePublicKey)(e));case yn.PublicKeyUncompressed:return $o(gn.PubKeyEncoding.Uncompressed,(0,Go.deserializePublicKey)(e));case yn.SignatureCompressed:return $o(gn.PubKeyEncoding.Compressed,Wu(e));case yn.SignatureUncompressed:return $o(gn.PubKeyEncoding.Uncompressed,Wu(e));default:throw new Error(`Unknown auth field type: ${JSON.stringify(t)}`)}}Sr.deserializeTransactionAuthField=NS;function X1(e){return(0,Xu.hexToBytes)(e.data)}Sr.serializeMessageSignature=X1;function LS(e){let t=[];switch(e.contents.type){case gn.StacksMessageType.PublicKey:e.pubKeyEncoding==gn.PubKeyEncoding.Compressed?(t.push(yn.PublicKeyCompressed),t.push((0,Go.serializePublicKey)(e.contents))):(t.push(yn.PublicKeyUncompressed),t.push((0,Go.serializePublicKey)((0,Go.compressPublicKey)(e.contents.data))));break;case gn.StacksMessageType.MessageSignature:e.pubKeyEncoding==gn.PubKeyEncoding.Compressed?t.push(yn.SignatureCompressed):t.push(yn.SignatureUncompressed),t.push(X1(e.contents));break}return(0,Xu.concatArray)(t)}Sr.serializeTransactionAuthField=LS});var yi=R(oe=>{C();x();Object.defineProperty(oe,"__esModule",{value:!0});oe.deserializePostCondition=oe.serializePostCondition=oe.deserializeLPList=oe.serializeLPList=oe.createLPList=oe.deserializeAssetInfo=oe.serializeAssetInfo=oe.deserializeMemoString=oe.serializeMemoString=oe.createMemoString=oe.codeBodyString=oe.deserializeLPString=oe.serializeLPString=oe.deserializePrincipal=oe.serializePrincipal=oe.deserializeAddress=oe.serializeAddress=oe.addressFromPublicKeys=oe.addressFromHashMode=oe.createEmptyAddress=oe.deserializeStacksMessage=oe.serializeStacksMessage=void 0;var Re=we(),j=or(),Gs=pi(),Fs=zr(),Y1=Tn(),Z1=zs(),js=Hn(),Bc=Wo(),$s=ss(),J1=qn();function Q1(e){switch(e.type){case j.StacksMessageType.Address:return Oc(e);case j.StacksMessageType.Principal:return Yu(e);case j.StacksMessageType.LengthPrefixedString:return Xo(e);case j.StacksMessageType.MemoString:return eg(e);case j.StacksMessageType.AssetInfo:return Qu(e);case j.StacksMessageType.PostCondition:return ig(e);case j.StacksMessageType.PublicKey:return(0,Gs.serializePublicKey)(e);case j.StacksMessageType.LengthPrefixedList:return rg(e);case j.StacksMessageType.Payload:return(0,Z1.serializePayload)(e);case j.StacksMessageType.TransactionAuthField:return(0,Bc.serializeTransactionAuthField)(e);case j.StacksMessageType.MessageSignature:return(0,Bc.serializeMessageSignature)(e)}}oe.serializeStacksMessage=Q1;function qS(e,t,r){switch(t){case j.StacksMessageType.Address:return Zo(e);case j.StacksMessageType.Principal:return Zu(e);case j.StacksMessageType.LengthPrefixedString:return Ws(e);case j.StacksMessageType.MemoString:return Ju(e);case j.StacksMessageType.AssetInfo:return Yo(e);case j.StacksMessageType.PostCondition:return el(e);case j.StacksMessageType.PublicKey:return(0,Gs.deserializePublicKey)(e);case j.StacksMessageType.Payload:return(0,Z1.deserializePayload)(e);case j.StacksMessageType.LengthPrefixedList:if(!r)throw new js.DeserializationError("No List Type specified");return ng(e,r);case j.StacksMessageType.MessageSignature:return(0,Bc.deserializeMessageSignature)(e);default:throw new Error("Could not recognize StacksMessageType")}}oe.deserializeStacksMessage=qS;function HS(){return{type:j.StacksMessageType.Address,version:j.AddressVersion.MainnetSingleSig,hash160:"0".repeat(40)}}oe.createEmptyAddress=HS;function VS(e,t,r){let n=(0,$s.addressHashModeToVersion)(e,t);return(0,$s.addressFromVersionHash)(n,r)}oe.addressFromHashMode=VS;function DS(e,t,r,n){if(n.length===0)throw Error("Invalid number of public keys");if((t===j.AddressHashMode.SerializeP2PKH||t===j.AddressHashMode.SerializeP2WPKH)&&(n.length!==1||r!==1))throw Error("Invalid number of public keys or signatures");if(t===j.AddressHashMode.SerializeP2WPKH||t===j.AddressHashMode.SerializeP2WSH){for(let i=0;i<n.length;i++)if(!(0,Gs.isCompressed)(n[i]))throw Error("Public keys must be compressed for segwit")}switch(t){case j.AddressHashMode.SerializeP2PKH:return(0,$s.addressFromVersionHash)(e,(0,Fs.hashP2PKH)(n[0].data));case j.AddressHashMode.SerializeP2WPKH:return(0,$s.addressFromVersionHash)(e,(0,Fs.hashP2WPKH)(n[0].data));case j.AddressHashMode.SerializeP2SH:return(0,$s.addressFromVersionHash)(e,(0,Fs.hashP2SH)(r,n.map(Gs.serializePublicKey)));case j.AddressHashMode.SerializeP2WSH:return(0,$s.addressFromVersionHash)(e,(0,Fs.hashP2WSH)(r,n.map(Gs.serializePublicKey)))}}oe.addressFromPublicKeys=DS;function Oc(e){let t=[];return t.push((0,Re.hexToBytes)((0,Re.intToHex)(e.version,1))),t.push((0,Re.hexToBytes)(e.hash160)),(0,Re.concatArray)(t)}oe.serializeAddress=Oc;function Zo(e){let t=(0,Re.hexToInt)((0,Re.bytesToHex)(e.readBytes(1))),r=(0,Re.bytesToHex)(e.readBytes(20));return{type:j.StacksMessageType.Address,version:t,hash160:r}}oe.deserializeAddress=Zo;function Yu(e){let t=[];return t.push(e.prefix),t.push(Oc(e.address)),e.prefix===j.PostConditionPrincipalID.Contract&&t.push(Xo(e.contractName)),(0,Re.concatArray)(t)}oe.serializePrincipal=Yu;function Zu(e){let t=e.readUInt8Enum(j.PostConditionPrincipalID,i=>{throw new js.DeserializationError(`Unexpected Principal payload type: ${i}`)}),r=Zo(e);if(t===j.PostConditionPrincipalID.Standard)return{type:j.StacksMessageType.Principal,prefix:t,address:r};let n=Ws(e);return{type:j.StacksMessageType.Principal,prefix:t,address:r,contractName:n}}oe.deserializePrincipal=Zu;function Xo(e){let t=[],r=(0,Re.utf8ToBytes)(e.content),n=r.byteLength;return t.push((0,Re.hexToBytes)((0,Re.intToHex)(n,e.lengthPrefixBytes))),t.push(r),(0,Re.concatArray)(t)}oe.serializeLPString=Xo;function Ws(e,t,r){t=t||1;let n=(0,Re.hexToInt)((0,Re.bytesToHex)(e.readBytes(t))),i=(0,Re.bytesToUtf8)(e.readBytes(n));return(0,Y1.createLPString)(i,t,r??128)}oe.deserializeLPString=Ws;function KS(e){return(0,Y1.createLPString)(e,4,1e5)}oe.codeBodyString=KS;function US(e){if(e&&(0,Fs.exceedsMaxLengthBytes)(e,j.MEMO_MAX_LENGTH_BYTES))throw new Error(`Memo exceeds maximum length of ${j.MEMO_MAX_LENGTH_BYTES} bytes`);return{type:j.StacksMessageType.MemoString,content:e}}oe.createMemoString=US;function eg(e){let t=[],r=(0,Re.utf8ToBytes)(e.content),n=(0,Fs.rightPadHexToLength)((0,Re.bytesToHex)(r),j.MEMO_MAX_LENGTH_BYTES*2);return t.push((0,Re.hexToBytes)(n)),(0,Re.concatArray)(t)}oe.serializeMemoString=eg;function Ju(e){let t=(0,Re.bytesToUtf8)(e.readBytes(j.MEMO_MAX_LENGTH_BYTES));return{type:j.StacksMessageType.MemoString,content:t}}oe.deserializeMemoString=Ju;function Qu(e){let t=[];return t.push(Oc(e.address)),t.push(Xo(e.contractName)),t.push(Xo(e.assetName)),(0,Re.concatArray)(t)}oe.serializeAssetInfo=Qu;function Yo(e){return{type:j.StacksMessageType.AssetInfo,address:Zo(e),contractName:Ws(e),assetName:Ws(e)}}oe.deserializeAssetInfo=Yo;function tg(e,t){return{type:j.StacksMessageType.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}oe.createLPList=tg;function rg(e){let t=e.values,r=[];r.push((0,Re.hexToBytes)((0,Re.intToHex)(t.length,e.lengthPrefixBytes)));for(let n of t)r.push(Q1(n));return(0,Re.concatArray)(r)}oe.serializeLPList=rg;function ng(e,t,r){let n=(0,Re.hexToInt)((0,Re.bytesToHex)(e.readBytes(r||4))),i=[];for(let s=0;s<n;s++)switch(t){case j.StacksMessageType.Address:i.push(Zo(e));break;case j.StacksMessageType.LengthPrefixedString:i.push(Ws(e));break;case j.StacksMessageType.MemoString:i.push(Ju(e));break;case j.StacksMessageType.AssetInfo:i.push(Yo(e));break;case j.StacksMessageType.PostCondition:i.push(el(e));break;case j.StacksMessageType.PublicKey:i.push((0,Gs.deserializePublicKey)(e));break;case j.StacksMessageType.TransactionAuthField:i.push((0,Bc.deserializeTransactionAuthField)(e));break}return tg(i,r)}oe.deserializeLPList=ng;function ig(e){let t=[];return t.push(e.conditionType),t.push(Yu(e.principal)),(e.conditionType===j.PostConditionType.Fungible||e.conditionType===j.PostConditionType.NonFungible)&&t.push(Qu(e.assetInfo)),e.conditionType===j.PostConditionType.NonFungible&&t.push((0,J1.serializeCV)(e.assetName)),t.push(e.conditionCode),(e.conditionType===j.PostConditionType.STX||e.conditionType===j.PostConditionType.Fungible)&&t.push((0,Re.intToBytes)(e.amount,!1,8)),(0,Re.concatArray)(t)}oe.serializePostCondition=ig;function el(e){let t=e.readUInt8Enum(j.PostConditionType,o=>{throw new js.DeserializationError(`Could not read ${o} as PostConditionType`)}),r=Zu(e),n,i,s;switch(t){case j.PostConditionType.STX:return n=e.readUInt8Enum(j.FungibleConditionCode,c=>{throw new js.DeserializationError(`Could not read ${c} as FungibleConditionCode`)}),s=BigInt(`0x${(0,Re.bytesToHex)(e.readBytes(8))}`),{type:j.StacksMessageType.PostCondition,conditionType:j.PostConditionType.STX,principal:r,conditionCode:n,amount:s};case j.PostConditionType.Fungible:return i=Yo(e),n=e.readUInt8Enum(j.FungibleConditionCode,c=>{throw new js.DeserializationError(`Could not read ${c} as FungibleConditionCode`)}),s=BigInt(`0x${(0,Re.bytesToHex)(e.readBytes(8))}`),{type:j.StacksMessageType.PostCondition,conditionType:j.PostConditionType.Fungible,principal:r,conditionCode:n,amount:s,assetInfo:i};case j.PostConditionType.NonFungible:i=Yo(e);let o=(0,J1.deserializeCV)(e);return n=e.readUInt8Enum(j.NonFungibleConditionCode,c=>{throw new js.DeserializationError(`Could not read ${c} as FungibleConditionCode`)}),{type:j.StacksMessageType.PostCondition,conditionType:j.PostConditionType.NonFungible,principal:r,conditionCode:n,assetInfo:i,assetName:o}}}oe.deserializePostCondition=el});var og=R(Rc=>{C();x();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.serializeCV=void 0;var wr=we(),kc=yi(),zS=Tn(),pr=Lr(),FS=Hn(),tl=or();function mn(e,t){return(0,wr.concatArray)([e,t])}function jS(e){return new Uint8Array([e.type])}function $S(e){return e.type===pr.ClarityType.OptionalNone?new Uint8Array([e.type]):mn(e.type,Jo(e.value))}function GS(e){let t=new Uint8Array(4);return(0,wr.writeUInt32BE)(t,e.buffer.length,0),mn(e.type,(0,wr.concatBytes)(t,e.buffer))}function WS(e){let t=(0,wr.bigIntToBytes)((0,wr.toTwos)(e.value,BigInt(tl.CLARITY_INT_SIZE)),tl.CLARITY_INT_BYTE_SIZE);return mn(e.type,t)}function XS(e){let t=(0,wr.bigIntToBytes)(e.value,tl.CLARITY_INT_BYTE_SIZE);return mn(e.type,t)}function YS(e){return mn(e.type,(0,kc.serializeAddress)(e.address))}function ZS(e){return mn(e.type,(0,wr.concatBytes)((0,kc.serializeAddress)(e.address),(0,kc.serializeLPString)(e.contractName)))}function JS(e){return mn(e.type,Jo(e.value))}function QS(e){let t=[],r=new Uint8Array(4);(0,wr.writeUInt32BE)(r,e.list.length,0),t.push(r);for(let n of e.list){let i=Jo(n);t.push(i)}return mn(e.type,(0,wr.concatArray)(t))}function e7(e){let t=[],r=new Uint8Array(4);(0,wr.writeUInt32BE)(r,Object.keys(e.data).length,0),t.push(r);let n=Object.keys(e.data).sort((i,s)=>i.localeCompare(s));for(let i of n){let s=(0,zS.createLPString)(i);t.push((0,kc.serializeLPString)(s));let o=Jo(e.data[i]);t.push(o)}return mn(e.type,(0,wr.concatArray)(t))}function sg(e,t){let r=[],n=t=="ascii"?(0,wr.asciiToBytes)(e.data):(0,wr.utf8ToBytes)(e.data),i=new Uint8Array(4);return(0,wr.writeUInt32BE)(i,n.length,0),r.push(i),r.push(n),mn(e.type,(0,wr.concatArray)(r))}function t7(e){return sg(e,"ascii")}function r7(e){return sg(e,"utf8")}function Jo(e){switch(e.type){case pr.ClarityType.BoolTrue:case pr.ClarityType.BoolFalse:return jS(e);case pr.ClarityType.OptionalNone:case pr.ClarityType.OptionalSome:return $S(e);case pr.ClarityType.Buffer:return GS(e);case pr.ClarityType.UInt:return XS(e);case pr.ClarityType.Int:return WS(e);case pr.ClarityType.PrincipalStandard:return YS(e);case pr.ClarityType.PrincipalContract:return ZS(e);case pr.ClarityType.ResponseOk:case pr.ClarityType.ResponseErr:return JS(e);case pr.ClarityType.List:return QS(e);case pr.ClarityType.Tuple:return e7(e);case pr.ClarityType.StringASCII:return t7(e);case pr.ClarityType.StringUTF8:return r7(e);default:throw new FS.SerializationError("Unable to serialize. Invalid Clarity Value.")}}Rc.serializeCV=Jo});var Nc=R(Xs=>{C();x();Object.defineProperty(Xs,"__esModule",{value:!0});Xs.BytesReader=Xs.isEnum=void 0;var Qo=we();function n7(e){let t=Object.values(e).filter(n=>typeof n=="number"),r=new Set(t);return n=>r.has(n)}var ag=new Map;function nl(e,t){let r=ag.get(e);if(r!==void 0)return r(t);let n=n7(e);return ag.set(e,n),nl(e,t)}Xs.isEnum=nl;var rl=class{constructor(t){this.consumed=0,this.source=t}readBytes(t){let r=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,r}readUInt32BE(){return(0,Qo.readUInt32BE)(this.readBytes(4),0)}readUInt8(){return(0,Qo.readUInt8)(this.readBytes(1),0)}readUInt16BE(){return(0,Qo.readUInt16BE)(this.readBytes(2),0)}readBigUIntLE(t){let r=this.readBytes(t).slice().reverse(),n=(0,Qo.bytesToHex)(r);return BigInt(`0x${n}`)}readBigUIntBE(t){let r=this.readBytes(t),n=(0,Qo.bytesToHex)(r);return BigInt(`0x${n}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,r){let n=this.readUInt8();if(nl(t,n))return n;throw r(n)}};Xs.BytesReader=rl});var dg=R(ol=>{C();x();Object.defineProperty(ol,"__esModule",{value:!0});var Ne=qn(),cg=Nc(),Lc=yi(),il=Hn(),fg=Pa(),sl=we();function Ys(e){let t;if(typeof e=="string"){let n=e.slice(0,2).toLowerCase()==="0x";t=new cg.BytesReader((0,sl.hexToBytes)(n?e.slice(2):e))}else e instanceof Uint8Array?t=new cg.BytesReader(e):t=e;switch(t.readUInt8Enum(Ne.ClarityType,n=>{throw new il.DeserializationError(`Cannot recognize Clarity Type: ${n}`)})){case Ne.ClarityType.Int:return(0,Ne.intCV)(t.readBytes(16));case Ne.ClarityType.UInt:return(0,Ne.uintCV)(t.readBytes(16));case Ne.ClarityType.Buffer:let n=t.readUInt32BE();return(0,Ne.bufferCV)(t.readBytes(n));case Ne.ClarityType.BoolTrue:return(0,Ne.trueCV)();case Ne.ClarityType.BoolFalse:return(0,Ne.falseCV)();case Ne.ClarityType.PrincipalStandard:let i=(0,Lc.deserializeAddress)(t);return(0,Ne.standardPrincipalCVFromAddress)(i);case Ne.ClarityType.PrincipalContract:let s=(0,Lc.deserializeAddress)(t),o=(0,Lc.deserializeLPString)(t);return(0,Ne.contractPrincipalCVFromAddress)(s,o);case Ne.ClarityType.ResponseOk:return(0,Ne.responseOkCV)(Ys(t));case Ne.ClarityType.ResponseErr:return(0,Ne.responseErrorCV)(Ys(t));case Ne.ClarityType.OptionalNone:return(0,Ne.noneCV)();case Ne.ClarityType.OptionalSome:return(0,Ne.someCV)(Ys(t));case Ne.ClarityType.List:let c=t.readUInt32BE(),d=[];for(let T=0;T<c;T++)d.push(Ys(t));return(0,Ne.listCV)(d);case Ne.ClarityType.Tuple:let l=t.readUInt32BE(),p={};for(let T=0;T<l;T++){let I=(0,Lc.deserializeLPString)(t).content;if(I===void 0)throw new il.DeserializationError('"content" is undefined');p[I]=Ys(t)}return(0,Ne.tupleCV)(p);case Ne.ClarityType.StringASCII:let b=t.readUInt32BE(),E=(0,sl.bytesToAscii)(t.readBytes(b));return(0,fg.stringAsciiCV)(E);case Ne.ClarityType.StringUTF8:let w=t.readUInt32BE(),P=(0,sl.bytesToUtf8)(t.readBytes(w));return(0,fg.stringUtf8CV)(P);default:throw new il.DeserializationError("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}ol.default=Ys});var qn=R(G=>{C();x();var i7=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G,"__esModule",{value:!0});G.principalToString=G.cvToValue=G.cvToJSON=G.cvToString=G.deserializeCV=G.serializeCV=G.getCVTypeString=G.stringUtf8CV=G.stringAsciiCV=G.stringCV=G.tupleCV=G.listCV=G.contractPrincipalCVFromStandard=G.contractPrincipalCVFromAddress=G.contractPrincipalCV=G.standardPrincipalCVFromAddress=G.standardPrincipalCV=G.principalCV=G.responseErrorCV=G.responseOkCV=G.optionalCVOf=G.someCV=G.noneCV=G.bufferCVFromString=G.bufferCV=G.uintCV=G.intCV=G.falseCV=G.trueCV=G.boolCV=G.ClarityType=void 0;var qc=Nh();Object.defineProperty(G,"getCVTypeString",{enumerable:!0,get:function(){return qc.getCVTypeString}});Object.defineProperty(G,"cvToString",{enumerable:!0,get:function(){return qc.cvToString}});Object.defineProperty(G,"cvToJSON",{enumerable:!0,get:function(){return qc.cvToJSON}});Object.defineProperty(G,"cvToValue",{enumerable:!0,get:function(){return qc.cvToValue}});var s7=Lr();Object.defineProperty(G,"ClarityType",{enumerable:!0,get:function(){return s7.ClarityType}});var al=Vh();Object.defineProperty(G,"trueCV",{enumerable:!0,get:function(){return al.trueCV}});Object.defineProperty(G,"falseCV",{enumerable:!0,get:function(){return al.falseCV}});Object.defineProperty(G,"boolCV",{enumerable:!0,get:function(){return al.boolCV}});var ug=jh();Object.defineProperty(G,"intCV",{enumerable:!0,get:function(){return ug.intCV}});Object.defineProperty(G,"uintCV",{enumerable:!0,get:function(){return ug.uintCV}});var lg=Gh();Object.defineProperty(G,"bufferCV",{enumerable:!0,get:function(){return lg.bufferCV}});Object.defineProperty(G,"bufferCVFromString",{enumerable:!0,get:function(){return lg.bufferCVFromString}});var cl=Zh();Object.defineProperty(G,"noneCV",{enumerable:!0,get:function(){return cl.noneCV}});Object.defineProperty(G,"someCV",{enumerable:!0,get:function(){return cl.someCV}});Object.defineProperty(G,"optionalCVOf",{enumerable:!0,get:function(){return cl.optionalCVOf}});var hg=Qh();Object.defineProperty(G,"responseOkCV",{enumerable:!0,get:function(){return hg.responseOkCV}});Object.defineProperty(G,"responseErrorCV",{enumerable:!0,get:function(){return hg.responseErrorCV}});var ji=Ca();Object.defineProperty(G,"standardPrincipalCV",{enumerable:!0,get:function(){return ji.standardPrincipalCV}});Object.defineProperty(G,"contractPrincipalCV",{enumerable:!0,get:function(){return ji.contractPrincipalCV}});Object.defineProperty(G,"standardPrincipalCVFromAddress",{enumerable:!0,get:function(){return ji.standardPrincipalCVFromAddress}});Object.defineProperty(G,"contractPrincipalCVFromAddress",{enumerable:!0,get:function(){return ji.contractPrincipalCVFromAddress}});Object.defineProperty(G,"contractPrincipalCVFromStandard",{enumerable:!0,get:function(){return ji.contractPrincipalCVFromStandard}});Object.defineProperty(G,"principalCV",{enumerable:!0,get:function(){return ji.principalCV}});Object.defineProperty(G,"principalToString",{enumerable:!0,get:function(){return ji.principalToString}});var o7=eb();Object.defineProperty(G,"listCV",{enumerable:!0,get:function(){return o7.listCV}});var a7=tb();Object.defineProperty(G,"tupleCV",{enumerable:!0,get:function(){return a7.tupleCV}});var fl=Pa();Object.defineProperty(G,"stringUtf8CV",{enumerable:!0,get:function(){return fl.stringUtf8CV}});Object.defineProperty(G,"stringAsciiCV",{enumerable:!0,get:function(){return fl.stringAsciiCV}});Object.defineProperty(G,"stringCV",{enumerable:!0,get:function(){return fl.stringCV}});var c7=og();Object.defineProperty(G,"serializeCV",{enumerable:!0,get:function(){return c7.serializeCV}});var f7=i7(dg());G.deserializeCV=f7.default});var zr=R(ee=>{C();x();var d7=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ee,"__esModule",{value:!0});ee.addHex=ee.postConditionFromString=ee.hexToBuff=ee.validateTxId=ee.validateStacksAddress=ee.parseReadOnlyResponse=ee.hexToCV=ee.cvToHex=ee.isClarityName=ee.hashP2WSH=ee.hashP2SH=ee.hashP2WPKH=ee.hashP2PKH=ee.hash160=ee.txidFromData=ee.omit=ee.cloneDeep=ee.exceedsMaxLengthBytes=ee.rightPadHexToLength=ee.leftPadHexToLength=ee.leftPadHex=ee.randomBytes=void 0;var ea=Nr(),Rr=we(),u7=es(),l7=d7(Eh()),pg=qn(),bg=Zs(),h7=e=>ea.base.randomBytes(Number(e));ee.randomBytes=h7;var b7=e=>e.length%2==0?e:`0${e}`;ee.leftPadHex=b7;var p7=(e,t)=>e.padStart(t,"0");ee.leftPadHexToLength=p7;var y7=(e,t)=>e.padEnd(t,"0");ee.rightPadHexToLength=y7;var g7=(e,t)=>e?(0,Rr.utf8ToBytes)(e).length>t:!1;ee.exceedsMaxLengthBytes=g7;function yg(e){return(0,l7.default)(e)}ee.cloneDeep=yg;function m7(e,t){let r=yg(e);return delete r[t],r}ee.omit=m7;var v7=e=>(0,Rr.bytesToHex)(ea.base.sha512_256(e));ee.txidFromData=v7;var _7=e=>ea.base.ripemd160(ea.base.sha256(e));ee.hash160=_7;var S7=e=>(0,Rr.bytesToHex)((0,ee.hash160)(e));ee.hashP2PKH=S7;var w7=e=>{let t=(0,ee.hash160)(e),r=(0,Rr.concatBytes)(new Uint8Array([0]),new Uint8Array([t.length]),t),n=(0,ee.hash160)(r);return(0,Rr.bytesToHex)(n)};ee.hashP2WPKH=w7;var C7=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(s=>{r.push(s.length),r.push(s)}),r.push(80+t.length),r.push(174);let n=(0,Rr.concatArray)(r),i=(0,ee.hash160)(n);return(0,Rr.bytesToHex)(i)};ee.hashP2SH=C7;var x7=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(d=>{r.push(d.length),r.push(d)}),r.push(80+t.length),r.push(174);let n=(0,Rr.concatArray)(r),i=ea.base.sha256(n),s=[];s.push(0),s.push(i.length),s.push(i);let o=(0,Rr.concatArray)(s),c=(0,ee.hash160)(o);return(0,Rr.bytesToHex)(c)};ee.hashP2WSH=x7;function T7(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}ee.isClarityName=T7;function E7(e){let t=(0,pg.serializeCV)(e);return`0x${(0,Rr.bytesToHex)(t)}`}ee.cvToHex=E7;function gg(e){return(0,pg.deserializeCV)(e)}ee.hexToCV=gg;var P7=e=>{if(e.okay)return gg(e.result);throw new Error(e.cause)};ee.parseReadOnlyResponse=P7;var A7=e=>{try{return(0,u7.c32addressDecode)(e),!0}catch{return!1}};ee.validateStacksAddress=A7;var M7=e=>{if(e==="success")return!0;let t=(0,Rr.with0x)(e).toLowerCase();return t.length!==66?!1:(0,Rr.with0x)(BigInt(t).toString(16).padStart(64,"0"))===t};ee.validateTxId=M7;function I7(e){return B.Buffer.from(B7(e),"hex")}ee.hexToBuff=I7;function B7(e){return e.startsWith("0x")?e.replace("0x",""):e}function O7(e){let t=new bg.BytesReader((0,Rr.hexToBytes)(e));return(0,bg.deserializePostCondition)(t)}ee.postConditionFromString=O7;function k7(e){return e.startsWith("0x")?e:`0x${e}`}ee.addHex=k7});var Js=R(re=>{C();x();Object.defineProperty(re,"__esModule",{value:!0});re.deserializeAuthorization=re.serializeAuthorization=re.setSponsor=re.setSponsorNonce=re.setNonce=re.getFee=re.setFee=re.verifyOrigin=re.intoInitialSighashAuth=re.createSponsoredAuth=re.createStandardAuth=re.nextVerification=re.nextSignature=re.makeSigHashPreSign=re.deserializeSpendingCondition=re.serializeSpendingCondition=re.deserializeMultiSigSpendingCondition=re.deserializeSingleSigSpendingCondition=re.serializeMultiSigSpendingCondition=re.serializeSingleSigSpendingCondition=re.isSingleSig=re.createMultiSigSpendingCondition=re.createSingleSigSpendingCondition=re.emptyMessageSignature=void 0;var _e=we(),de=or(),Dc=zr(),_g=Wo(),mi=yi(),on=pi(),Hr=Hn();function Kc(){return{type:de.StacksMessageType.MessageSignature,data:(0,_e.bytesToHex)(new Uint8Array(de.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES))}}re.emptyMessageSignature=Kc;function dl(e,t,r,n){let i=(0,mi.addressFromPublicKeys)(0,e,1,[(0,on.createStacksPublicKey)(t)]).hash160,s=(0,on.isCompressed)((0,on.createStacksPublicKey)(t))?de.PubKeyEncoding.Compressed:de.PubKeyEncoding.Uncompressed;return{hashMode:e,signer:i,nonce:(0,_e.intToBigInt)(r,!1),fee:(0,_e.intToBigInt)(n,!1),keyEncoding:s,signature:Kc()}}re.createSingleSigSpendingCondition=dl;function R7(e,t,r,n,i){let s=r.map(on.createStacksPublicKey),o=(0,mi.addressFromPublicKeys)(0,e,t,s).hash160;return{hashMode:e,signer:o,nonce:(0,_e.intToBigInt)(n,!1),fee:(0,_e.intToBigInt)(i,!1),fields:[],signaturesRequired:t}}re.createMultiSigSpendingCondition=R7;function Uc(e){return"signature"in e}re.isSingleSig=Uc;function mg(e){let t=(0,Dc.cloneDeep)(e);return t.nonce=0,t.fee=0,Uc(t)?t.signature=Kc():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function Sg(e){let t=[e.hashMode,(0,_e.hexToBytes)(e.signer),(0,_e.intToBytes)(e.nonce,!1,8),(0,_e.intToBytes)(e.fee,!1,8),e.keyEncoding,(0,_g.serializeMessageSignature)(e.signature)];return(0,_e.concatArray)(t)}re.serializeSingleSigSpendingCondition=Sg;function wg(e){let t=[e.hashMode,(0,_e.hexToBytes)(e.signer),(0,_e.intToBytes)(e.nonce,!1,8),(0,_e.intToBytes)(e.fee,!1,8)],r=(0,mi.createLPList)(e.fields);t.push((0,mi.serializeLPList)(r));let n=new Uint8Array(2);return(0,_e.writeUInt16BE)(n,e.signaturesRequired,0),t.push(n),(0,_e.concatArray)(t)}re.serializeMultiSigSpendingCondition=wg;function Cg(e,t){let r=(0,_e.bytesToHex)(t.readBytes(20)),n=BigInt(`0x${(0,_e.bytesToHex)(t.readBytes(8))}`),i=BigInt(`0x${(0,_e.bytesToHex)(t.readBytes(8))}`),s=t.readUInt8Enum(de.PubKeyEncoding,c=>{throw new Hr.DeserializationError(`Could not parse ${c} as PubKeyEncoding`)});if(e===de.AddressHashMode.SerializeP2WPKH&&s!=de.PubKeyEncoding.Compressed)throw new Hr.DeserializationError("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");let o=(0,_g.deserializeMessageSignature)(t);return{hashMode:e,signer:r,nonce:n,fee:i,keyEncoding:s,signature:o}}re.deserializeSingleSigSpendingCondition=Cg;function xg(e,t){let r=(0,_e.bytesToHex)(t.readBytes(20)),n=BigInt("0x"+(0,_e.bytesToHex)(t.readBytes(8))),i=BigInt("0x"+(0,_e.bytesToHex)(t.readBytes(8))),s=(0,mi.deserializeLPList)(t,de.StacksMessageType.TransactionAuthField).values,o=!1,c=0;for(let l of s)switch(l.contents.type){case de.StacksMessageType.PublicKey:(0,on.isCompressed)(l.contents)||(o=!0);break;case de.StacksMessageType.MessageSignature:if(l.pubKeyEncoding===de.PubKeyEncoding.Uncompressed&&(o=!0),c+=1,c===65536)throw new Hr.VerificationError("Failed to parse multisig spending condition: too many signatures");break}let d=t.readUInt16BE();if(o&&e===de.AddressHashMode.SerializeP2SH)throw new Hr.VerificationError("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:r,nonce:n,fee:i,fields:s,signaturesRequired:d}}re.deserializeMultiSigSpendingCondition=xg;function Hc(e){return Uc(e)?Sg(e):wg(e)}re.serializeSpendingCondition=Hc;function Vc(e){let t=e.readUInt8Enum(de.AddressHashMode,r=>{throw new Hr.DeserializationError(`Could not parse ${r} as AddressHashMode`)});return t===de.AddressHashMode.SerializeP2PKH||t===de.AddressHashMode.SerializeP2WPKH?Cg(t,e):xg(t,e)}re.deserializeSpendingCondition=Vc;function ul(e,t,r,n){let s=e+(0,_e.bytesToHex)(new Uint8Array([t]))+(0,_e.bytesToHex)((0,_e.intToBytes)(r,!1,8))+(0,_e.bytesToHex)((0,_e.intToBytes)(n,!1,8));if((0,_e.hexToBytes)(s).byteLength!==49)throw Error("Invalid signature hash length");return(0,Dc.txidFromData)((0,_e.hexToBytes)(s))}re.makeSigHashPreSign=ul;function Tg(e,t,r){let n=33+de.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES,i=(0,on.isCompressed)(t)?de.PubKeyEncoding.Compressed:de.PubKeyEncoding.Uncompressed,s=e+(0,Dc.leftPadHex)(i.toString(16))+r.data,o=(0,_e.hexToBytes)(s);if(o.byteLength>n)throw Error("Invalid signature hash length");return(0,Dc.txidFromData)(o)}function N7(e,t,r,n,i){let s=ul(e,t,r,n),o=(0,on.signWithKey)(i,s),c=(0,on.getPublicKey)(i),d=Tg(s,c,o);return{nextSig:o,nextSigHash:d}}re.nextSignature=N7;function ll(e,t,r,n,i,s){let o=ul(e,t,r,n),c=(0,on.createStacksPublicKey)((0,on.publicKeyFromSignatureVrs)(o,s,i)),d=Tg(o,c,s);return{pubKey:c,nextSigHash:d}}re.nextVerification=ll;function L7(){let e=dl(de.AddressHashMode.SerializeP2PKH,"",0,0);return e.signer=(0,mi.createEmptyAddress)().hash160,e.keyEncoding=de.PubKeyEncoding.Compressed,e.signature=Kc(),e}function vg(e,t,r){return Uc(e)?q7(e,t,r):H7(e,t,r)}function q7(e,t,r){let{pubKey:n,nextSigHash:i}=ll(t,r,e.fee,e.nonce,e.keyEncoding,e.signature),s=(0,mi.addressFromPublicKeys)(0,e.hashMode,1,[n]).hash160;if(s!==e.signer)throw new Hr.VerificationError(`Signer hash does not equal hash of public key(s): ${s} != ${e.signer}`);return i}function H7(e,t,r){let n=[],i=t,s=!1,o=0;for(let d of e.fields){let l;switch(d.contents.type){case de.StacksMessageType.PublicKey:(0,on.isCompressed)(d.contents)||(s=!0),l=d.contents;break;case de.StacksMessageType.MessageSignature:d.pubKeyEncoding===de.PubKeyEncoding.Uncompressed&&(s=!0);let{pubKey:p,nextSigHash:b}=ll(i,r,e.fee,e.nonce,d.pubKeyEncoding,d.contents);if(i=b,l=p,o+=1,o===65536)throw new Hr.VerificationError("Too many signatures");break}n.push(l)}if(o!==e.signaturesRequired)throw new Hr.VerificationError("Incorrect number of signatures");if(s&&e.hashMode===de.AddressHashMode.SerializeP2SH)throw new Hr.VerificationError("Uncompressed keys are not allowed in this hash mode");let c=(0,mi.addressFromPublicKeys)(0,e.hashMode,e.signaturesRequired,n).hash160;if(c!==e.signer)throw new Hr.VerificationError(`Signer hash does not equal hash of public key(s): ${c} != ${e.signer}`);return i}function hl(e){return{authType:de.AuthType.Standard,spendingCondition:e}}re.createStandardAuth=hl;function bl(e,t){return{authType:de.AuthType.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||dl(de.AddressHashMode.SerializeP2PKH,"0".repeat(66),0,0)}}re.createSponsoredAuth=bl;function V7(e){if(e.spendingCondition)switch(e.authType){case de.AuthType.Standard:return hl(mg(e.spendingCondition));case de.AuthType.Sponsored:return bl(mg(e.spendingCondition),L7());default:throw new Hr.SigningError("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}re.intoInitialSighashAuth=V7;function D7(e,t){switch(e.authType){case de.AuthType.Standard:return vg(e.spendingCondition,t,de.AuthType.Standard);case de.AuthType.Sponsored:return vg(e.spendingCondition,t,de.AuthType.Standard);default:throw new Hr.SigningError("Invalid origin auth type")}}re.verifyOrigin=D7;function K7(e,t){switch(e.authType){case de.AuthType.Standard:let r={...e.spendingCondition,fee:(0,_e.intToBigInt)(t,!1)};return{...e,spendingCondition:r};case de.AuthType.Sponsored:let n={...e.sponsorSpendingCondition,fee:(0,_e.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:n}}}re.setFee=K7;function U7(e){switch(e.authType){case de.AuthType.Standard:return e.spendingCondition.fee;case de.AuthType.Sponsored:return e.sponsorSpendingCondition.fee}}re.getFee=U7;function z7(e,t){let r={...e.spendingCondition,nonce:(0,_e.intToBigInt)(t,!1)};return{...e,spendingCondition:r}}re.setNonce=z7;function F7(e,t){let r={...e.sponsorSpendingCondition,nonce:(0,_e.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:r}}re.setSponsorNonce=F7;function j7(e,t){let r={...t,nonce:(0,_e.intToBigInt)(t.nonce,!1),fee:(0,_e.intToBigInt)(t.fee,!1)};return{...e,sponsorSpendingCondition:r}}re.setSponsor=j7;function $7(e){let t=[];switch(t.push(e.authType),e.authType){case de.AuthType.Standard:t.push(Hc(e.spendingCondition));break;case de.AuthType.Sponsored:t.push(Hc(e.spendingCondition)),t.push(Hc(e.sponsorSpendingCondition));break}return(0,_e.concatArray)(t)}re.serializeAuthorization=$7;function G7(e){let t=e.readUInt8Enum(de.AuthType,n=>{throw new Hr.DeserializationError(`Could not parse ${n} as AuthType`)}),r;switch(t){case de.AuthType.Standard:return r=Vc(e),hl(r);case de.AuthType.Sponsored:r=Vc(e);let n=Vc(e);return bl(r,n)}}re.deserializeAuthorization=G7});var Eg=R(Xe=>{C();x();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.StacksDevnet=Xe.StacksMocknet=Xe.StacksTestnet=Xe.StacksMainnet=Xe.StacksNetwork=Xe.StacksNetworks=Xe.HIRO_MOCKNET_DEFAULT=Xe.HIRO_TESTNET_DEFAULT=Xe.HIRO_MAINNET_DEFAULT=void 0;var Vn=we();Xe.HIRO_MAINNET_DEFAULT="https://stacks-node-api.mainnet.stacks.co";Xe.HIRO_TESTNET_DEFAULT="https://stacks-node-api.testnet.stacks.co";Xe.HIRO_MOCKNET_DEFAULT="http://localhost:3999";Xe.StacksNetworks=["mainnet","testnet","devnet","mocknet"];var Dn=class{constructor(t){this.version=Vn.TransactionVersion.Mainnet,this.chainId=Vn.ChainID.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===Vn.TransactionVersion.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=r=>`${this.coreApiUrl}${this.accountEndpoint}/${r}?proof=0`,this.getAccountExtendedBalancesApiUrl=r=>`${this.coreApiUrl}/extended/v1/address/${r}/balances`,this.getAbiApiUrl=(r,n)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${r}/${n}`,this.getReadOnlyFunctionCallApiUrl=(r,n,i)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${r}/${n}/${encodeURIComponent(i)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(r,n)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${r}`;return n&&(i=`${i}?limit=${n.limit}&offset=${n.offset}`),i},this.getRewardsTotalUrl=r=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${r}/total`,this.getRewardHoldersUrl=(r,n)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${r}`;return n&&(i=`${i}?limit=${n.limit}&offset=${n.offset}`),i},this.getStackerInfoUrl=(r,n)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${r}/${n}/get-stacker-info`,this.getDataVarUrl=(r,n,i)=>`${this.coreApiUrl}/v2/data_var/${r}/${n}/${i}?proof=0`,this.getMapEntryUrl=(r,n,i)=>`${this.coreApiUrl}/v2/map_entry/${r}/${n}/${i}?proof=0`,this.coreApiUrl=t.url}};Xe.StacksNetwork=Dn;Dn.fromName=e=>{switch(e){case"mainnet":return new zc;case"testnet":return new Fc;case"devnet":return new Xe.StacksDevnet;case"mocknet":return new ta;default:throw new Error(`Invalid network name provided. Must be one of the following: ${Xe.StacksNetworks.join(", ")}`)}};Dn.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:Dn.fromName(e);var zc=class extends Dn{constructor(t){super({url:t?.url??Xe.HIRO_MAINNET_DEFAULT}),this.version=Vn.TransactionVersion.Mainnet,this.chainId=Vn.ChainID.Mainnet}};Xe.StacksMainnet=zc;var Fc=class extends Dn{constructor(t){super({url:t?.url??Xe.HIRO_TESTNET_DEFAULT}),this.version=Vn.TransactionVersion.Testnet,this.chainId=Vn.ChainID.Testnet}};Xe.StacksTestnet=Fc;var ta=class extends Dn{constructor(t){super({url:t?.url??Xe.HIRO_MOCKNET_DEFAULT}),this.version=Vn.TransactionVersion.Testnet,this.chainId=Vn.ChainID.Testnet}};Xe.StacksMocknet=ta;Xe.StacksDevnet=ta});var ra=R($i=>{C();x();var W7=$i&&$i.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),X7=$i&&$i.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&W7(t,e,r)};Object.defineProperty($i,"__esModule",{value:!0});X7(Eg(),$i)});var pl=R(vi=>{C();x();Object.defineProperty(vi,"__esModule",{value:!0});vi.createNonFungiblePostCondition=vi.createFungiblePostCondition=vi.createSTXPostCondition=void 0;var Pg=we(),Qs=or(),na=Tn();function Y7(e,t,r){return typeof e=="string"&&(e=(0,na.parsePrincipalString)(e)),{type:Qs.StacksMessageType.PostCondition,conditionType:Qs.PostConditionType.STX,principal:e,conditionCode:t,amount:(0,Pg.intToBigInt)(r,!1)}}vi.createSTXPostCondition=Y7;function Z7(e,t,r,n){return typeof e=="string"&&(e=(0,na.parsePrincipalString)(e)),typeof n=="string"&&(n=(0,na.parseAssetInfoString)(n)),{type:Qs.StacksMessageType.PostCondition,conditionType:Qs.PostConditionType.Fungible,principal:e,conditionCode:t,amount:(0,Pg.intToBigInt)(r,!1),assetInfo:n}}vi.createFungiblePostCondition=Z7;function J7(e,t,r,n){return typeof e=="string"&&(e=(0,na.parsePrincipalString)(e)),typeof r=="string"&&(r=(0,na.parseAssetInfoString)(r)),{type:Qs.StacksMessageType.PostCondition,conditionType:Qs.PostConditionType.NonFungible,principal:e,conditionCode:t,assetInfo:r,assetName:n}}vi.createNonFungiblePostCondition=J7});var vl=R(jc=>{C();x();Object.defineProperty(jc,"__esModule",{value:!0});jc.TransactionSigner=void 0;var yl=Js(),gl=zr(),eo=or(),to=Hn(),ml=class{constructor(t){this.transaction=t,this.sigHash=t.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0;let r=t.auth.spendingCondition;if(r&&!(0,yl.isSingleSig)(r)){if(r.fields.filter(n=>n.contents.type===eo.StacksMessageType.MessageSignature).length>=r.signaturesRequired)throw new Error("SpendingCondition has more signatures than are expected");r.fields.forEach(n=>{if(n.contents.type===eo.StacksMessageType.MessageSignature){let i=n.contents,s=(0,yl.nextVerification)(this.sigHash,t.auth.authType,r.fee,r.nonce,eo.PubKeyEncoding.Compressed,i);this.sigHash=s.nextSigHash}})}}static createSponsorSigner(t,r){if(t.auth.authType!=eo.AuthType.Sponsored)throw new to.SigningError("Cannot add sponsor to non-sponsored transaction");let n=(0,gl.cloneDeep)(t);n.setSponsor(r);let i=n.verifyOrigin(),s=new this(n);return s.originDone=!0,s.sigHash=i,s.checkOversign=!0,s.checkOverlap=!0,s}signOrigin(t){if(this.checkOverlap&&this.originDone)throw new to.SigningError("Cannot sign origin after sponsor key");if(this.transaction.auth===void 0)throw new to.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new to.SigningError('"transaction.auth.spendingCondition" is undefined');if(!(0,yl.isSingleSig)(this.transaction.auth.spendingCondition)){let n=this.transaction.auth.spendingCondition;if(this.checkOversign&&n.fields.filter(i=>i.contents.type===eo.StacksMessageType.MessageSignature).length>=n.signaturesRequired)throw new Error("Origin would have too many signatures")}let r=this.transaction.signNextOrigin(this.sigHash,t);this.sigHash=r}appendOrigin(t){if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(this.transaction.auth===void 0)throw new Error('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(t)}signSponsor(t){if(this.transaction.auth===void 0)throw new to.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.authType!==eo.AuthType.Sponsored)throw new to.SigningError('"transaction.auth.authType" is not AuthType.Sponsored');let r=this.transaction.signNextSponsor(this.sigHash,t);this.sigHash=r,this.originDone=!0}getTxInComplete(){return(0,gl.cloneDeep)(this.transaction)}resume(t){this.transaction=(0,gl.cloneDeep)(t),this.sigHash=t.signBegin()}};jc.TransactionSigner=ml});var Cl=R(no=>{C();x();Object.defineProperty(no,"__esModule",{value:!0});no.deserializeTransaction=no.StacksTransaction=void 0;var ro=we(),Ye=or(),Yr=Js(),Ag=Wo(),_l=zr(),Mg=zs(),wl=yi(),Q7=pi(),Sl=Nc(),Gi=Hn(),$c=class{constructor(t,r,n,i,s,o,c){if(this.version=t,this.auth=r,"amount"in n?this.payload={...n,amount:(0,ro.intToBigInt)(n.amount,!1)}:this.payload=n,this.chainId=c??Ye.DEFAULT_CHAIN_ID,this.postConditionMode=s??Ye.PostConditionMode.Deny,this.postConditions=i??(0,wl.createLPList)([]),o)this.anchorMode=(0,Ye.anchorModeFromNameOrValue)(o);else switch(n.payloadType){case Ye.PayloadType.Coinbase:case Ye.PayloadType.CoinbaseToAltRecipient:case Ye.PayloadType.PoisonMicroblock:{this.anchorMode=Ye.AnchorMode.OnChainOnly;break}case Ye.PayloadType.ContractCall:case Ye.PayloadType.SmartContract:case Ye.PayloadType.VersionedSmartContract:case Ye.PayloadType.TokenTransfer:{this.anchorMode=Ye.AnchorMode.Any;break}}}signBegin(){let t=(0,_l.cloneDeep)(this);return t.auth=(0,Yr.intoInitialSighashAuth)(t.auth),t.txid()}verifyBegin(){let t=(0,_l.cloneDeep)(this);return t.auth=(0,Yr.intoInitialSighashAuth)(t.auth),t.txid()}verifyOrigin(){return(0,Yr.verifyOrigin)(this.auth,this.verifyBegin())}signNextOrigin(t,r){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,Ye.AuthType.Standard,r)}signNextSponsor(t,r){if(this.auth.authType===Ye.AuthType.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,Ye.AuthType.Sponsored,r);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){let r=this.auth.spendingCondition;if(r&&!(0,Yr.isSingleSig)(r)){let n=(0,Q7.isCompressed)(t);r.fields.push((0,Ag.createTransactionAuthField)(n?Ye.PubKeyEncoding.Compressed:Ye.PubKeyEncoding.Uncompressed,t))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,r,n,i){let{nextSig:s,nextSigHash:o}=(0,Yr.nextSignature)(r,n,t.fee,t.nonce,i);if((0,Yr.isSingleSig)(t))t.signature=s;else{let c=(0,ro.bytesToHex)(i.data).endsWith("01");t.fields.push((0,Ag.createTransactionAuthField)(c?Ye.PubKeyEncoding.Compressed:Ye.PubKeyEncoding.Uncompressed,s))}return o}txid(){let t=this.serialize();return(0,_l.txidFromData)(t)}setSponsor(t){if(this.auth.authType!=Ye.AuthType.Sponsored)throw new Gi.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,Yr.setSponsor)(this.auth,t)}setFee(t){this.auth=(0,Yr.setFee)(this.auth,t)}setNonce(t){this.auth=(0,Yr.setNonce)(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=Ye.AuthType.Sponsored)throw new Gi.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,Yr.setSponsorNonce)(this.auth,t)}serialize(){if(this.version===void 0)throw new Gi.SerializationError('"version" is undefined');if(this.chainId===void 0)throw new Gi.SerializationError('"chainId" is undefined');if(this.auth===void 0)throw new Gi.SerializationError('"auth" is undefined');if(this.anchorMode===void 0)throw new Gi.SerializationError('"anchorMode" is undefined');if(this.payload===void 0)throw new Gi.SerializationError('"payload" is undefined');let t=[];t.push(this.version);let r=new Uint8Array(4);return(0,ro.writeUInt32BE)(r,this.chainId,0),t.push(r),t.push((0,Yr.serializeAuthorization)(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push((0,wl.serializeLPList)(this.postConditions)),t.push((0,Mg.serializePayload)(this.payload)),(0,ro.concatArray)(t)}};no.StacksTransaction=$c;function e9(e){let t;typeof e=="string"?e.slice(0,2).toLowerCase()==="0x"?t=new Sl.BytesReader((0,ro.hexToBytes)(e.slice(2))):t=new Sl.BytesReader((0,ro.hexToBytes)(e)):e instanceof Uint8Array?t=new Sl.BytesReader(e):t=e;let r=t.readUInt8Enum(Ye.TransactionVersion,l=>{throw new Error(`Could not parse ${l} as TransactionVersion`)}),n=t.readUInt32BE(),i=(0,Yr.deserializeAuthorization)(t),s=t.readUInt8Enum(Ye.AnchorMode,l=>{throw new Error(`Could not parse ${l} as AnchorMode`)}),o=t.readUInt8Enum(Ye.PostConditionMode,l=>{throw new Error(`Could not parse ${l} as PostConditionMode`)}),c=(0,wl.deserializeLPList)(t,Ye.StacksMessageType.PostCondition),d=(0,Mg.deserializePayload)(t);return new $c(r,i,d,c,o,s,n)}no.deserializeTransaction=e9});var El=R(Je=>{C();x();Object.defineProperty(Je,"__esModule",{value:!0});Je.makeContractDeploy=Je.makeUnsignedContractDeploy=Je.estimateTransactionByteLength=Je.makeContractNonFungiblePostCondition=Je.makeStandardNonFungiblePostCondition=Je.makeContractFungiblePostCondition=Je.makeStandardFungiblePostCondition=Je.makeContractSTXPostCondition=Je.makeStandardSTXPostCondition=Je.makeContractCall=Je.makeUnsignedContractCall=void 0;var Ig=we(),Gc=ra(),Wi=Js(),vn=or(),Zr=pi(),Og=zs(),io=pl(),so=Tn(),xl=vl(),kg=Cl(),Rg=yi(),Bg=zr();async function Tl(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Gc.StacksMainnet,postConditionMode:vn.PostConditionMode.Deny,sponsored:!1},r=Object.assign(t,e),n=(0,Og.createContractCallPayload)(r.contractAddress,r.contractName,r.functionName,r.functionArgs),i=null,s=null;"publicKey"in r?i=(0,Wi.createSingleSigSpendingCondition)(vn.AddressHashMode.SerializeP2PKH,r.publicKey,r.nonce,r.fee):i=(0,Wi.createMultiSigSpendingCondition)(vn.AddressHashMode.SerializeP2SH,r.numSignatures,r.publicKeys,r.nonce,r.fee),r.sponsored?s=(0,Wi.createSponsoredAuth)(i):s=(0,Wi.createStandardAuth)(i);let o=Gc.StacksNetwork.fromNameOrNetwork(r.network),c=[];r.postConditions&&r.postConditions.length>0&&r.postConditions.forEach(p=>{c.push(p)});let d=(0,Rg.createLPList)(c);return new kg.StacksTransaction(o.version,s,n,d,r.postConditionMode,r.anchorMode,o.chainId)}Je.makeUnsignedContractCall=Tl;async function t9(e){if("senderKey"in e){let t=(0,Zr.publicKeyToString)((0,Zr.getPublicKey)((0,Zr.createStacksPrivateKey)(e.senderKey))),r=(0,Bg.omit)(e,"senderKey"),n=await Tl({publicKey:t,...r}),i=(0,Zr.createStacksPrivateKey)(e.senderKey);return new xl.TransactionSigner(n).signOrigin(i),n}else{let t=(0,Bg.omit)(e,"signerKeys"),r=await Tl(t),n=new xl.TransactionSigner(r),i=e.publicKeys;for(let s of e.signerKeys){let o=(0,Zr.pubKeyfromPrivKey)(s);i=i.filter(c=>c!==(0,Ig.bytesToHex)(o.data)),n.signOrigin((0,Zr.createStacksPrivateKey)(s))}for(let s of i)n.appendOrigin((0,Zr.publicKeyFromBytes)((0,Ig.hexToBytes)(s)));return r}}Je.makeContractCall=t9;function r9(e,t,r){return(0,io.createSTXPostCondition)((0,so.createStandardPrincipal)(e),t,r)}Je.makeStandardSTXPostCondition=r9;function n9(e,t,r,n){return(0,io.createSTXPostCondition)((0,so.createContractPrincipal)(e,t),r,n)}Je.makeContractSTXPostCondition=n9;function i9(e,t,r,n){return(0,io.createFungiblePostCondition)((0,so.createStandardPrincipal)(e),t,r,n)}Je.makeStandardFungiblePostCondition=i9;function s9(e,t,r,n,i){return(0,io.createFungiblePostCondition)((0,so.createContractPrincipal)(e,t),r,n,i)}Je.makeContractFungiblePostCondition=s9;function o9(e,t,r,n){return(0,io.createNonFungiblePostCondition)((0,so.createStandardPrincipal)(e),t,r,n)}Je.makeStandardNonFungiblePostCondition=o9;function a9(e,t,r,n,i){return(0,io.createNonFungiblePostCondition)((0,so.createContractPrincipal)(e,t),r,n,i)}Je.makeContractNonFungiblePostCondition=a9;function c9(e){let t=e.auth.spendingCondition.hashMode;if([vn.AddressHashMode.SerializeP2SH,vn.AddressHashMode.SerializeP2WSH].includes(t)){let n=e.auth.spendingCondition,i=n.fields.filter(o=>o.contents.type===vn.StacksMessageType.MessageSignature).length,s=(n.signaturesRequired-i)*(vn.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES+1);return e.serialize().byteLength+s}else return e.serialize().byteLength}Je.estimateTransactionByteLength=c9;async function Ng(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Gc.StacksMainnet,postConditionMode:vn.PostConditionMode.Deny,sponsored:!1,clarityVersion:vn.ClarityVersion.Clarity2},r=Object.assign(t,e),n=(0,Og.createSmartContractPayload)(r.contractName,r.codeBody,r.clarityVersion),i=vn.AddressHashMode.SerializeP2PKH,s=(0,Zr.createStacksPublicKey)(r.publicKey),o=null,c=(0,Wi.createSingleSigSpendingCondition)(i,(0,Zr.publicKeyToString)(s),r.nonce,r.fee);r.sponsored?o=(0,Wi.createSponsoredAuth)(c):o=(0,Wi.createStandardAuth)(c);let d=Gc.StacksNetwork.fromNameOrNetwork(r.network),l=[];r.postConditions&&r.postConditions.length>0&&r.postConditions.forEach(E=>{l.push(E)});let p=(0,Rg.createLPList)(l);return new kg.StacksTransaction(d.version,o,n,p,r.postConditionMode,r.anchorMode,d.chainId)}Je.makeUnsignedContractDeploy=Ng;async function f9(e){let t=(0,Zr.createStacksPrivateKey)(e.senderKey),r=(0,Zr.getPublicKey)(t),n=(0,Zr.publicKeyToString)(r),i={...e,publicKey:n},s=await Ng(i);return e.senderKey&&new xl.TransactionSigner(s).signOrigin(t),s}Je.makeContractDeploy=f9});var Lg=R(be=>{C();x();Object.defineProperty(be,"__esModule",{value:!0});be.deserialize=be.serialize=be.tuple=be.error=be.ok=be.some=be.none=be.bufferFromUtf8=be.bufferFromAscii=be.bufferFromHex=be.buffer=be.stringUtf8=be.stringAscii=be.list=be.standardPrincipal=be.contractPrincipal=be.uint=be.int=be.bool=void 0;var Pl=we(),jt=qn();be.bool=jt.boolCV;be.int=jt.intCV;be.uint=jt.uintCV;be.contractPrincipal=jt.contractPrincipalCV;be.standardPrincipal=jt.standardPrincipalCV;be.list=jt.listCV;be.stringAscii=jt.stringAsciiCV;be.stringUtf8=jt.stringUtf8CV;be.buffer=jt.bufferCV;var d9=e=>(0,jt.bufferCV)((0,Pl.hexToBytes)(e));be.bufferFromHex=d9;var u9=e=>(0,jt.bufferCV)((0,Pl.asciiToBytes)(e));be.bufferFromAscii=u9;var l9=e=>(0,jt.bufferCV)((0,Pl.utf8ToBytes)(e));be.bufferFromUtf8=l9;be.none=jt.noneCV;be.some=jt.someCV;be.ok=jt.responseOkCV;be.error=jt.responseErrorCV;be.tuple=jt.tupleCV;be.serialize=jt.serializeCV;be.deserialize=jt.deserializeCV});var Vg=R(J=>{C();x();Object.defineProperty(J,"__esModule",{value:!0});J.parseToCV=J.validateContractCall=J.abiFunctionToString=J.getTypeString=J.encodeClarityValue=J.getTypeUnion=J.isClarityAbiList=J.isClarityAbiTuple=J.isClarityAbiOptional=J.isClarityAbiResponse=J.isClarityAbiStringUtf8=J.isClarityAbiStringAscii=J.isClarityAbiBuffer=J.isClarityAbiPrimitive=J.ClarityAbiTypeId=void 0;var h9=zr(),Ae=qn(),Wc=Hn(),qg=Pa(),Hg=we(),ce;(function(e){e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference"})(ce=J.ClarityAbiTypeId||(J.ClarityAbiTypeId={}));var b9=e=>typeof e=="string";J.isClarityAbiPrimitive=b9;var p9=e=>e.buffer!==void 0;J.isClarityAbiBuffer=p9;var y9=e=>e["string-ascii"]!==void 0;J.isClarityAbiStringAscii=y9;var g9=e=>e["string-utf8"]!==void 0;J.isClarityAbiStringUtf8=g9;var m9=e=>e.response!==void 0;J.isClarityAbiResponse=m9;var v9=e=>e.optional!==void 0;J.isClarityAbiOptional=v9;var _9=e=>e.tuple!==void 0;J.isClarityAbiTuple=_9;var S9=e=>e.list!==void 0;J.isClarityAbiList=S9;function Al(e){if((0,J.isClarityAbiPrimitive)(e)){if(e==="uint128")return{id:ce.ClarityAbiTypeUInt128,type:e};if(e==="int128")return{id:ce.ClarityAbiTypeInt128,type:e};if(e==="bool")return{id:ce.ClarityAbiTypeBool,type:e};if(e==="principal")return{id:ce.ClarityAbiTypePrincipal,type:e};if(e==="trait_reference")return{id:ce.ClarityAbiTypeTraitReference,type:e};if(e==="none")return{id:ce.ClarityAbiTypeNone,type:e};throw new Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(e)}`)}else{if((0,J.isClarityAbiBuffer)(e))return{id:ce.ClarityAbiTypeBuffer,type:e};if((0,J.isClarityAbiResponse)(e))return{id:ce.ClarityAbiTypeResponse,type:e};if((0,J.isClarityAbiOptional)(e))return{id:ce.ClarityAbiTypeOptional,type:e};if((0,J.isClarityAbiTuple)(e))return{id:ce.ClarityAbiTypeTuple,type:e};if((0,J.isClarityAbiList)(e))return{id:ce.ClarityAbiTypeList,type:e};if((0,J.isClarityAbiStringAscii)(e))return{id:ce.ClarityAbiTypeStringAscii,type:e};if((0,J.isClarityAbiStringUtf8)(e))return{id:ce.ClarityAbiTypeStringUtf8,type:e};throw new Error(`Unexpected Clarity ABI type: ${JSON.stringify(e)}`)}}J.getTypeUnion=Al;function w9(e,t){let r;switch(e.id!==void 0?r=e:r=Al(e),r.id){case ce.ClarityAbiTypeUInt128:return(0,Ae.uintCV)(t);case ce.ClarityAbiTypeInt128:return(0,Ae.intCV)(t);case ce.ClarityAbiTypeBool:if(t==="false"||t==="0")return(0,Ae.falseCV)();if(t==="true"||t==="1")return(0,Ae.trueCV)();throw new Error(`Unexpected Clarity bool value: ${JSON.stringify(t)}`);case ce.ClarityAbiTypePrincipal:if(t.includes(".")){let[s,o]=t.split(".");return(0,Ae.contractPrincipalCV)(s,o)}else return(0,Ae.standardPrincipalCV)(t);case ce.ClarityAbiTypeTraitReference:let[n,i]=t.split(".");return(0,Ae.contractPrincipalCV)(n,i);case ce.ClarityAbiTypeNone:return(0,Ae.noneCV)();case ce.ClarityAbiTypeBuffer:return(0,Ae.bufferCV)((0,Hg.utf8ToBytes)(t));case ce.ClarityAbiTypeStringAscii:return(0,qg.stringAsciiCV)(t);case ce.ClarityAbiTypeStringUtf8:return(0,qg.stringUtf8CV)(t);case ce.ClarityAbiTypeResponse:throw new Wc.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case ce.ClarityAbiTypeOptional:throw new Wc.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case ce.ClarityAbiTypeTuple:throw new Wc.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case ce.ClarityAbiTypeList:throw new Wc.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);default:throw new Error(`Unexpected Clarity type ID: ${JSON.stringify(r)}`)}}J.encodeClarityValue=w9;function Kn(e){if((0,J.isClarityAbiPrimitive)(e))return e==="int128"?"int":e==="uint128"?"uint":e;if((0,J.isClarityAbiBuffer)(e))return`(buff ${e.buffer.length})`;if((0,J.isClarityAbiStringAscii)(e))return`(string-ascii ${e["string-ascii"].length})`;if((0,J.isClarityAbiStringUtf8)(e))return`(string-utf8 ${e["string-utf8"].length})`;if((0,J.isClarityAbiResponse)(e))return`(response ${Kn(e.response.ok)} ${Kn(e.response.error)})`;if((0,J.isClarityAbiOptional)(e))return`(optional ${Kn(e.optional)})`;if((0,J.isClarityAbiTuple)(e))return`(tuple ${e.tuple.map(t=>`(${t.name} ${Kn(t.type)})`).join(" ")})`;if((0,J.isClarityAbiList)(e))return`(list ${e.list.length} ${Kn(e.list.type)})`;throw new Error(`Type string unsupported for Clarity type: ${JSON.stringify(e)}`)}J.getTypeString=Kn;function C9(e){return`(define-${e.access==="read_only"?"read-only":e.access} (${e.name} ${e.args.map(r=>`(${r.name} ${Kn(r.type)})`).join(" ")}))`}J.abiFunctionToString=C9;function oo(e,t){let r=Al(t);switch(e.type){case Ae.ClarityType.BoolTrue:case Ae.ClarityType.BoolFalse:return r.id===ce.ClarityAbiTypeBool;case Ae.ClarityType.Int:return r.id===ce.ClarityAbiTypeInt128;case Ae.ClarityType.UInt:return r.id===ce.ClarityAbiTypeUInt128;case Ae.ClarityType.Buffer:return r.id===ce.ClarityAbiTypeBuffer&&r.type.buffer.length>=e.buffer.length;case Ae.ClarityType.StringASCII:return r.id===ce.ClarityAbiTypeStringAscii&&r.type["string-ascii"].length>=e.data.length;case Ae.ClarityType.StringUTF8:return r.id===ce.ClarityAbiTypeStringUtf8&&r.type["string-utf8"].length>=e.data.length;case Ae.ClarityType.OptionalNone:return r.id===ce.ClarityAbiTypeNone||r.id===ce.ClarityAbiTypeOptional;case Ae.ClarityType.OptionalSome:return r.id===ce.ClarityAbiTypeOptional&&oo(e.value,r.type.optional);case Ae.ClarityType.ResponseErr:return r.id===ce.ClarityAbiTypeResponse&&oo(e.value,r.type.response.error);case Ae.ClarityType.ResponseOk:return r.id===ce.ClarityAbiTypeResponse&&oo(e.value,r.type.response.ok);case Ae.ClarityType.PrincipalContract:return r.id===ce.ClarityAbiTypePrincipal||r.id===ce.ClarityAbiTypeTraitReference;case Ae.ClarityType.PrincipalStandard:return r.id===ce.ClarityAbiTypePrincipal;case Ae.ClarityType.List:return r.id==ce.ClarityAbiTypeList&&r.type.list.length>=e.list.length&&e.list.every(n=>oo(n,r.type.list.type));case Ae.ClarityType.Tuple:if(r.id==ce.ClarityAbiTypeTuple){let n=(0,h9.cloneDeep)(e.data);for(let i=0;i<r.type.tuple.length;i++){let s=r.type.tuple[i],o=s.name,c=n[o];if(c){if(!oo(c,s.type))return!1;delete n[o]}else return!1}return!0}else return!1;default:return!1}}function x9(e,t){let r=t.functions.filter(n=>n.name===e.functionName.content);if(r.length===1){let i=r[0].args;if(e.functionArgs.length!==i.length)throw new Error(`Clarity function expects ${i.length} argument(s) but received ${e.functionArgs.length}`);for(let s=0;s<e.functionArgs.length;s++){let o=e.functionArgs[s],c=i[s];if(!oo(o,c.type)){let d=s+1;throw new Error(`Clarity function \`${e.functionName.content}\` expects argument ${d} to be of type ${Kn(c.type)}, not ${(0,Ae.getCVTypeString)(o)}`)}}return!0}else throw r.length===0?new Error(`ABI doesn't contain a function with the name ${e.functionName.content}`):new Error(`Malformed ABI. Contains multiple functions with the name ${e.functionName.content}`)}J.validateContractCall=x9;function T9(e,t){let r=Kn(t);if((0,J.isClarityAbiPrimitive)(t)){if(t==="uint128")return(0,Ae.uintCV)(e);if(t==="int128")return(0,Ae.intCV)(e);if(t==="bool"){if(e.toLowerCase()==="true")return(0,Ae.trueCV)();if(e.toLowerCase()==="false")return(0,Ae.falseCV)();throw new Error(`Invalid bool value: ${e}`)}else if(t==="principal")if(e.includes(".")){let[n,i]=e.split(".");return(0,Ae.contractPrincipalCV)(n,i)}else return(0,Ae.standardPrincipalCV)(e);else throw new Error(`Contract function contains unsupported Clarity ABI type: ${r}`)}else if((0,J.isClarityAbiBuffer)(t)){if((0,Hg.utf8ToBytes)(e).byteLength>t.buffer.length)throw new Error(`Input exceeds specified buffer length limit of ${t.buffer.length}`);return(0,Ae.bufferCVFromString)(e)}else throw(0,J.isClarityAbiResponse)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,J.isClarityAbiOptional)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,J.isClarityAbiTuple)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,J.isClarityAbiList)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):new Error(`Contract function contains unsupported Clarity ABI type: ${r}`)}J.parseToCV=T9});var Dg=R(Qc=>{C();x();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.principal=void 0;var ao=El(),Xi=or(),Xc=Tn();function E9(e){if(A9(e)){let[t,r]=Jc(e);return new Yc(t,r)}return new Yc(e,void 0)}Qc.principal=E9;var Yc=class{constructor(t,r){this.address=t,this.contractName=r}willSendEq(t){return new Yi(this.address,t,Xi.FungibleConditionCode.Equal,this.contractName)}willSendLte(t){return new Yi(this.address,t,Xi.FungibleConditionCode.LessEqual,this.contractName)}willSendLt(t){return new Yi(this.address,t,Xi.FungibleConditionCode.Less,this.contractName)}willSendGte(t){return new Yi(this.address,t,Xi.FungibleConditionCode.GreaterEqual,this.contractName)}willSendGt(t){return new Yi(this.address,t,Xi.FungibleConditionCode.Greater,this.contractName)}willSendAsset(){return new Zc(this.address,Xi.NonFungibleConditionCode.Sends,this.contractName)}willNotSendAsset(){return new Zc(this.address,Xi.NonFungibleConditionCode.DoesNotSend,this.contractName)}},Yi=class{constructor(t,r,n,i){this.address=t,this.amount=r,this.code=n,this.contractName=i}ustx(){return this.contractName?(0,ao.makeContractSTXPostCondition)(this.address,this.contractName,this.code,this.amount):(0,ao.makeStandardSTXPostCondition)(this.address,this.code,this.amount)}ft(t,r){let[n,i]=Jc(t);return this.contractName?(0,ao.makeContractFungiblePostCondition)(this.address,this.contractName,this.code,this.amount,(0,Xc.createAssetInfo)(n,i,r)):(0,ao.makeStandardFungiblePostCondition)(this.address,this.code,this.amount,(0,Xc.createAssetInfo)(n,i,r))}},Zc=class{constructor(t,r,n){this.principal=t,this.code=r,this.contractName=n}nft(...t){let{contractAddress:r,contractName:n,tokenName:i,assetId:s}=M9(...t);return this.contractName?(0,ao.makeContractNonFungiblePostCondition)(this.principal,this.contractName,this.code,(0,Xc.createAssetInfo)(r,n,i),s):(0,ao.makeStandardNonFungiblePostCondition)(this.principal,this.code,(0,Xc.createAssetInfo)(r,n,i),s)}};function Jc(e){let[t,r]=e.split(".");if(!t||!r)throw new Error(`Invalid contract identifier: ${e}`);return[t,r]}function P9(e){let[t,r]=e.split("::");if(!t||!r)throw new Error(`Invalid fully-qualified nft asset name: ${e}`);let[n,i]=Jc(t);return{contractAddress:n,contractName:i,tokenName:r}}function A9(e){return e.includes(".")}function M9(...e){if(e.length===2){let[o,c]=e;return{...P9(o),assetId:c}}let[t,r,n]=e,[i,s]=Jc(t);return{contractAddress:i,contractName:s,tokenName:r,assetId:n}}});var Fg=R(yr=>{C();x();Object.defineProperty(yr,"__esModule",{value:!0});yr.signStructuredData=yr.decodeStructuredDataSignature=yr.encodeStructuredData=yr.hashStructuredData=yr.STRUCTURED_DATA_PREFIX=void 0;var Ug=Nr(),Il=we(),ef=qn(),I9=or(),B9=pi();yr.STRUCTURED_DATA_PREFIX=new Uint8Array([83,73,80,48,49,56]);function Ml(e){return Ug.base.sha256((0,ef.serializeCV)(e))}yr.hashStructuredData=Ml;var Kg=32;function O9(e){return!(e.type!==ef.ClarityType.Tuple||!["name","version","chain-id"].every(t=>t in e.data)||!["name","version"].every(t=>e.data[t].type===ef.ClarityType.StringASCII)||e.data["chain-id"].type!==ef.ClarityType.UInt)}function zg({message:e,domain:t}){let r=Ml(e);if(!O9(t))throw new Error("domain parameter must be a valid domain of type TupleCV with keys 'name', 'version', 'chain-id' with respective types StringASCII, StringASCII, UInt");let n=Ml(t);return(0,Il.concatBytes)(yr.STRUCTURED_DATA_PREFIX,n,r)}yr.encodeStructuredData=zg;function k9(e){let t=typeof e=="string"?(0,Il.utf8ToBytes)(e):e,r=t.slice(yr.STRUCTURED_DATA_PREFIX.length,yr.STRUCTURED_DATA_PREFIX.length+Kg),n=t.slice(yr.STRUCTURED_DATA_PREFIX.length+Kg);return{domainHash:r,messageHash:n}}yr.decodeStructuredDataSignature=k9;function R9({message:e,domain:t,privateKey:r}){let n=(0,Il.bytesToHex)(Ug.base.sha256(zg({message:e,domain:t}))),{data:i}=(0,B9.signMessageHashRsv)({messageHash:n,privateKey:r});return{data:i,type:I9.StacksMessageType.StructuredDataSignature}}yr.signStructuredData=R9});var Zs=R(Q=>{C();x();var jg=Q&&Q.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),N9=Q&&Q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Vr=Q&&Q.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jg(t,e,r)},$g=Q&&Q.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jg(t,e,r);return N9(t,e),t};Object.defineProperty(Q,"__esModule",{value:!0});Q.deserializeTransaction=Q.StacksTransaction=Q.createSTXPostCondition=Q.createNonFungiblePostCondition=Q.createFungiblePostCondition=Q.Pc=Q.serializePayload=Q.isTokenTransferPayload=Q.isSmartContractPayload=Q.isPoisonPayload=Q.isContractCallPayload=Q.isCoinbasePayload=Q.Cl=Q.BytesReader=Q.isSingleSig=Q.emptyMessageSignature=void 0;Vr(Js(),Q);var Gg=Js();Object.defineProperty(Q,"emptyMessageSignature",{enumerable:!0,get:function(){return Gg.emptyMessageSignature}});Object.defineProperty(Q,"isSingleSig",{enumerable:!0,get:function(){return Gg.isSingleSig}});Vr(El(),Q);var L9=Nc();Object.defineProperty(Q,"BytesReader",{enumerable:!0,get:function(){return L9.BytesReader}});Q.Cl=$g(Lg());Vr(qn(),Q);Vr(ss(),Q);Vr(or(),Q);Vr(Vg(),Q);Vr(pi(),Q);var co=zs();Object.defineProperty(Q,"isCoinbasePayload",{enumerable:!0,get:function(){return co.isCoinbasePayload}});Object.defineProperty(Q,"isContractCallPayload",{enumerable:!0,get:function(){return co.isContractCallPayload}});Object.defineProperty(Q,"isPoisonPayload",{enumerable:!0,get:function(){return co.isPoisonPayload}});Object.defineProperty(Q,"isSmartContractPayload",{enumerable:!0,get:function(){return co.isSmartContractPayload}});Object.defineProperty(Q,"isTokenTransferPayload",{enumerable:!0,get:function(){return co.isTokenTransferPayload}});Object.defineProperty(Q,"serializePayload",{enumerable:!0,get:function(){return co.serializePayload}});Q.Pc=$g(Dg());var Bl=pl();Object.defineProperty(Q,"createFungiblePostCondition",{enumerable:!0,get:function(){return Bl.createFungiblePostCondition}});Object.defineProperty(Q,"createNonFungiblePostCondition",{enumerable:!0,get:function(){return Bl.createNonFungiblePostCondition}});Object.defineProperty(Q,"createSTXPostCondition",{enumerable:!0,get:function(){return Bl.createSTXPostCondition}});Vr(Tn(),Q);Vr(Wo(),Q);Vr(vl(),Q);Vr(Fg(),Q);var Wg=Cl();Object.defineProperty(Q,"StacksTransaction",{enumerable:!0,get:function(){return Wg.StacksTransaction}});Object.defineProperty(Q,"deserializeTransaction",{enumerable:!0,get:function(){return Wg.deserializeTransaction}});Vr(yi(),Q);Vr(zr(),Q)});var Xg=R(tf=>{C();x();Object.defineProperty(tf,"__esModule",{value:!0});tf.hashRipemd160=void 0;var q9=Nr();function H9(e){return q9.base.ripemd160(e)}tf.hashRipemd160=H9});var rf=R(_i=>{C();x();Object.defineProperty(_i,"__esModule",{value:!0});_i.hashSha512Sync=_i.hashSha256Sync=_i.NodeCryptoSha2Hash=void 0;var Yg=Nr(),Ol=class{constructor(t){this.createHash=t}async digest(t,r="sha256"){try{let n=this.createHash(r).update(t).digest();return Promise.resolve(n)}catch(n){return console.log(n),console.log(`Error performing ${r} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve(r==="sha256"?Zg(t):Jg(t))}}};_i.NodeCryptoSha2Hash=Ol;function Zg(e){return Yg.base.sha256(e)}_i.hashSha256Sync=Zg;function Jg(e){return Yg.base.sha512(e)}_i.hashSha512Sync=Jg});var Nl=R(Dt=>{C();x();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.compressPrivateKey=Dt.isValidPrivateKey=Dt.ecSign=Dt.getPublicKeyFromPrivate=Dt.publicKeyToBtcAddress=Dt.base58CheckEncode=Dt.base58Encode=Dt.base58CheckDecode=Dt.makeECPrivateKey=void 0;var kl=zo(),Si=Nr(),V9=kl.secp256k1.getPublicKey,D9=kl.secp256k1.signSync,Rl=kl.secp256k1.utils,Jr=we(),K9=Xg(),U9=rf(),z9=0;Rl.hmacSha256Sync=(e,...t)=>{let r=Si.base.hmac.create(Si.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};function F9(){return(0,Jr.bytesToHex)(Rl.randomPrivateKey())}Dt.makeECPrivateKey=F9;function j9(e){let t=Si.base.base58.decode(e),r=t.slice(0,-4),n=t.slice(-4),i=Si.base.sha256(Si.base.sha256(r));if(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3])throw new Error("Invalid checksum");if(r.length!==21)throw new TypeError("Invalid address length");let s=(0,Jr.readUInt8)(r,0),o=r.slice(1);return{version:s,hash:o}}Dt.base58CheckDecode=j9;function Qg(e){let t=Si.base.sha256(Si.base.sha256(e));return Si.base.base58.encode((0,Jr.concatBytes)(e,t).slice(0,e.length+4))}Dt.base58Encode=Qg;function e2(e,t){return Qg((0,Jr.concatBytes)(new Uint8Array([e]),t.slice(0,20)))}Dt.base58CheckEncode=e2;function $9(e,t=z9){let r=typeof e=="string"?(0,Jr.hexToBytes)(e):e,n=(0,K9.hashRipemd160)((0,U9.hashSha256Sync)(r));return e2(t,n)}Dt.publicKeyToBtcAddress=$9;function G9(e){let t=(0,Jr.privateKeyToBytes)(e);return(0,Jr.bytesToHex)(V9(t.slice(0,32),!0))}Dt.getPublicKeyFromPrivate=G9;function W9(e,t){return D9(e,(0,Jr.privateKeyToBytes)(t).slice(0,32),{der:!1})}Dt.ecSign=W9;function X9(e){return Rl.isValidPrivateKey((0,Jr.privateKeyToBytes)(e))}Dt.isValidPrivateKey=X9;function Y9(e){let t=(0,Jr.privateKeyToBytes)(e);return t.length==Jr.PRIVATE_KEY_COMPRESSED_LENGTH?t:(0,Jr.concatBytes)(t,new Uint8Array([1]))}Dt.compressPrivateKey=Y9});var t2=R(nf=>{C();x();Object.defineProperty(nf,"__esModule",{value:!0});nf.randomBytes=void 0;var Z9=Nr(),J9=(e=32)=>Z9.base.randomBytes(e);nf.randomBytes=J9});var Ll=R(wi=>{C();x();Object.defineProperty(wi,"__esModule",{value:!0});wi.hashCode=wi.getBase64OutputLength=wi.getAesCbcOutputLength=void 0;function Q9(e){return(Math.floor(e/16)+1)*16}wi.getAesCbcOutputLength=Q9;function ew(e){return Math.ceil(e/3)*4}wi.getBase64OutputLength=ew;function tw(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t&2147483647}wi.hashCode=tw});var n2=R(Ci=>{C();x();Object.defineProperty(Ci,"__esModule",{value:!0});Ci.encodingLength=Ci.decode=Ci.encode=void 0;var Dr=we(),rw=9007199254740991;function ql(e){if(e<0||e>rw||e%1!==0)throw new RangeError("value out of range")}function nw(e,t,r=0){return ql(e),t||(t=new Uint8Array(r2(e))),e<253?(0,Dr.writeUInt8)(t,e,r):e<=65535?((0,Dr.writeUInt8)(t,253,r),(0,Dr.writeUInt16LE)(t,e,r+1)):e<=4294967295?((0,Dr.writeUInt8)(t,254,r),(0,Dr.writeUInt32LE)(t,e,r+1)):((0,Dr.writeUInt8)(t,255,r),(0,Dr.writeUInt32LE)(t,e>>>0,r+1),(0,Dr.writeUInt32LE)(t,e/4294967296|0,r+5)),t}Ci.encode=nw;function iw(e,t=0){let r=(0,Dr.readUInt8)(e,t);if(r<253)return r;if(r===253)return(0,Dr.readUInt16LE)(e,t+1);if(r===254)return(0,Dr.readUInt32LE)(e,t+1);{let n=(0,Dr.readUInt32LE)(e,t+1),s=(0,Dr.readUInt32LE)(e,t+5)*4294967296+n;return ql(s),s}}Ci.decode=iw;function r2(e){return ql(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Ci.encodingLength=r2});var Dl=R(xi=>{C();x();Object.defineProperty(xi,"__esModule",{value:!0});xi.decodeMessage=xi.encodeMessage=xi.hashMessage=void 0;var sw=Nr(),sf=we(),Hl=n2(),Vl=`Stacks Signed Message:
`;function ow(e,t=Vl){return sw.base.sha256(i2(e,t))}xi.hashMessage=ow;function i2(e,t=Vl){let r=typeof e=="string"?(0,sf.utf8ToBytes)(e):e,n=(0,Hl.encode)(r.length);return(0,sf.concatBytes)((0,sf.utf8ToBytes)(t),n,r)}xi.encodeMessage=i2;function aw(e,t=Vl){let r=(0,sf.utf8ToBytes)(t).byteLength,n=e.subarray(r),i=(0,Hl.decode)(n),s=(0,Hl.encodingLength)(i);return n.slice(s)}xi.decodeMessage=aw});var u2=R(Ze=>{C();x();Object.defineProperty(Ze,"__esModule",{value:!0});Ze.verifyMessageSignatureRsv=Ze.verifyMessageSignature=Ze.verifyECDSA=Ze.signECDSA=Ze.eciesGetJsonStringLength=Ze.getSignedCipherObjectWrapper=Ze.getCipherObjectWrapper=Ze.getBytesFromBN=Ze.getHexFromBN=Ze.hmacSha256=Ze.InvalidPublicKeyReason=void 0;var fo=zo(),ia=Nr(),cw=fo.secp256k1.signSync,fw=fo.secp256k1.utils,Ti=we(),dw=Nl(),s2=Dl(),a2=rf(),o2=Ll();fw.hmacSha256Sync=(e,...t)=>{let r=ia.base.hmac.create(ia.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};var uw;(function(e){e.InvalidFormat="InvalidFormat",e.IsNotPoint="IsNotPoint"})(uw=Ze.InvalidPublicKeyReason||(Ze.InvalidPublicKeyReason={}));function lw(e,t){return ia.base.hmac(ia.base.sha256,e,t)}Ze.hmacSha256=lw;function hw(e){let t=e.toString(16);if(t.length===64)return t;if(t.length<64)return`${"0".repeat(64-t.length)}${t}`;throw new Error("Generated a > 32-byte BN for encryption. Failing.")}Ze.getHexFromBN=hw;function bw(e){let t=(0,Ti.bigIntToBytes)(e,32);if(t.byteLength!==32)throw new Error("Failed to generate a 32-byte Uint8Array");return t}Ze.getBytesFromBN=bw;function c2(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let r=32,n=66,i=64;return{payloadValuesLength:r+n+i,payloadShell:JSON.stringify(t)}}Ze.getCipherObjectWrapper=c2;function f2(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}Ze.getSignedCipherObjectWrapper=f2;function pw(e){let{payloadShell:t,payloadValuesLength:r}=c2(e),n=(0,o2.getAesCbcOutputLength)(e.contentLength),i;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")i=n*2;else if(e.cipherTextEncoding==="base64")i=(0,o2.getBase64OutputLength)(n);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:s,signedPayloadValuesLength:o}=f2(t);return s.length+o+r+i}else return t.length+r+i}Ze.eciesGetJsonStringLength=pw;function yw(e,t){let r=typeof t=="string"?(0,Ti.utf8ToBytes)(t):t,n=(0,dw.getPublicKeyFromPrivate)(e),i=(0,a2.hashSha256Sync)(r),s=cw(i,e);return{signature:(0,Ti.bytesToHex)(s),publicKey:n}}Ze.signECDSA=yw;function gw(e,t,r){let n=typeof e=="string"?(0,Ti.utf8ToBytes)(e):e,i=(0,a2.hashSha256Sync)(n);return fo.secp256k1.verify(r,i,t,{strict:!1})}Ze.verifyECDSA=gw;function d2({signature:e,message:t,publicKey:r}){let{r:n,s:i}=(0,Ti.parseRecoverableSignatureVrs)(e),s=new fo.secp256k1.Signature((0,Ti.hexToBigInt)(n),(0,Ti.hexToBigInt)(i)),o=typeof t=="string"?(0,s2.hashMessage)(t):t,c=fo.secp256k1.verify(s,o,r,{strict:!1});if(c||typeof t!="string")return c;let d=`Stacks Message Signing:
`,l=ia.base.sha256((0,s2.encodeMessage)(t,d));return fo.secp256k1.verify(s,l,r,{strict:!1})}Ze.verifyMessageSignature=d2;function mw({signature:e,message:t,publicKey:r}){return d2({signature:(0,Ti.signatureRsvToVrs)(e),message:t,publicKey:r})}Ze.verifyMessageSignatureRsv=mw});var Kl=R(Qr=>{C();x();var vw=Qr&&Qr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uo=Qr&&Qr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vw(t,e,r)};Object.defineProperty(Qr,"__esModule",{value:!0});uo(Nl(),Qr);uo(t2(),Qr);uo(rf(),Qr);uo(Ll(),Qr);uo(Dl(),Qr);uo(u2(),Qr)});var l2=R(qe=>{C();x();Object.defineProperty(qe,"__esModule",{value:!0});qe.StackingErrors=qe.PoxOperationPeriod=qe.SEGWIT_V1=qe.SEGWIT_V0=qe.SEGWIT_ADDR_PREFIXES=qe.SegwitPrefix=qe.SEGWIT_V1_ADDR_PREFIX=qe.SEGWIT_V0_ADDR_PREFIX=qe.B58_ADDR_PREFIXES=qe.BitcoinNetworkVersion=qe.PoXAddressVersion=void 0;var _w;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2SHP2WPKH=2]="P2SHP2WPKH",e[e.P2SHP2WSH=3]="P2SHP2WSH",e[e.P2WPKH=4]="P2WPKH",e[e.P2WSH=5]="P2WSH",e[e.P2TR=6]="P2TR"})(_w=qe.PoXAddressVersion||(qe.PoXAddressVersion={}));qe.BitcoinNetworkVersion={mainnet:{P2PKH:0,P2SH:5},testnet:{P2PKH:111,P2SH:196},regtest:{P2PKH:111,P2SH:196}};qe.B58_ADDR_PREFIXES=/^(1|3|m|n|2)/;qe.SEGWIT_V0_ADDR_PREFIX=/^(bc1q|tb1q|bcrt1q)/i;qe.SEGWIT_V1_ADDR_PREFIX=/^(bc1p|tb1p|bcrt1p)/i;qe.SegwitPrefix={mainnet:"bc",testnet:"tb",regtest:"bcrt"};qe.SEGWIT_ADDR_PREFIXES=/^(bc|tb)/i;qe.SEGWIT_V0=0;qe.SEGWIT_V1=1;var Sw;(function(e){e.Period1="Period1",e.Period2a="Period2a",e.Period2b="Period2b",e.Period3="Period3"})(Sw=qe.PoxOperationPeriod||(qe.PoxOperationPeriod={}));var ww;(function(e){e[e.ERR_STACKING_UNREACHABLE=255]="ERR_STACKING_UNREACHABLE",e[e.ERR_STACKING_CORRUPTED_STATE=254]="ERR_STACKING_CORRUPTED_STATE",e[e.ERR_STACKING_INSUFFICIENT_FUNDS=1]="ERR_STACKING_INSUFFICIENT_FUNDS",e[e.ERR_STACKING_INVALID_LOCK_PERIOD=2]="ERR_STACKING_INVALID_LOCK_PERIOD",e[e.ERR_STACKING_ALREADY_STACKED=3]="ERR_STACKING_ALREADY_STACKED",e[e.ERR_STACKING_NO_SUCH_PRINCIPAL=4]="ERR_STACKING_NO_SUCH_PRINCIPAL",e[e.ERR_STACKING_EXPIRED=5]="ERR_STACKING_EXPIRED",e[e.ERR_STACKING_STX_LOCKED=6]="ERR_STACKING_STX_LOCKED",e[e.ERR_STACKING_PERMISSION_DENIED=9]="ERR_STACKING_PERMISSION_DENIED",e[e.ERR_STACKING_THRESHOLD_NOT_MET=11]="ERR_STACKING_THRESHOLD_NOT_MET",e[e.ERR_STACKING_POX_ADDRESS_IN_USE=12]="ERR_STACKING_POX_ADDRESS_IN_USE",e[e.ERR_STACKING_INVALID_POX_ADDRESS=13]="ERR_STACKING_INVALID_POX_ADDRESS",e[e.ERR_STACKING_ALREADY_REJECTED=17]="ERR_STACKING_ALREADY_REJECTED",e[e.ERR_STACKING_INVALID_AMOUNT=18]="ERR_STACKING_INVALID_AMOUNT",e[e.ERR_NOT_ALLOWED=19]="ERR_NOT_ALLOWED",e[e.ERR_STACKING_ALREADY_DELEGATED=20]="ERR_STACKING_ALREADY_DELEGATED",e[e.ERR_DELEGATION_EXPIRES_DURING_LOCK=21]="ERR_DELEGATION_EXPIRES_DURING_LOCK",e[e.ERR_DELEGATION_TOO_MUCH_LOCKED=22]="ERR_DELEGATION_TOO_MUCH_LOCKED",e[e.ERR_DELEGATION_POX_ADDR_REQUIRED=23]="ERR_DELEGATION_POX_ADDR_REQUIRED",e[e.ERR_INVALID_START_BURN_HEIGHT=24]="ERR_INVALID_START_BURN_HEIGHT",e[e.ERR_NOT_CURRENT_STACKER=25]="ERR_NOT_CURRENT_STACKER",e[e.ERR_STACK_EXTEND_NOT_LOCKED=26]="ERR_STACK_EXTEND_NOT_LOCKED",e[e.ERR_STACK_INCREASE_NOT_LOCKED=27]="ERR_STACK_INCREASE_NOT_LOCKED",e[e.ERR_DELEGATION_NO_REWARD_SLOT=28]="ERR_DELEGATION_NO_REWARD_SLOT",e[e.ERR_DELEGATION_WRONG_REWARD_SLOT=29]="ERR_DELEGATION_WRONG_REWARD_SLOT",e[e.ERR_STACKING_IS_DELEGATED=30]="ERR_STACKING_IS_DELEGATED",e[e.ERR_STACKING_NOT_DELEGATED=31]="ERR_STACKING_NOT_DELEGATED"})(ww=qe.StackingErrors||(qe.StackingErrors={}))});var Ul=R(Qe=>{C();x();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.ensureLegacyBtcAddressForPox1=Qe.ensurePox2Activated=Qe.unwrapMap=Qe.unwrap=Qe.poxAddressToBtcAddress=Qe.poxAddressToTuple=Qe.getErrorString=Qe.extractPoxAddressFromClarityValue=Qe.decodeBtcAddress=Qe.btcAddressVersionToLegacyHashMode=Qe.InvalidAddressError=void 0;var Ei=Nr(),Cw=we(),h2=Kl(),_n=Zs(),W=l2(),of=class extends Error{constructor(t,r){let n=`'${t}' is not a valid P2PKH/P2SH/P2WPKH/P2WSH/P2TR address`;super(n),this.message=n,this.name=this.constructor.name,this.innerError=r,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};Qe.InvalidAddressError=of;function b2(e){switch(e){case W.BitcoinNetworkVersion.mainnet.P2PKH:return W.PoXAddressVersion.P2PKH;case W.BitcoinNetworkVersion.testnet.P2PKH:return W.PoXAddressVersion.P2PKH;case W.BitcoinNetworkVersion.mainnet.P2SH:return W.PoXAddressVersion.P2SH;case W.BitcoinNetworkVersion.testnet.P2SH:return W.PoXAddressVersion.P2SH;default:throw new Error("Invalid pox address version")}}Qe.btcAddressVersionToLegacyHashMode=b2;function xw(e,t){if(e===W.SEGWIT_V0&&t===20)return W.PoXAddressVersion.P2WPKH;if(e===W.SEGWIT_V0&&t===32)return W.PoXAddressVersion.P2WSH;if(e===W.SEGWIT_V1&&t===32)return W.PoXAddressVersion.P2TR;throw new Error("Invalid native segwit witness version and byte length. Currently, only P2WPKH, P2WSH, and P2TR are supported.")}function Tw(e){let{words:t}=Ei.base.bech32.decode(e),r=t[0];if(r>0)throw new Error("Addresses with a witness version >= 1 should be encoded in bech32m");return{witnessVersion:r,data:Ei.base.bech32.fromWords(t.slice(1))}}function Ew(e){let{words:t}=Ei.base.bech32m.decode(e),r=t[0];if(r==0)throw new Error("Addresses with witness version 1 should be encoded in bech32");return{witnessVersion:r,data:Ei.base.bech32m.fromWords(t.slice(1))}}function Pw(e){if(W.SEGWIT_V0_ADDR_PREFIX.test(e))return Tw(e);if(W.SEGWIT_V1_ADDR_PREFIX.test(e))return Ew(e);throw new Error(`Native segwit address ${e} does not match valid prefix ${W.SEGWIT_V0_ADDR_PREFIX} or ${W.SEGWIT_V1_ADDR_PREFIX}`)}function p2(e){try{if(W.B58_ADDR_PREFIXES.test(e)){let t=(0,h2.base58CheckDecode)(e);return{version:b2(t.version),data:t.hash}}else if(W.SEGWIT_ADDR_PREFIXES.test(e)){let t=Pw(e);return{version:xw(t.witnessVersion,t.data.length),data:t.data}}throw new Error("Unknown BTC address prefix.")}catch(t){throw new of(e,t)}}Qe.decodeBtcAddress=p2;function y2(e){let t=e;if(t.type!==_n.ClarityType.Tuple||!t.data)throw new Error("Invalid argument, expected ClarityValue to be a TupleCV");if(!("version"in t.data)||!("hashbytes"in t.data))throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` keys");let r=t.data.version,n=t.data.hashbytes;if(r.type!==_n.ClarityType.Buffer||n.type!==_n.ClarityType.Buffer)throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` buffers");return{version:r.buffer[0],hashBytes:n.buffer}}Qe.extractPoxAddressFromClarityValue=y2;function Aw(e){switch(e){case W.StackingErrors.ERR_STACKING_UNREACHABLE:return"Stacking unreachable";case W.StackingErrors.ERR_STACKING_CORRUPTED_STATE:return"Stacking state is corrupted";case W.StackingErrors.ERR_STACKING_INSUFFICIENT_FUNDS:return"Insufficient funds";case W.StackingErrors.ERR_STACKING_INVALID_LOCK_PERIOD:return"Invalid lock period";case W.StackingErrors.ERR_STACKING_ALREADY_STACKED:return"Account already stacked. Concurrent stacking not allowed.";case W.StackingErrors.ERR_STACKING_NO_SUCH_PRINCIPAL:return"Principal does not exist";case W.StackingErrors.ERR_STACKING_EXPIRED:return"Stacking expired";case W.StackingErrors.ERR_STACKING_STX_LOCKED:return"STX balance is locked";case W.StackingErrors.ERR_STACKING_PERMISSION_DENIED:return"Permission denied";case W.StackingErrors.ERR_STACKING_THRESHOLD_NOT_MET:return"Stacking threshold not met";case W.StackingErrors.ERR_STACKING_POX_ADDRESS_IN_USE:return"PoX address already in use";case W.StackingErrors.ERR_STACKING_INVALID_POX_ADDRESS:return"Invalid PoX address";case W.StackingErrors.ERR_STACKING_ALREADY_REJECTED:return"Stacking already rejected";case W.StackingErrors.ERR_STACKING_INVALID_AMOUNT:return"Invalid amount";case W.StackingErrors.ERR_NOT_ALLOWED:return"Stacking not allowed";case W.StackingErrors.ERR_STACKING_ALREADY_DELEGATED:return"Already delegated";case W.StackingErrors.ERR_DELEGATION_EXPIRES_DURING_LOCK:return"Delegation expires during lock period";case W.StackingErrors.ERR_DELEGATION_TOO_MUCH_LOCKED:return"Delegation too much locked";case W.StackingErrors.ERR_DELEGATION_POX_ADDR_REQUIRED:return"PoX address required for delegation";case W.StackingErrors.ERR_INVALID_START_BURN_HEIGHT:return"Invalid start burn height";case W.StackingErrors.ERR_NOT_CURRENT_STACKER:return"ERR_NOT_CURRENT_STACKER";case W.StackingErrors.ERR_STACK_EXTEND_NOT_LOCKED:return"Stacker must be currently locked";case W.StackingErrors.ERR_STACK_INCREASE_NOT_LOCKED:return"Stacker must be currently locked";case W.StackingErrors.ERR_DELEGATION_NO_REWARD_SLOT:return"Invalid reward-cycle and reward-cycle-index";case W.StackingErrors.ERR_DELEGATION_WRONG_REWARD_SLOT:return"PoX address must match the one on record";case W.StackingErrors.ERR_STACKING_IS_DELEGATED:return"Stacker must be directly stacking and not delegating";case W.StackingErrors.ERR_STACKING_NOT_DELEGATED:return"Stacker must be delegating and not be directly stacking"}}Qe.getErrorString=Aw;function Mw(e){let{version:t,data:r}=p2(e),n=(0,_n.bufferCV)((0,Cw.bigIntToBytes)(BigInt(t),1)),i=(0,_n.bufferCV)(r);return(0,_n.tupleCV)({version:n,hashbytes:i})}Qe.poxAddressToTuple=Mw;function Iw(e,t){switch(e){case W.PoXAddressVersion.P2PKH:return W.BitcoinNetworkVersion[t].P2PKH;case W.PoXAddressVersion.P2SH:case W.PoXAddressVersion.P2SHP2WPKH:case W.PoXAddressVersion.P2SHP2WSH:return W.BitcoinNetworkVersion[t].P2SH;default:throw new Error("Invalid pox address version")}}function g2(e,t,r){if(!["mainnet","testnet","regtest"].includes(r))throw new Error("Invalid network.");switch(e){case W.PoXAddressVersion.P2PKH:case W.PoXAddressVersion.P2SH:case W.PoXAddressVersion.P2SHP2WPKH:case W.PoXAddressVersion.P2SHP2WSH:{let n=Iw(e,r);return(0,h2.base58CheckEncode)(n,t)}case W.PoXAddressVersion.P2WPKH:case W.PoXAddressVersion.P2WSH:{let n=Ei.base.bech32.toWords(t);return Ei.base.bech32.encode(W.SegwitPrefix[r],[W.SEGWIT_V0,...n])}case W.PoXAddressVersion.P2TR:{let n=Ei.base.bech32m.toWords(t);return Ei.base.bech32m.encode(W.SegwitPrefix[r],[W.SEGWIT_V1,...n])}}throw new Error(`Unexpected address version: ${e}`)}function Bw(e,t){let r=y2(e);return g2(r.version,r.hashBytes,t)}function Ow(...e){return typeof e[0]=="number"?g2(e[0],e[1],e[2]):Bw(e[0],e[1])}Qe.poxAddressToBtcAddress=Ow;function kw(e){if(e.type===_n.ClarityType.OptionalSome)return e.value;if(e.type!==_n.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}Qe.unwrap=kw;function Rw(e,t){if(e.type===_n.ClarityType.OptionalSome)return t(e.value);if(e.type!==_n.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}Qe.unwrapMap=Rw;function Nw(e){if(e.period===W.PoxOperationPeriod.Period1)throw new Error(`PoX-2 has not activated yet (currently in period ${e.period} of PoX-2 operation)`)}Qe.ensurePox2Activated=Nw;function Lw({contract:e,poxAddress:t}){if(!!t&&e.endsWith(".pox")&&!W.B58_ADDR_PREFIXES.test(t))throw new Error("PoX-1 requires P2PKH/P2SH/P2SH-P2WPKH/P2SH-P2WSH bitcoin addresses")}Qe.ensureLegacyBtcAddressForPox1=Lw});var Fl=R(Kr=>{C();x();var qw=Kr&&Kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hw=Kr&&Kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qw(t,e,r)};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.getDelegateOptions=Kr.renamePrivateKey=Kr.stack=void 0;var Vw=we(),m2=ra(),Cr=Zs(),zl=Ul();Hw(Ul(),Kr);async function Dw({contract:e,amountMicroStx:t,poxAddress:r,cycles:n,burnBlockHeight:i,...s}){(0,zl.ensureLegacyBtcAddressForPox1)({contract:e,poxAddress:r});let o=Kw({amountMicroStx:t,cycles:n,poxAddress:r,contract:e,burnBlockHeight:i}),c=await(0,Cr.makeContractCall)({...o,...v2(s)}),d=(0,Cr.addHex)(c.txid()),l=(0,Vw.bytesToHex)(c.serialize());return{txId:d,txSerializedHexString:l}}Kr.stack=Dw;function Kw({amountMicroStx:e,poxAddress:t,cycles:r,contract:n,burnBlockHeight:i}){let s=(0,zl.poxAddressToTuple)(t),[o,c]=Uw(n);return{contractAddress:o,contractName:c,functionName:"stack-stx",functionArgs:[(0,Cr.uintCV)(e),s,(0,Cr.uintCV)(i),(0,Cr.uintCV)(r)],validateWithAbi:!0,network:new m2.StacksMainnet,anchorMode:Cr.AnchorMode.Any}}function Uw(e){let t=e.split(".");if(t.length===2&&(0,Cr.validateStacksAddress)(t[0])&&t[1].startsWith("pox"))return t;throw new Error("Stacking contract ID is malformed")}function v2(e){return e.senderKey=e.privateKey,delete e.privateKey,e}Kr.renamePrivateKey=v2;function zw(e,t,r,n,i,s,o){let c=o?(0,Cr.someCV)((0,zl.poxAddressToTuple)(o)):(0,Cr.noneCV)();return{contractAddress:e,contractName:t,functionName:r,functionArgs:[(0,Cr.uintCV)(n),(0,Cr.principalCV)(i),s?(0,Cr.someCV)((0,Cr.uintCV)(s)):(0,Cr.noneCV)(),c],validateWithAbi:!0,network:new m2.StacksMainnet,anchorMode:Cr.AnchorMode.Any}}Kr.getDelegateOptions=zw});var S2=R(Se=>{C();x();Object.defineProperty(Se,"__esModule",{value:!0});Se.getDeployPayload=Se.getContractCallPayload=Se.getRevokeDelegateStxPayload=Se.getDelegateStxPayload=Se.getAllowContractCallerPayload=Se.getTokenTransferPayload=Se.getTransferPayload=Se.revokeDelegateStx=Se.delegateStx=Se.ContractDeployTx=Se.makeContractCallTx=Se.TransactionTypes=Se.allowContractCaller=Se.tokenTransfer=Se.stacks=Se.transfer=void 0;var z=Zs(),Pi=zs(),xr=we(),af=ra(),jl=Fl(),_2=zr();function Fw(e,t,r,n,i,s,o){if(!(0,_2.validateStacksAddress)(t))throw new Error("Invalid recipient address");let c=z.TransactionVersion.Mainnet,d=t,l=(0,z.createStandardPrincipal)(d),p=(0,z.standardPrincipalCV)(d),b=(0,Pi.createTokenTransferPayload)(p,r,n),E=z.AddressHashMode.SerializeP2PKH,w=(0,z.createStacksPrivateKey)(e),P=(0,xr.bytesToHex)((0,z.getPublicKey)(w).data),T=(0,z.createSingleSigSpendingCondition)(E,P,i,s),I=(0,z.createStandardAuth)(T),M=(0,z.createLPList)([]),k=new z.StacksTransaction(c,I,b,M,void 0,o);new z.TransactionSigner(k).signOrigin((0,z.createStacksPrivateKey)(e)),k.verifyOrigin();let L=(0,z.addHex)(k.txid()),q=k.serialize(),H=(0,xr.bytesToHex)(q);return{txId:L,txSerializedHexString:H}}Se.transfer=Fw;async function jw(e,t,r,n,i,s,o,c,d){let l=new af.StacksMainnet;return await(0,jl.stack)({contract:o,amountMicroStx:n,poxAddress:r,cycles:i,privateKey:e,burnBlockHeight:s,fee:c,nonce:d})}Se.stacks=jw;async function $w(e,t,r,n,i,s,o,c,d,l,p){if(!(0,_2.validateStacksAddress)(r))throw new Error("Invalid recipient address");let b=await(0,z.makeContractCall)({anchorMode:z.AnchorMode.Any,contractAddress:s,contractName:o,fee:p,functionArgs:[(0,z.uintCV)(i),(0,z.standardPrincipalCV)(t),(0,z.standardPrincipalCV)(r),(0,z.someCV)((0,z.bufferCVFromString)(n))],functionName:d,nonce:l,postConditionMode:z.PostConditionMode.Deny,postConditions:[(0,z.makeStandardFungiblePostCondition)(t,z.FungibleConditionCode.Equal,i,(0,z.createAssetInfo)(s,o,c))],senderKey:e,network:new af.StacksMainnet}),E=(0,z.addHex)(b.txid()),w=(0,xr.bytesToHex)(b.serialize());return{txId:E,txSerializedHexString:w}}Se.tokenTransfer=$w;async function Gw(e,t,r,n,i,s,o,c){let d=await(0,z.makeContractCall)({anchorMode:z.AnchorMode.Any,contractAddress:r,contractName:n,fee:c,functionArgs:[(0,z.principalCV)(t),s?(0,z.someCV)((0,z.uintCV)(s)):(0,z.noneCV)()],functionName:i,nonce:o,senderKey:e,network:new af.StacksMainnet}),l=(0,z.addHex)(d.txid()),p=(0,xr.bytesToHex)(d.serialize());return{txId:l,txSerializedHexString:p}}Se.allowContractCaller=Gw;var Ww;(function(e){e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer"})(Ww=Se.TransactionTypes||(Se.TransactionTypes={}));async function Xw(e,t){let{txData:r,nonce:n,fee:i}=e,{contractName:s,contractAddress:o,functionName:c,functionArgs:d,sponsored:l,postConditionMode:p,postConditions:b,anchorMode:E}=r,w=d.map(k=>(0,z.deserializeCV)((0,z.hexToBuff)(k))),P={senderKey:t,contractName:s,contractAddress:o,functionName:c,anchorMode:E??z.AnchorMode.Any,functionArgs:w,nonce:n,fee:i,postConditionMode:p,postConditions:b?.map(z.postConditionFromString),sponsored:l},T=await(0,z.makeContractCall)(P),I=(0,z.addHex)(T.txid()),M=(0,xr.bytesToHex)(T.serialize());return{txId:I,txSerializedHexString:M}}Se.makeContractCallTx=Xw;async function Yw(e,t){let{txData:r,nonce:n,fee:i}=e,{contractName:s,codeBody:o,postConditions:c,postConditionMode:d,anchorMode:l}=r,p={senderKey:t,contractName:s,codeBody:o,nonce:n,fee:i,anchorMode:l??z.AnchorMode.Any,postConditionMode:d,postConditions:c?.map(z.postConditionFromString)},b=await(0,z.makeContractDeploy)(p),E=(0,z.addHex)(b.txid()),w=(0,xr.bytesToHex)(b.serialize());return{txId:E,txSerializedHexString:w}}Se.ContractDeployTx=Yw;async function Zw(e,t,r,n,i,s,o,c,d,l){let p=(0,jl.getDelegateOptions)(t,r,n,o,i,c,s),b=await(0,z.makeContractCall)({...p,senderKey:e,nonce:d,fee:l}),E=(0,z.addHex)(b.txid()),w=(0,xr.bytesToHex)(b.serialize());return{txId:E,txSerializedHexString:w}}Se.delegateStx=Zw;async function Jw(e,t,r,n,i,s){let o=await(0,z.makeContractCall)({anchorMode:z.AnchorMode.Any,contractAddress:t,contractName:r,fee:s,functionArgs:[],functionName:n,nonce:i,senderKey:e,network:new af.StacksMainnet}),c=(0,z.addHex)(o.txid()),d=(0,xr.bytesToHex)(o.serialize());return{txId:c,txSerializedHexString:d}}Se.revokeDelegateStx=Jw;function Qw(e,t,r){let n=e,i=(0,z.standardPrincipalCV)(n),s=(0,Pi.createTokenTransferPayload)(i,t,r),o=(0,z.serializePayload)(s);return(0,xr.bytesToHex)(o)}Se.getTransferPayload=Qw;function eC(e,t,r,n,i,s,o){let c=(0,Pi.createContractCallPayload)(i,s,o,[(0,z.uintCV)(n),(0,z.standardPrincipalCV)(e),(0,z.standardPrincipalCV)(t),(0,z.someCV)((0,z.bufferCVFromString)(r))]),d=(0,z.serializePayload)(c);return(0,xr.bytesToHex)(d)}Se.getTokenTransferPayload=eC;function tC(e,t,r,n,i){let s=(0,Pi.createContractCallPayload)(t,r,n,[(0,z.principalCV)(e),i?(0,z.someCV)((0,z.uintCV)(i)):(0,z.noneCV)()]),o=(0,z.serializePayload)(s);return(0,xr.bytesToHex)(o)}Se.getAllowContractCallerPayload=tC;function rC(e,t,r,n,i,s,o){let c=i?(0,z.someCV)((0,jl.poxAddressToTuple)(i)):(0,z.noneCV)(),d=[(0,z.uintCV)(s),(0,z.principalCV)(n),o?(0,z.someCV)((0,z.uintCV)(o)):(0,z.noneCV)(),c],l=(0,Pi.createContractCallPayload)(e,t,r,d),p=(0,z.serializePayload)(l);return(0,xr.bytesToHex)(p)}Se.getDelegateStxPayload=rC;function nC(e,t,r){let n=(0,Pi.createContractCallPayload)(e,t,r,[]),i=(0,z.serializePayload)(n);return(0,xr.bytesToHex)(i)}Se.getRevokeDelegateStxPayload=nC;function iC(e,t,r,n){let i=n.map(c=>(0,z.deserializeCV)((0,z.hexToBuff)(c))),s=(0,Pi.createContractCallPayload)(e,t,r,i),o=(0,z.serializePayload)(s);return(0,xr.bytesToHex)(o)}Se.getContractCallPayload=iC;function sC(e,t){let r=(0,Pi.createSmartContractPayload)(e,t,z.ClarityVersion.Clarity2),n=(0,z.serializePayload)(r);return(0,xr.bytesToHex)(n)}Se.getDeployPayload=sC});var C2=R(cf=>{C();x();Object.defineProperty(cf,"__esModule",{value:!0});cf.StxWallet=void 0;var w2=zo(),xe=Nr(),Te=x2(),$l=class extends xe.BaseWallet{async getDerivedPath(t){return`m/44'/5757'/0'/0/${t.index}`}getDerivedPrivateKey(t){return w2.bip39.mnemonicToSeedV2(t.mnemonic).then(r=>{let n=w2.bip32.fromSeedV2(r,t.hdPath);return n.privateKey?Promise.resolve(xe.base.toHex(n.privateKey)+"01"):Promise.reject(xe.GenPrivateKeyError)}).catch(r=>Promise.reject(xe.GenPrivateKeyError))}getRandomPrivateKey(){try{for(;;){let t=xe.base.randomBytes(32);if((0,xe.secp256k1SignTest)(t))return Promise.resolve(xe.base.toHex(t,!0)+"01")}}catch{}return Promise.reject(xe.GenPrivateKeyError)}getNewAddress(t){try{let r=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,n=(0,Te.createStacksPrivateKey)(r.toLowerCase()),i=xe.base.toHex((0,Te.getPublicKey)(n).data),s;t.version&&t.version==="Testnet"?s=(0,Te.getAddressFromPublicKey)(i,Te.TransactionVersion.Testnet):s=(0,Te.getAddressFromPublicKey)(i);let o={address:s,publicKey:i};return Promise.resolve(o)}catch{return Promise.reject(xe.NewAddressError)}}checkPrivateKey(t){return t.toLowerCase().startsWith("0x")&&(t=t.substring(2)),(0,Te.createStacksPrivateKey)(t),!0}async validPrivateKey(t){let r;try{r=this.checkPrivateKey(t.privateKey)}catch{r=!1}let n={isValid:r,privateKey:t.privateKey};return Promise.resolve(n)}async signTransaction(t){try{if(!t.privateKey)return Promise.reject(xe.InvalidPrivateKeyError);t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let r=t.data;if(r.type=="transfer"){let n=r.data;if(!(await this.validAddress({address:n.to})).isValid)return Promise.reject(xe.ValidAddressError);if(n.amount==null||n.nonce==null||n.fee==null)return Promise.reject(xe.SignTxError);let s=(0,Te.transfer)(t.privateKey,n.to,n.amount,n.memo,n.nonce,n.fee,n.anchorMode);return Promise.resolve(s)}else if(r.type=="tokenTransfer"){let n=r.data;if(!(await this.validAddress({address:n.to})).isValid)return Promise.reject(xe.ValidAddressError);if(n.from==null||n.amount==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(xe.SignTxError);let s=await(0,Te.tokenTransfer)(t.privateKey,n.from,n.to,n.memo,n.amount,n.contract,n.contractName,n.tokenName,n.functionName,n.nonce,n.fee);return Promise.resolve(s)}else if(r.type=="allowContractCaller"){let n=r.data;if(n.caller==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(xe.SignTxError);let i=await(0,Te.allowContractCaller)(t.privateKey,n.caller,n.contract,n.contractName,n.functionName,n.untilBurnBlockHeight,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="delegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null||n.amountMicroStx==null||n.delegateTo==null)return Promise.reject(xe.SignTxError);let i=await(0,Te.delegateStx)(t.privateKey,n.contract,n.contractName,n.functionName,n.delegateTo,n.poxAddress,n.amountMicroStx,n.untilBurnBlockHeight,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="revokeDelegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(xe.SignTxError);let i=await(0,Te.revokeDelegateStx)(t.privateKey,n.contract,n.contractName,n.functionName,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="contractCall"){let n=r.data,i=await(0,Te.makeContractCallTx)(n,t.privateKey);return Promise.resolve(i)}else if(r.type=="deployContract"){let n=r.data,i=await(0,Te.ContractDeployTx)(n,t.privateKey);return Promise.resolve(i)}return Promise.reject(xe.SignTxError)}catch{return Promise.reject(xe.SignTxError)}}async signCommonMsg(t){let r=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,n=(0,Te.createStacksPrivateKey)(r.toLowerCase()),i=n.compressed?xe.base.toHex(n.data.slice(0,32)):xe.base.toHex(n.data);return super.signCommonMsg({privateKey:t.privateKey,privateKeyHex:i,message:t.message,signType:xe.SignType.Secp256k1,version:t.version})}async signMessage(t){if(!t.privateKey)return Promise.reject(`${xe.InvalidPrivateKeyError}: cannot be empty`);let{isValid:r}=await this.validPrivateKey({privateKey:t.privateKey});if(!r)return Promise.reject(`${xe.InvalidPrivateKeyError}: not valid private key`);try{let n=t.privateKey;n.startsWith("0x")&&(n=n.substring(2));let i=(0,Te.createStacksPrivateKey)(n);if(t.data.type=="signMessage"){let s=(0,Te.hashMessage)(t.data.message),o=(0,Te.signMessageHashRsv)({messageHash:(0,Te.bytesToHex)(s),privateKey:i});return Promise.resolve({signature:o.data,publicKey:(0,Te.publicKeyToString)((0,Te.getPublicKey)(i))})}else if(t.data.type=="signStructuredData"){let s=t.data.message,o=t.data.domain,c=(0,Te.signStructuredData)({message:s,domain:o,privateKey:i}).data;return Promise.resolve({signature:c,publicKey:(0,Te.publicKeyToString)((0,Te.getPublicKey)(i))})}}catch{return Promise.reject(xe.SignMsgError)}}async verifyMessage(t){try{let r=t.data;if(r.publicKey===void 0)return Promise.reject(xe.SignMsgError);let n=t.signature,i=(0,Te.hashMessage)(t.data.message),s=r.publicKey;return Promise.resolve((0,Te.verifyMessageSignatureRsv)({signature:n,message:i,publicKey:s}))}catch(r){return Promise.reject(r)}}validAddress(t){let r=t.address.startsWith("SP")||t.address.startsWith("SM"),i={isValid:(0,Te.validateStacksAddress)(t.address)&&r,address:t.address};return Promise.resolve(i)}getRawTransaction(t){try{let r=t.data;if(r.type=="transfer"){let n=r.data;if(n.to==null||n.amount==null)return Promise.reject(xe.GetPayLoadError);let i=(0,Te.getTransferPayload)(n.to,n.amount,n.memo);return Promise.resolve(i)}else if(r.type=="tokenTransfer"){let n=r.data;if(n.from==null||n.to==null||n.amount==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(xe.GetPayLoadError);let i=(0,Te.getTokenTransferPayload)(n.from,n.to,n.memo,n.amount,n.contract,n.contractName,n.functionName);return Promise.resolve(i)}else if(r.type=="allowContractCaller"){let n=r.data;if(n.caller==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(xe.GetPayLoadError);let i=(0,Te.getAllowContractCallerPayload)(n.caller,n.contract,n.contractName,n.functionName,n.untilBurnBlockHeight);return Promise.resolve(i)}else if(r.type=="delegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null||n.amountMicroStx==null||n.delegateTo==null)return Promise.reject(xe.GetPayLoadError);let i=(0,Te.getDelegateStxPayload)(n.contract,n.contractName,n.functionName,n.delegateTo,n.poxAddress,n.amountMicroStx,n.untilBurnBlockHeight);return Promise.resolve(i)}else if(r.type=="revokeDelegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(xe.GetPayLoadError);let i=(0,Te.getRevokeDelegateStxPayload)(n.contract,n.contractName,n.functionName);return Promise.resolve(i)}else if(r.type=="contractCall"){let n=r.data,i=(0,Te.getContractCallPayload)(n.contract,n.contractName,n.functionName,n.functionArgs);return Promise.resolve(i)}else if(r.type=="deployContract"){let n=r.data,i=(0,Te.getDeployPayload)(n.contractName,n.codeBody);return Promise.resolve(i)}return Promise.reject(xe.GetPayLoadError)}catch{return Promise.reject(xe.GetPayLoadError)}}};cf.StxWallet=$l});var x2=R(er=>{C();x();var oC=er&&er.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lo=er&&er.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oC(t,e,r)};Object.defineProperty(er,"__esModule",{value:!0});er.verifyMessageSignatureRsv=er.hashMessage=er.bytesToHex=void 0;lo(Zs(),er);lo(Fl(),er);lo(ra(),er);lo(es(),er);lo(S2(),er);var aC=we();Object.defineProperty(er,"bytesToHex",{enumerable:!0,get:function(){return aC.bytesToHex}});var T2=Kl();Object.defineProperty(er,"hashMessage",{enumerable:!0,get:function(){return T2.hashMessage}});Object.defineProperty(er,"verifyMessageSignatureRsv",{enumerable:!0,get:function(){return T2.verifyMessageSignatureRsv}});lo(C2(),er)});export{x2 as a};
//# sourceMappingURL=chunk-4XZTNBCN.js.map
