import{B as p,V as g}from"./chunk-MJDO2VHF.js";import{Aa as C,E as m}from"./chunk-4C5HF6J2.js";import{o as d,q as u}from"./chunk-UWURTNRY.js";d();u();C();d();u();var f="multi",l="single";var A=(n,i)=>{let{metamask:t}=n;return t.domains?t.domains[i]:void 0},c=(n,i)=>{let t=A(n,i);if(!t)return{};let e={};return t.single&&m(t.single,(r,s)=>{m(r,(o,a)=>{(!e[a]||e[a].timestamp<o.timestamp)&&(e[a]={source:"single",timestamp:o.timestamp,chain:s,providerType:o.providerType})})}),t?.multi&&m(t.multi,(r,s)=>{(!e[s]||e[s].timestamp<r.timestamp)&&(e[s]={source:"multi",timestamp:r.timestamp,providerType:r.providerType})}),e},h=(n,i)=>{let t=c(n,i),e=Object.keys(t).reduce((r,s)=>t[s].timestamp>r.timestamp?{timestamp:t[s].timestamp,accountId:s,chain:t[s].chain}:r,{timestamp:0,accountId:"",chain:void 0});if(e?.chain)return e.chain},D=(n,i)=>{let t=A(n,i);if(t?.single)return l;if(t?.multi)return f},y=n=>{let{metamask:i}=n;return i.domains};var R=n=>{let{metamask:i}=n;return i.domainMetadata},L=n=>{let{metamask:i}=n,t=i.domains;if(!t)return{};let e={};return m(t,(r,s)=>{let o=c(n,s);e[s]=Object.keys(o)}),e},E=(n,i)=>{let t=c(n,i),e=h(n,i);return e?Object.keys(t).filter(r=>t[r].chain===e):Object.keys(t)},T=(n,i)=>{let{metamask:t}=n,e=t.domains;if(!e)return[];let r=[];return m(e,(s,o)=>{let a=c(n,o);i in a&&r.push(o)}),r},N=(n,i,t)=>{let e=c(n,i);return e[t]?e[t]:void 0},O=(n,i)=>{let t=T(n,i),e=R(n);return t.map(r=>({...e?.[r]??{},origin:r}))},M=n=>{let i=p(n);return O(n,i)},P=(n,i)=>{if(!i)return;let t=c(n,i);return Object.keys(t).length===0?void 0:Object.keys(t).reduce((r,s)=>t[s].timestamp>t[r].timestamp?s:r,Object.keys(t)[0])},B=(n,i)=>{if(!i)return{latestAccountId:null,approvedAccountList:[]};let t=c(n,i),e=Object.keys(t);return e.length===0?{latestAccountId:null,approvedAccountList:[]}:{latestAccountId:e.reduce((s,o)=>t[o].timestamp>t[s].timestamp?o:s,e[0]),approvedAccountList:e}},j=(n,i,t)=>{if(!i)return;let e=c(n,i);if(Object.keys(e).length===0)return;let r;if(t){if(!e[t])return;r=t}else r=Object.keys(e).reduce((o,a)=>e[a].timestamp>e[o].timestamp?a:o,Object.keys(e)[0]);let s=e[r];return{lastConnectedWalletId:r,baseChain:s.chain,timestamp:s.timestamp,providerType:s.providerType??null}},F=n=>{let i=y(n),t=g(n);return!i||!t?!1:!!i[t]};export{f as a,h as b,D as c,L as d,E as e,N as f,O as g,M as h,P as i,B as j,j as k,F as l};
//# sourceMappingURL=chunk-XHRUTTJG.js.map
