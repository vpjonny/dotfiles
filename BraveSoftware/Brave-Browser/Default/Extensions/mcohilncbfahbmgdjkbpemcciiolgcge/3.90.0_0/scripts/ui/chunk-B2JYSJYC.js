import{a as $}from"./chunk-IGYVCHMC.js";import{a as W}from"./chunk-PPNQSDGF.js";import{a as P}from"./chunk-PYCB247J.js";import{a as Z}from"./chunk-N4IYN7DD.js";import{f as H,g as J}from"./chunk-UY2DPNBT.js";import{a as M}from"./chunk-V5J3A5L5.js";import{c as Y}from"./chunk-RZETZIQO.js";import{A as K}from"./chunk-P5GHREX3.js";import{b as X}from"./chunk-RK4OLGCC.js";import{b as F}from"./chunk-CTJAEFLV.js";import{C as D}from"./chunk-AP4E6GDF.js";import{S as N,db as w,eb as z,nb as u}from"./chunk-RPH2MNBW.js";import{A as T,b as Q}from"./chunk-URGJ6D4O.js";import{t as U}from"./chunk-XYWWXNVK.js";import{a as R}from"./chunk-FB3ILH2L.js";import{b as v}from"./chunk-FLSAETOH.js";import{f as g,o as r,q as i}from"./chunk-UWURTNRY.js";r();i();var t=g(v()),q=g(R());r();i();var B={"text-ellipsis-tooltip":"_text-ellipsis-tooltip_19pja_1",textEllipsisTooltip:"_text-ellipsis-tooltip_19pja_1","text-ellipsis-content":"_text-ellipsis-content_19pja_4",textEllipsisContent:"_text-ellipsis-content_19pja_4"};function te({className:l,style:p,text:s,tipText:o,maxWidth:e,tooltipProps:_={},...I}){let S=u(),m=(0,t.useRef)(null),[x,f]=(0,t.useState)(!1),[n,c]=(0,t.useState)(0);(0,t.useEffect)(()=>{let d=m.current;if(!e&&d){let y=d.parentElement.parentElement;c(y?.getBoundingClientRect().width)}else c(e)},[e,s]),(0,t.useEffect)(()=>{let d=m.current;f(d&&F(d))},[s,n]);let C=(0,t.useMemo)(()=>e||!n?{maxWidth:e}:{maxWidth:n},[e,n]);return t.default.createElement(T,{disabled:!x,title:o||s,maxWidth:S?200:160,..._,prefixClassName:(0,q.default)(B.textEllipsisTooltip,_?.prefixClassName)},t.default.createElement("div",{className:(0,q.default)("truncate",B.textEllipsisContent,l),style:{...p||{},...C},ref:m,...I},s))}var ue=(0,t.memo)(te);r();i();var a=g(v()),k=g(R());r();i();var G={box:"_box_7d4qr_1",content:"_content_7d4qr_5"};function ke({from:l,to:p,toFromRate:s,rate:o,hideExchangeBtn:e,contentClassName:_="",iconClassName:I="",className:S="justify-end"}){let[m,x]=(0,a.useState)(!0),f=u(),n=(0,a.useMemo)(()=>m?{from:l,to:p,price:o}:{from:p,to:l,price:s},[m,l,p,s,o]),c=N.formatRange({leftNumber:N.formatCurrency(1,{code:n.from,isSymbol:!1}),sign:" \u2248 ",rightNumber:N.formatCurrency(n.price,{code:n.to,isSymbol:!1})});return a.default.createElement("div",{className:(0,k.default)("flex",S,G.box)},a.default.createElement($,{value:c},a.default.createElement("div",{className:(0,k.default)(f?"font-12":" font-14","font-bold ellipsis",G.content,_)},c)),!e&&a.default.createElement(Q,{onClick:C=>{C.stopPropagation(),K({button_name:"rate"}),x(!m)}},a.default.createElement(U,{"data-testid":"exchangeIcon",className:(0,k.default)("cursor-pointer okx-defi-dex-rate ml-4 content-secondary",I)})))}r();i();var h=g(v());var Ue=l=>{let{fromToStore:p,accountStore:s,quoteStore:o,slippageStore:e}=Y(),{from:_,to:I,computedTypedValue:S}=p,{isSm:m,isMd:x}=X(),{chainId:f,tokenContractAddress:n}=_||{},{tokenContractAddress:c}=I||{},C=(0,h.useMemo)(()=>{if(l)return o.aggregateSelectId;if(o.compareVisible)return;let O=[];return(u()||m||x)&&(O.push(w),o.aggregateSelectId!==z&&o.aggregateSelectId!==w&&O.push(o.aggregateSelectId)),D(O)},[o.compareVisible,o.aggregateSelectId,m,x,l]),{computedAccountId:d,getAddressByChainId:y,referralInfo:V}=s,b=e.getSlippageType(),j=(0,h.useMemo)(()=>({slippage:b===M.AUTO?"":e.computedRealSlippageValue,maxSlippage:b===M.AUTO?e.computedRealCustomMaxSlippage:"",slippageType:b}),[e.computedRealSlippageValue,e.computedRealCustomMaxSlippage,b]),L=(0,h.useMemo)(()=>D(P.computeExcludedDexIds),[P.computeExcludedDexIds]);return(0,h.useMemo)(()=>({chainId:f,fromTokenAddress:n,toTokenAddress:c,amount:S,userWalletAddress:y(f),tradeMode:String(H.SWAP),accountInfo:{accountId:d,teeId:"",accountBizLine:2,teeSilentSignEnabled:!1},liquidityConfig:{defiPlatformIds:C,excludedDexIds:L},slippageConfig:j,ext:{refCode:V?.refCode||W.refCode}}),[f,n,c,S,d,y,j,C,W.refCode,L,V.refCode])};r();i();var A=g(v()),ee=g(R());var oe=({label:l,tooltip:p,className:s})=>{let e=u()?{maxWidth:200,placement:T.DIRECTION.topRight}:{};return A.default.createElement("span",{className:(0,ee.default)(s||J.itemLabel)},A.default.createElement("span",null,l),A.default.createElement(T,{title:p,...e},A.default.createElement(Z,null)))},Ze=oe;export{ue as a,Ze as b,ke as c,Ue as d};
//# sourceMappingURL=chunk-B2JYSJYC.js.map
