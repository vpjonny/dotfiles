import{a as Ft,b as Nt}from"./chunk-A7Y6FGTK.js";import{a as Et}from"./chunk-NO3OY2S6.js";import{a as ht}from"./chunk-2KBIS3G2.js";import{a as vt}from"./chunk-BDLFPOJT.js";import{a as It}from"./chunk-7SVXGEVR.js";import{b as C}from"./chunk-T2UFMQPE.js";import{a as c}from"./chunk-X7JU5VY4.js";import{a as xt}from"./chunk-LHFDZX73.js";import{b as gt,c as yt,d as Ct,e as At,f as St,h as kt,i as wt}from"./chunk-OHHYJNZI.js";import{a as Tt}from"./chunk-5EFGCLI4.js";import{a as ct}from"./chunk-GMVPA3MX.js";import{d as ut}from"./chunk-C4TBDTQO.js";import{a as dt}from"./chunk-6AUQLYPZ.js";import{a as _t}from"./chunk-UPIYMC4Q.js";import{c as ft,f as Y}from"./chunk-ZUO5BDO3.js";import{c as nt,e as it,f as pt,g as st,i as at,l as mt,m as lt}from"./chunk-V7YATDMZ.js";import{d as rt}from"./chunk-AVG63QW4.js";import{b as tt}from"./chunk-JYCBCMDP.js";import{a as R}from"./chunk-W3VW6MYS.js";import{b as et}from"./chunk-YVLQLIW6.js";import{h as M,o as a}from"./chunk-N6PI3XTA.js";import{a as V}from"./chunk-MJSLAJV6.js";import{a as X}from"./chunk-6M37VPK2.js";import{c as w}from"./chunk-3F7OC7N7.js";import{c as $,d as J,e as Q,f as P}from"./chunk-OKGWI7CU.js";import{b as q,k as G}from"./chunk-EPDR6VAQ.js";import{c as U}from"./chunk-3FMJDUGT.js";import{p as i}from"./chunk-DSNMNSMD.js";import{d as ot}from"./chunk-URGJ6D4O.js";import{a as Kt}from"./chunk-FB3ILH2L.js";import{b as g}from"./chunk-FLSAETOH.js";import{Aa as Zt,g as K}from"./chunk-4C5HF6J2.js";import{f as T,o as e,q as r}from"./chunk-UWURTNRY.js";e();r();e();r();var Lt=T(g());var qt=({loading:t,kysRet:o})=>{let p=o?.intention?.contract?.[0],m=!p||p?.supportIntentionFlag==="UNKNOWN";return(0,Lt.useCallback)(()=>!t&&m&&!o?.assetChange?.length?{type:ot.TYPE.warn,message:i("wallet_extension_transaction_title_unknown_asset")}:null,[o?.assetChange?.length,m,t])},Pt=qt;var Vt=({baseCoin:t={},kysRet:o={},verifyGasLimitRet:p={},estimateFailed:m=!1,estimateFailedMsg:_=null,isSufficientGas:s=!0,isSufficientBalance:u=!0,coinWithBalance:x={}}={},v={})=>{let{isBalanceLoadError:y,coinAmount:d}=x,S=yt({isBalanceLoadError:y}),N=gt({estimateFailed:m,estimateFailedMsg:_}),L=Ct({verifyGasLimitRet:p}),b=At({kysRet:o}),k=St({kysRet:o}),O=kt({baseCoin:t,isSufficientGas:s,coinAmount:d}),W=wt({isSufficientBalance:u}),B=Pt({kysRet:o,loading:o?.loading}),{pre:D=[],post:Yt=[],custom:zt}=v,H=zt||[...D,N,L,S,O,W,b,k,B,...Yt];for(let j=0;j<H.length;j++){let Ht=H[j],Z=Ht();if(Z)return Z}return null},fo=Vt;e();r();var Mt=T(g());e();r();var n=T(g());Zt();e();r();var $t=(t,o="")=>R.DEPLOY_CONTRACT===o?i("wallet_transfer_dapp_conncetion_subtitle_contracrt_deployment"):t?.contract?.[0]?.intentionTypeLanguageText||i("wallet_extension_transaction_page_title_unknown_transaction"),Ut=$t;e();r();var A=T(g());e();r();var E=T(g());e();r();var Ot=T(g());e();r();var bt={root:"_root_1wfix_1"};var Jt=({text:t,type:o=a.TYPE.secondary})=>{let p=ct();return Ot.default.createElement(a.Text,{forceWrap:!0,size:a.SIZE.xs,type:o,className:bt.root,onClick:()=>{p(t)}},t)},I=Jt;e();r();var z=T(g());var Qt=({approveInfo:t})=>{let o=t?.addressType===lt.eoa&&st(t?.approvalType)?a.TYPE.danger:a.TYPE.secondary;return z.default.createElement(C,{title:i("wallet_extension_popup_text_project"),summaryList:[{icon:{src:t.imageUrl||J},title:t.name||P,desc:z.default.createElement(I,{text:t.address,type:o})}]})},h=Qt;var Xt=({approveInfo:t})=>E.default.createElement(c,null,E.default.createElement(C,{title:i(pt(t.approvalType)?"extension_approve_maintitle_approve":"extension_revoke_approval_maintitle_revoke_approval"),summaryList:[{icon:{src:t.asset?.imageUrl||Q},title:t.asset?.name||P,desc:E.default.createElement(I,{text:t.asset?.address})}]}),E.default.createElement(h,{approveInfo:t})),Wt=Xt;e();r();var f=T(g()),Bt=T(Kt());e();r();var F={approve:"_approve_ojrap_1",title:"_title_ojrap_1",titleContent:"_titleContent_ojrap_6",warning:"_warning_ojrap_10"};var Rt=t=>{typeof t!="string"&&(t=t.toString());let o=t?.length;return o<=15?30:o<=16?28:o<=17?26:o<=18?24:o<=20?22:o<=21?20:o<=23?18:o<=25?16:o<=29?14:12},to=({approveInfo:t,editBtnSlot:o=null,authAmount:p})=>{let{symbol:m,decimals:_,imageUrl:s=$,signTokenPrecision:u,stableCoin:x}=t?.asset||{},{approvalRaw:v}=t||{},y=p||q(X(v),G.pow(10,_));if([w.AUTHORIZATION,w.INCREASE_ALLOWANCE,w.COMMON_APPROVE].includes(t.approvalType)){let d=tt(y),S=`${d?i("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):V(y,{precision:u??G.digitLength(y),isStableCoin:x}).value} ${m}`;return f.default.createElement(c,{className:F.approve},f.default.createElement(C,{title:i(t.approvalType===w.INCREASE_ALLOWANCE?"wallet_extension_approve_text_increase_approval_amount":"extension_approve_maintitle_approve"),summaryList:[{title:f.default.createElement(U.Box,{className:F.title},f.default.createElement(a.AdaptiveText,{text:S,className:(0,Bt.default)(F.titleContent,{[F.warning]:d}),autoSize:Rt,ellipsis:{tooltip:!0}},S),o),desc:!!d&&f.default.createElement(a.Text,{size:a.SIZE.xs,type:a.TYPE.warnig},i("wallet_extension_transfer_text_unlimited_approval_risk")),icon:{src:s},descSize:a.SIZE.xs}]}),f.default.createElement(h,{approveInfo:t}))}return f.default.createElement(c,null,f.default.createElement(C,{title:i(t.approvalType===w.CANCEL_AUTHORIZATION?"extension_revoke_approval_maintitle_revoke_approval":"wallet_extension_approve_text_reduce_approval_amount"),summaryList:[{desc:f.default.createElement(I,{text:t.asset?.address}),title:t.asset?.symbol,icon:{src:t.asset?.imageUrl}}]}),f.default.createElement(h,{approveInfo:t}))},Dt=to;var oo=({kysRet:t,dappInfo:o,showDappInfo:p=!0})=>{let{approveList:m,assetChange:_,txType:s}=t,{loading:u}=t;if(u)return A.default.createElement(Nt,null);let x=m?.[0]||{};return it(s)?A.default.createElement(Wt,{approveInfo:x}):nt(s)?A.default.createElement(Dt,{approveInfo:x}):at(s)?A.default.createElement(Ft,{assetChange:_,dappInfo:o,showDappInfo:p}):p?A.default.createElement(c,{bordered:!1},A.default.createElement(ht,{...o})):null},jt=oo;var eo=({coinId:t,kysRet:o={},loading:p=!1,dappInfo:m,showDappInfo:_=!0,walletId:s,fromAddress:u,networkFee:x,tipMessage:v,buttonGroup:y,contractAddress:d,showNetworkFee:S=!0,chainTxDetailSlot:N=null,onAddressCopy:L=K,slot:b,backable:k=!1,onBack:O,asPage:W})=>{let{top:B}=b||{},D=Ut(o?.intention);return(0,n.useEffect)(()=>{k||Et.hide()},[k]),p?n.default.createElement(It,null):n.default.createElement(U.Container,null,k&&n.default.createElement(rt,{backable:k,closeable:!1,loading:o?.loading,useTgEffect:!1,onBack:O,asPage:W}),n.default.createElement(ut,{...v}),n.default.createElement(ft,{injectInfo:{title:D,identify:!0}}),n.default.createElement(c,{bordered:!1},n.default.createElement(M.Thin,{compact:!0}),B),n.default.createElement(jt,{kysRet:o,dappInfo:m,showDappInfo:_}),n.default.createElement(c,{bordered:!!N},n.default.createElement(M.Thin,{compact:!0}),n.default.createElement(dt,{coinId:t}),S&&n.default.createElement(_t,{useTransition:!1,...x}),n.default.createElement(Y,{address:u,walletId:s,title:i("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{L({type:"from",address:u})}}),d&&n.default.createElement(Y,{address:d,title:i("wallet_extension_popup_text_interact_with"),onCopyCallback:()=>{L({type:"to",address:d})}})),N,n.default.createElement(et,{placeholder:!0,offsetBottom:0,borderTop:!0},n.default.createElement(mt,{buttonGroup:y})))},Gt=eo;var ro=t=>{let{unapproved:o,backable:p=!1,...m}=t,_=Tt(o),s=xt(o),u=vt({walletId:s.walletId});return Mt.default.createElement(Gt,{backable:p,onAddressCopy:u,dappInfo:_,walletId:s.walletId,fromAddress:s.address,...m})},er=ro;export{fo as a,er as b};
//# sourceMappingURL=chunk-S5YUS2I7.js.map
