import{b as I}from"./chunk-FS336U6P.js";import{k as E}from"./chunk-H5RNSDSN.js";import{b as h,c as k,q as v,t as F,u as O}from"./chunk-V5J3A5L5.js";import{a as y}from"./chunk-VL2JCPJS.js";import{Ke as x}from"./chunk-RPH2MNBW.js";import{b as X}from"./chunk-FLSAETOH.js";import{Aa as Y,M as t,Z as R,l as A}from"./chunk-4C5HF6J2.js";import{f as N,o as V,q as b}from"./chunk-UWURTNRY.js";V();b();var c=N(X());Y();var j=()=>{let{configStore:S}=I(),{computedConfig:L}=S,{defaultBuyPresets:d=[],defaultSellPresets:s=[],slippageConfig:e={},priorityFeeInfo:r={}}=L||{},i=(m,o,n,g)=>{if(t(m)||t(e)||t(n))return[];let{min:_,max:u,supportMaxSlippage:p,dynamicSlippageRangeMin:l,dynamicSlippageRangeMax:M,recommendSlippageRangeMin:a,recommendSlippageRangeMax:w}=e,U={low:o[0],medium:o[1],high:o[2]};return m.map((C,D)=>{let{slippage:T,priorityFeeType:G,[g?"defaultBuyAmountList":"defaultSellPercentList"]:$}=C,B=o.indexOf(T),K=B!==-1?O[B]:k.CUSTOM;return{id:`${v}${D+1}`,amountList:$,slippage:{mode:h.DYNAMIC,supportCustomMax:p,dynamicMax:M,dynamicMin:l,recommendMax:w,recommendMin:a,customMax:"",value:T,type:K,config:U,min:_,max:u},priorityFee:{value:"",type:F[G-1],max:String(n?.maxValue),recommendMaxValue:n?.recommendMaxValue,recommendMinValue:n?.recommendMinValue,config:{market:{},fast:{},turbo:{}}},isEnableMev:C.isEnableMev,priorityMode:"auto",manualType:0,name:D===0?x("swaptrade_market_placeorder_preset_option_default"):x("swaptrade_market_placeorder_preset_option_meme")}})},P=(0,c.useMemo)(()=>i(d,e.slippageList,r,!0),[d,e,r]),f=(0,c.useMemo)(()=>i(s,e.slippageList,r,!1),[s,e,r]);return{computeBuyDefaultPresetList:P,computedSellDefaultPresetList:f}},oe=()=>{let{buyStore:S,sellStore:L,configStore:d}=I(),{currentChainID:s,presetStorageKey:e}=d,{setBuyPresetList:r,buyPresetList:i,currentBuyPresetId:P,setCurrentBuyPresetId:f}=S,{setSellPresetList:m,sellPresetList:o,currentSellPresetId:n,setCurrentSellPresetId:g}=L,{computedConfig:_}=d,{slippageConfig:u={}}=_||{},{computeBuyDefaultPresetList:p,computedSellDefaultPresetList:l}=j();(0,c.useEffect)(()=>{if(t(p)||t(l)||t(u))return;let M=y.get(e),a=A(M,s)??null;if(a){r(E(a.buyPresetList,u)),f(a.currentBuyPresetId),m(E(a.sellPresetList,u)),g(a.currentSellPresetId);return}r(p),f(p?.[0]?.id),m(l),g(l?.[0]?.id)},[s,r,m,f,g,e,p,l,u]),(0,c.useEffect)(()=>{if(t(i)||t(o))return;let M=y.get(e);y.set(e,R({},M,{[s]:{buyPresetList:i,currentBuyPresetId:P,sellPresetList:o,currentSellPresetId:n}}))},[s,i,o,P,n,e])};export{j as a,oe as b};
//# sourceMappingURL=chunk-BFLVJJ2Z.js.map
