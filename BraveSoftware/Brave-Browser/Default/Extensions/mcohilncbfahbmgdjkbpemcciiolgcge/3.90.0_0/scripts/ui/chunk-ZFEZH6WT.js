import{a as Y}from"./chunk-LHFDZX73.js";import{a as B}from"./chunk-B4MQLH4C.js";import{a as T}from"./chunk-QEPQGEPL.js";import{l as t,r as W,s as q}from"./chunk-V7YATDMZ.js";import{m as M,n as S}from"./chunk-JYCBCMDP.js";import{a as O}from"./chunk-KC2XLVFC.js";import{qa as C}from"./chunk-MJDO2VHF.js";import{h as g}from"./chunk-TBQGFYU3.js";import{p as P}from"./chunk-DSNMNSMD.js";import{b as an}from"./chunk-FLSAETOH.js";import{f as tn,o as p,q as m}from"./chunk-UWURTNRY.js";p();m();function sn({id:a,walletId:r,origin:i,localType:k,extraParams:b}){let s=C(),c=B(r);return O(async()=>{c({trade:"contract_interaction",all_confirmation:"cancel",network:k,dapp_url:i}),await s(M(a,b)),await g(s)})}var j=sn;p();m();var n=tn(an());var cn=({coinId:a,unapproved:r,networkFee:i,feeLoading:k,estimateFailed:b=!1,preExecuteRet:s={},isSufficientGas:c,isSufficientBalance:z=!0,extParams:x,chainConfirmDisabled:H=!1,onCancel:l,onConfirm:u,disabledConfirmBtn:J,coinWithBalance:K})=>{let{id:e,origin:h,localType:E}=r,_=C(),{address:F,walletId:o}=Y(r),{loading:Q=!1,verifyGasLimitRet:v={}}=s,D=j({id:e,walletId:o,origin:h,localType:E}),I=!c||!z||W(v),V=B(o),w=(0,n.useCallback)(async()=>{l&&typeof l=="function"?await l():await D()},[l,D]),{loading:X,onClick:Z}=T(w),$={loading:X,onClick:Z,actionType:t.ACTION_TYPE.CANCEL,btnText:P("wallet_dapp_connection_btn_reject")},d=J||k||b||Q||q(v)||H,nn=(0,n.useCallback)(async()=>{try{u&&typeof u=="function"?await u({networkFee:i}):(await _(S(e,x)),await g(_))}catch(on){console.log("error",on)}},[h,u,o,w,i,V,E,_,e,x]),{isBalanceLoadError:L,requestBalance:U,isBalanceLoading:f}=K,{loading:G,onClick:N}=T(nn),y=(0,n.useMemo)(()=>({loading:G||f,disabled:d,onClick:N,actionType:t.ACTION_TYPE.CONFIRM}),[d,f,G,N]),R=(0,n.useMemo)(()=>({actionType:t.ACTION_TYPE.FILL_UP,txId:e,coinId:a,walletId:o,address:F}),[F,a,e,c,o]),A=(0,n.useMemo)(()=>({onClick:U,btnText:P("wallet_extension_transfer_error_text_reload"),actionType:t.ACTION_TYPE.CONFIRM}),[U]),en=(0,n.useMemo)(()=>d?y:L&&!f?A:I?R:y,[y,d,R,I,A,f,L]);return{buttonGroup:[$,en],handleCancel:w}},En=cn;export{j as a,En as b};
//# sourceMappingURL=chunk-ZFEZH6WT.js.map
