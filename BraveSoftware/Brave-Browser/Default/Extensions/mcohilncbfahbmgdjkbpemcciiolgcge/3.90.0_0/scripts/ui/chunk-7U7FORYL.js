import{b as f}from"./chunk-6M37VPK2.js";import{D as N}from"./chunk-EPDR6VAQ.js";import{c as l}from"./chunk-2O5TMJZM.js";import{K as y}from"./chunk-UI4IZNSB.js";import{D as n}from"./chunk-EQ34WRCJ.js";import{b as E}from"./chunk-FLSAETOH.js";import{f as v,o as a,q as i}from"./chunk-UWURTNRY.js";a();i();var q={CAN:"1",CANT:"0"},h={EVM:"0"};var P=(c,o)=>c?.uniqueId===o?.uniqueId;a();i();var p=v(E());a();i();async function D(c){try{return(await(await Promise.resolve(n.rpc_networks)).query(c)||[]).sort((w,d)=>w.order-d.order)}catch{return[]}}async function S(c){try{return await(await Promise.resolve(n.rpc_networks)).delete(c),!0}catch{return!1}}var C=c=>{let o={...c};return o?.chainId.startsWith("0x")||(o.chainId=`0x${f(o.chainId)}`),o};var j=()=>{let[c,o]=(0,p.useState)("loading"),[m,w]=(0,p.useState)({rpcNetworks:[],customNets:[],defaultNets:[]}),d=async e=>{let t=e,s=Number.parseInt(t.chainId,16);try{let{data:r}=await y(l.getRpcNetworkByChainId,{chainIds:[s]});if(Array.isArray(r)){let u=r.find(x=>x.chainId===s);t.faucetUrl=u?.faucets?.[0]||""}}catch{t.faucetUrl=""}return t},k=e=>{let t=e.filter(r=>r.isCustom),s=e.filter(r=>!r.isCustom).sort((r,u)=>r.order-u.order);return{rpcNetworks:[...s,...t],customNets:t,defaultNets:s}},I=async e=>{try{let t=await Promise.resolve(n.rpc_networks),s={...e,uniqueId:e.uniqueId||N(),type:h.EVM,isCustom:!0},r=await d(C(s));return await t.set(r),r}catch{return{}}},_=async e=>{try{let t=await Promise.resolve(n.rpc_networks),s=await d(C(e));return await t.get(e.uniqueId)&&await t.set(s),s}catch{return{}}},g=async e=>{try{let s=await(await Promise.resolve(n.rpc_networks)).query(e);w(k(s)),o("success")}catch{o("failed")}},T=async e=>{try{await S(e.uniqueId)}catch(t){console.log(t)}};return(0,p.useEffect)(()=>{let e;return(async()=>(await g({}),e=(await Promise.resolve(n.rpc_networks)).liveQuery().subscribe((s,r)=>{if(!r){let u=k(s);w(u),o("success")}})))(),()=>{e&&e?.unsubscribe()}},[]),{addRpcNetwork:I,updateRpcNetwork:_,deleteRpcNetwork:T,status:c,...m}};export{q as a,P as b,D as c,j as d};
//# sourceMappingURL=chunk-7U7FORYL.js.map
