import{a as mt}from"./chunk-CO7E2WII.js";import{b as ct,c as it,d as st}from"./chunk-7UYU4UAT.js";import{e as at}from"./chunk-JCVVB72F.js";import"./chunk-6CJRBF2P.js";import"./chunk-3KJMTMXK.js";import"./chunk-IWYRUFZN.js";import{b as Qe,i as Re,k as et,m as tt,q as ot,r as rt}from"./chunk-ITLSSVGE.js";import"./chunk-PWVBSLOL.js";import"./chunk-5WI3NR4H.js";import{e as nt}from"./chunk-AOZHPYH5.js";import"./chunk-HLTJYEGI.js";import"./chunk-4YPL7LEO.js";import"./chunk-452JEOHF.js";import{a as je}from"./chunk-3MLYZLAT.js";import"./chunk-RZOHZNJG.js";import"./chunk-RQTEHFJ2.js";import"./chunk-75EAYNWR.js";import"./chunk-DKVOSSSH.js";import"./chunk-FWL474H4.js";import{a as ie,k as Xe}from"./chunk-V7YATDMZ.js";import"./chunk-YRQLRR65.js";import"./chunk-T2AAZNU7.js";import"./chunk-E4CKCWHV.js";import"./chunk-66RCYZEO.js";import"./chunk-BIUKJDG5.js";import"./chunk-MNRE2RWN.js";import"./chunk-S63SUKPS.js";import"./chunk-QR6SNDPA.js";import"./chunk-DB7NVRTE.js";import"./chunk-EF6FTTLT.js";import{a as O}from"./chunk-U44ZBWPF.js";import"./chunk-YPTISS47.js";import"./chunk-UX2JFEX5.js";import"./chunk-XHRUTTJG.js";import"./chunk-OS6U6P6N.js";import"./chunk-PLVYKYSQ.js";import"./chunk-MEZ72IGZ.js";import"./chunk-ZLTTBRML.js";import"./chunk-XUGHAFHG.js";import{a as Je}from"./chunk-B5L26Z2J.js";import{d as ce}from"./chunk-AVG63QW4.js";import{a as Me,c as $e}from"./chunk-YLT6ZRGE.js";import"./chunk-VSNCKUAC.js";import{a as qe}from"./chunk-OB65JCC3.js";import"./chunk-ZWKYYPCG.js";import"./chunk-YLPOVMK6.js";import"./chunk-CAWXATKV.js";import"./chunk-GIKT3XNH.js";import"./chunk-4VAKOKZO.js";import"./chunk-F43OFDEC.js";import"./chunk-XAUZ4FZE.js";import"./chunk-5JVWMQI2.js";import"./chunk-KLS3SJXA.js";import"./chunk-5DQKP6TK.js";import"./chunk-QTPS5BDP.js";import"./chunk-KOQXCGQ5.js";import"./chunk-P7NYIGUS.js";import"./chunk-OWPVBYY3.js";import"./chunk-ZNFTIF43.js";import"./chunk-D52EE5TC.js";import"./chunk-FEU7MNAN.js";import"./chunk-CWNI35TN.js";import"./chunk-E6SXR3B6.js";import"./chunk-GTBNRR37.js";import"./chunk-UUOZSCBD.js";import"./chunk-A7FGCMOW.js";import"./chunk-V2CZ7DY4.js";import"./chunk-3PLVXUNW.js";import"./chunk-HIUQCAJS.js";import"./chunk-S6FHNOIH.js";import"./chunk-RKCZ2ONP.js";import"./chunk-RER2JAFZ.js";import"./chunk-CJAFGYQK.js";import"./chunk-QED56456.js";import"./chunk-HSSW2VTC.js";import"./chunk-PYCB247J.js";import"./chunk-2LQJ3JX6.js";import"./chunk-KF7FMIRD.js";import"./chunk-N4IYN7DD.js";import"./chunk-UY2DPNBT.js";import"./chunk-SZZZVLQW.js";import"./chunk-V5J3A5L5.js";import"./chunk-CERSDYPT.js";import"./chunk-RZETZIQO.js";import"./chunk-P5GHREX3.js";import"./chunk-HUG2KBCE.js";import"./chunk-6XMXPOUW.js";import"./chunk-3WKBEXBH.js";import"./chunk-RK4OLGCC.js";import"./chunk-NNPT43SF.js";import"./chunk-VL2JCPJS.js";import"./chunk-CTJAEFLV.js";import"./chunk-AP4E6GDF.js";import"./chunk-RPH2MNBW.js";import"./chunk-SKUQ6ZA4.js";import"./chunk-P3FTJE4X.js";import"./chunk-ACIP3YF7.js";import"./chunk-W6ZDZJCJ.js";import"./chunk-PGGBOJAH.js";import"./chunk-JDCCMYBK.js";import"./chunk-554VFFSY.js";import"./chunk-4ADHM5NM.js";import"./chunk-JBOOQ7HO.js";import"./chunk-RKPJE2LG.js";import"./chunk-O6ODITJY.js";import"./chunk-2XOPB27K.js";import"./chunk-OBLKTTHP.js";import"./chunk-LQJXR5XX.js";import"./chunk-NQGIYDUG.js";import"./chunk-QTCVWDVR.js";import"./chunk-4ITEJ5A6.js";import"./chunk-JYCBCMDP.js";import"./chunk-CBZ2RV36.js";import"./chunk-GVYIP5Q5.js";import"./chunk-VHMBEOFX.js";import"./chunk-L3AMAP6V.js";import"./chunk-W3VW6MYS.js";import"./chunk-GWHLETPD.js";import"./chunk-6GJ4TEPK.js";import"./chunk-BYDDPVAA.js";import"./chunk-CSTKCSUP.js";import{e as U}from"./chunk-M43NTBTB.js";import"./chunk-CKHT4PIF.js";import"./chunk-JMNZU6WB.js";import"./chunk-WXD7TULU.js";import"./chunk-JQHLKZPQ.js";import"./chunk-ZZBUS7GI.js";import{c as z}from"./chunk-PMG6IXOR.js";import"./chunk-BD5XO4WL.js";import"./chunk-7U7FORYL.js";import{o as Ve}from"./chunk-MT3ANHCR.js";import"./chunk-2IJ4E4D3.js";import"./chunk-XJ2EVWVX.js";import"./chunk-DD6IGY5O.js";import"./chunk-JMM35KIH.js";import"./chunk-5E7YC7OF.js";import"./chunk-LYGOKEAJ.js";import{b as Ne}from"./chunk-NS5EW6UN.js";import"./chunk-VUBIYSGX.js";import"./chunk-PNOOVDMP.js";import"./chunk-FHFRBSOO.js";import"./chunk-DU4RS7AX.js";import"./chunk-5C7AUJM4.js";import"./chunk-FLXVXXZH.js";import"./chunk-XBUPORYF.js";import{b as ae}from"./chunk-YVLQLIW6.js";import"./chunk-HBXZ3GPM.js";import"./chunk-6C7RJCTT.js";import{o as u}from"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-SI5WJURV.js";import"./chunk-MT4YWUUK.js";import{a as Ke}from"./chunk-IPVHRCDK.js";import"./chunk-JW2AVC2H.js";import"./chunk-AKOAGCJX.js";import"./chunk-ARDRUD4P.js";import{e as He}from"./chunk-WYX7GFOD.js";import{a as De}from"./chunk-G6PA2JD3.js";import"./chunk-N2N44VBE.js";import"./chunk-ZDJRNLYZ.js";import"./chunk-RV5WZKGQ.js";import{g as de}from"./chunk-MJSLAJV6.js";import{a as Le,b as Oe,i as Ue,k as Ge,n as j}from"./chunk-KC2XLVFC.js";import"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import{a as re}from"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import{c as M}from"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-SDBZJWGW.js";import"./chunk-F3ILJHGP.js";import{a as q,b as H}from"./chunk-6M37VPK2.js";import"./chunk-WOJGOC63.js";import{c as Ee,e as ve,m as Be}from"./chunk-3F7OC7N7.js";import"./chunk-HZOYPVSA.js";import"./chunk-Z4GX4TH2.js";import"./chunk-OKGWI7CU.js";import{i as Ie}from"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-I6UBKGB5.js";import"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import"./chunk-WN3TRBGI.js";import{c as h}from"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import{$ as oe,Da as Te,Ea as Ae,Fb as We,Ib as pe,Nb as Se,Pa as fe,oa as ke,xb as Fe}from"./chunk-EQ34WRCJ.js";import"./chunk-UIZGYUZK.js";import{k as ue,p as _}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import{a as ze}from"./chunk-DOSBJ3L3.js";import"./chunk-DNGRHKLV.js";import"./chunk-3O2IEAHF.js";import{D as V,J as ye,c as Ze,o as ne}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-I2AEM4CA.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{C as T}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as Ye}from"./chunk-FB3ILH2L.js";import{b as E}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-KZ2ZLD6V.js";import"./chunk-NEASQB35.js";import"./chunk-5BYM6SMZ.js";import"./chunk-TR37MFB4.js";import"./chunk-PNECIDQW.js";import"./chunk-BVDMVGLD.js";import{Aa as qt,M as be}from"./chunk-4C5HF6J2.js";import"./chunk-4HSSECLD.js";import"./chunk-BY6XCDJZ.js";import"./chunk-U6W3TK77.js";import"./chunk-6GYKGMWB.js";import"./chunk-WJI4CIAQ.js";import"./chunk-PESQD55U.js";import"./chunk-WQGQVXPA.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-UY3WU5XU.js";import"./chunk-ALECRBLY.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-QM6LXDU7.js";import"./chunk-WZALYVUQ.js";import"./chunk-F5YUOHHL.js";import"./chunk-26KHACOU.js";import"./chunk-VONUGAVN.js";import"./chunk-ZVKCRT3D.js";import"./chunk-MSOW5GDX.js";import"./chunk-O5NUB7LT.js";import"./chunk-QI2KSP5Y.js";import"./chunk-EL77VG5Z.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as W,o as m,q as l}from"./chunk-UWURTNRY.js";m();l();var w=W(E()),Nt=W(ze());m();l();var $t=()=>{let t=$e(),e=He({hasBackup:!0}),a=Me();return Le(async(c,n)=>{let o=await t(c),y=o?.localType;if(!c||!y)return null;let i=await M().getCreatedWalletIds(),f=await a({walletIds:i,chainId:o.chainId,coinId:c,flatten:!0});return(e?.map(r=>{let{walletIdentities:g}=r;return{...r,walletIdentities:g.map(C=>{let s=f[C?.walletId]||[];return{...C,coins:s.filter(p=>p?.coinId===c&&Ie(p.coinAmountInt,n))}}).filter(({coins:C})=>C?.length)}}).filter(({walletIdentities:r})=>r?.some(({coins:g})=>g?.length))).map(r=>{let g=r?.walletIdentities;return De({coinId:c})?g=g?.reduce((C,{coins:s,walletName:p,addressType:I,...b})=>[...C,...s.map(({coinAmountInt:k,addressType:S,...v})=>{let B=I?.[oe]?.find(P=>P?.addressType===pe[oe][S])?.address;return{...b,...v,walletName:p,coinAmountInt:k,label:`${r?.keyringName} - ${p}`,desc:de(B),addressType:pe[oe][S],address:B}})],[]):g=g.map(({account:C,walletName:s,coins:p,...I})=>{let b=C?.[y];return{...p[0],...I,address:b,walletName:s,label:`${r?.keyringName} - ${s}`,desc:de(b)}}),{...r,walletIdentities:g}})},[e])},lt=$t;m();l();var ut=W(E());var Jt=({fromAddr:t,coinId:e,toAddr:a,disabled:c,loading:n,walletId:o,walletType:y,sendAmount:i,hideLoading:f,onBeforeClick:x=()=>{},onPublishTrascation:r=()=>{},onClickWrap:g=()=>{}})=>{let{coin:C}=O(e,!1),[,s]=je({coinId:e,address:t,chainId:C?.chainId},{pollingInterval:20*1e3}),p=s?.normal,[,I]=et({coinId:e,walletId:o,address:t},{refreshDeps:[o,t]}),[,b]=ot({coinId:e,toAddr:a,walletId:o,fromAddr:t,satBytes:p,coinAmount:i,canTransferAmount:I}),k=rt({coinId:e,toAddr:a,walletId:o,fromAddr:t,satBytes:p,networkFee:b,coinAmount:i,localType:C?.localType,dustSize:s?.minOutput}),S=Re({coinId:e,walletId:o,address:t,utxoType:Qe.TRANSFER}),v=tt({coinId:e,txType:Ee.TRANS_OUT,address:t}),B=async()=>{g(async()=>{x&&await x(b,I);let P=await S(i,b);await v(P,()=>{f?.()});let N=await k({utxoList:P}),D=await ie(C.localType,N);r?.({coinId:e,txHash:D,signedTx:N,walletId:o,walletType:y,toAdr:a,serviceCharge:b,fromAdr:t,coinAmount:i})})};return ut.default.createElement(T,{loading:n,disabled:c,size:T.SIZE.lg,category:T.CATEGORY.fill,type:T.TYPE.highlight,onClick:B},_("wallet_extension_btn_general_confirm"))},ft=Jt;m();l();var Q=W(E());m();l();m();l();m();l();var Xt=({coinId:t,coinAmount:e,fromAddr:a,toAddr:c,ethereumGasInfo:n,btnProps:o,beforeClick:y,onClick:i})=>{let x={fetchParams:{coinId:t,from:a,to:c,amount:e,gasPrice:n.gasPrice},userGasInfo:n,baseCoinAmountUse:e};return{props:{beforeClick:y,dataForCheck:x,btnProps:o,onClick:i}}},pt=Xt;m();l();var yt=W(E());var jt=({coinId:t,sendAmount:e,fromAddr:a,toAddr:c})=>{let[n,o]=(0,yt.useState)({});return{props:{visible:!1,coinId:t,address:a,inputData:"",tokenAddress:c,value:e,onGasChange:o},ethereumGasInfo:n}},dt=jt;m();l();var Qt=({coinId:t,walletId:e,sendAmount:a,fromAddr:c,toAddr:n,ethereumGasInfo:o,onPublish:y})=>{let{coin:i}=O(t,!1),f=nt({walletId:e,fromAddr:c,coinId:i.coinId}),x=s=>{let{updateGasInfo:p}=s;return p?{...p,gasLimit:o.gasLimit,supportEip1559:o.supportEip1559,networkFee:o.networkFee}:{...o}},r=({updateData:s,finallyGasInfo:p})=>{let{nonce:I}=s,b=Fe(i.localType)?.realChainIdHex,k={from:c,gasLimit:H(p.gasLimit),nonce:H(I),chainId:b};return p.supportEip1559?(k.maxFeePerGas=H(p.maxFeePerGas),k.maxPriorityFeePerGas=H(p.maxPriorityFeePerGas),k.type=Be.FEE_MARKET):k.gasPrice=H(p.gasPrice),k.value=H(a),k.to=n,Ve(k)},g=({txParams:s,finallyGasInfo:p})=>{let I=q(s.value),b=q(s.gasLimit),k=q(o.supportEip1559?s.maxFeePerGas:s.gasPrice),S={...s,value:I,from:c,to:n,gas:b,gasPrice:k,priorityFee:q(o.supportEip1559?s.maxPriorityFeePerGas:0),nonce:q(s.nonce),repeatTxType:ve.CONFIRMING,oldTxHash:""};return{coinId:i.coinId,coinAmount:a,fromAdr:c,toAdr:n,serviceCharge:p.networkFee,extJson:JSON.stringify(S),txSource:Se.NORMAL,inputData:s.data?s.data:""}};return async s=>{let p=x(s),I=r({updateData:s,finallyGasInfo:p}),b={...I,walletId:e,supportEip1559:p.supportEip1559},k=g({txParams:I,finallyGasInfo:p}),S=await f(b),v={...k,signedTx:S};typeof y=="function"&&await y(v)}},gt=Qt;var Rt=({toAddr:t,coinId:e,walletId:a,fromAddr:c,sendAmount:n,btnProps:o,onBeforeClick:y=()=>{},onPublishTrascation:i=()=>{},onClickWrap:f=()=>{}})=>{let{props:x,ethereumGasInfo:r}=dt({coinId:e,toAddr:t,fromAddr:c,sendAmount:n}),g=r?.networkFee,C=gt({coinId:e,walletId:a,sendAmount:n,fromAddr:c,toAddr:t,ethereumGasInfo:r,onPublish:i}),{props:s}=pt({toAddr:t,coinId:e,fromAddr:c,ethereumGasInfo:r,coinAmount:n,btnProps:o,beforeClick:()=>y?.(g),onClick:(...p)=>{f(async()=>{await C(...p)})}});return Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(at,{...x}),Q.default.createElement(mt,{...s},_("wallet_extension_btn_general_confirm")))},_t=Rt;m();l();var xt=W(E()),Ct=W(ze());var eo=600001,to=({loading:t,disabled:e,fromPage:a,retryCreateAccount:c,onPublishTrascation:n=()=>Promise.resolve()})=>{let o=(0,Ct.useHistory)(),y=async()=>{let i=await n?.();if(Number(i?.code)===eo){let f=ne.warn({alignBottom:!1,title:_("wallet_extension_wax_modaltitle_account_unavailable"),text:_("wallet_extension_wax_modaldesc_free_account_unsupported"),cancelText:_("wallet_extension_btn_general_cancel"),confirmText:_("wallet_extension_mid_btn_retry"),onCancel:()=>{f.destroy(),o.push(a||re)},onConfirm:()=>{f.destroy(),c?.()}})}};return xt.default.createElement(T,{loading:t,disabled:e,size:T.SIZE.lg,category:T.CATEGORY.fill,type:T.TYPE.highlight,onClick:y},_("wallet_extension_btn_general_confirm"))},wt=to;m();l();var Pt=W(E());var oo=({fromAddr:t,coinId:e,toAddr:a,disabled:c,loading:n,walletId:o,walletType:y,sendAmount:i,onBeforeClick:f=()=>{},onPublishTrascation:x=()=>{},onClickWrap:r=()=>{}})=>{let{coin:g}=O(e,!1),C=async()=>{r(async()=>{typeof f=="function"&&f("0");let s=await Ne({coinId:e,fromAddr:t,toAddr:a}),{info:p}=s||{},{chainid:I,compression:b,refBlockNumber:k,refBlockId:S,refBlockTimestamp:v,expireSeconds:B}=p,P={type:0,from:t,to:a,amount:i,memo:"",common:{chainId:I,compression:b,refBlockNumber:k,refBlockId:S,refBlockTimestamp:v,expireSeconds:B}},N=await M().signTransaction(P,t,g.localType),D=await ie(g.localType,N);typeof x=="function"&&await x({coinId:e,txHash:D,signedTx:N,walletId:o,walletType:y,toAdr:a,serviceCharge:"0",fromAdr:t,coinAmount:i})})};return Pt.default.createElement(T,{loading:n,disabled:c,size:T.SIZE.lg,category:T.CATEGORY.fill,type:T.TYPE.highlight,onClick:C},_("wallet_extension_btn_general_confirm"))},ht=oo;m();l();var $=W(E()),bt=W(Ye());m();l();var d={"retina-border-basic":"_retina-border-basic_t6cnr_1",retinaBorderBasic:"_retina-border-basic_t6cnr_1","wax-create-account-confirm":"_wax-create-account-confirm_t6cnr_29",waxCreateAccountConfirm:"_wax-create-account-confirm_t6cnr_29","wax-create-account-confirm-form":"_wax-create-account-confirm-form_t6cnr_32",waxCreateAccountConfirmForm:"_wax-create-account-confirm-form_t6cnr_32","wax-create-account-confirm-form-select":"_wax-create-account-confirm-form-select_t6cnr_35",waxCreateAccountConfirmFormSelect:"_wax-create-account-confirm-form-select_t6cnr_35","wax-create-account-confirm-form-select-disabled":"_wax-create-account-confirm-form-select-disabled_t6cnr_42",waxCreateAccountConfirmFormSelectDisabled:"_wax-create-account-confirm-form-select-disabled_t6cnr_42","wax-create-account-confirm-form-select-free":"_wax-create-account-confirm-form-select-free_t6cnr_46",waxCreateAccountConfirmFormSelectFree:"_wax-create-account-confirm-form-select-free_t6cnr_46","wax-create-account-confirm-form-select-free-text":"_wax-create-account-confirm-form-select-free-text_t6cnr_49",waxCreateAccountConfirmFormSelectFreeText:"_wax-create-account-confirm-form-select-free-text_t6cnr_49","wax-create-account-confirm-form-select-free-amount":"_wax-create-account-confirm-form-select-free-amount_t6cnr_53",waxCreateAccountConfirmFormSelectFreeAmount:"_wax-create-account-confirm-form-select-free-amount_t6cnr_53","wax-create-account-confirm-form-select-space":"_wax-create-account-confirm-form-select-space_t6cnr_57",waxCreateAccountConfirmFormSelectSpace:"_wax-create-account-confirm-form-select-space_t6cnr_57","wax-create-account-confirm-form-payInfo":"_wax-create-account-confirm-form-payInfo_t6cnr_60",waxCreateAccountConfirmFormPayInfo:"_wax-create-account-confirm-form-payInfo_t6cnr_60","wax-create-account-confirm-form-payInfo-icon":"_wax-create-account-confirm-form-payInfo-icon_t6cnr_65",waxCreateAccountConfirmFormPayInfoIcon:"_wax-create-account-confirm-form-payInfo-icon_t6cnr_65","wax-create-account-confirm-form-payCrypto-dialog":"_wax-create-account-confirm-form-payCrypto-dialog_t6cnr_69",waxCreateAccountConfirmFormPayCryptoDialog:"_wax-create-account-confirm-form-payCrypto-dialog_t6cnr_69","wax-create-account-confirm-form-payCrypto-title":"_wax-create-account-confirm-form-payCrypto-title_t6cnr_72",waxCreateAccountConfirmFormPayCryptoTitle:"_wax-create-account-confirm-form-payCrypto-title_t6cnr_72","wax-create-account-confirm-form-payCrypto-list":"_wax-create-account-confirm-form-payCrypto-list_t6cnr_78",waxCreateAccountConfirmFormPayCryptoList:"_wax-create-account-confirm-form-payCrypto-list_t6cnr_78","wax-create-account-confirm-form-payWallet":"_wax-create-account-confirm-form-payWallet_t6cnr_81",waxCreateAccountConfirmFormPayWallet:"_wax-create-account-confirm-form-payWallet_t6cnr_81","wax-create-account-confirm-form-payWallet-navigator":"_wax-create-account-confirm-form-payWallet-navigator_t6cnr_84",waxCreateAccountConfirmFormPayWalletNavigator:"_wax-create-account-confirm-form-payWallet-navigator_t6cnr_84","wax-create-account-confirm-form-payWallet-wallet-item":"_wax-create-account-confirm-form-payWallet-wallet-item_t6cnr_87",waxCreateAccountConfirmFormPayWalletWalletItem:"_wax-create-account-confirm-form-payWallet-wallet-item_t6cnr_87","wax-create-account-confirm-form-payWallet-accordion":"_wax-create-account-confirm-form-payWallet-accordion_t6cnr_90",waxCreateAccountConfirmFormPayWalletAccordion:"_wax-create-account-confirm-form-payWallet-accordion_t6cnr_90","wax-create-account-confirm-form-payWallet-accordion-header":"_wax-create-account-confirm-form-payWallet-accordion-header_t6cnr_96",waxCreateAccountConfirmFormPayWalletAccordionHeader:"_wax-create-account-confirm-form-payWallet-accordion-header_t6cnr_96","wax-create-account-confirm-form-payWallet-accordion-content":"_wax-create-account-confirm-form-payWallet-accordion-content_t6cnr_130",waxCreateAccountConfirmFormPayWalletAccordionContent:"_wax-create-account-confirm-form-payWallet-accordion-content_t6cnr_130","wax-create-account-confirm-form-payWallet-accordion-icon":"_wax-create-account-confirm-form-payWallet-accordion-icon_t6cnr_133",waxCreateAccountConfirmFormPayWalletAccordionIcon:"_wax-create-account-confirm-form-payWallet-accordion-icon_t6cnr_133","wax-create-account-confirm-form-payWallet-account-item":"_wax-create-account-confirm-form-payWallet-account-item_t6cnr_136",waxCreateAccountConfirmFormPayWalletAccountItem:"_wax-create-account-confirm-form-payWallet-account-item_t6cnr_136","wax-create-account-confirm-form-payWallet-account-item-main":"_wax-create-account-confirm-form-payWallet-account-item-main_t6cnr_140",waxCreateAccountConfirmFormPayWalletAccountItemMain:"_wax-create-account-confirm-form-payWallet-account-item-main_t6cnr_140","wax-create-account-confirm-form-payWallet-tag":"_wax-create-account-confirm-form-payWallet-tag_t6cnr_143",waxCreateAccountConfirmFormPayWalletTag:"_wax-create-account-confirm-form-payWallet-tag_t6cnr_143","wax-create-account-confirm-form-payWallet-selected-icon":"_wax-create-account-confirm-form-payWallet-selected-icon_t6cnr_152",waxCreateAccountConfirmFormPayWalletSelectedIcon:"_wax-create-account-confirm-form-payWallet-selected-icon_t6cnr_152","wax-create-account-confirm-form-payWallet-footer":"_wax-create-account-confirm-form-payWallet-footer_t6cnr_155",waxCreateAccountConfirmFormPayWalletFooter:"_wax-create-account-confirm-form-payWallet-footer_t6cnr_155","wax-create-account-confirm-form-insufficient-error":"_wax-create-account-confirm-form-insufficient-error_t6cnr_158",waxCreateAccountConfirmFormInsufficientError:"_wax-create-account-confirm-form-insufficient-error_t6cnr_158","wax-create-account-confirm-form-fill-up":"_wax-create-account-confirm-form-fill-up_t6cnr_161",waxCreateAccountConfirmFormFillUp:"_wax-create-account-confirm-form-fill-up_t6cnr_161"};var ro=({coinAmount:t,decimals:e,symbol:a,displayPrecision:c,stableCoin:n})=>$.default.createElement(h.FlexBox,{align:h.ALIGN.center,className:(0,bt.default)(d["wax-create-account-confirm-form-select"],d["wax-create-account-confirm-form-select-free"])},$.default.createElement(h.Space,{space:6,align:h.ALIGN.center,direction:h.DIRECTION.horizontal},$.default.createElement(u.Text,{className:d["wax-create-account-confirm-form-select-free-text"]},_("wallet_extension_mid_colored_free")),$.default.createElement(u.DisplayAmount,{className:d["wax-create-account-confirm-form-select-free-amount"],mode:u.CRYPTO,size:u.SIZE.sm,symbol:a,amount:t,decimals:e,precision:c,isStableCoin:n}))),It=$.default.memo(ro);m();l();var Y=W(E());var no=({symbol:t,decimals:e,value:a={},displayPrecision:c,stableCoin:n})=>{let o=[{symbol:t,decimals:e,label:"extension_wallet_create_colored_cpu",value:a?.cpuAmount},{symbol:t,decimals:e,label:"extension_wallet_create_colored_network",value:a?.netAmount},{decimals:0,symbol:"bytes",label:"extension_wallet_create_colored_ram",value:a?.ramAmount},{symbol:t,decimals:e,label:"extension_wallet_create_colored_price",value:a?.sumAmount,icon:{icon:"okx-wallet-plugin-information-circle",tooltip:"extension_wallet_create_tooltip_20percent_transferfee"}}];return Y.default.createElement(U,{space:20,className:d["wax-create-account-confirm-form-payInfo"],dataSource:o,renderItem:y=>{let{icon:i,label:f,value:x,symbol:r,decimals:g}=y;return Y.default.createElement(U.Line,{size:u.SIZE.sm,label:Y.default.createElement(Y.default.Fragment,null,_(f),!!i&&Y.default.createElement(z,{className:d["wax-create-account-confirm-form-payInfo-icon"],icon:i?.icon,size:z.SIZE.xs,tooltip:i?.tooltip?_(i?.tooltip):!1})),value:Y.default.createElement(u.DisplayAmount,{symbol:r,decimals:g,precision:c,isStableCoin:n,mode:u.CRYPTO,size:u.SIZE.sm},x)})}})},kt=Y.default.memo(no);m();l();var Z=W(E()),Tt=W(Ye());var ao=({type:t,value:e,disabled:a,placeholder:c,onClick:n})=>Z.default.createElement(h.FlexBox,{align:h.ALIGN.center,onClick:()=>{n?.(t)},className:(0,Tt.default)(d["wax-create-account-confirm-form-select"],{[d["wax-create-account-confirm-form-select-disabled"]]:a})},Z.default.createElement(h.Space,{className:d["wax-create-account-confirm-form-select-space"],space:0,direction:h.DIRECTION.vertical},!e&&c&&Z.default.createElement(u.Text,{type:u.TYPE.secondary},c),!!e&&Z.default.createElement(u.Text,null,e?.label||e),!!e?.desc&&Z.default.createElement(u.Text,{size:u.SIZE.xs,type:u.TYPE.secondary},e?.desc||e)),!a&&Z.default.createElement(z,{icon:"okx-wallet-plugin-right",size:z.SIZE.xs})),ge=Z.default.memo(ao);m();l();var G=W(E());var co=({name:t,value:e,visible:a,options:c,onChange:n,onClose:o})=>G.default.createElement(ne,{windowClass:d["wax-create-account-confirm-form-payCrypto-dialog"],alignBottom:!0,onClose:()=>{o?.(t)},visible:a},G.default.createElement(u.Text,{className:d["wax-create-account-confirm-form-payCrypto-title"],strong:700,ellipsis:{tooltip:!0}},_("extension_wallet_popup_maintitle_select_crypto")),G.default.createElement(U,{className:d["wax-create-account-confirm-form-payCrypto-list"],space:16,dataSource:c,renderItem:y=>{let{icon:i}=y;return G.default.createElement(U.Card,{icon:{src:i},onClick:()=>{n?.({[t]:y}),o?.(t)},selected:e?.coinId===y.coinId},G.default.createElement(h.Space,{space:2,direction:h.DIRECTION.vertical},G.default.createElement(u.Text,null,y.label),G.default.createElement(u.Text,{type:u.TYPE.secondary,size:u.SIZE.sm},y.message)))}})),At=G.default.memo(co);m();l();var F=W(E());var io=({name:t,value:e,visible:a,options:c=[],onChange:n,onClose:o,coinId:y})=>{let[i,f]=(0,F.useState)(e),{coin:x}=O(y,!1);return(0,F.useEffect)(()=>{f(e)},[e]),a?F.default.createElement(h.Portal,{component:h.Container,className:d["wax-create-account-confirm-form-payWallet"]},F.default.createElement(ce,{className:d["wax-create-account-confirm-form-payWallet-navigator"],title:_("extension_wallet_header_title_select_wallet"),closeable:!1,onBack:()=>{o?.(t)}}),F.default.createElement(U,{className:d["wax-create-account-confirm-form-payWallet-wallet-item"],space:12,dataSource:c||[],renderItem:({keyringName:r,keyringColor:g,walletIdentities:C})=>F.default.createElement(Ze,{defaultExpanded:!0,iconClassName:d["wax-create-account-confirm-form-payWallet-accordion-icon"],title:F.default.createElement(u.Text,{strong:!0,size:u.SIZE.lg,style:{color:g}},r),className:d["wax-create-account-confirm-form-payWallet-accordion"],headerClassName:d["wax-create-account-confirm-form-payWallet-accordion-header"],contentClassName:d["wax-create-account-confirm-form-payWallet-accordion-content"]},F.default.createElement(U,{dataSource:C,renderItem:s=>F.default.createElement(h.FlexBox,{className:d["wax-create-account-confirm-form-payWallet-account-item"],align:h.ALIGN.center,onClick:()=>{f(s)}},F.default.createElement(h.Space,{className:d["wax-create-account-confirm-form-payWallet-account-item-main"],space:0,direction:h.DIRECTION.vertical},F.default.createElement(h.Space,{space:8,align:h.ALIGN.center},F.default.createElement(u.Text,{size:u.SIZE.md},s?.walletName),!!s.addressType&&F.default.createElement(h.Box,{className:d["wax-create-account-confirm-form-payWallet-tag"]},_(We[s.addressType]))),F.default.createElement(u.DisplayAmount,{mode:u.CRYPTO,decimals:s?.decimals,symbol:s?.symbol,precision:x?.displayPrecision,isStableCoin:x?.stableCoin,size:u.SIZE.xs,type:u.TYPE.secondary},s?.coinAmountInt)),i?.address===s?.address&&F.default.createElement(z,{className:d["wax-create-account-confirm-form-payWallet-selected-icon"],icon:"okx-wallet-plugin-completed"}))}))}),F.default.createElement(ae.FooterActions,{zIndex:101,className:d["wax-create-account-confirm-form-payWallet-footer"]},F.default.createElement(T,{size:T.SIZE.lg,category:T.CATEGORY.fill,type:T.TYPE.highlight,onClick:()=>{o?.(t),n?.({[t]:i})}},_("wallet_extension_btn_general_confirm")))):null},Ft=io;m();l();var Wt=W(E());var so=({sendAmount:t,availableBalance:e="0",onCheckCallback:a})=>(0,Wt.useCallback)((c="0",n)=>ue.gt(ue.add(t,c),n!==void 0?n:e)?a?.(!0):a?.(!1),[t,e]),St=so;m();l();var J=W(E());var mo=()=>{let t=V.useForm(),[e,a]=(0,J.useState)({}),[c,n]=(0,J.useState)({payCrypto:!1,payWallet:!1}),o=(0,J.useCallback)(i=>{n(f=>({...f,[i]:!f[i]}))},[]),y=(0,J.useCallback)(i=>{t.setFieldsValue(i),a((f={})=>({...f,...i}))},[]);return{form:t,visible:c,payValues:e,onPayValuesChange:y,onToggleSelectPanel:o}},Et=mo;m();l();var K=W(E());qt();var lo=60*1e3,uo=t=>{let[e,a]=(0,K.useState)({}),[c,{set:n}]=j(!1),[o,{set:y}]=j(),[i,f]=(0,K.useState)([]),x=qe(),r=(0,K.useMemo)(()=>be(x)?[]:i.map(p=>{let{coinId:I,coinAmount:b}=p,k=x[I]||{},{image:S,symbol:v,decimals:B,displayPrecision:P,stableCoin:N}=k;return{...k,...p,icon:S,label:K.default.createElement(u.DisplayAmount,{noStyle:!0,symbol:v,decimals:B,mode:u.CRYPTO,precision:P,isStableCoin:N},b)}}),[x,i]),g=async()=>{let{eosMarket:p,coins:I,freeAccount:b}=await ct({coinId:t});a(p),f(I),y(b)},{runAsync:C,refreshAsync:s}=Ge(g,{manual:!0,pollingInterval:lo,pollingWhenHidden:!1,pollingErrorRetryCount:3});return Ue(()=>{(async()=>{try{n(!0),await C()}catch{}finally{n(!1)}})()}),[c,o,e,r,s]},vt=uo;m();l();var X=W(E());var fo=({form:t,payInfo:e,payValues:a,isFreeCreate:c,walletOptions:n,payCryptoOptions:o,onPayValuesChange:y,setPayWalletError:i})=>{let f=(0,X.useRef)({payCrypto:!1,payWallet:!1}),x=r=>{y?.(r),t.setFieldsValue(r)};(0,X.useEffect)(()=>{x({payInfo:e})},[e]),(0,X.useEffect)(()=>{if(!f.current.payCrypto&&o?.length){let r=o.find(({recommend:g})=>g);x({payCrypto:r}),f.current={...f.current,payCrypto:!0}}if(f.current.payCrypto&&o?.length){let r=o.find(({coinId:g})=>g===a?.payCrypto?.coinId);r&&x({payCrypto:r})}},[o]),(0,X.useEffect)(()=>{if(!c){if(!f.current.payWallet&&n?.length){let[{walletIdentities:[r]}]=n;x({payWallet:r}),f.current={...f.current,payWallet:!0}}if(f.current.payWallet){n?.length||(x({payWallet:null}),i?.(!1));let{coinId:r}=a?.payCrypto||{},{coinId:g}=a?.payWallet||{};if(n?.length&&r!==g){let[{walletIdentities:[C]}]=n;x({payWallet:C}),i?.(!1)}}}},[c,n])},Bt=fo;var po=()=>{let t=Je(),e=(0,Nt.useHistory)(),[a,c]=(0,w.useState)(null),n=Number(t.get("coinId"))||fe,{coin:o}=O(n,!1),y=Ke(),[i,f]=(0,w.useState)(!1),[x,r,g,C,s]=vt(n),[p,I]=(0,w.useState)(!1),[b,{setTrue:k,setFalse:S}]=j(!1),{form:v,visible:B,payValues:P,onPayValuesChange:N,onToggleSelectPanel:D}=Et({payInfo:g,payCryptoOptions:C}),se=lt();Oe(()=>{(async()=>{if(!r&&P?.payCrypto?.coinId){let L=await se(P?.payCrypto?.coinId,P?.payCrypto?.coinAmount);c(L)}})()},[r,P?.payCrypto?.coinId,P?.payCrypto?.coinAmount]),Bt({form:v,payInfo:g,payValues:P,isFreeCreate:r,walletOptions:a,payCryptoOptions:C,setPayWalletError:f,onPayValuesChange:N});let{coinId:R,coinAmount:_e,toAddress:Lt}=P?.payCrypto||{},{walletId:Ot,serverWalletType:xe,address:Ce,coinAmountInt:we}=P?.payWallet||{},Ut=async L=>{try{k(),await L()}catch(te){let le=te?.msg||_("extension_wallet_transaction_notif_waxaccount_failed");ye.error({title:le})}finally{S()}},Gt=St({sendAmount:_e,availableBalance:we,onCheckCallback:L=>(f(L),L?Promise.reject():Promise.resolve())}),Pe=async L=>{let te=await M().getPublicKeyByWalletId(y,ke),{coinAmount:le,symbol:Vt}=P?.payCrypto||{},{ramBytes:zt,cpuAmount:Yt,ramAmount:Zt,netAmount:Ht,sumAmount:Kt}=P?.payInfo||{},Mt={transaction:L,order:{payCoin:Vt,ramBytes:zt,payAmount:le,eosAmount:Kt,cpuAmount:Yt,ramAmount:Zt,netAmount:Ht,ownerKey:te,activeKey:te,payAddress:Ce,account:t.get("account"),coinId:o?.coinId,chainId:o?.chainId}},he=await(r?st:it)(Mt,y);return Number(he.code)===0&&(ye.success({title:_("extension_wallet_transaction_notif_waxaccount_created"),desc:t.get("account")}),e.push(t.get("from")||re)),he},me={coinId:R,toAddr:Lt,walletId:Ot,fromAddr:Ce,sendAmount:_e,onBeforeClick:Gt,onPublishTrascation:Pe,onClickWrap:Ut},ee=!r&&(!P?.payCrypto||!P?.payWallet),Dt=(0,w.useMemo)(()=>r?C.find(L=>L?.coinId===n)||C?.[0]:{},[r,n,C]);return w.default.createElement(h.Container,{loading:x,className:d["wax-create-account-confirm"]},w.default.createElement(ce,{closeable:!1,title:_("extension_wallet_header_title_waxaccount_opening")}),w.default.createElement(V,{form:v,className:d["wax-create-account-confirm-form"]},w.default.createElement(V.Item,{name:"payCrypto",label:_("extension_wallet_create_text_payment_crypto")},r?w.default.createElement(It,{...Dt,displayPrecision:o?.displayPrecision,stableCoin:o?.stableCoin}):w.default.createElement(ge,{type:"payCrypto",onClick:D})),!r&&w.default.createElement(V.Item,{name:"payWallet",extra:!!i&&w.default.createElement(h.Space,{space:7},w.default.createElement(u.Text,{className:d["wax-create-account-confirm-form-insufficient-error"],size:u.SIZE.sm},_("extension_wallet_create_errortip_insufficient_balance")),w.default.createElement(u.Text,{className:d["wax-create-account-confirm-form-fill-up"],size:u.SIZE.sm,onClick:()=>{I(!0)}},_("extension_wallet_create_textbtn_fill_up",{crypto:P?.payCrypto?.symbol}))),label:_("extension_wallet_create_text_payment_wallet")},w.default.createElement(ge,{type:"payWallet",onClick:D,disabled:!a?.length,placeholder:_("extension_wallet_create_input_no_available_wallets")})),w.default.createElement(V.Item,{name:"payInfo",label:_("extension_wallet_create_text_pay_toopen")},w.default.createElement(kt,{symbol:o?.symbol,decimals:o?.decimals,displayPrecision:o?.displayPrecision,stableCoin:o?.stableCoin})),w.default.createElement(V.Item,null,w.default.createElement(ae.FooterActions,{placeholder:!1},!r&&R===Ae&&w.default.createElement(ft,{loading:b,disabled:ee,walletType:xe,hideLoading:S,availableAmount:we,...me}),!r&&R===Te&&w.default.createElement(_t,{btnProps:{loading:b,disabled:ee},...me}),!r&&R===fe&&w.default.createElement(ht,{loading:b,disabled:ee,walletType:xe,...me}),r&&w.default.createElement(wt,{loading:b,disabled:ee,fromPage:t.get("from"),retryCreateAccount:s,onPublishTrascation:Pe})))),w.default.createElement(At,{name:"payCrypto",value:P.payCrypto,visible:B.payCrypto,options:C,onChange:N,onClose:D}),w.default.createElement(Ft,{name:"payWallet",value:P?.payWallet,visible:B?.payWallet,options:a,onClose:D,onChange:N,coinId:P?.payCrypto?.coinId}),w.default.createElement(Xe,{visible:p,closeCallback:()=>I(!1),address:P?.payWallet?.address,coinId:P?.payCrypto?.coinId,receiveOnly:!0}))},Wa=w.default.memo(po);export{Wa as default};
//# sourceMappingURL=ConfirmPay-BK5ZMHJ3.js.map
