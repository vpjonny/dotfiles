import{C as pe,L as fe,S as z,W as Le,c as Ye,m as oe,o as ne}from"./chunk-5CHTOVVG.js";import{a as He}from"./chunk-FB3ILH2L.js";import{b as N}from"./chunk-FLSAETOH.js";import{f as P,o as i,q as a}from"./chunk-UWURTNRY.js";i();a();var Q=P(N()),Ce=P(He()),m=P(Ye());i();a();var j=P(N());function Xe({alt:e,store:r,...t},o){let{onLoad:s,onError:l,needSource:d,sourceSrcset:f,requestSrc:n,imgSrcSet:S,imgSrc:p}=r;return p?j.default.createElement(j.default.Fragment,null,d&&j.default.createElement("source",{"data-testid":"okd-image-source-webp-default",srcSet:f}),j.default.createElement("img",{...t,src:p,ref:o,srcSet:S,alt:e,onLoad:c=>{s(c,p,n)},onError:c=>{l(c,p,n)}})):null}var Ie=(0,j.forwardRef)(Xe);i();a();var Y=P(N());i();a();var Qe="x-oss-process=image/",ur=new RegExp(`(${Qe}[^&]+&??)`);var V={cover:"cover",contain:"contain"};V.allAsArray=Object.values(V);var Z={resize:"resize",crop:"crop"},q={sm:"(max-width: 767px)",md:"(min-width: 768px) and (max-width: 1023px)",lg:"(min-width: 1024px) and (max-width: 1269px)",xl:"(min-width: 1270px) and (max-width: 1859px)","2xl":"(min-width: 1860px) and (max-width: 2036px)","3xl":"(min-width: 2037px)"};i();a();i();a();var ie="x-oss-process=image/",Je=new RegExp(`(${ie}[^&]+&??)`),Re="format,webp",se="/ignore-error,1",ae={resize:"resize",crop:"crop"},Ke=e=>e.replace(/\s/g,"%20");function ge(e){return!!(e&&e.startsWith("data:")&&e.includes("base64,"))}function ce(e){return e&&e.startsWith("blob:")}function ee(e){return e.includes(Re)}function De(e){let{cdnDomainMap:r={}}=ne,t="";return!e.includes(ne.cdnBaseUrl)&&Object.values(r).some(o=>e.includes(o)?(t=o,!0):!1)?e.replace(t,ne.cdnBaseUrl):e}function Pe(e){return e.includes(se)?`${e.replace(se,"")}${se}`:`${e}${se}`}function $e(e="",r){let t=e;return e.includes(r)?e:(t.indexOf(ie)>-1?t=t.replace(Je,`$1/${r}`):t.indexOf("?")!==-1?t+=`&${ie}${r}`:t+=`?${ie}${r}`,Pe(t))}function M(e,r=!0){let t=e;return t?ce(e)?e:(t=De(Ke(e)),r?$e(t,Re):t):""}var Ze=e=>e[0],H=(e={},r,t)=>{if(!r)return"";let o=Object.entries(e).map(([s,l])=>l?`${Ze(s)}_${l}`:"").filter(Boolean).join(",");return o?$e(r,`${t},${o},type_6`):r},Se=(e,r)=>e.map(t=>{let{media:o,type:s=ae.resize,src:l,resize:d,crop:f,w:n,h:S,...p}=t,c=s;f&&(c=ae.crop),d&&(c=ae.resize);let h=H(d||f||{width:n,height:S},l||r,c);return{media:o,src:h,...p}}),ue=({srcSetData:e,resize:r,useWebp:t})=>e.map(o=>`${H(r,M(o.src,t),ae.resize)} ${o.size}`).join(",");function he({mediaSource:e,isErrorState:r,useWebp:t}){return e.map((o,s)=>{let{media:l,src:d,...f}=o,n=q[l]||l,S=d;return S&&!r?Y.default.createElement(Y.Fragment,{key:n||s},t&&!ee(S)&&Y.default.createElement("source",{"data-testid":"okd-image-source-webp-media",media:n,srcSet:M(S),...f}),Y.default.createElement("source",{"data-testid":"okd-image-source-media",media:n,srcSet:S})):null})}i();a();i();a();var X=P(N());function xe(e){let r=(0,X.useRef)(null),[t,o]=(0,X.useState)(!e);return(0,X.useEffect)(()=>{if(!e)return;let{top:s=0,bottom:l=0,right:d=0,left:f=0,...n}=typeof e=="object"?e:{},S=`${s}px ${d}px ${l}px ${f}px`,p,c=!1;r.current&&!t&&(pe.IntersectionObserver?(p=new pe.IntersectionObserver(L=>{L.forEach(E=>{!c&&(E.intersectionRatio>0||E.isIntersecting)&&o(!0)})},{threshold:.01,rootMargin:S,...n}),p.observe(r.current)):o(!0));let h=r.current;return()=>{c=!0,p&&p.unobserve&&h&&(p.unobserve(h),p=null)}},[e]),{imageRef:r,visible:t,lazyload:e}}i();a();var de=P(N());function be({store:e,ssrRendered:r}){let{onError:t,onLoad:o,mediaSource:s,loadedImages:l,requestSrc:d}=e,{media:f}=Le(),n=(0,de.useRef)(null);return(0,de.useEffect)(()=>{if(r&&n.current){let{complete:S,naturalHeight:p}=n.current,c=s&&s.find(h=>h.media===q[f])?.src||d;S&&!l.current.has(c)&&(p>0?o(n.current,d,c):t(n.current,d,c))}},[]),{imgRef:n}}i();a();var D=P(N());function _e(e){let{errorImg:r,src:t,onError:o,onLoad:s,mediaData:l,resize:d,useWebp:f,srcSetData:n,lazyload:S}=e,p=Se(l,t),c=(0,D.useRef)(new Map),[h,L]=(0,D.useState)(!t),[E,$]=(0,D.useState)(h&&!r),[w,A]=(0,D.useState)(!1),O=(0,D.useMemo)(()=>{let b,x;return n.length>0&&(b=ue({srcSetData:n,resize:d,useWebp:!1}),x=ue({srcSetData:n,resize:d,useWebp:f})),{imgSrcSet:b,sourceSrcSet:x}},[n,d,f]),I=h&&r,k=(0,D.useMemo)(()=>{let b=I?r:t,x=I?M(b,!1):H(d,M(b,!1),Z.resize),C=H(d,M(b,f),Z.resize),v=f&&!ee(x),W=O.sourceSrcSet||C;return{imgSrc:x,sourceSrc:C,requestSrc:v?W:x,needSource:v,sourceSrcset:W}},[O,I,t,d,f,r]);return(0,D.useEffect)(()=>{h&&t&&L(!1),E&&t&&$(!1)},[t]),{onError:(b,x,C)=>{c.current.set(C,{onerror:!0}),L(!0),o(b,x),r?x==r&&$(!0):$(!0)},onLoad:(b,x,C)=>{c.current.set(C,{onload:!0}),S&&A(!0),s(b)},isLoaded:w,isFallbackError:E,isErrorState:I,mediaSource:p,loadedImages:c,...O,...k}}var ye=`${z}-picture`;function G(e){let r=fe.useMergeProps(G.defaultPropsValue,e),{src:t,alt:o,layout:s,lazyload:l,className:d,useWebp:f,placeholder:n,errorImg:S,width:p,height:c,style:h,pictureClassName:L,pictureStyle:E,resize:$,originWidth:w,originHeight:A,mediaData:O,ssrRendered:I,srcSetData:k,getImgRef:F,...J}=r,b=ge(t)||ce(t)?!1:f,x=_e({...r,useWebp:b}),{isLoaded:C,isFallbackError:v,isErrorState:W,mediaSource:B}=x,{imgRef:re}=be({store:x,ssrRendered:I}),{imageRef:me,visible:u}=xe(l),T=v||l&&!C&&!u,le={width:p,height:c,...h};return Q.default.createElement("picture",{className:(0,Ce.default)(fe.data.okdNamespace,ye,L,{[`${ye}-font`]:!T}),ref:me,style:E},u&&!v&&Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(he,{mediaSource:B,isErrorState:W,useWebp:b}),Q.default.createElement(Ie,{"data-testid":`okd-picture-img-${s||"default"}`,...J,store:x,ref:te=>{re.current=te,F?.(te)},width:w||p,height:A||c,style:le,className:(0,Ce.default)(s&&`${ye}-${s}`,d),alt:o})),T&&n)}G.propTypes={className:m.default.string,pictureClassName:m.default.string,style:m.default.object,pictureStyle:m.default.object,width:m.default.oneOfType([m.default.number,m.default.string]),height:m.default.oneOfType([m.default.number,m.default.string]),src:m.default.string.isRequired,useWebp:m.default.bool,alt:m.default.string.isRequired,layout:m.default.oneOf([V.contain,V.cover]),lazyload:m.default.oneOfType([m.default.bool,m.default.object]),mediaData:m.default.array,srcSetData:m.default.array,resize:m.default.object,errorImg:m.default.string,onError:m.default.func,onLoad:m.default.func,placeholder:m.default.node,originWidth:m.default.number,originHeight:m.default.number,ssrRendered:m.default.bool};G.defaultPropsValue={resize:void 0,layout:void 0,lazyload:!1,className:"",pictureClassName:"",style:{},pictureStyle:{},useWebp:!0,placeholder:void 0,errorImg:null,mediaData:[],srcSetData:[],onError:()=>{},onLoad:()=>{},width:void 0,height:void 0,originWidth:void 0,originHeight:void 0,src:void 0,alt:"",ssrRendered:!1};G.MEDIA=q;G.LAYOUT=V;G.ACTION=Z;var we=G;i();a();var U=P(N());i();a();var y=P(N());i();a();var er=(e,r,t)=>{let o=r==="svg"?"svg":"canvas";return e?.querySelector(`.${t}-view ${o}`)},rr=(e,r)=>{r&&e&&e.setAttribute("aria-label",oe(r))},tr=(e,r,t,o)=>{if(!t||!e||!r)return;let s=document.createElement("span");s.id=o,s.classList.add(`${z}-a11y-text`),s.innerText=oe(t),e.appendChild(s),r.setAttribute("aria-describedby",oe(o))},Oe=({animationContainer:e,setAnimationLoaded:r,onDOMLoaded:t,renderer:o,animationPrefix:s,a11yText:l,a11yDescription:d,a11yDescriptionDOMId:f})=>()=>{if(!e.current)return;r(!0),t?.();let n=er(e.current,o,s);!n||(rr(n,l),n.setAttribute("role","img"),tr(e.current,n,d,f))},ve=(e,r)=>(e.current?.addEventListener(r.name,r.handler),()=>{e.current?.removeEventListener(r.name,r.handler)});var or=({lottie:e,lottieProps:r={},className:t="",style:o,animationPrefix:s,a11yText:l,a11yDescription:d})=>{let{animationData:f,path:n,loop:S,autoplay:p=!0,initialSegment:c,onComplete:h,onLoopComplete:L,onEnterFrame:E,onSegmentStart:$,onConfigReady:w,onDataReady:A,onDataFailed:O,onLoadedImages:I,onDOMLoaded:k,onDestroy:F,animationRef:J,lottieRef:b,renderer:x,name:C,assetsPath:v,rendererSettings:W,...B}=r,[re,me]=(0,y.useState)(!1),u=(0,y.useRef)(),T=(0,y.useRef)(null),le=()=>{u.current?.play()},te=()=>{u.current?.stop()},Ne=()=>{u.current?.pause()},Me=g=>{u.current?.setSpeed(g)},ke=(g,R)=>{u.current?.goToAndPlay(g,R)},Fe=(g,R)=>{u.current?.goToAndStop(g,R)},We=g=>{u.current?.setDirection(g)},ze=(g,R)=>{u.current?.playSegments(g,R)},je=g=>{u.current?.setSubframe(g)},Ge=g=>u.current?.getDuration(g),Ue=()=>{u.current?.destroy(),u.current=void 0},Be=(g={})=>{if(!T.current)return()=>{};u.current?.destroy();let R={...r,...g,container:T.current,loop:S,rendererSettings:{role:"img",expression:!1,...r.rendererSettings}};return u.current=e.loadAnimation(R),()=>{u.current?.destroy(),u.current=void 0}};(0,y.useEffect)(()=>{let g=Be();return()=>g?.()},[f,n,S]),(0,y.useEffect)(()=>{!u.current||(u.current.autoplay=!!p)},[p]),(0,y.useEffect)(()=>{if(!u.current)return;if(!c){u.current.resetSegments(!0);return}if(!Array.isArray(c)||!c.length)return;let[g,R]=c;(u.current.currentRawFrame<g||u.current.currentRawFrame>R)&&(u.current.currentRawFrame=g),u.current.setSegment(g,R)},[c]);let Ve=(0,y.useId)();return(0,y.useEffect)(()=>{let g=Oe({animationContainer:T,setAnimationLoaded:me,onDOMLoaded:k,renderer:x,animationPrefix:s,a11yText:l,a11yDescription:d,a11yDescriptionDOMId:Ve}),Ee=[{name:"complete",handler:h},{name:"loopComplete",handler:L},{name:"enterFrame",handler:E},{name:"segmentStart",handler:$},{name:"config_ready",handler:w},{name:"data_ready",handler:A},{name:"data_failed",handler:O},{name:"loaded_images",handler:I},{name:"DOMLoaded",handler:g},{name:"destroy",handler:F}].filter(K=>K.handler!=null);if(!Ee.length)return()=>{};let qe=Ee.map(K=>ve(u,K));return()=>{qe.forEach(K=>K())}},[h,L,E,$,w,A,O,I,k,F,n]),{View:y.default.createElement("div",{className:`${s}-view ${t||""}`,style:{visibility:re?"visible":"hidden",...o},ref:T,...B}),play:le,stop:te,pause:Ne,setSpeed:Me,goToAndStop:Fe,goToAndPlay:ke,setDirection:We,playSegments:ze,setSubframe:je,getDuration:Ge,destroy:Ue,animationContainerRef:T,animationLoaded:re,lottieItem:u.current}},Ae=or;i();a();var Te=`${z}-animation`,nr=e=>{let{containerClassName:r="",containerStyle:t={},style:o,className:s,poster:l,posterProps:d={},a11yDescription:f,a11yText:n,lottie:S,speed:p,...c}=e,{View:h,play:L,stop:E,pause:$,setSpeed:w,goToAndStop:A,goToAndPlay:O,setDirection:I,playSegments:k,setSubframe:F,getDuration:J,destroy:b,animationContainerRef:x,animationLoaded:C,lottieItem:v}=Ae({lottie:S,lottieProps:c,className:s,style:o,animationPrefix:Te,a11yText:n,a11yDescription:f});(0,U.useEffect)(()=>{e.animationRef&&Object.assign(e.animationRef,{current:{play:L,stop:E,pause:$,setSpeed:w,goToAndPlay:O,goToAndStop:A,setDirection:I,playSegments:k,setSubframe:F,getDuration:J,destroy:b,animationContainerRef:x,animationLoaded:C,lottieItem:v}})},[e.animationRef]),(0,U.useEffect)(()=>{p&&w(p)},[p]),(0,U.useEffect)(()=>{e.lottieRef&&Object.assign(e.lottieRef,{current:{...v}})},[e.lottieRef]);let{pictureClassName:W=""}=d,B=()=>!l||C?null:typeof l=="function"?l():U.default.createElement(we,{pictureClassName:`${z}-animation-poster ${W}`,src:l,...d});return U.default.createElement("div",{className:`${Te} ${r}`,style:t},h,B())},Dt=nr;i();a();var Ot={SVG:"svg",CANVAS:"canvas"},vt={postive:1,reverse:-1};export{we as a,Dt as b,Ot as c,vt as d};
//# sourceMappingURL=chunk-IQUFNLVG.js.map
