import{a as b}from"./chunk-EZVXHXRV.js";import{B as I,a as A}from"./chunk-V7YATDMZ.js";import{a as X}from"./chunk-6YSMHFNA.js";import{m as h}from"./chunk-CKHT4PIF.js";import{j as T}from"./chunk-WYX7GFOD.js";import{a as x}from"./chunk-KC2XLVFC.js";import{c as g}from"./chunk-EAE2NUFS.js";import{Ha as f,Nb as w,fa as t}from"./chunk-EQ34WRCJ.js";import{b as O}from"./chunk-FLSAETOH.js";import{Aa as R,l as s}from"./chunk-4C5HF6J2.js";import{f as d,o as u,q as p}from"./chunk-UWURTNRY.js";u();p();var C=d(O());R();var _=d(X());var j=({walletId:y,txParams:c,onConfirm:i,onCancel:v,backable:P=!1,onBack:S,asPage:k,onBeforePublish:m})=>{let a=T(y),r=h(t,a?.walletId),D=I({coinAmount:"0",localType:t,coinId:f,fromAddr:r,walletId:a?.walletId,txSource:w.DAPP}),F={localType:t,params:{transaction:c},walletId:a?.walletId},H=x(async({networkFee:W})=>{let{raw_data:e,raw_data_hex:M,txID:z,visible:B}=c||{};try{let o=await g().signCommonMessage(a?.walletId,r,{type:"protobuf",message:JSON.stringify({txID:z,visible:B,raw_data:e,raw_data_hex:M})},t),E=_.default.address.fromHex(s(e,"contract[0].parameter.value.contract_address",r)),J=s(e,"contract[0].parameter.value.data",""),n=await A(t,o),l={};typeof m=="function"&&(l=(await m({signedTx:o,txHash:n}))?.publishParams||{});let N=await D(o,{toAdr:E,txHash:n,serviceCharge:W,inputData:J,...l});i?.({txHash:n,txId:N})}catch(o){i({error:o})}});return C.default.createElement(b,{backable:P,onBack:S,asPage:k,onCancel:v,onConfirm:H,...F})},ot=j;export{ot as a};
//# sourceMappingURL=chunk-HXZJVWJD.js.map
