import{a as W}from"./chunk-LMVZDUFT.js";import{b as c}from"./chunk-RQUKPC6Z.js";import{a}from"./chunk-OYIB3B2O.js";import{h as D,j as R}from"./chunk-WYX7GFOD.js";import{a as _,k as w}from"./chunk-KC2XLVFC.js";import{F as I,ra as x}from"./chunk-MJDO2VHF.js";import{Mb as v}from"./chunk-EQ34WRCJ.js";import{b as g}from"./chunk-FLSAETOH.js";import{Aa as O,n as y,na as C,p as k,ua as M}from"./chunk-4C5HF6J2.js";import{f as h,o as u,q as i}from"./chunk-UWURTNRY.js";u();i();var S=h(g());O();u();i();var r=h(g());O();var p=()=>{let t=(0,r.useRef)(null);t.current===null&&(t.current=a.get(c.isSmartAccountActivated));let e=(0,r.useCallback)(()=>{a.set(c.isSmartAccountActivated,!0),t.current=!0},[]);return{isSmartAccountActivatedOnce:t.current??!1,markActivated:e}},j=()=>{let{isSmartAccountActivatedOnce:t}=p(),e=(0,r.useRef)(t?!0:null);e.current===null&&!t&&(e.current=a.get(c.isShowSACoachMark));let n=(0,r.useCallback)(()=>{a.set(c.isShowSACoachMark,!0),e.current=!0},[]);return{isShowSACoachMarkOnce:e.current??!1,markShown:n}},F=()=>{let t=(0,r.useRef)(null);t.current===null&&(t.current=a.get(c.displayMaintenanceNotificationList)??[]);let e=(0,r.useCallback)(n=>{!n||(t.current===null&&(t.current=[]),t.current=M([...t.current,...Array.isArray(n)?n:[n]]),a.set(c.displayMaintenanceNotificationList,t.current))},[]);return{displayMaintenanceNotificationList:t.current??[],markDisplayed:e}};u();i();var b=",";var L=(t=[],e)=>{let n=W(),{isSmartAccountActivatedOnce:l,markActivated:s}=p(),o=(0,S.useMemo)(()=>t.length?C(t):[],[t]),A=(0,S.useMemo)(()=>o.join(b),[o]);return w(async()=>{if(!o.length)return[];let f=k(o,50).map(B=>n(B,!1)),m=await Promise.all(f);return y(m)},{ready:o.length>0,refreshDeps:[A],cacheKey:`wallet-sa-status-${A}`,staleTime:1*1e3,cacheTime:60*1e3,onSuccess(d){l||d.some(m=>Boolean(m?.teeStatus?.isCreated))&&s()},...e})},rt=(t,e)=>{let n=D(),l=t||n,s=R(l),o=(0,S.useMemo)(()=>s?s.keyringIdentityType===v.MNEMONIC&&s.hasBackup:!1,[s]),{data:A=[],loading:d,run:f}=L([l],e),m=_(()=>{!l||f()});return{data:A?.[0]??null,isLoading:d,canUseSA:o,refetch:m}},ot=()=>{let t=x(I),e=(0,S.useMemo)(()=>Object.keys(t),[t]);return L(e,{manual:!0})};export{p as a,j as b,F as c,b as d,L as e,rt as f,ot as g};
//# sourceMappingURL=chunk-HUZIRVCJ.js.map
