import{a as Nt}from"./chunk-CAWXATKV.js";import{a as yr,b as Cr}from"./chunk-QH3W6YX3.js";import{a as gr,b as kr,c as qo,d as Sr,e as F}from"./chunk-GF5ARTFE.js";import{d as Dt,e as Lt}from"./chunk-GIKT3XNH.js";import{a as ro}from"./chunk-JFZYV7O3.js";import{a as no}from"./chunk-DQD6P25P.js";import{a as te,b as hr,c as Tr}from"./chunk-WTH5WZEF.js";import{b as to}from"./chunk-LB5XQY7F.js";import{a as pe}from"./chunk-TRICLBVU.js";import{b as p}from"./chunk-FS336U6P.js";import{a as rr,b as nr,c as ir,d as sr,e as mr,f as ar,g as cr,h as ur,i as lr,k as pr,l as fr,m as dr,n as _r}from"./chunk-QCFNCXVK.js";import{a as Se}from"./chunk-HRY333JY.js";import{a as Vt,b as Ut,c as Ot,d as Wt,e as Qt,g as zt,h as $t,i as Zt,j as Kt,k as or}from"./chunk-YG6DAN6E.js";import{a as M}from"./chunk-XAUZ4FZE.js";import{f as tr}from"./chunk-RRKGBNVH.js";import{a as Jt}from"./chunk-RZGUDMHY.js";import{a as Ke}from"./chunk-5JVWMQI2.js";import{b as Rt}from"./chunk-OILTVSLX.js";import{a as xt,f as Mt}from"./chunk-KLS3SJXA.js";import{a as Ae,b as er}from"./chunk-RQ4NNINW.js";import{a as wt}from"./chunk-KOQXCGQ5.js";import{a as Pt}from"./chunk-P7NYIGUS.js";import{a as oo,b as qt,c as Ro,d as Gt,e as Yt,f as jt,g as Wo,h as Qo,i as Ht,j as Xt}from"./chunk-H5RNSDSN.js";import{a as Et}from"./chunk-E6SXR3B6.js";import{c as Bt,d as eo}from"./chunk-HIUQCAJS.js";import{a as Uo,c as Oo,e as Je}from"./chunk-RKCZ2ONP.js";import{a as Vo,d as It}from"./chunk-PYCB247J.js";import{f as At}from"./chunk-2LQJ3JX6.js";import{a as bt}from"./chunk-KF7FMIRD.js";import{f as vt,j as Ft}from"./chunk-UY2DPNBT.js";import{a as Fo,b as $,g as Tt,o as yt,r as Ze,x as Bo}from"./chunk-V5J3A5L5.js";import{a as Ct}from"./chunk-CERSDYPT.js";import{$a as ht,Oa as kt,Xa as St,o as dt,pa as R,va as W,y as _t,z as gt}from"./chunk-P5GHREX3.js";import{a as ft}from"./chunk-6XMXPOUW.js";import{a as me}from"./chunk-VL2JCPJS.js";import{a as U,e as pt,i as We,k as we,l as le,n as Lo,s as ke}from"./chunk-AP4E6GDF.js";import{$b as Ao,B as ze,Cb as H,F as $e,Ke as k,_b as wo,db as mt,ha as Po,m as L,mc as Do,nb as Ne,ub as at,vb as ct,wb as ut,xb as Pe,zb as lt}from"./chunk-RPH2MNBW.js";import{a as Ie}from"./chunk-DOSBJ3L3.js";import{$ as st,A as nt,J as z,_ as it,b as O,d as rt,o as vo,q as Io,s as Xe,y as No}from"./chunk-URGJ6D4O.js";import{C as Re,t as q}from"./chunk-XYWWXNVK.js";import{a as D}from"./chunk-FB3ILH2L.js";import{b as _}from"./chunk-FLSAETOH.js";import{Aa as ve,B as et,M as ot,T as tt,l as j}from"./chunk-4C5HF6J2.js";import{f as l,o as t,q as r}from"./chunk-UWURTNRY.js";t();r();var Yo=l(_());ve();t();r();var fe=l(_());t();r();function De(){let{buyStore:e,sellStore:o,configStore:i}=p(),{computedIsSell:n}=i;return n?o.computedSellNumber:e.computedBuyNumber}t();r();ve();function br(){let e=De(),{fromToken:o}=F();return!tt(o.amountNum)&&new U.BigNumber(e).gt(o.amountNum)}function Mr(){let{quoteStore:e,configStore:o,accountStore:i,buyStore:n,sellStore:s}=p(),{computedNonsupportChain:m,isConnectedWallet:a,hasInitWalletInfo:c}=i,{computedIsBuy:f,computedIsSell:d}=o,g=d?s.fromToken:n.fromToken,h=d?s.toToken:n.toToken,y=De(),b=br(),{computedCustomQuoteLoading:x,computedQuoteIsInvalid:E,computedSwapOnOtherDapp:S,computedToTokenAmount:C,computedGetQuoteFromAmount:T,computedQuoteIsBlackAddress:N,computedQuoteIsNewAddress:P}=e,{computedPreCheckMsg:I,preChecking:B,preCheckData:A}=Ae,V=(0,fe.useMemo)(()=>We(C),[C]),be=(0,fe.useMemo)(()=>!new U.BigNumber(y).lte(0),[y]),xe=(0,fe.useMemo)(()=>new U.BigNumber(y).eq(T),[y,T]),Me=(0,fe.useMemo)(()=>[!be,x,!!E,!xe],[be,x,E,xe]),Ee=(0,fe.useMemo)(()=>{let Mo=Uo(g),Eo=Uo(h);return Mo||Eo},[g,h]),ge=(0,fe.useMemo)(()=>_r({computedPreCheckMsg:I,preChecking:B,preCheckData:A,isConnectedWallet:a,hasInitWalletInfo:c,computedNonsupportChain:m,computedQuoteIsBlackAddress:N,computedSwapOnOtherDapp:S,computedQuoteIsNewAddress:P,computedFormToTokenIsLeverageToken:Ee,toToken:h,disableConditions:Me,hasToAmount:V,isInsufficientBalance:b,isBuy:f,isSell:d}),[I,B,A,a,c,m,N,P,S,Ee,h,f,d,Me,V,b]);return(0,fe.useMemo)(()=>dr(ge,f?"BUY_ACTIVE":"SELL_ACTIVE"),[ge,f])}t();r();var Ur=l(_());t();r();var io=l(_());function Er(e){let[o,i]=(0,io.useState)(!1);return{runPreconditions:(0,io.useCallback)(async s=>{i(!0);try{await e.reduce(async(m,a)=>{let c=await m;return a(c)},Promise.resolve(s))}finally{i(!1)}},[e]),loading:o}}t();r();var mo=l(_());t();r();function vr(){let{currentPreset:e}=te();return e?.slippage?.mode===$.DYNAMIC?e?.slippage?.dynamicSlippage:e?.slippage?.value}function Ir(){let{currentPreset:e}=te();return e?.slippage?.mode===$.DYNAMIC?Fo.AUTO:Fo.CUSTOM}function so(){let{currentPreset:e}=te();return e?.slippage?.mode===$.FIXED?"":e?.slippage?.supportCustomMax?e?.slippage?.customMax:""}t();r();var Nr=l(_());var Xn=()=>{let{currentPreset:e}=te(),{priorityMode:o,manualType:i}=e;return(0,Nr.useMemo)(()=>o==="auto"?1:i===0?2:i===1?3:1,[o,i])},Pr=Xn;function wr(){let{quoteStore:e,accountStore:o,configStore:i}=p(),{currentPreset:n}=te(),{priorityFee:s,slippage:m,priorityMode:a,manualType:c}=n,{computedGetQuoteFrom:f,jitoIsSuccess:d,mevUnstableShowLevel:g,computedQuoteId:h,computedAutoSlippage:y}=e,{computedIsBuy:b}=i,x=Pt({priorityMode:a,manualType:c,jitoIsSuccess:d,mevUnstableShowLevel:g}),E=wt(x),{formatPriorityFee:S}=hr({priorityFee:s,isEnableMev:E}),C=so(),T=o.getAddressByChainId(f.chainId),{computedAccountId:N}=o,P=Pr(),I=(0,mo.useMemo)(()=>({direction:b?"0":"1",networkFee:{priorityFee:S?.value,priorityFeeType:Tt[S?.type]},slippageConfig:{maxSlippage:m?.mode===$.DYNAMIC?C:"",slippage:m?.mode===$.FIXED?m?.value:y,slippageType:It[m?.mode]},accountInfo:{accountId:N},preSetConfig:{routerModeType:P},userWalletAddress:T,quoteId:h,...Lt()}),[C,S?.value,S?.type,m?.value,m?.mode,T,b,P,N,h,y]);return(0,mo.useCallback)(async()=>{W.info(R.MEME_SWAP_GET_CALLDATA_PARAMS,{data:I,preset:n});let[A,V]=await $e(Et(I));if(A||!V.data?.unsignedTx)throw z.error({title:A?.error_message||k("swaptrade_home_toast_initiation_error"),placement:z.DIRECTION.top}),W.error(R.MEME_SWAP_GET_CALLDATA_ERROR,{error:A,params:I,res:V}),new Error(A?.error_message);return{unsignedTx:V.data.unsignedTx,calldataParams:I,originData:V.data}},[I,n])}t();r();var Lr=l(_());ve();t();r();var Ar=l(_());function Dr(){let{memeSwapStore:e,accountStore:o}=p();console.log("accountStore",o.computedAccountId);let{getJitoTxData:i}=e;return{onSolanaSign:(0,Ar.useCallback)(async s=>{try{let m=await i(s);W.info(R.MEME_SWAP_SIGN_PARAMS,{data:{...s,unsignedTxArray:m}});let a=await St({...s,walletId:o.computedAccountId},m);return W.info(R.MEME_SWAP_SIGN_SUCCESS,{data:{...s,unsignedTxArray:m,signedTransactions:a},tags:{txhash:(s?.transactionHash||[]).join(",")}}),{signedTransactions:a,txArray:m}}catch(m){throw m?.message!=="Expected String"&&!bt(m)&&z.error({title:k("swaptrade_home_toast_initiation_error"),placement:z.DIRECTION.top}),W.error(R.MEME_SWAP_SIGN_ERROR,{error:m,data:s}),new Error(m?.error_message)}},[o.computedAccountId,i])}}function Fr(){let{memeSwapStore:e,configStore:o}=p(),{onSolanaSign:i}=Dr(),{walletId:n}=pe();return(0,Lr.useCallback)(async(m={})=>{let{signedTransactions:a,txArray:c}=await i(m),f=await e.onSolanaSwap({data:{walletId:n,...m},signedTransactions:a,txArray:c}),d=j(o,"computedNativeTokenInfo.tokenContractAddress"),{calldataParams:g}=m,{fromAmount:h,fromTokenAddress:y}=g||{};return y===d&&me.set(yt,h),{...m,broadcastRes:f}},[e,i,n,o])}t();r();var Go=l(_());ve();function Br(){let{quoteStore:e,accountStore:o,memeSwapStore:i}=p(),{chainId:n}=pe(),{computedGetQuoteFrom:s}=e,{usePreExecuteFn:m}=Po.hooks,{TxToastCheckTypeEnum:a}=Po.global,c=m(),f=s.isNativeToken?"":s.tokenContractAddress,d=o.getAddressByChainId(s.chainId),{computedSignWalletAddress:g,computedAccountId:h}=o,y=kt(s.chainId,f),b=i.getSolanaUnsignedTx,x=(0,Go.useCallback)(S=>{let C=b(S);return{checkTypes:[a.TX_ANALYZE],from:d,chainId:s.chainId,coinId:y?.coinId,simulateTransactionParamList:C.map(T=>({transaction:T.data,sigVerify:!1,replaceRecentBlockhash:!0}))}},[b,a.TX_ANALYZE,y?.coinId,s.chainId,d]);return(0,Go.useCallback)(async(S={})=>{let C=x(S);W.info(R.MEME_SWAP_PRE_EXECUTE_PARAMS,{data:{executeParams:C,data:S}});let[T,N]=await $e(c(C));if(T)throw z.error({title:T?.error_message||k("swaptrade_home_toast_initiation_error"),placement:z.DIRECTION.top}),W.error(R.MEME_SWAP_PRE_EXECUTE_ERR,{data:{error:T,executeParams:C,data:S}}),new Error(T?.error_message);let P=j(N,`${a.TX_ANALYZE}`,{});if(!P.result){let B=P.msg||j(et(P.simulateTransactionResultList,A=>!ot(A.msg)),"msg",k("swaptrade_home_toast_initiation_error"));throw z.error({title:B,placement:z.DIRECTION.top}),W.error(R.MEME_SWAP_PRE_EXECUTE_RESULT_ERR,{data:{res:N,error:P,...S,executeParams:C}}),new Error(B)}W.info(R.MEME_SWAP_PRE_EXECUTE_RESULT,{data:{res:N,...S,executeParams:C}});let I={callData:{data:C.simulateTransactionParamList?.[0]?.transaction},hasReferralCommission:S.originData?.hasReferralCommission};return i.checkCallData({chainId:+n,responseData:I,requestParams:C,accountId:h,signWalletAddress:g}),S},[c,x,a.TX_ANALYZE,n,g,h,i.checkCallData])}t();r();var Qe=l(_());function Vr(){let e=ro(gt),{quoteStore:o,commonStore:i}=p(),{computedValueDifference:n,quoteDiffValThreshold:s,quoteDiffPercentThreshold:m,computedFromTokenValue:a,computedToTokenValue:c}=o;return(0,Qe.useCallback)(()=>{let{showValueDiffDialog:d,diffPercent:g,diffValueType:h,diffVal:y}=n,b=i.currencyConversion(y.replace("-","")||"0"),x=Je(g,b,i.computedNowCurrencySymbol);return d?new Promise((E,S)=>{let C=vo.tip({infoType:vo.Tip.INFO_TYPE.default,title:Qe.default.createElement(Wt,{loseDiffValueTxt:x,isUp:h==="up"}),children:Qe.default.createElement("p",null,k("swaptrade_valuediff_select_desc_low_liquidity_low_value")),confirmText:k("swaptrade_confirmation_btn_continue_swap"),cancelText:k("commonall_text_btn_cancel"),onConfirm:()=>{C.destroy(),e({popup_type:"valuedifference",receive_value:n.receive,paid_value:n.pay,value_diff:n.quoteDiffPercentThreshold}),W.info(R.SWAP_PRECHECK_PROMPT,{data:{errorType:"valuedifference",...n,quoteDiffValThreshold:s,quoteDiffPercentThreshold:m,computedFromTokenValue:a,computedToTokenValue:c}}),E(!0)},onClose:()=>{S(new Error("Value diff prompt closed"))},onCancel:()=>{S(new Error("Value diff prompt closed"))}})}):Promise.resolve(!0)},[n])}function Or(){let e=Rt(),o=Vr(),i=wr(),n=Br(),s=Fr(),{memeSwapStore:m}=p(),{runPreconditions:a,loading:c}=Er([e,o,i,n,s]),{setIsSwapLoading:f}=m;return(0,Ur.useEffect)(()=>{f(c)},[f,c]),{onSwap:a,loading:c}}t();r();var Wr=l(_());function Qr(){let{buyStore:e,sellStore:o,configStore:i,quoteStore:n,commonStore:s}=p(),{currentMode:m}=i;return(0,Wr.useMemo)(()=>{let a=m==="buy"?e.buyValue.value:o.sellValue.value;if(We(n.computedToTokenAmount)&&We(a)){let c=le(n.computedToTokenAmount,{needBillionMillionUnit:!0,useScientificNotation:!0});return{price:we(s.currencyConversion(n.computedToTokenValue).toString(),s.computedNowCurrencySymbol,{needPlaceholder:!0}),amount:c}}return{price:"",amount:""}},[e.buyValue?.value,s,m,n.computedToTokenAmount,n.computedToTokenValue,o.sellValue?.value])}function Vm(){let e=ro(),o=Mr(),{fromToken:i}=F(),{amount:n,price:s}=Qr(),{onSwap:m}=Or(),{sellStore:a,buyStore:c,commonStore:{setAddFundsVisible:f},configStore:d}=p(),g=(0,Yo.useCallback)(()=>{let y=d.computedIsBuy?"BUY_DISABLED":"SELL_DISABLED",b=d.computedIsBuy?c.computedBuyTokenSymbol:a.computedSellTokenSymbol;return k(Se[y],{symbol:b})},[d.computedIsBuy,c.computedBuyTokenSymbol,a.computedSellTokenSymbol]);return(0,Yo.useCallback)(()=>({["LIMIT_REGION"]:{disabled:!0,btnTxt:g,onClick:()=>{},btnType:"LIMIT_REGION"},["BUY_ACTIVE"]:{disabled:!1,btnTxt:()=>k(Se["BUY_ACTIVE"],{amt:n,token:Lo(j(c,"toToken.tokenSymbol")),price:s}),onClick:()=>{m(),e({button_name:"confirm"})},btnType:"BUY_ACTIVE"},["SELL_ACTIVE"]:{disabled:!1,btnTxt:()=>k(Se["SELL_ACTIVE"],{amt:n,token:Lo(j(a,"toToken.tokenSymbol")),price:s}),onClick:()=>{m(),e({button_name:"confirm"})},btnType:"SELL_ACTIVE"},["BUY_DISABLED"]:{disabled:!0,btnTxt:()=>k(Se["BUY_DISABLED"],{symbol:c.computedBuyTokenSymbol}),onClick:()=>{},btnType:"BUY_DISABLED"},["SELL_DISABLED"]:{disabled:!0,btnTxt:()=>k(Se["SELL_DISABLED"],{symbol:a.computedSellTokenSymbol}),onClick:()=>{},btnType:"SELL_DISABLED"},["FILL_UP"]:{disabled:!1,btnTxt:()=>k(Se["FILL_UP"],{token:i.symbol}),onClick:()=>{f(!0)},btnType:"FILL_UP"}}),[n,c,i.symbol,e,m,s,a,f,g])()[o]||{disabled:!0,btnTxt:()=>g(),onClick:()=>{}}}t();r();var fn=l(_());t();r();t();r();var qr=l(_());var Gr=()=>{let{toToken:e}=F(),{configStore:o,quoteStore:i}=p(),{computedIsBuy:n}=o,{computedQuoteErrorMsg:s}=i;return(0,qr.useMemo)(()=>nr({isHoneypot:Boolean(e?.isHoneypot&&n),tokenSymbol:e?.tokenSymbol||"",message:s}),[e?.isHoneypot,e?.tokenSymbol,n,s])};t();r();var Yr=l(_());var jr=()=>{let{fromToken:e,toToken:o}=F(),{quoteStore:i}=p(),{computedQuoteErrorMsg:n}=i,[s,m]=Dt(e,o);return(0,Yr.useMemo)(()=>sr({isFromLeverageToken:s,isToLeverageToken:m,fromTokenSymbol:e?.tokenSymbol||"",toTokenSymbol:o?.tokenSymbol||"",message:n}),[s,m,e?.tokenSymbol,o?.tokenSymbol,n])};t();r();var Hr=l(_());var Xr=()=>{let{quoteStore:e}=p(),{computedQuoteNetworkError:o}=e;return(0,Hr.useMemo)(()=>cr({hasNetworkError:o}),[o])};t();r();var zr=l(_());var $r=()=>{let{accountStore:e}=p(),{computedNonsupportChain:o}=e,{fromToken:i}=F();return(0,zr.useMemo)(()=>mr({nonsupportChain:o,chainName:i?.chainName||""}),[o,i?.chainName])};t();r();var Zr=l(_());var Kr=()=>{let{quoteStore:e}=p(),{computedQuoteIsNewAddress:o,computedQuoteErrorMsg:i}=e;return(0,Zr.useMemo)(()=>ar({isNewAddress:o,message:i}),[o,i])};t();r();var Jr=l(_());var en=()=>{let{quoteStore:e}=p(),{computedQuoteLiquidityError:o,computedQuoteErrorMsg:i}=e;return(0,Jr.useMemo)(()=>lr({customNotLiquidity:!1,computedIsCustomLiquidity:!1,hasLiquidityError:o,dexIdsLength:Vo.computedIds?.length||0,openLiquidityDialog:()=>{xt.setLiquidityModelVisible(!0)},message:i}),[Vo.computedIds?.length,o,i])};t();r();var on=l(_());var tn=()=>{let{preCheckData:e}=Ae;return(0,on.useMemo)(()=>!e||e?.status===0?null:{tier:0,notification:Mt["PRE_CHECK_ERROR"]({title:e?.msg,type:e?.type})},[e])};t();r();var rn=l(_());var nn=()=>{let{quoteStore:e}=p(),{computedQuoteIsError:o,computedQuoteErrorMsg:i}=e;return(0,rn.useMemo)(()=>ur({hasQuoteError:o,message:i,useInsufficientLiquidityType:!0}),[o,i])};t();r();var sn=l(_());var mn=()=>{let{fromToken:e}=F(),{configStore:o,quoteStore:i}=p(),{computedIsSell:n}=o,{computedQuoteErrorMsg:s}=i;return(0,sn.useMemo)(()=>ir({isHoneypot:Boolean(e?.isHoneypot&&n),tokenSymbol:e?.tokenSymbol||"",message:s}),[e?.isHoneypot,e?.tokenSymbol,n,s])};t();r();var an=l(_());ve();var cn=()=>{let{quoteStore:e}=p(),{toToken:o,fromToken:i}=F(),n=j(e.quoteData,"data.commonDexInfo",null),s=Oo(i),m=Oo(o);return(0,an.useMemo)(()=>{if(!s&&!m||!n?.tradeTaxes)return null;let a=ke(U.mul(n?.tradeTaxes,100),{needZero:!1}),c;if(s&&m)c=ze("wallet_swap_toast_pair_token_tax_warning",{token1:i?.tokenSymbol,token2:o?.tokenSymbol,value:a});else if(s)c=ze("wallet_swap_toast_token_tax_warning",{token:i?.tokenSymbol,value:a});else if(m)c=ze("wallet_swap_toast_token_tax_warning",{token:o?.tokenSymbol,value:a});else return null;return{tier:1,notification:{type:rt.TYPE.warn,title:c}}},[n,i,o,s,m])};t();r();var un=l(_());var ln=()=>{let{quoteStore:e,commonStore:o}=p(),{computedValueDifference:i}=e;return(0,un.useMemo)(()=>{let{showValueDiffDialog:n,diffPercent:s,diffVal:m}=i||{};if(!n)return null;let a=o.currencyConversion(m?.replace("-","")||"0"),c=Je(s||"0",a,o.computedNowCurrencySymbol);return pr({showValueDiffDialog:n,loseDiffValueTxt:c})},[i,o.currencyConversion,o.computedNowCurrencySymbol])};var pn=()=>{let e=tn(),o=Kr(),i=$r(),n=jr(),s=Gr(),m=en(),a=Xr(),c=nn(),f=mn(),d=cn(),g=ln();return rr([e,i,n,f,s,o,m,a,c,d,g])};var Mc=L(({isSkeleton:e,className:o})=>{let i=pn();return fn.default.createElement(fr,{reminders:i,isSkeleton:e,className:o})});t();r();var Z=l(_()),ao=l(D());t();r();var qe={skeleton:"_skeleton_cfkt8_1",container:"_container_cfkt8_5","right-skeleton":"_right-skeleton_cfkt8_9",rightSkeleton:"_right-skeleton_cfkt8_9","item-label":"_item-label_cfkt8_13",itemLabel:"_item-label_cfkt8_13"};var $n=({initLoading:e,rightLoading:o,className:i})=>{let{quoteStore:n,commonStore:{currencyConversionWithSymbol:s},configStore:m}=p(),a=n,{computedToTokenValue:c,computedFromTokenValue:f,computedToTokenAmount:d,computedGetQuoteFromAmount:g,computedGetQuoteFrom:h,computedGetQuoteTo:y,computedRate:b,computedToFromRate:x}=a,{fromTokenPriceWithSymbol:E,toTokenPriceWithSymbol:S,fromTokenPriceWithBillionUnit:C,toTokenPriceWithBillionUnit:T}=$t({fromUsdPrice:f,fromAmount:g,toUsdPrice:c,toAmount:d,currencyConversionWithSymbol:s}),N=h?.tokenSymbol,P=y?.tokenSymbol,I=(0,Z.useMemo)(()=>C&&T&&E&&S&&x&&b&&N&&P,[C,T,E,S,x,b,N,P]),B=m.currentMode==="sell",[A,V,be,xe,Me,Ee,ge,Oe]=(0,Z.useMemo)(()=>B?[N,E,C,b,x,P,S,T]:[P,S,T,x,b,N,E,C],[b,x,N,E,C,P,S,T,B]);return!E||!S||!C||!T?null:Z.default.createElement(M,{loading:e,height:16,className:(0,ao.default)(i,qe.skeleton)},Z.default.createElement("div",{className:(0,ao.default)("flex items-center justify-between",qe.container,i)},Z.default.createElement("div",{className:(0,ao.default)("flex items-center",qe.itemLabel)},Z.default.createElement("span",null,k("swaptrade_extension_cinteraction_reference"))),Z.default.createElement(M,{loading:o,height:16,className:qe.rightSkeleton},I?Z.default.createElement(zt,{fromTokenSymbol:A,toTokenSymbol:Ee,fromToExchangeRate:xe,toFromExchangeRate:Me,fromTokenPriceWithSymbol:V,fromTokenPriceWithBillionUnit:be,toTokenPriceWithSymbol:ge,toTokenPriceWithBillionUnit:Oe,boxClassName:"justify-end"}):Z.default.createElement("span",null,"--"))))},qc=L($n);t();r();var Ho=l(_()),Xo=l(D());t();r();var jo={root:"_root_ahgue_1",error:"_error_ahgue_10",skeleton:"_skeleton_ahgue_14"};var ru=({className:e,loading:o,amount:i,currency:n})=>{let m=i&&n?le(i,{needBillionMillionUnit:!1}):"--";return Ho.default.createElement(M,{loading:o,height:16,className:(0,Xo.default)(e,jo.skeleton)},Ho.default.createElement("div",{className:(0,Xo.default)(e,jo.root)},k("swaptrade_trade_title_balance_amt",{num:m,symbol:n})))};t();r();var _n=l(_()),lo=l(Ie());t();r();var co=l(_()),uo=l(D());t();r();var Ge={root:"_root_1r990_1",item:"_item_1r990_8",active:"_active_1r990_23",skeleton:"_skeleton_1r990_27"};var dn=({className:e="",loading:o,tabList:i})=>co.default.createElement(M,{loading:o,height:32,className:(0,uo.default)(e,Ge.skeleton)},co.default.createElement("div",{className:(0,uo.default)(e,Ge.root)},i.map(n=>co.default.createElement(O,{key:n.name,className:(0,uo.default)(Ge.item,n.active&&Ge.active),onClick:n.onClick},n.name))));var vu=L(({className:e="",loading:o,mode:i})=>{let n=(0,lo.useHistory)(),s=(0,lo.useLocation)(),{search:m,pathname:a}=s,c=H(ct),f=H(at),{buyStore:d,sellStore:g}=p(),h=[{name:k("swaptrade_market_item_buy"),active:i==="buy",onClick:()=>{a!==c&&(d.setToToken({}),me.set(wo,Ao.MEME_BUY),n.replace(c+Qo(Ro(Wo(m)))))}},{name:k("swaptrade_market_tab_item_sell"),active:i==="sell",onClick:()=>{a!==f&&(g.setFromToken({}),me.set(wo,Ao.MEME_SELL),n.replace(f+Qo(Ro(Wo(m)))))}}];return _n.default.createElement(dn,{className:e,loading:o,tabList:h})});t();r();var Le=l(_()),gn=l(D());t();r();var zo={root:"_root_14kir_1","root-tg":"_root-tg_14kir_10",rootTg:"_root-tg_14kir_10"};var Ou=({children:e})=>{let o=ft(),i=()=>globalThis.document.querySelector(".main-container-wrapper").clientWidth-46,[n,s]=(0,Le.useState)(i()),m=()=>{s(i())};return(0,Le.useEffect)(()=>(window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}),[]),Le.default.createElement("div",{className:(0,gn.default)(zo.root,{[zo.rootTg]:o}),style:{width:n}},e)};t();r();var Cn=l(_());t();r();var v=l(_()),Tn=l(Ie()),re=l(D());t();r();var kn=l(_());function Sn(e,o="--"){let{commonStore:i}=p(),n=i?.currencyConversion,s=i?.computedNowCurrencySymbol;return(0,kn.useMemo)(()=>{if(!e&&e!==0&&e!=="0")return o;let m=Number(e);return Number.isNaN(m)?String(e):we(n(e).toString(),s,{needPlaceholder:!0,needK:!1})},[e,o,n,s])}t();r();var po=l(_());var Zn=({disclaimerVisible:e,isNotLimitRegion:o})=>{let[i,n]=(0,po.useState)(!1);return(0,po.useEffect)(()=>{me.get(Ze)||n(!e&&o)},[e,o]),{showCoach:i,setShowCoach:n}},hn=Zn;t();r();var ae={"preset-name":"_preset-name_16uhg_1",presetName:"_preset-name_16uhg_1","custom-name":"_custom-name_16uhg_11",customName:"_custom-name_16uhg_11","preset-icon":"_preset-icon_16uhg_14",presetIcon:"_preset-icon_16uhg_14","go-icon":"_go-icon_16uhg_17",goIcon:"_go-icon_16uhg_17","preset-container":"_preset-container_16uhg_20",presetContainer:"_preset-container_16uhg_20","chain-logo":"_chain-logo_16uhg_28",chainLogo:"_chain-logo_16uhg_28","config-container":"_config-container_16uhg_31",configContainer:"_config-container_16uhg_31",divide:"_divide_16uhg_35","err-text":"_err-text_16uhg_41",errText:"_err-text_16uhg_41","mev-text":"_mev-text_16uhg_48",mevText:"_mev-text_16uhg_48"};var Kn=({initLoading:e,configClick:o,presetClick:i,className:n})=>{let{configStore:s,quoteStore:m,commonStore:a}=p(),{jitoIsSuccess:c,computedAutoSlippage:f,mevUnstableShowLevel:d,computedQuoteCompleted:g}=m,{totalFeeUSD:h}=Tr(),{computedConfig:y,currentMode:b}=s,E=y?.nativeTokenInfo?.chainLogoUrl,{currentPreset:S}=te(),{name:C,slippage:T,priorityMode:N,manualType:P}=S,I=(0,Tn.useHistory)(),B=()=>{if(o)o();else{let X=`${H(Pe)}?tab=${b}`;I.push(X)}},A=()=>{if(i)i();else{let X=`${H(lt)}?tab=${b}`;I.push(X)}},V=Jt({priorityMode:N,manualType:P,jitoIsSuccess:c,mevUnstableShowLevel:d,computedQuoteCompleted:g}),{disclaimerVisible:be}=a,{computedIsNotLimitRegion:xe}=Ae,{showCoach:Me,setShowCoach:Ee}=hn({disclaimerVisible:be,isNotLimitRegion:xe}),ge=(0,v.useRef)(null),Oe=(0,v.useRef)(null),Mo=(0,v.useMemo)(()=>[{target:()=>ge.current,title:k("swaptrade_meme_coachmrk_title_trading_presets"),placement:Xe.DIRECTION.bottom,description:k("swaptrade_meme_coachmrk_desc_create_presets")},{target:()=>Oe.current,title:k("swaptrade_meme_coachmrk_title_trading_presets"),placement:Xe.DIRECTION.bottom,description:k("swaptrade_meme_coachmrk_desc_show_presets")}],[]),Eo=(0,v.useMemo)(()=>{let X=Jo=>Jo?`${ke(At(Jo),{needZero:!1})}`:"--";return T?.mode===$.FIXED?X(T?.value):T?.mode===$.DYNAMIC?T?.customMax?X(U.min(T?.customMax||0,f||0).toString()):X(f):"--"},[f,T?.customMax,T?.mode,T?.value]),jn=(0,v.useMemo)(()=>{let X=!1;return T?.mode===$.DYNAMIC&&T?.customMax&&(X=U.lt(T?.customMax,f)),X?"yellow":"default"},[f,T?.customMax,T?.mode]),Hn=Sn(h);return v.default.createElement(M,{loading:e,height:16,className:(0,re.default)(n)},v.default.createElement("div",{className:n},v.default.createElement("div",{className:(0,re.default)("flex items-center justify-between")},v.default.createElement(O,{className:(0,re.default)("flex items-center",ae.presetContainer),onClick:A,ref:ge},v.default.createElement(eo,{src:E,size:16,className:(0,re.default)(ae.chainLogo)}),v.default.createElement("span",{className:(0,re.default)(ae.presetName)},C),v.default.createElement(q,{className:(0,re.default)("okx-defi-game-caretup",ae.presetIcon),style:{fontSize:16},a11yText:"dropdown"})),v.default.createElement(O,{className:(0,re.default)("flex items-center",ae.configContainer),onClick:B,ref:Oe},v.default.createElement("div",{className:(0,re.default)("flex items-center flex-wrap justify-end")},v.default.createElement(Ke,{icon:"okx-defi-dex-slippage",text:Eo,status:jn}),v.default.createElement("div",{className:ae.divide}),v.default.createElement(Ke,{icon:"okx-defi-dex-fee",text:Hn}),v.default.createElement("div",{className:ae.divide}),v.default.createElement(Ke,{text:V.text,icon:V.icon,status:V.status,tooltipText:V.tips,showWarningIcon:V.showWarningIcon})),v.default.createElement(q,{className:(0,re.default)("okx-defi-marketplace-chevron-right",ae.goIcon),style:{fontSize:16},a11yText:"config-item"}))),v.default.createElement(Xe.Tour,{show:Me,finishText:k("commonall_button_text_done"),onClose:()=>{Ee(!1),me.set(Ze,"1")},steps:Mo})))},yn=L(Kn);var Jn=e=>Cn.default.createElement(yn,{...e}),Pl=Jn;t();r();var ce=l(_()),$o=l(D());t();r();var fo=l(_());var bn=()=>{let{quoteStore:e,commonStore:o}=p(),i=e.computedCurrentDefiPlatformInfo??null,n=(0,fo.useMemo)(()=>we(o.currencyConversion(i?.savingValueUSD).toString(),o.computedNowCurrencySymbol,{needPlaceholder:!0}),[i?.savingValueUSD]);return i?fo.default.createElement(Qt,{isHasSaving:i.isHasSaving,savingValueUSD:n,savingAmount:i.savingAmount,skipFormat:!0}):null};t();r();var Fe={"btn-loading":"_btn-loading_sdgyo_1",btnLoading:"_btn-loading_sdgyo_1","btn-afterfix":"_btn-afterfix_sdgyo_5",btnAfterfix:"_btn-afterfix_sdgyo_5",btn:"_btn_sdgyo_1","btn-content":"_btn-content_sdgyo_11",btnContent:"_btn-content_sdgyo_11",flash:"_flash_sdgyo_14"};var Jl=L(({loading:e,className:o,useMemeSwapBtnProps:i})=>{let{btnTxt:n,btnType:s,statusType:m,onClick:a,...c}=i(),f=["BUY_ACTIVE","SELL_ACTIVE"].includes(s),d=(0,ce.useCallback)(()=>{setTimeout(()=>{a?.()})},[a]);return ce.default.createElement(M,{height:40,loading:e,className:Fe.btnLoading},ce.default.createElement(Re,{className:(0,$o.default)(Fe.btn,o),contentClassName:Fe.btnContent,category:Re.CATEGORY.fill,type:Re.TYPE.primary,size:Re.SIZE.lg,block:!0,onClick:d,...c},f&&ce.default.createElement(q,{className:(0,$o.default)("okx-defi-dex-quick-filled",Fe.flash),style:{fontSize:16},a11yText:"flash"}),ce.default.createElement("span",null,n?.())),ce.default.createElement("div",{className:Fe.btnAfterfix},ce.default.createElement(bn,null)))});t();r();var K=l(_()),go=l(D());t();r();var _o=l(_());function xn({userUniqueId:e,computedAccountId:o,chainId:i,debouncedFetchPositionList:n,positionList:s,fromToken:m,setFromToken:a,toToken:c,setToToken:f}){let{configStore:d,accountStore:g}=p(),{currentMode:h}=d,y=yr(),b=(0,_o.useMemo)(()=>!s||s?.length===0,[s]),x=S=>{if(h==="sell"?S?.tokenContractAddress!==m?.tokenContractAddress&&a(S):S?.tokenContractAddress!==c?.tokenContractAddress&&f(S),y(),Ne()){let T=document.querySelector("#meme-swap-container");T&&T.scrollTo({top:0,behavior:"smooth"});return}window.scrollTo({top:0,behavior:"smooth"})},{loaded:E}=or(g);return(0,_o.useEffect)(()=>{if(!!E&&e&&o&&i){let S={chainId:i,accountId:o,userUniqueId:e},C=er.getMinAmountThresholdParam();C&&(S.minAmountThreshold=C),n(S)}},[i,o,e,E]),{isEmptyData:b,handleSelect:x}}t();r();var Zo=l(_()),En=l(D());t();r();var Mn={"empty-container":"_empty-container_1jq1y_1",emptyContainer:"_empty-container_1jq1y_1"};var ei=()=>{let e=()=>Zo.default.createElement(No.State,{type:No.State.TYPE.noResult,title:k("swaptrade_general_emptystate_no_assets")});return Zo.default.createElement("div",{className:(0,En.default)("flex justify-content-center align-items-center",Mn.emptyContainer)},e())},vn=ei;t();r();var he={"my-position":"_my-position_e4ojt_1",myPosition:"_my-position_e4ojt_1",line:"_line_e4ojt_4","title-part":"_title-part_e4ojt_9",titlePart:"_title-part_e4ojt_9",title:"_title_e4ojt_9","chain-logo":"_chain-logo_e4ojt_23",chainLogo:"_chain-logo_e4ojt_23",container:"_container_e4ojt_26"};var oi=L(()=>{let{configStore:e,memePositionStore:o,accountStore:i,commonStore:n,buyStore:s,sellStore:m}=p(),{computedConfig:a}=e,c=a?.nativeTokenInfo,f=c?.chainLogoUrl,d=c?.chainId,{fetchPositionList:g,positionList:h,initState:y}=o,{computedAccountId:b}=i,{userUniqueId:x,computedNowCurrencySymbol:E}=n,{setToToken:S,toToken:C}=s,{setFromToken:T,fromToken:N}=m,P=gr(g,300),{isEmptyData:I,handleSelect:B}=xn({userUniqueId:x,computedAccountId:b,chainId:d,debouncedFetchPositionList:P,positionList:h,setToToken:S,toToken:C,setFromToken:T,fromToken:N});if(!x)return null;let A=(0,K.useMemo)(()=>I?K.default.createElement(vn,null):K.default.createElement("div",{className:he.container},K.default.createElement(Cr,{key:d,isMyPosition:!0,normalList:h,selectToken:B,computedNowCurrencySymbol:E})),[I,N?.tokenContractAddress,C?.tokenContractAddress,h]);return y&&K.default.createElement("div",{className:(0,go.default)(he.myPosition)},K.default.createElement("div",{className:he.line}),K.default.createElement("div",{className:(0,go.default)("flex items-center justify-between",he.titlePart)},K.default.createElement("span",{className:he.title},k("swaptrade_meme_order_title_my_positions")),K.default.createElement(eo,{src:f,size:24,className:(0,go.default)(he.chainLogo)})),A)}),Op=oi;t();r();t();r();var ye=l(_()),ko=l(D());t();r();var Te={content:"_content_sj07h_1",left:"_left_sj07h_6",right:"_right_sj07h_13",skeleton:"_skeleton_sj07h_26","right-skeleton":"_right-skeleton_sj07h_30",rightSkeleton:"_right-skeleton_sj07h_30",border:"_border_sj07h_34"};var In=({className:e="",rightLoading:o,initLoading:i,fee:n})=>{let{getUsd:s}=no(p),m=s(n);return ye.default.createElement(M,{loading:i,height:16,className:(0,ko.default)(e,Te.skeleton)},ye.default.createElement("div",{className:(0,ko.default)(e,Te.content)},ye.default.createElement("div",{className:Te.left},k("swaptrade_order_info_label_network_fee")),ye.default.createElement(M,{loading:o,height:16,className:Te.rightSkeleton},ye.default.createElement("div",{className:Te.right},ye.default.createElement("div",{className:(0,ko.default)("ml-4","content-primary",Te.rightText)},m)))))};t();r();var ue=l(_()),Nn=l(Ie()),Ye=l(D());t();r();var de={content:"_content_18lf9_1",left:"_left_18lf9_6",right:"_right_18lf9_13",skeleton:"_skeleton_18lf9_26","right-skeleton":"_right-skeleton_18lf9_30",rightSkeleton:"_right-skeleton_18lf9_30"};var Pn=({className:e="",rightLoading:o,initLoading:i,type:n="market",currency:s,amount:m,mode:a})=>{let c=(0,Nn.useHistory)(),f={market:k("swaptrade_modal_dialog_option_market"),fast:k("swaptrade_modal_dialog_option_fast5x"),turbo:k("swaptrade_modal_dialog_option_turbo10x")},d=`${H(Pe)}?tab=${a}`,g=m&&s?`${le(m,{needBillionMillionUnit:!1})} ${s}`:"--";return ue.default.createElement(M,{loading:i,height:16,className:(0,Ye.default)(e,de.skeleton)},ue.default.createElement("div",{className:(0,Ye.default)(e,de.content)},ue.default.createElement("div",{className:de.left},k("swaptrade_modal_dialog_title_priority")),ue.default.createElement(M,{loading:o,height:16,className:de.rightSkeleton},ue.default.createElement(O,{className:de.right,onClick:()=>{c.push(d)}},n in f?ue.default.createElement(st,{size:it.SIZE.sm},f[n]):null,ue.default.createElement("div",{className:(0,Ye.default)("ml-4","content-primary",de.rightText)},g),ue.default.createElement(q,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Ye.default)("ml-4","content-secondary",de.rightIcon)})))))};t();r();var J=l(_()),ho=l(D());t();r();var So=l(_());t();r();var wn={"value-diff-percent":"_value-diff-percent_kz08o_1",valueDiffPercent:"_value-diff-percent_kz08o_1","base-up":"_base-up_kz08o_10",baseUp:"_base-up_kz08o_10","base-down":"_base-down_kz08o_13",baseDown:"_base-down_kz08o_13"};var An=({computedValueDifference:e,formattedFiatValue:o,crossValueDifferenceTooltipProps:i})=>{if(!o)return null;let{diffPercentWeakTip:n}=e,s=Ut({specialValueRangePrompt:n,isOfflineType:!1,isReferredFee:!1});return So.default.createElement("div",{className:wn.valueDiffPercent},So.default.createElement("span",null,`\u2248${o}`),So.default.createElement(Vt,{isSwapChain:!0,valueDifference:e,swapChainValueDifferenceTooltip:s,crossValueDifferenceTooltipProps:i}))};t();r();var ne=l(_());var Dn=({stop:e})=>{let o=(0,ne.useRef)(null);(0,ne.useEffect)(()=>{o.current?.beginElement()},[]),(0,ne.useEffect)(()=>{e?o.current?.endElement():o.current?.beginElement()},[e]);let i=["rotate(","-90"," ","8"," ","8",")"].join("");return ne.default.createElement("svg",{id:"progressSvg",width:"16",height:"16",viewBox:"0 0 16 16"},ne.default.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#A3A3A3",style:{stroke:"#A3A3A3"},strokeWidth:"3",fill:"none"}),ne.default.createElement("circle",{id:"progressCircle",cx:"8",cy:"8",r:"5",stroke:"var(--okd-color-border-primary)",strokeWidth:"3",fill:"none",strokeDasharray:"31.4",strokeDashoffset:"31.4",transform:i},ne.default.createElement("animate",{ref:o,attributeName:"stroke-dashoffset",from:"31.4",to:"0",dur:"5s",fill:"remove",begin:"indefinite"})))};t();r();var _e={content:"_content_1bbbw_1",left:"_left_1bbbw_6",right:"_right_1bbbw_13",skeleton:"_skeleton_1bbbw_26","right-skeleton":"_right-skeleton_1bbbw_30",rightSkeleton:"_right-skeleton_1bbbw_30",amount:"_amount_1bbbw_34","to-token":"_to-token_1bbbw_41",toToken:"_to-token_1bbbw_41"};var ti=({className:e="",initLoading:o,rightLoading:i,circleLoading:n,tokenAmount:s,tokenSymbol:m})=>{let{quoteStore:a,commonStore:{currencyConversionWithSymbol:c}}=p(),{computedValueDifference:f,computedToTokenValue:d}=a,g=d?c(d,{needBillionMillionUnit:!1}):"";return J.default.createElement(M,{loading:o,height:32,className:(0,ho.default)(e,_e.skeleton)},J.default.createElement("div",{className:(0,ho.default)(e,_e.content)},J.default.createElement("div",{className:_e.left},k("swaptrade_modal_label_quote")),J.default.createElement(M,{loading:i,height:32,className:_e.rightSkeleton},J.default.createElement("div",{className:_e.right},J.default.createElement("div",{className:"flex items-center"},J.default.createElement(Dn,{stop:n}),J.default.createElement("div",{className:(0,ho.default)("ml-4 content-primary",_e.amount)},s?le(s,{needBillionMillionUnit:!1}):"--",J.default.createElement("div",{className:_e.toToken},m))),J.default.createElement(An,{formattedFiatValue:g,computedValueDifference:f})))))},Ln=L(ti);t();r();var Q=l(_()),Be=l(D());t();r();var Ko=l(_()),Bn=l(D());t();r();var Fn={text:"_text_1p989_1"};var ri=({text:e,tooltip:o,toolTipsProps:i,onShowExplain:n})=>Ko.default.createElement(nt,{title:o,...i},Ko.default.createElement("span",{onMouseEnter:n,className:(0,Bn.default)(Fn.text)},e)),Vn=ri;t();r();var Ce=l(_());var Un=(e,o,i,n)=>{let{fromToken:s,toToken:m}=o,a=(0,Ce.useRef)(""),c=(0,Ce.useRef)(""),f=(0,Ce.useRef)(""),d=(0,Ce.useRef)("");(0,Ce.useEffect)(()=>{let g=a.current,h=c.current,{tokenSymbol:y}=s||{},{tokenSymbol:b}=m||{},{serviceFeeUsd:x}=e.computedServiceFeeInfo||{},E=i?n:x,S=e.computedGetQuoteFromValue||e.computedFromTokenValue,C=x&&y&&b&&S,T=g!==x&&h!==S||f.current!==b||d.current!==y;C&&T&&(_t({fee_shown:E,from_token_symbol:s.tokenSymbol,to_token_symbol:m.tokenSymbol,from_to_pair_symbol:`${s.tokenSymbol}:${m.tokenSymbol}`,input_amount_usd:S,source:dt()?.source,terminal:Ne()?Bo.Plugin:Bo.WEB,selected_chain_id:s.chainId,chain_name:s.chainName}),a.current=E,c.current=S,f.current=b,d.current=y)},[s,m,e.computedGetQuoteFrom,e.computedServiceFeeInfo,i,n,e])};t();r();var ie={content:"_content_1bup3_1",left:"_left_1bup3_6",right:"_right_1bup3_13",skeleton:"_skeleton_1bup3_26","right-skeleton":"_right-skeleton_1bup3_30",rightSkeleton:"_right-skeleton_1bup3_30","service-fee":"_service-fee_1bup3_34",serviceFee:"_service-fee_1bup3_34","original-percent-right":"_original-percent-right_1bup3_41",originalPercentRight:"_original-percent-right_1bup3_41",icon:"_icon_1bup3_46",referralTag:"_referralTag_1bup3_49",referralArrow:"_referralArrow_1bup3_52"};var ni=({className:e="",initLoading:o,rightLoading:i,useBussinessStore:n,usePercentage:s,labelText:m="",unbindRefCode:a,onStopUseRefCode:c,referralMonitorParams:f})=>{let{getUsd:d}=no(n),{quoteStore:g}=n(),{computedGetQuoteFrom:h,computedGetQuoteTo:y}=g,b=(0,Q.useMemo)(()=>({fromToken:h,toToken:y}),[h,y]),x=g.computedServiceFeeInfo||{},{isDisplayServiceFee:E,label:S,tooltip:C,discountedPercent:T,hasDiscount:N,originalPercent:P}=Ft({...x,formatServiceFeeUsd:d});if(Un(g,b,s,T),!E)return null;let I=!!a,B=I?O:"div";return Q.default.createElement(M,{loading:o,height:16,className:(0,Be.default)(e,ie.skeleton)},Q.default.createElement("div",{className:(0,Be.default)(e,ie.content)},Q.default.createElement("div",{className:(0,Be.default)("flex",ie.left)},Q.default.createElement(Vn,{tooltip:C,text:m||S})),Q.default.createElement(M,{loading:i,height:16,className:ie.rightSkeleton},Q.default.createElement("div",{className:ie.right},Q.default.createElement(B,{className:(0,Be.default)("ml-4 content-primary",ie.serviceFee),onClick:()=>{!I||Kt({onStop:c,...f})}},I&&Q.default.createElement(Zt,{className:ie.referralTag,...f}),Q.default.createElement("span",null,T),N&&Q.default.createElement("span",{className:ie.originalPercentRight},P),I&&Q.default.createElement(q,{iconName:(0,Be.default)(ie.referralArrow,"okx-defi-marketplace-chevron-right")}))))))},On=L(ni);t();r();var se=l(_()),Rn=l(Ie()),Ve=l(D());t();r();var ee={content:"_content_1897u_1",left:"_left_1897u_6",right:"_right_1897u_13",skeleton:"_skeleton_1897u_26","right-skeleton":"_right-skeleton_1897u_30",rightSkeleton:"_right-skeleton_1897u_30",warning:"_warning_1897u_34","warning-text":"_warning-text_1897u_37",warningText:"_warning-text_1897u_37"};var Wn=({className:e="",initLoading:o,rightLoading:i,percent:n,isSafeMoonToken:s=0,tokenSymbol:m="",tokenTax:a="",mode:c})=>{let f=(0,Rn.useHistory)(),d=n?`${ke(U.mul(n,100),{needZero:!1})}`:"--",g=s===1&&!i&&U.gt(a,0)&&U.lt(n,a),h=g?ke(U.mul(a,100),{needZero:!1}):"--",y=`${H(Pe)}?tab=${c}`;return se.default.createElement(M,{loading:o,height:16,className:(0,Ve.default)(e,ee.skeleton)},se.default.createElement("div",{className:(0,Ve.default)(e,ee.root)},se.default.createElement("div",{className:ee.content},se.default.createElement("div",{className:ee.left},k("swaptrade_extension_header_title_slippage_tolerance")),se.default.createElement(M,{loading:i,height:16,className:ee.rightSkeleton},se.default.createElement(O,{className:ee.right,onClick:()=>{f.push(y)}},se.default.createElement("div",{className:(0,Ve.default)("content-primary",ee.rightText,{[ee.warning]:g})},d),se.default.createElement(q,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Ve.default)("ml-4","content-secondary",ee.rightIcon)})))),g?se.default.createElement("div",{className:(0,Ve.default)("mt-16",ee.warningText)},k("swaptrade_modal_alert_error_trade_tax",{token:m,num:h})):null))};var o_={PriorityFee:Pn,Quote:Ln,Slippage:Wn,NetworkFee:In,ServiceFeeInfo:On};t();r();var w=l(_()),Qn=l(Ie());var je=l(D());t();r();var G={root:"_root_sy5hk_1",chain:"_chain_sy5hk_9",content:"_content_sy5hk_13",symbol:"_symbol_sy5hk_18","token-select":"_token-select_sy5hk_34",tokenSelect:"_token-select_sy5hk_34",copy:"_copy_sy5hk_44",address:"_address_sy5hk_50",data:"_data_sy5hk_58",price:"_price_sy5hk_63",split:"_split_sy5hk_74",cap:"_cap_sy5hk_81",skeleton:"_skeleton_sy5hk_92","high-risk-token":"_high-risk-token_sy5hk_95",highRiskToken:"_high-risk-token_sy5hk_95"};function ii(e){let o=e,i=o.getBoundingClientRect().width,n=document.createRange();return n.setStart(o,0),n.setEnd(o,o.childNodes.length),n.getBoundingClientRect().width-i>1}var b_=({className:e="",loading:o,mode:i,item:n})=>{let s=(0,Qn.useHistory)(),{commonStore:m}=p(),a=m.computedNowCurrencySymbol,c=`${H(ut)}?tab=${i}`,f=tr(n?.price?m.currencyConversion(n.price).toString():null,n?.chainId??0,n?.tokenContractAddress??"",a).value,d=pt(n?.marketCap?m.currencyConversion(n.marketCap).toString():null,{currencySign:a}).value,g=(0,w.useRef)(null),[h,y]=(0,w.useState)(!1);(0,w.useEffect)(()=>{!h&&d&&g.current&&ii(g.current)&&y(!0)},[h,d,g.current]);let b={display:h?"block":"flex"},x={marginTop:h?"4px":"0"};return w.default.createElement(M,{loading:o||!n?.tokenSymbol,height:86,className:(0,je.default)(e,G.skeleton)},w.default.createElement("div",{className:(0,je.default)(e,G.root)},w.default.createElement("div",{className:G.chain},w.default.createElement(Bt,{tokenSrc:n?.tokenLogoUrl??Do(),chainSrc:n?.chainLogoUrl??Do(),chainSize:14,tokenSize:34,className:(0,je.default)("boxCurrency")})),w.default.createElement("div",{className:G.content},w.default.createElement("div",{className:"flex items-center justify-start"},w.default.createElement(O,{className:G.symbol,onClick:()=>{s.push(c)}},n?.tokenSymbol||"--"),w.default.createElement(O,{onClick:()=>{s.push(c)}},w.default.createElement(q,{className:(0,je.default)("okx-defi-dex-arrow-down-sincere",G.tokenSelect),style:{fontSize:12},a11yText:"select"}))),w.default.createElement("div",{className:G.address},Ct(n?.tokenContractAddress,8,8)||"--",w.default.createElement(Ot,{token:n,showTooltip:!0,className:G.highRiskToken})),w.default.createElement("div",{className:G.data,style:b},w.default.createElement("div",{className:G.price},k("swaptrade_trade_label_price_numvalue",{value:f})),h?null:w.default.createElement("div",{className:G.split}),w.default.createElement("div",{className:G.cap,ref:g,style:x},k("swaptrade_trade_label_mcap_numvalue",{value:d}))))))};t();r();var Y=l(_()),He=l(D());t();r();var To=l(_());var si=e=>To.default.createElement(Nt,{...e}),qn=(0,To.memo)(si);t();r();var oe={"input-box":"_input-box_12cvh_1",inputBox:"_input-box_12cvh_1",tradeNumberInput:"_tradeNumberInput_12cvh_4",inner:"_inner_12cvh_4",disabled:"_disabled_12cvh_9",input:"_input_12cvh_1",label:"_label_12cvh_15",unit:"_unit_12cvh_23",error:"_error_12cvh_27",mt2:"_mt2_12cvh_33"};var mi=(0,Y.memo)(({label:e,disabled:o})=>e?Y.default.createElement("span",{className:(0,He.default)(oe.label,{[oe.disabled]:o})},e):null),ai=(0,Y.memo)(({unit:e})=>e?Y.default.createElement("div",{className:oe.unit},e):null),ci=(0,Y.memo)(({label:e,unit:o,quickSelectOptions:i,handleUpdateQuickSelectOptions:n,error:s,selectedIndex:m,disabled:a,...c})=>{let{suffix:f,...d}=c,g=f??Y.default.createElement(ai,{unit:o});return Y.default.createElement("div",{className:oe.inputBox},Y.default.createElement(Io.Number,{spellCheck:"false",error:!!s,errorType:Io.TIP_TYPE.always,disabled:a,enableMinus:!1,inputMode:"decimal",a11yLabel:typeof e=="string"?e:"input",...d,prefix:Y.default.createElement(mi,{label:e,disabled:a}),suffix:g,className:(0,He.default)(oe.tradeNumberInput,c.className),innerClassName:(0,He.default)(oe.inner,{[oe.disabled]:a},c.innerClassName),inputClassName:(0,He.default)(oe.input,c.inputClassName)}),Y.default.createElement(qn,{className:oe.mt2,options:i,selectedIndex:m,handleUpdateQuickSelectOptions:n,disabled:a}),!!s&&Y.default.createElement("p",{className:oe.error},s))}),G_=ci;t();r();function $_(){let{sellStore:e,buyStore:o,quoteStore:i,configStore:n}=p(),{computedIsSell:s}=n,m=s?e.computedSellNumberIsValid:o.computedBuyNumberIsValid,a=i.initLoading&&Ne();return!i.computedQuoteIsInvalid&&m||a}t();r();var yo=l(_()),Gn=l(Ie());var tg=e=>{let[o,i]=(0,yo.useState)(null),n=(0,Gn.useHistory)(),{queryParams:s}=to(),m=s?.get("inputChain"),a=s?.get("inputCurrency"),c=s?.get("outputChain"),f=s?.get("outputCurrency");return(0,yo.useEffect)(()=>{if(!s)return;let y=jt(s),b=Gt(e);oo(e,y)?i(y):oo(e,b)?i(b):i(qt())},[e==="buy"?c:m,e==="buy"?f:a]),{tokenPair:o,setTokenPair:y=>{oo(e,y)&&(Yt(e,y),Ht(n,n.location.pathname,y))}}};t();r();var Ue=l(_());function ui(){let{accountStore:e}=p(),{fromToken:o,toToken:i}=F(),{computedSignWalletAddress:n,computedAccountId:s}=e,m=e.getAddressByChainId(o?.chainId),a=De(),c=vr(),f=Ir(),d=so();return(0,Ue.useCallback)(async()=>{let g=await ht(n,o.chainId);return{userWalletAddress:m,tradeMode:vt.MEME,accountInfo:{accountId:s},slippageConfig:{slippage:c,slippageType:f,maxSlippage:d},liquidityConfig:{defiPlatformIds:mt},chainId:o.chainId,fromTokenAddress:o.tokenContractAddress,toTokenAddress:i.tokenContractAddress,amount:a,ext:g}},[m,c,f,d,o.chainId,o.tokenContractAddress,i.tokenContractAddress,a,s,n])}function fg(){let{quoteStore:e}=p(),{fetchQuote:o,cleanQuoteTimer:i}=e,n=ui(),s=(0,Ue.useCallback)(async()=>{let m=await n();await o(m)},[n,o]);(0,Ue.useEffect)(()=>{s()},[s]),(0,Ue.useEffect)(()=>()=>{i()},[i])}t();r();var Co=l(_());var li=e=>!e?.tokenContractAddress&&e?.tokenContractAddress!=="",pi=(e,o)=>e&&o&&o.price&&o.tokenContractAddress===e?.tokenContractAddress,fi=e=>e.chainId,hg=(e,o)=>{let[i,n]=(0,Co.useState)(null),s=pe();return(0,Co.useEffect)(()=>{async function m(){if(!li(o)){if(pi(o,e)){n(e);return}if(!!fi(s))if(o?.tokenContractAddress){let a=await kr({inputContent:o?.tokenContractAddress,...s});if(a)n(a);else{let c=await qo(s);n(c)}}else{let a=await qo(s);n(a)}}}m()},[o?.tokenContractAddress,s.chainId,s.accountId,s.userUniqueId,s.walletId,s.walletAddress]),i};t();r();var bo=l(_());var di=({myPosition:e,positionList:o,myPositionUsed:i,setMyPositionUsed:n})=>{if(!i&&e==="1"&&o.length){let s=document.querySelector("#meme-swap-container");s&&setTimeout(()=>{s.scrollTo({top:460,behavior:"smooth"}),n(!0),Xt("myPosition")},400)}},Eg=()=>{let{queryParams:e}=to(),{memePositionStore:o}=p(),{positionList:i}=o,n=e?.get?.("myPosition"),[s,m]=(0,bo.useState)(!1);(0,bo.useEffect)(()=>{di({myPosition:n,positionList:i,myPositionUsed:s,setMyPositionUsed:m})},[n,i,s])};t();r();ve();var Ag=()=>{let{configStore:e}=p();return j(e,"computedNativeTokenInfo",null)};t();r();var xo=l(_());var Ug=(e,o)=>{let[i,n]=(0,xo.useState)(null),s=pe(),{chainId:m,accountId:a,userUniqueId:c,userWalletAddress:f,businessType:d}=s;return(0,xo.useEffect)(()=>{async function g(){if(e&&m&&a&&c&&f){let h=await Sr({tokenAddress:e,chainId:m,accountId:a,userUniqueId:c,walletId:a,userWalletAddress:f,businessType:d},o);n(h)}}g()},[e,m,a,c,f,d]),i};t();r();var Yn=l(_());var qg=()=>(0,Yn.useMemo)(()=>k("swaptrade_input_placeholder_label_amount"),[]);export{tg as a,fg as b,hg as c,Eg as d,Ag as e,Ug as f,Vm as g,Mc as h,qc as i,ru as j,vu as k,Ou as l,Pl as m,Jl as n,Op as o,o_ as p,b_ as q,G_ as r,qg as s,$_ as t};
//# sourceMappingURL=chunk-ZTYOI7YR.js.map
