import{a as S,f as V}from"./chunk-7UYU4UAT.js";import{a as T}from"./chunk-U44ZBWPF.js";import{a as F}from"./chunk-B5L26Z2J.js";import{d as E}from"./chunk-AVG63QW4.js";import"./chunk-YLT6ZRGE.js";import"./chunk-OB65JCC3.js";import"./chunk-PMG6IXOR.js";import"./chunk-BD5XO4WL.js";import"./chunk-2IJ4E4D3.js";import"./chunk-XJ2EVWVX.js";import"./chunk-DD6IGY5O.js";import"./chunk-JMM35KIH.js";import"./chunk-5E7YC7OF.js";import"./chunk-LYGOKEAJ.js";import"./chunk-NS5EW6UN.js";import"./chunk-VUBIYSGX.js";import"./chunk-PNOOVDMP.js";import"./chunk-FHFRBSOO.js";import"./chunk-DU4RS7AX.js";import"./chunk-5C7AUJM4.js";import"./chunk-FLXVXXZH.js";import{b as A}from"./chunk-YVLQLIW6.js";import{o as w}from"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-SI5WJURV.js";import"./chunk-MT4YWUUK.js";import"./chunk-IPVHRCDK.js";import"./chunk-JW2AVC2H.js";import"./chunk-AKOAGCJX.js";import"./chunk-ARDRUD4P.js";import"./chunk-WYX7GFOD.js";import"./chunk-G6PA2JD3.js";import"./chunk-N2N44VBE.js";import"./chunk-ZDJRNLYZ.js";import"./chunk-RV5WZKGQ.js";import"./chunk-MJSLAJV6.js";import"./chunk-KC2XLVFC.js";import"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import{Fa as v,Ga as P}from"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-3F7OC7N7.js";import"./chunk-OKGWI7CU.js";import"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-I6UBKGB5.js";import"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import"./chunk-WN3TRBGI.js";import{c as h}from"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import"./chunk-EQ34WRCJ.js";import{p as t}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import{a as z}from"./chunk-DOSBJ3L3.js";import"./chunk-3O2IEAHF.js";import{D as m,q as k}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{C as f}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import"./chunk-FB3ILH2L.js";import{b}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-NEASQB35.js";import"./chunk-4C5HF6J2.js";import"./chunk-U6W3TK77.js";import"./chunk-WJI4CIAQ.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-F5YUOHHL.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as C,o as n,q as a}from"./chunk-UWURTNRY.js";n();a();var e=C(b());n();a();var N=(o="")=>/^[a-z]{1}[a-z1-5]{11}$/g.test(o);n();a();var y={"wax-create-account-form":"_wax-create-account-form_3yjsy_1",waxCreateAccountForm:"_wax-create-account-form_3yjsy_1","wax-create-account-rules":"_wax-create-account-rules_3yjsy_4",waxCreateAccountRules:"_wax-create-account-rules_3yjsy_4"};n();a();var l=C(b()),$=C(z());var M=()=>{let o=F(),s=m.useForm(),p=(0,$.useHistory)(),[x,d]=(0,l.useState)(!1),[r,u]=(0,l.useState)({account:o.get("account")||""}),i=Number(o.get("coinId")),{coin:g}=T(i,!1),W=async c=>{try{return await V(c)?await Promise.resolve():(s.setErrors({account:t("extension_wallet_create_errortip_error_name")}),await Promise.reject())}catch{return s.setErrors({account:t("extension_wallet_create_errortip_error_name")}),Promise.reject()}},B=(0,l.useCallback)(async()=>{d(!0);try{let c={coinId:i,chainId:g?.chainId,...r};await W(c);let{ownerKey:_,activeKey:U}=await S(c);_&&U?s.setErrors({account:t("extension_wallet_create_errortip_used_username")}):p.push(`${P}?coinId=${i}&account=${r?.account}&from=${o.get("from")||""}`)}finally{d(!1)}},[g,r]),L=(0,l.useCallback)(c=>{u(c);let{account:_}=c;p.replace(`${v}?account=${_}&coinId=${i}&account=${r?.account}&from=${o.get("from")||""}`)},[]);return{form:s,values:r,loading:x,onSubmit:B,onValuesChange:L}},j=M;var O=()=>{let{form:o,loading:s,values:p,onSubmit:x,onValuesChange:d}=j();return e.default.createElement(h.Container,{className:y["wax-create-account"]},e.default.createElement(E,{closeable:!1,title:t("extension_wallet_header_title_waxaccount_opening")}),e.default.createElement(m,{form:o,initialValues:p,className:y["wax-create-account-form"],onValuesChange:d,onSubmit:x},e.default.createElement(m.Item,{name:"account",validateTrigger:"onChange",rules:[{validator:(r,u)=>u&&!N(u)?Promise.reject(t("extension_wallet_create_errortip_error_name")):Promise.resolve()}],label:t("extension_wallet_create_text_set_account_name")},e.default.createElement(k,{placeholder:t("extension_wallet_create_input_enter_account_name",{},{useBr:!1})})),e.default.createElement(m.Item,{shouldUpdate:!0},({getFieldValue:r,getFieldsError:u})=>{let i=u(),g=r("account");return e.default.createElement(A.FooterActions,{usePortal:!0},e.default.createElement(f,{loading:s,htmlType:"submit",category:f.CATEGORY.fill,type:f.TYPE.highlight,size:f.SIZE.lg,onClick:x,disabled:!g||i?.length},t("wallet_extension_send_btn_next_step")))})),e.default.createElement(A,{offsetBottom:104,component:h.FlexBox,justify:"center"},e.default.createElement(w.Text,{component:"pre",type:w.TYPE.secondary,size:w.SIZE.xs,className:y["wax-create-account-rules"]},t("extension_wallet_create_input_naming_rules"))))},de=e.default.memo(O);export{de as default};
//# sourceMappingURL=CreateAccount-PMLQGTXU.js.map
