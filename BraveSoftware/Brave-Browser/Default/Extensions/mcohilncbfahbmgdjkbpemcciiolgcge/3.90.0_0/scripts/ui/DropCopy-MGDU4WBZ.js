import{a as de}from"./chunk-J5B5KBXF.js";import{a as ce}from"./chunk-4AIWJOGE.js";import{a as le}from"./chunk-5HKBJUHN.js";import"./chunk-QR6SNDPA.js";import"./chunk-DB7NVRTE.js";import"./chunk-XHRUTTJG.js";import{a as ne}from"./chunk-ZLTTBRML.js";import{b as ae}from"./chunk-RK4OLGCC.js";import"./chunk-ARRY6F45.js";import{c as x}from"./chunk-PMG6IXOR.js";import{a as E}from"./chunk-BD5XO4WL.js";import{d as j}from"./chunk-7U7FORYL.js";import{b as se}from"./chunk-XBUPORYF.js";import{a as Q}from"./chunk-HBXZ3GPM.js";import"./chunk-6C7RJCTT.js";import{a as Oe,b as ie,o as y}from"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-RV5WZKGQ.js";import"./chunk-MJSLAJV6.js";import{p as V}from"./chunk-KC2XLVFC.js";import{ra as J}from"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-SDBZJWGW.js";import{d as ee}from"./chunk-F3ILJHGP.js";import"./chunk-6M37VPK2.js";import"./chunk-WOJGOC63.js";import"./chunk-HZOYPVSA.js";import"./chunk-Z4GX4TH2.js";import{c as $}from"./chunk-OKGWI7CU.js";import"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-KYVX6VSI.js";import"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-XOHZCMW2.js";import{$ as Y,Eb as K,Fb as q,Hb as Z,Za as U,wa as H}from"./chunk-EQ34WRCJ.js";import{p as d,s as X}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import"./chunk-DOSBJ3L3.js";import"./chunk-3O2IEAHF.js";import{J as O,c as oe,f as D,w as R,x as re,y as B}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as te}from"./chunk-FB3ILH2L.js";import{b as M}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-4C5HF6J2.js";import"./chunk-U6W3TK77.js";import"./chunk-WJI4CIAQ.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-F5YUOHHL.js";import"./chunk-EL77VG5Z.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as k,o as _,q as f}from"./chunk-UWURTNRY.js";_();f();var p=k(M());var we=k(te()),Le=k(Oe());_();f();var n=k(M()),z=k(te());_();f();var a={container:"_container_chlfo_1",contentContainer:"_contentContainer_chlfo_4",firstInMore:"_firstInMore_chlfo_17",expanded:"_expanded_chlfo_20",isGroup:"_isGroup_chlfo_24",left:"_left_chlfo_27",main:"_main_chlfo_35",name:"_name_chlfo_42",addr:"_addr_chlfo_46",right:"_right_chlfo_52",copyIcon:"_copyIcon_chlfo_52",moreOrLessContainer:"_moreOrLessContainer_chlfo_55",text:"_text_chlfo_59",accordion:"_accordion_chlfo_68",accordionContent:"_accordionContent_chlfo_72",accordionHeader:"_accordionHeader_chlfo_75","receive-warning":"_receive-warning_chlfo_80",receiveWarning:"_receive-warning_chlfo_80","warning-icon":"_warning-icon_chlfo_85",warningIcon:"_warning-icon_chlfo_85","warning-text":"_warning-text_chlfo_89",warningText:"_warning-text_chlfo_89"};var Ae={["HEX"]:"wallet_extension_token_details_tag_0x",["XKO"]:"wallet_extension_token_details_tag_default"},be=({image:o="",chainName:r="",addressType:s="",address:e="",expanded:t=!1,isGroup:c=!1,lastInMore:u=!1,onToggle:w=()=>{},receiveWarning:m})=>{let T=()=>t?d("extension_defi_popup_textbtn_show_less"):d("extension_defi_popup_textbtn_show_all_address_types"),I=(0,n.useMemo)(()=>o?{src:o}:r&&typeof r=="string"?{text:r,type:x.TYPE.text}:{src:$},[o,r]);return n.default.createElement("div",{className:(0,z.default)(a.container,t?a.expanded:"")},n.default.createElement("div",{className:(0,z.default)(a.contentContainer,t?a.expanded:"",c?a.isGroup:"",c&&!t?a.firstInMore:"")},n.default.createElement("div",{className:a.left},n.default.createElement(x,{size:ie.lg,className:"new-home__address-copy-chain-item-left",...I})),n.default.createElement("div",{className:a.main},n.default.createElement(y.Text,{ellipsis:!0,className:a.name,size:y.SIZE.md},r),s&&n.default.createElement(D,{className:"address-copy-badge",type:D.TYPE.rounded},d(Ae[s]||q[s])),n.default.createElement("div",{className:a.addr,"data-testid":E.COPY_WALLET_ADDRESS_PAGE.ADDRESS_DISPLAY},e),m&&n.default.createElement("div",{className:a.receiveWarning},n.default.createElement(x,{size:x.SIZE.xs,icon:"okx-wallet-plugin-warning-circle",className:a.warningIcon}),n.default.createElement(y.Text,{size:y.SIZE.xs,className:a.warningText},m))),n.default.createElement("div",{className:a.right,"data-testid":E.COPY_WALLET_ADDRESS_PAGE.COPY_ICON_CONTAINER},n.default.createElement(x,{icon:"okx-wallet-plugin-copy-1",className:a.copyIcon}))),c&&!t||u?n.default.createElement("div",{className:a.moreOrLessContainer},n.default.createElement("div",{onClick:C=>{C.stopPropagation()}},n.default.createElement(oe,{expanded:t,className:a.accordion,contentClassName:a.accordionContent,headerClassName:a.accordionHeader,onToggle:w,title:n.default.createElement("div",{className:a.text,"data-testid":E.COPY_WALLET_ADDRESS_PAGE.SHOW_MORE_TOGGLE},T())}))):null)},pe=be;_();f();var Ne=k(M());_();f();var G={default:1,rpc:2,custom:3},me=(o,r,s)=>o?.map(e=>{let t=e.netWorkId??e.chainIdDecimal??parseInt(e.chainId,16);return{address:r,chainId:t,chainName:e.chainName||e.name||e.nickname,image:e.icon||e.image,isHotNetwork:!1,symbol:e.symbol,copyAddressSortPriority:s}})||[],_e=o=>{let r=[],s=[];return o.forEach(e=>{let t=e.chainName;/^[a-z]/i.test(t)?s.push(e):r.push(e)}),{startNotWithLettersList:r,startWithLettersList:s}},fe=({defaultNetWorks:o,rpcNetWorks:r,customNets:s,ethereumAccount:e})=>{let t=o?.map(m=>({...m,copyAddressSortPriority:G.default}))||[],c=me(r,e,G.rpc),u=me(s,e,G.custom);return t.concat(c,u)},ue=o=>[...o].sort((r,s)=>{let e=r?.chainName?.charAt(0).toUpperCase(),t=s?.chainName?.charAt(0).toUpperCase();return e&&t&&e!==t?e?.localeCompare(t):r.copyAddressSortPriority-s.copyAddressSortPriority}),he=o=>o.length?[{isUnderLine:!0},{isTag:!0,tagName:"#"},...o]:[],ge=({hotAddresses:o,moreOrLessKeyList:r,moreOrLessMap:s,allSortedList:e})=>o.length?[{isTag:!0,tagName:X("extension_wallet_switchnetwork_subtitle_popular_networks")},...o.map(t=>{let c=r.find(u=>u===`${t.address}${t.chainId}`);return c?{...t,showMore:s[c]}:t}),{isTag:!0,tagName:"",isUnderLine:!0},...e]:e;var ye=o=>{let{currentNetworkUniqueId:r}=Q(),{defaultNets:s,customNets:e}=j(),{isEVMChainExisted:t}=J(de),c=se(),u=(0,Ne.useMemo)(()=>t&&r===""?fe({defaultNetWorks:o,rpcNetWorks:s,customNets:e,ethereumAccount:c}):o,[t,r,o,s,e,c]);return _e(u)};_();f();var L={close:"_close_1qzfa_1",underlineWrapper:"_underlineWrapper_1qzfa_4",tag:"_tag_1qzfa_7",empty:"_empty_1qzfa_10","add-weight":"_add-weight_1qzfa_13",addWeight:"_add-weight_1qzfa_13",line:"_line_1qzfa_13"};var Ee=({searching:o,moreOrLessMap:r,startWithLettersList:s=[],hotAddresses:e=[],startNotWithLettersList:t=[]})=>{let c=[...s,...t];if(!c.length)return[];let u=Object.keys(r),w={},m=ue(s);if(c.length<=4||o)return[...m,...t];for(let g=0;g<m.length;g++){let S=m[g]?.chainName?.charAt(0).toUpperCase();S&&!w[S]&&(m.splice(g,0,{isTag:!0,tagName:S}),g!==0&&m.splice(g,0,{isTag:!0,tagName:"",isUnderLine:!0}),w[S]=!0,g++)}let T=he(t),I=m.concat(T),C=ge({hotAddresses:e,moreOrLessKeyList:u,moreOrLessMap:r,allSortedList:I});return o?[]:C},Pe=({addresses:o,hotAddresses:r,CopyButton:s,visible:e,setVisible:t})=>{let[c,u]=(0,p.useState)({}),{isNotBackupWallet:w}=le(),{run:m}=V(()=>{w&&O.warn({title:d("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:O.DIRECTION.top})},{leading:!0,wait:300}),{isSm:T}=ae(),[I,C]=(0,p.useState)(!1),g=(0,p.useRef)(null),S=({value:l},N)=>{if(l==="disable")return!1;let W=N.toLowerCase()||"";return!!(ce(l,N)||(l?.symbol?.toLowerCase()||"").indexOf(W)>-1)},{startNotWithLettersList:Te,startWithLettersList:Ce}=ye(o),Se=Ee({startWithLettersList:Ce,hotAddresses:r,startNotWithLettersList:Te,searching:I,moreOrLessMap:c}),F=(l=>{let N=[],W=(h,i,{lastInMore:A=!1}={})=>{let P=i?.chainId===U&&i?.addressType===K.SEGWIT_TAPROOT?d("wallet_extension_cat_taproot_receive_only",{contractType:d("wallet_extension_cat_icu_taproot"),contractName:d("wallet_extension_cat_icu_cat")}):void 0;N.push({value:{address:i.address,chainName:i.chainName,symbol:i.symbol,addressType:i.addressType,localType:i.localType,chainId:i.chainId},label:p.default.createElement(pe,{image:i.image,chainName:i.chainName,address:i.address,addressType:i.addressType,expanded:h.showMore,isGroup:i.moreAddress&&i.moreAddress.length>0,lastInMore:A,onToggle:b=>{u({...c,[`${h.address}${h.chainId}`]:b})},receiveWarning:P})})};return l.forEach(h=>{let{isTag:i,tagName:A,isUnderLine:P,moreAddress:b=[],showMore:xe}=h;if(P){N.push({value:"disable",type:R.OPTION_TYPE.line,className:(0,we.default)(L.addWeight,L.line)});return}if(i){N.push({value:"disable",label:p.default.createElement("div",{className:L.underlineWrapper},p.default.createElement(y.Text,{size:y.SIZE.sm,type:y.TYPE.secondary,className:L.tag},A)),className:"title-tag",type:R.OPTION_TYPE.title});return}W(h,h),xe&&b.map((Ie,We)=>W(h,Ie,{lastInMore:We===b.length-1}))}),N})(Se),ke=l=>{if(l.value==="disable")return;(0,Le.default)(l.value.address||"");let N=l.value.addressType,h=l.value.localType===H,i;h&&ee()?i=l.value.addressType==="XKO"?d("wallet_extension_account_notification_default_xlayer_copied"):d("wallet_extension_account_notification_0x_xlayer_copied"):N?i=ne(d,Z[l.value.localType||Y]?.[N],l.value):i=d("wallet_extension_transaction_toast_network_address_copied",{network:l.value.chainName}),O.success({title:i,desc:l.value.address,duration:1.5,placement:O.DIRECTION.top,containerClassName:"address-copy-notification"})};return(0,p.useEffect)(()=>{g.current?.setVisible(e)},[e]),p.default.createElement("div",{className:"new-home__address-copy",onClick:m,"data-testid":"address"},p.default.createElement(re,{ref:g,disabled:w,onSearch:l=>{C(!!l)},options:F,onChange:ke,dialogMode:!0,dropMode:!1,dialogProps:{isFull:!T,width:T?void 0:450,noContentPadding:!0,noTopRadius:!1,windowStyle:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},closeClassName:L.close},optionTitle:d("extension_wallet_address_title_wallet_address"),searchable:F.length>10,searchFilter:S,scrollStyle:{maxHeight:"398px",height:"auto"},searchEmpty:p.default.createElement(B.State,{className:L.empty,type:B.State.TYPE.noRecord,title:d("wallet_toast_address_input_noresults")}),searchPlaceholder:d("wallet_toast_address_input_search"),displayArea:s,popupProps:{zIndex:10001,offset:[-150,0]},optionContClassName:"new-home__address-copy-drop-container",optionItemClassName:"new-home__address-copy-drop-option",onToggleShow:l=>{t(l)}}))},Rt=Pe;export{Rt as default};
//# sourceMappingURL=DropCopy-MGDU4WBZ.js.map
