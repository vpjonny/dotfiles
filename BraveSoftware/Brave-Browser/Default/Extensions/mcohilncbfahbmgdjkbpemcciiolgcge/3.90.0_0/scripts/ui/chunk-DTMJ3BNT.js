import{b as k2,g as R2,h as a0,j as Rr}from"./chunk-VONUGAVN.js";import{a as N2}from"./chunk-QI2KSP5Y.js";import{a as Af}from"./chunk-EL77VG5Z.js";import{a as B2,b as O2}from"./chunk-26XSB24L.js";import{c as E2,d as P2,e as A2,i as o0,j as M2,l as I2}from"./chunk-PDIVTGDM.js";import{c as Pf}from"./chunk-UL6IEE2K.js";import{d as T2}from"./chunk-4ARIYUS3.js";import{c as R,o as C,p as B,q as x}from"./chunk-UWURTNRY.js";var Mf=R(ia=>{C();x();Object.defineProperty(ia,"__esModule",{value:!0});ia.config=void 0;var L2={network:{layer1:"placeholder"},logLevel:"debug"};ia.config=L2});var c0=R(Y=>{C();x();Object.defineProperty(Y,"__esModule",{value:!0});Y.PreconditionFailedError=Y.PayloadTooLargeError=Y.ValidationError=Y.BadPathError=Y.NotEnoughProofError=Y.ConflictError=Y.DoesNotExist=Y.GaiaHubError=Y.NoSessionDataError=Y.InvalidStateError=Y.FailedDecryptionError=Y.SignatureVerificationError=Y.LoginFailedError=Y.InvalidAmountError=Y.NotEnoughFundsError=Y.InvalidDIDError=Y.MissingParameterError=Y.InvalidParameterError=Y.BlockstackError=Y.ERROR_CODES=void 0;Y.ERROR_CODES={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(Y.ERROR_CODES);var xr=class extends Error{constructor(t){super();let r=t.message,n=`Error Code: ${t.code}`,i=this.stack;if(i)n+=`Stack Trace:
${i}`;else try{throw new Error}catch(s){i=s.stack}r+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${n}`,this.message=r,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}};Y.BlockstackError=xr;var If=class extends xr{constructor(t,r=""){super({code:Y.ERROR_CODES.MISSING_PARAMETER,message:r,parameter:t}),this.name="MissingParametersError"}};Y.InvalidParameterError=If;var Bf=class extends xr{constructor(t,r=""){super({code:Y.ERROR_CODES.MISSING_PARAMETER,message:r,parameter:t}),this.name="MissingParametersError"}};Y.MissingParameterError=Bf;var Of=class extends xr{constructor(t=""){super({code:Y.ERROR_CODES.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}};Y.InvalidDIDError=Of;var kf=class extends xr{constructor(t){let r=`Not enough UTXOs to fund. Left to fund: ${t}`;super({code:Y.ERROR_CODES.NOT_ENOUGH_FUNDS_ERROR,message:r}),this.leftToFund=t,this.name="NotEnoughFundsError",this.message=r}};Y.NotEnoughFundsError=kf;var Rf=class extends xr{constructor(t,r){let n=`Not enough coin to fund fees transaction fees. Fees would be ${t}, specified spend is  ${r}`;super({code:Y.ERROR_CODES.INVALID_AMOUNT_ERROR,message:n}),this.specifiedAmount=r,this.fees=t,this.name="InvalidAmountError",this.message=n}};Y.InvalidAmountError=Rf;var Nf=class extends xr{constructor(t){let r=`Failed to login: ${t}`;super({code:Y.ERROR_CODES.LOGIN_FAILED_ERROR,message:r}),this.message=r,this.name="LoginFailedError"}};Y.LoginFailedError=Nf;var Lf=class extends xr{constructor(t){let r=`Failed to verify signature: ${t}`;super({code:Y.ERROR_CODES.SIGNATURE_VERIFICATION_ERROR,message:r}),this.message=r,this.name="SignatureVerificationError"}};Y.SignatureVerificationError=Lf;var qf=class extends xr{constructor(t="Unable to decrypt cipher object."){super({code:Y.ERROR_CODES.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}};Y.FailedDecryptionError=qf;var Hf=class extends xr{constructor(t){super({code:Y.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}};Y.InvalidStateError=Hf;var Vf=class extends xr{constructor(t){super({code:Y.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}};Y.NoSessionDataError=Vf;var on=class extends xr{constructor(t,r){super(t),r&&(this.hubError={statusCode:r.status,statusText:r.statusText},typeof r.body=="string"?this.hubError.message=r.body:typeof r.body=="object"&&Object.assign(this.hubError,r.body))}};Y.GaiaHubError=on;var Df=class extends on{constructor(t,r){super({message:t,code:Y.ERROR_CODES.DOES_NOT_EXIST},r),this.name="DoesNotExist"}};Y.DoesNotExist=Df;var Kf=class extends on{constructor(t,r){super({message:t,code:Y.ERROR_CODES.CONFLICT_ERROR},r),this.name="ConflictError"}};Y.ConflictError=Kf;var Uf=class extends on{constructor(t,r){super({message:t,code:Y.ERROR_CODES.NOT_ENOUGH_PROOF_ERROR},r),this.name="NotEnoughProofError"}};Y.NotEnoughProofError=Uf;var zf=class extends on{constructor(t,r){super({message:t,code:Y.ERROR_CODES.BAD_PATH_ERROR},r),this.name="BadPathError"}};Y.BadPathError=zf;var Ff=class extends on{constructor(t,r){super({message:t,code:Y.ERROR_CODES.VALIDATION_ERROR},r),this.name="ValidationError"}};Y.ValidationError=Ff;var jf=class extends on{constructor(t,r,n){super({message:t,code:Y.ERROR_CODES.PAYLOAD_TOO_LARGE_ERROR},r),this.name="PayloadTooLargeError",this.maxUploadByteSize=n}};Y.PayloadTooLargeError=jf;var $f=class extends on{constructor(t,r){super({message:t,code:Y.ERROR_CODES.PRECONDITION_FAILED_ERROR},r),this.name="PreconditionFailedError"}};Y.PreconditionFailedError=$f});var d0=R(sa=>{C();x();Object.defineProperty(sa,"__esModule",{value:!0});sa.Logger=void 0;var q2=Mf(),f0=["debug","info","warn","error","none"],Gf={},H2={};for(let e=0;e<f0.length;e++){let t=f0[e];Gf[t]=e,H2[e]=t}var Wf=class{static error(t){!this.shouldLog("error")||console.error(this.logMessage("error",t))}static warn(t){!this.shouldLog("warn")||console.warn(this.logMessage("warn",t))}static info(t){!this.shouldLog("info")||console.log(this.logMessage("info",t))}static debug(t){!this.shouldLog("debug")||console.log(this.logMessage("debug",t))}static logMessage(t,r){return`[${t.toUpperCase()}] ${r}`}static shouldLog(t){return Gf[q2.config.logLevel]<=Gf[t]}};sa.Logger=Wf});var oa=R(ce=>{C();x();Object.defineProperty(ce,"__esModule",{value:!0});ce.isInstance=ce.concatArray=ce.concatBytes=ce.toBytes=ce.octetsToBytes=ce.bytesToAscii=ce.asciiToBytes=ce.bytesToUtf8=ce.utf8ToBytes=ce.hexToBytes=ce.bytesToHex=ce.fromTwos=ce.toTwos=ce.bigIntToBytes=ce.hexToInt=ce.intToHex=ce.hexToBigInt=ce.with0x=ce.intToBigInt=ce.intToBytes=void 0;function V2(e,t,r){return l0(Zf(e,t),r)}ce.intToBytes=V2;function Zf(e,t){let r=e;if(typeof r=="number"){if(!Number.isInteger(r))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(r)}if(typeof r=="string")if(r.toLowerCase().startsWith("0x")){let n=r.slice(2);n=n.padStart(n.length+n.length%2,"0"),r=Jf(n)}else try{return BigInt(r)}catch(n){if(n instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${r}' is not finite.`)}if(typeof r=="bigint")return r;if(r instanceof Uint8Array)if(t){let n=h0(BigInt(`0x${Xf(r)}`),BigInt(r.byteLength*8));return BigInt(n.toString())}else return BigInt(`0x${Xf(r)}`);if(r!=null&&typeof r=="object"&&r.constructor.name==="BN")return BigInt(r.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}ce.intToBigInt=Zf;function D2(e){return e.startsWith("0x")?e:`0x${e}`}ce.with0x=D2;function K2(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}ce.hexToBigInt=K2;function u0(e,t=8){return(typeof e=="bigint"?e:Zf(e,!1)).toString(16).padStart(t*2,"0")}ce.intToHex=u0;function U2(e){return parseInt(e,16)}ce.hexToInt=U2;function l0(e,t=16){let r=u0(e,t);return Jf(r)}ce.bigIntToBytes=l0;function z2(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw new Error(`Unable to represent integer in width: ${t}`);return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}ce.toTwos=z2;function F2(e,t){return e&BigInt(1)<<t}function h0(e,t){return F2(e,t-BigInt(1))?e-(BigInt(1)<<t):e}ce.fromTwos=h0;var j2=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xf(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r of e)t+=j2[r];return t}ce.bytesToHex=Xf;function Jf(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,r=new Uint8Array(t.length/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}ce.hexToBytes=Jf;function b0(e){return new TextEncoder().encode(e)}ce.utf8ToBytes=b0;function $2(e){return new TextDecoder().decode(e)}ce.bytesToUtf8=$2;function G2(e){let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r)&255);return new Uint8Array(t)}ce.asciiToBytes=G2;function W2(e){return String.fromCharCode.apply(null,e)}ce.bytesToAscii=W2;function X2(e){return!Number.isInteger(e)||e<0||e>255}function Yf(e){if(e.some(X2))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}ce.octetsToBytes=Yf;function Y2(e){if(typeof e=="string")return b0(e);if(e instanceof Uint8Array)return e;throw new TypeError(`Expected input type is (Uint8Array | string) but got (${typeof e})`)}ce.toBytes=Y2;function p0(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}ce.concatBytes=p0;function Z2(e){return p0(...e.map(t=>typeof t=="number"?Yf([t]):t instanceof Array?Yf(t):t))}ce.concatArray=Z2;function J2(e,t){return e instanceof t||e?.constructor?.name?.toLowerCase()===t.name}ce.isInstance=J2});var y0=R(Tr=>{C();x();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.BLOCKSTACK_DEFAULT_GAIA_HUB_URL=Tr.PRIVATE_KEY_UNCOMPRESSED_LENGTH=Tr.PRIVATE_KEY_COMPRESSED_LENGTH=Tr.TransactionVersion=Tr.ChainID=void 0;var Q2;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(Q2=Tr.ChainID||(Tr.ChainID={}));var em;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(em=Tr.TransactionVersion||(Tr.TransactionVersion={}));Tr.PRIVATE_KEY_COMPRESSED_LENGTH=33;Tr.PRIVATE_KEY_UNCOMPRESSED_LENGTH=32;Tr.BLOCKSTACK_DEFAULT_GAIA_HUB_URL="https://hub.blockstack.org"});var g0=R(Kn=>{C();x();Object.defineProperty(Kn,"__esModule",{value:!0});Kn.signatureRsvToVrs=Kn.signatureVrsToRsv=Kn.parseRecoverableSignatureVrs=void 0;var tm=oa(),Qf=32;function rm(e){if(e.length<Qf*2*2+1)throw new Error("Invalid signature");let t=e.slice(0,2),r=e.slice(2,2+Qf*2),n=e.slice(2+Qf*2);return{recoveryId:(0,tm.hexToInt)(t),r,s:n}}Kn.parseRecoverableSignatureVrs=rm;function nm(e){return e.slice(2)+e.slice(0,2)}Kn.signatureVrsToRsv=nm;function im(e){return e.slice(-2)+e.slice(0,-2)}Kn.signatureRsvToVrs=im});var m0=R(aa=>{C();x();Object.defineProperty(aa,"__esModule",{value:!0});aa.privateKeyToBytes=void 0;var sm=oa();function om(e){let t=typeof e=="string"?(0,sm.hexToBytes)(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}aa.privateKeyToBytes=om});var v0=R(qe=>{C();x();Object.defineProperty(qe,"__esModule",{value:!0});qe.writeUInt32LE=qe.readUInt32LE=qe.writeUInt32BE=qe.readUInt32BE=qe.writeUInt16LE=qe.readUInt16LE=qe.writeUInt8=qe.readUInt8=qe.writeUInt16BE=qe.readUInt16BE=qe.alloc=qe.equals=void 0;function am(e,t){if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}qe.equals=am;function cm(e,t){let r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t;return r}qe.alloc=cm;function fm(e,t){return(e[t+0]<<8|e[t+1])>>>0}qe.readUInt16BE=fm;function dm(e,t,r){e[r+0]=t>>>8,e[r+1]=t>>>0}qe.writeUInt16BE=dm;function um(e,t){return e[t]}qe.readUInt8=um;function lm(e,t,r){e[r]=t}qe.writeUInt8=lm;function hm(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}qe.readUInt16LE=hm;function bm(e,t,r){e[r+0]=t&255,t>>>=8,e[r+1]=t&255}qe.writeUInt16LE=bm;function pm(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}qe.readUInt32BE=pm;function ym(e,t,r){e[r+3]=t,t>>>=8,e[r+2]=t,t>>>=8,e[r+1]=t,t>>>=8,e[r]=t}qe.writeUInt32BE=ym;function gm(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0|e[t+2]<<16>>>0|e[t+3]<<24>>>0}qe.readUInt32LE=gm;function mm(e,t,r){e[r+0]=t&255,t>>>=8,e[r+1]=t&255,t>>>=8,e[r+2]=t&255,t>>>=8,e[r+3]=t&255}qe.writeUInt32LE=mm});var Se=R(Er=>{C();x();var vm=Er&&Er.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Un=Er&&Er.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vm(t,e,r)};Object.defineProperty(Er,"__esModule",{value:!0});Un(Mf(),Er);Un(c0(),Er);Un(d0(),Er);Un(oa(),Er);Un(y0(),Er);Un(g0(),Er);Un(m0(),Er);Un(v0(),Er)});var sr=R(X=>{C();x();Object.defineProperty(X,"__esModule",{value:!0});X.TxRejectedReason=X.AssetType=X.NonFungibleConditionCode=X.FungibleConditionCode=X.PubKeyEncoding=X.AddressVersion=X.AddressHashMode=X.AuthType=X.PostConditionPrincipalID=X.PostConditionType=X.PostConditionMode=X.TransactionVersion=X.anchorModeFromNameOrValue=X.AnchorModeNames=X.AnchorMode=X.ClarityVersion=X.PayloadType=X.StacksMessageType=X.ChainID=X.DEFAULT_CORE_NODE_API_URL=X.MEMO_MAX_LENGTH_BYTES=X.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=X.COMPRESSED_PUBKEY_LENGTH_BYTES=X.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=X.DEFAULT_TRANSACTION_VERSION=X.DEFAULT_CHAIN_ID=X.COINBASE_BYTES_LENGTH=X.CLARITY_INT_BYTE_SIZE=X.CLARITY_INT_SIZE=X.MAX_STRING_LENGTH_BYTES=X.whenMessageType=void 0;var ca;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(ca||(ca={}));X.ChainID=ca;var _m=ca.Mainnet;X.DEFAULT_CHAIN_ID=_m;var Sm=128;X.MAX_STRING_LENGTH_BYTES=Sm;var wm=128;X.CLARITY_INT_SIZE=wm;var Cm=16;X.CLARITY_INT_BYTE_SIZE=Cm;var xm=32;X.COINBASE_BYTES_LENGTH=xm;var Tm=65;X.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=Tm;var Em=32;X.COMPRESSED_PUBKEY_LENGTH_BYTES=Em;var Pm=64;X.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=Pm;var Am=34;X.MEMO_MAX_LENGTH_BYTES=Am;var Mm="https://stacks-node-api.mainnet.stacks.co";X.DEFAULT_CORE_NODE_API_URL=Mm;var ed;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(ed||(ed={}));X.StacksMessageType=ed;function Im(e){return t=>t[e]}X.whenMessageType=Im;var td;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient"})(td||(td={}));X.PayloadType=td;var rd;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2"})(rd||(rd={}));X.ClarityVersion=rd;var Kr;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(Kr||(Kr={}));X.AnchorMode=Kr;var ho=["onChainOnly","offChainOnly","any"];X.AnchorModeNames=ho;var _0={[ho[0]]:Kr.OnChainOnly,[ho[1]]:Kr.OffChainOnly,[ho[2]]:Kr.Any,[Kr.OnChainOnly]:Kr.OnChainOnly,[Kr.OffChainOnly]:Kr.OffChainOnly,[Kr.Any]:Kr.Any};function Bm(e){if(e in _0)return _0[e];throw new Error(`Invalid anchor mode "${e}", must be one of: ${ho.join(", ")}`)}X.anchorModeFromNameOrValue=Bm;var fa;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(fa||(fa={}));X.TransactionVersion=fa;var Om=fa.Mainnet;X.DEFAULT_TRANSACTION_VERSION=Om;var nd;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(nd||(nd={}));X.PostConditionMode=nd;var id;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(id||(id={}));X.PostConditionType=id;var sd;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(sd||(sd={}));X.AuthType=sd;var od;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH"})(od||(od={}));X.AddressHashMode=od;var ad;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(ad||(ad={}));X.AddressVersion=ad;var cd;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(cd||(cd={}));X.PubKeyEncoding=cd;var fd;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(fd||(fd={}));X.FungibleConditionCode=fd;var dd;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(dd||(dd={}));X.NonFungibleConditionCode=dd;var ud;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(ud||(ud={}));X.PostConditionPrincipalID=ud;var ld;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(ld||(ld={}));X.AssetType=ld;var hd;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(hd||(hd={}));X.TxRejectedReason=hd});var bd=R(or=>{C();x();Object.defineProperty(or,"__esModule",{value:!0});or.c32decode=or.c32normalize=or.c32encode=or.c32=void 0;var km=Se();or.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";var bo="0123456789abcdef";function Rm(e,t){if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");e.length%2!==0&&(e=`0${e}`),e=e.toLowerCase();let r=[],n=0;for(let c=e.length-1;c>=0;c--)if(n<4){let d=bo.indexOf(e[c])>>n,l=0;c!==0&&(l=bo.indexOf(e[c-1]));let p=1+n,b=l%(1<<p)<<5-p,E=or.c32[d+b];n=p,r.unshift(E)}else n=0;let i=0;for(let c=0;c<r.length&&r[c]==="0";c++)i++;r=r.slice(i);let s=new TextDecoder().decode((0,km.hexToBytes)(e)).match(/^\u0000*/),o=s?s[0].length:0;for(let c=0;c<o;c++)r.unshift(or.c32[0]);if(t){let c=t-r.length;for(let d=0;d<c;d++)r.unshift(or.c32[0])}return r.join("")}or.c32encode=Rm;function S0(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}or.c32normalize=S0;function Nm(e,t){if(e=S0(e),!e.match(`^[${or.c32}]*$`))throw new Error("Not a c32-encoded string");let r=e.match(`^${or.c32[0]}*`),n=r?r[0].length:0,i=[],s=0,o=0;for(let l=e.length-1;l>=0;l--){o===4&&(i.unshift(bo[s]),o=0,s=0);let b=(or.c32.indexOf(e[l])<<o)+s,E=bo[b%16];if(o+=1,s=b>>4,s>1<<o)throw new Error("Panic error in decoding.");i.unshift(E)}i.unshift(bo[s]),i.length%2===1&&i.unshift("0");let c=0;for(let l=0;l<i.length&&i[l]==="0";l++)c++;i=i.slice(c-c%2);let d=i.join("");for(let l=0;l<n;l++)d=`00${d}`;if(t){let l=t*2-d.length;for(let p=0;p<l;p+=2)d=`00${d}`}return d}or.c32decode=Nm});var pd=R(Yi=>{C();x();Object.defineProperty(Yi,"__esModule",{value:!0});Yi.c32checkDecode=Yi.c32checkEncode=void 0;var w0=Rr(),C0=Se(),po=bd();function x0(e){let t=w0.base.sha256(w0.base.sha256((0,C0.hexToBytes)(e)));return(0,C0.bytesToHex)(t.slice(0,4))}function Lm(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let r=e.toString(16);r.length===1&&(r=`0${r}`);let n=x0(`${r}${t}`),i=(0,po.c32encode)(`${t}${n}`);return`${po.c32[e]}${i}`}Yi.c32checkEncode=Lm;function qm(e){e=(0,po.c32normalize)(e);let t=(0,po.c32decode)(e.slice(1)),r=e[0],n=po.c32.indexOf(r),i=t.slice(-8),s=n.toString(16);if(s.length===1&&(s=`0${s}`),x0(`${s}${t.substring(0,t.length-8)}`)!==i)throw new Error("Invalid c32check string: checksum mismatch");return[n,t.substring(0,t.length-8)]}Yi.c32checkDecode=qm});var E0=R((zC,T0)=>{C();x();function Hm(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,c=e.charAt(0),d=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function p(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var P=0,T=0,I=0,M=w.length;I!==M&&w[I]===0;)I++,P++;for(var k=(M-I)*l+1>>>0,O=new Uint8Array(k);I!==M;){for(var N=w[I],L=0,q=k-1;(N!==0||L<T)&&q!==-1;q--,L++)N+=256*O[q]>>>0,O[q]=N%o>>>0,N=N/o>>>0;if(N!==0)throw new Error("Non-zero carry");T=L,I++}for(var V=k-T;V!==k&&O[V]===0;)V++;for(var H=c.repeat(P);V<k;++V)H+=e.charAt(O[V]);return H}function b(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;for(var P=0,T=0,I=0;w[P]===c;)T++,P++;for(var M=(w.length-P)*d+1>>>0,k=new Uint8Array(M);w[P];){var O=t[w.charCodeAt(P)];if(O===255)return;for(var N=0,L=M-1;(O!==0||N<I)&&L!==-1;L--,N++)O+=o*k[L]>>>0,k[L]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");I=N,P++}for(var q=M-I;q!==M&&k[q]===0;)q++;for(var V=new Uint8Array(T+(M-q)),H=T;q!==M;)V[H++]=k[q++];return V}function E(w){var P=b(w);if(P)return P;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:b,decode:E}}T0.exports=Hm});var I0=R(zn=>{C();x();var Vm=zn&&zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zn,"__esModule",{value:!0});zn.decode=zn.encode=void 0;var da=Rr(),P0=Se(),A0=Vm(E0()),M0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function Dm(e,t="00"){let r=typeof e=="string"?(0,P0.hexToBytes)(e):e,n=typeof t=="string"?(0,P0.hexToBytes)(t):e;if(!(r instanceof Uint8Array)||!(n instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");let i=da.base.sha256(da.base.sha256(new Uint8Array([...n,...r])));return(0,A0.default)(M0).encode([...n,...r,...i.slice(0,4)])}zn.encode=Dm;function Km(e){let t=(0,A0.default)(M0).decode(e),r=t.slice(0,1),n=t.slice(1,-4),i=da.base.sha256(da.base.sha256(new Uint8Array([...r,...n])));return t.slice(-4).forEach((s,o)=>{if(s!==i[o])throw new Error("Invalid checksum")}),{prefix:r,data:n}}zn.decode=Km});var L0=R(He=>{C();x();var Um=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zm=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fm=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Um(t,e,r);return zm(t,e),t};Object.defineProperty(He,"__esModule",{value:!0});He.c32ToB58=He.b58ToC32=He.c32addressDecode=He.c32address=He.versions=void 0;var O0=pd(),k0=Fm(I0()),B0=Se();He.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};var Zi={};Zi[0]=He.versions.mainnet.p2pkh;Zi[5]=He.versions.mainnet.p2sh;Zi[111]=He.versions.testnet.p2pkh;Zi[196]=He.versions.testnet.p2sh;var Ji={};Ji[He.versions.mainnet.p2pkh]=0;Ji[He.versions.mainnet.p2sh]=5;Ji[He.versions.testnet.p2pkh]=111;Ji[He.versions.testnet.p2sh]=196;function R0(e,t){if(!t.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,O0.c32checkEncode)(e,t)}`}He.c32address=R0;function N0(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,O0.c32checkDecode)(e.slice(1))}He.c32addressDecode=N0;function jm(e,t=-1){let r=k0.decode(e),n=(0,B0.bytesToHex)(r.data),i=parseInt((0,B0.bytesToHex)(r.prefix),16),s;return t<0?(s=i,Zi[i]!==void 0&&(s=Zi[i])):s=t,R0(s,n)}He.b58ToC32=jm;function $m(e,t=-1){let r=N0(e),n=r[0],i=r[1],s;t<0?(s=n,Ji[n]!==void 0&&(s=Ji[n])):s=t;let o=s.toString(16);return o.length===1&&(o=`0${o}`),k0.encode(i,o)}He.c32ToB58=$m});var Qi=R(tt=>{C();x();Object.defineProperty(tt,"__esModule",{value:!0});tt.b58ToC32=tt.c32ToB58=tt.versions=tt.c32normalize=tt.c32addressDecode=tt.c32address=tt.c32checkDecode=tt.c32checkEncode=tt.c32decode=tt.c32encode=void 0;var yd=bd();Object.defineProperty(tt,"c32encode",{enumerable:!0,get:function(){return yd.c32encode}});Object.defineProperty(tt,"c32decode",{enumerable:!0,get:function(){return yd.c32decode}});Object.defineProperty(tt,"c32normalize",{enumerable:!0,get:function(){return yd.c32normalize}});var q0=pd();Object.defineProperty(tt,"c32checkEncode",{enumerable:!0,get:function(){return q0.c32checkEncode}});Object.defineProperty(tt,"c32checkDecode",{enumerable:!0,get:function(){return q0.c32checkDecode}});var yo=L0();Object.defineProperty(tt,"c32address",{enumerable:!0,get:function(){return yo.c32address}});Object.defineProperty(tt,"c32addressDecode",{enumerable:!0,get:function(){return yo.c32addressDecode}});Object.defineProperty(tt,"c32ToB58",{enumerable:!0,get:function(){return yo.c32ToB58}});Object.defineProperty(tt,"b58ToC32",{enumerable:!0,get:function(){return yo.b58ToC32}});Object.defineProperty(tt,"versions",{enumerable:!0,get:function(){return yo.versions}})});var Th=R((go,es)=>{C();x();var Gm=200,X0="__lodash_hash_undefined__",Y0=9007199254740991,xd="[object Arguments]",Wm="[object Array]",Z0="[object Boolean]",J0="[object Date]",Xm="[object Error]",Td="[object Function]",Q0="[object GeneratorFunction]",ua="[object Map]",eh="[object Number]",Ed="[object Object]",H0="[object Promise]",th="[object RegExp]",la="[object Set]",rh="[object String]",nh="[object Symbol]",md="[object WeakMap]",ih="[object ArrayBuffer]",ha="[object DataView]",sh="[object Float32Array]",oh="[object Float64Array]",ah="[object Int8Array]",ch="[object Int16Array]",fh="[object Int32Array]",dh="[object Uint8Array]",uh="[object Uint8ClampedArray]",lh="[object Uint16Array]",hh="[object Uint32Array]",Ym=/[\\^$.*+?()[\]{}|]/g,Zm=/\w*$/,Jm=/^\[object .+?Constructor\]$/,Qm=/^(?:0|[1-9]\d*)$/,Ve={};Ve[xd]=Ve[Wm]=Ve[ih]=Ve[ha]=Ve[Z0]=Ve[J0]=Ve[sh]=Ve[oh]=Ve[ah]=Ve[ch]=Ve[fh]=Ve[ua]=Ve[eh]=Ve[Ed]=Ve[th]=Ve[la]=Ve[rh]=Ve[nh]=Ve[dh]=Ve[uh]=Ve[lh]=Ve[hh]=!0;Ve[Xm]=Ve[Td]=Ve[md]=!1;var e3=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,t3=typeof self=="object"&&self&&self.Object===Object&&self,wn=e3||t3||Function("return this")(),bh=typeof go=="object"&&go&&!go.nodeType&&go,V0=bh&&typeof es=="object"&&es&&!es.nodeType&&es,r3=V0&&V0.exports===bh;function n3(e,t){return e.set(t[0],t[1]),e}function i3(e,t){return e.add(t),e}function s3(e,t){for(var r=-1,n=e?e.length:0;++r<n&&t(e[r],r,e)!==!1;);return e}function o3(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function ph(e,t,r,n){var i=-1,s=e?e.length:0;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function a3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function c3(e,t){return e?.[t]}function yh(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function D0(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function Pd(e,t){return function(r){return e(t(r))}}function K0(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var f3=Array.prototype,d3=Function.prototype,ba=Object.prototype,gd=wn["__core-js_shared__"],U0=function(){var e=/[^.]+$/.exec(gd&&gd.keys&&gd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gh=d3.toString,Fn=ba.hasOwnProperty,pa=ba.toString,u3=RegExp("^"+gh.call(Fn).replace(Ym,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z0=r3?wn.Buffer:void 0,F0=wn.Symbol,j0=wn.Uint8Array,l3=Pd(Object.getPrototypeOf,Object),h3=Object.create,b3=ba.propertyIsEnumerable,p3=f3.splice,$0=Object.getOwnPropertySymbols,y3=z0?z0.isBuffer:void 0,g3=Pd(Object.keys,Object),vd=ns(wn,"DataView"),mo=ns(wn,"Map"),_d=ns(wn,"Promise"),Sd=ns(wn,"Set"),wd=ns(wn,"WeakMap"),vo=ns(Object,"create"),m3=Mi(vd),v3=Mi(mo),_3=Mi(_d),S3=Mi(Sd),w3=Mi(wd),G0=F0?F0.prototype:void 0,W0=G0?G0.valueOf:void 0;function Ai(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function C3(){this.__data__=vo?vo(null):{}}function x3(e){return this.has(e)&&delete this.__data__[e]}function T3(e){var t=this.__data__;if(vo){var r=t[e];return r===X0?void 0:r}return Fn.call(t,e)?t[e]:void 0}function E3(e){var t=this.__data__;return vo?t[e]!==void 0:Fn.call(t,e)}function P3(e,t){var r=this.__data__;return r[e]=vo&&t===void 0?X0:t,this}Ai.prototype.clear=C3;Ai.prototype.delete=x3;Ai.prototype.get=T3;Ai.prototype.has=E3;Ai.prototype.set=P3;function Cn(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A3(){this.__data__=[]}function M3(e){var t=this.__data__,r=ya(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():p3.call(t,r,1),!0}function I3(e){var t=this.__data__,r=ya(t,e);return r<0?void 0:t[r][1]}function B3(e){return ya(this.__data__,e)>-1}function O3(e,t){var r=this.__data__,n=ya(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}Cn.prototype.clear=A3;Cn.prototype.delete=M3;Cn.prototype.get=I3;Cn.prototype.has=B3;Cn.prototype.set=O3;function ts(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k3(){this.__data__={hash:new Ai,map:new(mo||Cn),string:new Ai}}function R3(e){return ga(this,e).delete(e)}function N3(e){return ga(this,e).get(e)}function L3(e){return ga(this,e).has(e)}function q3(e,t){return ga(this,e).set(e,t),this}ts.prototype.clear=k3;ts.prototype.delete=R3;ts.prototype.get=N3;ts.prototype.has=L3;ts.prototype.set=q3;function rs(e){this.__data__=new Cn(e)}function H3(){this.__data__=new Cn}function V3(e){return this.__data__.delete(e)}function D3(e){return this.__data__.get(e)}function K3(e){return this.__data__.has(e)}function U3(e,t){var r=this.__data__;if(r instanceof Cn){var n=r.__data__;if(!mo||n.length<Gm-1)return n.push([e,t]),this;r=this.__data__=new ts(n)}return r.set(e,t),this}rs.prototype.clear=H3;rs.prototype.delete=V3;rs.prototype.get=D3;rs.prototype.has=K3;rs.prototype.set=U3;function z3(e,t){var r=Md(e)||h6(e)?a3(e.length,String):[],n=r.length,i=!!n;for(var s in e)(t||Fn.call(e,s))&&!(i&&(s=="length"||f6(s,n)))&&r.push(s);return r}function mh(e,t,r){var n=e[t];(!(Fn.call(e,t)&&wh(n,r))||r===void 0&&!(t in e))&&(e[t]=r)}function ya(e,t){for(var r=e.length;r--;)if(wh(e[r][0],t))return r;return-1}function F3(e,t){return e&&vh(t,Id(t),e)}function Cd(e,t,r,n,i,s,o){var c;if(n&&(c=s?n(e,i,s,o):n(e)),c!==void 0)return c;if(!ma(e))return e;var d=Md(e);if(d){if(c=o6(e),!t)return n6(e,c)}else{var l=Pi(e),p=l==Td||l==Q0;if(p6(e))return Y3(e,t);if(l==Ed||l==xd||p&&!s){if(yh(e))return s?e:{};if(c=a6(p?{}:e),!t)return i6(e,F3(c,e))}else{if(!Ve[l])return s?e:{};c=c6(e,l,Cd,t)}}o||(o=new rs);var b=o.get(e);if(b)return b;if(o.set(e,c),!d)var E=r?s6(e):Id(e);return s3(E||e,function(w,P){E&&(P=w,w=e[P]),mh(c,P,Cd(w,t,r,n,P,e,o))}),c}function j3(e){return ma(e)?h3(e):{}}function $3(e,t,r){var n=t(e);return Md(e)?n:o3(n,r(e))}function G3(e){return pa.call(e)}function W3(e){if(!ma(e)||u6(e))return!1;var t=xh(e)||yh(e)?u3:Jm;return t.test(Mi(e))}function X3(e){if(!Sh(e))return g3(e);var t=[];for(var r in Object(e))Fn.call(e,r)&&r!="constructor"&&t.push(r);return t}function Y3(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function Ad(e){var t=new e.constructor(e.byteLength);return new j0(t).set(new j0(e)),t}function Z3(e,t){var r=t?Ad(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function J3(e,t,r){var n=t?r(D0(e),!0):D0(e);return ph(n,n3,new e.constructor)}function Q3(e){var t=new e.constructor(e.source,Zm.exec(e));return t.lastIndex=e.lastIndex,t}function e6(e,t,r){var n=t?r(K0(e),!0):K0(e);return ph(n,i3,new e.constructor)}function t6(e){return W0?Object(W0.call(e)):{}}function r6(e,t){var r=t?Ad(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function n6(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function vh(e,t,r,n){r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],c=n?n(r[o],e[o],o,r,e):void 0;mh(r,o,c===void 0?e[o]:c)}return r}function i6(e,t){return vh(e,_h(e),t)}function s6(e){return $3(e,Id,_h)}function ga(e,t){var r=e.__data__;return d6(t)?r[typeof t=="string"?"string":"hash"]:r.map}function ns(e,t){var r=c3(e,t);return W3(r)?r:void 0}var _h=$0?Pd($0,Object):m6,Pi=G3;(vd&&Pi(new vd(new ArrayBuffer(1)))!=ha||mo&&Pi(new mo)!=ua||_d&&Pi(_d.resolve())!=H0||Sd&&Pi(new Sd)!=la||wd&&Pi(new wd)!=md)&&(Pi=function(e){var t=pa.call(e),r=t==Ed?e.constructor:void 0,n=r?Mi(r):void 0;if(n)switch(n){case m3:return ha;case v3:return ua;case _3:return H0;case S3:return la;case w3:return md}return t});function o6(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&Fn.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function a6(e){return typeof e.constructor=="function"&&!Sh(e)?j3(l3(e)):{}}function c6(e,t,r,n){var i=e.constructor;switch(t){case ih:return Ad(e);case Z0:case J0:return new i(+e);case ha:return Z3(e,n);case sh:case oh:case ah:case ch:case fh:case dh:case uh:case lh:case hh:return r6(e,n);case ua:return J3(e,n,r);case eh:case rh:return new i(e);case th:return Q3(e);case la:return e6(e,n,r);case nh:return t6(e)}}function f6(e,t){return t=t??Y0,!!t&&(typeof e=="number"||Qm.test(e))&&e>-1&&e%1==0&&e<t}function d6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function u6(e){return!!U0&&U0 in e}function Sh(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ba;return e===r}function Mi(e){if(e!=null){try{return gh.call(e)}catch{}try{return e+""}catch{}}return""}function l6(e){return Cd(e,!0,!0)}function wh(e,t){return e===t||e!==e&&t!==t}function h6(e){return b6(e)&&Fn.call(e,"callee")&&(!b3.call(e,"callee")||pa.call(e)==xd)}var Md=Array.isArray;function Ch(e){return e!=null&&y6(e.length)&&!xh(e)}function b6(e){return g6(e)&&Ch(e)}var p6=y3||v6;function xh(e){var t=ma(e)?pa.call(e):"";return t==Td||t==Q0}function y6(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Y0}function ma(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function g6(e){return!!e&&typeof e=="object"}function Id(e){return Ch(e)?z3(e):X3(e)}function m6(){return[]}function v6(){return!1}es.exports=l6});var is=R(an=>{C();x();Object.defineProperty(an,"__esModule",{value:!0});an.addressToString=an.addressFromVersionHash=an.addressHashModeToVersion=an.createMessageSignature=void 0;var yr=sr(),_6=Qi(),S6=Se();function w6(e){if((0,S6.hexToBytes)(e).byteLength!=yr.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)throw Error("Invalid signature");return{type:yr.StacksMessageType.MessageSignature,data:e}}an.createMessageSignature=w6;function C6(e,t){switch(e){case yr.AddressHashMode.SerializeP2PKH:switch(t){case yr.TransactionVersion.Mainnet:return yr.AddressVersion.MainnetSingleSig;case yr.TransactionVersion.Testnet:return yr.AddressVersion.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}case yr.AddressHashMode.SerializeP2SH:case yr.AddressHashMode.SerializeP2WPKH:case yr.AddressHashMode.SerializeP2WSH:switch(t){case yr.TransactionVersion.Mainnet:return yr.AddressVersion.MainnetMultiSig;case yr.TransactionVersion.Testnet:return yr.AddressVersion.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(e)}`)}}an.addressHashModeToVersion=C6;function x6(e,t){return{type:yr.StacksMessageType.Address,version:e,hash160:t}}an.addressFromVersionHash=x6;function T6(e){return(0,_6.c32address)(e.version,e.hash160)}an.addressToString=T6});var xn=R(ar=>{C();x();Object.defineProperty(ar,"__esModule",{value:!0});ar.createStandardPrincipal=ar.createContractPrincipal=ar.parsePrincipalString=ar.createAddress=ar.createAssetInfo=ar.createLPString=ar.parseAssetInfoString=void 0;var jn=sr(),E6=Qi(),P6=Ur();function A6(e){let[t,r,n]=e.split(/\.|::/);return Eh(t,r,n)}ar.parseAssetInfoString=A6;function va(e,t,r){let n=t||1,i=r||jn.MAX_STRING_LENGTH_BYTES;if((0,P6.exceedsMaxLengthBytes)(e,i))throw new Error(`String length exceeds maximum bytes ${i}`);return{type:jn.StacksMessageType.LengthPrefixedString,content:e,lengthPrefixBytes:n,maxLengthBytes:i}}ar.createLPString=va;function Eh(e,t,r){return{type:jn.StacksMessageType.AssetInfo,address:_a(e),contractName:va(t),assetName:va(r)}}ar.createAssetInfo=Eh;function _a(e){let t=(0,E6.c32addressDecode)(e);return{type:jn.StacksMessageType.Address,version:t[0],hash160:t[1]}}ar.createAddress=_a;function M6(e){if(e.includes(".")){let[t,r]=e.split(".");return Ph(t,r)}else return Ah(e)}ar.parsePrincipalString=M6;function Ph(e,t){let r=_a(e),n=va(t);return{type:jn.StacksMessageType.Principal,prefix:jn.PostConditionPrincipalID.Contract,address:r,contractName:n}}ar.createContractPrincipal=Ph;function Ah(e){let t=_a(e);return{type:jn.StacksMessageType.Principal,prefix:jn.PostConditionPrincipalID.Standard,address:t}}ar.createStandardPrincipal=Ah});var Nr=R(_o=>{C();x();Object.defineProperty(_o,"__esModule",{value:!0});_o.ClarityType=void 0;var I6;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(I6=_o.ClarityType||(_o.ClarityType={}))});var wa=R(cr=>{C();x();Object.defineProperty(cr,"__esModule",{value:!0});cr.contractPrincipalCVFromStandard=cr.contractPrincipalCVFromAddress=cr.contractPrincipalCV=cr.standardPrincipalCVFromAddress=cr.standardPrincipalCV=cr.principalToString=cr.principalCV=void 0;var B6=Se(),Mh=is(),Sa=xn(),ss=Nr();function O6(e){if(e.type===ss.ClarityType.PrincipalStandard)return(0,Mh.addressToString)(e.address);if(e.type===ss.ClarityType.PrincipalContract)return`${(0,Mh.addressToString)(e.address)}.${e.contractName.content}`;throw new Error(`Unexpected principal data: ${JSON.stringify(e)}`)}cr.principalToString=O6;function k6(e){if(e.includes(".")){let[t,r]=e.split(".");return Bh(t,r)}else return Ih(e)}cr.principalCV=k6;function Ih(e){let t=(0,Sa.createAddress)(e);return{type:ss.ClarityType.PrincipalStandard,address:t}}cr.standardPrincipalCV=Ih;function R6(e){return{type:ss.ClarityType.PrincipalStandard,address:e}}cr.standardPrincipalCVFromAddress=R6;function Bh(e,t){let r=(0,Sa.createAddress)(e),n=(0,Sa.createLPString)(t);return Oh(r,n)}cr.contractPrincipalCV=Bh;function Oh(e,t){if((0,B6.utf8ToBytes)(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:ss.ClarityType.PrincipalContract,address:e,contractName:t}}cr.contractPrincipalCVFromAddress=Oh;function N6(e,t){let r=(0,Sa.createLPString)(t);return{type:ss.ClarityType.PrincipalContract,address:e.address,contractName:r}}cr.contractPrincipalCVFromStandard=N6});var Rh=R(cn=>{C();x();Object.defineProperty(cn,"__esModule",{value:!0});cn.getCVTypeString=cn.cvToJSON=cn.cvToValue=cn.cvToString=void 0;var kh=wa(),ne=Nr(),So=Se();function os(e,t="hex"){switch(e.type){case ne.ClarityType.BoolTrue:return"true";case ne.ClarityType.BoolFalse:return"false";case ne.ClarityType.Int:return e.value.toString();case ne.ClarityType.UInt:return`u${e.value.toString()}`;case ne.ClarityType.Buffer:if(t==="tryAscii"){let r=(0,So.bytesToAscii)(e.buffer);if(/[ -~]/.test(r))return JSON.stringify(r)}return`0x${(0,So.bytesToHex)(e.buffer)}`;case ne.ClarityType.OptionalNone:return"none";case ne.ClarityType.OptionalSome:return`(some ${os(e.value,t)})`;case ne.ClarityType.ResponseErr:return`(err ${os(e.value,t)})`;case ne.ClarityType.ResponseOk:return`(ok ${os(e.value,t)})`;case ne.ClarityType.PrincipalStandard:case ne.ClarityType.PrincipalContract:return(0,kh.principalToString)(e);case ne.ClarityType.List:return`(list ${e.list.map(r=>os(r,t)).join(" ")})`;case ne.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(r=>`(${r} ${os(e.data[r],t)})`).join(" ")})`;case ne.ClarityType.StringASCII:return`"${e.data}"`;case ne.ClarityType.StringUTF8:return`u"${e.data}"`}}cn.cvToString=os;function Ca(e,t=!1){switch(e.type){case ne.ClarityType.BoolTrue:return!0;case ne.ClarityType.BoolFalse:return!1;case ne.ClarityType.Int:case ne.ClarityType.UInt:return t?e.value.toString():e.value;case ne.ClarityType.Buffer:return`0x${(0,So.bytesToHex)(e.buffer)}`;case ne.ClarityType.OptionalNone:return null;case ne.ClarityType.OptionalSome:return as(e.value);case ne.ClarityType.ResponseErr:return as(e.value);case ne.ClarityType.ResponseOk:return as(e.value);case ne.ClarityType.PrincipalStandard:case ne.ClarityType.PrincipalContract:return(0,kh.principalToString)(e);case ne.ClarityType.List:return e.list.map(n=>as(n));case ne.ClarityType.Tuple:let r={};return Object.keys(e.data).forEach(n=>{r[n]=as(e.data[n])}),r;case ne.ClarityType.StringASCII:return e.data;case ne.ClarityType.StringUTF8:return e.data}}cn.cvToValue=Ca;function as(e){switch(e.type){case ne.ClarityType.ResponseErr:return{type:Tn(e),value:Ca(e,!0),success:!1};case ne.ClarityType.ResponseOk:return{type:Tn(e),value:Ca(e,!0),success:!0};default:return{type:Tn(e),value:Ca(e,!0)}}}cn.cvToJSON=as;function Tn(e){switch(e.type){case ne.ClarityType.BoolTrue:case ne.ClarityType.BoolFalse:return"bool";case ne.ClarityType.Int:return"int";case ne.ClarityType.UInt:return"uint";case ne.ClarityType.Buffer:return`(buff ${e.buffer.length})`;case ne.ClarityType.OptionalNone:return"(optional none)";case ne.ClarityType.OptionalSome:return`(optional ${Tn(e.value)})`;case ne.ClarityType.ResponseErr:return`(response UnknownType ${Tn(e.value)})`;case ne.ClarityType.ResponseOk:return`(response ${Tn(e.value)} UnknownType)`;case ne.ClarityType.PrincipalStandard:case ne.ClarityType.PrincipalContract:return"principal";case ne.ClarityType.List:return`(list ${e.list.length} ${e.list.length?Tn(e.list[0]):"UnknownType"})`;case ne.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(t=>`(${t} ${Tn(e.data[t])})`).join(" ")})`;case ne.ClarityType.StringASCII:return`(string-ascii ${(0,So.asciiToBytes)(e.data).length})`;case ne.ClarityType.StringUTF8:return`(string-utf8 ${(0,So.utf8ToBytes)(e.data).length})`}}cn.getCVTypeString=Tn});var Hh=R($n=>{C();x();Object.defineProperty($n,"__esModule",{value:!0});$n.falseCV=$n.trueCV=$n.boolCV=void 0;var Nh=Nr(),Lh=()=>({type:Nh.ClarityType.BoolTrue});$n.trueCV=Lh;var qh=()=>({type:Nh.ClarityType.BoolFalse});$n.falseCV=qh;var L6=e=>e?Lh():qh();$n.boolCV=L6});var Fh=R(cs=>{C();x();Object.defineProperty(cs,"__esModule",{value:!0});cs.uintCV=cs.intCV=void 0;var Uh=Se(),zh=Nr(),Vh=BigInt("0xffffffffffffffffffffffffffffffff"),q6=BigInt(0),Dh=BigInt("0x7fffffffffffffffffffffffffffffff"),Kh=BigInt("-170141183460469231731687303715884105728"),H6=e=>{let t=(0,Uh.intToBigInt)(e,!0);if(t>Dh)throw new RangeError(`Cannot construct clarity integer from value greater than ${Dh}`);if(t<Kh)throw new RangeError(`Cannot construct clarity integer form value less than ${Kh}`);return{type:zh.ClarityType.Int,value:t}};cs.intCV=H6;var V6=e=>{let t=(0,Uh.intToBigInt)(e,!1);if(t<q6)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>Vh)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${Vh}`);return{type:zh.ClarityType.UInt,value:t}};cs.uintCV=V6});var $h=R(fs=>{C();x();Object.defineProperty(fs,"__esModule",{value:!0});fs.bufferCVFromString=fs.bufferCV=void 0;var D6=Se(),K6=Nr(),jh=e=>{if(e.length>1e6)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:K6.ClarityType.Buffer,buffer:e}};fs.bufferCV=jh;var U6=e=>jh((0,D6.utf8ToBytes)(e));fs.bufferCVFromString=U6});var Yh=R(Gn=>{C();x();Object.defineProperty(Gn,"__esModule",{value:!0});Gn.optionalCVOf=Gn.someCV=Gn.noneCV=void 0;var Gh=Nr();function Wh(){return{type:Gh.ClarityType.OptionalNone}}Gn.noneCV=Wh;function Xh(e){return{type:Gh.ClarityType.OptionalSome,value:e}}Gn.someCV=Xh;function z6(e){return e?Xh(e):Wh()}Gn.optionalCVOf=z6});var Jh=R(ds=>{C();x();Object.defineProperty(ds,"__esModule",{value:!0});ds.responseOkCV=ds.responseErrorCV=void 0;var Zh=Nr();function F6(e){return{type:Zh.ClarityType.ResponseErr,value:e}}ds.responseErrorCV=F6;function j6(e){return{type:Zh.ClarityType.ResponseOk,value:e}}ds.responseOkCV=j6});var Qh=R(xa=>{C();x();Object.defineProperty(xa,"__esModule",{value:!0});xa.listCV=void 0;var $6=Nr();function G6(e){return{type:$6.ClarityType.List,list:e}}xa.listCV=G6});var eb=R(Ta=>{C();x();Object.defineProperty(Ta,"__esModule",{value:!0});Ta.tupleCV=void 0;var W6=Nr(),X6=Ur();function Y6(e){for(let t in e)if(!(0,X6.isClarityName)(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:W6.ClarityType.Tuple,data:e}}Ta.tupleCV=Y6});var Ea=R(Wn=>{C();x();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.stringCV=Wn.stringUtf8CV=Wn.stringAsciiCV=void 0;var tb=Nr(),rb=e=>({type:tb.ClarityType.StringASCII,data:e});Wn.stringAsciiCV=rb;var nb=e=>({type:tb.ClarityType.StringUTF8,data:e});Wn.stringUtf8CV=nb;var Z6=(e,t)=>{switch(t){case"ascii":return rb(e);case"utf8":return nb(e)}};Wn.stringCV=Z6});var ib=R(Xn=>{C();x();Object.defineProperty(Xn,"__esModule",{value:!0});Xn.base58=Xn.fromBase58=Xn.toBase58=void 0;var Bd=Af();Object.defineProperty(Xn,"base58",{enumerable:!0,get:function(){return Bd.base58}});function J6(e){let t=B.Buffer.from(e);return Bd.base58.encode(Uint8Array.from(t))}Xn.toBase58=J6;function Q6(e){return Bd.base58.decode(e)}Xn.fromBase58=Q6});var sb=R(us=>{C();x();Object.defineProperty(us,"__esModule",{value:!0});us.validateHexString=us.isHexString=void 0;function ev(e,t){return e.match(/^0x[0-9A-Fa-f]*$/)?!(t&&e.length!==2+2*t):!1}us.isHexString=ev;function tv(e){if(!e)return!1;let t=e.toLowerCase().startsWith("0x")?e.substring(2).toLowerCase():e.toLowerCase();return!(t.length===0||t.length%2!==0||!t.match(/^[0-9A-Fa-f]*$/))}us.validateHexString=tv});var ob=R(fn=>{C();x();Object.defineProperty(fn,"__esModule",{value:!0});fn.isHexPrefixed=fn.stripHexPrefix=fn.fromHex=fn.toHex=void 0;var rv=sb();function nv(e,t=!1){let r=B.Buffer.from(e);return t?"0x"+r.toString("hex"):r.toString("hex")}fn.toHex=nv;function iv(e){if((e.startsWith("0x")||e.startsWith("0X"))&&(e=e.substring(2)),e.length%2!=0&&(e="0"+e),!(0,rv.validateHexString)(e))throw new Error("invalid hex string");return B.Buffer.from(e,"hex")}fn.fromHex=iv;function sv(e){return e.startsWith("0x")?e.substring(2):e}fn.stripHexPrefix=sv;function ov(e){return e.startsWith("0x")}fn.isHexPrefixed=ov});var En=R(Ii=>{C();x();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.anumber=Od;Ii.abytes=ab;Ii.ahash=cv;Ii.aexists=fv;Ii.aoutput=dv;function Od(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function av(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ab(e,...t){if(!av(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function cv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Od(e.outputLen),Od(e.blockLen)}function fv(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dv(e,t){ab(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var cb=R(Pa=>{C();x();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.crypto=void 0;Pa.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var tr=R(Me=>{C();x();Object.defineProperty(Me,"__esModule",{value:!0});Me.Hash=Me.nextTick=Me.byteSwapIfBE=Me.isLE=void 0;Me.isBytes=uv;Me.u8=lv;Me.u32=hv;Me.createView=bv;Me.rotr=pv;Me.rotl=yv;Me.byteSwap=Nd;Me.byteSwap32=gv;Me.bytesToHex=vv;Me.hexToBytes=_v;Me.asyncLoop=wv;Me.utf8ToBytes=ub;Me.toBytes=Aa;Me.concatBytes=Cv;Me.checkOpts=xv;Me.wrapConstructor=Tv;Me.wrapConstructorWithOpts=Ev;Me.wrapXOFConstructorWithOpts=Pv;Me.randomBytes=Av;var ls=cb(),Rd=En();function uv(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function lv(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function hv(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function bv(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pv(e,t){return e<<32-t|e>>>t}function yv(e,t){return e<<t|e>>>32-t>>>0}Me.isLE=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function Nd(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}Me.byteSwapIfBE=Me.isLE?e=>e:e=>Nd(e);function gv(e){for(let t=0;t<e.length;t++)e[t]=Nd(e[t])}var db=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",mv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vv(e){if((0,Rd.abytes)(e),db)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=mv[e[r]];return t}var Pn={_0:48,_9:57,A:65,F:70,a:97,f:102};function fb(e){if(e>=Pn._0&&e<=Pn._9)return e-Pn._0;if(e>=Pn.A&&e<=Pn.F)return e-(Pn.A-10);if(e>=Pn.a&&e<=Pn.f)return e-(Pn.a-10)}function _v(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(db)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let o=fb(e.charCodeAt(s)),c=fb(e.charCodeAt(s+1));if(o===void 0||c===void 0){let d=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}n[i]=o*16+c}return n}var Sv=async()=>{};Me.nextTick=Sv;async function wv(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let s=Date.now()-n;s>=0&&s<t||(await(0,Me.nextTick)(),n+=s)}}function ub(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Aa(e){return typeof e=="string"&&(e=ub(e)),(0,Rd.abytes)(e),e}function Cv(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,Rd.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}var kd=class{clone(){return this._cloneInto()}};Me.Hash=kd;function xv(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Tv(e){let t=n=>e().update(Aa(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Ev(e){let t=(n,i)=>e(i).update(Aa(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Pv(e){let t=(n,i)=>e(i).update(Aa(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Av(e=32){if(ls.crypto&&typeof ls.crypto.getRandomValues=="function")return ls.crypto.getRandomValues(new Uint8Array(e));if(ls.crypto&&typeof ls.crypto.randomBytes=="function")return Uint8Array.from(ls.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}});var Ma=R(Bi=>{C();x();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.HashMD=void 0;Bi.setBigUint64=lb;Bi.Chi=Mv;Bi.Maj=Iv;var Ld=En(),wo=tr();function lb(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),c=Number(r&s),d=n?4:0,l=n?0:4;e.setUint32(t+d,o,n),e.setUint32(t+l,c,n)}function Mv(e,t,r){return e&t^~e&r}function Iv(e,t,r){return e&t^e&r^t&r}var qd=class extends wo.Hash{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=(0,wo.createView)(this.buffer)}update(t){(0,Ld.aexists)(this);let{view:r,buffer:n,blockLen:i}=this;t=(0,wo.toBytes)(t);let s=t.length;for(let o=0;o<s;){let c=Math.min(i-this.pos,s-o);if(c===i){let d=(0,wo.createView)(t);for(;i<=s-o;o+=i)this.process(d,o);continue}n.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Ld.aexists)(this),(0,Ld.aoutput)(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let b=o;b<i;b++)r[b]=0;lb(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,wo.createView)(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=d/4,p=this.get();if(l>p.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<l;b++)c.setUint32(4*b,p[b],s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}};Bi.HashMD=qd});var hs=R(Jn=>{C();x();Object.defineProperty(Jn,"__esModule",{value:!0});Jn.sha224=Jn.sha256=Jn.SHA256=void 0;var Hd=Ma(),zr=tr(),Bv=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zn=new Uint32Array(64),Co=class extends Hd.HashMD{constructor(t=32){super(64,t,8,!1),this.A=Yn[0]|0,this.B=Yn[1]|0,this.C=Yn[2]|0,this.D=Yn[3]|0,this.E=Yn[4]|0,this.F=Yn[5]|0,this.G=Yn[6]|0,this.H=Yn[7]|0}get(){let{A:t,B:r,C:n,D:i,E:s,F:o,G:c,H:d}=this;return[t,r,n,i,s,o,c,d]}set(t,r,n,i,s,o,c,d){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=c|0,this.H=d|0}process(t,r){for(let b=0;b<16;b++,r+=4)Zn[b]=t.getUint32(r,!1);for(let b=16;b<64;b++){let E=Zn[b-15],w=Zn[b-2],P=(0,zr.rotr)(E,7)^(0,zr.rotr)(E,18)^E>>>3,T=(0,zr.rotr)(w,17)^(0,zr.rotr)(w,19)^w>>>10;Zn[b]=T+Zn[b-7]+P+Zn[b-16]|0}let{A:n,B:i,C:s,D:o,E:c,F:d,G:l,H:p}=this;for(let b=0;b<64;b++){let E=(0,zr.rotr)(c,6)^(0,zr.rotr)(c,11)^(0,zr.rotr)(c,25),w=p+E+(0,Hd.Chi)(c,d,l)+Bv[b]+Zn[b]|0,T=((0,zr.rotr)(n,2)^(0,zr.rotr)(n,13)^(0,zr.rotr)(n,22))+(0,Hd.Maj)(n,i,s)|0;p=l,l=d,d=c,c=o+w|0,o=s,s=i,i=n,n=w+T|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,c=c+this.E|0,d=d+this.F|0,l=l+this.G|0,p=p+this.H|0,this.set(n,i,s,o,c,d,l,p)}roundClean(){Zn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};Jn.SHA256=Co;var Vd=class extends Co{constructor(){super(28),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868}};Jn.sha256=(0,zr.wrapConstructor)(()=>new Co);Jn.sha224=(0,zr.wrapConstructor)(()=>new Vd)});var bs=R(oe=>{C();x();Object.defineProperty(oe,"__esModule",{value:!0});oe.add5L=oe.add5H=oe.add4H=oe.add4L=oe.add3H=oe.add3L=oe.rotlBL=oe.rotlBH=oe.rotlSL=oe.rotlSH=oe.rotr32L=oe.rotr32H=oe.rotrBL=oe.rotrBH=oe.rotrSL=oe.rotrSH=oe.shrSL=oe.shrSH=oe.toBig=void 0;oe.fromBig=Kd;oe.split=hb;oe.add=Pb;var Ia=BigInt(2**32-1),Dd=BigInt(32);function Kd(e,t=!1){return t?{h:Number(e&Ia),l:Number(e>>Dd&Ia)}:{h:Number(e>>Dd&Ia)|0,l:Number(e&Ia)|0}}function hb(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:o}=Kd(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}var bb=(e,t)=>BigInt(e>>>0)<<Dd|BigInt(t>>>0);oe.toBig=bb;var pb=(e,t,r)=>e>>>r;oe.shrSH=pb;var yb=(e,t,r)=>e<<32-r|t>>>r;oe.shrSL=yb;var gb=(e,t,r)=>e>>>r|t<<32-r;oe.rotrSH=gb;var mb=(e,t,r)=>e<<32-r|t>>>r;oe.rotrSL=mb;var vb=(e,t,r)=>e<<64-r|t>>>r-32;oe.rotrBH=vb;var _b=(e,t,r)=>e>>>r-32|t<<64-r;oe.rotrBL=_b;var Sb=(e,t)=>t;oe.rotr32H=Sb;var wb=(e,t)=>e;oe.rotr32L=wb;var Cb=(e,t,r)=>e<<r|t>>>32-r;oe.rotlSH=Cb;var xb=(e,t,r)=>t<<r|e>>>32-r;oe.rotlSL=xb;var Tb=(e,t,r)=>t<<r-32|e>>>64-r;oe.rotlBH=Tb;var Eb=(e,t,r)=>e<<r-32|t>>>64-r;oe.rotlBL=Eb;function Pb(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var Ab=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);oe.add3L=Ab;var Mb=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;oe.add3H=Mb;var Ib=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);oe.add4L=Ib;var Bb=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;oe.add4H=Bb;var Ob=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);oe.add5L=Ob;var kb=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;oe.add5H=kb;var Ov={fromBig:Kd,split:hb,toBig:bb,shrSH:pb,shrSL:yb,rotrSH:gb,rotrSL:mb,rotrBH:vb,rotrBL:_b,rotr32H:Sb,rotr32L:wb,rotlSH:Cb,rotlSL:xb,rotlBH:Tb,rotlBL:Eb,add:Pb,add3L:Ab,add3H:Mb,add4L:Ib,add4H:Bb,add5H:kb,add5L:Ob};oe.default=Ov});var xo=R(jt=>{C();x();Object.defineProperty(jt,"__esModule",{value:!0});jt.sha384=jt.sha512_256=jt.sha512_224=jt.sha512=jt.SHA384=jt.SHA512_256=jt.SHA512_224=jt.SHA512=void 0;var kv=Ma(),ue=bs(),Ra=tr(),[Rv,Nv]=(()=>ue.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Qn=new Uint32Array(80),ei=new Uint32Array(80),Oi=class extends kv.HashMD{constructor(t=64){super(128,t,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:c,Dl:d,Eh:l,El:p,Fh:b,Fl:E,Gh:w,Gl:P,Hh:T,Hl:I}=this;return[t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I]}set(t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=c|0,this.Dl=d|0,this.Eh=l|0,this.El=p|0,this.Fh=b|0,this.Fl=E|0,this.Gh=w|0,this.Gl=P|0,this.Hh=T|0,this.Hl=I|0}process(t,r){for(let O=0;O<16;O++,r+=4)Qn[O]=t.getUint32(r),ei[O]=t.getUint32(r+=4);for(let O=16;O<80;O++){let N=Qn[O-15]|0,L=ei[O-15]|0,q=ue.default.rotrSH(N,L,1)^ue.default.rotrSH(N,L,8)^ue.default.shrSH(N,L,7),V=ue.default.rotrSL(N,L,1)^ue.default.rotrSL(N,L,8)^ue.default.shrSL(N,L,7),H=Qn[O-2]|0,re=ei[O-2]|0,S=ue.default.rotrSH(H,re,19)^ue.default.rotrBH(H,re,61)^ue.default.shrSH(H,re,6),a=ue.default.rotrSL(H,re,19)^ue.default.rotrBL(H,re,61)^ue.default.shrSL(H,re,6),u=ue.default.add4L(V,a,ei[O-7],ei[O-16]),h=ue.default.add4H(u,q,S,Qn[O-7],Qn[O-16]);Qn[O]=h|0,ei[O]=u|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:c,Cl:d,Dh:l,Dl:p,Eh:b,El:E,Fh:w,Fl:P,Gh:T,Gl:I,Hh:M,Hl:k}=this;for(let O=0;O<80;O++){let N=ue.default.rotrSH(b,E,14)^ue.default.rotrSH(b,E,18)^ue.default.rotrBH(b,E,41),L=ue.default.rotrSL(b,E,14)^ue.default.rotrSL(b,E,18)^ue.default.rotrBL(b,E,41),q=b&w^~b&T,V=E&P^~E&I,H=ue.default.add5L(k,L,V,Nv[O],ei[O]),re=ue.default.add5H(H,M,N,q,Rv[O],Qn[O]),S=H|0,a=ue.default.rotrSH(n,i,28)^ue.default.rotrBH(n,i,34)^ue.default.rotrBH(n,i,39),u=ue.default.rotrSL(n,i,28)^ue.default.rotrBL(n,i,34)^ue.default.rotrBL(n,i,39),h=n&s^n&c^s&c,g=i&o^i&d^o&d;M=T|0,k=I|0,T=w|0,I=P|0,w=b|0,P=E|0,{h:b,l:E}=ue.default.add(l|0,p|0,re|0,S|0),l=c|0,p=d|0,c=s|0,d=o|0,s=n|0,o=i|0;let y=ue.default.add3L(S,u,g);n=ue.default.add3H(y,re,a,h),i=y|0}({h:n,l:i}=ue.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=ue.default.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:c,l:d}=ue.default.add(this.Ch|0,this.Cl|0,c|0,d|0),{h:l,l:p}=ue.default.add(this.Dh|0,this.Dl|0,l|0,p|0),{h:b,l:E}=ue.default.add(this.Eh|0,this.El|0,b|0,E|0),{h:w,l:P}=ue.default.add(this.Fh|0,this.Fl|0,w|0,P|0),{h:T,l:I}=ue.default.add(this.Gh|0,this.Gl|0,T|0,I|0),{h:M,l:k}=ue.default.add(this.Hh|0,this.Hl|0,M|0,k|0),this.set(n,i,s,o,c,d,l,p,b,E,w,P,T,I,M,k)}roundClean(){Qn.fill(0),ei.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};jt.SHA512=Oi;var Ba=class extends Oi{constructor(){super(28),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735}};jt.SHA512_224=Ba;var Oa=class extends Oi{constructor(){super(32),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414}};jt.SHA512_256=Oa;var ka=class extends Oi{constructor(){super(48),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868}};jt.SHA384=ka;jt.sha512=(0,Ra.wrapConstructor)(()=>new Oi);jt.sha512_224=(0,Ra.wrapConstructor)(()=>new Ba);jt.sha512_256=(0,Ra.wrapConstructor)(()=>new Oa);jt.sha384=(0,Ra.wrapConstructor)(()=>new ka)});var Fd=R(ps=>{C();x();Object.defineProperty(ps,"__esModule",{value:!0});ps.ripemd160=ps.RIPEMD160=void 0;var Lv=Ma(),To=tr(),qv=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Nb=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),Hv=Nb.map(e=>(9*e+5)%16),Ud=[Nb],zd=[Hv];for(let e=0;e<4;e++)for(let t of[Ud,zd])t.push(t[e].map(r=>qv[r]));var Lb=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Vv=Ud.map((e,t)=>e.map(r=>Lb[t][r])),Dv=zd.map((e,t)=>e.map(r=>Lb[t][r])),Kv=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Uv=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function Rb(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}var Na=new Uint32Array(16),La=class extends Lv.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:r,h2:n,h3:i,h4:s}=this;return[t,r,n,i,s]}set(t,r,n,i,s){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(t,r){for(let w=0;w<16;w++,r+=4)Na[w]=t.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,c=this.h2|0,d=c,l=this.h3|0,p=l,b=this.h4|0,E=b;for(let w=0;w<5;w++){let P=4-w,T=Kv[w],I=Uv[w],M=Ud[w],k=zd[w],O=Vv[w],N=Dv[w];for(let L=0;L<16;L++){let q=(0,To.rotl)(n+Rb(w,s,c,l)+Na[M[L]]+T,O[L])+b|0;n=b,b=l,l=(0,To.rotl)(c,10)|0,c=s,s=q}for(let L=0;L<16;L++){let q=(0,To.rotl)(i+Rb(P,o,d,p)+Na[k[L]]+I,N[L])+E|0;i=E,E=p,p=(0,To.rotl)(d,10)|0,d=o,o=q}}this.set(this.h1+c+p|0,this.h2+l+E|0,this.h3+b+i|0,this.h4+n+o|0,this.h0+s+d|0)}roundClean(){Na.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};ps.RIPEMD160=La;ps.ripemd160=(0,To.wrapConstructor)(()=>new La)});var qa=R(Fe=>{C();x();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.shake256=Fe.shake128=Fe.keccak_512=Fe.keccak_384=Fe.keccak_256=Fe.keccak_224=Fe.sha3_512=Fe.sha3_384=Fe.sha3_256=Fe.sha3_224=Fe.Keccak=void 0;Fe.keccakP=Ub;var ys=En(),Po=bs(),An=tr(),Vb=[],Db=[],Kb=[],zv=BigInt(0),Eo=BigInt(1),Fv=BigInt(2),jv=BigInt(7),$v=BigInt(256),Gv=BigInt(113);for(let e=0,t=Eo,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Vb.push(2*(5*n+r)),Db.push((e+1)*(e+2)/2%64);let i=zv;for(let s=0;s<7;s++)t=(t<<Eo^(t>>jv)*Gv)%$v,t&Fv&&(i^=Eo<<(Eo<<BigInt(s))-Eo);Kb.push(i)}var[Wv,Xv]=(0,Po.split)(Kb,!0),qb=(e,t,r)=>r>32?(0,Po.rotlBH)(e,t,r):(0,Po.rotlSH)(e,t,r),Hb=(e,t,r)=>r>32?(0,Po.rotlBL)(e,t,r):(0,Po.rotlSL)(e,t,r);function Ub(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){let c=(o+8)%10,d=(o+2)%10,l=r[d],p=r[d+1],b=qb(l,p,1)^r[c],E=Hb(l,p,1)^r[c+1];for(let w=0;w<50;w+=10)e[o+w]^=b,e[o+w+1]^=E}let i=e[2],s=e[3];for(let o=0;o<24;o++){let c=Db[o],d=qb(i,s,c),l=Hb(i,s,c),p=Vb[o];i=e[p],s=e[p+1],e[p]=d,e[p+1]=l}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)r[c]=e[o+c];for(let c=0;c<10;c++)e[o+c]^=~r[(c+2)%10]&r[(c+4)%10]}e[0]^=Wv[n],e[1]^=Xv[n]}r.fill(0)}var ki=class extends An.Hash{constructor(t,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,(0,ys.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,An.u32)(this.state)}keccak(){An.isLE||(0,An.byteSwap32)(this.state32),Ub(this.state32,this.rounds),An.isLE||(0,An.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,ys.aexists)(this);let{blockLen:r,state:n}=this;t=(0,An.toBytes)(t);let i=t.length;for(let s=0;s<i;){let o=Math.min(r-this.pos,i-s);for(let c=0;c<o;c++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,ys.aexists)(this,!1),(0,ys.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,ys.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,ys.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new ki(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};Fe.Keccak=ki;var ti=(e,t,r)=>(0,An.wrapConstructor)(()=>new ki(t,e,r));Fe.sha3_224=ti(6,144,224/8);Fe.sha3_256=ti(6,136,256/8);Fe.sha3_384=ti(6,104,384/8);Fe.sha3_512=ti(6,72,512/8);Fe.keccak_224=ti(1,144,224/8);Fe.keccak_256=ti(1,136,256/8);Fe.keccak_384=ti(1,104,384/8);Fe.keccak_512=ti(1,72,512/8);var zb=(e,t,r)=>(0,An.wrapXOFConstructorWithOpts)((n={})=>new ki(t,e,n.dkLen===void 0?r:n.dkLen,!0));Fe.shake128=zb(31,168,128/8);Fe.shake256=zb(31,136,256/8)});var Ha=R(ms=>{C();x();Object.defineProperty(ms,"__esModule",{value:!0});ms.BLAKE=ms.SIGMA=void 0;var gs=En(),rr=tr();ms.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);var jd=class extends rr.Hash{constructor(t,r,n={},i,s,o){if(super(),this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,gs.anumber)(t),(0,gs.anumber)(r),(0,gs.anumber)(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error("key length must be undefined or 1.."+i);if(n.salt!==void 0&&n.salt.length!==s)throw new Error("salt must be undefined or "+s);if(n.personalization!==void 0&&n.personalization.length!==o)throw new Error("personalization must be undefined or "+o);this.blockLen=t,this.outputLen=r,this.buffer=new Uint8Array(t),this.buffer32=(0,rr.u32)(this.buffer)}update(t){(0,gs.aexists)(this);let{blockLen:r,buffer:n,buffer32:i}=this;t=(0,rr.toBytes)(t);let s=t.length,o=t.byteOffset,c=t.buffer;for(let d=0;d<s;){this.pos===r&&(rr.isLE||(0,rr.byteSwap32)(i),this.compress(i,0,!1),rr.isLE||(0,rr.byteSwap32)(i),this.pos=0);let l=Math.min(r-this.pos,s-d),p=o+d;if(l===r&&!(p%4)&&d+l<s){let b=new Uint32Array(c,p,Math.floor((s-d)/4));rr.isLE||(0,rr.byteSwap32)(b);for(let E=0;d+r<s;E+=i.length,d+=r)this.length+=r,this.compress(b,E,!1);rr.isLE||(0,rr.byteSwap32)(b);continue}n.set(t.subarray(d,d+l),this.pos),this.pos+=l,this.length+=l,d+=l}return this}digestInto(t){(0,gs.aexists)(this),(0,gs.aoutput)(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),rr.isLE||(0,rr.byteSwap32)(n),this.compress(n,0,!0),rr.isLE||(0,rr.byteSwap32)(n);let i=(0,rr.u32)(t);this.get().forEach((s,o)=>i[o]=(0,rr.byteSwapIfBE)(s))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:c}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.length=n,t.finished=i,t.destroyed=s,t.outputLen=o,t.buffer.set(r),t.pos=c,t}};ms.BLAKE=jd});var $d=R(vs=>{C();x();Object.defineProperty(vs,"__esModule",{value:!0});vs.blake2b=vs.BLAKE2b=void 0;var Fb=Ha(),gr=bs(),Pr=tr(),Dt=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),z=new Uint32Array(32);function ri(e,t,r,n,i,s){let o=i[s],c=i[s+1],d=z[2*e],l=z[2*e+1],p=z[2*t],b=z[2*t+1],E=z[2*r],w=z[2*r+1],P=z[2*n],T=z[2*n+1],I=gr.default.add3L(d,p,o);l=gr.default.add3H(I,l,b,c),d=I|0,{Dh:T,Dl:P}={Dh:T^l,Dl:P^d},{Dh:T,Dl:P}={Dh:gr.default.rotr32H(T,P),Dl:gr.default.rotr32L(T,P)},{h:w,l:E}=gr.default.add(w,E,T,P),{Bh:b,Bl:p}={Bh:b^w,Bl:p^E},{Bh:b,Bl:p}={Bh:gr.default.rotrSH(b,p,24),Bl:gr.default.rotrSL(b,p,24)},z[2*e]=d,z[2*e+1]=l,z[2*t]=p,z[2*t+1]=b,z[2*r]=E,z[2*r+1]=w,z[2*n]=P,z[2*n+1]=T}function ni(e,t,r,n,i,s){let o=i[s],c=i[s+1],d=z[2*e],l=z[2*e+1],p=z[2*t],b=z[2*t+1],E=z[2*r],w=z[2*r+1],P=z[2*n],T=z[2*n+1],I=gr.default.add3L(d,p,o);l=gr.default.add3H(I,l,b,c),d=I|0,{Dh:T,Dl:P}={Dh:T^l,Dl:P^d},{Dh:T,Dl:P}={Dh:gr.default.rotrSH(T,P,16),Dl:gr.default.rotrSL(T,P,16)},{h:w,l:E}=gr.default.add(w,E,T,P),{Bh:b,Bl:p}={Bh:b^w,Bl:p^E},{Bh:b,Bl:p}={Bh:gr.default.rotrBH(b,p,63),Bl:gr.default.rotrBL(b,p,63)},z[2*e]=d,z[2*e+1]=l,z[2*t]=p,z[2*t+1]=b,z[2*r]=E,z[2*r+1]=w,z[2*n]=P,z[2*n+1]=T}var Va=class extends Fb.BLAKE{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=Dt[0]|0,this.v0h=Dt[1]|0,this.v1l=Dt[2]|0,this.v1h=Dt[3]|0,this.v2l=Dt[4]|0,this.v2h=Dt[5]|0,this.v3l=Dt[6]|0,this.v3h=Dt[7]|0,this.v4l=Dt[8]|0,this.v4h=Dt[9]|0,this.v5l=Dt[10]|0,this.v5h=Dt[11]|0,this.v6l=Dt[12]|0,this.v6h=Dt[13]|0,this.v7l=Dt[14]|0,this.v7h=Dt[15]|0;let r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|1<<16|1<<24,t.salt){let n=(0,Pr.u32)((0,Pr.toBytes)(t.salt));this.v4l^=(0,Pr.byteSwapIfBE)(n[0]),this.v4h^=(0,Pr.byteSwapIfBE)(n[1]),this.v5l^=(0,Pr.byteSwapIfBE)(n[2]),this.v5h^=(0,Pr.byteSwapIfBE)(n[3])}if(t.personalization){let n=(0,Pr.u32)((0,Pr.toBytes)(t.personalization));this.v6l^=(0,Pr.byteSwapIfBE)(n[0]),this.v6h^=(0,Pr.byteSwapIfBE)(n[1]),this.v7l^=(0,Pr.byteSwapIfBE)(n[2]),this.v7h^=(0,Pr.byteSwapIfBE)(n[3])}if(t.key){let n=new Uint8Array(this.blockLen);n.set((0,Pr.toBytes)(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:c,v3h:d,v4l:l,v4h:p,v5l:b,v5h:E,v6l:w,v6h:P,v7l:T,v7h:I}=this;return[t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I]}set(t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=c|0,this.v3h=d|0,this.v4l=l|0,this.v4h=p|0,this.v5l=b|0,this.v5h=E|0,this.v6l=w|0,this.v6h=P|0,this.v7l=T|0,this.v7h=I|0}compress(t,r,n){this.get().forEach((d,l)=>z[l]=d),z.set(Dt,16);let{h:i,l:s}=gr.default.fromBig(BigInt(this.length));z[24]=Dt[8]^s,z[25]=Dt[9]^i,n&&(z[28]=~z[28],z[29]=~z[29]);let o=0,c=Fb.SIGMA;for(let d=0;d<12;d++)ri(0,4,8,12,t,r+2*c[o++]),ni(0,4,8,12,t,r+2*c[o++]),ri(1,5,9,13,t,r+2*c[o++]),ni(1,5,9,13,t,r+2*c[o++]),ri(2,6,10,14,t,r+2*c[o++]),ni(2,6,10,14,t,r+2*c[o++]),ri(3,7,11,15,t,r+2*c[o++]),ni(3,7,11,15,t,r+2*c[o++]),ri(0,5,10,15,t,r+2*c[o++]),ni(0,5,10,15,t,r+2*c[o++]),ri(1,6,11,12,t,r+2*c[o++]),ni(1,6,11,12,t,r+2*c[o++]),ri(2,7,8,13,t,r+2*c[o++]),ni(2,7,8,13,t,r+2*c[o++]),ri(3,4,9,14,t,r+2*c[o++]),ni(3,4,9,14,t,r+2*c[o++]);this.v0l^=z[0]^z[16],this.v0h^=z[1]^z[17],this.v1l^=z[2]^z[18],this.v1h^=z[3]^z[19],this.v2l^=z[4]^z[20],this.v2h^=z[5]^z[21],this.v3l^=z[6]^z[22],this.v3h^=z[7]^z[23],this.v4l^=z[8]^z[24],this.v4h^=z[9]^z[25],this.v5l^=z[10]^z[26],this.v5h^=z[11]^z[27],this.v6l^=z[12]^z[28],this.v6h^=z[13]^z[29],this.v7l^=z[14]^z[30],this.v7h^=z[15]^z[31],z.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};vs.BLAKE2b=Va;vs.blake2b=(0,Pr.wrapConstructorWithOpts)(e=>new Va(e))});var Ka=R(je=>{C();x();Object.defineProperty(je,"__esModule",{value:!0});je.sha3_512=je.sha3_256=je.ripemd160=je.sha512=je.sha256=je.magicHash=je.blake2=je.keccak256=je.keccak=je.hash160=je.doubleSha256=void 0;var Da=hs();Object.defineProperty(je,"sha256",{enumerable:!0,get:function(){return Da.sha256}});var Yv=xo();Object.defineProperty(je,"sha512",{enumerable:!0,get:function(){return Yv.sha512}});var $b=Fd();Object.defineProperty(je,"ripemd160",{enumerable:!0,get:function(){return $b.ripemd160}});var _s=qa();Object.defineProperty(je,"sha3_256",{enumerable:!0,get:function(){return _s.sha3_256}});Object.defineProperty(je,"sha3_512",{enumerable:!0,get:function(){return _s.sha3_512}});var Zv=$d();function Gb(e){let t=(0,Da.sha256)(e);return(0,Da.sha256)(t)}je.doubleSha256=Gb;function Jv(e){let t=(0,Da.sha256)(e);return(0,$b.ripemd160)(t)}je.hash160=Jv;var Qv=function(e,t=256){let r=B.Buffer.from(e);switch(t){case 224:return B.Buffer.from((0,_s.keccak_224)(r));case 256:return B.Buffer.from((0,_s.keccak_256)(r));case 384:return B.Buffer.from((0,_s.keccak_384)(r));case 512:return B.Buffer.from((0,_s.keccak_512)(r));default:throw new Error(`Invald algorithm: keccak${t}`)}};je.keccak=Qv;var e8=function(e){return(0,je.keccak)(e)};je.keccak256=e8;function t8(e,t,r){let n=Math.ceil(t/8);return(0,Zv.blake2b)(e,{dkLen:n,key:r})}je.blake2=t8;function jb(e){let t;return e<253?(t=B.Buffer.alloc(1),t.writeUInt8(e,0)):e<65536?(t=B.Buffer.alloc(1+2),t.writeUInt8(253,0),t.writeUInt16LE(e,1)):e<4294967296?(t=B.Buffer.alloc(1+4),t.writeUInt8(254,0),t.writeUInt32LE(e,1)):(t=B.Buffer.alloc(1+8),t.writeUInt8(255,0),t.writeInt32LE(e&-1,1),t.writeUInt32LE(Math.floor(e/4294967296),5)),t}var r8=B.Buffer.from(`Bitcoin Signed Message:
`);function n8(e,t){let r=t?B.Buffer.from(t,"utf8"):r8,n=jb(r.length),i=B.Buffer.from(e),s=jb(i.length),o=B.Buffer.concat([n,r,s,i]);return Gb(o)}je.magicHash=n8});var Mo=R(Ri=>{C();x();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.hmac=Ri.HMAC=void 0;var Ua=En(),Wb=tr(),Ao=class extends Wb.Hash{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,(0,Ua.ahash)(t);let n=(0,Wb.toBytes)(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return(0,Ua.aexists)(this),this.iHash.update(t),this}digestInto(t){(0,Ua.aexists)(this),(0,Ua.abytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:c}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Ri.HMAC=Ao;var i8=(e,t,r)=>new Ao(e,t).update(r).digest();Ri.hmac=i8;Ri.hmac.create=(e,t)=>new Ao(e,t)});var Zb=R(Ss=>{C();x();Object.defineProperty(Ss,"__esModule",{value:!0});Ss.hmacSHA512=Ss.hmacSHA256=void 0;var Xb=Mo(),Yb=Ka();function s8(e,t){return B.Buffer.from((0,Xb.hmac)(Yb.sha256,e,t))}Ss.hmacSHA256=s8;function o8(e,t){return B.Buffer.from((0,Xb.hmac)(Yb.sha512,e,t))}Ss.hmacSHA512=o8});var Gd=R(Ne=>{C();x();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.blake2s=Ne.BLAKE2s=Ne.B2S_IV=void 0;Ne.G1s=Mn;Ne.G2s=In;Ne.compress=Qb;var Jb=Ha(),a8=bs(),Ar=tr();Ne.B2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);function Mn(e,t,r,n,i){return e=e+t+i|0,n=(0,Ar.rotr)(n^e,16),r=r+n|0,t=(0,Ar.rotr)(t^r,12),{a:e,b:t,c:r,d:n}}function In(e,t,r,n,i){return e=e+t+i|0,n=(0,Ar.rotr)(n^e,8),r=r+n|0,t=(0,Ar.rotr)(t^r,7),{a:e,b:t,c:r,d:n}}function Qb(e,t,r,n,i,s,o,c,d,l,p,b,E,w,P,T,I,M,k,O){let N=0;for(let L=0;L<n;L++)({a:i,b:d,c:E,d:I}=Mn(i,d,E,I,r[t+e[N++]])),{a:i,b:d,c:E,d:I}=In(i,d,E,I,r[t+e[N++]]),{a:s,b:l,c:w,d:M}=Mn(s,l,w,M,r[t+e[N++]]),{a:s,b:l,c:w,d:M}=In(s,l,w,M,r[t+e[N++]]),{a:o,b:p,c:P,d:k}=Mn(o,p,P,k,r[t+e[N++]]),{a:o,b:p,c:P,d:k}=In(o,p,P,k,r[t+e[N++]]),{a:c,b,c:T,d:O}=Mn(c,b,T,O,r[t+e[N++]]),{a:c,b,c:T,d:O}=In(c,b,T,O,r[t+e[N++]]),{a:i,b:l,c:P,d:O}=Mn(i,l,P,O,r[t+e[N++]]),{a:i,b:l,c:P,d:O}=In(i,l,P,O,r[t+e[N++]]),{a:s,b:p,c:T,d:I}=Mn(s,p,T,I,r[t+e[N++]]),{a:s,b:p,c:T,d:I}=In(s,p,T,I,r[t+e[N++]]),{a:o,b,c:E,d:M}=Mn(o,b,E,M,r[t+e[N++]]),{a:o,b,c:E,d:M}=In(o,b,E,M,r[t+e[N++]]),{a:c,b:d,c:w,d:k}=Mn(c,d,w,k,r[t+e[N++]]),{a:c,b:d,c:w,d:k}=In(c,d,w,k,r[t+e[N++]]);return{v0:i,v1:s,v2:o,v3:c,v4:d,v5:l,v6:p,v7:b,v8:E,v9:w,v10:P,v11:T,v12:I,v13:M,v14:k,v15:O}}var za=class extends Jb.BLAKE{constructor(t={}){super(64,t.dkLen===void 0?32:t.dkLen,t,32,8,8),this.v0=Ne.B2S_IV[0]|0,this.v1=Ne.B2S_IV[1]|0,this.v2=Ne.B2S_IV[2]|0,this.v3=Ne.B2S_IV[3]|0,this.v4=Ne.B2S_IV[4]|0,this.v5=Ne.B2S_IV[5]|0,this.v6=Ne.B2S_IV[6]|0,this.v7=Ne.B2S_IV[7]|0;let r=t.key?t.key.length:0;if(this.v0^=this.outputLen|r<<8|1<<16|1<<24,t.salt){let n=(0,Ar.u32)((0,Ar.toBytes)(t.salt));this.v4^=(0,Ar.byteSwapIfBE)(n[0]),this.v5^=(0,Ar.byteSwapIfBE)(n[1])}if(t.personalization){let n=(0,Ar.u32)((0,Ar.toBytes)(t.personalization));this.v6^=(0,Ar.byteSwapIfBE)(n[0]),this.v7^=(0,Ar.byteSwapIfBE)(n[1])}if(t.key){let n=new Uint8Array(this.blockLen);n.set((0,Ar.toBytes)(t.key)),this.update(n)}}get(){let{v0:t,v1:r,v2:n,v3:i,v4:s,v5:o,v6:c,v7:d}=this;return[t,r,n,i,s,o,c,d]}set(t,r,n,i,s,o,c,d){this.v0=t|0,this.v1=r|0,this.v2=n|0,this.v3=i|0,this.v4=s|0,this.v5=o|0,this.v6=c|0,this.v7=d|0}compress(t,r,n){let{h:i,l:s}=(0,a8.fromBig)(BigInt(this.length)),{v0:o,v1:c,v2:d,v3:l,v4:p,v5:b,v6:E,v7:w,v8:P,v9:T,v10:I,v11:M,v12:k,v13:O,v14:N,v15:L}=Qb(Jb.SIGMA,r,t,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,Ne.B2S_IV[0],Ne.B2S_IV[1],Ne.B2S_IV[2],Ne.B2S_IV[3],s^Ne.B2S_IV[4],i^Ne.B2S_IV[5],n?~Ne.B2S_IV[6]:Ne.B2S_IV[6],Ne.B2S_IV[7]);this.v0^=o^P,this.v1^=c^T,this.v2^=d^I,this.v3^=l^M,this.v4^=p^k,this.v5^=b^O,this.v6^=E^N,this.v7^=w^L}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}};Ne.BLAKE2s=za;Ne.blake2s=(0,Ar.wrapConstructorWithOpts)(e=>new za(e))});var $a=R(ja=>{C();x();Object.defineProperty(ja,"__esModule",{value:!0});ja.pbkdf2=f8;ja.pbkdf2Async=d8;var Fa=En(),c8=Mo(),ws=tr();function ep(e,t,r,n){(0,Fa.ahash)(e);let i=(0,ws.checkOpts)({dkLen:32,asyncTick:10},n),{c:s,dkLen:o,asyncTick:c}=i;if((0,Fa.anumber)(s),(0,Fa.anumber)(o),(0,Fa.anumber)(c),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let d=(0,ws.toBytes)(t),l=(0,ws.toBytes)(r),p=new Uint8Array(o),b=c8.hmac.create(e,d),E=b._cloneInto().update(l);return{c:s,dkLen:o,asyncTick:c,DK:p,PRF:b,PRFSalt:E}}function tp(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function f8(e,t,r,n){let{c:i,dkLen:s,DK:o,PRF:c,PRFSalt:d}=ep(e,t,r,n),l,p=new Uint8Array(4),b=(0,ws.createView)(p),E=new Uint8Array(c.outputLen);for(let w=1,P=0;P<s;w++,P+=c.outputLen){let T=o.subarray(P,P+c.outputLen);b.setInt32(0,w,!1),(l=d._cloneInto(l)).update(p).digestInto(E),T.set(E.subarray(0,T.length));for(let I=1;I<i;I++){c._cloneInto(l).update(E).digestInto(E);for(let M=0;M<T.length;M++)T[M]^=E[M]}}return tp(c,d,o,l,E)}async function d8(e,t,r,n){let{c:i,dkLen:s,asyncTick:o,DK:c,PRF:d,PRFSalt:l}=ep(e,t,r,n),p,b=new Uint8Array(4),E=(0,ws.createView)(b),w=new Uint8Array(d.outputLen);for(let P=1,T=0;T<s;P++,T+=d.outputLen){let I=c.subarray(T,T+d.outputLen);E.setInt32(0,P,!1),(p=l._cloneInto(p)).update(b).digestInto(w),I.set(w.subarray(0,I.length)),await(0,ws.asyncLoop)(i-1,o,()=>{d._cloneInto(p).update(w).digestInto(w);for(let M=0;M<I.length;M++)I[M]^=w[M]})}return tp(d,l,c,p,w)}});var ap=R(Ga=>{C();x();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.scrypt=u8;Ga.scryptAsync=l8;var Cs=En(),np=$a(),ip=hs(),ie=tr();function rp(e,t,r,n,i,s){let o=e[t++]^r[n++],c=e[t++]^r[n++],d=e[t++]^r[n++],l=e[t++]^r[n++],p=e[t++]^r[n++],b=e[t++]^r[n++],E=e[t++]^r[n++],w=e[t++]^r[n++],P=e[t++]^r[n++],T=e[t++]^r[n++],I=e[t++]^r[n++],M=e[t++]^r[n++],k=e[t++]^r[n++],O=e[t++]^r[n++],N=e[t++]^r[n++],L=e[t++]^r[n++],q=o,V=c,H=d,re=l,S=p,a=b,u=E,h=w,g=P,y=T,_=I,A=M,m=k,f=O,v=N,D=L;for(let K=0;K<8;K+=2)S^=(0,ie.rotl)(q+m|0,7),g^=(0,ie.rotl)(S+q|0,9),m^=(0,ie.rotl)(g+S|0,13),q^=(0,ie.rotl)(m+g|0,18),y^=(0,ie.rotl)(a+V|0,7),f^=(0,ie.rotl)(y+a|0,9),V^=(0,ie.rotl)(f+y|0,13),a^=(0,ie.rotl)(V+f|0,18),v^=(0,ie.rotl)(_+u|0,7),H^=(0,ie.rotl)(v+_|0,9),u^=(0,ie.rotl)(H+v|0,13),_^=(0,ie.rotl)(u+H|0,18),re^=(0,ie.rotl)(D+A|0,7),h^=(0,ie.rotl)(re+D|0,9),A^=(0,ie.rotl)(h+re|0,13),D^=(0,ie.rotl)(A+h|0,18),V^=(0,ie.rotl)(q+re|0,7),H^=(0,ie.rotl)(V+q|0,9),re^=(0,ie.rotl)(H+V|0,13),q^=(0,ie.rotl)(re+H|0,18),u^=(0,ie.rotl)(a+S|0,7),h^=(0,ie.rotl)(u+a|0,9),S^=(0,ie.rotl)(h+u|0,13),a^=(0,ie.rotl)(S+h|0,18),A^=(0,ie.rotl)(_+y|0,7),g^=(0,ie.rotl)(A+_|0,9),y^=(0,ie.rotl)(g+A|0,13),_^=(0,ie.rotl)(y+g|0,18),m^=(0,ie.rotl)(D+v|0,7),f^=(0,ie.rotl)(m+D|0,9),v^=(0,ie.rotl)(f+m|0,13),D^=(0,ie.rotl)(v+f|0,18);i[s++]=o+q|0,i[s++]=c+V|0,i[s++]=d+H|0,i[s++]=l+re|0,i[s++]=p+S|0,i[s++]=b+a|0,i[s++]=E+u|0,i[s++]=w+h|0,i[s++]=P+g|0,i[s++]=T+y|0,i[s++]=I+_|0,i[s++]=M+A|0,i[s++]=k+m|0,i[s++]=O+f|0,i[s++]=N+v|0,i[s++]=L+D|0}function xs(e,t,r,n,i){let s=n+0,o=n+16*i;for(let c=0;c<16;c++)r[o+c]=e[t+(2*i-1)*16+c];for(let c=0;c<i;c++,s+=16,t+=16)rp(r,o,e,t,r,s),c>0&&(o+=16),rp(r,s,e,t+=16,r,o)}function sp(e,t,r){let n=(0,ie.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:s,p:o,dkLen:c,asyncTick:d,maxmem:l,onProgress:p}=n;if((0,Cs.anumber)(i),(0,Cs.anumber)(s),(0,Cs.anumber)(o),(0,Cs.anumber)(c),(0,Cs.anumber)(d),(0,Cs.anumber)(l),p!==void 0&&typeof p!="function")throw new Error("progressCb should be function");let b=128*s,E=b/4;if(i<=1||(i&i-1)!==0||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, and less than 2^32");if(o<0||o>(2**32-1)*32/b)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");if(b*(i+o)>l)throw new Error("Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of "+l);let P=(0,np.pbkdf2)(ip.sha256,e,t,{c:1,dkLen:b*o}),T=(0,ie.u32)(P),I=(0,ie.u32)(new Uint8Array(b*i)),M=(0,ie.u32)(new Uint8Array(b)),k=()=>{};if(p){let O=2*i*o,N=Math.max(Math.floor(O/1e4),1),L=0;k=()=>{L++,p&&(!(L%N)||L===O)&&p(L/O)}}return{N:i,r:s,p:o,dkLen:c,blockSize32:E,V:I,B32:T,B:P,tmp:M,blockMixCb:k,asyncTick:d}}function op(e,t,r,n,i){let s=(0,np.pbkdf2)(ip.sha256,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),s}function u8(e,t,r){let{N:n,r:i,p:s,dkLen:o,blockSize32:c,V:d,B32:l,B:p,tmp:b,blockMixCb:E}=sp(e,t,r);ie.isLE||(0,ie.byteSwap32)(l);for(let w=0;w<s;w++){let P=c*w;for(let T=0;T<c;T++)d[T]=l[P+T];for(let T=0,I=0;T<n-1;T++)xs(d,I,d,I+=c,i),E();xs(d,(n-1)*c,l,P,i),E();for(let T=0;T<n;T++){let I=l[P+c-16]%n;for(let M=0;M<c;M++)b[M]=l[P+M]^d[I*c+M];xs(b,0,l,P,i),E()}}return ie.isLE||(0,ie.byteSwap32)(l),op(e,o,p,d,b)}async function l8(e,t,r){let{N:n,r:i,p:s,dkLen:o,blockSize32:c,V:d,B32:l,B:p,tmp:b,blockMixCb:E,asyncTick:w}=sp(e,t,r);ie.isLE||(0,ie.byteSwap32)(l);for(let P=0;P<s;P++){let T=c*P;for(let M=0;M<c;M++)d[M]=l[T+M];let I=0;await(0,ie.asyncLoop)(n-1,w,()=>{xs(d,I,d,I+=c,i),E()}),xs(d,(n-1)*c,l,T,i),E(),await(0,ie.asyncLoop)(n,w,()=>{let M=l[T+c-16]%n;for(let k=0;k<c;k++)b[k]=l[T+k]^d[M*c+k];xs(b,0,l,T,i),E()})}return ie.isLE||(0,ie.byteSwap32)(l),op(e,o,p,d,b)}});var dp=R(Es=>{C();x();Object.defineProperty(Es,"__esModule",{value:!0});Es.blake3=Es.BLAKE3=void 0;var Io=En(),h8=Ha(),cp=bs(),Qr=Gd(),$t=tr(),dn={CHUNK_START:1<<0,CHUNK_END:1<<1,PARENT:1<<2,ROOT:1<<3,KEYED_HASH:1<<4,DERIVE_KEY_CONTEXT:1<<5,DERIVE_KEY_MATERIAL:1<<6},fp=(()=>{let e=Array.from({length:16},(n,i)=>i),t=n=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map(i=>n[i]),r=[];for(let n=0,i=e;n<7;n++,i=t(i))r.push(...i);return Uint8Array.from(r)})(),Ts=class extends h8.BLAKE{constructor(t={},r=0){let n=t.dkLen===void 0?32:t.dkLen;if(super(64,n,{},Number.MAX_SAFE_INTEGER,0,0),this.flags=0,this.chunkPos=0,this.chunksDone=0,this.stack=[],this.posOut=0,this.bufferOut32=new Uint32Array(16),this.chunkOut=0,this.enableXOF=!0,(0,Io.anumber)(this.outputLen),t.key!==void 0&&t.context!==void 0)throw new Error("Blake3: only key or context can be specified at same time");if(t.key!==void 0){let i=(0,$t.toBytes)(t.key).slice();if(i.length!==32)throw new Error("Blake3: key should be 32 byte");this.IV=(0,$t.u32)(i),$t.isLE||(0,$t.byteSwap32)(this.IV),this.flags=r|dn.KEYED_HASH}else if(t.context!==void 0){let i=new Ts({dkLen:32},dn.DERIVE_KEY_CONTEXT).update(t.context).digest();this.IV=(0,$t.u32)(i),$t.isLE||(0,$t.byteSwap32)(this.IV),this.flags=r|dn.DERIVE_KEY_MATERIAL}else this.IV=Qr.B2S_IV.slice(),this.flags=r;this.state=this.IV.slice(),this.bufferOut=(0,$t.u8)(this.bufferOut32)}get(){return[]}set(){}b2Compress(t,r,n,i=0){let{state:s,pos:o}=this,{h:c,l:d}=(0,cp.fromBig)(BigInt(t),!0),{v0:l,v1:p,v2:b,v3:E,v4:w,v5:P,v6:T,v7:I,v8:M,v9:k,v10:O,v11:N,v12:L,v13:q,v14:V,v15:H}=(0,Qr.compress)(fp,i,n,7,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],Qr.B2S_IV[0],Qr.B2S_IV[1],Qr.B2S_IV[2],Qr.B2S_IV[3],c,d,o,r);s[0]=l^M,s[1]=p^k,s[2]=b^O,s[3]=E^N,s[4]=w^L,s[5]=P^q,s[6]=T^V,s[7]=I^H}compress(t,r=0,n=!1){let i=this.flags;if(this.chunkPos||(i|=dn.CHUNK_START),(this.chunkPos===15||n)&&(i|=dn.CHUNK_END),n||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,i,t,r),this.chunkPos+=1,this.chunkPos===16||n){let s=this.state;this.state=this.IV.slice();for(let o,c=this.chunksDone+1;(n||!(c&1))&&(o=this.stack.pop());c>>=1)this.buffer32.set(o,0),this.buffer32.set(s,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|dn.PARENT,this.buffer32,0),s=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(s)}this.pos=0}_cloneInto(t){t=super._cloneInto(t);let{IV:r,flags:n,state:i,chunkPos:s,posOut:o,chunkOut:c,stack:d,chunksDone:l}=this;return t.state.set(i.slice()),t.stack=d.map(p=>Uint32Array.from(p)),t.IV.set(r),t.flags=n,t.chunkPos=s,t.chunksDone=l,t.posOut=o,t.chunkOut=c,t.enableXOF=this.enableXOF,t.bufferOut32.set(this.bufferOut32),t}destroy(){this.destroyed=!0,this.state.fill(0),this.buffer32.fill(0),this.IV.fill(0),this.bufferOut32.fill(0);for(let t of this.stack)t.fill(0)}b2CompressOut(){let{state:t,pos:r,flags:n,buffer32:i,bufferOut32:s}=this,{h:o,l:c}=(0,cp.fromBig)(BigInt(this.chunkOut++));$t.isLE||(0,$t.byteSwap32)(i);let{v0:d,v1:l,v2:p,v3:b,v4:E,v5:w,v6:P,v7:T,v8:I,v9:M,v10:k,v11:O,v12:N,v13:L,v14:q,v15:V}=(0,Qr.compress)(fp,0,i,7,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],Qr.B2S_IV[0],Qr.B2S_IV[1],Qr.B2S_IV[2],Qr.B2S_IV[3],c,o,r,n);s[0]=d^I,s[1]=l^M,s[2]=p^k,s[3]=b^O,s[4]=E^N,s[5]=w^L,s[6]=P^q,s[7]=T^V,s[8]=t[0]^I,s[9]=t[1]^M,s[10]=t[2]^k,s[11]=t[3]^O,s[12]=t[4]^N,s[13]=t[5]^L,s[14]=t[6]^q,s[15]=t[7]^V,$t.isLE||((0,$t.byteSwap32)(i),(0,$t.byteSwap32)(s)),this.posOut=0}finish(){if(this.finished)return;this.finished=!0,this.buffer.fill(0,this.pos);let t=this.flags|dn.ROOT;this.stack.length?(t|=dn.PARENT,$t.isLE||(0,$t.byteSwap32)(this.buffer32),this.compress(this.buffer32,0,!0),$t.isLE||(0,$t.byteSwap32)(this.buffer32),this.chunksDone=0,this.pos=this.blockLen):t|=(this.chunkPos?0:dn.CHUNK_START)|dn.CHUNK_END,this.flags=t,this.b2CompressOut()}writeInto(t){(0,Io.aexists)(this,!1),(0,Io.abytes)(t),this.finish();let{blockLen:r,bufferOut:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.b2CompressOut();let o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible after digest call");return this.writeInto(t)}xof(t){return(0,Io.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Io.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}};Es.BLAKE3=Ts;Es.blake3=(0,$t.wrapXOFConstructorWithOpts)(e=>new Ts(e))});var Bo=R(Ie=>{C();x();var up=Ie&&Ie.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b8=Ie&&Ie.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mr=Ie&&Ie.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&up(t,e,r)},p8=Ie&&Ie.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&up(t,e,r);return b8(t,e),t};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.randomBytes=Ie.concatBytes=Ie.reverseBuffer=void 0;mr(ib(),Ie);mr(ob(),Ie);mr(Ka(),Ie);mr(Zb(),Ie);mr(Af(),Ie);mr(hs(),Ie);mr(Mo(),Ie);mr(Fd(),Ie);mr(xo(),Ie);mr(qa(),Ie);mr($d(),Ie);mr(Gd(),Ie);mr($a(),Ie);mr(ap(),Ie);mr(dp(),Ie);var y8=p8(tr()),g8=A2();function m8(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e}Ie.reverseBuffer=m8;function v8(e,t){return y8.concatBytes(Uint8Array.from(e),Uint8Array.from(t))}Ie.concatBytes=v8;function _8(e){return g8(e)}Ie.randomBytes=_8});var Mr=R((lp,Wd)=>{C();x();(function(e,t){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=T2().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(u===16?this._parseHex(a,g,h):(this._parseBase(a,u,g),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(a,u,h){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,_,A=0;if(h==="be")for(g=a.length-1,y=0;g>=0;g-=3)_=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[y]|=_<<A&67108863,this.words[y+1]=_>>>26-A&67108863,A+=24,A>=26&&(A-=26,y++);else if(h==="le")for(g=0,y=0;g<a.length;g+=3)_=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[y]|=_<<A&67108863,this.words[y+1]=_>>>26-A&67108863,A+=24,A>=26&&(A-=26,y++);return this.strip()};function o(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(S,a,u){var h=o(S,u);return u-1>=a&&(h|=o(S,u-1)<<4),h}i.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y=0,_=0,A;if(h==="be")for(g=a.length-1;g>=u;g-=2)A=c(a,u,g)<<y,this.words[_]|=A&67108863,y>=18?(y-=18,_+=1,this.words[_]|=A>>>26):y+=8;else{var m=a.length-u;for(g=m%2===0?u+1:u;g<a.length;g+=2)A=c(a,u,g)<<y,this.words[_]|=A&67108863,y>=18?(y-=18,_+=1,this.words[_]|=A>>>26):y+=8}this.strip()};function d(S,a,u,h){for(var g=0,y=Math.min(S.length,u),_=a;_<y;_++){var A=S.charCodeAt(_)-48;g*=h,A>=49?g+=A-49+10:A>=17?g+=A-17+10:g+=A}return g}i.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=u)g++;g--,y=y/u|0;for(var _=a.length-h,A=_%g,m=Math.min(_,_-A)+h,f=0,v=h;v<m;v+=g)f=d(a,v,v+g,u),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var D=1;for(f=d(a,v,a.length,u),v=0;v<A;v++)D*=u;this.imuln(D),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var g=0,y=0,_=0;_<this.length;_++){var A=this.words[_],m=((A<<g|y)&16777215).toString(16);y=A>>>24-g&16777215,y!==0||_!==this.length-1?h=l[6-m.length]+m+h:h=m+h,g+=2,g>=26&&(g-=26,_--)}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=p[a],v=b[a];h="";var D=this.clone();for(D.negative=0;!D.isZero();){var K=D.modn(v).toString(a);D=D.idivn(v),D.isZero()?h=K+h:h=l[f-K.length]+K+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return r(typeof s<"u"),this.toArrayLike(s,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,h){var g=this.byteLength(),y=h||Math.max(1,g);r(g<=y,"byte array longer than desired length"),r(y>0,"Requested array length <= 0"),this.strip();var _=u==="le",A=new a(y),m,f,v=this.clone();if(_){for(f=0;!v.isZero();f++)m=v.andln(255),v.iushrn(8),A[f]=m;for(;f<y;f++)A[f]=0}else{for(f=0;f<y-g;f++)A[f]=0;for(f=0;!v.isZero();f++)m=v.andln(255),v.iushrn(8),A[y-f-1]=m}return A},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function E(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var h=u/26|0,g=u%26;a[u]=(S.words[h]&1<<g)>>>g}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var g=0;g<h.length;g++)this.words[g]=u.words[g]^h.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var g=0;g<u;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var h=a/26|0,g=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var y=0,_=0;_<g.length;_++)u=(h.words[_]|0)+(g.words[_]|0)+y,this.words[_]=u&67108863,y=u>>>26;for(;y!==0&&_<h.length;_++)u=(h.words[_]|0)+y,this.words[_]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;_<h.length;_++)this.words[_]=h.words[_];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,y;h>0?(g=this,y=a):(g=a,y=this);for(var _=0,A=0;A<y.length;A++)u=(g.words[A]|0)-(y.words[A]|0)+_,_=u>>26,this.words[A]=u&67108863;for(;_!==0&&A<g.length;A++)u=(g.words[A]|0)+_,_=u>>26,this.words[A]=u&67108863;if(_===0&&A<g.length&&g!==this)for(;A<g.length;A++)this.words[A]=g.words[A];return this.length=Math.max(this.length,A),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function w(S,a,u){u.negative=a.negative^S.negative;var h=S.length+a.length|0;u.length=h,h=h-1|0;var g=S.words[0]|0,y=a.words[0]|0,_=g*y,A=_&67108863,m=_/67108864|0;u.words[0]=A;for(var f=1;f<h;f++){for(var v=m>>>26,D=m&67108863,K=Math.min(f,a.length-1),W=Math.max(0,f-S.length+1);W<=K;W++){var ee=f-W|0;g=S.words[ee]|0,y=a.words[W]|0,_=g*y+D,v+=_/67108864|0,D=_&67108863}u.words[f]=D|0,m=v|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var P=function(a,u,h){var g=a.words,y=u.words,_=h.words,A=0,m,f,v,D=g[0]|0,K=D&8191,W=D>>>13,ee=g[1]|0,pe=ee&8191,Te=ee>>>13,er=g[2]|0,Be=er&8191,Ee=er>>>13,_n=g[3]|0,Qe=_n&8191,Ae=_n>>>13,Sn=g[4]|0,ze=Sn&8191,et=Sn>>>13,lo=g[5]|0,ot=lo&8191,at=lo>>>13,$l=g[6]|0,ct=$l&8191,ft=$l>>>13,Gl=g[7]|0,dt=Gl&8191,ut=Gl>>>13,Wl=g[8]|0,lt=Wl&8191,ht=Wl>>>13,Xl=g[9]|0,bt=Xl&8191,pt=Xl>>>13,Yl=y[0]|0,yt=Yl&8191,gt=Yl>>>13,Zl=y[1]|0,mt=Zl&8191,vt=Zl>>>13,Jl=y[2]|0,_t=Jl&8191,St=Jl>>>13,Ql=y[3]|0,wt=Ql&8191,Ct=Ql>>>13,e0=y[4]|0,xt=e0&8191,Tt=e0>>>13,t0=y[5]|0,Et=t0&8191,Pt=t0>>>13,r0=y[6]|0,At=r0&8191,Mt=r0>>>13,n0=y[7]|0,It=n0&8191,Bt=n0>>>13,i0=y[8]|0,Ot=i0&8191,kt=i0>>>13,s0=y[9]|0,Rt=s0&8191,Nt=s0>>>13;h.negative=a.negative^u.negative,h.length=19,m=Math.imul(K,yt),f=Math.imul(K,gt),f=f+Math.imul(W,yt)|0,v=Math.imul(W,gt);var cf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(cf>>>26)|0,cf&=67108863,m=Math.imul(pe,yt),f=Math.imul(pe,gt),f=f+Math.imul(Te,yt)|0,v=Math.imul(Te,gt),m=m+Math.imul(K,mt)|0,f=f+Math.imul(K,vt)|0,f=f+Math.imul(W,mt)|0,v=v+Math.imul(W,vt)|0;var ff=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ff>>>26)|0,ff&=67108863,m=Math.imul(Be,yt),f=Math.imul(Be,gt),f=f+Math.imul(Ee,yt)|0,v=Math.imul(Ee,gt),m=m+Math.imul(pe,mt)|0,f=f+Math.imul(pe,vt)|0,f=f+Math.imul(Te,mt)|0,v=v+Math.imul(Te,vt)|0,m=m+Math.imul(K,_t)|0,f=f+Math.imul(K,St)|0,f=f+Math.imul(W,_t)|0,v=v+Math.imul(W,St)|0;var df=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(df>>>26)|0,df&=67108863,m=Math.imul(Qe,yt),f=Math.imul(Qe,gt),f=f+Math.imul(Ae,yt)|0,v=Math.imul(Ae,gt),m=m+Math.imul(Be,mt)|0,f=f+Math.imul(Be,vt)|0,f=f+Math.imul(Ee,mt)|0,v=v+Math.imul(Ee,vt)|0,m=m+Math.imul(pe,_t)|0,f=f+Math.imul(pe,St)|0,f=f+Math.imul(Te,_t)|0,v=v+Math.imul(Te,St)|0,m=m+Math.imul(K,wt)|0,f=f+Math.imul(K,Ct)|0,f=f+Math.imul(W,wt)|0,v=v+Math.imul(W,Ct)|0;var uf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(uf>>>26)|0,uf&=67108863,m=Math.imul(ze,yt),f=Math.imul(ze,gt),f=f+Math.imul(et,yt)|0,v=Math.imul(et,gt),m=m+Math.imul(Qe,mt)|0,f=f+Math.imul(Qe,vt)|0,f=f+Math.imul(Ae,mt)|0,v=v+Math.imul(Ae,vt)|0,m=m+Math.imul(Be,_t)|0,f=f+Math.imul(Be,St)|0,f=f+Math.imul(Ee,_t)|0,v=v+Math.imul(Ee,St)|0,m=m+Math.imul(pe,wt)|0,f=f+Math.imul(pe,Ct)|0,f=f+Math.imul(Te,wt)|0,v=v+Math.imul(Te,Ct)|0,m=m+Math.imul(K,xt)|0,f=f+Math.imul(K,Tt)|0,f=f+Math.imul(W,xt)|0,v=v+Math.imul(W,Tt)|0;var lf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(lf>>>26)|0,lf&=67108863,m=Math.imul(ot,yt),f=Math.imul(ot,gt),f=f+Math.imul(at,yt)|0,v=Math.imul(at,gt),m=m+Math.imul(ze,mt)|0,f=f+Math.imul(ze,vt)|0,f=f+Math.imul(et,mt)|0,v=v+Math.imul(et,vt)|0,m=m+Math.imul(Qe,_t)|0,f=f+Math.imul(Qe,St)|0,f=f+Math.imul(Ae,_t)|0,v=v+Math.imul(Ae,St)|0,m=m+Math.imul(Be,wt)|0,f=f+Math.imul(Be,Ct)|0,f=f+Math.imul(Ee,wt)|0,v=v+Math.imul(Ee,Ct)|0,m=m+Math.imul(pe,xt)|0,f=f+Math.imul(pe,Tt)|0,f=f+Math.imul(Te,xt)|0,v=v+Math.imul(Te,Tt)|0,m=m+Math.imul(K,Et)|0,f=f+Math.imul(K,Pt)|0,f=f+Math.imul(W,Et)|0,v=v+Math.imul(W,Pt)|0;var hf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(hf>>>26)|0,hf&=67108863,m=Math.imul(ct,yt),f=Math.imul(ct,gt),f=f+Math.imul(ft,yt)|0,v=Math.imul(ft,gt),m=m+Math.imul(ot,mt)|0,f=f+Math.imul(ot,vt)|0,f=f+Math.imul(at,mt)|0,v=v+Math.imul(at,vt)|0,m=m+Math.imul(ze,_t)|0,f=f+Math.imul(ze,St)|0,f=f+Math.imul(et,_t)|0,v=v+Math.imul(et,St)|0,m=m+Math.imul(Qe,wt)|0,f=f+Math.imul(Qe,Ct)|0,f=f+Math.imul(Ae,wt)|0,v=v+Math.imul(Ae,Ct)|0,m=m+Math.imul(Be,xt)|0,f=f+Math.imul(Be,Tt)|0,f=f+Math.imul(Ee,xt)|0,v=v+Math.imul(Ee,Tt)|0,m=m+Math.imul(pe,Et)|0,f=f+Math.imul(pe,Pt)|0,f=f+Math.imul(Te,Et)|0,v=v+Math.imul(Te,Pt)|0,m=m+Math.imul(K,At)|0,f=f+Math.imul(K,Mt)|0,f=f+Math.imul(W,At)|0,v=v+Math.imul(W,Mt)|0;var bf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(bf>>>26)|0,bf&=67108863,m=Math.imul(dt,yt),f=Math.imul(dt,gt),f=f+Math.imul(ut,yt)|0,v=Math.imul(ut,gt),m=m+Math.imul(ct,mt)|0,f=f+Math.imul(ct,vt)|0,f=f+Math.imul(ft,mt)|0,v=v+Math.imul(ft,vt)|0,m=m+Math.imul(ot,_t)|0,f=f+Math.imul(ot,St)|0,f=f+Math.imul(at,_t)|0,v=v+Math.imul(at,St)|0,m=m+Math.imul(ze,wt)|0,f=f+Math.imul(ze,Ct)|0,f=f+Math.imul(et,wt)|0,v=v+Math.imul(et,Ct)|0,m=m+Math.imul(Qe,xt)|0,f=f+Math.imul(Qe,Tt)|0,f=f+Math.imul(Ae,xt)|0,v=v+Math.imul(Ae,Tt)|0,m=m+Math.imul(Be,Et)|0,f=f+Math.imul(Be,Pt)|0,f=f+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,Pt)|0,m=m+Math.imul(pe,At)|0,f=f+Math.imul(pe,Mt)|0,f=f+Math.imul(Te,At)|0,v=v+Math.imul(Te,Mt)|0,m=m+Math.imul(K,It)|0,f=f+Math.imul(K,Bt)|0,f=f+Math.imul(W,It)|0,v=v+Math.imul(W,Bt)|0;var pf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(pf>>>26)|0,pf&=67108863,m=Math.imul(lt,yt),f=Math.imul(lt,gt),f=f+Math.imul(ht,yt)|0,v=Math.imul(ht,gt),m=m+Math.imul(dt,mt)|0,f=f+Math.imul(dt,vt)|0,f=f+Math.imul(ut,mt)|0,v=v+Math.imul(ut,vt)|0,m=m+Math.imul(ct,_t)|0,f=f+Math.imul(ct,St)|0,f=f+Math.imul(ft,_t)|0,v=v+Math.imul(ft,St)|0,m=m+Math.imul(ot,wt)|0,f=f+Math.imul(ot,Ct)|0,f=f+Math.imul(at,wt)|0,v=v+Math.imul(at,Ct)|0,m=m+Math.imul(ze,xt)|0,f=f+Math.imul(ze,Tt)|0,f=f+Math.imul(et,xt)|0,v=v+Math.imul(et,Tt)|0,m=m+Math.imul(Qe,Et)|0,f=f+Math.imul(Qe,Pt)|0,f=f+Math.imul(Ae,Et)|0,v=v+Math.imul(Ae,Pt)|0,m=m+Math.imul(Be,At)|0,f=f+Math.imul(Be,Mt)|0,f=f+Math.imul(Ee,At)|0,v=v+Math.imul(Ee,Mt)|0,m=m+Math.imul(pe,It)|0,f=f+Math.imul(pe,Bt)|0,f=f+Math.imul(Te,It)|0,v=v+Math.imul(Te,Bt)|0,m=m+Math.imul(K,Ot)|0,f=f+Math.imul(K,kt)|0,f=f+Math.imul(W,Ot)|0,v=v+Math.imul(W,kt)|0;var yf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(yf>>>26)|0,yf&=67108863,m=Math.imul(bt,yt),f=Math.imul(bt,gt),f=f+Math.imul(pt,yt)|0,v=Math.imul(pt,gt),m=m+Math.imul(lt,mt)|0,f=f+Math.imul(lt,vt)|0,f=f+Math.imul(ht,mt)|0,v=v+Math.imul(ht,vt)|0,m=m+Math.imul(dt,_t)|0,f=f+Math.imul(dt,St)|0,f=f+Math.imul(ut,_t)|0,v=v+Math.imul(ut,St)|0,m=m+Math.imul(ct,wt)|0,f=f+Math.imul(ct,Ct)|0,f=f+Math.imul(ft,wt)|0,v=v+Math.imul(ft,Ct)|0,m=m+Math.imul(ot,xt)|0,f=f+Math.imul(ot,Tt)|0,f=f+Math.imul(at,xt)|0,v=v+Math.imul(at,Tt)|0,m=m+Math.imul(ze,Et)|0,f=f+Math.imul(ze,Pt)|0,f=f+Math.imul(et,Et)|0,v=v+Math.imul(et,Pt)|0,m=m+Math.imul(Qe,At)|0,f=f+Math.imul(Qe,Mt)|0,f=f+Math.imul(Ae,At)|0,v=v+Math.imul(Ae,Mt)|0,m=m+Math.imul(Be,It)|0,f=f+Math.imul(Be,Bt)|0,f=f+Math.imul(Ee,It)|0,v=v+Math.imul(Ee,Bt)|0,m=m+Math.imul(pe,Ot)|0,f=f+Math.imul(pe,kt)|0,f=f+Math.imul(Te,Ot)|0,v=v+Math.imul(Te,kt)|0,m=m+Math.imul(K,Rt)|0,f=f+Math.imul(K,Nt)|0,f=f+Math.imul(W,Rt)|0,v=v+Math.imul(W,Nt)|0;var gf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(gf>>>26)|0,gf&=67108863,m=Math.imul(bt,mt),f=Math.imul(bt,vt),f=f+Math.imul(pt,mt)|0,v=Math.imul(pt,vt),m=m+Math.imul(lt,_t)|0,f=f+Math.imul(lt,St)|0,f=f+Math.imul(ht,_t)|0,v=v+Math.imul(ht,St)|0,m=m+Math.imul(dt,wt)|0,f=f+Math.imul(dt,Ct)|0,f=f+Math.imul(ut,wt)|0,v=v+Math.imul(ut,Ct)|0,m=m+Math.imul(ct,xt)|0,f=f+Math.imul(ct,Tt)|0,f=f+Math.imul(ft,xt)|0,v=v+Math.imul(ft,Tt)|0,m=m+Math.imul(ot,Et)|0,f=f+Math.imul(ot,Pt)|0,f=f+Math.imul(at,Et)|0,v=v+Math.imul(at,Pt)|0,m=m+Math.imul(ze,At)|0,f=f+Math.imul(ze,Mt)|0,f=f+Math.imul(et,At)|0,v=v+Math.imul(et,Mt)|0,m=m+Math.imul(Qe,It)|0,f=f+Math.imul(Qe,Bt)|0,f=f+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Bt)|0,m=m+Math.imul(Be,Ot)|0,f=f+Math.imul(Be,kt)|0,f=f+Math.imul(Ee,Ot)|0,v=v+Math.imul(Ee,kt)|0,m=m+Math.imul(pe,Rt)|0,f=f+Math.imul(pe,Nt)|0,f=f+Math.imul(Te,Rt)|0,v=v+Math.imul(Te,Nt)|0;var mf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(mf>>>26)|0,mf&=67108863,m=Math.imul(bt,_t),f=Math.imul(bt,St),f=f+Math.imul(pt,_t)|0,v=Math.imul(pt,St),m=m+Math.imul(lt,wt)|0,f=f+Math.imul(lt,Ct)|0,f=f+Math.imul(ht,wt)|0,v=v+Math.imul(ht,Ct)|0,m=m+Math.imul(dt,xt)|0,f=f+Math.imul(dt,Tt)|0,f=f+Math.imul(ut,xt)|0,v=v+Math.imul(ut,Tt)|0,m=m+Math.imul(ct,Et)|0,f=f+Math.imul(ct,Pt)|0,f=f+Math.imul(ft,Et)|0,v=v+Math.imul(ft,Pt)|0,m=m+Math.imul(ot,At)|0,f=f+Math.imul(ot,Mt)|0,f=f+Math.imul(at,At)|0,v=v+Math.imul(at,Mt)|0,m=m+Math.imul(ze,It)|0,f=f+Math.imul(ze,Bt)|0,f=f+Math.imul(et,It)|0,v=v+Math.imul(et,Bt)|0,m=m+Math.imul(Qe,Ot)|0,f=f+Math.imul(Qe,kt)|0,f=f+Math.imul(Ae,Ot)|0,v=v+Math.imul(Ae,kt)|0,m=m+Math.imul(Be,Rt)|0,f=f+Math.imul(Be,Nt)|0,f=f+Math.imul(Ee,Rt)|0,v=v+Math.imul(Ee,Nt)|0;var vf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(vf>>>26)|0,vf&=67108863,m=Math.imul(bt,wt),f=Math.imul(bt,Ct),f=f+Math.imul(pt,wt)|0,v=Math.imul(pt,Ct),m=m+Math.imul(lt,xt)|0,f=f+Math.imul(lt,Tt)|0,f=f+Math.imul(ht,xt)|0,v=v+Math.imul(ht,Tt)|0,m=m+Math.imul(dt,Et)|0,f=f+Math.imul(dt,Pt)|0,f=f+Math.imul(ut,Et)|0,v=v+Math.imul(ut,Pt)|0,m=m+Math.imul(ct,At)|0,f=f+Math.imul(ct,Mt)|0,f=f+Math.imul(ft,At)|0,v=v+Math.imul(ft,Mt)|0,m=m+Math.imul(ot,It)|0,f=f+Math.imul(ot,Bt)|0,f=f+Math.imul(at,It)|0,v=v+Math.imul(at,Bt)|0,m=m+Math.imul(ze,Ot)|0,f=f+Math.imul(ze,kt)|0,f=f+Math.imul(et,Ot)|0,v=v+Math.imul(et,kt)|0,m=m+Math.imul(Qe,Rt)|0,f=f+Math.imul(Qe,Nt)|0,f=f+Math.imul(Ae,Rt)|0,v=v+Math.imul(Ae,Nt)|0;var _f=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(_f>>>26)|0,_f&=67108863,m=Math.imul(bt,xt),f=Math.imul(bt,Tt),f=f+Math.imul(pt,xt)|0,v=Math.imul(pt,Tt),m=m+Math.imul(lt,Et)|0,f=f+Math.imul(lt,Pt)|0,f=f+Math.imul(ht,Et)|0,v=v+Math.imul(ht,Pt)|0,m=m+Math.imul(dt,At)|0,f=f+Math.imul(dt,Mt)|0,f=f+Math.imul(ut,At)|0,v=v+Math.imul(ut,Mt)|0,m=m+Math.imul(ct,It)|0,f=f+Math.imul(ct,Bt)|0,f=f+Math.imul(ft,It)|0,v=v+Math.imul(ft,Bt)|0,m=m+Math.imul(ot,Ot)|0,f=f+Math.imul(ot,kt)|0,f=f+Math.imul(at,Ot)|0,v=v+Math.imul(at,kt)|0,m=m+Math.imul(ze,Rt)|0,f=f+Math.imul(ze,Nt)|0,f=f+Math.imul(et,Rt)|0,v=v+Math.imul(et,Nt)|0;var Sf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Sf>>>26)|0,Sf&=67108863,m=Math.imul(bt,Et),f=Math.imul(bt,Pt),f=f+Math.imul(pt,Et)|0,v=Math.imul(pt,Pt),m=m+Math.imul(lt,At)|0,f=f+Math.imul(lt,Mt)|0,f=f+Math.imul(ht,At)|0,v=v+Math.imul(ht,Mt)|0,m=m+Math.imul(dt,It)|0,f=f+Math.imul(dt,Bt)|0,f=f+Math.imul(ut,It)|0,v=v+Math.imul(ut,Bt)|0,m=m+Math.imul(ct,Ot)|0,f=f+Math.imul(ct,kt)|0,f=f+Math.imul(ft,Ot)|0,v=v+Math.imul(ft,kt)|0,m=m+Math.imul(ot,Rt)|0,f=f+Math.imul(ot,Nt)|0,f=f+Math.imul(at,Rt)|0,v=v+Math.imul(at,Nt)|0;var wf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(wf>>>26)|0,wf&=67108863,m=Math.imul(bt,At),f=Math.imul(bt,Mt),f=f+Math.imul(pt,At)|0,v=Math.imul(pt,Mt),m=m+Math.imul(lt,It)|0,f=f+Math.imul(lt,Bt)|0,f=f+Math.imul(ht,It)|0,v=v+Math.imul(ht,Bt)|0,m=m+Math.imul(dt,Ot)|0,f=f+Math.imul(dt,kt)|0,f=f+Math.imul(ut,Ot)|0,v=v+Math.imul(ut,kt)|0,m=m+Math.imul(ct,Rt)|0,f=f+Math.imul(ct,Nt)|0,f=f+Math.imul(ft,Rt)|0,v=v+Math.imul(ft,Nt)|0;var Cf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Cf>>>26)|0,Cf&=67108863,m=Math.imul(bt,It),f=Math.imul(bt,Bt),f=f+Math.imul(pt,It)|0,v=Math.imul(pt,Bt),m=m+Math.imul(lt,Ot)|0,f=f+Math.imul(lt,kt)|0,f=f+Math.imul(ht,Ot)|0,v=v+Math.imul(ht,kt)|0,m=m+Math.imul(dt,Rt)|0,f=f+Math.imul(dt,Nt)|0,f=f+Math.imul(ut,Rt)|0,v=v+Math.imul(ut,Nt)|0;var xf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(xf>>>26)|0,xf&=67108863,m=Math.imul(bt,Ot),f=Math.imul(bt,kt),f=f+Math.imul(pt,Ot)|0,v=Math.imul(pt,kt),m=m+Math.imul(lt,Rt)|0,f=f+Math.imul(lt,Nt)|0,f=f+Math.imul(ht,Rt)|0,v=v+Math.imul(ht,Nt)|0;var Tf=(A+m|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Tf>>>26)|0,Tf&=67108863,m=Math.imul(bt,Rt),f=Math.imul(bt,Nt),f=f+Math.imul(pt,Rt)|0,v=Math.imul(pt,Nt);var Ef=(A+m|0)+((f&8191)<<13)|0;return A=(v+(f>>>13)|0)+(Ef>>>26)|0,Ef&=67108863,_[0]=cf,_[1]=ff,_[2]=df,_[3]=uf,_[4]=lf,_[5]=hf,_[6]=bf,_[7]=pf,_[8]=yf,_[9]=gf,_[10]=mf,_[11]=vf,_[12]=_f,_[13]=Sf,_[14]=wf,_[15]=Cf,_[16]=xf,_[17]=Tf,_[18]=Ef,A!==0&&(_[19]=A,h.length++),h};Math.imul||(P=w);function T(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var h=0,g=0,y=0;y<u.length-1;y++){var _=g;g=0;for(var A=h&67108863,m=Math.min(y,a.length-1),f=Math.max(0,y-S.length+1);f<=m;f++){var v=y-f,D=S.words[v]|0,K=a.words[f]|0,W=D*K,ee=W&67108863;_=_+(W/67108864|0)|0,ee=ee+A|0,A=ee&67108863,_=_+(ee>>>26)|0,g+=_>>>26,_&=67108863}u.words[y]=A,h=_,_=g}return h!==0?u.words[y]=h:u.length--,u.strip()}function I(S,a,u){var h=new M;return h.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var h,g=this.length+a.length;return this.length===10&&a.length===10?h=P(this,a,u):g<63?h=w(this,a,u):g<1024?h=T(this,a,u):h=I(this,a,u),h};function M(S,a){this.x=S,this.y=a}M.prototype.makeRBT=function(a){for(var u=new Array(a),h=i.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,h,a);return u},M.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var g=0,y=0;y<u;y++)g|=(a&1)<<u-y-1,a>>=1;return g},M.prototype.permute=function(a,u,h,g,y,_){for(var A=0;A<_;A++)g[A]=u[a[A]],y[A]=h[a[A]]},M.prototype.transform=function(a,u,h,g,y,_){this.permute(_,a,u,h,g,y);for(var A=1;A<y;A<<=1)for(var m=A<<1,f=Math.cos(2*Math.PI/m),v=Math.sin(2*Math.PI/m),D=0;D<y;D+=m)for(var K=f,W=v,ee=0;ee<A;ee++){var pe=h[D+ee],Te=g[D+ee],er=h[D+ee+A],Be=g[D+ee+A],Ee=K*er-W*Be;Be=K*Be+W*er,er=Ee,h[D+ee]=pe+er,g[D+ee]=Te+Be,h[D+ee+A]=pe-er,g[D+ee+A]=Te-Be,ee!==m&&(Ee=f*K-v*W,W=f*W+v*K,K=Ee)}},M.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,g=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+g},M.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var g=0;g<h/2;g++){var y=a[g];a[g]=a[h-g-1],a[h-g-1]=y,y=u[g],u[g]=-u[h-g-1],u[h-g-1]=-y}},M.prototype.normalize13b=function(a,u){for(var h=0,g=0;g<u/2;g++){var y=Math.round(a[2*g+1]/u)*8192+Math.round(a[2*g]/u)+h;a[g]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},M.prototype.convert13b=function(a,u,h,g){for(var y=0,_=0;_<u;_++)y=y+(a[_]|0),h[2*_]=y&8191,y=y>>>13,h[2*_+1]=y&8191,y=y>>>13;for(_=2*u;_<g;++_)h[_]=0;r(y===0),r((y&-8192)===0)},M.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},M.prototype.mulp=function(a,u,h){var g=2*this.guessLen13b(a.length,u.length),y=this.makeRBT(g),_=this.stub(g),A=new Array(g),m=new Array(g),f=new Array(g),v=new Array(g),D=new Array(g),K=new Array(g),W=h.words;W.length=g,this.convert13b(a.words,a.length,A,g),this.convert13b(u.words,u.length,v,g),this.transform(A,_,m,f,g,y),this.transform(v,_,D,K,g,y);for(var ee=0;ee<g;ee++){var pe=m[ee]*D[ee]-f[ee]*K[ee];f[ee]=m[ee]*K[ee]+f[ee]*D[ee],m[ee]=pe}return this.conjugate(m,f,g),this.transform(m,f,W,_,g,y),this.conjugate(W,_,g),this.normalize13b(W,g),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),I(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,y=(g&67108863)+(u&67108863);u>>=26,u+=g/67108864|0,u+=y>>>26,this.words[h]=y&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=E(a);if(u.length===0)return new i(1);for(var h=this,g=0;g<u.length&&u[g]===0;g++,h=h.sqr());if(++g<u.length)for(var y=h.sqr();g<u.length;g++,y=y.sqr())u[g]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,g=67108863>>>26-u<<26-u,y;if(u!==0){var _=0;for(y=0;y<this.length;y++){var A=this.words[y]&g,m=(this.words[y]|0)-A<<u;this.words[y]=m|_,_=A>>>26-u}_&&(this.words[y]=_,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,h){r(typeof a=="number"&&a>=0);var g;u?g=(u-u%26)/26:g=0;var y=a%26,_=Math.min((a-y)/26,this.length),A=67108863^67108863>>>y<<y,m=h;if(g-=_,g=Math.max(0,g),m){for(var f=0;f<_;f++)m.words[f]=this.words[f];m.length=_}if(_!==0)if(this.length>_)for(this.length-=_,f=0;f<this.length;f++)this.words[f]=this.words[f+_];else this.words[0]=0,this.length=1;var v=0;for(f=this.length-1;f>=0&&(v!==0||f>=g);f--){var D=this.words[f]|0;this.words[f]=v<<26-y|D>>>y,v=D&A}return m&&v!==0&&(m.words[m.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,h){return r(this.negative===0),this.iushrn(a,u,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,g=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&g)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var g=67108863^67108863>>>u<<u;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,h){var g=a.length+h,y;this._expand(g);var _,A=0;for(y=0;y<a.length;y++){_=(this.words[y+h]|0)+A;var m=(a.words[y]|0)*u;_-=m&67108863,A=(_>>26)-(m/67108864|0),this.words[y+h]=_&67108863}for(;y<this.length-h;y++)_=(this.words[y+h]|0)+A,A=_>>26,this.words[y+h]=_&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,y=0;y<this.length;y++)_=-(this.words[y]|0)+A,A=_>>26,this.words[y]=_&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var h=this.length-a.length,g=this.clone(),y=a,_=y.words[y.length-1]|0,A=this._countBits(_);h=26-A,h!==0&&(y=y.ushln(h),g.iushln(h),_=y.words[y.length-1]|0);var m=g.length-y.length,f;if(u!=="mod"){f=new i(null),f.length=m+1,f.words=new Array(f.length);for(var v=0;v<f.length;v++)f.words[v]=0}var D=g.clone()._ishlnsubmul(y,1,m);D.negative===0&&(g=D,f&&(f.words[m]=1));for(var K=m-1;K>=0;K--){var W=(g.words[y.length+K]|0)*67108864+(g.words[y.length+K-1]|0);for(W=Math.min(W/_|0,67108863),g._ishlnsubmul(y,W,K);g.negative!==0;)W--,g.negative=0,g._ishlnsubmul(y,1,K),g.isZero()||(g.negative^=1);f&&(f.words[K]=W)}return f&&f.strip(),g.strip(),u!=="div"&&h!==0&&g.iushrn(h),{div:f||null,mod:g}},i.prototype.divmod=function(a,u,h){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,y,_;return this.negative!==0&&a.negative===0?(_=this.neg().divmod(a,u),u!=="mod"&&(g=_.div.neg()),u!=="div"&&(y=_.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:g,mod:y}):this.negative===0&&a.negative!==0?(_=this.divmod(a.neg(),u),u!=="mod"&&(g=_.div.neg()),{div:g,mod:_.mod}):(this.negative&a.negative)!==0?(_=this.neg().divmod(a.neg(),u),u!=="div"&&(y=_.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:_.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,g=a.ushrn(1),y=a.andln(1),_=h.cmp(g);return _<0||y===1&&_===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(u*h+(this.words[g]|0))%a;return h},i.prototype.idivn=function(a){r(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+u*67108864;this.words[h]=g/a|0,u=g%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var g=new i(1),y=new i(0),_=new i(0),A=new i(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),v=u.clone();!u.isZero();){for(var D=0,K=1;(u.words[0]&K)===0&&D<26;++D,K<<=1);if(D>0)for(u.iushrn(D);D-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(f),y.isub(v)),g.iushrn(1),y.iushrn(1);for(var W=0,ee=1;(h.words[0]&ee)===0&&W<26;++W,ee<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(f),A.isub(v)),_.iushrn(1),A.iushrn(1);u.cmp(h)>=0?(u.isub(h),g.isub(_),y.isub(A)):(h.isub(u),_.isub(g),A.isub(y))}return{a:_,b:A,gcd:h.iushln(m)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var g=new i(1),y=new i(0),_=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var A=0,m=1;(u.words[0]&m)===0&&A<26;++A,m<<=1);if(A>0)for(u.iushrn(A);A-- >0;)g.isOdd()&&g.iadd(_),g.iushrn(1);for(var f=0,v=1;(h.words[0]&v)===0&&f<26;++f,v<<=1);if(f>0)for(h.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(_),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),g.isub(y)):(h.isub(u),y.isub(g))}var D;return u.cmpn(1)===0?D=g:D=y,D.cmpn(0)<0&&D.iadd(a),D},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var g=0;u.isEven()&&h.isEven();g++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var _=u;u=h,h=_}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(g)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,h=(a-u)/26,g=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var y=g,_=h;y!==0&&_<this.length;_++){var A=this.words[_]|0;A+=y,y=A>>>26,A&=67108863,this.words[_]=A}return y!==0&&(this.words[_]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var g=this.words[0]|0;h=g===a?0:g<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,y=a.words[h]|0;if(g!==y){g<y?u=-1:g>y&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new H(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var k={k256:null,p224:null,p192:null,p25519:null};function O(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},O.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var g=h<this.n?-1:u.ucmp(this.p);return g===0?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(a,u){a.iushrn(this.n,0,u)},O.prototype.imulK=function(a){return a.imul(this.k)};function N(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(N,O),N.prototype.split=function(a,u){for(var h=4194303,g=Math.min(a.length,9),y=0;y<g;y++)u.words[y]=a.words[y];if(u.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var _=a.words[9];for(u.words[u.length++]=_&h,y=10;y<a.length;y++){var A=a.words[y]|0;a.words[y-10]=(A&h)<<4|_>>>22,_=A}_>>>=22,a.words[y-10]=_,_===0&&a.length>10?a.length-=10:a.length-=9},N.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var g=a.words[h]|0;u+=g*977,a.words[h]=u&67108863,u=g*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function L(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(L,O);function q(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(q,O);function V(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(V,O),V.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var g=(a.words[h]|0)*19+u,y=g&67108863;g>>>=26,a.words[h]=y,u=g}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(k[a])return k[a];var u;if(a==="k256")u=new N;else if(a==="p224")u=new L;else if(a==="p192")u=new q;else if(a==="p25519")u=new V;else throw new Error("Unknown prime "+a);return k[a]=u,u};function H(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}H.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},H.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},H.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},H.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},H.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},H.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},H.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},H.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},H.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},H.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},H.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},H.prototype.isqr=function(a){return this.imul(a,a.clone())},H.prototype.sqr=function(a){return this.mul(a,a)},H.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);r(!g.isZero());var _=new i(1).toRed(this),A=_.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,m).cmp(A)!==0;)f.redIAdd(A);for(var v=this.pow(f,g),D=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),W=y;K.cmp(_)!==0;){for(var ee=K,pe=0;ee.cmp(_)!==0;pe++)ee=ee.redSqr();r(pe<W);var Te=this.pow(v,new i(1).iushln(W-pe-1));D=D.redMul(Te),v=Te.redSqr(),K=K.redMul(v),W=pe}return D},H.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},H.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,g=new Array(1<<h);g[0]=new i(1).toRed(this),g[1]=a;for(var y=2;y<g.length;y++)g[y]=this.mul(g[y-1],a);var _=g[0],A=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),y=u.length-1;y>=0;y--){for(var v=u.words[y],D=f-1;D>=0;D--){var K=v>>D&1;if(_!==g[0]&&(_=this.sqr(_)),K===0&&A===0){m=0;continue}A<<=1,A|=K,m++,!(m!==h&&(y!==0||D!==0))&&(_=this.mul(_,g[A]),m=0,A=0)}f=26}return _},H.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},H.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new re(a)};function re(S){H.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(re,H),re.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},re.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},re.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),_=y;return y.cmp(this.m)>=0?_=y.isub(this.m):y.cmpn(0)<0&&(_=y.iadd(this.m)),_._forceRed(this)},re.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var h=a.mul(u),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),_=y;return y.cmp(this.m)>=0?_=y.isub(this.m):y.cmpn(0)<0&&(_=y.iadd(this.m)),_._forceRed(this)},re.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof Wd>"u"||Wd,lp)});var Lr=R(hp=>{C();x();var en=hp,S8=Mr(),w8=E2(),Wa=P2();en.assert=w8;en.toArray=Wa.toArray;en.zero2=Wa.zero2;en.toHex=Wa.toHex;en.encode=Wa.encode;function C8(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,s=e.clone(),o=0;o<n.length;o++){var c,d=s.andln(i-1);s.isOdd()?(d>(i>>1)-1?c=(i>>1)-d:c=d,s.isubn(c)):c=0,n[o]=c,s.iushrn(1)}return n}en.getNAF=C8;function x8(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0,s;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o=e.andln(3)+n&3,c=t.andln(3)+i&3;o===3&&(o=-1),c===3&&(c=-1);var d;(o&1)===0?d=0:(s=e.andln(7)+n&7,(s===3||s===5)&&c===2?d=-o:d=o),r[0].push(d);var l;(c&1)===0?l=0:(s=t.andln(7)+i&7,(s===3||s===5)&&o===2?l=-c:l=c),r[1].push(l),2*n===d+1&&(n=1-n),2*i===l+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r}en.getJSF=x8;function T8(e,t,r){var n="_"+t;e.prototype[t]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}en.cachedProperty=T8;function E8(e){return typeof e=="string"?en.toArray(e,"hex"):e}en.parseBytes=E8;function P8(e){return new S8(e,"hex","le")}en.intFromLE=P8});var ko=R((sE,bp)=>{C();x();var Oo=Lr(),Ni=Mr(),Xa=Oo.getNAF,A8=Oo.getJSF,Ya=Oo.assert;function ii(e,t){this.type=e,this.p=new Ni(t.p,16),this.red=t.prime?Ni.red(t.prime):Ni.mont(this.p),this.zero=new Ni(0).toRed(this.red),this.one=new Ni(1).toRed(this.red),this.two=new Ni(2).toRed(this.red),this.n=t.n&&new Ni(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}bp.exports=ii;ii.prototype.point=function(){throw new Error("Not implemented")};ii.prototype.validate=function(){throw new Error("Not implemented")};ii.prototype._fixedNafMul=function(t,r){Ya(t.precomputed);var n=t._getDoubles(),i=Xa(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],c,d;for(c=0;c<i.length;c+=n.step){d=0;for(var l=c+n.step-1;l>=c;l--)d=(d<<1)+i[l];o.push(d)}for(var p=this.jpoint(null,null,null),b=this.jpoint(null,null,null),E=s;E>0;E--){for(c=0;c<o.length;c++)d=o[c],d===E?b=b.mixedAdd(n.points[c]):d===-E&&(b=b.mixedAdd(n.points[c].neg()));p=p.add(b)}return p.toP()};ii.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Xa(r,n,this._bitLength),c=this.jpoint(null,null,null),d=o.length-1;d>=0;d--){for(var l=0;d>=0&&o[d]===0;d--)l++;if(d>=0&&l++,c=c.dblp(l),d<0)break;var p=o[d];Ya(p!==0),t.type==="affine"?p>0?c=c.mixedAdd(s[p-1>>1]):c=c.mixedAdd(s[-p-1>>1].neg()):p>0?c=c.add(s[p-1>>1]):c=c.add(s[-p-1>>1].neg())}return t.type==="affine"?c.toP():c};ii.prototype._wnafMulAdd=function(t,r,n,i,s){var o=this._wnafT1,c=this._wnafT2,d=this._wnafT3,l=0,p,b,E;for(p=0;p<i;p++){E=r[p];var w=E._getNAFPoints(t);o[p]=w.wnd,c[p]=w.points}for(p=i-1;p>=1;p-=2){var P=p-1,T=p;if(o[P]!==1||o[T]!==1){d[P]=Xa(n[P],o[P],this._bitLength),d[T]=Xa(n[T],o[T],this._bitLength),l=Math.max(d[P].length,l),l=Math.max(d[T].length,l);continue}var I=[r[P],null,null,r[T]];r[P].y.cmp(r[T].y)===0?(I[1]=r[P].add(r[T]),I[2]=r[P].toJ().mixedAdd(r[T].neg())):r[P].y.cmp(r[T].y.redNeg())===0?(I[1]=r[P].toJ().mixedAdd(r[T]),I[2]=r[P].add(r[T].neg())):(I[1]=r[P].toJ().mixedAdd(r[T]),I[2]=r[P].toJ().mixedAdd(r[T].neg()));var M=[-3,-1,-5,-7,0,7,5,1,3],k=A8(n[P],n[T]);for(l=Math.max(k[0].length,l),d[P]=new Array(l),d[T]=new Array(l),b=0;b<l;b++){var O=k[0][b]|0,N=k[1][b]|0;d[P][b]=M[(O+1)*3+(N+1)],d[T][b]=0,c[P]=I}}var L=this.jpoint(null,null,null),q=this._wnafT4;for(p=l;p>=0;p--){for(var V=0;p>=0;){var H=!0;for(b=0;b<i;b++)q[b]=d[b][p]|0,q[b]!==0&&(H=!1);if(!H)break;V++,p--}if(p>=0&&V++,L=L.dblp(V),p<0)break;for(b=0;b<i;b++){var re=q[b];re!==0&&(re>0?E=c[b][re-1>>1]:re<0&&(E=c[b][-re-1>>1].neg()),E.type==="affine"?L=L.mixedAdd(E):L=L.add(E))}}for(p=0;p<i;p++)c[p]=null;return s?L:L.toP()};function Fr(e,t){this.curve=e,this.type=t,this.precomputed=null}ii.BasePoint=Fr;Fr.prototype.eq=function(){throw new Error("Not implemented")};Fr.prototype.validate=function(){return this.curve.validate(this)};ii.prototype.decodePoint=function(t,r){t=Oo.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?Ya(t[t.length-1]%2===0):t[0]===7&&Ya(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Fr.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Fr.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Fr.prototype.encode=function(t,r){return Oo.encode(this._encode(r),t)};Fr.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Fr.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Fr.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=t){for(var o=0;o<t;o++)i=i.dbl();n.push(i)}return{step:t,points:n}};Fr.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}};Fr.prototype._getBeta=function(){return null};Fr.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r}});var yp=R((cE,pp)=>{C();x();var M8=Lr(),rt=Mr(),Xd=Pf(),Ps=ko(),I8=M8.assert;function jr(e){Ps.call(this,"short",e),this.a=new rt(e.a,16).toRed(this.red),this.b=new rt(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Xd(jr,Ps);pp.exports=jr;jr.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new rt(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new rt(t.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],I8(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return t.basis?o=t.basis.map(function(c){return{a:new rt(c.a,16),b:new rt(c.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};jr.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:rt.mont(t),n=new rt(2).toRed(r).redInvm(),i=n.redNeg(),s=new rt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[o,c]};jr.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),s=new rt(1),o=new rt(0),c=new rt(0),d=new rt(1),l,p,b,E,w,P,T,I=0,M,k;n.cmpn(0)!==0;){var O=i.div(n);M=i.sub(O.mul(n)),k=c.sub(O.mul(s));var N=d.sub(O.mul(o));if(!b&&M.cmp(r)<0)l=T.neg(),p=s,b=M.neg(),E=k;else if(b&&++I===2)break;T=M,i=n,n=M,c=s,s=k,d=o,o=N}w=M.neg(),P=k;var L=b.sqr().add(E.sqr()),q=w.sqr().add(P.sqr());return q.cmp(L)>=0&&(w=l,P=p),b.negative&&(b=b.neg(),E=E.neg()),w.negative&&(w=w.neg(),P=P.neg()),[{a:b,b:E},{a:w,b:P}]};jr.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),c=s.mul(n.a),d=o.mul(i.a),l=s.mul(n.b),p=o.mul(i.b),b=t.sub(c).sub(d),E=l.add(p).neg();return{k1:b,k2:E}};jr.prototype.pointFromX=function(t,r){t=new rt(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(t,i)};jr.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};jr.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<t.length;o++){var c=this._endoSplit(r[o]),d=t[o],l=d._getBeta();c.k1.negative&&(c.k1.ineg(),d=d.neg(!0)),c.k2.negative&&(c.k2.ineg(),l=l.neg(!0)),i[o*2]=d,i[o*2+1]=l,s[o*2]=c.k1,s[o*2+1]=c.k2}for(var p=this._wnafMulAdd(1,i,s,o*2,n),b=0;b<o*2;b++)i[b]=null,s[b]=null;return p};function Gt(e,t,r,n){Ps.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new rt(t,16),this.y=new rt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Xd(Gt,Ps.BasePoint);jr.prototype.point=function(t,r,n){return new Gt(this,t,r,n)};jr.prototype.pointFromJSON=function(t,r){return Gt.fromJSON(this,t,r)};Gt.prototype._getBeta=function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};Gt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Gt.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(c){return t.point(c[0],c[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Gt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Gt.prototype.isInfinity=function(){return this.inf};Gt.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Gt.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,c)};Gt.prototype.getX=function(){return this.x.fromRed()};Gt.prototype.getY=function(){return this.y.fromRed()};Gt.prototype.mul=function(t){return t=new rt(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Gt.prototype.mulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Gt.prototype.jmulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Gt.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Gt.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Gt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function nr(e,t,r,n){Ps.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rt(0)):(this.x=new rt(t,16),this.y=new rt(r,16),this.z=new rt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Xd(nr,Ps.BasePoint);jr.prototype.jpoint=function(t,r,n){return new nr(this,t,r,n)};nr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};nr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};nr.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=t.x.redMul(n),o=this.y.redMul(r.redMul(t.z)),c=t.y.redMul(n.redMul(this.z)),d=i.redSub(s),l=o.redSub(c);if(d.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=d.redSqr(),b=p.redMul(d),E=i.redMul(p),w=l.redSqr().redIAdd(b).redISub(E).redISub(E),P=l.redMul(E.redISub(w)).redISub(o.redMul(b)),T=this.z.redMul(t.z).redMul(d);return this.curve.jpoint(w,P,T)};nr.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),s=this.y,o=t.y.redMul(r).redMul(this.z),c=n.redSub(i),d=s.redSub(o);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),p=l.redMul(c),b=n.redMul(l),E=d.redSqr().redIAdd(p).redISub(b).redISub(b),w=d.redMul(b.redISub(E)).redISub(s.redMul(p)),P=this.z.redMul(c);return this.curve.jpoint(E,w,P)};nr.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,c=this.y,d=this.z,l=d.redSqr().redSqr(),p=c.redAdd(c);for(r=0;r<t;r++){var b=o.redSqr(),E=p.redSqr(),w=E.redSqr(),P=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(l)),T=o.redMul(E),I=P.redSqr().redISub(T.redAdd(T)),M=T.redISub(I),k=P.redMul(M);k=k.redIAdd(k).redISub(w);var O=p.redMul(d);r+1<t&&(l=l.redMul(w)),o=I,d=O,p=k}return this.curve.jpoint(o,p.redMul(s),d)};nr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};nr.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var d=i.redAdd(i).redIAdd(i),l=d.redSqr().redISub(c).redISub(c),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),t=l,r=d.redMul(c.redISub(l)).redISub(p),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),E=this.y.redSqr(),w=E.redSqr(),P=this.x.redAdd(E).redSqr().redISub(b).redISub(w);P=P.redIAdd(P);var T=b.redAdd(b).redIAdd(b),I=T.redSqr(),M=w.redIAdd(w);M=M.redIAdd(M),M=M.redIAdd(M),t=I.redISub(P).redISub(P),r=T.redMul(P.redISub(t)).redISub(M),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};nr.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var d=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=d.redSqr().redISub(c).redISub(c);t=l;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),r=d.redMul(c.redISub(l)).redISub(p),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),E=this.y.redSqr(),w=this.x.redMul(E),P=this.x.redSub(b).redMul(this.x.redAdd(b));P=P.redAdd(P).redIAdd(P);var T=w.redIAdd(w);T=T.redIAdd(T);var I=T.redAdd(T);t=P.redSqr().redISub(I),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(b);var M=E.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M),r=P.redMul(T.redISub(t)).redISub(M)}return this.curve.jpoint(t,r,n)};nr.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),c=n.redSqr(),d=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var p=l.redMul(c),b=d.redSqr().redISub(p.redAdd(p)),E=p.redISub(b),w=c.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var P=d.redMul(E).redISub(w),T=n.redAdd(n).redMul(i);return this.curve.jpoint(b,P,T)};nr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=t.redAdd(t).redIAdd(t),o=s.redSqr(),c=this.x.redAdd(r).redSqr().redISub(t).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(o);var d=c.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var p=s.redIAdd(c).redSqr().redISub(o).redISub(d).redISub(l),b=r.redMul(p);b=b.redIAdd(b),b=b.redIAdd(b);var E=this.x.redMul(d).redISub(b);E=E.redIAdd(E),E=E.redIAdd(E);var w=this.y.redMul(p.redMul(l.redISub(p)).redISub(c.redMul(d)));w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var P=this.z.redAdd(c).redSqr().redISub(n).redISub(d);return this.curve.jpoint(E,w,P)};nr.prototype.mul=function(t,r){return t=new rt(t,r),this.curve._wnafMul(this,t)};nr.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0};nr.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};nr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};nr.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var vp=R((uE,mp)=>{C();x();var As=Mr(),gp=Pf(),Za=ko(),B8=Lr();function Ms(e){Za.call(this,"mont",e),this.a=new As(e.a,16).toRed(this.red),this.b=new As(e.b,16).toRed(this.red),this.i4=new As(4).toRed(this.red).redInvm(),this.two=new As(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}gp(Ms,Za);mp.exports=Ms;Ms.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Wt(e,t,r){Za.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new As(t,16),this.z=new As(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}gp(Wt,Za.BasePoint);Ms.prototype.decodePoint=function(t,r){return this.point(B8.toArray(t,r),1)};Ms.prototype.point=function(t,r){return new Wt(this,t,r)};Ms.prototype.pointFromJSON=function(t){return Wt.fromJSON(this,t)};Wt.prototype.precompute=function(){};Wt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Wt.fromJSON=function(t,r){return new Wt(t,r[0],r[1]||t.one)};Wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Wt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Wt.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),c=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,c)};Wt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Wt.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=t.x.redAdd(t.z),o=t.x.redSub(t.z),c=o.redMul(n),d=s.redMul(i),l=r.z.redMul(c.redAdd(d).redSqr()),p=r.x.redMul(c.redISub(d).redSqr());return this.curve.point(l,p)};Wt.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var c=o.length-1;c>=0;c--)o[c]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Wt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Wt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Wt.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Wt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Wt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var wp=R((bE,Sp)=>{C();x();var O8=Lr(),Bn=Mr(),_p=Pf(),Ja=ko(),k8=O8.assert;function un(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,Ja.call(this,"edwards",e),this.a=new Bn(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Bn(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Bn(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),k8(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}_p(un,Ja);Sp.exports=un;un.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};un.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};un.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)};un.prototype.pointFromX=function(t,r){t=new Bn(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),c=o.redSqrt();if(c.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var d=c.fromRed().isOdd();return(r&&!d||!r&&d)&&(c=c.redNeg()),this.point(t,c)};un.prototype.pointFromY=function(t,r){t=new Bn(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var c=o.redSqrt();if(c.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,t)};un.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function De(e,t,r,n,i){Ja.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Bn(t,16),this.y=new Bn(r,16),this.z=n?new Bn(n,16):this.curve.one,this.t=i&&new Bn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}_p(De,Ja.BasePoint);un.prototype.pointFromJSON=function(t){return De.fromJSON(this,t)};un.prototype.point=function(t,r,n,i){return new De(this,t,r,n,i)};De.fromJSON=function(t,r){return new De(t,r[0],r[1],r[2])};De.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};De.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};De.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),o=i.redAdd(r),c=o.redSub(n),d=i.redSub(r),l=s.redMul(c),p=o.redMul(d),b=s.redMul(d),E=c.redMul(o);return this.curve.point(l,p,E,b)};De.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,c,d,l;if(this.curve.twisted){c=this.curve._mulA(r);var p=c.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(p.redSub(this.curve.two)),s=p.redMul(c.redSub(n)),o=p.redSqr().redSub(p).redSub(p)):(d=this.z.redSqr(),l=p.redSub(d).redISub(d),i=t.redSub(r).redISub(n).redMul(l),s=p.redMul(c.redSub(n)),o=p.redMul(l))}else c=r.redAdd(n),d=this.curve._mulC(this.z).redSqr(),l=c.redSub(d).redSub(d),i=this.curve._mulC(t.redISub(c)).redMul(l),s=this.curve._mulC(c).redMul(r.redISub(n)),o=c.redMul(l);return this.curve.point(i,s,o)};De.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};De.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),s=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(r),c=s.redSub(i),d=s.redAdd(i),l=n.redAdd(r),p=o.redMul(c),b=d.redMul(l),E=o.redMul(l),w=c.redMul(d);return this.curve.point(p,b,w,E)};De.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),s=this.y.redMul(t.y),o=this.curve.d.redMul(i).redMul(s),c=n.redSub(o),d=n.redAdd(o),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(s),p=r.redMul(c).redMul(l),b,E;return this.curve.twisted?(b=r.redMul(d).redMul(s.redSub(this.curve._mulA(i))),E=c.redMul(d)):(b=r.redMul(d).redMul(s.redSub(i)),E=this.curve._mulC(c).redMul(d)),this.curve.point(p,b,E)};De.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};De.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};De.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};De.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};De.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};De.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};De.prototype.getX=function(){return this.normalize(),this.x.fromRed()};De.prototype.getY=function(){return this.normalize(),this.y.fromRed()};De.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};De.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};De.prototype.toP=De.prototype.normalize;De.prototype.mixedAdd=De.prototype.add});var Yd=R(Cp=>{C();x();var Qa=Cp;Qa.base=ko();Qa.short=yp();Qa.mont=vp();Qa.edwards=wp()});var Tp=R((_E,xp)=>{C();x();xp.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var ec=R(Ap=>{C();x();var Jd=Ap,si=o0(),Zd=Yd(),R8=Lr(),Ep=R8.assert;function Pp(e){e.type==="short"?this.curve=new Zd.short(e):e.type==="edwards"?this.curve=new Zd.edwards(e):this.curve=new Zd.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,Ep(this.g.validate(),"Invalid curve"),Ep(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Jd.PresetCurve=Pp;function oi(e,t){Object.defineProperty(Jd,e,{configurable:!0,enumerable:!0,get:function(){var r=new Pp(t);return Object.defineProperty(Jd,e,{configurable:!0,enumerable:!0,value:r}),r}})}oi("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:si.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});oi("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:si.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});oi("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:si.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});oi("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:si.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});oi("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:si.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});oi("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:si.sha256,gRed:!1,g:["9"]});oi("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:si.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Qd;try{Qd=Tp()}catch{Qd=void 0}oi("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:si.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Qd]})});var Ip=R((EE,Mp)=>{C();x();var N8=Mr(),L8=Lr(),eu=L8.assert;function fr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}Mp.exports=fr;fr.fromPublic=function(t,r,n){return r instanceof fr?r:new fr(t,{pub:r,pubEnc:n})};fr.fromPrivate=function(t,r,n){return r instanceof fr?r:new fr(t,{priv:r,privEnc:n})};fr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};fr.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};fr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};fr.prototype._importPrivate=function(t,r){this.priv=new N8(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};fr.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?eu(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&eu(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};fr.prototype.derive=function(t){return t.validate()||eu(t.validate(),"public point not validated"),t.mul(this.priv).getX()};fr.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};fr.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};fr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var kp=R((ME,Op)=>{C();x();var tc=Mr(),nu=Lr(),q8=nu.assert;function Ro(e,t,r){if(t instanceof Ro)return t;this._importDER(t,r)||(q8(t.r&&t.s,"Signature without r or s"),this.r=new tc(t.r,16),this.s=new tc(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam,this.curve=e,this.byteLength=this.curve.n.byteLength())}Op.exports=Ro;function H8(){this.place=0}function tu(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return i<=127?!1:(t.place=o,i)}function Bp(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Ro.prototype._importDER=function(t,r){t=nu.toArray(t,r);var n=new H8;if(t[n.place++]!==48)return!1;var i=tu(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var s=tu(t,n);if(s===!1)return!1;var o=t.slice(n.place,s+n.place);if(n.place+=s,t[n.place++]!==2)return!1;var c=tu(t,n);if(c===!1||t.length!==c+n.place)return!1;var d=t.slice(n.place,c+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;return this.r=new tc(o),this.s=new tc(d),this.recoveryParam=null,!0};function ru(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Ro.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Bp(r),n=Bp(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];ru(i,r.length),i=i.concat(r),i.push(2),ru(i,n.length);var s=i.concat(n),o=[48];return ru(o,s.length),o=o.concat(s),nu.encode(o,t)};Ro.prototype.toBytes=function(){let t=this.r.toArray("be",this.byteLength),r=this.s.toArray("be",this.byteLength);return t.concat(r)}});var Lp=R((OE,Np)=>{C();x();var On=Mr(),Rp=M2(),V8=Lr(),iu=ec(),D8=I2(),Li=V8.assert,su=Ip(),rc=kp();function $r(e){if(!(this instanceof $r))return new $r(e);typeof e=="string"&&(Li(Object.prototype.hasOwnProperty.call(iu,e),"Unknown curve "+e),e=iu[e]),e instanceof iu.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}Np.exports=$r;$r.prototype.keyPair=function(t){return new su(this,t)};$r.prototype.keyFromPrivate=function(t,r){return su.fromPrivate(this,t,r)};$r.prototype.keyFromPublic=function(t,r){return su.fromPublic(this,t,r)};$r.prototype.genKeyPair=function(t){t||(t={});for(var r=new Rp({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||D8(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new On(2));;){var s=new On(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};$r.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};$r.prototype.sign=function(t,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof t!="string"&&typeof t!="number"&&!On.isBN(t)){Li(typeof t=="object"&&t&&typeof t.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Li(t.length>>>0===t.length);for(var s=0;s<t.length;s++)Li((t[s]&255)===t[s])}r=this.keyFromPrivate(r,n),t=this._truncateToN(new On(t,16)),Li(!t.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),c=r.getPrivate().toArray("be",o),d=t.toArray("be",o);Li(new On(d).eq(t),"Can not sign message");for(var l=new Rp({hash:this.hash,entropy:c,nonce:d,pers:i.pers,persEnc:i.persEnc||"utf8"}),p=this.n.sub(new On(1)),b=0;;b++){var E=i.k?i.k(b):new On(l.generate(this.n.byteLength()));if(E=this._truncateToN(E,!0),!(E.cmpn(1)<=0||E.cmp(p)>=0)){var w=this.g.mul(E);if(!w.isInfinity()){var P=w.getX(),T=P.umod(this.n);if(T.cmpn(0)!==0){var I=E.invm(this.n).mul(T.mul(r.getPrivate()).iadd(t));if(I=I.umod(this.n),I.cmpn(0)!==0){var M=(w.getY().isOdd()?1:0)|(P.cmp(T)!==0?2:0);return i.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),M^=1),new rc(this.curve,{r:T,s:I,recoveryParam:M})}}}}}};$r.prototype.verify=function(t,r,n,i){t=this._truncateToN(new On(t,16)),n=this.keyFromPublic(n,i),r=new rc(this.curve,r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),d=c.mul(t).umod(this.n),l=c.mul(s).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(d,n.getPublic(),l),p.isInfinity()?!1:p.eqXToP(s)):(p=this.g.mulAdd(d,n.getPublic(),l),p.isInfinity()?!1:p.getX().umod(this.n).cmp(s)===0)};$r.prototype.recoverPubKey=function(e,t,r,n){Li((3&r)===r,"The recovery param is more than two bits"),t=new rc(this.curve,t,n);var i=this.n,s=new On(e),o=t.r,c=t.s,d=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),d):o=this.curve.pointFromX(o,d);var p=t.r.invm(i),b=i.sub(s).mul(p).umod(i),E=c.mul(p).umod(i);return this.g.mulAdd(b,o,E)};$r.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new rc(this.curve,t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Dp=R((NE,Vp)=>{C();x();var No=Lr(),Hp=No.assert,qp=No.parseBytes,Is=No.cachedProperty;function Xt(e,t){this.eddsa=e,this._secret=qp(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=qp(t.pub)}Xt.fromPublic=function(t,r){return r instanceof Xt?r:new Xt(t,{pub:r})};Xt.fromSecret=function(t,r){return r instanceof Xt?r:new Xt(t,{secret:r})};Xt.prototype.secret=function(){return this._secret};Is(Xt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Is(Xt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Is(Xt,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Is(Xt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Is(Xt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Is(Xt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Xt.prototype.sign=function(t){return Hp(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};Xt.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};Xt.prototype.getSecret=function(t){return Hp(this._secret,"KeyPair is public only"),No.encode(this.secret(),t)};Xt.prototype.getPublic=function(t){return No.encode(this.pubBytes(),t)};Vp.exports=Xt});var Up=R((HE,Kp)=>{C();x();var K8=Mr(),nc=Lr(),U8=nc.assert,ic=nc.cachedProperty,z8=nc.parseBytes;function qi(e,t){this.eddsa=e,typeof t!="object"&&(t=z8(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),U8(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof K8&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}ic(qi,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});ic(qi,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});ic(qi,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});ic(qi,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});qi.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};qi.prototype.toHex=function(){return nc.encode(this.toBytes(),"hex").toUpperCase()};Kp.exports=qi});var Gp=R((KE,$p)=>{C();x();var F8=o0(),j8=ec(),Bs=Lr(),$8=Bs.assert,Fp=Bs.parseBytes,jp=Dp(),zp=Up();function Ir(e){if($8(e==="ed25519","only tested with ed25519 so far"),!(this instanceof Ir))return new Ir(e);e=j8[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=F8.sha512}$p.exports=Ir;Ir.prototype.sign=function(t,r){t=Fp(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),s=this.g.mul(i),o=this.encodePoint(s),c=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),d=i.add(c).umod(this.curve.n);return this.makeSignature({R:s,S:d,Rencoded:o})};Ir.prototype.verify=function(t,r,n){t=Fp(t),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),t),o=this.g.mul(r.S()),c=r.R().add(i.pub().mul(s));return c.eq(o)};Ir.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return Bs.intFromLE(t.digest()).umod(this.curve.n)};Ir.prototype.keyFromPublic=function(t){return jp.fromPublic(this,t)};Ir.prototype.keyFromSecret=function(t){return jp.fromSecret(this,t)};Ir.prototype.makeSignature=function(t){return t instanceof zp?t:new zp(this,t)};Ir.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};Ir.prototype.decodePoint=function(t){t=Bs.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,s=Bs.intFromLE(n);return this.curve.pointFromY(s,i)};Ir.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};Ir.prototype.decodeInt=function(t){return Bs.intFromLE(t)};Ir.prototype.isPoint=function(t){return t instanceof this.pointClass}});var Os=R(Gr=>{C();x();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.utils=Gr.curves=Gr.curve=Gr.eddsa=Gr.ec=void 0;var G8=Yd();Gr.curve=G8;var W8=ec();Gr.curves=W8;var X8=Lp();Gr.ec=X8;var Y8=Gp();Gr.eddsa=Y8;var Z8=Lr();Gr.utils=Z8});var Yp=R((Wp,Xp)=>{C();x();Object.defineProperty(Wp,"__esModule",{value:!0});var J8=Os(),ln=new J8.ec("secp256k1"),ge=ln.curve,Ke=Mr();function Q8(e,t){let r=new Ke(t);if(r.cmp(ge.p)>=0)return null;r=r.toRed(ge.red);let n=r.redSqr().redIMul(r).redIAdd(ge.b).redSqrt();e===3!==n.isOdd()&&(n=n.redNeg());let i=r.redSqr().redIMul(r);return n.redSqr().redISub(i.redIAdd(ge.b)).isZero()?ln.keyPair({pub:{x:r,y:n}}):null}function e_(e,t,r){let n=new Ke(t),i=new Ke(r);if(n.cmp(ge.p)>=0||i.cmp(ge.p)>=0||(n=n.toRed(ge.red),i=i.toRed(ge.red),(e===6||e===7)&&i.isOdd()!==(e===7)))return null;let s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(ge.b)).isZero()?ln.keyPair({pub:{x:n,y:i}}):null}function ai(e){let t=e[0];switch(t){case 2:case 3:return e.length!==33?null:Q8(t,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:e_(t,e.subarray(1,33),e.subarray(33,65));default:return null}}Xp.exports={contextRandomize(){return 0},privateKeyVerify(e){let t=new Ke(e);return t.cmp(ge.n)<0&&!t.isZero()},privateKeyNegate(e){let t=new Ke(e);return B.Buffer.from(ge.n.sub(t).umod(ge.n).toArray("be",32))},privateKeyTweakAdd(e,t){let r=new Ke(t);return r.cmp(ge.n)>=0||(r.iadd(new Ke(e)),r.cmp(ge.n)>=0&&r.isub(ge.n),r.isZero())?null:B.Buffer.from(r.toArray("be",32))},privateKeyTweakMul(e,t){let r=new Ke(t);return r.cmp(ge.n)>=0||r.isZero()?1:(r.imul(new Ke(e)),r.cmp(ge.n)>=0&&(r=r.umod(ge.n)),B.Buffer.from(r.toArray("be",32)))},publicKeyVerify(e){let t=ai(e);return t==null?null:t.validate().result},publicKeyCreate(e,t){let r=new Ke(e);if(r.cmp(ge.n)>=0||r.isZero())return null;let n=ln.keyFromPrivate(e,null).getPublic();return B.Buffer.from(n.encode(null,t))},publicKeyConvert(e,t){let n=ai(e).getPublic();return B.Buffer.from(n.encode(null,t))},publicKeyNegate(e,t){let r=ai(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),B.Buffer.from(n.encode(null,t))},publicKeyCombine(e,t){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=ai(e[i]),r[i]===null)return null;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?null:B.Buffer.from(n.encode(null,t))},publicKeyTweakAdd(e,t,r){let n=ai(e);if(n===null||new Ke(t).cmp(ge.n)>=0)return null;let s=n.getPublic().add(ge.g.mul(t));return s.isInfinity()?null:B.Buffer.from(s.encode(null,r))},publicKeyTweakMul(e,t,r){let n=ai(e);if(n===null)return null;let i=new Ke(t);if(i.cmp(ge.n)>=0||i.isZero())return null;let s=n.getPublic().mul(t);return B.Buffer.from(s.encode(null,r))},signatureNormalize(e){let t=new Ke(e.subarray(0,32)),r=new Ke(e.subarray(32,64));return t.cmp(ge.n)>=0||r.cmp(ge.n)>=0?null:(r.cmp(ln.nh)===1&&e.set(ge.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){let r=t.subarray(0,32),n=t.subarray(32,64);if(new Ke(r).cmp(ge.n)>=0||new Ke(n).cmp(ge.n)>=0)return 1;let{output:i}=e,s=i.subarray(4,4+33);s[0]=0,s.set(r,1);let o=33,c=0;for(;o>1&&s[c]===0&&!(s[c+1]&128);--o,++c);if(s=s.subarray(c),s[0]&128||o>1&&s[0]===0&&!(s[1]&128))return 1;let d=i.subarray(6+33,6+33+33);d[0]=0,d.set(n,1);let l=33,p=0;for(;l>1&&d[p]===0&&!(d[p+1]&128);--l,++p);return d=d.subarray(p),d[0]&128||l>1&&d[0]===0&&!(d[1]&128)?1:(e.outputlen=6+o+l,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=s.length,i.set(s,4),i[4+o]=2,i[5+o]=d.length,i.set(d,6+o),0)},signatureImport(e,t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return 1;let r=t[3];if(r===0||5+r>=t.length||t[4+r]!==2)return 1;let n=t[5+r];if(n===0||6+r+n!==t.length||t[4]&128||r>1&&t[4]===0&&!(t[5]&128)||t[r+6]&128||n>1&&t[r+6]===0&&!(t[r+7]&128))return 1;let i=t.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let s=t.subarray(6+r);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let o=new Ke(i);o.cmp(ge.n)>=0&&(o=new Ke(0));let c=new Ke(t.subarray(6+r));return c.cmp(ge.n)>=0&&(c=new Ke(0)),e.set(o.toArrayLike(Uint8Array,"be",32),0),e.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t){let r=new Ke(t);return r.cmp(ge.n)>=0||r.isZero()?null:ln.sign(e,t,{canonical:!0}).toBytes()},ecdsaVerify(e,t,r){let n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new Ke(n.r),s=new Ke(n.s);if(i.cmp(ge.n)>=0||s.cmp(ge.n)>=0)return 1;if(s.cmp(ln.nh)===1||i.isZero()||s.isZero())return 3;let o=ai(r);if(o===null)return 2;let c=o.getPublic();return ln.verify(t,n,c)},ecdsaRecover(e,t,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},s=new Ke(i.r),o=new Ke(i.s);if(s.cmp(ge.n)>=0||o.cmp(ge.n)>=0)return 1;if(s.isZero()||o.isZero())return 2;let c;try{c=ln.recoverPubKey(r,i,t,null)}catch{return 2}return B.Buffer.from(c.encode(null,n))},ecdh(e,t,r,n,i,s,o){let c=ai(t);if(c===null)return 1;let d=new Ke(r);if(d.cmp(ge.n)>=0||d.isZero())return 2;let l=c.getPublic().mul(d);if(i===void 0){let p=l.encode(null,!0),b=ln.hash().update(p).digest();for(let E=0;E<32;++E)e[E]=b[E]}else{s||(s=new Uint8Array(32));let p=l.getX().toArray("be",32);for(let P=0;P<32;++P)s[P]=p[P];o||(o=new Uint8Array(32));let b=l.getY().toArray("be",32);for(let P=0;P<32;++P)o[P]=b[P];let E=i(s,o,n);if(!(E instanceof Uint8Array&&E.length===e.length))return 2;e.set(E)}return 0}}});var ty=R(Yt=>{C();x();var t_=Yt&&Yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),r_=Yt&&Yt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n_=Yt&&Yt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&t_(t,e,r);return r_(t,e),t};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.fromSeed=Yt.fromPublicKey=Yt.fromPrivateKey=Yt.fromBase58=Yt.tinySecp256k1Interface=void 0;var ou=n_(Bo()),i_=Af(),s_=Ka(),Jp=(0,i_.base58check)(s_.sha256),Qp=Yp(),ir=B2(),o_=O2();function a_(e){return{isPoint:t=>e.publicKeyVerify(t),isPrivate:t=>e.privateKeyVerify(t),pointAddScalar:(t,r,n)=>e.publicKeyTweakAdd(t,r,n),pointFromScalar:(t,r)=>e.publicKeyCreate(t,r),privateAdd:(t,r)=>e.privateKeyTweakAdd(new Uint8Array(t),r),sign:(t,r)=>e.ecdsaSign(t,r),verify:(t,r,n)=>e.ecdsaVerify(n,t,r)}}function c_(e){return{isPoint:t=>e.publicKeyVerify(t),pointCompress:(t,r)=>Uint8Array.from(e.publicKeyConvert(t,r??!0)),isPrivate:t=>e.privateKeyVerify(t),pointFromScalar:(t,r)=>{let n=e.publicKeyCreate(t,r??!0);return n==null?null:Uint8Array.from(n)},sign:(t,r,n)=>Uint8Array.from(e.ecdsaSign(t,r)),verify:(t,r,n,i)=>e.ecdsaVerify(n,t,r)}}var ci=a_(Qp);Yt.tinySecp256k1Interface=c_(Qp);var au=ir.BufferN(32),f_=ir.compile({wif:ir.UInt8,bip32:{public:ir.UInt32,private:ir.UInt32}}),ac={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},Zp=2147483648,d_=Math.pow(2,31)-1;function u_(e){return ir.String(e)&&e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)!==null}function l_(e){return ir.UInt32(e)&&e<=d_}var sc=class{constructor(t,r,n,i,s=0,o=0,c=0){this.__D=t,this.__Q=r,this.chainCode=n,this.network=i,this.__DEPTH=s,this.__INDEX=o,this.__PARENT_FINGERPRINT=c,ir(f_,i),this.lowR=!1}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get publicKey(){return this.__Q===void 0&&(this.__Q=B.Buffer.from(ci.pointFromScalar(this.__D,!0))),this.__Q}get privateKey(){return this.__D}get identifier(){return B.Buffer.from(ou.hash160(this.publicKey))}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return this.__D===void 0}neutered(){return oc(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){let t=this.network,r=this.isNeutered()?t.bip32.public:t.bip32.private,n=B.Buffer.allocUnsafe(78);return n.writeUInt32BE(r,0),n.writeUInt8(this.depth,4),n.writeUInt32BE(this.parentFingerprint,5),n.writeUInt32BE(this.index,9),this.chainCode.copy(n,13),this.isNeutered()?this.publicKey.copy(n,45):(n.writeUInt8(0,45),this.privateKey.copy(n,46)),Jp.encode(n)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return o_.encode(this.network.wif,this.privateKey,!0)}derive(t){ir(ir.UInt32,t);let r=t>=Zp,n=B.Buffer.allocUnsafe(37);if(r){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");n[0]=0,this.privateKey.copy(n,1),n.writeUInt32BE(t,33)}else this.publicKey.copy(n,0),n.writeUInt32BE(t,33);let i=ou.hmacSHA512(this.chainCode,n),s=i.slice(0,32),o=i.slice(32);if(!ci.isPrivate(s))return this.derive(t+1);let c;if(this.isNeutered()){let d=ci.pointAddScalar(this.publicKey,s,!0);if(d===null)return this.derive(t+1);c=oc(d,o,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}else{let d=ci.privateAdd(this.privateKey,s);if(d==null)return this.derive(t+1);c=cu(d,o,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}return c}deriveHardened(t){return ir(l_,t),this.derive(t+Zp)}derivePath(t){ir(u_,t);let r=t.split("/");if(r[0]==="m"){if(this.parentFingerprint)throw new TypeError("Expected master, got child");r=r.slice(1)}return r.reduce((n,i)=>{let s;return i.slice(-1)==="'"?(s=parseInt(i.slice(0,-1),10),n.deriveHardened(s)):(s=parseInt(i,10),n.derive(s))},this)}sign(t){if(!this.privateKey)throw new Error("Missing private key");return ci.sign(t,this.privateKey)}verify(t,r){return ci.verify(t,this.publicKey,r)}};function h_(e,t){let r=B.Buffer.from(Jp.decode(e));if(r.length!==78)throw new TypeError("Invalid buffer length");t=t||ac;let n=r.readUInt32BE(0);if(n!==t.bip32.private&&n!==t.bip32.public)throw new TypeError("Invalid network version");let i=r[4],s=r.readUInt32BE(5);if(i===0&&s!==0)throw new TypeError("Invalid parent fingerprint");let o=r.readUInt32BE(9);if(i===0&&o!==0)throw new TypeError("Invalid index");let c=r.slice(13,45),d;if(n===t.bip32.private){if(r.readUInt8(45)!==0)throw new TypeError("Invalid private key");let l=r.slice(46,78);d=cu(l,c,t,i,o,s)}else{let l=r.slice(45,78);d=oc(l,c,t,i,o,s)}return d}Yt.fromBase58=h_;function ey(e,t,r){return cu(e,t,r)}Yt.fromPrivateKey=ey;function cu(e,t,r,n,i,s){if(ir({privateKey:au,chainCode:au},{privateKey:e,chainCode:t}),r=r||ac,!ci.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return new sc(e,void 0,t,r,n,i,s)}function b_(e,t,r){return oc(e,t,r)}Yt.fromPublicKey=b_;function oc(e,t,r,n,i,s){if(ir({publicKey:ir.BufferN(33),chainCode:au},{publicKey:e,chainCode:t}),r=r||ac,!ci.isPoint(e))throw new TypeError("Point is not on the curve");return new sc(void 0,e,t,r,n,i,s)}function p_(e,t){if(ir(ir.Buffer,e),e.length<16)throw new TypeError("Seed should be at least 128 bits");if(e.length>64)throw new TypeError("Seed should be at most 512 bits");t=t||ac;let r=ou.hmacSHA512(B.Buffer.from("Bitcoin seed","utf8"),e),n=r.slice(0,32),i=r.slice(32);return ey(n,i,t)}Yt.fromSeed=p_});var ry=R(cc=>{C();x();Object.defineProperty(cc,"__esModule",{value:!0});cc.fromSeedV2=void 0;var y_=k2();function g_(e,t){return y_.HDKey.fromMasterSeed(new Uint8Array([...e])).derive(t)}cc.fromSeedV2=g_});var ny=R(Br=>{C();x();Object.defineProperty(Br,"__esModule",{value:!0});Br.fromSeedV2=Br.fromPrivateKey=Br.fromPublicKey=Br.fromBase58=Br.fromSeed=Br.tinySecp256k1Interface=void 0;var Lo=ty();Object.defineProperty(Br,"tinySecp256k1Interface",{enumerable:!0,get:function(){return Lo.tinySecp256k1Interface}});Object.defineProperty(Br,"fromSeed",{enumerable:!0,get:function(){return Lo.fromSeed}});Object.defineProperty(Br,"fromBase58",{enumerable:!0,get:function(){return Lo.fromBase58}});Object.defineProperty(Br,"fromPublicKey",{enumerable:!0,get:function(){return Lo.fromPublicKey}});Object.defineProperty(Br,"fromPrivateKey",{enumerable:!0,get:function(){return Lo.fromPrivateKey}});var m_=ry();Object.defineProperty(Br,"fromSeedV2",{enumerable:!0,get:function(){return m_.fromSeedV2}})});var iy=R((iP,v_)=>{v_.exports=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]});var du=R(Hi=>{C();x();Object.defineProperty(Hi,"__esModule",{value:!0});Hi._default=Hi.wordlists=void 0;var fu={};Hi.wordlists=fu;var fc;Hi._default=fc;try{Hi._default=fc=iy(),fu.english=fc,fu.EN=fc}catch{}});var uu=R(nt=>{C();x();Object.defineProperty(nt,"__esModule",{value:!0});nt.wordlists=nt.getDefaultWordlist=nt.setDefaultWordlist=nt.validateMnemonic=nt.generateMnemonic=nt.entropyToMnemonic=nt.mnemonicToEntropy=nt.mnemonicToSeedV2=nt.mnemonicToSeed=nt.mnemonicToSeedSync=void 0;var oy=Bo(),ay=$a(),dc=du(),cy=xo(),__=R2(),ks=dc._default,sy="Invalid mnemonic",Vi="Invalid entropy",S_="Invalid mnemonic checksum",fy=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function w_(e,t,r,n,i){let s=(0,ay.pbkdf2)(cy.sha512,e,t,{c:r,dkLen:n});return Promise.resolve(B.Buffer.from(s))}function qo(e){return(e||"").normalize("NFKD")}function dy(e,t,r){for(;e.length<r;)e=t+e;return e}function uy(e){return parseInt(e,2)}function ly(e){return e.map(t=>dy(t.toString(2),"0",8)).join("")}function hy(e){let r=e.length*8/32,n=(0,oy.sha256)(e);return ly(Array.from(n)).slice(0,r)}function by(e){return"mnemonic"+(e||"")}function C_(e,t){let r=B.Buffer.from(qo(e),"utf8"),n=B.Buffer.from(by(qo(t)),"utf8"),i=(0,ay.pbkdf2)(cy.sha512,r,n,{c:2048,dkLen:64});return B.Buffer.from(i)}nt.mnemonicToSeedSync=C_;function x_(e,t){return Promise.resolve().then(()=>{let r=B.Buffer.from(qo(e),"utf8"),n=B.Buffer.from(by(qo(t)),"utf8");return w_(r,n,2048,64,"sha512")})}nt.mnemonicToSeed=x_;async function T_(e,t){let r=e.split(" ").map(s=>ks.indexOf(s)),n=new Uint8Array(new Uint16Array(r).buffer),i=await(0,__.mnemonicToSeed)(n,t);return B.Buffer.from(i)}nt.mnemonicToSeedV2=T_;function py(e,t){if(t=t||ks,!t)throw new Error(fy);let r=qo(e).split(" ");if(r.length%3!==0)throw new Error(sy);let n=r.map(p=>{let b=t.indexOf(p);if(b===-1)throw new Error(sy);return dy(b.toString(2),"0",11)}).join(""),i=Math.floor(n.length/33)*32,s=n.slice(0,i),o=n.slice(i),c=s.match(/(.{1,8})/g).map(uy);if(c.length<16)throw new Error(Vi);if(c.length>32)throw new Error(Vi);if(c.length%4!==0)throw new Error(Vi);let d=B.Buffer.from(c);if(hy(d)!==o)throw new Error(S_);return d.toString("hex")}nt.mnemonicToEntropy=py;function yy(e,t){if(B.Buffer.isBuffer(e)||(e=B.Buffer.from(e,"hex")),t=t||ks,!t)throw new Error(fy);if(e.length<16)throw new TypeError(Vi);if(e.length>32)throw new TypeError(Vi);if(e.length%4!==0)throw new TypeError(Vi);let r=ly(Array.from(e)),n=hy(e),o=(r+n).match(/(.{1,11})/g).map(c=>{let d=uy(c);return t[d]});return t[0]==="\u3042\u3044\u3053\u304F\u3057\u3093"?o.join("\u3000"):o.join(" ")}nt.entropyToMnemonic=yy;function E_(e,t,r){if(e=e||128,e%32!==0)throw new TypeError(Vi);return t=t||oy.randomBytes,yy(t(e/8),r)}nt.generateMnemonic=E_;function P_(e,t){try{py(e,t)}catch{return!1}return!0}nt.validateMnemonic=P_;function A_(e){let t=dc.wordlists[e];if(t)ks=t;else throw new Error('Could not find wordlist for language "'+e+'"')}nt.setDefaultWordlist=A_;function M_(){if(!ks)throw new Error("No Default Wordlist set");return Object.keys(dc.wordlists).filter(e=>e==="JA"||e==="EN"?!1:dc.wordlists[e].every((t,r)=>t===ks[r]))[0]}nt.getDefaultWordlist=M_;var I_=du();Object.defineProperty(nt,"wordlists",{enumerable:!0,get:function(){return I_.wordlists}})});var wy=R(we=>{C();x();var B_=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),O_=we&&we.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),k_=we&&we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&B_(t,e,r);return O_(t,e),t},R_=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(we,"__esModule",{value:!0});we.loadUncompressedPublicKey=we.loadCompressedPublicKey=we.publicKeyConvert=we.publicKeyCreate=we.publicKeyVerify=we.privateKeyVerify=we.loadPublicKey=we.recover=we.verifyWithNoRecovery=we.verify=we.getV=we.sign=void 0;var N_=k_(Os()),Kt=new N_.ec("secp256k1"),gy=Bo(),Rs=R_(Mr());function L_(e,t,r=!0){let n=Kt.sign(Array.from(e),B.Buffer.from(t),{canonical:r});return{signature:n.toBytes(),recovery:n.recoveryParam}}we.sign=L_;function q_(e,t,r,n,i=!0){let s=Ho(n);if(s==null)throw new Error("pubkey error");let o=Kt.keyPair({pub:{x:s.x,y:s.y}}).getPublic();return Kt.getKeyRecoveryParam(e,{r:t,s:r},o,i)}we.getV=q_;function H_(e,t,r,n){let i=my(t,r,e,!0);if(i==null)return!1;let s=vy(n,!0);return s==null?!1:i.equals(s)}we.verify=H_;function V_(e,t,r){let n=Ho(r);if(n==null)throw new Error("pubkey error");let i=Kt.keyPair({pub:{x:n.x,y:n.y}}),s={r:(0,gy.toHex)(t.slice(0,32)),s:(0,gy.toHex)(t.slice(32,64))};return i.verify(e,s)}we.verifyWithNoRecovery=V_;function my(e,t,r,n){let i={r:Array.from(e.slice(0,32)),s:Array.from(e.slice(32,64))},s=new Rs.default(i.r),o=new Rs.default(i.s);if(s.cmp(Kt.curve.n)>=0||o.cmp(Kt.curve.n)>=0||s.isZero()||o.isZero())return null;let c;try{c=Kt.recoverPubKey(Array.from(r),i,t,null)}catch{return null}return B.Buffer.from(c.encode(null,n))}we.recover=my;function Ho(e){let t=B.Buffer.from(e),r=t[0];switch(r){case 2:case 3:return t.length!==33?null:_y(r,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:Sy(r,t.subarray(1,33),t.subarray(33,65));default:return null}}we.loadPublicKey=Ho;function D_(e){let t=new Rs.default(Array.from(e));return t.cmp(Kt.curve.n)<0&&!t.isZero()}we.privateKeyVerify=D_;function K_(e){return Ho(e)!==null}we.publicKeyVerify=K_;function U_(e,t){let r=Kt.keyFromPrivate(Array.from(e),"bytes").getPublic();return B.Buffer.from(r.encode(null,t))}we.publicKeyCreate=U_;function vy(e,t){let r=Ho(e);if(r==null)return null;let n=Kt.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return B.Buffer.from(n.encode(null,t))}we.publicKeyConvert=vy;function _y(e,t){let r=new Rs.default(Array.from(t));if(r.cmp(Kt.curve.p)>=0)return null;let n=r.toRed(Kt.curve.red),i=n.redSqr().redIMul(n).redIAdd(Kt.curve.b).redSqrt();e===3!==i.isOdd()&&(i=i.redNeg());let s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(Kt.curve.b)).isZero()?{x:n,y:i}:null}we.loadCompressedPublicKey=_y;function Sy(e,t,r){let n=new Rs.default(Array.from(t)),i=new Rs.default(Array.from(r));if(n.cmp(Kt.curve.p)>=0||i.cmp(Kt.curve.p)>=0)return null;let s=n.toRed(Kt.curve.red),o=i.toRed(Kt.curve.red);if((e===6||e===7)&&o.isOdd()!==(e===7))return null;let c=s.redSqr().redIMul(s);return o.redSqr().redISub(c.redIAdd(Kt.curve.b)).isZero()?{x:s,y:o}:null}we.loadUncompressedPublicKey=Sy});var By=R(me=>{C();x();var z_=me&&me.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),F_=me&&me.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Cy=me&&me.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&z_(t,e,r);return F_(t,e),t},j_=me&&me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(me,"__esModule",{value:!0});me.ed25519_getDerivedPrivateKey=me.isValidPath=me.ed25519_getRandomPrivateKey=me.ed25519SignTest=me.fromSecret=me.fromSeed=me.privateKeyVerify=me.publicKeyVerify=me.publicKeyCreate=me.verify=me.sign=me.ed25519MulBase=void 0;var xy=Cy(Os()),tn=Bo(),$_=j_(Mr()),G_=uu(),lu=Cy(a0()),W_=xo();lu.utils.sha512Sync=(...e)=>(0,W_.sha512)(lu.utils.concatBytes(...e));var fi=new xy.eddsa("ed25519"),Ty=fi.curve;function X_(e){let t=fi.curve.g;return fi.encodePoint(t.mul(xy.utils.intFromLE(e)))}me.ed25519MulBase=X_;function Ey(e,t){let r=t;r.length==64&&(r=r.slice(0,32));let n=lu.sync.sign(e,r);return Uint8Array.from(n)}me.sign=Ey;function Py(e,t,r){return fi.keyFromPublic(Array.from(r)).verify(Array.from(e),Array.from(t))}me.verify=Py;function uc(e){let t=e;t.length==64&&(t=t.slice(0,32));let n=fi.keyFromSecret(Array.from(t)).getPublic();if(e.length==64&&!Y_(e.slice(32,64),n))throw new Error("invalid public key");return Uint8Array.from(n)}me.publicKeyCreate=uc;function Y_(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Z_(e){let t=fi.decodePoint(Array.from(e));return Ty.validate(t)}me.publicKeyVerify=Z_;function Ay(e){let t=new $_.default(Array.from(e));return t.cmp(Ty.n)<0&&!t.isZero()}me.privateKeyVerify=Ay;function J_(e){let t=fi.keyFromSecret(Array.from(e)),r=Uint8Array.from(t.getPublic());return{publicKey:r,secretKey:(0,tn.concatBytes)(e,r)}}me.fromSeed=J_;function Q_(e){let t=e.slice(0,32),r=fi.keyFromSecret(Array.from(t));return{publicKey:Uint8Array.from(r.getPublic()),secretKey:Uint8Array.from(t)}}me.fromSecret=Q_;function My(e){let t=(0,tn.sha256)("ed25519-test"),r=uc(e),n=Ey(t,e);return Py(t,n,r)}me.ed25519SignTest=My;function e5(e,t){for(;;){let r=(0,tn.randomBytes)(32);if(Ay(r)&&My(r)){let n=uc(r),i=e?(0,tn.concatBytes)(r,n):r;return t==="base58"?(0,tn.toBase58)(i):(0,tn.toHex)(i)}}}me.ed25519_getRandomPrivateKey=e5;var t5=new RegExp("^m(\\/[0-9]+')+$"),Iy=e=>e.replace("'",""),r5=2147483648;function n5(e){let t=(0,tn.hmacSHA512)("ed25519 seed",e),r=t.slice(0,32),n=t.slice(32);return{key:r,chainCode:n}}function i5({key:e,chainCode:t},r){let n=B.Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=B.Buffer.concat([B.Buffer.alloc(1,0),e,n]),s=(0,tn.hmacSHA512)(t,i),o=s.slice(0,32),c=s.slice(32);return{key:o,chainCode:c}}var s5=e=>t5.test(e)?!e.split("/").slice(1).map(Iy).some(isNaN):!1;me.isValidPath=s5;function o5(e,t,r=r5){if(!(0,me.isValidPath)(e))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=n5(t);return e.split("/").slice(1).map(Iy).map(o=>parseInt(o,10)).reduce((o,c)=>i5(o,c+r),{key:n,chainCode:i})}async function a5(e,t,r,n){let i=await(0,G_.mnemonicToSeedV2)(e),s=o5(t,i).key,o=uc(s),c=r?(0,tn.concatBytes)(s,o):s;return n==="base58"?Promise.resolve((0,tn.toBase58)(c)):Promise.resolve((0,tn.toHex)(c))}me.ed25519_getDerivedPrivateKey=a5});var Ny=R(Oe=>{C();x();var c5=Oe&&Oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),f5=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d5=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&c5(t,e,r);return f5(t,e),t},u5=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.loadUncompressedPublicKey=Oe.loadCompressedPublicKey=Oe.publicKeyConvert=Oe.publicKeyCreate=Oe.publicKeyVerify=Oe.privateKeyVerify=Oe.loadPublicKey=Oe.recover=Oe.verify=Oe.sign=void 0;var l5=d5(Os()),vr=new l5.ec("p256"),Ns=u5(Mr());function h5(e,t,r=!0){let n=vr.sign(Array.from(e),B.Buffer.from(t),{canonical:r});return{signature:n.toBytes(),recovery:n.recoveryParam}}Oe.sign=h5;function b5(e,t,r,n){let i=Oy(t,r,e,!1);return i==null?!1:i.equals(n)}Oe.verify=b5;function Oy(e,t,r,n){let i={r:Array.from(e.slice(0,32)),s:Array.from(e.slice(32,64))},s=new Ns.default(i.r),o=new Ns.default(i.s);if(s.cmp(vr.curve.n)>=0||o.cmp(vr.curve.n)>=0||s.isZero()||o.isZero())return null;let c;try{c=vr.recoverPubKey(Array.from(r),i,t,null)}catch{return null}return B.Buffer.from(c.encode(null,n))}Oe.recover=Oy;function hu(e){let t=B.Buffer.from(e),r=t[0];switch(r){case 2:case 3:return t.length!==33?null:ky(r,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:Ry(r,t.subarray(1,33),t.subarray(33,65));default:return null}}Oe.loadPublicKey=hu;function p5(e){let t=new Ns.default(Array.from(e));return t.cmp(vr.curve.n)<0&&!t.isZero()}Oe.privateKeyVerify=p5;function y5(e){return hu(e)!==null}Oe.publicKeyVerify=y5;function g5(e,t){let r=vr.keyFromPrivate(Array.from(e),"bytes").getPublic();return B.Buffer.from(r.encode(null,t))}Oe.publicKeyCreate=g5;function m5(e,t){let r=hu(e);if(r==null)return null;let n=vr.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return B.Buffer.from(n.encode(null,t))}Oe.publicKeyConvert=m5;function ky(e,t){let r=new Ns.default(Array.from(t));if(r.cmp(vr.curve.p)>=0)return null;let n=r.toRed(vr.curve.red),i=n.redSqr().redIMul(n).redIAdd(vr.curve.b).redSqrt();return e===3!==i.isOdd()&&(i=i.redNeg()),{x:n,y:i}}Oe.loadCompressedPublicKey=ky;function Ry(e,t,r){let n=new Ns.default(Array.from(t)),i=new Ns.default(Array.from(r));if(n.cmp(vr.curve.p)>=0||i.cmp(vr.curve.p)>=0)return null;let s=n.toRed(vr.curve.red),o=i.toRed(vr.curve.red);if((e===6||e===7)&&o.isOdd()!==(e===7))return null;let c=s.redSqr().redIMul(s);return o.redSqr().redISub(c.redIAdd(vr.curve.b)).isZero()?{x:s,y:o}:null}Oe.loadUncompressedPublicKey=Ry});var kn=R(de=>{C();x();Object.defineProperty(de,"__esModule",{value:!0});de.validateObject=de.createHmacDrbg=de.bitMask=de.bitSet=de.bitGet=de.bitLen=de.utf8ToBytes=de.equalBytes=de.concatBytes=de.ensureBytes=de.numberToVarBytesBE=de.numberToBytesLE=de.numberToBytesBE=de.bytesToNumberLE=de.bytesToNumberBE=de.hexToBytes=de.hexToNumber=de.numberToHexUnpadded=de.bytesToHex=void 0;var qy=BigInt(0),lc=BigInt(1),v5=BigInt(2),hc=e=>e instanceof Uint8Array,_5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pu(e){if(!hc(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=_5[e[r]];return t}de.bytesToHex=pu;function Hy(e){let t=e.toString(16);return t.length&1?`0${t}`:t}de.numberToHexUnpadded=Hy;function yu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}de.hexToNumber=yu;function bc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");t[r]=s}return t}de.hexToBytes=bc;function S5(e){return yu(pu(e))}de.bytesToNumberBE=S5;function w5(e){if(!hc(e))throw new Error("Uint8Array expected");return yu(pu(Uint8Array.from(e).reverse()))}de.bytesToNumberLE=w5;var C5=(e,t)=>bc(e.toString(16).padStart(t*2,"0"));de.numberToBytesBE=C5;var x5=(e,t)=>(0,de.numberToBytesBE)(e,t).reverse();de.numberToBytesLE=x5;var T5=e=>bc(Hy(e));de.numberToVarBytesBE=T5;function E5(e,t,r){let n;if(typeof t=="string")try{n=bc(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(hc(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}de.ensureBytes=E5;function Vy(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.length,0)),r=0;return e.forEach(n=>{if(!hc(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}de.concatBytes=Vy;function P5(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}de.equalBytes=P5;function A5(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}de.utf8ToBytes=A5;function M5(e){let t;for(t=0;e>qy;e>>=lc,t+=1);return t}de.bitLen=M5;var I5=(e,t)=>e>>BigInt(t)&lc;de.bitGet=I5;var B5=(e,t,r)=>e|(r?lc:qy)<<BigInt(t);de.bitSet=B5;var O5=e=>(v5<<BigInt(e-1))-lc;de.bitMask=O5;var bu=e=>new Uint8Array(e),Ly=e=>Uint8Array.from(e);function k5(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=bu(e),i=bu(e),s=0,o=()=>{n.fill(1),i.fill(0),s=0},c=(...b)=>r(i,n,...b),d=(b=bu())=>{i=c(Ly([0]),b),n=c(),b.length!==0&&(i=c(Ly([1]),b),n=c())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,E=[];for(;b<t;){n=c();let w=n.slice();E.push(w),b+=n.length}return Vy(...E)};return(b,E)=>{o(),d(b);let w;for(;!(w=E(l()));)d();return o(),w}}de.createHmacDrbg=k5;var R5={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function N5(e,t,r={}){let n=(i,s,o)=>{let c=R5[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let d=e[i];if(!(o&&d===void 0)&&!c(d,e))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${s}`)};for(let[i,s]of Object.entries(t))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return e}de.validateObject=N5});var Di=R(ye=>{C();x();Object.defineProperty(ye,"__esModule",{value:!0});ye.hashToPrivateScalar=ye.FpSqrtEven=ye.FpSqrtOdd=ye.Field=ye.nLength=ye.FpIsSquare=ye.FpDiv=ye.FpInvertBatch=ye.FpPow=ye.validateField=ye.isNegativeLE=ye.FpSqrt=ye.tonelliShanks=ye.invert=ye.pow2=ye.pow=ye.mod=void 0;var Rn=kn(),Ut=BigInt(0),$e=BigInt(1),di=BigInt(2),L5=BigInt(3),gu=BigInt(4),Dy=BigInt(5),Ky=BigInt(8),q5=BigInt(9),H5=BigInt(16);function Wr(e,t){let r=e%t;return r>=Ut?r:t+r}ye.mod=Wr;function Uy(e,t,r){if(r<=Ut||t<Ut)throw new Error("Expected power/modulo > 0");if(r===$e)return Ut;let n=$e;for(;t>Ut;)t&$e&&(n=n*e%r),e=e*e%r,t>>=$e;return n}ye.pow=Uy;function V5(e,t,r){let n=e;for(;t-- >Ut;)n*=n,n%=r;return n}ye.pow2=V5;function pc(e,t){if(e===Ut||t<=Ut)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Wr(e,t),n=t,i=Ut,s=$e,o=$e,c=Ut;for(;r!==Ut;){let l=n/r,p=n%r,b=i-o*l,E=s-c*l;n=r,r=p,i=o,s=c,o=b,c=E}if(n!==$e)throw new Error("invert: does not exist");return Wr(i,t)}ye.invert=pc;function zy(e){let t=(e-$e)/di,r,n,i;for(r=e-$e,n=0;r%di===Ut;r/=di,n++);for(i=di;i<e&&Uy(i,t,e)!==e-$e;i++);if(n===1){let o=(e+$e)/gu;return function(d,l){let p=d.pow(l,o);if(!d.eql(d.sqr(p),l))throw new Error("Cannot find square root");return p}}let s=(r+$e)/di;return function(c,d){if(c.pow(d,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let l=n,p=c.pow(c.mul(c.ONE,i),r),b=c.pow(d,s),E=c.pow(d,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let w=1;for(let T=c.sqr(E);w<l&&!c.eql(T,c.ONE);w++)T=c.sqr(T);let P=c.pow(p,$e<<BigInt(l-w-1));p=c.sqr(P),b=c.mul(b,P),E=c.mul(E,p),l=w}return b}}ye.tonelliShanks=zy;function Fy(e){if(e%gu===L5){let t=(e+$e)/gu;return function(n,i){let s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%Ky===Dy){let t=(e-Dy)/Ky;return function(n,i){let s=n.mul(i,di),o=n.pow(s,t),c=n.mul(i,o),d=n.mul(n.mul(c,di),o),l=n.mul(c,n.sub(d,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return e%H5,zy(e)}ye.FpSqrt=Fy;var D5=(e,t)=>(Wr(e,t)&$e)===$e;ye.isNegativeLE=D5;var K5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function U5(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=K5.reduce((n,i)=>(n[i]="function",n),t);return(0,Rn.validateObject)(e,r)}ye.validateField=U5;function jy(e,t,r){if(r<Ut)throw new Error("Expected power > 0");if(r===Ut)return e.ONE;if(r===$e)return t;let n=e.ONE,i=t;for(;r>Ut;)r&$e&&(n=e.mul(n,i)),i=e.sqr(i),r>>=$e;return n}ye.FpPow=jy;function $y(e,t){let r=new Array(t.length),n=t.reduce((s,o,c)=>e.is0(o)?s:(r[c]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,c)=>e.is0(o)?s:(r[c]=e.mul(s,r[c]),e.mul(s,o)),i),r}ye.FpInvertBatch=$y;function z5(e,t,r){return e.mul(t,typeof r=="bigint"?pc(r,e.ORDER):e.inv(r))}ye.FpDiv=z5;function F5(e){let t=(e.ORDER-$e)/di;return r=>{let n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}ye.FpIsSquare=F5;function mu(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}ye.nLength=mu;function j5(e,t,r=!1,n={}){if(e<=Ut)throw new Error(`Expected Fp ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=mu(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=Fy(e),c=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:(0,Rn.bitMask)(i),ZERO:Ut,ONE:$e,create:d=>Wr(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return Ut<=d&&d<e},is0:d=>d===Ut,isOdd:d=>(d&$e)===$e,neg:d=>Wr(-d,e),eql:(d,l)=>d===l,sqr:d=>Wr(d*d,e),add:(d,l)=>Wr(d+l,e),sub:(d,l)=>Wr(d-l,e),mul:(d,l)=>Wr(d*l,e),pow:(d,l)=>jy(c,d,l),div:(d,l)=>Wr(d*pc(l,e),e),sqrN:d=>d*d,addN:(d,l)=>d+l,subN:(d,l)=>d-l,mulN:(d,l)=>d*l,inv:d=>pc(d,e),sqrt:n.sqrt||(d=>o(c,d)),invertBatch:d=>$y(c,d),cmov:(d,l,p)=>p?l:d,toBytes:d=>r?(0,Rn.numberToBytesLE)(d,s):(0,Rn.numberToBytesBE)(d,s),fromBytes:d=>{if(d.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${d.length}`);return r?(0,Rn.bytesToNumberLE)(d):(0,Rn.bytesToNumberBE)(d)}});return Object.freeze(c)}ye.Field=j5;function $5(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}ye.FpSqrtOdd=$5;function G5(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}ye.FpSqrtEven=G5;function W5(e,t,r=!1){e=(0,Rn.ensureBytes)("privateHash",e);let n=e.length,i=mu(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?(0,Rn.bytesToNumberLE)(e):(0,Rn.bytesToNumberBE)(e);return Wr(s,t-$e)+$e}ye.hashToPrivateScalar=W5});var Wy=R(Ls=>{C();x();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.validateBasic=Ls.wNAF=void 0;var Gy=Di(),X5=kn(),Y5=BigInt(0),vu=BigInt(1);function Z5(e,t){let r=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,c=i;for(;s>Y5;)s&vu&&(o=o.add(c)),c=c.double(),s>>=vu;return o},precomputeWindow(i,s){let{windows:o,windowSize:c}=n(s),d=[],l=i,p=l;for(let b=0;b<o;b++){p=l,d.push(p);for(let E=1;E<c;E++)p=p.add(l),d.push(p);l=p.double()}return d},wNAF(i,s,o){let{windows:c,windowSize:d}=n(i),l=e.ZERO,p=e.BASE,b=BigInt(2**i-1),E=2**i,w=BigInt(i);for(let P=0;P<c;P++){let T=P*d,I=Number(o&b);o>>=w,I>d&&(I-=E,o+=vu);let M=T,k=T+Math.abs(I)-1,O=P%2!==0,N=I<0;I===0?p=p.add(r(O,s[M])):l=l.add(r(N,s[k]))}return{p:l,f:p}},wNAFCached(i,s,o,c){let d=i._WINDOW_SIZE||1,l=s.get(i);return l||(l=this.precomputeWindow(i,d),d!==1&&s.set(i,c(l))),this.wNAF(d,l,o)}}}Ls.wNAF=Z5;function J5(e){return(0,Gy.validateField)(e.Fp),(0,X5.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Gy.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}Ls.validateBasic=J5});var gc=R(Ge=>{C();x();var Q5=Ge&&Ge.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),e4=Ge&&Ge.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yy=Ge&&Ge.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Q5(t,e,r);return e4(t,e),t};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.mapToCurveSimpleSWU=Ge.SWUFpSqrtRatio=Ge.weierstrass=Ge.weierstrassPoints=Ge.DER=void 0;var Vo=Yy(Di()),Lt=Yy(kn()),hn=kn(),_u=Wy();function t4(e){let t=(0,_u.validateBasic)(e);Lt.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:r4,hexToBytes:n4}=Lt;Ge.DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=Ge.DER;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:r4(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=Ge.DER,r=typeof e=="string"?n4(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=Ge.DER._parseInt(r.subarray(2)),{d:o,l:c}=Ge.DER._parseInt(s);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){let t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let p=l.toString(16);return p.length&1?`0${p}`:p},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,c=r(s),d=r(o);return`30${r(o+s+4)}02${d}${i}02${c}${n}`}};var rn=BigInt(0),it=BigInt(1),ui=BigInt(2),yc=BigInt(3),Xy=BigInt(4);function Zy(e){let t=t4(e),{Fp:r}=t,n=t.toBytes||((P,T,I)=>{let M=T.toAffine();return Lt.concatBytes(Uint8Array.from([4]),r.toBytes(M.x),r.toBytes(M.y))}),i=t.fromBytes||(P=>{let T=P.subarray(1),I=r.fromBytes(T.subarray(0,r.BYTES)),M=r.fromBytes(T.subarray(r.BYTES,2*r.BYTES));return{x:I,y:M}});function s(P){let{a:T,b:I}=t,M=r.sqr(P),k=r.mul(M,P);return r.add(r.add(k,r.mul(P,T)),I)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(P){return typeof P=="bigint"&&rn<P&&P<t.n}function c(P){if(!o(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(P){let{allowedPrivateKeyLengths:T,nByteLength:I,wrapPrivateKey:M,n:k}=t;if(T&&typeof P!="bigint"){if(P instanceof Uint8Array&&(P=Lt.bytesToHex(P)),typeof P!="string"||!T.includes(P.length))throw new Error("Invalid key");P=P.padStart(I*2,"0")}let O;try{O=typeof P=="bigint"?P:Lt.bytesToNumberBE((0,hn.ensureBytes)("private key",P,I))}catch{throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof P}`)}return M&&(O=Vo.mod(O,k)),c(O),O}let l=new Map;function p(P){if(!(P instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(T,I,M){if(this.px=T,this.py=I,this.pz=M,T==null||!r.isValid(T))throw new Error("x required");if(I==null||!r.isValid(I))throw new Error("y required");if(M==null||!r.isValid(M))throw new Error("z required")}static fromAffine(T){let{x:I,y:M}=T||{};if(!T||!r.isValid(I)||!r.isValid(M))throw new Error("invalid affine point");if(T instanceof b)throw new Error("projective point not allowed");let k=O=>r.eql(O,r.ZERO);return k(I)&&k(M)?b.ZERO:new b(I,M,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){let I=r.invertBatch(T.map(M=>M.pz));return T.map((M,k)=>M.toAffine(I[k])).map(b.fromAffine)}static fromHex(T){let I=b.fromAffine(i((0,hn.ensureBytes)("pointHex",T)));return I.assertValidity(),I}static fromPrivateKey(T){return b.BASE.multiply(d(T))}_setWindowSize(T){this._WINDOW_SIZE=T,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:T,y:I}=this.toAffine();if(!r.isValid(T)||!r.isValid(I))throw new Error("bad point: x or y not FE");let M=r.sqr(I),k=s(T);if(!r.eql(M,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:T}=this.toAffine();if(r.isOdd)return!r.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){p(T);let{px:I,py:M,pz:k}=this,{px:O,py:N,pz:L}=T,q=r.eql(r.mul(I,L),r.mul(O,k)),V=r.eql(r.mul(M,L),r.mul(N,k));return q&&V}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){let{a:T,b:I}=t,M=r.mul(I,yc),{px:k,py:O,pz:N}=this,L=r.ZERO,q=r.ZERO,V=r.ZERO,H=r.mul(k,k),re=r.mul(O,O),S=r.mul(N,N),a=r.mul(k,O);return a=r.add(a,a),V=r.mul(k,N),V=r.add(V,V),L=r.mul(T,V),q=r.mul(M,S),q=r.add(L,q),L=r.sub(re,q),q=r.add(re,q),q=r.mul(L,q),L=r.mul(a,L),V=r.mul(M,V),S=r.mul(T,S),a=r.sub(H,S),a=r.mul(T,a),a=r.add(a,V),V=r.add(H,H),H=r.add(V,H),H=r.add(H,S),H=r.mul(H,a),q=r.add(q,H),S=r.mul(O,N),S=r.add(S,S),H=r.mul(S,a),L=r.sub(L,H),V=r.mul(S,re),V=r.add(V,V),V=r.add(V,V),new b(L,q,V)}add(T){p(T);let{px:I,py:M,pz:k}=this,{px:O,py:N,pz:L}=T,q=r.ZERO,V=r.ZERO,H=r.ZERO,re=t.a,S=r.mul(t.b,yc),a=r.mul(I,O),u=r.mul(M,N),h=r.mul(k,L),g=r.add(I,M),y=r.add(O,N);g=r.mul(g,y),y=r.add(a,u),g=r.sub(g,y),y=r.add(I,k);let _=r.add(O,L);return y=r.mul(y,_),_=r.add(a,h),y=r.sub(y,_),_=r.add(M,k),q=r.add(N,L),_=r.mul(_,q),q=r.add(u,h),_=r.sub(_,q),H=r.mul(re,y),q=r.mul(S,h),H=r.add(q,H),q=r.sub(u,H),H=r.add(u,H),V=r.mul(q,H),u=r.add(a,a),u=r.add(u,a),h=r.mul(re,h),y=r.mul(S,y),u=r.add(u,h),h=r.sub(a,h),h=r.mul(re,h),y=r.add(y,h),a=r.mul(u,y),V=r.add(V,a),a=r.mul(_,y),q=r.mul(g,q),q=r.sub(q,a),a=r.mul(g,u),H=r.mul(_,H),H=r.add(H,a),new b(q,V,H)}subtract(T){return this.add(T.negate())}is0(){return this.equals(b.ZERO)}wNAF(T){return w.wNAFCached(this,l,T,I=>{let M=r.invertBatch(I.map(k=>k.pz));return I.map((k,O)=>k.toAffine(M[O])).map(b.fromAffine)})}multiplyUnsafe(T){let I=b.ZERO;if(T===rn)return I;if(c(T),T===it)return this;let{endo:M}=t;if(!M)return w.unsafeLadder(this,T);let{k1neg:k,k1:O,k2neg:N,k2:L}=M.splitScalar(T),q=I,V=I,H=this;for(;O>rn||L>rn;)O&it&&(q=q.add(H)),L&it&&(V=V.add(H)),H=H.double(),O>>=it,L>>=it;return k&&(q=q.negate()),N&&(V=V.negate()),V=new b(r.mul(V.px,M.beta),V.py,V.pz),q.add(V)}multiply(T){c(T);let I=T,M,k,{endo:O}=t;if(O){let{k1neg:N,k1:L,k2neg:q,k2:V}=O.splitScalar(I),{p:H,f:re}=this.wNAF(L),{p:S,f:a}=this.wNAF(V);H=w.constTimeNegate(N,H),S=w.constTimeNegate(q,S),S=new b(r.mul(S.px,O.beta),S.py,S.pz),M=H.add(S),k=re.add(a)}else{let{p:N,f:L}=this.wNAF(I);M=N,k=L}return b.normalizeZ([M,k])[0]}multiplyAndAddUnsafe(T,I,M){let k=b.BASE,O=(L,q)=>q===rn||q===it||!L.equals(k)?L.multiplyUnsafe(q):L.multiply(q),N=O(this,I).add(O(T,M));return N.is0()?void 0:N}toAffine(T){let{px:I,py:M,pz:k}=this,O=this.is0();T==null&&(T=O?r.ONE:r.inv(k));let N=r.mul(I,T),L=r.mul(M,T),q=r.mul(k,T);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(q,r.ONE))throw new Error("invZ was invalid");return{x:N,y:L}}isTorsionFree(){let{h:T,isTorsionFree:I}=t;if(T===it)return!0;if(I)return I(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:T,clearCofactor:I}=t;return T===it?this:I?I(b,this):this.multiplyUnsafe(t.h)}toRawBytes(T=!0){return this.assertValidity(),n(b,this,T)}toHex(T=!0){return Lt.bytesToHex(this.toRawBytes(T))}}b.BASE=new b(t.Gx,t.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);let E=t.nBitLength,w=(0,_u.wNAF)(b,t.endo?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:o}}Ge.weierstrassPoints=Zy;function i4(e){let t=(0,_u.validateBasic)(e);return Lt.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function s4(e){let t=i4(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(y){return rn<y&&y<r.ORDER}function c(y){return Vo.mod(y,n)}function d(y){return Vo.invert(y,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:p,weierstrassEquation:b,isWithinCurveOrder:E}=Zy({...t,toBytes(y,_,A){let m=_.toAffine(),f=r.toBytes(m.x),v=Lt.concatBytes;return A?v(Uint8Array.from([_.hasEvenY()?2:3]),f):v(Uint8Array.from([4]),f,r.toBytes(m.y))},fromBytes(y){let _=y.length,A=y[0],m=y.subarray(1);if(_===i&&(A===2||A===3)){let f=Lt.bytesToNumberBE(m);if(!o(f))throw new Error("Point is not on curve");let v=b(f),D=r.sqrt(v),K=(D&it)===it;return(A&1)===1!==K&&(D=r.neg(D)),{x:f,y:D}}else if(_===s&&A===4){let f=r.fromBytes(m.subarray(0,r.BYTES)),v=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:f,y:v}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),w=y=>Lt.bytesToHex(Lt.numberToBytesBE(y,t.nByteLength));function P(y){let _=n>>it;return y>_}function T(y){return P(y)?c(-y):y}let I=(y,_,A)=>Lt.bytesToNumberBE(y.slice(_,A));class M{constructor(_,A,m){this.r=_,this.s=A,this.recovery=m,this.assertValidity()}static fromCompact(_){let A=t.nByteLength;return _=(0,hn.ensureBytes)("compactSignature",_,A*2),new M(I(_,0,A),I(_,A,2*A))}static fromDER(_){let{r:A,s:m}=Ge.DER.toSig((0,hn.ensureBytes)("DER",_));return new M(A,m)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new M(this.r,this.s,_)}recoverPublicKey(_){let{r:A,s:m,recovery:f}=this,v=V((0,hn.ensureBytes)("msgHash",_));if(f==null||![0,1,2,3].includes(f))throw new Error("recovery id invalid");let D=f===2||f===3?A+t.n:A;if(D>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(f&1)===0?"02":"03",W=l.fromHex(K+w(D)),ee=d(D),pe=c(-v*ee),Te=c(m*ee),er=l.BASE.multiplyAndAddUnsafe(W,pe,Te);if(!er)throw new Error("point at infinify");return er.assertValidity(),er}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Lt.hexToBytes(this.toDERHex())}toDERHex(){return Ge.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Lt.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}let k={isValidPrivateKey(y){try{return p(y),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let y=t.randomBytes(r.BYTES+8),_=Vo.hashToPrivateScalar(y,n);return Lt.numberToBytesBE(_,t.nByteLength)},precompute(y=8,_=l.BASE){return _._setWindowSize(y),_.multiply(BigInt(3)),_}};function O(y,_=!0){return l.fromPrivateKey(y).toRawBytes(_)}function N(y){let _=y instanceof Uint8Array,A=typeof y=="string",m=(_||A)&&y.length;return _?m===i||m===s:A?m===2*i||m===2*s:y instanceof l}function L(y,_,A=!0){if(N(y))throw new Error("first arg must be private key");if(!N(_))throw new Error("second arg must be public key");return l.fromHex(_).multiply(p(y)).toRawBytes(A)}let q=t.bits2int||function(y){let _=Lt.bytesToNumberBE(y),A=y.length*8-t.nBitLength;return A>0?_>>BigInt(A):_},V=t.bits2int_modN||function(y){return c(q(y))},H=Lt.bitMask(t.nBitLength);function re(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(rn<=y&&y<H))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Lt.numberToBytesBE(y,t.nByteLength)}function S(y,_,A=a){if(["recovered","canonical"].some(Ee=>Ee in A))throw new Error("sign() legacy options not supported");let{hash:m,randomBytes:f}=t,{lowS:v,prehash:D,extraEntropy:K}=A;v==null&&(v=!0),y=(0,hn.ensureBytes)("msgHash",y),D&&(y=(0,hn.ensureBytes)("prehashed msgHash",m(y)));let W=V(y),ee=p(_),pe=[re(ee),re(W)];if(K!=null){let Ee=K===!0?f(r.BYTES):K;pe.push((0,hn.ensureBytes)("extraEntropy",Ee,r.BYTES))}let Te=Lt.concatBytes(...pe),er=W;function Be(Ee){let _n=q(Ee);if(!E(_n))return;let Qe=d(_n),Ae=l.BASE.multiply(_n).toAffine(),Sn=c(Ae.x);if(Sn===rn)return;let ze=c(Qe*c(er+Sn*ee));if(ze===rn)return;let et=(Ae.x===Sn?0:2)|Number(Ae.y&it),lo=ze;return v&&P(ze)&&(lo=T(ze),et^=1),new M(Sn,lo,et)}return{seed:Te,k2sig:Be}}let a={lowS:t.lowS,prehash:!1},u={lowS:t.lowS,prehash:!1};function h(y,_,A=a){let{seed:m,k2sig:f}=S(y,_,A),v=t;return Lt.createHmacDrbg(v.hash.outputLen,v.nByteLength,v.hmac)(m,f)}l.BASE._setWindowSize(8);function g(y,_,A,m=u){let f=y;if(_=(0,hn.ensureBytes)("msgHash",_),A=(0,hn.ensureBytes)("publicKey",A),"strict"in m)throw new Error("options.strict was renamed to lowS");let{lowS:v,prehash:D}=m,K,W;try{if(typeof f=="string"||f instanceof Uint8Array)try{K=M.fromDER(f)}catch(Ae){if(!(Ae instanceof Ge.DER.Err))throw Ae;K=M.fromCompact(f)}else if(typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint"){let{r:Ae,s:Sn}=f;K=new M(Ae,Sn)}else throw new Error("PARSE");W=l.fromHex(A)}catch(Ae){if(Ae.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(v&&K.hasHighS())return!1;D&&(_=t.hash(_));let{r:ee,s:pe}=K,Te=V(_),er=d(pe),Be=c(Te*er),Ee=c(ee*er),_n=l.BASE.multiplyAndAddUnsafe(W,Be,Ee)?.toAffine();return _n?c(_n.x)===ee:!1}return{CURVE:t,getPublicKey:O,getSharedSecret:L,sign:h,verify:g,ProjectivePoint:l,Signature:M,utils:k}}Ge.weierstrass=s4;function Jy(e,t){let r=e.ORDER,n=rn;for(let P=r-it;P%ui===rn;P/=ui)n+=it;let i=n,s=ui<<i-it-it,o=s*ui,c=(r-it)/o,d=(c-it)/ui,l=o-it,p=s,b=e.pow(t,c),E=e.pow(t,(c+it)/ui),w=(P,T)=>{let I=b,M=e.pow(T,l),k=e.sqr(M);k=e.mul(k,T);let O=e.mul(P,k);O=e.pow(O,d),O=e.mul(O,M),M=e.mul(O,T),k=e.mul(O,P);let N=e.mul(k,M);O=e.pow(N,p);let L=e.eql(O,e.ONE);M=e.mul(k,E),O=e.mul(N,I),k=e.cmov(M,k,L),N=e.cmov(O,N,L);for(let q=i;q>it;q--){let V=q-ui;V=ui<<V-it;let H=e.pow(N,V),re=e.eql(H,e.ONE);M=e.mul(k,I),I=e.mul(I,I),H=e.mul(N,I),k=e.cmov(M,k,re),N=e.cmov(H,N,re)}return{isValid:L,value:k}};if(e.ORDER%Xy===yc){let P=(e.ORDER-yc)/Xy,T=e.sqrt(e.neg(t));w=(I,M)=>{let k=e.sqr(M),O=e.mul(I,M);k=e.mul(k,O);let N=e.pow(k,P);N=e.mul(N,O);let L=e.mul(N,T),q=e.mul(e.sqr(N),M),V=e.eql(q,I),H=e.cmov(L,N,V);return{isValid:V,value:H}}}return w}Ge.SWUFpSqrtRatio=Jy;function o4(e,t){if(Vo.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=Jy(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,c,d,l,p,b;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),c=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),c=e.mul(c,t.A),s=e.sqr(o),l=e.sqr(c),d=e.mul(l,t.A),s=e.add(s,d),s=e.mul(s,o),l=e.mul(l,c),d=e.mul(l,t.B),s=e.add(s,d),p=e.mul(i,o);let{isValid:E,value:w}=r(s,l);b=e.mul(i,n),b=e.mul(b,w),p=e.cmov(p,o,E),b=e.cmov(b,w,E);let P=e.isOdd(n)===e.isOdd(b);return b=e.cmov(e.neg(b),b,P),p=e.div(p,c),{x:p,y:b}}}Ge.mapToCurveSimpleSWU=o4});var n1=R(st=>{C();x();Object.defineProperty(st,"__esModule",{value:!0});st.createHasher=st.isogenyMap=st.hash_to_field=st.expand_message_xof=st.expand_message_xmd=st.isNum=st.isBytes=st.strxor=st.i2osp=st.validateDST=void 0;var a4=Di(),nn=kn();function Qy(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return(0,nn.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}st.validateDST=Qy;var c4=nn.bytesToNumberBE;function Nn(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}st.i2osp=Nn;function e1(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}st.strxor=e1;function qs(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}st.isBytes=qs;function mc(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}st.isNum=mc;function t1(e,t,r,n){qs(e),qs(t),mc(r),t.length>255&&(t=n((0,nn.concatBytes)((0,nn.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");let c=(0,nn.concatBytes)(t,Nn(t.length,1)),d=Nn(0,s),l=Nn(r,2),p=new Array(o),b=n((0,nn.concatBytes)(d,e,l,Nn(0,1),c));p[0]=n((0,nn.concatBytes)(b,Nn(1,1),c));for(let w=1;w<=o;w++){let P=[e1(b,p[w-1]),Nn(w+1,1),c];p[w]=n((0,nn.concatBytes)(...P))}return(0,nn.concatBytes)(...p).slice(0,r)}st.expand_message_xmd=t1;function r1(e,t,r,n,i){if(qs(e),qs(t),mc(r),t.length>255){let s=Math.ceil(2*n/8);t=i.create({dkLen:s}).update((0,nn.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(Nn(r,2)).update(t).update(Nn(t.length,1)).digest()}st.expand_message_xof=r1;function Su(e,t,r){(0,nn.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:o,expand:c,DST:d}=r;qs(e),mc(t);let l=Qy(d),p=n.toString(2).length,b=Math.ceil((p+i)/8),E=t*s*b,w;if(c==="xmd")w=t1(e,l,E,o);else if(c==="xof")w=r1(e,l,E,i,o);else if(c==="_internal_pass")w=e;else throw new Error('expand must be "xmd" or "xof"');let P=new Array(t);for(let T=0;T<t;T++){let I=new Array(s);for(let M=0;M<s;M++){let k=b*(M+T*s),O=w.subarray(k,k+b);I[M]=(0,a4.mod)(c4(O),n)}P[T]=I}return P}st.hash_to_field=Su;function f4(e,t){let r=t.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,o,c,d]=r.map(l=>l.reduce((p,b)=>e.add(e.mul(p,n),b)));return n=e.div(s,o),i=e.mul(i,e.div(c,d)),{x:n,y:i}}}st.isogenyMap=f4;function d4(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=Su(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),c=e.fromAffine(t(s[1])),d=o.add(c).clearCofactor();return d.assertValidity(),d},encodeToCurve(n,i){let s=Su(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o}}}st.createHasher=d4});var wu=R(Hs=>{C();x();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.createCurve=Hs.getHash=void 0;var u4=Mo(),i1=tr(),l4=gc();function s1(e){return{hash:e,hmac:(t,...r)=>(0,u4.hmac)(e,t,(0,i1.concatBytes)(...r)),randomBytes:i1.randomBytes}}Hs.getHash=s1;function h4(e,t){let r=n=>(0,l4.weierstrass)({...e,...s1(n)});return Object.freeze({...r(t),create:r})}Hs.createCurve=h4});var p1=R(qt=>{C();x();var b4=qt&&qt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p4=qt&&qt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y4=qt&&qt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&b4(t,e,r);return p4(t,e),t},Cu;Object.defineProperty(qt,"__esModule",{value:!0});qt.encodeToCurve=qt.hashToCurve=qt.schnorr=qt.secp256k1=void 0;var vc=hs(),g4=tr(),Zt=Di(),m4=gc(),dr=kn(),c1=y4(n1()),v4=wu(),Cc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f1=BigInt(1),Sc=BigInt(2),o1=(e,t)=>(e+t/Sc)/t;function d1(e){let t=Cc,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),c=BigInt(44),d=BigInt(88),l=e*e*e%t,p=l*l*e%t,b=(0,Zt.pow2)(p,r,t)*p%t,E=(0,Zt.pow2)(b,r,t)*p%t,w=(0,Zt.pow2)(E,Sc,t)*l%t,P=(0,Zt.pow2)(w,i,t)*w%t,T=(0,Zt.pow2)(P,s,t)*P%t,I=(0,Zt.pow2)(T,c,t)*T%t,M=(0,Zt.pow2)(I,d,t)*I%t,k=(0,Zt.pow2)(M,c,t)*T%t,O=(0,Zt.pow2)(k,r,t)*p%t,N=(0,Zt.pow2)(O,o,t)*P%t,L=(0,Zt.pow2)(N,n,t)*l%t,q=(0,Zt.pow2)(L,Sc,t);if(!li.eql(li.sqr(q),e))throw new Error("Cannot find square root");return q}var li=(0,Zt.Field)(Cc,void 0,void 0,{sqrt:d1});qt.secp256k1=(0,v4.createCurve)({a:BigInt(0),b:BigInt(7),Fp:li,n:_c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=_c,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-f1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),c=o1(s*e,t),d=o1(-n*e,t),l=(0,Zt.mod)(e-c*r-d*i,t),p=(0,Zt.mod)(-c*n-d*s,t),b=l>o,E=p>o;if(b&&(l=t-l),E&&(p=t-p),l>o||p>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:b,k1:l,k2neg:E,k2:p}}}},vc.sha256);var xc=BigInt(0),u1=e=>typeof e=="bigint"&&xc<e&&e<Cc,_4=e=>typeof e=="bigint"&&xc<e&&e<_c,a1={};function wc(e,...t){let r=a1[e];if(r===void 0){let n=(0,vc.sha256)(Uint8Array.from(e,i=>i.charCodeAt(0)));r=(0,dr.concatBytes)(n,n),a1[e]=r}return(0,vc.sha256)((0,dr.concatBytes)(r,...t))}var Pu=e=>e.toRawBytes(!0).slice(1),Tu=e=>(0,dr.numberToBytesBE)(e,32),xu=e=>(0,Zt.mod)(e,Cc),Do=e=>(0,Zt.mod)(e,_c),Au=qt.secp256k1.ProjectivePoint,S4=(e,t,r)=>Au.BASE.multiplyAndAddUnsafe(e,t,r);function Eu(e){let t=qt.secp256k1.utils.normPrivateKeyToScalar(e),r=Au.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:Do(-t),bytes:Pu(r)}}function l1(e){if(!u1(e))throw new Error("bad x: need 0 < x < p");let t=xu(e*e),r=xu(t*e+BigInt(7)),n=d1(r);n%Sc!==xc&&(n=xu(-n));let i=new Au(e,n,f1);return i.assertValidity(),i}function h1(...e){return Do((0,dr.bytesToNumberBE)(wc("BIP0340/challenge",...e)))}function w4(e){return Eu(e).bytes}function C4(e,t,r=(0,g4.randomBytes)(32)){let n=(0,dr.ensureBytes)("message",e),{bytes:i,scalar:s}=Eu(t),o=(0,dr.ensureBytes)("auxRand",r,32),c=Tu(s^(0,dr.bytesToNumberBE)(wc("BIP0340/aux",o))),d=wc("BIP0340/nonce",c,i,n),l=Do((0,dr.bytesToNumberBE)(d));if(l===xc)throw new Error("sign failed: k is zero");let{bytes:p,scalar:b}=Eu(l),E=h1(p,i,n),w=new Uint8Array(64);if(w.set(p,0),w.set(Tu(Do(b+E*s)),32),!b1(w,n,i))throw new Error("sign: Invalid signature produced");return w}function b1(e,t,r){let n=(0,dr.ensureBytes)("signature",e,64),i=(0,dr.ensureBytes)("message",t),s=(0,dr.ensureBytes)("publicKey",r,32);try{let o=l1((0,dr.bytesToNumberBE)(s)),c=(0,dr.bytesToNumberBE)(n.subarray(0,32));if(!u1(c))return!1;let d=(0,dr.bytesToNumberBE)(n.subarray(32,64));if(!_4(d))return!1;let l=h1(Tu(c),Pu(o),i),p=S4(o,d,Do(-l));return!(!p||!p.hasEvenY()||p.toAffine().x!==c)}catch{return!1}}qt.schnorr={getPublicKey:w4,sign:C4,verify:b1,utils:{randomPrivateKey:qt.secp256k1.utils.randomPrivateKey,lift_x:l1,pointToBytes:Pu,numberToBytesBE:dr.numberToBytesBE,bytesToNumberBE:dr.bytesToNumberBE,taggedHash:wc,mod:Zt.mod}};var x4=c1.isogenyMap(li,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),T4=(0,m4.mapToCurveSimpleSWU)(li,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:li.create(BigInt("-11"))});Cu=c1.createHasher(qt.secp256k1.ProjectivePoint,e=>{let{x:t,y:r}=T4(li.create(e[0]));return x4(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:li.ORDER,m:1,k:128,expand:"xmd",hash:vc.sha256}),qt.hashToCurve=Cu.hashToCurve,qt.encodeToCurve=Cu.encodeToCurve});var m1=R(hi=>{C();x();Object.defineProperty(hi,"__esModule",{value:!0});hi.poseidon=hi.splitConstants=hi.validateOpts=void 0;var y1=Di();function g1(e){let{Fp:t}=e;(0,y1.validateField)(t);for(let d of["t","roundsFull","roundsPartial"])if(typeof e[d]!="number"||!Number.isSafeInteger(e[d]))throw new Error(`Poseidon: invalid param ${d}=${e[d]} (${typeof e[d]})`);if(e.reversePartialPowIdx!==void 0&&typeof e.reversePartialPowIdx!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${e.reversePartialPowIdx}`);let r=e.sboxPower;if(r===void 0&&(r=5),typeof r!="number"||!Number.isSafeInteger(r))throw new Error(`Poseidon wrong sboxPower=${r}`);let n=BigInt(r),i=d=>(0,y1.FpPow)(t,d,n);if(r===3?i=d=>t.mul(t.sqrN(d),d):r===5&&(i=d=>t.mul(t.sqrN(t.sqrN(d)),d)),e.roundsFull%2!==0)throw new Error(`Poseidon roundsFull is not even: ${e.roundsFull}`);let s=e.roundsFull+e.roundsPartial;if(!Array.isArray(e.roundConstants)||e.roundConstants.length!==s)throw new Error("Poseidon: wrong round constants");let o=e.roundConstants.map(d=>{if(!Array.isArray(d)||d.length!==e.t)throw new Error(`Poseidon wrong round constants: ${d}`);return d.map(l=>{if(typeof l!="bigint"||!t.isValid(l))throw new Error(`Poseidon wrong round constant=${l}`);return t.create(l)})});if(!Array.isArray(e.mds)||e.mds.length!==e.t)throw new Error("Poseidon: wrong MDS matrix");let c=e.mds.map(d=>{if(!Array.isArray(d)||d.length!==e.t)throw new Error(`Poseidon MDS matrix row: ${d}`);return d.map(l=>{if(typeof l!="bigint")throw new Error(`Poseidon MDS matrix value=${l}`);return t.create(l)})});return Object.freeze({...e,rounds:s,sboxFn:i,roundConstants:o,mds:c})}hi.validateOpts=g1;function E4(e,t){if(typeof t!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(e)||e.length%t)throw new Error("poseidonSplitConstants: wrong rc");let r=[],n=[];for(let i=0;i<e.length;i++)n.push(e[i]),n.length===t&&(r.push(n),n=[]);return r}hi.splitConstants=E4;function P4(e){let{t,Fp:r,rounds:n,sboxFn:i,reversePartialPowIdx:s}=g1(e),o=Math.floor(e.roundsFull/2),c=s?t-1:0,d=(p,b,E)=>(p=p.map((w,P)=>r.add(w,e.roundConstants[E][P])),b?p=p.map(w=>i(w)):p[c]=i(p[c]),p=e.mds.map(w=>w.reduce((P,T,I)=>r.add(P,r.mulN(T,p[I])),r.ZERO)),p),l=function(b){if(!Array.isArray(b)||b.length!==t)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${t})`);b=b.map(w=>{if(typeof w!="bigint")throw new Error(`Poseidon: wrong value=${w} (${typeof w})`);return r.create(w)});let E=0;for(let w=0;w<o;w++)b=d(b,!0,E++);for(let w=0;w<e.roundsPartial;w++)b=d(b,!1,E++);for(let w=0;w<o;w++)b=d(b,!0,E++);if(E!==n)throw new Error(`Poseidon: wrong number of rounds: last round=${E}, total=${n}`);return b};return l.roundConstants=e.roundConstants,l}hi.poseidon=P4});var B1=R(j=>{C();x();var A4=j&&j.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),M4=j&&j.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),I4=j&&j.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&A4(t,e,r);return M4(t,e),t};Object.defineProperty(j,"__esModule",{value:!0});j.poseidonHashMany=j.poseidonHashSingle=j.poseidonHashFunc=j.poseidonHash=j.poseidonSmall=j.poseidonCreate=j.poseidonBasic=j._poseidonMDS=j.Fp251=j.Fp253=j.keccak=j.computeHashOnElements=j.hashChain=j.pedersen=j.getAccountPath=j.ethSigToPrivate=j.getStarkKey=j.grindKey=j.utils=j.Signature=j.ProjectivePoint=j.CURVE=j.verify=j.sign=j.getSharedSecret=j.getPublicKey=j._starkCurve=void 0;var B4=qa(),Bu=hs(),O4=tr(),Ui=Di(),k4=m1(),R4=gc(),ur=I4(kn()),N4=wu(),Ec=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),S1=252;function v1(e){for(;e[0]===0;)e=e.subarray(1);let t=e.length*8-S1,r=ur.bytesToNumberBE(e);return t>0?r>>BigInt(t):r}function w1(e){return typeof e=="string"&&(e=ku(e),e.length&1&&(e="0"+e)),ur.hexToBytes(e)}var zi=(0,R4.weierstrass)({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:(0,Ui.Field)(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:Ec,nBitLength:S1,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...(0,N4.getHash)(Bu.sha256),bits2int:v1,bits2int_modN:e=>{let t=ur.bytesToNumberBE(e).toString(16);return t.length===63&&(e=w1(t+"0")),(0,Ui.mod)(v1(e),Ec)}});j._starkCurve=zi;function Ki(e){return ur.ensureBytes("",typeof e=="string"?w1(e):e)}function Ou(e){return ur.bytesToHex(Ki(e)).padStart(64,"0")}function C1(e,t=!1){return zi.getPublicKey(Ou(e),t)}j.getPublicKey=C1;function L4(e,t){return zi.getSharedSecret(Ou(e),t)}j.getSharedSecret=L4;function q4(e,t,r){return zi.sign(Ki(e),Ou(t),r)}j.sign=q4;function H4(e,t,r){let n=e instanceof x1?e:Ki(e);return zi.verify(n,Ki(t),Ki(r))}j.verify=H4;var{CURVE:V4,ProjectivePoint:Vs,Signature:x1,utils:D4}=zi;j.CURVE=V4;j.ProjectivePoint=Vs;j.Signature=x1;j.utils=D4;function T1(e){return`0x${ur.bytesToHex(e.subarray(1)).replace(/^0+/gm,"")}`}function ku(e){return e.replace(/^0x/i,"")}function K4(e){return`0x${e.toString(16)}`}function E1(e){let t=Ki(e),r=2n**256n,n=r-(0,Ui.mod)(r,Ec);for(let i=0;;i++){let s=Mu(ur.concatBytes(t,ur.numberToVarBytesBE(BigInt(i))));if(s<n)return(0,Ui.mod)(s,Ec).toString(16);if(i===1e5)throw new Error("grindKey is broken: tried 100k vals")}}j.grindKey=E1;function U4(e){return T1(C1(e,!0))}j.getStarkKey=U4;function z4(e){if(e=ku(e),e.length!==130)throw new Error("Wrong ethereum signature");return E1(e.substring(0,64))}j.ethSigToPrivate=z4;var F4=2n**31n-1n,Tc=e=>Number(e&F4);function j4(e,t,r,n){let i=Tc(Mu(e)),s=Tc(Mu(t)),o=ur.hexToNumber(ku(r));return`m/2645'/${i}'/${s}'/${Tc(o)}'/${Tc(o>>31n)}'/${n}`}j.getAccountPath=j4;var Ko=[new Vs(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new Vs(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new Vs(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new Vs(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new Vs(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function P1(e,t){let r=[],n=e;for(let i=0;i<248;i++)r.push(n),n=n.double();n=t;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}var $4=P1(Ko[1],Ko[2]),G4=P1(Ko[3],Ko[4]);function A1(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"){if(!Number.isSafeInteger(e))throw new Error(`Invalid pedersenArg: ${e}`);t=BigInt(e)}else t=ur.bytesToNumberBE(Ki(e));if(!(0n<=t&&t<zi.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${t}`);return t}function _1(e,t,r){let n=A1(t);for(let i=0;i<252;i++){let s=r[i];if(s.equals(e))throw new Error("Same point");(n&1n)!==0n&&(e=e.add(s)),n>>=1n}return e}function Ru(e,t){let r=Ko[0];return r=_1(r,e,$4),r=_1(r,t,G4),T1(r.toRawBytes(!0))}j.pedersen=Ru;function W4(e,t=Ru){if(!Array.isArray(e)||e.length<1)throw new Error("data should be array of at least 1 element");return e.length===1?K4(A1(e[0])):Array.from(e).reverse().reduce((r,n)=>t(n,r))}j.hashChain=W4;var X4=(e,t=Ru)=>[0,...e,e.length].reduce((r,n)=>t(r,n));j.computeHashOnElements=X4;var Y4=ur.bitMask(250),Z4=e=>ur.bytesToNumberBE((0,B4.keccak_256)(e))&Y4;j.keccak=Z4;var Mu=e=>ur.bytesToNumberBE((0,Bu.sha256)(e));j.Fp253=(0,Ui.Field)(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681"));j.Fp251=(0,Ui.Field)(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function Iu(e,t,r){let n=e.fromBytes((0,Bu.sha256)((0,O4.utf8ToBytes)(`${t}${r}`)));return e.create(n)}function M1(e,t,r,n=0){let i=[],s=[];for(let o=0;o<r;o++)i.push(Iu(e,`${t}x`,n*r+o)),s.push(Iu(e,`${t}y`,n*r+o));if(new Set([...i,...s]).size!==2*r)throw new Error("X and Y values are not distinct");return i.map(o=>s.map(c=>e.inv(e.sub(o,c))))}j._poseidonMDS=M1;var J4=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function Nu(e,t){if((0,Ui.validateField)(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);let r=e.rate+e.capacity,n=e.roundsFull+e.roundsPartial,i=[];for(let o=0;o<n;o++){let c=[];for(let d=0;d<r;d++)c.push(Iu(e.Fp,"Hades",r*o+d));i.push(c)}let s=(0,k4.poseidon)({...e,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:i});return s.m=r,s.rate=e.rate,s.capacity=e.capacity,s}j.poseidonBasic=Nu;function Q4(e,t=0){let r=e.rate+e.capacity;if(!Number.isSafeInteger(t))throw new Error(`Wrong mdsAttempt=${t}`);return Nu(e,M1(e.Fp,"HadesMDS",r,t))}j.poseidonCreate=Q4;j.poseidonSmall=Nu({Fp:j.Fp251,rate:2,capacity:1,roundsFull:8,roundsPartial:83},J4);function I1(e,t,r=j.poseidonSmall){return r([e,t,2n])[0]}j.poseidonHash=I1;function eS(e,t,r=j.poseidonSmall){return ur.numberToVarBytesBE(I1(ur.bytesToNumberBE(e),ur.bytesToNumberBE(t),r))}j.poseidonHashFunc=eS;function tS(e,t=j.poseidonSmall){return t([e,0n,1n])[0]}j.poseidonHashSingle=tS;function rS(e,t=j.poseidonSmall){let{m:r,rate:n}=t;if(!Array.isArray(e))throw new Error("bigint array expected in values");let i=Array.from(e);for(i.push(1n);i.length%n!==0;)i.push(0n);let s=new Array(r).fill(0n);for(let o=0;o<i.length;o+=n){for(let c=0;c<n;c++)s[c]+=i[o+c];s=t(s)}return s[0]}j.poseidonHashMany=rS});var R1=R(lr=>{C();x();var nS=lr&&lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iS=lr&&lr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),O1=lr&&lr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&nS(t,e,r);return iS(t,e),t};Object.defineProperty(lr,"__esModule",{value:!0});lr.bytesToHex=lr.hexToBytes=lr.stark=lr.secp256k1=void 0;lr.secp256k1=O1(p1());lr.stark=O1(B1());var k1=kn();Object.defineProperty(lr,"hexToBytes",{enumerable:!0,get:function(){return k1.hexToBytes}});Object.defineProperty(lr,"bytesToHex",{enumerable:!0,get:function(){return k1.bytesToHex}})});var N1=R(hr=>{C();x();var sS=hr&&hr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oS=hr&&hr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Pc=hr&&hr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sS(t,e,r);return oS(t,e),t};Object.defineProperty(hr,"__esModule",{value:!0});hr.schnorr=hr.p256=hr.ed25519=hr.secp256k1=void 0;hr.secp256k1=Pc(wy());hr.ed25519=Pc(By());hr.p256=Pc(Ny());hr.schnorr=Pc(R1())});var Uo=R(Ht=>{C();x();var aS=Ht&&Ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cS=Ht&&Ht.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ds=Ht&&Ht.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&aS(t,e,r);return cS(t,e),t};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.secp256k1=Ht.ed25519=Ht.signUtil=Ht.elliptic=Ht.bip39=Ht.bip32=void 0;Ht.bip32=Ds(ny());Ht.bip39=Ds(uu());Ht.elliptic=Ds(Os());Ht.signUtil=Ds(N1());Ht.ed25519=Ds(a0());Ht.secp256k1=Ds(N2())});var bi=R(le=>{C();x();Object.defineProperty(le,"__esModule",{value:!0});le.publicKeyToAddress=le.privateKeyToString=le.getPublicKey=le.signMessageHashRsv=le.signWithKey=le.makeRandomPrivKey=le.createStacksPrivateKey=le.deserializePublicKey=le.compressPublicKey=le.pubKeyfromPrivKey=le.serializePublicKey=le.publicKeyToString=le.isCompressed=le.publicKeyFromBytes=le.publicKeyFromSignatureRsv=le.publicKeyFromSignatureVrs=le.createStacksPublicKey=le.getAddressFromPublicKey=le.getAddressFromPrivateKey=void 0;var zo=Uo(),L1=Rr(),fS=zo.secp256k1.getPublicKey,q1=zo.secp256k1.Point,H1=zo.secp256k1.Signature,dS=zo.secp256k1.signSync,V1=zo.secp256k1.utils,Jt=Se(),uS=Qi(),Ac=is(),bn=sr(),D1=Ur();V1.hmacSha256Sync=(e,...t)=>{let r=L1.base.hmac.create(L1.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};function lS(e,t=bn.TransactionVersion.Mainnet){let r=qu(e);return K1(r.data,t)}le.getAddressFromPrivateKey=lS;function K1(e,t=bn.TransactionVersion.Mainnet){e=typeof e=="string"?e:(0,Jt.bytesToHex)(e);let r=(0,Ac.addressHashModeToVersion)(bn.AddressHashMode.SerializeP2PKH,t),n=(0,Ac.addressFromVersionHash)(r,(0,D1.hashP2PKH)((0,Jt.hexToBytes)(e)));return(0,Ac.addressToString)(n)}le.getAddressFromPublicKey=K1;function Lu(e){return{type:bn.StacksMessageType.PublicKey,data:(0,Jt.hexToBytes)(e)}}le.createStacksPublicKey=Lu;function U1(e,t,r=bn.PubKeyEncoding.Compressed){let n=(0,Jt.parseRecoverableSignatureVrs)(t.data),i=new H1((0,Jt.hexToBigInt)(n.r),(0,Jt.hexToBigInt)(n.s)),s=q1.fromSignature(e,i,n.recoveryId),o=r===bn.PubKeyEncoding.Compressed;return s.toHex(o)}le.publicKeyFromSignatureVrs=U1;function hS(e,t,r=bn.PubKeyEncoding.Compressed){return U1(e,{...t,data:(0,Jt.signatureRsvToVrs)(t.data)},r)}le.publicKeyFromSignatureRsv=hS;function z1(e){return{type:bn.StacksMessageType.PublicKey,data:e}}le.publicKeyFromBytes=z1;function bS(e){return!(0,Jt.bytesToHex)(e.data).startsWith("04")}le.isCompressed=bS;function pS(e){return(0,Jt.bytesToHex)(e.data)}le.publicKeyToString=pS;function yS(e){return e.data.slice()}le.serializePublicKey=yS;function qu(e){let t=Hu(e),r=fS(t.data.slice(0,32),t.compressed);return Lu((0,Jt.bytesToHex)(r))}le.pubKeyfromPrivKey=qu;function gS(e){let t=typeof e=="string"?e:(0,Jt.bytesToHex)(e),r=q1.fromHex(t).toHex(!0);return Lu(r)}le.compressPublicKey=gS;function mS(e){let t=e.readUInt8(),r=t!==4?bn.COMPRESSED_PUBKEY_LENGTH_BYTES:bn.UNCOMPRESSED_PUBKEY_LENGTH_BYTES;return z1((0,Jt.concatArray)([t,e.readBytes(r)]))}le.deserializePublicKey=mS;function Hu(e){if(e==null||null||e.length==0)throw new Error("invalid key");let t=(0,Jt.privateKeyToBytes)(e);if(t.every(n=>n===0))throw new Error("invalid key");let r=t.length==Jt.PRIVATE_KEY_COMPRESSED_LENGTH;return{data:t,compressed:r}}le.createStacksPrivateKey=Hu;function vS(){return Hu(V1.randomPrivateKey())}le.makeRandomPrivKey=vS;function F1(e,t){let[r,n]=dS(t,e.data.slice(0,32),{canonical:!0,recovered:!0});if(n==null)throw new Error("No signature recoveryId received");let s=(0,Jt.intToHex)(n,1)+H1.fromHex(r).toCompactHex();return(0,Ac.createMessageSignature)(s)}le.signWithKey=F1;function _S({messageHash:e,privateKey:t}){let r=F1(t,e);return{...r,data:(0,Jt.signatureVrsToRsv)(r.data)}}le.signMessageHashRsv=_S;function SS(e){return qu(e.data)}le.getPublicKey=SS;function wS(e){return(0,Jt.bytesToHex)(e.data)}le.privateKeyToString=wS;function CS(e,t){return(0,uS.c32address)(e,(0,Jt.bytesToHex)((0,D1.hash160)(t.data)))}le.publicKeyToAddress=CS});var Us=R(Ue=>{C();x();Object.defineProperty(Ue,"__esModule",{value:!0});Ue.deserializePayload=Ue.serializePayload=Ue.createCoinbasePayload=Ue.createPoisonPayload=Ue.createSmartContractPayload=Ue.createContractCallPayload=Ue.createTokenTransferPayload=Ue.isCoinbasePayload=Ue.isPoisonPayload=Ue.isSmartContractPayload=Ue.isContractCallPayload=Ue.isTokenTransferPayload=void 0;var Fo=Se(),be=sr(),Ks=Ln(),xS=wa(),Mc=xn(),zt=pi();function TS(e){return e.payloadType===be.PayloadType.TokenTransfer}Ue.isTokenTransferPayload=TS;function ES(e){return e.payloadType===be.PayloadType.ContractCall}Ue.isContractCallPayload=ES;function PS(e){return e.payloadType===be.PayloadType.SmartContract}Ue.isSmartContractPayload=PS;function AS(e){return e.payloadType===be.PayloadType.PoisonMicroblock}Ue.isPoisonPayload=AS;function MS(e){return e.payloadType===be.PayloadType.Coinbase}Ue.isCoinbasePayload=MS;function j1(e,t,r){return typeof e=="string"&&(e=(0,xS.principalCV)(e)),typeof r=="string"&&(r=(0,zt.createMemoString)(r)),{type:be.StacksMessageType.Payload,payloadType:be.PayloadType.TokenTransfer,recipient:e,amount:(0,Fo.intToBigInt)(t,!1),memo:r??(0,zt.createMemoString)("")}}Ue.createTokenTransferPayload=j1;function $1(e,t,r,n){return typeof e=="string"&&(e=(0,Mc.createAddress)(e)),typeof t=="string"&&(t=(0,Mc.createLPString)(t)),typeof r=="string"&&(r=(0,Mc.createLPString)(r)),{type:be.StacksMessageType.Payload,payloadType:be.PayloadType.ContractCall,contractAddress:e,contractName:t,functionName:r,functionArgs:n}}Ue.createContractCallPayload=$1;function Vu(e,t,r){return typeof e=="string"&&(e=(0,Mc.createLPString)(e)),typeof t=="string"&&(t=(0,zt.codeBodyString)(t)),typeof r=="number"?{type:be.StacksMessageType.Payload,payloadType:be.PayloadType.VersionedSmartContract,clarityVersion:r,contractName:e,codeBody:t}:{type:be.StacksMessageType.Payload,payloadType:be.PayloadType.SmartContract,contractName:e,codeBody:t}}Ue.createSmartContractPayload=Vu;function G1(){return{type:be.StacksMessageType.Payload,payloadType:be.PayloadType.PoisonMicroblock}}Ue.createPoisonPayload=G1;function Du(e,t){if(e.byteLength!=be.COINBASE_BYTES_LENGTH)throw Error(`Coinbase buffer size must be ${be.COINBASE_BYTES_LENGTH} bytes`);return t!=null?{type:be.StacksMessageType.Payload,payloadType:be.PayloadType.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:be.StacksMessageType.Payload,payloadType:be.PayloadType.Coinbase,coinbaseBytes:e}}Ue.createCoinbasePayload=Du;function IS(e){let t=[];switch(t.push(e.payloadType),e.payloadType){case be.PayloadType.TokenTransfer:t.push((0,Ks.serializeCV)(e.recipient)),t.push((0,Fo.intToBytes)(e.amount,!1,8)),t.push((0,zt.serializeStacksMessage)(e.memo));break;case be.PayloadType.ContractCall:t.push((0,zt.serializeStacksMessage)(e.contractAddress)),t.push((0,zt.serializeStacksMessage)(e.contractName)),t.push((0,zt.serializeStacksMessage)(e.functionName));let r=new Uint8Array(4);(0,Fo.writeUInt32BE)(r,e.functionArgs.length,0),t.push(r),e.functionArgs.forEach(n=>{t.push((0,Ks.serializeCV)(n))});break;case be.PayloadType.SmartContract:t.push((0,zt.serializeStacksMessage)(e.contractName)),t.push((0,zt.serializeStacksMessage)(e.codeBody));break;case be.PayloadType.VersionedSmartContract:t.push(e.clarityVersion),t.push((0,zt.serializeStacksMessage)(e.contractName)),t.push((0,zt.serializeStacksMessage)(e.codeBody));break;case be.PayloadType.PoisonMicroblock:break;case be.PayloadType.Coinbase:t.push(e.coinbaseBytes);break;case be.PayloadType.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push((0,Ks.serializeCV)(e.recipient));break}return(0,Fo.concatArray)(t)}Ue.serializePayload=IS;function BS(e){switch(e.readUInt8Enum(be.PayloadType,r=>{throw new Error(`Cannot recognize PayloadType: ${r}`)})){case be.PayloadType.TokenTransfer:let r=(0,Ks.deserializeCV)(e),n=(0,Fo.intToBigInt)(e.readBytes(8),!1),i=(0,zt.deserializeMemoString)(e);return j1(r,n,i);case be.PayloadType.ContractCall:let s=(0,zt.deserializeAddress)(e),o=(0,zt.deserializeLPString)(e),c=(0,zt.deserializeLPString)(e),d=[],l=e.readUInt32BE();for(let T=0;T<l;T++){let I=(0,Ks.deserializeCV)(e);d.push(I)}return $1(s,o,c,d);case be.PayloadType.SmartContract:let p=(0,zt.deserializeLPString)(e),b=(0,zt.deserializeLPString)(e,4,1e5);return Vu(p,b);case be.PayloadType.VersionedSmartContract:{let T=e.readUInt8Enum(be.ClarityVersion,k=>{throw new Error(`Cannot recognize ClarityVersion: ${k}`)}),I=(0,zt.deserializeLPString)(e),M=(0,zt.deserializeLPString)(e,4,1e5);return Vu(I,M,T)}case be.PayloadType.PoisonMicroblock:return G1();case be.PayloadType.Coinbase:let E=e.readBytes(be.COINBASE_BYTES_LENGTH);return Du(E);case be.PayloadType.CoinbaseToAltRecipient:let w=e.readBytes(be.COINBASE_BYTES_LENGTH),P=(0,Ks.deserializeCV)(e);return Du(w,P)}}Ue.deserializePayload=BS});var qn=R(Or=>{C();x();Object.defineProperty(Or,"__esModule",{value:!0});Or.VerificationError=Or.SigningError=Or.NotImplementedError=Or.NoEstimateAvailableError=Or.DeserializationError=Or.SerializationError=void 0;var yi=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Ku=class extends yi{constructor(t){super(t)}};Or.SerializationError=Ku;var Uu=class extends yi{constructor(t){super(t)}};Or.DeserializationError=Uu;var zu=class extends yi{constructor(t){super(t)}};Or.NoEstimateAvailableError=zu;var Fu=class extends yi{constructor(t){super(t)}};Or.NotImplementedError=Fu;var ju=class extends yi{constructor(t){super(t)}};Or.SigningError=ju;var $u=class extends yi{constructor(t){super(t)}};Or.VerificationError=$u});var Go=R(_r=>{C();x();Object.defineProperty(_r,"__esModule",{value:!0});_r.serializeTransactionAuthField=_r.serializeMessageSignature=_r.deserializeTransactionAuthField=_r.createTransactionAuthField=_r.deserializeMessageSignature=_r.AuthFieldType=void 0;var OS=qn(),yn=sr(),$o=bi(),kS=is(),Wu=Se(),pn;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(pn=_r.AuthFieldType||(_r.AuthFieldType={}));function Gu(e){return(0,kS.createMessageSignature)((0,Wu.bytesToHex)(e.readBytes(yn.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)))}_r.deserializeMessageSignature=Gu;function jo(e,t){return{pubKeyEncoding:e,type:yn.StacksMessageType.TransactionAuthField,contents:t}}_r.createTransactionAuthField=jo;function RS(e){let t=e.readUInt8Enum(pn,r=>{throw new OS.DeserializationError(`Could not read ${r} as AuthFieldType`)});switch(t){case pn.PublicKeyCompressed:return jo(yn.PubKeyEncoding.Compressed,(0,$o.deserializePublicKey)(e));case pn.PublicKeyUncompressed:return jo(yn.PubKeyEncoding.Uncompressed,(0,$o.deserializePublicKey)(e));case pn.SignatureCompressed:return jo(yn.PubKeyEncoding.Compressed,Gu(e));case pn.SignatureUncompressed:return jo(yn.PubKeyEncoding.Uncompressed,Gu(e));default:throw new Error(`Unknown auth field type: ${JSON.stringify(t)}`)}}_r.deserializeTransactionAuthField=RS;function W1(e){return(0,Wu.hexToBytes)(e.data)}_r.serializeMessageSignature=W1;function NS(e){let t=[];switch(e.contents.type){case yn.StacksMessageType.PublicKey:e.pubKeyEncoding==yn.PubKeyEncoding.Compressed?(t.push(pn.PublicKeyCompressed),t.push((0,$o.serializePublicKey)(e.contents))):(t.push(pn.PublicKeyUncompressed),t.push((0,$o.serializePublicKey)((0,$o.compressPublicKey)(e.contents.data))));break;case yn.StacksMessageType.MessageSignature:e.pubKeyEncoding==yn.PubKeyEncoding.Compressed?t.push(pn.SignatureCompressed):t.push(pn.SignatureUncompressed),t.push(W1(e.contents));break}return(0,Wu.concatArray)(t)}_r.serializeTransactionAuthField=NS});var pi=R(se=>{C();x();Object.defineProperty(se,"__esModule",{value:!0});se.deserializePostCondition=se.serializePostCondition=se.deserializeLPList=se.serializeLPList=se.createLPList=se.deserializeAssetInfo=se.serializeAssetInfo=se.deserializeMemoString=se.serializeMemoString=se.createMemoString=se.codeBodyString=se.deserializeLPString=se.serializeLPString=se.deserializePrincipal=se.serializePrincipal=se.deserializeAddress=se.serializeAddress=se.addressFromPublicKeys=se.addressFromHashMode=se.createEmptyAddress=se.deserializeStacksMessage=se.serializeStacksMessage=void 0;var ke=Se(),F=sr(),$s=bi(),zs=Ur(),X1=xn(),Y1=Us(),Fs=qn(),Ic=Go(),js=is(),Z1=Ln();function J1(e){switch(e.type){case F.StacksMessageType.Address:return Bc(e);case F.StacksMessageType.Principal:return Xu(e);case F.StacksMessageType.LengthPrefixedString:return Wo(e);case F.StacksMessageType.MemoString:return Q1(e);case F.StacksMessageType.AssetInfo:return Ju(e);case F.StacksMessageType.PostCondition:return ng(e);case F.StacksMessageType.PublicKey:return(0,$s.serializePublicKey)(e);case F.StacksMessageType.LengthPrefixedList:return tg(e);case F.StacksMessageType.Payload:return(0,Y1.serializePayload)(e);case F.StacksMessageType.TransactionAuthField:return(0,Ic.serializeTransactionAuthField)(e);case F.StacksMessageType.MessageSignature:return(0,Ic.serializeMessageSignature)(e)}}se.serializeStacksMessage=J1;function LS(e,t,r){switch(t){case F.StacksMessageType.Address:return Yo(e);case F.StacksMessageType.Principal:return Yu(e);case F.StacksMessageType.LengthPrefixedString:return Gs(e);case F.StacksMessageType.MemoString:return Zu(e);case F.StacksMessageType.AssetInfo:return Xo(e);case F.StacksMessageType.PostCondition:return Qu(e);case F.StacksMessageType.PublicKey:return(0,$s.deserializePublicKey)(e);case F.StacksMessageType.Payload:return(0,Y1.deserializePayload)(e);case F.StacksMessageType.LengthPrefixedList:if(!r)throw new Fs.DeserializationError("No List Type specified");return rg(e,r);case F.StacksMessageType.MessageSignature:return(0,Ic.deserializeMessageSignature)(e);default:throw new Error("Could not recognize StacksMessageType")}}se.deserializeStacksMessage=LS;function qS(){return{type:F.StacksMessageType.Address,version:F.AddressVersion.MainnetSingleSig,hash160:"0".repeat(40)}}se.createEmptyAddress=qS;function HS(e,t,r){let n=(0,js.addressHashModeToVersion)(e,t);return(0,js.addressFromVersionHash)(n,r)}se.addressFromHashMode=HS;function VS(e,t,r,n){if(n.length===0)throw Error("Invalid number of public keys");if((t===F.AddressHashMode.SerializeP2PKH||t===F.AddressHashMode.SerializeP2WPKH)&&(n.length!==1||r!==1))throw Error("Invalid number of public keys or signatures");if(t===F.AddressHashMode.SerializeP2WPKH||t===F.AddressHashMode.SerializeP2WSH){for(let i=0;i<n.length;i++)if(!(0,$s.isCompressed)(n[i]))throw Error("Public keys must be compressed for segwit")}switch(t){case F.AddressHashMode.SerializeP2PKH:return(0,js.addressFromVersionHash)(e,(0,zs.hashP2PKH)(n[0].data));case F.AddressHashMode.SerializeP2WPKH:return(0,js.addressFromVersionHash)(e,(0,zs.hashP2WPKH)(n[0].data));case F.AddressHashMode.SerializeP2SH:return(0,js.addressFromVersionHash)(e,(0,zs.hashP2SH)(r,n.map($s.serializePublicKey)));case F.AddressHashMode.SerializeP2WSH:return(0,js.addressFromVersionHash)(e,(0,zs.hashP2WSH)(r,n.map($s.serializePublicKey)))}}se.addressFromPublicKeys=VS;function Bc(e){let t=[];return t.push((0,ke.hexToBytes)((0,ke.intToHex)(e.version,1))),t.push((0,ke.hexToBytes)(e.hash160)),(0,ke.concatArray)(t)}se.serializeAddress=Bc;function Yo(e){let t=(0,ke.hexToInt)((0,ke.bytesToHex)(e.readBytes(1))),r=(0,ke.bytesToHex)(e.readBytes(20));return{type:F.StacksMessageType.Address,version:t,hash160:r}}se.deserializeAddress=Yo;function Xu(e){let t=[];return t.push(e.prefix),t.push(Bc(e.address)),e.prefix===F.PostConditionPrincipalID.Contract&&t.push(Wo(e.contractName)),(0,ke.concatArray)(t)}se.serializePrincipal=Xu;function Yu(e){let t=e.readUInt8Enum(F.PostConditionPrincipalID,i=>{throw new Fs.DeserializationError(`Unexpected Principal payload type: ${i}`)}),r=Yo(e);if(t===F.PostConditionPrincipalID.Standard)return{type:F.StacksMessageType.Principal,prefix:t,address:r};let n=Gs(e);return{type:F.StacksMessageType.Principal,prefix:t,address:r,contractName:n}}se.deserializePrincipal=Yu;function Wo(e){let t=[],r=(0,ke.utf8ToBytes)(e.content),n=r.byteLength;return t.push((0,ke.hexToBytes)((0,ke.intToHex)(n,e.lengthPrefixBytes))),t.push(r),(0,ke.concatArray)(t)}se.serializeLPString=Wo;function Gs(e,t,r){t=t||1;let n=(0,ke.hexToInt)((0,ke.bytesToHex)(e.readBytes(t))),i=(0,ke.bytesToUtf8)(e.readBytes(n));return(0,X1.createLPString)(i,t,r??128)}se.deserializeLPString=Gs;function DS(e){return(0,X1.createLPString)(e,4,1e5)}se.codeBodyString=DS;function KS(e){if(e&&(0,zs.exceedsMaxLengthBytes)(e,F.MEMO_MAX_LENGTH_BYTES))throw new Error(`Memo exceeds maximum length of ${F.MEMO_MAX_LENGTH_BYTES} bytes`);return{type:F.StacksMessageType.MemoString,content:e}}se.createMemoString=KS;function Q1(e){let t=[],r=(0,ke.utf8ToBytes)(e.content),n=(0,zs.rightPadHexToLength)((0,ke.bytesToHex)(r),F.MEMO_MAX_LENGTH_BYTES*2);return t.push((0,ke.hexToBytes)(n)),(0,ke.concatArray)(t)}se.serializeMemoString=Q1;function Zu(e){let t=(0,ke.bytesToUtf8)(e.readBytes(F.MEMO_MAX_LENGTH_BYTES));return{type:F.StacksMessageType.MemoString,content:t}}se.deserializeMemoString=Zu;function Ju(e){let t=[];return t.push(Bc(e.address)),t.push(Wo(e.contractName)),t.push(Wo(e.assetName)),(0,ke.concatArray)(t)}se.serializeAssetInfo=Ju;function Xo(e){return{type:F.StacksMessageType.AssetInfo,address:Yo(e),contractName:Gs(e),assetName:Gs(e)}}se.deserializeAssetInfo=Xo;function eg(e,t){return{type:F.StacksMessageType.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}se.createLPList=eg;function tg(e){let t=e.values,r=[];r.push((0,ke.hexToBytes)((0,ke.intToHex)(t.length,e.lengthPrefixBytes)));for(let n of t)r.push(J1(n));return(0,ke.concatArray)(r)}se.serializeLPList=tg;function rg(e,t,r){let n=(0,ke.hexToInt)((0,ke.bytesToHex)(e.readBytes(r||4))),i=[];for(let s=0;s<n;s++)switch(t){case F.StacksMessageType.Address:i.push(Yo(e));break;case F.StacksMessageType.LengthPrefixedString:i.push(Gs(e));break;case F.StacksMessageType.MemoString:i.push(Zu(e));break;case F.StacksMessageType.AssetInfo:i.push(Xo(e));break;case F.StacksMessageType.PostCondition:i.push(Qu(e));break;case F.StacksMessageType.PublicKey:i.push((0,$s.deserializePublicKey)(e));break;case F.StacksMessageType.TransactionAuthField:i.push((0,Ic.deserializeTransactionAuthField)(e));break}return eg(i,r)}se.deserializeLPList=rg;function ng(e){let t=[];return t.push(e.conditionType),t.push(Xu(e.principal)),(e.conditionType===F.PostConditionType.Fungible||e.conditionType===F.PostConditionType.NonFungible)&&t.push(Ju(e.assetInfo)),e.conditionType===F.PostConditionType.NonFungible&&t.push((0,Z1.serializeCV)(e.assetName)),t.push(e.conditionCode),(e.conditionType===F.PostConditionType.STX||e.conditionType===F.PostConditionType.Fungible)&&t.push((0,ke.intToBytes)(e.amount,!1,8)),(0,ke.concatArray)(t)}se.serializePostCondition=ng;function Qu(e){let t=e.readUInt8Enum(F.PostConditionType,o=>{throw new Fs.DeserializationError(`Could not read ${o} as PostConditionType`)}),r=Yu(e),n,i,s;switch(t){case F.PostConditionType.STX:return n=e.readUInt8Enum(F.FungibleConditionCode,c=>{throw new Fs.DeserializationError(`Could not read ${c} as FungibleConditionCode`)}),s=BigInt(`0x${(0,ke.bytesToHex)(e.readBytes(8))}`),{type:F.StacksMessageType.PostCondition,conditionType:F.PostConditionType.STX,principal:r,conditionCode:n,amount:s};case F.PostConditionType.Fungible:return i=Xo(e),n=e.readUInt8Enum(F.FungibleConditionCode,c=>{throw new Fs.DeserializationError(`Could not read ${c} as FungibleConditionCode`)}),s=BigInt(`0x${(0,ke.bytesToHex)(e.readBytes(8))}`),{type:F.StacksMessageType.PostCondition,conditionType:F.PostConditionType.Fungible,principal:r,conditionCode:n,amount:s,assetInfo:i};case F.PostConditionType.NonFungible:i=Xo(e);let o=(0,Z1.deserializeCV)(e);return n=e.readUInt8Enum(F.NonFungibleConditionCode,c=>{throw new Fs.DeserializationError(`Could not read ${c} as FungibleConditionCode`)}),{type:F.StacksMessageType.PostCondition,conditionType:F.PostConditionType.NonFungible,principal:r,conditionCode:n,assetInfo:i,assetName:o}}}se.deserializePostCondition=Qu});var sg=R(kc=>{C();x();Object.defineProperty(kc,"__esModule",{value:!0});kc.serializeCV=void 0;var Sr=Se(),Oc=pi(),US=xn(),br=Nr(),zS=qn(),el=sr();function gn(e,t){return(0,Sr.concatArray)([e,t])}function FS(e){return new Uint8Array([e.type])}function jS(e){return e.type===br.ClarityType.OptionalNone?new Uint8Array([e.type]):gn(e.type,Zo(e.value))}function $S(e){let t=new Uint8Array(4);return(0,Sr.writeUInt32BE)(t,e.buffer.length,0),gn(e.type,(0,Sr.concatBytes)(t,e.buffer))}function GS(e){let t=(0,Sr.bigIntToBytes)((0,Sr.toTwos)(e.value,BigInt(el.CLARITY_INT_SIZE)),el.CLARITY_INT_BYTE_SIZE);return gn(e.type,t)}function WS(e){let t=(0,Sr.bigIntToBytes)(e.value,el.CLARITY_INT_BYTE_SIZE);return gn(e.type,t)}function XS(e){return gn(e.type,(0,Oc.serializeAddress)(e.address))}function YS(e){return gn(e.type,(0,Sr.concatBytes)((0,Oc.serializeAddress)(e.address),(0,Oc.serializeLPString)(e.contractName)))}function ZS(e){return gn(e.type,Zo(e.value))}function JS(e){let t=[],r=new Uint8Array(4);(0,Sr.writeUInt32BE)(r,e.list.length,0),t.push(r);for(let n of e.list){let i=Zo(n);t.push(i)}return gn(e.type,(0,Sr.concatArray)(t))}function QS(e){let t=[],r=new Uint8Array(4);(0,Sr.writeUInt32BE)(r,Object.keys(e.data).length,0),t.push(r);let n=Object.keys(e.data).sort((i,s)=>i.localeCompare(s));for(let i of n){let s=(0,US.createLPString)(i);t.push((0,Oc.serializeLPString)(s));let o=Zo(e.data[i]);t.push(o)}return gn(e.type,(0,Sr.concatArray)(t))}function ig(e,t){let r=[],n=t=="ascii"?(0,Sr.asciiToBytes)(e.data):(0,Sr.utf8ToBytes)(e.data),i=new Uint8Array(4);return(0,Sr.writeUInt32BE)(i,n.length,0),r.push(i),r.push(n),gn(e.type,(0,Sr.concatArray)(r))}function e7(e){return ig(e,"ascii")}function t7(e){return ig(e,"utf8")}function Zo(e){switch(e.type){case br.ClarityType.BoolTrue:case br.ClarityType.BoolFalse:return FS(e);case br.ClarityType.OptionalNone:case br.ClarityType.OptionalSome:return jS(e);case br.ClarityType.Buffer:return $S(e);case br.ClarityType.UInt:return WS(e);case br.ClarityType.Int:return GS(e);case br.ClarityType.PrincipalStandard:return XS(e);case br.ClarityType.PrincipalContract:return YS(e);case br.ClarityType.ResponseOk:case br.ClarityType.ResponseErr:return ZS(e);case br.ClarityType.List:return JS(e);case br.ClarityType.Tuple:return QS(e);case br.ClarityType.StringASCII:return e7(e);case br.ClarityType.StringUTF8:return t7(e);default:throw new zS.SerializationError("Unable to serialize. Invalid Clarity Value.")}}kc.serializeCV=Zo});var Rc=R(Ws=>{C();x();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.BytesReader=Ws.isEnum=void 0;var Jo=Se();function r7(e){let t=Object.values(e).filter(n=>typeof n=="number"),r=new Set(t);return n=>r.has(n)}var og=new Map;function rl(e,t){let r=og.get(e);if(r!==void 0)return r(t);let n=r7(e);return og.set(e,n),rl(e,t)}Ws.isEnum=rl;var tl=class{constructor(t){this.consumed=0,this.source=t}readBytes(t){let r=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,r}readUInt32BE(){return(0,Jo.readUInt32BE)(this.readBytes(4),0)}readUInt8(){return(0,Jo.readUInt8)(this.readBytes(1),0)}readUInt16BE(){return(0,Jo.readUInt16BE)(this.readBytes(2),0)}readBigUIntLE(t){let r=this.readBytes(t).slice().reverse(),n=(0,Jo.bytesToHex)(r);return BigInt(`0x${n}`)}readBigUIntBE(t){let r=this.readBytes(t),n=(0,Jo.bytesToHex)(r);return BigInt(`0x${n}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,r){let n=this.readUInt8();if(rl(t,n))return n;throw r(n)}};Ws.BytesReader=tl});var fg=R(sl=>{C();x();Object.defineProperty(sl,"__esModule",{value:!0});var Re=Ln(),ag=Rc(),Nc=pi(),nl=qn(),cg=Ea(),il=Se();function Xs(e){let t;if(typeof e=="string"){let n=e.slice(0,2).toLowerCase()==="0x";t=new ag.BytesReader((0,il.hexToBytes)(n?e.slice(2):e))}else e instanceof Uint8Array?t=new ag.BytesReader(e):t=e;switch(t.readUInt8Enum(Re.ClarityType,n=>{throw new nl.DeserializationError(`Cannot recognize Clarity Type: ${n}`)})){case Re.ClarityType.Int:return(0,Re.intCV)(t.readBytes(16));case Re.ClarityType.UInt:return(0,Re.uintCV)(t.readBytes(16));case Re.ClarityType.Buffer:let n=t.readUInt32BE();return(0,Re.bufferCV)(t.readBytes(n));case Re.ClarityType.BoolTrue:return(0,Re.trueCV)();case Re.ClarityType.BoolFalse:return(0,Re.falseCV)();case Re.ClarityType.PrincipalStandard:let i=(0,Nc.deserializeAddress)(t);return(0,Re.standardPrincipalCVFromAddress)(i);case Re.ClarityType.PrincipalContract:let s=(0,Nc.deserializeAddress)(t),o=(0,Nc.deserializeLPString)(t);return(0,Re.contractPrincipalCVFromAddress)(s,o);case Re.ClarityType.ResponseOk:return(0,Re.responseOkCV)(Xs(t));case Re.ClarityType.ResponseErr:return(0,Re.responseErrorCV)(Xs(t));case Re.ClarityType.OptionalNone:return(0,Re.noneCV)();case Re.ClarityType.OptionalSome:return(0,Re.someCV)(Xs(t));case Re.ClarityType.List:let c=t.readUInt32BE(),d=[];for(let T=0;T<c;T++)d.push(Xs(t));return(0,Re.listCV)(d);case Re.ClarityType.Tuple:let l=t.readUInt32BE(),p={};for(let T=0;T<l;T++){let I=(0,Nc.deserializeLPString)(t).content;if(I===void 0)throw new nl.DeserializationError('"content" is undefined');p[I]=Xs(t)}return(0,Re.tupleCV)(p);case Re.ClarityType.StringASCII:let b=t.readUInt32BE(),E=(0,il.bytesToAscii)(t.readBytes(b));return(0,cg.stringAsciiCV)(E);case Re.ClarityType.StringUTF8:let w=t.readUInt32BE(),P=(0,il.bytesToUtf8)(t.readBytes(w));return(0,cg.stringUtf8CV)(P);default:throw new nl.DeserializationError("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}sl.default=Xs});var Ln=R($=>{C();x();var n7=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($,"__esModule",{value:!0});$.principalToString=$.cvToValue=$.cvToJSON=$.cvToString=$.deserializeCV=$.serializeCV=$.getCVTypeString=$.stringUtf8CV=$.stringAsciiCV=$.stringCV=$.tupleCV=$.listCV=$.contractPrincipalCVFromStandard=$.contractPrincipalCVFromAddress=$.contractPrincipalCV=$.standardPrincipalCVFromAddress=$.standardPrincipalCV=$.principalCV=$.responseErrorCV=$.responseOkCV=$.optionalCVOf=$.someCV=$.noneCV=$.bufferCVFromString=$.bufferCV=$.uintCV=$.intCV=$.falseCV=$.trueCV=$.boolCV=$.ClarityType=void 0;var Lc=Rh();Object.defineProperty($,"getCVTypeString",{enumerable:!0,get:function(){return Lc.getCVTypeString}});Object.defineProperty($,"cvToString",{enumerable:!0,get:function(){return Lc.cvToString}});Object.defineProperty($,"cvToJSON",{enumerable:!0,get:function(){return Lc.cvToJSON}});Object.defineProperty($,"cvToValue",{enumerable:!0,get:function(){return Lc.cvToValue}});var i7=Nr();Object.defineProperty($,"ClarityType",{enumerable:!0,get:function(){return i7.ClarityType}});var ol=Hh();Object.defineProperty($,"trueCV",{enumerable:!0,get:function(){return ol.trueCV}});Object.defineProperty($,"falseCV",{enumerable:!0,get:function(){return ol.falseCV}});Object.defineProperty($,"boolCV",{enumerable:!0,get:function(){return ol.boolCV}});var dg=Fh();Object.defineProperty($,"intCV",{enumerable:!0,get:function(){return dg.intCV}});Object.defineProperty($,"uintCV",{enumerable:!0,get:function(){return dg.uintCV}});var ug=$h();Object.defineProperty($,"bufferCV",{enumerable:!0,get:function(){return ug.bufferCV}});Object.defineProperty($,"bufferCVFromString",{enumerable:!0,get:function(){return ug.bufferCVFromString}});var al=Yh();Object.defineProperty($,"noneCV",{enumerable:!0,get:function(){return al.noneCV}});Object.defineProperty($,"someCV",{enumerable:!0,get:function(){return al.someCV}});Object.defineProperty($,"optionalCVOf",{enumerable:!0,get:function(){return al.optionalCVOf}});var lg=Jh();Object.defineProperty($,"responseOkCV",{enumerable:!0,get:function(){return lg.responseOkCV}});Object.defineProperty($,"responseErrorCV",{enumerable:!0,get:function(){return lg.responseErrorCV}});var Fi=wa();Object.defineProperty($,"standardPrincipalCV",{enumerable:!0,get:function(){return Fi.standardPrincipalCV}});Object.defineProperty($,"contractPrincipalCV",{enumerable:!0,get:function(){return Fi.contractPrincipalCV}});Object.defineProperty($,"standardPrincipalCVFromAddress",{enumerable:!0,get:function(){return Fi.standardPrincipalCVFromAddress}});Object.defineProperty($,"contractPrincipalCVFromAddress",{enumerable:!0,get:function(){return Fi.contractPrincipalCVFromAddress}});Object.defineProperty($,"contractPrincipalCVFromStandard",{enumerable:!0,get:function(){return Fi.contractPrincipalCVFromStandard}});Object.defineProperty($,"principalCV",{enumerable:!0,get:function(){return Fi.principalCV}});Object.defineProperty($,"principalToString",{enumerable:!0,get:function(){return Fi.principalToString}});var s7=Qh();Object.defineProperty($,"listCV",{enumerable:!0,get:function(){return s7.listCV}});var o7=eb();Object.defineProperty($,"tupleCV",{enumerable:!0,get:function(){return o7.tupleCV}});var cl=Ea();Object.defineProperty($,"stringUtf8CV",{enumerable:!0,get:function(){return cl.stringUtf8CV}});Object.defineProperty($,"stringAsciiCV",{enumerable:!0,get:function(){return cl.stringAsciiCV}});Object.defineProperty($,"stringCV",{enumerable:!0,get:function(){return cl.stringCV}});var a7=sg();Object.defineProperty($,"serializeCV",{enumerable:!0,get:function(){return a7.serializeCV}});var c7=n7(fg());$.deserializeCV=c7.default});var Ur=R(Q=>{C();x();var f7=Q&&Q.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q,"__esModule",{value:!0});Q.addHex=Q.postConditionFromString=Q.hexToBuff=Q.validateTxId=Q.validateStacksAddress=Q.parseReadOnlyResponse=Q.hexToCV=Q.cvToHex=Q.isClarityName=Q.hashP2WSH=Q.hashP2SH=Q.hashP2WPKH=Q.hashP2PKH=Q.hash160=Q.txidFromData=Q.omit=Q.cloneDeep=Q.exceedsMaxLengthBytes=Q.rightPadHexToLength=Q.leftPadHexToLength=Q.leftPadHex=Q.randomBytes=void 0;var Qo=Rr(),kr=Se(),d7=Qi(),u7=f7(Th()),bg=Ln(),hg=Ys(),l7=e=>Qo.base.randomBytes(Number(e));Q.randomBytes=l7;var h7=e=>e.length%2==0?e:`0${e}`;Q.leftPadHex=h7;var b7=(e,t)=>e.padStart(t,"0");Q.leftPadHexToLength=b7;var p7=(e,t)=>e.padEnd(t,"0");Q.rightPadHexToLength=p7;var y7=(e,t)=>e?(0,kr.utf8ToBytes)(e).length>t:!1;Q.exceedsMaxLengthBytes=y7;function pg(e){return(0,u7.default)(e)}Q.cloneDeep=pg;function g7(e,t){let r=pg(e);return delete r[t],r}Q.omit=g7;var m7=e=>(0,kr.bytesToHex)(Qo.base.sha512_256(e));Q.txidFromData=m7;var v7=e=>Qo.base.ripemd160(Qo.base.sha256(e));Q.hash160=v7;var _7=e=>(0,kr.bytesToHex)((0,Q.hash160)(e));Q.hashP2PKH=_7;var S7=e=>{let t=(0,Q.hash160)(e),r=(0,kr.concatBytes)(new Uint8Array([0]),new Uint8Array([t.length]),t),n=(0,Q.hash160)(r);return(0,kr.bytesToHex)(n)};Q.hashP2WPKH=S7;var w7=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(s=>{r.push(s.length),r.push(s)}),r.push(80+t.length),r.push(174);let n=(0,kr.concatArray)(r),i=(0,Q.hash160)(n);return(0,kr.bytesToHex)(i)};Q.hashP2SH=w7;var C7=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(d=>{r.push(d.length),r.push(d)}),r.push(80+t.length),r.push(174);let n=(0,kr.concatArray)(r),i=Qo.base.sha256(n),s=[];s.push(0),s.push(i.length),s.push(i);let o=(0,kr.concatArray)(s),c=(0,Q.hash160)(o);return(0,kr.bytesToHex)(c)};Q.hashP2WSH=C7;function x7(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}Q.isClarityName=x7;function T7(e){let t=(0,bg.serializeCV)(e);return`0x${(0,kr.bytesToHex)(t)}`}Q.cvToHex=T7;function yg(e){return(0,bg.deserializeCV)(e)}Q.hexToCV=yg;var E7=e=>{if(e.okay)return yg(e.result);throw new Error(e.cause)};Q.parseReadOnlyResponse=E7;var P7=e=>{try{return(0,d7.c32addressDecode)(e),!0}catch{return!1}};Q.validateStacksAddress=P7;var A7=e=>{if(e==="success")return!0;let t=(0,kr.with0x)(e).toLowerCase();return t.length!==66?!1:(0,kr.with0x)(BigInt(t).toString(16).padStart(64,"0"))===t};Q.validateTxId=A7;function M7(e){return B.Buffer.from(I7(e),"hex")}Q.hexToBuff=M7;function I7(e){return e.startsWith("0x")?e.replace("0x",""):e}function B7(e){let t=new hg.BytesReader((0,kr.hexToBytes)(e));return(0,hg.deserializePostCondition)(t)}Q.postConditionFromString=B7;function O7(e){return e.startsWith("0x")?e:`0x${e}`}Q.addHex=O7});var Zs=R(te=>{C();x();Object.defineProperty(te,"__esModule",{value:!0});te.deserializeAuthorization=te.serializeAuthorization=te.setSponsor=te.setSponsorNonce=te.setNonce=te.getFee=te.setFee=te.verifyOrigin=te.intoInitialSighashAuth=te.createSponsoredAuth=te.createStandardAuth=te.nextVerification=te.nextSignature=te.makeSigHashPreSign=te.deserializeSpendingCondition=te.serializeSpendingCondition=te.deserializeMultiSigSpendingCondition=te.deserializeSingleSigSpendingCondition=te.serializeMultiSigSpendingCondition=te.serializeSingleSigSpendingCondition=te.isSingleSig=te.createMultiSigSpendingCondition=te.createSingleSigSpendingCondition=te.emptyMessageSignature=void 0;var ve=Se(),fe=sr(),Vc=Ur(),vg=Go(),gi=pi(),sn=bi(),qr=qn();function Dc(){return{type:fe.StacksMessageType.MessageSignature,data:(0,ve.bytesToHex)(new Uint8Array(fe.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES))}}te.emptyMessageSignature=Dc;function fl(e,t,r,n){let i=(0,gi.addressFromPublicKeys)(0,e,1,[(0,sn.createStacksPublicKey)(t)]).hash160,s=(0,sn.isCompressed)((0,sn.createStacksPublicKey)(t))?fe.PubKeyEncoding.Compressed:fe.PubKeyEncoding.Uncompressed;return{hashMode:e,signer:i,nonce:(0,ve.intToBigInt)(r,!1),fee:(0,ve.intToBigInt)(n,!1),keyEncoding:s,signature:Dc()}}te.createSingleSigSpendingCondition=fl;function k7(e,t,r,n,i){let s=r.map(sn.createStacksPublicKey),o=(0,gi.addressFromPublicKeys)(0,e,t,s).hash160;return{hashMode:e,signer:o,nonce:(0,ve.intToBigInt)(n,!1),fee:(0,ve.intToBigInt)(i,!1),fields:[],signaturesRequired:t}}te.createMultiSigSpendingCondition=k7;function Kc(e){return"signature"in e}te.isSingleSig=Kc;function gg(e){let t=(0,Vc.cloneDeep)(e);return t.nonce=0,t.fee=0,Kc(t)?t.signature=Dc():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function _g(e){let t=[e.hashMode,(0,ve.hexToBytes)(e.signer),(0,ve.intToBytes)(e.nonce,!1,8),(0,ve.intToBytes)(e.fee,!1,8),e.keyEncoding,(0,vg.serializeMessageSignature)(e.signature)];return(0,ve.concatArray)(t)}te.serializeSingleSigSpendingCondition=_g;function Sg(e){let t=[e.hashMode,(0,ve.hexToBytes)(e.signer),(0,ve.intToBytes)(e.nonce,!1,8),(0,ve.intToBytes)(e.fee,!1,8)],r=(0,gi.createLPList)(e.fields);t.push((0,gi.serializeLPList)(r));let n=new Uint8Array(2);return(0,ve.writeUInt16BE)(n,e.signaturesRequired,0),t.push(n),(0,ve.concatArray)(t)}te.serializeMultiSigSpendingCondition=Sg;function wg(e,t){let r=(0,ve.bytesToHex)(t.readBytes(20)),n=BigInt(`0x${(0,ve.bytesToHex)(t.readBytes(8))}`),i=BigInt(`0x${(0,ve.bytesToHex)(t.readBytes(8))}`),s=t.readUInt8Enum(fe.PubKeyEncoding,c=>{throw new qr.DeserializationError(`Could not parse ${c} as PubKeyEncoding`)});if(e===fe.AddressHashMode.SerializeP2WPKH&&s!=fe.PubKeyEncoding.Compressed)throw new qr.DeserializationError("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");let o=(0,vg.deserializeMessageSignature)(t);return{hashMode:e,signer:r,nonce:n,fee:i,keyEncoding:s,signature:o}}te.deserializeSingleSigSpendingCondition=wg;function Cg(e,t){let r=(0,ve.bytesToHex)(t.readBytes(20)),n=BigInt("0x"+(0,ve.bytesToHex)(t.readBytes(8))),i=BigInt("0x"+(0,ve.bytesToHex)(t.readBytes(8))),s=(0,gi.deserializeLPList)(t,fe.StacksMessageType.TransactionAuthField).values,o=!1,c=0;for(let l of s)switch(l.contents.type){case fe.StacksMessageType.PublicKey:(0,sn.isCompressed)(l.contents)||(o=!0);break;case fe.StacksMessageType.MessageSignature:if(l.pubKeyEncoding===fe.PubKeyEncoding.Uncompressed&&(o=!0),c+=1,c===65536)throw new qr.VerificationError("Failed to parse multisig spending condition: too many signatures");break}let d=t.readUInt16BE();if(o&&e===fe.AddressHashMode.SerializeP2SH)throw new qr.VerificationError("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:r,nonce:n,fee:i,fields:s,signaturesRequired:d}}te.deserializeMultiSigSpendingCondition=Cg;function qc(e){return Kc(e)?_g(e):Sg(e)}te.serializeSpendingCondition=qc;function Hc(e){let t=e.readUInt8Enum(fe.AddressHashMode,r=>{throw new qr.DeserializationError(`Could not parse ${r} as AddressHashMode`)});return t===fe.AddressHashMode.SerializeP2PKH||t===fe.AddressHashMode.SerializeP2WPKH?wg(t,e):Cg(t,e)}te.deserializeSpendingCondition=Hc;function dl(e,t,r,n){let s=e+(0,ve.bytesToHex)(new Uint8Array([t]))+(0,ve.bytesToHex)((0,ve.intToBytes)(r,!1,8))+(0,ve.bytesToHex)((0,ve.intToBytes)(n,!1,8));if((0,ve.hexToBytes)(s).byteLength!==49)throw Error("Invalid signature hash length");return(0,Vc.txidFromData)((0,ve.hexToBytes)(s))}te.makeSigHashPreSign=dl;function xg(e,t,r){let n=33+fe.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES,i=(0,sn.isCompressed)(t)?fe.PubKeyEncoding.Compressed:fe.PubKeyEncoding.Uncompressed,s=e+(0,Vc.leftPadHex)(i.toString(16))+r.data,o=(0,ve.hexToBytes)(s);if(o.byteLength>n)throw Error("Invalid signature hash length");return(0,Vc.txidFromData)(o)}function R7(e,t,r,n,i){let s=dl(e,t,r,n),o=(0,sn.signWithKey)(i,s),c=(0,sn.getPublicKey)(i),d=xg(s,c,o);return{nextSig:o,nextSigHash:d}}te.nextSignature=R7;function ul(e,t,r,n,i,s){let o=dl(e,t,r,n),c=(0,sn.createStacksPublicKey)((0,sn.publicKeyFromSignatureVrs)(o,s,i)),d=xg(o,c,s);return{pubKey:c,nextSigHash:d}}te.nextVerification=ul;function N7(){let e=fl(fe.AddressHashMode.SerializeP2PKH,"",0,0);return e.signer=(0,gi.createEmptyAddress)().hash160,e.keyEncoding=fe.PubKeyEncoding.Compressed,e.signature=Dc(),e}function mg(e,t,r){return Kc(e)?L7(e,t,r):q7(e,t,r)}function L7(e,t,r){let{pubKey:n,nextSigHash:i}=ul(t,r,e.fee,e.nonce,e.keyEncoding,e.signature),s=(0,gi.addressFromPublicKeys)(0,e.hashMode,1,[n]).hash160;if(s!==e.signer)throw new qr.VerificationError(`Signer hash does not equal hash of public key(s): ${s} != ${e.signer}`);return i}function q7(e,t,r){let n=[],i=t,s=!1,o=0;for(let d of e.fields){let l;switch(d.contents.type){case fe.StacksMessageType.PublicKey:(0,sn.isCompressed)(d.contents)||(s=!0),l=d.contents;break;case fe.StacksMessageType.MessageSignature:d.pubKeyEncoding===fe.PubKeyEncoding.Uncompressed&&(s=!0);let{pubKey:p,nextSigHash:b}=ul(i,r,e.fee,e.nonce,d.pubKeyEncoding,d.contents);if(i=b,l=p,o+=1,o===65536)throw new qr.VerificationError("Too many signatures");break}n.push(l)}if(o!==e.signaturesRequired)throw new qr.VerificationError("Incorrect number of signatures");if(s&&e.hashMode===fe.AddressHashMode.SerializeP2SH)throw new qr.VerificationError("Uncompressed keys are not allowed in this hash mode");let c=(0,gi.addressFromPublicKeys)(0,e.hashMode,e.signaturesRequired,n).hash160;if(c!==e.signer)throw new qr.VerificationError(`Signer hash does not equal hash of public key(s): ${c} != ${e.signer}`);return i}function ll(e){return{authType:fe.AuthType.Standard,spendingCondition:e}}te.createStandardAuth=ll;function hl(e,t){return{authType:fe.AuthType.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||fl(fe.AddressHashMode.SerializeP2PKH,"0".repeat(66),0,0)}}te.createSponsoredAuth=hl;function H7(e){if(e.spendingCondition)switch(e.authType){case fe.AuthType.Standard:return ll(gg(e.spendingCondition));case fe.AuthType.Sponsored:return hl(gg(e.spendingCondition),N7());default:throw new qr.SigningError("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}te.intoInitialSighashAuth=H7;function V7(e,t){switch(e.authType){case fe.AuthType.Standard:return mg(e.spendingCondition,t,fe.AuthType.Standard);case fe.AuthType.Sponsored:return mg(e.spendingCondition,t,fe.AuthType.Standard);default:throw new qr.SigningError("Invalid origin auth type")}}te.verifyOrigin=V7;function D7(e,t){switch(e.authType){case fe.AuthType.Standard:let r={...e.spendingCondition,fee:(0,ve.intToBigInt)(t,!1)};return{...e,spendingCondition:r};case fe.AuthType.Sponsored:let n={...e.sponsorSpendingCondition,fee:(0,ve.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:n}}}te.setFee=D7;function K7(e){switch(e.authType){case fe.AuthType.Standard:return e.spendingCondition.fee;case fe.AuthType.Sponsored:return e.sponsorSpendingCondition.fee}}te.getFee=K7;function U7(e,t){let r={...e.spendingCondition,nonce:(0,ve.intToBigInt)(t,!1)};return{...e,spendingCondition:r}}te.setNonce=U7;function z7(e,t){let r={...e.sponsorSpendingCondition,nonce:(0,ve.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:r}}te.setSponsorNonce=z7;function F7(e,t){let r={...t,nonce:(0,ve.intToBigInt)(t.nonce,!1),fee:(0,ve.intToBigInt)(t.fee,!1)};return{...e,sponsorSpendingCondition:r}}te.setSponsor=F7;function j7(e){let t=[];switch(t.push(e.authType),e.authType){case fe.AuthType.Standard:t.push(qc(e.spendingCondition));break;case fe.AuthType.Sponsored:t.push(qc(e.spendingCondition)),t.push(qc(e.sponsorSpendingCondition));break}return(0,ve.concatArray)(t)}te.serializeAuthorization=j7;function $7(e){let t=e.readUInt8Enum(fe.AuthType,n=>{throw new qr.DeserializationError(`Could not parse ${n} as AuthType`)}),r;switch(t){case fe.AuthType.Standard:return r=Hc(e),ll(r);case fe.AuthType.Sponsored:r=Hc(e);let n=Hc(e);return hl(r,n)}}te.deserializeAuthorization=$7});var Tg=R(We=>{C();x();Object.defineProperty(We,"__esModule",{value:!0});We.StacksDevnet=We.StacksMocknet=We.StacksTestnet=We.StacksMainnet=We.StacksNetwork=We.StacksNetworks=We.HIRO_MOCKNET_DEFAULT=We.HIRO_TESTNET_DEFAULT=We.HIRO_MAINNET_DEFAULT=void 0;var Hn=Se();We.HIRO_MAINNET_DEFAULT="https://stacks-node-api.mainnet.stacks.co";We.HIRO_TESTNET_DEFAULT="https://stacks-node-api.testnet.stacks.co";We.HIRO_MOCKNET_DEFAULT="http://localhost:3999";We.StacksNetworks=["mainnet","testnet","devnet","mocknet"];var Vn=class{constructor(t){this.version=Hn.TransactionVersion.Mainnet,this.chainId=Hn.ChainID.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===Hn.TransactionVersion.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=r=>`${this.coreApiUrl}${this.accountEndpoint}/${r}?proof=0`,this.getAccountExtendedBalancesApiUrl=r=>`${this.coreApiUrl}/extended/v1/address/${r}/balances`,this.getAbiApiUrl=(r,n)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${r}/${n}`,this.getReadOnlyFunctionCallApiUrl=(r,n,i)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${r}/${n}/${encodeURIComponent(i)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(r,n)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${r}`;return n&&(i=`${i}?limit=${n.limit}&offset=${n.offset}`),i},this.getRewardsTotalUrl=r=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${r}/total`,this.getRewardHoldersUrl=(r,n)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${r}`;return n&&(i=`${i}?limit=${n.limit}&offset=${n.offset}`),i},this.getStackerInfoUrl=(r,n)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${r}/${n}/get-stacker-info`,this.getDataVarUrl=(r,n,i)=>`${this.coreApiUrl}/v2/data_var/${r}/${n}/${i}?proof=0`,this.getMapEntryUrl=(r,n,i)=>`${this.coreApiUrl}/v2/map_entry/${r}/${n}/${i}?proof=0`,this.coreApiUrl=t.url}};We.StacksNetwork=Vn;Vn.fromName=e=>{switch(e){case"mainnet":return new Uc;case"testnet":return new zc;case"devnet":return new We.StacksDevnet;case"mocknet":return new ea;default:throw new Error(`Invalid network name provided. Must be one of the following: ${We.StacksNetworks.join(", ")}`)}};Vn.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:Vn.fromName(e);var Uc=class extends Vn{constructor(t){super({url:t?.url??We.HIRO_MAINNET_DEFAULT}),this.version=Hn.TransactionVersion.Mainnet,this.chainId=Hn.ChainID.Mainnet}};We.StacksMainnet=Uc;var zc=class extends Vn{constructor(t){super({url:t?.url??We.HIRO_TESTNET_DEFAULT}),this.version=Hn.TransactionVersion.Testnet,this.chainId=Hn.ChainID.Testnet}};We.StacksTestnet=zc;var ea=class extends Vn{constructor(t){super({url:t?.url??We.HIRO_MOCKNET_DEFAULT}),this.version=Hn.TransactionVersion.Testnet,this.chainId=Hn.ChainID.Testnet}};We.StacksMocknet=ea;We.StacksDevnet=ea});var ta=R(ji=>{C();x();var G7=ji&&ji.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W7=ji&&ji.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&G7(t,e,r)};Object.defineProperty(ji,"__esModule",{value:!0});W7(Tg(),ji)});var bl=R(mi=>{C();x();Object.defineProperty(mi,"__esModule",{value:!0});mi.createNonFungiblePostCondition=mi.createFungiblePostCondition=mi.createSTXPostCondition=void 0;var Eg=Se(),Js=sr(),ra=xn();function X7(e,t,r){return typeof e=="string"&&(e=(0,ra.parsePrincipalString)(e)),{type:Js.StacksMessageType.PostCondition,conditionType:Js.PostConditionType.STX,principal:e,conditionCode:t,amount:(0,Eg.intToBigInt)(r,!1)}}mi.createSTXPostCondition=X7;function Y7(e,t,r,n){return typeof e=="string"&&(e=(0,ra.parsePrincipalString)(e)),typeof n=="string"&&(n=(0,ra.parseAssetInfoString)(n)),{type:Js.StacksMessageType.PostCondition,conditionType:Js.PostConditionType.Fungible,principal:e,conditionCode:t,amount:(0,Eg.intToBigInt)(r,!1),assetInfo:n}}mi.createFungiblePostCondition=Y7;function Z7(e,t,r,n){return typeof e=="string"&&(e=(0,ra.parsePrincipalString)(e)),typeof r=="string"&&(r=(0,ra.parseAssetInfoString)(r)),{type:Js.StacksMessageType.PostCondition,conditionType:Js.PostConditionType.NonFungible,principal:e,conditionCode:t,assetInfo:r,assetName:n}}mi.createNonFungiblePostCondition=Z7});var ml=R(Fc=>{C();x();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.TransactionSigner=void 0;var pl=Zs(),yl=Ur(),Qs=sr(),eo=qn(),gl=class{constructor(t){this.transaction=t,this.sigHash=t.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0;let r=t.auth.spendingCondition;if(r&&!(0,pl.isSingleSig)(r)){if(r.fields.filter(n=>n.contents.type===Qs.StacksMessageType.MessageSignature).length>=r.signaturesRequired)throw new Error("SpendingCondition has more signatures than are expected");r.fields.forEach(n=>{if(n.contents.type===Qs.StacksMessageType.MessageSignature){let i=n.contents,s=(0,pl.nextVerification)(this.sigHash,t.auth.authType,r.fee,r.nonce,Qs.PubKeyEncoding.Compressed,i);this.sigHash=s.nextSigHash}})}}static createSponsorSigner(t,r){if(t.auth.authType!=Qs.AuthType.Sponsored)throw new eo.SigningError("Cannot add sponsor to non-sponsored transaction");let n=(0,yl.cloneDeep)(t);n.setSponsor(r);let i=n.verifyOrigin(),s=new this(n);return s.originDone=!0,s.sigHash=i,s.checkOversign=!0,s.checkOverlap=!0,s}signOrigin(t){if(this.checkOverlap&&this.originDone)throw new eo.SigningError("Cannot sign origin after sponsor key");if(this.transaction.auth===void 0)throw new eo.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new eo.SigningError('"transaction.auth.spendingCondition" is undefined');if(!(0,pl.isSingleSig)(this.transaction.auth.spendingCondition)){let n=this.transaction.auth.spendingCondition;if(this.checkOversign&&n.fields.filter(i=>i.contents.type===Qs.StacksMessageType.MessageSignature).length>=n.signaturesRequired)throw new Error("Origin would have too many signatures")}let r=this.transaction.signNextOrigin(this.sigHash,t);this.sigHash=r}appendOrigin(t){if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(this.transaction.auth===void 0)throw new Error('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(t)}signSponsor(t){if(this.transaction.auth===void 0)throw new eo.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.authType!==Qs.AuthType.Sponsored)throw new eo.SigningError('"transaction.auth.authType" is not AuthType.Sponsored');let r=this.transaction.signNextSponsor(this.sigHash,t);this.sigHash=r,this.originDone=!0}getTxInComplete(){return(0,yl.cloneDeep)(this.transaction)}resume(t){this.transaction=(0,yl.cloneDeep)(t),this.sigHash=t.signBegin()}};Fc.TransactionSigner=gl});var wl=R(ro=>{C();x();Object.defineProperty(ro,"__esModule",{value:!0});ro.deserializeTransaction=ro.StacksTransaction=void 0;var to=Se(),Xe=sr(),Xr=Zs(),Pg=Go(),vl=Ur(),Ag=Us(),Sl=pi(),J7=bi(),_l=Rc(),$i=qn(),jc=class{constructor(t,r,n,i,s,o,c){if(this.version=t,this.auth=r,"amount"in n?this.payload={...n,amount:(0,to.intToBigInt)(n.amount,!1)}:this.payload=n,this.chainId=c??Xe.DEFAULT_CHAIN_ID,this.postConditionMode=s??Xe.PostConditionMode.Deny,this.postConditions=i??(0,Sl.createLPList)([]),o)this.anchorMode=(0,Xe.anchorModeFromNameOrValue)(o);else switch(n.payloadType){case Xe.PayloadType.Coinbase:case Xe.PayloadType.CoinbaseToAltRecipient:case Xe.PayloadType.PoisonMicroblock:{this.anchorMode=Xe.AnchorMode.OnChainOnly;break}case Xe.PayloadType.ContractCall:case Xe.PayloadType.SmartContract:case Xe.PayloadType.VersionedSmartContract:case Xe.PayloadType.TokenTransfer:{this.anchorMode=Xe.AnchorMode.Any;break}}}signBegin(){let t=(0,vl.cloneDeep)(this);return t.auth=(0,Xr.intoInitialSighashAuth)(t.auth),t.txid()}verifyBegin(){let t=(0,vl.cloneDeep)(this);return t.auth=(0,Xr.intoInitialSighashAuth)(t.auth),t.txid()}verifyOrigin(){return(0,Xr.verifyOrigin)(this.auth,this.verifyBegin())}signNextOrigin(t,r){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,Xe.AuthType.Standard,r)}signNextSponsor(t,r){if(this.auth.authType===Xe.AuthType.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,Xe.AuthType.Sponsored,r);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){let r=this.auth.spendingCondition;if(r&&!(0,Xr.isSingleSig)(r)){let n=(0,J7.isCompressed)(t);r.fields.push((0,Pg.createTransactionAuthField)(n?Xe.PubKeyEncoding.Compressed:Xe.PubKeyEncoding.Uncompressed,t))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,r,n,i){let{nextSig:s,nextSigHash:o}=(0,Xr.nextSignature)(r,n,t.fee,t.nonce,i);if((0,Xr.isSingleSig)(t))t.signature=s;else{let c=(0,to.bytesToHex)(i.data).endsWith("01");t.fields.push((0,Pg.createTransactionAuthField)(c?Xe.PubKeyEncoding.Compressed:Xe.PubKeyEncoding.Uncompressed,s))}return o}txid(){let t=this.serialize();return(0,vl.txidFromData)(t)}setSponsor(t){if(this.auth.authType!=Xe.AuthType.Sponsored)throw new $i.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,Xr.setSponsor)(this.auth,t)}setFee(t){this.auth=(0,Xr.setFee)(this.auth,t)}setNonce(t){this.auth=(0,Xr.setNonce)(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=Xe.AuthType.Sponsored)throw new $i.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,Xr.setSponsorNonce)(this.auth,t)}serialize(){if(this.version===void 0)throw new $i.SerializationError('"version" is undefined');if(this.chainId===void 0)throw new $i.SerializationError('"chainId" is undefined');if(this.auth===void 0)throw new $i.SerializationError('"auth" is undefined');if(this.anchorMode===void 0)throw new $i.SerializationError('"anchorMode" is undefined');if(this.payload===void 0)throw new $i.SerializationError('"payload" is undefined');let t=[];t.push(this.version);let r=new Uint8Array(4);return(0,to.writeUInt32BE)(r,this.chainId,0),t.push(r),t.push((0,Xr.serializeAuthorization)(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push((0,Sl.serializeLPList)(this.postConditions)),t.push((0,Ag.serializePayload)(this.payload)),(0,to.concatArray)(t)}};ro.StacksTransaction=jc;function Q7(e){let t;typeof e=="string"?e.slice(0,2).toLowerCase()==="0x"?t=new _l.BytesReader((0,to.hexToBytes)(e.slice(2))):t=new _l.BytesReader((0,to.hexToBytes)(e)):e instanceof Uint8Array?t=new _l.BytesReader(e):t=e;let r=t.readUInt8Enum(Xe.TransactionVersion,l=>{throw new Error(`Could not parse ${l} as TransactionVersion`)}),n=t.readUInt32BE(),i=(0,Xr.deserializeAuthorization)(t),s=t.readUInt8Enum(Xe.AnchorMode,l=>{throw new Error(`Could not parse ${l} as AnchorMode`)}),o=t.readUInt8Enum(Xe.PostConditionMode,l=>{throw new Error(`Could not parse ${l} as PostConditionMode`)}),c=(0,Sl.deserializeLPList)(t,Xe.StacksMessageType.PostCondition),d=(0,Ag.deserializePayload)(t);return new jc(r,i,d,c,o,s,n)}ro.deserializeTransaction=Q7});var Tl=R(Ze=>{C();x();Object.defineProperty(Ze,"__esModule",{value:!0});Ze.makeContractDeploy=Ze.makeUnsignedContractDeploy=Ze.estimateTransactionByteLength=Ze.makeContractNonFungiblePostCondition=Ze.makeStandardNonFungiblePostCondition=Ze.makeContractFungiblePostCondition=Ze.makeStandardFungiblePostCondition=Ze.makeContractSTXPostCondition=Ze.makeStandardSTXPostCondition=Ze.makeContractCall=Ze.makeUnsignedContractCall=void 0;var Mg=Se(),$c=ta(),Gi=Zs(),mn=sr(),Yr=bi(),Bg=Us(),no=bl(),io=xn(),Cl=ml(),Og=wl(),kg=pi(),Ig=Ur();async function xl(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new $c.StacksMainnet,postConditionMode:mn.PostConditionMode.Deny,sponsored:!1},r=Object.assign(t,e),n=(0,Bg.createContractCallPayload)(r.contractAddress,r.contractName,r.functionName,r.functionArgs),i=null,s=null;"publicKey"in r?i=(0,Gi.createSingleSigSpendingCondition)(mn.AddressHashMode.SerializeP2PKH,r.publicKey,r.nonce,r.fee):i=(0,Gi.createMultiSigSpendingCondition)(mn.AddressHashMode.SerializeP2SH,r.numSignatures,r.publicKeys,r.nonce,r.fee),r.sponsored?s=(0,Gi.createSponsoredAuth)(i):s=(0,Gi.createStandardAuth)(i);let o=$c.StacksNetwork.fromNameOrNetwork(r.network),c=[];r.postConditions&&r.postConditions.length>0&&r.postConditions.forEach(p=>{c.push(p)});let d=(0,kg.createLPList)(c);return new Og.StacksTransaction(o.version,s,n,d,r.postConditionMode,r.anchorMode,o.chainId)}Ze.makeUnsignedContractCall=xl;async function e9(e){if("senderKey"in e){let t=(0,Yr.publicKeyToString)((0,Yr.getPublicKey)((0,Yr.createStacksPrivateKey)(e.senderKey))),r=(0,Ig.omit)(e,"senderKey"),n=await xl({publicKey:t,...r}),i=(0,Yr.createStacksPrivateKey)(e.senderKey);return new Cl.TransactionSigner(n).signOrigin(i),n}else{let t=(0,Ig.omit)(e,"signerKeys"),r=await xl(t),n=new Cl.TransactionSigner(r),i=e.publicKeys;for(let s of e.signerKeys){let o=(0,Yr.pubKeyfromPrivKey)(s);i=i.filter(c=>c!==(0,Mg.bytesToHex)(o.data)),n.signOrigin((0,Yr.createStacksPrivateKey)(s))}for(let s of i)n.appendOrigin((0,Yr.publicKeyFromBytes)((0,Mg.hexToBytes)(s)));return r}}Ze.makeContractCall=e9;function t9(e,t,r){return(0,no.createSTXPostCondition)((0,io.createStandardPrincipal)(e),t,r)}Ze.makeStandardSTXPostCondition=t9;function r9(e,t,r,n){return(0,no.createSTXPostCondition)((0,io.createContractPrincipal)(e,t),r,n)}Ze.makeContractSTXPostCondition=r9;function n9(e,t,r,n){return(0,no.createFungiblePostCondition)((0,io.createStandardPrincipal)(e),t,r,n)}Ze.makeStandardFungiblePostCondition=n9;function i9(e,t,r,n,i){return(0,no.createFungiblePostCondition)((0,io.createContractPrincipal)(e,t),r,n,i)}Ze.makeContractFungiblePostCondition=i9;function s9(e,t,r,n){return(0,no.createNonFungiblePostCondition)((0,io.createStandardPrincipal)(e),t,r,n)}Ze.makeStandardNonFungiblePostCondition=s9;function o9(e,t,r,n,i){return(0,no.createNonFungiblePostCondition)((0,io.createContractPrincipal)(e,t),r,n,i)}Ze.makeContractNonFungiblePostCondition=o9;function a9(e){let t=e.auth.spendingCondition.hashMode;if([mn.AddressHashMode.SerializeP2SH,mn.AddressHashMode.SerializeP2WSH].includes(t)){let n=e.auth.spendingCondition,i=n.fields.filter(o=>o.contents.type===mn.StacksMessageType.MessageSignature).length,s=(n.signaturesRequired-i)*(mn.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES+1);return e.serialize().byteLength+s}else return e.serialize().byteLength}Ze.estimateTransactionByteLength=a9;async function Rg(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new $c.StacksMainnet,postConditionMode:mn.PostConditionMode.Deny,sponsored:!1,clarityVersion:mn.ClarityVersion.Clarity2},r=Object.assign(t,e),n=(0,Bg.createSmartContractPayload)(r.contractName,r.codeBody,r.clarityVersion),i=mn.AddressHashMode.SerializeP2PKH,s=(0,Yr.createStacksPublicKey)(r.publicKey),o=null,c=(0,Gi.createSingleSigSpendingCondition)(i,(0,Yr.publicKeyToString)(s),r.nonce,r.fee);r.sponsored?o=(0,Gi.createSponsoredAuth)(c):o=(0,Gi.createStandardAuth)(c);let d=$c.StacksNetwork.fromNameOrNetwork(r.network),l=[];r.postConditions&&r.postConditions.length>0&&r.postConditions.forEach(E=>{l.push(E)});let p=(0,kg.createLPList)(l);return new Og.StacksTransaction(d.version,o,n,p,r.postConditionMode,r.anchorMode,d.chainId)}Ze.makeUnsignedContractDeploy=Rg;async function c9(e){let t=(0,Yr.createStacksPrivateKey)(e.senderKey),r=(0,Yr.getPublicKey)(t),n=(0,Yr.publicKeyToString)(r),i={...e,publicKey:n},s=await Rg(i);return e.senderKey&&new Cl.TransactionSigner(s).signOrigin(t),s}Ze.makeContractDeploy=c9});var Ng=R(he=>{C();x();Object.defineProperty(he,"__esModule",{value:!0});he.deserialize=he.serialize=he.tuple=he.error=he.ok=he.some=he.none=he.bufferFromUtf8=he.bufferFromAscii=he.bufferFromHex=he.buffer=he.stringUtf8=he.stringAscii=he.list=he.standardPrincipal=he.contractPrincipal=he.uint=he.int=he.bool=void 0;var El=Se(),Ft=Ln();he.bool=Ft.boolCV;he.int=Ft.intCV;he.uint=Ft.uintCV;he.contractPrincipal=Ft.contractPrincipalCV;he.standardPrincipal=Ft.standardPrincipalCV;he.list=Ft.listCV;he.stringAscii=Ft.stringAsciiCV;he.stringUtf8=Ft.stringUtf8CV;he.buffer=Ft.bufferCV;var f9=e=>(0,Ft.bufferCV)((0,El.hexToBytes)(e));he.bufferFromHex=f9;var d9=e=>(0,Ft.bufferCV)((0,El.asciiToBytes)(e));he.bufferFromAscii=d9;var u9=e=>(0,Ft.bufferCV)((0,El.utf8ToBytes)(e));he.bufferFromUtf8=u9;he.none=Ft.noneCV;he.some=Ft.someCV;he.ok=Ft.responseOkCV;he.error=Ft.responseErrorCV;he.tuple=Ft.tupleCV;he.serialize=Ft.serializeCV;he.deserialize=Ft.deserializeCV});var Hg=R(Z=>{C();x();Object.defineProperty(Z,"__esModule",{value:!0});Z.parseToCV=Z.validateContractCall=Z.abiFunctionToString=Z.getTypeString=Z.encodeClarityValue=Z.getTypeUnion=Z.isClarityAbiList=Z.isClarityAbiTuple=Z.isClarityAbiOptional=Z.isClarityAbiResponse=Z.isClarityAbiStringUtf8=Z.isClarityAbiStringAscii=Z.isClarityAbiBuffer=Z.isClarityAbiPrimitive=Z.ClarityAbiTypeId=void 0;var l9=Ur(),Pe=Ln(),Gc=qn(),Lg=Ea(),qg=Se(),ae;(function(e){e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference"})(ae=Z.ClarityAbiTypeId||(Z.ClarityAbiTypeId={}));var h9=e=>typeof e=="string";Z.isClarityAbiPrimitive=h9;var b9=e=>e.buffer!==void 0;Z.isClarityAbiBuffer=b9;var p9=e=>e["string-ascii"]!==void 0;Z.isClarityAbiStringAscii=p9;var y9=e=>e["string-utf8"]!==void 0;Z.isClarityAbiStringUtf8=y9;var g9=e=>e.response!==void 0;Z.isClarityAbiResponse=g9;var m9=e=>e.optional!==void 0;Z.isClarityAbiOptional=m9;var v9=e=>e.tuple!==void 0;Z.isClarityAbiTuple=v9;var _9=e=>e.list!==void 0;Z.isClarityAbiList=_9;function Pl(e){if((0,Z.isClarityAbiPrimitive)(e)){if(e==="uint128")return{id:ae.ClarityAbiTypeUInt128,type:e};if(e==="int128")return{id:ae.ClarityAbiTypeInt128,type:e};if(e==="bool")return{id:ae.ClarityAbiTypeBool,type:e};if(e==="principal")return{id:ae.ClarityAbiTypePrincipal,type:e};if(e==="trait_reference")return{id:ae.ClarityAbiTypeTraitReference,type:e};if(e==="none")return{id:ae.ClarityAbiTypeNone,type:e};throw new Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(e)}`)}else{if((0,Z.isClarityAbiBuffer)(e))return{id:ae.ClarityAbiTypeBuffer,type:e};if((0,Z.isClarityAbiResponse)(e))return{id:ae.ClarityAbiTypeResponse,type:e};if((0,Z.isClarityAbiOptional)(e))return{id:ae.ClarityAbiTypeOptional,type:e};if((0,Z.isClarityAbiTuple)(e))return{id:ae.ClarityAbiTypeTuple,type:e};if((0,Z.isClarityAbiList)(e))return{id:ae.ClarityAbiTypeList,type:e};if((0,Z.isClarityAbiStringAscii)(e))return{id:ae.ClarityAbiTypeStringAscii,type:e};if((0,Z.isClarityAbiStringUtf8)(e))return{id:ae.ClarityAbiTypeStringUtf8,type:e};throw new Error(`Unexpected Clarity ABI type: ${JSON.stringify(e)}`)}}Z.getTypeUnion=Pl;function S9(e,t){let r;switch(e.id!==void 0?r=e:r=Pl(e),r.id){case ae.ClarityAbiTypeUInt128:return(0,Pe.uintCV)(t);case ae.ClarityAbiTypeInt128:return(0,Pe.intCV)(t);case ae.ClarityAbiTypeBool:if(t==="false"||t==="0")return(0,Pe.falseCV)();if(t==="true"||t==="1")return(0,Pe.trueCV)();throw new Error(`Unexpected Clarity bool value: ${JSON.stringify(t)}`);case ae.ClarityAbiTypePrincipal:if(t.includes(".")){let[s,o]=t.split(".");return(0,Pe.contractPrincipalCV)(s,o)}else return(0,Pe.standardPrincipalCV)(t);case ae.ClarityAbiTypeTraitReference:let[n,i]=t.split(".");return(0,Pe.contractPrincipalCV)(n,i);case ae.ClarityAbiTypeNone:return(0,Pe.noneCV)();case ae.ClarityAbiTypeBuffer:return(0,Pe.bufferCV)((0,qg.utf8ToBytes)(t));case ae.ClarityAbiTypeStringAscii:return(0,Lg.stringAsciiCV)(t);case ae.ClarityAbiTypeStringUtf8:return(0,Lg.stringUtf8CV)(t);case ae.ClarityAbiTypeResponse:throw new Gc.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case ae.ClarityAbiTypeOptional:throw new Gc.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case ae.ClarityAbiTypeTuple:throw new Gc.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case ae.ClarityAbiTypeList:throw new Gc.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);default:throw new Error(`Unexpected Clarity type ID: ${JSON.stringify(r)}`)}}Z.encodeClarityValue=S9;function Dn(e){if((0,Z.isClarityAbiPrimitive)(e))return e==="int128"?"int":e==="uint128"?"uint":e;if((0,Z.isClarityAbiBuffer)(e))return`(buff ${e.buffer.length})`;if((0,Z.isClarityAbiStringAscii)(e))return`(string-ascii ${e["string-ascii"].length})`;if((0,Z.isClarityAbiStringUtf8)(e))return`(string-utf8 ${e["string-utf8"].length})`;if((0,Z.isClarityAbiResponse)(e))return`(response ${Dn(e.response.ok)} ${Dn(e.response.error)})`;if((0,Z.isClarityAbiOptional)(e))return`(optional ${Dn(e.optional)})`;if((0,Z.isClarityAbiTuple)(e))return`(tuple ${e.tuple.map(t=>`(${t.name} ${Dn(t.type)})`).join(" ")})`;if((0,Z.isClarityAbiList)(e))return`(list ${e.list.length} ${Dn(e.list.type)})`;throw new Error(`Type string unsupported for Clarity type: ${JSON.stringify(e)}`)}Z.getTypeString=Dn;function w9(e){return`(define-${e.access==="read_only"?"read-only":e.access} (${e.name} ${e.args.map(r=>`(${r.name} ${Dn(r.type)})`).join(" ")}))`}Z.abiFunctionToString=w9;function so(e,t){let r=Pl(t);switch(e.type){case Pe.ClarityType.BoolTrue:case Pe.ClarityType.BoolFalse:return r.id===ae.ClarityAbiTypeBool;case Pe.ClarityType.Int:return r.id===ae.ClarityAbiTypeInt128;case Pe.ClarityType.UInt:return r.id===ae.ClarityAbiTypeUInt128;case Pe.ClarityType.Buffer:return r.id===ae.ClarityAbiTypeBuffer&&r.type.buffer.length>=e.buffer.length;case Pe.ClarityType.StringASCII:return r.id===ae.ClarityAbiTypeStringAscii&&r.type["string-ascii"].length>=e.data.length;case Pe.ClarityType.StringUTF8:return r.id===ae.ClarityAbiTypeStringUtf8&&r.type["string-utf8"].length>=e.data.length;case Pe.ClarityType.OptionalNone:return r.id===ae.ClarityAbiTypeNone||r.id===ae.ClarityAbiTypeOptional;case Pe.ClarityType.OptionalSome:return r.id===ae.ClarityAbiTypeOptional&&so(e.value,r.type.optional);case Pe.ClarityType.ResponseErr:return r.id===ae.ClarityAbiTypeResponse&&so(e.value,r.type.response.error);case Pe.ClarityType.ResponseOk:return r.id===ae.ClarityAbiTypeResponse&&so(e.value,r.type.response.ok);case Pe.ClarityType.PrincipalContract:return r.id===ae.ClarityAbiTypePrincipal||r.id===ae.ClarityAbiTypeTraitReference;case Pe.ClarityType.PrincipalStandard:return r.id===ae.ClarityAbiTypePrincipal;case Pe.ClarityType.List:return r.id==ae.ClarityAbiTypeList&&r.type.list.length>=e.list.length&&e.list.every(n=>so(n,r.type.list.type));case Pe.ClarityType.Tuple:if(r.id==ae.ClarityAbiTypeTuple){let n=(0,l9.cloneDeep)(e.data);for(let i=0;i<r.type.tuple.length;i++){let s=r.type.tuple[i],o=s.name,c=n[o];if(c){if(!so(c,s.type))return!1;delete n[o]}else return!1}return!0}else return!1;default:return!1}}function C9(e,t){let r=t.functions.filter(n=>n.name===e.functionName.content);if(r.length===1){let i=r[0].args;if(e.functionArgs.length!==i.length)throw new Error(`Clarity function expects ${i.length} argument(s) but received ${e.functionArgs.length}`);for(let s=0;s<e.functionArgs.length;s++){let o=e.functionArgs[s],c=i[s];if(!so(o,c.type)){let d=s+1;throw new Error(`Clarity function \`${e.functionName.content}\` expects argument ${d} to be of type ${Dn(c.type)}, not ${(0,Pe.getCVTypeString)(o)}`)}}return!0}else throw r.length===0?new Error(`ABI doesn't contain a function with the name ${e.functionName.content}`):new Error(`Malformed ABI. Contains multiple functions with the name ${e.functionName.content}`)}Z.validateContractCall=C9;function x9(e,t){let r=Dn(t);if((0,Z.isClarityAbiPrimitive)(t)){if(t==="uint128")return(0,Pe.uintCV)(e);if(t==="int128")return(0,Pe.intCV)(e);if(t==="bool"){if(e.toLowerCase()==="true")return(0,Pe.trueCV)();if(e.toLowerCase()==="false")return(0,Pe.falseCV)();throw new Error(`Invalid bool value: ${e}`)}else if(t==="principal")if(e.includes(".")){let[n,i]=e.split(".");return(0,Pe.contractPrincipalCV)(n,i)}else return(0,Pe.standardPrincipalCV)(e);else throw new Error(`Contract function contains unsupported Clarity ABI type: ${r}`)}else if((0,Z.isClarityAbiBuffer)(t)){if((0,qg.utf8ToBytes)(e).byteLength>t.buffer.length)throw new Error(`Input exceeds specified buffer length limit of ${t.buffer.length}`);return(0,Pe.bufferCVFromString)(e)}else throw(0,Z.isClarityAbiResponse)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,Z.isClarityAbiOptional)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,Z.isClarityAbiTuple)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,Z.isClarityAbiList)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):new Error(`Contract function contains unsupported Clarity ABI type: ${r}`)}Z.parseToCV=x9});var Vg=R(Jc=>{C();x();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.principal=void 0;var oo=Tl(),Wi=sr(),Wc=xn();function T9(e){if(P9(e)){let[t,r]=Zc(e);return new Xc(t,r)}return new Xc(e,void 0)}Jc.principal=T9;var Xc=class{constructor(t,r){this.address=t,this.contractName=r}willSendEq(t){return new Xi(this.address,t,Wi.FungibleConditionCode.Equal,this.contractName)}willSendLte(t){return new Xi(this.address,t,Wi.FungibleConditionCode.LessEqual,this.contractName)}willSendLt(t){return new Xi(this.address,t,Wi.FungibleConditionCode.Less,this.contractName)}willSendGte(t){return new Xi(this.address,t,Wi.FungibleConditionCode.GreaterEqual,this.contractName)}willSendGt(t){return new Xi(this.address,t,Wi.FungibleConditionCode.Greater,this.contractName)}willSendAsset(){return new Yc(this.address,Wi.NonFungibleConditionCode.Sends,this.contractName)}willNotSendAsset(){return new Yc(this.address,Wi.NonFungibleConditionCode.DoesNotSend,this.contractName)}},Xi=class{constructor(t,r,n,i){this.address=t,this.amount=r,this.code=n,this.contractName=i}ustx(){return this.contractName?(0,oo.makeContractSTXPostCondition)(this.address,this.contractName,this.code,this.amount):(0,oo.makeStandardSTXPostCondition)(this.address,this.code,this.amount)}ft(t,r){let[n,i]=Zc(t);return this.contractName?(0,oo.makeContractFungiblePostCondition)(this.address,this.contractName,this.code,this.amount,(0,Wc.createAssetInfo)(n,i,r)):(0,oo.makeStandardFungiblePostCondition)(this.address,this.code,this.amount,(0,Wc.createAssetInfo)(n,i,r))}},Yc=class{constructor(t,r,n){this.principal=t,this.code=r,this.contractName=n}nft(...t){let{contractAddress:r,contractName:n,tokenName:i,assetId:s}=A9(...t);return this.contractName?(0,oo.makeContractNonFungiblePostCondition)(this.principal,this.contractName,this.code,(0,Wc.createAssetInfo)(r,n,i),s):(0,oo.makeStandardNonFungiblePostCondition)(this.principal,this.code,(0,Wc.createAssetInfo)(r,n,i),s)}};function Zc(e){let[t,r]=e.split(".");if(!t||!r)throw new Error(`Invalid contract identifier: ${e}`);return[t,r]}function E9(e){let[t,r]=e.split("::");if(!t||!r)throw new Error(`Invalid fully-qualified nft asset name: ${e}`);let[n,i]=Zc(t);return{contractAddress:n,contractName:i,tokenName:r}}function P9(e){return e.includes(".")}function A9(...e){if(e.length===2){let[o,c]=e;return{...E9(o),assetId:c}}let[t,r,n]=e,[i,s]=Zc(t);return{contractAddress:i,contractName:s,tokenName:r,assetId:n}}});var zg=R(pr=>{C();x();Object.defineProperty(pr,"__esModule",{value:!0});pr.signStructuredData=pr.decodeStructuredDataSignature=pr.encodeStructuredData=pr.hashStructuredData=pr.STRUCTURED_DATA_PREFIX=void 0;var Kg=Rr(),Ml=Se(),Qc=Ln(),M9=sr(),I9=bi();pr.STRUCTURED_DATA_PREFIX=new Uint8Array([83,73,80,48,49,56]);function Al(e){return Kg.base.sha256((0,Qc.serializeCV)(e))}pr.hashStructuredData=Al;var Dg=32;function B9(e){return!(e.type!==Qc.ClarityType.Tuple||!["name","version","chain-id"].every(t=>t in e.data)||!["name","version"].every(t=>e.data[t].type===Qc.ClarityType.StringASCII)||e.data["chain-id"].type!==Qc.ClarityType.UInt)}function Ug({message:e,domain:t}){let r=Al(e);if(!B9(t))throw new Error("domain parameter must be a valid domain of type TupleCV with keys 'name', 'version', 'chain-id' with respective types StringASCII, StringASCII, UInt");let n=Al(t);return(0,Ml.concatBytes)(pr.STRUCTURED_DATA_PREFIX,n,r)}pr.encodeStructuredData=Ug;function O9(e){let t=typeof e=="string"?(0,Ml.utf8ToBytes)(e):e,r=t.slice(pr.STRUCTURED_DATA_PREFIX.length,pr.STRUCTURED_DATA_PREFIX.length+Dg),n=t.slice(pr.STRUCTURED_DATA_PREFIX.length+Dg);return{domainHash:r,messageHash:n}}pr.decodeStructuredDataSignature=O9;function k9({message:e,domain:t,privateKey:r}){let n=(0,Ml.bytesToHex)(Kg.base.sha256(Ug({message:e,domain:t}))),{data:i}=(0,I9.signMessageHashRsv)({messageHash:n,privateKey:r});return{data:i,type:M9.StacksMessageType.StructuredDataSignature}}pr.signStructuredData=k9});var Ys=R(J=>{C();x();var Fg=J&&J.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),R9=J&&J.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hr=J&&J.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fg(t,e,r)},jg=J&&J.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Fg(t,e,r);return R9(t,e),t};Object.defineProperty(J,"__esModule",{value:!0});J.deserializeTransaction=J.StacksTransaction=J.createSTXPostCondition=J.createNonFungiblePostCondition=J.createFungiblePostCondition=J.Pc=J.serializePayload=J.isTokenTransferPayload=J.isSmartContractPayload=J.isPoisonPayload=J.isContractCallPayload=J.isCoinbasePayload=J.Cl=J.BytesReader=J.isSingleSig=J.emptyMessageSignature=void 0;Hr(Zs(),J);var $g=Zs();Object.defineProperty(J,"emptyMessageSignature",{enumerable:!0,get:function(){return $g.emptyMessageSignature}});Object.defineProperty(J,"isSingleSig",{enumerable:!0,get:function(){return $g.isSingleSig}});Hr(Tl(),J);var N9=Rc();Object.defineProperty(J,"BytesReader",{enumerable:!0,get:function(){return N9.BytesReader}});J.Cl=jg(Ng());Hr(Ln(),J);Hr(is(),J);Hr(sr(),J);Hr(Hg(),J);Hr(bi(),J);var ao=Us();Object.defineProperty(J,"isCoinbasePayload",{enumerable:!0,get:function(){return ao.isCoinbasePayload}});Object.defineProperty(J,"isContractCallPayload",{enumerable:!0,get:function(){return ao.isContractCallPayload}});Object.defineProperty(J,"isPoisonPayload",{enumerable:!0,get:function(){return ao.isPoisonPayload}});Object.defineProperty(J,"isSmartContractPayload",{enumerable:!0,get:function(){return ao.isSmartContractPayload}});Object.defineProperty(J,"isTokenTransferPayload",{enumerable:!0,get:function(){return ao.isTokenTransferPayload}});Object.defineProperty(J,"serializePayload",{enumerable:!0,get:function(){return ao.serializePayload}});J.Pc=jg(Vg());var Il=bl();Object.defineProperty(J,"createFungiblePostCondition",{enumerable:!0,get:function(){return Il.createFungiblePostCondition}});Object.defineProperty(J,"createNonFungiblePostCondition",{enumerable:!0,get:function(){return Il.createNonFungiblePostCondition}});Object.defineProperty(J,"createSTXPostCondition",{enumerable:!0,get:function(){return Il.createSTXPostCondition}});Hr(xn(),J);Hr(Go(),J);Hr(ml(),J);Hr(zg(),J);var Gg=wl();Object.defineProperty(J,"StacksTransaction",{enumerable:!0,get:function(){return Gg.StacksTransaction}});Object.defineProperty(J,"deserializeTransaction",{enumerable:!0,get:function(){return Gg.deserializeTransaction}});Hr(pi(),J);Hr(Ur(),J)});var Wg=R(ef=>{C();x();Object.defineProperty(ef,"__esModule",{value:!0});ef.hashRipemd160=void 0;var L9=Rr();function q9(e){return L9.base.ripemd160(e)}ef.hashRipemd160=q9});var tf=R(vi=>{C();x();Object.defineProperty(vi,"__esModule",{value:!0});vi.hashSha512Sync=vi.hashSha256Sync=vi.NodeCryptoSha2Hash=void 0;var Xg=Rr(),Bl=class{constructor(t){this.createHash=t}async digest(t,r="sha256"){try{let n=this.createHash(r).update(t).digest();return Promise.resolve(n)}catch(n){return console.log(n),console.log(`Error performing ${r} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve(r==="sha256"?Yg(t):Zg(t))}}};vi.NodeCryptoSha2Hash=Bl;function Yg(e){return Xg.base.sha256(e)}vi.hashSha256Sync=Yg;function Zg(e){return Xg.base.sha512(e)}vi.hashSha512Sync=Zg});var Rl=R(Vt=>{C();x();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.compressPrivateKey=Vt.isValidPrivateKey=Vt.ecSign=Vt.getPublicKeyFromPrivate=Vt.publicKeyToBtcAddress=Vt.base58CheckEncode=Vt.base58Encode=Vt.base58CheckDecode=Vt.makeECPrivateKey=void 0;var Ol=Uo(),_i=Rr(),H9=Ol.secp256k1.getPublicKey,V9=Ol.secp256k1.signSync,kl=Ol.secp256k1.utils,Zr=Se(),D9=Wg(),K9=tf(),U9=0;kl.hmacSha256Sync=(e,...t)=>{let r=_i.base.hmac.create(_i.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};function z9(){return(0,Zr.bytesToHex)(kl.randomPrivateKey())}Vt.makeECPrivateKey=z9;function F9(e){let t=_i.base.base58.decode(e),r=t.slice(0,-4),n=t.slice(-4),i=_i.base.sha256(_i.base.sha256(r));if(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3])throw new Error("Invalid checksum");if(r.length!==21)throw new TypeError("Invalid address length");let s=(0,Zr.readUInt8)(r,0),o=r.slice(1);return{version:s,hash:o}}Vt.base58CheckDecode=F9;function Jg(e){let t=_i.base.sha256(_i.base.sha256(e));return _i.base.base58.encode((0,Zr.concatBytes)(e,t).slice(0,e.length+4))}Vt.base58Encode=Jg;function Qg(e,t){return Jg((0,Zr.concatBytes)(new Uint8Array([e]),t.slice(0,20)))}Vt.base58CheckEncode=Qg;function j9(e,t=U9){let r=typeof e=="string"?(0,Zr.hexToBytes)(e):e,n=(0,D9.hashRipemd160)((0,K9.hashSha256Sync)(r));return Qg(t,n)}Vt.publicKeyToBtcAddress=j9;function $9(e){let t=(0,Zr.privateKeyToBytes)(e);return(0,Zr.bytesToHex)(H9(t.slice(0,32),!0))}Vt.getPublicKeyFromPrivate=$9;function G9(e,t){return V9(e,(0,Zr.privateKeyToBytes)(t).slice(0,32),{der:!1})}Vt.ecSign=G9;function W9(e){return kl.isValidPrivateKey((0,Zr.privateKeyToBytes)(e))}Vt.isValidPrivateKey=W9;function X9(e){let t=(0,Zr.privateKeyToBytes)(e);return t.length==Zr.PRIVATE_KEY_COMPRESSED_LENGTH?t:(0,Zr.concatBytes)(t,new Uint8Array([1]))}Vt.compressPrivateKey=X9});var e2=R(rf=>{C();x();Object.defineProperty(rf,"__esModule",{value:!0});rf.randomBytes=void 0;var Y9=Rr(),Z9=(e=32)=>Y9.base.randomBytes(e);rf.randomBytes=Z9});var Nl=R(Si=>{C();x();Object.defineProperty(Si,"__esModule",{value:!0});Si.hashCode=Si.getBase64OutputLength=Si.getAesCbcOutputLength=void 0;function J9(e){return(Math.floor(e/16)+1)*16}Si.getAesCbcOutputLength=J9;function Q9(e){return Math.ceil(e/3)*4}Si.getBase64OutputLength=Q9;function ew(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t&2147483647}Si.hashCode=ew});var r2=R(wi=>{C();x();Object.defineProperty(wi,"__esModule",{value:!0});wi.encodingLength=wi.decode=wi.encode=void 0;var Vr=Se(),tw=9007199254740991;function Ll(e){if(e<0||e>tw||e%1!==0)throw new RangeError("value out of range")}function rw(e,t,r=0){return Ll(e),t||(t=new Uint8Array(t2(e))),e<253?(0,Vr.writeUInt8)(t,e,r):e<=65535?((0,Vr.writeUInt8)(t,253,r),(0,Vr.writeUInt16LE)(t,e,r+1)):e<=4294967295?((0,Vr.writeUInt8)(t,254,r),(0,Vr.writeUInt32LE)(t,e,r+1)):((0,Vr.writeUInt8)(t,255,r),(0,Vr.writeUInt32LE)(t,e>>>0,r+1),(0,Vr.writeUInt32LE)(t,e/4294967296|0,r+5)),t}wi.encode=rw;function nw(e,t=0){let r=(0,Vr.readUInt8)(e,t);if(r<253)return r;if(r===253)return(0,Vr.readUInt16LE)(e,t+1);if(r===254)return(0,Vr.readUInt32LE)(e,t+1);{let n=(0,Vr.readUInt32LE)(e,t+1),s=(0,Vr.readUInt32LE)(e,t+5)*4294967296+n;return Ll(s),s}}wi.decode=nw;function t2(e){return Ll(e),e<253?1:e<=65535?3:e<=4294967295?5:9}wi.encodingLength=t2});var Vl=R(Ci=>{C();x();Object.defineProperty(Ci,"__esModule",{value:!0});Ci.decodeMessage=Ci.encodeMessage=Ci.hashMessage=void 0;var iw=Rr(),nf=Se(),ql=r2(),Hl=`Stacks Signed Message:
`;function sw(e,t=Hl){return iw.base.sha256(n2(e,t))}Ci.hashMessage=sw;function n2(e,t=Hl){let r=typeof e=="string"?(0,nf.utf8ToBytes)(e):e,n=(0,ql.encode)(r.length);return(0,nf.concatBytes)((0,nf.utf8ToBytes)(t),n,r)}Ci.encodeMessage=n2;function ow(e,t=Hl){let r=(0,nf.utf8ToBytes)(t).byteLength,n=e.subarray(r),i=(0,ql.decode)(n),s=(0,ql.encodingLength)(i);return n.slice(s)}Ci.decodeMessage=ow});var d2=R(Ye=>{C();x();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.verifyMessageSignatureRsv=Ye.verifyMessageSignature=Ye.verifyECDSA=Ye.signECDSA=Ye.eciesGetJsonStringLength=Ye.getSignedCipherObjectWrapper=Ye.getCipherObjectWrapper=Ye.getBytesFromBN=Ye.getHexFromBN=Ye.hmacSha256=Ye.InvalidPublicKeyReason=void 0;var co=Uo(),na=Rr(),aw=co.secp256k1.signSync,cw=co.secp256k1.utils,xi=Se(),fw=Rl(),i2=Vl(),o2=tf(),s2=Nl();cw.hmacSha256Sync=(e,...t)=>{let r=na.base.hmac.create(na.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};var dw;(function(e){e.InvalidFormat="InvalidFormat",e.IsNotPoint="IsNotPoint"})(dw=Ye.InvalidPublicKeyReason||(Ye.InvalidPublicKeyReason={}));function uw(e,t){return na.base.hmac(na.base.sha256,e,t)}Ye.hmacSha256=uw;function lw(e){let t=e.toString(16);if(t.length===64)return t;if(t.length<64)return`${"0".repeat(64-t.length)}${t}`;throw new Error("Generated a > 32-byte BN for encryption. Failing.")}Ye.getHexFromBN=lw;function hw(e){let t=(0,xi.bigIntToBytes)(e,32);if(t.byteLength!==32)throw new Error("Failed to generate a 32-byte Uint8Array");return t}Ye.getBytesFromBN=hw;function a2(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let r=32,n=66,i=64;return{payloadValuesLength:r+n+i,payloadShell:JSON.stringify(t)}}Ye.getCipherObjectWrapper=a2;function c2(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}Ye.getSignedCipherObjectWrapper=c2;function bw(e){let{payloadShell:t,payloadValuesLength:r}=a2(e),n=(0,s2.getAesCbcOutputLength)(e.contentLength),i;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")i=n*2;else if(e.cipherTextEncoding==="base64")i=(0,s2.getBase64OutputLength)(n);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:s,signedPayloadValuesLength:o}=c2(t);return s.length+o+r+i}else return t.length+r+i}Ye.eciesGetJsonStringLength=bw;function pw(e,t){let r=typeof t=="string"?(0,xi.utf8ToBytes)(t):t,n=(0,fw.getPublicKeyFromPrivate)(e),i=(0,o2.hashSha256Sync)(r),s=aw(i,e);return{signature:(0,xi.bytesToHex)(s),publicKey:n}}Ye.signECDSA=pw;function yw(e,t,r){let n=typeof e=="string"?(0,xi.utf8ToBytes)(e):e,i=(0,o2.hashSha256Sync)(n);return co.secp256k1.verify(r,i,t,{strict:!1})}Ye.verifyECDSA=yw;function f2({signature:e,message:t,publicKey:r}){let{r:n,s:i}=(0,xi.parseRecoverableSignatureVrs)(e),s=new co.secp256k1.Signature((0,xi.hexToBigInt)(n),(0,xi.hexToBigInt)(i)),o=typeof t=="string"?(0,i2.hashMessage)(t):t,c=co.secp256k1.verify(s,o,r,{strict:!1});if(c||typeof t!="string")return c;let d=`Stacks Message Signing:
`,l=na.base.sha256((0,i2.encodeMessage)(t,d));return co.secp256k1.verify(s,l,r,{strict:!1})}Ye.verifyMessageSignature=f2;function gw({signature:e,message:t,publicKey:r}){return f2({signature:(0,xi.signatureRsvToVrs)(e),message:t,publicKey:r})}Ye.verifyMessageSignatureRsv=gw});var Dl=R(Jr=>{C();x();var mw=Jr&&Jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fo=Jr&&Jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mw(t,e,r)};Object.defineProperty(Jr,"__esModule",{value:!0});fo(Rl(),Jr);fo(e2(),Jr);fo(tf(),Jr);fo(Nl(),Jr);fo(Vl(),Jr);fo(d2(),Jr)});var u2=R(Le=>{C();x();Object.defineProperty(Le,"__esModule",{value:!0});Le.StackingErrors=Le.PoxOperationPeriod=Le.SEGWIT_V1=Le.SEGWIT_V0=Le.SEGWIT_ADDR_PREFIXES=Le.SegwitPrefix=Le.SEGWIT_V1_ADDR_PREFIX=Le.SEGWIT_V0_ADDR_PREFIX=Le.B58_ADDR_PREFIXES=Le.BitcoinNetworkVersion=Le.PoXAddressVersion=void 0;var vw;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2SHP2WPKH=2]="P2SHP2WPKH",e[e.P2SHP2WSH=3]="P2SHP2WSH",e[e.P2WPKH=4]="P2WPKH",e[e.P2WSH=5]="P2WSH",e[e.P2TR=6]="P2TR"})(vw=Le.PoXAddressVersion||(Le.PoXAddressVersion={}));Le.BitcoinNetworkVersion={mainnet:{P2PKH:0,P2SH:5},testnet:{P2PKH:111,P2SH:196},regtest:{P2PKH:111,P2SH:196}};Le.B58_ADDR_PREFIXES=/^(1|3|m|n|2)/;Le.SEGWIT_V0_ADDR_PREFIX=/^(bc1q|tb1q|bcrt1q)/i;Le.SEGWIT_V1_ADDR_PREFIX=/^(bc1p|tb1p|bcrt1p)/i;Le.SegwitPrefix={mainnet:"bc",testnet:"tb",regtest:"bcrt"};Le.SEGWIT_ADDR_PREFIXES=/^(bc|tb)/i;Le.SEGWIT_V0=0;Le.SEGWIT_V1=1;var _w;(function(e){e.Period1="Period1",e.Period2a="Period2a",e.Period2b="Period2b",e.Period3="Period3"})(_w=Le.PoxOperationPeriod||(Le.PoxOperationPeriod={}));var Sw;(function(e){e[e.ERR_STACKING_UNREACHABLE=255]="ERR_STACKING_UNREACHABLE",e[e.ERR_STACKING_CORRUPTED_STATE=254]="ERR_STACKING_CORRUPTED_STATE",e[e.ERR_STACKING_INSUFFICIENT_FUNDS=1]="ERR_STACKING_INSUFFICIENT_FUNDS",e[e.ERR_STACKING_INVALID_LOCK_PERIOD=2]="ERR_STACKING_INVALID_LOCK_PERIOD",e[e.ERR_STACKING_ALREADY_STACKED=3]="ERR_STACKING_ALREADY_STACKED",e[e.ERR_STACKING_NO_SUCH_PRINCIPAL=4]="ERR_STACKING_NO_SUCH_PRINCIPAL",e[e.ERR_STACKING_EXPIRED=5]="ERR_STACKING_EXPIRED",e[e.ERR_STACKING_STX_LOCKED=6]="ERR_STACKING_STX_LOCKED",e[e.ERR_STACKING_PERMISSION_DENIED=9]="ERR_STACKING_PERMISSION_DENIED",e[e.ERR_STACKING_THRESHOLD_NOT_MET=11]="ERR_STACKING_THRESHOLD_NOT_MET",e[e.ERR_STACKING_POX_ADDRESS_IN_USE=12]="ERR_STACKING_POX_ADDRESS_IN_USE",e[e.ERR_STACKING_INVALID_POX_ADDRESS=13]="ERR_STACKING_INVALID_POX_ADDRESS",e[e.ERR_STACKING_ALREADY_REJECTED=17]="ERR_STACKING_ALREADY_REJECTED",e[e.ERR_STACKING_INVALID_AMOUNT=18]="ERR_STACKING_INVALID_AMOUNT",e[e.ERR_NOT_ALLOWED=19]="ERR_NOT_ALLOWED",e[e.ERR_STACKING_ALREADY_DELEGATED=20]="ERR_STACKING_ALREADY_DELEGATED",e[e.ERR_DELEGATION_EXPIRES_DURING_LOCK=21]="ERR_DELEGATION_EXPIRES_DURING_LOCK",e[e.ERR_DELEGATION_TOO_MUCH_LOCKED=22]="ERR_DELEGATION_TOO_MUCH_LOCKED",e[e.ERR_DELEGATION_POX_ADDR_REQUIRED=23]="ERR_DELEGATION_POX_ADDR_REQUIRED",e[e.ERR_INVALID_START_BURN_HEIGHT=24]="ERR_INVALID_START_BURN_HEIGHT",e[e.ERR_NOT_CURRENT_STACKER=25]="ERR_NOT_CURRENT_STACKER",e[e.ERR_STACK_EXTEND_NOT_LOCKED=26]="ERR_STACK_EXTEND_NOT_LOCKED",e[e.ERR_STACK_INCREASE_NOT_LOCKED=27]="ERR_STACK_INCREASE_NOT_LOCKED",e[e.ERR_DELEGATION_NO_REWARD_SLOT=28]="ERR_DELEGATION_NO_REWARD_SLOT",e[e.ERR_DELEGATION_WRONG_REWARD_SLOT=29]="ERR_DELEGATION_WRONG_REWARD_SLOT",e[e.ERR_STACKING_IS_DELEGATED=30]="ERR_STACKING_IS_DELEGATED",e[e.ERR_STACKING_NOT_DELEGATED=31]="ERR_STACKING_NOT_DELEGATED"})(Sw=Le.StackingErrors||(Le.StackingErrors={}))});var Kl=R(Je=>{C();x();Object.defineProperty(Je,"__esModule",{value:!0});Je.ensureLegacyBtcAddressForPox1=Je.ensurePox2Activated=Je.unwrapMap=Je.unwrap=Je.poxAddressToBtcAddress=Je.poxAddressToTuple=Je.getErrorString=Je.extractPoxAddressFromClarityValue=Je.decodeBtcAddress=Je.btcAddressVersionToLegacyHashMode=Je.InvalidAddressError=void 0;var Ti=Rr(),ww=Se(),l2=Dl(),vn=Ys(),G=u2(),sf=class extends Error{constructor(t,r){let n=`'${t}' is not a valid P2PKH/P2SH/P2WPKH/P2WSH/P2TR address`;super(n),this.message=n,this.name=this.constructor.name,this.innerError=r,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};Je.InvalidAddressError=sf;function h2(e){switch(e){case G.BitcoinNetworkVersion.mainnet.P2PKH:return G.PoXAddressVersion.P2PKH;case G.BitcoinNetworkVersion.testnet.P2PKH:return G.PoXAddressVersion.P2PKH;case G.BitcoinNetworkVersion.mainnet.P2SH:return G.PoXAddressVersion.P2SH;case G.BitcoinNetworkVersion.testnet.P2SH:return G.PoXAddressVersion.P2SH;default:throw new Error("Invalid pox address version")}}Je.btcAddressVersionToLegacyHashMode=h2;function Cw(e,t){if(e===G.SEGWIT_V0&&t===20)return G.PoXAddressVersion.P2WPKH;if(e===G.SEGWIT_V0&&t===32)return G.PoXAddressVersion.P2WSH;if(e===G.SEGWIT_V1&&t===32)return G.PoXAddressVersion.P2TR;throw new Error("Invalid native segwit witness version and byte length. Currently, only P2WPKH, P2WSH, and P2TR are supported.")}function xw(e){let{words:t}=Ti.base.bech32.decode(e),r=t[0];if(r>0)throw new Error("Addresses with a witness version >= 1 should be encoded in bech32m");return{witnessVersion:r,data:Ti.base.bech32.fromWords(t.slice(1))}}function Tw(e){let{words:t}=Ti.base.bech32m.decode(e),r=t[0];if(r==0)throw new Error("Addresses with witness version 1 should be encoded in bech32");return{witnessVersion:r,data:Ti.base.bech32m.fromWords(t.slice(1))}}function Ew(e){if(G.SEGWIT_V0_ADDR_PREFIX.test(e))return xw(e);if(G.SEGWIT_V1_ADDR_PREFIX.test(e))return Tw(e);throw new Error(`Native segwit address ${e} does not match valid prefix ${G.SEGWIT_V0_ADDR_PREFIX} or ${G.SEGWIT_V1_ADDR_PREFIX}`)}function b2(e){try{if(G.B58_ADDR_PREFIXES.test(e)){let t=(0,l2.base58CheckDecode)(e);return{version:h2(t.version),data:t.hash}}else if(G.SEGWIT_ADDR_PREFIXES.test(e)){let t=Ew(e);return{version:Cw(t.witnessVersion,t.data.length),data:t.data}}throw new Error("Unknown BTC address prefix.")}catch(t){throw new sf(e,t)}}Je.decodeBtcAddress=b2;function p2(e){let t=e;if(t.type!==vn.ClarityType.Tuple||!t.data)throw new Error("Invalid argument, expected ClarityValue to be a TupleCV");if(!("version"in t.data)||!("hashbytes"in t.data))throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` keys");let r=t.data.version,n=t.data.hashbytes;if(r.type!==vn.ClarityType.Buffer||n.type!==vn.ClarityType.Buffer)throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` buffers");return{version:r.buffer[0],hashBytes:n.buffer}}Je.extractPoxAddressFromClarityValue=p2;function Pw(e){switch(e){case G.StackingErrors.ERR_STACKING_UNREACHABLE:return"Stacking unreachable";case G.StackingErrors.ERR_STACKING_CORRUPTED_STATE:return"Stacking state is corrupted";case G.StackingErrors.ERR_STACKING_INSUFFICIENT_FUNDS:return"Insufficient funds";case G.StackingErrors.ERR_STACKING_INVALID_LOCK_PERIOD:return"Invalid lock period";case G.StackingErrors.ERR_STACKING_ALREADY_STACKED:return"Account already stacked. Concurrent stacking not allowed.";case G.StackingErrors.ERR_STACKING_NO_SUCH_PRINCIPAL:return"Principal does not exist";case G.StackingErrors.ERR_STACKING_EXPIRED:return"Stacking expired";case G.StackingErrors.ERR_STACKING_STX_LOCKED:return"STX balance is locked";case G.StackingErrors.ERR_STACKING_PERMISSION_DENIED:return"Permission denied";case G.StackingErrors.ERR_STACKING_THRESHOLD_NOT_MET:return"Stacking threshold not met";case G.StackingErrors.ERR_STACKING_POX_ADDRESS_IN_USE:return"PoX address already in use";case G.StackingErrors.ERR_STACKING_INVALID_POX_ADDRESS:return"Invalid PoX address";case G.StackingErrors.ERR_STACKING_ALREADY_REJECTED:return"Stacking already rejected";case G.StackingErrors.ERR_STACKING_INVALID_AMOUNT:return"Invalid amount";case G.StackingErrors.ERR_NOT_ALLOWED:return"Stacking not allowed";case G.StackingErrors.ERR_STACKING_ALREADY_DELEGATED:return"Already delegated";case G.StackingErrors.ERR_DELEGATION_EXPIRES_DURING_LOCK:return"Delegation expires during lock period";case G.StackingErrors.ERR_DELEGATION_TOO_MUCH_LOCKED:return"Delegation too much locked";case G.StackingErrors.ERR_DELEGATION_POX_ADDR_REQUIRED:return"PoX address required for delegation";case G.StackingErrors.ERR_INVALID_START_BURN_HEIGHT:return"Invalid start burn height";case G.StackingErrors.ERR_NOT_CURRENT_STACKER:return"ERR_NOT_CURRENT_STACKER";case G.StackingErrors.ERR_STACK_EXTEND_NOT_LOCKED:return"Stacker must be currently locked";case G.StackingErrors.ERR_STACK_INCREASE_NOT_LOCKED:return"Stacker must be currently locked";case G.StackingErrors.ERR_DELEGATION_NO_REWARD_SLOT:return"Invalid reward-cycle and reward-cycle-index";case G.StackingErrors.ERR_DELEGATION_WRONG_REWARD_SLOT:return"PoX address must match the one on record";case G.StackingErrors.ERR_STACKING_IS_DELEGATED:return"Stacker must be directly stacking and not delegating";case G.StackingErrors.ERR_STACKING_NOT_DELEGATED:return"Stacker must be delegating and not be directly stacking"}}Je.getErrorString=Pw;function Aw(e){let{version:t,data:r}=b2(e),n=(0,vn.bufferCV)((0,ww.bigIntToBytes)(BigInt(t),1)),i=(0,vn.bufferCV)(r);return(0,vn.tupleCV)({version:n,hashbytes:i})}Je.poxAddressToTuple=Aw;function Mw(e,t){switch(e){case G.PoXAddressVersion.P2PKH:return G.BitcoinNetworkVersion[t].P2PKH;case G.PoXAddressVersion.P2SH:case G.PoXAddressVersion.P2SHP2WPKH:case G.PoXAddressVersion.P2SHP2WSH:return G.BitcoinNetworkVersion[t].P2SH;default:throw new Error("Invalid pox address version")}}function y2(e,t,r){if(!["mainnet","testnet","regtest"].includes(r))throw new Error("Invalid network.");switch(e){case G.PoXAddressVersion.P2PKH:case G.PoXAddressVersion.P2SH:case G.PoXAddressVersion.P2SHP2WPKH:case G.PoXAddressVersion.P2SHP2WSH:{let n=Mw(e,r);return(0,l2.base58CheckEncode)(n,t)}case G.PoXAddressVersion.P2WPKH:case G.PoXAddressVersion.P2WSH:{let n=Ti.base.bech32.toWords(t);return Ti.base.bech32.encode(G.SegwitPrefix[r],[G.SEGWIT_V0,...n])}case G.PoXAddressVersion.P2TR:{let n=Ti.base.bech32m.toWords(t);return Ti.base.bech32m.encode(G.SegwitPrefix[r],[G.SEGWIT_V1,...n])}}throw new Error(`Unexpected address version: ${e}`)}function Iw(e,t){let r=p2(e);return y2(r.version,r.hashBytes,t)}function Bw(...e){return typeof e[0]=="number"?y2(e[0],e[1],e[2]):Iw(e[0],e[1])}Je.poxAddressToBtcAddress=Bw;function Ow(e){if(e.type===vn.ClarityType.OptionalSome)return e.value;if(e.type!==vn.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}Je.unwrap=Ow;function kw(e,t){if(e.type===vn.ClarityType.OptionalSome)return t(e.value);if(e.type!==vn.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}Je.unwrapMap=kw;function Rw(e){if(e.period===G.PoxOperationPeriod.Period1)throw new Error(`PoX-2 has not activated yet (currently in period ${e.period} of PoX-2 operation)`)}Je.ensurePox2Activated=Rw;function Nw({contract:e,poxAddress:t}){if(!!t&&e.endsWith(".pox")&&!G.B58_ADDR_PREFIXES.test(t))throw new Error("PoX-1 requires P2PKH/P2SH/P2SH-P2WPKH/P2SH-P2WSH bitcoin addresses")}Je.ensureLegacyBtcAddressForPox1=Nw});var zl=R(Dr=>{C();x();var Lw=Dr&&Dr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qw=Dr&&Dr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Lw(t,e,r)};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.getDelegateOptions=Dr.renamePrivateKey=Dr.stack=void 0;var Hw=Se(),g2=ta(),wr=Ys(),Ul=Kl();qw(Kl(),Dr);async function Vw({contract:e,amountMicroStx:t,poxAddress:r,cycles:n,burnBlockHeight:i,...s}){(0,Ul.ensureLegacyBtcAddressForPox1)({contract:e,poxAddress:r});let o=Dw({amountMicroStx:t,cycles:n,poxAddress:r,contract:e,burnBlockHeight:i}),c=await(0,wr.makeContractCall)({...o,...m2(s)}),d=(0,wr.addHex)(c.txid()),l=(0,Hw.bytesToHex)(c.serialize());return{txId:d,txSerializedHexString:l}}Dr.stack=Vw;function Dw({amountMicroStx:e,poxAddress:t,cycles:r,contract:n,burnBlockHeight:i}){let s=(0,Ul.poxAddressToTuple)(t),[o,c]=Kw(n);return{contractAddress:o,contractName:c,functionName:"stack-stx",functionArgs:[(0,wr.uintCV)(e),s,(0,wr.uintCV)(i),(0,wr.uintCV)(r)],validateWithAbi:!0,network:new g2.StacksMainnet,anchorMode:wr.AnchorMode.Any}}function Kw(e){let t=e.split(".");if(t.length===2&&(0,wr.validateStacksAddress)(t[0])&&t[1].startsWith("pox"))return t;throw new Error("Stacking contract ID is malformed")}function m2(e){return e.senderKey=e.privateKey,delete e.privateKey,e}Dr.renamePrivateKey=m2;function Uw(e,t,r,n,i,s,o){let c=o?(0,wr.someCV)((0,Ul.poxAddressToTuple)(o)):(0,wr.noneCV)();return{contractAddress:e,contractName:t,functionName:r,functionArgs:[(0,wr.uintCV)(n),(0,wr.principalCV)(i),s?(0,wr.someCV)((0,wr.uintCV)(s)):(0,wr.noneCV)(),c],validateWithAbi:!0,network:new g2.StacksMainnet,anchorMode:wr.AnchorMode.Any}}Dr.getDelegateOptions=Uw});var _2=R(_e=>{C();x();Object.defineProperty(_e,"__esModule",{value:!0});_e.getDeployPayload=_e.getContractCallPayload=_e.getRevokeDelegateStxPayload=_e.getDelegateStxPayload=_e.getAllowContractCallerPayload=_e.getTokenTransferPayload=_e.getTransferPayload=_e.revokeDelegateStx=_e.delegateStx=_e.ContractDeployTx=_e.makeContractCallTx=_e.TransactionTypes=_e.allowContractCaller=_e.tokenTransfer=_e.stacks=_e.transfer=void 0;var U=Ys(),Ei=Us(),Cr=Se(),of=ta(),Fl=zl(),v2=Ur();function zw(e,t,r,n,i,s,o){if(!(0,v2.validateStacksAddress)(t))throw new Error("Invalid recipient address");let c=U.TransactionVersion.Mainnet,d=t,l=(0,U.createStandardPrincipal)(d),p=(0,U.standardPrincipalCV)(d),b=(0,Ei.createTokenTransferPayload)(p,r,n),E=U.AddressHashMode.SerializeP2PKH,w=(0,U.createStacksPrivateKey)(e),P=(0,Cr.bytesToHex)((0,U.getPublicKey)(w).data),T=(0,U.createSingleSigSpendingCondition)(E,P,i,s),I=(0,U.createStandardAuth)(T),M=(0,U.createLPList)([]),k=new U.StacksTransaction(c,I,b,M,void 0,o);new U.TransactionSigner(k).signOrigin((0,U.createStacksPrivateKey)(e)),k.verifyOrigin();let N=(0,U.addHex)(k.txid()),L=k.serialize(),q=(0,Cr.bytesToHex)(L);return{txId:N,txSerializedHexString:q}}_e.transfer=zw;async function Fw(e,t,r,n,i,s,o,c,d){let l=new of.StacksMainnet;return await(0,Fl.stack)({contract:o,amountMicroStx:n,poxAddress:r,cycles:i,privateKey:e,burnBlockHeight:s,fee:c,nonce:d})}_e.stacks=Fw;async function jw(e,t,r,n,i,s,o,c,d,l,p){if(!(0,v2.validateStacksAddress)(r))throw new Error("Invalid recipient address");let b=await(0,U.makeContractCall)({anchorMode:U.AnchorMode.Any,contractAddress:s,contractName:o,fee:p,functionArgs:[(0,U.uintCV)(i),(0,U.standardPrincipalCV)(t),(0,U.standardPrincipalCV)(r),(0,U.someCV)((0,U.bufferCVFromString)(n))],functionName:d,nonce:l,postConditionMode:U.PostConditionMode.Deny,postConditions:[(0,U.makeStandardFungiblePostCondition)(t,U.FungibleConditionCode.Equal,i,(0,U.createAssetInfo)(s,o,c))],senderKey:e,network:new of.StacksMainnet}),E=(0,U.addHex)(b.txid()),w=(0,Cr.bytesToHex)(b.serialize());return{txId:E,txSerializedHexString:w}}_e.tokenTransfer=jw;async function $w(e,t,r,n,i,s,o,c){let d=await(0,U.makeContractCall)({anchorMode:U.AnchorMode.Any,contractAddress:r,contractName:n,fee:c,functionArgs:[(0,U.principalCV)(t),s?(0,U.someCV)((0,U.uintCV)(s)):(0,U.noneCV)()],functionName:i,nonce:o,senderKey:e,network:new of.StacksMainnet}),l=(0,U.addHex)(d.txid()),p=(0,Cr.bytesToHex)(d.serialize());return{txId:l,txSerializedHexString:p}}_e.allowContractCaller=$w;var Gw;(function(e){e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer"})(Gw=_e.TransactionTypes||(_e.TransactionTypes={}));async function Ww(e,t){let{txData:r,nonce:n,fee:i}=e,{contractName:s,contractAddress:o,functionName:c,functionArgs:d,sponsored:l,postConditionMode:p,postConditions:b,anchorMode:E}=r,w=d.map(k=>(0,U.deserializeCV)((0,U.hexToBuff)(k))),P={senderKey:t,contractName:s,contractAddress:o,functionName:c,anchorMode:E??U.AnchorMode.Any,functionArgs:w,nonce:n,fee:i,postConditionMode:p,postConditions:b?.map(U.postConditionFromString),sponsored:l},T=await(0,U.makeContractCall)(P),I=(0,U.addHex)(T.txid()),M=(0,Cr.bytesToHex)(T.serialize());return{txId:I,txSerializedHexString:M}}_e.makeContractCallTx=Ww;async function Xw(e,t){let{txData:r,nonce:n,fee:i}=e,{contractName:s,codeBody:o,postConditions:c,postConditionMode:d,anchorMode:l}=r,p={senderKey:t,contractName:s,codeBody:o,nonce:n,fee:i,anchorMode:l??U.AnchorMode.Any,postConditionMode:d,postConditions:c?.map(U.postConditionFromString)},b=await(0,U.makeContractDeploy)(p),E=(0,U.addHex)(b.txid()),w=(0,Cr.bytesToHex)(b.serialize());return{txId:E,txSerializedHexString:w}}_e.ContractDeployTx=Xw;async function Yw(e,t,r,n,i,s,o,c,d,l){let p=(0,Fl.getDelegateOptions)(t,r,n,o,i,c,s),b=await(0,U.makeContractCall)({...p,senderKey:e,nonce:d,fee:l}),E=(0,U.addHex)(b.txid()),w=(0,Cr.bytesToHex)(b.serialize());return{txId:E,txSerializedHexString:w}}_e.delegateStx=Yw;async function Zw(e,t,r,n,i,s){let o=await(0,U.makeContractCall)({anchorMode:U.AnchorMode.Any,contractAddress:t,contractName:r,fee:s,functionArgs:[],functionName:n,nonce:i,senderKey:e,network:new of.StacksMainnet}),c=(0,U.addHex)(o.txid()),d=(0,Cr.bytesToHex)(o.serialize());return{txId:c,txSerializedHexString:d}}_e.revokeDelegateStx=Zw;function Jw(e,t,r){let n=e,i=(0,U.standardPrincipalCV)(n),s=(0,Ei.createTokenTransferPayload)(i,t,r),o=(0,U.serializePayload)(s);return(0,Cr.bytesToHex)(o)}_e.getTransferPayload=Jw;function Qw(e,t,r,n,i,s,o){let c=(0,Ei.createContractCallPayload)(i,s,o,[(0,U.uintCV)(n),(0,U.standardPrincipalCV)(e),(0,U.standardPrincipalCV)(t),(0,U.someCV)((0,U.bufferCVFromString)(r))]),d=(0,U.serializePayload)(c);return(0,Cr.bytesToHex)(d)}_e.getTokenTransferPayload=Qw;function eC(e,t,r,n,i){let s=(0,Ei.createContractCallPayload)(t,r,n,[(0,U.principalCV)(e),i?(0,U.someCV)((0,U.uintCV)(i)):(0,U.noneCV)()]),o=(0,U.serializePayload)(s);return(0,Cr.bytesToHex)(o)}_e.getAllowContractCallerPayload=eC;function tC(e,t,r,n,i,s,o){let c=i?(0,U.someCV)((0,Fl.poxAddressToTuple)(i)):(0,U.noneCV)(),d=[(0,U.uintCV)(s),(0,U.principalCV)(n),o?(0,U.someCV)((0,U.uintCV)(o)):(0,U.noneCV)(),c],l=(0,Ei.createContractCallPayload)(e,t,r,d),p=(0,U.serializePayload)(l);return(0,Cr.bytesToHex)(p)}_e.getDelegateStxPayload=tC;function rC(e,t,r){let n=(0,Ei.createContractCallPayload)(e,t,r,[]),i=(0,U.serializePayload)(n);return(0,Cr.bytesToHex)(i)}_e.getRevokeDelegateStxPayload=rC;function nC(e,t,r,n){let i=n.map(c=>(0,U.deserializeCV)((0,U.hexToBuff)(c))),s=(0,Ei.createContractCallPayload)(e,t,r,i),o=(0,U.serializePayload)(s);return(0,Cr.bytesToHex)(o)}_e.getContractCallPayload=nC;function iC(e,t){let r=(0,Ei.createSmartContractPayload)(e,t,U.ClarityVersion.Clarity2),n=(0,U.serializePayload)(r);return(0,Cr.bytesToHex)(n)}_e.getDeployPayload=iC});var w2=R(af=>{C();x();Object.defineProperty(af,"__esModule",{value:!0});af.StxWallet=void 0;var S2=Uo(),Ce=Rr(),xe=C2(),jl=class extends Ce.BaseWallet{async getDerivedPath(t){return`m/44'/5757'/0'/0/${t.index}`}getDerivedPrivateKey(t){return S2.bip39.mnemonicToSeedV2(t.mnemonic).then(r=>{let n=S2.bip32.fromSeedV2(r,t.hdPath);return n.privateKey?Promise.resolve(Ce.base.toHex(n.privateKey)+"01"):Promise.reject(Ce.GenPrivateKeyError)}).catch(r=>Promise.reject(Ce.GenPrivateKeyError))}getRandomPrivateKey(){try{for(;;){let t=Ce.base.randomBytes(32);if((0,Ce.secp256k1SignTest)(t))return Promise.resolve(Ce.base.toHex(t,!0)+"01")}}catch{}return Promise.reject(Ce.GenPrivateKeyError)}getNewAddress(t){try{let r=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,n=(0,xe.createStacksPrivateKey)(r.toLowerCase()),i=Ce.base.toHex((0,xe.getPublicKey)(n).data),s;t.version&&t.version==="Testnet"?s=(0,xe.getAddressFromPublicKey)(i,xe.TransactionVersion.Testnet):s=(0,xe.getAddressFromPublicKey)(i);let o={address:s,publicKey:i};return Promise.resolve(o)}catch{return Promise.reject(Ce.NewAddressError)}}checkPrivateKey(t){return t.toLowerCase().startsWith("0x")&&(t=t.substring(2)),(0,xe.createStacksPrivateKey)(t),!0}async validPrivateKey(t){let r;try{r=this.checkPrivateKey(t.privateKey)}catch{r=!1}let n={isValid:r,privateKey:t.privateKey};return Promise.resolve(n)}async signTransaction(t){try{if(!t.privateKey)return Promise.reject(Ce.InvalidPrivateKeyError);t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let r=t.data;if(r.type=="transfer"){let n=r.data;if(!(await this.validAddress({address:n.to})).isValid)return Promise.reject(Ce.ValidAddressError);if(n.amount==null||n.nonce==null||n.fee==null)return Promise.reject(Ce.SignTxError);let s=(0,xe.transfer)(t.privateKey,n.to,n.amount,n.memo,n.nonce,n.fee,n.anchorMode);return Promise.resolve(s)}else if(r.type=="tokenTransfer"){let n=r.data;if(!(await this.validAddress({address:n.to})).isValid)return Promise.reject(Ce.ValidAddressError);if(n.from==null||n.amount==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Ce.SignTxError);let s=await(0,xe.tokenTransfer)(t.privateKey,n.from,n.to,n.memo,n.amount,n.contract,n.contractName,n.tokenName,n.functionName,n.nonce,n.fee);return Promise.resolve(s)}else if(r.type=="allowContractCaller"){let n=r.data;if(n.caller==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Ce.SignTxError);let i=await(0,xe.allowContractCaller)(t.privateKey,n.caller,n.contract,n.contractName,n.functionName,n.untilBurnBlockHeight,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="delegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null||n.amountMicroStx==null||n.delegateTo==null)return Promise.reject(Ce.SignTxError);let i=await(0,xe.delegateStx)(t.privateKey,n.contract,n.contractName,n.functionName,n.delegateTo,n.poxAddress,n.amountMicroStx,n.untilBurnBlockHeight,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="revokeDelegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Ce.SignTxError);let i=await(0,xe.revokeDelegateStx)(t.privateKey,n.contract,n.contractName,n.functionName,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="contractCall"){let n=r.data,i=await(0,xe.makeContractCallTx)(n,t.privateKey);return Promise.resolve(i)}else if(r.type=="deployContract"){let n=r.data,i=await(0,xe.ContractDeployTx)(n,t.privateKey);return Promise.resolve(i)}return Promise.reject(Ce.SignTxError)}catch{return Promise.reject(Ce.SignTxError)}}async signCommonMsg(t){let r=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,n=(0,xe.createStacksPrivateKey)(r.toLowerCase()),i=n.compressed?Ce.base.toHex(n.data.slice(0,32)):Ce.base.toHex(n.data);return super.signCommonMsg({privateKey:t.privateKey,privateKeyHex:i,message:t.message,signType:Ce.SignType.Secp256k1,version:t.version})}async signMessage(t){if(!t.privateKey)return Promise.reject(`${Ce.InvalidPrivateKeyError}: cannot be empty`);let{isValid:r}=await this.validPrivateKey({privateKey:t.privateKey});if(!r)return Promise.reject(`${Ce.InvalidPrivateKeyError}: not valid private key`);try{let n=t.privateKey;n.startsWith("0x")&&(n=n.substring(2));let i=(0,xe.createStacksPrivateKey)(n);if(t.data.type=="signMessage"){let s=(0,xe.hashMessage)(t.data.message),o=(0,xe.signMessageHashRsv)({messageHash:(0,xe.bytesToHex)(s),privateKey:i});return Promise.resolve({signature:o.data,publicKey:(0,xe.publicKeyToString)((0,xe.getPublicKey)(i))})}else if(t.data.type=="signStructuredData"){let s=t.data.message,o=t.data.domain,c=(0,xe.signStructuredData)({message:s,domain:o,privateKey:i}).data;return Promise.resolve({signature:c,publicKey:(0,xe.publicKeyToString)((0,xe.getPublicKey)(i))})}}catch{return Promise.reject(Ce.SignMsgError)}}async verifyMessage(t){try{let r=t.data;if(r.publicKey===void 0)return Promise.reject(Ce.SignMsgError);let n=t.signature,i=(0,xe.hashMessage)(t.data.message),s=r.publicKey;return Promise.resolve((0,xe.verifyMessageSignatureRsv)({signature:n,message:i,publicKey:s}))}catch(r){return Promise.reject(r)}}validAddress(t){let r=t.address.startsWith("SP")||t.address.startsWith("SM"),i={isValid:(0,xe.validateStacksAddress)(t.address)&&r,address:t.address};return Promise.resolve(i)}getRawTransaction(t){try{let r=t.data;if(r.type=="transfer"){let n=r.data;if(n.to==null||n.amount==null)return Promise.reject(Ce.GetPayLoadError);let i=(0,xe.getTransferPayload)(n.to,n.amount,n.memo);return Promise.resolve(i)}else if(r.type=="tokenTransfer"){let n=r.data;if(n.from==null||n.to==null||n.amount==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Ce.GetPayLoadError);let i=(0,xe.getTokenTransferPayload)(n.from,n.to,n.memo,n.amount,n.contract,n.contractName,n.functionName);return Promise.resolve(i)}else if(r.type=="allowContractCaller"){let n=r.data;if(n.caller==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Ce.GetPayLoadError);let i=(0,xe.getAllowContractCallerPayload)(n.caller,n.contract,n.contractName,n.functionName,n.untilBurnBlockHeight);return Promise.resolve(i)}else if(r.type=="delegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null||n.amountMicroStx==null||n.delegateTo==null)return Promise.reject(Ce.GetPayLoadError);let i=(0,xe.getDelegateStxPayload)(n.contract,n.contractName,n.functionName,n.delegateTo,n.poxAddress,n.amountMicroStx,n.untilBurnBlockHeight);return Promise.resolve(i)}else if(r.type=="revokeDelegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Ce.GetPayLoadError);let i=(0,xe.getRevokeDelegateStxPayload)(n.contract,n.contractName,n.functionName);return Promise.resolve(i)}else if(r.type=="contractCall"){let n=r.data,i=(0,xe.getContractCallPayload)(n.contract,n.contractName,n.functionName,n.functionArgs);return Promise.resolve(i)}else if(r.type=="deployContract"){let n=r.data,i=(0,xe.getDeployPayload)(n.contractName,n.codeBody);return Promise.resolve(i)}return Promise.reject(Ce.GetPayLoadError)}catch{return Promise.reject(Ce.GetPayLoadError)}}};af.StxWallet=jl});var C2=R(Qt=>{C();x();var sC=Qt&&Qt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uo=Qt&&Qt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sC(t,e,r)};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.verifyMessageSignatureRsv=Qt.hashMessage=Qt.bytesToHex=void 0;uo(Ys(),Qt);uo(zl(),Qt);uo(ta(),Qt);uo(Qi(),Qt);uo(_2(),Qt);var oC=Se();Object.defineProperty(Qt,"bytesToHex",{enumerable:!0,get:function(){return oC.bytesToHex}});var x2=Dl();Object.defineProperty(Qt,"hashMessage",{enumerable:!0,get:function(){return x2.hashMessage}});Object.defineProperty(Qt,"verifyMessageSignatureRsv",{enumerable:!0,get:function(){return x2.verifyMessageSignatureRsv}});uo(w2(),Qt)});export{C2 as a};
//# sourceMappingURL=chunk-DTMJ3BNT.js.map
