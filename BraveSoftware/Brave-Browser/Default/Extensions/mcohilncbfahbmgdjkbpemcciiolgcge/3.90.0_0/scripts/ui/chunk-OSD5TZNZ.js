import{a as E,c as $,d as Be,e as J,g as tr,h as rr,i as Ue,j as ke}from"./chunk-KC2XLVFC.js";import{d as M}from"./chunk-EQ34WRCJ.js";import{b as C}from"./chunk-FLSAETOH.js";import{c as h,f as w,o as d,q as _}from"./chunk-UWURTNRY.js";var S=h((An,H)=>{d();_();function nr(i){return i&&i.__esModule?i:{default:i}}H.exports=nr,H.exports.__esModule=!0,H.exports.default=H.exports});var F=h((Un,Z)=>{d();_();var He,Ve,Ge,ze,Ie,$e,Je,Qe,Xe,Ye,Ze,Ke,et,X,he,tt,rt,nt,A,at,ut,ot,it,st,ft,ct,lt,dt,Y,_t,vt;(function(i){var n=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(c){i(s(n,s(c)))}):typeof Z=="object"&&typeof Z.exports=="object"?i(s(n,s(Z.exports))):i(s(n));function s(c,e){return c!==n&&(typeof Object.create=="function"?Object.defineProperty(c,"__esModule",{value:!0}):c.__esModule=!0),function(t,r){return c[t]=e?e(t,r):r}}})(function(i){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};He=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Ve=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ge=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r},ze=function(e,t,r,a){var o=arguments.length,u=o<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,t,r,a);else for(var l=e.length-1;l>=0;l--)(f=e[l])&&(u=(o<3?f(u):o>3?f(t,r,u):f(t,r))||u);return o>3&&u&&Object.defineProperty(t,r,u),u},Ie=function(e,t){return function(r,a){t(r,a,e)}},$e=function(e,t,r,a,o,u){function f(W){if(W!==void 0&&typeof W!="function")throw new TypeError("Function expected");return W}for(var l=a.kind,m=l==="getter"?"get":l==="setter"?"set":"value",v=!t&&e?a.static?e:e.prototype:null,y=t||(v?Object.getOwnPropertyDescriptor(v,a.name):{}),b,g=!1,O=r.length-1;O>=0;O--){var T={};for(var R in a)T[R]=R==="access"?{}:a[R];for(var R in a.access)T.access[R]=a.access[R];T.addInitializer=function(W){if(g)throw new TypeError("Cannot add initializers after decoration has completed");u.push(f(W||null))};var q=(0,r[O])(l==="accessor"?{get:y.get,set:y.set}:y[m],T);if(l==="accessor"){if(q===void 0)continue;if(q===null||typeof q!="object")throw new TypeError("Object expected");(b=f(q.get))&&(y.get=b),(b=f(q.set))&&(y.set=b),(b=f(q.init))&&o.unshift(b)}else(b=f(q))&&(l==="field"?o.unshift(b):y[m]=b)}v&&Object.defineProperty(v,a.name,y),g=!0},Je=function(e,t,r){for(var a=arguments.length>2,o=0;o<t.length;o++)r=a?t[o].call(e,r):t[o].call(e);return a?r:void 0},Qe=function(e){return typeof e=="symbol"?e:"".concat(e)},Xe=function(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})},Ye=function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},Ze=function(e,t,r,a){function o(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function l(y){try{v(a.next(y))}catch(b){f(b)}}function m(y){try{v(a.throw(y))}catch(b){f(b)}}function v(y){y.done?u(y.value):o(y.value).then(l,m)}v((a=a.apply(e,t||[])).next())})},Ke=function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,o,u,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(v){return function(y){return m([v,y])}}function m(v){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(r=0)),r;)try{if(a=1,o&&(u=v[0]&2?o.return:v[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,v[1])).done)return u;switch(o=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,o=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){r.label=v[1];break}if(v[0]===6&&r.label<u[1]){r.label=u[1],u=v;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(v);break}u[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(y){v=[6,y],o=0}finally{a=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},et=function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Y(t,e,r)},Y=Object.create?function(e,t,r,a){a===void 0&&(a=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,o)}:function(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]},X=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},he=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),o,u=[],f;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)u.push(o.value)}catch(l){f={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return u},tt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(he(arguments[t]));return e},rt=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),o=0,t=0;t<r;t++)for(var u=arguments[t],f=0,l=u.length;f<l;f++,o++)a[o]=u[f];return a},nt=function(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,u;a<o;a++)(u||!(a in t))&&(u||(u=Array.prototype.slice.call(t,0,a)),u[a]=t[a]);return e.concat(u||Array.prototype.slice.call(t))},A=function(e){return this instanceof A?(this.v=e,this):new A(e)},at=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),o,u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(g){a[g]&&(o[g]=function(O){return new Promise(function(T,R){u.push([g,O,T,R])>1||l(g,O)})})}function l(g,O){try{m(a[g](O))}catch(T){b(u[0][3],T)}}function m(g){g.value instanceof A?Promise.resolve(g.value.v).then(v,y):b(u[0][2],g)}function v(g){l("next",g)}function y(g){l("throw",g)}function b(g,O){g(O),u.shift(),u.length&&l(u[0][0],u[0][1])}},ut=function(e){var t,r;return t={},a("next"),a("throw",function(o){throw o}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(o,u){t[o]=e[o]?function(f){return(r=!r)?{value:A(e[o](f)),done:!1}:u?u(f):f}:u}},ot=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof X=="function"?X(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(u){r[u]=e[u]&&function(f){return new Promise(function(l,m){f=e[u](f),o(l,m,f.done,f.value)})}}function o(u,f,l,m){Promise.resolve(m).then(function(v){u({value:v,done:l})},f)}},it=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var s=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};st=function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Y(t,e,r);return s(t,e),t},ft=function(e){return e&&e.__esModule?e:{default:e}},ct=function(e,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)},lt=function(e,t,r,a,o){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},dt=function(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)},_t=function(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose]}if(typeof a!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t};var c=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var a=new Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};vt=function(e){function t(a){e.error=e.hasError?new c(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}function r(){for(;e.stack.length;){var a=e.stack.pop();try{var o=a.dispose&&a.dispose.call(a.value);if(a.async)return Promise.resolve(o).then(r,function(u){return t(u),r()})}catch(u){t(u)}}if(e.hasError)throw e.error}return r()},i("__extends",He),i("__assign",Ve),i("__rest",Ge),i("__decorate",ze),i("__param",Ie),i("__esDecorate",$e),i("__runInitializers",Je),i("__propKey",Qe),i("__setFunctionName",Xe),i("__metadata",Ye),i("__awaiter",Ze),i("__generator",Ke),i("__exportStar",et),i("__createBinding",Y),i("__values",X),i("__read",he),i("__spread",tt),i("__spreadArrays",rt),i("__spreadArray",nt),i("__await",A),i("__asyncGenerator",at),i("__asyncDelegator",ut),i("__asyncValues",ot),i("__makeTemplateObject",it),i("__importStar",st),i("__importDefault",ft),i("__classPrivateFieldGet",ct),i("__classPrivateFieldSet",lt),i("__classPrivateFieldIn",dt),i("__addDisposableResource",_t),i("__disposeResources",vt)})});var pt=h(B=>{d();_();Object.defineProperty(B,"__esModule",{value:!0});B.default=B.createUpdateEffect=void 0;var ar=C(),mt=function(n){return function(s,c){var e=(0,ar.useRef)(!1);n(function(){return function(){e.current=!1}},[]),n(function(){if(!e.current)e.current=!0;else return s()},c)}};B.createUpdateEffect=mt;var ur=mt;B.default=ur});var ge=h(K=>{d();_();Object.defineProperty(K,"__esModule",{value:!0});K.default=void 0;var or=C(),ir=pt(),sr=(0,ir.createUpdateEffect)(or.useEffect);K.default=sr});var gt=h(te=>{d();_();var fr=S();Object.defineProperty(te,"__esModule",{value:!0});te.default=void 0;var ee=F(),cr=C(),yt=fr(ge()),ht=function(n,s){var c=s.manual,e=s.ready,t=e===void 0?!0:e,r=s.defaultParams,a=r===void 0?[]:r,o=s.refreshDeps,u=o===void 0?[]:o,f=s.refreshDepsAction,l=(0,cr.useRef)(!1);return l.current=!1,(0,yt.default)(function(){!c&&t&&(l.current=!0,n.run.apply(n,(0,ee.__spreadArray)([],(0,ee.__read)(a),!1)))},[t]),(0,yt.default)(function(){l.current||c||(l.current=!0,f?f():n.refresh())},(0,ee.__spreadArray)([],(0,ee.__read)(u),!1)),{onBefore:function(){if(!t)return{stopNow:!0}}}};ht.onInit=function(i){var n=i.ready,s=n===void 0?!0:n,c=i.manual;return{loading:!c&&s}};var lr=ht;te.default=lr});var Pt=h(re=>{d();_();var dr=S();Object.defineProperty(re,"__esModule",{value:!0});re.default=void 0;var bt=F(),_r=dr(tr()),be=C(),vr=function(n,s){var c=s.debounceWait,e=s.debounceLeading,t=s.debounceTrailing,r=s.debounceMaxWait,a=(0,be.useRef)(),o=(0,be.useMemo)(function(){var u={};return e!==void 0&&(u.leading=e),t!==void 0&&(u.trailing=t),r!==void 0&&(u.maxWait=r),u},[e,t,r]);return(0,be.useEffect)(function(){if(c){var u=n.runAsync.bind(n);return a.current=(0,_r.default)(function(f){f()},c,o),n.runAsync=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];return new Promise(function(m,v){var y;(y=a.current)===null||y===void 0||y.call(a,function(){u.apply(void 0,(0,bt.__spreadArray)([],(0,bt.__read)(f),!1)).then(m).catch(v)})})},function(){var f;(f=a.current)===null||f===void 0||f.cancel(),n.runAsync=u}}},[c,o]),c?{onCancel:function(){var f;(f=a.current)===null||f===void 0||f.cancel()}}:{}},mr=vr;re.default=mr});var wt=h(ne=>{d();_();Object.defineProperty(ne,"__esModule",{value:!0});ne.default=void 0;var pr=C(),yr=function(n,s){var c=s.loadingDelay,e=s.ready,t=(0,pr.useRef)();if(!c)return{};var r=function(){t.current&&clearTimeout(t.current)};return{onBefore:function(){return r(),e!==!1&&(t.current=setTimeout(function(){n.setState({loading:!0})},c)),{loading:!1}},onFinally:function(){r()},onCancel:function(){r()}}},hr=yr;ne.default=hr});var V=h(ae=>{d();_();Object.defineProperty(ae,"__esModule",{value:!0});ae.default=void 0;var gr=!!(typeof window<"u"&&window.document&&window.document.createElement),br=gr;ae.default=br});var ue=h(Pe=>{d();_();var Pr=S();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=Cr;var wr=Pr(V());function Cr(){return wr.default?document.visibilityState!=="hidden":!0}});var Ot=h(oe=>{d();_();var St=S();Object.defineProperty(oe,"__esModule",{value:!0});oe.default=void 0;var Sr=St(V()),Or=St(ue()),G=[];function Dr(i){return G.push(i),function(){var s=G.indexOf(i);G.splice(s,1)}}Sr.default&&(Ct=function(){if(!!(0,Or.default)())for(var n=0;n<G.length;n++){var s=G[n];s()}},window.addEventListener("visibilitychange",Ct,!1));var Ct,Tr=Dr;oe.default=Tr});var Dt=h(ie=>{d();_();var Ce=S();Object.defineProperty(ie,"__esModule",{value:!0});ie.default=void 0;var we=C(),Rr=Ce(ge()),jr=Ce(ue()),qr=Ce(Ot()),Er=function(n,s){var c=s.pollingInterval,e=s.pollingWhenHidden,t=e===void 0?!0:e,r=s.pollingErrorRetryCount,a=r===void 0?-1:r,o=(0,we.useRef)(),u=(0,we.useRef)(),f=(0,we.useRef)(0),l=function(){var v;o.current&&clearTimeout(o.current),(v=u.current)===null||v===void 0||v.call(u)};return(0,Rr.default)(function(){c||l()},[c]),c?{onBefore:function(){l()},onError:function(){f.current+=1},onSuccess:function(){f.current=0},onFinally:function(){a===-1||a!==-1&&f.current<=a?o.current=setTimeout(function(){!t&&!(0,jr.default)()?u.current=(0,qr.default)(function(){n.refresh()}):n.refresh()},c):f.current=0},onCancel:function(){l()}}:{}},xr=Er;ie.default=xr});var Oe=h((_a,D)=>{d();_();function Se(i){return D.exports=Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},D.exports.__esModule=!0,D.exports.default=D.exports,Se(i)}D.exports=Se,D.exports.__esModule=!0,D.exports.default=D.exports});var Tt=h(se=>{d();_();Object.defineProperty(se,"__esModule",{value:!0});se.default=void 0;var Mr=C();function Ar(i){var n=(0,Mr.useRef)(i);return n.current=i,n}var Fr=Ar;se.default=Fr});var De=h(P=>{d();_();var Br=S();Object.defineProperty(P,"__esModule",{value:!0});P.isUndef=P.isString=P.isObject=P.isNumber=P.isFunction=P.isBoolean=void 0;var Ur=Br(Oe()),kr=function(n){return n!==null&&(0,Ur.default)(n)==="object"};P.isObject=kr;var Lr=function(n){return typeof n=="function"};P.isFunction=Lr;var Nr=function(n){return typeof n=="string"};P.isString=Nr;var Wr=function(n){return typeof n=="boolean"};P.isBoolean=Wr;var Hr=function(n){return typeof n=="number"};P.isNumber=Hr;var Vr=function(n){return typeof n>"u"};P.isUndef=Vr});var Te=h(fe=>{d();_();Object.defineProperty(fe,"__esModule",{value:!0});fe.default=void 0;var Gr=!1,zr=Gr;fe.default=zr});var Rt=h(ce=>{d();_();var Re=S();Object.defineProperty(ce,"__esModule",{value:!0});ce.default=void 0;var Ir=Re(Oe()),$r=C(),Jr=Re(Tt()),Qr=De(),Xr=Re(Te()),Yr=function(n){Xr.default&&((0,Qr.isFunction)(n)||console.error("useUnmount expected parameter is a function, got ".concat((0,Ir.default)(n))));var s=(0,Jr.default)(n);(0,$r.useEffect)(function(){return function(){s.current()}},[])},Zr=Yr;ce.default=Zr});var qt=h(je=>{d();_();Object.defineProperty(je,"__esModule",{value:!0});je.default=Kr;var jt=F();function Kr(i,n){var s=!1;return function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];s||(s=!0,i.apply(void 0,(0,jt.__spreadArray)([],(0,jt.__read)(c),!1)),setTimeout(function(){s=!1},n))}}});var Et=h(qe=>{d();_();var en=S();Object.defineProperty(qe,"__esModule",{value:!0});qe.default=rn;var tn=en(V());function rn(){return tn.default&&typeof navigator.onLine<"u"?navigator.onLine:!0}});var xt=h(le=>{d();_();var xe=S();Object.defineProperty(le,"__esModule",{value:!0});le.default=void 0;var nn=xe(V()),an=xe(ue()),un=xe(Et()),z=[];function on(i){return z.push(i),function(){var s=z.indexOf(i);s>-1&&z.splice(s,1)}}nn.default&&(Ee=function(){if(!(!(0,an.default)()||!(0,un.default)()))for(var n=0;n<z.length;n++){var s=z[n];s()}},window.addEventListener("visibilitychange",Ee,!1),window.addEventListener("focus",Ee,!1));var Ee,sn=on;le.default=sn});var At=h(de=>{d();_();var Me=S();Object.defineProperty(de,"__esModule",{value:!0});de.default=void 0;var Mt=C(),fn=Me(Rt()),cn=Me(qt()),ln=Me(xt()),dn=function(n,s){var c=s.refreshOnWindowFocus,e=s.focusTimespan,t=e===void 0?5e3:e,r=(0,Mt.useRef)(),a=function(){var u;(u=r.current)===null||u===void 0||u.call(r)};return(0,Mt.useEffect)(function(){if(c){var o=(0,cn.default)(n.refresh.bind(n),t);r.current=(0,ln.default)(function(){o()})}return function(){a()}},[c,t]),(0,fn.default)(function(){a()}),{}},_n=dn;de.default=_n});var Ft=h(_e=>{d();_();Object.defineProperty(_e,"__esModule",{value:!0});_e.default=void 0;var Ae=C(),vn=function(n,s){var c=s.retryInterval,e=s.retryCount,t=(0,Ae.useRef)(),r=(0,Ae.useRef)(0),a=(0,Ae.useRef)(!1);return e?{onBefore:function(){a.current||(r.current=0),a.current=!1,t.current&&clearTimeout(t.current)},onSuccess:function(){r.current=0},onError:function(){if(r.current+=1,e===-1||r.current<=e){var u=c??Math.min(1e3*Math.pow(2,r.current),3e4);t.current=setTimeout(function(){a.current=!0,n.refresh()},u)}else r.current=0},onCancel:function(){r.current=0,t.current&&clearTimeout(t.current)}}:{}},mn=vn;_e.default=mn});var kt=h(ve=>{d();_();var pn=S();Object.defineProperty(ve,"__esModule",{value:!0});ve.default=void 0;var Bt=F(),yn=pn(rr()),Ut=C(),hn=function(n,s){var c=s.throttleWait,e=s.throttleLeading,t=s.throttleTrailing,r=(0,Ut.useRef)(),a={};return e!==void 0&&(a.leading=e),t!==void 0&&(a.trailing=t),(0,Ut.useEffect)(function(){if(c){var o=n.runAsync.bind(n);return r.current=(0,yn.default)(function(u){u()},c,a),n.runAsync=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return new Promise(function(l,m){var v;(v=r.current)===null||v===void 0||v.call(r,function(){o.apply(void 0,(0,Bt.__spreadArray)([],(0,Bt.__read)(u),!1)).then(l).catch(m)})})},function(){var u;n.runAsync=o,(u=r.current)===null||u===void 0||u.cancel()}}},[c,e,t]),c?{onCancel:function(){var u;(u=r.current)===null||u===void 0||u.cancel()}}:{}},gn=hn;ve.default=gn});var Nt=h(j=>{d();_();Object.defineProperty(j,"__esModule",{value:!0});j.setCache=j.getCache=j.clearCache=void 0;var Lt=F(),U=new Map,bn=function(n,s,c){var e=U.get(n);e?.timer&&clearTimeout(e.timer);var t=void 0;s>-1&&(t=setTimeout(function(){U.delete(n)},s)),U.set(n,(0,Lt.__assign)((0,Lt.__assign)({},c),{timer:t}))};j.setCache=bn;var Pn=function(n){return U.get(n)};j.getCache=Pn;var wn=function(n){if(n){var s=Array.isArray(n)?n:[n];s.forEach(function(c){return U.delete(c)})}else U.clear()};j.clearCache=wn});var Wt=h(k=>{d();_();Object.defineProperty(k,"__esModule",{value:!0});k.setCachePromise=k.getCachePromise=void 0;var me=new Map,Cn=function(n){return me.get(n)};k.getCachePromise=Cn;var Sn=function(n,s){me.set(n,s),s.then(function(c){return me.delete(n),c}).catch(function(){me.delete(n)})};k.setCachePromise=Sn});var Ht=h(L=>{d();_();Object.defineProperty(L,"__esModule",{value:!0});L.trigger=L.subscribe=void 0;var x={},On=function(n,s){x[n]&&x[n].forEach(function(c){return c(s)})};L.trigger=On;var Dn=function(n,s){return x[n]||(x[n]=[]),x[n].push(s),function(){var e=x[n].indexOf(s);x[n].splice(e,1)}};L.subscribe=Dn});d();_();d();_();var Le=!1,Q=new Map;async function Ne(i,n,s){let{uiData:c}=await M.get("uiData"),e=c?.[i];e?.timer&&clearTimeout(e.timer);let t;n&&n>-1&&(t=+setTimeout(async()=>{let{uiData:a}=await M.get("uiData");a?.[i]&&(delete c?.[i],Q.delete(i),await M.set({uiData:c}))},n));let r={...s,timer:t};return Q.set(i,r),M.set({uiData:{...c??{},[i]:r}})}async function We(i){let n=Q.get(i);if(n)return n;let{uiData:s}=await M.get("uiData"),c=s?.[i];return!Le&&s&&(Object.entries(s).forEach(([e,t])=>{Q.set(e,t)}),Le=!0),c}d();_();var $t=w(gt()),Jt=w(Pt()),Qt=w(wt()),Xt=w(Dt()),Yt=w(At()),Zt=w(Ft()),Kt=w(kt());d();_();var Fe=w(C());var pe=w(Nt()),ye=w(Wt()),N=w(Ht());var Tn=(i,{cacheKey:n,cacheTime:s=5*60*1e3,staleTime:c=0,setCache:e,getCache:t})=>{let r=(0,Fe.useRef)(),a=(0,Fe.useRef)(),o=async(f,l)=>{e?await e(l):(0,pe.setCache)(f,s,l),(0,N.trigger)(f,l.data)},u=(f,l=[])=>t?t(l):(0,pe.getCache)(f);return $(async()=>{if(!n)return;let f=await u(n);f&&Object.hasOwnProperty.call(f,"data")&&(i.state.data=f.data,i.state.params=f.params,(c===-1||new Date().getTime()-f.time<=c)&&(i.state.loading=!1)),r.current=(0,N.subscribe)(n,l=>{i.setState({data:l})})},[]),J(()=>{r.current?.()}),n?{onBefore:async f=>{let l=await u(n,f);return!l||!Object.hasOwnProperty.call(l,"data")?{}:c===-1||new Date().getTime()-l.time<=c?{loading:!1,data:l?.data,error:void 0,returnNow:!0}:{data:l?.data,error:void 0}},onRequest:(f,l)=>{let m=(0,ye.getCachePromise)(n);return m&&m!==a.current?{servicePromise:m}:(m=f(...l),a.current=m,(0,ye.setCachePromise)(n,m),{servicePromise:m})},onSuccess:async(f,l)=>{n&&(r.current?.(),await o(n,{data:f,params:l,time:new Date().getTime()}),r.current=(0,N.subscribe)(n,m=>{i.setState({data:m})}))},onMutate:f=>{n&&(r.current?.(),o(n,{data:f,params:i.state.params,time:new Date().getTime()}),r.current=(0,N.subscribe)(n,l=>{i.setState({data:l})}))}}:{}},Vt=Tn;d();_();var zt=w(Te());d();_();var Gt=w(De());var I=class{constructor(n,s,c,e={}){this.serviceRef=n;this.options=s;this.subscribe=c;this.initState=e;this.count=0;this.state={loading:!1,params:void 0,data:void 0,error:void 0};this.state={...this.state,loading:!s.manual,...e}}setState(n={}){this.state={...this.state,...n},this.subscribe()}async runPluginHandler(n,...s){let e=(await Promise.allSettled(this.pluginImpls.map(t=>t[n]?.(...s)))).filter(t=>t.status==="fulfilled").map(t=>t.value).filter(Boolean);return Object.assign({},...e)}async runAsync(...n){this.count+=1;let s=this.count,{stopNow:c=!1,returnNow:e=!1,...t}=await this.runPluginHandler("onBefore",n);if(c)return new Promise(()=>{});if(this.setState({loading:!0,params:n,...t}),e)return Promise.resolve(t.data);this.options.onBefore?.(n);try{let{servicePromise:r}=await this.runPluginHandler("onRequest",this.serviceRef.current,n);r||(r=this.serviceRef.current(...n));let a=await r;return s!==this.count?await new Promise(()=>{}):(this.setState({data:a,error:void 0,loading:!1}),this.options.onSuccess?.(a,n),this.runPluginHandler("onSuccess",a,n),this.options.onFinally?.(n,a,void 0),s===this.count&&this.runPluginHandler("onFinally",n,a,void 0),a)}catch(r){if(s!==this.count)return new Promise(()=>{});throw this.setState({error:r,loading:!1}),this.options.onError?.(r,n),this.runPluginHandler("onError",r,n),this.options.onFinally?.(n,void 0,r),s===this.count&&this.runPluginHandler("onFinally",n,void 0,r),r}}run(...n){this.runAsync(...n).catch(s=>{this.options.onError||console.error(s)})}cancel(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")}refresh(){this.run(...this.state.params||[])}refreshAsync(){return this.runAsync(...this.state.params||[])}mutate(n){let s=(0,Gt.isFunction)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",s),this.setState({data:s})}};function Rn(i,n={},s=[]){let{manual:c=!1,...e}=n;zt.default&&n.defaultParams&&!Array.isArray(n.defaultParams)&&console.warn(`expected defaultParams is array, got ${typeof n.defaultParams}`);let t={manual:c,...e},r=Be(i),a=ke(),o=$(()=>{let u=s.map(f=>f?.onInit?.(t)).filter(Boolean);return new I(r,t,a,Object.assign({},...u))},[]);return o.options=t,o.pluginImpls=s.map(u=>u(o,t)),Ue(()=>{if(!c){let u=o.state.params||n.defaultParams||[];o.run(...u)}}),J(()=>{o.cancel()}),{loading:o.state.loading,data:o.state.data,error:o.state.error,params:o.state.params||[],cancel:E(o.cancel.bind(o)),refresh:E(o.refresh.bind(o)),refreshAsync:E(o.refreshAsync.bind(o)),run:E(o.run.bind(o)),runAsync:E(o.runAsync.bind(o)),mutate:E(o.mutate.bind(o))}}var It=Rn;function jn(i,n,s){return It(i,n,[...s||[],Jt.default,Qt.default,Xt.default,Yt.default,Kt.default,$t.default,Vt,Zt.default])}var er=jn;function bu(i,n,s){let c=n?.cacheKey;return er(i,{...n??{},setCache:async e=>c?Ne(c,n?.cacheTime,e):!1,getCache:async()=>{if(c)return We(c)}},s)}export{bu as a};
//# sourceMappingURL=chunk-OSD5TZNZ.js.map
