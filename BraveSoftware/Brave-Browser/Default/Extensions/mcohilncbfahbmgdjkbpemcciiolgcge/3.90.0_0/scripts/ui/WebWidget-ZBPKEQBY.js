import{a as C,b as g,d as w}from"./chunk-TOUEHHZZ.js";import{d as y}from"./chunk-AVG63QW4.js";import{x as v}from"./chunk-VHMBEOFX.js";import{k as I}from"./chunk-ZZBUS7GI.js";import"./chunk-PMG6IXOR.js";import"./chunk-BD5XO4WL.js";import"./chunk-YVLQLIW6.js";import"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-MJSLAJV6.js";import{a as m,i as j}from"./chunk-KC2XLVFC.js";import{T,qa as S,ra as E}from"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import"./chunk-WLEQHCLB.js";import"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import"./chunk-EAE2NUFS.js";import"./chunk-OKGWI7CU.js";import"./chunk-RFTC6RNT.js";import"./chunk-3FMJDUGT.js";import"./chunk-FXRKHQFW.js";import"./chunk-XOHZCMW2.js";import"./chunk-EQ34WRCJ.js";import"./chunk-UIZGYUZK.js";import{s as r}from"./chunk-DSNMNSMD.js";import"./chunk-DOSBJ3L3.js";import{C as D}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{t as O}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as M}from"./chunk-FB3ILH2L.js";import{b as G}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import{K as a,L as H,Q as N,R as P,b as p,c as k}from"./chunk-4C5HF6J2.js";import"./chunk-WJI4CIAQ.js";import"./chunk-EI7BJC6V.js";import{f as W,o as _,q as c}from"./chunk-UWURTNRY.js";_();c();var o=W(G());var f=W(M());H();P();k();_();c();var n={"retina-border-basic":"_retina-border-basic_1j6fl_1",retinaBorderBasic:"_retina-border-basic_1j6fl_1","setting-content":"_setting-content_1j6fl_29",settingContent:"_setting-content_1j6fl_29","setting-option":"_setting-option_1j6fl_32",settingOption:"_setting-option_1j6fl_32","setting-option--no-desc":"_setting-option--no-desc_1j6fl_41",settingOptionNoDesc:"_setting-option--no-desc_1j6fl_41","setting-option--route":"_setting-option--route_1j6fl_44",settingOptionRoute:"_setting-option--route_1j6fl_44","setting-info":"_setting-info_1j6fl_47",settingInfo:"_setting-info_1j6fl_47",title:"_title_1j6fl_50",desc:"_desc_1j6fl_57",switch:"_switch_1j6fl_64","route-action":"_route-action_1j6fl_67",routeAction:"_route-action_1j6fl_67","route-status":"_route-status_1j6fl_74",routeStatus:"_route-status_1j6fl_74",separator:"_separator_1j6fl_77","split-line":"_split-line_1j6fl_80",splitLine:"_split-line_1j6fl_80"};var X=({history:h})=>{let x=S(),{webWidget:d}=E(T),u=(0,o.useMemo)(()=>{if(!d)return{};let e=["BLINK","COIN_INFO_DIALOG","SELECTION_ACTION_SHEET","TOKEN_TAG","INSTANT_TRADE"];return Object.keys(d).reduce((t,i)=>(e.includes(i)&&(t[i]=d[i]),t),{})},[d]);j(()=>{v()});let A=(e,t)=>{let i=g(t);if(e[i]){let s=e[i];return!!(s&&Date.now()<s)}return!1},b=m(e=>{let t=u[e];return t?a(t)?t:p(t)?(Object.keys(t).forEach(i=>{let s=i;A(t,s)&&(t[s]=!1)}),e==="SELECTION_ACTION_SHEET"?t["X"]:t):!1:!1}),L=(e,t)=>{let i={...u},s=i[e];if(p(s)){if(Object.values(C).forEach(l=>{N(s[l])||(s[l]=t)}),e==="SELECTION_ACTION_SHEET"){let l=g("X");s[l]&&delete s[l]}}else a(s)&&(i[e]=t);x(I(i))},B=m(e=>{h.push(e)}),K=e=>{let t=b(e);return a(t)?t:p(t)?Object.values(t).filter(i=>a(i)).every(i=>!!i)?r("wallet_extension_card_set_all_enabled"):Object.values(t).filter(i=>a(i)).some(i=>!!i)?r("wallet_extension_card_set_part_enabled"):r("wallet_extension_card_set_disabled"):null},F=()=>w.map(e=>{switch(e.type){case"LINE":return o.default.createElement("div",{className:n.separator},o.default.createElement("div",{className:n.splitLine}));case"SWITCH":return o.default.createElement("div",{className:n.settingOption},o.default.createElement("div",{className:n.settingInfo},o.default.createElement("div",{className:n.title},r(e.title)),e.desc&&o.default.createElement("div",{className:n.desc},r(e.desc))),o.default.createElement(D,{className:n.switch,checked:!!b(e.id),onChange:t=>{let i=e.monitor?.name||"toggle";e.monitor?.click?.({[i]:t?"on":"off"}),L(e.id,t)}}));case"ROUTE":return o.default.createElement("div",{className:(0,f.default)(n.settingOption,{[n["setting-option--route"]]:!0,[n["setting-option--no-desc"]]:!e.desc})},o.default.createElement("div",{className:n.settingInfo},o.default.createElement("div",{className:n.title},r(e.title)),e.desc&&o.default.createElement("div",{className:n.desc},r(e.desc))),o.default.createElement("div",{className:n.routeAction,onClick:()=>{e.monitor?.click?.(),e.route&&B(e.route)}},o.default.createElement("div",{className:(0,f.default)(n.desc,n.routeStatus)},K(e.id)),o.default.createElement(O,{className:(0,f.default)("okx-wallet-plugin-right","preference-setting-item__arrow")})));default:break}return null});return u?o.default.createElement("div",{className:n.xSetting},o.default.createElement(y,{title:r("wallet_extension_settings_item_x_share")}),o.default.createElement("div",{className:n.settingContent},F())):null},ge=X;export{ge as default};
//# sourceMappingURL=WebWidget-ZBPKEQBY.js.map
