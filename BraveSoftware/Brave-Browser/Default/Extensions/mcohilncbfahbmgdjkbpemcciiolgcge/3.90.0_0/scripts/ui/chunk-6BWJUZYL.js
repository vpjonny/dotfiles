import{d as M,k as K}from"./chunk-YLT6ZRGE.js";import{e as V}from"./chunk-M43NTBTB.js";import{c as S}from"./chunk-PMG6IXOR.js";import{h as J,o as P}from"./chunk-N6PI3XTA.js";import{a as G}from"./chunk-MJSLAJV6.js";import{n as Y}from"./chunk-KC2XLVFC.js";import{Z as o}from"./chunk-3F7OC7N7.js";import{A}from"./chunk-EPDR6VAQ.js";import{c as F}from"./chunk-3FMJDUGT.js";import{$ as W}from"./chunk-EQ34WRCJ.js";import{k as a,p as k}from"./chunk-DSNMNSMD.js";import{o as H,q as D}from"./chunk-URGJ6D4O.js";import{C as O}from"./chunk-XYWWXNVK.js";import{a as oe}from"./chunk-FB3ILH2L.js";import{b as j}from"./chunk-FLSAETOH.js";import{Aa as te,M as q}from"./chunk-4C5HF6J2.js";import{f as z,o as x,q as w}from"./chunk-UWURTNRY.js";x();w();var _=z(j());te();x();w();var e=z(j());var X=z(oe());x();w();var Q={[o.SLOW]:{label:"wallet_transfer_subtitle_trading_speed_slow",icon:"okx-wallet-plugin-slow"},[o.STANDARD]:{label:"wallet_transfer_subtitle_trading_speed_average",icon:"okx-wallet-plugin-standard"},[o.FAST]:{label:"wallet_transfer_subtitle_trading_speed_fast",icon:"okx-wallet-plugin-fast"},[o.CUSTOM]:{label:"wallet_transfer_gasfee_subtitle_custom_gas_fee",icon:"okx-wallet-plugin-setting-20"}};x();w();var i={"networkFee-panel":"_networkFee-panel_cf6xp_1",networkFeePanel:"_networkFee-panel_cf6xp_1","networkFee-panel-content":"_networkFee-panel-content_cf6xp_4",networkFeePanelContent:"_networkFee-panel-content_cf6xp_4","networkFee-panel-desc":"_networkFee-panel-desc_cf6xp_7",networkFeePanelDesc:"_networkFee-panel-desc_cf6xp_7","networkFee-panel-options":"_networkFee-panel-options_cf6xp_11",networkFeePanelOptions:"_networkFee-panel-options_cf6xp_11","networkFee-panel-option__header":"_networkFee-panel-option__header_cf6xp_14",networkFeePanelOptionHeader:"_networkFee-panel-option__header_cf6xp_14","networkFee-panel-option__icon":"_networkFee-panel-option__icon_cf6xp_17",networkFeePanelOptionIcon:"_networkFee-panel-option__icon_cf6xp_17","networkFee-panel-option__content":"_networkFee-panel-option__content_cf6xp_21",networkFeePanelOptionContent:"_networkFee-panel-option__content_cf6xp_21","networkFee-panel-option__title":"_networkFee-panel-option__title_cf6xp_24",networkFeePanelOptionTitle:"_networkFee-panel-option__title_cf6xp_24","networkFee-panel-option__desc":"_networkFee-panel-option__desc_cf6xp_29",networkFeePanelOptionDesc:"_networkFee-panel-option__desc_cf6xp_29","networkFee-panel-option__children":"_networkFee-panel-option__children_cf6xp_35",networkFeePanelOptionChildren:"_networkFee-panel-option__children_cf6xp_35","networkFee-panel-custom-option":"_networkFee-panel-custom-option_cf6xp_38",networkFeePanelCustomOption:"_networkFee-panel-custom-option_cf6xp_38","networkFee-panel-custom-option__extend":"_networkFee-panel-custom-option__extend_cf6xp_41",networkFeePanelCustomOptionExtend:"_networkFee-panel-custom-option__extend_cf6xp_41","networkFee-panel-custom-option__extend__icon":"_networkFee-panel-custom-option__extend__icon_cf6xp_44",networkFeePanelCustomOptionExtendIcon:"_networkFee-panel-custom-option__extend__icon_cf6xp_44","networkFee-panel-custom-option__un_extend":"_networkFee-panel-custom-option__un_extend_cf6xp_48",networkFeePanelCustomOptionUnExtend:"_networkFee-panel-custom-option__un_extend_cf6xp_48","networkFee-panel-custom-option__confirm":"_networkFee-panel-custom-option__confirm_cf6xp_52",networkFeePanelCustomOptionConfirm:"_networkFee-panel-custom-option__confirm_cf6xp_52"};var ne=r=>{let{icon:t,label:s,coinId:n,currencyId:p,estimatedTime:f,estimatedFee:c,estimatedRate:T,children:L,headerChildren:y,headerClick:l,onClick:h,selected:m}=r,d=M(n),b=G(c,{useContractPrecision:!0,contractPrecision:{decimals:d?.decimals},symbol:d?.symbol,useLargeNumberPrecision:!0,precision:d?.displayPrecision,isStableCoin:d?.stableCoin}).value,C=K(n,c,{currencyId:p,formatted:!0,useApproximate:!0});return e.default.createElement(V.Card,{direction:F.DIRECTION.vertical,selected:m,onClick:h},e.default.createElement(F.FlexBox,{align:F.ALIGN.center,onClick:l,className:i["networkFee-panel-option__header"]},e.default.createElement(S,{className:i["networkFee-panel-option__icon"],icon:t,size:S.SIZE.lg}),e.default.createElement(F.Box,{className:i["networkFee-panel-option__content"]},e.default.createElement(F.FlexBox,{justify:"space-between",className:i["networkFee-panel-option__title"]},e.default.createElement(P.Text,{strong:!0,inherit:!0},s),e.default.createElement(P.Text,{strong:!0,inherit:!0},f)),e.default.createElement(F.FlexBox,{justify:"space-between",className:i["networkFee-panel-option__desc"]},e.default.createElement(P.Text,{inherit:!0},T),e.default.createElement(P.Text,{inherit:!0},`${b} ${C}`))),y),e.default.createElement(F.Box,{className:i["networkFee-panel-option__children"]},L))},re=({coinId:r,title:t,subTitle:s,currencyId:n,itemKey:p="level",options:f,visible:c,value:T,className:L,onToggleVisible:y,onChange:l,...h})=>{let[m,{toggle:d}]=Y(T?.level===o.CUSTOM),b=(0,e.useCallback)(C=>{let{level:u,children:N,confirmDisabled:g}=C,{icon:I,label:U}=Q[u]||{},B=u===o.CUSTOM;return e.default.createElement(ne,{coinId:r,icon:I,value:T,label:k(U),selected:T[p]===C[p],...C,currencyId:n,onClick:()=>{u!==o.CUSTOM&&(l?.(C),y?.())},headerClick:B?d:void 0,headerChildren:B&&e.default.createElement(S,{size:S.SIZE.xxs,icon:m?"okx-wallet-plugin-arrow-small-up":"okx-wallet-plugin-arrow-small-down",className:i["networkFee-panel-custom-option__extend__icon"]})},B&&e.default.createElement(F.Box,{className:(0,X.default)(i["networkFee-panel-custom-option"],{[i["networkFee-panel-custom-option__extend"]]:m,[i["networkFee-panel-custom-option__un_extend"]]:!m})},e.default.createElement(J,null),N,e.default.createElement(O,{block:!0,category:O.CATEGORY.fill,type:O.TYPE.highlight,size:O.SIZE.lg,onClick:()=>{let{children:E,...$}=C;l?.($),y?.()},disabled:g,className:i["networkFee-panel-custom-option__confirm"]},k("extension_wallet_transaction_btn_gasfeeconfirm"))))},[r,n,m,p,l,y,d,T]);return c?e.default.createElement(H.Action,{visible:c,onClose:()=>{y()},title:t||k("wallet_transfer_subtitle_network_fee"),maskClosable:!0,noTopRadius:!1,windowStyle:{overflow:"hidden"},zIndex:1e3,alignBottom:!0,noContentPadding:!0},e.default.createElement(F.Box,{className:i["networkFee-panel-content"]},!!s&&e.default.createElement(P.Text,{className:i["networkFee-panel-desc"]},s),e.default.createElement(V,{space:16,dataSource:f,renderItem:b,className:i["networkFee-panel-options"],...h}))):null},R=re;x();w();var ee=(r,t)=>{let s=k("extension_wallet_transaction_text_minute"),n=k("extension_wallet_transaction_text_second"),p=A(t.minCost,s,n),f=A(t.normalCost,s,n),c=A(t.maxCost,s,n);return a.eq(r,t.min)?c:a.gt(r,t.min)&&a.lt(r,t.normal)?`< ${c}`:a.eq(r,t.normal)?f:a.gt(r,t.normal)&&a.lt(r,t.max)?`< ${f}`:a.eq(r,t.max)?p:a.gt(r,t.max)?`< ${p}`:`-- ${s}`};var ie=[o.SLOW,o.STANDARD,o.FAST,o.CUSTOM],ae={[o.SLOW]:{satBytes:"min",estimatedTime:"maxCost"},[o.STANDARD]:{satBytes:"normal",estimatedTime:"normalCost"},[o.FAST]:{satBytes:"max",estimatedTime:"minCost"},[o.CUSTOM]:{satBytes:"normal",estimatedTime:"normalCost"}},le=({coinId:r,value:t,visible:s,signInfo:n,currencyId:p,estimatedFee:f,onChange:c,onToggleVisible:T,supportDecimal:L})=>{let y=M(r),[l,h]=(0,_.useState)(t?.satBytes);(0,_.useEffect)(()=>{!l&&n?.normal&&h(n?.normal)},[n?.normal]);let m=(0,_.useMemo)(()=>{let{min:u,mempoolMin:N}=n||{},g=N||u||0;return a.lt(l,g)?k("extension_btc_minmum_alert_fee_lowerthan",{feerate:g}):null},[l,n]),d=(0,_.useMemo)(()=>q(t)?0:a.ceilTruncate(a.div(f,t?.satBytes),0),[t,f]),b=y?.localType===W?k("wallet_extension_transfer_unit_sat_b"):"",C=(0,_.useMemo)(()=>ie.map(u=>{let N=ae[u],{satBytes:g,...I}=Object.keys(N).reduce(($,Z)=>({level:u,...$,[Z]:n?.[N[Z]]}),{}),U=u===o.CUSTOM&&_.default.createElement(D.Number,{enableMinus:!1,precision:L?1:0,size:D.SIZE.sm,value:l,errorType:D.TIP_TYPE.always,error:m,onChange:h}),E=u===o.CUSTOM?l:g;return{...I,estimatedTime:ee(E,n),satBytes:E,estimatedRate:`${E} ${b}`,estimatedFee:a.mul(E,d),children:U,confirmDisabled:!!m}}),[d,m,l,b,n]);return _.default.createElement(R,{coinId:r,value:t,itemKey:"level",visible:s,currencyId:p,options:C,onChange:c,onToggleVisible:T})},Ge=le;export{ae as a,Ge as b};
//# sourceMappingURL=chunk-6BWJUZYL.js.map
