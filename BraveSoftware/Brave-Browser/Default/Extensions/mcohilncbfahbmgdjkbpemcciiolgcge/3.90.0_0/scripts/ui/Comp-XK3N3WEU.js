import{a as _e}from"./chunk-4KTJXCJI.js";import{a as he}from"./chunk-DJ4MYB7R.js";import{b as me,c as ge}from"./chunk-KI7LONGM.js";import{c as ye}from"./chunk-RVKJAHPI.js";import{a as ue}from"./chunk-6RO77YCF.js";import{a as fe}from"./chunk-UUL7BCUE.js";import"./chunk-DEUTH4MR.js";import"./chunk-5FXPBT57.js";import"./chunk-IUVKL7ZK.js";import{a as pe}from"./chunk-42JHCNWD.js";import"./chunk-IUZFRS2D.js";import"./chunk-HUZIRVCJ.js";import"./chunk-LMVZDUFT.js";import"./chunk-O652XWZZ.js";import"./chunk-BDXN3GYH.js";import"./chunk-772ZJYXN.js";import"./chunk-C7QS3I2S.js";import{c as $,d as q}from"./chunk-E4CKCWHV.js";import"./chunk-UX2JFEX5.js";import{d as de}from"./chunk-AVG63QW4.js";import"./chunk-Z4PAXUWP.js";import"./chunk-JHL2WJA4.js";import"./chunk-RQUKPC6Z.js";import"./chunk-NCGPJXQK.js";import"./chunk-VGYB2PVD.js";import"./chunk-OYIB3B2O.js";import{j as oe,l as ne}from"./chunk-JYCBCMDP.js";import{a as ce}from"./chunk-GVYIP5Q5.js";import"./chunk-VHMBEOFX.js";import"./chunk-W3VW6MYS.js";import"./chunk-BYDDPVAA.js";import{e as L}from"./chunk-M43NTBTB.js";import{E as se,G as ae}from"./chunk-CKHT4PIF.js";import"./chunk-JMNZU6WB.js";import{a as ie}from"./chunk-WXD7TULU.js";import"./chunk-JQHLKZPQ.js";import"./chunk-ZZBUS7GI.js";import"./chunk-PMG6IXOR.js";import"./chunk-BD5XO4WL.js";import"./chunk-7U7FORYL.js";import{h as X}from"./chunk-JMM35KIH.js";import"./chunk-5E7YC7OF.js";import"./chunk-LYGOKEAJ.js";import"./chunk-NS5EW6UN.js";import"./chunk-VUBIYSGX.js";import"./chunk-FHFRBSOO.js";import"./chunk-DU4RS7AX.js";import"./chunk-5C7AUJM4.js";import"./chunk-FLXVXXZH.js";import"./chunk-XBUPORYF.js";import{b as le}from"./chunk-YVLQLIW6.js";import"./chunk-HBXZ3GPM.js";import{f as ee}from"./chunk-6C7RJCTT.js";import"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-SI5WJURV.js";import"./chunk-MT4YWUUK.js";import"./chunk-AKOAGCJX.js";import"./chunk-ARDRUD4P.js";import"./chunk-WYX7GFOD.js";import"./chunk-G6PA2JD3.js";import"./chunk-N2N44VBE.js";import"./chunk-ZDJRNLYZ.js";import"./chunk-RV5WZKGQ.js";import{a as V}from"./chunk-MJSLAJV6.js";import"./chunk-KC2XLVFC.js";import{qa as te,ra as O}from"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-6M37VPK2.js";import"./chunk-WOJGOC63.js";import"./chunk-3F7OC7N7.js";import"./chunk-OKGWI7CU.js";import"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-I6UBKGB5.js";import"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import"./chunk-WN3TRBGI.js";import{c as u}from"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import{E as J,Lb as Q,Mb as D}from"./chunk-EQ34WRCJ.js";import"./chunk-UIZGYUZK.js";import{p as M}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import{a as De}from"./chunk-DOSBJ3L3.js";import"./chunk-DNGRHKLV.js";import"./chunk-3O2IEAHF.js";import{c as re,d as U,r as Y}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-I2AEM4CA.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{C as v}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as G}from"./chunk-FB3ILH2L.js";import{b as w}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-NEASQB35.js";import"./chunk-5BYM6SMZ.js";import"./chunk-TR37MFB4.js";import"./chunk-PNECIDQW.js";import"./chunk-BVDMVGLD.js";import{Aa as Fe,g as Z}from"./chunk-4C5HF6J2.js";import"./chunk-4HSSECLD.js";import"./chunk-BY6XCDJZ.js";import"./chunk-U6W3TK77.js";import"./chunk-6GYKGMWB.js";import"./chunk-WJI4CIAQ.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-WZALYVUQ.js";import"./chunk-F5YUOHHL.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as I,o as t,q as o}from"./chunk-UWURTNRY.js";t();o();var e=I(w());var We=I(De());t();o();var Ce=I(w());var Ae=(i={})=>{let a=se(i);return(0,Ce.useMemo)(()=>a.map(l=>{let{walletIdentities:n,marketValueSymbol:p,marketValue:g}=l;return{...l,walletAsset:`${V(g).value} ${p||""}`,walletIdentities:n.map(r=>{let{balance:m="--",symbol:s}=r;return{...r,walletAsset:`${V(m).value} ${s||""}`}})}}),[a])};t();o();var Ie=i=>{let a={providerType:i?.providerType,method:i?.method||"",exts:i?.exts},{baseChain:l,chainName:n}=_e(a),p=i?.providerTypes||[],g=ce(),r=p.filter(s=>s.required).map(s=>g.find(f=>f.localType===s.providerType)),m=p.filter(s=>!s.required).map(s=>g.find(f=>f.localType===s.providerType));if(r.length>0||m.length>0){let s=r.map(_=>_?.baseChain),c=m.map(_=>_?.baseChain),f=r.map(_=>_?.chainName).join(", ");return{requestChains:s,optionalChains:c,chainNames:f}}return{requestChains:[l],optionalChains:[],chainNames:n}};t();o();var y=I(w()),xe=I(G());t();o();var T=I(w()),Te=I(G());t();o();var N=I(w()),be=I(G());Fe();t();o();var z={root:"_root_9zx9g_1",disabled:"_disabled_9zx9g_8"};var Ve=({selected:i=!1,disabled:a=!1,onClick:l=Z})=>N.default.createElement(u.FlexBox,{onClick:l,className:(0,be.default)(z.root,{[z.disabled]:a}),align:u.ALIGN.center,justify:u.ALIGN.center},a?N.default.createElement(Y.Circle,{disabled:!0,checked:!1}):N.default.createElement(Y.Circle,{checked:i})),P=Ve;t();o();var B={root:"_root_1aq24_1",disabled:"_disabled_1aq24_5",highlight:"_highlight_1aq24_11"};var Oe=({selected:i,createdId:a,isRpcMode:l,hiddenAssets:n,walletIdentity:p,handleClickWallet:g,requestChains:r,optionalChains:m,disabled:s=!1})=>{let{walletId:c=""}=p,f=(0,T.useMemo)(()=>i.includes(c),[i,c]),_=(0,T.useMemo)(()=>{let C=r.length===0&&m.some(W=>p?.account?.[W]),h=r.length===0&&m.length===0,x=r.length>0&&r.every(W=>p?.account?.[W]);return C||h||x},[m,r,p?.account]),d=s||!_,S=(0,T.useCallback)(()=>{d||g(c)},[g,c,d]);return T.default.createElement(u.FlexBox,{className:(0,Te.default)(B.root,{[B.highlight]:c===a,[B.disabled]:d}),align:u.ALIGN.center,onClick:S},T.default.createElement(ye,{disabled:d,isRpcMode:l,hiddenAssets:n,walletIdentity:p}),T.default.createElement(P,{selected:f,disabled:d}))},ke=Oe;t();o();var k={root:"_root_7lquh_1",keyring:"_keyring_7lquh_15",header:"_header_7lquh_18",title:"_title_7lquh_21",content:"_content_7lquh_25",icon:"_icon_7lquh_28",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_7lquh_31"};var Ge=({selected:i,isRpcMode:a,hiddenAssets:l,keyringIdentity:n,handleClickWallet:p,requestChains:g,optionalChains:r})=>{let[m,s]=ge(),[c,f]=(0,y.useState)(!0),_=()=>{f(C=>!C)},d=(0,y.useMemo)(()=>n?.keyringIdentityType===D.MPC,[n]),S=(0,y.useMemo)(()=>{let{mpcStatus:C,accountStatus:h}=n?.status||{};return d&&(C===q.ESCAPE||C===q.RECOVER||h===$.DELETE||h===$.FROZEN)},[d,n?.status]);return y.default.createElement(u.Box,{className:k.root},y.default.createElement(re,{onToggle:_,expanded:c,titleClass:k.title,className:k.keyring,headerClassName:k.header,contentClassName:k.content,iconClassName:(0,xe.default)(k.icon),title:y.default.createElement(fe,{isRpcMode:a,hiddenAssets:l,keyringIdentity:n})},d&&y.default.createElement(he,{keyringIdentity:n,className:k.mpcStatusAlertWrapper}),y.default.createElement(L,{dataSource:n?.walletIdentities||[],renderItem:C=>y.default.createElement(ke,{selected:i,isRpcMode:a,createdId:m,hiddenAssets:l,walletIdentity:C,handleClickWallet:p,requestChains:g,optionalChains:r,disabled:S})}),n.keyringIdentityType===D.MNEMONIC?y.default.createElement(me,{createdCb:s,keyringIdentity:n,canAddSmartAccount:!1}):null))},Se=Ge;t();o();var R={root:"_root_qo7v8_1",selectAll:"_selectAll_qo7v8_1",text:"_text_qo7v8_15"};var Ue=({request:i,multi:a=!1})=>{let l=te(),{requestChains:n,optionalChains:p,chainNames:g}=Ie(i),r=(0,e.useMemo)(()=>i?.method===pe.walletRequestWallets&&i?.providerType===J,[i]);(0,e.useEffect)(()=>{l(X())},[l]);let[,m]=ae({hasBackup:!0}),s=Ae({hasBackup:!0}),{isRpcMode:c}=O(ee),f=(0,e.useMemo)(()=>c?s:m,[c,m,s]),{keyringIdentitiesWithSA:_}=ue(f),{backupedWallets:d,showTip:S}=(0,e.useMemo)(()=>{let A=!1;return{backupedWallets:f.reduce((F,j)=>{let Ee=j?.walletIdentities?.map(Le=>{let{initialType:Ne,walletId:Pe,account:Be}=Le;if(Ne===Q.MPC_KEYRING&&j?.status?.mpcStatus===q.ESCAPE)return"";let Re=n?.every(Ke=>Be?.[Ke]);return!r&&!Re?(A=!0,""):Pe})?.filter(Boolean);return F.concat(Ee)},[]),showTip:A}},[f,r,n]),C=O(oe),[h,x]=(0,e.useState)(C?.length>0?C:[]),W=d.length>1&&a,K=(0,e.useMemo)(()=>d.length===h.length,[d,h]),we=(0,e.useCallback)(()=>{x(K?[]:d)},[K,d]),Me=(0,e.useCallback)(A=>{h.includes(A)?x(E=>E.filter(F=>F!==A)):x(E=>a?[...E,A]:[A])},[h,a]),H=(0,We.useHistory)(),ve=(0,e.useCallback)(()=>{l(ne.setSelectAccounts(h)),H.goBack()},[h,H,l]),[qe]=ie();return e.default.createElement(u.Container,{className:R.root},e.default.createElement(de,{closeable:!1,bordered:!1,title:M("wallet_dapp_conncetion_subtitle_select_accounts")}),S&&e.default.createElement(U,{desc:M("wallet_extension_connect_notification_text_dont_select_wallets",{network:g}),type:U.TYPE.warn,closable:!1}),W?e.default.createElement(u.FlexBox,{align:u.ALIGN.center,className:R.selectAll},e.default.createElement(u.Box,{className:R.text},M("wallet_dapp_conncetion_subtitle_select_all")),e.default.createElement(P,{selected:K,onClick:we})):null,e.default.createElement(L,{dataSource:_,renderItem:A=>e.default.createElement(Se,{selected:h,isRpcMode:c,hiddenAssets:qe,keyringIdentity:A,handleClickWallet:Me,requestChains:r?[]:n,optionalChains:r?[]:p})}),e.default.createElement(le.FooterActions,null,e.default.createElement(v,{block:!0,disabled:!h.length,category:v.CATEGORY.fill,type:v.TYPE.highlight,size:v.SIZE.lg,onClick:ve},M("wallet_set_password_btn_confirm"))))},bo=Ue;export{bo as default};
//# sourceMappingURL=Comp-XK3N3WEU.js.map
