import{a as Es,k as Ps}from"./chunk-6RMBLK33.js";import{a as vs,b as Is}from"./chunk-SCCWM4HB.js";import{a as es,b as ts,c as os,d as Se,e as he,f as rs,h as gt,i as Do}from"./chunk-4R47QJTV.js";import{a as ns}from"./chunk-7737QYC5.js";import{d as v}from"./chunk-PIPV5FEN.js";import"./chunk-XEYCZGG6.js";import{a as Qr}from"./chunk-RGJMHVCN.js";import{a as Tt,b as Ot,c as Ft,d as Oo,e as xs,f as hs,g as ys,h as bs}from"./chunk-NUCRH2OY.js";import{a as ks}from"./chunk-H2BYDG3J.js";import{a as ss,b as Lo,c as ds,d as ps,e as us,f as fs,h as _s,i as gs,j as Ts,m as Cs}from"./chunk-RS5XCICJ.js";import{a as w,b as I,c as Ye,d as is,e as as,f as Ae,g as ms,h as Mo,i as ls,k as cs}from"./chunk-C7TFGGMX.js";import"./chunk-MNWYUYGW.js";import"./chunk-KDZWFWCG.js";import"./chunk-ZLI6GILE.js";import{a as Jr,b as jr}from"./chunk-RS2FYAL7.js";import{a as we}from"./chunk-ASMDBF47.js";import{a as Xr}from"./chunk-VIGV7LK4.js";import{a as Fr,b as Br,c as Gr,d as Ur,e as Wr,f as $r,g as Yr,h as Zr,i as qr,j as Kr}from"./chunk-EE2WZVUF.js";import"./chunk-5SRO437B.js";import{a as Rr}from"./chunk-AI4OWM3D.js";import"./chunk-42JHCNWD.js";import{a as Or}from"./chunk-2GCSMZTD.js";import"./chunk-J5NCS5VO.js";import"./chunk-DGIOI3MN.js";import"./chunk-NP6SC5QM.js";import"./chunk-T475WHHH.js";import"./chunk-XXDCZJTY.js";import{a as zr}from"./chunk-4VVKOCP5.js";import"./chunk-PDAPPSN7.js";import"./chunk-K4DJNG3I.js";import"./chunk-IUZFRS2D.js";import"./chunk-T4R2WCFV.js";import"./chunk-A7A6G6EG.js";import{f as Mr}from"./chunk-HUZIRVCJ.js";import"./chunk-LMVZDUFT.js";import{b as Lr}from"./chunk-O652XWZZ.js";import"./chunk-BDXN3GYH.js";import"./chunk-772ZJYXN.js";import"./chunk-57J76VLB.js";import"./chunk-J5B5KBXF.js";import"./chunk-4AIWJOGE.js";import"./chunk-ZTAEYDNS.js";import"./chunk-3KJMTMXK.js";import{a as gn}from"./chunk-IWYRUFZN.js";import"./chunk-LLOOJQVQ.js";import{a as Mt}from"./chunk-X7JU5VY4.js";import{a as _n}from"./chunk-M2YFVDKX.js";import"./chunk-AOZHPYH5.js";import"./chunk-HLTJYEGI.js";import{a as Sr,d as Ar}from"./chunk-4YPL7LEO.js";import"./chunk-452JEOHF.js";import"./chunk-3MLYZLAT.js";import"./chunk-Q7O5JTSP.js";import{a as No,b as Dr}from"./chunk-TJAFWAJG.js";import"./chunk-EZ3BUTHE.js";import"./chunk-GZISJRKI.js";import"./chunk-UOZ5BXPF.js";import"./chunk-TVBTJSJ6.js";import"./chunk-J6RZSPH6.js";import"./chunk-NIGR3I4J.js";import"./chunk-JXVJV7BH.js";import{b as Vr}from"./chunk-JHFDXQQS.js";import{a as Hr}from"./chunk-5YK6XLJ4.js";import{a as Ao}from"./chunk-5HKBJUHN.js";import"./chunk-LHFDZX73.js";import{a as Nr}from"./chunk-B4MQLH4C.js";import"./chunk-VWVRJUMU.js";import{a as kr}from"./chunk-GCJ2PJNQ.js";import{a as Ir}from"./chunk-634WRNGH.js";import"./chunk-YPWPNJRG.js";import{b as Pr}from"./chunk-P355XBV4.js";import{a as Er}from"./chunk-UPIYMC4Q.js";import{c as br,e as vr,f as fn}from"./chunk-ZUO5BDO3.js";import"./chunk-RZOHZNJG.js";import"./chunk-RQTEHFJ2.js";import{f as _t}from"./chunk-75EAYNWR.js";import"./chunk-D6LKASPV.js";import"./chunk-DKVOSSSH.js";import"./chunk-FWL474H4.js";import{l as un}from"./chunk-V7YATDMZ.js";import"./chunk-YRQLRR65.js";import"./chunk-T2AAZNU7.js";import{a as hr}from"./chunk-E4CKCWHV.js";import"./chunk-66RCYZEO.js";import"./chunk-BIUKJDG5.js";import"./chunk-MNRE2RWN.js";import"./chunk-S63SUKPS.js";import"./chunk-QR6SNDPA.js";import"./chunk-DB7NVRTE.js";import"./chunk-EF6FTTLT.js";import"./chunk-U44ZBWPF.js";import"./chunk-YPTISS47.js";import"./chunk-UX2JFEX5.js";import"./chunk-XHRUTTJG.js";import"./chunk-OS6U6P6N.js";import{e as yr}from"./chunk-PLVYKYSQ.js";import"./chunk-MEZ72IGZ.js";import"./chunk-ZLTTBRML.js";import"./chunk-XUGHAFHG.js";import{a as re}from"./chunk-B5L26Z2J.js";import{d as H}from"./chunk-AVG63QW4.js";import"./chunk-YLT6ZRGE.js";import"./chunk-VSNCKUAC.js";import"./chunk-OB65JCC3.js";import"./chunk-ZWKYYPCG.js";import"./chunk-YLPOVMK6.js";import"./chunk-CAWXATKV.js";import"./chunk-GIKT3XNH.js";import"./chunk-4VAKOKZO.js";import"./chunk-F43OFDEC.js";import"./chunk-XAUZ4FZE.js";import"./chunk-5JVWMQI2.js";import"./chunk-KLS3SJXA.js";import"./chunk-5DQKP6TK.js";import"./chunk-QTPS5BDP.js";import"./chunk-KOQXCGQ5.js";import"./chunk-P7NYIGUS.js";import"./chunk-OWPVBYY3.js";import"./chunk-ZNFTIF43.js";import"./chunk-D52EE5TC.js";import"./chunk-FEU7MNAN.js";import"./chunk-CWNI35TN.js";import"./chunk-E6SXR3B6.js";import"./chunk-GTBNRR37.js";import"./chunk-UUOZSCBD.js";import"./chunk-A7FGCMOW.js";import"./chunk-V2CZ7DY4.js";import"./chunk-3PLVXUNW.js";import"./chunk-HIUQCAJS.js";import"./chunk-S6FHNOIH.js";import"./chunk-RKCZ2ONP.js";import"./chunk-RER2JAFZ.js";import"./chunk-CJAFGYQK.js";import"./chunk-QED56456.js";import"./chunk-HSSW2VTC.js";import"./chunk-PYCB247J.js";import"./chunk-2LQJ3JX6.js";import"./chunk-KF7FMIRD.js";import"./chunk-N4IYN7DD.js";import"./chunk-UY2DPNBT.js";import"./chunk-SZZZVLQW.js";import"./chunk-V5J3A5L5.js";import"./chunk-CERSDYPT.js";import"./chunk-RZETZIQO.js";import"./chunk-P5GHREX3.js";import"./chunk-HUG2KBCE.js";import"./chunk-6XMXPOUW.js";import"./chunk-3WKBEXBH.js";import"./chunk-RK4OLGCC.js";import"./chunk-NNPT43SF.js";import"./chunk-VL2JCPJS.js";import"./chunk-CTJAEFLV.js";import"./chunk-AP4E6GDF.js";import"./chunk-RPH2MNBW.js";import"./chunk-SKUQ6ZA4.js";import"./chunk-P3FTJE4X.js";import"./chunk-ACIP3YF7.js";import"./chunk-W6ZDZJCJ.js";import"./chunk-PGGBOJAH.js";import"./chunk-JDCCMYBK.js";import"./chunk-554VFFSY.js";import"./chunk-4ADHM5NM.js";import"./chunk-JBOOQ7HO.js";import"./chunk-RKPJE2LG.js";import"./chunk-55VRIXXR.js";import"./chunk-W6Z3G5IP.js";import{a as da,c as pt,d as oe,e as Nt,f as ar}from"./chunk-273QOT6X.js";import{b as K,c as pe,d as Kn,e as yo,f as dt,g as Xn,h as ko,i as Jn,j as an,k as St,l as bo,m as At,n as jn,o as Qn,p as er,q as vo,r as tr,s as mn,t as or,u as nr,w as Io,x as ln}from"./chunk-QU7KCAT2.js";import"./chunk-CQHSO2TF.js";import"./chunk-6HJJJE2I.js";import{b as ho}from"./chunk-T5XGANNY.js";import{a as Cr}from"./chunk-WFEAOEXJ.js";import{a as Tr}from"./chunk-UHFKAHJQ.js";import"./chunk-JGDE735D.js";import{a as sr,b as ir}from"./chunk-B4CRE6WK.js";import"./chunk-7KWAOX6S.js";import"./chunk-JHL2WJA4.js";import"./chunk-RQUKPC6Z.js";import"./chunk-O6ODITJY.js";import{c as wr}from"./chunk-ROWADX4K.js";import"./chunk-K4WQYYBB.js";import"./chunk-LIF3EEZV.js";import"./chunk-GHRGCPR7.js";import"./chunk-2XOPB27K.js";import"./chunk-NCGPJXQK.js";import"./chunk-VGYB2PVD.js";import{a as mr}from"./chunk-JNWSF6O6.js";import"./chunk-OYIB3B2O.js";import{a as Wn}from"./chunk-OBLKTTHP.js";import"./chunk-NVBOE3PE.js";import"./chunk-TXIKSV43.js";import"./chunk-LQJXR5XX.js";import"./chunk-NQGIYDUG.js";import"./chunk-ARRY6F45.js";import"./chunk-QTCVWDVR.js";import"./chunk-4NXISG4T.js";import"./chunk-MLF4IONJ.js";import"./chunk-4ITEJ5A6.js";import"./chunk-JYCBCMDP.js";import"./chunk-CBZ2RV36.js";import"./chunk-QMHGGMPE.js";import"./chunk-GVYIP5Q5.js";import{Ta as Fn,ab as Bn,e as Mn,ja as On}from"./chunk-VHMBEOFX.js";import"./chunk-L3AMAP6V.js";import"./chunk-W3VW6MYS.js";import"./chunk-GWHLETPD.js";import"./chunk-6GJ4TEPK.js";import"./chunk-BYDDPVAA.js";import"./chunk-CSTKCSUP.js";import{c as _r,d as gr,e as pn}from"./chunk-M43NTBTB.js";import{B as ur,g as qn,j as rr,s as Po,u as ue,v as A,w as dr,z as pr}from"./chunk-CKHT4PIF.js";import{a as P}from"./chunk-JMNZU6WB.js";import"./chunk-WXD7TULU.js";import"./chunk-JQHLKZPQ.js";import"./chunk-ZZBUS7GI.js";import{a as So,c as ft}from"./chunk-PMG6IXOR.js";import{a as me}from"./chunk-BD5XO4WL.js";import"./chunk-7U7FORYL.js";import"./chunk-MT3ANHCR.js";import"./chunk-2IJ4E4D3.js";import"./chunk-XJ2EVWVX.js";import"./chunk-DD6IGY5O.js";import"./chunk-JMM35KIH.js";import"./chunk-5E7YC7OF.js";import"./chunk-LYGOKEAJ.js";import"./chunk-NS5EW6UN.js";import"./chunk-VUBIYSGX.js";import"./chunk-PNOOVDMP.js";import"./chunk-FHFRBSOO.js";import"./chunk-DU4RS7AX.js";import"./chunk-5C7AUJM4.js";import"./chunk-FLXVXXZH.js";import{b as ne}from"./chunk-XBUPORYF.js";import{b as Pe}from"./chunk-YVLQLIW6.js";import"./chunk-HBXZ3GPM.js";import{f as po}from"./chunk-6C7RJCTT.js";import{a as ua,b as wo,g as fr,o as ut}from"./chunk-N6PI3XTA.js";import{f as ct}from"./chunk-7DW2ZPOD.js";import"./chunk-SI5WJURV.js";import"./chunk-MT4YWUUK.js";import{a as xr}from"./chunk-IPVHRCDK.js";import"./chunk-JW2AVC2H.js";import"./chunk-AKOAGCJX.js";import"./chunk-ARDRUD4P.js";import{a as cn,j as Lt}from"./chunk-WYX7GFOD.js";import"./chunk-G6PA2JD3.js";import"./chunk-N2N44VBE.js";import"./chunk-ZDJRNLYZ.js";import"./chunk-RV5WZKGQ.js";import{a as co,g as G}from"./chunk-MJSLAJV6.js";import{C as Gn,a as Ve,d as mo,e as lo,i as Ie,p as Rn}from"./chunk-KC2XLVFC.js";import{H as Sn,L as An,M as Nn,qa as E,ra as f}from"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import{$ as zn,Ia as $n,Ja as uo,Ka as mt,La as de,Ma as fo,Na as _o,Oa as go,Pa as To,Qa as Co,Ra as lt,Sa as xo,a as te,jb as Yn,la as Vn,yb as Zn}from"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import{c as Ln}from"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-U5DGHXS4.js";import"./chunk-SDBZJWGW.js";import"./chunk-F3ILJHGP.js";import{a as W,b as Un}from"./chunk-6M37VPK2.js";import"./chunk-WOJGOC63.js";import{c as Dn,f as wt,m as at}from"./chunk-3F7OC7N7.js";import"./chunk-HZOYPVSA.js";import"./chunk-Z4GX4TH2.js";import{c as Hn}from"./chunk-OKGWI7CU.js";import{B as Pn,a as U,b as so,d as Ue,f as io,g as st,h as We,i as Pt,j as it,o as ze,p as ie,u as ao}from"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-I6UBKGB5.js";import"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import"./chunk-WN3TRBGI.js";import{c as $e}from"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import{f as pa}from"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import{Ob as sn,Z as wn,j as En}from"./chunk-EQ34WRCJ.js";import"./chunk-UIZGYUZK.js";import{B as rt,k as O,p as m,s as Et}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import{a as z}from"./chunk-DOSBJ3L3.js";import"./chunk-DNGRHKLV.js";import"./chunk-3O2IEAHF.js";import{A as xe,D as R,I as cr,J as Ee,d as lr,o as Eo,q as D,y as Dt}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-I2AEM4CA.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{C as L,t as B,w as dn}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as ae}from"./chunk-FB3ILH2L.js";import{b as g}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-KZ2ZLD6V.js";import"./chunk-NEASQB35.js";import"./chunk-5BYM6SMZ.js";import"./chunk-TR37MFB4.js";import"./chunk-PNECIDQW.js";import"./chunk-BVDMVGLD.js";import{Aa as nt,P as In,Q as ot,g as bn,u as vn}from"./chunk-4C5HF6J2.js";import"./chunk-4HSSECLD.js";import"./chunk-BY6XCDJZ.js";import"./chunk-U6W3TK77.js";import"./chunk-6GYKGMWB.js";import"./chunk-WJI4CIAQ.js";import"./chunk-PESQD55U.js";import"./chunk-WQGQVXPA.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-UY3WU5XU.js";import"./chunk-ALECRBLY.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-QM6LXDU7.js";import"./chunk-WZALYVUQ.js";import"./chunk-F5YUOHHL.js";import"./chunk-26KHACOU.js";import"./chunk-VONUGAVN.js";import"./chunk-ZVKCRT3D.js";import"./chunk-MSOW5GDX.js";import"./chunk-O5NUB7LT.js";import"./chunk-QI2KSP5Y.js";import"./chunk-EL77VG5Z.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as d,h as rn,o as s,q as i}from"./chunk-UWURTNRY.js";s();i();var jt=d(g());var vt=d(z());s();i();var $=d(g()),j=d(z());s();i();var ht=d(g());s();i();var Bt=d(g()),ws=d(z()),Ss=d(ua());s();i();function Ne(){return re().get("address")}var fa=()=>{let e=(0,ws.useHistory)(),t=Ne(),o=A(t),n=()=>{e.push(te)},r=t?`?address=${t}`:"";return Bt.default.createElement(H,{bordered:!1,classNames:{box:"coin-detail__header__box",title:"coin-detail__header__title",tag:"coin-detail__header__tag",icon:"coin-detail__header__icon"},icon:{type:ft.TYPE.text,text:o?.symbol},title:o?.symbol,onBack:n,titleLeft:{headerAddress:t||null,chainLogo:null,onCopyAddress:()=>{t&&((0,Ss.default)(t),Ee.success({title:m("wallet_extension_asset_toast_address_copied"),desc:t}))}}},Bt.default.createElement(xe,{title:m("developer_mode_infor_tooltip_token_details"),placement:xe.DIRECTION.bottom},Bt.default.createElement(fr,{icon:"okx-wallet-plugin-information-circle",size:"md","data-testid":me.RPC_MODE_COIN_DETAIL_HEADER.TOKEN_DETAIL_BUTTON,onClick:()=>{e.push(`${xo}${r}`)}})))},As=Bt.default.memo(fa);s();i();var _e=d(g());s();i();s();i();var Tn=d(g()),Cn=d(ae());s();i();var _a={lightBlue:{color:"var(--okx-wallet-color-white)",background:"var(--okd-color-semantic-informative)"},deepBlue:{color:"var(--okx-wallet-color-white)",background:"var(--okd-color-semantic-informative)"},lightGray:{background:"var(--okd-color-content-contrast)",color:"var(--okx-wallet-color-white)",borderWidth:"1px",borderStyle:"solid",borderColor:"var(--okx-wallet-color-white)"},black:{background:"var(--okx-wallet-color-black)",borderWidth:"1px",borderStyle:"solid",borderColor:"var(var(--okd-color-content-tertiary))",color:"var(--okx-wallet-color-white)"}},ga={larger:{size:56,fontSize:30},large:{size:32,fontSize:20},normal:{size:24,fontSize:14},small:{size:20,fontSize:12}};function Ta({icon:e,className:t,text:o,size:n="normal",fontSize:r,theme:a,color:l,background:c}){if(!o)return null;let p=o[0].toUpperCase(),_,T,x;if(a){let S=_a[a];_=S?.color,T=S?.background,x=S?.border}let C,y;if(typeof n=="string"){let S=ga[n];C=S?.size,y=S?.fontSize}else C=n.size;let h={width:`${C}px`,height:`${C}px`};return e?Tn.default.createElement("img",{alt:"",src:e,style:h,className:(0,Cn.default)("capitalize-letter",t)}):(h={...h,fontSize:`${r||y}px`,color:l||_,background:c||T,border:x},Tn.default.createElement("div",{style:h,className:(0,Cn.default)("capitalize-letter",t)},p))}var se=Ta;s();i();var Ca=d(g());s();i();var Ke=d(g());s();i();var fe=d(g());s();i();s();i();var Ct=d(g());s();i();function Fo({type:e,extraParams:t}){let o=Ye[e],n,r=m(o);return e===I.TRANS_OUT?n="okx-wallet-plugin-pointer-up":e===I.AUTHORIZATION||e===I.CANCEL_AUTHORIZATION?(n="okx-wallet-plugin-lock-1",r=m(o,{symbol:t?.coinSymbol})):e===I.CONTRACT_CALL?n="okx-wallet-plugin-report-centre":e===I.CONTRACT_DEPLOY&&(n="okx-wallet-plugin-futures-20"),{icons:[n],title:r}}function Bo({type:e,txParams:t,extraParams:o}){let n=P();if(e===I.TRANS_OUT){let l=o?.value;return l&&(l=O.thousandFormat(l)),[{direction:sn.OUT,coinAmount:`${l||""} ${o?.coinSymbol||""}`}]}let{value:r}=t||{},a=W(r);return We(a,0)?[{direction:sn.OUT,coinAmount:`${O.thousandFormat(ie(a))} ${n.symbol||""}`}]:[]}function Ro(e){let t;return e.type===I.TRANS_OUT?t=`${m("wallet_extension_history_list_send_to")}   ${G(e.extraParams?.toAddress)}`:e.type===I.AUTHORIZATION||e.type===I.CANCEL_AUTHORIZATION?t=G(e.extraParams?.approvedAddress):t=G(e.txParams?.to),t}function xa({status:e}){let t="",o="";return(e===w.FAILED||e===w.DROPPED)&&(t=wt.FAILED,o=m("wallet_extension_history_status_failed")),{labelText:o,labelType:t}}function ha(e){return[Ro(e)]}function ya({tx:e,onClick:t}){let{icons:o,title:n}=Fo(e),r=Bo(e),a=ha(e),l=Do(a,r),{labelType:c,labelText:p}=xa(e),_=Ct.default.createElement(v.Label,{className:"tx-history-ml4",type:c,text:p});return Ct.default.createElement(v.ItemContainer,{onClick:T=>{t&&t(e,T)}},Ct.default.createElement(v.Row,{assets:r,align:l},Ct.default.createElement(v.Info,{icons:o,title:n,label:_,details:a}),Ct.default.createElement(v.Assets,{assets:r})))}var Rt=ya;s();i();var Ze=d(g());function ka({txs:e,onClick:t}){let o=f(ct),{dates:n}=f(oe),r=(0,Ze.useMemo)(()=>{let a=e.map(T=>({...T,groupDate:rt(T.sortTime,{format:"yyyyMMdd",locale:o})})),l=[],c=0,p,_;return a.forEach(T=>{let{groupDate:x}=T;p!==x&&(p=x,_=[],l[c++]={date:p,list:_}),_.push(T)}),l},[e,n]);return Ze.default.createElement(v.List,null,r.map(({date:a,list:l})=>Ze.default.createElement("div",{key:a},Ze.default.createElement(v.Date,null,a),l.map(c=>Ze.default.createElement(c.Comp,{key:c.id,tx:c,onClick:t})))))}var Gt=ka;s();i();var Ho=d(g());s();i();var Go=e=>{if(!e?.txParams)return{};let{gasPrice:t,maxFeePerGas:o,maxPriorityFeePerGas:n,gasLimit:r,type:a}=e.txParams,l={gasLimit:r};return a===at.FEE_MARKET?(l.maxFeePerGas=ao(U(o,1.2),0),l.maxPriorityFeePerGas=ao(U(n,1.2),0)):l.gasPrice=ao(U(t,1.2),0),l};function ba({txId:e,onClose:t}){let o=Mo(e),n=P(),r=fs(n),a=A(),[l,c]=(0,Ho.useState)(!1),p=Go(o),_=async()=>{if(l)return;if(c(!0),(await Lo(o?.id)).status!==w.PENDING){c(!1),t();return}r(o,p).catch(S=>{console.log(S)}).finally(()=>{t(),c(!1)})},{type:T}=o?.txParams||{},x="";T===at.FEE_MARKET?x=p.maxFeePerGas:x=p.gasPrice;let C=Ft(ie(U(x,p.gasLimit))),y=`Gas Price (${ze(x)} GWEI) *Gas Limit(${p.gasLimit}) `;return Ho.default.createElement(v.EthereumTxCancelDialogBase,{visible:!!o,onConfirm:_,loading:l,onClose:t,chainSymbol:a?.symbol,newGasFeeDisplay:C,newGasDetailDisplay:y})}var Ht=ba;s();i();var Uo=d(g());function va({txId:e,onClose:t}){let o=Mo(e),n=P(),r=us(n),[a,l]=(0,Uo.useState)(!1),c=Go(o),p=async()=>{if(a)return;l(!0);let ve=await Lo(o?.id);if(!ve||ve.status!==w.PENDING){l(!1),t();return}r(o,c).catch(q=>{console.log(q)}).finally(()=>{l(!1),t()})},{gasPrice:_,maxFeePerGas:T,gasLimit:x,type:C}=o?.txParams||{},y="",h="";C===at.FEE_MARKET?(y=T,h=c.maxFeePerGas):(y=_,h=c.gasPrice);let S=Ft(ie(U(y,x))),Q=`=Gas Price(${ze(y)})`,Y=Ft(ie(U(h,c.gasLimit))),Z=`=Gas Price(${ze(h)})`;return Uo.default.createElement(v.EthereumTxSpeedDialogBase,{visible:!!o,onConfirm:p,loading:a,onClose:t,oldGasFeeDisplay:S,oldGasDetailDisplay:Q,newGasFeeDisplay:Y,newGasDetailDisplay:Z})}var Ut=va;s();i();var qe=d(g());s();i();var Wt=d(g());var Ns=({onClick:e,children:t})=>Wt.default.createElement(L,{className:"rpc-evm-tx-actions__button",category:L.CATEGORY.outline,type:L.TYPE.primary,size:L.SIZE.xs,onClick:o=>{o.stopPropagation(),e&&e(o)}},t);function Ia({tx:e,onCancel:t,onSpeed:o}){let{isShowPending:n,isCanceling:r}=e,a=r?m("wallet_extension_history_list_status_btn_speed_up_cancellation"):m("wallet_extension_history_list_status_btn_cancel_transaction");return n?Wt.default.createElement("div",{className:"rpc-evm-tx-actions"},Wt.default.createElement(Ns,{onClick:t},a),!r&&Wt.default.createElement(Ns,{onClick:o},m("wallet_extension_history_list_status_btn_speed_up"))):null}var Ds=Ia;function Ea({isShowPending:e,isSpeeding:t,isCanceling:o}){let n="",r="";return e?(n=wt.PENDING,t?r=m("wallet_extension_send_status_speedingup"):o?r=m("wallet_extension_send_status_canceling"):r=m("wallet_extension_history_list_status_pending")):(n=wt.WAITING,r=m("wallet_extension_history_list_status_waiting")),{labelType:n,labelText:r}}function Pa(e){let t=Ro(e),o=f(ct),n=[t],r=rt(e.sendTime,{format:"yyyyMMddHHmmss",locale:o});return n.push(r),n}function wa({tx:e,onClick:t,onCancel:o,onSpeed:n}){let{icons:r,title:a}=Fo(e),{labelType:l,labelText:c}=Ea(e),p=Bo(e),_=Pa(e),T=Do(_,p),x=qe.default.createElement(v.Label,{className:"tx-history-ml4",type:l,text:c});return qe.default.createElement(v.ItemContainer,{onClick:C=>{t&&t(e,C)}},qe.default.createElement(v.Row,{assets:p,align:T},qe.default.createElement(v.Info,{icons:r,title:a,label:x,details:_}),qe.default.createElement(v.Assets,{assets:p})),qe.default.createElement(Ds,{tx:e,onCancel:o,onSpeed:n}))}var zt=wa;s();i();var ye=d(g());function Sa({txs:e,onClick:t}){let[o,n]=(0,ye.useState)(null),[r,a]=(0,ye.useState)(null);return ye.default.createElement(ye.default.Fragment,null,e.map(l=>ye.default.createElement(zt,{key:l.id,tx:l,onClick:t,onSpeed:()=>{n(l.id)},onCancel:()=>{a(l.id)}})),ye.default.createElement(Ut,{txId:o,onClose:()=>{n(null)}}),ye.default.createElement(Ht,{txId:r,onClose:()=>{a(null)}}))}var Vt=Sa;function Aa({tx:e}){let t=cs(),{status:o,isShowPending:n,isCanceling:r}=e,[a,l]=(0,fe.useState)(!1),[c,p]=(0,fe.useState)(!1);return fe.default.createElement(fe.default.Fragment,null,(o===w.SUCCEED||o===w.FAILED)&&fe.default.createElement(es,{url:t(e.txHash),text:m("wallet_extension_mid_link_explorer")}),n&&o===w.PENDING&&fe.default.createElement(os,{isShowCancel:!r,isShowSpeedUp:!r,isShowSpeedupCancel:r,onCancel:()=>{l(!0)},onSpeedUp:()=>{p(!0)}}),c&&fe.default.createElement(Ut,{txId:e?.id,onClose:()=>{p(!1)}}),a&&fe.default.createElement(Ht,{txId:e?.id,onClose:()=>{l(!1)}}))}var Ls=Aa;s();i();var De=d(g());s();i();var X=d(g()),Wo=d(ae());s();i();function Na({className:e,label:t,children:o}){return X.default.createElement("div",{className:(0,Wo.default)("rpc-evm-coin-flow__label",e)},X.default.createElement("div",{className:"rpc-evm-coin-flow__label-text"},t),X.default.createElement("div",null,o))}function Da({isNFT:e,icon:t,title:o,address:n}){let r=typeof t=="string"?X.default.createElement(Qr,{className:(0,Wo.default)({"rpc-evm-coin-flow__record-icon-nft":e}),src:t,alt:""}):t;return X.default.createElement("div",{className:"rpc-evm-coin-flow__record"},X.default.createElement("div",{className:"rpc-evm-coin-flow__record-icon"},r),X.default.createElement("div",{className:"rpc-evm-coin-flow__record-right"},X.default.createElement("div",{className:"rpc-evm-coin-flow__record-title"},o),n&&X.default.createElement(Se,{className:"rpc-evm-coin-flow__record-address",label:G(n),value:n,message:m("wallet_extension_popup_title_receiving_address_copied")})))}function La({data:e=[]}){let t=(e||[]).filter(Boolean);if(t.length===0)return null;let o=t.length===1,n=(r,a)=>{if(!r)return null;let{items:l,label:c,...p}=r;return X.default.createElement(Na,{...p,label:c,key:a},l.map((_,T)=>X.default.createElement(Da,{..._,key:T})))};return X.default.createElement("div",{className:(0,Wo.default)("rpc-evm-coin-flow",{"rpc-evm-coin-flow__hidden-label":o})},t.map(n))}var Ms=La;var{TRANS_OUT:Os,CONTRACT_CALL:Fs,AUTHORIZATION:zo,CANCEL_AUTHORIZATION:Vo,CONTRACT_DEPLOY:Bs}=I,Ma={[zo]:"wallet_extension_header_approval_title_approve",[Vo]:"wallet_extension_header_approval_title_cancel_approval"},Oa={[zo]:"wallet_extension_header_approval_title_for",[Vo]:"wallet_extension_header_approval_title_for"},Fa="/static/images/tx-history/default-protocol.svg";function Ba(e){let{type:t}=e,o=A("",!0);switch(t){case Os:{let{value:n,coinSymbol:r}=e.extraParams||{},a=`- ${O.thousandFormat(n)} ${r||m("wallet_extension_history_text_unknown_token")}`;return{items:[{icon:De.default.createElement(se,{icon:!r&&Hn,text:r,size:"large",theme:"black"}),title:De.default.createElement(gn,{maxWidth:"284px",text:a})}]}}case Fs:{let{value:n}=e.txParams||{},r=W(n);if(it(r,0))return null;let a=`- ${Tt(ie(r),{symbol:o.symbol,decimals:o?.decimals})}`;return{items:[{icon:De.default.createElement(se,{text:o.symbol,size:"large",theme:"black"}),title:De.default.createElement(gn,{text:a,maxWidth:"284px"})}]}}case zo:case Vo:{let{coinSymbol:n}=e.extraParams||{};return n?{label:m(Ma[t]),items:[{icon:De.default.createElement(se,{text:n,size:"large",theme:"black"}),title:n}]}:null}case Bs:default:return null}}function Ra(e){let{type:t,extraParams:o}=e;switch(t){case zo:case Vo:{let{approvedAddress:n}=o||{};return{label:m(Oa[t]),items:[{icon:Fa,title:De.default.createElement(Se,{className:"rpc-mode-evm-tx-detail-flow__authorization",label:G(n),value:n,message:m("wallet_extension_popup_title_receiving_address_copied")})}]}}case Os:case Fs:case Bs:default:return null}}function Ga({tx:e}){let t=Ba(e),o=Ra(e);return De.default.createElement(Ms,{data:[t,o]})}var Rs=Ga;s();i();var b=d(g());var Gs=d(ae());function Ha({status:e,isCanceling:t,isSpeeding:o,isShowPending:n}){let r,a="";return e===w.SUCCEED?(r=gt.TxStatusInfoEnum.SUCCESS,a=m("wallet_extension_history_status_completed")):e===w.FAILED||e===w.DROPPED?(r=gt.TxStatusInfoEnum.FAILED,a=m("wallet_extension_history_status_failed")):e===w.PENDING&&(n?(r=gt.TxStatusInfoEnum.PENDING,t?a=m("wallet_extension_send_status_canceling"):o?a=m("wallet_extension_send_status_speedingup"):a=m("wallet_extension_history_list_status_pending")):(r=gt.TxStatusInfoEnum.WAITING,a=m("wallet_extension_history_list_status_waiting"))),b.default.createElement(gt,{label:m("wallet_extension_mid_text_status"),status:r,statusText:a})}function Ua({status:e,sendTime:t,finishTime:o}){let n=f(ct);return b.default.createElement(he,{label:m("wallet_extension_mid_text_time"),value:rt(e===w.PENDING?t:o,{format:"yyyyMMddHHmmss",locale:n})})}function Wa({type:e,extraParams:t}){let{approvedAmount:o}=t||{};return e!==I.AUTHORIZATION?null:b.default.createElement(he,{label:m("wallet_extension_mid_text_approved_amount"),value:o>=10**13?m("wallet_extension_mid_text_unlimited"):O.thousandFormat(o||"0")})}function za({status:e,blockNumber:t}){let o=f(ho),n=Ue(o,t);return e===w.PENDING||e===w.DROPPED||st(n,0)||Pt(n,14)?null:b.default.createElement(he,{label:m("wallet_extension_mid_text_block_confirmation"),value:n})}function Va(){let e=P();return b.default.createElement(he,{label:m("wallet_extension_mid_text_network"),value:b.default.createElement(b.default.Fragment,null,b.default.createElement(se,{className:"rpc-mode-evm-tx-detail-info__network-icon",icon:e.icon,text:e.name,size:"small",theme:"lightGray"}),e.name)})}function $a({txParams:e}){let{from:t}=e;return b.default.createElement(he,{label:m("wallet_extension_mid_text_from"),value:b.default.createElement(Se,{label:G(t),value:t,message:m("wallet_extension_popup_title_receiving_address_copied")})})}function Ya({status:e,type:t,extraParams:o,txParams:n}){let{toAddress:r,tokenAddress:a,contractAddress:l}=o||{},{to:c}=n,p,_;if(t===I.TRANS_OUT)p=m("wallet_extension_mid_text_to"),_=r;else if(t===I.CONTRACT_DEPLOY)if(e===w.SUCCEED)p=m("developer_mode_history_subtitle_developer"),_=l;else return null;else p=m("wallet_extension_mid_text_interaction_address"),t===I.AUTHORIZATION||t===I.CANCEL_AUTHORIZATION?_=a:_=c;return b.default.createElement(he,{label:p,value:b.default.createElement(Se,{label:G(_),value:_,message:m("wallet_extension_popup_title_receiving_address_copied")})})}function Za({status:e,gasUsed:t,txParams:o}){let n=P(),{gasLimit:r,maxFeePerGas:a,gasPrice:l}=o,c=Sr(U,ie),p=l||a,_=Tt(c(p,t||r),{symbol:n?.symbol,decimals:n?.decimals});return b.default.createElement(rs,{label:m("wallet_extension_mid_text_network_fee"),value:_,tip:e===w.PENDING&&m("wallet_extension_popup_cancle_transaction_gasprice_gaslimit",{gasPrice:O.thousandFormat(ze(p)),gasLimit:O.thousandFormat(r)})})}function qa({txParams:e}){let{data:t}=e,[o,n]=(0,b.useState)(!1);return t?b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info-data"},b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info-data__inner"},b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info-data__title",onClick:()=>{n(r=>!r)}},m("developer_mode_history_title_transaction_data"),b.default.createElement(B,{className:(0,Gs.default)("okx-wallet-plugin-arrow-small-down rpc-mode-evm-tx-detail-info-data__arrow",{"rpc-mode-evm-tx-detail-info-data__arrow--spread":o})})),o&&b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info-data__data"},t))):null}function Ka({tx:e}){let{txHash:t,txParams:{nonce:o}}=e;return b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info"},b.default.createElement(Ha,{...e}),b.default.createElement(Ua,{...e}),b.default.createElement(Wa,{...e}),b.default.createElement(za,{...e}),b.default.createElement(Va,{...e}),b.default.createElement($a,{...e}),b.default.createElement(Ya,{...e}),b.default.createElement(Za,{...e}),b.default.createElement(he,{label:m("developer_mode_history_title_nonce"),value:W(o)}),b.default.createElement(he,{label:m("wallet_extension_mid_text_transaction_hash"),value:b.default.createElement(Se,{label:G(t),value:t,message:m("wallet_extension_popup_title_transaction_hash_copied")})}),b.default.createElement(qa,{...e}))}var Hs=Ka;var Xa=e=>{if(!e)return null;let{type:t,extraParams:o}=e,n=Ye[t];return t===I.AUTHORIZATION||t===I.CANCEL_AUTHORIZATION?m(n,{symbol:o?.coinSymbol||""}):m(n)};function Ja({txId:e,onBack:t}){let n=ms().find(({id:a})=>a===e),r=Xa(n);return Ke.default.createElement(Eo.Action,{isFull:!0,titleCenter:!0,title:r,visible:!!e,onClose:t},Ke.default.createElement(ts,{message:n?.errorMessage}),!!n&&Ke.default.createElement("div",{className:"rpc-mode-tx-detail__content"},Ke.default.createElement(Rs,{tx:n}),Ke.default.createElement(Hs,{tx:n}),Ke.default.createElement(Ls,{tx:n})))}var $t=Ja;s();i();s();i();var $o=d(g());function ja({txs:e,onClick:t}){let o=(0,$o.useMemo)(()=>e.map(n=>{let r,a;return n.status===w.PENDING?(r=n.sendTime,a=zt):(r=n.finishTime,a=Rt),{...n,sortTime:r,Comp:a}}),[e]);return o.length===0?null:$o.default.createElement(Gt,{txs:o,onClick:t})}var Us=ja;s();i();var Ws=d(g());function Qa({txs:e,onClick:t}){return e.length===0?null:Ws.default.createElement(Vt,{txs:e,onClick:t})}var zs=Qa;s();i();var Vs={"rpc-evm-coin-detail-list":"_rpc-evm-coin-detail-list_1xbbm_1",rpcEvmCoinDetailList:"_rpc-evm-coin-detail-list_1xbbm_1"};function em(){let e=Ne(),t=ls({tokenAddress:e}),[o,n]=(0,_e.useState)(null),[r,a]=(0,_e.useMemo)(()=>{let c=[],p=[];return t.forEach(_=>{_.isShowPending?c.push(_):p.push(_)}),[c,p]},[t]),l=c=>{n(c.id)};return t.length===0?_e.default.createElement(v.Empty,{top:48,description:m("wallet_transaction_history_subtitle_no_records")}):_e.default.createElement("div",{className:Vs.rpcEvmCoinDetailList},_e.default.createElement(zs,{txs:r,onClick:l}),_e.default.createElement(Us,{txs:a,onClick:l}),_e.default.createElement($t,{txId:o,onBack:()=>{n(null)}}))}var $s=em;s();i();var xt=d(g());s();i();var Yt=d(g());var Ys=d(z());var tm=()=>{let e=(0,Ys.useHistory)(),t=E(),o=P(),n=Ne(),r=A(n),a=`${lt}?address=${n||""}`,l=!n&&o?.faucetUrl;return Yt.default.createElement("div",{className:"rpc-evm-coin-detail-btns"},Yt.default.createElement(So,{strong:!1,space:"13px",size:wo.xl,disabled:it(r?.balance,0),icon:"okx-wallet-plugin-up",text:m("wallet_home_btn_send"),onClick:()=>{t(nr(a));let c=`${de}?showClose=1`;n&&(c+=`&address=${n}`),e.push(c)}}),Yt.default.createElement(So,{strong:!1,space:"13px",size:wo.xl,icon:"okx-wallet-plugin-down",text:m("wallet_home_btn_receive"),onClick:()=>{let c=n?`&address=${n}`:"";e.push(`${mt}?showClose=1${c}`)}}),l&&Yt.default.createElement(So,{strong:!1,space:"13px",size:wo.xl,icon:"okx-wallet-plugin-web3-faucet",text:m("developer_mode_home_btn_faucet"),href:o?.faucetUrl}))},Zs=tm;function om(){let e=Ne(),t=A(e),o=t?.balance||0,{symbol:n,usdToThisRate:r}=f(Nn),a=U(t?.price,r);return{coinAmount:o,coinSymbol:t?.symbol,coinAmountDisplay:co(o,{useLargeNumberPrecision:!0}).value,currencyAmountDisplay:Ar({amount:o,rate:a,symbol:n},{useSign:!0,useFixed:!0})}}function nm(){let e=ne(),{coinSymbol:t,coinAmountDisplay:o}=om();return xt.default.createElement(xt.default.Fragment,null,xt.default.createElement(Es,{coinSymbol:t,amountDisplay:o,currencyDisplay:null,justify:$e.ALIGN.start}),xt.default.createElement(Zs,null),xt.default.createElement(Ps,{addressLabel:"",address:e,addressType:void 0,isDefaultAddress:!1,coin:{},baseCoin:{},canChangeDefaultAddress:!1,openAddressesDialog:()=>{}}))}var qs=nm;s();i();function rm(){return ht.default.createElement("div",{className:"rpc-evm-coin-detail"},ht.default.createElement(As,null),ht.default.createElement("div",{className:"rpc-evm-coin-detail__content"},ht.default.createElement(qs,null),ht.default.createElement($s,null)))}var Ks=rm;s();i();var M=d(g());s();i();var ke=d(g()),Xs=d(z());nt();var sm="0x",im=()=>{let e=Po();return async t=>{try{return!_t(t)||await(await e()).getCode(t)===sm}catch(o){return console.log(o),!0}}},Js=()=>{let e=R.useForm(),t=(0,Xs.useHistory)(),[o,n]=ke.default.useState(null),[r,a]=ke.default.useState(!1),[l,c]=ke.default.useState(!1),p=ur(),_=dr(),T=pr(),x=im(),C=ue(!0,!0),y=P();ke.default.useEffect(()=>{e?.setFieldsValue({network:y.name})},[y]);let h=Ve(()=>{let{chainId:Y}=y,Z=e.getFieldsValue();p(Y,Z.address,Z),T({chainId:Y,address:Z.address}),Ee.success({title:m("developer_mode_manage_toast_added")}),t.go(-1)},[y]),S=Ve(vn(async()=>{n(null),c(null);let Y=e.getFieldValue("address");if(e.cleanErrors(),!Y)return!1;let Z=C.find(q=>q.address===Y);if(Z&&!Z.isDeleted)return e.setErrors({address:m("developer_mode_manage_errortip_duplicate_add")});if(a(!0),c(!1),await x(Y))return a(!1),e.setErrors({address:m("developer_mode_manage_errortip_request_failed")});try{let q=await _(Y);n(q),e.setFieldsValue(q)}catch(q){c(!0),e.setErrors({address:""}),console.log("error",q)}finally{a(!1)}},250),[C]),Q=(0,ke.useMemo)(()=>l?ke.default.createElement("div",{className:"rpc-mode-custom-crypto__address__error"},m("developer_mode_manage_errortip_request_failed"),ke.default.createElement("span",{className:"rpc-mode-custom-crypto__address__refresh",onClick:S},m("developer_mode_manage_errortip_refresh"))):null,[l]);return{form:e,token:o,rpcInfo:y,fetching:r,addressError:Q,onConfirm:h,onAddressTrigger:S}};s();i();var am=11,mm=()=>{let{form:e,token:t,rpcInfo:o,fetching:n,onConfirm:r,addressError:a,onAddressTrigger:l}=Js();return M.default.createElement("div",{className:"rpc-mode-custom-crypto"},M.default.createElement(H,{title:m("developer_mode_manage_maintitle_customcpt")}),M.default.createElement(R,{form:e,size:R.SIZE.lg,validateTrigger:["onBlur","onChange"],className:"rpc-mode-custom-crypto__form"},M.default.createElement(R.Item,{name:"network",label:m("developer_mode_manage_title_network")},M.default.createElement(D,{size:R.SIZE.xl,innerClassName:"rpc-mode-custom-crypto__form__input__disabled",prefix:M.default.createElement(se,{theme:"lightGray",icon:o.icon,text:o?.name,className:"rpc-mode-custom-crypto__icon"})})),M.default.createElement(R.Item,{name:"address",label:m("developer_mode_manage_title_contractadd"),extra:a},M.default.createElement(D.TextArea,{autoResize:!0,size:R.SIZE.xl,onChange:l,errorType:D.TIP_TYPE.always,suffix:n&&M.default.createElement(dn.Circle,{size:dn.SIZE.sm})})),M.default.createElement(R.Item,{name:"symbol",hidden:!t,label:m("developer_mode_manage_title_symbol"),rules:[{validator:(c,p)=>p?.length>am?Promise.reject(m("developer_mode_manage_errortip_symbollimit")):Promise.resolve()}]},M.default.createElement(D,{size:R.SIZE.xl})),M.default.createElement(R.Item,{hidden:!t,name:"decimals",label:m("developer_mode_manage_title_decimals")},M.default.createElement(D,{size:R.SIZE.xl,disabled:!0})),M.default.createElement(R.Item,{hidden:!0,name:"name"},M.default.createElement(D,{size:R.SIZE.xl})),M.default.createElement(R.Item,{noStyle:!0,shouldUpdate:!0},({getFieldsError:c,getFieldValue:p})=>M.default.createElement(Pe.FooterActions,{usePortal:!0,offsetBottom:0},M.default.createElement(L,{size:L.SIZE.lg,type:L.TYPE.highlight,category:L.CATEGORY.fill,disabled:c().length||!p("symbol"),onClick:r},m("developer_mode_manage_btn_confirm"))))))},js=mm;s();i();var ti=d(g());s();i();var Zt=d(g());nt();var Qs=d(da());var xn=class extends Qs.default{constructor(){super();rn(this,"DROPPED_BUFFER_COUNT",3);rn(this,"droppedBlocksBufferByTxHash",new Map);this.confirmedTxs=[],this.provider=null}setProvider(o){this.provider=o}setConfirmedTxs(o){this.confirmedTxs=o}async checkPendingTx(o,n,r){let a=[o,...o.txPool],l=0,c;(await Promise.allSettled(a.map(_=>this.checkOnePendingTx(_)))).forEach(_=>{if(_.status==="fulfilled"){let{value:T={}}=_;if(T.status==="dropped")l++;else if(T.status==="confirmed"){let{txId:x,transactionReceipt:C}=T;c={id:x,transactionReceipt:C}}}}),c?n(c,o.id):l===a.length&&r(o.id)}async checkOnePendingTx(o){let{id:n,txHash:r}=o;if(!r||o.status===w.DROPPED||this.checkIfNonceIsTaken(o))return{status:"dropped"};try{let a=await this.provider.getTransactionReceipt(r);if(a?.blockNumber)return{status:"confirmed",txId:n,transactionReceipt:a}}catch(a){throw new Error(a)}return await this.checkIfTxWasDropped(o)?{status:"dropped"}:{}}checkIfNonceIsTaken(o){return this.confirmedTxs.some(n=>n.id!==o.id&&it(W(n.txParams.nonce),W(o.txParams.nonce)))}async checkIfTxWasDropped(o){let{id:n,txHash:r,txParams:{nonce:a,from:l}}=o,c=`${n}-${r}`,p;try{p=await this.provider.getTransactionCount(l)}catch{return!1}if(ot(p)||Pt(W(a),p))return!1;this.droppedBlocksBufferByTxHash.has(c)||this.droppedBlocksBufferByTxHash.set(c,0);let _=this.droppedBlocksBufferByTxHash.get(c);return _<this.DROPPED_BUFFER_COUNT?(this.droppedBlocksBufferByTxHash.set(c,_+1),!1):(this.droppedBlocksBufferByTxHash.delete(c),!0)}};function ei(){let e=Po(),t=ds(),o=f(ho),n=mo(ne()),r=mo(Ae()),a=mo(is()),l=(0,Zt.useRef)(!1),c=(0,Zt.useRef)(new xn),p=async(x,C,y)=>{let h=await ss({txId:x,replaceTxId:C,tx:y});t(h)},_=x=>{p(x,null,{status:w.DROPPED,finishTime:+new Date})},T=({id:x,transactionReceipt:C},y)=>{let h={blockNumber:C.blockNumber,gasUsed:C.gasUsed.toString(),finishTime:+new Date,extraParams:{contractAddress:C.contractAddress}};C.status?h.status=w.SUCCEED:h.status=w.FAILED,p(y,x,h)};(0,Zt.useEffect)(()=>{(async()=>{if(!(r.current.length===0||l.current)){l.current=!0;try{let C=await e();c.current.setProvider(C),c.current.setConfirmedTxs(a.current);let y=null;try{y=await C.getTransactionCount(n.current,"latest")}catch{}await Promise.all(r.current.map(h=>y!==null&&Pt(W(h.txParams.nonce),y)?null:c.current.checkPendingTx(h,T,_)))}finally{l.current=!1}}})()},[o,e])}var lm=()=>(Xr(),hs(),ei(),bs(),null),oi=(0,ti.memo)(lm);s();i();var k=d(g());var gi=d(z());s();i();var le=d(g()),ni=d(z()),ri=d(ae()),si=d(cn());s();i();var qt={button:"_button_l2q1y_1",showButton:"_showButton_l2q1y_5",editIcon:"_editIcon_l2q1y_11"};var cm=190,ii=({dataSource:e,backupHeight:t,scrollTop:o})=>{let n=(0,le.useMemo)(()=>e.length>=8&&o>cm,[e.length,o]),{paddingBottom:r,buttonPaddingBottom:a,absoluteBottom:l}=Vr({isButtonAbsolute:n,backupHeight:t});return le.default.createElement("div",{className:qt.wrapper},le.default.createElement("div",{style:{paddingBottom:r}},le.default.createElement(pn,{className:"rc-mode-home__tokens",dataSource:e,renderItem:c=>le.default.createElement(pn.Coin,{name:c?.name,symbol:c?.symbol,to:`${lt}?${si.default.stringify({address:c?.address})}`,balance:c.balance||"0",market:!1,displayPrecision:c?.displayPrecision,stableCoin:c?.stableCoin,"data-testid":me.RPC_MODE_HOME_PAGE.TOKEN_LIST_ITEM})})),le.default.createElement("div",{className:`${n?qt.showButton:""} ${qt.button}`,style:{bottom:l,paddingBottom:a}},le.default.createElement(ni.Link,{to:go},le.default.createElement(L,{circle:!0,type:L.TYPE.primary,category:L.CATEGORY.outline,"data-testid":me.RPC_MODE_HOME_PAGE.MANAGE_CRYPTO_BUTTON},le.default.createElement(B,{className:(0,ri.default)("okx-wallet-plugin-edit-wallet",qt.editIcon)}),m("developer_mode_home_maintitle_managecpt")))))};s();i();var ci=d(g());s();i();var hn=d(g()),ai=d(z()),mi=d(cn());var li=()=>{let{isNotBackupWallet:e}=Ao(),t=No(),o=(0,ai.useHistory)(),n=ue(),r=P(),a=(0,hn.useMemo)(()=>n.filter(({balance:p})=>!!Number(p)),[n]),{openToolkit:l,toolkitElement:c}=Ur();return(0,hn.useMemo)(()=>[{key:"send",text:"wallet_home_btn_send",icon:"okx-wallet-plugin-up",testId:`${me.HOME_PAGE.ACTION_ITEM}-wallet_home_btn_send`,onClick:()=>{a.length===1?o.push(`${de}?${mi.default.stringify({address:a[0]?.address})}`):o.push(_o)}},{key:"receive",text:"wallet_home_btn_receive",icon:"okx-wallet-plugin-down",testId:`${me.HOME_PAGE.ACTION_ITEM}-wallet_home_btn_receive`,onClick:()=>{e?t():o.push(mt)}},{key:"faucet",text:"developer_mode_home_btn_faucet",icon:"okx-wallet-plugin-web3-faucet",testId:`${me.HOME_PAGE.ACTION_ITEM}-developer_mode_home_btn_faucet`,disabled:!r?.faucetUrl,disabledText:"extension_wallet_home_tooltip_no_faucet",onClick:()=>{r.faucetUrl&&globalThis.open(r.faucetUrl)}},{key:"history",text:"developer_mode_home_btn_t_tradinghistory",icon:"okx-wallet-plugin-history-1",testId:`${me.HOME_PAGE.ACTION_ITEM}-developer_mode_home_btn_t_tradinghistory`,onClick:()=>{o.push(Co)}},{key:"toolkit",text:"wallet_extension_home_text_toolkit",icon:"okx-wallet-plugin-overview-20",testId:me.HOME_PAGE.TOOLKIT_ICON,onClick:()=>{Bn({button_name:"more"}),l()},element:c}],[a,o,e,t,r,l,c])};var di=()=>{let e=li();return ci.default.createElement(Wr,{options:e})};s();i();var pi=d(g());var ui=d(z());var fi=()=>{let e=re(),t=(0,ui.useHistory)(),o=ue(),n=P(),r=ne(),{isNotBackupWallet:a}=Ao(),l=f(Sn);Ie(()=>{e.get("from")==="setting"&&t.replace({search:""})});let c=(0,pi.useMemo)(()=>o.find(({address:p})=>!p)||{},[o]);return{rpcInfo:n,mainToken:c,chainTokens:o,walletAccount:l,ethereumAccount:r,isNotBackupWallet:a}};s();i();var _i={wrapper:"_wrapper_11hdl_1"};var dm=({isNotBackupWallet:e,unapprovedRequestCount:t,triggerShowBackupWalletDialog:o})=>{e&&t!==0&&o({text:m("wallet_dapp_conncetion_alert_backup_wallet")},!0)},pm=({history:e,isRpcMode:t})=>{t||e.replace(te)},um=({walletAccount:e})=>{let{walletId:t}=e||{};return t},fm=e=>{let t=Pn()===En;(0,k.useEffect)(()=>{e&&t&&globalThis.platform.openExtensionInPopup(uo)},[])},_m=()=>{let{isNeedShowDisconnectUpgrade:e,setDisconnectUpgrade:t}=Or();return(0,k.useCallback)(()=>{e&&(Ee.success({title:m("wallet_extension_card_subtitle_disconnect_update")}),t())},[e,t])},gm=({mainToken:e,chainId:t,walletId:o,symbol:n})=>{let r=Lt(o);(0,k.useEffect)(()=>{(async()=>{if(e?.balance&&t){let a="";try{a=(await wr({keyringIdentityType:r?.keyringIdentityType,account:r?.account,serverWalletType:r?.serverWalletType}))?.refCode||""}catch{}Fn({wallet_id:o,main_coin_number_by_networks:[{chain_id:W(t),main_token_symbol:n,main_token_amount:e?.balance}],web3_c_ref:a})}})()},[o,e?.balance,t,n])},Tm=(e,t)=>{let o=E();(0,k.useEffect)(()=>{(async()=>{e===0&&!t&&await o(Pr())})()},[e])},Cm=()=>{let e=(0,gi.useHistory)(),t=No(),o=Hr(),{rpcInfo:n,chainTokens:r,isNotBackupWallet:a,mainToken:l,ethereumAccount:c}=fi(),p=Lt(),_=(0,k.useRef)(null),[T,x]=(0,k.useState)(0),[C,y]=(0,k.useState)(0),h=(0,k.useRef)(null),{unapprovedRequestCount:S,unapprovedPermissionsRequestId:Q}=Cs(),Y=Tr(),Z=Cr(),ve=Fr(),{loadingMoonCatData:q}=mr(),Qt=(0,k.useCallback)((...ro)=>{q||t(...ro)},[t,q]);(0,k.useEffect)(()=>{dm({isNotBackupWallet:a,unapprovedRequestCount:S,unapprovedPermissionsRequestId:Q,triggerShowBackupWalletDialog:Qt});let ro=Z({isNotBackupWallet:a,unapprovedRequestCount:S,unapprovedPermissionsRequestId:Q,unapprovedRequests:Y});ro&&e.replace(ro)},[a,S,Qt,Z]);let Re=f(An);Tm(S,Re);let{isRpcMode:eo}=f(po);(0,k.useEffect)(()=>{pm({history:e,isRpcMode:eo})},[eo]),fm(Re);let Je=co(l.balance).value,Ge=_m(),{data:je,canUseSA:He,refetch:Qe}=Mr(),et=(0,k.useMemo)(()=>Lr(je?.teeStatus),[je]),F=()=>{On(),He&&e.push(Zn)},en=(0,k.useCallback)(()=>{Qe()},[Qe]),to=zr(),{run:oo}=Rn(()=>{y(h.current?.scrollTop||0)},{wait:50,maxWait:50}),{tryRpc:tn,error:It,retryTryRpcAsync:on,loading:nn}=vs();(0,k.useEffect)(()=>{n?.rpcUrl&&tn(n?.rpcUrl)},[n?.rpcUrl]),(0,k.useLayoutEffect)(()=>{_.current&&a&&x(_.current?.clientHeight||0)},[a]);let ee=um({walletAccount:p}),{chainId:tt,symbol:no}=n;return gm({mainToken:l,chainId:tt,walletId:ee,symbol:no}),k.default.createElement("div",{className:_i.wrapper,ref:h,onScroll:()=>{oo()}},He&&et!=="not_enabled"&&je&&k.default.createElement($r,{status:et,data:je,onClick:F,onExpired:en}),k.default.createElement("div",null,k.default.createElement(Yr,{titleLeft:p?.keyringName,titleRight:p?.walletName,subTitle:G(c),address:c,chainName:n?.name,filterAddress:[],filterHotAddress:[],isNotBackupWallet:a,isFactionPKAccount:!1,saStatus:et}),k.default.createElement(Kr,{balance:Je,symbol:l.symbol}),k.default.createElement(di,null),k.default.createElement(Gr,null),k.default.createElement(ii,{dataSource:r,scrollTop:C,backupHeight:a?T+24:0})),k.default.createElement(Br,{info:o,isNotBackupWallet:a,disconnectCallback:Ge}),k.default.createElement("div",{ref:_},k.default.createElement(Dr,{offsetBottom:24})),k.default.createElement(Zr,{showBackup:()=>{}}),k.default.createElement(Is,{visible:!!It&&!nn,onRetry:on,onChangeNet:()=>{e.push(`${zn}?tab=${to?.networkType??"1"}`)},error:It}),ve&&k.default.createElement(Rr,{actionMap:{["RECOVER"]:()=>{e.push(`${Yn}?action=${hr.RECOVER}`)},["SWITCH_WALLET"]:()=>{e.push(`${Vn}?fromHome=1`)}}}))},Ti=Cm;s();i();var V=d(g()),vi=d(z()),Ii=d(ae());s();i();var be=d(g()),hi=d(ae());s();i();var yt=d(g()),Ci=d(ae());var xm=({token:e,className:t,children:o,onClick:n})=>yt.default.createElement("div",{onClick:n,className:(0,Ci.default)("rc-mode__token",t)},yt.default.createElement(se,{fontSize:18,theme:"black",className:"rc-mode__token__icon",size:"large",text:e?.symbol}),yt.default.createElement("div",{className:"rc-mode__token__info"},yt.default.createElement("div",{className:"rc-mode__token__title"},e.symbol),yt.default.createElement("div",{className:"rc-mode__token__name"},e.name)),o),xi=xm;var yi=({className:e,dataSource:t=[],renderItem:o,emptyText:n,useFade:r,component:a="div",...l})=>{let c=!t.length,p=r?_r:be.default.Fragment,_=r?gr:be.default.Fragment,T=r?"div":be.default.Fragment;return be.default.createElement(a,{className:(0,hi.default)("rc-mode__tokens",e),...l},be.default.createElement(p,null,t.map((x,C)=>{let y=C,h=be.default.createRef();return be.default.createElement(_,{key:y,nodeRef:h},be.default.createElement(T,{ref:h},o(x)))})),c&&n)};yi.Item=xi;var Le=yi;s();i();var ki=d(g());var bi=()=>{let e=E(),t=P(),{chainId:o}=t,n=ue(!0,!0),r=(0,ki.useMemo)(()=>{let l=[],c=[];return n.forEach(p=>{p.isDeleted?c.push(p):l.push(p)}),{usedChainTokens:l,disusedChainTokens:c}},[n]),a=Ve(({address:l,isDeleted:c})=>{e(rr({chainId:o,address:l,isDeleted:!c}))});return[r,a]};s();i();var hm=()=>{let[{usedChainTokens:e,disusedChainTokens:t},o]=bi();return V.default.createElement("div",{className:"rpc-mode-manage-crypto"},V.default.createElement(H,{closeable:!1,title:m("developer_mode_home_maintitle_managecpt")}),V.default.createElement(vi.Link,{to:To},V.default.createElement("div",{className:"rpc-mode-manage-crypto__custom"},V.default.createElement("span",{className:"rpc-mode-manage-crypto__custom__title"},m("developer_mode_manage_text_customcpt")),V.default.createElement(B,{className:"okx-wallet-plugin-right rpc-mode-manage-crypto__custom__icon"}))),V.default.createElement("h2",{className:"rpc-mode-manage-crypto__added"},m("developer_mode_manage_title_addedcpt")),V.default.createElement(Le,{useFade:!0,className:"rc-mode-home__tokens",dataSource:e,renderItem:n=>{let r=!n.address;return V.default.createElement(Le.Item,{token:n},V.default.createElement(B,{className:(0,Ii.default)("okx-wallet-plugin-take","rc-mode-home__token__action","rc-mode-home__token__action__minus",{"rc-mode-home__token__action__disabled":r}),onClick:()=>o(n)}))}}),!!t.length&&V.default.createElement("h2",{className:"rpc-mode-manage-crypto__added"},m("developer_mode_manage_title_adding")),V.default.createElement(Le,{useFade:!0,className:"rc-mode-home__tokens",dataSource:t,renderItem:n=>V.default.createElement(Le.Item,{token:n,key:n?.address},V.default.createElement(B,{className:"okx-wallet-plugin-add rc-mode-home__token__action rc-mode-home__token__action__add",onClick:()=>o(n)}))}))},Ei=hm;s();i();var Yo=d(g()),wi=d(z());s();i();var Pi={content:"_content_vo637_1"};var ym=()=>{let e=(0,wi.useHistory)(),t=re(),o=t.get("showClose"),n=t.get("address"),r=P(),a=A(n),l=ne(),c=`ethereum:${l}`;return Yo.default.createElement(yr,{navigator:{bordered:!1,onClose:o?()=>{e.push(te)}:null,closeable:!0},content:{symbol:a?.symbol,coinLogo:a?.icon,chainName:r?.name,walletAddress:l,aggregation:!1,QRCodeAddress:c,className:Pi.content}})},Si=(0,Yo.memo)(ym);s();i();var ce=d(g()),Ni=d(z()),Di=d(cn());s();i();var Kt=d(g());var Ai=()=>{let e=ue(),[t,o]=Kt.default.useState(),n=Ve(({target:{value:l}})=>{o(l)}),r=(0,Kt.useMemo)(()=>e.filter(({balance:l})=>!!Number(l)),[e]);return[(0,Kt.useMemo)(()=>t?r.filter(({name:l,symbol:c})=>{let p=t?.toLowerCase();return l?.toLowerCase()?.includes(p)||c?.toLowerCase()?.includes(p)}):r,[t,r]),{onChange:n,value:t,showSearch:!!r.length}]};s();i();var km=()=>{let[e,{showSearch:t,...o}]=Ai();return ce.default.createElement("div",{className:"rc-mode-select__token"},ce.default.createElement(H,{title:m("developer_mode_send_title_selecta_token")}),t&&ce.default.createElement(D.Search,{placeholder:m("developer_mode_send_input_selecta_token",{},{useBr:!1}),className:"rc-mode-select__token__search",...o}),ce.default.createElement(Le,{dataSource:e,renderItem:n=>ce.default.createElement(Ni.Link,{to:`${de}?${Di.default.stringify({showClose:1,address:n?.address})}`},ce.default.createElement(Le.Item,{token:n},ce.default.createElement("div",{className:"rc-mode-select__token__balance"},ce.default.createElement("div",{className:"rc-mode-select__token__amount"},O.thousandFormat(n.balance||0))))),emptyText:ce.default.createElement(Dt.State,{className:"rc-mode-select__token__empty",title:t?m("developer_mode_send_toast_addnewtoken",{crypto:ce.default.createElement("span",{className:"rc-mode-select__token__empty__title__special"},o.value)}):m("developer_mode_send_toast_nonetoken")})}))},Li=km;s();i();var N=d(g());var Mi=d(z());nt();function bm(e){let t=f(K),o=!t,n=ne(),r=f(pe),a=f(an),l=f(Xn),c=f(St),p=f(At),_=P(),T={from:n,to:o?r:t,value:o?l:"0x0",data:a},[x,C]=_s(T),y=gs({data:T.data,type:x}),h=A(T.to),S=kr(y?.amount||0,h?.decimals);return{txMeta:Ts({tx:T,customGasInfo:e,nonce:c||p,txData:y,tokenInfo:h,chain:_,approvedAmount:S,formattedAmount:S,txType:x}),loadingTxData:C}}var vm=()=>{let e=(0,Mi.useHistory)(),t=E(),o=f(bo),n=f(K),r=A(n),a=A(),l=f(dt),c=xr(),p=Lt(c),_=f(pe),T=f(St),x=f(At),C=f(an),y=P(),h=ps(y),S=Nr(c),[Q,Y]=(0,N.useState)(!1),[Z,ve]=(0,N.useState)(!1),{setGasType:q,chainGasLevels:Qt,currentGasInfo:Re,setCustomGasOption:eo,chainGasLoading:Je,chainGasLoadFailed:Ge,chainGasLimitLoadFailed:je}=Oo(),He=Re,Qe=Ot(Re),et=f(Kn),{txMeta:F,loadingTxData:en}=bm(Re),to=r?.balanceInt;Ie(()=>{if(!_){let ee=de;n&&(ee+=`?address=${n}`),e.replace(ee)}});let oo=(0,N.useMemo)(()=>[I.AUTHORIZATION,I.CANCEL_AUTHORIZATION].includes(F.type)?!1:F.type===I.TRANS_OUT?F.extraParams?.value:l,[l,F]),tn=(0,N.useMemo)(()=>F.type===I.TRANS_OUT?F.extraParams?.coinSymbol:[I.AUTHORIZATION,I.CANCEL_AUTHORIZATION].includes(F.type)?m(Ye[F.type],{symbol:F.extraParams?.coinSymbol}):m(Ye[F.type]),[F]),It=()=>{setTimeout(()=>{t(Io())},200),e.push(o||te)},on=async()=>{try{ve(!0),await h(F,void 0,ee=>{let tt=qn[p?.keyringIdentityType];Mn({tx_source:"transfer",from_addr:ee?.txParams?.from,to_addr:_,main_token_symbol:y?.symbol,token_symbol:ee?.extraParams?.coinSymbol||"",contract_address:n||"",volume_token:l,volume_usdt:"",tx_hash_unique:ee?.txHash,wallet_type:tt,chain_id:parseInt(y?.chainId,16)})}),It()}catch(ee){bn(ee)}finally{ve(!1)}},nn=(0,N.useMemo)(()=>Ge?{type:_n.TIP_TYPE.FEE_ERROR}:He?.isSupportEip1559&&He?.baseFeePerGas==="0"?{type:lr.TYPE.warn,message:m("wallet_extension_transaction_error_base_zero")}:null,[Ge,He?.baseFeePerGas,He?.isSupportEip1559]);return(0,N.useEffect)(()=>{if(et){let ee=r.decimals,tt=so(to,10**ee),no=n?tt:Ue(tt,Qe);t(vo(st(no,0)?"0":no))}},[Qe,et,to,n,r.decimals]),N.default.createElement($e.Container,null,N.default.createElement(H,{icon:F.type===I.TRANS_OUT&&{text:F.extraParams?.coinSymbol},title:tn,onClose:It}),N.default.createElement(br,{txType:Dn.TRANS_OUT}),oo&&N.default.createElement(Mt,null,N.default.createElement(Ir,{injectCoin:r,useMinPrecision:!1,assetChange:oo,displayEstimate:!1,hideSign:!0})),N.default.createElement(Mt,null,N.default.createElement(fn,{localType:wn,title:m("extension_send_mid_text_from"),walletId:c,onCopyCallback:()=>{S({trade:"send",all_confirmation:"wallet_used_address"})}}),N.default.createElement(fn,{address:_,title:m("extension_send_mid_text_to"),onCopyCallback:()=>{S({trade:"send",all_confirmation:"to_address"})}})),N.default.createElement(Mt,null,N.default.createElement(Er,{onClick:()=>{Y(!0)},injectCoin:a,estimateFailed:!!Ge,networkFee:Je?void 0:O.mul(Qe,10**a?.decimals),loading:Je})),N.default.createElement(Mt,{bordered:!1},N.default.createElement(vr,{label:m("developer_mode_send_maintitle_nonce1"),value:T||x}),!!C&&N.default.createElement(ks,{copyable:!0,data:C})),N.default.createElement(Pe,{placeholder:!0,offsetBottom:0},N.default.createElement(_n,{...nn}),N.default.createElement(un,{buttonGroup:[{disabled:!!Ge,onClick:on,actionType:un.ACTION_TYPE.CONFIRM,loading:(en||Z||Je)&&!Ge}]})),Je?null:N.default.createElement(ys,{onBack:()=>{Y(!1)},visible:Q,rpcInfo:y,setGasType:q,chainGasLevels:Qt,setCustomGasOption:eo,currentGasInfo:Re,chainGasLimitLoadFailed:je}))},Oi=vm;s();i();var Te=d(g());s();i();var Xe=d(g());function Im(){let e=E(),t=f(pe),o=f(yo),n=(0,Xe.useRef)(null),r=l=>{let{value:c}=l.target,p=null;c?c&&!_t(c,{allowNonPrefixed:!1})&&(p={key:"wallet_manage_crypto_errortip_invalid_address_tips"}):p={key:"wallet_transfer_errortip_receive_address_empty"},e(Qn(c)),e(er(p))};(0,Xe.useLayoutEffect)(()=>{n.current.focus()},[]);let a=m("wallet_extension_transaction_placeholder_input_address");return Xe.default.createElement(we.Row,null,Xe.default.createElement(D.TextArea,{onRef:l=>{n.current=l},value:t,label:m("wallet_extension_transaction_input_label_to"),placeholder:a,size:D.SIZE.xl,autoResize:!0,errorType:D.TIP_TYPE.always,error:o&&m(o.key,o.args),onChange:r}))}var Fi=Im;s();i();var ge=d(g());s();i();var Zo={"max-button":"_max-button_zd8rw_1",maxButton:"_max-button_zd8rw_1",balance:"_balance_zd8rw_14","balance-wrap":"_balance-wrap_zd8rw_18",balanceWrap:"_balance-wrap_zd8rw_18"};function Em(e){let t=E(),o=f(K),n=A(),r=A(o),a=n?.balance,l=Ot(e),c=!o,{run:p,cancel:_}=Gn(T=>{let x=null,C=Ue(a,l);io(C,"0")?x={key:"wallet_transfer_errortip_mainchain_coin_insufficient",args:{chainSymbol:n?.symbol}}:We(T,c?C:r?.balance)&&(x={key:"wallet_transfer_errortip_insufficient_balance"}),t(tr(x))},{wait:100});return lo(_),p}function Pm({currentGasInfo:e}){let t=E(),o=A(),n=f(K),r=f(dt),a=f(ko),l=A(n),c=l?.balanceInt,p=Tt(l?.balance,{symbol:l?.symbol,decimals:l?.decimals}),_=Em(e),T=Ot(e),x=(0,ge.useRef)(!!r),C=h=>{x.current=!0,t(vo(h))},y=()=>{let h=l?.decimals,S=so(c,10**h);if(n)C(S);else{let Q=Ue(S,T);C(st(Q,"0")?"0":Q)}t(ln(!0))};return(0,ge.useEffect)(()=>{x.current&&_(r)},[r,T,o?.balance]),ge.default.createElement(we.Row,null,ge.default.createElement(D.Number,{placeholder:O.showFloorTruncation(0,6,{needZero:!0}),title:m("wallet_extension_send_subtitle_amount"),size:D.SIZE.xl,enableMinus:!1,precision:l?.decimals,value:r,error:a&&m(a.key,a.args),errorType:D.TIP_TYPE.always,onChange:h=>{C(h),t(ln(!1))},action:ge.default.createElement(ut.Text,{size:ut.SIZE.xs,type:ut.TYPE.secondary,className:Zo["balance-wrap"],onClick:y},`${m("wallet_extension_send_text_balance")}:`,ge.default.createElement(ut.Text,{inherit:!0,ellipsis:{tooltip:!0},className:Zo.balance},p)),suffix:ge.default.createElement(ut.Text,{className:Zo["max-button"],onClick:y},m("wallet_extension_send_text_max"))}))}var Bi=Pm;s();i();var qo=d(g());var Ri=d(z());function wm(){let e=f(pe),t=f(yo),o=f(ko);return!e||!!t||!!o}function Sm({loading:e}){let t=f(pe),o=ne(),n=(0,Ri.useHistory)(),r=f(K),a=wm(),l=jr(),[c,p]=(0,qo.useState)(!1),_=c||e,T=P(),x=async()=>{try{p(!0),await l({from:o,to:t,method:Jr,isRpcChain:!0,chainIndex:W(T?.chainId)});let C=fo;r&&(C+=`?address=${r}`),n.push(C)}finally{p(!1)}};return qo.default.createElement(L,{category:L.CATEGORY.fill,type:L.TYPE.highlight,size:L.SIZE.lg,loading:_,block:!0,disabled:a,onClick:x},m("wallet_extension_send_btn_next"))}var Gi=Sm;s();i();var Hi=d(g());var Ui=d(z());var Am=()=>{let e=(0,Ui.useHistory)(),t=E(),n=re().get("showClose"),r=f(bo),a=f(K),l=A(a),c=()=>{setTimeout(()=>{t(Io())},200)},p=()=>{c(),e.goBack()},_=n?()=>{c(),e.push(r||te)}:null;return Hi.default.createElement(H,{title:l?.symbol,icon:{text:l?.symbol},onBack:p,onClose:_})},Wi=Am;s();i();var Me=d(g());var zi=d(pa());nt();s();i();function Nm(){let e=E(),t=f(K),o=A(t),n=f(pe),r=f(dt);(0,Me.useEffect)(()=>{if(t&&_t(n)&&o?.decimals){let a=!r||In(Number(r));e(mn(Wn(n,a?"0":(0,zi.addHexPrefix)(Un(U(r,10**o?.decimals))))))}},[t,o?.decimals,n,r])}function Dm(){let e=E(),o=!f(K),n=f(Jn);return Nm(),o?Me.default.createElement(we.Row,null,Me.default.createElement(D,{title:Me.default.createElement("div",{className:"rpc-evm-send-edit-input-data__title"},m("developer_mode_send_maintitle_gasprice"),Me.default.createElement(xe,{title:m("developer_mode_send_tooltip_additional_data"),placement:xe.DIRECTION.topRight},Me.default.createElement(B,{className:"okx-wallet-plugin-information-circle rpc-evm-send-edit-input-data__info-icon"}))),placeholder:m("developer_mode_select_a_token_input_optional"),errorType:D.TIP_TYPE.always,size:D.SIZE.xl,value:n,onChange:r=>{e(mn(r.target.value))}})):null}var Vi=Dm;s();i();var kt=d(g());var $i=d(ae());nt();s();i();function Lm(){let e=E(),t=f(St),o=f(At),n=c=>{e(or(c))},r;t&&(We(t,o)?r=m("developer_mode_send_tooltip_higher",{num:o}):io(t,o)&&(r=m("developer_mode_send_tooltip_lower",{num:o})));let a=m("developer_mode_send_maintitle_nonce1"),l=`${ot(o)?"":O.thousandFormat(o)}`;return kt.default.createElement(we.Row,{className:"rpc-evm-send-edit-nonce",noMargin:!0},kt.default.createElement("div",{className:"rpc-evm-send-edit-nonce__inner"},kt.default.createElement(D.Number,{innerClassName:(0,$i.default)({"rpc-evm-send-edit-nonce__warning-input":!!r}),withOperation:!0,alwaysOperation:!0,enableMinus:!1,precision:0,title:a,placeholder:l,size:D.SIZE.xl,value:t,onAdd:()=>!t&&o!==null?(n(o+1),!1):!0,onSub:()=>!t&&We(o,0)?(n(o-1),!1):!0,onChange:n})),r&&kt.default.createElement("div",{className:"rpc-evm-send-edit-nonce__warning-text"},kt.default.createElement(B,{className:"okx-wallet-plugin-warning-circle rpc-evm-send-edit-nonce__warning-icon"}),r))}var Yi=Lm;s();i();var Zi={"rpc-evm-send-edit__inner":"_rpc-evm-send-edit__inner_3qvkv_1",rpcEvmSendEditInner:"_rpc-evm-send-edit__inner_3qvkv_1"};function Mm(){let e=E(),t=re(),{chainGasLimitLoading:o,currentGasInfo:n}=Oo(),{loadingNonce:r}=xs();return Ie(()=>{e(jn(t.get("address")))}),Te.default.createElement($e.Container,null,Te.default.createElement(Wi,null),Te.default.createElement($e.Box,{className:Zi["rpc-evm-send-edit__inner"]},Te.default.createElement(Fi,null),Te.default.createElement(Bi,{currentGasInfo:n}),Te.default.createElement(Vi,null),Te.default.createElement(Yi,null)),Te.default.createElement(Pe.FooterActions,{usePortal:!0},Te.default.createElement(Gi,{loading:o||r})))}var qi=Mm;s();i();var Ce=d(g());s();i();s();i();var Ko=d(g());var Om=({children:e})=>Ko.default.createElement("div",{className:"token-detail-container"},e),Ki=(0,Ko.memo)(Om);s();i();var Xt=d(g()),Ji=d(ae());s();i();var J=d(g()),Xi=d(ae());nt();var Fm=({className:e,title:t,text:o,copyText:n,copyNotificationTitle:r,copyNotificationDesc:a})=>{let l=(0,Xi.default)("token-detail-row",e),[c,p]=ns(),_=()=>{!c&&typeof n=="string"&&(p(n),Ee.success({title:r,desc:J.default.createElement("div",{className:"token-detail-row__copy-desc"},a)}))};return J.default.createElement("div",{className:l},J.default.createElement("div",{className:"token-detail-row__title"},t),J.default.createElement("div",{className:"token-detail-row__content"},!ot(o)&&o!==""?J.default.createElement(J.default.Fragment,null,J.default.createElement("div",{className:"token-detail-row__text"},o),n&&J.default.createElement("div",{className:"token-detail-row__copy",onClick:_},J.default.createElement(B,{className:"okx-wallet-plugin-copy"}))):J.default.createElement("div",{className:"token-detail-row__title"},Et("wallet_extension_token_detail_label_unavailable_info"))))},Xo=(0,J.memo)(Fm);var Bm=({details:e})=>Xt.default.createElement("div",{className:"token-detail-details"},e.map((t,o)=>{let n=o===0?"":"token-detail-details__split",r=(0,Ji.default)(t?.className,n);return Xt.default.createElement(Xo,{...t,className:r})})),ji=(0,Xt.memo)(Bm);s();i();var Oe=d(g());var Rm=({image:e,symbol:t,name:o})=>Oe.default.createElement("div",{className:"token-detail-intro"},Oe.default.createElement("div",{className:"token-detail-intro__image"},e),Oe.default.createElement("div",{className:"token-detail-intro__desc"},Oe.default.createElement("div",{className:"token-detail-intro__symbol"},t),Oe.default.createElement("div",{className:"token-detail-intro__name"},o))),Qi=(0,Oe.memo)(Rm);var Jo={Container:Ki,Intro:Qi,Row:Xo,Details:ji};s();i();var yn=d(g());s();i();var ea={empty:"_empty_1vthf_1"};function kn(){return yn.default.createElement("div",{className:ea.empty},yn.default.createElement(Dt.State,{type:Dt.State.TYPE.noResult,title:Et("wallet_extension_emptystate_title_no_full_tokeninfo"),description:Et("wallet_extension_emptystate_desc_no_full_tokeninfo")}))}s();i();function Gm(){let t=re().get("address"),o=A(t,!0),n=P(),r=[{title:m("developer_mode_infor_subtitle_contractadd"),text:G(t),copyText:t,copyNotificationTitle:m("developer_mode_infor_toast_success"),copyNotificationDesc:t},{title:m("developer_mode_infor_subtitle_tokendecimal"),text:o.decimals},{title:m("developer_mode_infor_subtitle_network"),text:n.name}],a=()=>!o?.name&&!o?.decimals&&!t?Ce.default.createElement(kn,null):Ce.default.createElement(Ce.default.Fragment,null,Ce.default.createElement(Jo.Intro,{image:Ce.default.createElement(ft,{size:ft.SIZE.lg,type:ft.TYPE.text,text:o.symbol}),symbol:o.symbol,name:o.name}),Ce.default.createElement(Jo.Details,{details:r}));return Ce.default.createElement("div",{className:"rpc-evm-token-detail"},Ce.default.createElement(H,{closeable:!1,bordered:!1}),Ce.default.createElement(Jo.Container,null,a()))}var ta=Gm;s();i();var Be=d(g());s();i();var Jt=d(g());var oa=d(ae());s();i();var jo={"retina-border-basic":"_retina-border-basic_2pibg_1",retinaBorderBasic:"_retina-border-basic_2pibg_1",root:"_root_2pibg_29",resetNonceIcon:"_resetNonceIcon_2pibg_99",disabledResetNonceIcon:"_disabledResetNonceIcon_2pibg_103"};function Hm(){let e=E(),t=f(oe),o=Ae(),n=()=>{o.length!==0&&Eo.warn({alignBottom:!1,title:m("extension_wallet_advanced_title_clear_confirm"),text:m("extension_wallet_advanced_subtitle_clear_confirm"),cancelText:m("wallet_extension_btn_general_cancel"),confirmText:m("wallet_extension_btn_general_confirm"),onConfirm:async()=>{await Ln().rpcEvmClearPendingTransaction(),cr.success({title:m("extension_wallet_advanced_notification_cleared")})}})};return Jt.default.createElement("div",{className:jo.root},Jt.default.createElement(v.DateRangeSelection,{defaultDates:ir().dates,dates:t.dates,onChange:(r,a)=>{a.length===2&&e(Nt({dates:sr(a).dates}))}}),Jt.default.createElement(xe,{title:m("wallet_extension_settings_tooltips_reset_nonce"),placement:xe.DIRECTION.bottomRight},Jt.default.createElement(B,{className:(0,oa.default)("okx-wallet-plugin-brush-20",jo.resetNonceIcon,{[jo.disabledResetNonceIcon]:o.length===0}),onClick:n})))}var na=Hm;s();i();var ra=d(g());function Um(){let e=E(),t=f(oe),o=Ae(),n=[{text:m("wallet_extension_history_option_pending",{num:o.length}),value:pt.PENDING},{text:m("wallet_extension_history_tab_completed"),value:pt.COMPLETE}];return Ie(()=>{o.length===0&&e(Nt({status:pt.COMPLETE}))}),ra.default.createElement(v.FilterTabs,{tabs:n,value:t.status,onSelect:r=>{e(Nt({status:r}))}})}var sa=Um;s();i();var Fe=d(g());s();i();var bt=d(g());function Wm({onClick:e}){let{dates:t}=f(oe),o=as({dates:t}),n=(0,bt.useMemo)(()=>o.map(r=>({...r,sortTime:r.finishTime,Comp:Rt})),[o]);return n.length===0?bt.default.createElement(v.Empty,{top:72}):bt.default.createElement(v.ListContainer,null,bt.default.createElement(Gt,{txs:n,onClick:e}))}var ia=Wm;s();i();var Qo=d(g());function zm({onClick:e}){let{dates:t}=f(oe),o=Ae({dates:t});return o.length===0?Qo.default.createElement(v.Empty,{top:72}):Qo.default.createElement(v.ListContainer,{style:{paddingTop:"8px"}},Qo.default.createElement(Vt,{txs:o,onClick:e}))}var aa=zm;function Vm(){let e=f(oe),[t,o]=(0,Fe.useState)(null),n=r=>{o(r.id)};return Fe.default.createElement(Fe.default.Fragment,null,e.status===pt.PENDING?Fe.default.createElement(aa,{onClick:n}):Fe.default.createElement(ia,{onClick:n}),t&&Fe.default.createElement($t,{txId:t,onBack:()=>{o(null)}}))}var ma=Vm;s();i();function $m(){let e=E();return lo(()=>{e(ar())}),Be.default.createElement(v.PageContainer,{className:"rpc-evm-tx-history"},Be.default.createElement(Pe,{className:"rpc-evm-tx-history__top",offsetTop:0},Be.default.createElement(H,{sticky:!1,title:m("wallet_extension_header_text_history")}),Be.default.createElement(sa,null),Be.default.createElement(na,null)),Be.default.createElement("div",{className:"rpc-evm-tx-history__bottom"},Be.default.createElement(ma,null)))}var la=$m;var Ym=()=>$.default.createElement($.default.Fragment,null,$.default.createElement(j.Switch,null,$.default.createElement(j.Route,{path:uo,component:Ti,exact:!0}),$.default.createElement(j.Route,{path:mt,component:Si,exact:!0}),$.default.createElement(j.Route,{path:de,component:qi,exact:!0}),$.default.createElement(j.Route,{path:fo,component:Oi,exact:!0}),$.default.createElement(j.Route,{path:_o,component:Li,exact:!0}),$.default.createElement(j.Route,{path:go,component:Ei,exact:!0}),$.default.createElement(j.Route,{path:To,component:js,exact:!0}),$.default.createElement(j.Route,{path:Co,component:la,exact:!0}),$.default.createElement(j.Route,{path:lt,component:Ks,exact:!0}),$.default.createElement(j.Route,{path:xo,component:ta,exact:!0})),$.default.createElement(oi,null)),ca=Ym;var Zm=()=>{let e=(0,vt.useHistory)(),{isRpcMode:t}=f(po);return(0,jt.useEffect)(()=>{t||e.replace(te)},[t]),qr(),jt.default.createElement(vt.Switch,null,jt.default.createElement(vt.Route,{path:$n,component:ca}))},lb=Zm;export{lb as default};
//# sourceMappingURL=rpc-mode-RXOLOQLZ.js.map
