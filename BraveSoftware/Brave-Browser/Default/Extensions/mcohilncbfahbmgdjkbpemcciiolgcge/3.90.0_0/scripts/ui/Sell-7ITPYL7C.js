import{a as W,b as X,c as $,d as j,e as J,f as K,g as Z,h as R,i as ee,j as oe,k as te,l as ne,m as re,n as ie,o as se,p as A,q as me,r as ae,s as le,t as ue}from"./chunk-ZTYOI7YR.js";import"./chunk-CAWXATKV.js";import"./chunk-QH3W6YX3.js";import"./chunk-GF5ARTFE.js";import"./chunk-GIKT3XNH.js";import{a as Y}from"./chunk-JFZYV7O3.js";import"./chunk-DQD6P25P.js";import"./chunk-WTH5WZEF.js";import"./chunk-LB5XQY7F.js";import"./chunk-TRICLBVU.js";import{b as _}from"./chunk-FS336U6P.js";import"./chunk-QCFNCXVK.js";import"./chunk-HRY333JY.js";import{f as G}from"./chunk-YG6DAN6E.js";import"./chunk-XAUZ4FZE.js";import"./chunk-RRKGBNVH.js";import"./chunk-JHB77Y3J.js";import"./chunk-RZGUDMHY.js";import"./chunk-5JVWMQI2.js";import"./chunk-BMAGLTJ7.js";import"./chunk-OILTVSLX.js";import"./chunk-KLS3SJXA.js";import"./chunk-RQ4NNINW.js";import"./chunk-5DQKP6TK.js";import"./chunk-KOQXCGQ5.js";import"./chunk-P7NYIGUS.js";import"./chunk-H5RNSDSN.js";import"./chunk-OWPVBYY3.js";import"./chunk-E6SXR3B6.js";import"./chunk-V2CZ7DY4.js";import"./chunk-3PLVXUNW.js";import"./chunk-HIUQCAJS.js";import"./chunk-S6FHNOIH.js";import"./chunk-RKCZ2ONP.js";import"./chunk-RER2JAFZ.js";import"./chunk-CJAFGYQK.js";import"./chunk-IGYVCHMC.js";import"./chunk-PPNQSDGF.js";import"./chunk-PYCB247J.js";import"./chunk-2LQJ3JX6.js";import"./chunk-KF7FMIRD.js";import"./chunk-UY2DPNBT.js";import"./chunk-SZZZVLQW.js";import"./chunk-V5J3A5L5.js";import"./chunk-CERSDYPT.js";import"./chunk-RZETZIQO.js";import{A as H,pa as h,va as P}from"./chunk-P5GHREX3.js";import"./chunk-HUG2KBCE.js";import{a as F}from"./chunk-6XMXPOUW.js";import"./chunk-3WKBEXBH.js";import"./chunk-RK4OLGCC.js";import"./chunk-NNPT43SF.js";import"./chunk-VL2JCPJS.js";import"./chunk-CTJAEFLV.js";import{a as v,o as z}from"./chunk-AP4E6GDF.js";import{Dc as D,Ke as V,S as U,m as q}from"./chunk-RPH2MNBW.js";import"./chunk-SKUQ6ZA4.js";import"./chunk-P3FTJE4X.js";import"./chunk-W6ZDZJCJ.js";import"./chunk-PGGBOJAH.js";import"./chunk-JDCCMYBK.js";import"./chunk-554VFFSY.js";import"./chunk-4ADHM5NM.js";import"./chunk-JBOOQ7HO.js";import"./chunk-RKPJE2LG.js";import"./chunk-U2IAA473.js";import"./chunk-DOSBJ3L3.js";import"./chunk-DNGRHKLV.js";import"./chunk-3O2IEAHF.js";import"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-I2AEM4CA.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{w as O}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as Le}from"./chunk-FB3ILH2L.js";import{b as C}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-TR37MFB4.js";import"./chunk-PNECIDQW.js";import"./chunk-BVDMVGLD.js";import{Aa as Se,Z as B}from"./chunk-4C5HF6J2.js";import"./chunk-BY6XCDJZ.js";import"./chunk-WQGQVXPA.js";import"./chunk-EI7BJC6V.js";import"./chunk-WZALYVUQ.js";import"./chunk-4ARIYUS3.js";import{f as x,o as u,q as d}from"./chunk-UWURTNRY.js";u();d();var t=x(C()),w=x(Le());u();d();var b=x(C());Se();var de=()=>{let{sellStore:n,quoteStore:o}=_(),{tokenPair:r,setTokenPair:f}=W("sell"),e=$(n?.fromToken,r?.from),m=K(e?.tokenContractAddress);(0,b.useEffect)(()=>{e&&e?.tokenContractAddress&&n.setFromToken(e),e&&m&&e?.tokenContractAddress===m?.tokenContractAddress&&n.setFromToken(B(e,m))},[e?.tokenContractAddress,m?.amountNum]);let l=J();(0,b.useEffect)(()=>{l&&l?.tokenContractAddress&&n.setToToken(l)},[l?.tokenContractAddress]),(0,b.useEffect)(()=>{f({from:n.fromToken,to:n.toToken})},[n?.fromToken?.tokenContractAddress]),X(),j(),(0,b.useEffect)(()=>{o.quoteData?.data&&n.setLoading(!1)},[o.quoteData?.data])};u();d();var a=x(C());var ce=()=>{let{sellStore:n,configStore:o}=_(),{currentMode:r,initLoading:f}=o,{sellValue:e,setSellValue:m,currentSellPreset:l,fromToken:c,updateCurrentPresetAmountList:g,setIsPercentMode:M,sellPresetList:y,currentSellPresetId:T,setSellPresetList:S}=n,N=le();(0,a.useEffect)(()=>{r==="sell"&&M?.(!1)},[r,M]);let E=(0,a.useCallback)(s=>{if(r!=="sell"||!z(s.value))return;let L=v.floorDiv(s.value,100,2);m({value:L,type:"select",index:s.index??0}),P.info(h.MEME_SWAP_AMOUNT_SELECT,{data:{type:"select",item:s,currentMode:r}})},[r,m]),pe=(0,a.useCallback)(s=>{m({value:s,type:"custom",index:e?.index??0}),P.info(h.MEME_SWAP_AMOUNT_INPUT,{data:{value:s,type:"custom",index:e?.index??0,currentMode:r}})},[r,e?.index,m]),_e=(0,a.useMemo)(()=>Math.min(D,Number(c?.decimals??0)),[c?.decimals]),fe=(0,a.useMemo)(()=>{if(r!=="sell")return"";if(e?.type==="select"){let s=c?.amountNum||"0";return v.mul(e.value||"0",s)}return e?.value??""},[r,c?.amountNum,e?.type,e?.value]),ke=(0,a.useMemo)(()=>f?[{label:"",key:"meme_sell_loading_1"},{label:"",key:"meme_sell_loading_2"},{label:"",key:"meme_sell_loading_3"}]:(l?.amountList||[]).map((p,k)=>{let Q=v.mul(p,100);return{label:U.percent(Q),value:Q,key:`meme_select${k+1}`,onClick:E,index:k,symbol:"%",min:0,max:100,precision:0}}),[E,l?.amountList,f]),ge=(0,a.useCallback)(s=>{let L=s.map(p=>z(p)?v.floorDiv(p,100,2):String(p));if(typeof g=="function"){g(L);return}if(Array.isArray(y)&&typeof S=="function"){let p=y.map(k=>k?.id===T?{...k,amountList:L}:k);S(p)}},[g,y,S,T]),ye=(0,a.useMemo)(()=>{if(e?.type==="select")return e?.index??0},[e?.index,e?.type]);return{inputLabel:N,inputValue:fe,precision:_e,changeHandle:pe,unit:c?.tokenSymbol,quickSelectOptions:ke,handleUpdateQuickSelectOptions:ge,selectedIndex:ye}};u();d();var i={root:"_root_z8yvd_1","tg-root":"_tg-root_z8yvd_4",tgRoot:"_tg-root_z8yvd_4",content:"_content_z8yvd_7",loading:"_loading_z8yvd_10","loading-mask":"_loading-mask_z8yvd_13",loadingMask:"_loading-mask_z8yvd_13","extension-mask":"_extension-mask_z8yvd_13",extensionMask:"_extension-mask_z8yvd_13","tg-mask":"_tg-mask_z8yvd_18",tgMask:"_tg-mask_z8yvd_18",switch:"_switch_z8yvd_23",tab:"_tab_z8yvd_26",token:"_token_z8yvd_29",balance:"_balance_z8yvd_33",input:"_input_z8yvd_36",quote:"_quote_z8yvd_39","input-box":"_input-box_z8yvd_42",inputBox:"_input-box_z8yvd_42","select-token-symbol":"_select-token-symbol_z8yvd_48",selectTokenSymbol:"_select-token-symbol_z8yvd_48",btn:"_btn_z8yvd_55","error-tips":"_error-tips_z8yvd_64",errorTips:"_error-tips_z8yvd_64",divide:"_divide_z8yvd_67"};var ve=q(()=>{let{sellStore:n,quoteStore:o,memeSwapStore:r}=_();de();let f=ue(),e=F(),m=Y(H),{inputLabel:l,inputValue:c,precision:g,changeHandle:M,unit:y,quickSelectOptions:T,handleUpdateQuickSelectOptions:S,selectedIndex:N}=ce();return t.default.createElement("div",{className:(0,w.default)(i.root,{[i.tgRoot]:e})},t.default.createElement(O,{hasMask:!0,loading:r?.isSwapLoading,loaderClassName:i.loading,zIndex:11,maskClassName:(0,w.default)(i.loadingMask,e?i.tgMask:i.extensionMask)},t.default.createElement("div",{className:i.content},t.default.createElement(ne,null,t.default.createElement(G,{className:i.switch,memeClick:()=>{m({button_name:"to_meme",tab_name:"to_meme"})}}),t.default.createElement(te,{className:i.tab,loading:o?.initLoading,mode:"sell"})),t.default.createElement(me,{className:i.token,loading:o?.initLoading,item:n?.fromToken,mode:"sell"}),t.default.createElement(oe,{className:i.balance,loading:o?.initLoading,amount:n?.fromToken?.amountNum,currency:n?.fromToken?.tokenSymbol}),t.default.createElement(ae,{className:i.input,value:c,precision:g,onChange:M,label:l,placeholder:V("swaptrade_general_placeholder_amount",{},{useBr:!1}),quickSelectOptions:T,handleUpdateQuickSelectOptions:S,selectedIndex:N,unit:y}),f&&t.default.createElement(t.default.Fragment,null,t.default.createElement(A.Quote,{className:"mb-16",initLoading:o.initLoading,rightLoading:o.computedCustomQuoteLoading,circleLoading:o.quoteLoading,tokenAmount:o?.computedToTokenAmount,price:o?.computedToTokenValue,tokenSymbol:n?.toToken?.tokenSymbol}),t.default.createElement(re,{className:"mb-16",initLoading:o.initLoading}),t.default.createElement(ee,{initLoading:o.initLoading,rightLoading:o.computedCustomQuoteLoading,className:"mb-16"}),t.default.createElement(A.ServiceFeeInfo,{className:"mb-24",initLoading:o.initLoading,rightLoading:o.computedCustomQuoteLoading,useBussinessStore:_})),t.default.createElement(R,{isSkeleton:r?.isSwapLoading}),t.default.createElement(ie,{loading:o.initLoading,useMemeSwapBtnProps:Z}))),t.default.createElement(se,null))}),Lo=ve;export{Lo as default};
//# sourceMappingURL=Sell-7ITPYL7C.js.map
