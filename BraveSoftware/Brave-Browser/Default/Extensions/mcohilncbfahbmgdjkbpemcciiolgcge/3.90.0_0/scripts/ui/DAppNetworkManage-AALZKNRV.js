import{a as so,b as ao}from"./chunk-2GCSMZTD.js";import"./chunk-XXDCZJTY.js";import{a as ve}from"./chunk-CBR5YNPQ.js";import{a as io}from"./chunk-LLOOJQVQ.js";import"./chunk-UOZ5BXPF.js";import{a as Pe}from"./chunk-A4R53AVX.js";import"./chunk-P355XBV4.js";import"./chunk-D6LKASPV.js";import{a as Ce}from"./chunk-QR6SNDPA.js";import"./chunk-DB7NVRTE.js";import{h as R,k as Ie}from"./chunk-XHRUTTJG.js";import{d as ro}from"./chunk-AVG63QW4.js";import{d as no}from"./chunk-YLT6ZRGE.js";import"./chunk-OB65JCC3.js";import{d as Ze,g as je}from"./chunk-GHRGCPR7.js";import"./chunk-4NXISG4T.js";import{a as eo,b as oo,h as L}from"./chunk-MLF4IONJ.js";import"./chunk-QMHGGMPE.js";import{c as X}from"./chunk-GVYIP5Q5.js";import{m as ye}from"./chunk-CKHT4PIF.js";import"./chunk-JMNZU6WB.js";import"./chunk-WXD7TULU.js";import"./chunk-JQHLKZPQ.js";import"./chunk-ZZBUS7GI.js";import{c as A}from"./chunk-PMG6IXOR.js";import"./chunk-BD5XO4WL.js";import"./chunk-7U7FORYL.js";import{n as $e}from"./chunk-MT3ANHCR.js";import"./chunk-2IJ4E4D3.js";import"./chunk-XJ2EVWVX.js";import"./chunk-DD6IGY5O.js";import"./chunk-JMM35KIH.js";import"./chunk-5E7YC7OF.js";import"./chunk-LYGOKEAJ.js";import"./chunk-NS5EW6UN.js";import"./chunk-VUBIYSGX.js";import"./chunk-PNOOVDMP.js";import"./chunk-FHFRBSOO.js";import"./chunk-DU4RS7AX.js";import"./chunk-5C7AUJM4.js";import"./chunk-FLXVXXZH.js";import{a as Qe}from"./chunk-XBUPORYF.js";import{b as Re}from"./chunk-YVLQLIW6.js";import"./chunk-HBXZ3GPM.js";import"./chunk-6C7RJCTT.js";import{h as Xe,o as e}from"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-SI5WJURV.js";import"./chunk-MT4YWUUK.js";import{d as to}from"./chunk-IPVHRCDK.js";import"./chunk-JW2AVC2H.js";import"./chunk-AKOAGCJX.js";import"./chunk-ARDRUD4P.js";import{h as J,j as Q}from"./chunk-WYX7GFOD.js";import"./chunk-G6PA2JD3.js";import"./chunk-N2N44VBE.js";import"./chunk-ZDJRNLYZ.js";import"./chunk-RV5WZKGQ.js";import{g as K}from"./chunk-MJSLAJV6.js";import"./chunk-KC2XLVFC.js";import{B as xe,qa as Te,ra as _}from"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import{h as Ve}from"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import{c as z}from"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-F3ILJHGP.js";import"./chunk-6M37VPK2.js";import"./chunk-WOJGOC63.js";import"./chunk-3F7OC7N7.js";import"./chunk-HZOYPVSA.js";import"./chunk-Z4GX4TH2.js";import{a as Ye,b as Se,g as k,h as ke,i as Ue}from"./chunk-OKGWI7CU.js";import"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-I6UBKGB5.js";import"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import"./chunk-WN3TRBGI.js";import{c as i}from"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import{$ as S,B as Ee,E as O,F as j,Fb as ze,G as Y,H as U,Ib as se,J as Be,K as Oe,M as Fe,Mb as Ge,N as Me,Y as He,Z as re,da as ne,ha as ie,hb as We,ua as v}from"./chunk-EQ34WRCJ.js";import{p as a}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import"./chunk-DOSBJ3L3.js";import"./chunk-DNGRHKLV.js";import"./chunk-3O2IEAHF.js";import{A as he,E as Je,J as me,o as Ke}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import{a as D}from"./chunk-IQUFNLVG.js";import{C as ae,t as qe}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import"./chunk-FB3ILH2L.js";import{b as I}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-NEASQB35.js";import"./chunk-4C5HF6J2.js";import"./chunk-U6W3TK77.js";import"./chunk-WJI4CIAQ.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-F5YUOHHL.js";import"./chunk-EL77VG5Z.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as y,o,q as t}from"./chunk-UWURTNRY.js";o();t();var E=y(I());o();t();var mo=y(I());var we=({origin:r})=>{let n=_(({metamask:l})=>l.silence||{});return{removeSilencePermission:(0,mo.useCallback)(async()=>{await z().removeSilencePermission(r)},[r]),silencePermissions:n[r]||[]}};o();t();o();t();var Le=y(I());o();t();var w=y(I());o();t();var ee=y(I());o();t();var ce={main:"_main_o5n77_1",icon:"_icon_o5n77_6",logo:"_logo_o5n77_11",content:"_content_o5n77_15",network:"_network_o5n77_22"};function Ne({icon:r,customIcon:n,name:s,content:l=null,disconnect:p,showDisconnect:c=!0,className:x=""}){return ee.default.createElement("div",{className:`${ce.main} ${x}`},n||ee.default.createElement(A,{src:r,text:s,size:A.SIZE.lg,className:ce.logo}),ee.default.createElement("div",{className:ce.content},ee.default.createElement(e.Text,{strong:700,ellipsis:!0},s),l),c&&ee.default.createElement(A.IconButton,{icon:"okx-wallet-plugin-unlink",className:ce.icon,onClick:p}))}o();t();var pe=y(I());o();t();var le={wrapper:"_wrapper_snb9e_1",silence:"_silence_snb9e_4",text:"_text_snb9e_10",cancel:"_cancel_snb9e_13"};var co=({origin:r})=>{let{removeSilencePermission:n,silencePermissions:s}=we({origin:r});if(s.findIndex(c=>c.expireTime>Date.now())===-1)return null;let p=async()=>{await n()};return pe.default.createElement(i.Box,{className:le.wrapper},pe.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:le.silence},pe.default.createElement(e.Text,{className:le.text,type:e.TYPE.secondary,size:e.SIZE.xs},a("wallet_extension_connect_text_silent_mode_enabled")),pe.default.createElement(e.Text,{strong:500,className:le.cancel,size:e.SIZE.xs,onClick:p},a("wallet_extension_connect_btn_cancel"))))};o();t();var m=y(I());o();t();var F=y(I());o();t();var G=y(I());o();t();var b=y(I());o();t();var $={itemWrapper:"_itemWrapper_guwjx_1",chain:"_chain_guwjx_8",content:"_content_guwjx_11",address:"_address_guwjx_14",amount:"_amount_guwjx_17",active:"_active_guwjx_20"};var lo=({data:r,active:n,onClick:s})=>{let{addressType:l,userAddress:p,coinAmount:c,currencyAmount:x,localType:f,displayPrecision:g,stableCoin:N}=r;return b.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:`${$.itemWrapper} ${n&&$.active}`,onClick:s},b.default.createElement(i.Box,{className:$.chain},b.default.createElement(D,{alt:"token",width:32,height:32,src:r?.image||Se,errorImg:Se})),b.default.createElement(i.FlexBox,{align:i.ALIGN.center,justify:"space-between",className:$.content},b.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical},b.default.createElement(e.Text,{strong:500,className:$.address},a(ze[se?.[f]?.[l]])),b.default.createElement(e.Text,{type:e.TYPE.secondary,size:e.SIZE.xs},K(p))),b.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical,align:i.ALIGN.unset},b.default.createElement(e.DisplayAmount,{strong:!0,noStyle:!1,amount:c,mode:e.CRYPTO,ellipsis:!0,align:e.ALIGN.right,className:$.amount,displayPrecision:g,stableCoin:N}),b.default.createElement(e.DisplayAmount,{mode:e.LEGAL,size:e.SIZE.xs,type:e.TYPE.secondary,align:e.ALIGN.right,useApproximate:!1,ellipsis:!0},x))))};o();t();var de={main:"_main_dhmjq_1",title:"_title_dhmjq_4",subTitle:"_subTitle_dhmjq_9",dialogContainer:"_dialogContainer_dhmjq_13"};var po=({title:r,subTitle:n,visible:s,onClose:l,coinId:p,walletId:c})=>{let x=Te(),f=no(p),g=to(f?.localType,c),N=io(f,c),W=g?.map(h=>N.find(B=>se?.[B?.localType]?.[B?.addressType]===h.addressType)).filter(Boolean),V=ye(f?.localType,c),Z=h=>{V===h.userAddress||!f?.localType||(l(),x(Ze(c,{[f?.localType]:se[f?.localType]?.[h?.addressType]})).then(()=>{me.success({title:a("wallet_extension_toast_address_format_changed"),desc:h.userAddress,duration:1.5,placement:me.DIRECTION.top,containerClassName:"address-copy-notification"})}).catch(()=>{}))};return G.default.createElement(Ke.Action,{visible:s,onClose:l,maskClosable:!0,noTopRadius:!1,windowStyle:{overflow:"hidden"},containerClassName:de.dialogContainer,noContentPadding:!1},G.default.createElement(i.Box,{className:de.main},G.default.createElement(G.default.Fragment,null,G.default.createElement(e.Text,{strong:700,className:de.title},r),G.default.createElement(e.Text,{className:de.subTitle,size:e.SIZE.sm,type:e.TYPE.secondary},n)),W?.map((h,B)=>G.default.createElement(lo,{key:h?.addressType||B,data:h,active:V===h?.userAddress,onClick:()=>Z(h)}))))};o();t();var oe={lineItem:"_lineItem_764ku_1",chainIcon:"_chainIcon_764ku_4",networkTitle:"_networkTitle_764ku_7",detail:"_detail_764ku_10",arrow:"_arrow_764ku_13"};var So={[S]:a("wallet_extension_sonic_header_btc_address"),[v]:a("wallet_extension_dapp_address_ton")},M=({localType:r=S})=>{let n=X({localType:r}),{coinId:s}=n||{},l=ye(r),p=J(),[c,x]=F.default.useState(!1);return F.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:oe.lineItem},F.default.createElement(e.Text,{size:e.SIZE.xs,type:e.TYPE.secondary,className:oe.networkTitle},So[r]),F.default.createElement(D,{width:16,height:16,alt:"chain",src:n?.imageUrl||k,errorImg:k,pictureClassName:oe.chainIcon}),F.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:oe.detail,onClick:()=>{x(!0)}},F.default.createElement(e.Text,{size:e.SIZE.xs},K(l)),F.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${oe.arrow}`,size:A.SIZE.xxs})),F.default.createElement(po,{visible:c,onClose:()=>x(!1),coinId:s,walletId:p,title:a("extension_defi_top_header_title_select_address_type"),subTitle:a("extension_defi_popup_desc_new_address_default_icu",{chainName:n?.name})}))};o();t();var C=y(I());o();t();var q={wrapper:"_wrapper_uubzp_1",switchNetwork:"_switchNetwork_uubzp_4",title:"_title_uubzp_7",arrow:"_arrow_uubzp_10",chainIcon:"_chainIcon_uubzp_14",tip:"_tip_uubzp_17"};var u=({providerType:r,isAllchain:n=!1})=>{let s=ao({providerType:r}),{title:l,icon:p,chainName:c}=s,[x,f]=(0,C.useState)(!1),g=_(L);return C.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:q.wrapper},C.default.createElement(e.Text,{type:e.TYPE.secondary,size:e.SIZE.xs,className:q.title},l),n?C.default.createElement(e.Text,{type:e.SIZE.xs},a("wallet_extension_sonic_desc_all_networks")):C.default.createElement(C.default.Fragment,null,C.default.createElement(D,{width:16,height:16,alt:"chain",src:p||k,errorImg:k,pictureClassName:q.chainIcon}),C.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:q.switchNetwork,onClick:()=>f(!0)},C.default.createElement(e.Text,{size:e.SIZE.xs},c),C.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${q.arrow}`,size:A.SIZE.xxs}))),C.default.createElement(Pe,{visible:x,providerType:r,onClose:()=>f(!1),origin:g?.origin,onBeforeNetworkChange:()=>z().recordChainIdHandler({method:Ee})},C.default.createElement(Pe.Header,{title:a("wallet_extension_title_switch_network"),subTitle:r===O?a("wallet_extension_evm_desc"):a("wallet_extension_aptos_toast_manually_switch_network",{network:c})})))},ko=({chainName:r})=>C.default.createElement(e.Text,{type:e.TYPE.secondary,size:e.SIZE.xs,className:q.tip},a("wallet_extension_sonic_toast_manually_switch_network",{network:r}));u.Tip=ko;o();t();var te=y(I());o();t();var _e={lineItem:"_lineItem_1bqk8_1",chainIcon:"_chainIcon_1bqk8_4"};var ue=({showImage:r=!0,info:n})=>te.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:_e.lineItem},te.default.createElement(e.Text,{type:e.TYPE.secondary,size:e.SIZE.xs,className:_e.title},a("wallet_extension_card_dropdown_available_network",{network:""})),r&&te.default.createElement(D,{width:16,height:16,alt:"chain",src:n.image||k,errorImg:k,pictureClassName:_e.chainIcon}),te.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:_e.switchNetwork},te.default.createElement(e.Text,{size:e.SIZE.xs},n.chainName||"")));o();t();var _o={headerTip:"_headerTip_tbl1j_1"};var uo=({isAllchain:r,isCurrentDappConnect:n})=>{let s=Q(),l=J(),p=_(L),x=_(W=>Ie(W,p?.origin,l))?.providerType||"",f=Ue[x],g=X({localType:f}),N=()=>m.default.createElement(e.Text,{type:e.TYPE.secondary,size:e.SIZE.xs,className:_o.headerTip},a("wallet_extension_dapp_subtitle_switch_btc_ton"));if(!n)return m.default.createElement(m.default.Fragment,null,N(),s?.account[re]&&m.default.createElement(u,{providerType:O}),s?.account[ne]&&m.default.createElement(m.default.Fragment,null,m.default.createElement(u,{providerType:j}),m.default.createElement(u,{providerType:Y})),s?.account[ie]&&m.default.createElement(u,{providerType:U}),s?.account[S]&&m.default.createElement(M,{localType:S}),s?.account[v]&&m.default.createElement(M,{localType:v}));if(r)return m.default.createElement(m.default.Fragment,null,N(),s?.account[re]&&m.default.createElement(u,{providerType:O,isAllchain:r}),s?.account[ne]&&m.default.createElement(m.default.Fragment,null,m.default.createElement(u,{providerType:j}),m.default.createElement(u,{providerType:Y})),s?.account[ie]&&m.default.createElement(u,{providerType:U}),s?.account[S]&&m.default.createElement(M,{localType:S}),s?.account[v]&&m.default.createElement(M,{localType:v}));switch(x){case O:case ke["okx6963-provider"]:case ke["ethereum-provider"]:return m.default.createElement(u,{providerType:O});case j:case Oe:return m.default.createElement(m.default.Fragment,null,m.default.createElement(u.Tip,{chainName:g?.chainName}),m.default.createElement(u,{providerType:j}));case Y:return m.default.createElement(m.default.Fragment,null,m.default.createElement(u.Tip,{chainName:a("wallet_extension_approval_subtitle_placeholder_svm")}),m.default.createElement(u,{providerType:Y}));case U:case Fe:return m.default.createElement(m.default.Fragment,null,m.default.createElement(u.Tip,{chainName:g?.chainName}),m.default.createElement(u,{providerType:U}));case Me:return m.default.createElement(M,{localType:g?.localType});case He:return m.default.createElement(M,{localType:v});case Be:return m.default.createElement(ue,{info:{chainName:a("wallet_extension_cosmos_text_cosmos_network")},showImage:!1});default:return m.default.createElement(ue,{info:{image:g?.imageUrl,chainName:g?.chainName}})}};o();t();var T=y(I());o();t();var fe=y(I());o();t();var H=y(I());o();t();function fo(){let r=We;return{address:Qe(r)||"",localType:r}}o();t();var be={wrapper:"_wrapper_1ujno_1",arrow:"_arrow_1ujno_4"};var go=({walletId:r,network:n})=>{let{address:s}=fo(),[l,p]=H.default.useState(!1),c=n?.coinId;return H.default.createElement(H.default.Fragment,null,H.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:be.wrapper,onClick:()=>{p(!0)}},H.default.createElement(e.Text,{size:e.SIZE.xs},K(s)),H.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${be.arrow}`,size:A.SIZE.xxs})),H.default.createElement(ve,{visible:l,onClose:()=>p(!1),coinId:c,walletId:r},H.default.createElement(ve.Header,{title:a("extension_defi_top_header_title_select_address_type"),subTitle:a("extension_defi_popup_desc_new_address_default")})))};o();t();var Ae={lineItem:"_lineItem_1ljn3_1",chainIcon:"_chainIcon_1ljn3_4",networkTitle:"_networkTitle_1ljn3_7"};var xo=()=>{let r=S,n=J(),s=X({localType:r});return fe.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:Ae.lineItem},fe.default.createElement(e.Text,{size:e.SIZE.xs,type:e.TYPE.secondary,className:Ae.networkTitle},a("wallet_extension_sonic_header_btc_address")),fe.default.createElement(D,{width:16,height:16,alt:"chain",src:s?.imageUrl||k,errorImg:k,pictureClassName:Ae.chainIcon}),fe.default.createElement(go,{walletId:n,network:s}))};var Po=({isCurrentDappConnect:r,isAllchain:n})=>T.default.createElement(u,{providerType:O,isAllchain:r?n:!1}),vo=()=>T.default.createElement(M,{localType:v}),bo=()=>{let r=_(Ce),n=r?.length?r[0]:{};return T.default.createElement(ue,{info:{image:n?.image,chainName:n?.chainName}})},Do=()=>{let r=_(Ce),n=r?.length?r[0]:{};return T.default.createElement(T.default.Fragment,null,T.default.createElement(u.Tip,{chainName:n?.chainName}),T.default.createElement(u,{providerType:j}),T.default.createElement(u,{providerType:Y}))},Lo=()=>{let r=_(Ce),n=r?.length?r[0]:{};return T.default.createElement(T.default.Fragment,null,T.default.createElement(u.Tip,{chainName:n?.chainName}),T.default.createElement(u,{providerType:U}))},To=({isAllchain:r,isCurrentDappConnect:n})=>{let s=Q(),l=p=>!!s?.account?.[p];return l(re)?T.default.createElement(Po,{isCurrentDappConnect:n,isAllchain:r}):l(S)?T.default.createElement(xo,null):l(ne)?T.default.createElement(Do,null):l(ie)?T.default.createElement(Lo,null):l(v)?T.default.createElement(vo,null):T.default.createElement(bo,null)};o();t();var ge={main:"_main_80cch_1",connectedItem:"_connectedItem_80cch_4",chainIcon:"_chainIcon_80cch_7",lineItem:"_lineItem_80cch_10",tooltip:"_tooltip_80cch_13",tipIcon:"_tipIcon_80cch_16",networkTitle:"_networkTitle_80cch_21"};var ho=({activeTab:r,removeAccount:n,domain:s})=>{let l=_(R),p=_(xe),c=Q(p),x=_(Z=>Ie(Z,r?.origin,p)),f=(0,w.useMemo)(()=>c?.keyringIdentityType===Ge.PRIVATE_KEY,[c]),g=(0,w.useMemo)(()=>Boolean((l||[]).find(Z=>Z.origin===r?.origin)),[l,r]),N=_(eo),W=(0,w.useMemo)(()=>N[r?.origin]?.isOkx,[N,r]),V=!x?.baseChain||W;return w.default.createElement(i.Box,{className:ge.main},w.default.createElement(i.FlexBox,{align:i.ALIGN.center},w.default.createElement(e.Text,{type:e.TYPE.secondary,size:e.SIZE.xs},a("wallet_extension_header_subtitle_current_dapp")),w.default.createElement(he,{title:a("wallet_extension_toast_tooltip_adjust_retry"),trigger:he.TRIGGER_TYPES.hover,placement:he.DIRECTION.bottom,className:ge.tooltip},w.default.createElement(qe,{className:`okx-wallet-plugin-question-mark_filled ${ge.tipIcon}`}))),w.default.createElement(Ne,{className:ge.connectedItem,customIcon:w.default.createElement(Je,{alt:"connected",src:r?.icon||"/static/images/default-img.svg",errorImg:Ye,className:"connect-site-page__origin-icon"}),name:s,disconnect:()=>n(r?.origin),showDisconnect:g}),f?w.default.createElement(To,{isAllchain:V,isCurrentDappConnect:g,provider:x?.providerType||""}):w.default.createElement(uo,{isAllchain:V,isCurrentDappConnect:g}),w.default.createElement(co,{origin:r?.origin}))};o();t();var P=y(I());o();t();var De=y(I());o();t();var yo={main:"_main_ntvor_1"};var Eo=({connectedDomains:r,onDisconnect:n,domainHostCount:s})=>{let l=c=>n(c.origin),p=c=>c.extensionId?a("wallet_dapp_conncetion_subtitle_external_extension"):s[c.host]>1?c.origin:$e(c.origin);return De.default.createElement("main",{className:yo.main},r.map(c=>De.default.createElement(Ne,{key:c.origin,icon:c.icon,name:p(c),disconnect:()=>l(c)})))},Io=Eo;o();t();var Co={chainIcon:"_chainIcon_rikh8_1",lineItem:"_lineItem_rikh8_4",connectedText:"_connectedText_rikh8_7"};var Bo=({loading:r,emptyText:n,onRemoveAccount:s,onRemoveAllAccount:l,children:p})=>{let c=_(L),x=_(oo),f=_(R),g=(0,P.useMemo)(()=>(f||[]).filter(N=>N.origin!==c?.origin),[f,c]);return P.default.createElement(P.default.Fragment,null,p,!!p&&!!g.length&&P.default.createElement(Xe,null),!!g.length&&P.default.createElement(i.Box,null,P.default.createElement(i.FlexBox,{align:i.ALIGN.center},P.default.createElement(e.Text,{type:e.TYPE.secondary,size:e.SIZE.xs,className:Co.connectedText},a("wallet_extension_header_subtitle_connected_dapp"))),P.default.createElement(Io,{domainHostCount:x,connectedDomains:g,onDisconnect:s})),!!f.length&&P.default.createElement(Re.FooterActions,null,P.default.createElement(ae,{block:!0,loading:r,size:ae.SIZE.lg,type:ae.TYPE.highlight,category:ae.CATEGORY.fill,onClick:l},a("wallet_extension_withdraw_btn_disconnected"))),!p&&!f.length&&!g.length&&n)},wo=Bo;var Oo=({loading:r,onRemoveAccount:n,onRemoveAllAccount:s})=>{let l=_(L),p=l?.origin&&l?.origin.replace(/^https?:\/\//iu,"");return Le.default.createElement(wo,{loading:r,onRemoveAccount:n,onRemoveAllAccount:s},Le.default.createElement(ho,{activeTab:l,removeAccount:n,domain:p}))},No=Oo;var Ao=No;o();t();var Fo=()=>{let r=_(R),n=_(xe),s=Te(),[l,p]=(0,E.useState)(!1),c=_(L),{removeSilencePermission:x,silencePermissions:f}=we({origin:c?.origin}),{setDisconnectUpgrade:g,isNeedShowDisconnectUpgrade:N}=so(),W=(0,E.useCallback)(()=>{N&&(me.success({title:a("wallet_extension_card_subtitle_disconnect_update")}),g())},[N,g]),V=async h=>{await z().clearCookie(h),await z().removePermittedAllAccount(h),W(),f.length>0&&x(h),await Ve(s)},Z=()=>{p(!0);try{Promise.all(r.map(B=>(f.length>0&&x(B.origin),z().clearCookie(B.origin)))).catch(()=>{});let h=r.map(async B=>s(je(B.origin,n)));Promise.all([...h]).then(()=>{p(!1),W()}).catch(()=>{p(!1)})}catch{p(!1)}};return E.default.createElement("div",{className:"connect-site-page__wrapper"},E.default.createElement(ro,{title:a("wallet_home_dapp_connection_btn_connect"),closeable:!1}),E.default.createElement(Ao,{loading:l,onRemoveAccount:V,onRemoveAllAccount:Z}))},ia=(0,E.memo)(Fo);export{ia as default};
//# sourceMappingURL=DAppNetworkManage-AALZKNRV.js.map
