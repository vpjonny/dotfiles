import{b as f}from"./chunk-PNOOVDMP.js";import{a as s}from"./chunk-FHFRBSOO.js";import{a as m,b as E}from"./chunk-DU4RS7AX.js";import{a as C}from"./chunk-5C7AUJM4.js";import{c}from"./chunk-EAE2NUFS.js";import{w as _}from"./chunk-DSNMNSMD.js";import{o as r,q as e}from"./chunk-UWURTNRY.js";r();e();r();e();r();e();var o={INVALID_MOON_CAT:"INVALID_MOON_CAT",GET_MOON_CAT_FAILED:"GET_MOON_CAT_FAILED",CHECK_MOON_CAT_FAILED:"CHECK_MOON_CAT_FAILED",READ_FAILED:"READ_FAILED",SET_FAILED:"SET_ERROR"};function O(){return"U2FhdGVkX1+7Kj#9jN$2QwRzL&v8RxYqT5pJtB!e"}var A=async()=>{let[a,t]=await _(E(C.moonCatData));if(a)throw new s(o.READ_FAILED,o.READ_FAILED);return t},w=async a=>{let[t,n]=await _(m(C.moonCatData,a));if(t)throw new s(o.SET_FAILED,o.SET_FAILED);return n};async function I(a){if((await A())?.data)return;let n=O(),[D,d]=await _(c().encrypt(n,a));if(D)throw new s(o.GET_MOON_CAT_FAILED,o.GET_MOON_CAT_FAILED);let i={data:d.vault,createdAt:Date.now()};await w(i)}async function g(a){let t=await A();if(!t?.data)return;let[n,D]=await _(c().decrypt(t.data,a));if(n)throw new s(o.INVALID_MOON_CAT,o.INVALID_MOON_CAT);return D}async function T(){let t={...await A(),data:void 0};await w(t)}async function M(a){let t=await g(a);if(t!==void 0){if(t!==O())throw new s(o.INVALID_MOON_CAT,o.INVALID_MOON_CAT);await T()}}var v=()=>{let{data:a,loading:t}=f(C.moonCatData),n=!!a?.data;return{loadingMoonCatData:t,isMoonCat:n,enableMoonCat:async i=>{n||await I(i)},disableMoonCat:async i=>{!n||await M(i)}}};export{v as a};
//# sourceMappingURL=chunk-JNWSF6O6.js.map
