import{a as _,c as a,d as k,e as W}from"./chunk-OB3TCQZN.js";import"./chunk-NDXB46PK.js";import"./chunk-B65TWR5I.js";import{b as T}from"./chunk-A2QCZBSN.js";import"./chunk-6HZZC7IQ.js";import"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import{a as h,u as w}from"./chunk-WN3TRBGI.js";import"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import{k as f}from"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import"./chunk-EQ34WRCJ.js";import"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import"./chunk-3O2IEAHF.js";import"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import"./chunk-FB3ILH2L.js";import"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import{Aa as R,T as n}from"./chunk-4C5HF6J2.js";import"./chunk-U6W3TK77.js";import"./chunk-PESQD55U.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-F5YUOHHL.js";import"./chunk-ZVKCRT3D.js";import"./chunk-O5NUB7LT.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as K,o as u,q as y}from"./chunk-UWURTNRY.js";u();y();var g=K(_());R();var b=g.default.HardwareWebSdk,i=class extends W{async signTransaction(r,o){if(!n(o.memo)&&!n(o.memoPos))throw Error(w);return new Promise((S,t)=>{(async()=>{let{address:s}=o,{onekeyInfo:c,keyringName:d}=r,m;try{m=await this.initOneKey({onekeyInfo:c,onUiCancel(){t(new Error(h))}})}catch(e){return t(this.handleErrors(e,a.deal,{keyringName:d}))}let E=T(s,r?.accountsMap||r?.addressType),{path:p}=E,M=o.inputs.map(e=>({...e,address:s,nonWitnessUtxo:e.rawTransaction,derivationPath:p})),{oneKeyBuildBtcTx:B}=await f(),x=B({...o,inputs:M,derivationPath:p}),{success:H,payload:l}=await b.btcSignTransaction(c?.connectId,m,x);if(k.closeModal(),H){let{serializedTx:e}=l;return S(e)}return t(this.handleErrors(l,a.deal,{keyringName:d}))})()})}},I=new i;export{I as default};
//# sourceMappingURL=btcAdapter-CAVPB4F5.js.map
