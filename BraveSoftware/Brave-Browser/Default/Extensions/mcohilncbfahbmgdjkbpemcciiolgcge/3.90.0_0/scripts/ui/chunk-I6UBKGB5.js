import{h as ne}from"./chunk-ZIR6OOXX.js";import{a as It,b as He,o as Se,s as wt}from"./chunk-WN3TRBGI.js";import{c as y}from"./chunk-3FMJDUGT.js";import{s as A}from"./chunk-DSNMNSMD.js";import{I as xt,o as _t}from"./chunk-URGJ6D4O.js";import{a as re}from"./chunk-IQUFNLVG.js";import{C as D}from"./chunk-XYWWXNVK.js";import{b as On}from"./chunk-FLSAETOH.js";import{Aa as Ln,u as vt}from"./chunk-4C5HF6J2.js";import{a as bn}from"./chunk-LWG66QL2.js";import{a as Rn}from"./chunk-UL6IEE2K.js";import{c as _,f as Xe,n as process,o as u,p,q as d}from"./chunk-UWURTNRY.js";var ue=_((Pi,Ct)=>{u();d();var Hn="2.0.0",Vn=Number.MAX_SAFE_INTEGER||9007199254740991,zn=16;Ct.exports={SEMVER_SPEC_VERSION:Hn,MAX_LENGTH:256,MAX_SAFE_INTEGER:Vn,MAX_SAFE_COMPONENT_LENGTH:zn}});var de=_((Ui,St)=>{u();d();var Wn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};St.exports=Wn});var K=_((V,yt)=>{u();d();var{MAX_SAFE_COMPONENT_LENGTH:ze}=ue(),Kn=de();V=yt.exports={};var Yn=V.re=[],m=V.src=[],g=V.t={},Zn=0,I=(r,e,t)=>{let n=Zn++;Kn(n,e),g[r]=n,m[n]=e,Yn[n]=new RegExp(e,t?"g":void 0)};I("NUMERICIDENTIFIER","0|[1-9]\\d*");I("NUMERICIDENTIFIERLOOSE","[0-9]+");I("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");I("MAINVERSION",`(${m[g.NUMERICIDENTIFIER]})\\.(${m[g.NUMERICIDENTIFIER]})\\.(${m[g.NUMERICIDENTIFIER]})`);I("MAINVERSIONLOOSE",`(${m[g.NUMERICIDENTIFIERLOOSE]})\\.(${m[g.NUMERICIDENTIFIERLOOSE]})\\.(${m[g.NUMERICIDENTIFIERLOOSE]})`);I("PRERELEASEIDENTIFIER",`(?:${m[g.NUMERICIDENTIFIER]}|${m[g.NONNUMERICIDENTIFIER]})`);I("PRERELEASEIDENTIFIERLOOSE",`(?:${m[g.NUMERICIDENTIFIERLOOSE]}|${m[g.NONNUMERICIDENTIFIER]})`);I("PRERELEASE",`(?:-(${m[g.PRERELEASEIDENTIFIER]}(?:\\.${m[g.PRERELEASEIDENTIFIER]})*))`);I("PRERELEASELOOSE",`(?:-?(${m[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${m[g.PRERELEASEIDENTIFIERLOOSE]})*))`);I("BUILDIDENTIFIER","[0-9A-Za-z-]+");I("BUILD",`(?:\\+(${m[g.BUILDIDENTIFIER]}(?:\\.${m[g.BUILDIDENTIFIER]})*))`);I("FULLPLAIN",`v?${m[g.MAINVERSION]}${m[g.PRERELEASE]}?${m[g.BUILD]}?`);I("FULL",`^${m[g.FULLPLAIN]}$`);I("LOOSEPLAIN",`[v=\\s]*${m[g.MAINVERSIONLOOSE]}${m[g.PRERELEASELOOSE]}?${m[g.BUILD]}?`);I("LOOSE",`^${m[g.LOOSEPLAIN]}$`);I("GTLT","((?:<|>)?=?)");I("XRANGEIDENTIFIERLOOSE",`${m[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);I("XRANGEIDENTIFIER",`${m[g.NUMERICIDENTIFIER]}|x|X|\\*`);I("XRANGEPLAIN",`[v=\\s]*(${m[g.XRANGEIDENTIFIER]})(?:\\.(${m[g.XRANGEIDENTIFIER]})(?:\\.(${m[g.XRANGEIDENTIFIER]})(?:${m[g.PRERELEASE]})?${m[g.BUILD]}?)?)?`);I("XRANGEPLAINLOOSE",`[v=\\s]*(${m[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[g.XRANGEIDENTIFIERLOOSE]})(?:${m[g.PRERELEASELOOSE]})?${m[g.BUILD]}?)?)?`);I("XRANGE",`^${m[g.GTLT]}\\s*${m[g.XRANGEPLAIN]}$`);I("XRANGELOOSE",`^${m[g.GTLT]}\\s*${m[g.XRANGEPLAINLOOSE]}$`);I("COERCE",`(^|[^\\d])(\\d{1,${ze}})(?:\\.(\\d{1,${ze}}))?(?:\\.(\\d{1,${ze}}))?(?:$|[^\\d])`);I("COERCERTL",m[g.COERCE],!0);I("LONETILDE","(?:~>?)");I("TILDETRIM",`(\\s*)${m[g.LONETILDE]}\\s+`,!0);V.tildeTrimReplace="$1~";I("TILDE",`^${m[g.LONETILDE]}${m[g.XRANGEPLAIN]}$`);I("TILDELOOSE",`^${m[g.LONETILDE]}${m[g.XRANGEPLAINLOOSE]}$`);I("LONECARET","(?:\\^)");I("CARETTRIM",`(\\s*)${m[g.LONECARET]}\\s+`,!0);V.caretTrimReplace="$1^";I("CARET",`^${m[g.LONECARET]}${m[g.XRANGEPLAIN]}$`);I("CARETLOOSE",`^${m[g.LONECARET]}${m[g.XRANGEPLAINLOOSE]}$`);I("COMPARATORLOOSE",`^${m[g.GTLT]}\\s*(${m[g.LOOSEPLAIN]})$|^$`);I("COMPARATOR",`^${m[g.GTLT]}\\s*(${m[g.FULLPLAIN]})$|^$`);I("COMPARATORTRIM",`(\\s*)${m[g.GTLT]}\\s*(${m[g.LOOSEPLAIN]}|${m[g.XRANGEPLAIN]})`,!0);V.comparatorTrimReplace="$1$2$3";I("HYPHENRANGE",`^\\s*(${m[g.XRANGEPLAIN]})\\s+-\\s+(${m[g.XRANGEPLAIN]})\\s*$`);I("HYPHENRANGELOOSE",`^\\s*(${m[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${m[g.XRANGEPLAINLOOSE]})\\s*$`);I("STAR","(<|>)?=?\\s*\\*");I("GTE0","^\\s*>=\\s*0.0.0\\s*$");I("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var fe=_((Xi,Tt)=>{u();d();var Jn=["includePrerelease","loose","rtl"],Qn=r=>r?typeof r!="object"?{loose:!0}:Jn.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};Tt.exports=Qn});var ye=_((zi,Dt)=>{u();d();var Nt=/^[0-9]+$/,At=(r,e)=>{let t=Nt.test(r),n=Nt.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},eo=(r,e)=>At(e,r);Dt.exports={compareIdentifiers:At,rcompareIdentifiers:eo}});var R=_((Yi,bt)=>{u();d();var Te=de(),{MAX_LENGTH:Ot,MAX_SAFE_INTEGER:Ne}=ue(),{re:Lt,t:Rt}=K(),to=fe(),{compareIdentifiers:he}=ye(),k=class{constructor(e,t){if(t=to(t),e instanceof k){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Ot)throw new TypeError(`version is longer than ${Ot} characters`);Te("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Lt[Rt.LOOSE]:Lt[Rt.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ne||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ne||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ne||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let s=+o;if(s>=0&&s<Ne)return s}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Te("SemVer.compare",this.version,this.options,e),!(e instanceof k)){if(typeof e=="string"&&e===this.version)return 0;e=new k(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof k||(e=new k(e,this.options)),he(this.major,e.major)||he(this.minor,e.minor)||he(this.patch,e.patch)}comparePre(e){if(e instanceof k||(e=new k(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],o=e.prerelease[t];if(Te("prerelease compare",t,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return he(n,o)}while(++t)}compareBuild(e){e instanceof k||(e=new k(e,this.options));let t=0;do{let n=this.build[t],o=e.build[t];if(Te("prerelease compare",t,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return he(n,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};bt.exports=k});var Y=_((Qi,Bt)=>{u();d();var{MAX_LENGTH:ro}=ue(),{re:$t,t:kt}=K(),Pt=R(),no=fe(),oo=(r,e)=>{if(e=no(e),r instanceof Pt)return r;if(typeof r!="string"||r.length>ro||!(e.loose?$t[kt.LOOSE]:$t[kt.FULL]).test(r))return null;try{return new Pt(r,e)}catch{return null}};Bt.exports=oo});var Ut=_((ra,qt)=>{u();d();var so=Y(),io=(r,e)=>{let t=so(r,e);return t?t.version:null};qt.exports=io});var Mt=_((sa,Ft)=>{u();d();var ao=Y(),co=(r,e)=>{let t=ao(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Ft.exports=co});var jt=_((ca,Gt)=>{u();d();var lo=R(),uo=(r,e,t,n)=>{typeof t=="string"&&(n=t,t=void 0);try{return new lo(r,t).inc(e,n).version}catch{return null}};Gt.exports=uo});var P=_((da,Ht)=>{u();d();var Xt=R(),fo=(r,e,t)=>new Xt(r,t).compare(new Xt(e,t));Ht.exports=fo});var Ae=_((pa,Vt)=>{u();d();var ho=P(),po=(r,e,t)=>ho(r,e,t)===0;Vt.exports=po});var Kt=_((Ea,Wt)=>{u();d();var zt=Y(),mo=Ae(),go=(r,e)=>{if(mo(r,e))return null;{let t=zt(r),n=zt(e),o=t.prerelease.length||n.prerelease.length,s=o?"pre":"",i=o?"prerelease":"";for(let a in t)if((a==="major"||a==="minor"||a==="patch")&&t[a]!==n[a])return s+a;return i}};Wt.exports=go});var Zt=_((xa,Yt)=>{u();d();var Eo=R(),vo=(r,e)=>new Eo(r,e).major;Yt.exports=vo});var Qt=_((Ca,Jt)=>{u();d();var _o=R(),xo=(r,e)=>new _o(r,e).minor;Jt.exports=xo});var tr=_((Ta,er)=>{u();d();var Io=R(),wo=(r,e)=>new Io(r,e).patch;er.exports=wo});var nr=_((Da,rr)=>{u();d();var Co=Y(),So=(r,e)=>{let t=Co(r,e);return t&&t.prerelease.length?t.prerelease:null};rr.exports=So});var sr=_((Ra,or)=>{u();d();var yo=P(),To=(r,e,t)=>yo(e,r,t);or.exports=To});var ar=_((ka,ir)=>{u();d();var No=P(),Ao=(r,e)=>No(r,e,!0);ir.exports=Ao});var De=_((qa,lr)=>{u();d();var cr=R(),Do=(r,e,t)=>{let n=new cr(r,t),o=new cr(e,t);return n.compare(o)||n.compareBuild(o)};lr.exports=Do});var dr=_((Ma,ur)=>{u();d();var Oo=De(),Lo=(r,e)=>r.sort((t,n)=>Oo(t,n,e));ur.exports=Lo});var hr=_((Xa,fr)=>{u();d();var Ro=De(),bo=(r,e)=>r.sort((t,n)=>Ro(n,t,e));fr.exports=bo});var pe=_((za,pr)=>{u();d();var $o=P(),ko=(r,e,t)=>$o(r,e,t)>0;pr.exports=ko});var Oe=_((Ya,mr)=>{u();d();var Po=P(),Bo=(r,e,t)=>Po(r,e,t)<0;mr.exports=Bo});var We=_((Qa,gr)=>{u();d();var qo=P(),Uo=(r,e,t)=>qo(r,e,t)!==0;gr.exports=Uo});var Le=_((rc,Er)=>{u();d();var Fo=P(),Mo=(r,e,t)=>Fo(r,e,t)>=0;Er.exports=Mo});var Re=_((sc,vr)=>{u();d();var Go=P(),jo=(r,e,t)=>Go(r,e,t)<=0;vr.exports=jo});var Ke=_((cc,_r)=>{u();d();var Xo=Ae(),Ho=We(),Vo=pe(),zo=Le(),Wo=Oe(),Ko=Re(),Yo=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Xo(r,t,n);case"!=":return Ho(r,t,n);case">":return Vo(r,t,n);case">=":return zo(r,t,n);case"<":return Wo(r,t,n);case"<=":return Ko(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};_r.exports=Yo});var Ir=_((dc,xr)=>{u();d();var Zo=R(),Jo=Y(),{re:be,t:$e}=K(),Qo=(r,e)=>{if(r instanceof Zo)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(be[$e.COERCE]);else{let n;for(;(n=be[$e.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),be[$e.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;be[$e.COERCERTL].lastIndex=-1}return t===null?null:Jo(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};xr.exports=Qo});var Tr=_((pc,yr)=>{u();d();var es=bn(),Z=Symbol("max"),G=Symbol("length"),se=Symbol("lengthCalculator"),ge=Symbol("allowStale"),J=Symbol("maxAge"),M=Symbol("dispose"),wr=Symbol("noDisposeOnSet"),N=Symbol("lruList"),F=Symbol("cache"),Sr=Symbol("updateAgeOnGet"),Ye=()=>1,Je=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[Z]=e.max||1/0,n=e.length||Ye;if(this[se]=typeof n!="function"?Ye:n,this[ge]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[J]=e.maxAge||0,this[M]=e.dispose,this[wr]=e.noDisposeOnSet||!1,this[Sr]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Z]=e||1/0,me(this)}get max(){return this[Z]}set allowStale(e){this[ge]=!!e}get allowStale(){return this[ge]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[J]=e,me(this)}get maxAge(){return this[J]}set lengthCalculator(e){typeof e!="function"&&(e=Ye),e!==this[se]&&(this[se]=e,this[G]=0,this[N].forEach(t=>{t.length=this[se](t.value,t.key),this[G]+=t.length})),me(this)}get lengthCalculator(){return this[se]}get length(){return this[G]}get itemCount(){return this[N].length}rforEach(e,t){t=t||this;for(let n=this[N].tail;n!==null;){let o=n.prev;Cr(this,e,n,t),n=o}}forEach(e,t){t=t||this;for(let n=this[N].head;n!==null;){let o=n.next;Cr(this,e,n,t),n=o}}keys(){return this[N].toArray().map(e=>e.key)}values(){return this[N].toArray().map(e=>e.value)}reset(){this[M]&&this[N]&&this[N].length&&this[N].forEach(e=>this[M](e.key,e.value)),this[F]=new Map,this[N]=new es,this[G]=0}dump(){return this[N].map(e=>ke(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[N]}set(e,t,n){if(n=n||this[J],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let o=n?Date.now():0,s=this[se](t,e);if(this[F].has(e)){if(s>this[Z])return ie(this,this[F].get(e)),!1;let l=this[F].get(e).value;return this[M]&&(this[wr]||this[M](e,l.value)),l.now=o,l.maxAge=n,l.value=t,this[G]+=s-l.length,l.length=s,this.get(e),me(this),!0}let i=new Qe(e,t,s,o,n);return i.length>this[Z]?(this[M]&&this[M](e,t),!1):(this[G]+=i.length,this[N].unshift(i),this[F].set(e,this[N].head),me(this),!0)}has(e){if(!this[F].has(e))return!1;let t=this[F].get(e).value;return!ke(this,t)}get(e){return Ze(this,e,!0)}peek(e){return Ze(this,e,!1)}pop(){let e=this[N].tail;return e?(ie(this,e),e.value):null}del(e){ie(this,this[F].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let o=e[n],s=o.e||0;if(s===0)this.set(o.k,o.v);else{let i=s-t;i>0&&this.set(o.k,o.v,i)}}}prune(){this[F].forEach((e,t)=>Ze(this,t,!1))}},Ze=(r,e,t)=>{let n=r[F].get(e);if(n){let o=n.value;if(ke(r,o)){if(ie(r,n),!r[ge])return}else t&&(r[Sr]&&(n.value.now=Date.now()),r[N].unshiftNode(n));return o.value}},ke=(r,e)=>{if(!e||!e.maxAge&&!r[J])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[J]&&t>r[J]},me=r=>{if(r[G]>r[Z])for(let e=r[N].tail;r[G]>r[Z]&&e!==null;){let t=e.prev;ie(r,e),e=t}},ie=(r,e)=>{if(e){let t=e.value;r[M]&&r[M](t.key,t.value),r[G]-=t.length,r[F].delete(t.key),r[N].removeNode(e)}},Qe=class{constructor(e,t,n,o,s){this.key=e,this.value=t,this.length=n,this.now=o,this.maxAge=s||0}},Cr=(r,e,t,n)=>{let o=t.value;ke(r,o)&&(ie(r,t),r[ge]||(o=void 0)),o&&e.call(n,o.value,o.key,r)};yr.exports=Je});var B=_((Ec,Or)=>{u();d();var Q=class{constructor(e,t){if(t=rs(t),e instanceof Q)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Q(e.raw,t);if(e instanceof et)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!Ar(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&as(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,o=Nr.get(n);if(o)return o;let s=this.options.loose,i=s?b[O.HYPHENRANGELOOSE]:b[O.HYPHENRANGE];e=e.replace(i,Es(this.options.includePrerelease)),T("hyphen replace",e),e=e.replace(b[O.COMPARATORTRIM],os),T("comparator trim",e,b[O.COMPARATORTRIM]),e=e.replace(b[O.TILDETRIM],ss),e=e.replace(b[O.CARETTRIM],is),e=e.split(/\s+/).join(" ");let a=s?b[O.COMPARATORLOOSE]:b[O.COMPARATOR],l=e.split(" ").map(x=>cs(x,this.options)).join(" ").split(/\s+/).map(x=>gs(x,this.options)).filter(this.options.loose?x=>!!x.match(a):()=>!0).map(x=>new et(x,this.options)),c=l.length,h=new Map;for(let x of l){if(Ar(x))return[x];h.set(x.value,x)}h.size>1&&h.has("")&&h.delete("");let v=[...h.values()];return Nr.set(n,v),v}intersects(e,t){if(!(e instanceof Q))throw new TypeError("a Range is required");return this.set.some(n=>Dr(n,t)&&e.set.some(o=>Dr(o,t)&&n.every(s=>o.every(i=>s.intersects(i,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new ns(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(vs(this.set[t],e,this.options))return!0;return!1}};Or.exports=Q;var ts=Tr(),Nr=new ts({max:1e3}),rs=fe(),et=Ee(),T=de(),ns=R(),{re:b,t:O,comparatorTrimReplace:os,tildeTrimReplace:ss,caretTrimReplace:is}=K(),Ar=r=>r.value==="<0.0.0-0",as=r=>r.value==="",Dr=(r,e)=>{let t=!0,n=r.slice(),o=n.pop();for(;t&&n.length;)t=n.every(s=>o.intersects(s,e)),o=n.pop();return t},cs=(r,e)=>(T("comp",r,e),r=ds(r,e),T("caret",r),r=ls(r,e),T("tildes",r),r=hs(r,e),T("xrange",r),r=ms(r,e),T("stars",r),r),$=r=>!r||r.toLowerCase()==="x"||r==="*",ls=(r,e)=>r.trim().split(/\s+/).map(t=>us(t,e)).join(" "),us=(r,e)=>{let t=e.loose?b[O.TILDELOOSE]:b[O.TILDE];return r.replace(t,(n,o,s,i,a)=>{T("tilde",r,n,o,s,i,a);let l;return $(o)?l="":$(s)?l=`>=${o}.0.0 <${+o+1}.0.0-0`:$(i)?l=`>=${o}.${s}.0 <${o}.${+s+1}.0-0`:a?(T("replaceTilde pr",a),l=`>=${o}.${s}.${i}-${a} <${o}.${+s+1}.0-0`):l=`>=${o}.${s}.${i} <${o}.${+s+1}.0-0`,T("tilde return",l),l})},ds=(r,e)=>r.trim().split(/\s+/).map(t=>fs(t,e)).join(" "),fs=(r,e)=>{T("caret",r,e);let t=e.loose?b[O.CARETLOOSE]:b[O.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(o,s,i,a,l)=>{T("caret",r,o,s,i,a,l);let c;return $(s)?c="":$(i)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:$(a)?s==="0"?c=`>=${s}.${i}.0${n} <${s}.${+i+1}.0-0`:c=`>=${s}.${i}.0${n} <${+s+1}.0.0-0`:l?(T("replaceCaret pr",l),s==="0"?i==="0"?c=`>=${s}.${i}.${a}-${l} <${s}.${i}.${+a+1}-0`:c=`>=${s}.${i}.${a}-${l} <${s}.${+i+1}.0-0`:c=`>=${s}.${i}.${a}-${l} <${+s+1}.0.0-0`):(T("no pr"),s==="0"?i==="0"?c=`>=${s}.${i}.${a}${n} <${s}.${i}.${+a+1}-0`:c=`>=${s}.${i}.${a}${n} <${s}.${+i+1}.0-0`:c=`>=${s}.${i}.${a} <${+s+1}.0.0-0`),T("caret return",c),c})},hs=(r,e)=>(T("replaceXRanges",r,e),r.split(/\s+/).map(t=>ps(t,e)).join(" ")),ps=(r,e)=>{r=r.trim();let t=e.loose?b[O.XRANGELOOSE]:b[O.XRANGE];return r.replace(t,(n,o,s,i,a,l)=>{T("xRange",r,n,o,s,i,a,l);let c=$(s),h=c||$(i),v=h||$(a),x=v;return o==="="&&x&&(o=""),l=e.includePrerelease?"-0":"",c?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&x?(h&&(i=0),a=0,o===">"?(o=">=",h?(s=+s+1,i=0,a=0):(i=+i+1,a=0)):o==="<="&&(o="<",h?s=+s+1:i=+i+1),o==="<"&&(l="-0"),n=`${o+s}.${i}.${a}${l}`):h?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:v&&(n=`>=${s}.${i}.0${l} <${s}.${+i+1}.0-0`),T("xRange return",n),n})},ms=(r,e)=>(T("replaceStars",r,e),r.trim().replace(b[O.STAR],"")),gs=(r,e)=>(T("replaceGTE0",r,e),r.trim().replace(b[e.includePrerelease?O.GTE0PRE:O.GTE0],"")),Es=r=>(e,t,n,o,s,i,a,l,c,h,v,x,E)=>($(n)?t="":$(o)?t=`>=${n}.0.0${r?"-0":""}`:$(s)?t=`>=${n}.${o}.0${r?"-0":""}`:i?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,$(c)?l="":$(h)?l=`<${+c+1}.0.0-0`:$(v)?l=`<${c}.${+h+1}.0-0`:x?l=`<=${c}.${h}.${v}-${x}`:r?l=`<${c}.${h}.${+v+1}-0`:l=`<=${l}`,`${t} ${l}`.trim()),vs=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(T(r[n].semver),r[n].semver!==et.ANY&&r[n].semver.prerelease.length>0){let o=r[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var Ee=_((xc,kr)=>{u();d();var ve=Symbol("SemVer ANY"),ae=class{static get ANY(){return ve}constructor(e,t){if(t=_s(t),e instanceof ae){if(e.loose===!!t.loose)return e;e=e.value}rt("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ve?this.value="":this.value=this.operator+this.semver.version,rt("comp",this)}parse(e){let t=this.options.loose?Lr[Rr.COMPARATORLOOSE]:Lr[Rr.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new br(n[2],this.options.loose):this.semver=ve}toString(){return this.value}test(e){if(rt("Comparator.test",e,this.options.loose),this.semver===ve||e===ve)return!0;if(typeof e=="string")try{e=new br(e,this.options)}catch{return!1}return tt(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof ae))throw new TypeError("a Comparator is required");if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new $r(e.value,t).test(this.value);if(e.operator==="")return e.value===""?!0:new $r(this.value,t).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),o=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,i=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=tt(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),l=tt(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||o||s&&i||a||l}};kr.exports=ae;var _s=fe(),{re:Lr,t:Rr}=K(),tt=Ke(),rt=de(),br=R(),$r=B()});var _e=_((Cc,Pr)=>{u();d();var xs=B(),Is=(r,e,t)=>{try{e=new xs(e,t)}catch{return!1}return e.test(r)};Pr.exports=Is});var qr=_((Tc,Br)=>{u();d();var ws=B(),Cs=(r,e)=>new ws(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));Br.exports=Cs});var Fr=_((Dc,Ur)=>{u();d();var Ss=R(),ys=B(),Ts=(r,e,t)=>{let n=null,o=null,s=null;try{s=new ys(e,t)}catch{return null}return r.forEach(i=>{s.test(i)&&(!n||o.compare(i)===-1)&&(n=i,o=new Ss(n,t))}),n};Ur.exports=Ts});var Gr=_((Rc,Mr)=>{u();d();var Ns=R(),As=B(),Ds=(r,e,t)=>{let n=null,o=null,s=null;try{s=new As(e,t)}catch{return null}return r.forEach(i=>{s.test(i)&&(!n||o.compare(i)===1)&&(n=i,o=new Ns(n,t))}),n};Mr.exports=Ds});var Hr=_((kc,Xr)=>{u();d();var nt=R(),Os=B(),jr=pe(),Ls=(r,e)=>{r=new Os(r,e);let t=new nt("0.0.0");if(r.test(t)||(t=new nt("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let o=r.set[n],s=null;o.forEach(i=>{let a=new nt(i.semver.version);switch(i.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||jr(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),s&&(!t||jr(t,s))&&(t=s)}return t&&r.test(t)?t:null};Xr.exports=Ls});var zr=_((qc,Vr)=>{u();d();var Rs=B(),bs=(r,e)=>{try{return new Rs(r,e).range||"*"}catch{return null}};Vr.exports=bs});var Pe=_((Mc,Zr)=>{u();d();var $s=R(),Yr=Ee(),{ANY:ks}=Yr,Ps=B(),Bs=_e(),Wr=pe(),Kr=Oe(),qs=Re(),Us=Le(),Fs=(r,e,t,n)=>{r=new $s(r,n),e=new Ps(e,n);let o,s,i,a,l;switch(t){case">":o=Wr,s=qs,i=Kr,a=">",l=">=";break;case"<":o=Kr,s=Us,i=Wr,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Bs(r,e,n))return!1;for(let c=0;c<e.set.length;++c){let h=e.set[c],v=null,x=null;if(h.forEach(E=>{E.semver===ks&&(E=new Yr(">=0.0.0")),v=v||E,x=x||E,o(E.semver,v.semver,n)?v=E:i(E.semver,x.semver,n)&&(x=E)}),v.operator===a||v.operator===l||(!x.operator||x.operator===a)&&s(r,x.semver))return!1;if(x.operator===l&&i(r,x.semver))return!1}return!0};Zr.exports=Fs});var Qr=_((Xc,Jr)=>{u();d();var Ms=Pe(),Gs=(r,e,t)=>Ms(r,e,">",t);Jr.exports=Gs});var tn=_((zc,en)=>{u();d();var js=Pe(),Xs=(r,e,t)=>js(r,e,"<",t);en.exports=Xs});var on=_((Yc,nn)=>{u();d();var rn=B(),Hs=(r,e,t)=>(r=new rn(r,t),e=new rn(e,t),r.intersects(e));nn.exports=Hs});var an=_((Qc,sn)=>{u();d();var Vs=_e(),zs=P();sn.exports=(r,e,t)=>{let n=[],o=null,s=null,i=r.sort((h,v)=>zs(h,v,t));for(let h of i)Vs(h,e,t)?(s=h,o||(o=h)):(s&&n.push([o,s]),s=null,o=null);o&&n.push([o,null]);let a=[];for(let[h,v]of n)h===v?a.push(h):!v&&h===i[0]?a.push("*"):v?h===i[0]?a.push(`<=${v}`):a.push(`${h} - ${v}`):a.push(`>=${h}`);let l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var fn=_((rl,dn)=>{u();d();var cn=B(),Be=Ee(),{ANY:ot}=Be,xe=_e(),st=P(),Ws=(r,e,t={})=>{if(r===e)return!0;r=new cn(r,t),e=new cn(e,t);let n=!1;e:for(let o of r.set){for(let s of e.set){let i=Ks(o,s,t);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},Ks=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===ot){if(e.length===1&&e[0].semver===ot)return!0;t.includePrerelease?r=[new Be(">=0.0.0-0")]:r=[new Be(">=0.0.0")]}if(e.length===1&&e[0].semver===ot){if(t.includePrerelease)return!0;e=[new Be(">=0.0.0")]}let n=new Set,o,s;for(let E of r)E.operator===">"||E.operator===">="?o=ln(o,E,t):E.operator==="<"||E.operator==="<="?s=un(s,E,t):n.add(E.semver);if(n.size>1)return null;let i;if(o&&s){if(i=st(o.semver,s.semver,t),i>0)return null;if(i===0&&(o.operator!==">="||s.operator!=="<="))return null}for(let E of n){if(o&&!xe(E,String(o),t)||s&&!xe(E,String(s),t))return null;for(let H of e)if(!xe(E,String(H),t))return!1;return!0}let a,l,c,h,v=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1,x=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1;v&&v.prerelease.length===1&&s.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(let E of e){if(h=h||E.operator===">"||E.operator===">=",c=c||E.operator==="<"||E.operator==="<=",o){if(x&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===x.major&&E.semver.minor===x.minor&&E.semver.patch===x.patch&&(x=!1),E.operator===">"||E.operator===">="){if(a=ln(o,E,t),a===E&&a!==o)return!1}else if(o.operator===">="&&!xe(o.semver,String(E),t))return!1}if(s){if(v&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===v.major&&E.semver.minor===v.minor&&E.semver.patch===v.patch&&(v=!1),E.operator==="<"||E.operator==="<="){if(l=un(s,E,t),l===E&&l!==s)return!1}else if(s.operator==="<="&&!xe(s.semver,String(E),t))return!1}if(!E.operator&&(s||o)&&i!==0)return!1}return!(o&&c&&!s&&i!==0||s&&h&&!o&&i!==0||x||v)},ln=(r,e,t)=>{if(!r)return e;let n=st(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},un=(r,e,t)=>{if(!r)return e;let n=st(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};dn.exports=Ws});var pn=_((sl,hn)=>{u();d();var it=K();hn.exports={re:it.re,src:it.src,tokens:it.t,SEMVER_SPEC_VERSION:ue().SEMVER_SPEC_VERSION,SemVer:R(),compareIdentifiers:ye().compareIdentifiers,rcompareIdentifiers:ye().rcompareIdentifiers,parse:Y(),valid:Ut(),clean:Mt(),inc:jt(),diff:Kt(),major:Zt(),minor:Qt(),patch:tr(),prerelease:nr(),compare:P(),rcompare:sr(),compareLoose:ar(),compareBuild:De(),sort:dr(),rsort:hr(),gt:pe(),lt:Oe(),eq:Ae(),neq:We(),gte:Le(),lte:Re(),cmp:Ke(),coerce:Ir(),Comparator:Ee(),Range:B(),satisfies:_e(),toComparators:qr(),maxSatisfying:Fr(),minSatisfying:Gr(),minVersion:Hr(),validRange:zr(),outside:Pe(),gtr:Qr(),ltr:tn(),intersects:on(),simplifyRange:an(),subset:fn()}});u();d();var C=Xe(On());Ln();u();d();var w={root:"_root_1e4bi_1",title:"_title_1e4bi_8",confirmTitle:"_confirmTitle_1e4bi_15 _title_1e4bi_8",confirmTitleHighLight:"_confirmTitleHighLight_1e4bi_21 _title_1e4bi_8",confirmDesc:"_confirmDesc_1e4bi_26",commonTitle:"_commonTitle_1e4bi_39 _title_1e4bi_8",commonDesc:"_commonDesc_1e4bi_48",commonImage:"_commonImage_1e4bi_61",commonImageTag:"_commonImageTag_1e4bi_67",newImage:"_newImage_1e4bi_71",newImageTag:"_newImageTag_1e4bi_76",commonFooter:"_commonFooter_1e4bi_79",multiLineFooter:"_multiLineFooter_1e4bi_87",extButton:"_extButton_1e4bi_95"};var S={connectError:"CONNECTERROR",wrongApp:"WRONGAPP",rejected:"REJECTED",confirm:"CONFIRM",blindEnable:"BLINDENABLE",ledgerBusy:"LEDGERBUSY",disConnected:"DISCONNECTED",lockedDevice:"LOCKEDDEVICE",wrongAppToGetAddress:"WRONGAPPTOGETADDRESS",hardWareNotConnected:"HARDWARENOTCONNECTED"},oe=({titleKey:r,descKey:e,lightImg:t,darkImg:n,btnTextKey:o,isNewImage:s})=>({handleClose:i,onButtonClick:a})=>{let l=ne({light:t,dark:n});return C.default.createElement(y.Box,{className:w.root},C.default.createElement(y.Box,{className:w.commonTitle},A(r)),C.default.createElement(y.Box,{className:w.commonDesc},e?A(e):""),C.default.createElement(re,{src:l,pictureClassName:s?w.newImage:w.commonImage,className:s?w.newImageTag:w.commonImageTag}),C.default.createElement(y.Box,{className:w.commonFooter},C.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:()=>{a&&a(),i()},block:!0},A(o))))},$n=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_retry"}),kn=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_device_disconnected",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),Pn=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),Bn=oe({titleKey:"wallet_dialog_title_transaction_reject",descKey:"wallet_dialog_subtitle_transaction_reject_desc",lightImg:"/cdn/assets/imgs/245/D20BB80F72E26AE8.png",darkImg:"/cdn/assets/imgs/245/84CF381F4BEFAB79.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),qn=oe({titleKey:"wallet_dialog_title_transaction_failed",descKey:"wallet_dialog_subtitle_transaction_error_reinitiate",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),Un=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"wallet_extension_pop_title_hardware_wallet_notunlocked",lightImg:"/cdn/assets/imgs/245/038C820230C1D3E0.png",darkImg:"/cdn/assets/imgs/245/0EAF10E9F40C5541.png",btnTextKey:"extension_wallet_conncecthardware_retry",isNewImage:!0}),Fn=({handleClose:r,baseChain:e})=>{let t=ne({light:"/cdn/assets/imgs/245/9AD7699D75F09864.png",dark:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png"});return C.default.createElement(y.Box,{className:w.root},C.default.createElement(y.Box,{className:w.commonTitle},A("wallet_add_wallet_maintitle_hardware_wallet_conncet_failed")),C.default.createElement(y.Box,{className:w.commonDesc},A("wallet_extension_pop_title_open_app",{Name:Se[e]})),C.default.createElement(re,{src:t,className:w.newImageTag,pictureClassName:w.newImage}),C.default.createElement(y.Box,{className:w.commonFooter},C.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:()=>{window.location.reload(),r()},block:!0},A("extension_wallet_conncecthardware_retry"))))},Mn=({handleClose:r,walletName:e,onButtonClick:t,onExtButtonClick:n})=>{let o=ne({light:"/cdn/assets/imgs/245/A9EDDD75B9E98A02.png",dark:"/cdn/assets/imgs/245/FCD6B8E149D00A31.png"});return C.default.createElement(y.Box,{className:w.root},C.default.createElement(y.Box,{className:w.commonTitle},A("wallet_extension_footer_btn_ok")),C.default.createElement(y.Box,{className:w.commonDesc},A("wallet_extension_top_subtitle_same_device",{acctName:e})),C.default.createElement(re,{src:o,className:w.commonImageTag,pictureClassName:w.commonImage}),C.default.createElement(y.Box,{className:w.multiLineFooter},C.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:()=>{t&&t(),r()},block:!0},A("wallet_add_wallet_btn_conncet_hardware_wallet")),C.default.createElement(y.Box,{className:w.extButton,onClick:n},A("wallet_extension_footer_btn_add_newdevice"))))},Gn=({handleClose:r,network:e})=>{let t=ne({light:"/cdn/assets/imgs/245/13DD433CD15E83AA.png",dark:"/cdn/assets/imgs/245/74F4F0AC071E323D.png"});return C.default.createElement(y.Box,{className:w.root},C.default.createElement(y.Box,{className:w.commonTitle},A("wallet_dialog_title_transaction_failed")),C.default.createElement(y.Box,{className:w.commonDesc},A("extension_wallet_dialog_subtitle_transaction_failed_desc",{network:e,signbyhash:"Blind signing"})),C.default.createElement(re,{src:t,className:w.commonImageTag,pictureClassName:w.commonImage}),C.default.createElement(y.Box,{className:w.commonFooter},C.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:r,block:!0},A("extension_wallet_conncecthardware_okbtn"))))},jn=()=>{let r=ne({light:"/cdn/assets/imgs/245/56CE147131A188AA.png",dark:"/cdn/assets/imgs/245/FA61D5D25FCE8E12.png"});return C.default.createElement(y.Box,{className:w.root},C.default.createElement(y.Box,{className:w.confirmTitle},A("extension_wallet_conncecthardware_check_ledgerwallet",{transaction:C.default.createElement("span",{className:w.confirmTitleHighLight},A("extension_wallet_conncecthardware_transaction_details"))})),C.default.createElement(y.Box,{className:w.confirmDesc},A("extension_wallet_conncecthardware_transaction_sent")),C.default.createElement(re,{src:r,className:w.newImageTag,pictureClassName:w.newImage}))},Xn={[S.connectError]:$n,[S.wrongApp]:Pn,[S.rejected]:Bn,[S.confirm]:jn,[S.blindEnable]:Gn,[S.ledgerBusy]:qn,[S.disConnected]:kn,[S.lockedDevice]:Un,[S.wrongAppToGetAddress]:Fn,[S.hardWareNotConnected]:Mn},Ve=class{constructor(){this.renderContent=()=>{let{type:e,props:t}=this,n=Xn[e];return n?C.default.createElement(n,{...t,handleClose:this.closeModal}):null};this.renderModalDom=()=>{let{hideCloseBtn:e=!1,onCloseBtnClick:t}=this.props;this.modalDom=_t.action({onClose:()=>{this.closeModal(),t&&t()},className:"hardware-wallet-tip-dialog",maskClosable:!1,alignBottom:!0,noTopRadius:!1,noContentPadding:!0,hideCloseBtn:e,children:this.renderContent()})};this.openModal=vt((e,t={})=>{this.closeModal(),this.visible=!0,this.type=e,this.props=t,this.renderModalDom()},300);this.closeModal=()=>{this.visible=!1,this.modalDom&&(this.modalDom.destroy(),this.modalDom=null)};this.visible=!1,this.type=S.confirm,this.props={},this.modalDom=null}},W=new Ve;u();d();u();d();u();d();var lt=Xe(pn());var ct=function(){return ct=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},ct.apply(this,arguments)},ee;var L;(function(r){r.blue="blue",r.nanoS="nanoS",r.nanoSP="nanoSP",r.nanoX="nanoX",r.stax="stax"})(L||(L={}));var ut=(ee={},ee[L.blue]={id:L.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(r){return 4*1024}},ee[L.nanoS]={id:L.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(r){var e;return lt.default.lt((e=lt.default.coerce(r))!==null&&e!==void 0?e:"","2.0.0")?4*1024:2*1024}},ee[L.nanoSP]={id:L.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(r){return 32}},ee[L.nanoX]={id:L.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(r){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},ee[L.stax]={id:L.stax,productName:"Ledger\xA0Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(r){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},ee),cl={Blue:L.blue,"Nano S":L.nanoS,"Nano S Plus":L.nanoSP,"Nano X":L.nanoX,Stax:L.stax},mn=Object.values(ut),te=11415;var dt=function(r){var e=mn.find(function(o){return o.legacyUsbProductId===r});if(e)return e;var t=r>>8,n=mn.find(function(o){return o.productIdMM===t});return n};var Ys=[],gn={};for(En in ut)if(at=ut[En],qe=at.bluetoothSpec,qe)for(Ue=0;Ue<qe.length;Ue++)Ie=qe[Ue],Ys.push(Ie.serviceUuid),gn[Ie.serviceUuid]=gn[Ie.serviceUuid.replace(/-/g,"")]=ct({deviceModel:at},Ie);var at,qe,Ie,Ue,En;u();d();u();d();var yn=Xe(Rn());u();d();u();d();var Zs=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();var Js={},Qs={},ft=function(r,e){Qs[r]=e},f=function(r){var e=function(t){Zs(n,t);function n(o,s,i){var a=t.call(this,o||r,i)||this;if(Object.setPrototypeOf(a,n.prototype),a.name=r,s)for(var l in s)a[l]=s[l];if(i&&ei(i)&&"cause"in i&&!("cause"in a)){var c=i.cause;a.cause=c,"stack"in c&&(a.stack=a.stack+`
CAUSE: `+c.stack)}return a}return n}(Error);return Js[r]=e,e};function ei(r){return typeof r=="object"}var _n=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();var vl=f("AccountNameRequired"),_l=f("AccountNotSupported"),xl=f("AmountRequired"),Il=f("BluetoothRequired"),wl=f("BtcUnmatchedApp"),Cl=f("CantOpenDevice"),Sl=f("CashAddrNotSupported"),yl=f("CurrencyNotSupported"),Tl=f("DeviceAppVerifyNotSupported"),Nl=f("DeviceGenuineSocketEarlyClose"),Al=f("DeviceNotGenuine"),Dl=f("DeviceOnDashboardExpected"),Ol=f("DeviceOnDashboardUnexpected"),Ll=f("DeviceInOSUExpected"),Rl=f("DeviceHalted"),bl=f("DeviceNameInvalid"),$l=f("DeviceSocketFail"),kl=f("DeviceSocketNoBulkStatus"),ti=f("LockedDeviceError"),xn=f("DisconnectedDevice"),In=f("DisconnectedDeviceDuringOperation"),Pl=f("DeviceExtractOnboardingStateError"),Bl=f("DeviceOnboardingStatePollingError"),ql=f("EnpointConfig"),Ul=f("EthAppPleaseEnableContractData"),Fl=f("FeeEstimationFailed"),Ml=f("FirmwareNotRecognized"),Gl=f("HardResetFail"),jl=f("InvalidXRPTag"),Xl=f("InvalidAddress"),Hl=f("InvalidAddressBecauseDestinationIsAlsoSource"),Vl=f("LatestMCUInstalledError"),zl=f("UnknownMCU"),Wl=f("LedgerAPIError"),Kl=f("LedgerAPIErrorWithMessage"),Yl=f("LedgerAPINotAvailable"),Zl=f("ManagerAppAlreadyInstalled"),Jl=f("ManagerAppRelyOnBTC"),Ql=f("ManagerAppDepInstallRequired"),eu=f("ManagerAppDepUninstallRequired"),tu=f("ManagerDeviceLocked"),ru=f("ManagerFirmwareNotEnoughSpace"),nu=f("ManagerNotEnoughSpace"),ou=f("ManagerUninstallBTCDep"),su=f("NetworkDown"),iu=f("NoAddressesFound"),au=f("NotEnoughBalance"),cu=f("NotEnoughBalanceToDelegate"),lu=f("NotEnoughBalanceInParentAccount"),uu=f("NotEnoughSpendableBalance"),du=f("NotEnoughBalanceBecauseDestinationNotCreated"),fu=f("NoAccessToCamera"),hu=f("NotEnoughGas"),pu=f("NotSupportedLegacyAddress"),mu=f("GasLessThanEstimate"),gu=f("PriorityFeeTooLow"),Eu=f("PriorityFeeTooHigh"),vu=f("PriorityFeeHigherThanMaxFee"),_u=f("MaxFeeTooLow"),xu=f("PasswordsDontMatch"),Iu=f("PasswordIncorrect"),wu=f("RecommendSubAccountsToEmpty"),Cu=f("RecommendUndelegation"),Su=f("TimeoutTagged"),yu=f("UnexpectedBootloader"),Tu=f("MCUNotGenuineToDashboard"),Nu=f("RecipientRequired"),Au=f("UnavailableTezosOriginatedAccountReceive"),Du=f("UnavailableTezosOriginatedAccountSend"),Ou=f("UpdateFetchFileFail"),Lu=f("UpdateIncorrectHash"),Ru=f("UpdateIncorrectSig"),bu=f("UpdateYourApp"),$u=f("UserRefusedDeviceNameChange"),ku=f("UserRefusedAddress"),Pu=f("UserRefusedFirmwareUpdate"),Bu=f("UserRefusedAllowManager"),qu=f("UserRefusedOnDevice"),ht=f("TransportOpenUserCancelled"),Uu=f("TransportInterfaceNotAvailable"),wn=f("TransportRaceCondition"),Fu=f("TransportWebUSBGestureRequired"),Mu=f("DeviceShouldStayInApp"),Gu=f("WebsocketConnectionError"),ju=f("WebsocketConnectionFailed"),Xu=f("WrongDeviceForAccount"),Hu=f("WrongAppForCurrency"),Vu=f("ETHAddressNonEIP"),zu=f("CantScanQRCode"),Wu=f("FeeNotLoaded"),Ku=f("FeeRequired"),Yu=f("FeeTooHigh"),Zu=f("DustLimit"),Ju=f("PendingOperation"),Qu=f("SyncError"),ed=f("PairingFailed"),td=f("GenuineCheckFailed"),rd=f("LedgerAPI4xx"),nd=f("LedgerAPI5xx"),od=f("FirmwareOrAppUpdateRequired"),sd=f("LanguageNotFound"),id=f("NoDBPathGiven"),ad=f("DBWrongPassword"),cd=f("DBNotReset"),vn;(function(r){r[r.Unknown=0]="Unknown",r[r.BleLocationServicesDisabled=1]="BleLocationServicesDisabled",r[r.BleBluetoothUnauthorized=2]="BleBluetoothUnauthorized",r[r.BleScanStartFailed=3]="BleScanStartFailed"})(vn||(vn={}));var ld=function(r){_n(e,r);function e(t,n){var o=r.call(this,n)||this;return o.name="HwTransportError",o.type=t,Object.setPrototypeOf(o,e.prototype),o}return e}(Error);var q=function(r){_n(e,r);function e(t,n){var o=this,s="TransportError";return o=r.call(this,t||s)||this,o.name=s,o.message=t,o.stack=new Error().stack,o.id=n,o}return e}(Error);ft("TransportError",function(r){return new q(r.message,r.id)});var ce={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761};function Cn(r){switch(r){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=r&&r<=28671)return"Internal error, please report"}function we(r){var e=Object.keys(ce).find(function(s){return ce[s]===r})||"UNKNOWN_ERROR",t=Cn(r)||e,n=r.toString(16),o="Ledger device: ".concat(t," (0x").concat(n,")");if(r===ce.LOCKED_DEVICE)throw new ti(o);this.name="TransportStatusError",this.message=o,this.stack=new Error().stack,this.statusCode=r,this.statusText=e}we.prototype=new Error;ft("TransportStatusError",function(r){return new we(r.statusCode)});var Fe=function(r,e,t,n){function o(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function a(h){try{c(n.next(h))}catch(v){i(v)}}function l(h){try{c(n.throw(h))}catch(v){i(v)}}function c(h){h.done?s(h.value):o(h.value).then(a,l)}c((n=n.apply(r,e||[])).next())})},Me=function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(h){return l([c,h])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(h){c=[6,h],o=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Sn=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ri=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,s=[],i;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return s},ni=function(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,s;n<o;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))};var oi=function(){function r(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new yn.default,this.send=function(t,n,o,s,i,a){return i===void 0&&(i=p.Buffer.alloc(0)),a===void 0&&(a=[ce.OK]),Fe(e,void 0,void 0,function(){var l,c;return Me(this,function(h){switch(h.label){case 0:if(i.length>=256)throw new q("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");return[4,this.exchange(p.Buffer.concat([p.Buffer.from([t,n,o,s]),p.Buffer.from([i.length]),i]))];case 1:if(l=h.sent(),c=l.readUInt16BE(l.length-2),!a.some(function(v){return v===c}))throw new we(c);return[2,l]}})})},this.exchangeAtomicImpl=function(t){return Fe(e,void 0,void 0,function(){var n,o,s,i,a,l=this;return Me(this,function(c){switch(c.label){case 0:if(this.exchangeBusyPromise)throw new wn("An action was already pending on the Ledger device. Please deny or reconnect.");o=new Promise(function(h){n=h}),this.exchangeBusyPromise=o,s=!1,i=setTimeout(function(){s=!0,l.emit("unresponsive")},this.unresponsiveTimeout),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,t()];case 2:return a=c.sent(),s&&this.emit("responsive"),[2,a];case 3:return clearTimeout(i),n&&n(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return r.prototype.exchange=function(e){throw new Error("exchange not implemented")},r.prototype.exchangeBulk=function(e,t){var n=this,o=!1,s=function(){o=!0},i=function(){return Fe(n,void 0,void 0,function(){var a,l,c,h,v,x,E,H;return Me(this,function(U){switch(U.label){case 0:if(o)return[2];U.label=1;case 1:U.trys.push([1,6,7,8]),a=Sn(e),l=a.next(),U.label=2;case 2:return l.done?[3,5]:(c=l.value,[4,this.exchange(c)]);case 3:if(h=U.sent(),o)return[2];if(v=h.readUInt16BE(h.length-2),v!==ce.OK)throw new we(v);t.next(h),U.label=4;case 4:return l=a.next(),[3,2];case 5:return[3,8];case 6:return x=U.sent(),E={error:x},[3,8];case 7:try{l&&!l.done&&(H=a.return)&&H.call(a)}finally{if(E)throw E.error}return[7];case 8:return[2]}})})};return i().then(function(){return!o&&t.complete()},function(a){return!o&&t.error(a)}),{unsubscribe:s}},r.prototype.setScrambleKey=function(e){},r.prototype.close=function(){return Promise.resolve()},r.prototype.on=function(e,t){this._events.on(e,t)},r.prototype.off=function(e,t){this._events.removeListener(e,t)},r.prototype.emit=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=this._events).emit.apply(t,ni([e],ri(n),!1))},r.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},r.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},r.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},r.create=function(e,t){var n=this;return e===void 0&&(e=3e3),new Promise(function(o,s){var i=!1,a=n.listen({next:function(c){i=!0,a&&a.unsubscribe(),l&&clearTimeout(l),n.open(c.descriptor,e).then(o,s)},error:function(c){l&&clearTimeout(l),s(c)},complete:function(){l&&clearTimeout(l),i||s(new q(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),l=t?setTimeout(function(){a.unsubscribe(),s(new q(n.ErrorMessage_ListenTimeout,"ListenTimeout"))},t):null})},r.prototype.decorateAppAPIMethods=function(e,t,n){var o,s;try{for(var i=Sn(t),a=i.next();!a.done;a=i.next()){var l=a.value;e[l]=this.decorateAppAPIMethod(l,e[l],e,n)}}catch(c){o={error:c}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}},r.prototype.decorateAppAPIMethod=function(e,t,n,o){var s=this;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return Fe(s,void 0,void 0,function(){var l;return Me(this,function(c){switch(c.label){case 0:if(l=this._appAPIlock,l)return[2,Promise.reject(new q("Ledger Device is busy (lock "+l+")","TransportLocked"))];c.label=1;case 1:return c.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(o),[4,t.apply(n,i)];case 2:return[2,c.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},r.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",r.ErrorMessage_NoDeviceFound="No Ledger device found",r}(),Tn=oi;u();d();var Nn=5;function si(r){var e=p.Buffer.alloc(2);return e.writeUInt16BE(r,0),e}var ii={data:p.Buffer.alloc(0),dataLength:0,sequence:0},ai=function(r,e){return{makeBlocks:function(t){var n=p.Buffer.concat([si(t.length),t]),o=e-5,s=Math.ceil(n.length/o);n=p.Buffer.concat([n,p.Buffer.alloc(s*o-n.length+1).fill(0)]);for(var i=[],a=0;a<s;a++){var l=p.Buffer.alloc(5);l.writeUInt16BE(r,0),l.writeUInt8(Nn,2),l.writeUInt16BE(a,3);var c=n.slice(a*o,(a+1)*o);i.push(p.Buffer.concat([l,c]))}return i},reduceResponse:function(t,n){var o=t||ii,s=o.data,i=o.dataLength,a=o.sequence;if(n.readUInt16BE(0)!==r)throw new q("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==Nn)throw new q("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==a)throw new q("Invalid sequence","InvalidSequence");t||(i=n.readUInt16BE(5)),a++;var l=n.slice(t?5:7);return s=p.Buffer.concat([s,l]),s.length>i&&(s=s.slice(0,i)),{data:s,dataLength:i,sequence:a}},getReducedResult:function(t){if(t&&t.dataLength===t.data.length)return t.data}}},An=ai;u();d();var ci=0,z=[],pt=function(r,e,t){var n={type:r,id:String(++ci),date:new Date};e&&(n.message=e),t&&(n.data=t),ui(n)},li=function(r){return z.push(r),function(){var e=z.indexOf(r);e!==-1&&(z[e]=z[z.length-1],z.pop())}};function ui(r){for(var e=0;e<z.length;e++)try{z[e](r)}catch(t){console.error(t)}}typeof window<"u"&&(window.__ledgerLogsListen=li);var di=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),j=function(r,e,t,n){function o(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function a(h){try{c(n.next(h))}catch(v){i(v)}}function l(h){try{c(n.throw(h))}catch(v){i(v)}}function c(h){h.done?s(h.value):o(h.value).then(a,l)}c((n=n.apply(r,e||[])).next())})},X=function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(h){return l([c,h])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(h){c=[6,h],o=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},fi=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,s=[],i;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return s},hi=[{vendorId:te}],pi=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},Ge=function(){var r=navigator.hid;if(!r)throw new q("navigator.hid is not supported","HIDNotSupported");return r};function Dn(){return j(this,void 0,void 0,function(){var r;return X(this,function(e){switch(e.label){case 0:return[4,Ge().requestDevice({filters:hi})];case 1:return r=e.sent(),Array.isArray(r)?[2,r]:[2,[r]]}})})}function mt(){return j(this,void 0,void 0,function(){var r;return X(this,function(e){switch(e.label){case 0:return[4,Ge().getDevices()];case 1:return r=e.sent(),[2,r.filter(function(t){return t.vendorId===te})]}})})}function mi(){return j(this,void 0,void 0,function(){var r,e;return X(this,function(t){switch(t.label){case 0:return[4,mt()];case 1:return r=t.sent(),r.length>0?[2,r[0]]:[4,Dn()];case 2:return e=t.sent(),[2,e[0]]}})})}var gi=function(r){di(e,r);function e(t){var n=r.call(this)||this;return n.channel=Math.floor(Math.random()*65535),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise(function(o){n.inputCallback=o})},n.onInputReport=function(o){var s=p.Buffer.from(o.data.buffer);n.inputCallback?(n.inputCallback(s),n.inputCallback=null):n.inputs.push(s)},n._disconnectEmitted=!1,n._emitDisconnect=function(o){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",o))},n.exchange=function(o){return j(n,void 0,void 0,function(){var s,i=this;return X(this,function(a){switch(a.label){case 0:return[4,this.exchangeAtomicImpl(function(){return j(i,void 0,void 0,function(){var l,c,h,v,x,E,H,U,Et;return X(this,function(le){switch(le.label){case 0:l=this,c=l.channel,h=l.packetSize,pt("apdu","=> "+o.toString("hex")),v=An(c,h),x=v.makeBlocks(o),E=0,le.label=1;case 1:return E<x.length?[4,this.device.sendReport(0,x[E])]:[3,4];case 2:le.sent(),le.label=3;case 3:return E++,[3,1];case 4:return(H=v.getReducedResult(U))?[3,6]:[4,this.read()];case 5:return Et=le.sent(),U=v.reduceResponse(U,Et),[3,4];case 6:return pt("apdu","<= "+H.toString("hex")),[2,H]}})})}).catch(function(l){throw l&&l.message&&l.message.includes("write")?(i._emitDisconnect(l),new In(l.message)):l})];case 1:return s=a.sent(),[2,s]}})})},n.device=t,n.deviceModel=typeof t.productId=="number"?dt(t.productId):void 0,t.addEventListener("inputreport",n.onInputReport),n}return e.request=function(){return j(this,void 0,void 0,function(){var t,n;return X(this,function(o){switch(o.label){case 0:return[4,Dn()];case 1:return t=fi.apply(void 0,[o.sent(),1]),n=t[0],[2,e.open(n)]}})})},e.openConnected=function(){return j(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return[4,mt()];case 1:return t=n.sent(),t.length===0?[2,null]:[2,e.open(t[0])]}})})},e.open=function(t){return j(this,void 0,void 0,function(){var n,o;return X(this,function(s){switch(s.label){case 0:return[4,t.open()];case 1:return s.sent(),n=new e(t),o=function(i){t===i.device&&(Ge().removeEventListener("disconnect",o),n._emitDisconnect(new xn))},Ge().addEventListener("disconnect",o),[2,n]}})})},e.prototype.close=function(){return j(this,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return[4,this.exchangeBusyPromise];case 1:return t.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return t.sent(),[2]}})})},e.prototype.setScrambleKey=function(){},e.isSupported=pi,e.list=mt,e.listen=function(t){var n=!1;mi().then(function(s){if(!s)t.error(new ht("Access denied to use Ledger device"));else if(!n){var i=typeof s.productId=="number"?dt(s.productId):void 0;t.next({type:"add",descriptor:s,deviceModel:i}),t.complete()}},function(s){t.error(new ht(s.message))});function o(){n=!0}return{unsubscribe:o}},e}(Tn),gt=gi;var je={[S.rejected]:"denied by the user",[S.ledgerBusy]:"Ledger Device is busy",[S.disConnected]:He,[S.lockedDevice]:"LockedDeviceError"},Ei=r=>!!(S.wrongApp===r.message||r.name.match("TransportStatusError")||r.name.match("InvalidStateError")||r.name.match("Error")&&!r.message),vi=async()=>{let{hid:r}=window.navigator;return r.getDevices?(await r.getDevices()).filter(t=>t.vendorId===te)[0]:null},Ce=class{constructor(){this.ledgerTransPorter=null}static async hasConnectedLedger(){return!!await vi()}static async requestLedgerDevice(){let{hid:e}=window.navigator,t=[];try{t=await e.requestDevice({filters:[{vendorId:te}]})}catch{t=[]}return t}async initLedgerTransPorter(){return this.ledgerTransPorter||(this.ledgerTransPorter=await gt.create()),this.ledgerTransPorter}throwTimeoutError(){return new Promise((e,t)=>{setTimeout(()=>{t(new Error("Timeout"))},wt)})}async checkLedgerConnection(){if(await Ce.hasConnectedLedger())await this.makeApp();else throw new Error(He)}handleErrors(e,t){throw e.message.match(je[S.rejected])?W.openModal(S.rejected):e.message.match(je[S.ledgerBusy])?W.openModal(S.ledgerBusy):e.message.match(je[S.disConnected])?W.openModal(S.disConnected):e.name===je[S.lockedDevice]?W.openModal(S.lockedDevice):Ei(e)?W.openModal(S.wrongApp):e.name==="EthAppPleaseEnableContractData"||e.message.match("blind")?W.openModal(S.blindEnable,{network:Se[t]}):xt.error({title:e.message}),new Error(It)}makeApp(){throw new Error("you have to override this method")}getAddress(){throw new Error("you have to override this method")}signTransaction(){throw new Error("you have to override this method")}signPersonalMessage(){throw new Error("you have to override this method")}signMessage(){throw new Error("you have to override this method")}},Md=Ce;export{S as a,W as b,pn as c,Ul as d,pt as e,vi as f,Md as g};
//# sourceMappingURL=chunk-I6UBKGB5.js.map
