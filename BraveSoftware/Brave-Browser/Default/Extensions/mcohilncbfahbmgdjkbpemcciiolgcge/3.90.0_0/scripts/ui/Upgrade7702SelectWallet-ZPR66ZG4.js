import{a as V}from"./chunk-GKVBUYS5.js";import{b as F,c as q,d as Q,e as d}from"./chunk-IZ7G24YP.js";import"./chunk-RVKJAHPI.js";import"./chunk-UUL7BCUE.js";import"./chunk-DEUTH4MR.js";import"./chunk-C5UYM2HZ.js";import"./chunk-IUZFRS2D.js";import{a as R}from"./chunk-LMVZDUFT.js";import"./chunk-O652XWZZ.js";import"./chunk-BDXN3GYH.js";import"./chunk-772ZJYXN.js";import{a as H}from"./chunk-B5L26Z2J.js";import{d as B}from"./chunk-AVG63QW4.js";import"./chunk-RQUKPC6Z.js";import{G as Y}from"./chunk-CKHT4PIF.js";import"./chunk-JMNZU6WB.js";import{a as G}from"./chunk-WXD7TULU.js";import"./chunk-JQHLKZPQ.js";import"./chunk-ZZBUS7GI.js";import"./chunk-PMG6IXOR.js";import{a as P}from"./chunk-BD5XO4WL.js";import"./chunk-7U7FORYL.js";import"./chunk-FLXVXXZH.js";import"./chunk-XBUPORYF.js";import"./chunk-YVLQLIW6.js";import"./chunk-HBXZ3GPM.js";import"./chunk-6C7RJCTT.js";import"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-ARDRUD4P.js";import"./chunk-WYX7GFOD.js";import"./chunk-G6PA2JD3.js";import"./chunk-N2N44VBE.js";import"./chunk-ZDJRNLYZ.js";import"./chunk-RV5WZKGQ.js";import"./chunk-MJSLAJV6.js";import{a as N}from"./chunk-KC2XLVFC.js";import{G as k,la as x,ra as _}from"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import{sb as D}from"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-6M37VPK2.js";import"./chunk-WOJGOC63.js";import"./chunk-OKGWI7CU.js";import"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-I6UBKGB5.js";import"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import"./chunk-WN3TRBGI.js";import"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import{Lb as T}from"./chunk-EQ34WRCJ.js";import{k as M,s as U}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import{a as ee}from"./chunk-DOSBJ3L3.js";import"./chunk-DNGRHKLV.js";import"./chunk-3O2IEAHF.js";import{v as b}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import"./chunk-FB3ILH2L.js";import{b as S}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-NEASQB35.js";import{Aa as Z,r as v}from"./chunk-4C5HF6J2.js";import"./chunk-U6W3TK77.js";import"./chunk-WJI4CIAQ.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-F5YUOHHL.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as I,o as t,q as r}from"./chunk-UWURTNRY.js";t();r();var h=I(S());t();r();var n=I(S()),j=I(ee());t();r();var $={root:"_root_2vou1_1",title:"_title_2vou1_6",keyring:"_keyring_2vou1_10",header:"_header_2vou1_13",content:"_content_2vou1_16",icon:"_icon_2vou1_19",wrapper:"_wrapper_2vou1_22"};var z=({keyringIdentities:o=[]})=>{let[l]=G(),i=H().get("walletId"),c=(0,n.useRef)(null),y=(0,j.useHistory)(),w=(0,n.useCallback)(e=>{y.push(`${D}?walletId=${e}`)},[y]),p={[d.KEYRING]:F,[d.WALLET]:q},{collapsedWallets:a,updateCollapsedWallets:C}=V(o,i),f=(0,n.useMemo)(()=>{let e=[];return o.forEach(s=>{let L={id:s.keyringId,key:s.keyringId,keyringIdentity:s,hiddenAssets:l,itemType:d.KEYRING,show:!0,collapsedWallets:a};e.push(L),a.includes(s.keyringId)||s.walletIdentities.forEach(m=>{let K={id:m.walletId,keyringId:s.keyringId,key:m.walletId,walletIdentity:m,onClick:()=>w(m.walletId),itemType:d.WALLET,selected:i,collapsedWallets:a,hiddenAssets:l};e.push(K)})}),e},[o,l,a,i]),W=e=>{let s=p[e.itemType];return n.default.createElement(b.Item,{onClick:()=>{if(e.itemType===d.KEYRING)return C({id:e.id})},"data-testid":e.itemType===d.WALLET&&P.UPGRADE_7702_SELECT_WALLET_PAGE.WALLET_IDENTITY},n.default.createElement(s,{...e}))};return n.default.createElement("div",{className:$.root,ref:c},n.default.createElement(Q,{data:f,renderWalletListItem:W,getContainer:()=>c.current}))};t();r();var E=I(S());Z();var O=()=>{let[,o=[]]=Y(null),l=_(x),u=_(k),i=(0,E.useMemo)(()=>o.filter(p=>p?.hasBackup&&[T.HD_KEYRING,T.SIMPLE_KEYRING].includes(p?.initialType)),[o]),c=(0,E.useMemo)(()=>v(i),[i]),y=(0,E.useMemo)(()=>c.map(p=>{let a=p,C=a?.walletIdentities||[],f=0,W=[];return C.forEach(e=>{let s=e?.account?.mainnet??!1,L=e?.walletId,m=Boolean(u?.[L]),K=!l?.[L];m&&K&&s&&(f=M.add(f,e?.walletAsset??0),W.push(e))}),a.walletIdentities=W,a.walletAsset=String(f),a}),[c,u,l]);return(0,E.useMemo)(()=>y.filter(p=>p.walletIdentities.length>0),[y])};t();r();var A=I(S());var J=()=>{let o=_(k),l=(0,A.useMemo)(()=>Object.keys(o||{}),[o]),u=R(),i=N(async()=>{await u(l,!1)});(0,A.useEffect)(()=>{i()},[i])};t();r();var X={wrapper:"_wrapper_6fgs3_1"};var te=()=>{let o=O();return J(),h.default.createElement("div",{className:X.wrapper},h.default.createElement(B,{closeable:!1,title:U("wallet_extension_account_header_title_select_wallet")}),h.default.createElement(z,{keyringIdentities:o}))},Oe=te;export{Oe as default};
//# sourceMappingURL=Upgrade7702SelectWallet-ZPR66ZG4.js.map
