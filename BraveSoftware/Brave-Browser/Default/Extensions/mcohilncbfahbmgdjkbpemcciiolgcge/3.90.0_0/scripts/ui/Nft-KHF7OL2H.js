import{a as dt,c as ft,d as pt}from"./chunk-WBUBAPCJ.js";import{a as le}from"./chunk-DHQ6GCYC.js";import{a as lt}from"./chunk-TVBTJSJ6.js";import{a as mt}from"./chunk-YCNS6KMQ.js";import{a as at}from"./chunk-J6RZSPH6.js";import{a as rt}from"./chunk-NIGR3I4J.js";import{a as it}from"./chunk-JXVJV7BH.js";import{b as ct}from"./chunk-JHFDXQQS.js";import"./chunk-5YK6XLJ4.js";import"./chunk-5HKBJUHN.js";import"./chunk-YPTISS47.js";import{a as st}from"./chunk-UX2JFEX5.js";import"./chunk-XHRUTTJG.js";import"./chunk-HZ3JMDUS.js";import{b as Ve,d as A,e as We,g as Ue,h as $e,i as Ge,j as qe,k as je,l as Ye,m as Ke,p as ze,q as Ze,r as Je}from"./chunk-NVBOE3PE.js";import"./chunk-TXIKSV43.js";import{b as P}from"./chunk-LQJXR5XX.js";import"./chunk-NQGIYDUG.js";import"./chunk-ARRY6F45.js";import"./chunk-6GJ4TEPK.js";import"./chunk-BYDDPVAA.js";import"./chunk-CSTKCSUP.js";import{b as ot}from"./chunk-YVLQLIW6.js";import{a as Re}from"./chunk-HBXZ3GPM.js";import"./chunk-6C7RJCTT.js";import{o as Ie}from"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-SI5WJURV.js";import"./chunk-MT4YWUUK.js";import{a as nt}from"./chunk-IPVHRCDK.js";import"./chunk-JW2AVC2H.js";import"./chunk-AKOAGCJX.js";import{a as tt}from"./chunk-ARDRUD4P.js";import{h as ce,j as Xe,m as et}from"./chunk-WYX7GFOD.js";import{a as De}from"./chunk-G6PA2JD3.js";import"./chunk-N2N44VBE.js";import"./chunk-ZDJRNLYZ.js";import"./chunk-RV5WZKGQ.js";import"./chunk-MJSLAJV6.js";import{k as se,t as Oe}from"./chunk-KC2XLVFC.js";import{qa as Be,ra as L}from"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import{v as Z,w as Me}from"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import{c as he}from"./chunk-EAE2NUFS.js";import{e as Le}from"./chunk-OLICTWCW.js";import"./chunk-3F7OC7N7.js";import{a as re}from"./chunk-HZOYPVSA.js";import"./chunk-Z4GX4TH2.js";import"./chunk-OKGWI7CU.js";import"./chunk-RFTC6RNT.js";import"./chunk-I6UBKGB5.js";import{h as Qe}from"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import"./chunk-WN3TRBGI.js";import{c as ee}from"./chunk-3FMJDUGT.js";import{c as H}from"./chunk-2O5TMJZM.js";import{K as He,O as M}from"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import{$ as ne,gb as q,ha as ve,hb as j,ib as Y,pb as K,qb as z}from"./chunk-EQ34WRCJ.js";import{k as Ee,p as f}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import{a as ke}from"./chunk-DOSBJ3L3.js";import"./chunk-3O2IEAHF.js";import{A as X,E as W,I as Te,o as ie,p as ae,y as B}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{C as V,t as Q,w as v}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as J}from"./chunk-FB3ILH2L.js";import{b as F}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-NEASQB35.js";import{Aa as Zt,u as Pe}from"./chunk-4C5HF6J2.js";import"./chunk-U6W3TK77.js";import"./chunk-WJI4CIAQ.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-F5YUOHHL.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as T,o as t,q as o}from"./chunk-UWURTNRY.js";t();o();var g=T(F());var $t=T(ke()),ge=T(J());t();o();t();o();var ut=(e,n="")=>M(H.checkHasHiddenNFT,{address:e,chain:n});t();o();var Jt=tt($e,ze),_t=Jt;function Qt(e){let{currentNetworkUniqueId:n}=Re(),i=rt(),[r,a]=_t(),{loading:c,runAsync:s,run:_}=se(()=>{let p=i(n).join(",");return p?ut(p,`${n}`).then(d=>{let N=!!d?.data?.ownedHiddenNft;return a(N),N}).catch(()=>(a(!1),!1)):(a(!1),Promise.resolve(!1))},{manual:e?.manual??!0,refreshDeps:[n],onSuccess:p=>{e?.onChecked?.(p)},onError:()=>{}});return{hasHiddenNFT:r,loading:c,checkAsync:s,check:_,setHasHiddenNft:a}}var me=Qt;t();o();var C=T(F()),Lt=T(ke());t();o();var h=T(F()),U=T(J());t();o();var x=T(F());var Et=T(J());t();o();var At=T(F());t();o();function Xt(){let e=ce(),n=Be();return(i,r)=>{let{hideManualHidden:a}=We(e),c={id:i,walletId:e,newData:{hiddenStatus:r?A.SHOW:A.MANUAL}};n(a&&!r?Je(c):Ze(c))}}var gt=Xt;t();o();function eo(e,n){return e.includes(n)}var Nt=eo;t();o();var de={SHOW:0,HIDE:1};t();o();var fe={hide:{button:"extension_wallet_filter_btn_hide",error:"extension_wallet_notif_text_hide_unsuccess",success:"extension_wallet_notif_text_hide_success"},show:{button:"extension_wallet_filter_btn_unhide",error:"extension_wallet_notif_text_unhide_unsuccess",success:"extension_wallet_notif_text_unhide_success"},transfer:"extension_wallet_filter_btn_transfer"};t();o();t();o();t();o();var ht={expired:4001,illegal:4002,parsingFailed:4003};var kt=e=>M(H.changeNFTVisibility,e),Tt=e=>{let n=e?.data?.addressTokenErrorMap??{};return Object.values(n).some(i=>Object.values(ht).includes(i))};t();o();var Ce="nftToken",It=(e,n)=>{try{let i=localStorage.getItem(Ce)??"{}",r=JSON.parse(i);return localStorage.setItem(Ce,JSON.stringify({...r,[e]:n})),!0}catch{return!1}},Ct=e=>{try{let n=localStorage.getItem(Ce);return n?(JSON.parse(n)??{})?.[e]:void 0}catch{return}};t();o();t();o();var yt=e=>He(H.getNFTSignData,{address:e});t();o();var bt={[q]:1,[Y]:2,[K]:2,[z]:4,[j]:5},xt=e=>M(H.loginNFT,e);t();o();var wt={[q]:q,[j]:j,[z]:z,[Y]:Y,[K]:K};var to=e=>Object.values(wt).includes(e),St=async(e,n,i)=>{let r=re(n);if(!to(r))return;let a=await yt(e),c=a?.data?.signData,s=a?.data?.nonce;if(!c||!s)return;let _=await he().signMessageSilent({from:e,data:c,nonce:s},r,i);if(!_)return;let p={address:e,signature:_,algorithmCode:bt[r]};if([ne,ve].includes(r)){let N=await he().getPublicKey(e,r,i);p.publicKey=N}return(await xt(p))?.data?.token};var Ft={LOGIN_ERROR:"LOGIN_ERROR",TOKEN_ERROR:"TOKEN_ERROR"},oo=async({address:e,baseCoinId:n,useNewToken:i,walletId:r})=>{let a=Ct(e);if(!i&&a)return a;try{let c=await St(e,n,r);if(!c)throw new Error(Ft.LOGIN_ERROR);return It(e,c),c}catch{throw new Error(Ft.LOGIN_ERROR)}},ye=0,no=3,be=async(e,n,i=!1)=>{let{addresses:r,nftId:a,type:c,walletId:s}=n,_=[];for(let d of r){let N=await oo({address:d,baseCoinId:e,useNewToken:i,walletId:s});_.push(N)}let p=r.reduce((d,N,u)=>(d[N]=_[u],d),{});try{await kt({nftId:a,type:c,addressTokenMap:p}),ye=0}catch(d){if(Tt(d)){if(ye++,ye>no)throw d;await be(e,n,!0)}else throw d}};function so(e){let{id:n,baseCoinId:i,onSuccess:r,hiddenStatus:a}=e,c=!Nt([A.AUTO,A.MANUAL],a),s=ce(),_=et(),p=gt(),{check:d}=me(),N=c?fe.hide:fe.show,u=se(be,{onError:()=>{Te.error(f(N.error))},onSuccess:(I,[,{nftId:O,type:S}])=>{Te.success(f(N.success)),p(O,S===de.SHOW),d(),r?.()},manual:!0}),k=()=>{if(u.loading)return;let I=_(s),O=re(i),S=I?.account?.[O],b=Object.values(I?.addressType?.bitcoin??{}).map(oe=>oe?.address).filter(Boolean);u.run(i,{addresses:O===ne?b:[S],type:c?de.HIDE:de.SHOW,nftId:n,walletId:s})},w=f(N.button);return{key:"visibility",loading:u.loading,text:w,onClick:k,icon:c?"okx-wallet-plugin-hide":"okx-wallet-plugin-show"}}function ro(e){let{ownerAddress:n,chainId:i,tokenId:r,contractAddress:a}=e,{loading:c,getNFTInfo:s}=dt({looker:n,chainId:`${i}`,tokenId:`${r}`,contractAddress:a}),_=ft(),p=async()=>{let N=await s();if(!!N){if(N?.chainName==="Solana"&&N?.sale){let u=ie.tip({alignBottom:!1,title:f("extension_wallet_detail_title_transfer_faild"),children:f("extension_wallet_detail_text_transfer_faild"),confirmText:f("wallet_extension_btn_general_ok"),onConfirm:()=>{u.destroy()}});return}_(N)}},d=f(fe.transfer);return{key:"transfer",loading:c,text:d,onClick:p,icon:"okx-wallet-plugin-transfer"}}function io(){let e=(0,At.useRef)(null),n=()=>{e.current?.setVisible(!1)};return Oe("scroll",n,{target:document.getElementById(mt)}),{popupRef:e,closePopup:n}}function ao(e){let{popupRef:n,closePopup:i}=io(),{baseCoinId:r,id:a,hiddenStatus:c,ownerAddress:s,chainId:_,contractAddress:p,tokenId:d,transfer:N=!0,visible:u=!0}=e,k=so({onSuccess:i,baseCoinId:r,id:a,hiddenStatus:c}),w=ro({ownerAddress:s,chainId:_,tokenId:d,contractAddress:p}),I=[];return N&&I.push(w),u&&I.push(k),{popupRef:n,actions:I}}var Pt=ao;t();o();var R={root:"_root_1orqe_1",popup:"_popup_1orqe_6",item:"_item_1orqe_13",iconBox:"_iconBox_1orqe_24",loader:"_loader_1orqe_32",icon:"_icon_1orqe_24"};function co(e){let{popupRef:n,actions:i}=Pt(e);return x.default.createElement(ee.Box,{className:R.root},x.default.createElement(ae,{content:x.default.createElement(ee.Box,{className:R.popup},i.map(r=>x.default.createElement(ee.Box,{className:R.item,onClick:r.onClick,key:r.key},x.default.createElement(ee.Box,{className:R.iconBox},r.loading?x.default.createElement(v,{size:v.SIZE.sm,className:R.loader}):x.default.createElement(Q,{className:(0,Et.default)(r.icon,R.icon)})),x.default.createElement(Ie.Text,{size:Ie.SIZE.sm},r.text)))),trigger:ae.TRIGGER.click,placement:ae.DIRECTION.topRight,ref:n},x.default.createElement(Q,{className:"okx-wallet-plugin-more"})))}var Ht=co;t();o();var te=T(F()),vt=T(J());t();o();var l={clickable:"_clickable_1le74_1",priceTitle:"_priceTitle_1le74_4",priceContent:"_priceContent_1le74_12",priceValue:"_priceValue_1le74_22","add-weight":"_add-weight_1le74_27",addWeight:"_add-weight_1le74_27",chainImage:"_chainImage_1le74_27",priceAmount:"_priceAmount_1le74_32",price:"_price_1le74_4",noResultImageBox:"_noResultImageBox_1le74_39",collectionName:"_collectionName_1le74_43","ok-nft-main-list":"_ok-nft-main-list_1le74_47",okNftMainList:"_ok-nft-main-list_1le74_47","ok-nft-loading-status":"_ok-nft-loading-status_1le74_54",okNftLoadingStatus:"_ok-nft-loading-status_1le74_54","ok-nft-main-no-nft":"_ok-nft-main-no-nft_1le74_59",okNftMainNoNft:"_ok-nft-main-no-nft_1le74_59","ok-nft-image":"_ok-nft-image_1le74_62",okNftImage:"_ok-nft-image_1le74_62","ok-nft-image-box":"_ok-nft-image-box_1le74_70",okNftImageBox:"_ok-nft-image-box_1le74_70","ok-nft-image-box-hide":"_ok-nft-image-box-hide_1le74_74",okNftImageBoxHide:"_ok-nft-image-box-hide_1le74_74","ok-nft-is-new":"_ok-nft-is-new_1le74_77",okNftIsNew:"_ok-nft-is-new_1le74_77","ok-nft-collections":"_ok-nft-collections_1le74_94",okNftCollections:"_ok-nft-collections_1le74_94","ok-nft-flag-image":"_ok-nft-flag-image_1le74_106",okNftFlagImage:"_ok-nft-flag-image_1le74_106","ok-nft-chain-image":"_ok-nft-chain-image_1le74_111",okNftChainImage:"_ok-nft-chain-image_1le74_111","ok-nft-name":"_ok-nft-name_1le74_120",okNftName:"_ok-nft-name_1le74_120","ok-nft-main-item":"_ok-nft-main-item_1le74_132",okNftMainItem:"_ok-nft-main-item_1le74_132","ok-nft-is-hide":"_ok-nft-is-hide_1le74_138",okNftIsHide:"_ok-nft-is-hide_1le74_138","ok-nft-is-hide-icon":"_ok-nft-is-hide-icon_1le74_150",okNftIsHideIcon:"_ok-nft-is-hide-icon_1le74_150","ok-nft-collection-identification-name":"_ok-nft-collection-identification-name_1le74_154",okNftCollectionIdentificationName:"_ok-nft-collection-identification-name_1le74_154","ok-nft-collection-name":"_ok-nft-collection-name_1le74_157",okNftCollectionName:"_ok-nft-collection-name_1le74_157"};var lo=({item:e,index:n})=>{let[i,r]=(0,te.useState)(!1),a=n%2>1?X.DIRECTION.top:X.DIRECTION.topRight;return te.default.createElement(X,{show:i,title:e.collectionName,trigger:X.TRIGGER.hover,placement:a},te.default.createElement("span",{onMouseOver:()=>{let c=e.isIdentification?127:144,s=document.querySelector(`.ok-nft--collection-name-hidden-${e.id}`);s&&s.clientWidth>c&&r(!0)},onMouseLeave:()=>{r(!1)},className:(0,vt.default)(l.okNftCollectionName,l.addWeight,e.isIdentification?l.okNftCollectionIdentificationName:"")},e.collectionName||e.projectName))},Ot=lo;var mo=()=>{let e=Xe();return Le(e?.initialType)},fo=e=>{let n=mo(),{inImage:i}=e.slot||{},r=P(e.salePrice)||P(e.lastPrice)||P(e.bestOfferPrice),a=f("wallet_extension_nft_detail_text_price"),c="New";e.salePrice?a=f("wallet_extension_nft_detail_text_price"):e.lastPrice?a=f("wallet_extension_nft_detail_text_last"):e.bestOfferPrice&&(a=f("wallet_extension_nft_detail_text_best_offer"));let s=!n&&!e?.needClaim,_=e?.hiddenStatus===A.AUTO||e?.hiddenStatus===A.MANUAL,p=_&&h.default.createElement("div",{className:l.okNftIsHide},h.default.createElement(Q,{className:(0,U.default)("okx-wallet-plugin-hide",l.okNftIsHideIcon)})),d=Qe({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});return h.default.createElement("div",{className:l.okNftMainItem},h.default.createElement("div",{className:l.clickable,onClick:e.onClick},h.default.createElement("div",{className:l.okNftImageBox},h.default.createElement(lt,{src:e.image||e.resourceUrl,classnames:(0,U.default)(l.addWeight,l.okNftImage,_&&l.okNftImageBoxHide),backupImage:d}),e.isNew&&h.default.createElement("div",{className:l.okNftIsNew},c),i?i(p):p),h.default.createElement("div",null,h.default.createElement("div",{className:l.okNftCollections},h.default.createElement(Ot,{item:e}),h.default.createElement("div",{className:(0,U.default)(`ok-nft--collection-name-hidden-${e.id}`,l.collectionName)},e.collectionName),e.isIdentification&&h.default.createElement(W,{alt:"",src:"/static/images/nft/nft-isidentification.svg",className:l.okNftFlagImage}),h.default.createElement(W,{alt:"",src:e.chainIcon,className:(0,U.default)(l.addWeight,l.okNftChainImage)})),h.default.createElement("div",{className:l.okNftName},e.name))),h.default.createElement("div",{className:l.price},h.default.createElement("div",{className:l.priceTitle},a),h.default.createElement("div",{className:l.priceContent},h.default.createElement("div",{className:l.priceValue},r?.currencyUrl&&h.default.createElement(W,{alt:"",src:`${r?.currencyUrl}`,className:(0,U.default)(l.addWeight,l.chainImage)}),h.default.createElement("div",{className:l.priceAmount},r?.priceDisplay||"--")),s&&h.default.createElement(Ht,{id:e.id,hiddenStatus:e.hiddenStatus,baseCoinId:e.baseCoinId,ownerAddress:e.ownerAddress,chainId:e.chain,contractAddress:e.contractAddress,tokenId:e.tokenId,...e.actionsProps||{}}))))},pe=fo;t();o();var E={"new-home-page-aptos-box":"_new-home-page-aptos-box_btcug_1",newHomePageAptosBox:"_new-home-page-aptos-box_btcug_1","new-home-page-aptos-image":"_new-home-page-aptos-image_btcug_10",newHomePageAptosImage:"_new-home-page-aptos-image_btcug_10","new-home-page-aptos-text":"_new-home-page-aptos-text_btcug_17",newHomePageAptosText:"_new-home-page-aptos-text_btcug_17","new-home-page-aptos-notify":"_new-home-page-aptos-notify_btcug_27",newHomePageAptosNotify:"_new-home-page-aptos-notify_btcug_27","new-home-page-aptos-get":"_new-home-page-aptos-get_btcug_30",newHomePageAptosGet:"_new-home-page-aptos-get_btcug_30","new-home-page-aptos-claim":"_new-home-page-aptos-claim_btcug_44",newHomePageAptosClaim:"_new-home-page-aptos-claim_btcug_44","new-home-page-aptos-title":"_new-home-page-aptos-title_btcug_49",newHomePageAptosTitle:"_new-home-page-aptos-title_btcug_49","ok-nft-main-list":"_ok-nft-main-list_btcug_53",okNftMainList:"_ok-nft-main-list_btcug_53"};var po=({data:e=[],accountAddress:n})=>{let[i,r]=(0,C.useState)(!1),a=(0,Lt.useHistory)(),c=f("extension_home_aptos_nft_card_receivenum",{num:C.default.createElement("span",{key:"language",className:E.newHomePageAptosNotify},e.length)});return C.default.createElement(C.default.Fragment,null,C.default.createElement(ie.Action,{windowStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},onClose:()=>{r(!1)},visible:i,title:C.default.createElement("span",{className:E.newHomePageAptosTitle},f("extension_aptos_nft_title_receiveallowed")),windowClass:E.newHomePageAptosClaim},C.default.createElement("div",{className:E.okNftMainList},e.map(s=>(s.coverUrl?s.image=s.coverUrl:s.resourceType===1&&(s.image=s.resourceUrl),s.lastPrice=P(s.lastPrice),s.bestOffer=P(s.bestOffer),s.sale=P(s.sale),s.floorPriceDetail=P(s.floorPriceDetail),C.default.createElement(pe,{...s,key:s.tokenId,activeId:2,needClaim:!0,onClick:()=>{a.push({search:`chainId=${s.chain}&contractAddress=${s.contractAddress}&tokenId=${encodeURIComponent(s.tokenId)}&claim=true&offerAddress=${s.offerAddress}&looker=${n}&accountAddress=${n}`,pathname:`${Z}`})}}))))),C.default.createElement("div",{className:E.newHomePageAptosBox},C.default.createElement(W,{alt:"",width:32,height:32,className:E.newHomePageAptosImage,src:e[0].coverUrl||e[0].resourceUrl}),C.default.createElement("div",{className:E.newHomePageAptosText},c),C.default.createElement("span",{className:E.newHomePageAptosGet,onClick:()=>{e.length>1?r(!0):a.push({search:`chainId=${e[0].chain}&contractAddress=${e[0].contractAddress}&tokenId=${encodeURIComponent(e[0].tokenId)}&claim=true&offerAddress=${e[0].offerAddress}&looker=${n}&accountAddress=${n}`,pathname:`${Z}`})}},f("extension_home_aptos_nft_card_receivenow"))))},Bt=po;t();o();var $=T(F());var Dt=T(ke()),Mt=T(J());t();o();var ue=T(F());t();o();var y={INIT:"init",FILTER:"filter"};var uo=({type:e=y.INIT,hideButton:n=!1,emptyImgClassName:i})=>{let r=st(),{resetHideUnverifiedCollection:a}=le(),{resetFilterInfo:c}=it(),s=(0,ue.useCallback)(()=>{a(),c()},[c,a]),_={[y.INIT]:f("wallet_extension_nft_tab_nfts_desc"),[y.FILTER]:f("wallet_extension_nft_text_no_items_found")},p={[y.INIT]:f("wallet_extension_nft_tab_nfts_btn_explorenfts"),[y.FILTER]:f("wallet_extension_nft_btn_back_to_items")},d={[y.INIT]:B.State.TYPE.noResult,[y.FILTER]:B.State.TYPE.noRecord};return ue.default.createElement(B.State,{imgClassName:i,title:_[e],type:d[e],buttonText:n?null:p[e],onButtonClick:n?void 0:()=>{if(e===y.INIT){globalThis.platform.openTab({url:r?.nftMarketPlace});return}s()}})},Rt=uo;var _o=({list:e=[],filterStatus:n=!1,hasNFTFilter:i=!1,emptyClassname:r,emptyImgClassName:a})=>{let c=L(Ke),s=(0,Dt.useHistory)(),{currentWalletSetting:_}=le(),{hideNoValue:p,hideManualHidden:d}=_,N=p||d;if(e.length>0)return $.default.createElement("div",{className:l.okNftMainList},e.map(k=>{let{nftStatusInfo:w}=k,I=w?.data?.nftStatus==="1",S=De({coinId:k?.baseCoinId})&&!!k.inscriptionIdProtocol?k.inscriptionIdProtocol:k?.tokenId;return $.default.createElement(pe,{key:k.id,...k,tokenId:S,activeId:c,onClick:()=>{s.push({search:`looker=${k.ownerAddress}&chainId=${k.chain}&contractAddress=${k.contractAddress}&tokenId=${encodeURIComponent(S)}`,pathname:`${Z}`})},actionsProps:{transfer:!I},slot:{inImage:b=>I?$.default.createElement(pt,{className:l.okNftLoadingStatus,tooltip:!0,count:w.data?.txCount}):b}})}));let u=n&&!N?y.FILTER:y.INIT;return $.default.createElement("div",{className:(0,Mt.default)(l.okNftMainNoNft,r)},$.default.createElement(Rt,{hideButton:u===y.INIT&&i,type:u,emptyImgClassName:a}))},Vt=_o;t();o();var D={showButton:"_showButton_5kvqf_1",loadingButton:"_loadingButton_5kvqf_12",loader:"_loader_5kvqf_17",empty:"_empty_5kvqf_23",emptyImg:"_emptyImg_5kvqf_26"};t();o();var G=T(F());Zt();var Wt=16,go=158,_e=12,No=90+_e,Ut=({width:e=360})=>{let[n,i]=(0,G.useState)(2),r=(0,G.useCallback)(()=>{let a=e-Wt*2;return Math.floor((a+_e)/(go+_e))},[e]);return(0,G.useEffect)(()=>{let a=Pe(()=>{i(r())},500);return i(r()),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[r]),{columns:n,itemHeight:(e-Wt*2-(n-1)*_e)/n+No}};var ho=299,ko=({aptosNftOffers:e,aptosAddress:n,scrollTop:i,backupHeight:r})=>{let a=nt(),c=L(je),s=L(qe),_=L(Ye),p=(0,g.useRef)(null),d=at(),N=(0,$t.useHistory)(),{list:u,total:k,pageNo:w}=L(Ge),{hasHiddenNFT:I}=me({manual:!1}),O=!!a&&Ue(a,Ve.hideUnverifiedCollection),S=Object.keys(_).some(zt=>_[zt].length!==0)||O,b=S||I&&u.length<=2,{columns:oe,itemHeight:xe}=Ut({width:p.current?.clientWidth});(0,g.useEffect)(()=>{!s&&i>xe*Math.ceil(u.length/oe)-360&&k>u.length&&d({pageNo:w+1})},[i,s,u.length,k,w,d,oe,xe]);let Gt=(0,g.useMemo)(()=>s&&u.length>0&&i>480,[s,u.length,i]),qt=f("wallet_extension_nft_popup_title_filter"),jt=f("extension_wallet_filter_textbtn_filter",{number:Ee.thousandFormat(k)}),Yt=b?jt:qt,we=(0,g.useMemo)(()=>b||i>ho,[b,i]),{paddingBottom:Se,buttonPaddingBottom:Ne,absoluteBottom:Fe}=ct({isButtonAbsolute:we,backupHeight:r}),Ae=(0,g.useMemo)(()=>u.length===0&&!b?Ne:Se,[Ne,b,u.length,Se]),Kt=(0,g.useMemo)(()=>I?!0:e.length>0||u.length>0,[e.length,I,u.length]);return c?g.default.createElement("div",{className:(0,ge.default)("ok-home--error-parent"),style:{paddingBottom:Ae}},g.default.createElement(B.State,{imgClassName:D.emptyImg,type:B.State.TYPE.noNetwork,title:f("wallet_extension_nft_text_loading_failed"),buttonText:f("wallet_extension_nft_btn_refresh"),onButtonClick:()=>{s||d({pageNo:1})}})):s&&u.length===0?g.default.createElement("div",{className:(0,ge.default)("ok-home--loading-parent")},g.default.createElement(v,{size:v.SIZE.xl})):g.default.createElement(g.default.Fragment,null,g.default.createElement("div",{ref:p,style:{paddingBottom:Ae}},e.length>0&&g.default.createElement(Bt,{data:e,accountAddress:n}),g.default.createElement(Vt,{filterStatus:S,list:u,hasNFTFilter:b,emptyClassname:Kt?void 0:D.empty,emptyImgClassName:D.emptyImg})),Gt?g.default.createElement(ot,{className:D.loadingButton,offsetBottom:Fe},g.default.createElement("div",{className:"ok-home-page--nft-loading"},g.default.createElement(v,{size:v.SIZE.lg,className:D.loader}))):g.default.createElement("div",{className:(0,ge.default)(`${we?D.showButton:""}`,"ok-home-bottom-panel--nft","ok-home-bottom-panel__disabled"),style:{bottom:Fe,paddingBottom:Ne}},g.default.createElement(V,{icon:"okx-wallet-plugin-filter",type:V.TYPE.secondary,category:b?V.CATEGORY.fill:V.CATEGORY.outline,iconType:V.ICON_POSITION.leading,className:"home-button-nft sticky",onClick:()=>{N.push(Me)}},Yt)))},pi=ko;export{pi as default,ho as nftItemHeight};
//# sourceMappingURL=Nft-KHF7OL2H.js.map
