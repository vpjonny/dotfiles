import{b as A,c as r}from"./chunk-DGIOI3MN.js";import{a as N}from"./chunk-57J76VLB.js";import{a as L}from"./chunk-J6RZSPH6.js";import{a as y}from"./chunk-NCGPJXQK.js";import{c as R}from"./chunk-PMG6IXOR.js";import{h as k}from"./chunk-JMM35KIH.js";import{qa as C}from"./chunk-MJDO2VHF.js";import{c as l}from"./chunk-3FMJDUGT.js";import{n as I,p as E}from"./chunk-DSNMNSMD.js";import{J as m}from"./chunk-URGJ6D4O.js";import{b as d}from"./chunk-FLSAETOH.js";import{Aa as v,u as g}from"./chunk-4C5HF6J2.js";import{f as h,o as i,q as a}from"./chunk-UWURTNRY.js";i();a();var f=h(d());function D(){let n=y(),e=(0,f.useCallback)((o=5)=>{m.error({key:"serverLimitError",title:E("wallet_extension_home_notif_network_high_traffic"),duration:o,placement:m.DIRECTION.top})},[]),t=(0,f.useCallback)((o,s=5)=>{m.error({key:"customAlert",title:o,duration:s,placement:m.DIRECTION.top})},[]),c=(0,f.useCallback)((o,s)=>{switch(o){case r.CREATE_FAIL_FROM_NETWORK_ERROR:case r.ERR_NETWORK:n();break;case r.CREATE_FAIL_FROM_SERVER_LIMIT:case r.ERR_SERVER_LIMIT:e();break;case r.CREATE_FAIL_FROM_SERVER_ERROR:t(s);break;case r.ERR_SERVER_TINE_LIMIT:t(E("wallet_extension_error_check_device_time"));break;case r.ERR_SERVER_COMMON:t(s);break;default:break}},[t,n,e]);return{customAlert:t,serverLimitAlert:e,networkAlert:n,showErrorAlert:c}}var x=D;i();a();var u=h(d());v();i();a();var _={refreshWrapper:"_refreshWrapper_1p4ns_1",refresh:"_refresh_1p4ns_1",loading:"_loading_1p4ns_26",rotate:"_rotate_1p4ns_1"};var nr=({className:n="",handleRefresh:e,onRefresh:t,status:c})=>{let o=C(),s=L(),w=async()=>{I.trigger(N)},{showErrorAlert:F}=x(),b=g(async()=>{t?.(),e("loading");try{await Promise.all([o(k()),s(),w()]),e("success")}catch(p){let{type:S,msg:O}=A(p);F(S,O),e("error")}},800,{leading:!0});return u.default.createElement(l.FlexBox,{align:l.ALIGN.center,justify:l.ALIGN.center,className:`${_.refreshWrapper} ${n}`,style:{visibility:c==="hidden"?"hidden":"visible"},onClick:p=>{p.stopPropagation(),c!=="loading"&&b()}},u.default.createElement(R,{size:R.SIZE.xs,icon:"okx-wallet-plugin-refresh",className:`${_.refresh} ${c==="loading"&&_.loading}`}))};export{x as a,nr as b};
//# sourceMappingURL=chunk-J5NCS5VO.js.map
