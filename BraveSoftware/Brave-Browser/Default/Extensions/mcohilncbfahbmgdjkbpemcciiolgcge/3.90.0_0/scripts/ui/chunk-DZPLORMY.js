import{a as Ze,c as qe,e as $e,g as Je}from"./chunk-5WI3NR4H.js";import{d as Ke}from"./chunk-AOZHPYH5.js";import{a as Ve}from"./chunk-W25M53MS.js";import{b as Xe}from"./chunk-HLTJYEGI.js";import{d as Ye}from"./chunk-EUAAIPZO.js";import{a as pe,b as ze}from"./chunk-GCJ2PJNQ.js";import{a as je}from"./chunk-ZFAUEPQW.js";import{c as Qe}from"./chunk-ZUO5BDO3.js";import{e as We}from"./chunk-DKVOSSSH.js";import{t as V}from"./chunk-BIUKJDG5.js";import{b as Oe}from"./chunk-U44ZBWPF.js";import{j as Re}from"./chunk-PLVYKYSQ.js";import{d as Me}from"./chunk-YLT6ZRGE.js";import{a as De,b as Ue}from"./chunk-LZL7SWT5.js";import{c as Ae,d as me}from"./chunk-JYCBCMDP.js";import{b as Le}from"./chunk-GVYIP5Q5.js";import{i as He}from"./chunk-2IJ4E4D3.js";import{a as ke,d as we}from"./chunk-NS5EW6UN.js";import{h as le,o as ne}from"./chunk-N6PI3XTA.js";import{a as ee,f as ve}from"./chunk-MJSLAJV6.js";import{B as Ce,a as z,i as Fe}from"./chunk-KC2XLVFC.js";import{M as Te,ra as Ge}from"./chunk-MJDO2VHF.js";import{a as Se}from"./chunk-F3ILJHGP.js";import{ca as U,k as Ie}from"./chunk-3F7OC7N7.js";import{a as ue,b as xe,c as ce,d as he,f as Pe}from"./chunk-EPDR6VAQ.js";import{c as v}from"./chunk-3FMJDUGT.js";import{k as Q,p as e}from"./chunk-DSNMNSMD.js";import{I as Ee,J as Be,o as R}from"./chunk-URGJ6D4O.js";import{C as F,t as Ne}from"./chunk-XYWWXNVK.js";import{a as Pn}from"./chunk-FB3ILH2L.js";import{b as ie}from"./chunk-FLSAETOH.js";import{Aa as hn,f as _e}from"./chunk-4C5HF6J2.js";import{f as X,o as l,q as p}from"./chunk-UWURTNRY.js";l();p();var Tn=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"isPauser",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renouncePauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"}],name:"addPauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"decimals",type:"uint8"},{name:"totalSupply",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"PauserAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"PauserRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],Bn=Tn;l();p();var n=X(ie());var fe=X(Pn());l();p();var h={root:"_root_1sf3h_1",icon:"_icon_1sf3h_1",drawIcon:"_drawIcon_1sf3h_8",editApproveAmountModal:"_editApproveAmountModal_1sf3h_13",content:"_content_1sf3h_25",editArea:"_editArea_1sf3h_33",unlimitedText:"_unlimitedText_1sf3h_37",unlimitedSymbol:"_unlimitedSymbol_1sf3h_47",symbolClassName:"_symbolClassName_1sf3h_55",quickHandler:"_quickHandler_1sf3h_58",balanceWrap:"_balanceWrap_1sf3h_63",balance:"_balance_1sf3h_63",maxBalance:"_maxBalance_1sf3h_85",unlimited:"_unlimited_1sf3h_37",text:"_text_1sf3h_98",authQuantityWarnTip:"_authQuantityWarnTip_1sf3h_105",danger:"_danger_1sf3h_111",info:"_info_1sf3h_114",approveTip:"_approveTip_1sf3h_117",footerActions:"_footerActions_1sf3h_125",copy:"_copy_1sf3h_128",spenderAddress:"_spenderAddress_1sf3h_136"};var en=Q.toPlainString(10**40),In=o=>{typeof o!="string"&&(o=o.toString());let r=o?.length;return r<=9?36:r>=10&&r<12?32:r===12?30:r>=13&&r<=15?24:r>=16&&r<=18?20:r>=19&&r<=24?16:12},nn=({address:o,coins:r,baseCoinId:s})=>{if(Array.isArray(r))return r.find(u=>u?.baseCoinId===s&&Se(u?.address,o,{baseCoinId:s})||nn({address:o,baseCoinId:s,coins:u?.childrenCoin}))},kn=({txTypeInfo:o,walletAccount:r,approve:s,baseCoin:u,updateApproveInfo:b,onReject:P})=>{let{walletId:T}=r,{tokenInfo:d,index:_,amount:g,authQuantity:w}=s||{},{autoEdit:i,defaultAmount:c,warnTip:t,minAmount:f=0}=w||{},{address:m,decimals:x,symbol:I}=d,a=Ye(I,12),[y,C]=(0,n.useState)(null);(0,n.useEffect)(()=>{y&&y.focus()},[y]);let[G,W]=(0,n.useState)(!1),L=Ce(()=>document.querySelector(".app-content")),Y=(0,n.useMemo)(()=>({minWidth:L?.width||"100%",minHeight:L?.height||"100%",borderRadius:0}),[L]),[D,H]=(0,n.useState)(!1),[N,M]=(0,n.useState)(0),[$,j]=(0,n.useState)(!1),[O,E]=(0,n.useState)(!1),Z=z((k=g,be=!1)=>{E(be),H(me(k)),M(pe(k,x)),W(!0)}),oe=z(()=>{H(k=>!k),M(0)}),re=z(()=>{H(!0),M(0)}),K=(0,n.useMemo)(()=>t?{type:h.info,text:t}:D&&!me(c)?{type:h.danger,text:e("wallet_extension_approve_alert_high_risk_unlimited")}:Q.eq(N,0)?{type:h.info,text:e("wallet_extension_approve_error_approve_more")}:{type:h.info,text:e("wallet_extension_approve_desc_dapp_right")},[t,D,c,N]),{chainId:cn}=u||{},{coinId:mn,stableCoin:ln,displayPrecision:pn}=Me(void 0,void 0,{chainId:cn,address:m})||{},ae=je(mn,T)?.coinAmount,de=ee(ae,{isStableCoin:ln,precision:pn}).value,fn=z(()=>{H(!1),M(ae)}),dn=z(()=>{let k=D?Ae:ze(N||0,x);b(_,{amount:k}),j(!0),W(!1),C(null)}),gn=z(()=>{W(!1),C(null),P?.()}),yn=Ve(),ge=Le({},T),bn=(0,n.useMemo)(()=>ge?.find(k=>k.localType===u?.localType),[u?.localType,ge?.length]),ye=z(async(k=0)=>{if(!nn({address:m,coins:yn,baseCoinId:u?.coinId}))try{let se=await De({contractAddress:m,chainInfo:bn});await Ue(se)}catch(se){let xn=se;++k<3?ye(k):Ee.error({title:xn?.msg||e("wallet_home_toast_network_error")})}});Fe(()=>{i&&Z(c,!0),ye()});let _n=(0,n.useMemo)(()=>{let k=o?.baseInfo||{};return{...k,title:k?.title?.text,identify:k?.title?.identify}},[o]);return n.default.createElement(v.Box,{className:h.root},n.default.createElement(v.Box,{className:h.icon,onClick:()=>{Z()}},n.default.createElement(Ne,{className:(0,fe.default)("okx-wallet-plugin-draw-filled",h.drawIcon)})),n.default.createElement(R.Action,{noContentPadding:!0,visible:G,onConfirm:dn,confirmText:e("wallet_extension_approve_btn_amount_confirmation"),confirmBtnProps:{type:F.TYPE.primary,size:F.SIZE.lg,block:!0,category:F.CATEGORY.fill,disabled:!D&&Q.eq(N,0)},onClose:gn,hideCloseBtn:$||!O,windowStyle:Y},n.default.createElement(v.Box,{className:h.editApproveAmountModal},n.default.createElement(v.Space,{className:h.content,direction:v.DIRECTION.vertical,space:24},n.default.createElement(Qe,{injectInfo:_n,noHorizontalPadding:!0,styles:{style:{marginTop:16}}}),n.default.createElement(le.Thin,null),n.default.createElement(v.Space,{space:8,direction:v.DIRECTION.vertical},n.default.createElement(v.Box,{className:h.editArea},D?n.default.createElement(ne.Text,{onClick:oe,className:h.unlimitedText},e("wallet_extension_transfer_title_unlimited_amount",{token:n.default.createElement(ne.Text,{className:h.unlimitedSymbol},a)})):n.default.createElement(Re,{clickSymbolFocus:!0,onRef:C,symbol:a,autoSize:In,placeholder:"0",max:en,decimals:x,min:pe(f,x),value:N,onChange:k=>{Pe(k,en)&&M(k)},style:{fontWeight:700,height:"42px"},symbolClassName:h.symbolClassName})),n.default.createElement(v.Box,{className:h.quickHandler},!!Number(ae)&&n.default.createElement(v.Box,{className:h.balanceWrap},n.default.createElement(ne.Text,{className:h.balance,ellipsis:{tooltip:de}},e("wallet_extension_approve_label_balance",{amount:de})),n.default.createElement(v.Box,{className:h.maxBalance,onClick:fn},e("commonall_enterfield_btn_max"))),n.default.createElement(v.Box,{onClick:re,className:h.unlimited},n.default.createElement(v.Box,{className:h.text},e("wallet_extension_transfer_dialog_checkbox_set_to_unlimited"))))),n.default.createElement(le.Thin,null),!!K&&n.default.createElement(v.Box,{className:(0,fe.default)(h.authQuantityWarnTip,K.type)},K.text)))))},mt=kn;l();p();l();p();l();p();var J=X(ie());l();p();var te={content:"_content_18w99_1",title:"_title_18w99_4",text:"_text_18w99_10"};l();p();l();p();var A=X(ie());l();p();var B={title:"_title_1xthp_1",subtitle:"_subtitle_1xthp_9",fee:"_fee_1xthp_15",feeTitle:"_feeTitle_1xthp_21",feeDetail:"_feeDetail_1xthp_26",speedDetail:"_speedDetail_1xthp_33",gasDetail:"_gasDetail_1xthp_36"};var wn=()=>{let o=Oe(),r=We(),s=He(),u=Ge(Te),b=Xe(),P=Ke(),T=async(i,c,t,f=0)=>{let{baseCoin:m}=await o(t,!0),x=s(m.coinId)||"0",I=ue(i,c),a=ee(ce(I,f),{symbol:m.symbol,useContractPrecision:!0,contractPrecision:{decimals:m.decimals},precision:m.displayPrecision}).value,y=ve(ue(xe(ce(I,f),10**m.decimals),x),{currencySign:u.symbol,useApproximate:!0}).value;return`${a} ${y}`},d=(i,c)=>{let t=b(i);return e("wallet_extension_transaction_confirmation_gas_detail",{gasPrice:Q.thousandFormat(t),gasLimit:Q.thousandFormat(c)})},_=async(i,c)=>{try{return await P({...i,coinId:c})}catch{return""}},g=({userGasInfo:i,updateGasInfo:c,fetchParams:t})=>{let{gasPrice:f,maxFeePerGas:m,maxPriorityFeePerGas:x}=c,{supportEip1559:I,gasLimit:a,gasPrice:y,maxFeePerGas:C,maxPriorityFeePerGas:G}=i;return I?(delete t.gasPrice,{...t,value:t?.amount,maxFeePerGas:m||C,maxPriorityFeePerGas:x||G,gasLimit:a}):{...t,value:t?.amount,gasPrice:f||y,gasLimit:a}};return async({coinId:i,baseCoinAmountUse:c,userGasInfo:t,updateGasInfo:f,serverSignInfo:m,fetchParams:x})=>{let{gasPrice:I,maxFeePerGas:a}=f,{supportEip1559:y,gasLimit:C,gasPrice:G,maxFeePerGas:W}=t,L=0;m?.needExtFee&&(L=await _(g({userGasInfo:t,updateGasInfo:f,fetchParams:x}),i));let Y=y?W:G,D=await T(Y,C,i),H=d(Y,C),N=y?a:I,M=await T(N,C,i,L),$=d(N,C);return new Promise((j,O)=>{let E=R.prompt({hideCloseBtn:!1,alignBottom:!1,titleCenter:!1,infoType:null,confirmText:e("extension_toast_btn_confirmgasfee"),confirmBtnProps:{type:F.TYPE.highlight,size:F.SIZE.lg},onConfirm:async()=>{E.destroy();let{baseCoin:Z}=await o(i,!0),{coinAmountInt:oe}=r(Z.coinId),re=he(oe,c);Je({userGasInfo:t,updateGasInfo:f,baseCoinAmountAvailable:re,L1FEE:L})?(Be.error({title:e("extension_toast_text_insufficient_balance")}),O(new Error(V))):j(f)},onClose:()=>{E.destroy(),O(new Error(V))},renderContent:Z=>A.default.createElement(Z,null,A.default.createElement("div",{className:B.title},e("extension_toast_title_transaction_replace")),A.default.createElement("div",{className:B.subtitle},e("extension_toast_subtitle_gasincrease")),A.default.createElement("div",{className:B.feeTitle},e("extension_toast_title_current_transaction")),A.default.createElement("div",{className:B.fee},A.default.createElement("div",{className:B.feeDetail},D),A.default.createElement("div",{className:B.gasDetail},H)),A.default.createElement("div",{className:B.feeTitle},e("extension_toast_title_gasprice")),A.default.createElement("div",{className:B.fee},A.default.createElement("div",{className:B.speedDetail},M),A.default.createElement("div",{className:B.gasDetail},$)))})})}},tn=wn;var Fn=()=>{let o=tn();return async({coinId:s,baseCoinAmountUse:u,userGasInfo:b,serverGasInfo:P,serverSignInfo:T,originTxGasInfo:d,fetchParams:_})=>{let g=$e({userGasInfo:b,serverGasInfo:P,originTxGasInfo:d});return g?.gasPrice||g?.maxFeePerGas?(await o({coinId:s,baseCoinAmountUse:u,userGasInfo:b,updateGasInfo:g,serverSignInfo:T,fetchParams:_}),Promise.resolve(g)):Promise.resolve()}},on=Fn;var Cn=({onCancel:o,getDialog:r,resolve:s,reject:u,newNonce:b})=>()=>{if(o){o(r(),{resolve:s,reject:u});return}r().destroy(),s({nonce:b})},vn=({updateGasInfo:o,resolve:r,onChainNonce:s})=>{r(o?{nonce:s,updateGasInfo:o}:{nonce:s})},Gn=()=>{let o=on();return async({coinId:s,baseCoinAmountUse:u="0",showSelectNonceDialog:b=!1,onChainNonce:P="0",newNonce:T="0",userGasInfo:d={},serverGasInfo:_={},serverSignInfo:g={},originTxGasInfo:w={},fetchParams:i={},title:c="",text:t="",confirmText:f="",cancelText:m="",onConfirm:x,onCancel:I})=>new Promise((a,y)=>{if(b){let C=R.prompt({hideCloseBtn:!0,alignBottom:!1,titleCenter:!1,infoType:null,cancelBtnProps:{category:F.CATEGORY.outline,size:F.SIZE.lg},confirmBtnProps:{type:F.TYPE.highlight,size:F.SIZE.lg},confirmText:f,cancelText:m,onConfirm:async()=>{if(x){await x(C,{resolve:a,reject:y});return}C.destroy();try{let G=await o({coinId:s,baseCoinAmountUse:u,userGasInfo:d,serverGasInfo:_,serverSignInfo:g,originTxGasInfo:w,fetchParams:i});vn({updateGasInfo:G,resolve:a,onChainNonce:P})}catch(G){y(G)}},onCancel:Cn({onCancel:I,resolve:a,reject:y,newNonce:T,getDialog:()=>C}),renderContent:G=>J.default.createElement(G,null,J.default.createElement("div",{className:te.content},J.default.createElement("div",{className:te.title},c),J.default.createElement("div",{className:te.text},t)))})}else a({nonce:T})})},q=Gn;var Sn=()=>{let o=q();return async({coinId:s,baseCoinAmountUse:u,hasFailedTx:b,onChainNonce:P,newNonce:T,userGasInfo:d,serverGasInfo:_,originTxGasInfo:g,serverSignInfo:w,fetchParams:i,txToastCheckData:c})=>{let t=c?.find(a=>a?.checkType===U.OVERWRITTEN)||{},{popUpTitle:f,popUpDesc:m,primaryButtonName:x,secondaryButtonName:I}=t||{};return o({coinId:s,baseCoinAmountUse:u,showSelectNonceDialog:b,onChainNonce:P,newNonce:T,userGasInfo:d,serverGasInfo:_,serverSignInfo:w,originTxGasInfo:g,fetchParams:i,title:f||e("wallet_extension_transaction_popup_failed_transaction"),text:m||e("wallet_extension_transaction_popup_replace_failed_transaction"),confirmText:x||e("wallet_extension_transaction_popup_btn_replace"),cancelText:I||e("wallet_extension_transaction_popup_btn_skip")})}},rn=Sn;l();p();var An=()=>{let o=q();return async({coinId:s,baseCoinAmountUse:u,hasPending7702Tx:b,onChainNonce:P,newNonce:T,userGasInfo:d,serverGasInfo:_,originTxGasInfo:g,serverSignInfo:w,fetchParams:i,txToastCheckData:c})=>{let t=c?.find(a=>a?.checkType===U.OVERWRITTEN)||{},{popUpTitle:f,popUpDesc:m,primaryButtonName:x,secondaryButtonName:I}=t||{};return o({coinId:s,baseCoinAmountUse:u,showSelectNonceDialog:b,onChainNonce:P,newNonce:T,userGasInfo:d,serverGasInfo:_,serverSignInfo:w,fetchParams:i,originTxGasInfo:g,title:f,text:m,confirmText:x,cancelText:I,onConfirm:(a,{resolve:y})=>{a.destroy(),y({nonce:T})},onCancel:(a,{reject:y})=>{a.destroy(),y(new Error(V))}})}},an=An;l();p();var Nn=()=>{let o=q();return async({coinId:s,baseCoinAmountUse:u,hasPendingTx:b,onChainNonce:P,newNonce:T,userGasInfo:d,serverGasInfo:_,originTxGasInfo:g,serverSignInfo:w,fetchParams:i,txToastCheckData:c})=>{let t=c?.find(a=>a?.checkType===U.OVERWRITTEN)||{},{popUpTitle:f,popUpDesc:m,primaryButtonName:x,secondaryButtonName:I}=t||{};return o({coinId:s,baseCoinAmountUse:u,showSelectNonceDialog:b,onChainNonce:P,newNonce:T,userGasInfo:d,serverGasInfo:_,serverSignInfo:w,fetchParams:i,originTxGasInfo:g,title:f||e("wallet_extension_transaction_popup_pending_transaction"),text:m||e("wallet_extension_transaction_popup_replace_pending_transaction"),confirmText:x||e("wallet_extension_transaction_popup_btn_replace"),cancelText:I||e("wallet_extension_transaction_popup_btn_continue_wait")})}},sn=Nn;l();p();hn();var En=()=>async({isRepeat:r,onCancel:s})=>new Promise((u,b)=>{if(r){let P=R.prompt({alignBottom:!1,hideCloseBtn:!0,infoType:R.Prompt.INFO_TYPE.warn,confirmBtnProps:{type:F.TYPE.highlight,size:F.SIZE.lg},cancelBtnProps:{category:F.CATEGORY.outline,size:F.SIZE.lg},title:e("wallet_extension_popup_repeat_order"),confirmText:e("wallet_extension_popup_repeat_order_btn_continue"),cancelText:s?e("wallet_extension_popup_repeat_order_btn_viewhistory"):null,text:e("wallet_extension_popup_repeat_order_desc"),onConfirm:()=>{P.destroy(),u()},onCancel:()=>{P.destroy(),_e(s)&&s(),b(new Error(V))}})}else u()}),un=En;var Lo=()=>{let o=rn(),r=sn(),s=un(),u=an(),b=async({coinId:d,from:_,to:g,amount:w,gasPrice:i,authorizationList:c,stateOverrideList:t})=>{let[{data:f=[]},{data:m={}}]=await Promise.all([we({checkTypes:[U.REPEAT,U.OVERWRITTEN],coinId:d,from:_,to:g,amount:w,gasPrice:i,authorizationList:c,stateOverrideList:t}),ke({coinId:d,fromAddr:_,scenario:Ie.SCENARIO_SEND_COIN})]);return{txToastCheckData:f,signInfoData:m}},P=d=>{let{hasFailedTx:_,hasPendingTx:g,hasPending7702Tx:w,nonce:i,newNonce:c,originGasPrice:t,originPriorityFee:f}=qe(d),m=Ze(d,U.REPEAT);return{hasFailedTx:_,hasPendingTx:g,hasPending7702Tx:w,nonce:i,newNonce:c,originGasPrice:t,originPriorityFee:f,isRepeat:m}};return async({coinId:d,from:_,to:g,amount:w,gasPrice:i,authorizationList:c,stateOverrideList:t,baseCoinAmountUse:f,userGasInfo:m,whetherCheckRepeat:x,onRepeatCancel:I})=>{let a=[],y={};try{let E=await b({coinId:d,from:_,to:g,amount:w,gasPrice:i,authorizationList:c,stateOverrideList:t});if(!Array.isArray(E.txToastCheckData)||typeof E.signInfoData!="object")throw new Error(e("wallet_home_toast_network_error"));a=E.txToastCheckData,y=E.signInfoData?.info||{}}catch(E){throw new Error(E?.msg||e("wallet_home_toast_network_error"))}let C=P(a),{nonce:G,newNonce:W,originGasPrice:L,originPriorityFee:Y,hasFailedTx:D,hasPendingTx:H,hasPending7702Tx:N,isRepeat:M}=C,$={originGasPrice:L,originPriorityFee:Y},j={coinId:d,baseCoinAmountUse:f,onChainNonce:G,newNonce:W,userGasInfo:m,serverGasInfo:y.gasPrice,serverSignInfo:y,originTxGasInfo:$,fetchParams:{amount:w,coinId:d,from:_,gasPrice:i,to:g}},O={nonce:W};return D?O=await o({...j,hasFailedTx:D,txToastCheckData:a}):H?O=await r({...j,hasPendingTx:H,txToastCheckData:a}):N&&(O=await u({...j,hasPending7702Tx:N,txToastCheckData:a})),x&&await s({isRepeat:M,onCancel:I}),O}};export{Bn as a,mt as b,Lo as c};
//# sourceMappingURL=chunk-DZPLORMY.js.map
