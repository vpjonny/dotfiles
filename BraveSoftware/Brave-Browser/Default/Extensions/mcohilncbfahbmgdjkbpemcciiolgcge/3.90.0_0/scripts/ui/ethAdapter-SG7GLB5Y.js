import{a as R,g,h as m}from"./chunk-EDLQW4CA.js";import"./chunk-TO4NOIO7.js";import"./chunk-B65TWR5I.js";import{a as S}from"./chunk-A2QCZBSN.js";import"./chunk-W2ZIP7RZ.js";import"./chunk-WK2UVA5P.js";import"./chunk-L33HNSY3.js";import"./chunk-TFTCL6XD.js";import"./chunk-OLICTWCW.js";import{a as w,b as l}from"./chunk-U5DGHXS4.js";import"./chunk-SDBZJWGW.js";import"./chunk-F3ILJHGP.js";import"./chunk-6M37VPK2.js";import"./chunk-WOJGOC63.js";import{m as M}from"./chunk-3F7OC7N7.js";import"./chunk-HZOYPVSA.js";import"./chunk-Z4GX4TH2.js";import"./chunk-OKGWI7CU.js";import{D as c}from"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-WN3TRBGI.js";import"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import{f as K}from"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import{Z as a}from"./chunk-EQ34WRCJ.js";import"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import"./chunk-DOSBJ3L3.js";import"./chunk-3O2IEAHF.js";import"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-I2AEM4CA.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import"./chunk-FB3ILH2L.js";import"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-4C5HF6J2.js";import"./chunk-U6W3TK77.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-F5YUOHHL.js";import"./chunk-EL77VG5Z.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as h,o as x,p,q as P}from"./chunk-UWURTNRY.js";x();P();var o=h(R()),u=h(K());var d=class{constructor(){this.signTransaction=async(t,e,n)=>{e=S(e);let r=await w(e),s=r.getMessageToSign(!1),i=p.Buffer.isBuffer(s)?s.toString("hex"):u.rlp.encode(s).toString("hex"),{type:y,chainId:D}=e,E={path:t.hdPathMap[a],chainId:D,requestId:c().toLowerCase(),signData:i,dataType:y===M.FEE_MARKET?o.KeystoneEthereumSDK.DataType.typedTransaction:o.KeystoneEthereumSDK.DataType.transaction,xfp:t.masterFingerprint},C=await m.openModal(g.showTxParams,{signRequest:E,baseChain:a}),T=p.Buffer.from(C,"hex"),A=T.slice(0,32),b=T.slice(32,64),q=T.slice(64),f=await l(r,{r:A,s:b,v:q});return n?f:{rawTxResult:f}};this.signTypedData=async(t,e)=>{let n=t.hdPathMap?.[a];if(!["V4","V3"].includes(e.version))throw new Error("this version of typed data signing is no't supported");let s=p.Buffer.from(e.data,"utf-8"),i={path:n,requestId:c().toLowerCase(),signData:s,dataType:o.KeystoneEthereumSDK.DataType.typedData,xfp:t.masterFingerprint};return`0x${await m.openModal(g.showTxParams,{signRequest:i,baseChain:a})}`}}async signPersonalMessage(t,e){let n=t.hdPathMap[a],r=(0,u.stripHexPrefix)(e.data),s={path:n,requestId:c().toLowerCase(),signData:r,dataType:o.KeystoneEthereumSDK.DataType.personalMessage,xfp:t.masterFingerprint};return`0x${await m.openModal(g.showTxParams,{signRequest:s,baseChain:a})}`}},H=new d;export{H as default};
//# sourceMappingURL=ethAdapter-SG7GLB5Y.js.map
