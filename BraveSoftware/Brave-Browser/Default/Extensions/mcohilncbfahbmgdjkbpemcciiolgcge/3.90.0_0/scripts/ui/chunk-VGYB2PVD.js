import{a as B}from"./chunk-BYDDPVAA.js";import{L as T}from"./chunk-UI4IZNSB.js";import{b as N,d as _,h as E}from"./chunk-EQ34WRCJ.js";import{s as o}from"./chunk-DSNMNSMD.js";import{ca as P,fa as y,o as h,r as L}from"./chunk-URGJ6D4O.js";import{w as A}from"./chunk-XYWWXNVK.js";import{b as I}from"./chunk-FLSAETOH.js";import{f as k,n as process,o as l,q as m}from"./chunk-UWURTNRY.js";l();m();var n=k(I()),R=k(N());l();m();var u=k(I());l();m();var D=k(N());var F={version:D.default.runtime.getManifest().version,manifest:D.default.runtime.getManifest(),id:D.default.runtime.id,buildType:process.env.ASSETS_BUILD_TYPE};var v=()=>{let i=B("apiDomain",{...F,location:window.location.href}),[s,w]=(0,u.useState)([]),[t,r]=(0,u.useState)([]);return(0,u.useEffect)(()=>{(async()=>{if(i?.data){await _.set({networkChangeAPIDomain:i.data?.apiDomain}),w(i.data?.apiDomain);return}let{networkChangeAPIDomain:e=[]}=await _.get("networkChangeAPIDomain");w(e)})()},[i]),(0,u.useEffect)(()=>{(async()=>{let e=[],f=[],{apiDomain:d}=await _.get("apiDomain");for(let a=0,g=s.length;a<g;a++)f.push({url:s[a],status:-1,checked:d===s[a]}),e.push((c=>new Promise(b=>{let C={url:c,checked:d===c};T(`${c}${E.app.tryPaths.apiDomain.url}`,{},{timeout:2e3}).then(()=>{b({...C,status:1})}).catch(()=>{b({...C,status:0})})}))(s[a]));r(f),Promise.allSettled(e).then(a=>{let g=[];a.forEach(c=>{c.status==="fulfilled"&&g.push(c.value)}),r(g)}).catch(()=>{})})()},[s[0]]),t};l();m();var p={networkHeight:"_networkHeight_1ifa0_1",networkName:"_networkName_1ifa0_9",networkIcon:"_networkIcon_1ifa0_14",networkDisable:"_networkDisable_1ifa0_19",networkPadding:"_networkPadding_1ifa0_23"};var x={AVAILABLE:1,FAILED:0,LOADING:-1},O={FOCUSABLE:0,NOT_FOCUSABLE:-1},H=1,U=()=>{let i=v(),s=(t,r)=>{r&&h.warn({alignBottom:!1,title:o("wallet_extension_settings_popup_title_restart_extension"),text:o("wallet_extension_settings_popup_text_restart_extension"),cancelText:o("wallet_extension_settings_popup_btn_not_now"),confirmText:o("wallet_extension_settings_popup_btn_restart"),onConfirm:async()=>{await _.set({userChooseNetwork:x.AVAILABLE}),await _.set({apiDomain:t.url}),R.default.runtime.reload()}})},w=(t,r,e)=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),s(r,e))};return n.default.createElement("div",{className:p.networkPadding},i.map((t,r)=>{let e=t.status===x.AVAILABLE,f=`${r+H}`,d=e?O.FOCUSABLE:O.NOT_FOCUSABLE;return n.default.createElement("div",{key:t.url,onClick:()=>{s(t,e)},onKeyDown:a=>{w(a,t,e)},role:"button",tabIndex:d,"aria-label":o("wallet_extension_settings_text_server1",{num:f}),className:`${p.networkHeight} ${e?"":p.networkDisable}`},n.default.createElement("span",{className:p.networkName},o("wallet_extension_settings_text_server1",{num:f})),e&&n.default.createElement(y,null,o("wallet_extension_settings_tag_available")),t.status===x.FAILED&&n.default.createElement(P,null,o("wallet_extension_settings_tag_failed")),t.status===x.LOADING&&n.default.createElement(A,{size:A.SIZE.sm}),e&&t.checked&&n.default.createElement(L.Circle,{checked:!0,className:p.networkIcon}))}))},mt=()=>{h.action({noTopRadius:!1,title:o("wallet_extension_settings_select_text_switch_servers"),children:n.default.createElement(U,null)})},_t=({visible:i=!1,onClose:s=()=>{}})=>n.default.createElement(h.Action,{visible:i,onClose:s,title:o("wallet_extension_settings_select_text_switch_servers")},n.default.createElement(U,null));export{F as a,mt as b,_t as c};
//# sourceMappingURL=chunk-VGYB2PVD.js.map
