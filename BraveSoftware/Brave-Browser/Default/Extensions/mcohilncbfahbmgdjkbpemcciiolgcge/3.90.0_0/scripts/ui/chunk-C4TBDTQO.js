import{b as ge}from"./chunk-DKVOSSSH.js";import{k as Ie}from"./chunk-V7YATDMZ.js";import{a as fe}from"./chunk-UX2JFEX5.js";import{g as pe}from"./chunk-YLT6ZRGE.js";import{na as ae}from"./chunk-VHMBEOFX.js";import{b as me}from"./chunk-YVLQLIW6.js";import{o as H}from"./chunk-N6PI3XTA.js";import{a as Z,g as ue}from"./chunk-MJSLAJV6.js";import{B as _e,n as ce}from"./chunk-KC2XLVFC.js";import{ga as se,ha as le}from"./chunk-3F7OC7N7.js";import{c as x}from"./chunk-3FMJDUGT.js";import{Hb as ie}from"./chunk-EQ34WRCJ.js";import{k as oe,p}from"./chunk-DSNMNSMD.js";import{g as B}from"./chunk-URGJ6D4O.js";import{t as $}from"./chunk-XYWWXNVK.js";import{a as Be}from"./chunk-FB3ILH2L.js";import{b as te}from"./chunk-FLSAETOH.js";import{Aa as re,Q as j,f as ne}from"./chunk-4C5HF6J2.js";import{f as X,o as l,q as a}from"./chunk-UWURTNRY.js";l();a();var r={NORMAL:"NORMAL",FEE_ERROR:"FEE_ERROR",...le,...se},de={[r.BALANCE_INSUFFICIENT]:"wallet_transfer_errortip_insufficient_balance",[r.FEE_ERROR]:"wallet_extension_alert_estimate_unavailable",[r.DEFRAUD]:"wallet_extension_protocol_toast_risk_warning_desc",[r.SIMILAR]:"wallet_extension_modaldesc_riskaddress"};l();a();var Te={"retina-border-basic":"_retina-border-basic_rvlw9_1",retinaBorderBasic:"_retina-border-basic_rvlw9_1",headerTip:"_headerTip_rvlw9_29","tip-message-link":"_tip-message-link_rvlw9_65",tipMessageLink:"_tip-message-link_rvlw9_65",headerTipWarning:"_headerTipWarning_rvlw9_68",headerTipContent:"_headerTipContent_rvlw9_72",headerTipMsg:"_headerTipMsg_rvlw9_75",headerTipAction:"_headerTipAction_rvlw9_83"};l();a();var t=X(te());re();l();a();var _=X(te());var S=X(Be());l();a();var c={alert:"_alert_hzexv_1","alert-highlight":"_alert-highlight_hzexv_6",alertHighlight:"_alert-highlight_hzexv_6",alertIcon:"_alertIcon_hzexv_10",alertTitle:"_alertTitle_hzexv_13",alertDesc:"_alertDesc_hzexv_16",alertSuffix:"_alertSuffix_hzexv_19",alertAction:"_alertAction_hzexv_22","alert-blocking":"_alert-blocking_hzexv_25",alertBlocking:"_alert-blocking_hzexv_25","alert-non-blocking":"_alert-non-blocking_hzexv_44",alertNonBlocking:"_alert-non-blocking_hzexv_44",alertClickable:"_alertClickable_hzexv_63",alertContent:"_alertContent_hzexv_67",alertDescOnly:"_alertDescOnly_hzexv_86",alertActions:"_alertActions_hzexv_99",alertActionIcon:"_alertActionIcon_hzexv_113"};var J=(s=>(s.HIGHLIGHT="highlight",s.BLOCKING="blocking",s.NON_BLOCKING="non-blocking",s))(J||{}),Ne=(i=>(i.ARROW="arrow",i.REFRESH="refresh",i))(Ne||{}),Fe={["highlight"]:"okx-wallet-plugin-information",["blocking"]:"okx-wallet-plugin-warning-circle",["non-blocking"]:"okx-wallet-plugin-information"},q={["arrow"]:"okx-wallet-plugin-arrow-small-right",["refresh"]:"okx-wallet-plugin-rotate"},Q=({type:e="non-blocking",icon:n,title:i,description:s,suffix:f,onClick:d,actions:u=[],className:A,hidden:G=!1})=>{let C=(0,_.useRef)(null),T=(_e(C)?.height||0)>20;if(G)return null;let O=n||Fe[e],m=u.length>1,b=!!d||u.length===1&&!!u[0]?.onClick,N=d||(u.length===1?u[0]?.onClick:void 0),I=(()=>f!==void 0?q[f]:b&&!m?u[0]?.useRefresh?q["refresh"]:q["arrow"]:null)(),v=_.default.createElement(x.Box,{ref:C,className:c.alertContent},i&&_.default.createElement(H.Text,{strong:!0,className:c.alertTitle},i),s&&_.default.createElement(H.Text,{className:(0,S.default)(c.alertDesc,{[c.alertDescOnly]:!i})},s),m&&_.default.createElement(x.Box,{className:c.alertActions},u.map(({btnText:g,onClick:w},z)=>{let E=z;return _.default.createElement(H.Text,{key:E,className:c.alertAction,onClick:U=>{U.stopPropagation(),w?.()}},g)})));return _.default.createElement(x.FlexBox,{className:(0,S.default)(c.alert,c[`alert-${e}`],{[c.alertClickable]:b&&!m},A),align:T?x.ALIGN.start:x.ALIGN.center,onClick:m?void 0:N},_.default.createElement($,{className:(0,S.default)(O,c.alertIcon)}),v,I&&!m&&_.default.createElement($,{className:(0,S.default)(I,c.alertSuffix)}))};Q.TYPE=J;Q.SUFFIX=Ne;var xe=_.default.memo(Q);l();a();re();var Se=[r.BALANCE_INSUFFICIENT,r.FEE_BALANCE_INSUFFICIENT],Oe=[r.COMMON_TIP,r.NORMAL],ve=e=>Se.includes(e)?"highlight":Oe.includes(e)?"non-blocking":"blocking",we=e=>e===306001?"highlight":e===306002?"non-blocking":"blocking",Ae=(e,n)=>j(e)?j(n)?"non-blocking":we(n):ve(e);var Pe=({text:e,track:n})=>{let i=fe();return t.default.createElement(t.default.Fragment,null,e,t.default.createElement(B,{className:Te["tip-message-link"],type:B.TYPE.primary,weight:B.WEIGHT.muted,size:B.SIZE.xs,onClick:()=>{ne(n)&&n(),setTimeout(()=>{globalThis.platform.openTab({url:i?.scamsUrl})},100)}},p("wallet_extension_scam_toast_link_view_scams")))};function Re(e,n,i,s){if([r.DEFRAUD,r.SIMILAR].includes(e)){let f=!!s&&ue(s),d=e===r.DEFRAUD?n?.msg:p(i,{contractaddress:f});return t.default.createElement(Pe,{track:ae,text:d})}return null}var He=(e,n)=>!e||!n?void 0:ie[n]?.[e],Ge=(e,n)=>{let i=(0,t.useMemo)(()=>He(n,e?.localType),[n,e?.localType]);return ge(e?.coinId,i)},Me=({type:e,coinId:n,addressType:i,inherit:s,address:f,walletId:d,className:u,message:A,hidden:G,actions:C=[],renderActions:h,renderMessage:T,blockAddressInfo:O,supportGasStation:m=!0,icon:b,renderIcon:N,title:M,renderTitle:I,level:v,maxNetworkFee:g,useMinPrecision:w=!0})=>{let[z,{toggle:E}]=ce(!1),[U,Ce]=(0,t.useState)(n),[k,o]=pe(n),V=Ge(o,i),he=k?.baseCoinId===0,D=(0,t.useMemo)(()=>{if(!!g)return w?oe.div(g,10**(o?.decimals||0)):g},[o?.decimals,g,w]),be=(0,t.useMemo)(()=>Ae(e,v),[e,v]),P=e===r.FEE_BALANCE_INSUFFICIENT?o?.symbol:k?.symbol,R=(0,t.useMemo)(()=>!!e&&[r.BALANCE_INSUFFICIENT,r.FEE_BALANCE_INSUFFICIENT].includes(e)&&m&&!s,[e,m,s]),Ee=(0,t.useMemo)(()=>N&&typeof N=="function"?N(e):b,[b,N,e]),K=(0,t.useMemo)(()=>{if(T&&typeof T=="function"){let L=T(e);if(L)return L}if(k?.symbol&&e===r.FEE_BALANCE_INSUFFICIENT){let L=Z(V?.coinAmount,{precision:o?.displayPrecision,symbol:o?.symbol,useLargeNumberPrecision:!0}).value;if(D){let Le=Z(D,{symbol:o?.symbol,precision:o?.displayPrecision,isStableCoin:o?.stableCoin,useLargeNumberPrecision:!0}).value;return p("wallet_extension_transfer_notification_desc_balance_netfee",{numtoken1:o?.symbol,value1:L,numtoken2:o?.symbol,value2:Le})}return p("wallet_extension_toast_insufficient_balance_amount",{token:o?.symbol,balance:L})}if(A)return A;if(!e)return null;let y=de[e],ee=Re(e,O,y,f);return ee||p(y,{chainSymbol:k?.symbol})},[T,k?.symbol,e,A,he,o?.symbol,o?.displayPrecision,V?.coinAmount,f,O,D]),W=(0,t.useMemo)(()=>I&&typeof I=="function"?I(e):R?p("wallet_extension_transfer_notification_title_insuff_balance",{symbol:P}):M,[M,I,e,P,R]),Y=(0,t.useMemo)(()=>h&&typeof h=="function"?h(e)||[]:C,[C,h,e]),ke=(0,t.useMemo)(()=>{let y=[];return R?(y=[{btnText:p("wallet_extension_placeorder_textbtn_replenish",{token:P}),onClick:()=>{E(),Ce(e===r.FEE_BALANCE_INSUFFICIENT?o?.coinId:n)}}],[...y,...Y]):Y},[R,Y,P,E,e,o?.coinId,n]),ye=(0,t.useMemo)(()=>!!W||!!K,[W,K]);return G||!ye?null:t.default.createElement(t.default.Fragment,null,t.default.createElement(me,{offsetTop:0,style:{zIndex:10}},t.default.createElement(xe,{title:W,type:be,description:K,actions:ke,icon:Ee,className:u})),m&&t.default.createElement(Ie,{address:f,visible:z,walletId:d,coinId:U,closeCallback:E}))},wt=t.default.memo(Me);export{r as a,de as b,Te as c,wt as d};
//# sourceMappingURL=chunk-C4TBDTQO.js.map
