import{a as Rt,b as Ot}from"./chunk-SCCWM4HB.js";import{a as Ft}from"./chunk-TM6U6DRJ.js";import{a as ot}from"./chunk-NP6SC5QM.js";import{a as Dt}from"./chunk-PDAPPSN7.js";import{a as Pt}from"./chunk-K4DJNG3I.js";import"./chunk-J5B5KBXF.js";import"./chunk-4AIWJOGE.js";import{a as Mt}from"./chunk-PY4VO5M7.js";import{a as At}from"./chunk-JXVJV7BH.js";import"./chunk-QR6SNDPA.js";import"./chunk-DB7NVRTE.js";import"./chunk-XHRUTTJG.js";import{a as St}from"./chunk-B5L26Z2J.js";import{d as vt}from"./chunk-AVG63QW4.js";import"./chunk-NVBOE3PE.js";import"./chunk-TXIKSV43.js";import"./chunk-LQJXR5XX.js";import{a as It,e as Lt}from"./chunk-M43NTBTB.js";import{a as Nt}from"./chunk-JMNZU6WB.js";import{c as k}from"./chunk-PMG6IXOR.js";import{a as b}from"./chunk-BD5XO4WL.js";import{a as W,b as wt,d as yt}from"./chunk-7U7FORYL.js";import{b as bt}from"./chunk-YVLQLIW6.js";import{a as kt}from"./chunk-HBXZ3GPM.js";import"./chunk-6C7RJCTT.js";import{o as d}from"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-SI5WJURV.js";import"./chunk-ARDRUD4P.js";import"./chunk-WYX7GFOD.js";import"./chunk-G6PA2JD3.js";import"./chunk-N2N44VBE.js";import"./chunk-ZDJRNLYZ.js";import"./chunk-RV5WZKGQ.js";import"./chunk-MJSLAJV6.js";import{q as ft}from"./chunk-KC2XLVFC.js";import{qa as Ct}from"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import{h as dt}from"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import{$ as Tt,Ja as xt,a as gt,aa as A}from"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import{c as _t}from"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-F3ILJHGP.js";import"./chunk-6M37VPK2.js";import"./chunk-WOJGOC63.js";import"./chunk-HZOYPVSA.js";import"./chunk-Z4GX4TH2.js";import{c as ut}from"./chunk-OKGWI7CU.js";import"./chunk-EPDR6VAQ.js";import"./chunk-RFTC6RNT.js";import"./chunk-I6UBKGB5.js";import"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import"./chunk-WN3TRBGI.js";import{c as y}from"./chunk-3FMJDUGT.js";import"./chunk-2O5TMJZM.js";import"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import"./chunk-EQ34WRCJ.js";import{p as i}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import{a as $}from"./chunk-DOSBJ3L3.js";import"./chunk-3O2IEAHF.js";import{R as K,q as et,x as V,y as Et}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{C as G,t as ht,w as tt}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as Z}from"./chunk-FB3ILH2L.js";import{b as h}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-NEASQB35.js";import"./chunk-4C5HF6J2.js";import"./chunk-U6W3TK77.js";import"./chunk-WJI4CIAQ.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-F5YUOHHL.js";import"./chunk-EL77VG5Z.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as p,o as t,q as e}from"./chunk-UWURTNRY.js";t();e();var s=p(h());var Jt=p($());t();e();var S=p(h());var Ut=p($());t();e();var R={tabs:"_tabs_8vwgq_1","tabs-container":"_tabs-container_8vwgq_5",tabsContainer:"_tabs-container_8vwgq_5","panel-list":"_panel-list_8vwgq_10",panelList:"_panel-list_8vwgq_10",right:"_right_8vwgq_19",left:"_left_8vwgq_22"};var Gt=({currentTab:o,onTabChange:r,tabsConfig:a})=>{let n=(0,Ut.useHistory)(),l=(0,S.useCallback)(m=>{r(m),n.replace(`${Tt}?tab=${String(m)}`)},[n]);return S.default.createElement(S.default.Fragment,null,S.default.createElement(K,{className:R.tabsContainer,headerClassName:R.tabs,panelListClassName:R.panelList,activeId:o,size:K.SIZE.xl,color:K.COLOR.grey,paneSpacing:24,noPadding:!0,noLine:!0,onChange:l,navLeftClassName:R.left,navRightClassName:R.right},a.map(m=>{let{title:_,id:w}=m;return S.default.createElement(K.TabPane,{tab:_,key:w,id:w},m.contentComponent)})))};t();e();var M=p(h()),Wt=p($()),$t=p(Z());t();e();var N=p(h()),Kt=p(Z());t();e();var F={"option-item":"_option-item_ecfdy_1",optionItem:"_option-item_ecfdy_1","option-icon":"_option-icon_ecfdy_5",optionIcon:"_option-icon_ecfdy_5",option:"_option_ecfdy_1","option-text":"_option-text_ecfdy_17",optionText:"_option-text_ecfdy_17","more-icon":"_more-icon_ecfdy_24",moreIcon:"_more-icon_ecfdy_24"};var ce=({onViewDetail:o,onDelete:r})=>{let a=(0,N.useMemo)(()=>[{icon:"okx-wallet-plugin-edit-wallet",label:i("extension_wallet_network_text_check_details"),value:"detail",action:o},{icon:"okx-wallet-plugin-trash",label:i("extension_wallet_network_text_remove_network"),value:"delete",action:r}],[o,r]),n=()=>N.default.createElement(k.IconButton,{icon:"okx-wallet-plugin-more",className:F.moreIcon}),l=({option:_})=>{let w=_;return N.default.createElement("div",{className:F.option},N.default.createElement(k,{className:(0,Kt.default)(w.icon,F.optionIcon)}),N.default.createElement("span",{className:F.optionText},w.label))},m=(0,N.useCallback)(_=>{_.preventDefault(),_.stopPropagation()},[]);return N.default.createElement("div",{onClick:m},N.default.createElement(V,{options:a,align:V.DIRECTION.right,optionAlign:V.DIRECTION.left,displayArea:n,renderOption:l,onChange:_=>{_?.action()},optionItemClassName:F.optionItem}))},Ht=ce;t();e();var E=p(h()),zt=p(Z());t();e();var C=p(h()),Bt=p(Z());t();e();var H={root:"_root_1lmgy_1",title__wrap:"_title__wrap_1lmgy_4",titleWrap:"_title__wrap_1lmgy_4",desc__wrap:"_desc__wrap_1lmgy_9",descWrap:"_desc__wrap_1lmgy_9",checkIcon:"_checkIcon_1lmgy_12"};var pe=({icon:o,name:r,rpcUrl:a,children:n,keyword:l,className:m,onClick:_,id:w,...g})=>{let I=Pt(),f=w===I,D=(0,C.useMemo)(()=>{if(o&&C.default.isValidElement(o))return o;let T={size:k.SIZE.lg};return o&&typeof o=="string"?{src:o,type:k.TYPE.image,defaultIcon:ut,...T}:o&&typeof o=="object"?{...T,...o}:r&&typeof r=="string"?{text:r,type:k.TYPE.text,textTheme:k.TEXT_THEME.black,...T}:!1},[o,r]);return C.default.createElement(It,{icon:D,className:(0,Bt.default)(H["wallet-list-token"],m),onClick:_,keyword:l,...g},C.default.createElement(y.FlexBox,{style:{flex:1,overflow:"hidden"},direction:y.DIRECTION.vertical},C.default.createElement(y.FlexBox,{align:y.ALIGN.center,className:H.title__wrap},C.default.createElement(d.HighlightKeyword,{strong:!0,text:r,keyword:l,ellipsis:{tooltip:!0}})),!!a&&C.default.createElement(y.FlexBox,{align:y.ALIGN.center,className:H.desc__wrap},C.default.createElement(d.Text,{strong:!0,ellipsis:{tooltip:!0},size:d.SIZE.xs,type:d.TYPE.secondary},a))),f&&C.default.createElement(k,{icon:"okx-wallet-plugin-check",className:H.checkIcon}),n)},qt=C.default.memo(pe);t();e();var Y={root:"_root_1dyrv_1","empty-container":"_empty-container_1dyrv_4",emptyContainer:"_empty-container_1dyrv_4","list-container":"_list-container_1dyrv_7",listContainer:"_list-container_1dyrv_7","search-mode":"_search-mode_1dyrv_11",searchMode:"_search-mode_1dyrv_11"};var L=({listData:o,keywords:r,onSelect:a,emptyText:n,renderCustomItem:l,isRpcMode:m,children:_,listContainerClassName:w,searchMode:g=!1})=>{let I=(0,E.useRef)(null),f=(0,E.useCallback)(T=>{let{chainName:q,icon:U,rpcUrl:X,id:J}=T||{};return E.default.createElement(qt,{id:T.id,name:q,icon:J===""?{size:"32px",fontSize:"32px",icon:U,type:"icon",text:q}:U,rpcUrl:X,keyword:r,onClick:()=>{a(T,m)}},l?.(T))},[r,a,m,l]),D=(0,E.useCallback)(()=>g?null:E.default.createElement(Et.State,{className:Y.emptyContainer,title:n??i("wallet_extension_cryptodetail_text_nodata_found")}),[n,g]);return E.default.createElement("div",{ref:I,className:(0,zt.default)(Y.listContainer,w,{[Y.searchMode]:g})},E.default.createElement(Lt,{virtualable:!g,itemKey:"id","data-testid":b.NETWORK_MANAGEMENT_PAGE.NETWORK_LIST,searchable:!1,dataSource:o,renderItem:f,renderEmpty:D}),_)};t();e();var rt={"list-container":"_list-container_15bwz_1",listContainer:"_list-container_15bwz_1",unScollListContainer:"_unScollListContainer_15bwz_5"};var j=({isEVMChainExisted:o,disableScroll:r=!1,...a})=>{let n=(0,Wt.useHistory)(),l=async()=>{window.location.href.includes("/home.html")||window.location.href.includes("/sidepanel.html")?n.push(A):Mt(A)},m=async f=>{n.push(`${A}?id=${encodeURIComponent(f.id)}&modify=${W.CAN}`)},_=Ft(),w=f=>{_({editRpcInfo:{uniqueId:f.id,rpcUrl:f.rpcUrl}})},g=f=>M.default.createElement(Ht,{onDelete:()=>{w(f)},onViewDetail:()=>{m(f)}}),I=o;return M.default.createElement(M.default.Fragment,null,M.default.createElement(L,{...a,listContainerClassName:(0,$t.default)({[rt.listContainer]:I,[rt.unScollListContainer]:r}),renderCustomItem:g},I&&M.default.createElement(bt.FooterActions,null,M.default.createElement(G,{block:!0,size:G.SIZE.lg,type:G.TYPE.highlight,category:G.CATEGORY.fill,onClick:l},i("developer_mode_network_maintitle_add_network")))))};t();e();var Vt=p(h());t();e();var Zt={"search-input":"_search-input_6izyw_1",searchInput:"_search-input_6izyw_1"};var Yt=({onSearch:o,searchKeyword:r})=>Vt.default.createElement(et.Search,{className:Zt.searchInput,"data-testid":b.NETWORK_MANAGEMENT_PAGE.NETWORK_SEARCH,placeholder:i("extension_wallet_network_input_search_network"),size:et.SIZE.md,value:r,onChange:a=>{let n=a.target.value;o(n)}});t();e();var it=p(h());var jt=p($());t();e();var nt={"more-icon":"_more-icon_61eiy_1",moreIcon:"_more-icon_61eiy_1","more-icon__core":"_more-icon__core_61eiy_5",moreIconCore:"_more-icon__core_61eiy_5"};var Q=o=>{let r=(0,jt.useHistory)();return it.default.createElement(L,{...o,renderCustomItem:n=>it.default.createElement(k.IconButton,{icon:"okx-wallet-plugin-more",className:nt.moreIcon,coreClassName:nt["more-icon__core"],onClick:l=>{l.preventDefault(),l.stopPropagation(),r.push(`${A}?id=${encodeURIComponent(n.id)}&modify=${W.CANT}`)}})})};t();e();var O=p(h());t();e();var Qt=o=>{let{onClose:r,visible:a,network:n}=o;return a?O.default.createElement(y.Portal,{component:y.Container,className:"net-loading"},O.default.createElement(ht,{onClick:r,className:"okx-wallet-plugin-close net-loading__close"}),O.default.createElement("div",{className:"net-loading__content"},O.default.createElement(tt,{size:tt.SIZE.xl}),O.default.createElement("div",{className:"net-loading__content-text"},i("developer_mode_mid_loading_connecting",{network:n})))):null};t();e();var u=p(h());t();e();var B={"list-title":"_list-title_1nee9_1",listTitle:"_list-title_1nee9_1","search-container":"_search-container_1nee9_6",searchContainer:"_search-container_1nee9_6"};function st(o){let{mainnetList:r,testnetList:a,customList:n,debouncedKeywords:l,onSelect:m}=o;return u.default.createElement("div",{className:B.searchContainer},r.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(d.Text,{className:B.listTitle,size:d.SIZE.xs,type:d.TYPE.secondary},i("extension_wallet_network_tab_main_network")),u.default.createElement(L,{listData:r,keywords:l,onSelect:m,isRpcMode:!1,searchMode:!0})):null,a.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(d.Text,{className:B.listTitle,size:d.SIZE.xs,type:d.TYPE.secondary},i("developer_mode_network_title_test_network")),u.default.createElement(Q,{listData:a,keywords:l,onSelect:m,isRpcMode:!0,searchMode:!0})):null,n.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(d.Text,{className:B.listTitle,size:d.SIZE.xs,type:d.TYPE.secondary},i("developer_mode_network_title_editcustom")),u.default.createElement(j,{isEVMChainExisted:!1,disableScroll:!0,listData:n,keywords:l,onSelect:m,isRpcMode:!0,searchMode:!0})):null)}t();e();var Xt={root:"_root_1basx_1","header-gulf":"_header-gulf_1basx_7",headerGulf:"_header-gulf_1basx_7"};var _e=()=>{let o=(0,Jt.useHistory)(),r=Ct(),a=St(),n=(0,s.useCallback)(()=>{o.replace(gt)},[o]),[l,m]=(0,s.useState)({rpcUrl:"",uniqueId:"",name:""}),_=(0,s.useRef)(l),{rpcNetworks:w}=yt(),g=Nt(),{error:I,loading:f,cancelTryRpc:D,retryTryRpcAsync:T,tryRpcAsync:q}=Rt({onSuccess:()=>{r(ot({isRpcMode:!0,currentNetworkUniqueId:_.current.uniqueId}))}}),[U,X]=(0,s.useState)(""),J=x=>{X(x)},[te,ee]=(0,s.useState)(parseInt(a.get("tab")||"0",10)),oe=x=>{ee(x)},P=ft(U,{wait:300}),{resetFilterInfo:re}=At(),{mainnetListForUI:at,customListForUI:lt,testnetListForUI:mt,isEVMChainExisted:ct}=Dt(P),{isRpcMode:ne}=kt(),ie=async x=>{let v=w.find(me=>me.uniqueId===x.id);if(ne&&wt(g,v)){o.replace(xt);return}v&&(m(v),_.current=v,await q(v.rpcUrl))},se=async x=>{await r(ot({isRpcMode:!1,currentNetworkUniqueId:x.id})),re(!0),n()},ae=async()=>{await _t().clearDappData(),await dt(r)},z=async(x,v)=>{await ae(),v?await ie(x):await se(x)},pt=ct?i("wallet_extension_cryptodetail_text_nodata_found"):i("extension_wallet_network_text_unused_testnet"),le=[{title:s.default.createElement("div",{"data-testid":`${b.NETWORK_MANAGEMENT_PAGE.CHAIN_TABS}-extension_wallet_network_tab_main_network`},i("extension_wallet_network_tab_main_network")),id:0,contentComponent:s.default.createElement(L,{listData:at,keywords:P,onSelect:z,isRpcMode:!1})},{title:s.default.createElement("div",{"data-testid":`${b.NETWORK_MANAGEMENT_PAGE.CHAIN_TABS}-developer_mode_network_title_test_network`},i("developer_mode_network_title_test_network")),id:1,contentComponent:s.default.createElement(Q,{listData:mt,keywords:P,onSelect:z,emptyText:pt,isRpcMode:!0})},{title:s.default.createElement("div",{"data-testid":`${b.NETWORK_MANAGEMENT_PAGE.CHAIN_TABS}-developer_mode_network_title_editcustom`},i("developer_mode_network_title_editcustom")),id:2,contentComponent:s.default.createElement(j,{isEVMChainExisted:ct,emptyText:pt,listData:lt,keywords:P,onSelect:z,isRpcMode:!0})}];return s.default.createElement(y.Container,{className:Xt.root},s.default.createElement(vt,{title:i("wallet_extension_top_maintitle_select_network"),onBack:n,closeable:!1}),s.default.createElement(Yt,{onSearch:J,searchKeyword:U}),P?s.default.createElement(st,{mainnetList:at,testnetList:mt,customList:lt,debouncedKeywords:P,onSelect:z}):s.default.createElement(Gt,{currentTab:te,onTabChange:oe,tabsConfig:le}),s.default.createElement(Ot,{visible:!!I&&!f,onRetry:T,onChangeNet:D,error:I}),s.default.createElement(Qt,{visible:f,network:l?.name,onClose:D}))},kn=_e;export{_e as NetworkManagement,kn as default};
//# sourceMappingURL=NetworkManagement-D7RP7HNB.js.map
