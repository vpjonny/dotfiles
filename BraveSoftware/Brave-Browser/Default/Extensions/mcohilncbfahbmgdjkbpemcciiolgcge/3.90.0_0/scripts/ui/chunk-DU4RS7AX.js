import{d as n}from"./chunk-EQ34WRCJ.js";import{o as c,q as i}from"./chunk-UWURTNRY.js";c();i();var a="ok_okex_wallet",u=[],r=!1;function g(t){typeof queueMicrotask=="function"?queueMicrotask(t):setTimeout(t,0)}async function f(){let t=u.shift();if(!t){r=!1;return}try{await t()}catch{}g(f)}function h(){r||(r=!0,g(f))}function w(t){return new Promise((o,s)=>{u.push(async()=>{try{await t(),o()}catch(e){throw s(e instanceof Error?e:new Error(String(e))),e}}),h()})}async function m(t,o){await w(async()=>{let{[a]:s}=await n.get(a),e=s||{};e[t]=o,await n.set({[a]:e}),new BroadcastChannel("okx-chrome-storage").postMessage({key:t})})}async function p(t){let{[a]:o}=await n.get(a);return(o||{})[t]}async function y(t){await w(async()=>{let{[a]:o}=await n.get(a),s=o||{};delete s[t],await n.set({[a]:s}),new BroadcastChannel("okx-chrome-storage").postMessage({key:t})})}export{m as a,p as b,y as c};
//# sourceMappingURL=chunk-DU4RS7AX.js.map
