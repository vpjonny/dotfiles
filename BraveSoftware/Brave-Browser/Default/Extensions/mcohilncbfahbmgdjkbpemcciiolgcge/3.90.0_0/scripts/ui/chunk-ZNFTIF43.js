import{b as $i,c as $d,d as Zi,e as Ji}from"./chunk-D52EE5TC.js";import{a as Ge,b as Md,c as Fn,d as Bn,e as Fd,f as Bd,h as Ud,i as Vd,k as Wd}from"./chunk-FEU7MNAN.js";import{c as Nd}from"./chunk-CWNI35TN.js";import{b as Gd,c as Hd}from"./chunk-E6SXR3B6.js";import{b as ji,f as Mn,g as ao,h as ue,i as Xd,j as Zd,k as Yi,l as Xi,m as Jd,n as Jt,o as uo,p as rl}from"./chunk-GTBNRR37.js";import{a as Vn}from"./chunk-UUOZSCBD.js";import{a as Dd,b as qi,d as Od}from"./chunk-A7FGCMOW.js";import{b as Yd,d as el}from"./chunk-V2CZ7DY4.js";import{a as fe}from"./chunk-3PLVXUNW.js";import{b as lo,d as mo}from"./chunk-HIUQCAJS.js";import{a as dt}from"./chunk-S6FHNOIH.js";import{c as Qi,d as Qd}from"./chunk-RKCZ2ONP.js";import{b as Ki,c as Ld,d as at}from"./chunk-CJAFGYQK.js";import{b as Pd}from"./chunk-KF7FMIRD.js";import{b as tl}from"./chunk-N4IYN7DD.js";import{a as qd,d as Un,e as jd,f as Kd,h as zd,k as zi}from"./chunk-UY2DPNBT.js";import{a as Rd,c as Pe}from"./chunk-RZETZIQO.js";import{Ba as Wt,Da as Ot,Ea as re,O as ad,Ta as md,U as Vo,Ua as cd,Wa as pd,Ya as Pn,Za as fd,cb as _d,db as Rn,eb as gd,fa as Ln,fb as hd,g as Gi,gb as Td,h as sd,hb as Sd,ia as dd,ib as Id,kb as kd,lb as Nn,n as Vt,na as ld,oa as Hi,ob as xd,p as Dn,pa as Se,pb as yd,qb as Cd,rb as bd,sb as vd,ub as wd,va as J,vb as Ed,wb as Ad}from"./chunk-P5GHREX3.js";import{a as On}from"./chunk-3WKBEXBH.js";import{b as nd}from"./chunk-RK4OLGCC.js";import{a as ud}from"./chunk-NNPT43SF.js";import{a as Le}from"./chunk-VL2JCPJS.js";import{b as rd,i as od,l as An}from"./chunk-CTJAEFLV.js";import{A as vr,B as Vi,D as Wi,E as td,a as Ye,h as Uo,j as Dt,l as Y,m as Me,o as ee,s as wn,v as En,w as Ja,y as Xe,z as ed}from"./chunk-AP4E6GDF.js";import{$c as Ua,B as xr,D as yr,Dd as ja,Eb as La,F as pe,Fe as za,Ge as Ya,He as Xa,Ie as Za,J as Ea,Ke as p,Le as br,M as Aa,Nb as Mi,Qc as le,R as Cr,Rc as vn,S as At,Ta as Oa,Tc as st,Uc as Ba,Xc as ze,Yc as Bi,ad as Va,ae as Ka,bd as Wa,c as F,cd as Ui,d as M,db as so,dd as Ga,e as L,ec as Pa,ed as Ha,f as Ir,fd as qa,g as ba,gb as bn,ha as Da,hc as Ra,ic as Fi,j as io,jc as Na,je as $a,k as K,ke as Qa,l as nt,m as he,mc as Ma,n as va,nb as it,q as wa,s as kr,t as Bo,yc as Te,z as $,zc as Fa}from"./chunk-RPH2MNBW.js";import{ae as id}from"./chunk-ACIP3YF7.js";import{A as wt,I as Et,J as Qe,K as Sr,S as Ni,b as Fo,d as Pi,e as xa,g as Ri,o as Ca}from"./chunk-URGJ6D4O.js";import{C as ya,a as Cn,t as Ue,w as no}from"./chunk-XYWWXNVK.js";import{f as ka}from"./chunk-5CHTOVVG.js";import{a as de}from"./chunk-FB3ILH2L.js";import{b as U}from"./chunk-FLSAETOH.js";import{Aa as $e,C as ha,G as Ta,M as ot,O as Sa,P as Oi,Q as Tr,Z as oo,b as yn,ca as Ia,f as fa,fa as Li,g as _a,l as G,u as ga}from"./chunk-4C5HF6J2.js";import{c as rt,f as C,h,n as process,o as a,q as d}from"./chunk-UWURTNRY.js";var Ho=rt(Ve=>{a();d();var qc=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function jc(r,t){return Object.prototype.hasOwnProperty.call(r,t)}Ve.assign=function(r){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var e=t.shift();if(!!e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(var o in e)jc(e,o)&&(r[o]=e[o])}}return r};Ve.shrinkBuf=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};var Kc={arraySet:function(r,t,e,o,n){if(t.subarray&&r.subarray){r.set(t.subarray(e,e+o),n);return}for(var i=0;i<o;i++)r[n+i]=t[e+i]},flattenChunks:function(r){var t,e,o,n,i,s;for(o=0,t=0,e=r.length;t<e;t++)o+=r[t].length;for(s=new Uint8Array(o),n=0,t=0,e=r.length;t<e;t++)i=r[t],s.set(i,n),n+=i.length;return s}},$c={arraySet:function(r,t,e,o,n){for(var i=0;i<o;i++)r[n+i]=t[e+i]},flattenChunks:function(r){return[].concat.apply([],r)}};Ve.setTyped=function(r){r?(Ve.Buf8=Uint8Array,Ve.Buf16=Uint16Array,Ve.Buf32=Int32Array,Ve.assign(Ve,Kc)):(Ve.Buf8=Array,Ve.Buf16=Array,Ve.Buf32=Array,Ve.assign(Ve,$c))};Ve.setTyped(qc)});var Al=rt((Th,El)=>{a();d();function Qc(r,t,e,o){for(var n=r&65535|0,i=r>>>16&65535|0,s=0;e!==0;){s=e>2e3?2e3:e,e-=s;do n=n+t[o++]|0,i=i+n|0;while(--s);n%=65521,i%=65521}return n|i<<16|0}El.exports=Qc});var Ol=rt((kh,Dl)=>{a();d();function zc(){for(var r,t=[],e=0;e<256;e++){r=e;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t}var Yc=zc();function Xc(r,t,e,o){var n=Yc,i=o+e;r^=-1;for(var s=o;s<i;s++)r=r>>>8^n[(r^t[s])&255];return r^-1}Dl.exports=Xc});var Pl=rt((Ch,Ll)=>{a();d();var jn=30,Zc=12;Ll.exports=function(t,e){var o,n,i,s,l,c,u,m,g,T,_,S,y,x,b,A,N,w,k,P,D,R,B,H,O;o=t.state,n=t.next_in,H=t.input,i=n+(t.avail_in-5),s=t.next_out,O=t.output,l=s-(e-t.avail_out),c=s+(t.avail_out-257),u=o.dmax,m=o.wsize,g=o.whave,T=o.wnext,_=o.window,S=o.hold,y=o.bits,x=o.lencode,b=o.distcode,A=(1<<o.lenbits)-1,N=(1<<o.distbits)-1;e:do{y<15&&(S+=H[n++]<<y,y+=8,S+=H[n++]<<y,y+=8),w=x[S&A];t:for(;;){if(k=w>>>24,S>>>=k,y-=k,k=w>>>16&255,k===0)O[s++]=w&65535;else if(k&16){P=w&65535,k&=15,k&&(y<k&&(S+=H[n++]<<y,y+=8),P+=S&(1<<k)-1,S>>>=k,y-=k),y<15&&(S+=H[n++]<<y,y+=8,S+=H[n++]<<y,y+=8),w=b[S&N];r:for(;;){if(k=w>>>24,S>>>=k,y-=k,k=w>>>16&255,k&16){if(D=w&65535,k&=15,y<k&&(S+=H[n++]<<y,y+=8,y<k&&(S+=H[n++]<<y,y+=8)),D+=S&(1<<k)-1,D>u){t.msg="invalid distance too far back",o.mode=jn;break e}if(S>>>=k,y-=k,k=s-l,D>k){if(k=D-k,k>g&&o.sane){t.msg="invalid distance too far back",o.mode=jn;break e}if(R=0,B=_,T===0){if(R+=m-k,k<P){P-=k;do O[s++]=_[R++];while(--k);R=s-D,B=O}}else if(T<k){if(R+=m+T-k,k-=T,k<P){P-=k;do O[s++]=_[R++];while(--k);if(R=0,T<P){k=T,P-=k;do O[s++]=_[R++];while(--k);R=s-D,B=O}}}else if(R+=T-k,k<P){P-=k;do O[s++]=_[R++];while(--k);R=s-D,B=O}for(;P>2;)O[s++]=B[R++],O[s++]=B[R++],O[s++]=B[R++],P-=3;P&&(O[s++]=B[R++],P>1&&(O[s++]=B[R++]))}else{R=s-D;do O[s++]=O[R++],O[s++]=O[R++],O[s++]=O[R++],P-=3;while(P>2);P&&(O[s++]=O[R++],P>1&&(O[s++]=O[R++]))}}else if((k&64)===0){w=b[(w&65535)+(S&(1<<k)-1)];continue r}else{t.msg="invalid distance code",o.mode=jn;break e}break}}else if((k&64)===0){w=x[(w&65535)+(S&(1<<k)-1)];continue t}else if(k&32){o.mode=Zc;break e}else{t.msg="invalid literal/length code",o.mode=jn;break e}break}}while(n<i&&s<c);P=y>>3,n-=P,y-=P<<3,S&=(1<<y)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<c?257+(c-s):257-(s-c),o.hold=S,o.bits=y}});var Vl=rt((wh,Ul)=>{a();d();var Rl=Ho(),po=15,Nl=852,Ml=592,Fl=0,ms=1,Bl=2,Jc=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ep=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],tp=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],rp=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Ul.exports=function(t,e,o,n,i,s,l,c){var u=c.bits,m=0,g=0,T=0,_=0,S=0,y=0,x=0,b=0,A=0,N=0,w,k,P,D,R,B=null,H=0,O,j=new Rl.Buf16(po+1),v=new Rl.Buf16(po+1),Q=null,X=0,_e,ge,te;for(m=0;m<=po;m++)j[m]=0;for(g=0;g<n;g++)j[e[o+g]]++;for(S=u,_=po;_>=1&&j[_]===0;_--);if(S>_&&(S=_),_===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,c.bits=1,0;for(T=1;T<_&&j[T]===0;T++);for(S<T&&(S=T),b=1,m=1;m<=po;m++)if(b<<=1,b-=j[m],b<0)return-1;if(b>0&&(t===Fl||_!==1))return-1;for(v[1]=0,m=1;m<po;m++)v[m+1]=v[m]+j[m];for(g=0;g<n;g++)e[o+g]!==0&&(l[v[e[o+g]]++]=g);if(t===Fl?(B=Q=l,O=19):t===ms?(B=Jc,H-=257,Q=ep,X-=257,O=256):(B=tp,Q=rp,O=-1),N=0,g=0,m=T,R=s,y=S,x=0,P=-1,A=1<<S,D=A-1,t===ms&&A>Nl||t===Bl&&A>Ml)return 1;for(;;){_e=m-x,l[g]<O?(ge=0,te=l[g]):l[g]>O?(ge=Q[X+l[g]],te=B[H+l[g]]):(ge=32+64,te=0),w=1<<m-x,k=1<<y,T=k;do k-=w,i[R+(N>>x)+k]=_e<<24|ge<<16|te|0;while(k!==0);for(w=1<<m-1;N&w;)w>>=1;if(w!==0?(N&=w-1,N+=w):N=0,g++,--j[m]===0){if(m===_)break;m=e[o+l[g]]}if(m>S&&(N&D)!==P){for(x===0&&(x=S),R+=T,y=m-x,b=1<<y;y+x<_&&(b-=j[y+x],!(b<=0));)y++,b<<=1;if(A+=1<<y,t===ms&&A>Nl||t===Bl&&A>Ml)return 1;P=N&D,i[P]=S<<24|y<<16|R-s|0}}return N!==0&&(i[R+N]=m-x<<24|64<<16|0),c.bits=S,0}});var ku=rt(St=>{a();d();var Ze=Ho(),hs=Al(),Pt=Ol(),op=Pl(),qo=Vl(),np=0,cu=1,pu=2,Wl=4,ip=5,Kn=6,Ar=0,sp=1,ap=2,lt=-2,fu=-3,Ts=-4,dp=-5,Gl=8,_u=1,Hl=2,ql=3,jl=4,Kl=5,$l=6,Ql=7,zl=8,Yl=9,Xl=10,zn=11,qt=12,cs=13,Zl=14,ps=15,Jl=16,eu=17,tu=18,ru=19,$n=20,Qn=21,ou=22,nu=23,iu=24,su=25,au=26,fs=27,du=28,lu=29,me=30,Ss=31,lp=32,up=852,mp=592,cp=15,pp=cp;function uu(r){return(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24)}function fp(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ze.Buf16(320),this.work=new Ze.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function gu(r){var t;return!r||!r.state?lt:(t=r.state,r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=_u,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ze.Buf32(up),t.distcode=t.distdyn=new Ze.Buf32(mp),t.sane=1,t.back=-1,Ar)}function hu(r){var t;return!r||!r.state?lt:(t=r.state,t.wsize=0,t.whave=0,t.wnext=0,gu(r))}function Tu(r,t){var e,o;return!r||!r.state||(o=r.state,t<0?(e=0,t=-t):(e=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?lt:(o.window!==null&&o.wbits!==t&&(o.window=null),o.wrap=e,o.wbits=t,hu(r))}function Su(r,t){var e,o;return r?(o=new fp,r.state=o,o.window=null,e=Tu(r,t),e!==Ar&&(r.state=null),e):lt}function _p(r){return Su(r,pp)}var mu=!0,_s,gs;function gp(r){if(mu){var t;for(_s=new Ze.Buf32(512),gs=new Ze.Buf32(32),t=0;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(qo(cu,r.lens,0,288,_s,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;qo(pu,r.lens,0,32,gs,0,r.work,{bits:5}),mu=!1}r.lencode=_s,r.lenbits=9,r.distcode=gs,r.distbits=5}function Iu(r,t,e,o){var n,i=r.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Ze.Buf8(i.wsize)),o>=i.wsize?(Ze.arraySet(i.window,t,e-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>o&&(n=o),Ze.arraySet(i.window,t,e-o,n,i.wnext),o-=n,o?(Ze.arraySet(i.window,t,e-o,o,0),i.wnext=o,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0}function hp(r,t){var e,o,n,i,s,l,c,u,m,g,T,_,S,y,x=0,b,A,N,w,k,P,D,R,B=new Ze.Buf8(4),H,O,j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!r||!r.state||!r.output||!r.input&&r.avail_in!==0)return lt;e=r.state,e.mode===qt&&(e.mode=cs),s=r.next_out,n=r.output,c=r.avail_out,i=r.next_in,o=r.input,l=r.avail_in,u=e.hold,m=e.bits,g=l,T=c,R=Ar;e:for(;;)switch(e.mode){case _u:if(e.wrap===0){e.mode=cs;break}for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(e.wrap&2&&u===35615){e.check=0,B[0]=u&255,B[1]=u>>>8&255,e.check=Pt(e.check,B,2,0),u=0,m=0,e.mode=Hl;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",e.mode=me;break}if((u&15)!==Gl){r.msg="unknown compression method",e.mode=me;break}if(u>>>=4,m-=4,D=(u&15)+8,e.wbits===0)e.wbits=D;else if(D>e.wbits){r.msg="invalid window size",e.mode=me;break}e.dmax=1<<D,r.adler=e.check=1,e.mode=u&512?Xl:qt,u=0,m=0;break;case Hl:for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(e.flags=u,(e.flags&255)!==Gl){r.msg="unknown compression method",e.mode=me;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=me;break}e.head&&(e.head.text=u>>8&1),e.flags&512&&(B[0]=u&255,B[1]=u>>>8&255,e.check=Pt(e.check,B,2,0)),u=0,m=0,e.mode=ql;case ql:for(;m<32;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.head&&(e.head.time=u),e.flags&512&&(B[0]=u&255,B[1]=u>>>8&255,B[2]=u>>>16&255,B[3]=u>>>24&255,e.check=Pt(e.check,B,4,0)),u=0,m=0,e.mode=jl;case jl:for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.head&&(e.head.xflags=u&255,e.head.os=u>>8),e.flags&512&&(B[0]=u&255,B[1]=u>>>8&255,e.check=Pt(e.check,B,2,0)),u=0,m=0,e.mode=Kl;case Kl:if(e.flags&1024){for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.length=u,e.head&&(e.head.extra_len=u),e.flags&512&&(B[0]=u&255,B[1]=u>>>8&255,e.check=Pt(e.check,B,2,0)),u=0,m=0}else e.head&&(e.head.extra=null);e.mode=$l;case $l:if(e.flags&1024&&(_=e.length,_>l&&(_=l),_&&(e.head&&(D=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Ze.arraySet(e.head.extra,o,i,_,D)),e.flags&512&&(e.check=Pt(e.check,o,_,i)),l-=_,i+=_,e.length-=_),e.length))break e;e.length=0,e.mode=Ql;case Ql:if(e.flags&2048){if(l===0)break e;_=0;do D=o[i+_++],e.head&&D&&e.length<65536&&(e.head.name+=String.fromCharCode(D));while(D&&_<l);if(e.flags&512&&(e.check=Pt(e.check,o,_,i)),l-=_,i+=_,D)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=zl;case zl:if(e.flags&4096){if(l===0)break e;_=0;do D=o[i+_++],e.head&&D&&e.length<65536&&(e.head.comment+=String.fromCharCode(D));while(D&&_<l);if(e.flags&512&&(e.check=Pt(e.check,o,_,i)),l-=_,i+=_,D)break e}else e.head&&(e.head.comment=null);e.mode=Yl;case Yl:if(e.flags&512){for(;m<16;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(u!==(e.check&65535)){r.msg="header crc mismatch",e.mode=me;break}u=0,m=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=qt;break;case Xl:for(;m<32;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}r.adler=e.check=uu(u),u=0,m=0,e.mode=zn;case zn:if(e.havedict===0)return r.next_out=s,r.avail_out=c,r.next_in=i,r.avail_in=l,e.hold=u,e.bits=m,ap;r.adler=e.check=1,e.mode=qt;case qt:if(t===ip||t===Kn)break e;case cs:if(e.last){u>>>=m&7,m-=m&7,e.mode=fs;break}for(;m<3;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}switch(e.last=u&1,u>>>=1,m-=1,u&3){case 0:e.mode=Zl;break;case 1:if(gp(e),e.mode=$n,t===Kn){u>>>=2,m-=2;break e}break;case 2:e.mode=eu;break;case 3:r.msg="invalid block type",e.mode=me}u>>>=2,m-=2;break;case Zl:for(u>>>=m&7,m-=m&7;m<32;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",e.mode=me;break}if(e.length=u&65535,u=0,m=0,e.mode=ps,t===Kn)break e;case ps:e.mode=Jl;case Jl:if(_=e.length,_){if(_>l&&(_=l),_>c&&(_=c),_===0)break e;Ze.arraySet(n,o,i,_,s),l-=_,i+=_,c-=_,s+=_,e.length-=_;break}e.mode=qt;break;case eu:for(;m<14;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(e.nlen=(u&31)+257,u>>>=5,m-=5,e.ndist=(u&31)+1,u>>>=5,m-=5,e.ncode=(u&15)+4,u>>>=4,m-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=me;break}e.have=0,e.mode=tu;case tu:for(;e.have<e.ncode;){for(;m<3;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.lens[j[e.have++]]=u&7,u>>>=3,m-=3}for(;e.have<19;)e.lens[j[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,H={bits:e.lenbits},R=qo(np,e.lens,0,19,e.lencode,0,e.work,H),e.lenbits=H.bits,R){r.msg="invalid code lengths set",e.mode=me;break}e.have=0,e.mode=ru;case ru:for(;e.have<e.nlen+e.ndist;){for(;x=e.lencode[u&(1<<e.lenbits)-1],b=x>>>24,A=x>>>16&255,N=x&65535,!(b<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(N<16)u>>>=b,m-=b,e.lens[e.have++]=N;else{if(N===16){for(O=b+2;m<O;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(u>>>=b,m-=b,e.have===0){r.msg="invalid bit length repeat",e.mode=me;break}D=e.lens[e.have-1],_=3+(u&3),u>>>=2,m-=2}else if(N===17){for(O=b+3;m<O;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}u>>>=b,m-=b,D=0,_=3+(u&7),u>>>=3,m-=3}else{for(O=b+7;m<O;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}u>>>=b,m-=b,D=0,_=11+(u&127),u>>>=7,m-=7}if(e.have+_>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=me;break}for(;_--;)e.lens[e.have++]=D}}if(e.mode===me)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=me;break}if(e.lenbits=9,H={bits:e.lenbits},R=qo(cu,e.lens,0,e.nlen,e.lencode,0,e.work,H),e.lenbits=H.bits,R){r.msg="invalid literal/lengths set",e.mode=me;break}if(e.distbits=6,e.distcode=e.distdyn,H={bits:e.distbits},R=qo(pu,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,H),e.distbits=H.bits,R){r.msg="invalid distances set",e.mode=me;break}if(e.mode=$n,t===Kn)break e;case $n:e.mode=Qn;case Qn:if(l>=6&&c>=258){r.next_out=s,r.avail_out=c,r.next_in=i,r.avail_in=l,e.hold=u,e.bits=m,op(r,T),s=r.next_out,n=r.output,c=r.avail_out,i=r.next_in,o=r.input,l=r.avail_in,u=e.hold,m=e.bits,e.mode===qt&&(e.back=-1);break}for(e.back=0;x=e.lencode[u&(1<<e.lenbits)-1],b=x>>>24,A=x>>>16&255,N=x&65535,!(b<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(A&&(A&240)===0){for(w=b,k=A,P=N;x=e.lencode[P+((u&(1<<w+k)-1)>>w)],b=x>>>24,A=x>>>16&255,N=x&65535,!(w+b<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}u>>>=w,m-=w,e.back+=w}if(u>>>=b,m-=b,e.back+=b,e.length=N,A===0){e.mode=au;break}if(A&32){e.back=-1,e.mode=qt;break}if(A&64){r.msg="invalid literal/length code",e.mode=me;break}e.extra=A&15,e.mode=ou;case ou:if(e.extra){for(O=e.extra;m<O;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,m-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=nu;case nu:for(;x=e.distcode[u&(1<<e.distbits)-1],b=x>>>24,A=x>>>16&255,N=x&65535,!(b<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if((A&240)===0){for(w=b,k=A,P=N;x=e.distcode[P+((u&(1<<w+k)-1)>>w)],b=x>>>24,A=x>>>16&255,N=x&65535,!(w+b<=m);){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}u>>>=w,m-=w,e.back+=w}if(u>>>=b,m-=b,e.back+=b,A&64){r.msg="invalid distance code",e.mode=me;break}e.offset=N,e.extra=A&15,e.mode=iu;case iu:if(e.extra){for(O=e.extra;m<O;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,m-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=me;break}e.mode=su;case su:if(c===0)break e;if(_=T-c,e.offset>_){if(_=e.offset-_,_>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=me;break}_>e.wnext?(_-=e.wnext,S=e.wsize-_):S=e.wnext-_,_>e.length&&(_=e.length),y=e.window}else y=n,S=s-e.offset,_=e.length;_>c&&(_=c),c-=_,e.length-=_;do n[s++]=y[S++];while(--_);e.length===0&&(e.mode=Qn);break;case au:if(c===0)break e;n[s++]=e.length,c--,e.mode=Qn;break;case fs:if(e.wrap){for(;m<32;){if(l===0)break e;l--,u|=o[i++]<<m,m+=8}if(T-=c,r.total_out+=T,e.total+=T,T&&(r.adler=e.check=e.flags?Pt(e.check,n,T,s-T):hs(e.check,n,T,s-T)),T=c,(e.flags?u:uu(u))!==e.check){r.msg="incorrect data check",e.mode=me;break}u=0,m=0}e.mode=du;case du:if(e.wrap&&e.flags){for(;m<32;){if(l===0)break e;l--,u+=o[i++]<<m,m+=8}if(u!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=me;break}u=0,m=0}e.mode=lu;case lu:R=sp;break e;case me:R=fu;break e;case Ss:return Ts;case lp:default:return lt}return r.next_out=s,r.avail_out=c,r.next_in=i,r.avail_in=l,e.hold=u,e.bits=m,(e.wsize||T!==r.avail_out&&e.mode<me&&(e.mode<fs||t!==Wl))&&Iu(r,r.output,r.next_out,T-r.avail_out)?(e.mode=Ss,Ts):(g-=r.avail_in,T-=r.avail_out,r.total_in+=g,r.total_out+=T,e.total+=T,e.wrap&&T&&(r.adler=e.check=e.flags?Pt(e.check,n,T,r.next_out-T):hs(e.check,n,T,r.next_out-T)),r.data_type=e.bits+(e.last?64:0)+(e.mode===qt?128:0)+(e.mode===$n||e.mode===ps?256:0),(g===0&&T===0||t===Wl)&&R===Ar&&(R=dp),R)}function Tp(r){if(!r||!r.state)return lt;var t=r.state;return t.window&&(t.window=null),r.state=null,Ar}function Sp(r,t){var e;return!r||!r.state||(e=r.state,(e.wrap&2)===0)?lt:(e.head=t,t.done=!1,Ar)}function Ip(r,t){var e=t.length,o,n,i;return!r||!r.state||(o=r.state,o.wrap!==0&&o.mode!==zn)?lt:o.mode===zn&&(n=1,n=hs(n,t,e,0),n!==o.check)?fu:(i=Iu(r,t,e,e),i?(o.mode=Ss,Ts):(o.havedict=1,Ar))}St.inflateReset=hu;St.inflateReset2=Tu;St.inflateResetKeep=gu;St.inflateInit=_p;St.inflateInit2=Su;St.inflate=hp;St.inflateEnd=Tp;St.inflateGetHeader=Sp;St.inflateSetDictionary=Ip;St.inflateInfo="pako inflate (from Nodeca project)"});var bu=rt(fo=>{a();d();var Yn=Ho(),xu=!0,yu=!0;try{String.fromCharCode.apply(null,[0])}catch{xu=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yu=!1}var jo=new Yn.Buf8(256);for(jt=0;jt<256;jt++)jo[jt]=jt>=252?6:jt>=248?5:jt>=240?4:jt>=224?3:jt>=192?2:1;var jt;jo[254]=jo[254]=1;fo.string2buf=function(r){var t,e,o,n,i,s=r.length,l=0;for(n=0;n<s;n++)e=r.charCodeAt(n),(e&64512)===55296&&n+1<s&&(o=r.charCodeAt(n+1),(o&64512)===56320&&(e=65536+(e-55296<<10)+(o-56320),n++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Yn.Buf8(l),i=0,n=0;i<l;n++)e=r.charCodeAt(n),(e&64512)===55296&&n+1<s&&(o=r.charCodeAt(n+1),(o&64512)===56320&&(e=65536+(e-55296<<10)+(o-56320),n++)),e<128?t[i++]=e:e<2048?(t[i++]=192|e>>>6,t[i++]=128|e&63):e<65536?(t[i++]=224|e>>>12,t[i++]=128|e>>>6&63,t[i++]=128|e&63):(t[i++]=240|e>>>18,t[i++]=128|e>>>12&63,t[i++]=128|e>>>6&63,t[i++]=128|e&63);return t};function Cu(r,t){if(t<65534&&(r.subarray&&yu||!r.subarray&&xu))return String.fromCharCode.apply(null,Yn.shrinkBuf(r,t));for(var e="",o=0;o<t;o++)e+=String.fromCharCode(r[o]);return e}fo.buf2binstring=function(r){return Cu(r,r.length)};fo.binstring2buf=function(r){for(var t=new Yn.Buf8(r.length),e=0,o=t.length;e<o;e++)t[e]=r.charCodeAt(e);return t};fo.buf2string=function(r,t){var e,o,n,i,s=t||r.length,l=new Array(s*2);for(o=0,e=0;e<s;){if(n=r[e++],n<128){l[o++]=n;continue}if(i=jo[n],i>4){l[o++]=65533,e+=i-1;continue}for(n&=i===2?31:i===3?15:7;i>1&&e<s;)n=n<<6|r[e++]&63,i--;if(i>1){l[o++]=65533;continue}n<65536?l[o++]=n:(n-=65536,l[o++]=55296|n>>10&1023,l[o++]=56320|n&1023)}return Cu(l,o)};fo.utf8border=function(r,t){var e;for(t=t||r.length,t>r.length&&(t=r.length),e=t-1;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+jo[r[e]]>t?e:t}});var wu=rt((Mh,vu)=>{a();d();vu.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var Au=rt((Uh,Eu)=>{a();d();Eu.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var Ou=rt((Gh,Du)=>{a();d();function kp(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Du.exports=kp});var Pu=rt((jh,Lu)=>{a();d();function xp(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}Lu.exports=xp});var Nu=rt($o=>{a();d();var _o=ku(),Ko=Ho(),Xn=bu(),Ie=wu(),Is=Au(),yp=Ou(),Cp=Pu(),Ru=Object.prototype.toString;function Dr(r){if(!(this instanceof Dr))return new Dr(r);this.options=Ko.assign({chunkSize:16384,windowBits:0,to:""},r||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yp,this.strm.avail_out=0;var e=_o.inflateInit2(this.strm,t.windowBits);if(e!==Ie.Z_OK)throw new Error(Is[e]);if(this.header=new Cp,_o.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Xn.string2buf(t.dictionary):Ru.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=_o.inflateSetDictionary(this.strm,t.dictionary),e!==Ie.Z_OK)))throw new Error(Is[e])}Dr.prototype.push=function(r,t){var e=this.strm,o=this.options.chunkSize,n=this.options.dictionary,i,s,l,c,u,m=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?Ie.Z_FINISH:Ie.Z_NO_FLUSH,typeof r=="string"?e.input=Xn.binstring2buf(r):Ru.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new Ko.Buf8(o),e.next_out=0,e.avail_out=o),i=_o.inflate(e,Ie.Z_NO_FLUSH),i===Ie.Z_NEED_DICT&&n&&(i=_o.inflateSetDictionary(this.strm,n)),i===Ie.Z_BUF_ERROR&&m===!0&&(i=Ie.Z_OK,m=!1),i!==Ie.Z_STREAM_END&&i!==Ie.Z_OK)return this.onEnd(i),this.ended=!0,!1;e.next_out&&(e.avail_out===0||i===Ie.Z_STREAM_END||e.avail_in===0&&(s===Ie.Z_FINISH||s===Ie.Z_SYNC_FLUSH))&&(this.options.to==="string"?(l=Xn.utf8border(e.output,e.next_out),c=e.next_out-l,u=Xn.buf2string(e.output,l),e.next_out=c,e.avail_out=o-c,c&&Ko.arraySet(e.output,e.output,l,c,0),this.onData(u)):this.onData(Ko.shrinkBuf(e.output,e.next_out))),e.avail_in===0&&e.avail_out===0&&(m=!0)}while((e.avail_in>0||e.avail_out===0)&&i!==Ie.Z_STREAM_END);return i===Ie.Z_STREAM_END&&(s=Ie.Z_FINISH),s===Ie.Z_FINISH?(i=_o.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Ie.Z_OK):(s===Ie.Z_SYNC_FLUSH&&(this.onEnd(Ie.Z_OK),e.avail_out=0),!0)};Dr.prototype.onData=function(r){this.chunks.push(r)};Dr.prototype.onEnd=function(r){r===Ie.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ko.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function ks(r,t){var e=new Dr(t);if(e.push(r,!0),e.err)throw e.msg||Is[e.err];return e.result}function bp(r,t){return t=t||{},t.raw=!0,ks(r,t)}$o.Inflate=Dr;$o.inflate=ks;$o.inflateRaw=bp;$o.ungzip=ks});a();d();var ye=C(U()),Tn=C(de());a();d();var Wn=C(U());var ol=({channel:r,onListenData:t,onSubscribeSuccess:e,onListenError:o,onListenReconnected:n})=>{let i=(0,Wn.useRef)({onListenData:t,onSubscribeSuccess:e,onListenError:o,onListenReconnected:n});i.current={onListenData:t,onSubscribeSuccess:e,onListenError:o,onListenReconnected:n},(0,Wn.useEffect)(()=>{let s=Od({isPri:!0,needLogin:!0,subscribeParams:[{channel:r}],onListenData:(l,c)=>{if(!l)return;let u=c;u?.channel===r&&i.current.onListenData(l,u)},onSubscribeSuccess:l=>{i.current.onSubscribeSuccess?.(l)},onListenError:l=>{i.current.onListenError(l)},onListenReconnected:()=>{i.current.onListenReconnected?.()}});return()=>{s?.()}},[r])};var nl=r=>{ol({channel:$i.DEX_PUSH_ENGINE,...r})},il=r=>{ol({channel:$i.DEX_STRATEGY_OPEN_ORDER,...r})};a();d();var sl=r=>{let{accountStore:t}=Rd();ad({wallet_address:t.address,page_name:r})};a();d();$e();a();d();async function al(r){return await re.get("/priapi/v1/dx/trade/multi/myTrades",{params:r})}async function dl(r){return await re.get("/priapi/v1/dx/trade/multi/buildCancelCallData",{params:r})}a();d();a();d();var ll=r=>r.fromToken?{...r.fromToken,isFromToken:!0}:{chainLogoUrl:r.fromChainLogoUrl,tokenLogoUrl:r.fromIcon,tokenSymbol:r.fromTokenSymbol,chainName:r.fromChainName,chainId:r.fromChainId,tokenContractAddress:r.fromTokenAddress,tokenAmount:r.fromAmount,isFromToken:!0},es=r=>r.toToken?{...r.toToken,isToToken:!0}:{chainLogoUrl:r.toChainLogoUrl,tokenLogoUrl:r.toIcon,tokenSymbol:r.toTokenSymbol,chainName:r.toChainName,chainId:r.toChainId,tokenContractAddress:r.toTokenAddress,tokenAmount:r.toAmount,isToToken:!0},ul=r=>Number(r.exchangeDirection)===0?es(r):Number(r.exchangeDirection)===1?ll(r):r.fromToken?.tokenIsCurrency&&!r.toToken?.tokenIsCurrency||r.fromTokenIsCurrency&&!r.toTokenIsCurrency?es(r):!r.fromToken?.tokenIsCurrency&&r.toToken?.tokenIsCurrency||!r.fromTokenIsCurrency&&r.toTokenIsCurrency?ll(r):es(r);a();d();a();d();var b_=[0,2,3,4];var ml={TEE_SA_MARKET:1,TEE_SA_LIMIT_ORDER:6,TEE_SA_TP_ORDER:201,TEE_SA_SL_ORDER:202,TEE_SA_COPY_TRADE_ORDER:203};var O_={["all"]:null,["market"]:[1],["limit"]:[6],["tp_sl"]:[201,202]};var pl={["swaptrade_tee_tag_cancelling"]:4,["swaptrade_history_cell_tag_processing"]:5,["swaptrade_tee_tag_cancelled"]:2,["swaptrade_tee_tag_completed"]:1,["swaptrade_tee_tag_failed"]:3,["swaptrade_bridge_cell_tag_ready_to_claim"]:6,["swaptrade_bridge_header_claiming"]:7},L_={["swaptrade_tee_tag_active"]:3,["swaptrade_tee_tag_cancelling"]:-3,["swaptrade_history_cell_tag_processing"]:0,["swaptrade_tee_tag_suspended"]:4,["swaptrade_tee_tag_cancelled"]:-2,["swaptrade_tee_tag_completed"]:1,["swaptrade_tee_tag_failed"]:-1,["swaptrade_tee_tag_expired"]:-7},fl={["swaptrade_tee_tag_failed"]:-1,["swaptrade_tee_tag_completed"]:1};a();d();var Gn=C(U());a();d();var _l={"order-duration-text":"_order-duration-text_kdnal_1",orderDurationText:"_order-duration-text_kdnal_1"};var Bc=({duration:r})=>{let t=(0,Gn.useMemo)(()=>{let e=r&&r>0?`${Ye.showCeilTruncation(Ye.div(r,1e3),2)}`:"";return p("swaptrade_toast_msg_transaction_time_cost",{time:e})},[r]);return r?Gn.default.createElement("span",{className:_l.orderDurationText},t):null},ts=Bc;a();d();a();d();var gl=10026;a();d();var rs=class extends Dn{constructor(){super();this.authStatus="authenticated";this.hasPermission=!0;this.authDialogVisible=!1;K(this,{hasPermission:F,authStatus:F,authDialogVisible:F,isAuthenticated:M})}get isAuthenticated(){return this.authStatus==="authenticated"}},Gt=new rs;var os=class{constructor(){this.login=async()=>{try{let t=await Gi.getSignChainIdByChainId(1);if(!await Cd({chainId:t}))return Et.success({title:p("swaptrade_alert_center_toast_network_unsupport")}),Gt.update({authStatus:"unauthenticated"}),{};let{isSupportSilentSignVersion:o}=await bd();J.stuff("checkSupportSaDefaultSilentVersion",o),await xd({needSign:!0,isSilent:o});let n=yd();return Gt.update({authStatus:"authenticated"}),{authToken:n,chainId:t}}catch{return Gt.update({authStatus:"unauthenticated"}),{}}};this.getAuthToken=async t=>{try{if(!t)return{authToken:"",chainId:1};let e=await Gi.getSignChainIdByChainId(1),o=await vd(t);return o?(Gt.update({authStatus:"authenticated"}),{authToken:o,chainId:e}):(Gt.update({authStatus:"unauthenticated"}),{})}catch{return Gt.update({authStatus:"unauthenticated"}),{}}};this.removeAuthToken=()=>{Gt.update({authStatus:"unauthenticated"})};this.setPermission=t=>{Gt.update({hasPermission:t})}}},ns=new os;a();d();var Wo={Failed:"-1",Waiting:"1",Pending:"2",Succeed:"3"},wr={ESTIMATE:1,EXCEED_ESTIMATE:2,UNTIMED:3,TIMEOUT:4},hl={FromIsBtcChain:1,FromIsNotBtcChain:2},Ce={SINGLE_TIPS:1,GAS:2,BRIDGE:3,BLOCK_FROM:4,BLOCK_BRIDGE:5,BLOCK_TO:6},Tt={SINGLE:1,CROSS_FROM_SWAP:2,CROSS_BRIDGE_SWAP:3,CROSS_TO_SWAP:4};a();d();var qn={SUCCESS:"success",FAIL:"fail",REJECT:"reject",TXHASH:"txhash",APPROVE:"approve",CONNECT:"connect",APP_STATUS:"appStatus",CLOSE:"close"},Vc=Object.values(qn),ss=class{constructor(){h(this,"toast",!0);h(this,"setToast",t=>{this.toast=t});h(this,"chainList",[]);h(this,"setChainList",t=>{this.chainList=t});h(this,"quote",{});h(this,"updateQuote",t=>{this.quote={...this.quote,...t}});h(this,"portal","");h(this,"setPortal",t=>{this.portal=t||""});h(this,"swapParams",{});h(this,"setSwapParams",({fromAmount:t,...e})=>{this.swapParams={...e,fromAmount:ee(t)?t:"1"}});h(this,"status","");h(this,"reset",()=>{this.to={},this.from={},this.events={},this.swapParams={}});h(this,"on",(t,e)=>{if(!Vc.includes(t))return new Error("Not support event!!");if(typeof e!="function")return{};this.events[t]||(this.events[t]=[]);let o=`${t}${this.events[t].length}`;return this.events[t].push({cb:e,eventId:o}),{eventId:o,remove:()=>{this.remove(t,o)}}});h(this,"emit",(t,...e)=>{let o=this.events[t];o&&o.length&&o.forEach(n=>{let{cb:i}=n;i&&i.apply(this,e)})});h(this,"remove",(t,e="")=>{let o=this.events[t];o&&e&&o.forEach((n,i)=>{n.eventId===e&&o.splice(i,1)})});h(this,"removeAll",()=>{this.events={}});this.events={}}static init(t){return this.instance||(this.instance=new ss(t)),this.instance}},Hn=ss;h(Hn,"instance",null);var Wc=new Hn,is=Wc;a();d();var er=({fromAmount:r,fromSymbol:t,equal:e="=",toAmount:o,toSymbol:n,leftNumber:i=void 0,rightNumber:s=void 0})=>At.formatRange({leftNumber:i??At.formatCurrency(r,{code:t,isSymbol:!1}),sign:` ${e} `,rightNumber:s??At.formatCurrency(o,{code:n,isSymbol:!1})}),tr=({fromAmount:r,fromSymbol:t,equal:e="=",toAmount:o,toSymbol:n,leftNumber:i=void 0,rightNumber:s=void 0})=>At.formatRange({leftNumber:i??At.formatCurrency(r,{code:ue(t),isSymbol:!1}),sign:` ${e} `,rightNumber:s??At.formatCurrency(o,{code:ue(n),isSymbol:!1})}),Go=({amount:r,symbol:t,extra:e})=>e?`${r} ${t} ${e}`:`${r} ${t}`,Lt=(r,t)=>kr.isRTL?`${t}${r}`:`${r}${t}`;a();d();var Gc=(r,t=0,e=0)=>!r||typeof r!="string"?le:r.length<=t+e||t===0||e===0?r:`${r.slice(0,t)}...${r.slice(-e)}`,rr=r=>Gc(r,6,4);a();d();a();d();var Ht=C(U());function Er({type:r,onURLClick:t,exploreUrl:e,desc:o,...n}){let{id:i}=n,s=i?`notification-${i}`:void 0,l=e?Ht.default.createElement(dt,{className:"color-959dad",href:e,onClick:t},Ht.default.createElement("div",{className:"inline-flex align-items-center"},Ht.default.createElement("div",{className:"font-12 color-0569ff font-bold"},p("swaptrade_toast_anchor_view_in_explorer")),Ht.default.createElement(fe,{className:"okx-defi-dex-link color-0569ff",size:20}))):void 0,c=3;r==="success"?Sr.success({...n,desc:o||l,duration:c,placement:Sr.DIRECTION.top,id:s}):r==="failed"?Sr.error({...n,desc:o||l,duration:c,placement:Sr.DIRECTION.top,id:s}):r==="info"?Qe.info({...n,desc:o||l,duration:c,placement:Qe.DIRECTION.top}):r==="expired"?Qe.info({...n,desc:o||l,duration:c,icon:"okds-clock",placement:Qe.DIRECTION.top}):r==="warn"?Qe.warn({...n,desc:o||l,duration:c,placement:Qe.DIRECTION.top}):r==="pending"&&Sr.pending({...n,desc:o||l,duration:c,placement:Sr.DIRECTION.top,id:s,lottieProps:{speed:3}})}function or({orderId:r,...t}){Er({type:"success",id:r,...t})}function co({orderId:r,...t}){Er({type:"failed",id:r,...t})}function as(r){Er({type:"info",...r})}function Tl(r){Er({type:"expired",...r})}function Sl(r){Er({type:"warn",...r})}function Il(r,t){let e=()=>{Nd(),t.onClaim(r)},o=p("swaptrade_bridge_alert_title_ready_to_claim"),n=Ht.default.createElement(Ht.default.Fragment,null,Ht.default.createElement("p",{style:{color:"var(--okd-color-content-secondary)"}},p("swaptrade_bridge_alert_desc_successfully_bridged_to_chainname",{chainName:r.toChainName,token:r.toTokenSymbol})),Ht.default.createElement(Fo,{style:{marginTop:"8px",fontSize:"12px",lineHeight:"16px",color:"var(--okd-color-content-primary)"},size:ya.SIZE.xs,onClick:e},p("commonall_modal_btn_claim")));Er({type:"success",title:o,desc:n})}function kl({title:r,exploreUrl:t="",onURLClick:e=()=>{},desc:o=null,orderId:n}){Er({type:"pending",title:r,exploreUrl:t,onURLClick:e,desc:o,id:n})}function yl(r){let t=[];if(r){let{status:o,orderId:n,fromChildOrderDetailVO:i,failureReason:s}=r,{fromAmount:l,fromTokenSymbol:c,toAmount:u,toTokenSymbol:m,failureReason:g,exploreUrl:T}=i||{},_=`${n}_${o}`;if(t.includes(_))return;let S=()=>{t.unshift(_),t=t.slice(0,20)};o===ze.OPEN?(S(),as({title:p("swaptrade_orders_notif_limitorder_submitted",{sellValue:Me(l,{needBillionMillionUnit:!0}),sellToken:ue(c),receiveValue:Xe(u),receiveToken:ue(m)})})):o===ze.SUCCEED?(S(),or({title:p("swaptrade_orders_notif_limitorder_success",{sellValue:Me(l,{needBillionMillionUnit:!0}),sellToken:c,receiveValue:Xe(u),receiveToken:m}),exploreUrl:T})):o===ze.FAILED&&s?(S(),co({title:p("swaptrade_orders_notif_limitorder_failed",{sellValue:Me(l,{needBillionMillionUnit:!0}),sellToken:ue(c),receiveValue:Xe(u),receiveToken:ue(m)})})):o===ze.FAILED&&g?(S(),co({title:p("swaptrade_orders_notif_limitorder_failed",{sellValue:Me(l,{needBillionMillionUnit:!0}),sellToken:ue(c),receiveValue:Xe(u),receiveToken:ue(m)}),exploreUrl:T})):o===ze.CANCELLED?(as({title:p("swaptrade_orders_notif_limitorder_canceled",{sellValue:Me(l,{needBillionMillionUnit:!0}),sellToken:ue(c),receiveValue:Xe(u),receiveToken:ue(m)})}),S()):o===ze.EXPIRED&&(Tl({title:p("swaptrade_orders_notif_limitorder_expired",{sellValue:Me(l,{needBillionMillionUnit:!0}),sellToken:ue(c),receiveValue:Xe(u),receiveToken:ue(m)}),exploreUrl:T}),S())}}a();d();var bl=C(U());a();d();var Cl={"surplus-order-success-notification":"_surplus-order-success-notification_llykx_1",surplusOrderSuccessNotification:"_surplus-order-success-notification_llykx_1"};var vl=({surplusAmount:r,toTokenSymbol:t,fromAmount:e,fromTokenSymbol:o,toAmount:n,onConfirm:i,...s})=>{Qe.success({placement:Qe.DIRECTION.top,...s,className:Cl["surplus-order-success-notification"],icon:bl.default.createElement(Ue,{iconName:"okx-defi-surplus-solid",style:{fontSize:"16px",color:"var(--okd-color-surface-interactive-feature-default)"}}),title:xr("swaptrade_order_top_card_trade_complete_title",{value:Y(r),token:ue(t)}),desc:xr("swaptrade_order_top_card_trade_complete_desc",{fromValue:Me(e,{needBillionMillionUnit:!0}),fromToken:ue(o),toValue:Y(n),toToken:ue(t)}),confirmText:xr("swaptrade_order_top_card_trade_complete_view_dets"),onConfirm:i})};a();d();a();d();var wl=[1,-2,-1,-7];var ds=r=>wl.includes(Number(r));a();d();var ls=class{constructor(){this.MAX_ENTRIES=100;this.MAX_AGE_MS=5*60*1e3;this.MIN_AFTER_BROADCAST_DURATION_MS=100;this.timestamps=new Map}cleanupOldEntries(){let t=Date.now();Array.from(this.timestamps.entries()).forEach(([o,n])=>{t-n.beforeBroadcast>this.MAX_AGE_MS&&this.timestamps.delete(o)})}setTimestamp(t,e){if(!!t){if(this.timestamps.size>=this.MAX_ENTRIES&&(this.cleanupOldEntries(),this.timestamps.size>=this.MAX_ENTRIES)){let o=this.timestamps.keys().next().value;o&&this.timestamps.delete(o)}this.timestamps.set(t,{beforeBroadcast:e||Date.now()})}}setAfterBroadcastTimestamp(t,e){if(!t)return;let o=this.timestamps.get(t);!o||this.timestamps.set(t,{...o,afterBroadcast:e||Date.now()})}getDuration(t){if(!t)return null;let e=this.timestamps.get(t);if(!e)return null;let o=Date.now(),n;if(e.afterBroadcast!==void 0){let i=o-e.afterBroadcast;i>=this.MIN_AFTER_BROADCAST_DURATION_MS?n=i:n=o-e.beforeBroadcast}else n=o-e.beforeBroadcast;return this.timestamps.delete(t),n}get size(){return this.timestamps.size}};function Hc(){let r=null;function t(){return r||(typeof window>"u"?r={setTimestamp:()=>{},setAfterBroadcastTimestamp:()=>{},getDuration:()=>null,get size(){return 0}}:r=new ls),r}return{setTimestamp(e,o){t().setTimestamp(e,o)},setAfterBroadcastTimestamp(e,o){t().setAfterBroadcastTimestamp(e,o)},getDuration(e){return t().getDuration(e)},get size(){return t().size}}}var us=Hc();a();d();var Ap=C(U());a();d();var Bu=C(Nu());a();d();a();d();a();d();a();d();var Zn=()=>Boolean(typeof window>"u"||process.env.SSR_ENV);a();d();var xs={PING:"ping",PONG:"pong"},go={CONNECTED:0,DISCONNECTED:1,PING_PENDING:2,PING_PENDING_OVER:3},nr=!Zn(),Jn=nr&&!window.inOKXExtension;var vp=/^\{|\[/,Mu="";nr&&(Mu=window?.okGlobal?.socketBaseUrls?.trade);var ei={isPushingJSON(r){return vp.test(r)},getRealConnectUrl(r=Mu){return r}};a();d();var Fu={decode(r){let t=0,e,o,n,i,s,l=[],c=r.length;for(;t<c;)e=r[t++],e<128?s=e:e<224?(o=r[t++],s=(e&31)<<6|o&63):e<240?(o=r[t++],n=r[t++],s=(e&15)<<12|(o&63)<<6|n&63):(o=r[t++],n=r[t++],i=r[t++],s=(e&7)<<18|(o&63)<<12|(n&63)<<6|i&63),l.push(String.fromCodePoint(s));return l.join("")}};var Uu=Fu;if(nr&&Jn){let{location:r,TextDecoder:t}=window;t&&(Uu=new t("utf-8")),window.$has_debug_push_param$=r.href.indexOf("debug_push=true")>-1}var ys={};function Vu(r={}){let t=this,e=ei.getRealConnectUrl(r.connectUrl),o={maxPendingTime:5e3,maxReconnectTime:1e4,maxWaitingResponseTime:1e4,maxSleepRecoveringTime:3e3,...r,connectUrl:e},n=ys[o.connectUrl];if(n)return n;let i={isConnected:!1,isConnectPending:!1,isClosingByClient:!1,isKillingUnWakeUp:!1,isPingPending:!1},s,l={reconnectTimer:0,handlePendingTimer:0,discontinueTimer:0,killingUnWakeUpTimer:0,pingPendingTimer:0},c={currReconnectTime:0,lastReceivingTime:0},u=[],m=[],g=[],T=[],_=[],S=()=>{},y=()=>{this.isConnected()&&(S(),l.pingPendingTimer=setTimeout(()=>{i.isPingPending=!0,T.forEach(v=>{v(go.PING_PENDING)})},o.maxPendingTime))},x=(v,Q)=>{for(let X=0;X<v.length;X++)if(v[X]===Q){v.splice(X,1);break}},b=()=>{i.isPingPending=!1,clearTimeout(l.pingPendingTimer)},A=()=>{clearInterval(l.handlePendingTimer)},N=()=>{c.currReconnectTime=0,l.reconnectTimer&&(clearTimeout(l.reconnectTimer),delete l.reconnectTimer)},w=()=>{!this.isConnected()&&!i.isConnectPending&&(N(),k())},k=function(){s=new WebSocket(o.connectUrl),i.isConnectPending=!0,s.onopen=P,s.onmessage=R,s.onclose=H,s.onerror=O,l.handlePendingTimer=setInterval(t.handleConnectPending,o.maxPendingTime)},P=function(){i.isConnected=!0,i.isConnectPending=!1,i.isClosingByClient=!1,N(),A(),m.forEach(v=>{v(),v.triggered=!0}),T.forEach(v=>{v(go.CONNECTED)})},D=function(){i.isPingPending&&T.forEach(v=>{v(go.PING_PENDING_OVER)}),b()},R=function(v){if(c.lastReceivingTime=Date.now(),clearTimeout(l.discontinueTimer),clearTimeout(l.killingUnWakeUpTimer),l.discontinueTimer=setTimeout(y,o.maxPendingTime),v.data instanceof Blob){let Q=v.data,X=new FileReader,_e={done:!1,resultString:""};_.push(_e),X.onload=function(ge){if(ge.target.readyState==FileReader.DONE){let te=(0,Bu.inflateRaw)(ge.target.result);for(_e.done=!0,_e.resultString=Uu.decode(te);_[0]&&_[0].done;){let{resultString:ne}=_.shift();ne===xs.PONG&&D();let ie=ei.isPushingJSON(ne)?JSON.parse(ne):ne;j(ie),window.$has_debug_push_param$&&(console.log(ne),window.$ok_debug_push_callback$&&window.$ok_debug_push_callback$(ie))}}},X.readAsArrayBuffer(Q)}else{let Q=v.data;Q===xs.PONG&&D(),j(ei.isPushingJSON(Q)?JSON.parse(Q):Q),window.$has_debug_push_param$&&console.log(Q)}},B=function(){i.isConnected=!1,i.isConnectPending=!1,b(),m.forEach(v=>{v.triggered=!1})},H=function(){if(i.isKillingUnWakeUp){i.isKillingUnWakeUp=!1;return}i.isClosingByClient?B():l.reconnectTimer||O()},O=function(){B(),A(),u.forEach(Q=>{Q()}),T.forEach(Q=>{Q(go.DISCONNECTED)}),l.reconnectTimer=setTimeout(k,c.currReconnectTime);let v=c.currReconnectTime+1e3;v>o.maxReconnectTime&&(v=o.maxReconnectTime),c.currReconnectTime=v},j=function(v){if(v.event==="error"&&Number(v.errorCode)===30026){s.close();return}g.forEach(X=>X(v))};if(this.setPushDataResolver=function(v){return g.push(v),()=>{x(g,v)}},this.connect=function(){if(nr){if(this.isConnected()){m.forEach(v=>{v.triggered||(v(),v.triggered=!0)});return}!this.isConnected()&&!i.isConnectPending&&k()}},this.disconnect=function(){clearTimeout(l.reconnectTimer),clearTimeout(l.discontinueTimer),delete l.reconnectTimer,delete l.discontinueTimer,i.isClosingByClient=!0,s.close(),u.length=0,m.length=0,g.length=0,S=()=>{},delete ys[o.connectUrl];let{connection:v}=navigator;v&&v.removeEventListener&&v.removeEventListener("change",this.handleConnectionChange),Jn&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)},this.isConnected=function(){return i.isConnected},this.sendChannel=function(v){s.readyState===WebSocket.OPEN?s.send(v):console.error("WebSocket is not in open state, can not send!")},this.onSocketConnected=function(v){return m.push(v),()=>{x(m,v)}},this.onSocketError=function(v){return u.push(v),()=>{x(u,v)}},this.onPushDiscontinue=function(v){return S=v,()=>{}},this.onStatusChange=function(v){return T.push(v),()=>{x(T,v)}},this.handleConnectPending=function(){i.isConnectPending&&u.forEach(v=>{v()})},this.handleConnectionChange=()=>{navigator.onLine===!0&&w()},this.handleVisibilityChange=()=>{if(!document.hidden){if(!this.isConnected()){w();return}Date.now()-c.lastReceivingTime>o.maxWaitingResponseTime&&(y(),l.killingUnWakeUpTimer=setTimeout(()=>{B(),N(),i.isKillingUnWakeUp=!0,s.close(),k()},o.maxSleepRecoveringTime))}},nr){let{connection:v}=navigator;v&&v.addEventListener&&v.addEventListener("change",this.handleConnectionChange),Jn&&document.addEventListener("visibilitychange",this.handleVisibilityChange)}return ys[o.connectUrl]=this,this}Vu.STATUS=go;nr&&!window.WebSocketCore&&(window.WebSocketCore=Vu);a();d();function VT(r=J){r.monitorTradeSpeedView({process:"26003"})}function WT(r=J){r.monitorTradeSpeedView({process:"26002"})}function Cs(r=J){r.monitorTradeSpeedView({process:"26004"})}function GT(r=J){r.monitorTradeSpeedView({process:"26005"})}function HT(r=J){r.monitorTradeSpeedView({process:"26006"})}function wp({isSimpleToast:r=!0,orderId:t,speedProvider:e},o=J){o.monitorWsTradeSpeedView({process:"26007",isSimpleToast:r,orderId:t,speedProvider:e})}a();d();var bs=class{constructor(){this.records=new Map;this.TIMEOUT_DURATION=2*60*1e3;nt(this)}addTimeoutWatch(t){let{orderId:e,txHash:o}=t;this.removeTimeoutWatch(e);let n=setTimeout(()=>{this.handleTimeout(e)},this.TIMEOUT_DURATION),i={orderId:e,txHash:o,timestamp:Date.now(),timerId:n};this.records.set(e,i),J.info(Se.THIRD_BROADCAST_TIMEOUT_WATCH_START,{data:{orderId:e,txHash:o,timeout:this.TIMEOUT_DURATION},tags:{orderId:e}})}removeTimeoutWatch(t){let e=this.records.get(t);e&&(clearTimeout(e.timerId),this.records.delete(t),J.info(Se.THIRD_BROADCAST_TIMEOUT_WATCH_CLEARED,{data:{orderId:t,txHash:e.txHash},tags:{orderId:t}}))}handleTimeout(t){this.records.get(t)&&(this.showTimeoutNotification(t),this.records.delete(t))}hasTimeoutWatch(t){return this.records.has(t)}getTimeoutRecord(t){return this.records.get(t)}get watchingCount(){return this.records.size}showTimeoutNotification(t){Qe.error({title:p("swaptrade_home_toast_initiation_error"),placement:Qe.DIRECTION.top,id:`timeout-${t}`}),J.error(Se.THIRD_BROADCAST_TIMEOUT,{data:{orderId:t},tags:{orderId:t}})}clearAll(){this.records.forEach(t=>{clearTimeout(t.timerId)}),this.records.clear(),J.info(Se.THIRD_BROADCAST_TIMEOUT_WATCH_CLEAR_ALL,{data:{message:"cleared"}})}},Ep=new bs;var Kt=new Map,Dp=()=>{if(Kt.size>=500){let r=Array.from(Kt.entries()),t=r.find(([,e])=>e.toastStatus==="received")?.[0];if(t)Kt.delete(t);else{let e=r[0]?.[0];e&&Kt.delete(e)}}},Qo=(r,t="OKX_DEX_WS")=>{let e=Kt.get(r);if(!e||e.successToastMonitorSended)return;e.receiveTimes?e.receiveTimes[t]=new Date().getTime():(e.receiveTimes={[t]:new Date().getTime()},e.firstReceiveSource=t);let o=()=>Object.values(Hi).every(c=>!!e.receiveTimes[c]),n=()=>{let c=e.receiveTimes["HELIUS"]-e.receiveTimes["FULLNODE"],u=e.receiveTimes["HELIUS"]-e.receiveTimes["OKX_DEX_WS"],m=e.receiveTimes["FULLNODE"]-e.receiveTimes["OKX_DEX_WS"];return{heliusAndFullNodeTimeDiff:c,heliusAndOkxDexWsTimeDiff:u,fullNodeAndOkxDexWsTimeDiff:m}},i=()=>["FULLNODE","OKX_DEX_WS"].every(c=>!!e.receiveTimes[c]),s=kr.ipRegion==="HK";(s?i():o())&&(e.successToastMonitorSended=!0,ld((()=>{if(s){let T=e.receiveTimes["FULLNODE"]-e.receiveTimes["OKX_DEX_WS"];return{hoverSource:"hk_receive_tx_statistics",calldataFrom:r,hoverTimediff:T,extraInfo:e.firstReceiveSource}}let{heliusAndFullNodeTimeDiff:u,heliusAndOkxDexWsTimeDiff:m,fullNodeAndOkxDexWsTimeDiff:g}=n();return{hoverSource:"non_hk_receive_tx_statistics",calldataFrom:r,hoverTimediff:u,hoverPrefetchAreaTimediff:m,hoverBtnTimediff:g,extraInfo:e.firstReceiveSource}})())),Kt.set(r,e)},zo=r=>{if(!r)return!1;let t=Kt.get(r);return t?t.toastStatus==="received":!1};var Yo=r=>{let t=Kt.get(r);t||Dp(),Kt.set(r,{...t,toastStatus:"received"})};a();d();var ho=class{constructor(t){h(this,"orderId","--");h(this,"chainId","--");h(this,"defiPlatformInfo","--");h(this,"fromAmount","--");h(this,"fromTokenSymbol","--");h(this,"price","--");h(this,"status","--");h(this,"time","--");h(this,"toAmount","--");h(this,"toTokenSymbol","--");h(this,"userWalletAddress","--");h(this,"exploreUrl","--");h(this,"isExchanged",!1);h(this,"swapType","--");h(this,"toChainId","--");nt(this),Object.assign(this,t)}get computedFromAmount(){return`${Me(this.fromAmount,{needPlaceholder:!0,needBillionMillionUnit:!0})}`}get computedToAmount(){return Y(this.toAmount)}get computedToNetWorkPath(){let{fromChainName:t,toChainName:e}=this;return t===e?e:`${t} ${p("swaptrade_order_info_label_network_to")} ${e}`}updateFromJson(t){Object.assign(this,t)}toJSON(){return io(this)}};var{BigNumber:vs}=Ye,Op=20,ti=[],I={Pending:"0",Quick:"5",Failed:"-1",Succeed:"1",Waiting:"100",SpeedingUp:"-4",Canceling:"-3",Canceled:"-2",PendingWithdrawn:"10",ReadyToClaim:"200",Claiming:"201",ClaimFailed:"202"},Re={EXPIRED:-7,CANCELLING:-3,CANCELLED:-2,FAILED:-1,TRADING:0,COMPLETED:1,CREATING:2,ACTIVE:3,SUSPENDED:4},{Pending:Lp,SpeedingUp:Pp,Canceling:Rp,PendingWithdrawn:Np,ReadyToClaim:Mp,Claiming:Fp,ClaimFailed:Bp}=I,Up=[Lp,Pp,Rp,Np,Mp,Fp,Bp],V={SingleChain:"1",CrossBridge:"2",CrossChain:"3",FromBridge:"3-1",BridgeTo:"3-2",FromBridgeTo:"3-3",GasStation:"4",GasStationCross:"5",LimitOrder:"6",MemeMode:"7"},et=ml,It={COMMON:1,BUY_DIP:2,TAKE_PROFIT:3,STOP_LOSS:4,CHASE_HIGH:5},Vp={COPY_TRADE:10},Wp={[It.BUY_DIP]:"swaptrade_tee_tag_buy_below",[It.TAKE_PROFIT]:"swaptrade_tee_tag_take_profit",[It.STOP_LOSS]:"swaptrade_tee_tag_stop_loss",[It.CHASE_HIGH]:"swaptrade_tee_tag_buy_above"},Gp={[Vp.COPY_TRADE]:{[It.TAKE_PROFIT]:"swaptrade_copytrade_trade_type_tp",[It.STOP_LOSS]:"swaptrade_copytrade_trade_type_sl"}},Hp=(r,t)=>Gp?.[Number(t)]?.[Number(r)]||""||Wp[Number(r)]||"";var Je={from:1,bridge:2,fromSwapTimeout:3},qp={FAIL:"-1",NO_SELECTED:"0",WAITING_FOR_FINAL:"1",WAITING_FOR_TRANSFER:"2",TRANSFER_SUCCEED:"3"},{NO_SELECTED:jp,TRANSFER_SUCCEED:Wu}=qp,To=10,Gu={curPageNum:1,pageSize:To,total:0,lastCreateTime:null,cursor:null},Kp={[V.SingleChain]:"swaptrade_order_swap_trade_type_swap",[V.CrossBridge]:"swaptrade_order_swap_trade_type_bridge",[V.CrossChain]:"swaptrade_order_swap_trade_type_cross_chain",[V.GasStation]:"swaptrade_dialog_tab_gasstation",[V.GasStationCross]:"swaptrade_dialog_tab_gasstation",[V.LimitOrder]:"swaptrade_dialog_tab_gasstation",[V.MemeMode]:"swaptrade_order_swap_trade_type_swap"},$p={[et.TEE_SA_LIMIT_ORDER]:(r,t)=>r?"swaptrade_tee_tab_label_limit_price":t?"swaptrade_tee_tab_label_limit_rate":"",[et.TEE_SA_MARKET]:"swaptrade_tee_tab_label_market",[et.TEE_SA_TP_ORDER]:"swaptrade_tee_select_limit",[et.TEE_SA_SL_ORDER]:"swaptrade_tee_select_limit",[et.TEE_SA_COPY_TRADE_ORDER]:"swaptrade_copytrade_status_copy_trade"},Hu=(r,t,e,o)=>Number(r)===et.TEE_SA_LIMIT_ORDER||Number(r)===et.TEE_SA_TP_ORDER||Number(r)===et.TEE_SA_SL_ORDER?t?"swaptrade_tee_tab_label_limit_price":e?"swaptrade_tee_tab_label_limit_rate":"swaptrade_orders_text_limit_order":o===10&&r===et.TEE_SA_TP_ORDER?"swaptrade_copytrade_trade_type_tp":o===10&&r===et.TEE_SA_SL_ORDER?"swaptrade_copytrade_trade_type_sl":$p[r];function ir({childOrderId:r,status:t,exploreUrl:e,orderFailReason:o,toastGuideUrl:n,fromTokenIcon:i,fromChainLogoUrl:s,fromAmountIn:l,fromTokenSymbol:c,fromChainName:u,toTokenIcon:m,toChainLogoUrl:g,toAmountOut:T,toTokenSymbol:_,toChainName:S,originalTokenSymbol:y,refundAmount:x,refundSymbol:b,refundChain:A,errorCode:N,guideUrl:w},k,P={}){let D=k==="from",R=D?l:T,B=x?Y(x,{needPlaceholder:!0}):"",H=D?Me(l):Y(T,{needBillionMillionUnit:!1});P?.useCurrencyInputFormat&&(H=Me(R));let O=P?.isMemeModeOrder&&P?.assetDelay&&t===I.Succeed?"999999":N;return{key:`${r}${k}`,status:t,exploreUrl:e,orderFailReason:o,toastGuideUrl:n,originalTokenSymbol:y,fromChainName:u,fromTokenSymbol:c,toChainName:S,chainName:D?u:S,chainLogo:D?s:g,symbol:D?c:_,symbolLogo:D?i:m,amount:R==="-1"?"":H,errorCode:O,guideUrl:w,refund:{amount:B,symbol:b,chain:A},...P}}var Qp={[Re.CANCELLED]:I.Canceled,[Re.COMPLETED]:I.Succeed,[Re.FAILED]:I.Failed,[Re.TRADING]:I.Pending,[Re.CREATING]:I.Pending,[Re.ACTIVE]:I.Pending,[Re.SUSPENDED]:I.Pending,[Re.EXPIRED]:I.Failed,[Re.CANCELLING]:I.Canceling},zp=r=>r.map(t=>yn(t)?{...t,time:t.tradeTime,fromIcon:G(t,"fromToken.tokenLogoUrl"),toIcon:G(t,"toToken.tokenLogoUrl"),fromTokenSymbol:G(t,"fromToken.tokenSymbol"),toTokenSymbol:G(t,"toToken.tokenSymbol"),fromAmount:G(t,"fromToken.tokenAmount"),toAmount:G(t,"toToken.tokenAmount"),fromChainName:t.chainName,toChainName:t.chainName,status:Qp[t.status]}:t),ws=class{constructor(t){h(this,"detail",{data:null,loading:!1,error:!1});h(this,"history",{list:[],loading:!1,loadMore:!1,hasMore:!1,error:null,pageInfo:{...Gu},chainId:-1,status:null});h(this,"limitHistory",{...this.history});h(this,"limitDetail",{...this.detail});h(this,"pendingOrders",[]);h(this,"modal",{orderId:"",visible:!1,defaultOrderId:""});h(this,"expireTime",0);h(this,"fromStepCountDownTimeGroup",{estimatedTime:0,estimatedTimeTotal:0});h(this,"bridgeStepCountDownTimeGroup",{estimatedTime:0,originEstimatedTime:0});h(this,"timeoutTimestamp",0);h(this,"timer",null);h(this,"timeOutTimer",null);h(this,"detailShowSource","");h(this,"showModal",(t,{tab:e="",isLimit:o,isBridge:n,orderData:i,strategyMode:s,orderType:l}={})=>{let c=typeof t=="string"?t:"";if(this.modal={visible:!0,orderId:c,defaultOrderId:c,isLimit:o,isBridge:n,orderData:i,strategyMode:s,orderType:l},e){this.setHistoryTab(e);return}let u=Ba?.[this.commonStore?.currentTab]??st.SWAP;this.setHistoryTab(u)});h(this,"updateModal",(t,{orderType:e=void 0,strategyMode:o=void 0,orderData:n=void 0,isLimit:i=void 0,isBridge:s=void 0}={})=>{this.modal.orderId=typeof t=="string"?t:"",this.modal.orderType=e,this.modal.strategyMode=o,this.modal.orderData=n,this.modal.isLimit=i,this.modal.isBridge=s});h(this,"closeModal",()=>{this.modal.visible=!1,this.setDetailShowSource()});h(this,"setDetailShowSource",(t="")=>{this.detailShowSource=t});h(this,"setDetail",t=>{this.detail={...this.detail,...t}});h(this,"setLimitDetail",t=>{this.limitDetail={...this.limitDetail,...t}});h(this,"getStepCountDownTimeGroup",({estimatedTime:t,originEstimatedTime:e,expireTime:o,extraEstimatedTime:n,extraOriginEstimatedTime:i})=>{let s=Math.min(t,o),l=e||t;return this.computedMainOrderType===V.BridgeTo&&(s=t+Math.min(n,o),l+=i),{estimatedTime:s,estimatedTimeTotal:l}});h(this,"setSwapExpireTime",t=>{let e=!this.computedCurrentHistoryTabIsLimit&&Number(t.estimatedTime),o=Number(t.fromEstimatedTime)||0,n=Number(t.bridgeEstimatedTime)||0,i=Number(t.originFromEstimatedTime)||0,s=Number(t.originBridgeEstimatedTime)||0;this.fromStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:e,estimatedTime:o,originEstimatedTime:i}),this.bridgeStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:e,estimatedTime:n,originEstimatedTime:s,extraEstimatedTime:o,extraOriginEstimatedTime:i}),this.expireTime=e,this.expireTime>0&&(this.timer=setInterval(()=>{let l=this.computedStepStatus.bridgeStatus,c=this.computedStepStatus.fromSwapStatus,u=this.detail?.data?.status===I.Canceling,m=g=>g===I.SpeedingUp||g===I.Pending;this.expireTime<1?(clearInterval(this.timer),this.bridgeStepCountDownTimeGroup.estimatedTime=0,this.fromStepCountDownTimeGroup.estimatedTime=0):(this.expireTime-=1,this.fromStepCountDownTimeGroup.estimatedTime>0&&m(c)&&!u&&(this.fromStepCountDownTimeGroup.estimatedTime-=1),this.bridgeStepCountDownTimeGroup.estimatedTime>0&&m(l)&&!u&&(this.bridgeStepCountDownTimeGroup.estimatedTime-=1))},1e3))});h(this,"setSwapTimeout",t=>{this.timeOutTimer&&clearInterval(this.timeOutTimer),this.timeoutTimestamp=Date.now()>t?0:t||0,this.timeoutTimestamp>0&&(this.timeOutTimer=setInterval(()=>{Date.now()>this.timeoutTimestamp&&(this.timeoutTimestamp=0,clearInterval(this.timeOutTimer))},1e3))});h(this,"removePendingOrder",t=>{let e=this.pendingOrders,o=e.findIndex(({orderId:i})=>i===t);o>-1&&e.splice(o,1),this.setPendingOrders([...e])});h(this,"updateDetailByData",t=>{let e=this.detail.data,o=n=>n&&{...n,fromAmountIn:n?.fromAmount,toAmountOut:n?.toAmount};if(e&&t&&t.orderId===e.orderId){let{fromChildOrder:n,bridgeChildOrder:i,toChildOrder:s}=t;this.setDetail({data:oo(e,{...t,fromChildOrderDetailVo:o(n),bridgeChildOrderDetailVo:o(i),toChildOrderDetailVo:o(s)})})}});h(this,"fetchSwapHistoryList",async t=>{let{pageNum:e,...o}=t||{},i=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[s,l]=await pe(al({...o,pageSize:To,accountId:this.accountStore.computedAccountId,...i}));if(s)return Promise.reject(s);let{dataList:c=[],cursor:u,hasNext:m}=l?.data||{};return{dataList:zp(c),pageSize:To,cursor:u,hasMore:m}});h(this,"fetchBridgeHistoryList",async t=>{let{pageNum:e,chainId:o,...n}=t||{},s=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[l,c]=await pe(re.get(qa,{params:{...n,fromChainId:o,pageSize:To,accountId:this.accountStore.computedAccountId,...s}}));if(l)return Promise.reject(l);let{dataList:u=[]}=c?.data||{};return{dataList:u,pageSize:To,lastCreateTime:u.length?u[u.length-1].time:null,hasMore:u.length===To}});h(this,"fetchLimitHistoryList",async(t={})=>{let e={...t,pageSize:this.limitHistory.pageInfo.pageSize,accountId:this.accountStore.computedAccountId,statusType:Bi.ALL};t.pageNum||(e.pageNum=1);let[o,n]=await pe(re.get(Ui,{params:e}));return o?Promise.reject(o):n?.data||{}});h(this,"fetchHistoryFn",{[st.SWAP]:this.fetchSwapHistoryList,[st.BRIDGE]:this.fetchBridgeHistoryList,[st.LIMIT_ORDER]:this.fetchLimitHistoryList});h(this,"fetchHistory",async(t={},e=!1)=>{if(!this.historyTab)return;let o=this.accountStore.computedAccountWalletAddressesArray,n=this.fetchHistoryFn[this.historyTab];if(this.computedIsLimitOrSwapLabel.loading||this.computedIsLimitOrSwapLabel.loadMore||ot(o)||!n)return;this.computedIsLimitOrSwapLabel.chainId!==-1&&Object.assign(t,{chainId:this.computedIsLimitOrSwapLabel.chainId}),this.computedStatusFilterValue&&Object.assign(t,{status:this.computedStatusFilterValue}),this.setSwapOrLimitHistory(e?{loadMore:!0}:{loading:!0});let[i,s]=await pe(n(t));if(this.setSwapOrLimitHistory(e?{loadMore:!1}:{loading:!1}),i){this.setSwapOrLimitHistory({error:i});return}this.setSucResult(s,e)});h(this,"setSucResult",(t,e)=>{let{dataList:o,pageSize:n,totalCount:i,curPageNum:s,maxPageNum:l,lastCreateTime:c,hasMore:u,cursor:m}=t,g=e?this.computedIsLimitOrSwapLabel.list.concat(o):o;this.setSwapOrLimitHistory({list:g,pageInfo:{...this.computedIsLimitOrSwapLabel.pageInfo,total:i,pageSize:n,curPageNum:s,lastCreateTime:c,cursor:m},error:null,hasMore:u??l>s})});h(this,"updateSwapAndLimitDataList",t=>{this.computedIsLimitOrSwapLabel.list.forEach((e,o)=>{String(e?.orderId)===String(t?.orderId)&&(this.computedIsLimitOrSwapLabel.list[o]={...e,...t})})});h(this,"setChainId",async t=>{this.resetHistoryList(),this.setSwapOrLimitHistory({chainId:t}),await this.fetchHistory()});h(this,"setStatus",async t=>{this.resetHistoryList(),this.setSwapOrLimitHistory({status:t}),await this.fetchHistory()});h(this,"resetHistoryList",()=>{this.setSwapOrLimitHistory({pageInfo:{...Gu},list:[],error:null,loading:!1,loadMore:!1,hasMore:!1,chainId:-1,status:null})});h(this,"getLocalPriceFee",(t,e,o=!0)=>{let{symbol:n,usdToThisRate:i}=this.commonStore.nowCurrencyUnit||{};if(t&&e&&i){let s=Ye.mul(Ye.mul(t,e),i);return o?`(${Dt(s,n)})`:Dt(s,n)}return""});h(this,"getServiceFeeInfo",t=>{let{currencyConversionWithSymbol:e}=this.commonStore,{serviceFee:o,serviceFeeUsd:n,serviceFeeTokenSymbol:i,isDisplayServiceFee:s,isDisplayUsdFee:l,discountedServiceFeeRate:c}=Li(t,"serviceFee","serviceFeeUsd","serviceFeeTokenSymbol","isDisplayServiceFee","isDisplayUsdFee","discountedServiceFeeRate"),u=zi({serviceFee:o,serviceFeeUsd:n,tokenSymbol:i,formatServiceFeeUsd:e,discountedServiceFeeRate:c,isDisplayUsdFee:l}),m=String(s)==="1";return{formattedServiceFee:u,shouldDisplayServiceFee:m}});h(this,"getBridgeFeeInfo",t=>{let{currencyConversionWithSymbol:e}=this.commonStore,{toSwapServiceFee:o,toSwapServiceFeeUsd:n,toSwapServiceFeeTokenSymbol:i}=Li(t,"toSwapServiceFee","toSwapServiceFeeUsd","toSwapServiceFeeTokenSymbol"),s=zi({serviceFee:o,serviceFeeUsd:n,tokenSymbol:i,formatServiceFeeUsd:e}),l=zd(t);return{formattedServiceFee:s,shouldDisplayServiceFee:l}});h(this,"getDexGasStationFeeDetailTip",(t,e)=>{if(!this.computedIsGasStation||e!==I.Succeed||!t)return"";let{approveTokenAmount:o,gasTokenPriceUSD:n,gasTokenSymbol:i,swapGasFeeAmount:s,transferApproveTokenGasFeeAmount:l}=t||{};return p("swaptrade_swapforgas_tooltips_desc_gasswap_netfee",{value1:this.getLocalPriceFee(o,n,!1),approveFee:Y(o),token1:i,value2:this.getLocalPriceFee(l,n,!1),transferFee:Y(l),token2:i,value3:this.getLocalPriceFee(s,n,!1),swapFee:Y(s),token3:i})});h(this,"emitOrder",t=>{if(t){let{status:e,orderId:o,strategyMode:n,orderType:i}=t;e===I.Succeed||e===ze.SUCCEED?is.emit(qn.SUCCESS,{status:0,data:io(t),message:yr("transaction success")}):(e===I.Failed||e===ze.FAILED)&&is.emit(qn.FAIL,{data:{orderId:o,strategyMode:n,orderType:i},status:-1,message:yr("transaction fail")})}});h(this,"onSocket",(t,e=!0,o={})=>{(t?.type==="1"||t?.type==="3")&&t?.dexData&&t.dexData.type!=="approve"&&t.dexData.type!=="register"&&(this.updateSwapAndLimitDataList(t.dexData),this.updateSwapDetail(t.dexData),this.updateLimitOuterOrderList(t.dexData),this.updatePendingOrdersByData(t.dexData),this.emitOrder(t.dexData),this.toastSwapAndLimitOrder(e,t.dexData,o)),t?.type==="5"&&t?.dexData&&t.dexData.type!=="approve"&&t.dexData.type!=="register"&&e&&this.quickToastSwapOrder(t.dexData)});h(this,"onLimitDetailSocket",t=>{this.updateLimitDetailByData(t)});h(this,"onStrategyDetailSocket",t=>{this.updateStrategyDetailByData(t)});h(this,"updateSwapDetail",t=>{t.swapTradeType!==V.LimitOrder&&this.updateDetailByData(t)});h(this,"updateLimitOuterOrderList",t=>{this.commonStore?.computedCurrentTabIsLimit&&this.rootStore.limitOrderListStore.updateLimitOuterListData(t)});h(this,"toastSwapAndLimitOrder",(t,e,o={})=>{t&&!this.commonStore?.computedCurrentTabIsLimit?this.toastOrder(e,o):t&&this.commonStore?.computedCurrentTabIsLimit&&yl(e)});h(this,"quickToastSwapOrder",({status:t,receiveTokenStatus:e,transactionHash:o,orderId:n})=>{let i=e!==Wu;if(t===I.Succeed&&i){if(Qo(o),zo(o))return;Yo(o);let s=us.getDuration(n),l=s?br("swaptrade_toast_msg_transaction_success_time",{time:React.createElement(ts,{duration:s})}):p("swaptrade_meme_broadcast_toast_trade_successful");Vo({tx_status:"success",terminal:"web"}),or({title:l,orderId:n})}});h(this,"onSocketError",async()=>{let{computedAccountId:t}=this.accountStore,{currentTab:e}=this.commonStore,{visible:o,orderId:n,strategyMode:i,isLimit:s,orderType:l}=this.modal;if(!o){let[c]=await pe(this.updatePendingOrders(t,e));c&&wa.error("history detail onSocketError",{error:c})}o&&n&&await pe(this.updateDetail({orderId:n,strategyMode:i,silent:!0,isLimit:s,orderType:l}))});h(this,"historyTab","");h(this,"setHistoryTab",t=>{this.historyTab=t});h(this,"dialogVisible",!1);h(this,"setDialogVisible",t=>{this.dialogVisible=t});h(this,"dialogOrderId","");h(this,"setDialogOrderId",t=>{this.dialogOrderId=t});h(this,"openDialog",t=>{t&&(this.setDialogVisible(!0),this.setDialogOrderId(t))});h(this,"closeDialog",()=>{this.setDialogVisible(!1),this.setDialogOrderId("")});h(this,"setDefaultOrderId",t=>{this.modal.defaultOrderId=t});nt(this,{},{autoBind:!0}),this.rootStore=t,this.commonStore=t.commonStore,this.accountStore=t.accountStore,this.fromToStore=t.fromToStore,this.tokenModalStore=t.tokenModalStore}get computedHistoryList(){return this.history.list.map(t=>new ho(io(t)))}get computedLimitHistoryList(){return this.limitHistory.list.map(t=>new ho(io(t)))}get computedTimeGroup(){let t=this.computedCurrentHistoryTabIsLimit?this.computedLimitHistoryList:this.computedHistoryList,e=this.computedCurrentHistoryTabIsLimit?"createTime":"time";return t.reduce((o,n)=>{let i=o.find(s=>s.time===Cr(n?.[e],{format:"yyyyMMdd"}));return i?i.list.push(n):o.push({time:Cr(n?.[e],{format:"yyyyMMdd"}),list:[n]}),o},[])}get noData(){return this.computedCurrentHistoryTabIsLimit?!this.computedLimitHistoryList.length:!this.computedHistoryList.length}setHistory(t){this.history={...this.history,...t}}setLimitHistory(t){this.limitHistory={...this.limitHistory,...t}}setPendingOrders(t){this.pendingOrders=t}fetchSwapOrderDetail({orderId:t}){return re.get(Ua,{params:{orderId:t}}).then(({data:e})=>e)}async fetchLimitOrderSimpleInfo({orderId:t,strategyMode:e,orderType:o,initialLimitDetail:n}){let{authToken:i}=await ns.getAuthToken(this.accountStore.computedAccountId),s={needSign:!0,headers:{"X-Web3-Auth":i||""}};return re.get(Ha,{params:{orderId:t,strategyMode:e,orderType:o,accountId:this.accountStore.computedAccountId},...s}).then(({data:l})=>({...n,...l})).catch(l=>{Number(l?.code)===gl&&ns.removeAuthToken()})}fetchLimitOrderDetail({orderId:t,strategyMode:e,orderType:o}){return re.get(Ga,{params:{orderId:t,strategyMode:e,orderType:o}}).then(({data:n})=>n)}fetchDetail({orderId:t,strategyMode:e,isLimit:o,orderType:n,initialLimitDetail:i}){if(o??this.computedCurrentHistoryTabIsLimit){let s={orderId:t,strategyMode:e,orderType:n};return i?this.fetchLimitOrderSimpleInfo({...s,initialLimitDetail:i}):this.fetchLimitOrderDetail(s)}return this.fetchSwapOrderDetail({orderId:t})}fetchPendingOrders(t,e){let n=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},i=e===st.BRIDGE?Wa:Va;return re.post(i,{accountId:t,...n}).then(({data:s})=>s)}async updatePendingOrders(t,e){if(va())return;let o;if(this.commonStore?.computedCurrentTabIsLimit){let[,n]=await pe(re.get(Ui,{params:{accountId:this.accountStore.computedAccountId,chainId:"",pageNum:1,pageSize:10,statusType:Bi.PENDING}}));o=n?.data?.dataList}else{let[,n]=await pe(this.fetchPendingOrders(t,e));o=n}Array.isArray(o)?this.setPendingOrders(o):this.setPendingOrders([])}updatePendingOrdersByData(t){if(!t)return;let e=this.pendingOrders,o=e.findIndex(({orderId:s})=>s===t.orderId),n=o>-1,i=t.swapTradeType===V.LimitOrder?t.status===ze.PENDING:Up.includes(t.status);i?(n&&e.splice(o,1),e.push(t)):!i&&n&&e.splice(o,1),this.setPendingOrders([...e])}async updateDetail({orderId:t,silent:e,strategyMode:o,isLimit:n,orderType:i,initialLimitDetail:s}){e||this.setLimitOrSwapDetail({data:null,loading:!0,error:!1},n);let[l,c]=await pe(this.fetchDetail({orderId:t,strategyMode:o,isLimit:n,orderType:i,initialLimitDetail:s}));clearInterval(this.timer),l?this.setLimitOrSwapDetail({data:null,error:!0},n):c?(this.setLimitOrSwapDetail({data:c,error:!1},n),this.setSwapExpireTime(c),this.setSwapTimeout(Number(c.timeoutTimestamp))):this.setLimitOrSwapDetail({data:null,error:!1},n),this.setLimitOrSwapDetail({loading:!1},n)}setLimitOrSwapDetail(t,e){e??this.computedCurrentHistoryTabIsLimit?this.setLimitDetail(t):this.setDetail(t)}updateLimitDetailByData(t){let e=this.limitDetail.data;if(Tr(t)||ot(t)||!t?.orderId||e?.orderId!==t.orderId)return;let o={...e};if(Tr(t.orderType)||(o.orderType=t.orderType),Tr(t.userWalletAddress)||(o.userWalletAddress=t.userWalletAddress),Tr(t.status)||(o.status=t.status),!t.extraInfo){this.setLimitDetail({data:o});return}if(t.extraInfo.type==="7"&&t.extraInfo.args){let{toTokenPrice:n,toTokenAmount:i}=t.extraInfo.args;o.toToken={...t.toToken,tokenAmount:i,tokenUsd:n},this.setLimitDetail({data:o});return}if(t.extraInfo.type==="3"&&t.extraInfo.args){let{failCode:n}=t.extraInfo.args;o.failCode=n,this.setLimitDetail({data:o})}}updateStrategyDetailByData(t){let{eventType:e,data:o}=t;if(![0,4].includes(e))return;let n=this.limitDetail.data;if(Tr(o)||ot(o))return;let i={...n};Tr(o.status)||(i.status=o.status),this.setLimitDetail({data:i})}get computedStatusFilterValue(){return this.historyTab===st.SWAP?fl[this.computedIsLimitOrSwapLabel.status]:pl[this.computedIsLimitOrSwapLabel.status]}get computedIsLimitOrSwapLabel(){return this.computedCurrentHistoryTabIsLimit?this.limitHistory:this.history}setSwapOrLimitHistory(t){this.computedCurrentHistoryTabIsLimit?this.setLimitHistory(t):this.setHistory(t)}get computedIsSingleChain(){return[V.SingleChain,V.GasStation,V.MemeMode].includes(G(this,"detail.data.swapTradeType",""))}get computedIsGasStation(){return[V.GasStation,V.GasStationCross].includes(G(this,"detail.data.swapTradeType",""))}get computedMainOrderType(){let t=this.detail.data,e="";if(!t)return e;let{swapTradeType:o,hiddenFromOrder:n,toChildOrderDetailVo:i}=t;return o!==V.CrossChain?e=o:n==="1"?e=V.BridgeTo:i?e=V.FromBridgeTo:e=V.FromBridge,e}get computedStepStatus(){let t=this.detail.data,e=n=>n?[I.Waiting,I.Pending].includes(n)?I.Pending:n:"",o=this.computedMainOrderType===V.BridgeTo?e(t?.bridgeChildOrderDetailVo?.status||""):t?.bridgeChildOrderDetailVo?.status||"";return[V.BridgeTo,V.CrossBridge].includes(this.computedMainOrderType)&&[I.Failed,I.Canceled].includes(t?.status)&&(o=t?.status),{fromSwapStatus:e(t?.fromChildOrderDetailVo?.status||""),bridgeStatus:o,toSwapStatus:t?.toChildOrderDetailVo?.status||""}}get computedRatio(){let t=this.detail?.data;if(!t)return{fromRatio:0,bridgeRatio:0};let{status:e}=t,o=this.computedStepStatus.bridgeStatus,n=this.computedStepStatus.fromSwapStatus;if(e===I.Succeed||e===I.Canceled||e===I.Failed&&this.computedMainOrderType===V.BridgeTo)return{fromRatio:1,bridgeRatio:1};let s=(this.fromStepCountDownTimeGroup.estimatedTimeTotal-this.fromStepCountDownTimeGroup.estimatedTime)/this.fromStepCountDownTimeGroup.estimatedTimeTotal;s=s>.8||this.fromStepCountDownTimeGroup.estimatedTimeTotal===0?.8:s;let l=(this.bridgeStepCountDownTimeGroup.estimatedTimeTotal-this.bridgeStepCountDownTimeGroup.estimatedTime)/this.bridgeStepCountDownTimeGroup.estimatedTimeTotal;return l=l>.8||this.bridgeStepCountDownTimeGroup.estimatedTimeTotal===0?.8:l,n!==I.Pending&&n!==I.SpeedingUp&&n!==I.Canceling&&(s=1),this.computedMainOrderType===V.FromBridgeTo&&o!==I.Pending&&o!==I.SpeedingUp&&o!==I.Canceling&&(l=0),o===I.Succeed&&(l=1),{fromRatio:s,bridgeRatio:l}}get computedFoldTipToast(){let t=this.detail?.data;if(!t)return{foldTipType:""};let{bridgeChildOrderDetailVo:e}=t,o=[],n=[],i=!1,s=!1,l=0,c=this.fromStepCountDownTimeGroup.estimatedTime,u=this.bridgeStepCountDownTimeGroup.estimatedTime,m=this.computedMainOrderType===V.FromBridge;this.computedSubOrders.forEach((y,x)=>{(y.tipType===Je.from||y.tipType===Je.bridge)&&o.push(y),y.errorCode!=="0"&&x<this.computedSubOrders.length-1&&n.push(y)});let g=-1,T=-1;o.length>0&&(g=o[0]?.tipType,T=o[0]?.blockProcess),g===Je.bridge&&(l=u),g===Je.from&&(l=c),m&&g===Je.bridge&&(l=0),g===Je.from?s=c===0:g===Je.bridge&&(s=u===0);let _={...e,refund:{amount:e?.refundAmount?Y(e.refundAmount):"",symbol:e?.refundSymbol,chain:e?.refundChain}},S=g===Je.bridge?_:o?.[0];return n.length>0&&(S=n[n.length-1],i=!0),{foldTipType:g,foldBlockProcess:T,currentProcessIsTimeOut:s,tipCountDownTime:l,filterProcessItem:S,needShowErrorTip:i}}get computedSubOrders(){let t=this.detail.data;if(!t)return[];let{fromChildOrderDetailVo:e,bridgeChildOrderDetailVo:o}=t,{toChildOrderDetailVo:n,status:i,assetDelay:s}=t,l=this.computedStepStatus.bridgeStatus,c=this.computedStepStatus.fromSwapStatus,u=this.computedMainOrderType===V.BridgeTo,m=[e?.errorCode,o?.errorCode,n?.errorCode].filter(Boolean).some(N=>N!=="0"),g=i===I.ReadyToClaim,T=this.computedMainOrderType===V.FromBridgeTo,_=this.computedMainOrderType===V.FromBridge,S=l===I.Pending||l===I.SpeedingUp||this.computedMainOrderType===V.CrossBridge&&i!==I.Failed&&i!==I.Canceled&&i!==I.Succeed||u&&l===I.Waiting?Je.bridge:0,y=c===I.Pending||c===I.SpeedingUp?Je.from:0,x={bridgeInfo:o?.bridgeOrderInfoVo,dexBridgeShadowTokenPair:o?.dexBridgeShadowTokenPairInfoVo,dexBridgeShadowTokenPairChainId:o?.toChainId,tipInfo:{toTokenSymbol:e?.toTokenSymbol},bridgeTipInfo:{bridgeName:o?.bridgeOrderInfoVo?.bridgeName||"",toChainName:o?.toChainName||""}};e={...e,status:this.computedStepStatus.fromSwapStatus};let b=o?.status;o={...o,status:this.computedStepStatus.bridgeStatus};let A=this.computedFromChainRefundInfo.isFromChainRefund?"":o?.exploreUrl;if(this.computedIsSingleChain||this.computedMainOrderType===V.GasStationCross){let N=!1;this.timeoutTimestamp?N=!this.expireTime&&e.status===I.Pending:N=e.status===I.Pending;let w=this.computedMainOrderType===V.MemeMode;return[ir(e,"from",{isFromStart:!0,hasTimeoutTips:N,timeoutType:Ce.SINGLE_TIPS,hasErrorCode:m}),ir(e,"to",{...x,hiddenExploreUrl:!0,subOrderType:Tt.SINGLE,isMemeModeOrder:w,assetDelay:s,hasErrorCode:m})]}else if(this.computedMainOrderType===V.CrossBridge){let N=this.expireTime<1&&(o.status===I.Waiting||o.status===I.Pending);return[ir(e,"to",{...x,tipType:S&&!g,useCurrencyInputFormat:!0,hasTimeoutTips:N&&!g,timeoutType:Ce[o.status===I.Pending?"BRIDGE":"GAS"],blockProcess:o.status===I.Pending?Ce.BLOCK_BRIDGE:-1,hasErrorCode:m,subOrderDesc:"CrossBridge_1"}),ir(o,"to",{...x,exploreUrl:A,officialBridgeTime:o?.officialBridgeTime,hasErrorCode:m,subOrderType:Tt.CROSS_BRIDGE_SWAP,subOrderDesc:"CrossBridge_2"})]}else if([V.BridgeTo,V.FromBridge,V.FromBridgeTo].includes(this.computedMainOrderType)){let N=this.expireTime<1&&n?.status===I.Pending,w=!this.fromStepCountDownTimeGroup.estimatedTime&&(e.status===I.Pending||b===I.Waiting),k=!1,P;u&&!this.bridgeStepCountDownTimeGroup.estimatedTime?b===I.Waiting?(k=!0,P=Ce.GAS):b===I.Pending&&(k=!0,P=Ce.BRIDGE):T&&e?.status===I.Succeed&&!this.bridgeStepCountDownTimeGroup.estimatedTime&&(o.status===I.Waiting?(k=!0,P=Ce.GAS):o.status===I.Pending&&(k=!0,P=Ce.BRIDGE));let D=[ir(e,"from",{isFromStart:!0,ratio:this.computedRatio.fromRatio,showProgressBar:!0,tipType:y,hasTimeoutTips:w&&!g,timeoutType:Ce.SINGLE_TIPS,blockProcess:w?Ce.BLOCK_FROM:"",...x,hasErrorCode:m,subOrderDesc:"Bridge_from_1"}),ir(e,"to",{ratio:this.computedRatio.bridgeRatio,tipType:_&&w&&g?0:S&&!g,showProgressBar:T||u,countDownTime:!u&&this.fromStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:k&&!g,timeoutType:_?Ce.SINGLE_TIPS:P,blockProcess:Ce.BLOCK_BRIDGE,...x,subOrderType:Tt.CROSS_FROM_SWAP,hasErrorCode:m,subOrderDesc:"Bridge_to_2"}),ir(o,"to",{...x,exploreUrl:A,countDownTime:this.bridgeStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:_?!1:N&&!g,blockProcess:!_&&N?Ce.BLOCK_TO:"",timeoutType:Ce.SINGLE_TIPS,subOrderType:Tt.CROSS_BRIDGE_SWAP,hasErrorCode:m,subOrderDesc:"Bridge_to_3"})];return u&&D.shift(),(u||T)&&D.push(ir(n,"to",{subOrderType:Tt.CROSS_TO_SWAP,hasErrorCode:m,subOrderDesc:"Bridge_to_4"})),D}return[]}get computedFirstTimeoutSubOrderBlockProcess(){let t=this.computedSubOrders,e=this.computedFoldTipToast||{},o=t.find(n=>n.hasTimeoutTips);return G(o,"blockProcess")||G(e,"foldBlockProcess")||-1}get computedDataDetail(){return this.computedCurrentHistoryTabIsLimit?this.limitDetail:this.detail}get computedLimitOrderInfo(){if(!this.limitDetail?.data)return null;let{orderId:t,transactionType:e,createTime:o,userWalletAddress:n,status:i,orderType:s,expireTime:l,fromToken:c={},toToken:u={},slippageInfo:m,networkFeeInfo:g,serviceFeeInfo:T,routeSelection:_,approveMethod:S,providerInfo:y,triggerInfo:x,transactionInfo:b,swapDuration:A,executionHistoryList:N,chainName:w,chainLogoUrl:k,chainSymbol:P,executionHistoryShowMaxNum:D,canResume:R,failureReason:B,exchangeDirection:H,strategyMode:O,strategyType:j,boostInfo:v}=this.limitDetail?.data??{},{boostVolume:Q,weighted:X}=v||{},_e=ul(this.limitDetail?.data),ge=k,{chainId:te,tokenLogoUrl:ne,tokenAmount:ie,tokenSymbol:Ae}=c||{},{tokenLogoUrl:Ft,tokenSymbol:Be,tokenAmount:De}=u||{},{tokenSymbol:Bt}=_e,{nativeTokenCostAmt:_t}=g||{},{serviceFeeUsd:Zt,nativeTokenCostAmt:we,discountedServiceFeeRate:eo}=T||{},{transactionPrice:Ke,transactionHash:Ut,transactionTime:bt,exploreUrl:No,transactionRate:gt}=b||{},to=!Oi(ie)&&Ye.gte(ie,0),ht=!Oi(De)&&Ye.gte(De,0),vt=Me(ie,{noNeedThousandth:!0}),ro=Xe(De,{needBillionMillionUnit:!1}),Sn=!!x?.triggerRate,In={fromAmount:1,fromSymbol:Ae,toAmount:Xe(gt,{needBillionMillionUnit:!1}),toSymbol:Be},Mo={fromAmount:1,fromSymbol:Bt,rightNumber:this.getLocalPriceFee(1,Ke,!1)},kn={leftNumber:this.getLocalPriceFee(1,1,!1),toAmount:Xe(vs(1).div(Ke).toString(),{needBillionMillionUnit:!1}),toSymbol:Be},xn={fromAmount:1,fromSymbol:Be,toAmount:Xe(vs(1).div(gt).toString(),{needBillionMillionUnit:!1}),toSymbol:Ae},Ai=this.getServiceFeeInfo({serviceFee:we||0,serviceFeeUsd:Zt,serviceFeeTokenSymbol:P,isDisplayServiceFee:!!T,discountedServiceFeeRate:eo,isDisplayUsdFee:!0}),Di=String(te)===String(Te.SOLANA_MAINNET);return{canResume:R,orderType:s,transactionType:e,executionHistoryShowMaxNum:Sa(D)?D:5,typeKey:"swaptrade_orders_text_limit_order",orderTypeKey:Hu(s,!!x?.triggerPrice,!!x?.triggerRate,O),strategyType:j,strategyTypeKey:Hp(j,O),status:i,fromToken:c||{},toToken:u||{},isSuccess:Number(i)===Re.COMPLETED,isFailed:Number(i)===Re.FAILED,isCreating:Number(i)===Re.CREATING,fromTokenGroupLabel:`${Lt("-",vt)} ${Ae}`,formattedFromAmount:vt,fromTokenGroupLabelEquation:`${to?Lt("-",vt):le} ${ue(Ae)}`,toTokenGroupLabel:`${Lt("+",ro)} ${Be}`,toTokenGroupLabelEquation:`${ht?Lt("+",ro):le} ${ue(Be)}`,fromChainLogoUrl:k,fromTokenIcon:ne,toChainLogoUrl:ge,toTokenIcon:Ft,createTime:o?Cr(o,{format:"yyyyMMddHHmmss"}):"",expireTime:l?Cr(l,{format:"yyyyMMddHHmmss"}):"",txTime:bt?Cr(bt,{format:"yyyyMMddHHmmss"}):"",networksName:w,networksLogo:k,isExecutionPriceByRate:Sn,execRate:gt?er(In):le,execPrice:Ke?er(Mo):le,reverseExecPrice:Ke?er(kn):le,reverseExecRate:gt?er(xn):le,execPriceEquation:Ke?tr(Mo):le,reverseExecPriceEquation:Ke?tr(kn):le,execRateEquation:gt?tr(In):le,reverseExecRateEquation:gt?tr(xn):le,fee:_t?Go({amount:Xe(_t),symbol:P}):le,originAddress:n,formatAddress:rr(n),exploreUrl:No,fromTokenSymbol:Ae,failureReason:B,isSolanaLimitOrder:Di,limitServiceFeeInfo:Ai,formattedLastedHash:rr(Ut),latestTransactionHash:Ut,routeSelection:_,approveMethod:S,executionHistoryList:N,swapDuration:ot(A)?le:Vi(A,{hideZero:!0}),slippageInfo:m,providerInfo:y,triggerInfo:x,orderId:t,exchangeDirection:H,boostVolume:Q,boostWeight:X,isOrderFinished:ds(i)}}get computedLimitFromToInfo(){let t=this.limitDetail?.data;if(!t)return null;let{chainId:e,fromToken:o,toToken:n,userWalletAddress:i,swapTradeType:s}=t;return{apiRequestParams:{fromChainId:e,toChainId:e,userWalletAddress:i,swapTradeType:s},locationParams:{from:{chainId:e,tokenContractAddress:o.tokenContractAddress},to:{chainId:e,tokenContractAddress:n.tokenContractAddress}}}}get computedSwapFromToInfo(){let t=this.detail?.data;if(!t)return null;let{fromChainId:e,fromTokenAddress:o,toChainId:n,toTokenAddress:i,swapTradeType:s,from:l}=t;return{apiRequestParams:{fromChainId:e,toChainId:n,userWalletAddress:l,swapTradeType:s},locationParams:{from:{chainId:e,tokenContractAddress:o},to:{chainId:n,tokenContractAddress:i},inputAmount:this.computedIfSwapFailedAmount||Oa}}}get computedFromToInfo(){return this.computedCurrentHistoryTabIsLimit?this.computedLimitFromToInfo:this.computedSwapFromToInfo}getForRefuelFromPrice(t){return t&&!Uo(t)?Y(t):"--"}getReceiveTokenPrice(t){return t&&!Uo(t)?Y(t):"--"}getExplorerUrl(t){return this.computedIsSingleChain?t?.exploreUrl:""}getOrderFinnishedTime(t,e,o){return[I.Succeed].includes(o)?Vi(e-t,{hideZero:!0}):"--"}getFormattedNetworkFee(t){return t?Y(t):""}getFormattedOtherFees(t){return t?Y(t):""}getOtherFees(t,e){return t&&e?.fromTokenSymbol?`${t} ${e.fromTokenSymbol}`:""}getBridgeFee(t,e){return t?`${t} ${e?.toTokenSymbol}`:""}getBridgeFeeUsd(t,e,o){return td(t(e).toString(),o)}getEstimateBridgeFeeAmount(t,e){return t?`${Y(t)} ${e}`:""}getEstimateBridgeFeeAmountUsd(t,e,o){return t?Dt(o(t).toString(),e):""}getToSwapFee(t,e){return t?Go({amount:t,symbol:e}):""}getFromToPrice(t){return t&&!Uo(t)&&t!=="-1"?Y(vs("1").div(t).toString(10),{needBillionMillionUnit:!1}):"--"}getToFromPrice(t){return t&&!Uo(t)&&t!=="-1"?Y(t,{needBillionMillionUnit:!1}):"--"}getGasToken(t,e,o,n,i){return!t||t===jp?null:{amount:e,symbol:o,status:t,exploreUrl:n,logoUrl:i}}get computedOrderInfo(){if(!this.detail.data)return null;let{swapTradeType:t,time:e,fromChainName:o,fromChainLogoUrl:n,fromChildOrderDetailVo:i,toChainName:s,toChainLogoUrl:l,networkFee:c,nativeTokenSymbol:u,otherFees:m,from:g,forRefuelFromAmount:T,fromAmount:_,fromChainId:S,fromTokenSymbol:y,fromTokenAddress:x,toTokenSymbol:b,toChainId:A,toTokenAddress:N,bridgeChildOrderDetailVo:w,receiveTokenStatus:k,receiveTokenExploreUrl:P,receiveTokenAmount:D,receiveTokenSymbol:R,abnormalStatus:B,hiddenFromOrder:H,bridgeFee:O,bridgeFeeUsd:j,estimateBridgeFeeAmount:v,estimateBridgeFeeAmountUsd:Q,toSwapFee:X,toChainNativeTokenSymbol:_e,hiddenOtherFee:ge,toChildOrderDetailVo:te,price:ne,receiveWalletAddress:ie,gasStationActivityReward:Ae,receiveTokenLogoUrl:Ft,errorCode:Be,status:De,orderCompletionTime:Bt,orderId:_t,specialOrderType:Zt,mevInfo:we,fromSwapMevInfo:eo,toSwapMevInfo:Ke,assetDelay:Ut,assetDelayTime:bt,isMemeTimeOut:No,totalSlippage:gt,slippageValue:to,dexGasStationFeeDetailVO:ht,freeGas:vt,estimatedTime:ro,transactionHash:Sn,willNeedManualClaim:In,orderType:Mo,approveMethod:kn,isHasSurplus:xn,surplusAmount:Ai,surplusValueUSD:Di,toAmount:kc,toAmountValueUsd:xc,quoteToAmount:yc,quoteToValueUsd:Cc,boostVolume:bc,boostWeight:vc}=this.detail.data,wc=String(vt)===Un.FREE,da=this.detail.data?.defiPlatformInfo,{currencyConversion:la,computedNowCurrencySymbol:ua}=this.commonStore,Ec=this.getServiceFeeInfo(this.detail.data),Ac=this.getBridgeFeeInfo(this.detail.data),ma=[{chainName:o,chainLogo:n}];this.computedIsSingleChain||ma.push({chainName:s,chainLogo:l});let ca=this.getFormattedNetworkFee(c),Dc=this.getFormattedOtherFees(m),Oc=Wi(O),Lc=Wi(X),Pc=t===V.MemeMode,Rc=()=>{if(this.computedIsGasStation&&ht){let{gasTokenSymbol:Mc,totalGasFeeAmount:Fc}=ht||{},pa=Y(Fc);return pa?Go({amount:pa,symbol:Mc}):"--"}return ca?Go({amount:ca,symbol:u}):"--"},Nc=w?.bridgeOrderInfoVo?.bridgeId;return{swapTradeType:t,orderType:Mo,routeSelection:we,approveMethod:kn,isSingleChain:this.computedIsSingleChain,type:t,transactionTypeKey:Kp[t],orderTypeKey:Hu(Mo),isShowCancel:i?.isShowCancel,time:Cr(e,{format:"yyyyMMddHHmmss"}),networks:ma,assetDelay:Ut,assetDelayTime:bt,isMemeTimeOut:No,isMemeModeOrder:Pc,networkFee:Rc(),otherFees:this.getOtherFees(Dc,w),bridgeFee:this.getBridgeFee(Oc,w),bridgeId:Nc,bridgeName:w?.bridgeOrderInfoVo?.bridgeName,bridgeLogo:w?.bridgeOrderInfoVo?.bridgeLogo,bridgeFeeUsd:this.getBridgeFeeUsd(la,j,ua),estimateBridgeFeeAmount:this.getEstimateBridgeFeeAmount(v,u),estimateBridgeFeeAmountUsd:this.getEstimateBridgeFeeAmountUsd(Q,ua,la),toSwapFee:this.getToSwapFee(Lc,_e),fromToPrice:this.getFromToPrice(ne),toFromPrice:this.getToFromPrice(ne),from:g,chainId:S,fromChainId:S,receiveWalletAddress:ie,fromAmount:_,fromTokenAddress:x,fromSymbol:y,toSymbol:b,toChainId:A,toTokenAddress:N,omittedFrom:rr(g),omittedTo:rr(ie),gasToken:this.getGasToken(k,D,R,P,Ft),abnormalStatus:B,hiddenFromOrder:H,hiddenOtherFee:ge,hasToChildOrderDetailVo:!!te,forRefuelFromPrice:this.getForRefuelFromPrice(T),receiveTokenPrice:this.getReceiveTokenPrice(D),receiveTokenStatus:k,gasStationActivityReward:Ae,exploreUrl:this.getExplorerUrl(i),errorCode:Be,orderFinishedTime:this.getOrderFinnishedTime(e,Bt,De),status:De,orderId:_t,fromChainName:o,specialOrderType:Zt,mevInfo:we,fromSwapMevInfo:eo,toSwapMevInfo:Ke,totalSlippage:gt,slippageValue:to,defiPlatformInfo:da,isIntentOrder:wc,dexGasStationFeeDetailTips:this.getDexGasStationFeeDetailTip(ht,De),freeGas:vt,estimatedTime:ro,singleChainServiceFeeInfo:Ec,crossChainServiceFeeInfo:Ac,transactionHash:Sn,omittedHash:rr(Sn),willNeedManualClaim:In,isHasSurplus:xn,surplusAmount:Ai,surplusValueUSD:Di,toAmount:kc,quoteToAmount:yc,toChainName:s,quoteToValueUsd:Cc,toAmountValueUsd:xc,boostVolume:bc,boostWeight:vc,isOrderFinished:ds(De),isOKXProvider:da?.id===so}}get computedFromChainRefundInfo(){let t=this.detail.data;if(!t)return{};let e=G(t,"bridgeChildOrderDetailVo.errorCode");if(String(e)!=="5001")return{};let o=G(t,"bridgeChildOrderDetailVo")||{},{exploreUrl:n,fromTokenIcon:i,refundAmount:s,refundSymbol:l,refundChain:c}=o;return{isFromChainRefund:!0,exploreUrl:n,fromTokenIcon:i,refundAmount:s,formatRefundAmount:Y(s,{needPlaceholder:!0,needBillionMillionUnit:!1}),refundSymbol:l,refundChain:c}}get computedPendingOrdersCount(){return this.pendingOrders.length}get computedPendingTimingStatus(){return this.timeoutTimestamp?this.expireTime!==0&&this.timeoutTimestamp?wr.ESTIMATE:!this.expireTime&&this.timeoutTimestamp?wr.EXCEED_ESTIMATE:!this.expireTime&&!this.timeoutTimestamp?wr.TIMEOUT:1:wr.TIMEOUT}toastOrder(t,e={}){if(t){let{status:o,orderId:n,fromAmount:i,fromTokenSymbol:s,toAmount:l,toTokenSymbol:c,fromChildOrder:u,receiveTokenStatus:m,type:g,swapTradeType:T,isMemeTimeOut:_,exploreUrl:S,assetDelay:y,sentSimpleVersion:x,willNeedManualClaim:b,transactionHash:A,isHasSurplus:N,surplusAmount:w}=t,k=`${n}_${o}`;if(it()||ti.includes(k))return;let P=T===V.MemeMode,D=()=>{ti.unshift(k),ti=ti.slice(0,Op)},R=m!==Wu;if(o===I.Pending&&u?.status===I.Pending){if(D(),P&&_){Sl({title:p("swaptrade_history_modal_error_likely_fail",{num:i,token1:s,token2:c})});return}kl({title:p("wallet_swap_toast_swap_submitted"),orderId:n})}else if(o===I.ReadyToClaim)D(),Il(t,this.rootStore.swapStore);else if(o===I.ClaimFailed)D(),co({title:p("swaptrade_bridge_alert_failed_to_claim_please"),orderId:n});else if(o===I.Succeed&&R){let B=this.computedSubOrders;if(D(),b===bn){if(Qo(A),zo(A))return;Yo(A),Vo({tx_status:"success",terminal:"web"}),or({title:p("swaptrade_bridge_alert_youve_successfully_claimed_amt",{amt:Y(l),token:c}),orderId:n});return}if(P&&y){if(Qo(A),zo(A))return;Yo(A),or({title:p("swaptrade_history_modal_tips_swap_update",{num1:i,token1:s,num2:l,token2:c}),exploreUrl:S,orderId:n});return}if(!x){if(Qo(A),zo(A))return;Yo(A),N===1&&w?vl({surplusAmount:w,toTokenSymbol:c,fromAmount:i,fromTokenSymbol:s,toAmount:l,onConfirm:()=>{typeof e?.onViewOrderDetail=="function"?e.onViewOrderDetail({orderId:n,isLimit:!1,strategyMode:void 0,orderType:void 0,orderData:t,isBridge:!1}):this.showModal(n)},...e?.toastProps}):or({title:p("swaptrade_toast_swap_success",{fromCount:Me(i,{needBillionMillionUnit:!0}),fromToken:ue(s),toCount:Y(l),toToken:ue(c)}),exploreUrl:B[B.length-1]?.exploreUrl,orderId:n})}}else if(o===I.Failed&&R){let H=this.computedSubOrders.filter(O=>O.status===I.Failed);D(),Vo({tx_status:"failure",terminal:"web"}),co({title:g==="gasStation"?p("swaptrade_gasstation_toast_refill_failed",{nativeToken:ue(c)}):p("wallet_swap_toast_swap_failed"),exploreUrl:H[H.length-1]?.exploreUrl,orderId:n})}else o===I.Canceled&&R&&(or({title:p("swaptrade_placeorder_toast_transaction_canceled"),orderId:n}),D())}}get computedCurrentHistoryTabIsLimit(){return this.historyTab===st.LIMIT_ORDER}get computedOrigin(){return this.historyTab===st.LIMIT_ORDER?st.LIMIT_ORDER:[V.SingleChain,V.GasStation].includes(this.computedMainOrderType)?st.SWAP:st.BRIDGE}get computedIfSwapFailedAmount(){let t=this.detail?.data;return t?.status===I.Failed&&!this.computedCurrentHistoryTabIsLimit&&ee(t?.fromAmount)?t.fromAmount:""}},sI=ws;a();d();var ju=C(U());var Yp=({onButtonClick:r})=>ju.default.createElement(Zd,{title:p("swaptrade_pricechart_no_connection_title"),description:p("swaptrade_pricechart_no_connection_desc"),buttonText:p("swaptrade_recent_transaction_dialog_btn_reload"),onButtonClick:r}),Ku=Yp;a();d();var ut=C(U());var Es=C(de());$e();a();d();var $u=r=>({isHasSurplus:Boolean(r?.surplus?.surplusAmount)?1:0,surplusAmount:r?.surplus?.surplusAmount,surplusValueUSD:r?.surplus?.surplusValueUsd,toSymbol:r?.toToken?.tokenName,time:r?.createTime?new Date(Number(r.createTime)).toString():"",toAmount:r?.toToken?.tokenAmount,toChainId:r?.chainId,toTokenAddress:r?.toToken?.tokenContractAddress,toChainName:r?.chainName,quoteToValueUsd:r?.surplus?.estValueUsd,toAmountValueUsd:r?.surplus?.executedValueUsd,quoteToAmount:r?.surplus?.estAmount});a();d();var Xo={"banner-container":"_banner-container_bp10e_1",bannerContainer:"_banner-container_bp10e_1","surplus-icon":"_surplus-icon_bp10e_4",surplusIcon:"_surplus-icon_bp10e_4","banner-bg-light":"_banner-bg-light_bp10e_10",bannerBgLight:"_banner-bg-light_bp10e_10","banner-bg-dark":"_banner-bg-dark_bp10e_13",bannerBgDark:"_banner-bg-dark_bp10e_13"};var Qu=({onClick:r,swapOrder:t,limitOrder:e})=>{let o=Jd(),n=(0,ut.useMemo)(()=>t||$u(e),[t,e]),{isHasSurplus:i,surplusAmount:s,surplusValueUSD:l,toSymbol:c}=n??{},u=i===1,m=(0,ut.useCallback)(S=>{S.preventDefault(),S.stopPropagation(),r?.(),o.setOrderSurplusModalVisible(!0),o.setSurplusOrderSnapshot(n)},[r]),{getUsd:g}=el(),T=(0,ut.useMemo)(()=>xr("swaptrade_order_top_card_trade_complete_details_desc",{usdvalue:g(l),token:c,value:Y(s,{needBillionMillionUnit:!0})}),[c,l,s]),_=Yd()===ka.dark;return u?ut.default.createElement(ut.default.Fragment,null,ut.default.createElement("div",{onClick:m,onKeyDown:_a,role:"button",tabIndex:0},ut.default.createElement(Pi,{type:Pi.TYPE.info,title:xr("swaptrade_order_top_card_trade_complete_details_title"),icon:ut.default.createElement(Ue,{className:(0,Es.default)("okx-defi-surplus-coin",Xo["surplus-icon"])}),desc:T,closable:!1,className:(0,Es.default)(Xo["banner-container"],_?Xo["banner-bg-dark"]:Xo["banner-bg-light"]),rightActionText:ut.default.createElement(Ue,{className:"okx-defi-chevron-right"})}))):null};a();d();var Or=C(U());var zu=48,Xp=72,Zp=40,As=513,Ds=678,Yu=()=>{let[r,t]=(0,Or.useState)(As),[e,o]=(0,Or.useState)(Ds),{isSm:n}=nd(),i=it();return(0,Or.useEffect)(()=>{let s=()=>{let l=window.innerHeight,c=l-53-Xp-Zp-zu;c<As?t(c):t(As);let u=l-zu;u<Ds?o(u):o(Ds)};return!n&&!i&&(s(),window?.addEventListener?.("resize",s)),()=>{!n&&!i&&window?.removeEventListener?.("resize",s)}},[n,i]),(0,Or.useMemo)(()=>n||i?{listStyle:{},detailStyle:{}}:{listStyle:{height:r},detailStyle:{minHeight:e}},[r,e,n,i])};a();d();var yi=C(U()),Zm=C(de());a();d();var Ne=C(U());a();d();var mt=C(U()),Xu=C(de());a();d();var He=C(U()),Lr=C(de());a();d();var z={item:"_item_rakqj_1",placeholder:"_placeholder_rakqj_8","chain-logo":"_chain-logo_rakqj_13",chainLogo:"_chain-logo_rakqj_13","chain-logos":"_chain-logos_rakqj_19",chainLogos:"_chain-logos_rakqj_19","chain-name":"_chain-name_rakqj_30",chainName:"_chain-name_rakqj_30","icon-btn":"_icon-btn_rakqj_33",iconBtn:"_icon-btn_rakqj_33",content:"_content_rakqj_43","label-tooltip":"_label-tooltip_rakqj_47",labelTooltip:"_label-tooltip_rakqj_47","icon-arrow":"_icon-arrow_rakqj_50",iconArrow:"_icon-arrow_rakqj_50","tooltip-icon":"_tooltip-icon_rakqj_55",tooltipIcon:"_tooltip-icon_rakqj_55",line:"_line_rakqj_58",link:"_link_rakqj_62","bridge-fee":"_bridge-fee_rakqj_69",bridgeFee:"_bridge-fee_rakqj_69","intent-order-network-fee":"_intent-order-network-fee_rakqj_73",intentOrderNetworkFee:"_intent-order-network-fee_rakqj_73","mev-box":"_mev-box_rakqj_76",mevBox:"_mev-box_rakqj_76","gas-station-fee-label":"_gas-station-fee-label_rakqj_79",gasStationFeeLabel:"_gas-station-fee-label_rakqj_79","info-icon":"_info-icon_rakqj_83",infoIcon:"_info-icon_rakqj_83",divider:"_divider_rakqj_86"};function Jp({label:r,value:t,hasToolTips:e,toolTipsText:o="",className:n="",valueClassName:i="",labelOnClick:s,labelClassName:l=""}){let c=(0,He.useRef)(),[u,m]=(0,He.useState)(!1);(0,He.useEffect)(()=>{let _=c.current;_&&m(rd(_))},[]);let T=He.default.createElement("div",{ref:c,...s?{onClick:s}:{},className:(0,Lr.default)("content-contrast truncate",z.label,l)},r);return He.default.createElement("div",{className:(0,Lr.default)("overflow-hidden font-14 ",z.item,n)},He.default.createElement("div",{className:(0,Lr.default)("flex align-items-center overflow-hidden font-12")},u?He.default.createElement(wt,{maxWidth:200,prefixClassName:"cursor-pointer",title:r,className:"overflow-hidden"},T):T,e&&He.default.createElement(wt,{title:o,prefixClassName:"cursor-pointer",placement:wt.DIRECTION.bottom,className:(0,Lr.default)("flex items-center",z.tooltipIcon),popupProps:{popupStyle:{maxWidth:"200px"}}},He.default.createElement(fe,{className:(0,Lr.default)("content-contrast",z.infoIcon),type:"okx-defi-dex-information"}))),He.default.createElement("div",{className:(0,Lr.default)("whitespace-nowrap content-primary mt-4 font-14",i)},t))}var W=Jp;var ef=()=>{let{recentTransactionStore:r}=Pe(),t=r?.computedOrderInfo,e=(0,mt.useMemo)(()=>(parseInt(t?.estimatedTime||0,10)/60).toFixed(0),[t?.estimatedTime]),o=(0,mt.useMemo)(()=>String(t?.freeGas)===Un.FREE,[t?.freeGas]),n=(0,mt.useMemo)(()=>mt.default.createElement(W,{label:p("swaptrade_history_card_text_from_chain_fee",{chainName:t?.networks[0]?.chainName}),value:p("swaptrade_card_tag_free"),valueClassName:(0,Xu.default)(z.intentOrderNetworkFee),hasToolTips:!1,labelOnClick:()=>{}}),[t?.networks]),i=(0,mt.useMemo)(()=>{let l=t?.totalSlippage,c=l?wn(l*100,{sigFigs:2,needZero:!1,rounded:vn.TRUNCATE}):"--";return mt.default.createElement(W,{label:p("swaptrade_extension_label_slippage_tolerance"),value:c,hasToolTips:!1,labelOnClick:()=>{}})},[t?.totalSlippage]),s=(0,mt.useMemo)(()=>mt.default.createElement(mt.default.Fragment,null,e==="0"?null:mt.default.createElement(W,{label:p("swaptrade_history_text_conversion_time"),value:p("swaptrade_xrouting_tag_mins",{value:e}),hasToolTips:!1,labelOnClick:()=>{}})),[e]);return{isBridgeDetailFreeNetwork:o,bridgeNetworkFee:n,bridgeSlippage:i,bridgeSwapDuration:s}},ri=ef;a();d();var Zu=C(U());function Pr({value:r,label:t,hidden:e}){return e?null:Zu.default.createElement(W,{label:t||p("swaptrade_tee_header_approval_method"),value:r||"--"})}a();d();var Ju=C(U());function sr({value:r,label:t,hidden:e}){return e?null:Ju.default.createElement(W,{label:t||p("swaptrade_common_label_time"),value:r})}a();d();var We=C(U());var em=C(de());var Os=r=>r==="Smart Mode"?p("swaptrade_history_mev_subtitle_smart_mode"):r;function Zo({type:r,fromSwapMevInfo:t,toSwapMevInfo:e,networks:o,mevInfo:n,label:i}){return(0,We.useMemo)(()=>r===V.CrossChain&&(t||e)?We.default.createElement(W,{label:i||p("swaptrade_history_label_mev_protect"),value:We.default.createElement("div",{className:(0,em.default)("flex items-center",z.mevBox)},!!t&&We.default.createElement("div",{className:"flex items-center"},We.default.createElement(lo,{alt:o[0]?.chainName,size:20,src:o[0]?.chainLogo}),We.default.createElement("span",{className:"ml-4"},Os(t))),!!e&&We.default.createElement("div",{className:"flex items-center"},We.default.createElement(lo,{alt:o[1]?.chainName,size:20,src:o[1]?.chainLogo}),We.default.createElement("span",{className:"ml-4"},Os(e))))}):n?We.default.createElement(W,{label:i||p("swaptrade_history_label_mev_protect"),value:We.default.createElement("div",{className:"flex items-center"},We.default.createElement(lo,{alt:o[0]?.chainName,size:20,src:o[0]?.chainLogo}),We.default.createElement("span",{className:"ml-4"},Os(n)))}):null,[t,i,n,o,e,r])}a();d();var se=C(U()),tm=C(de());function Jo({type:r,isBridgeDetailFreeNetwork:t,bridgeNetworkFee:e,hiddenOtherFee:o,networks:n,networkFee:i,bridgeFee:s,bridgeFeeUsd:l,estimateBridgeFeeAmount:c,estimateBridgeFeeAmountUsd:u,crossChainServiceFeeInfo:m,isWidget:g,otherFees:T,bridgeName:_,dexGasStationFeeDetailTips:S,isIntentOrder:y,hidden:x,isEstimated:b}){let{recentTransactionStore:A}=Pe(),N=(0,se.useCallback)(()=>{let P=Ca.show({title:p("swaptrade_swap_history_subtitle_network_fee"),children:S,hideCloseBtn:!0,confirmText:p("swaptrade_dialog_modal_gotit"),onConfirm:()=>{P.destroy()}})},[S]),w=(0,se.useMemo)(()=>{let P=S?{labelOnClick:N,labelClassName:z.gasStationFeeLabel}:{};return se.default.createElement(W,{...P,label:p(b?"swaptrade_order_info_label_network_fee":"swaptrade_swap_history_subtitle_network_fee"),value:y?p("swaptrade_card_tag_free"):i,valueClassName:(0,tm.default)({[z.intentOrderNetworkFee]:y})})},[i,y,N,S,b]);return(0,se.useMemo)(()=>{if(x)return null;let P=A.computedIsSingleChain||r===V.GasStationCross||r===V.GasStation;return P?w:t?e:o?se.default.createElement(se.default.Fragment,null,se.default.createElement(W,{label:p("swaptrade_history_card_text_from_chain_fee",{chainName:n[0].chainName}),value:i}),c&&se.default.createElement(W,{label:p("swaptrade_history_label_bridge_network_fee",{bridge:_}),className:z.bridgeFee,value:se.default.createElement("div",{className:"flex flex-column"},u?se.default.createElement("span",null,yr(p("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:c,fee:u}))):se.default.createElement("span",null,c))}),!g&&!P&&m?.shouldDisplayServiceFee?se.default.createElement(W,{label:p("swaptrade_trade_label_service_fee"),value:se.default.createElement("div",{className:"flex align-items-center"},se.default.createElement("span",null,m?.formattedServiceFee))}):null,s&&se.default.createElement(W,{label:p("swaptrade_history_label_bridge_fee",{bridge:_}),className:z.bridgeFee,value:se.default.createElement("div",{className:"flex flex-column"},se.default.createElement("span",null,s))})):se.default.createElement(se.default.Fragment,null,w,se.default.createElement(W,{label:se.default.createElement(se.default.Fragment,null,p("swaptrade_order_info_label_other_fees")),value:T}))},[x,A.computedIsSingleChain,r,t,o,w,T,e,n,i,s,_,l,g,m?.shouldDisplayServiceFee,m?.formattedServiceFee,c,u])}a();d();var So=C(U());function Rr({networks:r=[],showLogo:t=!1,label:e,hidden:o}){return o?null:So.default.createElement(W,{label:e||p("swaptrade_order_info_label_network"),value:So.default.createElement("div",{className:"flex align-items-center"},t&&So.default.createElement("div",{className:z.chainLogos},r.map(({chainName:n,chainLogo:i})=>So.default.createElement("img",{src:i,alt:`${n}Logo`,key:n}))),So.default.createElement("div",{className:t?z.chainName:""},r.map(({chainName:n})=>n).join(` ${p("swaptrade_order_info_label_network_to")} `)))})}a();d();var Rt=C(U()),rm=C(de());function en({label:r,fromToPrice:t,toFromPrice:e,fromSymbol:o,toSymbol:n,type:i,hidden:s}){let[l,c]=(0,Rt.useState)("fromTo"),u=(0,Rt.useMemo)(()=>{if(t==="--"||e==="--")return{text:"--",equation:"--"};if(l==="fromTo"){let T={fromAmount:1,fromSymbol:o,toAmount:t,toSymbol:n};return{text:er(T),equation:tr(T)}}let g={fromAmount:1,fromSymbol:n,toAmount:e,toSymbol:o};return{text:er(g),equation:tr(g)}},[o,n,l,t,e]),m=![V.CrossBridge,V.GasStation,V.GasStationCross].includes(i)&&u.text!=="--";return s?null:Rt.default.createElement(W,{label:r||p("swaptrade_order_info_label_price"),value:Rt.default.createElement("div",{className:"flex align-items-center"},Rt.default.createElement("span",null,Rt.default.createElement(Jt,{text:u.text,equation:u.equation},yr(u.equation))),m&&Rt.default.createElement(Ue,{onClick:()=>{c(l==="fromTo"?"toFrom":"fromTo")},className:(0,rm.default)("content-primary okx-defi-dex-rate",z.iconBtn),size:16,a11yText:""}))})}a();d();var Nr=C(U()),nm=C(Vn()),im=C(de());a();d();var om=C(U());$e();var oi=(r,t,e)=>(0,om.useMemo)(()=>{if(e||!it())return{fullAddress:r,ellipsisAddress:t};let o=Da.global.formatXLayerAddressFn;if(!fa(o))return{fullAddress:r,ellipsisAddress:t};let n=o({address:r});return{fullAddress:n,ellipsisAddress:rr(n)}},[r,t,e]);function Ls({formatAddress:r,originAddress:t,label:e,hidden:o}){let n=oi(t,r,o);return o?null:Nr.default.createElement(W,{label:e||p("swaptrade_details_text_receive_address"),value:Nr.default.createElement("div",{className:"flex align-items-center"},Nr.default.createElement("span",null,n.ellipsisAddress),Nr.default.createElement(nm.CopyToClipboard,{text:n.fullAddress,onCopy:()=>{Et.success(p("swaptrade_order_info_label_from_copy_success"))}},Nr.default.createElement("div",{className:(0,im.default)("flex align-items-center",z.iconBtn)},Nr.default.createElement(fe,{className:"okx-defi-dex-copy1",size:16}))))})}a();d();var ni=C(U());function Mr({value:r,isEstimated:t=!0,label:e,hidden:o=!1}){return o?null:ni.default.createElement(W,{label:e||(t?p("swaptrade_tee_tab_label_est_service_fee"):p("swaptrade_trade_label_service_fee")),value:ni.default.createElement("div",{className:"flex align-items-center"},ni.default.createElement("span",null,r))})}a();d();var sm=C(U());function Fr({value:r,label:t,autoFoumart:e=!0,hidden:o}){if(o)return null;let n=s=>e?wn($.mul(s,100),{sigFigs:2,needZero:!1,rounded:vn.TRUNCATE}):s,i=()=>r?n(r):"--";return sm.default.createElement(W,{label:t||p("swaptrade_tee_tab_label_slippage"),value:i()})}a();d();var am=C(U());function Br({value:r,label:t,hidden:e}){return e?null:am.default.createElement(W,{label:t||p("swaptrade_history_text_conversion_time"),value:r||"--"})}a();d();var dm=C(U());function Ur({value:r,hidden:t,label:e}){return t?null:dm.default.createElement(W,{label:e||p("swaptrade_order_info_label_type"),value:r||"--"})}a();d();var Vr=C(U()),lm=C(Vn()),um=C(de());function Wr({omittedFrom:r,from:t,label:e,hidden:o}){let n=oi(t,r);return o?null:Vr.default.createElement(W,{label:e||p("swaptrade_order_info_label_from"),value:Vr.default.createElement("div",{className:"flex align-items-center"},Vr.default.createElement("span",null,n.ellipsisAddress),Vr.default.createElement(lm.CopyToClipboard,{text:n.fullAddress,onCopy:()=>{Et.success(p("swaptrade_order_info_label_from_copy_success"))}},Vr.default.createElement("div",{className:(0,um.default)("flex align-items-center",z.iconBtn)},Vr.default.createElement(fe,{className:"okx-defi-dex-copy1",size:16}))))})}a();d();var mm=C(U());a();d();var ii={title:"_title_m2btf_1"};function Gr(){return mm.default.createElement("div",{className:ii.title},p("swaptrade_tee_tab_label_transaction_details"))}a();d();var tn=C(U());function Ps({bridgeLogo:r,bridgeName:t,label:e,hidden:o}){return o?null:tn.default.createElement(W,{label:e||p("swaptrade_bot_hyperlink_label_bridge_route"),value:tn.default.createElement("div",{className:"flex align-items-center"},tn.default.createElement("img",{src:r,alt:t,className:z.chainLogo}),tn.default.createElement("span",null,t))})}function tf({orderInfo:r}){let t=Vt(),{type:e,time:o,networks:n,networkFee:i,otherFees:s,from:l,omittedFrom:c,omittedTo:u,receiveWalletAddress:m,fromSymbol:g,toSymbol:T,fromToPrice:_,toFromPrice:S,bridgeFee:y,bridgeName:x,bridgeFeeUsd:b,hiddenOtherFee:A,estimateBridgeFeeAmount:N,estimateBridgeFeeAmountUsd:w,orderFinishedTime:k,isIntentOrder:P,totalSlippage:D,status:R,dexGasStationFeeDetailTips:B,crossChainServiceFeeInfo:H,transactionTypeKey:O,toSwapMevInfo:j,mevInfo:v,approveMethod:Q,fromSwapMevInfo:X,slippageValue:_e,bridgeLogo:ge}=r,{isBridgeDetailFreeNetwork:te,bridgeNetworkFee:ne}=ri(),ie=r?.singleChainServiceFeeInfo||{};return Ne.default.createElement(Ne.default.Fragment,null,Ne.default.createElement(Gr,null),Ne.default.createElement(Ur,{value:p(O)}),Ne.default.createElement(sr,{value:o}),Ne.default.createElement(Rr,{networks:n}),Ne.default.createElement(Fr,{value:_e||D}),Ne.default.createElement(Jo,{type:e,isBridgeDetailFreeNetwork:te,bridgeNetworkFee:ne,hiddenOtherFee:A,networks:n,networkFee:i,bridgeFee:y,bridgeFeeUsd:b,estimateBridgeFeeAmount:N,estimateBridgeFeeAmountUsd:w,crossChainServiceFeeInfo:H,isWidget:t,otherFees:s,bridgeName:x,dexGasStationFeeDetailTips:B,isIntentOrder:P}),Ne.default.createElement(Mr,{value:ie.formattedServiceFee,isEstimated:R!==I.Succeed,hidden:!ie.shouldDisplayServiceFee}),Ne.default.createElement(Zo,{type:e,fromSwapMevInfo:X,toSwapMevInfo:j,networks:n,mevInfo:v,label:p("swaptrade_trade_label_route_selection")}),Ne.default.createElement(Br,{value:k}),Ne.default.createElement(en,{type:e,fromSymbol:g,toSymbol:T,fromToPrice:_,toFromPrice:S}),Ne.default.createElement(Pr,{value:Q,hidden:!Q}),Ne.default.createElement(Ps,{bridgeLogo:ge,bridgeName:x}),Ne.default.createElement(Wr,{omittedFrom:c,from:l}),Ne.default.createElement(Ls,{label:p("swaptrade_details_text_receive_address"),formatAddress:u,originAddress:m,hidden:!m||!u||e===V.GasStationCross}))}var cm=he(tf);a();d();var oe=C(U());a();d();var Si=C(U());a();d();var Qr=C(U()),Wm=C(de());a();d();var Rs=class extends Dn{constructor(){super();this.loading=!1;this.error=!1;this.boostVolume="";this.boostWeight="";K(this,{loading:F,boostVolume:F,boostWeight:F})}},ct=new Rs;a();d();var hi=C(U());a();d();var Ns=C(U());var rf=Ns.default.createContext(null),pm=()=>{let r=Ns.default.useContext(rf);if(!r)throw new Error("useLimitStore must be used within a MarketLimitProvider");return r};a();d();$e();a();d();$e();a();d();a();d();async function fm(r){return await re.post(Ka,r)}a();d();async function _m(r){return await re.post("/priapi/v1/dx/trade/market-trade/confirm-order",r)}a();d();var gm=r=>r===jd.BEST64;a();d();a();d();var Hr=class extends Ge{constructor(){super(...arguments);h(this,"formatContractPayload",()=>{let{orderData:e}=this;return{...JSON.parse(e?.callData?.data)}});h(this,"formatTransferPayload",()=>{});h(this,"getSendTransactionParams",async()=>{let e=this.formatContractPayload();return this.differentiatedEnvironment([{...e,extParams:this.extParams}])});h(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};h(Hr,"chainId",Te.APTOS_MAINNET);a();d();var qr=class extends Ge{constructor(...e){super(...e);h(this,"formatContractPayload",async()=>{let{orderData:e}=this;return this.txData(e.unsignedTx)});h(this,"formatTransferPayload",async()=>{let{orderData:e}=this,{unsignedTx:o}=e;return this.txData(o)});h(this,"getSendTransactionParams",async()=>{let{payload:e}=await this.preExecution();return this.differentiatedEnvironment([e,this.extParams])});h(this,"preExecution",async()=>{let e;return this.isTransferType?e=await this.formatTransferPayload():e=await this.formatContractPayload(),e});h(this,"getTxData",()=>{let{mevConfig:e,unsignedTx:o}=this.orderData||{};try{return e?.enableMev?JSON.parse(o).array:[JSON.parse(o)]}catch(n){throw new Error(n)}});h(this,"jitoTransaction",async()=>{let e=this.getTxData();try{return Promise.all(e.map(this.txData))}catch(o){throw new Error(o)}});let o=new $d;Object.assign(this,{...o})}};h(qr,"chainId",Te.SOLANA_MAINNET);a();d();var jr=class extends Ge{constructor(){super(...arguments);h(this,"formatContractPayload",()=>{let{orderData:e}=this,{data:o,from:n}=e.callData,i=JSON.parse(o);return{...i,functionArgs:i.functionArgsEncode,txType:"contract_call",stxAddress:n}});h(this,"formatTransferPayload",()=>{});h(this,"getSendTransactionParams",async()=>this.differentiatedEnvironment([this.formatContractPayload(),this.extParams]));h(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};h(jr,"chainId",Te.STACKS_MAINNET);a();d();var Kr=class extends Ge{constructor(){super(...arguments);h(this,"walletNoNeedExtParams",!0);h(this,"formatContractPayload",()=>{let{orderData:e}=this,o=JSON.parse(e.unsignedTx),{executionRequest:n}=JSON.parse(o.data);return n.calls});h(this,"formatTransferPayload",()=>{});h(this,"getSendTransactionParams",async()=>this.differentiatedEnvironment([this.formatContractPayload()]));h(this,"preExecution",()=>({payload:this.formatContractPayload()}))}};h(Kr,"chainId",Te.STARKNET_MAINNET);a();d();var si=class extends Ge{constructor(){super(...arguments);h(this,"formatContractPayload",()=>{let{orderData:e}=this,{txBytes:o}=JSON.parse(e.unsignedTx);return{transactionBlock:o}});h(this,"getSendTransactionParams",async()=>this.differentiatedEnvironment([this.formatContractPayload(),this.extParams]));h(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};h(si,"chainId",Te.SUI_MAINNET);var Ms=si;a();d();var ai=class extends Ge{constructor(){super(...arguments);h(this,"walletNoNeedExtParams",!1);h(this,"formatContractPayload",()=>{let{orderData:e}=this,{params:o}=JSON.parse(e.unsignedTx);return o});h(this,"formatTransferPayload",()=>{let{orderData:e}=this,{params:o}=JSON.parse(e.unsignedTx);return o});h(this,"getSendTransactionParams",async()=>{let e=this.isTransferType?this.formatTransferPayload():this.formatContractPayload();return this.differentiatedEnvironment([e,this.extParams])});h(this,"preExecution",async()=>({payload:this.isTransferType?this.formatTransferPayload():this.formatContractPayload()}))}};h(ai,"chainId",Te.TON_MAINNET);var Fs=ai;a();d();var $r=class extends Ge{constructor(){super(...arguments);h(this,"formatContractPayload",()=>{let{orderData:e}=this;return JSON.parse(e.unsignedTx)});h(this,"formatTransferPayload",()=>{});h(this,"getSendTransactionParams",async()=>{let e=this.formatContractPayload();return this.swapStore.extendTronParams&&(e=this.swapStore.extendTronParams(e)),this.differentiatedEnvironment([{...e,extParams:this.extParams}])});h(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};h($r,"chainId",Te.TRON_MAINNET);var of={[Bn.chainId]:Bn,[qr.chainId]:qr,[Hr.chainId]:Hr,[Ms.chainId]:Ms,[$r.chainId]:$r,[jr.chainId]:jr,[Kr.chainId]:Kr,[Fs.chainId]:Fs},nf=r=>of[r]||Bn,sf=(r,t,e)=>{let{chainId:o}=r,n=nf(o);return new n(t,e,r)},hm=sf;a();d();a();d();a();d();var Bs=class{constructor(){this.signMessageBase=async t=>await _d({message:t,signType:"bs58"});this.sendTransactionBase=async t=>(await gd(...t)).result;this.signSilent=async({chainId:t,originMethod:e,originParams:o,calldataParams:n})=>await Rn({chainId:t,originMethod:e,originParams:o},{calldataParams:n??void 0})}},ar=Bs;var Us=class extends ar{constructor(){super(...arguments);this.signMessage=async({chainId:e,message:o},n={isSilent:!1})=>{if(n.isSilent){let i=await Nn(e);return this.signSilent({chainId:e,originMethod:"personal_sign",originParams:[o,i]})}return this.signMessageBase(o)};this.sendTransaction=async({chainId:e,callParams:o},n={isSilent:!1})=>{if(n.isSilent){let s=o[0];return{transactionHash:await this.signSilent({chainId:e,originMethod:"eth_sendTransaction",originParams:[{...s,chainId:Fn(e)}]}),nonce:parseInt(s.nonce,16)}}return{transactionHash:await this.sendTransactionBase(o)}};this.signApproveAndSwap=async({chainId:e,cancelApproveParams:o,approveParams:n,swapParams:i,approveToTokenParams:s},l={isSilent:!1})=>{let{transactionList:c,signParamsList:u,swapTransactionIndex:m}=md({chainId:e,cancelApproveParams:o,approveParams:n,swapParams:i,approveToTokenParams:s}),g=await wd({isSilentSign:l.isSilent,transactionList:c});if(g==="unsupported")throw new Error("Unsupported sign type");let T=await Ed({chainId:e,signParamsList:u,signType:g});return cd({signedResult:T,transactionList:c,swapTransactionIndex:m})}}},Tm=new Us;a();d();var Vs=class extends ar{constructor(){super(...arguments);this.signMessage=({message:e})=>this.signMessageBase(e);this.sendTransaction=async({callParams:e})=>({transactionHash:await this.sendTransactionBase(e)})}},Sm=new Vs;a();d();$e();a();d();var Im=async()=>{let{default:r}=await import("./bs58-PR7KN7JJ.js");return r};var Ws=class extends ar{constructor(){super(...arguments);this.signMessage=async({chainId:e,message:o},n={isSilent:!1})=>{if(n.isSilent){let i=new TextEncoder().encode(o),s=await this.signSilent({chainId:e,originMethod:"signMessage",originParams:[i,"utf8"]});return(await Im()).encode(s.signature)}return this.signMessageBase(o)};this.sendTransaction=async({chainId:e,callParams:o},n={isSilent:!1})=>n.isSilent?{transactionHash:await this.signSilent({chainId:e,originMethod:"signTransaction",originParams:[o]})}:{transactionHash:await this.sendTransactionBase(o)};this.signAllTransactions=({chainId:e,transactions:o},n={isSilent:!1})=>{if(n.isSilent){let i=Ta(o[0].transaction);return this.signSilent({chainId:e,originMethod:"signAllTransactions",originParams:[o,{skipKys:!0,signRaw:i}],calldataParams:n?.calldataParams??void 0})}return hd({transactions:o})}}},km=new Ws;a();d();a();d();var rn=class{constructor(){this.supportEvmSign=!1;this.currentWalletVersion="";this.isOkxWallet=!1;this.supportBs64Version=!1;this.supportSuiSilentSign=!1;this.supportSignApprovalAndSwap=!1;nt(this,{},{autoBind:!0})}setSupportEvmSign(t){this.supportEvmSign=t}setSupportBs64Version(t){this.supportBs64Version=t}setSupportSuiSilentSign(t){this.supportSuiSilentSign=t}setSupportSignApprovalAndSwap(t){this.supportSignApprovalAndSwap=t}async checkWalletVersion(){try{let t=await fd();if(this.isOkxWallet=t,await Ad()){let o=await kd(),n=Bo(o||"","3.68.15"),i=Bo(o||"","3.74.12"),s=Bo(o||"","3.76.0"),l=Bo(o||"","3.86.15");this.setSupportEvmSign(n>=0),this.setSupportBs64Version(i>=0),this.setSupportSuiSilentSign(s>=0),this.setSupportSignApprovalAndSwap(l>=0),this.currentWalletVersion=o}}catch{this.reset()}}reset(){this.setSupportEvmSign(!1),this.currentWalletVersion="",this.isOkxWallet=!1,this.supportBs64Version=!1,this.supportSuiSilentSign=!1,this.setSupportSignApprovalAndSwap(!1)}};rn.storeId="checkWalletVersion",rn.storeName="CheckWalletVersionStore";var di=new rn;var Gs=class extends ar{constructor(){super(...arguments);this.signMessage=({message:e})=>this.signMessageBase(e);this.sendTransaction=async({chainId:e,callParams:o},n={isSilent:!1})=>{if(n.isSilent&&di.supportSuiSilentSign){let{transactionBlock:s}=o[0],l=id.from(s),c=await Nn(e),u={transactionBlock:l,account:c,chain:Te.SUI_MAINNET};return{transactionHash:(await this.signSilent({chainId:e,originMethod:"sui:signAndExecuteTransactionBlock",originParams:[u]})).digest}}return{transactionHash:await this.sendTransactionBase(o)}}}},xm=new Gs;var Hs=class{constructor(){this.methodMap={evm:Tm,solana:km,sui:xm,other:Sm};this.handleMethod=t=>An(t)?this.methodMap.solana:od(t)?this.methodMap.sui:Fa.includes(t)?this.methodMap.other:this.methodMap.evm;this.signMessage=async({chainId:t,message:e},o={isSilent:!1})=>this.handleMethod(t).signMessage({chainId:t,message:e},o).catch(i=>{throw Pd(i),i});this.sendTransaction=async({chainId:t,callParams:e},o={isSilent:!1})=>this.handleMethod(t).sendTransaction({chainId:t,callParams:e},o);this.signAllTransactions=async({chainId:t,transactions:e},o={isSilent:!1})=>{let n=this.handleMethod(t);if(!n.signAllTransactions)throw new Error(`Chain ${t} does not support signAllTransactions`);return n.signAllTransactions({chainId:t,transactions:e},o)};this.signApproveAndSwap=async(t,e)=>{let{chainId:o}=t,n=this.handleMethod(Number(o));if(!n.signApproveAndSwap)throw new Error(`Chain ${o} does not support signApproveAndSwap`);return n.signApproveAndSwap(t,e)}}},pt=new Hs;a();d();var af=({isSilentSign:r,chainId:t})=>r&&di.supportEvmSign&&Sd(t),ym=af;var Io={getMarketCalldata:async(r,t)=>{let e=re.post(Ya,r,{signal:t}),[o,n]=await pe(e);return[o,n]},getMarketQuoteAndCalldata:async(r,t)=>{let e=re.post(za,r,{signal:t}),[o,n]=await pe(e);return[o,n]},marketSendTransaction:async({quoteData:r,transactionData:t,signAndSendTransactionParams:e},{isSilentSign:o=!1,defaultEnabledSilentMethod:n=!1}={})=>(J.updateTradeLogEnd({isSilentSign:o}),An(r.chainId)?Io.solanaSignTransaction(t,{isSilentSign:o,defaultEnabledSilentMethod:n,encoding:t.solanaEncoding}):Io.signAndSendTransaction({quoteData:r,transactionData:t,signAndSendTransactionParams:e},{isSilentSign:o,defaultEnabledSilentMethod:n})),onIntentSignSwap:async({structureType:r,unsignedTx:t})=>gm(r)?Io.solanaIntentTransaction(t):Io.signIntentSwap(t),signIntentSwap:async r=>{try{J.info(Se.SIGN_INTENT_SWAP,{tradeType:Mi.MARKET,unsignedTx:r});let t=JSON.parse(r);return await pd({message:t})}catch(t){return Promise.reject(t)}},solanaIntentTransaction:async r=>{try{J.info(Se.SIGN_SOLANA_INTENT_SWAP,{tradeType:Mi.MARKET,unsignedTx:r});let t=await Fd(r),o=(await pt.signAllTransactions({chainId:Te.SOLANA_MAINNET,transactions:[t]},{isSilent:!1}))[0];return await Bd(o)}catch(t){return Promise.reject(t)}},solanaSignTransaction:async({unsignedTx:r},{isSilentSign:t=!1,defaultEnabledSilentMethod:e=!1,encoding:o="bs58",logger:n=J,calldataParams:i}={})=>{try{let l=(await Ud(r,{encoding:o})).map(m=>m.payload.transaction);Cs(n);let c=await pt.signAllTransactions({chainId:Te.SOLANA_MAINNET,transactions:l},{isSilent:t||e,...i&&{calldataParams:i}});return await Vd(c)}catch(s){return Promise.reject(s)}},evmSignTransaction:async({payload:r,chainId:t})=>{let e=r[0],o=await Rn({chainId:t,originMethod:"eth_signTransaction",originParams:[{...e,chainId:Fn(t)}]});return{signedInfoList:[{txHash:o.txHash,signature:o.signedTx}],nonce:parseInt(e.nonce,16)}},signAndSendTransaction:async({quoteData:r,transactionData:t,signAndSendTransactionParams:e},{isSilentSign:o=!1,defaultEnabledSilentMethod:n=!1,logger:i=J})=>{let{chainId:s}=r,c=await hm({chainId:s},{orderData:t,extParams:{txSource:3,orderId:t.orderId,toTokenAddress:r.toTokenAddress,crossChain:0,chainId:s,tokenAddress:r.fromTokenAddress,amount:r.fromAmount,toChainId:r.chainId}},{extendEvmParams:g=>(g.extParams.isMev=!!e.enableMev,g)}).getSendTransactionParams({needGasPrice:!0,isSilentSign:o||n});if(J.updateTradeLogEnd({payload:c}),Cs(i),r.isCombineApproveAndSwap&&r.isBatchBroadcast){let{transactionPayload:g}=Wd({approveTxInfo:r.approveTxInfo,params:{chainId:s,isOnlySign:!0}}),{transactions:T,swapTransactionIndex:_}=await pt.signApproveAndSwap({chainId:s,approveParams:{payload:g,transactionData:r.approveTxInfo},swapParams:{payload:c[0],transactionData:t}},{isSilent:o});return{signedInfoList:T.map(S=>({txHash:S.transactionHash,signature:S.signedTx})),swapTransactionIndex:_}}if(ym({isSilentSign:o,chainId:s}))return await Io.evmSignTransaction({payload:c,chainId:s});let{transactionHash:u,nonce:m}=await pt.sendTransaction({chainId:s,callParams:c},{isSilent:o||n});return{signedInfoList:[{txHash:u}],nonce:m}},broadcast:async r=>Hd(r),confirmOrder:async r=>_m(r),cancelOrder:async(r,t={})=>{let{isSilent:e=!1}=t,[o,n]=await pe(dl(r));if(o)throw o;if(!await Pn(Number(r.chainId)))return Promise.reject(new Error("Switch network failed"));let{data:s}=n,{unsignedTx:l,...c}=s,u={...c};e&&(u=Md.reduce((T,_)=>((u[_]||u[_]===0)&&(T[_]=ud(u[_],"0x")),T),u));let[m,g]=await pe(pt.sendTransaction({chainId:Number(r.chainId),callParams:u},{isSilent:e}));if(m)throw m;return g},createIntentOrder:async r=>fm(r)},Cm=Io;var on={data:null,detailMsg:"",error_code:"",error_message:"",msg:""},df={market:Cm.getMarketQuoteAndCalldata,meme:async()=>[new Error("meme requester not implemented"),null],aggregator:async()=>[new Error("aggregator requester not implemented"),null]},ko=class{constructor(){this.quoteData=on;this.cancelRef=null;nt(this,{},{autoBind:!0})}reset(){this.quoteData=on}async requestQuote(t,e){this.cancelRef=Wt();let o=df[e],[n,i]=await o(t,this.cancelRef.signal);if(Ot(n))return[n,null,{cancelled:!0}];if(n){let s=n||{};return this.setQuoteData(s),[n,null,{cancelled:!1}]}return this.setQuoteData(i||{}),[null,i,{cancelled:!1}]}setQuoteData(t){this.quoteData=t??on}cancel(){this.cancelRef&&(this.cancelRef.abort(),this.cancelRef=null)}get computedQuoteCompleted(){return G(this.quoteData,"error_code","")}get computedQuoteSuccuss(){return this.computedQuoteCompleted==="0"}get computedQuoteNetworkError(){return G(this.quoteData,"status")==="ERR_NETWORK"}get computedQuoteErrorMsg(){return G(this.quoteData,"error_message","")}get computedDefiPlatformInfoList(){return G(this.quoteData,"data.defiPlatformInfoList",[])}get computedGetQuoteFrom(){return G(this.quoteData,"data.commonDexInfo.fromToken",null)}get computedGetQuoteTo(){return G(this.quoteData,"data.commonDexInfo.toToken",null)}get computedGetQuoteFromAmount(){return G(this.quoteData,"data.commonDexInfo.fromTokenAmount")}get computedGetQuoteFromValue(){return G(this.quoteData,"data.commonDexInfo.fromTokenValue")}get computedPriorityFeeInfo(){let t=G(this.quoteData,"data.networkFeeInfo.normal",{})??{},e=G(this.quoteData,"data.networkFeeInfo.mev.[0]",{})??{},o=Zi(t);return{mevPriorityFeeInfo:Zi(e),nonMevPriorityFeeInfo:o}}get computedRate(){return G(this.quoteData,"data.commonDexInfo.rate",null)}get computedToFromRate(){return G(this.quoteData,"data.commonDexInfo.toFromRate",null)}get computedTeeSignMarketRelTs(){return G(this.quoteData,"data.commonDexInfo.teeSignMarketRelTs")}get computedTeeSignTpslRelTs(){return G(this.quoteData,"data.commonDexInfo.teeSignTpslRelTs")}};ko.storeId="coreQuoteStoreV1",ko.storeName="CoreQuoteStore";var dr=class extends ao{constructor(e){super(e);this.QUOTE_TIMEOUT=3e3;this.isAutoQuote=!1;this.quoteLoading=!1;this.initLoading=!0;this.traceId=null;this.cacheParams=null;this.timerRef=null;this.defiPlatformId=null;this.defiPlatformName=null;this.currentDefiPlatformInfo={};this.isDappJump=!1;this.platformNotFoundError=null;this.disposerCurrentDefiPlatformInfoReaction=null;this.setSelectedDefiPlatform=e=>{e?(this.setCurrentDefiPlatformInfo(e),this.defiPlatformId=e.defiPlatformId??null,this.defiPlatformName=e.name??null):(this.defiPlatformId=null,this.defiPlatformName=null)};this.setCurrentDefiPlatformInfo=e=>{this.currentDefiPlatformInfo=e||{}};this.getCurrentDefiPlatformInfo=()=>{let e=this.quoteStore?.computedDefiPlatformInfoList||[];if(!e.length)return{};let o=e.find(s=>s?.defiPlatformId===this.defiPlatformId);if(this.defiPlatformId&&!o&&(this.platformNotFoundError={name:String(this.currentDefiPlatformInfo?.name??"")},this.setSelectedDefiPlatform(null)),o)return o;let i=e.find(s=>s?.defiPlatformId===so)||e?.[0];return i?(this.setSelectedDefiPlatform(i),i):{}};this.clearPlatformNotFoundError=()=>{this.platformNotFoundError=null};this.setIsDappJump=e=>{this.isDappJump=e};this.setTraceId=e=>{this.traceId=e};this.setQUOTE_TIMEOUT=e=>{this.QUOTE_TIMEOUT=e||3e3};this.fetchQuote=ga((e,o,n)=>{n||(this.isAutoQuote=!0),this.startingPoll(e,o).catch(()=>{})},La);this.refreshQuote=()=>{this.quoteLoading=!0,this.cleanQuoteTimer(),this.fetchQuote(this.cacheParams,void 0,!0)};this.resetQuote=()=>{this.cleanQuoteTimer(),this.cacheParams=null,this.quoteStore?.reset(),this.setSelectedDefiPlatform({defiPlatformId:null,name:null})};this.cleanQuoteTimer=()=>{this.quoteStore?.cancel(),this.timerRef&&(clearTimeout(this.timerRef),this.timerRef=null)};this.liquidityChange=()=>{this.quoteLoading=!0,this.cleanQuoteTimer(),this.cacheParams=null};this.quoteStart=()=>{this.quoteLoading=!0,this.cleanQuoteTimer()};this.quoteEnd=()=>{this.initLoading=!1,this.quoteLoading=!1,this.isAutoQuote=!1};this.isQuoteImmediate=e=>{let o=e;return!!o?.chainId&&!!o?.fromTokenAddress&&!!o?.toTokenAddress&&new Ye.BigNumber(o?.amount??0).gt(0)};this.startingPoll=async(e,o)=>{if(this.cacheParams=e,this.timerRef&&clearTimeout(this.timerRef),!this.isQuoteImmediate(this.cacheParams||{})){this.initLoading=!1,this.resetQuote();return}await this.fetchQuoteAction(this.cacheParams,o),this.timerRef&&clearTimeout(this.timerRef),this.timerRef=setTimeout(async()=>{this.isAutoQuote=!0,await this.startingPoll(this.cacheParams,o)},this.QUOTE_TIMEOUT)};this.fetchQuoteAction=async(e,o)=>{this.quoteStart();let n=sd.getWalletId(),i=oo({},e,{ext:{referId:n}});J.info(Se.MARKET_SWAP_QUOTE_PARAMS,{params:i});let[s,l,{cancelled:c}]=await this.quoteStore.requestQuote(i,"market");if(c){this.quoteEnd();return}s?(Ji.isOpen&&Ji?.close(),this.setTraceId("")):(o?.(l),this.setTraceId(n)),this.quoteEnd()};this.destroy=()=>{this.disposerCurrentDefiPlatformInfoReaction?.(),this.disposerCurrentDefiPlatformInfoReaction=null};this.quoteStore=e.getStore(ko),nt(this,{},{autoBind:!0}),this.quoteStore&&(this.disposerCurrentDefiPlatformInfoReaction=ba(()=>this.quoteStore?.computedDefiPlatformInfoList,()=>this.setCurrentDefiPlatformInfo(this.getCurrentDefiPlatformInfo())))}get quoteData(){return this.quoteStore?.quoteData??on}get computedQuoteCompleted(){return this.quoteStore?.computedQuoteCompleted??""}get computedQuoteNetworkError(){return this.quoteStore?.computedQuoteNetworkError??!1}get computedQuoteErrorMsg(){return this.quoteStore?.computedQuoteErrorMsg??""}get computedQuoteIsError(){return this.computedQuoteCompleted&&this.computedQuoteCompleted!=="0"&&this.computedQuoteCompleted!==Fi}get computedQuoteIsNewAddress(){return this.computedQuoteCompleted&&G(this.quoteData,"error_code")===Pa}get computedQuoteLiquidityError(){return this.computedQuoteCompleted&&this.computedQuoteCompleted===Ra}get computedSwapOnOtherDapp(){return this.computedQuoteCompleted===Fi}get computedSwapOnOtherDappAlert(){return this.computedQuoteCompleted===Na}get computedSupportDappTradeByChain(){return this.computedSwapOnOtherDapp||this.computedSwapOnOtherDappAlert}get computedQuoteIsInvalid(){return this.computedQuoteCompleted&&(this.computedQuoteIsError||this.computedQuoteNetworkError||this.computedQuoteLiquidityError)}get computedCustomQuoteLoading(){return!this.isAutoQuote&&this.quoteLoading}get computedDefiPlatformInfo(){return this.currentDefiPlatformInfo}get computedDefiPlatformInfoList(){return G(this.quoteData,"data.defiPlatformInfoList",[]).map((o,n)=>({...o,isBest:n===0,toTokenPrice:o.toTokenValue}))}get computedGetDefiPlatformIdList(){return this.computedDefiPlatformInfoList?.map(e=>e.defiPlatformId)}get computedGetDefiPlatformId(){return this.computedDefiPlatformInfo?.defiPlatformId}get computedIsNoOkxLiquidity(){let e=this.computedDefiPlatformInfoList;return e?!e.some(n=>n?.defiPlatformId===so):!1}get computedIsOkxRouter(){return!this.computedDefiPlatformInfo?.defiPlatformId||this.computedDefiPlatformInfo?.defiPlatformId===so}get computedGetQuoteFrom(){return this.quoteStore?.computedGetQuoteFrom??{}}get computedGetQuoteTo(){return this.quoteStore?.computedGetQuoteTo??{}}get computedGetQuoteFromAmount(){return this.quoteStore?.computedGetQuoteFromAmount}get computedGetQuoteFromValue(){return this.quoteStore?.computedGetQuoteFromValue}get computedGetQuoteToAmount(){return this.computedDefiPlatformInfo?.receiveAmount}get computedGetQuoteToValue(){return this.computedDefiPlatformInfo?.toTokenValue}get computedQuoteSafemoon(){if(this.computedQuoteCompleted){let e=G(this.quoteData,"data.commonDexInfo.fromToken",{}),o=G(this.quoteData,"data.commonDexInfo.toToken",{});if(Qi(e))return e?.tokenSymbol;if(Qi(o))return o?.tokenSymbol}return""}get nativeTokenPrice(){return G(this.quoteData,"data.commonDexInfo.nativeTokenPrice",0)}get computedToTokenAmount(){return this.computedDefiPlatformInfo?.receiveAmount??"0"}get computedToTokenValue(){return this.computedDefiPlatformInfo?.toTokenValue??"0"}get computedMinimumReceived(){return this.computedDefiPlatformInfo?.minimumReceived}get computedGetEstimateGasFee(){return this.computedDefiPlatformInfo?.estimateGasFee}get computedQuoteNetworkFeeOfMoney(){return this.computedDefiPlatformInfo?.quoteNetWorkFeeOfMoney}get computedQuoteNetworkFeeOfNativeToken(){return this.computedDefiPlatformInfo?.networkFeeOfNativeToken}get computedServiceFeeInfo(){return G(this.computedDefiPlatformInfo,"serviceFeeInfo",{})}get computedPriorityFeeInfo(){return this.quoteStore?.computedPriorityFeeInfo??{mevPriorityFeeInfo:{},nonMevPriorityFeeInfo:{}}}get computedRate(){let e=this.computedGetQuoteFromAmount,o=this.computedGetQuoteToAmount;return e&&o?Y(new Ye.BigNumber(o).div(e).toString(10),{needBillionMillionUnit:!1}):""}get computedToFromRate(){let e=this.computedGetQuoteFromAmount,o=this.computedGetQuoteToAmount;return e&&o?Y(new Ye.BigNumber(e).div(o).toString(10),{needBillionMillionUnit:!1}):""}get quoteDiffValThreshold(){return this.computedDefiPlatformInfo?.quoteDiffValThreshold}get quoteDiffPercentThreshold(){return this.computedDefiPlatformInfo?.quoteDiffPercentThreshold}get computedValueDifference(){return Qd({pay:this.computedGetQuoteFromValue,receive:this.computedToTokenValue,quoteDiffValThreshold:this.quoteDiffValThreshold,quoteDiffPercentThreshold:this.quoteDiffPercentThreshold})}get computedAutoSlippage(){let e=this.computedDefiPlatformInfo?.autoSlippageInfo?.referenceSlippage??"",o=this.computedDefiPlatformInfo?.autoSlippageInfo?.autoSlippage??"";return e||o}get computedGetRouterList(){return this.computedDefiPlatformInfo?.dexRouterList??[]}get jitoIsSuccess(){return this.computedDefiPlatformInfo?.isEnableMev==="1"}get mevUnstableShowLevel(){return this.computedDefiPlatformInfo?.mevUnstableShowLevel??-1}get computedMevConfig(){return G(this.computedTransactionData,"mevConfig")}get computedIsEnableMev(){return G(this.computedMevConfig,"enableMev")}get computedMevSuppliers(){return G(this.computedMevConfig,"mevSuppliers")}get computedGetQuoteNeedApprove(){return this.computedDefiPlatformInfo?.needApprove}get computedTransactionData(){return G(this.computedDefiPlatformInfo,"transactionData")}get computedApproveTxInfo(){return G(this.computedTransactionData,"approveTxInfo")}get computedIsCombineApproveAndSwap(){return!!this.computedApproveTxInfo}get computedIsOfflineType(){return this.computedDefiPlatformInfo?.offlineType===qd.YES}get computedTeeSignMarketRelTs(){return this.quoteStore?.computedTeeSignMarketRelTs}get computedTeeSignTpslRelTs(){return this.quoteStore?.computedTeeSignTpslRelTs}get computedQuoteId(){return G(this.computedDefiPlatformInfo,"quoteId")}get computedReducePercent(){return Ja(this.computedDefiPlatformInfo?.reducePercent)}};dr.serviceId="marketQuoteService",dr.serviceName="MarketQuoteServiceStore";a();d();a();d();var li="tradeConfigStore",xo="limitTradeFormService",yo="marketTradeFormService";a();d();a();d();var ce=class{destroy(){}hasError(){return!1}getError(){return null}async init(t){}};a();d();a();d();$e();function lf(r){return typeof r=="number"&&Number.isFinite(r)||typeof r=="string"&&r!==""&&Number.isFinite(Number(r))}var kt=(r="")=>{let{pathname:t}=Ea(),e=r||t,[o,n]=e.split("/").slice(-2),i,s,l=!1;return lf(o)?(i=o,s=kr.chainInfo?.[i]||"",l=!!s):(s=o,i=ha(kr.chainInfo,c=>c===s)),{chainId:i,chainName:s,tokenContractAddress:decodeURIComponent(n),needRedirect:l}};a();d();function uf(r){return new Promise(t=>setTimeout(t,r))}async function ui(r,t=3,e=0){let o;for(let n=0;n<t;n++)try{return await r()}catch(i){o=i,e&&n<t-1&&await uf(e)}throw o}function mf(r,t,e){let o=Wt();return{promise:r(t,{...e,signal:o.signal}),cancel:()=>o.abort()}}function cf(r,t,e){if(it())return mf(r,t,e);let o=new AbortController,n=o.signal;return{promise:r(t,{...e,signal:n}),cancel:()=>o.abort(),abortController:o}}function kw(r,t){return cf(re.get,r,t)}a();d();var nn=r=>{let{chainId:t,tokenContractAddress:e}=kt();return at({chainId:t,tokenContractAddress:e},r)},mi=r=>{let{chainId:t}=kt();return Number(r)===Number(t)};a();d();var $t=class{constructor(){this.seq=0;this.currentKey=null;this.cancelRef=null}get key(){return this.currentKey}isSameKey(t){return this.currentKey===t}abort(){this.cancelRef&&(this.cancelRef.abort(),this.cancelRef=null)}start(t){this.abort(),this.currentKey=t;let e=++this.seq;return this.cancelRef=Wt(),{requestId:e,key:t,signal:this.cancelRef.signal}}isLatest(t,e){return t===this.seq&&e===this.currentKey}};var Co=class extends ce{constructor(){super();this.moduleName="targetToken";this.token=null;this.error=null;this.loading=!1;this.firstLoaded=!1;this.loadError=!1;this.config=null;this.request=new $t;this.balanceRequest=new $t;K(this,{token:F.ref,error:F.ref,loading:F,firstLoaded:F,loadError:F,config:F.ref,setToken:L.bound,setConfig:L.bound,setLoading:L.bound,setError:L.bound,updateBalance:L.bound,fetchTokenBalance:L.bound,reset:L.bound})}setToken(e){this.token=e}setConfig(e){this.config=e}setLoading(e){this.loading=e}setError(e){this.error=e}updateBalance(e){this.token&&e&&(this.token={...this.token,...e})}async fetchTokenTradeConfig(e){let{chainId:o,tokenContractAddress:n}=e,i=`${o}_${n}`,{requestId:s,signal:l}=this.request.start(i);Ir(()=>{this.loading=!0});let[c,u]=await pe(ui(()=>re.get(Qa,{params:{chainId:o,tokenContractAddress:n},signal:l}),3,500));if(!this.request.isLatest(s,i))return;if(c||!u?.data){Ot(c)||(J.error(Se.MARKET_ORDER_PLACER_STRATEGY_FETCH_ERROR,{error:c}),Ir(()=>{this.config=null,this.loading=!1,this.firstLoaded=!0,this.loadError=!0,this.error=c}),J.info(Se.MARKET_SWAP_FETCH_CONFIG_ERROR,{data:{params:{chainId:o,tokenContractAddress:n},type:"fetchTokenTradeConfig",error:c}}));return}let{tokenInfo:m,...g}=u.data;Ir(()=>{let T=nn(m);if(this.loading=!1,this.firstLoaded=!0,this.loadError=!1,this.error=null,!T){J.error(Se.MARKET_SWAP_TOKEN_NOT_MATCH_URL_TOKEN,{error:new Error(Se.MARKET_SWAP_TOKEN_NOT_MATCH_URL_TOKEN),data:{params:{chainId:o,tokenContractAddress:n},type:"fetchTokenTradeConfig",urlToken:kt()}});return}this.token=m||this.token,this.config={...g,tokenInfo:m}})}async fetchTokenBalance(e){let{chainId:o,tokenContractAddress:n,userUniqueId:i,walletId:s,userWalletAddress:l}=e,c=`${o}_${n}_${s}_${l}_${i||""}`,{requestId:u,signal:m}=this.balanceRequest.start(c),[g,T]=await pe(re.get(ja,{params:{chainId:o,tokenAddress:n,userUniqueId:i,walletId:s,userWalletAddress:l,businessType:"1"},signal:m}));if(!this.balanceRequest.isLatest(u,c))return;if(g){Ot(g)||J.error(Se.MARKET_SWAP_FETCH_CONFIG_ERROR,{error:g,data:{chainId:o,tokenContractAddress:n,type:"fetchTokenBalance"}});return}let _=T?.data;!_||!nn(_)||Ir(()=>{this.updateBalance({amountNum:_.amountNum,amountNumBigDecimal:_.amountNumBigDecimal})})}async init(e){let{chainId:o,tokenContractAddress:n}=e||kt();!o||!n||await this.fetchTokenTradeConfig({chainId:o,tokenContractAddress:n})}reset(){this.request.abort(),this.balanceRequest.abort(),this.token=null,this.error=null,this.loading=!1,this.firstLoaded=!1,this.loadError=!1,this.config=null}destroy(){}hasError(){return!!this.error||this.loadError}getError(){return this.error}};a();d();var bo=class extends ce{constructor(){super();this.moduleName="direction";this.direction="buy";K(this,{direction:F,setDirection:L.bound,isBuy:M,isSell:M,reset:L.bound})}setDirection(e){this.direction=e}get isBuy(){return this.direction==="buy"}get isSell(){return this.direction==="sell"}async init(){this.setDirection("buy")}reset(){this.direction="buy"}};a();d();var vo=class extends ce{constructor(){super();this.moduleName="tradeMode";K(this,{mode:F,setMode:L.bound,isMarket:M,isLimit:M,reset:L.bound})}getFromStorage(){let e=Le.get(On);return e==="limit"||e==="market"?e:"market"}saveToStorage(){Le.set(On,this.mode)}setMode(e){this.mode=e,this.saveToStorage()}get isMarket(){return this.mode==="market"}get isLimit(){return this.mode==="limit"}async init(e){e?this.setMode(this.getFromStorage()):this.setMode("market")}reset(){this.mode="market"}};a();d();$e();a();d();var ci=class{constructor(){this.seq=0;this.pendingRequests=new Map}schedule(t,e,o){let n=this.pendingRequests.get(t);n&&n.abortController.abort();let i=++this.seq;return this.pendingRequests.set(t,{requestId:i,abortController:o}),e(o.signal).then(l=>{if(this.isLatest(i,t))return this.onRequestComplete(t),l;throw new Error(Yi)},l=>{throw this.isLatest(i,t)?l:new Error(Yi)})}onRequestComplete(t){this.pendingRequests.delete(t)}dispose(){Array.from(this.pendingRequests.values()).forEach(({abortController:t})=>{t.abort()}),this.pendingRequests.clear(),this.seq=0}isLatest(t,e){return this.pendingRequests.get(e)?.requestId===t}};var ff=[],wo=class extends Xi{constructor(){super({strategy:new ci});this.moduleName="priceTokenList";this.list=ff;K(this,{...Xi.mobxAnnotations,list:F,formattedList:M,setList:L.bound,updateBalanceOverrideByAddress:L.bound,reset:L.bound})}get priceTokenLoading(){return this.getLoading()}get priceTokenError(){return this.getError()}get formattedList(){if(!Array.isArray(this.list)||!this.list.length)return[];let e=this.list.map(({currencyTokenInfo:o,currencyDefaultBuyAmountList:n})=>{let i=o.amountNum,s=o.amountNumBigDecimal;return{...o,amountNum:i,amountNumBigDecimal:s,currencyDefaultBuyAmountList:n,balance:i}}).filter(o=>!nn(o));return e.length?Ia(e,o=>Number(o.currencyAmount),"desc"):[]}setList(e){this.list=e}updateBalanceOverrideByAddress(e){if(!Number(e.chainId))return;let{coinAmountOriginalDec:n,coinAmountDec:i}=e,s={amountNum:n,amountNumBigDecimal:i},l=this.list.findIndex(c=>{let u=c.currencyTokenInfo;return at(e,u)});if(l>=0){let c=this.list[l],u=c.currencyTokenInfo,m=[...this.list],g={...c,currencyTokenInfo:{...u,amountNum:s.amountNum,amountNumBigDecimal:s.amountNumBigDecimal}};m[l]=g,this.setList(m)}}async doRequest(e,o){let{params:n}=e,i=await ui(()=>re.get($a,{params:{...n,tradeType:1},signal:o.signal,isolate:!0}),3,500),s=i?.data?.[0]?.currencyTokenInfo?.chainId;return mi(s)?i?.data||[]:(J.error(Se.TOKEN_LIST_CHAIN_ID_NOT_MATCH_URL_CHAIN_ID,{error:new Error(Se.TOKEN_LIST_CHAIN_ID_NOT_MATCH_URL_CHAIN_ID),data:{params:n,type:"fetchPriceTokenList",urlChainId:kt().chainId}}),[])}onSuccess(e){this.setList(e)}onError(e,o){J.error(Se.TOKEN_LIST_CHAIN_ID_NOT_MATCH_URL_CHAIN_ID,{error:new Error(Se.TOKEN_LIST_CHAIN_ID_NOT_MATCH_URL_CHAIN_ID),data:{params:o,type:"fetchPriceTokenList",urlChainId:kt().chainId}})}async init(e){!e?.chainId||!e?.tokenContractAddress||await this.fetch({params:e})}reset(){this.dispose()}destroy(){}hasError(){return!!this.getError()}};a();d();a();d();$e();var qs="MARKET_TRADER_PRICING_TOKEN_AMOUNT_LIST_V2",js="MARKET_TRADER_SELL_AMOUNT_LIST_STORAGE_V2",pi=({token:r,amountList:t,storageKey:e,isSell:o=!1})=>{if(!vr(r))return;let n=Le.get(e),i=G(r,"chainId"),s=Ki(r),l=o?{[i]:t}:{[i]:{[s]:t}};Le.set(e,oo({},n,l))},fi=({token:r,storageKey:t})=>{if(!vr(r))return null;let e=Le.get(t),o=G(r,"chainId"),n=Ki(r),i=G(e,`[${o}]`);if(Array.isArray(i))return i;let s=G(i,`[${n}]`);return Array.isArray(s)?s:null};var lr=class extends ce{constructor(){super();this.moduleName="buyForm";this.selectToken=null;this.amountList=[];this.amount="";K(this,{selectToken:F.ref,amountList:F.ref,amount:F,computedInsufficientBalance:M,setSelectToken:L.bound,setAmountList:L.bound,setAmount:L.bound,updateBalance:L.bound,initAmountListFromStorage:L.bound,reset:L.bound})}get computedInsufficientBalance(){let e=this.selectToken?.amountNum,o=this.amount;return!ee(e)||!ee(o)?!1:new $.BigNumber(o).gt(e)}setSelectToken(e){if(!e){this.selectToken=null;return}let o=!!this.selectToken&&at(this.selectToken,e);this.selectToken=e,o||(this.amount="",this.initAmountListFromStorage())}setAmountList(e,o=!1){this.amountList=e,o&&this.selectToken&&pi({token:this.selectToken,amountList:e,storageKey:qs,isSell:!1})}initAmountListFromStorage(){if(!vr(this.selectToken))return;let e=fi({token:this.selectToken,storageKey:qs});if(Array.isArray(e)&&e.length>0){this.amountList=e;return}let o=this.selectToken?.currencyDefaultBuyAmountList;Array.isArray(o)&&o.length>0&&(this.amountList=o)}setAmount(e){this.amount=e}updateBalance(e){this.selectToken&&e&&(this.selectToken={...this.selectToken,...e})}async init(){}reset(){this.selectToken=null,this.amountList=[],this.amount=""}};a();d();var ur=class extends ce{constructor(){super();this.moduleName="sellForm";this.selectToken=null;this.amountList=[];this.amountListSelectedIndex=-1;this.amount="";K(this,{selectToken:F.ref,amountList:F.ref,amount:F,amountListSelectedIndex:F,computedAmountListSelectedVal:M,computedInsufficientBalance:M,setSelectToken:L.bound,setAmountList:L.bound,setAmount:L.bound,setAmountListSelectedIndex:L.bound,initAmountListFromStorage:L.bound,reset:L.bound})}setSelectToken(e){if(!e){this.selectToken=null;return}let o=!!this.selectToken&&at(this.selectToken,e);this.selectToken=e,o||(this.amount="")}setAmountListSelectedIndex(e){this.amountListSelectedIndex=e}setAmountList(e,o=!1){this.amountList=e,o&&this.selectToken&&pi({token:this.selectToken,amountList:e,storageKey:js,isSell:!0})}setAmount(e){this.amount=e}get computedAmountListSelectedVal(){return this.amountList[this.amountListSelectedIndex]??0}get computedInsufficientBalance(){let e=this.selectToken?.amountNum,o=this.amount;return!ee(e)||!ee(o)?!1:new $.BigNumber(o).gt(e)}initAmountListFromStorage(e){if(!vr(this.selectToken))return;let o=fi({token:this.selectToken,storageKey:js});if(Array.isArray(o)&&o.length>0){this.amountList=o;return}e?.length>0&&(this.amountList=e.map(Number))}async init(){}reset(){this.selectToken=null,this.amountList=[],this.amount=""}};a();d();var Eo=class extends ce{constructor(){super();this.moduleName="triggerConfig";this.type="price";this.ratio="";this.inputValue="";this.value="";this.selectedIndex=-1;this.hasValueChanged=!1;this.getMarketData=null;K(this,{type:F,ratio:F,inputValue:F,value:F,selectedIndex:F,hasValueChanged:F,setType:L.bound,setRatio:L.bound,setInputValue:L.bound,setValue:L.bound,setSelectedIndex:L.bound,setHasValueChanged:L.bound,clearSelectedIndex:L.bound,setMarketDataRef:L.bound,reset:L.bound,isPrice:M,isMarketCap:M,inputPrecision:M,isValueInvalid:M,triggerPrice:M,triggerMarketCap:M,triggerPriceDiffRate:M})}setType(e){this.type=e}setRatio(e){this.ratio=e}setInputValue(e){this.inputValue=e}setValue(e){this.value=e}setSelectedIndex(e){this.selectedIndex=e}setHasValueChanged(e){this.hasValueChanged=e}clearSelectedIndex(){this.selectedIndex=-1}setMarketDataRef(e){this.getMarketData=e}get isPrice(){return this.type==="price"}get isMarketCap(){return this.type==="mcap"}get inputPrecision(){return this.isPrice?12:2}get isValueInvalid(){return!ee(this.value)}get triggerPrice(){if(this.isPrice)return this.value;let e=this.getMarketData?.();return!e||!ee(this.value)||!ee(e.circulatingSupply)?"":$.div(this.value,e.circulatingSupply).toString()}get triggerMarketCap(){if(this.isMarketCap)return this.value;let e=this.getMarketData?.();return!e||!ee(this.value)||!ee(e.circulatingSupply)?"":$.mul(this.value,e.circulatingSupply).toString()}get triggerPriceDiffRate(){let e=this.getMarketData?.();if(!e)return uo(0);if(!ee(e.price)||!ee(this.triggerPrice))return uo(0);let o=$.sub(this.triggerPrice,e.price),n=$.mul($.div(o,e.price),100);return uo(n)}async init(){}reset(){this.type="price",this.ratio="",this.inputValue="",this.value="",this.selectedIndex=-1,this.hasValueChanged=!1}};a();d();var sn=class extends ce{constructor(){super();this.moduleName="marketData";this.price="";this.marketCap="";this.circulatingSupply="";this.isReady=!1;K(this,{price:F,marketCap:F,circulatingSupply:F,isReady:F,setPrice:L.bound,setMarketCap:L.bound,setCirculatingSupply:L.bound,setIsReady:L.bound,updateMarketData:L.bound,reset:L.bound,isSupportMarketCap:M})}setPrice(e){this.price=e}setMarketCap(e){this.marketCap=e}setCirculatingSupply(e){this.circulatingSupply=e}setIsReady(e){this.isReady=e}updateMarketData(e){e.price!==void 0&&(this.price=e.price),e.marketCap!==void 0&&(this.marketCap=e.marketCap),e.circulatingSupply!==void 0&&(this.circulatingSupply=e.circulatingSupply)}get isSupportMarketCap(){return this.isReady?ee(this.marketCap)&&ee(this.circulatingSupply):!0}async init(){}reset(){this.price="",this.marketCap="",this.circulatingSupply="",this.isReady=!1}};a();d();var an=class extends ce{constructor(){super();this.moduleName="serviceState";this.request=new $t;this.loaded=!1;this.isLimitRegion=!1;this.preChecking=!0;this.preCheckData=null;this.error=null;K(this,{loaded:F,isLimitRegion:F,preChecking:F,preCheckData:F,error:F,isLimitRegionConfirmed:M,isNotLimitRegion:M,preCheckMsg:M,serviceState:M,computedIsLimitRegion:M,computedIsNotLimitRegion:M,computedPreCheckMsg:M,setLoaded:L.bound,setIsLimitRegion:L.bound,setPreChecking:L.bound,setPreCheckData:L.bound,setError:L.bound,updateServiceState:L.bound,tradePreCheck:L.bound,reset:L.bound})}get isLimitRegionConfirmed(){return this.loaded&&this.isLimitRegion}get isNotLimitRegion(){return this.loaded&&!this.isLimitRegion}get preCheckMsg(){return!this.preChecking&&this.preCheckData&&this.preCheckData.status!==0&&this.preCheckData.msg||""}get serviceState(){return{loaded:this.loaded,isLimitRegion:this.isLimitRegion}}get computedIsLimitRegion(){return this.isLimitRegionConfirmed}get computedIsNotLimitRegion(){return this.isNotLimitRegion}get computedPreCheckMsg(){return this.preCheckMsg}setLoaded(e){this.loaded=e}setIsLimitRegion(e){this.isLimitRegion=e}setPreChecking(e){this.preChecking=e}setPreCheckData(e){this.preCheckData=e}setError(e){this.error=e}updateServiceState(e){e.loaded!==void 0&&(this.loaded=e.loaded),e.isLimitRegion!==void 0&&(this.isLimitRegion=e.isLimitRegion)}async tradePreCheck(e){this.preCheckData||(this.preChecking=!0);let o=`${e.chainId||""}_${e.userWalletAddress||""}`,{requestId:n,signal:i}=this.request.start(o),[s,l]=await pe(Gd(e,{signal:i}));!this.request.isLatest(n,o)||Ir(()=>{this.preChecking=!1,!s&&l?.data&&(this.preCheckData=l.data,this.error=null),Ot(s)||(this.error=s)})}async init(e){await this.tradePreCheck({chainId:kt().chainId,userWalletAddress:e})}reset(){this.request.abort(),this.loaded=!1,this.isLimitRegion=!1,this.preChecking=!0,this.preCheckData=null,this.error=null}destroy(){this.request.abort()}hasError(){return!!this.error}getError(){return this.error}};a();d();var dn=class extends ce{constructor(){super();this.moduleName="tokenPairRate";this.tokenRateExpanded=!1;K(this,{tokenRateExpanded:F,setTokenRateExpanded:L.bound,reset:L.bound})}setTokenRateExpanded(e){this.tokenRateExpanded=e}async init(){this.tokenRateExpanded=!1}reset(){this.tokenRateExpanded=!1}};a();d();$e();a();d();$e();a();d();var _i=(e=>(e[e.TP=1]="TP",e[e.SL=2]="SL",e))(_i||{});var Ao={[1]:{type:1,label:"swaptrade_tee_tag_take_profit",icon:"okx-defi-marketplace-pointer-up",params:[{name:"changeScale",label:"swaptrade_tee_input_tp",icon:"okx-defi-marketplace-pointer-up",suffix:"%",min:1,max:1e6,precision:0,checkParam:r=>{let t=G(r,"changeScale");return new $.BigNumber(t).gte(1)&&new $.BigNumber(t).lte(1e6)}},{name:"sellScale",label:"commonall_enterfield_title_sell",suffix:"%",min:1,max:100,precision:0,checkParam:r=>{let t=G(r,"sellScale");return new $.BigNumber(t).gte(1)&&new $.BigNumber(t).lte(100)}}],formatParams:r=>{let{type:t,values:e}=r,{changeScale:o,sellScale:n}=e;return{sellType:t,changeScale:new $.BigNumber(o).abs().toString(),sellScale:new $.BigNumber(n).abs().toString()}}},[2]:{type:2,label:"swaptrade_tee_tag_stop_loss",icon:"okx-defi-marketplace-pointer-down",params:[{name:"changeScale",label:"swaptrade_tee_input_sl",icon:"okx-defi-marketplace-pointer-down",suffix:"%",min:-99,max:-1,precision:0,isNegative:!0,checkParam:r=>{let t=G(r,"changeScale");return new $.BigNumber(t).gte(-99)&&new $.BigNumber(t).lte(-1)}},{name:"sellScale",label:"commonall_enterfield_title_sell",suffix:"%",min:1,max:100,precision:0,checkParam:r=>{let t=G(r,"sellScale");return new $.BigNumber(t).gte(1)&&new $.BigNumber(t).lte(100)}}],formatParams:r=>{let{type:t,values:e}=r,{changeScale:o,sellScale:n}=e;return{sellType:t,changeScale:new $.BigNumber(o).abs().toString(),sellScale:new $.BigNumber(n).abs().toString()}}}};a();d();$e();a();d();var vm=r=>_i[r.type]?Ao[r.type].params?yn(r.values)?Ao[r.type].params.every(t=>t.checkParam(r.values)):!1:!0:!1;a();d();a();d();var ln=7*24*60*60*1e3;function un(r=ln){let t=new Date,e=t.toISOString(),o=new Date(t.getTime()+Number(r)),n=o.toISOString(),i=o.getTime();return{createdAt:e,expireTimestamp:n,timestamp:i}}var wm=({chainId:r,walletAddress:t,fromTokenAddress:e,toTokenAddress:o,fromAmount:n,minReturnAmount:i,referrerAddress:s,referrerCode:l,expireMs:c=ln})=>{let{createdAt:u,expireTimestamp:m,timestamp:g}=un(c);return s?`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"Swap"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Referrer Address: ${s}
Referrer Code: ${l}
Timestamp: ${g}`:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"Swap"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Timestamp: ${g}`},Em=({chainId:r,walletAddress:t,fromTokenAddress:e,toTokenAddress:o,fromAmount:n,minReturnAmount:i,referrerAddress:s,referrerCode:l,expireMs:c=ln})=>{let{createdAt:u,expireTimestamp:m,timestamp:g}=un(c);return s?{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"SwapAndAutoSell"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Referrer Address: ${s}
Referrer Code: ${l}
Timestamp: ${g}`,timestamp:g}:{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"SwapAndAutoSell"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Timestamp: ${g}`,timestamp:g}},Am=({chainId:r,walletAddress:t,fromTokenAddress:e,toTokenAddress:o,fromAmount:n,minReturnAmount:i,referrerAddress:s,referrerCode:l,expireMs:c=ln})=>{let{createdAt:u,expireTimestamp:m,timestamp:g}=un(c);return{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"LimitOrderClassic"}
Recipient: ${t}
Created At: ${u}
Expired At: ${m}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Min Return Amount(precision adjusted): ${i}
Referrer Address: ${s}
Referrer Code: ${l}
Timestamp: ${g}`,timestamp:g}},Dm=({chainId:r,walletAddress:t,fromTokenAddress:e,toTokenAddress:o,fromAmount:n,referrerAddress:i,referrerCode:s,expireMs:l=ln})=>{let{createdAt:c,expireTimestamp:u,timestamp:m}=un(l);return i?{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"LimitOrderUbased"}
Recipient: ${t}
Created At: ${c}
Expired At: ${u}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Referrer Address: ${i}
Referrer Code: ${s}
Timestamp: ${m}`,timestamp:m}:{signMsg:`${p("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${r}
Strategy Type: ${"LimitOrderUbased"}
Recipient: ${t}
Created At: ${c}
Expired At: ${u}
From Token: ${e}
To Token: ${o}
From Amount(precision adjusted): ${n}
Timestamp: ${m}`,timestamp:m}};var Om=({chainId:r,walletAddress:t,timeDuration:e,expireTime:o,isEdit:n,referrerAddress:i,referralCode:s})=>{let l=o?new Date(o):"",{createdAt:c,timestamp:u,expireTimestamp:m}=un(e),g=l?l.toISOString():m,T=l?l.getTime():u,_=n?p("swaptrade_copytrade_data_sign_info_edit"):p("swaptrade_copytrade_data_sign_info"),S=i?`
Referrer Address: ${i}`:"",y=s?`
Referrer Code: ${s}`:"";return{signMsg:`${_}

Chain Index: ${r}
Strategy Type: ${"CopyTrade"}
Recipient: ${t}
Created At: ${c}
Expired At: ${g}${S}${y}
Timestamp: ${T}`,expireTimestamp:T}};async function Ks(r){return await Id()||r}async function gf(r,t){let{isSilent:e=!1}=t,o=wm(r),n=await pt.signMessage({chainId:Number(r.chainId),message:o},{isSilent:e});return{signMsg:o,signature:n}}async function hf(r,t){let{isSilent:e=!1}=t,{signMsg:o,timestamp:n}=Em(r),i=await pt.signMessage({chainId:Number(r.chainId),message:o},{isSilent:e});return{signMsg:o,signature:i,timestamp:n}}async function Tf(r,t){let{isSilent:e=!1}=t,{signMsg:o,timestamp:n}=Am(r),i=await Ks(e),s=await pt.signMessage({chainId:Number(r.chainId),message:o},{isSilent:i});return{signMsg:o,signature:s,timestamp:n}}async function Sf(r,t){let{isSilent:e=!1}=t,{signMsg:o,timestamp:n}=Dm(r),i=await Ks(e),s=await pt.signMessage({chainId:Number(r.chainId),message:o},{isSilent:i});return{signMsg:o,signature:s,timestamp:n}}async function If(r){if(!await Pn(Number(r.chainId)))return Promise.reject(new Error("Switch network failed"));let e=await Td(),{currentWalletId:o,currentAccount:{tee:n}}=e,{isSilent:i=!1,chainId:s,walletAddress:l,timeDuration:c,expireTime:u,isEdit:m=!1,referralCode:g,referrerAddress:T}=r,_=await Ks(i),{signMsg:S,expireTimestamp:y}=Om({walletAddress:l,chainId:s,timeDuration:c,expireTime:u,isEdit:m,referralCode:g,referrerAddress:T}),x=await pt.signMessage({chainId:s,message:S},{isSilent:_});return{signMsg:S,signature:x,accountId:o,address:l,chainId:s?.toString(),teeId:n.id,referrerAddress:T,referralCode:g,command:"CopyTrade",expireTimestamp:y}}var dD={["Swap"]:gf,["SwapAndAutoSell"]:hf,["LimitOrderClassic"]:Tf,["LimitOrderUbased"]:Sf,["CopyTrade"]:If};var Rm="market_sell_auto_sell_strategy",Lm=()=>{let r=Le.get(Rm);return Array.isArray(r)?r.filter(t=>vm(t)):[]},Pm=r=>Ao[r.type].params?Object.values(r.values).every(t=>!ot(t)):!0,mn=class extends ce{constructor(){super();this.moduleName="marketAutoSell";this.isAutoSellChecked=!1;this.strategies=Lm();K(this,{isAutoSellChecked:F,strategies:F.ref,computedCanAddStrategy:M,computedIsStrategyValid:M,computedHasEffectiveStrategy:M,computedIntentionType:M,computedStrategyErrors:M,computedInputErrorNumber:M,computedValidStrategies:M,computedTpSlRules:M,setIsAutoSellChecked:L.bound,setStrategies:L.bound,reset:L.bound})}setIsAutoSellChecked(e){this.isAutoSellChecked=e}setStrategies(e){this.strategies=e,Le.set(Rm,e)}get computedCanAddStrategy(){return this.strategies.length<5}get computedIsStrategyValid(){let e=this.strategies.every(({values:o})=>{let n=Object.values(o).every(s=>!ot(s)),i=Object.values(o).every(s=>ot(s));return n||i});return!this.isAutoSellChecked||e}get computedHasEffectiveStrategy(){return this.strategies.some(e=>Pm(e))}get computedIntentionType(){return this.isAutoSellChecked?this.computedHasEffectiveStrategy?"SwapAndAutoSell":"Swap":"Swap"}get computedStrategyErrors(){return this.strategies.reduce((e,{values:o,id:n})=>{let i=Object.values(o).every(l=>!ot(l)),s=Object.values(o).every(l=>ot(l));return e[n]=Object.entries(o).reduce((l,[c,u])=>({...l,[c]:i||s?!1:ot(u)}),{}),e},{})}get computedInputErrorNumber(){return Object.values(this.computedStrategyErrors).reduce((e,o)=>e+Object.values(o).filter(n=>n===!0).length,0)}get computedValidStrategies(){return!this.isAutoSellChecked||!this.computedHasEffectiveStrategy?[]:this.strategies.filter(e=>Pm(e))}get computedTpSlRules(){return!this.isAutoSellChecked||!this.computedHasEffectiveStrategy?null:this.computedValidStrategies.map(e=>{let{type:o}=e;return Ao[o].formatParams(e)})}async init(){}reset(){this.isAutoSellChecked=!1,this.strategies=Lm()}};a();d();a();d();var Nt=class{constructor(){this.children=new Map;K(this,{reset:L.bound})}getChildren(){return Array.from(this.children.values())}addChild(t,e){this.children.set(t,e)}removeChild(t){this.children.delete(t)}getChild(t){return this.children.get(t)}hasChild(t){return this.children.has(t)}reset(){this.children.forEach(t=>t.reset())}destroy(){this.children.forEach(t=>{t.destroy?.()})}hasError(){return Array.from(this.children.values()).some(t=>t.hasError())}getError(){let t=null;return Array.from(this.children.values()).some(e=>{let o=e.getError();return o!=null?(t=o,!0):!1}),t}getAllErrors(){let t=[];return this.children.forEach((e,o)=>{let n=e.getError();n&&t.push({module:o,error:n})}),t}async initAll(t){let e=[];this.children.forEach((o,n)=>{let i=t?.[n];e.push(o.init(i))}),await Promise.all(e)}async init(t){await this.initAll(t)}};a();d();var xt=class extends Nt{constructor(){super();this.moduleName="tradeConfigStore";this.isSaMode=!1;this.targetToken=new Co,this.tradeDirection=new bo,this.tradeMode=new vo,this.priceTokenList=new wo,this.serviceState=new an,this.tokenPairRate=new dn,this.addChild("targetToken",this.targetToken),this.addChild("direction",this.tradeDirection),this.addChild("tradeMode",this.tradeMode),this.addChild("priceTokenList",this.priceTokenList),this.addChild("serviceState",this.serviceState),this.addChild("tokenPairRate",this.tokenPairRate),K(this,{isSaMode:F,currentToken:M,chainId:M,loading:M,error:M,init:L.bound,resetErrors:L.bound,setIsSaMode:L.bound})}async init(){await this.targetToken.init(),this.targetToken.config?.supportSingleChainSwap&&(this.tradeMode.init(this.targetToken.config?.supportLimitU),this.tokenPairRate.init())}get currentToken(){return this.targetToken.token}get chainId(){return this.targetToken.token?.chainId??null}get loading(){return this.targetToken.loading}get error(){return this.hasError()}resetErrors(){this.targetToken.setError(null)}setIsSaMode(e){this.isSaMode=e}};xt.storeId=li,xt.storeName=li;a();d();var $s="marketTradeFormStore",mr=class extends Nt{constructor(){super();this.moduleName="marketTradeFormStore";this.buyForm=new lr,this.sellForm=new ur,this.autoSell=new mn,this.addChild("buyForm",this.buyForm),this.addChild("sellForm",this.sellForm),this.addChild("autoSell",this.autoSell),K(this,{buyForm:F.ref,sellForm:F.ref,autoSell:F.ref})}async init(){}};mr.storeId=$s,mr.storeName=$s;a();d();a();d();var Nm="INITIAL_SELECTED_TOKEN",Mm=({chainId:r,storageKey:t}={})=>{let e=Le.get(Nm)||{};return r&&t?e?.[r]?.[t]||"":e},Do=({chainId:r,tokenAddress:t,storageKey:e})=>{let o=Mm();o[r]||(o[r]={}),o[r][e]=t,Le.set(Nm,o)};var Oo=({chainId:r,storageKey:t,tokenList:e})=>{if(!e||e.length===0)return null;let o=Mm({chainId:r,storageKey:t});if(!o){let l=e[0];if(!l)return null;let c=l.tokenContractAddress;return c&&Do({chainId:r,tokenAddress:c,storageKey:t}),l}let n=e.find(l=>l.tokenContractAddress===o);if(n)return n;let i=e[0];if(!i)return null;let s=i.tokenContractAddress;return s&&Do({chainId:r,tokenAddress:s,storageKey:t}),i};var Lo=class extends ao{constructor(e){super(e);this.serviceId=yo;this.serviceName=yo;this.tradeConfigStore=e.getStore(xt),this.tradeFormStore=e.getStore(mr),K(this,{fromToken:M,toToken:M,typedAmount:M,currentSelectToken:M,amountList:M,isTokenPairReady:M})}get isTokenPairReady(){return!(!this.fromToken||!this.toToken||!Ld(this.fromToken,this.toToken)||!mi(Number(this.fromToken?.chainId))||at(this.fromToken,this.toToken))}get fromToken(){let{tradeDirection:e,targetToken:o}=this.tradeConfigStore;return e.isBuy?this.tradeFormStore.buyForm.selectToken:o.token}get toToken(){let{tradeDirection:e,targetToken:o}=this.tradeConfigStore;return e.isBuy?o.token:this.tradeFormStore.sellForm.selectToken}get typedAmount(){return this.tradeConfigStore.tradeDirection.isBuy?this.tradeFormStore.buyForm.amount:this.tradeFormStore.sellForm.amount}get currentSelectToken(){return this.tradeConfigStore.tradeDirection.isBuy?this.tradeFormStore.buyForm.selectToken:this.tradeFormStore.sellForm.selectToken}get amountList(){return this.tradeConfigStore.tradeDirection.isBuy?this.tradeFormStore.buyForm.amountList:this.tradeFormStore.sellForm.amountList}get autoSell(){return this.tradeFormStore.autoSell}setSelectToken(e){let{tradeDirection:o,targetToken:n}=this.tradeConfigStore,i=Number(n.token?.chainId);if(o.isBuy?this.tradeFormStore.buyForm.setSelectToken(e):this.tradeFormStore.sellForm.setSelectToken(e),i&&e.tokenContractAddress){let s=o.isBuy?"marketBuy":"marketSell";Do({chainId:i,tokenAddress:e.tokenContractAddress,storageKey:s})}}setAmount(e){this.tradeConfigStore.tradeDirection.isBuy?this.tradeFormStore.buyForm.setAmount(e):this.tradeFormStore.sellForm.setAmount(e)}initSelectedToken(){let{priceTokenList:e,targetToken:o}=this.tradeConfigStore,n=Number(o.token?.chainId);if(!n)return;let i=e.formattedList;if(!i?.length||i[0]&&Number(i[0].chainId)!==n)return;let s=Oo({chainId:n,storageKey:"marketBuy",tokenList:i});s&&this.tradeFormStore.buyForm.setSelectToken(s);let l=Oo({chainId:n,storageKey:"marketSell",tokenList:i});l&&(this.tradeFormStore.sellForm.setSelectToken(l),this.tradeFormStore.sellForm.initAmountListFromStorage(this.tradeConfigStore.targetToken.config?.defaultSellPercentList))}};Lo.serviceId=yo,Lo.serviceName=yo;a();d();var Qs="limitTradeFormStore",cr=class extends Nt{constructor(){super();this.moduleName="limitTradeFormStore";this.buyForm=new lr,this.sellForm=new ur,this.triggerConfig=new Eo,this.marketData=new sn,this.addChild("buyForm",this.buyForm),this.addChild("sellForm",this.sellForm),this.addChild("triggerConfig",this.triggerConfig),this.addChild("marketData",this.marketData),this.triggerConfig.setMarketDataRef(()=>this.marketData),K(this,{buyForm:F.ref,sellForm:F.ref,triggerConfig:F.ref,marketData:F.ref})}async init(){}reset(){this.buyForm.reset(),this.sellForm.reset(),this.triggerConfig.reset(),this.marketData.reset()}};cr.storeId=Qs,cr.storeName=Qs;a();d();var pr=class extends ao{constructor(e){super(e);this.serviceId=xo;this.serviceName=xo;this.balanceLoading=!1;this.balanceRequest=new $t;K(this,{balanceLoading:F,fromToken:M,toToken:M,fromTokenForSell:M,toTokenForSell:M,fromTokenBalance:M,fromTokenDecimals:M,fromTokenSymbol:M,typedAmount:M,currentSelectToken:M,marketPriceToTriggerPriceRate:M,amountList:M,computedIsBuy:M,computedIsLimit:M,computedIsConditionValueInValid:M,computedInsufficientBalance:M,computedTypedAmountIsValid:M,isFromTokenNonsupportChain:M,walletAddressOfFromTokenChain:M,setSelectToken:L.bound,setAmount:L.bound,initSelectedToken:L.bound,updateFromTokenBalanceByAddress:L.bound})}get buyForm(){return this.limitTradeFormStore.buyForm}get sellForm(){return this.limitTradeFormStore.sellForm}get triggerConfig(){return this.limitTradeFormStore.triggerConfig}get marketData(){return this.limitTradeFormStore.marketData}get tradeConfigStore(){let e=this.getStore(xt);if(!e)throw new Error("[LimitTradeFormServiceStore] TradeConfigStore not found in context. Make sure TradeConfigStore is registered before LimitTradeFormServiceStore.");return e}get limitTradeFormStore(){let e=this.getStore(cr);if(!e)throw new Error("[LimitTradeFormServiceStore] LimitTradeFormStore not found in context. Make sure LimitTradeFormStore is registered before LimitTradeFormServiceStore.");return e}get fromToken(){let{tradeDirection:e,targetToken:o}=this.tradeConfigStore;return e.isBuy?this.buyForm.selectToken:o.token}get walletAddressOfFromTokenChain(){let e=this.getStore(ji);return e?.getAddressByChainId?e.getAddressByChainId(this.fromToken?.chainId):Dd}get isFromTokenNonsupportChain(){if(!this.getStore(ji).isConnectedWallet)return!1;let o=this.fromToken?.chainId;return!o||!ed(o)?!1:!this.walletAddressOfFromTokenChain}get fromTokenForSell(){return this.tradeConfigStore.targetToken.token}get fromTokenBalance(){return this.fromToken?.amountNum}get fromTokenDecimals(){return this.fromToken?.decimals}get fromTokenSymbol(){return this.fromToken?.tokenSymbol}get computedIsBuy(){let{tradeDirection:e}=this.tradeConfigStore;return e.isBuy}get computedIsSell(){let{tradeDirection:e}=this.tradeConfigStore;return e.isSell}get computedIsLimit(){let{tradeMode:e}=this.tradeConfigStore;return e?.isLimit}get toToken(){let{tradeDirection:e,targetToken:o}=this.tradeConfigStore;return e.isBuy?o.token:this.sellForm.selectToken}get toTokenForSell(){return this.sellForm.selectToken}get typedAmount(){return this.tradeConfigStore.tradeDirection.isBuy?this.buyForm.amount:this.sellForm.amount}get currentSelectToken(){return this.tradeConfigStore.tradeDirection.isBuy?this.buyForm.selectToken:this.sellForm.selectToken}get amountList(){return this.tradeConfigStore.tradeDirection.isBuy?this.buyForm.amountList:this.sellForm.amountList}get computedSellPercent(){return!ee(this.typedAmount)||!ee(this.fromTokenBalance)||this.computedIsBuy?"":$.floorDiv(this.typedAmount,this.fromTokenBalance,2,!1)}get marketPriceToTriggerPriceRate(){let{price:e}=this.marketData,{triggerPrice:o}=this.triggerConfig,{tradeDirection:n}=this.tradeConfigStore;return!ee(e)||!ee(o)?"":n.isBuy?$.div(e,o).toString():$.div(o,e).toString()}get computedStrategyType(){let{tradeDirection:e}=this.tradeConfigStore,{triggerPrice:o}=this.triggerConfig,{price:n}=this.marketData;return e.isBuy?new $.BigNumber(o).gt(n)?It.CHASE_HIGH:It.BUY_DIP:new $.BigNumber(o).lt(n)?It.STOP_LOSS:It.TAKE_PROFIT}get computedIsConditionValueInValid(){return this.triggerConfig.isValueInvalid}get computedTypedAmountIsValid(){return ee(this.typedAmount)&&new $.BigNumber(this.typedAmount).gt(0)}get computedInsufficientBalance(){return this.computedTypedAmountIsValid?new $.BigNumber(this.typedAmount).gt(this.fromTokenBalance??0):!1}destroy(){this.balanceRequest.abort()}setSelectToken(e){let{tradeDirection:o,targetToken:n}=this.tradeConfigStore,i=Number(n.token?.chainId);if(o.isBuy?this.buyForm.setSelectToken(e):this.sellForm.setSelectToken(e),this.setAmount(""),i&&e.tokenContractAddress){let s=o.isBuy?"limitBuy":"limitSell";Do({chainId:i,tokenAddress:e.tokenContractAddress,storageKey:s})}}setAmount(e){this.tradeConfigStore.tradeDirection.isBuy?this.buyForm.setAmount(e):this.sellForm.setAmount(e)}initSelectedToken(){let{priceTokenList:e,targetToken:o}=this.tradeConfigStore,n=Number(o.token?.chainId);if(!n)return;let i=e.formattedList;if(!i||i.length===0||i[0]&&Number(i[0].chainId)!==n)return;let s=Oo({chainId:n,storageKey:"limitBuy",tokenList:i});s&&this.buyForm.setSelectToken(s);let l=Oo({chainId:n,storageKey:"limitSell",tokenList:i});l&&(this.sellForm.setSelectToken(l),this.limitTradeFormStore.sellForm.initAmountListFromStorage(this.tradeConfigStore.targetToken.config?.defaultSellPercentList))}updateFromTokenBalanceByAddress(e){if(this.tradeConfigStore.priceTokenList.updateBalanceOverrideByAddress(e),at(e,this.tradeConfigStore.targetToken.token)){let{coinAmountOriginalDec:o,amountNum:n,amountNumBigDecimal:i}=e,s=Number(o);this.tradeConfigStore.targetToken.updateBalance({amountNum:String(n||o),amountNumBigDecimal:i??(Number.isFinite(s)?s:void 0)})}}};pr.serviceId=xo,pr.serviceName=xo;a();d();var Fm=C(U());a();d();var zs=class{constructor(){this.cancelRef=null;this.fetchMarketBoostInfo=async t=>{this.cancelRef&&this.cancelRef.abort(),this.cancelRef=Wt(),ct.update({loading:!0,boostVolume:"",boostWeight:""});let[e,o]=await pe(re.post(Xa,t,{signal:this.cancelRef.signal}));if(e){Ot(e)||ct.update({loading:!1,error:!0});return}ct.update({loading:!1,boostVolume:o?.data?.boostVolume,boostWeight:o?.data?.boostWeight})};this.fetchLimitBoostInfo=async t=>{this.cancelRef&&this.cancelRef.abort(),this.cancelRef=Wt(),ct.update({loading:!0,boostVolume:"",boostWeight:""});let[e,o]=await pe(re.post(Za,t,{signal:this.cancelRef.signal}));if(e){Ot(e)||ct.update({loading:!1,error:!0});return}ct.update({loading:!1,boostVolume:o?.data?.boostInfo?.boostVolume,boostWeight:o?.data?.boostInfo?.weighted})}}},gi=new zs;var Bm=()=>{let{accountStore:r}=Pe(),t=Mn(dr),{computedGetQuoteFrom:e,computedGetQuoteTo:o,computedGetQuoteFromAmount:n,computedGetQuoteToAmount:i,computedServiceFeeInfo:s,computedIsOkxRouter:l}=t,c=r.getAddressByChainId(e.chainId);(0,hi.useEffect)(()=>{if(!l)return;(async()=>{let m={chainId:e.chainId,fromTokenAddress:e.tokenContractAddress,toTokenAddress:o.tokenContractAddress,fromAmount:n,toAmount:i,tradeMode:Kd.MARKET,userWalletAddress:c,refCode:s?.refCode};gi.fetchMarketBoostInfo(m)})()},[e.chainId,e.tokenContractAddress,n,o.tokenContractAddress,l,s?.refCode,c])},Um=()=>{let{quoteStore:r}=pm(),t=Mn(pr),{fromToken:e,toToken:o}=t,{computedServiceFeeInfo:n,computedGetQuoteFromAmount:i,computedToTokenAmount:s}=r;(0,hi.useEffect)(()=>{(async()=>{let c={serviceFeeInfo:n,chainId:e.chainId,fromTokenAddress:e.tokenContractAddress,toTokenAddress:o.tokenContractAddress,fromTokenAmount:i,toTokenAmount:s};gi.fetchLimitBoostInfo(c)})()},[n?.refCode,i,e?.chainId,e?.tokenContractAddress,o?.tokenContractAddress])},Vm=()=>{let{fromToStore:r,accountStore:t,quoteStore:e}=Pe(),{from:o,to:n}=r,{computedIsOkxProvider:i,quote:s}=e,{bestRoute:l}=s,c=l?.serviceFeeInfo?.refCode,u=t.getAddressByChainId(o.chainId);(0,hi.useEffect)(()=>{if(!i)return;(async()=>{let g={chainId:o.chainId,fromTokenAddress:o.tokenContractAddress,toTokenAddress:n.tokenContractAddress,fromAmount:o.amount,toAmount:n.amount,userWalletAddress:u,refCode:c};gi.fetchMarketBoostInfo(g)})()},[c,i,o.amount,o.chainId,o.tokenContractAddress,n.tokenContractAddress,u])};a();d();var cn={"boost-volume-content":"_boost-volume-content_3ndzy_1",boostVolumeContent:"_boost-volume-content_3ndzy_1","in-trade-detail":"_in-trade-detail_3ndzy_8",inTradeDetail:"_in-trade-detail_3ndzy_8","boost-weight-icon":"_boost-weight-icon_3ndzy_11",boostWeightIcon:"_boost-weight-icon_3ndzy_11"};var xf=[-2,-1,-7],Gm=({loading:r=!1,error:t=!1,boostWeight:e,boostVolume:o,inTradeDetail:n=!1,isOrderFinished:i=!1,status:s})=>{let{commonStore:{currencyConversion:l,computedNowCurrencySymbol:c}}=Pe();return r?Qr.default.createElement(xa.Input,{active:!0,style:{width:96,height:16}}):t||n&&xf.includes(Number(s))?le:Qr.default.createElement("div",{className:(0,Wm.default)(cn.boostVolumeContent,{[cn.inTradeDetail]:n})},ee(e)&&ee(o)&&Qr.default.createElement(wt,{title:i?p("trade_mid_tooltip_confirmation_boost_applied"):p("trade_mid_tooltip_confirmation_est_boost_earn")},Qr.default.createElement(Ni,{iconName:"okx-defi-dex-launched",size:Ni.SIZE.sm,iconClassName:cn.boostWeightIcon},uo($.mul(e,100),{needSign:!0,needZero:!1}))),Qr.default.createElement("div",{className:cn.boostVolume},Dt(l(o||"0").toString(),c,{needPlaceholder:!0})))};var yf={["market"]:Bm,["limit"]:Um,["swap"]:Vm},nP=he(({type:r})=>{let t=yf[r];return t(),Qr.default.createElement(Gm,{loading:ct.loading,boostVolume:ct.boostVolume,boostWeight:ct.boostWeight,error:ct.error})}),Hm=he(Gm);a();d();var Ti=C(U());var Cf=({isOrderFinished:r})=>Ti.default.createElement("div",{className:"color-white"},br(r?"trade_mid_tooltip_confirmation_boost_volume":"trade_mid_tooltip_confirmation_est_boost_volume",{link:Ti.default.createElement("a",{href:"https://web3.okx.com/boost/records",target:"_blank",rel:"noreferrer"},Ti.default.createElement("span",{className:"color-white underline"},p("trade_mid_tooltip_confirmation_boost_volume_learn")))})),qm=Cf;var bf=({orderInfo:r})=>{let{boostVolume:t,boostWeight:e,isOrderFinished:o,status:n}=r;return Si.default.createElement(W,{label:o?p("trade_mid_confirmation_pg_boost_earned"):p("trade_mid_tooltip_confirmation_est_boost_title"),hasToolTips:!0,toolTipsText:Si.default.createElement(qm,{isOrderFinished:o}),value:o?Si.default.createElement(Hm,{boostVolume:t,boostWeight:e,inTradeDetail:!0,isOrderFinished:!0,status:n}):le})},Ii=bf;a();d();var Qt=C(U());function ki({execPrice:r,reverseExecPrice:t,execPriceEquation:e,reverseExecPriceEquation:o,isSolanaLimitOrder:n,showReverseIcon:i=!0,hasToolTips:s=!0,label:l,hidden:c=!1}){let[u,m]=(0,Qt.useState)(!1);return c?null:Qt.default.createElement(W,{label:l||p("swaptrade_orders_label_execution_price"),hasToolTips:s,toolTipsText:n?p("swaptrade_limit_dialog_desc_executed_price_solana"):p("swaptrade_orders_tooltips_executed_price"),value:Qt.default.createElement("div",{className:"flex align-items-center content-primary"},Qt.default.createElement("div",null,u?Qt.default.createElement(Jt,{text:t,equation:o}):Qt.default.createElement(Jt,{text:r,equation:e})),i&&Qt.default.createElement(fe,{onClick:()=>{m(!u)},className:"okx-defi-dex-rate",size:16,style:{cursor:"pointer",marginLeft:8}}))})}a();d();var jm=C(U());function Po({value:r,label:t,hidden:e}){return e?null:jm.default.createElement(W,{label:t||p("swaptrade_tee_tab_label_order_type"),value:r||"--"})}a();d();var xi=C(U()),Km=C(de());function pn({logo:r,name:t,label:e,hidden:o}){return o?null:xi.default.createElement(W,{label:e||p("swaptrade_mid_dialog_title_provider"),value:xi.default.createElement("div",{className:"flex flex-column"},xi.default.createElement(tl,{size:20,logo:r,name:t,className:(0,Km.default)("ml-4 content-primary","font-14")}))})}a();d();var fn=C(U());function Ys({chainName:r,chainLogo:t,value:e,label:o,hidden:n}){return n?null:fn.default.createElement(W,{label:o||p("swaptrade_history_label_mev_protect"),value:e?fn.default.createElement("div",{className:"flex items-center"},fn.default.createElement(lo,{alt:r,size:20,src:t}),fn.default.createElement("span",{className:"ml-4"},e)):"--"})}a();d();var zr=C(U()),$m=C(Vn()),Xs=C(de());function _n({originHash:r,formatHash:t,exploreUrl:e,label:o,hidden:n}){return n?null:zr.default.createElement(W,{label:o||p("commonall_colheader_text_txn_hash"),value:zr.default.createElement("div",{className:"flex align-items-center"},zr.default.createElement(dt,{href:e,className:(0,Xs.default)("font-14",z.link),handleStyle:!1},t),zr.default.createElement($m.CopyToClipboard,{text:r,onCopy:()=>{Et.success(p("swaptrade_order_info_label_from_copy_success"))}},zr.default.createElement("div",{className:(0,Xs.default)("flex align-items-center",z.iconBtn)},zr.default.createElement(fe,{className:"okx-defi-dex-copy1",size:16}))))})}a();d();var zt=C(U());var qe={triggerRate:"triggerRate",triggerPrice:"triggerPrice",triggerPriceMarketCapacity:"triggerPriceMarketCapacity",copyTrade:"copyTrade"},vf=(r,t)=>Number(t)===203?qe.copyTrade:t===et.TEE_SA_SL_ORDER||t===et.TEE_SA_TP_ORDER?qe.triggerPrice:r?.triggerPrice&&r?.triggerMarketCapacity?qe.triggerPriceMarketCapacity:r?.triggerRate?qe.triggerRate:r?.triggerPrice?qe.triggerPrice:"",wf={[qe.triggerRate]:"swaptrade_tee_label_trigger_rate",[qe.triggerPriceMarketCapacity]:"swaptrade_tee_label_trigger_price_market_cap",[qe.triggerPrice]:"swaptrade_tee_label_trigger_price",[qe.copyTrade]:"swaptrade_copytrade_title_trigger_condition"};function Zs({triggerInfo:r={},currencyConversion:t,computedNowCurrencySymbol:e,fromSymbol:o,toSymbol:n,orderType:i,exchangeDirection:s}){let[l,c]=(0,zt.useState)(!1),u=vf(r,i);if(!u)return null;let m=()=>u===qe.copyTrade&&Number(s)===0?p("swaptrade_copytrade_history_trigger_copy_buy"):u===qe.copyTrade&&Number(s)===1?p("swaptrade_copytrade_history_trigger_copy_sell"):u===qe.triggerRate?r.triggerRate?zt.default.createElement(zt.default.Fragment,null,zt.default.createElement("div",null,l?`1 ${n} = ${Y($.safeDiv(1,r.triggerRate))} ${o}`:`1 ${o} = ${Y(r.triggerRate)} ${n}`),zt.default.createElement(Ue,{a11yText:"",onClick:()=>{c(!l)},className:"okx-defi-dex-rate",size:16,style:{cursor:"pointer",marginLeft:8}})):"--":u===qe.triggerPriceMarketCapacity?`${r?.triggerPrice?Dt(t(r.triggerPrice).toString(),e):"--"} / ${r?.triggerMarketCapacity?Dt(t(r.triggerMarketCapacity).toString(),e,{needBillionMillionUnit:!0}):"--"}`:u===qe.triggerPrice?r?.triggerPrice?Dt(t(r?.triggerPrice).toString(),e):"--":"";return zt.default.createElement(W,{label:p(wf[u]),value:zt.default.createElement("div",{className:"flex align-items-center content-primary"},m())})}a();d();var Qm=C(U());function Js({txTime:r,isSuccess:t}){return!r||!t?null:Qm.default.createElement(W,{label:p("swaptrade_orders_label_order_time1"),value:r})}a();d();var zm=C(U());function gn(){return zm.default.createElement("div",{className:ii.title},p("swaptrade_tee_reminder_order_details"))}function Ef({orderInfo:r}){let{networksLogo:t,networksName:e,fee:o,createTime:n,expireTime:i,originAddress:s,formatAddress:l,execPrice:c,reverseExecPrice:u,execPriceEquation:m,reverseExecPriceEquation:g,exploreUrl:T,isSolanaLimitOrder:_,latestTransactionHash:S,formattedLastedHash:y,routeSelection:x,orderTypeKey:b,strategyType:A,strategyTypeKey:N,triggerInfo:w,slippageInfo:k,transactionType:P,fromToken:D,toToken:R,swapDuration:B,limitServiceFeeInfo:H={},approveMethod:O,providerInfo:j,status:v,isSuccess:Q,orderType:X,isExecutionPriceByRate:_e,execRateEquation:ge,reverseExecRateEquation:te,execRate:ne,reverseExecRate:ie,txTime:Ae,exchangeDirection:Ft,isOrderFinished:Be}=r,{commonStore:{currencyConversion:De,computedNowCurrencySymbol:Bt}}=Pe(),_t=[Re.CANCELLED,Re.EXPIRED,Re.COMPLETED].includes(v);return oe.default.createElement(oe.default.Fragment,null,oe.default.createElement(gn,null),oe.default.createElement(Po,{value:p(b)}),oe.default.createElement(Po,{value:N?p(N):"",label:p("swaptrade_order_title_limit_type"),hidden:!N||A===1}),oe.default.createElement(sr,{value:n,label:p("swaptrade_orders_label_order_time")}),Number(X)!==203&&oe.default.createElement(sr,{label:p("swaptrade_tee_tab_label_expires_after"),value:i}),oe.default.createElement(Zs,{triggerInfo:w,currencyConversion:De,computedNowCurrencySymbol:Bt,fromSymbol:D.tokenSymbol,toSymbol:R.tokenSymbol,orderType:X,exchangeDirection:Ft}),oe.default.createElement(Rr,{networks:[{chainName:e,chainLogo:t}]}),oe.default.createElement(Fr,{value:k?.slippageValue,isSuccess:Q,slippageInfo:k}),oe.default.createElement(W,{label:p(_t?"swaptrade_orders_label_fee":"swaptrade_order_info_label_network_fee"),hasToolTips:!_t,toolTipsText:_t?"":p("swaptrade_tee_tooltip_desc_est_network_fee"),value:oe.default.createElement("div",{className:"flex align-items-center content-primary"},o)}),oe.default.createElement(Mr,{value:H?.formattedServiceFee,isEstimated:!_t}),oe.default.createElement(Ys,{chainName:e,chainLogo:t,value:x,hidden:!x}),Be&&oe.default.createElement(Ii,{orderInfo:r}),oe.default.createElement("div",{className:z.divider}),oe.default.createElement(Gr,null),oe.default.createElement(Ur,{value:P}),oe.default.createElement(Br,{value:B,hidden:v===Re.SUSPENDED}),oe.default.createElement(Js,{txTime:Ae,isSuccess:Q}),oe.default.createElement(ki,{execPrice:ne,reverseExecPrice:ie,execPriceEquation:ge,reverseExecPriceEquation:te,isSolanaLimitOrder:_,showReverseIcon:ne!==le,hasToolTips:!1,label:p("swaptrade_orders_label_execution_rate")}),!_e&&oe.default.createElement(ki,{execPrice:c,reverseExecPrice:u,execPriceEquation:m,reverseExecPriceEquation:g,isSolanaLimitOrder:_,showReverseIcon:c!==le}),oe.default.createElement(Pr,{value:O}),oe.default.createElement(pn,{logo:j?.providerLogo,name:j?.provider}),oe.default.createElement(Wr,{omittedFrom:l,from:s}),oe.default.createElement(_n,{hidden:!(T&&S),originHash:S,formatHash:y,exploreUrl:T}))}var Ym=Ef;a();d();var ke=C(U());function Af({orderInfo:r}){let t=Vt(),{type:e,time:o,networks:n,networkFee:i,otherFees:s,from:l,omittedFrom:c,fromSymbol:u,toSymbol:m,fromToPrice:g,toFromPrice:T,bridgeFee:_,bridgeName:S,bridgeFeeUsd:y,hiddenOtherFee:x,exploreUrl:b,estimateBridgeFeeAmount:A,estimateBridgeFeeAmountUsd:N,orderFinishedTime:w,isIntentOrder:k,totalSlippage:P,status:D,defiPlatformInfo:R,dexGasStationFeeDetailTips:B,crossChainServiceFeeInfo:H,transactionHash:O,omittedHash:j,approveMethod:v,transactionTypeKey:Q,orderTypeKey:X,fromSwapMevInfo:_e,toSwapMevInfo:ge,mevInfo:te,slippageValue:ne,isOrderFinished:ie,isOKXProvider:Ae}=r,{isBridgeDetailFreeNetwork:Ft,bridgeNetworkFee:Be}=ri(),De=r?.singleChainServiceFeeInfo||{};return ke.default.createElement(ke.default.Fragment,null,ke.default.createElement(gn,null),ke.default.createElement(Po,{value:p(X)}),ke.default.createElement(sr,{value:o}),ke.default.createElement(Rr,{networks:n}),ke.default.createElement(Fr,{value:ne||P}),ke.default.createElement(Jo,{type:e,isBridgeDetailFreeNetwork:Ft,bridgeNetworkFee:Be,hiddenOtherFee:x,networks:n,networkFee:i,bridgeFee:_,bridgeFeeUsd:y,estimateBridgeFeeAmount:A,estimateBridgeFeeAmountUsd:N,crossChainServiceFeeInfo:H,isWidget:t,otherFees:s,bridgeName:S,isEstimated:D!==I.Succeed,dexGasStationFeeDetailTips:B,isIntentOrder:k}),ke.default.createElement(Mr,{value:De.formattedServiceFee,isEstimated:D!==I.Succeed,hidden:!De.shouldDisplayServiceFee}),ke.default.createElement(Zo,{type:e,fromSwapMevInfo:_e,toSwapMevInfo:ge,networks:n,mevInfo:te,label:p("swaptrade_trade_label_route_selection")}),ie&&Ae&&ke.default.createElement(Ii,{orderInfo:r}),ke.default.createElement("div",{className:z.divider}),ke.default.createElement(Gr,null),ke.default.createElement(Ur,{value:p(Q)}),ke.default.createElement(Br,{value:w}),ke.default.createElement(en,{type:e,fromSymbol:u,toSymbol:m,fromToPrice:g,toFromPrice:T}),ke.default.createElement(Pr,{value:v}),ke.default.createElement(pn,{logo:R?.logo,name:R?.name,hidden:!R}),ke.default.createElement(Wr,{omittedFrom:c,from:l}),ke.default.createElement(_n,{originHash:O,formatHash:j,exploreUrl:b,hidden:!b}))}var Xm=he(Af);var Df=(r={})=>![V.SingleChain,V.GasStation,V.LimitOrder,V.MemeMode].includes(r.swapTradeType);function Of({orderInfo:r,isLimit:t,isBridge:e}){return t?Ym:e??Df(r)?cm:Xm}function Lf({orderInfo:r,className:t,gasToken:e,isWalletEnv:o,isLimit:n,isBridge:i}){let s=Of({orderInfo:r,isLimit:n,isBridge:i});return yi.default.createElement("div",{className:(0,Zm.default)(t,{[z.wallet]:o})},yi.default.createElement("div",{className:z.content},yi.default.createElement(s,{orderInfo:r,gasToken:e})))}var Jm=Lf;a();d();var Z=C(U()),je=C(de());a();d();var ea=C(U()),ec=C(de());a();d();var E={wrapper:"_wrapper_nj2i6_1",item:"_item_nj2i6_15",label:"_label_nj2i6_15",last:"_last_nj2i6_19",waiting:"_waiting_nj2i6_23",token:"_token_nj2i6_26",amount:"_amount_nj2i6_34","last-succeed":"_last-succeed_nj2i6_39",lastSucceed:"_last-succeed_nj2i6_39","token-amount-content":"_token-amount-content_nj2i6_42",tokenAmountContent:"_token-amount-content_nj2i6_42",activity:"_activity_nj2i6_45","waiting-symbol":"_waiting-symbol_nj2i6_48",waitingSymbol:"_waiting-symbol_nj2i6_48","amount-info":"_amount-info_nj2i6_51",amountInfo:"_amount-info_nj2i6_51","amount-text":"_amount-text_nj2i6_54",amountText:"_amount-text_nj2i6_54","status-box":"_status-box_nj2i6_59",statusBox:"_status-box_nj2i6_59","status-overflow":"_status-overflow_nj2i6_62",statusOverflow:"_status-overflow_nj2i6_62","next-arrow":"_next-arrow_nj2i6_68",nextArrow:"_next-arrow_nj2i6_68",tip:"_tip_nj2i6_74","arrow-icon":"_arrow-icon_nj2i6_84",arrowIcon:"_arrow-icon_nj2i6_84","flex-grow-0":"_flex-grow-0_nj2i6_93",flexGrow0:"_flex-grow-0_nj2i6_93","extra-gain":"_extra-gain_nj2i6_100",extraGain:"_extra-gain_nj2i6_100","process-tip-wrapper":"_process-tip-wrapper_nj2i6_118",processTipWrapper:"_process-tip-wrapper_nj2i6_118","border-tip-wrapper":"_border-tip-wrapper_nj2i6_128",borderTipWrapper:"_border-tip-wrapper_nj2i6_128","shadow-token-box":"_shadow-token-box_nj2i6_134",shadowTokenBox:"_shadow-token-box_nj2i6_134","go-to-swap":"_go-to-swap_nj2i6_137",goToSwap:"_go-to-swap_nj2i6_137","tip-fold":"_tip-fold_nj2i6_140",tipFold:"_tip-fold_nj2i6_140",loader:"_loader_nj2i6_143","waiting-logo":"_waiting-logo_nj2i6_150",waitingLogo:"_waiting-logo_nj2i6_150","sub-status-box":"_sub-status-box_nj2i6_153",subStatusBox:"_sub-status-box_nj2i6_153","sub-status-icon":"_sub-status-icon_nj2i6_157",subStatusIcon:"_sub-status-icon_nj2i6_157","icon-rotate":"_icon-rotate_nj2i6_161",iconRotate:"_icon-rotate_nj2i6_161",rotate:"_rotate_nj2i6_1","sub-status-icon-gas-token":"_sub-status-icon-gas-token_nj2i6_169",subStatusIconGasToken:"_sub-status-icon-gas-token_nj2i6_169",s0:"_s0_nj2i6_178","token-border":"_token-border_nj2i6_186",tokenBorder:"_token-border_nj2i6_186","share-link":"_share-link_nj2i6_189",shareLink:"_share-link_nj2i6_189","chain-name":"_chain-name_nj2i6_194",chainName:"_chain-name_nj2i6_194","gas-token-wrapper":"_gas-token-wrapper_nj2i6_212",gasTokenWrapper:"_gas-token-wrapper_nj2i6_212","gas-token":"_gas-token_nj2i6_212",gasToken:"_gas-token_nj2i6_212","waiting-chain-name":"_waiting-chain-name_nj2i6_219",waitingChainName:"_waiting-chain-name_nj2i6_219",loading:"_loading_nj2i6_222","loading-text":"_loading-text_nj2i6_231",loadingText:"_loading-text_nj2i6_231",failed:"_failed_nj2i6_234","waiting-icon":"_waiting-icon_nj2i6_237",waitingIcon:"_waiting-icon_nj2i6_237","gas-token-amount":"_gas-token-amount_nj2i6_240",gasTokenAmount:"_gas-token-amount_nj2i6_240","waiting-gas-token":"_waiting-gas-token_nj2i6_244",waitingGasToken:"_waiting-gas-token_nj2i6_244","gas-token-logo":"_gas-token-logo_nj2i6_244",gasTokenLogo:"_gas-token-logo_nj2i6_244","gas-token-info":"_gas-token-info_nj2i6_247",gasTokenInfo:"_gas-token-info_nj2i6_247","gas-token-chain-name":"_gas-token-chain-name_nj2i6_250",gasTokenChainName:"_gas-token-chain-name_nj2i6_250","pending-gas-token":"_pending-gas-token_nj2i6_253",pendingGasToken:"_pending-gas-token_nj2i6_253","succeed-gas-token":"_succeed-gas-token_nj2i6_256",succeedGasToken:"_succeed-gas-token_nj2i6_256","gas-token-symbol":"_gas-token-symbol_nj2i6_260",gasTokenSymbol:"_gas-token-symbol_nj2i6_260","text-overflow":"_text-overflow_nj2i6_263",textOverflow:"_text-overflow_nj2i6_263","amount-overflow":"_amount-overflow_nj2i6_268",amountOverflow:"_amount-overflow_nj2i6_268","pending-right-state":"_pending-right-state_nj2i6_275",pendingRightState:"_pending-right-state_nj2i6_275","pending-left-content":"_pending-left-content_nj2i6_278",pendingLeftContent:"_pending-left-content_nj2i6_278",link:"_link_nj2i6_282","pending-bottom-32":"_pending-bottom-32_nj2i6_286",pendingBottom32:"_pending-bottom-32_nj2i6_286","count-down-pill":"_count-down-pill_nj2i6_289",countDownPill:"_count-down-pill_nj2i6_289","position-relative":"_position-relative_nj2i6_292",positionRelative:"_position-relative_nj2i6_292","speeding-up-content":"_speeding-up-content_nj2i6_295",speedingUpContent:"_speeding-up-content_nj2i6_295","speed-up":"_speed-up_nj2i6_299",speedUp:"_speed-up_nj2i6_299","filter-order-pill":"_filter-order-pill_nj2i6_302",filterOrderPill:"_filter-order-pill_nj2i6_302","item-wrapper":"_item-wrapper_nj2i6_306",itemWrapper:"_item-wrapper_nj2i6_306","item-wrapper-left":"_item-wrapper-left_nj2i6_309",itemWrapperLeft:"_item-wrapper-left_nj2i6_309","item-wrapper-right":"_item-wrapper-right_nj2i6_318",itemWrapperRight:"_item-wrapper-right_nj2i6_318","box-pd":"_box-pd_nj2i6_321",boxPd:"_box-pd_nj2i6_321","progress-bar":"_progress-bar_nj2i6_324",progressBar:"_progress-bar_nj2i6_324","progress-delay":"_progress-delay_nj2i6_329",progressDelay:"_progress-delay_nj2i6_329","progress-val":"_progress-val_nj2i6_332",progressVal:"_progress-val_nj2i6_332","symbol-color":"_symbol-color_nj2i6_339",symbolColor:"_symbol-color_nj2i6_339","fold-arrow":"_fold-arrow_nj2i6_342",foldArrow:"_fold-arrow_nj2i6_342","pending-left6":"_pending-left6_nj2i6_347",pendingLeft6:"_pending-left6_nj2i6_347","icon-font-centers":"_icon-font-centers_nj2i6_350",iconFontCenters:"_icon-font-centers_nj2i6_350","token-amount-big":"_token-amount-big_nj2i6_353",tokenAmountBig:"_token-amount-big_nj2i6_353","token-amount-small":"_token-amount-small_nj2i6_360",tokenAmountSmall:"_token-amount-small_nj2i6_360","token-amount-wrapper":"_token-amount-wrapper_nj2i6_367",tokenAmountWrapper:"_token-amount-wrapper_nj2i6_367"};var Pf=({isFromStart:r,exploreUrl:t,hiddenExploreUrl:e,iconClassName:o})=>{let n={className:(0,ec.default)("content-contrast",E.shareLink),handleStyle:!1};return!r&&t&&!e?ea.default.createElement(dt,{href:t,...n},ea.default.createElement(fe,{className:o||"okx-defi-web3-open-link",size:16})):null},Ci=he(Pf);a();d();var xe={wrapper:"_wrapper_1817z_1","token-group":"_token-group_1817z_15",tokenGroup:"_token-group_1817z_15","detail-text":"_detail-text_1817z_25",detailText:"_detail-text_1817z_25",fail:"_fail_1817z_31",blue:"_blue_1817z_39",item:"_item_1817z_44",green:"_green_1817z_47",img:"_img_1817z_53","dialog-info":"_dialog-info_1817z_57",dialogInfo:"_dialog-info_1817z_57","status-box":"_status-box_1817z_61",statusBox:"_status-box_1817z_61","fold-arrow":"_fold-arrow_1817z_65",foldArrow:"_fold-arrow_1817z_65","execution-history-box":"_execution-history-box_1817z_70",executionHistoryBox:"_execution-history-box_1817z_70","execution-history-title":"_execution-history-title_1817z_77",executionHistoryTitle:"_execution-history-title_1817z_77","execution-history-desc":"_execution-history-desc_1817z_83",executionHistoryDesc:"_execution-history-desc_1817z_83","execution-history-content":"_execution-history-content_1817z_90",executionHistoryContent:"_execution-history-content_1817z_90","execution-history-item":"_execution-history-item_1817z_95",executionHistoryItem:"_execution-history-item_1817z_95","execution-history-time":"_execution-history-time_1817z_103",executionHistoryTime:"_execution-history-time_1817z_103","execution-history-msg":"_execution-history-msg_1817z_106",executionHistoryMsg:"_execution-history-msg_1817z_106","execution-history-info":"_execution-history-info_1817z_112",executionHistoryInfo:"_execution-history-info_1817z_112","execution-history-icon":"_execution-history-icon_1817z_115",executionHistoryIcon:"_execution-history-icon_1817z_115"};var Rf={0:"swaptrade_max_fee_reminder_trade_successful",3016:"swaptrade_max_fee_reminder_no_quote_low_liquidity",3005:"swaptrade_tee_reminder_quoted_price_below_min",3018:"swaptrade_tee_reminder_mev_provider_error",3017:"swaptrade_tee_reminder_unable_fetch_quote",3020:"swaptrade_tee_reminder_blocklisted_address_no_trade",3019:"swaptrade_tee_reminder_risky_token_no_trade",3023:"swaptrade_tee_reminder_limit_order_expired",3007:"swaptrade_tee_reminder_signature_failed",3006:"swaptrade_tee_reminder_preexecution_error",3014:"swaptrade_tee_reminder_insuffcient_funds_fee",3013:"swaptrade_tee_reminder_insufficient_funds_wallet",3015:"swaptrade_max_fee_reminder_order_exceeds_slippage",3008:"swaptrade_max_fee_reminder_broadcast_failed",3010:"swaptrade_tee_reminder_on_chain_failed",2001:"swaptrade_max_fee_reminder_failed_to_auto_cancel",2002:"swaptrade_max_fee_reminder_order_auto_canceled",2003:"swaptrade_max_fee_reminder_failed_to_cancel_order",2004:"swaptrade_max_fee_reminder_order_canceled",2005:"swaptrade_max_fee_reminder_order_expired",2006:"swaptrade_max_fee_reminder_failed_to_edit_order",2007:"swaptrade_max_fee_reminder_order_edited",2008:"swaptrade_max_fee_reminder_trade_successful",2009:"swaptrade_max_fee_reminder_broadcast_failed",2010:"swaptrade_max_fee_reminder_order_exceeds_slippage",2011:"swaptrade_max_fee_reminder_failed_to_create_order",2012:"swaptrade_max_fee_reminder_order_created"},Nf=({orderInfo:r})=>{let{fromTokenGroupLabel:t,fromTokenGroupLabelEquation:e,fromTokenIcon:o,toTokenGroupLabel:n,toTokenGroupLabelEquation:i,toTokenIcon:s,isSuccess:l,isFailed:c,executionHistoryList:u=[],executionHistoryShowMaxNum:m=5}=r,[g,T]=(0,Z.useState)(!1),_=u?.length>0;return Z.default.createElement("div",{className:(0,je.default)(xe.wrapper)},Z.default.createElement("div",{className:(0,je.default)("flex flex-col")},Z.default.createElement("span",{className:(0,je.default)("font-14 mb-8")},p("swaptrade_orders_label_sell1")),Z.default.createElement("div",{className:(0,je.default)("flex items-center",xe.tokenGroup)},Z.default.createElement("img",{src:o??"",alt:"",className:(0,je.default)("mr-12",xe.img)}),Z.default.createElement(Jt,{text:t,equation:e},Z.default.createElement("span",{className:(0,je.default)("ellipsis",xe.detailText)},e?.split(" ")?.[0]," ",Z.default.createElement("span",{className:"content-contrast"},e?.split(" ")?.[1]))),_&&Z.default.createElement("div",{className:(0,je.default)("flex justify-content-end",xe.statusBox)},Z.default.createElement(fe,{className:(0,je.default)(xe.foldArrow,{"okx-defi-dex-arrow-down":g,"okx-defi-dex-arrow-up":!g}),onClick:()=>{T(S=>!S)},size:24})))),_&&!g&&Z.default.createElement("div",{className:xe.executionHistoryBox},Z.default.createElement("div",{className:xe.executionHistoryTitle},p("swaptrade_max_fee_header_order_execution_history")),Z.default.createElement("div",{className:xe.executionHistoryContent},Z.default.createElement("div",{className:xe.executionHistoryDesc},p("swaptrade_max_fee_reminder_only_displaying_last_5",{num:At.formatNumber(m)})),u.map((S,y)=>{let x=S.executionTime+S.code+y;return Z.default.createElement("div",{key:x,className:xe.executionHistoryItem},Z.default.createElement("div",{className:xe.executionHistoryInfo},Z.default.createElement("span",{className:xe.executionHistoryTime},At.formatDateTime(new Date(Number(S.executionTime)),{format:"yyyyMMddHHmm"})),Z.default.createElement("span",{className:xe.executionHistoryMsg},p(Rf[S.code])||"")),Z.default.createElement("div",{className:xe.executionHistoryIcon},Z.default.createElement(Ci,{exploreUrl:S.exploreUrl,hiddenExploreUrl:!S.exploreUrl})))}))),Z.default.createElement("div",{className:(0,je.default)("flex flex-col",xe.item)},Z.default.createElement("span",{className:(0,je.default)("font-14 mb-12")},p(l?"swaptrade_orders_label_receive":"swaptrade_tee_tab_label_est_received")),Z.default.createElement("div",{className:(0,je.default)("flex items-center",xe.tokenGroup)},Z.default.createElement("img",{src:s??"",alt:"",className:(0,je.default)("mr-12",xe.img)}),Z.default.createElement(Jt,{text:n,equation:i},Z.default.createElement("span",{className:(0,je.default)("ellipsis",{[xe.green]:l,[xe.detailText]:!l})},c?le:Z.default.createElement(Z.default.Fragment,null,i?.split(" ")?.[0]," ",Z.default.createElement("span",{className:"content-contrast"},i?.split(" ")?.[1])))))))},tc=Nf;a();d();var Yt=C(U()),na=C(de());a();d();a();d();var yt=C(U()),oc=C(Vn()),nc=C(de());a();d();var Mf=r=>String(r)==="3",Ff=r=>String(r)==="8",ta=r=>String(r)==="22",Bf=r=>Mf(r)||Ff(r)||ta(r),bi=({blockProcess:r,bridgeId:t})=>r===Ce.BLOCK_BRIDGE&&Bf(t);a();d();var Ee=C(U()),Mt=C(de());a();d();var Oe={box:"_box_oxkj0_1","mt-12":"_mt-12_oxkj0_9",mt12:"_mt-12_oxkj0_9",content:"_content_oxkj0_12","show-less-content":"_show-less-content_oxkj0_17",showLessContent:"_show-less-content_oxkj0_17","show-more-content":"_show-more-content_oxkj0_20",showMoreContent:"_show-more-content_oxkj0_20",overview:"_overview_oxkj0_23","overview-ellipsis":"_overview-ellipsis_oxkj0_27",overviewEllipsis:"_overview-ellipsis_oxkj0_27",list:"_list_oxkj0_35","list-item":"_list-item_oxkj0_39",listItem:"_list-item_oxkj0_39","switch-btn":"_switch-btn_oxkj0_43",switchBtn:"_switch-btn_oxkj0_43","switch-btn-icon":"_switch-btn-icon_oxkj0_47",switchBtnIcon:"_switch-btn-icon_oxkj0_47","switch-btn-icon-hide":"_switch-btn-icon-hide_oxkj0_55",switchBtnIconHide:"_switch-btn-icon-hide_oxkj0_55","action-content":"_action-content_oxkj0_58",actionContent:"_action-content_oxkj0_58","action-content-icon":"_action-content-icon_oxkj0_63",actionContentIcon:"_action-content-icon_oxkj0_63","guid-url-content":"_guid-url-content_oxkj0_68",guidUrlContent:"_guid-url-content_oxkj0_68","guid-url":"_guid-url_oxkj0_68",guidUrl:"_guid-url_oxkj0_68","no-box-wrapper":"_no-box-wrapper_oxkj0_75",noBoxWrapper:"_no-box-wrapper_oxkj0_75"};a();d();var Uf=r=>{switch(r){case Tt.SINGLE:return"customer_support_singlechainswap";case Tt.CROSS_FROM_SWAP:return"customer_support_fromswap";case Tt.CROSS_BRIDGE_SWAP:return"customer_support_bridge";case Tt.CROSS_TO_SWAP:return"customer_support_toswap";default:return""}},rc=Uf;var Vf=({overview:r,detailList:t=[],hasCustomerService:e=!1,orderId:o="",subOrderType:n="",className:i="",guideUrl:s=""})=>{let[l,c]=(0,Ee.useState)(!1),[u,m]=(0,Ee.useState)(!0),g=(0,Ee.useRef)(null),{recentTransactionStore:T,accountStore:_}=Pe(),S=()=>{m(!u)},y=()=>{if(Ln({wallet_address:_.computedAccountWalletAddresses,order_id:o,button_name:rc(n)}),it()){let b=p("swaptrade_function_textbtn_contact_customer_support_link");Aa(b,"_blank")}else T.closeModal(),window.okGlobal?.showCS?.()};return(0,Ee.useEffect)(()=>{if(t&&t.length>0){c(!0);return}if(g?.current){let x=g.current.getBoundingClientRect().height;c(x>48)}},[r,t,g]),Ee.default.createElement("div",{className:(0,Mt.default)("flex flex-column",Oe.box,Oe[i])},Ee.default.createElement("div",{className:(0,Mt.default)("font-12",Oe.content,u?Oe.showLessContent:Oe.showMoreContent)},Ee.default.createElement("p",{className:(0,Mt.default)(Oe.overview,{[Oe.overviewEllipsis]:u&&l}),ref:g},r),t.length>0&&!u?Ee.default.createElement("ul",{className:Oe.list},t.map((x,b)=>Ee.default.createElement("li",{key:b,className:Oe.listItem},x))):null),l?Ee.default.createElement(Fo,{className:(0,Mt.default)("flex align-items-center font-bold",Oe.switchBtn),onClick:S},u?p("swaptrade_function_dropdown_show_more"):p("swaptrade_function_dropdown_show_less"),Ee.default.createElement(Ue,{className:(0,Mt.default)("okx-defi-dex-arrow-down-chevrons",Oe.switchBtnIcon,{[Oe.switchBtnIconHide]:u}),style:{fontSize:12}})):null,e?Ee.default.createElement(Fo,{className:(0,Mt.default)("flex align-items-center font-700",Oe.actionContent),onClick:y},p("swaptrade_function_textbtn_contact_customer_support"),Ee.default.createElement(Ue,{className:(0,Mt.default)("okx-defi-dex-arrow-to",Oe.actionContentIcon),style:{fontSize:12}})):null,!!s&&Ee.default.createElement(dt,{handleStyle:!1,href:s,className:(0,Mt.default)("flex align-items-center font-700",Oe.guidUrlContent,Oe.guidUrl)},p("swaptrade_general_btn_check_guide"),Ee.default.createElement(Ue,{className:(0,Mt.default)("okx-defi-dex-arrow-to",Oe.actionContentIcon),style:{fontSize:12}})))},Yr=he(Vf);a();d();var fr={link:"_link_105qk_1","a-tag":"_a-tag_105qk_1",aTag:"_a-tag_105qk_1","tip-copy":"_tip-copy_105qk_8",tipCopy:"_tip-copy_105qk_8"};var ra=({bridgeName:r="",bridgeId:t})=>{let e=p("swaptrade_bridge_reminder_desc_swft_reason",{bridge:r}),o=[];if(ta(t)){let n=p("swaptrade_bridge_reminder_desc_meson_org_address"),i=p("swaptrade_bridge_reminder_desc_meson_org_discord");o=[yt.default.createElement("span",{className:fr.link},yt.default.createElement(Cn,{href:n,alt:r,className:fr.aTag},n)),yt.default.createElement("span",{className:fr.link},yt.default.createElement(Cn,{href:i,alt:r,className:fr.aTag},i))]}else{let n=p("swaptrade_bridge_reminder_desc_swft_org_address"),i=p("swaptrade_bridge_reminder_desc_swft_org_email");o=[yt.default.createElement("span",{className:fr.link},yt.default.createElement(Cn,{href:n,alt:n,className:fr.aTag},n)),yt.default.createElement("div",null,i,yt.default.createElement(oc.CopyToClipboard,{text:i,onCopy:()=>{Et.success(p("swaptrade_order_info_label_from_copy_success"))}},yt.default.createElement(Ue,{className:(0,nc.default)("okx-defi-dex-copy2",fr.tipCopy)})))]}return yt.default.createElement(Yr,{overview:e,detailList:o,className:"noBoxWrapper"})};a();d();var ft=C(U()),ic=C(de());a();d();var oa={alert:"_alert_1eudu_1",close:"_close_1eudu_8","customer-text":"_customer-text_1eudu_15",customerText:"_customer-text_1eudu_15"};var Wf=({visible:r,computedPendingTimingStatus:t,isWalletEnv:e,order:o})=>{let{orderId:n,specialOrderType:i,fromChainName:s,willNeedManualClaim:l,toSymbol:c}=o,{recentTransactionStore:u,accountStore:m}=Pe(),g=(0,ft.useCallback)(()=>{Ln({wallet_address:m.computedAccountWalletAddresses,order_id:n,button_name:"customer_support_top"})},[m.computedAccountWalletAddresses,n]),T=(0,ft.useCallback)(()=>{g(),window.okGlobal?.showCS()},[g]),_=(0,ft.useMemo)(()=>e?{target:"_blank",href:p("swaptrade_history_link_help_center"),onClick:g}:{onClick:T},[e,g,T]),S=(0,ft.useMemo)(()=>i===hl.FromIsBtcChain?p("swaptrade_history_text_mechanism_unique",{chain:s}):t===wr.TIMEOUT?ft.default.createElement(ft.default.Fragment,null,p(e?"swaptrade_history_reminder_customer_service":"swaptrade_mid_reminder_avoid_waiting"),"\xA0",ft.default.createElement(Ri,{type:Ri.TYPE.secondary,underline:!0,linkClassName:oa.customerText,..._},p(e?"swaptrade_history_textbtn_helper":"swaptrade_mid_textbtn_customer_service"))):l===bn?p("swaptrade_bridge_reminder_you_may_close_this",{token:c}):u.computedIsGasStation?p("swaptrade_history_toast_after_swap"):p("swaptrade_history_toast_confirming_check"),[t,u.computedIsGasStation,e,_,i,s,l,c]);return r?ft.default.createElement("div",{className:(0,ic.default)(oa.alert)},ft.default.createElement("p",null,S)):null},sc=he(Wf);a();d();var Ro={status:"_status_omr0p_1",loader:"_loader_omr0p_1","loader-wrap":"_loader-wrap_omr0p_5",loaderWrap:"_loader-wrap_omr0p_5","cancel-btn":"_cancel-btn_omr0p_8",cancelBtn:"_cancel-btn_omr0p_8","fail-btn":"_fail-btn_omr0p_11",failBtn:"_fail-btn_omr0p_11","fail-icon":"_fail-icon_omr0p_14",failIcon:"_fail-icon_omr0p_14","fail-desc":"_fail-desc_omr0p_17",failDesc:"_fail-desc_omr0p_17","is-not-empty":"_is-not-empty_omr0p_20",isNotEmpty:"_is-not-empty_omr0p_20","fixed-btn":"_fixed-btn_omr0p_34",fixedBtn:"_fixed-btn_omr0p_34","inner-btn":"_inner-btn_omr0p_43",innerBtn:"_inner-btn_omr0p_43","header-status-wrap":"_header-status-wrap_omr0p_46",headerStatusWrap:"_header-status-wrap_omr0p_46",desc:"_desc_omr0p_58","expire-time":"_expire-time_omr0p_61",expireTime:"_expire-time_omr0p_61","expire-time-content":"_expire-time-content_omr0p_68",expireTimeContent:"_expire-time-content_omr0p_68","absolute-expire-time":"_absolute-expire-time_omr0p_72",absoluteExpireTime:"_absolute-expire-time_omr0p_72","back-icon":"_back-icon_omr0p_85",backIcon:"_back-icon_omr0p_85","top-wrapper":"_top-wrapper_omr0p_93",topWrapper:"_top-wrapper_omr0p_93","header-status-icon":"_header-status-icon_omr0p_100",headerStatusIcon:"_header-status-icon_omr0p_100"};function Gf({order:r,className:t="",isWalletEnv:e=!1,computedPendingTimingStatus:o,firstBlockProcess:n}){let{status:i,abnormalStatus:s}=r,l=[I.Waiting,I.SpeedingUp].includes(i)?I.Pending:i,[c,u]=(0,Yt.useState)(!!Le.get(qi)),m=bi({blockProcess:n,bridgeId:r?.bridgeId}),g=(0,Yt.useMemo)(()=>m?!1:!([I.Succeed,I.PendingWithdrawn,I.Failed,I.Canceled,I.ReadyToClaim,I.Claiming].includes(l)||c),[c,l,m]),T=()=>{Le.set(qi,"1"),u(!0)},_=(0,Yt.useMemo)(()=>{let S=null;return l===I.Pending&&s!=="-1"&&(S=Yt.default.createElement("div",{className:(0,na.default)("font-400 font-12 line-20 content-contrast",Ro.statusExplain)},s==="1"&&p("swaptrade_popup_pending_desc_for_assets_safety"),s==="2"&&p("swaptrade_popup_pending_desc_transaction_volume_toolarge"))),S},[l,s]);return Yt.default.createElement("div",{className:(0,na.default)("text-center",Ro.status,{[Ro.showAlert]:g,[Ro.wallet]:e,[Ro.isNotEmpty]:_||g},t)},_,Yt.default.createElement(sc,{isWalletEnv:e,computedPendingTimingStatus:o,visible:g,onClose:T,order:r}))}var ac=Gf;a();d();var gr=C(U()),Sc=C(de());a();d();var dc=C(U());var Hf=r=>(0,dc.useMemo)(()=>[I.Waiting,I.SpeedingUp].includes(r)?I.Pending:r,[r]),lc=Hf;a();d();var Fe=C(U()),Xt=C(de());a();d();var Xr={box:"_box_hp1z1_1","token-logo":"_token-logo_hp1z1_4",tokenLogo:"_token-logo_hp1z1_4","token-info":"_token-info_hp1z1_10",tokenInfo:"_token-info_hp1z1_10","token-amount":"_token-amount_hp1z1_13",tokenAmount:"_token-amount_hp1z1_13","share-link":"_share-link_hp1z1_23",shareLink:"_share-link_hp1z1_23","error-info":"_error-info_hp1z1_26",errorInfo:"_error-info_hp1z1_26"};var qf=({isFromChainRefund:r,exploreUrl:t,fromTokenIcon:e,formatRefundAmount:o,refundSymbol:n,refundChain:i})=>{if(!r)return null;let s=`${o} ${n}`,l=p("swaptrade_history_notif_thirdparty_bridge_refund",{amount:o,symbol:n,chain:i});return Fe.default.createElement("div",{className:(0,Xt.default)(Xr.box)},Fe.default.createElement("div",{className:(0,Xt.default)("flex align-items-center justify-between")},Fe.default.createElement("div",{className:(0,Xt.default)("flex align-items-center")},Fe.default.createElement("div",{className:(0,Xt.default)(Xr.tokenLogo)},Fe.default.createElement(mo,{src:e,size:22,className:(0,Xt.default)("shrink-0",E.tokenBorder)})),Fe.default.createElement("div",{className:(0,Xt.default)(Xr.tokenInfo)},Fe.default.createElement(wt,{title:s,textOverflow:{text:s},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300},Fe.default.createElement("div",{className:(0,Xt.default)(Xr.tokenAmount,E.amountOverflow)},Lt("+",o)," ",Fe.default.createElement("span",{className:E.symbolColor},n))),Fe.default.createElement("p",{className:E.chainName},i))),t&&Fe.default.createElement("div",null,Fe.default.createElement(dt,{href:t,className:(0,Xt.default)("content-contrast",Xr.shareLink),handleStyle:!1},Fe.default.createElement(fe,{className:"okx-defi-web3-open-link",size:16})))),Fe.default.createElement("div",{className:Xr.errorInfo},Fe.default.createElement(Yr,{overview:l,hasCustomerService:!0})))},uc=qf;a();d();var ae=C(U()),_r=C(de());var jf=({gasToken:r,networks:t,isWalletEnv:e})=>{let o=(0,ae.useRef)(null),n=(0,ae.useRef)(null),i=(0,ae.useRef)(null),s=(0,ae.useRef)(null),[l,c]=(0,ae.useState)({}),[u,m]=(0,ae.useState)({}),g=(0,ae.useMemo)(()=>({fontSize:14,lineHeight:"16px"}),[]),T="14px",_=(0,ae.useCallback)(({expectWidth:y,rightTextWidth:x,refRightTextComputedStyle:b,refLeftTextComputedStyle:A})=>{y<x&&(b.fontSize!==T?c(g):A.fontSize!==T?(c(g),m(g)):(c({width:y,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",...g}),m(g)))},[g]),S=(0,ae.useCallback)(()=>{let y=o?.current?.clientWidth,x=n?.current?.scrollWidth,b=s?.current?.scrollWidth;if(y&&x&&b){let A=y-x-73,N=window.getComputedStyle(s?.current),w=window.getComputedStyle(i?.current);_({expectWidth:A,rightTextWidth:b,refRightTextComputedStyle:N,refLeftTextComputedStyle:w})}},[_]);return(0,ae.useEffect)(()=>{S()},[l.fontSize,u.fontSize,S]),r?ae.default.createElement("div",{className:(0,_r.default)("flex align-items-center justify-content-between overflow-hidden",E.gasTokenWrapper)},ae.default.createElement("div",{ref:o,className:(0,_r.default)("flex align-items-center",E.gasToken,{[E.pendingGasToken]:r.status===Wo.Pending,[E.waitingGasToken]:r.status===Wo.Waiting,[E.succeedGasToken]:r.status===Wo.Succeed})},ae.default.createElement(mo,{src:r.logoUrl||Ma(),size:32,className:(0,_r.default)("shrink-0",E.gasTokenLogo)}),ae.default.createElement("div",{ref:n,className:(0,_r.default)("flex flex-column ml-12",{truncate:e},E.gasTokenInfo,E.pendingLeftContent)},ae.default.createElement("span",{ref:i,className:(0,_r.default)(E.gasTokenAmount,{truncate:e}),style:u},br("swaptrade_confirm_transaction_text_numbersforrefuel",{value:Y(r.amount),symbol:ae.default.createElement("span",{className:E.gasTokenSymbol},r.symbol)})),ae.default.createElement("span",{className:(0,_r.default)("font-12 content-contrast",E.label,E.gasTokenChainName)},t[1].chainName))),r.status===Wo.Succeed&&ae.default.createElement(dt,{href:r.exploreUrl,className:(0,_r.default)(E.subStatusIconGasToken,E.shareLink)},ae.default.createElement(fe,{className:"okx-defi-web3-open-link content-contrast",size:16}))):null},mc=jf;a();d();var q=C(U()),ve=C(de());a();d();var Zr=C(U());var cc=({countDownTime:r,isLast:t})=>r&&!t?Zr.default.createElement("span",{className:E.countDownPill},En(r)):Zr.default.createElement(no.Circle,{size:no.SIZE.md,className:E.loader,loaderStyle:{borderWidth:1}}),Kf=({subOrder:r,isLast:t})=>{let{countDownTime:e,status:o}=r,n={countDownTime:e,isLast:t};return o===I.Pending?Zr.default.createElement(cc,{...n}):o===I.SpeedingUp?Zr.default.createElement("div",{className:E.speedingUpContent},Zr.default.createElement("span",{className:E.speedUp},p("swaptrade_list_colored_speeding_up")),Zr.default.createElement(cc,{...n})):null},pc=Kf;a();d();var Ct=C(U());a();d();var hn=C(U());a();d();var ia=C(U());$e();a();d();var be=r=>({amount:r?.refund?.amount,symbol:r?.refund?.symbol,chain:r?.refund?.chain}),Jr=r=>({bridgeName:r?.bridgeInfo?.bridgeName}),$f=r=>({bridge:r?.bridgeInfo?.bridgeName,token1:r?.dexBridgeShadowTokenPair?.realTokenSymbol,token2:r?.dexBridgeShadowTokenPair?.shadowTokenSymbol}),Qf=()=>{let r=Vt(),t=r?"swaptrade_history_notif_returned_failed_reasons":"swaptrade_servicefee_fee_notif_deduct_network_fee";return{1:{overviewKey:"swaptrade_history_notif_broadcast_failed"},2:{overviewKey:"swaptrade_history_notif_low_network_fee"},3:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},4:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},5:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},6:{overviewKey:"swaptrade_history_notif_accelerated_or_canceled"},7:{overviewKey:"swaptrade_history_notif_increase_gas"},8:{overviewKey:"swaptrade_history_errortip_official_bridge_asset_delay",renderOverview:e=>({chain:e?.chainName,value:e?.officialBridgeTime})},9:{overviewKey:"swaptrade_sub_order_tip_refund",hasCustomerService:!0},10:{overviewKey:"swaptrade_sub_order_tip_less_than_minimum"},11:{overviewKey:"swaptrade_trade_toast_multichain",renderOverview:e=>({wrapped:e.originalTokenSymbol,native:e.symbol})},12:{overviewKey:"swaptrade_bridge_toast_order_status_lag_behind_assets"},13:{overviewKey:"swaptrade_history_modal_top_error_jito_fail"},2003:{overviewKey:"swaptrade_history_notif_3rd_bridge_changes"},2501:{overviewKey:"swaptrade_history_notif_failed_returned_exchange",renderOverview:be},2502:{overviewKey:"swaptrade_history_notif_failed_exchange"},2503:{overviewKey:"swaptrade_history_notif_returned_blacklist",renderOverview:be},2504:{overviewKey:"swaptrade_history_notif_blacklist"},2506:{overviewKey:"swaptrade_history_notif_failed_increasing"},2507:{overviewKey:"swaptrade_history_notif_failed_returned_increasing",renderOverview:be},2508:{overviewKey:"swaptrade_history_notif_failed_increasing"},2513:{overviewKey:"swaptrade_history_notif_returned_insufficient_liquidity",renderOverview:be},2514:{overviewKey:"swaptrade_history_notif_3rdbridge_insufficient_liquidity"},2515:{overviewKey:"swaptrade_history_notif_returned_delisted_token",renderOverview:be},2516:{overviewKey:"swaptrade_history_notif_delisted_token",renderOverview:be},2517:{overviewKey:"swaptrade_history_notif_returned_limit",renderOverview:be},2518:{overviewKey:"swaptrade_history_notif_limit"},2519:{overviewKey:"swaptrade_history_notif_bridge_slippage_later",renderOverview:be},2520:{overviewKey:"swaptrade_history_notif_bridge_slippage_noref"},2598:{overviewKey:"swaptrade_history_notif_thirdparty_bridge_refund",renderOverview:be,hasCustomerService:!0},2599:{overviewKey:"swaptrade_history_notif_thirdparty_bridge",hasCustomerService:!0},3502:{overviewKey:t,renderOverview:be,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3504:{overviewKey:r?"swaptrade_history_notif_returned_contract":"swaptrade_servicefee_notif_returned_contract",renderOverview:be},3505:{overviewKey:r?"swaptrade_history_notif_returned_broadcast_failed":"swaptrade_servicefee_notif_returned_broadcast_failed",renderOverview:be},3506:{overviewKey:r?"swaptrade_history_notif_returned_low_fee":"swaptrade_servicefee_notif_returned_low_fee",renderOverview:be},3507:{overviewKey:t,renderOverview:be,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3508:{overviewKey:t,renderOverview:be,detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},3509:{overviewKey:t,renderOverview:be,detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},3510:{overviewKey:"swaptrade_history_notif_returned_accelerated_canceled",renderOverview:be},3511:{overviewKey:r?"swaptrade_history_notif_returned_insufficient":"swaptrade_servicefee_notif_returned_insufficient",renderOverview:be},3512:{overviewKey:"swaptrade_history_notif_returned_low_gas",renderOverview:be},3599:{overviewKey:r?"swaptrade_history_notif_returned_error":"swaptrade_servicefee_notif_returned_error",renderOverview:be,hasCustomerService:!0},9999:{overviewKey:"swaptrade_history_notif_error_contact_support",hasCustomerService:!0},4001:{overviewKey:"swaptrade_pop_dialog_desc_intent_error_retry"},4002:{overviewKey:"swaptrade_bridge_alert_desc_bridge_process_error",renderOverview:e=>({bridge:e?.bridgeInfo?.bridgeName})},4003:{overviewKey:"swaptrade_history_notif_desc_synapse_website_swap",renderOverview:$f,hasGuideUrl:!0},999999:{overviewKey:"swaptrade_history_modal_tips_update_balance"},2600:{overviewKey:"swaptrade_reminder_desc_debridge_refund",renderOverview:Jr,hasGuideUrl:!0},2601:{overviewKey:"swaptrade_reminder_desc_wormhole_refund",renderOverview:Jr,hasGuideUrl:!0},2602:{overviewKey:"swaptrade_reminder_desc_arbitrum_refund",renderOverview:e=>({...Jr(e),min:e?.officialBridgeTime}),hasGuideUrl:!0},2603:{overviewKey:"swaptrade_reminder_desc_wanchain_blocklist",renderOverview:Jr},2604:{overviewKey:"swaptrade_reminder_desc_wormhole_daily_limit",renderOverview:Jr},2605:{overviewKey:"swaptrade_reminder_desc_wormhole_maximum_limit",renderOverview:Jr},2606:{overviewKey:"swaptrade_reminder_desc_meson_liquidity",renderOverview:Jr}}},fc=Qf;var zf=({errorCode:r,subOrder:t,orderId:e=""})=>{let o=G(fc(),r);if(o){let n=p(o.overviewKey,o.renderOverview?o.renderOverview(t):void 0),{subOrderType:i}=t||{},s=o.hasGuideUrl?t?.guideUrl:"",l=Array.isArray(o.detailKeyList)?o.detailKeyList.map(c=>p(c)):[];return ia.default.createElement(Yr,{overview:n,detailList:l,hasCustomerService:!!o.hasCustomerService,orderId:e,subOrderType:i,guideUrl:s})}else if(r==="3501"&&t?.dexBridgeShadowTokenPair&&t?.dexBridgeShadowTokenPairChainId)return ia.default.createElement(Yr,{overview:p("swaptrade_reminder_text_trade_convert",{bridge:t?.bridgeInfo?.bridgeName,tokensymbol:t?.dexBridgeShadowTokenPair?.shadowTokenSymbol})});return null},_c=he(zf);a();d();var gc=C(U()),hc=C(de());var Yf=({isFold:r,className:t,children:e})=>gc.default.createElement("div",{className:(0,hc.default)("font-12 flex-item",E.tip,t,{[E.tipFold]:r})},e),vi=Yf;var Xf=({isFold:r,subOrder:t={},insteadTip:e=null,orderId:o=""})=>{let n=String(t?.errorCode),i=(0,hn.useMemo)(()=>n&&n!=="0"?hn.default.createElement(_c,{errorCode:n,subOrder:t,orderId:o}):null,[n,t,o]);return i&&!t?.isFromStart?hn.default.createElement(vi,{isFold:r},i):e},wi=Xf;a();d();var tt=C(U());var Zf=({tipType:r,isFold:t=!1,subOrder:e={},isTimeOut:o=!1,fromStatus:n="",bridgeStatus:i="",tipCountDownTime:s=0,needShowErrorTip:l=!1,isOriginBridge:c,hasTimeoutTips:u,timeoutType:m,isMemeModeOrder:g=!1,isMemeTimeOut:T=!1,bridgeId:_="",bridgeName:S="",blockProcess:y=-1})=>{let{content:x,hasBorderStyle:b}=(0,tt.useMemo)(()=>{if(e.hasErrorCode)return{content:null};if(g&&T)return{content:p("swaptrade_history_modal_error_too_long")};let N=bi({blockProcess:y,bridgeId:_});if(u){if(N)return{hasBorderStyle:!0,content:tt.default.createElement(ra,{bridgeName:S,bridgeId:_})};if(m===Ce.SINGLE_TIPS||m===Ce.GAS)return{content:p("swaptrade_history_reminder_wait_patiently")};if(m===Ce.BRIDGE)return{content:p("swaptrade_history_reminder_crossing_assets_thx",{chain:e?.bridgeTipInfo?.toChainName||e?.toChainName,bridge:e?.bridgeTipInfo?.bridgeName||e?.bridgeOrderInfoVo?.bridgeName})}}return r===1?{content:tt.default.createElement(tt.default.Fragment,null,p(o?"swaptrade_history_reminder_exchanging_tokens_thx":"swaptrade_history_reminder_exchanging_tokens",{chain:e?.chainName,tokenSymbol1:e?.fromTokenSymbol,tokenSymbol2:e?.tipInfo?.toTokenSymbol}))}:r===2?N&&o?{hasBorderStyle:!0,content:tt.default.createElement(ra,{bridgeName:S,bridgeId:_})}:{content:tt.default.createElement(tt.default.Fragment,null,p(o?"swaptrade_history_reminder_crossing_assets_thx":"swaptrade_history_reminder_crossing_assets",{chain:e?.bridgeTipInfo?.toChainName||e?.toChainName,bridge:e?.bridgeTipInfo?.bridgeName||e?.bridgeOrderInfoVo?.bridgeName}))}:{content:null}},[r,e,o,u,m,g,T,y,_,S]),A=n===I.SpeedingUp||i===I.SpeedingUp?`[${p("swaptrade_list_colored_speeding_up")}] `:"";return x?tt.default.createElement(vi,{isFold:t,className:b&&!t?E.borderTipWrapper:E.processTipWrapper},t&&!l&&tt.default.createElement("span",{className:E.filterOrderPill},A,s!==0&&tt.default.createElement("span",null,En(s)," ")),c&&A&&tt.default.createElement("span",{className:E.filterOrderPill},A),x):null},Ei=Zf;var Jf=({isOriginBridge:r=!1,expireTime:t=0,isFold:e=!1,isLast:o=!1,fromStatus:n="",bridgeStatus:i="",foldTipToastData:s={foldTipType:"",currentProcessIsTimeOut:!0,tipCountDownTime:0,filterProcessItem:{},needShowErrorTip:!1},subOrder:l={},isWalletEnv:c=!1,isShow:u=!1,hasTimeoutTips:m,timeoutType:g,orderId:T="",isMemeModeOrder:_=!1,isMemeTimeOut:S=!1,bridgeId:y="",bridgeName:x="",blockProcess:b})=>{if(!u)return null;let{foldTipType:A,currentProcessIsTimeOut:N,tipCountDownTime:w,filterProcessItem:k,needShowErrorTip:P,foldBlockProcess:D}=s,R=e?k:l,B={isFold:e,isWalletEnv:c,subOrder:o?l:R,orderId:T},H=l?.tipType===Je.bridge?Je.bridge:"",O={tipType:e?A:H,isFold:e,subOrder:o?l:R,isTimeOut:r?t<1:N,fromStatus:n,bridgeStatus:i,tipCountDownTime:w,needShowErrorTip:P,isOriginBridge:r,hasTimeoutTips:m,timeoutType:g,isMemeModeOrder:_,isMemeTimeOut:S,bridgeId:y,bridgeName:x,blockProcess:e?D:b},j=Ct.default.createElement(Ct.default.Fragment,null);return e?P?j=Ct.default.createElement(wi,{...B}):j=o?Ct.default.createElement(wi,{...B}):Ct.default.createElement(Ei,{...O}):m?j=Ct.default.createElement(Ei,{...O}):j=Ct.default.createElement(Ct.default.Fragment,null,Ct.default.createElement(wi,{...B,insteadTip:o?null:Ct.default.createElement(Ei,{...O})})),j},sa=he(Jf);function e_({bridgeStatus:r,fromStatus:t,expireTime:e,stepCount:o,subOrdersList:n,foldTipToastData:i,subOrder:s,index:l,isParticipateActivity:c,swapTradeType:u,gasStationActivityReward:m,isFold:g,setIsFold:T,isWalletEnv:_,timeoutSubOrder:S,orderId:y,mainOrderStatus:x,isMemeModeOrder:b,isMemeTimeOut:A,bridgeId:N,bridgeName:w,fromChainRefundInfo:k,getScrollContainer:P=()=>{}}){let{key:D,status:R,exploreUrl:B,chainName:H,symbol:O,symbolLogo:j,amount:v,isFromStart:Q,hiddenExploreUrl:X,showProgressBar:_e,hasTimeoutTips:ge,timeoutType:te,blockProcess:ne}=s,ie=(0,q.useRef)(null),[Ae,Ft]=(0,q.useState)(0),Be=o===2,De=R===I.Waiting,Bt=[I.Succeed,I.ReadyToClaim,I.Claiming,I.ClaimFailed].includes(R),_t=r===I.SpeedingUp,Zt=l===0,we=l===n.length-1,eo=l===n.length-2,Ke=Zt||we,Ut="";v&&O&&(we&&Bt?Ut="+":Zt&&(Ut="-"));let bt=Be&&_t,No=R!==I.Pending&&R!==I.SpeedingUp||bt,gt=[I.Pending,I.Waiting].includes(x),to=`${Lt(Ut,v)} ${O}`,ht={isFold:g,isLast:we,isOriginBridge:Be,expireTime:e,fromStatus:t,bridgeStatus:r,foldTipToastData:i,subOrder:s,isWalletEnv:_,hasTimeoutTips:ge&&gt,timeoutType:te,orderId:y,isMemeModeOrder:b,isMemeTimeOut:A,bridgeId:N,bridgeName:w,blockProcess:ne};return S&&g&&gt&&(ht.timeoutType=S.timeoutType,ht.hasTimeoutTips=S.hasTimeoutTips,ht.blockProcess=S.blockProcess),(0,q.useEffect)(()=>{let vt=ie?.current?.getBoundingClientRect()?.width||0,ro=ie?.current?.parentElement?.getBoundingClientRect()?.width||0;Ft(ro-vt-12)},[]),q.default.createElement("div",{className:(0,ve.default)(E.item),key:D},Zt&&q.default.createElement("div",{className:(0,ve.default)("font-14",E.label)},p("swaptrade_card_swap_label1_pay")),we&&q.default.createElement("div",{className:(0,ve.default)("font-14",E.label,we&&E.last,(De||bt)&&E.waiting)},p("swaptrade_card_swap_label2_receive")),q.default.createElement("div",{className:(0,ve.default)("flex flex-row align-top",E.itemWrapper)},q.default.createElement("div",{className:E.itemWrapperLeft},q.default.createElement(mo,{src:j,size:Ke?32:22,className:(0,ve.default)("shrink-0",E.tokenBorder,{[E.waitingLogo]:De||bt&&we})}),_e&&!g&&q.default.createElement(q.default.Fragment,null,q.default.createElement("div",{className:E["progress-bar"]},q.default.createElement("div",{className:(0,ve.default)(E["progress-val"],{[E["progress-delay"]]:l===1})}))),we&&k.isFromChainRefund&&q.default.createElement("div",{className:E["progress-bar"]},q.default.createElement("div",{className:(0,ve.default)(E["progress-val"],{[E["progress-delay"]]:l===1}),style:{height:"calc(100% + 44px)"}}))),q.default.createElement("div",{className:(0,ve.default)(E.itemWrapperRight,{[E.boxPd]:!we&&!eo,[E.iconFontCenters]:!Ke})},q.default.createElement("div",{className:(0,ve.default)("flex align-items-center",{[E["position-relative"]]:!we&&!eo})},q.default.createElement("div",{className:E.token},q.default.createElement("div",{className:(0,ve.default)("flex justify-between align-items-center")},q.default.createElement("div",{className:(0,ve.default)(E.amount,{[E.flexGrow0]:!(v&&O),[E.lastSucceed]:we&&Bt,[E.activity]:c,[E.tokenAmountBig]:Ke,[E.tokenAmountSmall]:!Ke})},v&&O?q.default.createElement("div",{className:(0,ve.default)("flex flex-item"),style:{maxWidth:`${Ae}px`}},q.default.createElement(wt,{title:to,textOverflow:{text:to},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300,getScrollContainer:P},q.default.createElement("div",{className:(0,ve.default)(E.tokenAmountWrapper,{[E.textOverflow]:!c,[E.amountOverflow]:c},c?"flex align-items-center flex-1 shrink-0":""),style:{maxWidth:`${Ae}px`}},q.default.createElement("span",{className:E.tokenAmountContent},Lt(Ut,v)," "),q.default.createElement("span",{className:E.symbolColor},O))),V.GasStation===u&&we&&c&&Bt&&q.default.createElement("div",{className:(0,ve.default)("inline-flex align-items-center",E.extraGain)},q.default.createElement("div",{className:(0,ve.default)("font-12")},p("swaptrade_order_tag_won_value",{percentage:Number(m.discount)*100})))):q.default.createElement(q.default.Fragment,null,!bt&&q.default.createElement(pc,{subOrder:s,isLast:we}),No&&q.default.createElement("span",{className:(0,ve.default)({[E.waitingSymbol]:De||bt})},"--",q.default.createElement(rl,{tokenSymbol:O,className:E.symbolColor}))),u!==V.SingleChain&&u!==V.GasStation?q.default.createElement("div",{className:(0,ve.default)(E.chainName,De&&E.waiting)},H):null),q.default.createElement("div",{ref:ie,className:(0,ve.default)("flex justify-content-end",E.statusBox,E.textOverflow,E.flexGrow0)},Zt&&!Be&&q.default.createElement(fe,{className:(0,ve.default)(E.foldArrow,{"okx-defi-dex-arrow-down":g,"okx-defi-dex-arrow-up":!g}),onClick:()=>{T(vt=>!vt)},size:24}),q.default.createElement(Ci,{isFromStart:Q,exploreUrl:B,hiddenExploreUrl:X,index:l}))))),q.default.createElement(sa,{...ht,isShow:!g||we}))),q.default.createElement(sa,{...ht,isShow:g&&!we}))}var Tc=he(e_);function t_({subOrders:r,mainOrderStatus:t,swapTradeType:e,className:o="",gasToken:n,networks:i,orderInfo:s,isWalletEnv:l=!1,expireTime:c,foldTipToast:u,bridgeStatus:m,fromStatus:g,fromChainRefundInfo:T,getScrollContainer:_}){let{gasStationActivityReward:S,orderId:y,status:x,isMemeModeOrder:b,isMemeTimeOut:A,bridgeId:N,bridgeName:w}=s,k=Number(S?.isParticipateActivity)===1,P=lc(t),[D,R]=(0,gr.useState)(P!==I.Pending),B=D?[r[0],r[r.length-1]]:r,H=r.find(O=>O.hasTimeoutTips);return gr.default.createElement("div",null,gr.default.createElement("div",{className:(0,Sc.default)(E.wrapper,{[E.wallet]:l},o)},B.map((O,j)=>gr.default.createElement(Tc,{bridgeStatus:m,fromStatus:g,key:`${O.key}_${j}`,expireTime:c,stepCount:r.length,subOrdersList:B,foldTipToastData:u,subOrder:O,index:j,isParticipateActivity:k,swapTradeType:e,gasStationActivityReward:S,isFold:D,setIsFold:R,isWalletEnv:l,timeoutSubOrder:H,orderId:y,mainOrderStatus:x,isMemeModeOrder:b,isMemeTimeOut:A,bridgeId:N,bridgeName:w,fromChainRefundInfo:T,getScrollContainer:_})),gr.default.createElement(uc,{...T}),gr.default.createElement(mc,{gasToken:n,networks:i,mainOrderStatus:t,isWalletEnv:l})))}var Ic=t_;a();d();var hr={wrapper:"_wrapper_10fve_1",abnormal:"_abnormal_10fve_10",info:"_info_10fve_18","footer-has-btn":"_footer-has-btn_10fve_21",footerHasBtn:"_footer-has-btn_10fve_21"};function aa({children:r,className:t,style:e}){let o=Vt();return ye.default.createElement("div",{className:(0,Tn.default)(hr.wrapper,{[hr.widgetWrapper]:o},t),style:e},ye.default.createElement("div",{className:(0,Tn.default)(hr.abnormal,"flex align-items-center justify-content-center")},r))}function r_({orderId:r,orderData:t,className:e,isDialog:o,onClose:n,getScrollContainer:i,strategyMode:s,orderType:l,isLimit:c,isBridge:u}){let{recentTransactionStore:m,accountStore:g}=Pe(),{computedSubOrders:T,computedOrderInfo:_,expireTime:S,computedCurrentHistoryTabIsLimit:y,computedDataDetail:x,limitDetail:b,computedLimitOrderInfo:A,computedPendingTimingStatus:N,setLimitOrSwapDetail:w,setDetail:k,setLimitDetail:P,computedFoldTipToast:D,computedStepStatus:{bridgeStatus:R,fromSwapStatus:B},computedFirstTimeoutSubOrderBlockProcess:H,computedFromChainRefundInfo:O,onLimitDetailSocket:j,onStrategyDetailSocket:v}=m,Q=c?b:x,{data:X,error:_e,loading:ge}=Q||{},te=c??y,ne=it();(0,ye.useEffect)(()=>(t&&w({data:t,loading:!1,error:!1},te),r&&m.updateDetail({orderId:r,strategyMode:s,orderType:l,isLimit:te,initialLimitDetail:t}),()=>{k({data:null,loading:!1,error:!1}),P({data:null,loading:!1,error:!1})}),[r,t,k,P,w,m,s,l,te]),(0,ye.useEffect)(()=>{(X?.status===I.ReadyToClaim||X?.status===I.Claiming)&&sl("bridge_claim")},[X?.status]);let{detailStyle:ie}=Yu();return(0,ye.useEffect)(()=>{r&&dd({wallet_address:g.computedAccountWalletAddresses,order_id:r})},[r,g.computedAccountWalletAddresses]),nl({onListenData:Ae=>{j(Ae)},onListenError:()=>{}}),il({onListenData:Ae=>{v(Ae)},onListenError:()=>{}}),_e?ye.default.createElement(aa,{style:ie},ye.default.createElement(Ku,{onButtonClick:()=>{m.updateDetail({orderId:r,strategyMode:s,orderType:l})}})):ge?ye.default.createElement(aa,{style:ie},ye.default.createElement(no.Circle,{type:no.TYPE.neutral})):X?ye.default.createElement(ye.default.Fragment,null,o||ne||Vt()||!_&&!b?.data?null:ye.default.createElement(Qu,{onClick:n,swapOrder:_,limitOrder:b?.data}),ye.default.createElement("div",{className:(0,Tn.default)(hr.wrapper,e),style:ie},!te&&ye.default.createElement(ac,{order:_,expireTime:S,computedPendingTimingStatus:N,isWalletEnv:ne,isDialog:o,firstBlockProcess:H}),!te&&ye.default.createElement(Ic,{expireTime:S,mainOrderStatus:X.status,bridgeStatus:R,fromStatus:B,foldTipToast:D,subOrders:T,className:hr.content,swapTradeType:X.swapTradeType,gasToken:_.gasToken,orderInfo:_,networks:_.networks,isWalletEnv:ne,fromChainRefundInfo:O,getScrollContainer:i}),te&&ye.default.createElement(tc,{isWalletEnv:ne,orderInfo:A}),ye.default.createElement(Jm,{className:(0,Tn.default)(hr.info,{[hr.footerHasBtn]:[ze.OPEN].includes(A?.status)}),isLimit:te,orderInfo:te?A:_,gasToken:te?{}:_.gasToken,isWalletEnv:ne,isBridge:u}))):ye.default.createElement(aa,{style:ie},ye.default.createElement(Xd,{description:p("swaptrade_recent_transaction_dialog_no_data_desc")}))}var zF=he(r_);export{qs as a,js as b,pi as c,fi as d,VT as e,WT as f,Cs as g,GT as h,HT as i,wp as j,ts as k,us as l,Qo as m,zo as n,Yo as o,or as p,co as q,kl as r,qn as s,is as t,gm as u,hm as v,di as w,pt as x,Cm as y,kt as z,Mm as A,Do as B,b_ as C,gl as D,Gt as E,ns as F,wr as G,I as H,Re as I,V as J,sI as K,ui as L,kw as M,Ro as N,zF as O};
//# sourceMappingURL=chunk-ZNFTIF43.js.map
