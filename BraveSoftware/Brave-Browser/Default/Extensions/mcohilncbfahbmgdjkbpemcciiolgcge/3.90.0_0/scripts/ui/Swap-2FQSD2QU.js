import{a as Wt}from"./chunk-5ZIYIFRJ.js";import{a as fr}from"./chunk-5ALT5IWS.js";import{a as Qt}from"./chunk-3ZJEOPG5.js";import{a as dr,b as _r,c as gr,d as Sr,e as hr,f as Cr,g as kr,h as Tr,i as xr,j as yr,k as Ir,l as wr,m as Fr,o as qr}from"./chunk-QCFNCXVK.js";import"./chunk-HRY333JY.js";import{A as mr,B as ar,C as lr,D as ur,E as cr,I as Lr,J as Er,K as Dr,L as Pr,M as Mr,N as Br,O as Or,a as he,b as Oe,c as Yt,d as Xt,e as zt,f as Kt,g as Zt,h as Fe,i as qe,j as U,k as $t,l as Ce,m as Eo,n as ke,o as I,p as Yo,q as xo,r as or,s as er,u as tr,v as rr,w as nr,x as Ve,y as sr,z as ir}from"./chunk-NA5TBR7A.js";import"./chunk-4VAKOKZO.js";import{a as Ar}from"./chunk-SGITHY4U.js";import{a as jt,f as Ht}from"./chunk-RTZBHH6D.js";import{a as qt}from"./chunk-F43OFDEC.js";import{k as pr}from"./chunk-YG6DAN6E.js";import{a as Se}from"./chunk-XAUZ4FZE.js";import"./chunk-RRKGBNVH.js";import"./chunk-JHB77Y3J.js";import"./chunk-RZGUDMHY.js";import"./chunk-5JVWMQI2.js";import"./chunk-BMAGLTJ7.js";import"./chunk-OILTVSLX.js";import{a as F,c as Lt,e as Et,f as ge}from"./chunk-KLS3SJXA.js";import{a as Lo}from"./chunk-RQ4NNINW.js";import"./chunk-5DQKP6TK.js";import{a as Pt,b as Mt}from"./chunk-QTPS5BDP.js";import"./chunk-KOQXCGQ5.js";import"./chunk-P7NYIGUS.js";import"./chunk-H5RNSDSN.js";import"./chunk-OWPVBYY3.js";import"./chunk-E6SXR3B6.js";import{i as Vt,j as Rt}from"./chunk-GTBNRR37.js";import"./chunk-UUOZSCBD.js";import"./chunk-A7FGCMOW.js";import"./chunk-V2CZ7DY4.js";import{a as Pe}from"./chunk-3PLVXUNW.js";import"./chunk-HIUQCAJS.js";import"./chunk-S6FHNOIH.js";import{c as Me,d as Ot,e as Ft}from"./chunk-RKCZ2ONP.js";import"./chunk-RER2JAFZ.js";import"./chunk-CJAFGYQK.js";import{a as br,b as Nr,c as vr}from"./chunk-NSJPJ55B.js";import{d as Jt}from"./chunk-B2JYSJYC.js";import{g as Be,n as re}from"./chunk-QED56456.js";import"./chunk-HSSW2VTC.js";import"./chunk-IGYVCHMC.js";import"./chunk-PPNQSDGF.js";import{a as B}from"./chunk-PYCB247J.js";import"./chunk-2LQJ3JX6.js";import"./chunk-KF7FMIRD.js";import{a as Ut,b as Gt}from"./chunk-N4IYN7DD.js";import{a as Dt}from"./chunk-UY2DPNBT.js";import{c as Bt}from"./chunk-SZZZVLQW.js";import{f as To,i as _e,j as At}from"./chunk-V5J3A5L5.js";import"./chunk-CERSDYPT.js";import{c as d}from"./chunk-RZETZIQO.js";import{$a as vt,A as wt,pa as bt,va as Nt,x as De}from"./chunk-P5GHREX3.js";import"./chunk-HUG2KBCE.js";import{a as Ao}from"./chunk-6XMXPOUW.js";import"./chunk-3WKBEXBH.js";import{b as z}from"./chunk-RK4OLGCC.js";import"./chunk-NNPT43SF.js";import{a as vo}from"./chunk-VL2JCPJS.js";import"./chunk-CTJAEFLV.js";import{a as to,j as No,l as W,m as xt,s as yt,u as It}from"./chunk-AP4E6GDF.js";import{Ac as te,B as ho,Ib as eo,Ja as gt,Ke as S,Qc as kt,Sc as ko,Tc as Ho,Ub as St,Vb as ht,Wb as Ct,Zc as Tt,db as Co,ka as at,la as lt,m as T,ma as ut,n as it,na as pt,nb as O,o as Ee,oa as ct,pa as ft,qa as dt,sa as _t,wa as ee,z as mt}from"./chunk-RPH2MNBW.js";import"./chunk-SKUQ6ZA4.js";import"./chunk-P3FTJE4X.js";import"./chunk-W6ZDZJCJ.js";import"./chunk-PGGBOJAH.js";import"./chunk-JDCCMYBK.js";import"./chunk-554VFFSY.js";import"./chunk-4ADHM5NM.js";import"./chunk-JBOOQ7HO.js";import"./chunk-RKPJE2LG.js";import"./chunk-U2IAA473.js";import"./chunk-DOSBJ3L3.js";import"./chunk-DNGRHKLV.js";import"./chunk-3O2IEAHF.js";import{A as So,_ as st,b as Wo,d as jo,e as nt,o as go,q as X,r as de,y as Qo}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-I2AEM4CA.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import{a as rt}from"./chunk-IQUFNLVG.js";import{C as V,t as oo,w as Le}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as E}from"./chunk-FB3ILH2L.js";import{b as g}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-TR37MFB4.js";import"./chunk-PNECIDQW.js";import"./chunk-BVDMVGLD.js";import{$ as et,Aa as R,D as Je,T as ot,f as Ke,ja as tt,l as P,n as Ze,s as $e,ua as fe}from"./chunk-4C5HF6J2.js";import"./chunk-BY6XCDJZ.js";import"./chunk-WQGQVXPA.js";import"./chunk-EI7BJC6V.js";import"./chunk-WZALYVUQ.js";import"./chunk-4ARIYUS3.js";import{f as u,o as r,q as n}from"./chunk-UWURTNRY.js";r();n();var x=u(g()),Ae=u(E());r();n();var Do=u(g());var ws=({isDialog:o,dialogProps:t={}})=>{let{isSm:e}=z(),{commonStore:s}=d(),{computedIsWalletEnv:m}=s;return e||m||!e&&o?Do.default.createElement(Do.default.Fragment,null,Do.default.createElement(tr.MobileView,{isDialog:o,dialogProps:t}),m&&Do.default.createElement(Do.default.Fragment,null,Do.default.createElement(rr,null))):null},Vr=T(ws);r();n();var Ko=u(g());r();n();var M=u(g()),zo=u(E());r();n();var K=u(g()),pn=u(E());r();n();var D=u(g()),sn=u(E());r();n();var Ur=u(g());R();var Gr=()=>{let{quoteStore:o,commonStore:t,fromToStore:e}=d(),{aggregateFetchStatus:s}=o,m=P(o,"quote.bestRoute.defiPlatformInfoList",[]);return(0,Ur.useMemo)(()=>{if(s===3)return m;let a=t.getChainByID(e.from.chainId),i=P(a,"supportPlatformIds",[]).filter(l=>l!==Co).map(l=>({defiPlatformId:l,status:1})).slice(0,3);return $e([],m,i)},[m,e.from.chainId,s,t.chainList])};r();n();var jr=u(g());r();n();var Wr={alert:"_alert_12652_1"};var Qr=({info:o,className:t=""})=>{if(o){let{title:e,desc:s,type:m,onConfirm:a,confirmText:i}=o;return jr.default.createElement(jo,{className:t||Wr.alert,title:e,desc:s,type:m,closable:!1,onConfirm:a,confirmText:i})}return null};r();n();var j=u(g()),rn=u(E());R();r();n();var ro=u(g()),Re=u(E());var bs=({isDialog:o,keepDisplay:t=!1,labelClassName:e="",labelIconClassName:s=""})=>{let{fromToStore:m,quoteStore:a}=d(),{computedIsSingleChain:i}=m,{setLiquidityModelVisible:l}=F,{computedIsOkxProvider:c}=a,h=()=>{l(!0),wt({button_name:"liquidity_sources"})},p=O()?{maxWidth:200,placement:So.DIRECTION.topRight}:{};return i&&!o&&c||t?ro.default.createElement(Zt,{key:"smartRouter"},ro.default.createElement("span",{className:(0,Re.default)("flex items-center",Fe.itemLabel,e)},S("swaptrade_1swap_selectioncard_label_liquidity"),ro.default.createElement(So,{title:S("swaptrade_compliance_tooltips_note_that_okx_dex"),...p},ro.default.createElement(Ut,{className:s}))),ro.default.createElement(Kt,null,ro.default.createElement("div",{className:(0,Re.default)(["font-bold","flex","align-items-center","content-primary","cursor-pointer",Fe.slippage]),role:"button",tabIndex:0,onClick:h},ro.default.createElement("span",null,B.computedLiquidityNum),ro.default.createElement(oo,{iconName:"okx-defi-dex-arrow-right-1",className:"ml-4 content-primary"})))):null},Hr=T(bs);r();n();var Te=u(g());var Ns=({itemInfo:o})=>{let{receiveAmount:t,toTokenPrice:e}=o;return Te.default.createElement("div",{className:"w-100"},Te.default.createElement("div",{className:I.receiveAmount},t),Te.default.createElement("div",{className:I.receiveCurrency},e))},Yr=Ns;r();n();var ne=u(g());var vs=({itemInfo:o})=>{let{estimatedGas:t,isOfflineType:e}=o,{label:s,Container:m,gasFee:a}=nr({isOfflineType:e,gasFee:t});return ne.default.createElement("div",{className:I.infoColumn},ne.default.createElement("div",{className:I.label},s),ne.default.createElement(m,{isOfflineType:e},ne.default.createElement("span",{className:I.networkFeeAmount},a)))},Xr=vs;r();n();var no=u(g());r();n();var zr=u(g());R();var Kr=o=>(0,zr.useMemo)(()=>{if(!o||o.length===0)return[];let t=new Map,e=new Map,s=new Map,m=new Map;o.forEach(p=>{let{fromIndex:_,toIndex:C}=p;t.has(_)||t.set(_,[]);let k=t.get(_);k&&k.push(p),e.set(_,(e.get(_)||0)+1),e.has(C)||e.set(C,0),s.set(C,(s.get(C)||0)+1),p.fromToken?.tokenLogoUrl&&m.set(_,p.fromToken.tokenLogoUrl),p.toToken?.tokenLogoUrl&&m.set(C,p.toToken.tokenLogoUrl)}),t.forEach(p=>{p.sort((_,C)=>{let k=parseFloat(_.percent)||0;return(parseFloat(C.percent)||0)-k})});let i=Array.from(e.entries()).filter(([p,_])=>_===0&&p!=="0").sort((p,_)=>{let C=s.get(p[0])||0;return(s.get(_[0])||0)-C})[0]?.[0];if(!i)return console.warn("[useGetDagRoute] No sink node found in DAG routing data"),[];let l=(p,_,C,k)=>{if(p===_)return[...k,p];C.add(p);let y=t.get(p)||[];for(let A of y){let L=A.toIndex;if(!C.has(L)){let N=l(L,_,C,[...k,p]);if(N)return N}}return null},c=l("0",i,new Set,[]);if(!c||c.length===0)return console.warn("[useGetDagRoute] No path found from source to sink in DAG routing data"),[];let h=[];return c.forEach(p=>{let _=m.get(p);_&&h.push(_)}),fe(h)},[o]);r();n();R();var Zr=o=>fe(Ze(Je(o,({fromToken:t,toToken:e})=>[t.tokenLogoUrl,e.tokenLogoUrl])));var As=({routes:o,dagRoutes:t,routeClick:e})=>{let s=Zr(o),m=Kr(t),a=t?.length?m||[]:s||[],{isSm:i}=z();return a.length>0&&no.default.createElement("div",{className:I.infoColumn,role:"button",tabIndex:0,onClick:l=>{l.stopPropagation(),e(l)}},no.default.createElement("div",{className:I.label},ho("swaptrade_1swap_selectioncard_label_trading_route")),no.default.createElement("div",{className:I.routeItems},a.map((l,c)=>no.default.createElement(no.default.Fragment,{key:`${c}_route_list`},c>0&&no.default.createElement(Pe,{type:"okx-defi-dex-arrow-up-1",size:i?12:16,style:{transform:"rotate(90deg)",fontSize:i?"16px":"20px"},key:`${c}pointer`}),no.default.createElement(Bt,{size:i?16:20,src:l,key:`${c}logo`,className:I.routeItem}))),no.default.createElement(Pe,{type:"okx-defi-dex-chevron-up",size:16,className:I.arrow})))},$r=As;r();n();var xe=u(g()),Jr=u(E());var Ls=({itemInfo:o})=>{let{isSm:t}=z(),{logo:e,name:s,reducePercent:m,approved:a,isBest:i,defiPlatformId:l}=o,c=l===Co;return xe.default.createElement("div",{className:(0,Jr.default)(I.info,I.swapInfo)},xe.default.createElement(Gt,{tooltip:c?ho("swaptrade_compliance_tooltips_okx_dex_refers_to"):"",logo:e,name:s,size:t?16:20,className:I.name,outClassName:I.swapInfoName}),xe.default.createElement(sr,{reducePercent:m,approved:a,size:st.SIZE.lg,isBest:i,className:I.swapInfoTags}))},on=Ls;r();n();var en=u(g());R();var tn=o=>{let{fromToStore:t,approveStore:e,commonStore:s,swapStore:m}=d(),{isSwapSolana:a}=m,{computedNowCurrencySymbol:i,currencyConversion:l}=s,c=o.offlineType===Dt.YES,h=qt({realTimeTokenPrice:P(t,"to.wsPriceData.price"),amount:o.receiveAmount,nonRealTimeTokenValue:o.toTokenPrice||o.toTokenValue}),{routes:p,dagRoutes:_}=(0,en.useMemo)(()=>{let C=P(o,"dexRouterList",[]),k=C?.[0];return k&&k.subRouterList?{routes:P(k,"subRouterList",[]),dagRoutes:[]}:k&&!k.subRouterList?{routes:[],dagRoutes:C}:{routes:[],dagRoutes:[]}},[o]);return{...o,logo:o.logo,name:o.name,receiveAmount:`${xt(o.receiveAmount)} ${t.to.tokenSymbol}`,toTokenPrice:S(a(t?.from?.chainId)?"swaptrade_providerselection_subheader_est_amount_jito":"swaptrade_providerselection_subheader_est_amount",{amount:`${No(l(c?h:h-o.quoteNetWorkFeeOfMoney).toString(),i,{handleLtZero:!0,needBillionMillionUnit:!1,needPlaceholder:!0})}`}),estimatedGas:o.quoteNetWorkFeeOfMoney?No(l(o.quoteNetWorkFeeOfMoney).toString(),i,{needBillionMillionUnit:!1,needPlaceholder:!0}):kt,routes:p,dagRoutes:_,isOfflineType:c,approved:e.getApproveTokenConfig(t.from,o.defiPlatformId).tagStatus===gt.Approved}};var nn=T(({active:o,itemInfo:t,loading:e,handleRouteClick:s})=>{let{logo:m,name:a,receiveAmount:i,toTokenPrice:l,estimatedGas:c,routes:h,dagRoutes:p,reducePercent:_,approved:C,isBest:k,isOfflineType:y,defiPlatformId:A}=tn(t),L=ke(),N=A===Co,{quoteStore:v,smartRouterStore:q,accountStore:lo,fromToStore:uo={},commonStore:Y}=d(),{setDexRouterList:po,setXRouteModal:co}=q,{from:G={},computedIsSingleChain:Jo}=uo,{chainId:Bo}=G,{computedIsWalletEnv:Oo}=Y,fo=lo.getAddressByChainId(Bo),Fo=N&&(L||Jo||Oo),qo=()=>{v.setAggregateSelectId(A),v.setAggregateSelectStatus(1),v.updateBestRoute(et(t,["dexRouterList"])),v.setCompareVisible(!1),De({...Be(),button_name:"provider_card",wallet_address:fo})},Vo=(0,j.useCallback)(Ro=>{s(Ro),co(ko.XROUTER),po(t.dexRouterList),v.updateBestRoute({...v.quote.bestRoute,dexRouterList:t.dexRouterList}),De({...Be(),button_name:"okxdex_router",wallet_address:fo})},[t.dexRouterList,v,fo]);return e?j.default.createElement(nt.Input,{style:{height:150,width:"100%",borderRadius:12}}):j.default.createElement(Wo,{className:(0,rn.default)(I.container,{[I.active]:o}),onClick:()=>{qo()}},j.default.createElement(on,{itemInfo:{logo:m,name:a,reducePercent:_,approved:C,isBest:k,defiPlatformId:A}}),j.default.createElement(Yr,{itemInfo:{receiveAmount:i,toTokenPrice:l}}),Fo&&j.default.createElement(Hr,{isDialog:!1,keepDisplay:!0,labelClassName:I.inquiryColor,labelIconClassName:I.iconColor}),j.default.createElement("div",{className:I.line}),j.default.createElement(Xr,{itemInfo:{estimatedGas:c,isOfflineType:y}}),j.default.createElement($r,{routes:h,dagRoutes:p,routeClick:Vo}))});var mn=T(()=>{let{quoteStore:o,smartRouterStore:t}=d(),{setDialogGroupVisibleStatus:e,computedIsNoOkxLiquidity:s}=o,m=Gr(),{showXRouteModal:a,setXRouteModal:i}=t,l=(0,D.useMemo)(()=>m.map(k=>k.defiPlatformId),[m]),[c,h]=D.default.useState(!1),p=ke(),_=()=>{if(O()){t.setOldRouterModal(!0);return}if(p){h(!0);return}e(2)},C=(0,D.useMemo)(()=>B.computedIsCustomLiquidity&&s?{title:S("swaptrade_1swap_notification_selected_pools_reselect",{swaptrade_1swap_notification_selected_pools_reselect:B.computedIds?.length||"0"}),desc:D.default.createElement(Lt,{openLiquidityDialog:()=>{F.setLiquidityModelVisible(!0)}}),type:Et.info}:null,[s,B.computedIsCustomLiquidity]);return D.default.createElement("div",{className:p?xo.container:null},p&&D.default.createElement("div",{className:xo.header},D.default.createElement("div",{className:"flex items-center justify-between"},D.default.createElement("div",{className:xo.title},S("swaptrade_1swap_input_label_router")),D.default.createElement("div",{className:"flex items-center"},D.default.createElement(Yo,{className:"ml-auto"}))),D.default.createElement("div",{className:xo.desc},S("swaptrade_providerselection_subheader_ranked"))),C&&!p&&D.default.createElement(Qr,{info:C,className:xo.errorTips}),D.default.createElement(Eo,{className:(0,sn.default)(xo.content,{"mt-16":p},{[xo.scroll]:!O()}),keyList:l},m?.map(k=>D.default.createElement(Eo.Item,{key:k.defiPlatformId,id:k.defiPlatformId},D.default.createElement(nn,{itemInfo:k,active:o.aggregateSelectId===k.defiPlatformId,handleRouteClick:_,loading:k.status===1})))),D.default.createElement(go,{visible:c,title:S("swaptrade_xrouting_single_chain_routes"),showBackBtn:a===ko.XROUTER_DETAIL,onBack:()=>{i(ko.XROUTER)},onClose:()=>{h(!1)}},D.default.createElement(Ce,{isDialog:!0})))});r();n();var Xo=u(g());var Ds=["swaptrade_aggregator_dialog_desc_transp_prices","swaptrade_aggregator_dialog_desc_mev_prot"],an=T(()=>{let{quoteStore:o}=d(),{aggregatorList:t,fetchAggregatorList:e,computedIsAggregatorListLoading:s}=o;return(0,Xo.useEffect)(()=>{t?.length||e()},[t]),Xo.default.createElement(Xo.default.Fragment,null,Xo.default.createElement(or,{title:"swaptrade_aggregator_dialog_title_top_prices",desc:"swaptrade_aggregator_dialog_desc_get_prices",tips:Ds,loading:s,logoList:t}))});r();n();var ln=u(g());var un=T(()=>{let{quoteStore:o}=d(),t=Jt();return ln.default.createElement(Qo.State,{type:Qo.State.TYPE.systemError,title:S("swaptrade_quotesearch_emptystate_title_couldnt_retrieve"),description:S("swaptrade_quotesearch_emptystate_subheader_cantretrieve"),buttonText:S("swaptrade_market_empty_btn_reload"),onButtonClick:()=>{o.fetchQuote({params:t,config:{quoteSource:0}})}})});var ye=T(({leftSlotHeight:o})=>{let{quoteStore:t,swapDappStore:e}=d(),s=[4,5,1].includes(t.aggregateFetchStatus)||e.computedSupportDappTradeByChain;return K.default.createElement("div",{className:(0,pn.default)({[U.abnormalBox]:s})},e.computedSupportDappTradeByChain?K.default.createElement(qe,null):K.default.createElement(K.default.Fragment,null,t.aggregateFetchStatus===0&&K.default.createElement(an,null),t.aggregateFetchStatus===1&&K.default.createElement($t,{height:o}),[2,3].includes(t.aggregateFetchStatus)&&K.default.createElement(mn,null),t.aggregateFetchStatus===4&&K.default.createElement(qe,null),t.aggregateFetchStatus===5&&K.default.createElement(un,null)))});var Ue=({title:o,subTitle:t,loadingButton:e,onShowExplain:s})=>M.default.createElement("div",{className:"flex justify-between w-100"},M.default.createElement("div",{className:"flex items-center"},o,t&&M.default.createElement(So,{maxWidth:288,title:t,className:"ml-4"},M.default.createElement(oo,{iconName:"okds-information-circle",onMouseEnter:s}))),M.default.createElement("div",{className:"flex items-center"},e)),cl=T(()=>{let{quoteStore:o,smartRouterStore:t}=d(),{isSm:e,isMd:s}=z(),{compareVisible:m,setCompareVisible:a,dialogGroupVisibleStatus:i,setDialogGroupVisibleStatus:l}=o,c=()=>{a(!1),l(1)},h=(0,M.useCallback)(p=>{let _=M.default.createElement("div",{className:U.subTitle},S("swaptrade_providerselection_subheader_ranked"));return p?s||e?"":_:s||e?_:""},[s,e]);return M.default.createElement(go.Group,{visible:m,alignBottom:!0,noMargin:!0,maskClosable:!0,scrollDisable:!1,showBackBtn:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300},className:(0,zo.default)(U.dialogGroup,U[`visible${i}`]),isFull:!0},M.default.createElement(go.Window,{className:(0,zo.default)("flex","flex-col","grow",U.groupItem),onClose:c,noContentPadding:!e,containerClassName:(0,zo.default)("flex","flex-col","grow",U.window),closeIconClassName:U.closeBtn,scrollBoxClassName:(0,zo.default)("flex","flex-col","grow"),title:M.default.createElement(Ue,{title:S("swaptrade_1swap_input_label_router"),subTitle:h(!1),loadingButton:M.default.createElement(Yo,null)}),subTitle:h(!0)},M.default.createElement(ye,null)),M.default.createElement(go.Window,{className:(0,zo.default)(U.groupItem),onClose:c,closeIconClassName:U.closeBtn,title:S("swaptrade_xrouting_single_chain_routes"),onBack:()=>{t.showXRouteModal===ko.XROUTER?o.setDialogGroupVisibleStatus(1):t.setXRouteModal(ko.XROUTER)},showBackBtn:!0,scrollBoxClassName:U.scrollBox},M.default.createElement(Ce,{isDialog:!0}),e?M.default.createElement(er,{isDialog:!0,showDetailBackBtn:!0,hideDetailClose:!0,dialogProps:{isFull:!0,mask:!1,noMargin:!0}}):null))});r();n();var Ge={warp:"_warp_18ula_1","compare-title":"_compare-title_18ula_6",compareTitle:"_compare-title_18ula_6","close-icon":"_close-icon_18ula_11",closeIcon:"_close-icon_18ula_11"};var Ps=({visible:o,setVisible:t})=>Ko.default.createElement(he,{onClose:()=>{t(!1)},visible:o,title:Ko.default.createElement(Ue,{title:S("swaptrade_1swap_input_label_router"),subTitle:S("swaptrade_providerselection_subheader_ranked"),loadingButton:Ko.default.createElement(Yo,null)}),closeIconClassName:Ge.closeIcon,isFull:!0},Ko.default.createElement("div",{className:Ge.warp},Ko.default.createElement(ye,null))),cn=Ps;r();n();var be=u(g()),yn=u(E());R();r();n();var Q=u(g()),Tn=u(E());R();r();n();var io=u(g()),se=u(E());R();r();n();var so={footer:"_footer_mw6x2_1","wallet-footer":"_wallet-footer_mw6x2_5",walletFooter:"_wallet-footer_mw6x2_5","confirm-btn":"_confirm-btn_mw6x2_11",confirmBtn:"_confirm-btn_mw6x2_11","custom-btn":"_custom-btn_mw6x2_11",customBtn:"_custom-btn_mw6x2_11",btn:"_btn_mw6x2_11"};var Ms=()=>{let{dataStatus:o,computedClearAll:t,computedListCheckedAll:e,selectedListIds:s,computedCheckedAllDisabled:m,fromChainId:a}=B,{setConfirmIds:i,setLiquidityModelVisible:l,checkAllBtn:c}=F,h=O(),p=()=>{i(tt({},a,s)),l(!1)};return io.default.createElement(io.default.Fragment,null,o===eo.READY&&io.default.createElement("div",{className:(0,se.default)("flex items-center justify-between",{[so.footer]:!h,[so.walletFooter]:h})},io.default.createElement(de,{circle:!0,onChange:c,checked:e,disabled:m},io.default.createElement("span",{className:(0,se.default)("ml-4")},S("swaptrade_dialog_status_all"))),t&&io.default.createElement(So,{title:S("swaptrade_dialog_btn_atleast_one"),placement:So.DIRECTION.top,popupProps:{popupStyle:{maxWidth:"200px"}}},io.default.createElement(V,{className:(0,se.default)(so.confirmBtn,so.customBtn,so.btn),size:h?V.SIZE.lg:V.SIZE.sm,category:V.CATEGORY.fill,type:V.TYPE.highlight,disabled:!0},S("swaptrade_dialog_btn_confirm"))),!t&&io.default.createElement(V,{className:(0,se.default)(so.confirmBtn,so.customBtn,so.btn),size:h?V.SIZE.lg:V.SIZE.sm,category:V.CATEGORY.fill,type:V.TYPE.highlight,onClick:p},S("swaptrade_dialog_btn_confirm"))))},fn=T(Ms);r();n();var ie=u(g()),Sn=u(E());r();n();var dn=u(g()),_n=u(E());var Bs=({placeholder:o="",searchCb:t=()=>{},value:e,propsName:s})=>{let m=a=>{t(a.target.value)};return dn.default.createElement(X.Search,{className:(0,_n.default)(s),placeholder:o,value:e,onChange:m})},gn=Bs;r();n();var We={"web-search":"_web-search_4nvvy_2",webSearch:"_web-search_4nvvy_2","wallet-search":"_wallet-search_4nvvy_5",walletSearch:"_wallet-search_4nvvy_5"};var Os=()=>{let{searchLiquidityValue:o,dataStatus:t}=B,{setLiquiditySearchValue:e}=F,s=O(),m=a=>{e(a)};return ie.default.createElement(ie.default.Fragment,null,t===eo.READY&&ie.default.createElement("div",null,ie.default.createElement(gn,{placeholder:S("swaptrade_header_placeholder_above_tabs_search"),searchCb:m,value:o,propsName:(0,Sn.default)({[We.webSearch]:!s,[We.walletSearch]:s})})))},hn=T(Os);r();n();var ae=u(g()),je=u(E());r();n();var Zo=u(g()),me=u(E());r();n();var Po={"item-box":"_item-box_syd4c_1",itemBox:"_item-box_syd4c_1",label:"_label_syd4c_6","check-box-inner":"_check-box-inner_syd4c_10",checkBoxInner:"_check-box-inner_syd4c_10",logo:"_logo_syd4c_14",text:"_text_syd4c_17","item-box-wallet":"_item-box-wallet_syd4c_21",itemBoxWallet:"_item-box-wallet_syd4c_21"};var Fs=({data:o,setChecked:t,isWallet:e})=>{let{isChecked:s,logo:m,name:a,id:i}=o;return Zo.default.createElement("div",{className:(0,me.default)("flex",Po.itemBox,{[Po.itemBoxWallet]:e})},Zo.default.createElement(de,{onChange:()=>{t(i,s)},circle:!0,checked:s,className:(0,me.default)("align-items-center",Po.label)},Zo.default.createElement("div",{className:(0,me.default)("flex align-items-center",Po.checkBoxInner)},Zo.default.createElement(rt,{src:m,width:28,height:28,alt:a,pictureClassName:Po.logo}),Zo.default.createElement("span",{className:(0,me.default)("ml-12",Po.text)},a))))},Ie=Fs;r();n();var Z={"list-group":"_list-group_1k7te_1",listGroup:"_list-group_1k7te_1",label:"_label_1k7te_4","empty-box":"_empty-box_1k7te_9",emptyBox:"_empty-box_1k7te_9",loader:"_loader_1k7te_12","empty-search-box":"_empty-search-box_1k7te_15",emptySearchBox:"_empty-search-box_1k7te_15","wallet-list-group":"_wallet-list-group_1k7te_18",walletListGroup:"_wallet-list-group_1k7te_18"};var qs=({computedSearchDataIsNull:o,data:t,setChecked:e,isWallet:s})=>ae.default.createElement("div",{className:(0,je.default)("flex flex-col",{[Z.listGroup]:!s,[Z.walletListGroup]:s})},o&&ae.default.createElement("div",{className:(0,je.default)("flex justify-center",Z.emptySearchBox)},ae.default.createElement(Qo.State,{title:null,type:Qo.State.TYPE.noResult,description:S("swaptrade_dialog_empty_no_result")})),!o&&t.map(m=>ae.default.createElement(Ie,{key:m.id,data:m,setChecked:e}))),Cn=qs;r();n();var mo=u(g()),$o=u(E());var Vs=({dataStatus:o,data:t,setChecked:e,refreshData:s,isWallet:m})=>mo.default.createElement("div",{className:(0,$o.default)("flex flex-col",{[Z.listGroup]:!m,[Z.walletListGroup]:m})},o!==eo.READY&&mo.default.createElement("div",{className:(0,$o.default)("flex justify-center",Z.emptyBox)},o===eo.ERROR&&mo.default.createElement(Rt,{title:S("swaptrade_pricechart_no_connection_title"),description:S("swaptrade_pricechart_no_connection_desc"),buttonText:S("swaptrade_recent_transaction_dialog_btn_reload"),onButtonClick:s}),o===eo.NULL&&mo.default.createElement(Vt,{description:S("swaptrade_home_txs_no_transaction_data")}),o===eo.LOADING?mo.default.createElement(Le.Circle,{size:Le.SIZE.lg,className:(0,$o.default)(Z.loader)}):null),t&&t.map((a,i)=>mo.default.createElement("div",{className:(0,$o.default)("flex flex-col"),key:i},mo.default.createElement("span",{className:(0,$o.default)("font-12",Z.label)},a?.label),a?.list.map(l=>mo.default.createElement(Ie,{isWallet:m,key:l.id,data:l,setChecked:e}))))),kn=Vs;r();n();var we={container:"_container_1x9k7_1","liquidity-dialog":"_liquidity-dialog_1x9k7_4",liquidityDialog:"_liquidity-dialog_1x9k7_4","foot-content":"_foot-content_1x9k7_4",footContent:"_foot-content_1x9k7_4","has-line":"_has-line_1x9k7_8",hasLine:"_has-line_1x9k7_8","no-line":"_no-line_1x9k7_11",noLine:"_no-line_1x9k7_11",content:"_content_1x9k7_14","wallet-content":"_wallet-content_1x9k7_17",walletContent:"_wallet-content_1x9k7_17","telegram-content":"_telegram-content_1x9k7_21",telegramContent:"_telegram-content_1x9k7_21"};var Rs=({noFooter:o=!1})=>{let{computedShowData:t,computedSearchStatus:e,dataStatus:s,computedSearchDataIsNull:m,confirmIds:a,fromChainId:i}=B,{setLiquiditySearchValue:l,setSelectedListIds:c,filterSelectedListIds:h,fetchLiquidityData:p}=F,_=O(),C=Ao();(0,Q.useEffect)(()=>{l("")},[l]),(0,Q.useEffect)(()=>()=>{if(!_){let y=P(a,i);y&&c(y)}},[c,a,i]);let k=(y,A)=>{h(y,A)};return Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(hn,null),Q.default.createElement("div",{className:(0,Tn.default)({[we.content]:!_,[we.walletContent]:_&&!C,[we.telegramContent]:C})},e?Q.default.createElement(Cn,{computedSearchDataIsNull:m,data:t,setChecked:k,isWallet:_}):Q.default.createElement(kn,{refreshData:p,dataStatus:s,data:t,setChecked:k,isWallet:_})),_&&!o&&Q.default.createElement(fn,null))},xn=T(Rs);r();n();var Qe={content:"_content_phnkk_1","content-tg":"_content-tg_phnkk_6",contentTg:"_content-tg_phnkk_6"};var Us=()=>{let{fromToStore:o}=d(),{liquidityModelVisible:t,confirmIds:e}=B,{setLiquidityModelVisible:s,setSelectedListIds:m}=F,{from:a}=o;return be.default.createElement(he,{title:S("swaptrade_dialog_title_select_liquidity"),visible:t,onClose:()=>{let i=P(e,a.chainId);i&&m(i),s(!1)},isFull:!0},be.default.createElement("div",{className:(0,yn.default)(Qe.content,Ao()&&Qe.contentTg)},be.default.createElement(xn,null)))},In=T(Us);r();n();var es=u(g());r();n();r();n();var wn=u(g());var bn=()=>{let{fromToStore:o,quoteStore:t}=d(),{to:e}=o,{computedQuoteErrorMsg:s}=t;return(0,wn.useMemo)(()=>_r({isHoneypot:Boolean(e?.isHoneypot),tokenSymbol:e?.tokenSymbol||"",message:s}),[e?.isHoneypot,e?.tokenSymbol,s])};r();n();var Nn=u(g());var vn=()=>{let{fromToStore:o,quoteStore:t}=d(),{from:e,to:s,computedLeverageTokenPair:m}=o,{computedQuoteErrorMsg:a}=t,[i,l]=m||[!1,!1];return(0,Nn.useMemo)(()=>Sr({isFromLeverageToken:i,isToLeverageToken:l,fromTokenSymbol:e?.tokenSymbol||"",toTokenSymbol:s?.tokenSymbol||"",message:a}),[i,l,e?.tokenSymbol,s?.tokenSymbol,a])};r();n();var An=u(g());var Ln=()=>{let{quoteStore:o}=d(),{computedQuoteNetworkError:t}=o;return(0,An.useMemo)(()=>kr({hasNetworkError:t}),[t])};r();n();var En=u(g());var Dn=()=>{let{accountStore:o,fromToStore:t}=d(),{computedNonsupportChain:e}=o,{from:s}=t;return(0,En.useMemo)(()=>hr({nonsupportChain:e,chainName:s?.chainName||""}),[e,s?.chainName])};r();n();var Pn=u(g());var Mn=()=>{let{quoteStore:o}=d(),{computedQuoteIsNewAddress:t,computedQuoteErrorMsg:e}=o;return(0,Pn.useMemo)(()=>Cr({isNewAddress:t,message:e}),[t,e])};r();n();var Bn=u(g());var On=()=>{let{quoteStore:o}=d(),{computedNotLiquidity:t,computedQuoteErrorMsg:e,computedIsNoOkxLiquidity:s,aggregateSelectId:m}=o,{computedIsCustomLiquidity:a,computedIds:i}=B,l=m&&m!==Co;return(0,Bn.useMemo)(()=>xr({customNotLiquidity:Boolean(a&&s),computedIsCustomLiquidity:Boolean(a),hasLiquidityError:t,dexIdsLength:i?.length||0,openLiquidityDialog:()=>{F.setLiquidityModelVisible(!0)},message:e,isThirdPartySelected:Boolean(l)}),[a,s,t,i?.length,e,l])};r();n();var qn=u(g());r();n();var Ne=u(g());function Fn(){let{quoteStore:o,swapDappStore:t,fromToStore:e}=d(),s=(0,Ne.useCallback)(()=>e.computedFormToTokenIsLeverageToken?!1:t.computedSupportDappTradeByChain?!0:o.computedSupportDappTradeByQuote,[e.computedFormToTokenIsLeverageToken,t.computedSupportDappTradeByChain,o.computedSupportDappTradeByQuote]);return(0,Ne.useMemo)(()=>(Lo.preCheckData?.status===1,s()),[s,Lo.preCheckData?.status])}var Vn=()=>{let o=Fn();return(0,qn.useMemo)(()=>yr({swapOnOtherDappAlert:Boolean(o)}),[o])};r();n();var Un=u(g());var Gn=()=>{let{preCheckData:o}=Lo;return(0,Un.useMemo)(()=>!o||o?.status===0?null:{tier:0,notification:ge["PRE_CHECK_ERROR"]({title:o?.msg,type:o?.type})},[o])};r();n();var Wn=u(g());var jn=()=>{let{quoteStore:o}=d(),{computedQuoteError:t,computedQuoteErrorMsg:e}=o;return(0,Wn.useMemo)(()=>Tr({hasQuoteError:t,message:e,useInsufficientLiquidityType:!0}),[t,e])};r();n();var Qn=u(g());var Hn=()=>{let{fromToStore:o,quoteStore:t}=d(),{from:e}=o,{computedQuoteErrorMsg:s}=t;return(0,Qn.useMemo)(()=>gr({isHoneypot:Boolean(e?.isHoneypot),tokenSymbol:e?.tokenSymbol||"",message:s}),[e?.isHoneypot,e?.tokenSymbol,s])};r();n();var Yn=u(g());R();var Xn=()=>{let{quoteStore:o,fromToStore:t}=d(),{from:e,to:s}=t,m=P(o.quote,"commonDexInfo",null),a=Me(e),i=Me(s);return(0,Yn.useMemo)(()=>{if(!a&&!i||!m?.tradeTaxes)return null;let l=yt(to.mul(m?.tradeTaxes,100),{needZero:!1}),c;if(a&&i)c=ho("wallet_swap_toast_pair_token_tax_warning",{token1:e?.tokenSymbol,token2:s?.tokenSymbol,value:l});else if(a)c=ho("wallet_swap_toast_token_tax_warning",{token:e?.tokenSymbol,value:l});else if(i)c=ho("wallet_swap_toast_token_tax_warning",{token:s?.tokenSymbol,value:l});else return null;return{tier:1,notification:{type:jo.TYPE.warn,title:c}}},[m,e,s,a,i])};r();n();var Zn=u(g());r();n();var zn=u(g());var Kn=({defiPlatformId:o,from:t,amount:e,approveTokensConfig:s,isCancelApproveStatus:m})=>{let{accountStore:a}=d(),{isConnectedWallet:i}=a;return(0,zn.useMemo)(()=>{let c=t?.balance||t?.amountNum,h=!1,p=new mt.BigNumber(e).isLessThanOrEqualTo(c||0);return i&&p&&m(t,o)&&(h=!0),{isNeedCancelApprove:h,tokenSymbol:t?.tokenSymbol}},[t,o,e,i,s])};var $n=()=>{let{quoteStore:o,fromToStore:t,approveStore:e}=d(),{from:s,computedTypedValue:m}=t,a=o.quote?.bestRoute?.defiPlatformId,i=Kn({defiPlatformId:a,from:s,amount:m,approveTokensConfig:e.approveTokensConfig,isCancelApproveStatus:e.isCancelApproveStatus});return(0,Zn.useMemo)(()=>{if(!i?.isNeedCancelApprove)return null;let l=ge["REVOKE_APPROVE"]({tokenSymbol:i?.tokenSymbol||""});return{tier:0,notification:{...l,type:jo.TYPE.error}}},[i?.isNeedCancelApprove,i?.tokenSymbol])};r();n();var He=u(g());var Jn=()=>{let{quoteStore:o,fromToStore:t,commonStore:e}=d(),{from:s,to:m}=t,{computedQuoteError:a,quote:i}=o,l=(0,He.useMemo)(()=>{if(a)return{showValueDiffDialog:!1,loseDiffValueTxt:""};let{showValueDiffDialog:c,diffPercent:h,diffVal:p}=Ot({pay:s?.usdPrice,receive:m?.usdPrice,quoteDiffValThreshold:i?.bestRoute?.quoteDiffValThreshold,quoteDiffPercentThreshold:i?.bestRoute?.quoteDiffPercentThreshold}),_=e.currencyConversion(p?.replace("-","")||"0");return{showValueDiffDialog:c,loseDiffValueTxt:Ft(h||"0",_,e.computedNowCurrencySymbol)}},[a,s?.usdPrice,m?.usdPrice,i?.bestRoute?.quoteDiffValThreshold,i?.bestRoute?.quoteDiffPercentThreshold,e]);return(0,He.useMemo)(()=>Ir({showValueDiffDialog:l.showValueDiffDialog,loseDiffValueTxt:l.loseDiffValueTxt}),[l.showValueDiffDialog,l.loseDiffValueTxt])};var os=()=>{let o=Gn(),t=Mn(),e=Dn(),s=$n(),m=vn(),a=bn(),i=On(),l=Vn(),c=Ln(),h=jn(),p=Hn(),_=Xn(),C=Jn();return dr([o,t,e,m,a,l,s,i,c,h,p,_,C])};var ts=T(({isSkeleton:o,className:t})=>{let e=os();return es.default.createElement(wr,{reminders:e,isSkeleton:o,className:t})});r();n();var ue=u(g());r();n();var H=u(g());R();var js=({typeList:o,jitoData:t})=>{let{min:e,max:s}=(0,H.useMemo)(()=>{let N=o?.[0],v=o?.[2];return{min:N,max:v}},[o]),m=(0,H.useMemo)(()=>e&&s?`${W(e.fee,{useScientificNotation:!0})} ~ ${W(s.fee,{useScientificNotation:!0})}`:null,[e,s]),{solTokenSymbol:a,maxFee:i}=t||{},[l,c]=(0,H.useState)(),[h,p]=(0,H.useState)(""),[_,C]=(0,H.useState)(""),[k,y]=(0,H.useState)(!1);(0,H.useEffect)(()=>{p(null),C(null),to.gt(l,i)?(C(null),p(S("swaptrade_modal_dialog_error_max_priority_fee",{num:i,symbol:a}))):to.lt(l,e?.fee)?(p(null),C(S("swaptrade_modal_dialog_error_low_priority_fee",{marketFee:W(e.fee,{useScientificNotation:!0}),turboFee:W(s.fee,{useScientificNotation:!0})}))):to.gt(l,s?.fee)?(p(null),C(S("swaptrade_modal_dialog_error_high_priority_fee",{marketFee:W(e.fee,{useScientificNotation:!0}),turboFee:W(s.fee,{useScientificNotation:!0})}))):p(null)},[l,s,e,a,i]);let A=(0,H.useMemo)(()=>!l||!!h||to.lte(l,0),[h,l]);return{customAmount:l,setCustomAmount:c,handleCustomAmount:N=>{if(!N){c(N);return}let v=It(N);!ot(v)&&c(v,!0)},placeholder:m,solTokenSymbol:a,maxFee:i,errorTips:h,warningTips:_,confirmDisabled:A,activate:k,setActivate:y}},rs=js;r();n();var ve=u(g());var ns="solana_fee_type",ss=({handleCustomAmount:o,updateType:t})=>{let{solanaPriorityFeeStore:e}=d(),{setFeeType:s,setCustomFee:m}=e||{};return(0,ve.useEffect)(()=>{let i=vo.get(ns);!i||!s||!At.includes(i.type)||(s(i.type),t?.(i.type),m(i.customAmount),o(i.customAmount))},[]),{setLocalFeeType:(0,ve.useCallback)(({type:i,customAmount:l})=>{vo.set(ns,{type:i,customAmount:l})},[])}};r();n();var bo=u(g()),Xe=u(E());r();n();var yo=u(g());r();n();var w=u(g()),$=u(E());R();r();n();var is=u(g());var ms=({selector:o,place:t,scroll:e})=>{let[s,m]=(0,is.useState)({});return{tgStyle:s,tgFocus:()=>{Ao()&&!Ee.isDesktop&&(m({marginBottom:t}),setTimeout(()=>{document.querySelector(o).scrollTo({top:e})},200))},tgBlur:()=>{Ao()&&!Ee.isDesktop&&m({})}}};r();n();var b={"custom-input":"_custom-input_8chj3_1",customInput:"_custom-input_8chj3_1","custom-input-suffix":"_custom-input-suffix_8chj3_4",customInputSuffix:"_custom-input-suffix_8chj3_4","meme-mode-suffix":"_meme-mode-suffix_8chj3_7",memeModeSuffix:"_meme-mode-suffix_8chj3_7","input-box":"_input-box_8chj3_10",inputBox:"_input-box_8chj3_10","error-tips":"_error-tips_8chj3_13",errorTips:"_error-tips_8chj3_13","warning-tips":"_warning-tips_8chj3_23",warningTips:"_warning-tips_8chj3_23",ellipsis:"_ellipsis_8chj3_33","mobile-custom":"_mobile-custom_8chj3_39",mobileCustom:"_mobile-custom_8chj3_39",selected:"_selected_8chj3_49",top:"_top_8chj3_52","item-content-left":"_item-content-left_8chj3_57",itemContentLeft:"_item-content-left_8chj3_57","item-content-right":"_item-content-right_8chj3_61",itemContentRight:"_item-content-right_8chj3_61","item-text":"_item-text_8chj3_65",itemText:"_item-text_8chj3_65","item-amount":"_item-amount_8chj3_75",itemAmount:"_item-amount_8chj3_75","item-usd":"_item-usd_8chj3_84",itemUsd:"_item-usd_8chj3_84","arrow-icon":"_arrow-icon_8chj3_94",arrowIcon:"_arrow-icon_8chj3_94"};var Qs=({value:o,onChange:t,solTokenSymbol:e,placeholder:s,error:m=!1,errorTips:a="",warningTips:i="",currencySymbol:l,currencyReConversion:c,jitoData:h,activate:p,setActivate:_,selectedType:C,memeMode:k})=>{let{icon:y,iconColor:A,text:L}=_e[To.CUSTOM],{solPrice:N}=h||{},v=(0,w.useMemo)(()=>!o||!N?null:No(c(to.mul(o,N,{returnString:!0})),l),[c,o,N,l]),{tgBlur:q,tgFocus:lo,tgStyle:uo}=ms({selector:".priority-fee-tg-scroll-box",scroll:100,place:200}),[Y,po]=(0,w.useState)(null);return(0,w.useEffect)(()=>{p&&Ke(P(Y,"focus"))&&Y.focus()},[p,Y]),w.default.createElement("div",{className:(0,$.default)(b.mobileCustom,{[b.selected]:p||C===To.CUSTOM}),style:uo},w.default.createElement(Wo,{className:b.top,onClick:()=>{_(!p)}},w.default.createElement("div",{className:(0,$.default)(b.itemContentLeft)},w.default.createElement(oo,{className:(0,$.default)(y),style:{color:A,fontSize:32}}),w.default.createElement("p",{className:(0,$.default)("font-16 font-bold",b.itemText)},S(L))),w.default.createElement("div",{className:(0,$.default)(b.itemContentRight)},o?w.default.createElement("div",{className:(0,$.default)(b.itemAmount)},w.default.createElement("p",{className:(0,$.default)("font-16 font-bold",b.itemTokenAmount)},W(o)," ",e),w.default.createElement("p",{className:(0,$.default)(b.itemUsd)},"\u2248 ",v)):null,w.default.createElement(oo,{className:(0,$.default)(p?"okx-defi-up":"okx-defi-down",b.arrowIcon)}))),w.default.createElement("div",null,p&&w.default.createElement(w.default.Fragment,null,w.default.createElement(X.Number,{onRef:co=>{po(co)},error:m,errorType:X.TIP_TYPE.always,className:b.customInput,size:X.SIZE.xl,value:o,onChange:t,onFocus:lo,onBlur:q,placeholder:s,suffix:w.default.createElement("span",{className:k?b.memeModeSuffix:b.customInputSuffix},e)}),a&&w.default.createElement("p",{className:b.errorTips},a),i&&w.default.createElement("p",{className:b.warningTips},i))))},as=Qs;var Hs=o=>{let{value:t,onChange:e,solTokenSymbol:s,placeholder:m,error:a=!1,errorTips:i="",warningTips:l="",setActivate:c,memeMode:h}=o,{isSm:p}=z();return p?yo.default.createElement(as,{...o}):yo.default.createElement(yo.default.Fragment,null,yo.default.createElement(X.Number,{error:a,errorType:X.TIP_TYPE.always,className:b.customInput,innerClassName:b.inputBox,size:X.SIZE.xl,value:t,onChange:e,placeholder:m,onFocus:()=>{c(!0)},onBlur:()=>{t||c(!1)},suffix:yo.default.createElement("span",{className:h?b.memeModeSuffix:b.customInputSuffix},s)}),i&&yo.default.createElement("p",{className:b.errorTips},i),l&&yo.default.createElement("p",{className:b.warningTips},l))},ls=Hs;r();n();var Ye=u(g()),ps=u(E());r();n();var Io=u(g()),wo=u(E());r();n();var J={ellipsis:"_ellipsis_17v8f_1","list-content":"_list-content_17v8f_7",listContent:"_list-content_17v8f_7","item-md-content":"_item-md-content_17v8f_17",itemMdContent:"_item-md-content_17v8f_17",selected:"_selected_17v8f_33","item-content-left":"_item-content-left_17v8f_36",itemContentLeft:"_item-content-left_17v8f_36","item-text":"_item-text_17v8f_47",itemText:"_item-text_17v8f_47","item-amount":"_item-amount_17v8f_64",itemAmount:"_item-amount_17v8f_64","item-token-amount":"_item-token-amount_17v8f_79",itemTokenAmount:"_item-token-amount_17v8f_79","item-usd":"_item-usd_17v8f_86",itemUsd:"_item-usd_17v8f_86"};var Ys=({selectedType:o,item:t,currencyReConversion:e,currencySymbol:s,onClick:m,activate:a,showLogo:i=!0,showUSD:l=!0})=>{let{type:c,fee:h,usd:p,solTokenSymbol:_}=t,{iconColor:C,text:k,icon:y}=_e[c];return Io.default.createElement(Wo,{className:(0,wo.default)(J.itemMdContent,{[J.selected]:o===c&&!a}),onClick:()=>{m(c)}},Io.default.createElement("div",{className:(0,wo.default)(J.itemContentLeft)},i&&Io.default.createElement(oo,{className:(0,wo.default)(y),style:{color:C,fontSize:32}}),Io.default.createElement("p",{className:(0,wo.default)("font-16 font-bold",J.itemText)},S(k))),Io.default.createElement("div",{className:(0,wo.default)(J.itemAmount)},Io.default.createElement("p",{className:(0,wo.default)("font-16 font-bold",J.itemTokenAmount)},W(h,{useScientificNotation:!0})," ",_),l&&Io.default.createElement("p",{className:(0,wo.default)(J.itemUsd)},"\u2248 ",No(e(p),s))))},us=Ys;var Xs=({list:o,onClick:t,selectedType:e,currencyReConversion:s,currencySymbol:m,activate:a,memeMode:i})=>Ye.default.createElement("div",{className:(0,ps.default)("mt-16",J.listContent)},o?.map(l=>Ye.default.createElement(us,{item:l,key:l.type,selectedType:e,currencyReConversion:s,currencySymbol:m,onClick:t,activate:a,showLogo:!i,showUSD:!i}))),cs=Xs;r();n();var le={header:"_header_t8i9s_1",content:"_content_t8i9s_6","meme-mode":"_meme-mode_t8i9s_16",memeMode:"_meme-mode_t8i9s_16",title:"_title_t8i9s_19"};var zs=({customAmount:o,handleCustomAmount:t,placeholder:e,solTokenSymbol:s,errorTips:m,warningTips:a,activate:i,setActivate:l,memeMode:c=!0,feeType:h,onClick:p})=>{let{solanaPriorityFeeStore:_,commonStore:C}=d(),{computedPriorityFeeList:k,jitoData:y}=_||{},{currencyReConversion:A,computedNowCurrencySymbol:L}=C;return bo.default.createElement("div",{className:(0,Xe.default)(le.content,{[le.memeMode]:c})},!c&&bo.default.createElement("p",{className:(0,Xe.default)("font-12 font-400",le.title)},S("swaptrade_modal_dialog_desc_priority")),c&&bo.default.createElement("div",{className:le.header},bo.default.createElement(Mt,null),bo.default.createElement(Pt,null)),bo.default.createElement(cs,{list:k,currencySymbol:L,currencyReConversion:A,selectedType:h,onClick:p,activate:i,memeMode:c}),bo.default.createElement(ls,{value:o,placeholder:e,onChange:t,solTokenSymbol:s,errorTips:m,warningTips:a,error:!!m,currencySymbol:L,currencyReConversion:A,jitoData:y,activate:i,setActivate:l,memeMode:c}))},fs=T(zs);var Ks=()=>{let{solanaPriorityFeeStore:o}=d(),{computedPriorityFeeList:t,jitoData:e,setFeeType:s,feeType:m}=o||{},{customAmount:a,handleCustomAmount:i,placeholder:l,solTokenSymbol:c,errorTips:h,warningTips:p,confirmDisabled:_,activate:C,setActivate:k}=rs({typeList:t,jitoData:e}),{setLocalFeeType:y}=ss({handleCustomAmount:i}),{visible:A,setVisible:L,setCustomFee:N}=o,v=(0,ue.useCallback)(q=>{Ve(q),s(q),L(!1),N(null),k(!1),i(""),y({type:q})},[]);return ue.default.createElement(go.Action,{visible:A,title:S("swaptrade_modal_dialog_title_priority"),scrollBoxClassName:"priority-fee-tg-scroll-box",onClose:()=>{L(!1),i(m===To.CUSTOM?a:null),k(!1)},noContentPadding:!0,confirmDisabled:_,confirmText:S("commonall_text_btn_confirm"),onConfirm:()=>{L(!1),Ve(To.CUSTOM,a),N(a),s(To.CUSTOM),y({type:To.CUSTOM,customAmount:a})}},ue.default.createElement(fs,{customAmount:a,handleCustomAmount:i,placeholder:l,solTokenSymbol:c,errorTips:h,warningTips:p,activate:C,setActivate:k,memeMode:!1,feeType:m,onClick:v}))},ds=T(Ks);r();n();var _s=u(g());var gs=o=>{let{accountStore:t}=d(),{computedAccountId:e,setReferralInfo:s,computedSignWalletAddress:m}=t;(0,_s.useEffect)(()=>{if(!o||!e){s({refCode:"",referralCommissionAddress:""});return}(async()=>{try{let i=await vt(m,Number(o)),{refCode:l="",referralCommissionAddress:c=""}=i||{};s({refCode:l,referralCommissionAddress:c})}catch(i){Nt.error(bt.GET_REFERRAL_CODE_FOR_QUOTE_ERROR,{error:i,data:{chainId:o,address:m}})}})()},[o,e,m,s])};r();n();var Mo=u(g());r();n();var pe=u(g());r();n();var Ss={from:{chainId:null,tokenContractAddress:null},to:{chainId:null,tokenContractAddress:null}},Zs=o=>{if(!o)return Ss;let t={[Ho.SWAP]:St,[Ho.BRIDGE]:ht},e;return o===Ho.LIMIT_ORDER?e=vo.get(Ct)||vo.get(Tt)?.LIMIT_ORDER:e=vo.get(t[o]),!e?.from?.tokenContractAddress||!e?.from?.chainName?Ss:e},hs=Zs;var $s={from:{chainId:null,tokenContractAddress:null},to:{chainId:null,tokenContractAddress:null}},Js=({loading:o,type:t,from:e,to:s})=>{let{params:m}=jt(),a=hs(t),i=(0,pe.useMemo)(()=>Wt(m),[m]),l=(0,pe.useMemo)(()=>{if(o)return!0;let _=it()?$s:a;return i?!_.from.tokenContractAddress:!e.tokenContractAddress},[o,a,i,e]),c=(0,pe.useMemo)(()=>i&&!e.tokenContractAddress?a.from:e,[i,a,e]),h=(0,pe.useMemo)(()=>i&&!s.tokenContractAddress?a.to:s,[i,a,s]);return{loading:l,computedFrom:c,computedTo:h}},Cs=Js;var ks=()=>{let{fromToStore:o,slippageStore:t}=d(),{to:e,from:s,computedIsSingleChain:m}=o,{computedFrom:a,computedTo:i}=Cs({loading:!1,type:"swap",from:s,to:e}),l=(0,Mo.useRef)(!1),c=(0,Mo.useRef)(Number.MIN_SAFE_INTEGER);(0,Mo.useEffect)(()=>{l.current=Boolean(re.swapConfig?.chainId),l.current&&O()&&t.setSlippageSetting(re.slippageSetting)},[]),(0,Mo.useEffect)(()=>{if(c.current!==a.chainId){c.current=a.chainId;return}re.swapConfig?.chainId&&!l.current&&ir(re.swapConfig)},[a.tokenContractAddress,i.tokenContractAddress,a.chainId]),(0,Mo.useEffect)(()=>{if(l.current&&O()){l.current=!1;return}a.chainId&&mr(a.chainId)},[m,a.chainId,i.chainId])};r();n();var Ts=u(g());R();var oi={["UN_CONNECTED_WALLET"]:at,["NOT_SUPPORT_WALLET"]:ee,["DISABLED"]:ee,["DAPP"]:_t,["FILL_UP"]:lt,["UNAPPROVED"]:ut,["APPROVING"]:pt,["CANCEL_APPROVE"]:ct,["CANCEL_APPROVING"]:ft,["TRADE_DISABLED"]:ee,["TRADE_ACTIVE"]:dt};function xs(){let{fromToStore:o,swapBtnStore:t,accountStore:e,quoteStore:s,slippageStore:m,approveStore:a,outerStore:i,safeMoonStore:l,swapDappStore:c}=d(),{from:h,to:p,computedTypedValue:_,computedIsCrossChain:C,isBalanceLoading:k,fromBalanceState:y}=o,{swapBtnLoading:A,isInterceptionProcessing:L}=t,{isConnectedWallet:N,hasInitWalletInfo:v,computedNonsupportChain:q}=e,{computedQuoteIsNewAddress:lo,quote:{isFetchQuoting:uo,bestRoute:Y,quoteError:po,quoteNull:co},computedSupportDappTradeByQuote:G,computedIsOkxProvider:Jo}=s,{computedRealSlippageValue:Bo}=m,{getApprovalStatus:Oo,approveTokensConfig:fo}=a,{preChecking:Fo,preCheckData:qo,computedPreCheckMsg:Vo}=Lo,Ro=i?.computedFeeConfigErrorTips,_o=l?.computedInputVal||"",Uo=c?.checkShouldJumpToDapp,ce=br({chainId:h.chainId}),Go=Nr({isSingleChain:!C,isOkxAggregator:Jo,isChainSupportBatchBroadcast:ce}),oe=(0,Ts.useMemo)(()=>{let ys=qr({preChecking:Fo,preCheckData:qo,computedPreCheckMsg:Vo,isConnectedWallet:N,hasInitWalletInfo:v,computedNonsupportChain:q,computedQuoteIsNewAddress:lo,isFetchQuoting:uo,bestRoute:Y,quoteError:po,quoteNull:co,fromToken:h,toToken:p,computedTypedValue:_,computedIsCrossChain:C,slippage:Bo,computedFeeConfigErrorTips:Ro,computedInputVal:_o,checkShouldJumpToDapp:Uo,isInterceptionProcessing:L,isBalanceLoading:k,fromBalanceState:y,getApprovalStatus:Oo,approveAction:Qt,computedIsChainSupportDappTrade:G,isSupportSignApprovalAndSwap:Go}),Is=Fr(ys,"TRADE_DISABLED");return oi[Is]||ee},[Fo,qo,Vo,N,v,q,lo,uo,Y,po,co,h,p,_,C,k,y,Bo,Ro,_o,Uo,L,fo,Oo,G,Go]);return t.getBtnAllStatus({from:h,swapLoading:A,toUsdPrice:P(p,"usdPrice")})[oe]}r();n();var ao={container:"_container_xj3be_1",scroll:"_scroll_xj3be_6",wrap:"_wrap_xj3be_10","wallet-header":"_wallet-header_xj3be_15",walletHeader:"_wallet-header_xj3be_15","input-panel-box":"_input-panel-box_xj3be_19",inputPanelBox:"_input-panel-box_xj3be_19","mb-6":"_mb-6_xj3be_23",mb6:"_mb-6_xj3be_23","swap-to-panel":"_swap-to-panel_xj3be_26",swapToPanel:"_swap-to-panel_xj3be_26"};var ei=()=>{let{commonStore:o,accountStore:t,fromToStore:e,quoteStore:s,safeMoonStore:m}=d(),{chainListLoadError:a}=o,{to:i,from:l,onClickMax:c,onSwitchFromTo:h,setStorageShowMaxDialog:p,visibleMaxDialog:_,computedIsCrossChain:C,computedFromGasDropAmount:k,computedIsSingleChain:y,computedMaxTipsText:A}=e,{computedInputVal:L,computedOutputVal:N,computedOutputPopVal:v}=m,{computedNonsupportChain:q,getAddressByChainId:lo}=t;Ar(),Ht(),Pr({computedIsSingleChain:y,chainId:l.chainId,clearProps:[l.tokenSymbol,i.tokenSymbol]}),Dr(),(0,x.useEffect)(()=>{if(l.chainId){let oe=lo(l.chainId);fr.tradePreCheck({chainId:l.chainId,userWalletAddress:oe})}},[l.chainId]),pr(t);let{computedCurrentTimerQuoteState:{isShowLoadingCpt:uo},getGasTokenFeeLoading:Y,compareVisible:po,setCompareVisible:co}=s,G=!l.tokenContractAddress,{extensionHeaderSettingMap:Jo}=Or();gs(l.chainId),Lr(),ks();let{handleTypeInput:Bo,handleTypeOutput:Oo}=Mr(),{handleOpenSelectToken:fo,tokenModalVisible:Fo,tokenListPageTitle:qo,changeTokenModalVisible:Vo}=ur(),Ro=s.quote.quoteError||s.quote.quoteNull||m.computedHoneypot||q,{fromCurrencyInputProps:_o,toCurrencyInputProps:Uo}=Er(),ce=vr(),Go=xs(),ze=(0,x.useMemo)(()=>({...Go,onClick:async()=>{let oe=await ce(y);Go.onClick(oe)}}),[y,ce,Go]);return a?x.default.createElement(lr,null):x.default.createElement("div",{className:ao.container},x.default.createElement("div",{className:ao.scroll},x.default.createElement("div",{className:ao.wrap},x.default.createElement(Xt,{...Jo[Ho.SWAP],outClassName:(0,Ae.default)(ao.walletHeader)}),x.default.createElement("div",{className:ao.inputPanelBox},x.default.createElement(Se,{loading:G,height:128,className:ao.mb6},x.default.createElement(Oe,{isExtension:!0,computedIsSingleChain:y,className:(0,Ae.default)(ao.mb6),token:l,type:te.FROM,onClickMax:c,showMax:_o.showMax,computedFromGasDropAmount:k,showMaxIcon:_o.showMaxIcon,value:L,costValue:_o.costValue,onChange:Bo,openSelectToken:()=>{fo(te.FROM)},label:S("swaptrade_card_swap_label1_pay"),balanceStatus:_o.balanceStatus,visibleMaxDialog:_,maxDialogConfirm:p,maxTipsText:A,gasFeeLoading:Y,disableInput:_o.disableInput,disabledTokenSelect:!l.chainId})),x.default.createElement("div",{className:(0,Ae.default)(ao.swapToPanel)},x.default.createElement(zt,{onSwitchFromTo:h}),x.default.createElement(Se,{loading:G,height:128},x.default.createElement(Oe,{isExtension:!0,computedIsSingleChain:y,value:N,costValue:Uo.costValue,popover:v,onChange:Oo,token:i,type:te.TO,openSelectToken:()=>{fo(te.TO)},label:S("swaptrade_card_swap_label2_receive"),computedValueDifference:Uo.valueDifference,balanceStatus:Uo.balanceStatus,computedIsCrossChain:C,disabledTokenSelect:!i.chainId})))),x.default.createElement(Eo,null,x.default.createElement(Eo.Item,{id:"swapMessageCenter"},x.default.createElement(ts,{isSkeleton:G,className:"mt-16"})),x.default.createElement(Eo.Item,{id:"detail"},x.default.createElement(ar,{isSkeleton:G}))))),x.default.createElement(Se,{style:{marginTop:16,borderRadius:24},loading:G,height:48},x.default.createElement(Yt,{skeleton:!0,btnData:ze,isShowLoadingCpt:G||uo,isShowError:Ro,size:V.SIZE.lg})),x.default.createElement(cr,{visible:Fo,setVisible:Vo,title:qo}),x.default.createElement(Br,null),x.default.createElement(In,null),x.default.createElement(cn,{visible:po,setVisible:co}),x.default.createElement(Vr,{dialogProps:{isFull:!0,showBackBtn:!0,hideCloseBtn:!0}}),x.default.createElement(ds,null))},Zg=T(ei);export{Zg as default};
//# sourceMappingURL=Swap-2FQSD2QU.js.map
