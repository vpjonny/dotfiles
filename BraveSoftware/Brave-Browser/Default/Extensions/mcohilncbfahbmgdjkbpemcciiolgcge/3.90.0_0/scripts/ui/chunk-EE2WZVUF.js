import{a as Lo}from"./chunk-5SRO437B.js";import{b as Oo}from"./chunk-AI4OWM3D.js";import{a as vo}from"./chunk-42JHCNWD.js";import{b as Ao}from"./chunk-2GCSMZTD.js";import{b as Wo}from"./chunk-J5NCS5VO.js";import{a as Mo}from"./chunk-NP6SC5QM.js";import{a as Do}from"./chunk-4VVKOCP5.js";import{a as Po}from"./chunk-IUZFRS2D.js";import{a as Bo}from"./chunk-T4R2WCFV.js";import{a as Co,e as bo,f as wo}from"./chunk-HUZIRVCJ.js";import{a as Eo,b as We}from"./chunk-O652XWZZ.js";import{b as nt}from"./chunk-BDXN3GYH.js";import{a as Fe}from"./chunk-ZTAEYDNS.js";import{a as rt}from"./chunk-Q7O5JTSP.js";import{a as No}from"./chunk-5HKBJUHN.js";import{a as ko}from"./chunk-LHFDZX73.js";import{c as To}from"./chunk-QR6SNDPA.js";import{a as uo,b as fo,c as xo,e as go,f as Io,g as ho,i as yo,k as Me,l as So}from"./chunk-XHRUTTJG.js";import{a as qe,c as Vt}from"./chunk-JGDE735D.js";import{c as lo}from"./chunk-RQUKPC6Z.js";import{a as Oe}from"./chunk-LIF3EEZV.js";import{e as Ht,f as zt}from"./chunk-GHRGCPR7.js";import{a as oo}from"./chunk-JNWSF6O6.js";import{h as _o}from"./chunk-MLF4IONJ.js";import{f as Mt}from"./chunk-CBZ2RV36.js";import{b as mo}from"./chunk-QMHGGMPE.js";import{a as po}from"./chunk-GVYIP5Q5.js";import{Na as we,X as Ke,_ as Wt,da as be}from"./chunk-VHMBEOFX.js";import{n as io}from"./chunk-CKHT4PIF.js";import{h as Pe}from"./chunk-ZZBUS7GI.js";import{c as S}from"./chunk-PMG6IXOR.js";import{a as D}from"./chunk-BD5XO4WL.js";import{c as jt,d as Yt}from"./chunk-7U7FORYL.js";import{b as co}from"./chunk-YVLQLIW6.js";import{a as Xt}from"./chunk-HBXZ3GPM.js";import{a as _r,o as m}from"./chunk-N6PI3XTA.js";import{h as se,j as Le}from"./chunk-WYX7GFOD.js";import{f as Zt,g as ao}from"./chunk-MJSLAJV6.js";import{l as Ut,p as $t,z as Rt}from"./chunk-KC2XLVFC.js";import{B as Ne,F as Ee,P as Pt,T as Ce,V as Ot,g as Dt,qa as M,ra as I}from"./chunk-MJDO2VHF.js";import{h as Ft,k as Gt}from"./chunk-TBQGFYU3.js";import{$ as Jt,L as Qt,a as qt,j as Ae,la as eo,oa as to,yb as Je}from"./chunk-QF42JCDG.js";import{c as oe}from"./chunk-EAE2NUFS.js";import{k as Kt}from"./chunk-HZOYPVSA.js";import{g as j,h as Qe}from"./chunk-OKGWI7CU.js";import{a as Te}from"./chunk-RFTC6RNT.js";import{c as i}from"./chunk-3FMJDUGT.js";import{c as dt}from"./chunk-2O5TMJZM.js";import{K as ft}from"./chunk-UI4IZNSB.js";import{E as ke,F as xt,G as gt,H as It,I as ht,J as yt,K as St,L as Tt,M as kt,Mb as Lt,N as Nt,P as Et,U as Ct,W as bt,X as wt,Y as At,Z as vt,d as he,ub as Bt,w as Se}from"./chunk-EQ34WRCJ.js";import{C as ut,g as _t,p as E,s as ye}from"./chunk-DSNMNSMD.js";import{a as re}from"./chunk-DOSBJ3L3.js";import{A as ne,E as so,J as me,f as Be,j as tt,n as no,o as De,x as ot}from"./chunk-URGJ6D4O.js";import{a as et}from"./chunk-IQUFNLVG.js";import{C as V,t as W,w as ro}from"./chunk-XYWWXNVK.js";import{a as ve}from"./chunk-FB3ILH2L.js";import{b as N}from"./chunk-FLSAETOH.js";import{Aa as pr,J as pt}from"./chunk-4C5HF6J2.js";import{f,o,q as r}from"./chunk-UWURTNRY.js";o();r();var Fo=f(N());var Dr=e=>{let t=I(Ne),a=I(Ee)[e||t];return(0,Fo.useMemo)(()=>a?.keyringIdentityType===Lt.MPC,[a])};o();r();var _=f(N());var zo=f(re());o();r();var B={main:"_main_mv0wj_1",connectManage:"_connectManage_mv0wj_11",button:"_button_mv0wj_14","divider-line":"_divider-line_mv0wj_24",dividerLine:"_divider-line_mv0wj_24","divider-line__inner":"_divider-line__inner_mv0wj_29",dividerLineInner:"_divider-line__inner_mv0wj_29",left:"_left_mv0wj_34",imgWrapper:"_imgWrapper_mv0wj_41",icon:"_icon_mv0wj_47",chainIcon:"_chainIcon_mv0wj_50",status:"_status_mv0wj_53",origin:"_origin_mv0wj_61",arrowIcon:"_arrowIcon_mv0wj_65",disconnectIcon:"_disconnectIcon_mv0wj_70",divider:"_divider_mv0wj_24"};o();r();var Go=f(N());var Ho=({baseChain:e})=>{let{rpcNetworks:t}=Yt(),s=t?.map(Kt)||[],a=po();return(0,Go.useMemo)(()=>e?e===vt?a.concat(s).find(n=>n.baseChain===e&&n.isDefault):a.find(n=>n.baseChain===e):{},[e,a])};var st=()=>_.default.createElement("div",{className:B.dividerLine},_.default.createElement("div",{className:B["divider-line__inner"]})),ur=({info:e,isNotBackupWallet:t,disconnectCallback:s})=>{let a=(0,zo.useHistory)(),l=M(),n=se(),c=I(P=>Me(P,e?.origin,n)),g=mo(c?.providerType||""),x=I(Ot),d=I(P=>Io(P,x,n)),{chain:T}=d||{},w=io(T,n),v=Ho({baseChain:T}),k=Ao({providerType:g?.providerType??v?.providerType}),H=(0,_.useMemo)(()=>v?.appBaseChain!==k?.appBaseChain?v:k,[k,v]),J=c?.method===vo.walletRequestWallets&&c?.providerType===ke||e?.isOkx,K=(0,_.useMemo)(()=>{if(c?.providerType===yt)return _.default.createElement(_.default.Fragment,null,_.default.createElement(st,null),_.default.createElement(m.Text,{size:m.SIZE.xs,strong:500,ellipsis:!0},E("wallet_extension_cosmos_text_cosmos_network")),_.default.createElement(W,{className:`okx-wallet-plugin-chevron-right ${B.arrowIcon}`}));if(!w?.address&&!e?.isOkx)return null;let P=null;switch(!0){case J:P=_.default.createElement(_.default.Fragment,null,_.default.createElement(st,null),_.default.createElement(m.Text,{size:m.SIZE.xs,strong:500,ellipsis:!0},E("wallet_extension_card_text_all_network")),_.default.createElement(W,{className:`okx-wallet-plugin-chevron-right ${B.arrowIcon}`}));break;case!!w?.address:P=_.default.createElement(_.default.Fragment,null,_.default.createElement(st,null),_.default.createElement(et,{width:14,height:14,alt:"chain",src:H?.imageUrl||H?.icon||j,errorImg:j,pictureClassName:B.chainIcon}),_.default.createElement(m.Text,{size:m.SIZE.xs,ellipsis:!0,strong:500},ao(w.address)),_.default.createElement(W,{className:`okx-wallet-plugin-chevron-right ${B.arrowIcon}`}));break;default:break}return P},[c?.providerType,e?.isOkx,w?.address,H]);if(!e?.originNoPrefix||t)return null;let q=()=>{a.push(Ae)},ee=async()=>{!e||(oe().clearCookie(e.origin),await oe().removePermittedAllAccount(e.origin),await oe().removeSilencePermission(e.origin),s(),await Ft(l))};return _.default.createElement(co,{offsetBottom:0,style:{zIndex:10}},_.default.createElement("div",{className:B.main},_.default.createElement("div",{className:B.left},_.default.createElement("div",{className:B.imgWrapper},_.default.createElement(et,{width:44,height:44,alt:"dapp-icon",src:e?.icon||j,errorImg:j,className:B.icon})),_.default.createElement("div",{className:B.status},_.default.createElement(m.Text,{strong:700,ellipsis:!0,className:B.origin},e?.originNoPrefix),_.default.createElement(i.FlexBox,null,_.default.createElement(i.FlexBox,{align:i.ALIGN.center,onClick:q,className:B.connectManage},_.default.createElement(m.Text,{size:m.SIZE.xs,type:m.TYPE.secondary,style:{color:"var(--okd-color-content-disabled)"},ellipsis:!0},E("extension_defi_bot_text_connected")),K)))),_.default.createElement("div",{className:B.divider}),_.default.createElement(ne,{title:E("wallet_extension_footer_textbtn_disconnect"),placement:ne.DIRECTION.topLeft},_.default.createElement(S.IconButton,{icon:"okx-wallet-plugin-unlink",className:B.disconnectIcon,onClick:ee}))))},gn=ur;o();r();var b=f(N());o();r();var at=f(N());o();r();var Ge={main:"_main_1li3n_1",line:"_line_1li3n_5",dot:"_dot_1li3n_11"};var Vo=({total:e,activeIndex:t,className:s})=>at.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:`${Ge.main} ${s}`},Array(e).fill("").map((a,l)=>at.default.createElement("div",{className:t===l?Ge.line:Ge.dot})));o();r();var He=f(N());o();r();var pe={main:"_main_si9mr_1",icon:"_icon_si9mr_1",left:"_left_si9mr_11"};var Uo=({handlePrev:e,handleNext:t,className:s})=>He.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:`${pe.main} ${s}`},He.default.createElement(S,{size:S.SIZE.xxs,onClick:e,icon:"okx-wallet-plugin-left",className:`${pe.icon} ${pe.left} `}),He.default.createElement(S,{size:S.SIZE.xxs,onClick:t,icon:"okx-wallet-plugin-right",className:pe.icon}));o();r();var Y=f(N());pr();var $o=()=>{let[e,t]=(0,Y.useState)([]),s=I(Vt),a=M(),l=no();(0,Y.useEffect)(()=>{(async()=>{let{data:g=[]}=await ft(dt.getBannerConfig),{uiData:x}=await he.get("uiData"),d=x?.closedBannerStore||[];a(qe({allData:g,closedBanners:d,theme:l})),t(g)})()},[l]);let n=(0,Y.useMemo)(()=>s.length,[s]),c=(0,Y.useCallback)(async g=>{let{uiData:x}=await he.get("uiData"),{closedBannerStore:d=[]}=x,T=d;T.push(g?.id);let w=pt(T,e,(v,k)=>v===k?.id);await he.set({uiData:{...x??{},closedBannerStore:w}}),a(qe({allData:e,closedBanners:w,theme:l}))},[e,l]);return{bannerList:s,total:n,handleClose:c}};o();r();var Zo=f(N()),jo=f(re());o();r();var it=f(N()),Ro=f(re());var fr="smart-account",ze=()=>{let e=(0,Ro.useHistory)(),t=se(),s=Le(t),{data:a}=wo(),l=x=>x.urlType===2&&x.url===`wallet://${fr}`,n=(0,it.useCallback)(()=>Eo(s),[s]),{prefetchSAStatus:c}=Bo(),g=(0,it.useCallback)(()=>{if(!a?.teeStatus)return;if(c(),We(a?.teeStatus)==="not_enabled"){e.push(`${Je}?from=${4 .toString()}&keyringId=${s?.keyringId}`);return}e.push(Je)},[a,s,t]);return{checkIsSaBanner:l,checkSaBannerAvailable:n,clickSaBanner:g}};var Yo=()=>{let e=(0,jo.useHistory)(),{checkIsSaBanner:t,clickSaBanner:s}=ze();return{link:(0,Zo.useCallback)(l=>{if(be({click_close:!1,banner_id:l.id}),t(l)){s();return}switch(l.urlType){case 2:{let n=l.url.replace("wallet://","");e.push(n);break}case 1:globalThis.open(l.url);break;default:break}},[s])}};o();r();var F={"retina-border-basic":"_retina-border-basic_60npk_1",retinaBorderBasic:"_retina-border-basic_60npk_1",main:"_main_60npk_29",carousel:"_carousel_60npk_63",closeWrapper:"_closeWrapper_60npk_67",banner:"_banner_60npk_75",content:"_content_60npk_80",left:"_left_60npk_83",title:"_title_60npk_87",icon:"_icon_60npk_90",buttonIndex:"_buttonIndex_60npk_95",switch:"_switch_60npk_100"};var Gs=()=>{let[e,t]=(0,b.useState)(0),[s,a]=(0,b.useState)(!1),{checkSaBannerAvailable:l,checkIsSaBanner:n}=ze(),c=b.default.useRef(null),{link:g}=Yo(),{bannerList:x,total:d,handleClose:T}=$o(),{isSmartAccountActivatedOnce:w}=Co(),v=(0,b.useMemo)(()=>x.filter(k=>!(n(k)&&(w||!l()))),[x,l]);return d===0?null:b.default.createElement(i.FlexBox,{className:F.main,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},b.default.createElement(tt,{touchSwitch:d>1,className:F.carousel,autoplay:d>1?5e3:!1,ref:c,loop:d>1,navigation:!1,showIndicators:!1,onChange:k=>{t(k)}},v?.map((k,H)=>{let Z=H;return b.default.createElement(tt.Slide,{key:Z},b.default.createElement(i.FlexBox,{className:F.banner},b.default.createElement(i.FlexBox,{onClick:()=>g(k),className:F.content,align:d===1?i.ALIGN.center:i.ALIGN.start},b.default.createElement("div",{className:F.left},b.default.createElement(m.Text,{ellipsis:{rows:2},size:m.SIZE.sm,strong:500,className:F.title},k.title)),b.default.createElement(S,{type:S.TYPE.image,className:F.icon,src:k.img,radius:!1})),b.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:F.closeWrapper,onClick:()=>{be({click_close:!0,banner_id:k.id}),T(k)}},b.default.createElement(W,{className:"okx-wallet-plugin-close"}))))})),d>1&&b.default.createElement("div",null,s?b.default.createElement(Uo,{className:F.switch,handlePrev:()=>c.current?.prev(),handleNext:()=>c.current?.next()}):b.default.createElement(Vo,{total:d,activeIndex:e,className:F.buttonIndex})))};o();r();var Q=f(N()),Ve=f(ve());o();r();var U={"sa-status-bar":"_sa-status-bar_173dm_1",saStatusBar:"_sa-status-bar_173dm_1","sa-status-bar__content":"_sa-status-bar__content_173dm_12",saStatusBarContent:"_sa-status-bar__content_173dm_12","sa-status-bar__icon":"_sa-status-bar__icon_173dm_19",saStatusBarIcon:"_sa-status-bar__icon_173dm_19","sa-status-bar__icon--enabled":"_sa-status-bar__icon--enabled_173dm_30",saStatusBarIconEnabled:"_sa-status-bar__icon--enabled_173dm_30","sa-status-bar__icon--expiring":"_sa-status-bar__icon--expiring_173dm_33",saStatusBarIconExpiring:"_sa-status-bar__icon--expiring_173dm_33","sa-status-bar__icon--expired":"_sa-status-bar__icon--expired_173dm_36",saStatusBarIconExpired:"_sa-status-bar__icon--expired_173dm_36","sa-status-bar__text":"_sa-status-bar__text_173dm_39",saStatusBarText:"_sa-status-bar__text_173dm_39","sa-status-bar__text--expired":"_sa-status-bar__text--expired_173dm_49",saStatusBarTextExpired:"_sa-status-bar__text--expired_173dm_49","sa-status-bar__chevron":"_sa-status-bar__chevron_173dm_52",saStatusBarChevron:"_sa-status-bar__chevron_173dm_52"};var oa=({status:e,data:t,onClick:s,onExpired:a})=>{let l=e==="enabled",n=e==="expiring",c=e==="expired",g=()=>{switch(e){case"enabled":{if(t.teeStatus.autoRenew&&t.teeStatus.teeServiceVersion===t.teeStatus.teeNewestVersion)return ye("wallet_extension_top_banner_auto_renewing");let x=ut.formatDateTime(new Date(t.teeStatus.expiredTimestamp),{format:_t.SimpleDate});return ye("wallet_extension_account_details_status_renew_by_date",{date:x})}case"expiring":return Q.default.createElement(Lo,{key:t.teeStatus.expiredTimestamp,remainingTime:t.teeStatus.expiredTimestamp-Date.now(),expiredTimestamp:t.teeStatus.expiredTimestamp,onFinish:a});case"expired":return ye("wallet_extension_home_top_desc_smart_account_disabled");default:return null}};return["enabled","expiring","expired"].includes(e)?Q.default.createElement("div",{className:U["sa-status-bar"],tabIndex:s?0:void 0,role:s?"button":void 0,onClick:s,onKeyPress:x=>{s&&(x.key==="Enter"||x.key===" ")&&s()},"data-testid":lo.HOME_PAGE_SA_STATUS_BAR,"aria-disabled":c},Q.default.createElement("div",{className:U["sa-status-bar__content"]},Q.default.createElement(W,{className:(0,Ve.default)("okx-wallet-plugin-bot-filled",U["sa-status-bar__icon"],{[U["sa-status-bar__icon--enabled"]]:l||n,[U["sa-status-bar__icon--expired"]]:c}),fontSize:"20px"}),Q.default.createElement("div",{className:(0,Ve.default)(U["sa-status-bar__text"],{[U["sa-status-bar__text--expired"]]:e==="expired"})},g())),Q.default.createElement(W,{className:(0,Ve.default)("okx-wallet-plugin-chevron-right",U["sa-status-bar__chevron"]),"aria-hidden":"true",fontSize:"18px"})):null};o();r();var p=f(N());var rr=f(re());var $e=f(ve()),nr=f(_r());o();r();var G=f(N());var xr=Oe(()=>import("./Toolkit-CDPIOELW.js"),"Toolkit");function _e({visible:e,onClose:t}){return G.default.createElement(G.default.Fragment,null,G.default.createElement(G.Suspense,{fallback:null},G.default.createElement(De,{footer:null,alignBottom:!0,maskClosable:!0,noContentPadding:!0,noMargin:!0,title:G.default.createElement("div",null),topClassName:rt.dialogHeader,visible:e,onClose:t},G.default.createElement("div",{className:rt.toolkitWrapper},G.default.createElement(xr,null)))))}o();r();var X=f(N()),Ko=f(re());o();r();var Xo={container:"_container_108va_1"};var gr=({currentNetwork:e})=>{let t=(0,X.useMemo)(()=>{let{chainName:n,icon:c,id:g}=e;return g===""?{size:"22px",fontSize:"22px",icon:c,type:"icon",text:n,defaultIcon:j}:{size:"22px",fontSize:"22px",src:c,text:n,defaultIcon:j}},[e]),s=(0,Ko.useHistory)(),a=Fe(we),l=(0,X.useCallback)(()=>{a({homepage:"network"}),s.push(`${Jt}?tab=${e?.networkType}`)},[s,e]);return X.default.createElement("div",{className:Xo.container,onClick:l},X.default.createElement(S,{...t}))},qo=()=>{let e=Do();return e?X.default.createElement(gr,{currentNetwork:e}):null};o();r();var $=f(N());o();r();var Qo={addressIcon:"_addressIcon_1kfaz_1"};var Ir=Oe(()=>import("./DropCopy-MGDU4WBZ.js"),"DropCopy"),hr=({visible:e,addresses:t,hotAddresses:s,setVisible:a})=>$.default.createElement($.default.Fragment,null,$.default.createElement(S.IconButton,{size:S.SIZE.md,icon:"okx-wallet-plugin-copy-3",className:Qo.addressIcon}),e?$.default.createElement($.Suspense,{fallback:null},$.default.createElement(Ir,{visible:e,setVisible:a,CopyButton:()=>$.default.createElement("div",null),addresses:t,hotAddresses:s})):null),Jo=hr;o();r();var A={main:"_main_1v96i_1","main--sticky":"_main--sticky_1v96i_10",mainSticky:"_main--sticky_1v96i_10",avatar:"_avatar_1v96i_13",editMask:"_editMask_1v96i_24",editIcon:"_editIcon_1v96i_43",topTitle:"_topTitle_1v96i_47",content:"_content_1v96i_50",address:"_address_1v96i_56","address__text--enabled":"_address__text--enabled_1v96i_61",addressTextEnabled:"_address__text--enabled_1v96i_61","address__text--expiring":"_address__text--expiring_1v96i_64",addressTextExpiring:"_address__text--expiring_1v96i_64",copyWrapper:"_copyWrapper_1v96i_67",title:"_title_1v96i_71",titleLeft:"_titleLeft_1v96i_74",divider:"_divider_1v96i_77",locking:"_locking_1v96i_81",optionIcon:"_optionIcon_1v96i_86",network:"_network_1v96i_90",setting:"_setting_1v96i_97",chainIcon:"_chainIcon_1v96i_104",unfoldIcon:"_unfoldIcon_1v96i_109","addr-wrapper":"_addr-wrapper_1v96i_112",addrWrapper:"_addr-wrapper_1v96i_112"};o();r();var Ue=f(N());o();r();var er=[{type:"url",to:Qt,label:"wallet_extension_top_hover_settings",icon:"okx-wallet-plugin-settings-2",monitor:"setting"},{type:"url",to:Ae,label:"wallet_extension_home_title_dapps_connection",icon:"okx-wallet-plugin-network",monitor:"connect_dapp"},{type:"sidepanel",icon:"okx-wallet-plugin-home-swap",label:"wallet_extension_home_title_sidebar_mode"},{type:"lock",label:"wallet_settings_btn_lock_wallet",icon:"okx-wallet-plugin-lock-1",monitor:"lock_wallet"}];var tr=()=>{let[e,t]=(0,Ue.useState)(er),{sidepanelAvailable:s,sidepanelMode:a}=I(Ce);return(0,Ue.useEffect)(()=>{t(l=>{let n=l.findIndex(c=>c.type==="sidepanel");if(n!==-1){let c=[...l];return c[n]={...c[n],hide:!s,label:a?"wallet_extension_home_title_popup_mode":"wallet_extension_home_title_sidebar_mode"},c}return l})},[s,a]),{dropdownOptions:e,setDropdownOptions:t}};var yr=({report:e,handleLocking:t,toggleSidepanel:s,setToolkitVisible:a,history:l})=>(0,p.useCallback)(async n=>{if(n.monitor&&e({homepage:n.monitor}),n.type==="lock"&&t(),n.type!=="locking")return n.type==="sidepanel"&&s(),n.type==="toolkit"&&(e({homepage:"toolkit"}),a(!0)),n?.to&&l.push(n.to),n?.href&&globalThis.open(n.href),!0},[e,t,s,a,l]),Sr=()=>{let e=M(),{sidepanelMode:t}=I(Ce);return(0,p.useCallback)(async()=>{try{t?(await globalThis.platform.setPanelBehavior(!1),e(Pe(!1)),Ke({mode_type:"popup"}),window.close()):(Ke({mode_type:"sidebar"}),await globalThis.platform.setPanelBehavior(!0),e(Pe(!0)),await globalThis.platform.openSidepanel(),window.close())}catch{await globalThis.platform.setPanelBehavior(!1),e(Pe(!1))}},[e,t])},Tr=({isFactionPKAccount:e,chainName:t})=>e?E("wallet_extension_popup_title_receiving_address_copied"):E("wallet_extension_transaction_toast_network_address_copied",{network:t}),kr=({isNotBackupWallet:e,address:t,copyMessageTitle:s,setVisible:a})=>$t(()=>{if(e){me.warn({title:E("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:me.DIRECTION.top});return}t?(me.success({title:s,desc:t,duration:1.5,placement:me.DIRECTION.top,containerClassName:"address-copy-notification"}),(0,nr.default)(t)):s.length>0&&a(!0)},{leading:!0,wait:300}),or=(e,t,s)=>e.type===t?{...e,type:s}:e,Ai=p.default.memo(p.default.forwardRef(({titleLeft:e,titleRight:t,subTitle:s,address:a,chainName:l,filterAddress:n,filterHotAddress:c,isNotBackupWallet:g,isFactionPKAccount:x,saStatus:d},T)=>{let w=se(),[v,k]=p.default.useState(!1),[H,Z]=p.default.useState(!1),J=M(),K=Le(w),{dropdownOptions:q,setDropdownOptions:ee}=tr(),[,P]=Rt("recentlyLock"),de=q.filter(C=>!C.hide),fe=Tr({isFactionPKAccount:x,chainName:l}),xe=async()=>{ee(C=>C.map(te=>or(te,"lock","locking"))),Mt(),J(Gt()),P(Date.now()),ee(C=>C.map(te=>or(te,"locking","lock")))},Ze=Sr(),le=(0,rr.useHistory)(),ge=`${eo}?fromHome=1`,ce=Fe(we),y=yr({report:ce,handleLocking:xe,toggleSidepanel:Ze,setToolkitVisible:Z,history:le}),{run:z}=kr({address:a,isNotBackupWallet:g,copyMessageTitle:fe,setVisible:k}),je=()=>{ce({homepage:"manage_wallet"})},Ye=()=>{je(),le.push(ge)},Xe=()=>{le.push(`${to}?walletId=${w}`)},Ie=(0,p.useCallback)(()=>p.default.createElement(S.IconButton,{size:S.SIZE.md,icon:"okx-wallet-plugin-settings-2",className:A.setting}),[]);return p.default.createElement(i.FlexBox,{ref:T,align:i.ALIGN.center,className:(0,$e.default)(A.main,{[A.mainSticky]:Te()!==Se})},p.default.createElement(i.Box,{onClick:Xe,className:A.avatar,"data-testid":D.HOME_PAGE.WALLET_AVATAR},p.default.createElement(nt,{size:nt?.SIZE.sm,walletIdentity:K}),p.default.createElement("div",{className:A.editMask},p.default.createElement(W,{className:(0,$e.default)("okx-wallet-plugin-draw-20",A.editIcon)}))),p.default.createElement(i.FlexBox,{className:A.content,gutter:6,align:i.ALIGN.center},p.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical,className:A.copyWrapper,onClick:Ye},p.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:A.addrWrapper,"data-testid":D.HOME_PAGE.WALLET_ACCOUNT_NAME},p.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:A.address},p.default.createElement(m.Text,{strong:500,ellipsis:!0,size:m.SIZE.sm,"data-testid":D.HOME_PAGE.WALLET_ACCOUNT_NAME_TEXT,className:(0,$e.default)(A.address__text,{[A["address__text--enabled"]]:d==="enabled"||d==="expiring"})},s),p.default.createElement(S,{size:"16px",fontSize:"16px",className:"okx-wallet-plugin-down-1"}))),p.default.createElement(i.FlexBox,{align:i.ALIGN.center,gutter:6,className:A.title,"data-testid":D.HOME_PAGE.WALLET_NAME},p.default.createElement(m.Text,{size:m.SIZE.xs,type:m.TYPE.secondary,className:A.titleLeft,ellipsis:!0},e,"\xA0"),t&&p.default.createElement(m.Text,{size:m.SIZE.xs,type:m.TYPE.secondary,ellipsis:!0},`- ${t}`)))),p.default.createElement(i.FlexBox,{align:i.ALIGN.center},p.default.createElement(i.FlexBox,{onClick:C=>{C.stopPropagation(),ce({homepage:"copy_address"}),z()},"data-testid":D.HOME_PAGE.COPY_ADDRESS},p.default.createElement(Jo,{visible:v,setVisible:k,addresses:n,hotAddresses:c})),p.default.createElement("div",{"data-testid":D.HOME_PAGE.TOP_BAR_SETTINGS_DROPDOWN},p.default.createElement(ot,{displayArea:Ie,renderOption:({option:C})=>C?.type==="locking"?p.default.createElement(i.FlexBox,{align:i.ALIGN.center,"data-testid":`${D.HOME_PAGE.TOP_BAR_SETTINGS_DROPDOWN_ITEM}-${C.label}`},p.default.createElement(ro,{className:A.locking,loaderStyle:{height:16,width:16}}),p.default.createElement(m.Text,{size:m.SIZE.sm,strong:500},E(C.label))):p.default.createElement(i.FlexBox,{align:i.ALIGN.center,"data-testid":`${D.HOME_PAGE.TOP_BAR_SETTINGS_DROPDOWN_ITEM}-${C?.label}`},p.default.createElement(S,{size:S.SIZE.xs,icon:C.icon,className:A.optionIcon}),p.default.createElement(m.Text,{size:m.SIZE.sm,strong:500},E(C.label))),hoverMode:!0,options:de,onChange:y,align:ot.DIRECTION.right})),p.default.createElement(_e,{visible:H,onClose:()=>Z(!1)}),p.default.createElement(i.FlexBox,{align:i.ALIGN.center,"data-testid":D.HOME_PAGE.NETWORKS},p.default.createElement(qo,null))))}));o();r();var h=f(N());var lr=f(re()),mt=f(ve());o();r();var L={main:"_main_h9f95_1",header:"_header_h9f95_5",logo:"_logo_h9f95_5",dappName:"_dappName_h9f95_11",currentAccount:"_currentAccount_h9f95_15",title:"_title_h9f95_18",connectItem:"_connectItem_h9f95_21",connectItemTitleContainer:"_connectItemTitleContainer_h9f95_28",connectItemTitle:"_connectItemTitle_h9f95_28","connectItemTitle--enabled":"_connectItemTitle--enabled_h9f95_39",connectItemTitleEnabled:"_connectItemTitle--enabled_h9f95_39","connectItemTitle--expiring":"_connectItemTitle--expiring_h9f95_42",connectItemTitleExpiring:"_connectItemTitle--expiring_h9f95_42",disabled:"_disabled_h9f95_45","disable-message":"_disable-message_h9f95_54",disableMessage:"_disable-message_h9f95_54"};o();r();var ar=f(N());o();r();var sr=[ke,Nt,ht,xt,St,gt,It,Tt,Et,Ct,bt,wt,Qe["ethereum-provider"],Qe["okx6963-provider"],At,kt];var ir=e=>{let t=I(a=>Me(a,e));return{allowChangeAccount:(0,ar.useMemo)(()=>sr.includes(t?.providerType??""),[t])}};var ct=null,Nr=({showBackup:e})=>{let t=M(),[s,a]=(0,h.useState)(!1),l=I(To),n=I(Ne),c=I(Ee),g=(0,lr.useHistory)(),x=I(y=>ho(y,n)),d=I(_o),T=I(y=>go(y,d.origin)),w=I(y=>yo(y,d.origin)),v=I(So),{isNotBackupWallet:k}=No(),H=I(y=>fo(y,d.origin)),Z=ko({walletId:n,localType:H??""}),J=I(y=>xo(y,d.origin)),K=(0,h.useMemo)(()=>T.some(y=>y===n)?!1:J===uo?!0:!!Z?.address,[J,Z,T,n]),q=Oo(n),{allowChangeAccount:ee}=ir(d.origin),{loadingMoonCatData:P}=oo();(0,h.useEffect)(()=>{if(!P&&(!ct||ct!==l)){if(ct=l,!d||!v||!q)return;if(k){e();return}a(v&&q)}},[d,v,x,l,k,q,e,P]);let de=!s||!ee||!K,fe=(0,h.useMemo)(()=>Object.keys(c),[c]),{data:xe=[]}=bo(fe,{ready:!de&&fe.length>0}),Ze=(0,h.useMemo)(()=>xe.reduce((y,z)=>(y[z.accountId]=z,y),{}),[xe]),le=()=>{Wt({dapp_url:d?.origin}),t(zt(d?.origin,n)),a(!1)},ge=({title:y,right:z,active:je=!1,disabled:Ye,accountId:Xe})=>{let Ie=Ze[Xe],C=null,te=!1;return Ie&&(C=We(Ie?.teeStatus),te=["enabled","expiring","expired"].includes(C)),h.default.createElement(i.FlexBox,{justify:"space-between",className:(0,mt.default)({[L.connectItem]:!0,[L.disabled]:Ye}),align:i.ALIGN.center},h.default.createElement(i.FlexBox,{justify:"center",align:i.ALIGN.center,className:L.connectItemTitleContainer},h.default.createElement(m.Text,{strong:700,ellipsis:{tooltip:!0,rows:1},size:m.SIZE.md,className:(0,mt.default)(L.connectItemTitle,{[L["connectItemTitle--enabled"]]:C==="enabled"||C==="expiring"})},y),te&&h.default.createElement(Po,{status:C}),je&&h.default.createElement(Be,{color:Be.COLOR.green,type:Be.TYPE.rounded},E("wallet_extension_mid_tag_active"))),z)},ce=async y=>{await t(Ht(y)),await oe().getChainsFromServerAndSyncToControllers(),g.push(qt)};return de?null:h.default.createElement(De.Action,{onClose:()=>{a(!1)},visible:!0,noTopRadius:!1,topStyle:{border:"none"},windowStyle:{overflow:"hidden",background:"var(--okd-color-container-primary)",height:"540px"},title:h.default.createElement(h.default.Fragment,null)},h.default.createElement("div",{className:L.main},h.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:L.header,direction:i.DIRECTION.vertical},h.default.createElement(so,{alt:"dapp-logo",className:L.logo,src:d.icon}),h.default.createElement(m.Text,{strong:700,size:m.SIZE.md,className:L.dappName},E("wallet_extension_top_title_current_unconnected",{dapp:d?.name||""}))),h.default.createElement("div",{className:L.currentAccount},h.default.createElement(m.Text,{type:m.TYPE.secondary,size:m.SIZE.xs,className:L.title},E("wallet_extension_header_subtitle_current_account")),ge({title:l,disabled:!K,accountId:n,right:h.default.createElement(V,{category:V.CATEGORY.fill,type:V.TYPE.highlight,size:V.SIZE.xs,onClick:le,disabled:!K},E("wallet_extension_mid_btn_connect"))})),T.length>0&&h.default.createElement("div",{className:L.connectedAccount},h.default.createElement(m.Text,{type:m.TYPE.secondary,size:m.SIZE.xs,className:L.title},E("wallet_extension_header_subtitle_connected_account2",{wallet_extension_header_subtitle_connected_account2:T.length,num:T.length})),T.map(y=>{let z=c[y]||{};return ge({title:`${z.keyringName} - ${z.walletName}`,active:w===y,accountId:y,right:h.default.createElement(V,{category:V.CATEGORY.outline,type:V.TYPE.primary,size:V.SIZE.xs,onClick:()=>ce(y)},E("wallet_extension_mid_btn_switch"))})}))))},Sl=Nr;o();r();var Er=()=>{let{currentNetworkUniqueId:e,isRpcMode:t,hasInitNetworkConfig:s}=Xt(),a=M(),l=async(g,x)=>{await a(Mo({isRpcMode:g,currentNetworkUniqueId:x}))},n=async()=>{await l(!1,"")},c=async(g,x)=>{if(g)return(await jt()).some(w=>w.uniqueId===x);let d=await Bt();return x===""||d.some(T=>String(T.chainId)===x)};Ut(async()=>{try{if(!s){await n();return}await c(t,e)||await n()}catch{}},[t,e,s])},Bl=Er;o();r();var O=f(N());o();r();var Re={"retina-border-basic":"_retina-border-basic_1yx6s_1",retinaBorderBasic:"_retina-border-basic_1yx6s_1",main:"_main_1yx6s_29",iconWrapper:"_iconWrapper_1yx6s_67",iconItem:"_iconItem_1yx6s_70"};o();r();var R=f(N());var Cr=()=>{let[e,t]=(0,R.useState)(!1),s=(0,R.useCallback)(()=>{t(!1)},[]),a=(0,R.useCallback)(()=>{t(!0)},[]),l=(0,R.useMemo)(()=>R.default.createElement(_e,{key:"toolkit-dialog",visible:e,onClose:s}),[e,s]);return{toolkitVisible:e,openToolkit:a,closeToolkit:s,toolkitElement:l}};var br=46,Kl=({options:e})=>{let[t,s]=(0,O.useState)(void 0),a=(0,O.useRef)(null);(0,O.useLayoutEffect)(()=>{let n=a.current?.children||[];if(n.length===0)return;let c=Math.max(br,...Array.from(n).map(g=>g.getBoundingClientRect().width||0));s(Math.ceil(c))},[e]);let l=n=>O.default.createElement(S.IconButtonWithLabel,{textDisabled:n.disabled,style:{width:t},className:Re.iconWrapper,iconClassName:Re.iconItem,strong:!1,disabled:n.disabled,space:13,ellipsis:!0,text:E(n.text),icon:n.icon,onClick:n.onClick,"data-testid":n.testId});return O.default.createElement("div",{className:Re.main,ref:a,"data-testid":D.HOME_PAGE.HOME_PAGE_ICON_LIST},e.map(n=>{let c=n.disabled&&n.disabledText?O.default.createElement(ne,{title:E(n.disabledText),placement:ne.DIRECTION.bottom},l(n)):l(n);return O.default.createElement(O.default.Fragment,{key:n.key},c,n.element)}))};o();r();var ie=f(N());var mr=f(ve());o();r();var ue=f(N());var cr=()=>{let[e,t]=(0,ue.useState)("hidden"),s=(0,ue.useCallback)(()=>{e!=="loading"&&t("show")},[e]),a=(0,ue.useCallback)(()=>{e!=="loading"&&t("hidden")},[e]);return{status:e,setStatus:t,onMouseEnterCallback:s,onMouseLeaveCallback:a,handleOnAnimationEnd:()=>{t("hidden")}}};o();r();var ae={balanceWrapper:"_balanceWrapper_150zi_1","balanceWrapper--sticky":"_balanceWrapper--sticky_150zi_11",balanceWrapperSticky:"_balanceWrapper--sticky_150zi_11",refreshIcon:"_refreshIcon_150zi_14",balance:"_balance_150zi_1",refreshAnimation:"_refreshAnimation_150zi_33",refresh:"_refresh_150zi_14"};var Nc=({balance:e,className:t="",symbol:s,hiddenAssets:a,onToggleHiddenAssets:l,onRefresh:n})=>{let{status:c,setStatus:g,onMouseEnterCallback:x,onMouseLeaveCallback:d,handleOnAnimationEnd:T}=cr(),w=I(Pt),v=(0,ie.useMemo)(()=>s?`${e} ${s}`:Zt(e,{currencySign:w,useApproximate:!1}).value,[s,e,w]);return ie.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:(0,mr.default)(ae.balanceWrapper,t,{[ae.balanceWrapperSticky]:Te()!==Se}),onClick:l,onMouseEnter:x,onMouseLeave:d,"data-testid":D.HOME_PAGE.TOTAL_ASSETS_BALANCE_WRAPPER},ie.default.createElement(m.AdaptiveText,{strong:!0,autoSize:!0,ellipsis:{tooltip:!0},text:v,onAnimationEnd:T,className:`${ae.balance} ${c==="success"&&ae.refreshAnimation}`},a?Dt:""),!a&&ie.default.createElement(Wo,{className:ae.refreshIcon,status:c,handleRefresh:g,onRefresh:n}))};export{Dr as a,gn as b,Gs as c,Cr as d,Kl as e,oa as f,Ai as g,Sl as h,Bl as i,Nc as j};
//# sourceMappingURL=chunk-EE2WZVUF.js.map
