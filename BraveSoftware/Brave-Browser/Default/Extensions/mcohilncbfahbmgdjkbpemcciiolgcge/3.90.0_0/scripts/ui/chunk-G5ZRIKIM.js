import{b as K}from"./chunk-X4IU7NMU.js";import{a as W}from"./chunk-GVYIP5Q5.js";import{a as v}from"./chunk-6GJ4TEPK.js";import{d as F}from"./chunk-7U7FORYL.js";import{f as O}from"./chunk-6C7RJCTT.js";import{C as R,ra as f}from"./chunk-MJDO2VHF.js";import{m as S}from"./chunk-KGMP5AO5.js";import{b as N}from"./chunk-6M37VPK2.js";import{a as k,c as I,f as A,p as M}from"./chunk-EPDR6VAQ.js";import{Gb as L,Mb as i,Z as m,da as $,ha as B,la as w,ma as b,ua as c,ya as H}from"./chunk-EQ34WRCJ.js";import{p as h}from"./chunk-DSNMNSMD.js";import{b as T}from"./chunk-FLSAETOH.js";import{f as C,o as g,q as l}from"./chunk-UWURTNRY.js";g();l();var U=(r=[])=>Array.isArray(r)?r.map(n=>{let{symbol:t,name:e}=n;return{...n,chain:t,chainName:e}}).filter(({chainId:n})=>!!n):[],ur=r=>Number.parseInt(r,16);var mr=({gasPrice:r,gasLimit:n,price:t,usdToThisRate:e})=>{let o=k(r,n),a=M(o),s=t?k(a,k(t,e)):0;return{networkFee:a,networkFeeInt:o,networkFeeMarket:s}};var j=({walletIdentities:r,localType:n})=>r.filter(({account:t,needBackup:e})=>e!==1&&!!t[n]).flatMap(t=>{let{account:e,accountsMap:o}=t;if(n===c){let a=o?.[c];if(a)return Object.values(a).map(s=>s.address)}return e[n]}),Y=(r,n,t=m)=>{let e=[];return r.forEach(({keyringName:o,walletIdentities:a,keyringIdentityType:s})=>{s!==i.HARDWARE&&(n?e=e.concat(j({walletIdentities:a,localType:t})):e.push({name:o,options:a.filter(({needBackup:u,account:d})=>u!==1&&!!d[t]).flatMap(u=>{let{walletName:d,account:X,accountsMap:y,walletId:P}=u;if(t===c){let E=y?.[c];if(E)return L[c].map(_=>({label:_,name:d,address:E?.[_]?.address,walletId:P}))}return{name:d,address:X[t],walletId:P}})}))}),e},dr=({txAmount:r,networkFee:n,balance:t,baseCoinBalance:e,isBaseCoin:o})=>!(o&&A(t,I(r,n))||!o&&A(e,n)),gr=r=>{let{localType:n,address:t}=r||{};return n===w?!0:!t};g();l();var p=C(T());var q=()=>{let{isRpcMode:r}=f(O);return r},x=[B,$,b,w,c],D=[...x,m],z=()=>{let r=v(),n=W(),t=(0,p.useMemo)(()=>r.filter(({appBaseChain:e,localType:o})=>e===H?.ETHEREUM?!0:x.includes(o)),[r]);return(0,p.useMemo)(()=>t.map(({image:e,chainName:o,localType:a,...s})=>{let u=n.find(d=>d.localType===a);return{...u||s,chainName:o,icon:e,chainId:x.includes(a)?N(s?.chainId):u?.realChainIdHex||N(s?.chainId),chainIndex:u?.chainId||s?.chainId}}),[n,t])},J=()=>{let{rpcNetworks:r}=F();return(0,p.useMemo)(()=>U(r),[r])},_r=()=>{let r=q(),n=J(),t=z();return(0,p.useMemo)(()=>r?n:t,[r,n,t])};g();l();var V=C(T());var Q=(r=!1,n=m)=>{let t=(0,V.useMemo)(()=>S(R,o=>Y(o,r,n)),[r,n]);return f(t)},rr=r=>{let n=K({network:r,ignoreXKOAddress:!0});return[{name:h("wallet_extension_addressbook_title_address_book"),options:n}]},Wr=(r=m)=>{let n=Q(!1,r),t=rr(r);return[n,[...n,...t]]},vr=()=>{let r=f(R),n=!1,t=!1;return r.forEach(({walletIdentities:e,keyringIdentityType:o})=>{(![i.HARDWARE,i.PRIVATE_KEY].includes(o)||o===i.PRIVATE_KEY&&D.some(s=>e[0]?.account?.[s]))&&(t=!0);let a=e?.length;for(let s=0;s<a;s++)if((o===i.MNEMONIC||o===i.TON_MNEMONIC)&&e[s].needBackup!==1||[i.HARDWARE,i.PRIVATE_KEY,i.MPC].includes(o)){n=!0;break}}),{hasBackUpWallet:n,batchTransferAvailable:t}};export{ur as a,mr as b,dr as c,gr as d,q as e,_r as f,Q as g,Wr as h,vr as i};
//# sourceMappingURL=chunk-G5ZRIKIM.js.map
