import{Pa as r,Qa as k,Ra as T,p}from"./chunk-P5GHREX3.js";import{c as m,d as a,k as f}from"./chunk-RPH2MNBW.js";import{Aa as C,O as c}from"./chunk-4C5HF6J2.js";import{o as t,q as o}from"./chunk-UWURTNRY.js";t();o();t();o();var g=class extends p{constructor(){super();this.preChecking=!0;this.preCheckData=null;this.serviceState={loaded:!1,isLimitRegion:!1};f(this,{serviceState:m,computedIsLimitRegion:a,computedIsNotLimitRegion:a,preCheckData:m,preChecking:m,computedPreCheckMsg:a})}get computedPreCheckMsg(){return!this.preChecking&&this.preCheckData&&this.preCheckData.status!==0?this.preCheckData?.msg:""}get computedIsLimitRegion(){return this.serviceState.loaded&&this.serviceState.isLimitRegion}get computedIsNotLimitRegion(){return this.serviceState.loaded&&!this.serviceState.isLimitRegion}},R=new g;t();o();t();o();C();t();o();var l=class{constructor(){this.hiddenTokenList=[];this.smallAssetConfig={...r}}setSmallAssetConfig(e){this.smallAssetConfig=e}setHiddenTokenList(e){this.hiddenTokenList=e}};var u=class{constructor(){this.model=new l}get hiddenTokenCaList(){return this.model.hiddenTokenList.map(e=>e.tokenContractAddress)}isSmallAssetHidden(){return this.model.smallAssetConfig.open??r.open}getSmallAssetThreshold(){let e=parseFloat(this.model.smallAssetConfig.amount);return console.warn("getSmallAssetThreshold",e),Number.isNaN(e)||!c(e)||!e?Number(r.amount):e}isTokenHidden(e){return e.isNativeToken===1?this.model.hiddenTokenList.some(n=>n.isNativeToken&&n.chainId===e.chainId):this.hiddenTokenCaList.includes(e.tokenContractAddress)}};t();o();function A(s){return s.some(e=>"tokenList"in e)}var h=class extends u{getMinAmountThresholdParam(){if(!!this.isSmallAssetHidden())return this.getSmallAssetThreshold()}async loadSmallAssetConfig(){let e=await k();this.model.setSmallAssetConfig(e)}async loadHiddenTokenConfig(e,n){if(!e&&!n)return;let i=await T(e,n);this.model.setHiddenTokenList(i)}filterHiddenTokenList(e){if(!e?.length)return e;let n=(i=[])=>Array.isArray(i)?i.filter(_=>!this.isTokenHidden(_)):i;return A(e)?e.map(i=>({...i,tokenList:n(i.tokenList)})).filter(i=>i.tokenList.length):n(e)}},Y=new h;export{R as a,Y as b};
//# sourceMappingURL=chunk-RQ4NNINW.js.map
