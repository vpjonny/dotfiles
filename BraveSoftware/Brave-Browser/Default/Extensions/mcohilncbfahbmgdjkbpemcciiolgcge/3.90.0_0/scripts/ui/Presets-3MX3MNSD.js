import{a as F,b as K,c as ge,e as he}from"./chunk-G6OLRINJ.js";import"./chunk-BFLVJJ2Z.js";import{d as J}from"./chunk-WTH5WZEF.js";import{b as q}from"./chunk-FS336U6P.js";import{a as ue}from"./chunk-RZGUDMHY.js";import{a as V}from"./chunk-5JVWMQI2.js";import"./chunk-P7NYIGUS.js";import"./chunk-H5RNSDSN.js";import"./chunk-OWPVBYY3.js";import"./chunk-CJAFGYQK.js";import{f as fe}from"./chunk-2LQJ3JX6.js";import{b as se,q as D}from"./chunk-V5J3A5L5.js";import"./chunk-CERSDYPT.js";import"./chunk-3WKBEXBH.js";import{b as pe}from"./chunk-RK4OLGCC.js";import{a as re}from"./chunk-VL2JCPJS.js";import{s as ce}from"./chunk-AP4E6GDF.js";import{Ab as X,Cb as Z,Ke as d,ac as oe,m as U}from"./chunk-RPH2MNBW.js";import{a as de}from"./chunk-DOSBJ3L3.js";import{I as G,b as le,u as _e}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{C as c,t as C}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as te}from"./chunk-FB3ILH2L.js";import{b as Y}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-4C5HF6J2.js";import"./chunk-EI7BJC6V.js";import{f as x,o as r,q as s}from"./chunk-UWURTNRY.js";r();s();var R=x(Y());r();s();r();s();var W=x(Y()),ve=x(de()),Ee=x(te());r();s();var t=x(Y()),S=x(te());r();s();var l={"preset-item":"_preset-item_hhs7f_1",presetItem:"_preset-item_hhs7f_1","preset-padding":"_preset-padding_hhs7f_7",presetPadding:"_preset-padding_hhs7f_7","preset-name":"_preset-name_hhs7f_15",presetName:"_preset-name_hhs7f_15",divide:"_divide_hhs7f_26",icon:"_icon_hhs7f_33",text:"_text_hhs7f_36",green:"_green_hhs7f_43",normal:"_normal_hhs7f_46","remove-icon":"_remove-icon_hhs7f_49",removeIcon:"_remove-icon_hhs7f_49","disabled-icon":"_disabled-icon_hhs7f_54",disabledIcon:"_disabled-icon_hhs7f_54","edit-icon":"_edit-icon_hhs7f_58",editIcon:"_edit-icon_hhs7f_58","selected-icon":"_selected-icon_hhs7f_62",selectedIcon:"_selected-icon_hhs7f_62","preset-info":"_preset-info_hhs7f_65",presetInfo:"_preset-info_hhs7f_65","icon-wrapper":"_icon-wrapper_hhs7f_74",iconWrapper:"_icon-wrapper_hhs7f_74"};var Le=({isEdit:n,preset:a,isSelected:g,handleClickPreset:m,disableDelete:v,handleDeletePreset:E,handleEditPreset:p,hasShadow:f=!0,currentPresetId:P,jitoIsSuccess:L=!0,mevUnstableShowLevel:N,computedQuoteCompleted:y=!1})=>{let{name:T,slippage:u,priorityFee:O,id:b,priorityMode:j="auto",manualType:z=0}=a,{type:A}=O,_=ue({priorityMode:j,manualType:z,jitoIsSuccess:L,mevUnstableShowLevel:N,computedQuoteCompleted:y}),k=(0,t.useMemo)(()=>({market:d("swaptrade_modal_dialog_option_market"),fast:d("swaptrade_modal_dialog_option_fast5x"),turbo:d("swaptrade_modal_dialog_option_turbo10x"),custom:d("swaptrade_extension_cinteraction_custom")})[A],[A]),$=(0,t.useMemo)(()=>{let B=Q=>Q?`${ce(fe(Q),{needZero:!1})}`:"--";return u?.mode===se.FIXED?B(u?.value):u?.mode===se.DYNAMIC?u?.customMax?B(u?.customMax):d("swaptrade_slippage_cell_label_dynamic"):"--"},[u?.customMax,u?.mode,u?.value]);return t.default.createElement(le,{className:(0,S.default)("flex items-center justify-between",l.presetItem,{[l.presetPadding]:!n}),onClick:()=>{m&&m()}},t.default.createElement("div",{className:(0,S.default)("flex items-center")},n&&t.default.createElement(C,{className:(0,S.default)("okds-intermediate",l.removeIcon,{[l.disabledIcon]:v}),onClick:()=>{E&&E()},style:{fontSize:24},a11yText:"remove-item"}),t.default.createElement("div",{className:l.presetInfo},t.default.createElement("div",null,a.id===`${D}2`?t.default.createElement("div",{className:"flex items-center"},t.default.createElement(C,{className:(0,S.default)(b===P?"okx-defi-dex-meme-mode-filled":"okx-defi-dex-meme-mode"),style:{fontSize:20,marginRight:"4px",marginBottom:"8px"},a11yText:"meme-mode-icon"}),t.default.createElement("span",{className:l.presetName},T)):t.default.createElement("span",{className:l.presetName},T)),t.default.createElement("div",{className:(0,S.default)("flex items-center",l.presetTag)},t.default.createElement(V,{icon:"okx-defi-dex-slippage",text:$}),t.default.createElement("div",{className:l.divide}),t.default.createElement(V,{icon:"okx-defi-dex-fee",text:k}),t.default.createElement("div",{className:l.divide}),t.default.createElement(V,{text:_.text,icon:_.icon,status:_.status,tooltipText:_.tips,showWarningIcon:_.showWarningIcon})))),n?t.default.createElement(t.default.Fragment,null,f&&t.default.createElement("div",{className:l.shadow}),t.default.createElement("div",{className:(0,S.default)("flex items-center justify-center",l.iconWrapper)},t.default.createElement(C,{className:(0,S.default)("okx-defi-marketplace-edit",l.editIcon),style:{fontSize:24},a11yText:"edit-item",onClick:p}))):g&&t.default.createElement(C,{className:(0,S.default)("okx-defi-marketplace-selected",l.selectedIcon),style:{fontSize:24},a11yText:"edit-item"}))},H=Le;r();s();var ie={root:"_root_1hlcl_1",btns:"_btns_1hlcl_4","no-bg":"_no-bg_1hlcl_13",noBg:"_no-bg_1hlcl_13"};var Ne=U(({addClick:n,onSelect:a})=>{let{configStore:g,quoteStore:m}=q(),{currentMode:v}=g,{jitoIsSuccess:E,mevUnstableShowLevel:p,computedQuoteCompleted:f}=m,{currentPresetList:P,currentPresetId:L,setCurrentPresetId:N}=J(),y=(0,ve.useHistory)(),{presetPageEditState:T,setPresetPageEditState:u}=F(),O=()=>{u(!0)},{setEditPreset:b}=K(),{newPreset:j}=ge(),z=()=>{if(P.length>7){G.info({title:d("swaptrade_meme_toast_preset_max",{num:8})});return}if(b({value:j,isEdit:!1}),n)n();else{let k=`${Z(X)}?tab=${v}`;y.push(k)}},A=_=>{N(P?.[_]?.id),a?a():y.goBack()};return W.default.createElement("div",{className:ie.root},P.map((_,k)=>W.default.createElement(H,{key:_.id,jitoIsSuccess:E,mevUnstableShowLevel:p,preset:_,isEdit:T,isSelected:_?.id===L,handleClickPreset:()=>{A(k)},currentPresetId:L,computedQuoteCompleted:f})),W.default.createElement("div",{className:(0,Ee.default)("flex justify-between",ie.btns)},W.default.createElement(c,{className:"flex-1",category:c.CATEGORY.outline,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:O},d("commonall_filter_btn_edit")),W.default.createElement(c,{className:"flex-1",category:c.CATEGORY.fill,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:z},d(v==="buy"?"swaptrade_meme_btn_add_buy_preset":"swaptrade_meme_btn_add_sell_preset"))))}),xe=Ne;r();s();var o=x(Y()),Se=x(de()),I=x(te());r();s();var Pe=x(Y());function be({currentPresetList:n,currentPresetId:a}){let[g,m]=(0,Pe.useMemo)(()=>{let v=n.map(f=>({...f,isSelected:f.id===a})),E=[],p=[];return v.forEach(f=>{f.id.includes(D)?E.push(f):p.push(f)}),[E,p]},[n,a]);return{defaultList:g,formatList:m}}function we({defaultList:n,list:a,setCurrentPresetList:g,setCurrentPresetId:m,setPresetPageEditState:v}){return{handleDone:()=>{let p=[...n,...a];g(p),p.findIndex(P=>P.isSelected===!0)===-1&&m(p[0].id),v(!1)}}}r();s();var i={root:"_root_swnpm_1",btns:"_btns_swnpm_4","no-bg":"_no-bg_swnpm_13",noBg:"_no-bg_swnpm_13",wrapper:"_wrapper_swnpm_16","drag-item":"_drag-item_swnpm_19",dragItem:"_drag-item_swnpm_19","custom-drag-item":"_custom-drag-item_swnpm_19",customDragItem:"_custom-drag-item_swnpm_19",item:"_item_swnpm_19","drag-item-active":"_drag-item-active_swnpm_28",dragItemActive:"_drag-item-active_swnpm_28",dragging:"_dragging_swnpm_28","drag-icon":"_drag-icon_swnpm_32",dragIcon:"_drag-icon_swnpm_32","not-drag":"_not-drag_swnpm_36",notDrag:"_not-drag_swnpm_36","icon-padding":"_icon-padding_swnpm_40",iconPadding:"_icon-padding_swnpm_40","preset-padding":"_preset-padding_swnpm_43",presetPadding:"_preset-padding_swnpm_43","icon-wrapper":"_icon-wrapper_swnpm_46",iconWrapper:"_icon-wrapper_swnpm_46","icon-wrapper-hover":"_icon-wrapper-hover_swnpm_51",iconWrapperHover:"_icon-wrapper-hover_swnpm_51"};var Te=U(({editClick:n})=>{let{isSm:a}=pe(),{currentPresetList:g,currentPresetId:m,setCurrentPresetId:v,setCurrentPresetList:E}=J(),{setPresetPageEditState:p}=F(),{configStore:f,quoteStore:P}=q(),{currentMode:L}=f,{jitoIsSuccess:N,mevUnstableShowLevel:y,computedQuoteCompleted:T}=P,{defaultList:u,formatList:O}=be({currentPresetList:g,currentPresetId:m}),[b,j]=(0,o.useState)(O),{setEditPreset:z}=K(),A=(0,Se.useHistory)(),{handleDone:_}=we({defaultList:u,list:b,setCurrentPresetList:E,setCurrentPresetId:v,setPresetPageEditState:p}),[k,$]=(0,o.useState)(!1),[B,Q]=(0,o.useState)(!1),me=e=>{let h=b.filter((M,ee)=>ee!==e);j(h)},Ce=(e,h)=>{let M=re.get(oe),{isSelected:ee}=e;if(ee&&!M){$(!0);return}me(h)},ye=()=>{B&&re.set(oe,"1");let e=b.findIndex(h=>h.isSelected===!0);me(e),$(!1)},ae=e=>{let h=g.find(M=>M.id===e)||{};if(z({value:h,isEdit:!0}),n)n();else{let M=`${Z(X)}?tab=${L}`;A.push(M)}},ke=e=>{j(e)};(0,o.useEffect)(()=>()=>{p(!1)},[]);let De=(0,o.useCallback)(()=>{a&&G.info({title:d("swaptrade_market_placeorder_error_preset_unable_delete")})},[a]);return o.default.createElement("div",{className:i.root},u.map(e=>o.default.createElement("div",{className:(0,I.default)("flex items-center justify-between",i.presetPadding),key:e.id},o.default.createElement(H,{jitoIsSuccess:N,mevUnstableShowLevel:y,hasShadow:!0,key:e.id,preset:e,isEdit:!0,isSelected:e.id===m,handleDeletePreset:De,disableDelete:e.id.includes(D),handleEditPreset:()=>ae(e.id),currentPresetId:m,computedQuoteCompleted:T}),o.default.createElement("div",{className:(0,I.default)("flex items-center justify-center",i.iconWrapper,i.iconPadding)},o.default.createElement(C,{className:(0,I.default)("okds-hamburger flex items-center",i.notDrag),style:{fontSize:24},a11yText:"drag-item"})))),o.default.createElement("div",null,o.default.createElement(_e.Sortable,{restrictToParentElement:!0,onDragEnd:ke,dataSource:b,mobileLongPress:!0,withOverlay:!1,wrapperStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:0,itemClassName:(0,I.default)(i.dragItem,i.customDragItem,i.item),itemDraggingClassName:(0,I.default)(i.dragItemActive,i.dragging),itemWrapperClassName:i.wrapper,renderHandler:({getHandlerRef:e,listeners:h,disabled:M})=>M?o.default.createElement("div",{ref:e}):o.default.createElement("div",{className:(0,I.default)("flex items-center justify-center",i.iconWrapper,i.iconWrapperHover,i.iconPadding)},o.default.createElement(C,{ref:e,...h,className:(0,I.default)("okds-hamburger flex items-center",i.dragIcon),style:{fontSize:24},a11yText:"drag-item"}))},b.map((e,h)=>o.default.createElement(H,{jitoIsSuccess:N,mevUnstableShowLevel:y,key:e.name+h,preset:e,isEdit:!0,isSelected:e.id===m,handleDeletePreset:()=>Ce(e,h),disableDelete:e.id.includes(D),handleEditPreset:()=>ae(e.id),currentPresetId:m})))),o.default.createElement("div",{className:(0,I.default)("flex justify-between",i.btns)},o.default.createElement(c,{className:"flex-1",category:c.CATEGORY.fill,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:_},d("commonall_button_text_done"))),o.default.createElement(he,{isChecked:B,setIsChecked:Q,onConfirm:ye,visible:k,text:d("swaptrade_meme_dialog_desc_preset_delete"),showChecked:!0,confirmText:d("commonall_text_btn_ok_passive")}))}),Ie=Te;var ne={DefaultList:xe,EditList:Ie};r();s();var Me={root:"_root_45u39_1","no-bg":"_no-bg_45u39_4",noBg:"_no-bg_45u39_4"};var je=U(({editClick:n,addClick:a,onSelect:g})=>{let{presetPageEditState:m}=F();return R.default.createElement("div",{className:Me.root},m?R.default.createElement(ne.EditList,{editClick:n}):R.default.createElement(ne.DefaultList,{addClick:a,onSelect:g}))}),co=je;export{co as default};
//# sourceMappingURL=Presets-3MX3MNSD.js.map
