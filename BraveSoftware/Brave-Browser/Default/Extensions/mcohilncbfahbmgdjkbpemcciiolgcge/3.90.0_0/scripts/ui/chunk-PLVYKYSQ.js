import{a as Wt}from"./chunk-MEZ72IGZ.js";import{a as Ht}from"./chunk-ZLTTBRML.js";import{a as qt}from"./chunk-XUGHAFHG.js";import{a as Ut}from"./chunk-B5L26Z2J.js";import{d as $t}from"./chunk-AVG63QW4.js";import{d as Fe,g as zt}from"./chunk-YLT6ZRGE.js";import{b as Re}from"./chunk-VSNCKUAC.js";import{e as _e}from"./chunk-M43NTBTB.js";import{m as Mt}from"./chunk-CKHT4PIF.js";import{l as Dt}from"./chunk-ZZBUS7GI.js";import{c as K}from"./chunk-PMG6IXOR.js";import{a as U}from"./chunk-BD5XO4WL.js";import{h as Lt,t as Nt,u as Le}from"./chunk-MT3ANHCR.js";import{a as Ot}from"./chunk-XBUPORYF.js";import{b as ke}from"./chunk-YVLQLIW6.js";import{o as S}from"./chunk-N6PI3XTA.js";import{f as Gt,i as Xt,j as Vt}from"./chunk-IPVHRCDK.js";import{a as ae,f as le,g as Bt}from"./chunk-MJSLAJV6.js";import{c as It,k as Ee,z as St}from"./chunk-KC2XLVFC.js";import{K as yt,M as xt,O as ht,T as bt,qa as Et,ra as re}from"./chunk-MJDO2VHF.js";import{f as vt}from"./chunk-OLICTWCW.js";import{d as Ne,g as wt}from"./chunk-F3ILJHGP.js";import{p as Tt}from"./chunk-3F7OC7N7.js";import{c as At}from"./chunk-OKGWI7CU.js";import{a as pe,b as ze}from"./chunk-EPDR6VAQ.js";import{c as f}from"./chunk-3FMJDUGT.js";import{c as dt}from"./chunk-2O5TMJZM.js";import{O as pt}from"./chunk-UI4IZNSB.js";import{$ as _t,Eb as Ct,Fb as Ae,Ib as ve,Pb as H,eb as gt,sa as ft,wa as Se}from"./chunk-EQ34WRCJ.js";import{j as Te,k as $,p,q as Ie,y as ut}from"./chunk-DSNMNSMD.js";import{$ as Rt,A as ue,E as kt,J as We,W as Pe,_ as Ft,d as we,o as me,q as ce,r as Ue}from"./chunk-URGJ6D4O.js";import{C as R,t as Pt}from"./chunk-XYWWXNVK.js";import{a as J}from"./chunk-FB3ILH2L.js";import{b as w}from"./chunk-FLSAETOH.js";import{Aa as be,F as lt,G as mt,M as ct,g as at}from"./chunk-4C5HF6J2.js";import{f as y,o,q as r}from"./chunk-UWURTNRY.js";o();r();var A=y(w()),ko=y(J());o();r();var fe=y(w());o();r();var Qt={root:"_root_1n01c_1"};var Bo="HAS_CLOSED_REGISTER_ALERT";function Mo({coin:e}){let t=Mt(e?.localType),[n,s]=(0,fe.useState)({needRegister:!1,alertMessage:"",url:""}),[i,a]=St(`${Bo}_${e?.coinId}`,{defaultValue:!1}),{loading:l}=Ee(async()=>{if(!(Le(e)||Nt(e)))return;let{status:d,register:h,alertMessage:C="",url:T}=await Wt({chainId:e.chainId,address:t}),F=!1;Le(e)?F=d===Tt.NOT_STARTED:F=!h,s({needRegister:F,alertMessage:C,url:T})},{ready:!i}),m=!i&&!l&&n.needRegister,c={title:n.alertMessage,onClose:()=>{a(!0)}};return Le(e)&&(c={...c,onConfirm:()=>{ut(n.url)},confirmText:p("wallet_extension_transfer_alertbanner_textbtn_pi_verify")}),m&&fe.default.createElement(f.Box,{className:Qt.root},fe.default.createElement(we,{...c}))}var jt=Mo;o();r();o();r();var Me=y(w()),io=y(J());o();r();var q=y(w());var je=y(J());o();r();function Oo(){let{xlayerAddressType:e}=re(bt);return{addressType:e,isXKOConfig:e==="XKO"}}var Kt=Oo;o();r();var O=y(w()),Zt=y(J());o();r();var D={list:"_list_1q882_1",item:"_item_1q882_5","item-active":"_item-active_1q882_14",itemActive:"_item-active_1q882_14","item-left":"_item-left_1q882_22",itemLeft:"_item-left_1q882_22","item-icon":"_item-icon_1q882_25",itemIcon:"_item-icon_1q882_25","item-address":"_item-address_1q882_29",itemAddress:"_item-address_1q882_29","item-address-type":"_item-address-type_1q882_36",itemAddressType:"_item-address-type_1q882_36",container:"_container_1q882_44",title:"_title_1q882_44",tip:"_tip_1q882_52",subTitle:"_subTitle_1q882_53"};var Go=Ae,Yt={["HEX"]:"wallet_extension_token_details_bttmsheet_title_0x",["XKO"]:"wallet_extension_token_details_bttmsheet_title_default"},Xo=({visible:e,onClose:t,onChange:n,baseChain:s,address:i,normalAddress:a,chainImage:l})=>{let m=s===Se,c=Gt(s);if((!Array.isArray(c)||!c?.length)&&(!m||!Ne()))return null;let _;return m?_=[{title:p(Yt["XKO"]),address:wt(i),addressType:"XKO"},{title:p(Yt["HEX"]),address:i,addressType:"HEX"}]:_=c.map(d=>({title:p(Go[d.addressType]),...d})),O.default.createElement(me.Action,{onClose:t,visible:e,noTopRadius:!1,noContentPadding:!1},O.default.createElement("div",{className:D.container},O.default.createElement("h1",{className:D.title},m?p("wallet_extension_token_details_header_xlayer_switch"):p("extension_wallet_settings_title_set_default")),O.default.createElement("div",{className:D.tip},p("extension_wallet_settings_subtitle_following_supported")),O.default.createElement("div",{className:D.list},_.map((d,h)=>{let C=`${d.address}-${h}`;return O.default.createElement("div",{className:(0,Zt.default)(D.item,{[D.itemActive]:a===d.address}),onClick:async()=>{try{n&&await n(d),We.success({title:p("wallet_extension_toast_address_format_changed"),desc:d.address,duration:1.5,placement:We.DIRECTION.top,containerClassName:"address-copy-notification"})}catch{}},key:C,"data-testid":U.COIN_DETAIL_PAGE.ADDRESS_SELECT_ITEM},O.default.createElement("div",{className:D.itemLeft},O.default.createElement(kt,{width:32,height:32,alt:l,src:l,errorImg:At,className:D.itemIcon})),O.default.createElement("div",{className:D.itemRight},O.default.createElement("div",{className:D.itemRightTop},O.default.createElement("div",{className:D.itemAddress,"data-testid":U.COIN_DETAIL_PAGE.ADDRESS_TEXT},Bt(d.address))),O.default.createElement("div",{className:D.itemRightBottom},O.default.createElement("div",{className:D.itemAddressType},d.title))))}))))},Jt=Xo;o();r();var Be=y(w()),He=y(J());o();r();var qe={content:"_content_1yjeg_1",icon:"_icon_1yjeg_9"};function Vo({className:e,tooltipProps:t,popupRef:n,onClick:s,title:i}){return Be.default.createElement(ue,{popupRef:n,placement:ue.DIRECTION.topRight,title:p("wallet_extension_hover_change_address_format"),...t},Be.default.createElement("div",{onClick:s,className:(0,He.default)(qe.content,e),"data-testid":U.COIN_DETAIL_PAGE.SET_DEFAULT_ADDRESS_BUTTON},i||p("extension_wallet_settings_title_set_default"),Be.default.createElement(Pt,{className:(0,He.default)(qe.icon,"okx-wallet-plugin-arrow-small-right")})))}var eo=Vo;o();r();o();r();var $o="",to=$o;var oo=to;o();r();var W=y(w());o();r();var ro=({symbol:e="",address:t="",tag:n="",tags:s=[],aggregation:i=!1,message:a=""})=>{let l="receive-content",m=(s||[]).map((c,_)=>({...c,key:_}));return W.default.createElement(f.FlexBox,{direction:f.DIRECTION.horizontal,className:`${l}__card__info`},W.default.createElement(f.FlexBox,{className:`${l}__card__title`,direction:f.DIRECTION.vertical},W.default.createElement(f.FlexBox,{align:f.ALIGN.center,className:`${l}__card__text`},W.default.createElement(S.Text,{strong:700,ellipsis:{tooltip:!0},size:S.SIZE.lg},e),W.default.createElement("div",{className:`${l}__tags`},i&&W.default.createElement(Rt,{className:`${l}__card__tag`},n),m.map(c=>{let{title:_,key:d,...h}=c;return W.default.createElement(Ft,{key:d,...h},_)}))),W.default.createElement(S.Address,{forceWrap:!0,address:t,"data-testid":U.RECEIVE_PAGE.RECEIVE_PAGE_COPY_ADDRESS,desensitize:!1,size:S.SIZE.sm,style:{color:"var(--okd-color-content-contrast)"},copyable:{className:`${l}__copy__button`,message:a,customButtonComponent:(0,W.useCallback)(c=>W.default.createElement(R,{"data-testid":U.RECEIVE_PAGE.RECEIVE_PAGE_COPY_ADDRESS_BUTTON,...c,category:R.CATEGORY.fill,type:R.TYPE.primary,size:R.SIZE.xs},p("commonall_modal_btn_copy")),[])}})))};o();r();o();r();var Qe=y(w());var zo=({QRCodeAddress:e,coinLogo:t})=>Qe.default.createElement(f.FlexBox,{justify:"center"},Qe.default.createElement(Pe,{padding:"8px",text:e,level:Pe.LEVEL.L,type:Pe.TYPE.svg,size:224,cornersDotOptions:{type:"dot"},cornersSquareOptions:{type:"dot"},dotsOptions:{type:"dots"},imageSettings:{src:t,imageSize:.5}})),no=zo;var so=no;function Uo(e){let{title:t,symbol:n="",coinLogo:s="",chainName:i="",walletAddress:a="",aggregation:l=!1,QRCodeAddress:m="",children:c,cardClassName:_="",message:d="",tag:h="",tags:C=[],showXlayerSwitch:T=!1,localType:F="",className:Q=""}=e,G=Et(),[I,B]=(0,q.useState)(!1),{isXKOConfig:x}=Kt(),X=j=>(B(!1),G(Dt(j.addressType))),V=Re({localType:F})({address:a}),z="receive-content";return q.default.createElement(f.Box,{className:(0,je.default)(z,oo,Q),"data-testid":U.RECEIVE_PAGE.RECEIVE_PAGE_ROOT_ELEMENT_ID},q.default.createElement(f.Box,{className:(0,je.default)(`${z}__qrcode__card`,_)},q.default.createElement(so,{QRCodeAddress:m,coinLogo:s}),q.default.createElement(S.Text,{size:S.SIZE.sm,align:S.ALIGN.center,type:S.TYPE.secondary,style:{color:"var(--okd-color-content-contrast)",width:"100%",marginTop:"12px",marginBottom:"12px",fontWeight:"500"}},t||Ie("wallet_extension_toast_send_only_network_assets_tothis_address",{chain_name:q.default.createElement("span",{style:{color:"var(--okd-color-content-primary)"}},i)})),c),q.default.createElement(ro,{symbol:n,tag:h,tags:C,address:V,aggregation:l,message:d}),T&&q.default.createElement("div",{className:`${z}__switch-button`},q.default.createElement(eo,{title:x?p("wallet_extension_token_details_textbtn_switch_0x"):p("wallet_extension_token_details_textbtn_switch_default"),tooltipProps:{disabled:!0},onClick:()=>{B(!0)}})),T&&q.default.createElement(Jt,{visible:I,onClose:()=>{B(!1)},onChange:X,baseChain:F,address:a,normalAddress:V,chainImage:s}))}var Ke=Uo;o();r();var Wo=({children:e,className:t="",style:n,content:s={},navigator:i={},hideContent:a=!1,hideNavigator:l=!1,slot:m={}})=>{let c="receive-container",{top:_}=m;return Me.default.createElement(f.Container,{className:(0,io.default)(c,t),style:n},!l&&Me.default.createElement($t,{...i,className:`${c}__navigator`}),_,!a&&Me.default.createElement(Ke,{...s}),e)},Ye=Wo;o();r();o();r();var b=y(w()),Ce=y(J());o();r();var ne="LEGAL",v="DIGITAL";o();r();var Je=y(w());o();r();be();o();r();var ao={get fontFamily(){return window.getComputedStyle(document.body).fontFamily}};var De=e=>{typeof e!="string"&&(e=e.toString());let t=e?.length;return t<6?56:t>=6&&t<=7?48:t>=8&&t<=9?36:t>=10&&t<12?32:t===12?28:t>=13&&t<=15?24:t>=16&&t<=18?20:t>=19&&t<=24?16:12};var Ze=(e,t)=>{if(!t)return e;let n=$.pow(10,t);return $.div(Math.floor($.mul(e,n)),n)},Oe=(e,t,n)=>{let s=e===v?t:$.div(t,n),i=e===v?$.mul(t,n):t;return[s,i]},lo=e=>{if(typeof e=="object"){let{mode:t=v,value:n}=e,s=t||v,i=s===v?n?.[0]:n?.[1]||0;return{mode:s,value:i,thousandthValue:$.thousandFormat(i)}}return{mode:v,value:e||0,thousandthValue:$.thousandFormat(e||0)}},mo=(e,t=0)=>e?$.thousandFormat(Ze(e,t)):0;function co(e,t=16){let s=document.createElement("canvas").getContext("2d");s.font=`700 ${t}px ${ao.fontFamily}`;let i=s.measureText(e),a=Math.abs(i.actualBoundingBoxLeft)+Math.abs(i.actualBoundingBoxRight);return Math.max(i.width,a)}var uo=e=>typeof e=="string"&&e.startsWith("0")&&!e.startsWith("0.")?e.slice(1):e,po=e=>e?.split(".")?.[0]?.length>=30,_o=(e,t)=>e?.split(".")?.[1]?.length>t;var ge=(e,t)=>e?.symbol&&mt(e?.symbol)&&e?.symbol?.length>t?`${e?.symbol?.slice(0,t)}...`:e?.symbol;var qo=({value:e,precision:t,symbol:n,autoSize:s})=>{let i=(0,Je.useMemo)(()=>{if(!e)return"0";let a="(,|.)$",l=new RegExp(a).test(e);return`${mo(e,e.endsWith("0")?0:t)}${l?".":""}`},[e,t]);return(0,Je.useMemo)(()=>{let a=ge({symbol:n},12),l=(s||De)(`${i}${a}`),m=co(i,l);return[l,m]},[n,i])},Ge=qo;o();r();var N=y(w()),fo=y(J());be();var Ho=(e,t)=>{let{defaults:n,alls:s}=lt(e,({currencyId:i})=>i===t?.currencyId?"defaults":"alls");return[{type:"default",options:n,title:p("wallet_extension_send_item_default")},{type:"all",options:s,title:p("wallet_extension_send_item_all")}]},Qo=({value:e,options:t,defaultCurrency:n,onChange:s})=>{let[i,a]=(0,N.useState)(""),l=(0,N.useCallback)(d=>{a(d.target.value)},[]),m=(0,N.useMemo)(()=>t.filter(d=>d.isoCode?.toUpperCase()?.indexOf(i?.toUpperCase())>-1),[i,t]),c=Ho(t,n),_=p("wallet_extension_send_input_search_fiat");return N.default.createElement(f.Box,{className:"select-fiat-currency"},N.default.createElement(f.Box,{className:"select-fiat-currency__search"},N.default.createElement(ce.Search,{value:i,placeholder:_,onChange:l,alt:"search"})),i?N.default.createElement(_e,{dataSource:m,emptyText:p("wallet_extension_text_noresults"),renderItem:d=>N.default.createElement(_e.Cell,{title:d?.isoCode,className:"select-fiat-currency__item",onClick:()=>{s?.(d)}},d?.currencyId===e?.currencyId&&N.default.createElement(Ue.Circle,{checked:d?.currencyId===e?.currencyId}))}):N.default.createElement(f.Box,{className:"select-fiat-currency__content"},c.map(({type:d,title:h,options:C})=>N.default.createElement(f.Box,{className:(0,fo.default)("select-fiat-currency__group",`select-fiat-currency__group__${d}`)},N.default.createElement(S.Text,{size:S.SIZE.xs,className:"select-fiat-currency_title"},h),N.default.createElement(_e,{dataSource:C,renderItem:T=>N.default.createElement(_e.Cell,{title:T?.isoCode,className:"select-fiat-currency__item",onClick:()=>{s?.(T)}},T?.currencyId===e?.currencyId&&N.default.createElement(Ue.Circle,{checked:T?.currencyId===e?.currencyId}))})))))},go=N.default.memo(Qo);o();r();o();r();var E=y(w());o();r();var Co=e=>e?.decimals;o();r();o();r();var yo=(e,t,n)=>{!e&&t&&n?.current?.input?.focus()};var xo=yo;o();r();var jo="usd",Ko=5e3,Yo=async e=>{let t={coinIds:[e]},n={headers:{currency:jo}},{data:s}=await pt(dt.postMarketUrl,t,n),{currencyAmount:i}=s[0]||{};return i},Zo=e=>{let t=Fe(e,{withPrice:!0}),n=t?.usdPrice,{data:s}=Ee(()=>Yo(e),{pollingInterval:Ko,ready:e!==void 0&&t?.coinId!==void 0&&!n});return{...t,coinPrice:n||s||"0"}},ho=Zo;var et=2,Jo=(e,t)=>!t||t<=0||e===void 0?et:Math.floor(e-Math.log10(t)),er=({coinId:e,decimals:t,visible:n,autoFocus:s,maximumMode:i,maximumAmount:a,initialValue:l,flatCurrency:m,onChange:c,switchDisabled:_,onModeChnage:d,onAmountChange:h,maxAmount:C})=>{let{mode:T,value:F,thousandthValue:Q}=lo(l),G=(0,E.useRef)(null),[I,B]=(0,E.useState)(T),[x,X]=(0,E.useState)(F||"0"),[ee,V]=(0,E.useState)(Q),[z,j]=(0,E.useState)(!1),P=ho(e),g=(0,E.useMemo)(()=>pe(m?.usdToThisRate,P.coinPrice),[m?.usdToThisRate,P.coinPrice]),M=(0,E.useMemo)(()=>{let L=t??P.decimals,k=Jo(L,Number(g)),he=C!==void 0?$.digitLength($.mul(C,g)):et;return Math.max(et,k,he)},[t,P.decimals,g,C]),te=(0,E.useCallback)(Te(async()=>{if(Number(g)&&!_){if(j(!0),await qt(310),j(!1),I===v){let k=pe(x,g);X(k)}else{let k=ze(x,g);X(k)}let L=I===ne?v:ne;B(L),d?.(L)}},300),[I,x,g,P,i,a]),oe=(0,E.useCallback)((L,k)=>{x==="0"&&!L||po(L)||(X(L||"0"),V(uo(k?.target?.value||L)),h?.(Oe(I,L,g),!0))},[I,x,g]),xe=(0,E.useCallback)(()=>{xo(n,s,G)},[n,s]);(0,E.useEffect)(()=>{s&&G?.current?.input?.focus()},[s]),(0,E.useEffect)(()=>{n||G?.current?.input?.focus()},[n]);let Ve=(0,E.useMemo)(()=>{let L=k=>_o(x,k)?Ze(x,k):x;if(I===v){let k=t??Co(P);return{symbol:P.symbol,switchFlatable:!1,value:L(k),precision:k,contrastValue:ae(x,{precision:k}).value}}return{symbol:m?.isoCode,switchFlatable:!0,value:L(M),precision:M,contrastValue:le(x).value}},[I,t,x,P,m,M]),$e=(0,E.useMemo)(()=>{if(I===v){let k=pe(x,g);return{value:le(k).value,symbol:m?.isoCode,switchFlatable:!0}}let L=i?a:ze(x,g);return{value:ae(L,{precision:P.displayPrecision,isStableCoin:P.stableCoin,useLargeNumberPrecision:!0}).value,symbol:P.symbol,switchFlatable:!1}},[I,m,i,P,x,a,g]);return(0,E.useEffect)(()=>{!i||I===ne&&!Number(g)||X(I===v?a:pe(a,g))},[i,a,g]),(0,E.useEffect)(()=>{let L=Oe(I,x,g);i&&(L=[a,$.mul(a,g)]),h?.(L),c?.({mode:I,coin:P,flatCurrency:m,flatCurrencyId:m?.currencyId,value:Oe(I,x,g)})},[I,g,x,i,a]),[{inputRef:G,realInput:ee,inputEnter:Ve,contrastEnter:$e,switchAnimating:z,switchModeable:!!Number(g)},{onInputBlur:xe,onInputChange:oe,onSwitchPricingMode:te}]},tt=er;o();r();var de=y(w());var tr=(e,t)=>{let{flatCurrencyId:n}=e||{},[s,i]=(0,de.useState)(!1),a=re(ht),l=re(xt),m=n&&a.find(({currencyId:C})=>C===n),[c,_]=(0,de.useState)(m||l),d=(0,de.useCallback)(Te(C=>{i(typeof C=="boolean"?C:T=>!T)},300),[]),h=(0,de.useCallback)(C=>{_(C),d(!1),t?.(C)},[]);return[{visible:s,options:a,flatCurrency:c,defaultCurrency:l},{onToggleVisible:d,onFlatCurrencyChange:h}]},ot=tr;o();r();var rt=(0,b.forwardRef)(({coinId:e,onChange:t,precision:n,disabled:s=!1,autoFocus:i=!0,decimals:a,maximumMode:l,maximumAmount:m,onAmountChange:c,onModeChnage:_,onFlatChange:d,initialValue:h,className:C,maxAmount:T,...F},Q)=>{let[{visible:G,options:I,flatCurrency:B,defaultCurrency:x},{onToggleVisible:X,onFlatCurrencyChange:ee}]=ot(h,d),V=s&&typeof s=="boolean"?s:s?.input,z=s&&typeof s=="boolean"?s:s?.switch,[{inputRef:j,realInput:P,inputEnter:g,contrastEnter:M,switchModeable:te,switchAnimating:oe},{onInputChange:xe,onSwitchPricingMode:Ve,onInputBlur:$e}]=tt({coinId:e,visible:G,decimals:a,autoFocus:i,maximumMode:l,initialValue:h,maximumAmount:m,flatCurrency:B,onChange:t,switchDisabled:z,onAmountChange:c,onModeChnage:_,maxAmount:T});(0,b.useImperativeHandle)(Q,()=>({setInputAmount:xe}));let L=ge(g,12),k=ge(M,6),[he,Fo]=Ge(g),Ro=(0,b.useMemo)(()=>De(`${M.value}${M.symbol}`),[M.value,M.symbol]);return b.default.createElement(f.Box,{className:(0,Ce.default)("coinAmount__input",C),...F},b.default.createElement(f.FlexBox,{className:"coinAmount__input__main-box",justify:"center",align:f.ALIGN.center,style:{fontSize:he}},b.default.createElement(ue,{maxWidth:"280",title:he===12&&b.default.createElement(S.Text,{inherit:!0,wrap:!0},`${P} ${g.symbol}`)},b.default.createElement(f.FlexBox,{className:(0,Ce.default)("coinAmount__input__input__enter",{coinAmount__input__input__enter__animation:oe})},oe?b.default.createElement(S.Text,{className:"coinAmount__input__input__enter__text",ellipsis:!0},g.contrastValue):b.default.createElement(ce.Number,{min:0,disabled:V,enableMinus:!1,autoFocus:!0,ref:j,max:Number.MAX_VALUE,precision:typeof n=="number"?n:g.precision,style:{width:Fo},value:g.value,onChange:xe,innerClassName:"coinAmount__input__box",inputClassName:"coinAmount__input__core",onBlur:$e}),b.default.createElement(f.Box,{className:"coinAmount__input__main__symbol",onClick:g.switchFlatable?X:()=>{j?.current?.input?.focus()}},L,g.switchFlatable&&b.default.createElement(K,{size:K.SIZE.sm,icon:"okx-wallet-plugin-select-unfold",className:"coinAmount__input__legal__icon"})))),b.default.createElement(K.IconButton,{hovered:!1,size:K.SIZE.lg,tooltip:!te||z?{title:p("wallet_extension_receive_tooltip_not_support"),maxWidth:"350px",placement:ue.DIRECTION.bottomLeft}:!1,className:(0,Ce.default)("coinAmount__input__swtich__mode",{coinAmount__input__swtich__mode__disabled:z||!te,coinAmount__input__swtich__mode__abled:te&&!z}),icon:"okx-wallet-plugin-exchange",onClick:Ve})),b.default.createElement(f.FlexBox,{className:"coinAmount__input__sub__box",justify:"center",style:{fontSize:Ro}},b.default.createElement(f.FlexBox,{align:f.ALIGN.center,className:(0,Ce.default)("coinAmount__input__contrast__enter",{coinAmount__input__contrast__enter__animation:oe}),onClick:M.switchFlatable?X:()=>{}},b.default.createElement(S.Text,{className:"coinAmount__input__contrast__enter__text",ellipsis:!0},M?.value),b.default.createElement(f.Box,{className:"coinAmount__input__sub__box__symbol"},k,M.switchFlatable&&b.default.createElement(K,{className:"coinAmount__input__legal__icon",size:K.SIZE.sm,icon:"okx-wallet-plugin-select-unfold"})))),b.default.createElement(me,{isFull:!0,noMargin:!0,noContentPadding:!0,visible:G,title:p("wallet_extension_send_title_select_fiat"),onClose:X},b.default.createElement(go,{value:B,options:I,defaultCurrency:x,onChange:ee})))});rt.LEGALMODE=ne;rt.DIGITALMODE=v;var nt=b.default.memo(rt);o();r();var se=y(w()),To=y(J());be();o();r();var bo={input_symbol:"_input_symbol_15l00_1",inputSymbol:"_input_symbol_15l00_1"};var or=({symbol:e,decimals:t,value:n,autoSize:s,placeholder:i,style:a={},disabled:l=!1,onChange:m,symbolClassName:c="",max:_=Number.MAX_VALUE,min:d=0,justify:h="center",align:C=f.ALIGN.center,clickSymbolFocus:T=!1,onRef:F=at})=>{let[Q,G]=Ge({value:n,precision:t,symbol:e,autoSize:s}),[I,B]=(0,se.useState)(null);return se.default.createElement(f.FlexBox,{justify:h,align:C,style:{fontSize:Q,height:"74px",fontWeight:700,position:"relative",maxWidth:"100%",...a}},se.default.createElement(ce.Number,{onRef:x=>{B(x),F(x)},min:d,autoFocus:!0,disabled:l,enableMinus:!1,max:_,precision:t,value:n,placeholder:i,onChange:m,style:{width:G},innerClassName:"coinAmount__input__box",inputClassName:"coinAmount__input__core"}),se.default.createElement(S.Text,{inherit:!0,className:(0,To.default)(bo.input_symbol,c),onClick:()=>{T&&I&&I.focus()}},e))},rr=se.default.memo(or);o();r();var Y=y(w());var nr=({coinId:e,visible:t,initialValue:n,onToggleVisible:s,onConfirm:i})=>{let[a,l]=(0,Y.useState)({});return Y.default.createElement(me.Action,{zIndex:10003,titleCenter:!0,visible:t,containerClassName:"receive_amount__container",scrollBoxClassName:"receive_amount__scrollBox",title:p(n?.mode?"wallet_extension_receive_title_modify_amount":"wallet_extension_receive_title_set_amount"),className:"receive__set_receive_amount",onClose:s},Y.default.createElement("div",{className:"receive__set_receive_amount__body"},Y.default.createElement(nt,{className:"receive__set_receive_amount__input",coinId:e,onChange:l,initialValue:n})),Y.default.createElement(ke.FooterActions,{affixStyle:{position:"static"},style:{backgroundColor:"inherit"}},Y.default.createElement(R,{size:R.SIZE.lg,type:R.TYPE.highlight,category:R.CATEGORY.fill,disabled:!Number(a?.value?.[0]),onClick:()=>{i(a)}},p("wallet_extension_receive_btn_confirm"))))},Io=Y.default.memo(nr);o();r();o();r();var sr=()=>null,So=sr;var Ao=So;o();r();var ye=y(w());function st({coin:e,address:t,className:n}){let s=e?.chainId&&Lt(e),[i,a]=(0,ye.useState)(!!window.sessionStorage.getItem("notTaprootReceiveTipClosed")),l=/^(bc1p)/.test(t);return!!s&&ye.default.createElement("div",{className:n},!l&&!i&&ye.default.createElement(we,{title:p("wallet_extension_cat_alertbanner_only_taproot",{contractName:p("wallet_extension_cat_icu_cat"),contractType:p("wallet_extension_cat_icu_taproot")}),onClose:()=>{a(!0),window.sessionStorage.setItem("notTaprootReceiveTipClosed","true")}}))}o();r();var Z={"alert-container":"_alert-container_1f35r_1",alertContainer:"_alert-container_1f35r_1",amountContainer:"_amountContainer_1f35r_4",priceContainer:"_priceContainer_1f35r_12",mainTitle:"_mainTitle_1f35r_18",subTitle:"_subTitle_1f35r_24",titleTooltip:"_titleTooltip_1f35r_30",closeIcon:"_closeIcon_1f35r_34"};o();r();var ir=(e,t)=>{let s=Xt(e)[t],i=ve?.[e]?.[s];return!!s&&!!i&&i===Ct.SEGWIT_TAPROOT},vo=ir;o();r();var ar=(e,t)=>{let n=Ut(),s=n.get("coinId"),i=s!==null?+s:void 0,a=Fe(e||i),l=Vt(a?.localType)||{},[,m]=zt(e||i),c=n.get("addressType")||l[t],_=Ot(a?.localType),d=t||(c?l[c]:_),h=c?p(Ae[ve?.[a?.localType]?.[c]]):a?.chainName,C=c?!0:a?.aggregation,T=a?.image,F=a&&c?Ht(p,c,m):"";return It(()=>a?.coinId?{...a,receiveAddress:d,coinLogo:T,aggregation:C,addressType:c,copyMessage:F,tag:h}:null,[c,C,h,a,T,F,d])},Eo=ar;o();r();var it=y(w());be();o();r();var Lo=(e={})=>Object.entries(e).filter(([,t])=>!!t).map(([t,n])=>`${t}=${n}`).join("&");var lr=({baseCoinId:e,receiveState:t,walletAddress:n,address:s,localType:i,chainName:a})=>{let l=(0,it.useMemo)(()=>{switch(i){case ft:return"";default:return`${a?.trim()?.toLowerCase()}:`}},[a,i]);return(0,it.useMemo)(()=>{let{mode:c,value:_,flatCurrency:d}=t||{};if(ct(_))return n;let C={token:e===0?!1:s,amount:_?.[0]||0,currency:c!==v?d?.isoCode:!1,valuation:c!==v?_?.[1]:!1},T=Lo(C);return`${l}${n}?${T}`},[t,n,s,l])},No=lr;o();r();var Xe=y(w());var mr=({localType:e,chainName:t})=>{let{keyringIdentityType:n}=re(yt);return(0,Xe.useMemo)(()=>e===_t&&vt(n)?p("extension_wallet_receive_text_supported_only"):Ie("wallet_extension_toast_send_only_network_assets_tothis_address",{chain_name:Xe.default.createElement("span",{style:{color:"var(--okd-color-content-primary)"}},t)}),[e,t])},wo=mr;o();r();var ie=y(w());var cr=()=>{let[e,t]=(0,ie.useState)({}),[n,s]=(0,ie.useState)(!1),i=(0,ie.useCallback)(()=>{s(m=>!m)},[]),a=(0,ie.useCallback)(m=>{i(),t(m)},[]),l=(0,ie.useCallback)(()=>{t({})},[]);return[{visible:n,receiveState:e},{onConfirm:a,onClearState:l,onToggleVisible:i}]},Po=cr;o();r();var ur=({visible:e,mode:t,value:n,coin:s,flatCurrency:i,onClear:a})=>{let[l,m]=n||[],c=(0,A.useMemo)(()=>t===v?ae(l,{precision:s?.decimals,symbol:s?.symbol}).value:le(m,{currencySign:i?.symbol}).value,[t,l,m,i?.symbol,s?.symbol]),_=(0,A.useMemo)(()=>t===v?le(m,{currencySign:i?.symbol,useApproximate:!0}).value:ae(l,{precision:s?.decimals,symbol:s?.symbol,useApproximate:!0}).value,[t,l,m,i?.symbol,s?.symbol]);return A.default.createElement("div",{style:{visibility:e?"visible":"hidden"},className:Z.amountContainer},A.default.createElement("div",{className:Z.priceContainer},A.default.createElement(S.Text,{className:Z.mainTitle,strong:!0,ellipsis:{tooltip:A.default.createElement(S.Text,{className:Z.titleTooltip,wrap:!0},c)}},e?c:"0"),A.default.createElement(S.Text,{className:Z.subTitle,strong:!0,ellipsis:{tooltip:A.default.createElement(S.Text,{className:Z.titleTooltip,wrap:!0},_)}},e?_:"0")),A.default.createElement(K,{onClick:a,className:(0,ko.default)(Z.closeIcon,"okx-wallet-plugin-close")}))},dr=({address:e,coinId:t,onBack:n,onClose:s,closeable:i=!0,hideNavigator:a})=>{let l=Eo(t,e),{localType:m,symbol:c,receiveAddress:_,chainName:d,coinLogo:h,aggregation:C,copyMessage:T,tag:F}=l??{},Q=Re({localType:m}),G=m===Se&&Ne(),I=gt(m),B=Q({address:_}),x=vo(m,B),X=wo({localType:m,chainName:d}),[{visible:ee,receiveState:V},{onConfirm:z,onClearState:j,onToggleVisible:P}]=Po(),g=No({...l??{},receiveState:V,walletAddress:B}),M=!!V?.mode,te=l?.protocolId,oe=[H.BRC_20,H.FRACTAL_BRC20,H.BRC_20S,H.SRC_20,H.ARC_20,H.RUNES,H.RUNEMAIN,H.FRACTAL_RUNES,H.CAT_20].includes(te);return l?A.default.createElement(Ye,{style:{overflow:ee?"hidden":"auto"},navigator:{bordered:!1,onBack:n,onClose:s,closeable:i},content:{localType:I,showXlayerSwitch:G,symbol:c,coinLogo:h,chainName:d,tag:F,aggregation:C,QRCodeAddress:g,title:X,walletAddress:_,message:T,children:A.default.createElement(A.default.Fragment,null,A.default.createElement(ur,{visible:M,...V,onClear:j}))},hideNavigator:a,slot:{top:A.default.createElement(A.default.Fragment,null,A.default.createElement(jt,{coin:l}),A.default.createElement(st,{coin:l,address:B,className:Z.alertContainer}))}},A.default.createElement(ke.FooterActions,{className:"receive__footer-action",affixStyle:{position:"absolute",bottom:0,left:"unset",transform:"unset",width:"100%",zIndex:2}},A.default.createElement(Ao,{...l??{},...V}),A.default.createElement(R,{"data-testid":U.RECEIVE_PAGE.RECEIVE_PAGE_MODIFY_AMOUNT_BUTTON,size:R.SIZE.lg,type:R.TYPE.highlight,category:R.CATEGORY.fill,onClick:P,disabled:x||oe},p(V?.mode?"wallet_extension_receive_btn_modify_amount":"wallet_extension_receive_btn_set_amount"))),A.default.createElement(Io,{...l,visible:ee,onConfirm:z,onToggleVisible:P,initialValue:V})):null},_m=A.default.memo(dr);export{jt as a,Kt as b,Jt as c,eo as d,Ye as e,ne as f,Co as g,ho as h,nt as i,rr as j,st as k,_m as l};
//# sourceMappingURL=chunk-PLVYKYSQ.js.map
