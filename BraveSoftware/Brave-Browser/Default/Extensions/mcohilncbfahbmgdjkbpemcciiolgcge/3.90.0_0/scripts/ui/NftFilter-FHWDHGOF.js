import{a as _e}from"./chunk-IWYRUFZN.js";import"./chunk-452JEOHF.js";import{a as pe}from"./chunk-DHQ6GCYC.js";import{a as ue}from"./chunk-NIGR3I4J.js";import{a as he}from"./chunk-JXVJV7BH.js";import{d as de}from"./chunk-AVG63QW4.js";import{a as me}from"./chunk-HE577UXH.js";import{b as h,i as ie}from"./chunk-NVBOE3PE.js";import{b as O}from"./chunk-TXIKSV43.js";import"./chunk-LQJXR5XX.js";import"./chunk-6GJ4TEPK.js";import"./chunk-PMG6IXOR.js";import"./chunk-BD5XO4WL.js";import{b as fe}from"./chunk-YVLQLIW6.js";import{a as te}from"./chunk-HBXZ3GPM.js";import"./chunk-6C7RJCTT.js";import{o as j}from"./chunk-N6PI3XTA.js";import"./chunk-7DW2ZPOD.js";import"./chunk-SI5WJURV.js";import"./chunk-ARDRUD4P.js";import"./chunk-WYX7GFOD.js";import"./chunk-G6PA2JD3.js";import"./chunk-N2N44VBE.js";import"./chunk-ZDJRNLYZ.js";import"./chunk-RV5WZKGQ.js";import"./chunk-MJSLAJV6.js";import{i as X,q as Q,u as R}from"./chunk-KC2XLVFC.js";import{ra as ee}from"./chunk-MJDO2VHF.js";import"./chunk-TFTCL6XD.js";import"./chunk-TBQGFYU3.js";import"./chunk-L5AZICLM.js";import"./chunk-WLEQHCLB.js";import{a as oe}from"./chunk-QF42JCDG.js";import"./chunk-DRCTWZQB.js";import"./chunk-KGMP5AO5.js";import"./chunk-EAE2NUFS.js";import"./chunk-OLICTWCW.js";import"./chunk-HZOYPVSA.js";import"./chunk-Z4GX4TH2.js";import"./chunk-OKGWI7CU.js";import"./chunk-RFTC6RNT.js";import"./chunk-I6UBKGB5.js";import"./chunk-ZIR6OOXX.js";import"./chunk-KYVX6VSI.js";import"./chunk-WN3TRBGI.js";import{c as I}from"./chunk-3FMJDUGT.js";import{c as J}from"./chunk-2O5TMJZM.js";import{O as $}from"./chunk-UI4IZNSB.js";import"./chunk-FCGPU67F.js";import"./chunk-FXRKHQFW.js";import"./chunk-YTHL7242.js";import"./chunk-XOHZCMW2.js";import"./chunk-EQ34WRCJ.js";import{p as c,q as Z}from"./chunk-DSNMNSMD.js";import"./chunk-U2IAA473.js";import{a as We}from"./chunk-DOSBJ3L3.js";import"./chunk-3O2IEAHF.js";import{E as se,H as ce,o as re,q as ae,r as T,y as G}from"./chunk-URGJ6D4O.js";import"./chunk-WC6GCIBJ.js";import"./chunk-JRC3ZUKA.js";import"./chunk-4U5VOZ7H.js";import"./chunk-FVHZWNUE.js";import"./chunk-IQUFNLVG.js";import{C,t as ne,w as le}from"./chunk-XYWWXNVK.js";import"./chunk-VYWNZTTM.js";import"./chunk-5CHTOVVG.js";import{a as A}from"./chunk-FB3ILH2L.js";import{b as F}from"./chunk-FLSAETOH.js";import"./chunk-TGW66MRK.js";import"./chunk-LRIABBHT.js";import"./chunk-NEASQB35.js";import{Aa as De,N as Y,xa as M}from"./chunk-4C5HF6J2.js";import"./chunk-U6W3TK77.js";import"./chunk-WJI4CIAQ.js";import"./chunk-GTDBOF5Q.js";import"./chunk-EI7BJC6V.js";import"./chunk-B3EOGJ3Y.js";import"./chunk-YL2RBVBZ.js";import"./chunk-4HAPQ4J7.js";import"./chunk-F5YUOHHL.js";import"./chunk-LWG66QL2.js";import"./chunk-26XSB24L.js";import"./chunk-IFKSF5TW.js";import"./chunk-PDIVTGDM.js";import"./chunk-UL6IEE2K.js";import"./chunk-4ARIYUS3.js";import{f as g,o as e,q as t}from"./chunk-UWURTNRY.js";e();t();var n=g(F());var je=g(We());var z=g(A());De();e();t();var m=g(F());e();t();var a={"ok-nft-filter-main":"_ok-nft-filter-main_ihlaj_1",okNftFilterMain:"_ok-nft-filter-main_ihlaj_1","ok-nft-filter-block":"_ok-nft-filter-block_ihlaj_7",okNftFilterBlock:"_ok-nft-filter-block_ihlaj_7","ok-nft-filter-block-title":"_ok-nft-filter-block-title_ihlaj_14",okNftFilterBlockTitle:"_ok-nft-filter-block-title_ihlaj_14","add-weight":"_add-weight_ihlaj_22",addWeight:"_add-weight_ihlaj_22","ok-nft-filter-collections":"_ok-nft-filter-collections_ihlaj_22",okNftFilterCollections:"_ok-nft-filter-collections_ihlaj_22","ok-nft-filter-block-title-collections":"_ok-nft-filter-block-title-collections_ihlaj_25",okNftFilterBlockTitleCollections:"_ok-nft-filter-block-title-collections_ihlaj_25","ok-nft-filter-search-input":"_ok-nft-filter-search-input_ihlaj_28",okNftFilterSearchInput:"_ok-nft-filter-search-input_ihlaj_28","ok-nft-filter-no-collection":"_ok-nft-filter-no-collection_ihlaj_31",okNftFilterNoCollection:"_ok-nft-filter-no-collection_ihlaj_31","ok-nft-filter-search-item":"_ok-nft-filter-search-item_ihlaj_52",okNftFilterSearchItem:"_ok-nft-filter-search-item_ihlaj_52","ok-nft-filter-search-item-popup":"_ok-nft-filter-search-item-popup_ihlaj_62",okNftFilterSearchItemPopup:"_ok-nft-filter-search-item-popup_ihlaj_62","ok-nft-filter-search-icon":"_ok-nft-filter-search-icon_ihlaj_76",okNftFilterSearchIcon:"_ok-nft-filter-search-icon_ihlaj_76","ok-nft-filter-search-name":"_ok-nft-filter-search-name_ihlaj_82",okNftFilterSearchName:"_ok-nft-filter-search-name_ihlaj_82","ok-nft-filter-search-selected":"_ok-nft-filter-search-selected_ihlaj_89",okNftFilterSearchSelected:"_ok-nft-filter-search-selected_ihlaj_89","ok-nft-filter-load-more":"_ok-nft-filter-load-more_ihlaj_95",okNftFilterLoadMore:"_ok-nft-filter-load-more_ihlaj_95"};var Ue=({loading:o,loaded:r,collectionsList:i,searchResult:l,onSearchItemClick:d,loadingMore:k=!1})=>o||!r?m.default.createElement(me,{overwriteClassName:!0,className:"ok-home--loading-parent"}):i.length===0?m.default.createElement("div",{className:a.okNftFilterNoCollection},m.default.createElement(G.State,{type:G.State.TYPE.noRecord,title:c("wallet_extension_nft_text_no_collection")})):m.default.createElement(m.default.Fragment,null,i.map((f,s)=>m.default.createElement("div",{onClick:()=>{d(f)},key:s,className:a.okNftFilterSearchItem},m.default.createElement("div",{className:a.okNftFilterSearchItemPopup}),m.default.createElement(se,{errorImg:"/static/images/tx-history/default-nft.svg",width:24,height:24,src:f.icon||"/static/images/tx-history/default-nft.svg",className:a.okNftFilterSearchIcon,alt:""}),m.default.createElement(_e,{className:a.okNftFilterSearchName,maxWidth:"270px",text:f.name}),m.default.createElement(T,{checked:l.includes(f.projectId),className:a.okNftFilterSearchSelected}))),m.default.createElement("div",{className:a.okNftFilterLoadMore},k&&m.default.createElement(le,null))),ke=Ue;e();t();var x=g(F());var Ce=g(A());e();t();function qe(o){let{setting:r,onChanged:i}=o,l=f=>s=>{i?.(f,s.target.checked)},d=(f,s,b)=>()=>{let S=re.show({title:f,confirmText:b,children:s,onConfirm:()=>{S.destroy()}});return S};return{settings:[{key:h.hideUnverifiedCollection,checked:r.hideUnverifiedCollection,onChange:l(h.hideUnverifiedCollection)},{key:h.hideManualHidden,checked:r.hideManualHidden,onChange:l(h.hideManualHidden)},{key:h.hideNoValue,checked:r.hideNoValue,onChange:l(h.hideNoValue),onShowDetail:d}]}}var ge=qe;e();t();var K={[h.hideNoValue]:{title:"extension_wallet_filter_text_donthide_valueless",dialog:{title:"extension_wallet_detail_title_valueless_item",content:"extension_wallet_detail_text_valueless_includes",confirm:"wallet_extension_btn_general_ok"}},[h.hideManualHidden]:{title:"extension_wallet_filter_text_dontshow_autohide"},[h.hideUnverifiedCollection]:{title:"extension_wallet_filter_text_dontshow_unverif"}};e();t();var N={root:"_root_1fans_1",item:"_item_1fans_9",name:"_name_1fans_14",icon:"_icon_1fans_19",checkbox:"_checkbox_1fans_24",dialogContent:"_dialogContent_1fans_28"};function Ve(o){let{settings:r}=ge(o);return x.default.createElement(I.Box,{className:N.root},x.default.createElement(j.Text,{size:j.SIZE.md,strong:!0,className:N.title},c("extension_wallet_filter_title_itemfilter")),r.map(i=>{let l=K[i.key].dialog;return x.default.createElement(I.Box,{key:i.key,className:N.item},x.default.createElement(I.Box,{className:N.name},x.default.createElement(j.Text,{size:j.SIZE.sm},c(K[i.key].title)),l&&x.default.createElement(ne,{onClick:i.onShowDetail?.(c(l.title),x.default.createElement(I.Box,{className:N.dialogContent},Z(l.content)),c(l.confirm)),className:(0,Ce.default)("okx-wallet-plugin-information-circle",N.icon)})),x.default.createElement(T,{checked:i.checked,onChange:i.onChange,className:N.checkbox}))}))}var xe=Ve;e();t();var L=g(F());e();t();var E=g(F()),Ne=g(A());e();t();var w={"ok-button-checkbox-content":"_ok-button-checkbox-content_zlx3l_1",okButtonCheckboxContent:"_ok-button-checkbox-content_zlx3l_1","ok-button-checkbox-item":"_ok-button-checkbox-item_zlx3l_7",okButtonCheckboxItem:"_ok-button-checkbox-item_zlx3l_7","ok-button-checkbox-item-outline":"_ok-button-checkbox-item-outline_zlx3l_32",okButtonCheckboxItemOutline:"_ok-button-checkbox-item-outline_zlx3l_32"};var Ye=({item:o,clickHandle:r,value:i})=>E.default.createElement("div",{className:(0,Ne.default)(w.okButtonCheckboxItem,i.includes(o.value)?w.okButtonCheckboxItemOutline:""),onClick:()=>{r&&r(o.value)}},o.image&&E.default.createElement("img",{src:o.image}),E.default.createElement("span",null,o.label)),Se=Ye;var Ze=({options:o,valueOption:r=[],onChange:i})=>{let l=d=>{i&&i(d)};return L.default.createElement("div",{className:w.okButtonCheckboxContent},o[0]?o.map((d,k)=>L.default.createElement(Se,{key:k,item:d,value:r,clickHandle:l})):L.default.createElement(ce,null))},Fe=Ze;e();t();var ve=g(F());e();t();var be={NotCertified:0,Certified:1},ye=o=>$(J.getNftCollections,o);var Je=({searchKeyword:o,projectCertificated:r,hiddenStatus:i,ref:l})=>{let d=Q(o,{wait:500}),{currentNetworkUniqueId:k}=te(),f=ue(),[s,b]=(0,ve.useState)(!1),{data:S,loading:P,loadingMore:H}=R(_=>{let y=_?.nextPageNo??1;return ye({nameSearch:d,pageNo:y,address:f(k).join(","),pageSize:O,projectCertificated:r,hiddenStatus:i,chain:k}).then(B=>({list:B?.data?.list??[],nextPageNo:y*O<B?.data?.total?y+1:void 0}))},{reloadDeps:[d,k,r,i,f],isNoMore:_=>_?.nextPageNo===void 0,target:l,onError(){},onFinally(){b(!0)}});return{list:S?.list?.map(_=>({icon:_.image,name:_.name,chain:_.chain,isIdentification:_.certificateFlag===be.Certified,projectId:_.project}))??[],loading:P,loaded:s,ref:l,loadingMore:H}},Ie=Je;var $e=()=>{let o=(0,je.useHistory)(),r=(0,n.useRef)(null),{hasCurrentWalletChanged:i,currentWalletSetting:l,setWalletSetting:d,resetWalletSetting:k,formattedCurrentSetting:f}=pe(),{filterInfo:s,changeFilterInfo:b,changeCollectionFilter:S,changeSaleStatusFilter:P,resetFilterInfo:H,resetData:D}=he(),_=(0,n.useRef)(void 0);X(()=>{_.current={currentWalletSetting:l,filterInfo:s}});let y=ee(ie).total,B=Object.keys(s).some(u=>s[u].length!==0),we=[{label:c("wallet_extension_nft_filter_tag_offer_received"),value:"OFFERS_RECEIVE"},{label:c("wallet_extension_nft_filter_tag_on_sale"),value:"ON_SALE"}],[W,U]=(0,n.useState)(""),Be=f.projectCertificated,Te=f.hiddenStatus,{list:Ee,loading:Le,loaded:Pe,loadingMore:He}=Ie({projectCertificated:Be,hiddenStatus:Te,searchKeyword:W,ref:r}),Me=(0,n.useCallback)(u=>{U(u.target.value)},[]),Oe=u=>{let v=M(s.collectionFilter,[u.projectId]);S(v)},Ae=u=>{let v=M(s.saleStatusFilter,[u]);P(v)},Ge=()=>{Y({currentWalletSetting:l,filterInfo:s},_.current)||D()},Ke=()=>{H(!0),U(""),k(),setTimeout(()=>{o.goBack()},100)},q=()=>{Ge(),o.push(oe)},ze=(u,v)=>{b(),d(u,v)},V=!B&&!i;return n.default.createElement("div",{className:a.okNftFilterMain,ref:r},n.default.createElement(de,{title:c("wallet_extension_nft_popup_title_filter"),closeable:!1,onBack:q}),n.default.createElement("div",{className:a.okNftFilterBlock},n.default.createElement("div",{className:a.okNftFilterBlockTitle},c("wallet_extension_nft_filter_status")),n.default.createElement(Fe,{options:we,onChange:u=>{Ae(u)},valueOption:s.saleStatusFilter})),n.default.createElement(xe,{onChanged:ze,setting:l}),n.default.createElement("div",{className:(0,z.default)(a.okNftFilterBlock,a.addWeight,a.okNftFilterCollections)},n.default.createElement("div",{className:(0,z.default)(a.okNftFilterBlockTitle,a.okNftFilterBlockTitleCollections)},c("wallet_extension_nft_text_collections")),n.default.createElement(ae.Search,{className:a.okNftFilterSearchInput,placeholder:c("wallet_extension_nft_placeholder_search_collections",{},{useBr:!1}),value:W,size:"sm",onChange:Me}),n.default.createElement(ke,{loading:Le,loaded:Pe,loadingMore:He,collectionsList:Ee,searchResult:s.collectionFilter,onSearchItemClick:Oe})),n.default.createElement(fe.FooterActions,null,n.default.createElement(C,{category:C.CATEGORY.outline,type:C.TYPE.primary,size:C.SIZE.lg,disabled:V,onClick:()=>{Ke()}},c("wallet_extension_nft_btn_clear")),n.default.createElement(C,{category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:V,onClick:()=>{q()}},c("wallet_extension_nft_btn_apply",{number:y}))))},wo=$e;export{wo as default};
//# sourceMappingURL=NftFilter-FHWDHGOF.js.map
