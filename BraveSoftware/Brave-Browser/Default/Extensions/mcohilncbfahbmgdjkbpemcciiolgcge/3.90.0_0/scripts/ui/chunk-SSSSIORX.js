import{e as A}from"./chunk-WYX7GFOD.js";import{Bb as I,ja as h}from"./chunk-QF42JCDG.js";import{ja as g}from"./chunk-3F7OC7N7.js";import{Mb as x,gb as m,ib as p}from"./chunk-EQ34WRCJ.js";import{C,k as S,p as e}from"./chunk-DSNMNSMD.js";import{X as s,o as v,y as w}from"./chunk-URGJ6D4O.js";import{b}from"./chunk-FLSAETOH.js";import{f as E,o as c,q as d}from"./chunk-UWURTNRY.js";c();d();var W=E(b());c();d();var _=E(b());c();d();var u={dialogContent:"_dialogContent_12z9g_1",result:"_result_12z9g_4"};var y=({type:o,title:r,content:n,onConfirm:t,confirmText:l,closeable:i=!1})=>{let f=()=>o==="walletNotSupport"?_.default.createElement(_.default.Fragment,null,_.default.createElement(w.State,{type:w.State.TYPE.noRecord,title:r,description:n})):o==="error"?_.default.createElement(s,{status:s.STATUS.failure,title:r,subTitle:n,size:s.SIZE.sm,className:u.result}):_.default.createElement(s,{status:s.STATUS.success,title:r,subTitle:n,size:s.SIZE.sm,className:u.result}),a=v.action({title:" ",children:_.default.createElement("div",{className:u.dialogContent},f()),onConfirm:()=>{t(),a.destroy()},confirmText:l,hideCloseBtn:!i,maskClosable:!i});return a},F=({referralCodeInput:o,discountRate:r,toTradeUrl:n})=>{let t=y({type:"success",title:e("wallet_extension_dexreferral_title_youre_all_set"),content:e("wallet_extension_dexreferral_desc_youve_successfully_joined_the",{code:o,num:C.percent(S.mul(r,100))}),onConfirm:()=>{t.destroy(),globalThis.platform.openTab({url:n})},confirmText:e("wallet_extension_dexreferral_btn_start_trading")});return t},Y=(o="default")=>{let r={self_referred:{title:e("wallet_extension_dexreferral_title_invalid_referral_code"),content:e("wallet_extension_dexreferral_desc_cannot_use_own_code")},kys_address:{title:e("wallet_extension_dexreferral_title_invalid_referral_code"),content:e("wallet_extension_dexreferral_desc_for_security_reasons")},invalid_code:{title:e("wallet_extension_dexreferral_title_invalid_referral_code"),content:e("wallet_extension_dexreferral_desc_code_invalid_frozen")},default:{title:e("wallet_extension_dexreferral_title_invalid_referral_code"),content:e("wallet_extension_dexreferral_error_desc_network")}},n=r[o]||r.default,t=y({type:"error",title:n.title,content:n.content,onConfirm:()=>{t.destroy()},confirmText:e("commonall_text_btn_ok_active")});return t},T=y;var k=(o="bind")=>{let r=A({});return{filteredKeyringIdentities:(0,W.useMemo)(()=>r.reduce((t,l)=>{if(l.keyringIdentityType===x.MNEMONIC)t.push(l);else if(l.keyringIdentityType===x.PRIVATE_KEY&&o!=="create"){let i=l.walletIdentities.filter(f=>{let a=f.account,R=Boolean(a?.[m]),L=Boolean(a?.[p]);return R||L});i.length>0&&t.push({...l,walletIdentities:i})}return t},[]),[r,o])}},te=(o,r,n,t="bind")=>{let{serverWalletType:l}=o,i=()=>{n.length>0?T({type:"walletNotSupport",title:e("wallet_extension_dexreferral_join_modaltitle_wallet_not_eligible"),content:e("wallet_extension_dexreferral_join_modaldesc_switch_to_continue"),onConfirm:()=>{r.push(`${I}?type=${t}`)},confirmText:e("wallet_extension_dexreferral_join_modalbtn_btn_switch_wallet"),closeable:t==="create"}):T({type:"walletNotSupport",title:e("wallet_extension_dexreferral_join_modaltitle_wallet_not_eligible"),content:e("wallet_extension_dexreferral_join_modaldesc_avoid_losing_comm"),onConfirm:()=>{r.push(h)},confirmText:e("wallet_extension_dexreferral_join_modalbtn_btn_add_wallet"),closeable:t==="create"})};if(l!==g.IMPORT&&l!==g.NEW){if(t==="create")return i(),!1;let{account:f}=o,a=f;if(!a?.[m]&&!a?.[p])return i(),!1}return!0},re=k;export{F as a,Y as b,T as c,te as d,re as e};
//# sourceMappingURL=chunk-SSSSIORX.js.map
