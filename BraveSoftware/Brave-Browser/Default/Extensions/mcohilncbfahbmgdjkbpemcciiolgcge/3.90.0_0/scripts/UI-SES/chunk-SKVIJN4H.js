import{e as M,f as j}from"./chunk-4GPEWILH.js";import{n as v,r as A}from"./chunk-P6LOADSA.js";import{Xb as S,h as N,qd as U,tc as z}from"./chunk-CS663DOD.js";import{t as $}from"./chunk-K36OLSUR.js";import{N as R,d as P}from"./chunk-4RYTWPZK.js";import{e as T,n as e,p as t}from"./chunk-N62DF26F.js";e();t();var o=T(P());var b=T(R());e();t();var p=T(P());e();t();var q={root:"_root_bh6qy_1"};var oe=()=>window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||1;function B({word:i,prefix:x,active:_}){let a=(0,p.useRef)(),f=(0,p.useRef)(null),E=_?S("--okd-color-content-inverse"):S("--okd-color-content-primary"),g=_?S("--okd-color-common-transparent"):"transparent",y=(0,p.useCallback)(({style:n={}})=>{let r=f.current,m=a.current,{fontSize:u=16,fontFamily:w=j.fontFamily,color:D=E,backgroundColor:C=g,textAlign:H="left",textBaseline:W="middle",fontWeight:G="normal",x:I=x?8:16}=n;r.fillStyle=C,r.fillRect(0,0,m.width,m.height),r.beginPath(),r.font=`${G} ${u}px ${w}`,r.textAlign=H,r.textBaseline=W,r.fillStyle=D,r.fillText(i,I,23),r.stroke()},[i,_,x]);return(0,p.useEffect)(()=>{let n=a.current,r=n.clientWidth,m=n.clientHeight,u=oe();n.width=Math.round(r*u),n.height=Math.round(m*u),f.current=n?.getContext("2d"),n.style.width=`${r}px`,n.style.height=`${m}px`,f.current.scale(u,u),y(i)},[i,y]),p.default.createElement("canvas",{ref:a,className:q.root})}e();t();var h=T(P()),F=T(R());e();t();var k={root:"_root_1g6hy_1",word:"_word_1g6hy_8",hide:"_hide_1g6hy_31"};function re({prefix:i,onToggleShow:x=()=>{},children:_,active:a,ignore:f=!1}){let E=(0,h.useRef)(null),{isActive:g,moveActive:y,resetMoved:n}=M(E,{onActivate:()=>{x(!0)},onDeactivate:()=>{x(!1)}});(0,h.useEffect)(()=>{a===!1&&n()},[a,n]);let m=!(a||y&&g);return h.default.createElement("div",{ref:f?void 0:E,className:(0,F.default)(k.root)},h.default.createElement("div",{className:(0,F.default)(k.word,{[k.hide]:m}),"data-prefix":i},_))}var Y=re;e();t();var K=T(P());e();t();var Z={root:"_root_j158q_1"};var V=({word:i})=>K.default.createElement(v.Text,{className:Z.root,"data-testid":A.WALLET_MANAGEMENT_PAGE.SEED_PANEL_WORD_ITEM},i);e();t();e();t();var O={switchMode:"_switchMode_1wzc3_1",retry:"_retry_1wzc3_4"};e();t();e();t();var ne=()=>({showHoverProtect:!0}),J=ne;var Q=J;var L={canvas:"canvas",text:"text"},ie=({words:i,className:x,onToggleShow:_})=>{let{showHoverProtect:a}=Q(),[f,E]=(0,o.useState)(L.canvas),g=(0,o.useRef)(null),[y,n]=(0,o.useState)(!1),[r,m]=(0,o.useState)(!1),u=(0,o.useRef)(new Set),w=(0,o.useRef)(new Set),D=c=>{E(c)},{isActive:C,moveActive:H,resetMoved:W}=M(g),G=r||H&&(C||y),I=U(c=>s=>{s&&u.current.add(c),s?w.current.add(c):w.current.delete(c),n(w.current.size>0),_(s,c)}),X=()=>{m(c=>{let s=!c;return s||W(),_(s),s})};return o.default.createElement("div",{className:(0,b.default)("seed-panel",{...x}),"data-testid":A.WALLET_MANAGEMENT_PAGE.SEED_PANEL},o.default.createElement("div",{ref:g,className:"seed-panel__inner",onClick:X,"aria-hidden":!0},o.default.createElement("div",{className:"seed-panel__background","data-testid":A.WALLET_MANAGEMENT_PAGE.SEED_PANEL_BACKGROUND},i.map((c,s)=>{let ee=s,te=f===L.canvas?B:V;return o.default.createElement(Y,{key:ee,prefix:s+1,active:r,onToggleShow:I(s),ignore:!a},o.default.createElement(te,{word:c}))})),o.default.createElement("div",{className:(0,b.default)("seed-panel__overlay__container",{"seed-panel__overlay__container--active":a?G:r})},o.default.createElement($,{className:(0,b.default)("okx-wallet-plugin-eye-hide","seed-panel__text__lock","font-lock")}),o.default.createElement("div",{className:"seed-panel__tip__container"},N("wallet_extension_mid_desc_hover_show_phrase"),o.default.createElement("br",null),N("wallet_backup_wallet_text_no_one_is_looking")))),o.default.createElement(z.FlexBox,{className:O.switchMode,align:z.ALIGN.center,justify:"space-between"},f===L.canvas&&o.default.createElement(v.Text,{size:v.SIZE.xs,type:v.TYPE.secondary},N("wallet_extension_import_alert_seedphrase_error",{retry:o.default.createElement(v.Text,{size:v.SIZE.xs,className:O.retry,"data-testid":A.WALLET_MANAGEMENT_PAGE.SEED_PANEL_RETRY_BUTTON,onClick:()=>{D(L.text)}},N("wallet_extension_import_textbtn_retry"))}))))},ht=ie;export{ht as a};
//# sourceMappingURL=chunk-SKVIJN4H.js.map
