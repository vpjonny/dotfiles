import{a as R}from"./chunk-VPMJYCJE.js";import{a as ge}from"./chunk-2LQXRJSX.js";import{d as Ce,e as Te,f as q}from"./chunk-4GPEWILH.js";import"./chunk-GQMXYGI3.js";import"./chunk-JNONLPQN.js";import{a as ye}from"./chunk-JXSHNBQI.js";import{k as ue}from"./chunk-XUNQN7AR.js";import"./chunk-NM4WOM75.js";import{a as F}from"./chunk-YTEKE6MB.js";import{d as Q}from"./chunk-GZTCY5NF.js";import{f as H}from"./chunk-FOIG34R3.js";import"./chunk-HJASUAAI.js";import{n as r,s as he}from"./chunk-P6LOADSA.js";import{Ad as _e,B as ee,H as te,I as oe,J as re,Kb as ne,Sc as me,Tb as ae,Vc as de,Xb as ie,Zb as j,bc as V,dc as se,h as i,ic as K,lc as $,mc as le,nc as W,pd as fe,rc as ce,tc as m,yc as pe}from"./chunk-CS663DOD.js";import"./chunk-WFJJHRZ4.js";import"./chunk-L3SRMZJF.js";import"./chunk-OSJ66QVC.js";import"./chunk-PHQSAPCN.js";import"./chunk-H7A2GXA7.js";import"./chunk-SRAKDH5C.js";import{t as z,z as B}from"./chunk-K36OLSUR.js";import"./chunk-VYWNZTTM.js";import{N as Ae,d as U}from"./chunk-4RYTWPZK.js";import{e as D,n,p as a}from"./chunk-N62DF26F.js";n();a();var o=D(U());n();a();var Ee=(e=[])=>{let[l,s]=te(oe(e,"networkRank"),"isHotNetwork");return[l.concat(s),l,s]};n();a();var c=D(U());var Z=D(Ae());n();a();var P=D(U());n();a();var G={desc:"_desc_ry5iu_1",title:"_title_ry5iu_4",image:"_image_ry5iu_10"};var xe=({visible:e,onConfirm:l,onCancel:s})=>{let d=H({dark:"/cdn/assets/imgs/2412/8F66B8CAE282008D.png",light:"/cdn/assets/imgs/2412/8B571AA7CBAABE07.png"});return P.default.createElement(V,{visible:e,confirmText:i("commonall_modal_btn_copy"),cancelText:i("commonall_text_btn_cancel"),onConfirm:l,onCancel:s,hideCloseBtn:!0,btnFull:!0},P.default.createElement(P.default.Fragment,null,P.default.createElement($,{src:d,className:G.image}),P.default.createElement(r.Text,{strong:700,className:G.title,align:r.ALIGN.center},i("wallet_extension_copy_dialog_title_copy_directly")),P.default.createElement(r.Text,{type:r.TYPE.secondary,className:G.desc,align:r.ALIGN.center},i("wallet_extension_copy_dialog_desc_copy_directly"))))};n();a();var A=D(U());n();a();var M={desc:"_desc_1plle_1",codeWrapper:"_codeWrapper_1plle_4",title:"_title_1plle_8",number:"_number_1plle_14",image:"_image_1plle_25"};var Ie=({visible:e,onConfirm:l,code:s})=>{let d=s.length,f=H({dark:"/cdn/assets/imgs/2412/598306CAE0933FE3.png",light:"/cdn/assets/imgs/2412/9A879EAAC6D05761.png"});return A.default.createElement(V,{visible:e,confirmText:i("commonall_text_btn_confirm"),onConfirm:l,hideCloseBtn:!0},A.default.createElement(A.default.Fragment,null,A.default.createElement($,{src:f,className:M.image}),A.default.createElement(r.Text,{strong:700,className:M.title,align:r.ALIGN.center},i("wallet_extension_copy_dialog_title_safe_mode")),A.default.createElement(r.Text,{type:r.TYPE.secondary,className:M.desc,align:r.ALIGN.center},i("wallet_extension_copy_dialog_safe_mode_variable",{add:A.default.createElement(r.Text,{type:r.TYPE.secondary,strong:700},i("wallet_extension_copy_dialog_icu_safe_mode"))})),A.default.createElement(m.FlexBox,{align:m.ALIGN.center,justify:m.ALIGN.center,className:M.codeWrapper},Array(d).fill(0).map((p,u)=>A.default.createElement(m.FlexBox,{key:u,className:M.number,justify:m.ALIGN.center,align:m.ALIGN.center},s[u])))))};n();a();var k=D(U());var we=()=>window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||1,ve=(e,l,s)=>{if(typeof l!="string")return;let{canvas:d}=e,{fontSize:f=16,fontFamily:p=q.fontFamily,color:u="black",textAlign:y="left",textBaseline:g="top",lineHeight:T=24,fontWeight:C="normal",maxWidth:E=300,padding:x=[20,12]}=s,[t]=x;e.font=`${C} ${f}px ${p}`,e.textAlign=y,e.textBaseline=g,e.fillStyle=u;let _=l.split(""),h="",O=1;for(let L=0;L<_.length;L++){let Y=h+_[L];e.measureText(Y).width>E&&L>0?(h=_[L],O+=1):h=Y}let N=T*O+t,b=we();d.height=Math.round(N*b),d.style.height=`${N}px`,e.scale(b,b)},Ne=(e,l,s)=>{if(typeof l!="string")return;let{fontSize:d=16,fontFamily:f=q.fontFamily,color:p="black",textAlign:u="left",textBaseline:y="top",lineHeight:g=24,fontWeight:T="normal",maxWidth:C=300,padding:E=[20,12]}=s,[x,t]=E;e.font=`${T} ${d}px ${f}`,e.textAlign=u,e.textBaseline=y,e.fillStyle=p;let _=l.split(""),h="";t={left:t,center:C/2+t,right:C+t}[u],e.beginPath();for(let N=0;N<_.length;N++){let b=h+_[N];e.measureText(b).width>C&&N>0?(e.fillText(h,t,x),h=_[N],x+=g):h=b}e.fillText(h,t,x)};function J({text:e,className:l,config:s}){let d=(0,k.useRef)(),f=(0,k.useRef)(null);return(0,k.useEffect)(()=>{let p=d.current,u=p.clientWidth,y=p.clientHeight,g=we();p.width=Math.round(u*g),p.height=Math.round(y*g),f.current=p?.getContext("2d"),p.style.width=`${u}px`,p.style.height=`${y}px`,f.current.scale(g,g),f.current.clearRect(0,0,p.width,p.height)},[]),(0,k.useEffect)(()=>{ve(f.current,e,s),Ne(f.current,e,s)},[f,e,s]),k.default.createElement("canvas",{className:l,ref:d})}n();a();var S={safeCopyButton:"_safeCopyButton_fjsgr_1",lockWrapper:"_lockWrapper_fjsgr_4","lockWrapper--hide":"_lockWrapper--hide_fjsgr_12",lockWrapperHide:"_lockWrapper--hide_fjsgr_12",lockIcon:"_lockIcon_fjsgr_17",addWeight:"_addWeight_fjsgr_23",contentLockIcon:"_contentLockIcon_fjsgr_23"};n();a();function X({privateKey:e,walletId:l,address:s,chainName:d}){let p=ae(me)==="rtl"?"right":"left",u=document.querySelector(".main-container-wrapper"),y=_e(u),[g,T]=(0,c.useState)(!1),[C,E]=(0,c.useState)(!1),x=c.default.useRef(null),{isActive:t}=Te(x,{onActivate:()=>{Q.logPrivateKeyOrMnemonicShow({w:l,a:s,c:d})}}),_=async()=>{await R.copyText(e),E(!1),Q.logPrivateKeyCopy({w:l,a:s,c:d}),W.success({title:i("wallet_extension_copy_notification_copied"),duration:1.5,placement:W.DIRECTION.top}),F.PrivateKeyPageMidCompleteCopyClick()},h=async()=>{let O=e.slice(0,-6);await R.copyText(O),T(!1),W.success({title:i("wallet_extension_copy_notification_copied_in_safe_mode"),duration:1.5,placement:W.DIRECTION.top}),F.PrivateKeyPageMidSecureCopyClick()};return c.default.createElement("div",{className:"copy-private-key"},c.default.createElement("div",{className:"copy-private-key__private-key",ref:x},c.default.createElement(m.FlexBox,{align:m.ALIGN.center,justify:m.ALIGN.center,direction:m.DIRECTION.vertical,className:(0,Z.default)(S.lockWrapper,{[S.lockWrapperHide]:t})},c.default.createElement(z,{className:`okx-wallet-plugin-eye-hide ${S.lockIcon}`}),c.default.createElement(r.Text,{size:r.SIZE.xs,className:S.lockTip},i("wallet_extension_mid_desc_hover_show_private_key")),c.default.createElement(r.Text,{size:r.SIZE.xs,className:S.lockTip},i("wallet_extension_mid_desc_tap_to_show_private_key"))),c.default.createElement("div",{className:(0,Z.default)("copy-private-key__private-key__canvas-container",{blur:!t})},c.default.createElement(J,{className:"copy-private-key__private-key__canvas",config:{fontSize:14,lineHeight:24,fontWeight:400,textAlign:p,color:ie("--okd-color-content-primary"),maxWidth:y.width-56,padding:[20,12]},text:e}))),c.default.createElement(B,{category:B.CATEGORY.fill,type:B.TYPE.primary,size:B.SIZE.md,icon:"okx-wallet-plugin-security-2",iconType:B.ICON_POSITION.leading,className:S.safeCopyButton,block:!0,onClick:()=>T(!0)},i("wallet_extension_copy_btn_safe_mode")),c.default.createElement("div",{className:"copy-private-key__copy-button",onClick:()=>E(!0)},c.default.createElement(z,{className:"okx-wallet-plugin-copy-1"}),c.default.createElement("span",null,i("wallet_extension_copy_btn_copy_directly"))),c.default.createElement(Ie,{visible:g,setVisible:T,code:e.slice(-6),onConfirm:h}),c.default.createElement(xe,{visible:C,setVisible:E,onConfirm:_,onCancel:()=>(F.PrivateKeyPageMidCompleteCopyCancelClick(),E(!1))}))}n();a();var v={wrapper:"_wrapper_s8m97_1",accordion:"_accordion_s8m97_5",header:"_header_s8m97_8",content:"_content_s8m97_20","address-type":"_address-type_s8m97_23",addressType:"_address-type_s8m97_23",container:"_container_s8m97_26",search:"_search_s8m97_31",centerBox:"_centerBox_s8m97_35",alignCenter:"_alignCenter_s8m97_40",flexCol:"_flexCol_s8m97_43"};var ke=()=>{let l=ye().get("walletId"),[s,d]=(0,o.useState)([]),f=ue(l),[p,u]=(0,o.useState)(""),[y,g]=(0,o.useState)(""),T=Ce(f?.walletId,{exclude:[ne]}),[C]=Ee(T);f||(le.error(i("wallet_extension_top_error_parameters")),fe.push(de));let E=(0,o.useMemo)(()=>C.filter(t=>{if(y){let _=ee(y);return Boolean(t.chainName.toLocaleLowerCase().match(_))}return!0}),[C,y]),x=(0,o.useCallback)(re(t=>{g(t)},200),[]);return o.default.createElement(m.Container,{className:v.flexCol,loading:T.length===0},o.default.createElement(he,{title:f?.walletName}),C.length>10&&o.default.createElement(se.Search,{className:v.search,cleanable:!0,value:p,placeholder:i("wallet_toast_address_input_search",{},{useBr:!1}),onChange:t=>{u(t.target.value),d([]),x(t.target.value.toLocaleLowerCase())}}),o.default.createElement("div",{className:v.container},o.default.createElement(m.Box,{className:v.wrapper},E[0]?o.default.createElement(j.Group,{accordion:!0,onChange:(t,_,h)=>{d(h)},expandedIds:s},E.map((t,_)=>o.default.createElement(j.Item,{key:`${t?.chainName}-${t.address}`,className:v.accordion,headerClassName:v.header,contentClassName:v.content,title:o.default.createElement(ge.Cell,{hovered:!1,icon:{src:t?.image},title:t?.chainName,desc:o.default.createElement(m.Space,{align:m.ALIGN.center,direction:m.DIRECTION.horizontal,space:6},o.default.createElement(r.Address,{strong:!0,copyable:!1,address:t?.address,size:r.SIZE.xs,type:r.TYPE.secondary}),!!t?.btcAddressType&&o.default.createElement(ce,null,i(pe[t?.btcAddressType])))}),id:_},s.includes(_)&&o.default.createElement(X,{privateKey:t?.privateKey,walletId:t?.walletId,address:t?.address,chainName:t?.chainName})))):C[0]&&o.default.createElement("div",{className:v.centerBox},o.default.createElement(K.State,{className:v.alignCenter,type:K.State.TYPE.noResult,title:i("commonall_emptystate_text_no_results")})))))},Vo=o.default.memo(ke);export{Vo as default};
//# sourceMappingURL=WalletAccountPrivateKey-LF6IKTP2.js.map
