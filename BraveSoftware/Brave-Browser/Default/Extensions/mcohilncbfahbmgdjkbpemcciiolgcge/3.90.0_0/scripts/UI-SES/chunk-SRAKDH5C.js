import{$ as De,E as fe,M as ge,N as Ye,Q as Xe,X as j,d as F,i as ne,k as se}from"./chunk-4RYTWPZK.js";import{e as O,n as i,p as a}from"./chunk-N62DF26F.js";i();a();var B=O(F());i();a();var J=O(F()),Ie=O(Ye()),m=O(Xe());i();a();var G=O(F());function Qe({alt:e,store:r,...t},o){let{onLoad:s,onError:l,needSource:d,sourceSrcset:f,requestSrc:n,imgSrcSet:S,imgSrc:p}=r;return p?G.default.createElement(G.default.Fragment,null,d&&G.default.createElement("source",{"data-testid":"okd-image-source-webp-default",srcSet:f}),G.default.createElement("img",{...t,src:p,ref:o,srcSet:S,alt:e,onLoad:c=>{s(c,p,n)},onError:c=>{l(c,p,n)}})):null}var Pe=(0,G.forwardRef)(Qe);i();a();var X=O(F());i();a();var Je="x-oss-process=image/",dr=new RegExp(`(${Je}[^&]+&??)`);var q={cover:"cover",contain:"contain"};q.allAsArray=Object.values(q);var ee={resize:"resize",crop:"crop"},H={sm:"(max-width: 767px)",md:"(min-width: 768px) and (max-width: 1023px)",lg:"(min-width: 1024px) and (max-width: 1269px)",xl:"(min-width: 1270px) and (max-width: 1859px)","2xl":"(min-width: 1860px) and (max-width: 2036px)","3xl":"(min-width: 2037px)"};i();a();i();a();var ae="x-oss-process=image/",Ke=new RegExp(`(${ae}[^&]+&??)`),$e="format,webp",ie="/ignore-error,1",ce={resize:"resize",crop:"crop"},Ze=e=>e.replace(/\s/g,"%20");function Se(e){return!!(e&&e.startsWith("data:")&&e.includes("base64,"))}function ue(e){return e&&e.startsWith("blob:")}function re(e){return e.includes($e)}function we(e){let{cdnDomainMap:r={}}=se,t="";return!e.includes(se.cdnBaseUrl)&&Object.values(r).some(o=>e.includes(o)?(t=o,!0):!1)?e.replace(t,se.cdnBaseUrl):e}function Oe(e){return e.includes(ie)?`${e.replace(ie,"")}${ie}`:`${e}${ie}`}function Ce(e="",r){let t=e;return e.includes(r)?e:(t.indexOf(ae)>-1?t=t.replace(Ke,`$1/${r}`):t.indexOf("?")!==-1?t+=`&${ae}${r}`:t+=`?${ae}${r}`,Oe(t))}function W(e,r=!0){let t=e;return t?ue(e)?e:(t=we(Ze(e)),r?Ce(t,$e):t):""}var er=e=>e[0],Y=(e={},r,t)=>{if(!r)return"";let o=Object.entries(e).map(([s,l])=>l?`${er(s)}_${l}`:"").filter(Boolean).join(",");return o?Ce(r,`${t},${o},type_6`):r},be=(e,r)=>e.map(t=>{let{media:o,type:s=ce.resize,src:l,resize:d,crop:f,w:n,h:S,...p}=t,c=s;f&&(c=ce.crop),d&&(c=ce.resize);let b=Y(d||f||{width:n,height:S},l||r,c);return{media:o,src:b,...p}}),de=({srcSetData:e,resize:r,useWebp:t})=>e.map(o=>`${Y(r,W(o.src,t),ce.resize)} ${o.size}`).join(",");function he({mediaSource:e,isErrorState:r,useWebp:t}){return e.map((o,s)=>{let{media:l,src:d,...f}=o,n=H[l]||l,S=d;return S&&!r?X.default.createElement(X.Fragment,{key:n||s},t&&!re(S)&&X.default.createElement("source",{"data-testid":"okd-image-source-webp-media",media:n,srcSet:W(S),...f}),X.default.createElement("source",{"data-testid":"okd-image-source-media",media:n,srcSet:S})):null})}i();a();i();a();var Q=O(F());function xe(e){let r=(0,Q.useRef)(null),[t,o]=(0,Q.useState)(!e);return(0,Q.useEffect)(()=>{if(!e)return;let{top:s=0,bottom:l=0,right:d=0,left:f=0,...n}=typeof e=="object"?e:{},S=`${s}px ${d}px ${l}px ${f}px`,p,c=!1;r.current&&!t&&(fe.IntersectionObserver?(p=new fe.IntersectionObserver(D=>{D.forEach(R=>{!c&&(R.intersectionRatio>0||R.isIntersecting)&&o(!0)})},{threshold:.01,rootMargin:S,...n}),p.observe(r.current)):o(!0));let b=r.current;return()=>{c=!0,p&&p.unobserve&&b&&(p.unobserve(b),p=null)}},[e]),{imageRef:r,visible:t,lazyload:e}}i();a();var me=O(F());function ye({store:e,ssrRendered:r}){let{onError:t,onLoad:o,mediaSource:s,loadedImages:l,requestSrc:d}=e,{media:f}=De(),n=(0,me.useRef)(null);return(0,me.useEffect)(()=>{if(r&&n.current){let{complete:S,naturalHeight:p}=n.current,c=s&&s.find(b=>b.media===H[f])?.src||d;S&&!l.current.has(c)&&(p>0?o(n.current,d,c):t(n.current,d,c))}},[]),{imgRef:n}}i();a();var w=O(F());function Ee(e){let{errorImg:r,src:t,onError:o,onLoad:s,mediaData:l,resize:d,useWebp:f,srcSetData:n,lazyload:S}=e,p=be(l,t),c=(0,w.useRef)(new Map),[b,D]=(0,w.useState)(!t),[R,C]=(0,w.useState)(b&&!r),[v,N]=(0,w.useState)(!1),A=(0,w.useMemo)(()=>{let x,h;return n.length>0&&(x=de({srcSetData:n,resize:d,useWebp:!1}),h=de({srcSetData:n,resize:d,useWebp:f})),{imgSrcSet:x,sourceSrcSet:h}},[n,d,f]),P=b&&r,_=(0,w.useMemo)(()=>{let x=P?r:t,h=P?W(x,!1):Y(d,W(x,!1),ee.resize),I=Y(d,W(x,f),ee.resize),T=f&&!re(h),k=A.sourceSrcSet||I;return{imgSrc:h,sourceSrc:I,requestSrc:T?k:h,needSource:T,sourceSrcset:k}},[A,P,t,d,f,r]);return(0,w.useEffect)(()=>{b&&t&&D(!1),R&&t&&C(!1)},[t]),{onError:(x,h,I)=>{c.current.set(I,{onerror:!0}),D(!0),o(x,h),r?h==r&&C(!0):C(!0)},onLoad:(x,h,I)=>{c.current.set(I,{onload:!0}),S&&N(!0),s(x)},isLoaded:v,isFallbackError:R,isErrorState:P,mediaSource:p,loadedImages:c,...A,..._}}var Le=`${j}-picture`;function U(e){let r=ge.useMergeProps(U.defaultPropsValue,e),{src:t,alt:o,layout:s,lazyload:l,className:d,useWebp:f,placeholder:n,errorImg:S,width:p,height:c,style:b,pictureClassName:D,pictureStyle:R,resize:C,originWidth:v,originHeight:N,mediaData:A,ssrRendered:P,srcSetData:_,getImgRef:z,...K}=r,x=Se(t)||ue(t)?!1:f,h=Ee({...r,useWebp:x}),{isLoaded:I,isFallbackError:T,isErrorState:k,mediaSource:V}=h,{imgRef:te}=ye({store:h,ssrRendered:P}),{imageRef:le,visible:u}=xe(l),M=T||l&&!I&&!u,pe={width:p,height:c,...b};return J.default.createElement("picture",{className:(0,Ie.default)(ge.data.okdNamespace,Le,D,{[`${Le}-font`]:!M}),ref:le,style:R},u&&!T&&J.default.createElement(J.default.Fragment,null,J.default.createElement(he,{mediaSource:V,isErrorState:k,useWebp:x}),J.default.createElement(Pe,{"data-testid":`okd-picture-img-${s||"default"}`,...K,store:h,ref:oe=>{te.current=oe,z?.(oe)},width:v||p,height:N||c,style:pe,className:(0,Ie.default)(s&&`${Le}-${s}`,d),alt:o})),M&&n)}U.propTypes={className:m.default.string,pictureClassName:m.default.string,style:m.default.object,pictureStyle:m.default.object,width:m.default.oneOfType([m.default.number,m.default.string]),height:m.default.oneOfType([m.default.number,m.default.string]),src:m.default.string.isRequired,useWebp:m.default.bool,alt:m.default.string.isRequired,layout:m.default.oneOf([q.contain,q.cover]),lazyload:m.default.oneOfType([m.default.bool,m.default.object]),mediaData:m.default.array,srcSetData:m.default.array,resize:m.default.object,errorImg:m.default.string,onError:m.default.func,onLoad:m.default.func,placeholder:m.default.node,originWidth:m.default.number,originHeight:m.default.number,ssrRendered:m.default.bool};U.defaultPropsValue={resize:void 0,layout:void 0,lazyload:!1,className:"",pictureClassName:"",style:{},pictureStyle:{},useWebp:!0,placeholder:void 0,errorImg:null,mediaData:[],srcSetData:[],onError:()=>{},onLoad:()=>{},width:void 0,height:void 0,originWidth:void 0,originHeight:void 0,src:void 0,alt:"",ssrRendered:!1};U.MEDIA=H;U.LAYOUT=q;U.ACTION=ee;var ve=U;i();a();var L=O(F());i();a();var rr=(e,r,t)=>{let o=r==="svg"?"svg":"canvas";return e?.querySelector(`.${t}-view ${o}`)},tr=(e,r)=>{r&&e&&e.setAttribute("aria-label",ne(r))},or=(e,r,t,o)=>{if(!t||!e||!r)return;let s=document.createElement("span");s.id=o,s.classList.add(`${j}-a11y-text`),s.innerText=ne(t),e.appendChild(s),r.setAttribute("aria-describedby",ne(o))},Ae=({animationContainer:e,setAnimationLoaded:r,onDOMLoaded:t,renderer:o,animationPrefix:s,a11yText:l,a11yDescription:d,a11yDescriptionDOMId:f})=>()=>{if(!e.current)return;r(!0),t?.();let n=rr(e.current,o,s);!n||(tr(n,l),n.setAttribute("role","img"),or(e.current,n,d,f))},Te=(e,r)=>(e.current?.addEventListener(r.name,r.handler),()=>{e.current?.removeEventListener(r.name,r.handler)});var nr=({lottie:e,lottieProps:r={},className:t="",style:o,animationPrefix:s,a11yText:l,a11yDescription:d})=>{let{animationData:f,path:n,loop:S,autoplay:p=!0,initialSegment:c,onComplete:b,onLoopComplete:D,onEnterFrame:R,onSegmentStart:C,onConfigReady:v,onDataReady:N,onDataFailed:A,onLoadedImages:P,onDOMLoaded:_,onDestroy:z,animationRef:K,lottieRef:x,renderer:h,name:I,assetsPath:T,rendererSettings:k,...V}=r,[te,le]=(0,L.useState)(!1),u=(0,L.useRef)(),M=(0,L.useRef)(null),pe=()=>{u.current?.play()},oe=()=>{u.current?.stop()},Fe=()=>{u.current?.pause()},We=g=>{u.current?.setSpeed(g)},_e=(g,$)=>{u.current?.goToAndPlay(g,$)},ze=(g,$)=>{u.current?.goToAndStop(g,$)},ke=g=>{u.current?.setDirection(g)},je=(g,$)=>{u.current?.playSegments(g,$)},Ge=g=>{u.current?.setSubframe(g)},Ue=g=>u.current?.getDuration(g),Be=()=>{u.current?.destroy(),u.current=void 0},Ve=(g={})=>{if(!M.current)return()=>{};u.current?.destroy();let $={...r,...g,container:M.current,loop:S,rendererSettings:{role:"img",expression:!1,...r.rendererSettings}};return u.current=e.loadAnimation($),()=>{u.current?.destroy(),u.current=void 0}};(0,L.useEffect)(()=>{let g=Ve();return()=>g?.()},[f,n,S]),(0,L.useEffect)(()=>{!u.current||(u.current.autoplay=!!p)},[p]),(0,L.useEffect)(()=>{if(!u.current)return;if(!c){u.current.resetSegments(!0);return}if(!Array.isArray(c)||!c.length)return;let[g,$]=c;(u.current.currentRawFrame<g||u.current.currentRawFrame>$)&&(u.current.currentRawFrame=g),u.current.setSegment(g,$)},[c]);let qe=(0,L.useId)();return(0,L.useEffect)(()=>{let g=Ae({animationContainer:M,setAnimationLoaded:le,onDOMLoaded:_,renderer:h,animationPrefix:s,a11yText:l,a11yDescription:d,a11yDescriptionDOMId:qe}),Re=[{name:"complete",handler:b},{name:"loopComplete",handler:D},{name:"enterFrame",handler:R},{name:"segmentStart",handler:C},{name:"config_ready",handler:v},{name:"data_ready",handler:N},{name:"data_failed",handler:A},{name:"loaded_images",handler:P},{name:"DOMLoaded",handler:g},{name:"destroy",handler:z}].filter(Z=>Z.handler!=null);if(!Re.length)return()=>{};let He=Re.map(Z=>Te(u,Z));return()=>{He.forEach(Z=>Z())}},[b,D,R,C,v,N,A,P,_,z,n]),{View:L.default.createElement("div",{className:`${s}-view ${t||""}`,style:{visibility:te?"visible":"hidden",...o},ref:M,...V}),play:pe,stop:oe,pause:Fe,setSpeed:We,goToAndStop:ze,goToAndPlay:_e,setDirection:ke,playSegments:je,setSubframe:Ge,getDuration:Ue,destroy:Be,animationContainerRef:M,animationLoaded:te,lottieItem:u.current}},Ne=nr;i();a();var Me=`${j}-animation`,sr=e=>{let{containerClassName:r="",containerStyle:t={},style:o,className:s,poster:l,posterProps:d={},a11yDescription:f,a11yText:n,lottie:S,speed:p,...c}=e,{View:b,play:D,stop:R,pause:C,setSpeed:v,goToAndStop:N,goToAndPlay:A,setDirection:P,playSegments:_,setSubframe:z,getDuration:K,destroy:x,animationContainerRef:h,animationLoaded:I,lottieItem:T}=Ne({lottie:S,lottieProps:c,className:s,style:o,animationPrefix:Me,a11yText:n,a11yDescription:f});(0,B.useEffect)(()=>{e.animationRef&&Object.assign(e.animationRef,{current:{play:D,stop:R,pause:C,setSpeed:v,goToAndPlay:A,goToAndStop:N,setDirection:P,playSegments:_,setSubframe:z,getDuration:K,destroy:x,animationContainerRef:h,animationLoaded:I,lottieItem:T}})},[e.animationRef]),(0,B.useEffect)(()=>{p&&v(p)},[p]),(0,B.useEffect)(()=>{e.lottieRef&&Object.assign(e.lottieRef,{current:{...T}})},[e.lottieRef]);let{pictureClassName:k=""}=d,V=()=>!l||I?null:typeof l=="function"?l():B.default.createElement(ve,{pictureClassName:`${j}-animation-poster ${k}`,src:l,...d});return B.default.createElement("div",{className:`${Me} ${r}`,style:t},b,V())},wt=sr;i();a();var At={SVG:"svg",CANVAS:"canvas"},Tt={postive:1,reverse:-1};export{ve as a,wt as b,At as c,Tt as d};
//# sourceMappingURL=chunk-SRAKDH5C.js.map
