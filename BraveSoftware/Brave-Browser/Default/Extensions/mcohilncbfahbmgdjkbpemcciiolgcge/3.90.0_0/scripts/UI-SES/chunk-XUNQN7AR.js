import{a as sr,b as Le,c as je,f as ye}from"./chunk-FOIG34R3.js";import{a as Ge,f as Ri,l as wt}from"./chunk-P6LOADSA.js";import{A as nr,Ac as B,Dc as Ee,Ib as ar,Jb as lr,Mb as ie,Mc as dr,Qa as ir,Tb as vt,bc as cr,k as b,nb as Ci,ob as Z,pb as gt,rb as _e,sb as ht,tc as R,uc as ur,vb as mt,vc as _i,wb as or,xc as q,zc as pr}from"./chunk-CS663DOD.js";import{a as we}from"./chunk-SRAKDH5C.js";import{z as $}from"./chunk-K36OLSUR.js";import{d as ft}from"./chunk-4RYTWPZK.js";import{c as y,e as k,m as g,n as l,o as f,p as c}from"./chunk-N62DF26F.js";var gr=y((mc,fr)=>{"use strict";l();c();fr.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var Er=y((Ec,wr)=>{"use strict";l();c();var vr="%[a-f0-9]{2}",hr=new RegExp(vr,"gi"),mr=new RegExp("("+vr+")+","gi");function Et(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Et(r),Et(n))}function Li(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(hr),r=1;r<e.length;r++)t=Et(e,r).join(""),e=t.match(hr);return t}}function Ni(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=mr.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=Li(r[0]);n!==r[0]&&(e[r[0]]=n)}r=mr.exec(t)}e["%C2"]="\uFFFD";for(var s=Object.keys(e),i=0;i<s.length;i++){var o=s[i];t=t.replace(new RegExp(o,"g"),e[o])}return t}wr.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Ni(t)}}});var xr=y((Ic,yr)=>{"use strict";l();c();yr.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]}});var Tr=y((Sc,Ir)=>{"use strict";l();c();Ir.exports=function(t,e){for(var r={},n=Object.keys(t),s=Array.isArray(e),i=0;i<n.length;i++){var o=n[i],a=t[o];(s?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r}});var br=y(G=>{"use strict";l();c();var bi=gr(),$i=Er(),Sr=xr(),Oi=Tr(),Di=t=>t==null,yt=Symbol("encodeFragmentIdentifier");function Pi(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{let s=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[_(e,t),"[",s,"]"].join("")]:[...r,[_(e,t),"[",_(s,t),"]=",_(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[_(e,t),"[]"].join("")]:[...r,[_(e,t),"[]=",_(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[_(e,t),":list="].join("")]:[...r,[_(e,t),":list=",_(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,s)=>s===void 0||t.skipNull&&s===null||t.skipEmptyString&&s===""?n:(s=s===null?"":s,n.length===0?[[_(r,t),e,_(s,t)].join("")]:[[n,_(s,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,_(e,t)]:[...r,[_(e,t),"=",_(n,t)].join("")]}}function ki(t){let e;switch(t.arrayFormat){case"index":return(r,n,s)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){s[r]=n;return}s[r]===void 0&&(s[r]={}),s[r][e[1]]=n};case"bracket":return(r,n,s)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){s[r]=n;return}if(s[r]===void 0){s[r]=[n];return}s[r]=[].concat(s[r],n)};case"colon-list-separator":return(r,n,s)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){s[r]=n;return}if(s[r]===void 0){s[r]=[n];return}s[r]=[].concat(s[r],n)};case"comma":case"separator":return(r,n,s)=>{let i=typeof n=="string"&&n.includes(t.arrayFormatSeparator),o=typeof n=="string"&&!i&&Q(n,t).includes(t.arrayFormatSeparator);n=o?Q(n,t):n;let a=i||o?n.split(t.arrayFormatSeparator).map(p=>Q(p,t)):n===null?n:Q(n,t);s[r]=a};case"bracket-separator":return(r,n,s)=>{let i=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!i){s[r]=n&&Q(n,t);return}let o=n===null?[]:n.split(t.arrayFormatSeparator).map(a=>Q(a,t));if(s[r]===void 0){s[r]=o;return}s[r]=[].concat(s[r],o)};default:return(r,n,s)=>{if(s[r]===void 0){s[r]=n;return}s[r]=[].concat(s[r],n)}}}function Cr(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _(t,e){return e.encode?e.strict?bi(t):encodeURIComponent(t):t}function Q(t,e){return e.decode?$i(t):t}function Rr(t){return Array.isArray(t)?t.sort():typeof t=="object"?Rr(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function _r(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function Bi(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function Lr(t){t=_r(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function Ar(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function Nr(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),Cr(e.arrayFormatSeparator);let r=ki(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(let s of t.split("&")){if(s==="")continue;let[i,o]=Sr(e.decode?s.replace(/\+/g," "):s,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:Q(o,e),r(Q(i,e),o,n)}for(let s of Object.keys(n)){let i=n[s];if(typeof i=="object"&&i!==null)for(let o of Object.keys(i))i[o]=Ar(i[o],e);else n[s]=Ar(i,e)}return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((s,i)=>{let o=n[i];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?s[i]=Rr(o):s[i]=o,s},Object.create(null))}G.extract=Lr;G.parse=Nr;G.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),Cr(e.arrayFormatSeparator);let r=o=>e.skipNull&&Di(t[o])||e.skipEmptyString&&t[o]==="",n=Pi(e),s={};for(let o of Object.keys(t))r(o)||(s[o]=t[o]);let i=Object.keys(s);return e.sort!==!1&&i.sort(e.sort),i.map(o=>{let a=t[o];return a===void 0?"":a===null?_(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?_(o,e)+"[]":a.reduce(n(o),[]).join("&"):_(o,e)+"="+_(a,e)}).filter(o=>o.length>0).join("&")};G.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,n]=Sr(t,"#");return Object.assign({url:r.split("?")[0]||"",query:Nr(Lr(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:Q(n,e)}:{})};G.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[yt]:!0},e);let r=_r(t.url).split("?")[0]||"",n=G.extract(t.url),s=G.parse(n,{sort:!1}),i=Object.assign(s,t.query),o=G.stringify(i,e);o&&(o=`?${o}`);let a=Bi(t.url);return t.fragmentIdentifier&&(a=`#${e[yt]?_(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${r}${o}${a}`};G.pick=(t,e,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[yt]:!1},r);let{url:n,query:s,fragmentIdentifier:i}=G.parseUrl(t,r);return G.stringifyUrl({url:n,query:Oi(s,e),fragmentIdentifier:i},r)};G.exclude=(t,e,r)=>{let n=Array.isArray(e)?s=>!e.includes(s):(s,i)=>!e(s,i);return G.pick(t,n,r)}});var Ne=y((ou,Dr)=>{l();c();var ro="2.0.0",no=Number.MAX_SAFE_INTEGER||9007199254740991,so=16;Dr.exports={SEMVER_SPEC_VERSION:ro,MAX_LENGTH:256,MAX_SAFE_INTEGER:no,MAX_SAFE_COMPONENT_LENGTH:so}});var be=y((cu,Pr)=>{l();c();var io=typeof g=="object"&&g.env&&g.env.NODE_DEBUG&&/\bsemver\b/i.test(g.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Pr.exports=io});var ue=y((oe,kr)=>{l();c();var{MAX_SAFE_COMPONENT_LENGTH:Tt}=Ne(),oo=be();oe=kr.exports={};var ao=oe.re=[],m=oe.src=[],v=oe.t={},lo=0,I=(t,e,r)=>{let n=lo++;oo(n,e),v[t]=n,m[n]=e,ao[n]=new RegExp(e,r?"g":void 0)};I("NUMERICIDENTIFIER","0|[1-9]\\d*");I("NUMERICIDENTIFIERLOOSE","[0-9]+");I("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");I("MAINVERSION",`(${m[v.NUMERICIDENTIFIER]})\\.(${m[v.NUMERICIDENTIFIER]})\\.(${m[v.NUMERICIDENTIFIER]})`);I("MAINVERSIONLOOSE",`(${m[v.NUMERICIDENTIFIERLOOSE]})\\.(${m[v.NUMERICIDENTIFIERLOOSE]})\\.(${m[v.NUMERICIDENTIFIERLOOSE]})`);I("PRERELEASEIDENTIFIER",`(?:${m[v.NUMERICIDENTIFIER]}|${m[v.NONNUMERICIDENTIFIER]})`);I("PRERELEASEIDENTIFIERLOOSE",`(?:${m[v.NUMERICIDENTIFIERLOOSE]}|${m[v.NONNUMERICIDENTIFIER]})`);I("PRERELEASE",`(?:-(${m[v.PRERELEASEIDENTIFIER]}(?:\\.${m[v.PRERELEASEIDENTIFIER]})*))`);I("PRERELEASELOOSE",`(?:-?(${m[v.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${m[v.PRERELEASEIDENTIFIERLOOSE]})*))`);I("BUILDIDENTIFIER","[0-9A-Za-z-]+");I("BUILD",`(?:\\+(${m[v.BUILDIDENTIFIER]}(?:\\.${m[v.BUILDIDENTIFIER]})*))`);I("FULLPLAIN",`v?${m[v.MAINVERSION]}${m[v.PRERELEASE]}?${m[v.BUILD]}?`);I("FULL",`^${m[v.FULLPLAIN]}$`);I("LOOSEPLAIN",`[v=\\s]*${m[v.MAINVERSIONLOOSE]}${m[v.PRERELEASELOOSE]}?${m[v.BUILD]}?`);I("LOOSE",`^${m[v.LOOSEPLAIN]}$`);I("GTLT","((?:<|>)?=?)");I("XRANGEIDENTIFIERLOOSE",`${m[v.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);I("XRANGEIDENTIFIER",`${m[v.NUMERICIDENTIFIER]}|x|X|\\*`);I("XRANGEPLAIN",`[v=\\s]*(${m[v.XRANGEIDENTIFIER]})(?:\\.(${m[v.XRANGEIDENTIFIER]})(?:\\.(${m[v.XRANGEIDENTIFIER]})(?:${m[v.PRERELEASE]})?${m[v.BUILD]}?)?)?`);I("XRANGEPLAINLOOSE",`[v=\\s]*(${m[v.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[v.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[v.XRANGEIDENTIFIERLOOSE]})(?:${m[v.PRERELEASELOOSE]})?${m[v.BUILD]}?)?)?`);I("XRANGE",`^${m[v.GTLT]}\\s*${m[v.XRANGEPLAIN]}$`);I("XRANGELOOSE",`^${m[v.GTLT]}\\s*${m[v.XRANGEPLAINLOOSE]}$`);I("COERCE",`(^|[^\\d])(\\d{1,${Tt}})(?:\\.(\\d{1,${Tt}}))?(?:\\.(\\d{1,${Tt}}))?(?:$|[^\\d])`);I("COERCERTL",m[v.COERCE],!0);I("LONETILDE","(?:~>?)");I("TILDETRIM",`(\\s*)${m[v.LONETILDE]}\\s+`,!0);oe.tildeTrimReplace="$1~";I("TILDE",`^${m[v.LONETILDE]}${m[v.XRANGEPLAIN]}$`);I("TILDELOOSE",`^${m[v.LONETILDE]}${m[v.XRANGEPLAINLOOSE]}$`);I("LONECARET","(?:\\^)");I("CARETTRIM",`(\\s*)${m[v.LONECARET]}\\s+`,!0);oe.caretTrimReplace="$1^";I("CARET",`^${m[v.LONECARET]}${m[v.XRANGEPLAIN]}$`);I("CARETLOOSE",`^${m[v.LONECARET]}${m[v.XRANGEPLAINLOOSE]}$`);I("COMPARATORLOOSE",`^${m[v.GTLT]}\\s*(${m[v.LOOSEPLAIN]})$|^$`);I("COMPARATOR",`^${m[v.GTLT]}\\s*(${m[v.FULLPLAIN]})$|^$`);I("COMPARATORTRIM",`(\\s*)${m[v.GTLT]}\\s*(${m[v.LOOSEPLAIN]}|${m[v.XRANGEPLAIN]})`,!0);oe.comparatorTrimReplace="$1$2$3";I("HYPHENRANGE",`^\\s*(${m[v.XRANGEPLAIN]})\\s+-\\s+(${m[v.XRANGEPLAIN]})\\s*$`);I("HYPHENRANGELOOSE",`^\\s*(${m[v.XRANGEPLAINLOOSE]})\\s+-\\s+(${m[v.XRANGEPLAINLOOSE]})\\s*$`);I("STAR","(<|>)?=?\\s*\\*");I("GTE0","^\\s*>=\\s*0.0.0\\s*$");I("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var $e=y((gu,Br)=>{l();c();var co=["includePrerelease","loose","rtl"],uo=t=>t?typeof t!="object"?{loose:!0}:co.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Br.exports=uo});var Ke=y((vu,Ur)=>{l();c();var Hr=/^[0-9]+$/,Fr=(t,e)=>{let r=Hr.test(t),n=Hr.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},po=(t,e)=>Fr(e,t);Ur.exports={compareIdentifiers:Fr,rcompareIdentifiers:po}});var H=y((yu,Gr)=>{l();c();var Ve=be(),{MAX_LENGTH:Mr,MAX_SAFE_INTEGER:Ye}=Ne(),{re:Wr,t:qr}=ue(),fo=$e(),{compareIdentifiers:Oe}=Ke(),K=class{constructor(e,r){if(r=fo(r),e instanceof K){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Mr)throw new TypeError(`version is longer than ${Mr} characters`);Ve("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Wr[qr.LOOSE]:Wr[qr.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ye||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ye||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ye||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Ye)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ve("SemVer.compare",this.version,this.options,e),!(e instanceof K)){if(typeof e=="string"&&e===this.version)return 0;e=new K(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof K||(e=new K(e,this.options)),Oe(this.major,e.major)||Oe(this.minor,e.minor)||Oe(this.patch,e.patch)}comparePre(e){if(e instanceof K||(e=new K(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=e.prerelease[r];if(Ve("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Oe(n,s)}while(++r)}compareBuild(e){e instanceof K||(e=new K(e,this.options));let r=0;do{let n=this.build[r],s=e.build[r];if(Ve("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Oe(n,s)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Gr.exports=K});var pe=y((Tu,Yr)=>{l();c();var{MAX_LENGTH:go}=Ne(),{re:jr,t:Kr}=ue(),Vr=H(),ho=$e(),mo=(t,e)=>{if(e=ho(e),t instanceof Vr)return t;if(typeof t!="string"||t.length>go||!(e.loose?jr[Kr.LOOSE]:jr[Kr.FULL]).test(t))return null;try{return new Vr(t,e)}catch{return null}};Yr.exports=mo});var zr=y((Cu,Xr)=>{l();c();var vo=pe(),wo=(t,e)=>{let r=vo(t,e);return r?r.version:null};Xr.exports=wo});var Jr=y((Lu,Zr)=>{l();c();var Eo=pe(),yo=(t,e)=>{let r=Eo(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Zr.exports=yo});var en=y(($u,Qr)=>{l();c();var xo=H(),Io=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new xo(t,r).inc(e,n).version}catch{return null}};Qr.exports=Io});var V=y((Pu,rn)=>{l();c();var tn=H(),To=(t,e,r)=>new tn(t,r).compare(new tn(e,r));rn.exports=To});var Xe=y((Hu,nn)=>{l();c();var Ao=V(),So=(t,e,r)=>Ao(t,e,r)===0;nn.exports=So});var an=y((Mu,on)=>{l();c();var sn=pe(),Co=Xe(),Ro=(t,e)=>{if(Co(t,e))return null;{let r=sn(t),n=sn(e),s=r.prerelease.length||n.prerelease.length,i=s?"pre":"",o=s?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return i+a;return o}};on.exports=Ro});var cn=y((Gu,ln)=>{l();c();var _o=H(),Lo=(t,e)=>new _o(t,e).major;ln.exports=Lo});var pn=y((Vu,un)=>{l();c();var No=H(),bo=(t,e)=>new No(t,e).minor;un.exports=bo});var fn=y((zu,dn)=>{l();c();var $o=H(),Oo=(t,e)=>new $o(t,e).patch;dn.exports=Oo});var hn=y((Qu,gn)=>{l();c();var Do=pe(),Po=(t,e)=>{let r=Do(t,e);return r&&r.prerelease.length?r.prerelease:null};gn.exports=Po});var vn=y((rp,mn)=>{l();c();var ko=V(),Bo=(t,e,r)=>ko(e,t,r);mn.exports=Bo});var En=y((ip,wn)=>{l();c();var Ho=V(),Fo=(t,e)=>Ho(t,e,!0);wn.exports=Fo});var ze=y((lp,xn)=>{l();c();var yn=H(),Uo=(t,e,r)=>{let n=new yn(t,r),s=new yn(e,r);return n.compare(s)||n.compareBuild(s)};xn.exports=Uo});var Tn=y((pp,In)=>{l();c();var Mo=ze(),Wo=(t,e)=>t.sort((r,n)=>Mo(r,n,e));In.exports=Wo});var Sn=y((gp,An)=>{l();c();var qo=ze(),Go=(t,e)=>t.sort((r,n)=>qo(n,r,e));An.exports=Go});var De=y((vp,Cn)=>{l();c();var jo=V(),Ko=(t,e,r)=>jo(t,e,r)>0;Cn.exports=Ko});var Ze=y((yp,Rn)=>{l();c();var Vo=V(),Yo=(t,e,r)=>Vo(t,e,r)<0;Rn.exports=Yo});var At=y((Tp,_n)=>{l();c();var Xo=V(),zo=(t,e,r)=>Xo(t,e,r)!==0;_n.exports=zo});var Je=y((Cp,Ln)=>{l();c();var Zo=V(),Jo=(t,e,r)=>Zo(t,e,r)>=0;Ln.exports=Jo});var Qe=y((Lp,Nn)=>{l();c();var Qo=V(),ea=(t,e,r)=>Qo(t,e,r)<=0;Nn.exports=ea});var St=y(($p,bn)=>{l();c();var ta=Xe(),ra=At(),na=De(),sa=Je(),ia=Ze(),oa=Qe(),aa=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return ta(t,r,n);case"!=":return ra(t,r,n);case">":return na(t,r,n);case">=":return sa(t,r,n);case"<":return ia(t,r,n);case"<=":return oa(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};bn.exports=aa});var On=y((Pp,$n)=>{l();c();var la=H(),ca=pe(),{re:et,t:tt}=ue(),ua=(t,e)=>{if(t instanceof la)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(et[tt.COERCE]);else{let n;for(;(n=et[tt.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),et[tt.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;et[tt.COERCERTL].lastIndex=-1}return r===null?null:ca(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};$n.exports=ua});var Pn=y((Hp,Dn)=>{"use strict";l();c();Dn.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Bn=y((Mp,kn)=>{"use strict";l();c();kn.exports=S;S.Node=de;S.create=S;function S(t){var e=this;if(e instanceof S||(e=new S),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}S.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};S.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};S.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};S.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)da(this,arguments[t]);return this.length};S.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)fa(this,arguments[t]);return this.length};S.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};S.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};S.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};S.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};S.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};S.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};S.prototype.map=function(t,e){e=e||this;for(var r=new S,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};S.prototype.mapReverse=function(t,e){e=e||this;for(var r=new S,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};S.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=t(r,n.value,s),n=n.next;return r};S.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=t(r,n.value,s),n=n.prev;return r};S.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};S.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};S.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new S;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)r.push(s.value);return r};S.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new S;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>t;n--,s=s.prev)r.push(s.value);return r};S.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=pa(this,s,r[n]);return i};S.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function pa(t,e,r){var n=e===t.head?new de(r,null,e,t):new de(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function da(t,e){t.tail=new de(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function fa(t,e){t.head=new de(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function de(t,e,r,n){if(!(this instanceof de))return new de(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Pn()(S)}catch{}});var Wn=y((Gp,Mn)=>{"use strict";l();c();var ga=Bn(),fe=Symbol("max"),te=Symbol("length"),Ie=Symbol("lengthCalculator"),ke=Symbol("allowStale"),ge=Symbol("maxAge"),ee=Symbol("dispose"),Hn=Symbol("noDisposeOnSet"),N=Symbol("lruList"),z=Symbol("cache"),Un=Symbol("updateAgeOnGet"),Ct=()=>1,_t=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[fe]=e.max||1/0,n=e.length||Ct;if(this[Ie]=typeof n!="function"?Ct:n,this[ke]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ge]=e.maxAge||0,this[ee]=e.dispose,this[Hn]=e.noDisposeOnSet||!1,this[Un]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[fe]=e||1/0,Pe(this)}get max(){return this[fe]}set allowStale(e){this[ke]=!!e}get allowStale(){return this[ke]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ge]=e,Pe(this)}get maxAge(){return this[ge]}set lengthCalculator(e){typeof e!="function"&&(e=Ct),e!==this[Ie]&&(this[Ie]=e,this[te]=0,this[N].forEach(r=>{r.length=this[Ie](r.value,r.key),this[te]+=r.length})),Pe(this)}get lengthCalculator(){return this[Ie]}get length(){return this[te]}get itemCount(){return this[N].length}rforEach(e,r){r=r||this;for(let n=this[N].tail;n!==null;){let s=n.prev;Fn(this,e,n,r),n=s}}forEach(e,r){r=r||this;for(let n=this[N].head;n!==null;){let s=n.next;Fn(this,e,n,r),n=s}}keys(){return this[N].toArray().map(e=>e.key)}values(){return this[N].toArray().map(e=>e.value)}reset(){this[ee]&&this[N]&&this[N].length&&this[N].forEach(e=>this[ee](e.key,e.value)),this[z]=new Map,this[N]=new ga,this[te]=0}dump(){return this[N].map(e=>rt(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[N]}set(e,r,n){if(n=n||this[ge],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[Ie](r,e);if(this[z].has(e)){if(i>this[fe])return Te(this,this[z].get(e)),!1;let p=this[z].get(e).value;return this[ee]&&(this[Hn]||this[ee](e,p.value)),p.now=s,p.maxAge=n,p.value=r,this[te]+=i-p.length,p.length=i,this.get(e),Pe(this),!0}let o=new Lt(e,r,i,s,n);return o.length>this[fe]?(this[ee]&&this[ee](e,r),!1):(this[te]+=o.length,this[N].unshift(o),this[z].set(e,this[N].head),Pe(this),!0)}has(e){if(!this[z].has(e))return!1;let r=this[z].get(e).value;return!rt(this,r)}get(e){return Rt(this,e,!0)}peek(e){return Rt(this,e,!1)}pop(){let e=this[N].tail;return e?(Te(this,e),e.value):null}del(e){Te(this,this[z].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-r;o>0&&this.set(s.k,s.v,o)}}}prune(){this[z].forEach((e,r)=>Rt(this,r,!1))}},Rt=(t,e,r)=>{let n=t[z].get(e);if(n){let s=n.value;if(rt(t,s)){if(Te(t,n),!t[ke])return}else r&&(t[Un]&&(n.value.now=Date.now()),t[N].unshiftNode(n));return s.value}},rt=(t,e)=>{if(!e||!e.maxAge&&!t[ge])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[ge]&&r>t[ge]},Pe=t=>{if(t[te]>t[fe])for(let e=t[N].tail;t[te]>t[fe]&&e!==null;){let r=e.prev;Te(t,e),e=r}},Te=(t,e)=>{if(e){let r=e.value;t[ee]&&t[ee](r.key,r.value),t[te]-=r.length,t[z].delete(r.key),t[N].removeNode(e)}},Lt=class{constructor(e,r,n,s,i){this.key=e,this.value=r,this.length=n,this.now=s,this.maxAge=i||0}},Fn=(t,e,r,n)=>{let s=r.value;rt(t,s)&&(Te(t,r),t[ke]||(s=void 0)),s&&e.call(n,s.value,s.key,t)};Mn.exports=_t});var Y=y((Vp,Kn)=>{l();c();var he=class{constructor(e,r){if(r=ma(r),e instanceof he)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new he(e.raw,r);if(e instanceof Nt)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!Gn(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&xa(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,s=qn.get(n);if(s)return s;let i=this.options.loose,o=i?F[D.HYPHENRANGELOOSE]:F[D.HYPHENRANGE];e=e.replace(o,ba(this.options.includePrerelease)),L("hyphen replace",e),e=e.replace(F[D.COMPARATORTRIM],wa),L("comparator trim",e,F[D.COMPARATORTRIM]),e=e.replace(F[D.TILDETRIM],Ea),e=e.replace(F[D.CARETTRIM],ya),e=e.split(/\s+/).join(" ");let a=i?F[D.COMPARATORLOOSE]:F[D.COMPARATOR],p=e.split(" ").map(x=>Ia(x,this.options)).join(" ").split(/\s+/).map(x=>Na(x,this.options)).filter(this.options.loose?x=>!!x.match(a):()=>!0).map(x=>new Nt(x,this.options)),u=p.length,h=new Map;for(let x of p){if(Gn(x))return[x];h.set(x.value,x)}h.size>1&&h.has("")&&h.delete("");let E=[...h.values()];return qn.set(n,E),E}intersects(e,r){if(!(e instanceof he))throw new TypeError("a Range is required");return this.set.some(n=>jn(n,r)&&e.set.some(s=>jn(s,r)&&n.every(i=>s.every(o=>i.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new va(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if($a(this.set[r],e,this.options))return!0;return!1}};Kn.exports=he;var ha=Wn(),qn=new ha({max:1e3}),ma=$e(),Nt=Be(),L=be(),va=H(),{re:F,t:D,comparatorTrimReplace:wa,tildeTrimReplace:Ea,caretTrimReplace:ya}=ue(),Gn=t=>t.value==="<0.0.0-0",xa=t=>t.value==="",jn=(t,e)=>{let r=!0,n=t.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,e)),s=n.pop();return r},Ia=(t,e)=>(L("comp",t,e),t=Sa(t,e),L("caret",t),t=Ta(t,e),L("tildes",t),t=Ra(t,e),L("xrange",t),t=La(t,e),L("stars",t),t),M=t=>!t||t.toLowerCase()==="x"||t==="*",Ta=(t,e)=>t.trim().split(/\s+/).map(r=>Aa(r,e)).join(" "),Aa=(t,e)=>{let r=e.loose?F[D.TILDELOOSE]:F[D.TILDE];return t.replace(r,(n,s,i,o,a)=>{L("tilde",t,n,s,i,o,a);let p;return M(s)?p="":M(i)?p=`>=${s}.0.0 <${+s+1}.0.0-0`:M(o)?p=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(L("replaceTilde pr",a),p=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):p=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,L("tilde return",p),p})},Sa=(t,e)=>t.trim().split(/\s+/).map(r=>Ca(r,e)).join(" "),Ca=(t,e)=>{L("caret",t,e);let r=e.loose?F[D.CARETLOOSE]:F[D.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(s,i,o,a,p)=>{L("caret",t,s,i,o,a,p);let u;return M(i)?u="":M(o)?u=`>=${i}.0.0${n} <${+i+1}.0.0-0`:M(a)?i==="0"?u=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:u=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:p?(L("replaceCaret pr",p),i==="0"?o==="0"?u=`>=${i}.${o}.${a}-${p} <${i}.${o}.${+a+1}-0`:u=`>=${i}.${o}.${a}-${p} <${i}.${+o+1}.0-0`:u=`>=${i}.${o}.${a}-${p} <${+i+1}.0.0-0`):(L("no pr"),i==="0"?o==="0"?u=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:u=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:u=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),L("caret return",u),u})},Ra=(t,e)=>(L("replaceXRanges",t,e),t.split(/\s+/).map(r=>_a(r,e)).join(" ")),_a=(t,e)=>{t=t.trim();let r=e.loose?F[D.XRANGELOOSE]:F[D.XRANGE];return t.replace(r,(n,s,i,o,a,p)=>{L("xRange",t,n,s,i,o,a,p);let u=M(i),h=u||M(o),E=h||M(a),x=E;return s==="="&&x&&(s=""),p=e.includePrerelease?"-0":"",u?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&x?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(p="-0"),n=`${s+i}.${o}.${a}${p}`):h?n=`>=${i}.0.0${p} <${+i+1}.0.0-0`:E&&(n=`>=${i}.${o}.0${p} <${i}.${+o+1}.0-0`),L("xRange return",n),n})},La=(t,e)=>(L("replaceStars",t,e),t.trim().replace(F[D.STAR],"")),Na=(t,e)=>(L("replaceGTE0",t,e),t.trim().replace(F[e.includePrerelease?D.GTE0PRE:D.GTE0],"")),ba=t=>(e,r,n,s,i,o,a,p,u,h,E,x,w)=>(M(n)?r="":M(s)?r=`>=${n}.0.0${t?"-0":""}`:M(i)?r=`>=${n}.${s}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,M(u)?p="":M(h)?p=`<${+u+1}.0.0-0`:M(E)?p=`<${u}.${+h+1}.0-0`:x?p=`<=${u}.${h}.${E}-${x}`:t?p=`<${u}.${h}.${+E+1}-0`:p=`<=${p}`,`${r} ${p}`.trim()),$a=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(L(t[n].semver),t[n].semver!==Nt.ANY&&t[n].semver.prerelease.length>0){let s=t[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Be=y((zp,Zn)=>{l();c();var He=Symbol("SemVer ANY"),Ae=class{static get ANY(){return He}constructor(e,r){if(r=Oa(r),e instanceof Ae){if(e.loose===!!r.loose)return e;e=e.value}$t("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===He?this.value="":this.value=this.operator+this.semver.version,$t("comp",this)}parse(e){let r=this.options.loose?Vn[Yn.COMPARATORLOOSE]:Vn[Yn.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Xn(n[2],this.options.loose):this.semver=He}toString(){return this.value}test(e){if($t("Comparator.test",e,this.options.loose),this.semver===He||e===He)return!0;if(typeof e=="string")try{e=new Xn(e,this.options)}catch{return!1}return bt(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Ae))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new zn(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new zn(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),i=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=bt(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),p=bt(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||i&&o||a||p}};Zn.exports=Ae;var Oa=$e(),{re:Vn,t:Yn}=ue(),bt=St(),$t=be(),Xn=H(),zn=Y()});var Fe=y((Qp,Jn)=>{l();c();var Da=Y(),Pa=(t,e,r)=>{try{e=new Da(e,r)}catch{return!1}return e.test(t)};Jn.exports=Pa});var es=y((rd,Qn)=>{l();c();var ka=Y(),Ba=(t,e)=>new ka(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Qn.exports=Ba});var rs=y((id,ts)=>{l();c();var Ha=H(),Fa=Y(),Ua=(t,e,r)=>{let n=null,s=null,i=null;try{i=new Fa(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new Ha(n,r))}),n};ts.exports=Ua});var ss=y((ld,ns)=>{l();c();var Ma=H(),Wa=Y(),qa=(t,e,r)=>{let n=null,s=null,i=null;try{i=new Wa(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new Ma(n,r))}),n};ns.exports=qa});var as=y((pd,os)=>{l();c();var Ot=H(),Ga=Y(),is=De(),ja=(t,e)=>{t=new Ga(t,e);let r=new Ot("0.0.0");if(t.test(r)||(r=new Ot("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let s=t.set[n],i=null;s.forEach(o=>{let a=new Ot(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||is(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||is(r,i))&&(r=i)}return r&&t.test(r)?r:null};os.exports=ja});var cs=y((gd,ls)=>{l();c();var Ka=Y(),Va=(t,e)=>{try{return new Ka(t,e).range||"*"}catch{return null}};ls.exports=Va});var nt=y((vd,fs)=>{l();c();var Ya=H(),ds=Be(),{ANY:Xa}=ds,za=Y(),Za=Fe(),us=De(),ps=Ze(),Ja=Qe(),Qa=Je(),el=(t,e,r,n)=>{t=new Ya(t,n),e=new za(e,n);let s,i,o,a,p;switch(r){case">":s=us,i=Ja,o=ps,a=">",p=">=";break;case"<":s=ps,i=Qa,o=us,a="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Za(t,e,n))return!1;for(let u=0;u<e.set.length;++u){let h=e.set[u],E=null,x=null;if(h.forEach(w=>{w.semver===Xa&&(w=new ds(">=0.0.0")),E=E||w,x=x||w,s(w.semver,E.semver,n)?E=w:o(w.semver,x.semver,n)&&(x=w)}),E.operator===a||E.operator===p||(!x.operator||x.operator===a)&&i(t,x.semver))return!1;if(x.operator===p&&o(t,x.semver))return!1}return!0};fs.exports=el});var hs=y((yd,gs)=>{l();c();var tl=nt(),rl=(t,e,r)=>tl(t,e,">",r);gs.exports=rl});var vs=y((Td,ms)=>{l();c();var nl=nt(),sl=(t,e,r)=>nl(t,e,"<",r);ms.exports=sl});var ys=y((Cd,Es)=>{l();c();var ws=Y(),il=(t,e,r)=>(t=new ws(t,r),e=new ws(e,r),t.intersects(e));Es.exports=il});var Is=y((Ld,xs)=>{l();c();var ol=Fe(),al=V();xs.exports=(t,e,r)=>{let n=[],s=null,i=null,o=t.sort((h,E)=>al(h,E,r));for(let h of o)ol(h,e,r)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,E]of n)h===E?a.push(h):!E&&h===o[0]?a.push("*"):E?h===o[0]?a.push(`<=${E}`):a.push(`${h} - ${E}`):a.push(`>=${h}`);let p=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return p.length<u.length?p:e}});var Rs=y(($d,Cs)=>{l();c();var Ts=Y(),st=Be(),{ANY:Dt}=st,Ue=Fe(),Pt=V(),ll=(t,e,r={})=>{if(t===e)return!0;t=new Ts(t,r),e=new Ts(e,r);let n=!1;e:for(let s of t.set){for(let i of e.set){let o=cl(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},cl=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Dt){if(e.length===1&&e[0].semver===Dt)return!0;r.includePrerelease?t=[new st(">=0.0.0-0")]:t=[new st(">=0.0.0")]}if(e.length===1&&e[0].semver===Dt){if(r.includePrerelease)return!0;e=[new st(">=0.0.0")]}let n=new Set,s,i;for(let w of t)w.operator===">"||w.operator===">="?s=As(s,w,r):w.operator==="<"||w.operator==="<="?i=Ss(i,w,r):n.add(w.semver);if(n.size>1)return null;let o;if(s&&i){if(o=Pt(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let w of n){if(s&&!Ue(w,String(s),r)||i&&!Ue(w,String(i),r))return null;for(let U of e)if(!Ue(w,String(U),r))return!1;return!0}let a,p,u,h,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,x=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;E&&E.prerelease.length===1&&i.operator==="<"&&E.prerelease[0]===0&&(E=!1);for(let w of e){if(h=h||w.operator===">"||w.operator===">=",u=u||w.operator==="<"||w.operator==="<=",s){if(x&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===x.major&&w.semver.minor===x.minor&&w.semver.patch===x.patch&&(x=!1),w.operator===">"||w.operator===">="){if(a=As(s,w,r),a===w&&a!==s)return!1}else if(s.operator===">="&&!Ue(s.semver,String(w),r))return!1}if(i){if(E&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===E.major&&w.semver.minor===E.minor&&w.semver.patch===E.patch&&(E=!1),w.operator==="<"||w.operator==="<="){if(p=Ss(i,w,r),p===w&&p!==i)return!1}else if(i.operator==="<="&&!Ue(i.semver,String(w),r))return!1}if(!w.operator&&(i||s)&&o!==0)return!1}return!(s&&u&&!i&&o!==0||i&&h&&!s&&o!==0||x||E)},As=(t,e,r)=>{if(!t)return e;let n=Pt(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Ss=(t,e,r)=>{if(!t)return e;let n=Pt(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Cs.exports=ll});var Ls=y((Pd,_s)=>{l();c();var kt=ue();_s.exports={re:kt.re,src:kt.src,tokens:kt.t,SEMVER_SPEC_VERSION:Ne().SEMVER_SPEC_VERSION,SemVer:H(),compareIdentifiers:Ke().compareIdentifiers,rcompareIdentifiers:Ke().rcompareIdentifiers,parse:pe(),valid:zr(),clean:Jr(),inc:en(),diff:an(),major:cn(),minor:pn(),patch:fn(),prerelease:hn(),compare:V(),rcompare:vn(),compareLoose:En(),compareBuild:ze(),sort:Tn(),rsort:Sn(),gt:De(),lt:Ze(),eq:Xe(),neq:At(),gte:Je(),lte:Qe(),cmp:St(),coerce:On(),Comparator:Be(),Range:Y(),satisfies:Fe(),toComparators:es(),maxSatisfying:rs(),minSatisfying:ss(),minVersion:as(),validRange:cs(),outside:nt(),gtr:hs(),ltr:vs(),intersects:ys(),simplifyRange:Is(),subset:Rs()}});var qs=y((Wd,Wt)=>{"use strict";l();c();var Se=typeof Reflect=="object"?Reflect:null,Os=Se&&typeof Se.apply=="function"?Se.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},at;Se&&typeof Se.ownKeys=="function"?at=Se.ownKeys:Object.getOwnPropertySymbols?at=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:at=function(e){return Object.getOwnPropertyNames(e)};function pl(t){console&&console.warn&&console.warn(t)}var Ps=Number.isNaN||function(e){return e!==e};function C(){C.init.call(this)}Wt.exports=C;Wt.exports.once=hl;C.EventEmitter=C;C.prototype._events=void 0;C.prototype._eventsCount=0;C.prototype._maxListeners=void 0;var Ds=10;function lt(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return Ds},set:function(t){if(typeof t!="number"||t<0||Ps(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ds=t}});C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};C.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ps(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ks(t){return t._maxListeners===void 0?C.defaultMaxListeners:t._maxListeners}C.prototype.getMaxListeners=function(){return ks(this)};C.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var p=i[e];if(p===void 0)return!1;if(typeof p=="function")Os(p,this,r);else for(var u=p.length,h=Ms(p,u),n=0;n<u;++n)Os(h[n],this,r);return!0};function Bs(t,e,r,n){var s,i,o;if(lt(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),o=i[e]),o===void 0)o=i[e]=r,++t._eventsCount;else if(typeof o=="function"?o=i[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),s=ks(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,pl(a)}return t}C.prototype.addListener=function(e,r){return Bs(this,e,r,!1)};C.prototype.on=C.prototype.addListener;C.prototype.prependListener=function(e,r){return Bs(this,e,r,!0)};function dl(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Hs(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=dl.bind(n);return s.listener=r,n.wrapFn=s,s}C.prototype.once=function(e,r){return lt(r),this.on(e,Hs(this,e,r)),this};C.prototype.prependOnceListener=function(e,r){return lt(r),this.prependListener(e,Hs(this,e,r)),this};C.prototype.removeListener=function(e,r){var n,s,i,o,a;if(lt(r),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():fl(n,i),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};C.prototype.off=C.prototype.removeListener;C.prototype.removeAllListeners=function(e){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function Fs(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?gl(s):Ms(s,s.length)}C.prototype.listeners=function(e){return Fs(this,e,!0)};C.prototype.rawListeners=function(e){return Fs(this,e,!1)};C.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Us.call(t,e)};C.prototype.listenerCount=Us;function Us(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?at(this._events):[]};function Ms(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function fl(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function gl(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function hl(t,e){return new Promise(function(r,n){function s(o){t.removeListener(e,i),n(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}Ws(t,e,i,{once:!0}),e!=="error"&&ml(t,s,{once:!0})})}function ml(t,e,r){typeof t.on=="function"&&Ws(t,"error",e,r)}function Ws(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var gi=y((Nm,fi)=>{"use strict";l();c();var pi=(t,e,r,n)=>function(...s){let i=e.promiseModule;return new i((o,a)=>{e.multiArgs?s.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?s.push((u,h)=>{u?a(u):o(h)}):s.push(o),Reflect.apply(t,this===r?n:this,s)})},di=new WeakMap;fi.exports=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};let r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);let n=(o,a)=>{let p=di.get(o);if(p||(p={},di.set(o,p)),a in p)return p[a];let u=U=>typeof U=="string"||typeof a=="symbol"?a===U:U.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),E=h===void 0||h.writable||h.configurable,w=(e.include?e.include.some(u):!e.exclude.some(u))&&E;return p[a]=w,w},s=new WeakMap,i=new Proxy(t,{apply(o,a,p){let u=s.get(o);if(u)return Reflect.apply(u,a,p);let h=e.excludeMain?o:pi(o,e,i,o);return s.set(o,h),Reflect.apply(h,a,p)},get(o,a){let p=o[a];if(!n(o,a)||p===Function.prototype[a])return p;let u=s.get(p);if(u)return u;if(typeof p=="function"){let h=pi(p,e,i,o);return s.set(p,h),h}return p}});return i}});l();c();var le=k(ft());var cc=k(Ri());var uc=k(br()),Ti=k(_i());l();c();var $r="HARDWAREDISCONNECT",j={ledger:"ledger",trezor:"trezor",keystone:"keystone",onekey:"onekey"},Dc={[j.ledger]:"Ledger",[j.keystone]:"Keystone",[j.trezor]:"Trezor",[j.onekey]:"OneKey"},Hi={addChain:"addChain",addAccount:"addAccount"},Pc={[B.LEDGER_BRIDGE_KEYRING]:j.ledger,[B.TREZOR_KEYRING]:j.trezor,[B.KEYSTONE_KEYRING]:j.keystone,[B.ONEKEY_KEYRING]:j.onekey},kc={[j.ledger]:B.LEDGER_BRIDGE_KEYRING,[j.trezor]:B.TREZOR_KEYRING,[j.keystone]:B.KEYSTONE_KEYRING,[j.onekey]:B.ONEKEY_KEYRING},Fi="m/44'/60'/0'/0/0",Ui="m/44'/60'/0'",Mi="m/44'/60'/0'/0",Wi="m/44'/501'/0'/0'",qi="m/44'/501'/0'";var Bc={[j.ledger]:{[_e]:[{label:"Ledger Live",value:Fi},{label:"Legacy (MEW / MyCrypto)",value:Ui},{label:"BIP44 Standard (Trezor)",value:Mi}],[mt]:[{label:"BIP44 Standard",value:Wi},{label:"Ledger Live",value:qi}]}},xt={[_e]:"Ethereum",[mt]:"Solana",[or]:"Tron",[ht]:"Bitcoin"};var Hc=[{type:q.LEGACY,basePath:"m/44'/0'/0'"},{type:q.SEGWIT_NESTED_49,basePath:"m/49'/0'/0'"},{type:q.SEGWIT_NATIVE,basePath:"m/84'/0'/0'"}];var Gi=15*1e3,Fc=30*1e3;l();c();l();c();var A=k(ft());l();c();var T={root:"_root_1e4bi_1",title:"_title_1e4bi_8",confirmTitle:"_confirmTitle_1e4bi_15 _title_1e4bi_8",confirmTitleHighLight:"_confirmTitleHighLight_1e4bi_21 _title_1e4bi_8",confirmDesc:"_confirmDesc_1e4bi_26",commonTitle:"_commonTitle_1e4bi_39 _title_1e4bi_8",commonDesc:"_commonDesc_1e4bi_48",commonImage:"_commonImage_1e4bi_61",commonImageTag:"_commonImageTag_1e4bi_67",newImage:"_newImage_1e4bi_71",newImageTag:"_newImageTag_1e4bi_76",commonFooter:"_commonFooter_1e4bi_79",multiLineFooter:"_multiLineFooter_1e4bi_87",extButton:"_extButton_1e4bi_95"};var O={connectError:"CONNECTERROR",wrongApp:"WRONGAPP",rejected:"REJECTED",confirm:"CONFIRM",blindEnable:"BLINDENABLE",ledgerBusy:"LEDGERBUSY",disConnected:"DISCONNECTED",lockedDevice:"LOCKEDDEVICE",wrongAppToGetAddress:"WRONGAPPTOGETADDRESS",hardWareNotConnected:"HARDWARENOTCONNECTED"},xe=({titleKey:t,descKey:e,lightImg:r,darkImg:n,btnTextKey:s,isNewImage:i})=>({handleClose:o,onButtonClick:a})=>{let p=ye({light:r,dark:n});return A.default.createElement(R.Box,{className:T.root},A.default.createElement(R.Box,{className:T.commonTitle},b(t)),A.default.createElement(R.Box,{className:T.commonDesc},e?b(e):""),A.default.createElement(we,{src:p,pictureClassName:i?T.newImage:T.commonImage,className:i?T.newImageTag:T.commonImageTag}),A.default.createElement(R.Box,{className:T.commonFooter},A.default.createElement($,{category:$.CATEGORY.fill,type:$.TYPE.highlight,size:$.SIZE.lg,onClick:()=>{a&&a(),o()},block:!0},b(s))))},ji=xe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_retry"}),Ki=xe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_device_disconnected",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),Vi=xe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),Yi=xe({titleKey:"wallet_dialog_title_transaction_reject",descKey:"wallet_dialog_subtitle_transaction_reject_desc",lightImg:"/cdn/assets/imgs/245/D20BB80F72E26AE8.png",darkImg:"/cdn/assets/imgs/245/84CF381F4BEFAB79.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),Xi=xe({titleKey:"wallet_dialog_title_transaction_failed",descKey:"wallet_dialog_subtitle_transaction_error_reinitiate",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),zi=xe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"wallet_extension_pop_title_hardware_wallet_notunlocked",lightImg:"/cdn/assets/imgs/245/038C820230C1D3E0.png",darkImg:"/cdn/assets/imgs/245/0EAF10E9F40C5541.png",btnTextKey:"extension_wallet_conncecthardware_retry",isNewImage:!0}),Zi=({handleClose:t,baseChain:e})=>{let r=ye({light:"/cdn/assets/imgs/245/9AD7699D75F09864.png",dark:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png"});return A.default.createElement(R.Box,{className:T.root},A.default.createElement(R.Box,{className:T.commonTitle},b("wallet_add_wallet_maintitle_hardware_wallet_conncet_failed")),A.default.createElement(R.Box,{className:T.commonDesc},b("wallet_extension_pop_title_open_app",{Name:xt[e]})),A.default.createElement(we,{src:r,className:T.newImageTag,pictureClassName:T.newImage}),A.default.createElement(R.Box,{className:T.commonFooter},A.default.createElement($,{category:$.CATEGORY.fill,type:$.TYPE.highlight,size:$.SIZE.lg,onClick:()=>{window.location.reload(),t()},block:!0},b("extension_wallet_conncecthardware_retry"))))},Ji=({handleClose:t,walletName:e,onButtonClick:r,onExtButtonClick:n})=>{let s=ye({light:"/cdn/assets/imgs/245/A9EDDD75B9E98A02.png",dark:"/cdn/assets/imgs/245/FCD6B8E149D00A31.png"});return A.default.createElement(R.Box,{className:T.root},A.default.createElement(R.Box,{className:T.commonTitle},b("wallet_extension_footer_btn_ok")),A.default.createElement(R.Box,{className:T.commonDesc},b("wallet_extension_top_subtitle_same_device",{acctName:e})),A.default.createElement(we,{src:s,className:T.commonImageTag,pictureClassName:T.commonImage}),A.default.createElement(R.Box,{className:T.multiLineFooter},A.default.createElement($,{category:$.CATEGORY.fill,type:$.TYPE.highlight,size:$.SIZE.lg,onClick:()=>{r&&r(),t()},block:!0},b("wallet_add_wallet_btn_conncet_hardware_wallet")),A.default.createElement(R.Box,{className:T.extButton,onClick:n},b("wallet_extension_footer_btn_add_newdevice"))))},Qi=({handleClose:t,network:e})=>{let r=ye({light:"/cdn/assets/imgs/245/13DD433CD15E83AA.png",dark:"/cdn/assets/imgs/245/74F4F0AC071E323D.png"});return A.default.createElement(R.Box,{className:T.root},A.default.createElement(R.Box,{className:T.commonTitle},b("wallet_dialog_title_transaction_failed")),A.default.createElement(R.Box,{className:T.commonDesc},b("extension_wallet_dialog_subtitle_transaction_failed_desc",{network:e,signbyhash:"Blind signing"})),A.default.createElement(we,{src:r,className:T.commonImageTag,pictureClassName:T.commonImage}),A.default.createElement(R.Box,{className:T.commonFooter},A.default.createElement($,{category:$.CATEGORY.fill,type:$.TYPE.highlight,size:$.SIZE.lg,onClick:t,block:!0},b("extension_wallet_conncecthardware_okbtn"))))},eo=()=>{let t=ye({light:"/cdn/assets/imgs/245/56CE147131A188AA.png",dark:"/cdn/assets/imgs/245/FA61D5D25FCE8E12.png"});return A.default.createElement(R.Box,{className:T.root},A.default.createElement(R.Box,{className:T.confirmTitle},b("extension_wallet_conncecthardware_check_ledgerwallet",{transaction:A.default.createElement("span",{className:T.confirmTitleHighLight},b("extension_wallet_conncecthardware_transaction_details"))})),A.default.createElement(R.Box,{className:T.confirmDesc},b("extension_wallet_conncecthardware_transaction_sent")),A.default.createElement(we,{src:t,className:T.newImageTag,pictureClassName:T.newImage}))},to={[O.connectError]:ji,[O.wrongApp]:Vi,[O.rejected]:Yi,[O.confirm]:eo,[O.blindEnable]:Qi,[O.ledgerBusy]:Xi,[O.disConnected]:Ki,[O.lockedDevice]:zi,[O.wrongAppToGetAddress]:Zi,[O.hardWareNotConnected]:Ji},It=class{constructor(){this.renderContent=()=>{let{type:e,props:r}=this,n=to[e];return n?A.default.createElement(n,{...r,handleClose:this.closeModal}):null};this.renderModalDom=()=>{let{hideCloseBtn:e=!1,onCloseBtnClick:r}=this.props;this.modalDom=cr.action({onClose:()=>{this.closeModal(),r&&r()},className:"hardware-wallet-tip-dialog",maskClosable:!1,alignBottom:!0,noTopRadius:!1,noContentPadding:!0,hideCloseBtn:e,children:this.renderContent()})};this.openModal=nr((e,r={})=>{this.closeModal(),this.visible=!0,this.type=e,this.props=r,this.renderModalDom()},300);this.closeModal=()=>{this.visible=!1,this.modalDom&&(this.modalDom.destroy(),this.modalDom=null)};this.visible=!1,this.type=O.confirm,this.props={},this.modalDom=null}},Or=new It;l();c();l();c();var Ft=k(Ls()),Ht=function(){return Ht=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ht.apply(this,arguments)},me;var P;(function(t){t.blue="blue",t.nanoS="nanoS",t.nanoSP="nanoSP",t.nanoX="nanoX",t.stax="stax"})(P||(P={}));var Ut=(me={},me[P.blue]={id:P.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(t){return 4*1024}},me[P.nanoS]={id:P.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(t){var e;return Ft.default.lt((e=Ft.default.coerce(t))!==null&&e!==void 0?e:"","2.0.0")?4*1024:2*1024}},me[P.nanoSP]={id:P.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(t){return 32}},me[P.nanoX]={id:P.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(t){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},me[P.stax]={id:P.stax,productName:"Ledger\xA0Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(t){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},me),Hd={Blue:P.blue,"Nano S":P.nanoS,"Nano S Plus":P.nanoSP,"Nano X":P.nanoX,Stax:P.stax},Ns=Object.values(Ut),We=11415;var Mt=function(t){var e=Ns.find(function(s){return s.legacyUsbProductId===t});if(e)return e;var r=t>>8,n=Ns.find(function(s){return s.productIdMM===r});return n};var ul=[],bs={};for($s in Ut)if(Bt=Ut[$s],it=Bt.bluetoothSpec,it)for(ot=0;ot<it.length;ot++)Me=it[ot],ul.push(Me.serviceUuid),bs[Me.serviceUuid]=bs[Me.serviceUuid.replace(/-/g,"")]=Ht({deviceModel:Bt},Me);var Bt,it,Me,ot,$s;l();c();l();c();var Zs=k(qs());l();c();l();c();var vl=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var wl={},El={},qt=function(t,e){El[t]=e},d=function(t){var e=function(r){vl(n,r);function n(s,i,o){var a=r.call(this,s||t,o)||this;if(Object.setPrototypeOf(a,n.prototype),a.name=t,i)for(var p in i)a[p]=i[p];if(o&&yl(o)&&"cause"in o&&!("cause"in a)){var u=o.cause;a.cause=u,"stack"in u&&(a.stack=a.stack+`
CAUSE: `+u.stack)}return a}return n}(Error);return wl[t]=e,e};function yl(t){return typeof t=="object"}var js=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Zd=d("AccountNameRequired"),Jd=d("AccountNotSupported"),Qd=d("AmountRequired"),ef=d("BluetoothRequired"),tf=d("BtcUnmatchedApp"),rf=d("CantOpenDevice"),nf=d("CashAddrNotSupported"),sf=d("CurrencyNotSupported"),of=d("DeviceAppVerifyNotSupported"),af=d("DeviceGenuineSocketEarlyClose"),lf=d("DeviceNotGenuine"),cf=d("DeviceOnDashboardExpected"),uf=d("DeviceOnDashboardUnexpected"),pf=d("DeviceInOSUExpected"),df=d("DeviceHalted"),ff=d("DeviceNameInvalid"),gf=d("DeviceSocketFail"),hf=d("DeviceSocketNoBulkStatus"),xl=d("LockedDeviceError"),Ks=d("DisconnectedDevice"),Vs=d("DisconnectedDeviceDuringOperation"),mf=d("DeviceExtractOnboardingStateError"),vf=d("DeviceOnboardingStatePollingError"),wf=d("EnpointConfig"),Ef=d("EthAppPleaseEnableContractData"),yf=d("FeeEstimationFailed"),xf=d("FirmwareNotRecognized"),If=d("HardResetFail"),Tf=d("InvalidXRPTag"),Af=d("InvalidAddress"),Sf=d("InvalidAddressBecauseDestinationIsAlsoSource"),Cf=d("LatestMCUInstalledError"),Rf=d("UnknownMCU"),_f=d("LedgerAPIError"),Lf=d("LedgerAPIErrorWithMessage"),Nf=d("LedgerAPINotAvailable"),bf=d("ManagerAppAlreadyInstalled"),$f=d("ManagerAppRelyOnBTC"),Of=d("ManagerAppDepInstallRequired"),Df=d("ManagerAppDepUninstallRequired"),Pf=d("ManagerDeviceLocked"),kf=d("ManagerFirmwareNotEnoughSpace"),Bf=d("ManagerNotEnoughSpace"),Hf=d("ManagerUninstallBTCDep"),Ff=d("NetworkDown"),Uf=d("NoAddressesFound"),Mf=d("NotEnoughBalance"),Wf=d("NotEnoughBalanceToDelegate"),qf=d("NotEnoughBalanceInParentAccount"),Gf=d("NotEnoughSpendableBalance"),jf=d("NotEnoughBalanceBecauseDestinationNotCreated"),Kf=d("NoAccessToCamera"),Vf=d("NotEnoughGas"),Yf=d("NotSupportedLegacyAddress"),Xf=d("GasLessThanEstimate"),zf=d("PriorityFeeTooLow"),Zf=d("PriorityFeeTooHigh"),Jf=d("PriorityFeeHigherThanMaxFee"),Qf=d("MaxFeeTooLow"),eg=d("PasswordsDontMatch"),tg=d("PasswordIncorrect"),rg=d("RecommendSubAccountsToEmpty"),ng=d("RecommendUndelegation"),sg=d("TimeoutTagged"),ig=d("UnexpectedBootloader"),og=d("MCUNotGenuineToDashboard"),ag=d("RecipientRequired"),lg=d("UnavailableTezosOriginatedAccountReceive"),cg=d("UnavailableTezosOriginatedAccountSend"),ug=d("UpdateFetchFileFail"),pg=d("UpdateIncorrectHash"),dg=d("UpdateIncorrectSig"),fg=d("UpdateYourApp"),gg=d("UserRefusedDeviceNameChange"),hg=d("UserRefusedAddress"),mg=d("UserRefusedFirmwareUpdate"),vg=d("UserRefusedAllowManager"),wg=d("UserRefusedOnDevice"),Gt=d("TransportOpenUserCancelled"),Eg=d("TransportInterfaceNotAvailable"),Ys=d("TransportRaceCondition"),yg=d("TransportWebUSBGestureRequired"),xg=d("DeviceShouldStayInApp"),Ig=d("WebsocketConnectionError"),Tg=d("WebsocketConnectionFailed"),Ag=d("WrongDeviceForAccount"),Sg=d("WrongAppForCurrency"),Cg=d("ETHAddressNonEIP"),Rg=d("CantScanQRCode"),_g=d("FeeNotLoaded"),Lg=d("FeeRequired"),Ng=d("FeeTooHigh"),bg=d("DustLimit"),$g=d("PendingOperation"),Og=d("SyncError"),Dg=d("PairingFailed"),Pg=d("GenuineCheckFailed"),kg=d("LedgerAPI4xx"),Bg=d("LedgerAPI5xx"),Hg=d("FirmwareOrAppUpdateRequired"),Fg=d("LanguageNotFound"),Ug=d("NoDBPathGiven"),Mg=d("DBWrongPassword"),Wg=d("DBNotReset"),Gs;(function(t){t[t.Unknown=0]="Unknown",t[t.BleLocationServicesDisabled=1]="BleLocationServicesDisabled",t[t.BleBluetoothUnauthorized=2]="BleBluetoothUnauthorized",t[t.BleScanStartFailed=3]="BleScanStartFailed"})(Gs||(Gs={}));var qg=function(t){js(e,t);function e(r,n){var s=t.call(this,n)||this;return s.name="HwTransportError",s.type=r,Object.setPrototypeOf(s,e.prototype),s}return e}(Error);var X=function(t){js(e,t);function e(r,n){var s=this,i="TransportError";return s=t.call(this,r||i)||this,s.name=i,s.message=r,s.stack=new Error().stack,s.id=n,s}return e}(Error);qt("TransportError",function(t){return new X(t.message,t.id)});var Ce={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761};function Xs(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}function qe(t){var e=Object.keys(Ce).find(function(i){return Ce[i]===t})||"UNKNOWN_ERROR",r=Xs(t)||e,n=t.toString(16),s="Ledger device: ".concat(r," (0x").concat(n,")");if(t===Ce.LOCKED_DEVICE)throw new xl(s);this.name="TransportStatusError",this.message=s,this.stack=new Error().stack,this.statusCode=t,this.statusText=e}qe.prototype=new Error;qt("TransportStatusError",function(t){return new qe(t.statusCode)});var ct=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{u(n.next(h))}catch(E){o(E)}}function p(h){try{u(n.throw(h))}catch(E){o(E)}}function u(h){h.done?i(h.value):s(h.value).then(a,p)}u((n=n.apply(t,e||[])).next())})},ut=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return p([u,h])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},zs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Il=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Tl=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};var Al=function(){function t(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new Zs.default,this.send=function(r,n,s,i,o,a){return o===void 0&&(o=f.Buffer.alloc(0)),a===void 0&&(a=[Ce.OK]),ct(e,void 0,void 0,function(){var p,u;return ut(this,function(h){switch(h.label){case 0:if(o.length>=256)throw new X("data.length exceed 256 bytes limit. Got: "+o.length,"DataLengthTooBig");return[4,this.exchange(f.Buffer.concat([f.Buffer.from([r,n,s,i]),f.Buffer.from([o.length]),o]))];case 1:if(p=h.sent(),u=p.readUInt16BE(p.length-2),!a.some(function(E){return E===u}))throw new qe(u);return[2,p]}})})},this.exchangeAtomicImpl=function(r){return ct(e,void 0,void 0,function(){var n,s,i,o,a,p=this;return ut(this,function(u){switch(u.label){case 0:if(this.exchangeBusyPromise)throw new Ys("An action was already pending on the Ledger device. Please deny or reconnect.");s=new Promise(function(h){n=h}),this.exchangeBusyPromise=s,i=!1,o=setTimeout(function(){i=!0,p.emit("unresponsive")},this.unresponsiveTimeout),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,r()];case 2:return a=u.sent(),i&&this.emit("responsive"),[2,a];case 3:return clearTimeout(o),n&&n(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return t.prototype.exchange=function(e){throw new Error("exchange not implemented")},t.prototype.exchangeBulk=function(e,r){var n=this,s=!1,i=function(){s=!0},o=function(){return ct(n,void 0,void 0,function(){var a,p,u,h,E,x,w,U;return ut(this,function(W){switch(W.label){case 0:if(s)return[2];W.label=1;case 1:W.trys.push([1,6,7,8]),a=zs(e),p=a.next(),W.label=2;case 2:return p.done?[3,5]:(u=p.value,[4,this.exchange(u)]);case 3:if(h=W.sent(),s)return[2];if(E=h.readUInt16BE(h.length-2),E!==Ce.OK)throw new qe(E);r.next(h),W.label=4;case 4:return p=a.next(),[3,2];case 5:return[3,8];case 6:return x=W.sent(),w={error:x},[3,8];case 7:try{p&&!p.done&&(U=a.return)&&U.call(a)}finally{if(w)throw w.error}return[7];case 8:return[2]}})})};return o().then(function(){return!s&&r.complete()},function(a){return!s&&r.error(a)}),{unsubscribe:i}},t.prototype.setScrambleKey=function(e){},t.prototype.close=function(){return Promise.resolve()},t.prototype.on=function(e,r){this._events.on(e,r)},t.prototype.off=function(e,r){this._events.removeListener(e,r)},t.prototype.emit=function(e){for(var r,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];(r=this._events).emit.apply(r,Tl([e],Il(n),!1))},t.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},t.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},t.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},t.create=function(e,r){var n=this;return e===void 0&&(e=3e3),new Promise(function(s,i){var o=!1,a=n.listen({next:function(u){o=!0,a&&a.unsubscribe(),p&&clearTimeout(p),n.open(u.descriptor,e).then(s,i)},error:function(u){p&&clearTimeout(p),i(u)},complete:function(){p&&clearTimeout(p),o||i(new X(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),p=r?setTimeout(function(){a.unsubscribe(),i(new X(n.ErrorMessage_ListenTimeout,"ListenTimeout"))},r):null})},t.prototype.decorateAppAPIMethods=function(e,r,n){var s,i;try{for(var o=zs(r),a=o.next();!a.done;a=o.next()){var p=a.value;e[p]=this.decorateAppAPIMethod(p,e[p],e,n)}}catch(u){s={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}},t.prototype.decorateAppAPIMethod=function(e,r,n,s){var i=this;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return ct(i,void 0,void 0,function(){var p;return ut(this,function(u){switch(u.label){case 0:if(p=this._appAPIlock,p)return[2,Promise.reject(new X("Ledger Device is busy (lock "+p+")","TransportLocked"))];u.label=1;case 1:return u.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(s),[4,r.apply(n,o)];case 2:return[2,u.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},t.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",t.ErrorMessage_NoDeviceFound="No Ledger device found",t}(),Js=Al;l();c();var Qs=5;function Sl(t){var e=f.Buffer.alloc(2);return e.writeUInt16BE(t,0),e}var Cl={data:f.Buffer.alloc(0),dataLength:0,sequence:0},Rl=function(t,e){return{makeBlocks:function(r){var n=f.Buffer.concat([Sl(r.length),r]),s=e-5,i=Math.ceil(n.length/s);n=f.Buffer.concat([n,f.Buffer.alloc(i*s-n.length+1).fill(0)]);for(var o=[],a=0;a<i;a++){var p=f.Buffer.alloc(5);p.writeUInt16BE(t,0),p.writeUInt8(Qs,2),p.writeUInt16BE(a,3);var u=n.slice(a*s,(a+1)*s);o.push(f.Buffer.concat([p,u]))}return o},reduceResponse:function(r,n){var s=r||Cl,i=s.data,o=s.dataLength,a=s.sequence;if(n.readUInt16BE(0)!==t)throw new X("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==Qs)throw new X("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==a)throw new X("Invalid sequence","InvalidSequence");r||(o=n.readUInt16BE(5)),a++;var p=n.slice(r?5:7);return i=f.Buffer.concat([i,p]),i.length>o&&(i=i.slice(0,o)),{data:i,dataLength:o,sequence:a}},getReducedResult:function(r){if(r&&r.dataLength===r.data.length)return r.data}}},ei=Rl;l();c();var _l=0,ae=[],jt=function(t,e,r){var n={type:t,id:String(++_l),date:new Date};e&&(n.message=e),r&&(n.data=r),Nl(n)},Ll=function(t){return ae.push(t),function(){var e=ae.indexOf(t);e!==-1&&(ae[e]=ae[ae.length-1],ae.pop())}};function Nl(t){for(var e=0;e<ae.length;e++)try{ae[e](t)}catch(r){console.error(r)}}typeof window<"u"&&(window.__ledgerLogsListen=Ll);var bl=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),re=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{u(n.next(h))}catch(E){o(E)}}function p(h){try{u(n.throw(h))}catch(E){o(E)}}function u(h){h.done?i(h.value):s(h.value).then(a,p)}u((n=n.apply(t,e||[])).next())})},ne=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return p([u,h])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$l=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Ol=[{vendorId:We}],Dl=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},pt=function(){var t=navigator.hid;if(!t)throw new X("navigator.hid is not supported","HIDNotSupported");return t};function ti(){return re(this,void 0,void 0,function(){var t;return ne(this,function(e){switch(e.label){case 0:return[4,pt().requestDevice({filters:Ol})];case 1:return t=e.sent(),Array.isArray(t)?[2,t]:[2,[t]]}})})}function Kt(){return re(this,void 0,void 0,function(){var t;return ne(this,function(e){switch(e.label){case 0:return[4,pt().getDevices()];case 1:return t=e.sent(),[2,t.filter(function(r){return r.vendorId===We})]}})})}function Pl(){return re(this,void 0,void 0,function(){var t,e;return ne(this,function(r){switch(r.label){case 0:return[4,Kt()];case 1:return t=r.sent(),t.length>0?[2,t[0]]:[4,ti()];case 2:return e=r.sent(),[2,e[0]]}})})}var ch=function(t){bl(e,t);function e(r){var n=t.call(this)||this;return n.channel=Math.floor(Math.random()*65535),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise(function(s){n.inputCallback=s})},n.onInputReport=function(s){var i=f.Buffer.from(s.data.buffer);n.inputCallback?(n.inputCallback(i),n.inputCallback=null):n.inputs.push(i)},n._disconnectEmitted=!1,n._emitDisconnect=function(s){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",s))},n.exchange=function(s){return re(n,void 0,void 0,function(){var i,o=this;return ne(this,function(a){switch(a.label){case 0:return[4,this.exchangeAtomicImpl(function(){return re(o,void 0,void 0,function(){var p,u,h,E,x,w,U,W,Re;return ne(this,function(J){switch(J.label){case 0:p=this,u=p.channel,h=p.packetSize,jt("apdu","=> "+s.toString("hex")),E=ei(u,h),x=E.makeBlocks(s),w=0,J.label=1;case 1:return w<x.length?[4,this.device.sendReport(0,x[w])]:[3,4];case 2:J.sent(),J.label=3;case 3:return w++,[3,1];case 4:return(U=E.getReducedResult(W))?[3,6]:[4,this.read()];case 5:return Re=J.sent(),W=E.reduceResponse(W,Re),[3,4];case 6:return jt("apdu","<= "+U.toString("hex")),[2,U]}})})}).catch(function(p){throw p&&p.message&&p.message.includes("write")?(o._emitDisconnect(p),new Vs(p.message)):p})];case 1:return i=a.sent(),[2,i]}})})},n.device=r,n.deviceModel=typeof r.productId=="number"?Mt(r.productId):void 0,r.addEventListener("inputreport",n.onInputReport),n}return e.request=function(){return re(this,void 0,void 0,function(){var r,n;return ne(this,function(s){switch(s.label){case 0:return[4,ti()];case 1:return r=$l.apply(void 0,[s.sent(),1]),n=r[0],[2,e.open(n)]}})})},e.openConnected=function(){return re(this,void 0,void 0,function(){var r;return ne(this,function(n){switch(n.label){case 0:return[4,Kt()];case 1:return r=n.sent(),r.length===0?[2,null]:[2,e.open(r[0])]}})})},e.open=function(r){return re(this,void 0,void 0,function(){var n,s;return ne(this,function(i){switch(i.label){case 0:return[4,r.open()];case 1:return i.sent(),n=new e(r),s=function(o){r===o.device&&(pt().removeEventListener("disconnect",s),n._emitDisconnect(new Ks))},pt().addEventListener("disconnect",s),[2,n]}})})},e.prototype.close=function(){return re(this,void 0,void 0,function(){return ne(this,function(r){switch(r.label){case 0:return[4,this.exchangeBusyPromise];case 1:return r.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return r.sent(),[2]}})})},e.prototype.setScrambleKey=function(){},e.isSupported=Dl,e.list=Kt,e.listen=function(r){var n=!1;Pl().then(function(i){if(!i)r.error(new Gt("Access denied to use Ledger device"));else if(!n){var o=typeof i.productId=="number"?Mt(i.productId):void 0;r.next({type:"add",descriptor:i,deviceModel:o}),r.complete()}},function(i){r.error(new Gt(i.message))});function s(){n=!0}return{unsubscribe:s}},e}(Js);var Ih={[O.rejected]:"denied by the user",[O.ledgerBusy]:"Ledger Device is busy",[O.disConnected]:$r,[O.lockedDevice]:"LockedDeviceError"};l();c();var rc=k(sr());l();c();var Bl=ir({name:"keyring",initialState:{keyringIdentities:[],selectedWallet:""},reducers:{setKeyringIdentities:(t,e)=>{t.selectedWallet=e.payload.selectedWallet,t.keyringIdentities=e.payload.keyringIdentities}}}),{actions:Hl,reducer:Fl}=Bl,{setKeyringIdentities:Ul}=Hl,Rh=Fl;var nc=k(Ge());l();c();l();c();var Ml={},dt=Ml;l();c();var Wl=k(Ci());l();c();var ri=async()=>{let{fingerprintId:t}=await Z.get("fingerprintId"),{tmxSessionId:e}=await Z.get("tmxSessionId"),{fpStatus:r}=await Z.get("fpStatus");return{fingerprintId:t??"",tmxSessionId:e??"",fpStatus:r??""}};l();c();var ni=async()=>{},si=async()=>{};l();c();var ii=()=>{};var ql=k(Ge()),oi=null;var Gl="",Yt=()=>Promise.reject(new Error("401|403|800")),Xt=async t=>{t.headers||(t.headers={});let{devid:e}=await Z.get("devid"),r=await Z.get("web-deviceId"),n=await Z.get("bg-gray"),{tmxSessionId:s,fingerprintId:i,fpStatus:o}=await ri();return Ee.setUser({id:e}),t.headers.devid=e,t.headers["device-token"]=e,t.headers["web-deviceId"]=r["web-deviceId"]||"",t.headers["plugin-version"]=g.env.APP_VERSION,t.headers["plugin-build-version"]=g.env.ASSETS_BUILD_TYPE||"dev",t.headers["x-cdn"]=`https://${je()}`,t.headers["x-api"]=`https://${Le()}`,t.headers.locale=Gl,t.headers.platform=g.env.PLATFORM_WEB?"mini-wallet":"plugin",t.headers["tmx-session-id"]=s,t.headers["fingerprint-id"]=i,t.headers["risk-params"]=`fingerprint-id=${i}&fp-status=${o}&session-id=${s}`,t.headers["user-device-sign"]=(`${navigator.userAgent}${ii(navigator.userAgent)}`,navigator.webdriver||navigator.userAgent.match("headless"),`${Date.now()}${navigator.platform}${navigator.language}`,void 0),t.requestStart=Date.now(),n["bg-gray"]&&(t.headers["okts-tag"]="gray"),t},zt=async({config:t})=>{let{needXClientSign:e,needWalletSign:r,walletId:n,body:s}=t?.walletSignParams||{};if(!e&&!r)return{config:t};if(!n)throw new Error("interceptorSign: walletId is required");if(r){let{headers:a}=await ni({walletId:n,body:s});return delete t.walletSignParams,t.headers={...t.headers,...a},{config:t}}let{headers:i,customSign:o}=await si({walletId:n});return delete t.walletSignParams,t.headers={...t.headers,...i},t.customSign=o,{config:t}},Zt=(t,e,r={})=>{let n=Date.now()-t,s=new URL(e);n>=1e3&&Ee.report({type:"APISlow",message:s.pathname,extra:{c1:n,origin:s.origin,path:s.pathname,search:s.search,payload:JSON.stringify(r)}})},Vt=null,Jt=(t,e,r)=>{if(!t)return;let{status:n,data:s,name:i,code:o}=t,a=new URL(e);if(i){let p=String(t);Ee.captureEvent({message:`${i}`,contexts:{report:{info:JSON.stringify({origin:a.origin,path:a.pathname,search:a.search,data:o?{...r,...t}:r})}},exception:{values:[{type:`API_WARN_[${i}]`,value:`${p}`}]},tags:{pathname:a.pathname},level:"info"});return}n==="ERR_TIMEOUT"&&!Vt&&!gt.httpdns.domains.includes(e)&&!e.includes(gt.app.tryPaths.apiDomain.url)&&(oi&&oi(),Vt=setTimeout(()=>{clearTimeout(Vt)},1e3*30)),r?.headers?.disabledSentry!=="1"&&Ee.captureEvent({message:`${o||s.msg}`,contexts:{report:{info:JSON.stringify({origin:a.origin,path:a.pathname,search:a.search,data:o?{...r,...t}:r})}},exception:{values:[{type:`API_WARN_[${o||n}]`,value:`[${a.pathname}]`}]},tags:{pathname:a.pathname},level:"info"})};function Qt(t){let{data:e}=t||{};return e&&Number(e.code)===0?Promise.resolve(e):(Ee.captureException(new Error(`${t?.status}`,{cause:t})),Promise.reject(e||{data:{msg:""}}))}function ai(t){return async(e,r,n={})=>{let s=await Xt(n),{config:i}=await zt({config:s}),o=Date.now();return r&&(i.params=r),dt.get(e,{...i,customToLogin:Yt,needSign:!0}).then(a=>(setTimeout(()=>{Zt(o,e,r)}),t?Qt(a):a)).catch(a=>{throw Jt(a,e,i),a})}}function li(t){return async(e,r,n={})=>{let s=await Xt(n),{config:i}=await zt({config:s}),o=Date.now();return r&&(i.params=r),dt.delete(e,{...i,customToLogin:Yt,needSign:!0}).then(a=>(setTimeout(()=>{Zt(o,e,r)}),t?Qt(a):a)).catch(a=>{throw Jt(a,e,i),a})}}function ci(t){return async(e,r,n={})=>{let s=await Xt(n),{config:i}=await zt({config:s}),o=Date.now();return dt.post(e,r,{...i,customToLogin:Yt,needSign:!0}).then(a=>(setTimeout(()=>{Zt(o,e,r)}),t?Qt(a):a)).catch(a=>{throw Jt(a,e,{...i,...r}),a})}}var om=ai(!0),jl=ai(!1),am=li(!1),lm=ci(!1),cm=li(!0),Kl=ci(!0),ve={zh_CN:"zh_CN",en_US:"en_US"},um={zh:ve.zh_CN,zh_CN:ve.zh_CN,"zh-CN":ve.zh_CN,en:ve.en_US,en_US:ve.en_US,"en-US":ve.en_US,en_IN:ve.en_US};l();c();var Jl=k(sr());var Ql=k(Ge());l();c();var ui=k(Ge());var Yl="/v1",Xl="/deposit/plugin";var zl={get walletHost(){let t=Le();return t==="forked-test2-cat20.defi.swim.env"?`http://${t}`:`https://${t}`},get walletPrefix(){return`${this.walletHost}${Yl}${Xl}`},get configHost(){return`https://${je()}`}},vm={get getExtensionVersion(){return`${zl.configHost}/cdn/assets/okfe/inner/wallet-config/extensionVersion.json`}};l();c();var ec=k(gi());var tc=null;function er(){return tc}l();c();var mi=k(ft());l();c();function hi(t){let e=t||{};return e.coinId===ar||e.coinId===lr}var sc=(t,e)=>(t===q.SEGWIT_NESTED_49||t===q.SEGWIT_NESTED)&&t!==e,ic=(t,e)=>{let r=t;return Array.isArray(e?.exclude)&&(r=r?.filter(({coinId:n})=>!e?.exclude?.includes(n))),r},oc=t=>{let{privateKeyMap:e}=t??{};return e},ac=t=>t?.account||{},vi=t=>function(){return(0,mi.useCallback)(async(r,n={})=>{let[s,i]=await Promise.all([t().getPrivateKeyMapByWalletId({__secretData__:{walletId:r}}),t().getWalletBaseCoins(r)]),o=oc(s),a=await t().getWalletIdentityByWalletId(r),p=ac(a),u=[],h=a.initialType===B.SIMPLE_KEYRING;return i.forEach(({localType:E,coinId:x,chainName:w,image:U,isHotNetwork:W,hotNetworkRank:Re})=>{if(hi({coinId:x})){let J=a?.accountsMap[ie],Ai=a?.segwitAddressType?.[ie],rr=pr[ie].reduce((se,ce)=>(sc(ce,Ai)||(h?se[ce]=o[ie]:o[`${ie}_${ce}`]&&(se[ce]=o[`${ie}_${ce}`])),se),{});Object.keys(rr).forEach(se=>{let ce=rr[se],Si=se;u.push({walletId:r,privateKey:ce,address:J[se].address,shortenedAddress:wt(p[ie]),coinId:x,chainName:w,image:U,btcAddressType:Si,isHotNetwork:W,hotNetworkRank:Re})})}else{let J=o[E];u.push({walletId:r,privateKey:J,address:p[E],shortenedAddress:wt(p[E]),coinId:x,chainName:w,image:U,isHotNetwork:W,hotNetworkRank:Re})}}),ic(u,n)},[t])};l();c();var mv=new Set([B.LEDGER_BRIDGE_KEYRING,B.TREZOR_KEYRING,B.KEYSTONE_KEYRING,B.ONEKEY_KEYRING]);var vv={[q.LEGACY]:"Legacy",[q.SEGWIT_NESTED_49]:"segwit_nested",[q.SEGWIT_NATIVE]:"segwit_native"};l();c();l();c();l();c();l();c();var Ei=(t,e)=>{if(!t||!Array.isArray(t))return[];let{hasBackup:r,keyringType:n}=e||{};return t.filter(s=>{let{hasBackup:i,keyringIdentityType:o}=s,a=typeof r=="boolean"?r===i:!0,p=!0;return n&&(p=(Array.isArray(n)?n:[n]).includes(o)),a&&p})},yi=t=>t?.reduce((e,{walletIdentities:r,...n})=>[...e,...r.map((s={})=>({...n,...s}))],[]),xi=t=>t.map(e=>{let{walletIdentities:r}=e;return{...e,hasBackup:r?.[0]?.needBackup!==1}}),lc=(t={},e)=>{let r=[q.SEGWIT_NESTED,q.SEGWIT_NESTED_49],n={};return Object.keys(t).forEach(i=>{let o=e[i],a=r.find(u=>u!==o),p=Object.entries(t[i]).map(([u,h])=>({addressType:u,...h}));n[i]=p.filter(({addressType:u})=>u!==a)}),n},Ii=(t=[])=>t.map(e=>{let{walletIdentities:r}=e;return{...e,walletIdentities:r.map(n=>{let{walletId:s,accountsMap:i,addressType:o,segwitAddressType:a,...p}=n;return{walletId:s,selectedAddressType:o,addressType:lc(n?.accountsMap,a),segwitAddressType:a,...p}})}});var pc=(0,Ti.createSelector)(({keyring:t})=>t.keyringIdentities,t=>Ii(ur(t))),tr=t=>{let e=vt(pc);return(0,le.useMemo)(()=>{let n=xi(e);return t?Ei(n,t):n},[t,e])};var dc=t=>{let e=tr(t);return(0,le.useMemo)(()=>yi(e||[]),[e])},fc=()=>vt(dr);var gc=(t,e=!0)=>{let r=fc(),n=t||r,s=dc();return(0,le.useMemo)(()=>e===!1&&!t?null:s.find(i=>i?.walletId===n),[s,n,e,t])};var Lw=t=>{let e=tr(),{keyringId:r}=gc()||{},n=t||r;return(0,le.useMemo)(()=>e?.find(s=>s.keyringId===n),[e,n])},Nw=()=>{let t=tr();return(0,le.useCallback)(e=>t?.find(r=>r.keyringId===e),[t])};var bw=vi(er);export{gi as a,qs as b,Rh as c,vm as d,j as e,Dc as f,Hi as g,kc as h,vi as i,fc as j,gc as k,Lw as l,Nw as m};
//# sourceMappingURL=chunk-XUNQN7AR.js.map
