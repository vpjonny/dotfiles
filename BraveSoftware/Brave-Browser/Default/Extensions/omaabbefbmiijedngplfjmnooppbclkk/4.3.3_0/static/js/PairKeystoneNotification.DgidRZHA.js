import{i1 as ma,i2 as L,i3 as Bi,i4 as ct,i5 as Pi,i6 as H,i7 as he,i8 as z,i9 as ge,ia as Ta,ib as Ca,ic as Sa,id as ba,ie as wa,bc as Tr,ig as Ea,ih as Oa,r as J,bG as Da,i as Ia,u as Ba,ii as Pa,h as Aa,j as oe,bI as Ma,F as Na,d as qa,e as Ua}from"./main.D-W_HyrW.js";import{r as La,H as xa,B as Ka,K as Ha}from"./AccountView.DzXlrfId.js";import"./TransitionGroup.CMby87Kf.js";var Re={},qt={exports:{}},Ut={},Lt={},Cr=function(t,o){return Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var s in _)Object.prototype.hasOwnProperty.call(_,s)&&(d[s]=_[s])},Cr(t,o)};function Ai(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");Cr(t,o);function d(){this.constructor=t}t.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}var Rt=function(){return Rt=Object.assign||function(o){for(var d,_=1,s=arguments.length;_<s;_++){d=arguments[_];for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&(o[i]=d[i])}return o},Rt.apply(this,arguments)};function Mi(t,o){var d={};for(var _ in t)Object.prototype.hasOwnProperty.call(t,_)&&o.indexOf(_)<0&&(d[_]=t[_]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,_=Object.getOwnPropertySymbols(t);s<_.length;s++)o.indexOf(_[s])<0&&Object.prototype.propertyIsEnumerable.call(t,_[s])&&(d[_[s]]=t[_[s]]);return d}function Ni(t,o,d,_){var s=arguments.length,i=s<3?o:_===null?_=Object.getOwnPropertyDescriptor(o,d):_,e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,o,d,_);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(i=(s<3?e(i):s>3?e(o,d,i):e(o,d))||i);return s>3&&i&&Object.defineProperty(o,d,i),i}function qi(t,o){return function(d,_){o(d,_,t)}}function ja(t,o,d,_,s,i){function e(n){if(n!==void 0&&typeof n!="function")throw new TypeError("Function expected");return n}for(var u=_.kind,h=u==="getter"?"get":u==="setter"?"set":"value",l=!o&&t?_.static?t:t.prototype:null,f=o||(l?Object.getOwnPropertyDescriptor(l,_.name):{}),y,v=!1,r=d.length-1;r>=0;r--){var p={};for(var a in _)p[a]=a==="access"?{}:_[a];for(var a in _.access)p.access[a]=_.access[a];p.addInitializer=function(n){if(v)throw new TypeError("Cannot add initializers after decoration has completed");i.push(e(n||null))};var c=(0,d[r])(u==="accessor"?{get:f.get,set:f.set}:f[h],p);if(u==="accessor"){if(c===void 0)continue;if(c===null||typeof c!="object")throw new TypeError("Object expected");(y=e(c.get))&&(f.get=y),(y=e(c.set))&&(f.set=y),(y=e(c.init))&&s.unshift(y)}else(y=e(c))&&(u==="field"?s.unshift(y):f[h]=y)}l&&Object.defineProperty(l,_.name,f),v=!0}function Fa(t,o,d){for(var _=arguments.length>2,s=0;s<o.length;s++)d=_?o[s].call(t,d):o[s].call(t);return _?d:void 0}function ka(t){return typeof t=="symbol"?t:"".concat(t)}function Xa(t,o,d){return typeof o=="symbol"&&(o=o.description?"[".concat(o.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:d?"".concat(d," ",o):o})}function Ui(t,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,o)}function Li(t,o,d,_){function s(i){return i instanceof d?i:new d(function(e){e(i)})}return new(d||(d=Promise))(function(i,e){function u(f){try{l(_.next(f))}catch(y){e(y)}}function h(f){try{l(_.throw(f))}catch(y){e(y)}}function l(f){f.done?i(f.value):s(f.value).then(u,h)}l((_=_.apply(t,o||[])).next())})}function xi(t,o){var d={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},_,s,i,e;return e={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e;function u(l){return function(f){return h([l,f])}}function h(l){if(_)throw new TypeError("Generator is already executing.");for(;e&&(e=0,l[0]&&(d=0)),d;)try{if(_=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return d.label++,{value:l[1],done:!1};case 5:d.label++,s=l[1],l=[0];continue;case 7:l=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){d=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){d.label=l[1];break}if(l[0]===6&&d.label<i[1]){d.label=i[1],i=l;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(l);break}i[2]&&d.ops.pop(),d.trys.pop();continue}l=o.call(t,d)}catch(f){l=[6,f],s=0}finally{_=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var St=Object.create?function(t,o,d,_){_===void 0&&(_=d);var s=Object.getOwnPropertyDescriptor(o,d);(!s||("get"in s?!o.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return o[d]}}),Object.defineProperty(t,_,s)}:function(t,o,d,_){_===void 0&&(_=d),t[_]=o[d]};function Ki(t,o){for(var d in t)d!=="default"&&!Object.prototype.hasOwnProperty.call(o,d)&&St(o,t,d)}function mt(t){var o=typeof Symbol=="function"&&Symbol.iterator,d=o&&t[o],_=0;if(d)return d.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&_>=t.length&&(t=void 0),{value:t&&t[_++],done:!t}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dr(t,o){var d=typeof Symbol=="function"&&t[Symbol.iterator];if(!d)return t;var _=d.call(t),s,i=[],e;try{for(;(o===void 0||o-- >0)&&!(s=_.next()).done;)i.push(s.value)}catch(u){e={error:u}}finally{try{s&&!s.done&&(d=_.return)&&d.call(_)}finally{if(e)throw e.error}}return i}function Hi(){for(var t=[],o=0;o<arguments.length;o++)t=t.concat(Dr(arguments[o]));return t}function ji(){for(var t=0,o=0,d=arguments.length;o<d;o++)t+=arguments[o].length;for(var _=Array(t),s=0,o=0;o<d;o++)for(var i=arguments[o],e=0,u=i.length;e<u;e++,s++)_[s]=i[e];return _}function Fi(t,o,d){if(d||arguments.length===2)for(var _=0,s=o.length,i;_<s;_++)(i||!(_ in o))&&(i||(i=Array.prototype.slice.call(o,0,_)),i[_]=o[_]);return t.concat(i||Array.prototype.slice.call(o))}function pe(t){return this instanceof pe?(this.v=t,this):new pe(t)}function ki(t,o,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=d.apply(t,o||[]),s,i=[];return s={},e("next"),e("throw"),e("return"),s[Symbol.asyncIterator]=function(){return this},s;function e(v){_[v]&&(s[v]=function(r){return new Promise(function(p,a){i.push([v,r,p,a])>1||u(v,r)})})}function u(v,r){try{h(_[v](r))}catch(p){y(i[0][3],p)}}function h(v){v.value instanceof pe?Promise.resolve(v.value.v).then(l,f):y(i[0][2],v)}function l(v){u("next",v)}function f(v){u("throw",v)}function y(v,r){v(r),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Xi(t){var o,d;return o={},_("next"),_("throw",function(s){throw s}),_("return"),o[Symbol.iterator]=function(){return this},o;function _(s,i){o[s]=t[s]?function(e){return(d=!d)?{value:pe(t[s](e)),done:!1}:i?i(e):e}:i}}function $i(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t[Symbol.asyncIterator],d;return o?o.call(t):(t=typeof mt=="function"?mt(t):t[Symbol.iterator](),d={},_("next"),_("throw"),_("return"),d[Symbol.asyncIterator]=function(){return this},d);function _(i){d[i]=t[i]&&function(e){return new Promise(function(u,h){e=t[i](e),s(u,h,e.done,e.value)})}}function s(i,e,u,h){Promise.resolve(h).then(function(l){i({value:l,done:u})},e)}}function Vi(t,o){return Object.defineProperty?Object.defineProperty(t,"raw",{value:o}):t.raw=o,t}var $a=Object.create?function(t,o){Object.defineProperty(t,"default",{enumerable:!0,value:o})}:function(t,o){t.default=o};function Wi(t){if(t&&t.__esModule)return t;var o={};if(t!=null)for(var d in t)d!=="default"&&Object.prototype.hasOwnProperty.call(t,d)&&St(o,t,d);return $a(o,t),o}function Gi(t){return t&&t.__esModule?t:{default:t}}function Yi(t,o,d,_){if(d==="a"&&!_)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?t!==o||!_:!o.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return d==="m"?_:d==="a"?_.call(t):_?_.value:o.get(t)}function Zi(t,o,d,_,s){if(_==="m")throw new TypeError("Private method is not writable");if(_==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?t!==o||!s:!o.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _==="a"?s.call(t,d):s?s.value=d:o.set(t,d),d}function Qi(t,o){if(o===null||typeof o!="object"&&typeof o!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?o===t:t.has(o)}function Ji(t,o,d){if(o!=null){if(typeof o!="object"&&typeof o!="function")throw new TypeError("Object expected.");var _;if(d){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");_=o[Symbol.asyncDispose]}if(_===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");_=o[Symbol.dispose]}if(typeof _!="function")throw new TypeError("Object not disposable.");t.stack.push({value:o,dispose:_,async:d})}else d&&t.stack.push({async:!0});return o}var Va=typeof SuppressedError=="function"?SuppressedError:function(t,o,d){var _=new Error(d);return _.name="SuppressedError",_.error=t,_.suppressed=o,_};function zi(t){function o(_){t.error=t.hasError?new Va(_,t.error,"An error was suppressed during disposal."):_,t.hasError=!0}function d(){for(;t.stack.length;){var _=t.stack.pop();try{var s=_.dispose&&_.dispose.call(_.value);if(_.async)return Promise.resolve(s).then(d,function(i){return o(i),d()})}catch(i){o(i)}}if(t.hasError)throw t.error}return d()}const Wa={__extends:Ai,__assign:Rt,__rest:Mi,__decorate:Ni,__param:qi,__metadata:Ui,__awaiter:Li,__generator:xi,__createBinding:St,__exportStar:Ki,__values:mt,__read:Dr,__spread:Hi,__spreadArrays:ji,__spreadArray:Fi,__await:pe,__asyncGenerator:ki,__asyncDelegator:Xi,__asyncValues:$i,__makeTemplateObject:Vi,__importStar:Wi,__importDefault:Gi,__classPrivateFieldGet:Yi,__classPrivateFieldSet:Zi,__classPrivateFieldIn:Qi,__addDisposableResource:Ji,__disposeResources:zi},Ga=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ji,get __assign(){return Rt},__asyncDelegator:Xi,__asyncGenerator:ki,__asyncValues:$i,__await:pe,__awaiter:Li,__classPrivateFieldGet:Yi,__classPrivateFieldIn:Qi,__classPrivateFieldSet:Zi,__createBinding:St,__decorate:Ni,__disposeResources:zi,__esDecorate:ja,__exportStar:Ki,__extends:Ai,__generator:xi,__importDefault:Gi,__importStar:Wi,__makeTemplateObject:Vi,__metadata:Ui,__param:qi,__propKey:ka,__read:Dr,__rest:Mi,__runInitializers:Fa,__setFunctionName:Xa,__spread:Hi,__spreadArray:Fi,__spreadArrays:ji,__values:mt,default:Wa},Symbol.toStringTag,{value:"Module"})),Ya=ma(Ga);var xt={},me={},Kt={},_t={exports:{}},Te={},qr;function Ir(){if(qr)return Te;qr=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.DataItem=void 0;let t=class{constructor(d,_){this.setTag=s=>{this.tag=s},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=d,this.tag=_}};return Te.DataItem=t,Te}var Za=_t.exports,Ur;function Qa(){return Ur||(Ur=1,function(t){(function(o,d){t.exports?t.exports=d():o.CBOR=d()})(Za,function(){const{DataItem:o}=Ir();var d=function(){function _(m){this.$hex=m}_.prototype={length:function(){return this.$hex.length/2},toString:function(m){if(!m||m==="hex"||m===16)return this.$hex;if(m==="utf-8"){for(var S="",b=0;b<this.$hex.length;b+=2)S+="%"+this.$hex.substring(b,b+2);return decodeURIComponent(S)}if(m==="latin"){for(var S=[],b=0;b<this.$hex.length;b+=2)S.push(parseInt(this.$hex.substring(b,b+2),16));return String.fromCharCode.apply(String,S)}throw new Error("Unrecognised format: "+m)}},_.fromLatinString=function(m){for(var S="",b=0;b<m.length;b++){var A=m.charCodeAt(b).toString(16);A.length===1&&(A="0"+A),S+=A}return new _(S)},_.fromUtf8String=function(m){for(var S=encodeURIComponent(m),b="",A=0;A<S.length;A++)if(S.charAt(A)==="%")b+=S.substring(A+1,A+3),A+=2;else{var N=S.charCodeAt(A).toString(16);N.length<2&&(N="0"+N),b+=N}return new _(b)};var s=[],i={},e=function(m){return function(){throw new Error(m+" not implemented")}};function u(){}u.prototype={peekByte:e("peekByte"),readByte:e("readByte"),readChunk:e("readChunk"),readFloat16:function(){var m=this.readUint16(),S=(m&32767)>>10,b=m&1023,A=m&32768;if(S===31)return b===0?A?-1/0:1/0:NaN;var N=S?Math.pow(2,S-25)*(1024+b):Math.pow(2,-24)*b;return A?-N:N},readFloat32:function(){var m=this.readUint32(),S=(m&2147483647)>>23,b=m&8388607,A=m&2147483648;if(S===255)return b===0?A?-1/0:1/0:NaN;var N=S?Math.pow(2,S-23-127)*(8388608+b):Math.pow(2,-149)*b;return A?-N:N},readFloat64:function(){var m=this.readUint32(),S=this.readUint32(),b=m>>20&2047,A=(m&1048575)*4294967296+S,N=m&2147483648;if(b===2047)return A===0?N?-1/0:1/0:NaN;var j=b?Math.pow(2,b-52-1023)*(4503599627370496+A):Math.pow(2,-1074)*A;return N?-j:j},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function h(){}h.prototype={writeByte:e("writeByte"),result:e("result"),writeFloat16:e("writeFloat16"),writeFloat32:e("writeFloat32"),writeFloat64:e("writeFloat64"),writeUint16:function(m){this.writeByte(m>>8&255),this.writeByte(m&255)},writeUint32:function(m){this.writeUint16(m>>16&65535),this.writeUint16(m&65535)},writeUint64:function(m){if(m>=9007199254740992||m<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+m+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(m/4294967296)),this.writeUint32(m%4294967296)},writeString:e("writeString"),canWriteBinary:function(m){return!1},writeBinary:e("writeChunk")};function l(m){var S=m.readByte(),b=S>>5,A=S&31;return{type:b,value:A}}function f(m,S){var b=m.value;if(b<24)return b;if(b==24)return S.readByte();if(b==25)return S.readUint16();if(b==26)return S.readUint32();if(b==27)return S.readUint64();if(b==31)return null;e("Additional info: "+b)()}function y(m,S,b){b.writeByte(m<<5|S)}function v(m,S,b){var A=m<<5;S<24?b.writeByte(A|S):S<256?(b.writeByte(A|24),b.writeByte(S)):S<65536?(b.writeByte(A|25),b.writeUint16(S)):S<4294967296?(b.writeByte(A|26),b.writeUint32(S)):(b.writeByte(A|27),b.writeUint64(S))}var r=new Error;function p(m){var S=l(m);switch(S.type){case 0:return f(S,m);case 1:return-1-f(S,m);case 2:return m.readChunk(f(S,m));case 3:var b=m.readChunk(f(S,m));return b.toString("utf-8");case 4:case 5:var A=f(S,m),V=[];if(A!==null){S.type===5&&(A*=2);for(var N=0;N<A;N++)V[N]=p(m)}else for(var j;(j=p(m))!==r;)V.push(j);if(S.type===5){for(var U={},N=0;N<V.length;N+=2)U[V[N]]=V[N+1];return U}else return V;case 6:var Y=f(S,m),G=i[Y],V=p(m);return G?G(V):V;case 7:if(S.value===25)return m.readFloat16();if(S.value===26)return m.readFloat32();if(S.value===27)return m.readFloat64();switch(f(S,m)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return r;default:throw new Error("Unknown fixed value: "+S.value)}default:throw new Error("Unsupported header: "+JSON.stringify(S))}throw new Error("not implemented yet")}function a(m,S){for(var b=0;b<s.length;b++){var A=s[b].fn(m);if(A!==void 0)return v(6,s[b].tag,S),a(A,S)}if(m&&typeof m.toCBOR=="function"&&(m=m.toCBOR()),m===!1)v(7,20,S);else if(m===!0)v(7,21,S);else if(m===null)v(7,22,S);else if(m===void 0)v(7,23,S);else if(typeof m=="number")Math.floor(m)===m&&m<9007199254740992&&m>-9007199254740992?m<0?v(1,-1-m,S):v(0,m,S):(y(7,27,S),S.writeFloat64(m));else if(typeof m=="string")S.writeString(m,function(j){v(3,j,S)});else if(S.canWriteBinary(m))S.writeBinary(m,function(j){v(2,j,S)});else if(typeof m=="object")if(g.config.useToJSON&&typeof m.toJSON=="function"&&(m=m.toJSON()),Array.isArray(m)){v(4,m.length,S);for(var b=0;b<m.length;b++)a(m[b],S)}else{var N=Object.keys(m);v(5,N.length,S);for(var b=0;b<N.length;b++){const U=parseInt(N[b]);isNaN(U)?(a(N[b],S),a(m[N[b]],S)):(a(U,S),a(m[N[b]],S))}}else throw new Error("CBOR encoding not supported: "+m)}var c=[],n=[],g={config:{useToJSON:!0},addWriter:function(m,S){typeof m=="string"?n.push(function(b){if(m===b)return S(b)}):n.push(m)},addReader:function(m,S){typeof m=="string"?c.push(function(b,A){if(m===A)return S(b,A)}):c.push(m)},encode:function(m,S){for(var b=0;b<n.length;b++){var A=n[b],N=A(S);if(N)return a(m,N),N.result()}throw new Error("Unsupported output format: "+S)},encodeDataItem:function(m,S){for(var b=0;b<n.length;b++){var A=n[b],N=A(S);if(N)return m.getTag()!==void 0?(a(m,N),N.result()):(a(m.getData(),N),N.result())}throw new Error("Unsupported output format: "+S)},decode:function(m,S){for(var b=0;b<c.length;b++){var A=c[b],N=A(m,S);if(N)return p(N)}throw new Error("Unsupported input format: "+S)},decodeToDataItem:function(m,S){for(var b=0;b<c.length;b++){var A=c[b],N=A(m,S);if(N){const j=p(N);return j instanceof o?j:new o(j)}}throw new Error("Unsupported input format: "+S)},addSemanticEncode:function(m,S){if(typeof m!="number"||m%1!==0||m<0)throw new Error("Tag must be a positive integer");return s.push({tag:m,fn:S}),this},addSemanticDecode:function(m,S){if(typeof m!="number"||m%1!==0||m<0)throw new Error("Tag must be a positive integer");return i[m]=S,this}};function R(m){this.buffer=m,this.pos=0}R.prototype=Object.create(u.prototype),R.prototype.peekByte=function(){return this.buffer[this.pos]},R.prototype.readByte=function(){return this.buffer[this.pos++]},R.prototype.readUint16=function(){var m=this.buffer.readUInt16BE(this.pos);return this.pos+=2,m},R.prototype.readUint32=function(){var m=this.buffer.readUInt32BE(this.pos);return this.pos+=4,m},R.prototype.readFloat32=function(){var m=this.buffer.readFloatBE(this.pos);return this.pos+=4,m},R.prototype.readFloat64=function(){var m=this.buffer.readDoubleBE(this.pos);return this.pos+=8,m},R.prototype.readChunk=function(m){var S=L.Buffer.alloc(m);return this.buffer.copy(S,0,this.pos,this.pos+=m),S};function E(m){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=L.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=m}E.prototype=Object.create(h.prototype),E.prototype.writeByte=function(m){this.latestBuffer[this.latestBufferOffset++]=m,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=L.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},E.prototype.writeFloat32=function(m){var S=L.Buffer.alloc(4);S.writeFloatBE(m,0),this.writeBuffer(S)},E.prototype.writeFloat64=function(m){var S=L.Buffer.alloc(8);S.writeDoubleBE(m,0),this.writeBuffer(S)},E.prototype.writeString=function(m,S){var b=L.Buffer.from(m,"utf-8");S(b.length),this.writeBuffer(b)},E.prototype.canWriteBinary=function(m){return m instanceof L.Buffer},E.prototype.writeBinary=function(m,S){S(m.length),this.writeBuffer(m)},E.prototype.writeBuffer=function(m){if(!(m instanceof L.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=m.length?(m.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=m.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=L.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(m),this.latestBuffer=L.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(m),this.byteLength+=m.length},E.prototype.result=function(){for(var m=L.Buffer.alloc(this.byteLength),S=0,b=0;b<this.completeBuffers.length;b++){var A=this.completeBuffers[b];A.copy(m,S,0,A.length),S+=A.length}return this.latestBufferOffset&&this.latestBuffer.copy(m,S,0,this.latestBufferOffset),this.stringFormat?m.toString(this.stringFormat):m},typeof L.Buffer=="function"&&(g.addReader(function(m,S){if(L.Buffer.isBuffer(m))return new R(m);if(S==="hex"||S==="base64"){var b=L.Buffer.from(m,S);return new R(b)}}),g.addWriter(function(m){if(!m||m==="buffer")return new E;if(m==="hex"||m==="base64")return new E(m)}));function O(m){this.hex=m,this.pos=0}O.prototype=Object.create(u.prototype),O.prototype.peekByte=function(){var m=this.hex.substring(this.pos,2);return parseInt(m,16)},O.prototype.readByte=function(){var m=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(m,16)},O.prototype.readChunk=function(m){var S=this.hex.substring(this.pos,this.pos+m*2);return this.pos+=m*2,typeof L.Buffer=="function"?L.Buffer.from(S,"hex"):new _(S)};function B(m){this.$hex="",this.finalFormat=m||"hex"}return B.prototype=Object.create(h.prototype),B.prototype.writeByte=function(m){if(m<0||m>255)throw new Error("Byte value out of range: "+m);var S=m.toString(16);S.length==1&&(S="0"+S),this.$hex+=S},B.prototype.canWriteBinary=function(m){return m instanceof _||typeof L.Buffer=="function"&&m instanceof L.Buffer},B.prototype.writeBinary=function(m,S){if(m instanceof _)S(m.length()),this.$hex+=m.$hex;else if(typeof L.Buffer=="function"&&m instanceof L.Buffer)S(m.length),this.$hex+=m.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},B.prototype.result=function(){return this.finalFormat==="buffer"&&typeof L.Buffer=="function"?L.Buffer.from(this.$hex,"hex"):new _(this.$hex).toString(this.finalFormat)},B.prototype.writeString=function(m,S){var b=_.fromUtf8String(m);S(b.length()),this.$hex+=b.$hex},g.addReader(function(m,S){if(m instanceof _||m.$hex)return new O(m.$hex);if(S==="hex")return new O(m)}),g.addWriter(function(m){if(m==="hex")return new B}),g}();return d.addSemanticEncode(0,function(_){if(_ instanceof Date)return _.toISOString()}).addSemanticDecode(0,function(_){return new Date(_)}).addSemanticDecode(1,function(_){return new Date(_)}),d})}(_t)),_t.exports}var Lr;function X(){return Lr||(Lr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DataItem=t.addWriter=t.addReader=t.addSemanticEncode=t.addSemanticDecode=t.decodeToDataItem=t.encodeDataItem=void 0;var o=Qa();Object.defineProperty(t,"encodeDataItem",{enumerable:!0,get:function(){return o.encodeDataItem}}),Object.defineProperty(t,"decodeToDataItem",{enumerable:!0,get:function(){return o.decodeToDataItem}}),Object.defineProperty(t,"addSemanticDecode",{enumerable:!0,get:function(){return o.addSemanticDecode}}),Object.defineProperty(t,"addSemanticEncode",{enumerable:!0,get:function(){return o.addSemanticEncode}}),Object.defineProperty(t,"addReader",{enumerable:!0,get:function(){return o.addReader}}),Object.defineProperty(t,"addWriter",{enumerable:!0,get:function(){return o.addWriter}});var d=Ir();Object.defineProperty(t,"DataItem",{enumerable:!0,get:function(){return d.DataItem}})}(Kt)),Kt}var xr;function Sr(){if(xr)return me;xr=1,Object.defineProperty(me,"__esModule",{value:!0}),me.patchTags=void 0;const t=X(),o=[],d=_=>{_.forEach(s=>{o.find(i=>i===s)||((0,t.addSemanticEncode)(s,i=>{if(i instanceof t.DataItem&&i.getTag()===s)return i.getData()}),(0,t.addSemanticDecode)(s,i=>new t.DataItem(i,s)),o.push(s))})};return me.patchTags=d,me}var ie={},Kr;function $(){if(Kr)return ie;Kr=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.RegistryTypes=ie.RegistryType=void 0;let t=class{constructor(d,_){this.type=d,this.tag=_,this.getTag=()=>this.tag,this.getType=()=>this.type}};return ie.RegistryType=t,ie.RegistryTypes={UUID:new t("uuid",37),BYTES:new t("bytes",void 0),CRYPTO_HDKEY:new t("crypto-hdkey",303),CRYPTO_KEYPATH:new t("crypto-keypath",304),CRYPTO_COIN_INFO:new t("crypto-coin-info",305),CRYPTO_ECKEY:new t("crypto-eckey",306),CRYPTO_OUTPUT:new t("crypto-output",308),CRYPTO_PSBT:new t("crypto-psbt",310),CRYPTO_ACCOUNT:new t("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new t("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new t("qr-hardware-call",1201),KEY_DERIVATION_CALL:new t("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new t("key-derivation-schema",1302)},ie}var Ht={},Hr;function Br(){return Hr||(Hr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptExpressions=t.ScriptExpression=void 0;class o{constructor(_,s){this.tag=_,this.expression=s,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}t.ScriptExpression=o,o.fromTag=d=>Object.values(t.ScriptExpressions).find(s=>s.getTag()===d),t.ScriptExpressions={SCRIPT_HASH:new o(400,"sh"),WITNESS_SCRIPT_HASH:new o(401,"wsh"),PUBLIC_KEY:new o(402,"pk"),PUBLIC_KEY_HASH:new o(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new o(404,"wpkh"),COMBO:new o(405,"combo"),MULTISIG:new o(406,"multi"),SORTED_MULTISIG:new o(407,"sortedmulti"),ADDRESS:new o(307,"addr"),RAW_SCRIPT:new o(408,"raw")}}(Ht)),Ht}var jr;function Fr(){if(jr)return xt;jr=1,Object.defineProperty(xt,"__esModule",{value:!0});const t=Sr(),o=$(),d=Br(),_=Object.values(o.RegistryTypes).filter(i=>!!i.getTag()).map(i=>i.getTag()),s=Object.values(d.ScriptExpressions).map(i=>i.getTag());return(0,t.patchTags)(_.concat(s)),xt}var Ce={},yt={exports:{}},jt,kr;function ea(){return kr||(kr=1,jt=Bi().EventEmitter),jt}var Ft,Xr;function Ja(){if(Xr)return Ft;Xr=1;function t(p,a){var c=Object.keys(p);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(p);a&&(n=n.filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable})),c.push.apply(c,n)}return c}function o(p){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?t(Object(c),!0).forEach(function(n){d(p,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(c)):t(Object(c)).forEach(function(n){Object.defineProperty(p,n,Object.getOwnPropertyDescriptor(c,n))})}return p}function d(p,a,c){return a=e(a),a in p?Object.defineProperty(p,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):p[a]=c,p}function _(p,a){if(!(p instanceof a))throw new TypeError("Cannot call a class as a function")}function s(p,a){for(var c=0;c<a.length;c++){var n=a[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(p,e(n.key),n)}}function i(p,a,c){return a&&s(p.prototype,a),Object.defineProperty(p,"prototype",{writable:!1}),p}function e(p){var a=u(p,"string");return typeof a=="symbol"?a:String(a)}function u(p,a){if(typeof p!="object"||p===null)return p;var c=p[Symbol.toPrimitive];if(c!==void 0){var n=c.call(p,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}var h=ct(),l=h.Buffer,f=Pi,y=f.inspect,v=y&&y.custom||"inspect";function r(p,a,c){l.prototype.copy.call(p,a,c)}return Ft=function(){function p(){_(this,p),this.head=null,this.tail=null,this.length=0}return i(p,[{key:"push",value:function(c){var n={data:c,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(c){var n={data:c,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(c){if(this.length===0)return"";for(var n=this.head,g=""+n.data;n=n.next;)g+=c+n.data;return g}},{key:"concat",value:function(c){if(this.length===0)return l.alloc(0);for(var n=l.allocUnsafe(c>>>0),g=this.head,R=0;g;)r(g.data,n,R),R+=g.data.length,g=g.next;return n}},{key:"consume",value:function(c,n){var g;return c<this.head.data.length?(g=this.head.data.slice(0,c),this.head.data=this.head.data.slice(c)):c===this.head.data.length?g=this.shift():g=n?this._getString(c):this._getBuffer(c),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(c){var n=this.head,g=1,R=n.data;for(c-=R.length;n=n.next;){var E=n.data,O=c>E.length?E.length:c;if(O===E.length?R+=E:R+=E.slice(0,c),c-=O,c===0){O===E.length?(++g,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=E.slice(O));break}++g}return this.length-=g,R}},{key:"_getBuffer",value:function(c){var n=l.allocUnsafe(c),g=this.head,R=1;for(g.data.copy(n),c-=g.data.length;g=g.next;){var E=g.data,O=c>E.length?E.length:c;if(E.copy(n,n.length-c,0,O),c-=O,c===0){O===E.length?(++R,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=E.slice(O));break}++R}return this.length-=R,n}},{key:v,value:function(c,n){return y(this,o(o({},n),{},{depth:0,customInspect:!1}))}}]),p}(),Ft}var kt,$r;function ta(){if($r)return kt;$r=1;function t(e,u){var h=this,l=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return l||f?(u?u(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,H.nextTick(s,this,e)):H.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(y){!u&&y?h._writableState?h._writableState.errorEmitted?H.nextTick(d,h):(h._writableState.errorEmitted=!0,H.nextTick(o,h,y)):H.nextTick(o,h,y):u?(H.nextTick(d,h),u(y)):H.nextTick(d,h)}),this)}function o(e,u){s(e,u),d(e)}function d(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function _(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(e,u){e.emit("error",u)}function i(e,u){var h=e._readableState,l=e._writableState;h&&h.autoDestroy||l&&l.autoDestroy?e.destroy(u):e.emit("error",u)}return kt={destroy:t,undestroy:_,errorOrDestroy:i},kt}var Xt={},Vr;function ve(){if(Vr)return Xt;Vr=1;function t(u,h){u.prototype=Object.create(h.prototype),u.prototype.constructor=u,u.__proto__=h}var o={};function d(u,h,l){l||(l=Error);function f(v,r,p){return typeof h=="string"?h:h(v,r,p)}var y=function(v){t(r,v);function r(p,a,c){return v.call(this,f(p,a,c))||this}return r}(l);y.prototype.name=l.name,y.prototype.code=u,o[u]=y}function _(u,h){if(Array.isArray(u)){var l=u.length;return u=u.map(function(f){return String(f)}),l>2?"one of ".concat(h," ").concat(u.slice(0,l-1).join(", "),", or ")+u[l-1]:l===2?"one of ".concat(h," ").concat(u[0]," or ").concat(u[1]):"of ".concat(h," ").concat(u[0])}else return"of ".concat(h," ").concat(String(u))}function s(u,h,l){return u.substr(0,h.length)===h}function i(u,h,l){return(l===void 0||l>u.length)&&(l=u.length),u.substring(l-h.length,l)===h}function e(u,h,l){return typeof l!="number"&&(l=0),l+h.length>u.length?!1:u.indexOf(h,l)!==-1}return d("ERR_INVALID_OPT_VALUE",function(u,h){return'The value "'+h+'" is invalid for option "'+u+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(u,h,l){var f;typeof h=="string"&&s(h,"not ")?(f="must not be",h=h.replace(/^not /,"")):f="must be";var y;if(i(u," argument"))y="The ".concat(u," ").concat(f," ").concat(_(h,"type"));else{var v=e(u,".")?"property":"argument";y='The "'.concat(u,'" ').concat(v," ").concat(f," ").concat(_(h,"type"))}return y+=". Received type ".concat(typeof l),y},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Xt.codes=o,Xt}var $t,Wr;function ra(){if(Wr)return $t;Wr=1;var t=ve().codes.ERR_INVALID_OPT_VALUE;function o(_,s,i){return _.highWaterMark!=null?_.highWaterMark:s?_[i]:null}function d(_,s,i,e){var u=o(s,e,i);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var h=e?i:"highWaterMark";throw new t(h,u)}return Math.floor(u)}return _.objectMode?16:16*1024}return $t={getHighWaterMark:d},$t}var Vt,Gr;function za(){if(Gr)return Vt;Gr=1,Vt=t;function t(d,_){if(o("noDeprecation"))return d;var s=!1;function i(){if(!s){if(o("throwDeprecation"))throw new Error(_);o("traceDeprecation")?console.trace(_):console.warn(_),s=!0}return d.apply(this,arguments)}return i}function o(d){try{if(!he.localStorage)return!1}catch{return!1}var _=he.localStorage[d];return _==null?!1:String(_).toLowerCase()==="true"}return Vt}var Wt,Yr;function na(){if(Yr)return Wt;Yr=1,Wt=S;function t(D){var w=this;this.next=null,this.entry=null,this.finish=function(){Pt(w,D)}}var o;S.WritableState=B;var d={deprecate:za()},_=ea(),s=ct().Buffer,i=(typeof he<"u"?he:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function e(D){return s.from(D)}function u(D){return s.isBuffer(D)||D instanceof i}var h=ta(),l=ra(),f=l.getHighWaterMark,y=ve().codes,v=y.ERR_INVALID_ARG_TYPE,r=y.ERR_METHOD_NOT_IMPLEMENTED,p=y.ERR_MULTIPLE_CALLBACK,a=y.ERR_STREAM_CANNOT_PIPE,c=y.ERR_STREAM_DESTROYED,n=y.ERR_STREAM_NULL_VALUES,g=y.ERR_STREAM_WRITE_AFTER_END,R=y.ERR_UNKNOWN_ENCODING,E=h.errorOrDestroy;z()(S,_);function O(){}function B(D,w,P){o=o||ye(),D=D||{},typeof P!="boolean"&&(P=w instanceof o),this.objectMode=!!D.objectMode,P&&(this.objectMode=this.objectMode||!!D.writableObjectMode),this.highWaterMark=f(this,D,"writableHighWaterMark",P),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=D.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=D.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){V(w,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}B.prototype.getBuffer=function(){for(var w=this.bufferedRequest,P=[];w;)P.push(w),w=w.next;return P},function(){try{Object.defineProperty(B.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var m;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(w){return m.call(this,w)?!0:this!==S?!1:w&&w._writableState instanceof B}})):m=function(w){return w instanceof this};function S(D){o=o||ye();var w=this instanceof o;if(!w&&!m.call(S,this))return new S(D);this._writableState=new B(D,this,w),this.writable=!0,D&&(typeof D.write=="function"&&(this._write=D.write),typeof D.writev=="function"&&(this._writev=D.writev),typeof D.destroy=="function"&&(this._destroy=D.destroy),typeof D.final=="function"&&(this._final=D.final)),_.call(this)}S.prototype.pipe=function(){E(this,new a)};function b(D,w){var P=new g;E(D,P),H.nextTick(w,P)}function A(D,w,P,q){var K;return P===null?K=new n:typeof P!="string"&&!w.objectMode&&(K=new v("chunk",["string","Buffer"],P)),K?(E(D,K),H.nextTick(q,K),!1):!0}S.prototype.write=function(D,w,P){var q=this._writableState,K=!1,T=!q.objectMode&&u(D);return T&&!s.isBuffer(D)&&(D=e(D)),typeof w=="function"&&(P=w,w=null),T?w="buffer":w||(w=q.defaultEncoding),typeof P!="function"&&(P=O),q.ending?b(this,P):(T||A(this,q,D,P))&&(q.pendingcb++,K=j(this,q,T,D,w,P)),K},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var D=this._writableState;D.corked&&(D.corked--,!D.writing&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&se(this,D))},S.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new R(w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function N(D,w,P){return!D.objectMode&&D.decodeStrings!==!1&&typeof w=="string"&&(w=s.from(w,P)),w}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function j(D,w,P,q,K,T){if(!P){var C=N(w,q,K);q!==C&&(P=!0,K="buffer",q=C)}var I=w.objectMode?1:q.length;w.length+=I;var M=w.length<w.highWaterMark;if(M||(w.needDrain=!0),w.writing||w.corked){var k=w.lastBufferedRequest;w.lastBufferedRequest={chunk:q,encoding:K,isBuf:P,callback:T,next:null},k?k.next=w.lastBufferedRequest:w.bufferedRequest=w.lastBufferedRequest,w.bufferedRequestCount+=1}else U(D,w,!1,I,q,K,T);return M}function U(D,w,P,q,K,T,C){w.writelen=q,w.writecb=C,w.writing=!0,w.sync=!0,w.destroyed?w.onwrite(new c("write")):P?D._writev(K,w.onwrite):D._write(K,T,w.onwrite),w.sync=!1}function Y(D,w,P,q,K){--w.pendingcb,P?(H.nextTick(K,q),H.nextTick(ne,D,w),D._writableState.errorEmitted=!0,E(D,q)):(K(q),D._writableState.errorEmitted=!0,E(D,q),ne(D,w))}function G(D){D.writing=!1,D.writecb=null,D.length-=D.writelen,D.writelen=0}function V(D,w){var P=D._writableState,q=P.sync,K=P.writecb;if(typeof K!="function")throw new p;if(G(P),w)Y(D,P,q,w,K);else{var T=dt(P)||D.destroyed;!T&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&se(D,P),q?H.nextTick(re,D,P,T,K):re(D,P,T,K)}}function re(D,w,P,q){P||lt(D,w),w.pendingcb--,q(),ne(D,w)}function lt(D,w){w.length===0&&w.needDrain&&(w.needDrain=!1,D.emit("drain"))}function se(D,w){w.bufferProcessing=!0;var P=w.bufferedRequest;if(D._writev&&P&&P.next){var q=w.bufferedRequestCount,K=new Array(q),T=w.corkedRequestsFree;T.entry=P;for(var C=0,I=!0;P;)K[C]=P,P.isBuf||(I=!1),P=P.next,C+=1;K.allBuffers=I,U(D,w,!0,w.length,K,"",T.finish),w.pendingcb++,w.lastBufferedRequest=null,T.next?(w.corkedRequestsFree=T.next,T.next=null):w.corkedRequestsFree=new t(w),w.bufferedRequestCount=0}else{for(;P;){var M=P.chunk,k=P.encoding,x=P.callback,F=w.objectMode?1:M.length;if(U(D,w,!1,F,M,k,x),P=P.next,w.bufferedRequestCount--,w.writing)break}P===null&&(w.lastBufferedRequest=null)}w.bufferedRequest=P,w.bufferProcessing=!1}S.prototype._write=function(D,w,P){P(new r("_write()"))},S.prototype._writev=null,S.prototype.end=function(D,w,P){var q=this._writableState;return typeof D=="function"?(P=D,D=null,w=null):typeof w=="function"&&(P=w,w=null),D!=null&&this.write(D,w),q.corked&&(q.corked=1,this.uncork()),q.ending||Bt(this,q,P),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function dt(D){return D.ending&&D.length===0&&D.bufferedRequest===null&&!D.finished&&!D.writing}function It(D,w){D._final(function(P){w.pendingcb--,P&&E(D,P),w.prefinished=!0,D.emit("prefinish"),ne(D,w)})}function ht(D,w){!w.prefinished&&!w.finalCalled&&(typeof D._final=="function"&&!w.destroyed?(w.pendingcb++,w.finalCalled=!0,H.nextTick(It,D,w)):(w.prefinished=!0,D.emit("prefinish")))}function ne(D,w){var P=dt(w);if(P&&(ht(D,w),w.pendingcb===0&&(w.finished=!0,D.emit("finish"),w.autoDestroy))){var q=D._readableState;(!q||q.autoDestroy&&q.endEmitted)&&D.destroy()}return P}function Bt(D,w,P){w.ending=!0,ne(D,w),P&&(w.finished?H.nextTick(P):D.once("finish",P)),w.ended=!0,D.writable=!1}function Pt(D,w,P){var q=D.entry;for(D.entry=null;q;){var K=q.callback;w.pendingcb--,K(P),q=q.next}w.corkedRequestsFree.next=D}return Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(D,w){w(D)},Wt}var Gt,Zr;function ye(){if(Zr)return Gt;Zr=1;var t=Object.keys||function(l){var f=[];for(var y in l)f.push(y);return f};Gt=e;var o=ia(),d=na();z()(e,o);for(var _=t(d.prototype),s=0;s<_.length;s++){var i=_[s];e.prototype[i]||(e.prototype[i]=d.prototype[i])}function e(l){if(!(this instanceof e))return new e(l);o.call(this,l),d.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||H.nextTick(h,this)}function h(l){l.end()}return Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Gt}var Yt={},Qr;function br(){if(Qr)return Yt;Qr=1;var t=ge().Buffer,o=t.isEncoding||function(n){switch(n=""+n,n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(n){if(!n)return"utf8";for(var g;;)switch(n){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return n;default:if(g)return;n=(""+n).toLowerCase(),g=!0}}function _(n){var g=d(n);if(typeof g!="string"&&(t.isEncoding===o||!o(n)))throw new Error("Unknown encoding: "+n);return g||n}Yt.StringDecoder=s;function s(n){this.encoding=_(n);var g;switch(this.encoding){case"utf16le":this.text=y,this.end=v,g=4;break;case"utf8":this.fillLast=h,g=4;break;case"base64":this.text=r,this.end=p,g=3;break;default:this.write=a,this.end=c;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(g)}s.prototype.write=function(n){if(n.length===0)return"";var g,R;if(this.lastNeed){if(g=this.fillLast(n),g===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<n.length?g?g+this.text(n,R):this.text(n,R):g||""},s.prototype.end=f,s.prototype.text=l,s.prototype.fillLast=function(n){if(this.lastNeed<=n.length)return n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,n.length),this.lastNeed-=n.length};function i(n){return n<=127?0:n>>5===6?2:n>>4===14?3:n>>3===30?4:n>>6===2?-1:-2}function e(n,g,R){var E=g.length-1;if(E<R)return 0;var O=i(g[E]);return O>=0?(O>0&&(n.lastNeed=O-1),O):--E<R||O===-2?0:(O=i(g[E]),O>=0?(O>0&&(n.lastNeed=O-2),O):--E<R||O===-2?0:(O=i(g[E]),O>=0?(O>0&&(O===2?O=0:n.lastNeed=O-3),O):0))}function u(n,g,R){if((g[0]&192)!==128)return n.lastNeed=0,"�";if(n.lastNeed>1&&g.length>1){if((g[1]&192)!==128)return n.lastNeed=1,"�";if(n.lastNeed>2&&g.length>2&&(g[2]&192)!==128)return n.lastNeed=2,"�"}}function h(n){var g=this.lastTotal-this.lastNeed,R=u(this,n);if(R!==void 0)return R;if(this.lastNeed<=n.length)return n.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,g,0,n.length),this.lastNeed-=n.length}function l(n,g){var R=e(this,n,g);if(!this.lastNeed)return n.toString("utf8",g);this.lastTotal=R;var E=n.length-(R-this.lastNeed);return n.copy(this.lastChar,0,E),n.toString("utf8",g,E)}function f(n){var g=n&&n.length?this.write(n):"";return this.lastNeed?g+"�":g}function y(n,g){if((n.length-g)%2===0){var R=n.toString("utf16le",g);if(R){var E=R.charCodeAt(R.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=n[n.length-1],n.toString("utf16le",g,n.length-1)}function v(n){var g=n&&n.length?this.write(n):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,R)}return g}function r(n,g){var R=(n.length-g)%3;return R===0?n.toString("base64",g):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=n[n.length-1]:(this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1]),n.toString("base64",g,n.length-R))}function p(n){var g=n&&n.length?this.write(n):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function a(n){return n.toString(this.encoding)}function c(n){return n&&n.length?this.write(n):""}return Yt}var Zt,Jr;function Pr(){if(Jr)return Zt;Jr=1;var t=ve().codes.ERR_STREAM_PREMATURE_CLOSE;function o(i){var e=!1;return function(){if(!e){e=!0;for(var u=arguments.length,h=new Array(u),l=0;l<u;l++)h[l]=arguments[l];i.apply(this,h)}}}function d(){}function _(i){return i.setHeader&&typeof i.abort=="function"}function s(i,e,u){if(typeof e=="function")return s(i,null,e);e||(e={}),u=o(u||d);var h=e.readable||e.readable!==!1&&i.readable,l=e.writable||e.writable!==!1&&i.writable,f=function(){i.writable||v()},y=i._writableState&&i._writableState.finished,v=function(){l=!1,y=!0,h||u.call(i)},r=i._readableState&&i._readableState.endEmitted,p=function(){h=!1,r=!0,l||u.call(i)},a=function(R){u.call(i,R)},c=function(){var R;if(h&&!r)return(!i._readableState||!i._readableState.ended)&&(R=new t),u.call(i,R);if(l&&!y)return(!i._writableState||!i._writableState.ended)&&(R=new t),u.call(i,R)},n=function(){i.req.on("finish",v)};return _(i)?(i.on("complete",v),i.on("abort",c),i.req?n():i.on("request",n)):l&&!i._writableState&&(i.on("end",f),i.on("close",f)),i.on("end",p),i.on("finish",v),e.error!==!1&&i.on("error",a),i.on("close",c),function(){i.removeListener("complete",v),i.removeListener("abort",c),i.removeListener("request",n),i.req&&i.req.removeListener("finish",v),i.removeListener("end",f),i.removeListener("close",f),i.removeListener("finish",v),i.removeListener("end",p),i.removeListener("error",a),i.removeListener("close",c)}}return Zt=s,Zt}var Qt,zr;function eo(){if(zr)return Qt;zr=1;var t;function o(R,E,O){return E=d(E),E in R?Object.defineProperty(R,E,{value:O,enumerable:!0,configurable:!0,writable:!0}):R[E]=O,R}function d(R){var E=_(R,"string");return typeof E=="symbol"?E:String(E)}function _(R,E){if(typeof R!="object"||R===null)return R;var O=R[Symbol.toPrimitive];if(O!==void 0){var B=O.call(R,E);if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(R)}var s=Pr(),i=Symbol("lastResolve"),e=Symbol("lastReject"),u=Symbol("error"),h=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),y=Symbol("stream");function v(R,E){return{value:R,done:E}}function r(R){var E=R[i];if(E!==null){var O=R[y].read();O!==null&&(R[l]=null,R[i]=null,R[e]=null,E(v(O,!1)))}}function p(R){H.nextTick(r,R)}function a(R,E){return function(O,B){R.then(function(){if(E[h]){O(v(void 0,!0));return}E[f](O,B)},B)}}var c=Object.getPrototypeOf(function(){}),n=Object.setPrototypeOf((t={get stream(){return this[y]},next:function(){var E=this,O=this[u];if(O!==null)return Promise.reject(O);if(this[h])return Promise.resolve(v(void 0,!0));if(this[y].destroyed)return new Promise(function(b,A){H.nextTick(function(){E[u]?A(E[u]):b(v(void 0,!0))})});var B=this[l],m;if(B)m=new Promise(a(B,this));else{var S=this[y].read();if(S!==null)return Promise.resolve(v(S,!1));m=new Promise(this[f])}return this[l]=m,m}},o(t,Symbol.asyncIterator,function(){return this}),o(t,"return",function(){var E=this;return new Promise(function(O,B){E[y].destroy(null,function(m){if(m){B(m);return}O(v(void 0,!0))})})}),t),c),g=function(E){var O,B=Object.create(n,(O={},o(O,y,{value:E,writable:!0}),o(O,i,{value:null,writable:!0}),o(O,e,{value:null,writable:!0}),o(O,u,{value:null,writable:!0}),o(O,h,{value:E._readableState.endEmitted,writable:!0}),o(O,f,{value:function(S,b){var A=B[y].read();A?(B[l]=null,B[i]=null,B[e]=null,S(v(A,!1))):(B[i]=S,B[e]=b)},writable:!0}),O));return B[l]=null,s(E,function(m){if(m&&m.code!=="ERR_STREAM_PREMATURE_CLOSE"){var S=B[e];S!==null&&(B[l]=null,B[i]=null,B[e]=null,S(m)),B[u]=m;return}var b=B[i];b!==null&&(B[l]=null,B[i]=null,B[e]=null,b(v(void 0,!0))),B[h]=!0}),E.on("readable",p.bind(null,B)),B};return Qt=g,Qt}var Jt,en;function to(){return en||(en=1,Jt=function(){throw new Error("Readable.from is not available in the browser")}),Jt}var zt,tn;function ia(){if(tn)return zt;tn=1,zt=b;var t;b.ReadableState=S,Bi().EventEmitter;var o=function(C,I){return C.listeners(I).length},d=ea(),_=ct().Buffer,s=(typeof he<"u"?he:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(T){return _.from(T)}function e(T){return _.isBuffer(T)||T instanceof s}var u=Pi,h;u&&u.debuglog?h=u.debuglog("stream"):h=function(){};var l=Ja(),f=ta(),y=ra(),v=y.getHighWaterMark,r=ve().codes,p=r.ERR_INVALID_ARG_TYPE,a=r.ERR_STREAM_PUSH_AFTER_EOF,c=r.ERR_METHOD_NOT_IMPLEMENTED,n=r.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,g,R,E;z()(b,d);var O=f.errorOrDestroy,B=["error","close","destroy","pause","resume"];function m(T,C,I){if(typeof T.prependListener=="function")return T.prependListener(C,I);!T._events||!T._events[C]?T.on(C,I):Array.isArray(T._events[C])?T._events[C].unshift(I):T._events[C]=[I,T._events[C]]}function S(T,C,I){t=t||ye(),T=T||{},typeof I!="boolean"&&(I=C instanceof t),this.objectMode=!!T.objectMode,I&&(this.objectMode=this.objectMode||!!T.readableObjectMode),this.highWaterMark=v(this,T,"readableHighWaterMark",I),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.destroyed=!1,this.defaultEncoding=T.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,T.encoding&&(g||(g=br().StringDecoder),this.decoder=new g(T.encoding),this.encoding=T.encoding)}function b(T){if(t=t||ye(),!(this instanceof b))return new b(T);var C=this instanceof t;this._readableState=new S(T,this,C),this.readable=!0,T&&(typeof T.read=="function"&&(this._read=T.read),typeof T.destroy=="function"&&(this._destroy=T.destroy)),d.call(this)}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),b.prototype.destroy=f.destroy,b.prototype._undestroy=f.undestroy,b.prototype._destroy=function(T,C){C(T)},b.prototype.push=function(T,C){var I=this._readableState,M;return I.objectMode?M=!0:typeof T=="string"&&(C=C||I.defaultEncoding,C!==I.encoding&&(T=_.from(T,C),C=""),M=!0),A(this,T,C,!1,M)},b.prototype.unshift=function(T){return A(this,T,null,!0,!1)};function A(T,C,I,M,k){h("readableAddChunk",C);var x=T._readableState;if(C===null)x.reading=!1,V(T,x);else{var F;if(k||(F=j(x,C)),F)O(T,F);else if(x.objectMode||C&&C.length>0)if(typeof C!="string"&&!x.objectMode&&Object.getPrototypeOf(C)!==_.prototype&&(C=i(C)),M)x.endEmitted?O(T,new n):N(T,x,C,!0);else if(x.ended)O(T,new a);else{if(x.destroyed)return!1;x.reading=!1,x.decoder&&!I?(C=x.decoder.write(C),x.objectMode||C.length!==0?N(T,x,C,!1):se(T,x)):N(T,x,C,!1)}else M||(x.reading=!1,se(T,x))}return!x.ended&&(x.length<x.highWaterMark||x.length===0)}function N(T,C,I,M){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,T.emit("data",I)):(C.length+=C.objectMode?1:I.length,M?C.buffer.unshift(I):C.buffer.push(I),C.needReadable&&re(T)),se(T,C)}function j(T,C){var I;return!e(C)&&typeof C!="string"&&C!==void 0&&!T.objectMode&&(I=new p("chunk",["string","Buffer","Uint8Array"],C)),I}b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(T){g||(g=br().StringDecoder);var C=new g(T);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var I=this._readableState.buffer.head,M="";I!==null;)M+=C.write(I.data),I=I.next;return this._readableState.buffer.clear(),M!==""&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var U=1073741824;function Y(T){return T>=U?T=U:(T--,T|=T>>>1,T|=T>>>2,T|=T>>>4,T|=T>>>8,T|=T>>>16,T++),T}function G(T,C){return T<=0||C.length===0&&C.ended?0:C.objectMode?1:T!==T?C.flowing&&C.length?C.buffer.head.data.length:C.length:(T>C.highWaterMark&&(C.highWaterMark=Y(T)),T<=C.length?T:C.ended?C.length:(C.needReadable=!0,0))}b.prototype.read=function(T){h("read",T),T=parseInt(T,10);var C=this._readableState,I=T;if(T!==0&&(C.emittedReadable=!1),T===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return h("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?P(this):re(this),null;if(T=G(T,C),T===0&&C.ended)return C.length===0&&P(this),null;var M=C.needReadable;h("need readable",M),(C.length===0||C.length-T<C.highWaterMark)&&(M=!0,h("length less than watermark",M)),C.ended||C.reading?(M=!1,h("reading or ended",M)):M&&(h("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(T=G(I,C)));var k;return T>0?k=w(T,C):k=null,k===null?(C.needReadable=C.length<=C.highWaterMark,T=0):(C.length-=T,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),I!==T&&C.ended&&P(this)),k!==null&&this.emit("data",k),k};function V(T,C){if(h("onEofChunk"),!C.ended){if(C.decoder){var I=C.decoder.end();I&&I.length&&(C.buffer.push(I),C.length+=C.objectMode?1:I.length)}C.ended=!0,C.sync?re(T):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,lt(T)))}}function re(T){var C=T._readableState;h("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(h("emitReadable",C.flowing),C.emittedReadable=!0,H.nextTick(lt,T))}function lt(T){var C=T._readableState;h("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(T.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,D(T)}function se(T,C){C.readingMore||(C.readingMore=!0,H.nextTick(dt,T,C))}function dt(T,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var I=C.length;if(h("maybeReadMore read 0"),T.read(0),I===C.length)break}C.readingMore=!1}b.prototype._read=function(T){O(this,new c("_read()"))},b.prototype.pipe=function(T,C){var I=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=T;break;case 1:M.pipes=[M.pipes,T];break;default:M.pipes.push(T);break}M.pipesCount+=1,h("pipe count=%d opts=%j",M.pipesCount,C);var k=(!C||C.end!==!1)&&T!==H.stdout&&T!==H.stderr,x=k?ue:_e;M.endEmitted?H.nextTick(x):I.once("end",x),T.on("unpipe",F);function F(fe,ce){h("onunpipe"),fe===I&&ce&&ce.hasUnpiped===!1&&(ce.hasUnpiped=!0,Ra())}function ue(){h("onend"),T.end()}var pt=It(I);T.on("drain",pt);var Mr=!1;function Ra(){h("cleanup"),T.removeListener("close",Mt),T.removeListener("finish",Nt),T.removeListener("drain",pt),T.removeListener("error",At),T.removeListener("unpipe",F),I.removeListener("end",ue),I.removeListener("end",_e),I.removeListener("data",Nr),Mr=!0,M.awaitDrain&&(!T._writableState||T._writableState.needDrain)&&pt()}I.on("data",Nr);function Nr(fe){h("ondata");var ce=T.write(fe);h("dest.write",ce),ce===!1&&((M.pipesCount===1&&M.pipes===T||M.pipesCount>1&&K(M.pipes,T)!==-1)&&!Mr&&(h("false write response, pause",M.awaitDrain),M.awaitDrain++),I.pause())}function At(fe){h("onerror",fe),_e(),T.removeListener("error",At),o(T,"error")===0&&O(T,fe)}m(T,"error",At);function Mt(){T.removeListener("finish",Nt),_e()}T.once("close",Mt);function Nt(){h("onfinish"),T.removeListener("close",Mt),_e()}T.once("finish",Nt);function _e(){h("unpipe"),I.unpipe(T)}return T.emit("pipe",I),M.flowing||(h("pipe resume"),I.resume()),T};function It(T){return function(){var I=T._readableState;h("pipeOnDrain",I.awaitDrain),I.awaitDrain&&I.awaitDrain--,I.awaitDrain===0&&o(T,"data")&&(I.flowing=!0,D(T))}}b.prototype.unpipe=function(T){var C=this._readableState,I={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return T&&T!==C.pipes?this:(T||(T=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,T&&T.emit("unpipe",this,I),this);if(!T){var M=C.pipes,k=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var x=0;x<k;x++)M[x].emit("unpipe",this,{hasUnpiped:!1});return this}var F=K(C.pipes,T);return F===-1?this:(C.pipes.splice(F,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),T.emit("unpipe",this,I),this)},b.prototype.on=function(T,C){var I=d.prototype.on.call(this,T,C),M=this._readableState;return T==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):T==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,h("on readable",M.length,M.reading),M.length?re(this):M.reading||H.nextTick(ne,this)),I},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(T,C){var I=d.prototype.removeListener.call(this,T,C);return T==="readable"&&H.nextTick(ht,this),I},b.prototype.removeAllListeners=function(T){var C=d.prototype.removeAllListeners.apply(this,arguments);return(T==="readable"||T===void 0)&&H.nextTick(ht,this),C};function ht(T){var C=T._readableState;C.readableListening=T.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:T.listenerCount("data")>0&&T.resume()}function ne(T){h("readable nexttick read 0"),T.read(0)}b.prototype.resume=function(){var T=this._readableState;return T.flowing||(h("resume"),T.flowing=!T.readableListening,Bt(this,T)),T.paused=!1,this};function Bt(T,C){C.resumeScheduled||(C.resumeScheduled=!0,H.nextTick(Pt,T,C))}function Pt(T,C){h("resume",C.reading),C.reading||T.read(0),C.resumeScheduled=!1,T.emit("resume"),D(T),C.flowing&&!C.reading&&T.read(0)}b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function D(T){var C=T._readableState;for(h("flow",C.flowing);C.flowing&&T.read()!==null;);}b.prototype.wrap=function(T){var C=this,I=this._readableState,M=!1;T.on("end",function(){if(h("wrapped end"),I.decoder&&!I.ended){var F=I.decoder.end();F&&F.length&&C.push(F)}C.push(null)}),T.on("data",function(F){if(h("wrapped data"),I.decoder&&(F=I.decoder.write(F)),!(I.objectMode&&F==null)&&!(!I.objectMode&&(!F||!F.length))){var ue=C.push(F);ue||(M=!0,T.pause())}});for(var k in T)this[k]===void 0&&typeof T[k]=="function"&&(this[k]=function(ue){return function(){return T[ue].apply(T,arguments)}}(k));for(var x=0;x<B.length;x++)T.on(B[x],this.emit.bind(this,B[x]));return this._read=function(F){h("wrapped _read",F),M&&(M=!1,T.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return R===void 0&&(R=eo()),R(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),b._fromList=w,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function w(T,C){if(C.length===0)return null;var I;return C.objectMode?I=C.buffer.shift():!T||T>=C.length?(C.decoder?I=C.buffer.join(""):C.buffer.length===1?I=C.buffer.first():I=C.buffer.concat(C.length),C.buffer.clear()):I=C.buffer.consume(T,C.decoder),I}function P(T){var C=T._readableState;h("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,H.nextTick(q,C,T))}function q(T,C){if(h("endReadableNT",T.endEmitted,T.length),!T.endEmitted&&T.length===0&&(T.endEmitted=!0,C.readable=!1,C.emit("end"),T.autoDestroy)){var I=C._writableState;(!I||I.autoDestroy&&I.finished)&&C.destroy()}}typeof Symbol=="function"&&(b.from=function(T,C){return E===void 0&&(E=to()),E(b,T,C)});function K(T,C){for(var I=0,M=T.length;I<M;I++)if(T[I]===C)return I;return-1}return zt}var er,rn;function aa(){if(rn)return er;rn=1,er=u;var t=ve().codes,o=t.ERR_METHOD_NOT_IMPLEMENTED,d=t.ERR_MULTIPLE_CALLBACK,_=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,i=ye();z()(u,i);function e(f,y){var v=this._transformState;v.transforming=!1;var r=v.writecb;if(r===null)return this.emit("error",new d);v.writechunk=null,v.writecb=null,y!=null&&this.push(y),r(f);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function u(f){if(!(this instanceof u))return new u(f);i.call(this,f),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",h)}function h(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,v){l(f,y,v)}):l(this,null,null)}u.prototype.push=function(f,y){return this._transformState.needTransform=!1,i.prototype.push.call(this,f,y)},u.prototype._transform=function(f,y,v){v(new o("_transform()"))},u.prototype._write=function(f,y,v){var r=this._transformState;if(r.writecb=v,r.writechunk=f,r.writeencoding=y,!r.transforming){var p=this._readableState;(r.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},u.prototype._read=function(f){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},u.prototype._destroy=function(f,y){i.prototype._destroy.call(this,f,function(v){y(v)})};function l(f,y,v){if(y)return f.emit("error",y);if(v!=null&&f.push(v),f._writableState.length)throw new s;if(f._transformState.transforming)throw new _;return f.push(null)}return er}var tr,nn;function ro(){if(nn)return tr;nn=1,tr=o;var t=aa();z()(o,t);function o(d){if(!(this instanceof o))return new o(d);t.call(this,d)}return o.prototype._transform=function(d,_,s){s(null,d)},tr}var rr,an;function no(){if(an)return rr;an=1;var t;function o(v){var r=!1;return function(){r||(r=!0,v.apply(void 0,arguments))}}var d=ve().codes,_=d.ERR_MISSING_ARGS,s=d.ERR_STREAM_DESTROYED;function i(v){if(v)throw v}function e(v){return v.setHeader&&typeof v.abort=="function"}function u(v,r,p,a){a=o(a);var c=!1;v.on("close",function(){c=!0}),t===void 0&&(t=Pr()),t(v,{readable:r,writable:p},function(g){if(g)return a(g);c=!0,a()});var n=!1;return function(g){if(!c&&!n){if(n=!0,e(v))return v.abort();if(typeof v.destroy=="function")return v.destroy();a(g||new s("pipe"))}}}function h(v){v()}function l(v,r){return v.pipe(r)}function f(v){return!v.length||typeof v[v.length-1]!="function"?i:v.pop()}function y(){for(var v=arguments.length,r=new Array(v),p=0;p<v;p++)r[p]=arguments[p];var a=f(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new _("streams");var c,n=r.map(function(g,R){var E=R<r.length-1,O=R>0;return u(g,E,O,function(B){c||(c=B),B&&n.forEach(h),!E&&(n.forEach(h),a(c))})});return r.reduce(l)}return rr=y,rr}var on;function io(){return on||(on=1,function(t,o){o=t.exports=ia(),o.Stream=o,o.Readable=o,o.Writable=na(),o.Duplex=ye(),o.Transform=aa(),o.PassThrough=ro(),o.finished=Pr(),o.pipeline=no()}(yt,yt.exports)),yt.exports}var nr,sn;function oa(){if(sn)return nr;sn=1;var t=ge().Buffer,o=io().Transform,d=z();function _(i,e){if(!t.isBuffer(i)&&typeof i!="string")throw new TypeError(e+" must be a string or a buffer")}function s(i){o.call(this),this._block=t.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return d(s,o),s.prototype._transform=function(i,e,u){var h=null;try{this.update(i,e)}catch(l){h=l}u(h)},s.prototype._flush=function(i){var e=null;try{this.push(this.digest())}catch(u){e=u}i(e)},s.prototype.update=function(i,e){if(_(i,"Data"),this._finalized)throw new Error("Digest already called");t.isBuffer(i)||(i=t.from(i,e));for(var u=this._block,h=0;this._blockOffset+i.length-h>=this._blockSize;){for(var l=this._blockOffset;l<this._blockSize;)u[l++]=i[h++];this._update(),this._blockOffset=0}for(;h<i.length;)u[this._blockOffset++]=i[h++];for(var f=0,y=i.length*8;y>0;++f)this._length[f]+=y,y=this._length[f]/4294967296|0,y>0&&(this._length[f]-=4294967296*y);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(i){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();i!==void 0&&(e=e.toString(i)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},nr=s,nr}var ir,un;function ao(){if(un)return ir;un=1;var t=z(),o=oa(),d=ge().Buffer,_=new Array(16);function s(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}t(s,o),s.prototype._update=function(){for(var f=_,y=0;y<16;++y)f[y]=this._block.readInt32LE(y*4);var v=this._a,r=this._b,p=this._c,a=this._d;v=e(v,r,p,a,f[0],3614090360,7),a=e(a,v,r,p,f[1],3905402710,12),p=e(p,a,v,r,f[2],606105819,17),r=e(r,p,a,v,f[3],3250441966,22),v=e(v,r,p,a,f[4],4118548399,7),a=e(a,v,r,p,f[5],1200080426,12),p=e(p,a,v,r,f[6],2821735955,17),r=e(r,p,a,v,f[7],4249261313,22),v=e(v,r,p,a,f[8],1770035416,7),a=e(a,v,r,p,f[9],2336552879,12),p=e(p,a,v,r,f[10],4294925233,17),r=e(r,p,a,v,f[11],2304563134,22),v=e(v,r,p,a,f[12],1804603682,7),a=e(a,v,r,p,f[13],4254626195,12),p=e(p,a,v,r,f[14],2792965006,17),r=e(r,p,a,v,f[15],1236535329,22),v=u(v,r,p,a,f[1],4129170786,5),a=u(a,v,r,p,f[6],3225465664,9),p=u(p,a,v,r,f[11],643717713,14),r=u(r,p,a,v,f[0],3921069994,20),v=u(v,r,p,a,f[5],3593408605,5),a=u(a,v,r,p,f[10],38016083,9),p=u(p,a,v,r,f[15],3634488961,14),r=u(r,p,a,v,f[4],3889429448,20),v=u(v,r,p,a,f[9],568446438,5),a=u(a,v,r,p,f[14],3275163606,9),p=u(p,a,v,r,f[3],4107603335,14),r=u(r,p,a,v,f[8],1163531501,20),v=u(v,r,p,a,f[13],2850285829,5),a=u(a,v,r,p,f[2],4243563512,9),p=u(p,a,v,r,f[7],1735328473,14),r=u(r,p,a,v,f[12],2368359562,20),v=h(v,r,p,a,f[5],4294588738,4),a=h(a,v,r,p,f[8],2272392833,11),p=h(p,a,v,r,f[11],1839030562,16),r=h(r,p,a,v,f[14],4259657740,23),v=h(v,r,p,a,f[1],2763975236,4),a=h(a,v,r,p,f[4],1272893353,11),p=h(p,a,v,r,f[7],4139469664,16),r=h(r,p,a,v,f[10],3200236656,23),v=h(v,r,p,a,f[13],681279174,4),a=h(a,v,r,p,f[0],3936430074,11),p=h(p,a,v,r,f[3],3572445317,16),r=h(r,p,a,v,f[6],76029189,23),v=h(v,r,p,a,f[9],3654602809,4),a=h(a,v,r,p,f[12],3873151461,11),p=h(p,a,v,r,f[15],530742520,16),r=h(r,p,a,v,f[2],3299628645,23),v=l(v,r,p,a,f[0],4096336452,6),a=l(a,v,r,p,f[7],1126891415,10),p=l(p,a,v,r,f[14],2878612391,15),r=l(r,p,a,v,f[5],4237533241,21),v=l(v,r,p,a,f[12],1700485571,6),a=l(a,v,r,p,f[3],2399980690,10),p=l(p,a,v,r,f[10],4293915773,15),r=l(r,p,a,v,f[1],2240044497,21),v=l(v,r,p,a,f[8],1873313359,6),a=l(a,v,r,p,f[15],4264355552,10),p=l(p,a,v,r,f[6],2734768916,15),r=l(r,p,a,v,f[13],1309151649,21),v=l(v,r,p,a,f[4],4149444226,6),a=l(a,v,r,p,f[11],3174756917,10),p=l(p,a,v,r,f[2],718787259,15),r=l(r,p,a,v,f[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+r|0,this._c=this._c+p|0,this._d=this._d+a|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=d.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f};function i(f,y){return f<<y|f>>>32-y}function e(f,y,v,r,p,a,c){return i(f+(y&v|~y&r)+p+a|0,c)+y|0}function u(f,y,v,r,p,a,c){return i(f+(y&r|v&~r)+p+a|0,c)+y|0}function h(f,y,v,r,p,a,c){return i(f+(y^v^r)+p+a|0,c)+y|0}function l(f,y,v,r,p,a,c){return i(f+(v^(y|~r))+p+a|0,c)+y|0}return ir=s,ir}var ar,fn;function oo(){if(fn)return ar;fn=1;var t=ct().Buffer,o=z(),d=oa(),_=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function f(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(f,d),f.prototype._update=function(){for(var n=_,g=0;g<16;++g)n[g]=this._block.readInt32LE(g*4);for(var R=this._a|0,E=this._b|0,O=this._c|0,B=this._d|0,m=this._e|0,S=this._a|0,b=this._b|0,A=this._c|0,N=this._d|0,j=this._e|0,U=0;U<80;U+=1){var Y,G;U<16?(Y=v(R,E,O,B,m,n[s[U]],h[0],e[U]),G=c(S,b,A,N,j,n[i[U]],l[0],u[U])):U<32?(Y=r(R,E,O,B,m,n[s[U]],h[1],e[U]),G=a(S,b,A,N,j,n[i[U]],l[1],u[U])):U<48?(Y=p(R,E,O,B,m,n[s[U]],h[2],e[U]),G=p(S,b,A,N,j,n[i[U]],l[2],u[U])):U<64?(Y=a(R,E,O,B,m,n[s[U]],h[3],e[U]),G=r(S,b,A,N,j,n[i[U]],l[3],u[U])):(Y=c(R,E,O,B,m,n[s[U]],h[4],e[U]),G=v(S,b,A,N,j,n[i[U]],l[4],u[U])),R=m,m=B,B=y(O,10),O=E,E=Y,S=j,j=N,N=y(A,10),A=b,b=G}var V=this._b+O+N|0;this._b=this._c+B+j|0,this._c=this._d+m+S|0,this._d=this._e+R+b|0,this._e=this._a+E+A|0,this._a=V},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var n=t.alloc?t.alloc(20):new t(20);return n.writeInt32LE(this._a,0),n.writeInt32LE(this._b,4),n.writeInt32LE(this._c,8),n.writeInt32LE(this._d,12),n.writeInt32LE(this._e,16),n};function y(n,g){return n<<g|n>>>32-g}function v(n,g,R,E,O,B,m,S){return y(n+(g^R^E)+B+m|0,S)+O|0}function r(n,g,R,E,O,B,m,S){return y(n+(g&R|~g&E)+B+m|0,S)+O|0}function p(n,g,R,E,O,B,m,S){return y(n+((g|~R)^E)+B+m|0,S)+O|0}function a(n,g,R,E,O,B,m,S){return y(n+(g&E|R&~E)+B+m|0,S)+O|0}function c(n,g,R,E,O,B,m,S){return y(n+(g^(R|~E))+B+m|0,S)+O|0}return ar=f,ar}var or,cn;function so(){if(cn)return or;cn=1;var t=ge().Buffer,o=Ta().Transform,d=br().StringDecoder,_=z();function s(i){o.call(this),this.hashMode=typeof i=="string",this.hashMode?this[i]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return _(s,o),s.prototype.update=function(i,e,u){typeof i=="string"&&(i=t.from(i,e));var h=this._update(i);return this.hashMode?this:(u&&(h=this._toString(h,u)),h)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(i,e,u){var h;try{this.hashMode?this._update(i):this.push(this._update(i))}catch(l){h=l}finally{u(h)}},s.prototype._flush=function(i){var e;try{this.push(this.__final())}catch(u){e=u}i(e)},s.prototype._finalOrDigest=function(i){var e=this.__final()||t.alloc(0);return i&&(e=this._toString(e,i,!0)),e},s.prototype._toString=function(i,e,u){if(this._decoder||(this._decoder=new d(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var h=this._decoder.write(i);return u&&(h+=this._decoder.end()),h},or=s,or}var sr,ln;function uo(){if(ln)return sr;ln=1;var t=z(),o=ao(),d=oo(),_=Ca(),s=so();function i(e){s.call(this,"digest"),this._hash=e}return t(i,s),i.prototype._update=function(e){this._hash.update(e)},i.prototype._final=function(){return this._hash.digest()},sr=function(u){return u=u.toLowerCase(),u==="md5"?new o:u==="rmd160"||u==="ripemd160"?new d:new i(_(u))},sr}var ur,dn;function fo(){if(dn)return ur;dn=1;var t=ge().Buffer;function o(d){if(d.length>=255)throw new TypeError("Alphabet too long");for(var _=new Uint8Array(256),s=0;s<_.length;s++)_[s]=255;for(var i=0;i<d.length;i++){var e=d.charAt(i),u=e.charCodeAt(0);if(_[u]!==255)throw new TypeError(e+" is ambiguous");_[u]=i}var h=d.length,l=d.charAt(0),f=Math.log(h)/Math.log(256),y=Math.log(256)/Math.log(h);function v(a){if((Array.isArray(a)||a instanceof Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError("Expected Buffer");if(a.length===0)return"";for(var c=0,n=0,g=0,R=a.length;g!==R&&a[g]===0;)g++,c++;for(var E=(R-g)*y+1>>>0,O=new Uint8Array(E);g!==R;){for(var B=a[g],m=0,S=E-1;(B!==0||m<n)&&S!==-1;S--,m++)B+=256*O[S]>>>0,O[S]=B%h>>>0,B=B/h>>>0;if(B!==0)throw new Error("Non-zero carry");n=m,g++}for(var b=E-n;b!==E&&O[b]===0;)b++;for(var A=l.repeat(c);b<E;++b)A+=d.charAt(O[b]);return A}function r(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return t.alloc(0);for(var c=0,n=0,g=0;a[c]===l;)n++,c++;for(var R=(a.length-c)*f+1>>>0,E=new Uint8Array(R);a[c];){var O=_[a.charCodeAt(c)];if(O===255)return;for(var B=0,m=R-1;(O!==0||B<g)&&m!==-1;m--,B++)O+=h*E[m]>>>0,E[m]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");g=B,c++}for(var S=R-g;S!==R&&E[S]===0;)S++;var b=t.allocUnsafe(n+(R-S));b.fill(0,0,n);for(var A=n;S!==R;)b[A++]=E[S++];return b}function p(a){var c=r(a);if(c)return c;throw new Error("Non-base"+h+" character")}return{encode:v,decodeUnsafe:r,decode:p}}return ur=o,ur}var fr,hn;function co(){if(hn)return fr;hn=1;var t=fo(),o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return fr=t(o),fr}var cr,pn;function lo(){if(pn)return cr;pn=1;var t=co(),o=ge().Buffer;return cr=function(d){function _(u){var h=d(u);return t.encode(o.concat([u,h],u.length+4))}function s(u){var h=u.slice(0,-4),l=u.slice(-4),f=d(h);if(!(l[0]^f[0]|l[1]^f[1]|l[2]^f[2]|l[3]^f[3]))return h}function i(u){var h=t.decodeUnsafe(u);if(h)return s(h)}function e(u){var h=t.decode(u),l=s(h);if(!l)throw new Error("Invalid checksum");return l}return{encode:_,decode:e,decodeUnsafe:i}},cr}var lr,yn;function ho(){if(yn)return lr;yn=1;var t=uo(),o=lo();function d(_){var s=t("sha256").update(_).digest();return t("sha256").update(s).digest()}return lr=o(d),lr}var dr={},Se={},Z={},gn;function Ar(){if(gn)return Z;gn=1;var t=Z&&Z.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.URDecoder=Z.UREncoder=Z.UR=void 0;const o=t(Sa());Z.UR=o.default;const d=t(La());Z.UREncoder=d.default;const _=t(ba());return Z.URDecoder=_.default,Z}var vn;function W(){if(vn)return Se;vn=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.RegistryItem=void 0;const t=Ar(),o=X();let d=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,o.encodeDataItem)(this.toDataItem())},this.toUR=()=>new t.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(s,i,e)=>{const u=this.toUR();return new t.UREncoder(u,s,i,e)}}};return Se.RegistryItem=d,Se}var _n;function wr(){return _n||(_n=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoCoinInfo=t.Network=t.Type=void 0;const o=X(),d=W(),_=$();var s;(function(h){h.type="1",h.network="2"})(s||(s={}));var i;(function(h){h[h.bitcoin=0]="bitcoin"})(i=t.Type||(t.Type={}));var e;(function(h){h[h.mainnet=0]="mainnet",h[h.testnet=1]="testnet"})(e=t.Network||(t.Network={}));class u extends d.RegistryItem{constructor(l,f){super(),this.type=l,this.network=f,this.getRegistryType=()=>_.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||i.bitcoin,this.getNetwork=()=>this.network||e.mainnet,this.toDataItem=()=>{const y={};return this.type&&(y[s.type]=this.type),this.network&&(y[s.network]=this.network),new o.DataItem(y)}}}t.CryptoCoinInfo=u,u.fromDataItem=h=>{const l=h.getData(),f=l[s.type],y=l[s.network];return new u(f,y)},u.fromCBOR=h=>{const l=(0,o.decodeToDataItem)(h);return u.fromDataItem(l)}}(dr)),dr}var be={},we={},Rn;function Er(){if(Rn)return we;Rn=1,Object.defineProperty(we,"__esModule",{value:!0}),we.PathComponent=void 0;let t=class sa{constructor(d){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=d.index,this.hardened=d.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&sa.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};return we.PathComponent=t,t.HARDENED_BIT=2147483648,we}var mn;function Tt(){if(mn)return be;mn=1,Object.defineProperty(be,"__esModule",{value:!0}),be.CryptoKeypath=void 0;const t=X(),o=Er(),d=W(),_=$();var s;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(s||(s={}));let i=class extends d.RegistryItem{constructor(u=[],h,l){super(),this.components=u,this.sourceFingerprint=h,this.depth=l,this.getRegistryType=()=>_.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(y=>`${y.isWildcard()?"*":y.getIndex()}${y.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const f={},y=[];return this.components&&this.components.forEach(v=>{v.isWildcard()?y.push([]):y.push(v.getIndex()),y.push(v.isHardened())}),f[s.components]=y,this.sourceFingerprint&&(f[s.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(f[s.depth]=this.depth),new t.DataItem(f)}}};return be.CryptoKeypath=i,i.fromDataItem=e=>{const u=e.getData(),h=[],l=u[s.components];if(l)for(let r=0;r<l.length;r+=2){const p=l[r+1],a=l[r];typeof a=="number"?h.push(new o.PathComponent({index:a,hardened:p})):h.push(new o.PathComponent({hardened:p}))}const f=u[s.source_fingerprint];let y;f&&(y=L.Buffer.alloc(4),y.writeUInt32BE(f,0));const v=u[s.depth];return new i(h,y,v)},i.fromCBOR=e=>{const u=(0,t.decodeToDataItem)(e);return i.fromDataItem(u)},be}var Tn;function ft(){if(Tn)return Ce;Tn=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.CryptoHDKey=void 0;const t=ho(),o=wr(),d=Tt(),_=X(),s=W(),i=$();var e;(function(h){h[h.is_master=1]="is_master",h[h.is_private=2]="is_private",h[h.key_data=3]="key_data",h[h.chain_code=4]="chain_code",h[h.use_info=5]="use_info",h[h.origin=6]="origin",h[h.children=7]="children",h[h.parent_fingerprint=8]="parent_fingerprint",h[h.name=9]="name",h[h.note=10]="note"})(e||(e={}));let u=class extends s.RegistryItem{constructor(l){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var f,y,v;let r,p,a=0,c=L.Buffer.alloc(4).fill(0);if(this.isMaster())r=L.Buffer.from("0488ADE4","hex"),p=0,a=0;else{p=((f=this.getOrigin())===null||f===void 0?void 0:f.getComponents().length)||((y=this.getOrigin())===null||y===void 0?void 0:y.getDepth());const O=(v=this.getOrigin())===null||v===void 0?void 0:v.getComponents(),B=O[O.length-1];B&&(a=B.isHardened()?B.getIndex()+2147483648:B.getIndex(),this.getParentFingerprint()&&(c=this.getParentFingerprint())),this.isPrivateKey()?r=L.Buffer.from("0488ADE4","hex"):r=L.Buffer.from("0488B21E","hex")}const n=L.Buffer.alloc(1);n.writeUInt8(p,0);const g=L.Buffer.alloc(4);g.writeUInt32BE(a,0);const R=this.getChainCode(),E=this.getKey();return(0,t.encode)(L.Buffer.concat([r,n,c,g,R,E]))},this.getRegistryType=()=>i.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var f,y,v,r,p,a,c;let n="";return this.getOrigin()&&!((f=this.getOrigin())===null||f===void 0)&&f.getSourceFingerprint()&&!((y=this.getOrigin())===null||y===void 0)&&y.getPath()&&(n+=`${(r=(v=this.getOrigin())===null||v===void 0?void 0:v.getSourceFingerprint())===null||r===void 0?void 0:r.toString("hex")}/${(p=this.getOrigin())===null||p===void 0?void 0:p.getPath()}`),n+=this.getBip32Key(),this.getChildren()&&!((a=this.getChildren())===null||a===void 0)&&a.getPath()&&(n+=`/${(c=this.getChildren())===null||c===void 0?void 0:c.getPath()}`),n},this.setupMasterKey=f=>{this.master=!0,this.key=f.key,this.chainCode=f.chainCode},this.setupDeriveKey=f=>{this.master=!1,this.privateKey=f.isPrivateKey,this.key=f.key,this.chainCode=f.chainCode,this.useInfo=f.useInfo,this.origin=f.origin,this.children=f.children,this.parentFingerprint=f.parentFingerprint,this.name=f.name,this.note=f.note},this.toDataItem=()=>{const f={};if(this.master)f[e.is_master]=!0,f[e.key_data]=this.key,f[e.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(f[e.is_private]=this.privateKey),f[e.key_data]=this.key,this.chainCode&&(f[e.chain_code]=this.chainCode),this.useInfo){const y=this.useInfo.toDataItem();y.setTag(this.useInfo.getRegistryType().getTag()),f[e.use_info]=y}if(this.origin){const y=this.origin.toDataItem();y.setTag(this.origin.getRegistryType().getTag()),f[e.origin]=y}if(this.children){const y=this.children.toDataItem();y.setTag(this.children.getRegistryType().getTag()),f[e.children]=y}this.parentFingerprint&&(f[e.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(f[e.name]=this.name),this.note!==void 0&&(f[e.note]=this.note)}return new _.DataItem(f)},l.isMaster?this.setupMasterKey(l):this.setupDeriveKey(l)}};return Ce.CryptoHDKey=u,u.fromDataItem=h=>{const l=h.getData(),f=!!l[e.is_master],y=l[e.is_private],v=l[e.key_data],r=l[e.chain_code],p=l[e.use_info]?o.CryptoCoinInfo.fromDataItem(l[e.use_info]):void 0,a=l[e.origin]?d.CryptoKeypath.fromDataItem(l[e.origin]):void 0,c=l[e.children]?d.CryptoKeypath.fromDataItem(l[e.children]):void 0,n=l[e.parent_fingerprint];let g;n&&(g=L.Buffer.alloc(4),g.writeUInt32BE(n,0));const R=l[e.name],E=l[e.note];return new u({isMaster:f,isPrivateKey:y,key:v,chainCode:r,useInfo:p,origin:a,children:c,parentFingerprint:g,name:R,note:E})},u.fromCBOR=h=>{const l=(0,_.decodeToDataItem)(h);return u.fromDataItem(l)},Ce}var Ee={},Cn;function Ct(){if(Cn)return Ee;Cn=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.CryptoECKey=void 0;const t=X(),o=W(),d=$();var _;(function(i){i[i.curve=1]="curve",i[i.private=2]="private",i[i.data=3]="data"})(_||(_={}));let s=class extends o.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>d.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const u={};return this.curve&&(u[_.curve]=this.curve),this.privateKey!==void 0&&(u[_.private]=this.privateKey),u[_.data]=this.data,new t.DataItem(u)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};return Ee.CryptoECKey=s,s.fromDataItem=i=>{const e=i.getData(),u=e[_.curve],h=e[_.private],l=e[_.data];if(!l)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${i}`);return new s({data:l,curve:u,privateKey:h})},s.fromCBOR=i=>{const e=(0,t.decodeToDataItem)(i);return s.fromDataItem(e)},Ee}var Oe={},Sn;function po(){if(Sn)return Oe;Sn=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Bytes=void 0;const t=X(),o=W(),d=$();let _=class extends o.RegistryItem{constructor(i){super(),this.bytes=i,this.getRegistryType=()=>d.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new t.DataItem(this.bytes)}};return Oe.Bytes=_,_.fromDataItem=s=>{const i=s.getData();if(!i)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${s}`);return new _(i)},_.fromCBOR=s=>{const i=(0,t.decodeToDataItem)(s);return _.fromDataItem(i)},Oe}var De={},Ie={},bn;function Or(){if(bn)return Ie;bn=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.MultiKey=void 0;const t=Ct(),o=ft(),d=Ir(),_=W(),s=$();var i;(function(u){u[u.threshold=1]="threshold",u[u.keys=2]="keys"})(i||(i={}));let e=class extends _.RegistryItem{constructor(h,l){super(),this.threshold=h,this.keys=l,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const f={};f[i.threshold]=this.threshold;const y=this.keys.map(v=>{const r=v.toDataItem();return r.setTag(v.getRegistryType().getTag()),r});return f[i.keys]=y,new d.DataItem(f)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(f=>f.getOutputDescriptorContent()).join(",")].join(",")}};return Ie.MultiKey=e,e.fromDataItem=u=>{const h=u.getData(),l=h[i.threshold],f=h[i.keys],y=[];return f.forEach(v=>{v.getTag()===s.RegistryTypes.CRYPTO_HDKEY.getTag()?y.push(o.CryptoHDKey.fromDataItem(v)):v.getTag()===s.RegistryTypes.CRYPTO_ECKEY.getTag()&&y.push(t.CryptoECKey.fromDataItem(v))}),new e(l,y)},Ie}var wn;function En(){if(wn)return De;wn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.CryptoOutput=void 0;const t=Ct(),o=ft(),d=X(),_=Or(),s=W(),i=$(),e=Br();let u=class extends s.RegistryItem{constructor(l,f){super(),this.scriptExpressions=l,this.cryptoKey=f,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof o.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof t.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof _.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=y=>y>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[y].getExpression()}(${this._toOutputDescriptor(y+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let y=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof t.CryptoECKey||this.cryptoKey instanceof o.CryptoHDKey)&&y.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(r=>{const p=r.getTag();y.getTag()===void 0?y.setTag(p):y=new d.DataItem(y,p)}),y}}};return De.CryptoOutput=u,u.fromDataItem=h=>{const l=[];let f=h;for(;;){let r=f.getTag();const p=e.ScriptExpression.fromTag(r);if(p)if(l.push(p),f.getData()instanceof d.DataItem)f=f.getData(),r=f.getTag();else break;else break}const y=l.length;if(y>0&&(l[y-1].getExpression()===e.ScriptExpressions.MULTISIG.getExpression()||l[y-1].getExpression()===e.ScriptExpressions.SORTED_MULTISIG.getExpression())){const r=_.MultiKey.fromDataItem(f);return new u(l,r)}if(f.getTag()===i.RegistryTypes.CRYPTO_HDKEY.getTag()){const r=o.CryptoHDKey.fromDataItem(f);return new u(l,r)}else{const r=t.CryptoECKey.fromDataItem(f);return new u(l,r)}},u.fromCBOR=h=>{const l=(0,d.decodeToDataItem)(h);return u.fromDataItem(l)},De}var Be={},On;function Dn(){if(On)return Be;On=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.CryptoPSBT=void 0;const t=X(),o=W(),d=$();let _=class extends o.RegistryItem{constructor(i){super(),this.psbt=i,this.getRegistryType=()=>d.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new t.DataItem(this.psbt)}};return Be.CryptoPSBT=_,_.fromDataItem=s=>{const i=s.getData();if(!i)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${s}`);return new _(i)},_.fromCBOR=s=>{const i=(0,t.decodeToDataItem)(s);return _.fromDataItem(i)},Be}var Pe={},In;function Bn(){if(In)return Pe;In=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.CryptoAccount=void 0;const t=bt(),o=X(),d=W(),_=$();var s;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"})(s||(s={}));let i=class extends d.RegistryItem{constructor(u,h){super(),this.masterFingerprint=u,this.outputDescriptors=h,this.getRegistryType=()=>_.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const l={};return this.masterFingerprint&&(l[s.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(l[s.outputDescriptors]=this.outputDescriptors.map(f=>f.toDataItem())),new o.DataItem(l)}}};return Pe.CryptoAccount=i,i.fromDataItem=e=>{const u=e.getData(),h=L.Buffer.alloc(4),l=u[s.masterFingerprint];l&&h.writeUInt32BE(l,0);const y=u[s.outputDescriptors].map(v=>t.CryptoOutput.fromDataItem(v));return new i(h,y)},i.fromCBOR=e=>{const u=(0,o.decodeToDataItem)(e);return i.fromDataItem(u)},Pe}var Ae={},Me={},Pn;function ua(){if(Pn)return Me;Pn=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.UnknownURTypeError=void 0;class t extends Error{constructor(d){super(d)}}return Me.UnknownURTypeError=t,Me}var An;function Mn(){if(An)return Ae;An=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.URRegistryDecoder=void 0;const t=Ar(),o=bt(),d=$(),_=ua();class s extends t.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case d.RegistryTypes.BYTES.getType():return o.Bytes.fromCBOR(e.cbor);case d.RegistryTypes.CRYPTO_HDKEY.getType():return o.CryptoHDKey.fromCBOR(e.cbor);case d.RegistryTypes.CRYPTO_KEYPATH.getType():return o.CryptoKeypath.fromCBOR(e.cbor);case d.RegistryTypes.CRYPTO_COIN_INFO.getType():return o.CryptoCoinInfo.fromCBOR(e.cbor);case d.RegistryTypes.CRYPTO_ECKEY.getType():return o.CryptoECKey.fromCBOR(e.cbor);case d.RegistryTypes.CRYPTO_OUTPUT.getType():return o.CryptoOutput.fromCBOR(e.cbor);case d.RegistryTypes.CRYPTO_PSBT.getType():return o.CryptoPSBT.fromCBOR(e.cbor);case d.RegistryTypes.CRYPTO_ACCOUNT.getType():return o.CryptoAccount.fromCBOR(e.cbor);default:throw new _.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}return Ae.URRegistryDecoder=s,Ae}var Ne={},Nn;function qn(){if(Nn)return Ne;Nn=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.CryptoMultiAccounts=void 0;const t=$(),o=ft(),d=W(),_=X();var s;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"})(s||(s={}));let i=class extends d.RegistryItem{constructor(u,h,l,f,y){super(),this.masterFingerprint=u,this.keys=h,this.device=l,this.deviceId=f,this.version=y,this.getRegistryType=()=>t.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[s.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(v[s.keys]=this.keys.map(r=>{const p=r.toDataItem();return p.setTag(r.getRegistryType().getTag()),p})),this.device&&(v[s.device]=this.device),this.deviceId&&(v[s.deviceId]=this.deviceId),this.version&&(v[s.version]=this.version),new _.DataItem(v)}}};return Ne.CryptoMultiAccounts=i,i.fromDataItem=e=>{const u=e.getData(),h=L.Buffer.alloc(4),l=u[s.masterFingerprint];l&&h.writeUInt32BE(l,0);const y=u[s.keys].map(a=>o.CryptoHDKey.fromDataItem(a)),v=u[s.device],r=u[s.deviceId],p=u[s.version];return new i(h,y,v,r,p)},i.fromCBOR=e=>{const u=(0,_.decodeToDataItem)(e);return i.fromDataItem(u)},Ne}var hr={},qe={},pr={},Un;function fa(){return Un||(Un=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KeyDerivationSchema=t.DerivationAlgorithm=t.Curve=void 0;const o=$(),d=W(),_=X(),s=Tt();var i;(function(l){l[l.keyPath=1]="keyPath",l[l.curve=2]="curve",l[l.algo=3]="algo"})(i||(i={}));var e;(function(l){l[l.secp256k1=0]="secp256k1",l[l.ed25519=1]="ed25519"})(e=t.Curve||(t.Curve={}));var u;(function(l){l[l.slip10=0]="slip10",l[l.bip32ed25519=1]="bip32ed25519"})(u=t.DerivationAlgorithm||(t.DerivationAlgorithm={}));class h extends d.RegistryItem{constructor(f,y=e.secp256k1,v=u.slip10){super(),this.keypath=f,this.curve=y,this.algo=v,this.getRegistryType=()=>o.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{const r={},p=this.getKeypath().toDataItem();return p.setTag(this.getKeypath().getRegistryType().getTag()),r[i.keyPath]=p,r[i.curve]=this.curve,r[i.algo]=this.algo,new _.DataItem(r)}}}t.KeyDerivationSchema=h,h.fromDataItem=l=>{const f=l.getData(),y=s.CryptoKeypath.fromDataItem(f[i.keyPath]),v=f[i.curve],r=f[i.algo];return new h(y,v,r)},h.fromCBOR=l=>{const f=(0,_.decodeToDataItem)(l);return h.fromDataItem(f)}}(pr)),pr}var Ln;function ca(){if(Ln)return qe;Ln=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.KeyDerivation=void 0;const t=$(),o=W(),d=X(),_=fa();var s;(function(e){e[e.schemas=1]="schemas"})(s||(s={}));let i=class extends o.RegistryItem{constructor(u){super(),this.schemas=u,this.getRegistryType=()=>t.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const h={};return h[s.schemas]=this.schemas.map(l=>{const f=l.toDataItem();return f.setTag(l.getRegistryType().getTag()),f}),new d.DataItem(h)}}};return qe.KeyDerivation=i,i.fromDataItem=e=>{const h=e.getData()[s.schemas].map(l=>_.KeyDerivationSchema.fromDataItem(l));return new i(h)},i.fromCBOR=e=>{const u=(0,d.decodeToDataItem)(e);return i.fromDataItem(u)},qe}var xn;function yo(){return xn||(xn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QRHardwareCall=t.QRHardwareCallType=void 0;const o=$(),d=W(),_=X(),s=ca();var i;(function(h){h[h.type=1]="type",h[h.params=2]="params",h[h.origin=3]="origin"})(i||(i={}));var e;(function(h){h[h.KeyDerivation=0]="KeyDerivation"})(e=t.QRHardwareCallType||(t.QRHardwareCallType={}));class u extends d.RegistryItem{constructor(l,f,y){super(),this.type=l,this.params=f,this.origin=y,this.getRegistryType=()=>o.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};v[i.type]=this.type;const r=this.params.toDataItem();return r.setTag(this.params.getRegistryType().getTag()),v[i.params]=r,this.origin&&(v[i.origin]=this.origin),new _.DataItem(v)}}}t.QRHardwareCall=u,u.fromDataItem=h=>{const l=h.getData(),f=l[i.type]||e.KeyDerivation;let y;switch(f){case e.KeyDerivation:y=s.KeyDerivation.fromDataItem(l[i.params])}const v=l[i.origin];return new u(f,y,v)},u.fromCBOR=h=>{const l=(0,_.decodeToDataItem)(h);return u.fromDataItem(l)}}(hr)),hr}var yr={},Kn;function go(){return Kn||(Kn=1,Object.defineProperty(yr,"__esModule",{value:!0})),yr}var Hn;function bt(){return Hn||(Hn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.extend=t.PathComponent=t.ScriptExpressions=t.MultiKey=t.CryptoPSBT=t.CryptoOutput=t.CryptoECKey=t.CryptoCoinInfoNetwork=t.CryptoCoinInfoType=t.CryptoCoinInfo=t.CryptoKeypath=t.CryptoMultiAccounts=t.CryptoHDKey=t.CryptoAccount=t.Bytes=t.URRegistryDecoder=t.DataItem=void 0;const o=Ya;Fr();const d=ct();Object.defineProperty(t,"Buffer",{enumerable:!0,get:function(){return d.Buffer}});const _=ft();Object.defineProperty(t,"CryptoHDKey",{enumerable:!0,get:function(){return _.CryptoHDKey}});const s=Tt();Object.defineProperty(t,"CryptoKeypath",{enumerable:!0,get:function(){return s.CryptoKeypath}});const i=wr();Object.defineProperty(t,"CryptoCoinInfo",{enumerable:!0,get:function(){return i.CryptoCoinInfo}}),Object.defineProperty(t,"CryptoCoinInfoType",{enumerable:!0,get:function(){return i.Type}}),Object.defineProperty(t,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return i.Network}});const e=Ct();Object.defineProperty(t,"CryptoECKey",{enumerable:!0,get:function(){return e.CryptoECKey}});const u=po();Object.defineProperty(t,"Bytes",{enumerable:!0,get:function(){return u.Bytes}});const h=En();Object.defineProperty(t,"CryptoOutput",{enumerable:!0,get:function(){return h.CryptoOutput}});const l=Dn();Object.defineProperty(t,"CryptoPSBT",{enumerable:!0,get:function(){return l.CryptoPSBT}});const f=Bn();Object.defineProperty(t,"CryptoAccount",{enumerable:!0,get:function(){return f.CryptoAccount}});const y=Mn();Object.defineProperty(t,"URRegistryDecoder",{enumerable:!0,get:function(){return y.URRegistryDecoder}});const v=Or();Object.defineProperty(t,"MultiKey",{enumerable:!0,get:function(){return v.MultiKey}});const r=Br();Object.defineProperty(t,"ScriptExpressions",{enumerable:!0,get:function(){return r.ScriptExpressions}});const p=Er();Object.defineProperty(t,"PathComponent",{enumerable:!0,get:function(){return p.PathComponent}});const a=W(),c=$(),n=X();var g=X();Object.defineProperty(t,"DataItem",{enumerable:!0,get:function(){return g.DataItem}});const R=Sr(),E=qn();Object.defineProperty(t,"CryptoMultiAccounts",{enumerable:!0,get:function(){return E.CryptoMultiAccounts}});const O={URRegistryDecoder:y.URRegistryDecoder,Bytes:u.Bytes,CryptoAccount:f.CryptoAccount,CryptoHDKey:_.CryptoHDKey,CryptoMultiAccounts:E.CryptoMultiAccounts,CryptoKeypath:s.CryptoKeypath,CryptoCoinInfo:i.CryptoCoinInfo,CryptoCoinInfoType:i.Type,CryptoCoinInfoNetwork:i.Network,CryptoECKey:e.CryptoECKey,CryptoOutput:h.CryptoOutput,CryptoPSBT:l.CryptoPSBT,MultiKey:v.MultiKey,ScriptExpressions:r.ScriptExpressions,PathComponent:p.PathComponent},B={addReader:n.addReader,addSemanticDecode:n.addSemanticDecode,addSemanticEncode:n.addSemanticEncode,addWriter:n.addWriter,patchTags:R.patchTags},m={RegistryTypes:c.RegistryTypes,RegistryItem:a.RegistryItem,RegistryType:c.RegistryType,decodeToDataItem:n.decodeToDataItem,encodeDataItem:n.encodeDataItem,cbor:B};t.extend=m,(0,o.__exportStar)(ua(),t),(0,o.__exportStar)(Mn(),t),(0,o.__exportStar)(X(),t),(0,o.__exportStar)(Bn(),t),(0,o.__exportStar)(Dn(),t),(0,o.__exportStar)(ft(),t),(0,o.__exportStar)(qn(),t),(0,o.__exportStar)(yo(),t),(0,o.__exportStar)(ca(),t),(0,o.__exportStar)(fa(),t),(0,o.__exportStar)(En(),t),(0,o.__exportStar)(wr(),t),(0,o.__exportStar)(Ct(),t),(0,o.__exportStar)(Or(),t),(0,o.__exportStar)(Tt(),t),(0,o.__exportStar)(Fr(),t),(0,o.__exportStar)(Er(),t),(0,o.__exportStar)(W(),t),(0,o.__exportStar)($(),t),(0,o.__exportStar)(go(),t),(0,o.__exportStar)(Sr(),t),t.default=O}(Lt)),Lt}var gr={},Ue={},gt={},jn;function la(){if(jn)return gt;jn=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=d;let t;const o=new Uint8Array(16);function d(){if(!t&&(t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(o)}return gt}var le={},Le={},xe={},Fn;function vo(){if(Fn)return xe;Fn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return xe.default=t,xe}var kn;function wt(){if(kn)return Le;kn=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var t=o(vo());function o(s){return s&&s.__esModule?s:{default:s}}function d(s){return typeof s=="string"&&t.default.test(s)}var _=d;return Le.default=_,Le}var Xn;function Et(){if(Xn)return le;Xn=1,Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0,le.unsafeStringify=_;var t=o(wt());function o(e){return e&&e.__esModule?e:{default:e}}const d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));function _(e,u=0){return d[e[u+0]]+d[e[u+1]]+d[e[u+2]]+d[e[u+3]]+"-"+d[e[u+4]]+d[e[u+5]]+"-"+d[e[u+6]]+d[e[u+7]]+"-"+d[e[u+8]]+d[e[u+9]]+"-"+d[e[u+10]]+d[e[u+11]]+d[e[u+12]]+d[e[u+13]]+d[e[u+14]]+d[e[u+15]]}function s(e,u=0){const h=_(e,u);if(!(0,t.default)(h))throw TypeError("Stringified UUID is invalid");return h}var i=s;return le.default=i,le}var $n;function _o(){if($n)return Ue;$n=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var t=d(la()),o=Et();function d(l){return l&&l.__esModule?l:{default:l}}let _,s,i=0,e=0;function u(l,f,y){let v=f&&y||0;const r=f||new Array(16);l=l||{};let p=l.node||_,a=l.clockseq!==void 0?l.clockseq:s;if(p==null||a==null){const O=l.random||(l.rng||t.default)();p==null&&(p=_=[O[0]|1,O[1],O[2],O[3],O[4],O[5]]),a==null&&(a=s=(O[6]<<8|O[7])&16383)}let c=l.msecs!==void 0?l.msecs:Date.now(),n=l.nsecs!==void 0?l.nsecs:e+1;const g=c-i+(n-e)/1e4;if(g<0&&l.clockseq===void 0&&(a=a+1&16383),(g<0||c>i)&&l.nsecs===void 0&&(n=0),n>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=c,e=n,s=a,c+=122192928e5;const R=((c&268435455)*1e4+n)%4294967296;r[v++]=R>>>24&255,r[v++]=R>>>16&255,r[v++]=R>>>8&255,r[v++]=R&255;const E=c/4294967296*1e4&268435455;r[v++]=E>>>8&255,r[v++]=E&255,r[v++]=E>>>24&15|16,r[v++]=E>>>16&255,r[v++]=a>>>8|128,r[v++]=a&255;for(let O=0;O<6;++O)r[v+O]=p[O];return f||(0,o.unsafeStringify)(r)}var h=u;return Ue.default=h,Ue}var Ke={},ee={},He={},Vn;function da(){if(Vn)return He;Vn=1,Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var t=o(wt());function o(s){return s&&s.__esModule?s:{default:s}}function d(s){if(!(0,t.default)(s))throw TypeError("Invalid UUID");let i;const e=new Uint8Array(16);return e[0]=(i=parseInt(s.slice(0,8),16))>>>24,e[1]=i>>>16&255,e[2]=i>>>8&255,e[3]=i&255,e[4]=(i=parseInt(s.slice(9,13),16))>>>8,e[5]=i&255,e[6]=(i=parseInt(s.slice(14,18),16))>>>8,e[7]=i&255,e[8]=(i=parseInt(s.slice(19,23),16))>>>8,e[9]=i&255,e[10]=(i=parseInt(s.slice(24,36),16))/1099511627776&255,e[11]=i/4294967296&255,e[12]=i>>>24&255,e[13]=i>>>16&255,e[14]=i>>>8&255,e[15]=i&255,e}var _=d;return He.default=_,He}var Wn;function ha(){if(Wn)return ee;Wn=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.URL=ee.DNS=void 0,ee.default=e;var t=Et(),o=d(da());function d(u){return u&&u.__esModule?u:{default:u}}function _(u){u=unescape(encodeURIComponent(u));const h=[];for(let l=0;l<u.length;++l)h.push(u.charCodeAt(l));return h}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ee.DNS=s;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ee.URL=i;function e(u,h,l){function f(y,v,r,p){var a;if(typeof y=="string"&&(y=_(y)),typeof v=="string"&&(v=(0,o.default)(v)),((a=v)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+y.length);if(c.set(v),c.set(y,v.length),c=l(c),c[6]=c[6]&15|h,c[8]=c[8]&63|128,r){p=p||0;for(let n=0;n<16;++n)r[p+n]=c[n];return r}return(0,t.unsafeStringify)(c)}try{f.name=u}catch{}return f.DNS=s,f.URL=i,f}return ee}var je={},Gn;function Ro(){if(Gn)return je;Gn=1,Object.defineProperty(je,"__esModule",{value:!0}),je.default=void 0;function t(r){if(typeof r=="string"){const p=unescape(encodeURIComponent(r));r=new Uint8Array(p.length);for(let a=0;a<p.length;++a)r[a]=p.charCodeAt(a)}return o(_(s(r),r.length*8))}function o(r){const p=[],a=r.length*32,c="0123456789abcdef";for(let n=0;n<a;n+=8){const g=r[n>>5]>>>n%32&255,R=parseInt(c.charAt(g>>>4&15)+c.charAt(g&15),16);p.push(R)}return p}function d(r){return(r+64>>>9<<4)+14+1}function _(r,p){r[p>>5]|=128<<p%32,r[d(p)-1]=p;let a=1732584193,c=-271733879,n=-1732584194,g=271733878;for(let R=0;R<r.length;R+=16){const E=a,O=c,B=n,m=g;a=h(a,c,n,g,r[R],7,-680876936),g=h(g,a,c,n,r[R+1],12,-389564586),n=h(n,g,a,c,r[R+2],17,606105819),c=h(c,n,g,a,r[R+3],22,-1044525330),a=h(a,c,n,g,r[R+4],7,-176418897),g=h(g,a,c,n,r[R+5],12,1200080426),n=h(n,g,a,c,r[R+6],17,-1473231341),c=h(c,n,g,a,r[R+7],22,-45705983),a=h(a,c,n,g,r[R+8],7,1770035416),g=h(g,a,c,n,r[R+9],12,-1958414417),n=h(n,g,a,c,r[R+10],17,-42063),c=h(c,n,g,a,r[R+11],22,-1990404162),a=h(a,c,n,g,r[R+12],7,1804603682),g=h(g,a,c,n,r[R+13],12,-40341101),n=h(n,g,a,c,r[R+14],17,-1502002290),c=h(c,n,g,a,r[R+15],22,1236535329),a=l(a,c,n,g,r[R+1],5,-165796510),g=l(g,a,c,n,r[R+6],9,-1069501632),n=l(n,g,a,c,r[R+11],14,643717713),c=l(c,n,g,a,r[R],20,-373897302),a=l(a,c,n,g,r[R+5],5,-701558691),g=l(g,a,c,n,r[R+10],9,38016083),n=l(n,g,a,c,r[R+15],14,-660478335),c=l(c,n,g,a,r[R+4],20,-405537848),a=l(a,c,n,g,r[R+9],5,568446438),g=l(g,a,c,n,r[R+14],9,-1019803690),n=l(n,g,a,c,r[R+3],14,-187363961),c=l(c,n,g,a,r[R+8],20,1163531501),a=l(a,c,n,g,r[R+13],5,-1444681467),g=l(g,a,c,n,r[R+2],9,-51403784),n=l(n,g,a,c,r[R+7],14,1735328473),c=l(c,n,g,a,r[R+12],20,-1926607734),a=f(a,c,n,g,r[R+5],4,-378558),g=f(g,a,c,n,r[R+8],11,-2022574463),n=f(n,g,a,c,r[R+11],16,1839030562),c=f(c,n,g,a,r[R+14],23,-35309556),a=f(a,c,n,g,r[R+1],4,-1530992060),g=f(g,a,c,n,r[R+4],11,1272893353),n=f(n,g,a,c,r[R+7],16,-155497632),c=f(c,n,g,a,r[R+10],23,-1094730640),a=f(a,c,n,g,r[R+13],4,681279174),g=f(g,a,c,n,r[R],11,-358537222),n=f(n,g,a,c,r[R+3],16,-722521979),c=f(c,n,g,a,r[R+6],23,76029189),a=f(a,c,n,g,r[R+9],4,-640364487),g=f(g,a,c,n,r[R+12],11,-421815835),n=f(n,g,a,c,r[R+15],16,530742520),c=f(c,n,g,a,r[R+2],23,-995338651),a=y(a,c,n,g,r[R],6,-198630844),g=y(g,a,c,n,r[R+7],10,1126891415),n=y(n,g,a,c,r[R+14],15,-1416354905),c=y(c,n,g,a,r[R+5],21,-57434055),a=y(a,c,n,g,r[R+12],6,1700485571),g=y(g,a,c,n,r[R+3],10,-1894986606),n=y(n,g,a,c,r[R+10],15,-1051523),c=y(c,n,g,a,r[R+1],21,-2054922799),a=y(a,c,n,g,r[R+8],6,1873313359),g=y(g,a,c,n,r[R+15],10,-30611744),n=y(n,g,a,c,r[R+6],15,-1560198380),c=y(c,n,g,a,r[R+13],21,1309151649),a=y(a,c,n,g,r[R+4],6,-145523070),g=y(g,a,c,n,r[R+11],10,-1120210379),n=y(n,g,a,c,r[R+2],15,718787259),c=y(c,n,g,a,r[R+9],21,-343485551),a=i(a,E),c=i(c,O),n=i(n,B),g=i(g,m)}return[a,c,n,g]}function s(r){if(r.length===0)return[];const p=r.length*8,a=new Uint32Array(d(p));for(let c=0;c<p;c+=8)a[c>>5]|=(r[c/8]&255)<<c%32;return a}function i(r,p){const a=(r&65535)+(p&65535);return(r>>16)+(p>>16)+(a>>16)<<16|a&65535}function e(r,p){return r<<p|r>>>32-p}function u(r,p,a,c,n,g){return i(e(i(i(p,r),i(c,g)),n),a)}function h(r,p,a,c,n,g,R){return u(p&a|~p&c,r,p,n,g,R)}function l(r,p,a,c,n,g,R){return u(p&c|a&~c,r,p,n,g,R)}function f(r,p,a,c,n,g,R){return u(p^a^c,r,p,n,g,R)}function y(r,p,a,c,n,g,R){return u(a^(p|~c),r,p,n,g,R)}var v=t;return je.default=v,je}var Yn;function mo(){if(Yn)return Ke;Yn=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var t=d(ha()),o=d(Ro());function d(i){return i&&i.__esModule?i:{default:i}}var s=(0,t.default)("v3",48,o.default);return Ke.default=s,Ke}var Fe={},ke={},Zn;function To(){if(Zn)return ke;Zn=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var o={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return ke.default=o,ke}var Qn;function Co(){if(Qn)return Fe;Qn=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0;var t=_(To()),o=_(la()),d=Et();function _(e){return e&&e.__esModule?e:{default:e}}function s(e,u,h){if(t.default.randomUUID&&!u&&!e)return t.default.randomUUID();e=e||{};const l=e.random||(e.rng||o.default)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,u){h=h||0;for(let f=0;f<16;++f)u[h+f]=l[f];return u}return(0,d.unsafeStringify)(l)}var i=s;return Fe.default=i,Fe}var Xe={},$e={},Jn;function So(){if(Jn)return $e;Jn=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.default=void 0;function t(s,i,e,u){switch(s){case 0:return i&e^~i&u;case 1:return i^e^u;case 2:return i&e^i&u^e&u;case 3:return i^e^u}}function o(s,i){return s<<i|s>>>32-i}function d(s){const i=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){const f=unescape(encodeURIComponent(s));s=[];for(let y=0;y<f.length;++y)s.push(f.charCodeAt(y))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);const u=s.length/4+2,h=Math.ceil(u/16),l=new Array(h);for(let f=0;f<h;++f){const y=new Uint32Array(16);for(let v=0;v<16;++v)y[v]=s[f*64+v*4]<<24|s[f*64+v*4+1]<<16|s[f*64+v*4+2]<<8|s[f*64+v*4+3];l[f]=y}l[h-1][14]=(s.length-1)*8/Math.pow(2,32),l[h-1][14]=Math.floor(l[h-1][14]),l[h-1][15]=(s.length-1)*8&4294967295;for(let f=0;f<h;++f){const y=new Uint32Array(80);for(let n=0;n<16;++n)y[n]=l[f][n];for(let n=16;n<80;++n)y[n]=o(y[n-3]^y[n-8]^y[n-14]^y[n-16],1);let v=e[0],r=e[1],p=e[2],a=e[3],c=e[4];for(let n=0;n<80;++n){const g=Math.floor(n/20),R=o(v,5)+t(g,r,p,a)+c+i[g]+y[n]>>>0;c=a,a=p,p=o(r,30)>>>0,r=v,v=R}e[0]=e[0]+v>>>0,e[1]=e[1]+r>>>0,e[2]=e[2]+p>>>0,e[3]=e[3]+a>>>0,e[4]=e[4]+c>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var _=d;return $e.default=_,$e}var zn;function bo(){if(zn)return Xe;zn=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var t=d(ha()),o=d(So());function d(i){return i&&i.__esModule?i:{default:i}}var s=(0,t.default)("v5",80,o.default);return Xe.default=s,Xe}var Ve={},ei;function wo(){if(ei)return Ve;ei=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;var t="00000000-0000-0000-0000-000000000000";return Ve.default=t,Ve}var We={},ti;function Eo(){if(ti)return We;ti=1,Object.defineProperty(We,"__esModule",{value:!0}),We.default=void 0;var t=o(wt());function o(s){return s&&s.__esModule?s:{default:s}}function d(s){if(!(0,t.default)(s))throw TypeError("Invalid UUID");return parseInt(s.slice(14,15),16)}var _=d;return We.default=_,We}var ri;function pa(){return ri||(ri=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return e.default}});var o=f(_o()),d=f(mo()),_=f(Co()),s=f(bo()),i=f(wo()),e=f(Eo()),u=f(wt()),h=f(Et()),l=f(da());function f(y){return y&&y.__esModule?y:{default:y}}}(gr)),gr}var ni;function Oo(){return ni||(ni=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var o=bt(),d=pa();const _={TRON_SIGN_REQUEST:new o.RegistryType("ton-sign-request",7201),TRON_SIGNATURE:new o.RegistryType("ton-signature",7202)},{decodeToDataItem:s,RegistryTypes:i}=o.extend;var e,u;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.derivationPath=4]="derivationPath",r[r.address=5]="address",r[r.origin=6]="origin"})(e||(e={})),(u=t.DataType||(t.DataType={}))[u.TRANSACTION=1]="TRANSACTION",u[u.SIGN_PROOF=2]="SIGN_PROOF";class h extends o.RegistryItem{constructor(p){super(),this.getRegistryType=()=>_.TRON_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath?this.derivationPath.getPath():void 0,this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getDataType=()=>this.dataType,this.toDataItem=()=>{const a={};if(a[e.signData]=this.signData,a[e.dataType]=this.dataType,this.derivationPath){const c=this.derivationPath.toDataItem();c.setTag(this.derivationPath.getRegistryType().getTag()),a[e.derivationPath]=c}return this.requestId&&(a[e.requestId]=new o.DataItem(this.requestId,i.UUID.getTag())),this.address&&(a[e.address]=this.address),this.origin&&(a[e.origin]=this.origin),new o.DataItem(a)},this.requestId=p.requestId,this.signData=p.signData,this.derivationPath=p.derivationPath,this.address=p.address,this.origin=p.origin,this.dataType=p.dataType}static parsePath(p,a){const c=p.replace(/[m|M]\//,"").split("/").map(n=>{const g=parseInt(n.replace("'",""));let R=!1;return n.endsWith("'")&&(R=!0),new o.PathComponent({index:g,hardened:R})});return new o.CryptoKeypath(c,L.Buffer.from(a,"hex"))}static constructTonRequest(p,a,c,n,g,R,E){return new h({requestId:n?L.Buffer.from(d.parse(n)):void 0,signData:p,dataType:a,derivationPath:E&&R?h.parsePath(E,R):void 0,address:c,origin:g})}}h.fromDataItem=r=>{const p=r.getData(),a=p[e.requestId]?p[e.requestId].getData():void 0,c=p[e.derivationPath]?o.CryptoKeypath.fromDataItem(p[e.derivationPath]):void 0;return new h({requestId:a,signData:p[e.signData],dataType:p[e.dataType],derivationPath:c,address:p[e.address],origin:p[e.origin]})},h.fromCBOR=r=>{const p=s(r);return h.fromDataItem(p)};const{RegistryTypes:l,decodeToDataItem:f}=o.extend;var y;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.origin=3]="origin"})(y||(y={}));class v extends o.RegistryItem{constructor(p,a,c){super(),this.getRegistryType=()=>_.TRON_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const n={};return this.requestId&&(n[y.requestId]=new o.DataItem(this.requestId,l.UUID.getTag())),this.origin&&(n[y.origin]=this.origin),n[y.signature]=this.signature,new o.DataItem(n)},this.signature=p,this.requestId=a,this.origin=c}}v.fromDataItem=r=>{const p=r.getData(),a=p[y.signature];let c,n;return p[y.requestId]&&(c=p[y.requestId].getData()),p[y.origin]&&(n=p[y.origin]),new v(a,c,n)},v.fromCBOR=r=>{const p=f(r);return v.fromDataItem(p)},o.patchTags(Object.values(_).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(o).forEach(function(r){r!=="default"&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return o[r]}})}),t.TonSignRequest=h,t.TonSignature=v}(Ut)),Ut}var ii;function Do(){return ii||(ii=1,qt.exports=Oo()),qt.exports}var ae={},Q={},Ge={},ai;function ya(){if(ai)return Ge;ai=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.getCoinSymbol=void 0;function t(o){var d;return(d={0:"BTC",2:"LTC",3:"DOGE",4:"RDD",5:"DASH",6:"PPC",7:"NMC",8:"FTC",9:"XCP",10:"BLK",11:"NSR",12:"NBT",13:"MZC",14:"VIA",15:"XCH",16:"RBY",17:"GRS",18:"DGC",19:"CCN",20:"DGB",22:"MONA",23:"CLAM",24:"XPM",25:"NEOS",26:"JBS",27:"ZRC",28:"VTC",29:"NXT",30:"BURST",31:"MUE",32:"ZOOM",33:"VASH",34:"CDN",35:"SDC",36:"PKB",37:"PND",38:"START",39:"MOIN",40:"EXP",41:"EMC2",42:"DCR",43:"XEM",44:"PART",45:"ARG",48:"SHR",49:"GCR",50:"NVC",51:"AC",52:"BTCD",53:"DOPE",54:"TPC",55:"AIB",56:"EDRC",57:"SYS",58:"SLR",59:"SMLY",60:"ETH",61:"ETC",62:"PSB",63:"LDCN",65:"XBC",66:"IOP",67:"NXS",68:"INSN",69:"OK",70:"BRIT",71:"CMP",72:"CRW",73:"BELA",74:"ICX",75:"FJC",76:"MIX",77:"XVG",78:"EFL",79:"CLUB",80:"RICHX",81:"POT",82:"QRK",83:"TRC",84:"GRC",85:"AUR",86:"IXC",87:"NLG",88:"BITB",89:"BTA",90:"XMY",91:"BSD",92:"UNO",93:"MTR",94:"GB",95:"SHM",96:"CRX",97:"BIQ",98:"EVO",99:"STO",100:"BIGUP",101:"GAME",102:"DLC",103:"ZYD",104:"DBIC",105:"STRAT",106:"SH",107:"MARS",108:"UBQ",109:"PTC",110:"NRO",111:"ARK",112:"USC",113:"THC",114:"LINX",115:"ECN",116:"DNR",117:"PINK",118:"ATOM",119:"PIVX",120:"FLASH",121:"ZEN",122:"PUT",123:"ZNY",124:"UNIFY",125:"XST",126:"BRK",127:"VC",128:"XMR",129:"VOX",130:"NAV",131:"FCT",132:"EC",133:"ZEC",134:"LSK",135:"STEEM",136:"XZC",137:"RBTC",139:"RPT",140:"LBC",141:"KMD",142:"BSQ",143:"RIC",144:"XRP",145:"BCH",146:"NEBL",147:"ZCL",148:"XLM",149:"NLC2",150:"WHL",151:"ERC",152:"DMD",153:"BTM",154:"BIO",155:"XWCC",156:"BTG",157:"BTC2X",158:"SSN",159:"TOA",160:"BTX",161:"ACC",162:"BCO",163:"ELLA",164:"PIRL",165:"XNO",166:"VIVO",167:"FRST",168:"HNC",169:"BUZZ",170:"MBRS",171:"HC",172:"HTML",173:"ODN",174:"ONX",175:"RVN",176:"GBX",177:"BTCZ",178:"POA",179:"NYC",180:"MXT",181:"WC",182:"MNX",183:"BTCP",184:"MUSIC",185:"BCA",186:"CRAVE",187:"STAK",188:"WBTC",189:"LCH",190:"EXCL",192:"LCC",193:"XFE",194:"EOS",195:"TRX",196:"KOBO",197:"HUSH",198:"BAN",199:"ETF",200:"OMNI",201:"BIFI",202:"UFO",203:"CNMC",204:"BCN",205:"RIN",206:"ATP",207:"EVT",208:"ATN",209:"BIS",210:"NEET",211:"BOPO",212:"OOT",213:"ALIAS",214:"MONK",215:"BOXY",216:"FLO",217:"MEC",218:"BTDX",219:"XAX",220:"ANON",221:"LTZ",222:"BITG",223:"ICP",224:"SMART",225:"XUEZ",226:"HLM",227:"WEB",228:"ACM",229:"NOS",230:"BITC",231:"HTH",232:"TZC",233:"VAR",234:"IOV",235:"FIO",236:"BSV",237:"DXN",238:"QRL",239:"PCX",240:"LOKI",242:"NIM",243:"SOV",244:"JCT",245:"SLP",246:"EWT",247:"UC",248:"EXOS",249:"ECA",250:"SOOM",251:"XRD",252:"FREE",253:"NPW",254:"BST",256:"NANO",257:"BTCC",259:"ZEST",260:"ABT",261:"PION",262:"DT3",263:"ZBUX",264:"KPL",265:"TPAY",266:"ZILLA",267:"ANK",268:"BCC",269:"HPB",270:"ONE",271:"SBC",272:"IPC",273:"DMTC",274:"OGC",275:"SHIT",276:"ANDES",277:"AREPA",278:"BOLI",279:"RIL",280:"HTR",281:"FCTID",282:"BRAVO",283:"ALGO",284:"BZX",285:"GXX",286:"HEAT",287:"XDN",288:"FSN",289:"CPC",290:"BOLD",291:"IOST",292:"TKEY",293:"USE",294:"BCZ",295:"IOC",296:"ASF",297:"MASS",298:"FAIR",299:"NUKO",300:"GNX",301:"DIVI",302:"CMT",303:"EUNO",304:"IOTX",305:"ONION",306:"8BIT",307:"ATC",308:"BTS",309:"CKB",310:"UGAS",311:"ADS",312:"ARA",313:"ZIL",314:"MOAC",315:"SWTC",316:"VNSC",317:"PLUG",318:"MAN",319:"ECC",320:"RPD",321:"RAP",322:"GARD",323:"ZER",324:"EBST",325:"SHARD",326:"MRX",327:"CMM",328:"BLOCK",329:"AUDAX",330:"LUNA",331:"ZPM",332:"KUVA",333:"MEM",334:"CS",335:"SWIFT",336:"FIX",337:"CPC",338:"VGO",339:"DVT",340:"N8V",341:"MTNS",342:"BLAST",343:"DCT",344:"AUX",345:"USDP",346:"HTDF",347:"YEC",348:"QLC",349:"TEA",350:"ARW",351:"MDM",352:"CYB",353:"LTO",354:"DOT",355:"AEON",356:"RES",357:"AYA",358:"DAPS",359:"CSC",360:"VSYS",361:"NOLLAR",362:"XNOS",363:"CPU",364:"LAMB",365:"VCT",366:"CZR",367:"ABBC",368:"HET",369:"XAS",370:"VDL",371:"MED",372:"ZVC",373:"VESTX",374:"DBT",375:"SEOS",376:"MXW",377:"ZNZ",378:"XCX",379:"SOX",380:"NYZO",381:"ULC",382:"RYO",383:"KAL",384:"XSN",385:"DOGEC",386:"BMV",387:"QBC",388:"IMG",389:"QOS",390:"PKT",391:"LHD",392:"CENNZ",393:"HSN",394:"CRO",395:"UMBRU",396:"EVER",397:"NEAR",398:"XPC",399:"ZOC",400:"NIX",401:"UC",402:"GALI",403:"OLT",404:"XBI",405:"DONU",406:"EARTHS",407:"HDD",408:"SUGAR",409:"AILE",410:"TENT",411:"TAN",412:"AIN",413:"MSR",414:"SUMO",415:"ETN",416:"BYTZ",417:"WOW",418:"XTNC",419:"LTHN",420:"NODE",421:"AGM",422:"CCX",423:"TNET",424:"TELOS",425:"AION",426:"BC",427:"KTV",428:"ZCR",429:"ERG",430:"PESO",431:"BTC2",432:"XRPHD",433:"WE",434:"KSM",435:"PCN",436:"NCH",437:"ICU",438:"LN",439:"DTP",440:"BTCR",441:"AERGO",442:"XTH",443:"LV",444:"PHR",445:"VITAE",446:"COCOS",447:"DIN",448:"SPL",449:"YCE",450:"XLR",451:"KTS",452:"DGLD",453:"XNS",454:"EM",455:"SHN",456:"SEELE",457:"AE",458:"ODX",459:"KAVA",460:"GLEEC",461:"FIL",462:"RUTA",463:"CSDT",464:"ETI",465:"ZSLP",466:"ERE",467:"DX",468:"CPS",469:"BTH",470:"MESG",471:"FIMK",472:"AR",473:"OGO",474:"ROSE",475:"BARE",476:"GLEEC",477:"CLR",478:"RNG",479:"OLO",480:"PEXA",481:"MOON",482:"OCEAN",483:"BNT",484:"AMO",485:"FCH",486:"LAT",487:"COIN",488:"VEO",489:"CCA",490:"GFN",491:"BIP",492:"KPG",493:"FIN",494:"BAND",495:"DROP",496:"BHT",497:"LYRA",498:"CS",499:"RUPX",500:"THETA",501:"SOL",502:"THT",503:"CFX",504:"KUMA",505:"HASH",506:"CSPR",507:"EARTH",508:"EGLD",509:"CHI",510:"KOTO",511:"OTC",512:"XRD",513:"SEELEN",514:"AETH",515:"DNA",516:"VEE",517:"SIERRA",518:"LET",519:"BSC",520:"BTCV",521:"ABA",522:"SCC",523:"EDG",524:"AMS",525:"GOSS",526:"BU",527:"GRAM",528:"YAP",529:"SCRT",530:"NOVO",531:"GHOST",532:"HST",533:"PRJ",534:"YOU",535:"XHV",536:"BYND",537:"JOYS",538:"VAL",539:"FLOW",540:"SMESH",541:"SCDO",542:"IQS",543:"BIND",544:"COINEVO",545:"SCRIBE",546:"HYN",547:"BHP",548:"BBC",549:"MKF",550:"XDC",551:"STR",552:"SUM",553:"HBC",555:"BCS",556:"KTS",557:"LKR",558:"TAO",559:"XWC",560:"DEAL",561:"NTY",562:"TOP",564:"AG",565:"CICO",566:"IRIS",567:"NCG",568:"LRG",569:"SERO",570:"BDX",571:"CCXX",572:"SLS",573:"SRM",575:"VIVT",576:"BPS",577:"NKN",578:"ICL",579:"BONO",580:"PLC",581:"DUN",582:"DMCH",583:"CTC",584:"KELP",585:"GBCR",586:"XDAG",587:"PRV",588:"SCAP",589:"TFUEL",590:"GTM",591:"RNL",592:"GRIN",593:"MWC",594:"DOCK",595:"POLYX",596:"DIVER",597:"XEP",598:"APN",599:"TFC",600:"UTE",601:"MTC",602:"NC",603:"XINY",604:"DYN",605:"BUFS",606:"STOS",607:"TON",608:"TAFT",609:"HYDRA",610:"NOR",613:"WCN",614:"OPT",615:"PSWAP",616:"VAL",617:"XOR",618:"SSP",619:"DEI",621:"ZERO",622:"ALPHA",623:"BDECO",624:"NOBL",625:"EAST",626:"KDA",627:"SOUL",628:"LORE",629:"FNR",630:"NEXUS",631:"QTZ",632:"XMA",633:"CALL",634:"VAL",635:"POKT",636:"EMIT",637:"APTOS",638:"ADON",639:"BTSG",640:"LFC",641:"KCS",642:"KCC",643:"AZERO",644:"TREE",645:"LX",646:"XLN",647:"CIC",648:"ZRB",650:"UCO",651:"SFX",652:"SFT",653:"WSFX",654:"USDG",655:"WMP",659:"KOIN",660:"PIRATE",663:"SFRX",666:"ACT",667:"PRKL",668:"SSC",669:"GC",670:"PLGR",671:"MPLGR",672:"KNOX",673:"ZED",674:"CNDL",675:"WLKR",676:"WLKRR",677:"YUNGE",678:"Voken",679:"APL",680:"Evrynet",681:"NENG",682:"CHTA",685:"OAS",686:"KAR",688:"CET",690:"KLV",694:"VTBC",698:"VEIL",699:"GTB",700:"XDAI",701:"COM",702:"CCC",707:"MCOIN",711:"CHC",712:"SERF",713:"XTL",714:"BNB",715:"SIN",716:"DLN",717:"BONTE",718:"PEER",725:"MCX",730:"HEALIOS",731:"BMK",734:"DENTX",737:"ATOP",747:"CFG",750:"XPRT",757:"HONEY",768:"BALLZ",770:"COSA",771:"BR",775:"PLSR",776:"KEY",777:"BTW",780:"PLCUC",781:"PLCUX",782:"PLCU",784:"SUI",786:"UIDD",787:"ACA",788:"BNC",789:"TAU",799:"PDEX",800:"BEET",801:"DST",804:"ZKS",808:"QVT",809:"SDN",810:"ASTR",813:"MEER",818:"VET",819:"REEF",820:"CLO",822:"BDB",827:"ACE",828:"CCN",831:"CRUZ",832:"SAPP",833:"777",834:"KYAN",835:"AZR",836:"CFL",837:"DASHD",838:"TRTT",839:"UCR",840:"PNY",841:"BECN",842:"MONK",843:"SAGA",844:"SUV",845:"ESK",846:"OWO",847:"PEPS",848:"BIR",849:"MOBIC",850:"FLS",852:"DSM",853:"PRCY",858:"HVH",866:"MOB",868:"IF",877:"NAM",880:"LUM",883:"ZBC",886:"ADF",888:"NEO",889:"TOMO",890:"XSEL",896:"LKSC",898:"AS",899:"XEC",900:"LMO",901:"NXT",904:"HNT",907:"FIS",909:"SGE",911:"GERT",916:"META",917:"FRA",919:"CCD",921:"AVN",925:"DIP",928:"GHM",931:"RUNE",945:"UNLOCK",955:"LTP",960:"VKAX",966:"MATIC",968:"UNW",970:"TWINS",977:"TLOS",981:"TAFECO",985:"AU",987:"VCG",988:"XAZAB",989:"AIOZ",990:"CORE",991:"PEC",992:"UNT",993:"XRB",994:"QUAI",995:"CAPS",996:"OKT",997:"SUM",998:"LBTC",999:"BCD",1e3:"BTN",1001:"TT",1002:"BKT",1003:"NODL",1004:"PCOIN",1005:"TAO",1006:"HSK",1007:"FTM",1008:"RPG",1010:"HT",1011:"ELV",1013:"BIC",1020:"EVC",1022:"XRD",1023:"ONE",1024:"ONT",1025:"CZZ",1026:"KEX",1027:"MCM",1032:"BTCR",1042:"MFID",1111:"BBC",1120:"RISE",1122:"CMT",1128:"ETSC",1129:"DFI",1130:"DFI",1137:"$DAG",1145:"CDY",1155:"EFI",1170:"HOO",1234:"ALPH",1284:"GLMR",1285:"MOVR",1298:"WPC",1308:"WEI",1337:"DFC",1397:"HYC",1410:"TENTSLP",1510:"XSC",1512:"AAC",1533:"BEAM",1555:"APC",1616:"ELF",1618:"AUDL",1620:"ATH",1627:"LUME",1642:"NEW",1657:"BTA",1668:"NEOX",1669:"MEWC",1688:"BCX",1729:"XTZ",1776:"LBTC",1777:"BBP",1784:"JPYS",1789:"VEGA",1815:"ADA",1818:"CUBE",1856:"TES",1888:"ZTX",1899:"XEC",1901:"CLC",1919:"VIPS",1926:"CITY",1955:"XX",1977:"XMX",1984:"TRTL",1985:"SLRT",1986:"QTH",1987:"EGEM",1988:"MIRA",1989:"HODL",1990:"PHL",1991:"SC",1996:"MYT",1997:"POLIS",1998:"XMCC",1999:"COLX",2e3:"GIN",2001:"MNP",2002:"MLN",2017:"KIN",2018:"EOSC",2019:"GBT",2020:"PKC",2021:"SKT",2022:"XHT",2048:"MCASH",2049:"TRUE",2086:"KILT",2109:"SAMA",2112:"IoTE",2137:"XRG",2182:"CHZ",2221:"ASK",2301:"QTUM",2302:"ETP",2303:"GXC",2304:"CRP",2305:"ELA",2338:"SNOW",2365:"XIN",2570:"AOA",2718:"NAS",2894:"REOSC",2941:"BND",3003:"LUX",3030:"HBAR",3077:"COS",3276:"CCC",3333:"SXP",3377:"ROI",3381:"DYN",3383:"SEQ",3552:"DEO",3564:"DST",3601:"CY",4040:"FC8",4096:"YEE",4218:"IOTA",4219:"SMR",4242:"AXE",4343:"XYM",4444:"C4E",4919:"XVM",5006:"SBC",5248:"FIC",5353:"HNS",5404:"ISK",5467:"ALTME",5555:"FUND",5757:"STX",5895:"VOW",5920:"SLU",6060:"GO",6174:"MOI",6599:"RSC",6666:"BPA",6688:"SAFE",6779:"COTI",6969:"ROGER",7091:"TOPL",7331:"KLY",7341:"SHFT",7777:"BTV",8e3:"SKY",8192:"PAC",8217:"KLAY",8339:"BTQ",8444:"XCH",8680:"PLMNT",8888:"SBTC",8964:"NULS",8997:"BBC",8998:"JGC",8999:"BTP",9e3:"AVAX",9001:"ARB1",9002:"BOBA",9003:"LOOP",9004:"STRK",9005:"AVAXC",9006:"BSC",9797:"NRG",9888:"BTF",9999:"GOD",1e4:"FO",10226:"RTM",10291:"XRC",10605:"XPI",11111:"ESS",12345:"IPOS",12586:"MINA",13107:"BTY",13108:"YCC",14001:"WAX",15845:"SDGO",16181:"XTX",16754:"ARDR",18e3:"MTR",19165:"SAFE",19167:"FLUX",19169:"RITO",20036:"XND",21004:"C4EI",21888:"PCT",22504:"PWR",25252:"BELL",25718:"CHX",29223:"NEXA",31102:"ESN",33416:"TEO",33878:"BTCS",34952:"BTT",37992:"FXTC",39321:"AMA",42069:"FACT",43028:"AXIV",49262:"EVE",49344:"STASH",52752:"CELO",61616:"TH",65536:"KETH",69420:"GRLC",70007:"GWL",77777:"ZYN",88888:"RYO",99999:"WICC",100500:"HOME",101010:"STC",105105:"STRAX",111111:"KAS",161803:"APTA",200625:"AKA",200665:"GENOM",246529:"ATS",261131:"ZAMA",314159:"PI",333332:"VALUE",333333:"3333",424242:"X42",534352:"SCR",666666:"VITE",888888:"SEA",1048576:"AMAX",1171337:"ILT",1313114:"ETHO",1313500:"XERO",1712144:"LAX",3924011:"EPK",4741444:"HYD",5249353:"BCO",5249354:"BHD",5264462:"PTN",5655640:"VLX",5718350:"WAN",5741564:"WAVES",5741565:"WEST",6382179:"ABC",6517357:"CRM",7562605:"SEM",7567736:"ION",7777777:"FCT",7825266:"WGR",7825267:"OBSR",8163271:"AFS",15118976:"XDS",61717561:"AQUA",88888888:"HATCH",91927009:"kUSD",99999996:"GENS",99999997:"EQ",99999998:"FLUID",99999999:"QKC",608589380:"FVDC"}[o])!==null&&d!==void 0?d:""}return Ge.getCoinSymbol=t,Ge}var oi;function Io(){return oi||(oi=1,function(t){var o=Q&&Q.__createBinding||(Object.create?function(y,v,r,p){p===void 0&&(p=r);var a=Object.getOwnPropertyDescriptor(v,r);(!a||("get"in a?!v.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return v[r]}}),Object.defineProperty(y,p,a)}:function(y,v,r,p){p===void 0&&(p=r),y[p]=v[r]}),d=Q&&Q.__setModuleDefault||(Object.create?function(y,v){Object.defineProperty(y,"default",{enumerable:!0,value:v})}:function(y,v){y.default=v}),_=Q&&Q.__importStar||function(y){if(y&&y.__esModule)return y;var v={};if(y!=null)for(var r in y)r!=="default"&&Object.prototype.hasOwnProperty.call(y,r)&&o(v,y,r);return d(v,y),v},s=Q&&Q.__exportStar||function(y,v){for(var r in y)r!=="default"&&!Object.prototype.hasOwnProperty.call(v,r)&&o(v,y,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.parsePath=t.uuidStringify=t.uuidParse=t.toBuffer=t.toHex=t.uuid=void 0;const i=_(pa());t.uuid=i,s(ya(),t);function e(y){return y===void 0?"":L.Buffer.from(y).toString("hex")}t.toHex=e;function u(y){return L.Buffer.from(y??"","hex")}t.toBuffer=u;function h(y){return L.Buffer.from(i.parse(y))}t.uuidParse=h;function l(y){return i.stringify(y)}t.uuidStringify=l;function f(y){return y.replace(/^m\//i,"").split("/").map(r=>{const p=r.endsWith("'");return{index:Number(p?r.substring(0,r.length-1):r),hardened:p}})}t.parsePath=f}(Q)),Q}var Ye={},si;function Bo(){if(si)return Ye;si=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.pathToKeypath=void 0;const t=bt(),o=d=>{const s=d.replace(/[m|M]\//,"").split("/").map(i=>{const e=parseInt(i.replace("'",""),10),u=i.endsWith("'");return new t.PathComponent({index:e,hardened:u})});return new t.CryptoKeypath(s)};return Ye.pathToKeypath=o,Ye}var ui;function Po(){return ui||(ui=1,function(t){var o=ae&&ae.__createBinding||(Object.create?function(_,s,i,e){e===void 0&&(e=i);var u=Object.getOwnPropertyDescriptor(s,i);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(_,e,u)}:function(_,s,i,e){e===void 0&&(e=i),_[e]=s[i]}),d=ae&&ae.__exportStar||function(_,s){for(var i in _)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&o(s,_,i)};Object.defineProperty(t,"__esModule",{value:!0}),d(Io(),t),d(Bo(),t),d(ya(),t)}(ae)),ae}var vr={},fi;function Ao(){return fi||(fi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.URType=t.UR=void 0;var o=Ar();Object.defineProperty(t,"UR",{enumerable:!0,get:function(){return o.UR}}),function(d){d.CryptoPSBT="crypto-psbt",d.CryptoMultiAccounts="crypto-multi-accounts",d.CryptoHDKey="crypto-hdkey",d.CryptoAccount="crypto-account",d.BtcSignature="btc-signature",d.ArweaveCryptoAccount="arweave-crypto-account",d.EthSignature="eth-signature",d.SolSignature="sol-signature",d.StellarSignature="stellar-signature",d.CosmosSignature="cosmos-signature",d.EvmSignature="evm-signature",d.AptosSignature="aptos-signature",d.CardanoSignature="cardano-signature",d.TronSignature="keystone-sign-result",d.KeystoneSignResult="keystone-sign-result",d.NearSignature="near-signature",d.ArweaveSignature="arweave-signature",d.SuiSignature="sui-signature",d.XrpAccount="bytes",d.XrpSignRequest="bytes",d.XrpSignature="bytes",d.TonSignature="ton-signature"}(t.URType||(t.URType={}))}(vr)),vr}var ci;function Mo(){if(ci)return Re;ci=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.KeystoneTonSDK=void 0;const t=Do(),o=Po(),d=Ao();class _{constructor(i){this.config=i}parseSignature(i){if(i.type!==d.URType.TonSignature)throw new Error("type not match");const e=t.TonSignature.fromCBOR(i.cbor),u=e.getRequestId();return{requestId:L.Buffer.isBuffer(u)?(0,o.uuidStringify)(u):"",signature:(0,o.toHex)(e.getSignature()),origin:e.getOrigin()}}generateSignRequest({requestId:i,signData:e,dataType:u,xfp:h,derivationPath:l,address:f}){var y;return t.TonSignRequest.constructTonRequest((0,o.toBuffer)(e),u,f,i,(y=this.config)===null||y===void 0?void 0:y.origin,h,l).toUR()}}return _.DataType=t.DataType,Re.KeystoneTonSDK=_,Re}var No=Mo(),Ze={},_r={exports:{}},Rr={},mr={},Qe={},vt={},li;function ga(){if(li)return vt;li=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=d;let t;const o=new Uint8Array(16);function d(){if(!t&&(t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(o)}return vt}var de={},Je={},ze={},di;function qo(){if(di)return ze;di=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.default=void 0;var t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return ze.default=t,ze}var hi;function Ot(){if(hi)return Je;hi=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var t=o(qo());function o(s){return s&&s.__esModule?s:{default:s}}function d(s){return typeof s=="string"&&t.default.test(s)}var _=d;return Je.default=_,Je}var pi;function Dt(){if(pi)return de;pi=1,Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0,de.unsafeStringify=_;var t=o(Ot());function o(e){return e&&e.__esModule?e:{default:e}}const d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));function _(e,u=0){return d[e[u+0]]+d[e[u+1]]+d[e[u+2]]+d[e[u+3]]+"-"+d[e[u+4]]+d[e[u+5]]+"-"+d[e[u+6]]+d[e[u+7]]+"-"+d[e[u+8]]+d[e[u+9]]+"-"+d[e[u+10]]+d[e[u+11]]+d[e[u+12]]+d[e[u+13]]+d[e[u+14]]+d[e[u+15]]}function s(e,u=0){const h=_(e,u);if(!(0,t.default)(h))throw TypeError("Stringified UUID is invalid");return h}var i=s;return de.default=i,de}var yi;function Uo(){if(yi)return Qe;yi=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var t=d(ga()),o=Dt();function d(l){return l&&l.__esModule?l:{default:l}}let _,s,i=0,e=0;function u(l,f,y){let v=f&&y||0;const r=f||new Array(16);l=l||{};let p=l.node||_,a=l.clockseq!==void 0?l.clockseq:s;if(p==null||a==null){const O=l.random||(l.rng||t.default)();p==null&&(p=_=[O[0]|1,O[1],O[2],O[3],O[4],O[5]]),a==null&&(a=s=(O[6]<<8|O[7])&16383)}let c=l.msecs!==void 0?l.msecs:Date.now(),n=l.nsecs!==void 0?l.nsecs:e+1;const g=c-i+(n-e)/1e4;if(g<0&&l.clockseq===void 0&&(a=a+1&16383),(g<0||c>i)&&l.nsecs===void 0&&(n=0),n>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=c,e=n,s=a,c+=122192928e5;const R=((c&268435455)*1e4+n)%4294967296;r[v++]=R>>>24&255,r[v++]=R>>>16&255,r[v++]=R>>>8&255,r[v++]=R&255;const E=c/4294967296*1e4&268435455;r[v++]=E>>>8&255,r[v++]=E&255,r[v++]=E>>>24&15|16,r[v++]=E>>>16&255,r[v++]=a>>>8|128,r[v++]=a&255;for(let O=0;O<6;++O)r[v+O]=p[O];return f||(0,o.unsafeStringify)(r)}var h=u;return Qe.default=h,Qe}var et={},te={},tt={},gi;function va(){if(gi)return tt;gi=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=void 0;var t=o(Ot());function o(s){return s&&s.__esModule?s:{default:s}}function d(s){if(!(0,t.default)(s))throw TypeError("Invalid UUID");let i;const e=new Uint8Array(16);return e[0]=(i=parseInt(s.slice(0,8),16))>>>24,e[1]=i>>>16&255,e[2]=i>>>8&255,e[3]=i&255,e[4]=(i=parseInt(s.slice(9,13),16))>>>8,e[5]=i&255,e[6]=(i=parseInt(s.slice(14,18),16))>>>8,e[7]=i&255,e[8]=(i=parseInt(s.slice(19,23),16))>>>8,e[9]=i&255,e[10]=(i=parseInt(s.slice(24,36),16))/1099511627776&255,e[11]=i/4294967296&255,e[12]=i>>>24&255,e[13]=i>>>16&255,e[14]=i>>>8&255,e[15]=i&255,e}var _=d;return tt.default=_,tt}var vi;function _a(){if(vi)return te;vi=1,Object.defineProperty(te,"__esModule",{value:!0}),te.URL=te.DNS=void 0,te.default=e;var t=Dt(),o=d(va());function d(u){return u&&u.__esModule?u:{default:u}}function _(u){u=unescape(encodeURIComponent(u));const h=[];for(let l=0;l<u.length;++l)h.push(u.charCodeAt(l));return h}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";te.DNS=s;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";te.URL=i;function e(u,h,l){function f(y,v,r,p){var a;if(typeof y=="string"&&(y=_(y)),typeof v=="string"&&(v=(0,o.default)(v)),((a=v)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+y.length);if(c.set(v),c.set(y,v.length),c=l(c),c[6]=c[6]&15|h,c[8]=c[8]&63|128,r){p=p||0;for(let n=0;n<16;++n)r[p+n]=c[n];return r}return(0,t.unsafeStringify)(c)}try{f.name=u}catch{}return f.DNS=s,f.URL=i,f}return te}var rt={},_i;function Lo(){if(_i)return rt;_i=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0;function t(r){if(typeof r=="string"){const p=unescape(encodeURIComponent(r));r=new Uint8Array(p.length);for(let a=0;a<p.length;++a)r[a]=p.charCodeAt(a)}return o(_(s(r),r.length*8))}function o(r){const p=[],a=r.length*32,c="0123456789abcdef";for(let n=0;n<a;n+=8){const g=r[n>>5]>>>n%32&255,R=parseInt(c.charAt(g>>>4&15)+c.charAt(g&15),16);p.push(R)}return p}function d(r){return(r+64>>>9<<4)+14+1}function _(r,p){r[p>>5]|=128<<p%32,r[d(p)-1]=p;let a=1732584193,c=-271733879,n=-1732584194,g=271733878;for(let R=0;R<r.length;R+=16){const E=a,O=c,B=n,m=g;a=h(a,c,n,g,r[R],7,-680876936),g=h(g,a,c,n,r[R+1],12,-389564586),n=h(n,g,a,c,r[R+2],17,606105819),c=h(c,n,g,a,r[R+3],22,-1044525330),a=h(a,c,n,g,r[R+4],7,-176418897),g=h(g,a,c,n,r[R+5],12,1200080426),n=h(n,g,a,c,r[R+6],17,-1473231341),c=h(c,n,g,a,r[R+7],22,-45705983),a=h(a,c,n,g,r[R+8],7,1770035416),g=h(g,a,c,n,r[R+9],12,-1958414417),n=h(n,g,a,c,r[R+10],17,-42063),c=h(c,n,g,a,r[R+11],22,-1990404162),a=h(a,c,n,g,r[R+12],7,1804603682),g=h(g,a,c,n,r[R+13],12,-40341101),n=h(n,g,a,c,r[R+14],17,-1502002290),c=h(c,n,g,a,r[R+15],22,1236535329),a=l(a,c,n,g,r[R+1],5,-165796510),g=l(g,a,c,n,r[R+6],9,-1069501632),n=l(n,g,a,c,r[R+11],14,643717713),c=l(c,n,g,a,r[R],20,-373897302),a=l(a,c,n,g,r[R+5],5,-701558691),g=l(g,a,c,n,r[R+10],9,38016083),n=l(n,g,a,c,r[R+15],14,-660478335),c=l(c,n,g,a,r[R+4],20,-405537848),a=l(a,c,n,g,r[R+9],5,568446438),g=l(g,a,c,n,r[R+14],9,-1019803690),n=l(n,g,a,c,r[R+3],14,-187363961),c=l(c,n,g,a,r[R+8],20,1163531501),a=l(a,c,n,g,r[R+13],5,-1444681467),g=l(g,a,c,n,r[R+2],9,-51403784),n=l(n,g,a,c,r[R+7],14,1735328473),c=l(c,n,g,a,r[R+12],20,-1926607734),a=f(a,c,n,g,r[R+5],4,-378558),g=f(g,a,c,n,r[R+8],11,-2022574463),n=f(n,g,a,c,r[R+11],16,1839030562),c=f(c,n,g,a,r[R+14],23,-35309556),a=f(a,c,n,g,r[R+1],4,-1530992060),g=f(g,a,c,n,r[R+4],11,1272893353),n=f(n,g,a,c,r[R+7],16,-155497632),c=f(c,n,g,a,r[R+10],23,-1094730640),a=f(a,c,n,g,r[R+13],4,681279174),g=f(g,a,c,n,r[R],11,-358537222),n=f(n,g,a,c,r[R+3],16,-722521979),c=f(c,n,g,a,r[R+6],23,76029189),a=f(a,c,n,g,r[R+9],4,-640364487),g=f(g,a,c,n,r[R+12],11,-421815835),n=f(n,g,a,c,r[R+15],16,530742520),c=f(c,n,g,a,r[R+2],23,-995338651),a=y(a,c,n,g,r[R],6,-198630844),g=y(g,a,c,n,r[R+7],10,1126891415),n=y(n,g,a,c,r[R+14],15,-1416354905),c=y(c,n,g,a,r[R+5],21,-57434055),a=y(a,c,n,g,r[R+12],6,1700485571),g=y(g,a,c,n,r[R+3],10,-1894986606),n=y(n,g,a,c,r[R+10],15,-1051523),c=y(c,n,g,a,r[R+1],21,-2054922799),a=y(a,c,n,g,r[R+8],6,1873313359),g=y(g,a,c,n,r[R+15],10,-30611744),n=y(n,g,a,c,r[R+6],15,-1560198380),c=y(c,n,g,a,r[R+13],21,1309151649),a=y(a,c,n,g,r[R+4],6,-145523070),g=y(g,a,c,n,r[R+11],10,-1120210379),n=y(n,g,a,c,r[R+2],15,718787259),c=y(c,n,g,a,r[R+9],21,-343485551),a=i(a,E),c=i(c,O),n=i(n,B),g=i(g,m)}return[a,c,n,g]}function s(r){if(r.length===0)return[];const p=r.length*8,a=new Uint32Array(d(p));for(let c=0;c<p;c+=8)a[c>>5]|=(r[c/8]&255)<<c%32;return a}function i(r,p){const a=(r&65535)+(p&65535);return(r>>16)+(p>>16)+(a>>16)<<16|a&65535}function e(r,p){return r<<p|r>>>32-p}function u(r,p,a,c,n,g){return i(e(i(i(p,r),i(c,g)),n),a)}function h(r,p,a,c,n,g,R){return u(p&a|~p&c,r,p,n,g,R)}function l(r,p,a,c,n,g,R){return u(p&c|a&~c,r,p,n,g,R)}function f(r,p,a,c,n,g,R){return u(p^a^c,r,p,n,g,R)}function y(r,p,a,c,n,g,R){return u(a^(p|~c),r,p,n,g,R)}var v=t;return rt.default=v,rt}var Ri;function xo(){if(Ri)return et;Ri=1,Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var t=d(_a()),o=d(Lo());function d(i){return i&&i.__esModule?i:{default:i}}var s=(0,t.default)("v3",48,o.default);return et.default=s,et}var nt={},it={},mi;function Ko(){if(mi)return it;mi=1,Object.defineProperty(it,"__esModule",{value:!0}),it.default=void 0;var o={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return it.default=o,it}var Ti;function Ho(){if(Ti)return nt;Ti=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=void 0;var t=_(Ko()),o=_(ga()),d=Dt();function _(e){return e&&e.__esModule?e:{default:e}}function s(e,u,h){if(t.default.randomUUID&&!u&&!e)return t.default.randomUUID();e=e||{};const l=e.random||(e.rng||o.default)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,u){h=h||0;for(let f=0;f<16;++f)u[h+f]=l[f];return u}return(0,d.unsafeStringify)(l)}var i=s;return nt.default=i,nt}var at={},ot={},Ci;function jo(){if(Ci)return ot;Ci=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;function t(s,i,e,u){switch(s){case 0:return i&e^~i&u;case 1:return i^e^u;case 2:return i&e^i&u^e&u;case 3:return i^e^u}}function o(s,i){return s<<i|s>>>32-i}function d(s){const i=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){const f=unescape(encodeURIComponent(s));s=[];for(let y=0;y<f.length;++y)s.push(f.charCodeAt(y))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);const u=s.length/4+2,h=Math.ceil(u/16),l=new Array(h);for(let f=0;f<h;++f){const y=new Uint32Array(16);for(let v=0;v<16;++v)y[v]=s[f*64+v*4]<<24|s[f*64+v*4+1]<<16|s[f*64+v*4+2]<<8|s[f*64+v*4+3];l[f]=y}l[h-1][14]=(s.length-1)*8/Math.pow(2,32),l[h-1][14]=Math.floor(l[h-1][14]),l[h-1][15]=(s.length-1)*8&4294967295;for(let f=0;f<h;++f){const y=new Uint32Array(80);for(let n=0;n<16;++n)y[n]=l[f][n];for(let n=16;n<80;++n)y[n]=o(y[n-3]^y[n-8]^y[n-14]^y[n-16],1);let v=e[0],r=e[1],p=e[2],a=e[3],c=e[4];for(let n=0;n<80;++n){const g=Math.floor(n/20),R=o(v,5)+t(g,r,p,a)+c+i[g]+y[n]>>>0;c=a,a=p,p=o(r,30)>>>0,r=v,v=R}e[0]=e[0]+v>>>0,e[1]=e[1]+r>>>0,e[2]=e[2]+p>>>0,e[3]=e[3]+a>>>0,e[4]=e[4]+c>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var _=d;return ot.default=_,ot}var Si;function Fo(){if(Si)return at;Si=1,Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var t=d(_a()),o=d(jo());function d(i){return i&&i.__esModule?i:{default:i}}var s=(0,t.default)("v5",80,o.default);return at.default=s,at}var st={},bi;function ko(){if(bi)return st;bi=1,Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var t="00000000-0000-0000-0000-000000000000";return st.default=t,st}var ut={},wi;function Xo(){if(wi)return ut;wi=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0;var t=o(Ot());function o(s){return s&&s.__esModule?s:{default:s}}function d(s){if(!(0,t.default)(s))throw TypeError("Invalid UUID");return parseInt(s.slice(14,15),16)}var _=d;return ut.default=_,ut}var Ei;function $o(){return Ei||(Ei=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return e.default}});var o=f(Uo()),d=f(xo()),_=f(Ho()),s=f(Fo()),i=f(ko()),e=f(Xo()),u=f(Ot()),h=f(Dt()),l=f(va());function f(y){return y&&y.__esModule?y:{default:y}}}(mr)),mr}var Oi;function Vo(){return Oi||(Oi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var o=wa(),d=$o();const _={TRON_SIGN_REQUEST:new o.RegistryType("ton-sign-request",7201),TRON_SIGNATURE:new o.RegistryType("ton-signature",7202)},{decodeToDataItem:s,RegistryTypes:i}=o.extend;var e,u;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.derivationPath=4]="derivationPath",r[r.address=5]="address",r[r.origin=6]="origin"})(e||(e={})),(u=t.DataType||(t.DataType={}))[u.TRANSACTION=1]="TRANSACTION",u[u.SIGN_PROOF=2]="SIGN_PROOF";class h extends o.RegistryItem{constructor(p){super(),this.getRegistryType=()=>_.TRON_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath?this.derivationPath.getPath():void 0,this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getDataType=()=>this.dataType,this.toDataItem=()=>{const a={};if(a[e.signData]=this.signData,a[e.dataType]=this.dataType,this.derivationPath){const c=this.derivationPath.toDataItem();c.setTag(this.derivationPath.getRegistryType().getTag()),a[e.derivationPath]=c}return this.requestId&&(a[e.requestId]=new o.DataItem(this.requestId,i.UUID.getTag())),this.address&&(a[e.address]=this.address),this.origin&&(a[e.origin]=this.origin),new o.DataItem(a)},this.requestId=p.requestId,this.signData=p.signData,this.derivationPath=p.derivationPath,this.address=p.address,this.origin=p.origin,this.dataType=p.dataType}static parsePath(p,a){const c=p.replace(/[m|M]\//,"").split("/").map(n=>{const g=parseInt(n.replace("'",""));let R=!1;return n.endsWith("'")&&(R=!0),new o.PathComponent({index:g,hardened:R})});return new o.CryptoKeypath(c,Tr.Buffer.from(a,"hex"))}static constructTonRequest(p,a,c,n,g,R,E){return new h({requestId:n?Tr.Buffer.from(d.parse(n)):void 0,signData:p,dataType:a,derivationPath:E&&R?h.parsePath(E,R):void 0,address:c,origin:g})}}h.fromDataItem=r=>{const p=r.getData(),a=p[e.requestId]?p[e.requestId].getData():void 0,c=p[e.derivationPath]?o.CryptoKeypath.fromDataItem(p[e.derivationPath]):void 0;return new h({requestId:a,signData:p[e.signData],dataType:p[e.dataType],derivationPath:c,address:p[e.address],origin:p[e.origin]})},h.fromCBOR=r=>{const p=s(r);return h.fromDataItem(p)};const{RegistryTypes:l,decodeToDataItem:f}=o.extend;var y;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.origin=3]="origin"})(y||(y={}));class v extends o.RegistryItem{constructor(p,a,c){super(),this.getRegistryType=()=>_.TRON_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const n={};return this.requestId&&(n[y.requestId]=new o.DataItem(this.requestId,l.UUID.getTag())),this.origin&&(n[y.origin]=this.origin),n[y.signature]=this.signature,new o.DataItem(n)},this.signature=p,this.requestId=a,this.origin=c}}v.fromDataItem=r=>{const p=r.getData(),a=p[y.signature];let c,n;return p[y.requestId]&&(c=p[y.requestId].getData()),p[y.origin]&&(n=p[y.origin]),new v(a,c,n)},v.fromCBOR=r=>{const p=f(r);return v.fromDataItem(p)},o.patchTags(Object.values(_).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(o).forEach(function(r){r!=="default"&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return o[r]}})}),t.TonSignRequest=h,t.TonSignature=v}(Rr)),Rr}var Di;function Wo(){return Di||(Di=1,_r.exports=Vo()),_r.exports}var Ii;function Go(){if(Ii)return Ze;Ii=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.KeystoneTonSDK=void 0;const t=Wo(),o=Ea(),d=Oa();class _{constructor(i){this.config=i}parseSignature(i){if(i.type!==d.URType.TonSignature)throw new Error("type not match");const e=t.TonSignature.fromCBOR(i.cbor),u=e.getRequestId();return{requestId:Tr.Buffer.isBuffer(u)?(0,o.uuidStringify)(u):"",signature:(0,o.toHex)(e.getSignature()),origin:e.getOrigin()}}generateSignRequest({requestId:i,signData:e,dataType:u,xfp:h,derivationPath:l,address:f}){var y;return t.TonSignRequest.constructTonRequest((0,o.toBuffer)(e),u,f,i,(y=this.config)===null||y===void 0?void 0:y.origin,h,l).toUR()}}return _.DataType=t.DataType,Ze.KeystoneTonSDK=_,Ze}var Yo=Go();const Zo=(t,o,d,_)=>new Yo.KeystoneTonSDK({origin:"TonKeeper"}).generateSignRequest({signData:t.toString("hex"),dataType:o==="transaction"?1:2,address:d,xfp:_?.mfp,derivationPath:_?.path}),Qo=(t,o)=>{J.useEffect(()=>(t.uiEvents.on("navigate",o),()=>{t.uiEvents.off("navigate",o)}),[t,o])},Jo=({sdk:t,transactionParams:o,onClose:d,handleResult:_})=>{const s=Da(),{t:i}=Ia(),{extension:e}=Ba();Qo(t,d);const u=J.useCallback(f=>{const y=new No.KeystoneTonSDK().parseSignature(f);_(y.signature)},[]),h=Pa(null,u),l=J.useMemo(()=>Zo(o.message,o.messageType,Aa(s.rawAddress),o.pathInfo),[o]);return oe.jsxs(Ma,{onSubmit:f=>{f.preventDefault(),f.stopPropagation(),h()},children:[oe.jsx(xa,{title:i("keystone_sign_title"),description:i("keystone_sign_subtitle")}),oe.jsx(Ka,{extension:e,margin:!0,children:oe.jsx(Ha,{data:l})}),oe.jsx(Na,{primary:!0,size:"large",fullWidth:!0,type:"submit",children:i("signer_scan_result")})]})},ys=()=>{const t=qa(),[o,d]=J.useState(void 0),[_,s]=J.useState(void 0),i=J.useCallback(()=>{d(void 0),s(void 0)},[]),e=J.useCallback(l=>{t.uiEvents.emit("response",{method:"response",id:_,params:l}),i()},[t,_,i]),u=J.useCallback(()=>{_&&t.uiEvents.emit("response",{method:"response",id:_,params:new Error("Cancel auth request")}),i()},[_,t,i]);J.useEffect(()=>{const l=f=>{d(f.params),s(f.id)};return t.uiEvents.on("keystone",l),()=>{t.uiEvents.off("keystone",l)}},[t]);const h=J.useCallback(()=>{if(!(!o||!_))return oe.jsx(Jo,{sdk:t,transactionParams:o,onClose:u,handleResult:e})},[t,o,_,u,e]);return oe.jsx(Ua,{isOpen:o!=null&&_!=null,handleClose:u,children:h})};export{Jo as SignerContent,ys as default};
