{"version":3,"file":"content/content.bundle.js","mappings":"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","sources":["webpack://@reclaimprotocol/browser-extension-sdk/webpack/universalModuleDefinition","webpack://@reclaimprotocol/browser-extension-sdk/./node_modules/ieee754/index.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/websocket-polyfill.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/logger/debugLogger.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/logger/index.js","webpack://@reclaimprotocol/browser-extension-sdk/./node_modules/buffer/index.js","webpack://@reclaimprotocol/browser-extension-sdk/./node_modules/process/browser.js","webpack://@reclaimprotocol/browser-extension-sdk/./node_modules/base64-js/index.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/logger/LogEntry.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/logger/LoggerService.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/logger/constants.js","webpack://@reclaimprotocol/browser-extension-sdk/webpack/bootstrap","webpack://@reclaimprotocol/browser-extension-sdk/webpack/runtime/compat get default export","webpack://@reclaimprotocol/browser-extension-sdk/webpack/runtime/define property getters","webpack://@reclaimprotocol/browser-extension-sdk/webpack/runtime/harmony module decorator","webpack://@reclaimprotocol/browser-extension-sdk/webpack/runtime/hasOwnProperty shorthand","webpack://@reclaimprotocol/browser-extension-sdk/webpack/runtime/make namespace object","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/polyfills.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/constants/constants.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/constants/interfaces.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/content/components/reclaim-provider-verification-popup.js","webpack://@reclaimprotocol/browser-extension-sdk/./node_modules/jsonpath-plus/dist/index-browser-esm.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/claim-creator/params-extractor-utils.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/claim-creator/network-filter.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/claim-creator/params-extractor.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/utils/offscreen-manager.js","webpack://@reclaimprotocol/browser-extension-sdk/./src/content/content.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReclaimContent\"] = factory();\n\telse\n\t\troot[\"ReclaimContent\"] = factory();\n})(self, () => {\nreturn ","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/**\n * WebSocket Polyfill\n *\n * This module provides a WebSocket polyfill that uses the browser's native WebSocket when available\n * or provides a mock implementation for background scripts where window is not available.\n * It ensures compatibility with Node.js-style WebSocket usage patterns.\n */\n\n// Check if we're in a context with window (browser/content script) or not (background script)\nconst isBackgroundContext = typeof window === \"undefined\";\nimport { debugLogger, DebugLogType } from \"./logger\";\n\n// Create either a real WebSocket wrapper or a mock implementation\nlet WebSocketPolyfill;\n\nif (!isBackgroundContext) {\n  // Browser context - use the native WebSocket\n  const BrowserWebSocket = window.WebSocket;\n\n  WebSocketPolyfill = class extends BrowserWebSocket {\n    constructor(url, protocols) {\n      debugLogger.info(\n        DebugLogType.POLYFILLS,\n        \"[WEBSOCKET-POLYFILL] Creating WebSocket with URL:\",\n        url,\n      );\n      super(url, protocols);\n\n      // Add event handling compatibility\n      this.addEventListener(\"error\", (event) => {\n        if (typeof this.onerror === \"function\") {\n          this.onerror(event);\n        }\n      });\n\n      this.addEventListener(\"open\", (event) => {\n        if (typeof this.onopen === \"function\") {\n          this.onopen(event);\n        }\n      });\n\n      this.addEventListener(\"close\", (event) => {\n        if (typeof this.onclose === \"function\") {\n          this.onclose(event);\n        }\n      });\n\n      this.addEventListener(\"message\", (event) => {\n        if (typeof this.onmessage === \"function\") {\n          this.onmessage(event);\n        }\n      });\n    }\n\n    // Add a promise-based send method expected by some libraries\n    sendPromise(data) {\n      return new Promise((resolve, reject) => {\n        try {\n          this.send(data);\n          resolve();\n        } catch (error) {\n          reject(error);\n        }\n      });\n    }\n  };\n\n  debugLogger.info(\n    DebugLogType.POLYFILLS,\n    \"[WEBSOCKET-POLYFILL] Using browser WebSocket implementation\",\n  );\n} else {\n  // Background script context - create a mock implementation\n  WebSocketPolyfill = class {\n    constructor(url, protocols) {\n      debugLogger.info(\n        DebugLogType.POLYFILLS,\n        \"[WEBSOCKET-POLYFILL] Creating mock WebSocket for background context\",\n      );\n      this.url = url;\n      this.protocols = protocols;\n      this.readyState = 3; // CLOSED\n\n      // Simulate being closed immediately\n      setTimeout(() => {\n        if (typeof this.onclose === \"function\") {\n          this.onclose({ code: 1000, reason: \"WebSockets not supported in background context\" });\n        }\n      }, 0);\n    }\n\n    // No-op methods\n    send() {\n      debugLogger.warn(\n        DebugLogType.POLYFILLS,\n        \"[WEBSOCKET-POLYFILL] Cannot use WebSockets in background context\",\n      );\n      throw new Error(\"WebSockets are not available in background context\");\n    }\n\n    close() {\n      // Already closed, no-op\n    }\n\n    sendPromise() {\n      return Promise.reject(new Error(\"WebSockets are not available in background context\"));\n    }\n\n    addEventListener() {\n      // No-op\n    }\n\n    removeEventListener() {\n      // No-op\n    }\n  };\n\n  debugLogger.info(\n    DebugLogType.POLYFILLS,\n    \"[WEBSOCKET-POLYFILL] Using mock WebSocket implementation for background context\",\n  );\n}\n\n// Export the WebSocket class and constructor\nexport const WebSocket = WebSocketPolyfill;\nexport default WebSocketPolyfill;\n\n// For CommonJS compatibility\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports = WebSocketPolyfill;\n  module.exports.WebSocket = WebSocketPolyfill;\n  module.exports.default = WebSocketPolyfill;\n}\n\ndebugLogger.info(DebugLogType.POLYFILLS, \"[WEBSOCKET-POLYFILL] WebSocket polyfill initialized\");\n","// Local debug logger for development\n// Usage: import { debugLogger, DebugLogType } from './debugLogger';\n\nexport const DebugLogType = Object.freeze({\n  BACKGROUND: \"background\",\n  CONTENT: \"content\",\n  POPUP: \"popup\",\n  INIT: \"init\",\n  VERIFICATION: \"verification\",\n  FETCH: \"fetch\",\n  PROVIDER: \"provider\",\n  CLAIM: \"claim\",\n  PROOF: \"proof\",\n  OFFSCREEN: \"offscreen\",\n  POLYFILLS: \"polyfills\",\n  SESSION_TIMER: \"session-timer\",\n});\n\nclass DebugLogger {\n  constructor() {\n    this.enabled = true;\n    this.allowedTypes = new Set(); // If empty, allow all types\n  }\n\n  enable() {\n    this.enabled = true;\n  }\n\n  disable() {\n    this.enabled = false;\n  }\n\n  setTypes(typesArray) {\n    if (!Array.isArray(typesArray)) return;\n    this.allowedTypes = new Set(typesArray);\n  }\n\n  clearTypes() {\n    this.allowedTypes.clear();\n  }\n\n  log(type, ...args) {\n    if (!this.enabled) return;\n    if (this.allowedTypes.size > 0 && !this.allowedTypes.has(type)) return;\n    const color = DebugLogger.typeColor(type);\n    // eslint-disable-next-line no-console\n    console.log(`%c[${type}][INFO]`, `color: ${color}; font-weight: bold;`, ...args);\n  }\n\n  info(type, ...args) {\n    if (!this.enabled) return;\n    if (this.allowedTypes.size > 0 && !this.allowedTypes.has(type)) return;\n    const color = DebugLogger.typeColor(type);\n    // eslint-disable-next-line no-console\n    console.info(`%c[${type}][INFO]`, `color: ${color}; font-weight: bold;`, ...args);\n  }\n\n  warn(type, ...args) {\n    if (!this.enabled) return;\n    if (this.allowedTypes.size > 0 && !this.allowedTypes.has(type)) return;\n    const color = DebugLogger.typeColor(type, \"warn\");\n    // eslint-disable-next-line no-console\n    console.warn(`%c[${type}][WARN]`, `color: ${color}; font-weight: bold;`, ...args);\n  }\n\n  error(type, ...args) {\n    if (!this.enabled) return;\n    if (this.allowedTypes.size > 0 && !this.allowedTypes.has(type)) return;\n    const color = DebugLogger.typeColor(type, \"error\");\n    // eslint-disable-next-line no-console\n    console.error(`%c[${type}][ERROR]`, `color: ${color}; font-weight: bold;`, ...args);\n  }\n\n  static typeColor(type, level = \"info\") {\n    // Assign colors to types for better visibility\n    const colors = {\n      background: \"#0074D9\",\n      content: \"#2ECC40\",\n      popup: \"#FF851B\",\n      init: \"#B10DC9\",\n      verification: \"#FF4136\",\n      fetch: \"#39CCCC\",\n      provider: \"#FFDC00\",\n      claim: \"#7FDBFF\",\n      proof: \"#85144b\",\n      offscreen: \"#AAAAAA\",\n      polyfills: \"#0074D9\",\n      \"session-timer\": \"#2ECC40\",\n    };\n    const levelColors = {\n      info: \"\", // default, use type color\n      warn: \"#FFA500\", // orange\n      error: \"#FF0000\", // red\n    };\n    // Try to match a known type, else use gray\n    const key = Object.keys(colors).find((k) => type.toLowerCase().includes(k));\n    let baseColor = colors[key] || \"#888888\";\n    if (level !== \"info\") {\n      baseColor = levelColors[level] || baseColor;\n    }\n    return baseColor;\n  }\n}\n\nexport const debugLogger = new DebugLogger();\n","import { loggerService, createContextLogger } from \"./LoggerService\";\nimport { debugLogger } from \"./debugLogger\";\n\n// Enable debugLogger in development, disable in production\nif (typeof process !== \"undefined\" && process.env && process.env.NODE_ENV === \"production\") {\n  debugLogger.disable();\n} else {\n  debugLogger.enable();\n}\nexport { DebugLogType } from \"./debugLogger\";\nexport { debugLogger };\n\nexport { LogEntry } from \"./LogEntry\";\nexport { loggerService };\nexport { LOGGING_ENDPOINTS, LOG_TYPES } from \"./constants\";\n\n/**\n * Convenience function to log a message.\n *\n * @param {string} message - The message to log\n * @param {string} type - The type/category of the log\n * @param {string} sessionId - The session ID\n * @param {string} providerId - The provider ID\n * @param {string} appId - The application ID\n */\nexport function log(message, type, sessionId, providerId, appId) {\n  const logger = createContextLogger({\n    sessionId: sessionId || \"unknown\",\n    providerId: providerId || \"unknown\",\n    appId: appId || \"unknown\",\n    source: \"reclaim-extension-sdk\",\n    type: type,\n  });\n\n  return logger.info(message);\n}\n\n/**\n * Convenience function to log an error.\n *\n * @param {Error} error - The error to log\n * @param {string} type - The type/category of the log\n * @param {string} sessionId - The session ID\n * @param {string} providerId - The provider ID\n * @param {string} appId - The application ID\n * @param {string} [message] - Optional message to include with the error\n */\nexport function logError(error, type, sessionId, providerId, appId, message) {\n  const logger = createContextLogger({\n    sessionId: sessionId || \"unknown\",\n    providerId: providerId || \"unknown\",\n    appId: appId || \"unknown\",\n    source: \"reclaim-extension-sdk\",\n    type: type,\n  });\n  return logger.error(message, { error });\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/**\n * Represents a log entry to be sent to the logging service.\n */\nexport class LogEntry {\n  constructor({\n    sessionId,\n    providerId,\n    appId,\n    logLine,\n    type,\n    level,\n    sensitive = false,\n    source,\n    tabId,\n    url,\n    meta,\n    time = null,\n    deviceId,\n  }) {\n    this.sessionId = sessionId;\n    this.providerId = providerId;\n    this.appId = appId;\n    this.logLine = logLine;\n    this.type = type;\n    this.level = level;\n    this.sensitive = sensitive;\n    this.source = source;\n    this.tabId = tabId;\n    this.url = url;\n    this.meta = meta || undefined;\n    this.time = time || new Date();\n    this.deviceId = deviceId;\n  }\n\n  toJson() {\n    return {\n      logLine: this.logLine,\n      ts: LogEntry.fromDateTimeToTimeStamp(this.time),\n      type: this.type,\n      sessionId: this.sessionId,\n      providerId: this.providerId,\n      appId: this.appId,\n      // Optional extra fields (server can ignore if unused)\n      level: this.level,\n      sensitive: this.sensitive,\n      source: this.source,\n      tabId: this.tabId,\n      url: this.url,\n      meta: this.meta,\n      deviceId: this.deviceId,\n    };\n  }\n\n  static fromDateTimeToTimeStamp(dateTime) {\n    const ms = dateTime.getTime();\n    return (ms * 1000000).toString();\n  }\n}\n","import { LOGGING_ENDPOINTS, DEFAULT_LOG_CONFIG, LOG_LEVEL } from \"./constants\";\nimport { LogEntry } from \"./LogEntry\";\n\nexport class LoggerService {\n  constructor() {\n    this.logs = [];\n    this.isSending = false;\n    this.maxBatchSize = 20;\n    this.flushInterval = 5000;\n    this.flushIntervalId = null;\n\n    this.config = { ...DEFAULT_LOG_CONFIG };\n    this.deviceId = null;\n\n    this.startFlushInterval();\n  }\n\n  setConfig(partial) {\n    this.config = { ...this.config, ...partial };\n  }\n\n  startFlushInterval() {\n    if (this.flushIntervalId) clearInterval(this.flushIntervalId);\n    this.flushIntervalId = setInterval(() => this.flush(), this.flushInterval);\n  }\n\n  stopFlushInterval() {\n    if (this.flushIntervalId) {\n      clearInterval(this.flushIntervalId);\n      this.flushIntervalId = null;\n    }\n  }\n\n  // Ensure stable deviceId across batches\n  async getDeviceLoggingId() {\n    if (this.deviceId) return this.deviceId;\n    try {\n      if (typeof chrome !== \"undefined\" && chrome.storage) {\n        const result = await chrome.storage.local.get([\"reclaim_device_id\"]);\n        if (result.reclaim_device_id) {\n          this.deviceId = result.reclaim_device_id;\n          return this.deviceId;\n        }\n      }\n    } catch {}\n    this.deviceId =\n      typeof crypto !== \"undefined\" && crypto.randomUUID ? crypto.randomUUID() : String(Date.now());\n    try {\n      if (typeof chrome !== \"undefined\" && chrome.storage) {\n        await chrome.storage.local.set({ reclaim_device_id: this.deviceId });\n      }\n    } catch {}\n    return this.deviceId;\n  }\n\n  addLog(logEntry) {\n    this.logs.push(logEntry);\n    if (this.logs.length >= this.maxBatchSize) this.flush();\n  }\n\n  shouldLogToConsole(level, sensitive) {\n    if (!this.config.consoleEnabled) return false;\n    if (this.config.debugMode) return true; // print everything in debug mode\n    if (sensitive && !this.config.includeSensitiveToConsole) return false;\n    return level >= this.config.consoleLevel;\n  }\n\n  shouldSendToBackend(level, sensitive) {\n    if (!this.config.backendEnabled) return false;\n    if (sensitive && !this.config.includeSensitiveToBackend) return false;\n    return level >= this.config.backendLevel;\n  }\n\n  emitToConsole(level, message, meta) {\n    const line = meta ? `${message} ${JSON.stringify(meta)}` : message;\n    switch (level) {\n      case LOG_LEVEL.ERROR:\n        console.error(line);\n        break;\n      case LOG_LEVEL.WARN:\n        console.warn(line);\n        break;\n      case LOG_LEVEL.INFO:\n        console.info(line);\n        break;\n      default:\n        console.log(line);\n    }\n  }\n\n  logWithLevel(\n    level,\n    { sessionId, providerId, appId, message, type, sensitive = false, meta, source, tabId, url },\n  ) {\n    const src = source || this.config.source;\n\n    if (this.shouldLogToConsole(level, sensitive)) {\n      this.emitToConsole(level, message, meta);\n    }\n\n    if (this.shouldSendToBackend(level, sensitive)) {\n      const entry = new LogEntry({\n        sessionId,\n        providerId,\n        appId,\n        logLine: message,\n        type,\n        level,\n        sensitive,\n        source: src,\n        tabId,\n        url,\n        meta,\n        time: new Date(),\n      });\n      this.addLog(entry);\n    }\n  }\n\n  debug(opts) {\n    this.logWithLevel(LOG_LEVEL.DEBUG, opts);\n  }\n  info(opts) {\n    this.logWithLevel(LOG_LEVEL.INFO, opts);\n  }\n  warn(opts) {\n    this.logWithLevel(LOG_LEVEL.WARN, opts);\n  }\n  error(opts) {\n    this.logWithLevel(LOG_LEVEL.ERROR, opts);\n  }\n\n  async flush() {\n    if (this.logs.length === 0 || this.isSending) return;\n\n    const logsToSend = [...this.logs];\n    this.logs = [];\n\n    try {\n      this.isSending = true;\n      await this.sendLogs(logsToSend);\n    } catch (error) {\n      console.error(\"Error flushing logs:\", error);\n      this.logs = [...this.logs, ...logsToSend];\n    } finally {\n      this.isSending = false;\n    }\n  }\n\n  async sendLogs(entries) {\n    if (!entries?.length) return;\n\n    const deviceId = await this.getDeviceLoggingId();\n    const formattedLogs = entries.map((e) => {\n      const obj = e.toJson();\n      obj.deviceId = obj.deviceId || deviceId; // ensure present for server grouping\n      return obj;\n    });\n\n    const body = JSON.stringify({\n      logs: formattedLogs,\n      source: this.config.source,\n      deviceId,\n    });\n\n    const res = await fetch(LOGGING_ENDPOINTS.DIAGNOSTIC_LOGGING, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body,\n    });\n\n    if (!res.ok) {\n      console.error(`Failed to send ${entries.length} logs`, await res.text());\n    }\n  }\n}\n\nexport const loggerService = new LoggerService();\n\n// Create a scoped logger to avoid repeating context\nexport const createContextLogger = (initial = {}) => {\n  const ctx = {\n    sessionId: \"unknown\",\n    providerId: \"unknown\",\n    appId: \"unknown\",\n    source: loggerService.config?.source || \"reclaim-extension-sdk\",\n    ...initial,\n  };\n\n  return {\n    // Read-only snapshot if you need it\n    get context() {\n      return { ...ctx };\n    },\n\n    // Update context anytime (partial updates supported)\n    setContext(partial = {}) {\n      Object.assign(ctx, partial);\n    },\n\n    // Level helpers\n    debug(msg, opts = {}) {\n      loggerService.debug({ ...ctx, message: msg, ...opts });\n    },\n    info(msg, opts = {}) {\n      loggerService.info({ ...ctx, message: msg, ...opts });\n    },\n    warn(msg, opts = {}) {\n      loggerService.warn({ ...ctx, message: msg, ...opts });\n    },\n    error(msg, opts = {}) {\n      loggerService.error({ ...ctx, message: msg, ...opts });\n    },\n  };\n};\n","export const LOGGING_ENDPOINTS = {\n  DIAGNOSTIC_LOGGING: \"https://logs.reclaimprotocol.org/api/business-logs/logDump\",\n};\n\nexport const LOG_TYPES = {\n  BACKGROUND: \"reclaim_browser_extension.BackgroundProcess\",\n  CONTENT: \"reclaim_browser_extension.ContentScript\",\n  POPUP: \"reclaim_browser_extension.Popup\",\n  INIT: \"reclaim_browser_extension.Initialization\",\n  VERIFICATION: \"reclaim_browser_extension.Verification\",\n  FETCH_DATA: \"reclaim_browser_extension.FetchData\",\n  PROVIDER_DATA: \"reclaim_browser_extension.ProviderData\",\n  CLAIM_CREATION: \"reclaim_browser_extension.ClaimCreation\",\n  PROOF_GENERATION: \"reclaim_browser_extension.ProofGeneration\",\n  PROOF_SUBMISSION: \"reclaim_browser_extension.ProofSubmission\",\n  PROOF_VERIFICATION: \"reclaim_browser_extension.ProofVerification\",\n  OFFSCREEN: \"reclaim_browser_extension.Offscreen\",\n};\n\nexport const LOG_SOURCES = {\n  BACKGROUND: \"background\",\n  CONTENT: \"content\",\n  OFFSCREEN: \"offscreen\",\n  POPUP: \"popup\",\n  INJECTION: \"injection\",\n};\n\n// Numeric levels for easy threshold checks\nexport const LOG_LEVEL = {\n  DEBUG: 10,\n  INFO: 20,\n  WARN: 30,\n  ERROR: 40,\n};\n\nexport const DEFAULT_LOG_CONFIG = {\n  // Console\n  consoleEnabled: true,\n  consoleLevel: LOG_LEVEL.INFO, // print INFO+ by default\n  includeSensitiveToConsole: true,\n\n  // Backend\n  backendEnabled: true,\n  backendLevel: LOG_LEVEL.INFO, // send INFO+ by default\n  includeSensitiveToBackend: false, // never send sensitive unless enabled\n\n  // Debug mode = print ALL to console; backend still obeys backendLevel\n  debugMode: false,\n\n  // Metadata\n  source: \"reclaim-extension-sdk\",\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// Polyfills for browser and service worker environments\nimport { Buffer } from \"buffer\";\nimport process from \"process\";\nimport { debugLogger, DebugLogType } from \"./logger\";\n\n// Skip WebSocket import for content script\n// import { WebSocket } from './websocket-polyfill';\n\n// Define a safe global object that works across environments\nconst getGlobalObject = () => {\n  if (typeof window !== \"undefined\") return window;\n  if (typeof self !== \"undefined\") return self;\n  if (typeof global !== \"undefined\") return global;\n  return Function(\"return this\")();\n};\n\n// Get the global object\nconst global = getGlobalObject();\n\n// Check if we're in a service worker or browser environment\nconst isServiceWorker = typeof window === \"undefined\";\n// Determine if we're in content script context\nconst isContentScript = typeof document !== \"undefined\" && document.contentType !== undefined;\n\n// Make Buffer and process available globally\nglobal.Buffer = global.Buffer || Buffer;\nglobal.process = global.process || process;\n\n// Don't add WebSocket polyfill in content script context\nif (typeof global.WebSocket === \"undefined\" && !isContentScript) {\n  // Dynamically import WebSocket only when needed and not in content script\n  try {\n    const { WebSocket } = require(\"./websocket-polyfill\");\n    global.WebSocket = WebSocket;\n    debugLogger.info(DebugLogType.POLYFILLS, \"WebSocket polyfill added to global\");\n  } catch (e) {\n    debugLogger.warn(DebugLogType.POLYFILLS, \"Failed to load WebSocket polyfill:\", e);\n  }\n} else {\n  if (!isContentScript) {\n    debugLogger.info(DebugLogType.POLYFILLS, \"Using native WebSocket implementation\");\n  } else {\n    debugLogger.info(DebugLogType.POLYFILLS, \"Skipping WebSocket in content script context\");\n  }\n}\n\n// Force browser mode for Node.js compatibility\nif (global.process) {\n  global.process.browser = true;\n}\n\n// Handle Node.js-style require for libraries expecting WebSocket\nif (typeof global.require !== \"function\") {\n  global.require = (moduleName) => {\n    // Return mock implementations for common modules\n    switch (moduleName) {\n      case \"ws\":\n        // Don't return WebSocket in content script context\n        if (isContentScript) {\n          debugLogger.info(DebugLogType.POLYFILLS, \"Blocking ws module in content script\");\n          return {}; // Empty implementation for content script\n        }\n        try {\n          const { WebSocket } = require(\"./websocket-polyfill\");\n          return { WebSocket }; // Return our polyfill for ws\n        } catch (e) {\n          debugLogger.warn(DebugLogType.POLYFILLS, \"Failed to load WebSocket for ws module:\", e);\n          return {};\n        }\n      case \"fs\":\n        return global.fs;\n      case \"path\":\n        return global.path;\n      case \"os\":\n        return global.os;\n      case \"crypto\":\n        return global.crypto;\n      case \"worker_threads\":\n        return {}; // Empty implementation\n      case \"koffi\":\n      case \"re2\":\n        return {}; // Empty implementation\n      default:\n        console.warn(`Mock require called for module: ${moduleName}`);\n        return {};\n    }\n  };\n} else {\n  // Don't override require if it's already defined\n  const originalRequire = global.require;\n  global.require = (moduleName) => {\n    if (moduleName === \"ws\") {\n      // Don't return WebSocket in content script context\n      if (isContentScript) {\n        debugLogger.info(DebugLogType.POLYFILLS, \"Blocking ws module in content script\");\n        return {}; // Empty implementation for content script\n      }\n      try {\n        const { WebSocket } = require(\"./websocket-polyfill\");\n        return { WebSocket }; // Return our polyfill for ws\n      } catch (e) {\n        debugLogger.warn(DebugLogType.POLYFILLS, \"Failed to load WebSocket for ws module:\", e);\n        return {};\n      }\n    }\n    try {\n      return originalRequire(moduleName);\n    } catch (e) {\n      debugLogger.warn(DebugLogType.POLYFILLS, `Failed to require module: ${moduleName}`);\n      return {};\n    }\n  };\n}\n\n// Fix for snarkjs which tries to access process.browser\nif (typeof process !== \"undefined\") {\n  process.browser = true;\n\n  // Add missing process properties that some modules might need\n  if (!process.version) process.version = \"v16.0.0\"; // Mock Node.js version\n  if (!process.cwd) process.cwd = () => \"/\"; // Mock current working directory\n}\n\n// TextEncoder and TextDecoder are available in both browser and service worker\n// if (typeof global.TextEncoder === \"undefined\" && !isServiceWorker) {\n//   const encoding = require(\"text-encoding\");\n//   global.TextEncoder = encoding.TextEncoder;\n//   global.TextDecoder = encoding.TextDecoder;\n// }\n\n// Handle other Node.js-specific functionality\nif (typeof global.global === \"undefined\") {\n  global.global = global;\n}\n\n// Handle crypto.getRandomValues polyfill if needed\nif (typeof global.crypto === \"undefined\") {\n  global.crypto = {};\n}\n\nif (typeof global.crypto.getRandomValues === \"undefined\") {\n  global.crypto.getRandomValues = function (arr) {\n    const bytes = new Uint8Array(arr.length);\n    for (let i = 0; i < bytes.length; i++) {\n      bytes[i] = Math.floor(Math.random() * 256);\n    }\n    return bytes;\n  };\n}\n\n// Handle other potential missing WebCrypto APIs\nif (typeof global.crypto.subtle === \"undefined\") {\n  debugLogger.warn(\n    DebugLogType.POLYFILLS,\n    \"WebCrypto subtle API not available. Some functionality may not work.\",\n  );\n  // Create a minimal fallback for subtle crypto\n  global.crypto.subtle = {\n    digest: async (algorithm, data) => {\n      debugLogger.warn(\n        DebugLogType.POLYFILLS,\n        `Crypto subtle digest (${algorithm}) called with browser fallback`,\n      );\n      // This is just a minimal fallback - not secure for production\n      const hashInt = Array.from(new Uint8Array(data)).reduce(\n        (acc, val) => (acc * 31 + val) & 0xffffffff,\n        0,\n      );\n\n      // Convert to a byte array of appropriate length\n      const result = new Uint8Array(32); // SHA-256 length\n      for (let i = 0; i < 32; i++) {\n        result[i] = (hashInt >> (i * 8)) & 0xff;\n      }\n\n      return result.buffer;\n    },\n  };\n}\n\n// Only add browser-specific polyfills if we're in a browser\nif (!isServiceWorker) {\n  // Mock for Node.js domain module that attestor-core might use\n  if (typeof global.domain === \"undefined\") {\n    global.domain = {\n      create: () => ({\n        run: (fn) => fn(),\n        on: () => {\n          /* Empty function implementation */\n        },\n        bind: (fn) => fn,\n      }),\n    };\n  }\n\n  // Override URL constructor to handle node:url protocol\n  const OriginalURL = global.URL;\n  function CustomURL(url, base) {\n    // Handle node:url protocol\n    if (typeof url === \"string\" && url.startsWith(\"node:\")) {\n      url = url.replace(/^node:/, \"\");\n    }\n    return new OriginalURL(url, base);\n  }\n\n  // Copy prototype and static methods safely\n  CustomURL.prototype = OriginalURL.prototype;\n  try {\n    // Try to copy static properties, but don't fail if they're read-only\n    Object.getOwnPropertyNames(OriginalURL).forEach((prop) => {\n      if (prop !== \"prototype\" && prop !== \"constructor\") {\n        try {\n          CustomURL[prop] = OriginalURL[prop];\n        } catch (e) {\n          // Silently ignore errors for read-only properties\n        }\n      }\n    });\n  } catch (e) {\n    debugLogger.warn(DebugLogType.POLYFILLS, \"Could not copy all URL static properties:\", e);\n  }\n\n  // Set the global URL to our custom implementation\n  try {\n    global.URL = CustomURL;\n  } catch (e) {\n    debugLogger.warn(DebugLogType.POLYFILLS, \"Could not override URL constructor:\", e);\n    // If we can't override the URL constructor, we'll have to live with the original\n  }\n}\n\n// Mock for Node.js module.require which some libraries might use\nif (typeof global.module === \"undefined\") {\n  global.module = { exports: {} };\n}\n\n// Add missing fs functions that might be needed\nglobal.fs = global.fs || {\n  readFileSync: (path) => {\n    debugLogger.warn(DebugLogType.POLYFILLS, `Attempted to readFileSync: ${path}`);\n    throw new Error(\"fs.readFileSync is not available in this environment\");\n  },\n  writeFileSync: (path, data) => {\n    debugLogger.warn(DebugLogType.POLYFILLS, `Attempted to writeFileSync: ${path}`);\n    // No-op\n  },\n  existsSync: (path) => {\n    debugLogger.warn(DebugLogType.POLYFILLS, `Attempted to check if file exists: ${path}`);\n    return false;\n  },\n  promises: {\n    readFile: async (path) => {\n      debugLogger.warn(DebugLogType.POLYFILLS, `Attempted to readFile: ${path}`);\n      throw new Error(\"fs.promises.readFile is not available in this environment\");\n    },\n    writeFile: async (path, data) => {\n      debugLogger.warn(DebugLogType.POLYFILLS, `Attempted to writeFile: ${path}`);\n      // No-op\n    },\n  },\n};\n\n// Add missing os functions\nglobal.os = global.os || {\n  tmpdir: () => \"/tmp\",\n  homedir: () => \"/home/user\",\n  platform: () => \"browser\",\n  type: () => \"Browser\",\n  cpus: () => [{ model: \"Browser CPU\", speed: 1000 }],\n  totalmem: () => 8 * 1024 * 1024 * 1024, // 8GB\n  freemem: () => 4 * 1024 * 1024 * 1024, // 4GB\n};\n\n// Ensure path methods are available\nglobal.path = global.path || {\n  join: (...args) => args.join(\"/\").replace(/\\/+/g, \"/\"),\n  resolve: (...args) => args.join(\"/\").replace(/\\/+/g, \"/\"),\n  dirname: (path) => path.split(\"/\").slice(0, -1).join(\"/\") || \".\",\n  basename: (path, ext) => {\n    let base = path.split(\"/\").pop() || \"\";\n    if (ext && base.endsWith(ext)) {\n      base = base.slice(0, -ext.length);\n    }\n    return base;\n  },\n  extname: (path) => {\n    const base = path.split(\"/\").pop() || \"\";\n    const dotIndex = base.lastIndexOf(\".\");\n    return dotIndex < 0 ? \"\" : base.slice(dotIndex);\n  },\n  sep: \"/\",\n};\n\n// Export for module imports\nexport default {\n  Buffer,\n  process,\n};\n","export const BACKEND_URL = \"https://api.reclaimprotocol.org\";\n\nexport const API_ENDPOINTS = {\n  PROVIDER_URL: (providerId) => `${BACKEND_URL}/api/providers/${providerId}`,\n  SUBMIT_PROOF: (sessionId) => `${BACKEND_URL}/session/${sessionId}/proof`,\n  UPDATE_SESSION_STATUS: () => `${BACKEND_URL}/api/sdk/update/session/`,\n  STATUS_URL: (sessionId) => `${BACKEND_URL}/api/sdk/status/${sessionId}`, // added\n};\n","/**\n * @typedef {Object} TemplateData\n * @property {string} sessionId - Unique identifier for the session\n * @property {string} providerId - Provider identifier\n * @property {string} applicationId - Application identifier\n * @property {string} signature - Signature for authentication\n * @property {string} timestamp - Timestamp of the request\n * @property {string} callbackUrl - URL to call back after verification\n * @property {string} context - Context data as JSON string\n * @property {Object} parameters - Additional parameters\n * @property {string} redirectUrl - URL to redirect after completion\n * @property {boolean} acceptAiProviders - Whether to accept AI providers\n * @property {string} sdkVersion - SDK version\n * @property {boolean} jsonProofResponse - Whether to return proof as JSON\n */\n\nexport const RECLAIM_SDK_ACTIONS = {\n  CHECK_EXTENSION: \"RECLAIM_EXTENSION_CHECK\",\n  EXTENSION_RESPONSE: \"RECLAIM_EXTENSION_RESPONSE\",\n  START_VERIFICATION: \"RECLAIM_START_VERIFICATION\",\n  VERIFICATION_STARTED: \"RECLAIM_VERIFICATION_STARTED\",\n  VERIFICATION_COMPLETED: \"RECLAIM_VERIFICATION_COMPLETED\",\n  VERIFICATION_FAILED: \"RECLAIM_VERIFICATION_FAILED\",\n  CANCEL_VERIFICATION: \"RECLAIM_CANCEL_VERIFICATION\",\n  SET_PUBLIC_DATA: \"RECLAIM_SET_PUBLIC_DATA\",\n  PARAMETERS_UPDATE: \"RECLAIM_PARAMETERS_UPDATE\",\n  PARAMETERS_GET: \"RECLAIM_PARAMETERS_GET\",\n  REPORT_PROVIDER_ERROR: \"RECLAIM_REPORT_PROVIDER_ERROR\",\n  SET_EXPECT_MANY_CLAIMS: \"RECLAIM_SET_EXPECT_MANY_CLAIMS\",\n  REQUEST_CLAIM: \"RECLAIM_REQUEST_CLAIM\",\n};\n\nexport const RECLAIM_SESSION_STATUS = {\n  SESSION_INIT: \"SESSION_INIT\",\n  SESSION_STARTED: \"SESSION_STARTED\",\n  USER_INIT_VERIFICATION: \"USER_INIT_VERIFICATION\",\n  USER_STARTED_VERIFICATION: \"USER_STARTED_VERIFICATION\",\n  PROOF_GENERATION_STARTED: \"PROOF_GENERATION_STARTED\",\n  PROOF_GENERATION_SUCCESS: \"PROOF_GENERATION_SUCCESS\",\n  PROOF_GENERATION_FAILED: \"PROOF_GENERATION_FAILED\",\n  PROOF_SUBMITTED: \"PROOF_SUBMITTED\",\n  PROOF_SUBMISSION_FAILED: \"PROOF_SUBMISSION_FAILED\",\n  PROOF_MANUAL_VERIFICATION_SUBMITED: \"PROOF_MANUAL_VERIFICATION_SUBMITED\",\n};\n\nexport const MESSAGE_SOURCES = {\n  CONTENT_SCRIPT: \"content-script\",\n  BACKGROUND: \"background\",\n  OFFSCREEN: \"offscreen\",\n};\n\nexport const MESSAGE_ACTIONS = {\n  // Proof generation actions\n  START_VERIFICATION: \"START_VERIFICATION\",\n  CANCEL_VERIFICATION: \"CANCEL_VERIFICATION\",\n  GENERATE_PROOF_REQUEST: \"GENERATE_PROOF_REQUEST\",\n  CLAIM_CREATION_REQUESTED: \"CLAIM_CREATION_REQUESTED\",\n  CLAIM_CREATION_SUCCESS: \"CLAIM_CREATION_SUCCESS\",\n  CLAIM_CREATION_FAILED: \"CLAIM_CREATION_FAILED\",\n  PROOF_GENERATION_STARTED: \"PROOF_GENERATION_STARTED\",\n  PROOF_GENERATION_SUCCESS: \"PROOF_GENERATION_SUCCESS\",\n  PROOF_GENERATION_FAILED: \"PROOF_GENERATION_FAILED\",\n  PROOF_SUBMITTED: \"PROOF_SUBMITTED\",\n  PROOF_SUBMISSION_FAILED: \"PROOF_SUBMISSION_FAILED\",\n  GENERATE_PROOF: \"GENERATE_PROOF\",\n  GENERATED_PROOF_RESPONSE: \"GENERATED_PROOF_RESPONSE\",\n  GENERATE_CLAIM_ON_ATTESTOR: \"GENERATE_CLAIM_ON_ATTESTOR\",\n  GET_PRIVATE_KEY: \"GET_PRIVATE_KEY\",\n  GET_PRIVATE_KEY_RESPONSE: \"GET_PRIVATE_KEY_RESPONSE\",\n\n  // UI actions\n  SHOW_PROVIDER_VERIFICATION_POPUP: \"SHOW_PROVIDER_VERIFICATION_POPUP\",\n  OFFSCREEN_DOCUMENT_READY: \"OFFSCREEN_DOCUMENT_READY\",\n\n  // Offscreen actions\n  GENERATE_PROOF_RESPONSE: \"GENERATE_PROOF_RESPONSE\",\n  PING_OFFSCREEN: \"PING_OFFSCREEN\",\n\n  // Background actions\n  CLOSE_CURRENT_TAB: \"CLOSE_CURRENT_TAB\",\n  GET_CURRENT_TAB_ID: \"GET_CURRENT_TAB_ID\",\n  // Content script actions\n  REQUEST_PROVIDER_DATA: \"REQUEST_PROVIDER_DATA\",\n  PROVIDER_DATA_READY: \"PROVIDER_DATA_READY\",\n  CONTENT_SCRIPT_LOADED: \"CONTENT_SCRIPT_LOADED\",\n  SHOULD_INITIALIZE: \"SHOULD_INITIALIZE\",\n  CHECK_IF_MANAGED_TAB: \"CHECK_IF_MANAGED_TAB\",\n\n  // Interceptor actions\n  FILTERED_REQUEST_FOUND: \"FILTERED_REQUEST_FOUND\",\n  INTERCEPTED_REQUEST_AND_RESPONSE: \"INTERCEPTED_REQUEST_AND_RESPONSE\",\n\n  // Injection script actions\n  UPDATE_PUBLIC_DATA: \"UPDATE_PUBLIC_DATA\",\n  UPDATE_EXPECT_MANY_CLAIMS: \"UPDATE_EXPECT_MANY_CLAIMS\",\n  GET_PARAMETERS: \"GET_PARAMETERS\",\n  REPORT_PROVIDER_ERROR: \"REPORT_PROVIDER_ERROR\",\n  REQUEST_CLAIM: \"REQUEST_CLAIM\",\n\n  // Injection script actions\n  INJECT_VIA_SCRIPTING: \"INJECT_VIA_SCRIPTING\",\n};\n\n/**\n * @typedef {Object} ProviderData\n * @property {string} providerId - Provider ID\n * @property {string} name - Provider name\n * @property {string} description - Provider description\n * @property {string} logoUrl - URL to provider logo\n * @property {boolean} disableRequestReplay - Whether request replay is disabled\n * @property {string} loginUrl - URL to provider login page\n * @property {string} customInjection - Custom injection code\n * @property {boolean} isApproved - Whether provider is approved\n * @property {string} geoLocation - Geo location\n * @property {string} providerType - Provider type\n * @property {boolean} isVerified - Whether provider is verified\n * @property {string} injectionType - Injection type\n * @property {Object} userAgent - User agent info\n * @property {string} userAgent.ios - iOS user agent\n * @property {string} userAgent.android - Android user agent\n * @property {boolean} isActive - Whether provider is active\n * @property {string|null} expectedPageUrl - Expected page URL\n * @property {string|null} pageTitle - Page title\n * @property {string|null} stepsToFollow - Steps to follow\n * @property {number} usedInCount - Number of times used\n * @property {string|null} overseerUid - Overseer UID\n * @property {string|null} overseerNote - Overseer note\n * @property {Array<RequestData>} requestData - Request data\n */\n\n/**\n * @typedef {Object} RequestData\n * @property {string} url - Request URL\n * @property {string} expectedPageUrl - Expected page URL\n * @property {string} urlType - URL type\n * @property {string} method - HTTP method\n * @property {Array<ResponseMatch>} responseMatches - Response matches\n * @property {Array<ResponseRedaction>} responseRedactions - Response redactions\n * @property {BodySniff} bodySniff - Body sniff\n * @property {string} requestHash - Request hash\n * @property {string|null} additionalClientOptions - Additional client options\n */\n\n/**\n * @typedef {Object} ResponseMatch\n * @property {string} value - Match value\n * @property {string} type - Match type\n * @property {boolean} invert - Whether to invert the match\n * @property {string|null} description - Match description\n * @property {number|null} order - Match order\n */\n\n/**\n * @typedef {Object} ResponseRedaction\n * @property {string} xPath - XPath\n * @property {string} jsonPath - JSON path\n * @property {string} regex - Regular expression\n * @property {string} hash - Hash\n */\n\n/**\n * @typedef {Object} BodySniff\n * @property {boolean} enabled - Whether body sniffing is enabled\n * @property {string} template - Body template\n */\n","export function createProviderVerificationPopup(\n  providerName,\n  description,\n  dataRequired,\n  sessionId,\n) {\n  // Inject CSS styles directly instead of importing them\n  injectStyles();\n\n  const popup = document.createElement(\"div\");\n  popup.id = \"reclaim-protocol-popup\";\n  popup.className = \"reclaim-popup\";\n  popup.style.animation = \"reclaim-appear 0.3s ease-out\";\n\n  // Track the state of claim generation\n  const state = {\n    totalClaims: 0,\n    completedClaims: 0,\n    proofSubmitted: false,\n    inProgress: false,\n    error: null,\n  };\n\n  // Drag state\n  let isDragging = false;\n  let dragOffset = { x: 0, y: 0 };\n\n  // Create initial HTML content\n  renderInitialContent().then(() => {\n    // Initialize drag and copy functionality after content is rendered\n    initializeDragFunctionality();\n    initializeCopyFunctionality();\n    initializeTooltipFunctionality();\n  });\n\n  // Drag and copy functionality will be initialized after content is rendered\n\n  // Function to load CSS from external file\n  async function loadCSS() {\n    // Check if styles are already injected\n    if (document.getElementById(\"reclaim-popup-styles\")) {\n      return;\n    }\n\n    try {\n      const cssUrl = chrome.runtime.getURL(\n        \"reclaim-browser-extension-sdk/content/components/reclaim-provider-verification-popup.css\",\n      );\n      const response = await fetch(cssUrl);\n      const cssText = await response.text();\n\n      const styleEl = document.createElement(\"style\");\n      styleEl.id = \"reclaim-popup-styles\";\n      styleEl.textContent = cssText;\n\n      // Handle document.head not being available yet\n      const appendStyle = () => {\n        if (document.head) {\n          document.head.appendChild(styleEl);\n        } else if (document.body) {\n          document.body.appendChild(styleEl);\n        } else {\n          // If neither head nor body is available, try again later\n          setTimeout(appendStyle, 10);\n        }\n      };\n\n      appendStyle();\n    } catch (error) {\n      console.error(\"Failed to load Reclaim popup CSS:\", error);\n    }\n  }\n\n  // Function to load HTML template from external file\n  async function loadHTMLTemplate() {\n    try {\n      const htmlUrl = chrome.runtime.getURL(\n        \"reclaim-browser-extension-sdk/content/components/reclaim-provider-verification-popup.html\",\n      );\n      const response = await fetch(htmlUrl);\n      const htmlText = await response.text();\n      return htmlText;\n    } catch (error) {\n      console.error(\"Failed to load Reclaim popup HTML template:\", error);\n      return \"\";\n    }\n  }\n\n  // Function to inject CSS styles\n  function injectStyles() {\n    loadCSS();\n  }\n\n  // Function to render the initial content\n  async function renderInitialContent() {\n    const htmlTemplate = await loadHTMLTemplate();\n\n    if (!htmlTemplate) {\n      console.error(\"Failed to load HTML template - popup will not render correctly\");\n      return;\n    }\n\n    // Replace template placeholders with actual values\n    const renderedHTML = htmlTemplate\n      // .replace(/\\{\\{logoUrl\\}\\}/g, chrome.runtime.getURL(\"assets/img/logo.png\"))\n      .replace(/\\{\\{providerName\\}\\}/g, providerName)\n      .replace(/\\{\\{description\\}\\}/g, description)\n      .replace(/\\{\\{dataRequired\\}\\}/g, dataRequired)\n      .replace(/\\{\\{sessionId\\}\\}/g, sessionId);\n\n    popup.innerHTML = renderedHTML;\n  }\n\n  // Function to initialize drag functionality\n  function initializeDragFunctionality() {\n    const header = popup.querySelector(\".reclaim-popup-header\");\n\n    function handleMouseDown(e) {\n      // Only allow dragging on left mouse button\n      if (e.button !== 0) return;\n\n      isDragging = true;\n      popup.classList.add(\"dragging\");\n\n      // Calculate offset from mouse position to popup top-left corner\n      const rect = popup.getBoundingClientRect();\n      dragOffset.x = e.clientX - rect.left;\n      dragOffset.y = e.clientY - rect.top;\n\n      // Prevent text selection while dragging\n      e.preventDefault();\n\n      // Add global mouse event listeners\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n\n    function handleMouseMove(e) {\n      if (!isDragging) return;\n\n      e.preventDefault();\n\n      // Calculate new position\n      let newX = e.clientX - dragOffset.x;\n      let newY = e.clientY - dragOffset.y;\n\n      // Get viewport dimensions\n      const viewportWidth = window.innerWidth;\n      const viewportHeight = window.innerHeight;\n      const popupWidth = popup.offsetWidth;\n      const popupHeight = popup.offsetHeight;\n\n      // Keep popup within viewport bounds\n      newX = Math.max(0, Math.min(newX, viewportWidth - popupWidth));\n      newY = Math.max(0, Math.min(newY, viewportHeight - popupHeight));\n\n      // Update popup position\n      popup.style.left = newX + \"px\";\n      popup.style.top = newY + \"px\";\n      popup.style.right = \"auto\";\n      popup.style.bottom = \"auto\";\n    }\n\n    function handleMouseUp(e) {\n      if (!isDragging) return;\n\n      isDragging = false;\n      popup.classList.remove(\"dragging\");\n\n      // Remove global mouse event listeners\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n      document.removeEventListener(\"mouseup\", handleMouseUp);\n    }\n\n    // Add mousedown listener to header\n    header.addEventListener(\"mousedown\", handleMouseDown);\n\n    // Prevent context menu on header to avoid interference\n    header.addEventListener(\"contextmenu\", (e) => {\n      e.preventDefault();\n    });\n  }\n\n  // Function to initialize copy functionality\n  function initializeCopyFunctionality() {\n    const copyButton = popup.querySelector(\".reclaim-copy-icon\");\n    const copyFeedback = popup.querySelector(\"#reclaim-copy-feedback\");\n\n    if (copyButton) {\n      copyButton.addEventListener(\"click\", async (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const targetId = copyButton.getAttribute(\"data-copy-target\");\n        const targetElement = popup.querySelector(`#${targetId}`);\n\n        if (targetElement) {\n          try {\n            const textToCopy = targetElement.textContent.trim();\n\n            // Use the Clipboard API if available\n            if (navigator.clipboard && navigator.clipboard.writeText) {\n              await navigator.clipboard.writeText(textToCopy);\n              showCopyFeedback(\"Copied!\");\n            } else {\n              // Fallback for older browsers\n              const textArea = document.createElement(\"textarea\");\n              textArea.value = textToCopy;\n              textArea.style.position = \"fixed\";\n              textArea.style.left = \"-9999px\";\n              textArea.style.top = \"-9999px\";\n              document.body.appendChild(textArea);\n              textArea.focus();\n              textArea.select();\n\n              try {\n                const successful = document.execCommand(\"copy\");\n                if (successful) {\n                  showCopyFeedback(\"Copied!\");\n                } else {\n                  showCopyFeedback(\"Failed to copy\", true);\n                }\n              } catch (err) {\n                showCopyFeedback(\"Failed to copy\", true);\n              }\n\n              document.body.removeChild(textArea);\n            }\n          } catch (err) {\n            showCopyFeedback(\"Failed to copy\", true);\n          }\n        }\n      });\n    }\n\n    function showCopyFeedback(message, isError = false) {\n      if (copyFeedback) {\n        copyFeedback.textContent = message;\n        copyFeedback.style.color = isError ? \"#ffffff\" : \"#ffffff\";\n        copyFeedback.style.background = isError\n          ? \"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)\"\n          : \"linear-gradient(135deg, #10b981 0%, #059669 100%)\";\n        copyFeedback.classList.add(\"show\");\n\n        // Hide feedback after 2 seconds for more compact UX\n        setTimeout(() => {\n          copyFeedback.classList.remove(\"show\");\n        }, 2000);\n      }\n    }\n  }\n\n  // Function to initialize tooltip functionality for long text\n  function initializeTooltipFunctionality() {\n    const infoValues = popup.querySelectorAll(\".reclaim-info-value[data-tooltip]\");\n\n    infoValues.forEach((element) => {\n      const tooltipText = element.getAttribute(\"data-tooltip\");\n      const displayText = element.textContent.trim();\n\n      // Only show tooltip if text is truncated\n      if (tooltipText && tooltipText.length > 25) {\n        let tooltip = null;\n        let hoverTimeout = null;\n\n        function showTooltip() {\n          if (!tooltip) {\n            tooltip = document.createElement(\"div\");\n            tooltip.className = \"reclaim-info-tooltip\";\n            tooltip.textContent = tooltipText;\n            element.appendChild(tooltip);\n          }\n\n          tooltip.classList.add(\"show\");\n        }\n\n        function hideTooltip() {\n          if (tooltip) {\n            tooltip.classList.remove(\"show\");\n          }\n        }\n\n        element.addEventListener(\"mouseenter\", () => {\n          clearTimeout(hoverTimeout);\n          hoverTimeout = setTimeout(showTooltip, 500);\n        });\n\n        element.addEventListener(\"mouseleave\", () => {\n          clearTimeout(hoverTimeout);\n          hideTooltip();\n        });\n\n        // Also show tooltip on click for mobile\n        element.addEventListener(\"click\", (e) => {\n          e.stopPropagation();\n          if (tooltip && tooltip.classList.contains(\"show\")) {\n            hideTooltip();\n          } else {\n            showTooltip();\n          }\n        });\n      }\n    });\n\n    // Hide all tooltips when clicking outside\n    document.addEventListener(\"click\", () => {\n      const tooltips = popup.querySelectorAll(\".reclaim-info-tooltip.show\");\n      tooltips.forEach((tooltip) => {\n        tooltip.classList.remove(\"show\");\n      });\n    });\n  }\n\n  // Function to show loader\n  function showLoader(message = \"Generating verification proof...\") {\n    const stepsContainer = popup.querySelector(\"#reclaim-steps-container\");\n    const statusContainer = popup.querySelector(\"#reclaim-status-container\");\n    const circularLoader = popup.querySelector(\"#reclaim-circular-loader\");\n    const progressContainer = popup.querySelector(\"#reclaim-status-progress\");\n    const statusText = popup.querySelector(\"#reclaim-status-text\");\n    const successIcon = popup.querySelector(\"#reclaim-success-icon\");\n    const errorIcon = popup.querySelector(\"#reclaim-error-icon\");\n    const contentContainer = popup.querySelector(\".reclaim-popup-content\");\n\n    // Hide the steps using CSS classes instead of style manipulation\n    if (stepsContainer) {\n      stepsContainer.classList.add(\"hidden\");\n    }\n\n    // Hide status icons\n    if (successIcon) {\n      successIcon.style.display = \"none\";\n    }\n    if (errorIcon) {\n      errorIcon.style.display = \"none\";\n    }\n\n    // Show the status container using CSS classes\n    statusContainer.classList.add(\"visible\");\n    contentContainer.classList.add(\"status-active\");\n    circularLoader.style.display = \"flex\";\n    progressContainer.style.display = \"block\";\n    statusText.textContent = message;\n\n    state.inProgress = true;\n    updateProgressBar();\n  }\n\n  // Function to update the progress bar\n  function updateProgressBar() {\n    const progressBar = popup.querySelector(\"#reclaim-progress-bar\");\n    const progressCounter = popup.querySelector(\"#reclaim-progress-counter\");\n\n    if (state.totalClaims > 0) {\n      const percentage = state.completedClaims / state.totalClaims;\n      // Use transform instead of width to avoid layout recalculations\n      progressBar.style.transform = `scaleX(${percentage})`;\n      progressCounter.textContent = `${state.completedClaims}/${state.totalClaims}`;\n    } else {\n      progressBar.style.transform = \"scaleX(1)\";\n      progressBar.style.animation = \"reclaim-progress-pulse 2s infinite\";\n      progressCounter.textContent = \"\";\n    }\n  }\n\n  // Function to update status message\n  function updateStatusMessage(message, isError = false) {\n    const statusMessage = popup.querySelector(\"#reclaim-status-message\");\n    statusMessage.textContent = message;\n    statusMessage.style.color = isError ? \"#ef4444\" : \"rgba(255, 255, 255, 0.8)\";\n  }\n\n  // Function to show success state\n  function showSuccess() {\n    const stepsContainer = popup.querySelector(\"#reclaim-steps-container\");\n    const statusContainer = popup.querySelector(\"#reclaim-status-container\");\n    const circularLoader = popup.querySelector(\"#reclaim-circular-loader\");\n    const progressContainer = popup.querySelector(\"#reclaim-status-progress\");\n    const statusText = popup.querySelector(\"#reclaim-status-text\");\n    const progressBar = popup.querySelector(\"#reclaim-progress-bar\");\n    const progressCounter = popup.querySelector(\"#reclaim-progress-counter\");\n    const contentContainer = popup.querySelector(\".reclaim-popup-content\");\n\n    // Hide the steps using CSS classes\n    if (stepsContainer) {\n      stepsContainer.classList.add(\"hidden\");\n    }\n\n    // Hide circular loader\n    circularLoader.style.display = \"none\";\n\n    // Show success UI\n    statusContainer.classList.add(\"visible\");\n    contentContainer.classList.add(\"status-active\");\n    progressContainer.style.display = \"block\";\n    statusText.textContent = \"Verification complete!\";\n\n    // Ensure progress bar is fully filled - use requestAnimationFrame to ensure DOM is ready\n    requestAnimationFrame(() => {\n      progressBar.style.width = \"100%\";\n      progressBar.style.transform = \"scaleX(1)\";\n      progressBar.classList.add(\"success\");\n      progressBar.style.animation = \"none\";\n    });\n\n    // Update progress counter to show completion\n    if (state.totalClaims > 0) {\n      progressCounter.textContent = `${state.totalClaims}/${state.totalClaims}`;\n    } else {\n      progressCounter.textContent = \"100%\";\n    }\n\n    updateStatusMessage(\"You will be redirected to the original page shortly.\");\n\n    // Show success icon\n    const successIcon = popup.querySelector(\"#reclaim-success-icon\");\n    const errorIcon = popup.querySelector(\"#reclaim-error-icon\");\n    if (successIcon) {\n      successIcon.style.display = \"flex\";\n    }\n    if (errorIcon) {\n      errorIcon.style.display = \"none\";\n    }\n  }\n\n  // Function to show error state\n  function showError(errorMessage) {\n    const stepsContainer = popup.querySelector(\"#reclaim-steps-container\");\n    const statusContainer = popup.querySelector(\"#reclaim-status-container\");\n    const circularLoader = popup.querySelector(\"#reclaim-circular-loader\");\n    const progressContainer = popup.querySelector(\"#reclaim-status-progress\");\n    const statusText = popup.querySelector(\"#reclaim-status-text\");\n    const progressBar = popup.querySelector(\"#reclaim-progress-bar\");\n    const contentContainer = popup.querySelector(\".reclaim-popup-content\");\n\n    // Hide the steps using CSS classes\n    if (stepsContainer) {\n      stepsContainer.classList.add(\"hidden\");\n    }\n\n    // Hide circular loader\n    circularLoader.style.display = \"none\";\n\n    // Show error UI\n    statusContainer.classList.add(\"visible\");\n    contentContainer.classList.add(\"status-active\");\n    progressContainer.style.display = \"block\";\n    statusText.textContent = \"Verification failed\";\n    progressBar.style.transform = \"scaleX(1)\";\n    progressBar.classList.add(\"error\");\n    progressBar.style.animation = \"none\";\n\n    updateStatusMessage(errorMessage, true);\n\n    // Show error icon\n    const errorIcon = popup.querySelector(\"#reclaim-error-icon\");\n    const successIcon = popup.querySelector(\"#reclaim-success-icon\");\n    if (errorIcon) {\n      errorIcon.style.display = \"flex\";\n    }\n    if (successIcon) {\n      successIcon.style.display = \"none\";\n    }\n  }\n\n  // Function to increment the total claims count\n  function incrementTotalClaims() {\n    state.totalClaims += 1;\n    updateProgressBar();\n  }\n\n  // Function to increment the completed claims count\n  function incrementCompletedClaims() {\n    state.completedClaims += 1;\n    updateProgressBar();\n  }\n\n  // Expose the public API for the popup\n  return {\n    element: popup,\n    showLoader,\n    updateStatusMessage,\n    showSuccess,\n    showError,\n    incrementTotalClaims,\n    incrementCompletedClaims,\n\n    // Handle various status updates from background\n    handleClaimCreationRequested: (requestHash) => {\n      incrementTotalClaims();\n      showLoader(\"Creating verification claim...\");\n    },\n\n    handleClaimCreationSuccess: (requestHash) => {\n      updateStatusMessage(\"Claim created successfully. Generating proof...\");\n    },\n\n    handleClaimCreationFailed: (requestHash) => {\n      showError(\"Failed to create claim. Please try again.\");\n    },\n\n    handleProofGenerationStarted: (requestHash) => {\n      updateStatusMessage(\"Generating cryptographic proof...\");\n    },\n\n    handleProofGenerationSuccess: (requestHash) => {\n      incrementCompletedClaims();\n      updateStatusMessage(`Proof generated (${state.completedClaims}/${state.totalClaims})`);\n    },\n\n    handleProofGenerationFailed: (requestHash) => {\n      showError(\"Failed to generate proof. Please try again.\");\n    },\n\n    handleProofSubmitted: () => {\n      state.proofSubmitted = true;\n      showSuccess();\n    },\n\n    handleProofSubmissionFailed: (error) => {\n      showError(`Failed to submit proof: ${error}`);\n    },\n  };\n}\n","/**\n * @implements {IHooks}\n */\nclass Hooks {\n  /**\n   * @callback HookCallback\n   * @this {*|Jsep} this\n   * @param {Jsep} env\n   * @returns: void\n   */\n  /**\n   * Adds the given callback to the list of callbacks for the given hook.\n   *\n   * The callback will be invoked when the hook it is registered for is run.\n   *\n   * One callback function can be registered to multiple hooks and the same hook multiple times.\n   *\n   * @param {string|object} name The name of the hook, or an object of callbacks keyed by name\n   * @param {HookCallback|boolean} callback The callback function which is given environment variables.\n   * @param {?boolean} [first=false] Will add the hook to the top of the list (defaults to the bottom)\n   * @public\n   */\n  add(name, callback, first) {\n    if (typeof arguments[0] != 'string') {\n      // Multiple hook callbacks, keyed by name\n      for (let name in arguments[0]) {\n        this.add(name, arguments[0][name], arguments[1]);\n      }\n    } else {\n      (Array.isArray(name) ? name : [name]).forEach(function (name) {\n        this[name] = this[name] || [];\n        if (callback) {\n          this[name][first ? 'unshift' : 'push'](callback);\n        }\n      }, this);\n    }\n  }\n\n  /**\n   * Runs a hook invoking all registered callbacks with the given environment variables.\n   *\n   * Callbacks will be invoked synchronously and in the order in which they were registered.\n   *\n   * @param {string} name The name of the hook.\n   * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n   * @public\n   */\n  run(name, env) {\n    this[name] = this[name] || [];\n    this[name].forEach(function (callback) {\n      callback.call(env && env.context ? env.context : env, env);\n    });\n  }\n}\n\n/**\n * @implements {IPlugins}\n */\nclass Plugins {\n  constructor(jsep) {\n    this.jsep = jsep;\n    this.registered = {};\n  }\n\n  /**\n   * @callback PluginSetup\n   * @this {Jsep} jsep\n   * @returns: void\n   */\n  /**\n   * Adds the given plugin(s) to the registry\n   *\n   * @param {object} plugins\n   * @param {string} plugins.name The name of the plugin\n   * @param {PluginSetup} plugins.init The init function\n   * @public\n   */\n  register() {\n    for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n      plugins[_key] = arguments[_key];\n    }\n    plugins.forEach(plugin => {\n      if (typeof plugin !== 'object' || !plugin.name || !plugin.init) {\n        throw new Error('Invalid JSEP plugin format');\n      }\n      if (this.registered[plugin.name]) {\n        // already registered. Ignore.\n        return;\n      }\n      plugin.init(this.jsep);\n      this.registered[plugin.name] = plugin;\n    });\n  }\n}\n\n//     JavaScript Expression Parser (JSEP) 1.4.0\n\nclass Jsep {\n  /**\n   * @returns {string}\n   */\n  static get version() {\n    // To be filled in by the template\n    return '1.4.0';\n  }\n\n  /**\n   * @returns {string}\n   */\n  static toString() {\n    return 'JavaScript Expression Parser (JSEP) v' + Jsep.version;\n  }\n  // ==================== CONFIG ================================\n  /**\n   * @method addUnaryOp\n   * @param {string} op_name The name of the unary op to add\n   * @returns {Jsep}\n   */\n  static addUnaryOp(op_name) {\n    Jsep.max_unop_len = Math.max(op_name.length, Jsep.max_unop_len);\n    Jsep.unary_ops[op_name] = 1;\n    return Jsep;\n  }\n\n  /**\n   * @method jsep.addBinaryOp\n   * @param {string} op_name The name of the binary op to add\n   * @param {number} precedence The precedence of the binary op (can be a float). Higher number = higher precedence\n   * @param {boolean} [isRightAssociative=false] whether operator is right-associative\n   * @returns {Jsep}\n   */\n  static addBinaryOp(op_name, precedence, isRightAssociative) {\n    Jsep.max_binop_len = Math.max(op_name.length, Jsep.max_binop_len);\n    Jsep.binary_ops[op_name] = precedence;\n    if (isRightAssociative) {\n      Jsep.right_associative.add(op_name);\n    } else {\n      Jsep.right_associative.delete(op_name);\n    }\n    return Jsep;\n  }\n\n  /**\n   * @method addIdentifierChar\n   * @param {string} char The additional character to treat as a valid part of an identifier\n   * @returns {Jsep}\n   */\n  static addIdentifierChar(char) {\n    Jsep.additional_identifier_chars.add(char);\n    return Jsep;\n  }\n\n  /**\n   * @method addLiteral\n   * @param {string} literal_name The name of the literal to add\n   * @param {*} literal_value The value of the literal\n   * @returns {Jsep}\n   */\n  static addLiteral(literal_name, literal_value) {\n    Jsep.literals[literal_name] = literal_value;\n    return Jsep;\n  }\n\n  /**\n   * @method removeUnaryOp\n   * @param {string} op_name The name of the unary op to remove\n   * @returns {Jsep}\n   */\n  static removeUnaryOp(op_name) {\n    delete Jsep.unary_ops[op_name];\n    if (op_name.length === Jsep.max_unop_len) {\n      Jsep.max_unop_len = Jsep.getMaxKeyLen(Jsep.unary_ops);\n    }\n    return Jsep;\n  }\n\n  /**\n   * @method removeAllUnaryOps\n   * @returns {Jsep}\n   */\n  static removeAllUnaryOps() {\n    Jsep.unary_ops = {};\n    Jsep.max_unop_len = 0;\n    return Jsep;\n  }\n\n  /**\n   * @method removeIdentifierChar\n   * @param {string} char The additional character to stop treating as a valid part of an identifier\n   * @returns {Jsep}\n   */\n  static removeIdentifierChar(char) {\n    Jsep.additional_identifier_chars.delete(char);\n    return Jsep;\n  }\n\n  /**\n   * @method removeBinaryOp\n   * @param {string} op_name The name of the binary op to remove\n   * @returns {Jsep}\n   */\n  static removeBinaryOp(op_name) {\n    delete Jsep.binary_ops[op_name];\n    if (op_name.length === Jsep.max_binop_len) {\n      Jsep.max_binop_len = Jsep.getMaxKeyLen(Jsep.binary_ops);\n    }\n    Jsep.right_associative.delete(op_name);\n    return Jsep;\n  }\n\n  /**\n   * @method removeAllBinaryOps\n   * @returns {Jsep}\n   */\n  static removeAllBinaryOps() {\n    Jsep.binary_ops = {};\n    Jsep.max_binop_len = 0;\n    return Jsep;\n  }\n\n  /**\n   * @method removeLiteral\n   * @param {string} literal_name The name of the literal to remove\n   * @returns {Jsep}\n   */\n  static removeLiteral(literal_name) {\n    delete Jsep.literals[literal_name];\n    return Jsep;\n  }\n\n  /**\n   * @method removeAllLiterals\n   * @returns {Jsep}\n   */\n  static removeAllLiterals() {\n    Jsep.literals = {};\n    return Jsep;\n  }\n  // ==================== END CONFIG ============================\n\n  /**\n   * @returns {string}\n   */\n  get char() {\n    return this.expr.charAt(this.index);\n  }\n\n  /**\n   * @returns {number}\n   */\n  get code() {\n    return this.expr.charCodeAt(this.index);\n  }\n  /**\n   * @param {string} expr a string with the passed in express\n   * @returns Jsep\n   */\n  constructor(expr) {\n    // `index` stores the character number we are currently at\n    // All of the gobbles below will modify `index` as we move along\n    this.expr = expr;\n    this.index = 0;\n  }\n\n  /**\n   * static top-level parser\n   * @returns {jsep.Expression}\n   */\n  static parse(expr) {\n    return new Jsep(expr).parse();\n  }\n\n  /**\n   * Get the longest key length of any object\n   * @param {object} obj\n   * @returns {number}\n   */\n  static getMaxKeyLen(obj) {\n    return Math.max(0, ...Object.keys(obj).map(k => k.length));\n  }\n\n  /**\n   * `ch` is a character code in the next three functions\n   * @param {number} ch\n   * @returns {boolean}\n   */\n  static isDecimalDigit(ch) {\n    return ch >= 48 && ch <= 57; // 0...9\n  }\n\n  /**\n   * Returns the precedence of a binary operator or `0` if it isn't a binary operator. Can be float.\n   * @param {string} op_val\n   * @returns {number}\n   */\n  static binaryPrecedence(op_val) {\n    return Jsep.binary_ops[op_val] || 0;\n  }\n\n  /**\n   * Looks for start of identifier\n   * @param {number} ch\n   * @returns {boolean}\n   */\n  static isIdentifierStart(ch) {\n    return ch >= 65 && ch <= 90 ||\n    // A...Z\n    ch >= 97 && ch <= 122 ||\n    // a...z\n    ch >= 128 && !Jsep.binary_ops[String.fromCharCode(ch)] ||\n    // any non-ASCII that is not an operator\n    Jsep.additional_identifier_chars.has(String.fromCharCode(ch)); // additional characters\n  }\n\n  /**\n   * @param {number} ch\n   * @returns {boolean}\n   */\n  static isIdentifierPart(ch) {\n    return Jsep.isIdentifierStart(ch) || Jsep.isDecimalDigit(ch);\n  }\n\n  /**\n   * throw error at index of the expression\n   * @param {string} message\n   * @throws\n   */\n  throwError(message) {\n    const error = new Error(message + ' at character ' + this.index);\n    error.index = this.index;\n    error.description = message;\n    throw error;\n  }\n\n  /**\n   * Run a given hook\n   * @param {string} name\n   * @param {jsep.Expression|false} [node]\n   * @returns {?jsep.Expression}\n   */\n  runHook(name, node) {\n    if (Jsep.hooks[name]) {\n      const env = {\n        context: this,\n        node\n      };\n      Jsep.hooks.run(name, env);\n      return env.node;\n    }\n    return node;\n  }\n\n  /**\n   * Runs a given hook until one returns a node\n   * @param {string} name\n   * @returns {?jsep.Expression}\n   */\n  searchHook(name) {\n    if (Jsep.hooks[name]) {\n      const env = {\n        context: this\n      };\n      Jsep.hooks[name].find(function (callback) {\n        callback.call(env.context, env);\n        return env.node;\n      });\n      return env.node;\n    }\n  }\n\n  /**\n   * Push `index` up to the next non-space character\n   */\n  gobbleSpaces() {\n    let ch = this.code;\n    // Whitespace\n    while (ch === Jsep.SPACE_CODE || ch === Jsep.TAB_CODE || ch === Jsep.LF_CODE || ch === Jsep.CR_CODE) {\n      ch = this.expr.charCodeAt(++this.index);\n    }\n    this.runHook('gobble-spaces');\n  }\n\n  /**\n   * Top-level method to parse all expressions and returns compound or single node\n   * @returns {jsep.Expression}\n   */\n  parse() {\n    this.runHook('before-all');\n    const nodes = this.gobbleExpressions();\n\n    // If there's only one expression just try returning the expression\n    const node = nodes.length === 1 ? nodes[0] : {\n      type: Jsep.COMPOUND,\n      body: nodes\n    };\n    return this.runHook('after-all', node);\n  }\n\n  /**\n   * top-level parser (but can be reused within as well)\n   * @param {number} [untilICode]\n   * @returns {jsep.Expression[]}\n   */\n  gobbleExpressions(untilICode) {\n    let nodes = [],\n      ch_i,\n      node;\n    while (this.index < this.expr.length) {\n      ch_i = this.code;\n\n      // Expressions can be separated by semicolons, commas, or just inferred without any\n      // separators\n      if (ch_i === Jsep.SEMCOL_CODE || ch_i === Jsep.COMMA_CODE) {\n        this.index++; // ignore separators\n      } else {\n        // Try to gobble each expression individually\n        if (node = this.gobbleExpression()) {\n          nodes.push(node);\n          // If we weren't able to find a binary expression and are out of room, then\n          // the expression passed in probably has too much\n        } else if (this.index < this.expr.length) {\n          if (ch_i === untilICode) {\n            break;\n          }\n          this.throwError('Unexpected \"' + this.char + '\"');\n        }\n      }\n    }\n    return nodes;\n  }\n\n  /**\n   * The main parsing function.\n   * @returns {?jsep.Expression}\n   */\n  gobbleExpression() {\n    const node = this.searchHook('gobble-expression') || this.gobbleBinaryExpression();\n    this.gobbleSpaces();\n    return this.runHook('after-expression', node);\n  }\n\n  /**\n   * Search for the operation portion of the string (e.g. `+`, `===`)\n   * Start by taking the longest possible binary operations (3 characters: `===`, `!==`, `>>>`)\n   * and move down from 3 to 2 to 1 character until a matching binary operation is found\n   * then, return that binary operation\n   * @returns {string|boolean}\n   */\n  gobbleBinaryOp() {\n    this.gobbleSpaces();\n    let to_check = this.expr.substr(this.index, Jsep.max_binop_len);\n    let tc_len = to_check.length;\n    while (tc_len > 0) {\n      // Don't accept a binary op when it is an identifier.\n      // Binary ops that start with a identifier-valid character must be followed\n      // by a non identifier-part valid character\n      if (Jsep.binary_ops.hasOwnProperty(to_check) && (!Jsep.isIdentifierStart(this.code) || this.index + to_check.length < this.expr.length && !Jsep.isIdentifierPart(this.expr.charCodeAt(this.index + to_check.length)))) {\n        this.index += tc_len;\n        return to_check;\n      }\n      to_check = to_check.substr(0, --tc_len);\n    }\n    return false;\n  }\n\n  /**\n   * This function is responsible for gobbling an individual expression,\n   * e.g. `1`, `1+2`, `a+(b*2)-Math.sqrt(2)`\n   * @returns {?jsep.BinaryExpression}\n   */\n  gobbleBinaryExpression() {\n    let node, biop, prec, stack, biop_info, left, right, i, cur_biop;\n\n    // First, try to get the leftmost thing\n    // Then, check to see if there's a binary operator operating on that leftmost thing\n    // Don't gobbleBinaryOp without a left-hand-side\n    left = this.gobbleToken();\n    if (!left) {\n      return left;\n    }\n    biop = this.gobbleBinaryOp();\n\n    // If there wasn't a binary operator, just return the leftmost node\n    if (!biop) {\n      return left;\n    }\n\n    // Otherwise, we need to start a stack to properly place the binary operations in their\n    // precedence structure\n    biop_info = {\n      value: biop,\n      prec: Jsep.binaryPrecedence(biop),\n      right_a: Jsep.right_associative.has(biop)\n    };\n    right = this.gobbleToken();\n    if (!right) {\n      this.throwError(\"Expected expression after \" + biop);\n    }\n    stack = [left, biop_info, right];\n\n    // Properly deal with precedence using [recursive descent](http://www.engr.mun.ca/~theo/Misc/exp_parsing.htm)\n    while (biop = this.gobbleBinaryOp()) {\n      prec = Jsep.binaryPrecedence(biop);\n      if (prec === 0) {\n        this.index -= biop.length;\n        break;\n      }\n      biop_info = {\n        value: biop,\n        prec,\n        right_a: Jsep.right_associative.has(biop)\n      };\n      cur_biop = biop;\n\n      // Reduce: make a binary expression from the three topmost entries.\n      const comparePrev = prev => biop_info.right_a && prev.right_a ? prec > prev.prec : prec <= prev.prec;\n      while (stack.length > 2 && comparePrev(stack[stack.length - 2])) {\n        right = stack.pop();\n        biop = stack.pop().value;\n        left = stack.pop();\n        node = {\n          type: Jsep.BINARY_EXP,\n          operator: biop,\n          left,\n          right\n        };\n        stack.push(node);\n      }\n      node = this.gobbleToken();\n      if (!node) {\n        this.throwError(\"Expected expression after \" + cur_biop);\n      }\n      stack.push(biop_info, node);\n    }\n    i = stack.length - 1;\n    node = stack[i];\n    while (i > 1) {\n      node = {\n        type: Jsep.BINARY_EXP,\n        operator: stack[i - 1].value,\n        left: stack[i - 2],\n        right: node\n      };\n      i -= 2;\n    }\n    return node;\n  }\n\n  /**\n   * An individual part of a binary expression:\n   * e.g. `foo.bar(baz)`, `1`, `\"abc\"`, `(a % 2)` (because it's in parenthesis)\n   * @returns {boolean|jsep.Expression}\n   */\n  gobbleToken() {\n    let ch, to_check, tc_len, node;\n    this.gobbleSpaces();\n    node = this.searchHook('gobble-token');\n    if (node) {\n      return this.runHook('after-token', node);\n    }\n    ch = this.code;\n    if (Jsep.isDecimalDigit(ch) || ch === Jsep.PERIOD_CODE) {\n      // Char code 46 is a dot `.` which can start off a numeric literal\n      return this.gobbleNumericLiteral();\n    }\n    if (ch === Jsep.SQUOTE_CODE || ch === Jsep.DQUOTE_CODE) {\n      // Single or double quotes\n      node = this.gobbleStringLiteral();\n    } else if (ch === Jsep.OBRACK_CODE) {\n      node = this.gobbleArray();\n    } else {\n      to_check = this.expr.substr(this.index, Jsep.max_unop_len);\n      tc_len = to_check.length;\n      while (tc_len > 0) {\n        // Don't accept an unary op when it is an identifier.\n        // Unary ops that start with a identifier-valid character must be followed\n        // by a non identifier-part valid character\n        if (Jsep.unary_ops.hasOwnProperty(to_check) && (!Jsep.isIdentifierStart(this.code) || this.index + to_check.length < this.expr.length && !Jsep.isIdentifierPart(this.expr.charCodeAt(this.index + to_check.length)))) {\n          this.index += tc_len;\n          const argument = this.gobbleToken();\n          if (!argument) {\n            this.throwError('missing unaryOp argument');\n          }\n          return this.runHook('after-token', {\n            type: Jsep.UNARY_EXP,\n            operator: to_check,\n            argument,\n            prefix: true\n          });\n        }\n        to_check = to_check.substr(0, --tc_len);\n      }\n      if (Jsep.isIdentifierStart(ch)) {\n        node = this.gobbleIdentifier();\n        if (Jsep.literals.hasOwnProperty(node.name)) {\n          node = {\n            type: Jsep.LITERAL,\n            value: Jsep.literals[node.name],\n            raw: node.name\n          };\n        } else if (node.name === Jsep.this_str) {\n          node = {\n            type: Jsep.THIS_EXP\n          };\n        }\n      } else if (ch === Jsep.OPAREN_CODE) {\n        // open parenthesis\n        node = this.gobbleGroup();\n      }\n    }\n    if (!node) {\n      return this.runHook('after-token', false);\n    }\n    node = this.gobbleTokenProperty(node);\n    return this.runHook('after-token', node);\n  }\n\n  /**\n   * Gobble properties of of identifiers/strings/arrays/groups.\n   * e.g. `foo`, `bar.baz`, `foo['bar'].baz`\n   * It also gobbles function calls:\n   * e.g. `Math.acos(obj.angle)`\n   * @param {jsep.Expression} node\n   * @returns {jsep.Expression}\n   */\n  gobbleTokenProperty(node) {\n    this.gobbleSpaces();\n    let ch = this.code;\n    while (ch === Jsep.PERIOD_CODE || ch === Jsep.OBRACK_CODE || ch === Jsep.OPAREN_CODE || ch === Jsep.QUMARK_CODE) {\n      let optional;\n      if (ch === Jsep.QUMARK_CODE) {\n        if (this.expr.charCodeAt(this.index + 1) !== Jsep.PERIOD_CODE) {\n          break;\n        }\n        optional = true;\n        this.index += 2;\n        this.gobbleSpaces();\n        ch = this.code;\n      }\n      this.index++;\n      if (ch === Jsep.OBRACK_CODE) {\n        node = {\n          type: Jsep.MEMBER_EXP,\n          computed: true,\n          object: node,\n          property: this.gobbleExpression()\n        };\n        if (!node.property) {\n          this.throwError('Unexpected \"' + this.char + '\"');\n        }\n        this.gobbleSpaces();\n        ch = this.code;\n        if (ch !== Jsep.CBRACK_CODE) {\n          this.throwError('Unclosed [');\n        }\n        this.index++;\n      } else if (ch === Jsep.OPAREN_CODE) {\n        // A function call is being made; gobble all the arguments\n        node = {\n          type: Jsep.CALL_EXP,\n          'arguments': this.gobbleArguments(Jsep.CPAREN_CODE),\n          callee: node\n        };\n      } else if (ch === Jsep.PERIOD_CODE || optional) {\n        if (optional) {\n          this.index--;\n        }\n        this.gobbleSpaces();\n        node = {\n          type: Jsep.MEMBER_EXP,\n          computed: false,\n          object: node,\n          property: this.gobbleIdentifier()\n        };\n      }\n      if (optional) {\n        node.optional = true;\n      } // else leave undefined for compatibility with esprima\n\n      this.gobbleSpaces();\n      ch = this.code;\n    }\n    return node;\n  }\n\n  /**\n   * Parse simple numeric literals: `12`, `3.4`, `.5`. Do this by using a string to\n   * keep track of everything in the numeric literal and then calling `parseFloat` on that string\n   * @returns {jsep.Literal}\n   */\n  gobbleNumericLiteral() {\n    let number = '',\n      ch,\n      chCode;\n    while (Jsep.isDecimalDigit(this.code)) {\n      number += this.expr.charAt(this.index++);\n    }\n    if (this.code === Jsep.PERIOD_CODE) {\n      // can start with a decimal marker\n      number += this.expr.charAt(this.index++);\n      while (Jsep.isDecimalDigit(this.code)) {\n        number += this.expr.charAt(this.index++);\n      }\n    }\n    ch = this.char;\n    if (ch === 'e' || ch === 'E') {\n      // exponent marker\n      number += this.expr.charAt(this.index++);\n      ch = this.char;\n      if (ch === '+' || ch === '-') {\n        // exponent sign\n        number += this.expr.charAt(this.index++);\n      }\n      while (Jsep.isDecimalDigit(this.code)) {\n        // exponent itself\n        number += this.expr.charAt(this.index++);\n      }\n      if (!Jsep.isDecimalDigit(this.expr.charCodeAt(this.index - 1))) {\n        this.throwError('Expected exponent (' + number + this.char + ')');\n      }\n    }\n    chCode = this.code;\n\n    // Check to make sure this isn't a variable name that start with a number (123abc)\n    if (Jsep.isIdentifierStart(chCode)) {\n      this.throwError('Variable names cannot start with a number (' + number + this.char + ')');\n    } else if (chCode === Jsep.PERIOD_CODE || number.length === 1 && number.charCodeAt(0) === Jsep.PERIOD_CODE) {\n      this.throwError('Unexpected period');\n    }\n    return {\n      type: Jsep.LITERAL,\n      value: parseFloat(number),\n      raw: number\n    };\n  }\n\n  /**\n   * Parses a string literal, staring with single or double quotes with basic support for escape codes\n   * e.g. `\"hello world\"`, `'this is\\nJSEP'`\n   * @returns {jsep.Literal}\n   */\n  gobbleStringLiteral() {\n    let str = '';\n    const startIndex = this.index;\n    const quote = this.expr.charAt(this.index++);\n    let closed = false;\n    while (this.index < this.expr.length) {\n      let ch = this.expr.charAt(this.index++);\n      if (ch === quote) {\n        closed = true;\n        break;\n      } else if (ch === '\\\\') {\n        // Check for all of the common escape codes\n        ch = this.expr.charAt(this.index++);\n        switch (ch) {\n          case 'n':\n            str += '\\n';\n            break;\n          case 'r':\n            str += '\\r';\n            break;\n          case 't':\n            str += '\\t';\n            break;\n          case 'b':\n            str += '\\b';\n            break;\n          case 'f':\n            str += '\\f';\n            break;\n          case 'v':\n            str += '\\x0B';\n            break;\n          default:\n            str += ch;\n        }\n      } else {\n        str += ch;\n      }\n    }\n    if (!closed) {\n      this.throwError('Unclosed quote after \"' + str + '\"');\n    }\n    return {\n      type: Jsep.LITERAL,\n      value: str,\n      raw: this.expr.substring(startIndex, this.index)\n    };\n  }\n\n  /**\n   * Gobbles only identifiers\n   * e.g.: `foo`, `_value`, `$x1`\n   * Also, this function checks if that identifier is a literal:\n   * (e.g. `true`, `false`, `null`) or `this`\n   * @returns {jsep.Identifier}\n   */\n  gobbleIdentifier() {\n    let ch = this.code,\n      start = this.index;\n    if (Jsep.isIdentifierStart(ch)) {\n      this.index++;\n    } else {\n      this.throwError('Unexpected ' + this.char);\n    }\n    while (this.index < this.expr.length) {\n      ch = this.code;\n      if (Jsep.isIdentifierPart(ch)) {\n        this.index++;\n      } else {\n        break;\n      }\n    }\n    return {\n      type: Jsep.IDENTIFIER,\n      name: this.expr.slice(start, this.index)\n    };\n  }\n\n  /**\n   * Gobbles a list of arguments within the context of a function call\n   * or array literal. This function also assumes that the opening character\n   * `(` or `[` has already been gobbled, and gobbles expressions and commas\n   * until the terminator character `)` or `]` is encountered.\n   * e.g. `foo(bar, baz)`, `my_func()`, or `[bar, baz]`\n   * @param {number} termination\n   * @returns {jsep.Expression[]}\n   */\n  gobbleArguments(termination) {\n    const args = [];\n    let closed = false;\n    let separator_count = 0;\n    while (this.index < this.expr.length) {\n      this.gobbleSpaces();\n      let ch_i = this.code;\n      if (ch_i === termination) {\n        // done parsing\n        closed = true;\n        this.index++;\n        if (termination === Jsep.CPAREN_CODE && separator_count && separator_count >= args.length) {\n          this.throwError('Unexpected token ' + String.fromCharCode(termination));\n        }\n        break;\n      } else if (ch_i === Jsep.COMMA_CODE) {\n        // between expressions\n        this.index++;\n        separator_count++;\n        if (separator_count !== args.length) {\n          // missing argument\n          if (termination === Jsep.CPAREN_CODE) {\n            this.throwError('Unexpected token ,');\n          } else if (termination === Jsep.CBRACK_CODE) {\n            for (let arg = args.length; arg < separator_count; arg++) {\n              args.push(null);\n            }\n          }\n        }\n      } else if (args.length !== separator_count && separator_count !== 0) {\n        // NOTE: `&& separator_count !== 0` allows for either all commas, or all spaces as arguments\n        this.throwError('Expected comma');\n      } else {\n        const node = this.gobbleExpression();\n        if (!node || node.type === Jsep.COMPOUND) {\n          this.throwError('Expected comma');\n        }\n        args.push(node);\n      }\n    }\n    if (!closed) {\n      this.throwError('Expected ' + String.fromCharCode(termination));\n    }\n    return args;\n  }\n\n  /**\n   * Responsible for parsing a group of things within parentheses `()`\n   * that have no identifier in front (so not a function call)\n   * This function assumes that it needs to gobble the opening parenthesis\n   * and then tries to gobble everything within that parenthesis, assuming\n   * that the next thing it should see is the close parenthesis. If not,\n   * then the expression probably doesn't have a `)`\n   * @returns {boolean|jsep.Expression}\n   */\n  gobbleGroup() {\n    this.index++;\n    let nodes = this.gobbleExpressions(Jsep.CPAREN_CODE);\n    if (this.code === Jsep.CPAREN_CODE) {\n      this.index++;\n      if (nodes.length === 1) {\n        return nodes[0];\n      } else if (!nodes.length) {\n        return false;\n      } else {\n        return {\n          type: Jsep.SEQUENCE_EXP,\n          expressions: nodes\n        };\n      }\n    } else {\n      this.throwError('Unclosed (');\n    }\n  }\n\n  /**\n   * Responsible for parsing Array literals `[1, 2, 3]`\n   * This function assumes that it needs to gobble the opening bracket\n   * and then tries to gobble the expressions as arguments.\n   * @returns {jsep.ArrayExpression}\n   */\n  gobbleArray() {\n    this.index++;\n    return {\n      type: Jsep.ARRAY_EXP,\n      elements: this.gobbleArguments(Jsep.CBRACK_CODE)\n    };\n  }\n}\n\n// Static fields:\nconst hooks = new Hooks();\nObject.assign(Jsep, {\n  hooks,\n  plugins: new Plugins(Jsep),\n  // Node Types\n  // ----------\n  // This is the full set of types that any JSEP node can be.\n  // Store them here to save space when minified\n  COMPOUND: 'Compound',\n  SEQUENCE_EXP: 'SequenceExpression',\n  IDENTIFIER: 'Identifier',\n  MEMBER_EXP: 'MemberExpression',\n  LITERAL: 'Literal',\n  THIS_EXP: 'ThisExpression',\n  CALL_EXP: 'CallExpression',\n  UNARY_EXP: 'UnaryExpression',\n  BINARY_EXP: 'BinaryExpression',\n  ARRAY_EXP: 'ArrayExpression',\n  TAB_CODE: 9,\n  LF_CODE: 10,\n  CR_CODE: 13,\n  SPACE_CODE: 32,\n  PERIOD_CODE: 46,\n  // '.'\n  COMMA_CODE: 44,\n  // ','\n  SQUOTE_CODE: 39,\n  // single quote\n  DQUOTE_CODE: 34,\n  // double quotes\n  OPAREN_CODE: 40,\n  // (\n  CPAREN_CODE: 41,\n  // )\n  OBRACK_CODE: 91,\n  // [\n  CBRACK_CODE: 93,\n  // ]\n  QUMARK_CODE: 63,\n  // ?\n  SEMCOL_CODE: 59,\n  // ;\n  COLON_CODE: 58,\n  // :\n\n  // Operations\n  // ----------\n  // Use a quickly-accessible map to store all of the unary operators\n  // Values are set to `1` (it really doesn't matter)\n  unary_ops: {\n    '-': 1,\n    '!': 1,\n    '~': 1,\n    '+': 1\n  },\n  // Also use a map for the binary operations but set their values to their\n  // binary precedence for quick reference (higher number = higher precedence)\n  // see [Order of operations](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence)\n  binary_ops: {\n    '||': 1,\n    '??': 1,\n    '&&': 2,\n    '|': 3,\n    '^': 4,\n    '&': 5,\n    '==': 6,\n    '!=': 6,\n    '===': 6,\n    '!==': 6,\n    '<': 7,\n    '>': 7,\n    '<=': 7,\n    '>=': 7,\n    '<<': 8,\n    '>>': 8,\n    '>>>': 8,\n    '+': 9,\n    '-': 9,\n    '*': 10,\n    '/': 10,\n    '%': 10,\n    '**': 11\n  },\n  // sets specific binary_ops as right-associative\n  right_associative: new Set(['**']),\n  // Additional valid identifier chars, apart from a-z, A-Z and 0-9 (except on the starting char)\n  additional_identifier_chars: new Set(['$', '_']),\n  // Literals\n  // ----------\n  // Store the values to return for the various literals we may encounter\n  literals: {\n    'true': true,\n    'false': false,\n    'null': null\n  },\n  // Except for `this`, which is special. This could be changed to something like `'self'` as well\n  this_str: 'this'\n});\nJsep.max_unop_len = Jsep.getMaxKeyLen(Jsep.unary_ops);\nJsep.max_binop_len = Jsep.getMaxKeyLen(Jsep.binary_ops);\n\n// Backward Compatibility:\nconst jsep = expr => new Jsep(expr).parse();\nconst stdClassProps = Object.getOwnPropertyNames(class Test {});\nObject.getOwnPropertyNames(Jsep).filter(prop => !stdClassProps.includes(prop) && jsep[prop] === undefined).forEach(m => {\n  jsep[m] = Jsep[m];\n});\njsep.Jsep = Jsep; // allows for const { Jsep } = require('jsep');\n\nconst CONDITIONAL_EXP = 'ConditionalExpression';\nvar ternary = {\n  name: 'ternary',\n  init(jsep) {\n    // Ternary expression: test ? consequent : alternate\n    jsep.hooks.add('after-expression', function gobbleTernary(env) {\n      if (env.node && this.code === jsep.QUMARK_CODE) {\n        this.index++;\n        const test = env.node;\n        const consequent = this.gobbleExpression();\n        if (!consequent) {\n          this.throwError('Expected expression');\n        }\n        this.gobbleSpaces();\n        if (this.code === jsep.COLON_CODE) {\n          this.index++;\n          const alternate = this.gobbleExpression();\n          if (!alternate) {\n            this.throwError('Expected expression');\n          }\n          env.node = {\n            type: CONDITIONAL_EXP,\n            test,\n            consequent,\n            alternate\n          };\n\n          // check for operators of higher priority than ternary (i.e. assignment)\n          // jsep sets || at 1, and assignment at 0.9, and conditional should be between them\n          if (test.operator && jsep.binary_ops[test.operator] <= 0.9) {\n            let newTest = test;\n            while (newTest.right.operator && jsep.binary_ops[newTest.right.operator] <= 0.9) {\n              newTest = newTest.right;\n            }\n            env.node.test = newTest.right;\n            newTest.right = env.node;\n            env.node = test;\n          }\n        } else {\n          this.throwError('Expected :');\n        }\n      }\n    });\n  }\n};\n\n// Add default plugins:\n\njsep.plugins.register(ternary);\n\nconst FSLASH_CODE = 47; // '/'\nconst BSLASH_CODE = 92; // '\\\\'\n\nvar index = {\n  name: 'regex',\n  init(jsep) {\n    // Regex literal: /abc123/ig\n    jsep.hooks.add('gobble-token', function gobbleRegexLiteral(env) {\n      if (this.code === FSLASH_CODE) {\n        const patternIndex = ++this.index;\n        let inCharSet = false;\n        while (this.index < this.expr.length) {\n          if (this.code === FSLASH_CODE && !inCharSet) {\n            const pattern = this.expr.slice(patternIndex, this.index);\n            let flags = '';\n            while (++this.index < this.expr.length) {\n              const code = this.code;\n              if (code >= 97 && code <= 122 // a...z\n              || code >= 65 && code <= 90 // A...Z\n              || code >= 48 && code <= 57) {\n                // 0-9\n                flags += this.char;\n              } else {\n                break;\n              }\n            }\n            let value;\n            try {\n              value = new RegExp(pattern, flags);\n            } catch (e) {\n              this.throwError(e.message);\n            }\n            env.node = {\n              type: jsep.LITERAL,\n              value,\n              raw: this.expr.slice(patternIndex - 1, this.index)\n            };\n\n            // allow . [] and () after regex: /regex/.test(a)\n            env.node = this.gobbleTokenProperty(env.node);\n            return env.node;\n          }\n          if (this.code === jsep.OBRACK_CODE) {\n            inCharSet = true;\n          } else if (inCharSet && this.code === jsep.CBRACK_CODE) {\n            inCharSet = false;\n          }\n          this.index += this.code === BSLASH_CODE ? 2 : 1;\n        }\n        this.throwError('Unclosed Regex');\n      }\n    });\n  }\n};\n\nconst PLUS_CODE = 43; // +\nconst MINUS_CODE = 45; // -\n\nconst plugin = {\n  name: 'assignment',\n  assignmentOperators: new Set(['=', '*=', '**=', '/=', '%=', '+=', '-=', '<<=', '>>=', '>>>=', '&=', '^=', '|=', '||=', '&&=', '??=']),\n  updateOperators: [PLUS_CODE, MINUS_CODE],\n  assignmentPrecedence: 0.9,\n  init(jsep) {\n    const updateNodeTypes = [jsep.IDENTIFIER, jsep.MEMBER_EXP];\n    plugin.assignmentOperators.forEach(op => jsep.addBinaryOp(op, plugin.assignmentPrecedence, true));\n    jsep.hooks.add('gobble-token', function gobbleUpdatePrefix(env) {\n      const code = this.code;\n      if (plugin.updateOperators.some(c => c === code && c === this.expr.charCodeAt(this.index + 1))) {\n        this.index += 2;\n        env.node = {\n          type: 'UpdateExpression',\n          operator: code === PLUS_CODE ? '++' : '--',\n          argument: this.gobbleTokenProperty(this.gobbleIdentifier()),\n          prefix: true\n        };\n        if (!env.node.argument || !updateNodeTypes.includes(env.node.argument.type)) {\n          this.throwError(`Unexpected ${env.node.operator}`);\n        }\n      }\n    });\n    jsep.hooks.add('after-token', function gobbleUpdatePostfix(env) {\n      if (env.node) {\n        const code = this.code;\n        if (plugin.updateOperators.some(c => c === code && c === this.expr.charCodeAt(this.index + 1))) {\n          if (!updateNodeTypes.includes(env.node.type)) {\n            this.throwError(`Unexpected ${env.node.operator}`);\n          }\n          this.index += 2;\n          env.node = {\n            type: 'UpdateExpression',\n            operator: code === PLUS_CODE ? '++' : '--',\n            argument: env.node,\n            prefix: false\n          };\n        }\n      }\n    });\n    jsep.hooks.add('after-expression', function gobbleAssignment(env) {\n      if (env.node) {\n        // Note: Binaries can be chained in a single expression to respect\n        // operator precedence (i.e. a = b = 1 + 2 + 3)\n        // Update all binary assignment nodes in the tree\n        updateBinariesToAssignments(env.node);\n      }\n    });\n    function updateBinariesToAssignments(node) {\n      if (plugin.assignmentOperators.has(node.operator)) {\n        node.type = 'AssignmentExpression';\n        updateBinariesToAssignments(node.left);\n        updateBinariesToAssignments(node.right);\n      } else if (!node.operator) {\n        Object.values(node).forEach(val => {\n          if (val && typeof val === 'object') {\n            updateBinariesToAssignments(val);\n          }\n        });\n      }\n    }\n  }\n};\n\n/* eslint-disable no-bitwise -- Convenient */\n\n// register plugins\njsep.plugins.register(index, plugin);\njsep.addUnaryOp('typeof');\njsep.addLiteral('null', null);\njsep.addLiteral('undefined', undefined);\nconst BLOCKED_PROTO_PROPERTIES = new Set(['constructor', '__proto__', '__defineGetter__', '__defineSetter__']);\nconst SafeEval = {\n  /**\n   * @param {jsep.Expression} ast\n   * @param {Record<string, any>} subs\n   */\n  evalAst(ast, subs) {\n    switch (ast.type) {\n      case 'BinaryExpression':\n      case 'LogicalExpression':\n        return SafeEval.evalBinaryExpression(ast, subs);\n      case 'Compound':\n        return SafeEval.evalCompound(ast, subs);\n      case 'ConditionalExpression':\n        return SafeEval.evalConditionalExpression(ast, subs);\n      case 'Identifier':\n        return SafeEval.evalIdentifier(ast, subs);\n      case 'Literal':\n        return SafeEval.evalLiteral(ast, subs);\n      case 'MemberExpression':\n        return SafeEval.evalMemberExpression(ast, subs);\n      case 'UnaryExpression':\n        return SafeEval.evalUnaryExpression(ast, subs);\n      case 'ArrayExpression':\n        return SafeEval.evalArrayExpression(ast, subs);\n      case 'CallExpression':\n        return SafeEval.evalCallExpression(ast, subs);\n      case 'AssignmentExpression':\n        return SafeEval.evalAssignmentExpression(ast, subs);\n      default:\n        throw SyntaxError('Unexpected expression', ast);\n    }\n  },\n  evalBinaryExpression(ast, subs) {\n    const result = {\n      '||': (a, b) => a || b(),\n      '&&': (a, b) => a && b(),\n      '|': (a, b) => a | b(),\n      '^': (a, b) => a ^ b(),\n      '&': (a, b) => a & b(),\n      // eslint-disable-next-line eqeqeq -- API\n      '==': (a, b) => a == b(),\n      // eslint-disable-next-line eqeqeq -- API\n      '!=': (a, b) => a != b(),\n      '===': (a, b) => a === b(),\n      '!==': (a, b) => a !== b(),\n      '<': (a, b) => a < b(),\n      '>': (a, b) => a > b(),\n      '<=': (a, b) => a <= b(),\n      '>=': (a, b) => a >= b(),\n      '<<': (a, b) => a << b(),\n      '>>': (a, b) => a >> b(),\n      '>>>': (a, b) => a >>> b(),\n      '+': (a, b) => a + b(),\n      '-': (a, b) => a - b(),\n      '*': (a, b) => a * b(),\n      '/': (a, b) => a / b(),\n      '%': (a, b) => a % b()\n    }[ast.operator](SafeEval.evalAst(ast.left, subs), () => SafeEval.evalAst(ast.right, subs));\n    return result;\n  },\n  evalCompound(ast, subs) {\n    let last;\n    for (let i = 0; i < ast.body.length; i++) {\n      if (ast.body[i].type === 'Identifier' && ['var', 'let', 'const'].includes(ast.body[i].name) && ast.body[i + 1] && ast.body[i + 1].type === 'AssignmentExpression') {\n        // var x=2; is detected as\n        // [{Identifier var}, {AssignmentExpression x=2}]\n        // eslint-disable-next-line @stylistic/max-len -- Long\n        // eslint-disable-next-line sonarjs/updated-loop-counter -- Convenient\n        i += 1;\n      }\n      const expr = ast.body[i];\n      last = SafeEval.evalAst(expr, subs);\n    }\n    return last;\n  },\n  evalConditionalExpression(ast, subs) {\n    if (SafeEval.evalAst(ast.test, subs)) {\n      return SafeEval.evalAst(ast.consequent, subs);\n    }\n    return SafeEval.evalAst(ast.alternate, subs);\n  },\n  evalIdentifier(ast, subs) {\n    if (Object.hasOwn(subs, ast.name)) {\n      return subs[ast.name];\n    }\n    throw ReferenceError(`${ast.name} is not defined`);\n  },\n  evalLiteral(ast) {\n    return ast.value;\n  },\n  evalMemberExpression(ast, subs) {\n    const prop = String(\n    // NOTE: `String(value)` throws error when\n    // value has overwritten the toString method to return non-string\n    // i.e. `value = {toString: () => []}`\n    ast.computed ? SafeEval.evalAst(ast.property) // `object[property]`\n    : ast.property.name // `object.property` property is Identifier\n    );\n    const obj = SafeEval.evalAst(ast.object, subs);\n    if (obj === undefined || obj === null) {\n      throw TypeError(`Cannot read properties of ${obj} (reading '${prop}')`);\n    }\n    if (!Object.hasOwn(obj, prop) && BLOCKED_PROTO_PROPERTIES.has(prop)) {\n      throw TypeError(`Cannot read properties of ${obj} (reading '${prop}')`);\n    }\n    const result = obj[prop];\n    if (typeof result === 'function') {\n      return result.bind(obj); // arrow functions aren't affected by bind.\n    }\n    return result;\n  },\n  evalUnaryExpression(ast, subs) {\n    const result = {\n      '-': a => -SafeEval.evalAst(a, subs),\n      '!': a => !SafeEval.evalAst(a, subs),\n      '~': a => ~SafeEval.evalAst(a, subs),\n      // eslint-disable-next-line no-implicit-coercion -- API\n      '+': a => +SafeEval.evalAst(a, subs),\n      typeof: a => typeof SafeEval.evalAst(a, subs)\n    }[ast.operator](ast.argument);\n    return result;\n  },\n  evalArrayExpression(ast, subs) {\n    return ast.elements.map(el => SafeEval.evalAst(el, subs));\n  },\n  evalCallExpression(ast, subs) {\n    const args = ast.arguments.map(arg => SafeEval.evalAst(arg, subs));\n    const func = SafeEval.evalAst(ast.callee, subs);\n    // if (func === Function) {\n    //     throw new Error('Function constructor is disabled');\n    // }\n    return func(...args);\n  },\n  evalAssignmentExpression(ast, subs) {\n    if (ast.left.type !== 'Identifier') {\n      throw SyntaxError('Invalid left-hand side in assignment');\n    }\n    const id = ast.left.name;\n    const value = SafeEval.evalAst(ast.right, subs);\n    subs[id] = value;\n    return subs[id];\n  }\n};\n\n/**\n * A replacement for NodeJS' VM.Script which is also {@link https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP | Content Security Policy} friendly.\n */\nclass SafeScript {\n  /**\n   * @param {string} expr Expression to evaluate\n   */\n  constructor(expr) {\n    this.code = expr;\n    this.ast = jsep(this.code);\n  }\n\n  /**\n   * @param {object} context Object whose items will be added\n   *   to evaluation\n   * @returns {EvaluatedResult} Result of evaluated code\n   */\n  runInNewContext(context) {\n    // `Object.create(null)` creates a prototypeless object\n    const keyMap = Object.assign(Object.create(null), context);\n    return SafeEval.evalAst(this.ast, keyMap);\n  }\n}\n\n/* eslint-disable camelcase -- Convenient for escaping */\n\n\n/**\n * @typedef {null|boolean|number|string|object|GenericArray} JSONObject\n */\n\n/**\n * @typedef {any} AnyItem\n */\n\n/**\n * @typedef {any} AnyResult\n */\n\n/**\n * Copies array and then pushes item into it.\n * @param {GenericArray} arr Array to copy and into which to push\n * @param {AnyItem} item Array item to add (to end)\n * @returns {GenericArray} Copy of the original array\n */\nfunction push(arr, item) {\n  arr = arr.slice();\n  arr.push(item);\n  return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {AnyItem} item Array item to add (to beginning)\n * @param {GenericArray} arr Array to copy and into which to unshift\n * @returns {GenericArray} Copy of the original array\n */\nfunction unshift(item, arr) {\n  arr = arr.slice();\n  arr.unshift(item);\n  return arr;\n}\n\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\nclass NewError extends Error {\n  /**\n   * @param {AnyResult} value The evaluated scalar value\n   */\n  constructor(value) {\n    super('JSONPath should not be called with \"new\" (it prevents return ' + 'of (unwrapped) scalar values)');\n    this.avoidNew = true;\n    this.value = value;\n    this.name = 'NewError';\n  }\n}\n\n/**\n* @typedef {object} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {object|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|object} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n* @returns {void}\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {object|GenericArray} parent\n* @param {string} parentPropName\n* @returns {boolean}\n*/\n\n/**\n * @typedef {any} ContextItem\n */\n\n/**\n * @typedef {any} EvaluatedResult\n */\n\n/**\n* @callback EvalCallback\n* @param {string} code\n* @param {ContextItem} context\n* @returns {EvaluatedResult}\n*/\n\n/**\n * @typedef {typeof SafeScript} EvalClass\n */\n\n/**\n * @typedef {object} JSONPathOptions\n * @property {JSON} json\n * @property {string|string[]} path\n * @property {\"value\"|\"path\"|\"pointer\"|\"parent\"|\"parentProperty\"|\n *   \"all\"} [resultType=\"value\"]\n * @property {boolean} [flatten=false]\n * @property {boolean} [wrap=true]\n * @property {object} [sandbox={}]\n * @property {EvalCallback|EvalClass|'safe'|'native'|\n *   boolean} [eval = 'safe']\n * @property {object|GenericArray|null} [parent=null]\n * @property {string|null} [parentProperty=null]\n * @property {JSONPathCallback} [callback]\n * @property {OtherTypeCallback} [otherTypeCallback] Defaults to\n *   function which throws on encountering `@other`\n * @property {boolean} [autostart=true]\n */\n\n/**\n * @param {string|JSONPathOptions} opts If a string, will be treated as `expr`\n * @param {string} [expr] JSON path to evaluate\n * @param {JSON} [obj] JSON object to evaluate against\n * @param {JSONPathCallback} [callback] Passed 3 arguments: 1) desired payload\n *     per `resultType`, 2) `\"value\"|\"property\"`, 3) Full returned object with\n *     all payloads\n * @param {OtherTypeCallback} [otherTypeCallback] If `@other()` is at the end\n *   of one's query, this will be invoked with the value of the item, its\n *   path, its parent, and its parent's property name, and it should return\n *   a boolean indicating whether the supplied value belongs to the \"other\"\n *   type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\nfunction JSONPath(opts, expr, obj, callback, otherTypeCallback) {\n  // eslint-disable-next-line no-restricted-syntax -- Allow for pseudo-class\n  if (!(this instanceof JSONPath)) {\n    try {\n      return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n    } catch (e) {\n      if (!e.avoidNew) {\n        throw e;\n      }\n      return e.value;\n    }\n  }\n  if (typeof opts === 'string') {\n    otherTypeCallback = callback;\n    callback = obj;\n    obj = expr;\n    expr = opts;\n    opts = null;\n  }\n  const optObj = opts && typeof opts === 'object';\n  opts = opts || {};\n  this.json = opts.json || obj;\n  this.path = opts.path || expr;\n  this.resultType = opts.resultType || 'value';\n  this.flatten = opts.flatten || false;\n  this.wrap = Object.hasOwn(opts, 'wrap') ? opts.wrap : true;\n  this.sandbox = opts.sandbox || {};\n  this.eval = opts.eval === undefined ? 'safe' : opts.eval;\n  this.ignoreEvalErrors = typeof opts.ignoreEvalErrors === 'undefined' ? false : opts.ignoreEvalErrors;\n  this.parent = opts.parent || null;\n  this.parentProperty = opts.parentProperty || null;\n  this.callback = opts.callback || callback || null;\n  this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n    throw new TypeError('You must supply an otherTypeCallback callback option ' + 'with the @other() operator.');\n  };\n  if (opts.autostart !== false) {\n    const args = {\n      path: optObj ? opts.path : expr\n    };\n    if (!optObj) {\n      args.json = obj;\n    } else if ('json' in opts) {\n      args.json = opts.json;\n    }\n    const ret = this.evaluate(args);\n    if (!ret || typeof ret !== 'object') {\n      throw new NewError(ret);\n    }\n    return ret;\n  }\n}\n\n// PUBLIC METHODS\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n  let currParent = this.parent,\n    currParentProperty = this.parentProperty;\n  let {\n    flatten,\n    wrap\n  } = this;\n  this.currResultType = this.resultType;\n  this.currEval = this.eval;\n  this.currSandbox = this.sandbox;\n  callback = callback || this.callback;\n  this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n  json = json || this.json;\n  expr = expr || this.path;\n  if (expr && typeof expr === 'object' && !Array.isArray(expr)) {\n    if (!expr.path && expr.path !== '') {\n      throw new TypeError('You must supply a \"path\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n    if (!Object.hasOwn(expr, 'json')) {\n      throw new TypeError('You must supply a \"json\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n    ({\n      json\n    } = expr);\n    flatten = Object.hasOwn(expr, 'flatten') ? expr.flatten : flatten;\n    this.currResultType = Object.hasOwn(expr, 'resultType') ? expr.resultType : this.currResultType;\n    this.currSandbox = Object.hasOwn(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n    wrap = Object.hasOwn(expr, 'wrap') ? expr.wrap : wrap;\n    this.currEval = Object.hasOwn(expr, 'eval') ? expr.eval : this.currEval;\n    callback = Object.hasOwn(expr, 'callback') ? expr.callback : callback;\n    this.currOtherTypeCallback = Object.hasOwn(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n    currParent = Object.hasOwn(expr, 'parent') ? expr.parent : currParent;\n    currParentProperty = Object.hasOwn(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n    expr = expr.path;\n  }\n  currParent = currParent || null;\n  currParentProperty = currParentProperty || null;\n  if (Array.isArray(expr)) {\n    expr = JSONPath.toPathString(expr);\n  }\n  if (!expr && expr !== '' || !json) {\n    return undefined;\n  }\n  const exprList = JSONPath.toPathArray(expr);\n  if (exprList[0] === '$' && exprList.length > 1) {\n    exprList.shift();\n  }\n  this._hasParentSelector = null;\n  const result = this._trace(exprList, json, ['$'], currParent, currParentProperty, callback).filter(function (ea) {\n    return ea && !ea.isParentSelector;\n  });\n  if (!result.length) {\n    return wrap ? [] : undefined;\n  }\n  if (!wrap && result.length === 1 && !result[0].hasArrExpr) {\n    return this._getPreferredOutput(result[0]);\n  }\n  return result.reduce((rslt, ea) => {\n    const valOrPath = this._getPreferredOutput(ea);\n    if (flatten && Array.isArray(valOrPath)) {\n      rslt = rslt.concat(valOrPath);\n    } else {\n      rslt.push(valOrPath);\n    }\n    return rslt;\n  }, []);\n};\n\n// PRIVATE METHODS\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n  const resultType = this.currResultType;\n  switch (resultType) {\n    case 'all':\n      {\n        const path = Array.isArray(ea.path) ? ea.path : JSONPath.toPathArray(ea.path);\n        ea.pointer = JSONPath.toPointer(path);\n        ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n        return ea;\n      }\n    case 'value':\n    case 'parent':\n    case 'parentProperty':\n      return ea[resultType];\n    case 'path':\n      return JSONPath.toPathString(ea[resultType]);\n    case 'pointer':\n      return JSONPath.toPointer(ea.path);\n    default:\n      throw new TypeError('Unknown result type');\n  }\n};\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n  if (callback) {\n    const preferredOutput = this._getPreferredOutput(fullRetObj);\n    fullRetObj.path = typeof fullRetObj.path === 'string' ? fullRetObj.path : JSONPath.toPathString(fullRetObj.path);\n    // eslint-disable-next-line n/callback-return -- No need to return\n    callback(preferredOutput, type, fullRetObj);\n  }\n};\n\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {object|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} hasArrExpr\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\nJSONPath.prototype._trace = function (expr, val, path, parent, parentPropName, callback, hasArrExpr, literalPriority) {\n  // No expr to follow? return path and value as the result of\n  //  this trace branch\n  let retObj;\n  if (!expr.length) {\n    retObj = {\n      path,\n      value: val,\n      parent,\n      parentProperty: parentPropName,\n      hasArrExpr\n    };\n    this._handleCallback(retObj, callback, 'value');\n    return retObj;\n  }\n  const loc = expr[0],\n    x = expr.slice(1);\n\n  // We need to gather the return value of recursive trace calls in order to\n  // do the parent sel computation.\n  const ret = [];\n  /**\n   *\n   * @param {ReturnObject|ReturnObject[]} elems\n   * @returns {void}\n   */\n  function addRet(elems) {\n    if (Array.isArray(elems)) {\n      // This was causing excessive stack size in Node (with or\n      //  without Babel) against our performance test:\n      //  `ret.push(...elems);`\n      elems.forEach(t => {\n        ret.push(t);\n      });\n    } else {\n      ret.push(elems);\n    }\n  }\n  if ((typeof loc !== 'string' || literalPriority) && val && Object.hasOwn(val, loc)) {\n    // simple case--directly follow property\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr));\n    // eslint-disable-next-line unicorn/prefer-switch -- Part of larger `if`\n  } else if (loc === '*') {\n    // all child properties\n    this._walk(val, m => {\n      addRet(this._trace(x, val[m], push(path, m), val, m, callback, true, true));\n    });\n  } else if (loc === '..') {\n    // all descendent parent properties\n    // Check remaining expression with val's immediate children\n    addRet(this._trace(x, val, path, parent, parentPropName, callback, hasArrExpr));\n    this._walk(val, m => {\n      // We don't join m and x here because we only want parents,\n      //   not scalar values\n      if (typeof val[m] === 'object') {\n        // Keep going with recursive descent on val's\n        //   object children\n        addRet(this._trace(expr.slice(), val[m], push(path, m), val, m, callback, true));\n      }\n    });\n    // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n  } else if (loc === '^') {\n    // This is not a final endpoint, so we do not invoke the callback here\n    this._hasParentSelector = true;\n    return {\n      path: path.slice(0, -1),\n      expr: x,\n      isParentSelector: true\n    };\n  } else if (loc === '~') {\n    // property name\n    retObj = {\n      path: push(path, loc),\n      value: parentPropName,\n      parent,\n      parentProperty: null\n    };\n    this._handleCallback(retObj, callback, 'property');\n    return retObj;\n  } else if (loc === '$') {\n    // root only\n    addRet(this._trace(x, val, path, null, null, callback, hasArrExpr));\n  } else if (/^(-?\\d*):(-?\\d*):?(\\d*)$/u.test(loc)) {\n    // [start:end:step]  Python slice syntax\n    addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n  } else if (loc.indexOf('?(') === 0) {\n    // [?(expr)] (filtering)\n    if (this.currEval === false) {\n      throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n    }\n    const safeLoc = loc.replace(/^\\?\\((.*?)\\)$/u, '$1');\n    // check for a nested filter expression\n    const nested = /@.?([^?]*)[['](\\??\\(.*?\\))(?!.\\)\\])[\\]']/gu.exec(safeLoc);\n    if (nested) {\n      // find if there are matches in the nested expression\n      // add them to the result set if there is at least one match\n      this._walk(val, m => {\n        const npath = [nested[2]];\n        const nvalue = nested[1] ? val[m][nested[1]] : val[m];\n        const filterResults = this._trace(npath, nvalue, path, parent, parentPropName, callback, true);\n        if (filterResults.length > 0) {\n          addRet(this._trace(x, val[m], push(path, m), val, m, callback, true));\n        }\n      });\n    } else {\n      this._walk(val, m => {\n        if (this._eval(safeLoc, val[m], m, path, parent, parentPropName)) {\n          addRet(this._trace(x, val[m], push(path, m), val, m, callback, true));\n        }\n      });\n    }\n  } else if (loc[0] === '(') {\n    // [(expr)] (dynamic property/index)\n    if (this.currEval === false) {\n      throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n    }\n    // As this will resolve to a property name (but we don't know it\n    //  yet), property and parent information is relative to the\n    //  parent of the property to which this expression will resolve\n    addRet(this._trace(unshift(this._eval(loc, val, path.at(-1), path.slice(0, -1), parent, parentPropName), x), val, path, parent, parentPropName, callback, hasArrExpr));\n  } else if (loc[0] === '@') {\n    // value type: @boolean(), etc.\n    let addType = false;\n    const valueType = loc.slice(1, -2);\n    switch (valueType) {\n      case 'scalar':\n        if (!val || !['object', 'function'].includes(typeof val)) {\n          addType = true;\n        }\n        break;\n      case 'boolean':\n      case 'string':\n      case 'undefined':\n      case 'function':\n        if (typeof val === valueType) {\n          addType = true;\n        }\n        break;\n      case 'integer':\n        if (Number.isFinite(val) && !(val % 1)) {\n          addType = true;\n        }\n        break;\n      case 'number':\n        if (Number.isFinite(val)) {\n          addType = true;\n        }\n        break;\n      case 'nonFinite':\n        if (typeof val === 'number' && !Number.isFinite(val)) {\n          addType = true;\n        }\n        break;\n      case 'object':\n        if (val && typeof val === valueType) {\n          addType = true;\n        }\n        break;\n      case 'array':\n        if (Array.isArray(val)) {\n          addType = true;\n        }\n        break;\n      case 'other':\n        addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n        break;\n      case 'null':\n        if (val === null) {\n          addType = true;\n        }\n        break;\n      /* c8 ignore next 2 */\n      default:\n        throw new TypeError('Unknown value type ' + valueType);\n    }\n    if (addType) {\n      retObj = {\n        path,\n        value: val,\n        parent,\n        parentProperty: parentPropName\n      };\n      this._handleCallback(retObj, callback, 'value');\n      return retObj;\n    }\n    // `-escaped property\n  } else if (loc[0] === '`' && val && Object.hasOwn(val, loc.slice(1))) {\n    const locProp = loc.slice(1);\n    addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, hasArrExpr, true));\n  } else if (loc.includes(',')) {\n    // [name1,name2,...]\n    const parts = loc.split(',');\n    for (const part of parts) {\n      addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback, true));\n    }\n    // simple case--directly follow property\n  } else if (!literalPriority && val && Object.hasOwn(val, loc)) {\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr, true));\n  }\n\n  // We check the resulting values for parent selections. For parent\n  // selections we discard the value object and continue the trace with the\n  // current val object\n  if (this._hasParentSelector) {\n    for (let t = 0; t < ret.length; t++) {\n      const rett = ret[t];\n      if (rett && rett.isParentSelector) {\n        const tmp = this._trace(rett.expr, val, rett.path, parent, parentPropName, callback, hasArrExpr);\n        if (Array.isArray(tmp)) {\n          ret[t] = tmp[0];\n          const tl = tmp.length;\n          for (let tt = 1; tt < tl; tt++) {\n            // eslint-disable-next-line @stylistic/max-len -- Long\n            // eslint-disable-next-line sonarjs/updated-loop-counter -- Convenient\n            t++;\n            ret.splice(t, 0, tmp[tt]);\n          }\n        } else {\n          ret[t] = tmp;\n        }\n      }\n    }\n  }\n  return ret;\n};\nJSONPath.prototype._walk = function (val, f) {\n  if (Array.isArray(val)) {\n    const n = val.length;\n    for (let i = 0; i < n; i++) {\n      f(i);\n    }\n  } else if (val && typeof val === 'object') {\n    Object.keys(val).forEach(m => {\n      f(m);\n    });\n  }\n};\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n  if (!Array.isArray(val)) {\n    return undefined;\n  }\n  const len = val.length,\n    parts = loc.split(':'),\n    step = parts[2] && Number.parseInt(parts[2]) || 1;\n  let start = parts[0] && Number.parseInt(parts[0]) || 0,\n    end = parts[1] && Number.parseInt(parts[1]) || len;\n  start = start < 0 ? Math.max(0, start + len) : Math.min(len, start);\n  end = end < 0 ? Math.max(0, end + len) : Math.min(len, end);\n  const ret = [];\n  for (let i = start; i < end; i += step) {\n    const tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback, true);\n    // Should only be possible to be an array here since first part of\n    //   ``unshift(i, expr)` passed in above would not be empty, nor `~`,\n    //     nor begin with `@` (as could return objects)\n    // This was causing excessive stack size in Node (with or\n    //  without Babel) against our performance test: `ret.push(...tmp);`\n    tmp.forEach(t => {\n      ret.push(t);\n    });\n  }\n  return ret;\n};\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n  this.currSandbox._$_parentProperty = parentPropName;\n  this.currSandbox._$_parent = parent;\n  this.currSandbox._$_property = _vname;\n  this.currSandbox._$_root = this.json;\n  this.currSandbox._$_v = _v;\n  const containsPath = code.includes('@path');\n  if (containsPath) {\n    this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n  }\n  const scriptCacheKey = this.currEval + 'Script:' + code;\n  if (!JSONPath.cache[scriptCacheKey]) {\n    let script = code.replaceAll('@parentProperty', '_$_parentProperty').replaceAll('@parent', '_$_parent').replaceAll('@property', '_$_property').replaceAll('@root', '_$_root').replaceAll(/@([.\\s)[])/gu, '_$_v$1');\n    if (containsPath) {\n      script = script.replaceAll('@path', '_$_path');\n    }\n    if (this.currEval === 'safe' || this.currEval === true || this.currEval === undefined) {\n      JSONPath.cache[scriptCacheKey] = new this.safeVm.Script(script);\n    } else if (this.currEval === 'native') {\n      JSONPath.cache[scriptCacheKey] = new this.vm.Script(script);\n    } else if (typeof this.currEval === 'function' && this.currEval.prototype && Object.hasOwn(this.currEval.prototype, 'runInNewContext')) {\n      const CurrEval = this.currEval;\n      JSONPath.cache[scriptCacheKey] = new CurrEval(script);\n    } else if (typeof this.currEval === 'function') {\n      JSONPath.cache[scriptCacheKey] = {\n        runInNewContext: context => this.currEval(script, context)\n      };\n    } else {\n      throw new TypeError(`Unknown \"eval\" property \"${this.currEval}\"`);\n    }\n  }\n  try {\n    return JSONPath.cache[scriptCacheKey].runInNewContext(this.currSandbox);\n  } catch (e) {\n    if (this.ignoreEvalErrors) {\n      return false;\n    }\n    throw new Error('jsonPath: ' + e.message + ': ' + code);\n  }\n};\n\n// PUBLIC CLASS PROPERTIES AND METHODS\n\n// Could store the cache object itself\nJSONPath.cache = {};\n\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\nJSONPath.toPathString = function (pathArr) {\n  const x = pathArr,\n    n = x.length;\n  let p = '$';\n  for (let i = 1; i < n; i++) {\n    if (!/^(~|\\^|@.*?\\(\\))$/u.test(x[i])) {\n      p += /^[0-9*]+$/u.test(x[i]) ? '[' + x[i] + ']' : \"['\" + x[i] + \"']\";\n    }\n  }\n  return p;\n};\n\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\nJSONPath.toPointer = function (pointer) {\n  const x = pointer,\n    n = x.length;\n  let p = '';\n  for (let i = 1; i < n; i++) {\n    if (!/^(~|\\^|@.*?\\(\\))$/u.test(x[i])) {\n      p += '/' + x[i].toString().replaceAll('~', '~0').replaceAll('/', '~1');\n    }\n  }\n  return p;\n};\n\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\nJSONPath.toPathArray = function (expr) {\n  const {\n    cache\n  } = JSONPath;\n  if (cache[expr]) {\n    return cache[expr].concat();\n  }\n  const subx = [];\n  const normalized = expr\n  // Properties\n  .replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/gu, ';$&;')\n  // Parenthetical evaluations (filtering and otherwise), directly\n  //   within brackets or single quotes\n  .replaceAll(/[['](\\??\\(.*?\\))[\\]'](?!.\\])/gu, function ($0, $1) {\n    return '[#' + (subx.push($1) - 1) + ']';\n  })\n  // Escape periods and tildes within properties\n  .replaceAll(/\\[['\"]([^'\\]]*)['\"]\\]/gu, function ($0, prop) {\n    return \"['\" + prop.replaceAll('.', '%@%').replaceAll('~', '%%@@%%') + \"']\";\n  })\n  // Properties operator\n  .replaceAll('~', ';~;')\n  // Split by property boundaries\n  .replaceAll(/['\"]?\\.['\"]?(?![^[]*\\])|\\[['\"]?/gu, ';')\n  // Reinsert periods within properties\n  .replaceAll('%@%', '.')\n  // Reinsert tildes within properties\n  .replaceAll('%%@@%%', '~')\n  // Parent\n  .replaceAll(/(?:;)?(\\^+)(?:;)?/gu, function ($0, ups) {\n    return ';' + ups.split('').join(';') + ';';\n  })\n  // Descendents\n  .replaceAll(/;;;|;;/gu, ';..;')\n  // Remove trailing\n  .replaceAll(/;$|'?\\]|'$/gu, '');\n  const exprList = normalized.split(';').map(function (exp) {\n    const match = exp.match(/#(\\d+)/u);\n    return !match || !match[1] ? exp : subx[match[1]];\n  });\n  cache[expr] = exprList;\n  return cache[expr].concat();\n};\nJSONPath.prototype.safeVm = {\n  Script: SafeScript\n};\n\n/**\n * @typedef {any} ContextItem\n */\n\n/**\n * @typedef {any} EvaluatedResult\n */\n\n/**\n * @callback ConditionCallback\n * @param {ContextItem} item\n * @returns {boolean}\n */\n\n/**\n * Copy items out of one array into another.\n * @param {GenericArray} source Array with items to copy\n * @param {GenericArray} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item;\n *     will move item if evaluates to `true`\n * @returns {void}\n */\nconst moveToAnotherArray = function (source, target, conditionCb) {\n  const il = source.length;\n  for (let i = 0; i < il; i++) {\n    const item = source[i];\n    if (conditionCb(item)) {\n      // eslint-disable-next-line @stylistic/max-len -- Long\n      // eslint-disable-next-line sonarjs/updated-loop-counter -- Convenient\n      target.push(source.splice(i--, 1)[0]);\n    }\n  }\n};\n\n/**\n * In-browser replacement for NodeJS' VM.Script.\n */\nclass Script {\n  /**\n   * @param {string} expr Expression to evaluate\n   */\n  constructor(expr) {\n    this.code = expr;\n  }\n\n  /**\n   * @param {object} context Object whose items will be added\n   *   to evaluation\n   * @returns {EvaluatedResult} Result of evaluated code\n   */\n  runInNewContext(context) {\n    let expr = this.code;\n    const keys = Object.keys(context);\n    const funcs = [];\n    moveToAnotherArray(keys, funcs, key => {\n      return typeof context[key] === 'function';\n    });\n    const values = keys.map(vr => {\n      return context[vr];\n    });\n    const funcString = funcs.reduce((s, func) => {\n      let fString = context[func].toString();\n      if (!/function/u.test(fString)) {\n        fString = 'function ' + fString;\n      }\n      return 'var ' + func + '=' + fString + ';' + s;\n    }, '');\n    expr = funcString + expr;\n\n    // Mitigate http://perfectionkills.com/global-eval-what-are-the-options/#new_function\n    if (!/(['\"])use strict\\1/u.test(expr) && !keys.includes('arguments')) {\n      expr = 'var arguments = undefined;' + expr;\n    }\n\n    // Remove last semi so `return` will be inserted before\n    //  the previous one instead, allowing for the return\n    //  of a bare ending expression\n    expr = expr.replace(/;\\s*$/u, '');\n\n    // Insert `return`\n    const lastStatementEnd = expr.lastIndexOf(';');\n    const code = lastStatementEnd !== -1 ? expr.slice(0, lastStatementEnd + 1) + ' return ' + expr.slice(lastStatementEnd + 1) : ' return ' + expr;\n\n    // eslint-disable-next-line no-new-func -- User's choice\n    return new Function(...keys, code)(...values);\n  }\n}\nJSONPath.prototype.vm = {\n  Script\n};\n\nexport { JSONPath };\n","/**\n * Utility functions for extracting values from JSON and HTML responses\n * Shared between network-filter.js and params-extractor.js\n */\n\nimport { debugLogger, DebugLogType } from \"../logger\";\nimport { JSONPath } from \"jsonpath-plus\";\n\n/**\n * Extract values from JSON response using jsonPath\n * @param {Object} jsonData - Parsed JSON response\n * @param {string} jsonPath - JSONPath expression (e.g., $.userName, $.profile.electronicAddresses[0].email)\n * @returns {any} Extracted value or null if not found\n */\nexport const getValueFromJsonPath = (jsonData, jsonPath) => {\n  try {\n    const results = JSONPath({ path: jsonPath, json: jsonData });\n    const finalResult = results?.[0];\n    if (finalResult === undefined) {\n      return undefined;\n    } else if (finalResult === null) {\n      return \"null\";\n    }\n    return finalResult;\n  } catch (error) {\n    debugLogger.error(\n      DebugLogType.CLAIM,\n      `[PARAMS-EXTRACTOR-UTILS] Error extracting JSON value with path ${jsonPath}:`,\n      error,\n    );\n    return undefined;\n  }\n};\n\n/**\n * Extract values from HTML response using XPath (simplified)\n * @param {string} htmlString - HTML string\n * @param {string} xPath - XPath expression\n * @returns {string|null|undefined} Extracted value or null if not found\n */\nexport const getValueFromXPath = (htmlString, xPath) => {\n  // This is a simplified implementation\n  // For proper XPath parsing, a library would be needed\n  try {\n    // Extract with regex based on the xPath pattern\n    // This is a very basic implementation and won't work for all XPath expressions\n    const cleanedXPath = xPath.replace(/^\\/\\//, \"\").replace(/\\/@/, \" \");\n    const parts = cleanedXPath.split(\"/\");\n    const element = parts[parts.length - 1];\n\n    // Simple regex to find elements with content\n    const regex = new RegExp(`<${element}[^>]*>(.*?)<\\/${element}>`, \"i\");\n    const match = htmlString.match(regex);\n\n    return match ? match[1] : undefined;\n  } catch (error) {\n    debugLogger.error(\n      DebugLogType.CLAIM,\n      `[PARAMS-EXTRACTOR-UTILS] Error extracting HTML value with XPath ${xPath}:`,\n      error,\n    );\n    return undefined;\n  }\n};\n\n/**\n * Check if a string appears to be JSON format\n * @param {string} text - Text to check\n * @returns {boolean} True if text appears to be JSON\n */\nexport const isJsonFormat = (text) => {\n  if (!text || typeof text !== \"string\") return false;\n  const trimmed = text.trim();\n  return trimmed.startsWith(\"{\") || trimmed.startsWith(\"[\");\n};\n\n/**\n * Safely parse JSON text\n * @param {string} jsonText - JSON text to parse\n * @returns {Object|null} Parsed JSON object or null if parsing fails\n */\nexport const safeJsonParse = (jsonText) => {\n  try {\n    return JSON.parse(jsonText);\n  } catch (e) {\n    debugLogger.warn(\n      DebugLogType.CLAIM,\n      \"[PARAMS-EXTRACTOR-UTILS] Response looks like JSON but couldn't be parsed\",\n    );\n    return null;\n  }\n};\n","// Import shared utility functions\nimport {\n  getValueFromJsonPath,\n  getValueFromXPath,\n  isJsonFormat,\n  safeJsonParse,\n} from \"./params-extractor-utils.js\";\nimport { debugLogger, DebugLogType } from \"../logger\";\n\n// Escape special regex characters in string\nfunction escapeSpecialCharacters(input) {\n  return input.replace(/[[\\]()*+?.,\\\\^$|#]/g, \"\\\\$&\");\n}\n\n// Extract template variables from a string\nfunction getTemplateVariables(template) {\n  const paramRegex = /{{(\\w+)}}/g;\n  const variables = [];\n  let match;\n\n  while ((match = paramRegex.exec(template)) !== null) {\n    variables.push(match[1]);\n  }\n\n  return variables;\n}\n\n// Convert template to regex, substituting known parameters\nexport function convertTemplateToRegex(template, parameters = {}) {\n  // Escape special regex characters\n  let escapedTemplate = escapeSpecialCharacters(template);\n\n  // Find all template variables\n  const allVars = getTemplateVariables(template);\n  const unsubstitutedVars = [];\n\n  // Replace template variables with actual values or regex patterns\n  for (const param of allVars) {\n    if (parameters[param]) {\n      // Substitute known parameter\n      escapedTemplate = escapedTemplate.replace(`{{${param}}}`, parameters[param]);\n    } else {\n      // Track unsubstituted variables\n      unsubstitutedVars.push(param);\n      // Use appropriate regex pattern based on variable name\n      const replacement = param.endsWith(\"GRD\") ? \"(.*)\" : \"(.*?)\";\n      escapedTemplate = escapedTemplate.replace(`{{${param}}}`, replacement);\n    }\n  }\n\n  return {\n    pattern: escapedTemplate,\n    allVars,\n    unsubstitutedVars,\n  };\n}\n\n// Function to check if a request matches filtering criteria\nfunction matchesRequestCriteria(request, filterCriteria, parameters = {}) {\n  // Check URL match\n\n  // For exact match\n  if (filterCriteria.url === request.url) {\n    return true;\n  }\n\n  // For regex match\n  if (filterCriteria.urlType === \"REGEX\") {\n    const urlRegex = new RegExp(convertTemplateToRegex(filterCriteria.url, parameters).pattern);\n    if (!urlRegex.test(request.url)) {\n      return false;\n    }\n  }\n\n  // For template match\n  if (filterCriteria.urlType === \"TEMPLATE\") {\n    const urlTemplate = new RegExp(convertTemplateToRegex(filterCriteria.url, parameters).pattern);\n    if (!urlTemplate.test(request.url)) {\n      return false;\n    }\n  }\n\n  // Check method match\n  if (request.method !== filterCriteria.method) {\n    return false;\n  }\n\n  // Check body match if enabled\n  if (filterCriteria.bodySniff && filterCriteria.bodySniff.enabled) {\n    const bodyTemplate = filterCriteria.bodySniff.template;\n    const requestBody =\n      typeof request.body === \"string\" ? request.body : JSON.stringify(request.body);\n\n    // For exact match\n    if (bodyTemplate === requestBody) {\n      return true;\n    }\n\n    // For template match\n    const bodyRegex = new RegExp(convertTemplateToRegex(bodyTemplate, parameters).pattern);\n    if (!bodyRegex.test(requestBody)) {\n      return false;\n    }\n  }\n\n  // If we get here, all criteria matched\n  return true;\n}\n\n// Function to check if response matches criteria\nfunction matchesResponseCriteria(responseText, matchCriteria, parameters = {}) {\n  if (!matchCriteria || matchCriteria.length === 0) {\n    return true;\n  }\n\n  for (const match of matchCriteria) {\n    let pattern;\n    if (match.type === \"regex\") {\n      pattern = match.value;\n    } else {\n      pattern = convertTemplateToRegex(match.value, parameters).pattern;\n    }\n    const regex = new RegExp(pattern);\n    const matches = regex.test(responseText);\n    // Check if match expectation is met\n    const matchExpectation = match.invert ? !matches : matches;\n    if (!matchExpectation) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n// Function to check if response fields match responseRedactions criteria\nfunction matchesResponseFields(responseText, responseRedactions) {\n  if (!responseRedactions || responseRedactions.length === 0) {\n    return true;\n  }\n\n  // Try to parse JSON if the response appears to be JSON\n  let jsonData = null;\n  const isJson = isJsonFormat(responseText);\n\n  if (isJson) {\n    jsonData = safeJsonParse(responseText);\n    if (jsonData) {\n    }\n  }\n\n  // Check each redaction pattern\n  for (const redaction of responseRedactions) {\n    // If jsonPath is specified and response is JSON\n    if (redaction.jsonPath && jsonData) {\n      try {\n        const value = getValueFromJsonPath(jsonData, redaction.jsonPath);\n        // If we get here but value is undefined, the path doesn't exist\n        if (value === undefined) return false;\n      } catch (error) {\n        debugLogger.error(\n          DebugLogType.CLAIM,\n          `[NETWORK-FILTER] Error checking jsonPath ${redaction.jsonPath}:`,\n          error,\n        );\n        return false;\n      }\n    }\n    // If xPath is specified and response is not JSON (assumed to be HTML)\n    else if (redaction.xPath && !isJson) {\n      try {\n        const value = getValueFromXPath(responseText, redaction.xPath);\n        if (!value) return false;\n      } catch (error) {\n        debugLogger.error(\n          DebugLogType.CLAIM,\n          `[NETWORK-FILTER] Error checking xPath ${redaction.xPath}:`,\n          error,\n        );\n        return false;\n      }\n    }\n    // If regex is specified\n    else if (redaction.regex) {\n      try {\n        const regex = new RegExp(redaction.regex);\n        if (!regex.test(responseText)) return false;\n      } catch (error) {\n        debugLogger.error(\n          DebugLogType.CLAIM,\n          `[NETWORK-FILTER] Error checking regex ${redaction.regex}:`,\n          error,\n        );\n        return false;\n      }\n    }\n  }\n\n  // All checks passed\n  return true;\n}\n\n// Main filtering function\nexport const filterRequest = (request, filterCriteria, parameters = {}) => {\n  if (request?.url?.includes(\"https://www.tiktok.com/@rikopiko15\")) {\n    console.log({ request, filterCriteria, parameters });\n  }\n  try {\n    // First check if request matches criteria\n    if (!matchesRequestCriteria(request, filterCriteria, parameters)) {\n      return false;\n    }\n\n    // Then check if response matches (if we have response data)\n    if (request.responseText && filterCriteria.responseMatches) {\n      if (\n        !matchesResponseCriteria(request.responseText, filterCriteria.responseMatches, parameters)\n      ) {\n        return false;\n      }\n    }\n\n    // Check if the response fields match the responseRedactions criteria\n    if (request.responseText && filterCriteria.responseRedactions) {\n      if (!matchesResponseFields(request.responseText, filterCriteria.responseRedactions)) {\n        return false;\n      }\n    }\n\n    return true;\n  } catch (error) {\n    debugLogger.error(DebugLogType.CLAIM, \"[NETWORK-FILTER] Error filtering request:\", error);\n    return false;\n  }\n};\n","// Utility functions for parameter extraction from various sources\nimport { convertTemplateToRegex } from \"./network-filter\";\nimport {\n  getValueFromJsonPath,\n  getValueFromXPath,\n  isJsonFormat,\n  safeJsonParse,\n} from \"./params-extractor-utils.js\";\nimport { debugLogger, DebugLogType } from \"../logger\";\n\n/**\n * Extract dynamic parameters from a string by matching {{PARAM_NAME}} patterns\n * @param {string} text - Text to extract parameters from\n * @returns {string[]} Array of parameter names without braces\n */\nexport const extractDynamicParamNames = (text) => {\n  if (!text) return [];\n  const matches = text.match(/{{([^}]+)}}/g) || [];\n  return matches.map((match) => match.substring(2, match.length - 2));\n};\n\n/**\n * Extract parameter values from URL using template matching\n * @param {string} urlTemplate - URL template with {{param}} placeholders\n * @param {string} actualUrl - Actual URL with values\n * @param {Object} paramValues - Object to store extracted parameter values\n * @returns {Object} Updated paramValues object\n */\nexport const extractParamsFromUrl = (urlTemplate, actualUrl, paramValues = {}) => {\n  if (!urlTemplate || !actualUrl) return paramValues;\n\n  // Extract param names from template\n  const paramNames = extractDynamicParamNames(urlTemplate);\n  const regex = convertTemplateToRegex(urlTemplate, paramNames).pattern;\n\n  // Match actual URL against the pattern\n  const match = actualUrl.match(regex);\n  if (match && match.length > 1) {\n    // Start from index 1 to skip the full match\n    for (let i = 0; i < paramNames.length; i++) {\n      if (match[i + 1]) {\n        paramValues[paramNames[i]] = match[i + 1];\n      }\n    }\n  }\n  return paramValues;\n};\n\n/**\n * Extract parameter values from request body using template matching\n * @param {string} bodyTemplate - Body template with {{param}} placeholders\n * @param {string} actualBody - Actual request body with values\n * @param {Object} paramValues - Object to store extracted parameter values\n * @returns {Object} Updated paramValues object\n */\nexport const extractParamsFromBody = (bodyTemplate, actualBody, paramValues = {}) => {\n  if (!bodyTemplate || !actualBody) return paramValues;\n\n  // Extract param names from template\n  const paramNames = extractDynamicParamNames(bodyTemplate);\n\n  const { pattern } = convertTemplateToRegex(bodyTemplate, {});\n  const regex = new RegExp(pattern);\n\n  // Match actual body against the pattern\n  const match = actualBody.match(regex);\n  if (match && match.length > 1) {\n    // Start from index 1 to skip the full match\n    for (let i = 0; i < paramNames.length; i++) {\n      if (match[i + 1]) {\n        paramValues[paramNames[i]] = match[i + 1];\n      }\n    }\n  }\n\n  return paramValues;\n};\n\n/**\n * Extract parameter values from response text using responseMatches and responseRedactions\n * @param {string} responseText - Response body text\n * @param {Array} responseMatches - Array of response match objects\n * @param {Array} responseRedactions - Array of response redaction objects\n * @param {Object} paramValues - Object to store extracted parameter values\n * @returns {Object} Updated paramValues object\n */\nexport const extractParamsFromResponse = (\n  responseText,\n  responseMatches,\n  responseRedactions,\n  paramValues = {},\n) => {\n  if (!responseText) return paramValues;\n\n  try {\n    // First, determine if the response is JSON or HTML\n    let jsonData = null;\n    const isJson = isJsonFormat(responseText);\n\n    if (isJson) {\n      jsonData = safeJsonParse(responseText);\n    }\n\n    // Process responseMatches to extract parameters\n    if (\n      responseMatches &&\n      responseMatches.length > 0 &&\n      responseRedactions &&\n      responseRedactions.length > 0\n    ) {\n      // iterate over the responseMatches and responseRedactions both have elements with co related to the same index\n      for (let i = 0; i < responseMatches.length; i++) {\n        const match = responseMatches[i];\n        const redaction = responseRedactions[i];\n\n        if (!match.value) return;\n\n        // Extract param names from match value expect one parameter per responseMatch\n        const paramNames = extractDynamicParamNames(match.value);\n        if (paramNames.length === 0) return;\n\n        // Find corresponding redaction for this parameter\n        // Expecting only one redaction per parameter\n        const matchingRedaction = redaction;\n\n        if (matchingRedaction) {\n          let extractedValue = null;\n\n          // Try to extract using jsonPath if available and response is JSON\n          if (matchingRedaction.jsonPath && jsonData) {\n            extractedValue = getValueFromJsonPath(jsonData, matchingRedaction.jsonPath);\n          }\n          // Try to extract using xPath if available and response is HTML\n          else if (matchingRedaction.xPath && !isJson) {\n            extractedValue = getValueFromXPath(responseText, matchingRedaction.xPath);\n          }\n          // Fall back to regex extraction\n          else if (matchingRedaction.regex) {\n            const regexMatch = responseText.match(new RegExp(matchingRedaction.regex));\n            if (regexMatch && regexMatch.length > 1) {\n              extractedValue = regexMatch[1];\n            }\n          }\n\n          // Store the extracted value as string\n          if (extractedValue !== undefined) {\n            // Convert objects and arrays to JSON string, primitives to regular string\n            if (typeof extractedValue === \"object\" && extractedValue !== null) {\n              paramValues[paramNames[0]] = JSON.stringify(extractedValue);\n            } else if (extractedValue === null) {\n              paramValues[paramNames[0]] = null;\n            } else {\n              paramValues[paramNames[0]] = String(extractedValue);\n            }\n          }\n        }\n      }\n    }\n  } catch (error) {\n    debugLogger.error(\n      DebugLogType.CLAIM,\n      \"[PARAM-EXTRACTOR] Error extracting params from response:\",\n      error,\n    );\n  }\n\n  return paramValues;\n};\n\n/**\n * Separate parameters into public and secret based on names\n * @param {Object} paramValues - All parameter values\n * @returns {Object} Object with publicParams and secretParams\n */\nexport const separateParams = (paramValues) => {\n  const publicParams = {};\n  const secretParams = {};\n\n  Object.entries(paramValues || {}).forEach(([key, value]) => {\n    if (key.toLowerCase().includes(\"secret\")) {\n      secretParams[key] = value;\n    } else {\n      publicParams[key] = value;\n    }\n  });\n\n  return { publicParams, secretParams };\n};\n","// src/utils/offscreen-manager.js\nimport { MESSAGE_ACTIONS, MESSAGE_SOURCES } from \"./constants\";\nimport { loggerService, createContextLogger } from \"./logger/LoggerService\";\nimport { LOG_TYPES, LOG_LEVEL } from \"./logger/constants\";\n\nloggerService.setConfig({\n  consoleEnabled: true,\n  backendEnabled: true,\n  consoleLevel: LOG_LEVEL.INFO,\n  backendLevel: LOG_LEVEL.INFO,\n  includeSensitiveToBackend: false,\n  debugMode: false,\n});\n\nconst offscreenLogger = createContextLogger({\n  sessionId: \"unknown\",\n  providerId: \"unknown\",\n  appId: \"unknown\",\n  source: \"reclaim-extension-sdk\",\n  type: LOG_TYPES.OFFSCREEN,\n});\n\n// Track the offscreen document status\nlet offscreenReady = false;\nlet offscreenDocTimeout = null; // Used by waitForOffscreenReady's timeout\nlet offscreenCreationPromise = null;\n\n// Define the global listener first\nconst offscreenGlobalListener = (message) => {\n  if (\n    message?.action === MESSAGE_ACTIONS.OFFSCREEN_DOCUMENT_READY &&\n    message?.source === MESSAGE_SOURCES.OFFSCREEN &&\n    message?.target === MESSAGE_SOURCES.BACKGROUND\n  ) {\n    offscreenLogger.info(\"[OFFSCREEN-MANAGER] Received offscreen ready signal (global listener).\");\n    offscreenReady = true;\n    if (offscreenDocTimeout) {\n      clearTimeout(offscreenDocTimeout);\n      offscreenDocTimeout = null;\n    }\n  }\n};\n\n// Exported installer to attach the listener safely in SW context\nexport const installOffscreenReadyListener = () => {\n  if (\n    typeof chrome === \"undefined\" ||\n    !chrome.runtime ||\n    !chrome.runtime.onMessage ||\n    !chrome.runtime.onMessage.addListener ||\n    !chrome.runtime.onMessage.hasListener\n  ) {\n    return;\n  }\n  if (chrome.runtime.onMessage.hasListener(offscreenGlobalListener)) {\n    return;\n  }\n  chrome.runtime.onMessage.addListener(offscreenGlobalListener);\n};\n\n// Global listener for the ready signal from offscreen document.\n// This needs to be set up immediately to catch the ready signal if the offscreen document\n// initializes and sends it before any call to ensureOffscreenDocument.\nconst setupOffscreenReadyListener = () => {\n  if (\n    typeof chrome === \"undefined\" ||\n    !chrome.runtime ||\n    !chrome.runtime.onMessage ||\n    !chrome.runtime.onMessage.addListener ||\n    !chrome.runtime.onMessage.hasListener\n  ) {\n    return;\n  }\n  if (chrome.runtime.onMessage.hasListener(offscreenGlobalListener)) {\n    return;\n  }\n  chrome.runtime.onMessage.addListener(offscreenGlobalListener);\n};\n\nif (typeof chrome !== \"undefined\" && chrome.runtime && chrome.runtime.onMessage) {\n  setupOffscreenReadyListener();\n}\n\n// Set up listener immediately when the module loads\nsetupOffscreenReadyListener();\n\nasync function createOffscreenDocumentInternal() {\n  const offscreenUrl = chrome.runtime.getURL(\n    \"reclaim-browser-extension-sdk/offscreen/offscreen.html\",\n  );\n  offscreenLogger.info(\n    \"[OFFSCREEN-MANAGER] Attempting to create offscreen document with URL:\",\n    offscreenUrl,\n  );\n  try {\n    await chrome.offscreen.createDocument({\n      url: offscreenUrl,\n      reasons: [\"DOM_PARSER\", \"IFRAME_SCRIPTING\", \"BLOBS\"], // Added BLOBS for crypto if needed\n      justification:\n        \"Manages DOM-dependent operations like crypto and ZK proof generation for the extension.\",\n    });\n    offscreenLogger.info(\"[OFFSCREEN-MANAGER] Offscreen document creation initiated.\");\n    // The 'OFFSCREEN_DOCUMENT_READY' message will set offscreenReady to true.\n  } catch (error) {\n    if (\n      error.message &&\n      error.message.includes(\"Only a single offscreen document may be created.\")\n    ) {\n      offscreenLogger.warn(\n        \"[OFFSCREEN-MANAGER] Offscreen document already exists or creation was attempted by another part.\",\n      );\n      // It exists, so we just need to wait for it to be ready if it's not already.\n      // The ensureOffscreenDocument logic will handle waiting for readiness.\n    } else {\n      offscreenLogger.error(\"[OFFSCREEN-MANAGER] Error creating offscreen document:\", error);\n      throw error; // Re-throw other errors\n    }\n  }\n}\n\nasync function waitForOffscreenReadyInternal(timeoutMs = 15000) {\n  if (offscreenReady) {\n    offscreenLogger.info(\"[OFFSCREEN-MANAGER] Already ready (waitForOffscreenReadyInternal check)\");\n    return true;\n  }\n\n  offscreenLogger.info(\n    \"[OFFSCREEN-MANAGER] Waiting for offscreen document to be ready (timeout:- ${timeoutMs}ms)...\",\n  );\n\n  // Proactively ping the offscreen document.\n  // This can help if the offscreen document is already running but this manager missed the initial ready signal.\n  try {\n    chrome.runtime.sendMessage({\n      action: MESSAGE_ACTIONS.PING_OFFSCREEN,\n      source: MESSAGE_SOURCES.BACKGROUND,\n      target: MESSAGE_SOURCES.OFFSCREEN,\n    });\n  } catch (e) {\n    offscreenLogger.warn(\"[OFFSCREEN-MANAGER] Synchronous error sending ping:\" + e?.message);\n  }\n\n  return new Promise((resolve) => {\n    if (offscreenReady) {\n      // Double check after setup\n      offscreenLogger.info(\"[OFFSCREEN-MANAGER] Became ready while setting up promise.\");\n      resolve(true);\n      return;\n    }\n\n    const listener = (message) => {\n      if (\n        message.action === MESSAGE_ACTIONS.OFFSCREEN_DOCUMENT_READY &&\n        message.source === MESSAGE_SOURCES.OFFSCREEN &&\n        message.target === MESSAGE_SOURCES.BACKGROUND\n      ) {\n        offscreenReady = true;\n        clearTimeout(localTimeoutId);\n        chrome.runtime.onMessage.removeListener(listener);\n        if (offscreenDocTimeout === localTimeoutId) {\n          // Clear global timeout if it's this one\n          offscreenDocTimeout = null;\n        }\n        resolve(true);\n      }\n    };\n\n    chrome.runtime.onMessage.addListener(listener);\n\n    // Clear any previous timeout and set a new one for this wait\n    if (offscreenDocTimeout) {\n      clearTimeout(offscreenDocTimeout);\n    }\n    const localTimeoutId = setTimeout(() => {\n      chrome.runtime.onMessage.removeListener(listener);\n      offscreenLogger.error(\n        \"[OFFSCREEN-MANAGER] Timed out waiting for offscreen document after \" + timeoutMs + \" ms.\",\n      );\n      if (offscreenDocTimeout === localTimeoutId) {\n        offscreenDocTimeout = null;\n      }\n      resolve(false);\n    }, timeoutMs);\n    offscreenDocTimeout = localTimeoutId;\n  });\n}\n\nexport async function ensureOffscreenDocument() {\n  if (offscreenReady) {\n    offscreenLogger.info(\"[OFFSCREEN-MANAGER] Document already confirmed ready.\");\n    return true;\n  }\n\n  // If a creation process is already underway, await its completion.\n  if (offscreenCreationPromise) {\n    offscreenLogger.info(\"[OFFSCREEN-MANAGER] Creation already in progress, awaiting...\");\n    await offscreenCreationPromise;\n    // After creation promise resolves, it might still not be \"ready\" (message might be pending)\n    // Fall through to waitForOffscreenReadyInternal\n  }\n\n  // Check if an offscreen document context already exists.\n  // This is useful if the service worker restarted but the offscreen document persisted.\n  if (chrome.runtime.getContexts) {\n    const contexts = await chrome.runtime.getContexts({ contextTypes: [\"OFFSCREEN_DOCUMENT\"] });\n    if (contexts.length > 0) {\n      offscreenLogger.info(\"[OFFSCREEN-MANAGER] Offscreen document context found.\");\n      if (offscreenReady) return true; // Already marked ready by global listener\n      // If context exists but not marked ready, wait for the signal\n      offscreenLogger.info(\n        \"[OFFSCREEN-MANAGER] Context exists, but not marked ready. Waiting for signal...\",\n      );\n      return await waitForOffscreenReadyInternal(5000); // Shorter timeout if context found\n    }\n  }\n\n  // If no context found and not ready, and no creation in progress, attempt to create.\n  if (!offscreenCreationPromise) {\n    offscreenLogger.info(\"[OFFSCREEN-MANAGER] No existing context/promise, initiating creation.\");\n    offscreenCreationPromise = createOffscreenDocumentInternal().finally(() => {\n      offscreenCreationPromise = null; // Clear promise once operation (success or fail) is done\n    });\n    await offscreenCreationPromise;\n  }\n\n  // After ensuring creation was attempted (or awaited), wait for it to become ready.\n  const isReady = await waitForOffscreenReadyInternal(50000);\n  if (!isReady) {\n    throw new Error(\"Failed to initialize or confirm offscreen document readiness.\");\n  }\n  offscreenLogger.info(\"[OFFSCREEN-MANAGER] Offscreen document ensured to be ready.\");\n  return true;\n}\n","// Import polyfills\nimport \"../utils/polyfills\";\n\nimport { RECLAIM_SDK_ACTIONS, MESSAGE_ACTIONS, MESSAGE_SOURCES } from \"../utils/constants\";\nimport { createProviderVerificationPopup } from \"./components/reclaim-provider-verification-popup\";\nimport { filterRequest } from \"../utils/claim-creator\";\nimport { loggerService, createContextLogger } from \"../utils/logger/LoggerService\";\nimport { LOG_TYPES, LOG_LEVEL } from \"../utils/logger/constants\";\n\n// Default: INFO+ to console and backend\nloggerService.setConfig({\n  consoleEnabled: true,\n  backendEnabled: true,\n  consoleLevel: LOG_LEVEL.INFO,\n  backendLevel: LOG_LEVEL.INFO,\n  includeSensitiveToBackend: false,\n  debugMode: false, // set true to print every log to console\n});\n\nconst logger = createContextLogger({\n  sessionId: \"unknown\",\n  providerId: \"unknown\",\n  appId: \"unknown\",\n  source: \"reclaim-extension-sdk\",\n});\n\n// Create a flag to track if we should initialize\nlet shouldInitialize = false;\nlet interceptorInjected = false;\nlet injectionScriptInjected = false;\n\n// Function to inject the network interceptor - will be called conditionally\nconst injectNetworkInterceptor = function () {\n  if (interceptorInjected) return;\n\n  try {\n    const script = document.createElement(\"script\");\n    const src = chrome.runtime.getURL(\n      \"reclaim-browser-extension-sdk/interceptor/network-interceptor.bundle.js\",\n    );\n    script.src = src;\n    script.type = \"text/javascript\";\n\n    // Set highest priority attributes\n    script.async = false;\n    script.defer = false;\n\n    // Try to inject as early as possible\n    let injected = false;\n\n    // Function to actually inject the script with highest priority\n    const injectNow = () => {\n      if (injected) return;\n\n      if (document.documentElement) {\n        // Use insertBefore for highest priority injection\n        document.documentElement.insertBefore(script, document.documentElement.firstChild);\n        injected = true;\n        interceptorInjected = true;\n      } else if (document.head) {\n        document.head.insertBefore(script, document.head.firstChild);\n        injected = true;\n        interceptorInjected = true;\n      } else if (document) {\n        document.appendChild(script);\n        injected = true;\n        interceptorInjected = true;\n      }\n    };\n\n    // Try to inject immediately\n    injectNow();\n\n    // Also set up a MutationObserver as a fallback\n    if (!injected) {\n      const observer = new MutationObserver(() => {\n        if (!injected && (document.documentElement || document.head)) {\n          injectNow();\n          if (injected) {\n            observer.disconnect();\n          }\n        }\n      });\n\n      // Observe document for any changes at the earliest possible moment\n      observer.observe(document, { childList: true, subtree: true });\n    }\n\n    return script; // Return script element to prevent garbage collection\n  } catch (e) {\n    return null;\n  }\n};\n\n// Function to inject the injection scripts - similar to network interceptor\nconst injectDynamicInjectionScript = function () {\n  if (injectionScriptInjected) return;\n\n  try {\n    const script = document.createElement(\"script\");\n    script.src = chrome.runtime.getURL(\n      \"reclaim-browser-extension-sdk/interceptor/injection-scripts.bundle.js\",\n    );\n    script.type = \"text/javascript\";\n\n    // Set highest priority attributes\n    script.async = false;\n    script.defer = false;\n\n    // Try to inject as early as possible\n    let injected = false;\n\n    // Function to actually inject the script with highest priority\n    const injectNow = () => {\n      if (injected) return;\n\n      if (document.documentElement) {\n        // Use insertBefore for highest priority injection\n        document.documentElement.insertBefore(script, document.documentElement.firstChild);\n        injected = true;\n        injectionScriptInjected = true;\n      } else if (document.head) {\n        document.head.insertBefore(script, document.head.firstChild);\n        injected = true;\n        injectionScriptInjected = true;\n      } else if (document) {\n        document.appendChild(script);\n        injected = true;\n        injectionScriptInjected = true;\n      }\n    };\n\n    // Try to inject immediately\n    injectNow();\n\n    // Also set up a MutationObserver as a fallback\n    if (!injected) {\n      const observer = new MutationObserver(() => {\n        if (!injected && (document.documentElement || document.head)) {\n          injectNow();\n          if (injected) {\n            observer.disconnect();\n          }\n        }\n      });\n\n      // Observe document for any changes at the earliest possible moment\n      observer.observe(document, { childList: true, subtree: true });\n    }\n\n    return script; // Return script element to prevent garbage collection\n  } catch (e) {\n    return null;\n  }\n};\n\n// Always forward proof completion/failure to the page, even in non-managed tabs\ntry {\n  chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n    const { action, data } = message || {};\n    if (action === MESSAGE_ACTIONS.PROOF_SUBMITTED) {\n      try {\n        const proofs = data?.formattedProofs || data?.proof || data;\n        window.postMessage(\n          {\n            action: RECLAIM_SDK_ACTIONS.VERIFICATION_COMPLETED,\n            messageId: data?.sessionId,\n            data: { proofs },\n          },\n          \"*\",\n        );\n      } catch {}\n      sendResponse?.({ success: true });\n      return true;\n    }\n    if (\n      action === MESSAGE_ACTIONS.PROOF_SUBMISSION_FAILED ||\n      action === MESSAGE_ACTIONS.PROOF_GENERATION_FAILED\n    ) {\n      try {\n        window.postMessage(\n          {\n            action: RECLAIM_SDK_ACTIONS.VERIFICATION_FAILED,\n            messageId: data?.sessionId,\n            error: data?.error || \"Verification failed\",\n          },\n          \"*\",\n        );\n      } catch {}\n      sendResponse?.({ success: true });\n      return true;\n    }\n    return false;\n  });\n} catch {}\n\n// On load, immediately check if this tab should be initialized\n(async function () {\n  try {\n    // Early managed-tab check to inject interceptor only for verification tabs\n    try {\n      chrome.runtime.sendMessage(\n        {\n          action: MESSAGE_ACTIONS.CHECK_IF_MANAGED_TAB,\n          source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n          target: MESSAGE_SOURCES.BACKGROUND,\n          data: {},\n        },\n        (resp) => {\n          // If this tab is managed, set the flag and inject immediately to catch login-time requests\n          if (resp?.success && resp.isManaged) {\n            shouldInitialize = true;\n\n            injectNetworkInterceptor(); // safe: guarded by interceptorInjected\n            // Optional: if you also want the extra script:\n            injectDynamicInjectionScript();\n          }\n        },\n      );\n    } catch (e) {\n      // ignore\n    }\n    // Notify background script that content script is loaded\n\n    chrome.runtime.sendMessage({\n      action: MESSAGE_ACTIONS.CONTENT_SCRIPT_LOADED,\n      source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n      target: MESSAGE_SOURCES.BACKGROUND,\n      data: { url: window.location.href },\n    });\n\n    // Listen for the background script's response about initialization\n    chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n      const { action, data } = message;\n\n      if (action === MESSAGE_ACTIONS.SHOULD_INITIALIZE) {\n        shouldInitialize = data.shouldInitialize;\n\n        if (shouldInitialize) {\n          // If we should initialize, inject the interceptor immediately\n          injectNetworkInterceptor();\n\n          // Also inject the dynamic injection script loader\n          injectDynamicInjectionScript();\n\n          // And initialize the content script\n          window.reclaimContentScript = new ReclaimContentScript();\n        }\n\n        sendResponse({ success: true });\n      }\n\n      return true;\n    });\n  } catch (e) {\n    // Silent error handling\n  }\n})();\n\nclass ReclaimContentScript {\n  constructor() {\n    // The interceptor should be injected before this constructor runs\n    this.init();\n\n    // Only initialize popup-related properties if this is likely a managed tab\n    // These will be properly set later during initialization\n    this.verificationPopup = null;\n    this.providerName = null;\n    this.credentialType = null;\n    this.dataRequired = null;\n\n    // Storage for intercepted requests and responses\n    this.interceptedRequestResponses = new Map();\n\n    // Filtering state\n    this.providerData = null;\n    this.parameters = {};\n    this.sessionId = null;\n    this.providerId = null;\n    this.appId = null;\n    this.filteringInterval = null;\n    this.filteringStartTime = null;\n    this.filteredRequests = [];\n    this.isFiltering = false;\n    this.stopStoringInterceptions = false;\n\n    // Flag to track if this is a managed tab (will be set during init)\n    this.isManagedTab = false;\n\n    this._mode =\n      typeof chrome !== \"undefined\" && chrome.runtime && location?.protocol === \"chrome-extension:\"\n        ? \"extension\"\n        : \"web\";\n    if (this._mode === \"extension\") {\n      this._boundChromeHandler = (message) => {\n        const { action, data, error } = message || {};\n        const messageId = data?.sessionId;\n        if (!action || (this.sessionId && this.sessionId !== messageId)) return;\n        if (action === \"PROOF_SUBMITTED\") {\n          const proofs = data?.formattedProofs || data?.proof || data;\n          this._emit(\"completed\", proofs);\n        } else if (action === \"PROOF_SUBMISSION_FAILED\" || action === \"PROOF_GENERATION_FAILED\") {\n          this._emit(\"error\", error || new Error(\"Verification failed\"));\n        }\n      };\n      try {\n        chrome.runtime.onMessage.addListener(this._boundChromeHandler);\n      } catch {}\n    } else {\n      this._boundWindowHandler = this.handleWindowMessage.bind(this);\n      window.addEventListener(\"message\", this._boundWindowHandler);\n    }\n  }\n\n  init() {\n    // Listen for messages from the web page\n    // window.addEventListener(\"message\", this.handleWindowMessage.bind(this));\n\n    if (!shouldInitialize) {\n      return;\n    }\n\n    chrome.runtime.onMessage.addListener(this.handleMessage.bind(this));\n\n    // First verify this is a managed tab before proceeding with initialization\n    chrome.runtime.sendMessage(\n      {\n        action: MESSAGE_ACTIONS.CHECK_IF_MANAGED_TAB,\n        source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n        target: MESSAGE_SOURCES.BACKGROUND,\n        data: {},\n      },\n      (response) => {\n        if (!response.success || !response.isManaged) {\n          // This tab is not managed by the extension, don't initialize popup-related functionality\n          this.isManagedTab = false;\n          return;\n        }\n\n        // Mark this as a managed tab\n        this.isManagedTab = true;\n\n        // Only proceed with provider data request if this is a managed tab\n        chrome.runtime.sendMessage(\n          {\n            action: MESSAGE_ACTIONS.REQUEST_PROVIDER_DATA,\n            source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n            target: MESSAGE_SOURCES.BACKGROUND,\n            data: { url: window.location.href },\n          },\n          (response) => {\n            if (response.success) {\n              this.providerData = response.data.providerData;\n              this.parameters = response.data.parameters;\n              this.sessionId = response.data.sessionId;\n              this.providerId = response.data.providerId || \"unknown\";\n              this.appId = response.data.appId || \"unknown\";\n\n              logger.setContext({\n                sessionId: this.sessionId,\n                providerId: this.providerId,\n                appId: this.appId,\n                type: LOG_TYPES.CONTENT,\n              });\n\n              logger.info(\n                \"[Content] Provider data received from background script and will proceed with network filtering.\",\n              );\n\n              // Trigger one-time page fetch if replay is allowed\n              if (!this.providerData?.disableRequestReplay) {\n                chrome.runtime.sendMessage({\n                  action: MESSAGE_ACTIONS.INJECT_VIA_SCRIPTING,\n                  source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n                  target: MESSAGE_SOURCES.BACKGROUND,\n                  data: { op: \"REPLAY_PAGE_FETCH\", showAlert: false },\n                });\n              }\n\n              localStorage.setItem(\n                \"reclaimBrowserExtensionParameters\",\n                JSON.stringify(this.parameters || {}),\n              );\n              window.postMessage(\n                {\n                  action: RECLAIM_SDK_ACTIONS.PARAMETERS_UPDATE,\n                  data: { parameters: this.parameters || {} },\n                },\n                \"*\",\n              );\n\n              // Store provider ID in website's localStorage for injection script access\n              this.setProviderIdInLocalStorage(this.providerId);\n\n              // Store injection script in website's localStorage for injection script access\n              if (\n                this.providerData?.customInjection?.length &&\n                this.providerData?.extensionConfig?.allowInjectionsViaChromeScritpting\n              ) {\n                chrome.runtime.sendMessage({\n                  action: MESSAGE_ACTIONS.INJECT_VIA_SCRIPTING,\n                  source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n                  target: MESSAGE_SOURCES.BACKGROUND,\n                  data: { op: \"RUN_CUSTOM_INJECTION\", code: this.providerData.customInjection },\n                });\n              }\n              this.setProviderInjectionScriptInLocalStorage(\n                this.providerId,\n                this.providerData?.customInjection,\n              );\n\n              if (!this.isFiltering) {\n                this.startNetworkFiltering();\n              }\n              this.setupUrlListener();\n            }\n          },\n        );\n      },\n    );\n  }\n\n  handleMessage(message, sender, sendResponse) {\n    const { action, data, source } = message;\n\n    switch (action) {\n      case MESSAGE_ACTIONS.SHOULD_INITIALIZE:\n        // ignore this message since we already handle it in the initialization check\n        break;\n\n      case MESSAGE_ACTIONS.PROVIDER_DATA_READY:\n        // Only process provider data if this is a managed tab\n        if (!this.isManagedTab) {\n          sendResponse({ success: false, message: \"Tab is not managed by extension\" });\n          break;\n        }\n\n        this.providerData = data.providerData;\n        this.parameters = data.parameters;\n        this.sessionId = data.sessionId;\n        this.providerId = data.providerId || \"unknown\";\n        this.appId = data.appId || \"unknown\";\n\n        localStorage.setItem(\n          \"reclaimBrowserExtensionParameters\",\n          JSON.stringify(this.parameters || {}),\n        );\n        window.postMessage(\n          {\n            action: RECLAIM_SDK_ACTIONS.PARAMETERS_UPDATE,\n            data: { parameters: this.parameters || {} },\n          },\n          \"*\",\n        );\n\n        // Store provider ID in website's localStorage for injection script access\n        this.setProviderIdInLocalStorage(this.providerId);\n\n        // Store injection script in website's localStorage for injection script access\n        this.setProviderInjectionScriptInLocalStorage(this.providerId, data?.customInjection);\n\n        if (!this.isFiltering) {\n          this.startNetworkFiltering();\n        }\n\n        this.setupUrlListener();\n\n        logger.info(\n          \"[Content] Provider data received from background script and will proceed with network filtering.\",\n        );\n\n        sendResponse({ success: true });\n        break;\n\n      case MESSAGE_ACTIONS.SHOW_PROVIDER_VERIFICATION_POPUP:\n        // First check if this tab is managed by the extension before showing popup\n        chrome.runtime.sendMessage(\n          {\n            action: MESSAGE_ACTIONS.CHECK_IF_MANAGED_TAB,\n            source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n            target: MESSAGE_SOURCES.BACKGROUND,\n            data: {},\n          },\n          (response) => {\n            if (!response.success || !response.isManaged) {\n              // This tab is not managed by the extension, don't show popup\n              sendResponse({ success: false, message: \"Tab is not managed by extension\" });\n              return;\n            }\n\n            // Only proceed with popup creation if this is a managed tab\n            if (this.verificationPopup) {\n              try {\n                document.body.removeChild(this.verificationPopup.element);\n              } catch (e) {\n                // Silent error handling\n              }\n              this.verificationPopup = null;\n            }\n\n            this.providerName = data?.providerName || this.providerName;\n            this.description = data?.description || this.description;\n            this.dataRequired = data?.dataRequired || this.dataRequired;\n            this.sessionId = data?.sessionId || this.sessionId;\n\n            const appendPopupLogic = () => {\n              if (!document.body) {\n                return;\n              }\n              try {\n                this.verificationPopup = createProviderVerificationPopup(\n                  this.providerName,\n                  this.description,\n                  this.dataRequired,\n                  this.sessionId,\n                );\n              } catch (e) {\n                return;\n              }\n\n              try {\n                document.body.appendChild(this.verificationPopup.element);\n              } catch (e) {\n                return;\n              }\n            };\n\n            if (document.readyState === \"loading\") {\n              document.addEventListener(\n                \"DOMContentLoaded\",\n                () => {\n                  appendPopupLogic();\n                },\n                { once: true },\n              );\n            } else {\n              appendPopupLogic();\n            }\n\n            if (this.appId && this.providerId && this.sessionId) {\n              logger.info(\n                \"[Content] Popup display process initiated and will proceed on DOM readiness.\",\n              );\n            }\n            sendResponse({\n              success: true,\n              message: \"Popup display process initiated and will proceed on DOM readiness.\",\n            });\n          },\n        );\n        break;\n\n      // Handle status update messages from background script\n      case MESSAGE_ACTIONS.CLAIM_CREATION_REQUESTED:\n        if (this.verificationPopup) {\n          this.verificationPopup.handleClaimCreationRequested(data.requestHash);\n        }\n        sendResponse({ success: true });\n        break;\n\n      case MESSAGE_ACTIONS.CLAIM_CREATION_SUCCESS:\n        if (this.verificationPopup) {\n          this.verificationPopup.handleClaimCreationSuccess(data.requestHash);\n        }\n        sendResponse({ success: true });\n        break;\n\n      case MESSAGE_ACTIONS.CLAIM_CREATION_FAILED:\n        if (this.verificationPopup) {\n          this.verificationPopup.handleClaimCreationFailed(data.requestHash);\n        }\n        sendResponse({ success: true });\n        break;\n\n      case MESSAGE_ACTIONS.PROOF_GENERATION_STARTED:\n        if (this.verificationPopup) {\n          this.verificationPopup.handleProofGenerationStarted(data.requestHash);\n        }\n        sendResponse({ success: true });\n        break;\n\n      case MESSAGE_ACTIONS.PROOF_GENERATION_SUCCESS:\n        if (this.verificationPopup) {\n          this.verificationPopup.handleProofGenerationSuccess(data.requestHash);\n        }\n        sendResponse({ success: true });\n        break;\n\n      case MESSAGE_ACTIONS.PROOF_GENERATION_FAILED:\n        try {\n          window.postMessage(\n            {\n              action: RECLAIM_SDK_ACTIONS.VERIFICATION_FAILED,\n              messageId: data?.sessionId,\n              error: data?.error || \"Verification failed\",\n            },\n            \"*\",\n          );\n        } catch (e) {\n          // noop\n        }\n        if (this.verificationPopup) {\n          this.verificationPopup.handleProofGenerationFailed(data.requestHash);\n        }\n        sendResponse({ success: true });\n        break;\n\n      case MESSAGE_ACTIONS.PROOF_SUBMITTED:\n        try {\n          const proofs = data?.formattedProofs || data?.proof || data;\n          window.postMessage(\n            {\n              action: RECLAIM_SDK_ACTIONS.VERIFICATION_COMPLETED,\n              messageId: data?.sessionId,\n              data: { proofs },\n            },\n            \"*\",\n          );\n        } catch (e) {\n          // noop\n        }\n        if (this.verificationPopup) {\n          this.verificationPopup.handleProofSubmitted();\n        }\n        sendResponse({ success: true });\n        break;\n\n      case MESSAGE_ACTIONS.PROOF_SUBMISSION_FAILED:\n        // Also forward failure to the page\n        try {\n          window.postMessage(\n            {\n              action: RECLAIM_SDK_ACTIONS.VERIFICATION_FAILED,\n              messageId: data?.sessionId,\n              error: data?.error || \"Proof submission failed\",\n            },\n            \"*\",\n          );\n        } catch (e) {\n          // noop\n        }\n        if (this.verificationPopup) {\n          this.verificationPopup.handleProofSubmissionFailed(data.error);\n        }\n        sendResponse({ success: true });\n        break;\n\n      default:\n        sendResponse({ success: false, error: \"Unknown action\" });\n    }\n\n    return true;\n  }\n\n  checkExtensionId(extensionID) {\n    try {\n      const runtimeId =\n        typeof chrome !== \"undefined\" && chrome.runtime && chrome.runtime.id\n          ? chrome.runtime.id\n          : null;\n      if (!extensionID) {\n        // Non-strict mode: if caller didn't specify an ID, treat this extension as installed\n        return !!runtimeId;\n      }\n      // Strict mode: only true if caller-supplied ID matches this extensions runtime ID\n      return !!runtimeId && extensionID === runtimeId;\n    } catch {\n      return false;\n    }\n  }\n\n  handleWindowMessage(event) {\n    // Only accept messages from the same window\n    if (event.source !== window) return;\n    const { action, data, messageId, extensionID } = event.data;\n\n    // Check if the message is meant for this extension\n    if (action === RECLAIM_SDK_ACTIONS.CHECK_EXTENSION) {\n      // Send response back to the page\n      // check if extensionId is present and is the same as the one in the env file\n      if (!this.checkExtensionId(extensionID)) {\n        return;\n      }\n      window.postMessage(\n        {\n          action: RECLAIM_SDK_ACTIONS.EXTENSION_RESPONSE,\n          messageId: messageId,\n          installed: true,\n        },\n        \"*\",\n      );\n    }\n\n    // Handle provider ID request from injection script\n    if (action === \"RECLAIM_GET_PROVIDER_ID\" && event.data.source === \"injection-script\") {\n      // Respond with the provider ID from extension context\n      window.postMessage(\n        {\n          action: \"RECLAIM_PROVIDER_ID_RESPONSE\",\n          providerId: this.providerId || null,\n          source: \"content-script\",\n        },\n        \"*\",\n      );\n      return;\n    }\n\n    if (action === MESSAGE_ACTIONS.INTERCEPTED_REQUEST_AND_RESPONSE && data) {\n      // Store the intercepted response\n\n      const key = `${data.request.method}_${data.request.url}_${data.timestamp || Date.now()}`;\n      this.interceptedRequestResponses.set(key, data);\n\n      if (data?.response?.body?.includes(\"follower_count\")) {\n        console.log(\"data from INTERCEPTED_REQUEST_AND_RESPONSE\", { data, key });\n      }\n\n      if (this.isFiltering) {\n        this.startNetworkFiltering();\n      }\n    }\n\n    // Handle start verification request from SDK\n    if (action === RECLAIM_SDK_ACTIONS.START_VERIFICATION && data) {\n      // Forward the template data to background script\n      if (!this.checkExtensionId(extensionID)) {\n        return;\n      }\n      logger.info(\"[Content] Starting verification with data from SDK: \" + JSON.stringify(data));\n\n      chrome.runtime.sendMessage(\n        {\n          action: MESSAGE_ACTIONS.START_VERIFICATION,\n          source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n          target: MESSAGE_SOURCES.BACKGROUND,\n          data: data,\n        },\n        (response) => {\n          // Store parameters and session ID for later use\n          if (data.parameters) {\n            this.parameters = data.parameters;\n            localStorage.setItem(\n              \"reclaimBrowserExtensionParameters\",\n              JSON.stringify(this.parameters || {}),\n            );\n            window.postMessage(\n              {\n                action: RECLAIM_SDK_ACTIONS.PARAMETERS_UPDATE,\n                data: { parameters: this.parameters || {} },\n              },\n              \"*\",\n            );\n          }\n\n          if (data.sessionId) {\n            this.sessionId = data.sessionId;\n          }\n\n          // Send confirmation back to SDK\n          if (response && response.success) {\n            window.postMessage(\n              {\n                action: RECLAIM_SDK_ACTIONS.VERIFICATION_STARTED,\n                messageId: messageId,\n                sessionId: data.sessionId,\n              },\n              \"*\",\n            );\n          } else {\n            window.postMessage(\n              {\n                action: RECLAIM_SDK_ACTIONS.VERIFICATION_FAILED,\n                messageId: messageId,\n                error: response?.error || \"Failed to start verification\",\n              },\n              \"*\",\n            );\n          }\n        },\n      );\n    }\n\n    if (action === RECLAIM_SDK_ACTIONS.CANCEL_VERIFICATION) {\n      if (!this.checkExtensionId(extensionID)) {\n        return;\n      }\n      chrome.runtime.sendMessage(\n        {\n          action: MESSAGE_ACTIONS.CANCEL_VERIFICATION,\n          source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n          target: MESSAGE_SOURCES.BACKGROUND,\n          data: { sessionId: this.sessionId },\n        },\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        () => {},\n      );\n    }\n\n    if (action === RECLAIM_SDK_ACTIONS.SET_PUBLIC_DATA && data?.publicData !== null) {\n      this.publicData = String(data?.publicData);\n      chrome.runtime.sendMessage(\n        {\n          action: MESSAGE_ACTIONS.UPDATE_PUBLIC_DATA,\n          source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n          target: MESSAGE_SOURCES.BACKGROUND,\n          data: { publicData: this.publicData },\n        },\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        () => {},\n      );\n      return;\n    }\n\n    if (\n      action === RECLAIM_SDK_ACTIONS.SET_EXPECT_MANY_CLAIMS &&\n      typeof data?.expectMany === \"boolean\"\n    ) {\n      chrome.runtime.sendMessage(\n        {\n          action: MESSAGE_ACTIONS.UPDATE_EXPECT_MANY_CLAIMS,\n          source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n          target: MESSAGE_SOURCES.BACKGROUND,\n          data: { expectMany: !!data.expectMany },\n        },\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        () => {},\n      );\n      return;\n    }\n\n    if (action === RECLAIM_SDK_ACTIONS.PARAMETERS_GET) {\n      chrome.runtime.sendMessage(\n        {\n          action: MESSAGE_ACTIONS.GET_PARAMETERS,\n          source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n          target: MESSAGE_SOURCES.BACKGROUND,\n          data: {},\n        },\n        (resp) => {\n          const params = resp?.success ? resp.parameters || {} : this.parameters || {};\n          this.parameters = params;\n          localStorage.setItem(\n            \"reclaimBrowserExtensionParameters\",\n            JSON.stringify(this.parameters || {}),\n          );\n          window.postMessage(\n            { action: RECLAIM_SDK_ACTIONS.PARAMETERS_UPDATE, data: { parameters: params } },\n            \"*\",\n          );\n        },\n      );\n      return;\n    }\n\n    // Whenever you set this.parameters (e.g., after REQUEST_PROVIDER_DATA, PROVIDER_DATA_READY, or SET_PARAMETERS), also:\n    if (action === RECLAIM_SDK_ACTIONS.SET_PARAMETERS) {\n      this.parameters = data?.parameters || {};\n      localStorage.setItem(\n        \"reclaimBrowserExtensionParameters\",\n        JSON.stringify(this.parameters || {}),\n      );\n      window.postMessage(\n        {\n          action: RECLAIM_SDK_ACTIONS.PARAMETERS_UPDATE,\n          data: { parameters: this.parameters || {} },\n        },\n        \"*\",\n      );\n    }\n\n    if (action === RECLAIM_SDK_ACTIONS.REPORT_PROVIDER_ERROR && data?.message) {\n      chrome.runtime.sendMessage(\n        {\n          action: MESSAGE_ACTIONS.REPORT_PROVIDER_ERROR,\n          source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n          target: MESSAGE_SOURCES.BACKGROUND,\n          data: { message: String(data.message) },\n        },\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        () => {},\n      );\n      return;\n    }\n\n    if (action === RECLAIM_SDK_ACTIONS.REQUEST_CLAIM && data?.rdObject) {\n      if (!this.sessionId) {\n        // Either buffer or just fail-fast; simplest: log and return\n        return;\n      }\n      const rdObject = data.rdObject || {};\n      // Basic hash for status linkage\n      const requestHash = `rc-${Date.now()}-${Math.random().toString(36).slice(2)}`;\n\n      // Request format expected by createClaimObject path\n      const request = {\n        url: String(rdObject?.url || \"\"),\n        method: String(rdObject?.method || \"GET\"),\n        headers: rdObject?.headers || {},\n        body: rdObject?.requestBody != null ? String(rdObject?.requestBody) : \"\",\n        extractedParams: rdObject?.extractedParams || {},\n      };\n\n      // Minimal providerData-like criteria for createClaimObject\n      const criteria = {\n        url: String(rdObject?.url || \"\"),\n        expectedPageUrl: \"\",\n        urlType: \"TEMPLATE\",\n        method: String(rdObject?.method || \"GET\"),\n        responseMatches: Array.isArray(rdObject?.responseMatches) ? rdObject?.responseMatches : [],\n        responseRedactions: Array.isArray(rdObject?.responseRedactions)\n          ? rdObject?.responseRedactions\n          : [],\n        bodySniff: { enabled: false, template: \"\" },\n        additionalClientOptions: {},\n        requestHash,\n      };\n\n      chrome.runtime.sendMessage(\n        {\n          action: MESSAGE_ACTIONS.REQUEST_CLAIM,\n          source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n          target: MESSAGE_SOURCES.BACKGROUND,\n          data: {\n            request,\n            criteria,\n            sessionId: this.sessionId,\n            loginUrl: this.providerData?.loginUrl || \"\",\n          },\n        },\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        () => {},\n      );\n      return;\n    }\n  }\n\n  // Clean up old intercepted data\n  cleanupInterceptedData() {\n    const now = Date.now();\n    const timeout = 2 * 60 * 1000; // 2 minutes\n\n    // Clean up linked data\n    for (const [key, data] of this.interceptedRequestResponses.entries()) {\n      if (now - data.timestamp > timeout) {\n        this.interceptedRequestResponses.delete(key);\n      }\n    }\n  }\n\n  // Start filtering intercepted network requests\n  startNetworkFiltering() {\n    if (!this.providerData) {\n      return;\n    }\n\n    if (this.providerData?.injectionType === \"NONE\") {\n      return;\n    }\n\n    this.isFiltering = true;\n    this.filteringStartTime = Date.now();\n    this.stopStoringInterceptions = false;\n\n    // Run filtering immediately\n    this.filterInterceptedRequests();\n\n    // Clear any existing interval before setting up a new one\n    if (this.filteringInterval) {\n      clearInterval(this.filteringInterval);\n    }\n\n    // Then set up interval for continuous filtering\n    this.filteringInterval = setInterval(() => {\n      // Skip if we've already found all requests\n      if (this.stopStoringInterceptions) {\n        this.stopNetworkFiltering();\n        return;\n      }\n\n      this.filterInterceptedRequests();\n\n      // Check for timeout (10 minutes)\n      if (Date.now() - this.filteringStartTime > 10 * 60 * 1000) {\n        this.stopNetworkFiltering();\n      }\n    }, 1000);\n  }\n\n  // Stop network filtering\n  stopNetworkFiltering() {\n    // Clear the filtering interval\n    if (this.filteringInterval) {\n      clearInterval(this.filteringInterval);\n      this.filteringInterval = null;\n    }\n\n    // Stop filtering flag\n    this.isFiltering = false;\n\n    // If we're stopping due to finding all requests, make sure we've properly\n    // set the flag to stop storing intercepted data\n    if (this.filteredRequests.length >= (this.providerData?.requestData?.length || 0)) {\n      this.stopStoringInterceptions = true;\n\n      // Clear stored data to free memory\n      this.interceptedRequestResponses.clear();\n    }\n  }\n\n  // Filter intercepted requests with provider criteria\n  filterInterceptedRequests() {\n    if (!this.providerData || !this.providerData.requestData) {\n      return;\n    }\n\n    // For each linked request/response pair\n    for (const [key, combinedData] of this.interceptedRequestResponses.entries()) {\n      // Skip already filtered requests\n      if (this.filteredRequests.includes(key)) {\n        continue;\n      }\n\n      const requestValue = combinedData.request;\n      const responseBody = combinedData.response.body;\n\n      // Format request for filtering\n      const formattedRequest = {\n        url: requestValue.url,\n        method: requestValue.method,\n        body: requestValue.body || null,\n        headers: requestValue.headers || {},\n        responseText: responseBody,\n      };\n\n      // Check against each criteria in provider data\n      for (const criteria of this.providerData.requestData) {\n        if (filterRequest(formattedRequest, criteria, this.parameters)) {\n          // Mark this request as filtered\n          logger.info(\n            \"[Content] Matching request found: \" +\n              formattedRequest.method +\n              \" \" +\n              formattedRequest.url,\n          );\n\n          this.filteredRequests.push(key);\n\n          // Send to background script for cookie fetching and claim creation\n          this.sendFilteredRequestToBackground(\n            formattedRequest,\n            criteria,\n            this.providerData.loginUrl,\n          );\n        }\n      }\n    }\n\n    // If we've found all possible matching requests, stop filtering\n    if (this.filteredRequests.length >= this.providerData.requestData.length) {\n      logger.info(\n        \"[Content] Found all matching requests, stopping filtering and cleaning up resources\",\n      );\n\n      // Stop filtering and prevent further storage\n      this.stopStoringInterceptions = true;\n      this.isFiltering = false;\n\n      // Clear filtering interval\n      if (this.filteringInterval) {\n        clearInterval(this.filteringInterval);\n        this.filteringInterval = null;\n      }\n\n      // Clear any other intervals or timeouts related to request handling\n      if (this.cleanupInterval) {\n        clearInterval(this.cleanupInterval);\n        this.cleanupInterval = null;\n      }\n\n      // Clear all stored requests and responses\n      this.interceptedRequestResponses.clear();\n    }\n  }\n\n  // Send filtered request to background script\n  sendFilteredRequestToBackground(formattedRequest, matchingCriteria, loginUrl) {\n    logger.info(\n      \"[Content] Sending filtered request to background script: \" +\n        JSON.stringify(formattedRequest.url),\n    );\n\n    chrome.runtime.sendMessage(\n      {\n        action: MESSAGE_ACTIONS.FILTERED_REQUEST_FOUND,\n        source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n        target: MESSAGE_SOURCES.BACKGROUND,\n        data: {\n          request: formattedRequest,\n          criteria: matchingCriteria,\n          loginUrl: loginUrl,\n          sessionId: this.sessionId,\n        },\n      },\n      (response) => {\n        // Background response handled silently\n      },\n    );\n  }\n\n  // Helper method to store provider ID in website's localStorage\n  setProviderIdInLocalStorage(providerId) {\n    // Don't store null, undefined, or 'unknown' values\n    const key = \"reclaimBrowserExtensionProviderId\";\n    if (!providerId || providerId === \"unknown\") {\n      localStorage.removeItem(key);\n      logger.info(\"[Content] Skipping localStorage storage for invalid provider ID: \" + providerId);\n      return;\n    }\n\n    try {\n      localStorage.setItem(key, providerId);\n      logger.info(\"[Content] Provider ID \" + providerId + \" stored in localStorage.\");\n    } catch (e) {\n      localStorage.removeItem(key);\n      logger.error(\n        \"[Content] Failed to store provider ID \" + providerId + \" in localStorage: \" + e.message,\n      );\n    }\n  }\n\n  // Helper method to store provider injection script in website's localStorage\n  setProviderInjectionScriptInLocalStorage(providerId, injectionScript) {\n    const key = `reclaimBrowserExtensionInjectionScript:${providerId}`;\n    if (!providerId || providerId === \"unknown\") {\n      localStorage.removeItem(key);\n      logger.error(\"[Content] Failed to store provider ID \" + providerId + \" in localStorage: \");\n\n      return;\n    }\n\n    if (!injectionScript?.length) {\n      localStorage.removeItem(key);\n      logger.error(\"[Content] Skipping localStorage storage for injection script\");\n\n      return;\n    }\n\n    try {\n      localStorage.setItem(key, injectionScript);\n      logger.info(\"[Content] Injection script stored in localStorage.\");\n    } catch (e) {\n      localStorage.removeItem(key);\n      logger.error(\"[Content] Failed to store injection script in localStorage: \" + e.message);\n    }\n  }\n\n  setupUrlListener() {\n    let lastUrl = window.location.href;\n\n    // Watch for URL changes via DOM mutations\n    const observer = new MutationObserver(() => {\n      const currentUrl = window.location.href;\n      if (currentUrl !== lastUrl) {\n        lastUrl = currentUrl;\n        // Your logic here\n        if (!this.providerData?.disableRequestReplay) {\n          chrome.runtime.sendMessage({\n            action: MESSAGE_ACTIONS.INJECT_VIA_SCRIPTING,\n            source: MESSAGE_SOURCES.CONTENT_SCRIPT,\n            target: MESSAGE_SOURCES.BACKGROUND,\n            data: { op: \"REPLAY_PAGE_FETCH\", showAlert: false },\n          });\n        }\n      }\n    });\n\n    observer.observe(document.documentElement, {\n      childList: true,\n      subtree: true,\n    });\n\n    // // We can also poll as backup\n    // setInterval(() => {\n    //   const currentUrl = window.location.href;\n    //   if (currentUrl !== lastUrl) {\n    //     console.log(\"URL changed via polling:\", lastUrl, \"->\", currentUrl);\n    //     lastUrl = currentUrl;\n    //     // Your logic here\n    //   }\n    // }, 100);\n  }\n}\n\n// Initialize content script\nconst contentScript = new ReclaimContentScript();\nexport default contentScript;\n"],"names":["root","factory","exports","module","define","amd","self","read","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","i","d","s","NaN","Infinity","Math","pow","write","value","c","rt","abs","isNaN","floor","log","LN2","WebSocketPolyfill","window","_createClass","url","protocols","_this3","_classCallCheck","debugLogger","info","DebugLogType","POLYFILLS","this","readyState","setTimeout","onclose","code","reason","key","warn","Error","Promise","reject","_BrowserWebSocket","_this","_callSuper","addEventListener","event","onerror","onopen","onmessage","_inherits","data","_this2","resolve","send","error","WebSocket","Object","freeze","BACKGROUND","CONTENT","POPUP","INIT","VERIFICATION","FETCH","PROVIDER","CLAIM","PROOF","OFFSCREEN","SESSION_TIMER","DebugLogger","enabled","allowedTypes","Set","typesArray","Array","isArray","clear","type","_console","size","has","color","typeColor","_len","arguments","length","args","_key","console","apply","concat","_console2","_len2","_key2","_console3","_len3","_key3","_console4","_len4","_key4","level","undefined","colors","background","content","popup","init","verification","fetch","provider","claim","proof","offscreen","polyfills","baseColor","keys","find","k","toLowerCase","includes","process","env","disable","enable","base64","ieee754","customInspectSymbol","Symbol","Buffer","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","RangeError","buf","Uint8Array","setPrototypeOf","prototype","arg","encodingOrOffset","TypeError","allocUnsafe","from","string","encoding","isEncoding","byteLength","actual","slice","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","b","obj","isBuffer","len","checked","numberIsNaN","fromObject","toPrimitive","assertSize","array","toString","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","bidirectionalIndexOf","val","dir","arrayIndexOf","indexOf","call","lastIndexOf","arr","indexSize","arrLength","valLength","String","readUInt16BE","foundIndex","found","j","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","push","charCodeAt","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","defineProperty","enumerable","get","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","list","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","max","replace","trim","target","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","constructor","super","writable","configurable","name","stack","message","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","INVALID_BASE64_RE","leadSurrogate","toByteArray","split","base64clean","src","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","tripletToBase64","num","output","LogEntry","_ref","sessionId","providerId","appId","logLine","_ref$sensitive","sensitive","source","tabId","meta","_ref$time","time","deviceId","Date","dateTime","getTime","ts","fromDateTimeToTimeStamp","t","r","iterator","o","toStringTag","Generator","u","create","_regeneratorDefine2","f","p","G","v","bind","l","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","__proto__","displayName","_regenerator","w","_invoke","asyncGeneratorStep","then","_asyncToGenerator","_next","_throw","ownKeys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_defineProperties","_typeof","_toPrimitive","loggerService","LoggerService","logs","isSending","maxBatchSize","flushInterval","flushIntervalId","config","DEFAULT_LOG_CONFIG","startFlushInterval","partial","clearInterval","setInterval","flush","_getDeviceLoggingId","_callee","result","_context","chrome","storage","local","reclaim_device_id","crypto","randomUUID","now","logEntry","consoleEnabled","debugMode","includeSensitiveToConsole","consoleLevel","backendEnabled","includeSensitiveToBackend","backendLevel","line","JSON","stringify","LOG_LEVEL","ERROR","WARN","INFO","shouldLogToConsole","emitToConsole","shouldSendToBackend","entry","addLog","opts","logWithLevel","DEBUG","_flush","_callee2","logsToSend","_t3","_context2","_toConsumableArray","sendLogs","_sendLogs","_callee3","entries","formattedLogs","body","_t4","_t5","_t6","_context3","getDeviceLoggingId","map","toJson","LOGGING_ENDPOINTS","DIAGNOSTIC_LOGGING","method","headers","ok","text","_x","createContextLogger","_loggerService$config","initial","ctx","context","setContext","assign","debug","LOG_TYPES","FETCH_DATA","PROVIDER_DATA","CLAIM_CREATION","PROOF_GENERATION","PROOF_SUBMISSION","PROOF_VERIFICATION","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","id","loaded","__webpack_modules__","getter","__esModule","definition","hmd","children","prop","hasOwnProperty","_digest","_writeFile","_readFile","global","Function","isServiceWorker","isContentScript","document","contentType","require","moduleName","fs","path","os","originalRequire","getRandomValues","random","subtle","digest","algorithm","hashInt","reduce","acc","_x2","CustomURL","base","startsWith","OriginalURL","domain","URL","getOwnPropertyNames","readFileSync","writeFileSync","existsSync","promises","readFile","_x3","writeFile","_x4","_x5","tmpdir","homedir","platform","cpus","model","speed","totalmem","freemem","dirname","basename","pop","endsWith","extname","dotIndex","sep","RECLAIM_SDK_ACTIONS","CHECK_EXTENSION","EXTENSION_RESPONSE","START_VERIFICATION","VERIFICATION_STARTED","VERIFICATION_COMPLETED","VERIFICATION_FAILED","CANCEL_VERIFICATION","SET_PUBLIC_DATA","PARAMETERS_UPDATE","PARAMETERS_GET","REPORT_PROVIDER_ERROR","SET_EXPECT_MANY_CLAIMS","REQUEST_CLAIM","MESSAGE_SOURCES","MESSAGE_ACTIONS","createProviderVerificationPopup","providerName","description","dataRequired","_loadCSS","loadCSS","createElement","className","style","animation","state","totalClaims","completedClaims","proofSubmitted","inProgress","isDragging","dragOffset","cssUrl","response","cssText","styleEl","_appendStyle","_t2","getElementById","runtime","getURL","textContent","appendStyle","head","appendChild","loadHTMLTemplate","_loadHTMLTemplate","htmlUrl","htmlText","_renderInitialContent","_callee4","htmlTemplate","renderedHTML","_context4","innerHTML","showLoader","stepsContainer","querySelector","statusContainer","circularLoader","progressContainer","statusText","successIcon","errorIcon","contentContainer","classList","add","display","updateProgressBar","progressBar","progressCounter","percentage","transform","updateStatusMessage","isError","statusMessage","showSuccess","requestAnimationFrame","width","showError","errorMessage","incrementTotalClaims","incrementCompletedClaims","renderInitialContent","header","handleMouseDown","button","rect","getBoundingClientRect","clientX","left","clientY","top","preventDefault","handleMouseMove","handleMouseUp","newX","newY","viewportWidth","innerWidth","viewportHeight","innerHeight","popupWidth","offsetWidth","popupHeight","offsetHeight","right","bottom","remove","removeEventListener","initializeDragFunctionality","copyButton","copyFeedback","targetId","targetElement","textToCopy","textArea","stopPropagation","getAttribute","navigator","clipboard","writeText","showCopyFeedback","position","focus","select","execCommand","err","removeChild","initializeCopyFunctionality","querySelectorAll","element","tooltipText","showTooltip","tooltip","hideTooltip","hoverTimeout","contains","handleClaimCreationRequested","requestHash","handleClaimCreationSuccess","handleClaimCreationFailed","handleProofGenerationStarted","handleProofGenerationSuccess","handleProofGenerationFailed","handleProofSubmitted","handleProofSubmissionFailed","Jsep","addUnaryOp","op_name","max_unop_len","unary_ops","addBinaryOp","precedence","isRightAssociative","max_binop_len","binary_ops","right_associative","delete","addIdentifierChar","char","additional_identifier_chars","addLiteral","literal_name","literal_value","literals","removeUnaryOp","getMaxKeyLen","removeAllUnaryOps","removeIdentifierChar","removeBinaryOp","removeAllBinaryOps","removeLiteral","removeAllLiterals","expr","charAt","index","parse","isDecimalDigit","ch","binaryPrecedence","op_val","isIdentifierStart","isIdentifierPart","throwError","runHook","node","hooks","searchHook","callback","gobbleSpaces","SPACE_CODE","TAB_CODE","LF_CODE","CR_CODE","nodes","gobbleExpressions","COMPOUND","untilICode","ch_i","SEMCOL_CODE","COMMA_CODE","gobbleExpression","gobbleBinaryExpression","gobbleBinaryOp","to_check","tc_len","biop","prec","biop_info","cur_biop","gobbleToken","right_a","comparePrev","prev","BINARY_EXP","operator","PERIOD_CODE","gobbleNumericLiteral","SQUOTE_CODE","DQUOTE_CODE","gobbleStringLiteral","OBRACK_CODE","gobbleArray","argument","UNARY_EXP","prefix","gobbleIdentifier","LITERAL","raw","this_str","THIS_EXP","OPAREN_CODE","gobbleGroup","gobbleTokenProperty","QUMARK_CODE","optional","MEMBER_EXP","computed","object","property","CBRACK_CODE","CALL_EXP","gobbleArguments","CPAREN_CODE","callee","chCode","number","parseFloat","startIndex","quote","closed","substring","IDENTIFIER","termination","separator_count","SEQUENCE_EXP","expressions","ARRAY_EXP","elements","plugins","jsep","registered","register","plugin","COLON_CODE","stdClassProps","ternary","test","consequent","alternate","newTest","patternIndex","inCharSet","pattern","flags","RegExp","assignmentOperators","updateOperators","assignmentPrecedence","updateNodeTypes","updateBinariesToAssignments","values","op","some","BLOCKED_PROTO_PROPERTIES","SafeEval","evalAst","ast","subs","evalBinaryExpression","evalCompound","evalConditionalExpression","evalIdentifier","evalLiteral","evalMemberExpression","evalUnaryExpression","evalArrayExpression","evalCallExpression","evalAssignmentExpression","SyntaxError","hasOwn","ReferenceError","typeof","el","func","item","unshift","NewError","avoidNew","JSONPath","otherTypeCallback","optObj","json","resultType","flatten","wrap","sandbox","eval","ignoreEvalErrors","parent","parentProperty","autostart","evaluate","currParent","currParentProperty","currResultType","currEval","currSandbox","currOtherTypeCallback","toPathString","exprList","toPathArray","shift","_hasParentSelector","_trace","ea","isParentSelector","hasArrExpr","rslt","valOrPath","_getPreferredOutput","pointer","toPointer","_handleCallback","fullRetObj","preferredOutput","parentPropName","literalPriority","retObj","loc","addRet","elems","_walk","_slice","safeLoc","nested","exec","npath","nvalue","_eval","at","addType","valueType","locProp","part","rett","tl","tt","splice","step","_v","_vname","_$_parentProperty","_$_parent","_$_property","_$_root","_$_v","containsPath","_$_path","scriptCacheKey","cache","script","replaceAll","safeVm","Script","vm","CurrEval","runInNewContext","pathArr","subx","$0","$1","ups","exp","match","keyMap","funcs","conditionCb","il","moveToAnotherArray","vr","fString","lastStatementEnd","getValueFromJsonPath","jsonData","jsonPath","results","finalResult","getValueFromXPath","htmlString","xPath","regex","convertTemplateToRegex","template","_step","parameters","escapedTemplate","allVars","paramRegex","variables","getTemplateVariables","unsubstitutedVars","_iterator","_createForOfIteratorHelper","param","replacement","matchesResponseFields","responseText","responseRedactions","isJson","trimmed","isJsonFormat","jsonText","safeJsonParse","_step3","_iterator3","redaction","filterRequest","request","filterCriteria","_request$url","urlType","bodySniff","bodyTemplate","requestBody","matchesRequestCriteria","responseMatches","matchCriteria","_step2","_iterator2","matches","invert","matchesResponseCriteria","setConfig","offscreenLogger","offscreenDocTimeout","offscreenGlobalListener","action","setupOffscreenReadyListener","onMessage","hasListener","logger","shouldInitialize","interceptorInjected","injectionScriptInjected","injectNetworkInterceptor","async","defer","injected","injectNow","documentElement","insertBefore","firstChild","observer","MutationObserver","disconnect","observe","childList","subtree","injectDynamicInjectionScript","sender","sendResponse","proofs","formattedProofs","postMessage","messageId","_unused","success","_unused2","_unused3","sendMessage","resp","isManaged","location","href","reclaimContentScript","ReclaimContentScript","_location","verificationPopup","credentialType","interceptedRequestResponses","Map","providerData","filteringInterval","filteringStartTime","filteredRequests","isFiltering","stopStoringInterceptions","isManagedTab","_mode","protocol","_boundChromeHandler","_ref3","_emit","_unused4","_boundWindowHandler","handleWindowMessage","handleMessage","_this2$providerData","_this2$providerData2","_this2$providerData3","_this2$providerData4","disableRequestReplay","showAlert","localStorage","setItem","setProviderIdInLocalStorage","customInjection","extensionConfig","allowInjectionsViaChromeScritpting","setProviderInjectionScriptInLocalStorage","startNetworkFiltering","setupUrlListener","appendPopupLogic","extensionID","runtimeId","_unused5","_this4","_event$data","checkExtensionId","installed","_data$response","timestamp","publicData","expectMany","SET_PARAMETERS","rdObject","_this$providerData","extractedParams","criteria","expectedPageUrl","additionalClientOptions","loginUrl","params","_step$value","_slicedToArray","_this$providerData2","_this5","injectionType","filterInterceptedRequests","stopNetworkFiltering","_this$providerData3","requestData","_step2$value","combinedData","requestValue","responseBody","formattedRequest","sendFilteredRequestToBackground","cleanupInterval","matchingCriteria","removeItem","injectionScript","_this6","lastUrl","_this6$providerData","currentUrl"],"sourceRoot":""}