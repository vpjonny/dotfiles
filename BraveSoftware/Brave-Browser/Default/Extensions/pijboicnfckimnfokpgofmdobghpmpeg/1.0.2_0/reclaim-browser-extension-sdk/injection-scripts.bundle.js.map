{"version":3,"file":"interceptor/injection-scripts.bundle.js","mappings":"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","sources":["webpack://@reclaimprotocol/browser-extension-sdk/./src/interceptor/injection-scripts.js"],"sourcesContent":["import { MESSAGE_SOURCES } from \"../utils/constants/interfaces\";\n\nwindow.Reclaim = window.Reclaim || {};\nlet __reclaimParams = {};\n\ntry {\n  const ls = localStorage.getItem(\"reclaimBrowserExtensionParameters\");\n  if (ls) __reclaimParams = JSON.parse(ls) || {};\n} catch {}\n\nObject.defineProperty(window.Reclaim, \"parameters\", {\n  get: () => {\n    if (Object.keys(__reclaimParams).length > 0) return { ...__reclaimParams };\n    try {\n      const ls = localStorage.getItem(\"reclaimBrowserExtensionParameters\");\n      return ls ? JSON.parse(ls) : {};\n    } catch {\n      return {};\n    }\n  },\n  set: () => {},\n  enumerable: true,\n  configurable: false,\n});\n\nwindow.Reclaim.updatePublicData = function (obj) {\n  try {\n    const publicData = JSON.stringify(obj ?? {});\n    window.postMessage(\n      {\n        action: \"RECLAIM_SET_PUBLIC_DATA\",\n        data: { publicData },\n      },\n      \"*\",\n    );\n  } catch (e) {\n    console.error(\"Reclaim.updatePublicData error:\", e);\n  }\n};\n\nwindow.Reclaim.canExpectManyClaims = function (flag) {\n  try {\n    window.postMessage(\n      { action: \"RECLAIM_SET_EXPECT_MANY_CLAIMS\", data: { expectMany: !!flag } },\n      \"*\",\n    );\n  } catch {}\n};\n\nwindow.Reclaim.reportProviderError = function (msg) {\n  try {\n    window.postMessage(\n      {\n        action: \"RECLAIM_REPORT_PROVIDER_ERROR\",\n        data: { message: String(msg || \"Provider error\") },\n      },\n      \"*\",\n    );\n  } catch (e) {\n    console.error(\"Reclaim.reportProviderError error:\", e);\n  }\n};\n\nwindow.Reclaim.requestClaim = function (rdObject) {\n  try {\n    window.postMessage({ action: \"RECLAIM_REQUEST_CLAIM\", data: { rdObject } }, \"*\");\n  } catch (e) {\n    console.error(\"Reclaim.requestClaim error:\", e);\n  }\n};\n\nwindow.Reclaim.getParametersSync = function () {\n  try {\n    const ls = localStorage.getItem(\"reclaimBrowserExtensionParameters\");\n    return ls ? JSON.parse(ls) : {};\n  } catch {\n    return {};\n  }\n};\n\nwindow.addEventListener(\"message\", (e) => {\n  if (e.source !== window) return;\n  const { action, data } = e.data || {};\n  if (action === \"RECLAIM_PARAMETERS_UPDATE\" && data?.parameters) {\n    const p = data.parameters || {};\n    if (Object.keys(p).length === 0 && Object.keys(__reclaimParams).length > 0) return;\n    __reclaimParams = p;\n    try {\n      localStorage.setItem(\"reclaimBrowserExtensionParameters\", JSON.stringify(__reclaimParams));\n    } catch {}\n  }\n});\n\ntry {\n  window.postMessage({ action: \"RECLAIM_PARAMETERS_GET\" }, \"*\");\n} catch {}\n\n/**\n * Dynamic Injection Script Loader\n * Fetches provider-specific injection scripts from the backend and executes them\n * This script is injected into the main world of the website\n */\n\n(function () {\n  \"use strict\";\n\n  // Backend API configuration\n  const BACKEND_URL = \"https://api.reclaimprotocol.org\";\n  const PROVIDER_API_ENDPOINT = (providerId) =>\n    `${BACKEND_URL}/api/providers/${providerId}/custom-injection`;\n\n  // Debug utility for logging\n  const debug = {\n    log: (...args) => console.log(\"ðŸ” [Injection Script]:\", ...args),\n    error: (...args) => console.error(\"âŒ [Injection Script Error]:\", ...args),\n    info: (...args) => console.info(\"â„¹ï¸ [Injection Script Info]:\", ...args),\n    // log: (...args) => undefined,\n    // error: (...args) => undefined,\n    // info: (...args) => undefined\n  };\n\n  /**\n   * IMPORTANT: localStorage Context Isolation\n   *\n   * - background.js runs in extension context (chrome-extension://extension-id/)\n   * - This injection script runs in website context (https://example.com/)\n   * - These have SEPARATE localStorage spaces - they cannot share data directly\n   *\n   * Solutions:\n   * 1. Content script acts as bridge (can access both contexts)\n   * 2. Use chrome.storage API via content script\n   * 3. Use postMessage communication between content script and injection script\n   */\n\n  /**\n   * Safely retrieve provider ID from localStorage\n   * Note: This only works if the provider ID was set by the website itself\n   * or by a content script that has access to the website's localStorage\n   */\n  function getProviderIdFromStorage() {\n    try {\n      // Simplified to single key as per user's modification\n      const keyValue = \"reclaimBrowserExtensionProviderId\";\n      const value = localStorage.getItem(keyValue);\n      if (value) {\n        debug.info(`Found provider ID in localStorage[${keyValue}]: ${value}`);\n        return value;\n      }\n\n      debug.error(\"Provider ID not found in local storage\");\n      return null;\n    } catch (error) {\n      debug.error(\"Error accessing localStorage:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Alternative: Get provider ID from extension via content script bridge\n   * This method uses postMessage to communicate with content script\n   */\n  function getProviderIdFromExtension() {\n    return new Promise((resolve) => {\n      // Listen for response from content script\n      const handleMessage = (event) => {\n        if (event.source !== window) return;\n\n        if (event.data.action === \"RECLAIM_PROVIDER_ID_RESPONSE\") {\n          window.removeEventListener(\"message\", handleMessage);\n          resolve(event.data.providerId);\n        }\n      };\n\n      window.addEventListener(\"message\", handleMessage);\n\n      // Request provider ID from content script\n      window.postMessage(\n        {\n          action: \"RECLAIM_GET_PROVIDER_ID\",\n          source: \"injection-script\",\n        },\n        \"*\",\n      );\n\n      // Timeout after 5 seconds\n      setTimeout(() => {\n        window.removeEventListener(\"message\", handleMessage);\n        resolve(null);\n      }, 5000);\n    });\n  }\n\n  /**\n   * Fetch provider data including custom injection script from backend\n   */\n  async function fetchProviderInjectionScript(providerId) {\n    try {\n      debug.info(`Fetching injection script for provider: ${providerId}`);\n\n      const response = await fetch(PROVIDER_API_ENDPOINT(providerId), {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"ngrok-skip-browser-warning\": \"true\",\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const scriptContent = await response.text();\n\n      // Check if we got a valid script\n      if (!scriptContent || scriptContent.trim() === \"\") {\n        debug.info(`No injection script content found for provider: ${providerId}`);\n        return null;\n      }\n\n      debug.info(`Successfully fetched injection script for provider: ${providerId}`);\n      return {\n        script: scriptContent,\n        providerData: {\n          providerId: providerId,\n          name: \"Unknown Provider\",\n        },\n      };\n    } catch (error) {\n      debug.error(`Failed to fetch injection script for provider ${providerId}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Execute the fetched injection script without eval\n   */\n  function executeInjectionScriptNoEval2(scriptContent, providerData) {\n    const finish = (ok) => {\n      if (!ok) return; /* dispatch success event */\n    };\n\n    // 1) Inline without nonce (Steam allows 'unsafe-inline')\n    try {\n      const inl = document.createElement(\"script\");\n      inl.textContent = String(scriptContent);\n      (document.documentElement || document.head || document).insertBefore(\n        inl,\n        (document.documentElement || document.head).firstChild,\n      );\n      finish(true);\n      return;\n    } catch {}\n\n    // 2) Inline with page nonce\n    try {\n      const nonceEl = document.querySelector(\"script[nonce]\");\n      const pageNonce = nonceEl?.nonce || nonceEl?.getAttribute?.(\"nonce\") || \"\";\n      if (!pageNonce) throw new Error(\"No page nonce found\");\n      const inl = document.createElement(\"script\");\n      inl.nonce = pageNonce;\n      inl.textContent = String(scriptContent);\n      (document.documentElement || document.head || document).insertBefore(\n        inl,\n        (document.documentElement || document.head).firstChild,\n      );\n      finish(true);\n      return;\n    } catch {}\n\n    // 3) unsafe-eval fallback (Steam allows it)\n    try {\n      (0, eval)(String(scriptContent));\n      finish(true);\n      return;\n    } catch (e) {\n      debug.error(\"Injection failed:\", e);\n      finish(false);\n    }\n  }\n\n  async function executeInjectionScriptNoEval(scriptContent, providerData) {\n    // 1) Try blob: URL (most robust without eval/inline)\n    const okBlob = await injectViaBlob(scriptContent);\n    if (okBlob) return;\n\n    // // 2) Try page nonce (only if present). Still brittle, but cheap to try.\n    const okNonce = await injectInlineWithNonce(scriptContent);\n    if (okNonce) return;\n\n    // 3) Last resort: ask the service worker to inject via chrome.scripting\n    try {\n      debug.info(\"Injected via chrome.scripting\");\n    } catch (e) {\n      debug.error(\"All injection strategies failed\", e);\n    }\n  }\n\n  function injectViaBlob(code) {\n    return new Promise((resolve) => {\n      try {\n        const blob = new Blob([code], { type: \"text/javascript\" });\n        const url = URL.createObjectURL(blob);\n\n        const s = document.createElement(\"script\");\n        s.src = url;\n        s.async = false;\n\n        // If a page nonce exists, attach it (harmless if not needed)\n        const nonceEl = document.querySelector(\"script[nonce]\");\n        const pageNonce = nonceEl?.nonce || nonceEl?.getAttribute?.(\"nonce\") || \"\";\n        if (pageNonce) s.setAttribute(\"nonce\", pageNonce);\n\n        s.onload = () => {\n          URL.revokeObjectURL(url);\n          resolve(true);\n        };\n        s.onerror = () => {\n          URL.revokeObjectURL(url);\n          resolve(false);\n        };\n\n        (document.head || document.documentElement).appendChild(s);\n      } catch {\n        resolve(false);\n      }\n    });\n  }\n\n  function injectInlineWithNonce(code) {\n    return new Promise((resolve) => {\n      try {\n        const nonceEl = document.querySelector(\"script[nonce]\");\n        const pageNonce = nonceEl?.nonce || nonceEl?.getAttribute?.(\"nonce\") || \"\";\n        if (!pageNonce) return resolve(false);\n\n        // Inline + nonce (no reliable onload; we assume success if no sync error)\n        const s = document.createElement(\"script\");\n        s.setAttribute(\"nonce\", pageNonce);\n        s.textContent = String(code);\n\n        (document.head || document.documentElement).appendChild(s);\n\n        // Give the browser a tick; if CSP blocked it, youâ€™ll usually see a console error.\n        setTimeout(() => resolve(true), 0);\n      } catch {\n        resolve(false);\n      }\n    });\n  }\n\n  /**\n   * Main function to load and execute injection script\n   */\n  async function loadAndExecuteInjectionScript() {\n    try {\n      // Try to get provider ID from localStorage first\n      let providerId = getProviderIdFromStorage();\n      // const providerId = \"8f8f3def-7864-4dae-890d-9e95c5e45bec\"\n\n      // If not found in localStorage, try to get from extension\n      if (!providerId) {\n        debug.info(\"Provider ID not found in localStorage, requesting from extension...\");\n        providerId = await getProviderIdFromExtension();\n      }\n\n      if (!providerId) {\n        debug.error(\"Cannot load injection script: Provider ID not found\");\n        return;\n      }\n\n      // Fetch the injection script from localStorage\n      const injectionScript = localStorage.getItem(\n        `reclaimBrowserExtensionInjectionScript:${providerId}`,\n      );\n\n      if (!injectionScript) {\n        debug.info(\"No injection script to execute\");\n        return;\n      }\n\n      const providerData = {\n        providerId: providerId,\n        name: \"Unknown Provider\",\n      };\n\n      // Execute the fetched script\n      // executeInjectionScript(injectionScript, providerData);\n      executeInjectionScriptNoEval(injectionScript, providerData);\n    } catch (error) {\n      debug.error(\"Error in loadAndExecuteInjectionScript:\", error);\n    }\n  }\n\n  /**\n   * Initialize the injection script loader\n   * Waits for DOM to be ready before executing\n   */\n  function initializeInjectionLoader() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", loadAndExecuteInjectionScript);\n    } else {\n      // DOM is already ready\n      loadAndExecuteInjectionScript();\n    }\n  }\n\n  // Expose utilities globally for debugging and external access\n  window.reclaimInjectionLoader = {\n    loadAndExecuteInjectionScript,\n    getProviderIdFromStorage,\n    getProviderIdFromExtension,\n    fetchProviderInjectionScript,\n    executeInjectionScriptNoEval,\n  };\n\n  // Initialize the loader\n  debug.info(\"Reclaim Injection Script Loader initialized and injected successfully\");\n  initializeInjectionLoader();\n})();\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","_defineProperty","_typeof","toPrimitive","String","Number","_toPrimitive","_toPropertyKey","window","Reclaim","__reclaimParams","ls","localStorage","getItem","JSON","parse","_unused","get","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","_unused2","set","updatePublicData","obj","publicData","stringify","postMessage","action","data","console","error","canExpectManyClaims","flag","expectMany","_unused3","reportProviderError","msg","message","requestClaim","rdObject","getParametersSync","_unused4","addEventListener","source","_ref","parameters","setItem","_unused5","_unused6","PROVIDER_API_ENDPOINT","providerId","concat","debug","_console2","_len2","args","Array","_key2","_console3","_len3","_key3","info","getProviderIdFromStorage","keyValue","getProviderIdFromExtension","handleMessage","event","removeEventListener","setTimeout","_fetchProviderInjectionScript","_callee","response","scriptContent","_t","_context","fetch","method","headers","ok","Error","status","text","trim","script","providerData","name","executeInjectionScriptNoEval","_x2","_x3","_executeInjectionScriptNoEval","_callee2","_context2","injectViaBlob","injectInlineWithNonce","code","_nonceEl$getAttribute2","blob","Blob","type","url","URL","createObjectURL","s","document","createElement","src","async","nonceEl","querySelector","pageNonce","nonce","getAttribute","setAttribute","onload","revokeObjectURL","onerror","head","documentElement","appendChild","_unused9","_nonceEl$getAttribute3","textContent","_unused0","loadAndExecuteInjectionScript","_loadAndExecuteInjectionScript","_callee3","injectionScript","_t2","_context3","reclaimInjectionLoader","fetchProviderInjectionScript","_x","readyState"],"sourceRoot":""}