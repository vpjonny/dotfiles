(()=>{var e={55154:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA512_IV=t.SHA384_IV=t.SHA224_IV=t.SHA256_IV=t.HashMD=void 0,t.setBigUint64=i,t.Chi=function(e,t,r){return e&t^~e&r},t.Maj=function(e,t,r){return e&t^e&r^t&r};let n=r(73255);function i(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+c,o,n)}class a extends n.Hash{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){(0,n.aexists)(this),e=(0,n.toBytes)(e),(0,n.abytes)(e);let{view:t,buffer:r,blockLen:i}=this,a=e.length;for(let s=0;s<a;){let o=Math.min(i-this.pos,a-s);if(o===i){let t=(0,n.createView)(e);for(;i<=a-s;s+=i)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.aexists)(this),(0,n.aoutput)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:a,isLE:s}=this,{pos:o}=this;t[o++]=128,(0,n.clean)(this.buffer.subarray(o)),this.padOffset>a-o&&(this.process(r,0),o=0);for(let e=o;e<a;e++)t[e]=0;i(r,a-8,BigInt(8*this.length),s),this.process(r,0);let l=(0,n.createView)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,d=this.get();if(u>d.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)l.setUint32(4*e,d[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}t.HashMD=a,t.SHA256_IV=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),t.SHA224_IV=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),t.SHA384_IV=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),t.SHA512_IV=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179])},82158:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=w,t.fromBig=i,t.split=a;let r=BigInt(0x100000000-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function a(e,t=!1){let r=e.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l:o}=i(e[a],t);[n[a],s[a]]=[r,o]}return[n,s]}let s=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=s;let o=(e,t,r)=>e>>>r;t.shrSH=o;let l=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=l;let c=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=c;let u=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=u;let d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;let h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;let f=(e,t)=>t;t.rotr32H=f;let p=(e,t)=>e;t.rotr32L=p;let g=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=g;let y=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=y;let m=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=m;let b=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}t.rotlBL=b;let E=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=E;let _=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0;t.add3H=_;let v=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=v;let A=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0;t.add4H=A;let x=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=x;let I=(e,t,r,n,i,a)=>t+r+n+i+a+(e/0x100000000|0)|0;t.add5H=I,t.default={fromBig:i,split:a,toBig:s,shrSH:o,shrSL:l,rotrSH:c,rotrSL:u,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:g,rotlSL:y,rotlBH:m,rotlBL:b,add:w,add3L:E,add3H:_,add4L:v,add4H:A,add5H:I,add5L:x}},20249:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},83103:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;let n=r(73255);class i extends n.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.ahash)(e);let r=(0,n.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),(0,n.clean)(a)}update(e){return(0,n.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,n.aexists)(this),(0,n.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=i,t.hmac=(e,t,r)=>new i(e,t).update(r).digest(),t.hmac.create=(e,t)=>new i(e,t)},76916:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha512_224=t.sha512_256=t.sha384=t.sha512=t.sha224=t.sha256=t.SHA512_256=t.SHA512_224=t.SHA384=t.SHA512=t.SHA224=t.SHA256=void 0;let n=r(55154),i=r(82158),a=r(73255),s=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),o=new Uint32Array(64);class l extends n.HashMD{constructor(e=32){super(64,e,8,!1),this.A=0|n.SHA256_IV[0],this.B=0|n.SHA256_IV[1],this.C=0|n.SHA256_IV[2],this.D=0|n.SHA256_IV[3],this.E=0|n.SHA256_IV[4],this.F=0|n.SHA256_IV[5],this.G=0|n.SHA256_IV[6],this.H=0|n.SHA256_IV[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)o[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=o[e-15],r=o[e-2],n=(0,a.rotr)(t,7)^(0,a.rotr)(t,18)^t>>>3,i=(0,a.rotr)(r,17)^(0,a.rotr)(r,19)^r>>>10;o[e]=i+o[e-7]+n+o[e-16]|0}let{A:r,B:i,C:l,D:c,E:u,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){let t=f+((0,a.rotr)(u,6)^(0,a.rotr)(u,11)^(0,a.rotr)(u,25))+(0,n.Chi)(u,d,h)+s[e]+o[e]|0,p=((0,a.rotr)(r,2)^(0,a.rotr)(r,13)^(0,a.rotr)(r,22))+(0,n.Maj)(r,i,l)|0;f=h,h=d,d=u,u=c+t|0,c=l,l=i,i=r,r=t+p|0}r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,i,l,c,u,d,h,f)}roundClean(){(0,a.clean)(o)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,a.clean)(this.buffer)}}t.SHA256=l;class c extends l{constructor(){super(28),this.A=0|n.SHA224_IV[0],this.B=0|n.SHA224_IV[1],this.C=0|n.SHA224_IV[2],this.D=0|n.SHA224_IV[3],this.E=0|n.SHA224_IV[4],this.F=0|n.SHA224_IV[5],this.G=0|n.SHA224_IV[6],this.H=0|n.SHA224_IV[7]}}t.SHA224=c;let u=i.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),d=u[0],h=u[1],f=new Uint32Array(80),p=new Uint32Array(80);class g extends n.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=0|n.SHA512_IV[0],this.Al=0|n.SHA512_IV[1],this.Bh=0|n.SHA512_IV[2],this.Bl=0|n.SHA512_IV[3],this.Ch=0|n.SHA512_IV[4],this.Cl=0|n.SHA512_IV[5],this.Dh=0|n.SHA512_IV[6],this.Dl=0|n.SHA512_IV[7],this.Eh=0|n.SHA512_IV[8],this.El=0|n.SHA512_IV[9],this.Fh=0|n.SHA512_IV[10],this.Fl=0|n.SHA512_IV[11],this.Gh=0|n.SHA512_IV[12],this.Gl=0|n.SHA512_IV[13],this.Hh=0|n.SHA512_IV[14],this.Hl=0|n.SHA512_IV[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:s,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,a,s,o,l,c,u,d,h,f,p,g]}set(e,t,r,n,i,a,s,o,l,c,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)f[r]=e.getUint32(t),p[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|f[e-15],r=0|p[e-15],n=i.rotrSH(t,r,1)^i.rotrSH(t,r,8)^i.shrSH(t,r,7),a=i.rotrSL(t,r,1)^i.rotrSL(t,r,8)^i.shrSL(t,r,7),s=0|f[e-2],o=0|p[e-2],l=i.rotrSH(s,o,19)^i.rotrBH(s,o,61)^i.shrSH(s,o,6),c=i.rotrSL(s,o,19)^i.rotrBL(s,o,61)^i.shrSL(s,o,6),u=i.add4L(a,c,p[e-7],p[e-16]),d=i.add4H(u,n,l,f[e-7],f[e-16]);f[e]=0|d,p[e]=0|u}let{Ah:r,Al:n,Bh:a,Bl:s,Ch:o,Cl:l,Dh:c,Dl:u,Eh:g,El:y,Fh:m,Fl:b,Gh:w,Gl:E,Hh:_,Hl:v}=this;for(let e=0;e<80;e++){let t=i.rotrSH(g,y,14)^i.rotrSH(g,y,18)^i.rotrBH(g,y,41),A=i.rotrSL(g,y,14)^i.rotrSL(g,y,18)^i.rotrBL(g,y,41),x=g&m^~g&w,I=y&b^~y&E,S=i.add5L(v,A,I,h[e],p[e]),T=i.add5H(S,_,t,x,d[e],f[e]),k=0|S,N=i.rotrSH(r,n,28)^i.rotrBH(r,n,34)^i.rotrBH(r,n,39),O=i.rotrSL(r,n,28)^i.rotrBL(r,n,34)^i.rotrBL(r,n,39),C=r&a^r&o^a&o,B=n&s^n&l^s&l;_=0|w,v=0|E,w=0|m,E=0|b,m=0|g,b=0|y,({h:g,l:y}=i.add(0|c,0|u,0|T,0|k)),c=0|o,u=0|l,o=0|a,l=0|s,a=0|r,s=0|n;let D=i.add3L(k,O,B);r=i.add3H(D,T,N,C),n=0|D}({h:r,l:n}=i.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:a,l:s}=i.add(0|this.Bh,0|this.Bl,0|a,0|s)),({h:o,l:l}=i.add(0|this.Ch,0|this.Cl,0|o,0|l)),({h:c,l:u}=i.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:g,l:y}=i.add(0|this.Eh,0|this.El,0|g,0|y)),({h:m,l:b}=i.add(0|this.Fh,0|this.Fl,0|m,0|b)),({h:w,l:E}=i.add(0|this.Gh,0|this.Gl,0|w,0|E)),({h:_,l:v}=i.add(0|this.Hh,0|this.Hl,0|_,0|v)),this.set(r,n,a,s,o,l,c,u,g,y,m,b,w,E,_,v)}roundClean(){(0,a.clean)(f,p)}destroy(){(0,a.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=g;class y extends g{constructor(){super(48),this.Ah=0|n.SHA384_IV[0],this.Al=0|n.SHA384_IV[1],this.Bh=0|n.SHA384_IV[2],this.Bl=0|n.SHA384_IV[3],this.Ch=0|n.SHA384_IV[4],this.Cl=0|n.SHA384_IV[5],this.Dh=0|n.SHA384_IV[6],this.Dl=0|n.SHA384_IV[7],this.Eh=0|n.SHA384_IV[8],this.El=0|n.SHA384_IV[9],this.Fh=0|n.SHA384_IV[10],this.Fl=0|n.SHA384_IV[11],this.Gh=0|n.SHA384_IV[12],this.Gl=0|n.SHA384_IV[13],this.Hh=0|n.SHA384_IV[14],this.Hl=0|n.SHA384_IV[15]}}t.SHA384=y;let m=Uint32Array.from([0x8c3d37c8,0x19544da2,0x73e19966,0x89dcd4d6,0x1dfab7ae,0x32ff9c82,0x679dd514,0x582f9fcf,0xf6d2b69,0x7bd44da8,0x77e36f73,0x4c48942,0x3f9d85a8,0x6a1d36c8,0x1112e6ad,0x91d692a1]),b=Uint32Array.from([0x22312194,0xfc2bf72c,0x9f555fa3,0xc84c64c2,0x2393b86b,0x6f53b151,0x96387719,0x5940eabd,0x96283ee2,0xa88effe3,0xbe5e1e25,0x53863992,0x2b0199fc,0x2c85b8aa,0xeb72ddc,0x81c52ca2]);class w extends g{constructor(){super(28),this.Ah=0|m[0],this.Al=0|m[1],this.Bh=0|m[2],this.Bl=0|m[3],this.Ch=0|m[4],this.Cl=0|m[5],this.Dh=0|m[6],this.Dl=0|m[7],this.Eh=0|m[8],this.El=0|m[9],this.Fh=0|m[10],this.Fl=0|m[11],this.Gh=0|m[12],this.Gl=0|m[13],this.Hh=0|m[14],this.Hl=0|m[15]}}t.SHA512_224=w;class E extends g{constructor(){super(32),this.Ah=0|b[0],this.Al=0|b[1],this.Bh=0|b[2],this.Bl=0|b[3],this.Ch=0|b[4],this.Cl=0|b[5],this.Dh=0|b[6],this.Dl=0|b[7],this.Eh=0|b[8],this.El=0|b[9],this.Fh=0|b[10],this.Fl=0|b[11],this.Gh=0|b[12],this.Gl=0|b[13],this.Hh=0|b[14],this.Hl=0|b[15]}}t.SHA512_256=E,t.sha256=(0,a.createHasher)(()=>new l),t.sha224=(0,a.createHasher)(()=>new c),t.sha512=(0,a.createHasher)(()=>new g),t.sha384=(0,a.createHasher)(()=>new y),t.sha512_256=(0,a.createHasher)(()=>new E),t.sha512_224=(0,a.createHasher)(()=>new w)},1375:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.SHA224=t.sha256=t.SHA256=void 0;let n=r(76916);t.SHA256=n.SHA256,t.sha256=n.sha256,t.SHA224=n.SHA224,t.sha224=n.sha224},73255:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=i,t.anumber=a,t.abytes=s,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");a(e.outputLen),a(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},t.aoutput=function(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=o,t.byteSwap32=l,t.bytesToHex=function(e){if(s(e),c)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=u[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(c)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=d(e.charCodeAt(i)),a=d(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n},t.asyncLoop=h,t.utf8ToBytes=f,t.bytesToUtf8=function(e){return new TextDecoder().decode(e)},t.toBytes=p,t.kdfInputToBytes=function(e){return"string"==typeof e&&(e=f(e)),s(e),e},t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];s(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");return Object.assign(e,t)},t.createHasher=g,t.createOptHasher=y,t.createXOFer=m,t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return Uint8Array.from(n.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")};let n=r(20249);function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function s(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function l(e){for(let t=0;t<e.length;t++)e[t]=o(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>o(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:l;let c="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function d(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}async function h(e,r,n){let i=Date.now();for(let a=0;a<e;a++){n(a);let e=Date.now()-i;e>=0&&e<r||(await (0,t.nextTick)(),i+=e)}}function f(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function p(e){return"string"==typeof e&&(e=f(e)),s(e),e}function g(e){let t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function y(e){let t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function m(e){let t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}t.nextTick=async()=>{},t.Hash=class{},t.wrapConstructor=g,t.wrapConstructorWithOpts=y,t.wrapXOFConstructorWithOpts=m},42270:function(e,t,r){"use strict";let n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;let a=r(54422),s=BigInt(0),o=BigInt(1),l=BigInt(2),c=BigInt(3),u=BigInt(8),d=Object.freeze({a:s,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=d;let h=(e,t)=>(e+t/l)/t,f={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=d,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=BigInt("0x100000000000000000000000000000000"),s=h(r*e,t),l=h(-n*e,t),c=P(e-s*r-l*i,t),u=P(-s*n-l*r,t),f=c>a,p=u>a;if(f&&(c=t-c),p&&(u=t-u),c>a||u>a)throw Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:p,k2:u}}};function p(e){let{a:t,b:r}=d,n=P(e*e),i=P(n*e);return P(i+t*e+r)}let g=d.a===s;class y extends Error{constructor(e){super(e)}}function m(e){if(!(e instanceof b))throw TypeError("JacobianPoint expected")}class b{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof _))throw TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(_.ZERO)?b.ZERO:new b(e.x,e.y,o)}static toAffineBatch(e){let t=function(e,t=d.P){let r=Array(e.length),n=j(e.reduce((e,n,i)=>n===s?e:(r[i]=e,P(e*n,t)),o),t);return e.reduceRight((e,n,i)=>n===s?e:(r[i]=P(e*r[i],t),P(e*n,t)),n),r}(e.map(e=>e.z));return e.map((e,r)=>e.toAffine(t[r]))}static normalizeZ(e){return b.toAffineBatch(e).map(b.fromAffine)}equals(e){m(e);let{x:t,y:r,z:n}=this,{x:i,y:a,z:s}=e,o=P(n*n),l=P(s*s),c=P(t*l),u=P(i*o),d=P(P(r*s)*l),h=P(P(a*n)*o);return c===u&&d===h}negate(){return new b(this.x,P(-this.y),this.z)}double(){let{x:e,y:t,z:r}=this,n=P(e*e),i=P(t*t),a=P(i*i),s=e+i,o=P(l*(P(s*s)-n-a)),d=P(c*n),h=P(d*d),f=P(h-l*o),p=P(d*(o-f)-u*a);return new b(f,p,P(l*t*r))}add(e){m(e);let{x:t,y:r,z:n}=this,{x:i,y:a,z:o}=e;if(i===s||a===s)return this;if(t===s||r===s)return e;let c=P(n*n),u=P(o*o),d=P(t*u),h=P(i*c),f=P(P(r*o)*u),p=P(P(a*n)*c),g=P(h-d),y=P(p-f);if(g===s)if(y===s)return this.double();else return b.ZERO;let w=P(g*g),E=P(g*w),_=P(d*w),v=P(y*y-E-l*_),A=P(y*(_-v)-f*E);return new b(v,A,P(n*o*g))}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=b.ZERO;if("bigint"==typeof e&&e===s)return t;let r=L(e);if(r===o)return this;if(!g){let e=t,n=this;for(;r>s;)r&o&&(e=e.add(n)),n=n.double(),r>>=o;return e}let{k1neg:n,k1:i,k2neg:a,k2:l}=f.splitScalar(r),c=t,u=t,d=this;for(;i>s||l>s;)i&o&&(c=c.add(d)),l&o&&(u=u.add(d)),d=d.double(),i>>=o,l>>=o;return n&&(c=c.negate()),a&&(u=u.negate()),u=new b(P(u.x*f.beta),u.y,u.z),c.add(u)}precomputeWindow(e){let t=g?128/e+1:256/e+1,r=[],n=this,i=n;for(let a=0;a<t;a++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(b.BASE)&&(t=_.BASE);let r=t&&t._WINDOW_SIZE||1;if(256%r)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&E.get(t);!n&&(n=this.precomputeWindow(r),t&&1!==r&&(n=b.normalizeZ(n),E.set(t,n)));let i=b.ZERO,a=b.BASE,s=1+(g?128/r:256/r),l=2**(r-1),c=BigInt(2**r-1),u=2**r,d=BigInt(r);for(let t=0;t<s;t++){let r=t*l,s=Number(e&c);e>>=d,s>l&&(s-=u,e+=o);let h=r+Math.abs(s)-1,f=t%2!=0,p=s<0;0===s?a=a.add(w(f,n[r])):i=i.add(w(p,n[h]))}return{p:i,f:a}}multiply(e,t){let r,n,i=L(e);if(g){let{k1neg:e,k1:a,k2neg:s,k2:o}=f.splitScalar(i),{p:l,f:c}=this.wNAF(a,t),{p:u,f:d}=this.wNAF(o,t);l=w(e,l),u=new b(P((u=w(s,u)).x*f.beta),u.y,u.z),r=l.add(u),n=c.add(d)}else{let{p:e,f:a}=this.wNAF(i,t);r=e,n=a}return b.normalizeZ([r,n])[0]}toAffine(e){let{x:t,y:r,z:n}=this,i=this.equals(b.ZERO);null==e&&(e=i?u:j(n));let a=e,s=P(a*a),l=P(s*a),c=P(t*s),d=P(r*l),h=P(n*a);if(i)return _.ZERO;if(h!==o)throw Error("invZ was invalid");return new _(c,d)}}function w(e,t){let r=t.negate();return e?r:t}b.BASE=new b(d.Gx,d.Gy,o),b.ZERO=new b(s,o,s);let E=new WeakMap;class _{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,E.delete(this)}hasEvenY(){return this.y%l===s}static fromCompressedHex(e){let t=32===e.length,r=R(t?e:e.subarray(1));if(!H(r))throw Error("Point is not on curve");let n=function(e){let{P:t}=d,r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),o=BigInt(88),u=e*e*e%t,h=u*u*e%t,f=U(h,c)*h%t,p=U(f,c)*h%t,g=U(p,l)*u%t,y=U(g,n)*g%t,m=U(y,i)*y%t,b=U(m,s)*m%t,w=U(b,o)*b%t,E=U(w,s)*m%t,_=U(E,c)*h%t,v=U(_,a)*y%t,A=U(v,r)*u%t,x=U(A,l);if(x*x%t!==e)throw Error("Cannot find square root");return x}(p(r)),i=(n&o)===o;t?i&&(n=P(-n)):(1&e[0])==1!==i&&(n=P(-n));let a=new _(r,n);return a.assertValidity(),a}static fromUncompressedHex(e){let t=new _(R(e.subarray(1,33)),R(e.subarray(33,65)));return t.assertValidity(),t}static fromHex(e){let t=M(e),r=t.length,n=t[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return _.BASE.multiply(q(e))}static fromSignature(e,t,r){let{r:n,s:i}=Z(t);if(![0,1,2,3].includes(r))throw Error("Cannot recover: invalid recovery bit");let a=F(M(e)),{n:s}=d,o=2===r||3===r?n+s:n,l=j(o,s),c=P(-a*l,s),u=P(i*l,s),h=1&r?"03":"02",f=_.fromHex(h+N(o)),p=_.BASE.multiplyAndAddUnsafe(f,c,u);if(!p)throw Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return D(this.toHex(e))}toHex(e=!1){let t=N(this.x);if(!e)return`04${t}${N(this.y)}`;{let e=this.hasEvenY()?"02":"03";return`${e}${t}`}}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:r}=this;if(!H(t)||!H(r))throw Error(e);let n=P(r*r);if(P(n-p(t))!==s)throw Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new _(this.x,P(-this.y))}double(){return b.fromAffine(this).double().toAffine()}add(e){return b.fromAffine(this).add(b.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return b.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){let n=b.fromAffine(this),i=t===s||t===o||this!==_.BASE?n.multiplyUnsafe(t):n.multiply(t),a=b.fromAffine(e).multiplyUnsafe(r),l=i.add(a);return l.equals(b.ZERO)?void 0:l.toAffine()}}function v(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function A(e){if(e.length<2||2!==e[0])throw Error(`Invalid signature integer tag: ${T(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw Error("Invalid signature integer: trailing length");return{data:R(r),left:e.subarray(t+2)}}t.Point=_,_.BASE=new _(d.Gx,d.Gy),_.ZERO=new _(s,s);class x{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw TypeError(`${r}: Expected string or Uint8Array`);let n=t?T(e):e;if(128!==n.length)throw Error(`${r}: Expected 64-byte hex`);return new x(B(n.slice(0,64)),B(n.slice(64,128)))}static fromDER(e){let t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw TypeError("Signature.fromDER: Expected string or Uint8Array");let{r,s:n}=function(e){if(e.length<2||48!=e[0])throw Error(`Invalid signature tag: ${T(e)}`);if(e[1]!==e.length-2)throw Error("Invalid signature: incorrect length");let{data:t,left:r}=A(e.subarray(2)),{data:n,left:i}=A(r);if(i.length)throw Error(`Invalid signature: left bytes after parsing: ${T(i)}`);return{r:t,s:n}}(t?e:D(e));return new x(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!V(e))throw Error("Invalid Signature: r must be 0 < r < n");if(!V(t))throw Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=d.n>>o;return this.s>e}normalizeS(){return this.hasHighS()?new x(this.r,P(-this.s,d.n)):this}toDERRawBytes(){return D(this.toDERHex())}toDERHex(){let e=v(C(this.s)),t=v(C(this.r)),r=e.length/2,n=t.length/2,i=C(r),a=C(n),s=C(n+r+4);return`30${s}02${a}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return D(this.toCompactHex())}toCompactHex(){return N(this.r)+N(this.s)}}function I(...e){if(!e.every(e=>e instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));for(let r=0,n=0;r<e.length;r++){let i=e[r];t.set(i,n),n+=i.length}return t}t.Signature=x;let S=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function T(e){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=S[e[r]];return t}let k=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function N(e){if("bigint"!=typeof e)throw Error("Expected bigint");if(!(s<=e&&e<k))throw Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function O(e){let t=D(N(e));if(32!==t.length)throw Error("Error: expected 32 bytes");return t}function C(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function B(e){if("string"!=typeof e)throw TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function D(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");t[r]=i}return t}function R(e){return B(T(e))}function M(e){return e instanceof Uint8Array?Uint8Array.from(e):D(e)}function L(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&V(e))return e;throw TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function P(e,t=d.P){let r=e%t;return r>=s?r:t+r}function U(e,t){let{P:r}=d,n=e;for(;t-- >s;)n*=n,n%=r;return n}function j(e,t=d.P){if(e===s||t<=s)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=P(e,t),n=t,i=s,a=o,l=o,c=s;for(;r!==s;){let e=n/r,t=n%r,s=i-l*e,o=a-c*e;n=r,r=t,i=l,a=c,l=s,c=o}if(n!==o)throw Error("invert: does not exist");return P(i,t)}function F(e,t=!1){let r=function(e){let t=8*e.length-256,r=R(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;let{n}=d;return r>=n?r-n:r}class z{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){return i(this.k,...e)}checkSync(){if("function"!=typeof i)throw new y("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return I(...t)}generateSync(){this.checkSync(),this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return I(...t)}}function V(e){return s<e&&e<d.n}function H(e){return s<e&&e<d.P}function $(e,t,r,n=!0){let{n:i}=d,a=F(e,!0);if(!V(a))return;let l=j(a,i),c=_.BASE.multiply(a),u=P(c.x,i);if(u===s)return;let h=P(l*P(t+r*u,i),i);if(h===s)return;let f=new x(u,h),p=2*(c.x!==f.r)|Number(c.y&o);return n&&f.hasHighS()&&(f=f.normalizeS(),p^=1),{sig:f,recovery:p}}function q(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw Error("Expected 32 bytes of private key");t=B(e)}else if(e instanceof Uint8Array){if(32!==e.length)throw Error("Expected 32 bytes of private key");t=R(e)}else throw TypeError("Expected valid private key");if(!V(t))throw Error("Expected private key: 0 < key < n");return t}function Y(e){return e instanceof _?(e.assertValidity(),e):_.fromHex(e)}function Z(e){if(e instanceof x)return e.assertValidity(),e;try{return x.fromDER(e)}catch(t){return x.fromCompact(e)}}function G(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof _}function W(e){return R(e.length>32?e.slice(0,32):e)}t.getPublicKey=function(e,t=!1){return _.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,r,n=!1){return _.fromSignature(e,t,r).toRawBytes(n)},t.getSharedSecret=function(e,t,r=!1){if(G(e))throw TypeError("getSharedSecret: first arg must be private key");if(!G(t))throw TypeError("getSharedSecret: second arg must be public key");let n=Y(t);return n.assertValidity(),n.multiply(q(e)).toRawBytes(r)};function K(e,r,n){if(null==e)throw Error(`sign: expected valid message hash, not "${e}"`);let i=M(e),a=q(r),o=[O(a),function(e){let t=W(e),r=P(t,d.n);return O(r<s?t:r)}(i)];if(null!=n){!0===n&&(n=t.utils.randomBytes(32));let e=M(n);if(32!==e.length)throw Error("sign: Expected 32 bytes of extra data");o.push(e)}return{seed:I(...o),m:W(i),d:a}}function Q(e,t){let{sig:r,recovery:n}=e,{der:i,recovered:a}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return a?[s,n]:s}t.sign=async function(e,t,r={}){let n,{seed:i,m:a,d:s}=K(e,t,r.extraEntropy),o=new z(32,32);for(await o.reseed(i);!(n=$(await o.generate(),a,s,r.canonical));)await o.reseed();return Q(n,r)},t.signSync=function(e,t,r={}){let n,{seed:i,m:a,d:s}=K(e,t,r.extraEntropy),o=new z(32,32);for(o.reseedSync(i);!(n=$(o.generateSync(),a,s,r.canonical));)o.reseedSync();return Q(n,r)};let J={strict:!0};function X(e){return P(R(e),d.n)}t.verify=function(e,t,r,n=J){let i,a;try{i=Z(e),t=M(t)}catch(e){return!1}let{r:s,s:o}=i;if(n.strict&&i.hasHighS())return!1;let l=F(t);try{a=Y(r)}catch(e){return!1}let{n:c}=d,u=j(o,c),h=P(l*u,c),f=P(s*u,c),p=_.BASE.multiplyAndAddUnsafe(a,h,f);return!!p&&P(p.x,c)===s};class ee{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){let t=M(e);if(64!==t.length)throw TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);return new ee(R(t.subarray(0,32)),R(t.subarray(32,64)))}assertValidity(){let{r:e,s:t}=this;if(!H(e)||!V(t))throw Error("Invalid signature")}toHex(){return N(this.r)+N(this.s)}toRawBytes(){return D(this.toHex())}}class et{constructor(e,r,n=t.utils.randomBytes()){if(null==e)throw TypeError(`sign: Expected valid message, not "${e}"`);this.m=M(e);let{x:i,scalar:a}=this.getScalar(q(r));if(this.px=i,this.d=a,this.rand=M(n),32!==this.rand.length)throw TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let t=_.fromPrivateKey(e),r=t.hasEvenY()?e:d.n-e;return{point:t,scalar:r,x:t.toRawX()}}initNonce(e,t){return O(e^R(t))}finalizeNonce(e){let t=P(R(e),d.n);if(t===s)throw Error("sign: Creation of signature failed. k is zero");let{point:r,x:n,scalar:i}=this.getScalar(t);return{R:r,rx:n,k:i}}finalizeSig(e,t,r,n){return new ee(e.x,P(t+r*n,d.n)).toRawBytes()}error(){throw Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,a=t.utils.taggedHash,s=this.initNonce(r,await a(eo.aux,i)),{R:o,rx:l,k:c}=this.finalizeNonce(await a(eo.nonce,s,n,e)),u=X(await a(eo.challenge,l,n,e)),d=this.finalizeSig(o,c,u,r);return await ei(d,e,n)||this.error(),d}calcSync(){let{m:e,d:r,px:n,rand:i}=this,a=t.utils.taggedHashSync,s=this.initNonce(r,a(eo.aux,i)),{R:o,rx:l,k:c}=this.finalizeNonce(a(eo.nonce,s,n,e)),u=X(a(eo.challenge,l,n,e)),d=this.finalizeSig(o,c,u,r);return ea(d,e,n)||this.error(),d}}function er(e,t,r){let n=e instanceof ee,i=n?e:ee.fromHex(e);return n&&i.assertValidity(),{...i,m:M(t),P:Y(r)}}function en(e,t,r,n){let i=_.BASE.multiplyAndAddUnsafe(t,q(r),P(-n,d.n));return!!i&&!!i.hasEvenY()&&i.x===e}async function ei(e,r,n){try{let{r:i,s:a,m:s,P:o}=er(e,r,n),l=X(await t.utils.taggedHash(eo.challenge,O(i),o.toRawX(),s));return en(i,o,a,l)}catch(e){return!1}}function ea(e,r,n){try{let{r:i,s:a,m:s,P:o}=er(e,r,n),l=X(t.utils.taggedHashSync(eo.challenge,O(i),o.toRawX(),s));return en(i,o,a,l)}catch(e){if(e instanceof y)throw e;return!1}}t.schnorr={Signature:ee,getPublicKey:function(e){return _.fromPrivateKey(e).toRawX()},sign:async function e(e,t,r){return new et(e,t,r).calc()},verify:ei,signSync:function(e,t,r){return new et(e,t,r).calcSync()},verifySync:ea},_.BASE._setWindowSize(8);let es={node:a,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},eo={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},el={};t.utils={bytesToHex:T,hexToBytes:D,concatBytes:I,mod:P,invert:j,isValidPrivateKey(e){try{return q(e),!0}catch(e){return!1}},_bigintTo32Bytes:O,_normalizePrivateKey:q,hashToPrivateKey:e=>{if((e=M(e)).length<40||e.length>1024)throw Error("Expected valid bytes of private key as per FIPS 186");return O(P(R(e),d.n-o)+o)},randomBytes:(e=32)=>{if(es.web)return es.web.getRandomValues(new Uint8Array(e));if(es.node){let{randomBytes:t}=es.node;return Uint8Array.from(t(e))}throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(40)),precompute(e=8,t=_.BASE){let r=t===_.BASE?t:new _(t.x,t.y);return r._setWindowSize(e),r.multiply(c),r},sha256:async(...e)=>{if(es.web)return new Uint8Array(await es.web.subtle.digest("SHA-256",I(...e)));if(es.node){let{createHash:t}=es.node,r=t("sha256");return e.forEach(e=>r.update(e)),Uint8Array.from(r.digest())}throw Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(es.web){let r=await es.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=I(...t);return new Uint8Array(await es.web.subtle.sign("HMAC",r,n))}if(es.node){let{createHmac:r}=es.node,n=r("sha256",e);return t.forEach(e=>n.update(e)),Uint8Array.from(n.digest())}throw Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...r)=>{let n=el[e];if(void 0===n){let r=await t.utils.sha256(Uint8Array.from(e,e=>e.charCodeAt(0)));n=I(r,r),el[e]=n}return t.utils.sha256(n,...r)},taggedHashSync:(e,...t)=>{if("function"!=typeof n)throw new y("sha256Sync is undefined, you need to set it");let r=el[e];if(void 0===r){let t=n(Uint8Array.from(e,e=>e.charCodeAt(0)));r=I(t,t),el[e]=r}return n(r,...t)},_JacobianPoint:b},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get:()=>n,set(e){n||(n=e)}},hmacSha256Sync:{configurable:!1,get:()=>i,set(e){i||(i=e)}}})},20774:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,a=l(e),s=a[0],o=a[1],c=new i((s+o)*3/4-o),u=0,d=o>0?s-4:s;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],s=0,o=n-i;s<o;s+=16383)a.push(function(e,t,n){for(var i,a=[],s=t;s<n;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}(e,s,s+16383>o?o:s+16383));return 1===i?a.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&a.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},40295:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;let r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let e=0;e<r.length;e++)n[r.charAt(e)]=e;function i(e){let t=e>>25;return(0x1ffffff&e)<<5^0x3b6a57b2&-((0|t)&1)^0x26508e6d&-(t>>1&1)^0x1ea119fa&-(t>>2&1)^0x3d4233dd&-(t>>3&1)^0x2a1462b3&-(t>>4&1)}function a(e){let t=1;for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}t=i(t);for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);t=i(t)^31&n}return t}function s(e,t,r,n){let i=0,a=0,s=(1<<r)-1,o=[];for(let n=0;n<e.length;++n)for(i=i<<t|e[n],a+=t;a>=r;)o.push(i>>(a-=r)&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=t)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function o(e){return s(e,8,5,!0)}function l(e){let t=s(e,5,8,!1);if(Array.isArray(t))return t}function c(e){let t=s(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}function u(e){let t;function s(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";let s=e.toLowerCase(),o=e.toUpperCase();if(e!==s&&e!==o)return"Mixed-case string "+e;let l=(e=s).lastIndexOf("1");if(-1===l)return"No separator character for "+e;if(0===l)return"Missing prefix for "+e;let c=e.slice(0,l),u=e.slice(l+1);if(u.length<6)return"Data too short";let d=a(c);if("string"==typeof d)return d;let h=[];for(let e=0;e<u.length;++e){let t=u.charAt(e),r=n[t];if(void 0===r)return"Unknown character "+t;d=i(d)^r,e+6>=u.length||h.push(r)}return d!==t?"Invalid checksum for "+e:{prefix:c,words:h}}return t="bech32"===e?1:0x2bc830a3,{decodeUnsafe:function(e,t){let r=s(e,t);if("object"==typeof r)return r},decode:function(e,t){let r=s(e,t);if("object"==typeof r)return r;throw Error(r)},encode:function(e,n,s){if(s=s||90,e.length+7+n.length>s)throw TypeError("Exceeds length limit");let o=a(e=e.toLowerCase());if("string"==typeof o)throw Error(o);let l=e+"1";for(let e=0;e<n.length;++e){let t=n[e];if(t>>5!=0)throw Error("Non 5-bit word");o=i(o)^t,l+=r.charAt(t)}for(let e=0;e<6;++e)o=i(o);o^=t;for(let e=0;e<6;++e){let t=o>>(5-e)*5&31;l+=r.charAt(t)}return l},toWords:o,fromWordsUnsafe:l,fromWords:c}}t.bech32=u("bech32"),t.bech32m=u("bech32m")},92159:function(e,t,r){"use strict";let n=r(20774),i=r(34779),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);let r=0|p(n,i),a=s(r),l=a.write(n,i);return l!==r&&(a=a.slice(0,l)),a}if(ArrayBuffer.isView(e)){var a=e;if(P(a,Uint8Array)){let e=new Uint8Array(a);return h(e.buffer,e.byteOffset,e.byteLength)}return d(a)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(P(e,ArrayBuffer)||e&&P(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(P(e,SharedArrayBuffer)||e&&P(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return o.from(l,t,r);let c=function(e){if(o.isBuffer(e)){let t=0|f(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(c)return c;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),s(e<0?0:0|f(e))}function d(e){let t=e.length<0?0:0|f(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||P(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(e).length;default:if(i)return n?-1:R(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=U[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var a,s,o;return a=this,s=t,o=r,0===s&&o===a.length?n.fromByteArray(a):n.fromByteArray(a.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var a;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(a=r*=1)!=a&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return b(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let a,s=1,o=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,o/=2,l/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(a=r;a<o;a++)if(c(e,a)===c(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===l)return n*s}else -1!==n&&(a-=a-n),n=-1}else for(r+l>o&&(r=o-l),a=r;a>=0;a--){let r=!0;for(let n=0;n<l;n++)if(c(e,a+n)!==c(t,n)){r=!1;break}if(r)return a}return -1}function w(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,o,l;switch(s){case 1:t<128&&(a=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(a=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}var a=n;let s=a.length;if(s<=4096)return String.fromCharCode.apply(String,a);let o="",l=0;for(;l<s;)o+=String.fromCharCode.apply(String,a.slice(l,l+=4096));return o}function E(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,a){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function v(e,t,r,n,i){O(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function A(e,t,r,n,i){O(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function x(e,t,r,n,i,a){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function I(e,t,r,n,a){return t*=1,r>>>=0,a||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function S(e,t,r,n,a){return t*=1,r>>>=0,a||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(P(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),P(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(P(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?w(this,0,e):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(o.prototype[a]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(P(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let a=i-n,s=r-t,l=Math.min(a,s),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==u[e]){a=c[e],s=u[e];break}return a<s?-1:+(s<a)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,a,s,o,l,c,u,d;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let f=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){var o;let n=parseInt(t.substr(2*i,2),16);if((o=n)!=o)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,a=r,L(R(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return s=t,o=r,L(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,o);case"base64":return l=t,c=r,L(M(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,d=r,L(function(e,t){let r,n,i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,this.length-u),this,u,d);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=j(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&B(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=j(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&B(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(e,t){return(e>>>=0,t||E(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=j(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&B(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),o.prototype.readBigInt64BE=j(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&B(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=j(function(e,t=0){return v(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=j(function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=j(function(e,t=0){return v(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=j(function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let a=o.isBuffer(e)?e:o.from(e,n),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};let T={};function k(e,t,r){T[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function N(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function O(e,t,r,n,i,a){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(a+1)*8}${i}`:`>= -(2${i} ** ${(a+1)*8-1}${i}) and < 2 ** ${(a+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new T.ERR_OUT_OF_RANGE("value",n,e)}C(i,"offset"),(void 0===n[i]||void 0===n[i+a])&&B(i,n.length-(a+1))}function C(e,t){if("number"!=typeof e)throw new T.ERR_INVALID_ARG_TYPE(t,"number",e)}function B(e,t,r){if(Math.floor(e)!==e)throw C(e,r),new T.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new T.ERR_BUFFER_OUT_OF_BOUNDS;throw new T.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}k("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),k("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=N(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=N(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let D=/[^+/0-9A-Za-z-_]/g;function R(e,t){let r;t=t||1/0;let n=e.length,i=null,a=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function M(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function P(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let U=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function j(e){return"undefined"==typeof BigInt?F:e}function F(){throw Error("BigInt not supported")}},34779:function(e,t){t.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,l=(1<<o)-1,c=l>>1,u=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-u)-1,f>>=-u,u+=o;u>0;a=256*a+e[t+d],d+=h,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=256*s+e[t+d],d+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),a-=c}return(f?-1:1)*s*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var s,o,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,h=5960464477539062e-23*(23===i),f=n?0:a-1,p=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=u?(o=0,s=u):s+d>=1?(o=(t*l-1)*Math.pow(2,i),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[r+f]=255&o,f+=p,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;e[r+f]=255&s,f+=p,s/=256,c-=8);e[r+f-p]|=128*g}},73585:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.unescape=t.escape=t.pad=void 0;let n=r(20774);function i(e){return`${e}${"=".repeat(4-(e.length%4||4))}`}function a(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(e){return i(e).replace(/-/g,"+").replace(/_/g,"/")}t.pad=i,t.escape=a,t.unescape=s,t.encode=function(e){return a((0,n.fromByteArray)(new TextEncoder().encode(e)))},t.decode=function(e){return new TextDecoder().decode((0,n.toByteArray)(i(s(e))))}},71689:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cryptoClients=t.SECP256K1Client=void 0;let n=r(75077);Object.defineProperty(t,"SECP256K1Client",{enumerable:!0,get:function(){return n.SECP256K1Client}}),t.cryptoClients={ES256K:n.SECP256K1Client}},75077:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECP256K1Client=void 0;let n=r(83103),i=r(1375),a=r(42270),s=r(83736),o=r(54966),l=r(73255);a.utils.hmacSha256Sync=(e,...t)=>{let r=n.hmac.create(i.sha256,e);return t.forEach(e=>r.update(e)),r.digest()};class c{static derivePublicKey(e,t=!0){return 66===e.length&&(e=e.slice(0,64)),e.length<64&&(e=e.padStart(64,"0")),(0,l.bytesToHex)(a.getPublicKey(e,t))}static signHash(e,t,r="jose"){if(!e||!t)throw new o.MissingParametersError("a signing input hash and private key are all required");let n=a.signSync(e,t.slice(0,64),{der:!0,canonical:!1});if("der"===r)return(0,l.bytesToHex)(n);if("jose"===r)return(0,s.derToJose)(n,"ES256");throw Error("Invalid signature format")}static loadSignature(e){return(0,s.joseToDer)(e,"ES256")}static verifyHash(e,t,r){if(!e||!t||!r)throw new o.MissingParametersError("a signing input hash, der signature, and public key are all required");return a.verify(t,e,r,{strict:!1})}}t.SECP256K1Client=c,c.algorithmName="ES256K"},27558:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.hashSha256Async=t.hashSha256=void 0;let i=r(1375);function a(e){return(0,i.sha256)(e)}t.hashSha256=a,t.hashSha256Async=function(e){return n(this,void 0,void 0,function*(){try{if("undefined"!=typeof crypto&&void 0!==crypto.subtle){let t="string"==typeof e?new TextEncoder().encode(e):e,r=yield crypto.subtle.digest("SHA-256",t);return new Uint8Array(r)}{let t=r(99433);if(!t.createHash)throw Error("`crypto` module does not contain `createHash`");return Promise.resolve(t.createHash("sha256").update(e).digest())}}catch(t){return console.log(t),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(a(e))}})}},7907:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeToken=void 0;let n=r(73585);t.decodeToken=function(e){if("string"==typeof e){let t=e.split("."),r=JSON.parse(n.decode(t[0]));return{header:r,payload:JSON.parse(n.decode(t[1])),signature:t[2]}}if("object"==typeof e){if("string"!=typeof e.payload)throw Error("Expected token payload to be a base64 or json string");let t=e.payload;"{"!==e.payload[0]&&(t=n.decode(t));let r=[];return e.header.map(e=>{let t=JSON.parse(n.decode(e));r.push(t)}),{header:r,payload:JSON.parse(t),signature:e.signature}}}},83736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joseToDer=t.derToJose=void 0;let n=r(20774),i=r(73585);function a(e){return(e/8|0)+ +(e%8!=0)}let s={ES256:a(256),ES384:a(384),ES512:a(521)};function o(e){let t=s[e];if(t)return t;throw Error(`Unknown algorithm "${e}"`)}function l(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return(0,n.toByteArray)((0,i.pad)(e));throw TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function c(e,t,r){let n=0;for(;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}t.derToJose=function(e,t){let r=l(e),a=o(t),s=a+1,c=r.length,u=0;if(48!==r[u++])throw Error('Could not find expected "seq"');let d=r[u++];if(129===d&&(d=r[u++]),c-u<d)throw Error(`"seq" specified length of "${d}", only "${c-u}" remaining`);if(2!==r[u++])throw Error('Could not find expected "int" for "r"');let h=r[u++];if(c-u-2<h)throw Error(`"r" specified length of "${h}", only "${c-u-2}" available`);if(s<h)throw Error(`"r" specified length of "${h}", max of "${s}" is acceptable`);let f=u;if(u+=h,2!==r[u++])throw Error('Could not find expected "int" for "s"');let p=r[u++];if(c-u!==p)throw Error(`"s" specified length of "${p}", expected "${c-u}"`);if(s<p)throw Error(`"s" specified length of "${p}", max of "${s}" is acceptable`);let g=u;if((u+=p)!==c)throw Error(`Expected to consume entire array, but "${c-u}" bytes remain`);let y=a-h,m=a-p,b=new Uint8Array(y+h+m+p);for(u=0;u<y;++u)b[u]=0;b.set(r.subarray(f+Math.max(-y,0),f+h),u),u=a;for(let e=u;u<e+m;++u)b[u]=0;return b.set(r.subarray(g+Math.max(-m,0),g+p),u),(0,i.escape)((0,n.fromByteArray)(b))},t.joseToDer=function(e,t){e=l(e);let r=o(t),n=e.length;if(n!==2*r)throw TypeError(`"${t}" signatures must be "${2*r}" bytes, saw "${n}"`);let i=c(e,0,r),a=c(e,r,e.length),s=r-i,u=r-a,d=2+s+1+1+u,h=d<128,f=new Uint8Array((h?2:3)+d),p=0;return f[p++]=48,h?f[p++]=d:(f[p++]=129,f[p++]=255&d),f[p++]=2,f[p++]=s,i<0?(f[p++]=0,f.set(e.subarray(0,r),p),p+=r):(f.set(e.subarray(i,r),p),p+=r-i),f[p++]=2,f[p++]=u,a<0?(f[p++]=0,f.set(e.subarray(r),p)):f.set(e.subarray(r+a),p),f}},54966:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidTokenError=t.MissingParametersError=void 0,t.MissingParametersError=class extends Error{constructor(e){super(),this.name="MissingParametersError",this.message=e||""}},t.InvalidTokenError=class extends Error{constructor(e){super(),this.name="InvalidTokenError",this.message=e||""}}},64161:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(93107),t),i(r(53159),t),i(r(7907),t),i(r(54966),t),i(r(71689),t)},93107:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenSigner=t.createUnsecuredToken=void 0;let i=r(73585),a=r(71689),s=r(54966),o=r(27558);function l(e,t){let r=[];return r.push(i.encode(JSON.stringify(t))),r.push(i.encode(JSON.stringify(e))),r.join(".")}t.createUnsecuredToken=function(e){return l(e,{typ:"JWT",alg:"none"})+"."},t.TokenSigner=class{constructor(e,t){if(!(e&&t))throw new s.MissingParametersError("a signing algorithm and private key are required");if("string"!=typeof e)throw Error("signing algorithm parameter must be a string");if(e=e.toUpperCase(),!a.cryptoClients.hasOwnProperty(e))throw Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=a.cryptoClients[e],this.rawPrivateKey=t}header(e={}){return Object.assign({},{typ:this.tokenType,alg:this.cryptoClient.algorithmName},e)}sign(e,t=!1,r={}){let n=this.header(r),i=l(e,n),a=(0,o.hashSha256)(i);return this.createWithSignedHash(e,t,n,i,a)}signAsync(e,t=!1,r={}){return n(this,void 0,void 0,function*(){let n=this.header(r),i=l(e,n),a=yield(0,o.hashSha256Async)(i);return this.createWithSignedHash(e,t,n,i,a)})}createWithSignedHash(e,t,r,n,a){let s=this.cryptoClient.signHash(a,this.rawPrivateKey);return t?{header:[i.encode(JSON.stringify(r))],payload:JSON.stringify(e),signature:[s]}:[n,s].join(".")}}},53159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenVerifier=void 0;let n=r(73585),i=r(71689),a=r(54966),s=r(27558);t.TokenVerifier=class{constructor(e,t){if(!(e&&t))throw new a.MissingParametersError("a signing algorithm and public key are required");if("string"!=typeof e)throw"signing algorithm parameter must be a string";if(e=e.toUpperCase(),!i.cryptoClients.hasOwnProperty(e))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=i.cryptoClients[e],this.rawPublicKey=t}verify(e){return"string"==typeof e?this.verifyCompact(e,!1):"object"==typeof e&&this.verifyExpanded(e,!1)}verifyAsync(e){return"string"==typeof e?this.verifyCompact(e,!0):"object"==typeof e?this.verifyExpanded(e,!0):Promise.resolve(!1)}verifyCompact(e,t){let r=e.split("."),n=r[0]+"."+r[1],i=e=>{let t=this.cryptoClient.loadSignature(r[2]);return this.cryptoClient.verifyHash(e,t,this.rawPublicKey)};return t?(0,s.hashSha256Async)(n).then(e=>i(e)):i((0,s.hashSha256)(n))}verifyExpanded(e,t){let r=[e.header.join("."),n.encode(e.payload)].join("."),i=!0,a=t=>(e.signature.map(e=>{let r=this.cryptoClient.loadSignature(e);this.cryptoClient.verifyHash(t,r,this.rawPublicKey)||(i=!1)}),i);return t?(0,s.hashSha256Async)(r).then(e=>a(e)):a((0,s.hashSha256)(r))}}},18854:function(e){var t,r,n,i=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}var l=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=o(d);c=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||c||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},54422:function(){},99433:function(){}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",r.rv=()=>"1.5.0",r.ruid="bundler=rspack@1.5.0",(()=>{"use strict";let e,t,n,i,a,s,o,l,c,u,d;var h,f,p,g,y={};r.r(y),r.d(y,{hasBrowserEnv:()=>ti,hasStandardBrowserEnv:()=>ts,hasStandardBrowserWebWorkerEnv:()=>to,navigator:()=>ta,origin:()=>tl});var m={};r.r(m);var b={};r.r(b);var w={};r.r(w),r.d(w,{EBlockTag:()=>nL,EDAMode:()=>nU,EDataAvailabilityMode:()=>nP,ESimulationFlag:()=>nB,ETransactionExecutionStatus:()=>nM,ETransactionFinalityStatus:()=>nR,ETransactionStatus:()=>nD,ETransactionType:()=>nC,ETransactionVersion:()=>nj,ETransactionVersion2:()=>nF,ETransactionVersion3:()=>nz,Errors:()=>m,SPEC:()=>b});var E={};r.r(E),r.d(E,{Permission:()=>nV,TypedDataRevision:()=>nH});var _={};r.r(_),r.d(_,{API:()=>w,EBlockTag:()=>nL,EDAMode:()=>nU,EDataAvailabilityMode:()=>nP,ESimulationFlag:()=>nB,ETransactionExecutionStatus:()=>nM,ETransactionFinalityStatus:()=>nR,ETransactionStatus:()=>nD,ETransactionType:()=>nC,ETransactionVersion:()=>nj,ETransactionVersion2:()=>nF,ETransactionVersion3:()=>nz,Errors:()=>m,Permission:()=>nV,SPEC:()=>b,TypedDataRevision:()=>nH,WALLET_API:()=>E});var v={};r.r(v);var A={};r.r(A),r.d(A,{ABI_TYPE_CONSTRUCTOR:()=>n6,ABI_TYPE_ENUM:()=>n8,ABI_TYPE_FUNCTION:()=>n3,ABI_TYPE_L1_HANDLER:()=>n4,CALL_TYPE:()=>ii,CONTRACT:()=>v,EBlockTag:()=>iu,EDAMode:()=>ih,EDataAvailabilityMode:()=>id,ESimulationFlag:()=>is,ETransactionExecutionStatus:()=>ic,ETransactionFinalityStatus:()=>il,ETransactionStatus:()=>io,ETransactionType:()=>ia,ETransactionVersion:()=>ip,ETransactionVersion2:()=>ig,ETransactionVersion3:()=>iy,EVENT_ABI_TYPE:()=>n5,L1_DA_MODE:()=>ir,PRICE_UNIT_FRI:()=>it,PRICE_UNIT_WEI:()=>ie,STATE_MUTABILITY_EXTERNAL:()=>n7,STATE_MUTABILITY_VIEW:()=>n9,STATUS_ACCEPTED_ON_L1:()=>nq,STATUS_ACCEPTED_ON_L2:()=>n$,STATUS_PENDING:()=>nG,STATUS_RECEIVED:()=>nK,STATUS_REJECTED:()=>nW,STATUS_REVERTED:()=>nZ,STATUS_SUCCEEDED:()=>nY,STRUCT_ABI_TYPE:()=>n2,TXN_TYPE_DECLARE:()=>nQ,TXN_TYPE_DEPLOY:()=>nJ,TXN_TYPE_DEPLOY_ACCOUNT:()=>nX,TXN_TYPE_INVOKE:()=>n0,TXN_TYPE_L1_HANDLER:()=>n1});var x={};r.r(x),r.d(x,{Permission:()=>im,TypedDataRevision:()=>ib});var I={};r.r(I);var S={};r.r(S),r.d(S,{ABI_TYPE_CONSTRUCTOR:()=>n6,ABI_TYPE_ENUM:()=>n8,ABI_TYPE_FUNCTION:()=>n3,ABI_TYPE_L1_HANDLER:()=>n4,API:()=>A,CALL_TYPE:()=>ii,CONTRACT:()=>v,EBlockTag:()=>iu,EDAMode:()=>ih,EDataAvailabilityMode:()=>id,ESimulationFlag:()=>is,ETransactionExecutionStatus:()=>ic,ETransactionFinalityStatus:()=>il,ETransactionStatus:()=>io,ETransactionType:()=>ia,ETransactionVersion:()=>ip,ETransactionVersion2:()=>ig,ETransactionVersion3:()=>iy,EVENT_ABI_TYPE:()=>n5,L1_DA_MODE:()=>ir,PAYMASTER_API:()=>I,PRICE_UNIT_FRI:()=>it,PRICE_UNIT_WEI:()=>ie,Permission:()=>im,STATE_MUTABILITY_EXTERNAL:()=>n7,STATE_MUTABILITY_VIEW:()=>n9,STATUS_ACCEPTED_ON_L1:()=>nq,STATUS_ACCEPTED_ON_L2:()=>n$,STATUS_PENDING:()=>nG,STATUS_RECEIVED:()=>nK,STATUS_REJECTED:()=>nW,STATUS_REVERTED:()=>nZ,STATUS_SUCCEEDED:()=>nY,STRUCT_ABI_TYPE:()=>n2,TXN_TYPE_DECLARE:()=>nQ,TXN_TYPE_DEPLOY:()=>nJ,TXN_TYPE_DEPLOY_ACCOUNT:()=>nX,TXN_TYPE_INVOKE:()=>n0,TXN_TYPE_L1_HANDLER:()=>n1,TypedDataRevision:()=>ib,WALLET_API:()=>x});var T={};r.r(T),r.d(T,{aK:()=>aS,e8:()=>au,DO:()=>ac,dJ:()=>aT,OG:()=>ak,My:()=>ah,Ph:()=>ab,lX:()=>aw,Id:()=>aA,fg:()=>aC,qj:()=>av,aT:()=>am,r4:()=>aI,aY:()=>al,x:()=>aR,lq:()=>aE,z:()=>a_,zW:()=>af,Q5:()=>aD});var k={};r.r(k),r.d(k,{aK:()=>sX,e8:()=>sL,DO:()=>sM,dJ:()=>s0,OG:()=>s1,My:()=>sU,Ph:()=>s$,lX:()=>sq,Id:()=>sK,fg:()=>s3,qj:()=>sW,aT:()=>sH,ME:()=>sF,r4:()=>sJ,aY:()=>sR,x:()=>s8,lq:()=>sY,z:()=>sZ,zW:()=>sj,IV:()=>sG,Q5:()=>s4});var N={};r.r(N),r.d(N,{CURVE:()=>oJ,Fp251:()=>lu,MAX_VALUE:()=>oj,ProjectivePoint:()=>oX,Signature:()=>o0,_poseidonMDS:()=>lh,_starkCurve:()=>oH,computeHashOnElements:()=>ls,ethSigToPrivate:()=>o4,getAccountPath:()=>o7,getPublicKey:()=>oY,getSharedSecret:()=>oZ,getStarkKey:()=>o6,grindKey:()=>o3,keccak:()=>ll,normalizePrivateKey:()=>oq,pedersen:()=>la,poseidonBasic:()=>lf,poseidonCreate:()=>lp,poseidonHash:()=>ly,poseidonHashFunc:()=>lm,poseidonHashMany:()=>lw,poseidonHashSingle:()=>lb,poseidonSmall:()=>lg,sign:()=>oK,utils:()=>o1,verify:()=>oQ});var O={};r.r(O),r.d(O,{poseidon:()=>l2,splitConstants:()=>l1,validateOpts:()=>l0});var C={};r.r(C),r.d(C,{DER:()=>ca,SWUFpSqrtRatio:()=>cf,mapToCurveSimpleSWU:()=>cp,weierstrass:()=>ch,weierstrassPoints:()=>cd}),r.p,r.p;let B={id:"XverseProviders.BitcoinProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://www.xverse.app/",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg?hl=en-GB&authuser=1",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",methods:["getInfo","getAddresses","getAccounts","signMessage","sendTransfer","signPsbt","stx_callContract","stx_deployContract","stx_getAccounts","stx_getAddresses","stx_signMessage","stx_signStructuredMessage","stx_signTransaction","stx_transferStx"]};var D=function(e){return e.authenticationRequest="xverse_stx_authentication_request",e.signatureRequest="xverse_stx_signature_request",e.structuredDataSignatureRequest="xverse_stx_structured_data_signature_request",e.transactionRequest="xverse_stx_transaction_request",e.getAddressRequest="xverse_btc_address_request",e.signPsbtRequest="xverse_btc_sats_psbt_request",e.signBatchPsbtRequest="xverse_btc_batch_psbt_request",e.signMessageRequest="xverse_btc_sign_message_request",e.sendBtcRequest="xverse_btc_send_request",e.createInscriptionRequest="xverse_btc_create_inscription_Request",e.createRepeatInscriptionsRequest="xverse_btc_create_repeat_inscriptions_request",e.rpcRequest="xverse_rpc_request",e}({}),R=function(e){return e.transactionRequest="transactionRequest",e.transactionResponse="transactionResponse",e.authenticationRequest="authenticationRequest",e.authenticationResponse="authenticationResponse",e.signatureRequest="signatureRequest",e.signatureResponse="signatureResponse",e.structuredDataSignatureRequest="structuredDataSignatureRequest",e}({}),M=function(e){return e.getAddressRequest="getAddressRequest",e.getAddressResponse="getAddressResponse",e.signPsbtRequest="signPsbtRequest",e.signBatchPsbtRequest="signBatchPsbtRequest",e.signPsbtResponse="signPsbtResponse",e.signBatchPsbtResponse="signBatchPsbtResponse",e.signMessageRequest="signMessageRequest",e.signMessageResponse="signMessageResponse",e.sendBtcRequest="sendBtcRequest",e.sendBtcResponse="sendBtcResponse",e.createInscriptionRequest="createInscriptionRequest",e.createInscriptionResponse="createInscriptionResponse",e.createRepeatInscriptionsRequest="createRepeatInscriptionsRequest",e.createRepeatInscriptionsResponse="createRepeatInscriptionsResponse",e}({});function L(t){return{lang:t?.lang??e?.lang,message:t?.message,abortEarly:t?.abortEarly??e?.abortEarly,abortPipeEarly:t?.abortPipeEarly??e?.abortPipeEarly}}function P(e){let t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function U(e,r,a,s,o){var l,c,u,d;let h=o&&"input"in o?o.input:a.value,f=o?.expected??e.expects??null,p=o?.received??P(h),g={kind:e.kind,type:e.type,input:h,expected:f,received:p,message:`Invalid ${r}: ${f?`Expected ${f} but r`:"R"}eceived ${p}`,requirement:e.requirement,path:o?.path,issues:o?.issues,lang:s.lang,abortEarly:s.abortEarly,abortPipeEarly:s.abortPipeEarly},y="schema"===e.kind,m=o?.message??e.message??(l=e.reference,c=g.lang,i?.get(l)?.get(c))??(y?(u=g.lang,n?.get(u)):null)??s.message??(d=g.lang,t?.get(d));void 0!==m&&(g.message="function"==typeof m?m(g):m),y&&(a.typed=!1),a.issues?a.issues.push(g):a.issues=[g]}function j(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},L())}}function F(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function z(e,t){let r=[...new Set(e)];return r.length>1?`(${r.join(` ${t} `)})`:r[0]??"never"}function V(e,t,r){return"function"==typeof e.fallback?e.fallback(t,r):e.fallback}function H(e,t,r){return"function"==typeof e.default?e.default(t,r):e.default}function $(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function q(e,t){return{kind:"schema",type:"array",reference:q,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return j(this)},"~run"(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<r.length;n++){let i=r[n],a=this.item["~run"]({value:i},t);if(a.issues){let s={type:"array",origin:"value",input:r,key:n,value:i};for(let t of a.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}}else U(this,"type",e,t);return e}}}function Y(e){return{kind:"schema",type:"boolean",reference:Y,expects:"boolean",async:!1,message:e,get"~standard"(){return j(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:U(this,"type",e,t),e}}}function Z(e,t){let r=[];for(let t in e)`${+t}`===t&&"string"==typeof e[t]&&Object.is(e[e[t]],+t)||r.push(e[t]);return{kind:"schema",type:"enum",reference:Z,expects:z(r.map(P),"|"),async:!1,enum:e,options:r,message:t,get"~standard"(){return j(this)},"~run"(e,t){return this.options.includes(e.value)?e.typed=!0:U(this,"type",e,t),e}}}function G(e,t){return{kind:"schema",type:"literal",reference:G,expects:P(e),async:!1,literal:e,message:t,get"~standard"(){return j(this)},"~run"(e,t){return e.value===this.literal?e.typed=!0:U(this,"type",e,t),e}}}function W(e,t){return{kind:"schema",type:"non_optional",reference:W,expects:"!undefined",async:!1,wrapped:e,message:t,get"~standard"(){return j(this)},"~run"(e,t){return void 0!==e.value&&(e=this.wrapped["~run"](e,t)),void 0===e.value&&U(this,"type",e,t),e}}}function K(e){return{kind:"schema",type:"null",reference:K,expects:"null",async:!1,message:e,get"~standard"(){return j(this)},"~run"(e,t){return null===e.value?e.typed=!0:U(this,"type",e,t),e}}}function Q(e,t){return{kind:"schema",type:"nullish",reference:Q,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return j(this)},"~run"(e,t){return(null===e.value||void 0===e.value)&&(void 0!==this.default&&(e.value=H(this,e,t)),null===e.value||void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function J(e){return{kind:"schema",type:"number",reference:J,expects:"number",async:!1,message:e,get"~standard"(){return j(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?U(this,"type",e,t):e.typed=!0,e}}}function X(e,t){return{kind:"schema",type:"object",reference:X,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return j(this)},"~run"(e,t){let r=e.value;if(r&&"object"==typeof r)for(let n in e.typed=!0,e.value={},this.entries){let i=this.entries[n];if(n in r||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){let a=n in r?r[n]:H(i),s=i["~run"]({value:a},t);if(s.issues){let i={type:"object",origin:"value",input:r,key:n,value:a};for(let t of s.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value[n]=s.value}else if(void 0!==i.fallback)e.value[n]=V(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(U(this,"key",e,t,{input:void 0,expected:`"${n}"`,path:[{type:"object",origin:"key",input:r,key:n,value:r[n]}]}),t.abortEarly))break}else U(this,"type",e,t);return e}}}function ee(e,t){return{kind:"schema",type:"optional",reference:ee,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return j(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=H(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function et(e){return{kind:"schema",type:"string",reference:et,expects:"string",async:!1,message:e,get"~standard"(){return j(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:U(this,"type",e,t),e}}}function er(e){let t;if(e)for(let r of e)t?t.push(...r.issues):t=r.issues;return t}function en(e,t){return{kind:"schema",type:"union",reference:en,expects:z(e.map(e=>e.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return j(this)},"~run"(e,t){let r,n,i;for(let a of this.options){let s=a["~run"]({value:e.value},t);if(s.typed)if(s.issues)n?n.push(s):n=[s];else{r=s;break}else i?i.push(s):i=[s]}if(r)return r;if(n){if(1===n.length)return n[0];U(this,"type",e,t,{issues:er(n)}),e.typed=!0}else{if(i?.length===1)return i[0];U(this,"type",e,t,{issues:er(i)})}return e}}}function ei(){return{kind:"schema",type:"unknown",reference:ei,expects:"unknown",async:!1,get"~standard"(){return j(this)},"~run":e=>(e.typed=!0,e)}}function ea(e,t,r){return{kind:"schema",type:"variant",reference:ea,expects:"Object",async:!1,key:e,options:t,message:r,get"~standard"(){return j(this)},"~run"(e,t){let r=e.value;if(r&&"object"==typeof r){let n,i=0,a=this.key,s=[],o=(e,l)=>{for(let c of e.options){if("variant"===c.type)o(c,new Set(l).add(c.key));else{let e=!0,o=0;for(let t of l){let n=c.entries[t];if(t in r?n["~run"]({typed:!1,value:r[t]},{abortEarly:!0}).issues:"exact_optional"!==n.type&&"optional"!==n.type&&"nullish"!==n.type){e=!1,a!==t&&(i<o||i===o&&t in r&&!(a in r))&&(i=o,a=t,s=[]),a===t&&s.push(c.entries[t].expects);break}o++}if(e){let e=c["~run"]({value:r},t);n&&(n.typed||!e.typed)||(n=e)}}if(n&&!n.issues)break}};if(o(this,new Set([this.key])),n)return n;U(this,"type",e,t,{input:r[a],expected:z(s,"|"),path:[{type:"object",origin:"value",input:r,key:a,value:r[a]}]})}else U(this,"type",e,t);return e}}}function es(e,t){let r={...e.entries};for(let e of t)delete r[e];return{...e,entries:r,get"~standard"(){return j(this)}}}function eo(...e){return{...e[0],pipe:e,get"~standard"(){return j(this)},"~run"(t,r){for(let n of e)if("metadata"!==n.kind){if(t.issues&&("schema"===n.kind||"transformation"===n.kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=n["~run"](t,r))}return t}}}function el(e,t,r){let n=e["~run"]({value:t},L(r));return{typed:n.typed,success:!n.issues,output:n.value,issues:n.issues}}function ec(e,t){return function(){return e.apply(t,arguments)}}r(64161);var eu=r(18854);let{toString:ed}=Object.prototype,{getPrototypeOf:eh}=Object,{iterator:ef,toStringTag:ep}=Symbol,eg=(e=>t=>{let r=ed.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ey=e=>(e=e.toLowerCase(),t=>eg(t)===e),em=e=>t=>typeof t===e,{isArray:eb}=Array,ew=em("undefined");function eE(e){return null!==e&&!ew(e)&&null!==e.constructor&&!ew(e.constructor)&&eA(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}let e_=ey("ArrayBuffer"),ev=em("string"),eA=em("function"),ex=em("number"),eI=e=>null!==e&&"object"==typeof e,eS=e=>{if("object"!==eg(e))return!1;let t=eh(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ep in e)&&!(ef in e)},eT=ey("Date"),ek=ey("File"),eN=ey("Blob"),eO=ey("FileList"),eC=ey("URLSearchParams"),[eB,eD,eR,eM]=["ReadableStream","Request","Response","Headers"].map(ey);function eL(e,t,{allOwnKeys:r=!1}={}){let n,i;if(null!=e)if("object"!=typeof e&&(e=[e]),eb(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{let i;if(eE(e))return;let a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;for(n=0;n<s;n++)i=a[n],t.call(null,e[i],i,e)}}function eP(e,t){let r;if(eE(e))return null;t=t.toLowerCase();let n=Object.keys(e),i=n.length;for(;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}let eU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:globalThis,ej=e=>!ew(e)&&e!==eU,eF=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&eh(Uint8Array)),ez=ey("HTMLFormElement"),eV=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),eH=ey("RegExp"),e$=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};eL(r,(r,i)=>{let a;!1!==(a=t(r,i,e))&&(n[i]=a||r)}),Object.defineProperties(e,n)},eq=ey("AsyncFunction"),eY=(h="function"==typeof setImmediate,f=eA(eU.postMessage),h?setImmediate:f?((e,t)=>(eU.addEventListener("message",({source:r,data:n})=>{r===eU&&n===e&&t.length&&t.shift()()},!1),r=>{t.push(r),eU.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e)),eZ="undefined"!=typeof queueMicrotask?queueMicrotask.bind(eU):void 0!==eu&&eu.nextTick||eY,eG={isArray:eb,isArrayBuffer:e_,isBuffer:eE,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||eA(e.append)&&("formdata"===(t=eg(e))||"object"===t&&eA(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e_(e.buffer)},isString:ev,isNumber:ex,isBoolean:e=>!0===e||!1===e,isObject:eI,isPlainObject:eS,isEmptyObject:e=>{if(!eI(e)||eE(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:eB,isRequest:eD,isResponse:eR,isHeaders:eM,isUndefined:ew,isDate:eT,isFile:ek,isBlob:eN,isRegExp:eH,isFunction:eA,isStream:e=>eI(e)&&eA(e.pipe),isURLSearchParams:eC,isTypedArray:eF,isFileList:eO,forEach:eL,merge:function e(){let{caseless:t,skipUndefined:r}=ej(this)&&this||{},n={},i=(i,a)=>{let s=t&&eP(n,a)||a;eS(n[s])&&eS(i)?n[s]=e(n[s],i):eS(i)?n[s]=e({},i):eb(i)?n[s]=i.slice():r&&ew(i)||(n[s]=i)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&eL(arguments[e],i);return n},extend:(e,t,r,{allOwnKeys:n}={})=>(eL(t,(t,n)=>{r&&eA(t)?e[n]=ec(t,r):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,a,s,o={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)s=i[a],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=!1!==r&&eh(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:eg,kindOfTest:ey,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return -1!==n&&n===r},toArray:e=>{if(!e)return null;if(eb(e))return e;let t=e.length;if(!ex(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r,n=(e&&e[ef]).call(e);for(;(r=n.next())&&!r.done;){let n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let r,n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:ez,hasOwnProperty:eV,hasOwnProp:eV,reduceDescriptors:e$,freezeMethods:e=>{e$(e,(t,r)=>{if(eA(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;if(eA(e[r])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(eb(e)?e:String(e).split(t)).forEach(e=>{r[e]=!0}),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e*=1)?e:t,findKey:eP,global:eU,isContextDefined:ej,isSpecCompliantForm:function(e){return!!(e&&eA(e.append)&&"FormData"===e[ep]&&e[ef])},toJSONObject:e=>{let t=Array(10),r=(e,n)=>{if(eI(e)){if(t.indexOf(e)>=0)return;if(eE(e))return e;if(!("toJSON"in e)){t[n]=e;let i=eb(e)?[]:{};return eL(e,(e,t)=>{let a=r(e,n+1);ew(a)||(i[t]=a)}),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:eq,isThenable:e=>e&&(eI(e)||eA(e))&&eA(e.then)&&eA(e.catch),setImmediate:eY,asap:eZ,isIterable:e=>null!=e&&eA(e[ef])};function eW(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}eG.inherits(eW,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:eG.toJSONObject(this.config),code:this.code,status:this.status}}});let eK=eW.prototype,eQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eQ[e]={value:e}}),Object.defineProperties(eW,eQ),Object.defineProperty(eK,"isAxiosError",{value:!0}),eW.from=(e,t,r,n,i,a)=>{let s=Object.create(eK);eG.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);let o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return eW.call(s,o,l,r,n,i),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",a&&Object.assign(s,a),s};var eJ=r(92159).Buffer;function eX(e){return eG.isPlainObject(e)||eG.isArray(e)}function e0(e){return eG.endsWith(e,"[]")?e.slice(0,-2):e}function e1(e,t,r){return e?e.concat(t).map(function(e,t){return e=e0(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}let e2=eG.toFlatObject(eG,{},null,function(e){return/^is[A-Z]/.test(e)}),e5=function(e,t,r){if(!eG.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let n=(r=eG.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!eG.isUndefined(t[e])})).metaTokens,i=r.visitor||c,a=r.dots,s=r.indexes,o=(r.Blob||"undefined"!=typeof Blob&&Blob)&&eG.isSpecCompliantForm(t);if(!eG.isFunction(i))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(eG.isDate(e))return e.toISOString();if(eG.isBoolean(e))return e.toString();if(!o&&eG.isBlob(e))throw new eW("Blob is not supported. Use a Buffer instead.");return eG.isArrayBuffer(e)||eG.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):eJ.from(e):e}function c(e,r,i){let o=e;if(e&&!i&&"object"==typeof e)if(eG.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else{var c;if(eG.isArray(e)&&(c=e,eG.isArray(c)&&!c.some(eX))||(eG.isFileList(e)||eG.endsWith(r,"[]"))&&(o=eG.toArray(e)))return r=e0(r),o.forEach(function(e,n){eG.isUndefined(e)||null===e||t.append(!0===s?e1([r],n,a):null===s?r:r+"[]",l(e))}),!1}return!!eX(e)||(t.append(e1(i,r,a),l(e)),!1)}let u=[],d=Object.assign(e2,{defaultVisitor:c,convertValue:l,isVisitable:eX});if(!eG.isObject(e))throw TypeError("data must be an object");return!function e(r,n){if(!eG.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),eG.forEach(r,function(r,a){!0===(!(eG.isUndefined(r)||null===r)&&i.call(t,r,eG.isString(a)?a.trim():a,n,d))&&e(r,n?n.concat(a):[a])}),u.pop()}}(e),t};function e3(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function e6(e,t){this._pairs=[],e&&e5(e,this,t)}let e4=e6.prototype;function e8(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function e9(e,t,r){let n;if(!t)return e;let i=r&&r.encode||e8;eG.isFunction(r)&&(r={serialize:r});let a=r&&r.serialize;if(n=a?a(t,r):eG.isURLSearchParams(t)?t.toString():new e6(t,r).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}e4.append=function(e,t){this._pairs.push([e,t])},e4.toString=function(e){let t=e?function(t){return e.call(this,t,e3)}:e3;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};let e7=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){eG.forEach(this.handlers,function(t){null!==t&&e(t)})}},te={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tt="undefined"!=typeof URLSearchParams?URLSearchParams:e6,tr="undefined"!=typeof FormData?FormData:null,tn="undefined"!=typeof Blob?Blob:null,ti="undefined"!=typeof window&&"undefined"!=typeof document,ta="object"==typeof navigator&&navigator||void 0,ts=ti&&(!ta||0>["ReactNative","NativeScript","NS"].indexOf(ta.product)),to="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,tl=ti&&window.location.href||"http://localhost",tc={...y,isBrowser:!0,classes:{URLSearchParams:tt,FormData:tr,Blob:tn},protocols:["http","https","file","blob","url","data"]},tu=function(e){if(eG.isFormData(e)&&eG.isFunction(e.entries)){let t={};return eG.forEachEntry(e,(e,r)=>{!function e(t,r,n,i){let a=t[i++];if("__proto__"===a)return!0;let s=Number.isFinite(+a),o=i>=t.length;return(a=!a&&eG.isArray(n)?n.length:a,o)?eG.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r:(n[a]&&eG.isObject(n[a])||(n[a]=[]),e(t,r,n[a],i)&&eG.isArray(n[a])&&(n[a]=function(e){let t,r,n={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)n[r=i[t]]=e[r];return n}(n[a]))),!s}(eG.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null},td={transitional:te,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r,n=t.getContentType()||"",i=n.indexOf("application/json")>-1,a=eG.isObject(e);if(a&&eG.isHTMLForm(e)&&(e=new FormData(e)),eG.isFormData(e))return i?JSON.stringify(tu(e)):e;if(eG.isArrayBuffer(e)||eG.isBuffer(e)||eG.isStream(e)||eG.isFile(e)||eG.isBlob(e)||eG.isReadableStream(e))return e;if(eG.isArrayBufferView(e))return e.buffer;if(eG.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1){var s,o;return(s=e,o=this.formSerializer,e5(s,new tc.classes.URLSearchParams,{visitor:function(e,t,r,n){return tc.isNode&&eG.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...o})).toString()}if((r=eG.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return e5(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(a||i){t.setContentType("application/json",!1);var l=e;if(eG.isString(l))try{return(0,JSON.parse)(l),eG.trim(l)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(l)}return e}],transformResponse:[function(e){let t=this.transitional||td.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(eG.isResponse(e)||eG.isReadableStream(e))return e;if(e&&eG.isString(e)&&(r&&!this.responseType||n)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e,this.parseReviver)}catch(e){if(!r&&n){if("SyntaxError"===e.name)throw eW.from(e,eW.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tc.classes.FormData,Blob:tc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};eG.forEach(["delete","get","head","post","put","patch"],e=>{td.headers[e]={}});let th=eG.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tf=Symbol("internals");function tp(e){return e&&String(e).trim().toLowerCase()}function tg(e){return!1===e||null==e?e:eG.isArray(e)?e.map(tg):String(e)}function ty(e,t,r,n,i){if(eG.isFunction(n))return n.call(this,t,r);if(i&&(t=r),eG.isString(t)){if(eG.isString(n))return -1!==t.indexOf(n);if(eG.isRegExp(n))return n.test(t)}}class tm{constructor(e){e&&this.set(e)}set(e,t,r){let n=this;function i(e,t,r){let i=tp(t);if(!i)throw Error("header name must be a non-empty string");let a=eG.findKey(n,i);a&&void 0!==n[a]&&!0!==r&&(void 0!==r||!1===n[a])||(n[a||t]=tg(e))}let a=(e,t)=>eG.forEach(e,(e,r)=>i(e,r,t));if(eG.isPlainObject(e)||e instanceof this.constructor)a(e,t);else{let n;if(eG.isString(e)&&(e=e.trim())&&(n=e,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim())))a((e=>{let t,r,n,i={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&th[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)}),i})(e),t);else if(eG.isObject(e)&&eG.isIterable(e)){let r={},n,i;for(let t of e){if(!eG.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?eG.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(r,t)}else null!=e&&i(t,e,r)}return this}get(e,t){if(e=tp(e)){let r=eG.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t){let t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)r[t[1]]=t[2];return r}if(eG.isFunction(t))return t.call(this,e,r);if(eG.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tp(e)){let r=eG.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||ty(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function i(e){if(e=tp(e)){let i=eG.findKey(r,e);i&&(!t||ty(r,r[i],i,t))&&(delete r[i],n=!0)}}return eG.isArray(e)?e.forEach(i):i(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let i=t[r];(!e||ty(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let t=this,r={};return eG.forEach(this,(n,i)=>{let a=eG.findKey(r,i);if(a){t[a]=tg(n),delete t[i];return}let s=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(i).trim();s!==i&&delete t[i],t[s]=tg(n),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return eG.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&eG.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=(this[tf]=this[tf]={accessors:{}}).accessors,r=this.prototype;function n(e){let n=tp(e);if(!t[n]){let i=eG.toCamelCase(" "+e);["get","set","has"].forEach(t=>{Object.defineProperty(r,t+i,{value:function(r,n,i){return this[t].call(this,e,r,n,i)},configurable:!0})}),t[n]=!0}}return eG.isArray(e)?e.forEach(n):n(e),this}}function tb(e,t){let r=this||td,n=t||r,i=tm.from(n.headers),a=n.data;return eG.forEach(e,function(e){a=e.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function tw(e){return!!(e&&e.__CANCEL__)}function tE(e,t,r){eW.call(this,null==e?"canceled":e,eW.ERR_CANCELED,t,r),this.name="CanceledError"}function t_(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new eW("Request failed with status code "+r.status,[eW.ERR_BAD_REQUEST,eW.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}tm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),eG.reduceDescriptors(tm.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),eG.freezeMethods(tm),eG.inherits(tE,eW,{__CANCEL__:!0});let tv=function(e,t){let r,n=Array(e=e||10),i=Array(e),a=0,s=0;return t=void 0!==t?t:1e3,function(o){let l=Date.now(),c=i[s];r||(r=l),n[a]=o,i[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if((a=(a+1)%e)===s&&(s=(s+1)%e),l-r<t)return;let h=c&&l-c;return h?Math.round(1e3*d/h):void 0}},tA=function(e,t){let r,n,i=0,a=1e3/t,s=(t,a=Date.now())=>{i=a,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[(...e)=>{let t=Date.now(),o=t-i;o>=a?s(e,t):(r=e,n||(n=setTimeout(()=>{n=null,s(r)},a-o)))},()=>r&&s(r)]},tx=(e,t,r=3)=>{let n=0,i=tv(50,250);return tA(r=>{let a=r.loaded,s=r.lengthComputable?r.total:void 0,o=a-n,l=i(o);n=a,e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})},r)},tI=(e,t)=>{let r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},tS=e=>(...t)=>eG.asap(()=>e(...t)),tT=tc.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,tc.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(tc.origin),tc.navigator&&/(msie|trident)/i.test(tc.navigator.userAgent)):()=>!0,tk=tc.hasStandardBrowserEnv?{write(e,t,r,n,i,a){let s=[e+"="+encodeURIComponent(t)];eG.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),eG.isString(n)&&s.push("path="+n),eG.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function tN(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||!1==r)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let tO=e=>e instanceof tm?{...e}:e;function tC(e,t){t=t||{};let r={};function n(e,t,r,n){return eG.isPlainObject(e)&&eG.isPlainObject(t)?eG.merge.call({caseless:n},e,t):eG.isPlainObject(t)?eG.merge({},t):eG.isArray(t)?t.slice():t}function i(e,t,r,i){return eG.isUndefined(t)?eG.isUndefined(e)?void 0:n(void 0,e,r,i):n(e,t,r,i)}function a(e,t){if(!eG.isUndefined(t))return n(void 0,t)}function s(e,t){return eG.isUndefined(t)?eG.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,i,a){return a in t?n(r,i):a in e?n(void 0,r):void 0}let l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,r)=>i(tO(e),tO(t),r,!0)};return eG.forEach(Object.keys({...e,...t}),function(n){let a=l[n]||i,s=a(e[n],t[n],n);eG.isUndefined(s)&&a!==o||(r[n]=s)}),r}let tB=e=>{let t=tC({},e),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=t;if(t.headers=s=tm.from(s),t.url=e9(tN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),eG.isFormData(r)){if(tc.hasStandardBrowserEnv||tc.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(eG.isFunction(r.getHeaders)){let e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,r])=>{t.includes(e.toLowerCase())&&s.set(e,r)})}}if(tc.hasStandardBrowserEnv&&(n&&eG.isFunction(n)&&(n=n(t)),n||!1!==n&&tT(t.url))){let e=i&&a&&tk.read(a);e&&s.set(i,e)}return t},tD="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){let n,i,a,s,o,l=tB(e),c=l.data,u=tm.from(l.headers).normalize(),{responseType:d,onUploadProgress:h,onDownloadProgress:f}=l;function p(){s&&s(),o&&o(),l.cancelToken&&l.cancelToken.unsubscribe(n),l.signal&&l.signal.removeEventListener("abort",n)}let g=new XMLHttpRequest;function y(){if(!g)return;let n=tm.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());t_(function(e){t(e),p()},function(e){r(e),p()},{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(l.method.toUpperCase(),l.url,!0),g.timeout=l.timeout,"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(y)},g.onabort=function(){g&&(r(new eW("Request aborted",eW.ECONNABORTED,e,g)),g=null)},g.onerror=function(t){let n=new eW(t&&t.message?t.message:"Network Error",eW.ERR_NETWORK,e,g);n.event=t||null,r(n),g=null},g.ontimeout=function(){let t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",n=l.transitional||te;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),r(new eW(t,n.clarifyTimeoutError?eW.ETIMEDOUT:eW.ECONNABORTED,e,g)),g=null},void 0===c&&u.setContentType(null),"setRequestHeader"in g&&eG.forEach(u.toJSON(),function(e,t){g.setRequestHeader(t,e)}),eG.isUndefined(l.withCredentials)||(g.withCredentials=!!l.withCredentials),d&&"json"!==d&&(g.responseType=l.responseType),f&&([a,o]=tx(f,!0),g.addEventListener("progress",a)),h&&g.upload&&([i,s]=tx(h),g.upload.addEventListener("progress",i),g.upload.addEventListener("loadend",s)),(l.cancelToken||l.signal)&&(n=t=>{g&&(r(!t||t.type?new tE(null,e,g):t),g.abort(),g=null)},l.cancelToken&&l.cancelToken.subscribe(n),l.signal&&(l.signal.aborted?n():l.signal.addEventListener("abort",n)));let m=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(l.url);if(m&&-1===tc.protocols.indexOf(m))return void r(new eW("Unsupported protocol "+m+":",eW.ERR_BAD_REQUEST,e));g.send(c||null)})},tR=function*(e,t){let r,n=e.byteLength;if(!t||n<t)return void(yield e);let i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},tM=async function*(e,t){for await(let r of tL(e))yield*tR(r,t)},tL=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);let t=e.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},tP=(e,t,r,n)=>{let i,a=tM(e,t),s=0,o=e=>{!i&&(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{let{done:t,value:n}=await a.next();if(t){o(),e.close();return}let i=n.byteLength;if(r){let e=s+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw o(e),e}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:tU}=eG,tj=(({fetch:e,Request:t,Response:r})=>({fetch:e,Request:t,Response:r}))(eG.global),{ReadableStream:tF,TextEncoder:tz}=eG.global,tV=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},tH=e=>{let t,{fetch:r,Request:n,Response:i}=Object.assign({},tj,e),a=tU(r),s=tU(n),o=tU(i);if(!a)return!1;let l=a&&tU(tF),c=a&&("function"==typeof tz?(t=new tz,e=>t.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer())),u=s&&l&&tV(()=>{let e=!1,t=new n(tc.origin,{body:new tF,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=o&&l&&tV(()=>eG.isReadableStream(new i("").body)),h={stream:d&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{h[e]||(h[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new eW(`Response type '${e}' is not supported`,eW.ERR_NOT_SUPPORT,r)})});let f=async e=>{if(null==e)return 0;if(eG.isBlob(e))return e.size;if(eG.isSpecCompliantForm(e)){let t=new n(tc.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return eG.isArrayBufferView(e)||eG.isArrayBuffer(e)?e.byteLength:(eG.isURLSearchParams(e)&&(e+=""),eG.isString(e))?(await c(e)).byteLength:void 0},p=async(e,t)=>{let r=eG.toFiniteNumber(e.getContentLength());return null==r?f(t):r};return async e=>{let t,{url:a,method:o,data:l,signal:c,cancelToken:f,timeout:g,onDownloadProgress:y,onUploadProgress:m,responseType:b,headers:w,withCredentials:E="same-origin",fetchOptions:_}=tB(e);b=b?(b+"").toLowerCase():"text";let v=((e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController,i=function(e){if(!r){r=!0,s();let t=e instanceof Error?e:this.reason;n.abort(t instanceof eW?t:new tE(t instanceof Error?t.message:t))}},a=t&&setTimeout(()=>{a=null,i(new eW(`timeout ${t} of ms exceeded`,eW.ETIMEDOUT))},t),s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));let{signal:o}=n;return o.unsubscribe=()=>eG.asap(s),o}})([c,f&&f.toAbortSignal()],g),A=null,x=v&&v.unsubscribe&&(()=>{v.unsubscribe()});try{if(m&&u&&"get"!==o&&"head"!==o&&0!==(t=await p(w,l))){let e,r=new n(a,{method:"POST",body:l,duplex:"half"});if(eG.isFormData(l)&&(e=r.headers.get("content-type"))&&w.setContentType(e),r.body){let[e,n]=tI(t,tx(tS(m)));l=tP(r.body,65536,e,n)}}eG.isString(E)||(E=E?"include":"omit");let c=s&&"credentials"in n.prototype,f={..._,signal:v,method:o.toUpperCase(),headers:w.normalize().toJSON(),body:l,duplex:"half",credentials:c?E:void 0};A=s&&new n(a,f);let g=await (s?r(A,_):r(a,f)),I=d&&("stream"===b||"response"===b);if(d&&(y||I&&x)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=g[t]});let t=eG.toFiniteNumber(g.headers.get("content-length")),[r,n]=y&&tI(t,tx(tS(y),!0))||[];g=new i(tP(g.body,65536,r,()=>{n&&n(),x&&x()}),e)}b=b||"text";let S=await h[eG.findKey(h,b)||"text"](g,e);return!I&&x&&x(),await new Promise((t,r)=>{t_(t,r,{data:S,headers:tm.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:A})})}catch(t){if(x&&x(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new eW("Network Error",eW.ERR_NETWORK,e,A),{cause:t.cause||t});throw eW.from(t,t&&t.code,e,A)}}},t$=new Map,tq=e=>{let t=eG.merge.call({skipUndefined:!0},tj,e?e.env:null),{fetch:r,Request:n,Response:i}=t,a=[n,i,r],s=a.length,o,l,c=t$;for(;s--;)o=a[s],void 0===(l=c.get(o))&&c.set(o,l=s?new Map:tH(t)),c=l;return l};tq();let tY={http:null,xhr:tD,fetch:{get:tq}};eG.forEach(tY,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let tZ=e=>`- ${e}`,tG=e=>eG.isFunction(e)||null===e||!1===e,tW={getAdapter:(e,t)=>{let r,n,{length:i}=e=eG.isArray(e)?e:[e],a={};for(let s=0;s<i;s++){let i;if(n=r=e[s],!tG(r)&&void 0===(n=tY[(i=String(r)).toLowerCase()]))throw new eW(`Unknown adapter '${i}'`);if(n&&(eG.isFunction(n)||(n=n.get(t))))break;a[i||"#"+s]=n}if(!n){let e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new eW("There is no suitable adapter to dispatch the request "+(i?e.length>1?"since :\n"+e.map(tZ).join("\n"):" "+tZ(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n}};function tK(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tE(null,e)}function tQ(e){return tK(e),e.headers=tm.from(e.headers),e.data=tb.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tW.getAdapter(e.adapter||td.adapter,e)(e).then(function(t){return tK(e),t.data=tb.call(e,e.transformResponse,t),t.headers=tm.from(t.headers),t},function(t){return!tw(t)&&(tK(e),t&&t.response&&(t.response.data=tb.call(e,e.transformResponse,t.response),t.response.headers=tm.from(t.response.headers))),Promise.reject(t)})}let tJ="1.12.0",tX={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tX[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let t0={};tX.transitional=function(e,t,r){function n(e,t){return"[Axios v"+tJ+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,a)=>{if(!1===e)throw new eW(n(i," has been removed"+(t?" in "+t:"")),eW.ERR_DEPRECATED);return t&&!t0[i]&&(t0[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,a)}},tX.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};let t1={assertOptions:function(e,t,r){if("object"!=typeof e)throw new eW("options must be an object",eW.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-- >0;){let a=n[i],s=t[a];if(s){let t=e[a],r=void 0===t||s(t,a,e);if(!0!==r)throw new eW("option "+a+" must be "+r,eW.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new eW("Unknown option "+a,eW.ERR_BAD_OPTION)}},validators:tX},t2=t1.validators;class t5{constructor(e){this.defaults=e||{},this.interceptors={request:new e7,response:new e7}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){let r,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:a,headers:s}=t=tC(this.defaults,t);void 0!==i&&t1.assertOptions(i,{silentJSONParsing:t2.transitional(t2.boolean),forcedJSONParsing:t2.transitional(t2.boolean),clarifyTimeoutError:t2.transitional(t2.boolean)},!1),null!=a&&(eG.isFunction(a)?t.paramsSerializer={serialize:a}:t1.assertOptions(a,{encode:t2.function,serialize:t2.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),t1.assertOptions(t,{baseUrl:t2.spelling("baseURL"),withXsrfToken:t2.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&eG.merge(s.common,s[t.method]);s&&eG.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=tm.concat(o,s);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let d=0;if(!c){let e=[tQ.bind(this),void 0];for(e.unshift(...l),e.push(...u),n=e.length,r=Promise.resolve(t);d<n;)r=r.then(e[d++],e[d++]);return r}n=l.length;let h=t;for(d=0;d<n;){let e=l[d++],t=l[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{r=tQ.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,n=u.length;d<n;)r=r.then(u[d++],u[d++]);return r}getUri(e){return e9(tN((e=tC(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}eG.forEach(["delete","get","head","options"],function(e){t5.prototype[e]=function(t,r){return this.request(tC(r||{},{method:e,url:t,data:(r||{}).data}))}}),eG.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(tC(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}t5.prototype[e]=t(),t5.prototype[e+"Form"]=t(!0)});class t3{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t,n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new tE(e,n,i),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason)return void e(this.reason);this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new t3(function(t){e=t}),cancel:e}}}let t6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(t6).forEach(([e,t])=>{t6[t]=e});let t4=function e(t){let r=new t5(t),n=ec(t5.prototype.request,r);return eG.extend(n,t5.prototype,r,{allOwnKeys:!0}),eG.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(tC(t,r))},n}(td);t4.Axios=t5,t4.CanceledError=tE,t4.CancelToken=t3,t4.isCancel=tw,t4.VERSION=tJ,t4.toFormData=e5,t4.AxiosError=eW,t4.Cancel=t4.CanceledError,t4.all=function(e){return Promise.all(e)},t4.spread=function(e){return function(t){return e.apply(null,t)}},t4.isAxiosError=function(e){return eG.isObject(e)&&!0===e.isAxiosError},t4.mergeConfig=tC,t4.AxiosHeaders=tm,t4.formToJSON=e=>tu(eG.isHTMLForm(e)?new FormData(e):e),t4.getAdapter=tW.getAdapter,t4.HttpStatusCode=t6,t4.default=t4;r(40295);new Int32Array(64);let t8=0;254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&0xff000000|e<<8&0xff0000|e>>8&65280|e>>24&255;!function(e){e.mainnet="mainnet",e.testnet="testnet",e.regtest="regtest",e.signet="signet"}(p||(p={})),function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"}(g||(g={}));g.p2pkh,p.mainnet,g.p2pkh,p.testnet,g.p2sh,p.mainnet,g.p2sh,p.testnet;r(92159);var t9=function e(t,r){return{kind:"schema",type:"picklist",reference:e,expects:z(t.map(P),"|"),async:!1,options:t,message:r,get"~standard"(){return j(this)},"~run"(e,t){return this.options.includes(e.value)?e.typed=!0:U(this,"type",e,t),e}}}(["software","ledger","keystone"]),t7=(e=>(e.Ordinals="ordinals",e.Payment="payment",e.Stacks="stacks",e.Starknet="starknet",e.Spark="spark",e))(t7||{}),re=(e=>(e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr",e.stacks="stacks",e.starknet="starknet",e.spark="spark",e))(re||{}),rt=X({address:et(),publicKey:et(),purpose:Z(t7),addressType:Z(re),walletType:t9}),rr=(e=>(e.Mainnet="Mainnet",e.Testnet="Testnet",e.Testnet4="Testnet4",e.Signet="Signet",e.Regtest="Regtest",e))(rr||{}),rn=(e=>(e.Mainnet="mainnet",e.Testnet="testnet",e))(rn||{}),ri=(e=>(e.Mainnet="mainnet",e.Sepolia="sepolia",e))(ri||{}),ra=(e=>(e.Mainnet="mainnet",e.Regtest="regtest",e))(ra||{}),rs=ee(en([et(),J(),K()])),ro=X({jsonrpc:G("2.0"),method:et(),params:ee(en([q(ei()),function e(t,r){return{kind:"schema",type:"loose_object",reference:e,expects:"Object",async:!1,entries:t,message:r,get"~standard"(){return j(this)},"~run"(e,t){let r=e.value;if(r&&"object"==typeof r){for(let n in e.typed=!0,e.value={},this.entries){let i=this.entries[n];if(n in r||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){let a=n in r?r[n]:H(i),s=i["~run"]({value:a},t);if(s.issues){let i={type:"object",origin:"value",input:r,key:n,value:a};for(let t of s.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value[n]=s.value}else if(void 0!==i.fallback)e.value[n]=V(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(U(this,"key",e,t,{input:void 0,expected:`"${n}"`,path:[{type:"object",origin:"key",input:r,key:n,value:r[n]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in r)!F(r,t)||t in this.entries||(e.value[t]=r[t])}else U(this,"type",e,t);return e}}}({}),K()])),id:rs.wrapped}),rl=X({jsonrpc:G("2.0"),result:W(ei()),id:rs}),rc=X({jsonrpc:G("2.0"),error:W(ei()),id:rs}),ru=en([rl,rc]),rd="accountChange",rh=X({type:G(rd),addresses:ee(q(rt))}),rf="networkChange",rp=X({type:G(rf),bitcoin:X({name:Z(rr)}),stacks:X({name:et()}),addresses:ee(q(rt))}),rg="disconnect",ry=ea("type",[rh,rp,X({type:G(rg)})]),rm=(e=>(e.ECDSA="ECDSA",e.BIP322="BIP322",e))(rm||{}),rb=X({purposes:q(Z(t7)),message:ee(et())});rt.entries,X({walletType:t9}).entries,ro.entries,X({method:G("getAccounts"),params:rb,id:et()}).entries;var rw=ea("chain",[X({chain:G("bitcoin"),type:Z(rr),name:et(),rpcUrl:et(),rpcFallbackUrl:ee(et()),indexerUrl:ee(et()),blockExplorerUrl:ee(et()),switch:ee(Y())}),X({chain:G("stacks"),name:et(),type:Z(rn),rpcUrl:et(),blockExplorerUrl:ee(et()),switch:ee(Y())}),X({chain:G("starknet"),name:et(),type:Z(ri),rpcUrl:et(),blockExplorerUrl:ee(et()),switch:ee(Y())})]);({...ro.entries,...X({method:G("wallet_addNetwork"),params:rw,id:et()}).entries});var rE=X({name:Z(rr)});({...ro.entries,...X({method:G("wallet_changeNetwork"),params:rE,id:et()}).entries});var r_=X({id:et()});({...ro.entries,...X({method:G("wallet_changeNetworkById"),params:r_,id:et()}).entries});var rv=X({read:ee(Y())}),rA=X({readNetwork:ee(Y())}),rx=X({type:G("account"),resourceId:et(),clientId:et(),actions:rv}),rI=X({type:G("wallet"),resourceId:et(),clientId:et(),actions:rA}),rS=ea("type",[X({...es(rx,["clientId"]).entries}),X({...es(rI,["clientId"]).entries})]),rT=Q(K());({...ro.entries,...X({method:G("wallet_getNetwork"),params:rT,id:et()}).entries});var rk=Q(X({permissions:ee(q(rS)),addresses:ee(q(Z(t7))),message:ee(eo(et(),function e(t,r){return{kind:"validation",type:"max_length",reference:e,async:!1,expects:`<=${t}`,requirement:t,message:r,"~run"(e,t){return e.typed&&e.value.length>this.requirement&&U(this,"length",e,t,{received:`${e.value.length}`}),e}}}(80,"The message must not exceed 80 characters."))),network:ee(Z(rr))}));({...ro.entries,...X({method:G("wallet_connect"),params:rk,id:et()}).entries});var rN=Q(K());({...ro.entries,...X({method:G("wallet_disconnect"),params:rN,id:et()}).entries});var rO=Q(K());({...ro.entries,...X({method:G("wallet_getAccount"),params:rO,id:et()}).entries});var rC=Q(K());({...ro.entries,...X({method:G("wallet_getCurrentPermissions"),params:rC,id:et()}).entries});var rB=Q(K());({...ro.entries,...X({method:G("wallet_getWalletType"),params:rB,id:et()}).entries});var rD=X({fromAsset:et(),toAsset:et()});({...ro.entries,...X({method:G("wallet_openBridge"),params:rD,id:et()}).entries});var rR=X({asset:et()});({...ro.entries,...X({method:G("wallet_openBuy"),params:rR,id:et()}).entries});var rM=X({address:et()});({...ro.entries,...X({method:G("wallet_openReceive"),params:rM,id:et()}).entries});var rL=Q(K());({...ro.entries,...X({method:G("wallet_renouncePermissions"),params:rL,id:et()}).entries});var rP=Q(q(rS));({...ro.entries,...X({method:G("wallet_requestPermissions"),params:rP,id:et()}).entries});var rU=X({purposes:q(Z(t7)),message:ee(et())});({...ro.entries,...X({method:G("getAddresses"),params:rU,id:et()}).entries}),{...ro.entries,...X({method:G("getBalance"),id:et()}).entries};var rj=(e=>(e.Web="web",e.Mobile="mobile",e))(rj||{}),rF=Q(K());({...ro.entries,...X({method:G("getInfo"),params:rF,id:et()}).entries});var rz=X({recipients:q(X({address:et(),amount:J()}))});({...ro.entries,...X({method:G("sendTransfer"),params:rz,id:et()}).entries});var rV=X({address:et(),message:et(),protocol:ee(Z(rm))});({...ro.entries,...X({method:G("signMessage"),params:rV,id:et()}).entries});var rH=q(X({address:et(),message:et(),protocol:ee(Z(rm))}));({...ro.entries,...X({method:G("signMultipleMessages"),params:rH,id:et()}).entries});var r$=X({psbt:et(),signInputs:ee(function e(t,r,n){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!1,key:t,value:r,message:n,get"~standard"(){return j(this)},"~run"(e,t){let r=e.value;if(r&&"object"==typeof r){for(let n in e.typed=!0,e.value={},r)if(F(r,n)){let i=r[n],a=this.key["~run"]({value:n},t);if(a.issues){let s={type:"object",origin:"key",input:r,key:n,value:i};for(let t of a.issues)t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}let s=this.value["~run"]({value:i},t);if(s.issues){let a={type:"object",origin:"value",input:r,key:n,value:i};for(let t of s.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}a.typed&&s.typed||(e.typed=!1),a.typed&&(e.value[a.value]=s.value)}}else U(this,"type",e,t);return e}}}(et(),q(J()))),broadcast:ee(Y())});({...ro.entries,...X({method:G("signPsbt"),params:r$,id:et()}).entries});var rq=X({offset:J(),limit:J()});({...ro.entries,...X({method:G("ord_getInscriptions"),params:rq,id:et()}).entries});var rY=X({transfers:q(X({address:et(),inscriptionId:et()}))});({...ro.entries,...X({method:G("ord_sendInscriptions"),params:rY,id:et()}).entries});var rZ=X({amount:et(),cap:et(),heightStart:ee(et()),heightEnd:ee(et()),offsetStart:ee(et()),offsetEnd:ee(et())}),rG=X({contentType:et(),contentBase64:et()}),rW=X({runeName:et(),divisibility:ee(J()),symbol:ee(et()),premine:ee(et()),isMintable:Y(),delegateInscriptionId:ee(et()),destinationAddress:et(),refundAddress:et(),feeRate:J(),appServiceFee:ee(J()),appServiceFeeAddress:ee(et()),terms:ee(rZ),inscriptionDetails:ee(rG),network:ee(Z(rr))});({...ro.entries,...X({method:G("runes_etch"),params:rW,id:et()}).entries});var rK=Q(K());({...ro.entries,...X({method:G("runes_getBalance"),params:rK,id:et()}).entries});var rQ=X({appServiceFee:ee(J()),appServiceFeeAddress:ee(et()),destinationAddress:et(),feeRate:J(),refundAddress:et(),repeats:J(),runeName:et(),network:ee(Z(rr))});({...ro.entries,...X({method:G("runes_mint"),params:rQ,id:et()}).entries});var rJ=X({recipients:q(X({runeName:et(),amount:et(),address:et()}))});({...ro.entries,...X({method:G("runes_transfer"),params:rJ,id:et()}).entries});var rX=X({sparkTransferId:et(),lpIdentityPublicKey:et()});({...ro.entries,...X({method:G("spark_flashnet_clawbackFunds"),params:rX,id:et()}).entries});var r0=X({hops:q(X({poolId:et(),assetInAddress:et(),assetOutAddress:et(),hopIntegratorFeeRateBps:ee(J())})),initialAssetAddress:et(),inputAmount:et(),maxRouteSlippageBps:et(),minAmountOut:ee(et()),integratorFeeRateBps:ee(J()),integratorPublicKey:ee(et())});({...ro.entries,...X({method:G("spark_flashnet_executeRouteSwap"),params:r0,id:et()}).entries});var r1=X({poolId:et(),assetInAddress:et(),assetOutAddress:et(),amountIn:et(),maxSlippageBps:J(),minAmountOut:ee(et()),integratorFeeRateBps:ee(J()),integratorPublicKey:ee(et())});({...ro.entries,...X({method:G("spark_flashnet_executeSwap"),params:r1,id:et()}).entries});var r2=Q(K());({...ro.entries,...X({method:G("spark_flashnet_getClawbackEligibleTransfers"),params:r2,id:et()}).entries});var r5=K();({...ro.entries,...X({method:G("spark_flashnet_getJwt"),params:r5,id:et()}).entries});var r3=X({type:G("addLiquidity"),data:X({userPublicKey:et(),poolId:et(),assetAAmount:et(),assetBAmount:et(),assetAMinAmountIn:et(),assetBMinAmountIn:et(),assetATransferId:et(),assetBTransferId:et(),nonce:et()})}),r6=X({type:G("clawback"),data:X({senderPublicKey:et(),sparkTransferId:et(),lpIdentityPublicKey:et(),nonce:et()})}),r4=X({type:G("confirmInitialDeposit"),data:X({poolId:et(),assetASparkTransferId:et(),poolOwnerPublicKey:et(),nonce:et()})}),r8=X({type:G("createConstantProductPool"),data:X({poolOwnerPublicKey:et(),assetAAddress:et(),assetBAddress:et(),lpFeeRateBps:en([J(),et()]),totalHostFeeRateBps:en([J(),et()]),nonce:et()})}),r9=X({type:G("createSingleSidedPool"),data:X({assetAAddress:et(),assetBAddress:et(),assetAInitialReserve:et(),virtualReserveA:en([J(),et()]),virtualReserveB:en([J(),et()]),threshold:en([J(),et()]),lpFeeRateBps:en([J(),et()]),totalHostFeeRateBps:en([J(),et()]),poolOwnerPublicKey:et(),nonce:et()})}),r7=X({type:G("removeLiquidity"),data:X({userPublicKey:et(),poolId:et(),lpTokensToRemove:et(),nonce:et()})}),ne=X({type:G("executeRouteSwap"),data:X({userPublicKey:et(),initialSparkTransferId:et(),hops:q(X({poolId:et(),inputAssetAddress:et(),outputAssetAddress:et(),hopIntegratorFeeRateBps:ee(en([J(),et()]))})),inputAmount:et(),maxRouteSlippageBps:en([J(),et()]),minAmountOut:et(),defaultIntegratorFeeRateBps:ee(en([J(),et()])),nonce:et()})}),nt=X({type:G("executeSwap"),data:X({userPublicKey:et(),poolId:et(),transferId:et(),assetInAddress:et(),assetOutAddress:et(),amountIn:et(),maxSlippageBps:en([J(),et()]),minAmountOut:et(),totalIntegratorFeeRateBps:ee(en([J(),et()])),nonce:et()})}),nr=en([nt,ne,r3,r6,r4,r8,r9,r7]);({...ro.entries,...X({method:G("spark_flashnet_signIntent"),params:nr,id:et()}).entries});var nn=X({message:et()});({...ro.entries,...X({method:G("spark_flashnet_signStructuredMessage"),params:nn,id:et()}).entries});var ni=Q(X({message:ee(et())}));({...ro.entries,...X({method:G("spark_getAddresses"),params:ni,id:et()}).entries});var na=Q(K());({...ro.entries,...X({method:G("spark_getBalance"),params:na,id:et()}).entries});var ns=X({message:et()});({...ro.entries,...X({method:G("spark_signMessage"),params:ns,id:et()}).entries});var no=X({amountSats:en([J(),et()]),receiverSparkAddress:et()});({...ro.entries,...X({method:G("spark_transfer"),params:no,id:et()}).entries});var nl=X({tokenAmount:en([J(),et()]),tokenIdentifier:et(),receiverSparkAddress:et()});({...ro.entries,...X({method:G("spark_transferToken"),params:nl,id:et()}).entries});var nc=X({contract:et(),functionName:et(),arguments:ee(q(et())),functionArgs:ee(q(et())),postConditions:ee(q(et())),postConditionMode:ee(en([G("allow"),G("deny")]))});({...ro.entries,...X({method:G("stx_callContract"),params:nc,id:et()}).entries});var nu=X({name:et(),clarityCode:et(),clarityVersion:ee(J()),postConditions:ee(q(et())),postConditionMode:ee(en([G("allow"),G("deny")]))});({...ro.entries,...X({method:G("stx_deployContract"),params:nu,id:et()}).entries});var nd=Q(K());({...ro.entries,...X({method:G("stx_getAccounts"),params:nd,id:et()}).entries});var nh=Q(X({message:ee(et())}));({...ro.entries,...X({method:G("stx_getAddresses"),params:nh,id:et()}).entries});var nf=X({message:et()});({...ro.entries,...X({method:G("stx_signMessage"),params:nf,id:et()}).entries});var np=X({domain:et(),message:et(),publicKey:ee(et())});({...ro.entries,...X({method:G("stx_signStructuredMessage"),params:np,id:et()}).entries});var ng=X({transaction:et(),pubkey:ee(et()),broadcast:ee(Y())});({...ro.entries,...X({method:G("stx_signTransaction"),params:ng,id:et()}).entries});var ny=X({transactions:eo(q(eo(et(),function e(t,r){return{kind:"validation",type:"check",reference:e,async:!1,expects:null,requirement:t,message:r,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&U(this,"input",e,t),e}}}(e=>!0,"Invalid hex-encoded Stacks transaction."))),function e(t,r){return{kind:"validation",type:"min_length",reference:e,async:!1,expects:`>=${t}`,requirement:t,message:r,"~run"(e,t){return e.typed&&e.value.length<this.requirement&&U(this,"length",e,t,{received:`${e.value.length}`}),e}}}(1)),broadcast:ee(Y())});({...ro.entries,...X({method:G("stx_signTransactions"),params:ny,id:et()}).entries});var nm=X({amount:en([J(),et()]),recipient:et(),memo:ee(et()),version:ee(et()),postConditionMode:ee(J()),postConditions:ee(q(et())),pubkey:ee(et())});({...ro.entries,...X({method:G("stx_transferStx"),params:nm,id:et()}).entries});var nb={fordefi:{id:"FordefiProviders.UtxoProvider",name:"Fordefi",webUrl:"https://www.fordefi.com/",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/fordefi/hcmehenccjdmfbojapcbcofkgdpbnlle",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzNDk0XzY2MjU0KSI+CjxwYXRoIGQ9Ik0xMC44NzY5IDE1LjYzNzhIMS41VjE4LjM5OUMxLjUgMTkuODAxMyAyLjYzNDQ3IDIwLjkzOCA0LjAzMzkyIDIwLjkzOEg4LjI0OTkyTDEwLjg3NjkgMTUuNjM3OFoiIGZpbGw9IiM3OTk0RkYiLz4KPHBhdGggZD0iTTEuNSA5Ljc3NTUxSDE5LjA1MTZMMTcuMDEzOSAxMy44NzExSDEuNVY5Ljc3NTUxWiIgZmlsbD0iIzQ4NkRGRiIvPgo8cGF0aCBkPSJNNy42NTk5NiAzSDEuNTI0NDFWOC4wMDcwNEgyMi40NjEyVjNIMTYuMzI1NlY2LjczOTQ0SDE1LjA2MDZWM0g4LjkyNTAyVjYuNzM5NDRINy42NTk5NlYzWiIgZmlsbD0iIzVDRDFGQSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzNDk0XzY2MjU0Ij4KPHJlY3Qgd2lkdGg9IjIxIiBoZWlnaHQ9IjE4IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS41IDMpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},xverse:{id:"XverseProviders.BitcoinProvider",name:"Xverse",webUrl:"https://www.xverse.app/",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyIiBoZWlnaHQ9IjEwMiIgdmlld0JveD0iMCAwIDEwMiAxMDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGlkPSJJY29uX0FydCAoRWRpdCBNZSkiPgo8cmVjdCB3aWR0aD0iMTAyIiBoZWlnaHQ9IjEwMiIgZmlsbD0iIzE4MTgxOCIvPgo8ZyBpZD0iTG9nby9FbWJsZW0iIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yMF8xMjIzKSI+CjxwYXRoIGlkPSJWZWN0b3IiIGQ9Ik03NC42NTQyIDczLjg4ODNWNjUuMjMxMkM3NC42NTQyIDY0Ljg4OCA3NC41MTc3IDY0LjU2MDYgNzQuMjc0NSA2NC4zMTc0TDM3LjQzOTcgMjcuNDgyNUMzNy4xOTY1IDI3LjIzOTIgMzYuODY5MSAyNy4xMDI4IDM2LjUyNTggMjcuMTAyOEgyNy44NjlDMjcuNDQxNiAyNy4xMDI4IDI3LjA5MzggMjcuNDUwNiAyNy4wOTM4IDI3Ljg3OFYzNS45MjExQzI3LjA5MzggMzYuMjY0NCAyNy4yMzAyIDM2LjU5MTcgMjcuNDczNCAzNi44MzVMNDAuNjk1MiA1MC4wNTY3QzQwLjk5NzUgNTAuMzU5MSA0MC45OTc1IDUwLjg1MDEgNDAuNjk1MiA1MS4xNTI0TDI3LjMyMTEgNjQuNTI2NUMyNy4xNzU2IDY0LjY3MiAyNy4wOTM4IDY0Ljg2OTggMjcuMDkzOCA2NS4wNzQ0VjczLjg4ODNDMjcuMDkzOCA3NC4zMTUzIDI3LjQ0MTYgNzQuNjYzNSAyNy44NjkgNzQuNjYzNUg0Mi4zMzQyQzQyLjc2MTYgNzQuNjYzNSA0My4xMDk0IDc0LjMxNTMgNDMuMTA5NCA3My44ODgzVjY4LjY5NThDNDMuMTA5NCA2OC40OTEyIDQzLjE5MTIgNjguMjkzNSA0My4zMzY4IDY4LjE0NzlMNTAuNTExNCA2MC45NzMzQzUwLjgxMzggNjAuNjcwOSA1MS4zMDQ4IDYwLjY3MDkgNTEuNjA3MiA2MC45NzMzTDY0LjkxOTggNzQuMjg2MUM2NS4xNjMxIDc0LjUyOTMgNjUuNDkwNCA3NC42NjU4IDY1LjgzMzcgNzQuNjY1OEg3My44NzY3Qzc0LjMwNDIgNzQuNjY1OCA3NC42NTE5IDc0LjMxNzYgNzQuNjUxOSA3My44OTA2TDc0LjY1NDIgNzMuODg4M1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGlkPSJWZWN0b3JfMiIgZD0iTTU1LjM1OCAzOC41NjcySDYyLjYwMzFDNjMuMDMyOCAzOC41NjcyIDYzLjM4MjkgMzguOTE3MyA2My4zODI5IDM5LjM0NjlWNDYuNTkyMUM2My4zODI5IDQ3LjI4NzcgNjQuMjI0IDQ3LjYzNTUgNjQuNzE1MSA0Ny4xNDIyTDc0LjY1NDEgMzcuMTg3M0M3NC43OTk0IDM3LjA0MTggNzQuODgxNiAzNi44NDQgNzQuODgxNiAzNi42MzcxVjI3LjkxODlDNzQuODgxNiAyNy40ODkyIDc0LjUzMzQgMjcuMTM5MSA3NC4xMDE3IDI3LjEzOTFMNjUuMjUzOCAyNy4xMjc3QzY1LjA0NyAyNy4xMjc3IDY0Ljg0OTIgMjcuMjA5NiA2NC43MDE0IDI3LjM1NTFMNTQuODA1NiAzNy4yMzVDNTQuMzE0NSAzNy43MjYgNTQuNjYyMyAzOC41NjcyIDU1LjM1NTcgMzguNTY3Mkg1NS4zNThaIiBmaWxsPSIjRUU3QTMwIi8+CjwvZz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMF8xMjIzIj4KPHJlY3Qgd2lkdGg9IjQ3LjgxMjUiIGhlaWdodD0iNDcuODEyNSIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3LjA5MzggMjcuMDkzOCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K"},unisat:{id:"unisat",name:"Unisat",webUrl:"https://unisat.io/",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMTAwNTBfNDE3MSkiPgo8cGF0aCBkPSJNMTEzLjY2IDI5LjI4OTdMMTQzLjk3IDU5LjMwOTdDMTQ2LjU1IDYxLjg1OTcgMTQ3LjgyIDY0LjQzOTcgMTQ3Ljc4IDY3LjAzOTdDMTQ3Ljc0IDY5LjYzOTcgMTQ2LjYzIDcyLjAwOTcgMTQ0LjQ2IDc0LjE1OTdDMTQyLjE5IDc2LjQwOTcgMTM5Ljc0IDc3LjU0OTcgMTM3LjEyIDc3LjU5OTdDMTM0LjUgNzcuNjM5NyAxMzEuOSA3Ni4zNzk3IDEyOS4zMiA3My44Mjk3TDk4LjMxOTkgNDMuMTI5N0M5NC43OTk5IDM5LjYzOTcgOTEuMzk5OSAzNy4xNjk3IDg4LjEyOTkgMzUuNzE5N0M4NC44NTk5IDM0LjI2OTcgODEuNDE5OSAzNC4wMzk3IDc3LjgxOTkgMzUuMDM5N0M3NC4yMDk5IDM2LjAyOTcgNzAuMzM5OSAzOC41Nzk3IDY2LjE4OTkgNDIuNjc5N0M2MC40Njk5IDQ4LjM0OTcgNTcuNzM5OSA1My42Njk3IDU4LjAxOTkgNTguNjM5N0M1OC4yOTk5IDYzLjYwOTcgNjEuMTM5OSA2OC43Njk3IDY2LjUyOTkgNzQuMDk5N0w5Ny43Nzk5IDEwNS4wNkMxMDAuMzkgMTA3LjY0IDEwMS42NyAxMTAuMjIgMTAxLjYzIDExMi43OEMxMDEuNTkgMTE1LjM1IDEwMC40NyAxMTcuNzIgOTguMjU5OSAxMTkuOTFDOTYuMDU5OSAxMjIuMDkgOTMuNjI5OSAxMjMuMjMgOTAuOTg5OSAxMjMuMzJDODguMzQ5OSAxMjMuNDEgODUuNzE5OSAxMjIuMTYgODMuMTE5OSAxMTkuNThMNTIuODA5OSA4OS41NTk3QzQ3Ljg3OTkgODQuNjc5NyA0NC4zMTk5IDgwLjA1OTcgNDIuMTI5OSA3NS42OTk3QzM5LjkzOTkgNzEuMzM5NyAzOS4xMTk5IDY2LjQwOTcgMzkuNjg5OSA2MC45MDk3QzQwLjE5OTkgNTYuMTk5NyA0MS43MDk5IDUxLjYzOTcgNDQuMjI5OSA0Ny4yMTk3QzQ2LjczOTkgNDIuNzk5NyA1MC4zMzk5IDM4LjI3OTcgNTUuMDA5OSAzMy42NDk3QzYwLjU2OTkgMjguMTM5NyA2NS44Nzk5IDIzLjkxOTcgNzAuOTM5OSAyMC45Nzk3Qzc1Ljk4OTkgMTguMDM5NyA4MC44Nzk5IDE2LjQwOTcgODUuNTk5OSAxNi4wNjk3QzkwLjMyOTkgMTUuNzI5NyA5NC45ODk5IDE2LjY2OTcgOTkuNTk5OSAxOC44ODk3QzEwNC4yMSAyMS4xMDk3IDEwOC44OSAyNC41Njk3IDExMy42NSAyOS4yODk3SDExMy42NloiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xMDA1MF80MTcxKSIvPgo8cGF0aCBkPSJNNjYuMTA5OSAxNTAuNDJMMzUuODA5OSAxMjAuNEMzMy4yMjk5IDExNy44NCAzMS45NTk5IDExNS4yNyAzMS45OTk5IDExMi42N0MzMi4wMzk5IDExMC4wNyAzMy4xNDk5IDEwNy43IDM1LjMxOTkgMTA1LjU1QzM3LjU4OTkgMTAzLjMgNDAuMDM5OSAxMDIuMTYgNDIuNjU5OSAxMDIuMTFDNDUuMjc5OSAxMDIuMDcgNDcuODc5OSAxMDMuMzIgNTAuNDU5OSAxMDUuODhMODEuNDQ5OSAxMzYuNThDODQuOTc5OSAxNDAuMDcgODguMzY5OSAxNDIuNTQgOTEuNjM5OSAxNDMuOTlDOTQuOTA5OSAxNDUuNDQgOTguMzQ5OSAxNDUuNjYgMTAxLjk2IDE0NC42N0MxMDUuNTcgMTQzLjY4IDEwOS40NCAxNDEuMTMgMTEzLjU5IDEzNy4wMkMxMTkuMzEgMTMxLjM1IDEyMi4wNCAxMjYuMDMgMTIxLjc2IDEyMS4wNkMxMjEuNDggMTE2LjA5IDExOC42NCAxMTAuOTMgMTEzLjI1IDEwNS41OUw5Ni41OTk5IDg5LjI0MDFDOTMuOTg5OSA4Ni42NjAxIDkyLjcwOTkgODQuMDgwMSA5Mi43NDk5IDgxLjUyMDFDOTIuNzg5OSA3OC45NTAxIDkzLjkwOTkgNzYuNTgwMSA5Ni4xMTk5IDc0LjM5MDFDOTguMzE5OSA3Mi4yMTAxIDEwMC43NSA3MS4wNzAxIDEwMy4zOSA3MC45ODAxQzEwNi4wMyA3MC44OTAxIDEwOC42NiA3Mi4xNDAxIDExMS4yNiA3NC43MjAxTDEyNi45NiA5MC4xMzAxQzEzMS44OSA5NS4wMTAxIDEzNS40NSA5OS42MzAxIDEzNy42NCAxMDMuOTlDMTM5LjgzIDEwOC4zNSAxNDAuNjUgMTEzLjI4IDE0MC4wOCAxMTguNzhDMTM5LjU3IDEyMy40OSAxMzguMDYgMTI4LjA1IDEzNS41NCAxMzIuNDdDMTMzLjAzIDEzNi44OSAxMjkuNDMgMTQxLjQxIDEyNC43NiAxNDYuMDRDMTE5LjIgMTUxLjU1IDExMy44OSAxNTUuNzcgMTA4LjgzIDE1OC43MUMxMDMuNzcgMTYxLjY1IDk4Ljg3OTkgMTYzLjI5IDk0LjE0OTkgMTYzLjYzQzg5LjQxOTkgMTYzLjk3IDg0Ljc1OTkgMTYzLjAzIDgwLjE0OTkgMTYwLjgxQzc1LjUzOTkgMTU4LjU5IDcwLjg1OTkgMTU1LjEzIDY2LjA5OTkgMTUwLjQxTDY2LjEwOTkgMTUwLjQyWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzEwMDUwXzQxNzEpIi8+CjxwYXRoIGQ9Ik04NS4wMDk5IDcyLjk1OTJDOTEuMTU2OCA3Mi45NTkyIDk2LjEzOTkgNjcuOTc2MSA5Ni4xMzk5IDYxLjgyOTJDOTYuMTM5OSA1NS42ODIzIDkxLjE1NjggNTAuNjk5MiA4NS4wMDk5IDUwLjY5OTJDNzguODYzIDUwLjY5OTIgNzMuODc5OSA1NS42ODIzIDczLjg3OTkgNjEuODI5MkM3My44Nzk5IDY3Ljk3NjEgNzguODYzIDcyLjk1OTIgODUuMDA5OSA3Mi45NTkyWiIgZmlsbD0idXJsKCNwYWludDJfcmFkaWFsXzEwMDUwXzQxNzEpIi8+CjwvZz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl8xMDA1MF80MTcxIiB4MT0iMTM4Ljk4NSIgeTE9IjQ2Ljc3OTUiIHgyPSI0NS4wNTI5IiB5Mj0iODguNTIzMyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjMjAxQzFCIi8+CjxzdG9wIG9mZnNldD0iMC4zNiIgc3RvcC1jb2xvcj0iIzc3MzkwRCIvPgo8c3RvcCBvZmZzZXQ9IjAuNjciIHN0b3AtY29sb3I9IiNFQTgxMDEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjRCODUyIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxX2xpbmVhcl8xMDA1MF80MTcxIiB4MT0iNDMuMzgxMiIgeTE9IjEzNC4xNjciIHgyPSIxNTIuMjMxIiB5Mj0iMTAxLjc3MSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjMUYxRDFDIi8+CjxzdG9wIG9mZnNldD0iMC4zNyIgc3RvcC1jb2xvcj0iIzc3MzkwRCIvPgo8c3RvcCBvZmZzZXQ9IjAuNjciIHN0b3AtY29sb3I9IiNFQTgxMDEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjRGQjUyIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxyYWRpYWxHcmFkaWVudCBpZD0icGFpbnQyX3JhZGlhbF8xMDA1MF80MTcxIiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDg1LjAwOTkgNjEuODM5Mikgc2NhbGUoMTEuMTMpIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y0Qjg1MiIvPgo8c3RvcCBvZmZzZXQ9IjAuMzMiIHN0b3AtY29sb3I9IiNFQTgxMDEiLz4KPHN0b3Agb2Zmc2V0PSIwLjY0IiBzdG9wLWNvbG9yPSIjNzczOTBEIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzIxMUMxRCIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEwMDUwXzQxNzEiPgo8cmVjdCB3aWR0aD0iMTE1Ljc3IiBoZWlnaHQ9IjE0Ny43IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzIgMTYpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="}};nb.fordefi.id,nb.xverse.id,nb.unisat.id;let nw="xverse-wallet-event",nE={accountChange:new Set,disconnect:new Set,networkChange:new Set},n_=(e,t)=>{let{data:r}=e,n="xverse-wallet"===r.source,i=r.method===t;return n&&i&&!!r.payload},nv=async(e,t={})=>new Promise((r,n)=>{let i=setTimeout(()=>{n(Error("Unable to get response from xverse extension"))},1e3),a=t=>{"xverse-extension"===t.data.source&&t.data.method===`${e}Response`&&(clearTimeout(i),window.removeEventListener("message",a),r(t.data))};window.addEventListener("message",a),window.postMessage({method:e,source:"xverse-app",...t},window.location.origin)}),nA={connect:async e=>{let t=new CustomEvent(D.getAddressRequest,{detail:{btcAddressRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,M.getAddressResponse)&&i.data.payload?.addressRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.addressResponse)return void r(i.data.payload.addressResponse);"string"!=typeof i.data.payload.addressResponse&&t(i.data.payload.addressResponse)}};window.addEventListener("message",n)})},signTransaction:async e=>{let t=new CustomEvent(D.signPsbtRequest,{detail:{signPsbtRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,M.signPsbtResponse)&&i.data.payload?.signPsbtRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.signPsbtResponse)return void r(i.data.payload.signPsbtResponse);"string"!=typeof i.data.payload.signPsbtResponse&&t(i.data.payload.signPsbtResponse)}};window.addEventListener("message",n)})},signMultipleTransactions:async e=>{let t=new CustomEvent(D.signBatchPsbtRequest,{detail:{signBatchPsbtRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,M.signBatchPsbtResponse)&&i.data.payload?.signBatchPsbtRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.signBatchPsbtResponse)return void r(i.data.payload.signBatchPsbtResponse);"string"!=typeof i.data.payload.signBatchPsbtResponse&&t(i.data.payload.signBatchPsbtResponse)}};window.addEventListener("message",n)})},signMessage:async e=>{let t=new CustomEvent(D.signMessageRequest,{detail:{signMessageRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,M.signMessageResponse)&&i.data.payload?.signMessageRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.signMessageResponse)return void r(i.data.payload.signMessageResponse);"string"==typeof i.data.payload.signMessageResponse&&t(i.data.payload.signMessageResponse)}};window.addEventListener("message",n)})},sendBtcTransaction:async e=>{let t=new CustomEvent(D.sendBtcRequest,{detail:{sendBtcRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,M.sendBtcResponse)&&i.data.payload?.sendBtcRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.sendBtcResponse)return void r(i.data.payload.sendBtcResponse);"string"==typeof i.data.payload.sendBtcResponse&&t(i.data.payload.sendBtcResponse)}};window.addEventListener("message",n)})},createInscription:async e=>{let t=new CustomEvent(D.createInscriptionRequest,{detail:{createInscriptionRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,M.createInscriptionResponse)&&i.data.payload?.createInscriptionRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.createInscriptionResponse)return void r(i.data.payload.createInscriptionResponse);"string"!=typeof i.data.payload.createInscriptionResponse&&t(i.data.payload.createInscriptionResponse)}};window.addEventListener("message",n)})},createRepeatInscriptions:async e=>{let t=new CustomEvent(D.createRepeatInscriptionsRequest,{detail:{createRepeatInscriptionsRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,M.createRepeatInscriptionsResponse)&&i.data.payload?.createRepeatInscriptionsRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.createRepeatInscriptionsResponse)return void r(i.data.payload.createRepeatInscriptionsResponse);"string"!=typeof i.data.payload.createRepeatInscriptionsResponse&&t(i.data.payload.createRepeatInscriptionsResponse)}};window.addEventListener("message",n)})},request:async(e,t)=>{let r=((e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[e]];return t})(),n=new CustomEvent(D.rpcRequest,{detail:{jsonrpc:"2.0",id:r,method:e,params:t}});return document.dispatchEvent(n),new Promise(e=>{window.addEventListener("message",function t(n){let i=el(ru,n.data);if(!i.success)return;let a=i.output;if(a.id===r)return window.removeEventListener("message",t),e(a)})})},addListener:(...e)=>{let t=1===e.length?e[0]:{eventName:e[0],cb:e[1]};return a||(a=e=>{let{detail:t}=e;if(!$(ry,t))return void console.warn("Received an unrecognized wallet event:",e);switch(t.type){case rd:nE.accountChange.forEach(e=>e(t));break;case rg:nE.disconnect.forEach(e=>e(t));break;case rf:nE.networkChange.forEach(e=>e(t));break;default:console.error(`Unknown wallet event type: ${t}`)}},window.addEventListener(nw,a)),!function(e){switch(e.eventName){case rd:nE.accountChange.add(e.cb);break;case rg:nE.disconnect.add(e.cb);break;case rf:nE.networkChange.add(e.cb);break;default:console.error(`Unknown event name: ${e}`)}}(t),function(){switch(t.eventName){case rd:nE.accountChange.delete(t.cb);break;case rg:nE.disconnect.delete(t.cb);break;case rf:nE.networkChange.delete(t.cb);break;default:console.error(`Unknown event name: ${t}`)}}}},nx={getURL:async()=>{let{url:e}=await nv("getURL");return e},structuredDataSignatureRequest:async e=>{let t=new CustomEvent(D.structuredDataSignatureRequest,{detail:{signatureRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,R.signatureResponse)&&i.data.payload?.signatureRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.signatureResponse)return void r(i.data.payload.signatureResponse);"string"!=typeof i.data.payload.signatureResponse&&t(i.data.payload.signatureResponse)}};window.addEventListener("message",n)})},signatureRequest:async e=>{let t=new CustomEvent(D.signatureRequest,{detail:{signatureRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,R.signatureResponse)&&i.data.payload?.signatureRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.signatureResponse)return void r(i.data.payload.signatureResponse);"string"!=typeof i.data.payload.signatureResponse&&t(i.data.payload.signatureResponse)}};window.addEventListener("message",n)})},authenticationRequest:async e=>{let t=new CustomEvent(D.authenticationRequest,{detail:{authenticationRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,R.authenticationResponse)&&i.data.payload?.authenticationRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.authenticationResponse)return void r(i.data.payload.authenticationResponse);t(i.data.payload.authenticationResponse)}};window.addEventListener("message",n)})},transactionRequest:async e=>{let t=new CustomEvent(D.transactionRequest,{detail:{transactionRequest:e}});return document.dispatchEvent(t),new Promise((t,r)=>{let n=i=>{if(n_(i,R.transactionResponse)&&i.data.payload?.transactionRequest===e){if(window.removeEventListener("message",n),"cancel"===i.data.payload.transactionResponse)return void r(i.data.payload.transactionResponse);"string"!=typeof i.data.payload.transactionResponse&&t(i.data.payload.transactionResponse)}};window.addEventListener("message",n)})},getProductInfo:()=>({version:"1.10.1",name:"Xverse Wallet"}),request(){throw Error("`request` function is not implemented")}},nI=()=>globalThis.crypto?.randomUUID?.()??`starknet-${Date.now()}-${Math.random().toString(16).slice(2)}`;async function nS(e){return new Promise(t=>{window.addEventListener("message",function r(n){let i=el(ru,n.data);if(!i.success)return;let a=i.output;a.id===e.id&&(window.removeEventListener("message",r),t(a))}),document.dispatchEvent(new CustomEvent(D.rpcRequest,{detail:e}))})}async function nT(e){return await nS(e)}let nk={wallet_addStarknetChain:async()=>{throw Error("Not implemented")},wallet_switchStarknetChain:async()=>{throw Error("Not implemented")},wallet_watchAsset:async()=>{throw Error("Not implemented")},wallet_requestAccounts:async function(){let e={jsonrpc:"2.0",id:nI(),method:"wallet_connect",params:{addresses:[t7.Starknet]}},t=await nT(e);if("error"in t)throw Error(t.error?.message??"Wallet error");let r=t.result.addresses.find(e=>e.purpose===t7.Starknet);if(!r)throw Error("No Starknet account found for current wallet");return[r.address]},wallet_getPermissions:async()=>{throw Error("Not implemented")},wallet_requestChainId:async()=>{throw Error("Not implemented")},wallet_deploymentData:async()=>{throw Error("Not implemented")},wallet_addDeclareTransaction:async()=>{throw Error("Not implemented")},wallet_addInvokeTransaction:async e=>{if(!e)throw Error("Missing parameters for wallet_addInvokeTransaction");let t={jsonrpc:"2.0",id:nI(),method:"wallet_addInvokeTransaction",params:e},r=await nS(t);if("error"in r){let e=r.error??{},t=Error(e.message??"Wallet error");throw"number"==typeof e.code&&(t.code=e.code),"data"in e&&(t.data=e.data),t}return r.result},wallet_signTypedData:async e=>{if(!e)throw Error("Missing parameters for wallet_signTypedData");let t={jsonrpc:"2.0",id:nI(),method:"wallet_signTypedData",params:e},r=await nS(t);if("error"in r){let e=r.error??{},t=Error(e.message??"Wallet error");throw"number"==typeof e.code&&(t.code=e.code),"data"in e&&(t.data=e.data),t}return r.result},wallet_supportedSpecs:async()=>{throw Error("Not implemented")},wallet_supportedWalletApi:async()=>{throw Error("Not implemented")}};async function nN(e){let t=nk[e.type];if(!t)throw Error(`Unknown request type: ${e.type}`);return t("params"in e?e.params:void 0)}let nO={ACCOUNTS:"accounts"},nC={DECLARE:"DECLARE",DEPLOY:"DEPLOY",DEPLOY_ACCOUNT:"DEPLOY_ACCOUNT",INVOKE:"INVOKE",L1_HANDLER:"L1_HANDLER"},nB={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},nD={RECEIVED:"RECEIVED",REJECTED:"REJECTED",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"},nR={ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"},nM={SUCCEEDED:"SUCCEEDED",REVERTED:"REVERTED"},nL={LATEST:"latest",PENDING:"pending"},nP={L1:"L1",L2:"L2"},nU={L1:0,L2:1},nj={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},nF={V0:"0x0",V1:"0x1",V2:"0x2",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002"},nz={V3:"0x3",F3:"0x100000000000000000000000000000003"},nV={ACCOUNTS:"accounts"},nH={ACTIVE:"1",LEGACY:"0"},n$="ACCEPTED_ON_L2",nq="ACCEPTED_ON_L1",nY="SUCCEEDED",nZ="REVERTED",nG="PENDING",nW="REJECTED",nK="RECEIVED",nQ="DECLARE",nJ="DEPLOY",nX="DEPLOY_ACCOUNT",n0="INVOKE",n1="L1_HANDLER",n2="struct",n5="event",n3="function",n6="constructor",n4="l1_handler",n8="enum",n9="view",n7="external",ie="WEI",it="FRI",ir={BLOB:"BLOB",CALLDATA:"CALLDATA"},ii={DELEGATE:"DELEGATE",LIBRARY_CALL:"LIBRARY_CALL",CALL:"CALL"},ia={DECLARE:nQ,DEPLOY:nJ,DEPLOY_ACCOUNT:nX,INVOKE:n0,L1_HANDLER:n1},is={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},io={RECEIVED:nK,REJECTED:nW,ACCEPTED_ON_L2:n$,ACCEPTED_ON_L1:nq},il={ACCEPTED_ON_L2:n$,ACCEPTED_ON_L1:nq},ic={SUCCEEDED:nY,REVERTED:nZ},iu={LATEST:"latest",PENDING:"pending"},id={L1:"L1",L2:"L2"},ih={L1:0,L2:1},ip={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},ig={V0:ip.V0,V1:ip.V1,V2:ip.V2,F0:ip.F0,F1:ip.F1,F2:ip.F2},iy={V3:ip.V3,F3:ip.F3},im={ACCOUNTS:"accounts"},ib={ACTIVE:"1",LEGACY:"0"};function iw(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function iE(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function i_(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function iv(e){if(!Array.isArray(e))throw Error("array expected")}function iA(e,t){if(!iw(!0,t))throw Error(`${e}: array of strings expected`)}function ix(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function iI(e){let t="string"==typeof e?e.split(""):e,r=t.length;iA("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(iv(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(iv(t),t.map(t=>{iE("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function iS(e=""){return iE("join",e),{encode:t=>(iA("join.decode",t),t.join(e)),decode:t=>(iE("join.decode",t),t.split(e))}}let iT=(e,t)=>0===t?e:iT(t,e%t),ik=(e,t)=>e+(t-iT(e,t)),iN=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function iO(e,t,r,n){if(iv(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(ik(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${ik(t,r)}`);let i=0,a=0,s=iN[t],o=iN[r]-1,l=[];for(let n of e){if(i_(n),n>=s)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,a+t>32)throw Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=r;a-=r)l.push((i>>a-r&o)>>>0);let e=iN[a];if(void 0===e)throw Error("invalid carry");i&=e-1}if(i=i<<r-a&o,!n&&a>=t)throw Error("Excess padding");if(!n&&i>0)throw Error(`Non-zero padding: ${i}`);return n&&a>0&&l.push(i>>>0),l}let iC=ix(function(e,t=!1){if(i_(6),e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(ik(8,e)>32||ik(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{var n;if(!((n=r)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw Error("radix2.encode input should be Uint8Array");return iO(Array.from(r),8,e,!t)},decode:r=>((function(e,t){if(!iw(!1,t))throw Error(`${e}: array of numbers expected`)})("radix2.decode",r),Uint8Array.from(iO(r,e,8,t)))}}(6),iI("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),function(e,t="="){return i_(6),iE("padding",t),{encode(r){for(iA("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){iA("padding.decode",r);let n=r.length;if(n*e%8)throw Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}(6),iS(""));function iB(e){return iD.test(e)}let iD=/^-?[0-9]+$/,iR=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/,iM=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function iL(e){let{start:t,end:r}=function(e){let t=0;for("-"===e[0]&&t++;"0"===e[t]||"."===e[t];)t++;let r=e.lastIndexOf("e");for(-1===r&&(r=e.lastIndexOf("E")),-1===r&&(r=e.length);("0"===e[r-1]||"."===e[r-1])&&r>t;)r--;return{start:t,end:r}}(e),n=e.substring(t,r),i=n.indexOf(".");return -1===i?n:n.substring(0,i)+n.substring(i+1)}class iP{isLosslessNumber=!0;constructor(e){if(!iR.test(e))throw Error(`Invalid number (value: "${e}")`);this.value=e}valueOf(){let e=function(e){if(function(e,t){let r=String(Number.parseFloat(e));if(e===r)return!0;let n=iL(e),i=iL(r);return!!(n===i||t?.approx===!0&&!iB(e)&&i.length>=14&&n.startsWith(i.substring(0,14)))||!1}(e,{approx:!1}))return;if(iB(e))return iM.truncate_integer;let t=Number.parseFloat(e);return Number.isFinite(t)?0===t?iM.underflow:iM.truncate_float:iM.overflow}(this.value);if(void 0===e||e===iM.truncate_float)return Number.parseFloat(this.value);if(iB(this.value))return BigInt(this.value);throw Error(`Cannot safely convert to number: the value '${this.value}' would ${e} and become ${Number.parseFloat(this.value)}`)}toString(){return this.value}}function iU(e){return new iP(e)}function ij(e){return iB(e)?BigInt(e):Number.parseFloat(e)}function iF(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iU,n=0,i=function t(){s();let i=o()??function(){let t=n;if(e.charCodeAt(n)===i2&&(n++,c(t)),e.charCodeAt(n)===i5)n++;else{var i;if((i=e.charCodeAt(n))>=i3&&i<=i6)for(n++;iV(e.charCodeAt(n));)n++}if(e.charCodeAt(n)===i8)for(n++,c(t);iV(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===ar||e.charCodeAt(n)===at)for(n++,(e.charCodeAt(n)===i2||e.charCodeAt(n)===i1)&&n++,c(t);iV(e.charCodeAt(n));)n++;if(n>t)return r(e.slice(t,n))}()??function(){if(e.charCodeAt(n)===iY){n++,s();let r={},i=!0;for(;n<e.length&&e.charCodeAt(n)!==iZ;){i?i=!1:(l(),s());let a=n,c=o();if(void 0===c)return void function(){throw SyntaxError(`Quoted object key expected ${d()}`)}();s(),function(){if(e.charCodeAt(n)!==i9)throw SyntaxError(`Colon ':' expected after property name ${d()}`);n++}();let h=t();if(void 0===h)return void function(){throw SyntaxError(`Object value expected after ':' ${u()}`)}();Object.prototype.hasOwnProperty.call(r,c)&&!function e(t,r){return t===r||(Array.isArray(t)&&Array.isArray(r)?t.length===r.length&&t.every((t,n)=>e(t,r[n])):!!(iH(t)&&iH(r))&&[...new Set([...Object.keys(t),...Object.keys(r)])].every(n=>e(t[n],r[n])))}(h,r[c])&&function(e,t){throw SyntaxError(`Duplicate key '${e}' encountered at position ${t}`)}(c,a+1),r[c]=h}return e.charCodeAt(n)!==iZ&&function(){throw SyntaxError(`Quoted object key or end of object '}' expected ${d()}`)}(),n++,r}}()??function(){if(e.charCodeAt(n)===iG){n++,s();let r=[],i=!0;for(;n<e.length&&e.charCodeAt(n)!==iW;){i?i=!1:l();let e=t();(function(e){if(void 0===e)throw SyntaxError(`Array item expected ${d()}`)})(e),r.push(e)}return e.charCodeAt(n)!==iW&&function(){throw SyntaxError(`Array item or end of array ']' expected ${d()}`)}(),n++,r}}()??a("true",!0)??a("false",!1)??a("null",null);return s(),i}();return function(e){if(void 0===e)throw SyntaxError(`JSON value expected ${d()}`)}(i),function(){if(n<e.length)throw SyntaxError(`Expected end of input ${d()}`)}(),t?function e(t,r,n,i){return Array.isArray(n)?i.call(t,r,function(t,r){for(let n=0;n<t.length;n++)t[n]=e(t,String(n),t[n],r);return t}(n,i)):n&&"object"==typeof n&&!(n&&"object"==typeof n&&n.isLosslessNumber)?i.call(t,r,function(t,r){for(let n of Object.keys(t)){let i=e(t,n,t[n],r);void 0!==i?t[n]=i:delete t[n]}return t}(n,i)):i.call(t,r,n)}({"":i},"",i,t):i;function a(t,r){if(e.slice(n,n+t.length)===t)return n+=t.length,r}function s(){for(var t;(t=e.charCodeAt(n))===iK||t===iQ||t===iJ||t===iX;)n++}function o(){if(e.charCodeAt(n)===i0){n++;let r="";for(;n<e.length&&e.charCodeAt(n)!==i0;){if(e.charCodeAt(n)===iq){let t=e[n+1],i=i$[t];void 0!==i?(r+=i,n++):"u"===t?iz(e.charCodeAt(n+2))&&iz(e.charCodeAt(n+3))&&iz(e.charCodeAt(n+4))&&iz(e.charCodeAt(n+5))?(r+=String.fromCharCode(Number.parseInt(e.slice(n+2,n+6),16)),n+=5):function(t){let r=e.slice(t,t+6);throw SyntaxError(`Invalid unicode character '${r}' ${u()}`)}(n):function(t){let r=e.slice(t,t+2);throw SyntaxError(`Invalid escape character '${r}' ${u()}`)}(n)}else{var t;(t=e.charCodeAt(n))>=32&&t<=1114111?r+=e[n]:function(e){throw SyntaxError(`Invalid character '${e}' ${u()}`)}(e[n])}n++}return function(){if(e.charCodeAt(n)!==i0)throw SyntaxError(`End of string '"' expected ${d()}`)}(),n++,r}}function l(){if(e.charCodeAt(n)!==i4)throw SyntaxError(`Comma ',' expected after value ${d()}`);n++}function c(t){if(!iV(e.charCodeAt(n))){let r=e.slice(t,n);throw SyntaxError(`Invalid number '${r}', expecting a digit ${d()}`)}}function u(){return`at position ${n}`}function d(){return`${n<e.length?`but got '${e[n]}'`:"but reached end of input"} ${u()}`}}function iz(e){return e>=i5&&e<=i6||e>=i7&&e<=an||e>=ae&&e<=ai}function iV(e){return e>=i5&&e<=i6}function iH(e){return"object"==typeof e&&null!==e}let i$={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},iq=92,iY=123,iZ=125,iG=91,iW=93,iK=32,iQ=10,iJ=9,iX=13,i0=34,i1=43,i2=45,i5=48,i3=49,i6=57,i4=44,i8=46,i9=58,i7=65,ae=97,at=69,ar=101,an=70,ai=102,aa=BigInt(0),as=BigInt(1),ao=BigInt(2);function al(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ac(e){if(!al(e))throw Error("Uint8Array expected")}function au(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let ad=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ah(e){ac(e);let t="";for(let r=0;r<e.length;r++)t+=ad[e[r]];return t}function af(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function ap(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?aa:BigInt("0x"+e)}let ag={_0:48,_9:57,A:65,F:70,a:97,f:102};function ay(e){return e>=ag._0&&e<=ag._9?e-ag._0:e>=ag.A&&e<=ag.F?e-(ag.A-10):e>=ag.a&&e<=ag.f?e-(ag.a-10):void 0}function am(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=ay(e.charCodeAt(i)),a=ay(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}function ab(e){return ap(ah(e))}function aw(e){return ac(e),ap(ah(Uint8Array.from(e).reverse()))}function aE(e,t){return am(e.toString(16).padStart(2*t,"0"))}function a_(e,t){return aE(e,t).reverse()}function av(e,t,r){let n;if("string"==typeof t)try{n=am(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(al(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function aA(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];ac(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let ax=e=>"bigint"==typeof e&&aa<=e;function aI(e,t,r){return ax(e)&&ax(t)&&ax(r)&&t<=e&&e<r}function aS(e,t,r,n){if(!aI(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function aT(e){let t;for(t=0;e>aa;e>>=as,t+=1);return t}let ak=e=>(ao<<BigInt(e-1))-as,aN=e=>new Uint8Array(e),aO=e=>Uint8Array.from(e);function aC(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=aN(e),i=aN(e),a=0,s=()=>{n.fill(1),i.fill(0),a=0},o=(...e)=>r(i,n,...e),l=(e=aN())=>{i=o(aO([0]),e),n=o(),0!==e.length&&(i=o(aO([1]),e),n=o())},c=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return aA(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(c()));)l();return s(),r}}let aB={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||al(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function aD(e,t,r={}){let n=(t,r,n)=>{let i=aB[r];if("function"!=typeof i)throw Error("invalid validator function");let a=e[t];if((!n||void 0!==a)&&!i(a,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+a)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function aR(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let a=e(r,...n);return t.set(r,a),a}}function aM(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function aL(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function aP(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function aU(e,t){aL(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}let aj="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,aF=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),az=(e,t)=>e<<32-t|e>>>t,aV=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],aH=e=>e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255;function a$(e){for(let t=0;t<e.length;t++)e[t]=aH(e[t])}function aq(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),aL(e),e}class aY{clone(){return this._cloneInto()}}function aZ(e){let t=t=>e().update(aq(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function aG(e=32){if(aj&&"function"==typeof aj.getRandomValues)return aj.getRandomValues(new Uint8Array(e));if(aj&&"function"==typeof aj.randomBytes)return aj.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}let aW=(e,t,r)=>e&t^~e&r,aK=(e,t,r)=>e&t^e&r^t&r;class aQ extends aY{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=aF(this.buffer)}update(e){aP(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=aq(e)).length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let t=aF(e);for(;n<=i-a;a+=n)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){aP(this),aU(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+c,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=aF(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}let aJ=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),aX=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),a0=new Uint32Array(64);class a1 extends aQ{constructor(){super(64,32,8,!1),this.A=0|aX[0],this.B=0|aX[1],this.C=0|aX[2],this.D=0|aX[3],this.E=0|aX[4],this.F=0|aX[5],this.G=0|aX[6],this.H=0|aX[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)a0[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=a0[e-15],r=a0[e-2],n=az(t,7)^az(t,18)^t>>>3,i=az(r,17)^az(r,19)^r>>>10;a0[e]=i+a0[e-7]+n+a0[e-16]|0}let{A:r,B:n,C:i,D:a,E:s,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){let t=c+(az(s,6)^az(s,11)^az(s,25))+aW(s,o,l)+aJ[e]+a0[e]|0,u=(az(r,2)^az(r,13)^az(r,22))+aK(r,n,i)|0;c=l,l=o,o=s,s=a+t|0,a=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,a,s,o,l,c)}roundClean(){a0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let a2=aZ(()=>new a1);function a5(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function a3(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a6(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function a4(e,t){a3(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}let a8=BigInt(0x100000000-1),a9=BigInt(32),a7=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),se=(e,t)=>e<<32-t|e>>>t,st=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],sr=e=>e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255;function sn(e){for(let t=0;t<e.length;t++)e[t]=sr(e[t])}function si(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function sa(e){return"string"==typeof e&&(e=si(e)),a3(e),e}class ss{clone(){return this._cloneInto()}}function so(e){let t=t=>e().update(sa(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}let sl=[],sc=[],su=[],sd=BigInt(0),sh=BigInt(1),sf=BigInt(2),sp=BigInt(7),sg=BigInt(256),sy=BigInt(113);for(let e=0,t=sh,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],sl.push(2*(5*n+r)),sc.push((e+1)*(e+2)/2%64);let i=sd;for(let e=0;e<7;e++)(t=(t<<sh^(t>>sp)*sy)%sg)&sf&&(i^=sh<<(sh<<BigInt(e))-sh);su.push(i)}let[sm,sb]=function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:a,l:s}=function(e,t=!1){return t?{h:Number(e&a8),l:Number(e>>a9&a8)}:{h:0|Number(e>>a9&a8),l:0|Number(e&a8)}}(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}(su,!0),sw=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),sE=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class s_ extends ss{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,a5(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)))(this.state)}keccak(){st||sn(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],s=r[i+1],o=sw(a,s,1)^r[n],l=sE(a,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=sc[r],a=sw(t,i,n),s=sE(t,i,n),o=sl[r];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=sm[n],e[1]^=sb[n]}r.fill(0)}(this.state32,this.rounds),st||sn(this.state32),this.posOut=0,this.pos=0}update(e){a6(this);let{blockLen:t,state:r}=this,n=(e=sa(e)).length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){a6(this,!1),a3(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return a5(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(a4(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new s_(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}let sv=so(()=>new s_(136,1,32)),sA=(e,t,r)=>e&t^~e&r,sx=(e,t,r)=>e&t^e&r^t&r;class sI extends ss{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=a7(this.buffer)}update(e){a6(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=sa(e)).length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let t=a7(e);for(;n<=i-a;a+=n)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a6(this),a4(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+c,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=a7(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}let sS=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),sT=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),sk=new Uint32Array(64);class sN extends sI{constructor(){super(64,32,8,!1),this.A=0|sT[0],this.B=0|sT[1],this.C=0|sT[2],this.D=0|sT[3],this.E=0|sT[4],this.F=0|sT[5],this.G=0|sT[6],this.H=0|sT[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)sk[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=sk[e-15],r=sk[e-2],n=se(t,7)^se(t,18)^t>>>3,i=se(r,17)^se(r,19)^r>>>10;sk[e]=i+sk[e-7]+n+sk[e-16]|0}let{A:r,B:n,C:i,D:a,E:s,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){let t=c+(se(s,6)^se(s,11)^se(s,25))+sA(s,o,l)+sS[e]+sk[e]|0,u=(se(r,2)^se(r,13)^se(r,22))+sx(r,n,i)|0;c=l,l=o,o=s,s=a+t|0,a=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,a,s,o,l,c)}roundClean(){sk.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let sO=so(()=>new sN),sC=BigInt(0),sB=BigInt(1),sD=BigInt(2);function sR(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function sM(e){if(!sR(e))throw Error("Uint8Array expected")}function sL(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let sP=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function sU(e){sM(e);let t="";for(let r=0;r<e.length;r++)t+=sP[e[r]];return t}function sj(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function sF(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?sC:BigInt("0x"+e)}let sz={_0:48,_9:57,A:65,F:70,a:97,f:102};function sV(e){return e>=sz._0&&e<=sz._9?e-sz._0:e>=sz.A&&e<=sz.F?e-(sz.A-10):e>=sz.a&&e<=sz.f?e-(sz.a-10):void 0}function sH(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=sV(e.charCodeAt(i)),a=sV(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}function s$(e){return sF(sU(e))}function sq(e){return sM(e),sF(sU(Uint8Array.from(e).reverse()))}function sY(e,t){return sH(e.toString(16).padStart(2*t,"0"))}function sZ(e,t){return sY(e,t).reverse()}function sG(e){return sH(sj(e))}function sW(e,t,r){let n;if("string"==typeof t)try{n=sH(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(sR(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function sK(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];sM(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let sQ=e=>"bigint"==typeof e&&sC<=e;function sJ(e,t,r){return sQ(e)&&sQ(t)&&sQ(r)&&t<=e&&e<r}function sX(e,t,r,n){if(!sJ(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function s0(e){let t;for(t=0;e>sC;e>>=sB,t+=1);return t}let s1=e=>(sD<<BigInt(e-1))-sB,s2=e=>new Uint8Array(e),s5=e=>Uint8Array.from(e);function s3(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=s2(e),i=s2(e),a=0,s=()=>{n.fill(1),i.fill(0),a=0},o=(...e)=>r(i,n,...e),l=(e=s2())=>{i=o(s5([0]),e),n=o(),0!==e.length&&(i=o(s5([1]),e),n=o())},c=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return sK(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(c()));)l();return s(),r}}let s6={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||sR(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function s4(e,t,r={}){let n=(t,r,n)=>{let i=s6[r];if("function"!=typeof i)throw Error("invalid validator function");let a=e[t];if((!n||void 0!==a)&&!i(a,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+a)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function s8(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let a=e(r,...n);return t.set(r,a),a}}let s9=BigInt(0),s7=BigInt(1),oe=BigInt(2),ot=BigInt(3),or=BigInt(4),on=BigInt(5),oi=BigInt(8);function oa(e,t){let r=e%t;return r>=s9?r:t+r}function os(e,t){if(e===s9)throw Error("invert: expected non-zero number");if(t<=s9)throw Error("invert: expected positive modulus, got "+t);let r=oa(e,t),n=t,i=s9,a=s7,s=s7,o=s9;for(;r!==s9;){let e=n/r,t=n%r,l=i-s*e,c=a-o*e;n=r,r=t,i=s,a=o,s=l,o=c}if(n!==s7)throw Error("invert: does not exist");return oa(i,t)}let oo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ol(e){return s4(e,oo.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function oc(e,t,r){if(r<s9)throw Error("invalid exponent, negatives unsupported");if(r===s9)return e.ONE;if(r===s7)return t;let n=e.ONE,i=t;for(;r>s9;)r&s7&&(n=e.mul(n,i)),i=e.sqr(i),r>>=s7;return n}function ou(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function od(e,t,r=!1,n={}){let i;if(e<=s9)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:a,nByteLength:s}=ou(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,BITS:a,BYTES:s,MASK:s1(a),ZERO:s9,ONE:s7,create:t=>oa(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return s9<=t&&t<e},is0:e=>e===s9,isOdd:e=>(e&s7)===s7,neg:t=>oa(-t,e),eql:(e,t)=>e===t,sqr:t=>oa(t*t,e),add:(t,r)=>oa(t+r,e),sub:(t,r)=>oa(t-r,e),mul:(t,r)=>oa(t*r,e),pow:(e,t)=>oc(o,e,t),div:(t,r)=>oa(t*os(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>os(t,e),sqrt:n.sqrt||(t=>(i||(i=function(e){if(e%or===ot){let t=(e+s7)/or;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%oi===on){let t=(e-on)/oi;return function(e,r){let n=e.mul(r,oe),i=e.pow(n,t),a=e.mul(r,i),s=e.mul(e.mul(a,oe),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n,i=(e-s7)/oe;for(t=e-s7,r=0;t%oe===s9;t/=oe,r++);for(n=oe;n<e&&function(e,t,r){if(t<s9)throw Error("invalid exponent, negatives unsupported");if(r<=s9)throw Error("invalid modulus");if(r===s7)return s9;let n=s7;for(;t>s9;)t&s7&&(n=n*e%r),e=e*e%r,t>>=s7;return n}(n,i,e)!==e-s7;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+s7)/or;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let a=(t+s7)/oe;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),c=e.pow(s,a),u=e.pow(s,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,s7<<BigInt(o-t-1));l=e.sqr(r),c=e.mul(c,r),u=e.mul(u,l),o=t}return c}}(e)}(e)),i(o,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?sZ(e,s):sY(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?sq(e):s$(e)}});return Object.freeze(o)}function oh(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function of(e){let t=oh(e);return t+Math.ceil(t/2)}let op=BigInt(0),og=BigInt(1);function oy(e,t){let r=t.negate();return e?r:t}function om(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ob(e,t){return om(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let ow=new WeakMap,oE=new WeakMap;function o_(e){return oE.get(e)||1}function ov(e){return ol(e.Fp),s4(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ou(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}function oA(e){void 0!==e.lowS&&sL("lowS",e.lowS),void 0!==e.prehash&&sL("prehash",e.prehash)}let{Ph:ox,aT:oI}=k,oS={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=oS;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=sj(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let a=n>127?sj(i.length/2|128):"";return sj(e)+a+i+t},decode(e,t){let{Err:r}=oS,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],a=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)a=a<<8|e;if(n+=e,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;let s=t.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+a)}}},_int:{encode(e){let{Err:t}=oS;if(e<oT)throw new t("integer: negative integers are not allowed");let r=sj(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=oS;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return ox(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=oS,i="string"==typeof e?oI(e):e;sM(i);let{v:a,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,a),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=oS,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},oT=BigInt(0),ok=BigInt(1),oN=(BigInt(2),BigInt(3));function oO(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function oC(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function oB(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}BigInt(4);let oD="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;class oR{clone(){return this._cloneInto()}}function oM(e=32){if(oD&&"function"==typeof oD.getRandomValues)return oD.getRandomValues(new Uint8Array(e));if(oD&&"function"==typeof oD.randomBytes)return oD.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class oL extends oR{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");oO(e.outputLen),oO(e.blockLen)}(e);let r=function(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),oC(e),e}(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return oB(this),this.iHash.update(e),this}digestInto(e){oB(this),oC(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let oP=(e,t,r)=>new oL(e,t).update(r).digest();oP.create=(e,t)=>new oL(e,t);let oU=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),oj=BigInt("0x800000000000000000000000000000000000000000000000000000000000000");function oF(e){for(;0===e[0];)e=e.subarray(1);let t=8*e.length-252,r=s$(e);return t>0?r>>BigInt(t):r}function oz(e){return"string"==typeof e&&1&(e=o5(e)).length&&(e="0"+e),sH(e)}let oV=function(e){let t=function(e){let t=ov(e);return s4(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,a=2*r.BYTES+1;function s(e){return oa(e,n)}let{ProjectivePoint:o,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:u}=function(e){var t;let r=function(e){let t=ov(e);s4(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=r,i=od(r.n,r.nBitLength),a=r.toBytes||((e,t,r)=>{let i=t.toAffine();return sK(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){let{a:t,b:i}=r,a=n.sqr(e),s=n.mul(a,e);return n.add(n.add(s,n.mul(e,t)),i)}if(!n.eql(n.sqr(r.Gy),o(r.Gx)))throw Error("bad generator point: equation left != right");function l(e){let t,{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:a,n:s}=r;if(n&&"bigint"!=typeof e){if(sR(e)&&(e=sU(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:s$(sW("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return a&&(t=oa(t,s)),sX("private key",t,ok,s),t}function c(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}let u=s8((e,t)=>{let{px:r,py:i,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(a));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(a,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),d=s8(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");let a=n.sqr(i),s=o(t);if(!n.eql(a,s))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(s(sW("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}static msm(e,t){return function(e,t,r,n){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(n))throw Error("array of scalars expected");if(n.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)}),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=s0(BigInt(r.length)),s=a>12?a-3:a>4?a-2:a?2:1,o=(1<<s)-1,l=Array(o+1).fill(i),c=Math.floor((t.BITS-1)/s)*s,u=i;for(let e=c;e>=0;e-=s){l.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(o));l[i]=l[i].add(r[t])}let t=i;for(let e=l.length-1,r=i;e>0;e--)r=r.add(l[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<s;e++)u=u.double()}return u}(h,i,e,t)}_setWindowSize(e){p.setWindowSize(this,e)}assertValidity(){d(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);let{px:t,py:r,pz:i}=this,{px:a,py:s,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(a,i)),u=n.eql(n.mul(r,o),n.mul(s,i));return l&&u}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,oN),{px:a,py:s,pz:o}=this,l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(a,a),f=n.mul(s,s),p=n.mul(o,o),g=n.mul(a,s);return g=n.add(g,g),u=n.mul(a,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,p),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(d,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,g),c=n.add(c,d),p=n.mul(s,o),p=n.add(p,p),d=n.mul(p,g),l=n.sub(l,d),u=n.mul(p,f),u=n.add(u,u),new h(l,c,u=n.add(u,u))}add(e){c(e);let{px:t,py:i,pz:a}=this,{px:s,py:o,pz:l}=e,u=n.ZERO,d=n.ZERO,f=n.ZERO,p=r.a,g=n.mul(r.b,oN),y=n.mul(t,s),m=n.mul(i,o),b=n.mul(a,l),w=n.add(t,i),E=n.add(s,o);w=n.mul(w,E),E=n.add(y,m),w=n.sub(w,E),E=n.add(t,a);let _=n.add(s,l);return E=n.mul(E,_),_=n.add(y,b),E=n.sub(E,_),_=n.add(i,a),u=n.add(o,l),_=n.mul(_,u),u=n.add(m,b),_=n.sub(_,u),f=n.mul(p,E),u=n.mul(g,b),f=n.add(u,f),u=n.sub(m,f),f=n.add(m,f),d=n.mul(u,f),m=n.add(y,y),m=n.add(m,y),b=n.mul(p,b),E=n.mul(g,E),m=n.add(m,b),b=n.sub(y,b),b=n.mul(p,b),E=n.add(E,b),y=n.mul(m,E),d=n.add(d,y),y=n.mul(_,E),u=n.mul(w,u),u=n.sub(u,y),y=n.mul(w,m),f=n.mul(_,f),new h(u,d,f=n.add(f,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return p.wNAFCached(this,e,h.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;sX("scalar",e,oT,i);let a=h.ZERO;if(e===oT)return a;if(this.is0()||e===ok)return this;if(!t||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,e,h.normalizeZ);let{k1neg:s,k1:o,k2neg:l,k2:c}=t.splitScalar(e),u=a,d=a,f=this;for(;o>oT||c>oT;)o&ok&&(u=u.add(f)),c&ok&&(d=d.add(f)),f=f.double(),o>>=ok,c>>=ok;return s&&(u=u.negate()),l&&(d=d.negate()),d=new h(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i,{endo:a,n:s}=r;if(sX("scalar",e,ok,s),a){let{k1neg:r,k1:s,k2neg:o,k2:l}=a.splitScalar(e),{p:c,f:u}=this.wNAF(s),{p:d,f:f}=this.wNAF(l);c=p.constTimeNegate(r,c),d=p.constTimeNegate(o,d),d=new h(n.mul(d.px,a.beta),d.py,d.pz),t=c.add(d),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return h.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=h.BASE,i=(e,t)=>t!==oT&&t!==ok&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,r));return a.is0()?void 0:a}toAffine(e){return u(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===ok)return!0;if(t)return t(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===ok?this:t?t(h,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return sL("isCompressed",e),this.assertValidity(),a(h,this,e)}toHex(e=!0){return sL("isCompressed",e),sU(this.toRawBytes(e))}}h.BASE=new h(r.Gx,r.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);let f=r.nBitLength,p=(t=r.endo?Math.ceil(f/2):f,{constTimeNegate:oy,hasPrecomputes:e=>1!==o_(e),unsafeLadder(e,t,r=h.ZERO){let n=e;for(;t>op;)t&og&&(r=r.add(n)),n=n.double(),t>>=og;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=ob(r,t),a=[],s=e,o=s;for(let e=0;e<n;e++){o=s,a.push(o);for(let e=1;e<i;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(e,r,n){let{windows:i,windowSize:a}=ob(e,t),s=h.ZERO,o=h.BASE,l=BigInt(2**e-1),c=2**e,u=BigInt(e);for(let e=0;e<i;e++){let t=e*a,i=Number(n&l);n>>=u,i>a&&(i-=c,n+=og);let d=t+Math.abs(i)-1,h=e%2!=0,f=i<0;0===i?o=o.add(oy(h,r[t])):s=s.add(oy(f,r[d]))}return{p:s,f:o}},wNAFUnsafe(e,r,n,i=h.ZERO){let{windows:a,windowSize:s}=ob(e,t),o=BigInt(2**e-1),l=2**e,c=BigInt(e);for(let e=0;e<a;e++){let t=e*s;if(n===op)break;let a=Number(n&o);if(n>>=c,a>s&&(a-=l,n+=og),0===a)continue;let u=r[t+Math.abs(a)-1];a<0&&(u=u.negate()),i=i.add(u)}return i},getPrecomputes(e,t,r){let n=ow.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&ow.set(t,r(n))),n},wNAFCached(e,t,r){let n=o_(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=o_(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){om(r,t),oE.set(e,r),ow.delete(e)}});return{CURVE:r,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:function(e){return sJ(e,ok,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),a=r.toBytes(i.x),s=sK;return(sL("isCompressed",n),n)?s(Uint8Array.from([t.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],s=e.subarray(1);if(t===i&&(2===n||3===n)){let e,t=s$(s);if(!sJ(t,ok,r.ORDER))throw Error("Point is not on curve");let i=c(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&ok)===ok)&&(e=r.neg(e)),{x:t,y:e}}if(t===a&&4===n)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+i+", or uncompressed "+a+", got "+t)}}),d=e=>sU(sY(e,t.nByteLength)),h=(e,t,r)=>s$(e.slice(t,r));class f{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new f(h(e=sW("compactSignature",e,2*r),0,r),h(e,r,2*r))}static fromDER(e){let{r:t,s:r}=oS.toSig(sW("DER",e));return new f(t,r)}assertValidity(){sX("r",this.r,ok,n),sX("s",this.s,ok,n)}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:a,recovery:l}=this,c=y(sW("msgHash",e));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let u=2===l||3===l?i+t.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&l)==0?"02":"03",f=o.fromHex(h+d(u)),p=os(u,n),g=s(-c*p),m=s(a*p),b=o.BASE.multiplyAndAddUnsafe(f,g,m);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>n>>ok}normalizeS(){return this.hasHighS()?new f(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return sH(this.toDERHex())}toDERHex(){return oS.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return sH(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}function p(e){let t=sR(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===a:r?n===2*i||n===2*a:e instanceof o}let g=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let r=s$(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},y=t.bits2int_modN||function(e){return s(g(e))},m=s1(t.nBitLength);function b(e){return sX("num < 2^"+t.nBitLength,e,oT,m),sY(e,t.nByteLength)}let w={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return o.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return o.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return o.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,i,a=w){let{seed:c,k2sig:d}=function(e,i,a=w){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:c,randomBytes:d}=t,{lowS:h,prehash:p,extraEntropy:m}=a;null==h&&(h=!0),e=sW("msgHash",e),oA(a),p&&(e=sW("prehashed msgHash",c(e)));let E=y(e),_=l(i),v=[b(_),b(E)];if(null!=m&&!1!==m){let e=!0===m?d(r.BYTES):m;v.push(sW("extraEntropy",e))}return{seed:sK(...v),k2sig:function(e){var t;let r=g(e);if(!u(r))return;let i=os(r,n),a=o.BASE.multiply(r).toAffine(),l=s(a.x);if(l===oT)return;let c=s(i*s(E+l*_));if(c===oT)return;let d=2*(a.x!==l)|Number(a.y&ok),p=c;return h&&c>n>>ok&&(p=(t=c)>n>>ok?s(-t):t,d^=1),new f(l,p,d)}}}(e,i,a);return s3(t.hash.outputLen,t.nByteLength,t.hmac)(c,d)},verify:function(e,r,i,a=E){let l,c;r=sW("msgHash",r),i=sW("publicKey",i);let{lowS:u,prehash:d,format:h}=a;if(oA(a),"strict"in a)throw Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw Error("format must be compact or der");let p="string"==typeof e||sR(e),g=!p&&!h&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(c=new f(e.r,e.s)),p){try{"compact"!==h&&(c=f.fromDER(e))}catch(e){if(!(e instanceof oS.Err))throw e}c||"der"===h||(c=f.fromCompact(e))}l=o.fromHex(i)}catch(e){return!1}if(!c||u&&c.hasHighS())return!1;d&&(r=t.hash(r));let{r:m,s:b}=c,w=y(r),_=os(b,n),v=s(w*_),A=s(m*_),x=o.BASE.multiplyAndAddUnsafe(l,v,A)?.toAffine();return!!x&&s(x.x)===m},ProjectivePoint:o,Signature:f,utils:{isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=of(t.n);return function(e,t,r=!1){let n=e.length,i=oh(t),a=of(t);if(n<16||n<a||n>1024)throw Error("expected "+a+"-1024 bytes of input, got "+n);let s=oa(r?s$(e):sq(e),t-s7)+s7;return r?sZ(s,i):sY(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=o.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:od(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:oU,nBitLength:252,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...function(e){return{hash:e,hmac:(t,...r)=>oP(e,t,function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];oC(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:oM}}(sO),bits2int:oF,bits2int_modN:e=>{let t=s$(e).toString(16);return 63===t.length&&(e=oz(t+"0")),oa(oF(e),oU)}}),oH=oV;function o$(e){return sW("","string"==typeof e?oz(e):e)}function oq(e){return sU(o$(e)).padStart(64,"0")}function oY(e,t=!1){return oV.getPublicKey(oq(e),t)}function oZ(e,t){return oV.getSharedSecret(oq(e),t)}function oG(e){let{r:t,s:r}=e;if(t<0n||t>=oj)throw Error(`Signature.r should be [1, ${oj})`);let n=os(r,oU);if(n<0n||n>=oj)throw Error(`inv(Signature.s) should be [1, ${oj})`)}function oW(e){let t=o$(e);if(s$(t)>=oj)throw Error(`msgHash should be [0, ${oj})`);return t}function oK(e,t,r){let n=oV.sign(oW(e),oq(t),r);return oG(n),n}function oQ(e,t,r){if(!(e instanceof o0)){let t=o$(e);try{e=o0.fromDER(t)}catch(r){if(!(r instanceof oS.Err))throw r;e=o0.fromCompact(t)}}return oG(e),oV.verify(e,oW(t),o$(r))}let{CURVE:oJ,ProjectivePoint:oX,Signature:o0,utils:o1}=oV;function o2(e){let t=sU(e.subarray(1)).replace(/^0+/gm,"");return`0x${t}`}function o5(e){return e.replace(/^0x/i,"")}function o3(e){let t=o$(e),r=2n**256n,n=r-oa(r,oU);for(let e=0;;e++){let r=lc(sK(t,sG(BigInt(e))));if(r<n)return oa(r,oU).toString(16);if(1e5===e)throw Error("grindKey is broken: tried 100k vals")}}function o6(e){return o2(oY(e,!0))}function o4(e){if(130!==(e=o5(e)).length)throw Error("Wrong ethereum signature");return o3(e.substring(0,64))}let o8=2n**31n-1n,o9=e=>Number(e&o8);function o7(e,t,r,n){let i=o9(lc(e)),a=o9(lc(t)),s=sF(o5(r));return`m/2645'/${i}'/${a}'/${o9(s)}'/${o9(s>>31n)}'/${n}`}let le=[new oX(0x49ee3eba8c1600700ee1b87eb599f16716b0b1022947733551fde4050ca6804n,0x3ca0cfe4b3bc6ddf346d49d06ea0ed34e621062c0e056c1d0405d266e10268an,1n),new oX(0x234287dcbaffe7f969c748655fca9e58fa8120b6d56eb0c1080d17957ebe47bn,0x3b056f100f96fb21e889527d41f4e39940135dd7a6c94cc6ed0268ee89e5615n,1n),new oX(0x4fa56f376c83db33f9dab2656558f3399099ec1de5e3018b7a6932dba8aa378n,0x3fa0984c931c9e38113e0c0e47e4401562761f92a7a23b45168f4e80ff5b54dn,1n),new oX(0x4ba4cc166be8dec764910f75b45f74b40c690c74709e90f3aa372f0bd2d6997n,0x40301cf5c1751f4b971e46c4ede85fcac5c59a5ce5ae7c48151f27b24b219cn,1n),new oX(0x54302dcb0e6cc1c6e44cca8f61a63bb2ca65048d53fb325d36ff12c49a58202n,0x1b77b3e37d13504b348046268d8ae25ce98ad783c25561a879dcc77e99c2426n,1n)];function lt(e,t){let r=[],n=e;for(let e=0;e<248;e++)r.push(n),n=n.double();n=t;for(let e=0;e<4;e++)r.push(n),n=n.double();return r}let lr=lt(le[1],le[2]),ln=lt(le[3],le[4]);function li(e,t,r){let n=function(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e){if(!Number.isSafeInteger(e))throw Error(`Invalid pedersenArg: ${e}`);t=BigInt(e)}else t=s$(o$(e));if(!(0n<=t&&t<oV.CURVE.Fp.ORDER))throw Error(`PedersenArg should be 0 <= value < CURVE.P: ${t}`);return t}(t);for(let t=0;t<252;t++){let i=r[t];if(!i)throw Error("invalid constant index");if(i.equals(e))throw Error("Same point");(1n&n)!==0n&&(e=e.add(i)),n>>=1n}return e}function la(e,t){let r=le[0];return r=li(r,e,lr),o2((r=li(r,t,ln)).toRawBytes(!0))}let ls=(e,t=la)=>[0,...e,e.length].reduce((e,r)=>t(e,r)),lo=s1(250),ll=e=>s$(sv(e))&lo,lc=e=>s$(sO(e)),lu=od(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function ld(e,t,r){let n=e.fromBytes(sO(si(`${t}${r}`)));return e.create(n)}function lh(e,t,r,n=0){let i=[],a=[];for(let s=0;s<r;s++)i.push(ld(e,`${t}x`,n*r+s)),a.push(ld(e,`${t}y`,n*r+s));if(new Set([...i,...a]).size!==2*r)throw Error("X and Y values are not distinct");return i.map(t=>a.map(r=>e.inv(e.sub(t,r))))}function lf(e,t){if(ol(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw Error(`Wrong poseidon opts: ${e}`);let r=e.rate+e.capacity,n=e.roundsFull+e.roundsPartial,i=[];for(let t=0;t<n;t++){let n=[];for(let i=0;i<r;i++)n.push(ld(e.Fp,"Hades",r*t+i));i.push(n)}let a=function(e){let t=function(e){let{Fp:t,mds:r,reversePartialPowIdx:n,roundConstants:i}=e,{roundsFull:a,roundsPartial:s,sboxPower:o,t:l}=e;for(let r of(ol(t),["t","roundsFull","roundsPartial"]))if("number"!=typeof e[r]||!Number.isSafeInteger(e[r]))throw Error("invalid number "+r);if(!Array.isArray(r)||r.length!==l)throw Error("Poseidon: invalid MDS matrix");let c=r.map(e=>{if(!Array.isArray(e)||e.length!==l)throw Error("invalid MDS matrix row: "+e);return e.map(e=>{if("bigint"!=typeof e)throw Error("invalid MDS matrix bigint: "+e);return t.create(e)})});if(void 0!==n&&"boolean"!=typeof n)throw Error("invalid param reversePartialPowIdx="+n);if(1&a)throw Error("roundsFull is not even"+a);let u=a+s;if(!Array.isArray(i)||i.length!==u)throw Error("Poseidon: invalid round constants");let d=i.map(e=>{if(!Array.isArray(e)||e.length!==l)throw Error("invalid round constants");return e.map(e=>{if("bigint"!=typeof e||!t.isValid(e))throw Error("invalid round constant");return t.create(e)})});if(!o||![3,5,7].includes(o))throw Error("invalid sboxPower");let h=BigInt(o),f=e=>oc(t,e,h);return 3===o?f=e=>t.mul(t.sqrN(e),e):5===o&&(f=e=>t.mul(t.sqrN(t.sqrN(e)),e)),Object.freeze({...e,rounds:u,sboxFn:f,roundConstants:d,mds:c})}(e),{Fp:r,mds:n,roundConstants:i,rounds:a,roundsPartial:s,sboxFn:o,t:l}=t,c=t.roundsFull/2,u=t.reversePartialPowIdx?l-1:0,d=(e,t,a)=>(e=e.map((e,t)=>r.add(e,i[a][t])),t?e=e.map(e=>o(e)):e[u]=o(e[u]),e=n.map(t=>t.reduce((t,n,i)=>r.add(t,r.mulN(n,e[i])),r.ZERO))),h=function(e){if(!Array.isArray(e)||e.length!==l)throw Error("invalid values, expected array of bigints with length "+l);e=e.map(e=>{if("bigint"!=typeof e)throw Error("invalid bigint="+e);return r.create(e)});let t=0;for(let r=0;r<c;r++)e=d(e,!0,t++);for(let r=0;r<s;r++)e=d(e,!1,t++);for(let r=0;r<c;r++)e=d(e,!0,t++);if(t!==a)throw Error("invalid number of rounds");return e};return h.roundConstants=i,h}({...e,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:i});return a.m=r,a.rate=e.rate,a.capacity=e.capacity,a}function lp(e,t=0){let r=e.rate+e.capacity;if(!Number.isSafeInteger(t))throw Error(`Wrong mdsAttempt=${t}`);return lf(e,lh(e.Fp,"HadesMDS",r,t))}let lg=lf({Fp:lu,rate:2,capacity:1,roundsFull:8,roundsPartial:83},[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt)));function ly(e,t,r=lg){return r([e,t,2n])[0]}function lm(e,t,r=lg){return sG(ly(s$(e),s$(t),r))}function lb(e,t=lg){return t([e,0n,1n])[0]}function lw(e,t=lg){let{m:r,rate:n}=t;if(!Array.isArray(e))throw Error("bigint array expected in values");let i=Array.from(e);for(i.push(1n);i.length%n!=0;)i.push(0n);let a=Array(r).fill(0n);for(let e=0;e<i.length;e+=n){for(let t=0;t<n;t++){let r=i[e+t];if(void 0===r)throw Error("invalid index");if(void 0===a[t])throw Error("state[j] is undefined");a[t]=a[t]+r}a=t(a)}return a[0]}let lE=BigInt(0x100000000-1),l_=BigInt(32),lv=[],lA=[],lx=[],lI=BigInt(0),lS=BigInt(1),lT=BigInt(2),lk=BigInt(7),lN=BigInt(256),lO=BigInt(113);for(let e=0,t=lS,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],lv.push(2*(5*n+r)),lA.push((e+1)*(e+2)/2%64);let i=lI;for(let e=0;e<7;e++)(t=(t<<lS^(t>>lk)*lO)%lN)&lT&&(i^=lS<<(lS<<BigInt(e))-lS);lx.push(i)}let[lC,lB]=function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:a,l:s}=function(e,t=!1){return t?{h:Number(e&lE),l:Number(e>>l_&lE)}:{h:0|Number(e>>l_&lE),l:0|Number(e&lE)}}(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}(lx,!0),lD=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),lR=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class lM extends aY{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,aM(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)))(this.state)}keccak(){aV||a$(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],s=r[i+1],o=lD(a,s,1)^r[n],l=lR(a,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=lA[r],a=lD(t,i,n),s=lR(t,i,n),o=lv[r];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=lC[n],e[1]^=lB[n]}r.fill(0)}(this.state32,this.rounds),aV||a$(this.state32),this.posOut=0,this.pos=0}update(e){aP(this);let{blockLen:t,state:r}=this,n=(e=aq(e)).length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){aP(this,!1),aL(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return aM(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(aU(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new lM(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}let lL=aZ(()=>new lM(136,1,32)),lP=BigInt(0),lU=BigInt(1),lj=BigInt(2),lF=BigInt(3),lz=BigInt(4),lV=BigInt(5),lH=BigInt(8);function l$(e,t){let r=e%t;return r>=lP?r:t+r}function lq(e,t,r){let n=e;for(;t-- >lP;)n*=n,n%=r;return n}function lY(e,t){if(e===lP)throw Error("invert: expected non-zero number");if(t<=lP)throw Error("invert: expected positive modulus, got "+t);let r=l$(e,t),n=t,i=lP,a=lU,s=lU,o=lP;for(;r!==lP;){let e=n/r,t=n%r,l=i-s*e,c=a-o*e;n=r,r=t,i=s,a=o,s=l,o=c}if(n!==lU)throw Error("invert: does not exist");return l$(i,t)}let lZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lG(e){return aD(e,lZ.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function lW(e,t,r){if(r<lP)throw Error("invalid exponent, negatives unsupported");if(r===lP)return e.ONE;if(r===lU)return t;let n=e.ONE,i=t;for(;r>lP;)r&lU&&(n=e.mul(n,i)),i=e.sqr(i),r>>=lU;return n}function lK(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function lQ(e,t,r=!1,n={}){let i;if(e<=lP)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:a,nByteLength:s}=lK(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,BITS:a,BYTES:s,MASK:ak(a),ZERO:lP,ONE:lU,create:t=>l$(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return lP<=t&&t<e},is0:e=>e===lP,isOdd:e=>(e&lU)===lU,neg:t=>l$(-t,e),eql:(e,t)=>e===t,sqr:t=>l$(t*t,e),add:(t,r)=>l$(t+r,e),sub:(t,r)=>l$(t-r,e),mul:(t,r)=>l$(t*r,e),pow:(e,t)=>lW(o,e,t),div:(t,r)=>l$(t*lY(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>lY(t,e),sqrt:n.sqrt||(t=>(i||(i=function(e){if(e%lz===lF){let t=(e+lU)/lz;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%lH===lV){let t=(e-lV)/lH;return function(e,r){let n=e.mul(r,lj),i=e.pow(n,t),a=e.mul(r,i),s=e.mul(e.mul(a,lj),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n,i=(e-lU)/lj;for(t=e-lU,r=0;t%lj===lP;t/=lj,r++);for(n=lj;n<e&&function(e,t,r){if(t<lP)throw Error("invalid exponent, negatives unsupported");if(r<=lP)throw Error("invalid modulus");if(r===lU)return lP;let n=lU;for(;t>lP;)t&lU&&(n=n*e%r),e=e*e%r,t>>=lU;return n}(n,i,e)!==e-lU;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+lU)/lz;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let a=(t+lU)/lj;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),c=e.pow(s,a),u=e.pow(s,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,lU<<BigInt(o-t-1));l=e.sqr(r),c=e.mul(c,r),u=e.mul(u,l),o=t}return c}}(e)}(e)),i(o,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?a_(e,s):aE(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?aw(e):ab(e)}});return Object.freeze(o)}function lJ(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function lX(e){let t=lJ(e);return t+Math.ceil(t/2)}function l0(e){let{Fp:t,mds:r,reversePartialPowIdx:n,roundConstants:i}=e,{roundsFull:a,roundsPartial:s,sboxPower:o,t:l}=e;for(let r of(lG(t),["t","roundsFull","roundsPartial"]))if("number"!=typeof e[r]||!Number.isSafeInteger(e[r]))throw Error("invalid number "+r);if(!Array.isArray(r)||r.length!==l)throw Error("Poseidon: invalid MDS matrix");let c=r.map(e=>{if(!Array.isArray(e)||e.length!==l)throw Error("invalid MDS matrix row: "+e);return e.map(e=>{if("bigint"!=typeof e)throw Error("invalid MDS matrix bigint: "+e);return t.create(e)})});if(void 0!==n&&"boolean"!=typeof n)throw Error("invalid param reversePartialPowIdx="+n);if(1&a)throw Error("roundsFull is not even"+a);let u=a+s;if(!Array.isArray(i)||i.length!==u)throw Error("Poseidon: invalid round constants");let d=i.map(e=>{if(!Array.isArray(e)||e.length!==l)throw Error("invalid round constants");return e.map(e=>{if("bigint"!=typeof e||!t.isValid(e))throw Error("invalid round constant");return t.create(e)})});if(!o||![3,5,7].includes(o))throw Error("invalid sboxPower");let h=BigInt(o),f=e=>lW(t,e,h);return 3===o?f=e=>t.mul(t.sqrN(e),e):5===o&&(f=e=>t.mul(t.sqrN(t.sqrN(e)),e)),Object.freeze({...e,rounds:u,sboxFn:f,roundConstants:d,mds:c})}function l1(e,t){if("number"!=typeof t)throw Error("poseidonSplitConstants: invalid t");if(!Array.isArray(e)||e.length%t)throw Error("poseidonSplitConstants: invalid rc");let r=[],n=[];for(let i=0;i<e.length;i++)n.push(e[i]),n.length===t&&(r.push(n),n=[]);return r}function l2(e){let t=l0(e),{Fp:r,mds:n,roundConstants:i,rounds:a,roundsPartial:s,sboxFn:o,t:l}=t,c=t.roundsFull/2,u=t.reversePartialPowIdx?l-1:0,d=(e,t,a)=>(e=e.map((e,t)=>r.add(e,i[a][t])),t?e=e.map(e=>o(e)):e[u]=o(e[u]),e=n.map(t=>t.reduce((t,n,i)=>r.add(t,r.mulN(n,e[i])),r.ZERO))),h=function(e){if(!Array.isArray(e)||e.length!==l)throw Error("invalid values, expected array of bigints with length "+l);e=e.map(e=>{if("bigint"!=typeof e)throw Error("invalid bigint="+e);return r.create(e)});let t=0;for(let r=0;r<c;r++)e=d(e,!0,t++);for(let r=0;r<s;r++)e=d(e,!1,t++);for(let r=0;r<c;r++)e=d(e,!0,t++);if(t!==a)throw Error("invalid number of rounds");return e};return h.roundConstants=i,h}let l5=BigInt(0),l3=BigInt(1);function l6(e,t){let r=t.negate();return e?r:t}function l4(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function l8(e,t){return l4(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let l9=new WeakMap,l7=new WeakMap;function ce(e){return l7.get(e)||1}function ct(e){return lG(e.Fp),aD(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lK(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}function cr(e){void 0!==e.lowS&&au("lowS",e.lowS),void 0!==e.prehash&&au("prehash",e.prehash)}let{Ph:cn,aT:ci}=T,ca={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=ca;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=af(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let a=n>127?af(i.length/2|128):"";return af(e)+a+i+t},decode(e,t){let{Err:r}=ca,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],a=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)a=a<<8|e;if(n+=e,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;let s=t.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+a)}}},_int:{encode(e){let{Err:t}=ca;if(e<cs)throw new t("integer: negative integers are not allowed");let r=af(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ca;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return cn(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ca,i="string"==typeof e?ci(e):e;ac(i);let{v:a,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,a),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=ca,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},cs=BigInt(0),co=BigInt(1),cl=BigInt(2),cc=BigInt(3),cu=BigInt(4);function cd(e){var t;let r=function(e){let t=ct(e);aD(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=r,i=lQ(r.n,r.nBitLength),a=r.toBytes||((e,t,r)=>{let i=t.toAffine();return aA(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){let{a:t,b:i}=r,a=n.sqr(e),s=n.mul(a,e);return n.add(n.add(s,n.mul(e,t)),i)}if(!n.eql(n.sqr(r.Gy),o(r.Gx)))throw Error("bad generator point: equation left != right");function l(e){let t,{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:a,n:s}=r;if(n&&"bigint"!=typeof e){if(al(e)&&(e=ah(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:ab(av("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return a&&(t=l$(t,s)),aS("private key",t,co,s),t}function c(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}let u=aR((e,t)=>{let{px:r,py:i,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(a));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(a,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),d=aR(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");let a=n.sqr(i),s=o(t);if(!n.eql(a,s))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(s(av("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}static msm(e,t){return function(e,t,r,n){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(n))throw Error("array of scalars expected");if(n.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)}),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=aT(BigInt(r.length)),s=a>12?a-3:a>4?a-2:a?2:1,o=(1<<s)-1,l=Array(o+1).fill(i),c=Math.floor((t.BITS-1)/s)*s,u=i;for(let e=c;e>=0;e-=s){l.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(o));l[i]=l[i].add(r[t])}let t=i;for(let e=l.length-1,r=i;e>0;e--)r=r.add(l[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<s;e++)u=u.double()}return u}(h,i,e,t)}_setWindowSize(e){p.setWindowSize(this,e)}assertValidity(){d(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);let{px:t,py:r,pz:i}=this,{px:a,py:s,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(a,i)),u=n.eql(n.mul(r,o),n.mul(s,i));return l&&u}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,cc),{px:a,py:s,pz:o}=this,l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(a,a),f=n.mul(s,s),p=n.mul(o,o),g=n.mul(a,s);return g=n.add(g,g),u=n.mul(a,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,p),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(d,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,g),c=n.add(c,d),p=n.mul(s,o),p=n.add(p,p),d=n.mul(p,g),l=n.sub(l,d),u=n.mul(p,f),u=n.add(u,u),new h(l,c,u=n.add(u,u))}add(e){c(e);let{px:t,py:i,pz:a}=this,{px:s,py:o,pz:l}=e,u=n.ZERO,d=n.ZERO,f=n.ZERO,p=r.a,g=n.mul(r.b,cc),y=n.mul(t,s),m=n.mul(i,o),b=n.mul(a,l),w=n.add(t,i),E=n.add(s,o);w=n.mul(w,E),E=n.add(y,m),w=n.sub(w,E),E=n.add(t,a);let _=n.add(s,l);return E=n.mul(E,_),_=n.add(y,b),E=n.sub(E,_),_=n.add(i,a),u=n.add(o,l),_=n.mul(_,u),u=n.add(m,b),_=n.sub(_,u),f=n.mul(p,E),u=n.mul(g,b),f=n.add(u,f),u=n.sub(m,f),f=n.add(m,f),d=n.mul(u,f),m=n.add(y,y),m=n.add(m,y),b=n.mul(p,b),E=n.mul(g,E),m=n.add(m,b),b=n.sub(y,b),b=n.mul(p,b),E=n.add(E,b),y=n.mul(m,E),d=n.add(d,y),y=n.mul(_,E),u=n.mul(w,u),u=n.sub(u,y),y=n.mul(w,m),f=n.mul(_,f),new h(u,d,f=n.add(f,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return p.wNAFCached(this,e,h.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;aS("scalar",e,cs,i);let a=h.ZERO;if(e===cs)return a;if(this.is0()||e===co)return this;if(!t||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,e,h.normalizeZ);let{k1neg:s,k1:o,k2neg:l,k2:c}=t.splitScalar(e),u=a,d=a,f=this;for(;o>cs||c>cs;)o&co&&(u=u.add(f)),c&co&&(d=d.add(f)),f=f.double(),o>>=co,c>>=co;return s&&(u=u.negate()),l&&(d=d.negate()),d=new h(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i,{endo:a,n:s}=r;if(aS("scalar",e,co,s),a){let{k1neg:r,k1:s,k2neg:o,k2:l}=a.splitScalar(e),{p:c,f:u}=this.wNAF(s),{p:d,f:f}=this.wNAF(l);c=p.constTimeNegate(r,c),d=p.constTimeNegate(o,d),d=new h(n.mul(d.px,a.beta),d.py,d.pz),t=c.add(d),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return h.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=h.BASE,i=(e,t)=>t!==cs&&t!==co&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,r));return a.is0()?void 0:a}toAffine(e){return u(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===co)return!0;if(t)return t(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===co?this:t?t(h,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return au("isCompressed",e),this.assertValidity(),a(h,this,e)}toHex(e=!0){return au("isCompressed",e),ah(this.toRawBytes(e))}}h.BASE=new h(r.Gx,r.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);let f=r.nBitLength,p=(t=r.endo?Math.ceil(f/2):f,{constTimeNegate:l6,hasPrecomputes:e=>1!==ce(e),unsafeLadder(e,t,r=h.ZERO){let n=e;for(;t>l5;)t&l3&&(r=r.add(n)),n=n.double(),t>>=l3;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=l8(r,t),a=[],s=e,o=s;for(let e=0;e<n;e++){o=s,a.push(o);for(let e=1;e<i;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(e,r,n){let{windows:i,windowSize:a}=l8(e,t),s=h.ZERO,o=h.BASE,l=BigInt(2**e-1),c=2**e,u=BigInt(e);for(let e=0;e<i;e++){let t=e*a,i=Number(n&l);n>>=u,i>a&&(i-=c,n+=l3);let d=t+Math.abs(i)-1,h=e%2!=0,f=i<0;0===i?o=o.add(l6(h,r[t])):s=s.add(l6(f,r[d]))}return{p:s,f:o}},wNAFUnsafe(e,r,n,i=h.ZERO){let{windows:a,windowSize:s}=l8(e,t),o=BigInt(2**e-1),l=2**e,c=BigInt(e);for(let e=0;e<a;e++){let t=e*s;if(n===l5)break;let a=Number(n&o);if(n>>=c,a>s&&(a-=l,n+=l3),0===a)continue;let u=r[t+Math.abs(a)-1];a<0&&(u=u.negate()),i=i.add(u)}return i},getPrecomputes(e,t,r){let n=l9.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&l9.set(t,r(n))),n},wNAFCached(e,t,r){let n=ce(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=ce(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){l4(r,t),l7.set(e,r),l9.delete(e)}});return{CURVE:r,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:function(e){return aI(e,co,r.n)}}}function ch(e){let t=function(e){let t=ct(e);return aD(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,a=2*r.BYTES+1;function s(e){return l$(e,n)}let{ProjectivePoint:o,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:u}=cd({...t,toBytes(e,t,n){let i=t.toAffine(),a=r.toBytes(i.x),s=aA;return(au("isCompressed",n),n)?s(Uint8Array.from([t.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],s=e.subarray(1);if(t===i&&(2===n||3===n)){let e,t=ab(s);if(!aI(t,co,r.ORDER))throw Error("Point is not on curve");let i=c(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&co)===co)&&(e=r.neg(e)),{x:t,y:e}}if(t===a&&4===n)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+i+", or uncompressed "+a+", got "+t)}}),d=e=>ah(aE(e,t.nByteLength)),h=(e,t,r)=>ab(e.slice(t,r));class f{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new f(h(e=av("compactSignature",e,2*r),0,r),h(e,r,2*r))}static fromDER(e){let{r:t,s:r}=ca.toSig(av("DER",e));return new f(t,r)}assertValidity(){aS("r",this.r,co,n),aS("s",this.s,co,n)}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:a,recovery:l}=this,c=y(av("msgHash",e));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let u=2===l||3===l?i+t.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&l)==0?"02":"03",f=o.fromHex(h+d(u)),p=lY(u,n),g=s(-c*p),m=s(a*p),b=o.BASE.multiplyAndAddUnsafe(f,g,m);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>n>>co}normalizeS(){return this.hasHighS()?new f(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return am(this.toDERHex())}toDERHex(){return ca.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return am(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}function p(e){let t=al(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===a:r?n===2*i||n===2*a:e instanceof o}let g=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let r=ab(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},y=t.bits2int_modN||function(e){return s(g(e))},m=ak(t.nBitLength);function b(e){return aS("num < 2^"+t.nBitLength,e,cs,m),aE(e,t.nByteLength)}let w={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return o.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return o.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return o.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,i,a=w){let{seed:c,k2sig:d}=function(e,i,a=w){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:c,randomBytes:d}=t,{lowS:h,prehash:p,extraEntropy:m}=a;null==h&&(h=!0),e=av("msgHash",e),cr(a),p&&(e=av("prehashed msgHash",c(e)));let E=y(e),_=l(i),v=[b(_),b(E)];if(null!=m&&!1!==m){let e=!0===m?d(r.BYTES):m;v.push(av("extraEntropy",e))}return{seed:aA(...v),k2sig:function(e){var t;let r=g(e);if(!u(r))return;let i=lY(r,n),a=o.BASE.multiply(r).toAffine(),l=s(a.x);if(l===cs)return;let c=s(i*s(E+l*_));if(c===cs)return;let d=2*(a.x!==l)|Number(a.y&co),p=c;return h&&c>n>>co&&(p=(t=c)>n>>co?s(-t):t,d^=1),new f(l,p,d)}}}(e,i,a);return aC(t.hash.outputLen,t.nByteLength,t.hmac)(c,d)},verify:function(e,r,i,a=E){let l,c;r=av("msgHash",r),i=av("publicKey",i);let{lowS:u,prehash:d,format:h}=a;if(cr(a),"strict"in a)throw Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw Error("format must be compact or der");let p="string"==typeof e||al(e),g=!p&&!h&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(c=new f(e.r,e.s)),p){try{"compact"!==h&&(c=f.fromDER(e))}catch(e){if(!(e instanceof ca.Err))throw e}c||"der"===h||(c=f.fromCompact(e))}l=o.fromHex(i)}catch(e){return!1}if(!c||u&&c.hasHighS())return!1;d&&(r=t.hash(r));let{r:m,s:b}=c,w=y(r),_=lY(b,n),v=s(w*_),A=s(m*_),x=o.BASE.multiplyAndAddUnsafe(l,v,A)?.toAffine();return!!x&&s(x.x)===m},ProjectivePoint:o,Signature:f,utils:{isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=lX(t.n);return function(e,t,r=!1){let n=e.length,i=lJ(t),a=lX(t);if(n<16||n<a||n>1024)throw Error("expected "+a+"-1024 bytes of input, got "+n);let s=l$(r?ab(e):aw(e),t-lU)+lU;return r?a_(s,i):aE(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=o.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}function cf(e,t){let r=e.ORDER,n=cs;for(let e=r-co;e%cl===cs;e/=cl)n+=co;let i=n,a=cl<<i-co-co,s=a*cl,o=(r-co)/s,l=(o-co)/cl,c=s-co,u=e.pow(t,o),d=e.pow(t,(o+co)/cl),h=(t,r)=>{let n=u,s=e.pow(r,c),o=e.sqr(s);o=e.mul(o,r);let h=e.mul(t,o);h=e.pow(h,l),h=e.mul(h,s),s=e.mul(h,r),o=e.mul(h,t);let f=e.mul(o,s);h=e.pow(f,a);let p=e.eql(h,e.ONE);s=e.mul(o,d),h=e.mul(f,n),o=e.cmov(s,o,p),f=e.cmov(h,f,p);for(let t=i;t>co;t--){let r=t-cl;r=cl<<r-co;let i=e.pow(f,r),a=e.eql(i,e.ONE);s=e.mul(o,n),n=e.mul(n,n),i=e.mul(f,n),o=e.cmov(s,o,a),f=e.cmov(i,f,a)}return{isValid:p,value:o}};if(e.ORDER%cu===cc){let r=(e.ORDER-cc)/cu,n=e.sqrt(e.neg(t));h=(t,i)=>{let a=e.sqr(i),s=e.mul(t,i);a=e.mul(a,s);let o=e.pow(a,r);o=e.mul(o,s);let l=e.mul(o,n),c=e.mul(e.sqr(o),i),u=e.eql(c,t),d=e.cmov(l,o,u);return{isValid:u,value:d}}}return h}function cp(e,t){if(lG(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=cf(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let i,a,s,o,l,c,u,d;i=e.sqr(n),i=e.mul(i,t.Z),a=e.sqr(i),a=e.add(a,i),s=e.add(a,e.ONE),s=e.mul(s,t.B),o=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),o=e.mul(o,t.A),a=e.sqr(s),c=e.sqr(o),l=e.mul(c,t.A),a=e.add(a,l),a=e.mul(a,s),c=e.mul(c,o),l=e.mul(c,t.B),a=e.add(a,l),u=e.mul(i,s);let{isValid:h,value:f}=r(a,c);d=e.mul(i,n),d=e.mul(d,f),u=e.cmov(u,s,h),d=e.cmov(d,f,h);let p=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),{x:u=e.div(u,o),y:d}}}function cg(e){let t=e.length;for(;--t>=0;)e[t]=0}let cy=573,cm=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),cb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cw=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),cE=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c_=Array(576);cg(c_);let cv=Array(60);cg(cv);let cA=Array(512);cg(cA);let cx=Array(256);cg(cx);let cI=Array(29);cg(cI);let cS=Array(30);function cT(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function ck(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}cg(cS);let cN=e=>e<256?cA[e]:cA[256+(e>>>7)],cO=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},cC=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,cO(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},cB=(e,t,r)=>{cC(e,r[2*t],r[2*t+1])},cD=(e,t)=>{let r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0);return r>>>1},cR=(e,t,r)=>{let n,i,a=Array(16),s=0;for(n=1;n<=15;n++)s=s+r[n-1]<<1,a[n]=s;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=cD(a[t]++,t))}},cM=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},cL=e=>{e.bi_valid>8?cO(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},cP=(e,t,r,n)=>{let i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]},cU=(e,t,r)=>{let n=e.heap[r],i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&cP(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!cP(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},cj=(e,t,r)=>{let n,i,a,s,o=0;if(0!==e.sym_next)do n=(255&e.pending_buf[e.sym_buf+o++])+((255&e.pending_buf[e.sym_buf+o++])<<8),i=e.pending_buf[e.sym_buf+o++],0===n?cB(e,i,t):(cB(e,(a=cx[i])+256+1,t),0!==(s=cm[a])&&cC(e,i-=cI[a],s),cB(e,a=cN(--n),r),0!==(s=cb[a])&&cC(e,n-=cS[a],s));while(o<e.sym_next);cB(e,256,t)},cF=(e,t)=>{let r,n,i,a=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(r=0,e.heap_len=0,e.heap_max=cy;r<l;r++)0!==a[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=s[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)cU(e,a,r);i=l;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],cU(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,cU(e,a,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{let r,n,i,a,s,o,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<cy;r++)(a=l[2*l[2*(n=e.heap[r])+1]+1]+1)>p&&(a=p,g++),l[2*n+1]=a,!(n>c)&&(e.bl_count[a]++,s=0,n>=f&&(s=h[n-f]),o=l[2*n],e.opt_len+=o*(a+s),d&&(e.static_len+=o*(u[2*n+1]+s)));if(0!==g){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)!((i=e.heap[--r])>c)&&(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),n--)}})(e,t),cR(a,c,e.bl_count)},cz=(e,t,r)=>{let n,i,a=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=s,s=t[(n+1)*2+1],++o<l&&i===s||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4))},cV=(e,t,r)=>{let n,i,a=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),n=0;n<=r;n++)if(i=s,s=t[(n+1)*2+1],!(++o<l)||i!==s){if(o<c)do cB(e,i,e.bl_tree);while(0!=--o);else 0!==i?(i!==a&&(cB(e,i,e.bl_tree),o--),cB(e,16,e.bl_tree),cC(e,o-3,2)):o<=10?(cB(e,17,e.bl_tree),cC(e,o-3,3)):(cB(e,18,e.bl_tree),cC(e,o-11,7));o=0,a=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4)}},cH=!1,c$=(e,t,r,n)=>{cC(e,0+ +!!n,3),cL(e),cO(e,r),cO(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r};var cq={_tr_init:e=>{cH||((()=>{let e,t,r,n,i,a=Array(16);for(n=0,r=0;n<28;n++)for(e=0,cI[n]=r;e<1<<cm[n];e++)cx[r++]=n;for(cx[r-1]=n,i=0,n=0;n<16;n++)for(e=0,cS[n]=i;e<1<<cb[n];e++)cA[i++]=n;for(i>>=7;n<30;n++)for(e=0,cS[n]=i<<7;e<1<<cb[n]-7;e++)cA[256+i++]=n;for(t=0;t<=15;t++)a[t]=0;for(e=0;e<=143;)c_[2*e+1]=8,e++,a[8]++;for(;e<=255;)c_[2*e+1]=9,e++,a[9]++;for(;e<=279;)c_[2*e+1]=7,e++,a[7]++;for(;e<=287;)c_[2*e+1]=8,e++,a[8]++;for(cR(c_,287,a),e=0;e<30;e++)cv[2*e+1]=5,cv[2*e]=cD(e,5);s=new cT(c_,cm,257,286,15),o=new cT(cv,cb,0,30,15),l=new cT([],cw,0,19,7)})(),cH=!0),e.l_desc=new ck(e.dyn_ltree,s),e.d_desc=new ck(e.dyn_dtree,o),e.bl_desc=new ck(e.bl_tree,l),e.bi_buf=0,e.bi_valid=0,cM(e)},_tr_stored_block:c$,_tr_flush_block:(e,t,r,n)=>{let i,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=0xf3ffc07f;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),cF(e,e.l_desc),cF(e,e.d_desc),s=(e=>{let t;for(cz(e,e.dyn_ltree,e.l_desc.max_code),cz(e,e.dyn_dtree,e.d_desc.max_code),cF(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*cE[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?c$(e,t,r,n):4===e.strategy||a===i?(cC(e,2+ +!!n,3),cj(e,c_,cv)):(cC(e,4+ +!!n,3),((e,t,r,n)=>{let i;for(cC(e,t-257,5),cC(e,r-1,5),cC(e,n-4,4),i=0;i<n;i++)cC(e,e.bl_tree[2*cE[i]+1],3);cV(e,e.dyn_ltree,t-1),cV(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),cj(e,e.dyn_ltree,e.dyn_dtree)),cM(e),n&&cL(e)},_tr_tally:(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(cx[r]+256+1)*2]++,e.dyn_dtree[2*cN(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{cC(e,2,3),cB(e,256,c_),(e=>{16===e.bi_valid?(cO(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},cY=(e,t,r,n)=>{let i=65535&e,a=e>>>16&65535,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do a=a+(i=i+t[n++]|0)|0;while(--s);i%=65521,a%=65521}return i|a<<16};let cZ=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?0xedb88320^e>>>1:e>>>1;t[r]=e}return t})());var cG=(e,t,r,n)=>{let i=n+r;e^=-1;for(let r=n;r<i;r++)e=e>>>8^cZ[(e^t[r])&255];return -1^e},cW={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cK={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:cQ,_tr_stored_block:cJ,_tr_flush_block:cX,_tr_tally:c0,_tr_align:c1}=cq,{Z_NO_FLUSH:c2,Z_PARTIAL_FLUSH:c5,Z_FULL_FLUSH:c3,Z_FINISH:c6,Z_BLOCK:c4,Z_OK:c8,Z_STREAM_END:c9,Z_STREAM_ERROR:c7,Z_DATA_ERROR:ue,Z_BUF_ERROR:ut,Z_DEFAULT_COMPRESSION:ur,Z_FILTERED:un,Z_HUFFMAN_ONLY:ui,Z_RLE:ua,Z_FIXED:us,Z_DEFAULT_STRATEGY:uo,Z_UNKNOWN:ul,Z_DEFLATED:uc}=cK,uu=573,ud=(e,t)=>(e.msg=cW[t],t),uh=e=>2*e-9*(e>4),uf=e=>{let t=e.length;for(;--t>=0;)e[t]=0},up=e=>{let t,r,n,i=e.w_size;n=t=e.hash_size;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);n=t=i;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)},ug=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,uy=e=>{let t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},um=(e,t)=>{cX(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,uy(e.strm)},ub=(e,t)=>{e.pending_buf[e.pending++]=t},uw=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},uE=(e,t,r,n)=>{let i=e.avail_in;return(i>n&&(i=n),0===i)?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=cY(e.adler,t,i,r):2===e.state.wrap&&(e.adler=cG(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},u_=(e,t)=>{let r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+258,f=c[a+s-1],p=c[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(r=t)+s]!==p||c[r+s-1]!==f||c[r]!==c[a]||c[++r]!==c[a+1])continue;a+=2,r++;do;while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<h);if(n=258-(h-a),a=h-258,n>s){if(e.match_start=t,s=n,n>=o)break;f=c[a+s-1],p=c[a+s]}}while((t=d[t&u])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead},uv=e=>{let t,r,n,i=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-262)&&(e.window.set(e.window.subarray(i,i+i-r),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),up(e),r+=i),0===e.strm.avail_in)break;if(t=uE(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=3)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=ug(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=ug(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},uA=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,a,s=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,n>(i=e.strstart-e.block_start)+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<r&&(0===n&&t!==c6||t===c2||n!==i+e.strm.avail_in)))break;s=+(t===c6&&n===i+e.strm.avail_in),cJ(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,uy(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(uE(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return((o-=e.strm.avail_in)&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s)?4:t!==c2&&t!==c6&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(uE(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,r=(a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a)>e.w_size?e.w_size:a,((i=e.strstart-e.block_start)>=r||(i||t===c6)&&t!==c2&&0===e.strm.avail_in&&i<=a)&&(n=i>a?a:i,s=+(t===c6&&0===e.strm.avail_in&&n===i),cJ(e,e.block_start,n,s),e.block_start+=n,uy(e.strm)),s?3:1)},ux=(e,t)=>{let r,n;for(;;){if(e.lookahead<262){if(uv(e),e.lookahead<262&&t===c2)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=ug(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=u_(e,r)),e.match_length>=3)if(n=c0(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=ug(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ug(e,e.ins_h,e.window[e.strstart+1]);else n=c0(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(um(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,t===c6)?(um(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(um(e,!1),0===e.strm.avail_out)?1:2},uI=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<262){if(uv(e),e.lookahead<262&&t===c2)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=ug(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=u_(e,r),e.match_length<=5&&(e.strategy===un||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=c0(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ug(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(um(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=c0(e,0,e.window[e.strstart-1]))&&um(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=c0(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===c6)?(um(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(um(e,!1),0===e.strm.avail_out)?1:2};function uS(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}let uT=[new uS(0,0,0,0,uA),new uS(4,4,8,4,ux),new uS(4,5,16,8,ux),new uS(4,6,32,32,ux),new uS(4,4,16,16,uI),new uS(8,16,32,32,uI),new uS(8,16,128,128,uI),new uS(8,32,128,256,uI),new uS(32,128,258,1024,uI),new uS(32,258,258,4096,uI)];function uk(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=uc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*uu),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),uf(this.dyn_ltree),uf(this.dyn_dtree),uf(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),uf(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),uf(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let uN=e=>{if(!e)return 1;let t=e.state;return t&&t.strm===e&&(42===t.status||57===t.status||69===t.status||73===t.status||91===t.status||103===t.status||113===t.status||666===t.status)?0:1};var uO={deflateInit2:(e,t,r,n,i,a)=>{if(!e)return c7;let s=1;if(t===ur&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==uc||n<8||n>15||t<0||t>9||a<0||a>us||8===n&&1!==s)return ud(e,c7);8===n&&(n=9);let o=new uk;return e.state=o,o.strm=e,o.status=42,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=a,o.method=r,(e=>{let t=(e=>{if(uN(e))return ud(e,c7);e.total_in=e.total_out=0,e.data_type=ul;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=+(2!==t.wrap),t.last_flush=-2,cQ(t),c8})(e);return t===c8&&(e=>{e.window_size=2*e.w_size,uf(e.head),e.max_lazy_match=uT[e.level].max_lazy,e.good_match=uT[e.level].good_length,e.nice_match=uT[e.level].nice_length,e.max_chain_length=uT[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t})(e)},deflateSetHeader:(e,t)=>uN(e)||2!==e.state.wrap?c7:(e.state.gzhead=t,c8),deflate:(e,t)=>{if(uN(e)||t>c4||t<0)return e?ud(e,c7):c7;let r=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===r.status&&t!==c6)return ud(e,0===e.avail_out?ut:c7);let n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(uy(e),0===e.avail_out)return r.last_flush=-1,c8}else if(0===e.avail_in&&uh(t)<=uh(n)&&t!==c6)return ud(e,ut);if(666===r.status&&0!==e.avail_in)return ud(e,ut);if(42===r.status&&0===r.wrap&&(r.status=113),42===r.status){let t=uc+(r.w_bits-8<<4)<<8;if(t|=(r.strategy>=ui||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(t|=32),uw(r,t+=31-t%31),0!==r.strstart&&(uw(r,e.adler>>>16),uw(r,65535&e.adler)),e.adler=1,r.status=113,uy(e),0!==r.pending)return r.last_flush=-1,c8}if(57===r.status){if(e.adler=0,ub(r,31),ub(r,139),ub(r,8),r.gzhead)ub(r,+!!r.gzhead.text+2*!!r.gzhead.hcrc+4*!!r.gzhead.extra+8*!!r.gzhead.name+16*!!r.gzhead.comment),ub(r,255&r.gzhead.time),ub(r,r.gzhead.time>>8&255),ub(r,r.gzhead.time>>16&255),ub(r,r.gzhead.time>>24&255),ub(r,9===r.level?2:4*(r.strategy>=ui||r.level<2)),ub(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ub(r,255&r.gzhead.extra.length),ub(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=cG(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(ub(r,0),ub(r,0),ub(r,0),ub(r,0),ub(r,0),ub(r,9===r.level?2:4*(r.strategy>=ui||r.level<2)),ub(r,3),r.status=113,uy(e),0!==r.pending)return r.last_flush=-1,c8}if(69===r.status){if(r.gzhead.extra){let t=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>t&&(e.adler=cG(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex+=i,uy(e),0!==r.pending)return r.last_flush=-1,c8;t=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>t&&(e.adler=cG(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=cG(e.adler,r.pending_buf,r.pending-n,n)),uy(e),0!==r.pending)return r.last_flush=-1,c8;n=0}t=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ub(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=cG(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=cG(e.adler,r.pending_buf,r.pending-n,n)),uy(e),0!==r.pending)return r.last_flush=-1,c8;n=0}t=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ub(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=cG(e.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(uy(e),0!==r.pending))return r.last_flush=-1,c8;ub(r,255&e.adler),ub(r,e.adler>>8&255),e.adler=0}if(r.status=113,uy(e),0!==r.pending)return r.last_flush=-1,c8}if(0!==e.avail_in||0!==r.lookahead||t!==c2&&666!==r.status){let n=0===r.level?uA(r,t):r.strategy===ui?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(uv(e),0===e.lookahead)){if(t===c2)return 1;break}if(e.match_length=0,r=c0(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(um(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===c6)?(um(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(um(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===ua?((e,t)=>{let r,n,i,a,s=e.window;for(;;){if(e.lookahead<=258){if(uv(e),e.lookahead<=258&&t===c2)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+258;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=c0(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=c0(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(um(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===c6)?(um(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(um(e,!1),0===e.strm.avail_out)?1:2})(r,t):uT[r.level].func(r,t);if((3===n||4===n)&&(r.status=666),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),c8;if(2===n&&(t===c5?c1(r):t!==c4&&(cJ(r,0,0,!1),t===c3&&(uf(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),uy(e),0===e.avail_out))return r.last_flush=-1,c8}return t!==c6?c8:r.wrap<=0?c9:(2===r.wrap?(ub(r,255&e.adler),ub(r,e.adler>>8&255),ub(r,e.adler>>16&255),ub(r,e.adler>>24&255),ub(r,255&e.total_in),ub(r,e.total_in>>8&255),ub(r,e.total_in>>16&255),ub(r,e.total_in>>24&255)):(uw(r,e.adler>>>16),uw(r,65535&e.adler)),uy(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?c8:c9)},deflateEnd:e=>{if(uN(e))return c7;let t=e.state.status;return e.state=null,113===t?ud(e,ue):c8},deflateSetDictionary:(e,t)=>{let r=t.length;if(uN(e))return c7;let n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return c7;if(1===i&&(e.adler=cY(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(uf(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}let a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,uv(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do n.ins_h=ug(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++;while(--t);n.strstart=e,n.lookahead=2,uv(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,n.wrap=i,c8}};let uC=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var uB={assign:function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(let t in r)uC(r,t)&&(e[t]=r[t])}}return e},flattenChunks:e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;let r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n),n+=i.length}return r}};let uD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){uD=!1}let uR=new Uint8Array(256);for(let e=0;e<256;e++)uR[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;uR[254]=uR[254]=1;var uM={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(a=0,t=new Uint8Array(o),i=0;a<o;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},buf2string:(e,t)=>{let r,n,i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a=Array(2*i);for(n=0,r=0;r<i;){let t=e[r++];if(t<128){a[n++]=t;continue}let s=uR[t];if(s>4){a[n++]=65533,r+=s-1;continue}for(t&=2===s?31:3===s?15:7;s>1&&r<i;)t=t<<6|63&e[r++],s--;if(s>1){a[n++]=65533;continue}t<65536?a[n++]=t:(t-=65536,a[n++]=55296|t>>10&1023,a[n++]=56320|1023&t)}return((e,t)=>{if(t<65534&&e.subarray&&uD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(a,n)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+uR[e[r]]>t?r:t}},uL=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let uP=Object.prototype.toString,{Z_NO_FLUSH:uU,Z_SYNC_FLUSH:uj,Z_FULL_FLUSH:uF,Z_FINISH:uz,Z_OK:uV,Z_STREAM_END:uH,Z_DEFAULT_COMPRESSION:u$,Z_DEFAULT_STRATEGY:uq,Z_DEFLATED:uY}=cK;function uZ(e){this.options=uB.assign({level:u$,method:uY,chunkSize:16384,windowBits:15,memLevel:8,strategy:uq},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new uL,this.strm.avail_out=0;let r=uO.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==uV)throw Error(cW[r]);if(t.header&&uO.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?uM.string2buf(t.dictionary):"[object ArrayBuffer]"===uP.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=uO.deflateSetDictionary(this.strm,e))!==uV)throw Error(cW[r]);this._dict_set=!0}}function uG(e,t){let r=new uZ(t);if(r.push(e,!0),r.err)throw r.msg||cW[r.err];return r.result}uZ.prototype.push=function(e,t){let r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?uz:uU,"string"==typeof e?i.input=uM.string2buf(e):"[object ArrayBuffer]"===uP.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){if(0===i.avail_out&&(i.output=new Uint8Array(a),i.next_out=0,i.avail_out=a),(n===uj||n===uF)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if((r=uO.deflate(i,n))===uH)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=uO.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===uV;if(0===i.avail_out){this.onData(i.output);continue}if(n>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(0===i.avail_in)break}return!0},uZ.prototype.onData=function(e){this.chunks.push(e)},uZ.prototype.onEnd=function(e){e===uV&&(this.result=uB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var uW=function(e,t){let r,n,i,a,s,o,l,c,u,d,h,f,p,g,y,m,b,w,E,_,v,A,x,I,S=e.state;r=e.next_in,x=e.input,n=r+(e.avail_in-5),i=e.next_out,I=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),o=S.dmax,l=S.wsize,c=S.whave,u=S.wnext,d=S.window,h=S.hold,f=S.bits,p=S.lencode,g=S.distcode,y=(1<<S.lenbits)-1,m=(1<<S.distbits)-1;e:do for(f<15&&(h+=x[r++]<<f,f+=8,h+=x[r++]<<f,f+=8),b=p[h&y];;){if(h>>>=w=b>>>24,f-=w,0==(w=b>>>16&255))I[i++]=65535&b;else if(16&w)for(E=65535&b,(w&=15)&&(f<w&&(h+=x[r++]<<f,f+=8),E+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=x[r++]<<f,f+=8,h+=x[r++]<<f,f+=8),b=g[h&m];;){if(h>>>=w=b>>>24,f-=w,16&(w=b>>>16&255)){if(_=65535&b,f<(w&=15)&&(h+=x[r++]<<f,(f+=8)<w&&(h+=x[r++]<<f,f+=8)),(_+=h&(1<<w)-1)>o){e.msg="invalid distance too far back",S.mode=16209;break e}if(h>>>=w,f-=w,_>(w=i-a)){if((w=_-w)>c&&S.sane){e.msg="invalid distance too far back",S.mode=16209;break e}if(v=0,A=d,0===u){if(v+=l-w,w<E){E-=w;do I[i++]=d[v++];while(--w);v=i-_,A=I}}else if(u<w){if(v+=l+u-w,(w-=u)<E){E-=w;do I[i++]=d[v++];while(--w);if(v=0,u<E){E-=w=u;do I[i++]=d[v++];while(--w);v=i-_,A=I}}}else if(v+=u-w,w<E){E-=w;do I[i++]=d[v++];while(--w);v=i-_,A=I}for(;E>2;)I[i++]=A[v++],I[i++]=A[v++],I[i++]=A[v++],E-=3;E&&(I[i++]=A[v++],E>1&&(I[i++]=A[v++]))}else{v=i-_;do I[i++]=I[v++],I[i++]=I[v++],I[i++]=I[v++],E-=3;while(E>2);E&&(I[i++]=I[v++],E>1&&(I[i++]=I[v++]))}}else if((64&w)==0){b=g[(65535&b)+(h&(1<<w)-1)];continue}else{e.msg="invalid distance code",S.mode=16209;break e}break}else if((64&w)==0){b=p[(65535&b)+(h&(1<<w)-1)];continue}else if(32&w){S.mode=16191;break e}else{e.msg="invalid literal/length code",S.mode=16209;break e}break}while(r<n&&i<s);r-=E=f>>3,f-=E<<3,h&=(1<<f)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?5+(n-r):5-(r-n),e.avail_out=i<s?257+(s-i):257-(i-s),S.hold=h,S.bits=f};let uK=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uQ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),uX=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var u0=(e,t,r,n,i,a,s,o)=>{let l,c,u,d,h,f,p,g,y,m=o.bits,b=0,w=0,E=0,_=0,v=0,A=0,x=0,I=0,S=0,T=0,k=null,N=new Uint16Array(16),O=new Uint16Array(16),C=null;for(b=0;b<=15;b++)N[b]=0;for(w=0;w<n;w++)N[t[r+w]]++;for(_=15,v=m;_>=1&&0===N[_];_--);if(v>_&&(v=_),0===_)return i[a++]=0x1400000,i[a++]=0x1400000,o.bits=1,0;for(E=1;E<_&&0===N[E];E++);for(v<E&&(v=E),I=1,b=1;b<=15;b++)if(I<<=1,(I-=N[b])<0)return -1;if(I>0&&(0===e||1!==_))return -1;for(b=1,O[1]=0;b<15;b++)O[b+1]=O[b]+N[b];for(w=0;w<n;w++)0!==t[r+w]&&(s[O[t[r+w]]++]=w);if(0===e?(k=C=s,f=20):1===e?(k=uK,C=uQ,f=257):(k=uJ,C=uX,f=0),T=0,w=0,b=E,h=a,A=v,x=0,u=-1,d=(S=1<<v)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=b-x,s[w]+1<f?(g=0,y=s[w]):s[w]>=f?(g=C[s[w]-f],y=k[s[w]-f]):(g=96,y=0),l=1<<b-x,E=c=1<<A;do i[h+(T>>x)+(c-=l)]=p<<24|g<<16|y;while(0!==c);for(l=1<<b-1;T&l;)l>>=1;if(0!==l?(T&=l-1,T+=l):T=0,w++,0==--N[b]){if(b===_)break;b=t[r+s[w]]}if(b>v&&(T&d)!==u){for(0===x&&(x=v),h+=E,I=1<<(A=b-x);A+x<_&&!((I-=N[A+x])<=0);)A++,I<<=1;if(S+=1<<A,1===e&&S>852||2===e&&S>592)return 1;i[u=T&d]=v<<24|A<<16|h-a}}return 0!==T&&(i[h+T]=b-x<<24|4194304),o.bits=v,0};let{Z_FINISH:u1,Z_BLOCK:u2,Z_TREES:u5,Z_OK:u3,Z_STREAM_END:u6,Z_NEED_DICT:u4,Z_STREAM_ERROR:u8,Z_DATA_ERROR:u9,Z_MEM_ERROR:u7,Z_BUF_ERROR:de,Z_DEFLATED:dt}=cK,dr=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function dn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let di=e=>{if(!e)return 1;let t=e.state;return+(!t||t.strm!==e||t.mode<16180||t.mode>16211)},da=e=>{if(di(e))return u8;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,(e=>{if(di(e))return u8;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,u3})(e)},ds=!0,dl=e=>{if(ds){c=new Int32Array(512),u=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(u0(1,e.lens,0,288,c,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;u0(2,e.lens,0,32,u,0,e.work,{bits:5}),ds=!1}e.lencode=c,e.lenbits=9,e.distcode=u,e.distbits=5},dc=(e,t,r,n)=>{let i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};var du={inflateReset:da,inflateInit2:(e,t)=>{if(!e)return u8;let r=new dn;e.state=r,r.strm=e,r.window=null,r.mode=16180;let n=((e,t)=>{let r;if(di(e))return u8;let n=e.state;return(t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15))?u8:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,da(e))})(e,t);return n!==u3&&(e.state=null),n},inflate:(e,t)=>{let r,n,i,a,s,o,l,c,u,d,h,f,p,g,y,m,b,w,E,_,v,A,x,I,S=0,T=new Uint8Array(4),k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(di(e)||!e.output||!e.input&&0!==e.avail_in)return u8;16191===(r=e.state).mode&&(r.mode=16192),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,d=o,h=l,A=u3;t:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;u<16;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if(2&r.wrap&&35615===c){0===r.wbits&&(r.wbits=15),r.check=0,T[0]=255&c,T[1]=c>>>8&255,r.check=cG(r.check,T,2,0),c=0,u=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=16209;break}if((15&c)!==dt){e.msg="unknown compression method",r.mode=16209;break}if(c>>>=4,u-=4,v=(15&c)+8,0===r.wbits&&(r.wbits=v),v>15||v>r.wbits){e.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&c?16189:16191,c=0,u=0;break;case 16181:for(;u<16;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if(r.flags=c,(255&r.flags)!==dt){e.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,r.check=cG(r.check,T,2,0)),c=0,u=0,r.mode=16182;case 16182:for(;u<32;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.time=c),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,r.check=cG(r.check,T,4,0)),c=0,u=0,r.mode=16183;case 16183:for(;u<16;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,r.check=cG(r.check,T,2,0)),c=0,u=0,r.mode=16184;case 16184:if(1024&r.flags){for(;u<16;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,r.check=cG(r.check,T,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((f=r.length)>o&&(f=o),f&&(r.head&&(v=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),v)),512&r.flags&&4&r.wrap&&(r.check=cG(r.check,n,f,a)),o-=f,a+=f,r.length-=f),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break t;f=0;do v=n[a+f++],r.head&&v&&r.length<65536&&(r.head.name+=String.fromCharCode(v));while(v&&f<o);if(512&r.flags&&4&r.wrap&&(r.check=cG(r.check,n,f,a)),o-=f,a+=f,v)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break t;f=0;do v=n[a+f++],r.head&&v&&r.length<65536&&(r.head.comment+=String.fromCharCode(v));while(v&&f<o);if(512&r.flags&&4&r.wrap&&(r.check=cG(r.check,n,f,a)),o-=f,a+=f,v)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;u<16;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if(4&r.wrap&&c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=16209;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=16191;break;case 16189:for(;u<32;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}e.adler=r.check=dr(c),c=0,u=0,r.mode=16190;case 16190:if(0===r.havedict)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,u4;e.adler=r.check=1,r.mode=16191;case 16191:if(t===u2||t===u5)break t;case 16192:if(r.last){c>>>=7&u,u-=7&u,r.mode=16206;break}for(;u<3;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}switch(r.last=1&c,u-=1,3&(c>>>=1)){case 0:r.mode=16193;break;case 1:if(dl(r),r.mode=16199,t===u5){c>>>=2,u-=2;break t}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=16209}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&c,c=0,u=0,r.mode=16194,t===u5)break t;case 16194:r.mode=16195;case 16195:if(f=r.length){if(f>o&&(f=o),f>l&&(f=l),0===f)break t;i.set(n.subarray(a,a+f),s),o-=f,a+=f,l-=f,s+=f,r.length-=f;break}r.mode=16191;break;case 16196:for(;u<14;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if(r.nlen=(31&c)+257,u-=5,r.ndist=(31&(c>>>=5))+1,u-=5,r.ncode=(15&(c>>>=5))+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;u<3;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}r.lens[k[r.have++]]=7&c,c>>>=3,u-=3}for(;r.have<19;)r.lens[k[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,x={bits:r.lenbits},A=u0(0,r.lens,0,19,r.lencode,0,r.work,x),r.lenbits=x.bits,A){e.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;y=(S=r.lencode[c&(1<<r.lenbits)-1])>>>24,m=S>>>16&255,b=65535&S,!(y<=u);){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if(b<16)c>>>=y,u-=y,r.lens[r.have++]=b;else{if(16===b){for(I=y+2;u<I;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if(c>>>=y,u-=y,0===r.have){e.msg="invalid bit length repeat",r.mode=16209;break}v=r.lens[r.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===b){for(I=y+3;u<I;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,v=0,f=3+(7&c),c>>>=3,u-=3}else{for(I=y+7;u<I;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,v=0,f=11+(127&c),c>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=16209;break}for(;f--;)r.lens[r.have++]=v}}if(16209===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,x={bits:r.lenbits},A=u0(1,r.lens,0,r.nlen,r.lencode,0,r.work,x),r.lenbits=x.bits,A){e.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,x={bits:r.distbits},A=u0(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,x),r.distbits=x.bits,A){e.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,t===u5)break t;case 16199:r.mode=16200;case 16200:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,uW(e,h),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;y=(S=r.lencode[c&(1<<r.lenbits)-1])>>>24,m=S>>>16&255,b=65535&S,!(y<=u);){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if(m&&(240&m)==0){for(w=y,E=m,_=b;y=(S=r.lencode[_+((c&(1<<w+E)-1)>>w)])>>>24,m=S>>>16&255,b=65535&S,!(w+y<=u);){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}c>>>=w,u-=w,r.back+=w}if(c>>>=y,u-=y,r.back+=y,r.length=b,0===m){r.mode=16205;break}if(32&m){r.back=-1,r.mode=16191;break}if(64&m){e.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&m,r.mode=16201;case 16201:if(r.extra){for(I=r.extra;u<I;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;y=(S=r.distcode[c&(1<<r.distbits)-1])>>>24,m=S>>>16&255,b=65535&S,!(y<=u);){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if((240&m)==0){for(w=y,E=m,_=b;y=(S=r.distcode[_+((c&(1<<w+E)-1)>>w)])>>>24,m=S>>>16&255,b=65535&S,!(w+y<=u);){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}c>>>=w,u-=w,r.back+=w}if(c>>>=y,u-=y,r.back+=y,64&m){e.msg="invalid distance code",r.mode=16209;break}r.offset=b,r.extra=15&m,r.mode=16203;case 16203:if(r.extra){for(I=r.extra;u<I;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===l)break t;if(f=h-l,r.offset>f){if((f=r.offset-f)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=16209;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=i,p=s-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[s++]=g[p++];while(--f);0===r.length&&(r.mode=16200);break;case 16205:if(0===l)break t;i[s++]=r.length,l--,r.mode=16200;break;case 16206:if(r.wrap){for(;u<32;){if(0===o)break t;o--,c|=n[a++]<<u,u+=8}if(h-=l,e.total_out+=h,r.total+=h,4&r.wrap&&h&&(e.adler=r.check=r.flags?cG(r.check,i,h,s-h):cY(r.check,i,h,s-h)),h=l,4&r.wrap&&(r.flags?c:dr(c))!==r.check){e.msg="incorrect data check",r.mode=16209;break}c=0,u=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;u<32;){if(0===o)break t;o--,c+=n[a++]<<u,u+=8}if(4&r.wrap&&c!==(0|r.total)){e.msg="incorrect length check",r.mode=16209;break}c=0,u=0}r.mode=16208;case 16208:A=u6;break t;case 16209:A=u9;break t;case 16210:return u7;default:return u8}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,(r.wsize||h!==e.avail_out&&r.mode<16209&&(r.mode<16206||t!==u1))&&dc(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,r.total+=h,4&r.wrap&&h&&(e.adler=r.check=r.flags?cG(r.check,i,h,e.next_out-h):cY(r.check,i,h,e.next_out-h)),e.data_type=r.bits+64*!!r.last+128*(16191===r.mode)+256*(16199===r.mode||16194===r.mode),(0===d&&0===h||t===u1)&&A===u3&&(A=de),A},inflateEnd:e=>{if(di(e))return u8;let t=e.state;return t.window&&(t.window=null),e.state=null,u3},inflateGetHeader:(e,t)=>{if(di(e))return u8;let r=e.state;return(2&r.wrap)==0?u8:(r.head=t,t.done=!1,u3)},inflateSetDictionary:(e,t)=>{let r,n=t.length;return di(e)||0!==(r=e.state).wrap&&16190!==r.mode?u8:16190===r.mode&&cY(1,t,n,0)!==r.check?u9:dc(e,t,n,n)?(r.mode=16210,u7):(r.havedict=1,u3)}},dd=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let dh=Object.prototype.toString,{Z_NO_FLUSH:df,Z_FINISH:dp,Z_OK:dg,Z_STREAM_END:dy,Z_NEED_DICT:dm,Z_STREAM_ERROR:db,Z_DATA_ERROR:dw,Z_MEM_ERROR:dE}=cK;function d_(e){this.options=uB.assign({chunkSize:65536,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new uL,this.strm.avail_out=0;let r=du.inflateInit2(this.strm,t.windowBits);if(r!==dg||(this.header=new dd,du.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=uM.string2buf(t.dictionary):"[object ArrayBuffer]"===dh.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(r=du.inflateSetDictionary(this.strm,t.dictionary))!==dg))throw Error(cW[r])}function dv(e,t){let r=new d_(t);if(r.push(e),r.err)throw r.msg||cW[r.err];return r.result}d_.prototype.push=function(e,t){let r,n,i,a=this.strm,s=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?dp:df,"[object ArrayBuffer]"===dh.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),(r=du.inflate(a,n))===dm&&o&&((r=du.inflateSetDictionary(a,o))===dg?r=du.inflate(a,n):r===dw&&(r=dm));a.avail_in>0&&r===dy&&a.state.wrap>0&&0!==e[a.next_in];)du.inflateReset(a),r=du.inflate(a,n);switch(r){case db:case dw:case dm:case dE:return this.onEnd(r),this.ended=!0,!1}if(i=a.avail_out,a.next_out&&(0===a.avail_out||r===dy))if("string"===this.options.to){let e=uM.utf8border(a.output,a.next_out),t=a.next_out-e,r=uM.buf2string(a.output,e);a.next_out=t,a.avail_out=s-t,t&&a.output.set(a.output.subarray(e,e+t),0),this.onData(r)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(r!==dg||0!==i){if(r===dy)return r=du.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},d_.prototype.onData=function(e){this.chunks.push(e)},d_.prototype.onEnd=function(e){e===dg&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=uB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};let{Deflate:dA,deflate:dx,deflateRaw:dI,gzip:dS}={Deflate:uZ,deflate:uG,deflateRaw:function(e,t){return(t=t||{}).raw=!0,uG(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,uG(e,t)},constants:cK},{Inflate:dT,inflate:dk,inflateRaw:dN,ungzip:dO}={Inflate:d_,inflate:dv,inflateRaw:function(e,t){return(t=t||{}).raw=!0,dv(e,t)},ungzip:dv,constants:cK};class dC extends aY{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");aM(e.outputLen),aM(e.blockLen)}(e);let r=aq(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return aP(this),this.iHash.update(e),this}digestInto(e){aP(this),aL(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let dB=(e,t,r)=>new dC(e,t).update(r).digest();dB.create=(e,t)=>new dC(e,t);let dD=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),dR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dM=BigInt(1),dL=BigInt(2),dP=(e,t)=>(e+t/dL)/t,dU=lQ(dD,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),o=BigInt(88),l=e*e*e%dD,c=l*l*e%dD,u=lq(c,t,dD)*c%dD,d=lq(u,t,dD)*c%dD,h=lq(d,dL,dD)*l%dD,f=lq(h,n,dD)*h%dD,p=lq(f,i,dD)*f%dD,g=lq(p,s,dD)*p%dD,y=lq(g,o,dD)*g%dD,m=lq(y,s,dD)*p%dD,b=lq(m,t,dD)*c%dD,w=lq(b,a,dD)*f%dD,E=lq(w,r,dD)*l%dD,_=lq(E,dL,dD);if(!dU.eql(dU.sqr(_),e))throw Error("Cannot find square root");return _}}),dj=function(e,t){let r=t=>ch({...e,hash:t,hmac:(e,...r)=>dB(t,e,function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];aL(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:aG});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:dU,n:dR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-dM*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),a=dP(t*e,dR),s=dP(-r*e,dR),o=l$(e-a*t-s*n,dR),l=l$(-a*r-s*t,dR),c=o>i,u=l>i;if(c&&(o=dR-o),u&&(l=dR-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:c,k1:o,k2neg:u,k2:l}}}},a2),dF=(BigInt(0),dj.ProjectivePoint,(e,t,r=[])=>{let n=Object.getOwnPropertyDescriptors(t);for(let e of r)delete n[e];Object.defineProperties(e,n)}),dz=(e,t=[e])=>{let r=Object.getPrototypeOf(e);return null===r?t:dz(r,[...t,r])},dV=(e,t,r=[])=>{var n;let i=null!=(n=((...e)=>{let t;if(0===e.length)return;let r=e.map(e=>dz(e));for(;r.every(e=>e.length>0);){let e=r.map(e=>e.pop()),n=e[0];if(e.every(e=>e===n))t=n;else break}return t})(...e))?n:Object.prototype,a=Object.create(i),s=dz(i);for(let t of e){let e=dz(t);for(let t=e.length-1;t>=0;t--){let n=e[t];-1===s.indexOf(n)&&(dF(a,n,["constructor",...r]),s.push(n))}}return a.constructor=t,a},dH=e=>e.filter((t,r)=>e.indexOf(t)==r),d$=(e,t)=>{let r=t.map(e=>dz(e)),n=0,i=!0;for(;i;){i=!1;for(let a=t.length-1;a>=0;a--){let t=r[a][n];if(null!=t&&(i=!0,void 0!=Object.getOwnPropertyDescriptor(t,e)))return r[a][0]}n++}},dq=(e,t=Object.prototype)=>new Proxy({},{getPrototypeOf:()=>t,setPrototypeOf(){throw Error("Cannot set prototype of Proxies created by ts-mixer")},getOwnPropertyDescriptor:(t,r)=>Object.getOwnPropertyDescriptor(d$(r,e)||{},r),defineProperty(){throw Error("Cannot define new properties on Proxies created by ts-mixer")},has:(r,n)=>void 0!==d$(n,e)||void 0!==t[n],get:(r,n)=>(d$(n,e)||t)[n],set(t,r,n){let i=d$(r,e);if(void 0===i)throw Error("Cannot set new properties on Proxies created by ts-mixer");return i[r]=n,!0},deleteProperty(){throw Error("Cannot delete properties on Proxies created by ts-mixer")},ownKeys:()=>e.map(Object.getOwnPropertyNames).reduce((e,t)=>t.concat(e.filter(e=>0>t.indexOf(e))))}),dY={initFunction:null,staticsStrategy:"copy",prototypeStrategy:"copy",decoratorInheritance:"deep"},dZ=new WeakMap,dG=e=>dZ.get(e),dW=(e,t)=>{var r,n;let i=dH([...Object.getOwnPropertyNames(e),...Object.getOwnPropertyNames(t)]),a={};for(let s of i)a[s]=dH([...null!=(r=null==e?void 0:e[s])?r:[],...null!=(n=null==t?void 0:t[s])?n:[]]);return a},dK=(e,t)=>{var r,n,i,a;return{property:dW(null!=(r=null==e?void 0:e.property)?r:{},null!=(n=null==t?void 0:t.property)?n:{}),method:dW(null!=(i=null==e?void 0:e.method)?i:{},null!=(a=null==t?void 0:t.method)?a:{})}},dQ=(e,t)=>{var r,n,i,a,s,o;return{class:dH([...null!=(r=null==e?void 0:e.class)?r:[],...null!=(n=null==t?void 0:t.class)?n:[]]),static:dK(null!=(i=null==e?void 0:e.static)?i:{},null!=(a=null==t?void 0:t.static)?a:{}),instance:dK(null!=(s=null==e?void 0:e.instance)?s:{},null!=(o=null==t?void 0:t.instance)?o:{})}},dJ=new Map;function dX(...e){var t,r,n;let i,a=e.map(e=>e.prototype),s=dY.initFunction;if(null!==s){let e=a.map(e=>e[s]).filter(e=>"function"==typeof e);a.push({[s]:function(...t){for(let r of e)r.apply(this,t)}})}function o(...t){for(let r of e)dF(this,new r(...t));null!==s&&"function"==typeof this[s]&&this[s].apply(this,t)}o.prototype="copy"===dY.prototypeStrategy?dV(a,o):dq([...a,{constructor:o}]),Object.setPrototypeOf(o,"copy"===dY.staticsStrategy?dV(e,null,["prototype"]):dq(e,Function.prototype));let l=o;if("none"!==dY.decoratorInheritance){let i="deep"===dY.decoratorInheritance?((...e)=>{let t=((...e)=>{var t;let r=new Set,n=new Set([...e]);for(;n.size>0;)for(let e of n){for(let i of[...dz(e.prototype).map(e=>e.constructor),...null!=(t=dG(e))?t:[]].filter(e=>!r.has(e)))n.add(i);r.add(e),n.delete(e)}return[...r]})(...e).map(e=>dJ.get(e)).filter(e=>!!e);return 0==t.length?{}:1==t.length?t[0]:t.reduce((e,t)=>dQ(e,t))})(...e):((...e)=>{let t=e.map(e=>{var t;let r;return t=e,(r=dJ.get(t))||(r={},dJ.set(t,r)),r});return 0===t.length?{}:1===t.length?t[0]:t.reduce((e,t)=>dQ(e,t))})(...e);for(let e of null!=(t=null==i?void 0:i.class)?t:[]){let t=e(l);t&&(l=t)}d0(null!=(r=null==i?void 0:i.static)?r:{},l),d0(null!=(n=null==i?void 0:i.instance)?n:{},l.prototype)}return i=l,dZ.set(i,e),l}let d0=(e,t)=>{let r=e.property,n=e.method;if(r)for(let e in r)for(let n of r[e])n(t,e);if(n)for(let e in n)for(let r of n[e])r(t,e,Object.getOwnPropertyDescriptor(t,e))};r(92159).Buffer;var d1=Object.defineProperty,d2=Object.getOwnPropertyDescriptor,d5=Object.getOwnPropertyNames,d3=Object.prototype.hasOwnProperty,d6=(e,t)=>{for(var r in t)d1(e,r,{get:t[r],enumerable:!0})},d4=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of d5(t))d3.call(e,i)||i===r||d1(e,i,{get:()=>t[i],enumerable:!(n=d2(t,i))||n.enumerable});return e},d8={};d6(d8,{ADDR_BOUND:()=>hv,API_VERSION:()=>hw,BaseUrl:()=>hD,DEFAULT_GLOBAL_CONFIG:()=>hU,HARDENING_4BYTES:()=>hB,HARDENING_BYTE:()=>hC,IS_BROWSER:()=>he,MASK_250:()=>hm,MASK_31:()=>hb,MAX_STORAGE_ITEM_SIZE:()=>h_,NetworkName:()=>hR,OutsideExecutionCallerAny:()=>hk,PAYMASTER_RPC_NODES:()=>hF,PRIME:()=>hE,RANGE_FELT:()=>hx,RANGE_I128:()=>hI,RANGE_U128:()=>hS,RPC_DEFAULT_NODES:()=>hj,SNIP9_V1_INTERFACE_ID:()=>hN,SNIP9_V2_INTERFACE_ID:()=>hO,SYSTEM_MESSAGES:()=>hz,StarknetChainId:()=>hM,SupportedRpcVersion:()=>hP,TEXT_TO_FELT_MAX_LEN:()=>hp,TRANSACTION_VERSION:()=>hg,TransactionHashPrefix:()=>hL,UDC:()=>hT,ZERO:()=>hy});var d9={};d6(d9,{JRPC:()=>d7,PAYMASTER_API:()=>I,RPCSPEC07:()=>_,RPCSPEC08:()=>S});var d7={};((e,t,r)=>(d4(e,t,"default"),r&&d4(r,t,"default")))(d9,S),d6({},{IS_BROWSER:()=>he,addHexPrefix:()=>ho,arrayBufferToString:()=>ht,atobUniversal:()=>hn,btoaUniversal:()=>hi,buf2hex:()=>ha,calcByteLength:()=>hc,concatenateArrayBuffer:()=>hf,padLeft:()=>hl,pascalToSnake:()=>hh,removeHexPrefix:()=>hs,sanitizeBytes:()=>hu,sanitizeHex:()=>hd,utf8ToArray:()=>hr});var he="undefined"!=typeof window;function ht(e){return new Uint8Array(e).reduce((e,t)=>e+String.fromCharCode(t),"")}function hr(e){return new TextEncoder().encode(e)}function hn(e){return iC.decode(e)}function hi(e){return iC.encode(new Uint8Array(e))}function ha(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}function hs(e){return e.replace(/^0x/i,"")}function ho(e){return`0x${hs(e)}`}function hl(e,t,r="0"){return function(e,t,r,n="0"){let i=t-e.length,a=e;if(i>0){let t=n.repeat(i);a=r?t+e:e+t}return a}(e,t,!0,r)}function hc(e,t=8){let{length:r}=e,n=r%t;return n?(r-n)/t*t+t:r}function hu(e,t=8,r="0"){return hl(e,hc(e,t),r)}function hd(e){let t=hu(hs(e),2);return t?ho(t):t}var hh=e=>/[a-z]/.test(e)?e.split(/(?=[A-Z])/).join("_").toUpperCase():e;function hf(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.byteLength,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.byteLength}),t}var hp=31,{ETransactionVersion:hg}=S,hy=0n,hm=2n**250n-1n,hb=2n**31n-1n,hw=hy,hE=2n**251n+17n*2n**192n+1n,h_=256n,hv=2n**251n-h_,hA=(e,t)=>({min:e,max:t}),hx=hA(hy,hE-1n),hI=hA(-(2n**127n),2n**127n-1n),hS=hA(hy,2n**128n-1n),hT={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},hk="0x414e595f43414c4c4552",hN="0x68cfd18b92d1907b8ba3cc324900277f5a3622099431ea85dd8089255e4181",hO="0x1d1144bb2138366ff28d8e9ab57456b1d332ac42196230c3a602003c89872",hC=128,hB=2147483648n,hD={SN_MAIN:"https://alpha-mainnet.starknet.io",SN_SEPOLIA:"https://alpha-sepolia.starknet.io"},hR={SN_MAIN:"SN_MAIN",SN_SEPOLIA:"SN_SEPOLIA"},hM={SN_MAIN:"0x534e5f4d41494e",SN_SEPOLIA:"0x534e5f5345504f4c4941"},hL={DECLARE:"0x6465636c617265",DEPLOY:"0x6465706c6f79",DEPLOY_ACCOUNT:"0x6465706c6f795f6163636f756e74",INVOKE:"0x696e766f6b65",L1_HANDLER:"0x6c315f68616e646c6572"},hP={"0.7.1":"0.7.1","0.8.1":"0.8.1",v0_7_1:"0.7.1",v0_8_1:"0.8.1"},hU={legacyMode:!1,rpcVersion:"0.8.1",transactionVersion:d9.ETransactionVersion.V3,logLevel:"INFO",feeMarginPercentage:{bounds:{l1_gas:{max_amount:50,max_price_per_unit:50},l1_data_gas:{max_amount:50,max_price_per_unit:50},l2_gas:{max_amount:50,max_price_per_unit:50}},maxFee:50},fetch:void 0,websocket:void 0},hj={SN_MAIN:["https://starknet-mainnet.public.blastapi.io/rpc/"],SN_SEPOLIA:["https://starknet-sepolia.public.blastapi.io/rpc/"]},hF={SN_MAIN:["https://starknet.paymaster.avnu.fi"],SN_SEPOLIA:["https://sepolia.paymaster.avnu.fi"]},hz={legacyTxWarningMessage:"You are using a deprecated transaction version (V0,V1,V2)!\nUpdate to the latest V3 transactions!",legacyTxRPC08Message:"RPC 0.8 do not support legacy transactions",SWOldV3:"RPC 0.7 V3 tx (improper resource bounds) not supported in RPC 0.8",channelVersionMismatch:"Channel specification version is not compatible with the connected node Specification Version",unsupportedSpecVersion:"The connected node specification version is not supported by this library",maxFeeInV3:"maxFee is not supported in V3 transactions, use resourceBounds instead"},hV=(class e{static instance;config;constructor(){this.initialize()}initialize(){this.config={...hU}}static getInstance(){return e.instance||(e.instance=new e),e.instance}get(e,t){return this.config[e]??t}set(e,t){this.config[e]=t}update(e){this.config={...this.config,...e}}getAll(){return{...this.config}}reset(){this.initialize()}delete(e){delete this.config[e]}hasKey(e){return e in this.config}}).getInstance(),hH={DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,OFF:0},h$=(class e{static instance;config;constructor(){this.config=hV}static getInstance(){return e.instance||(e.instance=new e),e.instance}getTimestamp(){return new Date().toISOString()}shouldLog(e){return e<=hH[this.config.get("logLevel","INFO")]}formatMessage(e){let{level:t,message:r,timestamp:n,data:i}=e,a=`[${n}] ${t}: ${r}`;if(i)try{a+=`
${JSON.stringify(i,null,2)}`}catch(e){a+=`
[JSON.stringify Error/Circular]: ${e}`}return a}log(e,t,r){if(!this.shouldLog(hH[e]))return;let n={level:e,message:t,timestamp:this.getTimestamp(),data:r},i=this.formatMessage(n);switch(e){case"DEBUG":console.debug(i);break;case"INFO":console.info(i);break;case"WARN":console.warn(i);break;case"ERROR":case"FATAL":console.error(i);break;case"OFF":break;default:console.log(i)}}debug(e,t){this.log("DEBUG",e,t)}info(e,t){this.log("INFO",e,t)}warn(e,t){this.log("WARN",e,t)}error(e,t){this.log("ERROR",e,t)}fatal(e,t){this.log("FATAL",e,t)}setLogLevel(e){this.config.set("logLevel",e)}getLogLevel(){return this.config.get("logLevel","INFO")}getEnabledLogLevels(){return Object.keys(hH).filter(e=>this.shouldLog(hH[e])&&"OFF"!==e)}}).getInstance(),hq={};d6(hq,{RpcChannel:()=>yo}),d6({},{BlockStatus:()=>hK,BlockTag:()=>hQ,EDAMode:()=>h2,EDataAvailabilityMode:()=>h1,ETH_ADDRESS:()=>fe,ETransactionExecutionStatus:()=>h4,ETransactionStatus:()=>h6,ETransactionVersion:()=>hJ,ETransactionVersion2:()=>hX,ETransactionVersion3:()=>h0,EntryPointType:()=>hY,Literal:()=>h7,NON_ZERO_PREFIX:()=>ft,OutsideExecutionTypesV1:()=>fr,OutsideExecutionTypesV2:()=>fn,OutsideExecutionVersion:()=>fi,RPC:()=>d9,TransactionExecutionStatus:()=>hW,TransactionFinalityStatus:()=>hG,TransactionType:()=>hZ,TypedDataRevision:()=>nH,Uint:()=>h9,ValidateType:()=>h8,isRPC08_FeeEstimate:()=>h5,isRPC08_ResourceBounds:()=>h3});var hY={EXTERNAL:"EXTERNAL",L1_HANDLER:"L1_HANDLER",CONSTRUCTOR:"CONSTRUCTOR"},hZ={DECLARE:"DECLARE",DEPLOY:"DEPLOY",DEPLOY_ACCOUNT:"DEPLOY_ACCOUNT",INVOKE:"INVOKE_FUNCTION"},hG={NOT_RECEIVED:"NOT_RECEIVED",RECEIVED:"RECEIVED",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"},hW={REJECTED:"REJECTED",REVERTED:"REVERTED",SUCCEEDED:"SUCCEEDED"},hK={PENDING:"PENDING",ACCEPTED_ON_L1:"ACCEPTED_ON_L1",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",REJECTED:"REJECTED"},hQ={PENDING:"pending",LATEST:"latest"},{ETransactionVersion:hJ}=S,{ETransactionVersion2:hX}=S,{ETransactionVersion3:h0}=S,{EDataAvailabilityMode:h1}=S,{EDAMode:h2}=S;function h5(e){return"l1_data_gas_consumed"in e}function h3(e){return"l1_data_gas"in e}var{ETransactionStatus:h6}=S,{ETransactionExecutionStatus:h4}=S,h8={DEPLOY:"DEPLOY",CALL:"CALL",INVOKE:"INVOKE"},h9={u8:"core::integer::u8",u16:"core::integer::u16",u32:"core::integer::u32",u64:"core::integer::u64",u128:"core::integer::u128",u256:"core::integer::u256",u512:"core::integer::u512"},h7={ClassHash:"core::starknet::class_hash::ClassHash",ContractAddress:"core::starknet::contract_address::ContractAddress",Secp256k1Point:"core::starknet::secp256k1::Secp256k1Point",U96:"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"},fe="core::starknet::eth_address::EthAddress",ft="core::zeroable::NonZero::",fr={StarkNetDomain:[{name:"name",type:"felt"},{name:"version",type:"felt"},{name:"chainId",type:"felt"}],OutsideExecution:[{name:"caller",type:"felt"},{name:"nonce",type:"felt"},{name:"execute_after",type:"felt"},{name:"execute_before",type:"felt"},{name:"calls_len",type:"felt"},{name:"calls",type:"OutsideCall*"}],OutsideCall:[{name:"to",type:"felt"},{name:"selector",type:"felt"},{name:"calldata_len",type:"felt"},{name:"calldata",type:"felt*"}]},fn={StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],OutsideExecution:[{name:"Caller",type:"ContractAddress"},{name:"Nonce",type:"felt"},{name:"Execute After",type:"u128"},{name:"Execute Before",type:"u128"},{name:"Calls",type:"Call*"}],Call:[{name:"To",type:"ContractAddress"},{name:"Selector",type:"selector"},{name:"Calldata",type:"felt*"}]},fi={UNSUPPORTED:"0",V1:"1",V2:"2"};d6({},{parse:()=>fs,parseAlwaysAsBig:()=>fo,stringify:()=>fl});var fa=e=>{if(!iB(e))return parseFloat(e);let t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},fs=e=>iF(String(e),void 0,fa),fo=e=>iF(String(e),void 0,ij),fl=(e,t,r,n)=>(function e(t,r,n,i){var a;let s="number"==typeof(a=n)?" ".repeat(a):"string"==typeof a&&""!==a?a:void 0;return function t(a,o){if(Array.isArray(i)){let e=i.find(e=>e.test(a));if(e){let t=e.stringify(a);if("string"!=typeof t||!iR.test(t))throw Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${t})`);return t}}return"boolean"==typeof a||"number"==typeof a||"string"==typeof a||null===a||a instanceof Date||a instanceof Boolean||a instanceof Number||a instanceof String?JSON.stringify(a):a?.isLosslessNumber||"bigint"==typeof a?a.toString():Array.isArray(a)?function(e,n){if(0===e.length)return"[]";let i=s?n+s:void 0,a=s?"[\n":"[";for(let n=0;n<e.length;n++){let o="function"==typeof r?r.call(e,String(n),e[n]):e[n];s&&(a+=i),void 0!==o&&"function"!=typeof o?a+=t(o,i):a+="null",n<e.length-1&&(a+=s?",\n":",")}return a+(s?`
${n}]`:"]")}(a,o):a&&"object"==typeof a?function(i,a){if("function"==typeof i.toJSON)return e(i.toJSON(),r,n,void 0);let o=Array.isArray(r)?r.map(String):Object.keys(i);if(0===o.length)return"{}";let l=s?a+s:void 0,c=!0,u=s?"{\n":"{";for(let e of o){var d,h;let n="function"==typeof r?r.call(i,e,i[e]):i[e];if(d=0,void 0!==(h=n)&&"function"!=typeof h&&"symbol"!=typeof h){c?c=!1:u+=s?",\n":",";let r=JSON.stringify(e);u+=s?`${l+r}: `:`${r}:`,u+=t(n,l)}}return u+(s?`
${a}}`:"}")}(a,o):void 0}("function"==typeof r?r.call({"":t},"",t):t,"")})(e,t,r,n),fc=class{nodeUrl;headers;interval;requestId=0;pendingRequests={};batchPromises={};delayTimer;delayPromise;delayPromiseResolve;baseFetch;constructor(e){this.nodeUrl=e.nodeUrl,this.headers=e.headers,this.interval=e.interval,this.baseFetch=e.baseFetch}async wait(){return this.delayPromise&&this.delayPromiseResolve||(this.delayPromise=new Promise(e=>{this.delayPromiseResolve=e})),this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0),this.delayTimer=setTimeout(()=>{this.delayPromiseResolve&&(this.delayPromiseResolve(),this.delayPromise=void 0,this.delayPromiseResolve=void 0)},this.interval),this.delayPromise}addPendingRequest(e,t,r){let n={id:r??`batched_${this.requestId+=1}`,jsonrpc:"2.0",method:e,params:t??void 0};return this.pendingRequests[n.id]=n,n.id}async sendBatch(e){return(await this.baseFetch(this.nodeUrl,{method:"POST",body:fl(e),headers:this.headers})).json()}async fetch(e,t,r){let n=this.addPendingRequest(e,t,r);await this.wait();let i=this.pendingRequests;if(this.pendingRequests={},!this.batchPromises[n]){let e=this.sendBatch(Object.values(i));Object.keys(i).forEach(t=>{this.batchPromises[t]=e})}let a=await this.batchPromises[n];delete this.batchPromises[n];let s=a.find(e=>e.id===n);if(!s)throw Error(`Couldn't find the result for the request. Method: ${e}`);return s}};function fu(e,t){if(!e)throw Error(t||"Assertion failure")}function fd(e,t){if(!e)if(0===t.length)t();else throw Error("AssertionX failure: message function should not require arguments")}d6({},{addPercent:()=>fL,assertInRange:()=>fT,bigNumberishArrayToDecimalStringArray:()=>fk,bigNumberishArrayToHexadecimalStringArray:()=>fN,cleanHex:()=>fS,getDecimalString:()=>fC,getHexString:()=>fB,getHexStringArray:()=>fD,hexToBytes:()=>fM,hexToDecimalString:()=>fI,isBigNumberish:()=>fU,isHex:()=>fb,isStringWholeNumber:()=>fO,stringToSha256ToArrayBuff4:()=>fP,toBigInt:()=>fw,toCairoBool:()=>fR,toHex:()=>f_,toHex64:()=>fx,toHexString:()=>fv,toStorageKey:()=>fA,tryToBigInt:()=>fE});var fh=e=>void 0===e||void 0===e;function ff(e){return"number"==typeof e}function fp(e){return"boolean"==typeof e}function fg(e){return"bigint"==typeof e}function fy(e){return"string"==typeof e}function fm(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function fb(e){return/^0x[0-9a-f]*$/i.test(e)}function fw(e){return BigInt(e)}function fE(e){return e?BigInt(e):void 0}function f_(e){return ho(fw(e).toString(16))}var fv=f_;function fA(e){return ho(fw(e).toString(16).padStart(64,"0"))}function fx(e){let t=ho(fw(e).toString(16).padStart(64,"0"));if(66!==t.length)throw TypeError("number is too big for hex 0x(64) representation");return t}function fI(e){return BigInt(ho(e)).toString(10)}function fS(e){return e.toLowerCase().replace(/^(0x)0+/,"$1")}function fT(e,t,r,n=""){let i=""===n?"invalid length":`invalid ${n} length`,a=BigInt(e),s=BigInt(t),o=BigInt(r);fu(a>=s&&a<=o,`Message not signable, ${i}.`)}function fk(e){return e.map(e=>fw(e).toString(10))}function fN(e){return e.map(e=>f_(e))}function fO(e){return/^\d+$/.test(e)}function fC(e){if(fb(e))return fI(e);if(fO(e))return e;throw Error(`${e} needs to be a hex-string or whole-number-string`)}function fB(e){if(fb(e))return e;if(fO(e))return fv(e);throw Error(`${e} needs to be a hex-string or whole-number-string`)}function fD(e){return e.map(fB)}function fR(e){return(+e).toString()}function fM(e){if(!fb(e))throw Error(`${e} needs to be a hex-string`);let t=hs(e);return t.length%2!=0&&(t=`0${t}`),am(t)}function fL(e,t){let r=BigInt(e);return r+r*BigInt(t)/100n}function fP(e){return fM(f_(Number(BigInt(ho(ha(a2(e))))&hb)))}function fU(e){return ff(e)||fg(e)||fy(e)&&(fb(e)||fO(e))}function fj(e){let t=hs(f_(BigInt(e)));return ho(ll(fM(ho(t.length%2==0?t:`0${t}`))).toString(16))}function fF(e){return BigInt(ho(ll(hr(e)).toString(16)))&hm}function fz(e){return f_(fF(e))}function fV(e){return ff(e)||fg(e)?f_(e):fb(e)?e:fO(e)?f_(e):fz(e)}function fH(e){let t=ho(e.reduce((e,t)=>e+hs(f_(t)).padStart(64,"0"),""));return ho(ah(lL(fM(t))))}function f$(e,t,r,n,i){return fH([e,t,i,r,n.length,...n])}function fq(e,t,r){return fH([e,t,r.length,...r])}function fY(e){return/^[\x00-\x7F]*$/.test(e)}function fZ(e){return e.length<=hp}function fG(e){return/^[0-9]*$/i.test(e)}function fW(e){return fy(e)&&!fb(e)&&!fO(e)}d6({},{getL1MessageHash:()=>fq,getL2MessageHash:()=>f$,getSelector:()=>fV,getSelectorFromName:()=>fz,keccakBn:()=>fj,solidityUint256PackedKeccak256:()=>fH,starknetKeccak:()=>fF}),d6({},{decodeShortString:()=>f0,encodeShortString:()=>fX,isASCII:()=>fY,isDecimalString:()=>fG,isLongText:()=>fQ,isShortString:()=>fZ,isShortText:()=>fK,isText:()=>fW,splitLongString:()=>fJ});var fK=e=>fW(e)&&fZ(e),fQ=e=>fW(e)&&!fZ(e);function fJ(e){let t=RegExp(`[^]{1,${hp}}`,"g");return e.match(t)||[]}function fX(e){if(!fY(e))throw Error(`${e} is not an ASCII string`);if(!fZ(e))throw Error(`${e} is too long`);return ho(e.replace(/./g,e=>e.charCodeAt(0).toString(16)))}function f0(e){if(!fY(e))throw Error(`${e} is not an ASCII string`);if(fb(e))return hs(e).replace(/.{2}/g,e=>String.fromCharCode(parseInt(e,16)));if(fG(e))return f0("0X".concat(BigInt(e).toString(16)));throw Error(`${e} is not Hex or decimal`)}function f1(e){let t=0n===BigInt(e.pending_word)?"":f0(f_(e.pending_word));return e.data.reduce((e,t)=>e+(0n===BigInt(t)?"":f0(f_(t))),"")+t}function f2(e){let t=fJ(e),r=t[t.length-1],n=t.map(fX),[i,a]=void 0===r||31===r.length?["0x00",0]:[n.pop(),r.length];return{data:0===n.length?[]:n,pending_word:i,pending_word_len:a}}function f5(e){if(fg(e)||Number.isInteger(e))return e.toString();if(fy(e)){if(fb(e))return BigInt(e).toString();if(fW(e)){if(!fZ(e))throw Error(`${e} is a long string > 31 chars. Please split it into an array of short strings.`);return BigInt(fX(e)).toString()}if(fO(e))return e}if(fp(e))return`${+e}`;throw Error(`${e} can't be computed by felt()`)}d6({},{byteArrayFromString:()=>f2,stringFromByteArray:()=>f1}),d6({},{felt:()=>pS,getAbiContractVersion:()=>pv,getArrayType:()=>pw,isCairo1Abi:()=>pE,isCairo1Type:()=>pb,isLen:()=>f7,isTypeArray:()=>pt,isTypeBool:()=>pd,isTypeByteArray:()=>pg,isTypeBytes31:()=>pp,isTypeContractAddress:()=>ph,isTypeEnum:()=>pa,isTypeEthAddress:()=>pf,isTypeFelt:()=>pe,isTypeLiteral:()=>pu,isTypeNamedTuple:()=>pn,isTypeNonZero:()=>p_,isTypeOption:()=>ps,isTypeResult:()=>po,isTypeSecp256k1Point:()=>pm,isTypeStruct:()=>pi,isTypeTuple:()=>pr,isTypeU96:()=>py,isTypeUint:()=>pl,isTypeUint256:()=>pc,tuple:()=>pI,uint256:()=>pA,uint512:()=>px});var f3=(1n<<128n)-1n,f6=(1n<<256n)-1n,f4=class e{low;high;static abiSelector="core::integer::u256";constructor(...t){if("object"==typeof t[0]&&1===t.length&&"low"in t[0]&&"high"in t[0]){let r=e.validateProps(t[0].low,t[0].high);this.low=r.low,this.high=r.high}else if(1===t.length){let r=e.validate(t[0]);this.low=r&f3,this.high=r>>128n}else if(2===t.length){let r=e.validateProps(t[0],t[1]);this.low=r.low,this.high=r.high}else throw Error("Incorrect constructor parameters")}static validate(e){let t=BigInt(e);if(t<0n)throw Error("bigNumberish is smaller than UINT_256_MIN");if(t>f6)throw Error("bigNumberish is bigger than UINT_256_MAX");return t}static validateProps(e,t){let r=BigInt(e),n=BigInt(t);if(r<0n||r>0xffffffffffffffffffffffffffffffffn)throw Error("low is out of range UINT_256_LOW_MIN - UINT_256_LOW_MAX");if(n<0n||n>0xffffffffffffffffffffffffffffffffn)throw Error("high is out of range UINT_256_HIGH_MIN - UINT_256_HIGH_MAX");return{low:r,high:n}}static is(t){try{e.validate(t)}catch(e){return!1}return!0}static isAbiType(t){return t===e.abiSelector}toBigInt(){return(this.high<<128n)+this.low}toUint256HexString(){return{low:ho(this.low.toString(16)),high:ho(this.high.toString(16))}}toUint256DecimalString(){return{low:this.low.toString(10),high:this.high.toString(10)}}toApiRequest(){return[f5(this.low),f5(this.high)]}},f8=(1n<<512n)-1n,f9=class e{limb0;limb1;limb2;limb3;static abiSelector="core::integer::u512";constructor(...t){if("object"==typeof t[0]&&1===t.length&&"limb0"in t[0]&&"limb1"in t[0]&&"limb2"in t[0]&&"limb3"in t[0]){let r=e.validateProps(t[0].limb0,t[0].limb1,t[0].limb2,t[0].limb3);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}else if(1===t.length){let r=e.validate(t[0]);this.limb0=r&f3,this.limb1=(r&f3<<128n)>>128n,this.limb2=(r&f3<<256n)>>256n,this.limb3=r>>384n}else if(4===t.length){let r=e.validateProps(t[0],t[1],t[2],t[3]);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}else throw Error("Incorrect Uint512 constructor parameters")}static validate(e){let t=BigInt(e);if(t<0n)throw Error("bigNumberish is smaller than UINT_512_MIN.");if(t>f8)throw Error("bigNumberish is bigger than UINT_512_MAX.");return t}static validateProps(e,t,r,n){let i=BigInt(e),a=BigInt(t),s=BigInt(r),o=BigInt(n);return[i,a,s,o].forEach((e,t)=>{if(e<0n||e>f3)throw Error(`limb${t} is not in the range of a u128 number`)}),{limb0:i,limb1:a,limb2:s,limb3:o}}static is(t){try{e.validate(t)}catch(e){return!1}return!0}static isAbiType(t){return t===e.abiSelector}toBigInt(){return(this.limb3<<384n)+(this.limb2<<256n)+(this.limb1<<128n)+this.limb0}toUint512HexString(){return{limb0:ho(this.limb0.toString(16)),limb1:ho(this.limb1.toString(16)),limb2:ho(this.limb2.toString(16)),limb3:ho(this.limb3.toString(16))}}toUint512DecimalString(){return{limb0:this.limb0.toString(10),limb1:this.limb1.toString(10),limb2:this.limb2.toString(10),limb3:this.limb3.toString(10)}}toApiRequest(){return[f5(this.limb0),f5(this.limb1),f5(this.limb2),f5(this.limb3)]}},f7=e=>/_len$/.test(e),pe=e=>"felt"===e||"core::felt252"===e,pt=e=>/\*/.test(e)||e.startsWith("core::array::Array::")||e.startsWith("core::array::Span::"),pr=e=>/^\(.*\)$/i.test(e),pn=e=>/\(.*\)/i.test(e)&&e.includes(":"),pi=(e,t)=>e in t,pa=(e,t)=>e in t,ps=e=>e.startsWith("core::option::Option::"),po=e=>e.startsWith("core::result::Result::"),pl=e=>Object.values(h9).includes(e),pc=e=>f4.isAbiType(e),pu=e=>Object.values(h7).includes(e),pd=e=>"core::bool"===e,ph=e=>e===h7.ContractAddress,pf=e=>e===fe,pp=e=>"core::bytes_31::bytes31"===e,pg=e=>"core::byte_array::ByteArray"===e,py=e=>"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"===e,pm=e=>e===h7.Secp256k1Point,pb=e=>e.includes("::"),pw=e=>pb(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");function pE(e){let{cairo:t}=pv(e);if(void 0===t)throw Error("Unable to determine Cairo version");return"1"===t}function p_(e){return e.startsWith(ft)}function pv(e){if(e.find(e=>"interface"===e.type))return{cairo:"1",compiler:"2"};let t=e.find(e=>("function"===e.type||"constructor"===e.type)&&(e.inputs.length||e.outputs.length));return t?pb((t.inputs.length?t.inputs:t.outputs)[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}:{cairo:void 0,compiler:void 0}}var pA=e=>new f4(e).toUint256DecimalString(),px=e=>new f9(e).toUint512DecimalString(),pI=(...e)=>({...e});function pS(e){return f5(e)}var pT=class{variant;constructor(e){let t=Object.values(e);if(0===t.length)throw Error("This Enum must have at least 1 variant");if(1!==t.filter(e=>!fh(e)).length)throw Error("This Enum must have exactly one active variant");this.variant=e}unwrap(){return Object.values(this.variant).find(e=>!fh(e))}activeVariant(){let e=Object.entries(this.variant).find(e=>!fh(e[1]));return fh(e)?"":e[0]}},pk={Some:0,None:1},pN=class{Some;None;constructor(e,t){if(!(e in Object.values(pk)))throw Error("Wrong variant! It should be CairoOptionVariant.Some or .None.");if(e===pk.Some){if(fh(t))throw Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=t,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){return this.None?void 0:this.Some}isSome(){return!fh(this.Some)}isNone(){return!0===this.None}},pO={Ok:0,Err:1},pC=class{Ok;Err;constructor(e,t){if(!(e in Object.values(pO)))throw Error("Wrong variant! It should be CairoResultVariant.Ok or .Err.");e===pO.Ok?(this.Ok=t,this.Err=void 0):(this.Ok=void 0,this.Err=t)}unwrap(){if(!fh(this.Ok))return this.Ok;if(!fh(this.Err))return this.Err;throw Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!fh(this.Ok)}isErr(){return!fh(this.Err)}},pB={isBN:(e,t,r)=>{if(!fg(e[r]))throw Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)},unknown:(e,t,r)=>{throw Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)}},pD=class{abi;constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.reduce((e,t)=>f7(t.name)?e:e+1,0)}getMethod(e){return this.abi.find(t=>t.name===e)}getLegacyFormat(){return this.abi}},pR=class{abi;constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){let t=this.abi.find(e=>"interface"===e.type);return t?.items?.find(t=>t.name===e)}getLegacyFormat(){return this.abi.flatMap(e=>"interface"===e.type?e.items:e)}};function pM(e,t,r){return"constructor"===e&&!r&&!t.length}function pL(e,t,r){for(let n=0,i=0;n<e.length;n++)if(e[n]===t)i++;else if(e[n]===r&&0==--i)return n;return 1/0}function pP(e){return pb(e)?function(e){let t,r=e.slice(1,-1),n=[],i=0;for(;i<r.length;){switch(!0){case"("===r[i]:t=i+pL(r.slice(i),"(",")")+1;break;case r.startsWith("core::result::Result::<",i)||r.startsWith("core::array::Array::<",i)||r.startsWith("core::option::Option::<",i):t=i+pL(r.slice(i),"<",">")+1;break;default:{let e=r.indexOf(",",i);t=-1!==e?e:1/0}}n.push(r.slice(i,t)),i=t+2}return n}(e):function(e){let{subTuple:t,result:r}=function(e){if(!e.includes("("))return{subTuple:[],result:e};let t=[],r="",n=0;for(;n<e.length;){if("("===e[n]){let i=1,a=n;for(n++;i;)")"===e[n]&&i--,"("===e[n]&&i++,n++;t.push(e.substring(a,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}(e.replace(/\s/g,"").slice(1,-1)),n=r.split(",").map(e=>t.length?e.replace(" ",t.shift()):e);return pn(e)&&(n=n.reduce((e,t)=>e.concat(function(e){let t=e.substring(0,e.indexOf(":")),r=e.substring(t.length+1);return{name:t,type:r}}(t)),[])),n}(e)}var pU=class e{content;arrayType;constructor(t,r){fu(e.isTypeFixedArray(r),`The type ${r} is not a Cairo fixed array. Needs [type; length].`);try{e.getFixedArrayType(r)}catch{throw Error(`The type ${r} do not includes any content type. Needs [type; length].`)}try{e.getFixedArraySize(r)}catch{throw Error(`The type ${r} type do not includes any length. Needs [type; length].`)}fu(e.getFixedArraySize(r)===t.length,`The ABI type ${r} is expecting ${e.getFixedArraySize(r)} items. ${t.length} items provided.`),this.content=t,this.arrayType=r}static getFixedArraySize(e){let t=e.match(/(?<=; )\d+(?=\])/);if(null===t)throw Error(`ABI type ${e} do not includes a valid number after ';' character.`);return Number(t[0])}getFixedArraySize(){return e.getFixedArraySize(this.arrayType)}static getFixedArrayType=e=>{let t=e.match(/(?<=\[).+(?=;)/);if(null===t)throw Error(`ABI type ${e} do not includes a valid type of data.`);return t[0]};getFixedArrayType(){return e.getFixedArrayType(this.arrayType)}static compile(e){return e.reduce((e,t,r)=>(e[r]=t,e),{})}compile(){return e.compile(this.content)}static isTypeFixedArray(e){return/^\[.*;\s.*\]$/.test(e)&&/(?<=\[).+(?=;)/.test(e)&&/(?<=; )\d+(?=\])/.test(e)}};function pj(e,t){switch(!0){case f4.isAbiType(e):return new f4(t).toApiRequest();case f9.isAbiType(e):return new f9(t).toApiRequest();case pp(e):return fX(t.toString());case pm(e):{let e=hs(f_(t)).padStart(128,"0"),r=pA(ho(e.slice(-64))),n=pA(ho(e.slice(0,-64)));return[f5(n.low),f5(n.high),f5(r.low),f5(r.high)]}default:return f5(t)}}function pF(e,t,r,n){if(void 0===e)throw Error(`Missing parameter for type ${t}`);if(pU.isTypeFixedArray(t)){let i=pU.getFixedArrayType(t),a=[];if(Array.isArray(e))a=new pU(e,t).content;else if("object"==typeof e)fu((a=Object.values(e)).length===pU.getFixedArraySize(t),`ABI type ${t}: object provided do not includes  ${pU.getFixedArraySize(t)} items. ${a.length} items provided.`);else throw Error(`ABI type ${t}: not an Array representing a cairo.fixedArray() provided.`);return a.reduce((e,t)=>e.concat(pF(t,i,r,n)),[])}if(Array.isArray(e)){let i=[];i.push(f5(e.length));let a=pw(t);return e.reduce((e,t)=>e.concat(pF(t,a,r,n)),i)}if(r[t]&&r[t].members.length){if(f4.isAbiType(t))return new f4(e).toApiRequest();if(f9.isAbiType(t))return new f9(e).toApiRequest();if(pf(t))return pj(t,e);if(pg(t)){let t=f2(e);return[t.data.length.toString(),...t.data.map(e=>e.toString()),t.pending_word.toString(),t.pending_word_len.toString()]}let{members:i}=r[t];return i.reduce((t,i)=>t.concat(pF(e[i.name],i.type,r,n)),[])}if(pr(t))return(function(e,t){let r=pP(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n}
      expected: ${r}`);return r.map((e,t)=>({element:n[t],type:e.type??e}))})(e,t).reduce((e,t)=>{let i=pF(t.element,t.type,r,n);return e.concat(i)},[]);if(f4.isAbiType(t))return new f4(e).toApiRequest();if(f9.isAbiType(t))return new f9(e).toApiRequest();if(pa(t,n)){let{variants:i}=n[t];if(ps(t)){if(e.isSome()){let t=i.find(e=>"Some"===e.name);if(fh(t))throw Error("Error in abi : Option has no 'Some' variant.");let a=t.type;if("()"===a)return pk.Some.toString();let s=pF(e.unwrap(),a,r,n);return Array.isArray(s)?[pk.Some.toString(),...s]:[pk.Some.toString(),s]}return pk.None.toString()}if(po(t)){if(e.isOk()){let t=i.find(e=>"Ok"===e.name);if(fh(t))throw Error("Error in abi : Result has no 'Ok' variant.");let a=t.type;if("()"===a)return pO.Ok.toString();let s=pF(e.unwrap(),a,r,n);return Array.isArray(s)?[pO.Ok.toString(),...s]:[pO.Ok.toString(),s]}let t=i.find(e=>"Err"===e.name);if(fh(t))throw Error("Error in abi : Result has no 'Err' variant.");let a=t.type;if("()"===a)return pO.Err.toString();let s=pF(e.unwrap(),a,r,n);return Array.isArray(s)?[pO.Err.toString(),...s]:[pO.Err.toString(),s]}let a=e.activeVariant(),s=i.find(e=>e.name===a);if(fh(s))throw Error(`Not find in abi : Enum has no '${a}' variant.`);let o=s.type,l=i.findIndex(e=>e.name===a);if("()"===o)return l.toString();let c=pF(e.unwrap(),o,r,n);return Array.isArray(c)?[l.toString(),...c]:[l.toString(),c]}if(p_(t))return pj(pw(t),e);if("object"==typeof e)throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return pj(t,e)}function pz(e,t){switch(!0){case pd(e):return!!BigInt(t.next().value);case f4.isAbiType(e):return new f4(t.next().value,t.next().value).toBigInt();case f9.isAbiType(e):let r=t.next().value,n=t.next().value;return new f9(r,n,t.next().value,t.next().value).toBigInt();case pf(e):return BigInt(t.next().value);case pp(e):return f0(t.next().value);case pm(e):let i=hs(t.next().value).padStart(32,"0"),a=hs(t.next().value).padStart(32,"0"),s=hs(t.next().value).padStart(32,"0");return BigInt(ho(a+i+hs(t.next().value).padStart(32,"0")+s));default:return BigInt(t.next().value)}}function pV(e,t,r,n){if("()"===t.type)return{};if(f4.isAbiType(t.type))return new f4(e.next().value,e.next().value).toBigInt();if(f9.isAbiType(t.type)){let t=e.next().value,r=e.next().value;return new f9(t,r,e.next().value,e.next().value).toBigInt()}if(pg(t.type)){let t=[],r=BigInt(e.next().value);for(;t.length<r;)t.push(f_(e.next().value));let n=f_(e.next().value);return f1({data:t,pending_word:n,pending_word_len:BigInt(e.next().value)})}if(pU.isTypeFixedArray(t.type)){let i=[],a={name:"",type:pU.getFixedArrayType(t.type)},s=pU.getFixedArraySize(t.type);for(;i.length<s;)i.push(pV(e,a,r,n));return i}if(pt(t.type)){let i=[],a={name:"",type:pw(t.type)},s=BigInt(e.next().value);for(;i.length<s;)i.push(pV(e,a,r,n));return i}if(p_(t.type))return pV(e,{name:"",type:pw(t.type)},r,n);if(r&&t.type in r&&r[t.type])return pf(t.type)?pz(t.type,e):r[t.type].members.reduce((t,i)=>(t[i.name]=pV(e,i,r,n),t),{});if(n&&t.type in n&&n[t.type]){let i=Number(e.next().value),a=n[t.type].variants.reduce((t,a,s)=>(s===i?t[a.name]=pV(e,{name:"",type:a.type},r,n):t[a.name]=void 0,t),{});if(t.type.startsWith("core::option::Option")){let e=i===pk.Some?a.Some:void 0;return new pN(i,e)}if(t.type.startsWith("core::result::Result")){let e;return e=i===pO.Ok?a.Ok:a.Err,new pC(i,e)}return new pT(a)}if(pr(t.type))return pP(t.type).reduce((t,i,a)=>{let s=i?.name?i.name:a,o=i?.type?i.type:i;return t[s]=pV(e,{name:s,type:o},r,n),t},{});if(pt(t.type)){let i=[],a={name:"",type:pw(t.type)},s=BigInt(e.next().value);for(;i.length<s;)i.push(pV(e,a,r,n));return i}return pz(t.type,e)}function pH(e,t,r,n,i){let{name:a,type:s}=t;switch(!0){case f7(a):return BigInt(e.next().value);case r&&s in r||pr(s):case n&&pa(s,n):case pU.isTypeFixedArray(s):return pV(e,t,r,n);case pt(s):if(pb(s))return pV(e,t,r,n);let o=[];if(i&&i[`${a}_len`]){let s=i[`${a}_len`];for(;o.length<s;)o.push(pV(e,{name:a,type:t.type.replace("*","")},r,n))}return o;case p_(s):return pV(e,t,r,n);default:return pz(s,e)}}var p$=(e,t)=>{if(fu(fy(e)||ff(e)||fg(e),`Validate: arg ${t.name} should be a felt typed as (String, Number or BigInt)`),fy(e)&&!fb(e))return;let r=BigInt(e.toString(10));fu(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`)},pq=(e,t)=>{let r;switch(ff(e)&&fu(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is too large to be typed as Number use (BigInt or String)"),fu(fy(e)||ff(e)||fg(e)||fm(e)&&"low"in e&&"high"in e||fm(e)&&["limb0","limb1","limb2","limb3"].every(t=>t in e),`Validate: arg ${t.name} of cairo type ${t.type} should be type (String, Number or BigInt), but is ${typeof e} ${e}.`),t.type){case h9.u256:r=new f4(e).toBigInt();break;case h9.u512:r=new f9(e).toBigInt();break;default:r=fw(e)}switch(t.type){case h9.u8:fu(r>=0n&&r<=255n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0 - 255]`);break;case h9.u16:fu(r>=0n&&r<=65535n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 65535]`);break;case h9.u32:fu(r>=0n&&r<=4294967295n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 4294967295]`);break;case h9.u64:fu(r>=0n&&r<=2n**64n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^64-1]`);break;case h9.u128:fu(r>=0n&&r<=2n**128n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^128-1]`);break;case h9.u256:fu(r>=0n&&r<=2n**256n-1n,`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^256-1`);break;case h9.u512:fu(f9.is(r),`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^512-1`);break;case h7.ClassHash:case h7.ContractAddress:fu(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case h7.Secp256k1Point:fu(r>=0n&&r<=2n**512n-1n,`Validate: arg ${t.name} must be ${t.type} : a 512 bits number.`);break;case h7.U96:fu(r>=0n&&r<=2n**96n-1n,`Validate: arg ${t.name} must be ${t.type} : a 96 bits number.`)}},pY=(e,t)=>{fu(fp(e),`Validate: arg ${t.name} of cairo type ${t.type} should be type (Boolean)`)},pZ=(e,t,r)=>{if(t.type===h9.u256||t.type===h9.u512)return void pq(e,t);if(pf(t.type)){fu(!fm(e),`EthAddress type is waiting a BigNumberish. Got "${e}"`);let r=BigInt(e.toString(10));fu(r>=0n&&r<=2n**160n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^160-1]`);return}fu(fm(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as a js object (not array)`),r[t.type].members.forEach(({name:r})=>{fu(Object.keys(e).includes(r),`Validate: arg ${t.name} should have a property ${r}`)})},pG=(e,t)=>{fu(fm(e),`Validate: arg ${t.name} is cairo type Enum (${t.type}), and should be defined as a js object (not array)`);let r=Object.getOwnPropertyNames(Object.getPrototypeOf(e)),n=[...Object.getOwnPropertyNames(e),...r];if(!(ps(t.type)&&n.includes("isSome")&&n.includes("isNone")||po(t.type)&&n.includes("isOk")&&n.includes("isErr"))&&!(n.includes("variant")&&n.includes("activeVariant")))throw Error(`Validate Enum: argument ${t.name}, type ${t.type}, value received "${e}", is not an Enum.`)},pW=(e,t)=>{fu(fm(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},pK=(e,t,r,n)=>{let i=pt(t.type),a=i?pw(t.type):pU.getFixedArrayType(t.type);if(i&&pe(a)&&fQ(e))return;let s=[];if(i)fu(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),s=e;else switch(!0){case Array.isArray(e):s=e;break;case"object"==typeof e:s=Object.values(e);break;default:throw Error(`Validate: arg ${t.name} should be an Array or an object.`)}switch(!0){case pe(a):s.forEach(e=>p$(e,t));break;case pr(a):s.forEach(e=>pW(e,{name:t.name,type:a}));break;case pt(a):s.forEach(e=>pK(e,{name:"",type:a},r,n));break;case pi(a,r):s.forEach(e=>pZ(e,{name:t.name,type:a},r));break;case pa(a,n):s.forEach(e=>pG(e,{name:t.name,type:a}));break;case pl(a)||pu(a):s.forEach(e=>pq(e,{name:"",type:a}));break;case pd(a):s.forEach(e=>pY(e,t));break;default:throw Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${s}`)}};function pQ(e,t,r,n){e.inputs.reduce((e,i)=>{let a=t[e];switch(!0){case f7(i.name):return e;case pe(i.type):p$(a,i);break;case pp(i.type):fu(fy(a),`Validate: arg ${i.name} should be a string.`),fu(a.length<32,`Validate: arg ${i.name} cairo typed ${i.type} should be a string of less than 32 characters.`);break;case pl(i.type)||pu(i.type):pq(a,i);break;case pd(i.type):pY(a,i);break;case pg(i.type):fu(fy(a),`Validate: arg ${i.name} should be a string.`);break;case pt(i.type)||pU.isTypeFixedArray(i.type):pK(a,i,r,n);break;case pi(i.type,r):pZ(a,i,r);break;case pa(i.type,n):pG(a,i);break;case pr(i.type):pW(a,i);break;case p_(i.type):let s=pw(i.type);switch(fu(pl(s)&&s!==f9.abiSelector||pe(s),`Validate: ${i.name} type is not authorized for NonZero type.`),!0){case pe(s):p$(a,i),fu(BigInt(a.toString(10))>0,"Validate: value 0 is not authorized in NonZero felt252 type.");break;case pl(s):pq(a,{name:"",type:s}),s===h9.u256?fu(new f4(a).toBigInt()>0,"Validate: value 0 is not authorized in NonZero uint256 type."):fu(fw(a)>0,"Validate: value 0 is not authorized in NonZero uint type.");break;default:throw Error(`Validate Unhandled: argument ${i.name}, type ${i.type}, value "${a}"`)}break;default:throw Error(`Validate Unhandled: argument ${i.name}, type ${i.type}, value ${a}`)}return e+1},0)}var pJ=class e{abi;parser;structs;enums;constructor(t){this.structs=e.getAbiStruct(t),this.enums=e.getAbiEnum(t),this.parser=function(e){var t;let r=(t=e).find(e=>"interface"===e.type)?2:+!!pE(t);if(0===r||1===r)return new pD(e);if(2===r)return new pR(e);throw Error(`Unsupported ABI version ${r}`)}(t),this.abi=this.parser.getLegacyFormat()}validate(e,t,r=[]){e!==h8.DEPLOY&&fu(this.abi.filter(t=>{if("function"!==t.type)return!1;let r="view"===t.stateMutability||"view"===t.state_mutability;return e===h8.INVOKE?!r:r}).map(e=>e.name).includes(t),`${e===h8.INVOKE?"invocable":"viewable"} method not found in abi`);let n=this.abi.find(r=>e===h8.DEPLOY?r.name===t&&"constructor"===r.type:r.name===t&&"function"===r.type);if(pM(t,r,n))return;let i=this.parser.methodInputsLength(n);if(r.length!==i)throw Error(`Invalid number of arguments, expected ${i} arguments, but got ${r.length}`);pQ(n,r,this.structs,this.enums)}compile(e,t){let r,n=this.abi.find(t=>t.name===e);if(pM(e,t,n))return[];Array.isArray(t)?r=t:(r=Object.values(function(e,t,r,n){let i=(e,t)=>{if(pU.isTypeFixedArray(t)){var o,l=e,c=t;let r=pU.getFixedArrayType(c),n=pU.getFixedArraySize(c);if(Array.isArray(l)){if(n!==l.length)throw Error(`ABI type ${c}: array provided do not includes  ${n} items. ${l.length} items provided.`);return l.map(e=>i(e,r))}if(n!==Object.keys(l).length)throw Error(`ABI type ${c}: object provided do not includes  ${n} properties. ${Object.keys(l).length} items provided.`);return i(l,r)}if(pt(t)){var u=e,d=t;let r=pw(d);return fy(u)?u:u.map(e=>i(e,r))}if(pa(t,n))return s(e,n[t]);if(pr(t)){return o=e,pP(t).reduce((e,t,r)=>{let n,a=Object.keys(o),s=t?.type?t.type:t;return n=i(o[a[r]],s),Object.defineProperty(e,r.toString(),{enumerable:!0,value:n??o[a[r]]}),e},{})}if(pf(t)||p_(t)||pg(t)||py(t)||pm(t))return e;if(f4.isAbiType(t)){if("object"!=typeof e)return e;if(!("low"in e&&"high"in e))throw Error(`Your object includes the property : ${t}, containing an Uint256 object without the 'low' and 'high' keys.`);return{low:e.low,high:e.high}}if(f9.isAbiType(t)){if("object"!=typeof e)return e;if(!["limb0","limb1","limb2","limb3"].every(t=>t in e))throw Error(`Your object includes the property : ${t}, containing an Uint512 object without the 'limb0' to 'limb3' keys.`);return{limb0:e.limb0,limb1:e.limb1,limb2:e.limb2,limb3:e.limb3}}return pi(t,r)?a(e,r[t].members):e},a=(e,t)=>t.reduce((t,r)=>{let n;if("undefined"===e[r.name]&&(pb(r.type)||!f7(r.name)))throw Error(`Your object needs a property with key : ${r.name} .`);return n=i(e[r.name],r.type),Object.defineProperty(t,r.name,{enumerable:!0,value:n??e[r.name]}),t},{}),s=(e,t)=>{if(po(t.name)){let r=t.name.substring(t.name.indexOf("<")+1,t.name.lastIndexOf(",")),n=t.name.substring(t.name.indexOf(",")+1,t.name.lastIndexOf(">"));return e.isOk()?new pC(pO.Ok,i(e.unwrap(),r)):new pC(pO.Err,i(e.unwrap(),n))}if(ps(t.name)){let r=t.name.substring(t.name.indexOf("<")+1,t.name.lastIndexOf(">"));return e.isSome()?new pN(pk.Some,i(e.unwrap(),r)):new pN(pk.None,{})}return new pT(Object.fromEntries(Object.entries(e.variant).map(r=>{if(fh(r[1]))return r;let n=t.type.substring(t.type.lastIndexOf("<")+1,t.type.lastIndexOf(">"));return"()"===n?r:[r[0],i(e.unwrap(),n)]})))};return t.reduce((t,r)=>{let n;return f7(r.name)&&!pb(r.type)?t:(n=i(e[r.name],r.type),Object.defineProperty(t,r.name,{enumerable:!0,value:n}),t)},{})}(t,n.inputs,this.structs,this.enums)),pQ(n,r,this.structs,this.enums));let i=r[Symbol.iterator](),a=n.inputs.reduce((e,t)=>f7(t.name)&&!pb(t.type)?e:e.concat(function(e,t,r,n){let{name:i,type:a}=t,{value:s}=e.next();switch(!0){case pU.isTypeFixedArray(a):if(!Array.isArray(s)&&"object"!=typeof s)throw Error(`ABI expected parameter ${i} to be an array or an object, got ${s}`);return pF(s,t.type,r,n);case pt(a):if(!Array.isArray(s)&&!fW(s))throw Error(`ABI expected parameter ${i} to be array or long string, got ${s}`);return fy(s)&&(s=fJ(s)),pF(s,t.type,r,n);case p_(a):return pj(pw(a),s);case pf(a):return pj(a,s);case pi(a,r)||pr(a)||f4.isAbiType(a):case pa(a,n):return pF(s,a,r,n);default:return pj(a,s)}}(i,t,this.structs,this.enums)),[]);return Object.defineProperty(a,"__compiled__",{enumerable:!1,writable:!1,value:!0}),a}static compile(e){let t,r=e=>{let t=(e,r=".")=>{let n=Array.isArray(e)?[e.length.toString(),...e]:e;return Object.entries(n).flatMap(([e,i])=>{let a=i;"entrypoint"===e?a=fz(a):fQ(a)&&(a=f2(a));let s=Array.isArray(n)&&"0"===e?"$$len":e;if(fg(a))return[[`${r}${s}`,f5(a)]];if(Object(a)===a){let e=Object.getOwnPropertyNames(Object.getPrototypeOf(a)),n=[...Object.getOwnPropertyNames(a),...e];if(n.includes("isSome")&&n.includes("isNone")){let e=a,n=e.isSome()?pk.Some:pk.None;return e.isSome()?t({0:n,1:e.unwrap()},`${r}${s}.`):[[`${r}${s}`,f5(n)]]}if(n.includes("isOk")&&n.includes("isErr")){let e=a;return t({0:e.isOk()?pO.Ok:pO.Err,1:e.unwrap()},`${r}${s}.`)}if(n.includes("variant")&&n.includes("activeVariant")){let e=a,n=e.activeVariant(),i=Object.keys(e.variant).findIndex(e=>e===n);return"object"==typeof e.unwrap()&&0===Object.keys(e.unwrap()).length?[[`${r}${s}`,f5(i)]]:t({0:i,1:e.unwrap()},`${r}${s}.`)}return t(a,`${r}${s}.`)}return[[`${r}${s}`,f5(a)]]})};return Object.fromEntries(t(e))};return Object.defineProperty(t=Array.isArray(e)?Object.values(r({...e})):Object.values(r(e)),"__compiled__",{enumerable:!1,writable:!1,value:!0}),t}parse(e,t){let{outputs:r}=this.abi.find(t=>t.name===e),n=t.flat()[Symbol.iterator](),i=r.flat().reduce((e,t,r)=>{let i=t.name??r;return e[i]=pH(n,t,this.structs,this.enums,e),e[i]&&e[`${i}_len`]&&delete e[`${i}_len`],e},{});return 1===Object.keys(i).length&&0 in i?i[0]:i}format(e,t,r){return function e(t,r,n){return Object.entries(t).reduce((i,[a,s])=>{let o=n??r[a];if(!(a in r)&&!n)return i[a]=s,i;if("string"===o){if(Array.isArray(t[a])){let r=e(t[a],t[a].map(e=>o));return i[a]=Object.values(r).join(""),i}return pB.isBN(t,r,a),i[a]=f0(s),i}if("number"===o)return pB.isBN(t,r,a),i[a]=Number(s),i;if("function"==typeof o)return i[a]=o(s),i;if(Array.isArray(o)){let r=e(t[a],o,o[0]);return i[a]=Object.values(r),i}return fm(o)?i[a]=e(t[a],o):pB.unknown(t,r,a),i},{})}(this.parse(e,t),r)}static getAbiStruct(e){return e.filter(e=>"struct"===e.type).reduce((e,t)=>({...e,[t.name]:t}),{})}static getAbiEnum(e){let t=e.filter(e=>"enum"===e.type).reduce((e,t)=>({...e,[t.name]:t}),{});return delete t["core::bool"],t}static toCalldata(t=[]){return e.compile(t)}static toHex(t=[]){return e.compile(t).map(e=>f_(e))}decodeParameters(e,t){let r=Array.isArray(e)?e:[e],n=t.flat()[Symbol.iterator](),i=r.map(e=>pH(n,{name:"",type:e},this.structs,this.enums));return 1===i.length?i[0]:i}};function pX(e){return[...e,e.length].reduce((e,t)=>la(fw(e),fw(t)),0).toString()}function p0(e,t,r,n,i,a,s,o=[]){let l=[e,t,r,n,pX(i),a,s,...o];return pX(l)}function p1(e,t,r,n,i,a,s){return p0(hL.DECLARE,r,t,0,[e],n,i,[a,...s?[s]:[]])}function p2(e,t,r,n,i,a,s,o){let l=[t,n,...r];return p0(hL.DEPLOY_ACCOUNT,i,e,0,l,a,s,[o])}function p5(e,t,r,n,i,a){return p0(hL.INVOKE,t,e,0,r,n,i,[a])}function p3(e,t,r,n,i,a){let s=[e,...n];return p0(hL.L1_HANDLER,0,t,fV(r),s,0,i,[a])}d6({},{calculateContractAddressFromHash:()=>gb,calculateDeclareTransactionHash:()=>gd,calculateDeployAccountTransactionHash:()=>gh,calculateInvokeTransactionHash:()=>gu,calculateL2MessageTxHash:()=>p3,computeCompiledClassHash:()=>gI,computeContractClassHash:()=>gk,computeHashOnElements:()=>gg,computeHintedClassHash:()=>g_,computeLegacyContractClassHash:()=>gv,computePedersenHash:()=>gf,computePedersenHashOnElements:()=>gy,computePoseidonHash:()=>gp,computePoseidonHashOnElements:()=>gm,computeSierraContractClassHash:()=>gT,formatSpaces:()=>gE,getL1MessageHash:()=>fq,getL2MessageHash:()=>f$,getSelector:()=>fV,getSelectorFromName:()=>fz,hashByteCodeSegments:()=>gx,keccakBn:()=>fj,poseidon:()=>O,solidityUint256PackedKeccak256:()=>fH,starknetKeccak:()=>fF}),d6({},{calculateDeclareTransactionHash:()=>p1,calculateDeployAccountTransactionHash:()=>p2,calculateL2MessageTxHash:()=>p3,calculateTransactionHash:()=>p5,calculateTransactionHashCommon:()=>p0,computeHashOnElements:()=>pX}),d6({},{starkCurve:()=>N,weierstrass:()=>C}),d6({},{calculateDeclareTransactionHash:()=>gl,calculateDeployAccountTransactionHash:()=>go,calculateInvokeTransactionHash:()=>gc,calculateTransactionHashCommon:()=>gs,encodeDataResourceBoundsL1:()=>gn,encodeResourceBoundsL1:()=>gt,encodeResourceBoundsL2:()=>gr,hashDAMode:()=>ge,hashFeeField:()=>gi,hashFeeFieldV3B3:()=>ga});var p6=e=>e.map(e=>BigInt(e)),p4=64n+128n,p8=BigInt(fX("L1_GAS")),p9=BigInt(fX("L2_GAS")),p7=BigInt(fX("L1_DATA"));function ge(e,t){return(BigInt(e)<<32n)+BigInt(t)}function gt(e){return(p8<<p4)+(BigInt(e.l1_gas.max_amount)<<128n)+BigInt(e.l1_gas.max_price_per_unit)}function gr(e){return(p9<<p4)+(BigInt(e.l2_gas.max_amount)<<128n)+BigInt(e.l2_gas.max_price_per_unit)}function gn(e){return(p7<<p4)+(BigInt(e.l1_data_gas.max_amount)<<128n)+BigInt(e.l1_data_gas.max_price_per_unit)}function gi(e,t){let r=gt(t),n=gr(t);return lw([BigInt(e),r,n])}function ga(e,t){let r=gt(t),n=gr(t),i=gn(t);return lw([BigInt(e),r,n,i])}function gs(e,t,r,n,i,a,s,o,l,c,u=[]){let d=h3(c)?ga(a,c):gi(a,c),h=ge(o,l),f=p6([e,t,r,d,lw(p6(s)),n,i,h,...p6(u)]);return f_(lw(f))}function go(e,t,r,n,i,a,s,o,l,c,u,d){return gs(hL.DEPLOY_ACCOUNT,i,e,a,s,u,d,o,l,c,[lw(p6(r)),t,n])}function gl(e,t,r,n,i,a,s,o,l,c,u,d){return gs(hL.DECLARE,n,r,i,a,u,p6(d),o,l,c,[lw(p6(s)),e,t])}function gc(e,t,r,n,i,a,s,o,l,c,u){return gs(hL.INVOKE,t,e,n,i,c,u,s,o,l,[lw(p6(a)),lw(p6(r))])}function gu(e){return[d9.ETransactionVersion.V3,d9.ETransactionVersion.F3].includes(e.version)?gc(e.senderAddress,e.version,e.compiledCalldata,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):p5(e.senderAddress,e.version,e.compiledCalldata,e.maxFee,e.chainId,e.nonce)}function gd(e){return[d9.ETransactionVersion.V3,d9.ETransactionVersion.F3].includes(e.version)?gl(e.classHash,e.compiledClassHash,e.senderAddress,e.version,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):p1(e.classHash,e.senderAddress,e.version,e.maxFee,e.chainId,e.nonce,e.compiledClassHash)}function gh(e){return[d9.ETransactionVersion.V3,d9.ETransactionVersion.F3].includes(e.version)?go(e.contractAddress,e.classHash,e.compiledConstructorCalldata,e.salt,e.version,e.chainId,e.nonce,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):p2(e.contractAddress,e.classHash,e.constructorCalldata,e.salt,e.version,e.maxFee,e.chainId,e.nonce)}function gf(e,t){return la(BigInt(e),BigInt(t))}function gp(e,t){return f_(ly(BigInt(e),BigInt(t)))}function gg(e){return[...e,e.length].reduce((e,t)=>la(BigInt(e),BigInt(t)),0).toString()}var gy=gg;function gm(e){return f_(lw(e.map(e=>BigInt(e))))}function gb(e,t,r,n){let i=gg(pJ.compile(r));return f_(BigInt(gg([f5("0x535441524b4e45545f434f4e54524143545f41444452455353"),n,e,t,i]))%hv)}function gw(e,t){return"attributes"===e||"accessible_scopes"===e?Array.isArray(t)&&0===t.length?void 0:t:"debug_info"===e?null:null===t?void 0:t}function gE(e){let t=!1,r=[];for(let n of e)'"'===n&&!1==(r.length>0&&"\\"===r.slice(-1)[0])&&(t=!t),t?r.push(n):r.push(":"===n?": ":","===n?", ":n);return r.join("")}function g_(e){let{abi:t,program:r}=e;return ho(ll(hr(gE(fl({abi:t,program:r},gw)))).toString(16))}function gv(e){let t=fy(e)?fs(e):e,r=f_(hw),n=gg(t.entry_points_by_type.EXTERNAL.flatMap(e=>[e.selector,e.offset])),i=gg(t.entry_points_by_type.L1_HANDLER.flatMap(e=>[e.selector,e.offset])),a=gg(t.entry_points_by_type.CONSTRUCTOR.flatMap(e=>[e.selector,e.offset])),s=gg(t.program.builtins.map(e=>fX(e))),o=g_(t),l=gg(t.program.data);return gg([r,n,i,a,s,o,l])}function gA(e){let t=e.flatMap(e=>[BigInt(e.selector),BigInt(e.offset),lw(e.builtins.flatMap(e=>BigInt(fX(e))))]);return lw(t)}function gx(e){let t=e.bytecode.map(e=>BigInt(e)),r=e.bytecode_segment_lengths??[],n=0,i=r.flatMap(e=>{let r=t.slice(n,n+=e);return[BigInt(e),lw(r)]});return 1n+lw(i)}function gI(e){let t=BigInt(fX("COMPILED_CLASS_V1")),r=gA(e.entry_points_by_type.EXTERNAL),n=gA(e.entry_points_by_type.L1_HANDLER),i=gA(e.entry_points_by_type.CONSTRUCTOR),a=e.bytecode_segment_lengths?gx(e):lw(e.bytecode.map(e=>BigInt(e)));return f_(lw([t,r,n,i,a]))}function gS(e){return lw(e.flatMap(e=>[BigInt(e.selector),BigInt(e.function_idx)]))}function gT(e){let t=BigInt(fX("CONTRACT_CLASS_V0.1.0")),r=gS(e.entry_points_by_type.EXTERNAL),n=gS(e.entry_points_by_type.L1_HANDLER),i=gS(e.entry_points_by_type.CONSTRUCTOR),a=BigInt(ho(ll(hr(gE(fl(e.abi,null)))).toString(16))),s=lw(e.sierra_program.map(e=>BigInt(e)));return f_(lw([t,r,n,i,a,s]))}function gk(e){let t=fy(e)?fs(e):e;return"sierra_program"in t?gT(t):gv(t)}function gN(e){let t=e.version?f_(e.version):hJ.V3;return t===hJ.V3||t===hJ.F3}function gO(e,t){let r=e.split("."),n=t.split(".");return r.every((e,t)=>"*"===e||e===n[t])}function gC(e,t={allowAnyPatchVersion:!1}){return Object.values(hP).some(r=>gO(t.allowAnyPatchVersion?function(e){let t=e.split(".");return t.length<3?e:`${t[0]}.${t[1]}.*`}(r):r,e))}function gB(e){return hi(dS(fy(e)?e:fl(e)))}function gD(e){return Array.isArray(e)?e:fs(ht(dO(hn(e))))}function gR(){return o6(o1.randomPrivateKey())}function gM(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(e=>f_(e));try{let{r:t,s:r}=e;return[f_(t),f_(r)]}catch(e){throw Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function gL(e){return fk(gM(e))}function gP(e){return fN(gM(e))}function gU(e,t=hV.get("feeMarginPercentage").maxFee){return fL(e,t)}function gj(e,t=hV.get("feeMarginPercentage").bounds,r){if(fg(e))return{l2_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},...r&&gO("0.8",r)&&{l1_data_gas:{max_amount:"0x0",max_price_per_unit:"0x0"}}};if(h5(e))return{l2_gas:{max_amount:f_(fL(e.l2_gas_consumed,t.l2_gas.max_amount)),max_price_per_unit:f_(fL(e.l2_gas_price,t.l2_gas.max_price_per_unit))},l1_gas:{max_amount:f_(fL(e.l1_gas_consumed,t.l1_gas.max_amount)),max_price_per_unit:f_(fL(e.l1_gas_price,t.l1_gas.max_price_per_unit))},l1_data_gas:{max_amount:f_(fL(e.l1_data_gas_consumed,t.l1_data_gas.max_amount)),max_price_per_unit:f_(fL(e.l1_data_gas_price,t.l1_data_gas.max_price_per_unit))}};return{l2_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_gas:{max_amount:void 0!==e.data_gas_consumed&&void 0!==e.data_gas_price?f_(fL(BigInt(e.overall_fee)/BigInt(e.gas_price),t.l1_gas.max_amount)):f_(fL(e.gas_consumed,t.l1_gas.max_amount)),max_price_per_unit:f_(fL(e.gas_price,t.l1_gas.max_price_per_unit))}}}function gF(e){return{l1_gas_consumed:0n,l1_gas_price:0n,l1_data_gas_consumed:0n,l1_data_gas_price:0n,l2_gas_consumed:0n,l2_gas_price:0n,overall_fee:hy,unit:"FRI",suggestedMaxFee:hy,resourceBounds:gj(hy,void 0,e)}}function gz(e){if(e===h1.L1)return h2.L1;if(e===h1.L2)return h2.L2;throw Error("EDAM conversion")}function gV(e,t){let r=t?f_(t):void 0,n=f_(e);if(t&&!Object.values(hJ).includes(r))throw Error(`providedVersion ${t} is not ETransactionVersion`);if(!Object.values(hJ).includes(n))throw Error(`defaultVersion ${e} is not ETransactionVersion`);return t?r:n}function gH(e){if(!e)return;let t=f_(e);if(t===hJ.V0)return hJ.F0;if(t===hJ.V1)return hJ.F1;if(t===hJ.V2)return hJ.F2;if(t===hJ.V3)return hJ.F3;throw Error(`toFeeVersion: ${t} is not supported`)}function g$(e,t){return{tip:e.tip||0,paymasterData:e.paymasterData||[],accountDeploymentData:e.accountDeploymentData||[],nonceDataAvailabilityMode:e.nonceDataAvailabilityMode||h1.L1,feeDataAvailabilityMode:e.feeDataAvailabilityMode||h1.L1,resourceBounds:e.resourceBounds??gj(hy,void 0,t)}}function gq(e){return e===hJ.F2?hJ.F1:e===hJ.V2?hJ.V1:e}function gY(e){return ho(ha(oY(f_(e),!1)))}function gZ(e){return"sierra_program"in(fy(e)?fs(e):e)}function gG(e){let t={...e};if(gZ(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=gI(e.casm)),!t.compiledClassHash))throw Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??gk(e.contract),!t.classHash)throw Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}d6({},{ZEROFee:()=>gF,compressProgram:()=>gB,decompressProgram:()=>gD,estimateFeeToBounds:()=>gj,estimatedFeeToMaxFee:()=>gU,formatSignature:()=>gM,getFullPublicKey:()=>gY,intDAM:()=>gz,randomAddress:()=>gR,reduceV2:()=>gq,signatureToDecimalArray:()=>gL,signatureToHexArray:()=>gP,toFeeVersion:()=>gH,toTransactionVersion:()=>gV,v3Details:()=>g$});var gW={FAILED_TO_RECEIVE_TXN:1,NO_TRACE_AVAILABLE:10,CONTRACT_NOT_FOUND:20,ENTRYPOINT_NOT_FOUND:21,BLOCK_NOT_FOUND:24,INVALID_TXN_INDEX:27,CLASS_HASH_NOT_FOUND:28,TXN_HASH_NOT_FOUND:29,PAGE_SIZE_TOO_BIG:31,NO_BLOCKS:32,INVALID_CONTINUATION_TOKEN:33,TOO_MANY_KEYS_IN_FILTER:34,CONTRACT_ERROR:40,TRANSACTION_EXECUTION_ERROR:41,STORAGE_PROOF_NOT_SUPPORTED:42,CLASS_ALREADY_DECLARED:51,INVALID_TRANSACTION_NONCE:52,INSUFFICIENT_RESOURCES_FOR_VALIDATE:53,INSUFFICIENT_ACCOUNT_BALANCE:54,VALIDATION_FAILURE:55,COMPILATION_FAILED:56,CONTRACT_CLASS_SIZE_IS_TOO_LARGE:57,NON_ACCOUNT:58,DUPLICATE_TX:59,COMPILED_CLASS_HASH_MISMATCH:60,UNSUPPORTED_TX_VERSION:61,UNSUPPORTED_CONTRACT_CLASS_VERSION:62,UNEXPECTED_ERROR:63,INVALID_SUBSCRIPTION_ID:66,TOO_MANY_ADDRESSES_IN_FILTER:67,TOO_MANY_BLOCKS_BACK:68,COMPILATION_ERROR:100,INVALID_ADDRESS:150,TOKEN_NOT_SUPPORTED:151,INVALID_SIGNATURE:153,MAX_AMOUNT_TOO_LOW:154,CLASS_HASH_NOT_SUPPORTED:155,PAYMASTER_TRANSACTION_EXECUTION_ERROR:156,INVALID_TIME_BOUNDS:157,INVALID_DEPLOYMENT_DATA:158,INVALID_CLASS_HASH:159,INVALID_ID:160,UNKNOWN_ERROR:163},gK=class extends Error{name;constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),function(e,t){let{setPrototypeOf:r}=Object;r?r(e,t):e.__proto__=t}(this,new.target.prototype),function(e,t=e.constructor){let{captureStackTrace:r}=Error;r&&r(e,t)}(this)}},gQ=class extends gK{},gJ=class extends gQ{constructor(e,t,r){super(`RPC: ${t} with params ${fl(r,null,2)}

      ${e.code}: ${e.message}: ${fl(e.data)}`),this.baseError=e,this.request={method:t,params:r}}request;get code(){return this.baseError.code}isType(e){return gW[e]===this.code}};function gX(){return hd(ha(dj.utils.randomPrivateKey()))}function g0(e){fT(e,hy,2n**160n-1n,"Ethereum Address ");let t=ho(hs(f_(e)).padStart(40,"0"));return fu(!!t.match(/^(0x)?[0-9a-f]{40}$/),"Invalid Ethereum Address Format"),t}d6({},{ethRandomPrivateKey:()=>gX,validateAndParseEthAddress:()=>g0});var g1="undefined"!=typeof globalThis&&globalThis.fetch.bind(globalThis)||"undefined"!=typeof window&&window.fetch.bind(window)||"undefined"!=typeof globalThis&&globalThis.fetch.bind(globalThis)||(()=>{throw new gQ("'fetch()' not detected, use the 'baseFetch' constructor parameter to set it")});function g2(e){return new Promise(t=>{setTimeout(t,e)})}function g5(e){let t={...e};return delete t.sierra_program_debug_info,t.abi=gE(fl(e.abi)),t.sierra_program=gE(fl(e.sierra_program)),t.sierra_program=gB(t.sierra_program),t}function g3(e){let t=fy(e)?fs(e):e;return gZ(e)?g5(t):{...t,..."program"in t&&{program:gB(t.program)}}}d6({},{Block:()=>g7,createSierraContractClass:()=>g5,getDefaultNodeUrl:()=>g6,getDefaultNodes:()=>g4,getSupportedRpcVersions:()=>g8,parseContract:()=>g3,validBlockTags:()=>g9,wait:()=>g2});var g6=(e,t=!1,r)=>{t||h$.info("Using default public node url, please provide nodeUrl in provider options!");let n=g4(r??hV.get("rpcVersion"))[e??hR.SN_SEPOLIA],i=Math.floor(Math.random()*n.length);return n[i]};function g4(e){let t={...hj};return Object.keys(t).forEach(function(r,n){t[r]=t[r].map(t=>`${t}${function(e){let[t,r]=e.replace(/^v/,"").split(".");return`v${t}_${r}`}(e)}`)}),t}function g8(){return[...new Set(Object.values(hP))]}var g9=Object.values(hQ),g7=class{hash=null;number=null;tag=null;setIdentifier(e){if(fy(e))if(fG(e))this.number=parseInt(e,10);else if(fb(e))this.hash=e;else if(g9.includes(e))this.tag=e;else throw TypeError(`Block identifier unmanaged: ${e}`);else fg(e)?this.hash=f_(e):ff(e)?this.number=e:this.tag=hQ.PENDING;if(ff(this.number)&&this.number<0)throw TypeError(`Block number (${this.number}) can't be negative`)}constructor(e){this.setIdentifier(e)}get queryIdentifier(){return null!==this.number?`blockNumber=${this.number}`:null!==this.hash?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return null!==this.number?{block_number:this.number}:null!==this.hash?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}valueOf=()=>this.number;toString=()=>this.hash};d6({},{buildUDCCall:()=>yi,fromCallsToExecuteCalldata:()=>yt,fromCallsToExecuteCalldata_cairo1:()=>yr,getExecuteCalldata:()=>yn,getVersionsByType:()=>ya,transformCallsToMulticallArrays:()=>ye});var ye=e=>{let t=[],r=[];return e.forEach(e=>{let n=pJ.compile(e.calldata||[]);t.push({to:fw(e.contractAddress).toString(10),selector:fw(fz(e.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:n.length.toString()}),r.push(...n)}),{callArray:t,calldata:pJ.compile({calldata:r})}},yt=e=>{let{callArray:t,calldata:r}=ye(e);return[...pJ.compile({callArray:t}),...r]},yr=e=>{let t=e.map(e=>({contractAddress:e.contractAddress,entrypoint:e.entrypoint,calldata:Array.isArray(e.calldata)&&"__compiled__"in e.calldata?e.calldata:pJ.compile(e.calldata)}));return pJ.compile({orderCalls:t})},yn=(e,t="0")=>"1"===t?yr(e):yt(e);function yi(e,t){let r=[].concat(e).map(e=>{let{classHash:r,salt:n,unique:i=!0,constructorCalldata:a=[]}=e,s=pJ.compile(a),o=n??gR();return{call:{contractAddress:hT.ADDRESS,entrypoint:hT.ENTRYPOINT,calldata:[r,o,fR(i),s.length,...s]},address:gb(i?la(t,o):o,r,s,i?hT.ADDRESS:0)}});return{calls:r.map(e=>e.call),addresses:r.map(e=>e.address)}}function ya(e){return"fee"===e?{v1:hJ.F1,v2:hJ.F2,v3:hJ.F3}:{v1:hJ.V1,v2:hJ.V2,v3:hJ.V3}}var ys={headers:{"Content-Type":"application/json"},blockIdentifier:hQ.PENDING,retries:200},yo=class{id="RPC071";channelSpecVersion=hP.v0_7_1;nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(e){let{baseFetch:t,batch:r,blockIdentifier:n,chainId:i,headers:a,nodeUrl:s,retries:o,specVersion:l,transactionRetryIntervalFallback:c,waitMode:u}=e||{};Object.values(hR).includes(s)?this.nodeUrl=g6(s,e?.default,this.channelSpecVersion):s?this.nodeUrl=s:this.nodeUrl=g6(void 0,e?.default,this.channelSpecVersion),this.baseFetch=t||hV.get("fetch")||g1,this.blockIdentifier=n??ys.blockIdentifier,this.chainId=i,this.headers={...ys.headers,...a},this.retries=o??ys.retries,this.specVersion=l,this.transactionRetryIntervalFallback=c,this.waitMode=u??!1,this.requestId=0,"number"==typeof r&&(this.batchClient=new fc({nodeUrl:this.nodeUrl,headers:this.headers,interval:r,baseFetch:this.baseFetch})),h$.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(e){this.chainId=e}fetch(e,t,r=0){let n={id:r,jsonrpc:"2.0",method:e,...t&&{params:t}};return this.baseFetch(this.nodeUrl,{method:"POST",body:fl(n),headers:this.headers})}errorHandler(e,t,r,n){if(r)throw new gJ(r,e,t);if(n instanceof gQ)throw n;if(n)throw Error(n.message)}async fetchEndpoint(e,t){try{if(this.batchClient){let{error:r,result:n}=await this.batchClient.fetch(e,t,this.requestId+=1);return this.errorHandler(e,t,r),n}let r=await this.fetch(e,t,this.requestId+=1),{error:n,result:i}=await r.json();return this.errorHandler(e,t,n),i}catch(r){throw this.errorHandler(e,t,r?.response?.data,r),r}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){let e=await this.fetchEndpoint("starknet_specVersion");if(gO(this.channelSpecVersion,e)||h$.error(hz.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!gC(e))throw new gQ(`${hz.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=e}return this.specVersion}getNonceForAddress(e,t=this.blockIdentifier){let r=f_(e),n=new g7(t).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:r,block_id:n})}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:t})}getBlockWithTxs(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:t})}getBlockWithReceipts(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:t})}getBlockStateUpdate(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:t})}getBlockTransactionsTraces(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:t})}getBlockTransactionCount(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:t})}getTransactionByHash(e){let t=f_(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:t})}getTransactionByBlockIdAndIndex(e,t){let r=new g7(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:t})}getTransactionReceipt(e){let t=f_(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:t})}getTransactionTrace(e){let t=f_(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:t})}getTransactionStatus(e){let t=f_(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:t})}simulateTransaction(e,t={}){let{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!0,skipFeeCharge:i=!0}=t,a=new g7(r).identifier,s=[];return n&&s.push(nB.SKIP_VALIDATE),i&&s.push(nB.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:a,transactions:e.map(e=>this.buildTransaction(e)),simulation_flags:s})}async waitForTransaction(e,t){let r,n=f_(e),{retries:i}=this,a=!1,s=!1,o=t?.retryInterval??this.transactionRetryIntervalDefault,l=t?.errorStates??[nD.REJECTED],c=t?.successStates??[nM.SUCCEEDED,nD.ACCEPTED_ON_L2,nD.ACCEPTED_ON_L1];for(;!a;){await g2(o);try{let e=(r=await this.getTransactionStatus(n)).execution_status,t=r.finality_status;if(!t)throw Error("waiting for transaction status");if(l.includes(e)||l.includes(t)){let n=`${e}: ${t}`,i=Error(n);throw i.response=r,s=!0,i}(c.includes(e)||c.includes(t))&&(a=!0)}catch(e){if(e instanceof Error&&s)throw e;if(i<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1}let u=null;for(;null===u;){try{u=await this.getTransactionReceipt(n)}catch(e){if(i<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1,await g2(o)}return u}getStorageAt(e,t,r=this.blockIdentifier){let n=f_(e),i=fA(t),a=new g7(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:n,key:i,block_id:a})}getClassHashAt(e,t=this.blockIdentifier){let r=f_(e),n=new g7(t).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:n,contract_address:r})}getClass(e,t=this.blockIdentifier){let r=f_(e),n=new g7(t).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:r,block_id:n})}getClassAt(e,t=this.blockIdentifier){let r=f_(e),n=new g7(t).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:n,contract_address:r})}async getEstimateFee(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!0}){let n=new g7(t).identifier,i={simulation_flags:r?[nB.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:e.map(e=>this.buildTransaction(e,"fee")),block_id:n,...i})}async invoke(e,t){let r;return gN(t)?(r=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{type:nC.INVOKE,sender_address:e.contractAddress,calldata:pJ.toHex(e.calldata),version:nj.V3,signature:gP(e.signature),nonce:f_(t.nonce),resource_bounds:t.resourceBounds,tip:f_(t.tip),paymaster_data:t.paymasterData.map(e=>f_(e)),account_deployment_data:t.accountDeploymentData.map(e=>f_(e)),nonce_data_availability_mode:t.nonceDataAvailabilityMode,fee_data_availability_mode:t.feeDataAvailabilityMode}}),fd(!t.maxFee,()=>{h$.warn(hz.maxFeeInV3,{type:nC.INVOKE})})):(r=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:e.contractAddress,calldata:pJ.toHex(e.calldata),type:nC.INVOKE,max_fee:f_(t.maxFee||0),version:nj.V1,signature:gP(e.signature),nonce:f_(t.nonce)}}),h$.warn(hz.legacyTxWarningMessage,{version:nj.V1,type:nC.INVOKE})),this.waitMode?this.waitForTransaction((await r).transaction_hash):r}async declare({contract:e,signature:t,senderAddress:r,compiledClassHash:n},i){let a;if(gZ(e)||gN(i))if(gZ(e)&&!gN(i))a=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:nC.DECLARE,contract_class:{sierra_program:gD(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},compiled_class_hash:n||"",version:nj.V2,max_fee:f_(i.maxFee||0),signature:gP(t),sender_address:r,nonce:f_(i.nonce)}}),h$.warn(hz.legacyTxWarningMessage,{version:nj.V2,type:nC.DECLARE});else if(gZ(e)&&gN(i))a=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:nC.DECLARE,sender_address:r,compiled_class_hash:n||"",version:nj.V3,signature:gP(t),nonce:f_(i.nonce),contract_class:{sierra_program:gD(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},resource_bounds:i.resourceBounds,tip:f_(i.tip),paymaster_data:i.paymasterData.map(e=>f_(e)),account_deployment_data:i.accountDeploymentData.map(e=>f_(e)),nonce_data_availability_mode:i.nonceDataAvailabilityMode,fee_data_availability_mode:i.feeDataAvailabilityMode}}),fd(!i.maxFee,()=>{h$.warn(hz.maxFeeInV3,{type:nC.DECLARE})});else throw Error("declare unspotted parameters");else a=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:nC.DECLARE,contract_class:{program:e.program,entry_points_by_type:e.entry_points_by_type,abi:e.abi},version:nj.V1,max_fee:f_(i.maxFee||0),signature:gP(t),sender_address:r,nonce:f_(i.nonce)}}),h$.warn(hz.legacyTxWarningMessage,{version:nj.V1,type:nC.DECLARE});return this.waitMode?this.waitForTransaction((await a).transaction_hash):a}async deployAccount({classHash:e,constructorCalldata:t,addressSalt:r,signature:n},i){let a;return gN(i)?(a=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{type:nC.DEPLOY_ACCOUNT,version:nj.V3,signature:gP(n),nonce:f_(i.nonce),contract_address_salt:f_(r||0),constructor_calldata:pJ.toHex(t||[]),class_hash:f_(e),resource_bounds:i.resourceBounds,tip:f_(i.tip),paymaster_data:i.paymasterData.map(e=>f_(e)),nonce_data_availability_mode:i.nonceDataAvailabilityMode,fee_data_availability_mode:i.feeDataAvailabilityMode}}),fd(!i.maxFee,()=>{h$.warn(hz.maxFeeInV3,{type:nC.DEPLOY_ACCOUNT})})):(a=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:pJ.toHex(t||[]),class_hash:f_(e),contract_address_salt:f_(r||0),type:nC.DEPLOY_ACCOUNT,max_fee:f_(i.maxFee||0),version:nj.V1,signature:gP(n),nonce:f_(i.nonce)}}),h$.warn(hz.legacyTxWarningMessage,{version:nj.V1,type:nC.DEPLOY_ACCOUNT})),this.waitMode?this.waitForTransaction((await a).transaction_hash):a}callContract(e,t=this.blockIdentifier){let r=new g7(t).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:fz(e.entrypoint),calldata:pJ.toHex(e.calldata)},block_id:r})}estimateMessageFee(e,t=this.blockIdentifier){let{from_address:r,to_address:n,entry_point_selector:i,payload:a}=e,s={from_address:g0(r),to_address:f_(n),entry_point_selector:fV(i),payload:fD(a)},o=new g7(t).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:s,block_id:o})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}buildTransaction(e,t){let r,n=ya(t);if(gN(e)?(r={signature:gP(e.signature),nonce:f_(e.nonce),resource_bounds:e.resourceBounds,tip:f_(e.tip),paymaster_data:e.paymasterData.map(e=>f_(e)),nonce_data_availability_mode:e.nonceDataAvailabilityMode,fee_data_availability_mode:e.feeDataAvailabilityMode,account_deployment_data:e.accountDeploymentData.map(e=>f_(e))},fd(!e.maxFee,()=>{h$.warn(hz.maxFeeInV3,{type:e.type,versionType:t})})):(r={signature:gP(e.signature),nonce:f_(e.nonce),max_fee:f_(e.maxFee||0)},h$.warn(hz.legacyTxWarningMessage,{version:e.version,type:e.type})),e.type===hZ.INVOKE)return{type:nC.INVOKE,sender_address:e.contractAddress,calldata:pJ.toHex(e.calldata),version:f_(e.version||n.v3),...r};if(e.type===hZ.DECLARE)return gZ(e.contract)?{type:e.type,contract_class:{...e.contract,sierra_program:gD(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:f_(e.version||n.v3),...r}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:f_(e.version||n.v1),...r};if(e.type===hZ.DEPLOY_ACCOUNT){let{account_deployment_data:t,...i}=r;return{type:e.type,constructor_calldata:pJ.toHex(e.constructorCalldata||[]),class_hash:f_(e.classHash),contract_address_salt:f_(e.addressSalt||0),version:f_(e.version||n.v3),...i}}throw Error("RPC buildTransaction received unknown TransactionType")}},yl={};d6(yl,{RpcChannel:()=>yu});var yc={headers:{"Content-Type":"application/json"},blockIdentifier:hQ.PENDING,retries:200},yu=class{id="RPC081";channelSpecVersion=hP.v0_8_1;nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(e){let{baseFetch:t,batch:r,blockIdentifier:n,chainId:i,headers:a,nodeUrl:s,retries:o,specVersion:l,transactionRetryIntervalFallback:c,waitMode:u}=e||{};Object.values(hR).includes(s)?this.nodeUrl=g6(s,e?.default,this.channelSpecVersion):s?this.nodeUrl=s:this.nodeUrl=g6(void 0,e?.default,this.channelSpecVersion),this.baseFetch=t||hV.get("fetch")||g1,this.blockIdentifier=n??yc.blockIdentifier,this.chainId=i,this.headers={...yc.headers,...a},this.retries=o??yc.retries,this.specVersion=l,this.transactionRetryIntervalFallback=c,this.waitMode=u??!1,this.requestId=0,"number"==typeof r&&(this.batchClient=new fc({nodeUrl:this.nodeUrl,headers:this.headers,interval:r,baseFetch:this.baseFetch})),h$.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(e){this.chainId=e}fetch(e,t,r=0){let n={id:r,jsonrpc:"2.0",method:e,...t&&{params:t}};return this.baseFetch(this.nodeUrl,{method:"POST",body:fl(n),headers:this.headers})}errorHandler(e,t,r,n){if(r)throw new gJ(r,e,t);if(n instanceof gQ)throw n;if(n)throw Error(n.message)}async fetchEndpoint(e,t){try{if(this.batchClient){let{error:r,result:n}=await this.batchClient.fetch(e,t,this.requestId+=1);return this.errorHandler(e,t,r),n}let r=await this.fetch(e,t,this.requestId+=1),{error:n,result:i}=await r.json();return this.errorHandler(e,t,n),i}catch(r){throw this.errorHandler(e,t,r?.response?.data,r),r}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){let e=await this.fetchEndpoint("starknet_specVersion");if(gO(this.channelSpecVersion,e)||h$.error(hz.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!gC(e))throw new gQ(`${hz.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=e}return this.specVersion}getMessagesStatus(e){let t=f_(e);return this.fetchEndpoint("starknet_getMessagesStatus",{transaction_hash:t})}getStorageProof(e=[],t=[],r=[],n=this.blockIdentifier){let i=new g7(n).identifier,a=fN(e),s=fN(t);return this.fetchEndpoint("starknet_getStorageProof",{block_id:i,class_hashes:a,contract_addresses:s,contracts_storage_keys:r})}getCompiledCasm(e){let t=f_(e);return this.fetchEndpoint("starknet_getCompiledCasm",{class_hash:t})}getNonceForAddress(e,t=this.blockIdentifier){let r=f_(e),n=new g7(t).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:r,block_id:n})}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:t})}getBlockWithTxs(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:t})}getBlockWithReceipts(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:t})}getBlockStateUpdate(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:t})}getBlockTransactionsTraces(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:t})}getBlockTransactionCount(e=this.blockIdentifier){let t=new g7(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:t})}getTransactionByHash(e){let t=f_(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:t})}getTransactionByBlockIdAndIndex(e,t){let r=new g7(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:t})}getTransactionReceipt(e){let t=f_(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:t})}getTransactionTrace(e){let t=f_(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:t})}getTransactionStatus(e){let t=f_(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:t})}simulateTransaction(e,t={}){let{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!0,skipFeeCharge:i=!0}=t,a=new g7(r).identifier,s=[];return n&&s.push(is.SKIP_VALIDATE),i&&s.push(is.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:a,transactions:e.map(e=>this.buildTransaction(e)),simulation_flags:s})}async waitForTransaction(e,t){let r,n=f_(e),{retries:i}=this,a=!1,s=!1,o=t?.retryInterval??this.transactionRetryIntervalDefault,l=t?.errorStates??[io.REJECTED],c=t?.successStates??[ic.SUCCEEDED,io.ACCEPTED_ON_L2,io.ACCEPTED_ON_L1];for(;!a;){await g2(o);try{let e=(r=await this.getTransactionStatus(n)).execution_status,t=r.finality_status;if(!t)throw Error("waiting for transaction status");if(l.includes(e)||l.includes(t)){let n=`${e}: ${t}`,i=Error(n);throw i.response=r,s=!0,i}(c.includes(e)||c.includes(t))&&(a=!0)}catch(e){if(e instanceof Error&&s)throw e;if(i<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1}let u=null;for(;null===u;){try{u=await this.getTransactionReceipt(n)}catch(e){if(i<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1,await g2(o)}return u}getStorageAt(e,t,r=this.blockIdentifier){let n=f_(e),i=fA(t),a=new g7(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:n,key:i,block_id:a})}getClassHashAt(e,t=this.blockIdentifier){let r=f_(e),n=new g7(t).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:n,contract_address:r})}getClass(e,t=this.blockIdentifier){let r=f_(e),n=new g7(t).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:r,block_id:n})}getClassAt(e,t=this.blockIdentifier){let r=f_(e),n=new g7(t).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:n,contract_address:r})}async getEstimateFee(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!0}){let n=new g7(t).identifier,i={simulation_flags:r?[is.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:e.map(e=>this.buildTransaction(e,"fee")),block_id:n,...i})}async invoke(e,t){let r;if(gN(t))if(h3(t.resourceBounds))r=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{type:ia.INVOKE,sender_address:e.contractAddress,calldata:pJ.toHex(e.calldata),version:ip.V3,signature:gP(e.signature),nonce:f_(t.nonce),resource_bounds:t.resourceBounds,tip:f_(t.tip),paymaster_data:t.paymasterData.map(e=>f_(e)),account_deployment_data:t.accountDeploymentData.map(e=>f_(e)),nonce_data_availability_mode:t.nonceDataAvailabilityMode,fee_data_availability_mode:t.feeDataAvailabilityMode}});else throw Error(hz.SWOldV3);else throw Error(hz.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await r).transaction_hash):r}async declare({contract:e,signature:t,senderAddress:r,compiledClassHash:n},i){let a;if(gZ(e)&&gN(i))if(h3(i.resourceBounds))a=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ia.DECLARE,sender_address:r,compiled_class_hash:n||"",version:ip.V3,signature:gP(t),nonce:f_(i.nonce),contract_class:{sierra_program:gD(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},resource_bounds:i.resourceBounds,tip:f_(i.tip),paymaster_data:i.paymasterData.map(e=>f_(e)),account_deployment_data:i.accountDeploymentData.map(e=>f_(e)),nonce_data_availability_mode:i.nonceDataAvailabilityMode,fee_data_availability_mode:i.feeDataAvailabilityMode}});else throw Error(hz.SWOldV3);else throw Error(hz.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await a).transaction_hash):a}async deployAccount({classHash:e,constructorCalldata:t,addressSalt:r,signature:n},i){let a;if(gN(i))if(h3(i.resourceBounds))a=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{type:ia.DEPLOY_ACCOUNT,version:ip.V3,signature:gP(n),nonce:f_(i.nonce),contract_address_salt:f_(r||0),constructor_calldata:pJ.toHex(t||[]),class_hash:f_(e),resource_bounds:i.resourceBounds,tip:f_(i.tip),paymaster_data:i.paymasterData.map(e=>f_(e)),nonce_data_availability_mode:i.nonceDataAvailabilityMode,fee_data_availability_mode:i.feeDataAvailabilityMode}});else throw Error(hz.SWOldV3);else throw Error(hz.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await a).transaction_hash):a}callContract(e,t=this.blockIdentifier){let r=new g7(t).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:fz(e.entrypoint),calldata:pJ.toHex(e.calldata)},block_id:r})}estimateMessageFee(e,t=this.blockIdentifier){let{from_address:r,to_address:n,entry_point_selector:i,payload:a}=e,s={from_address:g0(r),to_address:f_(n),entry_point_selector:fV(i),payload:fD(a)},o=new g7(t).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:s,block_id:o})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}buildTransaction(e,t){let r,n=ya(t);if(gN(e))r={signature:gP(e.signature),nonce:f_(e.nonce),resource_bounds:e.resourceBounds,tip:f_(e.tip),paymaster_data:e.paymasterData.map(e=>f_(e)),nonce_data_availability_mode:e.nonceDataAvailabilityMode,fee_data_availability_mode:e.feeDataAvailabilityMode,account_deployment_data:e.accountDeploymentData.map(e=>f_(e))};else throw Error("v0,v1,v2 tx are not supported on RPC 0.8");if(e.type===hZ.INVOKE)return{type:ia.INVOKE,sender_address:e.contractAddress,calldata:pJ.toHex(e.calldata),version:f_(e.version||n.v3),...r};if(e.type===hZ.DECLARE){if(!gZ(e.contract))throw h$.error("Cairo 0 -  non Sierra v1 tx are not supported"),Error("Declaring non Sierra contract using RPC 0.8");return{type:e.type,contract_class:{...e.contract,sierra_program:gD(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:f_(e.version||n.v3),...r}}if(e.type===hZ.DEPLOY_ACCOUNT){let{account_deployment_data:t,...i}=r;return{type:e.type,constructor_calldata:pJ.toHex(e.constructorCalldata||[]),class_hash:f_(e.classHash),contract_address_salt:f_(e.addressSalt||0),version:f_(e.version||n.v3),...i}}throw Error("RPC buildTransaction received unknown TransactionType")}},yd=("undefined"!=typeof WebSocket&&WebSocket||"undefined"!=typeof globalThis&&globalThis.WebSocket||"undefined"!=typeof window&&window.WebSocket&&window.WebSocket.bind(window)||"undefined"!=typeof globalThis&&globalThis.WebSocket,class{margin;constructor(e){this.margin=e}estimatedFeeToMaxFee(e){return gU(e,this.margin?.maxFee)}estimateFeeToBounds(e){return gj(e,this.margin?.bounds)}parseGetBlockResponse(e){return e}parseTransactionReceipt(e){return e}parseFeeEstimateResponse(e){let t=e[0];return{overall_fee:fw(t.overall_fee),unit:t.unit,l1_gas_consumed:fE(t.l1_gas_consumed)??fE(t.gas_consumed)??0n,l1_gas_price:fE(t.l1_gas_price)??fE(t.gas_price)??0n,l2_gas_consumed:fE(t.l2_gas_consumed)??void 0,l2_gas_price:fE(t.l2_gas_price)??void 0,l1_data_gas_consumed:fE(t.l1_data_gas_consumed)??fE(t.data_gas_consumed)??0n,l1_data_gas_price:fE(t.l1_data_gas_price)??fE(t.gas_price)??0n,suggestedMaxFee:this.estimatedFeeToMaxFee(t.overall_fee),resourceBounds:this.estimateFeeToBounds(t)}}parseFeeEstimateBulkResponse(e){return e.map(e=>({overall_fee:fw(e.overall_fee),unit:e.unit,l1_gas_consumed:fE(e.l1_gas_consumed)??fE(e.gas_consumed)??0n,l1_gas_price:fE(e.l1_gas_price)??fE(e.gas_price)??0n,l2_gas_consumed:fE(e.l2_gas_consumed)??void 0,l2_gas_price:fE(e.l2_gas_price)??void 0,l1_data_gas_consumed:fE(e.l1_data_gas_consumed)??fE(e.data_gas_consumed)??0n,l1_data_gas_price:fE(e.l1_data_gas_price)??fE(e.gas_price)??0n,suggestedMaxFee:this.estimatedFeeToMaxFee(e.overall_fee),resourceBounds:this.estimateFeeToBounds(e)}))}parseSimulateTransactionResponse(e){return e.map(e=>({...e,suggestedMaxFee:this.estimatedFeeToMaxFee(e.fee_estimation.overall_fee),resourceBounds:this.estimateFeeToBounds(e.fee_estimation)}))}parseContractClassResponse(e){return{...e,abi:fy(e.abi)?JSON.parse(e.abi):e.abi}}parseL1GasPriceResponse(e){return e.l1_gas_price.price_in_wei}}),yh=class e{statusReceipt;value;constructor(t){for(let[r]of([this.statusReceipt,this.value]=e.isSuccess(t)?["success",t]:e.isReverted(t)?["reverted",t]:["error",Error("Unknown response type")],Object.entries(this)))Object.defineProperty(this,r,{enumerable:!1});for(let[e,r]of Object.entries(t))Object.defineProperty(this,e,{enumerable:!0,writable:!1,value:r})}match(e){return this.statusReceipt in e?e[this.statusReceipt](this.value):e._()}isSuccess(){return"success"===this.statusReceipt}isReverted(){return"reverted"===this.statusReceipt}isError(){return"error"===this.statusReceipt}static isSuccess(e){return e.execution_status===hW.SUCCEEDED}static isReverted(e){return e.execution_status===hW.REVERTED}};d6({},{encodeData:()=>yS,encodeType:()=>yA,encodeValue:()=>yI,getDependencies:()=>yv,getMessageHash:()=>yk,getStructHash:()=>yT,getTypeHash:()=>yx,isMerkleTreeType:()=>y_,prepareSelector:()=>yE,validateTypedData:()=>yw,verifyMessage:()=>yN}),d6({},{MerkleTree:()=>yf,proofMerklePath:()=>function e(t,r,n,i=gf){if(0===n.length)return t===r;let[a,...s]=n;return e(t,yf.hash(r,a,i),s,i)}});var yf=class e{leaves;branches=[];root;hashMethod;constructor(e,t=gf){this.hashMethod=t,this.leaves=e,this.root=this.build(e)}build(t){if(1===t.length)return t[0];t.length!==this.leaves.length&&this.branches.push(t);let r=[];for(let n=0;n<t.length;n+=2)n+1===t.length?r.push(e.hash(t[n],"0x0",this.hashMethod)):r.push(e.hash(t[n],t[n+1],this.hashMethod));return this.build(r)}static hash(e,t,r=gf){let[n,i]=[BigInt(e),BigInt(t)].sort((e,t)=>e>=t?1:-1);return r(n,i)}getProof(t,r=this.leaves,n=[]){let i=r.indexOf(t);if(-1===i)throw Error("leaf not found");if(1===r.length)return n;let a=i%2==0,s=(a?r[i+1]:r[i-1])??"0x0",o=[...n,s],l=this.leaves.length===r.length?-1:this.branches.findIndex(e=>e.length===r.length),c=this.branches[l+1]??[this.root];return this.getProof(e.hash(a?t:s,a?s:t,this.hashMethod),c,o)}},yp={u256:JSON.parse('[{ "name": "low", "type": "u128" }, { "name": "high", "type": "u128" }]'),TokenAmount:JSON.parse('[{ "name": "token_address", "type": "ContractAddress" }, { "name": "amount", "type": "u256" }]'),NftId:JSON.parse('[{ "name": "collection_address", "type": "ContractAddress" }, { "name": "token_id", "type": "u256" }]')},yg={[nH.ACTIVE]:{domain:"StarknetDomain",hashMethod:gm,hashMerkleMethod:gp,escapeTypeString:e=>`"${e}"`,presetTypes:yp},[nH.LEGACY]:{domain:"StarkNetDomain",hashMethod:gy,hashMerkleMethod:gf,escapeTypeString:e=>e,presetTypes:{}}};function yy(e,t,{min:r,max:n}){let i=BigInt(e);fu(i>=r&&i<=n,`${i} (${t}) is out of bounds [${r}, ${n}]`)}function ym({types:e,domain:t}){return yg[nH.ACTIVE].domain in e&&t.revision?.toString()===nH.ACTIVE?nH.ACTIVE:yg[nH.LEGACY].domain in e&&(t.revision??nH.LEGACY)===nH.LEGACY?nH.LEGACY:void 0}function yb(e){try{return f_(e)}catch(t){if(fy(e))return f_(fX(e));throw Error(`Invalid BigNumberish: ${e}`)}}function yw(e){return!!(e.message&&e.primaryType&&e.types&&ym(e))}function yE(e){return fb(e)?e:fz(e)}function y_(e){return"merkletree"===e.type}function yv(e,t,r=[],n="",i=nH.LEGACY){let a=[t];return"*"===t[t.length-1]?a=[t.slice(0,-1)]:i===nH.ACTIVE&&("enum"===t?a=[n]:t.match(/^\(.*\)$/)&&(a=t.slice(1,-1).split(",").map(e=>"*"===e[e.length-1]?e.slice(0,-1):e))),a.filter(t=>!r.includes(t)&&e[t]).reduce((t,r)=>[...t,...[r,...e[r].reduce((t,r)=>[...t,...yv(e,r.type,t,r.contains,i).filter(e=>!t.includes(e))],[])].filter(e=>!t.includes(e))],[])}function yA(e,t,r=nH.LEGACY){let n=r===nH.ACTIVE?{...e,...yg[r].presetTypes}:e,[i,...a]=yv(n,t,void 0,void 0,r),s=i?[i,...a.sort()]:[],o=yg[r].escapeTypeString;return s.map(e=>{let t=n[e].map(e=>{let t="enum"===e.type&&r===nH.ACTIVE?e.contains:e.type,n=t.match(/^\(.*\)$/)?`(${t.slice(1,-1).split(",").map(e=>e?o(e):e).join(",")})`:o(t);return`${o(e.name)}:${n}`});return`${o(e)}(${t})`}).join("")}function yx(e,t,r=nH.LEGACY){return fz(yA(e,t,r))}function yI(e,t,r,n={},i=nH.LEGACY){if(e[t])return[t,yT(e,t,r,i)];if(yg[i].presetTypes[t])return[t,yT(yg[i].presetTypes,t,r,i)];if(t.endsWith("*")){let n=r.map(r=>yI(e,t.slice(0,-1),r,void 0,i)[1]);return[t,yg[i].hashMethod(n)]}switch(t){case"enum":if(i===nH.ACTIVE){let[a,s]=Object.entries(r)[0],o=e[n.parent].find(e=>e.name===n.key),l=e[o.contains],c=l.find(e=>e.name===a),u=l.indexOf(c),d=c.type.slice(1,-1).split(",").map((t,r)=>t?yI(e,t,s[r],void 0,i)[1]:t);return[t,yg[i].hashMethod([u,...d])]}return[t,yb(r)];case"merkletree":{let t=function(e,t){if(t.parent&&t.key){let r=e[t.parent].find(e=>e.name===t.key);if(!y_(r))throw Error(`${t.key} is not a merkle tree`);if(r.contains.endsWith("*"))throw Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return r.contains}return"raw"}(e,n),{root:a}=new yf(r.map(r=>yI(e,t,r,void 0,i)[1]),yg[i].hashMerkleMethod);return["felt",a]}case"selector":return["felt",yE(r)];case"string":if(i===nH.ACTIVE){let e=f2(r),n=[e.data.length,...e.data,e.pending_word,e.pending_word_len];return[t,yg[i].hashMethod(n)]}return[t,yb(r)];case"i128":if(i===nH.ACTIVE){let e=BigInt(r);return yy(e,t,hI),[t,yb(e<0n?hE+e:e)]}return[t,yb(r)];case"timestamp":case"u128":return i===nH.ACTIVE&&yy(r,t,hS),[t,yb(r)];case"felt":case"shortstring":return i===nH.ACTIVE&&yy(yb(r),t,hx),[t,yb(r)];case"ClassHash":case"ContractAddress":return i===nH.ACTIVE&&yy(r,t,hx),[t,yb(r)];case"bool":return i===nH.ACTIVE&&fu(fp(r),`Type mismatch for ${t} ${r}`),[t,yb(r)];default:if(i===nH.ACTIVE)throw Error(`Unsupported type: ${t}`);return[t,yb(r)]}}function yS(e,t,r,n=nH.LEGACY){let[i,a]=(e[t]??yg[n].presetTypes[t]).reduce(([i,a],s)=>{if(void 0===r[s.name]||null===r[s.name]&&"enum"!==s.type)throw Error(`Cannot encode data: missing data for '${s.name}'`);let o=r[s.name],l={parent:t,key:s.name},[c,u]=yI(e,s.type,o,l,n);return[[...i,c],[...a,u]]},[["felt"],[yx(e,t,n)]]);return[i,a]}function yT(e,t,r,n=nH.LEGACY){return yg[n].hashMethod(yS(e,t,r,n)[1])}function yk(e,t){if(!yw(e))throw Error("Typed data does not match JSON schema");let r=ym(e),{domain:n,hashMethod:i}=yg[r];return i([fX("StarkNet Message"),yT(e.types,n,e.domain,r),t,yT(e.types,e.primaryType,e.message,r)])}function yN(e,t,r,n){let i=yw(e);if(!fU(e)&&!i)throw Error("message has a wrong format.");if(i&&void 0===n)throw Error("When providing a TypedData in message parameter, the accountAddress parameter has to be provided.");if(i&&!fU(n))throw Error("accountAddress shall be a BigNumberish");let a=i?yk(e,n):f_(e);return oQ(Array.isArray(t)?new o0(BigInt(t[0]),BigInt(t[1])):t,a,f_(r))}var yO=class{responseParser;channel;constructor(e){if(e&&"channel"in e)this.channel=e.channel,this.responseParser="responseParser"in e?e.responseParser:new yd;else{if(e&&e.specVersion)if(gO("0.8",e.specVersion))this.channel=new yl.RpcChannel({...e,waitMode:!1});else if(gO("0.7",e.specVersion))this.channel=new hq.RpcChannel({...e,waitMode:!1});else throw Error(`unsupported channel for spec version: ${e.specVersion}`);else if(gO("0.8",hV.get("rpcVersion")))this.channel=new yl.RpcChannel({...e,waitMode:!1});else if(gO("0.7",hV.get("rpcVersion")))this.channel=new hq.RpcChannel({...e,waitMode:!1});else throw Error("unable to define spec version for channel");this.responseParser=new yd(e?.feeMarginPercentage)}}static async create(e){let t=new hq.RpcChannel({...e}),r=await t.getSpecVersion();if(gC(r)||h$.warn(`Using incompatible node spec version ${r}`),gO("0.7",r))return new this({...e,specVersion:hP.v0_7_1});if(gO("0.8",r))return new this({...e,specVersion:hP.v0_8_1});throw new gQ(`Provided RPC node specification version ${r} is not compatible with the SDK. SDK supported RPC versions ${Object.keys(hP).toString()}`)}fetch(e,t,r=0){return this.channel.fetch(e,t,r)}async getChainId(){return this.channel.getChainId()}readSpecVersion(){return this.channel.readSpecVersion()}async getSpecVersion(){return this.channel.getSpecVersion()}setUpSpecVersion(){return this.channel.setUpSpecVersion()}async getNonceForAddress(e,t){return this.channel.getNonceForAddress(e,t)}async getBlock(e){return this.channel.getBlockWithTxHashes(e).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.channel.getBlockLatestAccepted()}async getBlockNumber(){return this.channel.getBlockNumber()}async getBlockWithTxHashes(e){return this.channel.getBlockWithTxHashes(e)}async getBlockWithTxs(e){return this.channel.getBlockWithTxs(e)}async waitForBlock(e="pending",t=5e3){if(e===hQ.LATEST)return;let r=await this.getBlockNumber(),n=e===hQ.PENDING?r+1:Number(f_(e));if(n<=r)return;let{retries:i}=this.channel,a=i,s=!1;for(;!s;)if(await this.getBlockNumber()===n?s=!0:await g2(t),(a-=1)<=0)throw Error(`waitForBlock() timed-out after ${i} tries.`)}async getL1GasPrice(e){return this.channel.getBlockWithTxHashes(e).then(this.responseParser.parseL1GasPriceResponse)}async getL1MessageHash(e){let t=await this.channel.getTransactionByHash(e);fu("L1_HANDLER"===t.type,"This L2 transaction is not a L1 message.");let{calldata:r,contract_address:n,entry_point_selector:i,nonce:a}=t;return fH([r[0],n,a,i,r.length-1,...r.slice(1)])}async getBlockWithReceipts(e){return this.channel.getBlockWithReceipts(e)}getStateUpdate=this.getBlockStateUpdate;async getBlockStateUpdate(e){return this.channel.getBlockStateUpdate(e)}async getBlockTransactionsTraces(e){return this.channel.getBlockTransactionsTraces(e)}async getBlockTransactionCount(e){return this.channel.getBlockTransactionCount(e)}async getTransaction(e){return this.channel.getTransactionByHash(e)}async getTransactionByHash(e){return this.channel.getTransactionByHash(e)}async getTransactionByBlockIdAndIndex(e,t){return this.channel.getTransactionByBlockIdAndIndex(e,t)}async getTransactionReceipt(e){let t=await this.channel.getTransactionReceipt(e);return new yh(this.responseParser.parseTransactionReceipt(t))}async getTransactionTrace(e){return this.channel.getTransactionTrace(e)}async getTransactionStatus(e){return this.channel.getTransactionStatus(e)}async getSimulateTransaction(e,t){return this.channel.simulateTransaction(e,t).then(e=>this.responseParser.parseSimulateTransactionResponse(e))}async waitForTransaction(e,t){return new yh(await this.channel.waitForTransaction(e,t))}async getStorageAt(e,t,r){return this.channel.getStorageAt(e,t,r)}async getClassHashAt(e,t){return this.channel.getClassHashAt(e,t)}async getClassByHash(e){return this.getClass(e)}async getClass(e,t){return this.channel.getClass(e,t).then(this.responseParser.parseContractClassResponse)}async getClassAt(e,t){return this.channel.getClassAt(e,t).then(this.responseParser.parseContractClassResponse)}async getContractVersion(e,t,{blockIdentifier:r=this.channel.blockIdentifier,compiler:n=!0}={}){let i;if(e)i=await this.getClassAt(e,r);else if(t)i=await this.getClass(t,r);else throw Error("getContractVersion require contractAddress or classHash");return gZ(i)?n?{cairo:"1",compiler:pv(i.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getInvokeEstimateFee(e,t,r,n){return this.channel.getEstimateFee([{type:hZ.INVOKE,...e,...t}],{blockIdentifier:r,skipValidate:n}).then(e=>this.responseParser.parseFeeEstimateResponse(e))}async getDeclareEstimateFee(e,t,r,n){return this.channel.getEstimateFee([{type:hZ.DECLARE,...e,...t}],{blockIdentifier:r,skipValidate:n}).then(e=>this.responseParser.parseFeeEstimateResponse(e))}async getDeployAccountEstimateFee(e,t,r,n){return this.channel.getEstimateFee([{type:hZ.DEPLOY_ACCOUNT,...e,...t}],{blockIdentifier:r,skipValidate:n}).then(e=>this.responseParser.parseFeeEstimateResponse(e))}async getEstimateFeeBulk(e,t){return this.channel.getEstimateFee(e,t).then(e=>this.responseParser.parseFeeEstimateBulkResponse(e))}async invokeFunction(e,t){return this.channel.invoke(e,t)}async declareContract(e,t){return this.channel.declare(e,t)}async deployAccountContract(e,t){return this.channel.deployAccount(e,t)}async callContract(e,t){return this.channel.callContract(e,t)}async estimateMessageFee(e,t){return this.channel.estimateMessageFee(e,t)}async getSyncingStats(){return this.channel.getSyncingStats()}async getEvents(e){return this.channel.getEvents(e)}async verifyMessageInStarknet(e,t,r,n,i){let a,s=yw(e);if(!fU(e)&&!s)throw Error("message has a wrong format.");if(!fU(r))throw Error("accountAddress shall be a BigNumberish");let o=s?yk(e,r):f_(e),l=i||{okResponse:[],nokResponse:["0x0","0x00"],error:["argent/invalid-signature","0x617267656e742f696e76616c69642d7369676e6174757265","is invalid, with respect to the public key","0x697320696e76616c6964","INVALID_SIG","0x494e56414c49445f534947"]};for(let e of n?[n]:["isValidSignature","is_valid_signature"])try{let n=await this.callContract({contractAddress:f_(r),entrypoint:e,calldata:pJ.compile({hash:fw(o).toString(),signature:gM(t)})});if(l.nokResponse.includes(n[0].toString()))return!1;if(0===l.okResponse.length||l.okResponse.includes(n[0].toString()))return!0;throw Error("signatureVerificationResponse Error: response is not part of known responses")}catch(e){if(l.error.some(t=>e.message.includes(t)))return!1;a=e}throw Error(`Signature verification Error: ${a}`)}async isClassDeclared(e,t){let r;if(!e.classHash&&"contract"in e)r=gG(e).classHash;else if(e.classHash)r=e.classHash;else throw Error("contractClassIdentifier type not satisfied");try{return await this.getClass(r,t) instanceof Object}catch(e){if(e instanceof gQ)return!1;throw e}}async prepareInvocations(e){let t=[];for(let r of e)r.type===hZ.DECLARE?await this.isClassDeclared("payload"in r?r.payload:r)||t.unshift(r):t.push(r);return t}async getL1MessagesStatus(e){if(this.channel instanceof yl.RpcChannel)return this.channel.getMessagesStatus(e);throw new gQ("Unsupported method for RPC version")}async getStorageProof(e,t,r,n){if(this.channel instanceof yl.RpcChannel)return this.channel.getStorageProof(e,t,r,n);throw new gQ("Unsupported method for RPC version")}async getCompiledCasm(e){if(this.channel instanceof yl.RpcChannel)return this.channel.getCompiledCasm(e);throw new gQ("Unsupported method for RPC version")}};d6({},{StarknetIdContract:()=>yF,StarknetIdIdentityContract:()=>yV,StarknetIdMulticallContract:()=>y$,StarknetIdPfpContract:()=>yG,StarknetIdPopContract:()=>yK,StarknetIdVerifierContract:()=>yY,dynamicCallData:()=>y0,dynamicFelt:()=>yX,execution:()=>yJ,getStarknetIdContract:()=>yz,getStarknetIdIdentityContract:()=>yH,getStarknetIdMulticallContract:()=>yq,getStarknetIdPfpContract:()=>yW,getStarknetIdPopContract:()=>yQ,getStarknetIdVerifierContract:()=>yZ,isStarkDomain:()=>y1,useDecoded:()=>yU,useEncoded:()=>yj});var yC="abcdefghijklmnopqrstuvwxyz0123456789-",yB=BigInt(yC.length+1),yD="",yR=BigInt(yC.length),yM=BigInt(yD.length),yL=BigInt(yD.length+1);function yP(e){let t=0;for(;e.endsWith(yD[yD.length-1]);)e=e.substring(0,e.length-1),t+=1;return[e,t]}function yU(e){let t="";return(e.forEach(e=>{for(;e!==hy;){let r=e%yB;if(e/=yB,r===BigInt(yC.length)){let r=e/yL;if(r===hy){let n=e%yL;e=r,n===hy?t+=yC[0]:t+=yD[Number(n)-1]}else t+=yD[Number(e%yM)],e/=yM}else t+=yC[Number(r)]}let[r,n]=yP(t);n&&(t=r+(n%2==0?yD[yD.length-1].repeat(n/2-1)+yD[0]+yC[1]:yD[yD.length-1].repeat((n-1)/2+1))),t+="."}),t)?t.concat("stark"):t}function yj(e){let t=BigInt(0),r=BigInt(1);if(e.endsWith(yD[0]+yC[1])){let[t,r]=yP(e.substring(0,e.length-2));e=t+yD[yD.length-1].repeat(2*(r+1))}else{let[t,r]=yP(e);r&&(e=t+yD[yD.length-1].repeat(1+2*(r-1)))}for(let n=0;n<e.length;n+=1){let i=e[n],a=yC.indexOf(i),s=BigInt(yC.indexOf(i));-1!==a?n===e.length-1&&e[n]===yC[0]?(t+=r*yR,r*=yB*yB):(t+=r*s,r*=yB):-1!==yD.indexOf(i)&&(t+=r*yR,r*=yB,t+=r*BigInt(+(n===e.length-1)+yD.indexOf(i)),r*=yM)}return t}var yF={MAINNET:"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",TESTNET_SEPOLIA:"0x154bc2e1af9260b9e66af0e9c46fc757ff893b3ff6a85718a810baf1474"};function yz(e){switch(e){case hM.SN_MAIN:return yF.MAINNET;case hM.SN_SEPOLIA:return yF.TESTNET_SEPOLIA;default:throw Error("Starknet.id is not yet deployed on this network")}}var yV={MAINNET:"0x05dbdedc203e92749e2e746e2d40a768d966bd243df04a6b712e222bc040a9af",TESTNET_SEPOLIA:"0x3697660a0981d734780731949ecb2b4a38d6a58fc41629ed611e8defda"};function yH(e){switch(e){case hM.SN_MAIN:return yV.MAINNET;case hM.SN_SEPOLIA:return yV.TESTNET_SEPOLIA;default:throw Error("Starknet.id verifier contract is not yet deployed on this network")}}var y$="0x034ffb8f4452df7a613a0210824d6414dbadcddce6c6e19bf4ddc9e22ce5f970";function yq(e){switch(e){case hM.SN_MAIN:case hM.SN_SEPOLIA:return y$;default:throw Error("Starknet.id multicall contract is not yet deployed on this network")}}var yY={MAINNET:"0x07d14dfd8ee95b41fce179170d88ba1f0d5a512e13aeb232f19cfeec0a88f8bf",TESTNET_SEPOLIA:"0x60B94fEDe525f815AE5E8377A463e121C787cCCf3a36358Aa9B18c12c4D566"};function yZ(e){switch(e){case hM.SN_MAIN:return yY.MAINNET;case hM.SN_SEPOLIA:return yY.TESTNET_SEPOLIA;default:throw Error("Starknet.id verifier contract is not yet deployed on this network")}}var yG={MAINNET:"0x070aaa20ec4a46da57c932d9fd89ca5e6bb9ca3188d3df361a32306aff7d59c7",TESTNET_SEPOLIA:"0x9e7bdb8dabd02ea8cfc23b1d1c5278e46490f193f87516ed5ff2dfec02"};function yW(e){switch(e){case hM.SN_MAIN:return yG.MAINNET;case hM.SN_SEPOLIA:return yG.TESTNET_SEPOLIA;default:throw Error("Starknet.id profile picture verifier contract is not yet deployed on this network")}}var yK={MAINNET:"0x0293eb2ba9862f762bd3036586d5755a782bd22e6f5028320f1d0405fd47bff4",TESTNET_SEPOLIA:"0x15ae88ae054caa74090b89025c1595683f12edf7a4ed2ad0274de3e1d4a"};function yQ(e){switch(e){case hM.SN_MAIN:return yK.MAINNET;case hM.SN_SEPOLIA:return yK.TESTNET_SEPOLIA;default:throw Error("Starknet.id proof of personhood verifier contract is not yet deployed on this network")}}function yJ(e,t,r){return new pT({Static:e,IfEqual:t?pI(t[0],t[1],t[2]):void 0,IfNotEqual:r?pI(r[0],r[1],r[2]):void 0})}function yX(e,t){return new pT({Hardcoded:e,Reference:t?pI(t[0],t[1]):void 0})}function y0(e,t,r){return new pT({Hardcoded:e,Reference:t?pI(t[0],t[1]):void 0,ArrayReference:r?pI(r[0],r[1]):void 0})}function y1(e){return/^(?:[a-z0-9-]{1,48}(?:[a-z0-9-]{1,48}[a-z0-9-])?\.)*[a-z0-9-]{1,48}\.stark$/.test(e)}var y2=class e{async getStarkName(t,r){return e.getStarkName(this,t,r)}async getAddressFromStarkName(t,r){return e.getAddressFromStarkName(this,t,r)}async getStarkProfile(t,r,n,i,a,s,o){return e.getStarkProfile(this,t,r,n,i,a,s,o)}static async getStarkName(e,t,r){let n=await e.getChainId(),i=r??yz(n);try{let r=(await e.callContract({contractAddress:i,entrypoint:"address_to_domain",calldata:pJ.compile({address:t,hint:[]})})).map(e=>BigInt(e)).slice(1),n=yU(r);if(!n)throw Error("Starkname not found");return n}catch(e){if(e instanceof Error&&"Starkname not found"===e.message)throw e;throw Error("Could not get stark name")}}static async getAddressFromStarkName(e,t,r){let n=t.endsWith(".stark")?t:`${t}.stark`;if(!y1(n))throw Error("Invalid domain, must be a valid .stark domain");let i=await e.getChainId(),a=r??yz(i);try{let t=n.replace(".stark","").split(".").map(e=>yj(e).toString(10));return(await e.callContract({contractAddress:a,entrypoint:"domain_to_address",calldata:pJ.compile({domain:t,hint:[]})}))[0]}catch{throw Error("Could not get address from stark name")}}static async getStarkProfile(e,t,r,n,i,a,s,o){let l=await e.getChainId(),c=r??yz(l),u=n??yH(l),d=i??yZ(l),h=a??yW(l),f=s??yQ(l),p=o??yq(l);try{let r=[{execution:yJ({}),to:y0(c),selector:y0(fz("address_to_domain")),calldata:[y0(t),y0("0")]},{execution:yJ({}),to:yX(c),selector:yX(fz("domain_to_id")),calldata:[y0(void 0,void 0,[0,0])]},{execution:yJ({}),to:yX(u),selector:yX(fz("get_verifier_data")),calldata:[y0(void 0,[1,0]),y0(fX("twitter")),y0(d),y0("0")]},{execution:yJ({}),to:yX(u),selector:yX(fz("get_verifier_data")),calldata:[y0(void 0,[1,0]),y0(fX("github")),y0(d),y0("0")]},{execution:yJ({}),to:yX(u),selector:yX(fz("get_verifier_data")),calldata:[y0(void 0,[1,0]),y0(fX("discord")),y0(d),y0("0")]},{execution:yJ({}),to:yX(u),selector:yX(fz("get_verifier_data")),calldata:[y0(void 0,[1,0]),y0(fX("proof_of_personhood")),y0(f),y0("0")]},{execution:yJ({}),to:yX(u),selector:yX(fz("get_verifier_data")),calldata:[y0(void 0,[1,0]),y0(fX("nft_pp_contract")),y0(h),y0("0")]},{execution:yJ({}),to:yX(u),selector:yX(fz("get_extended_verifier_data")),calldata:[y0(void 0,[1,0]),y0(fX("nft_pp_id")),y0("2"),y0(h),y0("0")]},{execution:yJ(void 0,void 0,[6,0,0]),to:yX(void 0,[6,0]),selector:yX(fz("tokenURI")),calldata:[y0(void 0,[7,1]),y0(void 0,[7,2])]}],n=await e.callContract({contractAddress:p,entrypoint:"aggregate",calldata:pJ.compile({calls:r})});if(Array.isArray(n)){let e=parseInt(n[0],16),t=[],r=1;for(let i=0;i<e;i+=1)if(r<n.length){let e=parseInt(n[r],16);r+=1;let i=n.slice(r,r+e);t.push(i),r+=e}else break;let i=yU(t[0].slice(1).map(e=>BigInt(e))),a="0x0"!==t[2][0]?BigInt(t[2][0]).toString():void 0,s="0x0"!==t[3][0]?BigInt(t[3][0]).toString():void 0,o="0x0"!==t[4][0]?BigInt(t[4][0]).toString():void 0,l="0x1"===t[5][0],c=("0x9"===n[0]?t[8].slice(1).map(e=>f0(e)).join(""):void 0)||`https://starknet.id/api/identicons/${BigInt(t[1][0]).toString()}`;return{name:i,twitter:a,github:s,discord:o,proofOfPersonhood:l,profilePicture:c}}throw Error("Error while calling aggregate function")}catch(e){if(e instanceof Error)throw e;throw Error("Could not get user stark profile data from address")}}},y5=class extends dX(yO,y2){};new yO({default:!0});var y3=class{pk;constructor(e=o1.randomPrivateKey()){this.pk=e instanceof Uint8Array?ha(e):f_(e)}async getPubKey(){return o6(this.pk)}async signMessage(e,t){let r=yk(e,t);return this.signRaw(r)}async signTransaction(e,t){let r,n=yn(e,t.cairoVersion);if(Object.values(d9.ETransactionVersion2).includes(t.version))r=gu({...t,senderAddress:t.walletAddress,compiledCalldata:n,version:t.version});else if(Object.values(d9.ETransactionVersion3).includes(t.version))r=gu({...t,senderAddress:t.walletAddress,compiledCalldata:n,version:t.version,nonceDataAvailabilityMode:gz(t.nonceDataAvailabilityMode),feeDataAvailabilityMode:gz(t.feeDataAvailabilityMode)});else throw Error("unsupported signTransaction version");return this.signRaw(r)}async signDeployAccountTransaction(e){let t,r=pJ.compile(e.constructorCalldata);if(Object.values(d9.ETransactionVersion2).includes(e.version))t=gh({...e,salt:e.addressSalt,constructorCalldata:r,version:e.version});else if(Object.values(d9.ETransactionVersion3).includes(e.version))t=gh({...e,salt:e.addressSalt,compiledConstructorCalldata:r,version:e.version,nonceDataAvailabilityMode:gz(e.nonceDataAvailabilityMode),feeDataAvailabilityMode:gz(e.feeDataAvailabilityMode)});else throw Error("unsupported signDeployAccountTransaction version");return this.signRaw(t)}async signDeclareTransaction(e){let t;if(Object.values(d9.ETransactionVersion2).includes(e.version))t=gd({...e,version:e.version});else if(Object.values(d9.ETransactionVersion3).includes(e.version))t=gd({...e,version:e.version,nonceDataAvailabilityMode:gz(e.nonceDataAvailabilityMode),feeDataAvailabilityMode:gz(e.feeDataAvailabilityMode)});else throw Error("unsupported signDeclareTransaction version");return this.signRaw(t)}async signRaw(e){return oK(e,this.pk)}};function y6(e){return new f4(e).toBigInt()}function y4(e){return f4.is(e)}function y8(e){return new f4(e).toUint256HexString()}function y9(e){return"event"===e.type}function y7(e){return pE(e)?function(e){let t=e.filter(e=>y9(e)&&"struct"===e.kind),r=e.filter(e=>y9(e)&&"enum"===e.kind);return t.reduce((e,t)=>{let n=[],{name:i}=t,a=!1,s=e=>e.type===i;for(;;){let e=r.find(e=>e.variants.some(s));if(fh(e))break;let t=e.variants.find(s);n.unshift(t.name),"flat"===t.kind&&(a=!0),i=e.name}if(0===n.length)throw Error("inconsistency in ABI events definition.");a&&(n=[n[n.length-1]]);let o={[ho(ll(hr(n.pop())).toString(16))]:t};for(;n.length>0;)o={[ho(ll(hr(n.pop())).toString(16))]:o};return function e(t,r){let n={...t};return fm(t)&&fm(r)&&Object.keys(r).forEach(i=>{fm(r[i])&&i in t?n[i]=e(t[i],r[i]):Object.assign(n,{[i]:r[i]})}),n}(e,o={...o})},{})}(e):e.filter(e=>"event"===e.type).reduce((e,t)=>{let r=t.name,n={...t};return n.name=r,{...e,[ho(ll(hr(r)).toString(16))]:n}},{})}function me(e,t,r,n){return e.flat().reduce((e,i)=>{let a=JSON.parse(JSON.stringify(i)),s=t[a.keys.shift()??0];if(!s)return e;for(;!s.name;){let e=a.keys.shift();fu(!!e,'Not enough data in "keys" property of this event.'),s=s[e]}let o={};o[s.name]={};let l=a.keys[Symbol.iterator](),c=a.data[Symbol.iterator](),u=s.members?.filter(e=>"key"===e.kind)||s.keys,d=s.members?.filter(e=>"data"===e.kind)||s.data;return u.forEach(e=>{o[s.name][e.name]=pH(l,e,r,n,o[s.name])}),d.forEach(e=>{o[s.name][e.name]=pH(c,e,r,n,o[s.name])}),"block_hash"in a&&(o.block_hash=a.block_hash),"block_number"in a&&(o.block_number=a.block_number),"transaction_hash"in a&&(o.transaction_hash=a.transaction_hash),e.push(o),e},[])}function mt(e){if(!e.events?.length)throw Error("UDC emitted event is empty");let t=e.events.find(e=>fS(e.from_address)===fS(hT.ADDRESS))||{data:[]};return{transaction_hash:e.transaction_hash,contract_address:t.data[0],address:t.data[0],deployer:t.data[1],unique:t.data[2],classHash:t.data[3],calldata_len:t.data[4],calldata:t.data.slice(5,5+parseInt(t.data[4],16)),salt:t.data[t.data.length-1]}}function mr(e){return"calldata_len"in e?{To:e.to,Selector:e.selector,Calldata:e.calldata}:e}function mn(e){let t=e.calldata??[],r=Array.isArray(t)?t:pJ.compile(t);return{to:e.contractAddress,selector:fz(e.entrypoint),calldata:r}}function mi(e,t){let r=mn(e);return"1"===t?{...r,calldata_len:r.calldata.length,calldata:r.calldata}:{To:r.to,Selector:r.selector,Calldata:r.calldata}}function ma(e,t){return{name:"Account.execute_from_outside",version:t,chainId:e,..."2"===t?{revision:"1"}:{}}}function ms(e,t,r,n,i){return"1"===i?{types:fr,primaryType:"OutsideExecution",domain:ma(e,i),message:{...t,nonce:r,calls_len:n.length,calls:n.map(e=>mi(e,i))}}:{types:fn,primaryType:"OutsideExecution",domain:ma(e,i),message:{Caller:t.caller,Nonce:r,"Execute After":t.execute_after,"Execute Before":t.execute_before,Calls:n.map(e=>mi(e,i))}}}function mo(e){let t=e.outsideExecution,r=gM(e.signature);return pJ.compile({outside_execution:t,signature:r})}function ml(e){return(Array.isArray(e)?e:[e]).map(e=>{let t;if(e.version===fi.V1)t="execute_from_outside";else if(e.version===fi.V2)t="execute_from_outside_v2";else throw Error("Unsupported OutsideExecution version");return{contractAddress:f_(e.signerAddress),entrypoint:t,calldata:mo(e)}})}async function mc(e,t,r){let n={contractAddress:f_(t),entrypoint:"supports_interface",calldata:[f_(r)]};try{let t=await e.callContract(n);return 0n!==BigInt(t[0])}catch{return!1}}d6({},{bnToUint256:()=>y8,isUint256:()=>y4,uint256ToBN:()=>y6}),d6({},{getAbiEvents:()=>y7,isAbiEvent:()=>y9,parseEvents:()=>me,parseUDCEvent:()=>mt}),d6({},{buildExecuteFromOutsideCall:()=>ml,buildExecuteFromOutsideCallData:()=>mo,getOutsideCall:()=>mn,getTypedData:()=>ms,toOutsideCallV2:()=>mr}),d6({},{supportsInterface:()=>mc}),d6({},{assertCallsAreStrictlyEqual:()=>md,assertPaymasterTransactionSafety:()=>mh,getDefaultPaymasterNodeUrl:()=>mu});var mu=(e,t=!1)=>{t||h$.info("Using default public node url, please provide nodeUrl in provider options!");let r=hF[e??hR.SN_SEPOLIA],n=Math.floor(Math.random()*r.length);return r[n]};function md(e,t){let r="Provided calls are not strictly equal to the returned calls";fu(t.length-1===e.length,`${r}: Expected ${e.length+1} calls, got ${t.length}`);for(let n=0;n<e.length;n+=1){let i=e[n],a=mr(t[n]),s=e=>fw(e).toString(16).toLowerCase();fu(s(i.contractAddress)===s(a.To),`${r}: Contract address mismatch at call ${n}. Expected: ${i.contractAddress}, Got: ${a.To}`),fu(fz(i.entrypoint)===a.Selector,`${r}: Entrypoint mismatch at call ${n}. Expected: ${i.entrypoint}, Got: ${a.Selector}`);let o=pJ.toCalldata(i.calldata),l=pJ.toCalldata(a.Calldata);fu(o.length===l.length,`${r}: Calldata length mismatch at call ${n}. Expected length: ${o.length}, Got length: ${l.length}`);for(let e=0;e<o.length;e+=1)fu(BigInt(o[e])===BigInt(l[e]),`${r}: Calldata value mismatch at call ${n}, parameter ${e}. Expected: ${o[e]}, Got: ${l[e]}`)}}var mh=(e,t,r,n)=>{if("sponsored"!==r.feeMode.mode&&("invoke"===e.type||"deploy_and_invoke"===e.type)){let i="calls"in e.typed_data.message?e.typed_data.message.calls:e.typed_data.message.Calls;md(t,i),((e,t)=>{fu(BigInt(mr(e[e.length-1]).To)===BigInt(t),"Gas token address is not equal to the provided gas token")})(i,r.feeMode.gasToken),n&&(fu(e.fee.suggested_max_fee_in_gas_token<=n,"Gas token price is too high"),((e,t)=>{let r=mr(e[e.length-1]);fu(BigInt(pJ.toCalldata(r.Calldata)[1])===BigInt(t),"Gas token value is not equal to the provided gas fees")})(i,e.fee.suggested_max_fee_in_gas_token))}},mf=e=>"sponsored"===e.mode?{mode:"sponsored"}:{mode:"default",gas_token:e.gasToken},mp=e=>e?{execute_after:e.executeAfter||1,execute_before:e.executeBefore}:void 0,mg=e=>({version:e.version,feeMode:(e=>"sponsored"===e.mode?{mode:"sponsored"}:{mode:"default",gasToken:e.gas_token})(e.fee_mode),timeBounds:(e=>e?{executeAfter:e.execute_after,executeBefore:e.execute_before}:void 0)(e.time_bounds)}),my={headers:{"Content-Type":"application/json"}},mm=class e{nodeUrl;headers;baseFetch;requestId;constructor(t){if(t instanceof e){this.nodeUrl=t.nodeUrl,this.headers={...my.headers,...t.headers},this.baseFetch=t.baseFetch,this.requestId=t.requestId;return}if(t&&"nodeUrl"in t&&"headers"in t&&"baseFetch"in t){this.nodeUrl=t.nodeUrl??mu(void 0),this.headers={...my.headers,...t.headers},this.baseFetch=t.baseFetch??g1,this.requestId=0;return}let{nodeUrl:r,headers:n,baseFetch:i}=t||{};r&&Object.values(hR).includes(r)?this.nodeUrl=mu(r,t?.default):r?this.nodeUrl=r:this.nodeUrl=mu(void 0,t?.default),this.baseFetch=i??g1,this.headers={...my.headers,...n},this.requestId=0}fetch(e,t,r=0){let n={id:r,jsonrpc:"2.0",method:e,...t&&{params:t}};return this.baseFetch(this.nodeUrl,{method:"POST",body:fl(n),headers:this.headers})}errorHandler(e,t,r,n){if(r)throw new gJ(r,e,t);if(n instanceof gQ)throw n;if(n)throw Error(n.message)}async fetchEndpoint(e,t){try{this.requestId+=1;let r=await this.fetch(e,t,this.requestId),{error:n,result:i}=await r.json();return this.errorHandler(e,t,n),i}catch(r){throw this.errorHandler(e,t,r?.response?.data,r),r}}async isAvailable(){return this.fetchEndpoint("paymaster_isAvailable")}async buildTransaction(e,t){let r;switch(e.type){case"invoke":case"deploy_and_invoke":r={...e,invoke:{user_address:e.invoke.userAddress,calls:e.invoke.calls.map(e=>({to:e.contractAddress,selector:fz(e.entrypoint),calldata:pJ.toHex(e.calldata)}))}};break;default:r=e}let n={version:t.version,fee_mode:mf(t.feeMode),time_bounds:mp(t.timeBounds)},i=await this.fetchEndpoint("paymaster_buildTransaction",{transaction:r,parameters:n}),a={gas_token_price_in_strk:BigInt(i.fee.gas_token_price_in_strk),estimated_fee_in_strk:BigInt(i.fee.estimated_fee_in_strk),estimated_fee_in_gas_token:BigInt(i.fee.estimated_fee_in_gas_token),suggested_max_fee_in_strk:BigInt(i.fee.suggested_max_fee_in_strk),suggested_max_fee_in_gas_token:BigInt(i.fee.suggested_max_fee_in_gas_token)};switch(i.type){case"invoke":return{type:"invoke",typed_data:i.typed_data,parameters:mg(i.parameters),fee:a};case"deploy_and_invoke":return{type:"deploy_and_invoke",deployment:i.deployment,typed_data:i.typed_data,parameters:mg(i.parameters),fee:a};default:return{type:"deploy",deployment:i.deployment,parameters:mg(i.parameters),fee:a}}}async executeTransaction(e,t){let r;switch(e.type){case"invoke":case"deploy_and_invoke":r={...e,invoke:{user_address:e.invoke.userAddress,typed_data:e.invoke.typedData,signature:gP(e.invoke.signature)}};break;default:r=e}let n={version:t.version,fee_mode:mf(t.feeMode),time_bounds:mp(t.timeBounds)};return this.fetchEndpoint("paymaster_executeTransaction",{transaction:r,parameters:n})}async getSupportedTokens(){return this.fetchEndpoint("paymaster_getSupportedTokens").then(e=>e.map(e=>({token_address:e.token_address,decimals:e.decimals,priceInStrk:BigInt(e.price_in_strk)})))}},mb=new mm({default:!0}),mw=class extends y5{signer;address;cairoVersion;transactionVersion;paymaster;constructor(e,t,r,n,i=hV.get("transactionVersion"),a){super(e),this.address=t.toLowerCase(),this.signer=fy(r)||r instanceof Uint8Array?new y3(r):r,n&&(this.cairoVersion=n.toString()),this.transactionVersion=i,this.paymaster=a?new mm(a):mb,h$.debug("Account setup",{transactionVersion:this.transactionVersion,cairoVersion:this.cairoVersion,channel:this.channel.id})}static async create(){throw new gQ("Not supported")}getPreferredVersion(e,t){return this.transactionVersion===hJ.V3?t:this.transactionVersion===hJ.V2?e:hJ.V3}async getNonce(e){return super.getNonceForAddress(this.address,e)}async getNonceSafe(e){try{return fw(e??await this.getNonce())}catch(e){return 0n}}async getCairoVersion(e){if(!this.cairoVersion){let{cairo:t}=e?await super.getContractVersion(void 0,e):await super.getContractVersion(this.address);this.cairoVersion=t}return this.cairoVersion}async estimateFee(e,t={}){return this.estimateInvokeFee(e,t)}async estimateInvokeFee(e,t={}){let{nonce:r,blockIdentifier:n,version:i,skipValidate:a=!0}=t,s=Array.isArray(e)?e:[e],o=fw(r??await this.getNonce()),l=gV(this.getPreferredVersion(hJ.F1,hJ.F3),gH(i)),c=await this.getChainId(),u={...g$(t,await this.channel.setUpSpecVersion()),walletAddress:this.address,nonce:o,maxFee:hy,version:l,chainId:c,cairoVersion:await this.getCairoVersion(),skipValidate:a},d=await this.buildInvocation(s,u);return super.getInvokeEstimateFee({...d},{...g$(t,await this.channel.setUpSpecVersion()),version:l,nonce:o},n,t.skipValidate)}async estimateDeclareFee(e,t={}){let{blockIdentifier:r,nonce:n,version:i,skipValidate:a=!0}=t,s=fw(n??await this.getNonce()),o=gV(gZ(e.contract)?this.getPreferredVersion(hJ.F2,hJ.F3):hJ.F1,gH(i)),l=await this.getChainId(),c=await this.buildDeclarePayload(e,{...g$(t,await this.channel.setUpSpecVersion()),nonce:s,chainId:l,version:o,walletAddress:this.address,maxFee:hy,cairoVersion:void 0,skipValidate:a});return super.getDeclareEstimateFee(c,{...g$(t,await this.channel.setUpSpecVersion()),version:o,nonce:s},r,t.skipValidate)}async estimateAccountDeployFee({classHash:e,addressSalt:t=0,constructorCalldata:r=[],contractAddress:n},i={}){let{blockIdentifier:a,version:s,skipValidate:o=!0}=i,l=gV(this.getPreferredVersion(hJ.F1,hJ.F3),gH(s)),c=await this.getChainId(),u=await this.buildAccountDeployPayload({classHash:e,addressSalt:t,constructorCalldata:r,contractAddress:n},{...g$(i,await this.channel.setUpSpecVersion()),nonce:hy,chainId:c,version:l,walletAddress:this.address,maxFee:hy,cairoVersion:void 0,skipValidate:o});return super.getDeployAccountEstimateFee({...u},{...g$(i,await this.channel.setUpSpecVersion()),version:l,nonce:hy},a,i.skipValidate)}async estimateDeployFee(e,t={}){let r=this.buildUDCContractPayload(e);return this.estimateInvokeFee(r,t)}async estimateFeeBulk(e,t={}){if(!e.length)throw TypeError("Invocations should be non-empty array");let{nonce:r,blockIdentifier:n,version:i,skipValidate:a}=t,s=await this.accountInvocationsFactory(e,{...g$(t,await this.channel.setUpSpecVersion()),versions:[hJ.F1,gV(this.getPreferredVersion(hJ.F2,hJ.F3),i)],nonce:r,blockIdentifier:n,skipValidate:a});return super.getEstimateFeeBulk(s,{blockIdentifier:n,skipValidate:a})}async simulateTransaction(e,t={}){if(!e.length)throw TypeError("Invocations should be non-empty array");let{nonce:r,blockIdentifier:n,skipValidate:i=!0,skipExecute:a,version:s}=t,o=await this.accountInvocationsFactory(e,{...g$(t,await this.channel.setUpSpecVersion()),versions:[hJ.V1,gV(this.getPreferredVersion(hJ.V2,hJ.V3),s)],nonce:r,blockIdentifier:n,skipValidate:i});return super.getSimulateTransaction(o,{blockIdentifier:n,skipValidate:i,skipExecute:a})}async execute(e,t={}){let r=Array.isArray(e)?e:[e],n=fw(t.nonce??await this.getNonce()),i=gV(this.getPreferredVersion(hJ.V1,hJ.V3),t.version),a=await this.getUniversalSuggestedFee(i,{type:hZ.INVOKE,payload:e},{...t,version:i}),s=await this.getChainId(),o={...g$(t,await this.channel.setUpSpecVersion()),resourceBounds:a.resourceBounds,walletAddress:this.address,nonce:n,maxFee:a.maxFee,version:i,chainId:s,cairoVersion:await this.getCairoVersion()},l=await this.signer.signTransaction(r,o),c=yn(r,await this.getCairoVersion());return this.invokeFunction({contractAddress:this.address,calldata:c,signature:l},{...g$(t,await this.channel.setUpSpecVersion()),resourceBounds:a.resourceBounds,nonce:n,maxFee:a.maxFee,version:i})}async buildPaymasterTransaction(e,t){let r;if(!t.deploymentData&&await this.getSnip9Version()===fi.UNSUPPORTED)throw Error("Account is not compatible with SNIP-9");let n={version:"0x1",feeMode:t.feeMode,timeBounds:t.timeBounds};return r=t.deploymentData?e.length>0?{type:"deploy_and_invoke",invoke:{userAddress:this.address,calls:e},deployment:t.deploymentData}:{type:"deploy",deployment:t.deploymentData}:{type:"invoke",invoke:{userAddress:this.address,calls:e}},this.paymaster.buildTransaction(r,n)}async estimatePaymasterTransactionFee(e,t){return(await this.buildPaymasterTransaction(e,t)).fee}async preparePaymasterTransaction(e){let t;switch(e.type){case"deploy_and_invoke":{let r=await this.signMessage(e.typed_data);t={type:"deploy_and_invoke",invoke:{userAddress:this.address,typedData:e.typed_data,signature:gP(r)},deployment:e.deployment};break}case"invoke":{let r=await this.signMessage(e.typed_data);t={type:"invoke",invoke:{userAddress:this.address,typedData:e.typed_data,signature:gP(r)}};break}case"deploy":t={type:"deploy",deployment:e.deployment};break;default:throw Error("Invalid transaction type")}return t}async executePaymasterTransaction(e,t,r){let n=await this.buildPaymasterTransaction(e,t);mh(n,e,t,r);let i=await this.preparePaymasterTransaction(n);return this.paymaster.executeTransaction(i,n.parameters).then(e=>({transaction_hash:e.transaction_hash}))}async declareIfNot(e,t={}){let r=gG(e);try{await this.getClassByHash(r.classHash)}catch(r){return this.declare(e,t)}return{transaction_hash:"",class_hash:r.classHash}}async declare(e,t={}){let r=gG(e),{nonce:n,version:i}=t,a=gV(gZ(e.contract)?this.getPreferredVersion(hJ.V2,hJ.V3):hJ.V1,i),s=await this.getUniversalSuggestedFee(a,{type:hZ.DECLARE,payload:r},{...t,version:a}),o={...g$(t,await this.channel.setUpSpecVersion()),resourceBounds:s.resourceBounds,maxFee:s.maxFee,nonce:fw(n??await this.getNonce()),version:a,chainId:await this.getChainId(),walletAddress:this.address,cairoVersion:void 0},l=await this.buildDeclarePayload(r,o);return this.declareContract(l,o)}async deploy(e,t={}){let{calls:r,addresses:n}=yi(e,this.address);return{...await this.execute(r,t),contract_address:n}}async deployContract(e,t={}){let r=await this.deploy(e,t);return mt(await this.waitForTransaction(r.transaction_hash))}async declareAndDeploy(e,t={}){let{constructorCalldata:r,salt:n,unique:i}=e,a=await this.declareIfNot(e,t);if(""!==a.transaction_hash){let e=await this.waitForTransaction(a.transaction_hash);a={...a,...e}}let s=await this.deployContract({classHash:a.class_hash,salt:n,unique:i,constructorCalldata:r},t);return{declare:{...a},deploy:s}}deploySelf=this.deployAccount;async deployAccount({classHash:e,constructorCalldata:t=[],addressSalt:r=0,contractAddress:n},i={}){let a=gV(this.getPreferredVersion(hJ.V1,hJ.V3),i.version),s=await this.getChainId(),o=pJ.compile(t),l=n??gb(r,e,o,0),c=await this.getUniversalSuggestedFee(a,{type:hZ.DEPLOY_ACCOUNT,payload:{classHash:e,constructorCalldata:o,addressSalt:r,contractAddress:l}},i),u=await this.signer.signDeployAccountTransaction({...g$(i,await this.channel.setUpSpecVersion()),classHash:e,constructorCalldata:o,contractAddress:l,addressSalt:r,chainId:s,resourceBounds:c.resourceBounds,maxFee:c.maxFee,version:a,nonce:hy});return this.deployAccountContract({classHash:e,addressSalt:r,constructorCalldata:t,signature:u},{...g$(i,await this.channel.setUpSpecVersion()),nonce:hy,resourceBounds:c.resourceBounds,maxFee:c.maxFee,version:a})}async signMessage(e){return this.signer.signMessage(e,this.address)}async hashMessage(e){return yk(e,this.address)}async getSnip9Version(){return await mc(this,this.address,hO)?fi.V2:await mc(this,this.address,hN)?fi.V1:fi.UNSUPPORTED}async isValidSnip9Nonce(e){try{let t={contractAddress:this.address,entrypoint:"is_valid_outside_execution_nonce",calldata:[f_(e)]},r=await this.callContract(t);return 0n!==BigInt(r[0])}catch(e){throw Error(`Failed to check if nonce is valid: ${e}`)}}async getSnip9Nonce(){let e=gR();return await this.isValidSnip9Nonce(e)?e:this.getSnip9Nonce()}async getOutsideTransaction(e,t,r,n){if(!fb(e.caller)&&"ANY_CALLER"!==e.caller)throw Error(`The caller ${e.caller} is not valid.`);let i=fb(e.caller)?e.caller:hk,a=Array.isArray(t)?t:[t],s=r??await this.getSnip9Version();if(!s)throw Error("This account is not handling outside transactions.");let o=n?f_(n):await this.getSnip9Nonce(),l=ms(await this.getChainId(),{caller:i,execute_after:e.execute_after,execute_before:e.execute_before},o,a,s),c=await this.signMessage(l);return{outsideExecution:{caller:i,nonce:o,execute_after:e.execute_after,execute_before:e.execute_before,calls:a.map(mn)},signature:c,signerAddress:this.address,version:s}}async executeFromOutside(e,t){let r=ml(e);return this.execute(r,t)}async getUniversalSuggestedFee(e,{type:t,payload:r},n){let i=0,a=gj(hy,void 0,await this.channel.setUpSpecVersion());return e===hJ.V3?a=n.resourceBounds??(await this.getSuggestedFee({type:t,payload:r},n)).resourceBounds:i=n.maxFee??(await this.getSuggestedFee({type:t,payload:r},n)).suggestedMaxFee,{maxFee:i,resourceBounds:a}}async getSuggestedFee({type:e,payload:t},r){switch(e){case hZ.INVOKE:return this.estimateInvokeFee(t,r);case hZ.DECLARE:return this.estimateDeclareFee(t,r);case hZ.DEPLOY_ACCOUNT:return this.estimateAccountDeployFee(t,r);case hZ.DEPLOY:return this.estimateDeployFee(t,r);default:return gF(await this.channel.setUpSpecVersion())}}async buildInvocation(e,t){let r=yn(e,await this.getCairoVersion()),n=t.skipValidate?[]:await this.signer.signTransaction(e,t);return{...g$(t,await this.channel.setUpSpecVersion()),contractAddress:this.address,calldata:r,signature:n}}async buildDeclarePayload(e,t){let{classHash:r,contract:n,compiledClassHash:i}=gG(e),a=g3(n);if(fh(i)&&(t.version===h0.F3||t.version===h0.V3))throw Error("V3 Transaction work with Cairo1 Contracts and require compiledClassHash");let s=t.skipValidate?[]:await this.signer.signDeclareTransaction({...t,...g$(t,await this.channel.setUpSpecVersion()),classHash:r,compiledClassHash:i,senderAddress:t.walletAddress});return{senderAddress:t.walletAddress,signature:s,contract:a,compiledClassHash:i}}async buildAccountDeployPayload({classHash:e,addressSalt:t=0,constructorCalldata:r=[],contractAddress:n},i){let a=pJ.compile(r),s=n??gb(t,e,a,0),o=i.skipValidate?[]:await this.signer.signDeployAccountTransaction({...i,...g$(i,await this.channel.setUpSpecVersion()),classHash:e,contractAddress:s,addressSalt:t,constructorCalldata:a});return{...g$(i,await this.channel.setUpSpecVersion()),classHash:e,addressSalt:t,constructorCalldata:a,signature:o}}buildUDCContractPayload(e){return[].concat(e).map(e=>{let{classHash:t,salt:r="0",unique:n=!0,constructorCalldata:i=[]}=e,a=pJ.compile(i);return{contractAddress:hT.ADDRESS,entrypoint:hT.ENTRYPOINT,calldata:[t,r,fR(n),a.length,...a]}})}async accountInvocationsFactory(e,t){let{nonce:r,blockIdentifier:n,skipValidate:i=!0}=t,a=await this.getNonceSafe(r),s=await this.getChainId(),o=t.versions.map(e=>gV(e)),l="payload"in e[0]?e[0].payload:e[0],c=e[0].type===hZ.DEPLOY_ACCOUNT?await this.getCairoVersion(l.classHash):await this.getCairoVersion();return Promise.all([].concat(e).map(async(e,r)=>{let l="payload"in e?e.payload:e,u={...g$(t,await this.channel.setUpSpecVersion()),walletAddress:this.address,nonce:fw(Number(a)+r),maxFee:hy,chainId:s,cairoVersion:c,version:"",skipValidate:i},d={type:e.type,nonce:fw(Number(a)+r),blockIdentifier:n,version:""};if(e.type===hZ.INVOKE){let e=gq(o[1]);u.version=e,d.version=e;let t=await this.buildInvocation([].concat(l),u);return{...d,...t,...u}}if(e.type===hZ.DEPLOY){let e=gq(o[1]);u.version=e,d.version=e;let t=this.buildUDCContractPayload(l),r=await this.buildInvocation(t,u);return{...d,...r,...u,type:hZ.INVOKE}}if(e.type===hZ.DECLARE){let e=gZ(l.contract)?o[1]:o[0];u.version=e,d.version=e;let t=await this.buildDeclarePayload(l,u);return{...d,...t,...u}}if(e.type===hZ.DEPLOY_ACCOUNT){let e=gq(o[1]);u.version=e,d.version=e;let t=await this.buildAccountDeployPayload(l,u);return{...d,...t,...u}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${e}`)}))}async getStarkName(e=this.address,t){return super.getStarkName(e,t)}};function mE(e,t=!1){return e.request({type:"wallet_requestAccounts",params:{silent_mode:t}})}function m_(e){return e.request({type:"wallet_getPermissions"})}function mv(e,t){return e.request({type:"wallet_watchAsset",params:t})}function mA(e,t){return e.request({type:"wallet_addStarknetChain",params:t})}function mx(e,t){return e.request({type:"wallet_switchStarknetChain",params:{chainId:t}})}function mI(e){return e.request({type:"wallet_requestChainId"})}function mS(e){return e.request({type:"wallet_deploymentData"})}function mT(e,t){return e.request({type:"wallet_addInvokeTransaction",params:t})}function mk(e,t){return e.request({type:"wallet_addDeclareTransaction",params:t})}function mN(e,t){return e.request({type:"wallet_signTypedData",params:t})}function mO(e){return e.request({type:"wallet_supportedSpecs"})}function mC(e,t){e.on("accountsChanged",t)}function mB(e,t){e.on("networkChanged",t)}d6({},{addDeclareTransaction:()=>mk,addInvokeTransaction:()=>mT,addStarknetChain:()=>mA,deploymentData:()=>mS,getPermissions:()=>m_,onAccountChange:()=>mC,onNetworkChanged:()=>mB,requestAccounts:()=>mE,requestChainId:()=>mI,signMessage:()=>mN,supportedSpecs:()=>mO,switchStarknetChain:()=>mx,watchAsset:()=>mv});var mD=class e extends mw{walletProvider;constructor(e,t,r,n,i){super(e,r,"",n,void 0,i),this.walletProvider=t,this.walletProvider.on("accountsChanged",e=>{e&&(this.address=e[0].toLowerCase())}),this.walletProvider.on("networkChanged",e=>{e&&this.channel.setChainId(e)})}onAccountChange(e){mC(this.walletProvider,e)}onNetworkChanged(e){mB(this.walletProvider,e)}requestAccounts(e=!1){return mE(this.walletProvider,e)}getPermissions(){return m_(this.walletProvider)}switchStarknetChain(e){return mx(this.walletProvider,e)}watchAsset(e){return mv(this.walletProvider,e)}addStarknetChain(e){return mA(this.walletProvider,e)}execute(e){let t=[].concat(e).map(e=>{let{contractAddress:t,entrypoint:r,calldata:n}=e;return{contract_address:t,entry_point:r,calldata:n}});return mT(this.walletProvider,{calls:t})}declare(e){let t=gG(e),r=e.contract,n={...r,abi:fl(r.abi)};if(!t.compiledClassHash)throw Error("compiledClassHash is required");let i={compiled_class_hash:t.compiledClassHash,contract_class:n};return mk(this.walletProvider,i)}async deploy(e){let{calls:t,addresses:r}=yi(e,this.address);return{...await this.execute(t),contract_address:r}}signMessage(e){return mN(this.walletProvider,e)}static async connect(t,r,n,i,a=!1){let[s]=await mE(r,a);return new e(t,r,s,n,i)}static async connectSilent(t,r,n,i){return e.connect(t,r,n,i,!0)}};let mR={accountsChanged:new Set,networkChanged:new Set},mM=(e,t)=>{mR[e]?.delete(t)},mL=e=>{mR.accountsChanged.forEach(t=>{try{t(e)}catch(e){console.error("Starknet provider listener error",e)}})},mP=(e,t)=>{mR.networkChanged.forEach(r=>{try{r(e,t)}catch(e){console.error("Starknet provider listener error",e)}})},mU=new y5({nodeUrl:"https://api-3.xverse.app/starknet/rpc"}),mj=d8.StarknetChainId.SN_MAIN;function mF(e,t){if(!t)return;let r=t.toLowerCase(),n=e.selectedAddress!==r,i=e.chainId!==mj;e.selectedAddress=r,e.accounts=[r],e.chainId=mj,e.isConnected=!0,e.account?e.account.address=r:e.account=new mD(e.provider,e,r),n&&mL([r]),i&&mP(e.chainId,e.accounts)}let mz={id:"xverse",name:B.name,icon:B.icon,account:void 0,provider:mU,selectedAddress:void 0,chainId:void 0,isConnected:!1,accounts:[],version:"1.10.1",async request(e){if("wallet_getPermissions"===e.type)return this.isConnected?[nO.ACCOUNTS]:[];if("wallet_requestChainId"===e.type){let e=this.chainId??mj;return this.chainId=e,e}let t=await nN(e);if("wallet_requestAccounts"===e.type){let[e]=t??[];if(!e)throw Error("No Starknet account returned by wallet");mF(this,e)}return t},enable(){return this.request({type:"wallet_requestAccounts"})},on(e,t){d||(d=e=>{let{detail:t}=e;if("accountChange"===t.type){let e=t.addresses?.find(e=>"starknet"===e.purpose);e?mF(mz,e.address):mz.isConnected&&(mz.selectedAddress=void 0,mz.accounts=[],mz.isConnected=!1,mz.account=void 0,mL(void 0))}else"networkChange"===t.type?mP(mz.chainId,mz.accounts):"disconnect"===t.type&&(mz.selectedAddress=void 0,mz.accounts=[],mz.isConnected=!1,mz.account=void 0,mz.chainId=void 0,mL(void 0))},window.addEventListener(nw,d)),mR[e]?.add(t)},off(e,t){mM(e,t)},removeListener(e,t){mM(e,t)}};window.XverseProviders={StacksProvider:nx,BitcoinProvider:nA,StarknetProvider:mz};try{document.currentScript?.dataset.isPriority?Object.defineProperties(window,{StacksProvider:{get:()=>nx,set:()=>{}}}):window.StacksProvider=nx}catch(e){console.log("Failed setting Xverse Stacks default provider. Another wallet may have already set it in an immutable way."),console.error(e)}try{document.currentScript?.dataset.isPriority?Object.defineProperties(window,{BitcoinProvider:{get:()=>nA,set:()=>{}}}):window.BitcoinProvider=nA}catch(e){console.log("Failed setting Xverse Bitcoin default provider. Another wallet may have already set it in an immutable way."),console.error(e)}let mV=["starknet","starknet_xverse"];!function(){let e=window;mV.forEach(t=>{try{delete e[t]}catch{}try{Object.defineProperty(e,t,{value:mz,writable:!1})}catch{}try{e[t]=mz}catch{}})}(),window.btc_providers||(window.btc_providers=[]),window.btc_providers.push(B)})()})();