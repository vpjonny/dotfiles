/*! For license information please see popup-fullpage-confirm-sidebar.split-chunk-5a94f17d.js.LICENSE.txt */
(self.webpackChunktemple_wallet=self.webpackChunktemple_wallet||[]).push([[994],{74582:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(16771);const i=e=>(e=>(0,r.O)(e)&&"string"===typeof e)(e)&&e.length>0},79995:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});const r=()=>{}},19444:(e,t,n)=>{"use strict";var r=n(30972),i=n(76228);t.cS=128,t.On=64,t.J4=64,t.Cc=16,t.wU=16,t.wm=Math.pow(2,32)-1,t.np=255,t._n=255;var a=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]],s=function(){function e(e,n){if(void 0===e&&(e=64),this.digestLength=e,this.blockSize=t.cS,this._state=new Int32Array(a),this._buffer=new Uint8Array(t.cS),this._bufferLength=0,this._ctr=new Uint32Array(4),this._flag=new Uint32Array(4),this._lastNode=!1,this._finished=!1,this._vtmp=new Uint32Array(32),this._mtmp=new Uint32Array(32),e<1||e>t.On)throw new Error("blake2b: wrong digest length");n&&this.validateConfig(n);var i=0;n&&n.key&&(i=n.key.length);var o=1,s=1;n&&n.tree&&(o=n.tree.fanout,s=n.tree.maxDepth),this._state[0]^=e|i<<8|o<<16|s<<24,n&&n.tree&&(this._state[1]^=n.tree.leafSize,this._state[2]^=n.tree.nodeOffsetLowBits,this._state[3]^=n.tree.nodeOffsetHighBits,this._state[4]^=n.tree.nodeDepth|n.tree.innerDigestLength<<8,this._lastNode=n.tree.lastNode),n&&n.salt&&(this._state[8]^=r.readUint32LE(n.salt,0),this._state[9]^=r.readUint32LE(n.salt,4),this._state[10]^=r.readUint32LE(n.salt,8),this._state[11]^=r.readUint32LE(n.salt,12)),n&&n.personalization&&(this._state[12]^=r.readUint32LE(n.personalization,0),this._state[13]^=r.readUint32LE(n.personalization,4),this._state[14]^=r.readUint32LE(n.personalization,8),this._state[15]^=r.readUint32LE(n.personalization,12)),this._initialState=new Uint32Array(this._state),n&&n.key&&i>0&&(this._paddedKey=new Uint8Array(t.cS),this._paddedKey.set(n.key),this._buffer.set(this._paddedKey),this._bufferLength=t.cS)}return e.prototype.reset=function(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=t.cS):this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._finished=!1,this},e.prototype.validateConfig=function(e){if(e.key&&e.key.length>t.J4)throw new Error("blake2b: wrong key length");if(e.salt&&e.salt.length!==t.wU)throw new Error("blake2b: wrong salt length");if(e.personalization&&e.personalization.length!==t.Cc)throw new Error("blake2b: wrong personalization length");if(e.tree){if(e.tree.fanout<0||e.tree.fanout>t.np)throw new Error("blake2b: wrong tree fanout");if(e.tree.maxDepth<0||e.tree.maxDepth>t._n)throw new Error("blake2b: wrong tree depth");if(e.tree.leafSize<0||e.tree.leafSize>t.wm)throw new Error("blake2b: wrong leaf size");if(e.tree.innerDigestLength<0||e.tree.innerDigestLength>t.On)throw new Error("blake2b: wrong tree inner digest length")}},e.prototype.update=function(e,n){if(void 0===n&&(n=e.length),this._finished)throw new Error("blake2b: can't update because hash was finished.");var r=t.cS-this._bufferLength,i=0;if(0===n)return this;if(n>r){for(var a=0;a<r;a++)this._buffer[this._bufferLength+a]=e[i+a];this._processBlock(t.cS),i+=r,n-=r,this._bufferLength=0}for(;n>t.cS;){for(a=0;a<t.cS;a++)this._buffer[a]=e[i+a];this._processBlock(t.cS),i+=t.cS,n-=t.cS,this._bufferLength=0}for(a=0;a<n;a++)this._buffer[this._bufferLength+a]=e[i+a];return this._bufferLength+=n,this},e.prototype.finish=function(e){if(!this._finished){for(var n=this._bufferLength;n<t.cS;n++)this._buffer[n]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}var i=this._buffer.subarray(0,64);for(n=0;n<16;n++)r.writeUint32LE(this._state[n],i,4*n);return e.set(i.subarray(0,e.length)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.clean=function(){i.wipe(this._vtmp),i.wipe(this._mtmp),i.wipe(this._state),i.wipe(this._buffer),i.wipe(this._initialState),this._paddedKey&&i.wipe(this._paddedKey),this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._lastNode=!1,this._finished=!1},e.prototype.saveState=function(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._buffer.set(e.buffer),this._bufferLength=e.bufferLength,this._ctr.set(e.ctr),this._flag.set(e.flag),this._lastNode=e.lastNode,this._paddedKey&&i.wipe(this._paddedKey),this._paddedKey=e.paddedKey?new Uint8Array(e.paddedKey):void 0,this._initialState.set(e.initialState),this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),i.wipe(e.buffer),i.wipe(e.initialState),e.paddedKey&&i.wipe(e.paddedKey),e.bufferLength=0,i.wipe(e.ctr),i.wipe(e.flag),e.lastNode=!1},e.prototype._G=function(e,t,n,r,i,a,o,s,l,c,u,d,h){var f=e[t],p=e[a],g=e[n],m=e[o],A=e[r],y=e[s],v=e[i],b=e[l],x=65535&f,E=f>>>16,w=65535&p,_=p>>>16;E+=g>>>16,w+=65535&m,_+=m>>>16,w+=(E+=(x+=65535&g)>>>16)>>>16,x=65535&(f=65535&x|E<<16),E=f>>>16,w=65535&(p=65535&w|(_+=w>>>16)<<16),_=p>>>16,E+=c>>>16,w+=65535&u,_+=u>>>16,f=65535&(x+=65535&c)|(E+=x>>>16)<<16,x=b^=p=65535&(w+=E>>>16)|(_+=w>>>16)<<16,b=v^=f,v=x,x=65535&A,E=A>>>16,w=65535&y,_=y>>>16,E+=v>>>16,w+=65535&b,_+=b>>>16,x=(g^=A=65535&(x+=65535&v)|(E+=x>>>16)<<16)<<8|(m^=y=65535&(w+=E>>>16)|(_+=w>>>16)<<16)>>>24,g=m<<8|g>>>24,m=x,x=65535&f,E=f>>>16,w=65535&p,_=p>>>16,E+=g>>>16,w+=65535&m,_+=m>>>16,w+=(E+=(x+=65535&g)>>>16)>>>16,x=65535&(f=65535&x|E<<16),E=f>>>16,w=65535&(p=65535&w|(_+=w>>>16)<<16),_=p>>>16,E+=d>>>16,w+=65535&h,_+=h>>>16,x=(v^=f=65535&(x+=65535&d)|(E+=x>>>16)<<16)<<16|(b^=p=65535&(w+=E>>>16)|(_+=w>>>16)<<16)>>>16,v=b<<16|v>>>16,b=x,x=65535&A,E=A>>>16,w=65535&y,_=y>>>16,E+=v>>>16,w+=65535&b,_+=b>>>16,x=(m^=y=65535&(w+=(E+=(x+=65535&v)>>>16)>>>16)|(_+=w>>>16)<<16)<<1|(g^=A=65535&x|E<<16)>>>31,g=g<<1|m>>>31,m=x,e[t]=f,e[a]=p,e[n]=g,e[o]=m,e[r]=A,e[s]=y,e[i]=v,e[l]=b},e.prototype._incrementCounter=function(e){for(var t=0;t<3;t++){var n=this._ctr[t]+e;if(this._ctr[t]=n>>>0,this._ctr[t]===n)return;e=1}},e.prototype._processBlock=function(e){this._incrementCounter(e);var t=this._vtmp;t.set(this._state),t.set(a,16),t[24]^=this._ctr[0],t[25]^=this._ctr[1],t[26]^=this._ctr[2],t[27]^=this._ctr[3],t[28]^=this._flag[0],t[29]^=this._flag[1],t[30]^=this._flag[2],t[31]^=this._flag[3];for(var n=this._mtmp,i=0;i<32;i++)n[i]=r.readUint32LE(this._buffer,4*i);for(var s=0;s<12;s++)this._G(t,0,8,16,24,1,9,17,25,n[o[s][0]],n[o[s][0]+1],n[o[s][1]],n[o[s][1]+1]),this._G(t,2,10,18,26,3,11,19,27,n[o[s][2]],n[o[s][2]+1],n[o[s][3]],n[o[s][3]+1]),this._G(t,4,12,20,28,5,13,21,29,n[o[s][4]],n[o[s][4]+1],n[o[s][5]],n[o[s][5]+1]),this._G(t,6,14,22,30,7,15,23,31,n[o[s][6]],n[o[s][6]+1],n[o[s][7]],n[o[s][7]+1]),this._G(t,0,10,20,30,1,11,21,31,n[o[s][8]],n[o[s][8]+1],n[o[s][9]],n[o[s][9]+1]),this._G(t,2,12,22,24,3,13,23,25,n[o[s][10]],n[o[s][10]+1],n[o[s][11]],n[o[s][11]+1]),this._G(t,4,14,16,26,5,15,17,27,n[o[s][12]],n[o[s][12]+1],n[o[s][13]],n[o[s][13]+1]),this._G(t,6,8,18,28,7,9,19,29,n[o[s][14]],n[o[s][14]+1],n[o[s][15]],n[o[s][15]+1]);for(i=0;i<16;i++)this._state[i]^=t[i]^t[i+16]},e}();t.tW=function(e,n,r){void 0===n&&(n=t.On);var i=new s(n,r);i.update(e);var a=i.digest();return i.clean(),a}},34904:(e,t,n)=>{"use strict";t._S=t.K=t.TP=t.wE=t.Ee=void 0;const r=n(37052),i=n(64974),a=n(76228);function o(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.Ee=64,t.wE=64,t.TP=32;new Uint8Array(32)[0]=9;const s=o(),l=o([1]),c=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t){for(let n=0;n<16;n++)e[n]=0|t[n]}function g(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function m(e,t,n){const r=~(n-1);for(let n=0;n<16;n++){const i=r&(e[n]^t[n]);e[n]^=i,t[n]^=i}}function A(e,t){const n=o(),r=o();for(let e=0;e<16;e++)r[e]=t[e];g(r),g(r),g(r);for(let e=0;e<2;e++){n[0]=r[0]-65517;for(let e=1;e<15;e++)n[e]=r[e]-65535-(n[e-1]>>16&1),n[e-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,m(r,n,1-e)}for(let t=0;t<16;t++)e[2*t]=255&r[t],e[2*t+1]=r[t]>>8}function y(e,t){let n=0;for(let r=0;r<32;r++)n|=e[r]^t[r];return(1&n-1>>>8)-1}function v(e,t){const n=new Uint8Array(32),r=new Uint8Array(32);return A(n,e),A(r,t),y(n,r)}function b(e){const t=new Uint8Array(32);return A(t,e),1&t[0]}function x(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function E(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function w(e,t,n){let r,i,a=0,o=0,s=0,l=0,c=0,u=0,d=0,h=0,f=0,p=0,g=0,m=0,A=0,y=0,v=0,b=0,x=0,E=0,w=0,_=0,S=0,I=0,C=0,M=0,O=0,T=0,P=0,R=0,B=0,k=0,D=0,L=n[0],N=n[1],j=n[2],U=n[3],F=n[4],Q=n[5],z=n[6],H=n[7],G=n[8],V=n[9],K=n[10],W=n[11],q=n[12],Y=n[13],X=n[14],J=n[15];r=t[0],a+=r*L,o+=r*N,s+=r*j,l+=r*U,c+=r*F,u+=r*Q,d+=r*z,h+=r*H,f+=r*G,p+=r*V,g+=r*K,m+=r*W,A+=r*q,y+=r*Y,v+=r*X,b+=r*J,r=t[1],o+=r*L,s+=r*N,l+=r*j,c+=r*U,u+=r*F,d+=r*Q,h+=r*z,f+=r*H,p+=r*G,g+=r*V,m+=r*K,A+=r*W,y+=r*q,v+=r*Y,b+=r*X,x+=r*J,r=t[2],s+=r*L,l+=r*N,c+=r*j,u+=r*U,d+=r*F,h+=r*Q,f+=r*z,p+=r*H,g+=r*G,m+=r*V,A+=r*K,y+=r*W,v+=r*q,b+=r*Y,x+=r*X,E+=r*J,r=t[3],l+=r*L,c+=r*N,u+=r*j,d+=r*U,h+=r*F,f+=r*Q,p+=r*z,g+=r*H,m+=r*G,A+=r*V,y+=r*K,v+=r*W,b+=r*q,x+=r*Y,E+=r*X,w+=r*J,r=t[4],c+=r*L,u+=r*N,d+=r*j,h+=r*U,f+=r*F,p+=r*Q,g+=r*z,m+=r*H,A+=r*G,y+=r*V,v+=r*K,b+=r*W,x+=r*q,E+=r*Y,w+=r*X,_+=r*J,r=t[5],u+=r*L,d+=r*N,h+=r*j,f+=r*U,p+=r*F,g+=r*Q,m+=r*z,A+=r*H,y+=r*G,v+=r*V,b+=r*K,x+=r*W,E+=r*q,w+=r*Y,_+=r*X,S+=r*J,r=t[6],d+=r*L,h+=r*N,f+=r*j,p+=r*U,g+=r*F,m+=r*Q,A+=r*z,y+=r*H,v+=r*G,b+=r*V,x+=r*K,E+=r*W,w+=r*q,_+=r*Y,S+=r*X,I+=r*J,r=t[7],h+=r*L,f+=r*N,p+=r*j,g+=r*U,m+=r*F,A+=r*Q,y+=r*z,v+=r*H,b+=r*G,x+=r*V,E+=r*K,w+=r*W,_+=r*q,S+=r*Y,I+=r*X,C+=r*J,r=t[8],f+=r*L,p+=r*N,g+=r*j,m+=r*U,A+=r*F,y+=r*Q,v+=r*z,b+=r*H,x+=r*G,E+=r*V,w+=r*K,_+=r*W,S+=r*q,I+=r*Y,C+=r*X,M+=r*J,r=t[9],p+=r*L,g+=r*N,m+=r*j,A+=r*U,y+=r*F,v+=r*Q,b+=r*z,x+=r*H,E+=r*G,w+=r*V,_+=r*K,S+=r*W,I+=r*q,C+=r*Y,M+=r*X,O+=r*J,r=t[10],g+=r*L,m+=r*N,A+=r*j,y+=r*U,v+=r*F,b+=r*Q,x+=r*z,E+=r*H,w+=r*G,_+=r*V,S+=r*K,I+=r*W,C+=r*q,M+=r*Y,O+=r*X,T+=r*J,r=t[11],m+=r*L,A+=r*N,y+=r*j,v+=r*U,b+=r*F,x+=r*Q,E+=r*z,w+=r*H,_+=r*G,S+=r*V,I+=r*K,C+=r*W,M+=r*q,O+=r*Y,T+=r*X,P+=r*J,r=t[12],A+=r*L,y+=r*N,v+=r*j,b+=r*U,x+=r*F,E+=r*Q,w+=r*z,_+=r*H,S+=r*G,I+=r*V,C+=r*K,M+=r*W,O+=r*q,T+=r*Y,P+=r*X,R+=r*J,r=t[13],y+=r*L,v+=r*N,b+=r*j,x+=r*U,E+=r*F,w+=r*Q,_+=r*z,S+=r*H,I+=r*G,C+=r*V,M+=r*K,O+=r*W,T+=r*q,P+=r*Y,R+=r*X,B+=r*J,r=t[14],v+=r*L,b+=r*N,x+=r*j,E+=r*U,w+=r*F,_+=r*Q,S+=r*z,I+=r*H,C+=r*G,M+=r*V,O+=r*K,T+=r*W,P+=r*q,R+=r*Y,B+=r*X,k+=r*J,r=t[15],b+=r*L,x+=r*N,E+=r*j,w+=r*U,_+=r*F,S+=r*Q,I+=r*z,C+=r*H,M+=r*G,O+=r*V,T+=r*K,P+=r*W,R+=r*q,B+=r*Y,k+=r*X,D+=r*J,a+=38*x,o+=38*E,s+=38*w,l+=38*_,c+=38*S,u+=38*I,d+=38*C,h+=38*M,f+=38*O,p+=38*T,g+=38*P,m+=38*R,A+=38*B,y+=38*k,v+=38*D,i=1,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=A+i+65535,i=Math.floor(r/65536),A=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,a+=i-1+37*(i-1),i=1,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=A+i+65535,i=Math.floor(r/65536),A=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=l,e[4]=c,e[5]=u,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=g,e[11]=m,e[12]=A,e[13]=y,e[14]=v,e[15]=b}function _(e,t){w(e,t,t)}function S(e,t){const n=o();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)_(n,n),2!==r&&4!==r&&w(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function I(e,t){const n=o(),r=o(),i=o(),a=o(),s=o(),l=o(),c=o(),d=o(),h=o();E(n,e[1],e[0]),E(h,t[1],t[0]),w(n,n,h),x(r,e[0],e[1]),x(h,t[0],t[1]),w(r,r,h),w(i,e[3],t[3]),w(i,i,u),w(a,e[2],t[2]),x(a,a,a),E(s,r,n),E(l,a,i),x(c,a,i),x(d,r,n),w(e[0],s,l),w(e[1],d,c),w(e[2],c,l),w(e[3],s,d)}function C(e,t,n){for(let r=0;r<4;r++)m(e[r],t[r],n)}function M(e,t){const n=o(),r=o(),i=o();S(i,t[2]),w(n,t[0],i),w(r,t[1],i),A(e,r),e[31]^=b(n)<<7}function O(e,t,n){p(e[0],s),p(e[1],l),p(e[2],l),p(e[3],s);for(let r=255;r>=0;--r){const i=n[r/8|0]>>(7&r)&1;C(e,t,i),I(t,e),I(e,e),C(e,t,i)}}function T(e,t){const n=[o(),o(),o(),o()];p(n[0],d),p(n[1],h),p(n[2],l),w(n[3],d,h),O(e,n,t)}function P(e){if(e.length!==t.TP)throw new Error(`ed25519: seed must be ${t.TP} bytes`);const n=(0,i.hash)(e);n[0]&=248,n[31]&=127,n[31]|=64;const r=new Uint8Array(32),a=[o(),o(),o(),o()];T(a,n),M(r,a);const s=new Uint8Array(64);return s.set(e),s.set(r,32),{publicKey:r,secretKey:s}}t.K=P;const R=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function B(e,t){let n,r,i,a;for(r=63;r>=32;--r){for(n=0,i=r-32,a=r-12;i<a;++i)t[i]+=n-16*t[r]*R[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*R[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*R[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function k(e){const t=new Float64Array(64);for(let n=0;n<64;n++)t[n]=e[n];for(let t=0;t<64;t++)e[t]=0;B(e,t)}function D(e,t){const n=o(),r=o(),i=o(),a=o(),u=o(),d=o(),h=o();return p(e[2],l),function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),_(i,e[1]),w(a,i,c),E(i,i,e[2]),x(a,e[2],a),_(u,a),_(d,u),w(h,d,u),w(n,h,i),w(n,n,a),function(e,t){const n=o();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)_(n,n),1!==r&&w(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(n,n),w(n,n,i),w(n,n,a),w(n,n,a),w(e[0],n,a),_(r,e[0]),w(r,r,a),v(r,i)&&w(e[0],e[0],f),_(r,e[0]),w(r,r,a),v(r,i)?-1:(b(e[0])===t[31]>>7&&E(e[0],s,e[0]),w(e[3],e[0],e[1]),0)}t._S=function(e,t){const n=new Float64Array(64),r=[o(),o(),o(),o()],a=(0,i.hash)(e.subarray(0,32));a[0]&=248,a[31]&=127,a[31]|=64;const s=new Uint8Array(64);s.set(a.subarray(32),32);const l=new i.SHA512;l.update(s.subarray(32)),l.update(t);const c=l.digest();l.clean(),k(c),T(r,c),M(s,r),l.reset(),l.update(s.subarray(0,32)),l.update(e.subarray(32)),l.update(t);const u=l.digest();k(u);for(let e=0;e<32;e++)n[e]=c[e];for(let e=0;e<32;e++)for(let t=0;t<32;t++)n[e+t]+=u[e]*a[t];return B(s.subarray(32),n),s}},93664:(e,t,n)=>{"use strict";n.d(t,{JV:()=>p,O:()=>l,lg:()=>r});var r,i=n(17432),a=n(65606);function o(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}"function"===typeof SuppressedError&&SuppressedError;class s extends i.Dr{constructor(e,t,n){super(),this.method=e,this.url=t,this.cause=n,this.name="HttpRequestFailed",this.message=`${e} ${t} ${String(n)}`}}class l extends i.Dr{constructor(e,t,n,r,i){super(),this.message=e,this.status=t,this.statusText=n,this.body=r,this.url=i,this.name="HttpResponseError"}}class c extends i.Dr{constructor(e,t){super(),this.timeout=e,this.url=t,this.name="HttpTimeoutError",this.message=`HTTP request timeout of ${e}ms exceeded`}}!function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.ALREADY_REPORTED=208]="ALREADY_REPORTED",e[e.IM_USED=226]="IM_USED",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.SWITCH_PROXY=306]="SWITCH_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",e[e.URI_TOO_LONG=414]="URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.LOOP_DETECTED=508]="LOOP_DETECTED",e[e.NOT_EXTENDED=510]="NOT_EXTENDED",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"}(r||(r={}));var u;let d,h=null===globalThis||void 0===globalThis?void 0:globalThis.fetch;const f="undefined"!==typeof a&&!!(null===(u=null===a||void 0===a?void 0:a.versions)||void 0===u?void 0:u.node);if(f){const e=n(73727),t=n(57923),r=n(17832);h=e.default||e,Number(a.versions.node.split(".")[0])>=19&&(d=e=>e.startsWith("https")?new t.Agent({keepAlive:!1}):new r.Agent({keepAlive:!1}))}class p{constructor(e=3e4){this.timeout=e}serialize(e){if(!e)return"";const t=[];for(const n in e)if(e.hasOwnProperty(n)&&"undefined"!==typeof e[n]){const r="function"===typeof e[n].toJSON?e[n].toJSON():e[n];if(null===r){t.push(encodeURIComponent(n));continue}if(Array.isArray(r)){r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}));continue}t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}const n=t.join("&");return n?`?${n}`:""}createRequest(e,t){return o(this,arguments,void 0,(function*({url:e,method:t,timeout:n=this.timeout,query:r,headers:i={},json:a=!0},o){const u=e+this.serialize(r);i["Content-Type"]||(i["Content-Type"]="application/json");const p=new AbortController,g=setTimeout((()=>p.abort()),n);try{const e=yield h(u,Object.assign({keepalive:!1,method:t,headers:i,body:JSON.stringify(o),signal:p.signal},f&&d?{agent:d(u)}:{}));if("undefined"===typeof e)throw new Error("Response is undefined");if(e.status>=400){const t=yield e.text();throw new l(`Http error response: (${e.status}) ${t}`,e.status,e.statusText,t,u)}return a?e.json():e.text()}catch(e){throw e instanceof Error&&"AbortError"===e.name?new c(n,u):e instanceof l?e:new s(String(t),u,e)}finally{clearTimeout(g)}}))}}},38608:(e,t,n)=>{"use strict";n.d(t,{Mz:()=>p,su:()=>g});var r=n(48110),i=n(19444),a=n(17432),o=n(48287).Buffer;function s(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}"function"===typeof SuppressedError&&SuppressedError;function l(e){const t=[];e.split("/").forEach((e=>{let n=parseInt(e,10);Number.isNaN(n)||(e.length>1&&"'"===e[e.length-1]&&(n+=2147483648),t.push(n))}));const n=o.alloc(1+4*t.length);return n[0]=t.length,t.forEach(((e,t)=>{n.writeUInt32BE(e,1+4*t)})),n}function c(e,t){const n=o.alloc(32);n.fill(0);let r=t[e],i=e+1;return r>32&&(i+=r-32,r=32),t.copy(n,32-r,i,i+r),{buffer:n,idxValueStart:i,length:r}}class u extends a.IT{constructor(e){super(),this.message=e,this.name="InvalidLedgerResponseError"}}class d extends a.IT{constructor(e){super(),this.cause=e,this.name="PublicKeyRetrievalError",this.message="Unable to retrieve Public Key from Ledger"}}class h extends a.IT{constructor(){super(),this.name="PublicKeyHashRetrievalError",this.message="Unable to retrieve Public Key Hash from Ledger"}}class f extends a.Xi{constructor(e){super(),this.derivationType=e,this.name="InvalidDerivationTypeError",this.message=`Invalid derivation type ${e} expecting one of the following: DerivationType.ED25519, DerivationType.SECP256K1, DerivationType.P256 or DerivationType.BIP32_ED25519`}}var p;!function(e){e[e.ED25519=0]="ED25519",e[e.SECP256K1=1]="SECP256K1",e[e.P256=2]="P256",e[e.BIP32_ED25519=3]="BIP32_ED25519"}(p||(p={}));class g{constructor(e,t="44'/1729'/0'/0'",n=!0,r=p.ED25519){if(this.transport=e,this.path=t,this.prompt=n,this.derivationType=r,this.CLA=128,this.INS_GET_PUBLIC_KEY=2,this.INS_PROMPT_PUBLIC_KEY=3,this.INS_SIGN=4,this.FIRST_MESSAGE_SEQUENCE=0,this.LAST_MESSAGE_SEQUENCE=129,this.OTHER_MESSAGE_SEQUENCE=1,this.transport.setScrambleKey("XTZ"),!t.startsWith("44'/1729'"))throw new a.yy(t,"expecting prefix \"44'/1729'\".");if(!Object.values(p).includes(r))throw new f(r.toString())}publicKeyHash(){return s(this,void 0,void 0,(function*(){if(this._publicKeyHash||(yield this.publicKey()),this._publicKeyHash)return this._publicKeyHash;throw new h}))}publicKey(){return s(this,void 0,void 0,(function*(){if(this._publicKey)return this._publicKey;const e=yield this.getLedgerPublicKey(),t=e[0],n=function(e,t){return 0===t||3===t?e=e.slice(1):(e[0]=2+(1&e[64]),e=e.slice(0,33)),e}(e.slice(1,1+t),this.derivationType),a=this.getPrefixes(),o=(0,r.aP)(n,a.prefPk),s=(0,r.aP)((0,i.tW)(n,20),a.prefPkh);return this._publicKey=o,this._publicKeyHash=s,o}))}getLedgerPublicKey(){return s(this,void 0,void 0,(function*(){try{let e=this.INS_PROMPT_PUBLIC_KEY;!1===this.prompt&&(e=this.INS_GET_PUBLIC_KEY);return yield this.transport.send(this.CLA,e,this.FIRST_MESSAGE_SEQUENCE,this.derivationType,l(this.path))}catch(e){throw new d(e)}}))}secretKey(){return s(this,void 0,void 0,(function*(){throw new a.vz("Secret key cannot be exposed")}))}sign(e,t){return s(this,void 0,void 0,(function*(){const n=function(e,t){let n=e;"undefined"!==typeof t&&(n=o.from(t).toString("hex").concat(e));return n}(e,t),i=o.from(n,"hex");let a=[];a.push(l(this.path)),a=function(e,t){let n=0;for(;n!==t.length;){const r=n+230>=t.length?t.length-n:230,i=o.alloc(r);t.copy(i,0,n,n+r),e.push(i),n+=r}return e}(a,i);const s=yield this.signWithLedger(a);let d;if(this.derivationType===p.ED25519||this.derivationType===p.BIP32_ED25519)d=s.slice(0,s.length-2).toString("hex");else{if(!function(e){let t=!0;49!==e[0]&&48!==e[0]&&(t=!1),e[1]+4!==e.length&&(t=!1),2!==e[2]&&(t=!1);const n=e[3];2!==e[4+n]&&(t=!1);const r=5+n;return r+1+e[r]+2!==e.length&&(t=!1),t}(s))throw new u("Invalid signature return by ledger unable to parse the response");const e=c(3,s),t=c(e.idxValueStart+e.length+1,s);d=o.concat([e.buffer,t.buffer]).toString("hex")}return{bytes:e,sig:(0,r.aP)(d,r.Rk.GenericSignature),prefixSig:(0,r.aP)(d,this.getPrefixes().prefSig),sbytes:e+d}}))}signWithLedger(e){return s(this,void 0,void 0,(function*(){let t=yield this.transport.send(this.CLA,this.INS_SIGN,this.FIRST_MESSAGE_SEQUENCE,this.derivationType,e[0]);for(let n=1;n<e.length;n++){const r=n===e.length-1?this.LAST_MESSAGE_SEQUENCE:this.OTHER_MESSAGE_SEQUENCE;t=yield this.transport.send(this.CLA,this.INS_SIGN,r,this.derivationType,e[n])}return t}))}getPrefixes(){return this.derivationType===p.ED25519||this.derivationType===p.BIP32_ED25519?{prefPk:r.Rk.Ed25519PublicKey,prefPkh:r.Rk.Ed25519PublicKeyHash,prefSig:r.Rk.Ed25519Signature}:this.derivationType===p.SECP256K1?{prefPk:r.Rk.Secp256k1PublicKey,prefPkh:r.Rk.Secp256k1PublicKeyHash,prefSig:r.Rk.Secp256k1Signature}:{prefPk:r.Rk.P256PublicKey,prefPkh:r.Rk.P256PublicKeyHash,prefSig:r.Rk.P256Signature}}}},46576:(e,t,n)=>{"use strict";n.d(t,{B3:()=>Fe,f4:()=>Qe});n(29160);var r=n(48110),i=n(17432),a=n(60346),o=n(48287).Buffer;const s=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),l=(e,t=8)=>e.toString(16).padStart(t,"0");var c;!function(e){e.SECRET="secret",e.RAW="raw",e.TZ1="tz1",e.BRANCH="branch",e.ZARITH="zarith",e.PUBLIC_KEY="public_key",e.PKH="pkh",e.PKH_ARR="pkhArr",e.DELEGATE="delegate",e.SCRIPT="script",e.BALLOT_STATEMENT="ballotStmt",e.PROPOSAL="proposal",e.PROPOSAL_ARR="proposalArr",e.INT32="int32",e.INT16="int16",e.PARAMETERS="parameters",e.ADDRESS="address",e.SMART_CONTRACT_ADDRESS="smart_contract_address",e.SMART_ROLLUP_ADDRESS="smart_rollup_address",e.SMART_ROLLUP_COMMITMENT_HASH="smart_rollup_commitment_hash",e.VALUE="value",e.PADDED_BYTES="padded_bytes",e.SMART_ROLLUP_MESSAGE="smart_rollup_message",e.MANAGER="manager",e.BLOCK_PAYLOAD_HASH="blockPayloadHash",e.ENTRYPOINT="entrypoint",e.OPERATION="operation",e.OP_ACTIVATE_ACCOUNT="activate_account",e.OP_DELEGATION="delegation",e.OP_TRANSACTION="transaction",e.OP_ORIGINATION="origination",e.OP_BALLOT="ballot",e.OP_FAILING_NOOP="failing_noop",e.OP_ATTESTATION="attestation",e.OP_ATTESTATION_WITH_DAL="attestation_with_dal",e.OP_SEED_NONCE_REVELATION="seed_nonce_revelation",e.OP_REVEAL="reveal",e.OP_PROPOSALS="proposals",e.OP_REGISTER_GLOBAL_CONSTANT="register_global_constant",e.OP_TRANSFER_TICKET="transfer_ticket",e.BURN_LIMIT="burn_limit",e.OP_INCREASE_PAID_STORAGE="increase_paid_storage",e.OP_UPDATE_CONSENSUS_KEY="update_consensus_key",e.OP_UPDATE_COMPANION_KEY="update_companion_key",e.SIGNATURE_PROOF="signature_proof",e.OP_DRAIN_DELEGATE="drain_delegate",e.DEPOSITS_LIMIT="deposits_limit",e.OP_SET_DEPOSITS_LIMIT="set_deposits_limit",e.OP_SMART_ROLLUP_ORIGINATE="smart_rollup_originate",e.PVM_KIND="pvm_kind",e.OP_SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",e.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",e.OP_DAL_PUBLISH_COMMITMENT="dal_publish_commitment",e.SLOT_HEADER="slot_header"}(c||(c={}));const u={"00":"parameter","01":"storage","02":"code","03":"False","04":"Elt","05":"Left","06":"None","07":"Pair","08":"Right","09":"Some","0a":"True","0b":"Unit","0c":"PACK","0d":"UNPACK","0e":"BLAKE2B","0f":"SHA256",10:"SHA512",11:"ABS",12:"ADD",13:"AMOUNT",14:"AND",15:"BALANCE",16:"CAR",17:"CDR",18:"CHECK_SIGNATURE",19:"COMPARE","1a":"CONCAT","1b":"CONS","1c":"CREATE_ACCOUNT","1d":"CREATE_CONTRACT","1e":"IMPLICIT_ACCOUNT","1f":"DIP",20:"DROP",21:"DUP",22:"EDIV",23:"EMPTY_MAP",24:"EMPTY_SET",25:"EQ",26:"EXEC",27:"FAILWITH",28:"GE",29:"GET","2a":"GT","2b":"HASH_KEY","2c":"IF","2d":"IF_CONS","2e":"IF_LEFT","2f":"IF_NONE",30:"INT",31:"LAMBDA",32:"LE",33:"LEFT",34:"LOOP",35:"LSL",36:"LSR",37:"LT",38:"MAP",39:"MEM","3a":"MUL","3b":"NEG","3c":"NEQ","3d":"NIL","3e":"NONE","3f":"NOT",40:"NOW",41:"OR",42:"PAIR",43:"PUSH",44:"RIGHT",45:"SIZE",46:"SOME",47:"SOURCE",48:"SENDER",49:"SELF","4a":"STEPS_TO_QUOTA","4b":"SUB","4c":"SWAP","4d":"TRANSFER_TOKENS","4e":"SET_DELEGATE","4f":"UNIT",50:"UPDATE",51:"XOR",52:"ITER",53:"LOOP_LEFT",54:"ADDRESS",55:"CONTRACT",56:"ISNAT",57:"CAST",58:"RENAME",59:"bool","5a":"contract","5b":"int","5c":"key","5d":"key_hash","5e":"lambda","5f":"list",60:"map",61:"big_map",62:"nat",63:"option",64:"or",65:"pair",66:"set",67:"signature",68:"string",69:"bytes","6a":"mutez","6b":"timestamp","6c":"unit","6d":"operation","6e":"address","6f":"SLICE",70:"DIG",71:"DUG",72:"EMPTY_BIG_MAP",73:"APPLY",74:"chain_id",75:"CHAIN_ID",76:"LEVEL",77:"SELF_ADDRESS",78:"never",79:"NEVER","7a":"UNPAIR","7b":"VOTING_POWER","7c":"TOTAL_VOTING_POWER","7d":"KECCAK","7e":"SHA3","7f":"PAIRING_CHECK",80:"bls12_381_g1",81:"bls12_381_g2",82:"bls12_381_fr",83:"sapling_state",84:"sapling_transaction_deprecated",85:"SAPLING_EMPTY_STATE",86:"SAPLING_VERIFY_UPDATE",87:"ticket",88:"TICKET_DEPRECATED",89:"READ_TICKET","8a":"SPLIT_TICKET","8b":"JOIN_TICKETS","8c":"GET_AND_UPDATE","8d":"chest","8e":"chest_key","8f":"OPEN_CHEST",90:"VIEW",91:"view",92:"constant",93:"SUB_MUTEZ",94:"tx_rollup_l2_address",95:"MIN_BLOCK_TIME",96:"sapling_transaction",97:"EMIT",98:"Lambda_rec",99:"LAMBDA_REC","9a":"TICKET","9b":"BYTES","9c":"NAT","9d":"Ticket","9e":"IS_IMPLICIT_ACCOUNT","9f":"INDEX_ADDRESS",a0:"GET_ADDRESS_INDEX"},d=(()=>{const e={};return Object.keys(u).forEach((t=>{e[u[t]]=t})),e})(),h={4:"activate_account",107:"reveal",110:"delegation",108:"transaction",109:"origination",6:"ballot",21:"attestation",23:"attestation_with_dal",1:"seed_nonce_revelation",5:"proposals",111:"register_global_constant",158:"transfer_ticket",112:"set_deposits_limit",113:"increase_paid_storage",114:"update_consensus_key",115:"update_companion_key",9:"drain_delegate",200:"smart_rollup_originate",201:"smart_rollup_add_messages",206:"smart_rollup_execute_outbox_message",230:"dal_publish_commitment",17:"failing_noop"},f=(()=>{const e={};return Object.keys(h).forEach((t=>{const n="string"===typeof t?parseInt(t,10):t;e[h[n]]=l(n,2)})),e})(),p={"00":"default","01":"root","02":"do","03":"set_delegate","04":"remove_delegate","05":"deposit","06":"stake","07":"unstake","08":"finalize_unstake","09":"set_delegate_parameters"},g=(()=>{const e={};return Object.keys(p).forEach((t=>{e[p[t]]=t})),e})();class m extends i.Xi{constructor(e,t){super(),this.operation=e,this.errorDetail=t,this.name="InvalidOperationSchemaError",this.message="Invalid operation content recevied",t&&(this.message+=` ${t}.`)}}class A extends i.Xi{constructor(e){super(),this.entrypoint=e,this.name="OversizedEntryPointError",this.message=`Invalid entrypoint length "${e.length}", maximum length is "31".`}}class y extends i.Xi{constructor(e){super(),this.ballotValue=e,this.name="InvalidBallotValueError",this.message=`Invalid ballot value "${e}" expecting one of the following: "yay", "nay", "pass".`}}class v extends i.Xi{constructor(e){super(),this.ballotValue=e,this.name="DecodeBallotValueError",this.message=`Invalid ballot value "${e}", cannot be decoded.`}}class b extends i.Xi{constructor(e){super(),this.value=e,this.name="UnexpectedMichelsonValueError",this.message=`Invalid Michelson value "${e}", unalbe to encode.`}}class x extends i.Xi{constructor(e){super(),this.message=e,this.name="OperationDecodingError"}}class E extends i.Xi{constructor(e){super(),this.message=e,this.name="OperationEncodingError"}}class w extends i.Xi{constructor(e){super(),this.op=e,this.name="UnsupportedOperationError",this.message=`Unsupported operation "${e}", can submit an issue on our github for feature request.`}}class _ extends i.Xi{constructor(e){super(),this.pvm=e,this.name="UnsupportedPvmKindError",this.message=`Invalid Pvm kind "${e}" expecting either "arith" or "wasm_2_0_0".`}}class S extends i.Xi{constructor(e){super(),this.pvm=e,this.name="DecodePvmKindError",this.message=`Invalid Pvm kind "${e}", cannot be decoded.`}}class I extends i.Xi{constructor(e,t){super(),this.address=e,this.errorDetail=t,this.name="InvalidSmartRollupAddress",this.message=`Invalid smart rollup address "${e}"`,t&&(this.message+=` ${t}.`)}}class C extends i.Xi{constructor(e,t){super(),this.hash=e,this.errorDetail=t,this.name="InvalidSmartRollupCommitmentHashError",this.message=`Invalid smart rollup commitment hash "${e}"`,t&&(this.message+=` ${t}.`)}}class M extends i.Xi{constructor(e,t){super(),this.commitment=e,this.errorDetail=t,this.name="InvalidDalCommitmentError",this.message=`Invalid dal commitment "${e}"`,t&&(this.message+=` ${t}.`)}}class O{static fromHexString(e){const t=e.toLowerCase();if(/^(([a-f]|\d){2})*$/.test(t)){const e=new Uint8Array((t.match(/([a-z]|\d){2}/g)||[]).map((e=>parseInt(e,16))));return new O(e)}throw new i.Sj(t)}constructor(e,t=0){this.arr=e,this.offset=t}consume(e){const t=this.arr.subarray(this.offset,this.offset+e);return this.offset+=e,t}get(e){return this.arr[this.offset+e]}length(){return this.arr.length-this.offset}slice(e,t){return new O(this.arr.slice(e,t))}}const T=e=>{if(Array.isArray(e)){const t=e.map((e=>T(e))).join(""),n=t.length/2;return`02${l(n)}${t}`}if((e=>"prim"in e)(e))return U(e);if((e=>"bytes"in e&&"string"===typeof e.bytes)(e))return B(e);if((e=>"string"in e&&"string"===typeof e.string)(e))return D(e);if((e=>"int"in e&&"string"===typeof e.int)(e))return N(e);throw new b(JSON.stringify(e))},P=e=>{const t=e.consume(1);switch(t[0]){case 10:return k(e);case 1:return L(e);case 0:return j(e);case 2:{const t=new O(R(e)),n=[];for(;t.length()>0;)n.push(P(t));return n}default:return F(e,t)}},R=(e,t=4)=>{const n=e.consume(t),r=parseInt(o.from(n).toString("hex"),16);return e.consume(r)},B=e=>{if(!/^([A-Fa-f0-9]{2})*$/.test(e.bytes))throw new i.Sj(e.bytes);const t=e.bytes.length/2;return`0a${l(t)}${e.bytes}`},k=e=>{const t=R(e);return{bytes:o.from(t).toString("hex")}},D=e=>{const t=o.from(e.string,"utf8").toString("hex"),n=t.length/2;return`01${l(n)}${t}`},L=e=>{const t=R(e);return{string:o.from(t).toString("utf8")}},N=({int:e})=>{const t=new a.g(e,10),n="-"===t.toString(2)[0]?"1":"0",r=t.toString(2).replace(/-/g,""),i=r.length<=6?6:(r.length-6)%7?r.length+7-(r.length-6)%7:r.length,o=r.padStart(i,"0").match(/\d{6,7}/g).reverse();o[0]=n+o[0];return`00${o.map(((e,t)=>parseInt((t===o.length-1?"0":"1")+e,2).toString(16).padStart(2,"0"))).join("")}`},j=e=>{let t=e.consume(1)[0];const n=[];for(;128&t;)n.push(t),t=e.consume(1)[0];n.push(t);const r=!!(64&n[0]);n[0]=127&n[0];const i=n.map(((e,t)=>e.toString(2).slice(0===t?-6:-7).padStart(0===t?6:7,"0"))).reverse();let o=new a.g(i.join(""),2);return r&&(o=o.times(-1)),{int:o.toFixed()}},U=e=>{const t=+Array.isArray(e.annots),n=Array.isArray(e.args)?e.args.length:0,r=l(Math.min(2*n+t+3,9),2),i=d[e.prim];let a=(e.args||[]).map((e=>T(e))).join("");const o=Array.isArray(e.annots)?H(e.annots):"";return"LAMBDA"!==e.prim&&"LAMBDA_REC"!==e.prim||!n||(a=l(a.length/2)+a+l(0)),("pair"===e.prim||"Pair"===e.prim)&&n>2&&(a=""===o?l(a.length/2)+a+l(0):l(a.length/2)+a),"view"===e.prim&&e.args&&(a=l(a.length/2)+a+l(0)),`${r}${i}${a}${o}`},F=(e,t)=>{const n=(t[0]-3)%2===1;let r=Math.floor((t[0]-3)/2);const i=e.consume(1)[0].toString(16).padStart(2,"0"),a={prim:u[i]};if("LAMBDA"!==u[i]&&"LAMBDA_REC"!==u[i]||e.consume(4),"view"===u[i])return 0!=r?Q(e,a):a;let o,s;("pair"===u[i]||"Pair"===u[i])&&r>2&&(o=z(e),r=0,s=G(e));const l=new Array(r).fill(0).map((()=>P(e)));return"LAMBDA"!==u[i]&&"LAMBDA_REC"!==u[i]||e.consume(4),o?a.args=o:l.length&&(a.args=l),s&&""!==s[0]?a.annots=s:n&&(a.annots=G(e)),a},Q=(e,t)=>(e.consume(4),t.args=new Array(4).fill(0).map((()=>P(e))),e.consume(4),t),z=e=>{const t=new O(R(e)),n=[];for(;t.length()>0;)n.push(P(t));return n},H=e=>{const t=e.map((e=>o.from(e,"utf8").toString("hex"))).join("20"),n=t.length/2;return`${l(n)}${t}`},G=e=>{const t=e.consume(4),n=parseInt(o.from(t).toString("hex"),16),r=e.consume(n);return o.from(r).toString("hex").split("20").map((e=>o.from(e,"hex").toString("utf8")))},V=e=>t=>{const[n]=(0,r.$9)(t,[e]);return(0,r.hi)(n)},K=e=>t=>{const n=t.consume(r.Ne[e]);return(0,r.aP)(n,e)},W=K(r.Rk.Ed25519PublicKeyHash),q=K(r.Rk.BlockHash),Y=e=>{const t=e.consume(1);return 0===t[0]?K(r.Rk.Ed25519PublicKeyHash)(e):1===t[0]?K(r.Rk.Secp256k1PublicKeyHash)(e):2===t[0]?K(r.Rk.P256PublicKeyHash)(e):3===t[0]?K(r.Rk.BLS12_381PublicKeyHash)(e):void 0},X=V(r.Rk.BlockHash),J=V(r.Rk.Ed25519PublicKeyHash),$=e=>e?"ff":"00",Z=e=>V(r.Rk.ProtocolHash)(e),ee=e=>K(r.Rk.ProtocolHash)(e),te=e=>255===e.consume(1)[0],ne=e=>{try{return(0,r.Ye)(e)}catch(t){throw new i.$u(e,t instanceof i.Xi?t.result:void 0)}},re=e=>{const t=[];let n=new a.A(e,10);if(n.isNaN())throw new TypeError(`Invalid zarith number ${e}`);for(;;){if(n.lt(128)){n.lt(16)&&t.push("0"),t.push(n.toString(16));break}{let e=n.mod(128);n=n.minus(e),n=n.dividedBy(128),e=e.plus(128),t.push(e.toString(16))}}return t.join("")},ie=e=>{let t=0;for(;t<e.length()&&0!==(128&e.get(t));)t+=1;let n=new a.A(0);for(let r=t;r>=0;r-=1){const t=127&e.get(r);n=n.multipliedBy(128),n=n.plus(t)}return e.consume(t+1),new a.A(n).toString()},ae=V(r.Rk.ValueHash),oe=K(r.Rk.ValueHash),se=(e,t=8)=>`${l(e.length/2,t)}${e}`,le=e=>K(r.Rk.SlotHeader)(e),ce={branch:c.BRANCH,contents:[c.OPERATION]},ue={pkh:c.TZ1,secret:c.SECRET},de={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,public_key:c.PUBLIC_KEY,proof:c.SIGNATURE_PROOF},he={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,delegate:c.DELEGATE},fe={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,amount:c.ZARITH,destination:c.ADDRESS,parameters:c.PARAMETERS},pe={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,balance:c.ZARITH,delegate:c.DELEGATE,script:c.SCRIPT},ge={source:c.PKH,period:c.INT32,proposal:c.PROPOSAL,ballot:c.BALLOT_STATEMENT},me={slot:c.INT16,level:c.INT32,round:c.INT32,block_payload_hash:c.BLOCK_PAYLOAD_HASH},Ae={slot:c.INT16,level:c.INT32,round:c.INT32,block_payload_hash:c.BLOCK_PAYLOAD_HASH,dal_attestation:c.ZARITH},ye={level:c.INT32,nonce:c.RAW},ve={source:c.PKH,period:c.INT32,proposals:c.PROPOSAL_ARR},be={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,value:c.VALUE},xe={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,ticket_contents:c.VALUE,ticket_ty:c.VALUE,ticket_ticketer:c.ADDRESS,ticket_amount:c.ZARITH,destination:c.ADDRESS,entrypoint:c.ENTRYPOINT},Ee={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,amount:c.ZARITH,destination:c.SMART_CONTRACT_ADDRESS},we={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,pk:c.PUBLIC_KEY,proof:c.SIGNATURE_PROOF},_e={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,pk:c.PUBLIC_KEY,proof:c.SIGNATURE_PROOF},Se={consensus_key:c.PKH,delegate:c.PKH,destination:c.PKH},Ie={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,limit:c.DEPOSITS_LIMIT},Ce={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,pvm_kind:c.PVM_KIND,kernel:c.PADDED_BYTES,parameters_ty:c.VALUE,whitelist:c.PKH_ARR},Me={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,message:c.SMART_ROLLUP_MESSAGE},Oe={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,rollup:c.SMART_ROLLUP_ADDRESS,cemented_commitment:c.SMART_ROLLUP_COMMITMENT_HASH,output_proof:c.PADDED_BYTES},Te={source:c.PKH,fee:c.ZARITH,counter:c.ZARITH,gas_limit:c.ZARITH,storage_limit:c.ZARITH,slot_header:c.SLOT_HEADER},Pe={arbitrary:c.PADDED_BYTES},Re=e=>t=>n=>Object.keys(t).reduce(((r,i)=>{const a=t[i];if(n&&Array.isArray(a)){const t=e[a[0]],o=n[i];if(!Array.isArray(o))throw new E(`Invalid operation value "${JSON.stringify(o)}" of key "${i}, expected value to be Array.`);return r+o.reduce(((e,n)=>e+t(n)),"")}return r+(0,e[a])(n[i])}),""),Be=e=>t=>n=>Object.keys(t).reduce(((r,i)=>{const a=t[i];if(Array.isArray(a)){const t=e[a[0]],o=[],s=n.length();for(;n.length()>0;)if(o.push(t(n)),s===n.length())throw new x("Unable to decode value");return Object.assign(Object.assign({},r),{[i]:o})}{const t=(0,e[a])(n);return"undefined"!==typeof t?Object.assign(Object.assign({},r),{[i]:t}):Object.assign({},r)}}),{}),ke={[c.SECRET]:e=>s(e.consume(20)),[c.RAW]:e=>s(e.consume(32)),[c.TZ1]:W,[c.BRANCH]:q,[c.ZARITH]:ie,[c.PUBLIC_KEY]:e=>{switch(e.consume(1)[0]){case 0:return K(r.Rk.Ed25519PublicKey)(e);case 1:return K(r.Rk.Secp256k1PublicKey)(e);case 2:return K(r.Rk.P256PublicKey)(e);case 3:return K(r.Rk.BLS12_381PublicKey)(e);default:throw new r.O7(void 0,r.nA.NO_PREFIX_MATCHED)}},[c.PKH]:Y,[c.PKH_ARR]:e=>{if(!te(e))return;const t=[];for(e.consume(4);e.length()>0;)t.push(Y(e));return t},[c.DELEGATE]:e=>{if(te(e))return Y(e)},[c.INT32]:e=>{const t=e.consume(4);let n=0;for(let e=0;e<t.length;e++)n|=t[e]<<8*(t.length-(e+1));return n},[c.SCRIPT]:e=>{const t=R(e),n=R(e);return{code:P(new O(t)),storage:P(new O(n))}},[c.BALLOT_STATEMENT]:e=>{const t=e.consume(1);switch(t[0]){case 0:return"yay";case 1:return"nay";case 2:return"pass";default:throw new v(t[0].toString())}},[c.PROPOSAL]:ee,[c.PROPOSAL_ARR]:e=>{const t=[];for(e.consume(4);e.length()>0;)t.push(ee(e));return t},[c.PARAMETERS]:e=>{if(0!==e.consume(1)[0]){const t=(e=>{const t=l(e.consume(1)[0],2);if(t in p)return p[t];{const t=R(e,1),n=o.from(t).toString("utf8");if(n.length>31)throw new A(n);return n}})(e),n=R(e);return{entrypoint:t,value:P(new O(n))}}},[c.ADDRESS]:e=>{switch(e.consume(1)[0]){case 0:return Y(e);case 1:{const t=K(r.Rk.ContractHash)(e);return e.consume(1),t}default:throw new i.Ms(e.toString(),": Unable to decode.")}},[c.SMART_ROLLUP_ADDRESS]:e=>K(r.Rk.SmartRollupHash)(e),[c.SMART_CONTRACT_ADDRESS]:e=>{if(1===e.consume(1)[0]){const t=K(r.Rk.ContractHash)(e);return e.consume(1),t}throw new i.mC(e.toString(),r.nA.NO_PREFIX_MATCHED)},[c.SMART_ROLLUP_COMMITMENT_HASH]:e=>K(r.Rk.SmartRollupCommitmentHash)(e),[c.VALUE]:e=>{const t=R(e);return P(new O(t))},[c.INT16]:e=>{const t=e.consume(2);let n=0;for(let e=0;e<t.length;e++)n|=t[e]<<8*(t.length-(e+1));return n},[c.BLOCK_PAYLOAD_HASH]:oe,[c.ENTRYPOINT]:e=>{const t=R(e);return o.from(t).toString("utf8")},[c.BURN_LIMIT]:e=>{const t=e.consume(1);if("00"!==o.from(t).toString("hex"))return ie(e)},[c.DEPOSITS_LIMIT]:e=>{const t=e.consume(1);if("00"!==o.from(t).toString("hex"))return ie(e)},[c.SIGNATURE_PROOF]:e=>{if(te(e))return(e=>{if(e.consume(4),"96"===e.length().toString())return K(r.Rk.BLS12_381Signature)(e);throw new i.vz("we only support decoding of BLSIG signatures")})(e)},[c.PVM_KIND]:e=>{const t=e.consume(1);switch(t[0]){case 0:return"arith";case 1:return"wasm_2_0_0";case 2:return"riscv";default:throw new S(t[0].toString())}},[c.PADDED_BYTES]:e=>{const t=R(e);return o.from(t).toString("hex")},[c.SMART_ROLLUP_MESSAGE]:e=>{const t=R(e);return((e,t=4)=>{const n=[];let r=e;for(;r.length();){const e=r.consume(t),i=parseInt(o.from(e).toString("hex"),16);n.push(r.consume(i)),r=r.slice(i+t)}return n})(new O(t)).map((e=>o.from(e).toString("hex")))},[c.SLOT_HEADER]:e=>{const t=e.consume(1);return{slot_index:Number(t[0].toString(10)),commitment:le(e),commitment_proof:s(e.consume(96))}}};ke[c.OPERATION]=(e=>t=>{const n=t.consume(1),r=h[n[0]];if(void 0===r)throw new w(n[0].toString());const i=e[r](t);if("object"!==typeof i)throw new x("Invalid operation, cannot be decoded.");return Object.assign({kind:r},i)})(ke),ke[c.OP_ACTIVATE_ACCOUNT]=e=>Be(ke)(ue)(e),ke[c.OP_FAILING_NOOP]=e=>Be(ke)(Pe)(e),ke[c.OP_DELEGATION]=e=>Be(ke)(he)(e),ke[c.OP_TRANSACTION]=e=>Be(ke)(fe)(e),ke[c.OP_ORIGINATION]=e=>Be(ke)(pe)(e),ke[c.OP_BALLOT]=e=>Be(ke)(ge)(e),ke[c.OP_ATTESTATION]=e=>Be(ke)(me)(e),ke[c.OP_ATTESTATION_WITH_DAL]=e=>Be(ke)(Ae)(e),ke[c.OP_SEED_NONCE_REVELATION]=e=>Be(ke)(ye)(e),ke[c.OP_PROPOSALS]=e=>Be(ke)(ve)(e),ke[c.OP_REVEAL]=e=>Be(ke)(de)(e),ke[c.OP_REGISTER_GLOBAL_CONSTANT]=e=>Be(ke)(be)(e),ke[c.OP_TRANSFER_TICKET]=e=>Be(ke)(xe)(e),ke[c.OP_INCREASE_PAID_STORAGE]=e=>Be(ke)(Ee)(e),ke[c.OP_UPDATE_CONSENSUS_KEY]=e=>Be(ke)(we)(e),ke[c.OP_UPDATE_COMPANION_KEY]=e=>Be(ke)(_e)(e),ke[c.OP_DRAIN_DELEGATE]=e=>Be(ke)(Se)(e),ke[c.OP_SMART_ROLLUP_ORIGINATE]=e=>Be(ke)(Ce)(e),ke[c.OP_SMART_ROLLUP_ADD_MESSAGES]=e=>Be(ke)(Me)(e),ke[c.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=e=>Be(ke)(Oe)(e),ke[c.OP_DAL_PUBLISH_COMMITMENT]=e=>Be(ke)(Te)(e),ke[c.MANAGER]=Be(ke)(ce),ke[c.OP_SET_DEPOSITS_LIMIT]=e=>Be(ke)(Ie)(e);const De={[c.SECRET]:e=>e,[c.RAW]:e=>e,[c.TZ1]:J,[c.BRANCH]:X,[c.ZARITH]:re,[c.PUBLIC_KEY]:e=>{try{return(0,r.yr)(e)}catch(t){throw new r.O7(e,t instanceof i.Xi?t.result:void 0)}},[c.PKH]:ne,[c.PKH_ARR]:e=>{if(!e)return $(!1);if(0===e.length)return $(!0)+l(0);const t=e.reduce(((e,t)=>e+ne(t)),"");return $(!0)+l(t.length/2)+t},[c.DELEGATE]:e=>e?$(!0)+ne(e):$(!1),[c.SCRIPT]:e=>{const t=T(e.code),n=T(e.storage);return`${l(t.length/2,8)}${t}${l(n.length/2,8)}${n}`},[c.BALLOT_STATEMENT]:e=>{switch(e){case"yay":return"00";case"nay":return"01";case"pass":return"02";default:throw new y(e)}},[c.PROPOSAL]:Z,[c.PROPOSAL_ARR]:e=>l(32*e.length)+e.map((e=>Z(e))).join(""),[c.INT32]:e=>{const t=parseInt(String(e),10),n=[];for(let e=0;e<4;e++){const r=8*(4-(e+1));n.push((t&255<<r)>>r)}return o.from(n).toString("hex")},[c.PARAMETERS]:e=>{if(!e||"default"===e.entrypoint&&"prim"in e.value&&"Unit"===e.value.prim)return"00";const t=(e=>{if(e in g)return`${g[e]}`;if(e.length>31)throw new A(e);return`ff${T({string:e}).slice(8)}`})(e.entrypoint),n=T(e.value);return`ff${t}${l(n.length/2)}${n}`},[c.ADDRESS]:e=>(0,r.Qk)(e),[c.SMART_ROLLUP_ADDRESS]:e=>{try{return V(r.Rk.SmartRollupHash)(e)}catch(t){throw t instanceof i.Xi?new I(e):t}},[c.SMART_CONTRACT_ADDRESS]:e=>(0,r.Qk)(e),[c.SMART_ROLLUP_COMMITMENT_HASH]:e=>{try{return V(r.Rk.SmartRollupCommitmentHash)(e)}catch(t){throw t instanceof i.Xi?new C(e):t}},[c.VALUE]:e=>{const t=T(e);return`${l(t.length/2)}${t}`},[c.INT16]:e=>{const t=parseInt(String(e),10),n=[];for(let e=0;e<2;e++){const r=8*(2-(e+1));n.push((t&255<<r)>>r)}return o.from(n).toString("hex")},[c.BLOCK_PAYLOAD_HASH]:ae,[c.ENTRYPOINT]:e=>`${T({string:e}).slice(2)}`,[c.BURN_LIMIT]:e=>e?`ff${re(e)}`:"00",[c.DEPOSITS_LIMIT]:e=>e?`ff${re(e)}`:"00",[c.SIGNATURE_PROOF]:e=>e?$(!0)+(e=>{try{const[t,n]=(0,r.$9)(e,r.RY);if(n===r.Rk.BLS12_381Signature)return se((0,r.hi)(t));throw new i.vz("we only support encoding of BLSIG signatures from protocol Seoul")}catch(t){throw t instanceof i.Xi?new i.s7(e,t.result):t}})(e):$(!1),[c.PVM_KIND]:e=>{switch(e){case"arith":return"00";case"wasm_2_0_0":return"01";case"riscv":return"02";default:throw new _(e)}},[c.PADDED_BYTES]:se,[c.SMART_ROLLUP_MESSAGE]:e=>{const t=e.reduce(((e,t)=>e+`${l(t.length/2)}${t}`),"");return`${l(t.length/2)}${t}`},[c.SLOT_HEADER]:e=>l(e.slot_index,2)+(e=>{try{return V(r.Rk.SlotHeader)(e)}catch(t){throw t instanceof i.Xi?new M(e):t}})(e.commitment)+e.commitment_proof};De[c.OPERATION]=(e=>t=>{if(!(t.kind in e)||!(t.kind in f))throw new i.$W(t.kind);return f[t.kind]+e[t.kind](t)})(De),De[c.OP_ACTIVATE_ACCOUNT]=e=>Re(De)(ue)(e),De[c.OP_DELEGATION]=e=>Re(De)(he)(e),De[c.OP_TRANSACTION]=e=>Re(De)(fe)(e),De[c.OP_ORIGINATION]=e=>Re(De)(pe)(e),De[c.OP_BALLOT]=e=>Re(De)(ge)(e),De[c.OP_ATTESTATION]=e=>Re(De)(me)(e),De[c.OP_ATTESTATION_WITH_DAL]=e=>Re(De)(Ae)(e),De[c.OP_SEED_NONCE_REVELATION]=e=>Re(De)(ye)(e),De[c.OP_PROPOSALS]=e=>Re(De)(ve)(e),De[c.OP_REVEAL]=e=>Re(De)(de)(e),De[c.OP_REGISTER_GLOBAL_CONSTANT]=e=>Re(De)(be)(e),De[c.OP_TRANSFER_TICKET]=e=>Re(De)(xe)(e),De[c.OP_INCREASE_PAID_STORAGE]=e=>Re(De)(Ee)(e),De[c.OP_UPDATE_CONSENSUS_KEY]=e=>Re(De)(we)(e),De[c.OP_UPDATE_COMPANION_KEY]=e=>Re(De)(_e)(e),De[c.OP_DRAIN_DELEGATE]=e=>Re(De)(Se)(e),De[c.OP_SMART_ROLLUP_ORIGINATE]=e=>Re(De)(Ce)(e),De[c.OP_SMART_ROLLUP_ADD_MESSAGES]=e=>Re(De)(Me)(e),De[c.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=e=>Re(De)(Oe)(e),De[c.OP_DAL_PUBLISH_COMMITMENT]=e=>Re(De)(Te)(e),De[c.MANAGER]=Re(De)(ce),De[c.OP_SET_DEPOSITS_LIMIT]=e=>Re(De)(Ie)(e),De[c.OP_FAILING_NOOP]=e=>Re(De)(Pe)(e);const Le={activate_account:ue,reveal:de,delegation:he,transaction:fe,origination:pe,ballot:ge,attestation:me,attestation_with_dal:Ae,seed_nonce_revelation:ye,proposals:ve,register_global_constant:be,transfer_ticket:xe,increase_paid_storage:Ee,update_consensus_key:we,update_companion_key:_e,drain_delegate:Se,set_deposits_limit:Ie,smart_rollup_originate:Ce,smart_rollup_add_messages:Me,smart_rollup_execute_outbox_message:Oe,dal_publish_commitment:Te,failing_noop:Pe},Ne=e=>{const t=e.kind,n=Object.keys(e),r=(i="kind",n.filter((e=>e!==i)));var i;const a=Object.keys(Le[t]);return o=r,a.filter((e=>!o.includes(e)));var o};var je;!function(e){e.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",e.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",e.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",e.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",e.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",e.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",e.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",e.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",e.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",e.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",e.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",e.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",e.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",e.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",e.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",e.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",e.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",e.PtParisBx="PtParisBxoLz5gzMmn3d9WBQNoPSZakgnkMC2VNuQ3KXfUtUQeZ",e.PsParisCZ="PsParisCZo7KAh1Z1smVd9ZMZ1HHn5gkzbM94V3PLCpknFWhUAi",e.PsQuebecn="PsQuebecnLByd3JwTiGadoG4nGWi3HYiLXUjkibeFV8dCFeVMUg",e.PsRiotuma="PsRiotumaAMotcRoDWW1bysEhQy2n1M5fy8JgRp8jjRfHGmfeA7",e.PtSeouLou="PtSeouLouXkxhg39oWzjxDWaCydNfR3RxCUrNe4Q9Ro8BTehcbh",e.PtTALLiNt="PtTALLiNtPec7mE7yY4m3k26J8Qukef3E3ehzhfXgFZKGtDdAXu",e.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"}(je||(je={}));"undefined"===typeof globalThis.TextEncoder&&(globalThis.TextEncoder=TextEncoder),"undefined"===typeof globalThis.TextDecoder&&(globalThis.TextDecoder=TextDecoder);const Ue=je.PtTALLiNt;class Fe{constructor(e=Ue){var t;this.protocolHash=e,this.codec=(t=c.MANAGER,this.protocolHash,{encoder:De[t],decoder:e=>{const n=O.fromHexString(e);return ke[t](n)}})}forge(e){const t=(0,r.YV)(e.branch);if(t!==r.nA.VALID)throw new i.DL(e.branch,t);for(const t of e.contents){if(n=t.kind,!Object.keys(Le).includes(n))throw new i.$W(t.kind);const e=Ne(t);if(1===e.length){if("delegation"===t.kind&&"delegate"===e[0])continue;if("origination"===t.kind&&"delegate"===e[0])continue;if("transaction"===t.kind&&"parameters"===e[0])continue;if("set_deposits_limit"===t.kind&&"limit"===e[0])continue;if("smart_rollup_originate"===t.kind&&"whitelist"===e[0])continue;if("update_consensus_key"===t.kind&&"proof"===e[0])continue;if("update_companion_key"===t.kind&&"proof"===e[0])continue;if("reveal"===t.kind&&"proof"===e[0])continue;throw new m(t,`missing properties "${e.join(", ")}"`)}if(e.length>1)throw new m(t,`missing properties "${e.join(", ")}"`)}var n;const a=this.codec.encoder(e).toLowerCase();return Promise.resolve(a)}parse(e){return Promise.resolve(this.codec.decoder(e))}}const Qe=new Fe},35056:(e,t,n)=>{"use strict";n.d(t,{L0:()=>J,OF:()=>$});var r,i,a,o,s=n(71474),l=n(48110),c=n(64527),u=n.n(c),d=n(19444),h=n(34904),f=n(94329),p=n(67379),g=n(17432),m=n(78396),A=n(90749),y=n(22412),v=n(64974),b=n(39404),x=n.n(b),E=n(56133);function w(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function _(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function S(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"===typeof SuppressedError&&SuppressedError;class I{constructor(e,t){r.set(this,void 0);const n=(0,l.$9)(e,[l.Rk.Ed25519SecretKey,l.Rk.Ed25519EncryptedSeed,l.Rk.Ed25519Seed]);let[i]=n;const[,a]=n;if(a===l.Rk.Ed25519SecretKey)S(this,r,{secretKey:i,publicKey:i.slice(32)},"f");else{if(a===l.Rk.Ed25519EncryptedSeed){if(void 0===t)throw new Error("decryption function is not provided");i=t(i)}S(this,r,(0,h.K)(i),"f")}}sign(e){const t=(0,d.tW)(e,32),n=(0,h._S)(_(this,r,"f").secretKey,t);return{rawSignature:n,sig:(0,l.aP)(n,l.Rk.GenericSignature),prefixSig:(0,l.aP)(n,l.Rk.Ed25519Signature)}}publicKey(){return new C(_(this,r,"f").publicKey)}secretKey(){return(0,l.aP)(_(this,r,"f").secretKey,l.Rk.Ed25519SecretKey)}}r=new WeakMap;class C{constructor(e){if(i.set(this,void 0),"string"===typeof e){const[t,n]=(0,l.$9)(e,[l.Rk.Ed25519PublicKey]);S(this,i,t,"f")}else S(this,i,e,"f")}compare(e){if(e instanceof C)return(0,l.ww)(this.bytes(),e.bytes());throw new l.O7("EdDSA key expected")}hash(){return(0,l.aP)((0,d.tW)(_(this,i,"f"),20),l.Rk.Ed25519PublicKeyHash)}bytes(){return _(this,i,"f")}toProtocol(){const e=new Uint8Array(_(this,i,"f").length+1);return e[0]=0,e.set(_(this,i,"f"),1),e}toString(){return(0,l.aP)(_(this,i,"f"),l.Rk.Ed25519PublicKey)}}i=new WeakMap;class M extends g.Xi{constructor(e){super(),this.mnemonic=e,this.name="InvalidMnemonicError",this.message=`Invalid mnemonic "${e}"`}}class O extends g.Xi{constructor(e){super(),this.message=e,this.name="InvalidBitSize"}}class T extends g.Xi{constructor(e){super(),this.message=e,this.name="InvalidCurveError"}}class P extends g.Xi{constructor(e){super(),this.seedLength=e,this.name="InvalidSeedLengthError",this.message=`Invalid seed length "${e}" expecting length between 16 to 64.`}}class R extends g.ic{constructor(){super(),this.name="ToBeImplemented",this.message="This feature is under developement"}}class B extends g.Xi{constructor(e){super(),this.message=e,this.name="InvalidPassphraseError"}}const k={p256:{pk:l.Rk.P256PublicKey,sk:l.Rk.P256SecretKey,pkh:l.Rk.P256PublicKeyHash,sig:l.Rk.P256Signature,tag:2},secp256k1:{pk:l.Rk.Secp256k1PublicKey,sk:l.Rk.Secp256k1SecretKey,pkh:l.Rk.Secp256k1PublicKeyHash,sig:l.Rk.Secp256k1Signature,tag:1}};class D{constructor(e,t){a.set(this,void 0);const[n,r]=(0,l.$9)(e,[l.Rk.Secp256k1EncryptedSecretKey,l.Rk.P256EncryptedSecretKey,l.Rk.Secp256k1SecretKey,l.Rk.P256SecretKey]),[i,o]=(()=>{switch(r){case l.Rk.Secp256k1EncryptedSecretKey:case l.Rk.P256EncryptedSecretKey:if(void 0===t)throw new Error("decryption function is not provided");return[t(n),r===l.Rk.Secp256k1EncryptedSecretKey?"secp256k1":"p256"];case l.Rk.Secp256k1SecretKey:return[n,"secp256k1"];default:return[n,"p256"]}})();S(this,a,{curve:o,secretKey:i,publicKey:"secp256k1"===o?f.secp256k1.getPublicKey(i,!0):p.s9.getPublicKey(i,!0)},"f")}sign(e){const t=(0,d.tW)(e,32);let n;return n="secp256k1"===_(this,a,"f").curve?f.secp256k1.sign(t,_(this,a,"f").secretKey,{lowS:!0}).toBytes("compact"):p.s9.sign(t,_(this,a,"f").secretKey,{lowS:!0}).toBytes("compact"),{rawSignature:n,sig:(0,l.aP)(n,l.Rk.GenericSignature),prefixSig:(0,l.aP)(n,k[_(this,a,"f").curve].sig)}}publicKey(){return new L(_(this,a,"f").publicKey,_(this,a,"f").curve)}secretKey(){return(0,l.aP)(_(this,a,"f").secretKey,k[_(this,a,"f").curve].sk)}}a=new WeakMap;class L{constructor(e,t){o.set(this,void 0);const[n,r]=(()=>{if("string"===typeof e){const[t,n]=(0,l.$9)(e,[l.Rk.Secp256k1PublicKey,l.Rk.P256PublicKey]);return[t,n===l.Rk.Secp256k1PublicKey?"secp256k1":"p256"]}if(void 0!==t)return[e,t];throw new T("missing curve type")})();S(this,o,n,"f"),this.curve=r}compare(e){if(e instanceof L){if(this.curve===e.curve){const t="secp256k1"===this.curve;return(0,l.ww)(this.bytes(t),e.bytes(t))}return"secp256k1"===this.curve?-1:1}throw new l.O7("ECDSA key expected")}hash(){const e=this.bytes();return(0,l.aP)((0,d.tW)(e,20),k[this.curve].pkh)}bytes(e=!0){if("secp256k1"===this.curve){return f.secp256k1.Point.fromHex(_(this,o,"f")).toBytes(e)}return p.s9.Point.fromHex(_(this,o,"f")).toBytes(e)}toProtocol(){const e=this.bytes(),t=new Uint8Array(e.length+1);return t[0]=k[this.curve].tag,t.set(e,1),t}toString(){const e=this.bytes();return(0,l.aP)(e,k[this.curve].pk)}}o=new WeakMap;const N=2147483648;function j(e){const t=[];for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2),i=parseInt(r,16);if(Number.isNaN(i))throw new g.Sj(r);t.push(i)}return new Uint8Array(t)}let U=class e{constructor(e,t){this.priv=e,this.chainCode=t}static fromSeed(t){const n="string"===typeof t?j(t):t;if(n.length<16||n.length>64)throw new P(n.length);const r=(new TextEncoder).encode("ed25519 seed"),i=new y.yj(v.SHA512,r).update(n).digest();return new e((0,h.K)(i.subarray(0,32)).secretKey,i.subarray(32))}seed(){return this.priv.subarray(0,32)}derive(t){if(0===(t&N))throw new g.yy(t.toString(),": Non-hardened derivation path.");const n=new Uint8Array(37);n.set(this.seed(),1),new DataView(n.buffer).setUint32(33,t);const r=new y.yj(v.SHA512,this.chainCode).update(n).digest();return new e((0,h.K)(r.subarray(0,32)).secretKey,r.subarray(32))}derivePath(e){let t=this;for(const n of e)t=t.derive(n);return t}};const F={p256:"Nist256p1 seed",secp256k1:"Bitcoin seed"};class Q{constructor(e,t){this.priv=e,this.chainCode=t;const n=e.secretKey.toArray("be",32),r=new Uint8Array(n),i="secp256k1"===e.curve?f.secp256k1.getPublicKey(r,!0):p.s9.getPublicKey(r,!0);this.keyPair={curve:e.curve,secretKey:e.secretKey,publicKey:i}}static fromSeed(e,t){let n,r="string"===typeof e?j(e):e;if(r.length<16||r.length>64)throw new P(r.length);if(!Object.prototype.hasOwnProperty.call(F,t))throw new T(`Unsupported curve "${t}" expecting either "p256" or "secp256k1"`);if(n="secp256k1"===t?new(x())(f.secp256k1.Point.CURVE().n.toString()):new(x())(p.s9.Point.CURVE().n.toString()),256!==n.bitLength())throw new O(`Invalid curve "${t}" with bit size "${n.bitLength()}" expecting bit size "256"`);const i=(new TextEncoder).encode(F[t]);let a=null,o=new Uint8Array,s=0;for(;0===s;){const e=new y.yj(v.SHA512,i).update(r).digest();a=new(x())(e.subarray(0,32)),o=e.subarray(32),a.isZero()||a.cmp(n)>=0?r=e:s++}return new Q({curve:t,secretKey:a},o)}derive(e){const t=new Uint8Array(37);0!==(e&N)?t.set(this.keyPair.secretKey.toArray(),1):t.set(this.keyPair.publicKey,0),new DataView(t.buffer).setUint32(33,e);let n=new(x())(0),r=new Uint8Array,i=0;for(;0===i;){const e=new y.yj(v.SHA512,this.chainCode).update(t).digest();let a;n=new(x())(e.subarray(0,32)),r=e.subarray(32),a="secp256k1"===this.keyPair.curve?new(x())(f.secp256k1.Point.CURVE().n.toString()):new(x())(p.s9.Point.CURVE().n.toString()),n.cmp(a)<0&&(n=n.add(this.keyPair.secretKey).mod(a),n.isZero()||i++),t.set(r,1),t[0]=1}return new Q({curve:this.keyPair.curve,secretKey:n},r)}derivePath(e){let t=this;for(const n of e)t=t.derive(n);return t}bytes(){if(!this.keyPair.secretKey)throw new g.jo("missing private key");const e=this.keyPair.secretKey.toArray(),t=new Uint8Array(32);return t.set(e,t.length-e.length),t}}class z extends Array{static from(e){return super.from(e).map((e=>e>>>0))}static fromString(e){if(0===e.length)return new z;let t=e.split("/");const n=[];"m"===t[0]&&(t=t.slice(1));for(let r of t){if(0===r.length)throw new g.yy(e,": Invalid BIP32 path");let t=0;const i=r[r.length-1];"'"!==i&&"h"!==i&&"H"!==i||(t=N,r=r.slice(0,r.length-1));const a=(parseInt(r,10)|t)>>>0;n.push(a)}return z.from(n)}}function H(e){return"provePossession"in e}var G,V,K;const W=E.A.longSignatures;class q{constructor(e,t){G.set(this,void 0),V.set(this,void 0);const n=(0,l.$9)(e,[l.Rk.BLS12_381EncryptedSecretKey,l.Rk.BLS12_381SecretKey]);let[r]=n;const[,i]=n;if(i===l.Rk.BLS12_381EncryptedSecretKey){if(void 0===t)throw new Error("decryption function is not provided");r=t(r)}S(this,G,r,"f"),S(this,V,W.getPublicKey(this.sk()).toBytes(),"f")}sk(){return new Uint8Array(_(this,G,"f")).reverse()}signDst(e,t){const n=W.hash(e,t),r=W.sign(n,this.sk()).toBytes();return{rawSignature:r,sig:(0,l.aP)(r,l.Rk.GenericSignature),prefixSig:(0,l.aP)(r,l.Rk.BLS12_381Signature)}}sign(e){return this.signDst(e,l.CX)}provePossession(){return this.signDst(_(this,V,"f"),l.of)}publicKey(){return new Y(_(this,V,"f"))}secretKey(){return(0,l.aP)(_(this,G,"f"),l.Rk.BLS12_381SecretKey)}}G=new WeakMap,V=new WeakMap;class Y{constructor(e){if(K.set(this,void 0),"string"===typeof e){const[t,n]=(0,l.$9)(e,[l.Rk.BLS12_381PublicKey]);S(this,K,t,"f")}else S(this,K,e,"f")}compare(e){if(e instanceof Y)return(0,l.ww)(this.bytes(),e.bytes());throw new l.O7("BLS key expected")}hash(){return(0,l.aP)((0,d.tW)(_(this,K,"f"),20),l.Rk.BLS12_381PublicKeyHash)}bytes(){return _(this,K,"f")}toProtocol(){const e=new Uint8Array(_(this,K,"f").length+1);return e[0]=3,e.set(_(this,K,"f"),1),e}toString(){return(0,l.aP)(_(this,K,"f"),l.Rk.BLS12_381PublicKey)}}var X;K=new WeakMap;class J{static fromFundraiser(e,t,n){if(!A.JB(n))throw new M(n);const r=A.kw(n,`${e}${t}`),i=(0,l.aP)(r.subarray(0,32),l.Rk.Ed25519Seed);return new J(i)}static fromSecretKey(e,t){return w(this,void 0,void 0,(function*(){return new J(e,t)}))}static fromMnemonic({mnemonic:e,password:t="",derivationPath:n="44'/1729'/0'/0'",curve:r="ed25519"}){if(!A.JB(e))throw new M(e);const i=((e,t,n)=>{const r=z.fromString(t);let i;switch(n){case"ed25519":return i=U.fromSeed(e).derivePath(r),(0,l.aP)(i.seed().slice(0,32),l.Rk.Ed25519Seed);case"secp256k1":case"p256":{const t="secp256k1"===n?l.Rk.Secp256k1SecretKey:l.Rk.P256SecretKey;let i=Q.fromSeed(e,n);i=i.derivePath(r);const a=new Uint8Array(i.keyPair.secretKey.toArray());return(0,l.aP)(a,t)}case"bip25519":throw new R;default:throw new T(`Unsupported curve "${n}" expecting one of the following "ed25519", "secp256k1", "p256"`)}})(A.kw(e,t),n,r);return new J(i)}constructor(e,t){X.set(this,void 0);const n=[l.Rk.Ed25519EncryptedSeed,l.Rk.Ed25519Seed,l.Rk.Ed25519SecretKey,l.Rk.Secp256k1EncryptedSecretKey,l.Rk.Secp256k1SecretKey,l.Rk.P256EncryptedSecretKey,l.Rk.P256SecretKey,l.Rk.BLS12_381EncryptedSecretKey,l.Rk.BLS12_381SecretKey],r=(()=>{try{const[,t]=(0,l.$9)(e,n);return t}catch(e){throw new g.jo(`Invalid private key, expecting one of the following prefixes '${n}'.`)}})();let i;if(r===l.Rk.Ed25519EncryptedSeed||r===l.Rk.Secp256k1EncryptedSecretKey||r===l.Rk.P256EncryptedSecretKey||r===l.Rk.BLS12_381EncryptedSecretKey){if(!t)throw new B("No passphrase provided to decrypt encrypted key");i=e=>{const n=u()(e.slice(0,8)),r=e.slice(8),i=m.pbkdf2Sync(t,n,32768,32,"sha512"),a=(0,s.openSecretBox)(new Uint8Array(i),new Uint8Array(24),new Uint8Array(r));if(!a)throw new Error("can't decrypt secret key");return a}}switch(r){case l.Rk.Ed25519EncryptedSeed:case l.Rk.Ed25519Seed:case l.Rk.Ed25519SecretKey:S(this,X,new I(e,i),"f");break;case l.Rk.Secp256k1EncryptedSecretKey:case l.Rk.Secp256k1SecretKey:case l.Rk.P256EncryptedSecretKey:case l.Rk.P256SecretKey:S(this,X,new D(e,i),"f");break;case l.Rk.BLS12_381EncryptedSecretKey:case l.Rk.BLS12_381SecretKey:S(this,X,new q(e,i),"f")}}sign(e,t){return w(this,void 0,void 0,(function*(){const n="string"==typeof e?(0,l.$$)(e):e,r=void 0!==t?(0,l.m6)(t,n):n,{rawSignature:i,sig:a,prefixSig:o}=yield _(this,X,"f").sign(r);return{bytes:(0,l.hi)(n),sig:a,prefixSig:o,sbytes:(0,l.hi)((0,l.m6)(n,H(_(this,X,"f"))?(0,l.m6)(new Uint8Array([255,3]),i):i))}}))}provePossession(){return w(this,void 0,void 0,(function*(){if(H(_(this,X,"f")))return _(this,X,"f").provePossession();throw new g.vz("Only BLS keys can prove possession")}))}get canProvePossession(){return H(_(this,X,"f"))}publicKey(){return Promise.resolve(String(_(this,X,"f").publicKey()))}publicKeyHash(){return Promise.resolve(_(this,X,"f").publicKey().hash())}secretKey(){return Promise.resolve(_(this,X,"f").secretKey())}}function $(e){const[t,n]=(0,l.$9)(e,[l.Rk.Ed25519PublicKey,l.Rk.Secp256k1PublicKey,l.Rk.P256PublicKey,l.Rk.BLS12_381PublicKey]);switch(n){case l.Rk.Ed25519PublicKey:return new C(t);case l.Rk.Secp256k1PublicKey:return new L(t,"secp256k1");case l.Rk.P256PublicKey:return new L(t,"p256");case l.Rk.BLS12_381PublicKey:return new Y(t)}}X=new WeakMap},59710:(e,t,n)=>{"use strict";n.d(t,{C3:()=>Ae,De:()=>ve,HM:()=>Ct,JJ:()=>bt,L6:()=>An,PE:()=>F.PE,U$:()=>rt,V4:()=>Ze,Vc:()=>We,WJ:()=>Ke,Zp:()=>it,Zz:()=>yt,bf:()=>at,cv:()=>yn,hS:()=>tt,jq:()=>et,mQ:()=>pe,ob:()=>gn,w9:()=>r.w9});var r=n(77766),i=n(93664),a=n(17432),o=n(93776),s=n(39741),l=n(51585),c=n(62467),u=n(49510),d=n(33315),h=n(49426),f=n(13288),p=n(72316),g=n(35079),m=n(61701),A=n(27291),y=n(11150),v=n(39697),b=n(52665),x=n(63720),E=n(95864),w=n(69111),_=n(59099),S=n(1005),I=n(81160),C=n(16126),M=n(66847),O=n(41900),T=n(46662),P=n(90593),R=n(28452),B=n(96222),k=n(87718),D=n(33160),L=n(67791),N=n(91283),j=n(60346),U=n(48110),F=n(630),Q=n(67088),z=n(46576);n(35056);function H(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function G(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function V(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function K(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"===typeof SuppressedError&&SuppressedError;class W{constructor(e){this.context=e}inject(e){return G(this,void 0,void 0,(function*(){let t;try{t=yield this.context.rpc.injectOperation(e)}catch(e){const t=". You may want to use --replace to provide adequate fee and replace it";throw e instanceof i.O&&e.message.includes(t)?function(e,t){const n=JSON.parse(e.body);if(n[0]&&n[0].kind&&n[0].msg){const r=JSON.stringify({kind:n[0].kind,id:n[0].id,msg:n[0].msg.replace(t,"")});return new i.O(`Http error response: (${e.status}) ${r}`,e.status,e.statusText,r,e.url)}return e}(e,t):e}return t}))}}class q extends a.Q1{constructor(){super(),this.name="UnconfiguredSignerError",this.message="No signer has been configured. Please configure one by calling setProvider({signer}) on your TezosToolkit instance."}}class Y{publicKey(){return G(this,void 0,void 0,(function*(){throw new q}))}publicKeyHash(){return G(this,void 0,void 0,(function*(){throw new q}))}secretKey(){return G(this,void 0,void 0,(function*(){throw new q}))}sign(e,t){return G(this,void 0,void 0,(function*(){throw new q}))}}function X(e){return new o.c((t=>(e.on("data",(e=>{t.next(e)})),e.on("error",(e=>{t.error(e)})),e.on("close",(()=>{t.complete()})),()=>{e.close()})))}const J=(e,t)=>Object.assign(Object.assign({},e),{kind:t}),$=(e,t)=>{if(Array.isArray(e)){const n=e.find((e=>e.kind===t));if(n&&Z(n,t))return n}},Z=(e,t)=>e.kind===t,ee=e=>{var t;return!(e.kind!==r.w9.TRANSACTION||!(null===(t=e.destination)||void 0===t?void 0:t.startsWith("KT1")))||-1!==["origination","register_global_constant","transfer_ticket","update_consensus_key","update_companion_key","smart_rollup_add_messages","smart_rollup_originate"].indexOf(e.kind)},te=e=>-1!==["transaction","delegation","origination","reveal","register_global_constant","increase_paid_storage","transfer_ticket","update_consensus_key","update_companion_key","smart_rollup_add_messages","smart_rollup_originate","smart_rollup_execute_outbox_message"].indexOf(e.kind),ne=e=>-1!==["transaction","delegation","origination","register_global_constant","increase_paid_storage","transfer_ticket","update_consensus_key","update_companion_key","smart_rollup_add_messages","smart_rollup_originate","smart_rollup_execute_outbox_message"].indexOf(e.kind),re=e=>"metadata"in e,ie=e=>re(e)&&"operation_result"in e.metadata,ae=171,oe=157,se=447,le=3252,ce=278,ue=277,de=306,he=736;var fe;!function(e){e.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",e.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",e.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",e.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",e.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",e.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",e.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",e.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",e.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",e.PsiThaCa="PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP",e.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",e.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",e.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",e.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",e.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",e.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",e.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",e.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",e.PtParisBx="PtParisBxoLz5gzMmn3d9WBQNoPSZakgnkMC2VNuQ3KXfUtUQeZ",e.PsParisCZ="PsParisCZo7KAh1Z1smVd9ZMZ1HHn5gkzbM94V3PLCpknFWhUAi",e.PsQuebecn="PsQuebecnLByd3JwTiGadoG4nGWi3HYiLXUjkibeFV8dCFeVMUg",e.PsRiotuma="PsRiotumaAMotcRoDWW1bysEhQy2n1M5fy8JgRp8jjRfHGmfeA7",e.PtSeouLou="PtSeouLouXkxhg39oWzjxDWaCydNfR3RxCUrNe4Q9Ro8BTehcbh",e.PtTALLiNt="PtTALLiNtPec7mE7yY4m3k26J8Qukef3E3ehzhfXgFZKGtDdAXu",e.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"}(fe||(fe={}));fe.Pt24m4xi,fe.PsBABY5H,fe.PsBabyM1,fe.PsCARTHA,fe.PsDELPH1,fe.PtEdo2Zk,fe.PsFLorena,fe.PtGRANADs,fe.PtHangz2,fe.PsiThaCa,fe.Psithaca2,fe.PtJakart2,fe.PtKathman,fe.PtLimaPtL,fe.PtMumbai2,fe.PtNairobi,fe.ProxfordY,fe.PtParisBx,fe.PsParisCZ,fe.PsQuebecn,fe.PsRiotuma,fe.PtSeouLou,fe.PtTALLiNt,fe.ProtoALpha;var pe;!function(e){e.MAINNET="NetXdQprcVkpaWU",e.GHOSTNET="NetXnHfVqm9iesp",e.SHADOWNET="NetXsqzbfFenSTS",e.CARTHAGENET="NetXjD3HPJJjmcd",e.DELPHINET="NetXm8tYqnMWky1",e.EDONET="NetXSgo1ZT2DRUG",e.FLORENCENET="NetXxkAx4woPLyu",e.GRANADANET="NetXz969SFaFn8k",e.HANGZHOUNET="NetXZSsxBpMQeAT",e.ITHACANET="NetXbhmtAbMukLc",e.JAKARTANET2="NetXLH1uAxK7CCh",e.KATHMANDUNET="NetXazhm4yetmff",e.LIMANET="NetXizpkH94bocH",e.MUMBAINET="NetXQw6nWSnrJ5t",e.MUMBAINET2="NetXgbcrNtXD2yA",e.NAIROBINET="NetXyuzvDo2Ugzb",e.OXFORDNET2="NetXxWsskGahzQB",e.PARISBNET="NetXo8SqH1c38SS",e.PARISCNET="NetXXWAHLEvre9b",e.QUEBECNET="NetXuTeGinLEqxp",e.RIONET="NetXPdgaoabtBth",e.SEOULNET="NetXd56aBs1aeW3",e.TALLINNNET="NetXe8DbhW9A1eS"}(pe||(pe={}));const ge=e=>Math.round(37*me(e)/10),me=e=>{switch(e.substring(0,3)){case"tz1":return ae;case"tz2":return oe;case"tz3":return se;case"tz4":return le;default:throw new Error(`Cannot estimate reveal gas limit for ${e}`)}},Ae=e=>Math.round(12*ye(e)/10),ye=e=>{switch(e.substring(0,3)){case"tz1":return ce;case"tz2":return ue;case"tz3":return de;case"tz4":return 1.7*he;default:throw new Error(`Cannot estimate reveal fee for ${e}`)}};class ve extends a.Qc{constructor(e,t,n){super(),this.errors=e,this.errorDetails=t,this.operationsWithResults=n,this.name="TezosOperationError",this.lastError=e[e.length-1],this.message=`(${this.kind}) ${this.id}`,"with"in this.lastError&&(this.lastError.with.string?this.message=this.lastError.with.string:this.lastError.with.int?this.message=this.lastError.with.int:this.message=JSON.stringify(this.lastError.with))}get id(){return this.lastError.id}get kind(){return this.lastError.kind}}class be extends Error{constructor(e){super(),this.result=e,this.name="TezosPreapplyFailureError",this.message="Preapply returned an unexpected result"}}const xe=e=>{const t=Array.isArray(e)?e:[e],n=[];for(let e=0;e<t.length;e++)for(let r=0;r<t[e].contents.length;r++){const i=t[e].contents[r];ie(i)&&"fee"in i&&(n.push(Object.assign({fee:i.fee},i.metadata.operation_result)),Array.isArray(i.metadata.internal_operation_results)&&i.metadata.internal_operation_results.forEach((e=>n.push(e.result))))}return n},Ee=(e,t="failed")=>{const n=Array.isArray(e)?e:[e];let r=[];for(let e=0;e<n.length;e++)for(let a=0;a<n[e].contents.length;a++){const o=n[e].contents[a];if(re(o)&&(ie(o)&&o.metadata.operation_result.status===t&&(r=r.concat(o.metadata.operation_result.errors||[])),re(i=o)&&"internal_operation_results"in i.metadata&&Array.isArray(o.metadata.internal_operation_results)))for(const e of o.metadata.internal_operation_results)"result"in e&&e.result.status===t&&(r=r.concat(e.result.errors||[]))}var i;return r};class we extends a.IT{constructor(e){super(),this.message=e,this.name="OriginationOperationError"}}class _e extends a.Xi{constructor(e){super(),this.message=e,this.name="InvalidEstimateValueError"}}class Se extends a.Xi{constructor(e){super(),this.invalidConfirmations=e,this.name="InvalidConfirmationCountError",this.message=`Invalid confirmation count ${e} expecting at least 1`}}class Ie extends a.Dr{constructor(e){super(),this.message=e,this.name="ConfirmationTimeoutError"}}class Ce extends a.Qc{constructor(e,t){super(),this.message=e,this.cause=t,this.name="RPCResponseError"}}class Me extends a.Q1{constructor(){super(),this.name="ConfirmationUndefinedError",this.message="Default confirmation count can not be undefined"}}class Oe extends a.Dr{constructor(e){super(),this.message=e,this.name="ObservableError"}}class Te{operationResults(){return G(this,void 0,void 0,(function*(){return this._operationResult.pipe((0,b.$)()).toPromise()}))}receipt(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new Oe("Unable to get operation results");return((e,{ALLOCATION_BURN:t,ORIGINATION_BURN:n}={ALLOCATION_BURN:257,ORIGINATION_BURN:257})=>{j.A.config({DECIMAL_PLACES:0,ROUNDING_MODE:j.A.ROUND_UP});const r=xe({contents:e});let i=new j.A(0),a=new j.A(0),o=new j.A(0),s=new j.A(0),l=new j.A(0),c=new j.A(0);return r.forEach((e=>{o=o.plus(e.fee||0),s=s.plus(Array.isArray(e.originated_contracts)?e.originated_contracts.length*n:0),l=l.plus("allocated_destination_contract"in e?t:0),i=i.plus(e.consumed_milligas||0),c=c.plus("paid_storage_size_diff"in e&&Number(e.paid_storage_size_diff)||0)})),a=a.plus(l).plus(s).plus(c),{totalFee:o,totalMilliGas:i,totalGas:i.dividedBy(1e3),totalStorage:a,totalAllocationBurn:l,totalOriginationBurn:s,totalPaidStorageDiff:c,totalStorageBurn:new j.A(a.multipliedBy(250))}})(e)}))}constructor(e,t,n){if(this.opHash=e,this.context=t,this._newHead$=n,this._operationResult=new s.m(1),this._includedInBlock=new s.m(1),this._included=!1,this.newHead$=this._newHead$.pipe((0,x.n)((e=>{var t,n;const r=null!==(n=null===(t=this.lastHead)||void 0===t?void 0:t.header.level)&&void 0!==n?n:e.header.level-1;return(0,l.y)(r+1,e.header.level-r-1).pipe((0,E.H)((e=>this.context.readProvider.getBlock(e))),(0,w.q)(e))})),(0,_.M)((e=>this.lastHead=e)),(0,S.u)({connector:()=>new s.m(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!0})),this.confirmed$=this.newHead$.pipe((0,I.T)((e=>{for(const t of e.operations)for(const n of t)if(n.hash===this.opHash)return this._included=!0,this._includedInBlock.next(e),this._operationResult.next(n.contents),e})),(0,C.p)((e=>"undefined"!==typeof e)),(0,b.$)(),(0,S.u)({connector:()=>new s.m(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!0})),(0,U.KE)(this.opHash)!==U.nA.VALID)throw new a.xs(this.opHash);this.confirmed$.pipe((0,b.$)(),(0,M.W)((()=>(0,c.of)(void 0)))).subscribe()}getCurrentConfirmation(){return G(this,void 0,void 0,(function*(){return this._included?(0,u.z)([this._includedInBlock,(0,d.H)(this.context.readProvider.getBlock("head"))]).pipe((0,I.T)((([e,t])=>t.header.level-e.header.level+1)),(0,b.$)()).toPromise():0}))}isInCurrentBranch(){return G(this,arguments,void 0,(function*(e="head"){if(!this._included)return!0;const t=yield this.context.readProvider.getBlockLevel(e),n=yield this._includedInBlock.pipe((0,b.$)()).toPromise();if(!n)throw new Oe("Inclusion block is undefined");const r=t-n.header.level;if(r<=0)return!0;const i=Math.min(n.header.level+r,n.header.level+60);return new Set(yield this.context.readProvider.getLiveBlocks(i)).has(n.hash)}))}confirmationObservable(e){if("undefined"!==typeof e&&e<1)throw new Se(e);const{defaultConfirmationCount:t}=this.context.config,n=void 0!==e?e:t;if(void 0===n)throw new Me;return(0,u.z)([this._includedInBlock,this.newHead$]).pipe((0,O.F)((([,e],[,t])=>e.hash===t.hash)),(0,I.T)((([e,t])=>({block:t,expectedConfirmation:n,currentConfirmation:t.header.level-e.header.level+1,completed:t.header.level-e.header.level>=n-1,isInCurrentBranch:()=>this.isInCurrentBranch(t.hash)}))),(0,T.v)((({completed:e})=>!e),!0))}confirmation(e){return this.confirmationObservable(e).toPromise()}}const Pe=[r.w9.REVEAL,r.w9.ORIGINATION,r.w9.TRANSACTION,r.w9.DELEGATION,r.w9.REGISTER_GLOBAL_CONSTANT,r.w9.INCREASE_PAID_STORAGE,r.w9.TRANSFER_TICKET];class Re extends Te{constructor(e,t,n){super(e,t,n),this.opHash=e,this.context=t,this.getOriginatedContractAddresses=()=>G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e){const t=e.filter((e=>"origination"===e.kind));let n=[];for(const e of t)e.metadata.operation_result.originated_contracts&&(n=[...n,...e.metadata.operation_result.originated_contracts]);return n}throw new Oe("Unable to fetch operation results")}))}revealOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===r.w9.REVEAL));throw new Oe("Unable to fetch operation results")}))}status(){return G(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.operationResults();if(e)return e.filter((e=>-1!==Pe.indexOf(e.kind))).map((e=>{if(ie(e)){return e.metadata.operation_result.status}return"unknown"}))[0]||"unknown";throw new Oe("Unable to fetch operation results")}))}}class Be extends Te{constructor(e,t,n){super(e,t,n),this.opHash=e,this.context=t}revealOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===r.w9.REVEAL));throw new Oe("Unable to fetch operation result")}))}delegationOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===r.w9.DELEGATION));throw new Oe("Unable to fetch operation result")}))}status(){return G(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.delegationOperation();return e?e.metadata.operation_result.status:"unknown"}))}}class ke extends Te{constructor(e,t,n){super(e,t,n),this.opHash=e,this.context=t}revealOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===r.w9.REVEAL));throw new Oe("Unable to fetch operation result")}))}increasePaidStorageOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===r.w9.INCREASE_PAID_STORAGE));throw new Oe("Unable to fetch operation result")}))}status(){return G(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.increasePaidStorageOperation();return e?e.metadata.operation_result.status:"unknown"}))}}class De extends Te{constructor(e,t,n){super(e,t,n),this.opHash=e,this.context=t}originationOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return $(e,r.w9.ORIGINATION);throw new Oe("Unable to fetch operation result")}))}revealOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return $(e,r.w9.REVEAL);throw new Oe("Unable to fetch operation result")}))}status(){return G(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.originationOperation();return e?e.metadata.operation_result.status:"unknown"}))}contract(){return G(this,void 0,void 0,(function*(){const e=yield this.originationOperation(),t=((null===e||void 0===e?void 0:e.metadata.operation_result.originated_contracts)||[])[0];return this.context.wallet.at(t)}))}}class Le extends Te{constructor(e,t,n){super(e,t,n),this.opHash=e,this.context=t}revealOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new Oe("operationResult returned undefined");return e.find((e=>e.kind===r.w9.REVEAL))}))}transactionOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new Oe("operationResult returned undefined");return e.find((e=>e.kind===r.w9.TRANSACTION))}))}status(){return G(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.transactionOperation();return e?e.metadata.operation_result.status:"unknown"}))}}class Ne extends Te{constructor(e,t,n){super(e,t,n),this.opHash=e,this.context=t}revealOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new Oe("operationResult returned undefined");return e.find((e=>e.kind===r.w9.REVEAL))}))}transferTicketOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new Oe("operationResult returned undefined");return e.find((e=>e.kind===r.w9.TRANSFER_TICKET))}))}status(){return G(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.transferTicketOperation();return e?e.metadata.operation_result.status:"unknown"}))}}class je extends Te{constructor(e,t,n){super(e,t,n),this.opHash=e,this.context=t}revealOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new Oe("operationResult returned undefined");return e.find((e=>e.kind===r.w9.REVEAL))}))}registerGlobalConstantOperation(){return G(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return $(e,r.w9.REGISTER_GLOBAL_CONSTANT);throw new Oe("Unable to fetch operation result")}))}status(){return G(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.registerGlobalConstantOperation();return e?e.metadata.operation_result.status:"unknown"}))}globalConstantHash(){return G(this,void 0,void 0,(function*(){const e=yield this.registerGlobalConstantOperation();return null===e||void 0===e?void 0:e.metadata.operation_result.global_address}))}}const Ue=(e,t,n)=>{return e.pipe((r=1e3*t.config.confirmationPollingTimeoutSecond,function(e){return new h.t(null).pipe((0,P.w)({each:r,with:()=>(0,f.$)((()=>new Ie("Confirmation polling timed out")))}),(0,R.Z)((()=>e)))}),(0,S.u)({connector:()=>new s.m(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!0}));var r};class Fe{constructor(e){this.context=e,this.sharedHeadObs=(0,p.v)((()=>X(this.context.stream.subscribeBlock("head"))))}createNewHeadObservable(){return G(this,void 0,void 0,(function*(){return Ue(this.sharedHeadObs,this.context)}))}createPastBlockWalker(e,t=1){return(0,d.H)(this.context.readProvider.getBlock(e)).pipe((0,x.n)((e=>1===t?(0,c.of)(e):(0,l.y)(e.header.level,t-1).pipe((0,B.Z)(e),(0,E.H)((e=>G(this,void 0,void 0,(function*(){return this.context.readProvider.getBlock("number"===typeof e?e:e.header.level)}))))))))}createHeadObservableFromConfig(e){return G(this,arguments,void 0,(function*({blockIdentifier:e}){const t=[];return e&&t.push(this.createPastBlockWalker(e)),t.push(yield this.createNewHeadObservable()),(0,g.x)(...t)}))}createOperation(e){return G(this,arguments,void 0,(function*(e,t={}){return new Te(e,this.context.clone(),yield this.createHeadObservableFromConfig(t))}))}createBatchOperation(e){return G(this,arguments,void 0,(function*(e,t={}){return new Re(e,this.context.clone(),yield this.createHeadObservableFromConfig(t))}))}createTransactionOperation(e){return G(this,arguments,void 0,(function*(e,t={}){return new Le(e,this.context.clone(),yield this.createHeadObservableFromConfig(t))}))}createTransferTicketOperation(e){return G(this,arguments,void 0,(function*(e,t={}){return new Ne(e,this.context.clone(),yield this.createHeadObservableFromConfig(t))}))}createDelegationOperation(e){return G(this,arguments,void 0,(function*(e,t={}){return new Be(e,this.context.clone(),yield this.createHeadObservableFromConfig(t))}))}createOriginationOperation(e){return G(this,arguments,void 0,(function*(e,t={}){return new De(e,this.context.clone(),yield this.createHeadObservableFromConfig(t))}))}createIncreasePaidStorageOperation(e){return G(this,arguments,void 0,(function*(e,t={}){return new ke(e,this.context.clone(),yield this.createHeadObservableFromConfig(t))}))}createRegisterGlobalConstantOperation(e){return G(this,arguments,void 0,(function*(e,t={}){return new je(e,this.context.clone(),yield this.createHeadObservableFromConfig(t))}))}}class Qe{get includedInBlock(){return this._foundAt}constructor(e,t,n,r){if(this.hash=e,this.raw=t,this.results=n,this.context=r,this._pollingConfig$=new s.m(1),this.currentHead$=this._pollingConfig$.pipe((0,x.n)((e=>new h.t(e).pipe((0,P.w)({each:1e3*e.timeout,with:()=>(0,f.$)((()=>new Ie("Confirmation polling timed out")))})))),(0,x.n)((()=>(0,p.v)((()=>X(this.context.stream.subscribeBlock("head")))).pipe((0,x.n)((e=>{var t,n;const r=null!==(n=null===(t=this.lastHead)||void 0===t?void 0:t.header.level)&&void 0!==n?n:e.header.level-1;return(0,l.y)(r+1,e.header.level-r-1).pipe((0,E.H)((e=>this.context.readProvider.getBlock(e))),(0,w.q)(e))})),(0,_.M)((e=>this.lastHead=e))))),(0,k.t)({refCount:!0})),this.confirmed$=this.currentHead$.pipe((0,I.T)((e=>{for(let t=3;t>=0;t--)e.operations[t].forEach((t=>{t.hash===this.hash&&(this._foundAt=e.header.level)}));if(e.header.level-this._foundAt>=0)return this._foundAt})),(0,C.p)((e=>void 0!==e)),(0,b.$)(),(0,k.t)()),this._foundAt=Number.POSITIVE_INFINITY,(0,U.KE)(this.hash)!==U.nA.VALID)throw new a.xs(this.hash);this.confirmed$.pipe((0,b.$)(),(0,M.W)((()=>(0,c.of)(m.w)))).subscribe()}get revealOperation(){return Array.isArray(this.results)&&this.results.find((e=>"reveal"===e.kind))}get revealStatus(){return this.revealOperation?this.revealOperation.metadata.operation_result.status:"unknown"}get status(){return this.results.map((e=>ie(e)?e.metadata.operation_result.status:"unknown"))[0]||"unknown"}confirmation(e,t){return G(this,void 0,void 0,(function*(){if("undefined"!==typeof e&&e<1)throw new Se(e);const{defaultConfirmationCount:n,confirmationPollingTimeoutSecond:r}=this.context.config;this._pollingConfig$.next({timeout:t||r});const i=void 0!==e?e:n;return new Promise(((e,t)=>{this.confirmed$.pipe((0,x.n)((()=>this.currentHead$)),(0,C.p)((e=>e.header.level-this._foundAt>=i-1)),(0,b.$)()).subscribe({error:e=>t(e),complete:()=>e(this._foundAt+(i-1))})}))}))}}class ze extends a.Xi{constructor(e,t,n){super(),this.smartContractMethodName=e,this.sigs=t,this.invalidParams=n,this.name="InvalidParameterError",this.message=`${e} Received ${n.length} arguments while expecting one of the following signatures (${JSON.stringify(t)})`}}class He extends a.Xi{constructor(e){super(),this.source=e,this.name="InvalidDelegationSource",this.message=`Since Babylon delegation source can no longer be a contract address ${e}. Please use the smart contract abstraction to set your delegate.`}}class Ge extends a.Xi{constructor(e,t){super(),this.message=e,this.data=t,this.name="InvalidCodeParameter"}}class Ve extends a.Xi{constructor(e,t){super(),this.message=e,this.data=t,this.name="InvalidInitParameter"}}class Ke extends a.Qc{constructor(e,t,n,r){super(),this.message=e,this.viewName=t,this.failWith=n,this.cause=r,this.name="ViewSimulationError"}}const We=e=>{if(qe(e.body)){const t=JSON.parse(e.body);if(Array.isArray(t)&&"with"in t[t.length-1])return t[t.length-1].with}},qe=e=>{try{JSON.parse(e)}catch(e){return!1}return!0};class Ye extends a.Xi{constructor(e){super(),this.info=e,this.name="InvalidViewSimulationContext",this.message=`${e} Please configure the context of the view execution in the executeView method.`}}class Xe extends a.Qc{constructor(e){super(),this.message=e,this.name="RevealOperationError"}}class Je extends a.Xi{constructor(e){super(),this.message=e,this.name}}class $e extends a.Xi{constructor(e){super(),this.message=e,this.name="InvalidBalanceError"}}const Ze=e=>G(void 0,[e],void 0,(function*({code:e,init:t,balance:n="0",delegate:i,storage:a,fee:o,gasLimit:s,storageLimit:l,mutez:c=!1}){if(void 0!==a&&void 0!==t)throw new Je("Storage and Init cannot be set a the same time. Please either use storage or init but not both.");if(!Array.isArray(e))throw new Ge("Wrong code parameter type, expected an array",e);let u;if(void 0!==a){const t=e.find((e=>"prim"in e&&"storage"===e.prim));if(void 0===(null===t||void 0===t?void 0:t.args))throw new Ge("The storage section is missing from the script",e);u=new F.Sj(t.args[0]).Encode(a)}else{if(void 0===t||"object"!==typeof t)throw new Ve("Wrong init parameter type, expected JSON Michelson",t);u=t}const d={code:e,storage:u};if(isNaN(Number(n)))throw new $e(`Invalid Balance "${n}", cannot be converted to a number`);const h={kind:r.w9.ORIGINATION,fee:o,gas_limit:s,storage_limit:l,balance:c?n.toString():(0,U.GP)("tz","mutez",n).toString(),script:d};return i&&(h.delegate=i),h})),et=e=>G(void 0,[e],void 0,(function*({to:e,amount:t,parameter:n,fee:i,gasLimit:a,storageLimit:o,mutez:s=!1}){return{kind:r.w9.TRANSACTION,fee:i,gas_limit:a,storage_limit:o,amount:s?t.toString():(0,U.GP)("tz","mutez",t).toString(),destination:e,parameters:n}})),tt=e=>G(void 0,[e],void 0,(function*({delegate:e,source:t,fee:n,gasLimit:i,storageLimit:a}){return{kind:r.w9.DELEGATION,source:t,fee:n,gas_limit:i,storage_limit:a,delegate:e}})),nt=(e,t,n)=>G(void 0,[e,t,n],void 0,(function*({fee:e,gasLimit:t,storageLimit:n,proof:i},a,o){return{kind:r.w9.REVEAL,fee:e,public_key:o,source:a,gas_limit:null!==t&&void 0!==t?t:ge(a),storage_limit:n,proof:i}})),rt=e=>G(void 0,[e],void 0,(function*({value:e,source:t,fee:n,gasLimit:i,storageLimit:a}){return{kind:r.w9.REGISTER_GLOBAL_CONSTANT,value:e,fee:n,gas_limit:i,storage_limit:a,source:t}})),it=e=>G(void 0,[e],void 0,(function*({ticketContents:e,ticketTy:t,ticketTicketer:n,ticketAmount:i,destination:a,entrypoint:o,source:s,fee:l,gasLimit:c,storageLimit:u}){return{kind:r.w9.TRANSFER_TICKET,fee:l,gas_limit:c,storage_limit:u,source:s,ticket_contents:e,ticket_ty:t,ticket_ticketer:n,ticket_amount:i,destination:a,entrypoint:o}})),at=e=>G(void 0,[e],void 0,(function*({source:e,fee:t,gasLimit:n,storageLimit:i,amount:a,destination:o}){return{kind:r.w9.INCREASE_PAID_STORAGE,source:e,fee:t,gas_limit:n,storage_limit:i,amount:a,destination:o}})),ot=e=>G(void 0,[e],void 0,(function*({source:e,fee:t,gasLimit:n,storageLimit:i,pk:a,proof:o}){return{kind:r.w9.UPDATE_CONSENSUS_KEY,source:e,fee:t,gas_limit:n,storage_limit:i,pk:a,proof:o}})),st=e=>G(void 0,[e],void 0,(function*({source:e,fee:t,gasLimit:n,storageLimit:i,pk:a,proof:o}){return{kind:r.w9.UPDATE_COMPANION_KEY,source:e,fee:t,gas_limit:n,storage_limit:i,pk:a,proof:o}})),lt=e=>G(void 0,[e],void 0,(function*({source:e,fee:t,gasLimit:n,storageLimit:i,message:a}){return{kind:r.w9.SMART_ROLLUP_ADD_MESSAGES,source:e,fee:t,gas_limit:n,storage_limit:i,message:a}})),ct=e=>G(void 0,[e],void 0,(function*({source:e,fee:t,gasLimit:n,storageLimit:i,pvmKind:a,kernel:o,parametersType:s}){return{kind:r.w9.SMART_ROLLUP_ORIGINATE,source:e,fee:t,gas_limit:n,storage_limit:i,pvm_kind:a,kernel:o,parameters_ty:s}})),ut=e=>G(void 0,[e],void 0,(function*({source:e,fee:t,gasLimit:n,storageLimit:i,rollup:a,cementedCommitment:o,outputProof:s}){return{kind:r.w9.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE,source:e,fee:t,gas_limit:n,storage_limit:i,rollup:a,cemented_commitment:o,output_proof:s}}));class dt{get rpc(){return this.context.rpc}get signer(){return this.context.signer}constructor(e){this.context=e}forge(e){return G(this,arguments,void 0,(function*({opOb:{branch:e,contents:t,protocol:n},counter:r}){return{opbytes:yield this.context.forger.forge({branch:e,contents:t}),opOb:{branch:e,contents:t,protocol:n},counter:r}}))}estimate(e,t){return G(this,void 0,void 0,(function*(){var{fee:n,gasLimit:r,storageLimit:i}=e,a=H(e,["fee","gasLimit","storageLimit"]);let o=n,s=r,l=i;if(o&&o%1!==0)throw new _e(`Fee value must not be a decimal: ${o}`);if(s&&s%1!==0)throw new _e(`Gas Limit value must not be a decimal: ${s}`);if(l&&l%1!==0)throw new _e(`Storage Limit value must not be a decimal: ${l}`);if(void 0===n||void 0===r||void 0===i){const e=yield t(Object.assign({fee:n,gasLimit:r,storageLimit:i},a));null!==o&&void 0!==o||(o=e.suggestedFeeMutez),null!==s&&void 0!==s||(s=e.gasLimit),null!==l&&void 0!==l||(l=e.storageLimit)}return{fee:o,gasLimit:s,storageLimit:l}}))}getRPCOp(e){return G(this,void 0,void 0,(function*(){switch(e.kind){case r.w9.TRANSACTION:return et(Object.assign({},e));case r.w9.ORIGINATION:return Ze(yield this.context.parser.prepareCodeOrigination(Object.assign({},e)));case r.w9.DELEGATION:return tt(Object.assign({},e));case r.w9.REGISTER_GLOBAL_CONSTANT:return rt(Object.assign({},e));case r.w9.INCREASE_PAID_STORAGE:return at(Object.assign({},e));case r.w9.UPDATE_CONSENSUS_KEY:return ot(Object.assign({},e));case r.w9.UPDATE_COMPANION_KEY:return st(Object.assign({},e));case r.w9.TRANSFER_TICKET:return it(Object.assign({},e));case r.w9.SMART_ROLLUP_ADD_MESSAGES:return lt(Object.assign({},e));case r.w9.SMART_ROLLUP_ORIGINATE:return ct(Object.assign({},e));case r.w9.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return ut(Object.assign({},e));default:throw new U.$W(e.kind)}}))}simulate(e){return G(this,void 0,void 0,(function*(){return{opResponse:yield this.rpc.simulateOperation(e),op:e,context:this.context.clone()}}))}isRevealOpNeeded(e,t){return G(this,void 0,void 0,(function*(){return!(!(yield this.isAccountRevealRequired(t))||!this.isRevealRequiredForOpType(e))}))}isAccountRevealRequired(e){return G(this,void 0,void 0,(function*(){return!(yield this.context.readProvider.isAccountRevealed(e,"head"))}))}isRevealRequiredForOpType(e){let t=!1;for(const n of e)ne(n)&&(t=!0);return t}signAndInject(e){return G(this,void 0,void 0,(function*(){const t=yield this.signer.sign(e.opbytes,new Uint8Array([3]));e.opbytes=t.sbytes,e.opOb.signature=t.prefixSig;const n=[],r=yield this.rpc.preapplyOperations([e.opOb]);if(!Array.isArray(r))throw new be(r);for(let e=0;e<r.length;e++)for(let t=0;t<r[e].contents.length;t++)n.push(r[e].contents[t]);const i=Ee(r);if(i.length)throw new ve(i,"Error occurred during validation simulation of operation",n);return{hash:yield this.context.injector.inject(e.opbytes),forgedBytes:e,opResponse:n,context:this.context.clone()}}))}}const ht="default";class ft{constructor(e,t,n,r,i="unit",a=!0,o=!1){this.provider=e,this.address=t,this.parameterSchema=n,this.name=r,this.args=i,this.isMultipleEntrypoint=a,this.isAnonymous=o}getSignature(){const e=this.parameterSchema.generateSchema();if(this.isAnonymous){const t=e.schema;return null===t||void 0===t?void 0:t[this.name]}return e}send(e={}){return this.provider&&"pkh"in this.provider?this.provider.transfer(this.toTransferParams(e)).send():this.provider.transfer(this.toTransferParams(e))}toTransferParams({fee:e,gasLimit:t,storageLimit:n,source:r,amount:i=0,mutez:a=!1}={}){return{to:this.address,amount:i,fee:e,mutez:a,source:r,gasLimit:t,storageLimit:n,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:ht,value:this.isAnonymous?this.parameterSchema.EncodeObject({[this.name]:this.args}):this.parameterSchema.EncodeObject(this.args)}}}}class pt{constructor(e,t,n,r,i,a="Unit"){this._rpc=e,this._readProvider=t,this._contractAddress=n,this._smartContractViewSchema=r,this._contractStorageType=i,this._args=a}getSignature(){return{parameter:this._smartContractViewSchema.extractArgsSchema(),result:this._smartContractViewSchema.extractResultSchema()}}executeView(e){return G(this,void 0,void 0,(function*(){this.verifyContextExecution(e);const t=yield this._readProvider.getChainId(),n=this.transformArgsToMichelson(),r={contract:this._contractAddress,view:this._smartContractViewSchema.viewName,input:n,chain_id:t,source:e.viewCaller};return e.source&&(r.payer=e.source),this.executeViewAndDecodeResult(r)}))}verifyContextExecution(e){if(e.source&&(0,U.jl)(e.source)!==U.nA.VALID)throw new Ye(`The source account who initialized the view execution is invalid: ${e.source}.`);if(!e.viewCaller||(0,U.jl)(e.viewCaller)!==U.nA.VALID)throw new Ye(`The contract which is the caller of view is invalid: ${e.viewCaller}.`)}transformArgsToMichelson(){try{return this._smartContractViewSchema.encodeViewArgs(this._args)}catch(e){throw new a.mx(this._smartContractViewSchema.viewName,this.getSignature(),this._args,e)}}adaptViewCodeToContext(e,t,n){const r={BALANCE:[{prim:"PUSH",args:[{prim:"mutez"},{int:n}]}],SENDER:[{prim:"PUSH",args:[{prim:"address"},{string:t}]}],SELF_ADDRESS:[{prim:"PUSH",args:[{prim:"address"},{string:this._contractAddress}]}],AMOUNT:[{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]}]};return e.forEach(((i,a)=>{i.prim in r&&(e[a]=Object(r)[i.prim]),i.args&&0!==i.args.length?this.adaptViewCodeToContext(i.args,t,n):Array.isArray(i)&&this.adaptViewCodeToContext(i,t,n)})),e}executeViewAndDecodeResult(e){return G(this,void 0,void 0,(function*(){let t;try{t=(yield this._rpc.runScriptView(e)).data}catch(e){const t=We(e);throw t?new Ke(`The simulation of the on-chain view named ${this._smartContractViewSchema.viewName} failed with: ${JSON.stringify(t)}`,this._smartContractViewSchema.viewName,t,e):e}return this._smartContractViewSchema.decodeViewResult(t)}))}}class gt{constructor(e,t){this.provider=e,this.contractAddress=t}createContractMethodObjectParam(e,t,n,r=!0,i=!1){return new ft(this.provider,this.contractAddress,e,t,n,r,i)}createContractViewObjectParam(e,t,n,r,i){return new pt(e,t,this.contractAddress,n,r,i)}}class mt{constructor(e,t,n,r,i,a,o){this.currentContract=e,this.name=t,this.callbackParametersSchema=n,this.parameterSchema=r,this.args=i,this.rpc=a,this.readProvider=o}read(e){return G(this,void 0,void 0,(function*(){const t=(0,U.yC)(null!==e&&void 0!==e?e:"");if((0,U.Lg)(null!==e&&void 0!==e?e:"")==U.nA.VALID)throw new a.dy("Since version 12, the lambda view no longer depends on a lambda contract. The read method no longer accepts a contract address as a parameter.");if(e&&t!==U.nA.VALID)throw new a.qD(e,t);const n=this.parameterSchema.Encode(...this.args),r=yield this.rpc.runView({contract:this.currentContract.address,entrypoint:this.name,input:n,chain_id:e||(yield this.readProvider.getChainId())});return this.callbackParametersSchema.Execute(r.data)}))}}class At{constructor(e,t,n,r,i,a,o){this.address=e,this.script=t,this.storageProvider=r,this.entrypoints=i,this.rpc=a,this.readProvider=o,this.methodsObject={},this.views={},this.contractViews={},this.contractMethodFactory=new gt(n,e),this.schema=F.Sj.fromRPCResponse({script:this.script}),this.parameterSchema=F.Pe.fromRPCResponse({script:this.script}),this.viewSchema=F.X8.fromRPCResponse({script:this.script}),0!==this.viewSchema.length&&this._initializeOnChainViews(this,a,this.readProvider,this.viewSchema),this.eventSchema=F.g$.fromRPCResponse({script:this.script}),this._initializeMethods(this,this.entrypoints.entrypoints,this.rpc,this.readProvider)}_initializeMethods(e,t,n,r){const i=this.parameterSchema,a=Object.keys(t);if(i.isMultipleEntryPoint){a.forEach((i=>{const a=new F.Pe(t[i]);if(this.methodsObject[i]=function(t){return e.contractMethodFactory.createContractMethodObjectParam(a,i,t)},(e=>{let t=!1;if("prim"in e&&"pair"===e.prim&&e.args){const n=e.args[e.args.length-1];"prim"in n&&"contract"===n.prim&&(t=!0)}return t})(t[i])){const a=function(...a){const o=t[i].args[0],s=new F.Pe(o),l=t[i].args[1].args[0],c=new F.Pe(l);return((e,t,n)=>{const r=t.ExtractSignatures();if(!r.find((t=>t.length===e.length)))throw new ze(n,r,e)})(a,s,i),new mt(e,i,c,s,a,n,r)};this.views[i]=a}}));const o=i.generateSchema();(o.schema&&"object"===typeof o.schema?Object.keys(o.schema):[]).filter((e=>-1===Object.keys(t).indexOf(e))).forEach((t=>{this.methodsObject[t]=function(n){return e.contractMethodFactory.createContractMethodObjectParam(i,t,n,!1,!0)}}))}else{const t=this.parameterSchema;this.methodsObject[ht]=function(n){return e.contractMethodFactory.createContractMethodObjectParam(t,ht,n,!1)}}}_initializeOnChainViews(e,t,n,r){const i=this.schema.val;r.forEach((r=>{this.contractViews[r.viewName]=function(a){return e.contractMethodFactory.createContractViewObjectParam(t,n,r,i,a)}}))}storage(){return this.storageProvider.getStorage(this.address,this.schema)}}function yt(e,t){return(n,r)=>t(e(n,r),r)}class vt{constructor(e,t){this.id=e,this.provider=t}getSaplingDiff(e){return G(this,void 0,void 0,(function*(){return this.provider.getSaplingDiffByID(this.id.toString(),e)}))}getId(){return this.id.toString()}}class bt{constructor(e,t,n){this.id=e,this.schema=t,this.provider=n}get(e,t){return G(this,void 0,void 0,(function*(){try{return yield this.provider.getBigMapKeyByID(this.id.toString(),e,this.schema,t)}catch(e){if(e instanceof i.O&&e.status===i.lg.NOT_FOUND)return;throw e}}))}getMultipleValues(e,t){return G(this,arguments,void 0,(function*(e,t,n=5){return this.provider.getBigMapKeysByID(this.id.toString(),e,this.schema,t,n)}))}toJSON(){return this.id.toString()}toString(){return this.id.toString()}}const xt=e=>({big_map:(t,n)=>{if(t&&"int"in t&&void 0!==t.int){const r=new F.Sj(n);return new bt(new j.A(t.int),r,e)}return{}},sapling_state:t=>t&&"int"in t&&void 0!==t.int?new vt(new j.A(t.int),e):{}});var Et;const wt=(e,t)=>{var n,r,i;return{fee:null!==(n=e.fee)&&void 0!==n?n:t.fee,gasLimit:null!==(r=e.gasLimit)&&void 0!==r?r:t.gasLimit,storageLimit:null!==(i=e.storageLimit)&&void 0!==i?i:t.storageLimit}};class _t extends dt{constructor(e){super(e),this.context=e,Et.set(this,void 0),K(this,Et,{},"f")}getBlockHash(e){return G(this,void 0,void 0,(function*(){return this.context.readProvider.getBlockHash(null!==e&&void 0!==e?e:"head~2")}))}getProtocolHash(){return G(this,void 0,void 0,(function*(){return this.context.readProvider.getNextProtocol("head")}))}getHeadCounter(e){return G(this,void 0,void 0,(function*(){var t;return null!==(t=this.context.readProvider.getCounter(e,"head"))&&void 0!==t?t:"0"}))}adjustGasForBatchOperation(e,t,n){return j.A.min(t,e.div(n+1))}getOperationLimits(e,t){return G(this,void 0,void 0,(function*(){const{hard_gas_limit_per_operation:n,hard_gas_limit_per_block:r,hard_storage_limit_per_operation:i}=e;return{fee:0,gasLimit:t?Math.floor(this.adjustGasForBatchOperation(r,n,t).toNumber()):n.toNumber(),storageLimit:i.toNumber()}}))}getFee(e,t,n){(!V(this,Et,"f")[t]||V(this,Et,"f")[t]<n)&&(V(this,Et,"f")[t]=n);return{counter:`${++V(this,Et,"f")[t]}`,fee:"undefined"===typeof e.fee?"0":`${e.fee}`,gas_limit:"undefined"===typeof e.gas_limit?"0":`${e.gas_limit}`,storage_limit:"undefined"===typeof e.storage_limit?"0":`${e.storage_limit}`}}getSource(e,t,n){return{source:"undefined"===typeof e.source?n||t:e.source}}addRevealOperationIfNeeded(e,t){return G(this,void 0,void 0,(function*(){if(ne(e)){const n=[e],{publicKey:r,pkh:i}=yield this.getKeys();if(yield this.isAccountRevealRequired(t)){if(!r)throw new a._d(i);const[,e]=(0,U.$9)(i,U.Rv);return n.unshift(yield nt({fee:Ae(i),storageLimit:0,gasLimit:ge(i),proof:e===U.Rk.BLS12_381PublicKeyHash?(yield this.signer.provePossession()).prefixSig:void 0},t,r)),n}}return e}))}getKeys(){return G(this,void 0,void 0,(function*(){const e=this.context.isAnySignerConfigured();return{pkh:e?yield this.signer.publicKeyHash():yield this.context.wallet.pkh(),publicKey:e?yield this.signer.publicKey():yield this.context.wallet.pk()}}))}convertIntoArray(e){return Array.isArray(e)?[...e]:[e]}constructOpContents(e,t,n,i,o){return e.map((e=>{switch(e.kind){case r.w9.ACTIVATION:case r.w9.DRAIN_DELEGATE:return Object.assign({},e);case r.w9.ORIGINATION:return Object.assign(Object.assign(Object.assign(Object.assign({},e),{balance:"undefined"!==typeof e.balance?`${e.balance}`:"0"}),this.getSource(e,n,i)),this.getFee(e,n,t));case r.w9.TRANSACTION:{const r=Object.assign(Object.assign(Object.assign(Object.assign({},e),{amount:"undefined"!==typeof e.amount?`${e.amount}`:"0"}),this.getSource(e,n,i)),this.getFee(e,n,t));if(r.source.toLowerCase().startsWith("kt1"))throw new a.dy(`KT1 addresses are not supported as source since ${fe.PsBabyM1}`);return r}case r.w9.REVEAL:case r.w9.DELEGATION:case r.w9.REGISTER_GLOBAL_CONSTANT:case r.w9.UPDATE_CONSENSUS_KEY:case r.w9.UPDATE_COMPANION_KEY:case r.w9.SMART_ROLLUP_ADD_MESSAGES:case r.w9.SMART_ROLLUP_ORIGINATE:case r.w9.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return Object.assign(Object.assign(Object.assign({},e),this.getSource(e,n,i)),this.getFee(e,n,t));case r.w9.TRANSFER_TICKET:return Object.assign(Object.assign(Object.assign(Object.assign({},e),{ticket_amount:`${e.ticket_amount}`}),this.getSource(e,n,i)),this.getFee(e,n,t));case r.w9.INCREASE_PAID_STORAGE:return Object.assign(Object.assign(Object.assign(Object.assign({},e),{amount:`${e.amount}`}),this.getSource(e,n,i)),this.getFee(e,n,t));case r.w9.BALLOT:case r.w9.PROPOSALS:if(void 0===o)throw new Ce("Failed to get the current voting period index");return Object.assign(Object.assign(Object.assign({},e),{period:null===o||void 0===o?void 0:o.voting_period.index}),this.getSource(e,n,i));default:throw new a.$W(e.kind)}}))}activate(e){return G(this,arguments,void 0,(function*({pkh:e,secret:t}){const n=yield(e=>G(void 0,[e],void 0,(function*({pkh:e,secret:t}){return{kind:r.w9.ACTIVATION,pkh:e,secret:t}})))({pkh:e,secret:t}),i=this.convertIntoArray(n),a=yield this.getBlockHash(),o=yield this.getProtocolHash();K(this,Et,{},"f");const s=parseInt(yield this.getHeadCounter(e),10);return{opOb:{branch:a,contents:this.constructOpContents(i,s,e),protocol:o},counter:s}}))}reveal(e){return G(this,arguments,void 0,(function*({fee:e,gasLimit:t,storageLimit:n,proof:r}){const{pkh:i,publicKey:o}=yield this.getKeys();if(!o)throw new a._d(i);const[,s]=(0,U.$9)(i,U.Rv);if(s===U.Rk.BLS12_381PublicKeyHash)if(r)(0,U.$9)(r,[U.Rk.BLS12_381Signature]);else{const{prefixSig:e}=yield this.signer.provePossession();r=e}else if(r)throw new a.vz("Proof field is only allowed to reveal a bls account ");const l=yield this.context.readProvider.getProtocolConstants("head"),c=yield this.getOperationLimits(l),u=wt({fee:e,storageLimit:n,gasLimit:t},c),d=yield nt({fee:u.fee,gasLimit:u.gasLimit,storageLimit:u.storageLimit,proof:r},i,o),h=this.convertIntoArray(d),f=yield this.getBlockHash(),p=yield this.getProtocolHash();K(this,Et,{},"f");const g=parseInt(yield this.getHeadCounter(i),10);return{opOb:{branch:f,contents:this.constructOpContents(h,g,i),protocol:p},counter:g}}))}originate(e,t){return G(this,void 0,void 0,(function*(){var{fee:n,storageLimit:r,gasLimit:i}=e,a=H(e,["fee","storageLimit","gasLimit"]);const{pkh:o}=yield this.getKeys(),s=yield this.context.readProvider.getProtocolConstants("head"),l=yield this.getOperationLimits(s),c=yield Ze(yield this.context.parser.prepareCodeOrigination(Object.assign(Object.assign({},a),wt({fee:n,storageLimit:r,gasLimit:i},l)))),u=yield this.addRevealOperationIfNeeded(c,o),d=this.convertIntoArray(u),h=yield this.getBlockHash(),f=yield this.getProtocolHash();K(this,Et,{},"f");const p=parseInt(yield this.getHeadCounter(o),10);return{opOb:{branch:h,contents:this.constructOpContents(d,p,o,t),protocol:f},counter:p}}))}transaction(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield et(Object.assign(Object.assign({},i),wt({fee:t,storageLimit:n,gasLimit:r},s))),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}stake(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield et(Object.assign(Object.assign(Object.assign(Object.assign({},i),{to:a}),wt({fee:t,storageLimit:n,gasLimit:r},s)),{parameter:{entrypoint:"stake",value:{prim:"Unit"}}})),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}unstake(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield et(Object.assign(Object.assign(Object.assign(Object.assign({},i),{to:a}),wt({fee:t,storageLimit:n,gasLimit:r},s)),{parameter:{entrypoint:"unstake",value:{prim:"Unit"}}})),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}finalizeUnstake(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r,to:i}=e,a=H(e,["fee","storageLimit","gasLimit","to"]);const{pkh:o}=yield this.getKeys(),s=yield this.context.readProvider.getProtocolConstants("head"),l=yield this.getOperationLimits(s),c=yield et(Object.assign(Object.assign(Object.assign(Object.assign({},a),{to:i||o,amount:0}),wt({fee:t,storageLimit:n,gasLimit:r},l)),{parameter:{entrypoint:"finalize_unstake",value:{prim:"Unit"}}})),u=yield this.addRevealOperationIfNeeded(c,o),d=this.convertIntoArray(u),h=yield this.getBlockHash(),f=yield this.getProtocolHash();K(this,Et,{},"f");const p=parseInt(yield this.getHeadCounter(o),10);return{opOb:{branch:h,contents:this.constructOpContents(d,p,o,a.source),protocol:f},counter:p}}))}delegation(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield tt(Object.assign(Object.assign({},i),wt({fee:t,storageLimit:n,gasLimit:r},s))),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}registerDelegate(e,t){return G(this,arguments,void 0,(function*({fee:e,storageLimit:t,gasLimit:n},i){const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=wt({fee:e,storageLimit:t,gasLimit:n},s),c=yield((e,t)=>G(void 0,[e,t],void 0,(function*({fee:e,gasLimit:t,storageLimit:n},i){return{kind:r.w9.DELEGATION,fee:e,gas_limit:t,storage_limit:n,delegate:i}})))({fee:l.fee,storageLimit:l.storageLimit,gasLimit:l.gasLimit},a),u=yield this.addRevealOperationIfNeeded(c,a),d=this.convertIntoArray(u),h=yield this.getBlockHash(),f=yield this.getProtocolHash();K(this,Et,{},"f");const p=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:h,contents:this.constructOpContents(d,p,a,i),protocol:f},counter:p}}))}registerGlobalConstant(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield rt(Object.assign(Object.assign({},i),wt({fee:t,storageLimit:n,gasLimit:r},s))),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}updateConsensusKey(e,t){return G(this,void 0,void 0,(function*(){var{fee:n,storageLimit:r,gasLimit:i}=e,o=H(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),[,l]=(0,U.$9)(o.pk,U.PW);if(l===U.Rk.BLS12_381PublicKey){if(!o.proof)throw new a.Ck("Proof is required to set a bls account as consensus key ")}else if(o.proof)throw new a.vz("Proof field is only allowed for a bls account as consensus key");const c=yield this.context.readProvider.getProtocolConstants("head"),u=yield this.getOperationLimits(c),d=yield ot(Object.assign(Object.assign({},o),wt({fee:n,storageLimit:r,gasLimit:i},u))),h=yield this.addRevealOperationIfNeeded(d,s),f=this.convertIntoArray(h),p=yield this.getBlockHash(),g=yield this.getProtocolHash();K(this,Et,{},"f");const m=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:p,contents:this.constructOpContents(f,m,s,t),protocol:g},counter:m}}))}updateCompanionKey(e,t){return G(this,void 0,void 0,(function*(){var{fee:n,storageLimit:r,gasLimit:i}=e,o=H(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),[,l]=(0,U.$9)(o.pk,U.PW);if(l!==U.Rk.BLS12_381PublicKey)throw new a.vz("companion key must be a bls account");if(!o.proof)throw new a.Ck("Proof is required to set a bls account as companion key ");const c=yield this.context.readProvider.getProtocolConstants("head"),u=yield this.getOperationLimits(c),d=yield st(Object.assign(Object.assign({},o),wt({fee:n,storageLimit:r,gasLimit:i},u))),h=yield this.addRevealOperationIfNeeded(d,s),f=this.convertIntoArray(h),p=yield this.getBlockHash(),g=yield this.getProtocolHash();K(this,Et,{},"f");const m=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:p,contents:this.constructOpContents(f,m,s,t),protocol:g},counter:m}}))}increasePaidStorage(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield at(Object.assign(Object.assign({},i),wt({fee:t,storageLimit:n,gasLimit:r},s))),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}ballot(e){return G(this,void 0,void 0,(function*(){const{pkh:t}=yield this.getKeys(),n=yield(i=Object.assign({},e),G(void 0,[i],void 0,(function*({source:e,proposal:t,ballot:n}){return{kind:r.w9.BALLOT,source:e,proposal:t,ballot:n}})));var i;const a=this.convertIntoArray(n),o=yield this.getBlockHash(),s=yield this.getProtocolHash();K(this,Et,{},"f");const l=parseInt(yield this.getHeadCounter(t),10);let c;try{c=yield this.rpc.getCurrentPeriod()}catch(e){throw new Ce("Failed to get the current voting period index")}return{opOb:{branch:o,contents:this.constructOpContents(a,l,t,e.source,c),protocol:s},counter:l}}))}proposals(e){return G(this,void 0,void 0,(function*(){const{pkh:t}=yield this.getKeys(),n=yield(i=Object.assign({},e),G(void 0,[i],void 0,(function*({source:e,proposals:t}){return{kind:r.w9.PROPOSALS,source:e,proposals:t}})));var i;const a=this.convertIntoArray(n),o=yield this.getBlockHash(),s=yield this.getProtocolHash();K(this,Et,{},"f");const l=parseInt(yield this.getHeadCounter(t),10);let c;try{c=yield this.rpc.getCurrentPeriod()}catch(e){throw new Ce("Failed to get the current voting period index")}return{opOb:{branch:o,contents:this.constructOpContents(a,l,t,e.source,c),protocol:s},counter:l}}))}drainDelegate(e,t){return G(this,void 0,void 0,(function*(){const{pkh:n}=yield this.getKeys(),i=yield(a=Object.assign({},e),G(void 0,[a],void 0,(function*({consensus_key:e,delegate:t,destination:n}){return{kind:r.w9.DRAIN_DELEGATE,consensus_key:e,delegate:t,destination:n}})));var a;const o=this.convertIntoArray(i),s=yield this.getBlockHash(),l=yield this.getProtocolHash();K(this,Et,{},"f");const c=parseInt(yield this.getHeadCounter(n),10);return{opOb:{branch:s,contents:this.constructOpContents(o,c,n,t),protocol:l},counter:c}}))}transferTicket(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield it(Object.assign(Object.assign({},i),wt({fee:t,storageLimit:n,gasLimit:r},s))),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}smartRollupAddMessages(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield lt(Object.assign(Object.assign({},i),wt({fee:t,storageLimit:n,gasLimit:r},s))),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}smartRollupOriginate(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield ct(Object.assign(Object.assign({},wt({fee:t,storageLimit:n,gasLimit:r},s)),i)),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}smartRollupExecuteOutboxMessage(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const{pkh:a}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(o),l=yield ut(Object.assign(Object.assign({},i),wt({fee:t,storageLimit:n,gasLimit:r},s))),c=yield this.addRevealOperationIfNeeded(l,a),u=this.convertIntoArray(c),d=yield this.getBlockHash(),h=yield this.getProtocolHash();K(this,Et,{},"f");const f=parseInt(yield this.getHeadCounter(a),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,a,i.source),protocol:h},counter:f}}))}batch(e,t){return G(this,void 0,void 0,(function*(){const{pkh:n,publicKey:r}=yield this.getKeys(),i=yield this.context.readProvider.getProtocolConstants("head"),o=yield this.getOperationLimits(i,e.length),s=yield this.isRevealOpNeeded(e,n),l=[];if(t)for(const n of e)if(te(n)){const e=t.shift(),r=wt(n,{fee:e.suggestedFeeMutez,storageLimit:e.storageLimit,gasLimit:e.gasLimit});l.push(yield this.getRPCOp(Object.assign(Object.assign({},n),r)))}else l.push(Object.assign({},n));else for(const t of e)if(te(t)){const e=wt(t,o);l.push(yield this.getRPCOp(Object.assign(Object.assign({},t),e)))}else l.push(Object.assign({},t));if(s){if(!r)throw new a._d(n);const[,e]=(0,U.$9)(n,U.Rv);l.unshift(yield nt({fee:Ae(n),storageLimit:0,gasLimit:ge(n),proof:e===U.Rk.BLS12_381PublicKeyHash?(yield this.signer.provePossession()).prefixSig:void 0},n,r))}const c=yield this.getBlockHash(),u=yield this.getProtocolHash();K(this,Et,{},"f");const d=parseInt(yield this.getHeadCounter(n),10);return{opOb:{branch:c,contents:this.constructOpContents(l,d,n),protocol:u},counter:d}}))}contractCall(e){return G(this,void 0,void 0,(function*(){var t,n,i;const a=yield this.getBlockHash(),o=yield this.getProtocolHash(),{pkh:s}=yield this.getKeys();K(this,Et,{},"f");const l=parseInt(yield this.getHeadCounter(s),10),c=e.toTransferParams(),u=yield this.context.readProvider.getProtocolConstants("head"),d=yield this.getOperationLimits(u),h=wt({fee:c.fee,storageLimit:c.storageLimit,gasLimit:c.gasLimit},d),f={kind:r.w9.TRANSACTION,fee:null!==(t=c.fee)&&void 0!==t?t:h.fee,gas_limit:null!==(n=c.gasLimit)&&void 0!==n?n:h.gasLimit,storage_limit:null!==(i=c.storageLimit)&&void 0!==i?i:h.storageLimit,amount:String(c.amount),destination:c.to,parameters:c.parameter},p=yield this.addRevealOperationIfNeeded(f,s),g=this.convertIntoArray(p);return{opOb:{branch:a,contents:this.constructOpContents(g,l,s),protocol:o},counter:l}}))}toPreapply(e){return G(this,void 0,void 0,(function*(){const{opOb:{contents:t,branch:n,protocol:r}}=e,i=this.toForge(e),a=yield this.context.forger.forge(i);return[{contents:t,branch:n,protocol:r,signature:(yield this.context.signer.sign(a,new Uint8Array([3]))).prefixSig}]}))}toForge({opOb:{contents:e,branch:t}}){return{branch:t,contents:e}}}Et=new WeakMap;class St extends dt{constructor(e){super(e),this.prepare=new _t(this.context)}getBalance(e){return G(this,void 0,void 0,(function*(){const t=(0,U.jl)(e);if(t!==U.nA.VALID)throw new a.Ms(e,t);return this.context.readProvider.getBalance(e,"head")}))}getSpendable(e){return G(this,void 0,void 0,(function*(){const t=(0,U.jl)(e);if(t!==U.nA.VALID)throw new a.Ms(e,t);return this.context.readProvider.getSpendable(e,"head")}))}getDelegate(e){return G(this,void 0,void 0,(function*(){const t=(0,U.jl)(e);if(t!==U.nA.VALID)throw new a.Ms(e,t);return this.context.readProvider.getDelegate(e,"head")}))}activate(e,t){return G(this,void 0,void 0,(function*(){const n=(0,U._f)(e);if(n!==U.nA.VALID)throw new U.$u(e,n);const r=yield this.prepare.activate({pkh:e,secret:t}),i=yield this.forge(r),a=`${i.opbytes}00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`;return new Qe(yield this.rpc.injectOperation(a),Object.assign(Object.assign({},i),{opbytes:a}),[],this.context.clone())}))}}const It=100;class Ct{constructor(e,t,n,r,i=100){this._milligasLimit=e,this._storageLimit=t,this.opSize=n,this.minimalFeePerStorageByteMutez=r,this.baseFeeMutez=i}get burnFeeMutez(){return this.roundUp(Number(this.storageLimit)*Number(this.minimalFeePerStorageByteMutez))}get storageLimit(){return Math.max(Number(this._storageLimit),0)}get gasLimit(){return this.roundUp(Number(this._milligasLimit)/1e3)}get operationFeeMutez(){return.1*this.gasLimit+1*Number(this.opSize)}roundUp(e){return Math.ceil(Number(e))}get minimalFeeMutez(){return this.roundUp(this.operationFeeMutez+It)}get suggestedFeeMutez(){return this.roundUp(this.operationFeeMutez+120)}get usingBaseFeeMutez(){return Math.max(Number(this.baseFeeMutez),It)+this.roundUp(this.operationFeeMutez)}get totalCost(){return this.minimalFeeMutez+this.burnFeeMutez}get consumedMilligas(){return Number(this._milligasLimit)}static createEstimateInstanceFromProperties(e){let t,n=0,r=0,i=0,a=0;return e.forEach((e=>{n+=e.milligasLimit,r+=e.storageLimit,i+=e.opSize,a=Math.max(e.minimalFeePerStorageByteMutez,a),e.baseFeeMutez&&(t=t?t+e.baseFeeMutez:e.baseFeeMutez)})),new Ct(n,r,i,a,t)}static createArrayEstimateInstancesFromProperties(e){return e.map((e=>new Ct(e.milligasLimit,e.storageLimit,e.opSize,e.minimalFeePerStorageByteMutez,e.baseFeeMutez)))}}class Mt extends a.IT{constructor(){super(),this.name="RevealEstimateError",this.message="Public key is unknown, unable to estimate the reveal operation in Wallet API."}}class Ot extends dt{constructor(){super(...arguments),this.REVEAL_LENGTH=324,this.REVEAL_LENGTH_TZ4=622,this.MILLIGAS_BUFFER=1e5,this.STORAGE_BUFFER=20,this.prepare=new _t(this.context)}getKeys(){return G(this,void 0,void 0,(function*(){const e=this.context.isAnySignerConfigured();return{publicKeyHash:e?yield this.signer.publicKeyHash():yield this.context.wallet.pkh(),publicKey:e?yield this.signer.publicKey():yield this.context.wallet.pk()}}))}getEstimationPropertiesFromOperationContent(e,t,n,r){const i=xe({contents:[e]});let a=0,o=0;return i.forEach((e=>{a+=Number(e.consumed_milligas)||0,o+="allocated_destination_contract"in e?r:0,o+="originated_contracts"in e&&Array.isArray(e.originated_contracts)?e.originated_contracts.length*r:0,o+="storage_size"in e&&"global_address"in e&&Number(e.storage_size)||0,o+="paid_storage_size_diff"in e&&Number(e.paid_storage_size_diff)||0,o+="genesis_commitment_hash"in e&&Number(e.size)||0})),te(e)?{milligasLimit:ee(e)?a+Number(this.MILLIGAS_BUFFER):a,storageLimit:o>0?o+this.STORAGE_BUFFER:0,opSize:t,minimalFeePerStorageByteMutez:n.toNumber()}:{milligasLimit:0,storageLimit:0,opSize:t,minimalFeePerStorageByteMutez:n.toNumber(),baseFeeMutez:0}}calculateEstimates(e,t){return G(this,void 0,void 0,(function*(){const{opbytes:n,opOb:{branch:r,contents:i}}=yield this.forge(e),a={operation:{branch:r,contents:i,signature:"edsigtkpiSSschcaCt9pUVrpNPf7TTcgvgDEDD6NCEHMy8NNQJCGnMfLZzYoQj74yLjo9wx6MPVV29CvVzgi7qEcEUok3k7AuMg"},chain_id:yield this.context.readProvider.getChainId()},{opResponse:o}=yield this.simulate(a),{cost_per_byte:s,origination_size:l}=t,c=[...Ee(o,"backtracked"),...Ee(o)];if(c.length)throw new ve(c,"Error occurred during estimation",o.contents);let u=1;return Array.isArray(e.opOb.contents)&&e.opOb.contents.length>1&&(u="reveal"===o.contents[0].kind?e.opOb.contents.length-1:e.opOb.contents.length),o.contents.map((e=>{const t=e;let r,i;return t.source=t.source||"",t.source.startsWith(U.Rk.BLS12_381PublicKeyHash)?(r=this.REVEAL_LENGTH_TZ4/2,i=(n.length/2+U.Ne[U.Rk.BLS12_381Signature])/u):(r=this.REVEAL_LENGTH/2,i=(n.length/2+U.Ne[U.Rk.Ed25519Signature])/u),this.getEstimationPropertiesFromOperationContent(e,"reveal"===e.kind?r:i,s,null!==l&&void 0!==l?l:257)}))}))}originate(e){return G(this,void 0,void 0,(function*(){const t=yield this.prepare.originate(e),n=yield this.context.readProvider.getProtocolConstants("head"),r=yield this.calculateEstimates(t,n);if("reveal"===t.opOb.contents[0].kind){const e=t.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;r.shift(),r[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(r)}))}transfer(e){return G(this,void 0,void 0,(function*(){var t,{fee:n,storageLimit:r,gasLimit:i}=e,o=H(e,["fee","storageLimit","gasLimit"]);const s=(0,U.jl)(o.to);if(s!==U.nA.VALID)throw new a.Ms(o.to,s);const l=(0,U.jl)(null!==(t=o.source)&&void 0!==t?t:"");if(o.source&&l!==U.nA.VALID)throw new a.Ms(o.source,l);if(o.amount<0)throw new a.IA(o.amount.toString());const c=yield this.prepare.transaction(Object.assign({fee:n,storageLimit:r,gasLimit:i},o)),u=yield this.context.readProvider.getProtocolConstants("head"),d=yield this.calculateEstimates(c,u);if("reveal"===c.opOb.contents[0].kind){const e=c.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;d.shift(),d[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(d)}))}stake(e){return G(this,void 0,void 0,(function*(){var t,{fee:n,storageLimit:r,gasLimit:i}=e,o=H(e,["fee","storageLimit","gasLimit"]);const s=(0,U.jl)(null!==(t=o.source)&&void 0!==t?t:"");if(o.source&&s!==U.nA.VALID)throw new a.Ms(o.source,s);if(o.to||(o.to=o.source),o.to&&o.to!==o.source)throw new a.dr(o.to);if(o.amount<0)throw new a.IA(o.amount.toString());const l=yield this.prepare.stake(Object.assign({fee:n,storageLimit:r,gasLimit:i},o)),c=yield this.context.readProvider.getProtocolConstants("head"),u=yield this.calculateEstimates(l,c);if("reveal"===l.opOb.contents[0].kind){u.shift();const e=l.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;u[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(u)}))}unstake(e){return G(this,void 0,void 0,(function*(){var t,{fee:n,storageLimit:r,gasLimit:i}=e,o=H(e,["fee","storageLimit","gasLimit"]);const s=(0,U.jl)(null!==(t=o.source)&&void 0!==t?t:"");if(o.source&&s!==U.nA.VALID)throw new a.Ms(o.source,s);if(o.to||(o.to=o.source),o.to&&o.to!==o.source)throw new a.dr(o.to);if(o.amount<0)throw new a.IA(o.amount.toString());const l=yield this.prepare.unstake(Object.assign({fee:n,storageLimit:r,gasLimit:i},o)),c=yield this.context.readProvider.getProtocolConstants("head"),u=yield this.calculateEstimates(l,c);if("reveal"===l.opOb.contents[0].kind){u.shift();const e=l.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;u[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(u)}))}finalizeUnstake(e){return G(this,void 0,void 0,(function*(){var t,{fee:n,storageLimit:r,gasLimit:i}=e,o=H(e,["fee","storageLimit","gasLimit"]);const s=(0,U.jl)(null!==(t=o.source)&&void 0!==t?t:"");if(o.source&&s!==U.nA.VALID)throw new a.Ms(o.source,s);if(o.to||(o.to=o.source),o.amount||(o.amount=0),void 0!==o.amount&&0!==o.amount)throw new Error("Amount must be 0 for finalize_unstake operation");const l=yield this.prepare.finalizeUnstake(Object.assign({fee:n,storageLimit:r,gasLimit:i},o)),c=yield this.context.readProvider.getProtocolConstants("head"),u=yield this.calculateEstimates(l,c);if("reveal"===l.opOb.contents[0].kind){u.shift();const e=l.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;u[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(u)}))}transferTicket(e){return G(this,void 0,void 0,(function*(){var t,{fee:n,storageLimit:r,gasLimit:i}=e,o=H(e,["fee","storageLimit","gasLimit"]);const s=(0,U.jl)(o.destination);if(s!==U.nA.VALID)throw new a.Ms(o.destination,s);const l=(0,U.jl)(null!==(t=o.source)&&void 0!==t?t:"");if(o.source&&l!==U.nA.VALID)throw new a.Ms(o.source,l);const c=yield this.context.readProvider.getProtocolConstants("head"),u=yield this.prepare.transferTicket(Object.assign({fee:n,storageLimit:r,gasLimit:i},o)),d=yield this.calculateEstimates(u,c);if("reveal"===u.opOb.contents[0].kind){d.shift();const e=u.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;d[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(d)}))}setDelegate(e){return G(this,void 0,void 0,(function*(){var t,n,{fee:r,gasLimit:i,storageLimit:o}=e,s=H(e,["fee","gasLimit","storageLimit"]);const l=(0,U.jl)(null!==(t=s.source)&&void 0!==t?t:"");if(s.source&&l!==U.nA.VALID)throw new a.Ms(s.source,l);const c=(0,U.jl)(null!==(n=s.delegate)&&void 0!==n?n:"");if(s.delegate&&c!==U.nA.VALID)throw new a.Ms(s.delegate,c);const u=yield this.prepare.delegation(Object.assign({fee:r,storageLimit:o,gasLimit:i},s)),d=yield this.context.readProvider.getProtocolConstants("head"),h=yield this.calculateEstimates(u,d);if("reveal"===u.opOb.contents[0].kind){h.shift();const e=u.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;h[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(h)}))}batch(e){return G(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),n=yield this.prepare.batch(e),r=yield this.calculateEstimates(n,t);return Ct.createArrayEstimateInstancesFromProperties(r)}))}registerDelegate(e,t){return G(this,void 0,void 0,(function*(){var{fee:n,storageLimit:r,gasLimit:i}=e,a=H(e,["fee","storageLimit","gasLimit"]);const o=(yield this.getKeys()).publicKeyHash,s=yield this.context.readProvider.getProtocolConstants("head"),l=t||o,c=yield this.prepare.registerDelegate(Object.assign({fee:n,storageLimit:r,gasLimit:i},a),l),u=yield this.calculateEstimates(c,s);if("reveal"===c.opOb.contents[0].kind){u.shift();const e=c.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;u[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(u)}))}reveal(e){return G(this,void 0,void 0,(function*(){const{publicKeyHash:t,publicKey:n}=yield this.getKeys();if(!n)throw new Mt;if(yield this.isAccountRevealRequired(t)){const[,n]=(0,U.$9)(t,U.Rv);if(n===U.Rk.BLS12_381PublicKeyHash)if(e&&e.proof)(0,U.$9)(e.proof,[U.Rk.BLS12_381Signature]);else{const{prefixSig:t}=yield this.signer.provePossession();e=Object.assign(Object.assign({},e),{proof:t})}else if(e&&e.proof)throw new a.vz("Proof field is only allowed to reveal a bls account ");const r=yield this.context.readProvider.getProtocolConstants("head"),i=e?yield this.prepare.reveal(e):yield this.prepare.reveal({}),o=yield this.calculateEstimates(i,r);return Ct.createEstimateInstanceFromProperties(o)}}))}registerGlobalConstant(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);const a=yield this.prepare.registerGlobalConstant(Object.assign({fee:t,storageLimit:n,gasLimit:r},i)),o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.calculateEstimates(a,o);if("reveal"===a.opOb.contents[0].kind){s.shift();const e=a.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;s[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(s)}))}increasePaidStorage(e){return G(this,void 0,void 0,(function*(){var{fee:t,storageLimit:n,gasLimit:r}=e,i=H(e,["fee","storageLimit","gasLimit"]);if(i.amount<=0)throw new a.IA(i.amount.toString());const o=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.prepare.increasePaidStorage(Object.assign({fee:t,storageLimit:n,gasLimit:r},i)),l=yield this.calculateEstimates(s,o);if("reveal"===s.opOb.contents[0].kind){l.shift();const e=s.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;l[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(l)}))}updateConsensusKey(e){return G(this,void 0,void 0,(function*(){const[,t]=(0,U.$9)(e.pk,U.PW);if(t===U.Rk.BLS12_381PublicKey){if(!e.proof)throw new a.Ck("Proof is required to set a bls account as consensus key ")}else if(e.proof)throw new a.vz("Proof field is only allowed for a bls account as consensus key");const n=yield this.context.readProvider.getProtocolConstants("head"),r=yield this.prepare.updateConsensusKey(e),i=yield this.calculateEstimates(r,n);if("reveal"===r.opOb.contents[0].kind){i.shift();const e=r.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;i[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(i)}))}updateCompanionKey(e){return G(this,void 0,void 0,(function*(){const[,t]=(0,U.$9)(e.pk,U.PW);if(t!==U.Rk.BLS12_381PublicKey)throw new a.vz("companion key must be a bls account");if(!e.proof)throw new a.Ck("Proof is required to set a bls account as companion key ");const n=yield this.context.readProvider.getProtocolConstants("head"),r=yield this.prepare.updateCompanionKey(e),i=yield this.calculateEstimates(r,n);if("reveal"===r.opOb.contents[0].kind){i.shift();const e=r.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;i[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(i)}))}smartRollupAddMessages(e){return G(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),n=yield this.prepare.smartRollupAddMessages(e),r=yield this.calculateEstimates(n,t);if("reveal"===n.opOb.contents[0].kind){r.shift();const e=n.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;r[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(r)}))}smartRollupOriginate(e){return G(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),n=yield this.prepare.smartRollupOriginate(e),r=yield this.calculateEstimates(n,t);if("reveal"===n.opOb.contents[0].kind){r.shift();const e=n.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;r[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(r)}))}smartRollupExecuteOutboxMessage(e){return G(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),n=yield this.prepare.smartRollupExecuteOutboxMessage(e),r=yield this.calculateEstimates(n,t);return"reveal"===n.opOb.contents[0].kind&&r.shift(),Ct.createEstimateInstanceFromProperties(r)}))}contractCall(e){return G(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),n=yield this.prepare.contractCall(e),r=yield this.calculateEstimates(n,t);if("reveal"===n.opOb.contents[0].kind){r.shift();const e=n.opOb.contents[0].source.startsWith(U.Rk.BLS12_381PublicKeyHash)?this.REVEAL_LENGTH_TZ4/2:this.REVEAL_LENGTH/2;r[0].opSize-=e}return Ct.createEstimateInstanceFromProperties(r)}))}}const Tt=[r.w9.ACTIVATION,r.w9.ORIGINATION,r.w9.TRANSACTION,r.w9.DELEGATION,r.w9.REGISTER_GLOBAL_CONSTANT,r.w9.INCREASE_PAID_STORAGE,r.w9.TRANSFER_TICKET,r.w9.SMART_ROLLUP_ADD_MESSAGES,r.w9.SMART_ROLLUP_ORIGINATE,r.w9.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE];class Pt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}sumProp(e,t){return e.reduce(((e,n)=>t in n?Number(n[t])+e:e),0)}getOriginatedContractAddresses(){const e=this.results.filter((e=>"origination"===e.kind));let t=[];for(const n of e)n.metadata.operation_result.originated_contracts&&(t=[...t,...n.metadata.operation_result.originated_contracts]);return t}get status(){return this.results.filter((e=>-1!==Tt.indexOf(e.kind))).map((e=>{if(ie(e)){return e.metadata.operation_result.status}return"unknown"}))[0]||"unknown"}get fee(){return this.sumProp(this.params,"fee")}get gasLimit(){return this.sumProp(this.params,"gas_limit")}get storageLimit(){return this.sumProp(this.params,"storage_limit")}get consumedGas(){return j.A.config({DECIMAL_PLACES:0,ROUNDING_MODE:j.A.ROUND_UP}),new j.A(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(xe({contents:this.results}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(xe({contents:this.results}),"paid_storage_size_diff"))}get errors(){return Ee({contents:this.results})}}class Rt extends dt{constructor(e,t){super(e),this.estimator=t,this.operations=[],this.prepare=new _t(this.context)}withTransfer(e){const t=(0,U.jl)(e.to);if(e.amount<0)throw new a.IA(e.amount.toString());if(t!==U.nA.VALID)throw new a.Ms(e.to,t);return this.operations.push(Object.assign({kind:r.w9.TRANSACTION},e)),this}withTransferTicket(e){const t=(0,U.jl)(e.destination);if(t!==U.nA.VALID)throw new a.Ms(e.destination,t);return this.operations.push(Object.assign({kind:r.w9.TRANSFER_TICKET},e)),this}withContractCall(e,t={}){return this.withTransfer(e.toTransferParams(t))}withDelegation(e){var t,n;const i=(0,U.jl)(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&i!==U.nA.VALID)throw new a.Ms(e.source,i);const o=(0,U.jl)(null!==(n=e.delegate)&&void 0!==n?n:"");if(e.delegate&&o!==U.nA.VALID)throw new a.Ms(e.delegate,o);return this.operations.push(Object.assign({kind:r.w9.DELEGATION},e)),this}withActivation({pkh:e,secret:t}){const n=(0,U._f)(e);if(n!==U.nA.VALID)throw new a.$u(e,n);return this.operations.push({kind:r.w9.ACTIVATION,pkh:e,secret:t}),this}withOrigination(e){return this.operations.push(Object.assign({kind:r.w9.ORIGINATION},e)),this}withRegisterGlobalConstant(e){return this.operations.push(Object.assign({kind:r.w9.REGISTER_GLOBAL_CONSTANT},e)),this}withIncreasePaidStorage(e){return this.operations.push(Object.assign({kind:r.w9.INCREASE_PAID_STORAGE},e)),this}withUpdateConsensusKey(e){const[,t]=(0,U.$9)(e.pk,U.PW);if(t===U.Rk.BLS12_381PublicKey){if(!e.proof)throw new a.Ck("Proof is required to set a bls account as consensus key ")}else if(e.proof)throw new a.vz("Proof field is only allowed for a bls account as consensus key");return this.operations.push(Object.assign({kind:r.w9.UPDATE_CONSENSUS_KEY},e)),this}withUpdateCompanionKey(e){const[,t]=(0,U.$9)(e.pk,U.PW);if(t!==U.Rk.BLS12_381PublicKey)throw new a.vz("companion key must be a bls account");if(!e.proof)throw new a.Ck("Proof is required to set a bls account as companion key ");return this.operations.push(Object.assign({kind:r.w9.UPDATE_COMPANION_KEY},e)),this}withSmartRollupAddMessages(e){return this.operations.push(Object.assign({kind:r.w9.SMART_ROLLUP_ADD_MESSAGES},e)),this}withSmartRollupOriginate(e){return this.operations.push(Object.assign({kind:r.w9.SMART_ROLLUP_ORIGINATE},e)),this}withSmartRollupExecuteOutboxMessage(e){return this.operations.push(Object.assign({kind:r.w9.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE},e)),this}getRPCOp(e){return G(this,void 0,void 0,(function*(){switch(e.kind){case r.w9.TRANSACTION:return et(Object.assign({},e));case r.w9.ORIGINATION:return Ze(yield this.context.parser.prepareCodeOrigination(Object.assign({},e)));case r.w9.DELEGATION:return tt(Object.assign({},e));case r.w9.REGISTER_GLOBAL_CONSTANT:return rt(Object.assign({},e));case r.w9.INCREASE_PAID_STORAGE:return at(Object.assign({},e));case r.w9.UPDATE_CONSENSUS_KEY:return ot(Object.assign({},e));case r.w9.UPDATE_COMPANION_KEY:return st(Object.assign({},e));case r.w9.TRANSFER_TICKET:return it(Object.assign({},e));case r.w9.SMART_ROLLUP_ADD_MESSAGES:return lt(Object.assign({},e));case r.w9.SMART_ROLLUP_ORIGINATE:return ct(Object.assign({},e));case r.w9.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return ut(Object.assign({},e));default:throw new a.$W(JSON.stringify(e.kind))}}))}with(e){for(const t of e)switch(t.kind){case r.w9.TRANSACTION:this.withTransfer(t);break;case r.w9.ORIGINATION:this.withOrigination(t);break;case r.w9.DELEGATION:this.withDelegation(t);break;case r.w9.ACTIVATION:this.withActivation(t);break;case r.w9.REGISTER_GLOBAL_CONSTANT:this.withRegisterGlobalConstant(t);break;case r.w9.INCREASE_PAID_STORAGE:this.withIncreasePaidStorage(t);break;case r.w9.TRANSFER_TICKET:this.withTransferTicket(t);break;case r.w9.SMART_ROLLUP_ADD_MESSAGES:this.withSmartRollupAddMessages(t);break;case r.w9.SMART_ROLLUP_ORIGINATE:this.withSmartRollupOriginate(t);break;case r.w9.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:this.withSmartRollupExecuteOutboxMessage(t);break;default:throw new a.$W(JSON.stringify(t.kind))}return this}send(e){return G(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),n=e&&e.source||t,r=yield this.estimator.batch(this.operations);r.length!==this.operations.length&&r.shift();const i=yield this.prepare.batch(this.operations,r),a=yield this.forge(i),{hash:o,context:s,forgedBytes:l,opResponse:c}=yield this.signAndInject(a);return new Pt(o,i.opOb.contents,n,l,c,s)}))}}class Bt{constructor(e,t){this.context=e,this.estimator=t}batch(e){const t=new Rt(this.context,this.estimator);return Array.isArray(e)&&t.with(e),t}}class kt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"delegation"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get delegate(){return this.params.delegate}get isRegisterOperation(){return this.delegate===this.source}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return j.g.config({DECIMAL_PLACES:0,ROUNDING_MODE:j.g.ROUND_UP}),this.consumedMilliGas?new j.g(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class Dt extends Qe{constructor(e,t,n,r,i,a){super(e,n,r,i),this.params=t,this.contractProvider=a;const o=this.operationResults&&this.operationResults.originated_contracts;Array.isArray(o)&&(this.contractAddress=o[0])}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"origination"===e.kind)),t=e&&ie(e)&&e.metadata.operation_result;return t||void 0}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return j.g.config({DECIMAL_PLACES:0,ROUNDING_MODE:j.g.ROUND_UP}),this.consumedMilliGas?new j.g(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get storageDiff(){const e=this.operationResults&&this.operationResults.paid_storage_size_diff;return e||void 0}get storageSize(){const e=this.operationResults&&this.operationResults.storage_size;return e||void 0}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}contract(e,t){return G(this,void 0,void 0,(function*(){if(!this.contractAddress)throw new we("No contract was originated in this operation");return yield this.confirmation(e,t),this.contractProvider.at(this.contractAddress)}))}}class Lt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n,this.globalConstantHash=this.operationResults&&this.operationResults.global_address}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"register_global_constant"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get registeredExpression(){return this.params.value}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}get consumedGas(){return j.g.config({DECIMAL_PLACES:0,ROUNDING_MODE:j.g.ROUND_UP}),this.consumedMilliGas?new j.g(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}}class Nt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"reveal"===e.kind));return e?[e]:[]}get status(){const e=this.operationResults[0];return e?e.metadata.operation_result.status:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get publicKey(){return this.params.public_key}get proof(){if(this.params.proof)return this.params.proof;throw new a.vz("Only BLS key has proof")}sumProp(e,t){return e.reduce(((e,n)=>t in n?Number(n[t])+e:e),0)}get consumedGas(){return j.g.config({DECIMAL_PLACES:0,ROUNDING_MODE:j.g.ROUND_UP}),new j.g(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(xe({contents:this.operationResults}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(xe({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(xe({contents:this.operationResults}),"storage_size"))}get errors(){return Ee({contents:this.operationResults})}}class jt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"transaction"===e.kind));return e?[e]:[]}get status(){const e=this.operationResults[0];return e?e.metadata.operation_result.status:"unknown"}get amount(){return new j.A(this.params.amount)}get destination(){return this.params.destination}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}sumProp(e,t){return e.reduce(((e,n)=>t in n?Number(n[t])+e:e),0)}get consumedGas(){return j.A.config({DECIMAL_PLACES:0,ROUNDING_MODE:j.A.ROUND_UP}),new j.A(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(xe({contents:this.operationResults}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(xe({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(xe({contents:this.operationResults}),"storage_size"))}get errors(){return Ee({contents:this.operationResults})}}class Ut extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>e.kind===r.w9.TRANSFER_TICKET)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return j.g.config({DECIMAL_PLACES:0,ROUNDING_MODE:j.g.ROUND_UP}),this.consumedMilliGas?new j.g(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}}class Ft extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"increase_paid_storage"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get amount(){return this.params.amount}get destination(){return this.params.destination}}class Qt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"ballot"===e.kind));return e||void 0}get period(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.period}get proposal(){return this.params.proposal}get ballot(){return this.params.ballot}}class zt extends Qe{constructor(e,t,n,r,i){super(e,n,r,i),this.params=t}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"drain_delegate"===e.kind)),t=e&&e.metadata&&e.metadata.balance_updates;return t||void 0}get consensusKey(){return this.params.consensus_key}get delegate(){return this.params.delegate}get destination(){return this.params.destination}}class Ht extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"proposals"===e.kind));return e||void 0}get proposals(){return this.params.proposals}get period(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.period}}class Gt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"update_consensus_key"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get pk(){return this.params.pk}get proof(){if(this.params.proof)return this.params.proof;throw new a.vz("Only updating consensus key to a BLS account has proof")}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class Vt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"update_companion_key"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get pk(){return this.params.pk}get proof(){if(this.params.proof)return this.params.proof;throw new a.vz("Only updating companion key to a BLS account has proof")}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class Kt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"smart_rollup_add_messages"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get message(){return this.params.message}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class Wt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>e.kind===r.w9.SMART_ROLLUP_ORIGINATE)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get pvmKind(){return this.params.pvm_kind}get kernel(){return this.params.kernel}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class qt extends Qe{constructor(e,t,n,r,i,a){super(e,r,i,a),this.params=t,this.source=n}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>e.kind===r.w9.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get rollup(){return this.params.rollup}get cementedCommitment(){return this.params.cemented_commitment}get outputProof(){return this.params.output_proof}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class Yt extends dt{constructor(e,t){super(e),this.estimator=t,this.contractProviderTypeSymbol=Symbol.for("taquito-contract-provider-type-symbol"),this.prepare=new _t(this.context)}getStorage(e,t){return G(this,void 0,void 0,(function*(){const n=(0,U.Lg)(e);if(n!==U.nA.VALID)throw new a.mC(e,n);const r=yield this.context.readProvider.getScript(e,"head");let i;return t||(t=r),i=F.Sj.isSchema(t)?t:F.Sj.fromRPCResponse({script:t}),i.Execute(r.storage,xt(this))}))}getBigMapKeyByID(e,t,n,r){return G(this,void 0,void 0,(function*(){const{key:i,type:a}=n.EncodeBigMapKey(t),{packed:o}=yield this.context.packer.packData({data:i,type:a}),s=(0,U.Ad)(o),l=r?yield this.context.readProvider.getBigMapValue({id:e.toString(),expr:s},r):yield this.context.readProvider.getBigMapValue({id:e.toString(),expr:s},"head");return n.ExecuteOnBigMapValue(l,xt(this))}))}getBigMapKeysByID(e,t,n,r){return G(this,arguments,void 0,(function*(e,t,n,r,i=5){const a=yield this.getBlockForRequest(t,r),o=new F.PE;let s=0,l=[];for(;s<t.length;){const r=t.slice(s,s+i).map((t=>this.getBigMapValueOrUndefined(t,e,n,a)));l=[...l,...yield Promise.all(r)],s+=i}for(let e=0;e<l.length;e++)o.set(t[e],l[e]);return o}))}getBlockForRequest(e,t){return G(this,void 0,void 0,(function*(){return 1===e.length||"undefined"!==typeof t?t:yield this.context.readProvider.getBlockLevel("head")}))}getBigMapValueOrUndefined(e,t,n,r){return G(this,void 0,void 0,(function*(){try{return yield this.getBigMapKeyByID(t,e,n,r)}catch(e){if(e instanceof i.O&&e.status===i.lg.NOT_FOUND)return;throw e}}))}getSaplingDiffByID(e,t){return G(this,void 0,void 0,(function*(){return t?yield this.context.readProvider.getSaplingDiffById({id:e.toString()},t):yield this.context.readProvider.getSaplingDiffById({id:e.toString()},"head")}))}originate(e){return G(this,void 0,void 0,(function*(){const t=yield this.estimate(e,this.estimator.originate.bind(this.estimator)),n=yield this.prepare.originate(Object.assign(Object.assign({},e),t)),i=n.opOb.contents.find((e=>e.kind===r.w9.ORIGINATION)),a=yield this.forge(n),{hash:o,context:s,forgedBytes:l,opResponse:c}=yield this.signAndInject(a);return new Dt(o,i,l,c,s,this)}))}setDelegate(e){return G(this,void 0,void 0,(function*(){var t,n,i,o;const s=(0,U.jl)(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&s!==U.nA.VALID)throw new a.Ms(e.source,s);const l=(0,U.jl)(null!==(n=e.delegate)&&void 0!==n?n:"");if(e.delegate&&l!==U.nA.VALID)throw new a.Ms(e.delegate,l);if(/^kt1/i.test(null!==(i=e.source)&&void 0!==i?i:""))throw new He(null!==(o=e.source)&&void 0!==o?o:"");const c=yield this.signer.publicKeyHash(),u=e.source||c,d=yield this.estimate(e,this.estimator.setDelegate.bind(this.estimator)),h=yield this.prepare.delegation(Object.assign(Object.assign({},e),d)),f=h.opOb.contents.find((e=>e.kind===r.w9.DELEGATION)),p=yield this.forge(h),{hash:g,context:m,forgedBytes:A,opResponse:y}=yield this.signAndInject(p);return new kt(g,f,u,A,y,m)}))}registerDelegate(e){return G(this,void 0,void 0,(function*(){const t=yield this.estimate(e,this.estimator.registerDelegate.bind(this.estimator)),n=yield this.signer.publicKeyHash(),i=yield this.prepare.registerDelegate(Object.assign(Object.assign({},e),t)),a=i.opOb.contents.find((e=>e.kind===r.w9.DELEGATION)),o=yield this.forge(i),{hash:s,context:l,forgedBytes:c,opResponse:u}=yield this.signAndInject(o);return new kt(s,a,n,c,u,l)}))}transfer(e){return G(this,void 0,void 0,(function*(){var t;const n=(0,U.jl)(e.to);if(n!==U.nA.VALID)throw new a.Ms(e.to,n);const i=(0,U.jl)(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&i!==U.nA.VALID)throw new a.Ms(e.source,i);if(e.amount<0)throw new a.IA(e.amount.toString());const o=yield this.signer.publicKeyHash(),s=yield this.estimate(e,this.estimator.transfer.bind(this.estimator)),l=e.source||o,c=yield this.prepare.transaction(Object.assign(Object.assign({},e),s)),u=c.opOb.contents.find((e=>e.kind===r.w9.TRANSACTION)),d=yield this.forge(c),{hash:h,context:f,forgedBytes:p,opResponse:g}=yield this.signAndInject(d);return new jt(h,u,l,p,g,f)}))}stake(e){return G(this,void 0,void 0,(function*(){var t;const n=(0,U.jl)(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&n!==U.nA.VALID)throw new a.Ms(e.source,n);if(e.to||(e.to=e.source),e.to&&e.to!==e.source)throw new a.dr(e.to);if(e.amount<0)throw new a.IA(e.amount.toString());const i=yield this.signer.publicKeyHash(),o=yield this.estimate(e,this.estimator.stake.bind(this.estimator)),s=e.source||i,l=yield this.prepare.stake(Object.assign(Object.assign({},e),o)),c=l.opOb.contents.find((e=>e.kind===r.w9.TRANSACTION)),u=yield this.forge(l),{hash:d,context:h,forgedBytes:f,opResponse:p}=yield this.signAndInject(u);return new jt(d,c,s,f,p,h)}))}unstake(e){return G(this,void 0,void 0,(function*(){var t;const n=(0,U.jl)(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&n!==U.nA.VALID)throw new a.Ms(e.source,n);if(e.to||(e.to=e.source),e.to&&e.to!==e.source)throw new a.dr(e.to);if(e.amount<0)throw new a.IA(e.amount.toString());const i=yield this.signer.publicKeyHash(),o=yield this.estimate(e,this.estimator.unstake.bind(this.estimator)),s=e.source||i,l=yield this.prepare.unstake(Object.assign(Object.assign({},e),o)),c=l.opOb.contents.find((e=>e.kind===r.w9.TRANSACTION)),u=yield this.forge(l),{hash:d,context:h,forgedBytes:f,opResponse:p}=yield this.signAndInject(u);return new jt(d,c,s,f,p,h)}))}finalizeUnstake(e){return G(this,void 0,void 0,(function*(){var t;const n=(0,U.jl)(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&n!==U.nA.VALID)throw new a.Ms(e.source,n);if(e.to||(e.to=e.source),e.amount||(e.amount=0),void 0!==e.amount&&e.amount>0)throw new a.LJ("Amount must be 0 to finalize unstake.");const i=yield this.signer.publicKeyHash(),o=yield this.estimate(e,this.estimator.finalizeUnstake.bind(this.estimator)),s=e.source||i,l=yield this.prepare.finalizeUnstake(Object.assign(Object.assign({},e),o)),c=l.opOb.contents.find((e=>e.kind===r.w9.TRANSACTION)),u=yield this.forge(l),{hash:d,context:h,forgedBytes:f,opResponse:p}=yield this.signAndInject(u);return new jt(d,c,s,f,p,h)}))}transferTicket(e){return G(this,void 0,void 0,(function*(){var t,n;const i=(0,U.jl)(e.destination);if(i!==U.nA.VALID)throw new a.Ms(e.destination,i);const o=(0,U.jl)(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&o!==U.nA.VALID)throw new a.Ms(e.source,o);const s=yield this.signer.publicKeyHash(),l=null!==(n=e.source)&&void 0!==n?n:s,c=yield this.estimate(e,this.estimator.transferTicket.bind(this.estimator)),u=yield this.prepare.transferTicket(Object.assign(Object.assign({},e),c)),d=u.opOb.contents.find((e=>e.kind===r.w9.TRANSFER_TICKET)),h=yield this.forge(u),{hash:f,context:p,forgedBytes:g,opResponse:m}=yield this.signAndInject(h);return new Ut(f,d,l,g,m,p)}))}reveal(e){return G(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),[,n]=(0,U.$9)(t,U.Rv);if(n===U.Rk.BLS12_381PublicKeyHash)if(e.proof)(0,U.$9)(e.proof,[U.Rk.BLS12_381Signature]);else{const{prefixSig:t}=yield this.signer.provePossession();e.proof=t}else if(e.proof)throw new a.vz("Proof field is only allowed to reveal a bls account ");const i=yield this.estimator.reveal(e);if(i){const n=yield this.estimate(e,(()=>G(this,void 0,void 0,(function*(){return i})))),a=yield this.prepare.reveal(Object.assign(Object.assign({},e),n)),o=a.opOb.contents.find((e=>e.kind===r.w9.REVEAL)),s=yield this.forge(a),{hash:l,context:c,forgedBytes:u,opResponse:d}=yield this.signAndInject(s);return new Nt(l,o,t,u,d,c)}throw new Xe(`The publicKeyHash '${t}' has already been revealed.`)}))}registerGlobalConstant(e){return G(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),n=yield this.estimate(e,this.estimator.registerGlobalConstant.bind(this.estimator)),i=yield this.prepare.registerGlobalConstant(Object.assign(Object.assign({},e),n)),a=i.opOb.contents.find((e=>e.kind===r.w9.REGISTER_GLOBAL_CONSTANT)),o=yield this.forge(i),{hash:s,context:l,forgedBytes:c,opResponse:u}=yield this.signAndInject(o);return new Lt(s,a,t,c,u,l)}))}increasePaidStorage(e){return G(this,void 0,void 0,(function*(){if(e.amount<=0)throw new a.IA(e.amount.toString());const t=yield this.signer.publicKeyHash(),n=yield this.estimate(e,this.estimator.increasePaidStorage.bind(this.estimator)),i=yield this.prepare.increasePaidStorage(Object.assign(Object.assign({},e),n)),o=i.opOb.contents.find((e=>e.kind===r.w9.INCREASE_PAID_STORAGE)),s=yield this.forge(i),{hash:l,context:c,forgedBytes:u,opResponse:d}=yield this.signAndInject(s);return new Ft(l,o,t,u,d,c)}))}drainDelegate(e){return G(this,void 0,void 0,(function*(){const t=yield this.prepare.drainDelegate(e),n=t.opOb.contents.find((e=>e.kind===r.w9.DRAIN_DELEGATE)),i=yield this.forge(t),{hash:a,context:o,forgedBytes:s,opResponse:l}=yield this.signAndInject(i);return new zt(a,n,s,l,o)}))}ballot(e){return G(this,void 0,void 0,(function*(){var t,n;const i=yield this.signer.publicKeyHash(),o=(0,U.jl)(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&o!==U.nA.VALID)throw new a.Ms(e.source,o);const s=null!==(n=e.source)&&void 0!==n?n:i,l=yield this.prepare.ballot(Object.assign(Object.assign({},e),{source:s})),c=l.opOb.contents.find((e=>e.kind===r.w9.BALLOT)),u=yield this.forge(l),{hash:d,context:h,forgedBytes:f,opResponse:p}=yield this.signAndInject(u);return new Qt(d,c,i,f,p,h)}))}proposals(e){return G(this,void 0,void 0,(function*(){var t,n;const i=yield this.signer.publicKeyHash(),o=(0,U.jl)(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&o!==U.nA.VALID)throw new a.Ms(e.source,o);const s=null!==(n=e.source)&&void 0!==n?n:i,l=yield this.prepare.proposals(Object.assign(Object.assign({},e),{source:s})),c=l.opOb.contents.find((e=>e.kind===r.w9.PROPOSALS)),u=yield this.forge(l),{hash:d,context:h,forgedBytes:f,opResponse:p}=yield this.signAndInject(u);return new Ht(d,c,i,f,p,h)}))}updateConsensusKey(e){return G(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),[,n]=(0,U.$9)(e.pk,U.PW);if(n===U.Rk.BLS12_381PublicKey){if(!e.proof)throw new a.Ck("Proof is required to set a bls account as consensus key ")}else if(e.proof)throw new a.vz("Proof field is only allowed for a bls account as consensus key");const i=yield this.estimate(e,this.estimator.updateConsensusKey.bind(this.estimator)),o=yield this.prepare.updateConsensusKey(Object.assign(Object.assign({},e),i)),s=o.opOb.contents.find((e=>e.kind===r.w9.UPDATE_CONSENSUS_KEY)),l=yield this.forge(o),{hash:c,context:u,forgedBytes:d,opResponse:h}=yield this.signAndInject(l);return new Gt(c,s,t,d,h,u)}))}updateCompanionKey(e){return G(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),[,n]=(0,U.$9)(e.pk,U.PW);if(n!==U.Rk.BLS12_381PublicKey)throw new a.vz("Proof field is only allowed for a bls account as companion key");if(!e.proof)throw new a.Ck("Proof is required to set a bls account as companion key ");const i=yield this.estimate(e,this.estimator.updateCompanionKey.bind(this.estimator)),o=yield this.prepare.updateCompanionKey(Object.assign(Object.assign({},e),i)),s=o.opOb.contents.find((e=>e.kind===r.w9.UPDATE_COMPANION_KEY)),l=yield this.forge(o),{hash:c,context:u,forgedBytes:d,opResponse:h}=yield this.signAndInject(l);return new Vt(c,s,t,d,h,u)}))}smartRollupAddMessages(e){return G(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),n=yield this.estimate(e,this.estimator.smartRollupAddMessages.bind(this.estimator)),i=yield this.prepare.smartRollupAddMessages(Object.assign(Object.assign({},e),n)),a=i.opOb.contents.find((e=>e.kind===r.w9.SMART_ROLLUP_ADD_MESSAGES)),o=yield this.forge(i),{hash:s,context:l,forgedBytes:c,opResponse:u}=yield this.signAndInject(o);return new Kt(s,a,t,c,u,l)}))}smartRollupOriginate(e){return G(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),n=yield this.estimate(e,this.estimator.smartRollupOriginate.bind(this.estimator)),i=yield this.prepare.smartRollupOriginate(Object.assign(Object.assign({},e),n)),a=i.opOb.contents.find((e=>e.kind===r.w9.SMART_ROLLUP_ORIGINATE)),o=yield this.forge(i),{hash:s,context:l,forgedBytes:c,opResponse:u}=yield this.signAndInject(o);return new Wt(s,a,t,c,u,l)}))}smartRollupExecuteOutboxMessage(e){return G(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),n=yield this.estimate(e,this.estimator.smartRollupExecuteOutboxMessage.bind(this.estimator)),i=yield this.prepare.smartRollupExecuteOutboxMessage(Object.assign(Object.assign({},e),n)),a=i.opOb.contents.find((e=>e.kind===r.w9.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE)),o=yield this.forge(i),{hash:s,context:l,forgedBytes:c,opResponse:u}=yield this.signAndInject(o);return new qt(s,a,t,c,u,l)}))}failingNoop(e){return G(this,void 0,void 0,(function*(){const t={kind:r.w9.FAILING_NOOP,arbitrary:e.arbitrary},n=yield this.context.readProvider.getBlockHash(e.basedOnBlock),i=yield this.context.forger.forge({branch:n,contents:[t]}),{prefixSig:a}=yield this.signer.sign(i,new Uint8Array([3]));return{signature:a,bytes:i,signedContent:{branch:n,contents:[{kind:r.w9.FAILING_NOOP,arbitrary:e.arbitrary}]}}}))}at(e){return G(this,arguments,void 0,(function*(e,t=(e=>e)){const n=(0,U.Lg)(e);if(n!==U.nA.VALID)throw new a.mC(e,n);const r=this.context.withExtensions().rpc,i=this.context.withExtensions().readProvider,o=yield i.getScript(e,"head"),s=yield i.getEntrypoints(e);return t(new At(e,o,this,this,s,r,i),this.context)}))}batch(e){const t=new Rt(this.context,this.estimator);return Array.isArray(e)&&t.with(e),t}}class Xt{constructor(e,t){this.walletProvider=e,this.context=t,this.operations=[]}withTransfer(e){const t=(0,U.jl)(e.to);if(t!==U.nA.VALID)throw new a.Ms(e.to,t);return this.operations.push(Object.assign({kind:r.w9.TRANSACTION},e)),this}withContractCall(e,t={}){return this.withTransfer(e.toTransferParams(t))}withDelegation(e){var t;const n=(0,U.jl)(null!==(t=e.delegate)&&void 0!==t?t:"");if(e.delegate&&n!==U.nA.VALID)throw new a.Ms(e.delegate,n);return this.operations.push(Object.assign({kind:r.w9.DELEGATION},e)),this}withOrigination(e){return this.operations.push(Object.assign({kind:r.w9.ORIGINATION},e)),this}withIncreasePaidStorage(e){const t=(0,U.jl)(e.destination);if(t!==U.nA.VALID)throw new a.Ms(e.destination,t);return this.operations.push(Object.assign({kind:r.w9.INCREASE_PAID_STORAGE},e)),this}withTransferTicket(e){const t=(0,U.jl)(e.destination);if(t!==U.nA.VALID)throw new a.Ms(e.destination,t);return this.operations.push(Object.assign({kind:r.w9.TRANSFER_TICKET},e)),this}withRegisterGlobalConstant(e){return this.operations.push(Object.assign({kind:r.w9.REGISTER_GLOBAL_CONSTANT},e)),this}mapOperation(e){return G(this,void 0,void 0,(function*(){switch(e.kind){case r.w9.TRANSACTION:return this.walletProvider.mapTransferParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return e}))));case r.w9.ORIGINATION:return this.walletProvider.mapOriginateParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return this.context.parser.prepareCodeOrigination(Object.assign({},e))}))));case r.w9.DELEGATION:return this.walletProvider.mapDelegateParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return e}))));case r.w9.INCREASE_PAID_STORAGE:return this.walletProvider.mapIncreasePaidStorageWalletParams((()=>G(this,void 0,void 0,(function*(){return e}))));case r.w9.REGISTER_GLOBAL_CONSTANT:return this.walletProvider.mapRegisterGlobalConstantParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return e}))));case r.w9.TRANSFER_TICKET:return this.walletProvider.mapTransferTicketParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return e}))));default:throw new a.$W(JSON.stringify(e.kind))}}))}with(e){for(const t of e)switch(t.kind){case r.w9.TRANSACTION:this.withTransfer(t);break;case r.w9.ORIGINATION:this.withOrigination(t);break;case r.w9.DELEGATION:this.withDelegation(t);break;case r.w9.INCREASE_PAID_STORAGE:this.withIncreasePaidStorage(t);break;case r.w9.REGISTER_GLOBAL_CONSTANT:this.withRegisterGlobalConstant(t);break;case r.w9.TRANSFER_TICKET:this.withTransferTicket(t);break;default:throw new a.$W(JSON.stringify(t.kind))}return this}send(){return G(this,void 0,void 0,(function*(){const e=[];for(const t of this.operations)e.push(yield this.mapOperation(t));const t=yield this.walletProvider.sendOperations(e);return this.context.operationFactory.createBatchOperation(t)}))}}class Jt{constructor(e){this.context=e,this.walletCommand=e=>({send:e})}get walletProvider(){return this.context.walletProvider}pkh(){return G(this,arguments,void 0,(function*({forceRefetch:e}={}){return this._pkh&&!e||(this._pkh=yield this.walletProvider.getPKH()),this._pkh}))}pk(){return G(this,arguments,void 0,(function*({forceRefetch:e}={}){return this._pk&&!e||(this._pk=yield this.walletProvider.getPK()),this._pk}))}originate(e){return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapOriginateParamsToWalletParams((()=>this.context.parser.prepareCodeOrigination(Object.assign({},e)))),n=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createOriginationOperation(n)}))))}setDelegate(e){var t;const n=(0,U.jl)(null!==(t=e.delegate)&&void 0!==t?t:"");if(e.delegate&&n!==U.nA.VALID)throw new a.Ms(e.delegate,n);return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapDelegateParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return e})))),n=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createDelegationOperation(n)}))))}signFailingNoop(e){return G(this,void 0,void 0,(function*(){const t={kind:r.w9.FAILING_NOOP,arbitrary:e.arbitrary},n=yield this.context.readProvider.getBlockHash(e.basedOnBlock),i=yield this.context.forger.forge({branch:n,contents:[t]});return{signature:yield this.walletProvider.sign(i,Uint8Array.from([3])),bytes:i,signedContent:{branch:n,contents:[{kind:r.w9.FAILING_NOOP,arbitrary:e.arbitrary}]}}}))}registerDelegate(){return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const e=yield this.walletProvider.mapDelegateParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return{delegate:yield this.pkh()}})))),t=yield this.walletProvider.sendOperations([e]);return this.context.operationFactory.createDelegationOperation(t)}))))}transfer(e){const t=(0,U.jl)(e.to);if(t!==U.nA.VALID)throw new a.Ms(e.to,t);return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapTransferParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return e})))),n=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createTransactionOperation(n)}))))}transferTicket(e){const t=(0,U.jl)(e.destination);if(t!==U.nA.VALID)throw new a.Ms(e.destination,t);return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapTransferTicketParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return e})))),n=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createTransferTicketOperation(n)}))))}stake(e){return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapStakeParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){const t=yield this.pkh();if(e.to||(e.to=t),e.to!==t)throw new a.dr(e.to);return e.parameter={entrypoint:"stake",value:{prim:"Unit"}},e})))),n=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createTransactionOperation(n)}))))}unstake(e){return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapUnstakeParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){const t=yield this.pkh();if(e.to||(e.to=t),e.to!==t)throw new a.dr(e.to);return e.parameter={entrypoint:"unstake",value:{prim:"Unit"}},e})))),n=yield this.walletProvider.sendOperations([t]);return yield this.context.operationFactory.createTransactionOperation(n)}))))}finalizeUnstake(e){return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapFinalizeUnstakeParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){const t=yield this.pkh();if(e.to||(e.to=t),e.amount||(e.amount=0),0!==e.amount)throw new a.LJ("Amount must be 0 to finalize unstake.");return e.parameter={entrypoint:"finalize_unstake",value:{prim:"Unit"}},e})))),n=yield this.walletProvider.sendOperations([t]);return yield this.context.operationFactory.createTransactionOperation(n)}))))}increasePaidStorage(e){const t=(0,U.jl)(e.destination);if(t!==U.nA.VALID)throw new a.Ms(e.destination,t);return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapIncreasePaidStorageWalletParams((()=>G(this,void 0,void 0,(function*(){return e})))),n=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createIncreasePaidStorageOperation(n)}))))}registerGlobalConstant(e){return this.walletCommand((()=>G(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapRegisterGlobalConstantParamsToWalletParams((()=>G(this,void 0,void 0,(function*(){return e})))),n=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createRegisterGlobalConstantOperation(n)}))))}batch(e){const t=new Xt(this.walletProvider,this.context);return Array.isArray(e)&&t.with(e),t}at(e){return G(this,arguments,void 0,(function*(e,t=(e=>e)){const n=(0,U.Lg)(e);if(n!==U.nA.VALID)throw new a.mC(e,n);const r=this.context.withExtensions().rpc,i=this.context.withExtensions().readProvider,o=yield i.getScript(e,"head"),s=yield i.getEntrypoints(e);return t(new At(e,o,this,this.context.contract,s,r,i),this.context)}))}}class $t{constructor(e){this.context=e}getPKH(){return G(this,void 0,void 0,(function*(){return this.context.signer.publicKeyHash()}))}getPK(){return G(this,void 0,void 0,(function*(){return this.context.signer.publicKey()}))}mapTransferParamsToWalletParams(e){return G(this,void 0,void 0,(function*(){return J(yield e(),r.w9.TRANSACTION)}))}mapStakeParamsToWalletParams(e){return G(this,void 0,void 0,(function*(){return J(yield e(),r.w9.TRANSACTION)}))}mapUnstakeParamsToWalletParams(e){return G(this,void 0,void 0,(function*(){return J(yield e(),r.w9.TRANSACTION)}))}mapFinalizeUnstakeParamsToWalletParams(e){return G(this,void 0,void 0,(function*(){return J(yield e(),r.w9.TRANSACTION)}))}mapOriginateParamsToWalletParams(e){return G(this,void 0,void 0,(function*(){return J(yield e(),r.w9.ORIGINATION)}))}mapDelegateParamsToWalletParams(e){return G(this,void 0,void 0,(function*(){return J(yield e(),r.w9.DELEGATION)}))}mapIncreasePaidStorageWalletParams(e){return G(this,void 0,void 0,(function*(){return J(yield e(),r.w9.INCREASE_PAID_STORAGE)}))}mapTransferTicketParamsToWalletParams(e){return G(this,void 0,void 0,(function*(){return J(yield e(),r.w9.TRANSFER_TICKET)}))}mapRegisterGlobalConstantParamsToWalletParams(e){return G(this,void 0,void 0,(function*(){return J(yield e(),r.w9.REGISTER_GLOBAL_CONSTANT)}))}sendOperations(e){return G(this,void 0,void 0,(function*(){return(yield this.context.batch.batch(e).send()).hash}))}sign(e,t){return G(this,void 0,void 0,(function*(){const{prefixSig:n}=yield this.context.signer.sign(e,t);return n}))}}class Zt{constructor(e){this.context=e}getNextProto(){return G(this,void 0,void 0,(function*(){if(!this.context.proto){const e=yield this.context.readProvider.getNextProtocol("head");this.context.proto=e}return this.context.proto}))}parseScript(e){return G(this,void 0,void 0,(function*(){return new Q.iX({protocol:yield this.getNextProto()}).parseScript(e)}))}parseMichelineExpression(e){return G(this,void 0,void 0,(function*(){return new Q.iX({protocol:yield this.getNextProto()}).parseMichelineExpression(e)}))}parseJSON(e){return G(this,void 0,void 0,(function*(){return new Q.iX({protocol:yield this.getNextProto()}).parseJSON(e)}))}prepareCodeOrigination(e){return G(this,void 0,void 0,(function*(){const t=e;if(t.code=yield this.formatCodeParam(e.code),e.init)t.init=yield this.formatInitParam(e.init);else if(e.storage){const n=t.code.find((e=>"prim"in e&&"storage"===e.prim));if(!(null===n||void 0===n?void 0:n.args))throw new Ge("The storage section is missing from the script",e.code);const r=new F.Sj(n.args[0]),i=yield this.findGlobalConstantsHashAndValue(r);if(0!==Object.keys(i).length){const r=new Q.iX({expandGlobalConstant:i}).parseJSON(n.args[0]),a=new F.Sj(r);t.init=a.Encode(e.storage)}else t.init=r.Encode(e.storage);delete t.storage}return t}))}formatCodeParam(e){return G(this,void 0,void 0,(function*(){let t;if("string"===typeof e){const n=yield this.parseScript(e);if(null===n)throw new Ge("Unable to parse",e);t=n}else{const n=yield this.parseJSON(e),r=["parameter","storage","code"];t=n.sort(((e,t)=>r.indexOf(e.prim)-r.indexOf(t.prim)))}return t}))}formatInitParam(e){return G(this,void 0,void 0,(function*(){let t;if("string"===typeof e){const n=yield this.parseMichelineExpression(e);if(null===n)throw new Ve("Invalid init parameter",e);t=n}else t=yield this.parseJSON(e);return t}))}findGlobalConstantsHashAndValue(e){return G(this,void 0,void 0,(function*(){const t=e.findToken("constant"),n={};if(0!==t.length)for(const e of t){const t=e.tokenVal.args;if(t){const e=t[0];if(e.string){const t=e.string,r=yield this.context.globalConstantsProvider.getGlobalConstantByHash(t);Object.assign(n,{[t]:r})}}}return n}))}}class en{constructor(e){this.context=e}packData(e){return G(this,void 0,void 0,(function*(){return this.context.rpc.packData(e)}))}}a.IT;class tn extends a.Q1{constructor(){super(),this.name="UnconfiguredGlobalConstantsProviderError",this.message="No global constants provider has been configured. Please configure one by calling setGlobalConstantsProvider({globalConstantsProvider}) on your TezosToolkit instance."}}class nn{getGlobalConstantByHash(e){return G(this,void 0,void 0,(function*(){throw new tn}))}}class rn{constructor(e){this.rpc=e}getBalance(e,t){return G(this,void 0,void 0,(function*(){return this.rpc.getBalance(e,{block:String(t)})}))}getSpendable(e,t){return G(this,void 0,void 0,(function*(){return this.rpc.getSpendable(e,{block:String(t)})}))}getDelegate(e,t){return G(this,void 0,void 0,(function*(){return this.rpc.getDelegate(e,{block:String(t)})}))}getNextProtocol(e){return G(this,void 0,void 0,(function*(){return(yield this.rpc.getProtocols({block:String(e)})).next_protocol}))}getProtocolConstants(e){return G(this,void 0,void 0,(function*(){const{time_between_blocks:t,minimal_block_delay:n,hard_gas_limit_per_operation:r,hard_gas_limit_per_block:i,hard_storage_limit_per_operation:a,cost_per_byte:o,smart_rollup_origination_size:s}=yield this.rpc.getConstants({block:String(e)});return{time_between_blocks:t,minimal_block_delay:n,hard_gas_limit_per_operation:r,hard_gas_limit_per_block:i,hard_storage_limit_per_operation:a,cost_per_byte:o,smart_rollup_origination_size:s}}))}getScript(e,t){return G(this,void 0,void 0,(function*(){const{script:n}=yield this.rpc.getContract(e,{block:String(t)});return n}))}getStorage(e,t){return G(this,void 0,void 0,(function*(){return this.rpc.getStorage(e,{block:String(t)})}))}getBlockHash(e){return G(this,void 0,void 0,(function*(){const{hash:t}=yield this.rpc.getBlockHeader({block:String(e)});return t}))}getBlockLevel(e){return G(this,void 0,void 0,(function*(){const{level:t}=yield this.rpc.getBlockHeader({block:String(e)});return t}))}getCounter(e,t){return G(this,void 0,void 0,(function*(){const{counter:n}=yield this.rpc.getContract(e,{block:String(t)});return n||"0"}))}getBlockTimestamp(e){return G(this,void 0,void 0,(function*(){const{timestamp:t}=yield this.rpc.getBlockHeader({block:String(e)});return t}))}getBigMapValue(e,t){return G(this,void 0,void 0,(function*(){return this.rpc.getBigMapExpr(e.id,e.expr,{block:String(t)})}))}getSaplingDiffById(e,t){return G(this,void 0,void 0,(function*(){return this.rpc.getSaplingDiffById(e.id,{block:String(t)})}))}getSaplingDiffByContract(e,t){return G(this,void 0,void 0,(function*(){return this.rpc.getSaplingDiffByContract(e,{block:String(t)})}))}getEntrypoints(e){return G(this,void 0,void 0,(function*(){return this.rpc.getEntrypoints(e)}))}getChainId(){return G(this,void 0,void 0,(function*(){return this.rpc.getChainId()}))}isAccountRevealed(e,t){return G(this,void 0,void 0,(function*(){const n=yield this.rpc.getManagerKey(e,{block:String(t)});return n&&"object"===typeof n?!!n.key:!!n}))}getBlock(e){return G(this,void 0,void 0,(function*(){return this.rpc.getBlock({block:String(e)})}))}getLiveBlocks(e){return this.rpc.getLiveBlocks({block:String(e)})}getAdaptiveIssuanceLaunchCycle(e){return this.rpc.getAdaptiveIssuanceLaunchCycle({block:String(e)})}}class an extends a.Xi{constructor(e){super(),this.type=e,this.name="UnsupportedEventError",this.message=`Unsupported event type "${e}" expecting one of the "data", "error", or "close".`}}class on extends a.Xi{constructor(e){super(),this.invalidExpression=e,this.name="InvalidFilterExpressionError",this.message="Invalid filter expression expecting the object to contain either and/or property"}}const sn=(e,t)=>"opHash"in t?((e,t)=>e.hash===t.opHash)(e,t):"source"in t?((e,t)=>{switch(e.kind){case"attestation":return"metadata"in e&&e.metadata.delegate===t.source;case"activate_account":return"metadata"in e&&e.pkh===t.source;default:return"source"in e&&e.source===t.source}})(e,t):"kind"in t?((e,t)=>"kind"in e&&e.kind===t.kind)(e,t):"destination"in t&&((e,t)=>{switch(e.kind){case"delegation":return e.delegate===t.destination;case"origination":if("metadata"in e&&"operation_result"in e.metadata&&"originated_contracts"in e.metadata.operation_result&&Array.isArray(e.metadata.operation_result.originated_contracts))return e.metadata.operation_result.originated_contracts.some((e=>e===t.destination));break;case"transaction":return e.destination===t.destination;default:return!1}})(e,t),ln=(e,t)=>{const n=[];return Array.isArray(t)?n.push(...t):n.push(t),n.every((t=>"and"in t||"or"in t?((e,t)=>{if(Array.isArray(t.and))return t.and.every((t=>ln(e,t)));if(Array.isArray(t.or))return t.or.some((t=>ln(e,t)));throw new on(t)})(e,t):sn(e,t)))};class cn{constructor(e,t=!1,n=(0,D.L)()){this.shouldRetry=t,this.operatorFunction=n,this.errorListeners=[],this.messageListeners=[],this.closeListeners=[],this.completed$=new A.B,e.pipe((0,L.Q)(this.completed$),(0,_.M)((e=>{this.call(this.messageListeners,e)}),(e=>{this.call(this.errorListeners,e)}),(()=>{this.call(this.closeListeners)})),this.shouldRetry?n:(0,_.M)(),(0,M.W)((()=>y.t))).subscribe()}call(e,t){for(const n of e)try{n(t)}catch(e){}}remove(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}on(e,t){switch(e){case"data":this.messageListeners.push(t);break;case"error":this.errorListeners.push(t);break;case"close":this.closeListeners.push(t);break;default:throw new an(e)}}off(e,t){switch(e){case"data":this.remove(this.messageListeners,t);break;case"error":this.remove(this.errorListeners,t);break;case"close":this.remove(this.closeListeners,t);break;default:throw new an(e)}}close(){this.completed$.next()}}const un={shouldObservableSubscriptionRetry:!1,observableSubscriptionRetryFunction:(0,D.L)()},dn=e=>(0,E.H)((t=>new o.c((n=>{for(const s of t.operations)for(const l of s)for(const s of l.contents){const c=s.metadata.internal_operation_results;if(c)for(const s of c)r=s,i=null===e||void 0===e?void 0:e.address,a=null===e||void 0===e?void 0:e.tag,o=null===e||void 0===e?void 0:e.excludeFailedOperations,"event"!==r.kind||a&&r.tag!==a||i&&r.source!==i||o&&"applied"!==r.result.status||n.next(Object.assign({opHash:l.hash,blockHash:t.hash,level:t.header.level},s))}var r,i,a,o;n.complete()}))));class hn{constructor(e,t={}){this.context=e,this._config$=new h.t(Object.assign(Object.assign({},un),t)),this.timer$=this._config$.pipe((0,I.T)((e=>null===e||void 0===e?void 0:e.pollingIntervalMilliseconds)),(0,x.n)((e=>e?(0,v.O)(0,e):(0,d.H)(this.getConfirmationPollingInterval()).pipe((0,x.n)((e=>(0,v.O)(0,e))))))),this.newBlock$=this.timer$.pipe((0,x.n)((()=>(e=>(0,d.H)(e.rpc.getBlock()).pipe((0,b.$)()))(this.context))),(0,N.w)("hash"),(0,S.u)({resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!0}))}get config(){return this._config$.getValue()}getConfirmationPollingInterval(){return G(this,void 0,void 0,(function*(){if(!this.config.pollingIntervalMilliseconds){const e=5e3,t=700;try{const n=yield this.context.readProvider.getProtocolConstants("head"),r=(n.minimal_block_delay?n.minimal_block_delay.multipliedBy(1e3):new j.A(e)).dividedBy(3);this.config.pollingIntervalMilliseconds=0===r.toNumber()?t:Math.max(r.toNumber(),t)}catch(t){return e}}return this.config.pollingIntervalMilliseconds}))}subscribeBlock(e){return new cn(this.newBlock$,this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribe(e){return new cn(this.newBlock$.pipe((0,I.T)((e=>null===e||void 0===e?void 0:e.hash))),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribeOperation(e){return new cn(this.newBlock$.pipe((e=>(0,E.H)((t=>new o.c((n=>{for(const r of t.operations)for(const t of r)for(const r of t.contents)ln(Object.assign({hash:t.hash},r),e)&&n.next(Object.assign({hash:t.hash},r));n.complete()})))))(e)),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribeEvent(e){return new cn(this.newBlock$.pipe(dn(e)),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}}class fn{constructor(e){this.context=e}getNextProto(){return G(this,void 0,void 0,(function*(){if(!this.context.proto){const e=yield this.context.readProvider.getNextProtocol("head");this.context.proto=e}return this.context.proto}))}forge(e){return G(this,arguments,void 0,(function*({branch:e,contents:t}){return new z.B3(yield this.getNextProto()).forge({branch:e,contents:t})}))}}const pn={defaultConfirmationCount:1,confirmationPollingTimeoutSecond:180};class gn{constructor(e,t=new Y,n,i=new h.t(Object.assign({},pn)),a,o,s,l,c,u,d,f){this._rpc=e,this._signer=t,this._proto=n,this._config=i,this.providerDecorator=[],this.tz=new St(this),this.estimate=new Ot(this),this.contract=new Yt(this,this.estimate),this.prepare=new _t(this),this.batch=new Bt(this,this.estimate),this.wallet=new Jt(this),this.withExtensions=()=>{let e=this.clone();return this.providerDecorator.forEach((t=>{e=t(e)})),e},"string"===typeof this._rpc?this._rpcClient=new r.XK(this._rpc):this._rpcClient=this._rpc,this._forger=a||new fn(this),this._injector=o||new W(this),this.operationFactory=new Fe(this),this._walletProvider=l||new $t(this),this._parser=c||new Zt(this),this._packer=s||new en(this),this._globalConstantsProvider=u||new nn,this._readProvider=d||new rn(this._rpcClient),this._stream=f||new hn(this)}get config(){return this._config.getValue()}set config(e){this._config.next(Object.assign({},e))}setPartialConfig(e){this._config.next(Object.assign(Object.assign({},this._config.getValue()),e))}get rpc(){return this._rpcClient}set rpc(e){this._rpcClient=e}get injector(){return this._injector}set injector(e){this._injector=e}get forger(){return this._forger}set forger(e){this._forger=e}get signer(){return this._signer}set signer(e){this._signer=e}get walletProvider(){return this._walletProvider}set walletProvider(e){this._walletProvider=e}set proto(e){this._proto=e}get proto(){return this._proto}get parser(){return this._parser}set parser(e){this._parser=e}get packer(){return this._packer}set packer(e){this._packer=e}get globalConstantsProvider(){return this._globalConstantsProvider}set globalConstantsProvider(e){this._globalConstantsProvider=e}get readProvider(){return this._readProvider}set readProvider(e){this._readProvider=e}get stream(){return this._stream}set stream(e){this._stream=e}isAnyProtocolActive(){return G(this,arguments,void 0,(function*(e=[]){if(this._proto)return e.includes(this._proto);{const t=yield this.readProvider.getNextProtocol("head");return e.includes(t)}}))}isAnySignerConfigured(){return!(this.signer instanceof Y)}clone(){return new gn(this.rpc,this.signer,this.proto,this._config,this.forger,this._injector,this.packer,this._walletProvider,this._parser,this._globalConstantsProvider,this._readProvider,this._stream)}registerProviderDecorator(e){this.providerDecorator.push(e)}}const mn={commitHash:"ff502b6457efd5502635c8d6fe796fe156ef82b7",version:"24.0.1"};a.IT;a.Q1;class An{packData(e){return G(this,void 0,void 0,(function*(){const{bytes:t}=(0,Q.R1)(e.data,e.type);return{packed:t}}))}}class yn{constructor(e){this._rpc=e,this._options={},this.format=U.GP,"string"===typeof this._rpc?this._rpcClient=new r.XK(this._rpc):this._rpcClient=this._rpc,this._context=new gn(e),this._wallet=new Jt(this._context),this.setProvider({rpc:this._rpcClient})}setProvider({rpc:e,stream:t,signer:n,protocol:r,config:i,forger:a,wallet:o,packer:s,globalConstantsProvider:l,readProvider:c,parserProvider:u,injectorProvider:d}){this.setRpcProvider(e),this.setStreamProvider(t),this.setSignerProvider(n),this.setForgerProvider(a),this.setWalletProvider(o),this.setPackerProvider(s),this.setGlobalConstantsProvider(l),this.setReadProvider(c),this.setParserProvider(u),this.setInjectorProvider(d),this._context.proto=r,i&&this._context.setPartialConfig(i)}setSignerProvider(e){this._options.signer||"undefined"!==typeof e?"undefined"!==typeof e&&(this._context.signer=e,this._options.signer=e):(this._context.signer=new Y,this._options.signer=e)}setRpcProvider(e){"string"===typeof e?this._rpcClient=new r.XK(e):void 0===e||(this._rpcClient=e),this._options.rpc=this._rpcClient,this._context.rpc=this._rpcClient}setForgerProvider(e){if("undefined"!==typeof e)this._options.forger=e,this._context.forger=e;else if(void 0===this._options.forger){const e=this.getFactory(fn)();this._options.forger=e,this._context.forger=e}}setStreamProvider(e){if("string"===typeof e){const t=new hn(new gn(new r.XK(e)));this._options.stream=t,this._context.stream=t}else if("undefined"!==typeof e)this._options.stream=e,this._context.stream=e;else if(void 0===this._options.stream){const e=this.getFactory(hn)();this._options.stream=e,this._context.stream=e}}setWalletProvider(e){if(this._options.wallet||"undefined"!==typeof e)"undefined"!==typeof e&&(this._options.wallet=e,this._context.walletProvider=e);else{const e=this.getFactory($t)();this._options.wallet=e,this._context.walletProvider=e}}setPackerProvider(e){if(this._options.packer||"undefined"!==typeof e)"undefined"!==typeof e&&(this._context.packer=e,this._options.packer=e);else{const e=this.getFactory(en)();this._context.packer=e,this._options.packer=e}}setGlobalConstantsProvider(e){if(this._options.globalConstantsProvider||"undefined"!==typeof e)"undefined"!==typeof e&&(this._context.globalConstantsProvider=e,this._options.globalConstantsProvider=e);else{const e=new nn;this._context.globalConstantsProvider=e,this._options.globalConstantsProvider=e}}setReadProvider(e){const t=e||new rn(this._context.rpc);this._options.readProvider=t,this._context.readProvider=t}setParserProvider(e){if(this._options.parserProvider||"undefined"!==typeof e)"undefined"!==typeof e&&(this._context.parser=e,this._options.parserProvider=e);else{const e=new Zt(this._context);this._context.parser=e,this._options.parserProvider=e}}setInjectorProvider(e){if(this._options.injectorProvider||"undefined"!==typeof e)"undefined"!==typeof e&&(this._context.injector=e,this._options.injectorProvider=e);else{const e=new W(this._context);this._context.injector=e,this._options.injectorProvider=e}}setFieldNumberingStrategy(e){F.ou.fieldNumberingStrategy=e}get tz(){return this._context.tz}get contract(){return this._context.contract}get prepare(){return this._context.prepare}get wallet(){return this._wallet}get operation(){return this._context.operationFactory}get estimate(){return this._context.estimate}get stream(){return this._context.stream}get rpc(){return this._context.rpc}get signer(){return this._context.signer}get globalConstants(){return this._context.globalConstantsProvider}addExtension(e){Array.isArray(e)?e.forEach((e=>e.configureContext(this._context))):e.configureContext(this._context)}getFactory(e){return(...t)=>new e(this._context,...t)}getVersionInfo(){return mn}}},48110:(e,t,n)=>{"use strict";n.d(t,{$$:()=>Ie,$9:()=>me,$W:()=>c.$W,$u:()=>c.$u,Ad:()=>Se,Ag:()=>Te,Ar:()=>Oe,CX:()=>He,GP:()=>Ye,JF:()=>Qe,KE:()=>Fe,Lg:()=>Le,Ne:()=>de,O7:()=>c.O7,PW:()=>fe,Qk:()=>ve,RY:()=>ge,Rk:()=>re,Rv:()=>pe,WP:()=>we,Xw:()=>be,YV:()=>ze,Ye:()=>ye,Z_:()=>Ue,_f:()=>Ne,aP:()=>xe,fK:()=>je,g2:()=>Ee,hi:()=>Me,jX:()=>_e,jl:()=>ke,lS:()=>Pe,m6:()=>Ce,nA:()=>c.nA,of:()=>Ge,qr:()=>Ve,vz:()=>c.vz,ww:()=>Re,yC:()=>De,yr:()=>Ae});var r=n(19444),i=n(91889),a=n.n(i),o=n(60346),s=n(64527),l=n.n(s),c=n(17432),u=(n(34904),n(56133)),d="undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},h=[],f=[],p="undefined"!==typeof Uint8Array?Uint8Array:Array,g=!1;function m(){g=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)h[t]=e[t],f[e.charCodeAt(t)]=t;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63}function A(e,t,n){for(var r,i,a=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],a.push(h[(i=r)>>18&63]+h[i>>12&63]+h[i>>6&63]+h[63&i]);return a.join("")}function y(e){var t;g||m();for(var n=e.length,r=n%3,i="",a=[],o=16383,s=0,l=n-r;s<l;s+=o)a.push(A(e,s,s+o>l?l:s+o));return 1===r?(t=e[n-1],i+=h[t>>2],i+=h[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=h[t>>10],i+=h[t>>4&63],i+=h[t<<2&63],i+="="),a.push(i),a.join("")}function v(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=h,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=c}return(f?-1:1)*o*Math.pow(2,a-r)}function b(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+f]=255&o,f+=p,o/=256,c-=8);e[n+f-p]|=128*g}var x={}.toString,E=Array.isArray||function(e){return"[object Array]"==x.call(e)};function w(){return S.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function _(e,t){if(w()<t)throw new RangeError("Invalid typed array length");return S.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=S.prototype:(null===e&&(e=new S(t)),e.length=t),e}function S(e,t,n){if(!S.TYPED_ARRAY_SUPPORT&&!(this instanceof S))return new S(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return M(this,e)}return I(this,e,t,n)}function I(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);S.TYPED_ARRAY_SUPPORT?(e=t).__proto__=S.prototype:e=O(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!S.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|R(t,n);e=_(e,r);var i=e.write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(P(t)){var n=0|T(t.length);return 0===(e=_(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?_(e,0):O(e,t);if("Buffer"===t.type&&E(t.data))return O(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function C(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function M(e,t){if(C(t),e=_(e,t<0?0:0|T(t)),!S.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function O(e,t){var n=t.length<0?0:0|T(t.length);e=_(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function T(e){if(e>=w())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w().toString(16)+" bytes");return 0|e}function P(e){return!(null==e||!e._isBuffer)}function R(e,t){if(P(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return oe(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return se(e).length;default:if(r)return oe(e).length;t=(""+t).toLowerCase(),r=!0}}function B(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return q(this,t,n);case"utf8":case"utf-8":return G(this,t,n);case"ascii":return K(this,t,n);case"latin1":case"binary":return W(this,t,n);case"base64":return H(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function k(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function D(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=S.from(t,r)),P(t))return 0===t.length?-1:L(e,t,n,r,i);if("number"===typeof t)return t&=255,S.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):L(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function L(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,h=0;h<l;h++)if(c(e,a+h)!==c(t,h)){d=!1;break}if(d)return a}return-1}function N(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function j(e,t,n,r){return le(oe(t,e.length-n),e,n,r)}function U(e,t,n,r){return le(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function F(e,t,n,r){return U(e,t,n,r)}function Q(e,t,n,r){return le(se(t),e,n,r)}function z(e,t,n,r){return le(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function H(e,t,n){return 0===t&&n===e.length?y(e):y(e.slice(t,n))}function G(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128===(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=V)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=V));return n}(r)}S.TYPED_ARRAY_SUPPORT=void 0===d.TYPED_ARRAY_SUPPORT||d.TYPED_ARRAY_SUPPORT,w(),S.poolSize=8192,S._augment=function(e){return e.__proto__=S.prototype,e},S.from=function(e,t,n){return I(null,e,t,n)},S.TYPED_ARRAY_SUPPORT&&(S.prototype.__proto__=Uint8Array.prototype,S.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&S[Symbol.species]),S.alloc=function(e,t,n){return function(e,t,n,r){return C(t),t<=0?_(e,t):void 0!==n?"string"===typeof r?_(e,t).fill(n,r):_(e,t).fill(n):_(e,t)}(null,e,t,n)},S.allocUnsafe=function(e){return M(null,e)},S.allocUnsafeSlow=function(e){return M(null,e)},S.isBuffer=function(e){return null!=e&&(!!e._isBuffer||ce(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&ce(e.slice(0,0))}(e))},S.compare=function(e,t){if(!P(e)||!P(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},S.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(e,t){if(!E(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return S.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=S.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!P(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},S.byteLength=R,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)k(this,t,t+1);return this},S.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},S.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},S.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?G(this,0,e):B.apply(this,arguments)},S.prototype.equals=function(e){if(!P(e))throw new TypeError("Argument must be a Buffer");return this===e||0===S.compare(this,e)},S.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},S.prototype.compare=function(e,t,n,r,i){if(!P(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(r,i),c=e.slice(t,n),u=0;u<s;++u)if(l[u]!==c[u]){a=l[u],o=c[u];break}return a<o?-1:o<a?1:0},S.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},S.prototype.indexOf=function(e,t,n){return D(this,e,t,n,!0)},S.prototype.lastIndexOf=function(e,t,n){return D(this,e,t,n,!1)},S.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return N(this,e,t,n);case"utf8":case"utf-8":return j(this,e,t,n);case"ascii":return U(this,e,t,n);case"latin1":case"binary":return F(this,e,t,n);case"base64":return Q(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;function K(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function W(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function q(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=ae(e[a]);return i}function Y(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function X(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function J(e,t,n,r,i,a){if(!P(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function $(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function Z(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function ee(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function te(e,t,n,r,i){return i||ee(e,0,n,4),b(e,t,n,r,23,4),n+4}function ne(e,t,n,r,i){return i||ee(e,0,n,8),b(e,t,n,r,52,8),n+8}S.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),S.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=S.prototype;else{var i=t-e;n=new S(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},S.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||X(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},S.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||X(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},S.prototype.readUInt8=function(e,t){return t||X(e,1,this.length),this[e]},S.prototype.readUInt16LE=function(e,t){return t||X(e,2,this.length),this[e]|this[e+1]<<8},S.prototype.readUInt16BE=function(e,t){return t||X(e,2,this.length),this[e]<<8|this[e+1]},S.prototype.readUInt32LE=function(e,t){return t||X(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},S.prototype.readUInt32BE=function(e,t){return t||X(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},S.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||X(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},S.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||X(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},S.prototype.readInt8=function(e,t){return t||X(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},S.prototype.readInt16LE=function(e,t){t||X(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},S.prototype.readInt16BE=function(e,t){t||X(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},S.prototype.readInt32LE=function(e,t){return t||X(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},S.prototype.readInt32BE=function(e,t){return t||X(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},S.prototype.readFloatLE=function(e,t){return t||X(e,4,this.length),v(this,e,!0,23,4)},S.prototype.readFloatBE=function(e,t){return t||X(e,4,this.length),v(this,e,!1,23,4)},S.prototype.readDoubleLE=function(e,t){return t||X(e,8,this.length),v(this,e,!0,52,8)},S.prototype.readDoubleBE=function(e,t){return t||X(e,8,this.length),v(this,e,!1,52,8)},S.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||J(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},S.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||J(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},S.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,1,255,0),S.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},S.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},S.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},S.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Z(this,e,t,!0),t+4},S.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Z(this,e,t,!1),t+4},S.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);J(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},S.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);J(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},S.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,1,127,-128),S.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},S.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},S.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},S.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,4,2147483647,-2147483648),S.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Z(this,e,t,!0),t+4},S.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||J(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),S.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Z(this,e,t,!1),t+4},S.prototype.writeFloatLE=function(e,t,n){return te(this,e,t,!0,n)},S.prototype.writeFloatBE=function(e,t,n){return te(this,e,t,!1,n)},S.prototype.writeDoubleLE=function(e,t,n){return ne(this,e,t,!0,n)},S.prototype.writeDoubleBE=function(e,t,n){return ne(this,e,t,!1,n)},S.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!S.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},S.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!S.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=P(e)?e:oe(new S(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var re,ie=/[^+\/0-9A-Za-z-_]/g;function ae(e){return e<16?"0"+e.toString(16):e.toString(16)}function oe(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function se(e){return function(e){var t,n,r,i,a,o;g||m();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[s-2]?2:"="===e[s-1]?1:0,o=new p(3*s/4-a),r=a>0?s-4:s;var l=0;for(t=0,n=0;t<r;t+=4,n+=3)i=f[e.charCodeAt(t)]<<18|f[e.charCodeAt(t+1)]<<12|f[e.charCodeAt(t+2)]<<6|f[e.charCodeAt(t+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=255&i;return 2===a?(i=f[e.charCodeAt(t)]<<2|f[e.charCodeAt(t+1)]>>4,o[l++]=255&i):1===a&&(i=f[e.charCodeAt(t)]<<10|f[e.charCodeAt(t+1)]<<4|f[e.charCodeAt(t+2)]>>2,o[l++]=i>>8&255,o[l++]=255&i),o}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(ie,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function le(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ce(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}!function(e){e.BlockHash="B",e.OperationHash="o",e.OperationListHash="Lo",e.OperationListListHash="LLo",e.ProtocolHash="P",e.ContextHash="Co",e.BlockMetadataHash="bm",e.OperationMetadataHash="r",e.OperationMetadataListHash="Lr",e.OperationMetadataListListHash="LLr",e.Ed25519PublicKeyHash="tz1",e.Secp256k1PublicKeyHash="tz2",e.P256PublicKeyHash="tz3",e.ContractHash="KT1",e.BlindedPublicKeyHash="btz1",e.BLS12_381PublicKeyHash="tz4",e.TXRollupAddress="txr1",e.ZkRollupHash="epx1",e.ScRollupHash="scr1",e.SmartRollupHash="sr1",e.CryptoboxPublicKeyHash="id",e.Ed25519Seed="edsk",e.Ed25519PublicKey="edpk",e.Secp256k1SecretKey="spsk",e.P256SecretKey="p2sk",e.BLS12_381SecretKey="BLsk",e.ValueHash="vh",e.CycleNonce="nce",e.ScriptExpr="expr",e.InboxHash="txi",e.MessageHash="txm",e.CommitmentHash="txc",e.MessageResultHash="txmr",e.MessageResultListHash="txM",e.WithdrawListHash="txw",e.ScRollupStateHash="scs1",e.ScRollupCommitmentHash="scc1",e.SmartRollupStateHash="srs1",e.SmartRollupCommitmentHash="src1",e.Ed25519EncryptedSeed="edesk",e.Secp256k1EncryptedSecretKey="spesk",e.P256EncryptedSecretKey="p2esk",e.BLS12_381EncryptedSecretKey="BLesk",e.Secp256k1EncryptedScalar="seesk",e.Secp256k1PublicKey="sppk",e.P256PublicKey="p2pk",e.Secp256k1Scalar="SSp",e.Secp256k1Element="GSp",e.Ed25519SecretKey="_edsk",e.Ed25519Signature="edsig",e.Secp256k1Signature="spsig1",e.P256Signature="p2sig",e.GenericSignature="sig",e.ChainID="Net",e.SaplingSpendingKey="sask",e.EncryptedSaplingSpendingKey="_sask",e.SaplingAddress="zet1",e.GenericAggregateSignature="asig",e.BLS12_381Signature="BLsig",e.BLS12_381PublicKey="BLpk",e.SlotHeader="sh"}(re||(re={}));const ue={[re.BlockHash]:new Uint8Array([1,52]),[re.OperationHash]:new Uint8Array([5,116]),[re.OperationListHash]:new Uint8Array([133,233]),[re.OperationListListHash]:new Uint8Array([29,159,109]),[re.ProtocolHash]:new Uint8Array([2,170]),[re.ContextHash]:new Uint8Array([79,199]),[re.BlockMetadataHash]:new Uint8Array([234,249]),[re.OperationMetadataHash]:new Uint8Array([5,183]),[re.OperationMetadataListHash]:new Uint8Array([134,39]),[re.OperationMetadataListListHash]:new Uint8Array([29,159,182]),[re.Ed25519PublicKeyHash]:new Uint8Array([6,161,159]),[re.Secp256k1PublicKeyHash]:new Uint8Array([6,161,161]),[re.P256PublicKeyHash]:new Uint8Array([6,161,164]),[re.ContractHash]:new Uint8Array([2,90,121]),[re.BlindedPublicKeyHash]:new Uint8Array([1,2,49,223]),[re.BLS12_381PublicKeyHash]:new Uint8Array([6,161,166]),[re.TXRollupAddress]:new Uint8Array([1,128,120,31]),[re.ZkRollupHash]:new Uint8Array([1,23,224,125]),[re.ScRollupHash]:new Uint8Array([1,118,132,217]),[re.SmartRollupHash]:new Uint8Array([6,124,117]),[re.CryptoboxPublicKeyHash]:new Uint8Array([153,103]),[re.Ed25519Seed]:new Uint8Array([13,15,58,7]),[re.Ed25519PublicKey]:new Uint8Array([13,15,37,217]),[re.Secp256k1SecretKey]:new Uint8Array([17,162,224,201]),[re.P256SecretKey]:new Uint8Array([16,81,238,189]),[re.BLS12_381SecretKey]:new Uint8Array([3,150,192,40]),[re.ValueHash]:new Uint8Array([1,106,242]),[re.CycleNonce]:new Uint8Array([69,220,169]),[re.ScriptExpr]:new Uint8Array([13,44,64,27]),[re.InboxHash]:new Uint8Array([79,148,196]),[re.MessageHash]:new Uint8Array([79,149,30]),[re.CommitmentHash]:new Uint8Array([79,148,17]),[re.MessageResultHash]:new Uint8Array([18,7,206,87]),[re.MessageResultListHash]:new Uint8Array([79,146,82]),[re.WithdrawListHash]:new Uint8Array([79,150,72]),[re.ScRollupStateHash]:new Uint8Array([17,144,122,202]),[re.ScRollupCommitmentHash]:new Uint8Array([17,144,21,100]),[re.SmartRollupStateHash]:new Uint8Array([17,165,235,240]),[re.SmartRollupCommitmentHash]:new Uint8Array([17,165,134,138]),[re.Ed25519EncryptedSeed]:new Uint8Array([7,90,60,179,41]),[re.Secp256k1EncryptedSecretKey]:new Uint8Array([9,237,241,174,150]),[re.P256EncryptedSecretKey]:new Uint8Array([9,48,57,115,171]),[re.BLS12_381EncryptedSecretKey]:new Uint8Array([2,5,30,53,25]),[re.Secp256k1EncryptedScalar]:new Uint8Array([1,131,36,86,248]),[re.Secp256k1PublicKey]:new Uint8Array([3,254,226,86]),[re.P256PublicKey]:new Uint8Array([3,178,139,127]),[re.Secp256k1Scalar]:new Uint8Array([38,248,136]),[re.Secp256k1Element]:new Uint8Array([5,92,0]),[re.Ed25519SecretKey]:new Uint8Array([43,246,78,7]),[re.Ed25519Signature]:new Uint8Array([9,245,205,134,18]),[re.Secp256k1Signature]:new Uint8Array([13,115,101,19,63]),[re.P256Signature]:new Uint8Array([54,240,44,52]),[re.GenericSignature]:new Uint8Array([4,130,43]),[re.ChainID]:new Uint8Array([87,82,0]),[re.SaplingSpendingKey]:new Uint8Array([11,237,20,92]),[re.EncryptedSaplingSpendingKey]:new Uint8Array([11,237,20,92]),[re.SaplingAddress]:new Uint8Array([18,71,40,223]),[re.GenericAggregateSignature]:new Uint8Array([2,75,234,101]),[re.BLS12_381Signature]:new Uint8Array([40,171,64,207]),[re.BLS12_381PublicKey]:new Uint8Array([6,149,135,204]),[re.SlotHeader]:new Uint8Array([2,116,180])},de={[re.BlockHash]:32,[re.OperationHash]:32,[re.OperationListHash]:32,[re.OperationListListHash]:32,[re.ProtocolHash]:32,[re.ContextHash]:32,[re.BlockMetadataHash]:32,[re.OperationMetadataHash]:32,[re.OperationMetadataListHash]:32,[re.OperationMetadataListListHash]:32,[re.Ed25519PublicKeyHash]:20,[re.Secp256k1PublicKeyHash]:20,[re.P256PublicKeyHash]:20,[re.ContractHash]:20,[re.BlindedPublicKeyHash]:20,[re.BLS12_381PublicKeyHash]:20,[re.TXRollupAddress]:20,[re.ZkRollupHash]:20,[re.ScRollupHash]:20,[re.SmartRollupHash]:20,[re.CryptoboxPublicKeyHash]:16,[re.Ed25519Seed]:32,[re.Ed25519PublicKey]:32,[re.Secp256k1SecretKey]:32,[re.P256SecretKey]:32,[re.BLS12_381SecretKey]:32,[re.ValueHash]:32,[re.CycleNonce]:32,[re.ScriptExpr]:32,[re.InboxHash]:32,[re.MessageHash]:32,[re.CommitmentHash]:32,[re.MessageResultHash]:32,[re.MessageResultListHash]:32,[re.WithdrawListHash]:32,[re.ScRollupStateHash]:32,[re.ScRollupCommitmentHash]:32,[re.SmartRollupStateHash]:32,[re.SmartRollupCommitmentHash]:32,[re.Ed25519EncryptedSeed]:56,[re.Secp256k1EncryptedSecretKey]:56,[re.P256EncryptedSecretKey]:56,[re.BLS12_381EncryptedSecretKey]:56,[re.Secp256k1EncryptedScalar]:60,[re.Secp256k1PublicKey]:33,[re.P256PublicKey]:33,[re.Secp256k1Scalar]:33,[re.Secp256k1Element]:33,[re.Ed25519SecretKey]:64,[re.Ed25519Signature]:64,[re.Secp256k1Signature]:64,[re.P256Signature]:64,[re.GenericSignature]:64,[re.ChainID]:4,[re.SaplingSpendingKey]:169,[re.EncryptedSaplingSpendingKey]:193,[re.SaplingAddress]:43,[re.GenericAggregateSignature]:96,[re.BLS12_381Signature]:96,[re.BLS12_381PublicKey]:48,[re.SlotHeader]:48},he=[re.P256PublicKeyHash,re.Secp256k1PublicKeyHash,re.Ed25519PublicKeyHash,re.BLS12_381PublicKeyHash,re.ContractHash,re.SmartRollupHash],fe=[re.P256PublicKey,re.Secp256k1PublicKey,re.Ed25519PublicKey,re.BLS12_381PublicKey],pe=[re.P256PublicKeyHash,re.Secp256k1PublicKeyHash,re.Ed25519PublicKeyHash,re.BLS12_381PublicKeyHash],ge=[re.P256Signature,re.Secp256k1Signature,re.Ed25519Signature,re.BLS12_381Signature,re.GenericSignature];function me(e,t,n){const r=(()=>{try{return a().decode(e)}catch(e){throw e instanceof Error?e.message.includes("checksum")?new c.Xi(c.nA.INVALID_CHECKSUM):new c.Xi(c.nA.INVALID_ENCODING):e}})();let i;for(i in re){const e=re[i],a=ue[e];if(r.length===a.length+de[e]&&r.slice(0,a.length).every(((e,t)=>e==a[t]))){if(void 0!==t&&t.indexOf(e)<0)throw new c.Xi(c.nA.PREFIX_NOT_ALLOWED);return n?r.slice(a.length):[r.slice(a.length),e]}}throw new c.Xi(c.nA.NO_PREFIX_MATCHED)}function Ae(e,t){const[n,r]=me(e,fe);let i;switch(r){case re.Ed25519PublicKey:i=0;break;case re.Secp256k1PublicKey:i=1;break;case re.P256PublicKey:i=2;break;case re.BLS12_381PublicKey:i=3;break;default:throw new c.jo(c.nA.NO_PREFIX_MATCHED)}const a=new Uint8Array(n.length+1);return a[0]=i,a.set(n,1),void 0!==t&&"array"===t?a:Me(a)}function ye(e,t){const[n,r]=me(e,pe),i=new Uint8Array(21);let a;switch(r){case re.Ed25519PublicKeyHash:a=0;break;case re.Secp256k1PublicKeyHash:a=1;break;case re.P256PublicKeyHash:a=2;break;case re.BLS12_381PublicKeyHash:a=3;break;default:throw new c.Ms(e,c.nA.NO_PREFIX_MATCHED)}return i[0]=a,i.set(n,1),void 0!==t&&"array"===t?i:Me(i)}function ve(e,t){const n=e.indexOf("%");n>=0&&(e=e.slice(0,n));const[r,i]=me(e,he),a=new Uint8Array(22);if(i===re.ContractHash||i===re.SmartRollupHash||i===re.ZkRollupHash){let e;switch(i){case re.ContractHash:e=1;break;case re.SmartRollupHash:e=3;break;case re.ZkRollupHash:e=4}a[0]=e,a.set(r,1)}else{let t;switch(i){case re.Ed25519PublicKeyHash:t=0;break;case re.Secp256k1PublicKeyHash:t=1;break;case re.P256PublicKeyHash:t=2;break;case re.BLS12_381PublicKeyHash:t=3;break;default:throw new c.Ms(e,c.nA.NO_PREFIX_MATCHED)}a[0]=0,a[1]=t,a.set(r,2)}return void 0!==t&&"array"===t?a:Me(a)}function be(e){const[t,n]=me(e);let i;switch(n){case re.P256PublicKey:i=re.P256PublicKeyHash;break;case re.Secp256k1PublicKey:i=re.Secp256k1PublicKeyHash;break;case re.Ed25519PublicKey:i=re.Ed25519PublicKeyHash;break;case re.BLS12_381PublicKey:i=re.BLS12_381PublicKeyHash;break;default:throw new c.O7(e,c.nA.NO_PREFIX_MATCHED)}return xe((0,r.tW)(t,20),i)}function xe(e,t){const n="string"===typeof e?Ie(e):e,r=ue[t],i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),a().encode(l()(i))}function Ee(e){let t,n;switch(t="string"===typeof e?Ie(e):e,t[0]){case 0:n=re.Ed25519PublicKey;break;case 1:n=re.Secp256k1PublicKey;break;case 2:n=re.P256PublicKey;break;case 3:n=re.BLS12_381PublicKey;break;default:throw new Error("invalid address format")}return xe(t.slice(1),n)}function we(e){let t,n;switch(t="string"===typeof e?Ie(e):e,t[0]){case 0:n=re.Ed25519PublicKeyHash;break;case 1:n=re.Secp256k1PublicKeyHash;break;case 2:n=re.P256PublicKeyHash;break;case 3:n=re.BLS12_381PublicKeyHash;break;default:throw new Error("invalid address format")}return xe(t.slice(1,21),n)}function _e(e){let t;switch(t="string"===typeof e?Ie(e):e,t[0]){case 0:return we(t.slice(1));case 1:return xe(t.slice(1,21),re.ContractHash);case 3:return xe(t.slice(1,21),re.SmartRollupHash);case 4:return xe(t.slice(1,21),re.ZkRollupHash);default:throw new Error("invalid address format")}}function Se(e){return xe((0,r.tW)(Ie(e),32),re.ScriptExpr)}function Ie(e){if((e=e.startsWith("0x")?e.slice(2):e).length%2!==0)throw new c.Sj(e,"Expecting even number of characters");if(!e.match(/^([\da-f]{2})*$/gi))throw new c.Sj(e,"Only characters 0-9, a-f and A-F are expected. Optionally, it can be prefixed with '0x'");const t=new Uint8Array(e.length/2);let n=0;for(let r=0;r<e.length;r+=2){const i=e.slice(r,r+2),a=parseInt(i,16);if(Number.isNaN(a))throw new c.Sj(e,"Only characters 0-9, a-f and A-F are expected. Optionally, it can be prefixed with '0x'");t[n++]=a}return t}function Ce(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Me(e){return Array.from(e).map((e=>(e>>4&15).toString(16)+(15&e).toString(16))).join("")}function Oe(e){return S.from(Ie(e)).toString("utf8")}function Te(e){return e.startsWith("0x")?e.slice(2):e}function Pe(e){const t=e.indexOf("%");return t>=0?[e.slice(0,t),e.slice(t)]:[e,null]}function Re(e,t){let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;const r=n<e.length?e[n]:0,i=n<t.length?t[n]:0;return r<i?-1:r>i?1:0}function Be(e,t){try{me(e,t)}catch(e){return e instanceof c.Xi&&void 0!==e.result?e.result:c.nA.OTHER}return c.nA.VALID}function ke(e){const[t]=Pe(null!==e&&void 0!==e?e:"");return Be(t,he)}function De(e){return Be(e,[re.ChainID])}function Le(e){return Be(e,[re.ContractHash])}function Ne(e){return Be(e,pe)}function je(e){return Be(e,ge)}function Ue(e){return Be(e,fe)}function Fe(e){return Be(e,[re.OperationHash])}function Qe(e){return Be(e,[re.ProtocolHash])}function ze(e){return Be(e,[re.BlockHash])}const He="BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_POP_",Ge="BLS_POP_BLS12381G2_XMD:SHA-256_SSWU_RO_POP_";u.A.longSignatures;class Ve extends c.Xi{constructor(e,t){super(`The protocol hash '${e}' is invalid`,t),this.protocolHash=e,this.name="InvalidProtocolHashError",this.name=this.constructor.name}}c.ic;const Ke=6,We=3;function qe(e){switch(e){case"tz":return Ke;case"mtz":return We;default:return 0}}function Ye(e="mutez",t="mutez",n){const r=new o.A(n);return r.isNaN()?n:r.multipliedBy(Math.pow(10,qe(e))).dividedBy(Math.pow(10,qe(t)))}},43627:(e,t,n)=>{"use strict";var r=n(65606),i="win32"===r.platform,a=n(40537);function o(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(i))}return n}function s(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var r=t;r>=0&&!e[r];r--);return 0===n&&r===t?e:n>r?[]:e.slice(n,r+1)}var l=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,c=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,u={};function d(e){var t=l.exec(e),n=(t[1]||"")+(t[2]||""),r=t[3]||"",i=c.exec(r);return[n,i[1],i[2],i[3]]}function h(e){var t=l.exec(e),n=t[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!t[2],tail:t[3]}}function f(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}u.resolve=function(){for(var e="",t="",n=!1,i=arguments.length-1;i>=-1;i--){var s;if(i>=0?s=arguments[i]:e?(s=r.env["="+e])&&s.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(s=e+"\\"):s=r.cwd(),!a.isString(s))throw new TypeError("Arguments to path.resolve must be strings");if(s){var l=h(s),c=l.device,u=l.isUnc,d=l.isAbsolute,p=l.tail;if((!c||!e||c.toLowerCase()===e.toLowerCase())&&(e||(e=c),n||(t=p+"\\"+t,n=d),e&&n))break}}return u&&(e=f(e)),e+(n?"\\":"")+(t=o(t.split(/[\\\/]+/),!n).join("\\"))||"."},u.normalize=function(e){var t=h(e),n=t.device,r=t.isUnc,i=t.isAbsolute,a=t.tail,s=/[\\\/]$/.test(a);return(a=o(a.split(/[\\\/]+/),!i).join("\\"))||i||(a="."),a&&s&&(a+="\\"),r&&(n=f(n)),n+(i?"\\":"")+a},u.isAbsolute=function(e){return h(e).isAbsolute},u.join=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(!a.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&e.push(n)}var r=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),u.normalize(r)},u.relative=function(e,t){e=u.resolve(e),t=u.resolve(t);for(var n=e.toLowerCase(),r=t.toLowerCase(),i=s(t.split("\\")),a=s(n.split("\\")),o=s(r.split("\\")),l=Math.min(a.length,o.length),c=l,d=0;d<l;d++)if(a[d]!==o[d]){c=d;break}if(0==c)return t;var h=[];for(d=c;d<a.length;d++)h.push("..");return(h=h.concat(i.slice(c))).join("\\")},u._makeLong=function(e){if(!a.isString(e))return e;if(!e)return"";var t=u.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},u.dirname=function(e){var t=d(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},u.basename=function(e,t){var n=d(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},u.extname=function(e){return d(e)[3]},u.format=function(e){if(!a.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!a.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,r=e.base||"";return n?n[n.length-1]===u.sep?n+r:n+u.sep+r:r},u.parse=function(e){if(!a.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=d(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},u.sep="\\",u.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,g={};function m(e){return p.exec(e).slice(1)}g.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var i=n>=0?arguments[n]:r.cwd();if(!a.isString(i))throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,t="/"===i[0])}return(t?"/":"")+(e=o(e.split("/"),!t).join("/"))||"."},g.normalize=function(e){var t=g.isAbsolute(e),n=e&&"/"===e[e.length-1];return(e=o(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},g.isAbsolute=function(e){return"/"===e.charAt(0)},g.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!a.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return g.normalize(e)},g.relative=function(e,t){e=g.resolve(e).substr(1),t=g.resolve(t).substr(1);for(var n=s(e.split("/")),r=s(t.split("/")),i=Math.min(n.length,r.length),a=i,o=0;o<i;o++)if(n[o]!==r[o]){a=o;break}var l=[];for(o=a;o<n.length;o++)l.push("..");return(l=l.concat(r.slice(a))).join("/")},g._makeLong=function(e){return e},g.dirname=function(e){var t=m(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},g.basename=function(e,t){var n=m(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},g.extname=function(e){return m(e)[3]},g.format=function(e){if(!a.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!a.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+g.sep:"")+(e.base||"")},g.parse=function(e){if(!a.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=m(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},g.sep="/",g.delimiter=":",e.exports=i?u:g,e.exports.posix=g,e.exports.win32=u},73668:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),l=new t(512),c=new t(512);function u(e){return s.get(e)||s.set(e,d(e).map((function(e){return e.replace(o,"$2")})))}function d(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function f(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:u,setter:function(e){var t=u(e);return l.get(e)||l.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=u(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(f(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:d(e),t,n)}}},74765:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},55373:(e,t,n)=>{"use strict";var r=n(98636),i=n(62642),a=n(74765);e.exports={formats:a,parse:i,stringify:r}},62642:(e,t,n)=>{"use strict";var r=n(37720),i=Object.prototype.hasOwnProperty,a=Array.isArray,o={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t,n){if(e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&n>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},c=function(e,t,n,a){if(e){var o=function(e,t){var n=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(t.depth<=0){if(!t.plainObjects&&i.call(Object.prototype,n)&&!t.allowPrototypes)return;return[n]}var r=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),o=a?n.slice(0,a.index):n,s=[];if(o){if(!t.plainObjects&&i.call(Object.prototype,o)&&!t.allowPrototypes)return;s.push(o)}for(var l=0;null!==(a=r.exec(n))&&l<t.depth;){l+=1;var c=a[1].slice(1,-1);if(!t.plainObjects&&i.call(Object.prototype,c)&&!t.allowPrototypes)return;s.push(a[1])}if(a){if(!0===t.strictDepth)throw new RangeError("Input depth exceeded depth option of "+t.depth+" and strictDepth is true");s.push("["+n.slice(a.index)+"]")}return s}(e,n);if(o)return function(e,t,n,i){var a=0;if(e.length>0&&"[]"===e[e.length-1]){var o=e.slice(0,-1).join("");a=Array.isArray(t)&&t[o]?t[o].length:0}for(var s=i?t:l(t,n,a),c=e.length-1;c>=0;--c){var u,d=e[c];if("[]"===d&&n.parseArrays)u=r.isOverflow(s)?s:n.allowEmptyArrays&&(""===s||n.strictNullHandling&&null===s)?[]:r.combine([],s,n.arrayLimit,n.plainObjects);else{u=n.plainObjects?{__proto__:null}:{};var h="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,f=n.decodeDotInKeys?h.replace(/%2E/g,"."):h,p=parseInt(f,10);n.parseArrays||""!==f?!isNaN(p)&&d!==f&&String(p)===f&&p>=0&&n.parseArrays&&p<=n.arrayLimit?(u=[])[p]=s:"__proto__"!==f&&(u[f]=s):u={0:s}}s=u}return s}(o,t,n,a)}};e.exports=function(e,t){var n=function(e){if(!e)return o;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.decodeDotInKeys&&"boolean"!==typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&"undefined"!==typeof e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if("undefined"!==typeof e.throwOnLimitExceeded&&"boolean"!==typeof e.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t="undefined"===typeof e.charset?o.charset:e.charset,n="undefined"===typeof e.duplicates?o.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:"undefined"===typeof e.allowDots?!0===e.decodeDotInKeys||o.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:o.allowEmptyArrays,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:o.comma,decodeDotInKeys:"boolean"===typeof e.decodeDotInKeys?e.decodeDotInKeys:o.decodeDotInKeys,decoder:"function"===typeof e.decoder?e.decoder:o.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:o.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:o.plainObjects,strictDepth:"boolean"===typeof e.strictDepth?!!e.strictDepth:o.strictDepth,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling,throwOnLimitExceeded:"boolean"===typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?{__proto__:null}:{};for(var u="string"===typeof e?function(e,t){var n={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,t.throwOnLimitExceeded?u+1:u);if(t.throwOnLimitExceeded&&d.length>u)throw new RangeError("Parameter limit exceeded. Only "+u+" parameter"+(1===u?"":"s")+" allowed.");var h,f=-1,p=t.charset;if(t.charsetSentinel)for(h=0;h<d.length;++h)0===d[h].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[h]?p="utf-8":"utf8=%26%2310003%3B"===d[h]&&(p="iso-8859-1"),f=h,h=d.length);for(h=0;h<d.length;++h)if(h!==f){var g,m,A=d[h],y=A.indexOf("]="),v=-1===y?A.indexOf("="):y+1;if(-1===v?(g=t.decoder(A,o.decoder,p,"key"),m=t.strictNullHandling?null:""):null!==(g=t.decoder(A.slice(0,v),o.decoder,p,"key"))&&(m=r.maybeMap(l(A.slice(v+1),t,a(n[g])?n[g].length:0),(function(e){return t.decoder(e,o.decoder,p,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===p&&(m=s(String(m))),A.indexOf("[]=")>-1&&(m=a(m)?[m]:m),null!==g){var b=i.call(n,g);b&&"combine"===t.duplicates?n[g]=r.combine(n[g],m,t.arrayLimit,t.plainObjects):b&&"last"!==t.duplicates||(n[g]=m)}}return n}(e,n):e,d=n.plainObjects?{__proto__:null}:{},h=Object.keys(u),f=0;f<h.length;++f){var p=h[f],g=c(p,u[p],n,"string"===typeof e);d=r.merge(d,g,n)}return!0===n.allowSparse?d:r.compact(d)}},98636:(e,t,n)=>{"use strict";var r=n(920),i=n(37720),a=n(74765),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,h=a.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:h,formatter:a.formatters[h],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},p={},g=function e(t,n,a,o,s,c,d,h,g,m,A,y,v,b,x,E,w,_){for(var S,I=t,C=_,M=0,O=!1;void 0!==(C=C.get(p))&&!O;){var T=C.get(t);if(M+=1,"undefined"!==typeof T){if(T===M)throw new RangeError("Cyclic object value");O=!0}"undefined"===typeof C.get(p)&&(M=0)}if("function"===typeof m?I=m(n,I):I instanceof Date?I=v(I):"comma"===a&&l(I)&&(I=i.maybeMap(I,(function(e){return e instanceof Date?v(e):e}))),null===I){if(c)return g&&!E?g(n,f.encoder,w,"key",b):n;I=""}if("string"===typeof(S=I)||"number"===typeof S||"boolean"===typeof S||"symbol"===typeof S||"bigint"===typeof S||i.isBuffer(I))return g?[x(E?n:g(n,f.encoder,w,"key",b))+"="+x(g(I,f.encoder,w,"value",b))]:[x(n)+"="+x(String(I))];var P,R=[];if("undefined"===typeof I)return R;if("comma"===a&&l(I))E&&g&&(I=i.maybeMap(I,g)),P=[{value:I.length>0?I.join(",")||null:void 0}];else if(l(m))P=m;else{var B=Object.keys(I);P=A?B.sort(A):B}var k=h?String(n).replace(/\./g,"%2E"):String(n),D=o&&l(I)&&1===I.length?k+"[]":k;if(s&&l(I)&&0===I.length)return D+"[]";for(var L=0;L<P.length;++L){var N=P[L],j="object"===typeof N&&N&&"undefined"!==typeof N.value?N.value:I[N];if(!d||null!==j){var U=y&&h?String(N).replace(/\./g,"%2E"):String(N),F=l(I)?"function"===typeof a?a(D,U):D:D+(y?"."+U:"["+U+"]");_.set(t,M);var Q=r();Q.set(p,_),u(R,e(j,F,a,o,s,c,d,h,"comma"===a&&E&&l(I)?null:g,m,A,y,v,b,x,E,w,Q))}}return R};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return f;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a.default;if("undefined"!==typeof e.format){if(!o.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=a.formatters[n],c=f.filter;if(("function"===typeof e.filter||l(e.filter))&&(c=e.filter),r=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u="undefined"===typeof e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?f.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:c,format:n,formatter:i,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"===typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(n=c.filter);var d=[];if("object"!==typeof i||null===i)return"";var h=s[c.arrayFormat],p="comma"===h&&c.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var m=r(),A=0;A<n.length;++A){var y=n[A],v=i[y];c.skipNulls&&null===v||u(d,g(v,y,h,p,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,m))}var b=d.join(c.delimiter),x=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},37720:(e,t,n)=>{"use strict";var r=n(74765),i=n(920),a=Object.prototype.hasOwnProperty,o=Array.isArray,s=i(),l=function(e,t){return s.set(e,t),e},c=function(e){return s.has(e)},u=function(e){return s.get(e)},d=function(e,t){s.set(e,t)},h=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),f=function(e,t){for(var n=t&&t.plainObjects?{__proto__:null}:{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},p=1024;e.exports={arrayToObject:f,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t,n,r){if(c(e)){var i=u(e)+1;return e[i]=t,d(e,i),e}var a=[].concat(e,t);return a.length>n?l(f(a,{plainObjects:r}),a.length-1):a},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],u=a[c];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,a){if(0===e.length)return e;var o=e;if("symbol"===typeof e?o=Symbol.prototype.toString.call(e):"string"!==typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",l=0;l<o.length;l+=p){for(var c=o.length>=p?o.slice(l,l+p):o,u=[],d=0;d<c.length;++d){var f=c.charCodeAt(d);45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===r.RFC1738&&(40===f||41===f)?u[u.length]=c.charAt(d):f<128?u[u.length]=h[f]:f<2048?u[u.length]=h[192|f>>6]+h[128|63&f]:f<55296||f>=57344?u[u.length]=h[224|f>>12]+h[128|f>>6&63]+h[128|63&f]:(d+=1,f=65536+((1023&f)<<10|1023&c.charCodeAt(d)),u[u.length]=h[240|f>>18]+h[128|f>>12&63]+h[128|f>>6&63]+h[128|63&f])}s+=u.join("")}return s},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isOverflow:c,isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n&&"function"!==typeof n){if(o(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];if(c(t)){var i=u(t)+1;t[i]=n,d(t,i)}else(r&&(r.plainObjects||r.allowPrototypes)||!a.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t){if(c(n)){for(var s=Object.keys(n),h=r&&r.plainObjects?{__proto__:null,0:t}:{0:t},p=0;p<s.length;p++){h[parseInt(s[p],10)+1]=n[s[p]]}return l(h,u(n)+1)}return[t].concat(n)}var g=t;return o(t)&&!o(n)&&(g=f(t,r)),o(t)&&o(n)?(n.forEach((function(n,i){if(a.call(t,i)){var o=t[i];o&&"object"===typeof o&&n&&"object"===typeof n?t[i]=e(o,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var o=n[i];return a.call(t,i)?t[i]=e(t[i],o,r):t[i]=o,t}),g)}}},74277:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Collapse=void 0;var i,a=(i=n(96540))&&i.__esModule?i:{default:i};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,i=l(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),d(c(t=i.call(this,e)),"timeout",void 0),d(c(t),"container",void 0),d(c(t),"content",void 0),d(c(t),"onResize",(function(){if(clearTimeout(t.timeout),t.container&&t.content){var e=t.props,n=e.isOpened,r=e.checkTimeout,i=Math.floor(t.container.clientHeight),a=Math.floor(t.content.clientHeight),o=n&&Math.abs(a-i)<=1,s=!n&&Math.abs(i)<=1;o||s?t.onRest({isFullyOpened:o,isFullyClosed:s,isOpened:n,containerHeight:i,contentHeight:a}):(t.onWork({isFullyOpened:o,isFullyClosed:s,isOpened:n,containerHeight:i,contentHeight:a}),t.timeout=setTimeout((function(){return t.onResize()}),r))}})),d(c(t),"onRest",(function(e){var n=e.isFullyOpened,r=e.isFullyClosed,i=e.isOpened,a=e.containerHeight,o=e.contentHeight;if(t.container&&t.content){var s=i&&t.container.style.height==="".concat(o,"px"),l=!i&&"0px"===t.container.style.height;if(s||l){t.container.style.overflow=i?"initial":"hidden",t.container.style.height=i?"auto":"0px";var c=t.props.onRest;c&&c({isFullyOpened:n,isFullyClosed:r,isOpened:i,containerHeight:a,contentHeight:o})}}})),d(c(t),"onWork",(function(e){var n=e.isFullyOpened,r=e.isFullyClosed,i=e.isOpened,a=e.containerHeight,o=e.contentHeight;if(t.container&&t.content){var s=i&&t.container.style.height==="".concat(o,"px"),l=!i&&"0px"===t.container.style.height;if(!s&&!l){t.container.style.overflow="hidden",t.container.style.height=i?"".concat(o,"px"):"0px";var c=t.props.onWork;c&&c({isFullyOpened:n,isFullyClosed:r,isOpened:i,containerHeight:a,contentHeight:o})}}})),d(c(t),"onRefContainer",(function(e){t.container=e})),d(c(t),"onRefContent",(function(e){t.content=e})),e.initialStyle?t.initialStyle=e.initialStyle:t.initialStyle=e.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},t}return t=u,(n=[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.theme,r=t.isOpened;return t.children!==e.children||r!==e.isOpened||Object.keys(n).some((function(t){return n[t]!==e.theme[t]}))}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if("auto"===this.container.style.height){var e=this.content.clientHeight;this.container.style.height="".concat(e,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.children,r=e.isOpened;return a.default.createElement("div",{ref:this.onRefContainer,className:t.collapse,style:this.initialStyle,"aria-hidden":!r},a.default.createElement("div",{ref:this.onRefContent,className:t.content},n))}}])&&o(t.prototype,n),r&&o(t,r),u}(a.default.Component);t.Collapse=h,d(h,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50})},69096:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnmountClosed=void 0;var i,a=(i=n(96540))&&i.__esModule?i:{default:i},o=n(74277),s=["isOpened"],l=["isOpened"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=A(e);if(t){var a=A(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,i=g(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),y(m(t=i.call(this,e)),"onWork",(function(e){var n=e.isOpened,r=h(e,s);t.setState({isResting:!1,isOpened:n});var i=t.props.onWork;i&&i(d({isOpened:n},r))})),y(m(t),"onRest",(function(e){var n=e.isOpened,r=h(e,l);t.setState({isResting:!0,isOpened:n,isInitialRender:!1});var i=t.props.onRest;i&&i(d({isOpened:n},r))})),y(m(t),"getInitialStyle",(function(){var e=t.state,n=e.isOpened;return e.isInitialRender&&n?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}})),t.state={isResting:!0,isOpened:e.isOpened,isInitialRender:!0},t}return t=u,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.isOpened;e.isOpened!==t&&this.setState({isResting:!1,isOpened:t,isInitialRender:!1})}},{key:"render",value:function(){var e=this.state,t=e.isResting,n=e.isOpened;return t&&!n?null:a.default.createElement(o.Collapse,c({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}])&&f(t.prototype,n),r&&f(t,r),u}(a.default.PureComponent);t.UnmountClosed=v,y(v,"defaultProps",{onWork:void 0,onRest:void 0})},70844:(e,t,n)=>{"use strict";var r=n(74277).Collapse,i=n(69096).UnmountClosed;e.exports=i,i.Collapse=r,i.UnmountClosed=i},7401:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>b});var r=n(96540),i=n(5556);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=String(e);if(0===t)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),i=r?r[1]:"",a=r?r[3]:"",o=r?r[2]:n,s=o.length>=t?o:(f(Array(t)).map((function(){return"0"})).join("")+o).slice(-1*t);return"".concat(i).concat(s).concat(a)}var m={daysInHours:!1,zeroPadTime:2};function A(e,t){var n=e.days,r=e.hours,i=e.minutes,a=e.seconds,o=Object.assign(Object.assign({},m),t),s=o.daysInHours,l=o.zeroPadTime,c=o.zeroPadDays,u=void 0===c?l:c,d=Math.min(2,l),h=s?g(r+24*n,l):g(r,d);return{days:s?"":g(n,u),hours:h,minutes:g(i,d),seconds:g(a,d)}}var y=function(e){l(n,e);var t=h(n);function n(){var e;return a(this,n),(e=t.apply(this,arguments)).state={count:e.props.count||3},e.startCountdown=function(){e.interval=window.setInterval((function(){0===e.state.count-1?(e.stopCountdown(),e.props.onComplete&&e.props.onComplete()):e.setState((function(e){return{count:e.count-1}}))}),1e3)},e.stopCountdown=function(){clearInterval(e.interval)},e.addTime=function(t){e.stopCountdown(),e.setState((function(e){return{count:e.count+t}}),e.startCountdown)},e}return s(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?(0,r.cloneElement)(this.props.children,{count:this.state.count}):null}}]),n}(r.Component);y.propTypes={count:i.number,children:i.element,onComplete:i.func};var v=function(e){l(n,e);var t=h(n);function n(e){var i;if(a(this,n),(i=t.call(this,e)).mounted=!1,i.initialTimestamp=i.calcOffsetStartTimestamp(),i.offsetStartTimestamp=i.props.autoStart?0:i.initialTimestamp,i.offsetTime=0,i.legacyMode=!1,i.legacyCountdownRef=(0,r.createRef)(),i.tick=function(){var e=i.calcTimeDelta(),t=e.completed&&!i.props.overtime?void 0:i.props.onTick;i.setTimeDeltaState(e,void 0,t)},i.start=function(){if(!i.isStarted()){var e=i.offsetStartTimestamp;i.offsetStartTimestamp=0,i.offsetTime+=e?i.calcOffsetStartTimestamp()-e:0;var t=i.calcTimeDelta();i.setTimeDeltaState(t,"STARTED",i.props.onStart),i.props.controlled||t.completed&&!i.props.overtime||(i.clearTimer(),i.interval=window.setInterval(i.tick,i.props.intervalDelay))}},i.pause=function(){i.isPaused()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.setTimeDeltaState(i.state.timeDelta,"PAUSED",i.props.onPause))},i.stop=function(){i.isStopped()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.offsetTime=i.offsetStartTimestamp-i.initialTimestamp,i.setTimeDeltaState(i.calcTimeDelta(),"STOPPED",i.props.onStop))},i.isStarted=function(){return i.isStatus("STARTED")},i.isPaused=function(){return i.isStatus("PAUSED")},i.isStopped=function(){return i.isStatus("STOPPED")},i.isCompleted=function(){return i.isStatus("COMPLETED")},i.handleOnComplete=function(e){i.props.onComplete&&i.props.onComplete(e)},e.date){var o=i.calcTimeDelta();i.state={timeDelta:o,status:o.completed?"COMPLETED":"STOPPED"}}else i.legacyMode=!0;return i}return s(n,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(e){this.legacyMode||this.props.date!==e.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var e=this.props,t=e.date,n=e.now,r=e.precision,i=e.controlled,a=e.overtime;return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.now,i=void 0===r?Date.now:r,a=n.precision,o=void 0===a?0:a,s=n.controlled,l=n.offsetTime,c=void 0===l?0:l,u=n.overtime;t="string"===typeof e?new Date(e).getTime():e instanceof Date?e.getTime():e,s||(t+=c);var d=s?t:t-i(),h=Math.min(20,Math.max(0,o)),f=Math.round(1e3*parseFloat(((u?d:Math.max(0,d))/1e3).toFixed(h))),p=Math.abs(f)/1e3;return{total:f,days:Math.floor(p/86400),hours:Math.floor(p/3600%24),minutes:Math.floor(p/60%60),seconds:Math.floor(p%60),milliseconds:Number((p%1*1e3).toFixed()),completed:f<=0}}(t,{now:n,precision:r,controlled:i,offsetTime:this.offsetTime,overtime:a})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(e){this.legacyCountdownRef.current.addTime(e)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(e){return this.state.status===e}},{key:"setTimeDeltaState",value:function(e,t,n){var r=this;if(this.mounted){var i;!this.state.timeDelta.completed&&e.completed&&(this.props.overtime||this.clearTimer(),i=this.handleOnComplete);return this.setState((function(n){var i=t||n.status;return e.completed&&!r.props.overtime?i="COMPLETED":t||"COMPLETED"!==i||(i="STOPPED"),{timeDelta:e,status:i}}),(function(){n&&n(r.state.timeDelta),i&&i(r.state.timeDelta)}))}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e=this.props,t=e.daysInHours,n=e.zeroPadTime,r=e.zeroPadDays,i=this.state.timeDelta;return Object.assign(Object.assign({},i),{api:this.getApi(),props:this.props,formatted:A(i,{daysInHours:t,zeroPadTime:n,zeroPadDays:r})})}},{key:"render",value:function(){if(this.legacyMode){var e=this.props,t=e.count,n=e.children,i=e.onComplete;return(0,r.createElement)(y,{ref:this.legacyCountdownRef,count:t,onComplete:i},n)}var a=this.props,o=a.className,s=a.overtime,l=a.children,c=a.renderer,u=this.getRenderProps();if(c)return c(u);if(l&&this.state.timeDelta.completed&&!s)return(0,r.cloneElement)(l,{countdown:u});var d=u.formatted,h=d.days,f=d.hours,p=d.minutes,g=d.seconds;return(0,r.createElement)("span",{className:o},u.total<0?"-":"",h,h?":":"",f,":",p,":",g)}}]),n}(r.Component);v.defaultProps=Object.assign(Object.assign({},m),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0}),v.propTypes={date:(0,i.oneOfType)([(0,i.instanceOf)(Date),i.string,i.number]),daysInHours:i.bool,zeroPadTime:i.number,zeroPadDays:i.number,controlled:i.bool,intervalDelay:i.number,precision:i.number,autoStart:i.bool,overtime:i.bool,className:i.string,children:i.element,renderer:i.func,now:i.func,onMount:i.func,onStart:i.func,onPause:i.func,onStop:i.func,onTick:i.func,onComplete:i.func};const b=v},67310:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(96540),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};var o="Pixel",s="Percent",l={unit:s,value:.8};function c(e){return"number"===typeof e?{unit:s,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:o,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:s,value:parseFloat(e)}:l:l}const u=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(n.props.scrollableTarget,null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var i,a=!1,o=0;function s(){i&&clearTimeout(i)}function l(){var l=this,c=Date.now()-o,u=arguments;function d(){o=Date.now(),n.apply(l,u)}a||(r&&!i&&d(),s(),void 0===r&&c>e?d():!0!==t&&(i=setTimeout(r?function(){i=void 0}:d,void 0===r?e-c:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){s(),a=!0},l}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?a(a({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=c(t);return r.unit===o?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=c(t);return r.unit===o?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=a({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return r.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},r.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&r.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},r.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(r.Component)},8785:function(e,t,n){var r;e.exports=(r=n(96540),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t){e.exports=r},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(26)("wks"),i=n(17),a=n(3).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(7),i=n(16);e.exports=n(4)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(10),i=n(35),a=n(23),o=Object.defineProperty;t.f=n(4)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(40),i=n(22);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var r=n(39),i=n(27);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(3),i=n(1),a=n(53),o=n(6),s=n(5),l=function(e,t,n){var c,u,d,h=e&l.F,f=e&l.G,p=e&l.S,g=e&l.P,m=e&l.B,A=e&l.W,y=f?i:i[t]||(i[t]={}),v=y.prototype,b=f?r:p?r[t]:(r[t]||{}).prototype;for(c in f&&(n=t),n)(u=!h&&b&&void 0!==b[c])&&s(y,c)||(d=u?b[c]:n[c],y[c]=f&&"function"!=typeof b[c]?n[c]:m&&u?a(d,r):A&&b[c]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):g&&"function"==typeof d?a(Function.call,d):d,g&&((y.virtual||(y.virtual={}))[c]=d,e&l.R&&v&&!v[c]&&o(v,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(22);e.exports=function(e){return Object(r(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(52)(!0);n(34)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(26)("keys"),i=n(17);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(1),i=n(3),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(14)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(7).f,i=n(5),a=n(2)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){n(62);for(var r=n(3),i=n(6),a=n(12),o=n(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=r[c],d=u&&u.prototype;d&&!d[o]&&i(d,o,c),a[c]=a.Array}},function(e,t,n){t.f=n(2)},function(e,t,n){var r=n(3),i=n(1),a=n(14),o=n(30),s=n(7).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){"use strict";var r=n(14),i=n(15),a=n(37),o=n(6),s=n(12),l=n(55),c=n(28),u=n(61),d=n(2)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,p,g,m,A){l(n,t,p);var y,v,b,x=function(e){if(!h&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",w="values"==g,_=!1,S=e.prototype,I=S[d]||S["@@iterator"]||g&&S[g],C=I||x(g),M=g?w?x("entries"):C:void 0,O="Array"==t&&S.entries||I;if(O&&(b=u(O.call(new e)))!==Object.prototype&&b.next&&(c(b,E,!0),r||"function"==typeof b[d]||o(b,d,f)),w&&I&&"values"!==I.name&&(_=!0,C=function(){return I.call(this)}),r&&!A||!h&&!_&&S[d]||o(S,d,C),s[t]=C,s[E]=f,g)if(y={values:w?C:x("values"),keys:m?C:x("keys"),entries:M},A)for(v in y)v in S||a(S,v,y[v]);else i(i.P+i.F*(h||_),t,y);return y}},function(e,t,n){e.exports=!n(4)&&!n(8)((function(){return 7!=Object.defineProperty(n(36)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),i=n(3).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){e.exports=n(6)},function(e,t,n){var r=n(10),i=n(56),a=n(27),o=n(25)("IE_PROTO"),s=function(){},l=function(){var e,t=n(36)("iframe"),r=a.length;for(t.style.display="none",n(60).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[a[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(5),i=n(9),a=n(57)(!1),o=n(25)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var r=n(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(39),i=n(27).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(24),i=n(2)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var r=f(n(49)),i=f(n(76)),a=f(n(81)),o=f(n(89)),s=f(n(93)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(94)),c=f(n(132)),u=f(n(133)),d=f(n(138)),h=n(139);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.default,g=(0,o.default)(p),m=(0,d.default)(u.default,h.rgb2yuv,(function(e){var t,n=(0,a.default)(e,3);return[(t=n[0],t<.25?1:t<.5?.9-t:1.1-t),n[1],n[2]]}),h.yuv2rgb,c.default),A=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,i.default)({},t.style||{},e.style||{})}}},y=function(e,t){var n=(0,o.default)(t);for(var a in e)-1===n.indexOf(a)&&n.push(a);return n.reduce((function(n,a){return n[a]=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var n=void 0===e?"undefined":(0,r.default)(e),a=void 0===t?"undefined":(0,r.default)(t);switch(n){case"string":switch(a){case"string":return[t,e].filter(Boolean).join(" ");case"object":return A({className:e,style:t});case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return A({className:e})(t.apply(void 0,[n].concat(i)))}}case"object":switch(a){case"string":return A({className:t,style:e});case"object":return(0,i.default)({},t,e);case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return A({style:e})(t.apply(void 0,[n].concat(i)))}}case"function":switch(a){case"string":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return e.apply(void 0,[A(n)({className:t})].concat(i))};case"object":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return e.apply(void 0,[A(n)({style:t})].concat(i))};case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return e.apply(void 0,[t.apply(void 0,[n].concat(i))].concat(i))}}}}(e[a],t[a]),n}),{})},v=function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(null===t)return e;Array.isArray(t)||(t=[t]);var l=t.map((function(t){return e[t]})).filter(Boolean).reduce((function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,r.default)(t))?e.style=(0,i.default)({},e.style,t):"function"==typeof t&&(e=(0,i.default)({},e,t.apply(void 0,[e].concat(a)))),e}),{className:"",style:{}});return l.className||delete l.className,0===(0,o.default)(l.style).length&&delete l.style,l},b=t.invertTheme=function(e){return(0,o.default)(e).reduce((function(t,n){return t[n]=/^base/.test(n)?m(e[n]):"scheme"===n?e[n]+":inverted":e[n],t}),{})},x=(t.createStyling=(0,s.default)((function(e){for(var t=arguments.length,n=Array(t>3?t-3:0),r=3;r<t;r++)n[r-3]=arguments[r];var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=a.defaultBase16,u=void 0===c?p:c,d=a.base16Themes,h=x(l,void 0===d?null:d);h&&(l=(0,i.default)({},h,l));var f=g.reduce((function(e,t){return e[t]=l[t]||u[t],e}),{}),m=(0,o.default)(l).reduce((function(e,t){return-1===g.indexOf(t)?(e[t]=l[t],e):e}),{}),A=e(f),b=y(m,A);return(0,s.default)(v,2).apply(void 0,[b].concat(n))}),3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var n=e.split(":"),r=(0,a.default)(n,2),i=r[0],o=r[1];e=(t||{})[i]||l[i],"inverted"===o&&(e=b(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==a&&e.removeListener("error",a),n([].slice.call(arguments))}var a;"error"!==t&&(a=function(n){e.removeListener(t,i),r(n)},e.once("error",a)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,a,o;if(c(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,console&&console.warn}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)a(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){e.exports.Dispatcher=n(140)},function(e,t,n){e.exports=n(142)},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(50)),i=o(n(65)),a="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,n){e.exports={default:n(51),__esModule:!0}},function(e,t,n){n(20),n(29),e.exports=n(30).f("iterator")},function(e,t,n){var r=n(21),i=n(22);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(38),i=n(16),a=n(28),o={};n(6)(o,n(2)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(7),i=n(10),a=n(13);e.exports=n(4)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,l=0;s>l;)r.f(e,n=o[l++],t[n]);return e}},function(e,t,n){var r=n(9),i=n(58),a=n(59);e.exports=function(e){return function(t,n,o){var s,l=r(t),c=i(l.length),u=a(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(21),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(21),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(5),i=n(18),a=n(25)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){"use strict";var r=n(63),i=n(64),a=n(12),o=n(9);e.exports=n(34)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(66),__esModule:!0}},function(e,t,n){n(67),n(73),n(74),n(75),e.exports=n(1).Symbol},function(e,t,n){"use strict";var r=n(3),i=n(5),a=n(4),o=n(15),s=n(37),l=n(68).KEY,c=n(8),u=n(26),d=n(28),h=n(17),f=n(2),p=n(30),g=n(31),m=n(69),A=n(70),y=n(10),v=n(11),b=n(18),x=n(9),E=n(23),w=n(16),_=n(38),S=n(71),I=n(72),C=n(32),M=n(7),O=n(13),T=I.f,P=M.f,R=S.f,B=r.Symbol,k=r.JSON,D=k&&k.stringify,L=f("_hidden"),N=f("toPrimitive"),j={}.propertyIsEnumerable,U=u("symbol-registry"),F=u("symbols"),Q=u("op-symbols"),z=Object.prototype,H="function"==typeof B&&!!C.f,G=r.QObject,V=!G||!G.prototype||!G.prototype.findChild,K=a&&c((function(){return 7!=_(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=T(z,t);r&&delete z[t],P(e,t,n),r&&e!==z&&P(z,t,r)}:P,W=function(e){var t=F[e]=_(B.prototype);return t._k=e,t},q=H&&"symbol"==typeof B.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof B},Y=function(e,t,n){return e===z&&Y(Q,t,n),y(e),t=E(t,!0),y(n),i(F,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=_(n,{enumerable:w(0,!1)})):(i(e,L)||P(e,L,w(1,{})),e[L][t]=!0),K(e,t,n)):P(e,t,n)},X=function(e,t){y(e);for(var n,r=m(t=x(t)),i=0,a=r.length;a>i;)Y(e,n=r[i++],t[n]);return e},J=function(e){var t=j.call(this,e=E(e,!0));return!(this===z&&i(F,e)&&!i(Q,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,L)&&this[L][e])||t)},$=function(e,t){if(e=x(e),t=E(t,!0),e!==z||!i(F,t)||i(Q,t)){var n=T(e,t);return!n||!i(F,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=R(x(e)),r=[],a=0;n.length>a;)i(F,t=n[a++])||t==L||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===z,r=R(n?Q:x(e)),a=[],o=0;r.length>o;)!i(F,t=r[o++])||n&&!i(z,t)||a.push(F[t]);return a};H||(s((B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(Q,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),K(this,e,w(1,n))};return a&&V&&K(z,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),I.f=$,M.f=Y,n(41).f=S.f=Z,n(19).f=J,C.f=ee,a&&!n(14)&&s(z,"propertyIsEnumerable",J,!0),p.f=function(e){return W(f(e))}),o(o.G+o.W+o.F*!H,{Symbol:B});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var re=O(f.store),ie=0;re.length>ie;)g(re[ie++]);o(o.S+o.F*!H,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=B(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!H,"Object",{create:function(e,t){return void 0===t?_(e):X(_(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ae=c((function(){C.f(1)}));o(o.S+o.F*ae,"Object",{getOwnPropertySymbols:function(e){return C.f(b(e))}}),k&&o(o.S+o.F*(!H||c((function(){var e=B();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(v(t)||void 0!==e)&&!q(e))return A(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,D.apply(k,r)}}),B.prototype[N]||n(6)(B.prototype,N,B.prototype.valueOf),d(B,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(17)("meta"),i=n(11),a=n(5),o=n(7).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(8)((function(){return l(Object.preventExtensions({}))})),u=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!a(e,r)&&u(e),e}}},function(e,t,n){var r=n(13),i=n(32),a=n(19);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),l=a.f,c=0;s.length>c;)l.call(e,o=s[c++])&&t.push(o);return t}},function(e,t,n){var r=n(24);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(9),i=n(41).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(19),i=n(16),a=n(9),o=n(23),s=n(5),l=n(35),c=Object.getOwnPropertyDescriptor;t.f=n(4)?c:function(e,t){if(e=a(e),t=o(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(31)("asyncIterator")},function(e,t,n){n(31)("observable")},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(77))&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(78),__esModule:!0}},function(e,t,n){n(79),e.exports=n(1).Object.assign},function(e,t,n){var r=n(15);r(r.S+r.F,"Object",{assign:n(80)})},function(e,t,n){"use strict";var r=n(4),i=n(13),a=n(32),o=n(19),s=n(18),l=n(40),c=Object.assign;e.exports=!c||n(8)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,u=1,d=a.f,h=o.f;c>u;)for(var f,p=l(arguments[u++]),g=d?i(p).concat(d(p)):i(p),m=g.length,A=0;m>A;)f=g[A++],r&&!h.call(p,f)||(n[f]=p[f]);return n}:c},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(82)),i=a(n(85));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=(0,i.default)(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(29),n(20),e.exports=n(84)},function(e,t,n){var r=n(42),i=n(2)("iterator"),a=n(12);e.exports=n(1).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(86),__esModule:!0}},function(e,t,n){n(29),n(20),e.exports=n(87)},function(e,t,n){var r=n(10),i=n(88);e.exports=n(1).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(42),i=n(2)("iterator"),a=n(12);e.exports=n(1).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){n(91),e.exports=n(1).Object.keys},function(e,t,n){var r=n(18),i=n(13);n(92)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(15),i=n(1),a=n(8);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a((function(){n(1)})),"Object",o)}},function(e,t,n){(function(t){var n=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],r=/^\s+|\s+$/g,i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,a=/\{\n\/\* \[wrapped with (.+)\] \*/,o=/,? & /,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^\[object .+?Constructor\]$/,u=/^0o[0-7]+$/i,d=/^(?:0|[1-9]\d*)$/,h=parseInt,f="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,g=f||p||Function("return this")();function m(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function A(e,t){return!(!e||!e.length)&&function(e,t,n){if(t!=t)return function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,y,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function y(e){return e!=e}function v(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function b(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&"__lodash_placeholder__"!==o||(e[n]="__lodash_placeholder__",a[i++]=n)}return a}var x,E,w,_=Function.prototype,S=Object.prototype,I=g["__core-js_shared__"],C=(x=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",M=_.toString,O=S.hasOwnProperty,T=S.toString,P=RegExp("^"+M.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=Object.create,B=Math.max,k=Math.min,D=(E=V(Object,"defineProperty"),(w=V.name)&&w.length>2?E:void 0);function L(e){return Z(e)?R(e):{}}function N(e){return!(!Z(e)||function(e){return!!C&&C in e}(e))&&(function(e){var t=Z(e)?T.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?P:c).test(function(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function j(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,c=B(a-o,0),u=Array(l+c),d=!r;++s<l;)u[s]=t[s];for(;++i<o;)(d||i<a)&&(u[n[i]]=e[i]);for(;c--;)u[s++]=e[i++];return u}function U(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,c=t.length,u=B(a-s,0),d=Array(u+c),h=!r;++i<u;)d[i]=e[i];for(var f=i;++l<c;)d[f+l]=t[l];for(;++o<s;)(h||i<a)&&(d[f+n[o]]=e[i++]);return d}function F(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=L(e.prototype),r=e.apply(n,t);return Z(r)?r:n}}function Q(e,t,n,r,i,a,o,s,l,c){var u=128&t,d=1&t,h=2&t,f=24&t,p=512&t,m=h?void 0:F(e);return function A(){for(var y=arguments.length,x=Array(y),E=y;E--;)x[E]=arguments[E];if(f)var w=G(A),_=v(x,w);if(r&&(x=j(x,r,i,f)),a&&(x=U(x,a,o,f)),y-=_,f&&y<c){var S=b(x,w);return z(e,t,Q,A.placeholder,n,x,S,s,l,c-y)}var I=d?n:this,C=h?I[e]:e;return y=x.length,s?x=Y(x,s):p&&y>1&&x.reverse(),u&&l<y&&(x.length=l),this&&this!==g&&this instanceof A&&(C=m||F(C)),C.apply(I,x)}}function z(e,t,n,r,i,a,o,s,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=n(e,t,i,u?a:void 0,u?o:void 0,u?void 0:a,u?void 0:o,s,l,c);return d.placeholder=r,X(d,e,t)}function H(e,t,n,r,i,a,o,s){var l=2&t;if(!l&&"function"!=typeof e)throw new TypeError("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=i=void 0),o=void 0===o?o:B(te(o),0),s=void 0===s?s:te(s),c-=i?i.length:0,64&t){var u=r,d=i;r=i=void 0}var h=[e,t,n,r,i,u,d,a,o,s];if(e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],!(s=h[9]=null==h[9]?l?0:e.length:B(h[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?function(e,t,n){var r=F(e);return function i(){for(var a=arguments.length,o=Array(a),s=a,l=G(i);s--;)o[s]=arguments[s];var c=a<3&&o[0]!==l&&o[a-1]!==l?[]:b(o,l);return(a-=c.length)<n?z(e,t,Q,i.placeholder,void 0,o,c,void 0,void 0,n-a):m(this&&this!==g&&this instanceof i?r:e,this,o)}}(e,t,s):32!=t&&33!=t||i.length?Q.apply(void 0,h):function(e,t,n,r){var i=1&t,a=F(e);return function t(){for(var o=-1,s=arguments.length,l=-1,c=r.length,u=Array(c+s),d=this&&this!==g&&this instanceof t?a:e;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++o];return m(d,i?n:this,u)}}(e,t,n,r);else var f=function(e,t,n){var r=1&t,i=F(e);return function t(){return(this&&this!==g&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return X(f,e,t)}function G(e){return e.placeholder}function V(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return N(n)?n:void 0}function K(e){var t=e.match(a);return t?t[1].split(o):[]}function W(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(i,"{\n/* [wrapped with "+t+"] */\n")}function q(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}function Y(e,t){for(var n=e.length,r=k(t.length,n),i=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e);r--;){var a=t[r];e[r]=q(a,n)?i[a]:void 0}return e}var X=D?function(e,t,n){var r,i=t+"";return D(e,"toString",{configurable:!0,enumerable:!1,value:(r=W(i,J(K(i),n)),function(){return r})})}:function(e){return e};function J(e,t){return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(n,(function(n){var r="_."+n[0];t&n[1]&&!A(e,r)&&e.push(r)})),e.sort()}function $(e,t,n){var r=H(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=$.placeholder,r}function Z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ee(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==T.call(e)}(e))return NaN;if(Z(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Z(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=l.test(e);return n||u.test(e)?h(e.slice(2),n?2:8):s.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function te(e){var t=ee(e),n=t%1;return t==t?n?t-n:t:0}$.placeholder={},e.exports=$}).call(this,n(43))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var i=n(95);t.threezerotwofour=r(i);var a=n(96);t.apathy=r(a);var o=n(97);t.ashes=r(o);var s=n(98);t.atelierDune=r(s);var l=n(99);t.atelierForest=r(l);var c=n(100);t.atelierHeath=r(c);var u=n(101);t.atelierLakeside=r(u);var d=n(102);t.atelierSeaside=r(d);var h=n(103);t.bespin=r(h);var f=n(104);t.brewer=r(f);var p=n(105);t.bright=r(p);var g=n(106);t.chalk=r(g);var m=n(107);t.codeschool=r(m);var A=n(108);t.colors=r(A);var y=n(109);t.default=r(y);var v=n(110);t.eighties=r(v);var b=n(111);t.embers=r(b);var x=n(112);t.flat=r(x);var E=n(113);t.google=r(E);var w=n(114);t.grayscale=r(w);var _=n(115);t.greenscreen=r(_);var S=n(116);t.harmonic=r(S);var I=n(117);t.hopscotch=r(I);var C=n(118);t.isotope=r(C);var M=n(119);t.marrakesh=r(M);var O=n(120);t.mocha=r(O);var T=n(121);t.monokai=r(T);var P=n(122);t.ocean=r(P);var R=n(123);t.paraiso=r(R);var B=n(124);t.pop=r(B);var k=n(125);t.railscasts=r(k);var D=n(126);t.shapeshifter=r(D);var L=n(127);t.solarized=r(L);var N=n(128);t.summerfruit=r(N);var j=n(129);t.tomorrow=r(j);var U=n(130);t.tube=r(U);var F=n(131);t.twilight=r(F)},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},function(e,t,n){var r=n(33);function i(e){var t=Math.round(r(e,0,255)).toString(16);return 1==t.length?"0"+t:t}e.exports=function(e){var t=4===e.length?i(255*e[3]):"";return"#"+i(e[0])+i(e[1])+i(e[2])+t}},function(e,t,n){var r=n(134),i=n(135),a=n(136),o=n(137),s={"#":i,hsl:function(e){var t=r(e),n=o(t);return 4===t.length&&n.push(t[3]),n},rgb:a};function l(e){for(var t in s)if(0===e.indexOf(t))return s[t](e)}l.rgb=a,l.hsl=r,l.hex=i,e.exports=l},function(e,t,n){var r=n(44),i=n(33);function a(e,t){switch(e=parseFloat(e),t){case 0:return i(e,0,360);case 1:case 2:return i(e,0,100);case 3:return i(e,0,1)}}e.exports=function(e){return r(e).map(a)}},function(e,t){e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t}},function(e,t,n){var r=n(44),i=n(33);function a(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*i(parseInt(e,10),0,100)/100):i(parseInt(e,10),0,255):i(parseFloat(e),0,1)}e.exports=function(e){return r(e).map(a)}},function(e,t){e.exports=function(e){var t,n,r,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[a=255*l,a,a];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var c=0;c<3;c++)(r=o+1/3*-(c-1))<0&&r++,r>1&&r--,a=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[c]=255*a;return i}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var s=Object.prototype,l=s.hasOwnProperty,c=s.toString,u=i.Symbol,d=s.propertyIsEnumerable,h=u?u.isConcatSpreadable:void 0,f=Math.max;function p(e){return y(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?c.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&l.call(e,"callee")&&(!d.call(e,"callee")||"[object Arguments]"==c.call(e))}(e)||!!(h&&e&&e[h])}var g,m,A,y=Array.isArray,v=(m=function(e){var t=(e=function e(t,n,r,i,a){var s=-1,l=t.length;for(r||(r=p),a||(a=[]);++s<l;){var c=t[s];n>0&&r(c)?n>1?e(c,n-1,r,i,a):o(a,c):i||(a[a.length]=c)}return a}(e,1)).length,n=t;for(g&&e.reverse();n--;)if("function"!=typeof e[n])throw new TypeError("Expected a function");return function(){for(var n=0,r=t?e[n].apply(this,arguments):arguments[0];++n<t;)r=e[n].call(this,r);return r}},A=f(void 0===A?m.length-1:A,0),function(){for(var e=arguments,t=-1,n=f(e.length-A,0),r=Array(n);++t<n;)r[t]=e[A+t];t=-1;for(var i=Array(A+1);++t<A;)i[t]=e[t];return i[A]=r,a(m,this,i)});e.exports=v}).call(this,n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=function(e){var t,n,r,i=e[0],a=e[1],o=e[2];return t=1*i+0*a+1.13983*o,n=1*i+-.39465*a+-.5806*o,r=1*i+2.02311*a+0*o,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},t.rgb2yuv=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[.299*t+.587*n+.114*r,-.14713*t+-.28886*n+.436*r,.615*t+-.51499*n+-.10001*r]}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(141),a=function(){function e(){r(this,"_callbacks",void 0),r(this,"_isDispatching",void 0),r(this,"_isHandled",void 0),r(this,"_isPending",void 0),r(this,"_lastID",void 0),r(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var t=e.prototype;return t.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},t.unregister=function(e){this._callbacks[e]||i(!1),delete this._callbacks[e]},t.waitFor=function(e){this._isDispatching||i(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},t.dispatch=function(e){this._isDispatching&&i(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},t.isDispatching=function(){return this._isDispatching},t._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},t._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},t._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=a},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(r(t),!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(o=new Error(t.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?f(e):t}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}n.r(t);var m=n(0),A=n.n(m);function y(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function v(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function b(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function x(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var a=e.displayName||e.name,o="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+a+" uses "+o+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=y,t.componentWillReceiveProps=v),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=b;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w(e){var t=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),t}y.__suppressDeprecationWarning=!0,v.__suppressDeprecationWarning=!0,b.__suppressDeprecationWarning=!0;var _={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},S={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},I={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},C=n(45),M=function(e){var t=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base02,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}}(e);return{"app-container":{fontFamily:I.globalFontFamily,cursor:I.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:I.ellipsisFontSize,lineHeight:I.ellipsisLineHeight,cursor:I.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:I.braceCursor,fontWeight:I.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:I.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,n){return{style:a({paddingTop:I.keyValPaddingTop,paddingRight:I.keyValPaddingRight,paddingBottom:I.keyValPaddingBottom,borderLeft:I.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:n.paddingLeft-1+"px",borderLeft:I.keyValBorderHover+" "+t.objectBorder}},n)}},"object-key-val-no-border":{padding:I.keyValPadding},"pushed-content":{marginLeft:I.pushedContentMarginLeft},variableValue:function(e,t){return{style:a({display:"inline-block",paddingRight:I.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:I.keyLetterSpacing,fontStyle:I.keyFontStyle,verticalAlign:I.keyVerticalAlign,opacity:I.keyOpacity,":hover":{opacity:I.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:I.keyLetterSpacing,fontStyle:I.keyFontStyle,verticalAlign:I.keyVerticalAlign,opacity:I.keyOpacity,":hover":{opacity:I.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:I.objectSizeBorderRadius,fontStyle:I.objectSizeFontStyle,margin:I.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:I.dataTypeFontSize,marginRight:I.dataTypeMarginRight,opacity:I.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:I.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontSize:I.nanFontSize,fontWeight:I.nanFontWeight,backgroundColor:t.dataTypes.background,padding:I.nanPadding,borderRadius:I.nanBorderRadius},null:{display:"inline-block",color:t.dataTypes.null,fontSize:I.nullFontSize,fontWeight:I.nullFontWeight,backgroundColor:t.dataTypes.background,padding:I.nullPadding,borderRadius:I.nullBorderRadius},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:I.undefinedFontSize,padding:I.undefinedPadding,borderRadius:I.undefinedBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:I.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:I.iconFontSize,marginRight:I.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:I.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:I.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:I.metaDataPadding},"icon-container":{display:"inline-block",width:I.iconContainerWidth},tooltip:{padding:I.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:I.iconCursor,fontSize:I.iconFontSize,marginRight:I.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:I.iconCursor,fontSize:I.iconFontSize,marginRight:I.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:I.iconCursor,fontSize:I.iconFontSize,marginRight:I.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:I.iconCursor,color:t.editVariable.checkIcon,fontSize:I.iconFontSize,paddingRight:I.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:I.iconCursor,color:t.editVariable.cancelIcon,fontSize:I.iconFontSize,paddingRight:I.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:I.editInputMinWidth,borderRadius:I.editInputBorderRadius,backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:I.editInputPadding,marginRight:I.editInputMarginRight,fontFamily:I.editInputFontFamily},"detected-row":{paddingTop:I.detectedRowPaddingTop},"key-modal-request":{position:I.addKeyCoverPosition,top:I.addKeyCoverPositionPx,left:I.addKeyCoverPositionPx,right:I.addKeyCoverPositionPx,bottom:I.addKeyCoverPositionPx,backgroundColor:I.addKeyCoverBackground},"key-modal":{width:I.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:I.addKeyModalMargin,marginRight:I.addKeyModalMargin,padding:I.addKeyModalPadding,borderRadius:I.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:I.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:I.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:I.ellipsisFontSize,lineHeight:I.ellipsisLineHeight,cursor:I.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:I.iconFontSize,transform:"rotate(45deg)"}}};function O(e,t,n){return function(e){var t=_;return!1!==e&&"none"!==e||(t=S),Object(C.createStyling)(M,{defaultBase16:t})(e)}(e)(t,n)}var T=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=(e.rjvId,e.type_name),n=e.displayDataTypes,r=e.theme;return n?A.a.createElement("span",Object.assign({className:"data-type-label"},O(r,"data-type-label")),t):null}}]),n}(A.a.PureComponent),P=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return A.a.createElement("div",O(e.theme,"boolean"),A.a.createElement(T,Object.assign({type_name:"bool"},e)),e.value?"true":"false")}}]),n}(A.a.PureComponent),R=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return A.a.createElement("div",O(e.theme,"date"),A.a.createElement(T,Object.assign({type_name:"date"},e)),A.a.createElement("span",Object.assign({className:"date-value"},O(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),n}(A.a.PureComponent),B=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return A.a.createElement("div",O(e.theme,"float"),A.a.createElement(T,Object.assign({type_name:"float"},e)),this.props.value)}}]),n}(A.a.PureComponent);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function L(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=D(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function N(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=n(46),U=new(n(47).Dispatcher),F=new(function(e){u(n,e);var t=g(n);function n(){var e;o(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).objects={},e.set=function(t,n,r,i){void 0===e.objects[t]&&(e.objects[t]={}),void 0===e.objects[t][n]&&(e.objects[t][n]={}),e.objects[t][n][r]=i},e.get=function(t,n,r,i){return void 0===e.objects[t]||void 0===e.objects[t][n]||null==e.objects[t][n][r]?i:e.objects[t][n][r]},e.handleAction=function(t){var n=t.rjvId,r=t.data;switch(t.name){case"RESET":e.emit("reset-"+n);break;case"VARIABLE_UPDATED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",a(a({},r),{},{type:"variable-edited"})),e.emit("variable-update-"+n);break;case"VARIABLE_REMOVED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",a(a({},r),{},{type:"variable-removed"})),e.emit("variable-update-"+n);break;case"VARIABLE_ADDED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",a(a({},r),{},{type:"variable-added"})),e.emit("variable-update-"+n);break;case"ADD_VARIABLE_KEY_REQUEST":e.set(n,"action","new-key-request",r),e.emit("add-key-request-"+n)}},e.updateSrc=function(t,n){var r=n.name,i=n.namespace,a=n.new_value,o=(n.existing_value,n.variable_removed);i.shift();var s,l=e.get(t,"global","src"),c=e.deepCopy(l,N(i)),u=c,d=L(i);try{for(d.s();!(s=d.n()).done;)u=u[s.value]}catch(e){d.e(e)}finally{d.f()}return o?"array"==w(u)?u.splice(r,1):delete u[r]:null!==r?u[r]=a:c=a,e.set(t,"global","src",c),c},e.deepCopy=function(t,n){var r,i=w(t),o=n.shift();return"array"==i?r=N(t):"object"==i&&(r=a({},t)),void 0!==o&&(r[o]=e.deepCopy(t[o],n)),r},e}return n}(j.EventEmitter));U.register(F.handleAction.bind(F));var Q=F,z=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){Q.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.getFunctionDisplay=function(e){var t=f(r).props;return e?A.a.createElement("span",null,r.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),A.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},A.a.createElement("span",null,"{"),A.a.createElement("span",O(t.theme,"ellipsis"),"..."),A.a.createElement("span",null,"}"))):r.props.value.toString().slice(9,-1)},r.state={collapsed:Q.get(e.rjvId,e.namespace,"collapsed",!0)},r}return l(n,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return A.a.createElement("div",O(e.theme,"function"),A.a.createElement(T,Object.assign({type_name:"function"},e)),A.a.createElement("span",Object.assign({},O(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),n}(A.a.PureComponent),H=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){return A.a.createElement("div",O(this.props.theme,"nan"),"NaN")}}]),n}(A.a.PureComponent),G=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){return A.a.createElement("div",O(this.props.theme,"null"),"NULL")}}]),n}(A.a.PureComponent),V=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return A.a.createElement("div",O(e.theme,"integer"),A.a.createElement(T,Object.assign({type_name:"int"},e)),this.props.value)}}]),n}(A.a.PureComponent),K=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return A.a.createElement("div",O(e.theme,"regexp"),A.a.createElement(T,Object.assign({type_name:"regexp"},e)),this.props.value.toString())}}]),n}(A.a.PureComponent),W=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){Q.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.state={collapsed:Q.get(e.rjvId,e.namespace,"collapsed",!0)},r}return l(n,[{key:"render",value:function(){this.state.collapsed;var e=this.props,t=e.collapseStringsAfterLength,n=e.theme,r=e.value,i={style:{cursor:"default"}};return"integer"===w(t)&&r.length>t&&(i.style.cursor="pointer",this.state.collapsed&&(r=A.a.createElement("span",null,r.substring(0,t),A.a.createElement("span",O(n,"ellipsis")," ...")))),A.a.createElement("div",O(n,"string"),A.a.createElement(T,Object.assign({type_name:"string"},e)),A.a.createElement("span",Object.assign({className:"string-value"},i,{onClick:this.toggleCollapsed}),'"',r,'"'))}}]),n}(A.a.PureComponent),q=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){return A.a.createElement("div",O(this.props.theme,"undefined"),"undefined")}}]),n}(A.a.PureComponent);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var X=m.useLayoutEffect,J=function(e){var t=Object(m.useRef)(e);return X((function(){t.current=e})),t},$=function(e,t){"function"!=typeof e?e.current=t:e(t)},Z=function(e,t){var n=Object(m.useRef)();return Object(m.useCallback)((function(r){e.current=r,n.current&&$(n.current,null),n.current=t,t&&$(t,r)}),[t])},ee={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},te=function(e){Object.keys(ee).forEach((function(t){e.style.setProperty(t,ee[t],"important")}))},ne=null,re=function(){},ie=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],ae=!!document.documentElement.currentStyle,oe=function(e,t){var n,r=e.cacheMeasurements,i=e.maxRows,a=e.minRows,o=e.onChange,s=void 0===o?re:o,l=e.onHeightChange,c=void 0===l?re:l,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),d=void 0!==u.value,h=Object(m.useRef)(null),f=Z(h,t),p=Object(m.useRef)(0),g=Object(m.useRef)(),A=function(){var e=h.current,t=r&&g.current?g.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,ie.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(ae&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){g.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),ne||((ne=document.createElement("textarea")).setAttribute("tab-index","-1"),ne.setAttribute("aria-hidden","true"),te(ne)),null===ne.parentNode&&document.body.appendChild(ne);var i=e.paddingSize,a=e.borderSize,o=e.sizingStyle,s=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;ne.style[t]=o[t]})),te(ne),ne.value=t;var l=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(ne,e);ne.value="x";var c=ne.scrollHeight-i,u=c*n;"border-box"===s&&(u=u+i+a),l=Math.max(u,l);var d=c*r;return"border-box"===s&&(d=d+i+a),[l=Math.min(d,l),c]}(t,e.value||e.placeholder||"x",a,i),o=n[0],s=n[1];p.current!==o&&(p.current=o,e.style.setProperty("height",o+"px","important"),c(o,{rowHeight:s}))}};return Object(m.useLayoutEffect)(A),n=J(A),Object(m.useLayoutEffect)((function(){var e=function(e){n.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(m.createElement)("textarea",Y({},u,{onChange:function(e){d||A(),s(e)},ref:f}))},se=Object(m.forwardRef)(oe);function le(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return ce("array",JSON.parse(e));if("{"===e[0])return ce("object",JSON.parse(e));if(e.match(/\-?\d+\.\d+/)&&e.match(/\-?\d+\.\d+/)[0]===e)return ce("float",parseFloat(e));if(e.match(/\-?\d+e-\d+/)&&e.match(/\-?\d+e-\d+/)[0]===e)return ce("float",Number(e));if(e.match(/\-?\d+/)&&e.match(/\-?\d+/)[0]===e)return ce("integer",parseInt(e));if(e.match(/\-?\d+e\+\d+/)&&e.match(/\-?\d+e\+\d+/)[0]===e)return ce("integer",Number(e))}catch(e){}switch(e=e.toLowerCase()){case"undefined":return ce("undefined",void 0);case"nan":return ce("nan",NaN);case"null":return ce("null",null);case"true":return ce("boolean",!0);case"false":return ce("boolean",!1);default:if(e=Date.parse(e))return ce("date",new Date(e))}return ce(!1,null)}function ce(e,t){return{type:e,value:t}}var ue=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),A.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),n}(A.a.PureComponent),de=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),A.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),n}(A.a.PureComponent),he=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]),r=Ee(t).style;return A.a.createElement("span",n,A.a.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},A.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(A.a.PureComponent),fe=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]),r=Ee(t).style;return A.a.createElement("span",n,A.a.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},A.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(A.a.PureComponent),pe=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",{style:a(a({},Ee(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},A.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),n}(A.a.PureComponent),ge=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",{style:a(a({},Ee(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},A.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),n}(A.a.PureComponent),me=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),A.a.createElement("g",null,A.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),n}(A.a.PureComponent),Ae=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),A.a.createElement("g",null,A.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(A.a.PureComponent),ye=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),A.a.createElement("g",null,A.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(A.a.PureComponent),ve=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),A.a.createElement("g",null,A.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),n}(A.a.PureComponent),be=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),A.a.createElement("g",null,A.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),n}(A.a.PureComponent),xe=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return A.a.createElement("span",n,A.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),A.a.createElement("g",null,A.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(A.a.PureComponent);function Ee(e){return e||(e={}),{style:a(a({verticalAlign:"middle"},e),{},{color:e.color?e.color:"#000000",height:"1em",width:"1em"})}}var we=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).copiedTimer=null,r.handleCopy=function(){var e=document.createElement("textarea"),t=r.props,n=t.clickCallback,i=t.src,a=t.namespace;e.innerHTML=JSON.stringify(r.clipboardValue(i),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),r.copiedTimer=setTimeout((function(){r.setState({copied:!1})}),5500),r.setState({copied:!0},(function(){"function"==typeof n&&n({src:i,namespace:a,name:a[a.length-1]})}))},r.getClippyIcon=function(){var e=r.props.theme;return r.state.copied?A.a.createElement("span",null,A.a.createElement(me,Object.assign({className:"copy-icon"},O(e,"copy-icon"))),A.a.createElement("span",O(e,"copy-icon-copied"),"\u2714")):A.a.createElement(me,Object.assign({className:"copy-icon"},O(e,"copy-icon")))},r.clipboardValue=function(e){switch(w(e)){case"function":case"regexp":return e.toString();default:return e}},r.state={copied:!1},r}return l(n,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),n=e.hidden,r=e.rowHovered,i=O(t,"copy-to-clipboard").style,o="inline";return n&&(o="none"),A.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:r?"inline-block":"none"}},A.a.createElement("span",{style:a(a({},i),{},{display:o}),onClick:this.handleCopy},this.getClippyIcon()))}}]),n}(A.a.PureComponent),_e=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).getEditIcon=function(){var e=r.props,t=e.variable,n=e.theme;return A.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:r.state.hovered?"inline-block":"none"}},A.a.createElement(be,Object.assign({className:"click-to-edit-icon"},O(n,"editVarIcon"),{onClick:function(){r.prepopInput(t)}})))},r.prepopInput=function(e){if(!1!==r.props.onEdit){var t=function(e){var t;switch(w(e)){case"undefined":t="undefined";break;case"nan":t="NaN";break;case"string":t=e;break;case"date":case"function":case"regexp":t=e.toString();break;default:try{t=JSON.stringify(e,null,"  ")}catch(e){t=""}}return t}(e.value),n=le(t);r.setState({editMode:!0,editValue:t,parsedInput:{type:n.type,value:n.value}})}},r.getRemoveIcon=function(){var e=r.props,t=e.variable,n=e.namespace,i=e.theme,a=e.rjvId;return A.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:r.state.hovered?"inline-block":"none"}},A.a.createElement(Ae,Object.assign({className:"click-to-remove-icon"},O(i,"removeVarIcon"),{onClick:function(){U.dispatch({name:"VARIABLE_REMOVED",rjvId:a,data:{name:t.name,namespace:n,existing_value:t.value,variable_removed:!0}})}})))},r.getValue=function(e,t){var n=!t&&e.type,i=f(r).props;switch(n){case!1:return r.getEditInput();case"string":return A.a.createElement(W,Object.assign({value:e.value},i));case"integer":return A.a.createElement(V,Object.assign({value:e.value},i));case"float":return A.a.createElement(B,Object.assign({value:e.value},i));case"boolean":return A.a.createElement(P,Object.assign({value:e.value},i));case"function":return A.a.createElement(z,Object.assign({value:e.value},i));case"null":return A.a.createElement(G,i);case"nan":return A.a.createElement(H,i);case"undefined":return A.a.createElement(q,i);case"date":return A.a.createElement(R,Object.assign({value:e.value},i));case"regexp":return A.a.createElement(K,Object.assign({value:e.value},i));default:return A.a.createElement("div",{className:"object-value"},JSON.stringify(e.value))}},r.getEditInput=function(){var e=r.props.theme,t=r.state.editValue;return A.a.createElement("div",null,A.a.createElement(se,Object.assign({type:"text",inputRef:function(e){return e&&e.focus()},value:t,className:"variable-editor",onChange:function(e){var t=e.target.value,n=le(t);r.setState({editValue:t,parsedInput:{type:n.type,value:n.value}})},onKeyDown:function(e){switch(e.key){case"Escape":r.setState({editMode:!1,editValue:""});break;case"Enter":(e.ctrlKey||e.metaKey)&&r.submitEdit(!0)}e.stopPropagation()},placeholder:"update this value",minRows:2},O(e,"edit-input"))),A.a.createElement("div",O(e,"edit-icon-container"),A.a.createElement(Ae,Object.assign({className:"edit-cancel"},O(e,"cancel-icon"),{onClick:function(){r.setState({editMode:!1,editValue:""})}})),A.a.createElement(xe,Object.assign({className:"edit-check string-value"},O(e,"check-icon"),{onClick:function(){r.submitEdit()}})),A.a.createElement("div",null,r.showDetected())))},r.submitEdit=function(e){var t=r.props,n=t.variable,i=t.namespace,a=t.rjvId,o=r.state,s=o.editValue,l=o.parsedInput,c=s;e&&l.type&&(c=l.value),r.setState({editMode:!1}),U.dispatch({name:"VARIABLE_UPDATED",rjvId:a,data:{name:n.name,namespace:i,existing_value:n.value,new_value:c,variable_removed:!1}})},r.showDetected=function(){var e=r.props,t=e.theme,n=(e.variable,e.namespace,e.rjvId,r.state.parsedInput),i=(n.type,n.value,r.getDetectedInput());if(i)return A.a.createElement("div",null,A.a.createElement("div",O(t,"detected-row"),i,A.a.createElement(xe,{className:"edit-check detected",style:a({verticalAlign:"top",paddingLeft:"3px"},O(t,"check-icon").style),onClick:function(){r.submitEdit(!0)}})))},r.getDetectedInput=function(){var e=r.state.parsedInput,t=e.type,n=e.value,i=f(r).props,o=i.theme;if(!1!==t)switch(t.toLowerCase()){case"object":return A.a.createElement("span",null,A.a.createElement("span",{style:a(a({},O(o,"brace").style),{},{cursor:"default"})},"{"),A.a.createElement("span",{style:a(a({},O(o,"ellipsis").style),{},{cursor:"default"})},"..."),A.a.createElement("span",{style:a(a({},O(o,"brace").style),{},{cursor:"default"})},"}"));case"array":return A.a.createElement("span",null,A.a.createElement("span",{style:a(a({},O(o,"brace").style),{},{cursor:"default"})},"["),A.a.createElement("span",{style:a(a({},O(o,"ellipsis").style),{},{cursor:"default"})},"..."),A.a.createElement("span",{style:a(a({},O(o,"brace").style),{},{cursor:"default"})},"]"));case"string":return A.a.createElement(W,Object.assign({value:n},i));case"integer":return A.a.createElement(V,Object.assign({value:n},i));case"float":return A.a.createElement(B,Object.assign({value:n},i));case"boolean":return A.a.createElement(P,Object.assign({value:n},i));case"function":return A.a.createElement(z,Object.assign({value:n},i));case"null":return A.a.createElement(G,i);case"nan":return A.a.createElement(H,i);case"undefined":return A.a.createElement(q,i);case"date":return A.a.createElement(R,Object.assign({value:new Date(n)},i))}},r.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},r}return l(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.variable,r=t.singleIndent,i=t.type,o=t.theme,s=t.namespace,l=t.indentWidth,c=t.enableClipboard,u=t.onEdit,d=t.onDelete,h=t.onSelect,f=t.displayArrayKey,p=t.quotesOnKeys,g=this.state.editMode;return A.a.createElement("div",Object.assign({},O(o,"objectKeyVal",{paddingLeft:l*r}),{onMouseEnter:function(){return e.setState(a(a({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(a(a({},e.state),{},{hovered:!1}))},className:"variable-row",key:n.name}),"array"==i?f?A.a.createElement("span",Object.assign({},O(o,"array-key"),{key:n.name+"_"+s}),n.name,A.a.createElement("div",O(o,"colon"),":")):null:A.a.createElement("span",null,A.a.createElement("span",Object.assign({},O(o,"object-name"),{className:"object-key",key:n.name+"_"+s}),!!p&&A.a.createElement("span",{style:{verticalAlign:"top"}},'"'),A.a.createElement("span",{style:{display:"inline-block"}},n.name),!!p&&A.a.createElement("span",{style:{verticalAlign:"top"}},'"')),A.a.createElement("span",O(o,"colon"),":")),A.a.createElement("div",Object.assign({className:"variable-value",onClick:!1===h&&!1===u?null:function(t){var r=N(s);(t.ctrlKey||t.metaKey)&&!1!==u?e.prepopInput(n):!1!==h&&(r.shift(),h(a(a({},n),{},{namespace:r})))}},O(o,"variableValue",{cursor:!1===h?"default":"pointer"})),this.getValue(n,g)),c?A.a.createElement(we,{rowHovered:this.state.hovered,hidden:g,src:n.value,clickCallback:c,theme:o,namespace:[].concat(N(s),[n.name])}):null,!1!==u&&0==g?this.getEditIcon():null,!1!==d&&0==g?this.getRemoveIcon():null)}}]),n}(A.a.PureComponent),Se=function(e){u(n,e);var t=g(n);function n(){var e;o(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).getObjectSize=function(){var t=e.props,n=t.size,r=t.theme;if(t.displayObjectSize)return A.a.createElement("span",Object.assign({className:"object-size"},O(r,"object-size")),n," item",1===n?"":"s")},e.getAddAttribute=function(t){var n=e.props,r=n.theme,i=n.namespace,o=n.name,s=n.src,l=n.rjvId,c=n.depth;return A.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:t?"inline-block":"none"}},A.a.createElement(ye,Object.assign({className:"click-to-add-icon"},O(r,"addVarIcon"),{onClick:function(){var e={name:c>0?o:null,namespace:i.splice(0,i.length-1),existing_value:s,variable_removed:!1,key_name:null};"object"===w(s)?U.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:l,data:e}):U.dispatch({name:"VARIABLE_ADDED",rjvId:l,data:a(a({},e),{},{new_value:[].concat(N(s),[null])})})}})))},e.getRemoveObject=function(t){var n=e.props,r=n.theme,i=(n.hover,n.namespace),a=n.name,o=n.src,s=n.rjvId;if(1!==i.length)return A.a.createElement("span",{className:"click-to-remove",style:{display:t?"inline-block":"none"}},A.a.createElement(Ae,Object.assign({className:"click-to-remove-icon"},O(r,"removeVarIcon"),{onClick:function(){U.dispatch({name:"VARIABLE_REMOVED",rjvId:s,data:{name:a,namespace:i.splice(0,i.length-1),existing_value:o,variable_removed:!0}})}})))},e.render=function(){var t=e.props,n=t.theme,r=t.onDelete,i=t.onAdd,a=t.enableClipboard,o=t.src,s=t.namespace,l=t.rowHovered;return A.a.createElement("div",Object.assign({},O(n,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),e.getObjectSize(),a?A.a.createElement(we,{rowHovered:l,clickCallback:a,src:o,theme:n,namespace:s}):null,!1!==i?e.getAddAttribute(l):null,!1!==r?e.getRemoveObject(l):null)},e}return n}(A.a.PureComponent);function Ie(e){var t=e.parent_type,n=e.namespace,r=e.quotesOnKeys,i=e.theme,a=e.jsvRoot,o=e.name,s=e.displayArrayKey,l=e.name?e.name:"";return!a||!1!==o&&null!==o?"array"==t?s?A.a.createElement("span",Object.assign({},O(i,"array-key"),{key:n}),A.a.createElement("span",{className:"array-key"},l),A.a.createElement("span",O(i,"colon"),":")):A.a.createElement("span",null):A.a.createElement("span",Object.assign({},O(i,"object-name"),{key:n}),A.a.createElement("span",{className:"object-key"},r&&A.a.createElement("span",{style:{verticalAlign:"top"}},'"'),A.a.createElement("span",null,l),r&&A.a.createElement("span",{style:{verticalAlign:"top"}},'"')),A.a.createElement("span",O(i,"colon"),":")):A.a.createElement("span",null)}function Ce(e){var t=e.theme;switch(e.iconStyle){case"triangle":return A.a.createElement(ge,Object.assign({},O(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return A.a.createElement(he,Object.assign({},O(t,"expanded-icon"),{className:"expanded-icon"}));default:return A.a.createElement(ue,Object.assign({},O(t,"expanded-icon"),{className:"expanded-icon"}))}}function Me(e){var t=e.theme;switch(e.iconStyle){case"triangle":return A.a.createElement(pe,Object.assign({},O(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return A.a.createElement(fe,Object.assign({},O(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return A.a.createElement(de,Object.assign({},O(t,"collapsed-icon"),{className:"collapsed-icon"}))}}var Oe=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).toggleCollapsed=function(e){var t=[];for(var n in r.state.expanded)t.push(r.state.expanded[n]);t[e]=!t[e],r.setState({expanded:t})},r.state={expanded:[]},r}return l(n,[{key:"getExpandedIcon",value:function(e){var t=this.props,n=t.theme,r=t.iconStyle;return this.state.expanded[e]?A.a.createElement(Ce,{theme:n,iconStyle:r}):A.a.createElement(Me,{theme:n,iconStyle:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,r=t.groupArraysAfterLength,i=(t.depth,t.name),a=t.theme,o=t.jsvRoot,s=t.namespace,l=(t.parent_type,E(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),c=0,u=5*this.props.indentWidth;o||(c=5*this.props.indentWidth);var d=r,h=Math.ceil(n.length/d);return A.a.createElement("div",Object.assign({className:"object-key-val"},O(a,o?"jsv-root":"objectKeyVal",{paddingLeft:c})),A.a.createElement(Ie,this.props),A.a.createElement("span",null,A.a.createElement(Se,Object.assign({size:n.length},this.props))),N(Array(h)).map((function(t,r){return A.a.createElement("div",Object.assign({key:r,className:"object-key-val array-group"},O(a,"objectKeyVal",{marginLeft:6,paddingLeft:u})),A.a.createElement("span",O(a,"brace-row"),A.a.createElement("div",Object.assign({className:"icon-container"},O(a,"icon-container"),{onClick:function(t){e.toggleCollapsed(r)}}),e.getExpandedIcon(r)),e.state.expanded[r]?A.a.createElement(Re,Object.assign({key:i+r,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:d,index_offset:r*d,src:n.slice(r*d,r*d+d),namespace:s,type:"array",parent_type:"array_group",theme:a},l)):A.a.createElement("span",Object.assign({},O(a,"brace"),{onClick:function(t){e.toggleCollapsed(r)},className:"array-group-brace"}),"[",A.a.createElement("div",Object.assign({},O(a,"array-group-meta-data"),{className:"array-group-meta-data"}),A.a.createElement("span",Object.assign({className:"object-size"},O(a,"object-size")),r*d," - ",r*d+d>n.length?n.length:r*d+d)),"]")))})))}}]),n}(A.a.PureComponent),Te=function(e){u(n,e);var t=g(n);function n(e){var r;o(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({expanded:!r.state.expanded},(function(){Q.set(r.props.rjvId,r.props.namespace,"expanded",r.state.expanded)}))},r.getObjectContent=function(e,t,n){return A.a.createElement("div",{className:"pushed-content object-container"},A.a.createElement("div",Object.assign({className:"object-content"},O(r.props.theme,"pushed-content")),r.renderObjectContents(t,n)))},r.getEllipsis=function(){return 0===r.state.size?null:A.a.createElement("div",Object.assign({},O(r.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:r.toggleCollapsed}),"...")},r.getObjectMetaData=function(e){var t=r.props,n=(t.rjvId,t.theme,r.state),i=n.size,a=n.hovered;return A.a.createElement(Se,Object.assign({rowHovered:a,size:i},r.props))},r.renderObjectContents=function(e,t){var n,i=r.props,a=i.depth,o=i.parent_type,s=i.index_offset,l=i.groupArraysAfterLength,c=i.namespace,u=r.state.object_type,d=[],h=Object.keys(e||{});return r.props.sortKeys&&"array"!==u&&(h=h.sort()),h.forEach((function(i){if(n=new Pe(i,e[i]),"array_group"===o&&s&&(n.name=parseInt(n.name)+s),e.hasOwnProperty(i))if("object"===n.type)d.push(A.a.createElement(Re,Object.assign({key:n.name,depth:a+1,name:n.name,src:n.value,namespace:c.concat(n.name),parent_type:u},t)));else if("array"===n.type){var h=Re;l&&n.value.length>l&&(h=Oe),d.push(A.a.createElement(h,Object.assign({key:n.name,depth:a+1,name:n.name,src:n.value,namespace:c.concat(n.name),type:"array",parent_type:u},t)))}else d.push(A.a.createElement(_e,Object.assign({key:n.name+"_"+c,variable:n,singleIndent:5,namespace:c,type:r.props.type},t)))})),d};var i=n.getState(e);return r.state=a(a({},i),{},{prevProps:{}}),r}return l(n,[{key:"getBraceStart",value:function(e,t){var n=this,r=this.props,i=r.src,a=r.theme,o=r.iconStyle;if("array_group"===r.parent_type)return A.a.createElement("span",null,A.a.createElement("span",O(a,"brace"),"array"===e?"[":"{"),t?this.getObjectMetaData(i):null);var s=t?Ce:Me;return A.a.createElement("span",null,A.a.createElement("span",Object.assign({onClick:function(e){n.toggleCollapsed()}},O(a,"brace-row")),A.a.createElement("div",Object.assign({className:"icon-container"},O(a,"icon-container")),A.a.createElement(s,{theme:a,iconStyle:o})),A.a.createElement(Ie,this.props),A.a.createElement("span",O(a,"brace"),"array"===e?"[":"{")),t?this.getObjectMetaData(i):null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.depth,r=t.src,i=(t.namespace,t.name,t.type,t.parent_type),o=t.theme,s=t.jsvRoot,l=t.iconStyle,c=E(t,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),u=this.state,d=u.object_type,h=u.expanded,f={};return s||"array_group"===i?"array_group"===i&&(f.borderLeft=0,f.display="inline"):f.paddingLeft=5*this.props.indentWidth,A.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return e.setState(a(a({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(a(a({},e.state),{},{hovered:!1}))}},O(o,s?"jsv-root":"objectKeyVal",f)),this.getBraceStart(d,h),h?this.getObjectContent(n,r,a({theme:o,iconStyle:l},c)):this.getEllipsis(),A.a.createElement("span",{className:"brace-row"},A.a.createElement("span",{style:a(a({},O(o,"brace").style),{},{paddingLeft:h?"3px":"0px"})},"array"===d?"]":"}"),h?null:this.getObjectMetaData(r)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevProps;return e.src!==r.src||e.collapsed!==r.collapsed||e.name!==r.name||e.namespace!==r.namespace||e.rjvId!==r.rjvId?a(a({},n.getState(e)),{},{prevProps:e}):null}}]),n}(A.a.PureComponent);Te.getState=function(e){var t=Object.keys(e.src).length,n=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:w(e.src),namespace:e.namespace}))&&0!==t;return{expanded:Q.get(e.rjvId,e.namespace,"expanded",n),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t,hovered:!1}};var Pe=function e(t,n){o(this,e),this.name=t,this.value=n,this.type=w(n)};x(Te);var Re=Te,Be=function(e){u(n,e);var t=g(n);function n(){var e;o(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).render=function(){var t=f(e).props,n=[t.name],r=Re;return Array.isArray(t.src)&&t.groupArraysAfterLength&&t.src.length>t.groupArraysAfterLength&&(r=Oe),A.a.createElement("div",{className:"pretty-json-container object-container"},A.a.createElement("div",{className:"object-content"},A.a.createElement(r,Object.assign({namespace:n,depth:0,jsvRoot:!0},t))))},e}return n}(A.a.PureComponent),ke=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).closeModal=function(){U.dispatch({rjvId:r.props.rjvId,name:"RESET"})},r.submit=function(){r.props.submit(r.state.input)},r.state={input:e.input?e.input:""},r}return l(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.rjvId,i=t.isValid,a=this.state.input,o=i(a);return A.a.createElement("div",Object.assign({className:"key-modal-request"},O(n,"key-modal-request"),{onClick:this.closeModal}),A.a.createElement("div",Object.assign({},O(n,"key-modal"),{onClick:function(e){e.stopPropagation()}}),A.a.createElement("div",O(n,"key-modal-label"),"Key Name:"),A.a.createElement("div",{style:{position:"relative"}},A.a.createElement("input",Object.assign({},O(n,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:a,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){o&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),o?A.a.createElement(xe,Object.assign({},O(n,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),A.a.createElement("span",O(n,"key-modal-cancel"),A.a.createElement(ve,Object.assign({},O(n,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){U.dispatch({rjvId:r,name:"RESET"})}})))))}}]),n}(A.a.PureComponent),De=function(e){u(n,e);var t=g(n);function n(){var e;o(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).isValid=function(t){var n=e.props.rjvId,r=Q.get(n,"action","new-key-request");return""!=t&&-1===Object.keys(r.existing_value).indexOf(t)},e.submit=function(t){var n=e.props.rjvId,r=Q.get(n,"action","new-key-request");r.new_value=a({},r.existing_value),r.new_value[t]=e.props.defaultValue,U.dispatch({name:"VARIABLE_ADDED",rjvId:n,data:r})},e}return l(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.theme,r=e.rjvId;return t?A.a.createElement(ke,{rjvId:r,theme:n,isValid:this.isValid,submit:this.submit}):null}}]),n}(A.a.PureComponent),Le=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.active,r=e.theme,i=e.rjvId;return n?A.a.createElement("div",Object.assign({className:"validation-failure"},O(r,"validation-failure"),{onClick:function(){U.dispatch({rjvId:i,name:"RESET"})}}),A.a.createElement("span",O(r,"validation-failure-label"),t),A.a.createElement(ve,O(r,"validation-failure-clear"))):null}}]),n}(A.a.PureComponent),Ne=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).rjvId=Date.now().toString(),r.getListeners=function(){return{reset:r.resetState,"variable-update":r.updateSrc,"add-key-request":r.addKeyRequest}},r.updateSrc=function(){var e,t=Q.get(r.rjvId,"action","variable-update"),n=t.name,i=t.namespace,a=t.new_value,o=t.existing_value,s=(t.variable_removed,t.updated_src),l=t.type,c=r.props,u=c.onEdit,d=c.onDelete,h=c.onAdd,f={existing_src:r.state.src,new_value:a,updated_src:s,name:n,namespace:i,existing_value:o};switch(l){case"variable-added":e=h(f);break;case"variable-edited":e=u(f);break;case"variable-removed":e=d(f)}!1!==e?(Q.set(r.rjvId,"global","src",s),r.setState({src:s})):r.setState({validationFailure:!0})},r.addKeyRequest=function(){r.setState({addKeyRequest:!0})},r.resetState=function(){r.setState({validationFailure:!1,addKeyRequest:!1})},r.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:n.defaultProps.src,name:n.defaultProps.name,theme:n.defaultProps.theme,validationMessage:n.defaultProps.validationMessage,prevSrc:n.defaultProps.src,prevName:n.defaultProps.name,prevTheme:n.defaultProps.theme},r}return l(n,[{key:"componentDidMount",value:function(){Q.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)Q.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&Q.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)Q.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,n=e.validationMessage,r=e.addKeyRequest,i=e.theme,o=e.src,s=e.name,l=this.props,c=l.style,u=l.defaultValue;return A.a.createElement("div",{className:"react-json-view",style:a(a({},O(i,"app-container").style),c)},A.a.createElement(Le,{message:n,active:t,theme:i,rjvId:this.rjvId}),A.a.createElement(Be,Object.assign({},this.props,{src:o,name:s,theme:i,type:w(o),rjvId:this.rjvId})),A.a.createElement(De,{active:r,theme:i,rjvId:this.rjvId,defaultValue:u}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.src!==t.prevSrc||e.name!==t.prevName||e.theme!==t.prevTheme){var r={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return n.validateState(r)}return null}}]),n}(A.a.PureComponent);Ne.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},Ne.validateState=function(e){var t={};return"object"!==w(e.theme)||function(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===w(e)){for(var n=0;n<t.length;n++)if(!(t[n]in e))return!1;return!0}return!1}(e.theme)||(t.theme="rjv-default"),"object"!==w(e.src)&&"array"!==w(e.src)&&(t.name="ERROR",t.src={message:"src property must be a valid json object"}),a(a({},e),t)},x(Ne),t.default=Ne}]))},11655:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>c.A,wA:()=>m,d4:()=>s.d4});var r=n(19888),i=n(69242),a=n(42724),o=n(38298),s=n(83715),l=n(50451),c=n(59904),u=n(41458),d=n(96540),h=n(3769);function f(e=u.t){const t=e===u.t?h.n:()=>(0,d.useContext)(e);return function(){const{store:e}=t();return e}}const p=f();function g(e=u.t){const t=e===u.t?p:f(e);return function(){return t().dispatch}}const m=g();(0,s.ld)(i.useSyncExternalStoreWithSelector),(0,l.T)(r.useSyncExternalStore),(0,o.d)(a.r)},6870:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(58168),i=n(98587),a=n(25540),o=n(68493),s=n(78995),l=n(96540),c=n(40961);const u=!1,d=l.createContext(null);var h=function(e){return e.scrollTop},f="unmounted",p="exited",g="entering",m="entered",A="exiting",y=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=p,r.appearStatus=g):i=m:i=t.unmountOnExit||t.mountOnEnter?f:p,r.state={status:i},r.nextCallback=null,r}(0,a.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==g&&n!==m&&(t=g):n!==g&&n!==m||(t=A)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===g){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:c.findDOMNode(this);n&&h(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[c.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||u?this.safeSetState({status:m},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:g},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:c.findDOMNode(this);t&&!u?(this.props.onExit(r),this.safeSetState({status:A},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(d.Provider,{value:null},"function"===typeof n?n(e,r):l.cloneElement(l.Children.only(n),r))},t}(l.Component);function v(){}y.contextType=d,y.propTypes={},y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},y.UNMOUNTED=f,y.EXITED=p,y.ENTERING=g,y.ENTERED=m,y.EXITING=A;const b=y;var x=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,s.A)(e,t)}))},E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,a.A)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&h(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,o.A)(e,t)}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&x(e,r),i&&x(e,i),a&&x(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.A)(e,["classNames"]));return l.createElement(b,(0,r.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);E.defaultProps={classNames:""},E.propTypes={};const w=E},5373:(e,t,n)=>{"use strict";n.d(t,{Y1:()=>y});var r=n(58168),i=n(9417),a=n(25540),o=n(41811),s=n(96540),l="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function c(e){cancelAnimationFrame(e.id)}function u(e,t){var n=l();var r={id:requestAnimationFrame((function i(){l()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var d=-1;function h(e){if(void 0===e&&(e=!1),-1===d||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),d=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return d}var f=null;function p(e){if(void 0===e&&(e=!1),null===f||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?f="positive-descending":(t.scrollLeft=1,f=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),f}return f}var g=function(e,t){return e};function m(e){var t,n=e.getItemOffset,l=e.getEstimatedTotalSize,d=e.getItemSize,f=e.getOffsetForIndexAndAlignment,m=e.getStartIndexForOffset,y=e.getStopIndexForStartIndex,v=e.initInstanceProps,b=e.shouldResetStyleCacheOnItemSizeChange,x=e.validateProps;return t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=v(r.props,(0,i.A)(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:(0,i.A)(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=(0,o.A)((function(e,t,n,i){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:i})})),r._callOnScroll=void 0,r._callOnScroll=(0,o.A)((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,i=r.props,a=i.direction,o=i.itemSize,s=i.layout,l=r._getItemStyleCache(b&&o,b&&s,b&&a);if(l.hasOwnProperty(e))t=l[e];else{var c=n(r.props,e,r._instanceProps),u=d(r.props,e,r._instanceProps),h="horizontal"===a||"horizontal"===s,f="rtl"===a,p=h?c:0;l[e]=t={position:"absolute",left:f?void 0:p,right:f?p:void 0,top:h?0:c,height:h?"100%":u,width:h?u:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=(0,o.A)((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,i=t.scrollLeft,a=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===i)return null;var t=r.props.direction,o=i;if("rtl"===t)switch(p()){case"negative":o=-i;break;case"positive-descending":o=a-n-i}return o=Math.max(0,Math.min(o,a-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:o,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,i=t.scrollHeight,a=t.scrollTop;r.setState((function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,i-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&c(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=u(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}(0,a.A)(t,e),t.getDerivedStateFromProps=function(e,t){return A(e,t),x(e),null};var E=t.prototype;return E.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},E.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,i=n.layout,a=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var o=0;if(this._outerRef){var s=this._outerRef;o="vertical"===i?s.scrollWidth>s.clientWidth?h():0:s.scrollHeight>s.clientHeight?h():0}this.scrollTo(f(this.props,e,t,a,this._instanceProps,o))},E.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},E.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(p()){case"negative":a.scrollLeft=-i;break;case"positive-ascending":a.scrollLeft=i;break;default:var o=a.clientWidth,s=a.scrollWidth;a.scrollLeft=s-o-i}else a.scrollLeft=i;else a.scrollTop=i}this._callPropsCallbacks()},E.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&c(this._resetIsScrollingTimeoutId)},E.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,a=e.height,o=e.innerRef,c=e.innerElementType,u=e.innerTagName,d=e.itemCount,h=e.itemData,f=e.itemKey,p=void 0===f?g:f,m=e.layout,A=e.outerElementType,y=e.outerTagName,v=e.style,b=e.useIsScrolling,x=e.width,E=this.state.isScrolling,w="horizontal"===i||"horizontal"===m,_=w?this._onScrollHorizontal:this._onScrollVertical,S=this._getRangeToRender(),I=S[0],C=S[1],M=[];if(d>0)for(var O=I;O<=C;O++)M.push((0,s.createElement)(t,{data:h,key:p(O,h),index:O,isScrolling:b?E:void 0,style:this._getItemStyle(O)}));var T=l(this.props,this._instanceProps);return(0,s.createElement)(A||y||"div",{className:n,onScroll:_,ref:this._outerRefSetter,style:(0,r.A)({position:"relative",height:a,width:x,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},v)},(0,s.createElement)(c||u||"div",{children:M,ref:o,style:{height:w?"100%":T,pointerEvents:E?"none":void 0,width:w?T:"100%"}}))},E._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"===typeof this.props.onScroll){var a=this.state,o=a.scrollDirection,s=a.scrollOffset,l=a.scrollUpdateWasRequested;this._callOnScroll(o,s,l)}},E._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,a=r.scrollDirection,o=r.scrollOffset;if(0===t)return[0,0,0,0];var s=m(this.props,o,this._instanceProps),l=y(this.props,s,o,this._instanceProps),c=i&&"backward"!==a?1:Math.max(1,n),u=i&&"forward"!==a?1:Math.max(1,n);return[Math.max(0,s-c),Math.max(0,Math.min(t-1,l+u)),s,l]},t}(s.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var A=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},y=m({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r,i,a){var o=e.direction,s=e.height,l=e.itemCount,c=e.itemSize,u=e.layout,d=e.width,h="horizontal"===o||"horizontal"===u?d:s,f=Math.max(0,l*c-h),p=Math.min(f,t*c),g=Math.max(0,t*c-h+c+a);switch("smart"===n&&(n=r>=g-h&&r<=p+h?"auto":"center"),n){case"start":return p;case"end":return g;case"center":var m=Math.round(g+(p-g)/2);return m<Math.ceil(h/2)?0:m>f+Math.floor(h/2)?f:m;default:return r>=g&&r<=p?r:r<g?g:p}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,i=e.height,a=e.itemCount,o=e.itemSize,s=e.layout,l=e.width,c=t*o,u="horizontal"===r||"horizontal"===s?l:i,d=Math.ceil((u+n-c)/o);return Math.max(0,Math.min(a-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}})},96540:(e,t,n)=>{"use strict";e.exports=n(15287)},76670:function(e,t,n){var r,i=n(48287).Buffer;r=(e,t,n)=>(()=>{var r={8:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6773);t.debounce=function(e,t=0,n={}){"object"!=typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:o}=n,s=Array(2);let l;i&&(s[0]="leading"),a&&(s[1]="trailing");let c=null;const u=r.debounce((function(...t){l=e.apply(this,t),c=null}),t,{edges:s}),d=function(...t){return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,t),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,t),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},25:(e,t,n)=>{e.exports=n(1334).last},58:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9181);t.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&r.isLength(e.length)}},184:(e,t,n)=>{e.exports=n(4259).sortBy},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},305:(e,t,n)=>{e.exports=n(4200).get},316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8509),i=n(58),a=n(4905),o=n(6761);t.isIterateeCall=function(e,t,n){return!!a.isObject(n)&&!!("number"==typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"==typeof t&&t in n)&&o.eq(n[t],e)}},334:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.maxBy=function(e,t){if(0===e.length)return;let n=e[0],r=t(n);for(let i=1;i<e.length;i++){const a=e[i],o=t(a);o>r&&(r=o,n=a)}return n}},555:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3908);t.isTypedArray=function(e){return r.isTypedArray(e)}},623:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isBuffer=function(e){return"undefined"!=typeof i&&i.isBuffer(e)}},645:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},717:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8273);t.isMatch=function(e,t){return r.isMatchWith(e,t,(()=>{}))}},924:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8240),i=n(6440),a=n(8202);t.minBy=function(e,t){if(null!=e)return r.minBy(Array.from(e),a.iteratee(t??i.identity))}},1081:(e,t,n)=>{e.exports=n(2810).uniqBy},1334:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(645),i=n(4483),a=n(58);t.last=function(e){if(a.isArrayLike(e))return r.last(i.toArray(e))}},1366:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}},1465:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},1576:(e,t,n)=>{e.exports=n(4167).omit},1621:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(623),i=n(5403),a=n(58),o=n(555),s=n(8485);function l(e){const t=[];for(const n in e)t.push(n);return t}t.keysIn=function(e){if(null==e)return[];switch(typeof e){case"object":case"function":return a.isArrayLike(e)?function(e){const t=s.times(e.length,(e=>`${e}`)),n=new Set(t);r.isBuffer(e)&&(n.add("offset"),n.add("parent")),o.isTypedArray(e)&&(n.add("buffer"),n.add("byteLength"),n.add("byteOffset"));const i=l(e).filter((e=>!n.has(e)));return Array.isArray(e)?[...t,...i]:[...t.filter((t=>Object.hasOwn(e,t))),...i]}(e):i.isPrototype(e)?function(e){return l(e).filter((e=>"constructor"!==e))}(e):l(e);default:return l(Object(e))}}},1846:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"==typeof e&&null!==e}},1863:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}},1875:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6012);t.getSymbolsIn=function(e){const t=[];for(;e;)t.push(...r.getSymbols(e)),e=Object.getPrototypeOf(e);return t}},2049:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},2067:(e,t,n)=>{e.exports=n(3667).sumBy},2162:(e,t,n)=>{"use strict";var r=n(5442),i=n(9888),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=o(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},2520:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}},2751:e=>{"use strict";e.exports=n},2810:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8805),i=n(6440),a=n(8161),o=n(8202);t.uniqBy=function(e,t=i.identity){return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},2938:(e,t,n)=>{e.exports=n(8695).isPlainObject},2972:(e,t,n)=>{e.exports=n(924).minBy},2984:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2049);t.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===r.getTag(e)}},3025:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1863),i=n(1465);t.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"==typeof e)return[e];const t=[],n=(e=r.toString(e)).length;if(0===n)return t;let a=0,o="",s="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<n;){const r=e[a];s?"\\"===r&&a+1<n?(a++,o+=e[a]):r===s?s="":o+=r:l?'"'===r||"'"===r?s=r:"]"===r?(l=!1,t.push(o),o=""):o+=r:"["===r?(l=!0,o&&(t.push(o),o="")):"."===r?o&&(t.push(o),o=""):o+=r,a++}return o&&t.push(o),t}},3036:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(717),i=n(1465),a=n(3923),o=n(4200),s=n(7324);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(n){const i=o.get(n,e);return void 0===i?s.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},3097:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3500),i=n(3998),a=n(3025);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map((e=>String(e)));const s=(e,t)=>{let n=e;for(let e=0;e<t.length&&null!=n;++e)n=n[t[e]];return n},l=t.map((e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)})));return e.map((e=>({original:e,criteria:l.map((t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?s(t,e):"object"==typeof t?t[e]:t)(t,e)))}))).slice().sort(((e,t)=>{for(let i=0;i<l.length;i++){const a=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==a)return a}return 0})).map((e=>e.original))}},3403:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4200);t.property=function(e){return function(t){return r.get(t,e)}}},3412:(e,t,n)=>{e.exports=n(5012).range},3500:(e,t)=>{"use strict";function n(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},3667:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8202);t.sumBy=function(e,t){if(!e||!e.length)return 0;let n;null!=t&&(t=r.iteratee(t));for(let r=0;r<e.length;r++){const i=t?t(e[r]):e[r];void 0!==i&&(void 0===n?n=i:n+=i)}return n}},3844:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3964);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},3908:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3923:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9467);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},3964:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6012),a=n(2049),o=n(9184),s=n(2520),l=n(3908);function c(e,t,n,r=new Map,d=void 0){const h=d?.(e,t,n,r);if(void 0!==h)return h;if(s.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=c(e[i],i,n,r,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,a]of e)t.set(i,c(a,i,n,r,d));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(c(i,void 0,n,r,d));return t}if("undefined"!=typeof i&&i.isBuffer(e))return e.subarray();if(l.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=c(e[i],i,n,r,d);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof _SharedArrayBuffer&&e instanceof _SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),u(t,e,n,r,d),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),u(t,e,n,r,d),t}if("undefined"!=typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),u(t,e,n,r,d),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,u(t,e,n,r,d),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return r.set(e,t),u(t,e,n,r,d),t}if(e instanceof Number){const t=new Number(e.valueOf());return r.set(e,t),u(t,e,n,r,d),t}if(e instanceof String){const t=new String(e.valueOf());return r.set(e,t),u(t,e,n,r,d),t}if("object"==typeof e&&function(e){switch(a.getTag(e)){case o.argumentsTag:case o.arrayTag:case o.arrayBufferTag:case o.dataViewTag:case o.booleanTag:case o.dateTag:case o.float32ArrayTag:case o.float64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.mapTag:case o.numberTag:case o.objectTag:case o.regexpTag:case o.setTag:case o.stringTag:case o.symbolTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),u(t,e,n,r,d),t}return e}function u(e,t,n=e,i,a){const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],l=Object.getOwnPropertyDescriptor(e,s);(null==l||l.writable)&&(e[s]=c(t[s],s,n,i,a))}}t.cloneDeepWith=function(e,t){return c(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=c,t.copyProperties=u},3998:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1366),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!r.isSymbol(e))||"string"==typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e))}},4146:(e,t,n)=>{"use strict";var r=n(2751),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<o.length;++m){var A=o[m];if(!(a[A]||r&&r[A]||g&&g[A]||s&&s[A])){var y=h(n,A);try{c(t,A,y)}catch(e){}}}}return t}},4167:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9467),i=n(1621),a=n(7841),o=n(1875),s=n(5112),l=n(6166),c=n(8695);t.omit=function(e,...t){if(null==e)return{};const n=function(e,t){return t.some((e=>Array.isArray(e)||s.isDeepKey(e)))?function(e){const t={},n=[...i.keysIn(e),...o.getSymbolsIn(e)];for(let i=0;i<n.length;i++){const a=n[i];t[a]=r.cloneDeepWith(e[a],(e=>{if(!c.isPlainObject(e))return e}))}return t}(e):function(e){const t={},n=[...i.keysIn(e),...o.getSymbolsIn(e)];for(let r=0;r<n.length;r++){const i=n[r];t[i]=e[i]}return t}(e)}(e,t=l.flatten(t));for(let e=0;e<t.length;e++){let r=t[e];switch(typeof r){case"object":Array.isArray(r)||(r=Array.from(r));for(let e=0;e<r.length;e++){const t=r[e];a.unset(n,t)}break;case"string":case"symbol":case"number":a.unset(n,r)}}return n}},4200:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8193),i=n(5112),a=n(1465),o=n(3025);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const a=t[n];return void 0===a?i.isDeepKey(n)?e(t,o.toPath(n),s):s:a}case"number":case"symbol":{"number"==typeof n&&(n=a.toKey(n));const e=t[n];return void 0===e?s:e}default:{if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let e=0;e<t.length;e++){if(null==i)return n;if(r.isUnsafeProperty(t[e]))return n;i=i[t[e]]}return void 0===i?n:i}(t,n,s);if(n=Object.is(n?.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},4259:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3097),i=n(5711),a=n(316);t.sortBy=function(e,...t){const n=t.length;return n>1&&a.isIterateeCall(e,t[0],t[1])?t=[]:n>2&&a.isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),r.orderBy(e,i.flatten(t),["asc"])}},4297:(e,t,n)=>{e.exports=n(5259).throttle},4338:(e,t,n)=>{e.exports=n(5938).maxBy},4483:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},4569:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8919);t.toFinite=function(e){return e?(e=r.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}},4905:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},5012:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(316),i=n(4569);t.range=function(e,t,n){n&&"number"!=typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const a=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(a);for(let t=0;t<a;t++)o[t]=e,e+=n;return o}},5112:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},5259:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8);t.throttle=function(e,t=0,n={}){const{leading:i=!0,trailing:a=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5403:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrototype=function(e){const t=e?.constructor;return e===("function"==typeof t?t.prototype:Object.prototype)}},5442:t=>{"use strict";t.exports=e},5711:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e,t=1){const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)&&t<r?i(o,t+1):n.push(o)}};return i(e,0),n}},5938:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(334),i=n(6440),a=n(8202);t.maxBy=function(e,t){if(null!=e)return r.maxBy(Array.from(e),a.iteratee(t??i.identity))}},6003:e=>{"use strict";e.exports=t},6012:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)))}},6166:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(58);t.flatten=function(e,t=1){const n=[],i=Math.floor(t);if(!r.isArrayLike(e))return n;const a=(e,t)=>{for(let r=0;r<e.length;r++){const o=e[r];t<i&&(Array.isArray(o)||Boolean(o?.[Symbol.isConcatSpreadable])||null!==o&&"object"==typeof o&&"[object Arguments]"===Object.prototype.toString.call(o))?Array.isArray(o)?a(o,t+1):a(Array.from(o),t+1):n.push(o)}};return a(Array.from(e),0),n}},6440:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},6761:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},6773:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t,{signal:n,edges:r}={}){let i,a=null;const o=null!=r&&r.includes("leading"),s=null==r||r.includes("trailing"),l=()=>{null!==a&&(e.apply(i,a),i=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout((()=>{c=null,s&&l(),d()}),t)},d=()=>{null!==c&&(clearTimeout(c),c=null),i=void 0,a=null},h=function(...e){if(n?.aborted)return;i=this,a=e;const t=null==c;u(),o&&t&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},n?.addEventListener("abort",d,{once:!0}),h}},7324:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5112),i=n(8509),a=n(2984),o=n(3025);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"==typeof t&&r.isDeepKey(t)&&null==e?.[t]?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let e=0;e<n.length;e++){const t=n[e];if((null==s||!Object.hasOwn(s,t))&&!((Array.isArray(s)||a.isArguments(s))&&i.isIndex(t)&&t<s.length))return!1;s=s[t]}return!0}},7422:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4569);t.toInteger=function(e){const t=r.toFinite(e),n=t%1;return n?t-n:t}},7841:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4200),i=n(8193),a=n(5112),o=n(1465),s=n(3025);function l(e,t){const n=1===t.length?e:r.get(e,t.slice(0,-1)),a=t[t.length-1];if(void 0===n?.[a])return!0;if(i.isUnsafeProperty(a))return!1;try{return delete n[a],!0}catch{return!1}}t.unset=function(e,t){if(null==e)return!0;switch(typeof t){case"symbol":case"number":case"object":if(Array.isArray(t))return l(e,t);if("number"==typeof t?t=o.toKey(t):"object"==typeof t&&(t=Object.is(t?.valueOf(),-0)?"-0":String(t)),i.isUnsafeProperty(t))return!1;if(void 0===e?.[t])return!0;try{return delete e[t],!0}catch{return!1}case"string":if(void 0===e?.[t]&&a.isDeepKey(t))return l(e,s.toPath(t));if(i.isUnsafeProperty(t))return!1;try{return delete e[t],!0}catch{return!1}}}},7861:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(717),i=n(3844);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},8161:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(58),i=n(1846);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},8193:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},8202:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6440),i=n(3403),a=n(7861),o=n(3036);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},8240:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.minBy=function(e,t){if(0===e.length)return;let n=e[0],r=t(n);for(let i=1;i<e.length;i++){const a=e[i],o=t(a);o<r&&(r=o,n=a)}return n}},8273:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4905),i=n(2520),a=n(6761);function o(e,t,n,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return s(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries())if(!1===n(e.get(i),a,i,e,t,r))return!1;return!0}(e,t,n,r);if(t instanceof Set)return l(e,t,n,r);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(r?.has(t))return r.get(t)===e;r?.set(t,e);try{for(let o=0;o<a.length;o++){const s=a[o];if(!i.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r?.delete(t)}}(e,t,n,c);case"function":return Object.keys(t).length>0?o(e,{...t},n,c):a.eq(e,t);default:return r.isObject(e)?"string"!=typeof t||""===t:a.eq(e,t)}}function s(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const o=t[a];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],o,a,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function l(e,t,n,r){return 0===t.size||e instanceof Set&&s([...e],[...t],n,r)}t.isMatchWith=function e(t,n,r){return"function"!=typeof r?e(t,n,(()=>{})):o(t,n,(function e(t,n,i,a,s,l){const c=r(t,n,i,a,s,l);return void 0!==c?Boolean(c):o(t,n,e,l)}),new Map)},t.isSetMatch=l},8351:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,g=d(1286742750677284.5),m={};function A(e,t){var n,r,i,a,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?C(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),a>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/p|0,c[a]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?C(t,h):t}function y(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function v(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=_(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=_(n))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}m.absoluteValue=m.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},m.comparedTo=m.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},m.decimalPlaces=m.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},m.dividedBy=m.div=function(e){return b(this,new this.constructor(e))},m.dividedToIntegerBy=m.idiv=function(e){var t=this.constructor;return C(b(this,new t(e),0,1),t.precision)},m.equals=m.eq=function(e){return!this.cmp(e)},m.exponent=function(){return E(this)},m.greaterThan=m.gt=function(e){return this.cmp(e)>0},m.greaterThanOrEqualTo=m.gte=function(e){return this.cmp(e)>=0},m.isInteger=m.isint=function(){return this.e>this.d.length-2},m.isNegative=m.isneg=function(){return this.s<0},m.isPositive=m.ispos=function(){return this.s>0},m.isZero=function(){return 0===this.s},m.lessThan=m.lt=function(e){return this.cmp(e)<0},m.lessThanOrEqualTo=m.lte=function(e){return this.cmp(e)<1},m.logarithm=m.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=b(S(n,o),S(e,o),o),s=!0,C(t,a))},m.minus=m.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M(t,e):A(t,(e.s=-e.s,e))},m.modulo=m.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=b(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),i)},m.naturalExponential=m.exp=function(){return x(this)},m.naturalLogarithm=m.ln=function(){return S(this)},m.negated=m.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},m.plus=m.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):M(t,(e.s=-e.s,e))},m.precision=m.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=E(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},m.squareRoot=m.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=E(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=v(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=o=(n=u.precision)+3;;)if(r=(a=r).plus(b(c,a,o+2)).times(.5),v(a.d).slice(0,o)===(t=v(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(C(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,C(r,n)},m.times=m.mul=function(e){var t,n,r,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,g=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=g.length)&&(a=f,f=g,g=a,o=c,c=u,u=o),a=[],r=o=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+g[r]*f[i-r-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?C(e,h.precision):e},m.toDecimalPlaces=m.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(y(e,0,a),void 0===t?t=r.rounding:y(t,0,8),C(n,e+E(n)+1,t))},m.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=O(r,!0):(y(e,0,a),void 0===t?t=i.rounding:y(t,0,8),n=O(r=C(new i(r),e+1,t),!0,e+1)),n},m.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?O(i):(y(e,0,a),void 0===t?t=o.rounding:y(t,0,8),n=O((r=C(new o(i),e+E(i)+1,t)).abs(),!1,e+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},m.toInteger=m.toint=function(){var e=this,t=e.constructor;return C(new t(e),E(e)+1,t.rounding)},m.toNumber=function(){return+this},m.toPower=m.pow=function(e){var t,n,r,a,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return C(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=9007199254740991){for(a=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&T((a=a.times(u)).d,t),0!==(n=d(n/2));)T((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(a):C(a,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,a=e.times(S(u,r+12)),s=!0,(a=x(a)).s=o,a},m.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=O(i,(n=E(i))<=o.toExpNeg||n>=o.toExpPos):(y(e,1,a),void 0===t?t=o.rounding:y(t,0,8),r=O(i=C(new o(i),e,t),e<=(n=E(i))||n<=o.toExpNeg,e)),r},m.toSignificantDigits=m.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(y(e,1,a),void 0===t?t=n.rounding:y(t,0,8)),C(new n(this),e,t)},m.toString=m.valueOf=m.val=m.toJSON=function(){var e=this,t=E(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var b=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,c,u,d,h,f,g,m,A,y,v,b,x,w,_,S,I,M,O=r.constructor,T=r.s==i.s?1:-1,P=r.d,R=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,I=R.length,_=P.length,m=(g=new O(T)).d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--c,(b=null==a?a=O.precision:o?a+(E(r)-E(i))+1:a)<0)return new O(0);if(b=b/7+2|0,u=0,1==I)for(d=0,R=R[0],b++;(u<_||d)&&b--;u++)x=d*p+(P[u]||0),m[u]=x/R|0,d=x%R|0;else{for((d=p/(R[0]+1)|0)>1&&(R=e(R,d),P=e(P,d),I=R.length,_=P.length),w=I,y=(A=P.slice(0,I)).length;y<I;)A[y++]=0;(M=R.slice()).unshift(0),S=R[0],R[1]>=p/2&&++S;do{d=0,(s=t(R,A,I,y))<0?(v=A[0],I!=y&&(v=v*p+(A[1]||0)),(d=v/S|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(R,d),A,f=h.length,y=A.length))&&(d--,n(h,I<f?M:R,f))):(0==d&&(s=d=1),h=R.slice()),(f=h.length)<y&&h.unshift(0),n(A,h,y),-1==s&&(s=t(R,A,I,y=A.length))<1&&(d++,n(A,I<y?M:R,y)),y=A.length):0===s&&(d++,A=[0]),m[u++]=d,s&&A[0]?A[y++]=P[w]||0:(A=[P[w]],y=1)}while((w++<_||void 0!==A[0])&&b--)}return m[0]||m.shift(),g.e=c,C(g,o?a+E(g)+1:a)}}();function x(e,t){var n,r,a,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(E(e)>16)throw Error(u+E(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new f(i),f.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),v((o=a.plus(b(r,n,l))).d).slice(0,l)===v(a.d).slice(0,l)){for(;d--;)a=C(a.times(a),l);return f.precision=p,null==t?(s=!0,C(a,p)):a}a=o}}function E(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function w(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function S(e,t){var n,r,a,o,c,u,d,h,f,p=1,g=e,m=g.d,A=g.constructor,y=A.precision;if(g.s<1)throw Error(l+(g.s?"NaN":"-Infinity"));if(g.eq(i))return new A(0);if(null==t?(s=!1,h=y):h=t,g.eq(10))return null==t&&(s=!0),w(A,h);if(h+=10,A.precision=h,r=(n=v(m)).charAt(0),o=E(g),!(Math.abs(o)<15e14))return d=w(A,h+2,y).times(o+""),g=S(new A(r+"."+n.slice(1)),h-10).plus(d),A.precision=y,null==t?(s=!0,C(g,y)):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=v((g=g.times(e)).d)).charAt(0),p++;for(o=E(g),r>1?(g=new A("0."+n),o++):g=new A(r+"."+n.slice(1)),u=c=g=b(g.minus(i),g.plus(i),h),f=C(g.times(g),h),a=3;;){if(c=C(c.times(f),h),v((d=u.plus(b(c,new A(a),h))).d).slice(0,h)===v(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(w(A,h+2,y).times(o+""))),u=b(u,new A(p),h),A.precision=y,null==t?(s=!0,C(u,y)):u;u=d,a+=2}}function I(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,a,o,l,c,f,m,A=e.d;for(o=1,a=A[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,f=A[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=A.length))return e;for(f=a=A[m],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(l=f/(a=h(10,o-i-1))%10|0,c=t<0||void 0!==A[m+1]||f%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,o-i):0:A[m-1])%10&1||n==(e.s<0?8:7))),t<1||!A[0])return c?(a=E(e),A.length=1,t=t-a-1,A[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(0==r?(A.length=m,a=1,m--):(A.length=m+1,a=h(10,7-r),A[m]=i>0?(f/h(10,o-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(A[0]+=a)==p&&(A[0]=1,++e.e);break}if(A[m]+=a,A[m]!=p)break;A[m--]=0,a=1}for(r=A.length;0===A[--r];)A.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+E(e));return e}function M(e,t){var n,r,i,a,o,l,c,u,d,h,f=e.constructor,g=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?C(t,g):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(i=Math.max(Math.ceil(g/7),l)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?C(t,g):t):new f(0)}function O(e,t,n){var r,i=E(e),a=v(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+_(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_(-i-1)+a,n&&(r=n-o)>0&&(a+=_(r))):i>=o?(a+=_(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+_(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=_(r))),e.s<0?"-"+a:a}function T(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!=typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):I(t,e.toString())}if("string"!=typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);I(t,e)}if(a.prototype=m,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8485:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7422);t.times=function(e,t){if((e=r.toInteger(e))<1||!Number.isSafeInteger(e))return[];const n=new Array(e);for(let r=0;r<e;r++)n[r]="function"==typeof t?t(r):r;return n}},8493:(e,t,n)=>{"use strict";var r=n(5442),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),o((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},8509:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},8695:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},8805:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}},8919:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1366);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},9181:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},9184:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},9242:(e,t,n)=>{"use strict";e.exports=n(2162)},9467:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3964),i=n(9184);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,((n,a,o,s)=>{const l=t?.(n,a,o,s);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(e?.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}}))}},9888:(e,t,n)=>{"use strict";e.exports=n(8493)}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{"use strict";o.r(s),o.d(s,{Area:()=>uT,AreaChart:()=>HB,Bar:()=>zS,BarChart:()=>vR,Brush:()=>CC,CartesianAxis:()=>jM,CartesianGrid:()=>rO,Cell:()=>gv,ComposedChart:()=>JB,Cross:()=>fs,Curve:()=>ss,Customized:()=>Pb,DefaultLegendContent:()=>Ne,DefaultTooltipContent:()=>vo,DefaultZIndexes:()=>Xf,Dot:()=>jb,ErrorBar:()=>gP,Funnel:()=>Lk,FunnelChart:()=>jk,Global:()=>Ds,Label:()=>fb,LabelList:()=>Mb,Layer:()=>v,Legend:()=>fo,Line:()=>kO,LineChart:()=>AR,Pie:()=>yw,PieChart:()=>TR,PolarAngleAxis:()=>Yx,PolarGrid:()=>mx,PolarRadiusAxis:()=>Lx,Polygon:()=>Lb,Radar:()=>T_,RadarChart:()=>UB,RadialBar:()=>KI,RadialBarChart:()=>YB,Rectangle:()=>Xs,ReferenceArea:()=>xM,ReferenceDot:()=>dM,ReferenceLine:()=>tM,ResponsiveContainer:()=>Wi,Sankey:()=>BB,Scatter:()=>kT,ScatterChart:()=>QB,Sector:()=>fl,SunburstChart:()=>ck,Surface:()=>m,Symbols:()=>we,Text:()=>qv,Tooltip:()=>pv,Trapezoid:()=>bE,Treemap:()=>eB,XAxis:()=>WT,YAxis:()=>tP,ZAxis:()=>iP,ZIndexLayer:()=>ky,getNiceTickValues:()=>Uf,useActiveTooltipDataPoints:()=>Kw,useActiveTooltipLabel:()=>Hw,useChartHeight:()=>Zi,useChartWidth:()=>$i,useMargin:()=>ea,useOffset:()=>Gw,usePlotArea:()=>Vw,useXAxisDomain:()=>Ww,useYAxisDomain:()=>qw});var e={};o.r(e),o.d(e,{scaleBand:()=>_l,scaleDiverging:()=>ff,scaleDivergingLog:()=>pf,scaleDivergingPow:()=>mf,scaleDivergingSqrt:()=>Af,scaleDivergingSymlog:()=>gf,scaleIdentity:()=>cu,scaleImplicit:()=>El,scaleLinear:()=>lu,scaleLog:()=>yu,scaleOrdinal:()=>wl,scalePoint:()=>Il,scalePow:()=>Cu,scaleQuantile:()=>Nu,scaleQuantize:()=>ju,scaleRadial:()=>Tu,scaleSequential:()=>of,scaleSequentialLog:()=>sf,scaleSequentialPow:()=>cf,scaleSequentialQuantile:()=>df,scaleSequentialSqrt:()=>uf,scaleSequentialSymlog:()=>lf,scaleSqrt:()=>Mu,scaleSymlog:()=>Eu,scaleThreshold:()=>Uu,scaleTime:()=>tf,scaleUtc:()=>nf,tickFormat:()=>ou});var t=o(5442);function n(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=n(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function r(){for(var e,t,r=0,i="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}var i=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function a(e){return"string"==typeof e&&i.includes(e)}var l=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function c(e){return"string"==typeof e&&l.has(e)}function u(e){return"string"==typeof e&&e.startsWith("data-")}function d(e){if("object"!=typeof e||null===e)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(c(n)||u(n))&&(t[n]=e[n]);return t}function h(e){return null==e?null:(0,t.isValidElement)(e)&&"object"==typeof e.props&&null!==e.props?d(e.props):"object"!=typeof e||Array.isArray(e)?null:d(e)}function f(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(c(n)||u(n)||a(n))&&(t[n]=e[n]);return t}var p=["children","width","height","viewBox","className","style","title","desc"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(null,arguments)}var m=(0,t.forwardRef)(((e,n)=>{var{children:i,width:a,height:o,viewBox:s,className:l,style:c,title:u,desc:d}=e,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,p),m=s||{width:a,height:o,x:0,y:0},A=r("recharts-surface",l);return t.createElement("svg",g({},f(h),{className:A,width:a,height:o,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:n}),t.createElement("title",null,u),t.createElement("desc",null,d),i)})),A=["children","className"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(null,arguments)}var v=t.forwardRef(((e,n)=>{var{children:i,className:a}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,A),s=r("recharts-layer",a);return t.createElement("g",y({className:s},f(o),{ref:n}),i)})),b=o(6003),x=(0,t.createContext)(null),E=()=>(0,t.useContext)(x);Math.abs,Math.atan2;const w=Math.cos,_=(Math.max,Math.min,Math.sin),S=Math.sqrt,I=Math.PI,C=2*I,M={draw(e,t){const n=S(t/I);e.moveTo(n,0),e.arc(0,0,n,0,C)}},O={draw(e,t){const n=S(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},T=S(1/3),P=2*T,R={draw(e,t){const n=S(t/P),r=n*T;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},B={draw(e,t){const n=S(t),r=-n/2;e.rect(r,r,n,n)}},k=_(I/10)/_(7*I/10),D=_(C/10)*k,L=-w(C/10)*k,N={draw(e,t){const n=S(.8908130915292852*t),r=D*n,i=L*n;e.moveTo(0,-n),e.lineTo(r,i);for(let t=1;t<5;++t){const a=C*t/5,o=w(a),s=_(a);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},j=S(3),U={draw(e,t){const n=-S(t/(3*j));e.moveTo(0,2*n),e.lineTo(-j*n,-n),e.lineTo(j*n,-n),e.closePath()}},F=-.5,Q=S(3)/2,z=1/S(12),H=3*(z/2+1),G={draw(e,t){const n=S(t/H),r=n/2,i=n*z,a=r,o=n*z+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(F*r-Q*i,Q*r+F*i),e.lineTo(F*a-Q*o,Q*a+F*o),e.lineTo(F*s-Q*l,Q*s+F*l),e.lineTo(F*r+Q*i,F*i-Q*r),e.lineTo(F*a+Q*o,F*o-Q*a),e.lineTo(F*s+Q*l,F*l-Q*s),e.closePath()}};function V(e){return function(){return e}}const K=Math.PI,W=2*K,q=1e-6,Y=W-q;function X(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class J{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?X:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>q)if(Math.abs(u*s-l*c)>q&&i){let h=n-a,f=r-o,p=s*s+l*l,g=h*h+f*f,m=Math.sqrt(p),A=Math.sqrt(d),y=i*Math.tan((K-Math.acos((p+d-g)/(2*m*A)))/2),v=y/A,b=y/m;Math.abs(v-1)>q&&this._append`L${e+v*c},${t+v*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+b*s},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>q||Math.abs(this._y1-c)>q)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%W+W),d>Y?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>q&&this._append`A${n},${n},0,${+(d>=K)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function $(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new J(t)}S(3),S(3);var Z=o(305),ee=o.n(Z),te=e=>0===e?0:e>0?1:-1,ne=e=>"number"==typeof e&&e!=+e,re=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,ie=e=>("number"==typeof e||e instanceof Number)&&!ne(e),ae=e=>ie(e)||"string"==typeof e,oe=0,se=e=>{var t=++oe;return"".concat(e||"").concat(t)},le=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ie(e)&&"string"!=typeof e)return r;if(re(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return ne(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},ce=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function ue(e,t,n){return ie(e)&&ie(t)?e+n*(t-e):t}function de(e,t,n){if(e&&e.length)return e.find((e=>e&&("function"==typeof t?t(e):ee()(e,t))===n))}var he=e=>null==e,fe=e=>he(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function pe(e){return null!=e}function ge(){}var me=["type","size","sizeType"];function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(null,arguments)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe={symbolCircle:M,symbolCross:O,symbolDiamond:R,symbolSquare:B,symbolStar:N,symbolTriangle:U,symbolWye:G},Ee=Math.PI/180,we=e=>{var{type:n="circle",size:i=64,sizeType:a="area"}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,me),s=ve(ve({},o),{},{type:n,size:i,sizeType:a}),l="circle";"string"==typeof n&&(l=n);var{className:c,cx:u,cy:d}=s,h=f(s);return ie(u)&&ie(d)&&ie(i)?t.createElement("path",Ae({},h,{className:r("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:(()=>{var e=(e=>{var t="symbol".concat(fe(e));return xe[t]||M})(l),t=function(e,t){let n=null,r=$(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:V(e||M),t="function"==typeof t?t:V(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:V(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:V(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Ee;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(i,a,l)),n=t();if(null!==n)return n})()})):null};we.registerSymbol=(e,t)=>{xe["symbol".concat(fe(e))]=t};var _e=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Se=(e,n)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var i={};return Object.keys(r).forEach((e=>{a(e)&&(i[e]=n||(t=>r[e](r,t)))})),i},Ie=(e,t,n)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var r=null;return Object.keys(e).forEach((i=>{var o=e[i];a(i)&&"function"==typeof o&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(o,t,n))})),r};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r=t;return Object.keys(t).reduce(((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e)),n)}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(null,arguments)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be=32,ke={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function De(e){var n,{data:r,iconType:i,inactiveColor:a}=e,o=16,s=Be/6,l=Be/3,c=r.inactive?a:r.color,u=null!=i?i:r.type;if("none"===u)return null;if("plainline"===u)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(n=r.payload)||void 0===n?void 0:n.strokeDasharray,x1:0,y1:o,x2:Be,y2:o,className:"recharts-legend-icon"});if("line"===u)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,"\n            H").concat(Be,"M").concat(2*l,",").concat(o,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if("rect"===u)return t.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(Be,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(r.legendIcon)){var d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r);return delete d.legendIcon,t.cloneElement(r.legendIcon,d)}return t.createElement(we,{fill:c,cx:o,cy:o,size:Be,sizeType:"diameter",type:u})}function Le(e){var{payload:n,iconSize:i,layout:a,formatter:o,inactiveColor:s,iconType:l}=e,c={x:0,y:0,width:Be,height:Be},u={display:"horizontal"===a?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(((n,a)=>{var h=n.formatter||o,f=r({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:n.inactive});if("none"===n.type)return null;var p=n.inactive?s:n.color,g=h?h(n.value,n,a):n.value;return t.createElement("li",Te({className:f,style:u,key:"legend-item-".concat(a)},Ie(e,n,a)),t.createElement(m,{width:i,height:i,viewBox:c,style:d,"aria-label":"".concat(g," legend icon")},t.createElement(De,{data:n,iconType:l,inactiveColor:s})),t.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))}))}var Ne=e=>{var n=Oe(e,ke),{payload:r,layout:i,align:a}=n;if(!r||!r.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===i?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:o},t.createElement(Le,Te({},n,{payload:r})))},je=o(1081),Ue=o.n(je);function Fe(e,t,n){return!0===t?Ue()(e,n):"function"==typeof t?Ue()(e,t):e}var Qe=o(9242),ze=(0,t.createContext)(null),He=e=>e,Ge=()=>{var e=(0,t.useContext)(ze);return e?e.store.dispatch:He},Ve=()=>{},Ke=()=>Ve,We=(e,t)=>e===t;function qe(e){var n=(0,t.useContext)(ze);return(0,Qe.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:Ke,n?n.store.getState:Ve,n?n.store.getState:Ve,n?e:Ve,We)}var Ye=e=>Array.isArray(e)?e:[e];Symbol(),Object.getPrototypeOf({});var Xe="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Je(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){const e=i?.deref?.()??i;null!=e&&r(e,l)&&(l=e,0!==a&&a--),i="object"==typeof l&&null!==l||"function"==typeof l?new Xe(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}var $e=function(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,i=0,a={},o=e.pop();"object"==typeof o&&(a=o,o=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);const s={...n,...a},{memoize:l,memoizeOptions:c=[],argsMemoize:u=Je,argsMemoizeOptions:d=[],devModeChecks:h={}}=s,f=Ye(c),p=Ye(d),g=function(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),m=l((function(){return r++,o.apply(null,arguments)}),...f),A=u((function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(g,arguments);return t=m.apply(null,e),t}),...p);return Object.assign(A,{resultFunc:o,memoizedResultFunc:m,dependencies:g,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}(Je),Ze=Object.assign(((e,t=$e)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})));return r}),{withTypes:()=>Ze}),et=o(184),tt=o.n(et),nt=e=>e.legend.settings,rt=$e([e=>e.legend.payload,nt],((e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?tt()(r,n):r})),it=1;function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),i=(0,t.useCallback)((e=>{if(null!=e){var t=e.getBoundingClientRect(),i={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(i.height-n.height)>it||Math.abs(i.left-n.left)>it||Math.abs(i.top-n.top)>it||Math.abs(i.width-n.width)>it)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}}),[n.width,n.height,n.top,n.left,...e]);return[n,i]}function ot(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function st(e){return!!e&&!!e[Wt]}function lt(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===qt}(e)||Array.isArray(e)||!!e[Kt]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Kt])||pt(e)||gt(e))}function ct(e,t,n){void 0===n&&(n=!1),0===ut(e)?(n?Object.keys:Yt)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function ut(e){var t=e[Wt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:pt(e)?2:gt(e)?3:0}function dt(e,t){return 2===ut(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ht(e,t,n){var r=ut(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function ft(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function pt(e){return zt&&e instanceof Map}function gt(e){return Ht&&e instanceof Set}function mt(e){return e.o||e.t}function At(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Xt(e);delete t[Wt];for(var n=Yt(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function yt(e,t){return void 0===t&&(t=!1),bt(e)||st(e)||!lt(e)||(ut(e)>1&&(e.set=e.add=e.clear=e.delete=vt),Object.freeze(e),t&&ct(e,(function(e,t){return yt(t,!0)}),!0)),e}function vt(){ot(2)}function bt(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function xt(e){var t=Jt[e];return t||ot(18,e),t}function Et(){return Ft}function wt(e,t){t&&(xt("Patches"),e.u=[],e.s=[],e.v=t)}function _t(e){St(e),e.p.forEach(Ct),e.p=null}function St(e){e===Ft&&(Ft=e.l)}function It(e){return Ft={p:[],l:Ft,h:e,m:!0,_:0}}function Ct(e){var t=e[Wt];0===t.i||1===t.i?t.j():t.g=!0}function Mt(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||xt("ES5").S(t,e,r),r?(n[Wt].P&&(_t(t),ot(4)),lt(e)&&(e=Ot(t,e),t.l||Pt(t,e)),t.u&&xt("Patches").M(n[Wt].t,e,t.u,t.s)):e=Ot(t,n,[]),_t(t),t.u&&t.v(t.u,t.s),e!==Vt?e:void 0}function Ot(e,t,n){if(bt(t))return t;var r=t[Wt];if(!r)return ct(t,(function(i,a){return Tt(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Pt(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=At(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),ct(a,(function(t,a){return Tt(e,r,i,t,a,n,o)})),Pt(e,i,!1),n&&e.u&&xt("Patches").N(r,n,e.u,e.s)}return r.o}function Tt(e,t,n,r,i,a,o){if(st(i)){var s=Ot(e,i,a&&t&&3!==t.i&&!dt(t.R,r)?a.concat(r):void 0);if(ht(n,r,s),!st(s))return;e.m=!1}else o&&n.add(i);if(lt(i)&&!bt(i)){if(!e.h.D&&e._<1)return;Ot(e,i),t&&t.A.l||Pt(e,i)}}function Pt(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&yt(t,n)}function Rt(e,t){var n=e[Wt];return(n?mt(n):e)[t]}function Bt(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function kt(e){e.P||(e.P=!0,e.l&&kt(e.l))}function Dt(e){e.o||(e.o=At(e.t))}function Lt(e,t,n){var r=pt(t)?xt("MapSet").F(t,n):gt(t)?xt("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Et(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=$t;n&&(i=[r],a=Zt);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):xt("ES5").J(t,n);return(n?n.A:Et()).p.push(r),r}function Nt(e){return st(e)||ot(22,e),function e(t){if(!lt(t))return t;var n,r=t[Wt],i=ut(t);if(r){if(!r.P&&(r.i<4||!xt("ES5").K(r)))return r.t;r.I=!0,n=jt(t,i),r.I=!1}else n=jt(t,i);return ct(n,(function(t,i){r&&function(e,t){return 2===ut(e)?e.get(t):e[t]}(r.t,t)===i||ht(n,t,e(i))})),3===i?new Set(n):n}(e)}function jt(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return At(e)}var Ut,Ft,Qt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),zt="undefined"!=typeof Map,Ht="undefined"!=typeof Set,Gt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Vt=Qt?Symbol.for("immer-nothing"):((Ut={})["immer-nothing"]=!0,Ut),Kt=Qt?Symbol.for("immer-draftable"):"__$immer_draftable",Wt=Qt?Symbol.for("immer-state"):"__$immer_state",qt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Yt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Xt=Object.getOwnPropertyDescriptors||function(e){var t={};return Yt(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Jt={},$t={get:function(e,t){if(t===Wt)return e;var n=mt(e);if(!dt(n,t))return function(e,t,n){var r,i=Bt(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!lt(r)?r:r===Rt(e.t,t)?(Dt(e),e.o[t]=Lt(e.A.h,r,e)):r},has:function(e,t){return t in mt(e)},ownKeys:function(e){return Reflect.ownKeys(mt(e))},set:function(e,t,n){var r=Bt(mt(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Rt(mt(e),t),a=null==i?void 0:i[Wt];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(ft(n,i)&&(void 0!==n||dt(e.t,t)))return!0;Dt(e),kt(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Rt(e.t,t)||t in e.t?(e.R[t]=!1,Dt(e),kt(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=mt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){ot(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ot(12)}},Zt={};ct($t,(function(e,t){Zt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Zt.deleteProperty=function(e,t){return Zt.set.call(this,e,t,void 0)},Zt.set=function(e,t,n){return $t.set.call(this,e[0],t,n,e[0])};var en=function(){function e(e){var t=this;this.O=Gt,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&ot(6),void 0!==r&&"function"!=typeof r&&ot(7),lt(e)){var s=It(t),l=Lt(t,e,void 0),c=!0;try{o=n(l),c=!1}finally{c?_t(s):St(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return wt(s,r),Mt(e,s)}),(function(e){throw _t(s),e})):(wt(s,r),Mt(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Vt&&(o=void 0),t.D&&yt(o,!0),r){var u=[],d=[];xt("Patches").M(e,o,u,d),r(u,d)}return o}ot(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){lt(e)||ot(8),st(e)&&(e=Nt(e));var t=It(this),n=Lt(this,e,void 0);return n[Wt].C=!0,St(t),n},t.finishDraft=function(e,t){var n=(e&&e[Wt]).A;return wt(n,t),Mt(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Gt&&ot(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=xt("Patches").$;return st(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),tn=new en,nn=tn.produce;tn.produceWithPatches.bind(tn),tn.setAutoFreeze.bind(tn),tn.setUseProxies.bind(tn),tn.applyPatches.bind(tn),tn.createDraft.bind(tn),tn.finishDraft.bind(tn);const rn=nn;function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function on(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=an(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=an(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==an(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var un="function"==typeof Symbol&&Symbol.observable||"@@observable",dn=function(){return Math.random().toString(36).substring(7).split("").join(".")},hn={INIT:"@@redux/INIT"+dn(),REPLACE:"@@redux/REPLACE"+dn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+dn()}};function fn(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(cn(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(cn(1));return n(fn)(e,t)}if("function"!=typeof e)throw new Error(cn(2));var i=e,a=t,o=[],s=o,l=!1;function c(){s===o&&(s=o.slice())}function u(){if(l)throw new Error(cn(3));return a}function d(e){if("function"!=typeof e)throw new Error(cn(4));if(l)throw new Error(cn(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(cn(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(cn(7));if(void 0===e.type)throw new Error(cn(8));if(l)throw new Error(cn(9));try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++)(0,t[n])();return e}return h({type:hn.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(cn(10));i=e,h({type:hn.REPLACE})}})[un]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(cn(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[un]=function(){return this},e},r}function pn(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:hn.INIT}))throw new Error(cn(12));if(void 0===n(void 0,{type:hn.PROBE_UNKNOWN_ACTION()}))throw new Error(cn(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var l=o[s],c=n[l],u=e[l],d=c(u,t);if(void 0===d)throw t&&t.type,new Error(cn(14));i[l]=d,r=r||d!==u}return(r=r||o.length!==Object.keys(e).length)?i:e}}function gn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function mn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(cn(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=gn.apply(void 0,a)(n.dispatch),ln(ln({},n),{},{dispatch:r})}}}function An(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var yn=An();yn.withExtraArgument=An;const vn=yn;var bn,xn=(bn=function(e,t){return bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},bn(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}bn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),En=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},wn=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},_n=Object.defineProperty,Sn=Object.defineProperties,In=Object.getOwnPropertyDescriptors,Cn=Object.getOwnPropertySymbols,Mn=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable,Tn=function(e,t,n){return t in e?_n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Pn=function(e,t){for(var n in t||(t={}))Mn.call(t,n)&&Tn(e,n,t[n]);if(Cn)for(var r=0,i=Cn(t);r<i.length;r++)n=i[r],On.call(t,n)&&Tn(e,n,t[n]);return e},Rn=function(e,t){return Sn(e,In(t))},Bn=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(e){i(e)}},o=function(e){try{s(n.throw(e))}catch(e){i(e)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},kn="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?gn:gn.apply(null,arguments)};function Dn(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function Ln(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Pn(Pn({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Nn=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return xn(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,wn([void 0],e[0].concat(this)))):new(t.bind.apply(t,wn([void 0],e.concat(this))))},t}(Array),jn=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return xn(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,wn([void 0],e[0].concat(this)))):new(t.bind.apply(t,wn([void 0],e.concat(this))))},t}(Array);function Un(e){return lt(e)?rn(e,(function(){})):e}function Fn(e){var t,n=function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new Nn);return n&&(function(e){return"boolean"==typeof e}(n)?r.push(vn):r.push(vn.withExtraArgument(n.extraArgument))),r}(e)},r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,h=r.enhancers,f=void 0===h?void 0:h;if("function"==typeof a)t=a;else{if(!Dn(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=pn(a)}var p=s;"function"==typeof p&&(p=p(n));var g=mn.apply(void 0,p),m=gn;c&&(m=kn(Pn({trace:!1},"object"==typeof c&&c)));var A=new jn(g),y=A;return Array.isArray(f)?y=wn([g],f):"function"==typeof f&&(y=f(A)),fn(t,d,m.apply(void 0,y))}function Qn(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function zn(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Un(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},l={};function c(){var t="function"==typeof e.extraReducers?Qn(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,l=t[2],c=void 0===l?void 0:l,u=Pn(Pn({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a=Qn(t),o=a[0],s=a[1],l=a[2];if(function(e){return"function"==typeof e}(e))i=function(){return Un(e())};else{var c=Un(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=wn([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(st(e))return void 0===(r=n(e,t))?e:r;if(lt(e))return rn(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,l[e]=r?Ln(c,r):Ln(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var Hn=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Gn=["name","message","stack","code"],Vn=function(e,t){this.payload=e,this.meta=t},Kn=function(e,t){this.payload=e,this.meta=t},Wn=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=Gn;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function qn(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}!function(){function e(e,t,n){var r=Ln(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Rn(Pn({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Ln(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Rn(Pn({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Ln(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Wn)(e||"Rejected"),meta:Rn(Pn({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(s,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Hn(),h=new o;function f(e){u=e,h.abort()}var p=function(){return Bn(this,null,(function(){var o,p,g,m,A,y;return En(this,(function(v){switch(v.label){case 0:return v.trys.push([0,4,,5]),function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}(m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:l,extra:c}))?[4,m]:[3,2];case 1:m=v.sent(),v.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return A=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),s(i(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([A,Promise.resolve(t(e,{dispatch:s,getState:l,extra:c,requestId:d,signal:h.signal,abort:f,rejectWithValue:function(e,t){return new Vn(e,t)},fulfillWithValue:function(e,t){return new Kn(e,t)}})).then((function(t){if(t instanceof Vn)throw t;return t instanceof Kn?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return g=v.sent(),[3,5];case 4:return y=v.sent(),g=y instanceof Vn?a(null,d,e,y.payload,y.meta):a(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(g)&&g.meta.condition||s(g),[2,g]}}))}))}();return Object.assign(p,{abort:f,requestId:d,arg:e,unwrap:function(){return p.then(qn)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();var Yn=function(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function")},Xn=function(){},Jn=function(e,t){return void 0===t&&(t=Xn),e.catch(t),e},$n=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Zn=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},er="listener",tr="completed",nr="cancelled",rr="task-"+nr,ir="task-"+tr,ar=er+"-"+nr,or=er+"-"+tr,sr=function(e){this.code=e,this.name="TaskAbortError",this.message="task "+nr+" (reason: "+e+")"},lr=function(e){if(e.aborted)throw new sr(e.reason)};function cr(e,t){var n=Xn;return new Promise((function(r,i){var a=function(){return i(new sr(e.reason))};e.aborted?a():(n=$n(e,a),t.finally((function(){return n()})).then(r,i))})).finally((function(){n=Xn}))}var ur=function(e){return function(t){return Jn(cr(e,t).then((function(t){return lr(e),t})))}},dr=function(e){var t=ur(e);return function(e){return t(new Promise((function(t){return setTimeout(t,e)})))}},hr=Object.assign,fr={},pr="listenerMiddleware",gr=function(e,t){return function(n,r){Yn(n,"taskExecutor");var i,a=new AbortController;i=a,$n(e,(function(){return Zn(i,e.reason)}));var o,s,l=(o=function(){return Bn(void 0,null,(function(){var t;return En(this,(function(r){switch(r.label){case 0:return lr(e),lr(a.signal),[4,n({pause:ur(a.signal),delay:dr(a.signal),signal:a.signal})];case 1:return t=r.sent(),lr(a.signal),[2,t]}}))}))},s=function(){return Zn(a,ir)},Bn(void 0,null,(function(){var e;return En(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return t.sent(),[4,o()];case 2:return[2,{status:"ok",value:t.sent()}];case 3:return[2,{status:(e=t.sent())instanceof sr?"cancelled":"rejected",error:e}];case 4:return null==s||s(),[7];case 5:return[2]}}))})));return(null==r?void 0:r.autoJoin)&&t.push(l),{result:ur(e)(l),cancel:function(){Zn(a,rr)}}}},mr=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,a=e.effect;if(t)i=Ln(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Yn(a,"options.listener"),{predicate:i,type:t,effect:a}},Ar=function(e){e.pending.forEach((function(e){Zn(e,ar)}))},yr=function(e,t,n){try{e(t,n)}catch(e){setTimeout((function(){throw e}),0)}},vr=Ln(pr+"/add"),br=Ln(pr+"/removeAll"),xr=Ln(pr+"/remove"),Er=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]};function wr(e){var t=this;void 0===e&&(e={});var n=new Map,r=e.extra,i=e.onError,a=void 0===i?Er:i;Yn(a,"onError");var o=function(e){for(var t=0,r=Array.from(n.values());t<r.length;t++){var i=r[t];if(e(i))return i}},s=function(e){var t=o((function(t){return t.effect===e.effect}));return t||(t=function(e){var t=mr(e),n=t.type,r=t.predicate,i=t.effect;return{id:Hn(),effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}}(e)),function(e){return e.unsubscribe=function(){return n.delete(e.id)},n.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&Ar(e)}}(t)},l=function(e){var t=mr(e),n=t.type,r=t.effect,i=t.predicate,a=o((function(e){return("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r}));return a&&(a.unsubscribe(),e.cancelActive&&Ar(a)),!!a},c=function(e,i,o,l){return Bn(t,null,(function(){var t,c,u,d;return En(this,(function(h){switch(h.label){case 0:t=new AbortController,c=function(e,t){return function(n,r){return Jn(function(n,r){return Bn(void 0,null,(function(){var i,a,o,s;return En(this,(function(l){switch(l.label){case 0:lr(t),i=function(){},a=new Promise((function(t,r){var a=e({predicate:n,effect:function(e,n){n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=function(){a(),r()}})),o=[a],null!=r&&o.push(new Promise((function(e){return setTimeout(e,r,null)}))),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,cr(t,Promise.race(o))];case 2:return s=l.sent(),lr(t),[2,s];case 3:return i(),[7];case 4:return[2]}}))}))}(n,r))}}(s,t.signal),u=[],h.label=1;case 1:return h.trys.push([1,3,4,6]),e.pending.add(t),[4,Promise.resolve(e.effect(i,hr({},o,{getOriginalState:l,condition:function(e,t){return c(e,t).then(Boolean)},take:c,delay:dr(t.signal),pause:ur(t.signal),extra:r,signal:t.signal,fork:gr(t.signal,u),unsubscribe:e.unsubscribe,subscribe:function(){n.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach((function(e,n,r){e!==t&&(Zn(e,ar),r.delete(e))}))}})))];case 2:return h.sent(),[3,6];case 3:return(d=h.sent())instanceof sr||yr(a,d,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(u)];case 5:return h.sent(),Zn(t,or),e.pending.delete(t),[7];case 6:return[2]}}))}))},u=function(e){return function(){e.forEach(Ar),e.clear()}}(n);return{middleware:function(e){return function(t){return function(r){if(!function(e){return Dn(e)&&"type"in e}(r))return t(r);if(vr.match(r))return s(r.payload);if(!br.match(r)){if(xr.match(r))return l(r.payload);var i,o=e.getState(),d=function(){if(o===fr)throw new Error(pr+": getOriginalState can only be called synchronously");return o};try{if(i=t(r),n.size>0)for(var h=e.getState(),f=Array.from(n.values()),p=0,g=f;p<g.length;p++){var m=g[p],A=!1;try{A=m.predicate(r,h,o)}catch(e){A=!1,yr(a,e,{raisedBy:"predicate"})}A&&c(m,r,e,d)}}finally{o=fr}return i}u()}}},startListening:s,stopListening:l,clearListeners:u}}var _r,Sr="RTK_autoBatch",Ir=function(){return function(e){var t;return{payload:e,meta:(t={},t[Sr]=!0,t)}}},Cr="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:void 0!==o.g?o.g:globalThis):function(e){return(_r||(_r=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},Mr=function(e){return function(t){setTimeout(t,e)}},Or="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Mr(10);!function(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Wt];return $t.get(t,e)},set:function(t){var n=this[Wt];$t.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Wt];if(!i.P)switch(i.i){case 5:r(i)&&kt(i);break;case 4:n(i)&&kt(i)}}}function n(e){for(var t=e.t,n=e.k,r=Yt(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Wt){var o=t[a];if(void 0===o&&!dt(t,a))return!0;var s=n[a],l=s&&s[Wt];if(l?l.t!==o:!ft(s,o))return!0}}var c=!!t[Wt];return r.length!==Yt(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};!function(e,t){Jt[e]||(Jt[e]=t)}("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Xt(n);delete a[Wt];for(var o=Yt(a),s=0;s<o.length;s++){var l=o[s];a[l]=e(l,t||!!a[l].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Et(),P:!1,I:!1,R:{},l:n,t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Wt,{value:a,writable:!0}),i},S:function(e,n,i){i?st(n)&&n[Wt].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Wt];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)ct(a,(function(t){t!==Wt&&(void 0!==i[t]||dt(i,t)?o[t]||e(a[t]):(o[t]=!0,kt(n)))})),ct(i,(function(e){void 0!==a[e]||dt(a,e)||(o[e]=!1,kt(n))}));else if(5===s){if(r(n)&&(kt(n),o.length=!0),a.length<i.length)for(var l=a.length;l<i.length;l++)o[l]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var u=Math.min(a.length,i.length),d=0;d<u;d++)a.hasOwnProperty(d)||(o[d]=!0),void 0===o[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}();var Tr=zn({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Pr,setLayout:Rr,setChartSize:Br,setScale:kr}=Tr.actions,Dr=Tr.reducer;function Lr(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Nr(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function jr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ur(e,t){return e[t]}function Fr(e){const t=[];return t.key=e,t}function Qr(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){Gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vr(e,t,n){return he(e)||he(t)?n:ae(t)?ee()(e,t,n):"function"==typeof t?t(e):n}Array.prototype.slice;var Kr=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Wr=(e,t,n,r)=>{if(r)return e.map((e=>e.coordinate));var i,a,o=e.map((e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate)));return i||o.push(t),a||o.push(n),o},qr=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,g=(t||n)&&"category"===i&&o.bandwidth?o.bandwidth()/p:0;return g="angleAxis"===f&&a&&a.length>=2?2*te(a[0]-a[1])*g:g,t&&(d||h)?(d||h||[]).map(((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+g,value:e,offset:g,index:t}})).filter((e=>!ne(e.coordinate))):l&&c?c.map(((e,t)=>({coordinate:o(e)+g,value:e,index:t,offset:g}))):o.ticks&&!n&&null!=u?o.ticks(u).map(((e,t)=>({coordinate:o(e)+g,value:e,offset:g,index:t}))):o.domain().map(((e,t)=>({coordinate:o(e)+g,value:r?r[e]:e,index:t,offset:g})))},Yr=1e-4,Xr=(e,t)=>{if(!t||2!==t.length||!ie(t[0])||!ie(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ie(e[0])||e[0]<n)&&(i[0]=n),(!ie(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Jr={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=ne(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}Lr(e,t)}},none:Lr,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}Lr(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,Lr(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=ne(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},$r=(e,t,n)=>{var r=Jr[n],i=function(){var e=V([]),t=jr,n=Lr,r=Ur;function i(i){var a,o,s=Array.from(e.apply(this,arguments),Fr),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=Nr(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:V(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:V(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?jr:"function"==typeof e?e:V(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Lr:e,i):n},i}().keys(t).value(((e,t)=>Number(Vr(e,t,0)))).order(jr).offset(r);return i(e)};function Zr(e){return null==e?void 0:String(e)}function ei(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!he(i[t.dataKey])){var s=de(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Vr(i,he(o)?t.dataKey:o);return he(l)?null:t.scale(l)}var ti=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=Vr(a,t.dataKey,t.scale.domain()[o]);return he(s)?null:t.scale(s)-i/2+r},ni=e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},ri=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ii=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ai=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=tt()(t,(e=>e.coordinate)),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function oi(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Hr(Hr({},t),{},{dataKey:n,payload:r,value:i,name:a})}function si(e,t){return e?String(e):"string"==typeof t?t:void 0}var li=e=>e.layout.width,ci=e=>e.layout.height,ui=e=>e.layout.scale,di=e=>e.layout.margin,hi=$e((e=>e.cartesianAxis.xAxis),(e=>Object.values(e))),fi=$e((e=>e.cartesianAxis.yAxis),(e=>Object.values(e))),pi=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],gi="data-recharts-item-index",mi="data-recharts-item-data-key";function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi=$e([li,ci,di,e=>e.brush.height,function(e){return fi(e).reduce(((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60)),0)},function(e){return fi(e).reduce(((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60)),0)},function(e){return hi(e).reduce(((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height),0)},function(e){return hi(e).reduce(((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height),0)},nt,e=>e.legend.size],((e,t,n,r,i,a,o,s,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},d=yi(yi({},{top:(n.top||0)+o,bottom:(n.bottom||0)+s}),u),h=d.bottom;d.bottom+=r,d=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&ie(e[a]))return Hr(Hr({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&ie(e[o]))return Hr(Hr({},e),{},{[o]:e[o]+(i||0)})}return e})(d,l,c);var f=e-d.left-d.right,p=t-d.top-d.bottom;return yi(yi({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})})),xi=$e(bi,(e=>({x:e.left,y:e.top,width:e.width,height:e.height}))),Ei=$e(li,ci,((e,t)=>({x:0,y:0,width:e,height:t}))),wi=(0,t.createContext)(null),_i=()=>null!=(0,t.useContext)(wi),Si=e=>{var{children:n}=e;return t.createElement(wi.Provider,{value:!0},n)},Ii=e=>e.brush,Ci=$e([Ii,bi,di],((e,t,n)=>({height:e.height,x:ie(e.x)?e.x:t.left,y:ie(e.y)?e.y:t.top+t.height+t.brushBottom-((null==n?void 0:n.bottom)||0),width:ie(e.width)?e.width:t.width}))),Mi=o(4297),Oi=o.n(Mi),Ti=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},Pi=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,s=re(r)?e:Number(r),l=re(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&null!=l&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},Ri={width:0,height:0,overflow:"visible"},Bi={width:0,overflowX:"visible"},ki={height:0,overflowY:"visible"},Di={},Li=e=>{var{width:t,height:n}=e,r=re(t),i=re(n);return r&&i?Ri:r?Bi:i?ki:Di};function Ni(e){return Number.isFinite(e)}function ji(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ui.apply(null,arguments)}function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hi=(0,t.createContext)({width:-1,height:-1});function Gi(e){var{children:n,width:r,height:i}=e,a=(0,t.useMemo)((()=>({width:r,height:i})),[r,i]);return function(e){return ji(e.width)&&ji(e.height)}(a)?t.createElement(Hi.Provider,{value:a},n):null}var Vi=()=>(0,t.useContext)(Hi),Ki=(0,t.forwardRef)(((e,n)=>{var{aspect:i,initialDimension:a={width:-1,height:-1},width:o,height:s,minWidth:l=0,minHeight:c,maxHeight:u,children:d,debounce:h=0,id:f,className:p,onResize:g,style:m={}}=e,A=(0,t.useRef)(null),y=(0,t.useRef)();y.current=g,(0,t.useImperativeHandle)(n,(()=>A.current));var[v,b]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),x=(0,t.useCallback)(((e,t)=>{b((n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,t.useEffect)((()=>{if(null==A.current||"undefined"==typeof ResizeObserver)return ge;var e=e=>{var t,{width:n,height:r}=e[0].contentRect;x(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};h>0&&(e=Oi()(e,h,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=A.current.getBoundingClientRect();return x(n,r),t.observe(A.current),()=>{t.disconnect()}}),[x,h]);var{containerWidth:E,containerHeight:w}=v;Ti(!i||i>0,"The aspect(%s) must be greater than zero.",i);var{calculatedWidth:_,calculatedHeight:S}=Pi(E,w,{width:o,height:s,aspect:i,maxHeight:u});return Ti(null!=_&&_>0||null!=S&&S>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",_,S,o,s,l,c,i),t.createElement("div",{id:f?"".concat(f):void 0,className:r("recharts-responsive-container",p),style:Qi(Qi({},m),{},{width:o,height:s,minWidth:l,minHeight:c,maxHeight:u}),ref:A},t.createElement("div",{style:Li({width:o,height:s})},t.createElement(Gi,{width:_,height:S},d)))})),Wi=(0,t.forwardRef)(((e,n)=>{var r=Vi();if(ji(r.width)&&ji(r.height))return e.children;var{width:i,height:a}=function(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return void 0===i&&void 0===a?(i="100%",a="100%"):void 0===i?i=r&&r>0?void 0:"100%":void 0===a&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=Pi(void 0,void 0,{width:i,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ie(o)&&ie(s)?t.createElement(Gi,{width:o,height:s},e.children):t.createElement(Ki,Ui({},e,{width:i,height:a,ref:n}))}));function qi(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Yi=()=>{var e,t=_i(),n=qe(xi),r=qe(Ci),i=null===(e=qe(Ii))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},Xi={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Ji=()=>{var e;return null!==(e=qe(bi))&&void 0!==e?e:Xi},$i=()=>qe(li),Zi=()=>qe(ci),ea=()=>qe((e=>e.layout.margin)),ta=e=>e.layout.layoutType,na=()=>qe(ta),ra=()=>void 0!==na(),ia=e=>{var n=Ge(),r=_i(),{width:i,height:a}=e,o=Vi(),s=i,l=a;return o&&(s=o.width>0?o.width:i,l=o.height>0?o.height:a),(0,t.useEffect)((()=>{!r&&ji(s)&&ji(l)&&n(Br({width:s,height:l}))}),[n,r,s,l]),null},aa=e=>{var{margin:n}=e,r=Ge();return(0,t.useEffect)((()=>{r(Pr(n))}),[r,n]),null},oa=Symbol.for("immer-nothing"),sa=Symbol.for("immer-draftable"),la=Symbol.for("immer-state");function ca(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ua=Object.getPrototypeOf;function da(e){return!!e&&!!e[la]}function ha(e){return!!e&&(ga(e)||Array.isArray(e)||!!e[sa]||!!e.constructor?.[sa]||ba(e)||xa(e))}var fa=Object.prototype.constructor.toString(),pa=new WeakMap;function ga(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!=typeof n)return!1;let r=pa.get(n);return void 0===r&&(r=Function.toString.call(n),pa.set(n,r)),r===fa}function ma(e,t,n=!0){0===Aa(e)?(n?Reflect.ownKeys(e):Object.keys(e)).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function Aa(e){const t=e[la];return t?t.type_:Array.isArray(e)?1:ba(e)?2:xa(e)?3:0}function ya(e,t){return 2===Aa(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function va(e,t,n){const r=Aa(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function ba(e){return e instanceof Map}function xa(e){return e instanceof Set}function Ea(e){return e.copy_||e.base_}function wa(e,t){if(ba(e))return new Map(e);if(xa(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ga(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[la];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(ua(e),t)}{const t=ua(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function _a(e,t=!1){return Ia(e)||da(e)||!ha(e)||(Aa(e)>1&&Object.defineProperties(e,{set:Sa,add:Sa,clear:Sa,delete:Sa}),Object.freeze(e),t&&Object.values(e).forEach((e=>_a(e,!0)))),e}var Sa={value:function(){ca(2)}};function Ia(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var Ca,Ma={};function Oa(e){const t=Ma[e];return t||ca(0),t}function Ta(){return Ca}function Pa(e,t){t&&(Oa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ra(e){Ba(e),e.drafts_.forEach(Da),e.drafts_=null}function Ba(e){e===Ca&&(Ca=e.parent_)}function ka(e){return Ca={drafts_:[],parent_:Ca,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Da(e){const t=e[la];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function La(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[la].modified_&&(Ra(t),ca(4)),ha(e)&&(e=Na(t,e),t.parent_||Ua(t,e)),t.patches_&&Oa("Patches").generateReplacementPatches_(n[la].base_,e,t.patches_,t.inversePatches_)):e=Na(t,n,[]),Ra(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==oa?e:void 0}function Na(e,t,n){if(Ia(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[la];if(!i)return ma(t,((r,a)=>ja(e,i,t,r,a,n)),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Ua(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let a=t,o=!1;3===i.type_&&(a=new Set(t),t.clear(),o=!0),ma(a,((r,a)=>ja(e,i,t,r,a,n,o)),r),Ua(e,t,!1),n&&e.patches_&&Oa("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function ja(e,t,n,r,i,a,o){if(null==i)return;if("object"!=typeof i&&!o)return;const s=Ia(i);if(!s||o){if(da(i)){const o=Na(e,i,a&&t&&3!==t.type_&&!ya(t.assigned_,r)?a.concat(r):void 0);if(va(n,r,o),!da(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(ha(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===i&&s)return;Na(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!(ba(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||Ua(e,i)}}}function Ua(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_a(t,n)}var Fa={get(e,t){if(t===la)return e;const n=Ea(e);if(!ya(n,t))return function(e,t,n){const r=Ha(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ha(r)?r:r===za(e.base_,t)?(Va(e),e.copy_[t]=Ka(r,e)):r},has:(e,t)=>t in Ea(e),ownKeys:e=>Reflect.ownKeys(Ea(e)),set(e,t,n){const r=Ha(Ea(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=za(Ea(e),t),i=r?.[la];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)&&(void 0!==n||ya(e.base_,t)))return!0;Va(e),Ga(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==za(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Va(e),Ga(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Ea(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){ca(11)},getPrototypeOf:e=>ua(e.base_),setPrototypeOf(){ca(12)}},Qa={};function za(e,t){const n=e[la];return(n?Ea(n):e)[t]}function Ha(e,t){if(!(t in e))return;let n=ua(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=ua(n)}}function Ga(e){e.modified_||(e.modified_=!0,e.parent_&&Ga(e.parent_))}function Va(e){e.copy_||(e.copy_=wa(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Ka(e,t){const n=ba(e)?Oa("MapSet").proxyMap_(e,t):xa(e)?Oa("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ta(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Fa;n&&(i=[r],a=Qa);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Ta()).drafts_.push(n),n}function Wa(e){if(!ha(e)||Ia(e))return e;const t=e[la];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wa(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=wa(e,!0);return ma(n,((e,t)=>{va(n,e,Wa(t))}),r),t&&(t.finalized_=!1),n}ma(Fa,((e,t)=>{Qa[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Qa.deleteProperty=function(e,t){return Qa.set.call(this,e,t,void 0)},Qa.set=function(e,t,n){return Fa.set.call(this,e[0],t,n,e[0])};var qa=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!=typeof t&&ca(6),void 0!==n&&"function"!=typeof n&&ca(7),ha(e)){const i=ka(this),a=Ka(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?Ra(i):Ba(i)}return Pa(i,n),La(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===oa&&(r=void 0),this.autoFreeze_&&_a(r,!0),n){const t=[],i=[];Oa("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}ca(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;const i=this.produce(e,t,((e,t)=>{n=e,r=t}));return[i,n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ha(e)||ca(8),da(e)&&(e=function(e){return da(e)||ca(10),Wa(e)}(e));const t=ka(this),n=Ka(e,void 0);return n[la].isManual_=!0,Ba(t),n}finishDraft(e,t){const n=e&&e[la];n&&n.isManual_||ca(9);const{scope_:r}=n;return Pa(r,t),La(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Oa("Patches").applyPatches_;return da(e)?r(e,t):this.produce(e,(e=>r(e,t)))}};qa.produce;var Ya=zn({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ir()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Nt(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Ir()},removeLegendPayload:{reducer(e,t){var n=Nt(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ir()}}}),{setLegendSize:Xa,setLegendSettings:Ja,addLegendPayload:$a,replaceLegendPayload:Za,removeLegendPayload:eo}=Ya.actions,to=Ya.reducer,no=["contextPayload"];function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(null,arguments)}function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function so(e){return e.value}function lo(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,no),i=Fe(n,e.payloadUniqBy,so),a=ao(ao({},r),{},{payload:i});return t.isValidElement(e.content)?t.cloneElement(e.content,a):"function"==typeof e.content?t.createElement(e.content,a):t.createElement(Ne,a)}function co(e){var n=Ge();return(0,t.useEffect)((()=>{n(Ja(e))}),[n,e]),null}function uo(e){var n=Ge();return(0,t.useEffect)((()=>(n(Xa(e)),()=>{n(Xa({width:0,height:0}))})),[n,e]),null}var ho={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function fo(e){var n=Oe(e,ho),r=qe(rt),i=E(),a=ea(),{width:o,height:s,wrapperStyle:l,portal:c}=n,[u,d]=at([r]),h=$i(),f=Zi();if(null==h||null==f)return null;var p=h-((null==a?void 0:a.left)||0)-((null==a?void 0:a.right)||0),g=function(e,t,n,r){return"vertical"===e&&ie(t)?{height:t}:"horizontal"===e?{width:n||r}:null}(n.layout,s,o,p),m=c?l:ao(ao({position:"absolute",width:(null==g?void 0:g.width)||o||"auto",height:(null==g?void 0:g.height)||s||"auto"},function(e,t,n,r,i,a){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ao(ao({},o),s)}(l,n,a,h,f,u)),l),A=null!=c?c:i;if(null==A||null==r)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:d},t.createElement(co,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),!c&&t.createElement(uo,{width:u.width,height:u.height}),t.createElement(lo,ro({},n,g,{margin:a,chartWidth:h,chartHeight:f,contextPayload:r})));return(0,b.createPortal)(y,A)}function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po.apply(null,arguments)}function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){Ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ao(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e){return Array.isArray(e)&&ae(e[0])&&ae(e[1])?e.join(" ~ "):e}fo.displayName="Legend";var vo=e=>{var{separator:n=" : ",contentStyle:i={},itemStyle:a={},labelStyle:o={},payload:s,formatter:l,itemSorter:c,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:f,accessibilityLayer:p=!1}=e,g=mo({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),m=mo({margin:0},o),A=!he(h),y=A?h:"",v=r("recharts-default-tooltip",u),b=r("recharts-tooltip-label",d);A&&f&&null!=s&&(y=f(h,s));var x=p?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",po({className:v,style:g},x),t.createElement("p",{className:b,style:m},t.isValidElement(y)?y:"".concat(y)),(()=>{if(s&&s.length){var e=(c?tt()(s,c):s).map(((e,r)=>{if("none"===e.type)return null;var i=e.formatter||l||yo,{value:o,name:c}=e,u=o,d=c;if(i){var h=i(o,c,e,r,s);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=mo({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},ae(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,ae(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},bo="recharts-tooltip-wrapper",xo={visibility:"hidden"};function Eo(e){var{coordinate:t,translateX:n,translateY:i}=e;return r(bo,{["".concat(bo,"-right")]:ie(n)&&t&&ie(t.x)&&n>=t.x,["".concat(bo,"-left")]:ie(n)&&t&&ie(t.x)&&n<t.x,["".concat(bo,"-bottom")]:ie(i)&&t&&ie(t.y)&&i>=t.y,["".concat(bo,"-top")]:ie(i)&&t&&ie(t.y)&&i<t.y})}function wo(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&ie(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return o[r]?u:d;var h=l[r];return null==h?0:o[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Co extends t.PureComponent{constructor(){super(...arguments),Io(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Io(this,"handleKeyDown",(e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})}))}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:g,innerRef:m,hasPortalFromProps:A}=this.props,{cssClasses:y,cssProperties:v}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=wo({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=wo({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):xo,{cssProperties:t,cssClasses:Eo({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:f}),b=A?{}:So(So({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),x=So(So({},b),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:x,ref:m},a)}}var Mo=()=>{var e;return null===(e=qe((e=>e.rootProps.accessibilityLayer)))||void 0===e||e};function Oo(){}function To(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Po(e){this._context=e}function Ro(e){this._context=e}function Bo(e){this._context=e}Po.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:To(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:To(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ro.prototype={areaStart:Oo,areaEnd:Oo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:To(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Bo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:To(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class ko{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Do(e){this._context=e}function Lo(e){this._context=e}function No(e){return new Lo(e)}function jo(e){return e<0?-1:1}function Uo(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(jo(a)+jo(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Fo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Qo(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function zo(e){this._context=e}function Ho(e){this._context=new Go(e)}function Go(e){this._context=e}function Vo(e){this._context=e}function Ko(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Wo(e,t){this._context=e,this._t=t}function qo(e){return e[0]}function Yo(e){return e[1]}function Xo(e,t){var n=V(!0),r=null,i=No,a=null,o=$(s);function s(s){var l,c,u,d=(s=Nr(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?qo:V(e),t="function"==typeof t?t:void 0===t?Yo:V(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:V(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:V(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:V(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function Jo(e,t,n){var r=null,i=V(!0),a=null,o=No,s=null,l=$(c);function c(c){var u,d,h,f,p,g=(c=Nr(c)).length,m=!1,A=new Array(g),y=new Array(g);for(null==a&&(s=o(p=l())),u=0;u<=g;++u){if(!(u<g&&i(f=c[u],u,c))===m)if(m=!m)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(A[h],y[h]);s.lineEnd(),s.areaEnd()}m&&(A[u]=+e(f,u,c),y[u]=+t(f,u,c),s.point(r?+r(f,u,c):A[u],n?+n(f,u,c):y[u]))}if(p)return s=null,p+""||null}function u(){return Xo().defined(i).curve(o).context(a)}return e="function"==typeof e?e:void 0===e?qo:V(+e),t="function"==typeof t?t:V(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Yo:V(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:V(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:V(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:V(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:V(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:V(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:V(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:V(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$o.apply(null,arguments)}function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach((function(t){ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ts(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Do.prototype={areaStart:Oo,areaEnd:Oo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},zo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qo(this,this._t0,Fo(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qo(this,Fo(this,n=Uo(this,e,t)),n);break;default:Qo(this,this._t0,n=Uo(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ho.prototype=Object.create(zo.prototype)).point=function(e,t){zo.prototype.point.call(this,t,e)},Go.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},Vo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Ko(e),i=Ko(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ns={curveBasisClosed:function(e){return new Ro(e)},curveBasisOpen:function(e){return new Bo(e)},curveBasis:function(e){return new Po(e)},curveBumpX:function(e){return new ko(e,!0)},curveBumpY:function(e){return new ko(e,!1)},curveLinearClosed:function(e){return new Do(e)},curveLinear:No,curveMonotoneX:function(e){return new zo(e)},curveMonotoneY:function(e){return new Ho(e)},curveNatural:function(e){return new Vo(e)},curveStep:function(e){return new Wo(e,.5)},curveStepAfter:function(e){return new Wo(e,1)},curveStepBefore:function(e){return new Wo(e,0)}},rs=e=>Ni(e.x)&&Ni(e.y),is=e=>null!=e.base&&rs(e.base)&&rs(e),as=e=>e.x,os=e=>e.y,ss=e=>{var{className:n,points:i,path:a,pathRef:o}=e;if(!(i&&i.length||a))return null;var s=i&&i.length?(e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:o=!1}=e,s=((e,t)=>{if("function"==typeof e)return e;var n="curve".concat(fe(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?ns[n]||No:ns["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=o?r.filter(rs):r;if(Array.isArray(i)){var c=r.map(((e,t)=>es(es({},e),{},{base:i[t]})));return t="vertical"===a?Jo().y(os).x1(as).x0((e=>e.base.x)):Jo().x(as).y1(os).y0((e=>e.base.y)),t.defined(is).curve(s)(o?c.filter(is):c)}return(t="vertical"===a&&ie(i)?Jo().y(os).x1(as).x0(i):ie(i)?Jo().x(as).y1(os).y0(i):Xo().x(as).y(os)).defined(rs).curve(s)(l)})(e):a;return t.createElement("path",$o({},d(e),Se(e),{className:r("recharts-curve",n),d:null===s?void 0:s,ref:o}))},ls=["x","y","top","left","width","height","className"];function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs.apply(null,arguments)}function us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ds(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hs=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),fs=e=>{var{x:n=0,y:i=0,top:a=0,left:o=0,width:s=0,height:l=0,className:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ls),d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?us(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:i,top:a,left:o,width:s,height:l},u);return ie(n)&&ie(i)&&ie(s)&&ie(l)&&ie(a)&&ie(o)?t.createElement("path",cs({},f(d),{className:r("recharts-cross",c),d:hs(n,i,s,l,a,o)})):null};function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach((function(t){ms(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ms(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var As=(e,t,n)=>e.map((e=>{return"".concat((r=e,r.replace(/([A-Z])/g,(e=>"-".concat(e.toLowerCase()))))," ").concat(t,"ms ").concat(n);var r})).join(","),ys=(e,t)=>Object.keys(t).reduce(((n,r)=>gs(gs({},n),{},{[r]:e(r,t[r])})),{});function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){xs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Es=(e,t,n)=>e+(t-e)*n,ws=e=>{var{from:t,to:n}=e;return t!==n},_s=(e,t,n)=>{var r=ys(((t,n)=>{if(ws(n)){var[r,i]=e(n.from,n.to,n.velocity);return bs(bs({},n),{},{from:r,velocity:i})}return n}),t);return n<1?ys(((e,t)=>ws(t)?bs(bs({},t),{},{velocity:Es(t.velocity,r[e].velocity,n),from:Es(t.from,r[e].from,n)}):t),t):_s(e,r,n-1)};const Ss=(e,t,n,r,i,a)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce(((e,t)=>e.filter((e=>t.includes(e))))));return null==n?()=>(i(bs(bs({},e),t)),()=>{}):!0===n.isStepper?function(e,t,n,r,i,a){var o,s=r.reduce(((n,r)=>bs(bs({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}})),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=_s(n,s,u),i(bs(bs(bs({},e),t),ys(((e,t)=>t.from),s))),o=r,Object.values(s).filter(ws).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,n,l,i,a):function(e,t,n,r,i,a,o){var s,l=null,c=i.reduce(((n,r)=>bs(bs({},n),{},{[r]:[e[r],t[r]]})),{}),u=i=>{s||(s=i);var d=(i-s)/r,h=ys(((e,t)=>Es(...t,n(d))),c);if(a(bs(bs(bs({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=ys(((e,t)=>Es(...t,n(1))),c);a(bs(bs(bs({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,n,r,l,i,a)};var Is=1e-4,Cs=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Ms=(e,t)=>e.map(((e,n)=>e*t**n)).reduce(((e,t)=>e+t)),Os=(e,t)=>n=>{var r=Cs(e,t);return Ms(r,n)},Ts=function(){return((e,t,n,r)=>{var i,a,o=Os(e,n),s=Os(t,r),l=(i=e,a=n,e=>{var t=[...Cs(i,a).map(((e,t)=>e*t)).slice(1),0];return Ms(t,e)}),c=e=>e>1?1:e<0?0:e,u=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=o(n)-t,a=l(n);if(Math.abs(i-t)<Is||a<Is)return s(n);n=c(n-i/a)}return s(n)};return u.isStepper=!1,u})(...function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var r,i=t[0].split("(");if("cubic-bezier"===i[0]&&4===(null===(r=i[1])||void 0===r?void 0:r.split(")")[0].split(",").length)){var a=i[1].split(")")[0].split(",").map((e=>parseFloat(e)));return[a[0],a[1],a[2],a[3]]}}return 4===t.length?t:[0,0,1,1]}(...arguments))},Ps=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ts(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*n)*r/1e3,s=a*r/1e3+e;return Math.abs(s-i)<Is&&Math.abs(o)<Is?[i,0]:[s,o]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return Ts(e)}return"function"==typeof e?e:null};class Rs{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{null!=r&&cancelAnimationFrame(r)}}}var Bs=(0,t.createContext)((function(){return e=new Rs,t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[s,...l]=o;return"number"==typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"string"==typeof a&&t(a),"object"==typeof a&&t(a),"function"==typeof a&&a()}},{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,n,r,i}));function ks(e,n){var r=(0,t.useContext)(Bs);return(0,t.useMemo)((()=>null!=n?n:r(e)),[e,n,r])}var Ds={devToolsEnabled:!1,isSsr:!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout)},Ls={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ns={t:0},js={t:1};function Us(e){var n=Oe(e,Ls),{isActive:r,canBegin:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d="auto"===r?!Ds.isSsr:r,h=ks(n.animationId,n.animationManager),[f,p]=(0,t.useState)(d?Ns:js),g=(0,t.useRef)(null);return(0,t.useEffect)((()=>{d||p(js)}),[d]),(0,t.useEffect)((()=>{if(!d||!i)return ge;var e=Ss(Ns,js,Ps(o),a,p,h.getTimeoutController());return h.start([c,s,()=>{g.current=e()},a,l]),()=>{h.stop(),g.current&&g.current(),l()}}),[d,i,a,o,s,c,l,h]),u(f.t)}function Fs(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(se(n)),i=(0,t.useRef)(e);return i.current!==e&&(r.current=se(n),i.current=e),r.current}var Qs=["radius"],zs=["radius"];function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){Vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ks.apply(null,arguments)}function Ws(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var qs=(e,t,n,r,i)=>{var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),a+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},Ys={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xs=e=>{var n=Oe(e,Ys),i=(0,t.useRef)(null),[a,o]=(0,t.useState)(-1);(0,t.useEffect)((()=>{if(i.current&&i.current.getTotalLength)try{var e=i.current.getTotalLength();e&&o(e)}catch(e){}}),[]);var{x:s,y:l,width:c,height:u,radius:d,className:h}=n,{animationEasing:p,animationDuration:g,animationBegin:m,isAnimationActive:A,isUpdateAnimationActive:y}=n,v=(0,t.useRef)(c),b=(0,t.useRef)(u),x=(0,t.useRef)(s),E=(0,t.useRef)(l),w=Fs((0,t.useMemo)((()=>({x:s,y:l,width:c,height:u,radius:d})),[s,l,c,u,d]),"rectangle-");if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var _=r("recharts-rectangle",h);if(!y){var S=f(n),{radius:I}=S,C=Ws(S,Qs);return t.createElement("path",Ks({},C,{radius:"number"==typeof d?d:void 0,className:_,d:qs(s,l,c,u,d)}))}var M=v.current,O=b.current,T=x.current,P=E.current,R="0px ".concat(-1===a?1:a,"px"),B="".concat(a,"px 0px"),k=As(["strokeDasharray"],g,"string"==typeof p?p:Ys.animationEasing);return t.createElement(Us,{animationId:w,key:w,canBegin:a>0,duration:g,easing:p,isActive:y,begin:m},(e=>{var r,a=ue(M,c,e),o=ue(O,u,e),h=ue(T,s,e),p=ue(P,l,e);i.current&&(v.current=a,b.current=o,x.current=h,E.current=p),r=A?e>0?{transition:k,strokeDasharray:B}:{strokeDasharray:R}:{strokeDasharray:B};var g=f(n),{radius:m}=g,y=Ws(g,zs);return t.createElement("path",Ks({},y,{radius:"number"==typeof d?d:void 0,className:_,d:qs(h,p,a,o,d),ref:i,style:Gs(Gs({},r),n.style)}))}))};function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var el=Math.PI/180,tl=e=>e*Math.PI/180,nl=e=>180*e/Math.PI,rl=(e,t,n,r)=>({x:e+Math.cos(-el*r)*n,y:t+Math.sin(-el*r)*n}),il=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},al=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},ol=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=((e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:nl(l),angleInRadian:l}})({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?$s($s({},t),{},{radius:i,angle:al(d,t)}):null},sl=e=>(0,t.isValidElement)(e)||"function"==typeof e||"boolean"==typeof e||null==e?"":e.className;function ll(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[rl(t,n,r,i),rl(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(null,arguments)}var ul=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/el,d=l?i:i+a*u,h=l?i-a*u:i;return{center:rl(t,n,c,d),circleTangency:rl(t,n,r,d),lineTangency:rl(t,n,c*Math.cos(u*el),h),theta:u}},dl=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=((e,t)=>te(t-e)*Math.min(Math.abs(t-e),359.999))(a,o),l=a+s,c=rl(t,n,i,a),u=rl(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=rl(t,n,r,a),f=rl(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},hl={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fl=e=>{var n=Oe(e,hl),{cx:i,cy:a,innerRadius:o,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h,className:p}=n;if(s<o||d===h)return null;var g,m=r("recharts-sector",p),A=s-o,y=le(l,A,0,!0);return g=y>0&&Math.abs(d-h)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=te(c-l),{circleTangency:d,lineTangency:h,theta:f}=ul({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:p,lineTangency:g,theta:m}=ul({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),A=s?Math.abs(l-c):Math.abs(l-c)-f-m;if(A<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):dl({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var{circleTangency:v,lineTangency:b,theta:x}=ul({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:E,lineTangency:w,theta:_}=ul({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),S=s?Math.abs(l-c):Math.abs(l-c)-x-_;if(S<0&&0===a)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(w.x,",").concat(w.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(v.x,",").concat(v.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:i,cy:a,innerRadius:o,outerRadius:s,cornerRadius:Math.min(y,A/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):dl({cx:i,cy:a,innerRadius:o,outerRadius:s,startAngle:d,endAngle:h}),t.createElement("path",cl({},f(n),{className:m,d:g}))};function pl(e,t,n){if("horizontal"===e)return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if("vertical"===e)return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(_e(t)){if("centric"===e){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=rl(r,i,a,s),c=rl(r,i,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return ll(t)}}var gl=o(3412),ml=o.n(gl);function Al(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function yl(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}class vl extends Map{constructor(e,t=xl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(bl(this,e))}has(e){return super.has(bl(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}(this,e))}}function bl({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function xl(e){return null!==e&&"object"==typeof e?e.valueOf():e}Set;const El=Symbol("implicit");function wl(){var e=new vl,t=[],n=[],r=El;function i(i){let a=e.get(i);if(void 0===a){if(r!==El)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new vl;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return wl(t,n).unknown(r)},Al.apply(i,arguments),i}function _l(){var e,t,n=wl().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,f=d?a:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map((function(t){return h+e*t}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return _l(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Al.apply(d(),arguments)}function Sl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Sl(t())},e}function Il(){return Sl(_l.apply(null,arguments).paddingInner(1))}const Cl=Math.sqrt(50),Ml=Math.sqrt(10),Ol=Math.sqrt(2);function Tl(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Cl?10:a>=Ml?5:a>=Ol?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Tl(e,t,2*n):[s,l,c]}function Pl(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?Tl(t,e,n):Tl(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let e=0;e<s;++e)l[e]=(a-e)/-o;else for(let e=0;e<s;++e)l[e]=(a-e)*o;else if(o<0)for(let e=0;e<s;++e)l[e]=(i+e)/-o;else for(let e=0;e<s;++e)l[e]=(i+e)*o;return l}function Rl(e,t,n){return Tl(e=+e,t=+t,n=+n)[2]}function Bl(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Rl(t,e,n):Rl(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function kl(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dl(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ll(e){let t,n,r;function i(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=kl,n=(t,n)=>kl(e(t),n),r=(t,n)=>e(t)-n):(t=e===kl||e===Dl?e:Nl,n=e,r=e),{left:i,center:function(e,t,n=0,a=e.length){const o=i(e,t,n,a-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function Nl(){return 0}function jl(e){return null===e?NaN:+e}const Ul=Ll(kl),Fl=Ul.right,Ql=(Ul.left,Ll(jl).center,Fl);function zl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Hl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Gl(){}var Vl=.7,Kl=1/Vl,Wl="\\s*([+-]?\\d+)\\s*",ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xl=/^#([0-9a-f]{3,8})$/,Jl=new RegExp(`^rgb\\(${Wl},${Wl},${Wl}\\)$`),$l=new RegExp(`^rgb\\(${Yl},${Yl},${Yl}\\)$`),Zl=new RegExp(`^rgba\\(${Wl},${Wl},${Wl},${ql}\\)$`),ec=new RegExp(`^rgba\\(${Yl},${Yl},${Yl},${ql}\\)$`),tc=new RegExp(`^hsl\\(${ql},${Yl},${Yl}\\)$`),nc=new RegExp(`^hsla\\(${ql},${Yl},${Yl},${ql}\\)$`),rc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ic(){return this.rgb().formatHex()}function ac(){return this.rgb().formatRgb()}function oc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Xl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?sc(t):3===n?new uc(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?lc(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?lc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Jl.exec(e))?new uc(t[1],t[2],t[3],1):(t=$l.exec(e))?new uc(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Zl.exec(e))?lc(t[1],t[2],t[3],t[4]):(t=ec.exec(e))?lc(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=tc.exec(e))?mc(t[1],t[2]/100,t[3]/100,1):(t=nc.exec(e))?mc(t[1],t[2]/100,t[3]/100,t[4]):rc.hasOwnProperty(e)?sc(rc[e]):"transparent"===e?new uc(NaN,NaN,NaN,0):null}function sc(e){return new uc(e>>16&255,e>>8&255,255&e,1)}function lc(e,t,n,r){return r<=0&&(e=t=n=NaN),new uc(e,t,n,r)}function cc(e,t,n,r){return 1===arguments.length?function(e){return e instanceof Gl||(e=oc(e)),e?new uc((e=e.rgb()).r,e.g,e.b,e.opacity):new uc}(e):new uc(e,t,n,null==r?1:r)}function uc(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function dc(){return`#${gc(this.r)}${gc(this.g)}${gc(this.b)}`}function hc(){const e=fc(this.opacity);return`${1===e?"rgb(":"rgba("}${pc(this.r)}, ${pc(this.g)}, ${pc(this.b)}${1===e?")":`, ${e})`}`}function fc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gc(e){return((e=pc(e))<16?"0":"")+e.toString(16)}function mc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yc(e,t,n,r)}function Ac(e){if(e instanceof yc)return new yc(e.h,e.s,e.l,e.opacity);if(e instanceof Gl||(e=oc(e)),!e)return new yc;if(e instanceof yc)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new yc(o,s,l,e.opacity)}function yc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function vc(e){return(e=(e||0)%360)<0?e+360:e}function bc(e){return Math.max(0,Math.min(1,e||0))}function xc(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Ec(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}zl(Gl,oc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ic,formatHex:ic,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ac(this).formatHsl()},formatRgb:ac,toString:ac}),zl(uc,cc,Hl(Gl,{brighter(e){return e=null==e?Kl:Math.pow(Kl,e),new uc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Vl:Math.pow(Vl,e),new uc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new uc(pc(this.r),pc(this.g),pc(this.b),fc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dc,formatHex:dc,formatHex8:function(){return`#${gc(this.r)}${gc(this.g)}${gc(this.b)}${gc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:hc,toString:hc})),zl(yc,(function(e,t,n,r){return 1===arguments.length?Ac(e):new yc(e,t,n,null==r?1:r)}),Hl(Gl,{brighter(e){return e=null==e?Kl:Math.pow(Kl,e),new yc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Vl:Math.pow(Vl,e),new yc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new uc(xc(e>=240?e-240:e+120,i,r),xc(e,i,r),xc(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new yc(vc(this.h),bc(this.s),bc(this.l),fc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fc(this.opacity);return`${1===e?"hsl(":"hsla("}${vc(this.h)}, ${100*bc(this.s)}%, ${100*bc(this.l)}%${1===e?")":`, ${e})`}`}}));const wc=e=>()=>e;function _c(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):wc(isNaN(e)?t:e)}const Sc=function e(t){var n=function(e){return 1==(e=+e)?_c:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):wc(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=cc(e)).r,(t=cc(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=_c(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Ic(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=cc(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}function Cc(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Dc(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function Mc(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Oc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tc(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Dc(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}Ic((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return Ec((n-r/t)*t,o,i,a,s)}})),Ic((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Ec((n-r/t)*t,i,a,o,s)}}));var Pc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rc=new RegExp(Pc.source,"g");function Bc(e,t){var n,r,i,a=Pc.lastIndex=Rc.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Pc.exec(e))&&(r=Rc.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Oc(n,r)})),a=Rc.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function kc(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function Dc(e,t){var n,r=typeof t;return null==t||"boolean"===r?wc(t):("number"===r?Oc:"string"===r?(n=oc(t))?(t=n,Sc):Bc:t instanceof oc?Sc:t instanceof Date?Mc:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?kc:Array.isArray(t)?Cc:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Tc:Oc)(e,t)}function Lc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Nc(e){return+e}var jc=[0,1];function Uc(e){return e}function Fc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Qc(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Fc(i,r),a=n(o,a)):(r=Fc(r,i),a=n(a,o)),function(e){return a(r(e))}}function zc(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Fc(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Ql(e,t,1,r)-1;return a[n](i[n](t))}}function Hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gc(){var e,t,n,r,i,a,o=jc,s=jc,l=Dc,c=Uc;function u(){var e=Math.min(o.length,s.length);return c!==Uc&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?zc:Qc,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),Oc)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Nc),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Lc,u()},d.clamp=function(e){return arguments.length?(c=!!e||Uc,u()):c!==Uc},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Vc(){return Gc()(Uc,Uc)}var Kc,Wc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qc(e){if(!(t=Wc.exec(e)))throw new Error("invalid format: "+e);var t;return new Yc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Yc(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Xc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jc(e){return(e=Xc(Math.abs(e)))?e[1]:NaN}function $c(e,t){var n=Xc(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}qc.prototype=Yc.prototype,Yc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Zc={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$c(100*e,t),r:$c,s:function(e,t){var n=Xc(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Kc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xc(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eu(e){return e}var tu,nu,ru,iu=Array.prototype.map,au=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ou(e,t,n,r){var i,a=Bl(e,t,n);switch((r=qc(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jc(t)/3)))-Jc(Math.abs(e)))}(a,o))||(r.precision=i),ru(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jc(t)-Jc(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Jc(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return nu(r)}function su(e){var t=e.domain;return e.ticks=function(e){var n=t();return Pl(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ou(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=Rl(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function lu(){var e=Vc();return e.copy=function(){return Hc(e,lu())},Al.apply(e,arguments),su(e)}function cu(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Nc),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return cu(e).unknown(t)},e=arguments.length?Array.from(e,Nc):[0,1],su(n)}function uu(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function du(e){return Math.log(e)}function hu(e){return Math.exp(e)}function fu(e){return-Math.log(-e)}function pu(e){return-Math.exp(-e)}function gu(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mu(e){return(t,n)=>-e(-t,n)}function Au(e){const t=e(du,hu),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?gu:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=mu(r),i=mu(i),e(fu,pu)):e(du,hu),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=Pl(o,s,f))}else p=Pl(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!=typeof n&&(a%1||null!=(n=qc(n)).precision||(n.trim=!0),n=nu(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(uu(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function yu(){const e=Au(Gc()).domain([1,10]);return e.copy=()=>Hc(e,yu()).base(e.base()),Al.apply(e,arguments),e}function vu(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bu(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xu(e){var t=1,n=e(vu(t),bu(t));return n.constant=function(n){return arguments.length?e(vu(t=+n),bu(t)):t},su(n)}function Eu(){var e=xu(Gc());return e.copy=function(){return Hc(e,Eu()).constant(e.constant())},Al.apply(e,arguments)}function wu(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _u(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Su(e){return e<0?-e*e:e*e}function Iu(e){var t=e(Uc,Uc),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Uc,Uc):.5===n?e(_u,Su):e(wu(n),wu(1/n)):n},su(t)}function Cu(){var e=Iu(Gc());return e.copy=function(){return Hc(e,Cu()).exponent(e.exponent())},Al.apply(e,arguments),e}function Mu(){return Cu.apply(null,arguments).exponent(.5)}function Ou(e){return Math.sign(e)*e*e}function Tu(){var e,t=Vc(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(Ou(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Nc)).map(Ou)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Tu(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Al.apply(i,arguments),su(i)}function Pu(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Ru(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Bu(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function ku(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Bu:function(e=kl){if(e===kl)return Bu;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);ku(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(Du(e,n,t),i(e[r],a)>0&&Du(e,n,r);o<s;){for(Du(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?Du(e,n,s):(++s,Du(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Du(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Lu(e,t,n=jl){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function Nu(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Lu(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[Ql(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(kl),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return Nu().domain(t).range(n).unknown(e)},Al.apply(a,arguments)}function ju(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[Ql(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return ju().domain([t,n]).range(a).unknown(e)},Al.apply(su(o),arguments)}function Uu(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Ql(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Uu().domain(t).range(n).unknown(e)},Al.apply(i,arguments)}tu=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?eu:(t=iu.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?eu:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(iu.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=qc(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,A=e.trim,y=e.type;"n"===y?(g=!0,y="g"):Zc[y]||(void 0===m&&(m=12),A=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",x=Zc[y],E=/[defgprs%]/.test(y);function w(e){var i,a,l,h=v,w=b;if("c"===y)w=x(e)+w,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),m),A&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),_&&0==+e&&"+"!==d&&(_=!1),h=(_?"("===d?d:c:"-"===d||"("===d?"":d)+h,w=("s"===y?au[8+Kc/3]:"")+w+(_&&"("===d?")":""),E)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){w=(46===l?o+e.slice(i+1):e.slice(i))+w,e=e.slice(0,i);break}}g&&!f&&(e=r(e,1/0));var S=h.length+e.length+w.length,I=S<p?new Array(p-S+1).join(t):"";switch(g&&f&&(e=r(I+e,I.length?p-w.length:1/0),I=""),n){case"<":e=h+e+w+I;break;case"=":e=h+I+e+w;break;case"^":e=I.slice(0,S=I.length>>1)+h+e+w+I.slice(S);break;default:e=I+h+e+w}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return e+""},w}return{format:d,formatPrefix:function(e,t){var n=d(((e=qc(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Jc(t)/3))),i=Math.pow(10,-r),a=au[8+r/3];return function(e){return n(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),nu=tu.format,ru=tu.formatPrefix;const Fu=1e3,Qu=6e4,zu=36e5,Hu=864e5,Gu=6048e5,Vu=31536e6,Ku=new Date,Wu=new Date;function qu(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>qu((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(Ku.setTime(+t),Wu.setTime(+r),e(Ku),e(Wu),Math.floor(n(Ku,Wu))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e==0:t=>i.count(0,t)%e==0):i:null)),i}const Yu=qu((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Yu.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?qu((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):Yu:null),Yu.range;const Xu=qu((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Fu)}),((e,t)=>(t-e)/Fu),(e=>e.getUTCSeconds())),Ju=(Xu.range,qu((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fu)}),((e,t)=>{e.setTime(+e+t*Qu)}),((e,t)=>(t-e)/Qu),(e=>e.getMinutes()))),$u=(Ju.range,qu((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*Qu)}),((e,t)=>(t-e)/Qu),(e=>e.getUTCMinutes()))),Zu=($u.range,qu((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fu-e.getMinutes()*Qu)}),((e,t)=>{e.setTime(+e+t*zu)}),((e,t)=>(t-e)/zu),(e=>e.getHours()))),ed=(Zu.range,qu((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*zu)}),((e,t)=>(t-e)/zu),(e=>e.getUTCHours()))),td=(ed.range,qu((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qu)/Hu),(e=>e.getDate()-1))),nd=(td.range,qu((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Hu),(e=>e.getUTCDate()-1))),rd=(nd.range,qu((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Hu),(e=>Math.floor(e/Hu))));function id(e){return qu((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qu)/Gu))}rd.range;const ad=id(0),od=id(1),sd=id(2),ld=id(3),cd=id(4),ud=id(5),dd=id(6);function hd(e){return qu((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Gu))}ad.range,od.range,sd.range,ld.range,cd.range,ud.range,dd.range;const fd=hd(0),pd=hd(1),gd=hd(2),md=hd(3),Ad=hd(4),yd=hd(5),vd=hd(6),bd=(fd.range,pd.range,gd.range,md.range,Ad.range,yd.range,vd.range,qu((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),xd=(bd.range,qu((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Ed=(xd.range,qu((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Ed.every=e=>isFinite(e=Math.floor(e))&&e>0?qu((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null,Ed.range;const wd=qu((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function _d(e,t,n,r,i,a){const o=[[Xu,1,Fu],[Xu,5,5e3],[Xu,15,15e3],[Xu,30,3e4],[a,1,Qu],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,zu],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Hu],[r,2,1728e5],[n,1,Gu],[t,1,2592e6],[t,3,7776e6],[e,1,Vu]];function s(t,n,r){const i=Math.abs(n-t)/r,a=Ll((([,,e])=>e)).right(o,i);if(a===o.length)return e.every(Bl(t/Vu,n/Vu,r));if(0===a)return Yu.every(Math.max(Bl(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}wd.every=e=>isFinite(e=Math.floor(e))&&e>0?qu((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null,wd.range;const[Sd,Id]=_d(wd,xd,fd,rd,ed,$u),[Cd,Md]=_d(Ed,bd,ad,td,Zu,Ju);function Od(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Td(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Rd,Bd,kd,Dd={"-":"",_:" ",0:"0"},Ld=/^\s*\d+/,Nd=/^%/,jd=/[\\^$*+?|[\]().{}]/g;function Ud(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Fd(e){return e.replace(jd,"\\$&")}function Qd(e){return new RegExp("^(?:"+e.map(Fd).join("|")+")","i")}function zd(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Hd(e,t,n){var r=Ld.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Gd(e,t,n){var r=Ld.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Vd(e,t,n){var r=Ld.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Kd(e,t,n){var r=Ld.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Wd(e,t,n){var r=Ld.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function qd(e,t,n){var r=Ld.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yd(e,t,n){var r=Ld.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xd(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Jd(e,t,n){var r=Ld.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function $d(e,t,n){var r=Ld.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Zd(e,t,n){var r=Ld.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function eh(e,t,n){var r=Ld.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function th(e,t,n){var r=Ld.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nh(e,t,n){var r=Ld.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rh(e,t,n){var r=Ld.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ih(e,t,n){var r=Ld.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ah(e,t,n){var r=Ld.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oh(e,t,n){var r=Nd.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function sh(e,t,n){var r=Ld.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function lh(e,t,n){var r=Ld.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ch(e,t){return Ud(e.getDate(),t,2)}function uh(e,t){return Ud(e.getHours(),t,2)}function dh(e,t){return Ud(e.getHours()%12||12,t,2)}function hh(e,t){return Ud(1+td.count(Ed(e),e),t,3)}function fh(e,t){return Ud(e.getMilliseconds(),t,3)}function ph(e,t){return fh(e,t)+"000"}function gh(e,t){return Ud(e.getMonth()+1,t,2)}function mh(e,t){return Ud(e.getMinutes(),t,2)}function Ah(e,t){return Ud(e.getSeconds(),t,2)}function yh(e){var t=e.getDay();return 0===t?7:t}function vh(e,t){return Ud(ad.count(Ed(e)-1,e),t,2)}function bh(e){var t=e.getDay();return t>=4||0===t?cd(e):cd.ceil(e)}function xh(e,t){return e=bh(e),Ud(cd.count(Ed(e),e)+(4===Ed(e).getDay()),t,2)}function Eh(e){return e.getDay()}function wh(e,t){return Ud(od.count(Ed(e)-1,e),t,2)}function _h(e,t){return Ud(e.getFullYear()%100,t,2)}function Sh(e,t){return Ud((e=bh(e)).getFullYear()%100,t,2)}function Ih(e,t){return Ud(e.getFullYear()%1e4,t,4)}function Ch(e,t){var n=e.getDay();return Ud((e=n>=4||0===n?cd(e):cd.ceil(e)).getFullYear()%1e4,t,4)}function Mh(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ud(t/60|0,"0",2)+Ud(t%60,"0",2)}function Oh(e,t){return Ud(e.getUTCDate(),t,2)}function Th(e,t){return Ud(e.getUTCHours(),t,2)}function Ph(e,t){return Ud(e.getUTCHours()%12||12,t,2)}function Rh(e,t){return Ud(1+nd.count(wd(e),e),t,3)}function Bh(e,t){return Ud(e.getUTCMilliseconds(),t,3)}function kh(e,t){return Bh(e,t)+"000"}function Dh(e,t){return Ud(e.getUTCMonth()+1,t,2)}function Lh(e,t){return Ud(e.getUTCMinutes(),t,2)}function Nh(e,t){return Ud(e.getUTCSeconds(),t,2)}function jh(e){var t=e.getUTCDay();return 0===t?7:t}function Uh(e,t){return Ud(fd.count(wd(e)-1,e),t,2)}function Fh(e){var t=e.getUTCDay();return t>=4||0===t?Ad(e):Ad.ceil(e)}function Qh(e,t){return e=Fh(e),Ud(Ad.count(wd(e),e)+(4===wd(e).getUTCDay()),t,2)}function zh(e){return e.getUTCDay()}function Hh(e,t){return Ud(pd.count(wd(e)-1,e),t,2)}function Gh(e,t){return Ud(e.getUTCFullYear()%100,t,2)}function Vh(e,t){return Ud((e=Fh(e)).getUTCFullYear()%100,t,2)}function Kh(e,t){return Ud(e.getUTCFullYear()%1e4,t,4)}function Wh(e,t){var n=e.getUTCDay();return Ud((e=n>=4||0===n?Ad(e):Ad.ceil(e)).getUTCFullYear()%1e4,t,4)}function qh(){return"+0000"}function Yh(){return"%"}function Xh(e){return+e}function Jh(e){return Math.floor(+e/1e3)}function $h(e){return new Date(e)}function Zh(e){return e instanceof Date?+e:+new Date(+e)}function ef(e,t,n,r,i,a,o,s,l,c){var u=Vc(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),A=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?g:a(e)<e?m:r(e)<e?i(e)<e?A:y:n(e)<e?v:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Zh)):h().map($h)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(uu(n,e)):u},u.copy=function(){return Hc(u,ef(e,t,n,r,i,a,o,s,l,c))},u}function tf(){return Al.apply(ef(Cd,Md,Ed,bd,ad,td,Zu,Ju,Xu,Bd).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nf(){return Al.apply(ef(Sd,Id,wd,xd,fd,nd,ed,$u,Xu,kd).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rf(){var e,t,n,r,i,a=0,o=1,s=Uc,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Dc),c.rangeRound=u(Lc),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function af(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function of(){var e=su(rf()(Uc));return e.copy=function(){return af(e,of())},yl.apply(e,arguments)}function sf(){var e=Au(rf()).domain([1,10]);return e.copy=function(){return af(e,sf()).base(e.base())},yl.apply(e,arguments)}function lf(){var e=xu(rf());return e.copy=function(){return af(e,lf()).constant(e.constant())},yl.apply(e,arguments)}function cf(){var e=Iu(rf());return e.copy=function(){return af(e,cf()).exponent(e.exponent())},yl.apply(e,arguments)}function uf(){return cf.apply(null,arguments).exponent(.5)}function df(){var e=[],t=Uc;function n(n){if(null!=n&&!isNaN(n=+n))return t((Ql(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(kl),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>function(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Ru(e);if(t>=1)return Pu(e);var r,i=(r-1)*t,a=Math.floor(i),o=Pu(ku(e,a).subarray(0,a+1));return o+(Ru(e.subarray(a+1))-o)*(i-a)}}(e,r/t)))},n.copy=function(){return df(t).domain(e)},yl.apply(n,arguments)}function hf(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,d=Uc,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=Dc);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Dc),f.rangeRound=p(Lc),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function ff(){var e=su(hf()(Uc));return e.copy=function(){return af(e,ff())},yl.apply(e,arguments)}function pf(){var e=Au(hf()).domain([.1,1,10]);return e.copy=function(){return af(e,pf()).base(e.base())},yl.apply(e,arguments)}function gf(){var e=xu(hf());return e.copy=function(){return af(e,gf()).constant(e.constant())},yl.apply(e,arguments)}function mf(){var e=Iu(hf());return e.copy=function(){return af(e,mf()).exponent(e.exponent())},yl.apply(e,arguments)}function Af(){return mf.apply(null,arguments).exponent(.5)}Rd=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Qd(i),u=zd(i),d=Qd(a),h=zd(a),f=Qd(o),p=zd(o),g=Qd(s),m=zd(s),A=Qd(l),y=zd(l),v={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:ch,e:ch,f:ph,g:Sh,G:Ch,H:uh,I:dh,j:hh,L:fh,m:gh,M:mh,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Xh,s:Jh,S:Ah,u:yh,U:vh,V:xh,w:Eh,W:wh,x:null,X:null,y:_h,Y:Ih,Z:Mh,"%":Yh},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Oh,e:Oh,f:kh,g:Vh,G:Wh,H:Th,I:Ph,j:Rh,L:Bh,m:Dh,M:Lh,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Xh,s:Jh,S:Nh,u:jh,U:Uh,V:Qh,w:zh,W:Hh,x:null,X:null,y:Gh,Y:Kh,Z:qh,"%":Yh},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=A.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return _(e,t,n,r)},d:Zd,e:Zd,f:ah,g:Yd,G:qd,H:th,I:th,j:eh,L:ih,m:$d,M:nh,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Jd,Q:sh,s:lh,S:rh,u:Gd,U:Vd,V:Kd,w:Hd,W:Wd,x:function(e,t,r){return _(e,n,t,r)},X:function(e,t,n){return _(e,r,t,n)},y:Yd,Y:qd,Z:Xd,"%":oh};function E(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=Dd[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function w(e,t){return function(n){var r,i,a=Pd(1900,void 0,1);if(_(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Td(Pd(a.y,0,1))).getUTCDay(),r=i>4||0===i?pd.ceil(r):pd(r),r=nd.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Od(Pd(a.y,0,1))).getDay(),r=i>4||0===i?od.ceil(r):od(r),r=td.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Td(Pd(a.y,0,1)).getUTCDay():Od(Pd(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Td(a)):Od(a)}}function _(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=x[i in Dd?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=E(n,v),v.X=E(r,v),v.c=E(t,v),b.x=E(n,b),b.X=E(r,b),b.c=E(t,b),{format:function(e){var t=E(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Bd=Rd.format,Rd.parse,kd=Rd.utcFormat,Rd.utcParse;var yf=e=>e.chartData,vf=$e([yf],(e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}})),bf=(e,t,n,r)=>r?vf(e):yf(e);function xf(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(Ni(t)&&Ni(n))return!0}return!1}function Ef(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wf(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(Ni(i))n=i;else if("function"==typeof i)return;if(Ni(a))r=a;else if("function"==typeof a)return;var o=[n,r];if(xf(o))return o}}var _f=o(8351),Sf=o.n(_f),If=e=>e,Cf={"@@functional/placeholder":!0},Mf=e=>e===Cf,Of=e=>function t(){return 0===arguments.length||1===arguments.length&&Mf(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Tf=(e,t)=>1===e?t:Of((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter((e=>e!==Cf)).length;return a>=e?t(...r):Tf(e-a,Of((function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map((e=>Mf(e)?n.shift():e));return t(...a,...n)})))})),Pf=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Rf=(e=>Tf(e.length,e))(((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map((e=>t[e])).map(e))),Bf=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function kf(e){return 0===e?1:Math.floor(new(Sf())(e).abs().log(10).toNumber())+1}function Df(e,t,n){for(var r=new(Sf())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Lf=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},Nf=(e,t,n)=>{if(e.lte(0))return new(Sf())(0);var r=kf(e.toNumber()),i=new(Sf())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new(Sf())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?new(Sf())(s.toNumber()):new(Sf())(Math.ceil(s.toNumber()))},jf=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Sf())(0),tickMin:new(Sf())(0),tickMax:new(Sf())(0)};var a,o=Nf(new(Sf())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(Sf())(0):(a=new(Sf())(e).add(t).div(2)).sub(new(Sf())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(Sf())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?jf(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new(Sf())(s).mul(o)),tickMax:a.add(new(Sf())(l).mul(o))})},Uf=function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[o,s]=Lf([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Pf(0,r-1).map((()=>1/0))]:[...Pf(0,r-1).map((()=>-1/0)),s];return t>n?Bf(l):l}if(o===s)return((e,t,n)=>{var r=new(Sf())(1),i=new(Sf())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(Sf())(10).pow(kf(e)-1),i=new(Sf())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(Sf())(Math.floor(e)))}else 0===e?i=new(Sf())(Math.floor((t-1)/2)):n||(i=new(Sf())(Math.floor(e)));var o=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return If;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce(((e,t)=>t(e)),i(...arguments))}}(Rf((e=>i.add(new(Sf())(e-o).mul(r)).toNumber())),Pf);return s(0,t)})(o,r,i);var{step:c,tickMin:u,tickMax:d}=jf(o,s,a,i,0),h=Df(u,d.add(new(Sf())(.1).mul(c)),c);return t>n?Bf(h):h},Ff=e=>e.rootProps.maxBarSize,Qf=e=>e.rootProps.barGap,zf=e=>e.rootProps.barCategoryGap,Hf=e=>e.rootProps.barSize,Gf=e=>e.rootProps.stackOffset,Vf=e=>e.rootProps.reverseStackOrder,Kf=e=>e.options.chartName,Wf=e=>e.rootProps.syncId,qf=e=>e.rootProps.syncMethod,Yf=e=>e.options.eventEmitter,Xf={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Jf={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Xf.axis},$f={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Xf.axis},Zf=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},ep={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Jf.angleAxisId,includeHidden:!1,name:void 0,reversed:Jf.reversed,scale:Jf.scale,tick:Jf.tick,tickCount:void 0,ticks:void 0,type:Jf.type,unit:void 0},tp={allowDataOverflow:$f.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$f.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$f.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$f.scale,tick:$f.tick,tickCount:$f.tickCount,ticks:void 0,type:$f.type,unit:void 0},np={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Jf.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jf.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jf.scale,tick:Jf.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},rp={allowDataOverflow:$f.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$f.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$f.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$f.scale,tick:$f.tick,tickCount:$f.tickCount,ticks:void 0,type:"category",unit:void 0},ip=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?np:ep,ap=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?rp:tp,op=e=>e.polarOptions,sp=$e([li,ci,bi],il),lp=$e([op,sp],((e,t)=>{if(null!=e)return le(e.innerRadius,t,0)})),cp=$e([op,sp],((e,t)=>{if(null!=e)return le(e.outerRadius,t,.8*t)})),up=$e([op],(e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]})),dp=$e([ip,up],Zf),hp=$e([sp,lp,cp],((e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),fp=$e([ap,hp],Zf),pp=$e([ta,op,lp,cp,li,ci],((e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:le(o,i,i/2),cy:le(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),gp=(e,t)=>t,mp=(e,t,n)=>n;function Ap(e){return null==e?void 0:e.id}function yp(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach((e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var s=Ap(e);n.forEach(((t,n)=>{var r,l=null==a||i?n:String(Vr(t,a,null)),c=Vr(t,e.dataKey,0);r=o.has(l)?o.get(l):{},Object.assign(r,{[s]:c}),o.set(l,r)}))}})),Array.from(o.values())}function vp(e){return null!=e.stackId&&null!=e.dataKey}var bp=(e,t)=>e===t||null!=e&&null!=t&&e[0]===t[0]&&e[1]===t[1];function xp(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var Ep=e=>{var t=ta(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},wp=e=>e.tooltip.settings.axisId;function _p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(n),!0).forEach((function(t){Ip(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ip(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cp=[0,"auto"],Mp={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Op=(e,t)=>e.cartesianAxis.xAxis[t],Tp=(e,t)=>{var n=Op(e,t);return null==n?Mp:n},Pp={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Cp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},Rp=(e,t)=>e.cartesianAxis.yAxis[t],Bp=(e,t)=>{var n=Rp(e,t);return null==n?Pp:n},kp={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Dp=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?kp:n},Lp=(e,t,n)=>{switch(t){case"xAxis":return Tp(e,n);case"yAxis":return Bp(e,n);case"zAxis":return Dp(e,n);case"angleAxis":return ip(e,n);case"radiusAxis":return ap(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Np=(e,t,n)=>{switch(t){case"xAxis":return Tp(e,n);case"yAxis":return Bp(e,n);case"angleAxis":return ip(e,n);case"radiusAxis":return ap(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jp=e=>e.graphicalItems.cartesianItems.some((e=>"bar"===e.type))||e.graphicalItems.polarItems.some((e=>"radialBar"===e.type));function Up(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Fp=e=>e.graphicalItems.cartesianItems,Qp=$e([gp,mp],Up),zp=(e,t,n)=>e.filter(n).filter((e=>!0===(null==t?void 0:t.includeHidden)||!e.hide)),Hp=$e([Fp,Lp,Qp],zp,{memoizeOptions:{resultEqualityCheck:xp}}),Gp=$e([Hp],(e=>e.filter((e=>"area"===e.type||"bar"===e.type)).filter(vp))),Vp=e=>e.filter((e=>!("stackId"in e)||void 0===e.stackId)),Kp=$e([Hp],Vp),Wp=e=>e.map((e=>e.data)).filter(Boolean).flat(1),qp=$e([Hp],Wp,{memoizeOptions:{resultEqualityCheck:xp}}),Yp=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Xp=$e([qp,bf],Yp),Jp=(e,t,n)=>null!=(null==t?void 0:t.dataKey)?e.map((e=>({value:Vr(e,t.dataKey)}))):n.length>0?n.map((e=>e.dataKey)).flatMap((t=>e.map((e=>({value:Vr(e,t)}))))):e.map((e=>({value:e}))),$p=$e([Xp,Lp,Hp],Jp);function Zp(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function eg(e){if(ae(e)||e instanceof Date){var t=Number(e);if(Ni(t))return t}}function tg(e){if(Array.isArray(e)){var t=[eg(e[0]),eg(e[1])];return xf(t)?t:void 0}var n=eg(e);if(null!=n)return[n,n]}function ng(e){return e.map(eg).filter(pe)}var rg=e=>{var t=Ep(e),n=wp(e);return Np(e,t,n)},ig=$e([rg],(e=>null==e?void 0:e.dataKey)),ag=$e([Gp,bf,rg],yp),og=(e,t,n,r)=>{var i=t.reduce(((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e)),{});return Object.fromEntries(Object.entries(i).map((t=>{var[i,a]=t,o=r?[...a].reverse():a,s=o.map(Ap);return[i,{stackedData:$r(e,s,n),graphicalItems:o}]})))},sg=$e([ag,Gp,Gf,Vf],og),lg=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(null==r&&"zAxis"!==n){var o=((e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce(((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce(((e,r)=>{var i,a=(i=Qr(r,t,n).flat(2).filter(ie),[Math.min(...i),Math.max(...i)]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}),[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]}),[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]})(e,i,a);if(null==o||0!==o[0]||0!==o[1])return o}},cg=$e([Lp],(e=>e.allowDataOverflow)),ug=e=>{var t;if(null==e||!("domain"in e))return Cp;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=ng(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:Cp},dg=$e([Lp],ug),hg=$e([dg,cg],wf),fg=$e([sg,yf,gp,hg],lg,{memoizeOptions:{resultEqualityCheck:bp}}),pg=e=>e.errorBars,gg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},mg=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach((e=>{n.forEach((n=>{var s,l,c=null===(s=r[n.id])||void 0===s?void 0:s.filter((e=>Zp(i,e))),u=Vr(e,null!==(l=t.dataKey)&&void 0!==l?l:n.dataKey),d=function(e,t,n){return!n||"number"!=typeof t||ne(t)?[]:n.length?ng(n.flatMap((n=>{var r,i,a=Vr(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,Ni(r)&&Ni(i))return[t-r,t+i]}))):[]}(e,u,c);if(d.length>=2){var h=Math.min(...d),f=Math.max(...d);(null==a||h<a)&&(a=h),(null==o||f>o)&&(o=f)}var p=tg(u);null!=p&&(a=null==a?p[0]:Math.min(a,p[0]),o=null==o?p[1]:Math.max(o,p[1]))}))})),null!=(null==t?void 0:t.dataKey)&&e.forEach((e=>{var n=tg(Vr(e,t.dataKey));null!=n&&(a=null==a?n[0]:Math.min(a,n[0]),o=null==o?n[1]:Math.max(o,n[1]))})),Ni(a)&&Ni(o))return[a,o]},Ag=$e([Xp,Lp,Kp,pg,gp],mg,{memoizeOptions:{resultEqualityCheck:bp}});function yg(e){var{value:t}=e;if(ae(t)||t instanceof Date)return t}var vg=e=>e.referenceElements.dots,bg=(e,t,n)=>e.filter((e=>"extendDomain"===e.ifOverflow)).filter((e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n)),xg=$e([vg,gp,mp],bg),Eg=e=>e.referenceElements.areas,wg=$e([Eg,gp,mp],bg),_g=e=>e.referenceElements.lines,Sg=$e([_g,gp,mp],bg),Ig=(e,t)=>{var n=ng(e.map((e=>"xAxis"===t?e.x:e.y)));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Cg=$e(xg,gp,Ig),Mg=(e,t)=>{var n=ng(e.flatMap((e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2])));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Og=$e([wg,gp],Mg),Tg=(e,t)=>{var n=e.flatMap((e=>"xAxis"===t?function(e){var t;if(null!=e.x)return ng([e.x]);var n=null===(t=e.segment)||void 0===t?void 0:t.map((e=>e.x));return null==n||0===n.length?[]:ng(n)}(e):function(e){var t;if(null!=e.y)return ng([e.y]);var n=null===(t=e.segment)||void 0===t?void 0:t.map((e=>e.y));return null==n||0===n.length?[]:ng(n)}(e)));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Pg=$e([Sg,gp],Tg),Rg=$e(Cg,Pg,Og,((e,t,n)=>gg(e,n,t))),Bg=(e,t,n,r,i,a,o,s)=>null!=n?n:function(e,t,n){if(n||null!=t){if("function"==typeof e&&null!=t)try{var r=e(t,n);if(xf(r))return Ef(r,t,n)}catch(e){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(ie(o))i=o;else if("function"==typeof o)try{null!=t&&(i=o(null==t?void 0:t[0]))}catch(e){}else if("string"==typeof o&&ri.test(o)){var l=ri.exec(o);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null==t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(ie(s))a=s;else if("function"==typeof s)try{null!=t&&(a=s(null==t?void 0:t[1]))}catch(e){}else if("string"==typeof s&&ii.test(s)){var u=ii.exec(s);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null==t?void 0:t[1];var h=[i,a];if(xf(h))return null==t?h:Ef(h,t,n)}}}(t,"vertical"===o&&"xAxis"===s||"horizontal"===o&&"yAxis"===s?gg(r,a,i):gg(a,i),e.allowDataOverflow),kg=$e([Lp,dg,hg,fg,Ag,Rg,ta,gp],Bg,{memoizeOptions:{resultEqualityCheck:bp}}),Dg=[0,1],Lg=(e,t,n,r,i,a,o)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==o){var s,{dataKey:l,type:c}=e,u=Kr(t,a);return u&&null==l?ml()(0,null!==(s=null==n?void 0:n.length)&&void 0!==s?s:0):"category"===c?((e,t,n)=>{var r=e.map(yg).filter((e=>null!=e));return n&&(null==t.dataKey||t.allowDuplicatedCategory&&ce(r))?ml()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,u):"expand"===i?Dg:o}},Ng=$e([Lp,ta,Xp,$p,Gf,gp,kg],Lg),jg=(t,n,r,i,a)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===n&&"radiusAxis"===a?"band":"radial"===n&&"angleAxis"===a?"linear":"category"===s&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"==typeof o){var l="scale".concat(fe(o));return l in e?l:"point"}}},Ug=$e([Lp,ta,jp,Kf,gp],jg);function Fg(t,n,r,i){if(null!=r&&null!=i){if("function"==typeof t.scale)return t.scale.copy().domain(r).range(i);var a=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(fe(t));return n in e?e[n]():void 0}}(n);if(null!=a){var o=a.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Yr,a=Math.max(r[0],r[1])+Yr,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}})(o),o}}}var Qg=(e,t,n)=>{var r=ug(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&xf(e)?Uf(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&xf(e)?function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,o]=Lf([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=Nf(new(Sf())(o).sub(a).div(s-1),i,0),c=[...Df(new(Sf())(a),new(Sf())(o),l),o];return!1===i&&(c=c.map((e=>Math.round(e)))),n>r?Bf(c):c}(e,t.tickCount,t.allowDecimals):void 0},zg=$e([Ng,Np,Ug],Qg),Hg=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null==e?void 0:e.type)&&xf(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},Gg=$e([Lp,Ng,zg,gp],Hg),Vg=$e($p,Lp,((e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(ng(e.map((e=>e.value)))).sort(((e,t)=>e-t));if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}})),Kg=$e(Vg,ta,zf,bi,((e,t,n,r)=>r),((e,t,n,r,i)=>{if(!Ni(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=le(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0})),Wg=$e(Tp,((e,t)=>{var n=Tp(e,t);return null==n||"string"!=typeof n.padding?0:Kg(e,"xAxis",t,n.padding)}),((e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}})),qg=$e(Bp,((e,t)=>{var n=Bp(e,t);return null==n||"string"!=typeof n.padding?0:Kg(e,"yAxis",t,n.padding)}),((e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}})),Yg=$e([bi,Wg,Ci,Ii,(e,t,n)=>n],((e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]})),Xg=$e([bi,ta,qg,Ci,Ii,(e,t,n)=>n],((e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]})),Jg=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Yg(e,n,r);case"yAxis":return Xg(e,n,r);case"zAxis":return null===(i=Dp(e,n))||void 0===i?void 0:i.range;case"angleAxis":return up(e);case"radiusAxis":return hp(e,n);default:return}},$g=$e([Lp,Jg],Zf),Zg=$e([Lp,Ug,Gg,$g],Fg);function em(e,t){return e.id<t.id?-1:e.id>t.id?1:0}$e([Hp,pg,gp],((e,t,n)=>e.flatMap((e=>t[e.id])).filter(Boolean).filter((e=>Zp(n,e)))));var tm=(e,t)=>t,nm=(e,t,n)=>n,rm=$e(hi,tm,nm,((e,t,n)=>e.filter((e=>e.orientation===t)).filter((e=>e.mirror===n)).sort(em))),im=$e(fi,tm,nm,((e,t,n)=>e.filter((e=>e.orientation===t)).filter((e=>e.mirror===n)).sort(em))),am=(e,t)=>({width:e.width,height:t.height}),om=$e(bi,Tp,am),sm=$e(ci,bi,rm,tm,nm,((e,t,n,r,i)=>{var a,o={};return n.forEach((n=>{var s=am(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;o[n.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height})),o})),lm=$e(li,bi,im,tm,nm,((e,t,n,r,i)=>{var a,o={};return n.forEach((n=>{var s=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;o[n.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width})),o})),cm=$e([bi,Tp,(e,t)=>{var n=Tp(e,t);if(null!=n)return sm(e,n.orientation,n.mirror)},(e,t)=>t],((e,t,n,r)=>{if(null!=t){var i=null==n?void 0:n[r];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}})),um=$e([bi,Bp,(e,t)=>{var n=Bp(e,t);if(null!=n)return lm(e,n.orientation,n.mirror)},(e,t)=>t],((e,t,n,r)=>{if(null!=t){var i=null==n?void 0:n[r];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}})),dm=$e(bi,Bp,((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))),hm=(e,t,n)=>{switch(t){case"xAxis":return om(e,n).width;case"yAxis":return dm(e,n).height;default:return}},fm=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=Kr(e,r),l=t.map((e=>e.value));return o&&s&&"category"===a&&i&&ce(l)?l:void 0}},pm=$e([ta,$p,Lp,gp],fm),gm=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!Kr(e,r)||"number"!==i&&"auto"===a?void 0:t.map((e=>e.value))}},mm=$e([ta,$p,Np,gp],gm),Am=$e([ta,(e,t,n)=>{switch(t){case"xAxis":return Tp(e,n);case"yAxis":return Bp(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ug,Zg,pm,mm,Jg,zg,gp],((e,t,n,r,i,a,o,s,l)=>{if(null!=t){var c=Kr(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}})),ym=(e,t,n,r,i,a,o,s,l)=>{if(null!=t&&null!=r){var c=Kr(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"==typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*te(a[0]-a[1])*p:p;var g=d||i;return g?g.map(((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}})).filter((e=>Ni(e.coordinate))):c&&s?s.map(((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p}))).filter((e=>Ni(e.coordinate))):r.ticks?r.ticks(h).map((e=>({coordinate:r(e)+p,value:e,offset:p}))):r.domain().map(((e,t)=>({coordinate:r(e)+p,value:o?o[e]:e,index:t,offset:p})))}},vm=$e([ta,Np,Ug,Zg,zg,Jg,pm,mm,gp],ym),bm=(e,t,n,r,i,a,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=Kr(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null==r?void 0:r.length)>=2?2*te(r[0]-r[1])*c:c,s&&a?a.map(((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c}))):n.ticks?n.ticks(l).map((e=>({coordinate:n(e)+c,value:e,offset:c}))):n.domain().map(((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c})))}},xm=$e([ta,Np,Zg,Jg,pm,mm,gp],bm),Em=$e(Lp,Zg,((e,t)=>{if(null!=e&&null!=t)return Sp(Sp({},e),{},{scale:t})})),wm=$e([Lp,Ug,Ng,$g],Fg),_m=$e(((e,t,n)=>Dp(e,n)),wm,((e,t)=>{if(null!=e&&null!=t)return Sp(Sp({},e),{},{scale:t})})),Sm=$e([ta,hi,fi],((e,t,n)=>{switch(e){case"horizontal":return t.some((e=>e.reversed))?"right-to-left":"left-to-right";case"vertical":return n.some((e=>e.reversed))?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),Im=e=>e.options.defaultTooltipEventType,Cm=e=>e.options.validateTooltipEventTypes;function Mm(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function Om(e,t){return Mm(t,Im(e),Cm(e))}var Tm=(e,t)=>{var n,r=Number(t);if(!ne(r)&&null!=t)return r>=0?null==e||null===(n=e[r])||void 0===n?void 0:n.value:void 0},Pm={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Rm=zn({name:"tooltip",initialState:{itemInteraction:{click:Pm,hover:Pm},axisInteraction:{click:Pm,hover:Pm},keyboardInteraction:Pm,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ir()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Nt(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Ir()},removeTooltipEntrySettings:{reducer(e,t){var n=Nt(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ir()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Bm,replaceTooltipEntrySettings:km,removeTooltipEntrySettings:Dm,setTooltipSettingsState:Lm,setActiveMouseOverItemIndex:Nm,mouseLeaveItem:jm,mouseLeaveChart:Um,setActiveClickItemIndex:Fm,setMouseOverAxisIndex:Qm,setMouseClickAxisIndex:zm,setSyncInteraction:Hm,setKeyboardInteraction:Gm}=Rm.actions,Vm=Rm.reducer;function Km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Km(Object(n),!0).forEach((function(t){qm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Km(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ym=(e,t,n,r)=>{if(null==t)return Pm;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return Pm;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return Wm(Wm({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Wm(Wm({},Pm),{},{coordinate:i.coordinate})},Xm=(e,t,n,r)=>{var i=null==e?void 0:e.index;if(null==i)return null;var a=Number(i);if(!Ni(a))return i;var o=1/0;t.length>0&&(o=t.length-1);var s=Math.max(0,Math.min(a,o)),l=t[s];return null==l||function(e,t,n){if(null==n||null==t)return!0;var r=Vr(e,t);return null==r||!xf(n)||function(e,t){var n=function(e){if("number"==typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}(e),r=t[0],i=t[1];if(void 0===n)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}(r,n)}(l,n,r)?String(s):null},Jm=(e,t,n,r,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null==i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},$m=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter((e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i}));var i},Zm=e=>e.options.tooltipPayloadSearcher,eA=e=>e.tooltip;function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(n),!0).forEach((function(t){rA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iA=(e,t,n,r,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce(((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:g}=n,m=function(e,t){return null!=e?e:t}(p,s),A=Array.isArray(m)?Qr(m,c,u):m,y=null!==(d=null==g?void 0:g.dataKey)&&void 0!==d?d:r,v=null==g?void 0:g.nameKey;return h=r&&Array.isArray(A)&&!Array.isArray(A[0])&&"axis"===o?de(A,r,i):a(A,t,l,v),Array.isArray(h)?h.forEach((t=>{var n=nA(nA({},g),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(oi({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:Vr(t.payload,t.dataKey),name:t.name}))})):e.push(oi({tooltipEntrySettings:g,dataKey:y,payload:h,value:Vr(h,y),name:null!==(f=Vr(h,v))&&void 0!==f?f:null==g?void 0:g.name})),e}),[])}},aA=$e([rg,ta,jp,Kf,Ep],jg),oA=$e([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],((e,t)=>[...e,...t])),sA=$e([Ep,wp],Up),lA=$e([oA,rg,sA],zp,{memoizeOptions:{resultEqualityCheck:xp}}),cA=$e([lA],(e=>e.filter(vp))),uA=$e([lA],Wp,{memoizeOptions:{resultEqualityCheck:xp}}),dA=$e([uA,yf],Yp),hA=$e([cA,yf,rg],yp),fA=$e([dA,rg,lA],Jp),pA=$e([rg],ug),gA=$e([rg],(e=>e.allowDataOverflow)),mA=$e([pA,gA],wf),AA=$e([lA],(e=>e.filter(vp))),yA=$e([hA,AA,Gf,Vf],og),vA=$e([yA,yf,Ep,mA],lg),bA=$e([lA],Vp),xA=$e([dA,rg,bA,pg,Ep],mg,{memoizeOptions:{resultEqualityCheck:bp}}),EA=$e([vg,Ep,wp],bg),wA=$e([EA,Ep],Ig),_A=$e([Eg,Ep,wp],bg),SA=$e([_A,Ep],Mg),IA=$e([_g,Ep,wp],bg),CA=$e([IA,Ep],Tg),MA=$e([wA,CA,SA],gg),OA=$e([rg,pA,mA,vA,xA,MA,ta,Ep],Bg),TA=$e([rg,ta,dA,fA,Gf,Ep,OA],Lg),PA=$e([TA,rg,aA],Qg),RA=$e([rg,TA,PA,Ep],Hg),BA=e=>{var t=Ep(e),n=wp(e);return Jg(e,t,n,!1)},kA=$e([rg,BA],Zf),DA=$e([rg,aA,RA,kA],Fg),LA=$e([ta,fA,rg,Ep],fm),NA=$e([ta,fA,rg,Ep],gm),jA=$e([ta,rg,aA,DA,BA,LA,NA,Ep],((e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=Kr(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null==i?void 0:i.length)>=2?2*te(i[0]-i[1])*d:d,c&&o?o.map(((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d}))):r.domain().map(((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d})))}}})),UA=$e([Im,Cm,e=>e.tooltip.settings],((e,t,n)=>Mm(n.shared,e,t))),FA=e=>e.tooltip.settings.trigger,QA=e=>e.tooltip.settings.defaultIndex,zA=$e([eA,UA,FA,QA],Ym),HA=$e([zA,dA,ig,TA],Xm),GA=$e([jA,HA],Tm),VA=$e([zA],(e=>{if(e)return e.dataKey})),KA=$e([zA],(e=>{if(e)return e.graphicalItemId})),WA=$e([eA,UA,FA,QA],$m),qA=$e([li,ci,ta,bi,jA,QA,WA,Zm],Jm),YA=$e([zA,qA],((e,t)=>null!=e&&e.coordinate?e.coordinate:t)),XA=$e([zA],(e=>e.active)),JA=$e([WA,HA,yf,ig,GA,Zm,UA],iA),$A=$e([JA],(e=>{if(null!=e){var t=e.map((e=>e.payload)).filter((e=>null!=e));return Array.from(new Set(t))}}));function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZA(Object(n),!0).forEach((function(t){ty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ty(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ny=()=>{var e=qe(rg),t=qe(jA),n=qe(DA);return ai(e&&n?ey(ey({},e),{},{scale:n}):void 0,t)};function ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(n),!0).forEach((function(t){ay(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ay(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oy=(e,t,n,r,i)=>{var a,o=-1,s=null!==(a=null==t?void 0:t.length)&&void 0!==a?a:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(te(u-c)!==te(d-u)){var f=[];if(te(d-u)===te(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var g=d+i[1]-i[0];f[0]=Math.min(u,(g+u)/2),f[1]=Math.max(u,(g+u)/2)}var m=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>m[0]&&e<=m[1]||e>=f[0]&&e<=f[1]){({index:o}=n[l]);break}}else{var A=Math.min(c,d),y=Math.max(c,d);if(e>(A+u)/2&&e<=(y+u)/2){({index:o}=n[l]);break}}}else if(t)for(var v=0;v<s;v++)if(0===v&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<s-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===s-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:o}=t[v]);break}return o},sy=()=>qe(Kf),ly=(e,t)=>t,cy=(e,t,n)=>n,uy=(e,t,n,r)=>r,dy=$e(jA,(e=>tt()(e,(e=>e.coordinate)))),hy=$e([eA,ly,cy,uy],Ym),fy=$e([hy,dA,ig,TA],Xm),py=(e,t,n)=>{if(null!=t){var r=eA(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},gy=$e([eA,ly,cy,uy],$m),my=$e([li,ci,ta,bi,jA,uy,gy,Zm],Jm),Ay=$e([hy,my],((e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t})),yy=$e([jA,fy],Tm),vy=$e([gy,fy,yf,ig,yy,Zm,ly],iA),by=$e([hy,fy],((e,t)=>({isActive:e.active&&null!=t,activeIndex:t}))),xy=$e((e=>e.zIndex.zIndexMap),((e,t)=>t),((e,t,n)=>n),((e,t,n)=>{if(null!=t){var r=e[t];if(null!=r)return n?r.panoramaElementId:r.elementId}})),Ey=$e((e=>e.zIndex.zIndexMap),(e=>{var t=Object.keys(e).map((e=>parseInt(e,10))).concat(Object.values(Xf));return Array.from(new Set(t)).sort(((e,t)=>e-t))}),{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}}});function wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wy(Object(n),!0).forEach((function(t){Sy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Iy={zIndexMap:Object.values(Xf).reduce(((e,t)=>_y(_y({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}})),{})},Cy=new Set(Object.values(Xf)),My=zn({name:"zIndex",initialState:Iy,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ir()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!function(e){return Cy.has(e)}(n)&&delete e.zIndexMap[n])},prepare:Ir()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Ir()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Ir()}}}),{registerZIndexPortal:Oy,unregisterZIndexPortal:Ty,registerZIndexPortalId:Py,unregisterZIndexPortalId:Ry}=My.actions,By=My.reducer;function ky(e){var{zIndex:n,children:r}=e,i=ra()&&void 0!==n&&0!==n,a=_i(),o=Ge();(0,t.useLayoutEffect)((()=>i?(o(Oy({zIndex:n})),()=>{o(Ty({zIndex:n}))}):ge),[o,n,i]);var s=qe((e=>xy(e,n,a)));if(!i)return r;if(!s)return null;var l=document.getElementById(s);return l?(0,b.createPortal)(r,l):null}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(null,arguments)}function Ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ly(Object(n),!0).forEach((function(t){jy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uy(e){var{cursor:n,cursorComp:r,cursorProps:i}=e;return(0,t.isValidElement)(n)?(0,t.cloneElement)(n,i):(0,t.createElement)(r,i)}function Fy(e){var n,i,a,o,{coordinate:s,payload:l,index:c,offset:u,tooltipAxisBandSize:d,layout:f,cursor:p,tooltipEventType:g,chartName:m}=e,A=s,y=l,v=c;if(!p||!A||"ScatterChart"!==m&&"axis"!==g)return null;if("ScatterChart"===m)i=A,a=fs,o=Xf.cursorLine;else if("BarChart"===m)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,A,u,d),a=Xs,o=Xf.cursorRectangle;else if("radial"===f&&_e(A)){var{cx:b,cy:x,radius:E,startAngle:w,endAngle:_}=ll(A);i={cx:b,cy:x,startAngle:w,endAngle:_,innerRadius:E,outerRadius:E},a=fl,o=Xf.cursorLine}else i={points:pl(f,A,u)},a=ss,o=Xf.cursorLine;var S="object"==typeof p&&"className"in p?p.className:void 0,I=Ny(Ny(Ny(Ny({stroke:"#ccc",pointerEvents:"none"},u),i),h(p)),{},{payload:y,payloadIndex:v,className:r("recharts-tooltip-cursor",S)});return t.createElement(ky,{zIndex:null!==(n=e.zIndex)&&void 0!==n?n:o},t.createElement(Uy,{cursor:p,cursorComp:a,cursorProps:I}))}function Qy(e){var n=ny(),r=Ji(),i=na(),a=sy();return null==n||null==r||null==i||null==a?null:t.createElement(Fy,Dy({},e,{offset:r,layout:i,tooltipAxisBandSize:n,chartName:a}))}var zy=(0,t.createContext)(null),Hy=()=>(0,t.useContext)(zy),Gy=new(o(228)),Vy="recharts.syncEvent.tooltip",Ky="recharts.syncEvent.brush";function Wy(e,t){if(t){var n=Number.parseInt(t,10);if(!ne(n))return null==e?void 0:e[n]}}var qy=zn({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yy=qy.reducer,{createEventEmitter:Xy}=qy.actions;function Jy(e){return e.tooltip.syncInteraction}var $y=zn({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Zy,setDataStartEndIndexes:ev,setComputedData:tv}=$y.actions,nv=$y.reducer,rv=["x","y"];function iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function av(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iv(Object(n),!0).forEach((function(t){ov(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ov(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sv(){var e=Ge();(0,t.useEffect)((()=>{e(Xy())}),[e]),function(){var e=qe(Wf),n=qe(Yf),r=Ge(),i=qe(qf),a=qe(jA),o=na(),s=Yi(),l=qe((e=>e.rootProps.className));(0,t.useEffect)((()=>{if(null==e)return ge;var t=(t,l,c)=>{var u;if(n!==c&&e===t)if("index"!==i){if(null!=a){var d;if("function"==typeof i){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=i(a,h);d=a[f]}else"value"===i&&(d=a.find((e=>String(e.value)===l.payload.label)));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=s){var{x:g,y:m}=p,A=Math.min(g,s.x+s.width),y=Math.min(m,s.y+s.height),v={x:"horizontal"===o?d.coordinate:A,y:"horizontal"===o?y:d.coordinate},b=Hm({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId});r(b)}else r(Hm({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(s&&null!=l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate&&l.payload.sourceViewBox){var x=l.payload.coordinate,{x:E,y:w}=x,_=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(x,rv),{x:S,y:I,width:C,height:M}=l.payload.sourceViewBox,O=av(av({},_),{},{x:s.x+(C?(E-S)/C:0)*s.width,y:s.y+(M?(w-I)/M:0)*s.height});r(av(av({},l),{},{payload:av(av({},l.payload),{},{coordinate:O})}))}else r(l)};return Gy.on(Vy,t),()=>{Gy.off(Vy,t)}}),[l,r,n,e,i,a,o,s])}(),function(){var e=qe(Wf),n=qe(Yf),r=Ge();(0,t.useEffect)((()=>{if(null==e)return ge;var t=(t,i,a)=>{n!==a&&e===t&&r(ev(i))};return Gy.on(Ky,t),()=>{Gy.off(Ky,t)}}),[r,n,e])}()}function lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lv(Object(n),!0).forEach((function(t){uv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dv(e){return e.dataKey}var hv=[],fv={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pv(e){var n,r,i=Oe(e,fv),{active:a,allowEscapeViewBox:o,animationDuration:s,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:f,position:p,reverseDirection:g,useTranslate3d:m,wrapperStyle:A,cursor:y,shared:v,trigger:x,defaultIndex:E,portal:w,axisId:_}=i,S=Ge(),I="number"==typeof E?String(E):E;(0,t.useEffect)((()=>{S(Lm({shared:v,trigger:x,axisId:_,active:a,defaultIndex:I}))}),[S,v,x,_,a,I]);var C=Yi(),M=Mo(),O=function(e){return qe((t=>Om(t,e)))}(v),{activeIndex:T,isActive:P}=null!==(n=qe((e=>by(e,O,x,I))))&&void 0!==n?n:{},R=qe((e=>vy(e,O,x,I))),B=qe((e=>yy(e,O,x,I))),k=qe((e=>Ay(e,O,x,I))),D=R,L=Hy(),N=null!==(r=null!=a?a:P)&&void 0!==r&&r,[j,U]=at([D,N]),F="axis"===O?B:void 0;!function(e,n,r,i,a,o){var s=qe((t=>py(t,e,n))),l=qe(Yf),c=qe(Wf),u=qe(qf),d=qe(Jy),h=null==d?void 0:d.active,f=Yi();(0,t.useEffect)((()=>{if(!h&&null!=c&&null!=l){var e=Hm({active:o,coordinate:r,dataKey:s,index:a,label:"number"==typeof i?String(i):i,sourceViewBox:f,graphicalItemId:void 0});Gy.emit(Vy,c,e,l)}}),[h,r,s,a,i,l,c,u,o,f])}(O,x,k,F,T,N);var Q=null!=w?w:L;if(null==Q||null==C||null==O)return null;var z=null!=D?D:hv;N||(z=hv),u&&z.length&&(z=Fe(z.filter((e=>null!=e.value&&(!0!==e.hide||i.includeHidden))),f,dv));var H=z.length>0,G=t.createElement(Co,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:N,coordinate:k,hasPayload:H,offset:h,position:p,reverseDirection:g,useTranslate3d:m,viewBox:C,wrapperStyle:A,lastBoundingBox:j,innerRef:U,hasPortalFromProps:Boolean(w)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"==typeof e?t.createElement(e,n):t.createElement(vo,n)}(c,cv(cv({},i),{},{payload:z,label:F,active:N,activeIndex:T,coordinate:k,accessibilityLayer:M})));return t.createElement(t.Fragment,null,(0,b.createPortal)(G,Q),N&&t.createElement(Qy,{cursor:y,tooltipEventType:O,coordinate:k,payload:z,index:T}))}var gv=e=>null;function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Av(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gv.displayName="Cell";var yv=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(n),!0).forEach((function(t){Av(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{cacheSize:2e3,enableCache:!0}),vv=new class{constructor(e){(function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;null!=n&&this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(yv.cacheSize),bv={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xv="recharts_measurement_span",Ev=(e,t)=>{try{var n=document.getElementById(xv);n||((n=document.createElement("span")).setAttribute("id",xv),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,bv,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(e){return{width:0,height:0}}},wv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||Ds.isSsr)return{width:0,height:0};if(!yv.enableCache)return Ev(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}(e,t),r=vv.get(n);if(r)return r;var i=Ev(e,t);return vv.set(n,i),i},_v=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Iv=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cv=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mv={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Ov=Object.keys(Mv),Tv="NaN";class Pv{static parse(e){var t,[,n,r]=null!==(t=Cv.exec(e))&&void 0!==t?t:[];return new Pv(parseFloat(n),null!=r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,ne(e)&&(this.unit=""),""===t||Iv.test(t)||(this.num=NaN,this.unit=""),Ov.includes(t)&&(this.num=function(e,t){return e*Mv[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Pv(NaN,""):new Pv(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Pv(NaN,""):new Pv(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Pv(NaN,""):new Pv(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Pv(NaN,""):new Pv(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ne(this.num)}}function Rv(e){if(e.includes(Tv))return Tv;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=_v.exec(t))&&void 0!==n?n:[],o=Pv.parse(null!=r?r:""),s=Pv.parse(null!=a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return Tv;t=t.replace(_v,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=Sv.exec(t))&&void 0!==c?c:[],f=Pv.parse(null!=u?u:""),p=Pv.parse(null!=h?h:""),g="+"===d?f.add(p):f.subtract(p);if(g.isNaN())return Tv;t=t.replace(Sv,g.toString())}return t}var Bv=/\(([^()]*)\)/;function kv(e){var t=function(e){try{return function(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=Bv.exec(n));){var[,r]=t;n=n.replace(Bv,Rv(r))}return n}(t),Rv(t)}(e)}catch(e){return Tv}}(e.slice(5,-1));return t===Tv?"":t}var Dv=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Lv=["dx","dy","angle","className","breakAll"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(null,arguments)}function jv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Uv=/[ \f\n\r\t\v\u2028\u2029]+/,Fv=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return he(t)||(i=n?t.toString().split(""):t.toString().split(Uv)),{wordsWithComputedWidth:i.map((e=>({word:e,width:wv(e,r).width}))),spaceWidth:n?0:wv("\xa0",r).width}}catch(e){return null}};function Qv(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var zv=(e,t,n,r)=>e.reduce(((e,i)=>{var{word:a,width:o}=i,s=e[e.length-1];if(s&&null!=o&&(null==t||r||s.width+o+n<Number(t)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e}),[]),Hv=e=>e.reduce(((e,t)=>e.width>t.width?e:t)),Gv=(e,t,n,r,i,a,o,s)=>{var l=e.slice(0,t),c=Fv({breakAll:n,style:r,children:l+"\u2026"});if(!c)return[!1,[]];var u=zv(c.wordsWithComputedWidth,a,o,s);return[u.length>i||Hv(u).width>Number(a),u]},Vv=e=>[{words:he(e)?[]:e.toString().split(Uv),width:void 0}],Kv="#808080",Wv={angle:0,breakAll:!1,capHeight:"0.71em",fill:Kv,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},qv=(0,t.forwardRef)(((e,n)=>{var i=Oe(e,Wv),{x:a,y:o,lineHeight:s,capHeight:l,fill:c,scaleToFit:u,textAnchor:d,verticalAnchor:h}=i,p=jv(i,Dv),g=(0,t.useMemo)((()=>(e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!Ds.isSsr){var s=Fv({breakAll:a,children:r,style:i});if(!s)return Vv(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=ie(a),u=String(o),d=zv(t,r,n,i);if(!c||i)return d;if(!(d.length>a||Hv(d).width>Number(r)))return d;for(var h,f=0,p=u.length-1,g=0;f<=p&&g<=u.length-1;){var m=Math.floor((f+p)/2),A=m-1,[y,v]=Gv(u,A,l,s,a,r,n,i),[b]=Gv(u,m,l,s,a,r,n,i);if(y||b||(f=m+1),y&&b&&(p=m-1),!y&&b){h=v;break}g++}return h||d})({breakAll:a,children:r,maxLines:o,style:i},l,c,t,Boolean(n))}return Vv(r)})({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width})),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:m,dy:A,angle:y,className:v,breakAll:b}=p,x=jv(p,Lv);if(!ae(a)||!ae(o)||0===g.length)return null;var E,w=Number(a)+(ie(m)?m:0),_=Number(o)+(ie(A)?A:0);if(!Ni(w)||!Ni(_))return null;switch(h){case"start":E=kv("calc(".concat(l,")"));break;case"middle":E=kv("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:E=kv("calc(".concat(g.length-1," * -").concat(s,")"))}var S=[];if(u){var I=g[0].width,{width:C}=p;S.push("scale(".concat(ie(C)&&ie(I)?C/I:1,")"))}return y&&S.push("rotate(".concat(y,", ").concat(w,", ").concat(_,")")),S.length&&(x.transform=S.join(" ")),t.createElement("text",Nv({},f(x),{ref:n,x:w,y:_,className:r("recharts-text",v),textAnchor:d,fill:c.includes("url")?Kv:c}),g.map(((e,n)=>{var r=e.words.join(b?"":" ");return t.createElement("tspan",{x:w,dy:0===n?E:s,key:"".concat(r,"-").concat(n)},r)})))}));qv.displayName="Text";var Yv=["labelRef"];function Xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xv(Object(n),!0).forEach((function(t){$v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zv.apply(null,arguments)}var eb=(0,t.createContext)(null),tb=e=>{var{x:n,y:r,upperWidth:i,lowerWidth:a,width:o,height:s,children:l}=e,c=(0,t.useMemo)((()=>({x:n,y:r,upperWidth:i,lowerWidth:a,width:o,height:s})),[n,r,i,a,o,s]);return t.createElement(eb.Provider,{value:c},l)},nb=()=>{var e=(0,t.useContext)(eb),n=Yi();return e||qi(n)},rb=(0,t.createContext)(null),ib=e=>{var{cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:o,endAngle:s,clockWise:l,children:c}=e,u=(0,t.useMemo)((()=>({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:o,endAngle:s,clockWise:l})),[n,r,i,a,o,s,l]);return t.createElement(rb.Provider,{value:u},c)},ab=()=>{var e=(0,t.useContext)(rb),n=qe(pp);return e||n},ob=e=>{var{value:t,formatter:n}=e,r=he(e.children)?t:e.children;return"function"==typeof n?n(r):r},sb=e=>null!=e&&"function"==typeof e,lb=(e,n,i,a,o)=>{var s,l,{offset:c,className:u}=e,{cx:d,cy:h,innerRadius:f,outerRadius:p,startAngle:g,endAngle:m,clockWise:A}=o,y=(f+p)/2,v=((e,t)=>te(t-e)*Math.min(Math.abs(t-e),360))(g,m),b=v>=0?1:-1;switch(n){case"insideStart":s=g+b*c,l=A;break;case"insideEnd":s=m-b*c,l=!A;break;case"end":s=m+b*c,l=A;break;default:throw new Error("Unsupported position ".concat(n))}l=v<=0?l:!l;var x=rl(d,h,y,s),E=rl(d,h,y,s+359*(l?1:-1)),w="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(l?0:1,",\n    ").concat(E.x,",").concat(E.y),_=he(e.id)?se("recharts-radial-line-"):e.id;return t.createElement("text",Zv({},a,{dominantBaseline:"central",className:r("recharts-radial-bar-label",u)}),t.createElement("defs",null,t.createElement("path",{id:_,d:w})),t.createElement("textPath",{xlinkHref:"#".concat(_)},i))},cb=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:d}=rl(r,i,o+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:f,y:p}=rl(r,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}},ub=e=>"cx"in e&&ie(e.cx),db=(e,t)=>{var n,{parentViewBox:r,offset:i,position:a}=e;null==r||ub(r)||(n=r);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u}=t,d=o,h=o+(l-c)/2,f=(d+h)/2,p=(l+c)/2,g=d+l/2,m=u>=0?1:-1,A=m*i,y=m>0?"end":"start",v=m>0?"start":"end",b=l>=0?1:-1,x=b*i,E=b>0?"end":"start",w=b>0?"start":"end";if("top"===a)return Jv(Jv({},{x:d+l/2,y:s-A,textAnchor:"middle",verticalAnchor:y}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return Jv(Jv({},{x:h+c/2,y:s+u+A,textAnchor:"middle",verticalAnchor:v}),n?{height:Math.max(n.y+n.height-(s+u),0),width:c}:{});if("left"===a){var _={x:f-x,y:s+u/2,textAnchor:E,verticalAnchor:"middle"};return Jv(Jv({},_),n?{width:Math.max(_.x-n.x,0),height:u}:{})}if("right"===a){var S={x:f+p+x,y:s+u/2,textAnchor:w,verticalAnchor:"middle"};return Jv(Jv({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var I=n?{width:p,height:u}:{};return"insideLeft"===a?Jv({x:f+x,y:s+u/2,textAnchor:w,verticalAnchor:"middle"},I):"insideRight"===a?Jv({x:f+p-x,y:s+u/2,textAnchor:E,verticalAnchor:"middle"},I):"insideTop"===a?Jv({x:d+l/2,y:s+A,textAnchor:"middle",verticalAnchor:v},I):"insideBottom"===a?Jv({x:h+c/2,y:s+u-A,textAnchor:"middle",verticalAnchor:y},I):"insideTopLeft"===a?Jv({x:d+x,y:s+A,textAnchor:w,verticalAnchor:v},I):"insideTopRight"===a?Jv({x:d+l-x,y:s+A,textAnchor:E,verticalAnchor:v},I):"insideBottomLeft"===a?Jv({x:h+x,y:s+u-A,textAnchor:w,verticalAnchor:y},I):"insideBottomRight"===a?Jv({x:h+c-x,y:s+u-A,textAnchor:E,verticalAnchor:y},I):a&&"object"==typeof a&&(ie(a.x)||re(a.x))&&(ie(a.y)||re(a.y))?Jv({x:o+le(a.x,p),y:s+le(a.y,u),textAnchor:"end",verticalAnchor:"end"},I):Jv({x:g,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},hb={angle:0,offset:5,zIndex:Xf.label,position:"middle",textBreakAll:!1};function fb(e){var n,i,a,o=Oe(e,hb),{viewBox:s,position:l,value:c,children:u,content:d,className:h="",textBreakAll:p,labelRef:g}=o,m=ab(),A=nb();if(!(n=null==s?"center"===l?A:null!=m?m:A:ub(s)?s:qi(s))||he(c)&&he(u)&&!(0,t.isValidElement)(d)&&"function"!=typeof d)return null;var y=Jv(Jv({},o),{},{viewBox:n});if((0,t.isValidElement)(d)){var{labelRef:v}=y,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(y,Yv);return(0,t.cloneElement)(d,b)}if("function"==typeof d){if(i=(0,t.createElement)(d,y),(0,t.isValidElement)(i))return i}else i=ob(o);var x=f(o);if(ub(n)){if("insideStart"===l||"insideEnd"===l||"end"===l)return lb(o,l,i,x,n);a=cb(n,o.offset,o.position)}else a=db(o,n);return t.createElement(ky,{zIndex:o.zIndex},t.createElement(qv,Zv({ref:g,className:r("recharts-label",h)},x,a,{textAnchor:Qv(x.textAnchor)?x.textAnchor:a.textAnchor,breakAll:p}),i))}fb.displayName="Label";var pb=(e,n,r)=>{if(!e)return null;var i={viewBox:n,labelRef:r};return!0===e?t.createElement(fb,Zv({key:"label-implicit"},i)):ae(e)?t.createElement(fb,Zv({key:"label-implicit",value:e},i)):(0,t.isValidElement)(e)?e.type===fb?(0,t.cloneElement)(e,Jv({key:"label-implicit"},i)):t.createElement(fb,Zv({key:"label-implicit",content:e},i)):sb(e)?t.createElement(fb,Zv({key:"label-implicit",content:e},i)):e&&"object"==typeof e?t.createElement(fb,Zv({},e,{key:"label-implicit"},i)):null};function gb(e){var{label:t,labelRef:n}=e,r=nb();return pb(t,r,n)||null}function mb(e){var{label:t}=e,n=ab();return pb(t,n)||null}var Ab=o(25),yb=o.n(Ab),vb=["valueAccessor"],bb=["dataKey","clockWise","id","textBreakAll","zIndex"];function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(null,arguments)}function Eb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var wb=e=>Array.isArray(e.value)?yb()(e.value):e.value,_b=(0,t.createContext)(void 0),Sb=_b.Provider,Ib=(0,t.createContext)(void 0),Cb=Ib.Provider;function Mb(e){var{valueAccessor:n=wb}=e,r=Eb(e,vb),{dataKey:i,clockWise:a,id:o,textBreakAll:s,zIndex:l}=r,c=Eb(r,bb),u=(0,t.useContext)(_b),d=(0,t.useContext)(Ib),h=u||d;return h&&h.length?t.createElement(ky,{zIndex:null!=l?l:Xf.label},t.createElement(v,{className:"recharts-label-list"},h.map(((e,a)=>{var l,u=he(i)?n(e,a):Vr(e&&e.payload,i),d=he(o)?{}:{id:"".concat(o,"-").concat(a)};return t.createElement(fb,xb({key:"label-".concat(a)},f(e),c,d,{fill:null!==(l=r.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:s,viewBox:e.viewBox,index:a,zIndex:0}))})))):null}function Ob(e){var{label:n}=e;return n?!0===n?t.createElement(Mb,{key:"labelList-implicit"}):t.isValidElement(n)||sb(n)?t.createElement(Mb,{key:"labelList-implicit",content:n}):"object"==typeof n?t.createElement(Mb,xb({key:"labelList-implicit"},n,{type:String(n.type)})):null:null}Mb.displayName="LabelList";var Tb=["component"];function Pb(e){var n,{component:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Tb);return(0,t.isValidElement)(r)?n=(0,t.cloneElement)(r,i):"function"==typeof r?n=(0,t.createElement)(r,i):Ti(!1,"Customized's props `component` must be React.element or Function, but got %s.",typeof r),t.createElement(v,{className:"recharts-customized-wrapper"},n)}Pb.displayName="Customized";var Rb=["points","className","baseLinePoints","connectNulls"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bb.apply(null,arguments)}var kb=e=>e&&e.x===+e.x&&e.y===+e.y,Db=(e,t)=>{var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((e=>{kb(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),kb(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(((e,t)=>[...e,...t]),[])]);var r=n.map((e=>e.reduce(((e,t,n)=>"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)),""))).join("");return 1===n.length?"".concat(r,"Z"):r},Lb=e=>{var{points:n,className:i,baseLinePoints:a,connectNulls:o}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Rb);if(!n||!n.length)return null;var l=r("recharts-polygon",i);if(a&&a.length){var c=s.stroke&&"none"!==s.stroke,u=((e,t,n)=>{var r=Db(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(Db(Array.from(t).reverse(),n).slice(1))})(n,a,o);return t.createElement("g",{className:l},t.createElement("path",Bb({},f(s),{fill:"Z"===u.slice(-1)?s.fill:"none",stroke:"none",d:u})),c?t.createElement("path",Bb({},f(s),{fill:"none",d:Db(n,o)})):null,c?t.createElement("path",Bb({},f(s),{fill:"none",d:Db(a,o)})):null)}var d=Db(n,o);return t.createElement("path",Bb({},f(s),{fill:"Z"===d.slice(-1)?s.fill:"none",className:l,d}))};function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nb.apply(null,arguments)}var jb=e=>{var{cx:n,cy:i,r:a,className:o}=e,s=r("recharts-dot",o);return ie(n)&&ie(i)&&ie(a)?t.createElement("circle",Nb({},d(e),Se(e),{className:s,cx:n,cy:i,r:a})):null},Ub=e=>e.graphicalItems.polarItems,Fb=$e([gp,mp],Up),Qb=$e([Ub,Lp,Fb],zp),zb=$e([Qb],Wp),Hb=$e([zb,vf],Yp),Gb=$e([Hb,Lp,Qb],Jp),Vb=($e([Hb,Lp,Qb],((e,t,n)=>n.length>0?e.flatMap((e=>n.flatMap((n=>{var r;return{value:Vr(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})))).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map((e=>({value:Vr(e,t.dataKey),errorDomain:[]}))):e.map((e=>({value:e,errorDomain:[]}))))),()=>{}),Kb=$e([Hb,Lp,Qb,pg,gp],mg),Wb=$e([Lp,dg,hg,Vb,Kb,Vb,ta,gp],Bg),qb=$e([Lp,ta,Hb,Gb,Gf,gp,Wb],Lg),Yb=$e([qb,Lp,Ug],Qg),Xb=$e([Lp,qb,Yb,gp],Hg),Jb=(e,t,n)=>{switch(t){case"angleAxis":return ip(e,n);case"radiusAxis":return ap(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},$b=(e,t,n)=>{switch(t){case"angleAxis":return dp(e,n);case"radiusAxis":return fp(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Zb=$e([Jb,Ug,Xb,$b],Fg),ex=$e([ta,Gb,Np,gp],gm),tx=$e([ta,Jb,Ug,Zb,Yb,$b,pm,ex,gp],ym),nx=$e([tx],(e=>{if(e){var t=new Map;return e.forEach((e=>{var n=(e.coordinate+360)%360;t.has(n)||t.set(n,e)})),Array.from(t.values())}})),rx=$e([ta,Jb,Zb,$b,pm,ex,gp],bm),ix=$e([(e,t)=>tx(e,"angleAxis",t,!1)],(e=>{if(e)return e.map((e=>e.coordinate))})),ax=$e([(e,t)=>tx(e,"radiusAxis",t,!1)],(e=>{if(e)return e.map((e=>e.coordinate))})),ox=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sx.apply(null,arguments)}function lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lx(Object(n),!0).forEach((function(t){ux(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ux(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dx=(e,t,n,r)=>{var i="";return r.forEach(((r,a)=>{var o=rl(t,n,e,r);i+=a?"L ".concat(o.x,",").concat(o.y):"M ".concat(o.x,",").concat(o.y)})),i+="Z"},hx=e=>{var{cx:n,cy:r,innerRadius:i,outerRadius:a,polarAngles:o,radialLines:s}=e;if(!o||!o.length||!s)return null;var l=cx({stroke:"#ccc"},d(e));return t.createElement("g",{className:"recharts-polar-grid-angle"},o.map((e=>{var o=rl(n,r,i,e),s=rl(n,r,a,e);return t.createElement("line",sx({key:"line-".concat(e)},l,{x1:o.x,y1:o.y,x2:s.x,y2:s.y}))})))},fx=e=>{var{cx:n,cy:i,radius:a}=e,o=cx({stroke:"#ccc",fill:"none"},d(e));return t.createElement("circle",sx({},o,{className:r("recharts-polar-grid-concentric-circle",e.className),cx:n,cy:i,r:a}))},px=e=>{var{radius:n}=e,i=cx({stroke:"#ccc",fill:"none"},d(e));return t.createElement("path",sx({},i,{className:r("recharts-polar-grid-concentric-polygon",e.className),d:dx(n,e.cx,e.cy,e.polarAngles)}))},gx=e=>{var{polarRadius:n,gridType:r}=e;if(!n||!n.length)return null;var i=Math.max(...n),a=e.fill&&"none"!==e.fill;return t.createElement("g",{className:"recharts-polar-grid-concentric"},a&&"circle"===r&&t.createElement(fx,sx({},e,{radius:i})),a&&"circle"!==r&&t.createElement(px,sx({},e,{radius:i})),n.map(((n,i)=>{var a=i;return"circle"===r?t.createElement(fx,sx({key:a},e,{fill:"none",radius:n})):t.createElement(px,sx({key:a},e,{fill:"none",radius:n}))})))},mx=e=>{var n,r,i,a,o,s,l,c,u,{gridType:d="polygon",radialLines:h=!0,angleAxisId:f=0,radiusAxisId:p=0,cx:g,cy:m,innerRadius:A,outerRadius:y,polarAngles:v,polarRadius:b}=e,x=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ox),E=qe(pp),w=qe((e=>ix(e,f))),_=qe((e=>ax(e,p))),S=Array.isArray(v)?v:w,I=Array.isArray(b)?b:_;if(null==S||null==I)return null;var C=cx(cx({cx:null!==(n=null!==(r=null==E?void 0:E.cx)&&void 0!==r?r:g)&&void 0!==n?n:0,cy:null!==(i=null!==(a=null==E?void 0:E.cy)&&void 0!==a?a:m)&&void 0!==i?i:0,innerRadius:null!==(o=null!==(s=null==E?void 0:E.innerRadius)&&void 0!==s?s:A)&&void 0!==o?o:0,outerRadius:null!==(l=null!==(c=null==E?void 0:E.outerRadius)&&void 0!==c?c:y)&&void 0!==l?l:0,polarAngles:S,polarRadius:I},x),{},{zIndex:null!==(u=x.zIndex)&&void 0!==u?u:Xf.grid}),{outerRadius:M}=C;return M<=0?null:t.createElement(ky,{zIndex:C.zIndex},t.createElement("g",{className:"recharts-polar-grid"},t.createElement(gx,sx({gridType:d,radialLines:h},C,{polarAngles:S,polarRadius:I})),t.createElement(hx,sx({gridType:d,radialLines:h},C,{polarAngles:S,polarRadius:I}))))};mx.displayName="PolarGrid";var Ax=o(4338),yx=o.n(Ax),vx=o(2972),bx=o.n(vx),xx=zn({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ex,removeRadiusAxis:wx,addAngleAxis:_x,removeAngleAxis:Sx}=xx.actions,Ix=xx.reducer,Cx=["cx","cy","angle","axisLine"],Mx=["angle","tickFormatter","stroke","tick"];function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(null,arguments)}function Tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Px(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tx(Object(n),!0).forEach((function(t){Rx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kx(e){var n=Ge();return(0,t.useEffect)((()=>(n(Ex(e)),()=>{n(wx(e))}))),null}var Dx=e=>{var{radiusAxisId:n}=e,i=qe(pp),a=qe((e=>Zb(e,"radiusAxis",n))),o=qe((e=>tx(e,"radiusAxis",n,!1)));if(null==i||!o||!o.length||null==a)return null;var s=Px(Px({},e),{},{scale:a},i),{tick:l,axisLine:c}=s;return t.createElement(ky,{zIndex:s.zIndex},t.createElement(v,{className:r("recharts-polar-radius-axis","radiusAxis",s.className)},c&&((e,n)=>{var{cx:r,cy:i,angle:a,axisLine:o}=e,s=Bx(e,Cx),l=n.reduce(((e,t)=>[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]),[1/0,-1/0]),c=rl(r,i,l[0],a),u=rl(r,i,l[1],a),h=Px(Px(Px({},d(s)),{},{fill:"none"},d(o)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return t.createElement("line",Ox({className:"recharts-polar-radius-axis-line"},h))})(s,o),l&&((e,n)=>{var{angle:i,tickFormatter:a,stroke:o,tick:s}=e,l=Bx(e,Mx),c=(e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle"}return t})(e.orientation),u=d(l),f=h(s),p=n.map(((n,l)=>{var d=((e,t,n,r)=>{var{coordinate:i}=e;return rl(n,r,i,t)})(n,e.angle,e.cx,e.cy),h=Px(Px(Px(Px({textAnchor:c,transform:"rotate(".concat(90-i,", ").concat(d.x,", ").concat(d.y,")")},u),{},{stroke:"none",fill:o},f),{},{index:l},d),{},{payload:n});return t.createElement(v,Ox({className:r("recharts-polar-radius-axis-tick",sl(s)),key:"tick-".concat(n.coordinate)},Ie(e,n,l)),((e,n,r)=>t.isValidElement(e)?t.cloneElement(e,n):"function"==typeof e?e(n):t.createElement(qv,Ox({},n,{className:"recharts-polar-radius-axis-tick-value"}),r))(s,h,a?a(n.value,l):n.value))}));return t.createElement(v,{className:"recharts-polar-radius-axis-ticks"},p)})(s,o),t.createElement(ib,((e,t,n,r)=>{var i=yx()(r,(e=>e.coordinate||0)),a=bx()(r,(e=>e.coordinate||0));return{cx:t,cy:n,startAngle:e,endAngle:e,innerRadius:(null==a?void 0:a.coordinate)||0,outerRadius:(null==i?void 0:i.coordinate)||0,clockWise:!1}})(s.angle,s.cx,s.cy,o),t.createElement(mb,{label:s.label}),s.children)))};function Lx(e){var n=Oe(e,$f);return t.createElement(t.Fragment,null,t.createElement(kx,{domain:n.domain,id:n.radiusAxisId,scale:n.scale,type:n.type,dataKey:n.dataKey,unit:void 0,name:n.name,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDataOverflow:n.allowDataOverflow,reversed:n.reversed,includeHidden:n.includeHidden,allowDecimals:n.allowDecimals,ticks:n.ticks,tickCount:n.tickCount,tick:n.tick}),t.createElement(Dx,n))}Lx.displayName="PolarRadiusAxis";var Nx=["children"];function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(null,arguments)}function Ux(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ux(Object(n),!0).forEach((function(t){Qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ux(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zx=1e-5,Hx=Math.cos(tl(45));function Gx(e){var n=Ge(),r=(0,t.useMemo)((()=>{var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Nx);return n}),[e]),i=qe((e=>ip(e,r.id))),a=r===i;return(0,t.useEffect)((()=>(n(_x(r)),()=>{n(Sx(r))})),[n,r]),a?e.children:null}var Vx=e=>{var{cx:n,cy:r,radius:i,axisLineType:a,axisLine:o,ticks:s}=e;if(!o)return null;var l=Fx(Fx({},d(e)),{},{fill:"none"},d(o));if("circle"===a)return t.createElement(jb,jx({className:"recharts-polar-angle-axis-line"},l,{cx:n,cy:r,r:i}));var c=s.map((e=>rl(n,r,i,e.coordinate)));return t.createElement(Lb,jx({className:"recharts-polar-angle-axis-line"},l,{points:c}))},Kx=e=>{var{tick:n,tickProps:r,value:i}=e;return n?t.isValidElement(n)?t.cloneElement(n,r):"function"==typeof n?n(r):t.createElement(qv,jx({},r,{className:"recharts-polar-angle-axis-tick-value"}),i):null},Wx=e=>{var{tick:n,tickLine:i,tickFormatter:a,stroke:o,ticks:s}=e,l=d(e),c=h(n),u=Fx(Fx({},l),{},{fill:"none"},d(i)),f=s.map(((s,d)=>{var h=((e,t)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=t,s=o||8,l=rl(n,r,i,e.coordinate),c=rl(n,r,i+("inner"===a?-1:1)*s,e.coordinate);return{x1:l.x,y1:l.y,x2:c.x,y2:c.y}})(s,e),f=((e,t)=>{var n=Math.cos(tl(-e.coordinate));return n>zx?"outer"===t?"start":"end":n<-zx?"outer"===t?"end":"start":"middle"})(s,e.orientation),p=(e=>{var t=Math.cos(tl(-e.coordinate)),n=Math.sin(tl(-e.coordinate));return Math.abs(t)<=Hx?n>0?"start":"end":"middle"})(s),g=Fx(Fx(Fx({},l),{},{textAnchor:f,verticalAnchor:p,stroke:"none",fill:o},c),{},{index:d,payload:s,x:h.x2,y:h.y2});return t.createElement(v,jx({className:r("recharts-polar-angle-axis-tick",sl(n)),key:"tick-".concat(s.coordinate)},Ie(e,s,d)),i&&t.createElement("line",jx({className:"recharts-polar-angle-axis-tick-line"},u,h)),t.createElement(Kx,{tick:n,tickProps:g,value:a?a(s.value,d):s.value}))}));return t.createElement(v,{className:"recharts-polar-angle-axis-ticks"},f)},qx=e=>{var{angleAxisId:n}=e,i=qe(pp),a=qe((e=>Zb(e,"angleAxis",n))),o=_i(),s=qe((e=>nx(e,"angleAxis",n,o)));if(null==i||!s||!s.length||null==a)return null;var l=Fx(Fx(Fx({},e),{},{scale:a},i),{},{radius:i.outerRadius,ticks:s});return t.createElement(ky,{zIndex:l.zIndex},t.createElement(v,{className:r("recharts-polar-angle-axis","angleAxis",l.className)},t.createElement(Vx,l),t.createElement(Wx,l)))};function Yx(e){var n=Oe(e,Jf);return t.createElement(Gx,{id:n.angleAxisId,scale:n.scale,type:n.type,dataKey:n.dataKey,unit:void 0,name:n.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:n.reversed,includeHidden:!1,allowDecimals:n.allowDecimals,tickCount:n.tickCount,ticks:n.ticks,tick:n.tick,domain:n.domain},t.createElement(qx,n))}function Xx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xx(Object(n),!0).forEach((function(t){$x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Yx.displayName="PolarAngleAxis";var Zx=$e([Ub,(e,t)=>t],((e,t)=>e.filter((e=>"pie"===e.type)).find((e=>e.id===t)))),eE=[],tE=(e,t,n)=>0===(null==n?void 0:n.length)?eE:n,nE=$e([vf,Zx,tE],((e,t,n)=>{var r,{chartData:i}=e;if(null!=t&&((r=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map((e=>Jx(Jx({},t.presentationProps),e.props)))),null!=r))return r})),rE=$e([nE,Zx,tE],((e,t,n)=>{if(null!=e&&null!=t)return e.map(((e,r)=>{var i,a,o=Vr(e,t.nameKey,t.name);return a=null!=n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:si(o,t.dataKey),color:a,payload:e,type:t.legendType}}))})),iE=$e([nE,Zx,tE,bi],((e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:a,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),g=lw(c,u),m=Math.abs(g),A=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter((e=>0!==Vr(e,d,0))).length,v=m-y*p-(m>=360?y:y-1)*A,b=a.reduce(((e,t)=>{var n=Vr(t,d,0);return e+(ie(n)?n:0)}),0);return b>0&&(n=a.map(((e,t)=>{var n,a=Vr(e,d,0),u=Vr(e,h,t),m=sw(i,s,e),y=(ie(a)?a:0)/b,x=ew(ew({},e),o&&o[t]&&o[t].props),E=(n=t?r.endAngle+te(g)*A*(0!==a?1:0):c)+te(g)*((0!==a?p:0)+y*v),w=(n+E)/2,_=(m.innerRadius+m.outerRadius)/2,S=[{name:u,value:a,payload:x,dataKey:d,type:f}],I=rl(m.cx,m.cy,_,w);return r=ew(ew(ew(ew({},i.presentationProps),{},{percent:y,cornerRadius:"string"==typeof l?parseFloat(l):l,name:u,tooltipPayload:S,midAngle:w,middleRadius:_,tooltipPosition:I},x),m),{},{value:a,dataKey:d,startAngle:n,endAngle:E,payload:x,paddingAngle:te(g)*A})}))),n}({offset:r,pieSettings:t,displayedData:e,cells:n})})),aE=o(2751),oE=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",sE=null,lE=null,cE=e=>{if(e===sE&&Array.isArray(lE))return lE;var n=[];return t.Children.forEach(e,(e=>{he(e)||((0,aE.isFragment)(e)?n=n.concat(cE(e.props.children)):n.push(e))})),lE=n,sE=e,n};function uE(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((e=>oE(e))):[oE(t)],cE(e).forEach((e=>{var t=ee()(e,"type.displayName")||ee()(e,"type.name");t&&-1!==r.indexOf(t)&&n.push(e)})),n}var dE=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),hE=o(2938),fE=o.n(hE);function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pE(Object(n),!0).forEach((function(t){mE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE.apply(null,arguments)}var yE=(e,t,n,r,i)=>{var a,o=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),(a+="L ".concat(e+n-o/2-r,",").concat(t+i))+"L ".concat(e,",").concat(t," Z")},vE={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bE=e=>{var n=Oe(e,vE),{x:i,y:a,upperWidth:o,lowerWidth:s,height:l,className:c}=n,{animationEasing:u,animationDuration:d,animationBegin:h,isUpdateAnimationActive:p}=n,g=(0,t.useRef)(null),[m,A]=(0,t.useState)(-1),y=(0,t.useRef)(o),v=(0,t.useRef)(s),b=(0,t.useRef)(l),x=(0,t.useRef)(i),E=(0,t.useRef)(a),w=Fs(e,"trapezoid-");if((0,t.useEffect)((()=>{if(g.current&&g.current.getTotalLength)try{var e=g.current.getTotalLength();e&&A(e)}catch(e){}}),[]),i!==+i||a!==+a||o!==+o||s!==+s||l!==+l||0===o&&0===s||0===l)return null;var _=r("recharts-trapezoid",c);if(!p)return t.createElement("g",null,t.createElement("path",AE({},f(n),{className:_,d:yE(i,a,o,s,l)})));var S=y.current,I=v.current,C=b.current,M=x.current,O=E.current,T="0px ".concat(-1===m?1:m,"px"),P="".concat(m,"px 0px"),R=As(["strokeDasharray"],d,u);return t.createElement(Us,{animationId:w,key:w,canBegin:m>0,duration:d,easing:u,isActive:p,begin:h},(e=>{var r=ue(S,o,e),c=ue(I,s,e),u=ue(C,l,e),d=ue(M,i,e),h=ue(O,a,e);g.current&&(y.current=r,v.current=c,b.current=u,x.current=d,E.current=h);var p=e>0?{transition:R,strokeDasharray:P}:{strokeDasharray:T};return t.createElement("path",AE({},f(n),{className:_,d:yE(d,h,r,c,u),ref:g,style:gE(gE({},p),n.style)}))}))},xE=["option","shapeType","propTransformer","activeClassName"];function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EE(Object(n),!0).forEach((function(t){_E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SE(e,t){return wE(wE({},t),e)}function IE(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(Xs,r);case"trapezoid":return t.createElement(bE,r);case"sector":return t.createElement(fl,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(we,r);break;case"curve":return t.createElement(ss,r);default:return null}}function CE(e){return(0,t.isValidElement)(e)?e.props:e}function ME(e){var n,{option:r,shapeType:i,propTransformer:a=SE,activeClassName:o="recharts-active-shape"}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,xE);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,wE(wE({},s),CE(r)));else if("function"==typeof r)n=r(s,s.index);else if(fE()(r)&&"boolean"!=typeof r){var l=a(r,s);n=t.createElement(IE,{shapeType:i,elementProps:l})}else{var c=s;n=t.createElement(IE,{shapeType:i,elementProps:c})}return s.isActive?t.createElement(v,{className:o},n):n}var OE,TE=(e,t,n)=>{var r=Ge();return(i,a)=>o=>{null==e||e(i,a,o),r(Nm({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},PE=e=>{var t=Ge();return(n,r)=>i=>{null==e||e(n,r,i),t(jm())}},RE=(e,t,n)=>{var r=Ge();return(i,a)=>o=>{null==e||e(i,a,o),r(Fm({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function BE(e){var{tooltipEntrySettings:n}=e,r=Ge(),i=_i(),a=(0,t.useRef)(null);return(0,t.useLayoutEffect)((()=>{i||(null===a.current?r(Bm(n)):a.current!==n&&r(km({prev:a.current,next:n})),a.current=n)}),[n,r,i]),(0,t.useLayoutEffect)((()=>()=>{a.current&&(r(Dm(a.current)),a.current=null)}),[r]),null}function kE(e){var{legendPayload:n}=e,r=Ge(),i=_i(),a=(0,t.useRef)(null);return(0,t.useLayoutEffect)((()=>{i||(null===a.current?r($a(n)):a.current!==n&&r(Za({prev:a.current,next:n})),a.current=n)}),[r,i,n]),(0,t.useLayoutEffect)((()=>()=>{a.current&&(r(eo(a.current)),a.current=null)}),[r]),null}function DE(e){var{legendPayload:n}=e,r=Ge(),i=qe(ta),a=(0,t.useRef)(null);return(0,t.useLayoutEffect)((()=>{"centric"!==i&&"radial"!==i||(null===a.current?r($a(n)):a.current!==n&&r(Za({prev:a.current,next:n})),a.current=n)}),[r,i,n]),(0,t.useLayoutEffect)((()=>()=>{a.current&&(r(eo(a.current)),a.current=null)}),[r]),null}var LE=null!==(OE=t["useId".toString()])&&void 0!==OE?OE:()=>{var[e]=t.useState((()=>se("uid-")));return e};function NE(e,t){var n=LE();return t||(e?"".concat(e,"-").concat(n):n)}var jE=(0,t.createContext)(void 0),UE=e=>{var{id:n,type:r,children:i}=e,a=NE("recharts-".concat(r),n);return t.createElement(jE.Provider,{value:a},i(a))},FE=zn({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ir()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Nt(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Ir()},removeCartesianGraphicalItem:{reducer(e,t){var n=Nt(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ir()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ir()},removePolarGraphicalItem:{reducer(e,t){var n=Nt(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ir()}}}),{addCartesianGraphicalItem:QE,replaceCartesianGraphicalItem:zE,removeCartesianGraphicalItem:HE,addPolarGraphicalItem:GE,removePolarGraphicalItem:VE}=FE.actions,KE=FE.reducer,WE=(0,t.memo)((e=>{var n=Ge(),r=(0,t.useRef)(null);return(0,t.useLayoutEffect)((()=>{null===r.current?n(QE(e)):r.current!==e&&n(zE({prev:r.current,next:e})),r.current=e}),[n,e]),(0,t.useLayoutEffect)((()=>()=>{r.current&&(n(HE(r.current)),r.current=null)}),[n]),null}));function qE(e){var n=Ge();return(0,t.useLayoutEffect)((()=>(n(GE(e)),()=>{n(VE(e))})),[n,e]),null}var YE=["key"],XE=["onMouseEnter","onClick","onMouseLeave"],JE=["id"],$E=["id"];function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ew(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZE(Object(n),!0).forEach((function(t){tw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nw.apply(null,arguments)}function rw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iw(e){var n=(0,t.useMemo)((()=>uE(e.children,gv)),[e.children]),r=qe((t=>rE(t,e.id,n)));return null==r?null:t.createElement(DE,{legendPayload:r})}var aw=t.memo((e=>{var{dataKey:n,nameKey:r,sectors:i,stroke:a,strokeWidth:o,fill:s,name:l,hide:c,tooltipType:u}=e,d={dataDefinedOnItem:i.map((e=>e.tooltipPayload)),positions:i.map((e=>e.tooltipPosition)),settings:{stroke:a,strokeWidth:o,fill:s,dataKey:n,nameKey:r,name:si(l,n),hide:c,type:u,color:s,unit:""}};return t.createElement(BE,{tooltipEntrySettings:d})})),ow=(e,t)=>e>t?"start":e<t?"end":"middle",sw=(e,t,n)=>{var{top:r,left:i,width:a,height:o}=t,s=il(a,o),l=i+le(e.cx,a,a/2),c=r+le(e.cy,o,o/2),u=le(e.innerRadius,s,0),d=((e,t,n)=>le("function"==typeof t?t(e):t,n,.8*n))(n,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(a*a+o*o)/2}},lw=(e,t)=>te(t-e)*Math.min(Math.abs(t-e),360),cw=(e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"==typeof e)return e(n);var i=r("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:a}=n,o=rw(n,YE);return t.createElement(ss,nw({},o,{type:"linear",className:i}))},uw=(e,n,i)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var a=i;if("function"==typeof e&&(a=e(n),t.isValidElement(a)))return a;var o=r("recharts-pie-label-text",function(e){return e&&"object"==typeof e&&"className"in e&&"string"==typeof e.className?e.className:""}(e));return t.createElement(qv,nw({},n,{alignmentBaseline:"middle",className:o}),a)};function dw(e){var{sectors:n,props:r,showLabels:i}=e,{label:a,labelLine:o,dataKey:s}=r;if(!i||!a||!n)return null;var l=d(r),c=h(a),u=h(o),f="object"==typeof a&&"offsetRadius"in a&&"number"==typeof a.offsetRadius&&a.offsetRadius||20,p=n.map(((e,n)=>{var r=(e.startAngle+e.endAngle)/2,i=rl(e.cx,e.cy,e.outerRadius+f,r),d=ew(ew(ew(ew({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:ow(i.x,e.cx)},i),h=ew(ew(ew(ew({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[rl(e.cx,e.cy,e.outerRadius,r),i],key:"line"});return t.createElement(ky,{zIndex:Xf.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},t.createElement(v,null,o&&cw(o,h),uw(a,d,Vr(e,s))))}));return t.createElement(v,{className:"recharts-pie-labels"},p)}function hw(e){var{sectors:n,props:r,showLabels:i}=e,{label:a}=r;return"object"==typeof a&&null!=a&&"position"in a?t.createElement(Ob,{label:a}):t.createElement(dw,{sectors:n,props:r,showLabels:i})}function fw(e){var{sectors:n,activeShape:r,inactiveShape:i,allOtherPieProps:a,shape:o,id:s}=e,l=qe(HA),c=qe(VA),u=qe(KA),{onMouseEnter:d,onClick:h,onMouseLeave:f}=a,p=rw(a,XE),g=TE(d,a.dataKey,s),m=PE(f),A=RE(h,a.dataKey,s);return null==n||0===n.length?null:t.createElement(t.Fragment,null,n.map(((e,d)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==n.length)return null;var h=null==u||u===s,f=String(d)===l&&(null==c||a.dataKey===c)&&h,y=r&&f?r:l?i:null,b=ew(ew({},e),{},{stroke:e.stroke,tabIndex:-1,[gi]:d,[mi]:a.dataKey});return t.createElement(v,nw({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(d),tabIndex:-1,className:"recharts-pie-sector"},Ie(p,e,d),{onMouseEnter:g(e,d),onMouseLeave:m(e,d),onClick:A(e,d)}),t.createElement(ME,nw({option:null!=o?o:y,index:d,shapeType:"sector",isActive:f},b)))})))}function pw(e){var{showLabels:n,sectors:r,children:i}=e,a=(0,t.useMemo)((()=>n&&r?r.map((e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill}))):[]),[r,n]);return t.createElement(Cb,{value:n?a:void 0},i)}function gw(e){var{props:n,previousSectorsRef:r,id:i}=e,{sectors:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:f}=n,p=Fs(n,"recharts-pie-"),g=r.current,[m,A]=(0,t.useState)(!1),y=(0,t.useCallback)((()=>{"function"==typeof f&&f(),A(!1)}),[f]),b=(0,t.useCallback)((()=>{"function"==typeof h&&h(),A(!0)}),[h]);return t.createElement(pw,{showLabels:!m,sectors:a},t.createElement(Us,{animationId:p,begin:s,duration:l,isActive:o,easing:c,onAnimationStart:b,onAnimationEnd:y,key:p},(e=>{var o=[],s=a&&a[0],l=null==s?void 0:s.startAngle;return null==a||a.forEach(((t,n)=>{var r=g&&g[n],i=n>0?ee()(t,"paddingAngle",0):0;if(r){var a=ue(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),s=ew(ew({},t),{},{startAngle:l+i,endAngle:l+a+i});o.push(s),l=s.endAngle}else{var{endAngle:c,startAngle:u}=t,d=ue(0,c-u,e),h=ew(ew({},t),{},{startAngle:l+i,endAngle:l+d+i});o.push(h),l=h.endAngle}})),r.current=o,t.createElement(v,null,t.createElement(fw,{sectors:o,activeShape:u,inactiveShape:d,allOtherPieProps:n,shape:n.shape,id:i}))})),t.createElement(hw,{showLabels:!m,sectors:a,props:n}),n.children)}var mw={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Xf.area};function Aw(e){var{id:n}=e,i=rw(e,JE),{hide:a,className:o,rootTabIndex:s}=e,l=(0,t.useMemo)((()=>uE(e.children,gv)),[e.children]),c=qe((e=>iE(e,n,l))),u=(0,t.useRef)(null),d=r("recharts-pie",o);return a||null==c?(u.current=null,t.createElement(v,{tabIndex:s,className:d})):t.createElement(ky,{zIndex:e.zIndex},t.createElement(aw,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),t.createElement(v,{tabIndex:s,className:d},t.createElement(gw,{props:ew(ew({},i),{},{sectors:c}),previousSectorsRef:u,id:n})))}function yw(e){var n=Oe(e,mw),{id:r}=n,i=rw(n,$E),a=d(i);return t.createElement(UE,{id:r,type:"pie"},(e=>t.createElement(t.Fragment,null,t.createElement(qE,{type:"pie",id:e,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:a,maxRadius:n.maxRadius}),t.createElement(iw,nw({},i,{id:e})),t.createElement(Aw,nw({},i,{id:e})))))}yw.displayName="Pie";var vw=["points"];function bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bw(Object(n),!0).forEach((function(t){Ew(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ew(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(null,arguments)}function _w(e){var{option:n,dotProps:i,className:a}=e;if((0,t.isValidElement)(n))return(0,t.cloneElement)(n,i);if("function"==typeof n)return n(i);var o=r(a,"boolean"!=typeof n?n.className:""),s=null!=i?i:{},{points:l}=s,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(s,vw);return t.createElement(jb,ww({},c,{className:o}))}function Sw(e){var{points:n,dot:r,className:i,dotClassName:a,dataKey:o,baseProps:s,needClip:l,clipPathId:c,zIndex:u=Xf.scatter}=e;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,r))return null;var d,h=dE(r),p=null==(d=r)?null:(0,t.isValidElement)(d)?f(d.props):"object"!=typeof d||Array.isArray(d)?null:f(d),g=n.map(((e,i)=>{var l,c,u=xw(xw(xw({r:3},s),p),{},{index:i,cx:null!==(l=e.x)&&void 0!==l?l:void 0,cy:null!==(c=e.y)&&void 0!==c?c:void 0,dataKey:o,value:e.value,payload:e.payload,points:n});return t.createElement(_w,{key:"dot-".concat(i),option:r,dotProps:u,className:a})})),m={};return l&&null!=c&&(m.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),t.createElement(ky,{zIndex:u},t.createElement(v,ww({className:i},m),g))}function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iw(Object(n),!0).forEach((function(t){Mw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ow=zn({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ir()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.xAxis[n.id]&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Ir()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ir()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ir()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.yAxis[n.id]&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Ir()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ir()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ir()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.zAxis[n.id]&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Ir()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ir()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(3===a.length&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=Cw(Cw({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Tw,replaceXAxis:Pw,removeXAxis:Rw,addYAxis:Bw,replaceYAxis:kw,removeYAxis:Dw,addZAxis:Lw,replaceZAxis:Nw,removeZAxis:jw,updateYAxisWidth:Uw}=Ow.actions,Fw=Ow.reducer,Qw=$e([bi],(e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right}))),zw=$e([Qw,li,ci],((e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}})),Hw=()=>qe(GA),Gw=()=>qe(Qw),Vw=()=>qe(zw),Kw=()=>qe($A),Ww=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=_i();return qe((n=>Ng(n,"xAxis",e,t)))},qw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=_i();return qe((n=>Ng(n,"yAxis",e,t)))};function Yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yw(Object(n),!0).forEach((function(t){Jw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $w=e=>{var{point:n,childIndex:r,mainColor:i,activeDot:a,dataKey:o,clipPath:s}=e;if(!1===a||null==n.x||null==n.y)return null;var l,c=Xw(Xw(Xw({},{index:r,dataKey:o,cx:n.x,cy:n.y,r:4,fill:null!=i?i:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value}),h(a)),Se(a));return l=(0,t.isValidElement)(a)?(0,t.cloneElement)(a,c):"function"==typeof a?a(c):t.createElement(jb,c),t.createElement(v,{className:"recharts-active-dot",clipPath:s},l)};function Zw(e){var{points:n,mainColor:r,activeDot:i,itemDataKey:a,clipPath:o,zIndex:s=Xf.activeDot}=e,l=qe(HA),c=Kw();if(null==n||null==c)return null;var u=n.find((e=>c.includes(e.payload)));return he(u)?null:t.createElement(ky,{zIndex:s},t.createElement($w,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:i,clipPath:o}))}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(n),!0).forEach((function(t){n_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r_=(e,t)=>Zb(e,"radiusAxis",t),i_=$e([r_],(e=>{if(null!=e)return{scale:e}})),a_=$e([ap,r_],((e,t)=>{if(null!=e&&null!=t)return t_(t_({},e),{},{scale:t})})),o_=(e,t,n)=>ip(e,n),s_=(e,t,n)=>Zb(e,"angleAxis",n),l_=$e([o_,s_],((e,t)=>{if(null!=e&&null!=t)return t_(t_({},e),{},{scale:t})})),c_=$e([o_,s_,pp],((e,t,n)=>{if(null!=n&&null!=t)return{scale:t,type:e.type,dataKey:e.dataKey,cx:n.cx,cy:n.cy}})),u_=$e([ta,a_,(e,t,n,r)=>tx(e,"radiusAxis",t,r),l_,(e,t,n,r)=>tx(e,"angleAxis",n,r)],((e,t,n,r,i)=>Kr(e,"radiusAxis")?ai(t,n,!1):ai(r,i,!1))),d_=$e([Ub,(e,t,n,r,i)=>i],((e,t)=>{if(null!=e){var n=e.find((e=>"radar"===e.type&&t===e.id));return null==n?void 0:n.dataKey}})),h_=$e([i_,c_,vf,d_,u_],((e,t,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:s}=n;if(null!=e&&null!=t&&null!=a&&null!=i&&null!=r)return function(e){var{radiusAxis:t,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=e,{cx:o,cy:s}=n,l=!1,c=[],u="number"!==n.type&&null!=a?a:0;r.forEach(((e,r)=>{var a=Vr(e,n.dataKey,r),d=Vr(e,i),h=n.scale(a)+u,f=Array.isArray(d)?yb()(d):d,p=he(f)?0:t.scale(f);Array.isArray(d)&&d.length>=2&&(l=!0),c.push(m_(m_({},rl(o,s,p,h)),{},{name:a,value:d,cx:o,cy:s,radius:p,angle:h,payload:e}))}));var d=[];return l&&c.forEach((e=>{if(Array.isArray(e.value)){var n=e.value[0],r=he(n)?0:t.scale(n);d.push(m_(m_({},e),{},{radius:r},rl(o,s,r,e.angle)))}else d.push(e)})),{points:c,isRange:l,baseLinePoints:d}}({radiusAxis:e,angleAxis:t,displayedData:a.slice(o,s+1),dataKey:r,bandSize:i})})),f_=["id"];function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p_.apply(null,arguments)}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g_(Object(n),!0).forEach((function(t){A_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y_(e,t){return e&&"none"!==e?e:t}var v_=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:y_(r,i),value:si(n,t),payload:e}]},b_=t.memo((e=>{var{dataKey:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,tooltipType:l}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,nameKey:void 0,dataKey:n,name:si(o,n),hide:s,type:l,color:y_(r,a),unit:""}};return t.createElement(BE,{tooltipEntrySettings:c})}));function x_(e){var{points:n,props:r}=e,{dot:i,dataKey:a}=r,{id:o}=r,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,f_),l=d(s);return t.createElement(Sw,{points:n,dot:i,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:a,baseProps:l})}function E_(e){var{showLabels:n,points:r,children:i}=e,a=r.map((e=>{var t,n={x:e.x,y:e.y,width:0,lowerWidth:0,upperWidth:0,height:0};return m_(m_({},n),{},{value:null!==(t=e.value)&&void 0!==t?t:"",payload:e.payload,parentViewBox:void 0,viewBox:n,fill:void 0})}));return t.createElement(Sb,{value:n?a:void 0},i)}function w_(e){var{points:n,baseLinePoints:r,props:i}=e;if(null==n)return null;var a,{shape:o,isRange:s,connectNulls:l}=i;return a=t.isValidElement(o)?t.cloneElement(o,m_(m_({},i),{},{points:n})):"function"==typeof o?o(m_(m_({},i),{},{points:n})):t.createElement(Lb,p_({},f(i),{onMouseEnter:e=>{var{onMouseEnter:t}=i;t&&t(i,e)},onMouseLeave:e=>{var{onMouseLeave:t}=i;t&&t(i,e)},points:n,baseLinePoints:s?r:void 0,connectNulls:l})),t.createElement(v,{className:"recharts-radar-polygon"},a,t.createElement(x_,{props:i,points:n}))}var __=(e,t,n)=>(r,i)=>{var a=e&&e[Math.floor(i*t)];return m_(m_({},r),{},a?{x:ue(a.x,r.x,n),y:ue(a.y,r.y,n)}:{x:ue(r.cx,r.x,n),y:ue(r.cy,r.y,n)})};function S_(e){var{props:n,previousPointsRef:r,previousBaseLinePointsRef:i}=e,{points:a,baseLinePoints:o,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:u,onAnimationEnd:d,onAnimationStart:h}=n,f=r.current,p=i.current,g=f?f.length/a.length:1,m=p?p.length/o.length:1,A=Fs(n,"recharts-radar-"),[y,v]=(0,t.useState)(!1),b=!y,x=(0,t.useCallback)((()=>{"function"==typeof d&&d(),v(!1)}),[d]),E=(0,t.useCallback)((()=>{"function"==typeof h&&h(),v(!0)}),[h]);return t.createElement(E_,{showLabels:b,points:a},t.createElement(Us,{animationId:A,begin:l,duration:c,isActive:s,easing:u,key:"radar-".concat(A),onAnimationEnd:x,onAnimationStart:E},(e=>{var s=1===e?a:a.map(__(f,g,e)),l=1===e?o:null==o?void 0:o.map(__(p,m,e));return e>0&&(r.current=s,i.current=l),t.createElement(w_,{points:s,baseLinePoints:l,props:n})})),t.createElement(Ob,{label:n.label}),n.children)}function I_(e){var n=(0,t.useRef)(void 0),r=(0,t.useRef)(void 0);return t.createElement(S_,{props:e,previousPointsRef:n,previousBaseLinePointsRef:r})}var C_={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Xf.area};function M_(e){var{hide:n,className:i,points:a}=e;if(n)return null;var o=r("recharts-radar",i);return t.createElement(ky,{zIndex:e.zIndex},t.createElement(v,{className:o},t.createElement(I_,e)),t.createElement(Zw,{points:a,mainColor:y_(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function O_(e){var n=_i(),r=qe((t=>h_(t,e.radiusAxisId,e.angleAxisId,n,e.id)));return null==(null==r?void 0:r.points)?null:t.createElement(M_,p_({},e,{points:null==r?void 0:r.points,baseLinePoints:null==r?void 0:r.baseLinePoints,isRange:null==r?void 0:r.isRange}))}function T_(e){var n=Oe(e,C_);return t.createElement(UE,{id:n.id,type:"radar"},(e=>t.createElement(t.Fragment,null,t.createElement(qE,{type:"radar",id:e,data:void 0,dataKey:n.dataKey,hide:n.hide,angleAxisId:n.angleAxisId,radiusAxisId:n.radiusAxisId}),t.createElement(DE,{legendPayload:v_(n)}),t.createElement(b_,{dataKey:n.dataKey,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,tooltipType:n.tooltipType}),t.createElement(O_,p_({},n,{id:e})))))}function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P_.apply(null,arguments)}function R_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R_(Object(n),!0).forEach((function(t){k_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D_(e){return"string"==typeof e?parseInt(e,10):e}function L_(e,t){var n="".concat(t.cx||e.cx),r=Number(n),i="".concat(t.cy||e.cy),a=Number(i);return B_(B_(B_({},t),e),{},{cx:r,cy:a})}function N_(e){return t.createElement(ME,P_({shapeType:"sector",propTransformer:L_},e))}T_.displayName="Radar";var j_=["x","y"];function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U_.apply(null,arguments)}function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F_(Object(n),!0).forEach((function(t){z_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,j_),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return Q_(Q_(Q_(Q_(Q_({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function G_(e){return t.createElement(ME,U_({shapeType:"rectangle",propTransformer:H_,activeClassName:"recharts-active-bar"},e))}var V_=zn({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map((e=>e.dataKey===r.dataKey&&e.direction===r.direction?i:e)))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter((e=>e.dataKey!==r.dataKey||e.direction!==r.direction)))}}}),{addErrorBar:K_,replaceErrorBar:W_,removeErrorBar:q_}=V_.actions,Y_=V_.reducer,X_=["children"],J_=(0,t.createContext)({data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0});function $_(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,X_);return t.createElement(J_.Provider,{value:r},n)}function Z_(e){var n=Ge(),r=(0,t.useContext)(jE),i=(0,t.useRef)(null);return(0,t.useEffect)((()=>{null!=r&&(null===i.current?n(K_({itemId:r,errorBar:e})):i.current!==e&&n(W_({itemId:r,prev:i.current,next:e})),i.current=e)}),[n,r,e]),(0,t.useEffect)((()=>()=>{null!=i.current&&null!=r&&(n(q_({itemId:r,errorBar:i.current})),i.current=null)}),[n,r]),null}function eS(e,t){var n,r,i=qe((t=>Tp(t,e))),a=qe((e=>Bp(e,t))),o=null!==(n=null==i?void 0:i.allowDataOverflow)&&void 0!==n?n:Mp.allowDataOverflow,s=null!==(r=null==a?void 0:a.allowDataOverflow)&&void 0!==r?r:Pp.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function tS(e){var{xAxisId:n,yAxisId:r,clipPathId:i}=e,a=Vw(),{needClipX:o,needClipY:s,needClip:l}=eS(n,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:h}=a;return t.createElement("clipPath",{id:"clipPath-".concat(i)},t.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}function nS(e,t){return e&&"object"==typeof e&&"zIndex"in e&&"number"==typeof e.zIndex&&Ni(e.zIndex)?e.zIndex:t}var rS=o(9888);let iS=function(e){e()};const aS=Symbol.for("react-redux-context"),oS="undefined"!=typeof globalThis?globalThis:{},sS=function(){var e;if(!t.createContext)return{};const n=null!=(e=oS[aS])?e:oS[aS]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}();let lS=null;o(4146);const cS={notify(){},get:()=>[]};function uS(e,t){let n,r=cS,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){const e=iS;let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=cS)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}const dS="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;let hS=null;const fS=function({store:e,context:n,children:r,serverState:i,stabilityCheck:a="once",noopCheck:o="once"}){const s=t.useMemo((()=>{const t=uS(e);return{store:e,subscription:t,getServerState:i?()=>i:void 0,stabilityCheck:a,noopCheck:o}}),[e,i,a,o]),l=t.useMemo((()=>e.getState()),[e]);dS((()=>{const{subscription:t}=s;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),l!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[s,l]);const c=n||sS;return t.createElement(c.Provider,{value:s},r)};function pS(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function gS(e,t){if(pS(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!pS(e[n[r]],t[n[r]]))return!1;return!0}var mS;(e=>{lS=e})(Qe.useSyncExternalStoreWithSelector),(e=>{hS=e})(rS.useSyncExternalStore),mS=b.unstable_batchedUpdates,iS=mS;var AS=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function yS(e,t){return null==e&&null==t||("number"==typeof e&&"number"==typeof t?e===t||e!=e&&t!=t:e===t)}function vS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(AS.has(r)){if(null==e[r]&&null==t[r])continue;if(!gS(e[r],t[r]))return!1}else if(!yS(e[r],t[r]))return!1;return!0}var bS=["onMouseEnter","onMouseLeave","onClick"],xS=["value","background","tooltipPosition"],ES=["id"],wS=["onMouseEnter","onClick","onMouseLeave"];function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_S.apply(null,arguments)}function SS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SS(Object(n),!0).forEach((function(t){CS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var OS=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:si(n,t),payload:e}]},TS=t.memo((e=>{var{dataKey:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:n,nameKey:void 0,name:si(o,n),hide:s,type:c,color:a,unit:l}};return t.createElement(BE,{tooltipEntrySettings:u})}));function PS(e){var n=qe(HA),{data:r,dataKey:i,background:a,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=o,u=MS(o,bS),d=TE(s,i),f=PE(l),p=RE(c,i);if(!a||null==r)return null;var g=h(a);return t.createElement(ky,{zIndex:nS(a,Xf.barBackground)},r.map(((e,r)=>{var{value:o,background:s,tooltipPosition:l}=e,c=MS(e,xS);if(!s)return null;var h=d(e,r),m=f(e,r),A=p(e,r),y=IS(IS(IS(IS(IS({option:a,isActive:String(r)===n},c),{},{fill:"#eee"},s),g),Ie(u,e,r)),{},{onMouseEnter:h,onMouseLeave:m,onClick:A,dataKey:i,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(G_,_S({key:"background-bar-".concat(r)},y))})))}function RS(e){var{showLabels:n,children:r,rects:i}=e,a=null==i?void 0:i.map((e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return IS(IS({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})}));return t.createElement(Sb,{value:n?a:void 0},r)}function BS(e){var{shape:n,activeBar:r,baseProps:i,entry:a,index:o,dataKey:s}=e,l=qe(HA),c=qe(VA),u=r&&String(o)===l&&(null==c||s===c),d=u?r:n;return u?t.createElement(ky,{zIndex:Xf.activeBar},t.createElement(G_,_S({},i,{name:String(i.name)},a,{isActive:u,option:d,index:o,dataKey:s}))):t.createElement(G_,_S({},i,{name:String(i.name)},a,{isActive:u,option:d,index:o,dataKey:s}))}function kS(e){var{shape:n,baseProps:r,entry:i,index:a,dataKey:o}=e;return t.createElement(G_,_S({},r,{name:String(r.name)},i,{isActive:!1,option:n,index:a,dataKey:o}))}function DS(e){var n,{data:r,props:i}=e,a=null!==(n=d(i))&&void 0!==n?n:{},{id:o}=a,s=MS(a,ES),{shape:l,dataKey:c,activeBar:u}=i,{onMouseEnter:h,onClick:f,onMouseLeave:p}=i,g=MS(i,wS),m=TE(h,c),A=PE(p),y=RE(f,c);return r?t.createElement(t.Fragment,null,r.map(((e,n)=>t.createElement(v,_S({key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n),className:"recharts-bar-rectangle"},Ie(g,e,n),{onMouseEnter:m(e,n),onMouseLeave:A(e,n),onClick:y(e,n)}),u?t.createElement(BS,{shape:l,activeBar:u,baseProps:s,entry:e,index:n,dataKey:c}):t.createElement(kS,{shape:l,baseProps:s,entry:e,index:n,dataKey:c}))))):null}function LS(e){var{props:n,previousRectanglesRef:r}=e,{data:i,layout:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=n,h=r.current,f=Fs(n,"recharts-bar-"),[p,g]=(0,t.useState)(!1),m=!p,A=(0,t.useCallback)((()=>{"function"==typeof u&&u(),g(!1)}),[u]),y=(0,t.useCallback)((()=>{"function"==typeof d&&d(),g(!0)}),[d]);return t.createElement(RS,{showLabels:m,rects:i},t.createElement(Us,{animationId:f,begin:s,duration:l,isActive:o,easing:c,onAnimationEnd:A,onAnimationStart:y,key:f},(e=>{var o=1===e?i:null==i?void 0:i.map(((t,n)=>{var r=h&&h[n];if(r)return IS(IS({},t),{},{x:ue(r.x,t.x,e),y:ue(r.y,t.y,e),width:ue(r.width,t.width,e),height:ue(r.height,t.height,e)});if("horizontal"===a){var i=ue(0,t.height,e),o=ue(t.stackedBarStart,t.y,e);return IS(IS({},t),{},{y:o,height:i})}var s=ue(0,t.width,e),l=ue(t.stackedBarStart,t.x,e);return IS(IS({},t),{},{width:s,x:l})}));return e>0&&(r.current=null!=o?o:null),null==o?null:t.createElement(v,null,t.createElement(DS,{props:n,data:o}))})),t.createElement(Ob,{label:n.label}),n.children)}function NS(e){var n=(0,t.useRef)(null);return t.createElement(LS,{previousRectanglesRef:n,props:e})}var jS=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Vr(e,t)}};class US extends t.PureComponent{render(){var{hide:e,data:n,dataKey:i,className:a,xAxisId:o,yAxisId:s,needClip:l,background:c,id:u}=this.props;if(e||null==n)return null;var d=r("recharts-bar",a),h=u;return t.createElement(v,{className:d,id:u},l&&t.createElement("defs",null,t.createElement(tS,{clipPathId:h,xAxisId:o,yAxisId:s})),t.createElement(v,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},t.createElement(PS,{data:n,dataKey:i,background:c,allOtherBarProps:this.props}),t.createElement(NS,this.props)))}}var FS={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0,zIndex:Xf.bar};function QS(e){var n,{xAxisId:r,yAxisId:i,hide:a,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=eS(r,i),p=na(),g=_i(),m=uE(e.children,gv),A=qe((t=>iI(t,r,i,g,e.id,m)));if("vertical"!==p&&"horizontal"!==p)return null;var y=null==A?void 0:A[0];return n=null==y||null==y.height||null==y.width?0:"vertical"===p?y.height/2:y.width/2,t.createElement($_,{xAxisId:r,yAxisId:i,data:A,dataPointFormatter:jS,errorBarOffset:n},t.createElement(US,_S({},e,{layout:p,needClip:f,data:A,xAxisId:r,yAxisId:i,hide:a,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}var zS=t.memo((function(e){var n=Oe(e,FS),r=_i();return t.createElement(UE,{id:n.id,type:"bar"},(e=>t.createElement(t.Fragment,null,t.createElement(kE,{legendPayload:OS(n)}),t.createElement(TS,{dataKey:n.dataKey,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType}),t.createElement(WE,{type:"bar",id:e,data:void 0,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,stackId:Zr(n.stackId),hide:n.hide,barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize,isPanorama:r}),t.createElement(ky,{zIndex:n.zIndex},t.createElement(QS,_S({},n,{id:e}))))))}),vS);function HS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HS(Object(n),!0).forEach((function(t){VS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}zS.displayName="Bar";var KS=$e([Fp,(e,t,n,r,i)=>i],((e,t)=>e.filter((e=>"bar"===e.type)).find((e=>e.id===t)))),WS=$e([KS],(e=>null==e?void 0:e.maxBarSize)),qS=(e,t,n)=>{var r=null!=n?n:e;if(!he(r))return le(r,t,0)},YS=$e([ta,Fp,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],((e,t,n,r,i)=>t.filter((t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r)).filter((e=>e.isPanorama===i)).filter((e=>!1===e.hide)).filter((e=>"bar"===e.type)))),XS=(e,t,n)=>{var r=e.filter(vp),i=e.filter((e=>null==e.stackId)),a=r.reduce(((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e)),{}),o=Object.entries(a).map((e=>{var[r,i]=e,a=i.map((e=>e.dataKey));return{stackId:r,dataKeys:a,barSize:qS(t,n,i[0].barSize)}})),s=i.map((e=>({stackId:void 0,dataKeys:[e.dataKey].filter((e=>null!=e)),barSize:qS(t,n,e.barSize)})));return[...o,...s]},JS=$e([YS,Hf,(e,t,n)=>"horizontal"===ta(e)?hm(e,"xAxis",t):hm(e,"yAxis",n)],XS),$S=(e,t,n,r)=>{var i,a;return"horizontal"===ta(e)?(i=Em(e,"xAxis",t,r),a=xm(e,"xAxis",t,r)):(i=Em(e,"yAxis",n,r),a=xm(e,"yAxis",n,r)),ai(i,a)},ZS=(e,t,n,r,i,a,o)=>{var s=he(o)?t:o,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var o,s=le(e,n,0,!0),l=[];if(Ni(r[0].barSize)){var c=!1,u=n/a,d=r.reduce(((e,t)=>e+(t.barSize||0)),0);(d+=(a-1)*s)>=n&&(d-=(a-1)*s,s=0),d>=n&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((n-d)/2|0)-s,size:0};o=r.reduce(((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r}),l)}else{var f=le(t,n,0,!0);n-2*f-(a-1)*s<=0&&(s=0);var p=(n-2*f-(a-1)*s)/a;p>1&&(p>>=0);var g=Ni(i)?Math.min(p,i):p;o=r.reduce(((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+s)*n+(p-g)/2,size:g}}]),l)}return o}}(n,r,i!==a?i:a,e,s);return i!==a&&null!=l&&(l=l.map((e=>GS(GS({},e),{},{position:GS(GS({},e.position),{},{offset:e.position.offset-i/2})})))),l},eI=$e([JS,Ff,Qf,zf,(e,t,n,r,i)=>{var a,o,s=KS(e,t,n,r,i);if(null!=s){var l,c,u=ta(e),d=Ff(e),{maxBarSize:h}=s,f=he(h)?d:h;return"horizontal"===u?(l=Em(e,"xAxis",t,r),c=xm(e,"xAxis",t,r)):(l=Em(e,"yAxis",n,r),c=xm(e,"yAxis",n,r)),null!==(a=null!==(o=ai(l,c,!0))&&void 0!==o?o:f)&&void 0!==a?a:0}},$S,WS],ZS),tI=$e([eI,KS],((e,t)=>{if(null!=e&&null!=t){var n=e.find((e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey)));if(null!=n)return n.position}})),nI=(e,t)=>{var n=Ap(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find((e=>e.key===n))}}}},rI=$e([(e,t,n,r)=>"horizontal"===ta(e)?sg(e,"yAxis",n,r):sg(e,"xAxis",t,r),KS],nI),iI=$e([bi,Ei,(e,t,n,r)=>Em(e,"xAxis",t,r),(e,t,n,r)=>Em(e,"yAxis",n,r),(e,t,n,r)=>xm(e,"xAxis",t,r),(e,t,n,r)=>xm(e,"yAxis",n,r),tI,ta,bf,$S,rI,KS,(e,t,n,r,i,a)=>a],((e,t,n,r,i,a,o,s,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:g}=l;if(null!=d&&null!=o&&null!=t&&("horizontal"===s||"vertical"===s)&&null!=n&&null!=r&&null!=i&&null!=a&&null!=c){var m,{data:A}=d;if(null!=(m=null!=A&&A.length>0?A:null==f?void 0:f.slice(p,g+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:p,dataStartIndex:g}=e,m="horizontal"===t?s:o,A=u?m.scale.domain():null,y=ni({numericAxis:m}),v=m.scale(y);return d.map(((e,d)=>{var m,b,x,E,w,_;u?m=Xr(u[d+g],A):(m=Vr(e,n),Array.isArray(m)||(m=[y,m]));var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(ie(e))return e;var i=ie(n)||he(n);return i?e(n,r):(i||function(e){throw new Error("Invariant failed")}(),t)}}(r,0)(m[1],d);if("horizontal"===t){var I,[C,M]=[s.scale(m[0]),s.scale(m[1])];b=ti({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),x=null!==(I=null!=M?M:C)&&void 0!==I?I:void 0,E=i.size;var O=C-M;if(w=ne(O)?0:O,_={x:b,y:h.top,width:E,height:h.height},Math.abs(S)>0&&Math.abs(w)<Math.abs(S)){var T=te(w||S)*(Math.abs(S)-Math.abs(w));x-=T,w+=T}}else{var[P,R]=[o.scale(m[0]),o.scale(m[1])];b=P,x=ti({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),E=R-P,w=i.size,_={x:h.left,y:x,width:h.width,height:w},Math.abs(S)>0&&Math.abs(E)<Math.abs(S)&&(E+=te(E||S)*(Math.abs(S)-Math.abs(E)))}return null==b||null==x||null==E||null==w?null:IS(IS({},e),{},{stackedBarStart:v,x:b,y:x,width:E,height:w,value:u?m:m[1],payload:e,background:_,tooltipPosition:{x:b+E/2,y:x+w/2},parentViewBox:p},f&&f[d]&&f[d].props)})).filter(Boolean)}({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:m,offset:e,cells:h,dataStartIndex:p})}}));function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aI(Object(n),!0).forEach((function(t){sI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lI=$e([(e,t)=>ap(e,t),(e,t)=>Zb(e,"radiusAxis",t)],((e,t)=>{if(null!=e&&null!=t)return oI(oI({},e),{},{scale:t})})),cI=(e,t,n,r)=>rx(e,"radiusAxis",t,r),uI=$e([(e,t,n)=>ip(e,n),(e,t,n)=>Zb(e,"angleAxis",n)],((e,t)=>{if(null!=e&&null!=t)return oI(oI({},e),{},{scale:t})})),dI=(e,t,n,r)=>tx(e,"angleAxis",n,r),hI=$e([Ub,(e,t,n,r)=>r],((e,t)=>{if(e.some((e=>"radialBar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId)))return t})),fI=$e([ta,lI,cI,uI,dI],((e,t,n,r,i)=>Kr(e,"radiusAxis")?ai(t,n,!1):ai(r,i,!1))),pI=$e([uI,lI,ta],((e,t,n)=>{var r="radial"===n?e:t;if(null!=r&&null!=r.scale)return ni({numericAxis:r})})),gI=(e,t,n,r,i)=>r.maxBarSize,mI=e=>"radialBar"===e.type,AI=$e([ta,Ub,(e,t,n,r,i)=>n,(e,t,n,r,i)=>t],((e,t,n,r)=>t.filter((t=>"centric"===e?t.angleAxisId===n:t.radiusAxisId===r)).filter((e=>!1===e.hide)).filter(mI))),yI=$e([AI,Hf,()=>{}],XS),vI=$e([ta,Ff,uI,dI,lI,cI,gI],((e,t,n,r,i,a,o)=>{var s,l,c,u,d=he(o)?t:o;return"centric"===e?null!==(c=null!==(u=ai(n,r,!0))&&void 0!==u?u:d)&&void 0!==c?c:0:null!==(s=null!==(l=ai(i,a,!0))&&void 0!==l?l:d)&&void 0!==s?s:0})),bI=$e([yI,Ff,Qf,zf,vI,fI,gI],ZS),xI=$e([bI,hI],((e,t)=>{if(null!=e&&null!=t){var n=e.find((e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey)));if(null!=n)return n.position}})),EI=$e([Qb],(e=>e.filter(mI).filter(vp))),wI=$e([EI,vf,rg],yp),_I=$e([wI,EI,Gf,Vf],og),SI=$e([(e,t,n)=>"centric"===ta(e)?_I(e,"radiusAxis",t):_I(e,"angleAxis",n),hI],nI),II=$e([uI,dI,lI,cI,yf,hI,fI,ta,pI,pp,(e,t,n,r,i)=>i,xI,SI],((e,t,n,r,i,a,o,s,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:g}=i;if(null==a||null==n||null==e||null==f||null==o||null==d||"centric"!==s&&"radial"!==s||null==r)return[];var{dataKey:m,minPointSize:A}=a,{cx:y,cy:v,startAngle:b,endAngle:x}=c;return function(e){var{displayedData:t,stackedData:n,dataStartIndex:r,stackedDomain:i,dataKey:a,baseValue:o,layout:s,radiusAxis:l,radiusAxisTicks:c,bandSize:u,pos:d,angleAxis:h,minPointSize:f,cx:p,cy:g,angleAxisTicks:m,cells:A,startAngle:y,endAngle:v}=e;return null==m||null==c?LI:(null!=t?t:[]).map(((e,t)=>{var b,x,E,w,_,S;if(n?b=Xr(n[r+t],i):(b=Vr(e,a),Array.isArray(b)||(b=[o,b])),"radial"===s){x=ti({axis:l,ticks:c,bandSize:u,offset:d.offset,entry:e,index:t}),_=h.scale(b[1]),w=h.scale(b[0]),E=(null!=x?x:0)+d.size;var I=_-w;Math.abs(f)>0&&Math.abs(I)<Math.abs(f)&&(_+=te(I||f)*(Math.abs(f)-Math.abs(I))),S={background:{cx:p,cy:g,innerRadius:x,outerRadius:E,startAngle:y,endAngle:v}}}else{x=l.scale(b[0]),E=l.scale(b[1]),_=(null!=(w=ti({axis:h,ticks:m,bandSize:u,offset:d.offset,entry:e,index:t}))?w:0)+d.size;var C=E-x;Math.abs(f)>0&&Math.abs(C)<Math.abs(f)&&(E+=te(C||f)*(Math.abs(f)-Math.abs(C)))}return BI(BI(BI({},e),S),{},{payload:e,value:n?b:b[1],cx:p,cy:g,innerRadius:x,outerRadius:E,startAngle:w,endAngle:_},A&&A[t]&&A[t].props)}))}({angleAxis:e,angleAxisTicks:t,bandSize:o,baseValue:l,cells:u,cx:y,cy:v,dataKey:m,dataStartIndex:p,displayedData:f.slice(p,g+1),endAngle:x,layout:s,minPointSize:A,pos:d,radiusAxis:n,radiusAxisTicks:r,stackedData:h,stackedDomain:h?("centric"===s?n:e).scale.domain():null,startAngle:b})})),CI=$e([vf,(e,t)=>t],((e,t)=>{var{chartData:n,dataStartIndex:r,dataEndIndex:i}=e;if(null==n)return[];var a=n.slice(r,i+1);return 0===a.length?[]:a.map((e=>({type:t,value:e.name,color:e.fill,payload:e})))})),MI=["shape","activeShape","cornerRadius","id"],OI=["onMouseEnter","onClick","onMouseLeave"],TI=["value","background"];function PI(){return PI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PI.apply(null,arguments)}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RI(Object(n),!0).forEach((function(t){kI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var LI=[];function NI(e){var{showLabels:n,sectors:r,children:i}=e,a=r.map((e=>({value:e.value,payload:e.payload,parentViewBox:void 0,clockWise:!1,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})));return t.createElement(Cb,{value:n?a:void 0},i)}function jI(e){var{sectors:n,allOtherRadialBarProps:r,showLabels:i}=e,{shape:a,activeShape:o,cornerRadius:s,id:l}=r,c=DI(r,MI),u=d(c),h=qe(HA),{onMouseEnter:f,onClick:p,onMouseLeave:g}=r,m=DI(r,OI),A=TE(f,r.dataKey),y=PE(g),v=RE(p,r.dataKey);return null==n?null:t.createElement(NI,{showLabels:i,sectors:n},n.map(((e,n)=>{var r=o&&h===String(n),i=A(e,n),l=y(e,n),d=v(e,n),f=BI(BI(BI(BI({},u),{},{cornerRadius:D_(s)},e),Ie(m,e,n)),{},{onMouseEnter:i,onMouseLeave:l,onClick:d,className:"recharts-radial-bar-sector ".concat(e.className),forceCornerRadius:c.forceCornerRadius,cornerIsExternal:c.cornerIsExternal,isActive:r,option:r?o:a});return r?t.createElement(ky,{zIndex:Xf.activeBar,key:"sector-".concat(e.cx,"-").concat(e.cy,"-").concat(e.innerRadius,"-").concat(e.outerRadius,"-").concat(e.startAngle,"-").concat(e.endAngle,"-").concat(n)},t.createElement(N_,f)):t.createElement(N_,PI({key:"sector-".concat(e.cx,"-").concat(e.cy,"-").concat(e.innerRadius,"-").concat(e.outerRadius,"-").concat(e.startAngle,"-").concat(e.endAngle,"-").concat(n)},f))})),t.createElement(Ob,{label:r.label}),r.children)}function UI(e){var{props:n,previousSectorsRef:r}=e,{data:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=n,d=Fs(n,"recharts-radialbar-"),h=r.current,[f,p]=(0,t.useState)(!1),g=(0,t.useCallback)((()=>{"function"==typeof c&&c(),p(!1)}),[c]),m=(0,t.useCallback)((()=>{"function"==typeof u&&u(),p(!0)}),[u]);return t.createElement(Us,{animationId:d,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:m,onAnimationEnd:g,key:d},(e=>{var a=1===e?i:(null!=i?i:LI).map(((t,n)=>{var r=h&&h[n];if(r)return BI(BI({},t),{},{startAngle:ue(r.startAngle,t.startAngle,e),endAngle:ue(r.endAngle,t.endAngle,e)});var{endAngle:i,startAngle:a}=t;return BI(BI({},t),{},{endAngle:ue(a,i,e)})}));return e>0&&(r.current=null!=a?a:null),t.createElement(v,null,t.createElement(jI,{sectors:null!=a?a:LI,allOtherRadialBarProps:n,showLabels:!f}))}))}function FI(e){var n=(0,t.useRef)(null);return t.createElement(UI,{props:e,previousSectorsRef:n})}function QI(e){var n=qe((t=>CI(t,e.legendType)));return t.createElement(DE,{legendPayload:null!=n?n:[]})}var zI=t.memo((e=>{var{dataKey:n,data:r,stroke:i,strokeWidth:a,name:o,hide:s,fill:l,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:i,strokeWidth:a,fill:l,nameKey:void 0,dataKey:n,name:si(o,n),hide:s,type:c,color:l,unit:""}};return t.createElement(BE,{tooltipEntrySettings:u})}));class HI extends t.PureComponent{renderBackground(e){if(null==e)return null;var{cornerRadius:n}=this.props,i=h(this.props.background);return t.createElement(ky,{zIndex:nS(this.props.background,Xf.barBackground)},e.map(((e,a)=>{var{value:o,background:s}=e,l=DI(e,TI);if(!s)return null;var c=BI(BI(BI(BI(BI({cornerRadius:D_(n)},l),{},{fill:"#eee"},s),i),Ie(this.props,e,a)),{},{index:a,className:r("recharts-radial-bar-background-sector",String(null==i?void 0:i.className)),option:s,isActive:!1});return t.createElement(N_,PI({key:"background-".concat(l.cx,"-").concat(l.cy,"-").concat(l.innerRadius,"-").concat(l.outerRadius,"-").concat(l.startAngle,"-").concat(l.endAngle,"-").concat(a)},c))})))}render(){var{hide:e,data:n,className:i,background:a}=this.props;if(e)return null;var o=r("recharts-area",i);return t.createElement(ky,{zIndex:this.props.zIndex},t.createElement(v,{className:o},a&&t.createElement(v,{className:"recharts-radial-bar-background"},this.renderBackground(n)),t.createElement(v,{className:"recharts-radial-bar-sectors"},t.createElement(FI,this.props))))}}function GI(e){var n,r=uE(e.children,gv),i={data:void 0,hide:!1,id:e.id,dataKey:e.dataKey,minPointSize:e.minPointSize,stackId:Zr(e.stackId),maxBarSize:e.maxBarSize,barSize:e.barSize,type:"radialBar",angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId},a=null!==(n=qe((t=>II(t,e.radiusAxisId,e.angleAxisId,i,r))))&&void 0!==n?n:LI;return t.createElement(t.Fragment,null,t.createElement(zI,{dataKey:e.dataKey,data:a,stroke:e.stroke,strokeWidth:e.strokeWidth,name:e.name,hide:e.hide,fill:e.fill,tooltipType:e.tooltipType}),t.createElement(HI,PI({},e,{data:a})))}var VI={angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",background:!1,cornerIsExternal:!1,cornerRadius:0,data:[],forceCornerRadius:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:0,radiusAxisId:0,zIndex:Xf.bar};function KI(e){var n=Oe(e,VI);return t.createElement(UE,{id:n.id,type:"radialBar"},(e=>{var r,i,a;return t.createElement(t.Fragment,null,t.createElement(qE,{type:"radialBar",id:e,data:void 0,dataKey:n.dataKey,hide:null!==(r=n.hide)&&void 0!==r?r:VI.hide,angleAxisId:null!==(i=n.angleAxisId)&&void 0!==i?i:VI.angleAxisId,radiusAxisId:null!==(a=n.radiusAxisId)&&void 0!==a?a:VI.radiusAxisId,stackId:Zr(n.stackId),barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize}),t.createElement(QI,n),t.createElement(GI,PI({},n,{id:e})))}))}function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WI(Object(n),!0).forEach((function(t){YI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}KI.displayName="RadialBar";var XI=["Webkit","Moz","O","ms"],JI=e=>{var{chartData:n}=e,r=Ge(),i=_i();return(0,t.useEffect)((()=>i?()=>{}:(r(Zy(n)),()=>{r(Zy(void 0))})),[n,r,i]),null},$I=e=>{var{computedData:n}=e,r=Ge();return(0,t.useEffect)((()=>(r(tv(n)),()=>{r(Zy(void 0))})),[n,r]),null},ZI=e=>e.chartData.chartData,eC=()=>qe(ZI),tC=e=>{var{dataStartIndex:t,dataEndIndex:n}=e.chartData;return{startIndex:t,endIndex:n}},nC=()=>qe(tC),rC=(0,t.createContext)((()=>{})),iC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aC=zn({name:"brush",initialState:iC,reducers:{setBrushSettings:(e,t)=>null==t.payload?iC:t.payload}}),{setBrushSettings:oC}=aC.actions,sC=aC.reducer;function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lC.apply(null,arguments)}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cC(Object(n),!0).forEach((function(t){dC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hC(e){var{x:n,y:r,width:i,height:a,stroke:o}=e,s=Math.floor(r+a/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:i,height:a,fill:o,stroke:"none"}),t.createElement("line",{x1:n+1,y1:s,x2:n+i-1,y2:s,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:s+2,x2:n+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}function fC(e){var{travellerProps:n,travellerType:r}=e;return t.isValidElement(r)?t.cloneElement(r,n):"function"==typeof r?r(n):t.createElement(hC,n)}function pC(e){var n,r,{otherProps:i,travellerX:a,id:o,onMouseEnter:s,onMouseLeave:l,onMouseDown:c,onTouchStart:u,onTravellerMoveKeyboard:h,onFocus:f,onBlur:p}=e,{y:g,x:m,travellerWidth:A,height:y,traveller:b,ariaLabel:x,data:E,startIndex:w,endIndex:_}=i,S=Math.max(a,m),I=uC(uC({},d(i)),{},{x:S,y:g,width:A,height:y}),C=x||"Min value: ".concat(null===(n=E[w])||void 0===n?void 0:n.name,", Max value: ").concat(null===(r=E[_])||void 0===r?void 0:r.name);return t.createElement(v,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:s,onMouseLeave:l,onMouseDown:c,onTouchStart:u,onKeyDown:e=>{["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),h("ArrowRight"===e.key?1:-1,o))},onFocus:f,onBlur:p,style:{cursor:"col-resize"}},t.createElement(fC,{travellerType:b,travellerProps:I}))}function gC(e){var{index:t,data:n,tickFormatter:r,dataKey:i}=e,a=Vr(n[t],i,t);return"function"==typeof r?r(a,t):a}function mC(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}function AC(e){var{startX:t,endX:n,scaleValues:r,gap:i,data:a}=e,o=a.length-1,s=Math.min(t,n),l=Math.max(t,n),c=mC(r,s),u=mC(r,l);return{startIndex:c-c%i,endIndex:u===o?o:u-u%i}}function yC(e){var{x:n,y:r,width:i,height:a,fill:o,stroke:s}=e;return t.createElement("rect",{stroke:s,fill:o,x:n,y:r,width:i,height:a})}function vC(e){var{startIndex:n,endIndex:r,y:i,height:a,travellerWidth:o,stroke:s,tickFormatter:l,dataKey:c,data:u,startX:d,endX:h}=e,f={pointerEvents:"none",fill:s};return t.createElement(v,{className:"recharts-brush-texts"},t.createElement(qv,lC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-5,y:i+a/2},f),gC({index:n,tickFormatter:l,dataKey:c,data:u})),t.createElement(qv,lC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+o+5,y:i+a/2},f),gC({index:r,tickFormatter:l,dataKey:c,data:u})))}function bC(e){var{y:n,height:r,stroke:i,travellerWidth:a,startX:o,endX:s,onMouseEnter:l,onMouseLeave:c,onMouseDown:u,onTouchStart:d}=e,h=Math.min(o,s)+a,f=Math.max(Math.abs(s-o)-a,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:l,onMouseLeave:c,onMouseDown:u,onTouchStart:d,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:h,y:n,width:f,height:r})}function xC(e){var{x:n,y:r,width:i,height:a,data:o,children:s,padding:l}=e;if(1!==t.Children.count(s))return null;var c=t.Children.only(s);return c?t.cloneElement(c,{x:n,y:r,width:i,height:a,margin:l,compact:!0,data:o}):null}var EC=e=>e.changedTouches&&!!e.changedTouches.length;class wC extends t.PureComponent{constructor(e){super(e),dC(this,"handleDrag",(e=>{this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.state.isTravellerMoving?this.handleTravellerMove(e):this.state.isSlideMoving&&this.handleSlideDrag(e)})),dC(this,"handleTouchMove",(e=>{null!=e.changedTouches&&e.changedTouches.length>0&&this.handleDrag(e.changedTouches[0])})),dC(this,"handleDragEnd",(()=>{this.setState({isTravellerMoving:!1,isSlideMoving:!1},(()=>{var{endIndex:e,onDragEnd:t,startIndex:n}=this.props;null==t||t({endIndex:e,startIndex:n})})),this.detachDragEndListener()})),dC(this,"handleLeaveWrapper",(()=>{(this.state.isTravellerMoving||this.state.isSlideMoving)&&(this.leaveTimer=window.setTimeout(this.handleDragEnd,this.props.leaveTimeOut))})),dC(this,"handleEnterSlideOrTraveller",(()=>{this.setState({isTextActive:!0})})),dC(this,"handleLeaveSlideOrTraveller",(()=>{this.setState({isTextActive:!1})})),dC(this,"handleSlideDragStart",(e=>{var t=EC(e)?e.changedTouches[0]:e;this.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),this.attachDragEndListener()})),dC(this,"handleTravellerMoveKeyboard",((e,t)=>{var{data:n,gap:r,startIndex:i,endIndex:a}=this.props,{scaleValues:o,startX:s,endX:l}=this.state;if(null!=o){var c=-1;if("startX"===t?c=i:"endX"===t&&(c=a),!(c<0||c>=n.length)){var u=c+e;if(!(-1===u||u>=o.length)){var d=o[u];"startX"===t&&d>=l||"endX"===t&&d<=s||this.setState({[t]:d},(()=>{this.props.onChange(AC({startX:this.state.startX,endX:this.state.endX,data:n,gap:r,scaleValues:o}))}))}}}})),this.travellerDragStartHandlers={startX:this.handleTravellerDragStart.bind(this,"startX"),endX:this.handleTravellerDragStart.bind(this,"endX")},this.state={brushMoveStartX:0,movingTravellerId:void 0,endX:0,startX:0,slideMoveStartX:0}}static getDerivedStateFromProps(e,t){var{data:n,width:r,x:i,travellerWidth:a,startIndex:o,endIndex:s,startIndexControlledFromProps:l,endIndexControlledFromProps:c}=e;if(n!==t.prevData)return uC({prevData:n,prevTravellerWidth:a,prevX:i,prevWidth:r},n&&n.length?(e=>{var{data:t,startIndex:n,endIndex:r,x:i,width:a,travellerWidth:o}=e;if(!t||!t.length)return{};var s=t.length,l=Il().domain(ml()(0,s)).range([i,i+a-o]),c=l.domain().map((e=>l(e))).filter(pe);return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}})({data:n,width:r,x:i,travellerWidth:a,startIndex:o,endIndex:s}):{scale:void 0,scaleValues:void 0});var u=t.scale;if(u&&(r!==t.prevWidth||i!==t.prevX||a!==t.prevTravellerWidth)){u.range([i,i+r-a]);var d=u.domain().map((e=>u(e))).filter((e=>null!=e));return{prevData:n,prevTravellerWidth:a,prevX:i,prevWidth:r,startX:u(e.startIndex),endX:u(e.endIndex),scaleValues:d}}if(t.scale&&!t.isSlideMoving&&!t.isTravellerMoving&&!t.isTravellerFocused&&!t.isTextActive){if(null!=l&&t.prevStartIndexControlledFromProps!==l)return{startX:t.scale(l),prevStartIndexControlledFromProps:l};if(null!=c&&t.prevEndIndexControlledFromProps!==c)return{endX:t.scale(c),prevEndIndexControlledFromProps:c}}return null}componentWillUnmount(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}attachDragEndListener(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}detachDragEndListener(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}handleSlideDrag(e){var{slideMoveStartX:t,startX:n,endX:r,scaleValues:i}=this.state;if(null!=i){var{x:a,width:o,travellerWidth:s,startIndex:l,endIndex:c,onChange:u,data:d,gap:h}=this.props,f=e.pageX-t;f>0?f=Math.min(f,a+o-s-r,a+o-s-n):f<0&&(f=Math.max(f,a-n,a-r));var p=AC({startX:n+f,endX:r+f,data:d,gap:h,scaleValues:i});p.startIndex===l&&p.endIndex===c||!u||u(p),this.setState({startX:n+f,endX:r+f,slideMoveStartX:e.pageX})}}handleTravellerDragStart(e,t){var n=EC(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}handleTravellerMove(e){var{brushMoveStartX:t,movingTravellerId:n,endX:r,startX:i,scaleValues:a}=this.state;if(null!=n&&null!=a){var o=this.state[n],{x:s,width:l,travellerWidth:c,onChange:u,gap:d,data:h}=this.props,f={startX:this.state.startX,endX:this.state.endX,data:h,gap:d,scaleValues:a},p=e.pageX-t;p>0?p=Math.min(p,s+l-c-o):p<0&&(p=Math.max(p,s-o)),f[n]=o+p;var g=AC(f),{startIndex:m,endIndex:A}=g;this.setState({[n]:o+p,brushMoveStartX:e.pageX},(()=>{var e;u&&(e=h.length-1,("startX"===n&&(r>i?m%d==0:A%d==0)||r<i&&A===e||"endX"===n&&(r>i?A%d==0:m%d==0)||r>i&&A===e)&&u(g))}))}}render(){var{data:e,className:n,children:i,x:a,y:o,dy:s,width:l,height:c,alwaysShowText:u,fill:d,stroke:h,startIndex:f,endIndex:p,travellerWidth:g,tickFormatter:m,dataKey:A,padding:y}=this.props,{startX:b,endX:x,isTextActive:E,isSlideMoving:w,isTravellerMoving:_,isTravellerFocused:S}=this.state;if(!e||!e.length||!ie(a)||!ie(o)||!ie(l)||!ie(c)||l<=0||c<=0)return null;var I=r("recharts-brush",n),C=((e,t)=>{if(e){var n=e.replace(/(\w)/,(e=>e.toUpperCase())),r=XI.reduce(((e,r)=>qI(qI({},e),{},{[r+n]:t})),{});return r[e]=t,r}})("userSelect","none"),M=o+(null!=s?s:0);return t.createElement(v,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},t.createElement(yC,{x:a,y:M,width:l,height:c,fill:d,stroke:h}),t.createElement(Si,null,t.createElement(xC,{x:a,y:M,width:l,height:c,data:e,padding:y},i)),t.createElement(bC,{y:M,height:c,stroke:h,travellerWidth:g,startX:b,endX:x,onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart}),t.createElement(pC,{travellerX:b,id:"startX",otherProps:uC(uC({},this.props),{},{y:M}),onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers.startX,onTouchStart:this.travellerDragStartHandlers.startX,onTravellerMoveKeyboard:this.handleTravellerMoveKeyboard,onFocus:()=>{this.setState({isTravellerFocused:!0})},onBlur:()=>{this.setState({isTravellerFocused:!1})}}),t.createElement(pC,{travellerX:x,id:"endX",otherProps:uC(uC({},this.props),{},{y:M}),onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers.endX,onTouchStart:this.travellerDragStartHandlers.endX,onTravellerMoveKeyboard:this.handleTravellerMoveKeyboard,onFocus:()=>{this.setState({isTravellerFocused:!0})},onBlur:()=>{this.setState({isTravellerFocused:!1})}}),(E||w||_||S||u)&&t.createElement(vC,{startIndex:f,endIndex:p,y:M,height:c,travellerWidth:g,stroke:h,tickFormatter:m,dataKey:A,data:e,startX:b,endX:x}))}}function _C(e){var n,r,i,a,o=Ge(),s=eC(),l=nC(),c=(0,t.useContext)(rC),u=e.onChange,{startIndex:d,endIndex:h}=e;(0,t.useEffect)((()=>{o(ev({startIndex:d,endIndex:h}))}),[o,h,d]),n=qe(Wf),r=qe(Yf),i=qe((e=>e.chartData.dataStartIndex)),a=qe((e=>e.chartData.dataEndIndex)),(0,t.useEffect)((()=>{if(null!=n&&null!=i&&null!=a&&null!=r){var e={startIndex:i,endIndex:a};Gy.emit(Ky,n,e,r)}}),[a,i,r,n]);var f=(0,t.useCallback)((e=>{if(null!=l){var{startIndex:t,endIndex:n}=l;e.startIndex===t&&e.endIndex===n||(null==c||c(e),null==u||u(e),o(ev(e)))}}),[u,c,o,l]),p=qe(Ci);if(null==p||null==l||null==s||!s.length)return null;var{startIndex:g,endIndex:m}=l,{x:A,y,width:v}=p,b={data:s,x:A,y,width:v,startIndex:g,endIndex:m,onChange:f};return t.createElement(wC,lC({},e,b,{startIndexControlledFromProps:null!=d?d:void 0,endIndexControlledFromProps:null!=h?h:void 0}))}function SC(e){var n=Ge();return(0,t.useEffect)((()=>(n(oC(e)),()=>{n(oC(null))})),[n,e]),null}var IC={height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1};function CC(e){var n=Oe(e,IC);return t.createElement(t.Fragment,null,t.createElement(SC,{height:n.height,x:n.x,y:n.y,width:n.width,padding:n.padding}),t.createElement(_C,n))}function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MC(Object(n),!0).forEach((function(t){TC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}CC.displayName="Brush";var PC=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},RC=e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return PC({x:t,y:n},{x:r,y:i})};class BC{static create(e){return new BC(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}TC(BC,"EPS",1e-4);var kC=e=>{var t=Object.keys(e).reduce(((t,n)=>OC(OC({},t),{},{[n]:BC.create(e[n])})),{});return OC(OC({},t),{},{apply(e){var{bandAware:n,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.fromEntries(Object.entries(e).map((e=>{var[i,a]=e;return[i,t[i].apply(a,{bandAware:n,position:r})]})))},isInRange:e=>Object.keys(e).every((n=>t[n].isInRange(e[n])))})},DC=zn({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Nt(e).dots.findIndex((e=>e===t.payload));-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Nt(e).areas.findIndex((e=>e===t.payload));-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Nt(e).lines.findIndex((e=>e===t.payload));-1!==n&&e.lines.splice(n,1)}}}),{addDot:LC,removeDot:NC,addArea:jC,removeArea:UC,addLine:FC,removeLine:QC}=DC.actions,zC=DC.reducer,HC=(0,t.createContext)(void 0),GC=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(se("recharts"),"-clip")),i=Vw();if(null==i)return null;var{x:a,y:o,width:s,height:l}=i;return t.createElement(HC.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:a,y:o,height:l,width:s}))),n)},VC=()=>(0,t.useContext)(HC);function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KC(Object(n),!0).forEach((function(t){qC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YC.apply(null,arguments)}var XC=(e,n)=>{var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"==typeof e)r=e(n);else{if(!(Ni(n.x1)&&Ni(n.y1)&&Ni(n.x2)&&Ni(n.y2)))return null;r=t.createElement("line",YC({},n,{className:"recharts-reference-line-line"}))}return r},JC=(e,t,n,r,i,a)=>{var{x:o,y:s,segment:l,ifOverflow:c}=a,u=ae(o);return ae(s)?((e,t,n,r,i,a)=>{var{x:o,width:s}=a,l=i.y.apply(e,{position:n});if(ne(l))return null;if("discard"===t&&!i.y.isInRange(l))return null;var c=[{x:o+s,y:l},{x:o,y:l}];return"left"===r?c.reverse():c})(s,c,n,i,e,t):u?((e,t,n,r,i,a)=>{var{y:o,height:s}=a,l=i.x.apply(e,{position:n});if(ne(l))return null;if("discard"===t&&!i.x.isInRange(l))return null;var c=[{x:l,y:o+s},{x:l,y:o}];return"top"===r?c.reverse():c})(o,c,n,r,e,t):null!=l&&2===l.length?((e,t,n,r)=>{var i=e.map((e=>r.apply(e,{position:n})));return"discard"===t&&i.some((e=>!r.isInRange(e)))?null:i})(l,c,n,e):null};function $C(e){var n=Ge();return(0,t.useEffect)((()=>(n(FC(e)),()=>{n(QC(e))}))),null}function ZC(e){var{xAxisId:n,yAxisId:i,shape:a,className:o,ifOverflow:s}=e,l=_i(),c=VC(),u=qe((e=>Tp(e,n))),d=qe((e=>Bp(e,i))),h=qe((e=>Zg(e,"xAxis",n,l))),p=qe((e=>Zg(e,"yAxis",i,l))),g=Yi();if(!c||!g||null==u||null==d||null==h||null==p)return null;var m=kC({x:h,y:p}),A=JC(m,g,e.position,u.orientation,d.orientation,e);if(!A)return null;var[{x:y,y:b},{x,y:E}]=A,w=WC(WC({clipPath:"hidden"===s?"url(#".concat(c,")"):void 0},f(e)),{},{x1:y,y1:b,x2:x,y2:E}),_=RC({x1:y,y1:b,x2:x,y2:E});return t.createElement(ky,{zIndex:e.zIndex},t.createElement(v,{className:r("recharts-reference-line",o)},XC(a,w),t.createElement(tb,YC({},_,{lowerWidth:_.width,upperWidth:_.width}),t.createElement(gb,{label:e.label}),e.children)))}var eM={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Xf.line};function tM(e){var n=Oe(e,eM);return t.createElement(t.Fragment,null,t.createElement($C,{yAxisId:n.yAxisId,xAxisId:n.xAxisId,ifOverflow:n.ifOverflow,x:n.x,y:n.y,segment:n.segment}),t.createElement(ZC,n))}function nM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nM(Object(n),!0).forEach((function(t){iM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aM(){return aM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aM.apply(null,arguments)}tM.displayName="ReferenceLine";var oM=(e,t,n,r,i)=>{var a=ae(e),o=ae(t),s=_i(),l=qe((e=>Zg(e,"xAxis",n,s))),c=qe((e=>Zg(e,"yAxis",r,s)));if(!a||!o||null==l||null==c)return null;var u=kC({x:l,y:c}),d=u.apply({x:e,y:t},{bandAware:!0});return"discard"!==i||u.isInRange(d)?d:null};function sM(e){var n=Ge();return(0,t.useEffect)((()=>(n(LC(e)),()=>{n(NC(e))}))),null}var lM=(e,n)=>t.isValidElement(e)?t.cloneElement(e,n):"function"==typeof e?e(n):t.createElement(jb,aM({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}));function cM(e){var{x:n,y:i,r:a}=e,o=VC(),s=oM(n,i,e.xAxisId,e.yAxisId,e.ifOverflow);if(!s)return null;var{x:l,y:c}=s,{shape:u,className:d,ifOverflow:h}=e,p=rM(rM({clipPath:"hidden"===h?"url(#".concat(o,")"):void 0},f(e)),{},{cx:l,cy:c});return t.createElement(ky,{zIndex:e.zIndex},t.createElement(v,{className:r("recharts-reference-dot",d)},lM(u,p),t.createElement(tb,{x:l-a,y:c-a,width:2*a,height:2*a,upperWidth:2*a,lowerWidth:2*a},t.createElement(gb,{label:e.label}),e.children)))}var uM={ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1,zIndex:Xf.scatter};function dM(e){var n=Oe(e,uM),{x:r,y:i,r:a,ifOverflow:o,yAxisId:s,xAxisId:l}=n;return t.createElement(t.Fragment,null,t.createElement(sM,{y:i,x:r,r:a,yAxisId:s,xAxisId:l,ifOverflow:o}),t.createElement(cM,n))}function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hM(Object(n),!0).forEach((function(t){pM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gM(){return gM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gM.apply(null,arguments)}dM.displayName="ReferenceDot";var mM=(e,t,n,r,i,a,o)=>{var{x1:s,x2:l,y1:c,y2:u}=o;if(null==i||null==a)return null;var d=kC({x:i,y:a}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(c,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(l,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(u,{position:"end"}):d.y.rangeMax};return"discard"!==o.ifOverflow||d.isInRange(h)&&d.isInRange(f)?PC(h,f):null},AM=(e,n)=>t.isValidElement(e)?t.cloneElement(e,n):"function"==typeof e?e(n):t.createElement(Xs,gM({},n,{className:"recharts-reference-area-rect"}));function yM(e){var n=Ge();return(0,t.useEffect)((()=>(n(jC(e)),()=>{n(UC(e))}))),null}function vM(e){var{x1:n,x2:i,y1:a,y2:o,className:s,shape:l,xAxisId:c,yAxisId:u}=e,d=VC(),h=_i(),p=qe((e=>Zg(e,"xAxis",c,h))),g=qe((e=>Zg(e,"yAxis",u,h)));if(null==p||null==g)return null;var m=ae(n),A=ae(i),y=ae(a),b=ae(o);if(!(m||A||y||b||l))return null;var x=mM(m,A,y,b,p,g,e);if(!x&&!l)return null;var E="hidden"===e.ifOverflow?"url(#".concat(d,")"):void 0;return t.createElement(ky,{zIndex:e.zIndex},t.createElement(v,{className:r("recharts-reference-area",s)},AM(l,fM(fM({clipPath:E},f(e)),x)),null!=x&&t.createElement(tb,gM({},x,{lowerWidth:x.width,upperWidth:x.width}),t.createElement(gb,{label:e.label}),e.children)))}var bM={ifOverflow:"discard",xAxisId:0,yAxisId:0,radius:0,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1,zIndex:Xf.area};function xM(e){var n=Oe(e,bM);return t.createElement(t.Fragment,null,t.createElement(yM,{yAxisId:n.yAxisId,xAxisId:n.xAxisId,ifOverflow:n.ifOverflow,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),t.createElement(vM,n))}function EM(e,t){if(t<1)return[];if(1===t)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function wM(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_M(Object(n),!0).forEach((function(t){IM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CM(e,t,n){var r,{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(ie(c)||Ds.isSsr)return null!==(r=function(e,t){return EM(e,t+1)}(a,ie(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",g=d&&"width"===p?wv(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=(e,r)=>{var i="function"==typeof u?u(e.value,r):e.value;return"width"===p?function(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}(wv(i,{fontSize:t,letterSpacing:n}),g,h):wv(i,{fontSize:t,letterSpacing:n})[p]},A=a.length>=2?te(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:i,y:a,width:o,height:s}=e;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(o,A,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:EM(r,u)};var a,o=c,h=()=>(void 0===a&&(a=n(t,o)),a),f=t.coordinate,p=0===c||wM(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(A,y,m,a,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=SM(SM({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),null!=u.tickCoord&&wM(e,u.tickCoord,(()=>d),l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=SM(SM({},u),{},{isShow:!0}))}for(var f=a?s-1:s,p=function(t){var r,a=o[t],s=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=SM(SM({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=SM(SM({},a),{},{tickCoord:a.coordinate});null!=a.tickCoord&&wM(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=SM(SM({},a),{},{isShow:!0}))},g=0;g<f;g++)p(g);return o}(A,y,m,a,s,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=SM(SM({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=SM(SM({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&wM(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=SM(SM({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(A,y,m,a,s),f.filter((e=>e.isShow)))}xM.displayName="ReferenceArea";var MM=["axisLine","width","height","className","hide","ticks","axisType"];function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(null,arguments)}function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TM(Object(n),!0).forEach((function(t){RM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BM={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Xf.axis};function kM(e){var{x:n,y:i,width:a,height:o,orientation:s,mirror:l,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var h=PM(PM(PM({},u),d(c)),{},{fill:"none"});if("top"===s||"bottom"===s){var f=+("top"===s&&!l||"bottom"===s&&l);h=PM(PM({},h),{},{x1:n,y1:i+f*o,x2:n+a,y2:i+f*o})}else{var p=+("left"===s&&!l||"right"===s&&l);h=PM(PM({},h),{},{x1:n+p*a,y1:i,x2:n+p*a,y2:i+o})}return t.createElement("line",OM({},h,{className:r("recharts-cartesian-axis-line",ee()(c,"className"))}))}function DM(e){var n,{option:i,tickProps:a,value:o}=e,s=r(a.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(i))n=t.cloneElement(i,PM(PM({},a),{},{className:s}));else if("function"==typeof i)n=i(PM(PM({},a),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";"boolean"!=typeof i&&(l=r(l,null==i?void 0:i.className)),n=t.createElement(qv,OM({},a,{className:l}),o)}return n}var LM=(0,t.forwardRef)(((e,n)=>{var{ticks:i=[],tick:a,tickLine:o,stroke:s,tickFormatter:l,unit:c,padding:u,tickTextProps:f,orientation:p,mirror:g,x:m,y:A,width:y,height:b,tickSize:x,tickMargin:E,fontSize:w,letterSpacing:_,getTicksConfig:S,events:I,axisType:C}=e,M=CM(PM(PM({},S),{},{ticks:i}),w,_),O=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(p,g),T=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(p,g),P=d(S),R=h(a),B={};"object"==typeof o&&(B=o);var k=PM(PM({},P),{},{fill:"none"},B),D=M.map((e=>PM({entry:e},function(e,t,n,r,i,a,o,s,l){var c,u,d,h,f,p,g=s?-1:1,m=e.tickSize||o,A=ie(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,p=(d=(h=n+ +!s*i)-g*m)-g*l,f=A;break;case"left":d=h=e.coordinate,f=(c=(u=t+ +!s*r)-g*m)-g*l,p=A;break;case"right":d=h=e.coordinate,f=(c=(u=t+ +s*r)+g*m)+g*l,p=A;break;default:c=u=e.coordinate,p=(d=(h=n+ +s*i)+g*m)+g*l,f=A}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:p}}}(e,m,A,y,b,p,x,g,E)))),L=D.map((e=>{var{entry:n,line:i}=e;return t.createElement(v,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(n.value,"-").concat(n.coordinate,"-").concat(n.tickCoord)},o&&t.createElement("line",OM({},k,i,{className:r("recharts-cartesian-axis-tick-line",ee()(o,"className"))})))})),N=D.map(((e,n)=>{var{entry:r,tick:i}=e,o=PM(PM(PM(PM({textAnchor:O,verticalAnchor:T},P),{},{stroke:"none",fill:s},R),i),{},{index:n,payload:r,visibleTicksCount:M.length,tickFormatter:l,padding:u},f);return t.createElement(v,OM({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},Ie(I,r,n)),a&&t.createElement(DM,{option:a,tickProps:o,value:"".concat("function"==typeof l?l(r.value,n):r.value).concat(c||"")}))}));return t.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},N.length>0&&t.createElement(ky,{zIndex:Xf.label},t.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:n},N)),L.length>0&&t.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},L))})),NM=(0,t.forwardRef)(((e,n)=>{var{axisLine:i,width:a,height:o,className:s,hide:l,ticks:c,axisType:u}=e,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,MM),[f,p]=(0,t.useState)(""),[g,m]=(0,t.useState)(""),A=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach((e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}}));var s=n?n.getBoundingClientRect().width:0,l=o+(i+a)+s+(n?r:0);return Math.round(l)}return 0})({ticks:A.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}})));var y=(0,t.useCallback)((e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=t;var n=t[0];if(n){var r=window.getComputedStyle(n),i=r.fontSize,a=r.letterSpacing;i===f&&a===g||(p(i),m(a))}}}),[f,g]);return l||null!=a&&a<=0||null!=o&&o<=0?null:t.createElement(ky,{zIndex:e.zIndex},t.createElement(v,{className:r("recharts-cartesian-axis",s)},t.createElement(kM,{x:e.x,y:e.y,width:a,height:o,orientation:e.orientation,mirror:e.mirror,axisLine:i,otherSvgProps:d(e)}),t.createElement(LM,{ref:y,axisType:u,events:h,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),t.createElement(tb,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},t.createElement(gb,{label:e.label,labelRef:e.labelRef}),e.children)))})),jM=t.forwardRef(((e,n)=>{var r=Oe(e,BM);return t.createElement(NM,OM({},r,{ref:n}))}));jM.displayName="CartesianAxis";var UM=["x1","y1","x2","y2","key"],FM=["offset"],QM=["xAxisId","yAxisId"],zM=["xAxisId","yAxisId"];function HM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HM(Object(n),!0).forEach((function(t){VM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KM(){return KM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KM.apply(null,arguments)}function WM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var qM=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:i,y:a,width:o,height:s,ry:l}=e;return t.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function YM(e){var n,{option:r,lineItemProps:i}=e;if(t.isValidElement(r))n=t.cloneElement(r,i);else if("function"==typeof r)n=r(i);else{var a,{x1:o,y1:s,x2:l,y2:c,key:u}=i,h=null!==(a=d(WM(i,UM)))&&void 0!==a?a:{},{offset:f}=h,p=WM(h,FM);n=t.createElement("line",KM({},p,{x1:o,y1:s,x2:l,y2:c,fill:"none",key:u}))}return n}function XM(e){var{x:n,width:r,horizontal:i=!0,horizontalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=WM(e,QM),c=a.map(((e,a)=>{var o=GM(GM({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(a),index:a});return t.createElement(YM,{key:"line-".concat(a),option:i,lineItemProps:o})}));return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function JM(e){var{y:n,height:r,vertical:i=!0,verticalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=WM(e,zM),c=a.map(((e,a)=>{var o=GM(GM({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(a),index:a});return t.createElement(YM,{option:i,lineItemProps:o,key:"line-".concat(a)})}));return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function $M(e){var{horizontalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length||null==l)return null;var u=l.map((e=>Math.round(e+a-a))).sort(((e,t)=>e-t));a!==u[0]&&u.unshift(0);var d=u.map(((e,l)=>{var c=u[l+1]?u[l+1]-e:a+s-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ZM(e){var{vertical:n=!0,verticalFill:r,fillOpacity:i,x:a,y:o,width:s,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map((e=>Math.round(e+a-a))).sort(((e,t)=>e-t));a!==u[0]&&u.unshift(0);var d=u.map(((e,n)=>{var c=u[n+1]?u[n+1]-e:a+s-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:o,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var eO=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return Wr(CM(GM(GM(GM({},BM),n),{},{ticks:qr(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},tO=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return Wr(CM(GM(GM(GM({},BM),n),{},{ticks:qr(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},nO={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Xf.grid};function rO(e){var n=$i(),r=Zi(),i=Ji(),a=GM(GM({},Oe(e,nO)),{},{x:ie(e.x)?e.x:i.left,y:ie(e.y)?e.y:i.top,width:ie(e.width)?e.width:i.width,height:ie(e.height)?e.height:i.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,g=_i(),m=qe((e=>Am(e,"xAxis",o,g))),A=qe((e=>Am(e,"yAxis",s,g)));if(!(ji(u)&&ji(d)&&ie(l)&&ie(c)))return null;var y=a.verticalCoordinatesGenerator||eO,v=a.horizontalCoordinatesGenerator||tO,{horizontalPoints:b,verticalPoints:x}=a;if(!(b&&b.length||"function"!=typeof v)){var E=f&&f.length,w=v({yAxis:A?GM(GM({},A),{},{ticks:E?f:A.ticks}):void 0,width:null!=n?n:u,height:null!=r?r:d,offset:i},!!E||h);Ti(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(b=w)}if(!(x&&x.length||"function"!=typeof y)){var _=p&&p.length,S=y({xAxis:m?GM(GM({},m),{},{ticks:_?p:m.ticks}):void 0,width:null!=n?n:u,height:null!=r?r:d,offset:i},!!_||h);Ti(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}return t.createElement(ky,{zIndex:a.zIndex},t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(qM,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),t.createElement($M,KM({},a,{horizontalPoints:b})),t.createElement(ZM,KM({},a,{verticalPoints:x})),t.createElement(XM,KM({},a,{offset:i,horizontalPoints:b,xAxis:m,yAxis:A})),t.createElement(JM,KM({},a,{offset:i,verticalPoints:x,xAxis:m,yAxis:A}))))}rO.displayName="CartesianGrid";var iO=(e,t,n,r)=>Em(e,"xAxis",t,r),aO=(e,t,n,r)=>xm(e,"xAxis",t,r),oO=(e,t,n,r)=>Em(e,"yAxis",n,r),sO=(e,t,n,r)=>xm(e,"yAxis",n,r),lO=$e([ta,iO,oO,aO,sO],((e,t,n,r,i)=>Kr(e,"xAxis")?ai(t,r,!1):ai(n,i,!1)));function cO(e){return"line"===e.type}var uO=$e([Fp,(e,t,n,r,i)=>i],((e,t)=>e.filter(cO).find((e=>e.id===t)))),dO=$e([ta,iO,oO,aO,sO,uO,lO,bf],((e,t,n,r,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o&&("horizontal"===e||"vertical"===e)){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null==l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=e;return l.map(((e,l)=>{var c=Vr(e,o);if("horizontal"===t)return{x:ei({axis:n,ticks:i,bandSize:s,entry:e,index:l}),y:he(c)?null:r.scale(c),value:c,payload:e};var u=he(c)?null:n.scale(c),d=ei({axis:r,ticks:a,bandSize:s,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}})).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:d})}}));function hO(e){var t=h(e);if(null!=t){var{r:n,strokeWidth:r}=t,i=Number(n),a=Number(r);return(Number.isNaN(i)||i<0)&&(i=3),(Number.isNaN(a)||a<0)&&(a=2),{r:i,strokeWidth:a}}return{r:3,strokeWidth:2}}var fO=["id"],pO=["type","layout","connectNulls","needClip","shape"],gO=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function mO(){return mO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mO.apply(null,arguments)}function AO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AO(Object(n),!0).forEach((function(t){vO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xO=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:si(n,t),payload:e}]},EO=t.memo((e=>{var{dataKey:n,data:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:i,strokeWidth:a,fill:o,dataKey:n,nameKey:void 0,name:si(s,n),hide:l,type:u,color:i,unit:c}};return t.createElement(BE,{tooltipEntrySettings:d})})),wO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function _O(e,t){for(var n=e.length%2!=0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function SO(e){var{clipPathId:n,points:r,props:i}=e,{dot:a,dataKey:o,needClip:s}=i,{id:l}=i,c=d(bO(i,fO));return t.createElement(Sw,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:c,needClip:s,clipPathId:n})}function IO(e){var{showLabels:n,children:r,points:i}=e,a=(0,t.useMemo)((()=>null==i?void 0:i.map((e=>{var t,n,r={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(n=e.y)&&void 0!==n?n:0,width:0,lowerWidth:0,upperWidth:0,height:0};return yO(yO({},r),{},{value:e.value,payload:e.payload,viewBox:r,parentViewBox:void 0,fill:void 0})}))),[i]);return t.createElement(Sb,{value:n?a:void 0},r)}function CO(e){var{clipPathId:n,pathRef:r,points:i,strokeDasharray:a,props:o}=e,{type:s,layout:l,connectNulls:c,needClip:u,shape:d}=o,h=yO(yO({},f(bO(o,pO))),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(n,")"):void 0,points:i,type:s,layout:l,connectNulls:c,strokeDasharray:null!=a?a:o.strokeDasharray});return t.createElement(t.Fragment,null,(null==i?void 0:i.length)>1&&t.createElement(ME,mO({shapeType:"curve",option:d},h,{pathRef:r})),t.createElement(SO,{points:i,clipPathId:n,props:o}))}function MO(e){var{clipPathId:n,props:r,pathRef:i,previousPointsRef:a,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:g,onAnimationEnd:m,onAnimationStart:A}=r,y=a.current,v=Fs(s,"recharts-line-"),b=(0,t.useRef)(v),[x,E]=(0,t.useState)(!1),w=!x,_=(0,t.useCallback)((()=>{"function"==typeof m&&m(),E(!1)}),[m]),S=(0,t.useCallback)((()=>{"function"==typeof A&&A(),E(!0)}),[A]),I=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}(i.current),C=(0,t.useRef)(0);b.current!==v&&(C.current=o.current,b.current=v);var M=C.current;return t.createElement(IO,{points:s,showLabels:w},r.children,t.createElement(Us,{animationId:v,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:_,onAnimationStart:S,key:v},(e=>{var u,d=ue(M,I+M,e),h=Math.min(d,I);if(c)if(l){var m="".concat(l).split(/[,\s]+/gim).map((e=>parseFloat(e)));u=((e,t,n)=>{var r=n.reduce(((e,t)=>e+t));if(!r)return wO(t,e);for(var i=Math.floor(e/r),a=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){s=[...n.slice(0,l),a-c];break}var u=s.length%2==0?[0,o]:[o];return[..._O(n,i),...s,...u].map((e=>"".concat(e,"px"))).join(", ")})(h,I,m)}else u=wO(I,h);else u=null==l?void 0:String(l);if(e>0&&I>0&&(a.current=s,o.current=Math.max(o.current,h)),y){var A=y.length/s.length,v=1===e?s:s.map(((t,n)=>{var r=Math.floor(n*A);if(y[r]){var i=y[r];return yO(yO({},t),{},{x:ue(i.x,t.x,e),y:ue(i.y,t.y,e)})}return yO(yO({},t),{},f?{x:ue(2*p,t.x,e),y:ue(g/2,t.y,e)}:{x:t.x,y:t.y})}));return a.current=v,t.createElement(CO,{props:r,points:v,clipPathId:n,pathRef:i,strokeDasharray:u})}return t.createElement(CO,{props:r,points:s,clipPathId:n,pathRef:i,strokeDasharray:u})})),t.createElement(Ob,{label:r.label}))}function OO(e){var{clipPathId:n,props:r}=e,i=(0,t.useRef)(null),a=(0,t.useRef)(0),o=(0,t.useRef)(null);return t.createElement(MO,{props:r,clipPathId:n,previousPointsRef:i,longestAnimatedLengthRef:a,pathRef:o})}var TO=(e,t)=>{var n,r;return{x:null!==(n=e.x)&&void 0!==n?n:void 0,y:null!==(r=e.y)&&void 0!==r?r:void 0,value:e.value,errorVal:Vr(e.payload,t)}};class PO extends t.Component{render(){var{hide:e,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:f,zIndex:p}=this.props;if(e)return null;var g=r("recharts-line",a),m=h,{r:A,strokeWidth:y}=hO(n),b=dE(n),x=2*A+y,E=f?"url(#clipPath-".concat(b?"":"dots-").concat(m,")"):void 0;return t.createElement(ky,{zIndex:p},t.createElement(v,{className:g},f&&t.createElement("defs",null,t.createElement(tS,{clipPathId:m,xAxisId:o,yAxisId:s}),!b&&t.createElement("clipPath",{id:"clipPath-dots-".concat(m)},t.createElement("rect",{x:c-x/2,y:l-x/2,width:u+x,height:d+x}))),t.createElement($_,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:TO,errorBarOffset:0},t.createElement(OO,{props:this.props,clipPathId:m}))),t.createElement(Zw,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:E}))}}var RO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Xf.line,type:"linear"};function BO(e){var n=Oe(e,RO),{activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:g,id:m}=n,A=bO(n,gO),{needClip:y}=eS(p,g),v=Vw(),b=na(),x=_i(),E=qe((e=>dO(e,p,g,x,m)));if("horizontal"!==b&&"vertical"!==b||null==E||null==v)return null;var{height:w,width:_,x:S,y:I}=v;return t.createElement(PO,mO({},A,{id:m,connectNulls:l,dot:c,activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:g,points:E,layout:b,height:w,width:_,left:S,top:I,needClip:y}))}var kO=t.memo((function(e){var n=Oe(e,RO),r=_i();return t.createElement(UE,{id:n.id,type:"line"},(e=>t.createElement(t.Fragment,null,t.createElement(kE,{legendPayload:xO(n)}),t.createElement(EO,{dataKey:n.dataKey,data:n.data,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType}),t.createElement(WE,{type:"line",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:r}),t.createElement(BO,mO({},n,{id:e})))))}),vS);kO.displayName="Line";var DO=(e,t,n,r)=>Em(e,"xAxis",t,r),LO=(e,t,n,r)=>xm(e,"xAxis",t,r),NO=(e,t,n,r)=>Em(e,"yAxis",n,r),jO=(e,t,n,r)=>xm(e,"yAxis",n,r),UO=$e([ta,DO,NO,LO,jO],((e,t,n,r,i)=>Kr(e,"xAxis")?ai(t,r,!1):ai(n,i,!1))),FO=$e([Fp,(e,t,n,r,i)=>i],((e,t)=>e.filter((e=>"area"===e.type)).find((e=>e.id===t)))),QO=$e([ta,DO,NO,LO,jO,(e,t,n,r,i)=>{var a,o=FO(e,t,n,r,i);if(null!=o){var s,l=ta(e);if(null!=(s=Kr(l,"xAxis")?sg(e,"yAxis",n,r):sg(e,"xAxis",t,r))){var{stackId:c}=o,u=Ap(o);if(null!=c&&null!=u){var d=null===(a=s[c])||void 0===a?void 0:a.stackedData;return null==d?void 0:d.find((e=>e.key===u))}}}},bf,UO,FO,e=>e.rootProps.baseValue],((e,t,n,r,i,a,o,s,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=o;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=s){var f,{data:p}=l;if(null!=(f=p&&p.length>0?p:null==u?void 0:u.slice(d,h+1)))return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:i},stackedData:a,layout:o,chartBaseValue:s,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,g=a&&a.length,m=cT(o,s,r,l,c),A="horizontal"===o,y=!1,v=u.map(((e,t)=>{var r;g?r=a[d+t]:(r=Vr(e,i),Array.isArray(r)?y=!0:r=[m,r]);var o=null==r[1]||g&&!n&&null==Vr(e,i);return A?{x:ei({axis:l,ticks:h,bandSize:p,entry:e,index:t}),y:o?null:c.scale(r[1]),value:r,payload:e}:{x:o?null:l.scale(r[1]),y:ei({axis:c,ticks:f,bandSize:p,entry:e,index:t}),value:r,payload:e}}));return t=g||y?v.map((e=>{var t=Array.isArray(e.value)?e.value[0]:null;return A?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?l.scale(t):null,y:e.y,payload:e.payload}})):A?c.scale(m):l.scale(m),{points:v,baseLine:t,isRange:y}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:a,displayedData:f,chartBaseValue:c,bandSize:s})}})),zO=["id"],HO=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function GO(){return GO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GO.apply(null,arguments)}function VO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KO(Object(n),!0).forEach((function(t){qO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YO(e,t){return e&&"none"!==e?e:t}var XO=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:YO(r,i),value:si(n,t),payload:e}]},JO=t.memo((e=>{var{dataKey:n,data:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:i,strokeWidth:a,fill:o,dataKey:n,nameKey:void 0,name:si(s,n),hide:l,type:u,color:YO(i,o),unit:c}};return t.createElement(BE,{tooltipEntrySettings:d})}));function $O(e){var{clipPathId:n,points:r,props:i}=e,{needClip:a,dot:o,dataKey:s}=i,l=d(i);return t.createElement(Sw,{points:r,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:a,clipPathId:n})}function ZO(e){var{showLabels:n,children:r,points:i}=e,a=i.map((e=>{var t,n,r={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(n=e.y)&&void 0!==n?n:0,width:0,lowerWidth:0,upperWidth:0,height:0};return WO(WO({},r),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:r,fill:void 0})}));return t.createElement(Sb,{value:n?a:void 0},r)}function eT(e){var{points:n,baseLine:r,needClip:i,clipPathId:a,props:o}=e,{layout:s,type:l,stroke:c,connectNulls:u,isRange:h}=o,{id:p}=o,g=VO(o,zO),m=d(g),A=f(g);return t.createElement(t.Fragment,null,(null==n?void 0:n.length)>1&&t.createElement(v,{clipPath:i?"url(#clipPath-".concat(a,")"):void 0},t.createElement(ss,GO({},A,{id:p,points:n,connectNulls:u,type:l,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),"none"!==c&&t.createElement(ss,GO({},m,{className:"recharts-area-curve",layout:s,type:l,connectNulls:u,fill:"none",points:n})),"none"!==c&&h&&t.createElement(ss,GO({},m,{className:"recharts-area-curve",layout:s,type:l,connectNulls:u,fill:"none",points:r}))),t.createElement($O,{points:n,props:g,clipPathId:a}))}function tT(e){var{alpha:n,baseLine:r,points:i,strokeWidth:a}=e,o=i[0].y,s=i[i.length-1].y;if(!Ni(o)||!Ni(s))return null;var l=n*Math.abs(o-s),c=Math.max(...i.map((e=>e.x||0)));return ie(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map((e=>e.x||0)),c)),ie(c)?t.createElement("rect",{x:0,y:o<s?o:o-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function nT(e){var{alpha:n,baseLine:r,points:i,strokeWidth:a}=e,o=i[0].x,s=i[i.length-1].x;if(!Ni(o)||!Ni(s))return null;var l=n*Math.abs(o-s),c=Math.max(...i.map((e=>e.y||0)));return ie(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map((e=>e.y||0)),c)),ie(c)?t.createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function rT(e){var{alpha:n,layout:r,points:i,baseLine:a,strokeWidth:o}=e;return"vertical"===r?t.createElement(tT,{alpha:n,points:i,baseLine:a,strokeWidth:o}):t.createElement(nT,{alpha:n,points:i,baseLine:a,strokeWidth:o})}function iT(e){var{needClip:n,clipPathId:r,props:i,previousPointsRef:a,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=i,g=Fs((0,t.useMemo)((()=>({points:s,baseLine:l})),[s,l]),"recharts-area-"),m=(()=>{var e=na();if("horizontal"===e||"vertical"===e)return e})(),[A,y]=(0,t.useState)(!1),b=!A,x=(0,t.useCallback)((()=>{"function"==typeof p&&p(),y(!1)}),[p]),E=(0,t.useCallback)((()=>{"function"==typeof f&&f(),y(!0)}),[f]);if(null==m)return null;var w=a.current,_=o.current;return t.createElement(ZO,{showLabels:b,points:s},i.children,t.createElement(Us,{animationId:g,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:x,onAnimationStart:E,key:g},(e=>{if(w){var u,d=w.length/s.length,h=1===e?s:s.map(((t,n)=>{var r=Math.floor(n*d);if(w[r]){var i=w[r];return WO(WO({},t),{},{x:ue(i.x,t.x,e),y:ue(i.y,t.y,e)})}return t}));return u=ie(l)?ue(_,l,e):he(l)||ne(l)?ue(_,0,e):l.map(((t,n)=>{var r=Math.floor(n*d);if(Array.isArray(_)&&_[r]){var i=_[r];return WO(WO({},t),{},{x:ue(i.x,t.x,e),y:ue(i.y,t.y,e)})}return t})),e>0&&(a.current=h,o.current=u),t.createElement(eT,{points:h,baseLine:u,needClip:n,clipPathId:r,props:i})}return e>0&&(a.current=s,o.current=l),t.createElement(v,null,c&&t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(r)},t.createElement(rT,{alpha:e,points:s,baseLine:l,layout:m,strokeWidth:i.strokeWidth}))),t.createElement(v,{clipPath:"url(#animationClipPath-".concat(r,")")},t.createElement(eT,{points:s,baseLine:l,needClip:n,clipPathId:r,props:i})))})),t.createElement(Ob,{label:i.label}))}function aT(e){var{needClip:n,clipPathId:r,props:i}=e,a=(0,t.useRef)(null),o=(0,t.useRef)();return t.createElement(iT,{needClip:n,clipPathId:r,props:i,previousPointsRef:a,previousBaselineRef:o})}class oT extends t.PureComponent{render(){var{hide:e,dot:n,points:i,className:a,top:o,left:s,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:p,zIndex:g}=this.props;if(e)return null;var m=r("recharts-area",a),A=f,{r:y,strokeWidth:b}=hO(n),x=dE(n),E=2*y+b,w=l?"url(#clipPath-".concat(x?"":"dots-").concat(A,")"):void 0;return t.createElement(ky,{zIndex:g},t.createElement(v,{className:m},l&&t.createElement("defs",null,t.createElement(tS,{clipPathId:A,xAxisId:c,yAxisId:u}),!x&&t.createElement("clipPath",{id:"clipPath-dots-".concat(A)},t.createElement("rect",{x:s-E/2,y:o-E/2,width:d+E,height:h+E}))),t.createElement(aT,{needClip:l,clipPathId:A,props:this.props})),t.createElement(Zw,{points:i,mainColor:YO(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}),this.props.isRange&&Array.isArray(p)&&t.createElement(Zw,{points:p,mainColor:YO(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}))}}var sT={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Xf.area};function lT(e){var n,r=Oe(e,sT),{activeDot:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:g,xAxisId:m,yAxisId:A}=r,y=VO(r,HO),v=na(),b=sy(),{needClip:x}=eS(m,A),E=_i(),{points:w,isRange:_,baseLine:S}=null!==(n=qe((t=>QO(t,m,A,E,e.id))))&&void 0!==n?n:{},I=Vw();if("horizontal"!==v&&"vertical"!==v||null==I)return null;if("AreaChart"!==b&&"ComposedChart"!==b)return null;var{height:C,width:M,x:O,y:T}=I;return w&&w.length?t.createElement(oT,GO({},y,{activeDot:i,animationBegin:a,animationDuration:o,animationEasing:s,baseLine:S,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:C,hide:h,layout:v,isAnimationActive:"auto"===f?!Ds.isSsr:f,isRange:_,legendType:p,needClip:x,points:w,stroke:g,width:M,left:O,top:T,xAxisId:m,yAxisId:A})):null}var cT=(e,t,n,r,i)=>{var a=null!=n?n:t;if(ie(a))return a;var o="horizontal"===e?i:r,s=o.scale.domain();if("number"===o.type){var l=Math.max(s[0],s[1]),c=Math.min(s[0],s[1]);return"dataMin"===a?c:"dataMax"===a||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return"dataMin"===a?s[0]:"dataMax"===a?s[1]:s[0]},uT=t.memo((function(e){var n=Oe(e,sT),r=_i();return t.createElement(UE,{id:n.id,type:"area"},(e=>t.createElement(t.Fragment,null,t.createElement(kE,{legendPayload:XO(n)}),t.createElement(JO,{dataKey:n.dataKey,data:n.data,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType}),t.createElement(WE,{type:"area",id:e,data:n.data,dataKey:n.dataKey,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,stackId:Zr(n.stackId),hide:n.hide,barSize:void 0,baseValue:n.baseValue,isPanorama:r,connectNulls:n.connectNulls}),t.createElement(lT,GO({},n,{id:e})))))}),vS);uT.displayName="Area";var dT=["option","isActive"];function hT(){return hT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hT.apply(null,arguments)}function fT(e){var{option:n,isActive:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dT);return"string"==typeof n?t.createElement(ME,hT({option:t.createElement(we,hT({type:n},i)),isActive:r,shapeType:"symbols"},i)):t.createElement(ME,hT({option:n,isActive:r,shapeType:"symbols"},i))}var pT=$e([Fp,(e,t,n,r,i)=>i],((e,t)=>e.filter((e=>"scatter"===e.type)).find((e=>e.id===t)))),gT=$e([(e,t,n,r,i,a,o)=>bf(e,0,0,o),(e,t,n,r,i,a,o)=>Em(e,"xAxis",t,o),(e,t,n,r,i,a,o)=>xm(e,"xAxis",t,o),(e,t,n,r,i,a,o)=>Em(e,"yAxis",n,o),(e,t,n,r,i,a,o)=>xm(e,"yAxis",n,o),(e,t,n,r)=>_m(e,"zAxis",r,!1),pT,(e,t,n,r,i,a)=>a],((e,t,n,r,i,a,o,s)=>{var l,{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(null!=o&&null!=(l=null!=(null==o?void 0:o.data)&&o.data.length>0?o.data:null==c?void 0:c.slice(u,d+1))&&null!=t&&null!=r&&null!=n&&null!=i&&0!==(null==n?void 0:n.length)&&0!==(null==i?void 0:i.length))return function(e){var{displayedData:t,xAxis:n,yAxis:r,zAxis:i,scatterSettings:a,xAxisTicks:o,yAxisTicks:s,cells:l}=e,c=he(n.dataKey)?a.dataKey:n.dataKey,u=he(r.dataKey)?a.dataKey:r.dataKey,d=i&&i.dataKey,h=i?i.range:kp.range,f=h&&h[0],p=n.scale.bandwidth?n.scale.bandwidth():0,g=r.scale.bandwidth?r.scale.bandwidth():0;return t.map(((e,t)=>{var h=Vr(e,c),m=Vr(e,u),A=!he(d)&&Vr(e,d)||"-",y=[{name:he(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:h,payload:e,dataKey:c,type:a.tooltipType},{name:he(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:m,payload:e,dataKey:u,type:a.tooltipType}];"-"!==A&&y.push({name:i.name||i.dataKey,unit:i.unit||"",value:A,payload:e,dataKey:d,type:a.tooltipType});var v=ei({axis:n,ticks:o,bandSize:p,entry:e,index:t,dataKey:c}),b=ei({axis:r,ticks:s,bandSize:g,entry:e,index:t,dataKey:u}),x="-"!==A?i.scale(A):f,E=Math.sqrt(Math.max(x,0)/Math.PI);return ET(ET({},e),{},{cx:v,cy:b,x:null==v?void 0:v-E,y:null==b?void 0:b-E,width:2*E,height:2*E,size:x,node:{x:h,y:m,z:A},tooltipPayload:y,tooltipPosition:{x:v,y:b},payload:e},l&&l[t]&&l[t].props)}))}({displayedData:l,xAxis:t,yAxis:r,zAxis:a,scatterSettings:o,xAxisTicks:n,yAxisTicks:i,cells:s})})),mT=["onMouseEnter","onClick","onMouseLeave"],AT=["id"],yT=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function vT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bT(){return bT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bT.apply(null,arguments)}function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ET(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xT(Object(n),!0).forEach((function(t){wT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _T=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:si(n,t),payload:e}]},ST=t.memo((e=>{var{dataKey:n,points:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:null==r?void 0:r.map((e=>e.tooltipPayload)),positions:null==r?void 0:r.map((e=>e.tooltipPosition)),settings:{stroke:i,strokeWidth:a,fill:o,nameKey:void 0,dataKey:n,name:si(s,n),hide:l,type:c,color:o,unit:""}};return t.createElement(BE,{tooltipEntrySettings:u})}));function IT(e){var{points:n,props:r}=e,{line:i,lineType:a,lineJointType:o}=r;if(!i)return null;var s,l,c=d(r),u=h(i);if("joint"===a)s=n.map((e=>{var t,n;return{x:null!==(t=e.cx)&&void 0!==t?t:null,y:null!==(n=e.cy)&&void 0!==n?n:null}}));else if("fitting"===a){var{xmin:f,xmax:p,a:g,b:m}=(e=>{for(var t=e.length,n=0,r=0,i=0,a=0,o=1/0,s=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,i+=l*c,a+=l*l,o=Math.min(o,l),s=Math.max(s,l);var d=t*a!=n*n?(t*i-n*r)/(t*a-n*n):0;return{xmin:o,xmax:s,a:d,b:(r-d*n)/t}})(n),A=e=>g*e+m;s=[{x:f,y:A(f)},{x:p,y:A(p)}]}var y=ET(ET(ET({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:s});return l=t.isValidElement(i)?t.cloneElement(i,y):"function"==typeof i?i(y):t.createElement(ss,bT({},y,{type:o})),t.createElement(v,{className:"recharts-scatter-line",key:"recharts-scatter-line"},l)}function CT(e){var{showLabels:n,points:r,children:i}=e,a=Yi(),o=(0,t.useMemo)((()=>null==r?void 0:r.map((e=>{var t,n,r={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(n=e.y)&&void 0!==n?n:0,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width};return ET(ET({},r),{},{value:void 0,payload:e.payload,viewBox:r,parentViewBox:a,fill:void 0})}))),[a,r]);return t.createElement(Sb,{value:n?o:void 0},i)}function MT(e){var n,{points:r,allOtherScatterProps:i}=e,{shape:a,activeShape:o,dataKey:s}=i,l=qe(HA),{onMouseEnter:c,onClick:u,onMouseLeave:h}=i,f=vT(i,mT),p=TE(c,i.dataKey),g=PE(h),m=RE(u,i.dataKey);if(n=r,!(Array.isArray(n)&&n.length>0))return null;var{id:A}=i,y=vT(i,AT),b=d(y);return t.createElement(t.Fragment,null,t.createElement(IT,{points:r,props:y}),r.map(((e,n)=>{var r=null!=o&&!1!==o,i=r&&l===String(n),c=r&&i?o:a,u=ET(ET(ET({},b),e),{},{[gi]:n,[mi]:String(s)});return t.createElement(ky,{key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(n),zIndex:i?Xf.activeDot:void 0},t.createElement(v,bT({className:"recharts-scatter-symbol"},Ie(f,e,n),{onMouseEnter:p(e,n),onMouseLeave:g(e,n),onClick:m(e,n)}),t.createElement(fT,bT({option:c,isActive:i},u))))})))}function OT(e){var{previousPointsRef:n,props:r}=e,{points:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l}=r,c=n.current,u=Fs(r,"recharts-scatter-"),[d,h]=(0,t.useState)(!1),f=(0,t.useCallback)((()=>{h(!1)}),[]),p=(0,t.useCallback)((()=>{h(!0)}),[]),g=!d;return t.createElement(CT,{showLabels:g,points:i},r.children,t.createElement(Us,{animationId:u,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:f,onAnimationStart:p,key:u},(e=>{var a=1===e?i:null==i?void 0:i.map(((t,n)=>{var r=c&&c[n];return ET(ET({},t),{},r?{cx:null==t.cx?void 0:ue(r.cx,t.cx,e),cy:null==t.cy?void 0:ue(r.cy,t.cy,e),size:ue(r.size,t.size,e)}:{size:ue(0,t.size,e)})}));return e>0&&(n.current=a),t.createElement(v,null,t.createElement(MT,{points:a,allOtherScatterProps:r,showLabels:g}))})),t.createElement(Ob,{label:r.label}))}var TT=(e,t,n)=>({x:e.cx,y:e.cy,value:Number("x"===n?e.node.x:e.node.y),errorVal:Vr(e,t)});function PT(e){var{hide:n,points:i,className:a,needClip:o,xAxisId:s,yAxisId:l,id:c}=e,u=(0,t.useRef)(null);if(n)return null;var d=r("recharts-scatter",a),h=c;return t.createElement(ky,{zIndex:e.zIndex},t.createElement(v,{className:d,clipPath:o?"url(#clipPath-".concat(h,")"):void 0,id:c},o&&t.createElement("defs",null,t.createElement(tS,{clipPathId:h,xAxisId:s,yAxisId:l})),t.createElement($_,{xAxisId:s,yAxisId:l,data:i,dataPointFormatter:TT,errorBarOffset:0},t.createElement(v,{key:"recharts-scatter-symbols"},t.createElement(OT,{props:e,previousPointsRef:u})))))}var RT={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Xf.scatter};function BT(e){var n=Oe(e,RT),{animationBegin:r,animationDuration:i,animationEasing:a,hide:o,isAnimationActive:s,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:h,yAxisId:f,zAxisId:p}=n,g=vT(n,yT),{needClip:m}=eS(h,f),A=(0,t.useMemo)((()=>uE(e.children,gv)),[e.children]),y=_i(),v=qe((t=>gT(t,h,f,p,e.id,A,y)));return null==m||null==v?null:t.createElement(t.Fragment,null,t.createElement(ST,{dataKey:e.dataKey,points:v,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),t.createElement(PT,bT({},g,{xAxisId:h,yAxisId:f,zAxisId:p,lineType:u,lineJointType:c,legendType:l,shape:d,hide:o,isAnimationActive:s,animationBegin:r,animationDuration:i,animationEasing:a,points:v,needClip:m})))}var kT=t.memo((function(e){var n=Oe(e,RT),r=_i();return t.createElement(UE,{id:n.id,type:"scatter"},(e=>t.createElement(t.Fragment,null,t.createElement(kE,{legendPayload:_T(n)}),t.createElement(WE,{type:"scatter",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:n.zAxisId,dataKey:n.dataKey,hide:n.hide,name:n.name,tooltipType:n.tooltipType,isPanorama:r}),t.createElement(BT,bT({},n,{id:e})))))}),vS);kT.displayName="Scatter";var DT=["domain","range"],LT=["domain","range"];function NT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jT(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&e[0]===t[0]&&e[1]===t[1]}function UT(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=NT(e,DT),{domain:a,range:o}=t,s=NT(t,LT);return!!jT(n,a)&&!!jT(r,o)&&vS(i,s)}var FT=["dangerouslySetInnerHTML","ticks"],QT=["id"];function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zT.apply(null,arguments)}function HT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GT(e){var n=Ge(),r=(0,t.useRef)(null);return(0,t.useLayoutEffect)((()=>{null===r.current?n(Tw(e)):r.current!==e&&n(Pw({prev:r.current,next:e})),r.current=e}),[e,n]),(0,t.useLayoutEffect)((()=>()=>{r.current&&(n(Rw(r.current)),r.current=null)}),[n]),null}var VT=e=>{var{xAxisId:n,className:i}=e,a=qe(Ei),o=_i(),s="xAxis",l=qe((e=>Zg(e,s,n,o))),c=qe((e=>vm(e,s,n,o))),u=qe((e=>om(e,n))),d=qe((e=>cm(e,n))),h=qe((e=>Op(e,n)));if(null==u||null==d||null==h)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,g=HT(e,FT),{id:m}=h,A=HT(h,QT);return t.createElement(jM,zT({},g,A,{scale:l,x:d.x,y:d.y,width:u.width,height:u.height,className:r("recharts-".concat(s," ").concat(s),i),viewBox:a,ticks:c,axisType:s}))},KT={allowDataOverflow:Mp.allowDataOverflow,allowDecimals:Mp.allowDecimals,allowDuplicatedCategory:Mp.allowDuplicatedCategory,angle:Mp.angle,axisLine:BM.axisLine,height:Mp.height,hide:!1,includeHidden:Mp.includeHidden,interval:Mp.interval,minTickGap:Mp.minTickGap,mirror:Mp.mirror,orientation:Mp.orientation,padding:Mp.padding,reversed:Mp.reversed,scale:Mp.scale,tick:Mp.tick,tickCount:Mp.tickCount,tickLine:BM.tickLine,tickSize:BM.tickSize,type:Mp.type,xAxisId:0},WT=t.memo((e=>{var n=Oe(e,KT);return t.createElement(t.Fragment,null,t.createElement(GT,{allowDataOverflow:n.allowDataOverflow,allowDecimals:n.allowDecimals,allowDuplicatedCategory:n.allowDuplicatedCategory,angle:n.angle,dataKey:n.dataKey,domain:n.domain,height:n.height,hide:n.hide,id:n.xAxisId,includeHidden:n.includeHidden,interval:n.interval,minTickGap:n.minTickGap,mirror:n.mirror,name:n.name,orientation:n.orientation,padding:n.padding,reversed:n.reversed,scale:n.scale,tick:n.tick,tickCount:n.tickCount,tickFormatter:n.tickFormatter,ticks:n.ticks,type:n.type,unit:n.unit}),t.createElement(VT,n))}),UT);WT.displayName="XAxis";var qT=["dangerouslySetInnerHTML","ticks"],YT=["id"];function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XT.apply(null,arguments)}function JT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $T(e){var n=Ge(),r=(0,t.useRef)(null);return(0,t.useLayoutEffect)((()=>{null===r.current?n(Bw(e)):r.current!==e&&n(kw({prev:r.current,next:e})),r.current=e}),[e,n]),(0,t.useLayoutEffect)((()=>()=>{r.current&&(n(Dw(r.current)),r.current=null)}),[n]),null}var ZT=e=>{var{yAxisId:n,className:i,width:a,label:o}=e,s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=qe(Ei),u=_i(),d=Ge(),h="yAxis",f=qe((e=>Zg(e,h,n,u))),p=qe((e=>dm(e,n))),g=qe((e=>um(e,n))),m=qe((e=>vm(e,h,n,u))),A=qe((e=>Rp(e,n)));if((0,t.useLayoutEffect)((()=>{if("auto"===a&&p&&!sb(o)&&!(0,t.isValidElement)(o)&&null!=A){var e=s.current;if(e){var r=e.getCalculatedWidth();Math.round(p.width)!==Math.round(r)&&d(Uw({id:n,width:r}))}}}),[m,p,d,o,n,a,A]),null==p||null==g||null==A)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=JT(e,qT),{id:x}=A,E=JT(A,YT);return t.createElement(jM,XT({},b,E,{ref:s,labelRef:l,scale:f,x:g.x,y:g.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:p.width,height:p.height,className:r("recharts-".concat(h," ").concat(h),i),viewBox:c,ticks:m,axisType:h}))},eP={allowDataOverflow:Pp.allowDataOverflow,allowDecimals:Pp.allowDecimals,allowDuplicatedCategory:Pp.allowDuplicatedCategory,angle:Pp.angle,axisLine:BM.axisLine,hide:!1,includeHidden:Pp.includeHidden,interval:Pp.interval,minTickGap:Pp.minTickGap,mirror:Pp.mirror,orientation:Pp.orientation,padding:Pp.padding,reversed:Pp.reversed,scale:Pp.scale,tick:Pp.tick,tickCount:Pp.tickCount,tickLine:BM.tickLine,tickSize:BM.tickSize,type:Pp.type,width:Pp.width,yAxisId:0},tP=t.memo((e=>{var n=Oe(e,eP);return t.createElement(t.Fragment,null,t.createElement($T,{interval:n.interval,id:n.yAxisId,scale:n.scale,type:n.type,domain:n.domain,allowDataOverflow:n.allowDataOverflow,dataKey:n.dataKey,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDecimals:n.allowDecimals,tickCount:n.tickCount,padding:n.padding,includeHidden:n.includeHidden,reversed:n.reversed,ticks:n.ticks,width:n.width,orientation:n.orientation,mirror:n.mirror,hide:n.hide,unit:n.unit,name:n.name,angle:n.angle,minTickGap:n.minTickGap,tick:n.tick,tickFormatter:n.tickFormatter}),t.createElement(ZT,n))}),UT);function nP(e){var n=Ge(),r=(0,t.useRef)(null);return(0,t.useLayoutEffect)((()=>{null===r.current?n(Lw(e)):r.current!==e&&n(Nw({prev:r.current,next:e})),r.current=e}),[e,n]),(0,t.useLayoutEffect)((()=>()=>{r.current&&(n(jw(r.current)),r.current=null)}),[n]),null}tP.displayName="YAxis";var rP={zAxisId:0,range:kp.range,scale:kp.scale,type:kp.type};function iP(e){var n=Oe(e,rP);return t.createElement(nP,{domain:n.domain,id:n.zAxisId,dataKey:n.dataKey,name:n.name,unit:n.unit,range:n.range,scale:n.scale,type:n.type,allowDuplicatedCategory:kp.allowDuplicatedCategory,allowDataOverflow:kp.allowDataOverflow,reversed:kp.reversed,includeHidden:kp.includeHidden})}iP.displayName="ZAxis";var aP={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}};function oP(e){var n=Oe(e,aP),{animationId:r,from:i,to:a,attributeName:o,isActive:s,canBegin:l,duration:c,easing:u,begin:d,onAnimationEnd:h,onAnimationStart:f,children:p}=n,g="auto"===s?!Ds.isSsr:s,m=ks(r+o,n.animationManager),[A,y]=(0,t.useState)((()=>g?i:a)),v=(0,t.useRef)(!1),b=(0,t.useCallback)((()=>{y(i),f()}),[i,f]);return(0,t.useEffect)((()=>{if(!g||!l)return ge;v.current=!0;var e=m.subscribe(y);return m.start([b,d,a,c,h]),()=>{m.stop(),e&&e(),h()}}),[g,l,c,u,d,b,h,m,a,i]),g?l?v.current?p({transition:As([o],c,u),[o]:A}):p({[o]:i}):p({[o]:i}):p({[o]:a})}var sP=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lP.apply(null,arguments)}function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cP(Object(n),!0).forEach((function(t){dP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hP(e){var{direction:n,width:r,dataKey:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,sP),u=d(c),{data:h,dataPointFormatter:f,xAxisId:p,yAxisId:g,errorBarOffset:m}=(0,t.useContext)(J_),A=(e=>{var t=_i();return qe((n=>Em(n,"xAxis",e,t)))})(p),y=(e=>{var t=_i();return qe((n=>Em(n,"yAxis",e,t)))})(g);if(null==(null==A?void 0:A.scale)||null==(null==y?void 0:y.scale)||null==h)return null;if("x"===n&&"number"!==A.type)return null;var b=h.map(((e,c)=>{var{x:d,y:h,value:p,errorVal:g}=f(e,i,n);if(!g||null==d||null==h)return null;var b,x,E=[];if(Array.isArray(g)?[b,x]=g:b=x=g,"x"===n){var{scale:w}=A,_=h+m,S=_+r,I=_-r,C=w(p-b),M=w(p+x);E.push({x1:M,y1:S,x2:M,y2:I}),E.push({x1:C,y1:_,x2:M,y2:_}),E.push({x1:C,y1:S,x2:C,y2:I})}else if("y"===n){var{scale:O}=y,T=d+m,P=T-r,R=T+r,B=O(p-b),k=O(p+x);E.push({x1:P,y1:k,x2:R,y2:k}),E.push({x1:T,y1:B,x2:T,y2:k}),E.push({x1:P,y1:B,x2:R,y2:B})}var D="x"===n?"scaleX":"scaleY",L="".concat(d+m,"px ").concat(h+m,"px");return t.createElement(v,lP({className:"recharts-errorBar",key:"bar-".concat(d,"-").concat(h,"-").concat(p,"-").concat(c)},u),E.map(((e,r)=>{var i=a?{transformOrigin:L}:void 0;return t.createElement(oP,{animationId:"error-bar-".concat(n,"_").concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),from:"".concat(D,"(0)"),to:"".concat(D,"(1)"),attributeName:"transform",begin:o,easing:l,isActive:a,duration:s,key:"errorbar-".concat(c,"-").concat(e.x1,"-").concat(e.y1,"-").concat(e.x2,"-").concat(e.y2,"-").concat(r)},(n=>t.createElement("line",lP({},e,{style:uP(uP({},i),n)}))))})))}));return t.createElement(v,{className:"recharts-errorBars"},b)}var fP={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out",zIndex:Xf.line};function pP(e){var n,r,i=(n=e.direction,r=na(),null!=n?n:null!=r&&"horizontal"===r?"y":"x"),{width:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,zIndex:u}=Oe(e,fP);return t.createElement(t.Fragment,null,t.createElement(Z_,{dataKey:e.dataKey,direction:i}),t.createElement(ky,{zIndex:u},t.createElement(hP,lP({},e,{direction:i,width:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c}))))}class gP extends t.Component{render(){return t.createElement(pP,this.props)}}dP(gP,"defaultProps",fP),dP(gP,"displayName","ErrorBar");var mP=$e([(e,t)=>t,ta,pp,Ep,kA,jA,dy,bi],((e,t,n,r,i,a,o,s)=>{if(e&&t&&r&&i&&a)return"horizontal"===t||"vertical"===t?((e,t,n,r,i,a,o)=>{if(e&&n&&r&&i&&function(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}(e,o)){var s=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=oy(s,a,i,n,r),c=((e,t,n,r)=>{var i=t.find((e=>e&&e.index===n));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.chartY};if("vertical"===e)return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}})(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,r,i,a,o,s):((e,t,n,r,i,a,o)=>{if(e&&r&&i&&a&&n){var s=ol(e,n);if(s){var l=((e,t)=>"centric"===t?e.angle:e.radius)(s,t),c=oy(l,o,a,r,i),u=((e,t,n,r)=>{var i=t.find((e=>e&&e.index===n));if(i){if("centric"===e){var a=i.coordinate,{radius:o}=r;return iy(iy(iy({},r),rl(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return iy(iy(iy({},r),rl(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,a,c,s);return{activeIndex:String(c),activeCoordinate:u}}}})(e,t,n,r,i,a,o)})),AP=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},yP=Ln("mouseClick"),vP=wr();vP.startListening({actionCreator:yP,effect:(e,t)=>{var n=e.payload,r=mP(t.getState(),AP(n));null!=(null==r?void 0:r.activeIndex)&&t.dispatch(zm({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var bP=Ln("mouseMove"),xP=wr(),EP=null;function wP(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"==typeof t&&null!==t?"<<CHILDREN>>":t}xP.startListening({actionCreator:bP,effect:(e,t)=>{var n=e.payload;null!==EP&&cancelAnimationFrame(EP);var r=AP(n);EP=requestAnimationFrame((()=>{var e=t.getState();if("axis"===Om(e,e.tooltip.settings.shared)){var n=mP(e,r);null!=(null==n?void 0:n.activeIndex)?t.dispatch(Qm({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate})):t.dispatch(Um())}EP=null}))}});var _P={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},SP=zn({name:"rootProps",initialState:_P,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:_P.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),IP=SP.reducer,{updateOptions:CP}=SP.actions,MP=zn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:OP}=MP.actions,TP=MP.reducer,PP=Ln("keyDown"),RP=Ln("focus"),BP=wr();BP.startListening({actionCreator:PP,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Xm(r,dA(n),ig(n),TA(n)),o=null==a?-1:Number(a);if(Number.isFinite(o)&&!(o<0)){var s=jA(n);if("Enter"!==i){var l=o+("ArrowRight"===i?1:-1)*("left-to-right"===Sm(n)?1:-1);if(!(null==s||l>=s.length||l<0)){var c=my(n,"axis","hover",String(l));t.dispatch(Gm({active:!0,activeIndex:l.toString(),activeDataKey:void 0,activeCoordinate:c}))}}else{var u=my(n,"axis","hover",String(r.index));t.dispatch(Gm({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:u}))}}}}}}),BP.startListening({actionCreator:RP,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=my(n,"axis","hover",String("0"));t.dispatch(Gm({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var kP=Ln("externalEvent"),DP=wr(),LP=new Map;DP.startListening({actionCreator:kP,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(null!=n){r.persist();var i=r.type,a=LP.get(i);void 0!==a&&cancelAnimationFrame(a);var o=requestAnimationFrame((()=>{try{var e=t.getState(),a={activeCoordinate:YA(e),activeDataKey:VA(e),activeIndex:HA(e),activeLabel:GA(e),activeTooltipIndex:HA(e),isTooltipActive:XA(e)};n(a,r)}finally{LP.delete(i)}}));LP.set(i,o)}}});var NP=$e([eA],(e=>e.tooltipItemPayloads)),jP=$e([NP,Zm,(e,t,n)=>t,(e,t,n)=>n],((e,t,n,r)=>{var i=e.find((e=>e.settings.dataKey===r));if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}})),UP=Ln("touchMove"),FP=wr();FP.startListening({actionCreator:UP,effect:(e,t)=>{var n=e.payload;if(null!=n.touches&&0!==n.touches.length){var r=t.getState(),i=Om(r,r.tooltip.settings.shared);if("axis"===i){var a=mP(r,AP({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null==a?void 0:a.activeIndex)&&t.dispatch(Qm({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=n.touches[0];if(null==document.elementFromPoint)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(gi),u=null!==(o=l.getAttribute(mi))&&void 0!==o?o:void 0,d=jP(t.getState(),c,u);t.dispatch(Nm({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}}});var QP=pn({brush:sC,cartesianAxis:Fw,chartData:nv,errorBars:Y_,graphicalItems:KE,layout:Dr,legend:to,options:Yy,polarAxis:Ix,polarOptions:TP,referenceElements:zC,rootProps:IP,tooltip:Vm,zIndex:By}),zP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return Fn({reducer:QP,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("production")}).concat([vP.middleware,xP.middleware,BP.middleware,DP.middleware,FP.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(function(e){return void 0===e&&(e={type:"raf"}),function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(void 0,n),a=!0,o=!1,s=!1,l=new Set,c="tick"===e.type?Cr:"raf"===e.type?Or:"callback"===e.type?e.queueNotification:Mr(e.timeout),u=function(){s=!1,o&&(o=!1,l.forEach((function(e){return e()})))};return Object.assign({},i,{subscribe:function(e){var t=i.subscribe((function(){return a&&e()}));return l.add(e),function(){t(),l.delete(e)}},dispatch:function(e){var t;try{return a=!(null==(t=null==e?void 0:e.meta)?void 0:t[Sr]),(o=!a)&&(s||(s=!0,c(u))),i.dispatch(e)}finally{a=!0}}})}}}({type:"raf"}))},devTools:Ds.devToolsEnabled&&{serialize:{replacer:wP},name:"recharts-".concat(t)}})};function HP(e){var{preloadedState:n,children:r,reduxStoreName:i}=e,a=_i(),o=(0,t.useRef)(null);if(a)return r;null==o.current&&(o.current=zP(n,i));var s=ze;return t.createElement(fS,{context:s,store:o.current},r)}var GP=(0,t.memo)((function(e){var{layout:n,margin:r}=e,i=Ge(),a=_i();return(0,t.useEffect)((()=>{a||(i(Rr(n)),i(Pr(r)))}),[i,a,n,r]),null}),vS);function VP(e){var n=Ge();return(0,t.useEffect)((()=>{n(CP(e))}),[n,e]),null}function KP(e){var{zIndex:n,isPanorama:r}=e,i=NE("".concat(r?"recharts-zindex-panorama-":"recharts-zindex-").concat(n)),a=Ge();return(0,t.useLayoutEffect)((()=>(a(Py({zIndex:n,elementId:i,isPanorama:r})),()=>{a(Ry({zIndex:n,isPanorama:r}))})),[a,n,i,r]),t.createElement("g",{tabIndex:-1,id:i})}function WP(e){var{children:n,isPanorama:r}=e,i=qe(Ey);if(!i||0===i.length)return n;var a=i.filter((e=>e<0)),o=i.filter((e=>e>0));return t.createElement(t.Fragment,null,a.map((e=>t.createElement(KP,{key:e,zIndex:e,isPanorama:r}))),n,o.map((e=>t.createElement(KP,{key:e,zIndex:e,isPanorama:r}))))}var qP=["children"];function YP(){return YP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YP.apply(null,arguments)}var XP={width:"100%",height:"100%",display:"block"},JP=(0,t.forwardRef)(((e,n)=>{var r=$i(),i=Zi(),a=Mo();if(!ji(r)||!ji(i))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return null!=c&&(o="number"==typeof c.tabIndex?c.tabIndex:a?0:void 0,s="string"==typeof c.role?c.role:a?"application":void 0),t.createElement(m,YP({},c,{title:u,desc:d,role:s,tabIndex:o,width:r,height:i,style:XP,ref:n}),l)})),$P=e=>{var{children:n}=e,r=qe(Ci);if(!r)return null;var{width:i,height:a,y:o,x:s}=r;return t.createElement(m,{width:i,height:a,x:s,y:o},n)},ZP=(0,t.forwardRef)(((e,n)=>{var{children:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,qP);return _i()?t.createElement($P,null,t.createElement(WP,{isPanorama:!0},r)):t.createElement(JP,YP({ref:n},i),t.createElement(WP,{isPanorama:!1},r))}));function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(n),!0).forEach((function(t){nR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rR(){return rR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rR.apply(null,arguments)}var iR=()=>(sv(),null);function aR(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var oR=(0,t.forwardRef)(((e,n)=>{var r,i,a=(0,t.useRef)(null),[o,s]=(0,t.useState)({containerWidth:aR(null===(r=e.style)||void 0===r?void 0:r.width),containerHeight:aR(null===(i=e.style)||void 0===i?void 0:i.height)}),l=(0,t.useCallback)(((e,t)=>{s((n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]),c=(0,t.useCallback)((e=>{if("function"==typeof n&&n(e),null!=e&&"undefined"!=typeof ResizeObserver){var{width:t,height:r}=e.getBoundingClientRect();l(t,r);var i=new ResizeObserver((e=>{var{width:t,height:n}=e[0].contentRect;l(t,n)}));i.observe(e),a.current=i}}),[n,l]);return(0,t.useEffect)((()=>()=>{var e=a.current;null!=e&&e.disconnect()}),[l]),t.createElement(t.Fragment,null,t.createElement(ia,{width:o.containerWidth,height:o.containerHeight}),t.createElement("div",rR({ref:c},e)))})),sR=(0,t.forwardRef)(((e,n)=>{var{width:r,height:i}=e,[a,o]=(0,t.useState)({containerWidth:aR(r),containerHeight:aR(i)}),s=(0,t.useCallback)(((e,t)=>{o((n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]),l=(0,t.useCallback)((e=>{if("function"==typeof n&&n(e),null!=e){var{width:t,height:r}=e.getBoundingClientRect();s(t,r)}}),[n,s]);return t.createElement(t.Fragment,null,t.createElement(ia,{width:a.containerWidth,height:a.containerHeight}),t.createElement("div",rR({ref:l},e)))})),lR=(0,t.forwardRef)(((e,n)=>{var{width:r,height:i}=e;return t.createElement(t.Fragment,null,t.createElement(ia,{width:r,height:i}),t.createElement("div",rR({ref:n},e)))})),cR=(0,t.forwardRef)(((e,n)=>{var{width:r,height:i}=e;return re(r)||re(i)?t.createElement(sR,rR({},e,{ref:n})):t.createElement(lR,rR({},e,{ref:n}))})),uR=(0,t.forwardRef)(((e,n)=>{var{children:i,className:a,height:o,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:f,onMouseUp:p,onTouchEnd:g,onTouchMove:m,onTouchStart:A,style:y,width:v,responsive:b,dispatchTouchEvents:E=!0}=e,w=(0,t.useRef)(null),_=Ge(),[S,I]=(0,t.useState)(null),[C,M]=(0,t.useState)(null),O=function(){var e=Ge(),[n,r]=(0,t.useState)(null),i=qe(ui);return(0,t.useEffect)((()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;Ni(t)&&t!==i&&e(kr(t))}}),[n,e,i]),r}(),T=Vi(),P=(null==T?void 0:T.width)>0?T.width:v,R=(null==T?void 0:T.height)>0?T.height:o,B=(0,t.useCallback)((e=>{O(e),"function"==typeof n&&n(e),I(e),M(e),null!=e&&(w.current=e)}),[O,n,I,M]),k=(0,t.useCallback)((e=>{_(yP(e)),_(kP({handler:s,reactEvent:e}))}),[_,s]),D=(0,t.useCallback)((e=>{_(bP(e)),_(kP({handler:d,reactEvent:e}))}),[_,d]),L=(0,t.useCallback)((e=>{_(Um()),_(kP({handler:h,reactEvent:e}))}),[_,h]),N=(0,t.useCallback)((e=>{_(bP(e)),_(kP({handler:f,reactEvent:e}))}),[_,f]),j=(0,t.useCallback)((()=>{_(RP())}),[_]),U=(0,t.useCallback)((e=>{_(PP(e.key))}),[_]),F=(0,t.useCallback)((e=>{_(kP({handler:l,reactEvent:e}))}),[_,l]),Q=(0,t.useCallback)((e=>{_(kP({handler:c,reactEvent:e}))}),[_,c]),z=(0,t.useCallback)((e=>{_(kP({handler:u,reactEvent:e}))}),[_,u]),H=(0,t.useCallback)((e=>{_(kP({handler:p,reactEvent:e}))}),[_,p]),G=(0,t.useCallback)((e=>{_(kP({handler:A,reactEvent:e}))}),[_,A]),V=(0,t.useCallback)((e=>{E&&_(UP(e)),_(kP({handler:m,reactEvent:e}))}),[_,E,m]),K=(0,t.useCallback)((e=>{_(kP({handler:g,reactEvent:e}))}),[_,g]),W=function(e){return!0===e?oR:cR}(b);return t.createElement(zy.Provider,{value:S},t.createElement(x.Provider,{value:C},t.createElement(W,{width:null!=P?P:null==y?void 0:y.width,height:null!=R?R:null==y?void 0:y.height,className:r("recharts-wrapper",a),style:tR({position:"relative",cursor:"default",width:P,height:R},y),onClick:k,onContextMenu:F,onDoubleClick:Q,onFocus:j,onKeyDown:U,onMouseDown:z,onMouseEnter:D,onMouseLeave:L,onMouseMove:N,onMouseUp:H,onTouchEnd:K,onTouchMove:V,onTouchStart:G,ref:B},t.createElement(iR,null),i)))})),dR=["width","height","responsive","children","className","style","compact","title","desc"],hR=(0,t.forwardRef)(((e,n)=>{var{width:r,height:i,responsive:a,children:o,className:s,style:l,compact:c,title:u,desc:h}=e,f=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dR),p=d(f);return c?t.createElement(t.Fragment,null,t.createElement(ia,{width:r,height:i}),t.createElement(ZP,{otherAttributes:p,title:u,desc:h},o)):t.createElement(uR,{className:s,style:l,width:r,height:i,responsive:null!=a&&a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(ZP,{otherAttributes:p,title:u,desc:h,ref:n},t.createElement(GC,null,o)))}));function fR(){return fR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fR.apply(null,arguments)}var pR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},gR=(0,t.forwardRef)((function(e,n){var r,i=Oe(e.categoricalChartProps,pR),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return t.createElement(HP,{preloadedState:{options:u},reduxStoreName:null!==(r=c.id)&&void 0!==r?r:a},t.createElement(JI,{chartData:c.data}),t.createElement(GP,{layout:i.layout,margin:i.margin}),t.createElement(VP,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),t.createElement(hR,fR({},i,{ref:n})))})),mR=["axis"],AR=(0,t.forwardRef)(((e,n)=>t.createElement(gR,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mR,tooltipPayloadSearcher:Wy,categoricalChartProps:e,ref:n}))),yR=["axis","item"],vR=(0,t.forwardRef)(((e,n)=>t.createElement(gR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yR,tooltipPayloadSearcher:Wy,categoricalChartProps:e,ref:n})));function bR(e){var n=Ge();return(0,t.useEffect)((()=>{n(OP(e))}),[n,e]),null}var xR=["layout"];function ER(){return ER=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ER.apply(null,arguments)}var wR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},_R=(0,t.forwardRef)((function(e,n){var r,i=Oe(e.categoricalChartProps,wR),{layout:a}=i,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,xR),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return t.createElement(HP,{preloadedState:{options:d},reduxStoreName:null!==(r=i.id)&&void 0!==r?r:s},t.createElement(JI,{chartData:i.data}),t.createElement(GP,{layout:a,margin:i.margin}),t.createElement(VP,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),t.createElement(bR,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),t.createElement(hR,ER({},o,{ref:n})))}));function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SR(Object(n),!0).forEach((function(t){CR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MR=["item"],OR=IR(IR({},wR),{},{layout:"centric",startAngle:0,endAngle:360}),TR=(0,t.forwardRef)(((e,n)=>{var r=Oe(e,OR);return t.createElement(_R,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:MR,tooltipPayloadSearcher:Wy,categoricalChartProps:r,ref:n})})),PR=o(1576),RR=o.n(PR),BR=["width","height","className","style","children","type"];function kR(){return kR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kR.apply(null,arguments)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(n),!0).forEach((function(t){NR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jR="value",UR=(e,t)=>{if(e&&t)return ee()(e,t)},FR={chartName:"Treemap",defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],tooltipPayloadSearcher:UR,eventEmitter:void 0},QR=e=>{var t,{depth:n,node:r,index:i,dataKey:a,nameKey:o,nestedActiveTooltipIndex:s}=e,l=0===n?"":function(e){return"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"","children[").concat(e,"]")}(i,s),{children:c}=r,u=n+1,d=c&&c.length?c.map(((e,t)=>QR({depth:u,node:e,index:t,dataKey:a,nameKey:o,nestedActiveTooltipIndex:l}))):null;return t=d&&d.length?d.reduce(((e,t)=>e+t[jR]),0):ne(r[a])||r[a]<=0?0:r[a],LR(LR({},r),{},{children:d,name:Vr(r,o,""),[jR]:t,depth:n,index:i,tooltipIndex:l})},zR=(e,t,n)=>{var r=t*t,i=e.area*e.area,{min:a,max:o}=e.reduce(((e,t)=>({min:Math.min(e.min,t.area),max:Math.max(e.max,t.area)})),{min:1/0,max:0});return i?Math.max(r*o*n/i,i/(r*a*n)):1/0},HR=(e,t,n,r)=>t===n.width?((e,t,n,r)=>{var i=t?Math.round(e.area/t):0;(r||i>n.height)&&(i=n.height);for(var a,o=n.x,s=0,l=e.length;s<l;s++)(a=e[s]).x=o,a.y=n.y,a.height=i,a.width=Math.min(i?Math.round(a.area/i):0,n.x+n.width-o),o+=a.width;return null!=a&&(a.width+=n.x+n.width-o),LR(LR({},n),{},{y:n.y+i,height:n.height-i})})(e,t,n,r):((e,t,n,r)=>{var i=t?Math.round(e.area/t):0;(r||i>n.width)&&(i=n.width);for(var a,o=n.y,s=0,l=e.length;s<l;s++)(a=e[s]).x=n.x,a.y=o,a.width=i,a.height=Math.min(i?Math.round(a.area/i):0,n.y+n.height-o),o+=a.height;return a&&(a.height+=n.y+n.height-o),LR(LR({},n),{},{x:n.x+i,width:n.width-i})})(e,t,n,r),GR=(e,t)=>{var{children:n}=e;if(n&&n.length){var r,i,a=(e=>({x:e.x,y:e.y,width:e.width,height:e.height}))(e),o=[],s=1/0,l=Math.min(a.width,a.height),c=((e,t)=>{var n=t<0?0:t;return e.map((e=>{var t=e[jR]*n;return LR(LR({},e),{},{area:ne(t)||t<=0?0:t})}))})(n,a.width*a.height/e[jR]),u=c.slice();for(o.area=0;u.length>0;){var d,h;o.push(r=u[0]),o.area+=r.area,(i=zR(o,l,t))<=s?(u.shift(),s=i):(o.area-=null!==(d=null===(h=o.pop())||void 0===h?void 0:h.area)&&void 0!==d?d:0,a=HR(o,l,a,!1),l=Math.min(a.width,a.height),o.length=o.area=0,s=1/0)}return o.length&&(a=HR(o,l,a,!0),o.length=o.area=0),LR(LR({},e),{},{children:c.map((e=>GR(e,t)))})}return e},VR={aspectRatio:.5*(1+Math.sqrt(5)),dataKey:"value",nameKey:"name",type:"flat",isAnimationActive:"auto",isUpdateAnimationActive:"auto",animationBegin:0,animationDuration:1500,animationEasing:"linear"},KR={isAnimationFinished:!1,formatRoot:null,currentRoot:null,nestIndex:[],prevAspectRatio:VR.aspectRatio,prevDataKey:VR.dataKey};function WR(e){var{content:n,nodeProps:r,type:i,colorPanel:a,onMouseEnter:o,onMouseLeave:s,onClick:l}=e;if(t.isValidElement(n))return t.createElement(v,{onMouseEnter:o,onMouseLeave:s,onClick:l},t.cloneElement(n,r));if("function"==typeof n)return t.createElement(v,{onMouseEnter:o,onMouseLeave:s,onClick:l},n(r));var{x:c,y:u,width:d,height:h,index:f}=r,p=null;d>10&&h>10&&r.children&&"nest"===i&&(p=t.createElement(Lb,{points:[{x:c+2,y:u+h/2},{x:c+6,y:u+h/2+3},{x:c+2,y:u+h/2+6}]}));var g=null,m=wv(r.name);d>20&&h>20&&m.width<d&&m.height<h&&(g=t.createElement("text",{x:c+8,y:u+h/2+7,fontSize:14},r.name));var A=a||pi;return t.createElement("g",null,t.createElement(Xs,kR({fill:r.depth<2?A[f%A.length]:"rgba(255,255,255,0)",stroke:"#fff"},RR()(r,["children"]),{onMouseEnter:o,onMouseLeave:s,onClick:l,"data-recharts-item-index":r.tooltipIndex})),p,g)}function qR(e){var n=Ge(),r={x:e.nodeProps.x+e.nodeProps.width/2,y:e.nodeProps.y+e.nodeProps.height/2};return t.createElement(WR,kR({},e,{onMouseEnter:()=>{n(Nm({activeIndex:e.nodeProps.tooltipIndex,activeDataKey:e.dataKey,activeCoordinate:r}))},onMouseLeave:()=>{},onClick:()=>{n(Fm({activeIndex:e.nodeProps.tooltipIndex,activeDataKey:e.dataKey,activeCoordinate:r}))}}))}var YR=t.memo((e=>{var{dataKey:n,nameKey:r,stroke:i,fill:a,currentRoot:o}=e,s={dataDefinedOnItem:o,positions:void 0,settings:{stroke:i,strokeWidth:void 0,fill:a,dataKey:n,nameKey:r,name:void 0,hide:!1,type:void 0,color:a,unit:""}};return t.createElement(BE,{tooltipEntrySettings:s})})),XR={top:0,right:0,bottom:0,left:0};function JR(e){var{content:n,nodeProps:r,isLeaf:i,treemapProps:a,onNestClick:o}=e,{isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:u,isUpdateAnimationActive:d,type:h,colorPanel:f,dataKey:p,onAnimationStart:g,onAnimationEnd:m,onMouseEnter:A,onClick:y,onMouseLeave:b}=a,{width:x,height:E,x:w,y:_}=r,S=-w-x,I=e=>{!i&&"nest"!==h||"function"!=typeof A||A(r,e)},C=e=>{!i&&"nest"!==h||"function"!=typeof b||b(r,e)},M=()=>{"nest"===h&&o(r),!i&&"nest"!==h||"function"!=typeof y||y(r)},O=(0,t.useCallback)((()=>{"function"==typeof m&&m()}),[m]),T=(0,t.useCallback)((()=>{"function"==typeof g&&g()}),[g]);return t.createElement(oP,{animationId:"treemap-".concat(r.tooltipIndex),from:"translate(".concat(S,"px, ").concat(0,"px)"),to:"translate(0, 0)",attributeName:"transform",begin:l,easing:u,isActive:s,duration:c,onAnimationStart:T,onAnimationEnd:O},(e=>t.createElement(v,{onMouseEnter:I,onMouseLeave:C,onClick:M,style:LR(LR({},e),{},{transformOrigin:"".concat(w," ").concat(_)})},t.createElement(qR,{content:n,dataKey:p,nodeProps:LR(LR({},r),{},{isAnimationActive:s,isUpdateAnimationActive:!d,width:x,height:E,x:w,y:_}),type:h,colorPanel:f}))))}class $R extends t.PureComponent{constructor(){super(...arguments),NR(this,"state",LR({},KR)),NR(this,"handleClick",(e=>{var{onClick:t,type:n}=this.props;if("nest"===n&&e.children){var{width:r,height:i,dataKey:a,nameKey:o,aspectRatio:s}=this.props,l=QR({depth:0,node:LR(LR({},e),{},{x:0,y:0,width:r,height:i}),index:0,dataKey:a,nameKey:o,nestedActiveTooltipIndex:e.tooltipIndex}),c=GR(l,s),{nestIndex:u}=this.state;u.push(e),this.setState({formatRoot:c,currentRoot:l,nestIndex:u})}t&&t(e)})),NR(this,"handleTouchMove",(e=>{var t=e.touches[0],n=document.elementFromPoint(t.clientX,t.clientY);if(n&&n.getAttribute&&null!=this.state.formatRoot){var r=n.getAttribute("data-recharts-item-index"),i=UR(this.state.formatRoot,r);if(i){var{dataKey:a,dispatch:o}=this.props,s={x:i.x+i.width/2,y:i.y+i.height/2};o(Nm({activeIndex:r,activeDataKey:a,activeCoordinate:s}))}}}))}static getDerivedStateFromProps(e,t){if(e.data!==t.prevData||e.type!==t.prevType||e.width!==t.prevWidth||e.height!==t.prevHeight||e.dataKey!==t.prevDataKey||e.aspectRatio!==t.prevAspectRatio){var n=QR({depth:0,node:{children:e.data,x:0,y:0,width:e.width,height:e.height},index:0,dataKey:e.dataKey,nameKey:e.nameKey}),r=GR(n,e.aspectRatio);return LR(LR({},t),{},{formatRoot:r,currentRoot:n,nestIndex:[n],prevAspectRatio:e.aspectRatio,prevData:e.data,prevWidth:e.width,prevHeight:e.height,prevDataKey:e.dataKey,prevType:e.type})}return null}handleNestIndex(e,t){var{nestIndex:n}=this.state,{width:r,height:i,dataKey:a,nameKey:o,aspectRatio:s}=this.props,l=QR({depth:0,node:LR(LR({},e),{},{x:0,y:0,width:r,height:i}),index:0,dataKey:a,nameKey:o,nestedActiveTooltipIndex:e.tooltipIndex}),c=GR(l,s);n=n.slice(0,t+1),this.setState({formatRoot:c,currentRoot:e,nestIndex:n})}renderNode(e,n){var{content:r,type:i}=this.props,a=LR(LR(LR({},d(this.props)),n),{},{root:e}),o=!n.children||!n.children.length,{currentRoot:s}=this.state;return!((null==s?void 0:s.children)||[]).filter((e=>e.depth===n.depth&&e.name===n.name)).length&&e.depth&&"nest"===i?null:t.createElement(v,{key:"recharts-treemap-node-".concat(a.x,"-").concat(a.y,"-").concat(a.name),className:"recharts-treemap-depth-".concat(n.depth)},t.createElement(JR,{isLeaf:o,content:r,nodeProps:a,treemapProps:this.props,onNestClick:this.handleClick}),n.children&&n.children.length?n.children.map((e=>this.renderNode(n,e))):null)}renderAllNodes(){var{formatRoot:e}=this.state;return e?this.renderNode(e,e):null}renderNestIndex(){var{nameKey:e,nestIndexContent:n}=this.props,{nestIndex:r}=this.state;return t.createElement("div",{className:"recharts-treemap-nest-index-wrapper",style:{marginTop:"8px",textAlign:"center"}},r.map(((r,i)=>{var a,o=ee()(r,e,"root");return t.isValidElement(n)&&(a=t.cloneElement(n,r,i)),a="function"==typeof n?n(r,i):o,t.createElement("div",{onClick:this.handleNestIndex.bind(this,r,i),key:"nest-index-".concat(se()),className:"recharts-treemap-nest-index-box",style:{cursor:"pointer",display:"inline-block",padding:"0 7px",background:"#000",color:"#fff",marginRight:"3px"}},a)})))}render(){var e=this.props,{width:n,height:r,className:i,style:a,children:o,type:s}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,BR),c=d(l);return t.createElement(t.Fragment,null,t.createElement(YR,{dataKey:this.props.dataKey,nameKey:this.props.nameKey,stroke:this.props.stroke,fill:this.props.fill,currentRoot:this.state.currentRoot}),t.createElement(m,kR({},c,{width:n,height:"nest"===s?r-30:r,onTouchMove:this.handleTouchMove}),this.renderAllNodes(),o),"nest"===s&&this.renderNestIndex())}}function ZR(e){var n=Ge(),r=$i(),i=Zi();return ji(r)&&ji(i)?t.createElement($R,kR({},e,{width:r,height:i,dispatch:n})):null}function eB(e){var n,r=Oe(e,VR),{className:i,style:a,width:o,height:s}=r,[l,c]=(0,t.useState)(null);return t.createElement(HP,{preloadedState:{options:FR},reduxStoreName:null!==(n=r.className)&&void 0!==n?n:"Treemap"},t.createElement(aa,{margin:XR}),t.createElement(uR,{dispatchTouchEvents:!1,className:i,style:a,width:o,height:s,responsive:!1,ref:e=>{null==l&&null!=e&&c(e)},onMouseEnter:void 0,onMouseLeave:void 0,onClick:void 0,onMouseMove:void 0,onMouseDown:void 0,onMouseUp:void 0,onContextMenu:void 0,onDoubleClick:void 0,onTouchStart:void 0,onTouchMove:void 0,onTouchEnd:void 0},t.createElement(zy.Provider,{value:l},t.createElement(ZR,r))))}NR($R,"displayName","Treemap");var tB=o(2067),nB=o.n(tB),rB=["sourceX","sourceY","sourceControlX","targetX","targetY","targetControlX","linkWidth"],iB=["className","style","children"];function aB(){return aB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aB.apply(null,arguments)}function oB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sB(Object(n),!0).forEach((function(t){cB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uB=e=>e.y+e.dy/2,dB=e=>e&&e.value||0,hB=(e,t)=>t.reduce(((t,n)=>t+dB(e[n])),0),fB=(e,t,n)=>n.reduce(((n,r)=>{var i=t[r],a=e[i.source];return n+uB(a)*dB(t[r])}),0),pB=(e,t,n)=>n.reduce(((n,r)=>{var i=t[r],a=e[i.target];return n+uB(a)*dB(t[r])}),0),gB=(e,t)=>e.y-t.y,mB=(e,t)=>{for(var{targetNodes:n}=t,r=0,i=n.length;r<i;r++){var a=e[n[r]];a&&(a.depth=Math.max(t.depth+1,a.depth),mB(e,a))}},AB=function(e,t,n){for(var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=0,a=e.length;i<a;i++){var o=e[i],s=o.length;r&&o.sort(gB);for(var l=0,c=0;c<s;c++){var u=o[c],d=l-u.y;d>0&&(u.y+=d),l=u.y+u.dy+n}l=t+n;for(var h=s-1;h>=0;h--){var f=o[h],p=f.y+f.dy+n-l;if(!(p>0))break;f.y-=p,l=f.y}}},yB=(e,t,n,r)=>{for(var i=0,a=t.length;i<a;i++)for(var o=t[i],s=0,l=o.length;s<l;s++){var c=o[s];if(c.sourceLinks.length){var u=hB(n,c.sourceLinks),d=fB(e,n,c.sourceLinks)/u;c.y+=(d-uB(c))*r}}},vB=(e,t,n,r)=>{for(var i=t.length-1;i>=0;i--)for(var a=t[i],o=0,s=a.length;o<s;o++){var l=a[o];if(l.targetLinks.length){var c=hB(n,l.targetLinks),u=pB(e,n,l.targetLinks)/c;l.y+=(u-uB(l))*r}}},bB=e=>{var{data:t,width:n,height:r,iterations:i,nodeWidth:a,nodePadding:o,sort:s,verticalAlign:l,align:c}=e,{links:u}=t,{tree:d}=((e,t,n,r)=>{for(var i,a,{nodes:o,links:s}=e,l=o.map(((e,t)=>{var n=((e,t)=>{for(var n=[],r=[],i=[],a=[],o=0,s=e.length;o<s;o++){var l=e[o];l.source===t&&(i.push(l.target),a.push(o)),l.target===t&&(n.push(l.source),r.push(o))}return{sourceNodes:n,sourceLinks:r,targetLinks:a,targetNodes:i}})(s,t);return lB(lB(lB({},e),n),{},{value:Math.max(hB(s,n.sourceLinks),hB(s,n.targetLinks)),depth:0})})),c=0,u=l.length;c<u;c++){var d=l[c];d.sourceNodes.length||mB(l,d)}var h=null!==(i=null===(a=yx()(l,(e=>e.depth)))||void 0===a?void 0:a.depth)&&void 0!==i?i:0;if(h>=1)for(var f=(t-n)/h,p=0,g=l.length;p<g;p++){var m=l[p];m.targetNodes.length||"justify"===r&&(m.depth=h),m.x=m.depth*f,m.dx=n}return{tree:l,maxDepth:h}})(t,n,a,c),h=(e=>{for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t[i.depth]||(t[i.depth]=[]),t[i.depth].push(i)}return t})(d),f=((e,t,n,r,i)=>{for(var a=Math.min(...e.map((e=>(t-(e.length-1)*n)/nB()(e,dB)))),o=0,s=e.length;o<s;o++){var l=e[o];if("top"===i)for(var c=0,u=0,d=l.length;u<d;u++){var h=l[u];h.dy=h.value*a,h.y=c,c+=h.dy+n}else for(var f=0,p=l.length;f<p;f++){var g=l[f];g.y=f,g.dy=g.value*a}}return r.map((e=>lB(lB({},e),{},{dy:dB(e)*a})))})(h,r,o,u,l);if(AB(h,r,o,s),"justify"===l)for(var p=1,g=1;g<=i;g++)vB(d,h,f,p*=.99),AB(h,r,o,s),yB(d,h,f,p),AB(h,r,o,s);return((e,t)=>{for(var n=0,r=e.length;n<r;n++){var i=e[n],a=0,o=0;i.targetLinks.sort(((n,r)=>e[t[n].target].y-e[t[r].target].y)),i.sourceLinks.sort(((n,r)=>e[t[n].source].y-e[t[r].source].y));for(var s=0,l=i.targetLinks.length;s<l;s++){var c=t[i.targetLinks[s]];c&&(c.sy=a,a+=c.dy)}for(var u=0,d=i.sourceLinks.length;u<d;u++){var h=t[i.sourceLinks[u]];h&&(h.ty=o,o+=h.dy)}}})(d,f),{nodes:d,links:f}},xB=e=>({x:+e.x+ +e.width/2,y:+e.y+ +e.height/2}),EB=e=>"sourceX"in e?{x:(e.sourceX+e.targetX)/2,y:(e.sourceY+e.targetY)/2}:void 0,wB={chartName:"Sankey",defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],tooltipPayloadSearcher:(e,t,n,r)=>{if(null!=t&&"string"==typeof t){var i=t.split("-"),[a,o]=i,s=ee()(n,"".concat(a,"s[").concat(o,"]"));if(s){var l=((e,t,n)=>{var{payload:r}=e;if("node"===t)return{payload:r,name:Vr(r,n,""),value:Vr(r,"value")};if("source"in r&&r.source&&r.target){var i=Vr(r.source,n,""),a=Vr(r.target,n,"");return{payload:r,name:"".concat(i," - ").concat(a),value:Vr(r,"value")}}})(s,a,r);return l}}},eventEmitter:void 0},_B=t.memo((e=>{var{dataKey:n,nameKey:r,stroke:i,strokeWidth:a,fill:o,name:s,data:l}=e,c={dataDefinedOnItem:l,positions:void 0,settings:{stroke:i,strokeWidth:a,fill:o,dataKey:n,name:s,nameKey:r,hide:!1,type:void 0,color:o,unit:""}};return t.createElement(BE,{tooltipEntrySettings:c})})),SB=e=>{var{link:t,nodes:n,left:r,top:i,i:a,linkContent:o,linkCurvature:s}=e,{sy:l,ty:c,dy:u}=t,d=n[t.source],f=n[t.target],p=d.x+d.dx+r,g=f.x+r,m=((e,t)=>{var n=+e,r=t-n;return e=>n+r*e})(p,g),A=m(s),y=m(1-s);return lB({sourceX:p,targetX:g,sourceY:d.y+l+u/2+i,targetY:f.y+c+u/2+i,sourceControlX:A,targetControlX:y,sourceRelativeY:l,targetRelativeY:c,linkWidth:u,index:a,payload:lB(lB({},t),{},{source:d,target:f})},h(o))};function IB(e){var{props:n,i:r,linkContent:i,onMouseEnter:a,onMouseLeave:o,onClick:s,dataKey:l}=e,c=EB(n),u="link-".concat(r),h=Ge(),f={onMouseEnter:e=>{h(Nm({activeIndex:u,activeDataKey:l,activeCoordinate:c})),a(n,e)},onMouseLeave:e=>{h(jm()),o(n,e)},onClick:e=>{h(Fm({activeIndex:u,activeDataKey:l,activeCoordinate:c})),s(n,e)}};return t.createElement(v,f,function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"==typeof e)return e(n);var{sourceX:r,sourceY:i,sourceControlX:a,targetX:o,targetY:s,targetControlX:l,linkWidth:c}=n,u=oB(n,rB);return t.createElement("path",aB({className:"recharts-sankey-link",d:"\n          M".concat(r,",").concat(i,"\n          C").concat(a,",").concat(i," ").concat(l,",").concat(s," ").concat(o,",").concat(s,"\n        "),fill:"none",stroke:"#333",strokeWidth:c,strokeOpacity:"0.2"},d(u)))}(i,n))}function CB(e){var{modifiedLinks:n,links:r,linkContent:i,onMouseEnter:a,onMouseLeave:o,onClick:s,dataKey:l}=e;return t.createElement(v,{className:"recharts-sankey-links",key:"recharts-sankey-links"},r.map(((e,r)=>{var c=n[r];return t.createElement(IB,{key:"link-".concat(e.source,"-").concat(e.target,"-").concat(e.value),props:c,linkContent:i,i:r,onMouseEnter:a,onMouseLeave:o,onClick:s,dataKey:l})})))}var MB=e=>{var{node:t,nodeContent:n,top:r,left:i,i:a}=e,{x:o,y:s,dx:l,dy:c}=t;return lB(lB({},h(n)),{},{x:o+i,y:s+r,width:l,height:c,index:a,payload:t})};function OB(e){var{props:n,nodeContent:r,i,onMouseEnter:a,onMouseLeave:o,onClick:s,dataKey:l}=e,c=Ge(),u=xB(n),h="node-".concat(i),f={onMouseEnter:e=>{c(Nm({activeIndex:h,activeDataKey:l,activeCoordinate:u})),a(n,e)},onMouseLeave:e=>{c(jm()),o(n,e)},onClick:e=>{c(Fm({activeIndex:h,activeDataKey:l,activeCoordinate:u})),s(n,e)}};return t.createElement(v,f,function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"==typeof e?e(n):t.createElement(Xs,aB({className:"recharts-sankey-node",fill:"#0088fe",fillOpacity:"0.8"},d(n)))}(r,n))}function TB(e){var{modifiedNodes:n,nodeContent:r,onMouseEnter:i,onMouseLeave:a,onClick:o,dataKey:s}=e;return t.createElement(v,{className:"recharts-sankey-nodes",key:"recharts-sankey-nodes"},n.map(((e,n)=>t.createElement(OB,{key:"node-".concat(e.index,"-").concat(e.x,"-").concat(e.y),props:e,nodeContent:r,i:n,onMouseEnter:i,onMouseLeave:a,onClick:o,dataKey:s}))))}var PB={align:"justify",dataKey:"value",iterations:32,linkCurvature:.5,margin:{top:5,right:5,bottom:5,left:5},nameKey:"name",nodePadding:10,nodeWidth:10,sort:!0,verticalAlign:"justify"};function RB(e){var{className:n,style:r,children:i}=e,a=oB(e,iB),{link:o,dataKey:s,node:l,onMouseEnter:c,onMouseLeave:u,onClick:h,data:f,iterations:p,nodeWidth:g,nodePadding:A,sort:y,linkCurvature:v,margin:b,verticalAlign:x,align:E}=e,w=d(a),_=$i(),S=Zi(),{links:I,modifiedLinks:C,modifiedNodes:M}=(0,t.useMemo)((()=>{var e,t,n,r;if(!f||!_||!S||_<=0||S<=0)return{nodes:[],links:[],modifiedLinks:[],modifiedNodes:[]};var i=_-(null!==(e=b.left)&&void 0!==e?e:0)-(null!==(t=b.right)&&void 0!==t?t:0),a=S-(null!==(n=b.top)&&void 0!==n?n:0)-(null!==(r=b.bottom)&&void 0!==r?r:0),s=bB({data:f,width:i,height:a,iterations:p,nodeWidth:g,nodePadding:A,sort:y,verticalAlign:x,align:E}),c=b.top||0,u=b.left||0,d=s.links.map(((e,t)=>SB({link:e,nodes:s.nodes,i:t,top:c,left:u,linkContent:o,linkCurvature:v}))),h=s.nodes.map(((e,t)=>MB({node:e,nodeContent:l,i:t,top:c,left:u})));return{nodes:s.nodes,links:s.links,modifiedLinks:d,modifiedNodes:h}}),[f,_,S,b,p,g,A,y,o,l,v,E,x]),O=(0,t.useCallback)(((e,t,n)=>{c&&c(e,t,n)}),[c]),T=(0,t.useCallback)(((e,t,n)=>{u&&u(e,t,n)}),[u]),P=(0,t.useCallback)(((e,t,n)=>{h&&h(e,t,n)}),[h]);return ji(_)&&ji(S)&&f&&f.links&&f.nodes?t.createElement(t.Fragment,null,t.createElement($I,{computedData:{links:C,nodes:M}}),t.createElement(m,aB({},w,{width:_,height:S}),i,t.createElement(CB,{links:I,modifiedLinks:C,linkContent:o,dataKey:s,onMouseEnter:(e,t)=>O(e,"link",t),onMouseLeave:(e,t)=>T(e,"link",t),onClick:(e,t)=>P(e,"link",t)}),t.createElement(TB,{modifiedNodes:M,nodeContent:l,dataKey:s,onMouseEnter:(e,t)=>O(e,"node",t),onMouseLeave:(e,t)=>T(e,"node",t),onClick:(e,t)=>P(e,"node",t)}))):null}function BB(e){var n=Oe(e,PB),{width:r,height:i,style:a,className:o}=n,[s,l]=(0,t.useState)(null);return t.createElement(HP,{preloadedState:{options:wB},reduxStoreName:null!=o?o:"Sankey"},t.createElement(_B,{dataKey:n.dataKey,nameKey:n.nameKey,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,data:n.data}),t.createElement(ia,{width:r,height:i}),t.createElement(aa,{margin:n.margin}),t.createElement(uR,{className:o,style:a,width:r,height:i,responsive:!1,ref:e=>{e&&!s&&l(e)},onMouseEnter:void 0,onMouseLeave:void 0,onClick:void 0,onMouseMove:void 0,onMouseDown:void 0,onMouseUp:void 0,onContextMenu:void 0,onDoubleClick:void 0,onTouchStart:void 0,onTouchMove:void 0,onTouchEnd:void 0},t.createElement(zy.Provider,{value:s},t.createElement(RB,n))))}function kB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kB(Object(n),!0).forEach((function(t){LB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}BB.displayName="Sankey";var NB=["axis"],jB=DB(DB({},wR),{},{layout:"centric",startAngle:90,endAngle:-270}),UB=(0,t.forwardRef)(((e,n)=>{var r=Oe(e,jB);return t.createElement(_R,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:NB,tooltipPayloadSearcher:Wy,categoricalChartProps:r,ref:n})})),FB=["item"],QB=(0,t.forwardRef)(((e,n)=>t.createElement(gR,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:FB,tooltipPayloadSearcher:Wy,categoricalChartProps:e,ref:n}))),zB=["axis"],HB=(0,t.forwardRef)(((e,n)=>t.createElement(gR,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zB,tooltipPayloadSearcher:Wy,categoricalChartProps:e,ref:n})));function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GB(Object(n),!0).forEach((function(t){KB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WB=["axis","item"],qB=VB(VB({},wR),{},{layout:"radial",startAngle:0,endAngle:360}),YB=(0,t.forwardRef)(((e,n)=>{var r=Oe(e,qB);return t.createElement(_R,{chartName:"RadialBarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:WB,tooltipPayloadSearcher:Wy,categoricalChartProps:r,ref:n})})),XB=["axis"],JB=(0,t.forwardRef)(((e,n)=>t.createElement(gR,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:XB,tooltipPayloadSearcher:Wy,categoricalChartProps:e,ref:n})));function $B(){return $B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$B.apply(null,arguments)}function ZB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZB(Object(n),!0).forEach((function(t){tk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nk={fontWeight:"bold",paintOrder:"stroke fill",fontSize:".75rem",stroke:"#FFF",fill:"black",pointerEvents:"none"};function rk(e){if(!e.children||0===e.children.length)return 1;var t=e.children.map((e=>rk(e)));return 1+Math.max(...t)}function ik(e){var t={};return e.forEach(((e,n)=>{t[n]=e})),t}var ak=t.memo((e=>{var{dataKey:n,nameKey:r,data:i,stroke:a,fill:o,positions:s}=e,l={dataDefinedOnItem:i.children,positions:ik(s),settings:{stroke:a,strokeWidth:void 0,fill:o,nameKey:r,dataKey:n,name:r?void 0:n,hide:!1,type:void 0,color:o,unit:""}};return t.createElement(BE,{tooltipEntrySettings:l})})),ok={top:0,right:0,bottom:0,left:0},sk={options:{validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",chartName:"Sunburst",tooltipPayloadSearcher:(e,t)=>{if(null!=t)return ee()(e,t)},eventEmitter:void 0}},lk=e=>{var{className:n,data:i,children:a,padding:o=2,dataKey:s="value",nameKey:l="name",ringPadding:c=2,innerRadius:u=50,fill:d="#333",stroke:h="#FFF",textOptions:f=nk,outerRadius:p,cx:g,cy:A,startAngle:y=0,endAngle:b=360,onClick:x,onMouseEnter:E,onMouseLeave:w,responsive:_=!1,style:S}=e,I=Ge(),C=$i(),M=Zi(),[O,T]=(0,t.useState)(null);if(null==C||null==M)return null;var P=null!=p?p:Math.min(C,M)/2,R=null!=g?g:C/2,B=null!=A?A:M/2,k=lu([0,i[s]],[0,b]),D=(P-u)/rk(i),L=[],N=new Map([]);!function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{radius:a,innerR:l,initialAngle:u,childColor:p,nestedActiveTooltipIndex:g}=r,m=u;n&&n.forEach(((n,r)=>{var u,A,y=1===i?"[".concat(r,"]"):function(e){return"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"","children[").concat(e,"]")}(r,g),v=ek(ek({},n),{},{tooltipIndex:y}),b=k(n[s]),_=m,S=null!==(u=null!==(A=null==n?void 0:n.fill)&&void 0!==A?A:p)&&void 0!==u?u:d,{x:C,y:M}=rl(0,0,l+a/2,-(_+b-b/2));m+=b,L.push(t.createElement("g",{key:"sunburst-sector-".concat(n.name,"-").concat(r)},t.createElement(fl,{onClick:()=>{return e=v,x&&x(e),void I(Fm({activeIndex:e.tooltipIndex,activeDataKey:s,activeCoordinate:N.get(e.name)}));var e},onMouseEnter:e=>function(e,t){E&&E(e,t),I(Nm({activeIndex:e.tooltipIndex,activeDataKey:s,activeCoordinate:N.get(e.name)}))}(v,e),onMouseLeave:e=>function(e,t){w&&w(e,t),I(jm())}(v,e),fill:S,stroke:h,strokeWidth:o,startAngle:_,endAngle:_+b,innerRadius:l,outerRadius:l+a,cx:R,cy:B}),t.createElement(qv,$B({},f,{alignmentBaseline:"middle",textAnchor:"middle",x:C+R,y:B-M}),n[s])));var{x:O,y:T}=rl(R,B,l+a/2,_);return N.set(n.name,{x:O,y:T}),e(n.children,{radius:a,innerR:l+a+c,initialAngle:_,childColor:S,nestedActiveTooltipIndex:y},i+1)}))}(i.children,{radius:D,innerR:u,initialAngle:y});var j=r("recharts-sunburst",n);return t.createElement(zy.Provider,{value:O},t.createElement(uR,{className:n,width:C,height:M,responsive:_,style:S,ref:e=>{null==O&&null!=e&&T(e)},onMouseEnter:void 0,onMouseLeave:void 0,onClick:void 0,onMouseMove:void 0,onMouseDown:void 0,onMouseUp:void 0,onContextMenu:void 0,onDoubleClick:void 0,onTouchStart:void 0,onTouchMove:void 0,onTouchEnd:void 0},t.createElement(m,{width:C,height:M},t.createElement(v,{className:j},L),t.createElement(ak,{dataKey:s,nameKey:l,data:i,stroke:h,fill:d,positions:N}),a)))},ck=e=>{var n;return t.createElement(HP,{preloadedState:sk,reduxStoreName:null!==(n=e.className)&&void 0!==n?n:"SunburstChart"},t.createElement(ia,{width:e.width,height:e.height}),t.createElement(aa,{margin:ok}),t.createElement(lk,e))};function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uk.apply(null,arguments)}function dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dk(Object(n),!0).forEach((function(t){fk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e,t){var n="".concat(t.x||e.x),r=parseInt(n,10),i="".concat(t.y||e.y),a=parseInt(i,10),o="".concat((null==t?void 0:t.height)||(null==e?void 0:e.height)),s=parseInt(o,10);return hk(hk(hk({},t),CE(e)),{},{height:s,x:r,y:a})}function gk(e){return t.createElement(ME,uk({shapeType:"trapezoid",propTransformer:pk},e))}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ak(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mk(Object(n),!0).forEach((function(t){yk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vk=$e([bi,(e,t)=>t,vf],((e,t,n)=>{var r,{data:i,dataKey:a,nameKey:o,tooltipType:s,lastShapeType:l,reversed:c,customWidth:u,cells:d,presentationProps:h}=t,{chartData:f}=n;if(null!=i&&i.length>0?r=i:null!=f&&f.length>0&&(r=f),r&&r.length)r=r.map(((e,t)=>Ak(Ak(Ak({payload:e},h),e),d&&d[t]&&d[t].props)));else{if(!d||!d.length)return[];r=d.map((e=>Ak(Ak({},h),e.props)))}return function(e){var{dataKey:t,nameKey:n,displayedData:r,tooltipType:i,lastShapeType:a,reversed:o,offset:s,customWidth:l}=e,{realHeight:c,realWidth:u,offsetX:d,offsetY:h}=Rk(l,s),f=Math.max.apply(null,r.map((e=>Vr(e,t,0)))),p=r.length,g=c/p,m={x:s.left,y:s.top,width:s.width,height:s.height},A=r.map(((e,o)=>{var s,l=Vr(e,t,0),c=String(Vr(e,n,o)),A=l;o!==p-1?(s=Vr(r[o+1],t,0))instanceof Array&&([A,s]=s):l instanceof Array&&2===l.length?[A,s]=l:s="rectangle"===a?A:0;var y=(f-A)*u/(2*f)+d,v=g*o+h,b=A/f*u,x=s/f*u,E=[{name:c,value:A,payload:e,dataKey:t,type:i}],w={x:y+b/2,y:v+g/2},_={x:y,y:v,upperWidth:b,lowerWidth:x,width:Math.max(b,x),height:g};return Sk(Sk(Sk({},_),{},{name:c,val:A,tooltipPayload:E,tooltipPosition:w},RR()(e,["width"])),{},{payload:e,parentViewBox:m,labelViewBox:_})}));return o&&(A=A.map(((e,t)=>{var n={x:e.x-(e.lowerWidth-e.upperWidth)/2,y:e.y-t*g+(p-1-t)*g,upperWidth:e.lowerWidth,lowerWidth:e.upperWidth,width:Math.max(e.lowerWidth,e.upperWidth),height:g};return Sk(Sk(Sk({},e),n),{},{tooltipPosition:Sk(Sk({},e.tooltipPosition),{},{y:e.y-t*g+(p-1-t)*g+g/2}),labelViewBox:n})}))),A}({dataKey:a,nameKey:o,displayedData:r,tooltipType:s,lastShapeType:l,reversed:c,offset:e,customWidth:u})})),bk=["onMouseEnter","onClick","onMouseLeave","shape","activeShape"],xk=["stroke","fill","legendType","hide","isAnimationActive","animationBegin","animationDuration","animationEasing","nameKey","lastShapeType"];function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ek.apply(null,arguments)}function wk(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_k(Object(n),!0).forEach((function(t){Ik(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ik(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ck=t.memo((e=>{var{dataKey:n,nameKey:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c,data:u,trapezoids:d}=e,h={dataDefinedOnItem:u,positions:d.map((e=>{var{tooltipPosition:t}=e;return t})),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:n,name:s,nameKey:r,hide:l,type:c,color:o,unit:""}};return t.createElement(BE,{tooltipEntrySettings:h})}));function Mk(e){var{showLabels:n,trapezoids:r,children:i}=e,a=(0,t.useMemo)((()=>{if(n)return null==r?void 0:r.map((e=>{var t=e.labelViewBox;return Sk(Sk({},t),{},{value:e.name,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})}))}),[n,r]);return t.createElement(Sb,{value:a},i)}function Ok(e){var{trapezoids:n,allOtherFunnelProps:r}=e,i=qe((e=>fy(e,"item",e.tooltip.settings.trigger,void 0))),{onMouseEnter:a,onClick:o,onMouseLeave:s,shape:l,activeShape:c}=r,u=wk(r,bk),d=TE(a,r.dataKey),h=PE(s),f=RE(o,r.dataKey);return t.createElement(t.Fragment,null,n.map(((e,n)=>{var r=Boolean(c)&&i===String(n),a=r?c:l,o=Sk(Sk({},e),{},{option:a,isActive:r,stroke:e.stroke});return t.createElement(v,Ek({key:"trapezoid-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.name,"-").concat(null==e?void 0:e.value),className:"recharts-funnel-trapezoid"},Ie(u,e,n),{onMouseEnter:d(e,n),onMouseLeave:h(e,n),onClick:f(e,n)}),t.createElement(gk,o))})))}function Tk(e){var{previousTrapezoidsRef:n,props:r}=e,{trapezoids:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=r,d=n.current,[h,f]=(0,t.useState)(!1),p=!h,g=Fs(i,"recharts-funnel-"),m=(0,t.useCallback)((()=>{"function"==typeof c&&c(),f(!1)}),[c]),A=(0,t.useCallback)((()=>{"function"==typeof u&&u(),f(!0)}),[u]);return t.createElement(Mk,{showLabels:p,trapezoids:i},t.createElement(Us,{animationId:g,begin:o,duration:s,isActive:a,easing:l,key:g,onAnimationStart:A,onAnimationEnd:m},(e=>{var a=1===e?i:i.map(((t,n)=>{var r=d&&d[n];return Sk(Sk({},t),{},r?{x:ue(r.x,t.x,e),y:ue(r.y,t.y,e),upperWidth:ue(r.upperWidth,t.upperWidth,e),lowerWidth:ue(r.lowerWidth,t.lowerWidth,e),height:ue(r.height,t.height,e)}:{x:ue(t.x+t.upperWidth/2,t.x,e),y:ue(t.y+t.height/2,t.y,e),upperWidth:ue(0,t.upperWidth,e),lowerWidth:ue(0,t.lowerWidth,e),height:ue(0,t.height,e)})}));return e>0&&(n.current=a),t.createElement(v,null,t.createElement(Ok,{trapezoids:a,allOtherFunnelProps:r}))})),t.createElement(Ob,{label:r.label}),r.children)}function Pk(e){var n=(0,t.useRef)(void 0);return t.createElement(Tk,{props:e,previousTrapezoidsRef:n})}var Rk=(e,t)=>{var{width:n,height:r,left:i,top:a}=t;return{realWidth:le(e,n,n),realHeight:r,offsetX:i,offsetY:a}};class Bk extends t.PureComponent{render(){var{className:e}=this.props,n=r("recharts-trapezoids",e);return t.createElement(v,{className:n},t.createElement(Pk,this.props))}}var kk={animationBegin:400,animationDuration:1500,animationEasing:"ease",fill:"#808080",hide:!1,isAnimationActive:"auto",lastShapeType:"triangle",legendType:"rect",nameKey:"name",reversed:!1,stroke:"#fff"};function Dk(e){var n=Vw(),r=Oe(e,kk),{stroke:i,fill:a,legendType:o,hide:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:h,nameKey:f,lastShapeType:p}=r,g=wk(r,xk),m=d(e),A=uE(e.children,gv),y=(0,t.useMemo)((()=>({dataKey:e.dataKey,nameKey:f,data:e.data,tooltipType:e.tooltipType,lastShapeType:p,reversed:e.reversed,customWidth:e.width,cells:A,presentationProps:m})),[e.dataKey,f,e.data,e.tooltipType,p,e.reversed,e.width,A,m]),v=qe((e=>vk(e,y)));if(s||!v||!v.length||!n)return null;var{height:b,width:x}=n;return t.createElement(t.Fragment,null,t.createElement(Ck,{dataKey:e.dataKey,nameKey:e.nameKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,data:e.data,trapezoids:v}),t.createElement(Bk,Ek({},g,{stroke:i,fill:a,nameKey:f,lastShapeType:p,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:l,hide:s,legendType:o,height:b,width:x,trapezoids:v})))}class Lk extends t.PureComponent{render(){return t.createElement(Dk,this.props)}}Ik(Lk,"displayName","Funnel"),Ik(Lk,"defaultProps",kk);var Nk=["item"],jk=(0,t.forwardRef)(((e,n)=>t.createElement(gR,{chartName:"FunnelChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Nk,tooltipPayloadSearcher:Wy,categoricalChartProps:e,ref:n})))})(),s})(),e.exports=r(n(96540),n(40961),n(44363))},920:(e,t,n)=>{"use strict";var r=n(70453),i=n(38075),a=n(58859),o=n(69675),s=r("%WeakMap%",!0),l=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),f=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),g=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new o("Side channel does not contain "+a(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return c(e,r)}else if(l){if(t)return h(t,r)}else if(n)return function(e,t){var n=g(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return d(e,r)}else if(l){if(t)return p(t,r)}else if(n)return function(e,t){return!!g(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),u(e,r,i)):l?(t||(t=new l),f(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=g(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},45714:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n=e=>e.match(t)||[],r=e=>e[0].toUpperCase()+e.slice(1),i=(e,t)=>n(e).join(t).toLowerCase(),a=e=>n(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");e.exports={words:n,upperFirst:r,camelCase:a,pascalCase:e=>r(a(e)),snakeCase:e=>i(e,"_"),kebabCase:e=>i(e,"-"),sentenceCase:e=>r(i(e," ")),titleCase:e=>n(e).map(r).join(" ")}},52555:(e,t,n)=>{"use strict";n.d(t,{c7:()=>xn,CS:()=>Fn});var r=v(),i=e=>g(e,r),a=v();i.write=e=>g(e,a);var o=v();i.onStart=e=>g(e,o);var s=v();i.onFrame=e=>g(e,s);var l=v();i.onFinish=e=>g(e,l);var c=[];i.setTimeout=(e,t)=>{const n=i.now()+t,r=()=>{const e=c.findIndex((e=>e.cancel==r));~e&&c.splice(e,1),f-=~e?1:0},a={time:n,handler:e,cancel:r};return c.splice(u(n),0,a),f+=1,m(),a};var u=e=>~(~c.findIndex((t=>t.time>e))||~c.length);i.cancel=e=>{o.delete(e),s.delete(e),l.delete(e),r.delete(e),a.delete(e)},i.sync=e=>{p=!0,i.batchedUpdates(e),p=!1},i.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,i.onStart(n)}return r.handler=e,r.cancel=()=>{o.delete(n),t=null},r};var d="undefined"!=typeof window?window.requestAnimationFrame:()=>{};i.use=e=>d=e,i.now="undefined"!=typeof performance?()=>performance.now():Date.now,i.batchedUpdates=e=>e(),i.catch=console.error,i.frameLoop="always",i.advance=()=>{"demand"!==i.frameLoop||y()};var h=-1,f=0,p=!1;function g(e,t){p?(t.delete(e),e(0)):(t.add(e),m())}function m(){h<0&&(h=0,"demand"!==i.frameLoop&&d(A))}function A(){~h&&(d(A),i.batchedUpdates(y))}function y(){const e=h;h=i.now();const t=u(h);t&&(b(c.splice(0,t),(e=>e.handler())),f-=t),f?(o.flush(),r.flush(e?Math.min(64,h-e):16.667),s.flush(),a.flush(),l.flush()):h=-1}function v(){let e=new Set,t=e;return{add(n){f+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(f-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,f-=t.size,b(t,(t=>t(n)&&e.add(t))),f+=e.size,t=e)}}}function b(e,t){e.forEach((e=>{try{t(e)}catch(e){i.catch(e)}}))}var x=n(96540),E=Object.defineProperty,w={};function _(){}((e,t)=>{for(var n in t)E(e,n,{get:t[n],enumerable:!0})})(w,{assign:()=>j,colors:()=>D,createStringInterpolator:()=>P,skipAnimation:()=>L,to:()=>R,willAdvance:()=>N});var S={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function I(e,t){if(S.arr(e)){if(!S.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var C=(e,t)=>e.forEach(t);function M(e,t,n){if(S.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var O=e=>S.und(e)?[]:S.arr(e)?e:[e];function T(e,t){if(e.size){const n=Array.from(e);e.clear(),C(n,t)}}var P,R,B=(e,...t)=>T(e,(e=>e(...t))),k=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),D=null,L=!1,N=_,j=e=>{e.to&&(R=e.to),e.now&&(i.now=e.now),void 0!==e.colors&&(D=e.colors),null!=e.skipAnimation&&(L=e.skipAnimation),e.createStringInterpolator&&(P=e.createStringInterpolator),e.requestAnimationFrame&&i.use(e.requestAnimationFrame),e.batchedUpdates&&(i.batchedUpdates=e.batchedUpdates),e.willAdvance&&(N=e.willAdvance),e.frameLoop&&(i.frameLoop=e.frameLoop)},U=new Set,F=[],Q=[],z=0,H={get idle(){return!U.size&&!F.length},start(e){z>e.priority?(U.add(e),i.onStart(G)):(V(e),i(W))},advance:W,sort(e){if(z)i.onFrame((()=>H.sort(e)));else{const t=F.indexOf(e);~t&&(F.splice(t,1),K(e))}},clear(){F=[],U.clear()}};function G(){U.forEach(V),U.clear(),i(W)}function V(e){F.includes(e)||K(e)}function K(e){F.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(F,(t=>t.priority>e.priority)),0,e)}function W(e){const t=Q;for(let n=0;n<F.length;n++){const r=F[n];z=r.priority,r.idle||(N(r),r.advance(e),r.idle||t.push(r))}return z=0,(Q=F).length=0,(F=t).length>0}var q="[-+]?\\d*\\.?\\d+",Y=q+"%";function X(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var J=new RegExp("rgb"+X(q,q,q)),$=new RegExp("rgba"+X(q,q,q,q)),Z=new RegExp("hsl"+X(q,Y,Y)),ee=new RegExp("hsla"+X(q,Y,Y,q)),te=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ne=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,re=/^#([0-9a-fA-F]{6})$/,ie=/^#([0-9a-fA-F]{8})$/;function ae(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oe(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=ae(i,r,e+1/3),o=ae(i,r,e),s=ae(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function se(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function le(e){return(parseFloat(e)%360+360)%360/360}function ce(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ue(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function de(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=re.exec(e))?parseInt(t[1]+"ff",16)>>>0:D&&void 0!==D[e]?D[e]:(t=J.exec(e))?(se(t[1])<<24|se(t[2])<<16|se(t[3])<<8|255)>>>0:(t=$.exec(e))?(se(t[1])<<24|se(t[2])<<16|se(t[3])<<8|ce(t[4]))>>>0:(t=te.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ie.exec(e))?parseInt(t[1],16)>>>0:(t=ne.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Z.exec(e))?(255|oe(le(t[1]),ue(t[2]),ue(t[3])))>>>0:(t=ee.exec(e))?(oe(le(t[1]),ue(t[2]),ue(t[3]))|ce(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;return`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`}var he=(e,t,n)=>{if(S.fun(e))return e;if(S.arr(e))return he({range:e,output:t,extrapolate:n});if(S.str(e.output[0]))return P(e);const r=e,i=r.output,a=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,a);return function(e,t,n,r,i,a,o,s,l){let c=l?l(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,a[t],a[t+1],i[t],i[t+1],l,o,s,r.map)}};var fe=1.70158,pe=1.525*fe,ge=fe+1,me=2*Math.PI/3,Ae=2*Math.PI/4.5,ye=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},ve={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>ge*e*e*e-fe*e*e,easeOutBack:e=>1+ge*Math.pow(e-1,3)+fe*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-pe)/2:(Math.pow(2*e-2,2)*((pe+1)*(2*e-2)+pe)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*me),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*me)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Ae)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Ae)/2+1,easeInBounce:e=>1-ye(1-e),easeOutBounce:ye,easeInOutBounce:e=>e<.5?(1-ye(1-2*e))/2:(1+ye(2*e-1))/2,steps:(e,t="end")=>n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e,i="end"===t?Math.floor(r):Math.ceil(r);return a=0,o=1,s=i/e,Math.min(Math.max(s,a),o);var a,o,s}},be=Symbol.for("FluidValue.get"),xe=Symbol.for("FluidValue.observers"),Ee=e=>Boolean(e&&e[be]),we=e=>e&&e[be]?e[be]():e,_e=e=>e[xe]||null;function Se(e,t){const n=e[xe];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Ie=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Ce(this,e)}},Ce=(e,t)=>Pe(e,be,t);function Me(e,t){if(e[be]){let n=e[xe];n||Pe(e,xe,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Oe(e,t){const n=e[xe];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[xe]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Te,Pe=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Re=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Be=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ke=new RegExp(`(${Re.source})(%|[a-z]+)`,"i"),De=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Le=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ne=e=>{const[t,n]=je(e);if(!t||k())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&Le.test(n)?Ne(n):n||e},je=e=>{const t=Le.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Ue=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,Fe=e=>{Te||(Te=D?new RegExp(`(${Object.keys(D).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>we(e).replace(Le,Ne).replace(Be,de).replace(Te,de))),n=t.map((e=>e.match(Re).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>he({...e,output:t})));return e=>{const n=!ke.test(t[0])&&t.find((e=>ke.test(e)))?.replace(Re,"");let i=0;return t[0].replace(Re,(()=>`${r[i++](e)}${n||""}`)).replace(De,Ue)}},Qe="react-spring: ",ze=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${Qe}once requires a function parameter`);return(...e)=>{n||(t(...e),n=!0)}},He=ze(console.warn);var Ge=ze(console.warn);function Ve(e){return S.str(e)&&("#"==e[0]||/\d/.test(e)||!k()&&Le.test(e)||e in(D||{}))}var Ke=k()?x.useEffect:x.useLayoutEffect,We=()=>{const e=(0,x.useRef)(!1);return Ke((()=>(e.current=!0,()=>{e.current=!1})),[]),e};function qe(){const e=(0,x.useState)()[1],t=We();return()=>{t.current&&e(Math.random())}}var Ye=e=>(0,x.useEffect)(e,Xe),Xe=[];function Je(e){const t=(0,x.useRef)(void 0);return(0,x.useEffect)((()=>{t.current=e})),t.current}var $e=Symbol.for("Animated:node"),Ze=e=>e&&e[$e],et=(e,t)=>{return n=e,r=$e,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},tt=e=>e&&e[$e]&&e[$e].getPayload(),nt=class{constructor(){et(this,this)}getPayload(){return this.payload||[]}},rt=class e extends nt{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,S.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new e(t)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return S.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,S.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},it=class e extends rt{constructor(e){super(0),this._string=null,this._toString=he({output:[e,e]})}static create(t){return new e(t)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(S.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=he({output:[this.getValue(),e]})),this._value=0,super.reset()}},at={dependencies:null},ot=class extends nt{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return M(this.source,((n,r)=>{var i;(i=n)&&i[$e]===i?t[r]=n.getValue(e):Ee(n)?t[r]=we(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&C(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return M(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){at.dependencies&&Ee(e)&&at.dependencies.add(e);const t=tt(e);t&&C(t,(e=>this.add(e)))}},st=class e extends ot{constructor(e){super(e)}static create(t){return new e(t)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(lt)),!0)}};function lt(e){return(Ve(e)?it:rt).create(e)}function ct(e){const t=Ze(e);return t?t.constructor:S.arr(e)?st:Ve(e)?it:rt}var ut=(e,t)=>{const n=!S.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,x.forwardRef)(((r,a)=>{const o=(0,x.useRef)(null),s=n&&(0,x.useCallback)((e=>{o.current=function(e,t){e&&(S.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),[l,c]=function(e,t){const n=new Set;at.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new ot(e),at.dependencies=null,[e,n]}(r,t),u=qe(),d=()=>{const e=o.current;if(n&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&u()},h=new dt(d,c),f=(0,x.useRef)(void 0);Ke((()=>(f.current=h,C(c,(e=>Me(e,h))),()=>{f.current&&(C(f.current.deps,(e=>Oe(e,f.current))),i.cancel(f.current.update))}))),(0,x.useEffect)(d,[]),Ye((()=>()=>{const e=f.current;C(e.deps,(t=>Oe(t,e)))}));const p=t.getComponentProps(l.getValue());return x.createElement(e,{...p,ref:s})}))},dt=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&i.write(this.update)}};var ht=Symbol.for("AnimatedComponent"),ft=e=>S.str(e)?e:e&&S.str(e.displayName)?e.displayName:S.fun(e)&&e.name||null;function pt(e,...t){return S.fun(e)?e(...t):e}var gt=(e,t)=>!0===e||!!(t&&e&&(S.fun(e)?e(t):O(e).includes(t))),mt=(e,t)=>S.obj(e)?t&&e[t]:e,At=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,yt=e=>e,vt=(e,t=yt)=>{let n=bt;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const n=t(e[i],i);S.und(n)||(r[i]=n)}return r},bt=["config","onProps","onStart","onChange","onPause","onResume","onRest"],xt={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Et(e){const t=function(e){const t={};let n=0;if(M(e,((e,r)=>{xt[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return M(e,((e,r)=>r in t||(n[r]=e))),n}return{...e}}function wt(e){return e=we(e),S.arr(e)?e.map(wt):Ve(e)?w.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function _t(e){for(const t in e)return!0;return!1}function St(e){return S.fun(e)||S.arr(e)&&S.obj(e[0])}function It(e,t){e.ref?.delete(e),t?.delete(e)}function Ct(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var Mt={tension:170,friction:26,mass:1,damping:1,easing:ve.linear,clamp:!1},Ot=class{constructor(){this.velocity=0,Object.assign(this,Mt)}};function Tt(e,t){if(S.und(t.decay)){const n=!S.und(t.tension)||!S.und(t.friction);!n&&S.und(t.frequency)&&S.und(t.damping)&&S.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Pt=[],Rt=class{constructor(){this.changed=!1,this.values=Pt,this.toValues=null,this.fromValues=Pt,this.config=new Ot,this.immediate=!1}};function Bt(e,{key:t,props:n,defaultProps:r,state:a,actions:o}){return new Promise(((s,l)=>{let c,u,d=gt(n.cancel??r?.cancel,t);if(d)p();else{S.und(n.pause)||(a.paused=gt(n.pause,t));let e=r?.pause;!0!==e&&(e=a.paused||gt(e,t)),c=pt(n.delay||0,t),e?(a.resumeQueue.add(f),o.pause()):(o.resume(),f())}function h(){a.resumeQueue.add(f),a.timeouts.delete(u),u.cancel(),c=u.time-i.now()}function f(){c>0&&!w.skipAnimation?(a.delayed=!0,u=i.setTimeout(p,c),a.pauseQueue.add(h),a.timeouts.add(u)):p()}function p(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(h),a.timeouts.delete(u),e<=(a.cancelId||0)&&(d=!0);try{o.start({...n,callId:e,cancel:d},s)}catch(e){l(e)}}}))}var kt=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?Nt(e.get()):t.every((e=>e.noop))?Dt(e.get()):Lt(e.get(),t.every((e=>e.finished))),Dt=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Lt=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Nt=e=>({value:e,cancelled:!0,finished:!1});function jt(e,t,n,r){const{callId:a,parentId:o,onRest:s}=t,{asyncTo:l,promise:c}=n;return o||e!==l||t.reset?n.promise=(async()=>{n.asyncId=a,n.asyncTo=e;const u=vt(t,((e,t)=>"onRest"===t?void 0:e));let d,h;const f=new Promise(((e,t)=>(d=e,h=t))),p=e=>{const t=a<=(n.cancelId||0)&&Nt(r)||a!==n.asyncId&&Lt(r,!1);if(t)throw e.result=t,h(e),e},g=(e,t)=>{const i=new Ft,o=new Qt;return(async()=>{if(w.skipAnimation)throw Ut(n),o.result=Lt(r,!1),h(o),o;p(i);const s=S.obj(e)?{...e}:{...t,to:e};s.parentId=a,M(u,((e,t)=>{S.und(s[t])&&(s[t]=e)}));const l=await r.start(s);return p(i),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let m;if(w.skipAnimation)return Ut(n),Lt(r,!1);try{let t;t=S.arr(e)?(async e=>{for(const t of e)await g(t)})(e):Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([t.then(d),f]),m=Lt(r.get(),!0,!1)}catch(e){if(e instanceof Ft)m=e.result;else{if(!(e instanceof Qt))throw e;m=e.result}}finally{a==n.asyncId&&(n.asyncId=o,n.asyncTo=o?l:void 0,n.promise=o?c:void 0)}return S.fun(s)&&i.batchedUpdates((()=>{s(m,r,r.item)})),m})():c}function Ut(e,t){T(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Ft=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Qt=class extends Error{constructor(){super("SkipAnimationSignal")}},zt=e=>e instanceof Gt,Ht=1,Gt=class extends Ie{constructor(){super(...arguments),this.id=Ht++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Ze(this);return e&&e.getValue()}to(...e){return w.to(this,e)}interpolate(...e){return He(`${Qe}The "interpolate" function is deprecated in v9 (use "to" instead)`),w.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Se(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||H.sort(this),Se(this,{type:"priority",parent:this,priority:e})}},Vt=Symbol.for("SpringPhase"),Kt=e=>(1&e[Vt])>0,Wt=e=>(2&e[Vt])>0,qt=e=>(4&e[Vt])>0,Yt=(e,t)=>t?e[Vt]|=3:e[Vt]&=-3,Xt=(e,t)=>t?e[Vt]|=4:e[Vt]&=-5,Jt=class extends Gt{constructor(e,t){if(super(),this.animation=new Rt,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!S.und(e)||!S.und(t)){const n=S.obj(e)?{...e}:{...t,from:e};S.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Wt(this)||this._state.asyncTo)||qt(this)}get goal(){return we(this.animation.to)}get velocity(){const e=Ze(this);return e instanceof rt?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return Kt(this)}get isAnimating(){return Wt(this)}get isPaused(){return qt(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:a}=r,o=tt(r.to);!o&&Ee(r.to)&&(i=O(we(r.to))),r.values.forEach(((s,l)=>{if(s.done)return;const c=s.constructor==it?1:o?o[l].lastPosition:i[l];let u=r.immediate,d=c;if(!u){if(d=s.lastPosition,a.tension<=0)return void(s.done=!0);let t=s.elapsedTime+=e;const n=r.fromValues[l],i=null!=s.v0?s.v0:s.v0=S.arr(a.velocity)?a.velocity[l]:a.velocity;let o;const h=a.precision||(n==c?.005:Math.min(1,.001*Math.abs(c-n)));if(S.und(a.duration))if(a.decay){const e=!0===a.decay?.998:a.decay,r=Math.exp(-(1-e)*t);d=n+i/(1-e)*(1-r),u=Math.abs(s.lastPosition-d)<=h,o=i*r}else{o=null==s.lastVelocity?i:s.lastVelocity;const t=a.restVelocity||h/10,r=a.clamp?0:a.bounce,l=!S.und(r),f=n==c?s.v0>0:n<c;let p,g=!1;const m=1,A=Math.ceil(e/m);for(let e=0;e<A&&(p=Math.abs(o)>t,p||(u=Math.abs(c-d)<=h,!u));++e){l&&(g=d==c||d>c==f,g&&(o=-o*r,d=c));o+=(1e-6*-a.tension*(d-c)+.001*-a.friction*o)/a.mass*m,d+=o*m}}else{let r=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,s.durationProgress>0&&(s.elapsedTime=a.duration*s.durationProgress,t=s.elapsedTime+=e)),r=(a.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,s.durationProgress=r),d=n+a.easing(r)*(c-n),o=(d-s.lastPosition)/e,u=1==r}s.lastVelocity=o,Number.isNaN(d)&&(u=!0)}o&&!o[l].done&&(u=!1),u?s.done=!0:t=!1,s.setValue(d,a.round)&&(n=!0)}));const s=Ze(this),l=s.getValue();if(t){const e=we(r.to);l===e&&!n||a.decay?n&&a.decay&&this._onChange(l):(s.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return i.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Wt(this)){const{to:e,config:t}=this.animation;i.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return S.und(e)?(n=this.queue||[],this.queue=[]):n=[S.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>kt(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Ut(this._state,e&&this._lastCallId),i.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=S.obj(n)?n[t]:n,(null==n||St(n))&&(n=void 0),r=S.obj(r)?r[t]:r,null==r&&(r=void 0);const i={to:n,from:r};return Kt(this)||(e.reverse&&([n,r]=[r,n]),r=we(r),S.und(r)?Ze(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,vt(e,((e,t)=>/^on/.test(t)?mt(e,n):e))),an(this,e,"onProps"),on(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Bt(++this._lastCallId,{key:n,props:e,defaultProps:r,state:a,actions:{pause:()=>{qt(this)||(Xt(this,!0),B(a.pauseQueue),on(this,"onPause",Lt(this,$t(this,this.animation.to)),this))},resume:()=>{qt(this)&&(Xt(this,!1),Wt(this)&&this._resume(),B(a.resumeQueue),on(this,"onResume",Lt(this,$t(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then((n=>{if(e.loop&&n.finished&&(!t||!n.noop)){const t=Zt(e);if(t)return this._update(t,!0)}return n}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Nt(this));const r=!S.und(e.to),a=!S.und(e.from);if(r||a){if(!(t.callId>this._lastToId))return n(Nt(this));this._lastToId=t.callId}const{key:o,defaultProps:s,animation:l}=this,{to:c,from:u}=l;let{to:d=c,from:h=u}=e;!a||r||t.default&&!S.und(d)||(d=h),t.reverse&&([d,h]=[h,d]);const f=!I(h,u);f&&(l.from=h),h=we(h);const p=!I(d,c);p&&this._focus(d);const g=St(t.to),{config:m}=l,{decay:A,velocity:y}=m;(r||a)&&(m.velocity=0),t.config&&!g&&function(e,t,n){n&&(Tt(n={...n},t),t={...n,...t}),Tt(e,t),Object.assign(e,t);for(const t in Mt)null==e[t]&&(e[t]=Mt[t]);let{frequency:r,damping:i}=e;const{mass:a}=e;S.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*a,e.friction=4*Math.PI*i*a/r)}(m,pt(t.config,o),t.config!==s.config?pt(s.config,o):void 0);let v=Ze(this);if(!v||S.und(d))return n(Lt(this,!0));const b=S.und(t.reset)?a&&!t.default:!S.und(h)&&gt(t.reset,o),x=b?h:this.get(),E=wt(d),w=S.num(E)||S.arr(E)||Ve(E),_=!g&&(!w||gt(s.immediate||t.immediate,o));if(p){const e=ct(d);if(e!==v.constructor){if(!_)throw Error(`Cannot animate between ${v.constructor.name} and ${e.name}, as the "to" prop suggests`);v=this._set(E)}}const M=v.constructor;let T=Ee(d),P=!1;if(!T){const e=b||!Kt(this)&&f;(p||e)&&(P=I(wt(x),E),T=!P),(I(l.immediate,_)||_)&&I(m.decay,A)&&I(m.velocity,y)||(T=!0)}if(P&&Wt(this)&&(l.changed&&!b?T=!0:T||this._stop(c)),!g&&((T||Ee(c))&&(l.values=v.getPayload(),l.toValues=Ee(d)?null:M==it?[1]:O(E)),l.immediate!=_&&(l.immediate=_,_||b||this._set(c)),T)){const{onRest:e}=l;C(rn,(e=>an(this,t,e)));const r=Lt(this,$t(this,c));B(this._pendingCalls,r),this._pendingCalls.add(n),l.changed&&i.batchedUpdates((()=>{l.changed=!b,e?.(r,this),b?pt(s.onRest,r):l.onStart?.(r,this)}))}b&&this._set(x),g?n(jt(t.to,t,this._state,this)):T?this._start():Wt(this)&&!p?this._pendingCalls.add(n):n(Dt(x))}_focus(e){const t=this.animation;e!==t.to&&(_e(this)&&this._detach(),t.to=e,_e(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Ee(t)&&(Me(t,this),zt(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Ee(e)&&Oe(e,this)}_set(e,t=!0){const n=we(e);if(!S.und(n)){const e=Ze(this);if(!e||!I(n,e.getValue())){const r=ct(n);e&&e.constructor==r?e.setValue(n):et(this,r.create(n)),e&&i.batchedUpdates((()=>{this._onChange(n,t)}))}}return Ze(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,on(this,"onStart",Lt(this,$t(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),pt(this.animation.onChange,e,this)),pt(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Ze(this).reset(we(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),Wt(this)||(Yt(this,!0),qt(this)||this._resume())}_resume(){w.skipAnimation?this.finish():H.start(this)}_stop(e,t){if(Wt(this)){Yt(this,!1);const n=this.animation;C(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Se(this,{type:"idle",parent:this});const r=t?Nt(this.get()):Lt(this.get(),$t(this,e??n.to));B(this._pendingCalls,r),n.changed&&(n.changed=!1,on(this,"onRest",r,this))}}};function $t(e,t){const n=wt(t);return I(wt(e.get()),n)}function Zt(e,t=e.loop,n=e.to){const r=pt(t);if(r){const i=!0!==r&&Et(r),a=(i||e).reverse,o=!i||i.reset;return en({...e,loop:t,default:!1,pause:void 0,to:!a||St(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function en(e){const{to:t,from:n}=e=Et(e),r=new Set;return S.obj(t)&&nn(t,r),S.obj(n)&&nn(n,r),e.keys=r.size?Array.from(r):null,e}function tn(e){const t=en(e);return S.und(t.default)&&(t.default=vt(t)),t}function nn(e,t){M(e,((e,n)=>null!=e&&t.add(n)))}var rn=["onStart","onRest","onChange","onPause","onResume"];function an(e,t,n){e.animation[n]=t[n]!==At(t,n)?mt(t[n],e.key):void 0}function on(e,t,...n){e.animation[t]?.(...n),e.defaultProps[t]?.(...n)}var sn=["onStart","onChange","onRest"],ln=1,cn=class{constructor(e,t){this.id=ln++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];S.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(en(e)),this}start(e){let{queue:t}=this;return e?t=O(e).map(en):this.queue=[],this._flush?this._flush(this,t):(mn(this,t),un(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;C(O(t),(t=>n[t].stop(!!e)))}else Ut(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(S.und(e))this.start({pause:!0});else{const t=this.springs;C(O(e),(e=>t[e].pause()))}return this}resume(e){if(S.und(e))this.start({pause:!1});else{const t=this.springs;C(O(e),(e=>t[e].resume()))}return this}each(e){M(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,T(e,(([e,t])=>{t.value=this.get(),e(t,this,this._item)})));const a=!r&&this._started,o=i||a&&n.size?this.get():null;i&&t.size&&T(t,(([e,t])=>{t.value=o,e(t,this,this._item)})),a&&(this._started=!1,T(n,(([e,t])=>{t.value=o,e(t,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}i.onFrame(this._onFrame)}};function un(e,t){return Promise.all(t.map((t=>dn(e,t)))).then((t=>kt(e,t)))}async function dn(e,t,n){const{keys:r,to:a,from:o,loop:s,onRest:l,onResolve:c}=t,u=S.obj(t.default)&&t.default;s&&(t.loop=!1),!1===a&&(t.to=null),!1===o&&(t.from=null);const d=S.arr(a)||S.fun(a)?a:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):C(sn,(n=>{const r=t[n];if(S.fun(r)){const i=e._events[n];t[n]=({finished:e,cancelled:t})=>{const n=i.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):i.set(r,{value:null,finished:e||!1,cancelled:t||!1})},u&&(u[n]=t[n])}}));const h=e._state;t.pause===!h.paused?(h.paused=t.pause,B(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const f=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),p=!0===t.cancel||!0===At(t,"cancel");(d||p&&h.asyncId)&&f.push(Bt(++e._lastAsyncId,{props:t,state:h,actions:{pause:_,resume:_,start(t,n){p?(Ut(h,e._lastAsyncId),n(Nt(e))):(t.onRest=l,n(jt(d,t,h,e)))}}})),h.paused&&await new Promise((e=>{h.resumeQueue.add(e)}));const g=kt(e,await Promise.all(f));if(s&&g.finished&&(!n||!g.noop)){const n=Zt(t,s,a);if(n)return mn(e,[n]),dn(e,n,!0)}return c&&i.batchedUpdates((()=>c(g,e,e.item))),g}function hn(e,t){const n={...e.springs};return t&&C(O(t),(e=>{S.und(e.keys)&&(e=en(e)),S.obj(e.to)||(e={...e,to:void 0}),gn(n,e,(e=>pn(e)))})),fn(e,n),n}function fn(e,t){M(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,Me(t,e))}))}function pn(e,t){const n=new Jt;return n.key=e,t&&Me(n,t),n}function gn(e,t,n){t.keys&&C(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function mn(e,t){C(t,(t=>{gn(e.springs,t,(t=>pn(t,e)))}))}var An=x.createContext({pause:!1,immediate:!1}),yn=()=>{const e=[],t=function(t){Ge(`${Qe}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return C(e,((e,i)=>{if(S.und(t))r.push(e.start());else{const a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return C(e,(e=>e.pause(...arguments))),this},t.resume=function(){return C(e,(e=>e.resume(...arguments))),this},t.set=function(t){C(e,((e,n)=>{const r=S.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){const n=[];return C(e,((e,r)=>{if(S.und(t))n.push(e.start());else{const i=this._getProps(t,e,r);i&&n.push(e.start(i))}})),n},t.stop=function(){return C(e,(e=>e.stop(...arguments))),this},t.update=function(t){return C(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return S.fun(e)?e(n,t):e};return t._getProps=n,t};function vn(e,t,n){const r=S.fun(t)&&t;r&&!n&&(n=[]);const i=(0,x.useMemo)((()=>r||3==arguments.length?yn():void 0),[]),a=(0,x.useRef)(0),o=qe(),s=(0,x.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=hn(e,t);return a.current>0&&!s.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?un(e,t):new Promise((r=>{fn(e,n),s.queue.push((()=>{r(un(e,t))})),o()}))}})),[]),l=(0,x.useRef)([...s.ctrls]),c=(0,x.useRef)([]),u=Je(e)||0;function d(e,n){for(let i=e;i<n;i++){const e=l.current[i]||(l.current[i]=new cn(null,s.flush)),n=r?r(i,e):t[i];n&&(c.current[i]=tn(n))}}(0,x.useMemo)((()=>{C(l.current.slice(e,u),(e=>{It(e,i),e.stop(!0)})),l.current.length=e,d(u,e)}),[e]),(0,x.useMemo)((()=>{d(0,Math.min(u,e))}),n);const h=l.current.map(((e,t)=>hn(e,c.current[t]))),f=(0,x.useContext)(An),p=Je(f),g=f!==p&&_t(f);Ke((()=>{a.current++,s.ctrls=l.current;const{queue:e}=s;e.length&&(s.queue=[],C(e,(e=>e()))),C(l.current,((e,t)=>{i?.add(e),g&&e.start({default:f});const n=c.current[t];n&&(Ct(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Ye((()=>()=>{C(s.ctrls,(e=>e.stop(!0)))}));const m=h.map((e=>({...e})));return i?[m,i]:m}function bn(e,t){const n=S.fun(e),[[r],i]=vn(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}function xn({children:e,...t}){return e(bn(t))}var En=class extends Gt{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=he(...t);const n=this._get(),r=ct(n);et(this,r.create(n))}advance(e){const t=this._get();I(t,this.get())||(Ze(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&_n(this._active)&&Sn(this)}_get(){const e=S.arr(this.source)?this.source.map(we):O(we(this.source));return this.calc(...e)}_start(){this.idle&&!_n(this._active)&&(this.idle=!1,C(tt(this),(e=>{e.done=!1})),w.skipAnimation?(i.batchedUpdates((()=>this.advance())),Sn(this)):H.start(this))}_attach(){let e=1;C(O(this.source),(t=>{Ee(t)&&Me(t,this),zt(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){C(O(this.source),(e=>{Ee(e)&&Oe(e,this)})),this._active.clear(),Sn(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=O(this.source).reduce(((e,t)=>Math.max(e,(zt(t)?t.priority:0)+1)),0))}};function wn(e){return!1!==e.idle}function _n(e){return!e.size||Array.from(e).every(wn)}function Sn(e){e.idle||(e.idle=!0,C(tt(e),(e=>{e.done=!0})),Se(e,{type:"idle",parent:e}))}w.assign({createStringInterpolator:Fe,to:(e,t)=>new En(e,t)});H.advance;var In=n(40961),Cn=/^--/;function Mn(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||Cn.test(e)||Tn.hasOwnProperty(e)&&Tn[e]?(""+t).trim():t+"px"}var On={};var Tn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pn=["Webkit","Ms","Moz","O"];Tn=Object.keys(Tn).reduce(((e,t)=>(Pn.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),Tn);var Rn=/^(matrix|translate|scale|rotate|skew)/,Bn=/^(translate)/,kn=/^(rotate|skew)/,Dn=(e,t)=>S.num(e)&&0!==e?e+t:e,Ln=(e,t)=>S.arr(e)?e.every((e=>Ln(e,t))):S.num(e)?e===t:parseFloat(e)===t,Nn=class extends ot{constructor({x:e,y:t,z:n,...r}){const i=[],a=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),a.push((e=>[`translate3d(${e.map((e=>Dn(e,"px"))).join(",")})`,Ln(e,0)]))),M(r,((e,t)=>{if("transform"===t)i.push([e||""]),a.push((e=>[e,""===e]));else if(Rn.test(t)){if(delete r[t],S.und(e))return;const n=Bn.test(t)?"px":kn.test(t)?"deg":"";i.push(O(e)),a.push("rotate3d"===t?([e,t,r,i])=>[`rotate3d(${e},${t},${r},${Dn(i,n)})`,Ln(i,0)]:e=>[`${t}(${e.map((e=>Dn(e,n))).join(",")})`,Ln(e,t.startsWith("scale")?1:0)])}})),i.length&&(r.transform=new jn(i,a)),super(r)}},jn=class extends Ie{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return C(this.inputs,((n,r)=>{const i=we(n[0]),[a,o]=this.transforms[r](S.arr(i)?i:n.map(we));e+=" "+a,t=t&&o})),t?"none":e}observerAdded(e){1==e&&C(this.inputs,(e=>C(e,(e=>Ee(e)&&Me(e,this)))))}observerRemoved(e){0==e&&C(this.inputs,(e=>C(e,(e=>Ee(e)&&Oe(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),Se(this,e)}};w.assign({batchedUpdates:In.unstable_batchedUpdates,createStringInterpolator:Fe,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Un=((e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new ot(e)),getComponentProps:r=(e=>e)}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},a=e=>{const t=ft(e)||"Anonymous";return(e=S.str(e)?a[e]||(a[e]=ut(e,i)):e[ht]||(e[ht]=ut(e,i))).displayName=`Animated(${t})`,e};return M(e,((t,n)=>{S.arr(e)&&(n=ft(t)),a[n]=a(t)})),{animated:a}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{className:r,style:i,children:a,scrollTop:o,scrollLeft:s,viewBox:l,...c}=t,u=Object.values(c),d=Object.keys(c).map((t=>n||e.hasAttribute(t)?t:On[t]||(On[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==a&&(e.textContent=a);for(const t in i)if(i.hasOwnProperty(t)){const n=Mn(t,i[t]);Cn.test(t)?e.style.setProperty(t,n):e.style[t]=n}d.forEach(((t,n)=>{e.setAttribute(t,u[n])})),void 0!==r&&(e.className=r),void 0!==o&&(e.scrollTop=o),void 0!==s&&(e.scrollLeft=s),void 0!==l&&e.setAttribute("viewBox",l)},createAnimatedStyle:e=>new Nn(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Fn=Un.animated},84757:(e,t,n)=>{"use strict";n.d(t,{c:()=>ne});var r=n(58030),i=n(94329),a=n(21454),o=n(43238),s=n(5429),l=n(4976);function c(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function u(e,...t){if(!c(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function d(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>"string"===typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function h(e){if("function"!==typeof e)throw new Error("function expected");return!0}function f(e,t){if("string"!==typeof t)throw new Error(`${e}: string expected`);return!0}function p(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function g(e){if(!Array.isArray(e))throw new Error("array expected")}function m(e,t){if(!d(!0,t))throw new Error(`${e}: array of strings expected`)}function A(e,t){if(!d(!1,t))throw new Error(`${e}: array of numbers expected`)}function y(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map((e=>e.encode)).reduceRight(n,t),decode:e.map((e=>e.decode)).reduce(n,t)}}function v(e){const t="string"===typeof e?e.split(""):e,n=t.length;m("alphabet",t);const r=new Map(t.map(((e,t)=>[e,t])));return{encode:r=>(g(r),r.map((r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]}))),decode:t=>(g(t),t.map((t=>{f("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n})))}}function b(e=""){return f("join",e),{encode:t=>(m("join.decode",t),t.join(e)),decode:t=>(f("join.decode",t),t.split(e))}}function x(e,t="="){return p(e),f("padding",t),{encode(n){for(m("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){m("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--){if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding")}return n.slice(0,r)}}}function E(e){return h(e),{encode:e=>e,decode:t=>e(t)}}function w(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(g(e),!e.length)return[];let r=0;const i=[],a=Array.from(e,(e=>{if(p(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e})),o=a.length;for(;;){let e=0,s=!0;for(let i=r;i<o;i++){const o=a[i],l=t*e,c=l+o;if(!Number.isSafeInteger(c)||l/t!==e||c-o!==l)throw new Error("convertRadix: carry overflow");const u=c/n;e=c%n;const d=Math.floor(u);if(a[i]=d,!Number.isSafeInteger(d)||d*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(d?s=!1:r=i)}if(i.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}const _=(e,t)=>0===t?e:_(t,e%t),S=(e,t)=>e+(t-_(e,t)),I=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function C(e,t,n,r){if(g(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(S(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${S(t,n)}`);let i=0,a=0;const o=I[t],s=I[n]-1,l=[];for(const r of e){if(p(r),r>=o)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,a+t>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=n;a-=n)l.push((i>>a-n&s)>>>0);const e=I[a];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<n-a&s,!r&&a>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&a>0&&l.push(i>>>0),l}function M(e){p(e);return{encode:t=>{if(!c(t))throw new Error("radix.encode input should be Uint8Array");return w(Array.from(t),256,e)},decode:t=>(A("radix.decode",t),Uint8Array.from(w(t,e,256)))}}function O(e,t=!1){if(p(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(S(8,e)>32||S(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!c(n))throw new Error("radix2.encode input should be Uint8Array");return C(Array.from(n),8,e,!t)},decode:n=>(A("radix2.decode",n),Uint8Array.from(C(n,e,8,t)))}}function T(e){return h(e),function(...t){try{return e.apply(null,t)}catch(e){}}}function P(e,t){return p(e),h(t),{encode(n){if(!c(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!c(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=n.slice(-e),a=t(r).slice(0,e);for(let t=0;t<e;t++)if(a[t]!==i[t])throw new Error("Invalid checksum");return r}}}const R=y(O(4),v("0123456789ABCDEF"),b("")),B=y(O(5),v("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),x(5),b("")),k=(y(O(5),v("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),b("")),y(O(5),v("0123456789ABCDEFGHIJKLMNOPQRSTUV"),x(5),b("")),y(O(5),v("0123456789ABCDEFGHIJKLMNOPQRSTUV"),b("")),y(O(5),v("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),b(""),E((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),(()=>"function"===typeof Uint8Array.from([]).toBase64&&"function"===typeof Uint8Array.fromBase64)()),D=(e,t)=>{f("base64",e);const n=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,r=t?"base64url":"base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},L=k?{encode:e=>(u(e),e.toBase64()),decode:e=>D(e,!1)}:y(O(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),x(6),b("")),N=(y(O(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),b("")),k?{encode:e=>(u(e),e.toBase64({alphabet:"base64url"})),decode:e=>D(e,!0)}:y(O(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),x(6),b(""))),j=(y(O(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),b("")),e=>y(M(58),v(e),b(""))),U=j("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),F=(j("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),j("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),[0,2,3,5,6,7,9,10,11]),Q={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=U.encode(r).padStart(F[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=F.indexOf(r.length),a=U.decode(r);for(let e=0;e<a.length-i;e++)if(0!==a[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(a.slice(a.length-i)))}return Uint8Array.from(t)}},z=e=>y(P(4,(t=>e(e(t)))),U),H=y(v("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),b("")),G=[996825010,642813549,513874426,1027748829,705979059];function V(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<G.length;e++)1===(t>>e&1)&&(n^=G[e]);return n}function K(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=V(i)^n>>5}i=V(i);for(let t=0;t<r;t++)i=V(i)^31&e.charCodeAt(t);for(let e of t)i=V(i)^e;for(let e=0;e<6;e++)i=V(i);return i^=n,H.encode(C([i%I[30]],30,5,!1))}function W(e){const t="bech32"===e?1:734539939,n=O(5),r=n.decode,i=n.encode,a=T(r);function o(e,n,r=90){f("bech32.encode prefix",e),c(n)&&(n=Array.from(n)),A("bech32.encode",n);const i=e.length;if(0===i)throw new TypeError(`Invalid prefix length ${i}`);const a=i+7+n.length;if(!1!==r&&a>r)throw new TypeError(`Length ${a} exceeds limit ${r}`);const o=e.toLowerCase(),s=K(o,n,t);return`${o}1${H.encode(n)}${s}`}function s(e,n=90){f("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError(`invalid string length: ${r} (${e}). Expected (8..${n})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const a=i.lastIndexOf("1");if(0===a||-1===a)throw new Error('Letter "1" must be present between prefix and data only');const o=i.slice(0,a),s=i.slice(a+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const l=H.decode(s).slice(0,-6),c=K(o,l,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:l}}return{encode:o,decode:s,encodeFromBytes:function(e,t){return o(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:T(s),fromWords:r,fromWordsUnsafe:a,toWords:i}}W("bech32"),W("bech32m");const q={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},Y=((()=>"function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex)()||y(O(4),v("0123456789abcdef"),b(""),E((e=>{if("string"!==typeof e||e.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),i.secp256k1.ProjectivePoint),X=z(s.sc);function J(e){(0,l.DO)(e);const t=0===e.length?"0":(0,l.My)(e);return BigInt("0x"+t)}const $=(0,l.AI)("Bitcoin seed"),Z={private:76066276,public:76067358},ee=2147483648,te=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error("invalid number, should be from 0 to 2**32-1, got "+e);const t=new Uint8Array(4);return(0,l.O8)(t).setUint32(0,e,!1),t};class ne{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,(0,l.O8)(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return X.encode(this.serialize(this.versions.private,(0,l.Id)(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return X.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=Z){if((0,l.DO)(e),8*e.length<128||8*e.length>512)throw new Error("HDKey: seed length must be between 128 and 512 bits; 256 bits is advised, got "+e.length);const n=(0,a.w)(s.Zf,$,e);return new ne({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,t=Z){const n=X.decode(e),r=(0,l.O8)(n),i=r.getUint32(0,!1),a={versions:t,depth:n[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:n.slice(13,45)},o=n.slice(45),s=0===o[0];if(i!==t[s?"private":"public"])throw new Error("Version mismatch");return new ne(s?{...a,privateKey:o.slice(1)}:{...a,publicKey:o})}static fromJSON(e){return ne.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!==typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||Z,this.depth=e.depth||0,this.chainCode=e.chainCode||null,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!i.secp256k1.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"===typeof e.privateKey?e.privateKey:J(e.privateKey),this.privKeyBytes=function(e){if("bigint"!==typeof e)throw new Error("bigint expected");return(0,l.aT)(e.toString(16).padStart(64,"0"))}(this.privKey),this.pubKey=i.secp256k1.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=Y.fromHex(e.publicKey).toRawBytes(!0)}var t;this.pubHash=(t=this.pubKey,(0,o.HE)((0,s.sc)(t)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e),r=t&&t[1];if(!t||3!==t.length||"string"!==typeof r)throw new Error("invalid child index: "+e);let i=+r;if(!Number.isSafeInteger(i)||i>=ee)throw new Error("Invalid index");"'"===t[2]&&(i+=ee),n=n.deriveChild(i)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=te(e);if(e>=ee){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=(0,l.Id)(new Uint8Array([0]),e,t)}else t=(0,l.Id)(this.pubKey,t);const n=(0,a.w)(s.Zf,this.chainCode,t),o=J(n.slice(0,32)),c=n.slice(32);if(!i.secp256k1.utils.isValidPrivateKey(o))throw new Error("Tweak bigger than curve order");const u={versions:this.versions,chainCode:c,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=(0,r.zi)(this.privKey+o,i.secp256k1.CURVE.n);if(!i.secp256k1.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");u.privateKey=e}else{const e=Y.fromHex(this.pubKey).add(Y.fromPrivateKey(o));if(e.equals(Y.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");u.publicKey=e.toRawBytes(!0)}return new ne(u)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return(0,l.DO)(e,32),i.secp256k1.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if((0,l.DO)(e,32),(0,l.DO)(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=i.secp256k1.Signature.fromCompact(t)}catch(e){return!1}return i.secp256k1.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return(0,l.DO)(t,33),(0,l.Id)(te(e),new Uint8Array([this.depth]),te(this.parentFingerprint),te(this.index),this.chainCode,t)}}},86151:(e,t,n)=>{"use strict";n.d(t,{$e:()=>I,My:()=>_,Wy:()=>C,wN:()=>E});var r=n(60346),i=n(26557),a=n(22427),o=n(98503),s=n(29873),l=n(31277),c=(n(48990),n(87135),"An unknown error occurred"),u=class extends Error{constructor(e,t,n){super(e),this.code=t,this.originalError=n,Object.setPrototypeOf(this,new.target.prototype)}},d=class{handleError(e,t){const n=this.ERROR_MESSAGES[e];if(t instanceof u||!n||!e)throw t;if(t instanceof Error){const n=Object.entries(this.ORIGINAL_ERROR_MESSAGES).find((([e])=>t.message.includes(e)))?.[1],r=n||this.ERROR_MESSAGES[e]||c;throw new u(r,String(e),t)}throw new u(c,"UNKNOWN_ERROR")}throwError(e,...t){let n=this.ERROR_MESSAGES[e];if(t.forEach(((e,t)=>{n=n?.replace(`{${t}}`,e)})),!n)throw new u(c,"UNKNOWN_ERROR");throw new u(n,String(e))}isValidURL(e){let t;try{t=new URL(e)}catch{return!1}return"http:"===t.protocol||"https:"===t.protocol}},h=(BigInt(22e4),{mainnet:{addressContractAccounting:"0x7a7f0b3c23C23a31cFcb0c44709be70d4D545c6e",addressContractPool:"0xD523794C879D9eC028960a231F866758e405bE34",addressContractWithdrawTreasury:"0x19449f0f696703Aa3b1485DfA2d855F33659397a",rpcUrl:"https://mainnet.infura.io/v3/f583d4f04d384b9e8c59a7ff1c9f68f1"},holesky:{addressContractAccounting:"0x624087DD1904ab122A32878Ce9e933C7071F53B9",addressContractPool:"0xAFA848357154a6a624686b348303EF9a13F63264",addressContractWithdrawTreasury:"0x66cb3AeD024740164EBcF04e292dB09b5B63A2e1",rpcUrl:"https://ethereum-holesky.publicnode.com"},hoodi:{addressContractAccounting:"0x6Cf2F03804b171ef9CAFC71e302CA0e08A3FDC28",addressContractPool:"0x7967AcFc9EB46cA2d20076B61B05e224F2d0B8b3",addressContractWithdrawTreasury:"0xCDd543223b6ef6CE26E7f80F7837c5C1A88aF683",rpcUrl:"https://ethereum-hoodi-rpc.publicnode.com"}}),f=BigInt(22e4),p=65535,g=new r.A("100000000000000000"),m="0xca11bde05977b3631167028862be2a173976ca11",A=[{inputs:[{internalType:"string",name:"field",type:"string"}],name:"InvalidParam",type:"error"},{inputs:[{internalType:"string",name:"field",type:"string"}],name:"InvalidValue",type:"error"},{inputs:[{internalType:"string",name:"field",type:"string"}],name:"ZeroValue",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"round",type:"uint256"}],name:"ActivateRound",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"staker",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"AddWithdrawRequest",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Autocompound",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256",name:"",type:"int256"}],name:"ChangeExpectValidatorsToStop",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"ClaimPoolFee",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"staker",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"ClaimWithdrawRequest",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"staker",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"DepositPending",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newFee",type:"uint256"}],name:"FeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldGovernor",type:"address"},{indexed:!1,internalType:"address",name:"newGovernor",type:"address"}],name:"GovernorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"staker",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"InterchangeDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"staker",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"InterchangeWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"superAdmin",type:"address"}],name:"SetSuperAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"rewarderBalance",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"Update",type:"event"},{inputs:[],name:"BEACON_AMOUNT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"governor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"value",type:"address"}],name:"setSuperAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"superAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolFee",type:"uint256"},{internalType:"address",name:"rewardsTreasury",type:"address"},{internalType:"address",name:"withdrawTreasury",type:"address"},{internalType:"address",name:"accountingGovernor",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"depositToPendingValue",type:"uint256"}],name:"deposit",outputs:[{internalType:"uint256",name:"interchangedAmount",type:"uint256"},{internalType:"uint256",name:"activatedSlots",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingDepositedBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"autocompoundBalanceOf",outputs:[{internalType:"uint256",name:"autocompoundBalance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"depositedBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"pendingDepositedBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"pendingBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawPending",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"staker",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"withdrawFromPendingAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimPoolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPoolFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"update",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"feeValue",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"autocompound",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pendingRestakedRewards",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"pendingRestakedRewardOf",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"restakedRewardOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawRequestQueueParams",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"staker",type:"address"}],name:"withdrawRequest",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimWithdrawRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"readyforAutocompoundRewardsAmount",outputs:[{internalType:"uint256",name:"unclaimedReward",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"closeValidatorsStat",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"stakeAmount",type:"uint256"}],name:"setMinRestakeAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"activatedValidatorNum",type:"uint256"}],name:"activateValidators",outputs:[],stateMutability:"nonpayable",type:"function"}],y=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"string",name:"field",type:"string"}],name:"InvalidAmount",type:"error"},{inputs:[{internalType:"string",name:"field",type:"string"}],name:"InvalidParam",type:"error"},{inputs:[{internalType:"string",name:"field",type:"string"}],name:"InvalidValue",type:"error"},{inputs:[{internalType:"string",name:"field",type:"string"}],name:"Paused",type:"error"},{inputs:[{internalType:"string",name:"field",type:"string"}],name:"ZeroValue",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldGovernor",type:"address"},{indexed:!1,internalType:"address",name:"newGovernor",type:"address"}],name:"GovernorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"",type:"bool"}],name:"PauseStaking",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"",type:"bool"}],name:"PauseWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"oldPendingValidatorPubKey",type:"bytes"},{indexed:!1,internalType:"bytes",name:"newPendingValidatorPubKey",type:"bytes"}],name:"PendingValidatorReplaced",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"Restake",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetMinStakeAmount",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"superAdmin",type:"address"}],name:"SetSuperAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"staker",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"StakeActivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"staker",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint64",name:"source",type:"uint64"}],name:"StakeAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"staker",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"StakeCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"validator",type:"bytes"}],name:"StakeDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"staker",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint64",name:"source",type:"uint64"}],name:"Unstake",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"validator",type:"bytes"}],name:"ValidatorMarkedAsExited",type:"event"},{inputs:[],name:"BEACON_AMOUNT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"governor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"value",type:"address"}],name:"setSuperAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"superAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"depositContract",type:"address"},{internalType:"address",name:"accountingContract",type:"address"},{internalType:"address",name:"withdrawTreasury",type:"address"},{internalType:"address",name:"rewardsTreasury",type:"address"},{internalType:"address",name:"poolGovernor",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"source",type:"uint64"}],name:"stake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"unstakePending",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint16",name:"allowedInterchangeNum",type:"uint16"},{internalType:"uint64",name:"source",type:"uint64"}],name:"unstake",outputs:[{internalType:"uint256",name:"unstakeFromPendingValue",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"activateStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"activatedSlots",type:"uint256"}],name:"restake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"pubkey",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32",name:"deposit_data_root",type:"bytes32"}],internalType:"struct ValidatorList.DepositData[]",name:"pendingValidators",type:"tuple[]"}],name:"setPendingValidators",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPendingValidatorCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getPendingValidator",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getValidatorCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getValidator",outputs:[{internalType:"bytes",name:"",type:"bytes"},{internalType:"enum ValidatorList.ValidatorStatus",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{components:[{internalType:"bytes",name:"pubkey",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32",name:"deposit_data_root",type:"bytes32"}],internalType:"struct ValidatorList.DepositData",name:"pendingValidator",type:"tuple"}],name:"replacePendingValidator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"markValidatorsAsExited",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"markValidatorAsExited",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reorderPending",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"pause",type:"bool"}],name:"pauseStaking",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"pause",type:"bool"}],name:"pauseWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newGovernor",type:"address"}],name:"setGovernor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minStakeAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"stakeAmount",type:"uint256"}],name:"setMinStakeAmount",outputs:[],stateMutability:"nonpayable",type:"function"}],v={ALL_STATS_ERROR:"An error occurred while getting the all stats",BALANCE_ERROR:"An error occurred while getting the balance",PENDING_BALANCE_ERROR:"An error occurred while getting the pending balance",PENDING_DEPOSITED_BALANCE_ERROR:"An error occurred while getting the pending deposited balance",PENDING_RESTAKED_REWARDS_ERROR:"An error occurred while getting the pending restaked rewards",READY_FOR_AUTOCOMPOUND_REWARDS_AMOUNT_ERROR:"An error occurred while getting the ready for autocompound rewards amount",PENDING_BALANCE_OF_ERROR:"An error occurred while getting the pending balance of an address",PENDING_DEPOSITED_BALANCE_OF_ERROR:"An error occurred while getting the pending deposited balance of an address",DEPOSITED_BALANCE_OF_ERROR:"An error occurred while getting the deposited balance of an address",PENDING_RESTAKED_REWARD_OF_ERROR:"An error occurred while getting the pending restaked reward of an address",RESTAKED_REWARD_OF_ERROR:"An error occurred while getting the restaked reward of an address",GET_POOL_FEE_ERROR:"An error occurred while getting the pool fee",MIN_STAKE_AMOUNT_ERROR:"An error occurred while getting the minimum stake amount",GET_VALIDATOR_ERROR:"An error occurred while getting the validator",GET_VALIDATOR_COUNT_ERROR:"An error occurred while getting the validator count",GET_PENDING_VALIDATOR_ERROR:"An error occurred while getting the pending validator",GET_PENDING_VALIDATOR_COUNT_ERROR:"An error occurred while getting the pending validator count",ACTIVATE_STAKE_ERROR:"An error occurred while activating the stake",MIN_AMOUNT_ERROR:"Min Amount {0} wei",UNSTAKE_PENDING_ERROR:"An error occurred while unstaking the pending amount",INSUFFICIENT_PENDING_BALANCE_ERROR:"Pending balance less than min stake amount {0}",ZERO_UNSTAKE_MESSAGE:"Zero pending balance",AMOUNT_GREATER_THAN_PENDING_BALANCE_ERROR:"Amount greater than pending balance {0}",NETWORK_NOT_SUPPORTED:"Unsupported network {0}",NO_REWARDS_MESSAGE:"No active rewards for claim",AUTOCOMPOUND_ERROR:"An error occurred while performing the autocompound operation",AUTOCOMPOUND_BALANCE_OF_ERROR:"An error occurred while getting the autocompound balance of an address",WITHDRAW_REQUEST_QUEUE_PARAMS_ERROR:"An error occurred while getting the withdraw request queue parameters",WITHDRAW_REQUEST_ERROR:"An error occurred while getting the withdraw request info for an address",ZERO_UNSTAKE_ERROR:"No amount requested for unstake",NOT_FILLED_UNSTAKE_MESSAGE:"Unstake request not filled yet",WRONG_TYPE_MESSAGE:"Wrong input type",CLAIM_WITHDRAW_REQUEST_ERROR:"An error occurred while claiming the withdraw request for an address",CLOSE_VALIDATORS_STAT_ERROR:"An error occurred while getting the number of validators expected to stop",STAKE_ERROR:"An error occurred while staking funds into the pool",UNSTAKE_ERROR:"An error occurred while unstaking funds from the pool",SIMULATE_UNSTAKE_ERROR:"An error occurred while simulating the unstake transaction",MAX_AMOUNT_FOR_UNSTAKE_ERROR:"Max Amount For Unstake {0}",ADDRESS_FORMAT_ERROR:"Invalid Ethereum address format",USER_BALANCES_ERROR:"An error occurred while getting the user balances",POOL_BALANCES_ERROR:"An error occurred while getting the pool balances"},b={"InvalidValue: remainder":"The remainder is less than the minimum stake amount.","InvalidValue: amount":"The requested amount is greater than the pool's pending balance.","InvalidValue: pending balance":"The user has no pending balance or it is less than the requested amount.","ZeroValue: pending":"The pool's pending balance is zero.","ZeroValue: claim":"There is nothing to claim.","InvalidParam: index":"The provided index is out of range.","InvalidParam: caller":"This action is not allowed for the current user.","InvalidValue: zero amount":"There is nothing to activate.","InvalidValue: share":"The requested amount is less than one share.","InvalidValue: withdrawable balance":"The requested amount is greater than the active balance.","Paused: withdraw claim":"Claiming unstake is currently paused.","Paused: staking":"Staking is currently paused.","Paused: withdraw":"Unstaking is currently paused.","InvalidAmount: small stake":"The staked amount is less than the minimum stake amount.","Pending validator":"There are not enough pending validators to activate.","Returned error: execution reverted":"The operation failed. Please try again."},x=(e=>(e[e.Unknown=0]="Unknown",e[e.Pending=1]="Pending",e[e.Deposited=2]="Deposited",e))(x||{}),E=class extends d{addressContractWithdrawTreasury;contractAccounting;contractPool;client;minAmount=new r.A(g);ERROR_MESSAGES=v;ORIGINAL_ERROR_MESSAGES=b;constructor(e="mainnet",t){super(),this.initializeNetwork(e,t)}async balance(){try{const e=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"balance"});return this.fromWeiToEther(e)}catch(e){this.handleError("BALANCE_ERROR",e)}}async pendingBalance(){try{const e=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"pendingBalance"});return this.fromWeiToEther(e)}catch(e){this.handleError("PENDING_BALANCE_ERROR",e)}}async pendingDepositedBalance(){try{const e=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"pendingDepositedBalance"});return this.fromWeiToEther(e)}catch(e){this.handleError("PENDING_DEPOSITED_BALANCE_ERROR",e)}}async pendingRestakedRewards(){try{const e=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"pendingRestakedRewards"});return this.fromWeiToEther(e)}catch(e){this.handleError("PENDING_RESTAKED_REWARDS_ERROR",e)}}async readyforAutocompoundRewardsAmount(){try{const e=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"readyforAutocompoundRewardsAmount"});return this.fromWeiToEther(e)}catch(e){this.handleError("READY_FOR_AUTOCOMPOUND_REWARDS_AMOUNT_ERROR",e)}}async pendingBalanceOf(e){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");const t=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"pendingBalanceOf",args:[e]});return this.fromWeiToEther(t)}catch(e){this.handleError("PENDING_BALANCE_OF_ERROR",e)}}async pendingDepositedBalanceOf(e){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");const t=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"pendingDepositedBalanceOf",args:[e]});return this.fromWeiToEther(t)}catch(e){this.handleError("PENDING_DEPOSITED_BALANCE_OF_ERROR",e)}}async depositedBalanceOf(e){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");const t=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"depositedBalanceOf",args:[e]});return this.fromWeiToEther(t)}catch(e){this.handleError("DEPOSITED_BALANCE_OF_ERROR",e)}}async pendingRestakedRewardOf(e){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");const t=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"pendingRestakedRewardOf",args:[e]});return this.fromWeiToEther(t)}catch(e){this.handleError("PENDING_RESTAKED_REWARD_OF_ERROR",e)}}async restakedRewardOf(e){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");const t=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"restakedRewardOf",args:[e]});return this.fromWeiToEther(t)}catch(e){this.handleError("RESTAKED_REWARD_OF_ERROR",e)}}async getPoolFee(){try{const e=(await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"getPoolFee"})).toString();return new r.A(e).div(1e4)}catch(e){this.handleError("GET_POOL_FEE_ERROR",e)}}async autocompound(e){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");return(await this.readyforAutocompoundRewardsAmount()).isZero()&&this.throwError("NO_REWARDS_MESSAGE"),await this.getTransaction((0,o.p)({abi:this.contractAccounting.abi,functionName:"autocompound"}),e,this.contractAccounting.address)}catch(e){this.handleError("AUTOCOMPOUND_ERROR",e)}}async autocompoundBalanceOf(e){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");const t=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"autocompoundBalanceOf",args:[e]});return this.fromWeiToEther(t)}catch(e){this.handleError("AUTOCOMPOUND_BALANCE_OF_ERROR",e)}}async withdrawRequestQueueParams(){try{const e=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"withdrawRequestQueueParams"});return{withdrawRequested:this.fromWeiToEther(e[0]),interchangeAllowed:this.fromWeiToEther(e[1]),filled:this.fromWeiToEther(e[2]),claimed:this.fromWeiToEther(e[3])}}catch(e){this.handleError("WITHDRAW_REQUEST_QUEUE_PARAMS_ERROR",e)}}async withdrawRequest(e){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");const t=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"withdrawRequest",args:[e]});return{requested:this.fromWeiToEther(t[0]),readyForClaim:this.fromWeiToEther(t[1])}}catch(e){this.handleError("WITHDRAW_REQUEST_ERROR",e)}}async poolBalances(){const e=["balance","pendingBalance","pendingDepositedBalance","pendingRestakedRewards","readyforAutocompoundRewardsAmount"];try{const t=e.map((e=>({functionName:e,address:this.contractAccounting.address,abi:this.contractAccounting.abi}))),n=await this.client.multicall({contracts:t,allowFailure:!1,multicallAddress:m});return Object.fromEntries(e.map(((e,t)=>[e,this.fromWeiToEther(n[t]).toFixed()])))}catch(e){this.handleError("POOL_BALANCES_ERROR",e)}}async userBalances(e){const t=["pendingBalanceOf","pendingDepositedBalanceOf","pendingRestakedRewardOf","autocompoundBalanceOf","depositedBalanceOf"];try{const n=t.map((t=>({functionName:t,address:this.contractAccounting.address,abi:this.contractAccounting.abi,args:[e]}))),r=await this.client.multicall({contracts:n,allowFailure:!1,multicallAddress:m});return Object.fromEntries(t.map(((e,t)=>[e,this.fromWeiToEther(r[t]).toFixed()])))}catch(e){this.handleError("USER_BALANCES_ERROR",e)}}async contractViewsStats(e){const t=["pendingBalanceOf","pendingDepositedBalanceOf","pendingRestakedRewardOf","autocompoundBalanceOf","depositedBalanceOf","restakedRewardOf","withdrawRequest"],n=["balance","pendingBalance","pendingDepositedBalance","pendingRestakedRewards","readyforAutocompoundRewardsAmount","withdrawRequestQueueParams","getPoolFee"];try{const i=[...t.map((t=>({functionName:t,address:this.contractAccounting.address,abi:this.contractAccounting.abi,args:[e]}))),...n.map((e=>({functionName:e,address:this.contractAccounting.address,abi:this.contractAccounting.abi}))),{functionName:"minStakeAmount",address:this.contractPool.address,abi:this.contractPool.abi}],[a,o,s,l,c,u,d,h,f,p,g,A,y,v,b]=await this.client.multicall({contracts:i,allowFailure:!1,multicallAddress:m}),x={pendingBalanceOf:a,pendingDepositedBalanceOf:o,pendingRestakedRewardOf:s,autocompoundBalanceOf:l,depositedBalanceOf:c,restakedRewardOf:u,balance:h,pendingBalance:f,pendingDepositedBalance:p,pendingRestakedRewards:g,readyforAutocompoundRewardsAmount:A,minStakeAmount:b},E=d,w=y;return{...Object.fromEntries(Object.entries(x).map((([e,t])=>[e,this.fromWeiToEther(t)]))),poolFee:new r.A(v?.toString()??0).div(1e4),withdrawRequest:{requested:this.fromWeiToEther(E[0]),readyForClaim:this.fromWeiToEther(E[1])},withdrawRequestQueueParams:{withdrawRequested:this.fromWeiToEther(w[0]),interchangeAllowed:this.fromWeiToEther(w[1]),filled:this.fromWeiToEther(w[2]),claimed:this.fromWeiToEther(w[3])}}}catch(e){this.handleError("ALL_STATS_ERROR",e)}}async claimWithdrawRequest(e){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");const t=await this.withdrawRequest(e);return t.requested.isZero()&&this.throwError("ZERO_UNSTAKE_ERROR"),t.readyForClaim.eq(t.requested)||this.throwError("NOT_FILLED_UNSTAKE_MESSAGE"),await this.getTransaction((0,o.p)({abi:this.contractAccounting.abi,functionName:"claimWithdrawRequest"}),e,this.contractAccounting.address)}catch(e){this.handleError("CLAIM_WITHDRAW_REQUEST_ERROR",e)}}async closeValidatorsStat(){try{const e=await this.client.readContract({address:this.contractAccounting.address,abi:this.contractAccounting.abi,functionName:"closeValidatorsStat"});return Number(e)}catch(e){this.handleError("CLOSE_VALIDATORS_STAT_ERROR",e)}}async stake(e,t,n="0"){(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR"),"string"!==typeof t&&this.throwError("WRONG_TYPE_MESSAGE");const i=new r.A((0,l.X)(t,18));i.lt(this.minAmount)&&this.throwError("MIN_AMOUNT_ERROR",this.minAmount.toString());try{return await this.getTransaction((0,o.p)({abi:this.contractPool.abi,functionName:"stake",args:[BigInt(n)]}),e,this.contractPool.address,i)}catch(e){this.handleError("STAKE_ERROR",e)}}async unstake(e,t,n=0,i="0"){(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR"),"string"!==typeof t&&this.throwError("WRONG_TYPE_MESSAGE");try{const a=await this.autocompoundBalanceOf(e);return n>p&&(n=p),a.lt(new r.A(t))&&this.throwError("MAX_AMOUNT_FOR_UNSTAKE_ERROR",a.toString()),await this.getTransaction((0,o.p)({abi:this.contractPool.abi,functionName:"unstake",args:[(0,l.X)(t,18),n,BigInt(i)]}),e,this.contractPool.address)}catch(e){this.handleError("UNSTAKE_ERROR",e)}}async simulateUnstake(e,t,n=1,r="0"){try{(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");const i=await this.autocompoundBalanceOf(e);n>p&&(n=p),i.lt(t)&&this.throwError("MAX_AMOUNT_FOR_UNSTAKE_ERROR",i.toString());const{result:a}=await this.client.simulateContract({account:e,address:this.contractPool.address,abi:this.contractPool.abi,functionName:"unstake",args:[(0,l.X)(t,18),n,BigInt(r)]});return this.fromWeiToEther(a)}catch(e){this.handleError("SIMULATE_UNSTAKE_ERROR",e)}}async unstakePending(e,t){(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR");let n=await this.pendingBalanceOf(e);n.isZero()&&this.throwError("ZERO_UNSTAKE_MESSAGE");const i=new r.A(t);i.gt(n)&&this.throwError("AMOUNT_GREATER_THAN_PENDING_BALANCE_ERROR",n.toString());try{if(n=n.minus(i),!n.isZero()){const e=await this.minStakeAmount();n.lt(e)&&this.throwError("INSUFFICIENT_PENDING_BALANCE_ERROR",e.toString())}return await this.getTransaction((0,o.p)({abi:this.contractPool.abi,functionName:"unstakePending",args:[(0,l.X)(t,18)]}),e,this.contractPool.address)}catch(e){this.handleError("UNSTAKE_PENDING_ERROR",e)}}async activateStake(e){try{return(0,s.P)(e)||this.throwError("ADDRESS_FORMAT_ERROR"),await this.getTransaction((0,o.p)({abi:this.contractPool.abi,functionName:"activateStake"}),e,this.contractPool.address)}catch(e){this.handleError("ACTIVATE_STAKE_ERROR",e)}}async getPendingValidatorCount(){try{const e=await this.client.readContract({address:this.contractPool.address,abi:this.contractPool.abi,functionName:"getPendingValidatorCount"});return Number(e)}catch(e){this.handleError("GET_PENDING_VALIDATOR_COUNT_ERROR",e)}}async getPendingValidator(e){try{return(await this.client.readContract({address:this.contractPool.address,abi:this.contractPool.abi,functionName:"getPendingValidator",args:[BigInt(e)]})).toString()}catch(e){this.handleError("GET_PENDING_VALIDATOR_ERROR",e)}}async getValidatorCount(){try{const e=await this.client.readContract({address:this.contractPool.address,abi:this.contractPool.abi,functionName:"getValidatorCount"});return Number(e)}catch(e){this.handleError("GET_VALIDATOR_COUNT_ERROR",e)}}async getValidator(e){try{const t=await this.client.readContract({address:this.contractPool.address,abi:this.contractPool.abi,functionName:"getValidator",args:[BigInt(e)]});return{pubkey:t[0].toString(),status:this.getStatusFromCode(Number(t[1]))}}catch(e){this.handleError("GET_VALIDATOR_ERROR",e)}}async minStakeAmount(){try{const e=await this.client.readContract({address:this.contractPool.address,abi:this.contractPool.abi,functionName:"minStakeAmount"});return this.fromWeiToEther(e)}catch(e){this.handleError("MIN_STAKE_AMOUNT_ERROR",e)}}selectNetwork(e,t){return this.initializeNetwork(e,t),this}async getTransaction(e,t,n,i=new r.A(0)){const a=await this.client.estimateGas({to:n,data:e,account:t,value:BigInt(i.toFixed())});return{from:t,to:n,value:BigInt(i.toFixed()),gas:this.calculateGasLimit(a),data:e}}initializeNetwork(e,t){const n=h[e];n||this.throwError("NETWORK_NOT_SUPPORTED",e),t=t||n.rpcUrl;const r={multicall:"mainnet"===e?{batchSize:160,wait:25,maxSize:10240}:{batchSize:64,wait:20,maxSize:4096}};this.client="string"===typeof t?(0,i.l)({transport:(0,a.L)(t,{retryCount:1,retryDelay:300}),batch:r}):"transport"in t?t:(0,i.l)({transport:t,batch:r});const{addressContractAccounting:o,addressContractPool:s,addressContractWithdrawTreasury:l}=n;this.addressContractWithdrawTreasury=l,this.contractAccounting={abi:A,address:o},this.contractPool={abi:y,address:s}}getStatusFromCode(e){return x[e]?x[e].toLowerCase():"invalid status"}fromWeiToEther(e){return new r.A(e.toString()).shiftedBy(-18)}calculateGasLimit(e){return e+f}},w="";function _(e){w=e}var S=(e,t,n)=>async(...n)=>{try{const r=await fetch(...e(...n));if(!r.ok)throw new Error(`Error: ${r.statusText}`);const i=await r.text();try{return t(JSON.parse(i))}catch{return t(i)}}catch(e){throw e}},I=(S((e=>[`${w}/everstake-wallet/token/check/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}]),(e=>e.result)),S((({token:e,action:t,amount:n,address:r,chain:i})=>[`${w}/everstake-wallet/stats/set`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,action:t,amount:n,address:r,chain:i})}]),(()=>{})),S(((e,t)=>[`${w}/everstake-wallet/token/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,type:t})}]),(e=>e)),S((e=>[`${w}/everstake-dashboard/chain?name=${e.toLowerCase()}`,{method:"GET"}]),(e=>e)),S((()=>[`${w}/everstake-eth-api/validators/queue`,{method:"GET"}]),(e=>e))),C=S((({account:e,...t})=>{const n=new URL(`${w}/everstake-eth-api/transactions/${e}`);for(const e in t){const r=e;null!=t[r]&&n.searchParams.set(r,t[r].toString())}return[n,{method:"GET"}]}),(e=>e));new r.A("1000000000000000000")},49785:(e,t,n)=>{"use strict";n.d(t,{Op:()=>G,mN:()=>ke,xI:()=>Q,xW:()=>H});var r=n(96540),i=e=>"checkbox"===e.type,a=e=>e instanceof Date,o=e=>null==e;const s=e=>"object"===typeof e;var l=e=>!o(e)&&!Array.isArray(e)&&s(e)&&!a(e),c=e=>l(e)&&e.target?i(e.target)?e.target.checked:e.target.value:e,u=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),d=e=>{const t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")},h="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function f(e){if(e instanceof Date)return new Date(e);const t="undefined"!==typeof FileList&&e instanceof FileList;if(h&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&(!l(e)||!d(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=f(e[t]));return r}var p=e=>/^\w*$/.test(e),g=e=>void 0===e,m=e=>Array.isArray(e)?e.filter(Boolean):[],A=e=>m(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,t,n)=>{if(!t||!l(e))return n;const r=(p(t)?[t]:A(t)).reduce(((e,t)=>o(e)?e:e[t]),e);return g(r)||r===e?g(e[t])?n:e[t]:r},v=e=>"boolean"===typeof e,b=e=>"function"===typeof e,x=(e,t,n)=>{let r=-1;const i=p(t)?[t]:A(t),a=i.length,o=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==o){const n=e[t];a=l(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}};const E={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},w={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_="max",S="min",I="maxLength",C="minLength",M="pattern",O="required",T="validate",P=r.createContext(null);P.displayName="HookFormControlContext";const R=()=>r.useContext(P);var B=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==w.all&&(t._proxyFormState[i]=!r||w.all),n&&(n[i]=!0),e[i]}});return i};const k="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function D(e){const t=R(),{control:n=t,disabled:i,name:a,exact:o}=e||{},[s,l]=r.useState(n._formState),c=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return k((()=>n._subscribe({name:a,formState:c.current,exact:o,callback:e=>{!i&&l({...n._formState,...e})}})),[a,i,o]),r.useEffect((()=>{c.current.isValid&&n._setValid(!0)}),[n]),r.useMemo((()=>B(s,n,c.current,!1)),[s,n])}var L=e=>"string"===typeof e,N=(e,t,n,r,i)=>L(e)?(r&&t.watch.add(e),y(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),y(n,e)))):(r&&(t.watchAll=!0),n),j=e=>o(e)||!s(e);function U(e,t,n=new WeakSet){if(j(e)||j(t))return Object.is(e,t);if(a(e)&&a(t))return Object.is(e.getTime(),t.getTime());const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of r){const r=e[o];if(!i.includes(o))return!1;if("ref"!==o){const e=t[o];if(a(r)&&a(e)||l(r)&&l(e)||Array.isArray(r)&&Array.isArray(e)?!U(r,e,n):!Object.is(r,e))return!1}}return!0}function F(e){const t=R(),{control:n=t,name:i,defaultValue:a,disabled:o,exact:s,compute:l}=e||{},c=r.useRef(a),u=r.useRef(l),d=r.useRef(void 0),h=r.useRef(n),f=r.useRef(i);u.current=l;const[p,g]=r.useState((()=>{const e=n._getWatch(i,c.current);return u.current?u.current(e):e})),m=r.useCallback((e=>{const t=N(i,n._names,e||n._formValues,!1,c.current);return u.current?u.current(t):t}),[n._formValues,n._names,i]),A=r.useCallback((e=>{if(!o){const t=N(i,n._names,e||n._formValues,!1,c.current);if(u.current){const e=u.current(t);U(e,d.current)||(g(e),d.current=e)}else g(t)}}),[n._formValues,n._names,o,i]);k((()=>(h.current===n&&U(f.current,i)||(h.current=n,f.current=i,A()),n._subscribe({name:i,formState:{values:!0},exact:s,callback:e=>{A(e.values)}}))),[n,s,i,A]),r.useEffect((()=>n._removeUnmounted()));const y=h.current!==n,v=f.current,b=r.useMemo((()=>{if(o)return null;const e=!y&&!U(v,i);return y||e?m():null}),[o,y,i,v,m]);return null!==b?b:p}const Q=e=>e.render(function(e){const t=R(),{name:n,disabled:i,control:a=t,shouldUnregister:o,defaultValue:s,exact:l=!0}=e,d=u(a._names.array,n),h=r.useMemo((()=>y(a._formValues,n,y(a._defaultValues,n,s))),[a,n,s]),p=F({control:a,name:n,defaultValue:h,exact:l}),m=D({control:a,name:n,exact:l}),A=r.useRef(e),w=r.useRef(void 0),_=r.useRef(a.register(n,{...e.rules,value:p,...v(e.disabled)?{disabled:e.disabled}:{}}));A.current=e;const S=r.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!y(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!y(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!y(m.validatingFields,n)},error:{enumerable:!0,get:()=>y(m.errors,n)}})),[m,n]),I=r.useCallback((e=>_.current.onChange({target:{value:c(e),name:n},type:E.CHANGE})),[n]),C=r.useCallback((()=>_.current.onBlur({target:{value:y(a._formValues,n),name:n},type:E.BLUR})),[n,a._formValues]),M=r.useCallback((e=>{const t=y(a._fields,n);t&&t._f&&e&&(t._f.ref={focus:()=>b(e.focus)&&e.focus(),select:()=>b(e.select)&&e.select(),setCustomValidity:t=>b(e.setCustomValidity)&&e.setCustomValidity(t),reportValidity:()=>b(e.reportValidity)&&e.reportValidity()})}),[a._fields,n]),O=r.useMemo((()=>({name:n,value:p,...v(i)||m.disabled?{disabled:m.disabled||i}:{},onChange:I,onBlur:C,ref:M})),[n,i,m.disabled,I,C,M,p]);return r.useEffect((()=>{const e=a._options.shouldUnregister||o,t=w.current;t&&t!==n&&!d&&a.unregister(t),a.register(n,{...A.current.rules,...v(A.current.disabled)?{disabled:A.current.disabled}:{}});const r=(e,t)=>{const n=y(a._fields,e);n&&n._f&&(n._f.mount=t)};if(r(n,!0),e){const e=f(y(a._options.defaultValues,n,A.current.defaultValue));x(a._defaultValues,n,e),g(y(a._formValues,n))&&x(a._formValues,n,e)}return!d&&a.register(n),w.current=n,()=>{(d?e&&!a._state.action:e)?a.unregister(n):r(n,!1)}}),[n,a,d,o]),r.useEffect((()=>{a._setDisabledField({disabled:i,name:n})}),[i,n,a]),r.useMemo((()=>({field:O,formState:m,fieldState:S})),[O,m,S])}(e)),z=r.createContext(null);z.displayName="HookFormContext";const H=()=>r.useContext(z),G=e=>{const{children:t,watch:n,getValues:i,getFieldState:a,setError:o,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:h,handleSubmit:f,unregister:p,control:g,register:m,setFocus:A,subscribe:y}=e;return r.createElement(z.Provider,{value:r.useMemo((()=>({watch:n,getValues:i,getFieldState:a,setError:o,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:h,handleSubmit:f,unregister:p,control:g,register:m,setFocus:A,subscribe:y})),[s,g,u,a,i,f,m,h,d,o,A,l,y,c,p,n])},r.createElement(P.Provider,{value:g},t))};var V=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},K=e=>Array.isArray(e)?e:[e],W=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}};function q(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],a=t[r];if(i&&l(i)&&a){const e=q(i,a);l(e)&&(n[r]=e)}else e[r]&&(n[r]=a)}return n}var Y=e=>l(e)&&!Object.keys(e).length,X=e=>"file"===e.type,J=e=>{if(!h)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$=e=>"select-multiple"===e.type,Z=e=>"radio"===e.type,ee=e=>Z(e)||i(e),te=e=>J(e)&&e.isConnected;function ne(e,t){const n=Array.isArray(t)?t:p(t)?[t]:A(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=g(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(l(r)&&Y(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!g(e[t]))return!1;return!0}(r))&&ne(e,n.slice(0,-1)),e}var re=e=>{for(const t in e)if(b(e[t]))return!0;return!1};function ie(e){return Array.isArray(e)||l(e)&&!re(e)}function ae(e,t={}){for(const n in e){const r=e[n];ie(r)?(t[n]=Array.isArray(r)?[]:{},ae(r,t[n])):g(r)||(t[n]=!0)}return t}function oe(e,t,n){n||(n=ae(t));for(const r in e){const i=e[r];if(ie(i))g(t)||j(n[r])?n[r]=ae(i,Array.isArray(i)?[]:{}):oe(i,o(t)?{}:t[r],n[r]);else{const e=t[r];n[r]=!U(i,e)}}return n}const se={value:!1,isValid:!1},le={value:!0,isValid:!0};var ce=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!g(e[0].attributes.value)?g(e[0].value)||""===e[0].value?le:{value:e[0].value,isValid:!0}:le:se}return se},ue=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>g(e)?e:t?""===e?NaN:e?+e:e:n&&L(e)?new Date(e):r?r(e):e;const de={isValid:!1,value:null};var he=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),de):de;function fe(e){const t=e.ref;return X(t)?t.files:Z(t)?he(e.refs).value:$(t)?[...t.selectedOptions].map((({value:e})=>e)):i(t)?ce(e.refs).value:ue(g(t.value)?e.ref.value:t.value,e)}var pe=(e,t,n,r)=>{const i={};for(const n of e){const e=y(t,n);e&&x(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ge=e=>e instanceof RegExp,me=e=>g(e)?e:ge(e)?e.source:l(e)?ge(e.value)?e.value.source:e.value:e,Ae=e=>({isOnSubmit:!e||e===w.onSubmit,isOnBlur:e===w.onBlur,isOnChange:e===w.onChange,isOnAll:e===w.all,isOnTouch:e===w.onTouched});const ye="AsyncFunction";var ve=e=>!!e&&!!e.validate&&!!(b(e.validate)&&e.validate.constructor.name===ye||l(e.validate)&&Object.values(e.validate).find((e=>e.constructor.name===ye))),be=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),xe=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const Ee=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=y(e,i);if(n){const{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Ee(a,t))break}else if(l(a)&&Ee(a,t))break}}};function we(e,t,n){const r=y(e,n);if(r||p(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=y(t,r),o=y(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:`${r}.root`,error:o.root};i.pop()}return{name:n}}var _e=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return Y(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!r||w.all)))},Se=(e,t,n)=>!e||!t||e===t||K(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e)))),Ie=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),Ce=(e,t)=>!m(y(e,t)).length&&ne(e,t),Me=(e,t,n)=>{const r=K(y(e,n));return x(r,"root",t[n]),x(e,n,r),e};function Oe(e,t,n="validate"){if(L(e)||Array.isArray(e)&&e.every(L)||v(e)&&!e)return{type:n,message:L(e)?e:"",ref:t}}var Te=e=>l(e)&&!ge(e)?e:{value:e,message:""},Pe=async(e,t,n,r,a,s)=>{const{ref:c,refs:u,required:d,maxLength:h,minLength:f,min:p,max:m,pattern:A,validate:x,name:E,valueAsNumber:w,mount:P}=e._f,R=y(n,E);if(!P||t.has(E))return{};const B=u?u[0]:c,k=e=>{a&&B.reportValidity&&(B.setCustomValidity(v(e)?"":e||""),B.reportValidity())},D={},N=Z(c),j=i(c),U=N||j,F=(w||X(c))&&g(c.value)&&g(R)||J(c)&&""===c.value||""===R||Array.isArray(R)&&!R.length,Q=V.bind(null,E,r,D),z=(e,t,n,r=I,i=C)=>{const a=e?t:n;D[E]={type:e?r:i,message:a,ref:c,...Q(e?r:i,a)}};if(s?!Array.isArray(R)||!R.length:d&&(!U&&(F||o(R))||v(R)&&!R||j&&!ce(u).isValid||N&&!he(u).isValid)){const{value:e,message:t}=L(d)?{value:!!d,message:d}:Te(d);if(e&&(D[E]={type:O,message:t,ref:B,...Q(O,t)},!r))return k(t),D}if(!F&&(!o(p)||!o(m))){let e,t;const n=Te(m),i=Te(p);if(o(R)||isNaN(R)){const r=c.valueAsDate||new Date(R),a=e=>new Date((new Date).toDateString()+" "+e),o="time"==c.type,s="week"==c.type;L(n.value)&&R&&(e=o?a(R)>a(n.value):s?R>n.value:r>new Date(n.value)),L(i.value)&&R&&(t=o?a(R)<a(i.value):s?R<i.value:r<new Date(i.value))}else{const r=c.valueAsNumber||(R?+R:R);o(n.value)||(e=r>n.value),o(i.value)||(t=r<i.value)}if((e||t)&&(z(!!e,n.message,i.message,_,S),!r))return k(D[E].message),D}if((h||f)&&!F&&(L(R)||s&&Array.isArray(R))){const e=Te(h),t=Te(f),n=!o(e.value)&&R.length>+e.value,i=!o(t.value)&&R.length<+t.value;if((n||i)&&(z(n,e.message,t.message),!r))return k(D[E].message),D}if(A&&!F&&L(R)){const{value:e,message:t}=Te(A);if(ge(e)&&!R.match(e)&&(D[E]={type:M,message:t,ref:c,...Q(M,t)},!r))return k(t),D}if(x)if(b(x)){const e=Oe(await x(R,n),B);if(e&&(D[E]={...e,...Q(T,e.message)},!r))return k(e.message),D}else if(l(x)){let e={};for(const t in x){if(!Y(e)&&!r)break;const i=Oe(await x[t](R,n),B,t);i&&(e={...i,...Q(t,i.message)},k(i.message),r&&(D[E]=e))}if(!Y(e)&&(D[E]={ref:B,...e},!r))return D}return k(!0),D};const Re={mode:w.onSubmit,reValidateMode:w.onChange,shouldFocusError:!0};function Be(e={}){let t,n={...Re,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:b(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},s={},d=(l(n.defaultValues)||l(n.values))&&f(n.defaultValues||n.values)||{},p=n.shouldUnregister?{}:f(d),A={action:!1,mount:!1,watch:!1,keepIsValid:!1},_={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},S=0;const I={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},C={...I};let M={...C};const O={array:W(),state:W()},T=n.criteriaMode===w.all,P=async e=>{if(!A.keepIsValid&&!n.disabled&&(C.isValid||M.isValid||e)){let e;n.resolver?(e=Y((await j()).errors),R()):e=await F(s,!0),e!==r.isValid&&O.state.next({isValid:e})}},R=(e,t)=>{!n.disabled&&(C.isValidating||C.validatingFields||M.isValidating||M.validatingFields)&&((e||Array.from(_.mount)).forEach((e=>{e&&(t?x(r.validatingFields,e,t):ne(r.validatingFields,e))})),O.state.next({validatingFields:r.validatingFields,isValidating:!Y(r.validatingFields)}))},B=(e,t,n,r)=>{const i=y(s,e);if(i){const a=y(p,e,g(n)?y(d,e):n);g(a)||r&&r.defaultChecked||t?x(p,e,t?a:fe(i._f)):H(e,a),A.mount&&!A.action&&P()}},k=(e,t,i,a,o)=>{let s=!1,l=!1;const c={name:e};if(!n.disabled){if(!i||a){(C.isDirty||M.isDirty)&&(l=r.isDirty,r.isDirty=c.isDirty=Q(),s=l!==c.isDirty);const n=U(y(d,e),t);l=!!y(r.dirtyFields,e),n?ne(r.dirtyFields,e):x(r.dirtyFields,e,!0),c.dirtyFields=r.dirtyFields,s=s||(C.dirtyFields||M.dirtyFields)&&l!==!n}if(i){const t=y(r.touchedFields,e);t||(x(r.touchedFields,e,i),c.touchedFields=r.touchedFields,s=s||(C.touchedFields||M.touchedFields)&&t!==i)}s&&o&&O.state.next(c)}return s?c:{}},D=(e,i,a,o)=>{const s=y(r.errors,e),l=(C.isValid||M.isValid)&&v(i)&&r.isValid!==i;var c;if(n.delayError&&a?(c=()=>((e,t)=>{x(r.errors,e,t),O.state.next({errors:r.errors})})(e,a),t=e=>{clearTimeout(S),S=setTimeout(c,e)},t(n.delayError)):(clearTimeout(S),t=null,a?x(r.errors,e,a):ne(r.errors,e)),(a?!U(s,a):s)||!Y(o)||l){const t={...o,...l&&v(i)?{isValid:i}:{},errors:r.errors,name:e};r={...r,...t},O.state.next(t)}},j=async e=>{R(e,!0);return await n.resolver(p,n.context,pe(e||_.mount,s,n.criteriaMode,n.shouldUseNativeValidation))},F=async(t,i,a={valid:!0})=>{for(const o in t){const s=t[o];if(s){const{_f:t,...o}=s;if(t){const o=_.array.has(t.name),l=s._f&&ve(s._f);l&&C.validatingFields&&R([t.name],!0);const c=await Pe(s,_.disabled,p,T,n.shouldUseNativeValidation&&!i,o);if(l&&C.validatingFields&&R([t.name]),c[t.name]&&(a.valid=!1,i||e.shouldUseNativeValidation))break;!i&&(y(c,t.name)?o?Me(r.errors,c,t.name):x(r.errors,t.name,c[t.name]):ne(r.errors,t.name))}!Y(o)&&await F(o,i,a)}}return a.valid},Q=(e,t)=>!n.disabled&&(e&&t&&x(p,e,t),!U(ae(),d)),z=(e,t,n)=>N(e,_,{...A.mount?p:g(t)?d:L(e)?{[e]:t}:t},n,t),H=(e,t,n={})=>{const r=y(s,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&x(p,e,ue(t,n)),a=J(n.ref)&&o(t)?"":t,$(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?i(n.ref)?n.refs.forEach((e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find((t=>t===e.value)):e.checked=a===e.value||!!a)})):n.refs.forEach((e=>e.checked=e.value===a)):X(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||O.state.next({name:e,values:f(p)})))}(n.shouldDirty||n.shouldTouch)&&k(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&ie(e)},G=(e,t,n)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const i=t[r],o=e+"."+r,c=y(s,o);(_.array.has(e)||l(i)||c&&!c._f)&&!a(i)?G(o,i,n):H(o,i,n)}},V=(e,t,n={})=>{const i=y(s,e),a=_.array.has(e),l=f(t);x(p,e,l),a?(O.array.next({name:e,values:f(p)}),(C.isDirty||C.dirtyFields||M.isDirty||M.dirtyFields)&&n.shouldDirty&&O.state.next({name:e,dirtyFields:oe(d,p),isDirty:Q(e,l)})):!i||i._f||o(l)?H(e,l,n):G(e,l,n),xe(e,_)?O.state.next({...r,name:e,values:f(p)}):O.state.next({name:A.mount?e:void 0,values:f(p)})},Z=async e=>{A.mount=!0;const i=e.target;let o=i.name,l=!0;const u=y(s,o),d=e=>{l=Number.isNaN(e)||a(e)&&isNaN(e.getTime())||U(e,y(p,o,e))},h=Ae(n.mode),g=Ae(n.reValidateMode);if(u){let a,m;const A=i.type?fe(u._f):c(e),v=e.type===E.BLUR||e.type===E.FOCUS_OUT,b=!be(u._f)&&!n.resolver&&!y(r.errors,o)&&!u._f.deps||Ie(v,y(r.touchedFields,o),r.isSubmitted,g,h),w=xe(o,_,v);x(p,o,A),v?i&&i.readOnly||(u._f.onBlur&&u._f.onBlur(e),t&&t(0)):u._f.onChange&&u._f.onChange(e);const S=k(o,A,v),I=!Y(S)||w;if(!v&&O.state.next({name:o,type:e.type,values:f(p)}),b)return(C.isValid||M.isValid)&&("onBlur"===n.mode?v&&P():v||P()),I&&O.state.next({name:o,...w?{}:S});if(!v&&w&&O.state.next({...r}),n.resolver){const{errors:e}=await j([o]);if(R([o]),d(A),l){const t=we(r.errors,s,o),n=we(e,s,t.name||o);a=n.error,o=n.name,m=Y(e)}}else R([o],!0),a=(await Pe(u,_.disabled,p,T,n.shouldUseNativeValidation))[o],R([o]),d(A),l&&(a?m=!1:(C.isValid||M.isValid)&&(m=await F(s,!0)));l&&(u._f.deps&&(!Array.isArray(u._f.deps)||u._f.deps.length>0)&&ie(u._f.deps),D(o,m,a,S))}},re=(e,t)=>{if(y(r.errors,t)&&e.focus)return e.focus(),1},ie=async(e,t={})=>{let i,a;const o=K(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await j(e);if(R(e),e)for(const n of e){const e=y(t,n);e?x(r.errors,n,e):ne(r.errors,n)}else r.errors=t;return t})(g(e)?e:o);i=Y(t),a=e?!o.some((e=>y(t,e))):i}else e?(a=(await Promise.all(o.map((async e=>{const t=y(s,e);return await F(t&&t._f?{[e]:t}:t)})))).every(Boolean),(a||r.isValid)&&P()):a=i=await F(s);return O.state.next({...!L(e)||(C.isValid||M.isValid)&&i!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:i}:{},errors:r.errors}),t.shouldFocus&&!a&&Ee(s,re,e?o:_.mount),a},ae=(e,t)=>{let n={...A.mount?p:d};return t&&(n=q(t.dirtyFields?r.dirtyFields:r.touchedFields,n)),g(e)?n:L(e)?y(n,e):e.map((e=>y(n,e)))},se=(e,t)=>({invalid:!!y((t||r).errors,e),isDirty:!!y((t||r).dirtyFields,e),error:y((t||r).errors,e),isValidating:!!y(r.validatingFields,e),isTouched:!!y((t||r).touchedFields,e)}),le=(e,t,n)=>{const i=(y(s,e,{_f:{}})._f||{}).ref,a=y(r.errors,e)||{},{ref:o,message:l,type:c,...u}=a;x(r.errors,e,{...u,...t,ref:i}),O.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},ce=e=>O.state.subscribe({next:t=>{Se(e.name,t.name,e.exact)&&_e(t,e.formState||C,ke,e.reRenderRoot)&&e.callback({values:{...p},...r,...t,defaultValues:d})}}).unsubscribe,de=(e,t={})=>{for(const i of e?K(e):_.mount)_.mount.delete(i),_.array.delete(i),t.keepValue||(ne(s,i),ne(p,i)),!t.keepError&&ne(r.errors,i),!t.keepDirty&&ne(r.dirtyFields,i),!t.keepTouched&&ne(r.touchedFields,i),!t.keepIsValidating&&ne(r.validatingFields,i),!n.shouldUnregister&&!t.keepDefaultValue&&ne(d,i);O.state.next({values:f(p)}),O.state.next({...r,...t.keepDirty?{isDirty:Q()}:{}}),!t.keepIsValid&&P()},he=({disabled:e,name:t})=>{if(v(e)&&A.mount||e||_.disabled.has(t)){const n=_.disabled.has(t)!==!!e;e?_.disabled.add(t):_.disabled.delete(t),n&&A.mount&&!A.action&&P()}},ge=(e,t={})=>{let r=y(s,e);const i=v(t.disabled)||v(n.disabled);return x(s,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),_.mount.add(e),r?he({disabled:v(t.disabled)?t.disabled:n.disabled,name:e}):B(e,!0,t.value),{...i?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:me(t.min),max:me(t.max),minLength:me(t.minLength),maxLength:me(t.maxLength),pattern:me(t.pattern)}:{},name:e,onChange:Z,onBlur:Z,ref:i=>{if(i){ge(e,t),r=y(s,e);const n=g(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,a=ee(n),o=r._f.refs||[];if(a?o.find((e=>e===n)):n===r._f.ref)return;x(s,e,{_f:{...r._f,...a?{refs:[...o.filter(te),n,...Array.isArray(y(d,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),B(e,!1,void 0,n)}else r=y(s,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!u(_.array,e)||!A.action)&&_.unMount.add(e)}}},ye=()=>n.shouldFocusError&&Ee(s,re,_.mount),Oe=(e,t)=>async i=>{let a;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let o=f(p);if(O.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await j();R(),r.errors=e,o=f(t)}else await F(s);if(_.disabled.size)for(const e of _.disabled)ne(o,e);if(ne(r.errors,"root"),Y(r.errors)){O.state.next({errors:{}});try{await e(o,i)}catch(e){a=e}}else t&&await t({...r.errors},i),ye(),setTimeout(ye);if(O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Y(r.errors)&&!a,submitCount:r.submitCount+1,errors:r.errors}),a)throw a},Te=(e,t={})=>{const i=e?f(e):d,a=f(i),o=Y(e),l=o?d:a;if(t.keepDefaultValues||(d=i),!t.keepValues){if(t.keepDirtyValues){const e=new Set([..._.mount,...Object.keys(oe(d,p))]);for(const t of Array.from(e)){const e=y(r.dirtyFields,t),n=y(p,t),i=y(l,t);e&&!g(n)?x(l,t,n):e||g(i)||V(t,i)}}else{if(h&&g(e))for(const e of _.mount){const t=y(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(J(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of _.mount)V(e,y(l,e));else s={}}p=n.shouldUnregister?t.keepDefaultValues?f(d):{}:f(l),O.array.next({values:{...l}}),O.state.next({values:{...l}})}_={mount:t.keepDirtyValues?_.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},A.mount=!C.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!n.shouldUnregister&&!Y(l),A.watch=!!n.shouldUnregister,A.keepIsValid=!!t.keepIsValid,A.action=!1,t.keepErrors||(r.errors={}),O.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!o&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||U(e,d))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:o?{}:t.keepDirtyValues?t.keepDefaultValues&&p?oe(d,p):r.dirtyFields:t.keepDefaultValues&&e?oe(d,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:d})},Be=(e,t)=>Te(b(e)?e(p):e,{...n.resetOptions,...t}),ke=e=>{r={...r,...e}},De={control:{register:ge,unregister:de,getFieldState:se,handleSubmit:Oe,setError:le,_subscribe:ce,_runSchema:j,_updateIsValidating:R,_focusError:ye,_getWatch:z,_getDirty:Q,_setValid:P,_setFieldArray:(e,t=[],i,a,o=!0,l=!0)=>{if(a&&i&&!n.disabled){if(A.action=!0,l&&Array.isArray(y(s,e))){const t=i(y(s,e),a.argA,a.argB);o&&x(s,e,t)}if(l&&Array.isArray(y(r.errors,e))){const t=i(y(r.errors,e),a.argA,a.argB);o&&x(r.errors,e,t),Ce(r.errors,e)}if((C.touchedFields||M.touchedFields)&&l&&Array.isArray(y(r.touchedFields,e))){const t=i(y(r.touchedFields,e),a.argA,a.argB);o&&x(r.touchedFields,e,t)}(C.dirtyFields||M.dirtyFields)&&(r.dirtyFields=oe(d,p)),O.state.next({name:e,isDirty:Q(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else x(p,e,t)},_setDisabledField:he,_setErrors:e=>{r.errors=e,O.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>m(y(A.mount?p:d,e,n.shouldUnregister?y(d,e,[]):[])),_reset:Te,_resetDefaultValues:()=>b(n.defaultValues)&&n.defaultValues().then((e=>{Be(e,n.resetOptions),O.state.next({isLoading:!1})})),_removeUnmounted:()=>{for(const e of _.unMount){const t=y(s,e);t&&(t._f.refs?t._f.refs.every((e=>!te(e))):!te(t._f.ref))&&de(e)}_.unMount=new Set},_disableForm:e=>{v(e)&&(O.state.next({disabled:e}),Ee(s,((t,n)=>{const r=y(s,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach((t=>{t.disabled=r._f.disabled||e})))}),0,!1))},_subjects:O,_proxyFormState:C,get _fields(){return s},get _formValues(){return p},get _state(){return A},set _state(e){A=e},get _defaultValues(){return d},get _names(){return _},set _names(e){_=e},get _formState(){return r},get _options(){return n},set _options(e){n={...n,...e}}},subscribe:e=>(A.mount=!0,M={...M,...e.formState},ce({...e,formState:{...I,...e.formState}})),trigger:ie,register:ge,handleSubmit:Oe,watch:(e,t)=>b(e)?O.state.subscribe({next:n=>"values"in n&&e(z(void 0,t),n)}):z(e,t,!0),setValue:V,getValues:ae,reset:Be,resetField:(e,t={})=>{y(s,e)&&(g(t.defaultValue)?V(e,f(y(d,e))):(V(e,t.defaultValue),x(d,e,f(t.defaultValue))),t.keepTouched||ne(r.touchedFields,e),t.keepDirty||(ne(r.dirtyFields,e),r.isDirty=t.defaultValue?Q(e,f(y(d,e))):Q()),t.keepError||(ne(r.errors,e),C.isValid&&P()),O.state.next({...r}))},clearErrors:e=>{e&&K(e).forEach((e=>ne(r.errors,e))),O.state.next({errors:e?r.errors:{}})},unregister:de,setError:le,setFocus:(e,t={})=>{const n=y(s,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&setTimeout((()=>{e.focus(),t.shouldSelect&&b(e.select)&&e.select()}))}},getFieldState:se};return{...De,formControl:De}}function ke(e={}){const t=r.useRef(void 0),n=r.useRef(void 0),[i,a]=r.useState({isDirty:!1,isValidating:!1,isLoading:b(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:b(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!b(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:n,...r}=Be(e);t.current={...r,formState:i}}const o=t.current.control;return o._options=e,k((()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a((e=>({...e,isReady:!0}))),o._formState.isReady=!0,e}),[o]),r.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),r.useEffect((()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)}),[o,e.mode,e.reValidateMode]),r.useEffect((()=>{e.errors&&(o._setErrors(e.errors),o._focusError())}),[o,e.errors]),r.useEffect((()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})}),[o,e.shouldUnregister]),r.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==i.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,i.isDirty]),r.useEffect((()=>{var t;e.values&&!U(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),(null===(t=o._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||o._setValid(),n.current=e.values,a((e=>({...e})))):o._resetDefaultValues()}),[o,e.values]),r.useEffect((()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()})),t.current.formState=r.useMemo((()=>B(i,o)),[o,i]),t.current}},77216:(e,t,n)=>{"use strict";function r(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],s="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)"*"===(n=i[0])?(o.push("wild"),s+="/(.*)"):":"===n?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),s+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(s+=(~r?"?":"")+"\\"+i.substring(a))):s+="/"+i;return{keys:o,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}n.d(t,{A:()=>r})},8660:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>te,WI:()=>$,iX:()=>X});var r=n(96540),i=n(19888);const a=()=>{},o=a(),s=Object,l=e=>e===o,c=e=>"function"==typeof e,u=(e,t)=>({...e,...t}),d=new WeakMap;let h=0;const f=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let i,a;if(s(e)!==e||r||n==RegExp)i=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(i=d.get(e),i)return i;if(i=++h+"~",d.set(e,i),n==Array){for(i="@",a=0;a<e.length;a++)i+=f(e[a])+",";d.set(e,i)}if(n==s){i="#";const t=s.keys(e).sort();for(;!l(a=t.pop());)l(e[a])||(i+=a+":"+f(e[a])+",");d.set(e,i)}}return i},p=new WeakMap,g={},m={},A="undefined",y=typeof window!=A,v=typeof document!=A,b=(e,t)=>{const n=p.get(e);return[()=>!l(t)&&e.get(t)||g,r=>{if(!l(t)){const i=e.get(t);t in m||(m[t]=i),n[5](t,u(i,r),i||g)}},n[6],()=>!l(t)&&t in m?m[t]:!l(t)&&e.get(t)||g]};let x=!0;const[E,w]=y&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[a,a],_={isOnline:()=>x,isVisible:()=>{const e=v&&document.visibilityState;return l(e)||"hidden"!==e}},S={initFocus:e=>(v&&document.addEventListener("visibilitychange",e),E("focus",e),()=>{v&&document.removeEventListener("visibilitychange",e),w("focus",e)}),initReconnect:e=>{const t=()=>{x=!0,e()},n=()=>{x=!1};return E("online",t),E("offline",n),()=>{w("online",t),w("offline",n)}}},I=!r.useId,C=!y||"Deno"in window,M=e=>y&&typeof window.requestAnimationFrame!=A?window.requestAnimationFrame(e):setTimeout(e,1),O=C?r.useEffect:r.useLayoutEffect,T="undefined"!==typeof navigator&&navigator.connection,P=!C&&T&&(["slow-2g","2g"].includes(T.effectiveType)||T.saveData),R=e=>{if(c(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?f(e):"",t]};let B=0;const k=()=>++B;var D=3,L=0,N=2,j=1;async function U(...e){const[t,n,r,i]=e,a=u({populateCache:!0,throwOnError:!0},"boolean"===typeof i?{revalidate:i}:i||{});let s=a.populateCache;const d=a.rollbackOnError;let h=a.optimisticData;const f=!1!==a.revalidate,g=a.throwOnError;if(c(n)){const e=n,r=[],i=t.keys();for(const n of i)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&r.push(n);return Promise.all(r.map(m))}return m(n);async function m(n){const[i]=R(n);if(!i)return;const[a,u]=b(t,i),[m,A,y,v]=p.get(t),x=()=>{const e=m[i];return f&&(delete y[i],delete v[i],e&&e[0])?e[0](2).then((()=>a().data)):a().data};if(e.length<3)return x();let E,w=r;const _=k();A[i]=[_,0];const S=!l(h),I=a(),C=I.data,M=I._c,O=l(M)?C:M;if(S&&(h=c(h)?h(O,C):h,u({data:h,_c:O})),c(w))try{w=w(O)}catch(e){E=e}if(w&&c(w.then)){if(w=await w.catch((e=>{E=e})),_!==A[i][0]){if(E)throw E;return w}E&&S&&(e=>"function"===typeof d?d(e):!1!==d)(E)&&(s=!0,u({data:O,_c:o}))}if(s&&!E)if(c(s)){const e=s(w,O);u({data:e,error:o,_c:o})}else u({data:w,error:o,_c:o});if(A[i][1]=k(),Promise.resolve(x()).then((()=>{u({_c:o})})),!E)return w;if(g)throw E}}const F=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},Q=(e,t)=>{if(!p.has(e)){const n=u(S,t),r={},i=U.bind(o,e);let s=a;const l={},c=(e,t)=>{const n=l[e]||[];return l[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},d=(t,n,r)=>{e.set(t,n);const i=l[t];if(i)for(const e of i)e(n,r)},h=()=>{if(!p.has(e)&&(p.set(e,[r,{},{},{},i,d,c]),!C)){const t=n.initFocus(setTimeout.bind(o,F.bind(o,r,0))),i=n.initReconnect(setTimeout.bind(o,F.bind(o,r,1)));s=()=>{t&&t(),i&&i(),p.delete(e)}}};return h(),[e,i,h,s]}return[e,p.get(e)[4]]},[z,H]=Q(new Map),G=u({onLoadingSlow:a,onSuccess:a,onError:a,onErrorRetry:(e,t,n,r,i)=>{const a=n.errorRetryCount,o=i.retryCount,s=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!l(a)&&o>a||setTimeout(r,s,i)},onDiscarded:a,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:P?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:P?5e3:3e3,compare:(e,t)=>f(e)==f(t),isPaused:()=>!1,cache:z,mutate:H,fallback:{}},_),V=(e,t)=>{const n=u(e,t);if(t){const{use:r,fallback:i}=e,{use:a,fallback:o}=t;r&&a&&(n.use=r.concat(a)),i&&o&&(n.fallback=u(i,o))}return n},K=(0,r.createContext)({}),W=y&&window.__SWR_DEVTOOLS_USE__,q=W?window.__SWR_DEVTOOLS_USE__:[],Y=e=>c(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],X=()=>u(G,(0,r.useContext)(K)),J=q.concat((e=>(t,n,r)=>e(t,n&&((...e)=>{const[r]=R(t),[,,,i]=p.get(z);if(r.startsWith("$inf$"))return n(...e);const a=i[r];return l(a)?n(...e):(delete i[r],a)}),r)));W&&(window.__SWR_DEVTOOLS_REACT__=r);const $=e=>R(e)[0],Z=r.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),ee={dedupe:!0},te=(s.defineProperty((e=>{const{value:t}=e,n=(0,r.useContext)(K),i=c(t),a=(0,r.useMemo)((()=>i?t(n):t),[i,n,t]),s=(0,r.useMemo)((()=>i?a:V(n,a)),[i,n,a]),l=a&&a.provider,d=(0,r.useRef)(o);l&&!d.current&&(d.current=Q(l(s.cache||z),a));const h=d.current;return h&&(s.cache=h[0],s.mutate=h[1]),O((()=>{if(h)return h[2]&&h[2](),h[3]}),[]),(0,r.createElement)(K.Provider,u(e,{value:s}))}),"defaultValue",{value:G}),ne=(e,t,n)=>{const{cache:a,compare:s,suspense:d,fallbackData:h,revalidateOnMount:f,revalidateIfStale:g,refreshInterval:m,refreshWhenHidden:A,refreshWhenOffline:y,keepPreviousData:v}=n,[x,E,w,_]=p.get(a),[S,T]=R(e),P=(0,r.useRef)(!1),B=(0,r.useRef)(!1),F=(0,r.useRef)(S),Q=(0,r.useRef)(t),z=(0,r.useRef)(n),H=()=>z.current,G=()=>H().isVisible()&&H().isOnline(),[V,K,W,q]=b(a,S),Y=(0,r.useRef)({}).current,X=l(h)?n.fallback[S]:h,J=(e,t)=>{for(const n in Y){const r=n;if("data"===r){if(!s(e[r],t[r])){if(!l(e[r]))return!1;if(!s(le,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},$=(0,r.useMemo)((()=>{const e=!!S&&!!t&&(l(f)?!H().isPaused()&&!d&&(!!l(g)||g):f),n=t=>{const n=u(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=V(),i=q(),a=n(r),o=r===i?a:n(i);let s=a;return[()=>{const e=n(V());return J(e,s)?(s.data=e.data,s.isLoading=e.isLoading,s.isValidating=e.isValidating,s.error=e.error,s):(s=e,e)},()=>o]}),[a,S]),te=(0,i.useSyncExternalStore)((0,r.useCallback)((e=>W(S,((t,n)=>{J(n,t)||e()}))),[a,S]),$[0],$[1]),ne=!P.current,re=x[S]&&x[S].length>0,ie=te.data,ae=l(ie)?X:ie,oe=te.error,se=(0,r.useRef)(ae),le=v?l(ie)?se.current:ie:ae,ce=!(re&&!l(oe))&&(ne&&!l(f)?f:!H().isPaused()&&(d?!l(ae)&&g:l(ae)||g)),ue=!!(S&&t&&ne&&ce),de=l(te.isValidating)?ue:te.isValidating,he=l(te.isLoading)?ue:te.isLoading,fe=(0,r.useCallback)((async e=>{const t=Q.current;if(!S||!t||B.current||H().isPaused())return!1;let r,i,a=!0;const u=e||{},d=!w[S]||!u.dedupe,h=()=>I?!B.current&&S===F.current&&P.current:S===F.current,f={isValidating:!1,isLoading:!1},p=()=>{K(f)},g=()=>{const e=w[S];e&&e[1]===i&&delete w[S]},m={isValidating:!0};l(V().data)&&(m.isLoading=!0);try{if(d&&(K(m),n.loadingTimeout&&l(V().data)&&setTimeout((()=>{a&&h()&&H().onLoadingSlow(S,n)}),n.loadingTimeout),w[S]=[t(T),k()]),[r,i]=w[S],r=await r,d&&setTimeout(g,n.dedupingInterval),!w[S]||w[S][1]!==i)return d&&h()&&H().onDiscarded(S),!1;f.error=o;const e=E[S];if(!l(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return p(),d&&h()&&H().onDiscarded(S),!1;const c=V().data;f.data=s(c,r)?c:r,d&&h()&&H().onSuccess(r,S,n)}catch(e){g();const t=H(),{shouldRetryOnError:n}=t;t.isPaused()||(f.error=e,d&&h()&&(t.onError(e,S,t),(!0===n||c(n)&&n(e))&&G()&&t.onErrorRetry(e,S,t,(e=>{const t=x[S];t&&t[0]&&t[0](D,e)}),{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return a=!1,p(),!0}),[S,a]),pe=(0,r.useCallback)(((...e)=>U(a,F.current,...e)),[]);if(O((()=>{Q.current=t,z.current=n,l(ie)||(se.current=ie)})),O((()=>{if(!S)return;const e=fe.bind(o,ee);let t=0;const n=((e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}})(S,x,((n,r={})=>{if(n==L){const n=Date.now();H().revalidateOnFocus&&n>t&&G()&&(t=n+H().focusThrottleInterval,e())}else if(n==j)H().revalidateOnReconnect&&G()&&e();else{if(n==N)return fe();if(n==D)return fe(r)}}));return B.current=!1,F.current=S,P.current=!0,K({_k:T}),ce&&(l(ae)||C?e():M(e)),()=>{B.current=!0,n()}}),[S]),O((()=>{let e;function t(){const t=c(m)?m(V().data):m;t&&-1!==e&&(e=setTimeout(n,t))}function n(){V().error||!A&&!H().isVisible()||!y&&!H().isOnline()?t():fe(ee).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[m,A,y,S]),(0,r.useDebugValue)(le),d&&l(ae)&&S){if(!I&&C)throw new Error("Fallback data is required when using suspense in SSR.");Q.current=t,z.current=n,B.current=!1;const e=_[S];if(!l(e)){const t=pe(e);Z(t)}if(!l(oe))throw oe;{const e=fe(ee);l(le)||(e.status="fulfilled",e.value=!0),Z(e)}}return{mutate:pe,get data(){return Y.data=!0,le},get error(){return Y.error=!0,oe},get isValidating(){return Y.isValidating=!0,de},get isLoading(){return Y.isLoading=!0,he}}},function(...e){const t=X(),[n,r,i]=Y(e),a=V(t,i);let o=ne;const{use:s}=a,l=(s||[]).concat(J);for(let e=l.length;e--;)o=l[e](o);return o(n,r||a.fetcher||null,a)});var ne},39437:(e,t,n)=>{"use strict";n.d(t,{$EB:()=>c,$Kf:()=>Co,$_I:()=>k,B69:()=>un,BH$:()=>$o,BKk:()=>xr,BRH:()=>Us,BXX:()=>q,CSG:()=>Za,CVz:()=>J,Cfg:()=>P,DXC:()=>Xo,EAD:()=>Po,F1T:()=>Sr,FCc:()=>Jo,FV:()=>v,FZo:()=>nl,Fn:()=>te,FvD:()=>os,G3T:()=>ne,GJx:()=>I,GOR:()=>ls,GWd:()=>F,GYF:()=>Mo,GxU:()=>Ln,HXV:()=>X,HiM:()=>$s,Hit:()=>_s,I46:()=>Io,I9Y:()=>Ue,IE4:()=>V,Iw4:()=>gl,JeP:()=>go,KDk:()=>Z,Kzg:()=>il,LoY:()=>Xn,MBL:()=>Is,N1A:()=>Wo,NRn:()=>dt,Nv2:()=>as,Nwf:()=>hl,O49:()=>fe,O9p:()=>qt,ONl:()=>rs,OUM:()=>D,PJ3:()=>oe,PTz:()=>st,Pq0:()=>lt,Q1f:()=>On,Qev:()=>_e,RJ4:()=>he,RQf:()=>N,RiT:()=>Ms,Riy:()=>$,S2Q:()=>me,THS:()=>Un,Tap:()=>Fs,V9B:()=>Pn,VT0:()=>H,XIg:()=>u,Y9S:()=>Ns,YHV:()=>vl,YJl:()=>oo,Z58:()=>mo,ZLX:()=>Fo,Zr2:()=>ye,ZyN:()=>el,_4j:()=>cs,aHM:()=>ks,aMy:()=>re,bdM:()=>Nr,cj9:()=>je,dYF:()=>ot,dwI:()=>Fe,eB$:()=>Ao,eHs:()=>vo,eaF:()=>pr,er$:()=>Ae,gPd:()=>nt,ghU:()=>C,hB5:()=>s,hsX:()=>l,hxR:()=>O,iNn:()=>mr,iOZ:()=>ss,imn:()=>_n,ix0:()=>j,iyt:()=>Ot,k6Q:()=>Y,k6q:()=>R,kLi:()=>Ze,kRr:()=>B,kTW:()=>M,kn4:()=>jt,lGw:()=>As,lMl:()=>En,lc7:()=>ie,ljd:()=>ae,mrM:()=>Qo,nCl:()=>Ws,nWS:()=>it,o6l:()=>Cr,pHI:()=>T,paN:()=>G,qUd:()=>qr,qa3:()=>ee,qtW:()=>zn,r6x:()=>rl,rYR:()=>pe,tBo:()=>ml,tgE:()=>ge,tz3:()=>Os,uSd:()=>us,ubm:()=>wr,wfO:()=>w,y_p:()=>g});const r="151",i=1,a=2,o=3,s=0,l=1,c=2,u=0,d=100,h=0,f=1,p=2,g=0,m=1,A=2,y=3,v=4,b=5,x=301,E=302,w=303,_=304,S=306,I=1e3,C=1001,M=1002,O=1003,T=1004,P=1005,R=1006,B=1007,k=1008,D=1009,L=1014,N=1015,j=1016,U=1020,F=1023,Q=1026,z=1027,H=1028,G=1030,V=33776,K=33777,W=33778,q=33779,Y=35840,X=35842,J=36196,$=37492,Z=37496,ee=37808,te=36492,ne=2200,re=2201,ie=2202,ae=2300,oe=2301,se=2302,le=2400,ce=2401,ue=2402,de=2500,he=0,fe=1,pe=2,ge=3e3,me=3001,Ae="srgb",ye="srgb-linear",ve="display-p3",be=7680,xe=35044,Ee="300 es",we=1035;class _e{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Se=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Ie=1234567;const Ce=Math.PI/180,Me=180/Math.PI;function Oe(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Se[255&e]+Se[e>>8&255]+Se[e>>16&255]+Se[e>>24&255]+"-"+Se[255&t]+Se[t>>8&255]+"-"+Se[t>>16&15|64]+Se[t>>24&255]+"-"+Se[63&n|128]+Se[n>>8&255]+"-"+Se[n>>16&255]+Se[n>>24&255]+Se[255&r]+Se[r>>8&255]+Se[r>>16&255]+Se[r>>24&255]).toLowerCase()}function Te(e,t,n){return Math.max(t,Math.min(n,e))}function Pe(e,t){return(e%t+t)%t}function Re(e,t,n){return(1-n)*e+n*t}function Be(e){return 0===(e&e-1)&&0!==e}function ke(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function De(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Le(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Ne(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const je={DEG2RAD:Ce,RAD2DEG:Me,generateUUID:Oe,clamp:Te,euclideanModulo:Pe,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Re,damp:function(e,t,n,r){return Re(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(Pe(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Ie=e);let t=Ie+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Ce},radToDeg:function(e){return e*Me},isPowerOfTwo:Be,ceilPowerOfTwo:ke,floorPowerOfTwo:De,setQuaternionFromProperEuler:function(e,t,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),d=a((t-r)/2),h=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c)}},normalize:Ne,denormalize:Le};class Ue{constructor(e=0,t=0){Ue.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Te(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fe{constructor(){Fe.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,i,a,o,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=r[0],g=r[3],m=r[6],A=r[1],y=r[4],v=r[7],b=r[2],x=r[5],E=r[8];return i[0]=a*p+o*A+s*b,i[3]=a*g+o*y+s*x,i[6]=a*m+o*v+s*E,i[1]=l*p+c*A+u*b,i[4]=l*g+c*y+u*x,i[7]=l*m+c*v+u*E,i[2]=d*p+h*A+f*b,i[5]=d*g+h*y+f*x,i[8]=d*m+h*v+f*E,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*i,h=l*i-a*s,f=t*u+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(Qe.makeScale(e,t)),this}rotate(e){return this.premultiply(Qe.makeRotation(-e)),this}translate(e,t){return this.premultiply(Qe.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Qe=new Fe;function ze(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function He(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Ge(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ve(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const Ke=(new Fe).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),We=(new Fe).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);const qe={[ye]:e=>e,[Ae]:e=>e.convertSRGBToLinear(),[ve]:function(e){return e.convertSRGBToLinear().applyMatrix3(We)}},Ye={[ye]:e=>e,[Ae]:e=>e.convertLinearToSRGB(),[ve]:function(e){return e.applyMatrix3(Ke).convertLinearToSRGB()}},Xe={enabled:!1,get legacyMode(){return!this.enabled},set legacyMode(e){this.enabled=!e},get workingColorSpace(){return ye},set workingColorSpace(e){},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=qe[t],i=Ye[n];if(void 0===r||void 0===i)throw new Error(`Unsupported color space conversion, "${t}" to "${n}".`);return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}};let Je;class $e{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Je&&(Je=He("canvas")),Je.width=e.width,Je.height=e.height;const n=Je.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Je}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=He("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*Ge(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Ge(t[e]/255)):t[e]=Ge(t[e]);return{data:t,width:e.width,height:e.height}}return e}}class Ze{constructor(e=null){this.isSource=!0,this.uuid=Oe(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(et(r[t].image)):e.push(et(r[t]))}else e=et(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function et(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?$e.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:{}}let tt=0;class nt extends _e{constructor(e=nt.DEFAULT_IMAGE,t=nt.DEFAULT_MAPPING,n=C,r=C,i=R,a=k,o=F,s=D,l=nt.DEFAULT_ANISOTROPY,c=ge){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:tt++}),this.uuid=Oe(),this.name="",this.source=new Ze(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Ue(0,0),this.repeat=new Ue(1,1),this.center=new Ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fe,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case I:e.x=e.x-Math.floor(e.x);break;case C:e.x=e.x<0?0:1;break;case M:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case I:e.y=e.y-Math.floor(e.y);break;case C:e.y=e.y<0?0:1;break;case M:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}nt.DEFAULT_IMAGE=null,nt.DEFAULT_MAPPING=300,nt.DEFAULT_ANISOTROPY=1;class rt{constructor(e=0,t=0,n=0,r=1){rt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],f=s[9],p=s[2],g=s[6],m=s[10];if(Math.abs(c-d)<a&&Math.abs(u-p)<a&&Math.abs(f-g)<a){if(Math.abs(c+d)<o&&Math.abs(u+p)<o&&Math.abs(f+g)<o&&Math.abs(l+h+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,A=(m+1)/2,y=(c+d)/4,v=(u+p)/4,b=(f+g)/4;return e>s&&e>A?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=v/n):s>A?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=b/r):A<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(A),n=v/i,r=b/i),this.set(n,r,i,t),this}let A=Math.sqrt((g-f)*(g-f)+(u-p)*(u-p)+(d-c)*(d-c));return Math.abs(A)<.001&&(A=1),this.x=(g-f)/A,this.y=(u-p)/A,this.z=(d-c)/A,this.w=Math.acos((l+h+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class it extends _e{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new rt(0,0,e,t),this.scissorTest=!1,this.viewport=new rt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new nt(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:R,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ze(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class at extends nt{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=O,this.minFilter=O,this.wrapR=C,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ot extends nt{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=O,this.minFilter=O,this.wrapR=C,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class st{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(u!==p||s!==d||l!==h||c!==f){let e=1-o;const t=s*d+l*h+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}const i=o*n;if(s=s*e+d*i,l=l*e+h*i,c=c*e+f*i,u=u*e+p*i,e===1-o){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,a){const o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],d=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+c*u+s*h-l*d,e[t+1]=s*f+c*d+l*u-o*h,e[t+2]=l*f+c*h+o*d-s*u,e[t+3]=c*f-o*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Te(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class lt{constructor(e=0,t=0,n=0){lt.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ut.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ut.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,c=s*n+o*t-i*r,u=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=l*s+d*-i+c*-o-u*-a,this.y=c*s+d*-a+u*-i-l*-o,this.z=u*s+d*-o+l*-a-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ct.copy(this).projectOnVector(e),this.sub(ct)}reflect(e){return this.sub(ct.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Te(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ct=new lt,ut=new st;class dt{constructor(e=new lt(1/0,1/0,1/0),t=new lt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(ft.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(ft.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=ft.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),pt.copy(e.boundingBox),pt.applyMatrix4(e.matrixWorld),this.union(pt);else{const n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)ft.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(ft)}else null===n.boundingBox&&n.computeBoundingBox(),pt.copy(n.boundingBox),pt.applyMatrix4(e.matrixWorld),this.union(pt)}const n=e.children;for(let e=0,r=n.length;e<r;e++)this.expandByObject(n[e],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ft),ft.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(xt),Et.subVectors(this.max,xt),gt.subVectors(e.a,xt),mt.subVectors(e.b,xt),At.subVectors(e.c,xt),yt.subVectors(mt,gt),vt.subVectors(At,mt),bt.subVectors(gt,At);let t=[0,-yt.z,yt.y,0,-vt.z,vt.y,0,-bt.z,bt.y,yt.z,0,-yt.x,vt.z,0,-vt.x,bt.z,0,-bt.x,-yt.y,yt.x,0,-vt.y,vt.x,0,-bt.y,bt.x,0];return!!St(t,gt,mt,At,Et)&&(t=[1,0,0,0,1,0,0,0,1],!!St(t,gt,mt,At,Et)&&(wt.crossVectors(yt,vt),t=[wt.x,wt.y,wt.z],St(t,gt,mt,At,Et)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ft).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(ft).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ht[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ht[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ht[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ht[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ht[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ht[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ht[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ht[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ht)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ht=[new lt,new lt,new lt,new lt,new lt,new lt,new lt,new lt],ft=new lt,pt=new dt,gt=new lt,mt=new lt,At=new lt,yt=new lt,vt=new lt,bt=new lt,xt=new lt,Et=new lt,wt=new lt,_t=new lt;function St(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){_t.fromArray(e,a);const o=i.x*Math.abs(_t.x)+i.y*Math.abs(_t.y)+i.z*Math.abs(_t.z),s=t.dot(_t),l=n.dot(_t),c=r.dot(_t);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}const It=new dt,Ct=new lt,Mt=new lt;class Ot{constructor(e=new lt,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):It.setFromPoints(e).getCenter(n);let r=0;for(let t=0,i=e.length;t<i;t++)r=Math.max(r,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ct.subVectors(e,this.center);const t=Ct.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Ct,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Mt.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ct.copy(e.center).add(Mt)),this.expandByPoint(Ct.copy(e.center).sub(Mt))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Tt=new lt,Pt=new lt,Rt=new lt,Bt=new lt,kt=new lt,Dt=new lt,Lt=new lt;class Nt{constructor(e=new lt,t=new lt(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Tt)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Tt.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Tt.copy(this.origin).addScaledVector(this.direction,t),Tt.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Pt.copy(e).add(t).multiplyScalar(.5),Rt.copy(t).sub(e).normalize(),Bt.copy(this.origin).sub(Pt);const i=.5*e.distanceTo(t),a=-this.direction.dot(Rt),o=Bt.dot(this.direction),s=-Bt.dot(Rt),l=Bt.lengthSq(),c=Math.abs(1-a*a);let u,d,h,f;if(c>0)if(u=a*s-o,d=a*o-s,f=i*c,u>=0)if(d>=-f)if(d<=f){const e=1/c;u*=e,d*=e,h=u*(u+a*d+2*o)+d*(a*u+d+2*s)+l}else d=i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d<=-f?(u=Math.max(0,-(-a*i+o)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=f?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(a*i+o)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=a>0?-i:i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Pt).addScaledVector(Rt,d),h}intersectSphere(e,t){Tt.subVectors(e.center,this.origin);const n=Tt.dot(this.direction),r=Tt.dot(Tt)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Tt)}intersectTriangle(e,t,n,r,i){kt.subVectors(t,e),Dt.subVectors(n,e),Lt.crossVectors(kt,Dt);let a,o=this.direction.dot(Lt);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Bt.subVectors(this.origin,e);const s=a*this.direction.dot(Dt.crossVectors(Bt,Dt));if(s<0)return null;const l=a*this.direction.dot(kt.cross(Bt));if(l<0)return null;if(s+l>o)return null;const c=-a*Bt.dot(Lt);return c<0?null:this.at(c/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class jt{constructor(){jt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,g){const m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=c,m[10]=u,m[14]=d,m[3]=h,m[7]=f,m[11]=p,m[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new jt).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Ut.setFromMatrixColumn(e,0).length(),i=1/Ut.setFromMatrixColumn(e,1).length(),a=1/Ut.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*o,t[4]=-a*u,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*c,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=a*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=o*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Qt,e,zt)}lookAt(e,t,n){const r=this.elements;return Vt.subVectors(e,t),0===Vt.lengthSq()&&(Vt.z=1),Vt.normalize(),Ht.crossVectors(n,Vt),0===Ht.lengthSq()&&(1===Math.abs(n.z)?Vt.x+=1e-4:Vt.z+=1e-4,Vt.normalize(),Ht.crossVectors(n,Vt)),Ht.normalize(),Gt.crossVectors(Vt,Ht),r[0]=Ht.x,r[4]=Gt.x,r[8]=Vt.x,r[1]=Ht.y,r[5]=Gt.y,r[9]=Vt.y,r[2]=Ht.z,r[6]=Gt.z,r[10]=Vt.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],g=n[10],m=n[14],A=n[3],y=n[7],v=n[11],b=n[15],x=r[0],E=r[4],w=r[8],_=r[12],S=r[1],I=r[5],C=r[9],M=r[13],O=r[2],T=r[6],P=r[10],R=r[14],B=r[3],k=r[7],D=r[11],L=r[15];return i[0]=a*x+o*S+s*O+l*B,i[4]=a*E+o*I+s*T+l*k,i[8]=a*w+o*C+s*P+l*D,i[12]=a*_+o*M+s*R+l*L,i[1]=c*x+u*S+d*O+h*B,i[5]=c*E+u*I+d*T+h*k,i[9]=c*w+u*C+d*P+h*D,i[13]=c*_+u*M+d*R+h*L,i[2]=f*x+p*S+g*O+m*B,i[6]=f*E+p*I+g*T+m*k,i[10]=f*w+p*C+g*P+m*D,i[14]=f*_+p*M+g*R+m*L,i[3]=A*x+y*S+v*O+b*B,i[7]=A*E+y*I+v*T+b*k,i[11]=A*w+y*C+v*P+b*D,i[15]=A*_+y*M+v*R+b*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*l*u-i*o*d+n*l*d+r*o*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*a*d-r*a*h+r*l*c-i*s*c)+e[11]*(+t*l*u-t*o*h-i*a*u+n*a*h+i*o*c-n*l*c)+e[15]*(-r*o*c-t*s*u+t*o*d+r*a*u-n*a*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],p=e[13],g=e[14],m=e[15],A=u*g*l-p*d*l+p*s*h-o*g*h-u*s*m+o*d*m,y=f*d*l-c*g*l-f*s*h+a*g*h+c*s*m-a*d*m,v=c*p*l-f*u*l+f*o*h-a*p*h-c*o*m+a*u*m,b=f*u*s-c*p*s-f*o*d+a*p*d+c*o*g-a*u*g,x=t*A+n*y+r*v+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/x;return e[0]=A*E,e[1]=(p*d*i-u*g*i-p*r*h+n*g*h+u*r*m-n*d*m)*E,e[2]=(o*g*i-p*s*i+p*r*l-n*g*l-o*r*m+n*s*m)*E,e[3]=(u*s*i-o*d*i-u*r*l+n*d*l+o*r*h-n*s*h)*E,e[4]=y*E,e[5]=(c*g*i-f*d*i+f*r*h-t*g*h-c*r*m+t*d*m)*E,e[6]=(f*s*i-a*g*i-f*r*l+t*g*l+a*r*m-t*s*m)*E,e[7]=(a*d*i-c*s*i+c*r*l-t*d*l-a*r*h+t*s*h)*E,e[8]=v*E,e[9]=(f*u*i-c*p*i-f*n*h+t*p*h+c*n*m-t*u*m)*E,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*m+t*o*m)*E,e[11]=(c*o*i-a*u*i-c*n*l+t*u*l+a*n*h-t*o*h)*E,e[12]=b*E,e[13]=(c*p*r-f*u*r+f*n*d-t*p*d-c*n*g+t*u*g)*E,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*g-t*o*g)*E,e[15]=(a*u*r-c*o*r+c*n*s-t*u*s-a*n*d+t*o*d)*E,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,d=i*l,h=i*c,f=i*u,p=a*c,g=a*u,m=o*u,A=s*l,y=s*c,v=s*u,b=n.x,x=n.y,E=n.z;return r[0]=(1-(p+m))*b,r[1]=(h+v)*b,r[2]=(f-y)*b,r[3]=0,r[4]=(h-v)*x,r[5]=(1-(d+m))*x,r[6]=(g+A)*x,r[7]=0,r[8]=(f+y)*E,r[9]=(g-A)*E,r[10]=(1-(d+p))*E,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Ut.set(r[0],r[1],r[2]).length();const a=Ut.set(r[4],r[5],r[6]).length(),o=Ut.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Ft.copy(this);const s=1/i,l=1/a,c=1/o;return Ft.elements[0]*=s,Ft.elements[1]*=s,Ft.elements[2]*=s,Ft.elements[4]*=l,Ft.elements[5]*=l,Ft.elements[6]*=l,Ft.elements[8]*=c,Ft.elements[9]*=c,Ft.elements[10]*=c,t.setFromRotationMatrix(Ft),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a){const o=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),d=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,r,i,a){const o=this.elements,s=1/(t-e),l=1/(n-r),c=1/(a-i),u=(t+e)*s,d=(n+r)*l,h=(a+i)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Ut=new lt,Ft=new jt,Qt=new lt(0,0,0),zt=new lt(1,1,1),Ht=new lt,Gt=new lt,Vt=new lt,Kt=new jt,Wt=new st;class qt{constructor(e=0,t=0,n=0,r=qt.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(Te(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Te(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Te(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Te(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Te(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Te(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-c,h),this._y=0)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Kt.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Kt,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Wt.setFromEuler(this),this.setFromQuaternion(Wt,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}qt.DEFAULT_ORDER="XYZ";class Yt{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let Xt=0;const Jt=new lt,$t=new st,Zt=new jt,en=new lt,tn=new lt,nn=new lt,rn=new st,an=new lt(1,0,0),on=new lt(0,1,0),sn=new lt(0,0,1),ln={type:"added"},cn={type:"removed"};class un extends _e{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Xt++}),this.uuid=Oe(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=un.DEFAULT_UP.clone();const e=new lt,t=new qt,n=new st,r=new lt(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new jt},normalMatrix:{value:new Fe}}),this.matrix=new jt,this.matrixWorld=new jt,this.matrixAutoUpdate=un.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=un.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Yt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return $t.setFromAxisAngle(e,t),this.quaternion.multiply($t),this}rotateOnWorldAxis(e,t){return $t.setFromAxisAngle(e,t),this.quaternion.premultiply($t),this}rotateX(e){return this.rotateOnAxis(an,e)}rotateY(e){return this.rotateOnAxis(on,e)}rotateZ(e){return this.rotateOnAxis(sn,e)}translateOnAxis(e,t){return Jt.copy(e).applyQuaternion(this.quaternion),this.position.add(Jt.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(an,e)}translateY(e){return this.translateOnAxis(on,e)}translateZ(e){return this.translateOnAxis(sn,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Zt.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?en.copy(e):en.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),tn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zt.lookAt(tn,en,this.up):Zt.lookAt(en,tn,this.up),this.quaternion.setFromRotationMatrix(Zt),r&&(Zt.extractRotation(r.matrixWorld),$t.setFromRotationMatrix(Zt),this.quaternion.premultiply($t.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this||e&&e.isObject3D&&(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ln)),this}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(cn)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(cn)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Zt.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Zt.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zt),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){const i=this.children[r].getObjectsByProperty(e,t);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tn,e,nn),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tn,rn,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const n=e.children[t];this.add(n.clone())}return this}}un.DEFAULT_UP=new lt(0,1,0),un.DEFAULT_MATRIX_AUTO_UPDATE=!0,un.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const dn=new lt,hn=new lt,fn=new lt,pn=new lt,gn=new lt,mn=new lt,An=new lt,yn=new lt,vn=new lt,bn=new lt;let xn=!1;class En{constructor(e=new lt,t=new lt,n=new lt){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),dn.subVectors(e,t),r.cross(dn);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){dn.subVectors(r,t),hn.subVectors(n,t),fn.subVectors(e,t);const a=dn.dot(dn),o=dn.dot(hn),s=dn.dot(fn),l=hn.dot(hn),c=hn.dot(fn),u=a*l-o*o;if(0===u)return i.set(-2,-1,-1);const d=1/u,h=(l*s-o*c)*d,f=(a*c-o*s)*d;return i.set(1-h-f,f,h)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,pn),pn.x>=0&&pn.y>=0&&pn.x+pn.y<=1}static getUV(e,t,n,r,i,a,o,s){return!1===xn&&(xn=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}static getInterpolation(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,pn),s.setScalar(0),s.addScaledVector(i,pn.x),s.addScaledVector(a,pn.y),s.addScaledVector(o,pn.z),s}static isFrontFacing(e,t,n,r){return dn.subVectors(n,t),hn.subVectors(e,t),dn.cross(hn).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return dn.subVectors(this.c,this.b),hn.subVectors(this.a,this.b),.5*dn.cross(hn).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return En.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return En.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return!1===xn&&(xn=!0),En.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}getInterpolation(e,t,n,r,i){return En.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return En.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return En.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,o;gn.subVectors(r,n),mn.subVectors(i,n),yn.subVectors(e,n);const s=gn.dot(yn),l=mn.dot(yn);if(s<=0&&l<=0)return t.copy(n);vn.subVectors(e,r);const c=gn.dot(vn),u=mn.dot(vn);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(gn,a);bn.subVectors(e,i);const h=gn.dot(bn),f=mn.dot(bn);if(f>=0&&h<=f)return t.copy(i);const p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(n).addScaledVector(mn,o);const g=c*f-h*u;if(g<=0&&u-c>=0&&h-f>=0)return An.subVectors(i,r),o=(u-c)/(u-c+(h-f)),t.copy(r).addScaledVector(An,o);const m=1/(g+p+d);return a=p*m,o=d*m,t.copy(n).addScaledVector(gn,a).addScaledVector(mn,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let wn=0;class _n extends _e{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:wn++}),this.uuid=Oe(),this.name="",this.type="Material",this.blending=1,this.side=s,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=d,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=be,this.stencilZFail=be,this.stencilZPass=be,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n)continue;const r=this[t];void 0!==r&&(r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n)}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==s&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const Sn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},In={h:0,s:0,l:0},Cn={h:0,s:0,l:0};function Mn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class On{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ae){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Xe.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Xe.workingColorSpace){return this.r=e,this.g=t,this.b=n,Xe.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Xe.workingColorSpace){if(e=Pe(e,1),t=Te(t,0,1),n=Te(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Mn(i,r,e+1/3),this.g=Mn(i,r,e),this.b=Mn(i,r,e-1/3)}return Xe.toWorkingColorSpace(this,r),this}setStyle(e,t=Ae){function n(e){void 0!==e&&parseFloat(e)}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let e;const i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,Xe.toWorkingColorSpace(this,t),n(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,Xe.toWorkingColorSpace(this,t),n(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const r=parseFloat(e[1])/360,i=parseFloat(e[2])/100,a=parseFloat(e[3])/100;return n(e[4]),this.setHSL(r,i,a,t)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],n=e.length;if(3===n)return this.setRGB(parseInt(e.charAt(0),16)/15,parseInt(e.charAt(1),16)/15,parseInt(e.charAt(2),16)/15,t);if(6===n)return this.setHex(parseInt(e,16),t)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ae){const n=Sn[e.toLowerCase()];return void 0!==n&&this.setHex(n,t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ge(e.r),this.g=Ge(e.g),this.b=Ge(e.b),this}copyLinearToSRGB(e){return this.r=Ve(e.r),this.g=Ve(e.g),this.b=Ve(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ae){return Xe.fromWorkingColorSpace(Tn.copy(this),e),Te(255*Tn.r,0,255)<<16^Te(255*Tn.g,0,255)<<8^Te(255*Tn.b,0,255)}getHexString(e=Ae){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Xe.workingColorSpace){Xe.fromWorkingColorSpace(Tn.copy(this),t);const n=Tn.r,r=Tn.g,i=Tn.b,a=Math.max(n,r,i),o=Math.min(n,r,i);let s,l;const c=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=c<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=Xe.workingColorSpace){return Xe.fromWorkingColorSpace(Tn.copy(this),t),e.r=Tn.r,e.g=Tn.g,e.b=Tn.b,e}getStyle(e=Ae){Xe.fromWorkingColorSpace(Tn.copy(this),e);const t=Tn.r,n=Tn.g,r=Tn.b;return e!==Ae?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${255*t|0},${255*n|0},${255*r|0})`}offsetHSL(e,t,n){return this.getHSL(In),In.h+=e,In.s+=t,In.l+=n,this.setHSL(In.h,In.s,In.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(In),e.getHSL(Cn);const n=Re(In.h,Cn.h,t),r=Re(In.s,Cn.s,t),i=Re(In.l,Cn.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Tn=new On;On.NAMES=Sn;class Pn extends _n{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new On(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=h,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Rn=Bn();function Bn(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(r[e]=0,r[256|e]=32768,i[e]=24,i[256|e]=24):t<-14?(r[e]=1024>>-t-14,r[256|e]=1024>>-t-14|32768,i[e]=-t-1,i[256|e]=-t-1):t<=15?(r[e]=t+15<<10,r[256|e]=t+15<<10|32768,i[e]=13,i[256|e]=13):t<128?(r[e]=31744,r[256|e]=64512,i[e]=24,i[256|e]=24):(r[e]=31744,r[256|e]=64512,i[e]=13,i[256|e]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;0===(8388608&t);)t<<=1,n-=8388608;t&=-8388609,n+=947912704,a[e]=t|n}for(let e=1024;e<2048;++e)a[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)o[e]=e<<23;o[31]=1199570944,o[32]=2147483648;for(let e=33;e<63;++e)o[e]=2147483648+(e-32<<23);o[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(s[e]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function kn(e){Math.abs(e),e=Te(e,-65504,65504),Rn.floatView[0]=e;const t=Rn.uint32View[0],n=t>>23&511;return Rn.baseTable[n]+((8388607&t)>>Rn.shiftTable[n])}function Dn(e){const t=e>>10;return Rn.uint32View[0]=Rn.mantissaTable[Rn.offsetTable[t]+(1023&e)]+Rn.exponentTable[t],Rn.floatView[0]}const Ln={toHalfFloat:kn,fromHalfFloat:Dn},Nn=new lt,jn=new Ue;class Un{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=xe,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix3(e),this.setXY(t,jn.x,jn.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Nn.fromBufferAttribute(this,t),Nn.applyMatrix3(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Nn.fromBufferAttribute(this,t),Nn.applyMatrix4(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Nn.fromBufferAttribute(this,t),Nn.applyNormalMatrix(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Nn.fromBufferAttribute(this,t),Nn.transformDirection(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Le(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ne(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Le(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ne(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Le(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ne(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Le(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ne(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ne(t,this.array),n=Ne(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ne(t,this.array),n=Ne(n,this.array),r=Ne(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Ne(t,this.array),n=Ne(n,this.array),r=Ne(r,this.array),i=Ne(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==xe&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}copyColorsArray(){}copyVector2sArray(){}copyVector3sArray(){}copyVector4sArray(){}}class Fn extends Un{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Qn extends Un{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class zn extends Un{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Hn=0;const Gn=new jt,Vn=new un,Kn=new lt,Wn=new dt,qn=new dt,Yn=new lt;class Xn extends _e{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Hn++}),this.uuid=Oe(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ze(e)?Qn:Fn)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Fe).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Gn.makeRotationFromQuaternion(e),this.applyMatrix4(Gn),this}rotateX(e){return Gn.makeRotationX(e),this.applyMatrix4(Gn),this}rotateY(e){return Gn.makeRotationY(e),this.applyMatrix4(Gn),this}rotateZ(e){return Gn.makeRotationZ(e),this.applyMatrix4(Gn),this}translate(e,t,n){return Gn.makeTranslation(e,t,n),this.applyMatrix4(Gn),this}scale(e,t,n){return Gn.makeScale(e,t,n),this.applyMatrix4(Gn),this}lookAt(e){return Vn.lookAt(e),Vn.updateMatrix(),this.applyMatrix4(Vn.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kn).negate(),this.translate(Kn.x,Kn.y,Kn.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new zn(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new dt);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new lt(-1/0,-1/0,-1/0),new lt(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];Wn.setFromBufferAttribute(n),this.morphTargetsRelative?(Yn.addVectors(this.boundingBox.min,Wn.min),this.boundingBox.expandByPoint(Yn),Yn.addVectors(this.boundingBox.max,Wn.max),this.boundingBox.expandByPoint(Yn)):(this.boundingBox.expandByPoint(Wn.min),this.boundingBox.expandByPoint(Wn.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ot);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new lt,1/0);else if(e){const n=this.boundingSphere.center;if(Wn.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];qn.setFromBufferAttribute(n),this.morphTargetsRelative?(Yn.addVectors(Wn.min,qn.min),Wn.expandByPoint(Yn),Yn.addVectors(Wn.max,qn.max),Wn.expandByPoint(Yn)):(Wn.expandByPoint(qn.min),Wn.expandByPoint(qn.max))}Wn.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)Yn.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(Yn));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)Yn.fromBufferAttribute(a,t),o&&(Kn.fromBufferAttribute(e,t),Yn.add(Kn)),r=Math.max(r,n.distanceToSquared(Yn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return;const n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Un(new Float32Array(4*o),4));const s=this.getAttribute("tangent").array,l=[],c=[];for(let e=0;e<o;e++)l[e]=new lt,c[e]=new lt;const u=new lt,d=new lt,h=new lt,f=new Ue,p=new Ue,g=new Ue,m=new lt,A=new lt;function y(e,t,n){u.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),f.fromArray(a,2*e),p.fromArray(a,2*t),g.fromArray(a,2*n),d.sub(u),h.sub(u),p.sub(f),g.sub(f);const i=1/(p.x*g.y-g.x*p.y);isFinite(i)&&(m.copy(d).multiplyScalar(g.y).addScaledVector(h,-p.y).multiplyScalar(i),A.copy(h).multiplyScalar(p.x).addScaledVector(d,-g.x).multiplyScalar(i),l[e].add(m),l[t].add(m),l[n].add(m),c[e].add(A),c[t].add(A),c[n].add(A))}let v=this.groups;0===v.length&&(v=[{start:0,count:n.length}]);for(let e=0,t=v.length;e<t;++e){const t=v[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)y(n[e+0],n[e+1],n[e+2])}const b=new lt,x=new lt,E=new lt,w=new lt;function _(e){E.fromArray(i,3*e),w.copy(E);const t=l[e];b.copy(t),b.sub(E.multiplyScalar(E.dot(t))).normalize(),x.crossVectors(w,t);const n=x.dot(c[e])<0?-1:1;s[4*e]=b.x,s[4*e+1]=b.y,s[4*e+2]=b.z,s[4*e+3]=n}for(let e=0,t=v.length;e<t;++e){const t=v[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)_(n[e+0]),_(n[e+1]),_(n[e+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Un(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new lt,i=new lt,a=new lt,o=new lt,s=new lt,l=new lt,c=new lt,u=new lt;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),f=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),o.add(c),s.add(c),l.add(c),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,o=t.count;e<o;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Yn.fromBufferAttribute(e,t),Yn.normalize(),e.setXYZ(t,Yn.x,Yn.y,Yn.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let o=0,s=0;for(let i=0,l=t.length;i<l;i++){o=e.isInterleavedBufferAttribute?t[i]*e.data.stride+e.offset:t[i]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new Un(a,r,i)}if(null===this.index)return this;const t=new Xn,n=this.index.array,r=this.attributes;for(const i in r){const a=e(r[i],n);t.setAttribute(i,a)}const i=this.morphAttributes;for(const r in i){const a=[],o=i[r];for(let t=0,r=o.length;t<r;t++){const r=e(o[t],n);a.push(r)}t.morphAttributes[r]=a}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let e=0,n=a.length;e<n;e++){const n=a[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const t in n){const r=n[t];e.data.attributes[t]=r.toJSON(e.data)}const r={};let i=!1;for(const t in this.morphAttributes){const n=this.morphAttributes[t],a=[];for(let t=0,r=n.length;t<r;t++){const r=n[t];a.push(r.toJSON(e.data))}a.length>0&&(r[t]=a,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const e in r){const n=r[e];this.setAttribute(e,n.clone(t))}const i=e.morphAttributes;for(const e in i){const n=[],r=i[e];for(let e=0,i=r.length;e<i;e++)n.push(r[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let e=0,t=a.length;e<t;e++){const t=a[e];this.addGroup(t.start,t.count,t.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Jn=new jt,$n=new Nt,Zn=new Ot,er=new lt,tr=new lt,nr=new lt,rr=new lt,ir=new lt,ar=new lt,or=new Ue,sr=new Ue,lr=new Ue,cr=new lt,ur=new lt,dr=new lt,hr=new lt,fr=new lt;class pr extends un{constructor(e=new Xn,t=new Pn){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(i&&o){ar.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=o[n],s=i[n];0!==r&&(ir.fromBufferAttribute(s,e),a?ar.addScaledVector(ir,r):ar.addScaledVector(ir.sub(t),r))}t.add(ar)}return this.isSkinnedMesh&&this.applyBoneTransform(e,t),t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Zn.copy(n.boundingSphere),Zn.applyMatrix4(i),$n.copy(e.ray).recast(e.near),!1===Zn.containsPoint($n.origin)){if(null===$n.intersectSphere(Zn,er))return;if($n.origin.distanceToSquared(er)>(e.far-e.near)**2)return}if(Jn.copy(i).invert(),$n.copy(e.ray).applyMatrix4(Jn),null!==n.boundingBox&&!1===$n.intersectsBox(n.boundingBox))return;let a;const o=n.index,s=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,u=n.attributes.normal,d=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(r))for(let n=0,i=d.length;n<i;n++){const i=d[n],s=r[i.materialIndex];for(let n=Math.max(i.start,h.start),r=Math.min(o.count,Math.min(i.start+i.count,h.start+h.count));n<r;n+=3){const r=o.getX(n),d=o.getX(n+1),h=o.getX(n+2);a=gr(this,s,e,$n,l,c,u,r,d,h),a&&(a.faceIndex=Math.floor(n/3),a.face.materialIndex=i.materialIndex,t.push(a))}}else{for(let n=Math.max(0,h.start),i=Math.min(o.count,h.start+h.count);n<i;n+=3){const i=o.getX(n),s=o.getX(n+1),d=o.getX(n+2);a=gr(this,r,e,$n,l,c,u,i,s,d),a&&(a.faceIndex=Math.floor(n/3),t.push(a))}}else if(void 0!==s)if(Array.isArray(r))for(let n=0,i=d.length;n<i;n++){const i=d[n],o=r[i.materialIndex];for(let n=Math.max(i.start,h.start),r=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));n<r;n+=3){a=gr(this,o,e,$n,l,c,u,n,n+1,n+2),a&&(a.faceIndex=Math.floor(n/3),a.face.materialIndex=i.materialIndex,t.push(a))}}else{for(let n=Math.max(0,h.start),i=Math.min(s.count,h.start+h.count);n<i;n+=3){a=gr(this,r,e,$n,l,c,u,n,n+1,n+2),a&&(a.faceIndex=Math.floor(n/3),t.push(a))}}}}function gr(e,t,n,r,i,a,o,c,u,d){e.getVertexPosition(c,tr),e.getVertexPosition(u,nr),e.getVertexPosition(d,rr);const h=function(e,t,n,r,i,a,o,c){let u;if(u=t.side===l?r.intersectTriangle(o,a,i,!0,c):r.intersectTriangle(i,a,o,t.side===s,c),null===u)return null;fr.copy(c),fr.applyMatrix4(e.matrixWorld);const d=n.ray.origin.distanceTo(fr);return d<n.near||d>n.far?null:{distance:d,point:fr.clone(),object:e}}(e,t,n,r,tr,nr,rr,hr);if(h){i&&(or.fromBufferAttribute(i,c),sr.fromBufferAttribute(i,u),lr.fromBufferAttribute(i,d),h.uv=En.getInterpolation(hr,tr,nr,rr,or,sr,lr,new Ue)),a&&(or.fromBufferAttribute(a,c),sr.fromBufferAttribute(a,u),lr.fromBufferAttribute(a,d),h.uv2=En.getInterpolation(hr,tr,nr,rr,or,sr,lr,new Ue)),o&&(cr.fromBufferAttribute(o,c),ur.fromBufferAttribute(o,u),dr.fromBufferAttribute(o,d),h.normal=En.getInterpolation(hr,tr,nr,rr,cr,ur,dr,new lt),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const e={a:c,b:u,c:d,normal:new lt,materialIndex:0};En.getNormal(tr,nr,rr,e.normal),h.face=e}return h}class mr extends Xn{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const s=[],l=[],c=[],u=[];let d=0,h=0;function f(e,t,n,r,i,a,f,p,g,m,A){const y=a/g,v=f/m,b=a/2,x=f/2,E=p/2,w=g+1,_=m+1;let S=0,I=0;const C=new lt;for(let a=0;a<_;a++){const o=a*v-x;for(let s=0;s<w;s++){const d=s*y-b;C[e]=d*r,C[t]=o*i,C[n]=E,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=p>0?1:-1,c.push(C.x,C.y,C.z),u.push(s/g),u.push(1-a/m),S+=1}}for(let e=0;e<m;e++)for(let t=0;t<g;t++){const n=d+t+w*e,r=d+t+w*(e+1),i=d+(t+1)+w*(e+1),a=d+(t+1)+w*e;s.push(n,r,a),s.push(r,i,a),I+=6}o.addGroup(h,I,A),h+=I,d+=S}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new zn(l,3)),this.setAttribute("normal",new zn(c,3)),this.setAttribute("uv",new zn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mr(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ar(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?t[n][r]=null:t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function yr(e){const t={};for(let n=0;n<e.length;n++){const r=Ar(e[n]);for(const e in r)t[e]=r[e]}return t}function vr(e){return null===e.getRenderTarget()&&e.outputEncoding===me?Ae:ye}const br={clone:Ar,merge:yr};class xr extends _n{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ar(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Er extends un{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new jt,this.projectionMatrix=new jt,this.projectionMatrixInverse=new jt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class wr extends Er{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Me*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Ce*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Me*Math.atan(Math.tan(.5*Ce*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Ce*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const _r=-90;class Sr extends un{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new wr(_r,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const i=new wr(_r,1,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(-1,0,0),this.add(i);const a=new wr(_r,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const o=new wr(_r,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(0,-1,0),this.add(o);const s=new wr(_r,1,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(0,0,1),this.add(s);const l=new wr(_r,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,i,a,o,s,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=g,e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class Ir extends nt{constructor(e,t,n,r,i,a,o,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:x,n,r,i,a,o,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Cr extends it{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Ir(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:R}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new mr(5,5,5),i=new xr({name:"CubemapFromEquirect",uniforms:Ar(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:l,blending:u});i.uniforms.tEquirect.value=t;const a=new pr(r,i),o=t.minFilter;t.minFilter===k&&(t.minFilter=R);return new Sr(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(i)}}const Mr=new lt,Or=new lt,Tr=new Fe;class Pr{constructor(e=new lt(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Mr.subVectors(n,t).cross(Or.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Mr),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Tr.getNormalMatrix(e),r=this.coplanarPoint(Mr).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Rr=new Ot,Br=new lt;class kr{constructor(e=new Pr,t=new Pr,n=new Pr,r=new Pr,i=new Pr,a=new Pr){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],p=n[11],g=n[12],m=n[13],A=n[14],y=n[15];return t[0].setComponents(o-r,u-s,p-d,y-g).normalize(),t[1].setComponents(o+r,u+s,p+d,y+g).normalize(),t[2].setComponents(o+i,u+l,p+h,y+m).normalize(),t[3].setComponents(o-i,u-l,p-h,y-m).normalize(),t[4].setComponents(o-a,u-c,p-f,y-A).normalize(),t[5].setComponents(o+a,u+c,p+f,y+A).normalize(),this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Rr.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Rr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Rr)}intersectsSprite(e){return Rr.center.set(0,0,0),Rr.radius=.7071067811865476,Rr.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rr)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let e=0;e<6;e++){if(t[e].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Br.x=r.normal.x>0?e.max.x:e.min.x,Br.y=r.normal.y>0?e.max.y:e.min.y,Br.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Br)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Dr(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Lr(e,t){const n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const a=r.get(t);void 0===a?r.set(t,function(t,r){const i=t.array,a=t.usage,o=e.createBuffer();let s;if(e.bindBuffer(r,o),e.bufferData(r,i,a),t.onUploadCallback(),i instanceof Float32Array)s=5126;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=5131}else s=5123;else if(i instanceof Int16Array)s=5122;else if(i instanceof Uint32Array)s=5125;else if(i instanceof Int32Array)s=5124;else if(i instanceof Int8Array)s=5120;else if(i instanceof Uint8Array)s=5121;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=5121}return{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,r,i){const a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(a.buffer,t,i),a.version=t.version)}}}class Nr extends Xn{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,c=s+1,u=e/o,d=t/s,h=[],f=[],p=[],g=[];for(let e=0;e<c;e++){const t=e*d-a;for(let n=0;n<l;n++){const r=n*u-i;f.push(r,-t,0),p.push(0,0,1),g.push(n/o),g.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<o;t++){const n=t+l*e,r=t+l*(e+1),i=t+1+l*(e+1),a=t+1+l*e;h.push(n,r,a),h.push(r,i,a)}this.setIndex(h),this.setAttribute("position",new zn(f,3)),this.setAttribute("normal",new zn(p,3)),this.setAttribute("uv",new zn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nr(e.width,e.height,e.widthSegments,e.heightSegments)}}const jr={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\t\n\t\tvec2 lodFudge = pow( 1.95, lod ) / fullSize;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_UV2\n\tattribute vec2 uv2;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Ur={common:{diffuse:{value:new On(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Fe},alphaMap:{value:null},alphaMapTransform:{value:new Fe},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Fe}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Fe}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Fe}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Fe},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Fe},normalScale:{value:new Ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Fe},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Fe}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Fe}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Fe}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new On(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new On(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fe}},sprite:{diffuse:{value:new On(16777215)},opacity:{value:1},center:{value:new Ue(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Fe},alphaMap:{value:null},alphaTest:{value:0}}},Fr={basic:{uniforms:yr([Ur.common,Ur.specularmap,Ur.envmap,Ur.aomap,Ur.lightmap,Ur.fog]),vertexShader:jr.meshbasic_vert,fragmentShader:jr.meshbasic_frag},lambert:{uniforms:yr([Ur.common,Ur.specularmap,Ur.envmap,Ur.aomap,Ur.lightmap,Ur.emissivemap,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.fog,Ur.lights,{emissive:{value:new On(0)}}]),vertexShader:jr.meshlambert_vert,fragmentShader:jr.meshlambert_frag},phong:{uniforms:yr([Ur.common,Ur.specularmap,Ur.envmap,Ur.aomap,Ur.lightmap,Ur.emissivemap,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.fog,Ur.lights,{emissive:{value:new On(0)},specular:{value:new On(1118481)},shininess:{value:30}}]),vertexShader:jr.meshphong_vert,fragmentShader:jr.meshphong_frag},standard:{uniforms:yr([Ur.common,Ur.envmap,Ur.aomap,Ur.lightmap,Ur.emissivemap,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.roughnessmap,Ur.metalnessmap,Ur.fog,Ur.lights,{emissive:{value:new On(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jr.meshphysical_vert,fragmentShader:jr.meshphysical_frag},toon:{uniforms:yr([Ur.common,Ur.aomap,Ur.lightmap,Ur.emissivemap,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.gradientmap,Ur.fog,Ur.lights,{emissive:{value:new On(0)}}]),vertexShader:jr.meshtoon_vert,fragmentShader:jr.meshtoon_frag},matcap:{uniforms:yr([Ur.common,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.fog,{matcap:{value:null}}]),vertexShader:jr.meshmatcap_vert,fragmentShader:jr.meshmatcap_frag},points:{uniforms:yr([Ur.points,Ur.fog]),vertexShader:jr.points_vert,fragmentShader:jr.points_frag},dashed:{uniforms:yr([Ur.common,Ur.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jr.linedashed_vert,fragmentShader:jr.linedashed_frag},depth:{uniforms:yr([Ur.common,Ur.displacementmap]),vertexShader:jr.depth_vert,fragmentShader:jr.depth_frag},normal:{uniforms:yr([Ur.common,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,{opacity:{value:1}}]),vertexShader:jr.meshnormal_vert,fragmentShader:jr.meshnormal_frag},sprite:{uniforms:yr([Ur.sprite,Ur.fog]),vertexShader:jr.sprite_vert,fragmentShader:jr.sprite_frag},background:{uniforms:{uvTransform:{value:new Fe},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:jr.background_vert,fragmentShader:jr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:jr.backgroundCube_vert,fragmentShader:jr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jr.cube_vert,fragmentShader:jr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jr.equirect_vert,fragmentShader:jr.equirect_frag},distanceRGBA:{uniforms:yr([Ur.common,Ur.displacementmap,{referencePosition:{value:new lt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jr.distanceRGBA_vert,fragmentShader:jr.distanceRGBA_frag},shadow:{uniforms:yr([Ur.lights,Ur.fog,{color:{value:new On(0)},opacity:{value:1}}]),vertexShader:jr.shadow_vert,fragmentShader:jr.shadow_frag}};Fr.physical={uniforms:yr([Fr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Fe},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Fe},clearcoatNormalScale:{value:new Ue(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Fe},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Fe},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Fe},sheen:{value:0},sheenColor:{value:new On(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Fe},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Fe},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Fe},transmissionSamplerSize:{value:new Ue},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Fe},attenuationDistance:{value:0},attenuationColor:{value:new On(0)},specularColor:{value:new On(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Fe},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Fe}}]),vertexShader:jr.meshphysical_vert,fragmentShader:jr.meshphysical_frag};const Qr={r:0,b:0,g:0};function zr(e,t,n,r,i,a,o){const c=new On(0);let u,d,h=!0===a?0:1,f=null,p=0,g=null;function m(t,n){t.getRGB(Qr,vr(e)),r.buffers.color.setClear(Qr.r,Qr.g,Qr.b,n,o)}return{getClearColor:function(){return c},setClearColor:function(e,t=1){c.set(e),h=t,m(c,h)},getClearAlpha:function(){return h},setClearAlpha:function(e){h=e,m(c,h)},render:function(r,a){let o=!1,A=!0===a.isScene?a.background:null;if(A&&A.isTexture){A=(a.backgroundBlurriness>0?n:t).get(A)}const y=e.xr,v=y.getSession&&y.getSession();v&&"additive"===v.environmentBlendMode&&(A=null),null===A?m(c,h):A&&A.isColor&&(m(A,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),A&&(A.isCubeTexture||A.mapping===S)?(void 0===d&&(d=new pr(new mr(1,1,1),new xr({name:"BackgroundCubeMaterial",uniforms:Ar(Fr.backgroundCube.uniforms),vertexShader:Fr.backgroundCube.vertexShader,fragmentShader:Fr.backgroundCube.fragmentShader,side:l,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),d.material.uniforms.envMap.value=A,d.material.uniforms.flipEnvMap.value=A.isCubeTexture&&!1===A.isRenderTargetTexture?-1:1,d.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,d.material.toneMapped=A.encoding!==me,f===A&&p===A.version&&g===e.toneMapping||(d.material.needsUpdate=!0,f=A,p=A.version,g=e.toneMapping),d.layers.enableAll(),r.unshift(d,d.geometry,d.material,0,0,null)):A&&A.isTexture&&(void 0===u&&(u=new pr(new Nr(2,2),new xr({name:"BackgroundMaterial",uniforms:Ar(Fr.background.uniforms),vertexShader:Fr.background.vertexShader,fragmentShader:Fr.background.fragmentShader,side:s,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=A,u.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,u.material.toneMapped=A.encoding!==me,!0===A.matrixAutoUpdate&&A.updateMatrix(),u.material.uniforms.uvTransform.value.copy(A.matrix),f===A&&p===A.version&&g===e.toneMapping||(u.material.needsUpdate=!0,f=A,p=A.version,g=e.toneMapping),u.layers.enableAll(),r.unshift(u,u.geometry,u.material,0,0,null))}}}function Hr(e,t,n,r){const i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=f(null);let c=l,u=!1;function d(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function f(e){const t=[],n=[],r=[];for(let e=0;e<i;e++)t[e]=0,n[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function g(e){m(e,0)}function m(n,i){const a=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;if(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i){(r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function A(){const t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function v(){b(),u=!0,c!==l&&(c=l,d(c.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,h,v,b){let x=!1;if(o){const t=function(t,n,i){const o=!0===i.wireframe;let l=s[t.id];void 0===l&&(l={},s[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[o];void 0===u&&(u=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),c[o]=u);return u}(v,h,l);c!==t&&(c=t,d(c.object)),x=function(e,t,n,r){const i=c.attributes,a=t.attributes;let o=0;const s=n.getAttributes();for(const t in s){if(s[t].location>=0){const n=i[t];let r=a[t];if(void 0===r&&("instanceMatrix"===t&&e.instanceMatrix&&(r=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n)return!0;if(n.attribute!==r)return!0;if(r&&n.data!==r.data)return!0;o++}}return c.attributesNum!==o||c.index!==r}(i,v,h,b),x&&function(e,t,n,r){const i={},a=t.attributes;let o=0;const s=n.getAttributes();for(const t in s){if(s[t].location>=0){let n=a[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));const r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,o++}}c.attributes=i,c.attributesNum=o,c.index=r}(i,v,h,b)}else{const e=!0===l.wireframe;c.geometry===v.id&&c.program===h.id&&c.wireframe===e||(c.geometry=v.id,c.program=h.id,c.wireframe=e,x=!0)}null!==b&&n.update(b,34963),(x||u)&&(u=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();const l=s.attributes,c=o.getAttributes(),u=a.defaultAttributeValues;for(const t in c){const r=c[t];if(r.location>=0){let a=l[t];if(void 0===a&&("instanceMatrix"===t&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){const t=a.normalized,o=a.itemSize,l=n.get(a);if(void 0===l)continue;const c=l.buffer,u=l.type,d=l.bytesPerElement;if(a.isInterleavedBufferAttribute){const n=a.data,l=n.stride,h=a.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)m(r.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<r.locationSize;e++)g(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,o/r.locationSize,u,t,l*d,(h+o/r.locationSize*e)*d)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)m(r.location+e,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<r.locationSize;e++)g(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,o/r.locationSize,u,t,o*d,o/r.locationSize*e*d)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r.location,n);break;case 3:e.vertexAttrib3fv(r.location,n);break;case 4:e.vertexAttrib4fv(r.location,n);break;default:e.vertexAttrib1fv(r.location,n)}}}}A()}(i,l,h,v),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:v,resetDefaultState:b,dispose:function(){v();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)h(r[e].object),delete r[e];delete n[e.id]}},initAttributes:p,enableAttribute:g,disableUnusedAttributes:A}}function Gr(e,t,n,r){const i=r.isWebGL2;let a;this.setMode=function(e){a=e},this.render=function(t,r){e.drawArrays(a,t,r),n.update(r,a,1)},this.renderInstances=function(r,o,s){if(0===s)return;let l,c;if(i)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return;l[c](a,r,o,s),n.update(o,a,s)}}function Vr(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name;let o=void 0!==n.precision?n.precision:"highp";const s=i(o);s!==o&&(o=s);const l=a||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),d=e.getParameter(35660),h=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),g=e.getParameter(36347),m=e.getParameter(36348),A=e.getParameter(36349),y=d>0,v=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:g,maxVaryings:m,maxFragmentUniforms:A,vertexTextures:y,floatFragmentTextures:v,floatVertexTextures:y&&v,maxSamples:a?e.getParameter(36183):0}}function Kr(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new Pr,s=new Fe,l={value:null,needsUpdate:!1};function c(e,n,r,i){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==i||null===c){const t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let t=0,n=r;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(i,s),o.normal.toArray(c,n),c[n+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(o,s,u){const d=o.clippingPlanes,h=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(!i||null===d||0===d.length||a&&!f)a?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=a?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=c(d,s,t,u);for(let e=0;e!==t;++e)i[e]=n[e];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function Wr(e){let t=new WeakMap;function n(e,t){return t===w?e.mapping=x:t===_&&(e.mapping=E),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const a=i.mapping;if(a===w||a===_){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const a=i.image;if(a&&a.height>0){const o=new Cr(a.height/2);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class qr extends Er{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Yr=[.125,.215,.35,.446,.526,.582],Xr=20,Jr=new qr,$r=new On;let Zr=null;const ei=(1+Math.sqrt(5))/2,ti=1/ei,ni=[new lt(1,1,1),new lt(-1,1,1),new lt(1,1,-1),new lt(-1,1,-1),new lt(0,ei,ti),new lt(0,ei,-ti),new lt(ti,0,ei),new lt(-ti,0,ei),new lt(ei,ti,0),new lt(-ei,ti,0)];class ri{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){Zr=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=si(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=oi(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Zr),e.scissorTest=!1,ai(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===x||e.mapping===E?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Zr=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:R,minFilter:R,generateMipmaps:!1,type:j,format:F,encoding:ge,depthBuffer:!1},r=ii(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=ii(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+Yr.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);n.push(a);let s=1/a;o>e-4?s=Yr[o-e+4-1]:0===o&&(s=0),r.push(s);const l=1/(a-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,p=3,g=2,m=1,A=new Float32Array(p*f*h),y=new Float32Array(g*f*h),v=new Float32Array(m*f*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];A.set(r,p*f*e),y.set(d,g*f*e);const i=[e,e,e,e,e,e];v.set(i,m*f*e)}const b=new Xn;b.setAttribute("position",new Un(A,p)),b.setAttribute("uv",new Un(y,g)),b.setAttribute("faceIndex",new Un(v,m)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(Xr),i=new lt(0,1,0),a=new xr({name:"SphericalGaussianBlur",defines:{n:Xr,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:li(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:u,depthTest:!1,depthWrite:!1});return a}(r,e,t)}return r}_compileMaterial(e){const t=new pr(this._lodPlanes[0],e);this._renderer.compile(t,Jr)}_sceneToCubeUV(e,t,n,r){const i=new wr(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,c=s.autoClear,u=s.toneMapping;s.getClearColor($r),s.toneMapping=g,s.autoClear=!1;const d=new Pn({name:"PMREM.Background",side:l,depthWrite:!1,depthTest:!1}),h=new pr(new mr,d);let f=!1;const p=e.background;p?p.isColor&&(d.color.copy(p),e.background=null,f=!0):(d.color.copy($r),f=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(i.up.set(0,a[t],0),i.lookAt(o[t],0,0)):1===n?(i.up.set(0,0,a[t]),i.lookAt(0,o[t],0)):(i.up.set(0,a[t],0),i.lookAt(0,0,o[t]));const l=this._cubeSize;ai(r,n*l,t>2?l:0,l,l),s.setRenderTarget(r),f&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=c,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===x||e.mapping===E;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=si()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=oi());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new pr(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const o=this._cubeSize;ai(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Jr)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let t=1;t<this._lodPlanes.length;t++){const n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),r=ni[(t-1)%ni.length];this._blur(e,t-1,t,n,r)}t.autoClear=n}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){const s=this._renderer,l=this._blurMaterial,c=new pr(this._lodPlanes[r],l),u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,f=i/h,p=isFinite(i)?1+Math.floor(3*f):Xr,g=[];let m=0;for(let e=0;e<Xr;++e){const t=e/f,n=Math.exp(-t*t/2);g.push(n),0===e?m+=n:e<p&&(m+=2*n)}for(let e=0;e<g.length;e++)g[e]=g[e]/m;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=g,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o);const{_lodMax:A}=this;u.dTheta.value=h,u.mipInt.value=A-n;const y=this._sizeLods[r];ai(t,3*y*(r>A-4?r-A+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,Jr)}}function ii(e,t,n){const r=new it(e,t,n);return r.texture.mapping=S,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ai(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function oi(){return new xr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:li(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:u,depthTest:!1,depthWrite:!1})}function si(){return new xr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:li(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:u,depthTest:!1,depthWrite:!1})}function li(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function ci(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,o=a===w||a===_,s=a===x||a===E;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new ri(e)),r=o?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{const a=i.image;if(o&&a&&a.height>0||s&&a&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(a)){null===n&&(n=new ri(e));const a=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,a),i.addEventListener("dispose",r),a.texture}return null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function ui(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return t}}}function di(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const s=new(ze(n)?Qn:Fn)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){const n=e.attributes;for(const e in n)t.update(n[e],34962);const r=e.morphAttributes;for(const e in r){const n=r[e];for(let e=0,r=n.length;e<r;e++)t.update(n[e],34962)}},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function hi(e,t,n,r){const i=r.isWebGL2;let a,o,s;this.setMode=function(e){a=e},this.setIndex=function(e){o=e.type,s=e.bytesPerElement},this.render=function(t,r){e.drawElements(a,r,o,t*s),n.update(r,a,1)},this.renderInstances=function(r,l,c){if(0===c)return;let u,d;if(i)u=e,d="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===u)return;u[d](a,l,o,r*s,c),n.update(l,a,c)}}function fi(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e}}}}function pi(e,t){return e[0]-t[0]}function gi(e,t){return Math.abs(t[1])-Math.abs(e[1])}function mi(e,t,n){const r={},i=new Float32Array(8),a=new WeakMap,o=new rt,s=[];for(let e=0;e<8;e++)s[e]=[e,0];return{update:function(l,c,u){const d=l.morphTargetInfluences;if(!0===t.isWebGL2){const h=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,f=void 0!==h?h.length:0;let p=a.get(c);if(void 0===p||p.count!==f){void 0!==p&&p.texture.dispose();const A=void 0!==c.morphAttributes.position,y=void 0!==c.morphAttributes.normal,v=void 0!==c.morphAttributes.color,b=c.morphAttributes.position||[],x=c.morphAttributes.normal||[],E=c.morphAttributes.color||[];let w=0;!0===A&&(w=1),!0===y&&(w=2),!0===v&&(w=3);let _=c.attributes.position.count*w,S=1;_>t.maxTextureSize&&(S=Math.ceil(_/t.maxTextureSize),_=t.maxTextureSize);const I=new Float32Array(_*S*4*f),C=new at(I,_,S,f);C.type=N,C.needsUpdate=!0;const M=4*w;for(let T=0;T<f;T++){const P=b[T],R=x[T],B=E[T],k=_*S*4*T;for(let D=0;D<P.count;D++){const L=D*M;!0===A&&(o.fromBufferAttribute(P,D),I[k+L+0]=o.x,I[k+L+1]=o.y,I[k+L+2]=o.z,I[k+L+3]=0),!0===y&&(o.fromBufferAttribute(R,D),I[k+L+4]=o.x,I[k+L+5]=o.y,I[k+L+6]=o.z,I[k+L+7]=0),!0===v&&(o.fromBufferAttribute(B,D),I[k+L+8]=o.x,I[k+L+9]=o.y,I[k+L+10]=o.z,I[k+L+11]=4===B.itemSize?o.w:1)}}function O(){C.dispose(),a.delete(c),c.removeEventListener("dispose",O)}p={count:f,texture:C,size:new Ue(_,S)},a.set(c,p),c.addEventListener("dispose",O)}let g=0;for(let j=0;j<d.length;j++)g+=d[j];const m=c.morphTargetsRelative?1:1-g;u.getUniforms().setValue(e,"morphTargetBaseInfluence",m),u.getUniforms().setValue(e,"morphTargetInfluences",d),u.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),u.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{const U=void 0===d?0:d.length;let F=r[c.id];if(void 0===F||F.length!==U){F=[];for(let V=0;V<U;V++)F[V]=[V,0];r[c.id]=F}for(let K=0;K<U;K++){const W=F[K];W[0]=K,W[1]=d[K]}F.sort(gi);for(let q=0;q<8;q++)q<U&&F[q][1]?(s[q][0]=F[q][0],s[q][1]=F[q][1]):(s[q][0]=Number.MAX_SAFE_INTEGER,s[q][1]=0);s.sort(pi);const Q=c.morphAttributes.position,z=c.morphAttributes.normal;let H=0;for(let Y=0;Y<8;Y++){const X=s[Y],J=X[0],$=X[1];J!==Number.MAX_SAFE_INTEGER&&$?(Q&&c.getAttribute("morphTarget"+Y)!==Q[J]&&c.setAttribute("morphTarget"+Y,Q[J]),z&&c.getAttribute("morphNormal"+Y)!==z[J]&&c.setAttribute("morphNormal"+Y,z[J]),i[Y]=$,H+=$):(Q&&!0===c.hasAttribute("morphTarget"+Y)&&c.deleteAttribute("morphTarget"+Y),z&&!0===c.hasAttribute("morphNormal"+Y)&&c.deleteAttribute("morphNormal"+Y),i[Y]=0)}const G=c.morphTargetsRelative?1:1-H;u.getUniforms().setValue(e,"morphTargetBaseInfluence",G),u.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Ai(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){const o=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==o&&(t.update(l),i.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}const yi=new nt,vi=new at,bi=new ot,xi=new Ir,Ei=[],wi=[],_i=new Float32Array(16),Si=new Float32Array(9),Ii=new Float32Array(4);function Ci(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=Ei[i];if(void 0===a&&(a=new Float32Array(i),Ei[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function Mi(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Oi(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Ti(e,t){let n=wi[t];void 0===n&&(n=new Int32Array(t),wi[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Pi(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ri(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Mi(n,t))return;e.uniform2fv(this.addr,t),Oi(n,t)}}function Bi(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Mi(n,t))return;e.uniform3fv(this.addr,t),Oi(n,t)}}function ki(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Mi(n,t))return;e.uniform4fv(this.addr,t),Oi(n,t)}}function Di(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Mi(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Oi(n,t)}else{if(Mi(n,r))return;Ii.set(r),e.uniformMatrix2fv(this.addr,!1,Ii),Oi(n,r)}}function Li(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Mi(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Oi(n,t)}else{if(Mi(n,r))return;Si.set(r),e.uniformMatrix3fv(this.addr,!1,Si),Oi(n,r)}}function Ni(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Mi(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Oi(n,t)}else{if(Mi(n,r))return;_i.set(r),e.uniformMatrix4fv(this.addr,!1,_i),Oi(n,r)}}function ji(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ui(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Mi(n,t))return;e.uniform2iv(this.addr,t),Oi(n,t)}}function Fi(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Mi(n,t))return;e.uniform3iv(this.addr,t),Oi(n,t)}}function Qi(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Mi(n,t))return;e.uniform4iv(this.addr,t),Oi(n,t)}}function zi(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Hi(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Mi(n,t))return;e.uniform2uiv(this.addr,t),Oi(n,t)}}function Gi(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Mi(n,t))return;e.uniform3uiv(this.addr,t),Oi(n,t)}}function Vi(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Mi(n,t))return;e.uniform4uiv(this.addr,t),Oi(n,t)}}function Ki(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||yi,i)}function Wi(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||bi,i)}function qi(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||xi,i)}function Yi(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||vi,i)}function Xi(e,t){e.uniform1fv(this.addr,t)}function Ji(e,t){const n=Ci(t,this.size,2);e.uniform2fv(this.addr,n)}function $i(e,t){const n=Ci(t,this.size,3);e.uniform3fv(this.addr,n)}function Zi(e,t){const n=Ci(t,this.size,4);e.uniform4fv(this.addr,n)}function ea(e,t){const n=Ci(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ta(e,t){const n=Ci(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function na(e,t){const n=Ci(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function ra(e,t){e.uniform1iv(this.addr,t)}function ia(e,t){e.uniform2iv(this.addr,t)}function aa(e,t){e.uniform3iv(this.addr,t)}function oa(e,t){e.uniform4iv(this.addr,t)}function sa(e,t){e.uniform1uiv(this.addr,t)}function la(e,t){e.uniform2uiv(this.addr,t)}function ca(e,t){e.uniform3uiv(this.addr,t)}function ua(e,t){e.uniform4uiv(this.addr,t)}function da(e,t,n){const r=this.cache,i=t.length,a=Ti(n,i);Mi(r,a)||(e.uniform1iv(this.addr,a),Oi(r,a));for(let e=0;e!==i;++e)n.setTexture2D(t[e]||yi,a[e])}function ha(e,t,n){const r=this.cache,i=t.length,a=Ti(n,i);Mi(r,a)||(e.uniform1iv(this.addr,a),Oi(r,a));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||bi,a[e])}function fa(e,t,n){const r=this.cache,i=t.length,a=Ti(n,i);Mi(r,a)||(e.uniform1iv(this.addr,a),Oi(r,a));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||xi,a[e])}function pa(e,t,n){const r=this.cache,i=t.length,a=Ti(n,i);Mi(r,a)||(e.uniform1iv(this.addr,a),Oi(r,a));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||vi,a[e])}class ga{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Pi;case 35664:return Ri;case 35665:return Bi;case 35666:return ki;case 35674:return Di;case 35675:return Li;case 35676:return Ni;case 5124:case 35670:return ji;case 35667:case 35671:return Ui;case 35668:case 35672:return Fi;case 35669:case 35673:return Qi;case 5125:return zi;case 36294:return Hi;case 36295:return Gi;case 36296:return Vi;case 35678:case 36198:case 36298:case 36306:case 35682:return Ki;case 35679:case 36299:case 36307:return Wi;case 35680:case 36300:case 36308:case 36293:return qi;case 36289:case 36303:case 36311:case 36292:return Yi}}(t.type)}}class ma{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Xi;case 35664:return Ji;case 35665:return $i;case 35666:return Zi;case 35674:return ea;case 35675:return ta;case 35676:return na;case 5124:case 35670:return ra;case 35667:case 35671:return ia;case 35668:case 35672:return aa;case 35669:case 35673:return oa;case 5125:return sa;case 36294:return la;case 36295:return ca;case 36296:return ua;case 35678:case 36198:case 36298:case 36306:case 35682:return da;case 35679:case 36299:case 36307:return ha;case 35680:case 36300:case 36308:case 36293:return fa;case 36289:case 36303:case 36311:case 36292:return pa}}(t.type)}}class Aa{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const ya=/(\w+)(\])?(\[|\.)?/g;function va(e,t){e.seq.push(t),e.map[t.id]=t}function ba(e,t,n){const r=e.name,i=r.length;for(ya.lastIndex=0;;){const a=ya.exec(r),o=ya.lastIndex;let s=a[1];const l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){va(n,void 0===c?new ga(s,e,t):new ma(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new Aa(s),va(n,e)),n=e}}}class xa{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);ba(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Ea(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let wa=0;function _a(e,t,n){const r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=i;e<a;e++){const i=e+1;r.push(`${i===t?">":" "} ${i}: ${n[e]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function Sa(e,t){const n=function(e){switch(e){case ge:return["Linear","( value )"];case me:return["sRGB","( value )"];default:return["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ia(e,t){let n;switch(t){case m:n="Linear";break;case A:n="Reinhard";break;case y:n="OptimizedCineon";break;case v:n="ACESFilmic";break;case b:n="Custom";break;default:n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ca(e){return""!==e}function Ma(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Oa(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Ta=/^[ \t]*#include +<([\w\d./]+)>/gm;function Pa(e){return e.replace(Ta,Ra)}function Ra(e,t){const n=jr[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Pa(n)}const Ba=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ka(e){return e.replace(Ba,Da)}function Da(e,t,n,r){let i="";for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function La(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Na(e,t,n,r){const s=e.getContext(),l=n.defines;let c=n.vertexShader,u=n.fragmentShader;const d=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===i?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===a?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===o&&(t="SHADOWMAP_TYPE_VSM"),t}(n),m=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case x:case E:t="ENVMAP_TYPE_CUBE";break;case S:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),A=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===E&&(t="ENVMAP_MODE_REFRACTION");return t}(n),y=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case h:t="ENVMAP_BLENDING_MULTIPLY";break;case f:t="ENVMAP_BLENDING_MIX";break;case p:t="ENVMAP_BLENDING_ADD"}return t}(n),v=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),b=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ca).join("\n")}(n),w=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(l),_=s.createProgram();let I,C,M=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(I=[w].filter(Ca).join("\n"),I.length>0&&(I+="\n"),C=[b,w].filter(Ca).join("\n"),C.length>0&&(C+="\n")):(I=[La(n),"#define SHADER_NAME "+n.shaderName,w,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ca).join("\n"),C=[b,La(n),"#define SHADER_NAME "+n.shaderName,w,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.envMap?"#define "+A:"",n.envMap?"#define "+y:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==g?"#define TONE_MAPPING":"",n.toneMapping!==g?jr.tonemapping_pars_fragment:"",n.toneMapping!==g?Ia("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",jr.encodings_pars_fragment,Sa("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ca).join("\n")),c=Pa(c),c=Ma(c,n),c=Oa(c,n),u=Pa(u),u=Ma(u,n),u=Oa(u,n),c=ka(c),u=ka(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(M="#version 300 es\n",I=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+I,C=["#define varying in",n.glslVersion===Ee?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ee?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+C);const O=M+C+u,T=Ea(s,35633,M+I+c),P=Ea(s,35632,O);if(s.attachShader(_,T),s.attachShader(_,P),void 0!==n.index0AttributeName?s.bindAttribLocation(_,0,n.index0AttributeName):!0===n.morphTargets&&s.bindAttribLocation(_,0,"position"),s.linkProgram(_),e.debug.checkShaderErrors){const t=s.getProgramInfoLog(_).trim(),n=s.getShaderInfoLog(T).trim(),r=s.getShaderInfoLog(P).trim();let i=!0,a=!0;if(!1===s.getProgramParameter(_,35714))if(i=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(s,_,T,P);else{_a(s,T,"vertex"),_a(s,P,"fragment")}else""!==t||""!==n&&""!==r||(a=!1);a&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:n,prefix:I},fragmentShader:{log:r,prefix:C}})}let R,B;return s.deleteShader(T),s.deleteShader(P),this.getUniforms=function(){return void 0===R&&(R=new xa(s,_)),R},this.getAttributes=function(){return void 0===B&&(B=function(e,t){const n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;35674===r.type&&(o=2),35675===r.type&&(o=3),35676===r.type&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(s,_)),B},this.destroy=function(){r.releaseStatesOfProgram(this),s.deleteProgram(_),this.program=void 0},this.name=n.shaderName,this.id=wa++,this.cacheKey=t,this.usedTimes=1,this.program=_,this.vertexShader=T,this.fragmentShader=P,this}let ja=0;class Ua{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Fa(e),t.set(e,n)),n}}class Fa{constructor(e){this.id=ja++,this.code=e,this.usedTimes=0}}function Qa(e,t,n,r,i,a,o){const s=new Yt,u=new Ua,d=[],h=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(e){return 1===e?"uv2":"uv"}return{getParameters:function(a,s,d,v,b){const x=v.fog,E=b.geometry,w=a.isMeshStandardMaterial?v.environment:null,_=(a.isMeshStandardMaterial?n:t).get(a.envMap||w),I=_&&_.mapping===S?_.image.height:null,C=A[a.type];null!==a.precision&&(m=i.getMaxPrecision(a.precision),a.precision);const M=E.morphAttributes.position||E.morphAttributes.normal||E.morphAttributes.color,O=void 0!==M?M.length:0;let T,P,R,B,k=0;if(void 0!==E.morphAttributes.position&&(k=1),void 0!==E.morphAttributes.normal&&(k=2),void 0!==E.morphAttributes.color&&(k=3),C){const e=Fr[C];T=e.vertexShader,P=e.fragmentShader}else T=a.vertexShader,P=a.fragmentShader,u.update(a),R=u.getVertexShaderID(a),B=u.getFragmentShaderID(a);const D=e.getRenderTarget(),L=!0===b.isInstancedMesh,N=!!a.map,j=!!a.matcap,U=!!_,F=!!a.aoMap,Q=!!a.lightMap,z=!!a.bumpMap,H=!!a.normalMap,G=!!a.displacementMap,V=!!a.emissiveMap,K=!!a.metalnessMap,W=!!a.roughnessMap,q=a.clearcoat>0,Y=a.iridescence>0,X=a.sheen>0,J=a.transmission>0,$=q&&!!a.clearcoatMap,Z=q&&!!a.clearcoatNormalMap,ee=q&&!!a.clearcoatRoughnessMap,te=Y&&!!a.iridescenceMap,ne=Y&&!!a.iridescenceThicknessMap,re=X&&!!a.sheenColorMap,ie=X&&!!a.sheenRoughnessMap,ae=!!a.specularMap,oe=!!a.specularColorMap,se=!!a.specularIntensityMap,le=J&&!!a.transmissionMap,ce=J&&!!a.thicknessMap,ue=!!a.gradientMap,de=!!a.alphaMap,he=a.alphaTest>0,fe=!!a.extensions,pe=!!E.attributes.uv2;return{isWebGL2:h,shaderID:C,shaderName:a.type,vertexShader:T,fragmentShader:P,defines:a.defines,customVertexShaderID:R,customFragmentShaderID:B,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:m,instancing:L,instancingColor:L&&null!==b.instanceColor,supportsVertexTextures:p,outputEncoding:null===D?e.outputEncoding:!0===D.isXRRenderTarget?D.texture.encoding:ge,map:N,matcap:j,envMap:U,envMapMode:U&&_.mapping,envMapCubeUVHeight:I,aoMap:F,lightMap:Q,bumpMap:z,normalMap:H,displacementMap:p&&G,emissiveMap:V,normalMapObjectSpace:H&&1===a.normalMapType,normalMapTangentSpace:H&&0===a.normalMapType,decodeVideoTexture:N&&!0===a.map.isVideoTexture&&a.map.encoding===me,metalnessMap:K,roughnessMap:W,clearcoat:q,clearcoatMap:$,clearcoatNormalMap:Z,clearcoatRoughnessMap:ee,iridescence:Y,iridescenceMap:te,iridescenceThicknessMap:ne,sheen:X,sheenColorMap:re,sheenRoughnessMap:ie,specularMap:ae,specularColorMap:oe,specularIntensityMap:se,transmission:J,transmissionMap:le,thicknessMap:ce,gradientMap:ue,opaque:!1===a.transparent&&1===a.blending,alphaMap:de,alphaTest:he,combine:a.combine,mapUv:N&&y(a.map.channel),aoMapUv:F&&y(a.aoMap.channel),lightMapUv:Q&&y(a.lightMap.channel),bumpMapUv:z&&y(a.bumpMap.channel),normalMapUv:H&&y(a.normalMap.channel),displacementMapUv:G&&y(a.displacementMap.channel),emissiveMapUv:V&&y(a.emissiveMap.channel),metalnessMapUv:K&&y(a.metalnessMap.channel),roughnessMapUv:W&&y(a.roughnessMap.channel),clearcoatMapUv:$&&y(a.clearcoatMap.channel),clearcoatNormalMapUv:Z&&y(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ee&&y(a.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&y(a.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&y(a.iridescenceThicknessMap.channel),sheenColorMapUv:re&&y(a.sheenColorMap.channel),sheenRoughnessMapUv:ie&&y(a.sheenRoughnessMap.channel),specularMapUv:ae&&y(a.specularMap.channel),specularColorMapUv:oe&&y(a.specularColorMap.channel),specularIntensityMapUv:se&&y(a.specularIntensityMap.channel),transmissionMapUv:le&&y(a.transmissionMap.channel),thicknessMapUv:ce&&y(a.thicknessMap.channel),alphaMapUv:de&&y(a.alphaMap.channel),vertexTangents:H&&!!E.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!E.attributes.color&&4===E.attributes.color.itemSize,vertexUvs2:pe,pointsUvs:!0===b.isPoints&&!!E.attributes.uv&&(N||de),fog:!!x,useFog:!0===a.fog,fogExp2:x&&x.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===b.isSkinnedMesh,morphTargets:void 0!==E.morphAttributes.position,morphNormals:void 0!==E.morphAttributes.normal,morphColors:void 0!==E.morphAttributes.color,morphTargetsCount:O,morphTextureStride:k,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&d.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:g,useLegacyLights:e.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===c,flipSided:a.side===l,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:fe&&!0===a.extensions.derivatives,extensionFragDepth:fe&&!0===a.extensions.fragDepth,extensionDrawBuffers:fe&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:fe&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUvs2&&s.enable(13);t.vertexTangents&&s.enable(14);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.decodeVideoTexture&&s.enable(17);t.opaque&&s.enable(18);t.pointsUvs&&s.enable(19);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=A[e.type];let n;if(t){const e=Fr[t];n=br.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,t=d.length;e<t;e++){const t=d[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new Na(e,n,t,a),d.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=d.indexOf(e);d[t]=d[d.length-1],d.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:d,dispose:function(){u.dispose()}}}function za(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ha(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ga(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Va(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.push(u):!0===o.transparent?i.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.unshift(u):!0===o.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ha),r.length>1&&r.sort(t||Ga),i.length>1&&i.sort(t||Ga)}}}function Ka(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new Va,e.set(t,[i])):n>=r.length?(i=new Va,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Wa(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new lt,color:new On};break;case"SpotLight":n={position:new lt,direction:new lt,color:new On,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new lt,color:new On,distance:0,decay:0};break;case"HemisphereLight":n={direction:new lt,skyColor:new On,groundColor:new On};break;case"RectAreaLight":n={color:new On,position:new lt,halfWidth:new lt,halfHeight:new lt}}return e[t.id]=n,n}}}let qa=0;function Ya(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Xa(e,t){const n=new Wa,r=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let e=0;e<9;e++)i.probe.push(new lt);const a=new lt,o=new jt,s=new jt;return{setup:function(a,o){let s=0,l=0,c=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let u=0,d=0,h=0,f=0,p=0,g=0,m=0,A=0,y=0,v=0;a.sort(Ya);const b=!0===o?Math.PI:1;for(let e=0,t=a.length;e<t;e++){const t=a[e],o=t.color,x=t.intensity,E=t.distance,w=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=o.r*x*b,l+=o.g*x*b,c+=o.b*x*b;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],x);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[u]=n,i.directionalShadowMap[u]=w,i.directionalShadowMatrix[u]=t.shadow.matrix,g++}i.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(o).multiplyScalar(x*b),e.distance=E,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[h]=e;const a=t.shadow;if(t.map&&(i.spotLightMap[y]=t.map,y++,a.updateMatrices(t),t.castShadow&&v++),i.spotLightMatrix[h]=a.matrix,t.castShadow){const e=r.get(t);e.shadowBias=a.bias,e.shadowNormalBias=a.normalBias,e.shadowRadius=a.radius,e.shadowMapSize=a.mapSize,i.spotShadow[h]=e,i.spotShadowMap[h]=w,A++}h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(o).multiplyScalar(x),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[f]=e,f++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[d]=n,i.pointShadowMap[d]=w,i.pointShadowMatrix[d]=t.shadow.matrix,m++}i.point[d]=e,d++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(x*b),e.groundColor.copy(t.groundColor).multiplyScalar(x*b),i.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Ur.LTC_FLOAT_1,i.rectAreaLTC2=Ur.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")&&(i.rectAreaLTC1=Ur.LTC_HALF_1,i.rectAreaLTC2=Ur.LTC_HALF_2)),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=c;const x=i.hash;x.directionalLength===u&&x.pointLength===d&&x.spotLength===h&&x.rectAreaLength===f&&x.hemiLength===p&&x.numDirectionalShadows===g&&x.numPointShadows===m&&x.numSpotShadows===A&&x.numSpotMaps===y||(i.directional.length=u,i.spot.length=h,i.rectArea.length=f,i.point.length=d,i.hemi.length=p,i.directionalShadow.length=g,i.directionalShadowMap.length=g,i.pointShadow.length=m,i.pointShadowMap.length=m,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=g,i.pointShadowMatrix.length=m,i.spotLightMatrix.length=A+y-v,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=v,x.directionalLength=u,x.pointLength=d,x.spotLength=h,x.rectAreaLength=f,x.hemiLength=p,x.numDirectionalShadows=g,x.numPointShadows=m,x.numSpotShadows=A,x.numSpotMaps=y,i.version=qa++)},setupView:function(e,t){let n=0,r=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let t=0,h=e.length;t<h;t++){const h=e[t];if(h.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),n++}else if(h.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),l++}else if(h.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),s.identity(),o.copy(h.matrixWorld),o.premultiply(d),s.extractRotation(o),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(h.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),r++}else if(h.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(d),u++}}},state:i}}function Ja(e,t){const n=new Xa(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function $a(e,t){let n=new WeakMap;return{get:function(r,i=0){const a=n.get(r);let o;return void 0===a?(o=new Ja(e,t),n.set(r,[o])):i>=a.length?(o=new Ja(e,t),a.push(o)):o=a[i],o},dispose:function(){n=new WeakMap}}}class Za extends _n{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class eo extends _n{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function to(e,t,n){let r=new kr;const a=new Ue,d=new Ue,h=new rt,f=new Za({depthPacking:3201}),p=new eo,g={},m=n.maxTextureSize,A={[s]:l,[l]:s,[c]:c},y=new xr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ue},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const b=new Xn;b.setAttribute("position",new Un(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new pr(b,y),E=this;function w(n,r){const i=t.update(x);y.defines.VSM_SAMPLES!==n.blurSamples&&(y.defines.VSM_SAMPLES=n.blurSamples,v.defines.VSM_SAMPLES=n.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new it(a.x,a.y)),y.uniforms.shadow_pass.value=n.map.texture,y.uniforms.resolution.value=n.mapSize,y.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,y,x,null),v.uniforms.shadow_pass.value=n.mapPass.texture,v.uniforms.resolution.value=n.mapSize,v.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,v,x,null)}function _(t,n,r,i){let a=null;const s=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==s)a=s;else if(a=!0===r.isPointLight?p:f,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=a.uuid,t=n.uuid;let r=g[e];void 0===r&&(r={},g[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===o?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:A[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=r}return a}function S(n,i,a,s,l){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&l===o)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let o=0,c=t.length;o<c;o++){const c=t[o],u=i[c.materialIndex];if(u&&u.visible){const t=_(n,u,s,l);e.renderBufferDirect(a,null,r,t,n,c)}}}else if(i.visible){const t=_(n,i,s,l);e.renderBufferDirect(a,null,r,t,n,null)}}const c=n.children;for(let e=0,t=c.length;e<t;e++)S(c[e],i,a,s,l)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=i,this.render=function(t,n,i){if(!1===E.enabled)return;if(!1===E.autoUpdate&&!1===E.needsUpdate)return;if(0===t.length)return;const s=e.getRenderTarget(),l=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),f=e.state;f.setBlending(u),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(let s=0,l=t.length;s<l;s++){const l=t[s],c=l.shadow;if(void 0===c)continue;if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;a.copy(c.mapSize);const u=c.getFrameExtents();if(a.multiply(u),d.copy(c.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(d.x=Math.floor(m/u.x),a.x=d.x*u.x,c.mapSize.x=d.x),a.y>m&&(d.y=Math.floor(m/u.y),a.y=d.y*u.y,c.mapSize.y=d.y)),null===c.map){const e=this.type!==o?{minFilter:O,magFilter:O}:{};c.map=new it(a.x,a.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const p=c.getViewportCount();for(let e=0;e<p;e++){const t=c.getViewport(e);h.set(d.x*t.x,d.y*t.y,d.x*t.z,d.y*t.w),f.viewport(h),c.updateMatrices(l,e),r=c.getFrustum(),S(n,i,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===o&&w(c,i),c.needsUpdate=!1}E.needsUpdate=!1,e.setRenderTarget(s,l,c)}}function no(e,t,n){const r=n.isWebGL2;const i=new function(){let t=!1;const n=new rt;let r=null;const i=new rt(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?G(2929):V(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},o=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?G(2960):V(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}},s=new WeakMap,h=new WeakMap;let f={},p={},g=new WeakMap,m=[],A=null,y=!1,v=null,b=null,x=null,E=null,w=null,_=null,S=null,I=!1,C=null,M=null,O=null,T=null,P=null;const R=e.getParameter(35661);let B=!1,k=0;const D=e.getParameter(7938);-1!==D.indexOf("WebGL")?(k=parseFloat(/^WebGL (\d)/.exec(D)[1]),B=k>=1):-1!==D.indexOf("OpenGL ES")&&(k=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),B=k>=2);let L=null,N={};const j=e.getParameter(3088),U=e.getParameter(2978),F=(new rt).fromArray(j),Q=(new rt).fromArray(U);function z(t,n,r){const i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<r;t++)e.texImage2D(n+t,0,6408,1,1,0,6408,5121,i);return a}const H={};function G(t){!0!==f[t]&&(e.enable(t),f[t]=!0)}function V(t){!1!==f[t]&&(e.disable(t),f[t]=!1)}H[3553]=z(3553,3553,1),H[34067]=z(34067,34069,6),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),G(2929),a.setFunc(3),Y(!1),X(1),G(2884),q(u);const K={[d]:32774,101:32778,102:32779};if(r)K[103]=32775,K[104]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(K[103]=e.MIN_EXT,K[104]=e.MAX_EXT)}const W={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function q(t,n,r,i,a,o,s,l){if(t!==u){if(!1===y&&(G(3042),y=!0),5===t)a=a||n,o=o||r,s=s||i,n===b&&a===w||(e.blendEquationSeparate(K[n],K[a]),b=n,w=a),r===x&&i===E&&o===_&&s===S||(e.blendFuncSeparate(W[r],W[i],W[o],W[s]),x=r,E=i,_=o,S=s),v=t,I=!1;else if(t!==v||l!==I){if(b===d&&w===d||(e.blendEquation(32774),b=d,w=d),l)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFuncSeparate(0,768,0,770)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFunc(0,768)}x=null,E=null,_=null,S=null,v=t,I=l}}else!0===y&&(V(3042),y=!1)}function Y(t){C!==t&&(t?e.frontFace(2304):e.frontFace(2305),C=t)}function X(t){0!==t?(G(2884),t!==M&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):V(2884),M=t}function J(t,n,r){t?(G(32823),T===n&&P===r||(e.polygonOffset(n,r),T=n,P=r)):V(32823)}return{buffers:{color:i,depth:a,stencil:o},enable:G,disable:V,bindFramebuffer:function(t,n){return p[t]!==n&&(e.bindFramebuffer(t,n),p[t]=n,r&&(36009===t&&(p[36160]=n),36160===t&&(p[36009]=n)),!0)},drawBuffers:function(r,i){let a=m,o=!1;if(r)if(a=g.get(i),void 0===a&&(a=[],g.set(i,a)),r.isWebGLMultipleRenderTargets){const e=r.texture;if(a.length!==e.length||36064!==a[0]){for(let t=0,n=e.length;t<n;t++)a[t]=36064+t;a.length=e.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return A!==t&&(e.useProgram(t),A=t,!0)},setBlending:q,setMaterial:function(e,t){e.side===c?V(2884):G(2884);let n=e.side===l;t&&(n=!n),Y(n),1===e.blending&&!1===e.transparent?q(u):q(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite);const r=e.stencilWrite;o.setTest(r),r&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),J(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?G(32926):V(32926)},setFlipSided:Y,setCullFace:X,setLineWidth:function(t){t!==O&&(B&&e.lineWidth(t),O=t)},setPolygonOffset:J,setScissorTest:function(e){e?G(3089):V(3089)},activeTexture:function(t){void 0===t&&(t=33984+R-1),L!==t&&(e.activeTexture(t),L=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===L?33984+R-1:L);let i=N[r];void 0===i&&(i={type:void 0,texture:void 0},N[r]=i),i.type===t&&i.texture===n||(L!==r&&(e.activeTexture(r),L=r),e.bindTexture(t,n||H[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=N[L];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){}},updateUBOMapping:function(t,n){let r=h.get(n);void 0===r&&(r=new WeakMap,h.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=h.get(n).get(t);s.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),s.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){}},scissor:function(t){!1===F.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),F.copy(t))},viewport:function(t){!1===Q.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),Q.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===r&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),f={},L=null,N={},p={},g=new WeakMap,m=[],A=null,y=!1,v=null,b=null,x=null,E=null,w=null,_=null,S=null,I=!1,C=null,M=null,O=null,T=null,P=null,F.set(0,0,e.canvas.width,e.canvas.height),Q.set(0,0,e.canvas.width,e.canvas.height),i.reset(),a.reset(),o.reset()}}}function ro(e,t,n,r,i,a,o){const s=i.isWebGL2,l=(i.maxTextures,i.maxCubemapSize),c=i.maxTextureSize,u=i.maxSamples,d=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,h="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),f=new WeakMap;let p;const g=new WeakMap;let m=!1;try{m="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function A(e,t){return m?new OffscreenCanvas(e,t):He("canvas")}function y(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?De:Math.floor,a=r(i*e.width),o=r(i*e.height);void 0===p&&(p=A(a,o));const s=n?A(a,o):p;s.width=a,s.height=o;return s.getContext("2d").drawImage(e,0,0,a,o),s}return e}return e}function v(e){return Be(e.width)&&Be(e.height)}function b(e,t){return e.generateMipmaps&&t&&e.minFilter!==O&&e.minFilter!==R}function x(t){e.generateMipmap(t)}function E(n,r,i,a,o=!1){if(!1===s)return r;if(null!==n&&void 0!==e[n])return e[n];let l=r;return 6403===r&&(5126===i&&(l=33326),5131===i&&(l=33325),5121===i&&(l=33321)),33319===r&&(5126===i&&(l=33328),5131===i&&(l=33327),5121===i&&(l=33323)),6408===r&&(5126===i&&(l=34836),5131===i&&(l=34842),5121===i&&(l=a===me&&!1===o?35907:32856),32819===i&&(l=32854),32820===i&&(l=32855)),33325!==l&&33326!==l&&33327!==l&&33328!==l&&34842!==l&&34836!==l||t.get("EXT_color_buffer_float"),l}function w(e,t,n){return!0===b(e,n)||e.isFramebufferTexture&&e.minFilter!==O&&e.minFilter!==R?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function _(e){return e===O||e===T||e===P?9728:9729}function S(e){const t=e.target;t.removeEventListener("dispose",S),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=g.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&H(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}(t),t.isVideoTexture&&f.delete(t)}function D(t){const n=t.target;n.removeEventListener("dispose",D),function(t){const n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[t]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);i.__webglTexture&&(e.deleteTexture(i.__webglTexture),o.memory.textures--),r.remove(n[t])}r.remove(n),r.remove(t)}(n)}function H(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete g.get(i)[n.__cacheKey],o.memory.textures--}let G=0;function V(e,t){const i=r.get(e);if(e.isVideoTexture&&function(e){const t=o.render.frame;f.get(e)!==t&&(f.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){const n=e.image;if(null===n);else if(!1!==n.complete)return void X(i,e,t)}n.bindTexture(3553,i.__webglTexture,33984+t)}const K={[I]:10497,[C]:33071,[M]:33648},W={[O]:9728,[T]:9984,[P]:9986,[R]:9729,[B]:9985,[k]:9987};function q(n,a,o){if(o?(e.texParameteri(n,10242,K[a.wrapS]),e.texParameteri(n,10243,K[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,K[a.wrapR]),e.texParameteri(n,10240,W[a.magFilter]),e.texParameteri(n,10241,W[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS!==C||a.wrapT,e.texParameteri(n,10240,_(a.magFilter)),e.texParameteri(n,10241,_(a.minFilter)),a.minFilter!==O&&a.minFilter),!0===t.has("EXT_texture_filter_anisotropic")){const o=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===O)return;if(a.minFilter!==P&&a.minFilter!==k)return;if(a.type===N&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&a.type===j&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function Y(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",S));const i=n.source;let a=g.get(i);void 0===a&&(a={},g.set(i,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&H(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function X(t,i,o){let l=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(l=35866),i.isData3DTexture&&(l=32879);const u=Y(t,i),d=i.source;n.bindTexture(l,t.__webglTexture,33984+o);const h=r.get(d);if(d.version!==h.__version||!0===u){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=function(e){return!s&&(e.wrapS!==C||e.wrapT!==C||e.minFilter!==O&&e.minFilter!==R)}(i)&&!1===v(i.image);let r=y(i.image,t,!1,c);r=ne(i,r);const f=v(r)||s,p=a.convert(i.format,i.encoding);let g,m=a.convert(i.type),A=E(i.internalFormat,p,m,i.encoding,i.isVideoTexture);q(l,i,f);const _=i.mipmaps,S=s&&!0!==i.isVideoTexture,I=void 0===h.__version||!0===u,M=w(i,r,f);if(i.isDepthTexture)A=6402,s?A=i.type===N?36012:i.type===L?33190:i.type===U?35056:33189:i.type,i.format===Q&&6402===A&&1012!==i.type&&i.type!==L&&(i.type=L,m=a.convert(i.type)),i.format===z&&6402===A&&(A=34041,i.type!==U&&(i.type=U,m=a.convert(i.type))),I&&(S?n.texStorage2D(3553,1,A,r.width,r.height):n.texImage2D(3553,0,A,r.width,r.height,0,p,m,null));else if(i.isDataTexture)if(_.length>0&&f){S&&I&&n.texStorage2D(3553,M,A,_[0].width,_[0].height);for(let e=0,t=_.length;e<t;e++)g=_[e],S?n.texSubImage2D(3553,e,0,0,g.width,g.height,p,m,g.data):n.texImage2D(3553,e,A,g.width,g.height,0,p,m,g.data);i.generateMipmaps=!1}else S?(I&&n.texStorage2D(3553,M,A,r.width,r.height),n.texSubImage2D(3553,0,0,0,r.width,r.height,p,m,r.data)):n.texImage2D(3553,0,A,r.width,r.height,0,p,m,r.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){S&&I&&n.texStorage3D(35866,M,A,_[0].width,_[0].height,r.depth);for(let e=0,t=_.length;e<t;e++)g=_[e],i.format!==F?null!==p&&(S?n.compressedTexSubImage3D(35866,e,0,0,0,g.width,g.height,r.depth,p,g.data,0,0):n.compressedTexImage3D(35866,e,A,g.width,g.height,r.depth,0,g.data,0,0)):S?n.texSubImage3D(35866,e,0,0,0,g.width,g.height,r.depth,p,m,g.data):n.texImage3D(35866,e,A,g.width,g.height,r.depth,0,p,m,g.data)}else{S&&I&&n.texStorage2D(3553,M,A,_[0].width,_[0].height);for(let e=0,t=_.length;e<t;e++)g=_[e],i.format!==F?null!==p&&(S?n.compressedTexSubImage2D(3553,e,0,0,g.width,g.height,p,g.data):n.compressedTexImage2D(3553,e,A,g.width,g.height,0,g.data)):S?n.texSubImage2D(3553,e,0,0,g.width,g.height,p,m,g.data):n.texImage2D(3553,e,A,g.width,g.height,0,p,m,g.data)}else if(i.isDataArrayTexture)S?(I&&n.texStorage3D(35866,M,A,r.width,r.height,r.depth),n.texSubImage3D(35866,0,0,0,0,r.width,r.height,r.depth,p,m,r.data)):n.texImage3D(35866,0,A,r.width,r.height,r.depth,0,p,m,r.data);else if(i.isData3DTexture)S?(I&&n.texStorage3D(32879,M,A,r.width,r.height,r.depth),n.texSubImage3D(32879,0,0,0,0,r.width,r.height,r.depth,p,m,r.data)):n.texImage3D(32879,0,A,r.width,r.height,r.depth,0,p,m,r.data);else if(i.isFramebufferTexture){if(I)if(S)n.texStorage2D(3553,M,A,r.width,r.height);else{let e=r.width,t=r.height;for(let r=0;r<M;r++)n.texImage2D(3553,r,A,e,t,0,p,m,null),e>>=1,t>>=1}}else if(_.length>0&&f){S&&I&&n.texStorage2D(3553,M,A,_[0].width,_[0].height);for(let e=0,t=_.length;e<t;e++)g=_[e],S?n.texSubImage2D(3553,e,0,0,p,m,g):n.texImage2D(3553,e,A,p,m,g);i.generateMipmaps=!1}else S?(I&&n.texStorage2D(3553,M,A,r.width,r.height),n.texSubImage2D(3553,0,0,0,p,m,r)):n.texImage2D(3553,0,A,p,m,r);b(i,f)&&x(l),h.__version=d.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function J(t,i,o,s,l){const c=a.convert(o.format,o.encoding),u=a.convert(o.type),h=E(o.internalFormat,c,u,o.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,i.width,i.height,i.depth,0,c,u,null):n.texImage2D(l,0,h,i.width,i.height,0,c,u,null)),n.bindFramebuffer(36160,t),te(i)?d.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(o).__webglTexture,0,ee(i)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function $(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r||te(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===N?i=36012:t.type===L&&(i=33190));const r=ee(n);te(n)?d.renderbufferStorageMultisampleEXT(36161,r,i,n.width,n.height):e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=ee(n);r&&!1===te(n)?e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height):te(n)?d.renderbufferStorageMultisampleEXT(36161,i,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){const o=t[i],s=a.convert(o.format,o.encoding),l=a.convert(o.type),c=E(o.internalFormat,s,l,o.encoding),u=ee(n);r&&!1===te(n)?e.renderbufferStorageMultisample(36161,u,c,n.width,n.height):te(n)?d.renderbufferStorageMultisampleEXT(36161,u,c,n.width,n.height):e.renderbufferStorage(36161,c,n.width,n.height)}}e.bindRenderbuffer(36161,null)}function Z(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),V(i.depthTexture,0);const a=r.get(i.depthTexture).__webglTexture,o=ee(i);if(i.depthTexture.format===Q)te(i)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==z)throw new Error("Unknown depthTexture format");te(i)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(36160,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),$(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),$(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function ee(e){return Math.min(u,e.samples)}function te(e){const n=r.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function ne(e,n){const r=e.encoding,i=e.format;e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===we||r!==ge&&r===me&&!1===s&&(!0===t.has("EXT_sRGB")&&i===F?(e.format=we,e.minFilter=R,e.generateMipmaps=!1):n=$e.sRGBToLinear(n)),n}this.allocateTextureUnit=function(){const e=G;return G+=1,e},this.resetTextureUnits=function(){G=0},this.setTexture2D=V,this.setTexture2DArray=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?X(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?X(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;const c=Y(t,i),u=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);const d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=i.isCompressedTexture||i.image[0].isCompressedTexture,r=i.image[0]&&i.image[0].isDataTexture,h=[];for(let e=0;e<6;e++)h[e]=t||r?r?i.image[e].image:i.image[e]:y(i.image[e],!1,!0,l),h[e]=ne(i,h[e]);const f=h[0],p=v(f)||s,g=a.convert(i.format,i.encoding),m=a.convert(i.type),A=E(i.internalFormat,g,m,i.encoding),_=s&&!0!==i.isVideoTexture,S=void 0===d.__version||!0===c;let I,C=w(i,f,p);if(q(34067,i,p),t){_&&S&&n.texStorage2D(34067,C,A,f.width,f.height);for(let e=0;e<6;e++){I=h[e].mipmaps;for(let t=0;t<I.length;t++){const r=I[t];i.format!==F?null!==g&&(_?n.compressedTexSubImage2D(34069+e,t,0,0,r.width,r.height,g,r.data):n.compressedTexImage2D(34069+e,t,A,r.width,r.height,0,r.data)):_?n.texSubImage2D(34069+e,t,0,0,r.width,r.height,g,m,r.data):n.texImage2D(34069+e,t,A,r.width,r.height,0,g,m,r.data)}}}else{I=i.mipmaps,_&&S&&(I.length>0&&C++,n.texStorage2D(34067,C,A,h[0].width,h[0].height));for(let e=0;e<6;e++)if(r){_?n.texSubImage2D(34069+e,0,0,0,h[e].width,h[e].height,g,m,h[e].data):n.texImage2D(34069+e,0,A,h[e].width,h[e].height,0,g,m,h[e].data);for(let t=0;t<I.length;t++){const r=I[t].image[e].image;_?n.texSubImage2D(34069+e,t+1,0,0,r.width,r.height,g,m,r.data):n.texImage2D(34069+e,t+1,A,r.width,r.height,0,g,m,r.data)}}else{_?n.texSubImage2D(34069+e,0,0,0,g,m,h[e]):n.texImage2D(34069+e,0,A,g,m,h[e]);for(let t=0;t<I.length;t++){const r=I[t];_?n.texSubImage2D(34069+e,t+1,0,0,g,m,r.image[e]):n.texImage2D(34069+e,t+1,A,g,m,r.image[e])}}}b(i,p)&&x(34067),d.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){const i=r.get(e);void 0!==t&&J(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&Z(e)},this.setupRenderTarget=function(t){const l=t.texture,c=r.get(t),u=r.get(l);t.addEventListener("dispose",D),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,o.memory.textures++);const d=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,f=v(t)||s;if(d){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),h&&i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),o.memory.textures++)}}if(s&&t.samples>0&&!1===te(t)){const r=h?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer[n]);const o=a.convert(i.format,i.encoding),s=a.convert(i.type),l=E(i.internalFormat,o,s,i.encoding,!0===t.isXRRenderTarget),u=ee(t);e.renderbufferStorageMultisample(36161,u,l,t.width,t.height),e.framebufferRenderbuffer(36160,36064+n,36161,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),$(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(d){n.bindTexture(34067,u.__webglTexture),q(34067,l,f);for(let e=0;e<6;e++)J(c.__webglFramebuffer[e],t,l,36064,34069+e);b(l,f)&&x(34067),n.unbindTexture()}else if(h){const e=t.texture;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=r.get(a);n.bindTexture(3553,o.__webglTexture),q(3553,a,f),J(c.__webglFramebuffer,t,a,36064+i,3553),b(a,f)&&x(3553)}n.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&s&&(e=t.isWebGL3DRenderTarget?32879:35866),n.bindTexture(e,u.__webglTexture),q(e,l,f),J(c.__webglFramebuffer,t,l,36064,e),b(l,f)&&x(e),n.unbindTexture()}t.depthBuffer&&Z(t)},this.updateRenderTargetMipmap=function(e){const t=v(e)||s,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let a=0,o=i.length;a<o;a++){const o=i[a];if(b(o,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,i=r.get(o).__webglTexture;n.bindTexture(t,i),x(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(s&&t.samples>0&&!1===te(t)){const i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height;let s=16384;const l=[],c=t.stencilBuffer?33306:36096,u=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,null),n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,null,0);n.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,u.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(36064+n),t.depthBuffer&&l.push(c);const f=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===f&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),d&&e.framebufferRenderbuffer(36008,36064,36161,u.__webglColorRenderbuffer[n]),!0===f&&(e.invalidateFramebuffer(36008,[c]),e.invalidateFramebuffer(36009,[c])),d){const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),h&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,u.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,a,0)}n.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Z,this.setupFrameBufferTexture=J,this.useMultisampledRTT=te}function io(e,t,n){const r=n.isWebGL2;return{convert:function(n,i=null){let a;if(n===D)return 5121;if(1017===n)return 32819;if(1018===n)return 32820;if(1010===n)return 5120;if(1011===n)return 5122;if(1012===n)return 5123;if(1013===n)return 5124;if(n===L)return 5125;if(n===N)return 5126;if(n===j)return r?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===n)return 6406;if(n===F)return 6408;if(1024===n)return 6409;if(1025===n)return 6410;if(n===Q)return 6402;if(n===z)return 34041;if(n===we)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(n===H)return 6403;if(1029===n)return 36244;if(n===G)return 33319;if(1031===n)return 33320;if(1033===n)return 36249;if(n===V||n===K||n===W||n===q)if(i===me){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(n===V)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===K)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===W)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===q)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(n===V)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===K)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===W)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===q)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Y||35841===n||n===X||35843===n){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(n===Y)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===X)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===J)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===$||n===Z){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(n===$)return i===me?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===Z)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(n===ee||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(n===ee)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return i===me?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===te){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(n===te)return i===me?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===n||36284===n||36285===n||36286===n){if(a=t.get("EXT_texture_compression_rgtc"),null===a)return null;if(n===te)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===U?r?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}}}class ao extends wr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class oo extends un{constructor(){super(),this.isGroup=!0,this.type="Group"}}const so={type:"move"};class lo{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new oo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new oo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new lt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new lt),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new oo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new lt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new lt),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const r of e.hand.values()){const e=t.getJointPose(r,n),i=this._getHandJoint(l,r);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=e.radius),i.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(so)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new oo;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class co extends nt{constructor(e,t,n,r,i,a,o,s,l,c){if((c=void 0!==c?c:Q)!==Q&&c!==z)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Q&&(n=L),void 0===n&&c===z&&(n=U),super(null,r,i,a,o,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:O,this.minFilter=void 0!==s?s:O,this.flipY=!1,this.generateMipmaps=!1}}class uo extends _e{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,f=null;const p=t.getContextAttributes();let g=null,m=null;const A=[],y=[],v=new Set,b=new Map,x=new wr;x.layers.enable(1),x.viewport=new rt;const E=new wr;E.layers.enable(2),E.viewport=new rt;const w=[x,E],_=new ao;_.layers.enable(1),_.layers.enable(2);let S=null,I=null;function C(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=A[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function M(){r.removeEventListener("select",C),r.removeEventListener("selectstart",C),r.removeEventListener("selectend",C),r.removeEventListener("squeeze",C),r.removeEventListener("squeezestart",C),r.removeEventListener("squeezeend",C),r.removeEventListener("end",M),r.removeEventListener("inputsourceschange",O);for(let e=0;e<A.length;e++){const t=y[e];null!==t&&(y[e]=null,A[e].disconnect(t))}S=null,I=null,e.setRenderTarget(g),h=null,d=null,u=null,r=null,m=null,k.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function O(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=y.indexOf(n);r>=0&&(y[r]=null,A[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=y.indexOf(n);if(-1===r){for(let e=0;e<A.length;e++){if(e>=y.length){y.push(n),r=e;break}if(null===y[e]){y[e]=n,r=e;break}}if(-1===r)break}const i=A[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=A[e];return void 0===t&&(t=new lo,A[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=A[e];return void 0===t&&(t=new lo,A[e]=t),t.getGripSpace()},this.getHand=function(e){let t=A[e];return void 0===t&&(t=new lo,A[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,n.isPresenting},this.setReferenceSpaceType=function(e){o=e,n.isPresenting},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",C),r.addEventListener("selectstart",C),r.addEventListener("selectend",C),r.addEventListener("squeeze",C),r.addEventListener("squeezestart",C),r.addEventListener("squeezeend",C),r.addEventListener("end",M),r.addEventListener("inputsourceschange",O),!0!==p.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),m=new it(h.framebufferWidth,h.framebufferHeight,{format:F,type:D,encoding:e.outputEncoding,stencilBuffer:p.stencil})}else{let n=null,a=null,o=null;p.depth&&(o=p.stencil?35056:33190,n=p.stencil?z:Q,a=p.stencil?U:L);const s={colorFormat:32856,depthFormat:o,scaleFactor:i};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(s),r.updateRenderState({layers:[d]}),m=new it(d.textureWidth,d.textureHeight,{format:F,type:D,depthTexture:new co(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});e.properties.get(m).__ignoreDepthValues=d.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await r.requestReferenceSpace(o),k.setContext(r),k.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const T=new lt,P=new lt;function R(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;_.near=E.near=x.near=e.near,_.far=E.far=x.far=e.far,S===_.near&&I===_.far||(r.updateRenderState({depthNear:_.near,depthFar:_.far}),S=_.near,I=_.far);const t=e.parent,n=_.cameras;R(_,t);for(let e=0;e<n.length;e++)R(n[e],t);2===n.length?function(e,t,n){T.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(n.matrixWorld);const r=T.distanceTo(P),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*u,f=o*d,p=r/(-u+d),g=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(g),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const m=o+p,A=s+p,y=h-g,v=f+(r-g),b=l*s/A*m,x=c*s/A*m;e.projectionMatrix.makePerspective(y,v,b,x,m,A),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(_,x,E):_.projectionMatrix.copy(x.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);const r=e.children;for(let e=0,t=r.length;e<t;e++)r[e].updateMatrixWorld(!0);e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Me*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,_,t)},this.getCamera=function(){return _},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.getPlanes=function(){return v};let B=null;const k=new Dr;k.setAnimationLoop((function(t,r){if(c=r.getViewerPose(l||a),f=r,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(m,h.framebuffer),e.setRenderTarget(m));let n=!1;t.length!==_.cameras.length&&(_.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let a=null;if(null!==h)a=h.getViewport(i);else{const t=u.getViewSubImage(d,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(m,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(m))}let o=w[r];void 0===o&&(o=new wr,o.layers.enable(r),o.viewport=new rt,w[r]=o),o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(i.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&(_.matrix.copy(o.matrix),_.matrix.decompose(_.position,_.quaternion,_.scale)),!0===n&&_.cameras.push(o)}}for(let e=0;e<A.length;e++){const t=y[e],n=A[e];null!==t&&void 0!==n&&n.update(t,r,l||a)}if(B&&B(t,r),r.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:r.detectedPlanes});let e=null;for(const t of v)r.detectedPlanes.has(t)||(null===e&&(e=[]),e.push(t));if(null!==e)for(const t of e)v.delete(t),b.delete(t),n.dispatchEvent({type:"planeremoved",data:t});for(const e of r.detectedPlanes)if(v.has(e)){const t=b.get(e);e.lastChangedTime>t&&(b.set(e,e.lastChangedTime),n.dispatchEvent({type:"planechanged",data:e}))}else v.add(e),b.set(e,r.lastChangedTime),n.dispatchEvent({type:"planeadded",data:e})}f=null})),this.setAnimationLoop=function(e){B=e},this.dispose=function(){}}}function ho(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===l&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===l&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);const a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;const t=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*t,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,vr(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));const i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===l&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function fo(e,t,n,r){let i={},a={},o=[];const s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){const r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{const e=Array.isArray(r)?r:[r],i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());n[t]=i}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],i=Array.isArray(r)?r:[r];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(i[t]))return n.copy(i[t]),!0}}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture,t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let h=i[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const r=16;let i=0;for(let e=0,a=t.length;e<a;e++){const a=t[e],o={boundary:0,storage:0},s=Array.isArray(a.value)?a.value:[a.value];for(let e=0,t=s.length;e<t;e++){const t=c(s[e]);o.boundary+=t.boundary,o.storage+=t.storage}if(a.__data=new Float32Array(o.storage/Float32Array.BYTES_PER_ELEMENT),a.__offset=n,e>0){i=n%r;0!==i&&r-i-o.boundary<0&&(n+=r-i,a.__offset=n)}n+=o.storage}i=n%r,i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return 0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",u));const f=d.program;r.updateUBOMapping(n,f);const p=t.render.frame;a[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(let t=0,n=r.length;t<n;t++){const n=r[t];if(!0===l(n,t,a)){const t=n.__offset,r=Array.isArray(n.value)?n.value:[n.value];let i=0;for(let a=0;a<r.length;a++){const o=r[a],s=c(o);"number"===typeof o?(n.__data[0]=o,e.bufferSubData(35345,t+i,n.__data)):o.isMatrix3?(n.__data[0]=o.elements[0],n.__data[1]=o.elements[1],n.__data[2]=o.elements[2],n.__data[3]=o.elements[0],n.__data[4]=o.elements[3],n.__data[5]=o.elements[4],n.__data[6]=o.elements[5],n.__data[7]=o.elements[0],n.__data[8]=o.elements[6],n.__data[9]=o.elements[7],n.__data[10]=o.elements[8],n.__data[11]=o.elements[0]):(o.toArray(n.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,t,n.__data)}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function po(){const e=He("canvas");return e.style.display="block",e}class go{constructor(e={}){const{canvas:t=po(),context:n=null,depth:i=!0,stencil:a=!0,alpha:o=!1,antialias:u=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:h=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:p=!1}=e;let m;this.isWebGLRenderer=!0,m=null!==n?n.getContextAttributes().alpha:o;let A=null,y=null;const v=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ge,this.useLegacyLights=!0,this.toneMapping=g,this.toneMappingExposure=1;const x=this;let E=!1,w=0,_=0,S=null,I=-1,C=null;const M=new rt,O=new rt;let T=null,P=t.width,R=t.height,B=1,L=null,U=null;const Q=new rt(0,0,P,R),z=new rt(0,0,P,R);let H=!1;const G=new kr;let V=!1,K=!1,W=null;const q=new jt,Y=new lt,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function J(){return null===S?B:1}let $,Z,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,he,fe,pe,me,Ae,ye,ve,be,xe,Ee,we=n;function _e(e,n){for(let r=0;r<e.length;r++){const i=e[r],a=t.getContext(i,n);if(null!==a)return a}return null}try{const e={alpha:!0,depth:i,stencil:a,antialias:u,premultipliedAlpha:d,preserveDrawingBuffer:h,powerPreference:f,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${r}`),t.addEventListener("webglcontextlost",Ce,!1),t.addEventListener("webglcontextrestored",Me,!1),t.addEventListener("webglcontextcreationerror",Oe,!1),null===we){const t=["webgl2","webgl","experimental-webgl"];if(!0===x.isWebGL1Renderer&&t.shift(),we=_e(t,e),null===we)throw _e(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===we.getShaderPrecisionFormat&&(we.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw e}function Se(){$=new ui(we),Z=new Vr(we,$,e),$.init(Z),be=new io(we,$,Z),ee=new no(we,$,Z),te=new fi,ne=new za,re=new ro(we,$,ee,ne,Z,be,te),ie=new Wr(x),ae=new ci(x),oe=new Lr(we,Z),xe=new Hr(we,$,oe,Z),se=new di(we,oe,te,xe),le=new Ai(we,se,oe,te),Ae=new mi(we,Z,re),fe=new Kr(ne),ce=new Qa(x,ie,ae,$,Z,xe,fe),ue=new ho(x,ne),de=new Ka,he=new $a($,Z),me=new zr(x,ie,ae,ee,le,m,d),pe=new to(x,le,Z),Ee=new fo(we,te,Z,ee),ye=new Gr(we,$,te,Z),ve=new hi(we,$,te,Z),te.programs=ce.programs,x.capabilities=Z,x.extensions=$,x.properties=ne,x.renderLists=de,x.shadowMap=pe,x.state=ee,x.info=te}Se();const Ie=new uo(x,we);function Ce(e){e.preventDefault(),E=!0}function Me(){E=!1;const e=te.autoReset,t=pe.enabled,n=pe.autoUpdate,r=pe.needsUpdate,i=pe.type;Se(),te.autoReset=e,pe.enabled=t,pe.autoUpdate=n,pe.needsUpdate=r,pe.type=i}function Oe(e){}function Te(e){const t=e.target;t.removeEventListener("dispose",Te),function(e){(function(e){const t=ne.get(e).programs;void 0!==t&&(t.forEach((function(e){ce.releaseProgram(e)})),e.isShaderMaterial&&ce.releaseShaderCache(e))})(e),ne.remove(e)}(t)}this.xr=Ie,this.getContext=function(){return we},this.getContextAttributes=function(){return we.getContextAttributes()},this.forceContextLoss=function(){const e=$.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=$.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(e){void 0!==e&&(B=e,this.setSize(P,R,!1))},this.getSize=function(e){return e.set(P,R)},this.setSize=function(e,n,r=!0){Ie.isPresenting||(P=e,R=n,t.width=Math.floor(e*B),t.height=Math.floor(n*B),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(P*B,R*B).floor()},this.setDrawingBufferSize=function(e,n,r){P=e,R=n,B=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(M)},this.getViewport=function(e){return e.copy(Q)},this.setViewport=function(e,t,n,r){e.isVector4?Q.set(e.x,e.y,e.z,e.w):Q.set(e,t,n,r),ee.viewport(M.copy(Q).multiplyScalar(B).floor())},this.getScissor=function(e){return e.copy(z)},this.setScissor=function(e,t,n,r){e.isVector4?z.set(e.x,e.y,e.z,e.w):z.set(e,t,n,r),ee.scissor(O.copy(z).multiplyScalar(B).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(e){ee.setScissorTest(H=e)},this.setOpaqueSort=function(e){L=e},this.setTransparentSort=function(e){U=e},this.getClearColor=function(e){return e.copy(me.getClearColor())},this.setClearColor=function(){me.setClearColor.apply(me,arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha.apply(me,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),we.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ce,!1),t.removeEventListener("webglcontextrestored",Me,!1),t.removeEventListener("webglcontextcreationerror",Oe,!1),de.dispose(),he.dispose(),ne.dispose(),ie.dispose(),ae.dispose(),le.dispose(),xe.dispose(),Ee.dispose(),ce.dispose(),Ie.dispose(),Ie.removeEventListener("sessionstart",Re),Ie.removeEventListener("sessionend",Be),W&&(W.dispose(),W=null),ke.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=X);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=X);re.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===S?x.outputEncoding:!0===S.isXRRenderTarget?S.texture.encoding:ge,l=(r.isMeshStandardMaterial?ae:ie).get(r.envMap||o),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!r.normalMap&&!!n.attributes.tangent,d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,f=!!n.morphAttributes.color,p=r.toneMapped?x.toneMapping:g,m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,A=void 0!==m?m.length:0,v=ne.get(r),b=y.state.lights;if(!0===V&&(!0===K||e!==C)){const t=e===C&&r.id===I;fe.setState(r,e,t)}let E=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==b.state.version||v.outputEncoding!==s||i.isInstancedMesh&&!1===v.instancing?E=!0:i.isInstancedMesh||!0!==v.instancing?i.isSkinnedMesh&&!1===v.skinning?E=!0:i.isSkinnedMesh||!0!==v.skinning?v.envMap!==l||!0===r.fog&&v.fog!==a?E=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===fe.numPlanes&&v.numIntersection===fe.numIntersection?(v.vertexAlphas!==c||v.vertexTangents!==u||v.morphTargets!==d||v.morphNormals!==h||v.morphColors!==f||v.toneMapping!==p||!0===Z.isWebGL2&&v.morphTargetsCount!==A)&&(E=!0):E=!0:E=!0:E=!0:(E=!0,v.__version=r.version);let w=v.currentProgram;!0===E&&(w=Ue(r,t,i));let _=!1,M=!1,O=!1;const T=w.getUniforms(),P=v.uniforms;ee.useProgram(w.program)&&(_=!0,M=!0,O=!0);r.id!==I&&(I=r.id,M=!0);if(_||C!==e){if(T.setValue(we,"projectionMatrix",e.projectionMatrix),Z.logarithmicDepthBuffer&&T.setValue(we,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),C!==e&&(C=e,M=!0,O=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=T.map.cameraPosition;void 0!==t&&t.setValue(we,Y.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&T.setValue(we,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&T.setValue(we,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){T.setOptional(we,i,"bindMatrix"),T.setOptional(we,i,"bindMatrixInverse");const e=i.skeleton;e&&Z.floatVertexTextures&&(null===e.boneTexture&&e.computeBoneTexture(),T.setValue(we,"boneTexture",e.boneTexture,re),T.setValue(we,"boneTextureSize",e.boneTextureSize))}const k=n.morphAttributes;(void 0!==k.position||void 0!==k.normal||void 0!==k.color&&!0===Z.isWebGL2)&&Ae.update(i,n,w);(M||v.receiveShadow!==i.receiveShadow)&&(v.receiveShadow=i.receiveShadow,T.setValue(we,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(P.envMap.value=l,P.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);M&&(T.setValue(we,"toneMappingExposure",x.toneMappingExposure),v.needsLights&&(L=O,(D=P).ambientLightColor.needsUpdate=L,D.lightProbe.needsUpdate=L,D.directionalLights.needsUpdate=L,D.directionalLightShadows.needsUpdate=L,D.pointLights.needsUpdate=L,D.pointLightShadows.needsUpdate=L,D.spotLights.needsUpdate=L,D.spotLightShadows.needsUpdate=L,D.rectAreaLights.needsUpdate=L,D.hemisphereLights.needsUpdate=L),a&&!0===r.fog&&ue.refreshFogUniforms(P,a),ue.refreshMaterialUniforms(P,r,B,R,W),xa.upload(we,v.uniformsList,P,re));var D,L;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(xa.upload(we,v.uniformsList,P,re),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&T.setValue(we,"center",i.center);if(T.setValue(we,"modelViewMatrix",i.modelViewMatrix),T.setValue(we,"normalMatrix",i.normalMatrix),T.setValue(we,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(Z.isWebGL2){const n=e[t];Ee.update(n,w),Ee.bind(n,w)}}return w}(e,t,n,r,i);ee.setMaterial(r,o);let l=n.index,c=1;!0===r.wireframe&&(l=se.getWireframeAttribute(n),c=2);const u=n.drawRange,d=n.attributes.position;let h=u.start*c,f=(u.start+u.count)*c;null!==a&&(h=Math.max(h,a.start*c),f=Math.min(f,(a.start+a.count)*c)),null!==l?(h=Math.max(h,0),f=Math.min(f,l.count)):void 0!==d&&null!==d&&(h=Math.max(h,0),f=Math.min(f,d.count));const p=f-h;if(p<0||p===1/0)return;let m;xe.setup(i,r,s,n,l);let A=ye;if(null!==l&&(m=oe.get(l),A=ve,A.setIndex(m)),i.isMesh)!0===r.wireframe?(ee.setLineWidth(r.wireframeLinewidth*J()),A.setMode(1)):A.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),ee.setLineWidth(e*J()),i.isLineSegments?A.setMode(1):i.isLineLoop?A.setMode(2):A.setMode(3)}else i.isPoints?A.setMode(0):i.isSprite&&A.setMode(4);if(i.isInstancedMesh)A.renderInstances(h,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);A.renderInstances(h,p,t)}else A.render(h,p)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===c&&!1===e.forceSinglePass?(e.side=l,e.needsUpdate=!0,Ue(e,t,n),e.side=s,e.needsUpdate=!0,Ue(e,t,n),e.side=c):Ue(e,t,n)}y=he.get(e),y.init(),b.push(y),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(y.pushLight(e),e.castShadow&&y.pushShadow(e))})),y.setupLights(x.useLegacyLights),e.traverse((function(t){const r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),b.pop(),y=null};let Pe=null;function Re(){ke.stop()}function Be(){ke.start()}const ke=new Dr;function De(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)y.pushLight(e),e.castShadow&&y.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||G.intersectsSprite(e)){r&&Y.setFromMatrixPosition(e.matrixWorld).applyMatrix4(q);const t=le.update(e),i=e.material;i.visible&&A.push(e,t,i,n,Y.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==te.render.frame&&(e.skeleton.update(),e.skeleton.frame=te.render.frame),!e.frustumCulled||G.intersectsObject(e))){r&&Y.setFromMatrixPosition(e.matrixWorld).applyMatrix4(q);const t=le.update(e),i=e.material;if(Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&A.push(e,t,s,n,Y.z,o)}}else i.visible&&A.push(e,t,i,n,Y.z,null)}const i=e.children;for(let e=0,a=i.length;e<a;e++)De(i[e],t,n,r)}function Le(e,t,n,r){const i=e.opaque,a=e.transmissive,o=e.transparent;y.setupLightsView(n),!0===V&&fe.setGlobalState(x.clippingPlanes,n),a.length>0&&function(e,t,n,r){if(null===W){const e=Z.isWebGL2;W=new it(1024,1024,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")?j:D,minFilter:k,samples:e&&!0===u?4:0})}const i=x.getRenderTarget();x.setRenderTarget(W),x.clear();const a=x.toneMapping;x.toneMapping=g,Ne(e,n,r),re.updateMultisampleRenderTarget(W),re.updateRenderTargetMipmap(W);let o=!1;for(let e=0,i=t.length;e<i;e++){const i=t[e],a=i.object,s=i.geometry,u=i.material,d=i.group;if(u.side===c&&a.layers.test(r.layers)){const e=u.side;u.side=l,u.needsUpdate=!0,je(a,n,r,s,u,d),u.side=e,u.needsUpdate=!0,o=!0}}!0===o&&(re.updateMultisampleRenderTarget(W),re.updateRenderTargetMipmap(W));x.setRenderTarget(i),x.toneMapping=a}(i,a,t,n),r&&ee.viewport(M.copy(r)),i.length>0&&Ne(i,t,n),a.length>0&&Ne(a,t,n),o.length>0&&Ne(o,t,n),ee.buffers.depth.setTest(!0),ee.buffers.depth.setMask(!0),ee.buffers.color.setMask(!0),ee.setPolygonOffset(!1)}function Ne(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=a.object,s=a.geometry,l=null===r?a.material:r,c=a.group;o.layers.test(n.layers)&&je(o,t,n,s,l,c)}}function je(e,t,n,r,i,a){e.onBeforeRender(x,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(x,t,n,r,e,a),!0===i.transparent&&i.side===c&&!1===i.forceSinglePass?(i.side=l,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,a),i.side=s,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,a),i.side=c):x.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(x,t,n,r,i,a)}function Ue(e,t,n){!0!==t.isScene&&(t=X);const r=ne.get(e),i=y.state.lights,a=y.state.shadowsArray,o=i.state.version,s=ce.getParameters(e,i.state,a,t,n),l=ce.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ae:ie).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",Te),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===o)return Fe(e,s),u}else s.uniforms=ce.getUniforms(e),e.onBuild(n,s,x),e.onBeforeCompile(s,x),u=ce.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=fe.uniform),Fe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);const h=u.getUniforms(),f=xa.seqWithValue(h.seq,d);return r.currentProgram=u,r.uniformsList=f,u}function Fe(e,t){const n=ne.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}ke.setAnimationLoop((function(e){Pe&&Pe(e)})),"undefined"!==typeof self&&ke.setContext(self),this.setAnimationLoop=function(e){Pe=e,Ie.setAnimationLoop(e),null===e?ke.stop():ke.start()},Ie.addEventListener("sessionstart",Re),Ie.addEventListener("sessionend",Be),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return;if(!0===E)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ie.enabled&&!0===Ie.isPresenting&&(!0===Ie.cameraAutoUpdate&&Ie.updateCamera(t),t=Ie.getCamera()),!0===e.isScene&&e.onBeforeRender(x,e,t,S),y=he.get(e,b.length),y.init(),b.push(y),q.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),G.setFromProjectionMatrix(q),K=this.localClippingEnabled,V=fe.init(this.clippingPlanes,K),A=de.get(e,v.length),A.init(),v.push(A),De(e,t,0,x.sortObjects),A.finish(),!0===x.sortObjects&&A.sort(L,U),!0===V&&fe.beginShadows();const n=y.state.shadowsArray;if(pe.render(n,e,t),!0===V&&fe.endShadows(),!0===this.info.autoReset&&this.info.reset(),me.render(A,e),y.setupLights(x.useLegacyLights),t.isArrayCamera){const n=t.cameras;for(let t=0,r=n.length;t<r;t++){const r=n[t];Le(A,e,r,r.viewport)}}else Le(A,e,t);null!==S&&(re.updateMultisampleRenderTarget(S),re.updateRenderTargetMipmap(S)),!0===e.isScene&&e.onAfterRender(x,e,t),xe.resetDefaultState(),I=-1,C=null,b.pop(),y=b.length>0?b[b.length-1]:null,v.pop(),A=v.length>0?v[v.length-1]:null},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(e,t,n){ne.get(e.texture).__webglTexture=t,ne.get(e.depthTexture).__webglTexture=n;const r=ne.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===$.has("WEBGL_multisampled_render_to_texture")&&(r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=ne.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){S=e,w=t,_=n;let r=!0,i=null,a=!1,o=!1;if(e){const n=ne.get(e);void 0!==n.__useDefaultFramebuffer?(ee.bindFramebuffer(36160,null),r=!1):void 0===n.__webglFramebuffer?re.setupRenderTarget(e):n.__hasExternalTextures&&re.rebindTextures(e,ne.get(e.texture).__webglTexture,ne.get(e.depthTexture).__webglTexture);const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(o=!0);const l=ne.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],a=!0):i=Z.isWebGL2&&e.samples>0&&!1===re.useMultisampledRTT(e)?ne.get(e).__webglMultisampledFramebuffer:l,M.copy(e.viewport),O.copy(e.scissor),T=e.scissorTest}else M.copy(Q).multiplyScalar(B).floor(),O.copy(z).multiplyScalar(B).floor(),T=H;if(ee.bindFramebuffer(36160,i)&&Z.drawBuffers&&r&&ee.drawBuffers(e,i),ee.viewport(M),ee.scissor(O),ee.setScissorTest(T),a){const r=ne.get(e.texture);we.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,n)}else if(o){const r=ne.get(e.texture),i=t||0;we.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,i)}I=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)return;let s=ne.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){ee.bindFramebuffer(36160,s);try{const o=e.texture,s=o.format,l=o.type;if(s!==F&&be.convert(s)!==we.getParameter(35739))return;const c=l===j&&($.has("EXT_color_buffer_half_float")||Z.isWebGL2&&$.has("EXT_color_buffer_float"));if(l!==D&&be.convert(l)!==we.getParameter(35738)&&(l!==N||!(Z.isWebGL2||$.has("OES_texture_float")||$.has("WEBGL_color_buffer_float")))&&!c)return;t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&we.readPixels(t,n,r,i,be.convert(s),be.convert(l),a)}finally{const e=null!==S?ne.get(S).__webglFramebuffer:null;ee.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);re.setTexture2D(t,0),we.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),ee.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r=0){const i=t.image.width,a=t.image.height,o=be.convert(n.format),s=be.convert(n.type);re.setTexture2D(n,0),we.pixelStorei(37440,n.flipY),we.pixelStorei(37441,n.premultiplyAlpha),we.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?we.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?we.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):we.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&we.generateMipmap(3553),ee.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r,i=0){if(x.isWebGL1Renderer)return;const a=e.max.x-e.min.x+1,o=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=be.convert(r.format),c=be.convert(r.type);let u;if(r.isData3DTexture)re.setTexture3D(r,0),u=32879;else{if(!r.isDataArrayTexture)return;re.setTexture2DArray(r,0),u=35866}we.pixelStorei(37440,r.flipY),we.pixelStorei(37441,r.premultiplyAlpha),we.pixelStorei(3317,r.unpackAlignment);const d=we.getParameter(3314),h=we.getParameter(32878),f=we.getParameter(3316),p=we.getParameter(3315),g=we.getParameter(32877),m=n.isCompressedTexture?n.mipmaps[0]:n.image;we.pixelStorei(3314,m.width),we.pixelStorei(32878,m.height),we.pixelStorei(3316,e.min.x),we.pixelStorei(3315,e.min.y),we.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?we.texSubImage3D(u,i,t.x,t.y,t.z,a,o,s,l,c,m.data):n.isCompressedArrayTexture?we.compressedTexSubImage3D(u,i,t.x,t.y,t.z,a,o,s,l,m.data):we.texSubImage3D(u,i,t.x,t.y,t.z,a,o,s,l,c,m),we.pixelStorei(3314,d),we.pixelStorei(32878,h),we.pixelStorei(3316,f),we.pixelStorei(3315,p),we.pixelStorei(32877,g),0===i&&r.generateMipmaps&&we.generateMipmap(u),ee.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?re.setTextureCube(e,0):e.isData3DTexture?re.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?re.setTexture2DArray(e,0):re.setTexture2D(e,0),ee.unbindTexture()},this.resetState=function(){w=0,_=0,S=null,ee.reset(),xe.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return!this.useLegacyLights}set physicallyCorrectLights(e){this.useLegacyLights=!e}}(class extends go{}).prototype.isWebGL1Renderer=!0;class mo extends un{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return this.matrixWorldAutoUpdate}set autoUpdate(e){this.matrixWorldAutoUpdate=e}}class Ao{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=xe,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Oe()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Oe()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Oe()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const yo=new lt;class vo{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)yo.fromBufferAttribute(this,t),yo.applyMatrix4(e),this.setXYZ(t,yo.x,yo.y,yo.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)yo.fromBufferAttribute(this,t),yo.applyNormalMatrix(e),this.setXYZ(t,yo.x,yo.y,yo.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)yo.fromBufferAttribute(this,t),yo.transformDirection(e),this.setXYZ(t,yo.x,yo.y,yo.z);return this}setX(e,t){return this.normalized&&(t=Ne(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ne(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ne(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ne(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Le(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Le(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Le(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Le(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ne(t,this.array),n=Ne(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ne(t,this.array),n=Ne(n,this.array),r=Ne(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ne(t,this.array),n=Ne(n,this.array),r=Ne(r,this.array),i=Ne(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Un(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const bo=new lt,xo=new rt,Eo=new rt,wo=new lt,_o=new jt,So=new lt;class Io extends pr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new jt,this.bindMatrixInverse=new jt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new dt),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let e=0;e<t.count;e++)So.fromBufferAttribute(t,e),this.applyBoneTransform(e,So),this.boundingBox.expandByPoint(So)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Ot),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let e=0;e<t.count;e++)So.fromBufferAttribute(t,e),this.applyBoneTransform(e,So),this.boundingSphere.expandByPoint(So)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new rt,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;xo.fromBufferAttribute(r.attributes.skinIndex,e),Eo.fromBufferAttribute(r.attributes.skinWeight,e),bo.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){const r=Eo.getComponent(e);if(0!==r){const i=xo.getComponent(e);_o.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(wo.copy(bo).applyMatrix4(_o),r)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return this.applyBoneTransform(e,t)}}class Co extends un{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Mo extends nt{constructor(e=null,t=1,n=1,r,i,a,o,s,l=O,c=O,u,d){super(null,a,o,s,l,c,r,i,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Oo=new jt,To=new jt;class Po{constructor(e=[],t=[]){this.uuid=Oe(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new jt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new jt;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=e.length;r<i;r++){const i=e[r]?e[r].matrixWorld:To;Oo.multiplyMatrices(i,t[r]),Oo.toArray(n,16*r)}null!==r&&(r.needsUpdate=!0)}clone(){return new Po(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=ke(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Mo(t,e,e,F,N);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let r=t[e.bones[n]];void 0===r&&(r=new Co),this.bones.push(r),this.boneInverses.push((new jt).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class Ro extends Un{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Bo=new jt,ko=new jt,Do=[],Lo=new dt,No=new jt,jo=new pr,Uo=new Ot;class Fo extends pr{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ro(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let e=0;e<n;e++)this.setMatrixAt(e,No)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new dt),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Bo),Lo.copy(e.boundingBox).applyMatrix4(Bo),this.boundingBox.union(Lo)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Ot),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Bo),Uo.copy(e.boundingSphere).applyMatrix4(Bo),this.boundingSphere.union(Uo)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(jo.geometry=this.geometry,jo.material=this.material,void 0!==jo.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Uo.copy(this.boundingSphere),Uo.applyMatrix4(n),!1!==e.ray.intersectsSphere(Uo)))for(let i=0;i<r;i++){this.getMatrixAt(i,Bo),ko.multiplyMatrices(n,Bo),jo.matrixWorld=ko,jo.raycast(e,Do);for(let e=0,n=Do.length;e<n;e++){const n=Do[e];n.instanceId=i,n.object=this,t.push(n)}Do.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Ro(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Qo extends _n{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new On(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const zo=new lt,Ho=new lt,Go=new jt,Vo=new Nt,Ko=new Ot;class Wo extends un{constructor(e=new Xn,t=new Qo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)zo.fromBufferAttribute(t,e-1),Ho.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=zo.distanceTo(Ho);e.setAttribute("lineDistance",new zn(n,1))}return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ko.copy(n.boundingSphere),Ko.applyMatrix4(r),Ko.radius+=i,!1===e.ray.intersectsSphere(Ko))return;Go.copy(r).invert(),Vo.copy(e.ray).applyMatrix4(Go);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new lt,c=new lt,u=new lt,d=new lt,h=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f){for(let n=Math.max(0,a.start),r=Math.min(f.count,a.start+a.count)-1;n<r;n+=h){const r=f.getX(n),i=f.getX(n+1);l.fromBufferAttribute(p,r),c.fromBufferAttribute(p,i);if(Vo.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);const a=e.ray.origin.distanceTo(d);a<e.near||a>e.far||t.push({distance:a,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else{for(let n=Math.max(0,a.start),r=Math.min(p.count,a.start+a.count)-1;n<r;n+=h){l.fromBufferAttribute(p,n),c.fromBufferAttribute(p,n+1);if(Vo.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(d);r<e.near||r>e.far||t.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}const qo=new lt,Yo=new lt;class Xo extends Wo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)qo.fromBufferAttribute(t,e),Yo.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+qo.distanceTo(Yo);e.setAttribute("lineDistance",new zn(n,1))}return this}}class Jo extends Wo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class $o extends _n{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new On(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Zo=new jt,es=new Nt,ts=new Ot,ns=new lt;class rs extends un{constructor(e=new Xn,t=new $o){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ts.copy(n.boundingSphere),ts.applyMatrix4(r),ts.radius+=i,!1===e.ray.intersectsSphere(ts))return;Zo.copy(r).invert(),es.copy(e.ray).applyMatrix4(Zo);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);n<i;n++){const i=l.getX(n);ns.fromBufferAttribute(c,i),is(ns,i,s,r,e,t,this)}}else{for(let n=Math.max(0,a.start),i=Math.min(c.count,a.start+a.count);n<i;n++)ns.fromBufferAttribute(c,n),is(ns,n,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function is(e,t,n,r,i,a,o){const s=es.distanceSqToPoint(e);if(s<n){const n=new lt;es.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:o})}}class as extends nt{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:R,this.magFilter=void 0!==i?i:R,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class os extends nt{constructor(e,t,n,r,i,a,o,s,l,c,u,d){super(null,a,o,s,l,c,r,i,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ss extends os{constructor(e,t,n,r,i,a){super(e,t,n,i,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=C}}class ls extends nt{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class cs extends _n{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new On(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new On(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class us extends cs{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ue(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Te(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new On(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new On(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new On(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function ds(e,t,n){return fs(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function hs(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function fs(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ps(e){const t=e.length,n=new Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort((function(t,n){return e[t]-e[n]})),n}function gs(e,t,n){const r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){const r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function ms(e,t,n,r){let i=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[i++];if(void 0===a)return;let o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}class As{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(e>=i)break e;{const o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0}}for(;n<a;){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let e=0;e!==r;++e)t[e]=n[i+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ys extends As{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:le,endingEnd:le}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case ce:i=e,o=2*t-n;break;case ue:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ce:a=e,s=2*n-t;break;case ue:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,g=p*f,m=-d*g+2*d*p-d*f,A=(1+d)*g+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*g+(1.5+h)*p+.5*f,v=h*g-h*p;for(let e=0;e!==o;++e)i[e]=m*a[c+e]+A*a[l+e]+y*a[s+e]+v*a[u+e];return i}}class vs extends As{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c;for(let e=0;e!==o;++e)i[e]=a[l+e]*u+a[s+e]*c;return i}}class bs extends As{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class xs{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hs(t,this.TimeBufferType),this.values=hs(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:hs(e.times,Array),values:hs(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new bs(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new vs(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ys(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ae:t=this.InterpolantFactoryMethodDiscrete;break;case oe:t=this.InterpolantFactoryMethodLinear;break;case se:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ae;case this.InterpolantFactoryMethodLinear:return oe;case this.InterpolantFactoryMethodSmooth:return se}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=ds(n,i,a),this.values=ds(this.values,i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(e=!1);let a=null;for(let t=0;t!==i;t++){const r=n[t];if("number"===typeof r&&isNaN(r)){e=!1;break}if(null!==a&&a>r){e=!1;break}a=r}if(void 0!==r&&fs(r))for(let t=0,n=r.length;t!==n;++t){const n=r[t];if(isNaN(n)){e=!1;break}}return e}optimize(){const e=ds(this.times),t=ds(this.values),n=this.getValueSize(),r=this.getInterpolation()===se,i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)i=!0;else{const e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=ds(e,0,a),this.values=ds(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=ds(this.times,0),t=ds(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}xs.prototype.TimeBufferType=Float32Array,xs.prototype.ValueBufferType=Float32Array,xs.prototype.DefaultInterpolation=oe;class Es extends xs{}Es.prototype.ValueTypeName="bool",Es.prototype.ValueBufferType=Array,Es.prototype.DefaultInterpolation=ae,Es.prototype.InterpolantFactoryMethodLinear=void 0,Es.prototype.InterpolantFactoryMethodSmooth=void 0;class ws extends xs{}ws.prototype.ValueTypeName="color";class _s extends xs{}_s.prototype.ValueTypeName="number";class Ss extends As{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t);let l=e*o;for(let e=l+o;l!==e;l+=4)st.slerpFlat(i,0,a,l-o,a,l,s);return i}}class Is extends xs{InterpolantFactoryMethodLinear(e){return new Ss(this.times,this.values,this.getValueSize(),e)}}Is.prototype.ValueTypeName="quaternion",Is.prototype.DefaultInterpolation=oe,Is.prototype.InterpolantFactoryMethodSmooth=void 0;class Cs extends xs{}Cs.prototype.ValueTypeName="string",Cs.prototype.ValueBufferType=Array,Cs.prototype.DefaultInterpolation=ae,Cs.prototype.InterpolantFactoryMethodLinear=void 0,Cs.prototype.InterpolantFactoryMethodSmooth=void 0;class Ms extends xs{}Ms.prototype.ValueTypeName="vector";class Os{constructor(e,t=-1,n,r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Oe(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let e=0,i=n.length;e!==i;++e)t.push(Ts(n[e]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,r=n.length;e!==r;++e)t.push(xs.toJSON(n[e]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,a=[];for(let e=0;e<i;e++){let o=[],s=[];o.push((e+i-1)%i,e,(e+1)%i),s.push(0,1,0);const l=ps(o);o=gs(o,1,l),s=gs(s,1,l),r||0!==o[0]||(o.push(i),s.push(s[0])),a.push(new _s(".morphTargetInfluences["+t[e].name+"]",o,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){const n=e[t],a=n.name.match(i);if(a&&a.length>1){const e=a[1];let t=r[e];t||(r[e]=t=[]),t.push(n)}}const a=[];for(const e in r)a.push(this.CreateFromMorphTargetSequence(e,r[e],t,n));return a}static parseAnimation(e,t){if(!e)return null;const n=function(e,t,n,r,i){if(0!==n.length){const a=[],o=[];ms(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let e=0;e<l.length;e++){const i=l[e].keys;if(i&&0!==i.length)if(i[0].morphTargets){const e={};let t;for(t=0;t<i.length;t++)if(i[t].morphTargets)for(let n=0;n<i[t].morphTargets.length;n++)e[i[t].morphTargets[n]]=-1;for(const n in e){const e=[],a=[];for(let r=0;r!==i[t].morphTargets.length;++r){const r=i[t];e.push(r.time),a.push(r.morphTarget===n?1:0)}r.push(new _s(".morphTargetInfluence["+n+"]",e,a))}s=e.length*a}else{const a=".bones["+t[e].name+"]";n(Ms,a+".position",i,"pos",r),n(Is,a+".quaternion",i,"rot",r),n(Ms,a+".scale",i,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ts(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return _s;case"vector":case"vector2":case"vector3":case"vector4":return Ms;case"color":return ws;case"quaternion":return Is;case"bool":case"boolean":return Es;case"string":return Cs}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];ms(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const Ps={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class Rs{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const Bs=new Rs;class ks{constructor(e){this.manager=void 0!==e?e:Bs,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ds={};class Ls extends Error{constructor(e,t){super(e),this.response=t}}class Ns extends ks{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=Ps.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==Ds[e])return void Ds[e].push({onLoad:t,onProgress:n,onError:r});Ds[e]=[],Ds[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then((t=>{if(200===t.status||0===t.status){if(t.status,"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Ds[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then((({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}}))}()}});return new Response(l)}throw new Ls(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,o)));case"json":return e.json();default:if(void 0===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{Ps.add(e,t);const n=Ds[e];delete Ds[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=Ds[e];if(void 0===n)throw this.manager.itemError(e),t;delete Ds[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class js extends ks{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=Ps.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const o=He("img");function s(){c(),Ps.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}class Us extends ks{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Mo,o=new Ns(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){const n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:C,a.wrapT=void 0!==n.wrapT?n.wrapT:C,a.magFilter=void 0!==n.magFilter?n.magFilter:R,a.minFilter=void 0!==n.minFilter?n.minFilter:R,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=k),1===n.mipmapCount&&(a.minFilter=R),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}class Fs extends ks{constructor(e){super(e)}load(e,t,n,r){const i=new nt,a=new js(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class Qs extends un{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new On(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const zs=new jt,Hs=new lt,Gs=new lt;class Vs{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ue(512,512),this.map=null,this.mapPass=null,this.matrix=new jt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kr,this._frameExtents=new Ue(1,1),this._viewportCount=1,this._viewports=[new rt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Hs.setFromMatrixPosition(e.matrixWorld),t.position.copy(Hs),Gs.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Gs),t.updateMatrixWorld(),zs.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zs),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(zs)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ks extends Vs{constructor(){super(new wr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Me*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Ws extends Qs{constructor(e,t,n=0,r=Math.PI/3,i=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.target=new un,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new Ks}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const qs=new jt,Ys=new lt,Xs=new lt;class Js extends Vs{constructor(){super(new wr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ue(4,2),this._viewportCount=6,this._viewports=[new rt(2,1,1,1),new rt(0,1,1,1),new rt(3,1,1,1),new rt(1,1,1,1),new rt(3,0,1,1),new rt(1,0,1,1)],this._cubeDirections=[new lt(1,0,0),new lt(-1,0,0),new lt(0,0,1),new lt(0,0,-1),new lt(0,1,0),new lt(0,-1,0)],this._cubeUps=[new lt(0,1,0),new lt(0,1,0),new lt(0,1,0),new lt(0,1,0),new lt(0,0,1),new lt(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Ys.setFromMatrixPosition(e.matrixWorld),n.position.copy(Ys),Xs.copy(n.position),Xs.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Xs),n.updateMatrixWorld(),r.makeTranslation(-Ys.x,-Ys.y,-Ys.z),qs.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qs)}}class $s extends Qs{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Js}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Zs extends Vs{constructor(){super(new qr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class el extends Qs{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.target=new un,this.shadow=new Zs}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class tl{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new lt)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class nl extends Qs{constructor(e=new tl,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class rl{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class il extends ks{constructor(e){super(e),this.isImageBitmapLoader=!0,this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=Ps.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){Ps.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}class al{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let e=t,i=t+t;e!==i;++e)if(n[e]!==n[e+t]){o.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let e=n,i=r;e!==i;++e)t[e]=t[r+e%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let r=0;r!==i;++r)e[t+r]=e[n+r]}_slerp(e,t,n,r){st.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const a=this._workIndex*i;st.multiplyQuaternionsFlat(e,a,e,t,e,n),st.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){const a=1-r;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*a+e[n+o]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[n+a]*r}}}const ol="\\[\\]\\.:\\/",sl=new RegExp("["+ol+"]","g"),ll="[^"+ol+"]",cl="[^"+ol.replace("\\.","")+"]",ul=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ll)+/(WCOD+)?/.source.replace("WCOD",cl)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ll)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ll)+"$"),dl=["material","materials","bones","map"];class hl{constructor(e,t,n){this.path=t,this.parsedPath=n||hl.parseTrackName(t),this.node=hl.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new hl.Composite(e,t,n):new hl(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(sl,"")}static parseTrackName(e){const t=ul.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==dl.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=hl.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return;if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return;if(!e.material.map)return;e=e.material.map;break;default:if(void 0===e[n])return;e=e[n]}if(void 0!==r){if(void 0===e[r])return;e=e[r]}}const a=e[r];if(void 0===a){t.nodeName;return}let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return;if(!e.geometry.morphAttributes)return;void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}hl.Composite=class{constructor(e,t,n){const r=n||hl.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},hl.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},hl.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},hl.prototype.GetterByBindingType=[hl.prototype._getValue_direct,hl.prototype._getValue_array,hl.prototype._getValue_arrayElement,hl.prototype._getValue_toArray],hl.prototype.SetterByBindingTypeAndVersioning=[[hl.prototype._setValue_direct,hl.prototype._setValue_direct_setNeedsUpdate,hl.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[hl.prototype._setValue_array,hl.prototype._setValue_array_setNeedsUpdate,hl.prototype._setValue_array_setMatrixWorldNeedsUpdate],[hl.prototype._setValue_arrayElement,hl.prototype._setValue_arrayElement_setNeedsUpdate,hl.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[hl.prototype._setValue_fromArray,hl.prototype._setValue_fromArray_setNeedsUpdate,hl.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class fl{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,a=i.length,o=new Array(a),s={endingStart:le,endingEnd:le};for(let e=0;e!==a;++e){const t=i[e].createInterpolant(null);o[e]=t,t.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=re,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,a=n/r;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(2501===this.blendMode)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const a=n===ie;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===ne){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=ce,r.endingEnd=ce):(r.endingStart=e?this.zeroSlopeAtStart?ce:le:ue,r.endingEnd=t?this.zeroSlopeAtEnd?ce:le:ue)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}const pl=new Float32Array(1);class gl extends _e{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let e=0;e!==i;++e){const i=r[e],l=i.name;let u=c[l];if(void 0!==u)++u.referenceCount,a[e]=u;else{if(u=a[e],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,s,l));continue}const r=t&&t._propertyBindings[e].binding.parsedPath;u=new al(hl.create(n,l,r),i.ValueTypeName,i.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,s,l),a[e]=u}o[e].resultBuffer=u.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new vs(new Float32Array(2),new Float32Array(2),1,pl),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let a="string"===typeof e?Os.findByName(r,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:de),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const c=new fl(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?Os.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let o=0;o!==n;++o){t[o]._update(r,e,i,a)}const o=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)o[e].apply(a);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const e in n){const r=n[e].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const e in r){const t=r[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class ml{constructor(e,t,n=0,r=1/0){this.ray=new Nt(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Yt,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t)}intersectObject(e,t=!0,n=[]){return yl(e,this,n,t),n.sort(Al),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)yl(e[r],this,n,t);return n.sort(Al),n}}function Al(e,t){return e.distance-t.distance}function yl(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)yl(r[e],t,n,!0)}}class vl{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Te(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!==typeof window&&(window.__THREE__||(window.__THREE__=r))},91096:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});var r=n(39437);const i={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class a{constructor(){this.pluginCallbacks=[],this.register((function(e){return new U(e)})),this.register((function(e){return new F(e)})),this.register((function(e){return new H(e)})),this.register((function(e){return new G(e)})),this.register((function(e){return new V(e)})),this.register((function(e){return new K(e)})),this.register((function(e){return new Q(e)})),this.register((function(e){return new z(e)})),this.register((function(e){return new W(e)})),this.register((function(e){return new q(e)}))}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){const i=new j,a=[];for(let e=0,t=this.pluginCallbacks.length;e<t;e++)a.push(this.pluginCallbacks[e](i));i.setPlugins(a),i.write(e,t,r).catch(n)}parseAsync(e,t){const n=this;return new Promise((function(r,i){n.parse(e,r,i,t)}))}}const o=0,s=1,l=2,c=3,u=4,d=5120,h=5121,f=5122,p=5123,g=5124,m=5125,A=5126,y=34962,v=34963,b=9728,x=9729,E=9984,w=9985,_=9986,S=9987,I=33071,C=33648,M=10497,O="KHR_mesh_quantization",T={};T[r.hxR]=b,T[r.pHI]=E,T[r.Cfg]=_,T[r.k6q]=x,T[r.kRr]=w,T[r.$_I]=S,T[r.ghU]=I,T[r.GJx]=M,T[r.kTW]=C;const P={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},R=new r.Q1f;function B(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function k(e){return 4*Math.ceil(e/4)}function D(e,t=0){const n=k(e.byteLength);if(n!==e.byteLength){const r=new Uint8Array(n);if(r.set(new Uint8Array(e)),0!==t)for(let i=e.byteLength;i<n;i++)r[i]=t;return r.buffer}return e}function L(){return"undefined"===typeof document&&"undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")}function N(e,t){if(void 0!==e.toBlob)return new Promise((n=>e.toBlob(n,t)));let n;return"image/jpeg"===t?n=.92:"image/webp"===t&&(n=.8),e.convertToBlob({type:t,quality:n})}class j{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}async write(e,t,n={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},n),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e),await Promise.all(this.pending);const r=this,i=r.buffers,a=r.json;n=r.options;const o=r.extensionsUsed,s=r.extensionsRequired,l=new Blob(i,{type:"application/octet-stream"}),c=Object.keys(o),u=Object.keys(s);if(c.length>0&&(a.extensionsUsed=c),u.length>0&&(a.extensionsRequired=u),a.buffers&&a.buffers.length>0&&(a.buffers[0].byteLength=l.size),!0===n.binary){const e=new FileReader;e.readAsArrayBuffer(l),e.onloadend=function(){const n=D(e.result),r=new DataView(new ArrayBuffer(8));r.setUint32(0,n.byteLength,!0),r.setUint32(4,5130562,!0);const i=D((o=JSON.stringify(a),(new TextEncoder).encode(o).buffer),32);var o;const s=new DataView(new ArrayBuffer(8));s.setUint32(0,i.byteLength,!0),s.setUint32(4,1313821514,!0);const l=new ArrayBuffer(12),c=new DataView(l);c.setUint32(0,1179937895,!0),c.setUint32(4,2,!0);const u=12+s.byteLength+i.byteLength+r.byteLength+n.byteLength;c.setUint32(8,u,!0);const d=new Blob([l,s,i,r,n],{type:"application/octet-stream"}),h=new FileReader;h.readAsArrayBuffer(d),h.onloadend=function(){t(h.result)}}}else if(a.buffers&&a.buffers.length>0){const e=new FileReader;e.readAsDataURL(l),e.onloadend=function(){const n=e.result;a.buffers[0].uri=n,t(a)}}else t(a)}serializeUserData(e,t){if(0===Object.keys(e.userData).length)return;const n=this.options,r=this.extensionsUsed;try{const i=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&i.gltfExtensions){void 0===t.extensions&&(t.extensions={});for(const e in i.gltfExtensions)t.extensions[e]=i.gltfExtensions[e],r[e]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(t.extras=i)}catch(e){}}getUID(e,t=!1){if(!1===this.uids.has(e)){const t=new Map;t.set(!0,this.uid++),t.set(!1,this.uid++),this.uids.set(e,t)}return this.uids.get(e).get(t)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const t=new r.Pq0;for(let n=0,r=e.count;n<r;n++)if(Math.abs(t.fromBufferAttribute(e,n).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);const n=e.clone(),i=new r.Pq0;for(let e=0,t=n.count;e<t;e++)i.fromBufferAttribute(n,e),0===i.x&&0===i.y&&0===i.z?i.setX(1):i.normalize(),n.setXYZ(e,i.x,i.y,i.z);return t.attributesNormalized.set(e,n),n}applyTextureTransform(e,t){let n=!1;const r={};0===t.offset.x&&0===t.offset.y||(r.offset=t.offset.toArray(),n=!0),0!==t.rotation&&(r.rotation=t.rotation,n=!0),1===t.repeat.x&&1===t.repeat.y||(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(e,t){if(e===t)return e;function n(e){return e.encoding===r.S2Q?function(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}:function(e){return e}}const i=e?e.image:null,a=t?t.image:null,o=Math.max(i?i.width:0,a?a.width:0),s=Math.max(i?i.height:0,a?a.height:0),l=L();l.width=o,l.height=s;const c=l.getContext("2d");c.fillStyle="#00ffff",c.fillRect(0,0,o,s);const u=c.getImageData(0,0,o,s);if(i){c.drawImage(i,0,0,o,s);const t=n(e),r=c.getImageData(0,0,o,s).data;for(let e=2;e<r.length;e+=4)u.data[e]=256*t(r[e]/256)}if(a){c.drawImage(a,0,0,o,s);const e=n(t),r=c.getImageData(0,0,o,s).data;for(let t=1;t<r.length;t+=4)u.data[t]=256*e(r[t]/256)}c.putImageData(u,0,0);const d=(e||t).clone();return d.source=new r.kLi(l),d.encoding=r.tgE,d}processBuffer(e){const t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}processBufferView(e,t,n,i,a){const o=this.json;let s;switch(o.bufferViews||(o.bufferViews=[]),t){case d:case h:s=1;break;case f:case p:s=2;break;default:s=4}const l=k(i*e.itemSize*s),c=new DataView(new ArrayBuffer(l));let u=0;for(let a=n;a<n+i;a++)for(let n=0;n<e.itemSize;n++){let i;e.itemSize>4?i=e.array[a*e.itemSize+n]:(0===n?i=e.getX(a):1===n?i=e.getY(a):2===n?i=e.getZ(a):3===n&&(i=e.getW(a)),!0===e.normalized&&(i=r.cj9.normalize(i,e.array))),t===A?c.setFloat32(u,i,!0):t===g?c.setInt32(u,i,!0):t===m?c.setUint32(u,i,!0):t===f?c.setInt16(u,i,!0):t===p?c.setUint16(u,i,!0):t===d?c.setInt8(u,i):t===h&&c.setUint8(u,i),u+=s}const v={buffer:this.processBuffer(c.buffer),byteOffset:this.byteOffset,byteLength:l};void 0!==a&&(v.target=a),a===y&&(v.byteStride=e.itemSize*s),this.byteOffset+=l,o.bufferViews.push(v);return{id:o.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise((function(r){const i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){const e=D(i.result),a={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,r(n.bufferViews.push(a)-1)}}))}processAccessor(e,t,n,i){const a=this.json;let o;if(e.array.constructor===Float32Array)o=A;else if(e.array.constructor===Int32Array)o=g;else if(e.array.constructor===Uint32Array)o=m;else if(e.array.constructor===Int16Array)o=f;else if(e.array.constructor===Uint16Array)o=p;else if(e.array.constructor===Int8Array)o=d;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");o=h}if(void 0===n&&(n=0),void 0===i&&(i=e.count),0===i)return null;const s=function(e,t,n){const i={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let a=t;a<t+n;a++)for(let t=0;t<e.itemSize;t++){let n;e.itemSize>4?n=e.array[a*e.itemSize+t]:(0===t?n=e.getX(a):1===t?n=e.getY(a):2===t?n=e.getZ(a):3===t&&(n=e.getW(a)),!0===e.normalized&&(n=r.cj9.normalize(n,e.array))),i.min[t]=Math.min(i.min[t],n),i.max[t]=Math.max(i.max[t],n)}return i}(e,n,i);let l;void 0!==t&&(l=e===t.index?v:y);const c=this.processBufferView(e,o,n,i,l),u={bufferView:c.id,byteOffset:c.byteOffset,componentType:o,count:i,max:s.max,min:s.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(u.normalized=!0),a.accessors||(a.accessors=[]),a.accessors.push(u)-1}processImage(e,t,n,i="image/png"){if(null!==e){const t=this,a=t.cache,o=t.json,s=t.options,l=t.pending;a.images.has(e)||a.images.set(e,{});const c=a.images.get(e),u=i+":flipY/"+n.toString();if(void 0!==c[u])return c[u];o.images||(o.images=[]);const d={mimeType:i},h=L();h.width=Math.min(e.width,s.maxTextureSize),h.height=Math.min(e.height,s.maxTextureSize);const f=h.getContext("2d");if(!0===n&&(f.translate(0,h.height),f.scale(1,-1)),void 0!==e.data){r.GWd,e.width>s.maxTextureSize||(e.height,s.maxTextureSize);const t=new Uint8ClampedArray(e.height*e.width*4);for(let n=0;n<t.length;n+=4)t[n+0]=e.data[n+0],t[n+1]=e.data[n+1],t[n+2]=e.data[n+2],t[n+3]=e.data[n+3];f.putImageData(new ImageData(t,e.width,e.height),0,0)}else f.drawImage(e,0,0,h.width,h.height);!0===s.binary?l.push(N(h,i).then((e=>t.processBufferViewImage(e))).then((e=>{d.bufferView=e}))):void 0!==h.toDataURL?d.uri=h.toDataURL(i):l.push(N(h,i).then((e=>(new FileReader).readAsDataURL(e))).then((e=>{d.uri=e})));const p=o.images.push(d)-1;return c[u]=p,p}throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(e){const t=this.json;t.samplers||(t.samplers=[]);const n={magFilter:T[e.magFilter],minFilter:T[e.minFilter],wrapS:T[e.wrapS],wrapT:T[e.wrapT]};return t.samplers.push(n)-1}processTexture(e){const t=this.cache,n=this.json;if(t.textures.has(e))return t.textures.get(e);n.textures||(n.textures=[]);let r=e.userData.mimeType;"image/webp"===r&&(r="image/png");const i={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,r)};e.name&&(i.name=e.name),this._invokeAll((function(t){t.writeTexture&&t.writeTexture(e,i)}));const a=n.textures.push(i)-1;return t.textures.set(e,a),a}processMaterial(e){const t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return null;n.materials||(n.materials=[]);const i={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&e.isMeshBasicMaterial;const a=e.color.toArray().concat([e.opacity]);if(B(a,[1,1,1,1])||(i.pbrMetallicRoughness.baseColorFactor=a),e.isMeshStandardMaterial?(i.pbrMetallicRoughness.metallicFactor=e.metalness,i.pbrMetallicRoughness.roughnessFactor=e.roughness):(i.pbrMetallicRoughness.metallicFactor=.5,i.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){const t=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),n={index:this.processTexture(t)};this.applyTextureTransform(n,t),i.pbrMetallicRoughness.metallicRoughnessTexture=n}if(e.map){const t={index:this.processTexture(e.map)};this.applyTextureTransform(t,e.map),i.pbrMetallicRoughness.baseColorTexture=t}if(e.emissive){const t=e.emissive;if(Math.max(t.r,t.g,t.b)>0&&(i.emissiveFactor=e.emissive.toArray()),e.emissiveMap){const t={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(t,e.emissiveMap),i.emissiveTexture=t}}if(e.normalMap){const t={index:this.processTexture(e.normalMap)};e.normalScale&&1!==e.normalScale.x&&(t.scale=e.normalScale.x),this.applyTextureTransform(t,e.normalMap),i.normalTexture=t}if(e.aoMap){const t={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(t.strength=e.aoMapIntensity),this.applyTextureTransform(t,e.aoMap),i.occlusionTexture=t}e.transparent?i.alphaMode="BLEND":e.alphaTest>0&&(i.alphaMode="MASK",i.alphaCutoff=e.alphaTest),e.side===r.$EB&&(i.doubleSided=!0),""!==e.name&&(i.name=e.name),this.serializeUserData(e,i),this._invokeAll((function(t){t.writeMaterial&&t.writeMaterial(e,i)}));const o=n.materials.push(i)-1;return t.materials.set(e,o),o}processMesh(e){const t=this.cache,n=this.json,i=[e.geometry.uuid];if(Array.isArray(e.material))for(let t=0,n=e.material.length;t<n;t++)i.push(e.material[t].uuid);else i.push(e.material.uuid);const a=i.join(":");if(t.meshes.has(a))return t.meshes.get(a);const d=e.geometry;let h;h=e.isLineSegments?s:e.isLineLoop?l:e.isLine?c:e.isPoints?o:e.material.wireframe?s:u;const f={},p={},g=[],m=[],A={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},y=d.getAttribute("normal");void 0===y||this.isNormalizedNormalAttribute(y)||d.setAttribute("normal",this.createNormalizedNormalAttribute(y));let v=null;for(let e in d.attributes){if("morph"===e.slice(0,5))continue;const n=d.attributes[e];e=A[e]||e.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(e)||(e="_"+e),t.attributes.has(this.getUID(n))){p[e]=t.attributes.get(this.getUID(n));continue}v=null;const i=n.array;"JOINTS_0"!==e||i instanceof Uint16Array||i instanceof Uint8Array||(v=new r.THS(new Uint16Array(i),n.itemSize,n.normalized));const a=this.processAccessor(v||n,d);null!==a&&(e.startsWith("_")||this.detectMeshQuantization(e,n),p[e]=a,t.attributes.set(this.getUID(n),a))}if(void 0!==y&&d.setAttribute("normal",y),0===Object.keys(p).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){const n=[],r=[],i={};if(void 0!==e.morphTargetDictionary)for(const t in e.morphTargetDictionary)i[e.morphTargetDictionary[t]]=t;for(let a=0;a<e.morphTargetInfluences.length;++a){const o={};let s=!1;for(const e in d.morphAttributes){if("position"!==e&&"normal"!==e){s||(s=!0);continue}const n=d.morphAttributes[e][a],r=e.toUpperCase(),i=d.attributes[e];if(t.attributes.has(this.getUID(n,!0))){o[r]=t.attributes.get(this.getUID(n,!0));continue}const l=n.clone();if(!d.morphTargetsRelative)for(let e=0,t=n.count;e<t;e++)for(let t=0;t<n.itemSize;t++)0===t&&l.setX(e,n.getX(e)-i.getX(e)),1===t&&l.setY(e,n.getY(e)-i.getY(e)),2===t&&l.setZ(e,n.getZ(e)-i.getZ(e)),3===t&&l.setW(e,n.getW(e)-i.getW(e));o[r]=this.processAccessor(l,d),t.attributes.set(this.getUID(i,!0),o[r])}m.push(o),n.push(e.morphTargetInfluences[a]),void 0!==e.morphTargetDictionary&&r.push(i[a])}f.weights=n,r.length>0&&(f.extras={},f.extras.targetNames=r)}const b=Array.isArray(e.material);if(b&&0===d.groups.length)return null;const x=b?e.material:[e.material],E=b?d.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let e=0,n=E.length;e<n;e++){const n={mode:h,attributes:p};if(this.serializeUserData(d,n),m.length>0&&(n.targets=m),null!==d.index){let r=this.getUID(d.index);void 0===E[e].start&&void 0===E[e].count||(r+=":"+E[e].start+":"+E[e].count),t.attributes.has(r)?n.indices=t.attributes.get(r):(n.indices=this.processAccessor(d.index,d,E[e].start,E[e].count),t.attributes.set(r,n.indices)),null===n.indices&&delete n.indices}const r=this.processMaterial(x[E[e].materialIndex]);null!==r&&(n.material=r),g.push(n)}f.primitives=g,n.meshes||(n.meshes=[]),this._invokeAll((function(t){t.writeMesh&&t.writeMesh(e,f)}));const w=n.meshes.push(f)-1;return t.meshes.set(a,w),w}detectMeshQuantization(e,t){if(this.extensionsUsed[O])return;let n;switch(t.array.constructor){case Int8Array:n="byte";break;case Uint8Array:n="unsigned byte";break;case Int16Array:n="short";break;case Uint16Array:n="unsigned short";break;default:return}t.normalized&&(n+=" normalized");const r=e.split("_",1)[0];i[r]&&i[r].includes(n)&&(this.extensionsUsed[O]=!0,this.extensionsRequired[O]=!0)}processCamera(e){const t=this.json;t.cameras||(t.cameras=[]);const n=e.isOrthographicCamera,i={type:n?"orthographic":"perspective"};return n?i.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:i.perspective={aspectRatio:e.aspect,yfov:r.cj9.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(i.name=e.type),t.cameras.push(i)-1}processAnimation(e,t){const n=this.json,i=this.nodeMap;n.animations||(n.animations=[]);const o=(e=a.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,s=[],l=[];for(let e=0;e<o.length;++e){const n=o[e],a=r.Nwf.parseTrackName(n.name);let c=r.Nwf.findNode(t,a.nodeName);const u=P[a.propertyName];if("bones"===a.objectName&&(c=!0===c.isSkinnedMesh?c.skeleton.getBoneByName(a.objectIndex):void 0),!c||!u)return null;const d=1;let h,f=n.values.length/n.times.length;u===P.morphTargetInfluences&&(f/=c.morphTargetInfluences.length),!0===n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(h="CUBICSPLINE",f/=3):h=n.getInterpolation()===r.ljd?"STEP":"LINEAR",l.push({input:this.processAccessor(new r.THS(n.times,d)),output:this.processAccessor(new r.THS(n.values,f)),interpolation:h}),s.push({sampler:l.length-1,target:{node:i.get(c),path:u}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:l,channels:s}),n.animations.length-1}processSkin(e){const t=this.json,n=this.nodeMap,i=t.nodes[n.get(e)],a=e.skeleton;if(void 0===a)return null;const o=e.skeleton.bones[0];if(void 0===o)return null;const s=[],l=new Float32Array(16*a.bones.length),c=new r.kn4;for(let t=0;t<a.bones.length;++t)s.push(n.get(a.bones[t])),c.copy(a.boneInverses[t]),c.multiply(e.bindMatrix).toArray(l,16*t);void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new r.THS(l,16)),joints:s,skeleton:n.get(o)});return i.skin=t.skins.length-1}processNode(e){const t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);const i={};if(n.trs){const t=e.quaternion.toArray(),n=e.position.toArray(),r=e.scale.toArray();B(t,[0,0,0,1])||(i.rotation=t),B(n,[0,0,0])||(i.translation=n),B(r,[1,1,1])||(i.scale=r)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===B(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(i.matrix=e.matrix.elements);if(""!==e.name&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){const t=this.processMesh(e);null!==t&&(i.mesh=t)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){const t=[];for(let r=0,i=e.children.length;r<i;r++){const i=e.children[r];if(i.visible||!1===n.onlyVisible){const e=this.processNode(i);null!==e&&t.push(e)}}t.length>0&&(i.children=t)}this._invokeAll((function(t){t.writeNode&&t.writeNode(e,i)}));const a=t.nodes.push(i)-1;return r.set(e,a),a}processScene(e){const t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);const r={};""!==e.name&&(r.name=e.name),t.scenes.push(r);const i=[];for(let t=0,r=e.children.length;t<r;t++){const r=e.children[t];if(r.visible||!1===n.onlyVisible){const e=this.processNode(r);null!==e&&i.push(e)}}i.length>0&&(r.nodes=i),this.serializeUserData(e,r)}processObjects(e){const t=new r.Z58;t.name="AuxScene";for(let n=0;n<e.length;n++)t.children.push(e[n]);this.processScene(t)}processInput(e){const t=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(t){t.beforeParse&&t.beforeParse(e)}));const n=[];for(let t=0;t<e.length;t++)e[t]instanceof r.Z58?this.processScene(e[t]):n.push(e[t]);n.length>0&&this.processObjects(n);for(let e=0;e<this.skins.length;++e)this.processSkin(this.skins[e]);for(let n=0;n<t.animations.length;++n)this.processAnimation(t.animations[n],e[0]);this._invokeAll((function(t){t.afterParse&&t.afterParse(e)}))}_invokeAll(e){for(let t=0,n=this.plugins.length;t<n;t++)e(this.plugins[t])}}class U{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,t){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight)return;const n=this.writer,r=n.json,i=n.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),void 0!==e.decay&&e.decay,e.target&&(e.target.parent!==e||0!==e.target.position.x||0!==e.target.position.y||e.target.position.z),i[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},i[this.name]=!0);const o=r.extensions[this.name].lights;o.push(a),t.extensions=t.extensions||{},t.extensions[this.name]={light:o.length-1}}}class F{constructor(e){this.writer=e,this.name="KHR_materials_unlit"}writeMaterial(e,t){if(!e.isMeshBasicMaterial)return;const n=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},n[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}class Q{constructor(e){this.writer=e,this.name="KHR_materials_clearcoat"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial||0===e.clearcoat)return;const n=this.writer,r=n.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){const t={index:n.processTexture(e.clearcoatMap)};n.applyTextureTransform(t,e.clearcoatMap),i.clearcoatTexture=t}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){const t={index:n.processTexture(e.clearcoatRoughnessMap)};n.applyTextureTransform(t,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=t}if(e.clearcoatNormalMap){const t={index:n.processTexture(e.clearcoatNormalMap)};n.applyTextureTransform(t,e.clearcoatNormalMap),i.clearcoatNormalTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}class z{constructor(e){this.writer=e,this.name="KHR_materials_iridescence"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial||0===e.iridescence)return;const n=this.writer,r=n.extensionsUsed,i={};if(i.iridescenceFactor=e.iridescence,e.iridescenceMap){const t={index:n.processTexture(e.iridescenceMap)};n.applyTextureTransform(t,e.iridescenceMap),i.iridescenceTexture=t}if(i.iridescenceIor=e.iridescenceIOR,i.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){const t={index:n.processTexture(e.iridescenceThicknessMap)};n.applyTextureTransform(t,e.iridescenceThicknessMap),i.iridescenceThicknessTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}class H{constructor(e){this.writer=e,this.name="KHR_materials_transmission"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial||0===e.transmission)return;const n=this.writer,r=n.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){const t={index:n.processTexture(e.transmissionMap)};n.applyTextureTransform(t,e.transmissionMap),i.transmissionTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}class G{constructor(e){this.writer=e,this.name="KHR_materials_volume"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial||0===e.transmission)return;const n=this.writer,r=n.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){const t={index:n.processTexture(e.thicknessMap)};n.applyTextureTransform(t,e.thicknessMap),i.thicknessTexture=t}i.attenuationDistance=e.attenuationDistance,i.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}class V{constructor(e){this.writer=e,this.name="KHR_materials_ior"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial||1.5===e.ior)return;const n=this.writer.extensionsUsed,r={};r.ior=e.ior,t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}}class K{constructor(e){this.writer=e,this.name="KHR_materials_specular"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial||1===e.specularIntensity&&e.specularColor.equals(R)&&!e.specularIntensityMap&&!e.specularColorTexture)return;const n=this.writer,r=n.extensionsUsed,i={};if(e.specularIntensityMap){const t={index:n.processTexture(e.specularIntensityMap)};n.applyTextureTransform(t,e.specularIntensityMap),i.specularTexture=t}if(e.specularColorMap){const t={index:n.processTexture(e.specularColorMap)};n.applyTextureTransform(t,e.specularColorMap),i.specularColorTexture=t}i.specularFactor=e.specularIntensity,i.specularColorFactor=e.specularColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}class W{constructor(e){this.writer=e,this.name="KHR_materials_sheen"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial||0==e.sheen)return;const n=this.writer,r=n.extensionsUsed,i={};if(e.sheenRoughnessMap){const t={index:n.processTexture(e.sheenRoughnessMap)};n.applyTextureTransform(t,e.sheenRoughnessMap),i.sheenRoughnessTexture=t}if(e.sheenColorMap){const t={index:n.processTexture(e.sheenColorMap)};n.applyTextureTransform(t,e.sheenColorMap),i.sheenColorTexture=t}i.sheenRoughnessFactor=e.sheenRoughness,i.sheenColorFactor=e.sheenColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}class q{constructor(e){this.writer=e,this.name="KHR_materials_emissive_strength"}writeMaterial(e,t){if(!e.isMeshStandardMaterial||1===e.emissiveIntensity)return;const n=this.writer.extensionsUsed,r={};r.emissiveStrength=e.emissiveIntensity,t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}}a.Utils={insertKeyframe:function(e,t){const n=.001,r=e.getValueSize(),i=new e.TimeBufferType(e.times.length+1),a=new e.ValueBufferType(e.values.length+r),o=e.createInterpolant(new e.ValueBufferType(r));let s;if(0===e.times.length){i[0]=t;for(let e=0;e<r;e++)a[e]=0;s=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<n)return 0;i[0]=t,i.set(e.times,1),a.set(o.evaluate(t),0),a.set(e.values,r),s=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<n)return e.times.length-1;i[i.length-1]=t,i.set(e.times,0),a.set(e.values,0),a.set(o.evaluate(t),e.values.length),s=i.length-1}else for(let l=0;l<e.times.length;l++){if(Math.abs(e.times[l]-t)<n)return l;if(e.times[l]<t&&e.times[l+1]>t){i.set(e.times.slice(0,l+1),0),i[l+1]=t,i.set(e.times.slice(l+1),l+2),a.set(e.values.slice(0,(l+1)*r),0),a.set(o.evaluate(t),(l+1)*r),a.set(e.values.slice((l+1)*r),(l+2)*r),s=l+1;break}}return e.times=i,e.values=a,s},mergeMorphTargetTracks:function(e,t){const n=[],i={},a=e.tracks;for(let e=0;e<a.length;++e){let o=a[e];const s=r.Nwf.parseTrackName(o.name),l=r.Nwf.findNode(t,s.nodeName);if("morphTargetInfluences"!==s.propertyName||void 0===s.propertyIndex){n.push(o);continue}if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");o=o.clone(),o.setInterpolation(r.PJ3)}const c=l.morphTargetInfluences.length,u=l.morphTargetDictionary[s.propertyIndex];if(void 0===u)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);let d;if(void 0===i[l.uuid]){d=o.clone();const e=new d.ValueBufferType(c*d.times.length);for(let t=0;t<d.times.length;t++)e[t*c+u]=d.values[t];d.name=(s.nodeName||"")+".morphTargetInfluences",d.values=e,i[l.uuid]=d,n.push(d);continue}const h=o.createInterpolant(new o.ValueBufferType(1));d=i[l.uuid];for(let e=0;e<d.times.length;e++)d.values[e*c+u]=h.evaluate(d.times[e]);for(let e=0;e<o.times.length;e++){const t=this.insertKeyframe(d,o.times[e]);d.values[t*c+u]=o.values[e]}}return e.tracks=n,e}}},47939:(e,t,n)=>{"use strict";n.d(t,{U:()=>J});var r=n(39437),i=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};try{URL.revokeObjectURL(i(""))}catch(e){i=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},function(e){return new Worker(e,{type:"module"})}}var a=Uint8Array,o=Uint16Array,s=Uint32Array,l=new a([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c=new a([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new a([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=function(e,t){for(var n=new o(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new s(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},h=d(l,2),f=h[0],p=h[1];f[28]=258,p[258]=28;for(var g=d(c,0),m=(g[0],g[1]),A=new o(32768),y=0;y<32768;++y){var v=(43690&y)>>>1|(21845&y)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,A[y]=((65280&v)>>>8|(255&v)<<8)>>>1}var b=function(e,t,n){for(var r=e.length,i=0,a=new o(t);i<r;++i)++a[e[i]-1];var s,l=new o(t);for(i=0;i<t;++i)l[i]=l[i-1]+a[i-1]<<1;if(n){s=new o(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],h=l[e[i]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)s[A[h]>>>c]=u}else for(s=new o(r),i=0;i<r;++i)e[i]&&(s[i]=A[l[e[i]-1]++]>>>15-e[i]);return s},x=new a(288);for(y=0;y<144;++y)x[y]=8;for(y=144;y<256;++y)x[y]=9;for(y=256;y<280;++y)x[y]=7;for(y=280;y<288;++y)x[y]=8;var E=new a(32);for(y=0;y<32;++y)E[y]=5;var w=b(x,9,0),_=b(E,5,0),S=function(e){return(e/8|0)+(7&e&&1)},I=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof o?o:e instanceof s?s:a)(n-t);return r.set(e.subarray(t,n)),r},C=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},M=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},O=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[L,0];if(1==i){var l=new a(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var c=n[0],u=n[1],d=0,h=1,f=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};h!=i-1;)c=n[n[d].f<n[f].f?d++:f++],u=n[d!=h&&n[d].f<n[f].f?d++:f++],n[h++]={s:-1,f:c.f+u.f,l:c,r:u};var p=s[0].s;for(r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var g=new o(p+1),m=T(n[h-1],g,0);if(m>t){r=0;var A=0,y=m-t,v=1<<y;for(s.sort((function(e,t){return g[t.s]-g[e.s]||e.f-t.f}));r<i;++r){var b=s[r].s;if(!(g[b]>t))break;A+=v-(1<<m-g[b]),g[b]=t}for(A>>>=y;A>0;){var x=s[r].s;g[x]<t?A-=1<<t-g[x]++-1:++r}for(;r>=0&&A;--r){var E=s[r].s;g[E]==t&&(--g[E],++A)}m=t}return[new a(g),m]},T=function(e,t,n){return-1==e.s?Math.max(T(e.l,t,n+1),T(e.r,t,n+1)):t[e.s]=n},P=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new o(++t),r=0,i=e[0],a=1,s=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return[n.subarray(0,r),t]},R=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},B=function(e,t,n){var r=n.length,i=S(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return 8*(i+4+r)},k=function(e,t,n,r,i,a,s,d,h,f,p){C(t,p++,n),++i[256];for(var g=O(i,15),m=g[0],A=g[1],y=O(a,15),v=y[0],S=y[1],I=P(m),T=I[0],k=I[1],D=P(v),L=D[0],N=D[1],j=new o(19),U=0;U<T.length;++U)j[31&T[U]]++;for(U=0;U<L.length;++U)j[31&L[U]]++;for(var F=O(j,7),Q=F[0],z=F[1],H=19;H>4&&!Q[u[H-1]];--H);var G,V,K,W,q=f+5<<3,Y=R(i,x)+R(a,E)+s,X=R(i,m)+R(a,v)+s+14+3*H+R(j,Q)+(2*j[16]+3*j[17]+7*j[18]);if(q<=Y&&q<=X)return B(t,p,e.subarray(h,h+f));if(C(t,p,1+(X<Y)),p+=2,X<Y){G=b(m,A,0),V=m,K=b(v,S,0),W=v;var J=b(Q,z,0);C(t,p,k-257),C(t,p+5,N-1),C(t,p+10,H-4),p+=14;for(U=0;U<H;++U)C(t,p+3*U,Q[u[U]]);p+=3*H;for(var $=[T,L],Z=0;Z<2;++Z){var ee=$[Z];for(U=0;U<ee.length;++U){var te=31&ee[U];C(t,p,J[te]),p+=Q[te],te>15&&(C(t,p,ee[U]>>>5&127),p+=ee[U]>>>12)}}}else G=w,V=x,K=_,W=E;for(U=0;U<d;++U)if(r[U]>255){te=r[U]>>>18&31;M(t,p,G[te+257]),p+=V[te+257],te>7&&(C(t,p,r[U]>>>23&31),p+=l[te]);var ne=31&r[U];M(t,p,K[ne]),p+=W[ne],ne>3&&(M(t,p,r[U]>>>5&8191),p+=c[ne])}else M(t,p,G[r[U]]),p+=V[r[U]];return M(t,p,G[256]),p+V[256]},D=new s([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),L=new a(0),N=function(e,t,n,r,i,u){var d=e.length,h=new a(r+d+5*(1+Math.ceil(d/7e3))+i),f=h.subarray(r,h.length-i),g=0;if(!t||d<8)for(var A=0;A<=d;A+=65535){var y=A+65535;y<d?g=B(f,g,e.subarray(A,y)):(f[A]=u,g=B(f,g,e.subarray(A,d)))}else{for(var v=D[t-1],b=v>>>13,x=8191&v,E=(1<<n)-1,w=new o(32768),_=new o(E+1),C=Math.ceil(n/3),M=2*C,O=function(t){return(e[t]^e[t+1]<<C^e[t+2]<<M)&E},T=new s(25e3),P=new o(288),R=new o(32),N=0,j=0,U=(A=0,0),F=0,Q=0;A<d;++A){var z=O(A),H=32767&A,G=_[z];if(w[H]=G,_[z]=H,F<=A){var V=d-A;if((N>7e3||U>24576)&&V>423){g=k(e,f,0,T,P,R,j,U,Q,A-Q,g),U=N=j=0,Q=A;for(var K=0;K<286;++K)P[K]=0;for(K=0;K<30;++K)R[K]=0}var W=2,q=0,Y=x,X=H-G&32767;if(V>2&&z==O(A-X))for(var J=Math.min(b,V)-1,$=Math.min(32767,A),Z=Math.min(258,V);X<=$&&--Y&&H!=G;){if(e[A+W]==e[A+W-X]){for(var ee=0;ee<Z&&e[A+ee]==e[A+ee-X];++ee);if(ee>W){if(W=ee,q=X,ee>J)break;var te=Math.min(X,ee-2),ne=0;for(K=0;K<te;++K){var re=A-X+K+32768&32767,ie=re-w[re]+32768&32767;ie>ne&&(ne=ie,G=re)}}}X+=(H=G)-(G=w[H])+32768&32767}if(q){T[U++]=268435456|p[W]<<18|m[q];var ae=31&p[W],oe=31&m[q];j+=l[ae]+c[oe],++P[257+ae],++R[oe],F=A+W,++N}else T[U++]=e[A],++P[e[A]]}}g=k(e,f,u,T,P,R,j,U,Q,A-Q,g),!u&&7&g&&(g=B(f,g+1,L))}return I(h,0,r+S(g)+i)},j=function(){for(var e=new s(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),U=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=j[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},F=function(e,t,n,r,i){return N(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},Q=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},z=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function H(e,t){return F(e,t||{},0,0)}var G=function(e,t,n,r){for(var i in e){var o=e[i],s=t+i;o instanceof a?n[s]=[o,r]:Array.isArray(o)?n[s]=[o[0],Q(r,o[1])]:G(o,s+"/",n,r)}},V="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(L,{stream:!0}),1}catch(e){}function W(e,t){if(t){for(var n=new a(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(V)return V.encode(e);var i=e.length,o=new a(e.length+(e.length>>1)),s=0,l=function(e){o[s++]=e};for(r=0;r<i;++r){if(s+5>o.length){var c=new a(s+8+(i-r<<1));c.set(o),o=c}var u=e.charCodeAt(r);u<128||t?l(u):u<2048?(l(192|u>>6),l(128|63&u)):u>55295&&u<57344?(l(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++r))>>18),l(128|u>>12&63),l(128|u>>6&63),l(128|63&u)):(l(224|u>>12),l(128|u>>6&63),l(128|63&u))}return I(o,0,s)}var q=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;if(r>65535)throw"extra field too long";t+=r+4}return t},Y=function(e,t,n,r,i,a,o,s){var l=r.length,c=n.extra,u=s&&s.length,d=q(c);z(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(null==a&&8),e[t++]=i&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var h=new Date(null==n.mtime?Date.now():n.mtime),f=h.getFullYear()-1980;if(f<0||f>119)throw"date not in range 1980-2099";if(z(e,t,f<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),t+=4,null!=a&&(z(e,t,n.crc),z(e,t+4,a),z(e,t+8,n.size)),z(e,t+12,l),z(e,t+14,d),t+=16,null!=o&&(z(e,t,u),z(e,t+6,n.attrs),z(e,t+10,o),t+=14),e.set(r,t),t+=l,d)for(var p in c){var g=c[p],m=g.length;z(e,t,+p),z(e,t+2,m),e.set(g,t+4),t+=4+m}return u&&(e.set(s,t),t+=u),t},X=function(e,t,n,r,i){z(e,t,101010256),z(e,t+8,n),z(e,t+10,n),z(e,t+12,r),z(e,t+16,i)};class J{async parse(e,t={}){t=Object.assign({ar:{anchoring:{type:"plane"},planeAnchoring:{alignment:"horizontal"}}},t);const n={},r="model.usda";n[r]=null;let i=ee();i+=function(e){return`def Xform "Root"\n{\n    def Scope "Scenes" (\n        kind = "sceneLibrary"\n    )\n    {\n        def Xform "Scene" (\n            customData = {\n                bool preliminary_collidesWithEnvironment = 0\n                string sceneName = "Scene"\n            }\n            sceneName = "Scene"\n        )\n        {\n        token preliminary:anchoring:type = "${e.ar.anchoring.type}"\n        token preliminary:planeAnchoring:alignment = "${e.ar.planeAnchoring.alignment}"\n\n`}(t);const o={},s={};e.traverseVisible((e=>{if(e.isMesh){const t=e.geometry,r=e.material;if(r.isMeshStandardMaterial){const a="geometries/Geometry_"+t.id+".usd";if(!(a in n)){const e=function(e){const t=function(e){const t="Geometry",n=e.attributes,r=n.position.count;return`\n    def Mesh "${t}"\n    {\n        int[] faceVertexCounts = [${function(e){const t=null!==e.index?e.index.count:e.attributes.position.count;return Array(t/3).fill(3).join(", ")}(e)}]\n        int[] faceVertexIndices = [${function(e){const t=e.index,n=[];if(null!==t)for(let e=0;e<t.count;e++)n.push(t.getX(e));else{const t=e.attributes.position.count;for(let e=0;e<t;e++)n.push(e)}return n.join(", ")}(e)}]\n        normal3f[] normals = [${re(n.normal,r)}] (\n            interpolation = "vertex"\n        )\n        point3f[] points = [${re(n.position,r)}]\n        float2[] primvars:st = [${function(e,t){if(void 0===e)return Array(t).fill("(0, 0)").join(", ");const n=[];for(let t=0;t<e.count;t++){const r=e.getX(t),i=e.getY(t);n.push(`(${r.toPrecision(Z)}, ${1-i.toPrecision(Z)})`)}return n.join(", ")}(n.uv,r)}] (\n            interpolation = "vertex"\n        )\n        uniform token subdivisionScheme = "none"\n    }\n`}(e);return`\ndef "Geometry"\n{\n  ${t}\n}\n`}(t);n[a]=function(e){let t=ee();return t+=e,W(t)}(e)}r.uuid in o||(o[r.uuid]=r),i+=function(e,t,n){const r="Object_"+e.id,i=te(e.matrixWorld);e.matrixWorld.determinant();return`def Xform "${r}" (\n    prepend references = @./geometries/Geometry_${t.id}.usd@</Geometry>\n)\n{\n    matrix4d xformOp:transform = ${i}\n    uniform token[] xformOpOrder = ["xformOp:transform"]\n\n    rel material:binding = </Materials/Material_${n.id}>\n}\n\n`}(e,t,r)}}else e.isCamera&&(i+=function(e){const t=e.name?e.name:"Camera_"+e.id,n=te(e.matrixWorld);e.matrixWorld.determinant();return e.isOrthographicCamera?`def Camera "${t}"\n\t\t{\n\t\t\tmatrix4d xformOp:transform = ${n}\n\t\t\tuniform token[] xformOpOrder = ["xformOp:transform"]\n\t\n\t\t\tfloat2 clippingRange = (${e.near.toPrecision(Z)}, ${e.far.toPrecision(Z)})\n\t\t\tfloat horizontalAperture = ${(10*(Math.abs(e.left)+Math.abs(e.right))).toPrecision(Z)}\n\t\t\tfloat verticalAperture = ${(10*(Math.abs(e.top)+Math.abs(e.bottom))).toPrecision(Z)}\n\t\t\ttoken projection = "orthographic"\n\t\t}\n\t\n\t`:`def Camera "${t}"\n\t\t{\n\t\t\tmatrix4d xformOp:transform = ${n}\n\t\t\tuniform token[] xformOpOrder = ["xformOp:transform"]\n\t\n\t\t\tfloat2 clippingRange = (${e.near.toPrecision(Z)}, ${e.far.toPrecision(Z)})\n\t\t\tfloat focalLength = ${e.getFocalLength().toPrecision(Z)}\n\t\t\tfloat focusDistance = ${e.focus.toPrecision(Z)}\n\t\t\tfloat horizontalAperture = ${e.getFilmWidth().toPrecision(Z)}\n\t\t\ttoken projection = "perspective"\n\t\t\tfloat verticalAperture = ${e.getFilmHeight().toPrecision(Z)}\n\t\t}\n\t\n\t`}(e))})),i+="\n        }\n    }\n}\n\n",i+=function(e,t){const n=[];for(const r in e){const i=e[r];n.push(ie(i,t))}return`def "Materials"\n{\n${n.join("")}\n}\n\n`}(o,s),n[r]=W(i),i=null;for(const e in s){const t=s[e],r=e.split("_")[1],i=1023===t.format,a=$(t.image,r,t.flipY),o=await new Promise((e=>a.toBlob(e,i?"image/png":"image/jpeg",1)));n[`textures/Texture_${e}.${i?"png":"jpg"}`]=new Uint8Array(await o.arrayBuffer())}let l=0;for(const e in n){const t=n[e];l+=34+e.length;const r=63&l;if(4!==r){const i=new Uint8Array(64-r);n[e]=[t,{extra:{12345:i}}]}l=t.length}return function(e,t){t||(t={});var n={},r=[];G(e,"",n,t);var i=0,o=0;for(var s in n){var l=n[s],c=l[0],u=l[1],d=0==u.level?0:8,h=(_=W(s)).length,f=u.comment,p=f&&W(f),g=p&&p.length,m=q(u.extra);if(h>65535)throw"filename too long";var A=d?H(c,u):c,y=A.length,v=U();v.p(c),r.push(Q(u,{size:c.length,crc:v.d(),c:A,f:_,m:p,u:h!=s.length||p&&f.length!=g,o:i,compression:d})),i+=30+h+m+y,o+=76+2*(h+m)+(g||0)+y}for(var b=new a(o+22),x=i,E=o-i,w=0;w<r.length;++w){var _=r[w];Y(b,_.o,_,_.f,_.u,_.c.length);var S=30+_.f.length+q(_.extra);b.set(_.c,_.o+S),Y(b,i,_,_.f,_.u,_.c.length,_.o,_.m),i+=16+S+(_.m?_.m.length:0)}return X(b,i,r.length,E,x),b}(n,{level:0})}}function $(e,t,n){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const r=1024/Math.max(e.width,e.height),i=document.createElement("canvas");i.width=e.width*Math.min(1,r),i.height=e.height*Math.min(1,r);const a=i.getContext("2d");if(!0===n&&(a.translate(0,i.height),a.scale(1,-1)),a.drawImage(e,0,0,i.width,i.height),void 0!==t){const e=parseInt(t,16),n=(e>>16&255)/255,r=(e>>8&255)/255,o=(255&e)/255,s=a.getImageData(0,0,i.width,i.height),l=s.data;for(let e=0;e<l.length;e+=4)l[e+0]=l[e+0]*n,l[e+1]=l[e+1]*r,l[e+2]=l[e+2]*o;a.putImageData(s,0,0)}return i}throw new Error("THREE.USDZExporter: No valid image data found. Unable to process texture.")}const Z=7;function ee(){return'#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n'}function te(e){const t=e.elements;return`( ${ne(t,0)}, ${ne(t,4)}, ${ne(t,8)}, ${ne(t,12)} )`}function ne(e,t){return`(${e[t+0]}, ${e[t+1]}, ${e[t+2]}, ${e[t+3]})`}function re(e,t){if(void 0===e)return Array(t).fill("(0, 0, 0)").join(", ");const n=[];for(let t=0;t<e.count;t++){const r=e.getX(t),i=e.getY(t),a=e.getZ(t);n.push(`(${r.toPrecision(Z)}, ${i.toPrecision(Z)}, ${a.toPrecision(Z)})`)}return n.join(", ")}function ie(e,t){const n="            ",i=[],a=[];function o(n,r,i){const a=n.id+(i?"_"+i.getHexString():""),o=1023===n.format;return t[a]=n,`\n        def Shader "Transform2d_${r}" (\n            sdrMetadata = {\n                string role = "math"\n            }\n        )\n        {\n            uniform token info:id = "UsdTransform2d"\n            float2 inputs:in.connect = </Materials/Material_${e.id}/uvReader_st.outputs:result>\n            float2 inputs:scale = ${oe(n.repeat)}\n            float2 inputs:translation = ${oe(n.offset)}\n            float2 outputs:result\n        }\n\n        def Shader "Texture_${n.id}_${r}"\n        {\n            uniform token info:id = "UsdUVTexture"\n            asset inputs:file = @textures/Texture_${a}.${o?"png":"jpg"}@\n            float2 inputs:st.connect = </Materials/Material_${e.id}/Transform2d_${r}.outputs:result>\n            token inputs:wrapS = "repeat"\n            token inputs:wrapT = "repeat"\n            float outputs:r\n            float outputs:g\n            float outputs:b\n            float3 outputs:rgb\n            ${e.transparent||e.alphaTest>0?"float outputs:a":""}\n        }`}return e.side,r.$EB,null!==e.map?(i.push(`${n}color3f inputs:diffuseColor.connect = </Materials/Material_${e.id}/Texture_${e.map.id}_diffuse.outputs:rgb>`),e.transparent?i.push(`${n}float inputs:opacity.connect = </Materials/Material_${e.id}/Texture_${e.map.id}_diffuse.outputs:a>`):e.alphaTest>0&&(i.push(`${n}float inputs:opacity.connect = </Materials/Material_${e.id}/Texture_${e.map.id}_diffuse.outputs:a>`),i.push(`${n}float inputs:opacityThreshold = ${e.alphaTest}`)),a.push(o(e.map,"diffuse",e.color))):i.push(`${n}color3f inputs:diffuseColor = ${ae(e.color)}`),null!==e.emissiveMap?(i.push(`${n}color3f inputs:emissiveColor.connect = </Materials/Material_${e.id}/Texture_${e.emissiveMap.id}_emissive.outputs:rgb>`),a.push(o(e.emissiveMap,"emissive"))):e.emissive.getHex()>0&&i.push(`${n}color3f inputs:emissiveColor = ${ae(e.emissive)}`),null!==e.normalMap&&(i.push(`${n}normal3f inputs:normal.connect = </Materials/Material_${e.id}/Texture_${e.normalMap.id}_normal.outputs:rgb>`),a.push(o(e.normalMap,"normal"))),null!==e.aoMap&&(i.push(`${n}float inputs:occlusion.connect = </Materials/Material_${e.id}/Texture_${e.aoMap.id}_occlusion.outputs:r>`),a.push(o(e.aoMap,"occlusion"))),null!==e.roughnessMap&&1===e.roughness?(i.push(`${n}float inputs:roughness.connect = </Materials/Material_${e.id}/Texture_${e.roughnessMap.id}_roughness.outputs:g>`),a.push(o(e.roughnessMap,"roughness"))):i.push(`${n}float inputs:roughness = ${e.roughness}`),null!==e.metalnessMap&&1===e.metalness?(i.push(`${n}float inputs:metallic.connect = </Materials/Material_${e.id}/Texture_${e.metalnessMap.id}_metallic.outputs:b>`),a.push(o(e.metalnessMap,"metallic"))):i.push(`${n}float inputs:metallic = ${e.metalness}`),null!==e.alphaMap?(i.push(`${n}float inputs:opacity.connect = </Materials/Material_${e.id}/Texture_${e.alphaMap.id}_opacity.outputs:r>`),i.push(`${n}float inputs:opacityThreshold = 0.0001`),a.push(o(e.alphaMap,"opacity"))):i.push(`${n}float inputs:opacity = ${e.opacity}`),e.isMeshPhysicalMaterial&&(i.push(`${n}float inputs:clearcoat = ${e.clearcoat}`),i.push(`${n}float inputs:clearcoatRoughness = ${e.clearcoatRoughness}`),i.push(`${n}float inputs:ior = ${e.ior}`)),`\n    def Material "Material_${e.id}"\n    {\n        def Shader "PreviewSurface"\n        {\n            uniform token info:id = "UsdPreviewSurface"\n${i.join("\n")}\n            int inputs:useSpecularWorkflow = 0\n            token outputs:surface\n        }\n\n        token outputs:surface.connect = </Materials/Material_${e.id}/PreviewSurface.outputs:surface>\n        token inputs:frame:stPrimvarName = "st"\n\n        def Shader "uvReader_st"\n        {\n            uniform token info:id = "UsdPrimvarReader_float2"\n            token inputs:varname.connect = </Materials/Material_${e.id}.inputs:frame:stPrimvarName>\n            float2 inputs:fallback = (0.0, 0.0)\n            float2 outputs:result\n        }\n\n${a.join("\n")}\n\n    }\n`}function ae(e){return`(${e.r}, ${e.g}, ${e.b})`}function oe(e){return`(${e.x}, ${e.y})`}},61728:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(39437);const i=new WeakMap;class a extends r.aHM{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const a=new r.Y9S(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(e=>{this.parse(e,t,i)}),n,i)}parse(e,t,n){this.decodeDracoFile(e,t,null,null,r.er$).catch(n)}decodeDracoFile(e,t,n,i,a=r.Zr2){const o={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:a};return this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){const n=JSON.stringify(t);if(i.has(e)){const t=i.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const a=this.workerNextTaskID++,o=e.byteLength,s=this._getWorker(a,o).then((n=>(r=n,new Promise(((n,i)=>{r._callbacks[a]={resolve:n,reject:i},r.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return s.catch((()=>!0)).then((()=>{r&&a&&this._releaseTask(r,a)})),i.set(e,{key:n,promise:s}),s}_createGeometry(e){const t=new r.LoY;e.index&&t.setIndex(new r.THS(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],a=i.name,o=i.array,s=i.itemSize,l=new r.THS(o,s);"color"===a&&this._assignVertexColorSpace(l,i.vertexColorSpace),t.setAttribute(a,l)}return t}_assignVertexColorSpace(e,t){if(t!==r.er$)return;const n=new r.Q1f;for(let t=0,r=e.count;t<r;t++)n.fromBufferAttribute(e,t).convertSRGBToLinear(),e.setXYZ(t,n.r,n.g,n.b)}_loadLibrary(e,t){const n=new r.Y9S(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,r)=>{n.load(e,t,void 0,r)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const r=o.toString(),i=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n)}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}function o(){let e,t;function n(e,t,n,r,i,a){const o=a.num_components(),s=n.num_points()*o,l=s*i.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,a,c,l,u);const d=new i(e.HEAPF32.buffer,u,s).slice();return e._free(u),{name:r,array:d,itemSize:o}}onmessage=function(r){const i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const r=i.buffer,a=i.taskConfig;t.then((e=>{const t=e.draco,o=new t.Decoder;try{const e=function(e,t,r,i){const a=i.attributeIDs,o=i.attributeTypes;let s,l;const c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)s=new e.Mesh,l=t.DecodeArrayToMesh(r,r.byteLength,s);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");s=new e.PointCloud,l=t.DecodeArrayToPointCloud(r,r.byteLength,s)}if(!l.ok()||0===s.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const u={index:null,attributes:[]};for(const r in a){const l=self[o[r]];let c,d;if(i.useUniqueIDs)d=a[r],c=t.GetAttributeByUniqueId(s,d);else{if(d=t.GetAttributeId(s,e[a[r]]),-1===d)continue;c=t.GetAttribute(s,d)}const h=n(e,t,s,r,l,c);"color"===r&&(h.vertexColorSpace=i.vertexColorSpace),u.attributes.push(h)}c===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){const r=n.num_faces(),i=3*r,a=4*i,o=e._malloc(a);t.GetTrianglesUInt32Array(n,a,o);const s=new Uint32Array(e.HEAPF32.buffer,o,i).slice();return e._free(o),{array:s,itemSize:1}}(e,t,s));return e.destroy(s),u}(t,o,new Int8Array(r),a),s=e.attributes.map((e=>e.array.buffer));e.index&&s.push(e.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:e},s)}catch(e){self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(o)}}))}}}},64092:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(39437);function i(e,t){if(t===r.RJ4)return e;if(t===r.rYR||t===r.O49){let n=e.getIndex();if(null===n){const t=[],r=e.getAttribute("position");if(void 0===r)return e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const i=n.count-2,a=[];if(t===r.rYR)for(let e=1;e<=i;e++)a.push(n.getX(0)),a.push(n.getX(e)),a.push(n.getX(e+1));else for(let e=0;e<i;e++)e%2===0?(a.push(n.getX(e)),a.push(n.getX(e+1)),a.push(n.getX(e+2))):(a.push(n.getX(e+2)),a.push(n.getX(e+1)),a.push(n.getX(e)));a.length;const o=e.clone();return o.setIndex(a),o.clearGroups(),o}return e}class a extends r.aHM{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new d(e)})),this.register((function(e){return new y(e)})),this.register((function(e){return new v(e)})),this.register((function(e){return new b(e)})),this.register((function(e){return new f(e)})),this.register((function(e){return new p(e)})),this.register((function(e){return new g(e)})),this.register((function(e){return new m(e)})),this.register((function(e){return new u(e)})),this.register((function(e){return new A(e)})),this.register((function(e){return new h(e)})),this.register((function(e){return new l(e)})),this.register((function(e){return new x(e)})),this.register((function(e){return new E(e)}))}load(e,t,n,i){const a=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:r.r6x.extractUrlBase(e),this.manager.itemStart(e);const s=function(t){i&&i(t),a.manager.itemError(e),a.manager.itemEnd(e)},l=new r.Y9S(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,(function(n){try{a.parse(n,o,(function(n){t(n),a.manager.itemEnd(e)}),s)}catch(e){s(e)}}),n,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i;const a={},o={},l=new TextDecoder;if("string"===typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(l.decode(new Uint8Array(e,0,4))===w){try{a[s.KHR_BINARY_GLTF]=new I(e)}catch(e){return void(r&&r(e))}i=JSON.parse(a[s.KHR_BINARY_GLTF].content)}else i=JSON.parse(l.decode(e))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const u=new J(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](u);o[t.name]=t,a[t.name]=!0}if(i.extensionsUsed)for(let e=0;e<i.extensionsUsed.length;++e){const t=i.extensionsUsed[e],n=i.extensionsRequired||[];switch(t){case s.KHR_MATERIALS_UNLIT:a[t]=new c;break;case s.KHR_DRACO_MESH_COMPRESSION:a[t]=new C(i,this.dracoLoader);break;case s.KHR_TEXTURE_TRANSFORM:a[t]=new M;break;case s.KHR_MESH_QUANTIZATION:a[t]=new O;break;default:n.indexOf(t)>=0&&o[t]}}u.setExtensions(a),u.setPlugins(o),u.parse(n,r)}parseAsync(e,t){const n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}function o(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const s={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class l{constructor(e){this.parser=e,this.name=s.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let s;const l=new r.Q1f(16777215);void 0!==o.color&&l.fromArray(o.color);const c=void 0!==o.range?o.range:0;switch(o.type){case"directional":s=new r.ZyN(l),s.target.position.set(0,0,-1),s.add(s.target);break;case"point":s=new r.HiM(l),s.distance=c;break;case"spot":s=new r.nCl(l),s.distance=c,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,s.angle=o.spot.outerConeAngle,s.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,s.target.position.set(0,0,-1),s.add(s.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return s.position.set(0,0,0),s.decay=2,V(s,o),void 0!==o.intensity&&(s.intensity=o.intensity),s.name=t.createUniqueName(o.name||"light_"+e),i=Promise.resolve(s),t.cache.add(n,i),i}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}class c{constructor(){this.name=s.KHR_MATERIALS_UNLIT}getMaterialType(){return r.V9B}extendParams(e,t,n){const i=[];e.color=new r.Q1f(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const t=a.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==a.baseColorTexture&&i.push(n.assignTexture(e,"map",a.baseColorTexture,r.S2Q))}return Promise.all(i)}}class u{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class d{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const e=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new r.I9Y(e,e)}return Promise.all(a)}}class h{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}class f{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new r.Q1f(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return void 0!==o.sheenColorFactor&&t.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&a.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,r.S2Q)),void 0!==o.sheenRoughnessTexture&&a.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}class p{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}class g{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&a.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const s=o.attenuationColor||[1,1,1];return t.attenuationColor=new r.Q1f(s[0],s[1],s[2]),Promise.all(a)}}class m{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class A{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&a.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const s=o.specularColorFactor||[1,1,1];return t.specularColor=new r.Q1f(s[0],s[1],s[2]),void 0!==o.specularColorTexture&&a.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,r.S2Q)),Promise.all(a)}}class y{constructor(e){this.parser=e,this.name=s.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}class v{constructor(e){this.parser=e,this.name=s.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const a=i.extensions[t],o=r.images[a.source];let s=n.textureLoader;if(o.uri){const e=n.options.manager.getHandler(o.uri);null!==e&&(s=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class b{constructor(e){this.parser=e,this.name=s.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const a=i.extensions[t],o=r.images[a.source];let s=n.textureLoader;if(o.uri){const e=n.options.manager.getHandler(o.uri);null!==e&&(s=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class x{constructor(e){this.name=s.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then((function(t){const n=e.byteOffset||0,r=e.byteLength||0,a=e.count,o=e.byteStride,s=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(a,o,s,e.mode,e.filter).then((function(e){return e.buffer})):i.ready.then((function(){const t=new ArrayBuffer(a*o);return i.decodeGltfBuffer(new Uint8Array(t),a,o,s,e.mode,e.filter),t}))}))}return null}}class E{constructor(e){this.name=s.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const i=t.meshes[n.mesh];for(const e of i.primitives)if(e.mode!==B.TRIANGLES&&e.mode!==B.TRIANGLE_STRIP&&e.mode!==B.TRIANGLE_FAN&&void 0!==e.mode)return null;const a=n.extensions[this.name].attributes,o=[],s={};for(const e in a)o.push(this.parser.getDependency("accessor",a[e]).then((t=>(s[e]=t,s[e]))));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then((e=>{const t=e.pop(),n=t.isGroup?t.children:[t],i=e[0].count,a=[];for(const e of n){const t=new r.kn4,n=new r.Pq0,o=new r.PTz,l=new r.Pq0(1,1,1),c=new r.ZLX(e.geometry,e.material,i);for(let e=0;e<i;e++)s.TRANSLATION&&n.fromBufferAttribute(s.TRANSLATION,e),s.ROTATION&&o.fromBufferAttribute(s.ROTATION,e),s.SCALE&&l.fromBufferAttribute(s.SCALE,e),c.setMatrixAt(e,t.compose(n,o,l));for(const t in s)"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,s[t]);r.B69.prototype.copy.call(c,e),this.parser.assignFinalMaterial(c),a.push(c)}return t.isGroup?(t.clear(),t.add(...a),t):a[0]})))}}const w="glTF",_=1313821514,S=5130562;class I{constructor(e){this.name=s.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==w)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-12,i=new DataView(e,12);let a=0;for(;a<r;){const t=i.getUint32(a,!0);a+=4;const r=i.getUint32(a,!0);if(a+=4,r===_){const r=new Uint8Array(e,12+a,t);this.content=n.decode(r)}else if(r===S){const n=12+a;this.body=e.slice(n,n+t)}a+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class C{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=s.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(const e in a){const t=j[e]||e.toLowerCase();o[t]=a[e]}for(const t in e.attributes){const r=j[t]||t.toLowerCase();if(void 0!==a[t]){const i=n.accessors[e.attributes[t]],a=k[i.componentType];l[r]=a.name,s[r]=!0===i.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],r=s[t];void 0!==r&&(n.normalized=r)}t(e)}),o,l)}))}))}}class M{constructor(){this.name=s.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}class O{constructor(){this.name=s.KHR_MESH_QUANTIZATION}}class T extends r.lGw{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let e=0;e!==r;e++)t[e]=n[i+e];return t}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,c=r-t,u=(n-t)/c,d=u*u,h=d*u,f=e*l,p=f-l,g=-2*h+3*d,m=h-d,A=1-g,y=m-d+u;for(let e=0;e!==o;e++){const t=a[p+e+o],n=a[p+e+s]*c,r=a[f+e+o],l=a[f+e]*c;i[e]=A*t+y*n+g*r+m*l}return i}}const P=new r.PTz;class R extends T{interpolate_(e,t,n,r){const i=super.interpolate_(e,t,n,r);return P.fromArray(i).normalize().toArray(i),i}}const B={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},k={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},D={9728:r.hxR,9729:r.k6q,9984:r.pHI,9985:r.kRr,9986:r.Cfg,9987:r.$_I},L={33071:r.ghU,33648:r.kTW,10497:r.GJx},N={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},U={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},F={CUBICSPLINE:void 0,LINEAR:r.PJ3,STEP:r.ljd},Q="OPAQUE",z="MASK",H="BLEND";function G(e,t,n){for(const r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function V(e,t){void 0!==t.extras&&"object"===typeof t.extras&&Object.assign(e.userData,t.extras)}function K(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}}}function W(e){const t=e.extensions&&e.extensions[s.KHR_DRACO_MESH_COMPRESSION];let n;return n=t?"draco:"+t.bufferView+":"+t.indices+":"+q(t.attributes):e.indices+":"+q(e.attributes)+":"+e.mode,n}function q(e){let t="";const n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Y(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const X=new r.kn4;class J{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new o,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,a=-1;"undefined"!==typeof navigator&&(n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||n||i&&a<98?this.textureLoader=new r.Tap(this.options.manager):this.textureLoader=new r.Kzg(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new r.Y9S(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};G(i,a,r),V(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n].joints;for(let t=0,n=r.length;t<n;t++)e[r[t]].isBone=!0}for(let t=0,r=e.length;t<r;t++){const r=e[t];void 0!==r.mesh&&(this._addNodeRef(this.meshCache,r.mesh),void 0!==r.skin&&(n[r.mesh].isSkinnedMesh=!0)),void 0!==r.camera&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),i=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[n,r]of e.children.entries())i(r,t.children[n])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!r)throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[s.KHR_BINARY_GLTF].body);const i=this.options;return new Promise((function(e,a){n.load(r.r6x.resolveURL(t.uri,i.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse){const e=N[i.type],t=k[i.componentType],n=!0===i.normalized,a=new t(i.count*e);return Promise.resolve(new r.THS(a,e,n))}const a=[];return void 0!==i.bufferView?a.push(this.getDependency("bufferView",i.bufferView)):a.push(null),void 0!==i.sparse&&(a.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(a).then((function(e){const a=e[0],o=N[i.type],s=k[i.componentType],l=s.BYTES_PER_ELEMENT,c=l*o,u=i.byteOffset||0,d=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,h=!0===i.normalized;let f,p;if(d&&d!==c){const e=Math.floor(u/d),n="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+e+":"+i.count;let c=t.cache.get(n);c||(f=new s(a,e*d,i.count*d/l),c=new r.eB$(f,d/l),t.cache.add(n,c)),p=new r.eHs(c,o,u%d/l,h)}else f=null===a?new s(i.count*o):new s(a,u,i.count*o),p=new r.THS(f,o,h);if(void 0!==i.sparse){const t=N.SCALAR,n=k[i.sparse.indices.componentType],l=i.sparse.indices.byteOffset||0,c=i.sparse.values.byteOffset||0,u=new n(e[1],l,i.sparse.count*t),d=new s(e[2],c,i.sparse.count*o);null!==a&&(p=new r.THS(p.array.slice(),p.itemSize,p.normalized));for(let e=0,t=u.length;e<t;e++){const t=u[e];if(p.setX(t,d[e*o]),o>=2&&p.setY(t,d[e*o+1]),o>=3&&p.setZ(t,d[e*o+2]),o>=4&&p.setW(t,d[e*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p}))}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r];let a=this.textureLoader;if(i.uri){const e=n.manager.getHandler(i.uri);null!==e&&(a=e)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,t,n){const i=this,a=this.json,o=a.textures[e],s=a.images[t],l=(s.uri||s.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=o.name||s.name||"",""===t.name&&"string"===typeof s.uri&&!1===s.uri.startsWith("data:image/")&&(t.name=s.uri);const n=(a.samplers||{})[o.sampler]||{};return t.magFilter=D[n.magFilter]||r.k6q,t.minFilter=D[n.minFilter]||r.$_I,t.wrapS=L[n.wrapS]||r.GJx,t.wrapT=L[n.wrapT]||r.GJx,i.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,i=this.json,a=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const o=i.images[e],s=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(void 0!==o.bufferView)l=n.getDependency("bufferView",o.bufferView).then((function(e){c=!0;const t=new Blob([e],{type:o.mimeType});return l=s.createObjectURL(t),l}));else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then((function(e){return new Promise((function(n,i){let o=n;!0===t.isImageBitmapLoader&&(o=function(e){const t=new r.gPd(e);t.needsUpdate=!0,n(t)}),t.load(r.r6x.resolveURL(e,a.path),o,void 0,i)}))})).then((function(e){var t;return!0===c&&s.revokeObjectURL(l),e.userData.mimeType=o.mimeType||((t=o.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw e}));return this.sourceCache[e]=u,u}assignTexture(e,t,n,r){const i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((a=a.clone()).channel=n.texCoord),i.extensions[s.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[s.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(a);a=i.extensions[s.KHR_TEXTURE_TRANSFORM].extendTexture(a,e),i.associations.set(a,t)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=void 0===t.attributes.tangent,a=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new r.BH$,r.imn.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new r.mrM,r.imn.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(i||a||o){let e="ClonedMaterial:"+n.uuid+":";i&&(e+="derivative-tangents:"),a&&(e+="vertex-colors:"),o&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),a&&(t.vertexColors=!0),o&&(t.flatShading=!0),i&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return r._4j}loadMaterial(e){const t=this,n=this.json,i=this.extensions,a=n.materials[e];let o;const l={},c=[];if((a.extensions||{})[s.KHR_MATERIALS_UNLIT]){const e=i[s.KHR_MATERIALS_UNLIT];o=e.getMaterialType(),c.push(e.extendParams(l,a,t))}else{const n=a.pbrMetallicRoughness||{};if(l.color=new r.Q1f(1,1,1),l.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;l.color.fromArray(e),l.opacity=e[3]}void 0!==n.baseColorTexture&&c.push(t.assignTexture(l,"map",n.baseColorTexture,r.S2Q)),l.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,l.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(c.push(t.assignTexture(l,"metalnessMap",n.metallicRoughnessTexture)),c.push(t.assignTexture(l,"roughnessMap",n.metallicRoughnessTexture))),o=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,l)}))))}!0===a.doubleSided&&(l.side=r.$EB);const u=a.alphaMode||Q;if(u===H?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,u===z&&(l.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&o!==r.V9B&&(c.push(t.assignTexture(l,"normalMap",a.normalTexture)),l.normalScale=new r.I9Y(1,1),void 0!==a.normalTexture.scale)){const e=a.normalTexture.scale;l.normalScale.set(e,e)}return void 0!==a.occlusionTexture&&o!==r.V9B&&(c.push(t.assignTexture(l,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(l.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&o!==r.V9B&&(l.emissive=(new r.Q1f).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&o!==r.V9B&&c.push(t.assignTexture(l,"emissiveMap",a.emissiveTexture,r.S2Q)),Promise.all(c).then((function(){const n=new o(l);return a.name&&(n.name=a.name),V(n,a),t.associations.set(n,{materials:e}),a.extensions&&G(i,n,a),n}))}createUniqueName(e){const t=r.Nwf.sanitizeNodeName(e||"");let n=t;for(let e=1;this.nodeNamesUsed[n];++e)n=t+"_"+e;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function a(e){return n[s.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return $(n,e,t)}))}const o=[];for(let n=0,l=e.length;n<l;n++){const l=e[n],c=W(l),u=i[c];if(u)o.push(u.promise);else{let e;e=l.extensions&&l.extensions[s.KHR_DRACO_MESH_COMPRESSION]?a(l):$(new r.LoY,l,t),i[c]={primitive:l,promise:e},o.push(e)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,a=this.extensions,o=n.meshes[e],s=o.primitives,l=[];for(let e=0,t=s.length;e<t;e++){const t=void 0===s[e].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new r._4j({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:r.hB5})),c.DefaultMaterial):this.getDependency("material",s[e].material);l.push(t)}var c;return l.push(t.loadGeometries(s)),Promise.all(l).then((function(n){const l=n.slice(0,n.length-1),c=n[n.length-1],u=[];for(let n=0,d=c.length;n<d;n++){const d=c[n],h=s[n];let f;const p=l[n];if(h.mode===B.TRIANGLES||h.mode===B.TRIANGLE_STRIP||h.mode===B.TRIANGLE_FAN||void 0===h.mode)f=!0===o.isSkinnedMesh?new r.I46(d,p):new r.eaF(d,p),!0===f.isSkinnedMesh&&f.normalizeSkinWeights(),h.mode===B.TRIANGLE_STRIP?f.geometry=i(f.geometry,r.O49):h.mode===B.TRIANGLE_FAN&&(f.geometry=i(f.geometry,r.rYR));else if(h.mode===B.LINES)f=new r.DXC(d,p);else if(h.mode===B.LINE_STRIP)f=new r.N1A(d,p);else if(h.mode===B.LINE_LOOP)f=new r.FCc(d,p);else{if(h.mode!==B.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);f=new r.ONl(d,p)}Object.keys(f.geometry.morphAttributes).length>0&&K(f,o),f.name=t.createUniqueName(o.name||"mesh_"+e),V(f,o),h.extensions&&G(a,f,h),t.assignFinalMaterial(f),u.push(f)}for(let n=0,r=u.length;n<r;n++)t.associations.set(u[n],{meshes:e,primitives:n});if(1===u.length)return u[0];const d=new r.YJl;t.associations.set(d,{meshes:e});for(let e=0,t=u.length;e<t;e++)d.add(u[e]);return d}))}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(i)return"perspective"===n.type?t=new r.ubm(r.cj9.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(t=new r.qUd(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),V(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let e=0,r=t.joints.length;e<r;e++)n.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){const t=e.pop(),n=e,i=[],a=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];if(o){i.push(o);const n=new r.kn4;null!==t&&n.fromArray(t.array,16*e),a.push(n)}}return new r.EAD(i,a)}))}loadAnimation(e){const t=this.json.animations[e],n=t.name?t.name:"animation_"+e,i=[],a=[],o=[],s=[],l=[];for(let e=0,n=t.channels.length;e<n;e++){const n=t.channels[e],r=t.samplers[n.sampler],c=n.target,u=c.node,d=void 0!==t.parameters?t.parameters[r.input]:r.input,h=void 0!==t.parameters?t.parameters[r.output]:r.output;void 0!==c.node&&(i.push(this.getDependency("node",u)),a.push(this.getDependency("accessor",d)),o.push(this.getDependency("accessor",h)),s.push(r),l.push(c))}return Promise.all([Promise.all(i),Promise.all(a),Promise.all(o),Promise.all(s),Promise.all(l)]).then((function(e){const t=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=[];for(let e=0,n=t.length;e<n;e++){const n=t[e],c=i[e],u=a[e],d=o[e],h=s[e];if(void 0===n)continue;let f;switch(n.updateMatrix(),U[h.path]){case U.weights:f=r.Hit;break;case U.rotation:f=r.MBL;break;default:f=r.RiT}const p=n.name?n.name:n.uuid,g=void 0!==d.interpolation?F[d.interpolation]:r.PJ3,m=[];U[h.path]===U.weights?n.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(p);let A=u.array;if(u.normalized){const e=Y(A.constructor),t=new Float32Array(A.length);for(let n=0,r=A.length;n<r;n++)t[n]=A[n]*e;A=t}for(let e=0,t=m.length;e<t;e++){const t=new f(m[e]+"."+U[h.path],c.array,A,g);"CUBICSPLINE"===d.interpolation&&(t.createInterpolant=function(e){return new(this instanceof r.MBL?R:T)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(t)}}return new r.tz3(n,void 0,l)}))}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}loadNode(e){const t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),i=[],a=n.children||[];for(let e=0,n=a.length;e<n;e++)i.push(t.getDependency("node",a[e]));const o=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),o]).then((function(e){const t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,X)}));for(let e=0,r=n.length;e<r;e++)t.add(n[e]);return t}))}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const a=t.nodes[e],o=a.name?i.createUniqueName(a.name):"",s=[],l=i._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return l&&s.push(l),void 0!==a.camera&&s.push(i.getDependency("camera",a.camera).then((function(e){return i._getNodeRef(i.cameraCache,a.camera,e)}))),i._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){s.push(e)})),this.nodeCache[e]=Promise.all(s).then((function(t){let s;if(s=!0===a.isBone?new r.$Kf:t.length>1?new r.YJl:1===t.length?t[0]:new r.B69,s!==t[0])for(let e=0,n=t.length;e<n;e++)s.add(t[e]);if(a.name&&(s.userData.name=a.name,s.name=o),V(s,a),a.extensions&&G(n,s,a),void 0!==a.matrix){const e=new r.kn4;e.fromArray(a.matrix),s.applyMatrix4(e)}else void 0!==a.translation&&s.position.fromArray(a.translation),void 0!==a.rotation&&s.quaternion.fromArray(a.rotation),void 0!==a.scale&&s.scale.fromArray(a.scale);return i.associations.has(s)||i.associations.set(s,{}),i.associations.get(s).nodes=e,s})),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,a=new r.YJl;n.name&&(a.name=i.createUniqueName(n.name)),V(a,n),n.extensions&&G(t,a,n);const o=n.nodes||[],s=[];for(let e=0,t=o.length;e<t;e++)s.push(i.getDependency("node",o[e]));return Promise.all(s).then((function(e){for(let t=0,n=e.length;t<n;t++)a.add(e[t]);return i.associations=(e=>{const t=new Map;for(const[e,n]of i.associations)(e instanceof r.imn||e instanceof r.gPd)&&t.set(e,n);return e.traverse((e=>{const n=i.associations.get(e);null!=n&&t.set(e,n)})),t})(a),a}))}}function $(e,t,n){const i=t.attributes,a=[];function o(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(const t in i){const n=j[t]||t.toLowerCase();n in e.attributes||a.push(o(i[t],n))}if(void 0!==t.indices&&!e.index){const r=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(r)}return V(e,t),function(e,t,n){const i=t.attributes,a=new r.NRn;if(void 0===i.POSITION)return;{const e=n.json.accessors[i.POSITION],t=e.min,o=e.max;if(void 0===t||void 0===o)return;if(a.set(new r.Pq0(t[0],t[1],t[2]),new r.Pq0(o[0],o[1],o[2])),e.normalized){const t=Y(k[e.componentType]);a.min.multiplyScalar(t),a.max.multiplyScalar(t)}}const o=t.targets;if(void 0!==o){const e=new r.Pq0,t=new r.Pq0;for(let r=0,i=o.length;r<i;r++){const i=o[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],a=r.min,o=r.max;if(void 0!==a&&void 0!==o){if(t.setX(Math.max(Math.abs(a[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(a[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(a[2]),Math.abs(o[2]))),r.normalized){const e=Y(k[r.componentType]);t.multiplyScalar(e)}e.max(t)}}}a.expandByVector(e)}e.boundingBox=a;const s=new r.iyt;a.getCenter(s.center),s.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=s}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){let r=!1,i=!1,a=!1;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(void 0!==n.POSITION&&(r=!0),void 0!==n.NORMAL&&(i=!0),void 0!==n.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);const o=[],s=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(r){const t=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;o.push(t)}if(i){const t=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;s.push(t)}if(a){const t=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(l)]).then((function(t){const n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}},10644:(e,t,n)=>{"use strict";n.d(t,{p:()=>v});var r=n(39437);class i{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const n=this.workersResolve[e];if(n&&n(t),this.queue.length){const{resolve:t,msg:n,transfer:r}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(n,r)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise((n=>{const r=this._getIdleWorker();-1!==r?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=n,this.workers[r].postMessage(e,t)):this.queue.push({resolve:n,msg:e,transfer:t})}))}dispose(){this.workers.forEach((e=>e.terminate())),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}var a=n(48287).Buffer;class o{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class s{constructor(e,t,n,r){this._dataView=new DataView(e.buffer,e.byteOffset+t,n),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const n=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}new Uint8Array([0]);const l=[171,75,84,88,32,50,48,187,13,10,26,10];function c(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):a.from(e).toString("utf8")}var u=n(48287).Buffer;let d,h,f;const p={env:{emscripten_notify_memory_growth:function(e){f=new Uint8Array(h.exports.memory.buffer)}}};class g{init(){return d||(d="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+m).then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,p))).then(this._init):WebAssembly.instantiate(u.from(m,"base64"),p).then(this._init),d)}_init(e){h=e.instance,p.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!h)throw new Error("ZSTDDecoder: Await .init() before decoding.");const n=e.byteLength,r=h.exports.malloc(n);f.set(e,r),t=t||Number(h.exports.ZSTD_findDecompressedSize(r,n));const i=h.exports.malloc(t),a=h.exports.ZSTD_decompress(i,t,r,n),o=f.slice(i,i+a);return h.exports.free(r),h.exports.free(i),o}}const m="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",A=new WeakMap;let y;class v extends r.aHM{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new i,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const e=new r.Y9S(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const t=e.loadAsync("basis_transcoder.js"),n=new r.Y9S(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const i=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([t,i]).then((([e,t])=>{const n=v.BasisWorker.toString(),r=["/* constants */","let _EngineFormat = "+JSON.stringify(v.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(v.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(v.BasisFormat),"/* basis_transcoder.js */",e,"/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r])),this.transcoderBinary=t,this.workerPool.setWorkerCreator((()=>{const e=new Worker(this.workerSourceURL),t=this.transcoderBinary.slice(0);return e.postMessage({type:"init",config:this.workerConfig,transcoderBinary:t},[t]),e}))}))}return this.transcoderPending}load(e,t,n,i){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const a=new r.Y9S(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials),a.load(e,(e=>{if(A.has(e)){return A.get(e).promise.then(t).catch(i)}this._createTexture(e).then((e=>t?t(e):null)).catch(i)}),n,i)}_createTextureFrom(e,t){const{mipmaps:n,width:i,height:a,format:o,type:s,error:l,dfdTransferFn:c,dfdFlags:u}=e;if("error"===s)return Promise.reject(l);const d=t.layerCount>1?new r.iOZ(n,i,a,t.layerCount,o,r.OUM):new r.FvD(n,i,a,o,r.OUM);return d.minFilter=1===n.length?r.k6q:r.$_I,d.magFilter=r.k6q,d.generateMipmaps=!1,d.needsUpdate=!0,d.encoding=2===c?r.S2Q:r.tgE,d.premultiplyAlpha=!!(1&u),d}async _createTexture(e,t={}){const n=function(e){const t=new Uint8Array(e.buffer,e.byteOffset,l.length);if(t[0]!==l[0]||t[1]!==l[1]||t[2]!==l[2]||t[3]!==l[3]||t[4]!==l[4]||t[5]!==l[5]||t[6]!==l[6]||t[7]!==l[7]||t[8]!==l[8]||t[9]!==l[9]||t[10]!==l[10]||t[11]!==l[11])throw new Error("Missing KTX 2.0 identifier.");const n=new o,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new s(e,l.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();const a=i._nextUint32();n.supercompressionScheme=i._nextUint32();const u=i._nextUint32(),d=i._nextUint32(),h=i._nextUint32(),f=i._nextUint32(),p=i._nextUint64(),g=i._nextUint64(),m=new s(e,l.length+r,3*a*8,!0);for(let t=0;t<a;t++)n.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+m._nextUint64(),m._nextUint64()),uncompressedByteLength:m._nextUint64()});const A=new s(e,u,d,!0),y={vendorId:A._skip(4)._nextUint16(),descriptorType:A._nextUint16(),versionNumber:A._nextUint16(),descriptorBlockSize:A._nextUint16(),colorModel:A._nextUint8(),colorPrimaries:A._nextUint8(),transferFunction:A._nextUint8(),flags:A._nextUint8(),texelBlockDimension:[A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8()],bytesPlane:[A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8()],samples:[]},v=(y.descriptorBlockSize/4-6)/4;for(let e=0;e<v;e++){const t={bitOffset:A._nextUint16(),bitLength:A._nextUint8(),channelType:A._nextUint8(),samplePosition:[A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&t.channelType?(t.sampleLower=A._nextInt32(),t.sampleUpper=A._nextInt32()):(t.sampleLower=A._nextUint32(),t.sampleUpper=A._nextUint32()),y.samples[e]=t}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(y);const b=new s(e,h,f,!0);for(;b._offset<f;){const e=b._nextUint32(),t=b._scan(e),r=c(t),i=b._scan(e-t.byteLength);n.keyValue[r]=r.match(/^ktx/i)?c(i):i,b._offset%4&&b._skip(4-b._offset%4)}if(g<=0)return n;const x=new s(e,p,g,!0),E=x._nextUint16(),w=x._nextUint16(),_=x._nextUint32(),S=x._nextUint32(),I=x._nextUint32(),C=x._nextUint32(),M=[];for(let e=0;e<a;e++)M.push({imageFlags:x._nextUint32(),rgbSliceByteOffset:x._nextUint32(),rgbSliceByteLength:x._nextUint32(),alphaSliceByteOffset:x._nextUint32(),alphaSliceByteLength:x._nextUint32()});const O=p+x._offset,T=O+_,P=T+S,R=P+I,B=new Uint8Array(e.buffer,e.byteOffset+O,_),k=new Uint8Array(e.buffer,e.byteOffset+T,S),D=new Uint8Array(e.buffer,e.byteOffset+P,I),L=new Uint8Array(e.buffer,e.byteOffset+R,C);return n.globalData={endpointCount:E,selectorCount:w,imageDescs:M,endpointsData:B,selectorsData:k,tablesData:D,extendedData:L},n}(new Uint8Array(e));if(0!==n.vkFormat)return async function(e){const{vkFormat:t,pixelWidth:n,pixelHeight:i,pixelDepth:a}=e;if(void 0===b[t])throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const o=e.levels[0];let s,l;if(0===e.supercompressionScheme)s=o.levelData;else{if(2!==e.supercompressionScheme)throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");y||(y=new Promise((async e=>{const t=new g;await t.init(),e(t)}))),s=(await y).decode(o.levelData,o.uncompressedByteLength)}l=x[t]===r.RQf?new Float32Array(s.buffer,s.byteOffset,s.byteLength/Float32Array.BYTES_PER_ELEMENT):x[t]===r.ix0?new Uint16Array(s.buffer,s.byteOffset,s.byteLength/Uint16Array.BYTES_PER_ELEMENT):s;const c=0===a?new r.GYF(l,n,i):new r.dYF(l,n,i,a);return c.type=x[t],c.format=b[t],c.encoding=E[t]||r.tgE,c.needsUpdate=!0,Promise.resolve(c)}(n);const i=t,a=this.init().then((()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:i},[e]))).then((e=>this._createTextureFrom(e.data,n)));return A.set(e,{promise:a}),a}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}v.BasisFormat={ETC1S:0,UASTC_4x4:1},v.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},v.EngineFormat={RGBAFormat:r.GWd,RGBA_ASTC_4x4_Format:r.qa3,RGBA_BPTC_Format:r.Fn,RGBA_ETC2_EAC_Format:r.KDk,RGBA_PVRTC_4BPPV1_Format:r.HXV,RGBA_S3TC_DXT5_Format:r.BXX,RGB_ETC1_Format:r.CVz,RGB_ETC2_Format:r.Riy,RGB_PVRTC_4BPPV1_Format:r.k6Q,RGB_S3TC_DXT1_Format:r.IE4},v.BasisWorker=function(){let e,t,n;const r=_EngineFormat,i=_TranscoderFormat,a=_BasisFormat;self.addEventListener("message",(function(o){const d=o.data;switch(d.type){case"init":e=d.config,h=d.transcoderBinary,t=new Promise((e=>{n={wasmBinary:h,onRuntimeInitialized:e},BASIS(n)})).then((()=>{n.initializeBasis(),n.KTX2File}));break;case"transcode":t.then((()=>{try{const{width:t,height:o,hasAlpha:h,mipmaps:f,format:p,dfdTransferFn:g,dfdFlags:m}=function(t){const o=new n.KTX2File(new Uint8Array(t));function d(){o.close(),o.delete()}if(!o.isValid())throw d(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");const h=o.isUASTC()?a.UASTC_4x4:a.ETC1S,f=o.getWidth(),p=o.getHeight(),g=o.getLayers()||1,m=o.getLevels(),A=o.getHasAlpha(),y=o.getDFDTransferFunc(),v=o.getDFDFlags(),{transcoderFormat:b,engineFormat:x}=function(t,n,o,u){let d,h;const f=t===a.ETC1S?s:l;for(let r=0;r<f.length;r++){const i=f[r];if(e[i.if]&&(i.basisFormat.includes(t)&&!(u&&i.transcoderFormat.length<2)&&(!i.needsPowerOfTwo||c(n)&&c(o))))return d=i.transcoderFormat[u?1:0],h=i.engineFormat[u?1:0],{transcoderFormat:d,engineFormat:h}}return d=i.RGBA32,h=r.RGBAFormat,{transcoderFormat:d,engineFormat:h}}(h,f,p,A);if(!f||!p||!m)throw d(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw d(),new Error("THREE.KTX2Loader: .startTranscoding failed");const E=[];for(let e=0;e<m;e++){const t=[];let n,r;for(let i=0;i<g;i++){const a=o.getImageLevelInfo(e,i,0);n=a.origWidth<4?a.origWidth:a.width,r=a.origHeight<4?a.origHeight:a.height;const s=new Uint8Array(o.getImageTranscodedSizeInBytes(e,i,0,b));if(!o.transcodeImage(s,e,i,0,b,0,-1,-1))throw d(),new Error("THREE.KTX2Loader: .transcodeImage failed.");t.push(s)}E.push({data:u(t),width:n,height:r})}return d(),{width:f,height:p,hasAlpha:A,mipmaps:E,format:x,dfdTransferFn:y,dfdFlags:v}}(d.buffer),A=[];for(let e=0;e<f.length;++e)A.push(f[e].data.buffer);self.postMessage({type:"transcode",id:d.id,width:t,height:o,hasAlpha:h,mipmaps:f,format:p,dfdTransferFn:g,dfdFlags:m},A)}catch(e){self.postMessage({type:"error",id:d.id,error:e.message})}}))}var h}));const o=[{if:"astcSupported",basisFormat:[a.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],s=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),l=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function c(e){return e<=2||0===(e&e-1)&&0!==e}function u(e){let t=0;for(const n of e)t+=n.byteLength;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.byteLength;return n}};const b={109:r.GWd,97:r.GWd,37:r.GWd,43:r.GWd,103:r.paN,83:r.paN,16:r.paN,22:r.paN,100:r.VT0,76:r.VT0,15:r.VT0,9:r.VT0},x={109:r.RQf,97:r.ix0,37:r.OUM,43:r.OUM,103:r.RQf,83:r.ix0,16:r.OUM,22:r.OUM,100:r.RQf,76:r.ix0,15:r.OUM,9:r.OUM},E={43:r.S2Q,22:r.S2Q,15:r.S2Q}},17231:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(39437);class i extends r.BRH{constructor(e){super(e),this.type=r.ix0}parse(e){const t=function(e,t,n){t=t||1024;let r=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(i=s.indexOf("\n"))&&a<t&&r<e.byteLength;)o+=s,a+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),o+s.slice(0,i))},n=function(e,t,n,r){const i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},i=function(e,t,n,i){const a=e[t+3],o=Math.pow(2,a-128)/255;n[i+0]=r.GxU.toHalfFloat(Math.min(e[t+0]*o,65504)),n[i+1]=r.GxU.toHalfFloat(Math.min(e[t+1]*o,65504)),n[i+2]=r.GxU.toHalfFloat(Math.min(e[t+2]*o,65504)),n[i+3]=r.GxU.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;const o=function(e){const n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,r=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,i=/^\s*FORMAT=(\S+)\s*$/,a=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,o={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let s,l;if(e.pos>=e.byteLength||!(s=t(e)))return-1;if(!(l=s.match(/^#\?(\S+)/)))return-1;for(o.valid|=1,o.programtype=l[1],o.string+=s+"\n";s=t(e),!1!==s;)if(o.string+=s+"\n","#"!==s.charAt(0)){if((l=s.match(n))&&(o.gamma=parseFloat(l[1])),(l=s.match(r))&&(o.exposure=parseFloat(l[1])),(l=s.match(i))&&(o.valid|=2,o.format=l[1]),(l=s.match(a))&&(o.valid|=4,o.height=parseInt(l[1],10),o.width=parseInt(l[2],10)),2&o.valid&&4&o.valid)break}else o.comments+=s+"\n";return 2&o.valid&&4&o.valid?o:-1}(a);if(-1!==o){const e=o.width,t=o.height,s=function(e,t,n){const r=t;if(r<8||r>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(r!==(e[2]<<8|e[3]))return-1;const i=new Uint8Array(4*t*n);if(!i.length)return-1;let a=0,o=0;const s=4*r,l=new Uint8Array(4),c=new Uint8Array(s);let u=n;for(;u>0&&o<e.byteLength;){if(o+4>e.byteLength)return-1;if(l[0]=e[o++],l[1]=e[o++],l[2]=e[o++],l[3]=e[o++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=r)return-1;let t,n=0;for(;n<s&&o<e.byteLength;){t=e[o++];const r=t>128;if(r&&(t-=128),0===t||n+t>s)return-1;if(r){const r=e[o++];for(let e=0;e<t;e++)c[n++]=r}else c.set(e.subarray(o,o+t),n),n+=t,o+=t}const d=r;for(let e=0;e<d;e++){let t=0;i[a]=c[e+t],t+=r,i[a+1]=c[e+t],t+=r,i[a+2]=c[e+t],t+=r,i[a+3]=c[e+t],a+=4}u--}return i}(a.subarray(a.pos),e,t);if(-1!==s){let a,l,c;switch(this.type){case r.RQf:c=s.length/4;const e=new Float32Array(4*c);for(let t=0;t<c;t++)n(s,4*t,e,4*t);a=e,l=r.RQf;break;case r.ix0:c=s.length/4;const t=new Uint16Array(4*c);for(let e=0;e<c;e++)i(s,4*e,t,4*e);a=t,l=r.ix0}return{width:e,height:t,data:a,header:o.string,gamma:o.gamma,exposure:o.exposure,type:l}}}return null}setDataType(e){return this.type=e,this}load(e,t,n,i){return super.load(e,(function(e,n){switch(e.type){case r.RQf:case r.ix0:e.encoding=r.tgE,e.minFilter=r.k6q,e.magFilter=r.k6q,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,i)}}},66074:(e,t,n)=>{"use strict";n.d(t,{B:()=>u,v:()=>i});var r=n(39437);class i extends r.B69{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new r.I9Y(.5,.5),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const a=new r.Pq0,o=new r.kn4,s=new r.kn4,l=new r.Pq0,c=new r.Pq0;class u{constructor(e={}){const t=this;let n,r,i,u;const d={objects:new WeakMap},h=void 0!==e.element?e.element:document.createElement("div");function f(e,n,r){if(e.isCSS2DObject){a.setFromMatrixPosition(e.matrixWorld),a.applyMatrix4(s);const o=!0===e.visible&&a.z>=-1&&a.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===o?"":"none",!0===o){e.onBeforeRender(t,n,r);const o=e.element;o.style.transform="translate("+-100*e.center.x+"%,"+-100*e.center.y+"%)translate("+(a.x*i+i)+"px,"+(-a.y*u+u)+"px)",o.parentNode!==h&&h.appendChild(o),e.onAfterRender(t,n,r)}const l={distanceToCameraSquared:p(r,e)};d.objects.set(e,l)}for(let t=0,i=e.children.length;t<i;t++)f(e.children[t],n,r)}function p(e,t){return l.setFromMatrixPosition(e.matrixWorld),c.setFromMatrixPosition(t.matrixWorld),l.distanceToSquared(c)}h.style.overflow="hidden",this.domElement=h,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),o.copy(t.matrixWorldInverse),s.multiplyMatrices(t.projectionMatrix,o),f(e,e,t),function(e){const t=function(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;return d.objects.get(e).distanceToCameraSquared-d.objects.get(t).distanceToCameraSquared})),n=t.length;for(let e=0,r=t.length;e<r;e++)t[e].element.style.zIndex=n-e}(e)},this.setSize=function(e,t){n=e,r=t,i=n/2,u=r/2,h.style.width=e+"px",h.style.height=t+"px"}}}},75540:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});const r={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"}},88450:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});const r={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"}},98568:(e,t,n)=>{"use strict";n.d(t,{KY:()=>i});var r=n(39437);function i(e,t,n){let i=n;const a=new r.Pq0;return e.updateWorldMatrix(!0,!0),e.traverseVisible((e=>{const{geometry:n}=e;if(void 0!==n){const{position:r}=n.attributes;if(void 0!==r)for(let n=0,o=r.count;n<o;n++)e.isMesh?e.getVertexPosition(n,a):a.fromBufferAttribute(r,n),e.isSkinnedMesh||a.applyMatrix4(e.matrixWorld),i=t(i,a)}})),i}},92249:(e,t,n)=>{"use strict";function r(e){const t=new Map,n=new Map,r=e.clone();return i(e,r,(function(e,r){t.set(r,e),n.set(e,r)})),r.traverse((function(e){if(!e.isSkinnedMesh)return;const r=e,i=t.get(e),a=i.skeleton.bones;r.skeleton=i.skeleton.clone(),r.bindMatrix.copy(i.bindMatrix),r.skeleton.bones=a.map((function(e){return n.get(e)})),r.bind(r.skeleton,r.bindMatrix)})),r}function i(e,t,n){n(e,t);for(let r=0;r<e.children.length;r++)i(e.children[r],t.children[r],n)}n.d(t,{o8:()=>r})},37889:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var r=n(39437);class i{constructor(e,t,n,i,a){this.xrLight=e,this.renderer=t,this.lightProbe=n,this.xrWebGLBinding=null,this.estimationStartCallback=a,this.frameCallback=this.onXRFrame.bind(this);const o=t.xr.getSession();if(i&&"XRWebGLBinding"in window){const n=new r.o6l(16);e.environment=n.texture;const i=t.getContext();switch(o.preferredReflectionFormat){case"srgba8":i.getExtension("EXT_sRGB");break;case"rgba16f":i.getExtension("OES_texture_half_float")}this.xrWebGLBinding=new XRWebGLBinding(o,i),this.lightProbe.addEventListener("reflectionchange",(()=>{this.updateReflection()}))}o.requestAnimationFrame(this.frameCallback)}updateReflection(){const e=this.renderer.properties.get(this.xrLight.environment);if(e){const t=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);t&&(e.__webglTexture=t,this.xrLight.environment.needsPMREMUpdate=!0)}}onXRFrame(e,t){if(!this.xrLight)return;t.session.requestAnimationFrame(this.frameCallback);const n=t.getLightEstimate(this.lightProbe);if(n){this.xrLight.lightProbe.sh.fromArray(n.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;const e=Math.max(1,Math.max(n.primaryLightIntensity.x,Math.max(n.primaryLightIntensity.y,n.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(n.primaryLightIntensity.x/e,n.primaryLightIntensity.y/e,n.primaryLightIntensity.z/e),this.xrLight.directionalLight.intensity=e,this.xrLight.directionalLight.position.copy(n.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}dispose(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}class a extends r.YJl{constructor(e,t=!0){super(),this.lightProbe=new r.FZo,this.lightProbe.intensity=0,this.add(this.lightProbe),this.directionalLight=new r.ZyN,this.directionalLight.intensity=0,this.add(this.directionalLight),this.environment=null;let n=null,a=!1;e.xr.addEventListener("sessionstart",(()=>{const r=e.xr.getSession();"requestLightProbe"in r&&r.requestLightProbe({reflectionFormat:r.preferredReflectionFormat}).then((r=>{n=new i(this,e,r,t,(()=>{a=!0,this.dispatchEvent({type:"estimationstart"})}))}))})),e.xr.addEventListener("sessionend",(()=>{n&&(n.dispose(),n=null),a&&this.dispatchEvent({type:"estimationend"})})),this.dispose=()=>{n&&(n.dispose(),n=null),this.remove(this.lightProbe),this.lightProbe=null,this.remove(this.directionalLight),this.directionalLight=null,this.environment=null}}}},98823:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>r});Math.PI,Math.PI;function r(e,t,n){return(1-n)*e+n*t}}}]);