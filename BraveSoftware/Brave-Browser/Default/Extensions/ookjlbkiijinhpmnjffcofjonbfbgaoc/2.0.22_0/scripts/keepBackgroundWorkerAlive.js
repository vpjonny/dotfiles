(()=>{"use strict";const e=(()=>{const e=globalThis.chrome||globalThis.browser;if(null==e)throw new Error("Not browser extension");return e})(),n=e.runtime.getManifest().manifest_version,t="KEEP_BACKGROUND_WORKER_ALIVE",s=n=>{if(!1===Boolean(e.runtime.id))return;const s={type:t};e.runtime.sendMessage(s),n?.postMessage(s)};if(3===n){let n;!function s(){n=e.runtime.connect({name:t}),n.onDisconnect.addListener(s)}(),s(n),setInterval((()=>s(n)),1e3)}})();