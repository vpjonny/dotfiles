(()=>{const a=null!==(G=sessionStorage.getItem("bis_data"))?JSON.parse(G):null;var G;const E=a?a.config.redditConfig:null,K=a?a.id+"_w":null,q=document.head.querySelector("script[bis_use][data-dynamic-id]")?.getAttribute("data-dynamic-id")||"";if(null!==E){function o(a){const G=function(a){const G=function(a){const G=new RegExp(E.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let K=a.match(G),q=null;K&&K.length&&(q=K[1]);return q}(a);return{videoId:G,url:a}}(a);!function(a){try{a.detectionTime=Date.now()/1e3|0;let G={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"REDDIT_VIDEO_DATA",from:K,to:K.substring(0,K.length-2),content:a,dynamicAppId:q};window.postMessage(G)}catch(a){}}(G)}function i(a){try{const G=JSON.parse(a.content);let E=[];for(let a of G){const G={};a.source&&a.source.hasOwnProperty("outboundUrl")&&(G.elementId=a.id,G.targetUrl=a.source.outboundUrl,E.push(G))}!function(a){try{let G={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"REDDIT_RIGHT_COLUMN_DATA",from:K,to:K.substring(0,K.length-2),content:a,dynamicAppId:q};window.postMessage(G)}catch(a){}}(E)}catch(a){}}let D=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],this.url=arguments[1],D.apply(this,arguments)};let j=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){var a=this;let G=(K=a.url,new RegExp(E.VIDEO_TRAFFIC_DETECTOR.VIDEO_MPD_URL_CHECK).test(K));var K;let q,D=function(a){return new RegExp(E.RIGHT_COLUMN.PATH_WITH_AD_URL).test(a)}(a.url);if(!G&&!D)return j.apply(this,arguments);const A=function(){if(D&&4===a.readyState){i({url:a.url,content:""===a.responseType||"text"===a.responseType?a.responseText:""})}else D&&4!==a.readyState?q=setTimeout((()=>A.apply(this,arguments)),0):q&&clearTimeout(q)};return A(),o(a.url),j.apply(this,arguments)}}})();