(()=>{var a={7452:a=>{var G=function(a){"use strict";var G,E=Object.prototype,K=E.hasOwnProperty,q="function"==typeof Symbol?Symbol:{},o=q.iterator||"@@iterator",i=q.asyncIterator||"@@asyncIterator",D=q.toStringTag||"@@toStringTag";function j(a,G,E){return Object.defineProperty(a,G,{value:E,enumerable:!0,configurable:!0,writable:!0}),a[G]}try{j({},"")}catch(a){j=function(a,G,E){return a[G]=E}}function A(a,G,E,K){var q=G&&G.prototype instanceof u?G:u,o=Object.create(q.prototype),i=new b(K||[]);return o._invoke=function(a,G,E){var K=d;return function(q,o){if(K===Q)throw new Error("Generator is already running");if(K===J){if("throw"===q)throw o;return U()}for(E.method=q,E.arg=o;;){var i=E.delegate;if(i){var D=_(i,E);if(D){if(D===N)continue;return D}}if("next"===E.method)E.sent=E._sent=E.arg;else if("throw"===E.method){if(K===d)throw K=J,E.arg;E.dispatchException(E.arg)}else"return"===E.method&&E.abrupt("return",E.arg);K=Q;var j=F(a,G,E);if("normal"===j.type){if(K=E.done?J:c,j.arg===N)continue;return{value:j.arg,done:E.done}}"throw"===j.type&&(K=J,E.method="throw",E.arg=j.arg)}}}(a,E,i),o}function F(a,G,E){try{return{type:"normal",arg:a.call(G,E)}}catch(a){return{type:"throw",arg:a}}}a.wrap=A;var d="suspendedStart",c="suspendedYield",Q="executing",J="completed",N={};function u(){}function s(){}function $(){}var R={};j(R,o,(function(){return this}));var x=Object.getPrototypeOf,p=x&&x(x(Z([])));p&&p!==E&&K.call(p,o)&&(R=p);var X=$.prototype=u.prototype=Object.create(R);function w(a){["next","throw","return"].forEach((function(G){j(a,G,(function(a){return this._invoke(G,a)}))}))}function l(a,G){function E(q,o,i,D){var j=F(a[q],a,o);if("throw"!==j.type){var A=j.arg,d=A.value;return d&&"object"==typeof d&&K.call(d,"__await")?G.resolve(d.__await).then((function(a){E("next",a,i,D)}),(function(a){E("throw",a,i,D)})):G.resolve(d).then((function(a){A.value=a,i(A)}),(function(a){return E("throw",a,i,D)}))}D(j.arg)}var q;this._invoke=function(a,K){function o(){return new G((function(G,q){E(a,K,G,q)}))}return q=q?q.then(o,o):o()}}function _(a,E){var K=a.iterator[E.method];if(K===G){if(E.delegate=null,"throw"===E.method){if(a.iterator.return&&(E.method="return",E.arg=G,_(a,E),"throw"===E.method))return N;E.method="throw",E.arg=new TypeError("The iterator does not provide a 'throw' method")}return N}var q=F(K,a.iterator,E.arg);if("throw"===q.type)return E.method="throw",E.arg=q.arg,E.delegate=null,N;var o=q.arg;return o?o.done?(E[a.resultName]=o.value,E.next=a.nextLoc,"return"!==E.method&&(E.method="next",E.arg=G),E.delegate=null,N):o:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,N)}function t(a){var G={tryLoc:a[0]};1 in a&&(G.catchLoc=a[1]),2 in a&&(G.finallyLoc=a[2],G.afterLoc=a[3]),this.tryEntries.push(G)}function r(a){var G=a.completion||{};G.type="normal",delete G.arg,a.completion=G}function b(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(t,this),this.reset(!0)}function Z(a){if(a){var E=a[o];if(E)return E.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var q=-1,i=function E(){for(;++q<a.length;)if(K.call(a,q))return E.value=a[q],E.done=!1,E;return E.value=G,E.done=!0,E};return i.next=i}}return{next:U}}function U(){return{value:G,done:!0}}return s.prototype=$,j(X,"constructor",$),j($,"constructor",s),s.displayName=j($,D,"GeneratorFunction"),a.isGeneratorFunction=function(a){var G="function"==typeof a&&a.constructor;return!!G&&(G===s||"GeneratorFunction"===(G.displayName||G.name))},a.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,$):(a.__proto__=$,j(a,D,"GeneratorFunction")),a.prototype=Object.create(X),a},a.awrap=function(a){return{__await:a}},w(l.prototype),j(l.prototype,i,(function(){return this})),a.AsyncIterator=l,a.async=function(G,E,K,q,o){void 0===o&&(o=Promise);var i=new l(A(G,E,K,q),o);return a.isGeneratorFunction(E)?i:i.next().then((function(a){return a.done?a.value:i.next()}))},w(X),j(X,D,"Generator"),j(X,o,(function(){return this})),j(X,"toString",(function(){return"[object Generator]"})),a.keys=function(a){var G=[];for(var E in a)G.push(E);return G.reverse(),function E(){for(;G.length;){var K=G.pop();if(K in a)return E.value=K,E.done=!1,E}return E.done=!0,E}},a.values=Z,b.prototype={constructor:b,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=G,this.done=!1,this.delegate=null,this.method="next",this.arg=G,this.tryEntries.forEach(r),!a)for(var E in this)"t"===E.charAt(0)&&K.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=G)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var E=this;function q(K,q){return D.type="throw",D.arg=a,E.next=K,q&&(E.method="next",E.arg=G),!!q}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],D=i.completion;if("root"===i.tryLoc)return q("end");if(i.tryLoc<=this.prev){var j=K.call(i,"catchLoc"),A=K.call(i,"finallyLoc");if(j&&A){if(this.prev<i.catchLoc)return q(i.catchLoc,!0);if(this.prev<i.finallyLoc)return q(i.finallyLoc)}else if(j){if(this.prev<i.catchLoc)return q(i.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return q(i.finallyLoc)}}}},abrupt:function(a,G){for(var E=this.tryEntries.length-1;E>=0;--E){var q=this.tryEntries[E];if(q.tryLoc<=this.prev&&K.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var o=q;break}}o&&("break"===a||"continue"===a)&&o.tryLoc<=G&&G<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=a,i.arg=G,o?(this.method="next",this.next=o.finallyLoc,N):this.complete(i)},complete:function(a,G){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&G&&(this.next=G),N},finish:function(a){for(var G=this.tryEntries.length-1;G>=0;--G){var E=this.tryEntries[G];if(E.finallyLoc===a)return this.complete(E.completion,E.afterLoc),r(E),N}},catch:function(a){for(var G=this.tryEntries.length-1;G>=0;--G){var E=this.tryEntries[G];if(E.tryLoc===a){var K=E.completion;if("throw"===K.type){var q=K.arg;r(E)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(a,E,K){return this.delegate={iterator:Z(a),resultName:E,nextLoc:K},"next"===this.method&&(this.arg=G),N}},a}(a.exports);try{regeneratorRuntime=G}catch(a){"object"==typeof globalThis?globalThis.regeneratorRuntime=G:Function("r","regeneratorRuntime = r")(G)}},8384:a=>{a.exports=class{static get ba(){return"2.0.38"}static get Na(){return 1}static get ua(){return 5}static get sa(){return 5}static get _a(){return"https://authentication.urban-vpn.com"}static get Qa(){return"https://analytics-toolbar.urban-vpn.com"}static get $a(){return"/tickets"}static get Ja(){return"/install"}static get Xa(){return`/configuration?pv=${this.ba}`}static get xa(){return!1}static get Ra(){return!0}static get ta(){return!1}static get ra(){return!1}static get da(){return!0}static get la(){return!0}static get ca(){return!0}static get pa(){return!0}static get wa(){return!1}static get Za(){return!1}}},3326:(a,G,E)=>{const K=E(5364),q=E(1568);a.exports=class{constructor(a){this.id=a,this.init=!1,this.InspectorConfig=null,this.hasActiveAdblock=!1}Init(a){return this.InspectorConfig=a,!this.init&&this.InspectorConfig&&this.InspectorConfig.active&&(this.init=!0,setTimeout(this.CheckForActiveAdblocker.bind(this),1e3*this.GetAgentActivationTimeout())),this.init}CheckForActiveAdblocker(){document.readyState===q.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.CheckAdblockerActivityStatus.bind(this)):document.readyState!==q.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==q.DOCUMENT_READYSTATE_COMPLETE||this.CheckAdblockerActivityStatus()}CheckAdblockerActivityStatus(){let a=this.CreateDumpAdElements(),G=a.length,E=0;for(;0!==G||this.hasActiveAdblock;){G-=1;let K=setTimeout((()=>{this.CheckAndRemoveTestAd(a[E]),E+=1,K&&clearTimeout(K)}),1e3*this.GetAdblockerAdRemovingTimeout())}}IsElementHidden(a){return!!a&&0===a.offsetHeight}CreateDumpAdElements(){let a=this.GetAdblockerDetectingSrcPatterns();return a&&a.length||(a=[""]),a.map((a=>{let G=document.createElement("iframe");return G.innerHTML="&nbsp;",G.className=this.GetAdblockerDetectionClassName(),G.style.position="absolute",G.style.visibility="hidden",G.style.zIndex="-9999",a&&(G.src=a),document.body.appendChild(G),G}))}CheckAndRemoveTestAd(a){let G={};G.hasActiveAdblock=this.IsElementHidden(a),a.remove(),K.SendAdBlockInspectorAgentReport(this.id,G,null)}GetAdblockerDetectionClassName(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionClassName}GetAdblockerDetectingSrcPatterns(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionSrcPatterns}GetAgentActivationTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.agentActivationTimeoutSec}GetAdblockerAdRemovingTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.adRemovingTimeoutSec}}},3522:(a,G,E)=>{const K=E(8384),q=E(1568),o=E(2880),i=E(5364);a.exports=class{constructor(a,G){this.id=a,this.IOManager=G,this.init=!1,this.tabId=null,this.status=o.GetDefaultAdblockerStatus(),this.excludeList={domains:[],pages:[]},this.IOManager&&(this.IOManager.onAdBlockerStatusChanged=this.onAdBlockerStatusChanged.bind(this),this.IOManager.onAdBlockerSetHiddenAmount=this.SetHiddenAmount.bind(this))}GetStatus(){return this.status}Init(a,G,E){return!this.init&&K.da&&(this.tabId=E,this.status=a,this.excludeList=G,this.init=!0),this.init}onAdBlockerStatusChanged(a){this.status=a}SetHiddenAmount(a){a>0&&i.SendHiddenAdCandidatesAmount(this.id,a)}IsEnabled(){return this.init&&K.da&&this.status[q.ADBLOCKER_FOR_DISPLAY]===q.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForFacebook(){return this.init&&K.da&&this.status[q.ADBLOCKER_FOR_FACEBOOK]===q.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTwitter(){return this.init&&K.da&&this.status[q.ADBLOCKER_FOR_TWITTER]===q.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForReddit(){return this.init&&K.da&&this.status[q.ADBLOCKER_FOR_REDDIT]===q.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForPinterest(){return this.init&&K.da&&this.status[q.ADBLOCKER_FOR_PINTEREST]===q.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForInstagram(){return this.init&&K.da&&this.status[q.ADBLOCKER_FOR_INSTAGRAM]===q.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTiktok(){return this.init&&K.da&&this.status[q.ADBLOCKER_FOR_TIKTOK]===q.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForLinkedin(){return this.init&&K.da&&this.status[q.ADBLOCKER_FOR_LINKEDIN]===q.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsConfigUseLocal(){return this.init&&this.status[q.USE_LOCAL_CONFIG]===q.ADBLOCKER_STATUS_ENABLED}GetCurrentDomain(){return window.location.origin}GetCurrentPageUrl(){return window.location.href}IsExcluded(){return this.IsExcludedByDomainRule()||this.IsExcludedByPageRule()}IsNotExcluded(){return!this.IsExcluded()}IsExcludedByDomainRule(){return-1!==this.excludeList.domains.indexOf(this.GetCurrentDomain())}IsExcludedByPageRule(){return-1!==this.excludeList.pages.indexOf(this.GetCurrentPageUrl())}IsElementHidden(a){return"hidden"===a.getAttribute(q.ATTRIBUTE_BIS_HIDE_STATUS)}}},9346:(a,G,E)=>{const K=E(9358),q=E(533),o=E(2880),i=E(1568),D=E(8384);a.exports=class extends q{constructor(a){super(),this.id=a,this.active=!1,this.candidates=[],this.hiddenAmount=0,this.pageUrl="",this.ticketId="",this.onPageRefreshed=null,this.isActive=!1,this.available=!1,this.elementId=0}getGlobalContainer(){}sendAdCandidatesToBackground(){}getUniqueContentId(){}get CandidatesCount(){return this.candidates.length}get Candidates(){return this.candidates}get HiddenAmount(){return this.hiddenAmount}get PageUrl(){return this.pageUrl}get TicketId(){return this.ticketId}get IsActive(){return this.active}Activated(){this.active=!0}CandidateHidden(){this.hiddenAmount=this.hiddenAmount+1}ClearHiddenCounter(){this.hiddenAmount=0}ClearCandidates(){this.candidates=[]}AddCandidate(a){this.candidates.push(a)}PageRefreshed(a,G){this.pageUrl=a,this.ticketId=G,this.onPageRefreshed&&this.onPageRefreshed(a,G)}getSponsorTwitterScreenName(a){let G=this.getSponsorPageRelativeUrl(a),E=G.lastIndexOf("/")+1;return G.substring(E)}getSponsorRedditScreenName(a){let G=this.getSponsorScreenNameReddit(a);return G?G.replace(/^.*\/user\//gi,"").replace(/\/.*/gi,""):""}getSponsorPageRelativeUrl(a){let G="",E=a.querySelectorAll("a");if(E.length){G=E[0].getAttribute("href");let a=E[0].getBoundingClientRect().x;E.forEach((E=>{E.getBoundingClientRect().x<a&&(G=E.getAttribute("href"),a=E.getBoundingClientRect().x)}))}return G}getSponsorScreenNameReddit(a){let G,E=Array.from(a.querySelectorAll("a[href]"));for(let a of E){const E=new RegExp(/^\/user\/.*/),K=a.getAttribute("href");if(K&&E.test(K)){G=K.replace(/\/user\//,"").replace(/\/.*/,"");break}}return G}get Context(){return this}getAdTwitterObject(a,G,E,q){let i=o.SetFullSizeToElement(G),D=o.GetCookie("ct0");return{content:K.encode(a.outerHTML),screenName:this.getSponsorTwitterScreenName(a),stylesByElementBisId:q?{}:this.getStylesByElementsBisId(a),adPlacementType:E,size:i,userDataByScreenName:"",token:D}}getAdRedditObject(a,G,E,q){let i=o.SetFullSizeToElement(a);return{content:K.encode(G.outerHTML),screenName:this.getSponsorRedditScreenName(G),adPlacementType:q,targetUrl:E,size:i}}getAdLinkedinObject(a,G,E,q,i,D,j=null){let A=o.SetFullSizeToElement(a);return{content:K.encode(G.outerHTML),socialAdvertiserUrl:i,advertiserName:D,advertiserUrl:"",adPlacementType:E,targetUrl:q,size:A,cookie:o.GetAllCookies(),uniqueDataId:j}}getAdPinterestObject(a,G,E,q,i,D,j){let A=o.SetFullSizeToElement(a),F=this.getUniqueContentId(G);return{content:K.encode(G.outerHTML),screenName:E,adPlacementType:j,targetUrl:q,size:A,adText:i,advertiserUrl:D,uniqueContentId:F}}getAdInstagramObject(a,G,E,q,i,D){let j=o.SetFullSizeToElement(a);return{content:K.encode(G.outerHTML),screenName:E,adPlacementType:D,targetUrl:q,size:j,aboutPageUrl:i}}setSizesAndIdForAllElements(a){if(a&&a.setAttribute){let G=this.getElementId();a.setAttribute(i.ATTRIBUTE_BIS_ELEMENT_ID,G),a.querySelectorAll("*").forEach((a=>{let G=this.getElementId();a.setAttribute&&(a.setAttribute(i.ATTRIBUTE_BIS_ELEMENT_ID,G),o.SetFullSizeToElement(a))}))}}isEmpty(a){return void 0===a||0===a.length}getElementId(){return this.elementId++}set setActive(a){"boolean"==typeof a&&(this.isActive=a)}set setAvailable(a){"boolean"==typeof a&&(this.available=a)}HideElement(a){a&&a.style&&(a.style.cssText+=i.STYLES_HIDE_ELEMENT,a.setAttribute(i.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}HideElementForInstagramFeedOnly(a){a&&a.style&&(a.firstElementChild.style.cssText+=i.STYLES_HIDE_INSTAGRAM_FEED_AD[0],a.style.cssText+=i.STYLES_HIDE_INSTAGRAM_FEED_AD[1],a.setAttribute(i.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}UnhideElement(a){if(a&&a.style){let G=a.style.cssText;G.includes(i.STYLES_HIDE_ELEMENT)&&(G=G.replace(i.STYLES_HIDE_ELEMENT,""),a.style.cssText=G)}}removeCloneElement(a){a.remove()}isCarousel(a){let G=a.querySelector("ul");return!!G&&G.offsetHeight>40}isVideo(a,G){return!(!a||!a.querySelectorAll(G).length)}doesElementExists(a){if(!a)return!1;let G=a.outerHTML;return document.querySelector("html").outerHTML.includes(G)}addRedBorderForCandidates(a){D.ta&&(a.style.cssText+="border: 6px solid red !important;")}}},1153:(a,G,E)=>{const K=E(1568),q=E(2880),o=E(7235),i=E(3210),D=E(4430),j=E(855),A=E(97),F=E(4919),d=E(5465),c=E(2075),Q=E(3375),J=E(9181),N=E(5849),u=E(9203);a.exports=class{constructor(a,G,E,K){if(this.id=a,this.Config=G,this.AdBlockerAgent=K,this.IOManager=E,this.PageUrl=document.location.href,this.FacebookAds=null,this.TwitterAds=null,this.RedditAds=null,this.SkinAds=null,this.HTML5Ads=null,this.VideoAds=null,this.PinterestAds=null,this.InstagramAds=null,this.LinkedinAds=null,this.TwitchAds=null,this.TiktokAds=null,this.IsBlacklistedPublisher=q.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),!this.IsBlacklistedPublisher)switch(!0){case q.IsFacebookUrl(this.PageUrl):this.FacebookAds=new A(this.id,this.Config,this.AdBlockerAgent);break;case q.IsTwitterUrl(this.PageUrl):this.TwitterAds=new F(this.id,this.Config,this.AdBlockerAgent);break;case q.IsRedditUrl(this.PageUrl):this.RedditAds=new d(this.id,this.Config,this.AdBlockerAgent);break;case q.IsTiktokUrl(this.PageUrl):this.TiktokAds=new N(this.id,this.Config,this.AdBlockerAgent);break;case q.IsPinterestUrl(this.PageUrl):this.PinterestAds=new c(this.id,this.Config,this.AdBlockerAgent);break;case q.IsInstagramUrl(this.PageUrl):this.InstagramAds=new Q(this.id,this.Config,this.AdBlockerAgent);break;case q.IsLinkedinUrl(this.PageUrl):this.LinkedinAds=new J(this.id,this.Config,this.AdBlockerAgent);break;case q.IsTwitchUrl(this.PageUrl)&&this.Config.twitchConfig.COLLECT_INSTREAM_ADS:this.TwitchAds=new u(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new i(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new D(this.id,this.Config,this.IOManager,this.AdBlockerAgent);break;default:this.SkinAds=new o(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new i(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new D(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.VideoAds=new j(this.id,this.Config,this.IOManager)}}ActivateAdsdetectors(){this.IsBlacklistedPublisher||(document.readyState===K.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.StartAdsdetectors.bind(this)):document.readyState!==K.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==K.DOCUMENT_READYSTATE_COMPLETE||this.StartAdsdetectors())}StartAdsdetectors(){this.SkinAds&&this.SkinAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.BannerAds&&this.BannerAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.HTML5Ads&&this.HTML5Ads.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.VideoAds&&this.VideoAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.FacebookAds&&this.FacebookAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.TwitterAds&&this.TwitterAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.RedditAds&&this.RedditAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.PinterestAds&&this.PinterestAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.InstagramAds&&this.InstagramAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.LinkedinAds&&this.LinkedinAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.TwitchAds&&this.TwitchAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER)}PageRefreshed(a,G){this.SkinAds&&this.SkinAds.PageRefreshed(a,G),this.BannerAds&&this.BannerAds.PageRefreshed(a,G),this.HTML5Ads&&this.HTML5Ads.PageRefreshed(a,G),this.VideoAds&&this.VideoAds.PageRefreshed(a,G),this.FacebookAds&&this.FacebookAds.PageRefreshed(a,G),this.TwitterAds&&this.TwitterAds.PageRefreshed(a,G),this.RedditAds&&this.RedditAds.PageRefreshed(a,G),this.PinterestAds&&this.PinterestAds.PageRefreshed(a,G),this.InstagramAds&&this.InstagramAds.PageRefreshed(a,G),this.LinkedinAds&&this.LinkedinAds.PageRefreshed(a,G),this.TiktokAds&&this.TiktokAds.PageRefreshed(a,G),this.TwitchAds&&this.TwitchAds.pageRefreshed(a,G)}GetHtml5CandidatesPrebuildInfo(){return this.HTML5Ads&&this.HTML5Ads.IsActive?this.HTML5Ads.GetPrebuildInfo():[]}}},1104:(a,G,E)=>{const K=E(6882);a.exports=class{constructor(a,G){this.id=a,this.onGotWindowMessageCallback=G,this.mesToFrameDeactivationIntervalId=null}SetId(a){this.id=a}ActivateMesToFrameContentListener(a){this.mesToFrameDeactivationIntervalId||(this.mesToFrameDeactivationIntervalId=setInterval(this.CheckMesToFrameContent.bind(this),300),setTimeout(this.DeactivateMesToFrameContentListener.bind(this),3e3))}CheckMesToFrameContent(){try{let a=document.body.getAttribute("bis_mes_to_fr");if(a&&a){let G=JSON.parse(a);document.body.setAttribute("bis_mes_to_fr",""),K.IsValid(G)&&this.onGotWindowMessageCallback&&this.onGotWindowMessageCallback(G),this.DeactivateMesToFrameContentListener()}}catch(a){}}DeactivateMesToFrameContentListener(){this.mesToFrameDeactivationIntervalId&&(clearInterval(this.mesToFrameDeactivationIntervalId),this.mesToFrameDeactivationIntervalId=null)}}},3210:(a,G,E)=>{const K=E(8384),q=E(2880),o=E(9358),i=E(9346),D=E(5364),j=E(1568);a.exports=class extends i{constructor(a,G,E,K){super(a),this.Config=G,this.bannerAdsConfig=this.Config.BannerAdsConfig,this.IOManager=E,this.IOManager.onGotBannerCandidatesExtractionStatusesCallback=this.onGoBannerCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=K}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),350),setInterval((()=>{this.DetectCandidates()}),700)}PushCandidate(a,G){let E={bisId:G,content:o.encode(a)};this.AddCandidate(E)}IsValidCandidateSize(a){return a&&a.width>70&&a.height>40&&a.height<1100}SetBorderToCandidate(a){a&&K.ta&&(K.ra?a.style.cssText+=j.STYLES_BORDER_BANNER_URL_EXTRACTED:a.style.cssText+="border: 6px solid red !important;")}SendCandidatesToBackground(){this.Candidates.length&&D.SendAdCandidates(this.id,this.Candidates,j.MESSAGE_TYPE_CANDIDATES_DATA_BANNERS,null)}DetectCandidates(){this.ClearCandidates();let a=q.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.FULL_IMG_COLLECTION);for(let G=0;G<a.length;G++){let E=a[G];if(!E)continue;let K=E.src.toLowerCase(),o=this.getTagWithHref(E);if(!o)continue;let i=o.href.toLowerCase(),D=!1;if((!this.filterNonAdBanner(E)||this.isRedirectInHref(o))&&(q.IsInFilterList(this.Config.BlacklistBannerHref,i)||q.IsInFilterList(this.Config.BlacklistBannerImgSrc,K)||E.hasAttribute("bis_skin_element")||(q.isValidUrl(K)&&q.isValidUrl(i)||q.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,K)||q.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,i))&&(D=!0),D)){let a=E.getBoundingClientRect();if(this.IsValidCandidateSize(a)){this.SetBorderToCandidate(E),q.SetFullSizeToElement(E),q.SetFullSizeToElement(o);let a=q.GenerateAndSetBisIdToBanner(E);this.PushCandidate(o.outerHTML,a)}}}let G=q.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.ON_EVENT_IMG_COLLECTION);for(let a=0;a<G.length;a++){let E=G[a],K=E.src.toLowerCase();if(!q.IsInFilterList(this.Config.BlacklistBannerImgSrc,K)&&(q.isValidUrl(K)&&!q.IsUrlFromHost(document.location.host,K)||q.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,K))){let a=E.getBoundingClientRect();if(this.IsValidCandidateSize(a)){this.SetBorderToCandidate(E),q.SetFullSizeToElement(E);let a=q.GenerateAndSetBisIdToBanner(E);this.PushCandidate(E.outerHTML,a)}}}this.SendCandidatesToBackground()}filterNonAdBanner(a){let G=window.location.host||"__NULL__",E=a.src.toLowerCase(),K=E.match(/\/\/(www\.)?[A-Za-z0-9.]+/),o=this.getTagWithHref(a),i=o?o.href.match(/\/\/(www\.)?[A-Za-z0-9.]+/):"",D=document.querySelector("head").outerHTML,j=q.IsUrlFromHost(G,o.href);return i=i?i[0].replace("//",""):"",K=K?K[0].replace("//",""):"__NULL__",G=0===G.indexOf("www")?G.replace("www.",""):G,j||D.includes(i)||E.includes(G)&&j||-1!==E.search(/^data/)}isRedirectInHref(a){let G=a.href;return!!G&&G.search(/=https?/)>0}onGoBannerCandidatesExtractionStatuses(a){if(K.ta&&K.ra&&a&&a.length)for(let G=0;G<a.length;G++){let E=q.QuerySelector(document,`*[bis_id="${a[G].bannerId}"]`);E&&q.UpdateCandidateStatusBorderColor(E,a[G].extractionStatus)}}getTagWithHref(a){let G=a.parentElement;for(let a=0;a<5&&"A"!==G.tagName;a++)G=G.parentElement;return"A"!==G.tagName&&(G=null),G}}},1245:(a,G,E)=>{E(1568);const K=E(9358);a.exports=class{constructor(a,G){this.id=a,this.configEncoded=G,this.config=JSON.parse(K.decode(G)),this.counterTriesToSave=0,this.SaveToStorageConfig()}GetConfigEncoded(){return this.configEncoded}get BlacklistPublishers(){return this.config.filterLists.blacklistPublishers}get BlacklistBannerImgSrc(){return this.config.filterLists.blacklistBannerImgSrc}get BlacklistBannerHref(){return this.config.filterLists.blacklistBannerHref}get BlacklistIframeSrc(){return this.config.filterLists.blacklistIframeSrc}get BlacklistIframeId(){return this.config.filterLists.blacklistIframeId}get WhitelistCandidatesUrlKeyWords(){return this.config.filterLists.whitelistCandidatesUrlKeyWords}get WhitelistRedirectionCode(){return this.config.filterLists.whitelistRedirectionCode}GetVideoValidatorsForHTML(){return this.config.videoValidatorsForHTML}GetVideoValidatorsForJS(){return this.config.videoValidatorsForJS}GetVideoValidatorsForXHR(){return this.config.videoValidatorsForXHR}get FacebookConfig(){return this.config.facebookConfig}get TwitterConfig(){return this.config.twitterConfig}get RedditConfig(){return this.config.redditConfig}get PinterestConfig(){return this.config.pinterestConfig}get LinkedinConfig(){return this.config.linkedinConfig}get TiktokConfig(){return this.config.tiktokConfig}get GetInstagramConfig(){return this.config.instagramConfig}GetAdBlockInspectorConfig(){return this.config.adBlockInspectorConfig}get BannerAdsConfig(){return this.config.bannerAdsConfig}get Html5AdsConfig(){return this.config.HTML5AdsConfig}get BlacklistTargetUrl(){return this.config.filterLists.blacklistTargetUrl}get BlacklistKeyWordsInContent(){return this.config.filterLists.blacklistKeyWordsInContent}GetHtml5TargetUrlDetectionConfig(){return this.config.html5TargetUrlDetectionConfig}get twitchConfig(){return this.config.twitchConfig}static get CheckBisDataExist(){try{return!!sessionStorage.getItem("bis_data")}catch(a){return null}}SaveToStorageConfig(){if(self!==top)return;const a=JSON.stringify({id:this.id,config:this.config});sessionStorage.setItem("bis_data",a),this.counterTriesToSave++}get amountTriesSaveConfig(){return this.counterTriesToSave}}},5364:(a,G,E)=>{const K=E(1568),q=E(6882),o=E(2880);class i{constructor(a,G){this.id=a,this.init=!1,this.onGotHTML5CandidatesExtractionStatusesCallback=null,this.onGotSkinAdCandidatesExtractionStatusesCallback=null,this.onGotBannerCandidatesExtractionStatusesCallback=null,this.manualSendTicket=null,this.onGotVideoXHRTrafficCallback=null,this.onGotTwitchVideoInstreamDataCallback=null,this.onAdBlockerStatusChanged=null,this.onAdBlockerSetHiddenAmount=null,this.onTabUrlChanged=null,this.twitterVideoInfoCandidates=[],this.twitterAdCandidate=[],this.ConfigAgent=G}IsInit(){return this.init}Init(){this.init||(this.init=!0,window.addEventListener("message",(a=>{try{let G=a.data;if(q.IsValid(G)){const a=G.type;switch(a){case K.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE:this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback(G.content);break;case K.MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA:this.onGotTwitchVideoInstreamDataCallback&&this.onGotTwitchVideoInstreamDataCallback(G.content);break;case K.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA:i.SendFBInStreamData(this.id,G.content);break;case K.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA:o.IsFBVideoDataValid(G.content)&&i.SendFBVideoData(this.id,G.content);break;case K.MESSAGE_TYPE_PINTEREST_VIDEO_DATA:i.SendPinterestVideoData(this.id,G.content);break;case K.MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA:case K.MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES:case K.MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA:case K.MESSAGE_TYPE_INSTAGRAM_STORY_DATA:i.SendInstagramDataToBgStorage(this.id,G.content,a);break;case K.MESSAGE_TYPE_LINKEDIN_VIDEO_DATA:case K.MESSAGE_TYPE_LINKEDIN_SLIDES_DATA:i.SendLinkedinDataToBgStorage(this.id,G.content,a);break;case K.MESSAGE_TYPE_TWITTER_VIDEO_DATA:i.SendTWVideoData(this.id,G.content);break;case K.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA:i.SendTWCarouselData(this.id,G.content);break;case K.MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES:i.SendTiktokDataToBgStorage(this.id,G.content,a),this.SetAdBlockerHiddenAmount(1);break;case K.MESSAGE_TYPE_REDDIT_VIDEO_DATA:i.SendRedditVideoData(this.id,G.content);break;case K.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA:i.SendRedditRightColumnData(this.id,G.content);break;case K.MESSAGE_TYPE_CONFIG_NOT_FOUND:this.ConfigAgent.SaveToStorageConfig(),this.sendResponseConfigSaved()}}}catch(a){}}),!1),o.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((a=>{let G=a;q.IsValid(G)&&G.to===this.id&&(G.type===K.MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES?this.onGotHTML5CandidatesExtractionStatusesCallback&&this.onGotHTML5CandidatesExtractionStatusesCallback(G.content):G.type===K.MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES?this.onGotBannerCandidatesExtractionStatusesCallback&&this.onGotBannerCandidatesExtractionStatusesCallback(G.content):G.type===K.MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES?this.onGotSkinAdCandidatesExtractionStatusesCallback&&this.onGotSkinAdCandidatesExtractionStatusesCallback(G.content):G.type===K.MESSAGE_TYPE_TAB_URL_CHANGED?this.onTabUrlChanged&&this.onTabUrlChanged(G.content):G.type===K.MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED&&this.onAdBlockerStatusChanged&&this.onAdBlockerStatusChanged(G.content))})))}SetAdBlockerHiddenAmount(a){this.onAdBlockerSetHiddenAmount&&this.onAdBlockerSetHiddenAmount(a)}SendTicket(a){let G=q.EmptyMessage;G.type=K.MESSAGE_TYPE_OUT_TICKET,G.from=this.id,G.to="bg",G.content=a,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(G).then(this.onTicketSend.bind(this)).catch((()=>{}))}onTicketSend(a){a&&a.status}static SendHiddenAdCandidatesAmount(a,G){let E=q.EmptyMessage;E.type=K.MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT,E.from=a,E.to="bg",E.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).catch((()=>{}))}static SendInitMes(a,G){let E=q.EmptyMessage;E.type=K.MESSAGE_TYPE_TAB_INITIALIZATION,E.to="bg",E.content=a,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).then((a=>{a&&a.config&&G&&G(a.config)})).catch((()=>{}))}static SendSinglePageReinitMes(a){let G=q.EmptyMessage;G.type=K.MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION,G.to="bg",G.content=a,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(G).catch((()=>{}))}static SendNewPageCreatedTicket(a){let G=q.EmptyMessage;G.type=K.MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET,G.to="bg",G.content=a,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(G).catch((()=>{}))}static SendPanelRegulatorResult(a){let G=q.EmptyMessage;G.type=K.MESSAGE_TYPE_PANEL_REGULATOR_RESULT,G.to="bg",G.content=a,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(G).catch((()=>{}))}static SendMesToBackground(a,G,E,K){let i=q.EmptyMessage;i.type=G,i.from=a,i.to="bg",i.content=E,o.IsOnChromeRuntime()&&(K?chrome.runtime.sendMessage(i).then(K).catch((()=>{})):chrome.runtime.sendMessage(i).catch((()=>{})))}static SendAdCandidates(a,G,E,K){i.SendMesToBackground(a,E,G,K)}static sendAIMessageCandidates(a,G,E){i.SendMesToBackground(a,E,G)}static SendCandidatePlacementsCount(a,G,E,K){i.SendMesToBackground(a,E,G,K)}static SendHtml5CandidatePlacements(a,G,E){i.SendMesToBackground(a,K.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5,G,E)}static SendAdBlockInspectorAgentReport(a,G){i.SendMesToBackground(a,K.MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT,G,null)}static SendTWVideoData(a,G){i.SendMesToBackground(a,K.MESSAGE_TYPE_TWITTER_VIDEO_DATA,G,null)}static SendTWCarouselData(a,G){i.SendMesToBackground(a,K.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA,G,null)}static SendRedditVideoData(a,G){i.SendMesToBackground(a,K.MESSAGE_TYPE_REDDIT_VIDEO_DATA,G,null)}static SendRedditRightColumnData(a,G){i.SendMesToBackground(a,K.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA,G,null)}static SendVideoHar(a,G){let E=q.EmptyMessage;E.type=K.MESSAGE_TYPE_VIDEO_HAR,E.from=a,E.to="bg",E.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).catch((()=>{}))}SendTwitchInstreamData(a,G){let E=q.EmptyMessage;E.type=K.MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH,E.from=a,E.to="bg",E.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).catch((()=>{}))}static SendFBVideoData(a,G){let E=q.EmptyMessage;E.type=K.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA,E.from=a,E.to="bg",E.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).catch((()=>{}))}static SendPinterestVideoData(a,G){let E=q.EmptyMessage;E.type=K.MESSAGE_TYPE_PINTEREST_VIDEO_DATA,E.from=a,E.to="bg",E.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).catch((()=>{}))}static SendInstagramDataToBgStorage(a,G,E){let K=q.EmptyMessage;K.type=E,K.from=a,K.to="bg",K.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(K).catch((()=>{}))}static SendTiktokDataToBgStorage(a,G,E){let K=q.EmptyMessage;K.type=E,K.from=a,K.to="bg",K.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(K).catch((()=>{}))}static SendLinkedinDataToBgStorage(a,G,E){let K=q.EmptyMessage;K.type=E,K.from=a,K.to="bg",K.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(K).catch((()=>{}))}static SendInstagramFullTextData(a,G,E){let K=q.EmptyMessage;K.type=E,K.from=a,K.to="bg",K.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(K).catch((()=>{}))}static SendFBInStreamData(a,G){let E=q.EmptyMessage;G.encodedText=G.content,G.alias=K.VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON,G.mediaType=K.VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON,G.frameId=0,G.framesChain=[],G.contentType="json",delete G.content,E.type=K.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA,E.from=a,E.to="bg",E.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).catch((()=>{}))}static SendInitRequestListener(a,G){let E=q.EmptyMessage;E.type=K.MESSAGE_TYPE_INIT_REQUEST_LISTENER,E.from=a,E.to="bg",E.content=G,o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).catch((()=>{}))}sendResponseConfigSaved(){if(this.ConfigAgent.amountTriesSaveConfig>4)return;let a=q.EmptyMessage;a.type=K.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,window.postMessage(a,"*")}}a.exports=i},8229:(a,G,E)=>{const K=E(2880);a.exports=class{constructor(a,G,E,K){this.init=!1,this.Config=K,this.chainId=a,this.frameId=G,this.bisId=E,this.documentObj=null,this.onInputsDetectedCallback=null,this.onRedirectsDetectedCallback=null,this.detectedValidationInfo={inputs:!1,redirect:!1}}Init(a,G,E){return!this.init&&a&&(this.init=!0,this.fullIdStr=K.GetFullIdStr(this.chainId,this.frameId,this.bisId),this.documentObj=a,this.onInputsDetectedCallback=G,this.onRedirectsDetectedCallback=E,this.ValidateContent()),this.init}ValidateContent(){if(!this.detectedValidationInfo.inputs){this.GetInputsAmount()>0&&!this.IsIFrameWithInputsException()&&(this.detectedValidationInfo.inputs=!0,this.onInputsDetectedCallback&&this.onInputsDetectedCallback())}this.detectedValidationInfo.redirect||this.HasRedirect()&&(this.detectedValidationInfo.redirect=!0,this.onRedirectsDetectedCallback&&this.onRedirectsDetectedCallback())}GetInputsAmount(){let a=0;try{let G=K.QuerySelectorAll(this.documentObj,"input");G&&G.length&&G.forEach((G=>{let E=G.getBoundingClientRect();E.width>0&&E.height>0&&(a+=1)}))}catch(a){}return a}IsIFrameWithInputsException(){let a=!1,G=K.QuerySelector(this.documentObj,"html");return G&&-1!==G.innerHTML.search(/var clicktag/i)&&(a=!0),a}IsWhiteListedRedirectionCode(a){let G=!1;try{if(a&&a.length&&this.Config){let E=this.Config.WhitelistRedirectionCode;for(let K=0;K<E.length&&!G;K++)a.includes(E[K])&&(G=!0)}}catch(a){}return G}HasRedirect(){let a=!1,G=K.QuerySelectorAll(this.documentObj,"script");for(let E=0;E<G.length&&!a;E++){let K=G[E].innerHTML;K.length&&K.includes("location.replace")&&(a=!this.IsWhiteListedRedirectionCode(K))}return a}}},3870:(a,G,E)=>{const K=E(9358),q=E(2880),o=E(6882),i=E(1568),D=E(4503),j=E(8229),A=E(9877),F=E(855),d=E(1245);class c{constructor(){this.id=null,this.frameId=null,this.chainId=null,this.fullIdStr="",this.init=!1,this.chainActivated=!1,this.finalFrame=!1,this.activated=!1,this.contentSenderTimer=null,this.activationInfo=null,this.IframesIO=null,this.TargetUrlDetector=null,this.ContentValidator=null,this.VideoAds=null,this.Config=null,this.recheckerInterval=null,this.PageUrl=document.location.href,this.counter=10,this.timeoutHandlerForBlockedFrame=null,this.isBlockedFrameInfoGot=!1}Init(){this.init||(this.init=!0,setTimeout(this.SendInitMessage.bind(this),700))}SetBisStatus(){document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_status","ok")}RecheckBisStatus(){document&&document.body&&document.body.getAttribute&&"ok"!==document.body.getAttribute("bis_status")&&this.SetBisStatus()}StopRechecker(){this.recheckerInterval&&(clearInterval(this.recheckerInterval),this.recheckerInterval=null)}SendInitMessage(){let a=document.querySelector("html"),G=a?a.innerHTML:"",E=o.EmptyMessage;E.type=i.MESSAGE_TYPE_IFRAME_INITIALIZATION,E.from=this.id,E.to="bg",E.content={location:document.location.href,contentForSave:{depth:this.findDepthForClosedFrame(window,0),src:document.location.href,content:K.encode(G)}},q.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).then(this.onGotInitMesResponse.bind(this)).catch((()=>{}))}findDepthForClosedFrame(a,G=0){const E=a.parent;return E&&E!==top?(G++,this.findDepthForClosedFrame(E,G)):G}onGotInitMesResponse(a){const G=a.mes.content.location;this.Config=new d(this.id,a.mes.content.configuration);const E=this.Config?.LinkedinConfig?.FEED.REGEXP_IFRAME_SRC;if(!E)throw new Error("Not found this.Config.LinkedinConfig.FEED.REGEXP_IFRAME_SRC in PosdFrameContent.onGotInitMesResponse");if(!0===new RegExp(E).test(G))this.linkedinScenario(a);else this.commonScenario(a)}commonScenario(a){if(a&&a.status&&"ok"===a.status&&o.IsValid(a.mes)&&a.mes.content.activeStatus&&(this.frameId=a.mes.content.frameId,this.fullIdStr=q.GetFullIdStr(this.chainId,this.frameId,this.id),a.mes.content.isMaster)){this.Config=new d(this.id,a.mes.content.configuration);const G=q.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),E=q.IsInFilterList(this.Config.BlacklistIframeSrc,this.PageUrl),K=q.IsInFilterList(this.Config.BlacklistKeyWordsInContent,document.querySelector("html").innerHTML);if(G||E||K)return;this.SetBisStatus(),setTimeout(this.StopRechecker.bind(this),1e4),this.recheckerInterval=setInterval(this.RecheckBisStatus.bind(this),300),this.IframesIO=new D(this.id),this.IframesIO.Init(),this.IframesIO.onGotChainActivationCallback=this.onGotChainActivation.bind(this),this.IframesIO.onGotContentMesCallback=this.onGotContentMes.bind(this),this.VideoAds=new F(this.id,this.Config,this.IframesIO,!G),document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_frame_id",this.frameId),"null"===self.origin&&(this.timeoutHandlerForBlockedFrame=setInterval((()=>{this.counter--,this.isBlockedFrameInfoGot||this.counter<=0?clearInterval(this.timeoutHandlerForBlockedFrame):this.requestHeaderInfoFromBG()}),1e3))}}linkedinScenario(a){if(!(a&&a.status&&"ok"===a.status&&o.IsValid(a.mes)))return;let G=document?.documentElement;if(!G)return;let E=G.querySelector("body");if(E){let a=1e3;E.setAttribute(i.ATTRIBUTE_BIS_ELEMENT_ID,a),E.querySelectorAll("*").forEach((G=>{a++,G.setAttribute&&(G.setAttribute(i.ATTRIBUTE_BIS_ELEMENT_ID,a),q.SetFullSizeToElement(G))}))}let K=setTimeout((()=>{let a=G.outerHTML,E=document.querySelector('span[class="ssplayer-topbar-title-text ssplayer-topbar-ellipsis"]')?.textContent;this.storeLinkedinFrameContent(a,E),clearTimeout(K)}),100)}storeLinkedinFrameContent(a,G){let E=o.EmptyMessage;E.type=i.MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE,E.from=this.id,E.to="bg",E.content={content:K.encode(a),title:G},q.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).catch((()=>{}))}requestHeaderInfoFromBG(){let a=o.EmptyMessage;a.type=i.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME,a.from=this.id,a.to="bg",a.content={src:document.location.href},q.IsOnChromeRuntime()&&(this.setMessageListenerForThisIFrame(),chrome.runtime.sendMessage(a).catch((()=>{})))}setMessageListenerForThisIFrame(){chrome.runtime.onMessage.addListener(this.callbackForHeaderInfoRequest.bind(this))}callbackForHeaderInfoRequest(a){let G=arguments.callee;if(a&&a.type&&a.type===i.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE){let E=a.parentInfo;if(chrome.runtime.onMessage.removeListener(G),E){this.isBlockedFrameInfoGot=!0;let a=A.DetectTargetUrlFromWindowObj(this.id,self,this.Config),G={depth:E.depth,headerInfo:E.headerInfo,chainId:E.chainId,configEncoded:this.Config.configEncoded,targetUrlCandidates:a.length?a:[]};this.onGotChainActivation(G)}}}onGotChainActivation(a){if(this.chainActivated)return null;if(this.chainActivated=!0,!(a&&a.headerInfo&&a.headerInfo.bisId))return null;this.id=a.headerInfo.bisId,this.IframesIO.SetId(this.id),this.chainId=a.chainId,this.fullIdStr=q.GetFullIdStr(this.chainId,this.frameId,this.id),this.StopRechecker(),this.activationInfo=a,this.Config||a.configEncoded&&a.configEncoded.length&&(this.Config=new d(this.id,a.configEncoded)),this.ContentValidator=new j(this.chainId,this.frameId,this.id,this.Config),this.ContentValidator.Init(document,this.onContentInputsDetected.bind(this),this.onContentRedirectsDetected.bind(this)),this.TargetUrlDetector=new A(this.chainId,this.frameId,this.id,this.activationInfo.targetUrlCandidates,this.Config),this.TargetUrlDetector.Init(this.IframesIO),c.SetBisId(document,window,this.id),q.SetBisDepth(document.body,a.depth),q.SetBisChainId(document.body,a.chainId),this.InjectJs();let G=setTimeout((()=>{this.onGotActivationMes(),clearTimeout(G)}),50)}onGotActivationMes(){if(!this.activated){this.activated=!0;var a=q.QuerySelectorAll(document,"iframe, frame");if(a.length)for(let G=0;G<a.length;G++){const E=a[G];if(q.SetFullSizeToElement(E,c.GetAbsoluteCoordinates(this.activationInfo)),q.GenerateAndSetBisIdToFrame(E),q.SetBisDepth(E,this.activationInfo.depth+1),q.SetBisChainId(E,this.activationInfo.chainId),q.IsIframeHasContentScript(a[G]))c.SendActivationMesToFrame(this.id,this.activationInfo.chainId,E,this.activationInfo.depth+1,this.Config);else{let a=c.GetInvalidChainSegmentContent(this.id,this.activationInfo.chainId,E,this.activationInfo.depth+1,this.Config);c.SendInvalidChainSegmentContent(this.id,a)}}this.TargetUrlDetector.DetectTargetUrl(1e3,this.onTargerUrlDetected.bind(this))}}onTargerUrlDetected(){if(!this.contentSenderTimer){let a=q.GetRandomIntInRange(0,200);this.contentSenderTimer=setTimeout(this.SendContent.bind(this),a)}}SendContent(){c.PrepareContent(this.fullIdStr,document,c.GetAbsoluteCoordinates(this.activationInfo)),c.RemoveInjectedJs(this.fullIdStr,document);let a=document.querySelector("html");if(!a)return;let G=a.outerHTML;if(G.length){let a=o.EmptyMessage;a.type=i.MESSAGE_TYPE_IFRAME_CONTENT,a.from=this.id,a.to="bg",a.content={isValid:!0,headerInfo:this.activationInfo.headerInfo,contentFinal:K.encode(G),targetUrl:this.TargetUrlDetector.FrameTargetUrl},q.IsOnChromeRuntime()&&chrome.runtime.sendMessage(a).catch((()=>{}))}}onGotChainActivationResponse(){}onGotContentMes(){}onContentInputsDetected(){this.IframesIO.SendInputsDetected()}onContentRedirectsDetected(){this.IframesIO.SendRedirectDetected()}static SetBisId(a,G,E){G&&(G.bis_id=E),a&&(a.bis_id=E),a.body&&a.body.setAttribute&&a.body.setAttribute("bis_body_id",E)}static RemoveInjectedJs(a,G){try{let a=G.head.querySelectorAll("script[bis_script]");if(a&&a.length)for(let G=0;G<a.length;G++)a[G].remove()}catch(a){}}static GetAbsoluteCoordinates(a){return{x:a.headerInfo.size.abs_x,y:a.headerInfo.size.abs_y}}static PrepareContent(a,G,E){for(var K=q.QuerySelectorAll(G,"*:not(html):not(script):not(head):not(meta):not(link):not(title):not(style):not(param)"),o=0;o<K.length;o++){var i=K[o];if(i)try{var D=!1,j=window.getComputedStyle(i).backgroundImage;if(j&&j.length&&"none"!=j&&j.includes("url")&&(j=j.replace(/"/g,"'"),D=!0),i.hasAttribute("style")){var A=i.getAttribute("style");A&&i.setAttribute&&(A=A.replace(/"/g,"'"),i.setAttribute("style",A),D&&(i.style.cssText+="background-image: "+j+";",i.setAttribute("bis_label","style")))}else D&&i.setAttribute&&(i.setAttribute("style","background-image: "+j+";"),i.setAttribute("bis_label","style"));try{if(i.attributes&&i.attributes.length)for(var F=0;F<i.attributes.length;F++)i.attributes[F]&&i.attributes[F].value&&i.attributes[F].value.length&&"src"!==i.attributes[F].name&&i.attributes[F].value.includes('"')&&(i.attributes[F].value=i.attributes[F].value.replace(/"/g,"'"))}catch(a){}q.SetFullSizeToElement(i,E)}catch(a){}}}static ExtractContent(a,G){return G.document.querySelector("html").outerHTML}static GetFrameHeaderInfo(a,G,E){let q={depth:E,chainId:a,frameId:G.id,src:G.src,size:JSON.parse(G.getAttribute("bis_size")),bisId:G.getAttribute("bis_id")};return 0===E&&(q.topHeaderContent=K.encode(G.outerHTML)),q}static SendActivationMesToFrame(a,G,E,D,j){let F=!1;try{const d=document.querySelector("body"),Q=self===top?0:d?+d.getAttribute("bis_frame_id"):null;let J="";if(j&&j.GetConfigEncoded&&(J=j.GetConfigEncoded()),E){let d,N=o.EmptyMessage;try{d=E.contentWindow&&Object.keys(E.contentWindow).includes("origin")?E.contentWindow.origin:E.src}catch(a){d=E.src}N.type=i.MESSAGE_TYPE_CHAIN_ACTIVATION,N.from=a,N.to="fr",N.content={chainId:G,depth:D,headerInfo:c.GetFrameHeaderInfo(G,E,D),configEncoded:J,targetUrlCandidates:[]};let u=o.EmptyMessage;if(u.type=i.MESSAGE_TYPE_HEADER_INFO_TO_STORAGE,u.from=a,u.to="bg",u.content={chainId:G,depth:D,frameId:Q,headerInfo:c.GetFrameHeaderInfo(G,E,D)},q.IsOnChromeRuntime()&&chrome.runtime.sendMessage(u).catch((()=>{})),q.IsIframeSecure(E)){if(E.contentWindow&&E.contentWindow.postMessage)try{E.contentWindow.postMessage(N,d)}catch(a){}}else{try{let G=A.DetectTargetUrlFromWindowObj(a,E.contentWindow,j);G.length&&(N.content.targetUrlCandidates=G)}catch(a){}E.contentWindow.document.body.setAttribute&&E.contentWindow.document.body.setAttribute("bis_activation",K.encode(JSON.stringify(N)))}F=!0}}catch(a){}return F}static GetInvalidChainSegmentContent(a,G,E,o,i){let D={},j=!1,F=c.GetFrameHeaderInfo(G,E,o),d={x:F.size.x,y:F.size.y};try{let Q=q.QuerySelectorAll(E.contentWindow.document,"iframe, frame");if(0===Q.length)j=!0;else{j=!1;for(let E=0;E<Q.length;E++)q.SetFullSizeToElement(Q[E],d),q.GenerateAndSetBisIdToFrame(Q[E]),q.SetBisDepth(Q[E],o+1),c.SendActivationMesToFrame(a,G,Q[E],o+1,i)}c.PrepareContent(a,E.contentWindow.document,d),D.isValid=!1,D.isChainCompleted=j,D.headerInfo=F,D.contentFinal=K.encode(c.ExtractContent(a,E.contentWindow)),D.targetUrl=A.DetectTargetUrlFromWindowObj(a,E.contentWindow,i)}catch(a){}return D}static SendInvalidChainSegmentContent(a,G){if(G){let E=o.EmptyMessage;E.type=i.MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT,E.from=a,E.to="bg",E.content=G,q.IsOnChromeRuntime()&&chrome.runtime.sendMessage(E).catch((()=>{}))}}InjectJs(){if(this.#a())return;let a=document.createElement("script"),G=document.querySelector("head");this.setAttributes(a),G&&G.appendChild(a)}setAttributes(a){const G=q.getURL("../executors/frame.js");a.setAttribute("bis_use","true"),a.setAttribute("bis_script","display"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("bis_id",this.id),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),a.src=G}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("frame.js")))}}a.exports=c},4430:(a,G,E)=>{const K=E(8384),q=E(2880),o=E(1568),i=E(9346),D=E(3870),j=E(5364);a.exports=class extends i{constructor(a,G,E,K){super(a),this.Config=G,this.HTML5AdsConfig=this.Config.Html5AdsConfig,this.IOManager=E,this.IOManager.onGotHTML5CandidatesExtractionStatusesCallback=this.onGotHTML5CandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=K,this.topFramesCandidates=[],this.onDetectedCallback=null,this.chainIdCounter=0,this.maxTriesForPreciseAds=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.MAX_TRIES_FIND_ADS}ActivateDetector(){this.Activated(),this.sequentialDetection().catch((()=>{}))}async sequentialDetection(){let a=await this.asyncStartDetectPreciseAds();this.startDetectCandidates(a)}startDetectCandidates(a){a?setInterval(this.startDetectPreciseAds.bind(this),600):setTimeout(this.sequentialDetection.bind(this),500)}startDetectPreciseAds(){this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter();let a=this.detectByQuerySelectors();if(!a.length)return void this.startDetectHTML5AdsCandidates();let G=0;for(let E=0;E<a.length;E++){const K=a[E];K.setAttribute&&(K.setAttribute(o.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(K,!0),this.addRedBorderForCandidates(K),G++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(K))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.startToProcessCandidates(G),this.startDetectHTML5AdsCandidates()}asyncStartDetectPreciseAds(){return new Promise((a=>{this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter(),this.maxTriesForPreciseAds<=0&&(this.maxTriesForPreciseAds--,a(!0));let G=this.detectByQuerySelectors();if(!G.length)return a(!1),void this.maxTriesForPreciseAds--;let E=0;for(let a=0;a<G.length;a++){const K=G[a];K.setAttribute&&(K.setAttribute(o.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(K,!0),this.addRedBorderForCandidates(K),E++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(K))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.maxTriesForPreciseAds--,this.startToProcessCandidates(E),a(G.length>0)}))}detectByQuerySelectors(){const a=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.QUERY_SELECTORS;let G=[];for(let E of a){let a=Array.from(q.QuerySelectorAll(document,`${E}:not([${o.ATTRIBUTE_BIS_PRECISE_AD}]):not([${o.ATTRIBUTE_BIS_SIZE}])`));a.length&&(G=G.concat(...a))}return G}startDetectHTML5AdsCandidates(){let a=q.QuerySelectorAll(document,this.HTML5AdsConfig.QUERIES.IFRAMES_COLLECTION),G=0;if(a.length){for(let E=0;E<a.length;E++){const K=a[E];if(K.getAttribute(o.ATTRIBUTE_BIS_PRECISE_AD))continue;let i=K.src?K.src.toLowerCase():K.src;this.preCheckFrameContent(K)&&(q.IsInFilterList(this.Config.BlacklistIframeSrc,i)||q.IsInFilterList(this.Config.BlacklistIframeId,K.id)?q.SetFullSizeToElement(K):!this.IsFrameFromSite(i)||q.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,i)?(this.buildCandidateObject(K,!1),G+=1,this.addRedBorderForCandidates(K)):q.SetFullSizeToElement(K))}G>0&&this.startToProcessCandidates(G)}}startToProcessCandidates(a){j.SendHtml5CandidatePlacements(this.id,a,null);for(let a=0;a<this.topFramesCandidates.length;a++)this.topFramesCandidates[a].status===o.CANDIDATE_PROCESS_STATUS_DETECTED&&(this.topFramesCandidates[a].status=o.CANDIDATE_PROCESS_STATUS_START_PROCESSING,setTimeout((()=>{this.ActivateCandidateProcessing(this.topFramesCandidates[a])}),3e3+q.GetRandomIntInRange(0,500)))}buildCandidateObject(a,G){let E=a.getBoundingClientRect();if(!G&&E.width<=70&&E.height<=40&&E.height>=1100)return;q.SetFullSizeToElement(a);let K=q.GenerateAndSetBisIdToFrame(a);this.chainIdCounter=this.chainIdCounter+1;let i={ticketId:this.TicketId,pageUrl:this.PageUrl,bisId:K,chainId:this.chainIdCounter,detectionTime:(new Date).getTime(),processingStartTime:null,frame:a,isSecure:q.IsIframeSecure(a),hasContentScript:q.IsIframeHasContentScript(a),status:o.CANDIDATE_PROCESS_STATUS_DETECTED};this.topFramesCandidates.push(i),q.SetBisDepth(a,0),q.SetBisChainId(a,this.chainIdCounter)}preCheckFrameContent(a){if(!a.contentDocument)return!0;const G=a.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.ACCEPTABLE_NODES_IN_IFRAME),E=a.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.UNACCEPTABLE_NODES_IN_IFRAME);let K=!1;return G.length&&!E.length&&(K=!0),K}onGotHTML5CandidatesExtractionStatuses(a){if(a&&a.length)for(let G=0;G<a.length;G++)if(this.AdBlockerAgent.IsEnabled()&&a[G].extractionStatus.filteredOut)this.UnhideElement(q.QuerySelector(document,`iframe[bis_chainid="${a[G].chainId}"]`));else if(K.ta&&K.ra){let E=q.QuerySelector(document,`iframe[bis_chainid="${a[G].chainId}"]`);E&&q.UpdateCandidateStatusBorderColor(E,a[G].extractionStatus)}}ActivateCandidateProcessing(a){if(a&&a.status&&a.status===o.CANDIDATE_PROCESS_STATUS_START_PROCESSING){a.processingStartTime=(new Date).getTime(),a.status=o.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED;let G=q.IsIframeSecure(a.frame);a.isSecure!==G&&(a.isSecure=G);let E=q.IsIframeHasContentScript(a.frame);if(a.hasContentScript!==E&&(a.hasContentScript=E),a.hasContentScript)D.SendActivationMesToFrame(this.id,a.chainId,a.frame,0,this.Config);else{let G=D.GetInvalidChainSegmentContent(this.id,a.chainId,a.frame,0,this.Config);if(K.ta&&K.ra&&G.isChainCompleted){let E={fullContentExtracted:!1,targetUrlExtracted:!1,sentToBackend:!1};G.contentFinal&&G.contentFinal.length&&(E.fullContentExtracted=!0),G.targetUrl&&G.targetUrl.length&&(E.targetUrlExtracted=!0),q.UpdateCandidateStatusBorderColor(a.frame,E)}D.SendInvalidChainSegmentContent(this.id,G)}}}GetPrebuildInfo(){let a=[],G=(new Date).getTime();for(let E=0;E<this.topFramesCandidates.length;E++)this.topFramesCandidates[E].status===o.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED&&(this.topFramesCandidates[E].status=o.CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT,a.push({ticketId:this.topFramesCandidates[E].ticketId,pageUrl:this.topFramesCandidates[E].pageUrl,bisId:this.topFramesCandidates[E].bisId,chainId:this.topFramesCandidates[E].chainId,timeAfterDetection:G-this.topFramesCandidates[E].detectionTime,timeAfterProcessingStart:G-this.topFramesCandidates[E].processingStartTime}));return a}IsFrameFromSite(a){let G=!1,E=a;if(E.length){let K=E.indexOf("?");K>0?E=a.substring(0,K):(K=E.indexOf("#"),K>0&&(E=a.substring(0,K))),-1!==E.indexOf(window.location.host)?G=!0:q.isValidUrl(E)||"about:blank"===E||(G=!0)}return G}}},4503:(a,G,E)=>{const K=E(6882),q=E(1568),o=E(2880),i=E(9358),D=E(1104);a.exports=class{constructor(a){this.id=a,this.init=!1,this.AtrMessageListeners=[],this.webNavigationIframes=[],this.chainActivationListernerIntervalId=null,this.onWindowEmbeddedTargetUrlDetectionCallback=null,this.onGotContentMesCallback=null,this.onGotChainActivationCallback=null,this.onGotVideoXHRTrafficCallback=null,this.chainActivationEventProcessed=!1,this.processedMessages=[]}IsInit(){return this.init}get Context(){return this}SetId(a){this.id=a,this.AtrMessageListener&&this.AtrMessageListener.SetId(a)}Init(){this.init||(this.init=!0,window.addEventListener("message",(a=>{try{var G=a.data;this.ProcessWindowMessage(G)}catch(a){}}),!1),o.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((a=>{var G=a;K.IsValid(G)&&(G.type===q.MESSAGE_TYPE_GET_FRAME_CONTENT?G.multiTo.includes(this.id)&&(this.webNavigationIframes=G.content,this.onGotContentMesCallback&&this.onGotContentMesCallback()):G.type===q.MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK&&G.multiTo.includes(this.id)&&this.ActivateWindowClickTargetUrlDetection(G.content))})),this.chainActivationListernerIntervalId=setInterval((()=>{try{if(!this.chainActivationEventProcessed&&document&&document.body){let a=document.body.getAttribute("bis_activation");if(a&&a.length){let G=i.decode(a);if("{"===G[0]&&"}"===G[G.length-1]){let a=JSON.parse(G);K.IsValid(a)&&a.type===q.MESSAGE_TYPE_CHAIN_ACTIVATION&&(this.chainActivationEventProcessed=!0,clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null,document.body.setAttribute("bis_activation","done"),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(a.content))}}document.body.removeAttribute("bis_activation")}}catch(a){}}),500))}ProcessWindowMessage(a){K.IsValid(a)&&a.posdHash&&!this.processedMessages.includes(a.posdHash)&&(a.posdHash&&a.posdHash.length&&this.processedMessages.push(a.posdHash),a.type===q.MESSAGE_TYPE_CHAIN_ACTIVATION?(this.chainActivationListernerIntervalId&&(clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(a.content)):a.type===q.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND?this.onWindowEmbeddedTargetUrlDetectionCallback&&this.onWindowEmbeddedTargetUrlDetectionCallback(a.content.targetUrlList):a.type===q.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND?(a.to="bg",o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(a).catch((()=>{}))):a.type===q.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE&&this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback(a.content))}ActivateWindowEmbeddedTargetUrlDetection(a){try{this.onWindowEmbeddedTargetUrlDetectionCallback=a;let E=K.EmptyMessage;E.type=q.MESSAGE_TYPE_GET_WINDOW_TARGET_URL,E.from=this.id,E.to=this.id+"_w",window.postMessage&&window.postMessage(E,"*");var G=new D(this.id,this.ProcessWindowMessage.bind(this));G.ActivateMesToFrameContentListener(q.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND),this.AtrMessageListeners.push(G)}catch(a){}}ActivateWindowClickTargetUrlDetection(a){try{let E=K.EmptyMessage;E.type=q.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL,E.from=this.id,E.to=this.id+"_w",E.content=a,window.postMessage&&window.postMessage(E,"*");var G=new D(this.id,this.ProcessWindowMessage.bind(this));G.ActivateMesToFrameContentListener(q.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL),this.AtrMessageListeners.push(G)}catch(a){}}SendInputsDetected(){let a=K.EmptyMessage;a.type=q.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS,a.from=this.id,a.to="bg",o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(a).catch((()=>{}))}SendRedirectDetected(){let a=K.EmptyMessage;a.type=q.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS,a.from=this.id,a.to="bg",o.IsOnChromeRuntime()&&chrome.runtime.sendMessage(a).catch((()=>{}))}}},3129:(a,G,E)=>{const K=E(2880),q=E(1568),o=E(7584),i=E(1153),D=E(5364),j=E(3522),A=E(3326),F=E(1245),d=E(7376);a.exports=class{constructor(){this.id=null,this.tabId=null,this.init=!1,this.panalyticsId="",this.adsCandidatesDetectionInterval=null,this.ticket=null,this.cycleNumber=0,this.RefreshTicket(),D.SendNewPageCreatedTicket(K.ToJSON(this.ticket))}RefreshTicket(){this.pageUrl=document.location.href,this.ticketId=K.GenerateUUID(),this.cycleNumber=0,this.ticket=o.GetSingleOutTicket(this.panalyticsId,this.ticketId,this.tabId),this.init&&this.AdsManager&&this.AdsManager.PageRefreshed(this.pageUrl,this.ticketId)}Init(){this.init||D.SendInitMes({ticketId:this.ticketId,url:this.pageUrl},this.onGetInitConfig.bind(this))}onGetInitConfig(a){return a.activeStatus?this.init?null:(this.init=!0,this.tabId=a.tabId,this.id="mp_"+a.tabId,this.panalyticsId=a.panalyticsId,this.ticket.tabId=this.tabId,this.ticket[q.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.Config=new F(this.id,a.configuration),this.IOManager=new D(this.id,this.Config),this.IOManager.onTabUrlChanged=this.onTabUrlChanged.bind(this),this.IOManager.manualSendTicket=this.prepareAndSendTicket.bind(this),this.IOManager.Init(),this.AdBlockerAgent=new j(this.id,this.IOManager),this.AdBlockerAgent.Init(a.adBlockerStatus,a.excludeList,a.tabId),this.AdsManager=new i(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.PanelsRegulator=new d(this.id),this.PanelsRegulator.Init(this.AdBlockerAgent,this.onGotRegulatorRespond.bind(this)),void(a.activeAdBlockInspectorAgent&&(this.AdBlockInspectorAgent=new A(this.id),this.AdBlockInspectorAgent.Init(this.Config.GetAdBlockInspectorConfig())))):null}onGotRegulatorRespond(a){return!!this.init&&(!!a&&(this.adsCandidatesDetectionInterval=setInterval(this.onAdsCandidatesDetected.bind(this),1e4),this.AdsManager.ActivateAdsdetectors(),D.SendNewPageCreatedTicket(K.ToJSON(this.ticket)),void D.SendPanelRegulatorResult(a)))}onTabUrlChanged(a){return!(!a?.newUrl||!a?.initedTicketId)&&((a.newUrl!==this.pageUrl||a.initedTicketId===this.ticketId)&&(this.RefreshTicket(),D.SendSinglePageReinitMes({ticketId:this.ticketId,url:this.pageUrl}),void D.SendNewPageCreatedTicket(K.ToJSON(this.ticket))))}onAdsCandidatesDetected(){return!!this.init&&(K.IsOnChromeRuntime()?!!this.panalyticsId.length&&void this.prepareAndSendTicket():(this.adsCandidatesDetectionInterval&&clearInterval(this.adsCandidatesDetectionInterval),!1))}prepareAndSendTicket(){this.cycleNumber=this.cycleNumber+1,this.ticket[q.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.ticket.windowSize=K.GetWindowSize(),this.ticket.firstVisit=this.cycleNumber<=1,this.ticket.adCandidatesHtml5=this.AdsManager.GetHtml5CandidatesPrebuildInfo(),this.IOManager.SendTicket(K.ToJSON(this.ticket))}}},7376:(a,G,E)=>{const K=E(8384),q=E(1568),o=E(2880),i=E(9358);a.exports=class{constructor(a){this.id=a,this.init=!1,this.extensionId=""+chrome.runtime.id,this.AdBlockerAgent=null,this.onInitCallback=null}Init(a,G){!this.init&&a&&(this.onInitCallback=G,this.init=!0,this.AdBlockerAgent=a,document.readyState===q.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.ActivateRegulator.bind(this)):document.readyState!==q.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==q.DOCUMENT_READYSTATE_COMPLETE||this.ActivateRegulator())}ActivateRegulator(){this.RegisterPanel(),setTimeout(this.Regulate.bind(this),500)}Regulate(){let a=!0,G="",E=[];try{let K=document.body.getAttribute("bis_register");if(K&&K.length){E=JSON.parse(i.decode(K));for(let a=0;a<E.length&&0===G.length;a++)E[a].master&&(G=E[a].extensionId);G.length&&this.extensionId!==G&&(a=!1)}}catch(a){}this.onInitCallback&&this.onInitCallback(a)}GetPanelScore(){let a=K.ba.split("."),G=1e4*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2]),E=this.AdBlockerAgent.GetStatus();return o.IsFacebookUrl(document.location.href)?E[q.ADBLOCKER_FOR_FACEBOOK]===q.ADBLOCKER_STATUS_ENABLED&&(G*=10):o.IsTwitterUrl(document.location.href)?E[q.ADBLOCKER_FOR_TWITTER]===q.ADBLOCKER_STATUS_ENABLED&&(G*=10):o.IsRedditUrl(document.location.href)?E[q.ADBLOCKER_FOR_REDDIT]===q.ADBLOCKER_STATUS_ENABLED&&(G*=10):E[q.ADBLOCKER_FOR_DISPLAY]===q.ADBLOCKER_STATUS_ENABLED&&(G*=10),G}UpdateRegister(a){let G={master:!0,extensionId:this.extensionId,adblockerStatus:this.AdBlockerAgent.GetStatus(),version:K.ba,score:this.GetPanelScore()},E=!0;for(let K=0;K<a.length&&E;K++)a[K].extensionId===this.extensionId&&(E=!1,a[K]=G);E&&a.push(G)}ChooseWinner(a){if(a&&a.length)if(1===a.length);else{let G=0,E=a[G].score;for(let K=0;K<a.length;K++)a[K].master=!1,a[K].score>E&&(E=a[K].score,G=K);a[G].master=!0}}RegisterPanel(){try{let a=[],G=document.body.getAttribute("bis_register");G&&G.length&&(a=JSON.parse(i.decode(G))),this.UpdateRegister(a),this.ChooseWinner(a),document.body.setAttribute("bis_register",i.encode(JSON.stringify(a)))}catch(a){}}}},7235:(a,G,E)=>{const K=E(2880),q=E(8384),o=E(9346),i=E(5364),D=E(1568);a.exports=class extends o{constructor(a,G,E,K){super(a),this.Config=G,this.skinAdsConfig=G.config.skinAdsConfig,this.IOManager=E,this.IOManager.onGotSkinAdCandidatesExtractionStatusesCallback=this.onGotSkinAdCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=K}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),500),setInterval((()=>{this.DetectCandidates()}),1e3)}SendCandidatesToBackground(){this.Candidates.length&&i.SendAdCandidates(this.id,this.Candidates,D.MESSAGE_TYPE_CANDIDATES_DATA_SKINADS,null)}DetectCandidates(){this.ClearCandidates(),this.GetSkinAdFromBodyBackground(),0==this.CandidatesCount&&this.GetSkinAdFromDivBackground(),this.SendCandidatesToBackground()}GetSkinAdFromBodyBackground(){var a,G={source:[],targetUrl:[]},E=document.body;if(E&&!E.hasAttribute("bis_skin_checked")&&(a=K.GetUrlFromStyleStr(window.getComputedStyle(E).backgroundImage)),a&&K.isValidUrl(a)){E.setAttribute("bis_skin_checked","1");var q={type:"single",src:a,size:K.GetFullElementSize(E)};G.source.push(q);for(var o=K.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION),i=0;i<o.length;i++){var D=o[i];D.setAttribute&&D.setAttribute("bis_skin_checked","1");var j=D.getBoundingClientRect(),A=D.firstElementChild?D.firstElementChild.getBoundingClientRect():null;D.href&&(j.width>50&&j.height>=100&&0==j.left||A&&A.width>50&&A.height>=100&&0==A.left)&&K.isValidUrl(D.href)&&!G.targetUrl.includes(D.href)&&G.targetUrl.push(D.href),this.findElementsByHref(G.targetUrl,D)}}G.source.length&&G.targetUrl.length&&this.AddCandidate(G)}GetSkinAdFromDivBackground(){let a={source:[],targetUrl:[]},G=!1,E=K.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_DIV_COLLECTION);for(let q=0;q<E.length&&!G;q++){let o=E[q];o.setAttribute&&o.setAttribute("bis_skin_checked","1");let i=o.getBoundingClientRect();if(i.width>50&&i.height>500&&0==i.left){let E=K.GetUrlFromStyleStr(window.getComputedStyle(o).backgroundImage);if(E&&K.isValidUrl(E)){let q={type:"single",src:E,size:K.GetFullElementSize(o)};a.source.push(q),G=!0}}}if(G){let G=K.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION);for(let E=0;E<G.length;E++){let q=G[E];q.setAttribute&&q.setAttribute("bis_skin_checked","1");let o=q.getBoundingClientRect();q.href&&0==o.left&&(o.width>50&&o.height>500||o.width>500&&o.height>50)&&K.isValidUrl(q.href)&&!a.targetUrl.includes(q.href)&&a.targetUrl.push(q.href)}}a.source.length&&a.targetUrl.length&&this.AddCandidate(a)}findElementsByHref(a,G){const E=G.href;a.includes(E)&&(this.SetBorderToCandidate(G),G.setAttribute("bis_skin_element","1"))}SetBorderToCandidate(a){const G=a.getBoundingClientRect();a&&(G.width>1&&G.height>1?a.style.cssText+="border: 6px solid red !important; display: block;":a.firstElementChild.style.cssText+="border: 6px solid red !important; display: block;")}onGotSkinAdCandidatesExtractionStatuses(a){if(q.ta&&q.ra&&a&&a.length)for(let G=0;G<a.length;G++){let E=K.QuerySelectorAll(document,a[G].query);E&&E.forEach((E=>{E&&K.UpdateCandidateStatusBorderColor(E,a[G].extractionStatus)}))}}}},7584:(a,G,E)=>{const K=E(8384),q=E(2880),o=E(1568);a.exports=class{static GetSingleOutTicket(a,G,E){let i={tabId:E,ticketFormatVersion:3,partnerId:K.ua,distributorId:K.sa,ticketId:G,firstVisit:!1,url:document.location.href,userAgent:navigator.userAgent,creationTime:q.GetCurrentDataTimeStr(),windowSize:q.GetWindowSize(),timeOnPage:0,adCandidatesSkinAd:[],adCandidatesBanner:[],adCandidatesHtml5:[],adsFacebook:[],adsTwitter:[],adsReddit:[],adsPinterest:[],adsInstagram:[],adsLinkedin:[],adsTiktok:[],adCandidatePlacements:{skinAd:0,banner:0,html5:0,facebook:0,twitter:0,reddit:0,pinterest:0,tiktok:0,instagram:0,linkedin:0},videoTraffics:[],activeAdBlocker:!1};i[o.TICKET_ALIAS_PANALYTICSID]=a,i[o.TICKET_ALIAS_PINSTANCEID]=K.Na;let D=q.GetBaseHref();""!==D&&(i.base=D);let j=chrome.runtime.getManifest();return i.extensionVersion=j.version,i.panelosVersion=K.ba,i}}},855:(a,G,E)=>{const K=E(1568),q=E(9358),o=E(2880),i=E(1936),D=E(2938),j=E(8940),A=E(5364);a.exports=class{constructor(a,G,E){this.id=a,this.Config=G,this.IOManager=E,this.onDetectVideoHarCallback=null,this.VideoTrafficValidator=new j(this.id,this.Config),this.VideoTrafficDetector=new D(this.id),this.VideoTrafficDetector.InjectXhrDetector(this.Config),this.IOManager.onGotVideoXHRTrafficCallback=this.ProcessVideoXHRTraffic.bind(this)}ActivateDetector(){this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS()}PageRefreshed(a,G){o.IsYouTubeUrl(a)||(this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS())}CheckVideoTrafficInHTML(){let a=new i(K.VIDEO_TRAFFIC_SOURCE_HTML,"GET",window.location.href,"text/html",document.documentElement.outerHTML),G=this.VideoTrafficValidator.Validate(a);G&&this.SendVideoTraffic(a,G)}CheckVideoTrafficInJS(){let a=o.QuerySelectorAll(document,"script");for(let G=0;G<a.length;G++){let E=new i(K.VIDEO_TRAFFIC_SOURCE_JS,"GET",a[G].src,"text/javascript",a[G].innerHTML),q=this.VideoTrafficValidator.Validate(E);q&&this.SendVideoTraffic(E,q)}}ProcessVideoXHRTraffic(a){if(i.IsXHRvalid(a)){let G=new i(K.VIDEO_TRAFFIC_SOURCE_XHR,a.requestMethod,a.url,a.type,a.content,a.encodedPostBody),E=this.VideoTrafficValidator.Validate(G);E&&this.SendVideoTraffic(G,E)}}SendVideoTraffic(a,G){if(a&&G){let E={requestMethod:a.GetRequestMethod(),url:a.GetUrl(),contentType:a.GetType(),mediaType:G.name,alias:G.alias};if(a.IsEncodedPostBodyExist()&&(E.encodedPostBody=a.GetEncodedPostBody()),G.reduceSizeFilter&&G.reduceSizeFilter.active){let K;if(null!==(K=j.CreateRegExp(G.reduceSizeFilter.reducePattern).exec(a.GetContent()))&&K.length>0&&Math.max(...G.reduceSizeFilter.regResIndexes)<K.length){let a=K.filter(((a,E)=>G.reduceSizeFilter.regResIndexes.includes(E)));E.encodedText=q.encode(a.join(" "))}}else E.encodedText=q.encode(a.GetContent());A.SendVideoHar(this.id,E)}}}},1936:(a,G,E)=>{const K=E(9358);a.exports=class{constructor(a,G,E,K,q,o=null){this.trafficSource=a,this.requestMethod=G,this.url=E,this.type=K,this.content=q,this.SetEncodedPostBody(o)}static IsXHRvalid(a){return a&&a.hasOwnProperty("requestMethod")&&a.hasOwnProperty("url")&&""!==a.url}SetEncodedPostBody(a){a&&"string"==typeof a&&a.length>0&&(this.encodedPostBody=K.encode(a))}GetEncodedPostBody(){return this.encodedPostBody?this.encodedPostBody:null}IsEncodedPostBodyExist(){return!!this.encodedPostBody}GetTrafficSource(){return this.trafficSource}GetRequestMethod(){return this.requestMethod}GetUrl(){return this.url}GetType(){return this.type}GetContent(){return this.content}SetContent(a){this.content=a}SetUrl(a){this.url=a}}},2938:(a,G,E)=>{const K=E(2880);a.exports=class{constructor(a){this.id=a}InjectXhrDetector(a){if(!this.#a()&&document.head){let G=document.createElement("script");this.setAttributes(G,a),document.head.appendChild(G)}}setAttributes(a,G){const E=K.getURL("../executors/traffic.js");a.setAttribute("bis_use","true"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("data-bis-config",JSON.stringify(G.config.filterLists.blacklistIframeSrc)),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),a.src=E}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("traffic.js")))}}},8940:(a,G,E)=>{const K=E(1568);class q{constructor(a,G){this.id=a,this.Config=G}Validate(a){let G=[],E=!1;if(a&&(a.GetTrafficSource()===K.VIDEO_TRAFFIC_SOURCE_HTML?(G=this.Config.GetVideoValidatorsForHTML(),E=!0):a.GetTrafficSource()===K.VIDEO_TRAFFIC_SOURCE_XHR?(G=this.Config.GetVideoValidatorsForXHR(),E=!0):a.GetTrafficSource()===K.VIDEO_TRAFFIC_SOURCE_JS&&(G=this.Config.GetVideoValidatorsForJS(),E=!0),E))for(let E of G){if(this.ValidateUseConfiguration(a,E))return this.specificFilterCandidate(a,E)}return!1}ValidateUseConfiguration(a,G){const E=Object.keys(G);let K=[];for(let a of E)-1!==a.indexOf("Pattern")&&K.push(a);let o=0,i={domainPattern:"GetUrl",mimePattern:"GetType",contentPattern:"GetContent"};for(let E of K)try{let K=q.CreateRegExp(G[E]),D=i[E];o+=K.test(a[D]())?1:0}catch(a){}return o===K.length}static CreateRegExp(a){let G=a.replace(/.*\/([gimy]*)$/,"$1"),E=a.replace(new RegExp("^/(.*?)/"+G+"$"),"$1");return new RegExp(E,G)}specificFilterCandidate(a,G){return!(!a.IsEncodedPostBodyExist()&&"YT_FORCING_KEY"===G.alias)&&G}}a.exports=q},655:(a,G,E)=>{const K=E(2880),q=E(1568);a.exports=class{constructor(a,G,E){this.id=a,this.options=G,this.AdBlockerAgent=E,this.active=!1,this.lastDetectTime=K.GetCurrentTimestampMs()-1e3,this.activateDetectorTime=K.GetCurrentTimestampMs(),this.detectorInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.isObserverAlreadySet=!1,this.onScrollListenerHandler=null,this.onScrollListenerIsOn=!1,this.onScrollCallback=null}ActualizeDetector(){}ActivateMutationObserver(){}DeactivateMutationObserver(){}Detector(){}HideAd(a,G,E){}CheckIfAd(a){}CheckIfAdRendered(a){}ExtractAd(a){}ActivateDetector(){this.active||(this.activateDetectorTime=K.GetCurrentTimestampMs(),this.active=!0,this.options.firstDetectionAfterActivationTimeoutMs&&this.options.firstDetectionAfterActivationTimeoutMs>0&&setTimeout((()=>{this.DetectCandidates(q.AD_DETECTOR_INITIATOR_ACTIVATION)}),this.options.firstDetectionAfterActivationTimeoutMs),this.startIntervalDetectCandidates(q.AD_DETECTOR_INITIATOR_TIMER),this.options.useObserver&&this.IsActualByKeyWordInUrl&&(this.observerNodesListenerInterval=setInterval((()=>{this.observerNodesChecksAmount=this.observerNodesChecksAmount+1,this.ActivateMutationObserver(),(this.isObserverAlreadySet||this.observerNodesChecksAmount>this.options.observerNodesChecksMaxAmount)&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.activateOnScrollEvent())}),this.options.observerNodesCheckIntervalMs)))}DeactivateDetector(a){a===q.AD_DETECTOR_INITIATOR_URL&&(this.DeactivateMutationObserver(),(this.onScrollCallback||this.onScrollListenerIsOn)&&(window.removeEventListener("scroll",this.onScrollCallback),this.onScrollCallback=null,this.onScrollListenerIsOn=!1,this.onScrollListenerHandler&&(clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null))),this.detectorInterval&&(clearInterval(this.detectorInterval),this.detectorInterval=null),this.observerNodesListenerInterval&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0),this.activateDetectorTime=K.GetCurrentTimestampMs(),this.lastDetectTime=K.GetCurrentTimestampMs()-1e3,this.active=!1}DetectCandidates(a,G){if(!this.ActualizeDetector()||!this.IsActualByKeyWordInUrl)return void this.checkLimits(a);let E=K.GetCurrentTimestampMs();K.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs?(this.checkLimits(a),G&&this.startIntervalDetectCandidates(a)):E-this.lastDetectTime>this.options.minTimeAfterLastDetectionMs&&(this.lastDetectTime=E,this.Detector())}get IsActualByKeyWordInUrl(){const a=this.options.urlInvalidKeyWord,G=this.options.urlValidationByKeyWord;if(!a&&!G)return!0;const E=window.location.href;let K=!!a&&a.some((a=>E.includes(a))),q=!G||E.includes(G);return!K&&q}checkLimits(a){return!this.options.maxActualizeDetectorWaitTimeMs||(!(K.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs)||(this.DeactivateDetector(a),!1))}activateOnScrollEvent(){this.options.useOnScroll&&!this.onScrollListenerIsOn&&this.IsActualByKeyWordInUrl&&this.ActualizeDetector()&&(this.onScrollCallback=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0)}onScroll(a){this.DetectCandidates(q.AD_DETECTOR_INITIATOR_SCROLL_EVENT),this.startIntervalDetectCandidates(q.AD_DETECTOR_INITIATOR_SCROLL_EVENT),window.removeEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!1,this.onScrollListenerHandler=setTimeout((()=>{window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0,clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null}),this.options.onScrollTimeout)}startIntervalDetectCandidates(a){this.detectorInterval||(this.detectorInterval=setInterval((()=>{this.DetectCandidates(a)}),this.options.detectionIntervalMs))}}},97:(a,G,E)=>{const K=E(8384),q=E(2880),o=E(9358),i=E(1568),D=E(9346),j=E(5364),A=E(7678),F=E(6335),d=E(7948),c=E(1899),Q=E(2300),J=E(1454);a.exports=class extends D{constructor(a,G,E){super(a),this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.fbConfig=G.FacebookConfig,this.AdBlockerAgent=E,this.VideoTrafficDetector=new J(this.id),this.VideoTrafficDetector.InjectDetector()}onPageUrlChanged(a,G){this.available&&setTimeout((()=>{this.DeactivateDetectors(i.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetector(a){a===i.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.fbContent=document.querySelector(this.fbConfig.FB_CONTENT),this.fbContent&&(this.DetectorFeed=new F(this.id,this.fbConfig.FEED_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorFeed.HideAd=this.HideAd.bind(this),this.DetectorFeed.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorFeed.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorRightColumn=new c(this.id,this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorRightColumn.HideAd=this.HideAd.bind(this),this.DetectorRightColumn.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorRightColumn.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorWatch=new d(this.id,this.fbConfig.FEED_WATCH_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorWatch.HideAd=this.HideAd.bind(this),this.DetectorWatch.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorWatch.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorMarketplace=new Q(this.id,this.fbConfig.MARKETPLACE_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorMarketplace.HideAd=this.HideAd.bind(this),this.DetectorMarketplace.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorMarketplace.ExtractAd=this.ProcessFbCreative.bind(this),this.ActivateDetectors())}ActivateDetectors(){this.DetectorRightColumn.ActivateDetector(),this.DetectorFeed.ActivateDetector(),this.DetectorWatch.ActivateDetector(),this.DetectorMarketplace.ActivateDetector()}DeactivateDetectors(a){this.DetectorRightColumn.DeactivateDetector(a),this.DetectorFeed.DeactivateDetector(a),this.DetectorWatch.DeactivateDetector(a),this.DetectorMarketplace.DeactivateDetector(a)}ProcessFbCreative(a,G,E){try{let o=!1,D=!1,F=!1;if(a){let d=document.querySelector(`[${i.ATTRIBUTE_BIS_ID}=${a}]`);if(d)if(o=!0,D=this.IsAdContentRendered(d,A.GetMinImgsSpacePercentag(this.fbConfig,E)),D){F=this.IsVideoCreative(d),j.SendCandidatePlacementsCount(this.id,1,i.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK,null);let a={x:0,y:0};if(A.IsPostHidden(d)){d.setAttribute(i.ATTRIBUTE_BIS_SIZE,q.ToJSON(A.GetPostContainerSize(d)));let G=d.getAttribute(i.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);G&&(a.x=parseInt(G))}else q.SetFullSizeToElement(d);let o=d.querySelectorAll("*");for(let G=0;G<o.length;G++)q.SetFullSizeToElement(o[G],null,a);let D=[];D.push(this.BuildCreative(d,F,G,E)),this.SendFacebookCandidates(D),K.ta&&K.ra&&(this.IsVideoCreative(d)?d.style.cssText+=i.STYLES_OUTLINE_VIDEO_AD:d.style.cssText+=i.STYLES_OUTLINE_SUCCESS_DETECT)}else d.removeAttribute&&d.removeAttribute(i.ATTRIBUTE_BIS_ID)}}catch(a){}}BuildCreative(a,G,E,K){let q=A.GetPostContainerSize(a),D=Array.from(document.querySelectorAll("link")),j=Array.from(document.querySelector("head").querySelectorAll("style[nonce]")),F=D.concat(j),d='<html><head><meta charset="utf-8">';for(let a of F)d+=a.outerHTML;if(d+=`</head><body style='position:absolute; top:0px; left:0px; width:${q.w}px; height:${q.h}px;'>${a.outerHTML}</body></html>`,this.AdBlockerAgent.IsEnabledForFacebook()&&E?.length&&d.includes(E)){let a="";d=d.replace(E,a)}let c="",Q=!1;this.fbConfig.ABOUT_SECTION_CONFIG&&this.fbConfig.ABOUT_SECTION_CONFIG.LOAD_ABOUT_PAGE&&(Q=!0),this.fbConfig&&Q&&(this.DetectorFeed&&K===i.FACEBOOK_AD_PLACEMENT_TYPE_FEED?c=this.DetectorFeed.GetAboutPageLink(a):this.DetectorWatch&&K===i.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH&&(c=this.DetectorWatch.GetAboutPageLink(a)));let J={content:o.encode(d),adPlacementType:K,designVersion:i.FACEBOOK_DESIGN_VERSION_NEW,aboutPageLink:c,aboutSectionContent:"",size:q};return G&&(J.videoData={videoId:"",videoUrl:"",audioUrl:""}),a.setAttribute(i.ATTRIBUTE_BIS_STATUS,"extracted"),J}HideAd(a,G,E){let K="";return a&&G&&a&&a.style&&(K=`position: absolute !important; width: ${G.w}px; overflow: hidden; height: 0px;`,A.IsPostHidden(a)||(a.style.cssText+=K,a.setAttribute(i.ATTRIBUTE_BIS_HIDE_HEIGHT,G.h),a.setAttribute(i.ATTRIBUTE_BIS_HIDE_WIDTH,G.w),a.setAttribute(i.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"))),a.style.cssText}IsAdContentRendered(a,G){let E=A.GetPostContainerSize(a);if(q.GetImagesSpacePercentage(this.fbConfig.TAGS_FOR_LOADING_CHECK,a,E).some((a=>a>=G)))return!0;let K=a.querySelector(`a[${i.ATTRIBUTE_BIS_LABEL}]`);return K&&K.removeAttribute(i.ATTRIBUTE_BIS_LABEL),!1}IsVideoCreative(a){return 0!==a.querySelectorAll("video").length}AddNeededStylesForElement(a,G){try{if(G.w<=3&&G.h<=3&&("SPAN"===a.nodeName||"DIV"===a.nodeName)){let G=a.getAttribute("class");if(G&&G.includes("accessible_elem")){let G=getComputedStyle(a);a.setAttribute(i.ATTRIBUTE_BIS_STYLE,`clip:${G.getPropertyValue("clip")}; height:${G.getPropertyValue("height")}; overflow:${G.getPropertyValue("overflow")}; position:${G.getPropertyValue("position")}; white-space:${G.getPropertyValue("white-space")}; width:${G.getPropertyValue("width")};`)}}}catch(a){}}LoadAboutPageAndSendCandidates(a){if(a&&a.length){let G=a[0].aboutPageLink;G&&G.length?fetch(G,{headers:this.fbConfig.ABOUT_SECTION_CONFIG.HEADERS,method:"GET"}).then((G=>{try{if(200===G.status)return G.text();this.SendFacebookCandidates(a)}catch(a){}})).then((G=>{let E="",K=G.split(/\r?\n/);if(K.length)for(let a=0;a<K.length;a++){!new RegExp(this.fbConfig.ABOUT_SECTION_CONFIG.CONTENT_CHECK_STRING).test(K[a])||E.includes("delegate_page_id")&&E.includes("about_app_sections")||(E+=K[a])}a[0].aboutSectionContent=o.encode(E),this.SendFacebookCandidates(a)})).catch((()=>{this.SendFacebookCandidates(a)})):this.SendFacebookCandidates(a)}}SendFacebookCandidates(a){j.SendAdCandidates(this.id,a,i.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK,null),this.AdBlockerAgent.IsEnabledForFacebook()&&this.AdBlockerAgent.SetHiddenAmount(a.length)}}},7678:(a,G,E)=>{const K=E(1568),q=E(2880);class o{static GetVisibleText(a){let G=a.querySelectorAll(":scope > *");if(0!==G.length)return Array.prototype.slice.call(G).map(o.GetVisibleText).flat();if("none"!==getComputedStyle(a).display){let G=a.innerText;try{if(0===G.length&&a.getAttribute){let E=a.getAttribute("data-content");E&&E.length&&(G=E)}}catch(a){}return G}return""}static GetVisibleSpansText(a,G,E=[]){if(a.hasAttribute&&a.hasAttribute("bis_sponsor_checked")&&3==a.getAttribute("bis_sponsor_checked"))return"";let K=a.querySelectorAll(G),q="",o=parseInt(a.getAttribute("bis_sponsor_checked"))||0;return K.forEach((a=>{const G=getComputedStyle(a);if("none"!==G.display&&"absolute"!==G.position)try{let G=Array.from(a.childNodes).filter((a=>3===a.nodeType)).map((a=>a.nodeValue.trim())).reduce(((a,G)=>a+G),"");if(0===G.length&&a.getAttribute){let E=a.getAttribute("data-content");E&&E.length&&(G=E)}q+=G}catch(a){}})),a.setAttribute("bis_sponsor_checked",parseInt(o)+1),q&&E.length&&!E.includes(q)&&(q=this.checkLettersOfAlly(q,E)),q}static checkLettersOfAlly(a,G){const E=a.split(""),K=E.length-1,q=G.length;let o=1,i=!1,D=0,j="";for(;!i&&o<=q;){const q=G[o-1],A=E[D];-1!==q.indexOf(A)&&q.length===E.length?K!==D?D+=1:K===D&&a.length===q.length?(i=!0,j=q):(o+=1,D=0):(o+=1,D=0)}return j}static HideSateliteSponsoredString(a,G){try{G&&G.forEach((G=>{if(G.innerText){let E=G.innerText;a.SPONSORED_TEXTS.some((a=>-1!==E.indexOf(a)))&&(G.style="display:none")}}))}catch(a){}}static GetMinImgsSpacePercentag(a,G){return G===K.FACEBOOK_AD_PLACEMENT_TYPE_FEED?a.FEED_PAGE.MIN_IMGS_SPACE_PERCENTAGE:G===K.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE?a.MARKETPLACE_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:G===K.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN?a.RIGHT_COLUMN_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:G===K.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH?a.FEED_WATCH_PAGE.MIN_IMGS_SPACE_PERCENTAGE:0}static IsInitiallyRendered(a,G){return!!o.IsPostHidden(a)||G.w>0&&G.h>10}static IsPostHidden(a){return"hidden"===a.getAttribute(K.ATTRIBUTE_BIS_HIDE_STATUS)}static GetPostContainerSize(a){let G=q.GetFullElementSize(a);if(o.IsPostHidden(a)){let E=a.getAttribute(K.ATTRIBUTE_BIS_HIDE_HEIGHT);E&&(G.h=parseInt(E));let q=a.getAttribute(K.ATTRIBUTE_BIS_HIDE_WIDTH);q&&(G.w=parseInt(q));let o=a.getAttribute(K.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);o&&(G.x=G.x+parseInt(o),G.abs_x=G.abs_x+parseInt(o))}return G}}a.exports=o},6335:(a,G,E)=>{const K=E(655),q=E(7678),o=E(2880),i=E(1568),D=E(6882);a.exports=class extends K{constructor(a,G,E,K){super(a,G,E),this.fbConfig=K,this.fbFeed=null,this.fbFeedObserver=null}ActualizeDetector(){return!!this.isValidUrl&&(this.fbFeed=this.FeedContainer,!!this.fbFeed)}ActivateMutationObserver(){this.fbFeed?(this.fbFeedObserver||(this.fbFeedObserver=new MutationObserver(this.DetectCandidates.bind(this,i.AD_DETECTOR_INITIATOR_MUTATION)),this.fbFeedObserver.observe(this.fbFeed,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedContainer(){const a=this.fbConfig.FEED_PAGE.MIN_HEIGHT,G=this.fbConfig.FEED_PAGE.FEED_QUERIES,E=G.length;let K=!1,q=null;for(let o=0;o<E&&!K;o++){let E=G[o],i=document.querySelector(E);if(i){const G=i.offsetHeight;if(i.children.length>2&&G>a)q=i,K=!0;else if(i.nodeName.search(/span/i)>-1){let G=i.nextElementSibling;if(G&&G.children){const E=G.offsetHeight;1===G.children.length&&G.querySelector("h3")?(q=G.querySelector("h3").parentElement,K=!0):2===G.children.length?(i=G.querySelector("div:not([class])"),i&&i.offsetHeight>a&&(q=i,K=!0)):G.children.length>1&&E>a&&(q=G,K=!0)}}}}return q}DeactivateMutationObserver(){this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}Detector(){let a=this.FeedContainer;if(a){let G=Array.from(a.children);if(G.length&&1!==G.length||(G=document.querySelectorAll(this.fbConfig.FEED_PAGE.POSTS_QUERY)),!G)return;for(let a=0;a<G.length;a++){let E=G[a],K=o.GetElementSize(E);if(!E.hasAttribute(i.ATTRIBUTE_BIS_ID)&&q.IsInitiallyRendered(E,K)&&this.CheckIfAdRendered(E,q.GetMinImgsSpacePercentag(this.fbConfig,i.FACEBOOK_AD_PLACEMENT_TYPE_FEED))&&this.CheckIfAd(E)){let q="";this.AdBlockerAgent.IsEnabledForFacebook()&&(q=this.HideAd(G[a],K,i.FACEBOOK_AD_PLACEMENT_TYPE_FEED)),this.addCoverImageSrcAttribute(E);let D=o.GenerateAndSetBisIdToFBAds(E),j=this.options.extractAdStaticPartTimeoutMs+o.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(E),setTimeout(this.ReadyToExtractAd.bind(this,D,q),j)}}}}ReadyToExtractAd(a,G){try{if(a){let E=document.querySelector(`[${i.ATTRIBUTE_BIS_ID}=${a}]`);if(!E)return;let K=E.querySelector(`[${i.ATTRIBUTE_BIS_LABEL}="fb_feed_ad"]`);K?this.ExtractAd(a,G,i.FACEBOOK_AD_PLACEMENT_TYPE_FEED):null!==K&&(K.removeAttribute(i.ATTRIBUTE_BIS_ID),E.removeAttribute(i.ATTRIBUTE_BIS_ID))}}catch(a){}}CheckIfAd(a){const G=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let E=!1;for(let K=0;K<G.length&&!E;K++){const q=G[K];let o=a.querySelectorAll(q);if(E=this.GetTextCustom(o),E||(E=this.GetTextFromXlink(o)),E||(E=this.GetTextIfUseCanvas(o)),E){a.firstElementChild.setAttribute(i.ATTRIBUTE_BIS_LABEL,"fb_feed_ad");break}}return!!E}GetTextCustom(a){for(let G=0;G<a.length;G++){const E=a[G];let K=E.innerText,o=E.getAttribute(this.options.attributeWithSponsorAlly),D=o?[K,o]:K;if("string"==typeof K&&K.length&&this.isTagSponsored(D))return!0;if(K&&K.length>=2&&!E.hasAttribute(i.ATTRIBUTE_BIS_LABEL)){let a=q.GetVisibleSpansText(E,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(a!==K&&a!==o&&"string"==typeof a&&a.length&&this.isTagSponsored(a))return!0}}return!1}GetTextFromXlink(a){let G="";for(let E of a){if(!E.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const a=E.parentElement;let K="";if(a?.hasAttribute("bis_processed")&&a?.hasAttribute(i.ATTRIBUTE_BIS_LABEL))continue;const q=Array.from(a.children);if(q&&q.forEach((a=>{let G=a.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const E=document.querySelector(G);E&&("text"===E.nodeName.toLowerCase()?K+=E.textContent:"svg"===E.nodeName.toLowerCase()&&(K=this.GetTextFromXlink([E.firstElementChild])))})),a.setAttribute("bis_processed",""),this.isTagSponsored(K))return G=K,a.removeAttribute("bis_processed"),G;G=""}return G}GetTextIfUseCanvas(a){let G="";for(let E of a){if("canvas"!==E.nodeName.toLowerCase()||E.hasAttribute(i.ATTRIBUTE_BIS_LABEL))continue;let a=this.CheckAndGetFieldName(E);if("string"==typeof a&&this.isTagSponsored(a)){G=a;break}}return G}CheckAndGetFieldName(a){if(a.hasAttribute("bis-text"))return a.getAttribute("bis-text");let G=D.EmptyMessage;G.type=i.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,G.content={attribute:"bis-text"},window.postMessage({attribute:"bis-text"},window.location.origin)}AddHiddenTextTags(a){const G=a.querySelectorAll("svg>use");if(G)for(let a=0;a<G.length;a++){const E=G[a],K=E.parentElement;let q=E.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let o=document.querySelector(q).cloneNode(!0);o.style.display="none",o.id=o.id+"_bis",K&&K.appendChild(o)}}isTagSponsored(a){let G=!1;if(!a)return G;if("string"==typeof a)G=this.fbConfig.SPONSORED_TEXTS.some((G=>G===a));else for(let E of a)if(G=this.fbConfig.SPONSORED_TEXTS.some((a=>a===E)),G)break;return G}GetAboutPageLink(a){let G="",E=this.fbConfig.ABOUT_SECTION_CONFIG,K=a.querySelectorAll(E.QUERY_ABOUT_PAGE_HREF);if(!K?.length)return G;let q="";for(let G=0;G<K.length;G++){let o=K[G];if(!o.href)continue;if(!E.ABOUT_PAGE_BAD_WORDS_MATCHES.every((a=>-1===o.href.indexOf(a))))continue;let i=a.getBoundingClientRect().top,D=o.getBoundingClientRect();D.top>i&&D.top-i<=E.MAX_DISTANCE_FROM_POST_TOP&&(q=o.href)}if(!q.length)return G;const o=new RegExp(E.QUERY_GET_USER_ID_FROM_HREF);let i=q.match(o)?.groups?.username||"";return G=E.ABOUT_PAGE_TEMPLATE.replace("%1",i),G}get isValidUrl(){return!this.fbConfig.FEED_PAGE.INVALID_URL_PATHS.some((a=>window.location.href.includes(a)))}addCoverImageSrcAttribute(a){let G=a.querySelector(this.fbConfig.FEED_PAGE.COVER_IMAGE_QUERY);if(G&&G.hasAttribute("src")){let E=G.getAttribute("src");a.setAttribute("data-cover-image-src",E)}}}},2300:(a,G,E)=>{const K=E(655),q=E(2880),o=E(7678),i=E(1568);a.exports=class extends K{constructor(a,G,E,K){super(a,G,E),this.fbConfig=K,this.fbMarketplace=null,this.fbMarketplaceObserver=null}ActualizeDetector(){return this.fbMarketplace=this.MainContainer,!!this.fbMarketplace}get MainContainer(){return document.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.CONTAINER)}ActivateMutationObserver(){this.fbMarketplace?(this.fbMarketplaceObserver||(this.fbMarketplaceObserver=new MutationObserver(this.DetectCandidates.bind(this,i.AD_DETECTOR_INITIATOR_MUTATION)),this.fbMarketplaceObserver.observe(this.fbMarketplace,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}Detector(){let a=this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.CARDS);if(a?.length)for(let G=0;G<a.length;G++){const E=a[G];let K=q.GetElementSize(E);if(this.addCoverImageSrcAttribute(E),!E.hasAttribute(i.ATTRIBUTE_BIS_ID)&&o.IsInitiallyRendered(E,K)&&(this.addCoverImageSrcAttribute(E),this.CheckIfAd(E))){let a;if(this.AdBlockerAgent.IsEnabledForFacebook()&&(o.HideSateliteSponsoredString(this.fbConfig,document.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SATELITE_SPONSORED_STRING)),a=this.HideAd(E,K,i.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE)),this.CheckIfAdRendered(E,o.GetMinImgsSpacePercentag(this.fbConfig,i.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE))){let G=q.GenerateAndSetBisIdToFBAds(E),K=this.options.extractAdStaticPartTimeoutMs+q.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.addCoverImageSrcAttribute(E),setTimeout(this.ExtractAd.bind(this,G,a,i.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE),K)}}}}addCoverImageSrcAttribute(a){let G=a.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.COVER_IMAGE_QUERY);if(G&&G.hasAttribute("src")&&!a.hasAttribute("data-cover-image-src")){let E=G.getAttribute("src");a.setAttribute("data-cover-image-src",E)}}CheckIfAd(a){let G=!1;if(!a||!this.MainContainer)return G;const E=a.getBoundingClientRect();let K=Array.from(this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSOR_BLOCKS));if(!K?.length)return G;for(let q of K){const K=q.getBoundingClientRect();if(K.x-E.x<=5&&K.x-E.x>=-5){let E=o.GetVisibleSpansText(q,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((a=>-1!==E.indexOf(a)))){a.setAttribute(i.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),G=!0;break}}else if(this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH){let E=a;for(let a of this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH)if(E[a])E=E[a];else if(a.includes(",")){const G=a.split(",");E=E[G[0]](G[1])}if(E){let K=o.GetVisibleSpansText(E,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((a=>-1!==K.indexOf(a)))){a.setAttribute(i.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),G=!0;break}}}}return G||(G=this.checkAHref(a)),G}checkAHref(a){return!!a.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSORED_HREF_CHECK)}}},1899:(a,G,E)=>{const K=E(655),q=E(2880),o=E(7678),i=E(1568),D=E(8384);a.exports=class extends K{constructor(a,G,E,K){super(a,G,E),this.fbConfig=K,this.fbRightColumn=null,this.fbRightColumnObserver=null,this.options=G}ActualizeDetector(){return this.fbRightColumn=this.getRightColumnContainer(),!!this.fbRightColumn}ActivateMutationObserver(){this.fbRightColumn?(this.fbRightColumnObserver||(this.fbRightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,i.AD_DETECTOR_INITIATOR_MUTATION)),this.fbRightColumnObserver.observe(this.fbRightColumn,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){let a=this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CARDS);if(a?.length)for(let G=0;G<a.length;G++){let E=a[G],K=null,j=Array.from(this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.SATELITE_SPONSORED_STRING)),A=q.GetElementSize(E);if(o.IsInitiallyRendered(E,A))if(E.hasAttribute(i.ATTRIBUTE_BIS_ID))this.CheckIfAdRotated(E)&&E.removeAttribute&&(E.removeAttribute(i.ATTRIBUTE_BIS_ID),E.removeAttribute(i.ATTRIBUTE_BIS_SIZE),E.removeAttribute(i.ATTRIBUTE_BIS_STATUS),D.ta&&D.ra&&"border: 6px solid green !important;"===E.style.cssText&&(E.style.cssText=""));else if(this.CheckIfAd(E,j)&&(this.AdBlockerAgent.IsEnabledForFacebook()&&(o.HideSateliteSponsoredString(this.fbConfig,j),K=this.HideAd(E,A,i.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)),this.CheckIfAdRendered(E,o.GetMinImgsSpacePercentag(this.fbConfig,i.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)))){let a=q.GenerateAndSetBisIdToFBAds(E),G=this.options.extractAdStaticPartTimeoutMs+q.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);setTimeout(this.ExtractAd.bind(this,a,K,i.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN),G)}}}CheckIfAd(a,G){const E=this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IMPOSSIBLE_HREF_REG_FOR_AD,K=this.fbConfig.SPONSORED_TEXTS;if(G?.length)for(let a of G){let G=a.innerText;if(K.some((a=>a===G)))return!0}const q=Array.from(a.querySelectorAll(`${this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IF_AD}, [${this.options.attributeWithSponsorAlly}]`));return!!q.length&&q.some((a=>{const G=a.href;if(-1===G?.indexOf(E))return!0;const q=a.getAttribute(this.options.attributeWithSponsorAlly);return!!q&&K.some((a=>q===a))}))}CheckIfAdRotated(a){let G=!1;if(a&&"extracted"===a.getAttribute(i.ATTRIBUTE_BIS_STATUS)){let E=0,K=0,q=0,o=a.querySelectorAll("*");o&&o.length&&(o.forEach((a=>{a.getAttribute(i.ATTRIBUTE_BIS_SIZE)?E+=1:K+=1})),0===E&&K>0?G=!0:E>0&&K>0&&(q=K/o.length*100|0,q>50&&(G=!0)))}return G}getRightColumnContainer(){return document.querySelector(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CONTAINER)}}},1454:(a,G,E)=>{const K=E(2880);a.exports=class{constructor(a){this.id=a}InjectDetector(){if(!this.#a()&&document.head){let a=document.createElement("script");this.setAttributes(a),document.head.appendChild(a)}}setAttributes(a){const G=K.getURL("../executors/facebook.js");a.setAttribute("bis_use","true"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("nonce",""),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),a.src=G}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("facebook.js")))}}},7948:(a,G,E)=>{const K=E(655),q=E(7678),o=E(2880),i=E(1568);a.exports=class extends K{constructor(a,G,E,K){super(a,G,E),this.fbConfig=K,this.fbWatch=null,this.fbWatchObserver=null}ActualizeDetector(){return this.fbWatch=this.FeedWatchContainer,!!this.fbWatch}ActivateMutationObserver(){this.fbWatch?(this.fbWatchObserver||(this.fbWatchObserver=new MutationObserver(this.DetectCandidates.bind(this,i.AD_DETECTOR_INITIATOR_MUTATION)),this.fbWatchObserver.observe(this.fbWatch,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedWatchContainer(){const a=this.fbConfig.FEED_WATCH_PAGE.FEED_WATCH_QUERIES,G=a.length;let E=!1,K=null;for(let q=0;q<G&&!E;q++){let G=a[q],o=Array.from(document.querySelectorAll(G));if(!o.length)continue;let i=o.filter((a=>a.children&&a.children.length>2));i.length&&1===i.length&&(K=i[0],E=!0)}return K}DeactivateMutationObserver(){this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}Detector(){let a=this.fbWatch;if(a){let G=Array.from(a.children);for(let a=0;a<G.length;a++){const E=G[a];let K=o.GetElementSize(E);if(!E.hasAttribute(i.ATTRIBUTE_BIS_ID)&&q.IsInitiallyRendered(E,K)&&this.CheckIfAd(E)){let a="";if(this.AdBlockerAgent.IsEnabledForFacebook()&&(a=this.HideAd(E,K,i.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH)),this.CheckIfAdRendered(E,q.GetMinImgsSpacePercentag(this.fbConfig,i.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH))){this.addCoverImageSrcAttribute(E);let G=o.GenerateAndSetBisIdToFBAds(E),K=this.options.extractAdStaticPartTimeoutMs+o.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(E),setTimeout(this.ReadyToExtractAd.bind(this,G,a),K)}}}}}ReadyToExtractAd(a,G){try{if(a){let E=document.querySelector(`[${i.ATTRIBUTE_BIS_ID}=${a}]`),K=E.querySelector(`[${i.ATTRIBUTE_BIS_LABEL}="fb_watch_ad"]`);E&&K?this.ExtractAd(a,G,i.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH):(K.removeAttribute(i.ATTRIBUTE_BIS_ID),E.removeAttribute(i.ATTRIBUTE_BIS_ID))}}catch(a){}}CheckIfAd(a){const G=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let E=!1;for(let K=0;K<G.length&&!E;K++){const q=G[K];let o=a.querySelectorAll(q);if(E=this.GetTextCustom(o),E||(E=this.GetTextFromXlink(o)),E||(E=this.GetTextIfUseCanvas(o)),E){a.firstElementChild.setAttribute(i.ATTRIBUTE_BIS_LABEL,"fb_watch_ad");break}}return!!E}GetTextCustom(a){for(let G=0;G<a.length;G++){const E=a[G];let K=E.innerText,o=E.getAttribute(this.options.attributeWithSponsorAlly),D=o?[K,o]:K;if("string"==typeof K&&K.length&&this.isTagSponsored(D))return!0;if(K&&K.length>=2&&!E.hasAttribute(i.ATTRIBUTE_BIS_LABEL)){let a=q.GetVisibleSpansText(E,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(a!==K&&a!==o&&"string"==typeof a&&a.length&&this.isTagSponsored(a))return!0}}return!1}GetTextFromXlink(a){let G="";for(let E of a){if(!E.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const a=E.parentElement;let K="";if(a?.hasAttribute("bis_processed")&&a?.hasAttribute(i.ATTRIBUTE_BIS_LABEL))continue;const q=Array.from(a.children);if(q&&q.forEach((a=>{let G=a.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const E=document.querySelector(G);E&&("text"===E.nodeName.toLowerCase()?K+=E.textContent:"svg"===E.nodeName.toLowerCase()&&(K=this.GetTextFromXlink([E.firstElementChild])))})),a.setAttribute("bis_processed",""),this.isTagSponsored(K))return G=K,a.removeAttribute("bis_processed"),G;G=""}return G}GetTextIfUseCanvas(a){let G="";for(let E of a){if("canvas"!==E.nodeName.toLowerCase()||E.hasAttribute(i.ATTRIBUTE_BIS_LABEL))continue;let a=this.CheckAndGetFieldName(E);if("string"==typeof a&&this.isTagSponsored(a)){G=a;break}}return G}AddHiddenTextTags(a){const G=a.querySelectorAll("svg>use");if(G)for(let a=0;a<G.length;a++){const E=G[a],K=E.parentElement;let q=E.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let o=document.querySelector(q).cloneNode(!0);o.style.display="none",K&&K.appendChild(o)}}isTagSponsored(a){let G=!1;if(!a)return G;if("string"==typeof a)G=this.fbConfig.SPONSORED_TEXTS.some((G=>G===a));else for(let E of a)if(G=this.fbConfig.SPONSORED_TEXTS.some((a=>a===E)),G)break;return G}GetAboutPageLink(a){let G="",E=this.fbConfig.ABOUT_SECTION_CONFIG,K=a.querySelectorAll(E.QUERY_ABOUT_PAGE_HREF);if(!K?.length)return G;let q="";for(let G=0;G<K.length;G++){let o=K[G];if(!o.href)continue;if(!E.ABOUT_PAGE_BAD_WORDS_MATCHES.every((a=>-1===o.href.indexOf(a))))continue;let i=a.getBoundingClientRect().top,D=o.getBoundingClientRect();D.top>i&&D.top-i<=E.MAX_DISTANCE_FROM_POST_TOP&&(q=o.href)}if(!q.length)return G;const o=new RegExp(E.QUERY_GET_USER_ID_FROM_HREF);let i=q.match(o)?.groups?.username||"";return G=E.ABOUT_PAGE_TEMPLATE.replace("%1",i),G}addCoverImageSrcAttribute(a){let G=a.querySelector(this.fbConfig.FEED_WATCH_PAGE.COVER_IMAGE_QUERY);if(G&&G.hasAttribute("src")){let E=G.getAttribute("src");a.setAttribute("data-cover-image-src",E)}}}},3162:(a,G,E)=>{const K=E(2880),q=E(9358);class o{static GetHyperlinkEmbeddedTargetUrlDataList(a,G,E){let q,o,i,D=K.QuerySelectorAll(G,"A[href]"),j=[];for(var A=0;A<D.length;A++)if(q=D[A],!K.IsInFilterList(E,q.href)){o=K.GetElementSize(q),i=o.w*o.h;let a=q.querySelectorAll("img, canvas");if(a.length){let G,E;for(var F=0;F<a.length;F++)G=K.GetElementSize(a[F]),E=G.w*G.h,E>i&&(i=E,o.w=G.w,o.h=G.h)}i>=100&&K.isValidUrl(q.href)&&j.push({href:q.href,square:i})}return j&&j.length,j}static GetDocumentEmbeddedTargetUrlDataList(a,G,E){let K=[this.strategyStrictFinalUrl,this.strategyScriptClickTag,this.strategyAppnexus,this.strategyNoscriptAnchors,this.strategyScriptAndMetaContentJsonKeyWords,this.strategyLookingForPropertyInsideWindow],q=this.processStrategyList(G,K,E);return q&&q.length,q}static processStrategyList(a,G,E){let K=[];for(let q of G)try{let G=q(a,E);G&&G.href&&K.push(G)}catch(a){}return K}static strategyStrictFinalUrl(a,G){for(var E=K.QuerySelectorAll(a,'script[type="application/json"]'),q=0;q<E.length;q++){var o=E[q].outerText;if(o.length>1&&"{"===o[0]&&"}"===o[o.length-1]&&-1!=o.indexOf("targets")&&-1!=o.indexOf("redirectUrl")&&-1!=o.indexOf("finalUrl")){var i=JSON.parse(o);if(void 0!==i.targets&&void 0!==i.targets.redirectUrl&&void 0!==i.targets.redirectUrl.finalUrl){let a=i.targets.redirectUrl.finalUrl;if(K.isValidUrl(a))return{href:a,square:1e6}}}}}static strategyScriptClickTag(a,G){let E=K.QuerySelectorAll(a,"script");for(let a=0;a<E.length;a++){let G=E[a].outerText;if(G.length>1&&-1!==G.indexOf("clickTag")&&(G=G.replace(/\s/g,""),G.startsWith('varclickTag="')&&G.endsWith('";'))){let a=G.indexOf('"'),E=G.lastIndexOf('"'),q=G.substring(a+1,E);if(K.isValidUrl(q))return{href:q,square:1e6}}}}static strategyAppnexus(a,G){let E=K.QuerySelectorAll(a,".GoogleActiveViewElement script"),q=Array.from(E).map((a=>a.innerHTML)).filter((a=>a.indexOf("APPNEXUS.placement")>=0));for(let a=0;a<q.length;a++){let G=o(q[a]);if(K.isValidUrl(G))return{href:G,square:1e6}}function o(a){let G=(a=a.replace(/(\r\n|\n|\r|\s)/gm,"")).match(/APPNEXUS.placement\(".+","(.+)",.+/);return G&&G.length>1?G[1]:null}}static strategyNoscriptAnchors(a,G){let E=K.QuerySelectorAll(a,"noscript");for(let G=0;G<E.length;G++){let q=a.createElement("div");q.innerHTML=E[G].innerText;let o=q.querySelector("a[href]");if(o){let a=o.getAttribute("href");if(K.isValidUrl(a))return{href:a,square:1}}}}static strategyScriptAndMetaContentJsonKeyWords(a,G,E=null){if(E){let a=o(E,G);return K.isValidUrl(a)?{href:a,square:999999}:void 0}let q=K.QuerySelectorAll(a,"script, meta[content]");for(let a of q){let E="script"===a.nodeName.toLowerCase()?a.outerText:a.getAttribute("content");if(E.length>1&&"{"===E[0]&&"}"===E[E.length-1]){let a=o(JSON.parse(E),G);if(K.isValidUrl(a))return{href:a,square:999999}}}function o(a,G,E=[]){let q=G.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(E.length>q)return null;let D=Object.getOwnPropertyNames(a);for(let q of D)try{let D=a[q];if(!D)return null;let j=E.concat(q);if("string"==typeof D&&D.length>1&&"{"===D[0]&&"}"===D[D.length-1]){let a=o(JSON.parse(D),G,j);if(a)return a}if("object"==typeof D){let a=o(D,G,j);if(a)return a}else if("string"==typeof D&&i(q,G)&&K.isValidUrl(D))return D}catch(a){}return null}function i(a,G){let E=function(a){let G=a.toLowerCase();return G.replace(/[^a-zA-Z]+/g,"")}(a),K=G.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let a of K){if(E===a)return!0}return!1}}static strategyLookingForPropertyInsideWindow(a,G){const E=a.defaultView,K=G.WINDOW_PROPERTY_NAMES;for(let q of K){let K=E[q];if(K){if("string"==typeof K)return!K.search(/^http/)>-1&&(K=i(K)),{href:K,square:1e6};if("object"==typeof K)return o.strategyScriptAndMetaContentJsonKeyWords(a,G,K)}}function i(E){try{const K=q.decode(E);if(K){if("string"==typeof K&&"{"===K[0]){let E=JSON.parse(K);return o.strategyScriptAndMetaContentJsonKeyWords(a,G,E).href}return""}}catch(a){}}}}a.exports=o},9877:(a,G,E)=>{const K=E(2880),q=E(7817),o=E(3162);class i{constructor(a,G,E,q,o){this.id=E,this.fullIdStr=K.GetFullIdStr(a,G,E),this.init=!1,this.targetUrlDataList=[],this.targetUrlDetected=!1,this.IframesIO=null,this.activationTargetUrlCandidates=q,this.html5TargetUrlDetectionConfig=o.GetHtml5TargetUrlDetectionConfig(),this.blacklistedTargetUrls=o.BlacklistTargetUrl,this.detectionTimerId=null,this.onDetectTargetUrlCallBack=null}get FrameTargetUrl(){return this.targetUrlDataList}Init(a){return a&&(this.IframesIO=a,this.init=!0),this.init}DetectTargetUrl(a,G){if(this.init&&!this.targetUrlDetected&&this.html5TargetUrlDetectionConfig)if(this.onDetectTargetUrlCallBack=G,this.detectionTimerId=setTimeout(this.onTargetUrlDetectionTimout.bind(this),a),this.activationTargetUrlCandidates&&this.activationTargetUrlCandidates.length)this.targetUrlDataList=this.activationTargetUrlCandidates,this.TargetUrlDetected();else{let a=o.GetHyperlinkEmbeddedTargetUrlDataList(this.id,document,this.blacklistedTargetUrls);this.targetUrlDataList=this.targetUrlDataList.concat(a);let G=o.GetDocumentEmbeddedTargetUrlDataList(this.id,document,this.html5TargetUrlDetectionConfig);G=i.filterTargetUrlDataList(G,this.blacklistedTargetUrls),this.targetUrlDataList=this.targetUrlDataList.concat(G),this.targetUrlDataList&&this.targetUrlDataList.length?this.TargetUrlDetected():this.IframesIO.ActivateWindowEmbeddedTargetUrlDetection(this.onGetWindowEmbeddedTargetUrlData.bind(this))}}static filterTargetUrlDataList(a,G){if(!a||0===a.length)return[];return a.filter((a=>{if(a.href&&0===a.href.search(/^http/)&&!K.IsInFilterList(G,a.href))return!0}))}onGetWindowEmbeddedTargetUrlData(a){let G=i.filterTargetUrlDataList(a,this.blacklistedTargetUrls);this.targetUrlDataList.push(G),this.concatTargetUrlsDataIfNeed(),!G||G.length,this.TargetUrlDetected()}concatTargetUrlsDataIfNeed(){this.targetUrlDataList[0].length&&(this.targetUrlDataList=this.targetUrlDataList.flat(1))}onTargetUrlDetectionTimout(){this.targetUrlDetected||this.TargetUrlDetected()}TargetUrlDetected(){this.targetUrlDetected=!0,this.detectionTimerId&&(clearTimeout(this.detectionTimerId),this.detectionTimerId=null),this.onDetectTargetUrlCallBack&&this.onDetectTargetUrlCallBack()}static DetectTargetUrlFromWindowObj(a,G,E){var K=[];let i=E.GetHtml5TargetUrlDetectionConfig(),D=E.BlacklistTargetUrl;try{let E=o.GetHyperlinkEmbeddedTargetUrlDataList(a,G.document,i);K=K.concat(E)}catch(a){}try{let E=o.GetDocumentEmbeddedTargetUrlDataList(a,G.document,i);E=this.filterTargetUrlDataList(E,D),K=K.concat(E)}catch(a){}try{let E=q.GetWindowEmbeddedTargetUrlDataList(a,G,i,this.defaultWindowProps);E=this.filterTargetUrlDataList(E,D),K=K.concat(E)}catch(a){}return K&&K.length,K}}a.exports=i},7817:a=>{a.exports=class{static GetWindowEmbeddedTargetUrlDataList(a,G,E){let K=[function(a){if(void 0!==a.clickTag&&o(a.clickTag))return{href:a.clickTag,square:1000001}},function(a){if(void 0!==a.adData){if(void 0!==a.adData.destination_url&&o(a.adData.destination_url))return{href:a.adData.destination_url,square:1000001};if(void 0!==a.adData.redirect_url&&o(a.adData.redirect_url))return{href:a.adData.redirect_url,square:1000001}}},function(a){if(void 0!==a.BF&&void 0!==a.BF.Parameters&&void 0!==a.BF.Parameters.targeturl&&o(a.BF.Parameters.targeturl))return{href:a.BF.Parameters.targeturl,square:1000001}},function(a){if(void 0!==a.ADAPT&&void 0!==a.ADAPT.symbols&&void 0!==a.ADAPT.symbols.stage&&void 0!==a.ADAPT.symbols.stage.clickUrl&&o(a.ADAPT.symbols.stage.clickUrl))return{href:a.ADAPT.symbols.stage.clickUrl,square:1000001}},function(a){if(void 0!==a.admixAPI&&void 0!==a.admixAPI.ownerBanner&&void 0!==a.admixAPI.ownerBanner.clickUrl&&o(a.admixAPI.ownerBanner.clickUrl))return{href:a.admixAPI.ownerBanner.clickUrl,square:1000001}},function(a,G){let E=function(a,G,E){let K=function(a,G){let E=Object.getOwnPropertyNames(a);return E.filter((a=>G.WINDOW_PROPERTY_NAMES.indexOf(a)<0))}(G,E);if(!K||0===K.length)return null;return i(G,K,E)}(0,a,G);if(o(E))return{href:E,square:999999}}],q=function(a,G,E){let K=[];for(let q of G)try{let G=q(a,E);G&&G.href&&K.push(G)}catch(a){}return K}(G,K,E);return q&&q.length,q;function o(a){return"string"==typeof a&&a.length>0&&(-1!==a.indexOf("http")||-1!==a.indexOf("//"))}function i(a,G,E,K=[]){let q=E.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(K.length>q)return null;for(let q of G)try{let G=a[q];if(!G)return null;let j=K.concat(q);if("object"==typeof G){let a=i(G,Object.getOwnPropertyNames(G),E,j);if(a)return a}else if("string"==typeof G&&D(q,E)&&o(G))return G}catch(a){}return null}function D(a,G){let E=function(a){let G=a.toLowerCase();return G.replace(/[^a-zA-Z]+/g,"")}(a),K=G.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let a of K){if(E===a)return!0}return!1}}}},3375:(a,G,E)=>{const K=E(8384),q=E(1568),o=E(5364),i=E(5337),D=E(5972),j=E(9944),A=E(9346);a.exports=class extends A{constructor(a,G,E){super(a),this.id=a,this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.instaConfig=G.GetInstagramConfig,this.AdBlockerAgent=E,this.DetectorFeed=null,this.DetectorStories=null,this.headersEntries=[],this.ActivateVideoTrafficDetector()}onPageUrlChanged(a,G){this.available&&setTimeout((()=>{this.DeactivateDetectors(q.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),0)}ActivateDetector(a){a===q.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.DetectorFeed=new i(this.id,this.instaConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.DetectorStories=new j(this.id,this.instaConfig.STORIES.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.DetectorFeed.isVideo=this.isVideo.bind(this),this.DetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorFeed.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorFeed.HideElement=this.HideElementForInstagramFeedOnly.bind(this),this.DetectorFeed.isCarousel=this.isCarousel.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this),this.DetectorStories.HideElement=this.HideElement.bind(this),this.DetectorStories.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorStories.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorStories.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector=new D(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_w",JSON.stringify(this.instaConfig.TRAFFIC_LISTENER_CONFIG))}ActivateDetectors(){this.GetHeadersDataForLoader(),this.DetectorFeed.ActivateDetector(),this.DetectorStories.ActivateDetector()}DeactivateDetectors(a){this.DetectorFeed.DeactivateDetector(a),this.DetectorStories.DeactivateDetector(a)}processAndSendInstagramAd(a,G,E){let i=document.querySelector(`[${q.ATTRIBUTE_BIS_ID}=${a}]`);i&&(this.addFieldsToCandidateAboutHeaders(G),o.SendCandidatePlacementsCount(this.id,1,q.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM,null),o.SendAdCandidates(this.id,[G],q.MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM,null),K.ta&&K.ra&&(i.style.cssText+=E?q.STYLES_OUTLINE_VIDEO_AD:q.STYLES_OUTLINE_SUCCESS_DETECT))}GetHeadersDataForLoader(){let a=this.instaConfig.LOAD_USER_DATA.HEADERS_VALUES_QUERIES;for(let G of a){let a=new RegExp(G[1]),E=G[0],K=new RegExp(E,"i"),q=Array.from(document.querySelectorAll("script")).filter((a=>a.innerHTML.search(K)>-1));if(!q.length)return;let o=q[0].innerHTML.match(a)[1];this.headersEntries.push([E,o])}}addFieldsToCandidateAboutHeaders(a){this.headersEntries.length&&a.aboutPageUrl&&(a.headers=Object.fromEntries(this.headersEntries))}}},5337:(a,G,E)=>{const K=E(2880),q=E(1568),o=E(655);a.exports=class extends o{constructor(a,G,E,K){super(a,G,E),this.instaConfig=K,this.timeOptions=this.instaConfig.FEED.TIMEOUT_OPTIONS,this.id=a,this.adBlockerAgent=E,this.feedContainer=null,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.processInstagramAdsInterval=null}HideElement(a){}setSizesAndIdForAllElements(a){}getAdInstagramObject(a,G,E,K,q,o){}isCarousel(a){}isVideo(a,G){}removeCloneElement(a){}ActualizeDetector(){return this.feedContainer=this.FeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,q.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processFeedAds()}get FeedContainer(){const a=this.instaConfig.FEED.CONTAINER_QUERIES,G=this.instaConfig.FEED.CONTAINER_MIN_HEIGHT;for(let E of a){let a=document.querySelector(E);if(a){if(a.offsetHeight>=G)return a}}}checkAdBlockerAndHide(a){this.adBlockerAgent.IsEnabledForInstagram()&&!this.adBlockerAgent.IsElementHidden(a)&&(this.HideElement(a),this.adBlockerAgent.SetHiddenAmount(1))}processFeedAds(){let a=this.detectPromotedPosts();if(a&&a.length)for(let G of a){K.GetElementSize(G);if(!G.hasAttribute(q.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements(G);let a=K.GenerateAndSetBisIdToInstagramAds(G),E=this.createHTML(G);const o=this.getAdvertiserName(G),i=this.getTargetUrl(G),D=this.getAboutPageUrl(G);this.AddHiddenTextTags(E);const j=this.isCarousel(G),A=this.isVideo(G,this.instaConfig.TAGS_FOR_VIDEO_CHECK),F=this.getAdInstagramObject(G,E,o,i,D,q.INSTAGRAM_AD_PLACEMENT_TYPE_FEED);A&&!j&&(F.videoData={}),j&&(F.carouselSlidesSources=[]),this.removeCloneElement(E),this.checkAdBlockerAndHide(G);let d=setTimeout((()=>{this.ExtractAd.call(this,a,F,A),clearTimeout(d)}),100)}}}AddHiddenTextTags(a){const G=a.querySelectorAll("svg>use");if(G)for(let a=0;a<G.length;a++){const E=G[a],K=E.parentElement;let q=E.getAttribute("xlink:href");let o=document.querySelector(q).cloneNode(!0);o.style.display="none",o.id=o.id+"_bis",K&&K.appendChild(o)}}RemoveHideStylesFromClone(a){let G=a.querySelector("div"),E=G?G.firstElementChild:null,K=E?E.firstElementChild:null;return K?(E.style.cssText=E.style.cssText.replace(q.STYLES_HIDE_INSTAGRAM_FEED_AD[1],""),K.style.cssText=K.style.cssText.replace(q.STYLES_HIDE_INSTAGRAM_FEED_AD[0],""),a):a}detectPromotedPosts(){if(!this.feedContainer)return[];const a=this.instaConfig.FEED.IMG_SPACE_PERCENTAGE,G=this.instaConfig.PROMOTED_ALIASES;let E=Array.from(this.feedContainer.children),K=[];for(let q of E)if(this.IsPostContentRendered(q,a)){const a=q.querySelectorAll(this.instaConfig.FEED.PROMOTED_QUERY);for(let E of a){if(!E)continue;let a=E.hasAttribute("xlink:href")?this.GetTextFromXlink(E):E.innerText;if(a.includes("#"))continue;if(G.some((G=>a.search(G)>=0))){K.push(q);break}}}return K}GetTextFromXlink(a){let G=a.getAttribute("xlink:href");if(G){return document.querySelector(G).textContent}return""}IsPostContentRendered(a,G){let E=!1;if(a){let q=K.GetFullElementSize(a);if(q.w>0){K.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,a,q).some((a=>a>=G))&&(E=!0)}}return E}createHTML(a){const G=document.createElement("html"),E=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,q=a.cloneNode(!0),o=this.feedContainer,i=o.cloneNode();return this.styleFixes(i),this.setWrapperStyles(o,i),i.appendChild(q),E.appendChild(i),G.appendChild(K),G.appendChild(E),G}setWrapperStyles(a,G){G.style.cssText=G.style.cssText+` max-width: ${this.maxWidthContainer(a)}`}maxWidthContainer(a){return a?a.offsetWidth+"px":"auto"}styleFixes(a){a.style.paddingBottom=0}get cloneBodyWithStyles(){const a=document.createElement("body"),G=document.querySelectorAll('body style, body link[rel="stylesheet"]');return G&&G.forEach((G=>{const E=G.cloneNode(!0);a.appendChild(E)})),a}get cloneHeadWithStyles(){const a=document.createElement("head"),G=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return G&&G.forEach((G=>{let E=G.cloneNode(!0);a.appendChild(E)})),a}getAboutPageUrl(a){const G=this.instaConfig.FEED.ABOUT_PAGE_URL_QUERY;let E=a.querySelector(G);return E&&E.href?E.href:""}getAdvertiserName(a){const G=this.instaConfig.FEED.ADVERTISER_NAME_QUERY;let E=a.querySelector(G),K="";if(E){if(K=E.innerText,K)return K;if(K=E.innerHTML,-1===K.search(/\<\//))return K}return""}getTargetUrl(a){const G=this.instaConfig.FEED.TARGET_URL_QUERY;let E=a.querySelector(G),K="";return E&&E.href&&(K=E.href),K}}},9944:(a,G,E)=>{const K=E(2880),q=E(1568),o=E(655);a.exports=class extends o{constructor(a,G,E,K){super(a,G,E),this.instaConfig=K,this.id=a,this.adBlockerAgent=E,this.storyContainer=null,this.storiesObserver=null,this.processInstagramAdsInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}HideElement(a){}setSizesAndIdForAllElements(a){}getAdInstagramObject(a,G,E,K,q,o){}removeCloneElement(a){}ActualizeDetector(){return this.storyContainer=this.StoryContainer,!!this.storyContainer}ActivateMutationObserver(){this.storyContainer?(this.storiesObserver||(this.storiesObserver=new MutationObserver(this.DetectCandidates.bind(this,q.AD_DETECTOR_INITIATOR_MUTATION)),this.storiesObserver.observe(this.storyContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.storyContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processStoriesAds()}processStoriesAds(){let a=this.detectPromotedMarkedStory();if(a&&(K.GetElementSize(a),!a.hasAttribute(q.ATTRIBUTE_BIS_ID))){let G=K.GenerateAndSetBisIdToInstagramAds(a);this.setSizesAndIdForAllElements(a);const E=this.createHTML(a),o=this.getAdvertiserName(a),i=this.getTargetUrl(a),D=this.getAboutPageUrl(a);this.AddHiddenTextTags(E);const j=this.getAdInstagramObject(a,E,o,i,D,q.INSTAGRAM_AD_PLACEMENT_TYPE_STORY);this.adBlockerAgent.IsEnabledForInstagram(),this.removeCloneElement(E);let A=setTimeout((()=>{this.ExtractAd.call(this,G,j),clearTimeout(A)}),100)}}AddHiddenTextTags(a){const G=a.querySelectorAll("svg>use");if(G)for(let a=0;a<G.length;a++){const E=G[a],K=E.parentElement;let q=E.getAttribute("xlink:href");let o=document.querySelector(q).cloneNode(!0);o.style.display="none",o.id=o.id+"_bis",K&&K.appendChild(o)}}createHTML(a){const G=document.createElement("html"),E=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,q=a.cloneNode(!0),o=document.createElement("div");return this.styleFixes(q),this.setWrapperStyles(a,o),o.appendChild(q),E.appendChild(o),G.appendChild(K),G.appendChild(E),G}get cloneBodyWithStyles(){const a=document.createElement("body"),G=document.querySelectorAll('body style, body link[rel="stylesheet"]');return G&&G.forEach((G=>{const E=G.cloneNode(!0);a.appendChild(E)})),a}get cloneHeadWithStyles(){const a=document.createElement("head"),G=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return G&&G.forEach((G=>{let E=G.cloneNode(!0);a.appendChild(E)})),a}detectPromotedMarkedStory(){if(!this.storyContainer)return null;const a=this.instaConfig.STORIES.IMG_SPACE_PERCENTAGE,G=this.instaConfig.PROMOTED_ALIASES;let E=this.storyContainer;if(this.IsStoryContentRendered(E,a)){const a=E.querySelectorAll(this.instaConfig.STORIES.PROMOTED_QUERY);for(let K of a){if(!K)continue;let a=K.hasAttribute("xlink:href")?this.GetTextFromXlink(K):K.innerText;if(a.includes("#"))continue;if(G.some((G=>a.search(G)>=0)))return E}}return null}GetTextFromXlink(a){let G=a.getAttribute("xlink:href");if(G){return document.querySelector(G).textContent}return""}getAdvertiserName(a){const G=this.instaConfig.STORIES.ADVERTISER_NAME_QUERY;let E=a.querySelector(G);return E?E.innerText:""}getTargetUrl(a){const G=this.instaConfig.STORIES.TARGET_URL_QUERY;let E=a.querySelector(G),K="";return E&&E.href&&(K=E.href),K}getAboutPageUrl(a){const G=this.instaConfig.STORIES.ABOUT_PAGE_URL_QUERY;let E=a.querySelector(G);return E&&E.href?E.href:""}IsStoryContentRendered(a,G){let E=!1;if(a){let q=K.GetFullElementSize(a);if(q.w>0){K.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,a,q).some((a=>a>=G))&&(E=!0)}}return E}setWrapperStyles(a,G){G.style.cssText=G.style.cssText+` max-width: ${this.maxWidthContainer(a)}`}maxWidthContainer(a){return a?a.offsetWidth+"px":"auto"}styleFixes(a){a.style.transform=""}get StoryContainer(){return document.querySelector(this.instaConfig.STORIES.STORY_QUERY)}}},5972:(a,G,E)=>{const K=E(2880);a.exports=class{constructor(a,G){this.id=a,this.AdBlockerAgent=G}InjectDetector(a,G){if(!this.#a()&&document.head){var E=document.createElement("script");this.setAttributes(E),document.head.appendChild(E)}}setAttributes(a){const G=K.getURL("../executors/insta.js");a.setAttribute("bis_use","true"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("nonce",""),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),this.AdBlockerAgent.IsEnabledForInstagram()&&a.setAttribute("ad-opt-on",""),a.src=G}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("insta.js")))}}},9181:(a,G,E)=>{const K=E(9346),q=E(9170),o=E(1568),i=E(8384),D=E(5364),j=E(2880),A=E(1291),F=E(8247);a.exports=class extends K{constructor(a,G,E){super(a),this.id=a,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=E,this.linkedinConfig=G.LinkedinConfig,this.LinkedinDetectorFeed=null,this.LinkedinDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(a,G){this.available&&setTimeout((()=>{this.DeactivateDetectors(o.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.LinkedinDetectorFeed.ActivateDetector(),this.LinkedinDetectorRightColumn.ActivateDetector()}DeactivateDetectors(a){this.LinkedinDetectorFeed.DeactivateDetector(a),this.LinkedinDetectorRightColumn.DeactivateDetector(a)}ActivateDetector(a){a===o.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.LinkedinDetectorFeed=new A(this.id,this.linkedinConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.LinkedinDetectorRightColumn=new F(this.id,this.linkedinConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.LinkedinDetectorFeed.isVideo=this.isVideo.bind(this),this.LinkedinDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorFeed.getAdLinkedinObject=this.getAdLinkedinObject.bind(this),this.LinkedinDetectorFeed.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorFeed.HideElement=this.HideElement.bind(this),this.LinkedinDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorFeed.isCarousel=this.isCarousel.bind(this),this.LinkedinDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.LinkedinDetectorRightColumn.HideElement=this.HideElement.bind(this),this.LinkedinDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorRightColumn.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorRightColumn.getAdLinkedinObject=this.getAdLinkedinObject.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new q(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_l",JSON.stringify(this.linkedinConfig)))}IsAdContentRendered(a,G){let E=j.GetFullElementSize(a);return j.GetImagesSpacePercentage(this.linkedinConfig.TAGS_FOR_LOADING_CHECK,a,E).some((a=>a>=G))}processAndSendLinkedinAd(a,G,E=!1,K=document){let q=K.querySelector(`[${o.ATTRIBUTE_BIS_ID}=${a}]`);q&&(D.SendCandidatePlacementsCount(this.id,1,o.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN,null),D.SendAdCandidates(this.id,[G],o.MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN,null),i.ta&&i.ra&&(q.style.cssText+=E?o.STYLES_OUTLINE_VIDEO_AD:o.STYLES_OUTLINE_SUCCESS_DETECT))}}},1291:(a,G,E)=>{const K=E(655),q=E(1568),o=E(2880);a.exports=class extends K{constructor(a,G,E,K){super(a,G,E),this.id=a,this.feedObserver=null,this.linkedinConfig=K,this.feedContainer=null,this.AdBlockerAgent=E,this.adPlacementType=q.LINKEDIN_AD_PLACEMENT_TYPE_FEED}HideElement(){}setSizesAndIdForAllElements(a){}getAdLinkedinObject(a,G,E,K,q,o){}doesElementExists(a){}isCarousel(a){}isVideo(a,G){}IsAdContentRendered(a,G){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,q.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds()}processFeedAds(){this.extractOccurrences()}get getFeedContainer(){const a=this.linkedinConfig.FEED.QUERY_CONTAINER,G=this.linkedinConfig.FEED.QUERY_IFRAME_PRELOAD;let E=document.querySelector(a)||document.querySelector(G)?.contentDocument?.querySelector(a);return!E||E.children.length<3?null:E}extractOccurrences(){let{allCells:a,minImgSquarePercentage:G}=this.allCellsAndMinImgSpace();if(a.length)for(let E of a){if(o.GetElementSize(E),E.hasAttribute(q.ATTRIBUTE_BIS_ID))continue;if(!this.IsAdContentRendered(E,G))continue;let a=o.GenerateAndSetBisIdToLinkedinAds(E);this.setSizesAndIdForAllElements(E);const K=this.createHTML(E),i=this.getTargetUrl(E),D=this.getSocialAdvertiserUrl(E),j=this.getAdvertiserName(E),A=this.isCarousel(E),F=this.isVideo(E,this.linkedinConfig.TAGS_FOR_VIDEO_CHECK),d=this.getUniqueDataId(E);this.removeBisAttribute(K);let c=this.getAdLinkedinObject(E,K,this.adPlacementType,i,D,j,d);if(this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(E)&&(this.HideElement(E),this.AdBlockerAgent.SetHiddenAmount(1)),A&&(c.carouselSlidesData=this.getCarouselSlidesFromDOM(D,E)),E.querySelector("iframe")&&(c.doesHaveIframe=!0),F&&!A){const a=this.getVideoIdAndThumbnail(E);c.videoData=a||{}}setTimeout(this.ExtractAd.bind(this,a,c,F,this.feedContainer),100)}}allCellsAndMinImgSpace(){let a=[],G=0;return this.feedContainer&&(a=Array.from(this.feedContainer.children),G=this.linkedinConfig.FEED.IMG_SPACE_PERCENTAGE),a=a.filter((a=>this.linkedinConfig.FEED.COLLECT_AD_TYPE_EVENT?this.isPromoted(a):this.isPromoted(a)&&!a.querySelector(this.linkedinConfig.FEED.QUERY_CHECK_AD_TYPE_EVENT))),{allCells:a,minImgSquarePercentage:G}}isPromoted(a){const G=this.linkedinConfig.FEED.QUERIES_IS_PROMOTED,E=this.linkedinConfig.PROMOTED_ALIASES;let K=!1;for(let q of G){let G=Array.from(a.querySelectorAll(q));G.length&&(K=G.some((a=>{let G=a.textContent.trim().toLowerCase();if(G)return E.some((a=>G.indexOf(a)>=0))})))}return K}createHTML(a){const G=document.createElement("html"),E=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,q=a.cloneNode(!0),o=this.feedContainer,i=o.cloneNode();return this.styleFixes(i),this.setWrapperStyles(o,i,a),i.appendChild(q),E.appendChild(i),G.appendChild(K),G.appendChild(E),G}setWrapperStyles(a,G,E){G.style.cssText=G.style.cssText+` max-width: ${this.maxWidthContainer(a)}`,G.style.cssText=G.style.cssText+` max-height: ${this.maxHeightContainer(E)}`}maxWidthContainer(a){return a?a.offsetWidth+"px":"auto"}maxHeightContainer(a){return a?a.offsetHeight+"px":"auto"}styleFixes(a){a.style.overflow="hidden"}get cloneBodyWithStyles(){const a=document.createElement("body"),G=document.querySelectorAll('body style, body link[rel="stylesheet"]');return G&&G.forEach((G=>{const E=G.cloneNode(!0);a.appendChild(E)})),a}get cloneHeadWithStyles(){const a=document.createElement("head"),G=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),E=document.createElement("meta");return E.setAttribute("charset","UTF-8"),a.append(E),G&&G.forEach((G=>{let E=G.cloneNode(!0);a.appendChild(E)})),a}getTargetUrl(a){const G=this.linkedinConfig.FEED.QUERY_TARGET_URL;let E=a.querySelector(G);return E&&E.href?E.href:""}getSocialAdvertiserUrl(a){const G=this.linkedinConfig.FEED.QUERY_ADVERTISER_URL;let E=a.querySelector(G),K="";return E&&E.href?(K=E.href,K):K}getAdvertiserName(a){let G=a.querySelector(this.linkedinConfig.FEED.QUERY_ADVERTISER_NAME);return G?G.innerText.trim():""}getVideoIdAndThumbnail(a){const G=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.QUERY_VIDEO_TAG_GET_VIDEO_ID,E=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.REGEXP_VIDEO_ID),K=a.querySelector(G);if(!K)return null;const q=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.ATTRIBUTE_NAME_WITH_VIDEO_ID;let o=K.getAttribute(q);if(!o)return null;let i=o.match(E);return{videoId:i?.groups?.videoId?i.groups.videoId:null,previewImageUrl:o}}getCarouselSlidesFromDOM(a,G){let E=this.searchFirstImage(G);if(!E)return[];let K=this.searchMatchedImgId(E);if(!K)return[];let q=this.getAllCodeElements();if(!q.length)return[];let o=this.filterCodeElements(q,K);if(!o.length)return[];let i=this.getSlidesDatas(o,a);return i.length?this.getSlidesImagesSources(i):[]}searchFirstImage(a){return a.querySelector(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_FIRST_IMG)}searchMatchedImgId(a){let G=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.REGEXP_IMG_ID),E=a.src.match(G);return E.length&&1!==E.length?E[1]:null}getAllCodeElements(){return Array.from(document.querySelectorAll(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_CODE_ELEMENTS))}filterCodeElements(a,G){return a.filter((a=>a.innerHTML.includes(G))).map((a=>"{"===a.innerHTML.trim()[0]?JSON.parse(a.innerHTML):{}))}getSlidesDatas(a,G){const E=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SOCIAL_ADV_URL,K=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_DATA;let q=a.map((a=>{if(!a.included)return{};let q=a.included.filter((a=>{let K=a;for(let a of E)if(K[a]&&(K=K[a]),G===K)return!0}));if(!q.length)return!1;let o=q[0];for(let a of K)o[a]&&(o=o[a]);return o}));return q.length?q[0]:[]}getSlidesImagesSources(a){const G=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_ROOT_URL,E=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_PATH_URL,K=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SLIDE_TEXT;let q=[];for(let o of a){let a=o,i=o,D=o;for(let E of G)a[E]&&(a=a[E]);if(!a||"string"!=typeof a)break;for(let a of E)i[a]&&(i=i[a]);if(!i||"string"!=typeof i)break;for(let a of K)D[a]&&(D=D[a]);if(!D||"string"!=typeof D)break;let j=a+i,A={source:this.transformToValidUrl(j),text:D};q.push(A)}return q}transformToValidUrl(a){return a.replace(/amp\;/g,"")}removeBisAttribute(a){let G=a.querySelectorAll(`*[${q.ATTRIBUTE_BIS_ID}]`);G.length&&G.forEach((a=>{a.removeAttribute(q.ATTRIBUTE_BIS_ID)}))}getUniqueDataId(a){return a.querySelector(this.linkedinConfig.FEED.QUERY_GET_UNIQUE_ID)?.getAttribute("data-id")}}},8247:(a,G,E)=>{const K=E(655),q=E(2880),o=E(1568);E(9358);a.exports=class extends K{constructor(a,G,E,K){super(a,G,E),this.rightColumnContainer=null,this.rightColumnObserver=null,this.linkedinConfig=K,this.adPlacementType=o.LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN,this.promotedHeaderHeaderHeight=0}HideElement(){}setSizesAndIdForAllElements(a){}getAdLinkedinObject(a,G,E,K,q,o){}doesElementExists(a){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer(),!!this.rightColumnContainer}ActivateMutationObserver(){this.getRightColumnContainer()?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,o.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.rightColumnContainer=null,this.isObserverAlreadySet=!1)}getRightColumnContainer(){const a=this.linkedinConfig.RIGHT_COLUMN.QUERY_CONTAINER,G=this.linkedinConfig.RIGHT_COLUMN.QUERY_IFRAME_PRELOAD,E=document.querySelector(a)||document.querySelector(G)?.contentDocument?.querySelector(a);return E&&E.children.length?E:null}isPromoted(a){const G=a?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_PROMOTED),E=this.linkedinConfig.PROMOTED_ALIASES;let K=!1;if(G){this.promotedHeaderHeaderHeight=G.parentElement.offsetHeight;let a=G.textContent.trim().toLowerCase();K=E.includes(a)}return K}Detector(){this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer(),this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.rightColumnContainer.querySelectorAll(this.linkedinConfig.RIGHT_COLUMN.QUERY_AD_CONTAINER).forEach((a=>{this.isIframe(a)&&this.processIFrame(a)}))}isIframe(a){return!!a?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME)}processIFrame(a){const G=a.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME),E=G?.contentDocument;if(this.isPromoted(E)){const G=[];this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD.forEach((a=>G.push(...E.querySelectorAll(a)))),this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(a)&&(this.HideElement(a),this.AdBlockerAgent.SetHiddenAmount(G.length)),this.extractOccurrences(G,E)}}extractOccurrences(a,G){a.length&&a.forEach((a=>{if(q.GetElementSize(a),a.hasAttribute(o.ATTRIBUTE_BIS_ID))return;const E=q.GenerateAndSetBisIdToLinkedinAds(a);this.setSizesAndIdForAllElements(a);const K=this.cloneIframeWithAd(G,a),i=this.getTargetUrl(a);this.removeBisAttribute(K);const D=this.getAdLinkedinObject(a,K,this.adPlacementType,i,"","");setTimeout(this.ExtractAd.bind(this,E,D,!1,G),100)}))}cloneIframeWithAd(a,G){const E=document.createElement("html"),K=this.cloneHeadWithStyles(a),q=a.querySelector("body").cloneNode(!0),o=this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD_WRAPPER.find((a=>!!q.querySelector(a))),i=q.querySelector(o),D=q.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IFRAME_STYLES_CONTAINER),j=q.querySelector("script");return j&&j.remove(),D.style.height="auto",D.style.width=`${G.offsetWidth}px`,i.parentNode.style.height="auto",i.replaceChildren(),i.appendChild(G.cloneNode(!0)),E.appendChild(K),E.appendChild(q),E}cloneHeadWithStyles(a){const G=a||document,E=document.createElement("head"),K=G.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),q=document.createElement("meta");return q.setAttribute("charset","UTF-8"),E.append(q),K&&K.forEach((a=>{let G=a.cloneNode(!0);E.appendChild(G)})),E}getTargetUrl(a){return(a.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_TARGET_URL)||a).href||""}removeBisAttribute(a){let G=a.querySelectorAll(`*[${o.ATTRIBUTE_BIS_ID}]`);G.length&&G.forEach((a=>{a.removeAttribute(o.ATTRIBUTE_BIS_ID)}))}}},9170:(a,G,E)=>{const K=E(2880);a.exports=class{constructor(a){this.id=a}InjectDetector(a,G){if(!this.#a()&&document.head){let a=document.createElement("script");this.setAttributes(a),document.head.appendChild(a)}}setAttributes(a){const G=K.getURL("../executors/linkedin.js");a.setAttribute("bis_use","true"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("nonce",""),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),a.src=G}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("linkedin.js")))}}},2075:(a,G,E)=>{const K=E(2629),q=E(1050),o=E(2765),i=E(1568),D=E(5364),j=E(8384),A=E(8792),F=E(9346),d=E(2880);a.exports=class extends F{constructor(a,G,E){super(a),this.id=a,this.AdBlockerAgent=E,this.pinterestConfig=G.PinterestConfig,this.onPageRefreshed=this.onPageUrlChanged,this.available=!1,this.pinterestFeedDetector=null,this.pinterestPinDetector=null,this.pinterestSearchDetector=null,this.VideoTrafficDetector=null,this.ActivateVideoTrafficDetector()}onPageUrlChanged(a,G){this.available&&setTimeout((()=>{this.DeactivateDetectors(i.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),100)}PageRefreshed(a,G){this.pageUrl=a,this.ticketId=G,this.onPageUrlChanged&&this.onPageUrlChanged(a,G)}ActivateDetector(a){a===i.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.pinterestFeedDetector=new K(this.id,this.pinterestConfig.FEED_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestSearchDetector=new o(this.id,this.pinterestConfig.SEARCH_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestPinDetector=new q(this.id,this.pinterestConfig.PIN_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.pinterestFeedDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestFeedDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestFeedDetector.isCarousel=this.isCarousel.bind(this),this.pinterestFeedDetector.HideElement=this.HideElement.bind(this),this.pinterestFeedDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestFeedDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestFeedDetector.isVideo=this.isVideo.bind(this),this.pinterestFeedDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestFeedDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestPinDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestPinDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestPinDetector.isCarousel=this.isCarousel.bind(this),this.pinterestPinDetector.HideElement=this.HideElement.bind(this),this.pinterestPinDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestPinDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestPinDetector.isVideo=this.isVideo.bind(this),this.pinterestPinDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestPinDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestSearchDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestSearchDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestSearchDetector.isCarousel=this.isCarousel.bind(this),this.pinterestSearchDetector.HideElement=this.HideElement.bind(this),this.pinterestSearchDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestSearchDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestSearchDetector.isVideo=this.isVideo.bind(this),this.pinterestSearchDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestSearchDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this)}ActivateDetectors(){this.pinterestFeedDetector.ActivateDetector(),this.pinterestSearchDetector.ActivateDetector(),this.pinterestPinDetector.ActivateDetector()}DeactivateDetectors(a){this.pinterestFeedDetector.DeactivateDetector(a),this.pinterestSearchDetector.DeactivateDetector(a),this.pinterestPinDetector.DeactivateDetector(a)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new A(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_p",JSON.stringify(this.pinterestConfig)))}GetGlobalContainer(){return document.querySelector(this.pinterestConfig.MAIN_CONTAINER_QUERY)}getUniqueContentId(a){const G=a.querySelector(`div[${this.pinterestConfig.UNIQUE_ATTRIBUTE}]`);return G?G.getAttribute(this.pinterestConfig.UNIQUE_ATTRIBUTE):""}IsPostContentRendered(a,G,E){let K=!1;if(a){let q=d.GetFullElementSize(a);if(q.w>0&&q.h>0){d.GetImagesSpacePercentage(E,a,q).some((a=>a>=G))&&(K=!0)}}return K}sendPinterestAd(a,G){let E=document.querySelector(`[${i.ATTRIBUTE_BIS_ID}=${a}]`);E&&(D.SendCandidatePlacementsCount(this.id,1,i.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST,null),D.SendAdCandidates(this.id,[G],i.MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST,null),j.ta&&j.ra&&(G.videoData?E.style.cssText+=i.STYLES_OUTLINE_VIDEO_AD:E.style.cssText+=i.STYLES_OUTLINE_SUCCESS_DETECT))}}},2629:(a,G,E)=>{E(9346);const K=E(1568),q=E(2880),o=E(655);a.exports=class extends o{constructor(a,G,E,q){super(a,G,q),this.id=a,this.pinterestConfig=E,this.adBlockerAgent=q,this.adPlacementType=K.PINTEREST_AD_PLACEMENT_TYPE_FEED,this.feedContainer=null,this.lastFeedAdsCheckTime=0,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(a,G){}setSizesAndIdForAllElements(a){}getAdPinterestObject(a,G,E,K,q,o,i){}isVideo(a,G){}removeCloneElement(a){}IsPostContentRendered(a,G,E){}ActualizeDetector(){return!!this.isFeedPageURL()&&(this.feedContainer=this.getFeedContainer(),!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,K.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!0)}Detector(){let a=this.detectPromotedPins();if(a&&a.length)for(let G of a){q.GetElementSize(G);if(!G.hasAttribute(K.ATTRIBUTE_BIS_ID)){let a=q.GenerateAndSetBisIdToPinterestAds(G);this.setSizesAndIdForAllElements(G);const E=this.createHTML(G),o=this.getAdvertiserName(G),i=this.getTargetUrl(G),D=this.getTitleText(G),j=this.getAdvertiserUrl(G),A=this.getAdPinterestObject(G,E,o,i,D,j,K.PINTEREST_AD_PLACEMENT_TYPE_FEED);this.isVideo(G,this.pinterestConfig.FEED_PAGE.TAGS_FOR_VIDEO_CHECK)&&(A.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden(G)&&(this.HideElement(G),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(E);let F=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,a,A),clearTimeout(F)}),100)}}}detectPromotedPins(){if(!this.feedContainer)return[];let a=[],G=this.pinterestConfig.FEED_PAGE.IMG_SPACE_PERCENTAGE,E=this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,K=Array.from(this.feedContainer.childNodes),q=this.pinterestConfig.PROMOTED_ALIASES;for(let o of K)if(this.IsPostContentRendered(o,G,this.pinterestConfig.FEED_PAGE.TAGS_FOR_LOADING_CHECK)){const G=o.querySelector(this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY);if(!G)continue;let K=G.innerText;if(!K||"style"===G.nodeName.toLowerCase()){let a=window.getComputedStyle(G,":before");K=G.textContent,a&&a.content&&!K&&(K=a.content);for(let a of E){if(!K){K="";break}let G=a[0],E=a[1],q="join"!==G?new RegExp(E,"g"):"";"join"!==G||1!==K.length?K="replace"===G?K[G](q,""):K[G](q):K=K[0]}}q.some((a=>K.search(a)>=0))&&a.push(o)}return a}getFeedContainer(){let a=this.getGlobalContainer(),G=null;return a?(G=a.querySelector(this.pinterestConfig.FEED_PAGE.CONTAINER_QUERY),G):G}get cloneBodyWithStyles(){const a=document.createElement("body"),G=document.querySelectorAll("body style");return G&&G.forEach((G=>{const E=G.cloneNode(!0);a.appendChild(E)})),a}get cloneHeadWithStyles(){const a=document.createElement("head"),G=document.querySelectorAll('head link[rel="stylesheet"], head script');return G&&G.forEach((G=>{let E=G.cloneNode();a.appendChild(E)})),a}createHTML(a){const G=document.createElement("html"),E=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,q=a.cloneNode(!0);return this.styleFixes(q),E.appendChild(q),G.appendChild(K),G.appendChild(E),G}getAdvertiserName(a){const G=this.pinterestConfig.FEED_PAGE.ADVERTISER_NAME_QUERY;let E=Array.from(a.querySelectorAll(G));for(let a of E)if(a&&a.innerText)return a.innerText;return""}getAdvertiserUrl(a){const G=this.pinterestConfig.FEED_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let E=a.querySelector(G);return E?E.href:""}styleFixes(a){a.style.cssText=a.style.cssText.replace(/transform.[^;]*;/,"");for(let G of this.pinterestConfig.FEED_PAGE.STYLE_FIXES){const E=a.querySelector(G.ELEMENT_QUERY);let q=G.NEW_RULES;if(E){if(G.NEW_RULES.includes("${")){let a=JSON.parse(E.getAttribute(K.ATTRIBUTE_BIS_SIZE)).h;q=G.NEW_RULES.replace(/\$\{.[^}]*\}/,a)}E.style.cssText+=q}}}getTargetUrl(a){const G=this.pinterestConfig.FEED_PAGE.TARGET_URL_QUERY;let E=a.querySelector(G),K="";return E&&E.href&&(K=E.href),K}getTitleText(a){const G=this.pinterestConfig.FEED_PAGE.TITLE_TEXT_QUERY;let E=a.querySelector(G),K="";return E&&E.textContent.length&&(K=E.textContent),K}isFeedPageURL(){return-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin|search)\//)}}},1050:(a,G,E)=>{const K=E(1568),q=E(2880),o=E(655);a.exports=class extends o{constructor(a,G,E,q){super(a,G,q),this.id=a,this.pinterestConfig=E,this.adBlockerAgent=q,this.pinContainer=null,this.adPlacementType=K.PINTEREST_AD_PLACEMENT_TYPE_PIN,this.lastPinAdsCheckTime=0,this.pinObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(a,G){}setSizesAndIdForAllElements(a){}getAdPinterestObject(a,G,E,K,q,o,i){}isVideo(a,G){}removeCloneElement(a){}IsPostContentRendered(a,G,E){}ActualizeDetector(){return this.pinContainer=this.getPinContainer(),!!this.pinContainer}ActivateMutationObserver(){this.pinContainer?(this.pinObserver||(this.pinObserver=new MutationObserver(this.DetectCandidates.bind(this,K.AD_DETECTOR_INITIATOR_MUTATION)),this.pinObserver.observe(this.pinContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.pinContainer=null,this.isObserverAlreadySet=!1)}Detector(){let a=this.detectPromotedPins();if(a&&a.length)for(let G of a){q.GetElementSize(G);if(!G.hasAttribute(K.ATTRIBUTE_BIS_ID)){let a=q.GenerateAndSetBisIdToPinterestAds(G);this.setSizesAndIdForAllElements(G);const E=this.createHTML(G),K=this.getAdvertiserName(G),o=this.getTargetUrl(G),i=this.getTitleText(G),D=this.getAdvertiserUrl(G),j=this.getAdPinterestObject(G,E,K,o,i,D,this.adPlacementType);this.isVideo(G,this.pinterestConfig.PIN_PAGE.TAGS_FOR_VIDEO_CHECK)&&(j.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden(G)&&(this.HideElement(G),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(E);let A=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,a,j),clearTimeout(A)}),100)}}}detectPromotedPins(){if(!this.pinContainer)return[];let a=[],G=this.pinterestConfig.PIN_PAGE.IMG_SPACE_PERCENTAGE,E=this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,K=Array.from(this.pinContainer.childNodes),q=this.pinterestConfig.PROMOTED_ALIASES;for(let o of K)if(this.IsPostContentRendered(o,G,this.pinterestConfig.PIN_PAGE.TAGS_FOR_LOADING_CHECK)){const G=o.querySelector(this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY);if(!G)continue;let K=G.innerText;if(!K||"style"===G.nodeName.toLowerCase()){let a=window.getComputedStyle(G,":before");K=G.textContent,a&&a.content&&!K&&(K=a.content);for(let a of E){if(!K){K="";break}let G=a[0],E=a[1],q="join"!==G?new RegExp(E,"g"):"";"join"!==G||1!==K.length?K="replace"===G?K[G](q,""):K[G](q):K=K[0]}}q.some((a=>K.search(a)>=0))&&a.push(o)}return a}getPinContainer(){let a=this.getGlobalContainer(),G=null;return a?(G=a.querySelector(this.pinterestConfig.PIN_PAGE.CONTAINER_QUERY),G):G}get cloneBodyWithStyles(){const a=document.createElement("body"),G=document.querySelectorAll("body style");return G&&G.forEach((G=>{const E=G.cloneNode(!0);a.appendChild(E)})),a}get cloneHeadWithStyles(){const a=document.createElement("head"),G=document.querySelectorAll('head link[rel="stylesheet"], head script');return G&&G.forEach((G=>{let E=G.cloneNode();a.appendChild(E)})),a}createHTML(a){const G=document.createElement("html"),E=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,q=a.cloneNode(!0);return this.styleFixes(q),E.appendChild(q),G.appendChild(K),G.appendChild(E),G}getAdvertiserName(a){const G=this.pinterestConfig.PIN_PAGE.ADVERTISER_NAME_QUERY;let E=Array.from(a.querySelectorAll(G));for(let a of E)if(a&&a.innerText)return a.innerText;return""}getAdvertiserUrl(a){const G=this.pinterestConfig.PIN_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let E=a.querySelector(G);return E?E.href:""}getTitleText(a){const G=this.pinterestConfig.PIN_PAGE.TITLE_TEXT_QUERY;let E=a.querySelector(G),K="";return E&&E.textContent.length&&(K=E.textContent),K}styleFixes(a){a.style.cssText=a.style.cssText.replace(/transform.[^;]*;/,"");for(let G of this.pinterestConfig.PIN_PAGE.STYLE_FIXES){const E=a.querySelector(G.ELEMENT_QUERY);let q=G.NEW_RULES;if(E){if(G.NEW_RULES.includes("${")){let a=JSON.parse(E.getAttribute(K.ATTRIBUTE_BIS_SIZE)).h;q=G.NEW_RULES.replace(/\$\{.[^}]*\}/,a)}E.style.cssText+=q}}}getTargetUrl(a){const G=this.pinterestConfig.PIN_PAGE.TARGET_URL_QUERY;let E=a.querySelector(G),K="";return E&&E.href&&(K=E.href),K}isPinPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin)\//))}}},2765:(a,G,E)=>{const K=E(1568),q=E(2880),o=E(655);a.exports=class extends o{constructor(a,G,E,K){super(a,G,K),this.id=a,this.pinterestConfig=E,this.adBlockerAgent=K,this.searchContainer=null,this.lastSearchPageAdsCheckTime=0,this.searchPageObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(a,G){}setSizesAndIdForAllElements(a){}getAdPinterestObject(a,G,E,K,q,o,i){}isVideo(a,G){}removeCloneElement(a){}IsPostContentRendered(a,G,E){}ActualizeDetector(){return this.searchContainer=this.getSearchContainer(),!!this.searchContainer}ActivateMutationObserver(){this.searchContainer?(this.searchPageObserver||(this.searchPageObserver=new MutationObserver(this.DetectCandidates.bind(this,K.AD_DETECTOR_INITIATOR_MUTATION)),this.searchPageObserver.observe(this.searchContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.searchContainer=null,this.isObserverAlreadySet=!1)}Detector(){let a=this.detectPromotedPins();if(a&&a.length)for(let G of a){q.GetElementSize(G);if(!G.hasAttribute(K.ATTRIBUTE_BIS_ID)){let a=q.GenerateAndSetBisIdToPinterestAds(G);this.setSizesAndIdForAllElements(G);const E=this.createHTML(G),o=this.getAdvertiserName(G),i=this.getTargetUrl(G),D=this.getTitleText(G),j=this.getAdvertiserUrl(G),A=this.getAdPinterestObject(G,E,o,i,D,j,K.PINTEREST_AD_PLACEMENT_TYPE_SEARCH);this.isVideo(G,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_VIDEO_CHECK)&&(A.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.AdBlockerAgent.IsElementHidden(G)&&(this.HideElement(G),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(E);let F=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,a,A),clearTimeout(F)}),100)}}}detectPromotedPins(){if(!this.searchContainer)return[];let a=[],G=this.pinterestConfig.SEARCH_PAGE.IMG_SPACE_PERCENTAGE,E=this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,K=Array.from(this.searchContainer.childNodes),q=this.pinterestConfig.PROMOTED_ALIASES;for(let o of K)if(this.IsPostContentRendered(o,G,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_LOADING_CHECK)){const G=o.querySelector(this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY);if(!G)continue;let K=G.innerText;if(!K||"style"===G.nodeName.toLowerCase()){let a=window.getComputedStyle(G,":before");K=G.textContent,a&&a.content&&!K&&(K=a.content);for(let a of E){if(!K){K="";break}let G=a[0],E=a[1],q="join"!==G?new RegExp(E,"g"):"";"join"!==G||1!==K.length?K="replace"===G?K[G](q,""):K[G](q):K=K[0]}}q.some((a=>K.search(a)>=0))&&a.push(o)}return a}getSearchContainer(){let a=this.getGlobalContainer(),G=null;return a?(G=a.querySelector(this.pinterestConfig.SEARCH_PAGE.CONTAINER_QUERY),G):G}get cloneBodyWithStyles(){const a=document.createElement("body"),G=document.querySelectorAll("body style");return G&&G.forEach((G=>{const E=G.cloneNode(!0);a.appendChild(E)})),a}get cloneHeadWithStyles(){const a=document.createElement("head"),G=document.querySelectorAll('head link[rel="stylesheet"], head script');return G&&G.forEach((G=>{let E=G.cloneNode();a.appendChild(E)})),a}createHTML(a){const G=document.createElement("html"),E=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,q=a.cloneNode(!0);return this.styleFixes(q),E.appendChild(q),G.appendChild(K),G.appendChild(E),G}getAdvertiserName(a){const G=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_NAME_QUERY;let E=Array.from(a.querySelectorAll(G));for(let a of E)if(a&&a.innerText)return a.innerText;return""}getAdvertiserUrl(a){const G=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let E=a.querySelector(G);return E?E.href:""}styleFixes(a){a.style.cssText=a.style.cssText.replace(/transform.[^;]*;/,"");for(let G of this.pinterestConfig.SEARCH_PAGE.STYLE_FIXES){const E=a.querySelector(G.ELEMENT_QUERY);let q=G.NEW_RULES;if(E){if(G.NEW_RULES.includes("${")){let a=JSON.parse(E.getAttribute(K.ATTRIBUTE_BIS_SIZE)).h;q=G.NEW_RULES.replace(/\$\{.[^}]*\}/,a)}E.style.cssText+=q}}}getTargetUrl(a){const G=this.pinterestConfig.SEARCH_PAGE.TARGET_URL_QUERY;let E=a.querySelector(G),K="";return E&&E.href&&(K=E.href),K}getTitleText(a){const G=this.pinterestConfig.SEARCH_PAGE.TITLE_TEXT_QUERY;let E=a.querySelector(G),K="";return E&&E.textContent.length&&(K=E.textContent),K}isSearchPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(search)\//))}}},8792:(a,G,E)=>{const K=E(2880);E(1568);a.exports=class{constructor(a){this.id=a}InjectDetector(a,G){if(!this.#a()&&document.head){var E=document.createElement("script");this.setAttributes(E),document.head.appendChild(E)}}setAttributes(a){const G=K.getURL("../executors/pinterest.js");a.setAttribute("bis_use","true"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("nonce",""),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),a.src=G}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("pinterest.js")))}}},5465:(a,G,E)=>{const K=E(9346),q=E(9105),o=E(1568),i=E(8384),D=E(5364),j=E(9431),A=E(1145),F=E(9955);a.exports=class extends K{constructor(a,G,E){super(a),this.id=a,this.RedditVideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=E,this.redditConfig=G.RedditConfig,this.RedditDetectorFeed=null,this.RedditDetectorComments=null,this.RedditDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(a,G){this.available&&setTimeout((()=>{this.DeactivateDetectors(o.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.RedditDetectorFeed.ActivateDetector(),this.RedditDetectorComments.ActivateDetector(),this.RedditDetectorRightColumn.ActivateDetector()}DeactivateDetectors(a){this.RedditDetectorFeed.DeactivateDetector(a),this.RedditDetectorComments.DeactivateDetector(a),this.RedditDetectorRightColumn.DeactivateDetector(a)}ActivateDetector(a){a===o.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.RedditDetectorFeed=new j(this.id,this.redditConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorComments=new A(this.id,this.redditConfig.COMMENT_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorRightColumn=new F(this.id,this.redditConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.RedditDetectorFeed.isCarousel=this.isCarousel.bind(this),this.RedditDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorFeed.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorFeed.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorFeed.HideElement=this.HideElement.bind(this),this.RedditDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorComments.HideElement=this.HideElement.bind(this),this.RedditDetectorComments.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorComments.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorComments.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorComments.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorRightColumn.HideElement=this.HideElement.bind(this),this.RedditDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorRightColumn.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorRightColumn.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this)}ActivateTrafficDetector(){this.RedditVideoTrafficDetector||(this.RedditVideoTrafficDetector=new q(this.id),this.RedditVideoTrafficDetector.InjectDetector(this.id+"_r",JSON.stringify(this.redditConfig)))}processAndSendRedditAd(a,G,E=!1){let K=document.querySelector(`[${o.ATTRIBUTE_BIS_ID}=${a}]`);if(K){let a=!!K.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK);D.SendCandidatePlacementsCount(this.id,1,o.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT,null),D.SendAdCandidates(this.id,[G],o.MESSAGE_TYPE_CANDIDATES_DATA_REDDIT,null),i.ta&&i.ra&&(K.style.cssText+=E?o.STYLES_OUTLINE_VIDEO_AD:a?o.STYLES_OUTLINE_TEXT_AD:o.STYLES_OUTLINE_SUCCESS_DETECT)}}}},1145:(a,G,E)=>{const K=E(655),q=E(1568),o=E(2880);a.exports=class extends K{constructor(a,G,E,K){super(a,G,E),this.id=a,this.redditConfig=K,this.commentPageContainer=null,this.AdBlockerAgent=E,this.commentPageObserver=null,this.adPlacementType=q.REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE}HideElement(){}setSizesAndIdForAllElements(a){}getAdRedditObject(a,G,E,K){}doesElementExists(a){}ActualizeDetector(){return this.commentPageContainer=this.getCommentPageContainer,!!this.commentPageContainer}ActivateMutationObserver(){this.commentPageContainer?(this.commentPageObserver||(this.commentPageObserver=new MutationObserver(this.DetectCandidates.bind(this,q.AD_DETECTOR_INITIATOR_MUTATION)),this.commentPageObserver.observe(this.commentPageContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}get getCommentPageContainer(){let a=this.redditConfig.COMMENT_PAGE.QUERIES,G=this.redditConfig.COMMENT_PAGE.MIN_HEIGHT,E=window.innerWidth,K=this.redditConfig.COMMENT_PAGE.QUERY_TO_EXCLUDE,q=this.redditConfig.COMMENT_PAGE.TOP_DISTANCE;for(let o of a){const a=Array.from(document.querySelectorAll(o));for(let o of a){const a=o.getBoundingClientRect(),i=(E-parseInt(o.offsetWidth))/E*100,D=Array.from(o.children);if(parseInt(o.offsetHeight)>G&&i>2&&(parseInt(a.top)>q||parseInt(a.top)<0)&&D.length>=3&&!o.querySelector(K))return o}}return null}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processCommentPageAds(!0),this.isCommentPage&&this.commentPageContainer&&this.processCommentPageAds()}processCommentPageAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let a=[],G=[],E=this.redditConfig.COMMENT_PAGE.IMG_SPACE_PERCENTAGE;return this.commentPageContainer&&(a=Array.from(this.commentPageContainer.children).map((a=>{let E=Array.from(a.querySelectorAll(this.redditConfig.COMMENT_PAGE.QUERY_AD_INSIDE_COMMENT_TREE));if(!E?.length)return a;for(let a of E)G.push(a)})).concat(G)),a=a.filter((a=>!!a&&this.isPromoted(a))),{allCells:a,minImgSquarePercentage:E}}extractOccurrences(){let{allCells:a,minImgSquarePercentage:G}=this.allCellsAndMinImgSpace();if(a.length)for(let E of a)if(!E.hasAttribute(q.ATTRIBUTE_BIS_ID)&&!E.hasAttribute(q.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(E,G)&&this.isAvatarImgReady(E)){let a=o.GenerateAndSetBisIdToRedditAds(E),G=this.isVideoPost(E);if(this.isShadowRootExist(E)){const K=this.deepClone(E);let q=this.buildBannerHtml(K,this.adPlacementType),o=this.lookingTargetUrl(q),i=this.getAdRedditObject(E,q,o,this.adPlacementType);G&&(i.videoData=this.lookingForVideoDataInContent(E)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(E)&&(this.HideElement(E),this.AdBlockerAgent.SetHiddenAmount(1)),K.remove(),setTimeout(this.ExtractAd.bind(this,a,i,G),100)}else{this.setSizesAndIdForAllElements(E);const K=E.cloneNode(!0);let q=this.buildBannerHtml(K,this.adPlacementType),o=this.lookingTargetUrl(q),i=this.getAdRedditObject(E,q,o,this.adPlacementType);G&&(i.videoData=this.lookingForVideoDataInContent(E)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(E),this.AdBlockerAgent.SetHiddenAmount(1)),K.remove(),setTimeout(this.ExtractAd.bind(this,a,i,G),100)}}}isShadowRootExist(a){if(a.shadowRoot)return!0;return Array.from(a.querySelectorAll("*")).some((a=>a.shadowRoot))}deepClone(a){let G=1;const E=(a,K)=>{const q=(a,G)=>{for(;a;)E(a,G),a=a.nextSibling};if(a){const E=a.cloneNode(!1);"SLOT"===a.nodeName&&(a.setAttribute("data-assigning-slot-id",G),E.setAttribute("data-assigning-slot-id",G)),a.assignedSlot&&a instanceof Element&&a.assignedSlot.hasAttribute("data-assigning-slot-id")&&E.setAttribute("data-assigned-to",a.assignedSlot.getAttribute("data-assigning-slot-id")),G+=1,K.appendChild(E),a.shadowRoot&&(this.setSizesAndIdForAllElements(a.shadowRoot),a.shadowRoot&&a.shadowRoot.firstChild.setAttribute&&o.SetFullSizeToElement(a.shadowRoot.firstChild),q(a.shadowRoot.firstChild,E)),this.setSizesAndIdForAllElements(a),a&&a.setAttribute&&o.SetFullSizeToElement(a),q(a.firstChild,E)}},K=document.createElement("div");return E(a,K),this.replaceElementsToRightSlots(K.firstElementChild),K.firstElementChild}replaceElementsToRightSlots(a){const G=a.querySelectorAll("*[data-assigned-to]"),E=a.querySelectorAll("*[data-assigning-slot-id]");for(let a of G){const G=a.getAttribute("data-assigned-to");for(let K of E){if(G===K.getAttribute("data-assigning-slot-id")){K.appendChild(a);break}}}}buildBannerHtml(a,G){let E=this.commentPageContainer;this.setWrapperClass(E);let K=this.headCopyWithStyles;const q=document.createElement("html"),o=this.bodyCopyWithStyles,i=document.createElement("div"),D=E.cloneNode();return i.appendChild(D),this.setWrapperStyles(E,i),K.appendChild(this.getClassNameForStyles(a)),q.appendChild(K),D.appendChild(a),o.appendChild(i),q.appendChild(o),q}setWrapperClass(a){let G=a.parentElement,E=!1;if(G)for(let q=0;q<50&&!E&&G;q++)if(G.nextSibling&&-1!==G.nextSibling.nodeName.search(/style/i)&&G.previousSibling&&-1!==G.previousSibling.nodeName.search(/style/i)){var K=G.getAttribute("class");a.className+=a.className.length?" "+K:K,E=!0}else G=G.parentElement}get headCopyWithStyles(){const a=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((G=>{const E=G.KEY,K=G.ALL_STYLES_FROM,q=G.COMMENT_PAGE;for(let G of Array.from(a.children))if(-1!==G.nodeName.search(/^(style|link)$/gi)){if(G.dataset[E]){let a=K.some((a=>G.dataset[E].includes(a)));!a&&this.isCommentPage&&(a=q.some((a=>G.dataset[E].includes(a)))),a||G.remove()}}else G.remove()})),this.neccesaryStyleRules){const G=document.createElement("style");G.innerHTML=this.neccesaryStyleRules,a.appendChild(G)}return this.getStylesByTagName(a),a}get neccesaryStyleRules(){let a=null;const G=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((a=>{const G=new RegExp(a,"gi"),E=document.querySelector("head").outerHTML.match(G);let K;return E&&E.length&&(K=E.join("")),K})).filter((a=>a));return G&&G.length&&(a=G.join("")),a}getClassNameForStyles(a){let G=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((E=>{const K=a.querySelector(E.CLASS_NAME_CHILD);let q=K&&K.parentElement?K.parentElement:null,o="";for(let a=1;a<E.DEEP_LEVEL;a++)q&&(q=q.parentElement);q&&(o=q.classList[0],G.innerHTML+="."+o+E.STYLES)})),G}getStylesByTagName(a){let G=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((G=>{const E=new RegExp(G.ATTRIBUTE_REGEX_VALUE);return Array.from(a.querySelectorAll(G.TAG_NAME)).filter((a=>{if(a&&a[G.ATTRIBUTE_NAME]&&-1!==a[G.ATTRIBUTE_NAME].search(E))return a;a.remove()}))})).filter((a=>a)).forEach((a=>{G=G.concat(a)})),G.forEach((G=>{a.appendChild(G)}))}get bodyCopyWithStyles(){const a=document.createElement("body"),G=document.querySelector("body style")?.cloneNode(!0);return G&&a.appendChild(G),a}isPromoted(a){if(!a)return!1;let G=a,E=null;1===G.childElementCount&&G.firstElementChild.shadowRoot&&G.firstElementChild.shadowRoot.firstElementChild?E=G.firstElementChild.shadowRoot.firstElementChild:G.shadowRoot&&(E=G.shadowRoot.firstElementChild);let K=[];E&&(K=Array.from(E.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)));let q=Array.from(G.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)).concat(K);return q.length?q.some((a=>{let G=a.textContent.trim().toLowerCase();return G?this.redditConfig.PROMOTED_ALIASES.some((a=>G.indexOf(a)>=0)):a.dataset.beforeContent?(G=a.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((a=>G.indexOf(a)>=0))):void 0})):void 0}IsPostContentRendered(a,G){let E=!1;if(a){let K=a.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(K&&0===K.length){let K=o.GetFullElementSize(a);if(K.w>0){o.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,a,K).some((a=>a>=G))&&(E=!0)}}a.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(E=!0)}return E}lookingTargetUrl(a){let G="";let E=Array.from(a.querySelectorAll('a[target="_blank"]')).filter((a=>!(!a||!a.href||a.href.includes("reddit.com/user/"))));return E.length&&(G=E[0].href),G}isAvatarImgReady(a){if(!a)return!1;let G=[a],E=null;1===a.childElementCount&&a.firstElementChild.shadowRoot&&(E=a.firstElementChild.shadowRoot.firstElementChild),a.shadowRoot&&(E=a.shadowRoot.firstElementChild),E&&G.push(E);let K=!1;for(let a of G){let G=a.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if(G){if(!G.shadowRoot)return!0;if(K=!!G.shadowRoot&&!!G.shadowRoot.querySelector("img"),K)break}}return K}isVideoPost(a){let G=!1;if(a){G=Array.from(a.querySelectorAll("*")).some((a=>{let G=!!a.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!G&&a.shadowRoot&&(G=!!a.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),G}))}return G}lookingForVideoDataInContent(a){const G=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let E=a.querySelector(G);if(E){let a=E.getAttribute("src");E.getAttribute("poster");if(a&&!a.includes("blob:")){const G=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let E=a.match(G),K=null;if(E?.groups?.videoId)return K=E.groups.videoId,{videoId:K,url:a}}}return{}}maxWidthContainer(a){return a?a.offsetWidth+"px":"auto"}setWrapperStyles(a,G){G.style.cssText=G.style.cssText+`max-width: ${this.maxWidthContainer(a)}`}get isCommentPage(){return-1!==window.location.href.indexOf(this.redditConfig.COMMENT_PAGE.TEXT_FROM_HREF)}get isCommentPopup(){return!!document.querySelector(this.redditConfig.COMMENT_PAGE.QUERY_IS_POPUP)}}},9431:(a,G,E)=>{const K=E(655),q=E(1568),o=E(2880);a.exports=class extends K{constructor(a,G,E,K){super(a,G,E),this.id=a,this.feedObserver=null,this.redditConfig=K,this.feedContainer=null,this.AdBlockerAgent=E,this.lastTopPosition=null,this.adPlacementType=q.REDDIT_AD_PLACEMENT_TYPE_FEED}isCarousel(){}HideElement(){}setSizesAndIdForAllElements(a){}getAdRedditObject(a,G,E,K){}doesElementExists(a){}ActualizeDetector(){return!!this.isValidUrl&&(this.feedContainer=this.getFeedContainer,!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,q.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.lastTopPosition=parseInt(this.feedContainer.getBoundingClientRect().top),this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processFeedAds(),this.isCommentPage||this.isCommentPopup||(this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds())}processFeedAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let a=[],G=0;if(this.feedContainer){let E=Array.from(this.feedContainer.children),K=Array.from(document.querySelectorAll(this.redditConfig.FEED.QUERY_POSTS));a=E,K&&K.length&&(a=E.concat(K)),G=this.redditConfig.FEED.IMG_SPACE_PERCENTAGE}return a=a.filter((a=>this.isPromoted(a)&&a.offsetHeight<this.redditConfig.FEED.MAX_CHILD_HEIGHT)),{allCells:a,minImgSquarePercentage:G}}extractOccurrences(){let{allCells:a,minImgSquarePercentage:G}=this.allCellsAndMinImgSpace();if(a.length)for(let E of a)if(!E.hasAttribute(q.ATTRIBUTE_BIS_ID)&&!E.hasAttribute(q.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(E,G)&&this.isAvatarImgReady(E)){this.isCarousel(E)&&this.redditConfig.IS_ACTIVE_GET_SLIDES_SRC&&this.getSlidesSrc(E);let a,G=o.GenerateAndSetBisIdToRedditAds(E);if(this.isShadowRootExist(E)){const K=this.deepClone(E);let q=this.buildBannerHtml(K,this.adPlacementType);a=this.isVideoPost(q);let o=this.getAdRedditObject(E,q,"",this.adPlacementType);a&&(o.videoData=this.lookingForVideoDataInContent(E)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(E)&&(this.HideElement(E),this.AdBlockerAgent.SetHiddenAmount(1)),K.remove(),setTimeout(this.ExtractAd.bind(this,G,o,a),100)}else{this.setSizesAndIdForAllElements(E);const K=E.cloneNode(!0);let q=this.buildBannerHtml(K,this.adPlacementType);a=this.isVideoPost(q);let i=this.getAdRedditObject(E,q,"",this.adPlacementType);i.size.h<300&&(i.size=o.SetFullSizeToElement(E)),a&&(i.videoData=this.lookingForVideoDataInContent(E)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(E),this.AdBlockerAgent.SetHiddenAmount(1)),K.remove(),setTimeout(this.ExtractAd.bind(this,G,i,a),100)}}}isShadowRootExist(a){if(a.shadowRoot)return!0;return Array.from(a.querySelectorAll("*")).some((a=>a.shadowRoot))}deepClone(a){let G=1;const E=(a,K)=>{const q=(a,G)=>{for(;a;)E(a,G),a=a.nextSibling};if(a){const E=a.cloneNode(!1);"SLOT"===a.nodeName&&(a.setAttribute("data-assigning-slot-id",G),E.setAttribute("data-assigning-slot-id",G)),a.assignedSlot&&a instanceof Element&&a.assignedSlot.hasAttribute("data-assigning-slot-id")&&E.setAttribute("data-assigned-to",a.assignedSlot.getAttribute("data-assigning-slot-id")),G+=1,K.appendChild(E),a.shadowRoot&&(this.setSizesAndIdForAllElements(a.shadowRoot),a.shadowRoot&&a.shadowRoot.firstChild?.setAttribute&&o.SetFullSizeToElement(a.shadowRoot.firstChild),q(a.shadowRoot.firstChild,E)),this.setSizesAndIdForAllElements(a),a&&a.setAttribute&&o.SetFullSizeToElement(a),q(a.firstChild,E)}},K=document.createElement("div");return E(a,K),this.replaceElementsToRightSlots(K.firstElementChild),K.firstElementChild}replaceElementsToRightSlots(a){const G=a.querySelectorAll("*[data-assigned-to]"),E=a.querySelectorAll("*[data-assigning-slot-id]");for(let a of G){const G=a.getAttribute("data-assigned-to");for(let K of E){if(G===K.getAttribute("data-assigning-slot-id")){K.appendChild(a);break}}}}getSlidesSrc(a){let G,E,K=a.querySelector("ul").parentElement;if(K.shadowRoot?.querySelector?(G=K.shadowRoot.querySelector(this.redditConfig.CAROUSEL_BUTTON_NEXT),E=K.shadowRoot.querySelector(this.redditConfig.CAROUSEL_BUTTON_PREVIUOS)):(G=K.querySelector(this.redditConfig.CAROUSEL_BUTTON_NEXT),E=K.querySelector(this.redditConfig.CAROUSEL_BUTTON_PREVIUOS)),G&&E){G.click();let a=setTimeout((()=>{E.click(),clearTimeout(a)}),100)}}buildBannerHtml(a,G){let E=this.feedContainer;this.setWrapperClass(E);let K=this.headCopyWithStyles;const q=document.createElement("html"),o=this.bodyCopyWithStyles,i=document.createElement("div"),D=E.cloneNode();return i.appendChild(D),this.setWrapperStyles(E,i),K.appendChild(this.getClassNameForStyles(a)),q.appendChild(K),D.appendChild(a),o.appendChild(i),q.appendChild(o),q}setWrapperClass(a){let G=a.parentElement,E=!1;if(G)for(let q=0;q<50&&!E&&G;q++)if(G.nextSibling&&-1!==G.nextSibling.nodeName.search(/style/i)&&G.previousSibling&&-1!==G.previousSibling.nodeName.search(/style/i)){var K=G.getAttribute("class");a.className+=a.className.length?" "+K:K,E=!0}else G=G.parentElement}setWrapperStyles(a,G){G.style.cssText=G.style.cssText+`max-width: ${this.maxWidthContainer(a)}`}get getFeedContainer(){let a=this.redditConfig.FEED.QUERIES,G=window.innerWidth,E=this.redditConfig.FEED.SECONDARY_CHECK_QUERY,K=this.redditConfig.FEED.QUERY_TO_EXCLUDE;for(let q of a){const a=Array.from(document.querySelectorAll(q));for(let q of a){const a=getComputedStyle(q),o=(G-parseInt(a.width))/G*100;if(parseInt(a.height)>1e3&&o>2&&!q.querySelector(K))return q.querySelector(E)?q.querySelector(E):q}}return null}get headCopyWithStyles(){const a=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((G=>{const E=G.KEY,K=G.ALL_STYLES_FROM,q=G.FEED_PAGE;for(let G of Array.from(a.children))if(-1!==G.nodeName.search(/^(style|link)$/gi)){if(G.dataset[E]){let a=K.some((a=>G.dataset[E].includes(a)));a||this.isCommentPage||(a=q.some((a=>G.dataset[E].includes(a)))),a||G.remove()}}else G.remove()})),this.neccesaryStyleRules){const G=document.createElement("style");G.innerHTML=this.neccesaryStyleRules,a.appendChild(G)}return this.getStylesByTagName(a),a}get neccesaryStyleRules(){let a=null;const G=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((a=>{const G=new RegExp(a,"gi"),E=document.querySelector("head").outerHTML.match(G);let K;return E&&E.length&&(K=E.join("")),K})).filter((a=>a));return G&&G.length&&(a=G.join("")),a}getClassNameForStyles(a){let G=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((E=>{const K=a.querySelector(E.CLASS_NAME_CHILD);let q=K&&K.parentElement?K.parentElement:null,o="";for(let a=1;a<E.DEEP_LEVEL;a++)q&&(q=q.parentElement);q&&(o=q.classList[0],G.innerHTML+="."+o+E.STYLES)})),G}getStylesByTagName(a){let G=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((G=>{const E=new RegExp(G.ATTRIBUTE_REGEX_VALUE);return Array.from(a.querySelectorAll(G.TAG_NAME)).filter((a=>{if(a&&a[G.ATTRIBUTE_NAME]&&-1!==a[G.ATTRIBUTE_NAME].search(E))return a;a.remove()}))})).filter((a=>a)).forEach((a=>{G=G.concat(a)})),G.forEach((G=>{a.appendChild(G)}))}get bodyCopyWithStyles(){const a=document.createElement("body"),G=Array.from(document.querySelectorAll("body style")).map((a=>{if(a)return a.cloneNode(!0)}));return G&&G.forEach((G=>{a.appendChild(G)})),a}maxWidthContainer(a){return a?a.offsetWidth+"px":"auto"}isVideoPost(a){let G=!1;if(a){G=Array.from(a.querySelectorAll("*")).some((a=>{let G=!!a.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!G&&a.shadowRoot&&(G=!!a.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),G}))}return G}lookingForVideoDataInContent(a){const G=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let E=a.querySelector(G);if(E){let a=E.getAttribute("src");E.getAttribute("poster");if(a&&!a.includes("blob:")){const G=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let E=a.match(G),K=null;if(E?.groups?.videoId)return K=E.groups.videoId,{videoId:K,url:a}}}return{}}isPromoted(a){if(a){let G=a;1===G.childElementCount&&G.firstElementChild.shadowRoot&&G.firstElementChild.shadowRoot.firstElementChild&&(G=G.firstElementChild.shadowRoot.firstElementChild);let E=Array.from(G.querySelectorAll(this.redditConfig.FEED.PROMOTED_SELECTOR)),K=Array.from(G.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)),q=Array.from(a.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR)),o=E.concat(q).concat(K);if(o.length)return o.some((a=>{let G=a.textContent.trim().toLowerCase();return G?this.redditConfig.PROMOTED_ALIASES.some((a=>G.indexOf(a)>=0)):a.dataset.beforeContent?(G=a.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((a=>G.indexOf(a)>=0))):void 0}))}return!1}IsPostContentRendered(a,G){let E=!1;if(a){let K=a.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(K&&0===K.length){let K=o.GetFullElementSize(a);if(K.w>0){o.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,a,K).some((a=>a>=G))&&(E=!0)}}a.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(E=!0)}return E}isAvatarImgReady(a){if(!a)return!1;let G=[a],E=null;1===a.childElementCount&&a.firstElementChild.shadowRoot&&(E=a.firstElementChild.shadowRoot.firstElementChild),a.shadowRoot&&(E=a.shadowRoot.firstElementChild),E&&G.push(E);let K=!1;for(let a of G){let G=a.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if(G){if(!G.shadowRoot)return!0;if(K=!!G.shadowRoot&&!!G.shadowRoot.querySelector("img"),K)break}}return K}get isValidUrl(){return!this.redditConfig.FEED.INVALID_URL_PATHS.some((a=>window.location.href.includes(a)))}}},9955:(a,G,E)=>{const K=E(655),q=E(1568),o=E(2880);a.exports=class extends K{constructor(a,G,E,K){super(a,G,E),this.id=a,this.rightColumnObserver=null,this.redditConfig=K,this.rightColumnContainer=null,this.AdBlockerAgent=E,this.lastTopPosition=null,this.adPlacementType=q.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN}HideElement(){}setSizesAndIdForAllElements(a){}getAdRedditObject(a,G,E,K){}doesElementExists(a){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer,!!this.rightColumnContainer}ActivateMutationObserver(){this.rightColumnContainer?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,q.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processRightColumnAds(),this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer,this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.extractOccurrences(q.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN)}allCellsAndMinImgSpace(){let a=[],G=0;return this.rightColumnContainer&&this.rightColumnContainer.children&&(a=Array.from(this.rightColumnContainer.children).map((a=>a.querySelector("div ~ div > button")?a.querySelector("div:nth-child(1)"):"HR"===a.nodeName||0===a.getBoundingClientRect().height?null:a)).filter((a=>a)),G=this.redditConfig.RIGHT_COLUMN.IMG_SPACE_PERCENTAGE),a=a.filter((a=>this.isPromoted(a))),{allCells:a,minImgSquarePercentage:G}}extractOccurrences(){let{allCells:a,minImgSquarePercentage:G}=this.allCellsAndMinImgSpace();if(a.length)for(let E of a)if(!E.hasAttribute(q.ATTRIBUTE_BIS_ID)&&!E.hasAttribute(q.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(E,G)){let a=o.GenerateAndSetBisIdToRedditAds(E);if(this.isShadowRootExist(E)){const G=this.deepClone(E);let K=this.buildBannerHtml(G),q=this.lookingTargetUrl(K),o=this.getAdRedditObject(E,K,q,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(E)&&(this.HideElement(E),this.AdBlockerAgent.SetHiddenAmount(1)),G.remove(),setTimeout(this.ExtractAd.bind(this,a,o),100)}else{this.setSizesAndIdForAllElements(E);const G=E.cloneNode(!0);let K=this.buildBannerHtml(G),q=this.lookingTargetUrl(K),o=this.getAdRedditObject(E,K,q,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(E)&&(this.HideElement(E),this.AdBlockerAgent.SetHiddenAmount(1)),G.remove(),setTimeout(this.ExtractAd.bind(this,a,o),100)}}}isShadowRootExist(a){if(a.shadowRoot)return!0;return Array.from(a.querySelectorAll("*")).some((a=>a.shadowRoot))}deepClone(a){let G=1;const E=(a,K)=>{const q=(a,G)=>{for(;a;)E(a,G),a=a.nextSibling};if(a){const E=a.cloneNode(!1);"SLOT"===a.nodeName&&(a.setAttribute("data-assigning-slot-id",G),E.setAttribute("data-assigning-slot-id",G)),a.assignedSlot&&a instanceof Element&&a.assignedSlot.hasAttribute("data-assigning-slot-id")&&E.setAttribute("data-assigned-to",a.assignedSlot.getAttribute("data-assigning-slot-id")),G+=1,K.appendChild(E),a.shadowRoot&&(this.setSizesAndIdForAllElements(a.shadowRoot),a.shadowRoot&&a.shadowRoot.firstChild.setAttribute&&o.SetFullSizeToElement(a.shadowRoot.firstChild),q(a.shadowRoot.firstChild,E)),this.setSizesAndIdForAllElements(a),a&&a.setAttribute&&o.SetFullSizeToElement(a),q(a.firstChild,E)}},K=document.createElement("div");return E(a,K),this.replaceElementsToRightSlots(K.firstElementChild),K.firstElementChild}buildBannerHtml(a){let G=this.rightColumnContainer;this.setWrapperClass(G);let E=this.headCopyWithStyles;const K=document.createElement("html"),q=this.bodyCopyWithStyles,o=document.createElement("div"),i=G.cloneNode();return o.appendChild(i),this.setWrapperStyles(G,o),E.appendChild(this.getClassNameForStyles(a)),K.appendChild(E),i.appendChild(a),q.appendChild(o),K.appendChild(q),K}setWrapperClass(a){let G=a.parentElement,E=!1;if(G)for(let q=0;q<50&&!E&&G;q++)if(G.nextSibling&&-1!==G.nextSibling.nodeName.search(/style/i)&&G.previousSibling&&-1!==G.previousSibling.nodeName.search(/style/i)){var K=G.getAttribute("class");a.className+=a.className.length?" "+K:K,E=!0}else G=G.parentElement}setWrapperStyles(a,G){G.style.cssText=G.style.cssText+`max-width: ${this.maxWidthContainer(a)}`}replaceElementsToRightSlots(a){const G=a.querySelectorAll("*[data-assigned-to]"),E=a.querySelectorAll("*[data-assigning-slot-id]");for(let a of G){const G=a.getAttribute("data-assigned-to");for(let K of E){if(G===K.getAttribute("data-assigning-slot-id")){K.appendChild(a);break}}}}isPromoted(a){if(a){let G=a,E=Array.from(G.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR));if(E.length)return E.some((a=>{let G=a.textContent.trim().toLowerCase();return G?this.redditConfig.PROMOTED_ALIASES.some((a=>G.indexOf(a)>=0)):a.dataset.beforeContent?(G=a.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((a=>G.indexOf(a)>=0))):void 0}))}return!1}IsPostContentRendered(a,G){let E=!1;if(a){let K=a.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(0===K?.length){let K=o.GetFullElementSize(a);if(K.w>0&&K.h>0){o.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,a,K).some((a=>a>=G))&&(E=!0)}}a.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(E=!0)}return E}lookingTargetUrl(a){let G="";let E=Array.from(a.querySelectorAll('a[target="_blank"]')).filter((a=>!(!a?.href||this.redditConfig.BAD_URL_PATTERN_FOR_TARGET_URL.some((G=>a.href.includes(G))))));return E.length&&(G=E[0].href),G}get headCopyWithStyles(){const a=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((G=>{const E=G.KEY,K=G.ALL_STYLES_FROM,q=G.FEED_PAGE;for(let G of Array.from(a.children))if(-1!==G.nodeName.search(/^(style|link)$/gi)){if(G.innerHTML=G.innerHTML.replace(/}.[^}]*{visibility:hidden}/,"}"),G.dataset[E]){let a=K.some((a=>G.dataset[E].includes(a)));a||this.isCommentPage||(a=q.some((a=>G.dataset[E].includes(a)))),a||G.remove()}}else G.remove()})),this.necessaryStyleRules){const G=document.createElement("style");G.innerHTML=this.necessaryStyleRules,a.appendChild(G)}return this.getStylesByTagName(a),a}get necessaryStyleRules(){let a=null;const G=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((a=>{const G=new RegExp(a,"gi"),E=document.querySelector("head").outerHTML.match(G);let K;return E&&E.length&&(K=E.join("")),K})).filter((a=>a));return G&&G.length&&(a=G.join("")),a}getClassNameForStyles(a){let G=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((E=>{const K=a.querySelector(E.CLASS_NAME_CHILD);let q=K&&K.parentElement?K.parentElement:null,o="";for(let a=1;a<E.DEEP_LEVEL;a++)q&&(q=q.parentElement);q&&(o=q.classList[0],G.innerHTML+="."+o+E.STYLES)})),G}getStylesByTagName(a){let G=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((G=>{const E=new RegExp(G.ATTRIBUTE_REGEX_VALUE);return Array.from(a.querySelectorAll(G.TAG_NAME)).filter((a=>{if(a&&a[G.ATTRIBUTE_NAME]&&-1!==a[G.ATTRIBUTE_NAME].search(E))return a;a.remove()}))})).filter((a=>a)).forEach((a=>{G=G.concat(a)})),G.forEach((G=>{a.appendChild(G)}))}get bodyCopyWithStyles(){const a=document.createElement("body"),G=document.querySelector("body style")?.cloneNode(!0);return G&&a.appendChild(G),a}maxWidthContainer(a){return a?a.offsetWidth+"px":"auto"}get getRightColumnContainer(){const a=this.redditConfig.RIGHT_COLUMN.QUERIES;let G=null;for(let E of a){let a=Array.from(document.querySelectorAll(E));if(!a.length)continue;let K=a.filter((a=>a.children.length>2));if(K&&K.length){G=K[0];break}}return G}}},9105:(a,G,E)=>{const K=E(2880);E(1568);a.exports=class{constructor(a){this.id=a}setAttributes(a){const G=K.getURL("../executors/reddit.js");a.setAttribute("bis_use","true"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("nonce",""),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),a.src=G}InjectDetector(){if(!this.#a()&&document.head){var a=document.createElement("script"),G=function(){document.head.appendChild(a),window.removeEventListener("DOMContentLoaded",G)};this.setAttributes(a),window.addEventListener("DOMContentLoaded",G)}}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("reddit.js")))}}},5849:(a,G,E)=>{const K=E(9346),q=E(1568),o=E(8384),i=E(5364),D=E(1687),j=E(8838),A=E(2880),F=E(9358);a.exports=class extends K{constructor(a,G,E){super(a),this.id=a,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=E,this.tiktokConfig=G.TiktokConfig,this.tiktokDetectorFeed=null,this.ActivateTrafficDetector()}onPageUrlChanged(){this.available&&setTimeout((()=>{this.DeactivateDetectors(q.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.tiktokDetectorFeed.ActivateDetector()}DeactivateDetectors(a){this.tiktokDetectorFeed.DeactivateDetector(a)}ActivateDetector(a){a===q.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.tiktokDetectorFeed=new D(this.id,this.tiktokConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.tiktokConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.tiktokDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.tiktokDetectorFeed.getTiktokAdObject=this.getTiktokAdObject.bind(this),this.tiktokDetectorFeed.ExtractAd=this.processAndSendTiktokAd.bind(this),this.tiktokDetectorFeed.removePostCopy=this.removePostCopy.bind(this),this.tiktokDetectorFeed.HideElement=this.HideElement.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new j(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_t",JSON.stringify(this.tiktokConfig)))}processAndSendTiktokAd(a,G,E=document){let K=E.querySelector(`[${q.ATTRIBUTE_BIS_ID}=${a}]`);K&&(i.SendAdCandidates(this.id,[G],q.MESSAGE_TYPE_TIKTOK_FEED_DATA,null),o.ta&&o.ra&&(K.children[0].children[0].style.cssText+=q.STYLES_OUTLINE_VIDEO_AD))}getTiktokAdObject(a,G,E,K){const q=A.SetFullSizeToElement(a);return{content:F.encode(G.outerHTML),size:q,adPlacementType:K,videoId:E}}removePostCopy(a){a.remove()}}},1687:(a,G,E)=>{const K=E(2880),q=E(1568),o=E(655);a.exports=class extends o{constructor(a,G,E,K){super(a,G,E),this.tiktokConfig=K,this.id=a,this.adBlockerAgent=E,this.feedContainer=null,this.feedObserver=null}HideElement(a){}setSizesAndIdForAllElements(a){}getTiktokAdObject(a,G,E,K){}removePostCopy(a){}ActualizeDetector(){return this.feedContainer=this.#G(),!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,q.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.#E()}CheckIfAdRendered(a){for(let G of this.tiktokConfig.FEED.PREVIEW_QUERIES){const E=a.querySelector(G);if(E?.src)return new RegExp(/^https:\/\//).test(E.src)}return!1}#G(){const a=this.tiktokConfig.FEED.CONTAINER_QUERIES,G=this.tiktokConfig.FEED.CONTAINER_MIN_HEIGHT;for(let E of a){let a=document.querySelector(E);if(a){if(a.offsetHeight>=G)return a}}}#E(){let a=this.#K();if(a?.length)for(let G of a)if(this.CheckIfAdRendered(G)&&!G.hasAttribute(q.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements(G);const a=K.GenerateAndSetBisIdToInstagramAds(G),E=this.#q(G),o=this.#o(G),i=this.getTiktokAdObject(G,E,o,q.TIKTOK_AD_PLACEMENT_TYPE_FEED);this.removePostCopy(E);let D=setTimeout((()=>{this.ExtractAd.call(this,a,i),clearTimeout(D)}),100)}}#K(){if(!this.feedContainer)return[];let a=Array.from(this.feedContainer.children),G=[];for(let E of a){if(this.tiktokConfig.FEED.PROMOTED_QUERIES.find((a=>E.querySelector(a)))){G.push(E);break}}return G}#q(a){const G=this.feedContainer.cloneNode(),E=document.createElement("html"),K=this.#i(),q=this.#D(),o=a.cloneNode(!0);return G.appendChild(o),K.appendChild(G),E.appendChild(q),E.appendChild(K),E}#i(){const a=document.createElement("body"),G=document.querySelectorAll('body style, body link[rel="stylesheet"]');return G&&G.forEach((G=>{const E=G.cloneNode(!0);a.appendChild(E)})),a}#D(){const a=document.createElement("head"),G=document.querySelectorAll("style"),E=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head');return G&&G.forEach((G=>{let E="";for(let a of G.sheet.cssRules)E+=a.cssText;const K=G.cloneNode(!0);K.innerHTML=E,a.appendChild(K)})),E&&E.forEach((G=>{let E=G.cloneNode(!0);a.appendChild(E)})),a}#o(a){const G=this.tiktokConfig.FEED.VIDEO_CONTAINER_QUERIES.find((G=>a.querySelector(G))),E=a.querySelector(G);if(E){const a=new RegExp(/\d{5,}/).exec(E.id);return a?a[0]:null}return null}}},8838:(a,G,E)=>{const K=E(2880);a.exports=class{constructor(a,G){this.id=a,this.AdBlockerAgent=G}InjectDetector(a){if(!this.#a()&&document.head){let a=document.createElement("script");this.setAttributes(a),document.head.appendChild(a)}}setAttributes(a){const G=K.getURL("../executors/tiktok.js");a.setAttribute("bis_use","true"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("nonce",""),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),a.src=G,this.AdBlockerAgent.IsEnabledForTiktok()&&a.setAttribute("adblock_use","")}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("tiktok.js")))}}},9203:(a,G,E)=>{const K=E(1568),q=E(4736);a.exports=class{constructor(a,G,E,K){this.id=a,this.videoTrafficDetector=null,this.ioManager=E,this.adBlockerAgent=K,this.config=G.twitchConfig,this.videoTrafficDetector=new q(this.id,this.config,this.ioManager),this.videoTrafficDetector.InjectDetector()}ActivateDetector(a){a===K.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0)}}},4736:(a,G,E)=>{const K=E(2880),q=E(9358),o=E(855);a.exports=class extends o{constructor(a,G,E){super(a,G,E,!0),this.id=a,this.IOManager.onGotTwitchVideoInstreamDataCallback=this.processTwitchInstreamData.bind(this),this.signature=null,this.token=null,this.config=G}InjectDetector(){if(!this.#a()&&document.head){let a=document.createElement("script");this.setAttributes(a),document.head.appendChild(a)}}setAttributes(a){const G=K.getURL("../executors/twitch.js");a.setAttribute("bis_use","true"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("nonce",""),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),a.src=G}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("twitch.js")))}processTwitchInstreamData(a){this.findAndSaveSignatureAndToken(a.content);const G=this.parsePostBodyData(a);let E=this.buildInstreamAdURL(G);const K=this.prepareObjectToSend(E);this.sendCandidateToBackground(K)}findAndSaveSignatureAndToken(a){a?.includes("streamPlaybackAccessToken")&&(this.signature=a.match(/signature":(| )["'](?<sig>.[^"]*)",/)?.groups?.sig,this.token=encodeURIComponent(a.match(/value":(| )["'](?<token>.*)/).groups.token.replace(/","signature":.*/,"").replace(/\\/g,"")))}parsePostBodyData(a){if(!new RegExp("video-edge.*.ts$").test(a.url)&&"application/x-www-form-urlencoded; charset=utf-8"!==a.type)return;if(!a.encodedPostBody||0!==a.encodedPostBody.search(/^data=/))return;let G=q.decode(a.encodedPostBody.replace(/data=/,""),!1);return JSON.parse(G)}buildInstreamAdURL(a){if(!this.signature)return;const G={};if(G.channel=document.location.pathname.match(/\//g)?.length>1?"":document.location.pathname.replace(/\//g,""),!G.channel)return;G.browserFamily=K.IsChrome()?"chrome":"firefox",G.browserVersion=navigator.userAgent.match(new RegExp("(chrome|firefox)/(?<browserVersion>\\d{3}.\\d)","i")).groups.browserVersion;const{osName:E,osVersion:q}=navigator.userAgent.match(/\((?<osName>.[^ ]*)\s(?<osVersion>.[^;]*);\)?/)?.groups;G.osName=E,G.osVersion=q,G.signature=this.signature,G.token=this.token,G.p=Math.floor(1e7*Math.random())+1;for(let E of a)if(E?.properties.hasOwnProperty("play_session_id")){G.playSessionId=E.properties.play_session_id;break}return G.playSessionId?this.replaceMacrosesInUrl(G):void 0}getMacrosArray(){return this.config.URL_PATTERN_TO_GET_HLS.match(/\$\{(.[^}]*)}/g).map((a=>a.replace(/[${}]/g,"")))}replaceMacrosesInUrl(a){let G=this.config.URL_PATTERN_TO_GET_HLS;for(let[E,K]of Object.entries(a))G=G.replace(`\${${E}}`,K);return G}prepareObjectToSend(a){return{requestMethod:"GET",urlToGetInstreamData:a,url:"",contentType:"",mediaType:"",alias:"TWITCH_HLS"}}sendCandidateToBackground(a){this.IOManager.SendTwitchInstreamData(this.id,a)}}},4919:(a,G,E)=>{const K=E(8384),q=E(2880),o=E(1568),i=E(9346),D=E(5364),j=E(1402),A=E(9473);E(5473);a.exports=class extends i{constructor(a,G,E){super(a),this.id=a,this.onPageRefreshed=this.onPageUrlChanged,this.twConfig=G.TwitterConfig,this.TwitterDetectorFeed=null,this.TwitterDetectorRightColumn=null,this.VideoTrafficDetector=null,this.AdBlockerAgent=E,this.ActivateVideoTrafficDetector()}onPageUrlChanged(a,G){this.available&&setTimeout((()=>{this.DeactivateDetectors(o.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new j(this.id),this.VideoTrafficDetector.InjectDetector())}ActivateDetector(a){a===o.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.TwitterDetectorFeed=new A(this.id,this.twConfig.FEED.DETECTOR_OPTIONS,this.twConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}ActivateDetectors(){this.TwitterDetectorFeed.ActivateDetector()}AddNecessaryMethods(){this.TwitterDetectorFeed.ExtractAd=this.processAndSendTwitterAd.bind(this),this.TwitterDetectorFeed.isVideo=this.isVideo.bind(this),this.TwitterDetectorFeed.HideElement=this.HideElement.bind(this),this.TwitterDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.TwitterDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.TwitterDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.TwitterDetectorFeed.getAdTwitterObject=this.getAdTwitterObject.bind(this)}DeactivateDetectors(a){this.TwitterDetectorFeed.DeactivateDetector(a)}IsAdContentRendered(a,G){let E=!1;if(a){let K=a.querySelectorAll(this.twConfig.PROGRESS_SELECTOR);if(K&&0===K.length){let K=q.GetFullElementSize(a);if(K.w>0){q.GetImagesSpacePercentage(this.twConfig.TAGS_FOR_LOADING_CHECK,a,K).some((a=>a>=G))&&(E=!0)}}}return E}processAndSendTwitterAd(a,G,E=!1,q=document){let i=q.querySelector(`[${o.ATTRIBUTE_BIS_ID}=${a}]`);i&&(D.SendCandidatePlacementsCount(this.id,1,o.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER,null),D.SendAdCandidates(this.id,[G],o.MESSAGE_TYPE_CANDIDATES_DATA_TWITTER,null),K.ta&&K.ra&&(i.style.cssText+=E?o.STYLES_OUTLINE_VIDEO_AD:o.STYLES_OUTLINE_SUCCESS_DETECT))}}},9473:(a,G,E)=>{const K=E(2880),q=E(1568),o=E(655);a.exports=class extends o{constructor(a,G,E,q){super(a,G,q),this.available=!1,this.twConfig=E,this.AdBlockerAgent=q,this.feedObserver=null,this.activated=!1,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.lastFeedPostAdsCheckTime=K.GetCurrentTimestampMs(),this.lastFeedWhoToFollowAdsCheckTime=K.GetCurrentTimestampMs(),this.feedContainer=null}isVideo(a,G){}HideElement(){}IsAdContentRendered(a,G){}doesElementExists(a){}setSizesAndIdForAllElements(a){}getAdTwitterObject(a,G,E){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}get getFeedContainer(){const a=this.twConfig.FEED.CONTAINER;let G=Array.from(document.querySelectorAll(a)).filter((a=>a&&a.children.length>2));return G&&G.length?G[0]:null}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.startIntervalDetectCandidates.bind(this,q.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processAdsFromFeed()}processAdsFromFeed(){this.processFeedAds(),this.processFeedWhoToFollowAds()}processFeedAds(){this.extractOccurrences(q.TWITTER_AD_PLACEMENT_TYPE_FEED)}processFeedWhoToFollowAds(){this.extractOccurrences(q.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW)}allCellsAndMinImgSpace(a){let G=[],E=0;return a===q.TWITTER_AD_PLACEMENT_TYPE_FEED?(this.feedContainer&&(G=Array.from(this.feedContainer.children)),E=this.twConfig.FEED.MIN_IMGS_SPACE_PERCENTAGE):a===q.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW&&(G=Array.from(document.querySelectorAll(this.twConfig.FEED.WHO_TO_FOLLOW_SELECTOR)),E=this.twConfig.FEED.WHO_TO_FOLLOW_MIN_IMGS_SPACE_PERCENTAGE),G=G.filter((a=>this.isPromoted(a))),{allCells:G,minImgSquarePercentage:E}}extractOccurrences(a){let{allCells:G,minImgSquarePercentage:E}=this.allCellsAndMinImgSpace(a);if(G.length)for(const o of G)if(!o.hasAttribute(q.ATTRIBUTE_BIS_ID)&&!o.hasAttribute(q.ATTRIBUTE_BIS_SIZE)&&this.IsAdContentRendered(o,E)){let G,E=K.GenerateAndSetBisIdToTwitterAds(o);this.setSizesAndIdForAllElements(o);let i=this.isVideo(o,this.twConfig.FEED.TAGS_FOR_VIDEO_TWEET_CHECK);const D=o.cloneNode(!0);let j=this.buildBannerHtml(D,a),A=this.chooseContent(o,j);G=this.getAdTwitterObject(A,o,a,this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT),a===q.TWITTER_AD_PLACEMENT_TYPE_FEED&&(i&&!this.isCarouselCandidate(o)?G.videoData={}:!i&&this.isCarouselCandidate(o)&&this.twConfig.COLLECT_CAROUSEL_DATA&&(G.carouselData={})),this.AdBlockerAgent.IsEnabledForTwitter()&&!this.AdBlockerAgent.IsElementHidden(o)&&(this.HideElement(o),this.AdBlockerAgent.SetHiddenAmount(1)),setTimeout(this.ExtractAd.bind(this,E,G,i),100)}}chooseContent(a,G){return this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT?G:a.querySelector(this.twConfig.FEED.TWEETS_SELECTOR)?a.querySelector(this.twConfig.FEED.TWEETS_SELECTOR):a}buildBannerHtml(a,G){let E=this.feedContainer;this.setWrapperClass(E),a.style.transform="none",a.style.position="relative";let K=this.headCopyWithStyles;const q=document.createElement("html"),o=document.createElement("body"),i=document.createElement("div"),D=E.cloneNode();return D.style.minHeight="auto",i.appendChild(D),this.setWrapperStyles(E,i),q.appendChild(K),D.appendChild(a),o.appendChild(i),q.appendChild(o),q}setWrapperClass(a){let G=a.parentElement,E=!1;if(G)for(let K=0;K<50&&!E&&G;K++)if(G.nextSibling&&-1!==G.nextSibling.nodeName.search(/style/i)&&G.previousSibling&&-1!==G.previousSibling.nodeName.search(/style/i)){let K=G.getAttribute("class");a.className+=a.className.length?" "+K:K,E=!0}else G=G.parentElement}setWrapperStyles(a,G){G.style.cssText=G.style.cssText+`max-width: ${this.maxWidthContainer(a)}`}maxWidthContainer(a){return a?a.offsetWidth+"px":"auto"}get headCopyWithStyles(){const a=document.createElement("head"),G=this.#j();if(G){let E=document.createElement("style");E.innerHTML=G,a.appendChild(E)}const E=Array.from(document.querySelectorAll("head meta")).map((a=>{if(a)return a.cloneNode(!0)}));return E&&E.forEach((G=>{a.appendChild(G)})),a}#j(){const a=Array.from(document.styleSheets);let G=[];for(let E of a)try{G.push(E.cssRules)}catch(a){}return G.reduce(((a,G)=>{for(let E of G)E?.cssText&&(a+=E.cssText+"\n");return a}),"")}isPromoted(a){if(a){const G=Array.from(a.querySelectorAll(this.twConfig.PROMOTED_SELECTOR));if(G.length)return G.some((a=>{const G=a.textContent,E=G.toLowerCase().trim(),K=(E.match(/ /g)||[]).length+1;return!(!G||"string"!=typeof G)&&this.twConfig.PROMOTED_ALIASES.some((a=>{if(K<6&&E.includes(a.toLowerCase().trim())&&!E.startsWith("@"))return!0}))}))}return!1}isCarouselCandidate(a){if(a){if(a.querySelector(this.twConfig.FEED.CHECK_IF_CAROUSEL_QUERY))return!0}return!1}}},5473:()=>{},1402:(a,G,E)=>{const K=E(2880);a.exports=class{constructor(a){this.id=a}InjectDetector(){if(!this.#a()&&document.head){let a=document.createElement("script"),G=function(){document.head.appendChild(a),window.removeEventListener("DOMContentLoaded",G)};this.setAttributes(a),window.addEventListener("DOMContentLoaded",G)}}setAttributes(a){const G=K.getURL("../executors/twitter.js");a.setAttribute("bis_use","true"),a.type="text/javascript",a.setAttribute("charset","utf-8"),a.setAttribute("nonce",""),a.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),a.src=G}#a(){let a=document.querySelector("head");return Array.from(a.querySelectorAll("script")).map((a=>a.src)).some((a=>a.includes("twitter.js")))}}},2880:(a,G,E)=>{const K=E(1568);class q{static QuerySelectorAll(a,G){return document.__proto__.querySelectorAll.call(a,G)}static QuerySelector(a,G){return document.__proto__.querySelector.call(a,G)}static Escape(a){return a.replace(/\"/g,"&quot;")}static ToJSON(a){return"function"==typeof a.toJSON?a.toJSON():JSON.stringify(a)}static GetBaseHref(){let a=q.QuerySelector(document,"base");return a&&a.href?a.href:""}static GetTabIdKey(a){return"tb_"+a}static GetMainPageId(a){return"mp_"+a}static IsOnChromeRuntime(){let a=!0;if(chrome){if(chrome.runtime){try{chrome.runtime.getManifest()}catch(G){a=!1}if(a)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(chrome.app)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(self.navigator.userAgent.toLowerCase().includes("firefox"))return!!chrome.runtime;return!1}static GetElementSize(a){let G={x:0,y:0,w:0,h:0};if(a&&a.getBoundingClientRect){let E=a.getBoundingClientRect();G={x:~~(E.left+window.scrollX),y:~~(E.top+window.scrollY),w:~~E.width,h:~~E.height}}return G}static IsCoordinatesValid(a){return!!(a&&a.hasOwnProperty("x")&&"number"==typeof a.x&&a.hasOwnProperty("y")&&"number"==typeof a.y)}static GetFullElementSize(a,G,E){let K=q.GetElementSize(a);return q.IsCoordinatesValid(E)&&(K.x=K.x+E.x,K.y=K.y+E.y),q.IsCoordinatesValid(G)?(K.abs_x=K.x+G.x,K.abs_y=K.y+G.y):(K.abs_x=K.x,K.abs_y=K.y),K}static SetFullSizeToElement(a,G,E){let K={x:0,y:0,w:0,h:0};return q.IsCoordinatesValid(E)&&(K.x=K.x+E.x,K.y=K.y+E.y),a&&a.setAttribute&&(K=q.GetFullElementSize(a,G,E),a.setAttribute("bis_size",q.ToJSON(K))),K}static GenerateAndSetBisId(a,G){let E=G+q.GenerateQuickId();return a&&a.setAttribute&&a.setAttribute(K.ATTRIBUTE_BIS_ID,E),E}static GenerateAndSetBisIdToFrame(a){return q.GenerateAndSetBisId(a,"fr_")}static GenerateAndSetBisIdToBanner(a){return q.GenerateAndSetBisId(a,"bn_")}static GenerateAndSetBisIdToPinterestAds(a){return q.GenerateAndSetBisId(a,"pt_")}static GenerateAndSetBisIdToInstagramAds(a){return q.GenerateAndSetBisId(a,"ig_")}static GenerateAndSetBisIdToLinkedinAds(a){return q.GenerateAndSetBisId(a,"ln_")}static GenerateAndSetBisIdToFBAds(a){return q.GenerateAndSetBisId(a,"fb_")}static GenerateAndSetBisIdToTwitterAds(a){return q.GenerateAndSetBisId(a,"tw_")}static GenerateAndSetBisIdToRedditAds(a){return q.GenerateAndSetBisId(a,"rd_")}static SetBisDepth(a,G){a&&a.setAttribute&&a.setAttribute("bis_depth",G)}static SetBisChainId(a,G){a&&a.setAttribute&&a.setAttribute("bis_chainid",G)}static SetBannerId(a,G){a&&a.setAttribute&&a.setAttribute("bis_bannerid",G)}static UpdateCandidateStatusBorderColor(a,G){if(a&&a.style&&a.style.cssText&&G){let E="";G.filteredOut?E=K.STYLES_BORDER_BANNER_FILTERED:G.sentToBackend?E=K.STYLES_BORDER_BANNER_SENT:G.targetUrlExtracted?E=K.STYLES_BORDER_BANNER_URL_EXTRACTED:G.fullContentExtracted&&(E=K.STYLES_BORDER_BANNER_CONTENT_EXTRACTED);let q=a.style.cssText;q.includes(E)||(q=q.replace(/((border|outline): .{3,20} solid 6px !important;)|((border|outline): 6px solid .{3,20} !important;)/,E),a.style.cssText=q)}}static GetMainDomainFromHost(a){if(a&&a.split){let G=a.split(".");if(G.length>=2){let a=G[G.length-2],E=G[G.length-1];return G.length>=3&&2===E.length&&3===a.length?`${G[G.length-3]}.${a}.${E}`:a+"."+E}}return null}static GetMainDomainFromUrl(a){return q.GetMainDomainFromHost(q.GetHostNameFromUrl(a))}static GetHostNameFromUrl(a){let G=a.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=G&&G.length>2&&"string"==typeof G[2]&&G[2].length>0?G[2]:null}static IsUrlFromHost(a,G){return-1!==a.indexOf(q.GetMainDomainFromUrl(G))}static IsPublisherInBlacklist(a,G){let E=!1,K=q.GetHostNameFromUrl(a);return G&&G.length&&K&&G.includes(K)&&(E=!0),E}static GetUrlFromStyleStr(a){let G=a.replace(/"/g,"'"),E=G.indexOf("http");-1===E&&(E=G.indexOf("//"));let K=G.indexOf("'",E),q="";return E>0&&K>0&&E<K&&(q=G.substr(E,K-E)),q}static GetCurrentDataTimeStr(a=null){function G(a){return a<10?"0"+a:""+a}let E=a?new Date(a):new Date;return`${E.getFullYear()}-${G(E.getMonth()+1)}-${G(E.getDate())} ${G(E.getHours())}:${G(E.getMinutes())}:${G(E.getSeconds())}`}static GetCurrentDataTimeStrWithGMT(a=null){function G(a){return a<10?"0"+a:""+a}let E=a?new Date(a):new Date;return`${E.getFullYear()}-${G(E.getMonth()+1)}-${G(E.getDate())} ${G(E.getHours())}:${G(E.getMinutes())}:${G(E.getSeconds())} ${E.toTimeString().match(/GMT.\S*/)[0]}`}static GetWindowSize(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}static IsIframeHasContentScript(a){try{if(a&&!q.IsIframeSecure(a)&&"ok"!==a.contentDocument.body.getAttribute("bis_status"))return!1}catch(a){}return!0}static IsIframeSecure(a){return!a||0!==a.src.length&&"about:blank"!==a.src&&"about:srcdoc"!==a.src&&0!==a.src.indexOf("javascript:")}static isValidUrl(a){return"string"==typeof a&&a.length>0&&(-1!==a.indexOf("http")||-1!==a.indexOf("//"))}static IsValidBisId(a){return!!(a.startsWith("mp_")||a.startsWith("bg_")||a.startsWith("fr_"))}static IsYouTubeUrl(a){let G=q.GetHostNameFromUrl(a);return!!G&&-1!==G.indexOf("youtube.com")}static IsFacebookUrl(a){let G=q.GetHostNameFromUrl(a);return!!G&&-1!==G.indexOf("facebook.com")}static IsTwitterUrl(a){let G=q.GetHostNameFromUrl(a);return!!G&&-1!==G.search(/twitter|x\.com/)}static IsRedditUrl(a){let G=q.GetHostNameFromUrl(a);return!!G&&-1!==G.indexOf("reddit.com")}static IsPinterestUrl(a){let G=q.GetHostNameFromUrl(a);return!!G&&-1!==G.search(/pinterest\.(com|ca|at|ch|cl|co\.kr|com\.au|com\.mx|co\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)/)}static IsInstagramUrl(a){let G=q.GetHostNameFromUrl(a);return!!G&&-1!==G.indexOf("instagram.com")}static IsLinkedinUrl(a){let G=q.GetHostNameFromUrl(a);return!!G&&-1!==G.indexOf("linkedin.com")}static IsTiktokUrl(a){return!!~q.GetHostNameFromUrl(a).indexOf("tiktok.com")}static IsTwitchUrl(a){let G=q.GetHostNameFromUrl(a);return!!G&&-1!==G.indexOf("twitch.tv")}static GetFullIdStr(a,G,E){return`ext:${chrome.runtime.id}-chainId:${a}-frameId:${G}-bisId:${E}`}static GetRandomIntInRange(a,G){return parseInt((Math.random()*(G-a)+a).toFixed(0))}static GetCurrentTimestamp(){return Date.now()/1e3|0}static GetCurrentTimestampMs(){return Date.now()}static GenerateQuickId(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22)}static GenerateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(a){let G=16*Math.random()|0;return("x"==a?G:3&G|8).toString(16)}))}static IsInFilterList(a,G){let E=!1;if(a)for(let K=0;K<a.length&&!E;K++)-1!==G.indexOf(a[K])&&(E=!0);return E}static IsChrome(){return-1!==navigator.userAgent.indexOf("Chrome")}static IsFirefox(){return-1!==navigator.userAgent.indexOf("Firefox")}static IsFBVideoDataValid(a){let G=!1;if(a)try{"number"==typeof a.detectionTime&&"string"==typeof a.videoId&&"string"==typeof a.videoUrl&&a.videoId.length&&a.videoUrl.length&&(G=!0)}catch(a){}return G}static GetDefaultAdblockerStatus(){return{[K.ADBLOCKER_FOR_DISPLAY]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_FACEBOOK]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_TWITTER]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_REDDIT]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_PINTEREST]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_INSTAGRAM]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_TIKTOK]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_LINKEDIN]:K.ADBLOCKER_STATUS_DISABLED,[K.USE_LOCAL_CONFIG]:K.ADBLOCKER_STATUS_DISABLED}}static GetImagesSpacePercentage(a,G,E){let K=[];if(!G)return K;const o=E.w*E.h;let i=[],D=Array.from(G.querySelectorAll("*")).map((G=>G.shadowRoot?G.shadowRoot.querySelectorAll(a):"IMG"===G.nodeName||"IFRAME"===G.nodeName?G:G.querySelectorAll(a))).filter((a=>a)).reduce(((a,G)=>(G&&G.length&&G.forEach((G=>{a.includes(G)||a.push(G)})),"IMG"!==G.nodeName&&"IFRAME"!==G.nodeName||a.push(G),a)),[]);if(!D?.length||0===o)return K;for(let G of D){let E=G;E&&E.shadowRoot&&(E=E.shadowRoot.firstElementChild.querySelector(a));let K=q.GetElementSize(E);i.push(K.w*K.h/o*100)}return i}static CheckDocumentReadyState(a){return document.readyState===a}static getURL(a){return chrome.runtime.getURL(a)}static getDataFromStorageLocal(a){return chrome.storage.local.get([a]).then((G=>G[a]?G[a]:G))}static getDataFromStorageSync(a){return new Promise(((G,E)=>{try{chrome.storage.sync.get([a]).then((E=>{E[a]?G(E[a]):G(E)}))}catch(a){E(a)}}))}static GetCookie(a){let G=a+"=",E=decodeURIComponent(document.cookie).split(";");for(let a=0;a<E.length;a++){let K=E[a];for(;" "==K.charAt(0);)K=K.substring(1);if(0==K.indexOf(G))return K.substring(G.length,K.length)}return""}static GetOriginFromHref(a){a&&a.search(/^http/)}static GetLocaleDateString(){try{return(new Date).toJSON().replace("T",", ")}catch(a){return(new Date).toTimeString()}}static GetAllCookies(){return document.cookie}static async waitForElement(a,G=1e4){return new Promise(((E,K)=>{const q=document.querySelector(a);if(q)return E(q);const o=new MutationObserver((()=>{const G=document.querySelector(a);G&&(o.disconnect(),E(G))}));o.observe(document.body,{childList:!0,subtree:!0}),G&&setTimeout((()=>{o.disconnect(),K(new Error(`Element ${a} not found within timeout`))}),G)}))}static getRegExpFromString(a){let G=a.replace(/.*\/([gimy]*)$/,"$1"),E=a.replace(new RegExp("^/(.*?)/"+G+"$"),"$1");return new RegExp(E,G)}}a.exports=q},1568:(a,G,E)=>{const K=E(9358);a.exports=class{static get DOCUMENT_READYSTATE_LOADING(){return"loading"}static get DOCUMENT_READYSTATE_INTERACTIVE(){return"interactive"}static get DOCUMENT_READYSTATE_COMPLETE(){return"complete"}static get ATTRIBUTE_BIS_ID(){return"bis_id"}static get ATTRIBUTE_BIS_SIZE(){return"bis_size"}static get ATTRIBUTE_BIS_STYLE(){return"bis_style"}static get ATTRIBUTE_BIS_STATUS(){return"bis_status"}static get ATTRIBUTE_BIS_LABEL(){return"bis_label"}static get ATTRIBUTE_BIS_ELEMENT_ID(){return"bis_element_id"}static get ATTRIBUTE_BIS_HIDE_HEIGHT(){return"bis_hide_height"}static get ATTRIBUTE_BIS_HIDE_WIDTH(){return"bis_hide_width"}static get ATTRIBUTE_BIS_HIDE_STATUS(){return"bis_hide_status"}static get ATTRIBUTE_BIS_HIDE_LEFT_OFFSET(){return"bis_hide_left_offset"}static get ATTRIBUTE_BIS_PRECISE_AD(){return"bis_precise_ad"}static get ACTIVATION_BY_ADS_MANAGER(){return"ACTIVATION_BY_ADS_MANAGER"}static get ACTIVATION_BY_ADS_SELF(){return"ACTIVATION_BY_ADS_SELF"}static get MESSAGE_ID(){return"PANELOS_MESSAGE"}static get MESSAGE_TYPE_TEST(){return"TEST"}static get MESSAGE_TYPE_IFRAME_CONTENT(){return"IFRAME_CONTENT"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE"}static get MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT(){return"IFRAME_INVALID_CHAIN_SEGMENT_CONTENT"}static get MESSAGE_TYPE_TAB_INITIALIZATION(){return"TAB_INITIALIZATION"}static get MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION(){return"TAB_SINGLE_PAGE_REINITIALIZATION"}static get MESSAGE_TYPE_TAB_URL_CHANGED(){return"TAB_URL_CHANGED"}static get MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED(){return"TAB_ADBLOCKER_STATUS_CHANGED"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION(){return"IFRAME_INITIALIZATION"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION_RESPONSE(){return"IFRAME_INITIALIZATION_RESPONSE"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS(){return"IFRAME_CONTENT_INFO_DETECTED_INPUTS"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS(){return"IFRAME_CONTENT_INFO_DETECTED_REDIRECTS"}static get MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT(){return"HIDDEN_AD_CANDIDATES_AMOUNT"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL(){return"GET_WINDOW_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND(){return"GET_WINDOW_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL(){return"GET_WINDOW_CLICK_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND(){return"GET_WINDOW_CLICK_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_FRAME_CONTENT(){return"GET_FRAME_CONTENT"}static get MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK(){return"TARGET_URL_DETECTION_BY_CLICK"}static get MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET(){return"NEW_PAGE_CREATED_TICKET"}static get MESSAGE_TYPE_PANEL_REGULATOR_RESULT(){return"PANEL_REGULATOR_RESULT"}static get MESSAGE_TYPE_OUT_TICKET(){return"OUT_TICKET"}static get MESSAGE_TYPE_CHAIN_ACTIVATION(){return"CHAIN_ACTIVATION"}static get MESSAGE_TYPE_HEADER_INFO_TO_STORAGE(){return"HEADER_INFO_TO_STORAGE"}static get MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE(){return"LINKEDIN_FRAME_CONTENT_TO_STORAGE"}static get MESSAGE_TYPE_CANDIDATES_DATA_SKINADS(){return"CANDIDATES_DATA_SKINADS"}static get MESSAGE_TYPE_CANDIDATES_DATA_BANNERS(){return"CANDIDATES_DATA_BANNERS"}static get MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK(){return"CANDIDATES_DATA_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH(){return"CANDIDATES_VIDEO_DATA_TWITCH"}static get MESSAGE_TYPE_CANDIDATES_DATA_TWITTER(){return"CANDIDATES_DATA_TWITTER"}static get MESSAGE_TYPE_CANDIDATES_DATA_REDDIT(){return"CANDIDATES_DATA_REDDIT"}static get MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST(){return"CANDIDATES_DATA_PINTEREST"}static get MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM(){return"CANDIDATES_DATA_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN(){return"CANDIDATES_DATA_LINKEDIN"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK(){return"CANDIDATE_PLACEMENTS_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER(){return"CANDIDATE_PLACEMENTS_TWITTER"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT(){return"CANDIDATE_PLACEMENTS_REDDIT"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST(){return"CANDIDATE_PLACEMENTS_PINTEREST"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5(){return"CANDIDATE_PLACEMENTS_HTML5"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM(){return"CANDIDATE_PLACEMENTS_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN(){return"CANDIDATE_PLACEMENTS_LINKEDIN"}static get MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES(){return"HTML5_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES(){return"BANNER_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES(){return"SKIN_AD_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_VIDEO_XHR_CANDIDATE(){return"VIDEO_XHR_CANDIDATE"}static get MESSAGE_TYPE_VIDEO_HAR(){return"VIDEO_HAR"}static get MESSAGE_TYPE_FACEBOOK_VIDEO_DATA(){return"FACEBOOK_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA(){return"FACEBOOK_INSTREAM_DATA"}static get MESSAGE_TYPE_FACEBOOK_MARKETPLACE_VIDEO_DATA(){return"FACEBOOK_MARKETPLACE_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_CANVAS_TEXT(){return"FACEBOOK_CANVAS_TEXT"}static get MESSAGE_TYPE_PINTEREST_VIDEO_DATA(){return"PINTEREST_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_VIDEO_DATA(){return"TWITTER_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_CAROUSEL_DATA(){return"TWITTER_CAROUSEL_DATA"}static get MESSAGE_TYPE_REDDIT_VIDEO_DATA(){return"REDDIT_VIDEO_DATA"}static get MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA(){return"REDDIT_RIGHT_COLUMN_DATA"}static get MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA(){return"INSTAGRAM_VIDEO_DATA"}static get MESSAGE_TYPE_INSTAGRAM_STORY_DATA(){return"INSTAGRAM_STORY_DATA"}static get MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA(){return"INSTAGRAM_FULL_TEXT_DATA"}static get MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES(){return"INSTAGRAM_CAROUSEL_SLIDES_SOURCES"}static get MESSAGE_TYPE_LINKEDIN_VIDEO_DATA(){return"LINKEDIN_VIDEO_DATA"}static get MESSAGE_TYPE_LINKEDIN_SLIDES_DATA(){return"LINKEDIN_SLIDES_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA(){return"VIDEO_TWITCH_INSTREAM_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_ACCESS_TOKEN_DATA(){return"VIDEO_XHR_ACCESS_TOKEN_DATA"}static get MESSAGE_TYPE_TIKTOK_FEED_DATA(){return"TIKTOK_FEED_DATA"}static get MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES(){return"TIKTOK_VIDEO_CANDIDATES"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANALYTICS_ID(){return"GET_PANALYTICS_ID"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANELOS_VERSION(){return"GET_PANELOS_VERSION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_STATUS(){return"GET_ADBLOCKER_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_COUNTERS(){return"GET_ADBLOCKER_COUNTERS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_ADBLOCKER(){return"ENABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_ADBLOCKER(){return"DISABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_DATA_COLLECTION_STATUS(){return"GET_DATA_COLLECTION_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_DATA_COLLECTION(){return"ENABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_DATA_COLLECTION(){return"DISABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT(){return"ADBLOCK_INSPECTOR_AGENT_REPORT"}static get MESSAGE_TYPE_GET_EXCLUDE_LIST(){return"GET_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_INTO_EXCLUDE_LIST(){return"ADD_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_REMOVE_FROM_EXCLUDE_LIST(){return"REMOVE_FROM_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_GET_CURRENT_DOMAIN(){return"GET_CURRENT_DOMAIN"}static get MESSAGE_TYPE_GET_CURRENT_PAGE_URL(){return"GET_CURRENT_PAGE_URL"}static get MESSAGE_TYPE_USE_LOCAL_CONFIG(){return"USE_LOCAL_CONFIG"}static get MESSAGE_TYPE_GET_LOCAL_CONFIG_STATUS(){return"GET_LOCAL_CONFIG_STATUS"}static get ADBLOCKER_STATUS_ENABLED(){return"enabled"}static get ADBLOCKER_STATUS_DISABLED(){return"disabled"}static get VIDEO_TRAFFIC_SOURCE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_SOURCE_JS(){return"JS"}static get VIDEO_TRAFFIC_SOURCE_XHR(){return"XHR"}static get VIDEO_TRAFFIC_MEDIA_TYPE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON(){return"JSON"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON(){return"JSON_FB"}static get VIDEO_TRAFFIC_ALIAS_YT_JSON_NEXTPAGE(){return"YT_JSON_NEXTPAGE"}static get VIDEO_TRAFFIC_ALIAS_YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE(){return"YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH(){return"feedWatch"}static get FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE(){return"marketplace"}static get FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN(){return"rightColumn"}static get FACEBOOK_AD_PLACEMENT_TYPE_STORIES(){return"stories"}static get FACEBOOK_AD_PLACEMENT_TYPE_VIDEO_PAGE(){return"videoPage"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_NAME(){return"[ADVERTISER_NAME]"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_VIDEO_ID(){return"[VIDEO_ID]"}static get TWITTER_AD_PLACEMENT_TYPE_FEED(){return"feedPost"}static get TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW(){return"feedWhoToFollow"}static get TWITTER_AD_PLACEMENT_TYPE_RIGHT_COLUMN_WHO_TO_FOLLOW(){return"rightColumnWhoToFollow"}static get REDDIT_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE(){return"commentPage"}static get REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get LINKEDIN_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get PINTEREST_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get PINTEREST_AD_PLACEMENT_TYPE_SEARCH(){return"searchPage"}static get PINTEREST_AD_PLACEMENT_TYPE_PIN(){return"pinPage"}static get PINTEREST_LOADER_TYPE_PIN_PAGE(){return"pinPage"}static get PINTEREST_LOADER_TYPE_USER_INFO(){return"userInfo"}static get INSTAGRAM_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get INSTAGRAM_AD_PLACEMENT_TYPE_STORY(){return"story"}static get TIKTOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get KNOWN_CSS_NAMES(){return["align-content","align-items","align-self","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","block-size","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start-color","border-block-start-style","border-block-start-width","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-adjust","color-interpolation","color-interpolation-filters","column-count","column-fill","column-gap","column-rule-color","column-rule-style","column-rule-width","column-width","contain","content","counter-increment","counter-reset","counter-set","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","fill","fill-opacity","fill-rule","filter","flex-basis","flex-direction","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column-end","grid-column-start","grid-row-end","grid-row-start","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphens","image-orientation","image-rendering","ime-mode","inline-size","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style-image","list-style-position","list-style-type","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marker-end","marker-mid","marker-start","mask","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-position-x","mask-position-y","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","object-fit","object-position","opacity","order","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-inline","overflow-wrap","overflow-x","overflow-y","overscroll-behavior-x","overscroll-behavior-y","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","paint-order","perspective","perspective-origin","pointer-events","position","quotes","r","resize","right","row-gap","ruby-align","ruby-position","rx","ry","scroll-behavior","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","scrollbar-color","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","table-layout","text-align","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","top","touch-action","transform","transform-box","transform-origin","transform-style","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vector-effect","vertical-align","visibility","white-space","width","will-change","word-break","word-spacing","writing-mode","x","y","z-index","-moz-appearance","-moz-box-align","-moz-box-direction","-moz-box-flex","-moz-box-ordinal-group","-moz-box-orient","-moz-box-pack","-moz-float-edge","-moz-force-broken-image-icon","-moz-image-region","-moz-orient","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-moz-stack-sizing","-moz-tab-size","-moz-text-size-adjust","-moz-user-focus","-moz-user-input","-moz-user-modify","-moz-window-dragging","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke-color","-webkit-text-stroke-width","offset-distance","offset-path","offset-rotate","orphans","speak","tab-size","text-underline-position","text-size-adjust","widows","zoom","-webkit-appearance","-webkit-border-horizontal-spacing","-webkit-border-image","-webkit-border-vertical-spacing","-webkit-box-align","-webkit-box-decoration-break","-webkit-box-direction","-webkit-box-flex","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","column-span","backdrop-filter","-webkit-font-smoothing","-webkit-highlight","-webkit-hyphenate-character","-webkit-line-break","-webkit-locale","-webkit-margin-before-collapse","-webkit-margin-after-collapse","-webkit-mask-box-image","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat","-webkit-mask-box-image-slice","-webkit-mask-box-image-source","-webkit-mask-box-image-width","-webkit-mask-clip","-webkit-mask-composite","-webkit-mask-image","-webkit-mask-origin","-webkit-mask-position","-webkit-mask-repeat","-webkit-mask-size","-webkit-print-color-adjust","-webkit-rtl-ordering","-webkit-tap-highlight-color","-webkit-text-combine","-webkit-text-decorations-in-effect","-webkit-text-emphasis-color","-webkit-text-emphasis-position","-webkit-text-emphasis-style","-webkit-text-orientation","-webkit-text-security","-webkit-user-drag","-webkit-user-modify","-webkit-writing-mode","-webkit-app-region","buffered-rendering","color-rendering","alignment-baseline","baseline-shift","d"]}static get FACEBOOK_DESIGN_VERSION_OLD(){return 1}static get FACEBOOK_DESIGN_VERSION_NEW(){return 2}static get OUT_TICKET_TYPE_SINGLE(){return"SINGLE"}static get OUT_TICKET_TYPE_MULTI(){return"MULTI"}static get ADBLOCKER_FOR_DISPLAY(){return"DISPLAY"}static get ADBLOCKER_FOR_FACEBOOK(){return"FACEBOOK"}static get ADBLOCKER_FOR_TWITTER(){return"TWITTER"}static get ADBLOCKER_FOR_REDDIT(){return"REDDIT"}static get ADBLOCKER_FOR_PINTEREST(){return"PINTEREST"}static get ADBLOCKER_FOR_INSTAGRAM(){return"INSTAGRAM"}static get ADBLOCKER_FOR_TIKTOK(){return"TIKTOK"}static get ADBLOCKER_FOR_LINKEDIN(){return"LINKEDIN"}static get USE_LOCAL_CONFIG(){return"CONFIG"}static get AD_DETECTOR_INITIATOR_TIMER(){return"timer"}static get AD_DETECTOR_INITIATOR_MUTATION(){return"mutation"}static get AD_DETECTOR_INITIATOR_PAGECHANGE(){return"pagechange"}static get AD_DETECTOR_INITIATOR_ACTIVATION(){return"activation"}static get AD_DETECTOR_INITIATOR_URL(){return"url"}static get AD_DETECTOR_INITIATOR_SCROLL_EVENT(){return"scroll"}static get IFRAMES_CHAIN_BUILDING_STATUS_NONE(){return 0}static get IFRAMES_CHAIN_BUILDING_STATUS_INITED(){return 1}static get IFRAMES_CHAIN_BUILDING_STATUS_STARTED(){return 2}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED(){return 3}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_FINISHED(){return 4}static get IFRAMES_CHAIN_BUILDING_STATUS_FINISHED(){return 5}static get IFRAMES_TRAFFIC_FILENAME_TO_INJECT(){return"fr-co.js"}static get CANDIDATE_PROCESS_STATUS_DETECTED(){return 1}static get CANDIDATE_PROCESS_STATUS_START_PROCESSING(){return 2}static get CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED(){return 3}static get CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT(){return 4}static get TICKET_BUILDING_STATUS_INIT(){return 0}static get TICKET_BUILDING_STATUS_STARTED(){return 1}static get TICKET_BUILDING_STATUS_GETTING_WEBNAVIGATION_IFRAMES(){return 2}static get TICKET_BUILDING_STATUS_GOT_WEBNAVIGATION_IFRAMES(){return 3}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_ACTIVE(){return 4}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_DONE(){return 5}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_ACTIVE(){return 6}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_DONE(){return 7}static get TICKET_BUILDING_STATUS_DONE(){return 8}static get MESSAGE_TYPE_CONFIG_NOT_FOUND(){return"CONFIG_NOT_FOUND"}static get MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE(){return"CONFIG_UPDATED_IN_STORAGE"}static get TICKET_ALIAS_PANALYTICSID(){return K.decode("cGFuZWxpc3RJZA==")}static get TICKET_ALIAS_PINSTANCEID(){return K.decode("cGFuZWxJZA==")}static get MAX_OUT_TICKETS_QUEUE_LENGTH(){return 20}static EXCLUDE_DOMAINS_LIST(){return"EXCLUDE_DOMAINS_LIST"}static EXCLUDE_PAGES_LIST(){return"EXCLUDE_PAGES_LIST"}static get STYLES_BORDER_BANNER_CONTENT_EXTRACTED(){return"border: 6px solid blue !important;"}static get STYLES_BORDER_BANNER_URL_EXTRACTED(){return"border: 6px solid blueviolet !important;"}static get STYLES_BORDER_BANNER_FILTERED(){return"border: 6px solid orange !important;"}static get STYLES_BORDER_BANNER_SENT(){return"border: 6px solid green !important;"}static get STYLES_OUTLINE_SUCCESS_DETECT(){return"outline: green solid 6px !important;"}static get STYLES_OUTLINE_VIDEO_AD(){return"outline: rgba(42, 213, 255, 1) solid 6px !important;"}static get STYLES_OUTLINE_TEXT_AD(){return"outline: rgba(243, 143, 20, 1) solid 6px !important;"}static get STYLES_CONSOLE_LOGS_INFO(){return"background-color: rgba(108, 101, 224, 0.2); color: rgba(58, 191, 224, 1)"}static get STYLES_CONSOLE_LOGS_ERROR(){return"background-color: rgba(241, 0, 43, 0.4); color: rgba(58, 191, 224, 1)"}static get STYLES_HIDE_INSTAGRAM_FEED_AD(){return["position: absolute !important; height: 0px !important; margin: 0px !important; padding: 0px !important; overflow: hidden !important;","height: 0px !important; visibility: hidden !important;"]}static get STYLES_HIDE_ELEMENT(){return"left: -10000px !important; position: absolute !important; height: 0;"}}},6882:(a,G,E)=>{const K=E(1568),q=E(2880);a.exports=class{static get EmptyMessage(){return{posdMessageId:K.MESSAGE_ID,posdHash:q.GenerateQuickId(),from:"",to:"",multiTo:[],type:"",content:"",dynamicAppId:chrome?.runtime?.dynamicId}}static IsValid(a){try{if(void 0!==a&&void 0!==a.posdMessageId&&void 0!==a.type&&void 0!==a.content){const G=chrome?.runtime?.dynamicId;return a.posdMessageId===K.MESSAGE_ID&&a.dynamicAppId===G}}catch(a){throw a}return!1}static IsStrictValid(a){try{if(void 0!==a&&void 0!==a.posdMessageId&&void 0!==a.from&&void 0!==a.to&&void 0!==a.type&&void 0!==a.content)return a.posdMessageId===K.MESSAGE_ID}catch(a){throw a}return!1}}},533:(a,G,E)=>{const K=E(1568);a.exports=class{constructor(){}getStylesByElementsBisId(a){let G={};return this.addStylesForNode(a,G),a.querySelectorAll("*").forEach((a=>{this.addStylesForNode(a,G)})),G}addStylesForNode(a,G){let E=this.getStyles(a);G[a.getAttribute(K.ATTRIBUTE_BIS_ELEMENT_ID)]=E}getStyles(a){let G=window.getComputedStyle(a,null);return this.minimiseComputedStyles(G)}minimiseComputedStyles(a){let G={};for(let E=0;E<a.length;E++){let q=a.item(E),o=a.getPropertyValue(q);G[o]||(G[o]=[]);let i=K.KNOWN_CSS_NAMES.indexOf(q);i>=0?G[o].push(i):G[o].push(q)}return G}}},9358:a=>{var G={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a,E=!0){if(TextEncoder&&atob&&btoa&&E)return G.bytesToBase64((new TextEncoder).encode(a));let K,q,o,i,D,j,A,F="",d=0;for(a=G._utf8_encode(a);d<a.length;)K=a.charCodeAt(d++),q=a.charCodeAt(d++),o=a.charCodeAt(d++),i=K>>2,D=(3&K)<<4|q>>4,j=(15&q)<<2|o>>6,A=63&o,isNaN(q)?j=A=64:isNaN(o)&&(A=64),F=F+this._keyStr.charAt(i)+this._keyStr.charAt(D)+this._keyStr.charAt(j)+this._keyStr.charAt(A);return F},decode:function(a,E=!0){if("{"===a[0])return a;if(TextDecoder&&atob&&btoa&&E)return(new TextDecoder).decode(G.base64ToBytes(a));let K,q,o,i,D,j,A,F="",d=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<a.length;)i=this._keyStr.indexOf(a.charAt(d++)),D=this._keyStr.indexOf(a.charAt(d++)),j=this._keyStr.indexOf(a.charAt(d++)),A=this._keyStr.indexOf(a.charAt(d++)),K=i<<2|D>>4,q=(15&D)<<4|j>>2,o=(3&j)<<6|A,F+=String.fromCharCode(K),64!=j&&(F+=String.fromCharCode(q)),64!=A&&(F+=String.fromCharCode(o));return F=G._utf8_decode(F),F},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");let G="";for(let E=0;E<a.length;E++){let K=a.charCodeAt(E);K<128?G+=String.fromCharCode(K):K>127&&K<2048?(G+=String.fromCharCode(K>>6|192),G+=String.fromCharCode(63&K|128)):(G+=String.fromCharCode(K>>12|224),G+=String.fromCharCode(K>>6&63|128),G+=String.fromCharCode(63&K|128))}return G},_utf8_decode:function(a){let G="",E=0,K=0,q=0,o=0;for(;E<a.length;)K=a.charCodeAt(E),K<128?(G+=String.fromCharCode(K),E++):K>191&&K<224?(q=a.charCodeAt(E+1),G+=String.fromCharCode((31&K)<<6|63&q),E+=2):(q=a.charCodeAt(E+1),o=a.charCodeAt(E+2),G+=String.fromCharCode((15&K)<<12|(63&q)<<6|63&o),E+=3);return G},base64ToBytes:function(a){const G=atob(a);return Uint8Array.from(G,(a=>a.codePointAt(0)))},bytesToBase64:function(a){const G=Array.from(a,(a=>String.fromCodePoint(a))).join("");return btoa(G)}};a.exports=G}},G={};function E(K){var q=G[K];if(void 0!==q)return q.exports;var o=G[K]={exports:{}};return a[K](o,o.exports,E),o.exports}E.n=a=>{var G=a&&a.__esModule?()=>a.default:()=>a;return E.d(G,{a:G}),G},E.d=(a,G)=>{for(var K in G)E.o(G,K)&&!E.o(a,K)&&Object.defineProperty(a,K,{enumerable:!0,get:G[K]})},E.o=(a,G)=>Object.prototype.hasOwnProperty.call(a,G),(()=>{"use strict";E(7452);const a=E(1568),G=E(3129),K=E(3870),q=E(2880);if(self===top){(new G).Init()}else if(q.CheckDocumentReadyState(a.DOCUMENT_READYSTATE_LOADING))document.addEventListener("DOMContentLoaded",(()=>{(new K).Init()}));else if(q.CheckDocumentReadyState(a.DOCUMENT_READYSTATE_INTERACTIVE)||q.CheckDocumentReadyState(a.DOCUMENT_READYSTATE_COMPLETE)){(new K).Init()}})()})();