(()=>{var e={681(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.di=t.Di=void 0;const r=n(27304),i=n(22546),o=n(44393);class a{constructor(){this.container=new r.Container}bind(e,t){if(this.has(e))throw new i.DiException(`Already bound key "${e}"`);this.container.bind(e).to(t).inSingletonScope()}bindConstantValue(e,t){if(this.has(e))throw new i.DiException(`Already bound key "${e}"`);this.container.bind(e).toConstantValue(t)}get(e){if(!this.has(e))throw new i.DiException(`No matching bindings found for key "${e}"`);try{return this.container.get(e)}catch(e){throw new i.DiException(e.message)}}has(e){return this.container.isBound(e)}remove(e){if(!this.has(e))throw new i.DiException(`Could not remove key "${e}"`);this.container.unbind(e)}resolve(e){try{return this.container.resolve(e)}catch(e){throw new i.DiException(e.message)}}}t.Di=a,t.di=new a,t.di.bindConstantValue(o.BrotherTypes.di,t.di)},2858(e,t){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};const r=new Uint8Array(16)},2996(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},5215(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onFromToadMessageHandler=void 0;const r=n(96191),i=n(73439),o=n(69877),a=async({message:e})=>{const{payload:t}=e,n=await(0,i.useMarioLinkSafely)(),r={[o.BrotherName.Mario]:()=>{n.sendToMario(e)},[o.BrotherName.Luigi]:()=>{(0,o.sendMessage)(t.message)}};r[t.to]?.()},s=async({message:e,requestId:t,extensionId:n})=>{const{payload:a}=e,s=await(0,i.useMarioLinkSafely)(),c={[o.BrotherName.Mario]:async()=>await s.sendToMarioAsync(e),[o.BrotherName.Luigi]:async()=>await(0,o.sendMessage)(a.message)},u=await(c[a.to]?.()),d={sender:a.to,extensionId:n,requestId:t,message:{toadName:e.toadName,type:r.ToadMessages.fromAsync,payload:{response:u}}};window.postMessage(d)};t.onFromToadMessageHandler=({data:e})=>{const t=e?.extensionId!==chrome.runtime.id,n=e.sender!==r.ToadName;if(t||n)return;const i={[r.ToadMessages.from]:a,[r.ToadMessages.fromAsync]:s};i[e?.message?.type]?.(e)}},6698(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(18171),t),i(n(60462),t),i(n(27652),t),i(n(62716),t)},7667(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(18842),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach(function(n,r){var i=n.filter(function(t){return!e(t)});i.length>0?t._map.set(r,i):t._map.delete(r)})},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(e,n){e.forEach(function(e){return t.add(n,e.clone())})}),t},e.prototype.traverse=function(e){this._map.forEach(function(t,n){e(n,t)})},e}();t.Lookup=i},7775(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(37037))&&r.__esModule?r:{default:r};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},8686(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Brother=void 0;const r=n(44393),i=n(86222),o=n(71661),a=n(60515),s=n(48962),c=n(58842);t.Brother=class{constructor(e,t,n,i){if(this.name=e,this.config=t,this._di=n,this.injections=i,this.registry=new Map,this.working=!1,this.wokeUp=!1,0===e.length)throw new o.BrotherException("a brother name cannot be empty");if(0===t.env.length)throw new o.BrotherException("env name cannot be empty");this.di().bindConstantValue(r.BrotherTypes.env,t.env),this.di().bindConstantValue(r.BrotherTypes.brother,this),this.di().bindConstantValue(r.BrotherTypes.name,e);const a=this.bindAppName(t,e);if(void 0!==t.browser&&0===t.browser.length)throw new o.BrotherException("Browser cannot be empty string");const s=t.browser??r.BrowserName.Chromium;this.di().bindConstantValue(r.BrotherTypes.browser,s),this.bindLogger(t),i.forEach(e=>{this.inject(e)}),this.logger().info(`Brother: name "${e}"`),this.logger().info(`Brother: app name "${a}"`),this.logger().info(`Brother: env "${t.env}"`),this.logger().info(`Brother: browser "${s}"`),y(i).forEach(e=>{this.di().get(e)})}async wakeUp(){if(this.working)throw new o.BrotherException("Brother is already working");if(this.wokeUp)throw new o.BrotherException("Brother is already woke up");if(this.logger().info("Brother: Waking up"),this.wokeUp=!0,null==this.config.modules)return this.logger().info("Brother: No modules"),void this.logger().info("Brother: Woke up");this.config.modules.forEach(e=>{const t=this.di().resolve(e.use);if(this.logger().info(`Brother: Module ${t.name()}`),!t.brothers().includes(this.name))throw new o.BrotherException(`Incorrect usage a module "${t.name()}" is created for "${t.brothers().join(",")}" but tried in "${this.name}"`);const n={name:t.name(),listeners:[],keys:[]};if(this.di().has(t.name()))throw new o.BrotherException(`Module "${t.name()}" is already registered`);this.di().bindConstantValue(t.name(),t),this.bindModuleOptions(n,e.options??{}),this.registry.set(n.name,n)}),this.registry.forEach(e=>{const t=this.di().get(e.name);void 0!==t.dependencies&&t.dependencies().filter(e=>"module"===e.type).forEach(e=>{if(!this.di().has(e.key))throw new o.BrotherException(`Module "${t.name()}" requires a missed module "${e.key}"`)})});let e=[];this.registry.forEach(t=>{this.logger().info(`Module: ${t.name}`);const n=this.di().get(t.name);void 0!==n.injections&&(this.validateModuleInjections(n),n.injections().forEach(e=>{this.inject(e)}),t.keys=n.injections().map(e=>e.key),e=e.concat(y(n.injections())))}),this.registry.forEach(e=>{const t=this.di().get(e.name);void 0!==t.dependencies&&t.dependencies().forEach(e=>{if(!this.di().has(e.key))throw new o.BrotherException(`Module "${t.name()}" requires a missed dependency "${e.key}"`)})}),e.forEach(e=>{this.di().get(e)});const t=m(this.name);let n=!1;t?(a.SessionStorageAdapter.adapt(),n=await g("storage"),await async function(e){if(!e)return;const t=async()=>{try{await chrome.storage.session.set({[u]:d.BEGIN})}catch{l=!0,f=d.BEGIN}},n=async()=>{try{await chrome.storage.session.set({[u]:d.HANDLED})}catch{l=!0,f=d.HANDLED}},r={[d.INIT]:t,[d.BEGIN]:n},i=await p();await(r[i]?.())}(n)):this.logger().info('Brother: a hook "onceSessionBegin" is not supported'),t&&!n&&this.logger().warn('Brother: a hook "onceSessionBegin" won\'t work due en extension does not have a "storage" permission');const r=[],i=[];for(const{name:e}of Array.from(this.registry.values())){const o=this.di().get(e);if(void 0===o.onWokeUp&&void 0===o.onceSessionBegin)continue;const a=this.di().get(`${e}.Options`),s={di:this.di(),options:a};null!=o.onceSessionBegin&&(t?t&&!n?this.logger().warn(`Brother: a hook "onceSessionBegin" can not be handled in module "${o.name()}"`):await h()&&r.push(o.onceSessionBegin(s)):this.logger().warn(`Brother: can not handle a hook "onceSessionBegin" in a module "${o.name()}"`)),null!=o.onWokeUp&&i.push(o.onWokeUp(s))}const s=(e,t)=>{"rejected"===e.status&&this.logger().error(`Brother: a hook "${t}" thrown en error`,e.reason)};(await Promise.allSettled(r)).forEach(e=>{s(e,"onceSessionBegin")});(await Promise.allSettled(i)).forEach(e=>{s(e,"onWokeUp")}),this.registry.forEach(e=>{const t=this.di().get(e.name);void 0!==t.listeners&&(e.listeners=t.listeners().map(e=>this.dispatcher().onWithClass(e)))}),this.logger().info("Brother: Woke up")}async work(){if(this.working)throw new o.BrotherException("Brother is already working");this.wokeUp||await this.wakeUp(),this.working=!0;const e={sender:i.SenderList.Brother,message:{type:s.BrotherMessageList.BrotherWorking,force:!0}};await this.dispatcher().sendBox(e);const t=[];for(const{name:e}of Array.from(this.registry.values())){const n=this.di().get(e);if(void 0===n.onWorking)continue;const r=this.di().get(`${e}.Options`),i={di:this.di(),options:r};t.push(n.onWorking(i))}await Promise.all(t)}env(){return this.config.env}di(){return this._di}async registerModule(e,t){const n=t??{};if(!this.working&&!this.wokeUp){const n=this.config.modules??[];return n.push({use:e,options:t}),void(this.config.modules=n)}const r=this.di().resolve(e),i={name:r.name(),keys:[],listeners:[]};if(!r.brothers().includes(this.name))throw new o.BrotherException(`Incorrect usage a module "${r.name()}" is created for "${r.brothers().join(",")}" but tried in "${this.name}"`);null!=r.dependencies&&r.dependencies().forEach(e=>{if(!this.di().has(e.key))throw new o.BrotherException(`Module "${r.name()}" requires a missed dependency "${e.key}"`)}),null!=r.injections&&(this.validateModuleInjections(r),i.keys=r.injections().map(e=>e.key),r.injections().forEach(e=>{this.inject(e)})),this.bindModuleOptions(i,n),null!=r.injections&&y(r.injections()).forEach(e=>{this.di().get(e)}),this.di().bindConstantValue(r.name(),r);const a=m(this.name);null!=r.onceSessionBegin&&(a&&await g("storage")&&await h()?await r.onceSessionBegin({options:n,di:this.di()}):a&&!await g("storage")?this.logger().warn(`Brother: a hook "onceSessionBegin" can not be handled in module "${r.name()}"`):a||this.logger().warn(`Brother: can not handle a hook "onceSessionBegin" in a module "${r.name()}"`)),null!=r.onWokeUp&&await r.onWokeUp({options:n,di:this.di()}),null!=r.listeners&&(i.listeners=r.listeners().map(e=>this.dispatcher().onWithClass(e))),this.working&&null!=r.onWorking&&await r.onWorking({options:n,di:this.di()}),this.registry.set(r.name(),i)}getModule(e){if(!this.working&&!this.wokeUp)throw new o.BrotherException("Brother is not working yet");if(!this.di().has(e))throw new o.BrotherException(`Module "${e}" not found`);return this.di().get(e)}async removeModule(e){if(!this.working&&!this.wokeUp)throw new o.BrotherException("Brother is not working yet");if(this.logger().info(`Remove module "${e}"`),!this.di().has(e))throw new o.BrotherException(`Module "${e}" not found`);const t=this.registry.get(e),n=this.di().get(t.name),r=this.di().get(`${t.name}.Options`);null!=n.onDestroy&&await n.onDestroy({options:r,di:this.di()}),t.listeners.forEach(e=>{this.dispatcher().remove(e)}),t.keys.forEach(e=>{this.di().remove(e)}),this.registry.delete(e)}dispatcher(){return this.di().get(r.BrotherTypes.dispatcher)}logger(){return this.di().get(r.BrotherTypes.logger)}hasModule(e){return this.registry.has(e)}inject(e){const t={service:e=>{this.di().bind(e.key,e.use)},const:e=>this.di().bindConstantValue(e.key,e.use)};if(void 0!==e.type){if(void 0===t[e.type])throw new o.BrotherException(`Incorrect injection type "${e.type}"`);t[e.type](e)}else this.di().bind(e.key,e.use)}bindModuleOptions(e,t){const n=`${e.name}.Options`;this.di().bindConstantValue(n,t);for(const r in t){const i=`${n}.${r}`;e.keys.push(i),this.di().bindConstantValue(i,t[r])}}bindLogger(e){const t="production"===e.env,n=void 0===e.logging;c.envLoggerState.has()&&n?this.di().bindConstantValue(r.BrotherTypes.logging,c.envLoggerState.get()):n&&t?this.di().bindConstantValue(r.BrotherTypes.logging,!1):n?this.di().bindConstantValue(r.BrotherTypes.logging,!0):this.di().bindConstantValue(r.BrotherTypes.logging,e.logging);const i=void 0===e.loggingHistory;c.envLoggerHistory.has()&&i?this.di().bindConstantValue(r.BrotherTypes.loggerHistory,c.envLoggerHistory.get()):this.di().bindConstantValue(r.BrotherTypes.loggerHistory,Boolean(e.loggingHistory))}bindAppName(e,t){let n=t;if(null==e.appName&&c.envAppName.has())n=c.envAppName.get();else{if(void 0!==e.appName&&0===e.appName.trim().length)throw new o.BrotherException("App name cannot be empty");void 0!==e.appName&&(n=e.appName)}return this.di().bindConstantValue(r.BrotherTypes.appName,n),n}validateModuleInjections(e){if(void 0===e.injections)return;const t=e.injections().filter(e=>_(e)),n=new Map;t.forEach(t=>{if(n.has(t.use)){const r=n.get(t.use),i=`in a module "${e.name()}" detected a duplicated service registration for keys "${r}", "${t.key}"`;throw new o.BrotherException(i)}n.set(t.use,t.key)})}};const u="BROTHER_SESSION_BEGIN";var d;!function(e){e.INIT="INIT",e.BEGIN="BEGIN",e.HANDLED="HANDLED"}(d||(d={}));let l=!1,f=d.INIT;async function p(){if(l)return f;const e=await chrome.storage.session.get(u);return u in e?e[u]:d.INIT}async function h(){const e=await p();return{[d.INIT]:!0,[d.BEGIN]:!0,[d.HANDLED]:!1}[e]}async function g(e){return await chrome.permissions.contains({permissions:[e]})}function y(e){return e.filter(e=>_(e)&&void 0!==e.lazyLoad&&!e.lazyLoad).map(e=>e.key)}function _(e){return"service"===e.type||!("type"in e)}function m(e){return e===r.BrotherName.Mario}},9042(e,t){"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let t=0;t<a;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];s[t]=n}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=s[e][t];for(let e=16;e<80;++e)o[e]=r(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let a=i[0],c=i[1],u=i[2],d=i[3],l=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),s=r(a,5)+n(i,c,u,d)+l+t[i]+o[e]>>>0;l=d,d=u,u=r(c,30)>>>0,c=a,a=s}i[0]=i[0]+a>>>0,i[1]=i[1]+c>>>0,i[2]=i[2]+u>>>0,i[3]=i[3]+d>>>0,i[4]=i[4]+l>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},10367(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiVpnNotificationModule=void 0;const r=n(31635),i=n(69877),o=n(51573),a=n(77314),s=n(28200),c=n(94708),u=n(25565);let d=class{name(){return"VpnNotificationModule"}brothers(){return[i.BrotherName.Luigi]}listeners(){return[o.CreateNotificationListener,c.ShowNotificationListener,u.CloseNotificationListener]}injections(){return[{key:a.LuigiVpnNotificationTypes.iframeManager,use:s.IframeManager}]}};d=r.__decorate([(0,i.injectable)()],d),t.LuigiVpnNotificationModule=d},13146(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiErrorCodes=t.LinkAction=void 0,function(e){e.HANDSHAKE="HANDSHAKE",e.ONETIME="ONETIME",e.REQUEST="REQUEST",e.RESPONSE="RESPONSE"}(t.LinkAction||(t.LinkAction={})),function(e){e.COULD_NOT_ESTABLISH_CONNECTION="COULD_NOT_ESTABLISH_CONNECTION",e.APP_NOT_EXIST="APP_NOT_EXIST",e.TIMEOUT="TIMEOUT"}(t.LuigiErrorCodes||(t.LuigiErrorCodes={}))},13518(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2858))&&r.__esModule?r:{default:r},o=n(49910);let a,s,c=0,u=0;var d=function(e,t,n){let r=t&&n||0;const d=t||new Array(16);let l=(e=e||{}).node||a,f=void 0!==e.clockseq?e.clockseq:s;if(null==l||null==f){const t=e.random||(e.rng||i.default)();null==l&&(l=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=s=16383&(t[6]<<8|t[7]))}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:u+1;const g=p-c+(h-u)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>c)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=h,s=f,p+=122192928e5;const y=(1e4*(268435455&p)+h)%4294967296;d[r++]=y>>>24&255,d[r++]=y>>>16&255,d[r++]=y>>>8&255,d[r++]=255&y;const _=p/4294967296*1e4&268435455;d[r++]=_>>>8&255,d[r++]=255&_,d[r++]=_>>>24&15|16,d[r++]=_>>>16&255,d[r++]=f>>>8|128,d[r++]=255&f;for(let e=0;e<6;++e)d[r+e]=l[e];return t||(0,o.unsafeStringify)(d)};t.default=d},13590(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},14245(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(18842),o=n(55110),a=n(42689);t.resolveInstance=function(e,t,n){var s,c,u=null;if(t.length>0){var d=t.filter(function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument}).map(n);c=d,u=function(e,t,n){var r=t.filter(function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty}),i=r.map(n);return r.forEach(function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o}),e}(u=new((s=e).bind.apply(s,r([void 0],c))),t,n)}else u=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,u),u}},14808(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},14916(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateNotificationListener=void 0;const a=n(69877),s=n(27499),c=n(98538),u=n(63931);let d=class{constructor(e){this.injector=e}on(){return s.TerminatedConnectionNotificationMessages.create}main(){return!1}async handle({message:e}){await this.injector.inject(e.payload)}};d=r([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiTerminatedConnectionNotificationTypes._iframeManager)),i("design:paramtypes",[c.IframeManager])],d),t.CreateNotificationListener=d},14948(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(59025)),i=o(n(22311));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v3",48,i.default);t.default=a},18126(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(76971),t),i(n(73439),t),i(n(13146),t),i(n(74640),t),i(n(63595),t)},18171(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiToadLinkModule=void 0;const i=n(69877),o=n(27652),a=n(60462),s=n(62716),c=n(5215);window.addEventListener("message",c.onFromToadMessageHandler);let u=class{name(){return"ToadLinkModule"}brothers(){return[i.BrotherName.Luigi]}listeners(){return[s.ToToadListener]}injections(){return[{key:a.LuigiToadLinkTypes.link,use:o.LuigiToadLink}]}async onWokeUp({options:e}){const t=document.createElement("script");t.src=chrome.runtime.getURL(e.pathToToad),t.id=chrome.runtime.id,(document.documentElement||document.head)?.prepend(t)}};u=r([(0,i.injectable)()],u),t.LuigiToadLinkModule=u},18575(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(79538),i=n(64492);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"==typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},18842(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},18970(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.isOverlapping=t.IframeIds=void 0,function(e){e.VpnNotification="urban-app-iframe",e.TerminatedConnection="terminated-connection-notification-iframe",e.ConsentReminder="consent-reminder-iframe",e.PriceCheck="price-check-notification-iframe",e.SafeSearch="safesearch-notification-iframe"}(n=t.IframeIds||(t.IframeIds={}));const r=[n.TerminatedConnection,n.VpnNotification,n.ConsentReminder,n.SafeSearch,n.PriceCheck];t.isOverlapping=e=>{const t=r.indexOf(e);return r.slice(0,t).some(e=>document.getElementById(e))}},20657(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShowNotificationListener=void 0;const a=n(69877),s=n(27499),c=n(98538),u=n(63931);let d=class{constructor(e){this.injector=e}on(){return s.TerminatedConnectionNotificationMessages.show}main(){return!1}async handle(){await this.injector.show()}};d=r([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiTerminatedConnectionNotificationTypes._iframeManager)),i("design:paramtypes",[c.IframeManager])],d),t.ShowNotificationListener=d},20782(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(e=1)=>{const t=[],n=[];return async function r(i){if(t.length<e){t.push(i);try{await i()}catch(e){console.log("Callback could be not invoked",i,"Error:",e)}finally{if(t.shift(),n.length){const e=n.shift();r(e.callback).then(t=>e.resolve(t))}}}else await new Promise(e=>{n.push({resolve:e,callback:i})})}}},21616(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(42689),i=n(79538),o=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||o(n,t))};t.traverseAncerstors=o;var a=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=a;var s=a(r.NAMED_TAG);t.namedConstraint=s;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},21681(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(49674),i=n(21616),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},22002(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(48201),s=n(18842),c=n(55110),u=n(42689),d=n(82038),l=n(98191),f=n(64216),p=n(41162),h=n(13590),g=n(80115),y=n(43745),_=n(7667),m=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!=typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=c.BindingScopeEnum.Transient;else if(t.defaultScope!==c.BindingScopeEnum.Singleton&&t.defaultScope!==c.BindingScopeEnum.Transient&&t.defaultScope!==c.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=h.id(),this._bindingDictionary=new _.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new d.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map(function(e){return l.getBindingDictionary(e)}),c=l.getBindingDictionary(a);return s.forEach(function(e){var t;t=c,e.traverse(function(e,n){n.forEach(function(e){t.add(e.serviceIdentifier,e.clone())})})}),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,function(){var t,n,r,o,a;return i(this,function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){var n,r=(n=t.id,function(e){return e.moduleId===n});e._bindingDictionary.removeByCondition(r)})},e.prototype.bind=function(e){var t=this.options.defaultScope||c.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new p.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new _.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,u.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=l.createMockRequest(this,e,t,n);r=i.some(function(e){return e.constraint(o)})}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(y.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(e,t){return t(e)},n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,c.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,c.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,u.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,c.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,c.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,u.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach(function(e){t.applyMiddleware(e)}),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(c)))throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(c);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=l.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),f.resolve(n)}},e}();t.Container=m},22145(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventList=void 0,function(e){e.COULD_NOT_REGISTER_ANONYMOUS="COULD_NOT_REGISTER_ANONYMOUS",e.ANONYMOUS_SUCCESSFULLY_REGISTERED="ANONYMOUS_SUCCESSFULLY_REGISTERED",e.COULD_NOT_GET_SECURITY_TOKEN="COULD_NOT_GET_SECURITY_TOKEN",e.LOCATION_UI="LOCATION_UI",e.EXTENSION_UPDATED="EXTENSION_UPDATED",e.EXTENSION_INSTALLED="EXTENSION_INSTALLED",e.CLICK="CLICK",e.AD_BLOCKER__OFF="AD_BLOCKER__OFF",e.AD_BLOCKER__ON="AD_BLOCKER__ON",e.ANTI_MALWARE__OFF="ANTI_MALWARE__OFF",e.ANTI_MALWARE__ON="ANTI_MALWARE__ON",e.ANTI_MALWARE__NOTIFICATION_SHOWN="ANTI_MALWARE__NOTIFICATION_SHOWN",e.ANTI_MALWARE__NOTIFICATION_CLOSED="ANTI_MALWARE__NOTIFICATION_CLOSED",e.ANTI_MALWARE__STAY_ON_SITE="ANTI_MALWARE__STAY_ON_SITE",e.ANTI_MALWARE__GET_ME_OUT="ANTI_MALWARE__GET_ME_OUT",e.ANTI_PHISHING__ON="ANTI_PHISHING__ON",e.ANTI_PHISHING__OFF="ANTI_PHISHING__OFF",e.PAGE_SHOWN="PAGE_SHOWN",e.PAGE_CLOSED="PAGE_CLOSED",e.POLICY_DECISION="POLICY_DECISION",e.PROMOTION_LINK_CLICKED="PROMOTION_LINK_CLICKED",e.FAIL_TO_SETUP_UNINSTALL_URL="FAIL_TO_SETUP_UNINSTALL_URL",e.REQUEST_ERROR_OCCURRED="REQUEST_ERROR_OCCURRED",e.REQUEST_SENT="REQUEST_SENT",e.REQUEST_COMPLETED="REQUEST_COMPLETED",e.ERROR_OCCURRED="ERROR_OCCURRED",e.DNS_LOOKUP="DNS_LOOKUP",e.PLANET_UPDATED="PLANET_UPDATED",e.WEB_RTC_TOGGLE="WEB_RTC_TOGGLE",e.WEB_RTC_PERMISSIONS_REQUESTED="WEB_RTC_PERMISSION_REQUESTED",e.WEB_RTC_PERMISSION_STATUS="WEB_RTC_PERMISSION_STATUS",e.BYPASS_DOMAIN_ADDED="BYPASS_DOMAIN_ADDED",e.INIT_STARTED="INIT_STARTED",e.INIT_SUCCESS="INIT_SUCCESS",e.INIT_FAILED="INIT_FAILED",e.RETRY_STARTED="RETRY_STARTED",e.RESET_PAGE_SHOWN="RESET_PAGE_SHOWN",e.LOW_INTERNET_BANNER="LOW_INTERNET_BANNER"}(t.EventList||(t.EventList={}))},22311(e,t){"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,a){return r((s=r(r(t,e),r(i,a)))<<(c=o)|s>>>32-c,n);var s,c}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function c(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let i=0;i<n;i+=8){const n=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let i=1732584193,u=-271733879,d=-1732584194,l=271733878;for(let t=0;t<e.length;t+=16){const n=i,f=u,p=d,h=l;i=o(i,u,d,l,e[t],7,-680876936),l=o(l,i,u,d,e[t+1],12,-389564586),d=o(d,l,i,u,e[t+2],17,606105819),u=o(u,d,l,i,e[t+3],22,-1044525330),i=o(i,u,d,l,e[t+4],7,-176418897),l=o(l,i,u,d,e[t+5],12,1200080426),d=o(d,l,i,u,e[t+6],17,-1473231341),u=o(u,d,l,i,e[t+7],22,-45705983),i=o(i,u,d,l,e[t+8],7,1770035416),l=o(l,i,u,d,e[t+9],12,-1958414417),d=o(d,l,i,u,e[t+10],17,-42063),u=o(u,d,l,i,e[t+11],22,-1990404162),i=o(i,u,d,l,e[t+12],7,1804603682),l=o(l,i,u,d,e[t+13],12,-40341101),d=o(d,l,i,u,e[t+14],17,-1502002290),u=o(u,d,l,i,e[t+15],22,1236535329),i=a(i,u,d,l,e[t+1],5,-165796510),l=a(l,i,u,d,e[t+6],9,-1069501632),d=a(d,l,i,u,e[t+11],14,643717713),u=a(u,d,l,i,e[t],20,-373897302),i=a(i,u,d,l,e[t+5],5,-701558691),l=a(l,i,u,d,e[t+10],9,38016083),d=a(d,l,i,u,e[t+15],14,-660478335),u=a(u,d,l,i,e[t+4],20,-405537848),i=a(i,u,d,l,e[t+9],5,568446438),l=a(l,i,u,d,e[t+14],9,-1019803690),d=a(d,l,i,u,e[t+3],14,-187363961),u=a(u,d,l,i,e[t+8],20,1163531501),i=a(i,u,d,l,e[t+13],5,-1444681467),l=a(l,i,u,d,e[t+2],9,-51403784),d=a(d,l,i,u,e[t+7],14,1735328473),u=a(u,d,l,i,e[t+12],20,-1926607734),i=s(i,u,d,l,e[t+5],4,-378558),l=s(l,i,u,d,e[t+8],11,-2022574463),d=s(d,l,i,u,e[t+11],16,1839030562),u=s(u,d,l,i,e[t+14],23,-35309556),i=s(i,u,d,l,e[t+1],4,-1530992060),l=s(l,i,u,d,e[t+4],11,1272893353),d=s(d,l,i,u,e[t+7],16,-155497632),u=s(u,d,l,i,e[t+10],23,-1094730640),i=s(i,u,d,l,e[t+13],4,681279174),l=s(l,i,u,d,e[t],11,-358537222),d=s(d,l,i,u,e[t+3],16,-722521979),u=s(u,d,l,i,e[t+6],23,76029189),i=s(i,u,d,l,e[t+9],4,-640364487),l=s(l,i,u,d,e[t+12],11,-421815835),d=s(d,l,i,u,e[t+15],16,530742520),u=s(u,d,l,i,e[t+2],23,-995338651),i=c(i,u,d,l,e[t],6,-198630844),l=c(l,i,u,d,e[t+7],10,1126891415),d=c(d,l,i,u,e[t+14],15,-1416354905),u=c(u,d,l,i,e[t+5],21,-57434055),i=c(i,u,d,l,e[t+12],6,1700485571),l=c(l,i,u,d,e[t+3],10,-1894986606),d=c(d,l,i,u,e[t+10],15,-1051523),u=c(u,d,l,i,e[t+1],21,-2054922799),i=c(i,u,d,l,e[t+8],6,1873313359),l=c(l,i,u,d,e[t+15],10,-30611744),d=c(d,l,i,u,e[t+6],15,-1560198380),u=c(u,d,l,i,e[t+13],21,1309151649),i=c(i,u,d,l,e[t+4],6,-145523070),l=c(l,i,u,d,e[t+11],10,-1120210379),d=c(d,l,i,u,e[t+2],15,718787259),u=c(u,d,l,i,e[t+9],21,-343485551),i=r(i,n),u=r(u,f),d=r(d,p),l=r(l,h)}return[i,u,d,l]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};t.default=u},22347(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloseSafePriceCheckNotificationListener=void 0;const a=n(69877),s=n(87675),c=n(25563),u=n(70771);let d=class{constructor(e){this.manager=e}on(){return s.SafePriceCheckMessages.closeNotification}main(){return!1}async handle(){this.manager.removeIframe()}};d=r([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiSafePriceCheckTypes.manager)),i("design:paramtypes",[c.LuigiSafePriceCheckManager])],d),t.CloseSafePriceCheckNotificationListener=d},22546(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.injectable=t.DiException=void 0;const r=n(87482);Object.defineProperty(t,"DiException",{enumerable:!0,get:function(){return r.DiException}});const i=n(27304);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return i.inject}}),Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return i.injectable}})},22831(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var r=f(n(13518)),i=f(n(14948)),o=f(n(45073)),a=f(n(77186)),s=f(n(14808)),c=f(n(7775)),u=f(n(37037)),d=f(n(49910)),l=f(n(96792));function f(e){return e&&e.__esModule?e:{default:e}}},24403(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(18842),i=n(42689),o=n(79538);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},25077(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenSafePriceCheckNotificationListener=void 0;const a=n(69877),s=n(87675),c=n(25563),u=n(70771);let d=class{constructor(e){this.manager=e}on(){return s.SafePriceCheckMessages.openNotification}main(){return!1}async handle({message:e}){await this.manager.injectIframe(e.payload.url)}};d=r([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiSafePriceCheckTypes.manager)),i("design:paramtypes",[c.LuigiSafePriceCheckManager])],d),t.OpenSafePriceCheckNotificationListener=d},25563(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiSafePriceCheckManager=void 0;const a=n(69877);let s=class{constructor(e,t){this.options=e,this.logger=t,this.iframe=null,this.id="price-check-notification-iframe"}async injectIframe(e){if(null!=this.iframe)return void this.logger.info("LuigiSafePriceCheckManager: an iframe was already injected");const t=document.createElement("iframe"),n=`${this.options.iframe.url}?url=${decodeURIComponent(e)}`;t.src=chrome.runtime.getURL(n),t.id=this.id,this.iframe=t;const r=this.options.iframe.style;Object.entries(r).forEach(([e,n])=>{t.style[e]=n}),this.logger.info(`LuigiSafePriceCheckManager: inject(url=${e})`),document.body.prepend(t)}removeIframe(){null!=this.iframe?(this.logger.info("LuigiSafePriceCheckManager: remove iframe"),this.iframe.remove(),this.iframe=null):this.logger.info("LuigiSafePriceCheckManager: could not remove due an iframe is not exist")}};s=r([(0,a.injectable)(),o(0,(0,a.inject)("SafePriceCheckModule.Options")),o(1,(0,a.inject)(a.BrotherTypes.logger)),i("design:paramtypes",[Object,Object])],s),t.LuigiSafePriceCheckManager=s},25565(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseNotificationListener=void 0;const r=n(31635),i=n(69877),o=n(63530),a=n(28200),s=n(77314);let c=class{constructor(e){this.injector=e}on(){return o.VpnNotificationMessages.close}main(){return!1}handle(){return r.__awaiter(this,void 0,void 0,function*(){this.injector.close()})}};c=r.__decorate([(0,i.injectable)(),r.__param(0,(0,i.inject)(s.LuigiVpnNotificationTypes.iframeManager)),r.__metadata("design:paramtypes",[a.IframeManager])],c),t.CloseNotificationListener=c},26183(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(49348),t),i(n(68663),t),i(n(55378),t)},26530(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Analytics=void 0;const r=n(31635),i=n(69877),o=n(64816),a=n(22145),s=n(34123),c=n(38735),u=r.__importDefault(n(20782)),d=r.__importDefault(n(51502)),l=e=>r.__awaiter(void 0,void 0,void 0,function*(){var t,{eventId:n}=e,i=r.__rest(e,["eventId"]);const o=null!==(t=(yield chrome.storage.local.get(c.STORED_ANALYTICS_EVENTS))[c.STORED_ANALYTICS_EVENTS])&&void 0!==t?t:{};o[n]=i,yield chrome.storage.local.set({[c.STORED_ANALYTICS_EVENTS]:o})});let f=class{constructor(e,t){this.sendMessage=e,this.options=t,this.storeQueue=(0,u.default)()}track(e){return r.__awaiter(this,void 0,void 0,function*(){Object.assign(e,{eventId:(0,d.default)()}),e.timestamp||(e.timestamp=Date.now()),e.details.TOOLBAR_SESSION_ID=this.options.sessionId;const t={type:o.AnalyticsMessages.trackEvent,payload:e};try{yield this.storeQueue(l.bind(null,e)),yield this.sendMessage(t)}catch(e){i.logger.info("LuigiAnalytics: Event could not be send",e)}})}trackClick(e,t,n,i){return r.__awaiter(this,void 0,void 0,function*(){const r={event:a.EventList.CLICK,manual:!0,details:{SOURCE:e,ID:t,TO:i,TYPE:n}};yield this.track(r)})}pageView(e,t,n){return r.__awaiter(this,void 0,void 0,function*(){const r={event:a.EventList.PAGE_SHOWN,manual:!1,details:Object.assign({SOURCE:e,ID:e,COUNTRY:t},n&&{REGION:n})};yield this.track(r)})}pageClosed(e,t,n){return r.__awaiter(this,void 0,void 0,function*(){const r={event:a.EventList.PAGE_CLOSED,manual:null==n||n,details:Object.assign({SOURCE:e,ID:e},t&&{DURATION:t})};yield this.track(r)})}};f=r.__decorate([(0,i.injectable)(),r.__param(0,(0,i.inject)(s.SendMessageProviderTypes.sendMessage)),r.__param(1,(0,i.inject)("AnalyticsModule.Options")),r.__metadata("design:paramtypes",[Function,Object])],f),t.Analytics=f},27136(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiLinkModule=void 0;const i=n(69877),o=n(76971),a=n(74640),s=n(68616),c=n(34869);chrome.runtime.onMessage.addListener(async e=>{const t=await(0,i.useBrotherSafely)();if((0,a.isBoxFromLink)(e)){const n=t.di().get(o.LuigiLinkTypes._communicator);return void await n.handleBox(e)}t.logger().warn("LinkModule: Not a link message received",e)});let u=class{name(){return"LinkModule"}brothers(){return[i.BrotherName.Luigi]}injections(){return[{key:o.LuigiLinkTypes.link,use:c.MarioLinkService},{key:o.LuigiLinkTypes._communicator,use:s.Communicator}]}};u=r([(0,i.injectable)()],u),t.LuigiLinkModule=u},27259(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.Logger=void 0;const a=n(22546),s=n(89980),c=n(44393),u=n(681),d=n(58842);let l=class{constructor(e){this.di=e,this.collapseCounter=0,this.logHistory=[],this.onLogCallbacks=[],this.mapper=new Map,this.setupLogMethodMapper()}info(...e){this.write(console.info,s.LogLevel.INFO,e)}warn(...e){this.write(console.warn,s.LogLevel.WARN,e)}error(...e){this.write(console.error,s.LogLevel.ERROR,e)}group(...e){this.write(console.group,s.LogLevel.INFO,e),this.collapseCounter++}groupCollapsed(...e){this.write(console.groupCollapsed,s.LogLevel.INFO,e),this.collapseCounter++}groupEnd(...e){this.write(console.groupEnd,s.LogLevel.INFO,e),0!==this.collapseCounter&&this.collapseCounter--}getHistory(){return this.logHistory}onLog(e){this.onLogCallbacks.push(e)}logging(){return this.di.get(c.BrotherTypes.logging)}loggingHistory(){return this.di.get(c.BrotherTypes.loggerHistory)}write(e,t,n){if(this.storeHistory(t,n),this.invokeListeners(e,t,n),this.logging()){if("string"==typeof n[0]&&0===this.collapseCounter){const[t,...r]=n,i=this.di.get(c.BrotherTypes.appName);return void e.apply(console,[`[${i}] ${t}`,...r])}e.apply(console,n)}}storeHistory(e,t){if(!this.loggingHistory())return;const n={...this.makeBaseLog(e,t),ts:Date.now()};this.logHistory=[n,...this.logHistory]}invokeListeners(e,t,n){const r={...this.makeBaseLog(t,n),method:this.mapper.get(e)};this.onLogCallbacks.forEach(e=>{try{e(r)}catch(e){console.error(e)}})}makeBaseLog(e,t){const n=Boolean(Array.isArray(t)&&t.length);return{level:e,args:n?t.slice(1):t,...n&&{msg:t[0]}}}setupLogMethodMapper(){this.mapper.set(console.info,s.LogMethod.INFO),this.mapper.set(console.warn,s.LogMethod.WARN),this.mapper.set(console.error,s.LogMethod.ERROR),this.mapper.set(console.group,s.LogMethod.GROUP),this.mapper.set(console.groupCollapsed,s.LogMethod.GROUP_COLLAPSED),this.mapper.set(console.groupEnd,s.LogMethod.GROUP_END)}};l=r([(0,a.injectable)(),o(0,(0,a.inject)(c.BrotherTypes.di)),i("design:paramtypes",[Object])],l),t.Logger=l,u.di.bindConstantValue(c.BrotherTypes.logging,d.envLoggerState.get()),u.di.bindConstantValue(c.BrotherTypes.loggerHistory,d.envLoggerHistory.get()),u.di.bindConstantValue(c.BrotherTypes.appName,d.envAppName.get()),t.logger=new l(u.di),u.di.bindConstantValue(c.BrotherTypes.logger,t.logger)},27304(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var r=n(42689);t.METADATA_KEY=r;var i=n(22002);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var o=n(55110);Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var a=n(58489);Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var s=n(38126);Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return s.injectable}});var c=n(18575);Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return c.tagged}});var u=n(73570);Object.defineProperty(t,"named",{enumerable:!0,get:function(){return u.named}});var d=n(99070);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return d.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return d.LazyServiceIdentifer}});var l=n(74959);Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return l.optional}});var f=n(81035);Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return f.unmanaged}});var p=n(54252);Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return p.multiInject}});var h=n(64894);Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return h.targetName}});var g=n(24403);Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return g.postConstruct}});var y=n(82038);Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return y.MetadataReader}});var _=n(13590);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return _.id}});var m=n(64492);Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return m.decorate}});var v=n(21616);Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return v.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return v.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return v.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return v.typeConstraint}});var b=n(80115);Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return b.getServiceIdentifierAsString}});var T=n(94188);Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return T.multiBindToService}})},27499(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminatedConnectionNotificationMessages=void 0,function(e){e.create="TerminatedConnectionNotification.Create",e.show="TerminatedConnectionNotification.Show",e.close="TerminatedConnectionNotification.Close",e.reconnect="TerminatedConnectionNotification.Reconnect",e.notifyOnFail="TerminatedConnectionNotification.NotifyOnFail",e.documentClicked="TerminatedConnectionNotification.DocumentClicked"}(t.TerminatedConnectionNotificationMessages||(t.TerminatedConnectionNotificationMessages={}))},27652(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiToadLink=void 0;const i=n(69877),o=n(96191);let a=class{sendToToad(e,t){const n={sender:i.BrotherName.Luigi,extensionId:chrome.runtime.id,message:{toadName:t,type:o.ToadMessages.to,payload:{message:e}}};window.postMessage(n)}};a=r([(0,i.injectable)()],a),t.LuigiToadLink=a},27656(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},28200(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IframeManager=void 0;const r=n(31635),i=n(69877),o=n(18970);let a=class{constructor(e,t){this.logger=e,this.options=t}inject(e){return r.__awaiter(this,void 0,void 0,function*(){const t="LuigiNotificationModule.IframeManager: inject()";this.logger.groupCollapsed(t);const n=JSON.stringify(e,null,2);this.logger.info(n),this.logger.groupEnd(t),this.iframe?this.logger.info("LuigiNotificationModule.IframeManager: an iframe is already exist"):(0,o.isOverlapping)(o.IframeIds.VpnNotification)?this.logger.info("LuigiNotificationModule.IframeManager: current iframe will overlap another iframe"):yield new Promise(t=>{this.iframe=document.createElement("iframe");const n=JSON.stringify(e),r=encodeURIComponent(n);this.iframe.onload=()=>{t()},Object.keys(this.options.style).forEach(e=>{this.iframe.style instanceof CSSStyleDeclaration&&(this.iframe.style[e]=this.options.style[e])});const i=`${this.options.iframeUrl}?payload=${r}`;this.iframe.src=chrome.runtime.getURL(i),this.iframe.id=o.IframeIds.VpnNotification,document.body.insertBefore(this.iframe,document.body.firstChild)})})}show(){return r.__awaiter(this,void 0,void 0,function*(){if(this.logger.info("LuigiNotificationModule.IframeManager: show()"),!this.iframe){const e="LuigiNotificationModule.IframeManager: could not show a notification due an iframe is not exist";return void this.logger.warn(e)}this.iframe.style.right="16px"})}close(){if(this.logger.info("LuigiNotificationModule.IframeManager: close()"),!this.iframe){const e="LuigiNotificationModule.IframeManager: could not close a notification due an iframe is not exist";return void this.logger.warn(e)}this.iframe.addEventListener("transitionend",()=>{this.iframe.remove(),this.iframe=null}),this.iframe.style.right="-1600px"}};a=r.__decorate([(0,i.injectable)(),r.__param(0,(0,i.inject)(i.BrotherTypes.logger)),r.__param(1,(0,i.inject)("VpnNotificationModule.Options")),r.__metadata("design:paramtypes",[Object,Object])],a),t.IframeManager=a},31635(e,t,n){"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>B,__assign:()=>o,__asyncDelegator:()=>N,__asyncGenerator:()=>w,__asyncValues:()=>M,__await:()=>E,__awaiter:()=>h,__classPrivateFieldGet:()=>L,__classPrivateFieldIn:()=>R,__classPrivateFieldSet:()=>C,__createBinding:()=>y,__decorate:()=>s,__disposeResources:()=>D,__esDecorate:()=>u,__exportStar:()=>_,__extends:()=>i,__generator:()=>g,__importDefault:()=>P,__importStar:()=>j,__makeTemplateObject:()=>A,__metadata:()=>p,__param:()=>c,__propKey:()=>l,__read:()=>v,__rest:()=>a,__rewriteRelativeImportExtension:()=>x,__runInitializers:()=>d,__setFunctionName:()=>f,__spread:()=>b,__spreadArray:()=>O,__spreadArrays:()=>T,__values:()=>m,default:()=>U});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,i,o){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?r.static?e:e.prototype:null,l=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),f=!1,p=n.length-1;p>=0;p--){var h={};for(var g in r)h[g]="access"===g?{}:r[g];for(var g in r.access)h.access[g]=r.access[g];h.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var y=(0,n[p])("accessor"===c?{get:l.get,set:l.set}:l[u],h);if("accessor"===c){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(s=a(y.get))&&(l.get=s),(s=a(y.set))&&(l.set=s),(s=a(y.init))&&i.unshift(s)}else(s=a(y))&&("field"===c?i.unshift(s):l[u]=s)}d&&Object.defineProperty(d,r.name,l),f=!0}function d(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function l(e){return"symbol"==typeof e?e:"".concat(e)}function f(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})}function g(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var y=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function _(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||y(t,e,n)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function T(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function O(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=i[e](t)).value instanceof E?Promise.resolve(n.value.v).then(c,u):d(o[0][2],n)}catch(e){d(o[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function N(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:i?i(t):t}:i}}function M(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},I=function(e){return I=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},I(e)};function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=I(e),r=0;r<n.length;r++)"default"!==n[r]&&y(t,e,n[r]);return S(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function C(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function R(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function B(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var k="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function D(e){function t(t){e.error=e.hasError?new k(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function i(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(e){return t(e),i()})}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function x(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,i,o){return n?t?".jsx":".js":!r||i&&o?r+i+"."+o.toLowerCase()+"js":e}):e}const U={__extends:i,__assign:o,__rest:a,__decorate:s,__param:c,__esDecorate:u,__runInitializers:d,__propKey:l,__setFunctionName:f,__metadata:p,__awaiter:h,__generator:g,__createBinding:y,__exportStar:_,__values:m,__read:v,__spread:b,__spreadArrays:T,__spreadArray:O,__await:E,__asyncGenerator:w,__asyncDelegator:N,__asyncValues:M,__makeTemplateObject:A,__importStar:j,__importDefault:P,__classPrivateFieldGet:L,__classPrivateFieldSet:C,__classPrivateFieldIn:R,__addDisposableResource:B,__disposeResources:D,__rewriteRelativeImportExtension:x}},33159(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},33949(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},34123(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(88135),t),i(n(82130),t)},34869(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MarioLinkService=void 0;const a=n(76971),s=n(69877);let c=class{communicator;constructor(e){this.communicator=e}sendToMario(e){this.communicator.sendToMario(e)}async sendToMarioAsync(e){return await this.communicator.sendToMarioAsync(e)}};c=r([(0,s.injectable)(),o(0,(0,s.inject)(a.LuigiLinkTypes._communicator)),i("design:paramtypes",[Object])],c),t.MarioLinkService=c},37037(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(27656))&&r.__esModule?r:{default:r};var o=function(e){return"string"==typeof e&&i.default.test(e)};t.default=o},38126(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(18842),i=n(42689);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},38735(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORED_ANALYTICS_EVENTS=void 0,t.STORED_ANALYTICS_EVENTS="STORED_ANALYTICS_EVENTS"},40633(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(49674),i=n(21681),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},41162(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(18842),i=n(55110),o=n(91673),a=n(40633),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},e}();t.BindingToSyntax=s},42689(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},43745(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},44393(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrotherTypes=t.BrowserName=t.BrotherName=t.BrotherException=void 0;const r=n(71661);Object.defineProperty(t,"BrotherException",{enumerable:!0,get:function(){return r.BrotherException}}),function(e){e.Mario="Mario",e.Luigi="Luigi"}(t.BrotherName||(t.BrotherName={})),function(e){e.Firefox="Firefox",e.Chrome="Chrome",e.Opera="Opera",e.Chromium="Chromium",e.Edge="Edge"}(t.BrowserName||(t.BrowserName={})),function(e){e.appName="Brother.AppName",e.brother="Brother",e.dispatcher="Brother.Dispatcher",e.di="Brother.DI",e.env="Brother.ENV",e.logger="Brother.Logger",e.loggerHistory="Brother.LoggerHistory",e.logging="Brother.Logging",e.name="Brother.Name",e.browser="Brother.Browser"}(t.BrotherTypes||(t.BrotherTypes={}))},44654(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloseNotificationListener=void 0;const a=n(69877),s=n(27499),c=n(98538),u=n(63931),d=n(18126);let l=class{constructor(e,t){this.injector=e,this.marioLink=t}on(){return s.TerminatedConnectionNotificationMessages.close}main(){return!1}async handle({message:e}){e.payload.notifyOnFail&&this.marioLink.sendToMario({type:s.TerminatedConnectionNotificationMessages.notifyOnFail}),this.injector.close()}};l=r([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiTerminatedConnectionNotificationTypes._iframeManager)),o(1,(0,a.inject)(d.LuigiLinkTypes.link)),i("design:paramtypes",[c.IframeManager,Object])],l),t.CloseNotificationListener=l},44741(e,t,n){var r;!function(e){!function(){var t="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===t.Reflect?t.Reflect=e:r=i(t.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,c={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),d="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,f=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,p=new(d||"function"!=typeof WeakMap?ne():WeakMap);function h(e,t,n,r){if(B(n)){if(!H(e))throw new TypeError;if(!q(t))throw new TypeError;return w(e,t)}if(!H(e))throw new TypeError;if(!x(t))throw new TypeError;if(!x(r)&&!B(r)&&!k(r))throw new TypeError;return k(r)&&(r=void 0),N(e,t,n=V(n),r)}function g(e,t){function n(n,r){if(!x(n))throw new TypeError;if(!B(r)&&!Y(r))throw new TypeError;P(e,t,n,r)}return n}function y(e,t,n,r){if(!x(n))throw new TypeError;return B(r)||(r=V(r)),P(e,t,n,r)}function _(e,t,n){if(!x(t))throw new TypeError;return B(n)||(n=V(n)),A(e,t,n)}function m(e,t,n){if(!x(t))throw new TypeError;return B(n)||(n=V(n)),S(e,t,n)}function v(e,t,n){if(!x(t))throw new TypeError;return B(n)||(n=V(n)),I(e,t,n)}function b(e,t,n){if(!x(t))throw new TypeError;return B(n)||(n=V(n)),j(e,t,n)}function T(e,t){if(!x(e))throw new TypeError;return B(t)||(t=V(t)),L(e,t)}function O(e,t){if(!x(e))throw new TypeError;return B(t)||(t=V(t)),C(e,t)}function E(e,t,n){if(!x(t))throw new TypeError;B(n)||(n=V(n));var r=M(t,n,!1);if(B(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||p.delete(t),!0}function w(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!B(r)&&!k(r)){if(!q(r))throw new TypeError;t=r}}return t}function N(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!B(o)&&!k(o)){if(!x(o))throw new TypeError;r=o}}return r}function M(e,t,n){var r=p.get(e);if(B(r)){if(!n)return;r=new l,p.set(e,r)}var i=r.get(t);if(B(i)){if(!n)return;i=new l,r.set(t,i)}return i}function A(e,t,n){if(S(e,t,n))return!0;var r=Z(t);return!k(r)&&A(e,r,n)}function S(e,t,n){var r=M(t,n,!1);return!B(r)&&W(r.has(e))}function I(e,t,n){if(S(e,t,n))return j(e,t,n);var r=Z(t);return k(r)?void 0:I(e,r,n)}function j(e,t,n){var r=M(t,n,!1);if(!B(r))return r.get(e)}function P(e,t,n,r){M(n,r,!0).set(e,t)}function L(e,t){var n=C(e,t),r=Z(e);if(null===r)return n;var i=L(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new f,a=[],s=0,c=n;s<c.length;s++){var u=c[s];o.has(u)||(o.add(u),a.push(u))}for(var d=0,l=i;d<l.length;d++){u=l[d];o.has(u)||(o.add(u),a.push(u))}return a}function C(e,t){var n=[],r=M(e,t,!1);if(B(r))return n;for(var i=J(r.keys()),o=0;;){var a=Q(i);if(!a)return n.length=o,n;var s=z(a);try{n[o]=s}catch(e){try{X(i)}finally{throw e}}o++}}function R(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function B(e){return void 0===e}function k(e){return null===e}function D(e){return"symbol"==typeof e}function x(e){return"object"==typeof e?null!==e:"function"==typeof e}function U(e,t){switch(R(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=K(e,r);if(void 0!==i){var o=i.call(e,n);if(x(o))throw new TypeError;return o}return G(e,"default"===n?"number":n)}function G(e,t){if("string"===t){var n=e.toString;if($(n))if(!x(i=n.call(e)))return i;if($(r=e.valueOf))if(!x(i=r.call(e)))return i}else{var r;if($(r=e.valueOf))if(!x(i=r.call(e)))return i;var i,o=e.toString;if($(o))if(!x(i=o.call(e)))return i}throw new TypeError}function W(e){return!!e}function F(e){return""+e}function V(e){var t=U(e,3);return D(t)?t:F(t)}function H(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function $(e){return"function"==typeof e}function q(e){return"function"==typeof e}function Y(e){switch(R(e)){case 3:case 4:return!0;default:return!1}}function K(e,t){var n=e[t];if(null!=n){if(!$(n))throw new TypeError;return n}}function J(e){var t=K(e,i);if(!$(t))throw new TypeError;var n=t.call(e);if(!x(n))throw new TypeError;return n}function z(e){return e.value}function Q(e){var t=e.next();return!t.done&&t}function X(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new l}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(c.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",h),e("metadata",g),e("defineMetadata",y),e("hasMetadata",_),e("hasOwnMetadata",m),e("getMetadata",v),e("getOwnMetadata",b),e("getMetadataKeys",T),e("getOwnMetadataKeys",O),e("deleteMetadata",E)}(r)}()}(r||(r={}))},45073(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(46140)),i=a(n(2858)),o=n(49910);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,o.unsafeStringify)(a)};t.default=s},45904(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredModuleNotRegisteredException=t.BrotherAlreadyCreatedException=t.BrotherNotCreatedException=t.useService=t.useLogger=t.useDispatcher=t.useDi=t.useLuigi=t.useMario=t.useBrotherSafely=t.useBrotherAsync=t.useBrother=t.isBoxFromBrother=t.isBoxFromManual=t.makeLuigi=t.makeMario=t.makeBrother=void 0;const r=n(86222),i=n(44393),o=n(681),a=n(8686),s=n(48962);let c,u=!1;const d=[];function l(e,t){if(null!=c)throw new g(`Brother "${c.name}" is already created`);return o.di.remove(i.BrotherTypes.loggerHistory),o.di.remove(i.BrotherTypes.logging),o.di.remove(i.BrotherTypes.appName),c=new a.Brother(e,t,o.di,[]),c.dispatcher().on(s.BrotherMessageList.BrotherWorking,()=>{u=!0,d.forEach(e=>{e(c)})},!1),c}function f(){if(null==c)throw new h("Brother is not created");return c}async function p(){return c&&u?c:await new Promise(e=>{d.push(e)})}t.makeBrother=l,t.makeMario=function(e){return l(i.BrotherName.Mario,e)},t.makeLuigi=function(e){return l(i.BrotherName.Luigi,e)},t.isBoxFromManual=function(e){return e.sender===r.SenderList.Manual},t.isBoxFromBrother=function(e){return e.sender===r.SenderList.Brother},t.useBrother=f,t.useBrotherAsync=p,t.useBrotherSafely=async function(){return await p()},t.useMario=function(){return f()},t.useLuigi=function(){return f()},t.useDi=function(){return f().di()},t.useDispatcher=function(){return f().dispatcher()},t.useLogger=function(){return f().logger()},t.useService=function(e,t){const n=f();if(!n.hasModule(e))throw new y(`Required a module "${e}" is not registered`);return n.di().get(t)};class h extends i.BrotherException{constructor(e){super(e),this.name="BrotherNotCreatedException"}}t.BrotherNotCreatedException=h;class g extends i.BrotherException{constructor(e){super(e),this.name="BrotherAlreadyCreatedException"}}t.BrotherAlreadyCreatedException=g;class y extends i.BrotherException{constructor(e){super(e),this.name="RequiredModuleNotRegisteredException"}}t.RequiredModuleNotRegisteredException=y},46140(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},46329(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentClickListener=void 0;const a=n(63931),s=n(98538),c=n(69877),u=n(27499);let d=class{constructor(e){this.popupManager=e}on(){return u.TerminatedConnectionNotificationMessages.documentClicked}main(){return!1}async handle(){this.popupManager.close()}};d=r([(0,c.injectable)(),o(0,(0,c.inject)(a.LuigiTerminatedConnectionNotificationTypes._iframeManager)),i("design:paramtypes",[s.IframeManager])],d),t.DocumentClickListener=d},46844(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(79784),t),i(n(56012),t),i(n(69167),t)},47599(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiAnalyticsModule=void 0;const r=n(31635),i=n(69877),o=n(78770),a=n(26530);let s=class{name(){return"AnalyticsModule"}brothers(){return[i.BrotherName.Luigi]}dependencies(){return[{key:"SendMessageProviderModule",type:"module"}]}injections(){return[{key:o.LuigiAnalyticsTypes.analytics,use:a.Analytics}]}};s=r.__decorate([(0,i.injectable)()],s),t.LuigiAnalyticsModule=s},48201(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(55110),i=n(13590),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},48909(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendMessage=t.dispatcher=t.Dispatcher=void 0;const a=n(44393),s=n(86222),c=n(22546),u=n(48962),d=n(681),l=n(27259);let f=class{constructor(e,t){this.di=e,this.logger=t,this.registry=new Map,this.index=new Map,this.registerOfHandlers=new Set,this.counter=0,this.brotherWokeUp=!1,this.pending=[];const n=this.on(u.BrotherMessageList.BrotherWorking,()=>{this.brotherWokeUp=!0,this.pending.forEach(e=>{this.sendBox(e.box).then(t=>{e.resolve(t)})}),this.pending=[],this.remove(n)},!1)}onWithClass(e){if(this.registerOfHandlers.has(e))throw new s.DispatcherException(`This listener(class) ${e.name} is already registered`);this.registerOfHandlers.add(e);const t=this.di.resolve(e);return this.on(t.on(),t.handle.bind(t),t.main(),null==t.sync||t.sync())}on(e,t,n,r=!0){if(this.registerOfHandlers.has(t))throw new s.DispatcherException(`This listener(callback)${t.name} is already registered`);this.registerOfHandlers.add(t);let i=this.registry.get(e);if(void 0===i&&(i={main:{id:null,listener:null},general:new Map},this.registry.set(e,i)),n&&null!=i.main.id)throw new s.DispatcherException(`a main listener for "${e}" is already exist`);if(n&&!r)throw new s.DispatcherException(`a main listener cannot be async for message "${e}"`);this.counter++,n?(i.main.id=this.counter,i.main.listener={sync:!0,handler:t}):i.general.set(this.counter,{sync:r,handler:t});const o={messageType:e,listenerType:n?"main":"general"};return this.index.set(this.counter,o),this.counter}remove(e){const t=this.index.get(e);if(void 0===t)throw new s.DispatcherException(`Listener with id "${e}" not exist`);const n=this.registry.get(t.messageType);if("main"===t.listenerType)return n.main={id:null,listener:null},void this.index.delete(e);n.general.delete(e),this.index.delete(e)}has(e){return this.index.has(e)}async sendMessage(e){const t={sender:s.SenderList.Manual,message:e};return await this.sendBox(t)}async sendBox(e){return await new Promise(t=>{if(!this.brotherWokeUp&&!0!==e.message?.force){const n={box:e,resolve:t};return void this.pending.push(n)}const n=e.message?.type||e.type,r=`Dispatcher: New box from "${e.sender}" says "${n}"`;this.logger.groupCollapsed(r),this.logger.info(JSON.stringify(e,null,2)),this.logger.groupEnd(r);const i=this.registry.get(n);if(void 0===i)return void t(void 0);if(0===i.general.size&&null===i.main.id)return void t(void 0);const o=e=>{"rejected"===e.status&&this.logger.error(`Dispatcher: a listener for a message "${n}" thrown en error`,e.reason)},a=Array.from(i.general.values()),s=a.filter(e=>!e.sync).map(async t=>t.handler(e));Promise.allSettled(s).then(async e=>{e.forEach(o)});const c=a.filter(e=>e.sync).map(async t=>t.handler(e));Promise.allSettled(c).then(async t=>(t.forEach(o),await Promise.resolve(null!=i.main.listener?i.main.listener.handler(e):void 0))).then(e=>{t(e)})})}};f=r([(0,c.injectable)(),o(0,(0,c.inject)(a.BrotherTypes.di)),o(1,(0,c.inject)(a.BrotherTypes.logger)),i("design:paramtypes",[Object,Object])],f),t.Dispatcher=f,t.dispatcher=new f(d.di,l.logger),d.di.bindConstantValue(a.BrotherTypes.dispatcher,t.dispatcher);t.sendMessage=async e=>await t.dispatcher.sendMessage(e)},48962(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrotherMessageList=void 0,function(e){e.BrotherWorking="Brother.Working"}(t.BrotherMessageList||(t.BrotherMessageList={}))},49348(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiIframeLinkModule=void 0;const i=n(69877),o=n(55378),a=n(68663);let s=class{name(){return"IframeLinkModule"}brothers(){return[i.BrotherName.Luigi]}dependencies(){return[{key:"LinkModule",type:"module"}]}injections(){return[{key:a.LuigiIframeLinkTypes.link,use:o.IframeLinkService}]}};s=r([(0,i.injectable)()],s),t.LuigiIframeLinkModule=s},49674(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(21681),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},49910(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var r,i=(r=n(37037))&&r.__esModule?r:{default:r};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function a(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var s=function(e,t=0){const n=a(e,t);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n};t.default=s},51502(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22831);t.default=()=>(0,r.v4)()},51573(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateNotificationListener=void 0;const r=n(31635),i=n(69877),o=n(63530),a=n(28200),s=n(77314);let c=class{constructor(e){this.injector=e}on(){return o.VpnNotificationMessages.create}main(){return!1}handle({message:e}){return r.__awaiter(this,void 0,void 0,function*(){yield this.injector.inject(e.payload)})}};c=r.__decorate([(0,i.injectable)(),r.__param(0,(0,i.inject)(s.LuigiVpnNotificationTypes.iframeManager)),r.__metadata("design:paramtypes",[a.IframeManager])],c),t.CreateNotificationListener=c},54252(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(42689),i=n(79538),o=n(64492);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},55110(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},55378(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IframeLinkService=void 0;const a=n(69877),s=n(18126),c=n(69899);let u=class{constructor(e){this.link=e}sendToLuigi(e,t){const n={type:c.IframeLinkMessages.proxy,payload:{message:e,...t??{}}};this.link.sendToMario(n)}async sendToLuigiAsync(e,t){const n={type:c.IframeLinkMessages.proxyAsync,payload:{message:e,...t??{}}};return await this.link.sendToMarioAsync(n)}};u=r([(0,a.injectable)(),o(0,(0,a.inject)(s.LuigiLinkTypes.link)),i("design:paramtypes",[Object])],u),t.IframeLinkService=u},56012(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.UiAntiMareWareContentModule=void 0;const i=n(69877),o=n(71127),a=n(73352),s=n(79784),c=n(69167);let u=class{name(){return"AntiMareWareContentModule"}brothers(){return[i.BrotherName.Luigi]}listeners(){return[o.ShowNotificationListener,a.CloseNotificationListener]}injections(){return[{key:c.UiAntiMareWareContentTypes.iframeManager,use:s.IframeManager}]}};u=r([(0,i.injectable)()],u),t.UiAntiMareWareContentModule=u},57076(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(99070),o=n(18842),a=n(55110),s=n(42689),c=n(80115);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return c.getFunctionName}});var u=n(66830);function d(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var c=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(c)}var u=a.userGeneratedMetadata,d=Object.keys(u),p=0===n.length&&d.length>0,h=d.length>n.length,g=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=l(a,e,t,n,r);null!==s&&o.push(s)}return o}(i,t,s,u,p||h?d.length:n.length),y=f(e,n);return r(r([],g),y)}function l(e,t,n,r,s){var c=s[e.toString()]||[],d=p(c),l=!0!==d.unmanaged,f=r[e],h=d.inject||d.multiInject;if((f=h||f)instanceof i.LazyServiceIdentifer&&(f=f.unwrap()),l){if(!t&&(f===Object||f===Function||void 0===f)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var y=new u.Target(a.TargetTypeEnum.ConstructorArgument,d.targetName,f);return y.metadata=c,y}return null}function f(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,s=Object.keys(n);o<s.length;o++){var c=s[o],d=n[c],l=p(n[c]),h=l.targetName||c,g=l.inject||l.multiInject,y=new u.Target(a.TargetTypeEnum.ClassProperty,h,g);y.metadata=d,i.push(y)}var _=Object.getPrototypeOf(t.prototype).constructor;if(_!==Object){var m=f(e,_);i=r(r([],i),m)}return i}function p(e){var t={};return e.forEach(function(e){t[e.key.toString()]=e.value}),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return d(e,c.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=d(t,c.getFunctionName(r),r,!0),o=i.map(function(e){return e.metadata.filter(function(e){return e.key===s.UNMANAGED_TAG})}),a=[].concat.apply([],o).length,u=i.length-a;return u>0?u:e(t,r)}return 0}},58356(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(13590),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},58489(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(13590),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},58842(e,t){"use strict";var n;function r(e,t,r){const i={[n.BOOLEAN]:e=>"true"===e,[n.STRING]:e=>e,[n.NUMBER]:e=>Number(e)},o=()=>null!=e;return{has:o,get:()=>o()?i[r](e):t}}Object.defineProperty(t,"__esModule",{value:!0}),t.envAppName=t.envLoggerHistory=t.envLoggerState=t.makeEnvAccessor=void 0,function(e){e.BOOLEAN="BOOLEAN",e.STRING="STRING",e.NUMBER="NUMBER"}(n||(n={})),t.makeEnvAccessor=r;t.envLoggerState=r((()=>{try{return"false"}catch(e){}})(),!1,n.BOOLEAN),t.envLoggerHistory=r((()=>{try{return"false"}catch(e){}})(),!1,n.BOOLEAN),t.envAppName=r((()=>{try{return process.env.BROTHER_APP_NAME}catch(e){}})(),"Unknown",n.STRING)},59025(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,a,s){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,o.default)(r)),16!==(null===(c=r)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(r),u.set(e,r.length),u=n(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=u[e];return a}return(0,i.unsafeStringify)(u)}try{r.name=e}catch(e){}return r.DNS=a,r.URL=s,r};var r,i=n(49910),o=(r=n(96792))&&r.__esModule?r:{default:r};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},59864(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiSafePriceCheckModule=void 0;const i=n(69877),o=n(70771),a=n(22347),s=n(25077),c=n(25563);let u=class{name(){return"SafePriceCheckModule"}brothers(){return[i.BrotherName.Luigi]}dependencies(){return[{key:"LinkModule",type:"module"},{key:"IframeLinkModule",type:"module"}]}listeners(){return[a.CloseSafePriceCheckNotificationListener,s.OpenSafePriceCheckNotificationListener]}injections(){return[{key:o.LuigiSafePriceCheckTypes.manager,use:c.LuigiSafePriceCheckManager}]}};u=r([(0,i.injectable)()],u),t.LuigiSafePriceCheckModule=u},60462(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiToadLinkTypes=void 0,t.LuigiToadLinkTypes={link:"LuigiToadLink.Link"}},60515(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(95146),t)},62716(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ToToadListener=void 0;const i=n(69877),o=n(96191);let a=class{on(){return o.ToadMessages.to}main(){return!1}async handle({message:e,sender:t}){if(t!==i.BrotherName.Mario)return;const{payload:n}=e,r={extensionId:chrome.runtime.id,sender:t,message:{toadName:e.toadName,type:o.ToadMessages.to,payload:{message:n.message}}};window.postMessage(r)}};a=r([(0,i.injectable)()],a),t.ToToadListener=a},63530(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VpnNotificationMessages=void 0,function(e){e.create="VpnNotification.Create",e.show="VpnNotification.Show",e.close="VpnNotification.Close"}(t.VpnNotificationMessages||(t.VpnNotificationMessages={}))},63595(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkModuleException=void 0;const r=n(69877);class i extends r.BrotherException{constructor(e){super(e),this.name="LinkModuleException"}}t.LinkModuleException=i},63931(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiTerminatedConnectionNotificationTypes=void 0,function(e){e._iframeManager="TerminatedConnectionNotification.IframeManager"}(t.LuigiTerminatedConnectionNotificationTypes||(t.LuigiTerminatedConnectionNotificationTypes={}))},64216(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(18842),i=n(55110),o=n(69129),a=n(80115),s=n(14245),c=function(e,t,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},u=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,o=t.childRequests,d=t.target&&t.target.isArray(),l=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(d&&l)return o.map(function(t){return u(e)(t)});var f=null;if(!t.target.isOptional()||0!==n.length){var p=n[0],h=p.scope===i.BindingScopeEnum.Singleton,g=p.scope===i.BindingScopeEnum.Request;if(h&&p.activated)return p.cache;if(g&&null!==e&&e.has(p.id))return e.get(p.id);if(p.type===i.BindingTypeEnum.ConstantValue)f=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Function)f=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Constructor)f=p.implementationType;else if(p.type===i.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)f=c("toDynamicValue",p.serviceIdentifier,function(){return p.dynamicValue(t.parentContext)});else if(p.type===i.BindingTypeEnum.Factory&&null!==p.factory)f=c("toFactory",p.serviceIdentifier,function(){return p.factory(t.parentContext)});else if(p.type===i.BindingTypeEnum.Provider&&null!==p.provider)f=c("toProvider",p.serviceIdentifier,function(){return p.provider(t.parentContext)});else{if(p.type!==i.BindingTypeEnum.Instance||null===p.implementationType){var y=a.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+y)}f=s.resolveInstance(p.implementationType,o,u(e))}return"function"==typeof p.onActivation&&(f=p.onActivation(t.parentContext,f)),h&&(p.cache=f,p.activated=!0),g&&null!==e&&!e.has(p.id)&&e.set(p.id,f),f}}};t.resolve=function(e){return u(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},64492(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(18842),i=n(42689);function o(e,t,n,i,o){var a={},s="number"==typeof o,c=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var u=a[c];if(Array.isArray(u))for(var d=0,l=u;d<l.length;d++){var f=l[d];if(f.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+f.key.toString())}else u=[];u.push(i),a[c]=u,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?a([s(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):a([e],t)}},64816(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsMessages=void 0,function(e){e.trackEvent="Analytics.TrackEvent",e.trackClick="Analytics.TrackClick",e.trackPageView="Analytics.TrackPageView",e.trackPageClosed="Analytics.TrackPageClosed",e.trackExtendedEvent="Analytics.TrackExtendedEvent"}(t.AnalyticsMessages||(t.AnalyticsMessages={}))},64894(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(42689),i=n(79538),o=n(64492);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},66830(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(42689),i=n(13590),o=n(79538),a=n(33159),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var c=null;"string"==typeof s?c=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(c=s),null!==c&&this.metadata.push(c)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some(function(e){return r.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})})},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===r.NAMED_TAG})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return r.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})}):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},67306(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(59864),t),i(n(70771),t),i(n(25077),t),i(n(22347),t)},68616(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Communicator=void 0;const a=n(69877),s=n(13146),c=n(74640);let u=class{dispatcher;appName;logger;register=new Set;constructor(e,t,n){this.dispatcher=e,this.appName=t,this.logger=n}async handleBox(e){if(e.toAppName!==this.appName)return;const t={[s.LinkAction.HANDSHAKE]:async()=>{this.handleHandShake(e)},[s.LinkAction.ONETIME]:async()=>{this.dispatcher.sendBox(e)},[s.LinkAction.REQUEST]:async()=>{this.register.has(e.boxId)&&await this.handleRequest(e)}};await(t[e.action]?.())}sendToMario(e){this.sendMessage(s.LinkAction.ONETIME,e)}async sendToMarioAsync(e){return await this.sendMessage(s.LinkAction.REQUEST,e)}async sendMessage(e,t){const n={action:e,boxId:(0,c.generateRandomId)(),message:t,sessionId:(0,c.generateRandomId)(),sender:a.SenderList.Luigi,fromAppName:this.appName,toAppName:a.SenderList.Mario};return await this.sendBox(n)}async sendBox(e){try{return await chrome.runtime.sendMessage(e)}catch(e){throw this.logger.error("an extension is removed or disabled",e),e}}handleHandShake(e){const t=(0,c.generateRandomId)();this.register.add(t);const n={...e,sender:a.SenderList.Luigi,action:s.LinkAction.HANDSHAKE,fromAppName:this.appName,toAppName:a.SenderList.Mario,response:t};this.sendBox(n)}async handleRequest(e){this.register.delete(e.boxId);const t=await this.dispatcher.sendBox(e),n={...e,sender:a.SenderList.Luigi,action:s.LinkAction.RESPONSE,fromAppName:this.appName,toAppName:a.SenderList.Mario,response:t};this.sendBox(n)}};u=r([(0,a.injectable)(),o(0,(0,a.inject)(a.BrotherTypes.dispatcher)),o(1,(0,a.inject)(a.BrotherTypes.appName)),o(2,(0,a.inject)(a.BrotherTypes.logger)),i("design:paramtypes",[Object,String,Object])],u),t.Communicator=u},68663(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiIframeLinkTypes=void 0,function(e){e.link="IframeLink.Link"}(t.LuigiIframeLinkTypes||(t.LuigiIframeLinkTypes={}))},69129(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(18842);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},69167(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UiAntiMareWareContentTypes=void 0,function(e){e.iframeManager="AntiMareWareContent.IframeManager"}(t.UiAntiMareWareContentTypes||(t.UiAntiMareWareContentTypes={}))},69877(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(45904),t),i(n(8686),t),i(n(44393),t),i(n(681),t),i(n(22546),t),i(n(48909),t),i(n(86222),t),i(n(27259),t),i(n(89980),t)},69899(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IframeLinkMessages=void 0,function(e){e.proxy="IframeLink.Proxy",e.proxyAsync="IframeLink.ProxyAsync"}(t.IframeLinkMessages||(t.IframeLinkMessages={}))},70771(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiSafePriceCheckTypes=void 0,function(e){e.manager="SafePriceCheck.Manager"}(t.LuigiSafePriceCheckTypes||(t.LuigiSafePriceCheckTypes={}))},71078(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(13590),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},71127(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShowNotificationListener=void 0;const a=n(69877),s=n(97255),c=n(79784),u=n(69167);let d=class{constructor(e){this.iframeManager=e}on(){return s.AntiMaleWareMessages.showNotification}main(){return!1}async handle(e){await this.iframeManager.inject(e.message.payload.url)}};d=r([(0,a.injectable)(),o(0,(0,a.inject)(u.UiAntiMareWareContentTypes.iframeManager)),i("design:paramtypes",[c.IframeManager])],d),t.ShowNotificationListener=d},71661(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrotherException=void 0;class n extends Error{constructor(e){super(e),this.name="BrotherException"}}t.BrotherException=n},72654(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DispatcherException=void 0;const r=n(71661);class i extends r.BrotherException{constructor(e){super(e),this.name="DispatcherException"}}t.DispatcherException=i},73352(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloseNotificationListener=void 0;const a=n(69877),s=n(97255),c=n(79784),u=n(69167);let d=class{constructor(e){this.iframeManager=e}on(){return s.AntiMaleWareMessages.closeNotification}main(){return!1}async handle(){this.iframeManager.remove()}};d=r([(0,a.injectable)(),o(0,(0,a.inject)(u.UiAntiMareWareContentTypes.iframeManager)),i("design:paramtypes",[c.IframeManager])],d),t.CloseNotificationListener=d},73439(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMarioLinkSafely=t.useMarioLink=void 0;const r=n(76971),i=n(45904),o=n(69877);t.useMarioLink=()=>(0,i.useService)("LinkModule",r.LuigiLinkTypes.link);t.useMarioLinkSafely=async()=>(await(0,o.useBrotherSafely)(),(0,t.useMarioLink)())},73570(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(42689),i=n(79538),o=n(64492);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},74640(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLoggerSafely=t.delay=t.generateRandomId=t.isBoxFromLink=t.isBoxFromMario=t.isBoxFromLuigi=void 0;const r=n(69877),i=n(22831);t.isBoxFromLuigi=e=>e.sender===r.SenderList.Luigi;t.isBoxFromMario=e=>e.sender===r.SenderList.Mario;t.isBoxFromLink=e=>"boxId"in e&&("string"==typeof e.boxId&&("sessionId"in e&&("string"==typeof e.sessionId&&("fromAppName"in e&&("string"==typeof e.fromAppName&&("toAppName"in e&&("string"==typeof e.toAppName&&("action"in e&&"string"==typeof e.action))))))));t.generateRandomId=()=>(0,i.v4)();t.delay=async e=>{await new Promise(t=>{setTimeout(t,e)})};t.useLoggerSafely=async()=>(await(0,r.useBrotherSafely)()).logger()},74959(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(42689),i=n(79538),o=n(64492);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},76971(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiLinkTypes=void 0,function(e){e.link="Link.Link",e._communicator="Link.Communication"}(t.LuigiLinkTypes||(t.LuigiLinkTypes={}))},77186(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(59025)),i=o(n(9042));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v5",80,i.default);t.default=a},77314(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiVpnNotificationTypes=void 0,function(e){e.iframeManager="VpnNotification.IframeManager"}(t.LuigiVpnNotificationTypes||(t.LuigiVpnNotificationTypes={}))},78770(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiAnalyticsTypes=void 0,function(e){e.analytics="Analytics.Analytics"}(t.LuigiAnalyticsTypes||(t.LuigiAnalyticsTypes={}))},79538(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(42689),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},79784(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IframeManager=void 0;const a=n(69877),s=n(18126),c=n(97255);let u=class{constructor(e,t,n){this.marioLink=e,this.options=t,this.logger=n}async inject(e){if(this.logger.info(`AntiMareWareLuigiModule: inject(url=${e})`),null!=this.iframe)return void this.logger.info("AntiMareWareLuigiModule: an iframe is already exist");const t=document.createElement("iframe");this.iframe=t;const n=`${this.options.iframe.url}?url=${decodeURIComponent(e)}`;t.src=chrome.runtime.getURL(n),t.id="safesearch-notification-iframe";const r=this.options.iframe.style;Object.keys(r).forEach(e=>{t.style instanceof CSSStyleDeclaration&&(t.style[e]=r[e])}),document.body.prepend(t);const i={type:c.AntiMaleWareMessages.shownNotification};this.marioLink.sendToMario(i)}remove(){if(this.logger.info("AntiMareWareLuigiModule: remove"),null==this.iframe)return void this.logger.info("AntiMareWareLuigiModule: could not remove due an iframe is not exist");this.iframe.remove(),this.iframe=null;const e={type:c.AntiMaleWareMessages.closedNotification};this.marioLink.sendToMario(e)}};u=r([(0,a.injectable)(),o(0,(0,a.inject)(s.LuigiLinkTypes.link)),o(1,(0,a.inject)("AntiMareWareContentModule.Options")),o(2,(0,a.inject)(a.BrotherTypes.logger)),i("design:paramtypes",[Object,Object,Object])],u),t.IframeManager=u},80115(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(18842);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach(function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)})),r},t.circularDependencyToException=function e(t){t.childRequests.forEach(function(t){if(o(t,t.serviceIdentifier)){var n=function(e){var t=function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e);return t.reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)})},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach(function(e){n+=e.toString()+"\n"})," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},81035(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(42689),i=n(79538),o=n(64492);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},81712(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiTerminatedConnectionNotificationModule=void 0;const i=n(69877),o=n(63931),a=n(98538),s=n(14916),c=n(20657),u=n(44654),d=n(92003),l=n(46329);let f=class{name(){return"TerminatedConnectionNotificationModule"}brothers(){return[i.BrotherName.Luigi]}dependencies(){return[{key:"LinkModule",type:"module"}]}listeners(){return[s.CreateNotificationListener,c.ShowNotificationListener,u.CloseNotificationListener,d.ReconnectListener,l.DocumentClickListener]}injections(){return[{key:o.LuigiTerminatedConnectionNotificationTypes._iframeManager,use:a.IframeManager}]}};f=r([(0,i.injectable)()],f),t.LuigiTerminatedConnectionNotificationModule=f},82038(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(42689),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},82130(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SendMessageProviderTypes=void 0,function(e){e.sendMessage="SendMessageProviderModule.Options.sendMessage"}(t.SendMessageProviderTypes||(t.SendMessageProviderTypes={}))},86222(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SenderList=t.DispatcherException=void 0;const r=n(72654);Object.defineProperty(t,"DispatcherException",{enumerable:!0,get:function(){return r.DispatcherException}}),function(e){e.Brother="Brother",e.Manual="Manual",e.Mario="Mario",e.Luigi="Luigi",e.Port="Port"}(t.SenderList||(t.SenderList={}))},87482(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiException=void 0;const r=n(71661);class i extends r.BrotherException{constructor(e){super(e),this.name="DiException"}}t.DiException=i},87675(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafePriceCheckMessages=void 0,function(e){e.muteNotification="SafePriceCheck.MuteNotification",e.closeNotification="SafePriceCheck.CloseNotification",e.openNotification="SafePriceCheck.OpenNotification"}(t.SafePriceCheckMessages||(t.SafePriceCheckMessages={}))},88135(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.SendMessageProviderModule=void 0;const i=n(69877);let o=class{name(){return"SendMessageProviderModule"}brothers(){return[i.BrotherName.Luigi]}};o=r([(0,i.injectable)()],o),t.SendMessageProviderModule=o},89980(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogMethod=t.LogLevel=void 0,function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(t.LogLevel||(t.LogLevel={})),function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.GROUP="GROUP",e.GROUP_COLLAPSED="GROUP_COLLAPSED",e.GROUP_END="GROUP_END"}(t.LogMethod||(t.LogMethod={}))},91673(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(92476),i=n(49674),o=n(21681),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},92003(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReconnectListener=void 0;const a=n(69877),s=n(27499),c=n(18126);let u=class{constructor(e){this.link=e}on(){return s.TerminatedConnectionNotificationMessages.reconnect}main(){return!0}async handle({message:e}){return await this.link.sendToMarioAsync(e)}};u=r([(0,a.injectable)(),o(0,(0,a.inject)(c.LuigiLinkTypes.link)),i("design:paramtypes",[Object])],u),t.ReconnectListener=u},92476(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(55110),i=n(40633),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},94188(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(n){return e.bind(n).toService(t)})}}}},94406(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(81712),t),i(n(63931),t),i(n(98538),t)},94708(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowNotificationListener=void 0;const r=n(31635),i=n(69877),o=n(63530),a=n(28200),s=n(77314);let c=class{constructor(e){this.injector=e}on(){return o.VpnNotificationMessages.show}main(){return!1}handle(){return r.__awaiter(this,void 0,void 0,function*(){yield this.injector.show()})}};c=r.__decorate([(0,i.injectable)(),r.__param(0,(0,i.inject)(s.LuigiVpnNotificationTypes.iframeManager)),r.__metadata("design:paramtypes",[a.IframeManager])],c),t.ShowNotificationListener=c},95146(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStorageAdapter=t.SessionStorage=void 0;const n="__SESSION_STORAGE__";class r{constructor(){this.storage=chrome.storage.local,chrome.runtime.onStartup.addListener(()=>{this.clear()})}async get(e){if(await this.sessionStorageEmpty())return{};const t=void 0===e,n=Array.isArray(e);if(t)return await this.sessionStorage();const r=await this.sessionStorage();return n?e.reduce((e,t)=>({...e,...r.hasOwnProperty(t)&&{[t]:r[t]}}),{}):{...r.hasOwnProperty(e)&&{[e]:r[e]}}}async set(e){if(await this.sessionStorageEmpty())return await this.storage.set({[n]:e});const t=await this.sessionStorage();await this.storage.set({[n]:{...t,...e}})}async has(e){if(await this.sessionStorageEmpty())return!1;const t=await this.sessionStorage();return Boolean(t[e])}async remove(e){if(await this.sessionStorageEmpty())return;const t=await this.sessionStorage();(Array.isArray(e)?e:[e]).forEach(e=>{delete t[e]}),await this.storage.set({[n]:t})}async clear(){await this.storage.set({[n]:{}})}async sessionStorage(){return{...(await this.storage.get(n))[n]??{}}}async sessionStorageEmpty(){return 0===Object.keys(await this.sessionStorage()).length}}t.SessionStorage=r;t.SessionStorageAdapter=class{static adapt(){chrome.storage.session||(chrome.storage.session=new r)}}},96191(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToadName=t.ToadMessages=void 0,function(e){e.from="Toad.FromToad",e.fromAsync="Toad.FromToadAsync",e.to="Toad.ToToad"}(t.ToadMessages||(t.ToadMessages={})),t.ToadName="Toad"},96792(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(37037))&&r.__esModule?r:{default:r};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};t.default=o},97255(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AntiMaleWareMessages=void 0,function(e){e.enable="AntiMaleWare.Enable",e.disable="AntiMaleWare.Disable",e.isEnabled="AntiMaleWare.isEnabled",e.isConsentAgreed="AntiMaleWare.IsConsentAgreed",e.setConsent="AntiMaleWare.SetConsent",e.showNotification="AntiMaleWare.ShowNotification",e.shownNotification="AntiMaleWare.ShownNotification",e.closeNotification="AntiMaleWare.CloseNotification",e.closedNotification="AntiMaleWare.ClosedNotification",e.muteNotification="AntiMaleWare.MuteNotification",e.getMeOutFromSite="AntiMaleWare.GetMeOutFromSite"}(t.AntiMaleWareMessages||(t.AntiMaleWareMessages={}))},98191(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(33949),i=n(18842),o=n(55110),a=n(42689),s=n(69129),c=n(80115),u=n(58356),d=n(79538),l=n(2996),f=n(57076),p=n(71078),h=n(66830);function g(e){return e._bindingDictionary}function y(e,t,n,o,a){var s=m(n.container,a.serviceIdentifier),u=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=m(n.container,a.serviceIdentifier)),u=t?s:s.filter(function(e){var t=new p.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)}),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=c.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=c.listMetadataForTarget(a,n),s+=c.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=c.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=c.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s)}}(a.serviceIdentifier,u,a,n.container),u}function _(e,t,n,r,a,s){var c,u;if(null===a){c=y(e,t,r,null,s),u=new p.Request(n,r,null,c,s);var d=new l.Plan(r,u);r.addPlan(d)}else c=y(e,t,r,a,s),u=a.addChildRequest(s.serviceIdentifier,c,s);c.forEach(function(t){var n=null;if(s.isArray())n=u.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=u}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=f.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var c=f.getBaseClassDependencyCount(e,t.implementationType);if(a.length<c){var d=i.ARGUMENTS_LENGTH_MISMATCH(f.getFunctionName(t.implementationType));throw new Error(d)}}a.forEach(function(t){_(e,!1,t.serviceIdentifier,r,n,t)})}})}function m(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=m(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,i,o,l,f){void 0===f&&(f=!1);var p=new u.Context(t),g=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,c=new d.Metadata(s,n),u=new h.Target(t,r,n,c);if(void 0!==i){var l=new d.Metadata(i,o);u.metadata.push(l)}return u}(n,r,i,"",o,l);try{return _(e,f,i,p,null,g),p}catch(e){throw s.isStackOverflowExeption(e)&&p.plan&&c.circularDependencyToException(p.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new h.Target(o.TargetTypeEnum.Variable,"",t,new d.Metadata(n,r)),a=new u.Context(e);return new p.Request(t,a,null,[],i)}},98538(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IframeManager=void 0;const a=n(69877),s=n(27499);let c=class{constructor(e,t,n){this.logger=e,this.dispatcher=t,this.options=n}async inject(e){const t="TerminatedConnectionNotification.IframeManager: inject()";this.logger.groupCollapsed(t);const n=JSON.stringify(e,null,2);this.logger.info(n),this.logger.groupEnd(t),this.iframe?this.logger.info("TerminatedConnectionNotification.IframeManager: an iframe is already exist"):await new Promise(t=>{this.iframe=document.createElement("iframe");const n=JSON.stringify(e),r=encodeURIComponent(n);this.iframe.onload=()=>{t()},Object.assign(this.iframe.style,this.options.iframe.styles),document.body.addEventListener("click",()=>{const e={type:s.TerminatedConnectionNotificationMessages.documentClicked};this.dispatcher.sendMessage(e)}),this.iframe.addEventListener("click",e=>{e.stopPropagation()});const i=`${this.options.iframe.url}?payload=${r}`;this.iframe.src=chrome.runtime.getURL(i),this.iframe.id="terminated-connection-notification-iframe",document.body.insertBefore(this.iframe,document.body.firstChild)})}async show(){if(this.logger.info("TerminatedConnectionNotification.IframeManager: show()"),!this.iframe){const e="TerminatedConnectionNotification.IframeManager: could not show a notification due an iframe is not exist";return void this.logger.warn(e)}this.iframe.style.right="16px"}close(){if(this.logger.info("TerminatedConnectionNotification.IframeManager: close()"),!this.iframe){const e="TerminatedConnectionNotification.IframeManager: could not close a notification due an iframe is not exist";return void this.logger.warn(e)}this.iframe.addEventListener("transitionend",()=>{this.iframe.remove(),this.iframe=null}),this.iframe.style.right="-1600px"}};c=r([(0,a.injectable)(),o(0,(0,a.inject)(a.BrotherTypes.logger)),o(1,(0,a.inject)(a.BrotherTypes.dispatcher)),o(2,(0,a.inject)("TerminatedConnectionNotificationModule.Options")),i("design:paramtypes",[Object,Object,Object])],c),t.IframeManager=c},99070(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(18842),i=n(42689),o=n(79538),a=n(64492),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var c=new o.Metadata(i.INJECT_TAG,e);"number"==typeof s?a.tagParameter(t,n,s,c):a.tagProperty(t,n,c)}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{"use strict";const e=n(31635);n(44741);const t=n(69877),r=n(10367),i=n(46844),o=n(67306),a=n(26183),s=n(27136),c=n(6698),u=n(94406),d=n(47599),l=n(34123),f=n(18126),p={position:"fixed",top:"16px",right:"16px",zIndex:"9999999999",borderRadius:"4px",boxShadow:"0px 3px 12px 0px rgba(0, 0, 0, 0.10)",backgroundColor:"#fff",border:"solid 1px #D9D9DD",transition:"right 2s"},h={iframeUrl:"/content/vpn-notification/index.html",style:Object.assign({display:"block",width:"480px",height:"165px"},p)},g={iframe:{url:"/content/anti-male-ware-notification/index.html",style:Object.assign({width:"300px",height:"469px"},p)}},y={iframe:{url:"/content/safe-price-check-notification/index.html",style:Object.assign({width:"480px",height:"195px"},p)}},_={iframe:{url:"/content/terminated-connection-notification/index.html",styles:Object.assign(Object.assign({},p),{display:"block",width:"532px",height:"192px"})}};e.__awaiter(void 0,void 0,void 0,function*(){const e=(0,t.makeLuigi)({env:"production",modules:[{use:s.LuigiLinkModule},{use:c.LuigiToadLinkModule,options:{pathToToad:"/content/location/location.js"}},{use:a.LuigiIframeLinkModule},{use:r.LuigiVpnNotificationModule,options:h},{use:i.UiAntiMareWareContentModule,options:g},{use:o.LuigiSafePriceCheckModule,options:y},{use:u.LuigiTerminatedConnectionNotificationModule,options:_}]});yield e.wakeUp();const n=e.di().get(f.LuigiLinkTypes.link);yield e.registerModule(l.SendMessageProviderModule,{sendMessage:n.sendToMario.bind(n)}),yield e.registerModule(d.LuigiAnalyticsModule),yield e.work()})})()})();