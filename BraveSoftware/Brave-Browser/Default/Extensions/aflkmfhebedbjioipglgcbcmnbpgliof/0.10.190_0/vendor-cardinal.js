/*! For license information please see vendor-cardinal.js.LICENSE.txt */
(globalThis.webpackChunk_coral_xyz_app_extension=globalThis.webpackChunk_coral_xyz_app_extension||[]).push([[3594],{886266:(e,t,n)=>{"use strict";n.d(t,{nB:()=>c,$B:()=>Y,Kb:()=>Q,Dw:()=>ee});var r=n(929822),i=n(827805),o=n(627158),a=n(310834),s=n(921869);class c{constructor(e,t,n,r,i,o){this.accountType=e,this.version=t,this.mint=n,this.authority=r,this.ruleset=i,this.inUseBy=o}static fromArgs(e){return new c(e.accountType,e.version,e.mint,e.authority,e.ruleset,e.inUseBy)}static fromAccountInfo(e,t=0){return c.deserialize(e.data,t)}static async fromAccountAddress(e,t){const n=await e.getAccountInfo(t);if(null==n)throw new Error(`Unable to find MintManager account at ${t}`);return c.fromAccountInfo(n,0)[0]}static gpaBuilder(e=new o.PublicKey("creatS3mfzrTGjwuLD1Pa2HXJ1gmq6WXb4ssnwUbJez")){return s.GpaBuilder.fromStruct(e,u)}static deserialize(e,t=0){return u.deserialize(e,t)}serialize(){return u.serialize(this)}static byteSize(e){const t=c.fromArgs(e);return u.toFixedFromValue(t).byteSize}static async getMinimumBalanceForRentExemption(e,t,n){return t.getMinimumBalanceForRentExemption(c.byteSize(e),n)}pretty(){return{accountType:this.accountType,version:this.version,mint:this.mint.toBase58(),authority:this.authority.toBase58(),ruleset:this.ruleset.toBase58(),inUseBy:this.inUseBy}}}const u=new a.FixableBeetStruct([["accountType",a.uniformFixedSizeArray(a.u8,8)],["version",a.u8],["mint",s.publicKey],["authority",s.publicKey],["ruleset",s.publicKey],["inUseBy",a.coption(s.publicKey)]],c.fromArgs,"MintManager");class l{constructor(e,t,n,r,i,o,a){this.accountType=e,this.version=t,this.authority=n,this.name=r,this.allowedPrograms=i,this.disallowedAddresses=o,this.extensions=a}static fromArgs(e){return new l(e.accountType,e.version,e.authority,e.name,e.allowedPrograms,e.disallowedAddresses,e.extensions)}static fromAccountInfo(e,t=0){return l.deserialize(e.data,t)}static async fromAccountAddress(e,t){const n=await e.getAccountInfo(t);if(null==n)throw new Error(`Unable to find Ruleset account at ${t}`);return l.fromAccountInfo(n,0)[0]}static gpaBuilder(e=new o.PublicKey("creatS3mfzrTGjwuLD1Pa2HXJ1gmq6WXb4ssnwUbJez")){return s.GpaBuilder.fromStruct(e,p)}static deserialize(e,t=0){return p.deserialize(e,t)}serialize(){return p.serialize(this)}static byteSize(e){const t=l.fromArgs(e);return p.toFixedFromValue(t).byteSize}static async getMinimumBalanceForRentExemption(e,t,n){return t.getMinimumBalanceForRentExemption(l.byteSize(e),n)}pretty(){return{accountType:this.accountType,version:this.version,authority:this.authority.toBase58(),name:this.name,allowedPrograms:this.allowedPrograms,disallowedAddresses:this.disallowedAddresses,extensions:this.extensions}}}const p=new a.FixableBeetStruct([["accountType",a.uniformFixedSizeArray(a.u8,8)],["version",a.u8],["authority",s.publicKey],["name",a.utf8String],["allowedPrograms",a.array(s.publicKey)],["disallowedAddresses",a.array(s.publicKey)],["extensions",a.array(s.publicKey)]],l.fromArgs,"Ruleset"),f=new Map,d=new Map;class y extends Error{constructor(){super("Invalid account type"),this.code=6e3,this.name="InvalidAccountType","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,y)}}f.set(6e3,(()=>new y)),d.set("InvalidAccountType",(()=>new y));class h extends Error{constructor(){super("Data type mismatch"),this.code=6001,this.name="DataTypeMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,h)}}f.set(6001,(()=>new h)),d.set("DataTypeMismatch",(()=>new h));class g extends Error{constructor(){super("Invalid mint"),this.code=6002,this.name="InvalidMint","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,g)}}f.set(6002,(()=>new g)),d.set("InvalidMint",(()=>new g));class m extends Error{constructor(){super("Invalid amount"),this.code=6003,this.name="InvalidAmount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,m)}}f.set(6003,(()=>new m)),d.set("InvalidAmount",(()=>new m));class w extends Error{constructor(){super("Invalid token account"),this.code=6004,this.name="InvalidTokenAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,w)}}f.set(6004,(()=>new w)),d.set("InvalidTokenAccount",(()=>new w));class b extends Error{constructor(){super("Invalid authority address"),this.code=6005,this.name="InvalidAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,b)}}f.set(6005,(()=>new b)),d.set("InvalidAuthority",(()=>new b));class A extends Error{constructor(){super("Invalid mint manager"),this.code=6006,this.name="InvalidMintManager","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,A)}}f.set(6006,(()=>new A)),d.set("InvalidMintManager",(()=>new A));class S extends Error{constructor(){super("Invalid mint metadata"),this.code=6007,this.name="InvalidMintMetadata","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,S)}}f.set(6007,(()=>new S)),d.set("InvalidMintMetadata",(()=>new S));class I extends Error{constructor(){super("Insufficient minimum creator share"),this.code=6008,this.name="InusufficientMinimumCreatorShare","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,I)}}f.set(6008,(()=>new I)),d.set("InusufficientMinimumCreatorShare",(()=>new I));class k extends Error{constructor(){super("Invalid holder token account"),this.code=6009,this.name="InvlaidHolderTokenAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,k)}}f.set(6009,(()=>new k)),d.set("InvlaidHolderTokenAccount",(()=>new k));class v extends Error{constructor(){super("Invalid target token account"),this.code=6010,this.name="InvalidTargetTokenAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,v)}}f.set(6010,(()=>new v)),d.set("InvalidTargetTokenAccount",(()=>new v));class E extends Error{constructor(){super("Invalid token account to close"),this.code=6011,this.name="InvalidCloseTokenAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,E)}}f.set(6011,(()=>new E)),d.set("InvalidCloseTokenAccount",(()=>new E));class M extends Error{constructor(){super("Invalid holder token account"),this.code=6012,this.name="InvalidHolderTokenAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,M)}}f.set(6012,(()=>new M)),d.set("InvalidHolderTokenAccount",(()=>new M));class T extends Error{constructor(){super("Invalid ruleset"),this.code=6013,this.name="InvalidRuleset","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,T)}}f.set(6013,(()=>new T)),d.set("InvalidRuleset",(()=>new T));class P extends Error{constructor(){super("Invalid pre transfer instruction"),this.code=6014,this.name="InvalidPreTransferInstruction","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,P)}}f.set(6014,(()=>new P)),d.set("InvalidPreTransferInstruction",(()=>new P));class B extends Error{constructor(){super("Invalid post transfer instruction"),this.code=6015,this.name="InvalidPostTransferInstruction","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,B)}}f.set(6015,(()=>new B)),d.set("InvalidPostTransferInstruction",(()=>new B));class R extends Error{constructor(){super("Disallowed address included"),this.code=6016,this.name="AddressDisallowed","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,R)}}f.set(6016,(()=>new R)),d.set("AddressDisallowed",(()=>new R));class K extends Error{constructor(){super("Program not allowed in allowed programs to transfer"),this.code=6017,this.name="ProgramNotAllowed","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,K)}}f.set(6017,(()=>new K)),d.set("ProgramNotAllowed",(()=>new K));class x extends Error{constructor(){super("Unknown account found in instruction"),this.code=6018,this.name="UnknownAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,x)}}f.set(6018,(()=>new x)),d.set("UnknownAccount",(()=>new x));class _ extends Error{constructor(){super("Account not found in instruction"),this.code=6019,this.name="AccountNotFound","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,_)}}f.set(6019,(()=>new _)),d.set("AccountNotFound",(()=>new _));class O extends Error{constructor(){super("Token already in use"),this.code=6020,this.name="TokenAlreadyInUse","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,O)}}f.set(6020,(()=>new O)),d.set("TokenAlreadyInUse",(()=>new O));class C extends Error{constructor(){super("Invalid token user"),this.code=6021,this.name="InvalidTokenUser","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,C)}}f.set(6021,(()=>new C)),d.set("InvalidTokenUser",(()=>new C));class U extends Error{constructor(){super("Token currently in use"),this.code=6022,this.name="TokenCurentlyInUse","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,U)}}f.set(6022,(()=>new U)),d.set("TokenCurentlyInUse",(()=>new U));class L extends Error{constructor(){super("Invalid ruleset authority"),this.code=6023,this.name="InvalidRulesetAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,L)}}f.set(6023,(()=>new L)),d.set("InvalidRulesetAuthority",(()=>new L));class N extends Error{constructor(){super("Invalid freeze authority"),this.code=6024,this.name="InvalidFreezeAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,N)}}f.set(6024,(()=>new N)),d.set("InvalidFreezeAuthority",(()=>new N));class W extends Error{constructor(){super("Invalid mint authority"),this.code=6025,this.name="InvalidMintAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,W)}}f.set(6025,(()=>new W)),d.set("InvalidMintAuthority",(()=>new W));class D extends Error{constructor(){super("Not enought remaining accounts"),this.code=6026,this.name="NotEnoughRemainingAccounts","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,D)}}f.set(6026,(()=>new D)),d.set("NotEnoughRemainingAccounts",(()=>new D));const F=new a.BeetArgsStruct([["amount",a.u64]],"ApproveIx");new a.BeetArgsStruct([["instructionDiscriminator",a.u8],["approveIx",F]],"ApproveInstructionArgs");const z=new a.BeetArgsStruct([["amount",a.u64]],"ApproveAndSetInUseByIx");new a.BeetArgsStruct([["instructionDiscriminator",a.u8],["approveAndSetInUseByIx",z]],"ApproveAndSetInUseByInstructionArgs"),new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"BurnInstructionArgs"),new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"CloseInstructionArgs"),new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"CloseMintManagerInstructionArgs"),new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"CloseRulesetInstructionArgs"),new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"InitMintManagerInstructionArgs");const j=new a.FixableBeetArgsStruct([["name",a.utf8String],["allowedPrograms",a.array(s.publicKey)],["disallowedAddresses",a.array(s.publicKey)],["extensions",a.array(s.publicKey)]],"InitRulesetIx");new a.FixableBeetArgsStruct([["instructionDiscriminator",a.u8],["initRulesetIx",j]],"InitRulesetInstructionArgs"),new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"InitializeAccountInstructionArgs"),new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"RemoveInUseByInstructionArgs"),new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"RevokeInstructionArgs"),new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"SetInUseByInstructionArgs");const G=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new o.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new o.PublicKey("So11111111111111111111111111111111111111112"),new o.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const $=new a.BeetArgsStruct([["instructionDiscriminator",a.u8]],"TransferInstructionArgs"),V=13;function Y(e,t=new o.PublicKey("creatS3mfzrTGjwuLD1Pa2HXJ1gmq6WXb4ssnwUbJez")){var n,r;const[i]=$.serialize({instructionDiscriminator:V}),a=[{pubkey:e.mintManager,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.mintMetadata,isWritable:!1,isSigner:!1},{pubkey:e.ruleset,isWritable:!1,isSigner:!1},{pubkey:e.from,isWritable:!0,isSigner:!1},{pubkey:e.to,isWritable:!0,isSigner:!1},{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:null!==(n=e.tokenProgram)&&void 0!==n?n:G,isWritable:!1,isSigner:!1},{pubkey:null!==(r=e.systemProgram)&&void 0!==r?r:o.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new o.TransactionInstruction({programId:t,keys:a,data:i})}const q=new a.BeetArgsStruct([["authority",s.publicKey]],"UpdateMintManagerIx");new a.BeetArgsStruct([["instructionDiscriminator",a.u8],["updateMintManagerIx",q]],"UpdateMintManagerInstructionArgs");const Z=new a.FixableBeetArgsStruct([["authority",s.publicKey],["allowedPrograms",a.array(s.publicKey)],["disallowedAddresses",a.array(s.publicKey)],["extensions",a.array(s.publicKey)]],"UpdateRulesetIx");var H;new a.FixableBeetArgsStruct([["instructionDiscriminator",a.u8],["updateRulesetIx",Z]],"UpdateRulesetInstructionArgs"),function(e){e[e.Ruleset=0]="Ruleset",e[e.MintManager=1]="MintManager",e[e.Unrecognized=2]="Unrecognized"}(H||(H={})),a.fixedScalarEnum(H);const J=new o.PublicKey("creatS3mfzrTGjwuLD1Pa2HXJ1gmq6WXb4ssnwUbJez"),X=new o.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Q=e=>(0,i.findProgramAddressSync)([r.utils.bytes.utf8.encode("mint-manager"),e.toBuffer()],J)[0],ee=e=>(0,i.findProgramAddressSync)([r.utils.bytes.utf8.encode("metadata"),X.toBuffer(),e.toBuffer()],X)[0]},823528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllPaymentManagers=t.getPaymentManagers=t.getPaymentManager=void 0;const r=n(929822),i=n(736011),o=n(627158),a=n(584100);t.getPaymentManager=async(e,t)=>{const n=new r.AnchorProvider(e,new i.SignerWallet(o.Keypair.generate()),{}),s=new r.Program(a.PAYMENT_MANAGER_IDL,a.PAYMENT_MANAGER_ADDRESS,n);return{parsed:await s.account.paymentManager.fetch(t),pubkey:t}},t.getPaymentManagers=async(e,t)=>{const n=new r.AnchorProvider(e,new i.SignerWallet(o.Keypair.generate()),{}),s=new r.Program(a.PAYMENT_MANAGER_IDL,a.PAYMENT_MANAGER_ADDRESS,n);let c=[];try{c=await s.account.paymentManager.fetchMultiple(t)}catch(e){}return c.filter((e=>null!==e)).reduce(((e,n,r)=>n?[...e,{parsed:n,pubkey:t[r]}]:e),[])},t.getAllPaymentManagers=async e=>{const t=await e.getProgramAccounts(a.PAYMENT_MANAGER_ADDRESS),n=[],i=new r.BorshAccountsCoder(a.PAYMENT_MANAGER_IDL);return t.forEach((e=>{try{const t=i.decode("paymentManager",e.account.data);n.push({...e,parsed:t})}catch(e){}})),n}},74278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAYMENT_MANAGER_IDL=t.DEFAULT_PAYMENT_MANAGER_NAME=t.PAYMENT_MANAGER_SEED=t.CRANK_KEY=t.PAYMENT_MANAGER_ADDRESS=t.DEFAULT_BUY_SIDE_FEE_SHARE=t.BASIS_POINTS_DIVISOR=void 0;const r=n(122970),i=n(627158),o=r.__importStar(n(576914));t.BASIS_POINTS_DIVISOR=1e4,t.DEFAULT_BUY_SIDE_FEE_SHARE=50,t.PAYMENT_MANAGER_ADDRESS=new i.PublicKey("pmvYY6Wgvpe3DEj3UX1FcRpMx43sMLYLJrFTVGcqpdn"),t.CRANK_KEY=new i.PublicKey("crkdpVWjHWdggGgBuSyAqSmZUmAjYLzD435tcLDRLXr"),t.PAYMENT_MANAGER_SEED="payment-manager",t.DEFAULT_PAYMENT_MANAGER_NAME="cardinal",t.PAYMENT_MANAGER_IDL=o.IDL},576914:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"1.7.9",name:"cardinal_payment_manager",instructions:[{name:"init",accounts:[{name:"paymentManager",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"ix",type:{defined:"InitIx"}}]},{name:"managePayment",accounts:[{name:"paymentManager",isMut:!0,isSigner:!1},{name:"payerTokenAccount",isMut:!0,isSigner:!1},{name:"feeCollectorTokenAccount",isMut:!0,isSigner:!1},{name:"paymentTokenAccount",isMut:!0,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"paymentAmount",type:"u64"}]},{name:"handlePaymentWithRoyalties",accounts:[{name:"paymentManager",isMut:!0,isSigner:!1},{name:"payerTokenAccount",isMut:!0,isSigner:!1},{name:"feeCollectorTokenAccount",isMut:!0,isSigner:!1},{name:"paymentTokenAccount",isMut:!0,isSigner:!1},{name:"paymentMint",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"mintMetadata",isMut:!1,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"paymentAmount",type:"u64"}]},{name:"handleNativePaymentWithRoyalties",accounts:[{name:"paymentManager",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"paymentTarget",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"mint",isMut:!1,isSigner:!1},{name:"mintMetadata",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"paymentAmount",type:"u64"}]},{name:"close",accounts:[{name:"paymentManager",isMut:!0,isSigner:!1},{name:"collector",isMut:!0,isSigner:!1},{name:"closer",isMut:!0,isSigner:!0}],args:[]},{name:"update",accounts:[{name:"paymentManager",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"ix",type:{defined:"UpdateIx"}}]}],accounts:[{name:"paymentManager",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"feeCollector",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"makerFeeBasisPoints",type:"u16"},{name:"takerFeeBasisPoints",type:"u16"},{name:"name",type:"string"},{name:"includeSellerFeeBasisPoints",type:"bool"},{name:"royaltyFeeShare",type:{option:"u64"}}]}}],types:[{name:"InitIx",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"feeCollector",type:"publicKey"},{name:"makerFeeBasisPoints",type:"u16"},{name:"takerFeeBasisPoints",type:"u16"},{name:"includeSellerFeeBasisPoints",type:"bool"},{name:"royaltyFeeShare",type:{option:"u64"}}]}},{name:"UpdateIx",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"feeCollector",type:"publicKey"},{name:"makerFeeBasisPoints",type:"u16"},{name:"takerFeeBasisPoints",type:"u16"},{name:"royaltyFeeShare",type:{option:"u64"}}]}}],errors:[{code:6e3,name:"InvalidFeeCollectorTokenAccount",msg:"Invalid fee collector token account"},{code:6001,name:"InvalidAuthority",msg:"Invalid authority"},{code:6002,name:"InvalidMintMetadata",msg:"Invalid mint metadata"},{code:6003,name:"InvalidCreatorAddress",msg:"Invalid creator address"},{code:6004,name:"InvalidTokenAccount",msg:"Invalid token account"},{code:6005,name:"InvalidPaymentManager",msg:"Invalid payment manager"},{code:6006,name:"InvalidMintMetadataOwner",msg:"Mint metadata is owned by the incorrect program"},{code:6007,name:"InvalidFeeCollector",msg:"Invalid fee collector"}]}},584100:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transaction=t.pda=t.instruction=t.accounts=void 0;const r=n(122970);t.accounts=r.__importStar(n(823528)),r.__exportStar(n(74278),t),t.instruction=r.__importStar(n(274623)),t.pda=r.__importStar(n(722053)),t.transaction=r.__importStar(n(460716))},274623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.close=t.handleNativePaymentWithRoyalties=t.handlePaymentWithRoyalties=t.managePayment=t.init=void 0;const r=n(929822),i=n(990923),o=n(627158),a=n(584100),s=n(584100);t.init=(e,t,n,i)=>{var a;const c=new r.AnchorProvider(e,t,{});return new r.Program(s.PAYMENT_MANAGER_IDL,s.PAYMENT_MANAGER_ADDRESS,c).instruction.init({name:n,feeCollector:i.feeCollector,makerFeeBasisPoints:i.makerFeeBasisPoints,takerFeeBasisPoints:i.takerFeeBasisPoints,includeSellerFeeBasisPoints:i.includeSellerFeeBasisPoints,royaltyFeeShare:null!==(a=i.royaltyFeeShare)&&void 0!==a?a:null},{accounts:{paymentManager:i.paymentManagerId,authority:i.authority,payer:i.payer,systemProgram:o.SystemProgram.programId}})},t.managePayment=(e,t,n)=>{const o=new r.AnchorProvider(e,t,{});return new r.Program(s.PAYMENT_MANAGER_IDL,s.PAYMENT_MANAGER_ADDRESS,o).instruction.managePayment(n.paymentAmount,{accounts:{paymentManager:n.paymentManagerId,payerTokenAccount:n.payerTokenAccount,feeCollectorTokenAccount:n.feeCollectorTokenAccount,paymentTokenAccount:n.paymentTokenAccount,payer:t.publicKey,tokenProgram:i.TOKEN_PROGRAM_ID}})},t.handlePaymentWithRoyalties=(e,t,n)=>{const o=new r.AnchorProvider(e,t,{});return new r.Program(s.PAYMENT_MANAGER_IDL,s.PAYMENT_MANAGER_ADDRESS,o).instruction.handlePaymentWithRoyalties(n.paymentAmount,{accounts:{paymentManager:n.paymentManagerId,payerTokenAccount:n.payerTokenAccount,feeCollectorTokenAccount:n.feeCollectorTokenAccount,paymentTokenAccount:n.paymentTokenAccount,paymentMint:n.paymentMint,mint:n.mint,mintMetadata:n.mintMetadata,payer:t.publicKey,tokenProgram:i.TOKEN_PROGRAM_ID},remainingAccounts:n.royaltiesRemainingAccounts})},t.handleNativePaymentWithRoyalties=(e,t,n)=>{const i=new r.AnchorProvider(e,t,{});return new r.Program(s.PAYMENT_MANAGER_IDL,s.PAYMENT_MANAGER_ADDRESS,i).instruction.handleNativePaymentWithRoyalties(n.paymentAmount,{accounts:{paymentManager:n.paymentManagerId,feeCollector:n.feeCollector,paymentTarget:n.paymentTarget,payer:t.publicKey,mint:n.mint,mintMetadata:n.mintMetadata,systemProgram:o.SystemProgram.programId},remainingAccounts:n.royaltiesRemainingAccounts})},t.close=(e,t,n,i)=>{const o=new r.AnchorProvider(e,t,{});return new r.Program(s.PAYMENT_MANAGER_IDL,s.PAYMENT_MANAGER_ADDRESS,o).instruction.close({accounts:{paymentManager:n,collector:i||a.CRANK_KEY,closer:t.publicKey}})},t.update=(e,t,n)=>{var i;const a=new r.AnchorProvider(e,t,{});return new r.Program(s.PAYMENT_MANAGER_IDL,s.PAYMENT_MANAGER_ADDRESS,a).instruction.update({authority:n.authority,feeCollector:n.feeCollector,makerFeeBasisPoints:n.makerFeeBasisPoints,takerFeeBasisPoints:n.takerFeeBasisPoints,royaltyFeeShare:null!==(i=n.royaltyFeeShare)&&void 0!==i?i:null},{accounts:{paymentManager:n.paymentManagerId,payer:t.publicKey,systemProgram:o.SystemProgram.programId}})}},722053:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findPaymentManagerAddress=void 0;const r=n(929822),i=n(627158),o=n(584100);t.findPaymentManagerAddress=async e=>await i.PublicKey.findProgramAddress([r.utils.bytes.utf8.encode(o.PAYMENT_MANAGER_SEED),r.utils.bytes.utf8.encode(e)],o.PAYMENT_MANAGER_ADDRESS)},460716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withUpdate=t.withClose=t.withHandleNativePaymentWithRoyalties=t.withHandlePaymentWithRoyalties=t.withManagePayment=t.withInit=void 0;const r=n(813965),i=n(627158),o=n(823528),a=n(274623),s=n(722053),c=n(714615);t.withInit=async(e,t,n,r,i,o,c,u,l,p=n.publicKey)=>{const[f]=await(0,s.findPaymentManagerAddress)(r);return e.add((0,a.init)(t,n,r,{paymentManagerId:f,feeCollector:i,authority:n.publicKey,makerFeeBasisPoints:o,takerFeeBasisPoints:c,includeSellerFeeBasisPoints:u,royaltyFeeShare:l,payer:p})),[e,f]},t.withManagePayment=async(e,t,n,r,i,o,c,u)=>{const[l]=await(0,s.findPaymentManagerAddress)(r);return e.add((0,a.managePayment)(t,n,{paymentManagerId:l,paymentAmount:i,payerTokenAccount:o,feeCollectorTokenAccount:c,paymentTokenAccount:u})),e},t.withHandlePaymentWithRoyalties=async(e,t,n,r,o,u,l,p,f,d,y,h,g=[])=>{const[m]=await(0,s.findPaymentManagerAddress)(r),w=await(0,c.withRemainingAccountsForHandlePaymentWithRoyalties)(new i.Transaction,t,n,u,p,h,g);return e.add((0,a.handlePaymentWithRoyalties)(t,n,{paymentManagerId:m,paymentAmount:o,payerTokenAccount:f,feeCollectorTokenAccount:d,paymentTokenAccount:y,paymentMint:p,mint:u,mintMetadata:l,royaltiesRemainingAccounts:w})),e},t.withHandleNativePaymentWithRoyalties=async(e,t,n,r,o,u,l,p,f,d,y,h=[])=>{const[g]=await(0,s.findPaymentManagerAddress)(r),m=await(0,c.withRemainingAccountsForHandlePaymentWithRoyalties)(new i.Transaction,t,n,u,p,y,h);return e.add((0,a.handleNativePaymentWithRoyalties)(t,n,{paymentManagerId:g,paymentAmount:o,feeCollector:f,paymentTarget:d,mint:u,mintMetadata:l,royaltiesRemainingAccounts:m})),e},t.withClose=async(e,t,n,r,i=n.publicKey)=>{const[o]=await(0,s.findPaymentManagerAddress)(r);return e.add((0,a.close)(t,n,o,i)),e},t.withUpdate=async(e,t,n,i,c,u,l,p)=>{var f,d,y,h,g;const[m]=await(0,s.findPaymentManagerAddress)(i),w=await(0,r.tryGetAccount)((()=>(0,o.getPaymentManager)(t,m)));if(!w)throw`No payment manager found with name ${i}`;return e.add((0,a.update)(t,n,{paymentManagerId:m,feeCollector:null!==(f=w.parsed.feeCollector)&&void 0!==f?f:c,authority:null!==(d=w.parsed.authority)&&void 0!==d?d:n.publicKey,makerFeeBasisPoints:null!==(y=w.parsed.makerFeeBasisPoints)&&void 0!==y?y:u,takerFeeBasisPoints:null!==(h=w.parsed.takerFeeBasisPoints)&&void 0!==h?h:l,royaltyFeeShare:null!==(g=w.parsed.royaltyFeeShare)&&void 0!==g?g:p})),e}},714615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withRemainingAccountsForHandlePaymentWithRoyalties=t.withRemainingAccountsForPayment=t.executeTransaction=t.createMintTransaction=t.createMint=t.chunkArray=void 0;const r=n(122970),i=r.__importStar(n(990923)),o=r.__importStar(n(627158)),a=n(813965),s=n(757384),c=n(823528);t.chunkArray=function e(t,n){return t.length>n?[t.slice(0,n),...e(t.slice(n),n)]:[t]},t.createMint=async(e,t,n,r=1,o=n)=>{const a=await i.Token.createMint(e,t,t.publicKey,o,0,i.TOKEN_PROGRAM_ID),s=await a.createAssociatedTokenAccount(n);return await a.mintTo(s,t.publicKey,[],r),[s,a]},t.createMintTransaction=async(e,t,n,r,s,c=1,u=r,l=n.publicKey)=>{const p=await i.Token.getMinBalanceRentForExemptMint(t);e.add(o.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:s,lamports:p,space:i.MintLayout.span,programId:i.TOKEN_PROGRAM_ID})),e.add(i.Token.createInitMintInstruction(i.TOKEN_PROGRAM_ID,s,0,n.publicKey,u));const f=await(0,a.withFindOrInitAssociatedTokenAccount)(e,t,s,l,n.publicKey,!0);return c>0&&e.add(i.Token.createMintToInstruction(i.TOKEN_PROGRAM_ID,s,f,n.publicKey,[],c)),[f,e]},t.executeTransaction=async(e,t,n,r)=>{let i="";try{n.feePayer=t.publicKey,n.recentBlockhash=(await e.getRecentBlockhash("max")).blockhash,await t.signTransaction(n),r.signers&&r.signers.length>0&&n.partialSign(...r.signers),i=await o.sendAndConfirmRawTransaction(e,n.serialize(),r.confirmOptions),r.callback&&r.callback(!0),console.log("Successful tx",i)}catch(e){if(console.log("Failed transaction: ",e.logs,e),r.callback&&r.callback(!1),!r.silent)throw e}return i},t.withRemainingAccountsForPayment=async(e,n,r,u,l,p,f,d,y)=>{var h,g;const m=null!==(h=null==y?void 0:y.payer)&&void 0!==h?h:r.publicKey,w=await(0,t.withRemainingAccountsForHandlePaymentWithRoyalties)(e,n,r,u,l,d,[p.toString()]),b=[{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:await s.Metadata.getPDA(u),isSigner:!1,isWritable:!0}];if(null==y?void 0:y.receiptMint){const t=null===(g=(await n.getTokenLargestAccounts(y.receiptMint)).value[0])||void 0===g?void 0:g.address;if(!t)throw new Error("No token accounts found");const s=new i.Token(n,y.receiptMint,i.TOKEN_PROGRAM_ID,o.Keypair.generate()),u=await s.getAccountInfo(t),p=u.owner.equals(r.publicKey)?await(0,a.findAta)(l,u.owner,!0):await(0,a.withFindOrInitAssociatedTokenAccount)(e,n,l,u.owner,m,!0),d=await(0,a.tryGetAccount)((()=>(0,c.getPaymentManager)(n,f)));return[p,await(0,a.withFindOrInitAssociatedTokenAccount)(e,n,l,d?d.parsed.feeCollector:f,m,!0),[{pubkey:t,isSigner:!1,isWritable:!0},...b,...w]]}{const t=p.equals(r.publicKey)?await(0,a.findAta)(l,p,!0):await(0,a.withFindOrInitAssociatedTokenAccount)(e,n,l,p,m,!0),i=await(0,a.tryGetAccount)((()=>(0,c.getPaymentManager)(n,f)));return[t,await(0,a.withFindOrInitAssociatedTokenAccount)(e,n,l,i?i.parsed.feeCollector:f,m,!0),[...b,...w]]}},t.withRemainingAccountsForHandlePaymentWithRoyalties=async(e,t,n,r,i,c,u)=>{const l=[],p=await s.Metadata.getPDA(r),f=await t.getAccountInfo(p);let d;try{d=s.MetadataData.deserialize(null==f?void 0:f.data)}catch(e){}if(d&&d.data.creators)for(const r of d.data.creators)if(0!==r.share){const s=new o.PublicKey(r.address);if(i.toString()===o.PublicKey.default.toString())l.push({pubkey:new o.PublicKey(r.address),isSigner:!1,isWritable:!0});else{const o=(null==u?void 0:u.includes(r.address))?await(0,a.findAta)(i,s,!0):await(0,a.withFindOrInitAssociatedTokenAccount)(e,t,i,s,n.publicKey,!0);l.push({pubkey:o,isSigner:!1,isWritable:!0})}}return[...l,...c?[{pubkey:c,isSigner:!1,isWritable:!0}]:[]]}},813965:(e,t,n)=>{"use strict";n.r(t),n.d(t,{camelCase:()=>ke,capitalizeFirstLetter:()=>ve,connectionFor:()=>oe,contrastify:()=>te,createSyncNativeInstruction:()=>De,decimalAmount:()=>_e,emptyWallet:()=>Le,findAta:()=>J,firstParam:()=>Ie,getBatchedMultipleAccounts:()=>be,getExpirationString:()=>ae,getOwner:()=>X,getQueryParam:()=>Se,hexColor:()=>ee,longDateString:()=>ce,naturalAmount:()=>xe,pubKeyUrl:()=>Me,secondsToString:()=>le,secondstoDuration:()=>ue,shortDateString:()=>se,shortPubKey:()=>Ee,transactionUrl:()=>Pe,tryBN:()=>Ue,tryFormatInput:()=>Oe,tryGetAccount:()=>H,tryParseInput:()=>Ce,tryPublicKey:()=>Te,withCreateMint:()=>Ae,withFindOrInitAssociatedTokenAccount:()=>we,withWrapSol:()=>We});var r=n(122970),i=n(996346),o=n(495242),a=n(627158);const s=new a.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),c=(new a.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new a.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL")),u=new a.PublicKey("So11111111111111111111111111111111111111112");new a.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");class l extends Error{constructor(e){super(e)}}class p extends l{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class f extends l{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class d extends l{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class y extends l{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class h extends l{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var g,m;(m=g||(g={}))[m.Uninitialized=0]="Uninitialized",m[m.Mint=1]="Mint",m[m.Account=2]="Account";const w=1,b=(0,i.struct)([(0,i.u8)("m"),(0,i.u8)("n"),(0,o.Xg)("isInitialized"),(0,o.ZL)("signer1"),(0,o.ZL)("signer2"),(0,o.ZL)("signer3"),(0,o.ZL)("signer4"),(0,o.ZL)("signer5"),(0,o.ZL)("signer6"),(0,o.ZL)("signer7"),(0,o.ZL)("signer8"),(0,o.ZL)("signer9"),(0,o.ZL)("signer10"),(0,o.ZL)("signer11")]).span;var A,S=n(348834).Buffer;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"}(A||(A={}));const I=(0,i.struct)([(0,o.ZL)("mint"),(0,o.ZL)("owner"),(0,o.AW)("amount"),(0,i.u32)("delegateOption"),(0,o.ZL)("delegate"),(0,i.u8)("state"),(0,i.u32)("isNativeOption"),(0,o.AW)("isNative"),(0,o.AW)("delegatedAmount"),(0,i.u32)("closeAuthorityOption"),(0,o.ZL)("closeAuthority")]),k=I.span;const v=(0,i.struct)([(0,o.Xg)("lockCpi")]).span,E=(0,i.struct)([(0,i.u8)("state")]).span,M=(0,i.struct)([]).span,T=(0,i.struct)([(0,o.ZL)("rateAuthority"),(0,i.ns64)("initializationTimestamp"),(0,i.s16)("preUpdateAverageRate"),(0,i.ns64)("lastUpdateTimestamp"),(0,i.s16)("currentRate")]).span,P=(0,i.struct)([(0,o.Xg)("requireIncomingTransferMemos")]).span,B=(0,i.struct)([(0,o.ZL)("authority"),(0,o.ZL)("metadataAddress")]).span,R=(0,i.struct)([(0,o.ZL)("closeAuthority")]).span,K=(0,i.struct)([]),x=K.span,_=K.span,O=(0,i.struct)([(0,o.ZL)("delegate")]).span;function C(e){return(0,i.struct)([(0,o.AW)("epoch"),(0,o.AW)("maximumFee"),(0,i.u16)("transferFeeBasisPoints")],e)}BigInt(1e4);const U=(0,i.struct)([(0,o.ZL)("transferFeeConfigAuthority"),(0,o.ZL)("withdrawWithheldAuthority"),(0,o.AW)("withheldAmount"),C("olderTransferFee"),C("newerTransferFee")]).span,L=(0,i.struct)([(0,o.AW)("withheldAmount")]).span;n(348834).Buffer;const N=(0,i.struct)([(0,o.ZL)("authority"),(0,o.ZL)("programId")]).span,W=(0,i.struct)([(0,o.Xg)("transferring")]).span,D=(0,i.struct)([(0,i.u8)("discriminator"),(0,i.blob)(32,"addressConfig"),(0,o.Xg)("isSigner"),(0,o.Xg)("isWritable")]),F=(0,i.struct)([(0,i.u32)("count"),(0,i.seq)(D,(0,i.greedy)(D.span),"extraAccounts")]);var z,j;(0,i.struct)([(0,o.AW)("instructionDiscriminator"),(0,i.u32)("length"),F.replicate("extraAccountsList")]),(j=z||(z={}))[j.Uninitialized=0]="Uninitialized",j[j.TransferFeeConfig=1]="TransferFeeConfig",j[j.TransferFeeAmount=2]="TransferFeeAmount",j[j.MintCloseAuthority=3]="MintCloseAuthority",j[j.ConfidentialTransferMint=4]="ConfidentialTransferMint",j[j.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",j[j.DefaultAccountState=6]="DefaultAccountState",j[j.ImmutableOwner=7]="ImmutableOwner",j[j.MemoTransfer=8]="MemoTransfer",j[j.NonTransferable=9]="NonTransferable",j[j.InterestBearingConfig=10]="InterestBearingConfig",j[j.CpiGuard=11]="CpiGuard",j[j.PermanentDelegate=12]="PermanentDelegate",j[j.NonTransferableAccount=13]="NonTransferableAccount",j[j.TransferHook=14]="TransferHook",j[j.TransferHookAccount=15]="TransferHookAccount",j[j.MetadataPointer=18]="MetadataPointer";const G=2,$=2;n(348834).Buffer;const V=(0,i.struct)([(0,i.u32)("mintAuthorityOption"),(0,o.ZL)("mintAuthority"),(0,o.AW)("supply"),(0,i.u8)("decimals"),(0,o.Xg)("isInitialized"),(0,i.u32)("freezeAuthorityOption"),(0,o.ZL)("freezeAuthority")]),Y=V.span;async function q(e,t){return await async function(e,t,n){const r=function(e,t){if(0===e.length)return t;{const t=k+w+e.filter(((t,n)=>n===e.indexOf(t))).map((e=>function(e){switch(e){case z.Uninitialized:return 0;case z.TransferFeeConfig:return U;case z.TransferFeeAmount:return L;case z.MintCloseAuthority:return R;case z.ConfidentialTransferMint:return 97;case z.ConfidentialTransferAccount:return 286;case z.CpiGuard:return v;case z.DefaultAccountState:return E;case z.ImmutableOwner:return M;case z.MemoTransfer:return P;case z.MetadataPointer:return B;case z.NonTransferable:return x;case z.InterestBearingConfig:return T;case z.PermanentDelegate:return O;case z.NonTransferableAccount:return _;case z.TransferHook:return N;case z.TransferHookAccount:return W;default:throw Error(`Unknown extension type: ${e}`)}}(e)+G+$)).reduce(((e,t)=>e+t));return t===b?t+G:t}}([],Y);return await e.getMinimumBalanceForRentExemption(r,n)}(e,0,t)}async function Z(e,t,n=!1,r=s,i=c){if(!n&&!a.PublicKey.isOnCurve(t.toBuffer()))throw new h;const[o]=await a.PublicKey.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return o}function H(e){return(0,r.__awaiter)(this,void 0,void 0,(function*(){try{return yield e()}catch(e){return null}}))}function J(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function*(){return Z(e,t,n)}))}const X=(e,t)=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){var n;const r=new a.PublicKey(t),i=yield e.getTokenLargestAccounts(r),o=null===(n=null==i?void 0:i.value[0])||void 0===n?void 0:n.address;if(!o)return;const c=yield async function(e,t,n,r=s){return function(e,t,n=s){if(!t)throw new p;if(!t.owner.equals(n))throw new d;if(t.data.length<k)throw new y;const r=I.decode(t.data.slice(0,k));let i=S.alloc(0);if(t.data.length>k){if(t.data.length===b)throw new y;if(t.data[k]!=g.Account)throw new f;i=t.data.slice(k+w)}return{address:e,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==A.Uninitialized,isFrozen:r.state===A.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:i}}(t,await e.getAccountInfo(t,n),r)}(e,o);return null==c?void 0:c.owner}));var Q=n(192453);const ee=e=>{if(e.includes("#"))return e;const[t,n,r]=e.replace("rgb(","").replace("rgba(","").replace(")","").replace(" ","").split(",");return"#"+[t,n,r].map((e=>{const t=parseInt(e||"").toString(16);return 1===t.length?"0"+t:t})).join("")},te=(e,t)=>(0,Q.H3)(t)>.5?(0,Q._j)(e,t):(0,Q.$n)(e,t);var ne,re;const ie={"mainnet-beta":null!==(ne={__DEV__:!1,IS_STATIC:"",NODE_ENV:"production",TAMAGUI_TARGET:"web",DEBUG:"0",BACKPACK_ENV:"production",BACKPACK_CONFIG_LOG_LEVEL:"none",BACKPACK_CONFIG_VERSION:"0.10.190-2"}.MAINNET_PRIMARY)&&void 0!==ne?ne:"https://solana-api.projectserum.com",mainnet:null!==(re={__DEV__:!1,IS_STATIC:"",NODE_ENV:"production",TAMAGUI_TARGET:"web",DEBUG:"0",BACKPACK_ENV:"production",BACKPACK_CONFIG_LOG_LEVEL:"none",BACKPACK_CONFIG_VERSION:"0.10.190-2"}.MAINNET_PRIMARY)&&void 0!==re?re:"https://solana-api.projectserum.com",devnet:"https://api.devnet.solana.com/",testnet:"https://api.testnet.solana.com/",localnet:"http://localhost:8899/"},oe=(e,t="mainnet")=>new a.Connection({__DEV__:!1,IS_STATIC:"",NODE_ENV:"production",TAMAGUI_TARGET:"web",DEBUG:"0",BACKPACK_ENV:"production",BACKPACK_CONFIG_LOG_LEVEL:"none",BACKPACK_CONFIG_VERSION:"0.10.190-2"}.RPC_URL||ie[e||t],"recent");function ae(e,t,n){var r,i;const o=null!==(r=null==n?void 0:n.includes)&&void 0!==r?r:[{suffix:"d",durationSeconds:86400},{suffix:"h",durationSeconds:3600,mod:24},{suffix:"m",durationSeconds:60,mod:60},{suffix:"s",durationSeconds:1,mod:60}],a=e-t,s=n=>n<0?0:e-t>0?Math.floor(n):Math.ceil(n);return o.map((({durationSeconds:e,mod:t,suffix:r})=>((e,t)=>s(e)||(null==n?void 0:n.showZeros)?`${s(e)}${t}`:"")(t?a/e%t:a/e,(null==n?void 0:n.capitalizeSuffix)?r.toUpperCase():r))).join(null!==(i=null==n?void 0:n.delimiter)&&void 0!==i?i:" ")}function se(e){return`${new Date(1e3*e).toLocaleDateString([],{month:"2-digit",day:"2-digit",year:"2-digit"})} ${new Date(1e3*e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}function ce(e){return new Date(1e3*e).toLocaleTimeString(["en-US"],{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZoneName:"short"})}function ue(e){let t="";const n=[`${Math.floor(e/31449600)}Y`,`${Math.floor(e%31449600/2419200)}M`,`${Math.floor(e%2419200/604800)}w`,`${Math.floor(e%604800/86400)}d`],r=[`${Math.floor(e%86400/3600)}h`,`${Math.floor(e%3600/60)}m`,e%60+"s"];for(const e of n)parseInt(e.substring(0,e.length-1))>0&&(t+=e+" ");for(const e of r)t+=e+" ";return t}const le=(e,t=!0)=>{if(!e||e<=0)return"0";const n=Math.floor(e/60/60/24/7),r=Math.floor(e/60/60/24%7),i=Math.floor(e/60/60%24),o=Math.floor(e/60%60),a=Math.round(e%60);return`${n?`${n}w `:""} ${r?`${r}d `:""}${!n&&i?`${i}h `:""}${!n&&o?`${o}m `:""}${a&&t?`${a}s`:""}`};var pe,fe;(fe=pe||(pe={}))[fe.InitializeMint=0]="InitializeMint",fe[fe.InitializeAccount=1]="InitializeAccount",fe[fe.InitializeMultisig=2]="InitializeMultisig",fe[fe.Transfer=3]="Transfer",fe[fe.Approve=4]="Approve",fe[fe.Revoke=5]="Revoke",fe[fe.SetAuthority=6]="SetAuthority",fe[fe.MintTo=7]="MintTo",fe[fe.Burn=8]="Burn",fe[fe.CloseAccount=9]="CloseAccount",fe[fe.FreezeAccount=10]="FreezeAccount",fe[fe.ThawAccount=11]="ThawAccount",fe[fe.TransferChecked=12]="TransferChecked",fe[fe.ApproveChecked=13]="ApproveChecked",fe[fe.MintToChecked=14]="MintToChecked",fe[fe.BurnChecked=15]="BurnChecked",fe[fe.InitializeAccount2=16]="InitializeAccount2",fe[fe.SyncNative=17]="SyncNative",fe[fe.InitializeAccount3=18]="InitializeAccount3",fe[fe.InitializeMultisig2=19]="InitializeMultisig2",fe[fe.InitializeMint2=20]="InitializeMint2",fe[fe.GetAccountDataSize=21]="GetAccountDataSize",fe[fe.InitializeImmutableOwner=22]="InitializeImmutableOwner",fe[fe.AmountToUiAmount=23]="AmountToUiAmount",fe[fe.UiAmountToAmount=24]="UiAmountToAmount",fe[fe.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",fe[fe.TransferFeeExtension=26]="TransferFeeExtension",fe[fe.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",fe[fe.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",fe[fe.Reallocate=29]="Reallocate",fe[fe.MemoTransferExtension=30]="MemoTransferExtension",fe[fe.CreateNativeMint=31]="CreateNativeMint",fe[fe.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",fe[fe.InterestBearingMintExtension=33]="InterestBearingMintExtension",fe[fe.CpiGuardExtension=34]="CpiGuardExtension",fe[fe.InitializePermanentDelegate=35]="InitializePermanentDelegate",fe[fe.TransferHookExtension=36]="TransferHookExtension",fe[fe.MetadataPointerExtension=39]="MetadataPointerExtension";var de=n(348834).Buffer;const ye=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("decimals"),(0,o.ZL)("mintAuthority"),(0,i.u8)("freezeAuthorityOption"),(0,o.ZL)("freezeAuthority")]);var he=n(348834).Buffer;const ge=(0,i.struct)([(0,i.u8)("instruction"),(0,o.AW)("amount")]);var me=n(348834).Buffer;function we(e,t,n,i,o,u){return(0,r.__awaiter)(this,void 0,void 0,(function*(){const r=yield Z(n,i,u);return(yield t.getAccountInfo(r))||e.add(function(e,t,n,r,i=s,o=c){return function(e,t,n,r,i,o=s,u=c){const l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:l,programId:u,data:i})}(e,t,n,r,me.alloc(0),i,o)}(o,r,i,n)),r}))}const be=(e,t,n,i=100)=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){const r=[[]];return t.forEach((e=>{const t=r[r.length-1];t&&(t.length>=i?r.push([e]):t.push(e))})),(yield Promise.all(r.map((t=>t.length>0?e.getMultipleAccountsInfo(t,n):[])))).flat()})),Ae=(e,t,n,i,o,c=1,u=0,l=i)=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){const r=yield q(t);e.add(a.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:o,lamports:r,space:V.span,programId:s})),e.add(function(e,t,n,r,i=s){const o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],c=de.alloc(ye.span);return ye.encode({instruction:pe.InitializeMint,decimals:t,mintAuthority:n,freezeAuthorityOption:r?1:0,freezeAuthority:r||new a.PublicKey(0)},c),new a.TransactionInstruction({keys:o,programId:i,data:c})}(o,u,n.publicKey,l));const i=yield we(e,t,o,n.publicKey,n.publicKey);return c>0&&e.add(function(e,t,n,r,i=[],o=s){const c=function(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const t of n)e.push({pubkey:t instanceof a.PublicKey?t:t.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,i),u=he.alloc(ge.span);return ge.encode({instruction:pe.MintTo,amount:BigInt(r)},u),new a.TransactionInstruction({keys:c,programId:o,data:u})}(o,i,n.publicKey,c)),[i,e]}));function Se(e,t){if(!e||!t)return null;const n=e.match(new RegExp("[?&]"+t+"=([^&#]*)"));return n&&n[1]}const Ie=e=>e?"string"==typeof e?e:e[0]||"":"",ke=e=>e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),ve=e=>e[0]?e[0].toUpperCase()+e.slice(1):"";function Ee(e,t=4,n=t){return e?`${null==e?void 0:e.toString().substring(0,t)}..${null==e?void 0:e.toString().substring((null==e?void 0:e.toString().length)-n)}`:""}function Me(e,t){return e?`https://explorer.solana.com/address/${e.toString()}/metadata${"devnet"===t?"?cluster=devnet":""}`:"https://explorer.solana.com"}const Te=e=>{if(!e)return null;try{return new a.PublicKey(e)}catch(e){return null}};function Pe(e,t){return`https://explorer.solana.com/tx/${e}${"devnet"===t?"?cluster=devnet":""}`}var Be=n(372558),Re=n(162197),Ke=n.n(Re);function xe(e,t){return new(Ke())(new Be.O(e).shiftedBy(t).toString())}function _e(e,t){return new Be.O(e.toString()).shiftedBy(-t).toNumber()}function Oe(e,t,n){if(!e)return n;const r=e.match(/\.(0+)?$/);try{return new Be.O(e.replace(",","")).isFinite()?new Be.O(e.replace(",","")).shiftedBy(-(t||0)).toFormat({groupSeparator:"",decimalSeparator:"."}).concat(r&&r[0]?r[0]:""):n}catch(e){return n}}function Ce(e,t,n){if(!e)return"0";const r=e.match(/\.(0+)?$/);try{return new Be.O(e.replace(",","")).isFinite()?new Be.O(e.replace(",","")).shiftedBy(t||0).toFixed(0,Be.O.ROUND_FLOOR).concat(r&&r[0]?r[0]:""):n}catch(e){return n}}const Ue=e=>{if(null==e)return null;try{return new(Ke())(e)}catch(e){return null}},Le=e=>({signTransaction:e=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){return new Promise((()=>e))})),signAllTransactions:e=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){return new Promise((()=>e))})),publicKey:e});var Ne=n(348834).Buffer;function We(e,t,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function*(){console.log(`Wrapping ${i} lamports`);const r=yield we(e,t,u,n.publicKey,n.publicKey);return e.add(a.SystemProgram.transfer({fromPubkey:n.publicKey,toPubkey:r,lamports:i})),e.add(De(r)),e}))}function De(e){const t=i.struct([i.u8("instruction")]),n=Ne.alloc(t.span);t.encode({instruction:17},n);const r=[{pubkey:e,isSigner:!1,isWritable:!0}];return new a.TransactionInstruction({keys:r,programId:s,data:n})}},990923:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ASSOCIATED_TOKEN_PROGRAM_ID:()=>Ve,AccountLayout:()=>tt,MintLayout:()=>et,NATIVE_MINT:()=>Qe,TOKEN_PROGRAM_ID:()=>$e,Token:()=>rt,u64:()=>He});for(var r=n(682601),i=n(162197),o=n.n(i),a=n(627158),s={},c={byteLength:function(e){var t=y(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){var t,n,r=y(e),i=r[0],o=r[1],a=new p(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),s=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)t=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===o&&(t=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,a[s++]=255&t),1===o&&(t=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},fromByteArray:function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(h(e,a,a+o>s?s:a+o));return 1===r?(t=e[n-1],i.push(u[t>>2]+u[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(u[t>>10]+u[t>>4&63]+u[t<<2&63]+"=")),i.join("")}},u=[],l=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0;d<64;++d)u[d]=f[d],l[f.charCodeAt(d)]=d;function y(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(u[(i=r)>>18&63]+u[i>>12&63]+u[i>>6&63]+u[63&i]);return o.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63;var g={read:function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,p=n?i-1:0,f=n?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+p],p+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+p],p+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,p=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,y=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+p>=1?f/c:f*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*c-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=y,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=y,a/=256,u-=8);e[n+d-y]|=128*h}};!function(e){const t=c,n=g,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|y(e,t);let r=o(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);const i=function(e){if(a.isBuffer(e)){const t=0|d(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||H(e.length)?o(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),o(e<0?0:0|d(e))}function p(e){const t=e.length<0?0:0|d(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,a.prototype),r}function d(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function y(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),H(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return-1}function A(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(H(r))return a;e[n+a]=r}return a}function S(e,t,n,r){return q(V(t,e.length-n),e,n,r)}function I(e,t,n,r){return q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return q(Y(t),e,n,r)}function v(e,t,n,r){return q(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function M(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(o=c));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(Z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=a.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Z(t,Uint8Array))i+t.length>r.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!a.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?M(this,0,e):h.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const c=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<c;++e)if(u[e]!==l[e]){o=u[e],s=l[e];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return I(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function B(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function K(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function C(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,r,i,o){return t=+t,r>>>=0,o||U(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function N(e,t,r,i,o){return t=+t,r>>>=0,o||U(e,0,r,8),n.write(e,t,r,i,52,8),r+8}a.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=X((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=X((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=X((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),a.prototype.readBigInt64BE=X((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||_(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||_(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=X((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=X((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=X((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=X((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=a.isBuffer(e)?e:a.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const W={};function D(e,t,n){W[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||G(t,e.length-(n+1))}(r,i,o)}function j(e,t){if("number"!=typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,n){if(Math.floor(e)!==e)throw j(e,n),new W.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}}(s);var m=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},w="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};function b(e,t){var n={seen:[],stylize:S};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),E(t)?n.showHidden=t:t&&function(e,t){if(!t||!R(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]]}(n,t),P(n.showHidden)&&(n.showHidden=!1),P(n.depth)&&(n.depth=2),P(n.colors)&&(n.colors=!1),P(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=A),I(n,e,n.depth)}function A(e,t){var n=b.styles[t];return n?"["+b.colors[n][0]+"m"+e+"["+b.colors[n][1]+"m":e}function S(e,t){return e}function I(e,t,n){if(e.customInspect&&t&&_(t.inspect)&&t.inspect!==b&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return T(r)||(r=I(e,r,n)),r}var i=function(e,t){if(P(t))return e.stylize("undefined","undefined");if(T(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return"number"==typeof t?e.stylize(""+t,"number"):E(t)?e.stylize(""+t,"boolean"):M(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var o=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),x(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return k(t);if(0===o.length){if(_(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(B(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(K(t))return e.stylize(Date.prototype.toString.call(t),"date");if(x(t))return k(t)}var c,u,l="",p=!1,f=["{","}"];return c=t,Array.isArray(c)&&(p=!0,f=["[","]"]),_(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),B(t)&&(l=" "+RegExp.prototype.toString.call(t)),K(t)&&(l=" "+Date.prototype.toUTCString.call(t)),x(t)&&(l=" "+k(t)),0!==o.length||p&&0!=t.length?n<0?B(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=p?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)U(t,String(a))?o.push(v(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(v(e,t,n,r,i,!0))})),o}(e,t,n,a,o):o.map((function(r){return v(e,t,n,a,r,p)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,l,f)):f[0]+l+f[1]}function k(e){return"["+Error.prototype.toString.call(e)+"]"}function v(e,t,n,r,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),U(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=M(n)?I(e,c.value,null):I(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),P(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function E(e){return"boolean"==typeof e}function M(e){return null===e}function T(e){return"string"==typeof e}function P(e){return void 0===e}function B(e){return R(e)&&"[object RegExp]"===C(e)}function R(e){return"object"==typeof e&&null!==e}function K(e){return R(e)&&"[object Date]"===C(e)}function x(e){return R(e)&&("[object Error]"===C(e)||e instanceof Error)}function _(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function C(e){return Object.prototype.toString.call(e)}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},b.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var N,W=Object.prototype.hasOwnProperty,D=Object.keys||function(e){var t=[];for(var n in e)W.call(e,n)&&t.push(n);return t},F=Array.prototype.slice;function z(){return void 0!==N?N:N="foo"===function(){}.name}function j(e){return Object.prototype.toString.call(e)}function G(e){return!s.isBuffer(e)&&"function"==typeof m.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function $(e,t){e||J(e,!0,t,"==",X)}var V=/\s*function\s+([^\(\s]*)\s*/;function Y(e){if(_(e)){if(z())return e.name;var t=e.toString().match(V);return t&&t[1]}}function q(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return Z(H(e.actual),128)+" "+e.operator+" "+Z(H(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||J;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=Y(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}}function Z(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function H(e){if(z()||!_(e))return b(e);var t=Y(e);return"[Function"+(t?": "+t:"")+"]"}function J(e,t,n,r,i){throw new q({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function X(e,t){e||J(e,!0,t,"==",X)}function Q(e,t,n,r){if(e===t)return!0;if(s.isBuffer(e)&&s.isBuffer(t))return 0===L(e,t);if(K(e)&&K(t))return e.getTime()===t.getTime();if(B(e)&&B(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(G(e)&&G(t)&&j(e)===j(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===L(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(s.isBuffer(e)!==s.isBuffer(t))return!1;var i=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(O(e)||O(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=ee(e),o=ee(t);if(i&&!o||!i&&o)return!1;if(i)return Q(e=F.call(e),t=F.call(t),n);var a,s,c=D(e),u=D(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),s=c.length-1;s>=0;s--)if(c[s]!==u[s])return!1;for(s=c.length-1;s>=0;s--)if(!Q(e[a=c[s]],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function ee(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function te(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function ne(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&J(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!e&&i&&!n;if((!e&&x(i)&&o&&te(i,n)||a)&&J(i,n,"Got unwanted exception"+r),e&&i&&n&&!te(i,n)||!e&&i)throw i}$.AssertionError=q,w(q,Error),$.fail=J,$.ok=X,$.equal=function e(t,n,r){t!=n&&J(t,n,r,"==",e)},$.notEqual=function e(t,n,r){t==n&&J(t,n,r,"!=",e)},$.deepEqual=function e(t,n,r){Q(t,n,!1)||J(t,n,r,"deepEqual",e)},$.deepStrictEqual=function e(t,n,r){Q(t,n,!0)||J(t,n,r,"deepStrictEqual",e)},$.notDeepEqual=function e(t,n,r){Q(t,n,!1)&&J(t,n,r,"notDeepEqual",e)},$.notDeepStrictEqual=function e(t,n,r){Q(t,n,!0)&&J(t,n,r,"notDeepStrictEqual",e)},$.strictEqual=function e(t,n,r){t!==n&&J(t,n,r,"===",e)},$.notStrictEqual=function e(t,n,r){t===n&&J(t,n,r,"!==",e)},$.throws=function(e,t,n){ne(!0,e,t,n)},$.doesNotThrow=function(e,t,n){ne(!1,e,t,n)},$.ifError=function(e){if(e)throw e};var re={};class ie{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function oe(e,t){return t.property?e+"["+t.property+"]":e}re.Layout=ie,re.nameWithProperty=oe,re.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof ie))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})};class ae extends ie{isCount(){throw new Error("ExternalLayout is abstract")}}class se extends ae{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class ce extends ae{constructor(e,t,n){if(!(e instanceof ie))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof ue||this.layout instanceof le}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class ue extends ie{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class le extends ie{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}class pe extends ie{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntLE(e,n,this.span),this.span}}class fe extends ie{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntBE(e,n,this.span),this.span}}const de=Math.pow(2,32);function ye(e){const t=Math.floor(e/de);return{hi32:t,lo32:e-t*de}}function he(e,t){return e*de+t}class ge extends ie{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return he(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class me extends ie{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),he(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeUInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class we extends ie{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return he(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class be extends ie{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),he(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class Ae extends ie{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatLE(e,n),4}}class Se extends ie{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatBE(e,n),4}}class Ie extends ie{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleLE(e,n),8}}class ke extends ie{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleBE(e,n),8}}class ve extends ie{constructor(e,t,n){if(!(e instanceof ie))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof ae&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof ae)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0,r=this.count;if(r instanceof ae&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t){void 0===t&&(t=0);const n=[];let r=0,i=this.count;for(i instanceof ae&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n){void 0===n&&(n=0);const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof ae&&this.count.encode(e.length,t,n),i}}class Ee extends ie{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof ie),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let a=r.span;if(o=0<a?a:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>a&&(a=r.getSpan(t,n)))}i=n,n+=a}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class Me{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Te extends Me{constructor(e,t){if(!(e instanceof ae&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class Pe extends ie{constructor(e,t,n){const r=e instanceof ue||e instanceof le;if(r)e=new Te(new ce(e));else if(e instanceof ae&&e.isCount())e=new Te(e);else if(!(e instanceof Me))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof ie))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+a)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Be(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return s.Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class Be extends ie{constructor(e,t,n,r){if(!(e instanceof Pe))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof ie))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function Re(e){return 0>e&&(e+=4294967296),e}class Ke extends ie{constructor(e,t,n){if(!(e instanceof ue||e instanceof le))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=Re(e),this},this._packedGetValue=function(){return r}}decode(e,t){const n=this.makeDestinationObject();void 0===t&&(t=0);const r=this.word.decode(e,t);this._packedSetValue(r);for(const e of this.fields)void 0!==e.property&&(n[e.property]=e.decode(r));return n}encode(e,t,n){void 0===n&&(n=0);const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new xe(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new _e(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class xe{constructor(e,t,n){if(!(e instanceof Ke))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=Re(this.valueMask<<this.start),this.property=n}decode(){return Re(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==Re(e&this.valueMask))throw new TypeError(oe("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=Re(e<<this.start);this.container._packedSetValue(Re(t&~this.wordMask)|n)}}class _e extends xe{constructor(e,t){super(e,1,t)}decode(e,t){return!!xe.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),xe.prototype.encode.call(this,e)}}class Oe extends ie{constructor(e,t){if(!(e instanceof ae&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ae||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof ae&&(r=e.length),!s.Buffer.isBuffer(e)||r!==e.length)throw new TypeError(oe("Blob.encode",this)+" requires (length "+r+") Buffer as src");if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof ae&&this.length.encode(r,t,n),r}}class Ce extends ie{constructor(e){super(-1,e)}getSpan(e,t){if(!s.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);return e.slice(t,t+r-1).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new s.Buffer(e,"utf8"),i=r.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),t[n+i]=0,i+1}}class Ue extends ie{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!s.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+r).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new s.Buffer(e,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),i}}class Le extends ie{constructor(e,t){super(0,t),this.value=e}decode(e,t,n){return this.value}encode(e,t,n){return 0}}re.ExternalLayout=ae,re.GreedyCount=se,re.OffsetLayout=ce,re.UInt=ue,re.UIntBE=le,re.Int=pe,re.IntBE=fe,re.Float=Ae,re.FloatBE=Se,re.Double=Ie,re.DoubleBE=ke,re.Sequence=ve,re.Structure=Ee,re.UnionDiscriminator=Me,re.UnionLayoutDiscriminator=Te,re.Union=Pe,re.VariantLayout=Be,re.BitStructure=Ke,re.BitField=xe,re.Boolean=_e,re.Blob=Oe,re.CString=Ce,re.UTF8=Ue,re.Constant=Le,re.greedy=(e,t)=>new se(e,t),re.offset=(e,t,n)=>new ce(e,t,n);var Ne=re.u8=e=>new ue(1,e);re.u16=e=>new ue(2,e),re.u24=e=>new ue(3,e);var We=re.u32=e=>new ue(4,e);re.u40=e=>new ue(5,e),re.u48=e=>new ue(6,e),re.nu64=e=>new ge(e),re.u16be=e=>new le(2,e),re.u24be=e=>new le(3,e),re.u32be=e=>new le(4,e),re.u40be=e=>new le(5,e),re.u48be=e=>new le(6,e),re.nu64be=e=>new me(e),re.s8=e=>new pe(1,e),re.s16=e=>new pe(2,e),re.s24=e=>new pe(3,e),re.s32=e=>new pe(4,e),re.s40=e=>new pe(5,e),re.s48=e=>new pe(6,e),re.ns64=e=>new we(e),re.s16be=e=>new fe(2,e),re.s24be=e=>new fe(3,e),re.s32be=e=>new fe(4,e),re.s40be=e=>new fe(5,e),re.s48be=e=>new fe(6,e),re.ns64be=e=>new be(e),re.f32=e=>new Ae(e),re.f32be=e=>new Se(e),re.f64=e=>new Ie(e),re.f64be=e=>new ke(e);var De=re.struct=(e,t,n)=>new Ee(e,t,n);re.bits=(e,t,n)=>new Ke(e,t,n),re.seq=(e,t,n)=>new ve(e,t,n),re.union=(e,t,n)=>new Pe(e,t,n),re.unionLayoutDiscriminator=(e,t)=>new Te(e,t);var Fe=re.blob=(e,t)=>new Oe(e,t);re.cstr=e=>new Ce(e),re.utf8=(e,t)=>new Ue(e,t),re.const=(e,t)=>new Le(e,t);const ze=(e="publicKey")=>Fe(32,e),je=(e="uint64")=>Fe(8,e);function Ge(e,t,n,...r){return(0,a.sendAndConfirmTransaction)(t,n,r,{skipPreflight:!1})}const $e=new a.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ve=new a.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Ye="Failed to find account",qe="Invalid account owner";function Ze(e){return s.Buffer.from(e.toBuffer())}class He extends(o()){toBuffer(){const e=super.toArray().reverse(),t=s.Buffer.from(e);if(8===t.length)return t;$(t.length<8,"u64 too large");const n=s.Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){return $(8===e.length,`Invalid buffer length: ${e.length}`),new He([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}function Je(e){return"publicKey"in e}const Xe={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},Qe=new a.PublicKey("So11111111111111111111111111111111111111112"),et=De([We("mintAuthorityOption"),ze("mintAuthority"),je("supply"),Ne("decimals"),Ne("isInitialized"),We("freezeAuthorityOption"),ze("freezeAuthority")]),tt=De([ze("mint"),ze("owner"),je("amount"),We("delegateOption"),ze("delegate"),Ne("state"),We("isNativeOption"),je("isNative"),je("delegatedAmount"),We("closeAuthorityOption"),ze("closeAuthority")]),nt=De([Ne("m"),Ne("n"),Ne("is_initialized"),ze("signer1"),ze("signer2"),ze("signer3"),ze("signer4"),ze("signer5"),ze("signer6"),ze("signer7"),ze("signer8"),ze("signer9"),ze("signer10"),ze("signer11")]);class rt{constructor(e,t,n,i){(0,r.Z)(this,"connection",void 0),(0,r.Z)(this,"publicKey",void 0),(0,r.Z)(this,"programId",void 0),(0,r.Z)(this,"associatedProgramId",void 0),(0,r.Z)(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:t,programId:n,payer:i,associatedProgramId:Ve})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(et.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(tt.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(nt.span)}static async createMint(e,t,n,r,i,o){const s=a.Keypair.generate(),c=new rt(e,s.publicKey,o,t),u=await rt.getMinBalanceRentForExemptMint(e),l=new a.Transaction;return l.add(a.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:s.publicKey,lamports:u,space:et.span,programId:o})),l.add(rt.createInitMintInstruction(o,s.publicKey,i,n,r)),await Ge(0,e,l,t,s),c}async createAccount(e){const t=await rt.getMinBalanceRentForExemptAccount(this.connection),n=a.Keypair.generate(),r=new a.Transaction;r.add(a.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:t,space:tt.span,programId:this.programId}));const i=this.publicKey;return r.add(rt.createInitAccountInstruction(this.programId,i,n.publicKey,e)),await Ge(0,this.connection,r,this.payer,n),n.publicKey}async createAssociatedTokenAccount(e){const t=await rt.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,t)}async createAssociatedTokenAccountInternal(e,t){return await Ge(0,this.connection,(new a.Transaction).add(rt.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,t,e,this.payer.publicKey)),this.payer),t}async getOrCreateAssociatedAccountInfo(e){const t=await rt.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(t)}catch(n){if(n.message===Ye||n.message===qe){try{await this.createAssociatedTokenAccountInternal(e,t)}catch(e){}return await this.getAccountInfo(t)}throw n}}static async createWrappedNativeAccount(e,t,n,r,i){const o=await rt.getMinBalanceRentForExemptAccount(e),s=a.Keypair.generate(),c=new a.Transaction;return c.add(a.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:s.publicKey,lamports:o,space:tt.span,programId:t})),c.add(a.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:s.publicKey,lamports:i})),c.add(rt.createInitAccountInstruction(t,Qe,s.publicKey,n)),await Ge(0,e,c,r,s),s.publicKey}async createMultisig(e,t){const n=a.Keypair.generate(),r=await rt.getMinBalanceRentForExemptMultisig(this.connection),i=new a.Transaction;i.add(a.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:r,space:nt.span,programId:this.programId}));let o=[{pubkey:n.publicKey,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.forEach((e=>o.push({pubkey:e,isSigner:!1,isWritable:!1})));const c=De([Ne("instruction"),Ne("m")]),u=s.Buffer.alloc(c.span);return c.encode({instruction:2,m:e},u),i.add({keys:o,programId:this.programId,data:u}),await Ge(0,this.connection,i,this.payer,n),n.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(null===e)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=et.span)throw new Error("Invalid mint size");const t=s.Buffer.from(e.data),n=et.decode(t);return 0===n.mintAuthorityOption?n.mintAuthority=null:n.mintAuthority=new a.PublicKey(n.mintAuthority),n.supply=He.fromBuffer(n.supply),n.isInitialized=0!=n.isInitialized,0===n.freezeAuthorityOption?n.freezeAuthority=null:n.freezeAuthority=new a.PublicKey(n.freezeAuthority),n}async getAccountInfo(e,t){const n=await this.connection.getAccountInfo(e,t);if(null===n)throw new Error(Ye);if(!n.owner.equals(this.programId))throw new Error(qe);if(n.data.length!=tt.span)throw new Error("Invalid account size");const r=s.Buffer.from(n.data),i=tt.decode(r);if(i.address=e,i.mint=new a.PublicKey(i.mint),i.owner=new a.PublicKey(i.owner),i.amount=He.fromBuffer(i.amount),0===i.delegateOption?(i.delegate=null,i.delegatedAmount=new He):(i.delegate=new a.PublicKey(i.delegate),i.delegatedAmount=He.fromBuffer(i.delegatedAmount)),i.isInitialized=0!==i.state,i.isFrozen=2===i.state,1===i.isNativeOption?(i.rentExemptReserve=He.fromBuffer(i.isNative),i.isNative=!0):(i.rentExemptReserve=null,i.isNative=!1),0===i.closeAuthorityOption?i.closeAuthority=null:i.closeAuthority=new a.PublicKey(i.closeAuthority),!i.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(i.mint)} !== ${JSON.stringify(this.publicKey)}`);return i}async getMultisigInfo(e){const t=await this.connection.getAccountInfo(e);if(null===t)throw new Error("Failed to find multisig");if(!t.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(t.data.length!=nt.span)throw new Error("Invalid multisig size");const n=s.Buffer.from(t.data),r=nt.decode(n);return r.signer1=new a.PublicKey(r.signer1),r.signer2=new a.PublicKey(r.signer2),r.signer3=new a.PublicKey(r.signer3),r.signer4=new a.PublicKey(r.signer4),r.signer5=new a.PublicKey(r.signer5),r.signer6=new a.PublicKey(r.signer6),r.signer7=new a.PublicKey(r.signer7),r.signer8=new a.PublicKey(r.signer8),r.signer9=new a.PublicKey(r.signer9),r.signer10=new a.PublicKey(r.signer10),r.signer11=new a.PublicKey(r.signer11),r}async transfer(e,t,n,r,i){let o,s;return Je(n)?(o=n.publicKey,s=[n]):(o=n,s=r),await Ge("Transfer",this.connection,(new a.Transaction).add(rt.createTransferInstruction(this.programId,e,t,o,r,i)),this.payer,...s)}async approve(e,t,n,r,i){let o,s;Je(n)?(o=n.publicKey,s=[n]):(o=n,s=r),await Ge("Approve",this.connection,(new a.Transaction).add(rt.createApproveInstruction(this.programId,e,t,o,r,i)),this.payer,...s)}async revoke(e,t,n){let r,i;Je(t)?(r=t.publicKey,i=[t]):(r=t,i=n),await Ge("Revoke",this.connection,(new a.Transaction).add(rt.createRevokeInstruction(this.programId,e,r,n)),this.payer,...i)}async setAuthority(e,t,n,r,i){let o,s;Je(r)?(o=r.publicKey,s=[r]):(o=r,s=i),await Ge("SetAuthority",this.connection,(new a.Transaction).add(rt.createSetAuthorityInstruction(this.programId,e,t,n,o,i)),this.payer,...s)}async mintTo(e,t,n,r){let i,o;Je(t)?(i=t.publicKey,o=[t]):(i=t,o=n),await Ge("MintTo",this.connection,(new a.Transaction).add(rt.createMintToInstruction(this.programId,this.publicKey,e,i,n,r)),this.payer,...o)}async burn(e,t,n,r){let i,o;Je(t)?(i=t.publicKey,o=[t]):(i=t,o=n),await Ge("Burn",this.connection,(new a.Transaction).add(rt.createBurnInstruction(this.programId,this.publicKey,e,i,n,r)),this.payer,...o)}async closeAccount(e,t,n,r){let i,o;Je(n)?(i=n.publicKey,o=[n]):(i=n,o=r),await Ge("CloseAccount",this.connection,(new a.Transaction).add(rt.createCloseAccountInstruction(this.programId,e,t,i,r)),this.payer,...o)}async freezeAccount(e,t,n){let r,i;Je(t)?(r=t.publicKey,i=[t]):(r=t,i=n),await Ge("FreezeAccount",this.connection,(new a.Transaction).add(rt.createFreezeAccountInstruction(this.programId,e,this.publicKey,r,n)),this.payer,...i)}async thawAccount(e,t,n){let r,i;Je(t)?(r=t.publicKey,i=[t]):(r=t,i=n),await Ge("ThawAccount",this.connection,(new a.Transaction).add(rt.createThawAccountInstruction(this.programId,e,this.publicKey,r,n)),this.payer,...i)}async transferChecked(e,t,n,r,i,o){let s,c;return Je(n)?(s=n.publicKey,c=[n]):(s=n,c=r),await Ge("TransferChecked",this.connection,(new a.Transaction).add(rt.createTransferCheckedInstruction(this.programId,e,this.publicKey,t,s,r,i,o)),this.payer,...c)}async approveChecked(e,t,n,r,i,o){let s,c;Je(n)?(s=n.publicKey,c=[n]):(s=n,c=r),await Ge("ApproveChecked",this.connection,(new a.Transaction).add(rt.createApproveCheckedInstruction(this.programId,e,this.publicKey,t,s,r,i,o)),this.payer,...c)}async mintToChecked(e,t,n,r,i){let o,s;Je(t)?(o=t.publicKey,s=[t]):(o=t,s=n),await Ge("MintToChecked",this.connection,(new a.Transaction).add(rt.createMintToCheckedInstruction(this.programId,this.publicKey,e,o,n,r,i)),this.payer,...s)}async burnChecked(e,t,n,r,i){let o,s;Je(t)?(o=t.publicKey,s=[t]):(o=t,s=n),await Ge("BurnChecked",this.connection,(new a.Transaction).add(rt.createBurnCheckedInstruction(this.programId,this.publicKey,e,o,n,r,i)),this.payer,...s)}async syncNative(e){await Ge(0,this.connection,(new a.Transaction).add(rt.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,t,n,r,i){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const c=De([Ne("instruction"),Ne("decimals"),ze("mintAuthority"),Ne("option"),ze("freezeAuthority")]);let u=s.Buffer.alloc(1024);{const e=c.encode({instruction:0,decimals:n,mintAuthority:Ze(r),option:null===i?0:1,freezeAuthority:Ze(i||new a.PublicKey(0))},u);u=u.slice(0,e)}return new a.TransactionInstruction({keys:o,programId:e,data:u})}static createInitAccountInstruction(e,t,n,r){const i=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=De([Ne("instruction")]),c=s.Buffer.alloc(o.span);return o.encode({instruction:1},c),new a.TransactionInstruction({keys:i,programId:e,data:c})}static createTransferInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),je("amount")]),u=s.Buffer.alloc(c.span);c.encode({instruction:3,amount:new He(o).toBuffer()},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createApproveInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),je("amount")]),u=s.Buffer.alloc(c.span);c.encode({instruction:4,amount:new He(o).toBuffer()},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createRevokeInstruction(e,t,n,r){const i=De([Ne("instruction")]),o=s.Buffer.alloc(i.span);i.encode({instruction:5},o);let c=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===r.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),r.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:c,programId:e,data:o})}static createSetAuthorityInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),Ne("authorityType"),Ne("option"),ze("newAuthority")]);let u=s.Buffer.alloc(1024);{const e=c.encode({instruction:6,authorityType:Xe[r],option:null===n?0:1,newAuthority:Ze(n||new a.PublicKey(0))},u);u=u.slice(0,e)}let l=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===o.length?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createMintToInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),je("amount")]),u=s.Buffer.alloc(c.span);c.encode({instruction:7,amount:new He(o).toBuffer()},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createBurnInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),je("amount")]),u=s.Buffer.alloc(c.span);c.encode({instruction:8,amount:new He(o).toBuffer()},u);let l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createCloseAccountInstruction(e,t,n,r,i){const o=De([Ne("instruction")]),c=s.Buffer.alloc(o.span);o.encode({instruction:9},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:r,isSigner:!0,isWritable:!1}):(u.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:u,programId:e,data:c})}static createFreezeAccountInstruction(e,t,n,r,i){const o=De([Ne("instruction")]),c=s.Buffer.alloc(o.span);o.encode({instruction:10},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===i.length?u.push({pubkey:r,isSigner:!0,isWritable:!1}):(u.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:u,programId:e,data:c})}static createThawAccountInstruction(e,t,n,r,i){const o=De([Ne("instruction")]),c=s.Buffer.alloc(o.span);o.encode({instruction:11},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===i.length?u.push({pubkey:r,isSigner:!0,isWritable:!1}):(u.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:u,programId:e,data:c})}static createTransferCheckedInstruction(e,t,n,r,i,o,c,u){const l=De([Ne("instruction"),je("amount"),Ne("decimals")]),p=s.Buffer.alloc(l.span);l.encode({instruction:12,amount:new He(c).toBuffer(),decimals:u},p);let f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===o.length?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>f.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:f,programId:e,data:p})}static createApproveCheckedInstruction(e,t,n,r,i,o,c,u){const l=De([Ne("instruction"),je("amount"),Ne("decimals")]),p=s.Buffer.alloc(l.span);l.encode({instruction:13,amount:new He(c).toBuffer(),decimals:u},p);let f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===o.length?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>f.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:f,programId:e,data:p})}static createMintToCheckedInstruction(e,t,n,r,i,o,c){const u=De([Ne("instruction"),je("amount"),Ne("decimals")]),l=s.Buffer.alloc(u.span);u.encode({instruction:14,amount:new He(o).toBuffer(),decimals:c},l);let p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?p.push({pubkey:r,isSigner:!0,isWritable:!1}):(p.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>p.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:p,programId:e,data:l})}static createBurnCheckedInstruction(e,t,n,r,i,o,c){const u=De([Ne("instruction"),je("amount"),Ne("decimals")]),l=s.Buffer.alloc(u.span);u.encode({instruction:15,amount:new He(o).toBuffer(),decimals:c},l);let p=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?p.push({pubkey:r,isSigner:!0,isWritable:!1}):(p.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>p.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:p,programId:e,data:l})}static createSyncNativeInstruction(e,t){const n=De([Ne("instruction")]),r=s.Buffer.alloc(n.span);n.encode({instruction:17},r);let i=[{pubkey:t,isSigner:!1,isWritable:!0}];return new a.TransactionInstruction({keys:i,programId:e,data:r})}static async getAssociatedTokenAddress(e,t,n,r,i=!1){if(!i&&!a.PublicKey.isOnCurve(r.toBuffer()))throw new Error(`Owner cannot sign: ${r.toString()}`);return(await a.PublicKey.findProgramAddress([r.toBuffer(),t.toBuffer(),n.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,t,n,r,i,o){const c=s.Buffer.alloc(0);let u=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:u,programId:e,data:c})}}},592146:(e,t,n)=>{var r=n(318166);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},401642:(e,t,n)=>{"use strict";n.d(t,{IQ:()=>Re,uH:()=>Ke,O2:()=>u,Jo:()=>Be,VL:()=>xe});var r={};n.r(r),n.d(r,{getMintCounter:()=>K,getMintManager:()=>R,getTokenManager:()=>T,getTokenManagers:()=>P,getTokenManagersByState:()=>B,getTokenManagersForIssuer:()=>x,getTransferReceipt:()=>_});var i={};n.r(i),n.d(i,{findClaimReceiptId:()=>W,findMintCounterId:()=>z,findMintManagerId:()=>F,findReceiptMintManagerId:()=>j,findTokenManagerAddress:()=>N,findTransferReceiptId:()=>D,tokenManagerAddressFromMint:()=>L,tryTokenManagerAddressFromMint:()=>U});var o={};n.r(o),n.d(o,{addInvalidator:()=>H,claim:()=>ee,claimReceiptMint:()=>ie,closeMintManager:()=>re,closeTransferReceipt:()=>ce,creatMintManager:()=>ne,createClaimReceipt:()=>te,createTransferReceipt:()=>ae,delegate:()=>ue,init:()=>V,initMintCounter:()=>$,invalidate:()=>oe,issue:()=>J,send:()=>pe,setClaimApprover:()=>Y,setTransferAuthority:()=>q,transfer:()=>Z,undelegate:()=>le,unissue:()=>X,updateInvalidationType:()=>Q,updateTransferReceipt:()=>se});var a={};n.r(a),n.d(a,{RA:()=>E,Rj:()=>y,RH:()=>h,Xd:()=>m,h_:()=>g,A$:()=>b,hm:()=>S,MI:()=>r,NQ:()=>o,c:()=>i});var s={};n.r(s),n.d(s,{getAllListings:()=>ve,getAllMarketplaces:()=>Ae,getAllOfType:()=>Pe,getAllTransferAuthorities:()=>me,getListing:()=>Se,getListingsForIssuer:()=>ke,getListingsForMarketplace:()=>Ie,getMarketplace:()=>we,getMarketplaceByName:()=>be,getTransfer:()=>Ee,getTransferAuthority:()=>he,getTransferAuthorityByName:()=>ge,getTransfersFromUser:()=>Me,getTransfersToUser:()=>Te});var c={};n.r(c),n.d(c,{MI:()=>s});var u={};n.r(u),n.d(u,{gN:()=>a,WF:()=>c});var l=n(627158),p=n(929822),f=n(374082);const d=new l.PublicKey("mgr99QFMYByTqGPWmNqunV7vBLmWWXdSrHUfV8Jf3JM"),y="mint-counter",h="mint-manager",g="transfer-receipt",m="receipt-mint-manager",w={version:"1.7.11",name:"cardinal_token_manager",instructions:[{name:"init",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"mintCounter",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"issuer",isMut:!0,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"issuerTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"ix",type:{defined:"InitIx"}}]},{name:"uninit",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"issuer",isMut:!0,isSigner:!0},{name:"issuerTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initMintCounter",accounts:[{name:"mintCounter",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"mint",type:"publicKey"}]},{name:"setClaimApprover",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"issuer",isMut:!0,isSigner:!0}],args:[{name:"claimApprover",type:"publicKey"}]},{name:"setTransferAuthority",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"issuer",isMut:!0,isSigner:!0}],args:[{name:"transferAuthority",type:"publicKey"}]},{name:"addInvalidator",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"issuer",isMut:!0,isSigner:!0}],args:[{name:"invalidator",type:"publicKey"}]},{name:"createClaimReceipt",accounts:[{name:"tokenManager",isMut:!1,isSigner:!1},{name:"claimApprover",isMut:!1,isSigner:!0},{name:"claimReceipt",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"target",type:"publicKey"}]},{name:"claimReceiptMint",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"issuer",isMut:!0,isSigner:!0},{name:"receiptMint",isMut:!0,isSigner:!0},{name:"receiptMintMetadata",isMut:!0,isSigner:!1},{name:"recipientTokenAccount",isMut:!0,isSigner:!1},{name:"receiptMintManager",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedToken",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"name",type:"string"}]},{name:"issue",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"tokenManagerTokenAccount",isMut:!0,isSigner:!1},{name:"issuer",isMut:!1,isSigner:!0},{name:"issuerTokenAccount",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"unissue",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"tokenManagerTokenAccount",isMut:!0,isSigner:!1},{name:"issuer",isMut:!0,isSigner:!0},{name:"issuerTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"claim",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"tokenManagerTokenAccount",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!0},{name:"recipientTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"invalidate",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"tokenManagerTokenAccount",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"recipientTokenAccount",isMut:!0,isSigner:!1},{name:"invalidator",isMut:!1,isSigner:!0},{name:"collector",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"updateInvalidationType",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"issuer",isMut:!0,isSigner:!0}],args:[{name:"invalidationType",type:"u8"}]},{name:"createMintManager",accounts:[{name:"mintManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"freezeAuthority",isMut:!1,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"closeMintManager",accounts:[{name:"mintManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"freezeAuthority",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"createTransferReceipt",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"transferAuthority",isMut:!1,isSigner:!0},{name:"transferReceipt",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"target",type:"publicKey"}]},{name:"updateTransferReceipt",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"transferAuthority",isMut:!1,isSigner:!0},{name:"transferReceipt",isMut:!0,isSigner:!1}],args:[{name:"target",type:"publicKey"}]},{name:"closeTransferReceipt",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"transferAuthority",isMut:!1,isSigner:!0},{name:"transferReceipt",isMut:!0,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!1}],args:[]},{name:"transfer",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"currentHolderTokenAccount",isMut:!0,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!0},{name:"recipientTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"send",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"mintManager",isMut:!0,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!0},{name:"recipientTokenAccount",isMut:!0,isSigner:!1},{name:"target",isMut:!1,isSigner:!1},{name:"targetTokenAccount",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"instructions",isMut:!1,isSigner:!1}],args:[]},{name:"delegate",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"mintManager",isMut:!0,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!0},{name:"recipientTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"undelegate",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"mintManager",isMut:!0,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!0},{name:"recipientTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"tokenManager",type:{kind:"struct",fields:[{name:"version",type:"u8"},{name:"bump",type:"u8"},{name:"count",type:"u64"},{name:"numInvalidators",type:"u8"},{name:"issuer",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"amount",type:"u64"},{name:"kind",type:"u8"},{name:"state",type:"u8"},{name:"stateChangedAt",type:"i64"},{name:"invalidationType",type:"u8"},{name:"recipientTokenAccount",type:"publicKey"},{name:"receiptMint",type:{option:"publicKey"}},{name:"claimApprover",type:{option:"publicKey"}},{name:"transferAuthority",type:{option:"publicKey"}},{name:"invalidators",type:{vec:"publicKey"}}]}},{name:"mintManager",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"initializer",type:"publicKey"},{name:"tokenManagers",type:"u64"}]}},{name:"mintCounter",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"mint",type:"publicKey"},{name:"count",type:"u64"}]}},{name:"claimReceipt",type:{kind:"struct",fields:[{name:"mintCount",type:"u64"},{name:"tokenManager",type:"publicKey"},{name:"target",type:"publicKey"}]}},{name:"transferReceipt",type:{kind:"struct",fields:[{name:"mintCount",type:"u64"},{name:"tokenManager",type:"publicKey"},{name:"target",type:"publicKey"}]}},{name:"receiptMintManager",type:{kind:"struct",fields:[{name:"bump",type:"u8"}]}}],types:[{name:"InitIx",type:{kind:"struct",fields:[{name:"amount",type:"u64"},{name:"kind",type:"u8"},{name:"invalidationType",type:"u8"},{name:"numInvalidators",type:"u8"}]}},{name:"TokenManagerState",type:{kind:"enum",variants:[{name:"Initialized"},{name:"Issued"},{name:"Claimed"},{name:"Invalidated"}]}},{name:"TokenManagerKind",type:{kind:"enum",variants:[{name:"Managed"},{name:"Unmanaged"},{name:"Edition"},{name:"Permissioned"}]}},{name:"InvalidationType",type:{kind:"enum",variants:[{name:"Return"},{name:"Invalidate"},{name:"Release"},{name:"Reissue"},{name:"Vest"}]}}],errors:[{code:6e3,name:"Uninitialized",msg:"Account not initialized"},{code:6001,name:"TooManyInvalidators",msg:"Too many invalidators have already been added"},{code:6002,name:"InvalidNumInvalidators",msg:"Number of invalidators cannot be overwritten"},{code:6003,name:"InvalidTokenManagerTokenAccount",msg:"Token account not owned by token manager"},{code:6004,name:"InvalidIssuerTokenAccount",msg:"Token account not owned by issuer"},{code:6005,name:"MaximumInvalidatorsReached",msg:"Max invalidators reached"},{code:6006,name:"InvalidRecipientTokenAccount",msg:"Token account not owned by recipient"},{code:6007,name:"InvalidInvalidatorTokenAccount",msg:"Token account not owned by invalidator"},{code:6008,name:"InvalidTokenManagerKind",msg:"Token manager kind is not valid"},{code:6009,name:"InvalidInvalidationType",msg:"Invalid invalidation type"},{code:6010,name:"InvalidClaimAuthority",msg:"Invalid claim authority"},{code:6011,name:"InvalidTransferAuthority",msg:"Invalid transfer authority"},{code:6012,name:"InvalidIssuer",msg:"Invalid issuer"},{code:6013,name:"InvalidInvalidator",msg:"Invalid invalidator"},{code:6014,name:"InvalidMint",msg:"Invalid mint"},{code:6015,name:"InvalidTokenManagerState",msg:"Invalid token manager state"},{code:6016,name:"OutstandingTokens",msg:"Outstanding tokens exist"},{code:6017,name:"InvalidFreezeAuthority",msg:"User must be freeze authority to create mint manager"},{code:6018,name:"InvalidInitializer",msg:"User must be initializer to close mint manager"},{code:6019,name:"InvalidClaimReceipt",msg:"Invalid claim receipt"},{code:6020,name:"InvalidTransferReceipt",msg:"Invalid transfer receipt"},{code:6021,name:"PublicKeyMismatch",msg:"Public key mismatch"},{code:6022,name:"InvalidMetadataProgramId",msg:"Invalid metadata program id"},{code:6023,name:"InvalidReceiptMintAccount",msg:"Invalid receipt mint account"},{code:6024,name:"InvalidReceiptMintOwner",msg:"Invalid receipt mint owner"},{code:6025,name:"InvalidReceiptMint",msg:"Invalid receipt mint"},{code:6026,name:"InvalidCurrentTokenAccount",msg:"Invalid current holder token account"},{code:6027,name:"InvalidMintSupply",msg:"Invalid mint supply"},{code:6028,name:"AccountDiscriminatorMismatch",msg:"Invalid account discriminator"},{code:6029,name:"InvalidationTypeUpdateDisallowed",msg:"Invalidation type update only allowed between return and reissue"},{code:6030,name:"ClaimApproverMustBeSet",msg:"Claim approver must be set to use vesting invalidation type"},{code:6031,name:"InvalidTargetTokenAccount",msg:"Target token account is incorrect"},{code:6032,name:"InstructionsDisallowed",msg:"Transaction included disallowed"},{code:6033,name:"InvalidInvalidationTypeKindMatch",msg:"Invalidation type is not allowed with this token manager kind"},{code:6034,name:"InvalidMintAuthority",msg:"Invalid Mint Authority"},{code:6035,name:"InvalidPermissionedRewardAddress",msg:"Invalid Permissioned Reward Address"},{code:6036,name:"NoCPIAllowed",msg:"No CPI allowed for the instruction"}]};var b,A,S,I,k,v;(v=b||(b={}))[v.Managed=1]="Managed",v[v.Unmanaged=2]="Unmanaged",v[v.Edition=3]="Edition",v[v.Permissioned=4]="Permissioned",(k=A||(A={}))[k.Return=1]="Return",k[k.Invalidate=2]="Invalidate",k[k.Release=3]="Release",k[k.Reissue=4]="Reissue",k[k.Vest=5]="Vest",(I=S||(S={}))[I.Initialized=0]="Initialized",I[I.Issued=1]="Issued",I[I.Claimed=2]="Claimed",I[I.Invalidated=3]="Invalidated";const E=new l.PublicKey("crkdpVWjHWdggGgBuSyAqSmZUmAjYLzD435tcLDRLXr");var M=n(348834).Buffer;const T=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(w,d,n);return{parsed:await r.account.tokenManager.fetch(t),pubkey:t}},P=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(w,d,n);let i=[];try{i=await r.account.tokenManager.fetchMultiple(t)}catch(e){console.log(e)}return i.map(((e,n)=>({parsed:e,pubkey:t[n]})))},B=async(e,t)=>{const n=await e.getProgramAccounts(d,{filters:[{memcmp:{offset:0,bytes:p.utils.bytes.bs58.encode(p.BorshAccountsCoder.accountDiscriminator("tokenManager"))}},...t?[{memcmp:{offset:92,bytes:p.utils.bytes.bs58.encode(new p.BN(t).toArrayLike(M,"le",1))}}]:[]]}),r=[],i=new p.BorshAccountsCoder(w);return n.forEach((e=>{try{const t=i.decode("tokenManager",e.account.data);t&&r.push({...e,parsed:t})}catch(e){console.log("Failed to decode token manager data")}})),r.sort(((e,t)=>e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())))},R=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(w,d,n);return{parsed:await r.account.mintManager.fetch(t),pubkey:t}},K=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(w,d,n);return{parsed:await r.account.mintCounter.fetch(t),pubkey:t}},x=async(e,t)=>{const n=await e.getProgramAccounts(d,{filters:[{memcmp:{offset:0,bytes:p.utils.bytes.bs58.encode(p.BorshAccountsCoder.accountDiscriminator("tokenManager"))}},{memcmp:{offset:19,bytes:t.toBase58()}}]}),r=[],i=new p.BorshAccountsCoder(w);return n.forEach((e=>{try{const t=i.decode("tokenManager",e.account.data);t&&r.push({...e,parsed:t})}catch(e){console.log("Failed to decode token manager data")}})),r.sort(((e,t)=>e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())))},_=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(w,d,n);return{parsed:await r.account.transferReceipt.fetch(t),pubkey:t}};var O=n(106567),C=n(221268);const U=async(e,t)=>{try{return await L(e,t)}catch(e){return null}},L=async(e,t)=>{const[n]=await N(t);return n},N=async e=>await l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode("token-manager"),e.toBuffer()],d),W=async(e,t)=>l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode("claim-receipt"),e.toBuffer(),t.toBuffer()],d),D=async e=>l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode(g),e.toBuffer()],d),F=async e=>l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode(h),e.toBuffer()],d),z=async e=>l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode(y),e.toBuffer()],d),j=async()=>l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode(m)],d),G=async(e,t)=>{if(t===b.Managed||t===b.Permissioned){const[t]=await F(e);return[{pubkey:t,isSigner:!1,isWritable:!0}]}return t===b.Edition?[{pubkey:await O.Edition.getPDA(e),isSigner:!1,isWritable:!1},{pubkey:O.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1}]:[]},$=async(e,t,n)=>{const r=new p.AnchorProvider(e,t,{}),i=new p.Program(w,d,r),[o,a]=await z(n);return i.instruction.initMintCounter(n,{accounts:{mintCounter:o,payer:t.publicKey,systemProgram:l.SystemProgram.programId}})},V=async(e,t,n,r,i,o,a,s=1,c)=>{const u=new p.AnchorProvider(e,t,{}),f=new p.Program(w,d,u),[[y],[h]]=await Promise.all([N(n),z(n)]);return[f.instruction.init({numInvalidators:s,amount:i,kind:o,invalidationType:a},{accounts:{tokenManager:y,mintCounter:h,mint:n,issuer:t.publicKey,payer:c||t.publicKey,issuerTokenAccount:r,systemProgram:l.SystemProgram.programId}}),y]},Y=(e,t,n,r)=>{const i=new p.AnchorProvider(e,t,{});return new p.Program(w,d,i).instruction.setClaimApprover(r,{accounts:{tokenManager:n,issuer:t.publicKey}})},q=(e,t,n,r)=>{const i=new p.AnchorProvider(e,t,{});return new p.Program(w,d,i).instruction.setTransferAuthority(r,{accounts:{tokenManager:n,issuer:t.publicKey}})},Z=(e,t,n,r,i,o,a,s)=>{const c=new p.AnchorProvider(e,t,{});return new p.Program(w,d,c).instruction.transfer({accounts:{tokenManager:n,mint:r,currentHolderTokenAccount:i,recipient:o,recipientTokenAccount:a,tokenProgram:C.TOKEN_PROGRAM_ID},remainingAccounts:s||[]})},H=(e,t,n,r)=>{const i=new p.AnchorProvider(e,t,{});return new p.Program(w,d,i).instruction.addInvalidator(r,{accounts:{tokenManager:n,issuer:t.publicKey}})},J=(e,t,n,r,i,o=t.publicKey,a)=>{const s=new p.AnchorProvider(e,t,{});return new p.Program(w,d,s).instruction.issue({accounts:{tokenManager:n,tokenManagerTokenAccount:r,issuer:t.publicKey,issuerTokenAccount:i,payer:o,tokenProgram:C.TOKEN_PROGRAM_ID,systemProgram:l.SystemProgram.programId},remainingAccounts:null!=a?a:[]})},X=(e,t,n,r,i)=>{const o=new p.AnchorProvider(e,t,{});return new p.Program(w,d,o).instruction.unissue({accounts:{tokenManager:n,tokenManagerTokenAccount:r,issuer:t.publicKey,issuerTokenAccount:i,tokenProgram:C.TOKEN_PROGRAM_ID}})},Q=(e,t,n,r)=>{const i=new p.AnchorProvider(e,t,{});return new p.Program(w,d,i).instruction.updateInvalidationType(r,{accounts:{tokenManager:n,issuer:t.publicKey}})},ee=async(e,t,n,r,i,o,a,s)=>{const c=new p.AnchorProvider(e,t,{}),u=new p.Program(w,d,c),f=await G(i,r);return u.instruction.claim({accounts:{tokenManager:n,tokenManagerTokenAccount:o,mint:i,recipient:t.publicKey,recipientTokenAccount:a,tokenProgram:C.TOKEN_PROGRAM_ID,systemProgram:l.SystemProgram.programId},remainingAccounts:s?[...f,{pubkey:s,isSigner:!1,isWritable:!0}]:f})},te=async(e,t,n,r,i=t.publicKey,o=t.publicKey)=>{const a=new p.AnchorProvider(e,t,{}),s=new p.Program(w,d,a),[c]=await W(n,o);return[s.instruction.createClaimReceipt(o,{accounts:{tokenManager:n,claimApprover:r,claimReceipt:c,payer:i,systemProgram:l.SystemProgram.programId}}),c]},ne=async(e,t,n,r=t.publicKey)=>{const i=new p.AnchorProvider(e,t,{}),o=new p.Program(w,d,i),[a,s]=await F(n);return[o.instruction.createMintManager({accounts:{mintManager:a,mint:n,freezeAuthority:t.publicKey,payer:r,tokenProgram:C.TOKEN_PROGRAM_ID,systemProgram:l.SystemProgram.programId}}),a]},re=async(e,t,n)=>{const r=new p.AnchorProvider(e,t,{}),i=new p.Program(w,d,r),[o]=await F(n);return[i.instruction.closeMintManager({accounts:{mintManager:o,mint:n,freezeAuthority:t.publicKey,payer:t.publicKey,tokenProgram:C.TOKEN_PROGRAM_ID}}),o]},ie=async(e,t,n,r,i,o=t.publicKey)=>{const a=new p.AnchorProvider(e,t,{}),s=new p.Program(w,d,a),[c,u,[f]]=await Promise.all([O.Metadata.getPDA(i),Ke(i,t.publicKey),j()]);return s.instruction.claimReceiptMint(n,{accounts:{tokenManager:r,receiptMint:i,receiptMintMetadata:c,recipientTokenAccount:u,issuer:t.publicKey,payer:o,receiptMintManager:f,tokenProgram:C.TOKEN_PROGRAM_ID,associatedToken:C.ASSOCIATED_TOKEN_PROGRAM_ID,systemProgram:l.SystemProgram.programId,tokenMetadataProgram:O.MetadataProgram.PUBKEY,rent:l.SYSVAR_RENT_PUBKEY}})},oe=async(e,t,n,r,i,o,a,s,c)=>{const u=new p.AnchorProvider(e,t,{}),f=new p.Program(w,d,u),y=await G(n,i);return f.instruction.invalidate({accounts:{tokenManager:r,tokenManagerTokenAccount:a,mint:n,recipientTokenAccount:s,invalidator:t.publicKey,collector:E,tokenProgram:C.TOKEN_PROGRAM_ID,rent:l.SYSVAR_RENT_PUBKEY},remainingAccounts:[...o===S.Claimed?y:[],...c]})},ae=async(e,t,n,r,i)=>{const o=new p.AnchorProvider(e,t,{}),a=new p.Program(w,d,o),[s]=await D(n);return[a.instruction.createTransferReceipt(r,{accounts:{tokenManager:n,transferAuthority:t.publicKey,transferReceipt:s,payer:null!=i?i:t.publicKey,systemProgram:l.SystemProgram.programId}}),s]},se=async(e,t,n,r)=>{const i=new p.AnchorProvider(e,t,{}),o=new p.Program(w,d,i),[a]=await D(n);return[o.instruction.updateTransferReceipt(r,{accounts:{tokenManager:n,transferAuthority:t.publicKey,transferReceipt:a}}),a]},ce=async(e,t,n,r)=>{const i=new p.AnchorProvider(e,t,{}),o=new p.Program(w,d,i),[a]=await D(n);return[o.instruction.closeTransferReceipt({accounts:{tokenManager:n,transferAuthority:t.publicKey,transferReceipt:a,recipient:null!=r?r:t.publicKey}}),a]},ue=(e,t,n,r,i,o,a)=>{const s=new p.AnchorProvider(e,t,{});return new p.Program(w,d,s).instruction.delegate({accounts:{tokenManager:r,mint:n,mintManager:i,recipient:o,recipientTokenAccount:a,tokenProgram:C.TOKEN_PROGRAM_ID}})},le=(e,t,n,r,i,o,a)=>{const s=new p.AnchorProvider(e,t,{});return new p.Program(w,d,s).instruction.undelegate({accounts:{tokenManager:r,mint:n,mintManager:i,recipient:o,recipientTokenAccount:a,tokenProgram:C.TOKEN_PROGRAM_ID}})},pe=(e,t,n,r,i,o,a,s,c)=>{const u=new p.AnchorProvider(e,t,{});return new p.Program(w,d,u).instruction.send({accounts:{tokenManager:r,mint:n,mintManager:i,recipient:o,recipientTokenAccount:a,target:s,targetTokenAccount:c,payer:t.publicKey,associatedTokenProgram:C.ASSOCIATED_TOKEN_PROGRAM_ID,tokenProgram:C.TOKEN_PROGRAM_ID,systemProgram:l.SystemProgram.programId,rent:l.SYSVAR_RENT_PUBKEY,instructions:l.SYSVAR_INSTRUCTIONS_PUBKEY}})};n(823528),n(722053),n(714615);const fe=new l.PublicKey("trsMRg3GzFSNgC3tdhbuKUES8YvGtUBbzp5fjxLtVQW"),de={version:"1.7.11",name:"cardinal_transfer_authority",instructions:[{name:"initTransferAuthority",accounts:[{name:"transferAuthority",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"ix",type:{defined:"InitTransferAuthorityIx"}}]},{name:"updateTransferAuthority",accounts:[{name:"transferAuthority",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!0}],args:[{name:"ix",type:{defined:"UpdateTransferAuthorityIx"}}]},{name:"whitelistMarketplaces",accounts:[{name:"transferAuthority",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!0}],args:[{name:"ix",type:{defined:"WhitelistMarketplacesIx"}}]},{name:"release",accounts:[{name:"transferAuthority",isMut:!1,isSigner:!1},{name:"tokenManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"tokenManagerTokenAccount",isMut:!0,isSigner:!1},{name:"holderTokenAccount",isMut:!0,isSigner:!1},{name:"holder",isMut:!0,isSigner:!0},{name:"collector",isMut:!0,isSigner:!1},{name:"cardinalTokenManager",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"createListing",accounts:[{name:"listing",isMut:!0,isSigner:!1},{name:"transferAuthority",isMut:!1,isSigner:!1},{name:"marketplace",isMut:!1,isSigner:!1},{name:"tokenManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"mintManager",isMut:!0,isSigner:!1},{name:"listerTokenAccount",isMut:!0,isSigner:!1},{name:"lister",isMut:!0,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"cardinalTokenManager",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"instructions",isMut:!1,isSigner:!1}],args:[{name:"ix",type:{defined:"CreateListingIx"}}]},{name:"updateListing",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"listing",isMut:!0,isSigner:!1},{name:"listerMintTokenAccount",isMut:!0,isSigner:!1},{name:"lister",isMut:!0,isSigner:!0}],args:[{name:"ix",type:{defined:"UpdateListingIx"}}]},{name:"acceptListing",accounts:[{name:"transferAuthority",isMut:!0,isSigner:!1},{name:"transferReceipt",isMut:!0,isSigner:!1},{name:"listing",isMut:!0,isSigner:!1},{name:"listerPaymentTokenAccount",isMut:!0,isSigner:!1},{name:"listerMintTokenAccount",isMut:!0,isSigner:!1},{name:"lister",isMut:!0,isSigner:!1},{name:"buyerMintTokenAccount",isMut:!0,isSigner:!1},{name:"buyer",isMut:!0,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"payerPaymentTokenAccount",isMut:!0,isSigner:!1},{name:"marketplace",isMut:!0,isSigner:!1},{name:"tokenManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"mintMetadataInfo",isMut:!1,isSigner:!1},{name:"paymentManager",isMut:!0,isSigner:!1},{name:"paymentMint",isMut:!1,isSigner:!1},{name:"feeCollectorTokenAccount",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"cardinalPaymentManager",isMut:!1,isSigner:!1},{name:"cardinalTokenManager",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"instructions",isMut:!1,isSigner:!1}],args:[{name:"ix",type:{defined:"AcceptListingIx"}}]},{name:"removeListing",accounts:[{name:"tokenManager",isMut:!0,isSigner:!1},{name:"listing",isMut:!0,isSigner:!1},{name:"listerMintTokenAccount",isMut:!0,isSigner:!1},{name:"lister",isMut:!0,isSigner:!0},{name:"mint",isMut:!1,isSigner:!1},{name:"mintManager",isMut:!0,isSigner:!1},{name:"cardinalTokenManager",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initMarketplace",accounts:[{name:"marketplace",isMut:!0,isSigner:!1},{name:"paymentManager",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"ix",type:{defined:"InitMarketplaceIx"}}]},{name:"updateMarketplace",accounts:[{name:"marketplace",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!0}],args:[{name:"ix",type:{defined:"UpdateMarketplaceIx"}}]},{name:"initTransfer",accounts:[{name:"transfer",isMut:!0,isSigner:!1},{name:"tokenManager",isMut:!1,isSigner:!1},{name:"holderTokenAccount",isMut:!0,isSigner:!1},{name:"holder",isMut:!0,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"ix",type:{defined:"InitTransferIx"}}]},{name:"cancelTransfer",accounts:[{name:"transfer",isMut:!0,isSigner:!1},{name:"tokenManager",isMut:!1,isSigner:!1},{name:"holderTokenAccount",isMut:!1,isSigner:!1},{name:"holder",isMut:!0,isSigner:!0}],args:[]},{name:"acceptTransfer",accounts:[{name:"transfer",isMut:!0,isSigner:!1},{name:"transferAuthority",isMut:!1,isSigner:!1},{name:"transferReceipt",isMut:!0,isSigner:!1},{name:"listing",isMut:!0,isSigner:!1},{name:"tokenManager",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"recipientTokenAccount",isMut:!0,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"holderTokenAccount",isMut:!0,isSigner:!1},{name:"holder",isMut:!0,isSigner:!1},{name:"cardinalTokenManager",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"instructions",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"transferAuthority",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"name",type:"string"},{name:"authority",type:"publicKey"},{name:"allowedMarketplaces",type:{option:{vec:"publicKey"}}}]}},{name:"marketplace",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"name",type:"string"},{name:"paymentManager",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"paymentMints",type:{option:{vec:"publicKey"}}}]}},{name:"listing",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"lister",type:"publicKey"},{name:"tokenManager",type:"publicKey"},{name:"marketplace",type:"publicKey"},{name:"paymentAmount",type:"u64"},{name:"paymentMint",type:"publicKey"}]}},{name:"transfer",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"tokenManager",type:"publicKey"},{name:"from",type:"publicKey"},{name:"to",type:"publicKey"}]}}],types:[{name:"AcceptListingIx",type:{kind:"struct",fields:[{name:"paymentAmount",type:"u64"}]}},{name:"AcceptListingCtx",type:{kind:"struct",fields:[{name:"transferAuthority",type:{defined:"Account<'info,TransferAuthority>"}},{name:"transferReceipt",type:{defined:"UncheckedAccount<'info>"}},{name:"listing",type:{defined:"Account<'info,Listing>"}},{name:"listerPaymentTokenAccount",type:{defined:"UncheckedAccount<'info>"}},{name:"listerMintTokenAccount",type:{defined:"Account<'info,TokenAccount>"}},{name:"lister",type:{defined:"UncheckedAccount<'info>"}},{name:"buyerMintTokenAccount",type:{defined:"Account<'info,TokenAccount>"}},{name:"buyer",type:{defined:"Signer<'info>"}},{name:"payer",type:{defined:"Signer<'info>"}},{name:"payerPaymentTokenAccount",type:{defined:"UncheckedAccount<'info>"}},{name:"marketplace",type:{defined:"Account<'info,Marketplace>"}},{name:"tokenManager",type:{defined:"Account<'info,TokenManager>"}},{name:"mint",type:{defined:"UncheckedAccount<'info>"}},{name:"mintMetadataInfo",type:{defined:"UncheckedAccount<'info>"}},{name:"paymentManager",type:{defined:"UncheckedAccount<'info>"}},{name:"paymentMint",type:{defined:"UncheckedAccount<'info>"}},{name:"feeCollectorTokenAccount",type:{defined:"UncheckedAccount<'info>"}},{name:"feeCollector",type:{defined:"UncheckedAccount<'info>"}},{name:"cardinalPaymentManager",type:{defined:"Program<'info,CardinalPaymentManager>"}},{name:"cardinalTokenManager",type:{defined:"Program<'info,CardinalTokenManager>"}},{name:"associatedTokenProgram",type:{defined:"Program<'info,AssociatedToken>"}},{name:"tokenProgram",type:{defined:"Program<'info,Token>"}},{name:"systemProgram",type:{defined:"Program<'info,System>"}},{name:"instructions",type:{defined:"UncheckedAccount<'info>"}}]}},{name:"CreateListingIx",type:{kind:"struct",fields:[{name:"paymentAmount",type:"u64"},{name:"paymentMint",type:"publicKey"}]}},{name:"UpdateListingIx",type:{kind:"struct",fields:[{name:"marketplace",type:"publicKey"},{name:"paymentAmount",type:"u64"},{name:"paymentMint",type:"publicKey"}]}},{name:"InitMarketplaceIx",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"authority",type:"publicKey"},{name:"paymentMints",type:{option:{vec:"publicKey"}}}]}},{name:"UpdateMarketplaceIx",type:{kind:"struct",fields:[{name:"paymentManager",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"paymentMints",type:{option:{vec:"publicKey"}}}]}},{name:"InitTransferIx",type:{kind:"struct",fields:[{name:"to",type:"publicKey"}]}},{name:"InitTransferAuthorityIx",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"authority",type:"publicKey"},{name:"allowedMarketplaces",type:{option:{vec:"publicKey"}}}]}},{name:"UpdateTransferAuthorityIx",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"allowedMarketplaces",type:{option:{vec:"publicKey"}}}]}},{name:"WhitelistMarketplacesIx",type:{kind:"struct",fields:[{name:"allowedMarketplaces",type:{vec:"publicKey"}}]}}],errors:[{code:6e3,name:"InvalidTokenManager",msg:"Invalid token manager for this transfer authority"},{code:6001,name:"InvalidLister",msg:"Invalid lister"},{code:6002,name:"InvalidPaymentMint",msg:"Invalid payment mint"},{code:6003,name:"InvalidMarketplace",msg:"Invalid marketplace"},{code:6004,name:"InvalidBuyerPaymentTokenAccount",msg:"Invalid buyer payment token account"},{code:6005,name:"InvalidBuyerMintTokenAccount",msg:"Invalid buyer mint token account"},{code:6006,name:"InvalidOfferTokenAccount",msg:"Invalid offer token account"},{code:6007,name:"InvalidPaymentManager",msg:"Invalid payment manager"},{code:6008,name:"InvalidMint",msg:"Invalid mint"},{code:6009,name:"InvalidFeeCollector",msg:"Invalid fee collector"},{code:6010,name:"InvalidListerPaymentTokenAccount",msg:"Invalid lister payment token account"},{code:6011,name:"InvalidListerMintTokenAccount",msg:"Invalid lister mint token account"},{code:6012,name:"InvalidMarketplaceAuthority",msg:"Invalid marketplace authority"},{code:6013,name:"InvalidTransferAuthorityAuthority",msg:"Invalid transfer authority authority"},{code:6014,name:"InvalidTransferAuthority",msg:"Invalid transfer authority"},{code:6015,name:"MarketplaceNotAllowed",msg:"Marketplace place not allowed by transfer authority"},{code:6016,name:"InvalidHolder",msg:"Invalid token holder"},{code:6017,name:"InvalidHolderMintTokenAccount",msg:"Invalid holder token account"},{code:6018,name:"InvalidTransfer",msg:"Invalid transfer account"},{code:6019,name:"InvalidRecipient",msg:"Invalid recipient"},{code:6020,name:"InvalidRecipientMintTokenAccount",msg:"Invalid recipient mint token account"},{code:6021,name:"InvalidDerivation",msg:"Invalid derivation"},{code:6022,name:"InstructionsDisallowed",msg:"Transaction included disallowed"},{code:6023,name:"TokenNotDelegated",msg:"Token must be delegated"},{code:6024,name:"ListingChanged",msg:"Listing payment amount or mint has changed"},{code:6025,name:"InvalidRemainingAccountsSize",msg:"Invalid remaining accounts size"},{code:6026,name:"InvalidPayerPaymentTokenAccount",msg:"Invalid payer payment token account"}]},ye=(new l.PublicKey("So11111111111111111111111111111111111111112"),async e=>{const[t]=await N(e);return await l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode("listing"),t.toBytes()],fe)}),he=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(de,fe,n);return{parsed:await r.account.transferAuthority.fetch(t),pubkey:t}},ge=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(de,fe,n),[i]=await(async e=>await l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode("transfer-authority"),p.utils.bytes.utf8.encode(e)],fe))(t);return{parsed:await r.account.transferAuthority.fetch(i),pubkey:i}},me=async e=>Pe(e,"transferAuthority"),we=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(de,fe,n);return{parsed:await r.account.marketplace.fetch(t),pubkey:t}},be=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(de,fe,n),[i]=await(async e=>await l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode("marketplace"),p.utils.bytes.utf8.encode(e)],fe))(t);return{parsed:await r.account.marketplace.fetch(i),pubkey:i}},Ae=async e=>Pe(e,"marketplace"),Se=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(de,fe,n),[i]=await ye(t);return{parsed:await r.account.listing.fetch(i),pubkey:i}},Ie=async(e,t)=>{const n=await e.getProgramAccounts(fe,{filters:[{memcmp:{offset:0,bytes:p.utils.bytes.bs58.encode(p.BorshAccountsCoder.accountDiscriminator("listing"))}},{memcmp:{offset:73,bytes:t.toBase58()}}]}),r=[],i=new p.BorshAccountsCoder(de);return n.forEach((e=>{try{const t=i.decode("listing",e.account.data);t&&r.push({...e,parsed:t})}catch(e){}})),r.sort(((e,t)=>e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())))},ke=async(e,t)=>{const n=await e.getProgramAccounts(fe,{filters:[{memcmp:{offset:0,bytes:p.utils.bytes.bs58.encode(p.BorshAccountsCoder.accountDiscriminator("listing"))}},{memcmp:{offset:9,bytes:t.toBase58()}}]}),r=[],i=new p.BorshAccountsCoder(de);return n.forEach((e=>{try{const t=i.decode("listing",e.account.data);t&&r.push({...e,parsed:t})}catch(e){}})),r.sort(((e,t)=>e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())))},ve=async e=>Pe(e,"listing"),Ee=async(e,t)=>{const n=new p.AnchorProvider(e,new f.SignerWallet(l.Keypair.generate()),{}),r=new p.Program(de,fe,n),[i]=await(async e=>{const[t]=await N(e);return await l.PublicKey.findProgramAddress([p.utils.bytes.utf8.encode("transfer"),t.toBytes()],fe)})(t);return{parsed:await r.account.transfer.fetch(i),pubkey:i}},Me=async(e,t)=>{const n=await e.getProgramAccounts(fe,{filters:[{memcmp:{offset:0,bytes:p.utils.bytes.bs58.encode(p.BorshAccountsCoder.accountDiscriminator("transfer"))}},{memcmp:{offset:41,bytes:t.toBase58()}}]}),r=[],i=new p.BorshAccountsCoder(de);return n.forEach((e=>{try{const t=i.decode("transfer",e.account.data);t&&r.push({...e,parsed:t})}catch(e){}})),r.sort(((e,t)=>e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())))},Te=async(e,t)=>{const n=await e.getProgramAccounts(fe,{filters:[{memcmp:{offset:0,bytes:p.utils.bytes.bs58.encode(p.BorshAccountsCoder.accountDiscriminator("transfer"))}},{memcmp:{offset:73,bytes:t.toBase58()}}]}),r=[],i=new p.BorshAccountsCoder(de);return n.forEach((e=>{try{const t=i.decode("transfer",e.account.data);t&&r.push({...e,parsed:t})}catch(e){}})),r.sort(((e,t)=>e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())))},Pe=async(e,t)=>{const n=await e.getProgramAccounts(fe,{filters:[{memcmp:{offset:0,bytes:p.utils.bytes.bs58.encode(p.BorshAccountsCoder.accountDiscriminator(t))}}]}),r=[],i=new p.BorshAccountsCoder(de);return n.forEach((e=>{try{const n=i.decode(t,e.account.data);n&&r.push({...e,parsed:n})}catch(e){}})),r.sort(((e,t)=>e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())))};async function Be(e){try{return await e()}catch{return null}}new l.PublicKey("pmvYY6Wgvpe3DEj3UX1FcRpMx43sMLYLJrFTVGcqpdn"),new l.PublicKey("crkdpVWjHWdggGgBuSyAqSmZUmAjYLzD435tcLDRLXr"),n(990923),n(813965),n(757384),new l.PublicKey("pcaBwhJ1YHp7UDA7HASpQsRUmUNwzgYaLQto2kSj1fR"),new l.PublicKey("tmeEDp1RgoDtZFtx6qod3HkbQmv9LMe36uqKVvsLTDE"),new l.PublicKey("useZ65tbyvWpdYCLDJaegGK34Lnsi8S3jZdwx8122qp");const Re=e=>({signTransaction:async e=>new Promise((()=>e)),signAllTransactions:async e=>new Promise((()=>e)),publicKey:e});async function Ke(e,t,n){return C.Token.getAssociatedTokenAddress(C.ASSOCIATED_TOKEN_PROGRAM_ID,C.TOKEN_PROGRAM_ID,e,t,n)}const xe=async(e,t,n,r,i,o)=>{const[a]=await N(r),s=await Be((()=>T(t,a)));if(!(null==s?void 0:s.parsed))throw"No token manager found";const[c]=await F(r),[u]=await ye(r);if(await Be((()=>Se(t,u))))throw"Token is already listed. You need to delist the token first before sending it.";const l=await Ke(r,o,!0);return e.add(pe(t,n,r,a,c,n.publicKey,i,o,l)),e};n(996346),n(348834).Buffer},221268:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ASSOCIATED_TOKEN_PROGRAM_ID:()=>Ve,AccountLayout:()=>tt,MintLayout:()=>et,NATIVE_MINT:()=>Qe,TOKEN_PROGRAM_ID:()=>$e,Token:()=>rt,u64:()=>He});for(var r=n(682601),i=n(162197),o=n.n(i),a=n(627158),s={},c={byteLength:function(e){var t=y(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){var t,n,r=y(e),i=r[0],o=r[1],a=new p(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),s=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)t=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===o&&(t=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,a[s++]=255&t),1===o&&(t=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},fromByteArray:function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(h(e,a,a+o>s?s:a+o));return 1===r?(t=e[n-1],i.push(u[t>>2]+u[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(u[t>>10]+u[t>>4&63]+u[t<<2&63]+"=")),i.join("")}},u=[],l=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0;d<64;++d)u[d]=f[d],l[f.charCodeAt(d)]=d;function y(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(u[(i=r)>>18&63]+u[i>>12&63]+u[i>>6&63]+u[63&i]);return o.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63;var g={read:function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,p=n?i-1:0,f=n?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+p],p+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+p],p+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,p=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,y=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+p>=1?f/c:f*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*c-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=y,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=y,a/=256,u-=8);e[n+d-y]|=128*h}};!function(e){const t=c,n=g,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|y(e,t);let r=o(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);const i=function(e){if(a.isBuffer(e)){const t=0|d(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||H(e.length)?o(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),o(e<0?0:0|d(e))}function p(e){const t=e.length<0?0:0|d(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,a.prototype),r}function d(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function y(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),H(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return-1}function A(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(H(r))return a;e[n+a]=r}return a}function S(e,t,n,r){return q(V(t,e.length-n),e,n,r)}function I(e,t,n,r){return q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return q(Y(t),e,n,r)}function v(e,t,n,r){return q(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function M(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(o=c));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(Z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=a.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Z(t,Uint8Array))i+t.length>r.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!a.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?M(this,0,e):h.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const c=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<c;++e)if(u[e]!==l[e]){o=u[e],s=l[e];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return I(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function B(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function K(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function C(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,r,i,o){return t=+t,r>>>=0,o||U(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function N(e,t,r,i,o){return t=+t,r>>>=0,o||U(e,0,r,8),n.write(e,t,r,i,52,8),r+8}a.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=X((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=X((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=X((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),a.prototype.readBigInt64BE=X((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||_(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||_(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=X((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=X((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=X((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=X((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=a.isBuffer(e)?e:a.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const W={};function D(e,t,n){W[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||G(t,e.length-(n+1))}(r,i,o)}function j(e,t){if("number"!=typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,n){if(Math.floor(e)!==e)throw j(e,n),new W.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}}(s);var m=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},w="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};function b(e,t){var n={seen:[],stylize:S};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),E(t)?n.showHidden=t:t&&function(e,t){if(!t||!R(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]]}(n,t),P(n.showHidden)&&(n.showHidden=!1),P(n.depth)&&(n.depth=2),P(n.colors)&&(n.colors=!1),P(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=A),I(n,e,n.depth)}function A(e,t){var n=b.styles[t];return n?"["+b.colors[n][0]+"m"+e+"["+b.colors[n][1]+"m":e}function S(e,t){return e}function I(e,t,n){if(e.customInspect&&t&&_(t.inspect)&&t.inspect!==b&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return T(r)||(r=I(e,r,n)),r}var i=function(e,t){if(P(t))return e.stylize("undefined","undefined");if(T(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return"number"==typeof t?e.stylize(""+t,"number"):E(t)?e.stylize(""+t,"boolean"):M(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var o=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),x(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return k(t);if(0===o.length){if(_(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(B(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(K(t))return e.stylize(Date.prototype.toString.call(t),"date");if(x(t))return k(t)}var c,u,l="",p=!1,f=["{","}"];return c=t,Array.isArray(c)&&(p=!0,f=["[","]"]),_(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),B(t)&&(l=" "+RegExp.prototype.toString.call(t)),K(t)&&(l=" "+Date.prototype.toUTCString.call(t)),x(t)&&(l=" "+k(t)),0!==o.length||p&&0!=t.length?n<0?B(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=p?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)U(t,String(a))?o.push(v(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(v(e,t,n,r,i,!0))})),o}(e,t,n,a,o):o.map((function(r){return v(e,t,n,a,r,p)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,l,f)):f[0]+l+f[1]}function k(e){return"["+Error.prototype.toString.call(e)+"]"}function v(e,t,n,r,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),U(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=M(n)?I(e,c.value,null):I(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),P(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function E(e){return"boolean"==typeof e}function M(e){return null===e}function T(e){return"string"==typeof e}function P(e){return void 0===e}function B(e){return R(e)&&"[object RegExp]"===C(e)}function R(e){return"object"==typeof e&&null!==e}function K(e){return R(e)&&"[object Date]"===C(e)}function x(e){return R(e)&&("[object Error]"===C(e)||e instanceof Error)}function _(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function C(e){return Object.prototype.toString.call(e)}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},b.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var N,W=Object.prototype.hasOwnProperty,D=Object.keys||function(e){var t=[];for(var n in e)W.call(e,n)&&t.push(n);return t},F=Array.prototype.slice;function z(){return void 0!==N?N:N="foo"===function(){}.name}function j(e){return Object.prototype.toString.call(e)}function G(e){return!s.isBuffer(e)&&"function"==typeof m.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function $(e,t){e||J(e,!0,t,"==",X)}var V=/\s*function\s+([^\(\s]*)\s*/;function Y(e){if(_(e)){if(z())return e.name;var t=e.toString().match(V);return t&&t[1]}}function q(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return Z(H(e.actual),128)+" "+e.operator+" "+Z(H(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||J;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=Y(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}}function Z(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function H(e){if(z()||!_(e))return b(e);var t=Y(e);return"[Function"+(t?": "+t:"")+"]"}function J(e,t,n,r,i){throw new q({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function X(e,t){e||J(e,!0,t,"==",X)}function Q(e,t,n,r){if(e===t)return!0;if(s.isBuffer(e)&&s.isBuffer(t))return 0===L(e,t);if(K(e)&&K(t))return e.getTime()===t.getTime();if(B(e)&&B(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(G(e)&&G(t)&&j(e)===j(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===L(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(s.isBuffer(e)!==s.isBuffer(t))return!1;var i=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(O(e)||O(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=ee(e),o=ee(t);if(i&&!o||!i&&o)return!1;if(i)return Q(e=F.call(e),t=F.call(t),n);var a,s,c=D(e),u=D(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),s=c.length-1;s>=0;s--)if(c[s]!==u[s])return!1;for(s=c.length-1;s>=0;s--)if(!Q(e[a=c[s]],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function ee(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function te(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function ne(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&J(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!e&&i&&!n;if((!e&&x(i)&&o&&te(i,n)||a)&&J(i,n,"Got unwanted exception"+r),e&&i&&n&&!te(i,n)||!e&&i)throw i}$.AssertionError=q,w(q,Error),$.fail=J,$.ok=X,$.equal=function e(t,n,r){t!=n&&J(t,n,r,"==",e)},$.notEqual=function e(t,n,r){t==n&&J(t,n,r,"!=",e)},$.deepEqual=function e(t,n,r){Q(t,n,!1)||J(t,n,r,"deepEqual",e)},$.deepStrictEqual=function e(t,n,r){Q(t,n,!0)||J(t,n,r,"deepStrictEqual",e)},$.notDeepEqual=function e(t,n,r){Q(t,n,!1)&&J(t,n,r,"notDeepEqual",e)},$.notDeepStrictEqual=function e(t,n,r){Q(t,n,!0)&&J(t,n,r,"notDeepStrictEqual",e)},$.strictEqual=function e(t,n,r){t!==n&&J(t,n,r,"===",e)},$.notStrictEqual=function e(t,n,r){t===n&&J(t,n,r,"!==",e)},$.throws=function(e,t,n){ne(!0,e,t,n)},$.doesNotThrow=function(e,t,n){ne(!1,e,t,n)},$.ifError=function(e){if(e)throw e};var re={};class ie{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function oe(e,t){return t.property?e+"["+t.property+"]":e}re.Layout=ie,re.nameWithProperty=oe,re.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof ie))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})};class ae extends ie{isCount(){throw new Error("ExternalLayout is abstract")}}class se extends ae{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class ce extends ae{constructor(e,t,n){if(!(e instanceof ie))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof ue||this.layout instanceof le}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class ue extends ie{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class le extends ie{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}class pe extends ie{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntLE(e,n,this.span),this.span}}class fe extends ie{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntBE(e,n,this.span),this.span}}const de=Math.pow(2,32);function ye(e){const t=Math.floor(e/de);return{hi32:t,lo32:e-t*de}}function he(e,t){return e*de+t}class ge extends ie{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return he(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class me extends ie{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),he(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeUInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class we extends ie{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return he(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class be extends ie{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),he(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class Ae extends ie{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatLE(e,n),4}}class Se extends ie{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatBE(e,n),4}}class Ie extends ie{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleLE(e,n),8}}class ke extends ie{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleBE(e,n),8}}class ve extends ie{constructor(e,t,n){if(!(e instanceof ie))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof ae&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof ae)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0,r=this.count;if(r instanceof ae&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t){void 0===t&&(t=0);const n=[];let r=0,i=this.count;for(i instanceof ae&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n){void 0===n&&(n=0);const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof ae&&this.count.encode(e.length,t,n),i}}class Ee extends ie{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof ie),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let a=r.span;if(o=0<a?a:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>a&&(a=r.getSpan(t,n)))}i=n,n+=a}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class Me{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Te extends Me{constructor(e,t){if(!(e instanceof ae&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class Pe extends ie{constructor(e,t,n){const r=e instanceof ue||e instanceof le;if(r)e=new Te(new ce(e));else if(e instanceof ae&&e.isCount())e=new Te(e);else if(!(e instanceof Me))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof ie))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+a)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Be(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return s.Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class Be extends ie{constructor(e,t,n,r){if(!(e instanceof Pe))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof ie))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function Re(e){return 0>e&&(e+=4294967296),e}class Ke extends ie{constructor(e,t,n){if(!(e instanceof ue||e instanceof le))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=Re(e),this},this._packedGetValue=function(){return r}}decode(e,t){const n=this.makeDestinationObject();void 0===t&&(t=0);const r=this.word.decode(e,t);this._packedSetValue(r);for(const e of this.fields)void 0!==e.property&&(n[e.property]=e.decode(r));return n}encode(e,t,n){void 0===n&&(n=0);const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new xe(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new _e(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class xe{constructor(e,t,n){if(!(e instanceof Ke))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=Re(this.valueMask<<this.start),this.property=n}decode(){return Re(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==Re(e&this.valueMask))throw new TypeError(oe("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=Re(e<<this.start);this.container._packedSetValue(Re(t&~this.wordMask)|n)}}class _e extends xe{constructor(e,t){super(e,1,t)}decode(e,t){return!!xe.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),xe.prototype.encode.call(this,e)}}class Oe extends ie{constructor(e,t){if(!(e instanceof ae&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ae||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof ae&&(r=e.length),!s.Buffer.isBuffer(e)||r!==e.length)throw new TypeError(oe("Blob.encode",this)+" requires (length "+r+") Buffer as src");if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof ae&&this.length.encode(r,t,n),r}}class Ce extends ie{constructor(e){super(-1,e)}getSpan(e,t){if(!s.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);return e.slice(t,t+r-1).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new s.Buffer(e,"utf8"),i=r.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),t[n+i]=0,i+1}}class Ue extends ie{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!s.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+r).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new s.Buffer(e,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),i}}class Le extends ie{constructor(e,t){super(0,t),this.value=e}decode(e,t,n){return this.value}encode(e,t,n){return 0}}re.ExternalLayout=ae,re.GreedyCount=se,re.OffsetLayout=ce,re.UInt=ue,re.UIntBE=le,re.Int=pe,re.IntBE=fe,re.Float=Ae,re.FloatBE=Se,re.Double=Ie,re.DoubleBE=ke,re.Sequence=ve,re.Structure=Ee,re.UnionDiscriminator=Me,re.UnionLayoutDiscriminator=Te,re.Union=Pe,re.VariantLayout=Be,re.BitStructure=Ke,re.BitField=xe,re.Boolean=_e,re.Blob=Oe,re.CString=Ce,re.UTF8=Ue,re.Constant=Le,re.greedy=(e,t)=>new se(e,t),re.offset=(e,t,n)=>new ce(e,t,n);var Ne=re.u8=e=>new ue(1,e);re.u16=e=>new ue(2,e),re.u24=e=>new ue(3,e);var We=re.u32=e=>new ue(4,e);re.u40=e=>new ue(5,e),re.u48=e=>new ue(6,e),re.nu64=e=>new ge(e),re.u16be=e=>new le(2,e),re.u24be=e=>new le(3,e),re.u32be=e=>new le(4,e),re.u40be=e=>new le(5,e),re.u48be=e=>new le(6,e),re.nu64be=e=>new me(e),re.s8=e=>new pe(1,e),re.s16=e=>new pe(2,e),re.s24=e=>new pe(3,e),re.s32=e=>new pe(4,e),re.s40=e=>new pe(5,e),re.s48=e=>new pe(6,e),re.ns64=e=>new we(e),re.s16be=e=>new fe(2,e),re.s24be=e=>new fe(3,e),re.s32be=e=>new fe(4,e),re.s40be=e=>new fe(5,e),re.s48be=e=>new fe(6,e),re.ns64be=e=>new be(e),re.f32=e=>new Ae(e),re.f32be=e=>new Se(e),re.f64=e=>new Ie(e),re.f64be=e=>new ke(e);var De=re.struct=(e,t,n)=>new Ee(e,t,n);re.bits=(e,t,n)=>new Ke(e,t,n),re.seq=(e,t,n)=>new ve(e,t,n),re.union=(e,t,n)=>new Pe(e,t,n),re.unionLayoutDiscriminator=(e,t)=>new Te(e,t);var Fe=re.blob=(e,t)=>new Oe(e,t);re.cstr=e=>new Ce(e),re.utf8=(e,t)=>new Ue(e,t),re.const=(e,t)=>new Le(e,t);const ze=(e="publicKey")=>Fe(32,e),je=(e="uint64")=>Fe(8,e);function Ge(e,t,n,...r){return(0,a.sendAndConfirmTransaction)(t,n,r,{skipPreflight:!1})}const $e=new a.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ve=new a.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Ye="Failed to find account",qe="Invalid account owner";function Ze(e){return s.Buffer.from(e.toBuffer())}class He extends(o()){toBuffer(){const e=super.toArray().reverse(),t=s.Buffer.from(e);if(8===t.length)return t;$(t.length<8,"u64 too large");const n=s.Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){return $(8===e.length,`Invalid buffer length: ${e.length}`),new He([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}function Je(e){return"publicKey"in e}const Xe={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},Qe=new a.PublicKey("So11111111111111111111111111111111111111112"),et=De([We("mintAuthorityOption"),ze("mintAuthority"),je("supply"),Ne("decimals"),Ne("isInitialized"),We("freezeAuthorityOption"),ze("freezeAuthority")]),tt=De([ze("mint"),ze("owner"),je("amount"),We("delegateOption"),ze("delegate"),Ne("state"),We("isNativeOption"),je("isNative"),je("delegatedAmount"),We("closeAuthorityOption"),ze("closeAuthority")]),nt=De([Ne("m"),Ne("n"),Ne("is_initialized"),ze("signer1"),ze("signer2"),ze("signer3"),ze("signer4"),ze("signer5"),ze("signer6"),ze("signer7"),ze("signer8"),ze("signer9"),ze("signer10"),ze("signer11")]);class rt{constructor(e,t,n,i){(0,r.Z)(this,"connection",void 0),(0,r.Z)(this,"publicKey",void 0),(0,r.Z)(this,"programId",void 0),(0,r.Z)(this,"associatedProgramId",void 0),(0,r.Z)(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:t,programId:n,payer:i,associatedProgramId:Ve})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(et.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(tt.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(nt.span)}static async createMint(e,t,n,r,i,o){const s=a.Keypair.generate(),c=new rt(e,s.publicKey,o,t),u=await rt.getMinBalanceRentForExemptMint(e),l=new a.Transaction;return l.add(a.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:s.publicKey,lamports:u,space:et.span,programId:o})),l.add(rt.createInitMintInstruction(o,s.publicKey,i,n,r)),await Ge(0,e,l,t,s),c}async createAccount(e){const t=await rt.getMinBalanceRentForExemptAccount(this.connection),n=a.Keypair.generate(),r=new a.Transaction;r.add(a.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:t,space:tt.span,programId:this.programId}));const i=this.publicKey;return r.add(rt.createInitAccountInstruction(this.programId,i,n.publicKey,e)),await Ge(0,this.connection,r,this.payer,n),n.publicKey}async createAssociatedTokenAccount(e){const t=await rt.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,t)}async createAssociatedTokenAccountInternal(e,t){return await Ge(0,this.connection,(new a.Transaction).add(rt.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,t,e,this.payer.publicKey)),this.payer),t}async getOrCreateAssociatedAccountInfo(e){const t=await rt.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(t)}catch(n){if(n.message===Ye||n.message===qe){try{await this.createAssociatedTokenAccountInternal(e,t)}catch(e){}return await this.getAccountInfo(t)}throw n}}static async createWrappedNativeAccount(e,t,n,r,i){const o=await rt.getMinBalanceRentForExemptAccount(e),s=a.Keypair.generate(),c=new a.Transaction;return c.add(a.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:s.publicKey,lamports:o,space:tt.span,programId:t})),c.add(a.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:s.publicKey,lamports:i})),c.add(rt.createInitAccountInstruction(t,Qe,s.publicKey,n)),await Ge(0,e,c,r,s),s.publicKey}async createMultisig(e,t){const n=a.Keypair.generate(),r=await rt.getMinBalanceRentForExemptMultisig(this.connection),i=new a.Transaction;i.add(a.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:r,space:nt.span,programId:this.programId}));let o=[{pubkey:n.publicKey,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.forEach((e=>o.push({pubkey:e,isSigner:!1,isWritable:!1})));const c=De([Ne("instruction"),Ne("m")]),u=s.Buffer.alloc(c.span);return c.encode({instruction:2,m:e},u),i.add({keys:o,programId:this.programId,data:u}),await Ge(0,this.connection,i,this.payer,n),n.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(null===e)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=et.span)throw new Error("Invalid mint size");const t=s.Buffer.from(e.data),n=et.decode(t);return 0===n.mintAuthorityOption?n.mintAuthority=null:n.mintAuthority=new a.PublicKey(n.mintAuthority),n.supply=He.fromBuffer(n.supply),n.isInitialized=0!=n.isInitialized,0===n.freezeAuthorityOption?n.freezeAuthority=null:n.freezeAuthority=new a.PublicKey(n.freezeAuthority),n}async getAccountInfo(e,t){const n=await this.connection.getAccountInfo(e,t);if(null===n)throw new Error(Ye);if(!n.owner.equals(this.programId))throw new Error(qe);if(n.data.length!=tt.span)throw new Error("Invalid account size");const r=s.Buffer.from(n.data),i=tt.decode(r);if(i.address=e,i.mint=new a.PublicKey(i.mint),i.owner=new a.PublicKey(i.owner),i.amount=He.fromBuffer(i.amount),0===i.delegateOption?(i.delegate=null,i.delegatedAmount=new He):(i.delegate=new a.PublicKey(i.delegate),i.delegatedAmount=He.fromBuffer(i.delegatedAmount)),i.isInitialized=0!==i.state,i.isFrozen=2===i.state,1===i.isNativeOption?(i.rentExemptReserve=He.fromBuffer(i.isNative),i.isNative=!0):(i.rentExemptReserve=null,i.isNative=!1),0===i.closeAuthorityOption?i.closeAuthority=null:i.closeAuthority=new a.PublicKey(i.closeAuthority),!i.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(i.mint)} !== ${JSON.stringify(this.publicKey)}`);return i}async getMultisigInfo(e){const t=await this.connection.getAccountInfo(e);if(null===t)throw new Error("Failed to find multisig");if(!t.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(t.data.length!=nt.span)throw new Error("Invalid multisig size");const n=s.Buffer.from(t.data),r=nt.decode(n);return r.signer1=new a.PublicKey(r.signer1),r.signer2=new a.PublicKey(r.signer2),r.signer3=new a.PublicKey(r.signer3),r.signer4=new a.PublicKey(r.signer4),r.signer5=new a.PublicKey(r.signer5),r.signer6=new a.PublicKey(r.signer6),r.signer7=new a.PublicKey(r.signer7),r.signer8=new a.PublicKey(r.signer8),r.signer9=new a.PublicKey(r.signer9),r.signer10=new a.PublicKey(r.signer10),r.signer11=new a.PublicKey(r.signer11),r}async transfer(e,t,n,r,i){let o,s;return Je(n)?(o=n.publicKey,s=[n]):(o=n,s=r),await Ge("Transfer",this.connection,(new a.Transaction).add(rt.createTransferInstruction(this.programId,e,t,o,r,i)),this.payer,...s)}async approve(e,t,n,r,i){let o,s;Je(n)?(o=n.publicKey,s=[n]):(o=n,s=r),await Ge("Approve",this.connection,(new a.Transaction).add(rt.createApproveInstruction(this.programId,e,t,o,r,i)),this.payer,...s)}async revoke(e,t,n){let r,i;Je(t)?(r=t.publicKey,i=[t]):(r=t,i=n),await Ge("Revoke",this.connection,(new a.Transaction).add(rt.createRevokeInstruction(this.programId,e,r,n)),this.payer,...i)}async setAuthority(e,t,n,r,i){let o,s;Je(r)?(o=r.publicKey,s=[r]):(o=r,s=i),await Ge("SetAuthority",this.connection,(new a.Transaction).add(rt.createSetAuthorityInstruction(this.programId,e,t,n,o,i)),this.payer,...s)}async mintTo(e,t,n,r){let i,o;Je(t)?(i=t.publicKey,o=[t]):(i=t,o=n),await Ge("MintTo",this.connection,(new a.Transaction).add(rt.createMintToInstruction(this.programId,this.publicKey,e,i,n,r)),this.payer,...o)}async burn(e,t,n,r){let i,o;Je(t)?(i=t.publicKey,o=[t]):(i=t,o=n),await Ge("Burn",this.connection,(new a.Transaction).add(rt.createBurnInstruction(this.programId,this.publicKey,e,i,n,r)),this.payer,...o)}async closeAccount(e,t,n,r){let i,o;Je(n)?(i=n.publicKey,o=[n]):(i=n,o=r),await Ge("CloseAccount",this.connection,(new a.Transaction).add(rt.createCloseAccountInstruction(this.programId,e,t,i,r)),this.payer,...o)}async freezeAccount(e,t,n){let r,i;Je(t)?(r=t.publicKey,i=[t]):(r=t,i=n),await Ge("FreezeAccount",this.connection,(new a.Transaction).add(rt.createFreezeAccountInstruction(this.programId,e,this.publicKey,r,n)),this.payer,...i)}async thawAccount(e,t,n){let r,i;Je(t)?(r=t.publicKey,i=[t]):(r=t,i=n),await Ge("ThawAccount",this.connection,(new a.Transaction).add(rt.createThawAccountInstruction(this.programId,e,this.publicKey,r,n)),this.payer,...i)}async transferChecked(e,t,n,r,i,o){let s,c;return Je(n)?(s=n.publicKey,c=[n]):(s=n,c=r),await Ge("TransferChecked",this.connection,(new a.Transaction).add(rt.createTransferCheckedInstruction(this.programId,e,this.publicKey,t,s,r,i,o)),this.payer,...c)}async approveChecked(e,t,n,r,i,o){let s,c;Je(n)?(s=n.publicKey,c=[n]):(s=n,c=r),await Ge("ApproveChecked",this.connection,(new a.Transaction).add(rt.createApproveCheckedInstruction(this.programId,e,this.publicKey,t,s,r,i,o)),this.payer,...c)}async mintToChecked(e,t,n,r,i){let o,s;Je(t)?(o=t.publicKey,s=[t]):(o=t,s=n),await Ge("MintToChecked",this.connection,(new a.Transaction).add(rt.createMintToCheckedInstruction(this.programId,this.publicKey,e,o,n,r,i)),this.payer,...s)}async burnChecked(e,t,n,r,i){let o,s;Je(t)?(o=t.publicKey,s=[t]):(o=t,s=n),await Ge("BurnChecked",this.connection,(new a.Transaction).add(rt.createBurnCheckedInstruction(this.programId,this.publicKey,e,o,n,r,i)),this.payer,...s)}async syncNative(e){await Ge(0,this.connection,(new a.Transaction).add(rt.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,t,n,r,i){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const c=De([Ne("instruction"),Ne("decimals"),ze("mintAuthority"),Ne("option"),ze("freezeAuthority")]);let u=s.Buffer.alloc(1024);{const e=c.encode({instruction:0,decimals:n,mintAuthority:Ze(r),option:null===i?0:1,freezeAuthority:Ze(i||new a.PublicKey(0))},u);u=u.slice(0,e)}return new a.TransactionInstruction({keys:o,programId:e,data:u})}static createInitAccountInstruction(e,t,n,r){const i=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=De([Ne("instruction")]),c=s.Buffer.alloc(o.span);return o.encode({instruction:1},c),new a.TransactionInstruction({keys:i,programId:e,data:c})}static createTransferInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),je("amount")]),u=s.Buffer.alloc(c.span);c.encode({instruction:3,amount:new He(o).toBuffer()},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createApproveInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),je("amount")]),u=s.Buffer.alloc(c.span);c.encode({instruction:4,amount:new He(o).toBuffer()},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createRevokeInstruction(e,t,n,r){const i=De([Ne("instruction")]),o=s.Buffer.alloc(i.span);i.encode({instruction:5},o);let c=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===r.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),r.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:c,programId:e,data:o})}static createSetAuthorityInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),Ne("authorityType"),Ne("option"),ze("newAuthority")]);let u=s.Buffer.alloc(1024);{const e=c.encode({instruction:6,authorityType:Xe[r],option:null===n?0:1,newAuthority:Ze(n||new a.PublicKey(0))},u);u=u.slice(0,e)}let l=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===o.length?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createMintToInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),je("amount")]),u=s.Buffer.alloc(c.span);c.encode({instruction:7,amount:new He(o).toBuffer()},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createBurnInstruction(e,t,n,r,i,o){const c=De([Ne("instruction"),je("amount")]),u=s.Buffer.alloc(c.span);c.encode({instruction:8,amount:new He(o).toBuffer()},u);let l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:u})}static createCloseAccountInstruction(e,t,n,r,i){const o=De([Ne("instruction")]),c=s.Buffer.alloc(o.span);o.encode({instruction:9},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:r,isSigner:!0,isWritable:!1}):(u.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:u,programId:e,data:c})}static createFreezeAccountInstruction(e,t,n,r,i){const o=De([Ne("instruction")]),c=s.Buffer.alloc(o.span);o.encode({instruction:10},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===i.length?u.push({pubkey:r,isSigner:!0,isWritable:!1}):(u.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:u,programId:e,data:c})}static createThawAccountInstruction(e,t,n,r,i){const o=De([Ne("instruction")]),c=s.Buffer.alloc(o.span);o.encode({instruction:11},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===i.length?u.push({pubkey:r,isSigner:!0,isWritable:!1}):(u.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:u,programId:e,data:c})}static createTransferCheckedInstruction(e,t,n,r,i,o,c,u){const l=De([Ne("instruction"),je("amount"),Ne("decimals")]),p=s.Buffer.alloc(l.span);l.encode({instruction:12,amount:new He(c).toBuffer(),decimals:u},p);let f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===o.length?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>f.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:f,programId:e,data:p})}static createApproveCheckedInstruction(e,t,n,r,i,o,c,u){const l=De([Ne("instruction"),je("amount"),Ne("decimals")]),p=s.Buffer.alloc(l.span);l.encode({instruction:13,amount:new He(c).toBuffer(),decimals:u},p);let f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===o.length?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>f.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:f,programId:e,data:p})}static createMintToCheckedInstruction(e,t,n,r,i,o,c){const u=De([Ne("instruction"),je("amount"),Ne("decimals")]),l=s.Buffer.alloc(u.span);u.encode({instruction:14,amount:new He(o).toBuffer(),decimals:c},l);let p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?p.push({pubkey:r,isSigner:!0,isWritable:!1}):(p.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>p.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:p,programId:e,data:l})}static createBurnCheckedInstruction(e,t,n,r,i,o,c){const u=De([Ne("instruction"),je("amount"),Ne("decimals")]),l=s.Buffer.alloc(u.span);u.encode({instruction:15,amount:new He(o).toBuffer(),decimals:c},l);let p=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?p.push({pubkey:r,isSigner:!0,isWritable:!1}):(p.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>p.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:p,programId:e,data:l})}static createSyncNativeInstruction(e,t){const n=De([Ne("instruction")]),r=s.Buffer.alloc(n.span);n.encode({instruction:17},r);let i=[{pubkey:t,isSigner:!1,isWritable:!0}];return new a.TransactionInstruction({keys:i,programId:e,data:r})}static async getAssociatedTokenAddress(e,t,n,r,i=!1){if(!i&&!a.PublicKey.isOnCurve(r.toBuffer()))throw new Error(`Owner cannot sign: ${r.toString()}`);return(await a.PublicKey.findProgramAddress([r.toBuffer(),t.toBuffer(),n.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,t,n,r,i,o){const c=s.Buffer.alloc(0);let u=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:u,programId:e,data:c})}}},364381:(e,t,n)=>{var r=n(318166);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}}]);