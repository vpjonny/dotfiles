/*! For license information please see vendor-solana.js.LICENSE.txt */
(globalThis.webpackChunk_coral_xyz_app_extension=globalThis.webpackChunk_coral_xyz_app_extension||[]).push([[5509],{996346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;const r=n(348834);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return i(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=i,t.uint8ArrayToBuffer=o;class s{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=s,t.nameWithProperty=a,t.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof s))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,n)=>t.decode(e,n),writable:!0})};class c extends s{isCount(){throw new Error("ExternalLayout is abstract")}}t.ExternalLayout=c;class u extends c{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){i(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}t.GreedyCount=u;class d extends c{constructor(e,t=0,n){if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof f}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}t.OffsetLayout=d;class l extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntLE(t,this.span)}encode(e,t,n=0){return o(t).writeUIntLE(e,n,this.span),this.span}}t.UInt=l;class f extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntBE(t,this.span)}encode(e,t,n=0){return o(t).writeUIntBE(e,n,this.span),this.span}}t.UIntBE=f;class h extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readIntLE(t,this.span)}encode(e,t,n=0){return o(t).writeIntLE(e,n,this.span),this.span}}t.Int=h;class p extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readIntBE(t,this.span)}encode(e,t,n=0){return o(t).writeIntBE(e,n,this.span),this.span}}t.IntBE=p;const g=Math.pow(2,32);function y(e){const t=Math.floor(e/g);return{hi32:t,lo32:e-t*g}}function m(e,t){return e*g+t}class b extends s{constructor(e){super(8,e)}decode(e,t=0){const n=o(e),r=n.readUInt32LE(t);return m(n.readUInt32LE(t+4),r)}encode(e,t,n=0){const r=y(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}t.NearUInt64=b;class I extends s{constructor(e){super(8,e)}decode(e,t=0){const n=o(e);return m(n.readUInt32BE(t),n.readUInt32BE(t+4))}encode(e,t,n=0){const r=y(e),i=o(t);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}t.NearUInt64BE=I;class k extends s{constructor(e){super(8,e)}decode(e,t=0){const n=o(e),r=n.readUInt32LE(t);return m(n.readInt32LE(t+4),r)}encode(e,t,n=0){const r=y(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}t.NearInt64=k;class w extends s{constructor(e){super(8,e)}decode(e,t=0){const n=o(e);return m(n.readInt32BE(t),n.readUInt32BE(t+4))}encode(e,t,n=0){const r=y(e),i=o(t);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}t.NearInt64BE=w;class A extends s{constructor(e){super(4,e)}decode(e,t=0){return o(e).readFloatLE(t)}encode(e,t,n=0){return o(t).writeFloatLE(e,n),4}}t.Float=A;class v extends s{constructor(e){super(4,e)}decode(e,t=0){return o(e).readFloatBE(t)}encode(e,t,n=0){return o(t).writeFloatBE(e,n),4}}t.FloatBE=v;class T extends s{constructor(e){super(8,e)}decode(e,t=0){return o(e).readDoubleLE(t)}encode(e,t,n=0){return o(t).writeDoubleLE(e,n),8}}t.Double=T;class _ extends s{constructor(e){super(8,e)}decode(e,t=0){return o(e).readDoubleBE(t)}encode(e,t,n=0){return o(t).writeDoubleBE(e,n),8}}t.DoubleBE=_;class S extends s{constructor(e,t,n){if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof c)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof c&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let r=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof c&&this.count.encode(e.length,t,n),i}}t.Sequence=S;class E extends s{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t=0){i(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}t.Structure=E;class P{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}t.UnionDiscriminator=P;class O extends P{constructor(e,t){if(!(e instanceof c&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}t.UnionLayoutDiscriminator=O;class x extends s{constructor(e,t,n){let r;if(e instanceof l||e instanceof f)r=new O(new d(e));else if(e instanceof c&&e.isCount())r=new O(e);else{if(!(e instanceof P))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=e}if(void 0===t&&(t=null),!(null===t||t instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof l||e instanceof f)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=e instanceof l||e instanceof f,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const r=this.discriminator,i=r.decode(e,t),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=o.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n=0){const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new M(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t=0){let n;return n=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[n]}}t.Union=x;class M extends s{constructor(e,t,n,r){if(!(e instanceof x))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof s))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function R(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=M;class C extends s{constructor(e,t,n){if(!(e instanceof l||e instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=R(e),this},this._packedGetValue=function(){return r}}decode(e,t=0){const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(n[t.property]=t.decode(e));return n}encode(e,t,n=0){const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new D(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new B(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}t.BitStructure=C;class D{constructor(e,t,n){if(!(e instanceof C))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=R(this.valueMask<<this.start),this.property=n}decode(e,t){return R(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==R(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=R(e<<this.start);this.container._packedSetValue(R(t&~this.wordMask)|n)}}t.BitField=D;class B extends D{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}t.Boolean=B;class N extends s{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof c||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),o(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof c&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=o(e);return o(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,t,n),r}}t.Blob=N;class z extends s{constructor(e){super(-1,e)}getSpan(e,t=0){i(e);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t=0){const n=this.getSpan(e,t);return o(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){"string"!=typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),s=i.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");const a=o(t);return i.copy(a,n),a[n+s]=0,s+1}}t.CString=z;class L extends s{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return i(e),e.length-t}decode(e,t=0){const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){"string"!=typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(o(t),n),s}}t.UTF8=L;class K extends s{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}t.Constant=K,t.greedy=(e,t)=>new u(e,t),t.offset=(e,t,n)=>new d(e,t,n),t.u8=e=>new l(1,e),t.u16=e=>new l(2,e),t.u24=e=>new l(3,e),t.u32=e=>new l(4,e),t.u40=e=>new l(5,e),t.u48=e=>new l(6,e),t.nu64=e=>new b(e),t.u16be=e=>new f(2,e),t.u24be=e=>new f(3,e),t.u32be=e=>new f(4,e),t.u40be=e=>new f(5,e),t.u48be=e=>new f(6,e),t.nu64be=e=>new I(e),t.s8=e=>new h(1,e),t.s16=e=>new h(2,e),t.s24=e=>new h(3,e),t.s32=e=>new h(4,e),t.s40=e=>new h(5,e),t.s48=e=>new h(6,e),t.ns64=e=>new k(e),t.s16be=e=>new p(2,e),t.s24be=e=>new p(3,e),t.s32be=e=>new p(4,e),t.s40be=e=>new p(5,e),t.s48be=e=>new p(6,e),t.ns64be=e=>new w(e),t.f32=e=>new A(e),t.f32be=e=>new v(e),t.f64=e=>new T(e),t.f64be=e=>new _(e),t.struct=(e,t,n)=>new E(e,t,n),t.bits=(e,t,n)=>new C(e,t,n),t.seq=(e,t,n)=>new S(e,t,n),t.union=(e,t,n)=>new x(e,t,n),t.unionLayoutDiscriminator=(e,t)=>new O(e,t),t.blob=(e,t)=>new N(e,t),t.cstr=e=>new z(e),t.utf8=(e,t)=>new L(e,t),t.constant=(e,t)=>new K(e,t)},706878:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getConcurrentMerkleTreeAccountSize=t.getCanopyDepth=t.ConcurrentMerkleTreeAccount=void 0;const i=n(162197),o=n(348698),s=n(800349),a=n(921382);class c{constructor(e,t,n){this.header=e,this.tree=t,this.canopy=n}static fromBuffer(e){return d(e)}static fromAccountAddress(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield e.getAccountInfo(t,n);if(!r)throw new Error("CMT account data unexpectedly null!");return d(r.data)}))}getHeaderV1(){return this.header.header.fields[0]}getMaxBufferSize(){return this.getHeaderV1().maxBufferSize}getMaxDepth(){return this.getHeaderV1().maxDepth}getBufferSize(){return new i.BN.BN(this.tree.bufferSize).toNumber()}getCurrentRoot(){return this.tree.changeLogs[this.getCurrentBufferIndex()].root.toBuffer()}getCurrentBufferIndex(){return new i.BN.BN(this.tree.activeIndex).toNumber()}getAuthority(){return this.getHeaderV1().authority}getCreationSlot(){return new i.BN(this.getHeaderV1().creationSlot)}getCurrentSeq(){return new i.BN(this.tree.sequenceNumber)}getCanopyDepth(){return u(this.canopy.canopyBytes.length)}}function u(e){return 0===e?0:Math.log2(e/32+2)-1}function d(e){let t=0;const[n,r]=s.concurrentMerkleTreeHeaderBeet.deserialize(e);if(t=r,"V1"!==n.header.__kind)throw Error(`Header has unsupported version: ${n.header.__kind}`);const i=n.header.fields[0],[o,d]=(0,a.concurrentMerkleTreeBeetFactory)(i.maxDepth,i.maxBufferSize).deserialize(e,t);t=d;const l=u(e.byteLength-t);let f={canopyBytes:[]};if(0!==l){const[n,r]=(0,a.canopyBeetFactory)(l).deserialize(e,t);f=n,t=r}if(e.byteLength!==t)throw new Error("Failed to process whole buffer when deserializing Merkle Account Data");return new c(n,o,f)}t.ConcurrentMerkleTreeAccount=c,t.getCanopyDepth=u,t.getConcurrentMerkleTreeAccountSize=function(e,t,n,r="V1"){if("V1"!=r)throw Error("Unsupported header version");return 2+o.concurrentMerkleTreeHeaderDataV1Beet.byteSize+(0,a.concurrentMerkleTreeBeetFactory)(e,t).byteSize+(n?(0,a.canopyBeetFactory)(n).byteSize:0)}},771036:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(706878),t)},83722:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_DEPTH_SIZE_PAIRS=t.SPL_NOOP_PROGRAM_ID=t.SPL_NOOP_ADDRESS=void 0;const r=n(627158);t.SPL_NOOP_ADDRESS="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV",t.SPL_NOOP_PROGRAM_ID=new r.PublicKey(t.SPL_NOOP_ADDRESS),t.ALL_DEPTH_SIZE_PAIRS=[[3,8],[5,8],[14,64],[14,256],[14,1024],[14,2048],[15,64],[16,64],[17,64],[18,64],[19,64],[20,64],[20,256],[20,1024],[20,2048],[24,64],[24,256],[24,512],[24,1024],[24,2048],[26,512],[26,1024],[26,2048],[30,512],[30,1024],[30,2048]].map((e=>({maxBufferSize:e[1],maxDepth:e[0]})))},3691:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeApplicationDataEvent=t.deserializeChangeLogEventV1=void 0;const i=r(n(162197)),o=n(910063);t.deserializeChangeLogEventV1=function(e){const t=o.accountCompressionEventBeet.toFixedFromData(e,0).read(e,0);if("ChangeLog"==t.__kind&&"V1"==t.fields[0].__kind){const e=t.fields[0].fields[0];return{index:e.index,path:e.path,seq:new i.default.BN(e.seq),treeId:e.id}}throw Error("Unable to decode buffer as ChangeLogEvent V1")},t.deserializeApplicationDataEvent=function(e){const t=o.accountCompressionEventBeet.toFixedFromData(e,0).read(e,0);if("ApplicationData"===t.__kind)return t.fields[0];throw Error("Unable to decode buffer as ApplicationDataEvent")}},895450:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorFromName=t.errorFromCode=t.LeafIndexOutOfBoundsError=t.IncorrectAccountTypeError=t.IncorrectAccountOwnerError=t.IncorrectAuthorityError=t.CanopyLengthMismatchError=t.ConcurrentMerkleTreeConstantsErrorError=t.ZeroCopyErrorError=t.ConcurrentMerkleTreeErrorError=t.IncorrectLeafLengthError=void 0;const n=new Map,r=new Map;class i extends Error{constructor(){super("Incorrect leaf length. Expected vec of 32 bytes"),this.code=6e3,this.name="IncorrectLeafLength","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,i)}}t.IncorrectLeafLengthError=i,n.set(6e3,(()=>new i)),r.set("IncorrectLeafLength",(()=>new i));class o extends Error{constructor(){super("Concurrent merkle tree error"),this.code=6001,this.name="ConcurrentMerkleTreeError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,o)}}t.ConcurrentMerkleTreeErrorError=o,n.set(6001,(()=>new o)),r.set("ConcurrentMerkleTreeError",(()=>new o));class s extends Error{constructor(){super("Issue zero copying concurrent merkle tree data"),this.code=6002,this.name="ZeroCopyError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,s)}}t.ZeroCopyErrorError=s,n.set(6002,(()=>new s)),r.set("ZeroCopyError",(()=>new s));class a extends Error{constructor(){super("An unsupported max depth or max buffer size constant was provided"),this.code=6003,this.name="ConcurrentMerkleTreeConstantsError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,a)}}t.ConcurrentMerkleTreeConstantsErrorError=a,n.set(6003,(()=>new a)),r.set("ConcurrentMerkleTreeConstantsError",(()=>new a));class c extends Error{constructor(){super("Expected a different byte length for the merkle tree canopy"),this.code=6004,this.name="CanopyLengthMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,c)}}t.CanopyLengthMismatchError=c,n.set(6004,(()=>new c)),r.set("CanopyLengthMismatch",(()=>new c));class u extends Error{constructor(){super("Provided authority does not match expected tree authority"),this.code=6005,this.name="IncorrectAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,u)}}t.IncorrectAuthorityError=u,n.set(6005,(()=>new u)),r.set("IncorrectAuthority",(()=>new u));class d extends Error{constructor(){super("Account is owned by a different program, expected it to be owned by this program"),this.code=6006,this.name="IncorrectAccountOwner","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,d)}}t.IncorrectAccountOwnerError=d,n.set(6006,(()=>new d)),r.set("IncorrectAccountOwner",(()=>new d));class l extends Error{constructor(){super("Account provided has incorrect account type"),this.code=6007,this.name="IncorrectAccountType","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,l)}}t.IncorrectAccountTypeError=l,n.set(6007,(()=>new l)),r.set("IncorrectAccountType",(()=>new l));class f extends Error{constructor(){super("Leaf index of concurrent merkle tree is out of bounds"),this.code=6008,this.name="LeafIndexOutOfBounds","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,f)}}t.LeafIndexOutOfBoundsError=f,n.set(6008,(()=>new f)),r.set("LeafIndexOutOfBounds",(()=>new f)),t.errorFromCode=function(e){const t=n.get(e);return null!=t?t():null},t.errorFromName=function(e){const t=r.get(e);return null!=t?t():null}},348698:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_ID=t.PROGRAM_ADDRESS=void 0;const o=n(627158);i(n(895450),t),i(n(570260),t),i(n(276402),t),t.PROGRAM_ADDRESS="cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK",t.PROGRAM_ID=new o.PublicKey(t.PROGRAM_ADDRESS)},858564:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createAppendInstruction=t.appendInstructionDiscriminator=t.appendStruct=void 0;const s=o(n(310834)),a=o(n(627158));t.appendStruct=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["leaf",s.uniformFixedSizeArray(s.u8,32)]],"AppendInstructionArgs"),t.appendInstructionDiscriminator=[149,120,18,222,236,225,88,203],t.createAppendInstruction=function(e,n,r=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[i]=t.appendStruct.serialize(Object.assign({instructionDiscriminator:t.appendInstructionDiscriminator},n)),o=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!1,pubkey:e.noop}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)o.push(t);return new a.TransactionInstruction({data:i,keys:o,programId:r})}},10501:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createCloseEmptyTreeInstruction=t.closeEmptyTreeInstructionDiscriminator=t.closeEmptyTreeStruct=void 0;const s=o(n(310834)),a=o(n(627158));t.closeEmptyTreeStruct=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)]],"CloseEmptyTreeInstructionArgs"),t.closeEmptyTreeInstructionDiscriminator=[50,14,219,107,78,103,16,103],t.createCloseEmptyTreeInstruction=function(e,n=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[r]=t.closeEmptyTreeStruct.serialize({instructionDiscriminator:t.closeEmptyTreeInstructionDiscriminator}),i=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!0,pubkey:e.recipient}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)i.push(t);return new a.TransactionInstruction({data:r,keys:i,programId:n})}},570260:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(858564),t),i(n(10501),t),i(n(695942),t),i(n(348712),t),i(n(940249),t),i(n(982930),t),i(n(944596),t)},695942:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createInitEmptyMerkleTreeInstruction=t.initEmptyMerkleTreeInstructionDiscriminator=t.initEmptyMerkleTreeStruct=void 0;const s=o(n(310834)),a=o(n(627158));t.initEmptyMerkleTreeStruct=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["maxDepth",s.u32],["maxBufferSize",s.u32]],"InitEmptyMerkleTreeInstructionArgs"),t.initEmptyMerkleTreeInstructionDiscriminator=[191,11,119,7,180,107,220,110],t.createInitEmptyMerkleTreeInstruction=function(e,n,r=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[i]=t.initEmptyMerkleTreeStruct.serialize(Object.assign({instructionDiscriminator:t.initEmptyMerkleTreeInstructionDiscriminator},n)),o=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!1,pubkey:e.noop}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)o.push(t);return new a.TransactionInstruction({data:i,keys:o,programId:r})}},348712:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createInsertOrAppendInstruction=t.insertOrAppendInstructionDiscriminator=t.insertOrAppendStruct=void 0;const s=o(n(310834)),a=o(n(627158));t.insertOrAppendStruct=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["root",s.uniformFixedSizeArray(s.u8,32)],["leaf",s.uniformFixedSizeArray(s.u8,32)],["index",s.u32]],"InsertOrAppendInstructionArgs"),t.insertOrAppendInstructionDiscriminator=[6,42,50,190,51,109,178,168],t.createInsertOrAppendInstruction=function(e,n,r=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[i]=t.insertOrAppendStruct.serialize(Object.assign({instructionDiscriminator:t.insertOrAppendInstructionDiscriminator},n)),o=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!1,pubkey:e.noop}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)o.push(t);return new a.TransactionInstruction({data:i,keys:o,programId:r})}},940249:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createReplaceLeafInstruction=t.replaceLeafInstructionDiscriminator=t.replaceLeafStruct=void 0;const s=o(n(310834)),a=o(n(627158));t.replaceLeafStruct=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["root",s.uniformFixedSizeArray(s.u8,32)],["previousLeaf",s.uniformFixedSizeArray(s.u8,32)],["newLeaf",s.uniformFixedSizeArray(s.u8,32)],["index",s.u32]],"ReplaceLeafInstructionArgs"),t.replaceLeafInstructionDiscriminator=[204,165,76,100,73,147,0,128],t.createReplaceLeafInstruction=function(e,n,r=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[i]=t.replaceLeafStruct.serialize(Object.assign({instructionDiscriminator:t.replaceLeafInstructionDiscriminator},n)),o=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!1,pubkey:e.noop}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)o.push(t);return new a.TransactionInstruction({data:i,keys:o,programId:r})}},982930:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createTransferAuthorityInstruction=t.transferAuthorityInstructionDiscriminator=t.transferAuthorityStruct=void 0;const s=o(n(310834)),a=o(n(921869)),c=o(n(627158));t.transferAuthorityStruct=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["newAuthority",a.publicKey]],"TransferAuthorityInstructionArgs"),t.transferAuthorityInstructionDiscriminator=[48,169,76,72,229,180,55,161],t.createTransferAuthorityInstruction=function(e,n,r=new c.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[i]=t.transferAuthorityStruct.serialize(Object.assign({instructionDiscriminator:t.transferAuthorityInstructionDiscriminator},n)),o=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)o.push(t);return new c.TransactionInstruction({data:i,keys:o,programId:r})}},944596:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createVerifyLeafInstruction=t.verifyLeafInstructionDiscriminator=t.verifyLeafStruct=void 0;const s=o(n(310834)),a=o(n(627158));t.verifyLeafStruct=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["root",s.uniformFixedSizeArray(s.u8,32)],["leaf",s.uniformFixedSizeArray(s.u8,32)],["index",s.u32]],"VerifyLeafInstructionArgs"),t.verifyLeafInstructionDiscriminator=[124,220,22,223,104,10,250,224],t.createVerifyLeafInstruction=function(e,n,r=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[i]=t.verifyLeafStruct.serialize(Object.assign({instructionDiscriminator:t.verifyLeafInstructionDiscriminator},n)),o=[{isSigner:!1,isWritable:!1,pubkey:e.merkleTree}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)o.push(t);return new a.TransactionInstruction({data:i,keys:o,programId:r})}},910063:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.accountCompressionEventBeet=t.isAccountCompressionEventApplicationData=t.isAccountCompressionEventChangeLog=void 0;const s=o(n(310834)),a=n(101996),c=n(322801);t.isAccountCompressionEventChangeLog=e=>"ChangeLog"===e.__kind,t.isAccountCompressionEventApplicationData=e=>"ApplicationData"===e.__kind,t.accountCompressionEventBeet=s.dataEnum([["ChangeLog",new s.FixableBeetArgsStruct([["fields",s.tuple([c.changeLogEventBeet])]],'AccountCompressionEventRecord["ChangeLog"]')],["ApplicationData",new s.FixableBeetArgsStruct([["fields",s.tuple([a.applicationDataEventBeet])]],'AccountCompressionEventRecord["ApplicationData"]')]])},101996:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applicationDataEventBeet=t.isApplicationDataEventV1=void 0;const s=o(n(310834)),a=n(895065);t.isApplicationDataEventV1=e=>"V1"===e.__kind,t.applicationDataEventBeet=s.dataEnum([["V1",new s.FixableBeetArgsStruct([["fields",s.tuple([a.applicationDataEventV1Beet])]],'ApplicationDataEventRecord["V1"]')]])},895065:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applicationDataEventV1Beet=void 0;const s=o(n(310834));t.applicationDataEventV1Beet=new s.FixableBeetArgsStruct([["applicationData",s.bytes]],"ApplicationDataEventV1")},322801:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.changeLogEventBeet=t.isChangeLogEventV1=void 0;const s=o(n(310834)),a=n(28625);t.isChangeLogEventV1=e=>"V1"===e.__kind,t.changeLogEventBeet=s.dataEnum([["V1",new s.FixableBeetArgsStruct([["fields",s.tuple([a.changeLogEventV1Beet])]],'ChangeLogEventRecord["V1"]')]])},28625:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.changeLogEventV1Beet=void 0;const s=o(n(310834)),a=o(n(921869)),c=n(179177);t.changeLogEventV1Beet=new s.FixableBeetArgsStruct([["id",a.publicKey],["path",s.array(c.pathNodeBeet)],["seq",s.u64],["index",s.u32]],"ChangeLogEventV1")},154409:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.compressionAccountTypeBeet=t.CompressionAccountType=void 0;const s=o(n(310834));var a;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.ConcurrentMerkleTree=1]="ConcurrentMerkleTree"}(a=t.CompressionAccountType||(t.CompressionAccountType={})),t.compressionAccountTypeBeet=s.fixedScalarEnum(a)},800349:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concurrentMerkleTreeHeaderBeet=void 0;const s=o(n(310834)),a=n(154409),c=n(693942);t.concurrentMerkleTreeHeaderBeet=new s.FixableBeetArgsStruct([["accountType",a.compressionAccountTypeBeet],["header",c.concurrentMerkleTreeHeaderDataBeet]],"ConcurrentMerkleTreeHeader")},693942:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concurrentMerkleTreeHeaderDataBeet=t.isConcurrentMerkleTreeHeaderDataV1=void 0;const s=o(n(310834)),a=n(808006);t.isConcurrentMerkleTreeHeaderDataV1=e=>"V1"===e.__kind,t.concurrentMerkleTreeHeaderDataBeet=s.dataEnum([["V1",new s.BeetArgsStruct([["fields",s.fixedSizeTuple([a.concurrentMerkleTreeHeaderDataV1Beet])]],'ConcurrentMerkleTreeHeaderDataRecord["V1"]')]])},808006:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concurrentMerkleTreeHeaderDataV1Beet=void 0;const s=o(n(310834)),a=o(n(921869));t.concurrentMerkleTreeHeaderDataV1Beet=new s.BeetArgsStruct([["maxBufferSize",s.u32],["maxDepth",s.u32],["authority",a.publicKey],["creationSlot",s.u64],["padding",s.uniformFixedSizeArray(s.u8,6)]],"ConcurrentMerkleTreeHeaderDataV1")},179177:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pathNodeBeet=void 0;const s=o(n(310834));t.pathNodeBeet=new s.BeetArgsStruct([["node",s.uniformFixedSizeArray(s.u8,32)],["index",s.u32]],"PathNode")},276402:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(910063),t),i(n(101996),t),i(n(895065),t),i(n(322801),t),i(n(28625),t),i(n(154409),t),i(n(800349),t),i(n(693942),t),i(n(808006),t),i(n(179177),t)},248985:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID=t.SPL_ACCOUNT_COMPRESSION_ADDRESS=void 0,i(n(348698),t);var o=n(348698);Object.defineProperty(t,"SPL_ACCOUNT_COMPRESSION_ADDRESS",{enumerable:!0,get:function(){return o.PROGRAM_ADDRESS}}),Object.defineProperty(t,"SPL_ACCOUNT_COMPRESSION_PROGRAM_ID",{enumerable:!0,get:function(){return o.PROGRAM_ID}}),i(n(782506),t),i(n(771036),t),i(n(3691),t),i(n(83722),t),i(n(921382),t),i(n(368350),t)},782506:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createCloseEmptyTreeIx=t.createAllocTreeIx=t.createVerifyLeafIx=t.createTransferAuthorityIx=t.createAppendIx=t.createReplaceIx=t.createInitEmptyMerkleTreeIx=t.addProof=void 0;const i=n(627158),o=n(771036),s=n(83722),a=n(348698);function c(e,t){return e.keys=e.keys.concat(t.map((e=>({isSigner:!1,isWritable:!1,pubkey:new i.PublicKey(e)})))),e}t.addProof=c,t.createInitEmptyMerkleTreeIx=function(e,t,n){return(0,a.createInitEmptyMerkleTreeInstruction)({authority:t,merkleTree:e,noop:s.SPL_NOOP_PROGRAM_ID},n)},t.createReplaceIx=function(e,t,n,r){return c((0,a.createReplaceLeafInstruction)({authority:t,merkleTree:e,noop:s.SPL_NOOP_PROGRAM_ID},{index:r.leafIndex,newLeaf:Array.from(n),previousLeaf:Array.from(r.leaf),root:Array.from(r.root)}),r.proof)},t.createAppendIx=function(e,t,n){return(0,a.createAppendInstruction)({authority:t,merkleTree:e,noop:s.SPL_NOOP_PROGRAM_ID},{leaf:Array.from(n)})},t.createTransferAuthorityIx=function(e,t,n){return(0,a.createTransferAuthorityInstruction)({authority:t,merkleTree:e},{newAuthority:n})},t.createVerifyLeafIx=function(e,t){return c((0,a.createVerifyLeafInstruction)({merkleTree:e},{index:t.leafIndex,leaf:Array.from(t.leaf),root:Array.from(t.root)}),t.proof)},t.createAllocTreeIx=function(e,t,n,s,c){return r(this,void 0,void 0,(function*(){const r=(0,o.getConcurrentMerkleTreeAccountSize)(s.maxDepth,s.maxBufferSize,null!=c?c:0);return i.SystemProgram.createAccount({fromPubkey:n,lamports:yield e.getMinimumBalanceForRentExemption(r),newAccountPubkey:t,programId:a.PROGRAM_ID,space:r})}))},t.createCloseEmptyTreeIx=function(e,t,n){return(0,a.createCloseEmptyTreeInstruction)({authority:t,merkleTree:e,recipient:n})}},368350:function(e,t,n){"use strict";var r=n(348834).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.emptyNode=t.hash=t.MerkleTree=t.LEAF_BUFFER_LENGTH=void 0;const c=n(627158),u=a(n(883669)),d=s(n(742522)),{keccak_256:l}=u.default,f=new Map;t.LEAF_BUFFER_LENGTH=32;class h{constructor(e){const[n,r]=function(e){const n=new d.Queue,r=[];return e.forEach(((e,i)=>{if(e.length!=t.LEAF_BUFFER_LENGTH)throw Error(`Provided leaf has length: ${e.length}, but we need all leaves to be length ${t.LEAF_BUFFER_LENGTH}`);const o={id:i,left:void 0,level:0,node:e,parent:void 0,right:void 0};n.enqueue(o),r.push(o)})),[n,r]}(e);let i=e.length;for(;n.size()>1;){const e=n.dequeue(),t=e.level;let r;t!=n.peek().level?(r=y(t,i),i++):r=n.dequeue();const o={id:i,left:e,level:t+1,node:p(e.node,r.node),parent:void 0,right:r};e.parent=o,r.parent=o,n.enqueue(o),i++}this.leaves=r,this.root=n.peek().node,this.depth=n.peek().level+1}static sparseMerkleTreeFromLeaves(e,t){const n=[];for(let i=0;i<2**t;i++)i<e.length?n.push(e[i]):n.push(r.alloc(32));return new h(n)}getRoot(){return this.root}getProof(e,t=!1,n=-1,r=!1){const i=[];let o=this.leaves[e],s=0;for(;void 0!==o.parent&&!(t&&s>=n);){r&&console.log(`${o.level}: ${Uint8Array.from(o.node)}`);const e=o.parent;if(e.left.id===o.id){i.push(e.right);const t=p(o.node,e.right.node);if(!t.equals(e.node))throw console.log(t),console.log(e.node),new Error("Invariant broken when hashing left node")}else{i.push(e.left);const t=p(e.left.node,o.node);if(!t.equals(e.node))throw console.log(t),console.log(e.node),new Error("Invariant broken when hashing right node")}o=e,s++}return{leaf:this.leaves[e].node,leafIndex:e,proof:i.map((e=>e.node)),root:this.getRoot()}}updateLeaf(e,t,n=!1){const r=this.leaves[e];r.node=t;let i=r,o=0;for(;void 0!==i.parent;)n&&console.log(`${o}: ${Uint8Array.from(i.node)}`),i=i.parent,i.node=p(i.left.node,i.right.node),o++;n&&console.log(`${o}: ${Uint8Array.from(i.node)}`),this.root=i.node}static hashProof(e,t=!1){const{leaf:n,leafIndex:r,proof:i}=e;let o=new c.PublicKey(n).toBuffer();for(let e=0;e<i.length;e++)o=(r>>e)%2==0?p(o,new c.PublicKey(i[e]).toBuffer()):p(new c.PublicKey(i[e]).toBuffer(),o),t&&console.log(`node ${e} ${new c.PublicKey(o).toString()}`);return o}static verify(e,t,n=!1){const r=h.hashProof(t,n),i=new c.PublicKey(r).toString(),o=new c.PublicKey(e).toString();return i!==o?(n&&console.log(`Roots don't match! Expected ${i} got ${o}`),!1):(n&&console.log(`Hashed ${i} got ${o}`),i===o)}}function p(e,t){return r.from(l.digest(r.concat([e,t])))}function g(e){if(f.has(e))return f.get(e);if(0==e)return r.alloc(32);const t=p(g(e-1),g(e-1));return f.set(e,t),t}function y(e,t){return{id:t,left:void 0,level:e,node:g(e),parent:void 0,right:void 0}}t.MerkleTree=h,t.hash=p,t.emptyNode=g},359037:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.canopyBeetFactory=void 0;const s=o(n(310834));t.canopyBeetFactory=e=>new s.BeetArgsStruct([["canopyBytes",s.uniformFixedSizeArray(s.u8,Math.max(32*((1<<e+1)-2),0))]],"Canopy")},545635:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concurrentMerkleTreeBeetFactory=void 0;const s=o(n(310834)),a=o(n(921869)),c=n(472689),u=e=>new s.BeetArgsStruct([["root",a.publicKey],["pathNodes",s.uniformFixedSizeArray(a.publicKey,e)],["index",s.u32],["_padding",s.u32]],"ChangeLog");t.concurrentMerkleTreeBeetFactory=(e,t)=>new s.BeetArgsStruct([["sequenceNumber",s.u64],["activeIndex",s.u64],["bufferSize",s.u64],["changeLogs",s.uniformFixedSizeArray(u(e),t)],["rightMostPath",(0,c.pathBeetFactory)(e)]],"ConcurrentMerkleTree")},472689:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pathBeetFactory=void 0;const s=o(n(310834)),a=o(n(921869));t.pathBeetFactory=e=>new s.BeetArgsStruct([["proof",s.uniformFixedSizeArray(a.publicKey,e)],["leaf",a.publicKey],["index",s.u32],["_padding",s.u32]],"Path")},921382:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(472689),t),i(n(359037),t),i(n(545635),t)},627158:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Account:()=>D,AddressLookupTableAccount:()=>qe,AddressLookupTableInstruction:()=>Vn,AddressLookupTableProgram:()=>Zn,Authorized:()=>or,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Ye,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>B,BPF_LOADER_PROGRAM_ID:()=>Be,BpfLoader:()=>Ne,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Xn,ComputeBudgetInstruction:()=>$n,ComputeBudgetProgram:()=>Jn,Connection:()=>Gn,Ed25519Program:()=>Qn,Enum:()=>E,EpochSchedule:()=>Fe,FeeCalculatorLayout:()=>_e,Keypair:()=>Hn,LAMPORTS_PER_SOL:()=>Pr,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>qn,Loader:()=>De,Lockup:()=>sr,MAX_SEED_LENGTH:()=>x,Message:()=>ee,MessageAccountKeys:()=>U,MessageV0:()=>te,NONCE_ACCOUNT_LENGTH:()=>Ee,NonceAccount:()=>Pe,PACKET_DATA_SIZE:()=>N,PUBLIC_KEY_LENGTH:()=>M,PublicKey:()=>C,SIGNATURE_LENGTH_IN_BYTES:()=>L,SOLANA_SCHEMA:()=>P,STAKE_CONFIG_ID:()=>ir,STAKE_INSTRUCTION_LAYOUTS:()=>cr,SYSTEM_INSTRUCTION_LAYOUTS:()=>Me,SYSVAR_CLOCK_PUBKEY:()=>ue,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>de,SYSVAR_INSTRUCTIONS_PUBKEY:()=>le,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>fe,SYSVAR_RENT_PUBKEY:()=>he,SYSVAR_REWARDS_PUBKEY:()=>pe,SYSVAR_SLOT_HASHES_PUBKEY:()=>ge,SYSVAR_SLOT_HISTORY_PUBKEY:()=>ye,SYSVAR_STAKE_HISTORY_PUBKEY:()=>me,Secp256k1Program:()=>nr,SendTransactionError:()=>be,SolanaJSONRPCError:()=>ke,SolanaJSONRPCErrorCode:()=>Ie,StakeAuthorizationLayout:()=>ur,StakeInstruction:()=>ar,StakeProgram:()=>dr,Struct:()=>S,SystemInstruction:()=>xe,SystemProgram:()=>Re,Transaction:()=>se,TransactionExpiredBlockheightExceededError:()=>K,TransactionExpiredNonceInvalidError:()=>j,TransactionExpiredTimeoutError:()=>W,TransactionInstruction:()=>oe,TransactionMessage:()=>ae,TransactionStatus:()=>re,VALIDATOR_INFO_KEY:()=>yr,VERSION_PREFIX_MASK:()=>z,VOTE_PROGRAM_ID:()=>Ir,ValidatorInfo:()=>br,VersionedMessage:()=>ne,VersionedTransaction:()=>ce,VoteAccount:()=>wr,VoteAuthorizationLayout:()=>pr,VoteInit:()=>lr,VoteInstruction:()=>fr,VoteProgram:()=>gr,clusterApiUrl:()=>Sr,sendAndConfirmRawTransaction:()=>Er,sendAndConfirmTransaction:()=>we});var r=n(348834),i=n(117780),o=n(162197),s=n.n(o),a=n(312833),c=n.n(a),u=n(153929),d=n(983871),l=n(996346),f=n(41528),h=n(154471),p=n(787414),g=n.n(p),y=n(131533),m=n(748796),b=n(425959);const I=i.UN.utils.randomPrivateKey,k=()=>{const e=i.UN.utils.randomPrivateKey(),t=w(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},w=i.UN.getPublicKey;function A(e){try{return i.UN.ExtendedPoint.fromHex(e),!0}catch{return!1}}const v=(e,t)=>i.UN.sign(e,t.slice(0,32)),T=i.UN.verify,_=e=>r.Buffer.isBuffer(e)?e:e instanceof Uint8Array?r.Buffer.from(e.buffer,e.byteOffset,e.byteLength):r.Buffer.from(e);class S{constructor(e){Object.assign(this,e)}encode(){return r.Buffer.from((0,d.serialize)(P,this))}static decode(e){return(0,d.deserialize)(P,this,e)}static decodeUnchecked(e){return(0,d.deserializeUnchecked)(P,this,e)}}class E extends S{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const P=new Map;var O;const x=32,M=32;let R=1;class C extends S{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=c().decode(e);if(t.length!=M)throw new Error("Invalid public key input");this._bn=new(s())(t)}else this._bn=new(s())(e);if(this._bn.byteLength()>M)throw new Error("Invalid public key input")}}static unique(){const e=new C(R);return R+=1,new C(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return c().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(r.Buffer);if(e.length===M)return e;const t=r.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const i=r.Buffer.concat([e.toBuffer(),r.Buffer.from(t),n.toBuffer()]),o=(0,u.JQ)(i);return new C(o)}static createProgramAddressSync(e,t){let n=r.Buffer.alloc(0);e.forEach((function(e){if(e.length>x)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,_(e)])})),n=r.Buffer.concat([n,t.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);const i=(0,u.JQ)(n);if(A(i))throw new Error("Invalid seeds, address must fall off the curve");return new C(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,i=255;for(;0!=i;){try{const o=e.concat(r.Buffer.from([i]));n=this.createProgramAddressSync(o,t)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return A(new C(e).toBytes())}}O=C,C.default=new O("11111111111111111111111111111111"),P.set(C,{kind:"struct",fields:[["_bn","u256"]]});class D{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=_(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=_(I()),this._publicKey=_(w(this._secretKey))}get publicKey(){return new C(this._publicKey)}get secretKey(){return r.Buffer.concat([this._secretKey,this._publicKey],64)}}const B=new C("BPFLoader1111111111111111111111111111111111"),N=1232,z=127,L=64;class K extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(K.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class W extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(W.prototype,"name",{value:"TransactionExpiredTimeoutError"});class j extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(j.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class U{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,n)=>{t.set(e.toBase58(),n)}));const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((e=>n(e.pubkey))),data:e.data})))}}const F=(e="publicKey")=>l.blob(32,e),G=(e="signature")=>l.blob(64,e),H=(e="string")=>{const t=l.struct([l.u32("length"),l.u32("lengthPadding"),l.blob(l.offset(l.u32(),-8),"chars")],e),n=t.decode.bind(t),i=t.encode.bind(t),o=t;return o.decode=(e,t)=>n(e,t).chars.toString(),o.encode=(e,t,n)=>{const o={chars:r.Buffer.from(e,"utf8")};return i(o,t,n)},o.alloc=e=>l.u32().span+l.u32().span+r.Buffer.from(e,"utf8").length,o};function q(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return q({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach((e=>{r+=n(e)})),r}function V(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,0==(128&r))break}return t}function Z(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function $(e,t){if(!e)throw new Error(t||"Assertion failed")}class X{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){r(t.programId).isInvoked=!0;for(const e of t.keys){const t=r(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new X(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];$(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),n=e.filter((([,e])=>e.isSigner&&!e.isWritable)),r=e.filter((([,e])=>!e.isSigner&&e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{$(t.length>0,"Expected at least one writable signer key");const[e]=t[0];$(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map((([e])=>new C(e))),...n.map((([e])=>new C(e))),...r.map((([e])=>new C(e))),...i.map((([e])=>new C(e)))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new C(i),o=e.findIndex((e=>e.equals(t)));o>=0&&($(o<256,"Max lookup table index exceeded"),n.push(o),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}const J="Reached end of buffer unexpectedly";function Y(e){if(0===e.length)throw new Error(J);return e.shift()}function Q(e,...t){const[n]=t;if(2===t.length?n+(t[1]??0)>e.length:n>=e.length)throw new Error(J);return e.splice(...t)}class ee{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new C(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:c().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new U(this.staticAccountKeys)}static compile(e){const t=X.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new U(r).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:c().encode(e.data)})));return new ee({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;return e>=this.header.numRequiredSignatures?e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];Z(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,i=Array.from(c().decode(e.data));let o=[];Z(o,t.length);let s=[];return Z(s,i.length),{programIdIndex:n,keyIndicesCount:r.Buffer.from(o),keyIndices:t,dataLength:r.Buffer.from(s),data:i}}));let i=[];Z(i,n.length);let o=r.Buffer.alloc(N);r.Buffer.from(i).copy(o);let s=i.length;n.forEach((e=>{const t=l.struct([l.u8("programIdIndex"),l.blob(e.keyIndicesCount.length,"keyIndicesCount"),l.seq(l.u8("keyIndex"),e.keyIndices.length,"keyIndices"),l.blob(e.dataLength.length,"dataLength"),l.seq(l.u8("userdatum"),e.data.length,"data")]).encode(e,o,s);s+=t})),o=o.slice(0,s);const a=l.struct([l.blob(1,"numRequiredSignatures"),l.blob(1,"numReadonlySignedAccounts"),l.blob(1,"numReadonlyUnsignedAccounts"),l.blob(t.length,"keyCount"),l.seq(F("key"),e,"keys"),F("recentBlockhash")]),u={numRequiredSignatures:r.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:r.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:r.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:r.Buffer.from(t),keys:this.accountKeys.map((e=>_(e.toBytes()))),recentBlockhash:c().decode(this.recentBlockhash)};let d=r.Buffer.alloc(2048);const f=a.encode(u,d);return o.copy(d,f),d.slice(0,f+o.length)}static from(e){let t=[...e];const n=Y(t);if(n!==(n&z))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Y(t),o=Y(t),s=V(t);let a=[];for(let e=0;e<s;e++){const e=Q(t,0,M);a.push(new C(r.Buffer.from(e)))}const u=Q(t,0,M),d=V(t);let l=[];for(let e=0;e<d;e++){const e=Y(t),n=Q(t,0,V(t)),i=Q(t,0,V(t)),o=c().encode(r.Buffer.from(i));l.push({programIdIndex:e,accounts:n,data:o})}const f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:c().encode(r.Buffer.from(u)),accountKeys:a,instructions:l};return new ee(f)}}class te{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new U(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;return e>=n?e-n<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0):e>=this.header.numRequiredSignatures?e-t<n-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find((e=>e.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=X.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const e of i){const i=t.extractTableLookup(e);if(void 0!==i){const[e,{writable:t,readonly:o}]=i;n.push(e),r.writable.push(...t),r.readonly.push(...o)}}const[o,s]=t.getMessageComponents(),a=new U(s,r).compileInstructions(e.instructions);return new te({header:o,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const e=Array();Z(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();Z(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();Z(i,this.addressTableLookups.length);const o=l.struct([l.u8("prefix"),l.struct([l.u8("numRequiredSignatures"),l.u8("numReadonlySignedAccounts"),l.u8("numReadonlyUnsignedAccounts")],"header"),l.blob(e.length,"staticAccountKeysLength"),l.seq(F(),this.staticAccountKeys.length,"staticAccountKeys"),F("recentBlockhash"),l.blob(n.length,"instructionsLength"),l.blob(t.length,"serializedInstructions"),l.blob(i.length,"addressTableLookupsLength"),l.blob(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(N),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:c().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(N);for(const n of this.compiledInstructions){const r=Array();Z(r,n.accountKeyIndexes.length);const i=Array();Z(i,n.data.length),e+=l.struct([l.u8("programIdIndex"),l.blob(r.length,"encodedAccountKeyIndexesLength"),l.seq(l.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),l.blob(i.length,"encodedDataLength"),l.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(N);for(const n of this.addressTableLookups){const r=Array();Z(r,n.writableIndexes.length);const i=Array();Z(i,n.readonlyIndexes.length),e+=l.struct([F("accountKey"),l.blob(r.length,"encodedWritableIndexesLength"),l.seq(l.u8(),n.writableIndexes.length,"writableIndexes"),l.blob(i.length,"encodedReadonlyIndexesLength"),l.seq(l.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=Y(t),r=n&z;$(n!==r,"Expected versioned message but received legacy message"),$(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:Y(t),numReadonlySignedAccounts:Y(t),numReadonlyUnsignedAccounts:Y(t)},o=[],s=V(t);for(let e=0;e<s;e++)o.push(new C(Q(t,0,M)));const a=c().encode(Q(t,0,M)),u=V(t),d=[];for(let e=0;e<u;e++){const e=Y(t),n=Q(t,0,V(t)),r=V(t),i=new Uint8Array(Q(t,0,r));d.push({programIdIndex:e,accountKeyIndexes:n,data:i})}const l=V(t),f=[];for(let e=0;e<l;e++){const e=new C(Q(t,0,M)),n=Q(t,0,V(t)),r=Q(t,0,V(t));f.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new te({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:d,addressTableLookups:f})}}const ne={deserializeMessageVersion(e){const t=e[0],n=t&z;return n===t?"legacy":n},deserialize:e=>{const t=ne.deserializeMessageVersion(e);if("legacy"===t)return ee.from(e);if(0===t)return te.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let re=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const ie=r.Buffer.alloc(L).fill(0);class oe{constructor(e){this.keys=void 0,this.programId=void 0,this.data=r.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class se{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new oe(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const r=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{i.push({pubkey:new C(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),n=o.findIndex((e=>e.pubkey.toString()===t));n>-1?(o[n].isWritable=o[n].isWritable||e.isWritable,o[n].isSigner=o[n].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((e=>e.pubkey.equals(n)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=o.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,d=0;const l=[],f=[];o.forEach((({pubkey:e,isSigner:t,isWritable:n})=>{t?(l.push(e.toString()),a+=1,n||(u+=1)):(f.push(e.toString()),n||(d+=1))}));const h=l.concat(f),p=t.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:c().encode(t)}}));return p.forEach((e=>{$(e.programIdIndex>=0),e.accounts.forEach((e=>$(e>=0)))})),new ee({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:d},accountKeys:h,recentBlockhash:e,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every(((e,n)=>t[n].equals(e.publicKey)))||(this.signatures=t.map((e=>({signature:null,publicKey:e})))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const n=e.toString();return!t.has(n)&&(t.add(n),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}this.signatures=n.map((e=>({signature:null,publicKey:e.publicKey})));const r=this._compile();this._partialSign(r,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach((e=>{const t=v(n,e.secretKey);this._addSignature(e.publicKey,_(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){$(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=r.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||=[]).push(i):T(r,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];Z(n,t.length);const i=n.length+64*t.length+e.length,o=r.Buffer.alloc(i);return $(t.length<256),r.Buffer.from(n).copy(o,0),t.forEach((({signature:e},t)=>{null!==e&&($(64===e.length,"signature has invalid length"),r.Buffer.from(e).copy(o,n.length+64*t))})),e.copy(o,n.length+64*t.length),$(o.length<=N,`Transaction too large: ${o.length} > ${N}`),o}get keys(){return $(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return $(1===this.instructions.length),this.instructions[0].programId}get data(){return $(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=V(t);let i=[];for(let e=0;e<n;e++){const e=Q(t,0,L);i.push(c().encode(r.Buffer.from(e)))}return se.populate(ee.from(t),i)}static populate(e,t=[]){const n=new se;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==c().encode(ie)?null:c().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new oe({keys:r,programId:e.accountKeys[t.programIdIndex],data:c().decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}class ae{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:n,compiledInstructions:r,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=n,c=o-s;$(c>0,"Message header is invalid");const u=e.staticAccountKeys.length-o-a;$(u>=0,"Message header is invalid");const d=e.getAccountKeys(t),l=d.get(0);if(void 0===l)throw new Error("Failed to decompile message because no account keys were found");const f=[];for(const e of r){const t=[];for(const r of e.accountKeyIndexes){const e=d.get(r);if(void 0===e)throw new Error(`Failed to find key for account key index ${r}`);let i;i=r<o?r<c:r<d.staticAccountKeys.length?r-o<u:r-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:r<n.numRequiredSignatures,isWritable:i})}const r=d.get(e.programIdIndex);if(void 0===r)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);f.push(new oe({programId:r,data:_(e.data),keys:t}))}return new ae({payerKey:l,instructions:f,recentBlockhash:i})}compileToLegacyMessage(){return ee.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return te.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class ce{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)$(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let n=0;n<e.header.numRequiredSignatures;n++)t.push(new Uint8Array(L));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Z(t,this.signatures.length);const n=l.struct([l.blob(t.length,"encodedSignaturesLength"),l.seq(G(),this.signatures.length,"signatures"),l.blob(e.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},r);return r.slice(0,i)}static deserialize(e){let t=[...e];const n=[],r=V(t);for(let e=0;e<r;e++)n.push(new Uint8Array(Q(t,0,L)));const i=ne.deserialize(new Uint8Array(t));return new ce(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of e){const e=n.findIndex((e=>e.equals(r.publicKey)));$(e>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[e]=v(t,r.secretKey)}}addSignature(e,t){$(64===t.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));$(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=t}}const ue=new C("SysvarC1ock11111111111111111111111111111111"),de=new C("SysvarEpochSchedu1e111111111111111111111111"),le=new C("Sysvar1nstructions1111111111111111111111111"),fe=new C("SysvarRecentB1ockHashes11111111111111111111"),he=new C("SysvarRent111111111111111111111111111111111"),pe=new C("SysvarRewards111111111111111111111111111111"),ge=new C("SysvarS1otHashes111111111111111111111111111"),ye=new C("SysvarS1otHistory11111111111111111111111111"),me=new C("SysvarStakeHistory1111111111111111111111111");class be extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:r}){const i=r?`Logs: \n${JSON.stringify(r.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let s;switch(e){case"send":s=`Transaction ${t} resulted in an error. \n${n}. `+i+o;break;case"simulate":s=`Simulation failed. \nMessage: ${n}. \n`+i+o;break;default:s=`Unknown action '${e}'`}super(s),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=r||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,n)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n)}else n(new Error("Log messages not found"))})).catch(n)}))),await this.transactionLogs}}const Ie={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ke extends Error{constructor({code:e,message:t,data:n},r){super(null!=r?`${r}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function we(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await e.sendTransaction(t,n,i);let s;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)s=(await e.confirmTransaction({abortSignal:r?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;s=(await e.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await e.confirmTransaction(o,r&&r.commitment)).value;if(s.err){if(null!=o)throw new be({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`});throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`)}return o}function Ae(e){return new Promise((t=>setTimeout(t,e)))}function ve(e,t){const n=e.layout.span>=0?e.layout.span:q(e,t),i=r.Buffer.alloc(n),o=Object.assign({instruction:e.index},t);return e.layout.encode(o,i),i}function Te(e,t){let n;try{n=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const _e=l.nu64("lamportsPerSignature"),Se=l.struct([l.u32("version"),l.u32("state"),F("authorizedPubkey"),F("nonce"),l.struct([_e],"feeCalculator")]),Ee=Se.span;class Pe{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Se.decode(_(e),0);return new Pe({authorizedPubkey:new C(t.authorizedPubkey),nonce:new C(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Oe=(8,e=>{const t=(0,l.blob)(8,e),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),o=t;return o.decode=(e,t)=>{const n=i(e,t);return(0,f.toBigIntLE)(r.Buffer.from(n))},o.encode=(e,t,r)=>{const i=(0,f.toBufferLE)(e,8);return n(i,t,r)},o});class xe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.u32("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(Me))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=Te(Me.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new C(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Te(Me.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=Te(Me.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new C(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Te(Me.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:i}=Te(Me.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new C(t),seed:n,space:r,programId:new C(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Te(Me.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new C(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=Te(Me.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new C(t),seed:n,programId:new C(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:i,programId:o}=Te(Me.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new C(t),seed:n,lamports:r,space:i,programId:new C(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Te(Me.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new C(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Te(Me.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Te(Me.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Te(Me.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new C(t)}}static checkProgramId(e){if(!e.equals(Re.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Me=Object.freeze({Create:{index:0,layout:l.struct([l.u32("instruction"),l.ns64("lamports"),l.ns64("space"),F("programId")])},Assign:{index:1,layout:l.struct([l.u32("instruction"),F("programId")])},Transfer:{index:2,layout:l.struct([l.u32("instruction"),Oe("lamports")])},CreateWithSeed:{index:3,layout:l.struct([l.u32("instruction"),F("base"),H("seed"),l.ns64("lamports"),l.ns64("space"),F("programId")])},AdvanceNonceAccount:{index:4,layout:l.struct([l.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:l.struct([l.u32("instruction"),l.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:l.struct([l.u32("instruction"),F("authorized")])},AuthorizeNonceAccount:{index:7,layout:l.struct([l.u32("instruction"),F("authorized")])},Allocate:{index:8,layout:l.struct([l.u32("instruction"),l.ns64("space")])},AllocateWithSeed:{index:9,layout:l.struct([l.u32("instruction"),F("base"),H("seed"),l.ns64("space"),F("programId")])},AssignWithSeed:{index:10,layout:l.struct([l.u32("instruction"),F("base"),H("seed"),F("programId")])},TransferWithSeed:{index:11,layout:l.struct([l.u32("instruction"),Oe("lamports"),H("seed"),F("programId")])},UpgradeNonceAccount:{index:12,layout:l.struct([l.u32("instruction")])}});class Re{constructor(){}static createAccount(e){const t=ve(Me.Create,{lamports:e.lamports,space:e.space,programId:_(e.programId.toBuffer())});return new oe({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;return"basePubkey"in e?(t=ve(Me.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:_(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=ve(Me.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new oe({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;return"basePubkey"in e?(t=ve(Me.AssignWithSeed,{base:_(e.basePubkey.toBuffer()),seed:e.seed,programId:_(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ve(Me.Assign,{programId:_(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new oe({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ve(Me.CreateWithSeed,{base:_(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:_(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new oe({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new se;"basePubkey"in e&&"seed"in e?t.add(Re.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Ee,programId:this.programId})):t.add(Re.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Ee,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=ve(Me.InitializeNonceAccount,{authorized:_(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:fe,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new oe(n)}static nonceAdvance(e){const t=ve(Me.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:fe,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new oe(n)}static nonceWithdraw(e){const t=ve(Me.WithdrawNonceAccount,{lamports:e.lamports});return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:fe,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=ve(Me.AuthorizeNonceAccount,{authorized:_(e.newAuthorizedPubkey.toBuffer())});return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;return"basePubkey"in e?(t=ve(Me.AllocateWithSeed,{base:_(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:_(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ve(Me.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new oe({keys:n,programId:this.programId,data:t})}}Re.programId=new C("11111111111111111111111111111111");const Ce=N-300;class De{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/De.chunkSize)+1+1)}static async load(e,t,n,i,o){{const r=await e.getMinimumBalanceForRentExemption(o.length),s=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new se,a.add(Re.allocate({accountPubkey:n.publicKey,space:o.length}))),s.owner.equals(i)||(a=a||new se,a.add(Re.assign({accountPubkey:n.publicKey,programId:i}))),s.lamports<r&&(a=a||new se,a.add(Re.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:r-s.lamports})))}else a=(new se).add(Re.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:r>0?r:1,space:o.length,programId:i}));null!==a&&await we(e,a,[t,n],{commitment:"confirmed"})}const s=l.struct([l.u32("instruction"),l.u32("offset"),l.u32("bytesLength"),l.u32("bytesLengthPadding"),l.seq(l.u8("byte"),l.offset(l.u32(),-8),"bytes")]),a=De.chunkSize;let c=0,u=o,d=[];for(;u.length>0;){const o=u.slice(0,a),l=r.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:o,bytesLength:0,bytesLengthPadding:0},l);const f=(new se).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:l});if(d.push(we(e,f,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await Ae(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(d);{const o=l.struct([l.u32("instruction")]),s=r.Buffer.alloc(o.span);o.encode({instruction:1},s);const a=(new se).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1}],programId:i,data:s}),c="processed",u=await e.sendTransaction(a,[t,n],{preflightCommitment:c}),{context:d,value:f}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(f.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(f)})`);for(;;){try{if(await e.getSlot({commitment:c})>d.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}De.chunkSize=Ce;const Be=new C("BPFLoader2111111111111111111111111111111111");class Ne{static getMinNumSignatures(e){return De.getMinNumSignatures(e)}static load(e,t,n,r,i){return De.load(e,t,n,i,r)}}function ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Le=Object.prototype.toString,Ke=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function We(e,t){var n,r,i,o,s,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"==typeof e.toJSON)return We(e.toJSON(),t);if("[object Array]"===(c=Le.call(e))){for(i="[",r=e.length-1,n=0;n<r;n++)i+=We(e[n],!0)+",";return r>-1&&(i+=We(e[n],!0)),i+"]"}if("[object Object]"===c){for(r=(o=Ke(e).sort()).length,i="",n=0;n<r;)void 0!==(a=We(e[s=o[n]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var je=ze((function(e){var t=We(e,!1);if(void 0!==t)return""+t}));function Ue(e){let t=0;for(;e>1;)e/=2,t++;return t}class Fe{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Ue(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Ue(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Ue(32)):this.slotsPerEpoch}}var Ge=globalThis.fetch;class He extends y.Ey{constructor(e,t,n){super((e=>{const n=(0,y.XY)(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,t,n),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class qe{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(Ve,e),n=e.length-56;$(n>=0,"lookup table is invalid"),$(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=l.struct([l.seq(F(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new C(t.authority[0]):void 0,addresses:i.map((e=>new C(e)))}}}const Ve={index:1,layout:l.struct([l.u32("typeIndex"),Oe("deactivationSlot"),l.nu64("lastExtendedSlot"),l.u8("lastExtendedStartIndex"),l.u8(),l.seq(F(),l.offset(l.u8(),-1),"authority")])},Ze=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,$e=(0,h.oQ)((0,h.eE)(C),(0,h.Z_)(),(e=>new C(e))),Xe=(0,h.bc)([(0,h.Z_)(),(0,h.i0)("base64")]),Je=(0,h.oQ)((0,h.eE)(r.Buffer),Xe,(e=>r.Buffer.from(e[0],"base64"))),Ye=3e4;function Qe(e){let t,n;if("string"==typeof e)t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function et(e){return e.map((e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e))}function tt(e){return(0,h.G0)([(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),result:e}),(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),error:(0,h.dt)({code:(0,h._4)(),message:(0,h.Z_)(),data:(0,h.jt)((0,h.Yj)())})})])}const nt=tt((0,h._4)());function rt(e){return(0,h.oQ)(tt(e),nt,(t=>"error"in t?t:{...t,result:(0,h.Ue)(t.result,e)}))}function it(e){return rt((0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e}))}function ot(e){return(0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e})}function st(e,t){return 0===e?new te({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new C(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:c().decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new ee(t)}const at=(0,h.dt)({foundation:(0,h.Rx)(),foundationTerm:(0,h.Rx)(),initial:(0,h.Rx)(),taper:(0,h.Rx)(),terminal:(0,h.Rx)()}),ct=rt((0,h.IX)((0,h.AG)((0,h.dt)({epoch:(0,h.Rx)(),effectiveSlot:(0,h.Rx)(),amount:(0,h.Rx)(),postBalance:(0,h.Rx)(),commission:(0,h.jt)((0,h.AG)((0,h.Rx)()))})))),ut=(0,h.IX)((0,h.dt)({slot:(0,h.Rx)(),prioritizationFee:(0,h.Rx)()})),dt=(0,h.dt)({total:(0,h.Rx)(),validator:(0,h.Rx)(),foundation:(0,h.Rx)(),epoch:(0,h.Rx)()}),lt=(0,h.dt)({epoch:(0,h.Rx)(),slotIndex:(0,h.Rx)(),slotsInEpoch:(0,h.Rx)(),absoluteSlot:(0,h.Rx)(),blockHeight:(0,h.jt)((0,h.Rx)()),transactionCount:(0,h.jt)((0,h.Rx)())}),ft=(0,h.dt)({slotsPerEpoch:(0,h.Rx)(),leaderScheduleSlotOffset:(0,h.Rx)(),warmup:(0,h.O7)(),firstNormalEpoch:(0,h.Rx)(),firstNormalSlot:(0,h.Rx)()}),ht=(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),pt=(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),gt=(0,h.dt)({err:pt}),yt=(0,h.i0)("receivedSignature"),mt=(0,h.dt)({"solana-core":(0,h.Z_)(),"feature-set":(0,h.jt)((0,h.Rx)())}),bt=(0,h.dt)({program:(0,h.Z_)(),programId:$e,parsed:(0,h._4)()}),It=(0,h.dt)({programId:$e,accounts:(0,h.IX)($e),data:(0,h.Z_)()}),kt=it((0,h.dt)({err:(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),logs:(0,h.AG)((0,h.IX)((0,h.Z_)())),accounts:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.AG)((0,h.dt)({executable:(0,h.O7)(),owner:(0,h.Z_)(),lamports:(0,h.Rx)(),data:(0,h.IX)((0,h.Z_)()),rentEpoch:(0,h.jt)((0,h.Rx)())}))))),unitsConsumed:(0,h.jt)((0,h.Rx)()),returnData:(0,h.jt)((0,h.AG)((0,h.dt)({programId:(0,h.Z_)(),data:(0,h.bc)([(0,h.Z_)(),(0,h.i0)("base64")])}))),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)((0,h.G0)([bt,It]))}))))})),wt=it((0,h.dt)({byIdentity:(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),range:(0,h.dt)({firstSlot:(0,h.Rx)(),lastSlot:(0,h.Rx)()})})),At=rt(at),vt=rt(dt),Tt=rt(ut),_t=rt(lt),St=rt(ft),Et=rt(ht),Pt=rt((0,h.Rx)()),Ot=it((0,h.dt)({total:(0,h.Rx)(),circulating:(0,h.Rx)(),nonCirculating:(0,h.Rx)(),nonCirculatingAccounts:(0,h.IX)($e)})),xt=(0,h.dt)({amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}),Mt=it((0,h.IX)((0,h.dt)({address:$e,amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}))),Rt=it((0,h.IX)((0,h.dt)({pubkey:$e,account:(0,h.dt)({executable:(0,h.O7)(),owner:$e,lamports:(0,h.Rx)(),data:Je,rentEpoch:(0,h.Rx)()})}))),Ct=(0,h.dt)({program:(0,h.Z_)(),parsed:(0,h._4)(),space:(0,h.Rx)()}),Dt=it((0,h.IX)((0,h.dt)({pubkey:$e,account:(0,h.dt)({executable:(0,h.O7)(),owner:$e,lamports:(0,h.Rx)(),data:Ct,rentEpoch:(0,h.Rx)()})}))),Bt=it((0,h.IX)((0,h.dt)({lamports:(0,h.Rx)(),address:$e}))),Nt=(0,h.dt)({executable:(0,h.O7)(),owner:$e,lamports:(0,h.Rx)(),data:Je,rentEpoch:(0,h.Rx)()}),zt=(0,h.dt)({pubkey:$e,account:Nt}),Lt=(0,h.oQ)((0,h.G0)([(0,h.eE)(r.Buffer),Ct]),(0,h.G0)([Xe,Ct]),(e=>Array.isArray(e)?(0,h.Ue)(e,Je):e)),Kt=(0,h.dt)({executable:(0,h.O7)(),owner:$e,lamports:(0,h.Rx)(),data:Lt,rentEpoch:(0,h.Rx)()}),Wt=(0,h.dt)({pubkey:$e,account:Kt}),jt=(0,h.dt)({state:(0,h.G0)([(0,h.i0)("active"),(0,h.i0)("inactive"),(0,h.i0)("activating"),(0,h.i0)("deactivating")]),active:(0,h.Rx)(),inactive:(0,h.Rx)()}),Ut=rt((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:pt,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),Ft=rt((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:pt,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),Gt=(0,h.dt)({subscription:(0,h.Rx)(),result:ot(Nt)}),Ht=(0,h.dt)({pubkey:$e,account:Nt}),qt=(0,h.dt)({subscription:(0,h.Rx)(),result:ot(Ht)}),Vt=(0,h.dt)({parent:(0,h.Rx)(),slot:(0,h.Rx)(),root:(0,h.Rx)()}),Zt=(0,h.dt)({subscription:(0,h.Rx)(),result:Vt}),$t=(0,h.G0)([(0,h.dt)({type:(0,h.G0)([(0,h.i0)("firstShredReceived"),(0,h.i0)("completed"),(0,h.i0)("optimisticConfirmation"),(0,h.i0)("root")]),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("createdBank"),parent:(0,h.Rx)(),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("frozen"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),stats:(0,h.dt)({numTransactionEntries:(0,h.Rx)(),numSuccessfulTransactions:(0,h.Rx)(),numFailedTransactions:(0,h.Rx)(),maxTransactionsPerEntry:(0,h.Rx)()})}),(0,h.dt)({type:(0,h.i0)("dead"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),err:(0,h.Z_)()})]),Xt=(0,h.dt)({subscription:(0,h.Rx)(),result:$t}),Jt=(0,h.dt)({subscription:(0,h.Rx)(),result:ot((0,h.G0)([gt,yt]))}),Yt=(0,h.dt)({subscription:(0,h.Rx)(),result:(0,h.Rx)()}),Qt=(0,h.dt)({pubkey:(0,h.Z_)(),gossip:(0,h.AG)((0,h.Z_)()),tpu:(0,h.AG)((0,h.Z_)()),rpc:(0,h.AG)((0,h.Z_)()),version:(0,h.AG)((0,h.Z_)())}),en=(0,h.dt)({votePubkey:(0,h.Z_)(),nodePubkey:(0,h.Z_)(),activatedStake:(0,h.Rx)(),epochVoteAccount:(0,h.O7)(),epochCredits:(0,h.IX)((0,h.bc)([(0,h.Rx)(),(0,h.Rx)(),(0,h.Rx)()])),commission:(0,h.Rx)(),lastVote:(0,h.Rx)(),rootSlot:(0,h.AG)((0,h.Rx)())}),tn=rt((0,h.dt)({current:(0,h.IX)(en),delinquent:(0,h.IX)(en)})),nn=(0,h.G0)([(0,h.i0)("processed"),(0,h.i0)("confirmed"),(0,h.i0)("finalized")]),rn=(0,h.dt)({slot:(0,h.Rx)(),confirmations:(0,h.AG)((0,h.Rx)()),err:pt,confirmationStatus:(0,h.jt)(nn)}),on=it((0,h.IX)((0,h.AG)(rn))),sn=rt((0,h.Rx)()),an=(0,h.dt)({accountKey:$e,writableIndexes:(0,h.IX)((0,h.Rx)()),readonlyIndexes:(0,h.IX)((0,h.Rx)())}),cn=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.Z_)()),header:(0,h.dt)({numRequiredSignatures:(0,h.Rx)(),numReadonlySignedAccounts:(0,h.Rx)(),numReadonlyUnsignedAccounts:(0,h.Rx)()}),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()})),recentBlockhash:(0,h.Z_)(),addressTableLookups:(0,h.jt)((0,h.IX)(an))})}),un=(0,h.dt)({pubkey:$e,signer:(0,h.O7)(),writable:(0,h.O7)(),source:(0,h.jt)((0,h.G0)([(0,h.i0)("transaction"),(0,h.i0)("lookupTable")]))}),dn=(0,h.dt)({accountKeys:(0,h.IX)(un),signatures:(0,h.IX)((0,h.Z_)())}),ln=(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:$e}),fn=(0,h.dt)({accounts:(0,h.IX)($e),data:(0,h.Z_)(),programId:$e}),hn=(0,h.G0)([fn,ln]),pn=(0,h.G0)([(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:(0,h.Z_)()}),(0,h.dt)({accounts:(0,h.IX)((0,h.Z_)()),data:(0,h.Z_)(),programId:(0,h.Z_)()})]),gn=(0,h.oQ)(hn,pn,(e=>"accounts"in e?(0,h.Ue)(e,fn):(0,h.Ue)(e,ln))),yn=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)(un),instructions:(0,h.IX)(gn),recentBlockhash:(0,h.Z_)(),addressTableLookups:(0,h.jt)((0,h.AG)((0,h.IX)(an)))})}),mn=(0,h.dt)({accountIndex:(0,h.Rx)(),mint:(0,h.Z_)(),owner:(0,h.jt)((0,h.Z_)()),uiTokenAmount:xt}),bn=(0,h.dt)({writable:(0,h.IX)($e),readonly:(0,h.IX)($e)}),In=(0,h.dt)({err:pt,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()}))})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(mn))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(mn))),loadedAddresses:(0,h.jt)(bn),computeUnitsConsumed:(0,h.jt)((0,h.Rx)())}),kn=(0,h.dt)({err:pt,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)(gn)})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(mn))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(mn))),loadedAddresses:(0,h.jt)(bn),computeUnitsConsumed:(0,h.jt)((0,h.Rx)())}),wn=(0,h.G0)([(0,h.i0)(0),(0,h.i0)("legacy")]),An=(0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)()),commission:(0,h.jt)((0,h.AG)((0,h.Rx)()))}),vn=rt((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:cn,meta:(0,h.AG)(In),version:(0,h.jt)(wn)})),rewards:(0,h.jt)((0,h.IX)(An)),blockTime:(0,h.AG)((0,h.Rx)()),blockHeight:(0,h.AG)((0,h.Rx)())}))),Tn=rt((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),rewards:(0,h.jt)((0,h.IX)(An)),blockTime:(0,h.AG)((0,h.Rx)()),blockHeight:(0,h.AG)((0,h.Rx)())}))),_n=rt((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:dn,meta:(0,h.AG)(In),version:(0,h.jt)(wn)})),rewards:(0,h.jt)((0,h.IX)(An)),blockTime:(0,h.AG)((0,h.Rx)()),blockHeight:(0,h.AG)((0,h.Rx)())}))),Sn=rt((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:yn,meta:(0,h.AG)(kn),version:(0,h.jt)(wn)})),rewards:(0,h.jt)((0,h.IX)(An)),blockTime:(0,h.AG)((0,h.Rx)()),blockHeight:(0,h.AG)((0,h.Rx)())}))),En=rt((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:dn,meta:(0,h.AG)(kn),version:(0,h.jt)(wn)})),rewards:(0,h.jt)((0,h.IX)(An)),blockTime:(0,h.AG)((0,h.Rx)()),blockHeight:(0,h.AG)((0,h.Rx)())}))),Pn=rt((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),rewards:(0,h.jt)((0,h.IX)(An)),blockTime:(0,h.AG)((0,h.Rx)()),blockHeight:(0,h.AG)((0,h.Rx)())}))),On=rt((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:cn,meta:(0,h.AG)(In)})),rewards:(0,h.jt)((0,h.IX)(An)),blockTime:(0,h.AG)((0,h.Rx)())}))),xn=rt((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),signatures:(0,h.IX)((0,h.Z_)()),blockTime:(0,h.AG)((0,h.Rx)())}))),Mn=rt((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),meta:(0,h.AG)(In),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)())),transaction:cn,version:(0,h.jt)(wn)}))),Rn=rt((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),transaction:yn,meta:(0,h.AG)(kn),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)())),version:(0,h.jt)(wn)}))),Cn=it((0,h.dt)({blockhash:(0,h.Z_)(),feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})})),Dn=it((0,h.dt)({blockhash:(0,h.Z_)(),lastValidBlockHeight:(0,h.Rx)()})),Bn=it((0,h.O7)()),Nn=(0,h.dt)({slot:(0,h.Rx)(),numTransactions:(0,h.Rx)(),numSlots:(0,h.Rx)(),samplePeriodSecs:(0,h.Rx)()}),zn=rt((0,h.IX)(Nn)),Ln=it((0,h.AG)((0,h.dt)({feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})}))),Kn=rt((0,h.Z_)()),Wn=rt((0,h.Z_)()),jn=(0,h.dt)({err:pt,logs:(0,h.IX)((0,h.Z_)()),signature:(0,h.Z_)()}),Un=(0,h.dt)({result:ot(jn),subscription:(0,h.Rx)()}),Fn={"solana-client":"js/0.0.0-development"};class Gn{constructor(e,t){let n,r,i,o,s,a;var c;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:n,config:r}=Qe(t),i=this._buildArgs([],n,void 0,r),o=je(i);return e[o]=e[o]??(async()=>{try{const e=await this._rpcRequest("getBlockHeight",i),t=(0,h.Ue)(e,rt((0,h.Rx)()));if("error"in t)throw new ke(t.error,"failed to get block height information");return t.result}finally{delete e[o]}})(),await e[o]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,s=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(Ze);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${r}${null==a?"":`:${a+1}`}${o}`}(e),this._rpcClient=function(e,t,n,r,i,o){const s=n||Ge;let a;return null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(e,t)=>{const n=await new Promise(((n,i)=>{try{r(e,t,((e,t)=>n([e,t])))}catch(e){i(e)}}));return await s(...n)}),new(g())((async(n,r)=>{const o={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},Fn)};try{let t,n=5,c=500;for(;t=a?await a(e,o):await s(e,o),429===t.status&&!0!==i&&(n-=1,0!==n);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await Ae(c),c*=2;const u=await t.text();t.ok?r(null,u):r(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(e){e instanceof Error&&r(e)}}),{})}(e,r,i,o,s,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((n,r)=>{c.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new He(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=Qe(t),i=this._buildArgs([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getBalance",i),s=(0,h.Ue)(o,it((0,h.Rx)()));if("error"in s)throw new ke(s.error,`failed to get balance for ${e.toBase58()}`);return s.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=(0,h.Ue)(t,rt((0,h.AG)((0,h.Rx)())));if("error"in n)throw new ke(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,h.Ue)(e,rt((0,h.Rx)()));if("error"in t)throw new ke(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,h.Ue)(e,Pt);if("error"in t)throw new ke(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),r=(0,h.Ue)(n,Ot);if("error"in r)throw new ke(r.error,"failed to get supply");return r.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenSupply",n),i=(0,h.Ue)(r,it(xt));if("error"in i)throw new ke(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenAccountBalance",n),i=(0,h.Ue)(r,it(xt));if("error"in i)throw new ke(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=Qe(n);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=(0,h.Ue)(a,Rt);if("error"in c)throw new ke(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=(0,h.Ue)(o,Dt);if("error"in s)throw new ke(s.error,`failed to get token accounts owned by account ${e.toBase58()}`);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=await this._rpcRequest("getLargestAccounts",n),i=(0,h.Ue)(r,Bt);if("error"in i)throw new ke(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenLargestAccounts",n),i=(0,h.Ue)(r,Mt);if("error"in i)throw new ke(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=Qe(t),i=this._buildArgs([e.toBase58()],n,"base64",r),o=await this._rpcRequest("getAccountInfo",i),s=(0,h.Ue)(o,it((0,h.AG)(Nt)));if("error"in s)throw new ke(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=Qe(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=await this._rpcRequest("getAccountInfo",i),s=(0,h.Ue)(o,it((0,h.AG)(Kt)));if("error"in s)throw new ke(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(t){throw new Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=Qe(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),s=await this._rpcRequest("getMultipleAccounts",o),a=(0,h.Ue)(s,it((0,h.IX)((0,h.AG)(Kt))));if("error"in a)throw new ke(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=Qe(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"base64",r),s=await this._rpcRequest("getMultipleAccounts",o),a=(0,h.Ue)(s,it((0,h.IX)((0,h.AG)(Nt))));if("error"in a)throw new ke(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:i}=Qe(t),o=this._buildArgs([e.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),s=await this._rpcRequest("getStakeActivation",o),a=(0,h.Ue)(s,rt(jt));if("error"in a)throw new ke(a.error,`failed to get Stake Activation ${e.toBase58()}`);return a.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=Qe(t),{encoding:i,...o}=r||{},s=this._buildArgs([e.toBase58()],n,i||"base64",{...o,...o.filters?{filters:et(o.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",s),c=(0,h.IX)(zt),u=!0===o.withContext?(0,h.Ue)(a,it(c)):(0,h.Ue)(a,rt(c));if("error"in u)throw new ke(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=Qe(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=await this._rpcRequest("getProgramAccounts",i),s=(0,h.Ue)(o,rt((0,h.IX)(Wt)));if("error"in s)throw new ke(s.error,`failed to get accounts owned by program ${e.toBase58()}`);return s.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{r=c().decode(n)}catch(e){throw new Error("signature must be base58 encoded: "+n)}return $(64===r.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,r,i=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((o,s)=>{try{n=this.onSignature(t,((e,t)=>{n=void 0;const r={context:t,value:e};o({__type:re.PROCESSED,response:r})}),e);const a=new Promise((e=>{null==n?e():r=this._onSubscriptionStateChange(n,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(t);if(i)return;if(null==n)return;const{context:r,value:c}=n;if(null!=c)if(c?.err)s(c.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,o({__type:re.PROCESSED,response:{context:r,value:c}})}})()}catch(e){s(e)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:r}}){let i=!1;const o=new Promise((t=>{const r=async()=>{try{return await this.getBlockHeight(e)}catch(e){return-1}};(async()=>{let e=await r();if(!i){for(;e<=n;){if(await Ae(1e3),i)return;if(e=await r(),i)return}t({__type:re.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c=this.getCancellationPromise(t);let u;try{const e=await Promise.race([c,a,o]);if(e.__type!==re.PROCESSED)throw new K(r);u=e.response}finally{i=!0,s()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((t=>{let o=i,a=null;const c=async()=>{try{const{context:t,value:i}=await this.getNonceAndContext(r,{commitment:e,minContextSlot:n});return a=t.slot,i?.nonce}catch(e){return o}};(async()=>{if(o=await c(),!s)for(;;){if(i!==o)return void t({__type:re.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await Ae(2e3),s)return;if(o=await c(),s)return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let l;try{const t=await Promise.race([d,u,a]);if(t.__type===re.PROCESSED)l=t.response;else{let r;for(;;){const e=await this.getSignatureStatus(o);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??n))){r=e;break}await Ae(400)}if(!r?.value)throw new j(o);{const t=e||"finalized",{confirmationStatus:n}=r.value;switch(t){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new j(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new j(o);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new j(o)}l={context:r.context,value:{err:r.value.err}}}}}finally{s=!0,c()}return l}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n;const r=new Promise((t=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>t({__type:re.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let s;try{const e=await Promise.race([o,r]);if(e.__type!==re.PROCESSED)throw new W(t,e.timeoutMs/1e3);s=e.response}finally{clearTimeout(n),i()}return s}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,h.Ue)(e,rt((0,h.IX)(Qt)));if("error"in t)throw new ke(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),r=(0,h.Ue)(n,tn);if("error"in r)throw new ke(r.error,"failed to get vote accounts");return r.result}async getSlot(e){const{commitment:t,config:n}=Qe(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlot",r),o=(0,h.Ue)(i,rt((0,h.Rx)()));if("error"in o)throw new ke(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:n}=Qe(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlotLeader",r),o=(0,h.Ue)(i,rt((0,h.Z_)()));if("error"in o)throw new ke(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const n=[e,t],r=await this._rpcRequest("getSlotLeaders",n),i=(0,h.Ue)(r,rt((0,h.IX)($e)));if("error"in i)throw new ke(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);return $(1===r.length),{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=await this._rpcRequest("getSignatureStatuses",n),i=(0,h.Ue)(r,on);if("error"in i)throw new ke(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:n}=Qe(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getTransactionCount",r),o=(0,h.Ue)(i,rt((0,h.Rx)()));if("error"in o)throw new ke(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),r=(0,h.Ue)(n,At);if("error"in r)throw new ke(r.error,"failed to get inflation");return r.result}async getInflationReward(e,t,n){const{commitment:r,config:i}=Qe(n),o=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{...i,epoch:null!=t?t:i?.epoch}),s=await this._rpcRequest("getInflationReward",o),a=(0,h.Ue)(s,ct);if("error"in a)throw new ke(a.error,"failed to get inflation reward");return a.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=(0,h.Ue)(e,vt);if("error"in t)throw new ke(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:n}=Qe(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getEpochInfo",r),o=(0,h.Ue)(i,_t);if("error"in o)throw new ke(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,h.Ue)(e,St);if("error"in t)throw new ke(t.error,"failed to get epoch schedule");const n=t.result;return new Fe(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,h.Ue)(e,Et);if("error"in t)throw new ke(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=(0,h.Ue)(r,sn);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",t),r=(0,h.Ue)(n,Cn);if("error"in r)throw new ke(r.error,"failed to get recent blockhash");return r.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=(0,h.Ue)(t,zn);if("error"in n)throw new ke(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=(0,h.Ue)(r,Ln);if("error"in i)throw new ke(i.error,"failed to get fee calculator");const{context:o,value:s}=i.result;return{context:o,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const n=_(e.serialize()).toString("base64"),r=this._buildArgs([n],t),i=await this._rpcRequest("getFeeForMessage",r),o=(0,h.Ue)(i,it((0,h.AG)((0,h.Rx)())));if("error"in o)throw new ke(o.error,"failed to get fee for message");if(null===o.result)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map((e=>e.toBase58())),n=t?.length?[t]:[],r=await this._rpcRequest("getRecentPrioritizationFees",n),i=(0,h.Ue)(r,Tt);if("error"in i)throw new ke(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=Qe(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getLatestBlockhash",r),o=(0,h.Ue)(i,Dn);if("error"in o)throw new ke(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=Qe(t),i=this._buildArgs([e],n,void 0,r),o=await this._rpcRequest("isBlockhashValid",i),s=(0,h.Ue)(o,Bn);if("error"in s)throw new ke(s.error,"failed to determine if the blockhash `"+e+"`is valid");return s.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,h.Ue)(e,rt(mt));if("error"in t)throw new ke(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,h.Ue)(e,rt((0,h.Z_)()));if("error"in t)throw new ke(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:n,config:r}=Qe(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=(0,h.Ue)(o,_n);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,h.Ue)(o,Tn);if("error"in e)throw e.error;return e.result}default:{const e=(0,h.Ue)(o,vn);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map((({transaction:e,meta:t,version:n})=>({meta:t,transaction:{...e,message:st(n,e.message)},version:n})))}:null}}}catch(e){throw new ke(e,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=Qe(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=(0,h.Ue)(o,En);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,h.Ue)(o,Pn);if("error"in e)throw e.error;return e.result}default:{const e=(0,h.Ue)(o,Sn);if("error"in e)throw e.error;return e.result}}}catch(e){throw new ke(e,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"==typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i}const r=this._buildArgs([],n,"base64",t),i=await this._rpcRequest("getBlockProduction",r),o=(0,h.Ue)(i,wt);if("error"in o)throw new ke(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:n,config:r}=Qe(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=await this._rpcRequest("getTransaction",i),s=(0,h.Ue)(o,Mn);if("error"in s)throw new ke(s.error,"failed to get transaction");const a=s.result;return a?{...a,transaction:{...a.transaction,message:st(a.version,a.transaction.message)}}:a}async getParsedTransaction(e,t){const{commitment:n,config:r}=Qe(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=await this._rpcRequest("getTransaction",i),s=(0,h.Ue)(o,Rn);if("error"in s)throw new ke(s.error,"failed to get transaction");return s.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=Qe(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,h.Ue)(e,Rn);if("error"in t)throw new ke(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:n,config:r}=Qe(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,h.Ue)(e,Mn);if("error"in t)throw new ke(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:st(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,h.Ue)(r,On);if("error"in i)throw new ke(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const s={...o,transactions:o.transactions.map((({transaction:e,meta:t})=>{const n=new ee(e.message);return{meta:t,transaction:{...e,message:n}}}))};return{...s,transactions:s.transactions.map((({transaction:e,meta:t})=>({meta:t,transaction:se.populate(e.message,e.signatures)})))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=await this._rpcRequest("getBlocks",r),o=(0,h.Ue)(i,rt((0,h.IX)((0,h.Rx)())));if("error"in o)throw new ke(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getBlock",n),i=(0,h.Ue)(r,xn);if("error"in i)throw new ke(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,h.Ue)(r,xn);if("error"in i)throw new ke(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,h.Ue)(r,Mn);if("error"in i)throw new ke(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const s=new ee(o.transaction.message),a=o.transaction.signatures;return{...o,transaction:se.populate(s,a)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,h.Ue)(r,Rn);if("error"in i)throw new ke(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=(0,h.Ue)(e,Rn);if("error"in t)throw new ke(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let o=await this.getSlot("finalized");for(;!("before"in r||++n>o);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",r),o=(0,h.Ue)(i,Ut);if("error"in o)throw new ke(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",r),o=(0,h.Ue)(i,Ft);if("error"in o)throw new ke(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new qe({key:e,state:qe.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=Pe.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),r=(0,h.Ue)(n,Kn);if("error"in r)throw new ke(r.error,`airdrop to ${e.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Ae(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Ye;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await Ae(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=Qe(e),r=this._buildArgs([],t,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",r),o=(0,h.Ue)(i,it((0,h.Rx)()));if("error"in o)throw new ke(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,n){if("message"in e){const i=e.serialize(),o=r.Buffer.from(i).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const s=t||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(s.innerInstructions=t.innerInstructions);const a=[o,s],c=await this._rpcRequest("simulateTransaction",a),u=(0,h.Ue)(c,kt);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let i;if(e instanceof se){let t=e;i=new se,i.feePayer=t.feePayer,i.instructions=e.instructions,i.nonceInfo=t.nonceInfo,i.signatures=t.signatures}else i=se.populate(e),i._message=i._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(i.nonceInfo&&o)i.sign(...o);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(i.lastValidBlockHeight=t.lastValidBlockHeight,i.recentBlockhash=t.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:s.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e}}o&&(u.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(u.innerInstructions=t.innerInstructions);const d=[c,u],l=await this._rpcRequest("simulateTransaction",d),f=(0,h.Ue)(l,kt);if("error"in f){let e;if("data"in f.error&&(e=f.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(f.error.message,n)}throw new be({action:"simulate",signature:"",transactionMessage:f.error.message,logs:e})}return f.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=_(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[e,n],s=await this._rpcRequest("sendTransaction",o),a=(0,h.Ue)(s,Wn);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new be({action:r?"send":"simulate",signature:"",transactionMessage:a.error.message,logs:e})}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,t])=>{this._setSubscription(e,{...t,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,t){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(t.state)}catch{}}))}}_onSubscriptionStateChange(e,t){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(t),()=>{r.delete(t),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(i,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,r,o.message),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(r){if(r instanceof Error&&console.error(`${i} error:`,r.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t)}catch(e){console.error(e)}}))}_wsOnAccountNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Gt);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=je([e.method,t]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];$(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:r,config:i}=Qe(n),o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,qt);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const{commitment:i,config:o}=Qe(n),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(r?{filters:et(r)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Un);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Zt);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Xt);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Jt);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],r,void 0,i),s=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(s)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Yt);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Hn{constructor(e){this._keypair=void 0,this._keypair=e??k()}static generate(){return new Hn(k())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=w(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new Hn({publicKey:n,secretKey:e})}static fromSeed(e){const t=w(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new Hn({publicKey:t,secretKey:n})}get publicKey(){return new C(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const qn=Object.freeze({CreateLookupTable:{index:0,layout:l.struct([l.u32("instruction"),Oe("recentSlot"),l.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:l.struct([l.u32("instruction")])},ExtendLookupTable:{index:2,layout:l.struct([l.u32("instruction"),Oe(),l.seq(F(),l.offset(l.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:l.struct([l.u32("instruction")])},CloseLookupTable:{index:4,layout:l.struct([l.u32("instruction")])}});class Vn{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.u32("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(qn))if(r.index==t){n=e;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Te(qn.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Te(qn.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new C(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Zn.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class Zn{constructor(){}static createLookupTable(e){const[t,n]=C.findProgramAddressSync([e.authority.toBuffer(),(0,f.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),r=ve(qn.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Re.programId,isSigner:!1,isWritable:!1}];return[new oe({programId:this.programId,keys:i,data:r}),t]}static freezeLookupTable(e){const t=ve(qn.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new oe({programId:this.programId,keys:n,data:t})}static extendLookupTable(e){const t=ve(qn.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Re.programId,isSigner:!1,isWritable:!1}),new oe({programId:this.programId,keys:n,data:t})}static deactivateLookupTable(e){const t=ve(qn.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new oe({programId:this.programId,keys:n,data:t})}static closeLookupTable(e){const t=ve(qn.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new oe({programId:this.programId,keys:n,data:t})}}Zn.programId=new C("AddressLookupTab1e1111111111111111111111111");class $n{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.u8("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(Xn))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=Te(Xn.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Te(Xn.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Te(Xn.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Te(Xn.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Jn.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Xn=Object.freeze({RequestUnits:{index:0,layout:l.struct([l.u8("instruction"),l.u32("units"),l.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:l.struct([l.u8("instruction"),l.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:l.struct([l.u8("instruction"),l.u32("units")])},SetComputeUnitPrice:{index:3,layout:l.struct([l.u8("instruction"),Oe("microLamports")])}});class Jn{constructor(){}static requestUnits(e){const t=ve(Xn.RequestUnits,e);return new oe({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=ve(Xn.RequestHeapFrame,e);return new oe({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=ve(Xn.SetComputeUnitLimit,e);return new oe({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=ve(Xn.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new oe({keys:[],programId:this.programId,data:t})}}Jn.programId=new C("ComputeBudget111111111111111111111111111111");const Yn=l.struct([l.u8("numSignatures"),l.u8("padding"),l.u16("signatureOffset"),l.u16("signatureInstructionIndex"),l.u16("publicKeyOffset"),l.u16("publicKeyInstructionIndex"),l.u16("messageDataOffset"),l.u16("messageDataSize"),l.u16("messageInstructionIndex")]);class Qn{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:i,instructionIndex:o}=e;$(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),$(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const s=Yn.span,a=s+t.length,c=a+i.length,u=r.Buffer.alloc(c+n.length),d=null==o?65535:o;return Yn.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:s,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:d},u),u.fill(t,s),u.fill(i,a),u.fill(n,c),new oe({keys:[],programId:Qn.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;$(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Hn.fromSecretKey(t),i=e.publicKey.toBytes(),o=v(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Qn.programId=new C("Ed25519SigVerify111111111111111111111111111"),b.kA.utils.isValidPrivateKey;const er=b.kA.getPublicKey,tr=l.struct([l.u8("numSignatures"),l.u16("signatureOffset"),l.u8("signatureInstructionIndex"),l.u16("ethAddressOffset"),l.u8("ethAddressInstructionIndex"),l.u16("messageDataOffset"),l.u16("messageDataSize"),l.u8("messageInstructionIndex"),l.blob(20,"ethAddress"),l.blob(64,"signature"),l.u8("recoveryId")]);class nr{constructor(){}static publicKeyToEthAddress(e){$(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return r.Buffer.from((0,m.fr)(_(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:o}=e;return nr.createInstructionWithEthAddress({ethAddress:nr.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;a="string"==typeof t?t.startsWith("0x")?r.Buffer.from(t.substr(2),"hex"):r.Buffer.from(t,"hex"):t,$(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+i.length+1,d=r.Buffer.alloc(tr.span+n.length);return tr.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:s,signature:_(i),ethAddress:_(a),recoveryId:o},d),d.fill(_(n),tr.span),new oe({keys:[],programId:nr.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:i}=e;$(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=_(t),o=er(e,!1).slice(1),s=r.Buffer.from((0,m.fr)(_(n))),[a,c]=((e,t)=>{const n=b.kA.sign(e,t);return[n.toCompactRawBytes(),n.recovery]})(s,e);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,recoveryId:c,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var rr;nr.programId=new C("KeccakSecp256k11111111111111111111111111111");const ir=new C("StakeConfig11111111111111111111111111111111");class or{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class sr{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}rr=sr,sr.default=new rr(0,0,C.default);class ar{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.u32("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(cr))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=Te(cr.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new or(new C(t.staker),new C(t.withdrawer)),lockup:new sr(n.unixTimestamp,n.epoch,new C(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Te(cr.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=Te(cr.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new C(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=Te(cr.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new C(i),newAuthorizedPubkey:new C(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Te(cr.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Te(cr.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Te(cr.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Te(cr.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(dr.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const cr=Object.freeze({Initialize:{index:0,layout:l.struct([l.u32("instruction"),((e="authorized")=>l.struct([F("staker"),F("withdrawer")],e))(),((e="lockup")=>l.struct([l.ns64("unixTimestamp"),l.ns64("epoch"),F("custodian")],e))()])},Authorize:{index:1,layout:l.struct([l.u32("instruction"),F("newAuthorized"),l.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:l.struct([l.u32("instruction")])},Split:{index:3,layout:l.struct([l.u32("instruction"),l.ns64("lamports")])},Withdraw:{index:4,layout:l.struct([l.u32("instruction"),l.ns64("lamports")])},Deactivate:{index:5,layout:l.struct([l.u32("instruction")])},Merge:{index:7,layout:l.struct([l.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:l.struct([l.u32("instruction"),F("newAuthorized"),l.u32("stakeAuthorizationType"),H("authoritySeed"),F("authorityOwner")])}}),ur=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class dr{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||sr.default,o=ve(cr.Initialize,{authorized:{staker:_(n.staker.toBuffer()),withdrawer:_(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:_(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new oe(s)}static createAccountWithSeed(e){const t=new se;t.add(Re.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new se;t.add(Re.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=ve(cr.Delegate);return(new se).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:me,isSigner:!1,isWritable:!1},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=e,s=ve(cr.Authorize,{newAuthorized:_(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new se).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=ve(cr.AuthorizeWithSeed,{newAuthorized:_(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:_(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:ue,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new se).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,o=ve(cr.Split,{lamports:i});return new oe({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e,t){const n=new se;return n.add(Re.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new se;return c.add(Re.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),t&&t>0&&c.add(Re.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=ve(cr.Merge);return(new se).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:me,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=e,s=ve(cr.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:me,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new se).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=ve(cr.Deactivate);return(new se).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}dr.programId=new C("Stake11111111111111111111111111111111111111"),dr.space=200;class lr{constructor(e,t,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=r}}class fr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.u32("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(hr))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Te(hr.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new lr(new C(t.nodePubkey),new C(t.authorizedVoter),new C(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=Te(hr.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new C(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=Te(hr.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new C(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new C(r),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Te(hr.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(gr.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const hr=Object.freeze({InitializeAccount:{index:0,layout:l.struct([l.u32("instruction"),((e="voteInit")=>l.struct([F("nodePubkey"),F("authorizedVoter"),F("authorizedWithdrawer"),l.u8("commission")],e))()])},Authorize:{index:1,layout:l.struct([l.u32("instruction"),F("newAuthorized"),l.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:l.struct([l.u32("instruction"),l.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:l.struct([l.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:l.struct([l.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>l.struct([l.u32("voteAuthorizationType"),F("currentAuthorityDerivedKeyOwnerPubkey"),H("currentAuthorityDerivedKeySeed"),F("newAuthorized")],e))()])}}),pr=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class gr{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=ve(hr.InitializeAccount,{voteInit:{nodePubkey:_(r.nodePubkey.toBuffer()),authorizedVoter:_(r.authorizedVoter.toBuffer()),authorizedWithdrawer:_(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new oe(o)}static createAccount(e){const t=new se;return t.add(Re.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,o=ve(hr.Authorize,{newAuthorized:_(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new se).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=e,a=ve(hr.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:_(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:_(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new se).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,o=ve(hr.Withdraw,{lamports:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new se).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return gr.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=ve(hr.UpdateValidatorIdentity),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new se).add({keys:o,programId:this.programId,data:i})}}gr.programId=new C("Vote111111111111111111111111111111111111111"),gr.space=3762;const yr=new C("Va1idator1nfo111111111111111111111111111111"),mr=(0,h.dt)({name:(0,h.Z_)(),website:(0,h.jt)((0,h.Z_)()),details:(0,h.jt)((0,h.Z_)()),iconUrl:(0,h.jt)((0,h.Z_)()),keybaseUsername:(0,h.jt)((0,h.Z_)())});class br{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==V(t))return null;const n=[];for(let e=0;e<2;e++){const e=new C(Q(t,0,M)),r=1===Y(t);n.push({publicKey:e,isSigner:r})}if(n[0].publicKey.equals(yr)&&n[1].isSigner){const e=H().decode(r.Buffer.from(t)),i=JSON.parse(e);return(0,h.hu)(i,mr),new br(n[1].publicKey,i)}return null}}const Ir=new C("Vote111111111111111111111111111111111111111"),kr=l.struct([F("nodePubkey"),F("authorizedWithdrawer"),l.u8("commission"),l.nu64(),l.seq(l.struct([l.nu64("slot"),l.u32("confirmationCount")]),l.offset(l.u32(),-8),"votes"),l.u8("rootSlotValid"),l.nu64("rootSlot"),l.nu64(),l.seq(l.struct([l.nu64("epoch"),F("authorizedVoter")]),l.offset(l.u32(),-8),"authorizedVoters"),l.struct([l.seq(l.struct([F("authorizedPubkey"),l.nu64("epochOfLastAuthorizedSwitch"),l.nu64("targetEpoch")]),32,"buf"),l.nu64("idx"),l.u8("isEmpty")],"priorVoters"),l.nu64(),l.seq(l.struct([l.nu64("epoch"),l.nu64("credits"),l.nu64("prevCredits")]),l.offset(l.u32(),-8),"epochCredits"),l.struct([l.nu64("slot"),l.nu64("timestamp")],"lastTimestamp")]);class wr{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=kr.decode(_(e),4);let n=t.rootSlot;return t.rootSlotValid||(n=null),new wr({nodePubkey:new C(t.nodePubkey),authorizedWithdrawer:new C(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:n,authorizedVoters:t.authorizedVoters.map(Ar),priorVoters:Tr(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function Ar({authorizedVoter:e,epoch:t}){return{epoch:t,authorizedVoter:new C(e)}}function vr({authorizedPubkey:e,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return{authorizedPubkey:new C(e),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function Tr({buf:e,idx:t,isEmpty:n}){return n?[]:[...e.slice(t+1).map(vr),...e.slice(0,t).map(vr)]}const _r={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Sr(e,t){const n=!1===t?"http":"https";if(!e)return _r[n].devnet;const r=_r[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}async function Er(e,t,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,s),c=o&&o.commitment,u=i?e.confirmTransaction(i,c):e.confirmTransaction(a,c),d=(await u).value;if(d.err){if(null!=a)throw new be({action:s?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`});throw new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`)}return a}const Pr=1e9},312833:(e,t,n)=>{var r=n(318166);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},93108:function(e,t,n){"use strict";var r=n(348834).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.amountToUiAmount=void 0;const o=n(627158),s=n(881034),a=n(78614);t.amountToUiAmount=function(e,t,n,c,u=s.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new o.Transaction).add((0,a.createAmountToUiAmountInstruction)(n,c,u)),{returnData:s,err:d}=(yield e.simulateTransaction(i,[t],!1)).value;return(null==s?void 0:s.data)?r.from(s.data[0],s.data[1]).toString("utf-8"):d}))}},524574:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.approve=void 0;const i=n(627158),o=n(881034),s=n(213938),a=n(721828);t.approve=function(e,t,n,c,u,d,l=[],f,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,l),p=(new i.Transaction).add((0,s.createApproveInstruction)(n,c,r,d,l,h));return yield(0,i.sendAndConfirmTransaction)(e,p,[t,...o],f)}))}},399806:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.approveChecked=void 0;const i=n(627158),o=n(881034),s=n(403465),a=n(721828);t.approveChecked=function(e,t,n,c,u,d,l,f,h=[],p,g=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(d,h),y=(new i.Transaction).add((0,s.createApproveCheckedInstruction)(c,n,u,r,l,f,h,g));return yield(0,i.sendAndConfirmTransaction)(e,y,[t,...o],p)}))}},89281:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.burn=void 0;const i=n(627158),o=n(881034),s=n(569872),a=n(721828);t.burn=function(e,t,n,c,u,d,l=[],f,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,l),p=(new i.Transaction).add((0,s.createBurnInstruction)(n,c,r,d,l,h));return yield(0,i.sendAndConfirmTransaction)(e,p,[t,...o],f)}))}},513885:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.burnChecked=void 0;const i=n(627158),o=n(881034),s=n(199463),a=n(721828);t.burnChecked=function(e,t,n,c,u,d,l,f=[],h,p=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,f),g=(new i.Transaction).add((0,s.createBurnCheckedInstruction)(n,c,r,d,l,f,p));return yield(0,i.sendAndConfirmTransaction)(e,g,[t,...o],h)}))}},593121:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.closeAccount=void 0;const i=n(627158),o=n(881034),s=n(555321),a=n(721828);t.closeAccount=function(e,t,n,c,u,d=[],l,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,d),h=(new i.Transaction).add((0,s.createCloseAccountInstruction)(n,c,r,d,f));return yield(0,i.sendAndConfirmTransaction)(e,h,[t,...o],l)}))}},676638:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createAccount=void 0;const i=n(627158),o=n(881034),s=n(429134),a=n(553289),c=n(43868),u=n(83459);t.createAccount=function(e,t,n,d,l,f,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){if(!l)return yield(0,u.createAssociatedTokenAccount)(e,t,n,d,f,h);const r=yield(0,c.getMint)(e,n,null==f?void 0:f.commitment,h),o=(0,s.getAccountLenForMint)(r),p=yield e.getMinimumBalanceForRentExemption(o),g=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:l.publicKey,space:o,lamports:p,programId:h}),(0,a.createInitializeAccountInstruction)(l.publicKey,n,d,h));return yield(0,i.sendAndConfirmTransaction)(e,g,[t,l],f),l.publicKey}))}},83459:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createAssociatedTokenAccount=void 0;const i=n(627158),o=n(881034),s=n(751717),a=n(43868);t.createAssociatedTokenAccount=function(e,t,n,c,u,d=o.TOKEN_PROGRAM_ID,l=o.ASSOCIATED_TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(0,a.getAssociatedTokenAddressSync)(n,c,!1,d,l),o=(new i.Transaction).add((0,s.createAssociatedTokenAccountInstruction)(t.publicKey,r,c,n,d,l));return yield(0,i.sendAndConfirmTransaction)(e,o,[t],u),r}))}},306495:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createAssociatedTokenAccountIdempotent=void 0;const i=n(627158),o=n(881034),s=n(751717),a=n(43868);t.createAssociatedTokenAccountIdempotent=function(e,t,n,c,u,d=o.TOKEN_PROGRAM_ID,l=o.ASSOCIATED_TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(0,a.getAssociatedTokenAddressSync)(n,c,!1,d,l),o=(new i.Transaction).add((0,s.createAssociatedTokenAccountIdempotentInstruction)(t.publicKey,r,c,n,d,l));return yield(0,i.sendAndConfirmTransaction)(e,o,[t],u),r}))}},447191:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createMint=void 0;const i=n(627158),o=n(881034),s=n(866410),a=n(43868);t.createMint=function(e,t,n,c,u,d=i.Keypair.generate(),l,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=yield(0,a.getMinimumBalanceForRentExemptMint)(e),o=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:d.publicKey,space:a.MINT_SIZE,lamports:r,programId:f}),(0,s.createInitializeMint2Instruction)(d.publicKey,u,n,c,f));return yield(0,i.sendAndConfirmTransaction)(e,o,[t,d],l),d.publicKey}))}},918213:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createMultisig=void 0;const i=n(627158),o=n(881034),s=n(620124),a=n(845022);t.createMultisig=function(e,t,n,c,u=i.Keypair.generate(),d,l=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=yield(0,a.getMinimumBalanceForRentExemptMultisig)(e),o=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:u.publicKey,space:a.MULTISIG_SIZE,lamports:r,programId:l}),(0,s.createInitializeMultisigInstruction)(u.publicKey,n,c,l));return yield(0,i.sendAndConfirmTransaction)(e,o,[t,u],d),u.publicKey}))}},439054:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createNativeMint=void 0;const i=n(627158),o=n(881034),s=n(846986);t.createNativeMint=function(e,t,n,a=o.NATIVE_MINT_2022,c=o.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(new i.Transaction).add((0,s.createCreateNativeMintInstruction)(t.publicKey,a,c));yield(0,i.sendAndConfirmTransaction)(e,r,[t],n)}))}},464739:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createWrappedNativeAccount=void 0;const i=n(627158),o=n(881034),s=n(751717),a=n(553289),c=n(413794),u=n(717498),d=n(43868),l=n(676638);t.createWrappedNativeAccount=function(e,t,n,f,h,p,g=o.TOKEN_PROGRAM_ID,y=o.NATIVE_MINT){return r(this,void 0,void 0,(function*(){if(!f)return yield(0,l.createAccount)(e,t,y,n,h,p,g);if(!h){const r=(0,d.getAssociatedTokenAddressSync)(y,n,!1,g,o.ASSOCIATED_TOKEN_PROGRAM_ID),a=(new i.Transaction).add((0,s.createAssociatedTokenAccountInstruction)(t.publicKey,r,n,y,g,o.ASSOCIATED_TOKEN_PROGRAM_ID),i.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:r,lamports:f}),(0,c.createSyncNativeInstruction)(r,g));return yield(0,i.sendAndConfirmTransaction)(e,a,[t],p),r}const r=yield(0,u.getMinimumBalanceForRentExemptAccount)(e),m=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:h.publicKey,space:u.ACCOUNT_SIZE,lamports:r,programId:g}),i.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:h.publicKey,lamports:f}),(0,a.createInitializeAccountInstruction)(h.publicKey,y,n,g));return yield(0,i.sendAndConfirmTransaction)(e,m,[t,h],p),h.publicKey}))}},694012:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.freezeAccount=void 0;const i=n(627158),o=n(881034),s=n(430930),a=n(721828);t.freezeAccount=function(e,t,n,c,u,d=[],l,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,d),h=(new i.Transaction).add((0,s.createFreezeAccountInstruction)(n,c,r,d,f));return yield(0,i.sendAndConfirmTransaction)(e,h,[t,...o],l)}))}},857995:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getOrCreateAssociatedTokenAccount=void 0;const i=n(627158),o=n(881034),s=n(443382),a=n(751717),c=n(717498),u=n(43868);t.getOrCreateAssociatedTokenAccount=function(e,t,n,d,l=!1,f,h,p=o.TOKEN_PROGRAM_ID,g=o.ASSOCIATED_TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(0,u.getAssociatedTokenAddressSync)(n,d,l,p,g);let o;try{o=yield(0,c.getAccount)(e,r,f,p)}catch(u){if(!(u instanceof s.TokenAccountNotFoundError||u instanceof s.TokenInvalidAccountOwnerError))throw u;try{const o=(new i.Transaction).add((0,a.createAssociatedTokenAccountInstruction)(t.publicKey,r,d,n,p,g));yield(0,i.sendAndConfirmTransaction)(e,o,[t],h)}catch(e){}o=yield(0,c.getAccount)(e,r,f,p)}if(!o.mint.equals(n))throw new s.TokenInvalidMintError;if(!o.owner.equals(d))throw new s.TokenInvalidOwnerError;return o}))}},340620:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(93108),t),i(n(524574),t),i(n(399806),t),i(n(89281),t),i(n(513885),t),i(n(593121),t),i(n(676638),t),i(n(83459),t),i(n(306495),t),i(n(447191),t),i(n(918213),t),i(n(439054),t),i(n(464739),t),i(n(694012),t),i(n(857995),t),i(n(848379),t),i(n(586752),t),i(n(478229),t),i(n(914663),t),i(n(328360),t),i(n(582891),t),i(n(19934),t),i(n(34657),t),i(n(261074),t),i(n(309869),t)},721828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSigners=void 0;const r=n(627158);t.getSigners=function(e,t){return e instanceof r.PublicKey?[e,t]:[e.publicKey,[e]]}},848379:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.mintTo=void 0;const i=n(627158),o=n(881034),s=n(269930),a=n(721828);t.mintTo=function(e,t,n,c,u,d,l=[],f,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,l),p=(new i.Transaction).add((0,s.createMintToInstruction)(n,c,r,d,l,h));return yield(0,i.sendAndConfirmTransaction)(e,p,[t,...o],f)}))}},586752:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.mintToChecked=void 0;const i=n(627158),o=n(881034),s=n(394205),a=n(721828);t.mintToChecked=function(e,t,n,c,u,d,l,f=[],h,p=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,f),g=(new i.Transaction).add((0,s.createMintToCheckedInstruction)(n,c,r,d,l,f,p));return yield(0,i.sendAndConfirmTransaction)(e,g,[t,...o],h)}))}},478229:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.recoverNested=void 0;const i=n(627158),o=n(881034),s=n(751717),a=n(43868);t.recoverNested=function(e,t,n,c,u,d,l=o.TOKEN_PROGRAM_ID,f=o.ASSOCIATED_TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(0,a.getAssociatedTokenAddressSync)(c,n.publicKey,!1,l,f),o=(0,a.getAssociatedTokenAddressSync)(u,n.publicKey,!1,l,f),h=(0,a.getAssociatedTokenAddressSync)(u,r,!0,l,f),p=(new i.Transaction).add((0,s.createRecoverNestedInstruction)(h,u,o,r,c,n.publicKey,l,f));return yield(0,i.sendAndConfirmTransaction)(e,p,[t,n],d)}))}},914663:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.revoke=void 0;const i=n(627158),o=n(881034),s=n(891441),a=n(721828);t.revoke=function(e,t,n,c,u=[],d,l=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(c,u),f=(new i.Transaction).add((0,s.createRevokeInstruction)(n,r,u,l));return yield(0,i.sendAndConfirmTransaction)(e,f,[t,...o],d)}))}},328360:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setAuthority=void 0;const i=n(627158),o=n(881034),s=n(419256),a=n(721828);t.setAuthority=function(e,t,n,c,u,d,l=[],f,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(c,l),p=(new i.Transaction).add((0,s.createSetAuthorityInstruction)(n,r,u,d,l,h));return yield(0,i.sendAndConfirmTransaction)(e,p,[t,...o],f)}))}},582891:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.syncNative=void 0;const i=n(627158),o=n(881034),s=n(413794);t.syncNative=function(e,t,n,a,c=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(new i.Transaction).add((0,s.createSyncNativeInstruction)(n,c));return yield(0,i.sendAndConfirmTransaction)(e,r,[t],a)}))}},19934:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.thawAccount=void 0;const i=n(627158),o=n(881034),s=n(707170),a=n(721828);t.thawAccount=function(e,t,n,c,u,d=[],l,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,d),h=(new i.Transaction).add((0,s.createThawAccountInstruction)(n,c,r,d,f));return yield(0,i.sendAndConfirmTransaction)(e,h,[t,...o],l)}))}},34657:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.transfer=void 0;const i=n(627158),o=n(881034),s=n(381268),a=n(721828);t.transfer=function(e,t,n,c,u,d,l=[],f,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,l),p=(new i.Transaction).add((0,s.createTransferInstruction)(n,c,r,d,l,h));return yield(0,i.sendAndConfirmTransaction)(e,p,[t,...o],f)}))}},261074:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.transferChecked=void 0;const i=n(627158),o=n(881034),s=n(800860),a=n(721828);t.transferChecked=function(e,t,n,c,u,d,l,f,h=[],p,g=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(d,h),y=(new i.Transaction).add((0,s.createTransferCheckedInstruction)(n,c,u,r,l,f,h,g));return yield(0,i.sendAndConfirmTransaction)(e,y,[t,...o],p)}))}},309869:function(e,t,n){"use strict";var r=n(348834).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.uiAmountToAmount=void 0;const o=n(528813),s=n(627158),a=n(881034),c=n(976072);t.uiAmountToAmount=function(e,t,n,u,d=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,c.createUiAmountToAmountInstruction)(n,u,d)),{returnData:a,err:l}=(yield e.simulateTransaction(i,[t],!1)).value;if(a){const e=r.from(a.data[0],a.data[1]);return(0,o.u64)().decode(e)}return l}))}},881034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programSupportsExtensions=t.NATIVE_MINT_2022=t.NATIVE_MINT=t.ASSOCIATED_TOKEN_PROGRAM_ID=t.TOKEN_2022_PROGRAM_ID=t.TOKEN_PROGRAM_ID=void 0;const r=n(627158);t.TOKEN_PROGRAM_ID=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.TOKEN_2022_PROGRAM_ID=new r.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),t.ASSOCIATED_TOKEN_PROGRAM_ID=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),t.NATIVE_MINT=new r.PublicKey("So11111111111111111111111111111111111111112"),t.NATIVE_MINT_2022=new r.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),t.programSupportsExtensions=function(e){return e!==t.TOKEN_PROGRAM_ID}},443382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenTransferHookAccountDataNotFound=t.TokenTransferHookInvalidSeed=t.TokenTransferHookAccountNotFound=t.TokenUnsupportedInstructionError=t.TokenInvalidInstructionTypeError=t.TokenInvalidInstructionDataError=t.TokenInvalidInstructionKeysError=t.TokenInvalidInstructionProgramError=t.TokenOwnerOffCurveError=t.TokenInvalidOwnerError=t.TokenInvalidMintError=t.TokenInvalidAccountSizeError=t.TokenInvalidAccountOwnerError=t.TokenInvalidAccountDataError=t.TokenInvalidAccountError=t.TokenAccountNotFoundError=t.TokenError=void 0;class n extends Error{constructor(e){super(e)}}t.TokenError=n,t.TokenAccountNotFoundError=class extends n{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}},t.TokenInvalidAccountError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}},t.TokenInvalidAccountDataError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}},t.TokenInvalidAccountOwnerError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}},t.TokenInvalidAccountSizeError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}},t.TokenInvalidMintError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidMintError"}},t.TokenInvalidOwnerError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}},t.TokenOwnerOffCurveError=class extends n{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}},t.TokenInvalidInstructionProgramError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}},t.TokenInvalidInstructionKeysError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}},t.TokenInvalidInstructionDataError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}},t.TokenInvalidInstructionTypeError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}},t.TokenUnsupportedInstructionError=class extends n{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}},t.TokenTransferHookAccountNotFound=class extends n{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}},t.TokenTransferHookInvalidSeed=class extends n{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}},t.TokenTransferHookAccountDataNotFound=class extends n{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}},753400:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ACCOUNT_TYPE_SIZE=t.AccountType=void 0,function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"}(n||(t.AccountType=n={})),t.ACCOUNT_TYPE_SIZE=1},161767:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.disableCpiGuard=t.enableCpiGuard=void 0;const i=n(627158),o=n(721828),s=n(881034),a=n(298112);t.enableCpiGuard=function(e,t,n,c,u=[],d,l=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(c,u),f=(new i.Transaction).add((0,a.createEnableCpiGuardInstruction)(n,r,s,l));return yield(0,i.sendAndConfirmTransaction)(e,f,[t,...s],d)}))},t.disableCpiGuard=function(e,t,n,c,u=[],d,l=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(c,u),f=(new i.Transaction).add((0,a.createDisableCpiGuardInstruction)(n,r,s,l));return yield(0,i.sendAndConfirmTransaction)(e,f,[t,...s],d)}))}},969493:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(161767),t),i(n(298112),t),i(n(914224),t)},298112:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createDisableCpiGuardInstruction=t.createEnableCpiGuardInstruction=t.cpiGuardInstructionData=t.CpiGuardInstruction=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(796272),u=n(519013);var d;function l(e,n,i,d,l){if(!(0,s.programSupportsExtensions)(l))throw new a.TokenUnsupportedInstructionError;const f=(0,c.addSigners)([{pubkey:n,isSigner:!1,isWritable:!0}],i,d),h=r.alloc(t.cpiGuardInstructionData.span);return t.cpiGuardInstructionData.encode({instruction:u.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:e},h),new o.TransactionInstruction({keys:f,programId:l,data:h})}!function(e){e[e.Enable=0]="Enable",e[e.Disable=1]="Disable"}(d||(t.CpiGuardInstruction=d={})),t.cpiGuardInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("cpiGuardInstruction")]),t.createEnableCpiGuardInstruction=function(e,t,n=[],r=s.TOKEN_2022_PROGRAM_ID){return l(d.Enable,e,t,n,r)},t.createDisableCpiGuardInstruction=function(e,t,n=[],r=s.TOKEN_2022_PROGRAM_ID){return l(d.Disable,e,t,n,r)}},914224:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCpiGuard=t.CPI_GUARD_SIZE=t.CpiGuardLayout=void 0;const r=n(996346),i=n(528813),o=n(429134);t.CpiGuardLayout=(0,r.struct)([(0,i.bool)("lockCpi")]),t.CPI_GUARD_SIZE=t.CpiGuardLayout.span,t.getCpiGuard=function(e){const n=(0,o.getExtensionData)(o.ExtensionType.CpiGuard,e.tlvData);return null!==n?t.CpiGuardLayout.decode(n):null}},867891:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateDefaultAccountState=t.initializeDefaultAccountState=void 0;const i=n(627158),o=n(721828),s=n(881034),a=n(607435);t.initializeDefaultAccountState=function(e,t,n,o,c,u=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(new i.Transaction).add((0,a.createInitializeDefaultAccountStateInstruction)(n,o,u));return yield(0,i.sendAndConfirmTransaction)(e,r,[t],c)}))},t.updateDefaultAccountState=function(e,t,n,c,u,d=[],l,f=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(u,d),h=(new i.Transaction).add((0,a.createUpdateDefaultAccountStateInstruction)(n,c,r,s,f));return yield(0,i.sendAndConfirmTransaction)(e,h,[t,...s],l)}))}},800994:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(867891),t),i(n(607435),t),i(n(276690),t)},607435:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createUpdateDefaultAccountStateInstruction=t.createInitializeDefaultAccountStateInstruction=t.defaultAccountStateInstructionData=t.DefaultAccountStateInstruction=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(796272),u=n(519013);var d;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(d||(t.DefaultAccountStateInstruction=d={})),t.defaultAccountStateInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("defaultAccountStateInstruction"),(0,i.u8)("accountState")]),t.createInitializeDefaultAccountStateInstruction=function(e,n,i=s.TOKEN_2022_PROGRAM_ID){if(!(0,s.programSupportsExtensions)(i))throw new a.TokenUnsupportedInstructionError;const c=[{pubkey:e,isSigner:!1,isWritable:!0}],l=r.alloc(t.defaultAccountStateInstructionData.span);return t.defaultAccountStateInstructionData.encode({instruction:u.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:d.Initialize,accountState:n},l),new o.TransactionInstruction({keys:c,programId:i,data:l})},t.createUpdateDefaultAccountStateInstruction=function(e,n,i,l=[],f=s.TOKEN_2022_PROGRAM_ID){if(!(0,s.programSupportsExtensions)(f))throw new a.TokenUnsupportedInstructionError;const h=(0,c.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],i,l),p=r.alloc(t.defaultAccountStateInstructionData.span);return t.defaultAccountStateInstructionData.encode({instruction:u.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:d.Update,accountState:n},p),new o.TransactionInstruction({keys:h,programId:f,data:p})}},276690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultAccountState=t.DEFAULT_ACCOUNT_STATE_SIZE=t.DefaultAccountStateLayout=void 0;const r=n(996346),i=n(429134);t.DefaultAccountStateLayout=(0,r.struct)([(0,r.u8)("state")]),t.DEFAULT_ACCOUNT_STATE_SIZE=t.DefaultAccountStateLayout.span,t.getDefaultAccountState=function(e){const n=(0,i.getExtensionData)(i.ExtensionType.DefaultAccountState,e.tlvData);return null!==n?t.DefaultAccountStateLayout.decode(n):null}},429134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountLenForMint=t.getExtensionTypes=t.getExtensionData=t.getAccountLen=t.getMintLen=t.getAccountTypeOfMintType=t.isAccountExtension=t.isMintExtension=t.getTypeLen=t.LENGTH_SIZE=t.TYPE_SIZE=t.ExtensionType=void 0;const r=n(717498),i=n(43868),o=n(845022),s=n(753400),a=n(969493),c=n(800994),u=n(144483),d=n(832784),l=n(11379),f=n(149473),h=n(897847),p=n(934899),g=n(176024),y=n(842177),m=n(253924);var b;function I(e){switch(e){case b.Uninitialized:return 0;case b.TransferFeeConfig:return y.TRANSFER_FEE_CONFIG_SIZE;case b.TransferFeeAmount:return y.TRANSFER_FEE_AMOUNT_SIZE;case b.MintCloseAuthority:return h.MINT_CLOSE_AUTHORITY_SIZE;case b.ConfidentialTransferMint:return 97;case b.ConfidentialTransferAccount:return 286;case b.CpiGuard:return a.CPI_GUARD_SIZE;case b.DefaultAccountState:return c.DEFAULT_ACCOUNT_STATE_SIZE;case b.ImmutableOwner:return u.IMMUTABLE_OWNER_SIZE;case b.MemoTransfer:return l.MEMO_TRANSFER_SIZE;case b.MetadataPointer:return f.METADATA_POINTER_SIZE;case b.NonTransferable:return p.NON_TRANSFERABLE_SIZE;case b.InterestBearingConfig:return d.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case b.PermanentDelegate:return g.PERMANENT_DELEGATE_SIZE;case b.NonTransferableAccount:return p.NON_TRANSFERABLE_ACCOUNT_SIZE;case b.TransferHook:return m.TRANSFER_HOOK_SIZE;case b.TransferHookAccount:return m.TRANSFER_HOOK_ACCOUNT_SIZE;default:throw Error(`Unknown extension type: ${e}`)}}function k(e){switch(e){case b.TransferFeeConfig:return b.TransferFeeAmount;case b.ConfidentialTransferMint:return b.ConfidentialTransferAccount;case b.NonTransferable:return b.NonTransferableAccount;case b.TransferHook:return b.TransferHookAccount;case b.TransferFeeAmount:case b.ConfidentialTransferAccount:case b.CpiGuard:case b.DefaultAccountState:case b.ImmutableOwner:case b.MemoTransfer:case b.MintCloseAuthority:case b.MetadataPointer:case b.Uninitialized:case b.InterestBearingConfig:case b.PermanentDelegate:case b.NonTransferableAccount:case b.TransferHookAccount:return b.Uninitialized}}function w(e,n){if(0===e.length)return n;{const n=r.ACCOUNT_SIZE+s.ACCOUNT_TYPE_SIZE+e.filter(((t,n)=>n===e.indexOf(t))).map((e=>I(e)+t.TYPE_SIZE+t.LENGTH_SIZE)).reduce(((e,t)=>e+t));return n===o.MULTISIG_SIZE?n+t.TYPE_SIZE:n}}function A(e){return w(e,r.ACCOUNT_SIZE)}function v(e){const n=[];let r=0;for(;r<e.length;){const i=e.readUInt16LE(r);n.push(i);const o=e.readUInt16LE(r+t.TYPE_SIZE);r+=t.TYPE_SIZE+t.LENGTH_SIZE+o}return n}!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.TransferFeeConfig=1]="TransferFeeConfig",e[e.TransferFeeAmount=2]="TransferFeeAmount",e[e.MintCloseAuthority=3]="MintCloseAuthority",e[e.ConfidentialTransferMint=4]="ConfidentialTransferMint",e[e.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",e[e.DefaultAccountState=6]="DefaultAccountState",e[e.ImmutableOwner=7]="ImmutableOwner",e[e.MemoTransfer=8]="MemoTransfer",e[e.NonTransferable=9]="NonTransferable",e[e.InterestBearingConfig=10]="InterestBearingConfig",e[e.CpiGuard=11]="CpiGuard",e[e.PermanentDelegate=12]="PermanentDelegate",e[e.NonTransferableAccount=13]="NonTransferableAccount",e[e.TransferHook=14]="TransferHook",e[e.TransferHookAccount=15]="TransferHookAccount",e[e.MetadataPointer=18]="MetadataPointer"}(b||(t.ExtensionType=b={})),t.TYPE_SIZE=2,t.LENGTH_SIZE=2,t.getTypeLen=I,t.isMintExtension=function(e){switch(e){case b.TransferFeeConfig:case b.MintCloseAuthority:case b.ConfidentialTransferMint:case b.DefaultAccountState:case b.NonTransferable:case b.InterestBearingConfig:case b.PermanentDelegate:case b.TransferHook:case b.MetadataPointer:return!0;case b.Uninitialized:case b.TransferFeeAmount:case b.ConfidentialTransferAccount:case b.ImmutableOwner:case b.MemoTransfer:case b.CpiGuard:case b.NonTransferableAccount:case b.TransferHookAccount:return!1;default:throw Error(`Unknown extension type: ${e}`)}},t.isAccountExtension=function(e){switch(e){case b.TransferFeeAmount:case b.ConfidentialTransferAccount:case b.ImmutableOwner:case b.MemoTransfer:case b.CpiGuard:case b.NonTransferableAccount:case b.TransferHookAccount:return!0;case b.Uninitialized:case b.TransferFeeConfig:case b.MintCloseAuthority:case b.ConfidentialTransferMint:case b.DefaultAccountState:case b.NonTransferable:case b.InterestBearingConfig:case b.PermanentDelegate:case b.TransferHook:case b.MetadataPointer:return!1;default:throw Error(`Unknown extension type: ${e}`)}},t.getAccountTypeOfMintType=k,t.getMintLen=function(e){return w(e,i.MINT_SIZE)},t.getAccountLen=A,t.getExtensionData=function(e,n){let r=0;for(;r+t.TYPE_SIZE+t.LENGTH_SIZE<=n.length;){const i=n.readUInt16LE(r),o=n.readUInt16LE(r+t.TYPE_SIZE),s=r+t.TYPE_SIZE+t.LENGTH_SIZE;if(i==e)return n.slice(s,s+o);r=s+o}return null},t.getExtensionTypes=v,t.getAccountLenForMint=function(e){return A(v(e.tlvData).map(k))}},144483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImmutableOwner=t.IMMUTABLE_OWNER_SIZE=t.ImmutableOwnerLayout=void 0;const r=n(996346),i=n(429134);t.ImmutableOwnerLayout=(0,r.struct)([]),t.IMMUTABLE_OWNER_SIZE=t.ImmutableOwnerLayout.span,t.getImmutableOwner=function(e){const n=(0,i.getExtensionData)(i.ExtensionType.ImmutableOwner,e.tlvData);return null!==n?t.ImmutableOwnerLayout.decode(n):null}},836993:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(753400),t),i(n(969493),t),i(n(800994),t),i(n(429134),t),i(n(144483),t),i(n(572319),t),i(n(11379),t),i(n(732755),t),i(n(897847),t),i(n(934899),t),i(n(842177),t),i(n(176024),t),i(n(253924),t)},860849:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateRateInterestBearingMint=t.createInterestBearingMint=void 0;const i=n(627158),o=n(721828),s=n(881034),a=n(601186),c=n(429134),u=n(444248);t.createInterestBearingMint=function(e,t,n,o,d,l,f,h=i.Keypair.generate(),p,g=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(0,c.getMintLen)([c.ExtensionType.InterestBearingConfig]),s=yield e.getMinimumBalanceForRentExemption(r),y=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:h.publicKey,space:r,lamports:s,programId:g}),(0,u.createInitializeInterestBearingMintInstruction)(h.publicKey,d,l,g),(0,a.createInitializeMintInstruction)(h.publicKey,f,n,o,g));return yield(0,i.sendAndConfirmTransaction)(e,y,[t,h],p),h.publicKey}))},t.updateRateInterestBearingMint=function(e,t,n,a,c,d=[],l,f=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(a,d),h=(new i.Transaction).add((0,u.createUpdateRateInterestBearingMintInstruction)(n,r,c,s,f));return yield(0,i.sendAndConfirmTransaction)(e,h,[t,a,...s],l)}))}},572319:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(860849),t),i(n(444248),t),i(n(832784),t)},444248:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createUpdateRateInterestBearingMintInstruction=t.createInitializeInterestBearingMintInstruction=t.interestBearingMintUpdateRateInstructionData=t.interestBearingMintInitializeInstructionData=t.InterestBearingMintInstruction=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(796272),u=n(519013);var d;!function(e){e[e.Initialize=0]="Initialize",e[e.UpdateRate=1]="UpdateRate"}(d||(t.InterestBearingMintInstruction=d={})),t.interestBearingMintInitializeInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("interestBearingMintInstruction"),(0,o.publicKey)("rateAuthority"),(0,i.s16)("rate")]),t.interestBearingMintUpdateRateInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("interestBearingMintInstruction"),(0,i.s16)("rate")]),t.createInitializeInterestBearingMintInstruction=function(e,n,i,o=a.TOKEN_2022_PROGRAM_ID){const c=[{pubkey:e,isSigner:!1,isWritable:!0}],l=r.alloc(t.interestBearingMintInitializeInstructionData.span);return t.interestBearingMintInitializeInstructionData.encode({instruction:u.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:d.Initialize,rateAuthority:n,rate:i},l),new s.TransactionInstruction({keys:c,programId:o,data:l})},t.createUpdateRateInterestBearingMintInstruction=function(e,n,i,o=[],l=a.TOKEN_2022_PROGRAM_ID){const f=(0,c.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!o.length,isWritable:!1}],n,o),h=r.alloc(t.interestBearingMintUpdateRateInstructionData.span);return t.interestBearingMintUpdateRateInstructionData.encode({instruction:u.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:d.UpdateRate,rate:i},h),new s.TransactionInstruction({keys:f,programId:l,data:h})}},832784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterestBearingMintConfigState=t.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=t.InterestBearingMintConfigStateLayout=void 0;const r=n(996346),i=n(528813),o=n(429134);t.InterestBearingMintConfigStateLayout=(0,r.struct)([(0,i.publicKey)("rateAuthority"),(0,r.ns64)("initializationTimestamp"),(0,r.s16)("preUpdateAverageRate"),(0,r.ns64)("lastUpdateTimestamp"),(0,r.s16)("currentRate")]),t.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=t.InterestBearingMintConfigStateLayout.span,t.getInterestBearingMintConfigState=function(e){const n=(0,o.getExtensionData)(o.ExtensionType.InterestBearingConfig,e.tlvData);return null!==n?t.InterestBearingMintConfigStateLayout.decode(n):null}},627931:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.disableRequiredMemoTransfers=t.enableRequiredMemoTransfers=void 0;const i=n(627158),o=n(721828),s=n(881034),a=n(287177);t.enableRequiredMemoTransfers=function(e,t,n,c,u=[],d,l=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(c,u),f=(new i.Transaction).add((0,a.createEnableRequiredMemoTransfersInstruction)(n,r,s,l));return yield(0,i.sendAndConfirmTransaction)(e,f,[t,...s],d)}))},t.disableRequiredMemoTransfers=function(e,t,n,c,u=[],d,l=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(c,u),f=(new i.Transaction).add((0,a.createDisableRequiredMemoTransfersInstruction)(n,r,s,l));return yield(0,i.sendAndConfirmTransaction)(e,f,[t,...s],d)}))}},11379:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(627931),t),i(n(287177),t),i(n(504135),t)},287177:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createDisableRequiredMemoTransfersInstruction=t.createEnableRequiredMemoTransfersInstruction=t.memoTransferInstructionData=t.MemoTransferInstruction=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(796272),u=n(519013);var d;function l(e,n,i,d,l){if(!(0,s.programSupportsExtensions)(l))throw new a.TokenUnsupportedInstructionError;const f=(0,c.addSigners)([{pubkey:n,isSigner:!1,isWritable:!0}],i,d),h=r.alloc(t.memoTransferInstructionData.span);return t.memoTransferInstructionData.encode({instruction:u.TokenInstruction.MemoTransferExtension,memoTransferInstruction:e},h),new o.TransactionInstruction({keys:f,programId:l,data:h})}!function(e){e[e.Enable=0]="Enable",e[e.Disable=1]="Disable"}(d||(t.MemoTransferInstruction=d={})),t.memoTransferInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("memoTransferInstruction")]),t.createEnableRequiredMemoTransfersInstruction=function(e,t,n=[],r=s.TOKEN_2022_PROGRAM_ID){return l(d.Enable,e,t,n,r)},t.createDisableRequiredMemoTransfersInstruction=function(e,t,n=[],r=s.TOKEN_2022_PROGRAM_ID){return l(d.Disable,e,t,n,r)}},504135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMemoTransfer=t.MEMO_TRANSFER_SIZE=t.MemoTransferLayout=void 0;const r=n(996346),i=n(528813),o=n(429134);t.MemoTransferLayout=(0,r.struct)([(0,i.bool)("requireIncomingTransferMemos")]),t.MEMO_TRANSFER_SIZE=t.MemoTransferLayout.span,t.getMemoTransfer=function(e){const n=(0,o.getExtensionData)(o.ExtensionType.MemoTransfer,e.tlvData);return null!==n?t.MemoTransferLayout.decode(n):null}},732755:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(855128),t),i(n(149473),t)},855128:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createUpdateMetadataPointerInstruction=t.updateMetadataPointerData=t.createInitializeMetadataPointerInstruction=t.initializeMetadataPointerData=t.MetadataPointerInstruction=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(519013),d=n(796272);var l;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(l||(t.MetadataPointerInstruction=l={})),t.initializeMetadataPointerData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("metadataPointerInstruction"),(0,o.publicKey)("authority"),(0,o.publicKey)("metadataAddress")]),t.createInitializeMetadataPointerInstruction=function(e,n,i,o){if(!(0,a.programSupportsExtensions)(o))throw new c.TokenUnsupportedInstructionError;const d=[{pubkey:e,isSigner:!1,isWritable:!0}],f=r.alloc(t.initializeMetadataPointerData.span);return t.initializeMetadataPointerData.encode({instruction:u.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:l.Initialize,authority:null!=n?n:s.PublicKey.default,metadataAddress:null!=i?i:s.PublicKey.default},f),new s.TransactionInstruction({keys:d,programId:o,data:f})},t.updateMetadataPointerData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("metadataPointerInstruction"),(0,o.publicKey)("metadataAddress")]),t.createUpdateMetadataPointerInstruction=function(e,n,i,o=[],f=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(f))throw new c.TokenUnsupportedInstructionError;const h=(0,d.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,o),p=r.alloc(t.updateMetadataPointerData.span);return t.updateMetadataPointerData.encode({instruction:u.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:l.Update,metadataAddress:null!=i?i:s.PublicKey.default},p),new s.TransactionInstruction({keys:h,programId:f,data:p})}},149473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataPointerState=t.METADATA_POINTER_SIZE=t.MetadataPointerLayout=void 0;const r=n(996346),i=n(528813),o=n(627158),s=n(429134);t.MetadataPointerLayout=(0,r.struct)([(0,i.publicKey)("authority"),(0,i.publicKey)("metadataAddress")]),t.METADATA_POINTER_SIZE=t.MetadataPointerLayout.span,t.getMetadataPointerState=function(e){const n=(0,s.getExtensionData)(s.ExtensionType.MetadataPointer,e.tlvData);if(null!==n){const{authority:e,metadataAddress:r}=t.MetadataPointerLayout.decode(n);return{authority:e.equals(o.PublicKey.default)?null:e,metadataAddress:r.equals(o.PublicKey.default)?null:r}}return null}},897847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMintCloseAuthority=t.MINT_CLOSE_AUTHORITY_SIZE=t.MintCloseAuthorityLayout=void 0;const r=n(996346),i=n(528813),o=n(429134);t.MintCloseAuthorityLayout=(0,r.struct)([(0,i.publicKey)("closeAuthority")]),t.MINT_CLOSE_AUTHORITY_SIZE=t.MintCloseAuthorityLayout.span,t.getMintCloseAuthority=function(e){const n=(0,o.getExtensionData)(o.ExtensionType.MintCloseAuthority,e.tlvData);return null!==n?t.MintCloseAuthorityLayout.decode(n):null}},934899:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNonTransferableAccount=t.getNonTransferable=t.NON_TRANSFERABLE_ACCOUNT_SIZE=t.NON_TRANSFERABLE_SIZE=t.NonTransferableLayout=void 0;const r=n(996346),i=n(429134);t.NonTransferableLayout=(0,r.struct)([]),t.NON_TRANSFERABLE_SIZE=t.NonTransferableLayout.span,t.NON_TRANSFERABLE_ACCOUNT_SIZE=t.NonTransferableLayout.span,t.getNonTransferable=function(e){const n=(0,i.getExtensionData)(i.ExtensionType.NonTransferable,e.tlvData);return null!==n?t.NonTransferableLayout.decode(n):null},t.getNonTransferableAccount=function(e){const n=(0,i.getExtensionData)(i.ExtensionType.NonTransferableAccount,e.tlvData);return null!==n?t.NonTransferableLayout.decode(n):null}},176024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPermanentDelegate=t.PERMANENT_DELEGATE_SIZE=t.PermanentDelegateLayout=void 0;const r=n(996346),i=n(528813),o=n(429134);t.PermanentDelegateLayout=(0,r.struct)([(0,i.publicKey)("delegate")]),t.PERMANENT_DELEGATE_SIZE=t.PermanentDelegateLayout.span,t.getPermanentDelegate=function(e){const n=(0,o.getExtensionData)(o.ExtensionType.PermanentDelegate,e.tlvData);return null!==n?t.PermanentDelegateLayout.decode(n):null}},600075:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.harvestWithheldTokensToMint=t.withdrawWithheldTokensFromAccounts=t.withdrawWithheldTokensFromMint=t.transferCheckedWithFee=void 0;const i=n(627158),o=n(721828),s=n(881034),a=n(36133);t.transferCheckedWithFee=function(e,t,n,c,u,d,l,f,h,p=[],g,y=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(d,p),m=(new i.Transaction).add((0,a.createTransferCheckedWithFeeInstruction)(n,c,u,r,l,f,h,p,y));return yield(0,i.sendAndConfirmTransaction)(e,m,[t,...s],g)}))},t.withdrawWithheldTokensFromMint=function(e,t,n,c,u,d=[],l,f=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(u,d),h=(new i.Transaction).add((0,a.createWithdrawWithheldTokensFromMintInstruction)(n,c,r,s,f));return yield(0,i.sendAndConfirmTransaction)(e,h,[t,...s],l)}))},t.withdrawWithheldTokensFromAccounts=function(e,t,n,c,u,d,l,f,h=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(u,d),p=(new i.Transaction).add((0,a.createWithdrawWithheldTokensFromAccountsInstruction)(n,c,r,s,l,h));return yield(0,i.sendAndConfirmTransaction)(e,p,[t,...s],f)}))},t.harvestWithheldTokensToMint=function(e,t,n,o,c,u=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(new i.Transaction).add((0,a.createHarvestWithheldTokensToMintInstruction)(n,o,u));return yield(0,i.sendAndConfirmTransaction)(e,r,[t],c)}))}},842177:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(600075),t),i(n(36133),t),i(n(14522),t)},36133:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHarvestWithheldTokensToMintInstructionUnchecked=t.decodeHarvestWithheldTokensToMintInstruction=t.createHarvestWithheldTokensToMintInstruction=t.harvestWithheldTokensToMintInstructionData=t.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=t.decodeWithdrawWithheldTokensFromAccountsInstruction=t.createWithdrawWithheldTokensFromAccountsInstruction=t.withdrawWithheldTokensFromAccountsInstructionData=t.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=t.decodeWithdrawWithheldTokensFromMintInstruction=t.createWithdrawWithheldTokensFromMintInstruction=t.withdrawWithheldTokensFromMintInstructionData=t.decodeTransferCheckedWithFeeInstructionUnchecked=t.decodeTransferCheckedWithFeeInstruction=t.createTransferCheckedWithFeeInstruction=t.transferCheckedWithFeeInstructionData=t.decodeInitializeTransferFeeConfigInstructionUnchecked=t.decodeInitializeTransferFeeConfigInstruction=t.createInitializeTransferFeeConfigInstruction=t.initializeTransferFeeConfigInstructionData=t.TransferFeeInstruction=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);var l;function f({programId:e,keys:[n],data:r}){const{instruction:i,transferFeeInstruction:o,transferFeeConfigAuthorityOption:s,transferFeeConfigAuthority:a,withdrawWithheldAuthorityOption:c,withdrawWithheldAuthority:u,transferFeeBasisPoints:d,maximumFee:l}=t.initializeTransferFeeConfigInstructionData.decode(r);return{programId:e,keys:{mint:n},data:{instruction:i,transferFeeInstruction:o,transferFeeConfigAuthority:s?a:null,withdrawWithheldAuthority:c?u:null,transferFeeBasisPoints:d,maximumFee:l}}}function h({programId:e,keys:[n,r,i,o,...s],data:a}){const{instruction:c,transferFeeInstruction:u,amount:d,decimals:l,fee:f}=t.transferCheckedWithFeeInstructionData.decode(a);return{programId:e,keys:{source:n,mint:r,destination:i,authority:o,signers:s},data:{instruction:c,transferFeeInstruction:u,amount:d,decimals:l,fee:f}}}function p({programId:e,keys:[n,r,i,...o],data:s}){const{instruction:a,transferFeeInstruction:c}=t.withdrawWithheldTokensFromMintInstructionData.decode(s);return{programId:e,keys:{mint:n,destination:r,authority:i,signers:o},data:{instruction:a,transferFeeInstruction:c}}}function g({programId:e,keys:n,data:r}){const{instruction:i,transferFeeInstruction:o,numTokenAccounts:s}=t.withdrawWithheldTokensFromAccountsInstructionData.decode(r),[a,c,u,d,l]=[n[0],n[1],n[2],n.slice(3,3+s),n.slice(-1*s)];return{programId:e,keys:{mint:a,destination:c,authority:u,signers:d,sources:l},data:{instruction:i,transferFeeInstruction:o,numTokenAccounts:s}}}function y({programId:e,keys:[n,...r],data:i}){const{instruction:o,transferFeeInstruction:s}=t.harvestWithheldTokensToMintInstructionData.decode(i);return{programId:e,keys:{mint:n,sources:r},data:{instruction:o,transferFeeInstruction:s}}}!function(e){e[e.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",e[e.TransferCheckedWithFee=1]="TransferCheckedWithFee",e[e.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",e[e.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",e[e.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",e[e.SetTransferFee=5]="SetTransferFee"}(l||(t.TransferFeeInstruction=l={})),t.initializeTransferFeeConfigInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction"),(0,i.u8)("transferFeeConfigAuthorityOption"),(0,o.publicKey)("transferFeeConfigAuthority"),(0,i.u8)("withdrawWithheldAuthorityOption"),(0,o.publicKey)("withdrawWithheldAuthority"),(0,i.u16)("transferFeeBasisPoints"),(0,o.u64)("maximumFee")]),t.createInitializeTransferFeeConfigInstruction=function(e,n,i,o,u,f=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(f))throw new c.TokenUnsupportedInstructionError;const h=[{pubkey:e,isSigner:!1,isWritable:!0}],p=r.alloc(t.initializeTransferFeeConfigInstructionData.span);return t.initializeTransferFeeConfigInstructionData.encode({instruction:d.TokenInstruction.TransferFeeExtension,transferFeeInstruction:l.InitializeTransferFeeConfig,transferFeeConfigAuthorityOption:n?1:0,transferFeeConfigAuthority:n||new s.PublicKey(0),withdrawWithheldAuthorityOption:i?1:0,withdrawWithheldAuthority:i||new s.PublicKey(0),transferFeeBasisPoints:o,maximumFee:u},p),new s.TransactionInstruction({keys:h,programId:f,data:p})},t.decodeInitializeTransferFeeConfigInstruction=function(e,n){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializeTransferFeeConfigInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=f(e);if(i.instruction!==d.TokenInstruction.TransferFeeExtension||i.transferFeeInstruction!==l.InitializeTransferFeeConfig)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},t.decodeInitializeTransferFeeConfigInstructionUnchecked=f,t.transferCheckedWithFeeInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction"),(0,o.u64)("amount"),(0,i.u8)("decimals"),(0,o.u64)("fee")]),t.createTransferCheckedWithFeeInstruction=function(e,n,i,o,f,h,p,g=[],y=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(y))throw new c.TokenUnsupportedInstructionError;const m=r.alloc(t.transferCheckedWithFeeInstructionData.span);t.transferCheckedWithFeeInstructionData.encode({instruction:d.TokenInstruction.TransferFeeExtension,transferFeeInstruction:l.TransferCheckedWithFee,amount:f,decimals:h,fee:p},m);const b=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}],o,g);return new s.TransactionInstruction({keys:b,programId:y,data:m})},t.decodeTransferCheckedWithFeeInstruction=function(e,n){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.transferCheckedWithFeeInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{source:r,mint:i,destination:o,authority:s,signers:a},data:u}=h(e);if(u.instruction!==d.TokenInstruction.TransferFeeExtension||u.transferFeeInstruction!==l.TransferCheckedWithFee)throw new c.TokenInvalidInstructionTypeError;if(!i)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:r,mint:i,destination:o,authority:s,signers:a||null},data:u}},t.decodeTransferCheckedWithFeeInstructionUnchecked=h,t.withdrawWithheldTokensFromMintInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction")]),t.createWithdrawWithheldTokensFromMintInstruction=function(e,n,i,o=[],f=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(f))throw new c.TokenUnsupportedInstructionError;const h=r.alloc(t.withdrawWithheldTokensFromMintInstructionData.span);t.withdrawWithheldTokensFromMintInstructionData.encode({instruction:d.TokenInstruction.TransferFeeExtension,transferFeeInstruction:l.WithdrawWithheldTokensFromMint},h);const p=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,o);return new s.TransactionInstruction({keys:p,programId:f,data:h})},t.decodeWithdrawWithheldTokensFromMintInstruction=function(e,n){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.withdrawWithheldTokensFromMintInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,destination:i,authority:o,signers:s},data:a}=p(e);if(a.instruction!==d.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==l.WithdrawWithheldTokensFromMint)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,destination:i,authority:o,signers:s||null},data:a}},t.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=p,t.withdrawWithheldTokensFromAccountsInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction"),(0,i.u8)("numTokenAccounts")]),t.createWithdrawWithheldTokensFromAccountsInstruction=function(e,n,i,o,f,h=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(h))throw new c.TokenUnsupportedInstructionError;const p=r.alloc(t.withdrawWithheldTokensFromAccountsInstructionData.span);t.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:d.TokenInstruction.TransferFeeExtension,transferFeeInstruction:l.WithdrawWithheldTokensFromAccounts,numTokenAccounts:f.length},p);const g=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,o);for(const e of f)g.push({pubkey:e,isSigner:!1,isWritable:!0});return new s.TransactionInstruction({keys:g,programId:h,data:p})},t.decodeWithdrawWithheldTokensFromAccountsInstruction=function(e,n){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.withdrawWithheldTokensFromAccountsInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,destination:i,authority:o,signers:s,sources:a},data:u}=g(e);if(u.instruction!==d.TokenInstruction.TransferFeeExtension||u.transferFeeInstruction!==l.WithdrawWithheldTokensFromAccounts)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,destination:i,authority:o,signers:s||null,sources:a||null},data:u}},t.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=g,t.harvestWithheldTokensToMintInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction")]),t.createHarvestWithheldTokensToMintInstruction=function(e,n,i=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(i))throw new c.TokenUnsupportedInstructionError;const o=r.alloc(t.harvestWithheldTokensToMintInstructionData.span);t.harvestWithheldTokensToMintInstructionData.encode({instruction:d.TokenInstruction.TransferFeeExtension,transferFeeInstruction:l.HarvestWithheldTokensToMint},o);const u=[];u.push({pubkey:e,isSigner:!1,isWritable:!0});for(const e of n)u.push({pubkey:e,isSigner:!1,isWritable:!0});return new s.TransactionInstruction({keys:u,programId:i,data:o})},t.decodeHarvestWithheldTokensToMintInstruction=function(e,n){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.harvestWithheldTokensToMintInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,sources:i},data:o}=y(e);if(o.instruction!==d.TokenInstruction.TransferFeeExtension||o.transferFeeInstruction!==l.HarvestWithheldTokensToMint)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,sources:i},data:o}},t.decodeHarvestWithheldTokensToMintInstructionUnchecked=y},14522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferFeeAmount=t.getTransferFeeConfig=t.TRANSFER_FEE_AMOUNT_SIZE=t.TransferFeeAmountLayout=t.calculateEpochFee=t.getEpochFee=t.TRANSFER_FEE_CONFIG_SIZE=t.TransferFeeConfigLayout=t.calculateFee=t.transferFeeLayout=t.ONE_IN_BASIS_POINTS=t.MAX_FEE_BASIS_POINTS=void 0;const r=n(996346),i=n(528813),o=n(429134);function s(e){return(0,r.struct)([(0,i.u64)("epoch"),(0,i.u64)("maximumFee"),(0,r.u16)("transferFeeBasisPoints")],e)}function a(e,n){const r=e.transferFeeBasisPoints;if(0===r||n===BigInt(0))return BigInt(0);{const i=(n*BigInt(r)+t.ONE_IN_BASIS_POINTS-BigInt(1))/t.ONE_IN_BASIS_POINTS,o=i>e.maximumFee?e.maximumFee:i;return BigInt(o)}}function c(e,t){return t>=e.newerTransferFee.epoch?e.newerTransferFee:e.olderTransferFee}t.MAX_FEE_BASIS_POINTS=1e4,t.ONE_IN_BASIS_POINTS=BigInt(t.MAX_FEE_BASIS_POINTS),t.transferFeeLayout=s,t.calculateFee=a,t.TransferFeeConfigLayout=(0,r.struct)([(0,i.publicKey)("transferFeeConfigAuthority"),(0,i.publicKey)("withdrawWithheldAuthority"),(0,i.u64)("withheldAmount"),s("olderTransferFee"),s("newerTransferFee")]),t.TRANSFER_FEE_CONFIG_SIZE=t.TransferFeeConfigLayout.span,t.getEpochFee=c,t.calculateEpochFee=function(e,t,n){return a(c(e,t),n)},t.TransferFeeAmountLayout=(0,r.struct)([(0,i.u64)("withheldAmount")]),t.TRANSFER_FEE_AMOUNT_SIZE=t.TransferFeeAmountLayout.span,t.getTransferFeeConfig=function(e){const n=(0,o.getExtensionData)(o.ExtensionType.TransferFeeConfig,e.tlvData);return null!==n?t.TransferFeeConfigLayout.decode(n):null},t.getTransferFeeAmount=function(e){const n=(0,o.getExtensionData)(o.ExtensionType.TransferFeeAmount,e.tlvData);return null!==n?t.TransferFeeAmountLayout.decode(n):null}},64773:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.transferCheckedWithFeeAndTransferHook=t.transferCheckedWithTransferHook=t.updateTransferHook=t.initializeTransferHook=void 0;const i=n(627158),o=n(721828),s=n(881034),a=n(102499);t.initializeTransferHook=function(e,t,n,o,c,u,d=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(new i.Transaction).add((0,a.createInitializeTransferHookInstruction)(n,o,c,d));return yield(0,i.sendAndConfirmTransaction)(e,r,[t],u)}))},t.updateTransferHook=function(e,t,n,c,u,d=[],l,f=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(u,d),h=(new i.Transaction).add((0,a.createUpdateTransferHookInstruction)(n,r,c,s,f));return yield(0,i.sendAndConfirmTransaction)(e,h,[t,...s],l)}))},t.transferCheckedWithTransferHook=function(e,t,n,c,u,d,l,f,h=[],p,g=s.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(d,h),y=(new i.Transaction).add(yield(0,a.createTransferCheckedWithTransferHookInstruction)(e,n,c,u,r,l,f,s,null==p?void 0:p.commitment,g));return yield(0,i.sendAndConfirmTransaction)(e,y,[t,...s],p)}))},t.transferCheckedWithFeeAndTransferHook=function(e,t,n,c,u,d,l,f,h,p=[],g,y=s.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(d,p),m=(new i.Transaction).add(yield(0,a.createTransferCheckedWithFeeAndTransferHookInstruction)(e,n,c,u,r,l,f,h,s,null==g?void 0:g.commitment,y));return yield(0,i.sendAndConfirmTransaction)(e,m,[t,...s],g)}))}},253924:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(64773),t),i(n(102499),t),i(n(651594),t),i(n(536297),t)},102499:function(e,t,n){"use strict";var r=n(348834).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createTransferCheckedWithFeeAndTransferHookInstruction=t.createTransferCheckedWithTransferHookInstruction=t.addExtraAccountsToInstruction=t.createUpdateTransferHookInstruction=t.updateTransferHookInstructionData=t.createInitializeTransferHookInstruction=t.initializeTransferHookInstructionData=t.TransferHookInstruction=void 0;const o=n(996346),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013),l=n(528813),f=n(800860),h=n(36133),p=n(43868),g=n(536297);var y;function m(e,t){const n=t.filter((t=>t.pubkey===e.pubkey)).reduce(((e,t)=>e?{isSigner:e.isSigner||t.isSigner,isWritable:e.isWritable||t.isWritable}:{isSigner:t.isSigner,isWritable:t.isWritable}),void 0);if(n){const{isSigner:t,isWritable:r}=n;t||t===e.isSigner||(e.isSigner=!1),r||r===e.isWritable||(e.isWritable=!1)}return e}function b(e,t,n,r,o=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){if(!(0,a.programSupportsExtensions)(o))throw new c.TokenUnsupportedInstructionError;const i=yield(0,p.getMint)(e,n,r,o),u=(0,g.getTransferHook)(i);if(null==u)return t;const d=(0,g.getExtraAccountMetaAddress)(n,u.programId),l=yield e.getAccountInfo(d,r);if(null==l)return t;const f=(0,g.getExtraAccountMetas)(l),h=t.keys;for(const n of f){const r=m(yield(0,g.resolveExtraAccountMeta)(e,n,h,t.data,u.programId),h);h.push(r)}return h.push({pubkey:u.programId,isSigner:!1,isWritable:!1}),h.push({pubkey:d,isSigner:!1,isWritable:!1}),new s.TransactionInstruction({keys:h,programId:o,data:t.data})}))}!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(y||(t.TransferHookInstruction=y={})),t.initializeTransferHookInstructionData=(0,o.struct)([(0,o.u8)("instruction"),(0,o.u8)("transferHookInstruction"),(0,l.publicKey)("authority"),(0,l.publicKey)("transferHookProgramId")]),t.createInitializeTransferHookInstruction=function(e,n,i,o){if(!(0,a.programSupportsExtensions)(o))throw new c.TokenUnsupportedInstructionError;const u=[{pubkey:e,isSigner:!1,isWritable:!0}],l=r.alloc(t.initializeTransferHookInstructionData.span);return t.initializeTransferHookInstructionData.encode({instruction:d.TokenInstruction.TransferHookExtension,transferHookInstruction:y.Initialize,authority:n,transferHookProgramId:i},l),new s.TransactionInstruction({keys:u,programId:o,data:l})},t.updateTransferHookInstructionData=(0,o.struct)([(0,o.u8)("instruction"),(0,o.u8)("transferHookInstruction"),(0,l.publicKey)("transferHookProgramId")]),t.createUpdateTransferHookInstruction=function(e,n,i,o=[],l=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(l))throw new c.TokenUnsupportedInstructionError;const f=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,o),h=r.alloc(t.updateTransferHookInstructionData.span);return t.updateTransferHookInstructionData.encode({instruction:d.TokenInstruction.TransferHookExtension,transferHookInstruction:y.Update,transferHookProgramId:i},h),new s.TransactionInstruction({keys:f,programId:l,data:h})},t.addExtraAccountsToInstruction=b,t.createTransferCheckedWithTransferHookInstruction=function(e,t,n,r,o,s,c,u=[],d,l=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,f.createTransferCheckedInstruction)(t,n,r,o,s,c,u,l);return yield b(e,i,n,d,l)}))},t.createTransferCheckedWithFeeAndTransferHookInstruction=function(e,t,n,r,o,s,c,u,d=[],l,f=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,h.createTransferCheckedWithFeeInstruction)(t,n,r,o,s,c,u,d,f);return yield b(e,i,n,l,f)}))}},651594:function(e,t,n){"use strict";var r=n(348834).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.unpackSeeds=void 0;const o=n(443382);function s(e,t,n,s){return i(this,void 0,void 0,(function*(){const[a,...c]=e,u=new Uint8Array(c);switch(a){case 0:return null;case 1:return function(e){if(e.length<1)throw new o.TokenTransferHookInvalidSeed;const[t,...n]=e;if(n.length<t)throw new o.TokenTransferHookInvalidSeed;return{data:r.from(n.slice(0,t)),packedLength:2+t}}(u);case 2:return function(e,t){if(e.length<2)throw new o.TokenTransferHookInvalidSeed;const[n,r]=e;if(t.length<r+n)throw new o.TokenTransferHookInvalidSeed;return{data:t.subarray(n,n+r),packedLength:3}}(u,n);case 3:return function(e,t){if(e.length<1)throw new o.TokenTransferHookInvalidSeed;const[n]=e;if(t.length<=n)throw new o.TokenTransferHookInvalidSeed;return{data:t[n].pubkey.toBuffer(),packedLength:2}}(u,t);case 4:return function(e,t,n){return i(this,void 0,void 0,(function*(){if(e.length<3)throw new o.TokenTransferHookInvalidSeed;const[r,i,s]=e;if(t.length<=r)throw new o.TokenTransferHookInvalidSeed;const a=yield n.getAccountInfo(t[r].pubkey);if(null==a)throw new o.TokenTransferHookAccountDataNotFound;if(a.data.length<i+s)throw new o.TokenTransferHookInvalidSeed;return{data:a.data.subarray(i,i+s),packedLength:4}}))}(u,t,s);default:throw new o.TokenTransferHookInvalidSeed}}))}t.unpackSeeds=function(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=[];let o=0;for(;o<32;){const a=yield s(e.slice(o),t,n,r);if(null==a)break;i.push(a.data),o+=a.packedLength}return i}))}},536297:function(e,t,n){"use strict";var r=n(348834).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveExtraAccountMeta=t.getExtraAccountMetas=t.ExtraAccountMetaAccountDataLayout=t.ExtraAccountMetaListLayout=t.ExtraAccountMetaLayout=t.getExtraAccountMetaAddress=t.getTransferHookAccount=t.TRANSFER_HOOK_ACCOUNT_SIZE=t.TransferHookAccountLayout=t.getTransferHook=t.TRANSFER_HOOK_SIZE=t.TransferHookLayout=void 0;const o=n(996346),s=n(429134),a=n(627158),c=n(528813),u=n(443382),d=n(651594);t.TransferHookLayout=(0,o.struct)([(0,c.publicKey)("authority"),(0,c.publicKey)("programId")]),t.TRANSFER_HOOK_SIZE=t.TransferHookLayout.span,t.getTransferHook=function(e){const n=(0,s.getExtensionData)(s.ExtensionType.TransferHook,e.tlvData);return null!==n?t.TransferHookLayout.decode(n):null},t.TransferHookAccountLayout=(0,o.struct)([(0,c.bool)("transferring")]),t.TRANSFER_HOOK_ACCOUNT_SIZE=t.TransferHookAccountLayout.span,t.getTransferHookAccount=function(e){const n=(0,s.getExtensionData)(s.ExtensionType.TransferHookAccount,e.tlvData);return null!==n?t.TransferHookAccountLayout.decode(n):null},t.getExtraAccountMetaAddress=function(e,t){const n=[r.from("extra-account-metas"),e.toBuffer()];return a.PublicKey.findProgramAddressSync(n,t)[0]},t.ExtraAccountMetaLayout=(0,o.struct)([(0,o.u8)("discriminator"),(0,o.blob)(32,"addressConfig"),(0,c.bool)("isSigner"),(0,c.bool)("isWritable")]),t.ExtraAccountMetaListLayout=(0,o.struct)([(0,o.u32)("count"),(0,o.seq)(t.ExtraAccountMetaLayout,(0,o.greedy)(t.ExtraAccountMetaLayout.span),"extraAccounts")]),t.ExtraAccountMetaAccountDataLayout=(0,o.struct)([(0,c.u64)("instructionDiscriminator"),(0,o.u32)("length"),t.ExtraAccountMetaListLayout.replicate("extraAccountsList")]),t.getExtraAccountMetas=function(e){const n=t.ExtraAccountMetaAccountDataLayout.decode(e.data).extraAccountsList;return n.extraAccounts.slice(0,n.count)},t.resolveExtraAccountMeta=function(e,t,n,r,o){return i(this,void 0,void 0,(function*(){if(0===t.discriminator)return{pubkey:new a.PublicKey(t.addressConfig),isSigner:t.isSigner,isWritable:t.isWritable};let i=a.PublicKey.default;if(1===t.discriminator)i=o;else{const e=t.discriminator-128;if(n.length<=e)throw new u.TokenTransferHookAccountNotFound;i=n[e].pubkey}const s=yield(0,d.unpackSeeds)(t.addressConfig,n,r,e);return{pubkey:a.PublicKey.findProgramAddressSync(s,i)[0],isSigner:t.isSigner,isWritable:t.isWritable}}))}},260483:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(340620),t),i(n(881034),t),i(n(443382),t),i(n(836993),t),i(n(266112),t),i(n(710560),t)},78614:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeAmountToUiAmountInstructionUnchecked=t.decodeAmountToUiAmountInstruction=t.createAmountToUiAmountInstruction=t.amountToUiAmountInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(519013);function d({programId:e,keys:[n],data:r}){return{programId:e,keys:{mint:n},data:t.amountToUiAmountInstructionData.decode(r)}}t.amountToUiAmountInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),t.createAmountToUiAmountInstruction=function(e,n,i=a.TOKEN_PROGRAM_ID){const o=[{pubkey:e,isSigner:!1,isWritable:!1}],c=r.alloc(t.amountToUiAmountInstructionData.span);return t.amountToUiAmountInstructionData.encode({instruction:u.TokenInstruction.AmountToUiAmount,amount:BigInt(n)},c),new s.TransactionInstruction({keys:o,programId:i,data:c})},t.decodeAmountToUiAmountInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.amountToUiAmountInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=d(e);if(i.instruction!==u.TokenInstruction.AmountToUiAmount)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},t.decodeAmountToUiAmountInstructionUnchecked=d},213938:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeApproveInstructionUnchecked=t.decodeApproveInstruction=t.createApproveInstruction=t.approveInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);function l({programId:e,keys:[n,r,i,...o],data:s}){return{programId:e,keys:{account:n,delegate:r,owner:i,multiSigners:o},data:t.approveInstructionData.decode(s)}}t.approveInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),t.createApproveInstruction=function(e,n,i,o,c=[],l=a.TOKEN_PROGRAM_ID){const f=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],i,c),h=r.alloc(t.approveInstructionData.span);return t.approveInstructionData.encode({instruction:d.TokenInstruction.Approve,amount:BigInt(o)},h),new s.TransactionInstruction({keys:f,programId:l,data:h})},t.decodeApproveInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.approveInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,delegate:i,owner:o,multiSigners:s},data:u}=l(e);if(u.instruction!==d.TokenInstruction.Approve)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,delegate:i,owner:o,multiSigners:s},data:u}},t.decodeApproveInstructionUnchecked=l},403465:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeApproveCheckedInstructionUnchecked=t.decodeApproveCheckedInstruction=t.createApproveCheckedInstruction=t.approveCheckedInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);function l({programId:e,keys:[n,r,i,o,...s],data:a}){return{programId:e,keys:{account:n,mint:r,delegate:i,owner:o,multiSigners:s},data:t.approveCheckedInstructionData.decode(a)}}t.approveCheckedInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount"),(0,i.u8)("decimals")]),t.createApproveCheckedInstruction=function(e,n,i,o,c,l,f=[],h=a.TOKEN_PROGRAM_ID){const p=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}],o,f),g=r.alloc(t.approveCheckedInstructionData.span);return t.approveCheckedInstructionData.encode({instruction:d.TokenInstruction.ApproveChecked,amount:BigInt(c),decimals:l},g),new s.TransactionInstruction({keys:p,programId:h,data:g})},t.decodeApproveCheckedInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.approveCheckedInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,delegate:o,owner:s,multiSigners:u},data:f}=l(e);if(f.instruction!==d.TokenInstruction.ApproveChecked)throw new c.TokenInvalidInstructionTypeError;if(!(r&&i&&o&&s))throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,delegate:o,owner:s,multiSigners:u},data:f}},t.decodeApproveCheckedInstructionUnchecked=l},751717:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createRecoverNestedInstruction=t.createAssociatedTokenAccountIdempotentInstruction=t.createAssociatedTokenAccountInstruction=void 0;const i=n(627158),o=n(881034);function s(e,t,n,r,s,a=o.TOKEN_PROGRAM_ID,c=o.ASSOCIATED_TOKEN_PROGRAM_ID){const u=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new i.TransactionInstruction({keys:u,programId:c,data:s})}t.createAssociatedTokenAccountInstruction=function(e,t,n,i,a=o.TOKEN_PROGRAM_ID,c=o.ASSOCIATED_TOKEN_PROGRAM_ID){return s(e,t,n,i,r.alloc(0),a,c)},t.createAssociatedTokenAccountIdempotentInstruction=function(e,t,n,i,a=o.TOKEN_PROGRAM_ID,c=o.ASSOCIATED_TOKEN_PROGRAM_ID){return s(e,t,n,i,r.from([1]),a,c)},t.createRecoverNestedInstruction=function(e,t,n,s,a,c,u=o.TOKEN_PROGRAM_ID,d=o.ASSOCIATED_TOKEN_PROGRAM_ID){const l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1}];return new i.TransactionInstruction({keys:l,programId:d,data:r.from([2])})}},569872:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBurnInstructionUnchecked=t.decodeBurnInstruction=t.createBurnInstruction=t.burnInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);function l({programId:e,keys:[n,r,i,...o],data:s}){return{programId:e,keys:{account:n,mint:r,owner:i,multiSigners:o},data:t.burnInstructionData.decode(s)}}t.burnInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),t.createBurnInstruction=function(e,n,i,o,c=[],l=a.TOKEN_PROGRAM_ID){const f=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,c),h=r.alloc(t.burnInstructionData.span);return t.burnInstructionData.encode({instruction:d.TokenInstruction.Burn,amount:BigInt(o)},h),new s.TransactionInstruction({keys:f,programId:l,data:h})},t.decodeBurnInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.burnInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,owner:o,multiSigners:s},data:u}=l(e);if(u.instruction!==d.TokenInstruction.Burn)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,owner:o,multiSigners:s},data:u}},t.decodeBurnInstructionUnchecked=l},199463:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBurnCheckedInstructionUnchecked=t.decodeBurnCheckedInstruction=t.createBurnCheckedInstruction=t.burnCheckedInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);function l({programId:e,keys:[n,r,i,...o],data:s}){return{programId:e,keys:{account:n,mint:r,owner:i,multiSigners:o},data:t.burnCheckedInstructionData.decode(s)}}t.burnCheckedInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount"),(0,i.u8)("decimals")]),t.createBurnCheckedInstruction=function(e,n,i,o,c,l=[],f=a.TOKEN_PROGRAM_ID){const h=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,l),p=r.alloc(t.burnCheckedInstructionData.span);return t.burnCheckedInstructionData.encode({instruction:d.TokenInstruction.BurnChecked,amount:BigInt(o),decimals:c},p),new s.TransactionInstruction({keys:h,programId:f,data:p})},t.decodeBurnCheckedInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.burnCheckedInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,owner:o,multiSigners:s},data:u}=l(e);if(u.instruction!==d.TokenInstruction.BurnChecked)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,owner:o,multiSigners:s},data:u}},t.decodeBurnCheckedInstructionUnchecked=l},555321:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeCloseAccountInstructionUnchecked=t.decodeCloseAccountInstruction=t.createCloseAccountInstruction=t.closeAccountInstructionData=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(796272),u=n(519013);function d({programId:e,keys:[n,r,i,...o],data:s}){return{programId:e,keys:{account:n,destination:r,authority:i,multiSigners:o},data:t.closeAccountInstructionData.decode(s)}}t.closeAccountInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),t.createCloseAccountInstruction=function(e,n,i,a=[],d=s.TOKEN_PROGRAM_ID){const l=(0,c.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,a),f=r.alloc(t.closeAccountInstructionData.span);return t.closeAccountInstructionData.encode({instruction:u.TokenInstruction.CloseAccount},f),new o.TransactionInstruction({keys:l,programId:d,data:f})},t.decodeCloseAccountInstruction=function(e,n=s.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(e.data.length!==t.closeAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,destination:i,authority:o,multiSigners:c},data:l}=d(e);if(l.instruction!==u.TokenInstruction.CloseAccount)throw new a.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,destination:i,authority:o,multiSigners:c},data:l}},t.decodeCloseAccountInstructionUnchecked=d},846986:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createCreateNativeMintInstruction=t.createNativeMintInstructionData=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(519013);t.createNativeMintInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),t.createCreateNativeMintInstruction=function(e,n=s.NATIVE_MINT_2022,i=s.TOKEN_2022_PROGRAM_ID){if(!(0,s.programSupportsExtensions)(i))throw new a.TokenUnsupportedInstructionError;const u=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1}],d=r.alloc(t.createNativeMintInstructionData.span);return t.createNativeMintInstructionData.encode({instruction:c.TokenInstruction.CreateNativeMint},d),new o.TransactionInstruction({keys:u,programId:i,data:d})}},187193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUiamountToAmountInstruction=t.isAmountToUiAmountInstruction=t.isInitializeMint2Instruction=t.isInitializeAccount3Instruction=t.isSyncNativeInstruction=t.isInitializeAccount2Instruction=t.isBurnCheckedInstruction=t.isMintToCheckedInstruction=t.isApproveCheckedInstruction=t.isTransferCheckedInstruction=t.isThawAccountInstruction=t.isFreezeAccountInstruction=t.isCloseAccountInstruction=t.isBurnInstruction=t.isMintToInstruction=t.isSetAuthorityInstruction=t.isRevokeInstruction=t.isApproveInstruction=t.isTransferInstruction=t.isInitializeMultisigInstruction=t.isInitializeAccountInstruction=t.isInitializeMintInstruction=t.decodeInstruction=void 0;const r=n(996346),i=n(881034),o=n(443382),s=n(78614),a=n(213938),c=n(403465),u=n(569872),d=n(199463),l=n(555321),f=n(430930),h=n(553289),p=n(385897),g=n(225367),y=n(601186),m=n(866410),b=n(620124),I=n(269930),k=n(394205),w=n(891441),A=n(419256),v=n(413794),T=n(707170),_=n(381268),S=n(800860),E=n(519013),P=n(976072);t.decodeInstruction=function(e,t=i.TOKEN_PROGRAM_ID){if(!e.data.length)throw new o.TokenInvalidInstructionDataError;const n=(0,r.u8)().decode(e.data);if(n===E.TokenInstruction.InitializeMint)return(0,y.decodeInitializeMintInstruction)(e,t);if(n===E.TokenInstruction.InitializeAccount)return(0,h.decodeInitializeAccountInstruction)(e,t);if(n===E.TokenInstruction.InitializeMultisig)return(0,b.decodeInitializeMultisigInstruction)(e,t);if(n===E.TokenInstruction.Transfer)return(0,_.decodeTransferInstruction)(e,t);if(n===E.TokenInstruction.Approve)return(0,a.decodeApproveInstruction)(e,t);if(n===E.TokenInstruction.Revoke)return(0,w.decodeRevokeInstruction)(e,t);if(n===E.TokenInstruction.SetAuthority)return(0,A.decodeSetAuthorityInstruction)(e,t);if(n===E.TokenInstruction.MintTo)return(0,I.decodeMintToInstruction)(e,t);if(n===E.TokenInstruction.Burn)return(0,u.decodeBurnInstruction)(e,t);if(n===E.TokenInstruction.CloseAccount)return(0,l.decodeCloseAccountInstruction)(e,t);if(n===E.TokenInstruction.FreezeAccount)return(0,f.decodeFreezeAccountInstruction)(e,t);if(n===E.TokenInstruction.ThawAccount)return(0,T.decodeThawAccountInstruction)(e,t);if(n===E.TokenInstruction.TransferChecked)return(0,S.decodeTransferCheckedInstruction)(e,t);if(n===E.TokenInstruction.ApproveChecked)return(0,c.decodeApproveCheckedInstruction)(e,t);if(n===E.TokenInstruction.MintToChecked)return(0,k.decodeMintToCheckedInstruction)(e,t);if(n===E.TokenInstruction.BurnChecked)return(0,d.decodeBurnCheckedInstruction)(e,t);if(n===E.TokenInstruction.InitializeAccount2)return(0,p.decodeInitializeAccount2Instruction)(e,t);if(n===E.TokenInstruction.SyncNative)return(0,v.decodeSyncNativeInstruction)(e,t);if(n===E.TokenInstruction.InitializeAccount3)return(0,g.decodeInitializeAccount3Instruction)(e,t);if(n===E.TokenInstruction.InitializeMint2)return(0,m.decodeInitializeMint2Instruction)(e,t);if(n===E.TokenInstruction.AmountToUiAmount)return(0,s.decodeAmountToUiAmountInstruction)(e,t);if(n===E.TokenInstruction.UiAmountToAmount)return(0,P.decodeUiAmountToAmountInstruction)(e,t);if(n===E.TokenInstruction.InitializeMultisig2)throw new o.TokenInvalidInstructionTypeError;throw new o.TokenInvalidInstructionTypeError},t.isInitializeMintInstruction=function(e){return e.data.instruction===E.TokenInstruction.InitializeMint},t.isInitializeAccountInstruction=function(e){return e.data.instruction===E.TokenInstruction.InitializeAccount},t.isInitializeMultisigInstruction=function(e){return e.data.instruction===E.TokenInstruction.InitializeMultisig},t.isTransferInstruction=function(e){return e.data.instruction===E.TokenInstruction.Transfer},t.isApproveInstruction=function(e){return e.data.instruction===E.TokenInstruction.Approve},t.isRevokeInstruction=function(e){return e.data.instruction===E.TokenInstruction.Revoke},t.isSetAuthorityInstruction=function(e){return e.data.instruction===E.TokenInstruction.SetAuthority},t.isMintToInstruction=function(e){return e.data.instruction===E.TokenInstruction.MintTo},t.isBurnInstruction=function(e){return e.data.instruction===E.TokenInstruction.Burn},t.isCloseAccountInstruction=function(e){return e.data.instruction===E.TokenInstruction.CloseAccount},t.isFreezeAccountInstruction=function(e){return e.data.instruction===E.TokenInstruction.FreezeAccount},t.isThawAccountInstruction=function(e){return e.data.instruction===E.TokenInstruction.ThawAccount},t.isTransferCheckedInstruction=function(e){return e.data.instruction===E.TokenInstruction.TransferChecked},t.isApproveCheckedInstruction=function(e){return e.data.instruction===E.TokenInstruction.ApproveChecked},t.isMintToCheckedInstruction=function(e){return e.data.instruction===E.TokenInstruction.MintToChecked},t.isBurnCheckedInstruction=function(e){return e.data.instruction===E.TokenInstruction.BurnChecked},t.isInitializeAccount2Instruction=function(e){return e.data.instruction===E.TokenInstruction.InitializeAccount2},t.isSyncNativeInstruction=function(e){return e.data.instruction===E.TokenInstruction.SyncNative},t.isInitializeAccount3Instruction=function(e){return e.data.instruction===E.TokenInstruction.InitializeAccount3},t.isInitializeMint2Instruction=function(e){return e.data.instruction===E.TokenInstruction.InitializeMint2},t.isAmountToUiAmountInstruction=function(e){return e.data.instruction===E.TokenInstruction.AmountToUiAmount},t.isUiamountToAmountInstruction=function(e){return e.data.instruction===E.TokenInstruction.UiAmountToAmount}},430930:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeFreezeAccountInstructionUnchecked=t.decodeFreezeAccountInstruction=t.createFreezeAccountInstruction=t.freezeAccountInstructionData=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(796272),u=n(519013);function d({programId:e,keys:[n,r,i,...o],data:s}){return{programId:e,keys:{account:n,mint:r,authority:i,multiSigners:o},data:t.freezeAccountInstructionData.decode(s)}}t.freezeAccountInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),t.createFreezeAccountInstruction=function(e,n,i,a=[],d=s.TOKEN_PROGRAM_ID){const l=(0,c.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],i,a),f=r.alloc(t.freezeAccountInstructionData.span);return t.freezeAccountInstructionData.encode({instruction:u.TokenInstruction.FreezeAccount},f),new o.TransactionInstruction({keys:l,programId:d,data:f})},t.decodeFreezeAccountInstruction=function(e,n=s.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(e.data.length!==t.freezeAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,authority:o,multiSigners:c},data:l}=d(e);if(l.instruction!==u.TokenInstruction.FreezeAccount)throw new a.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,authority:o,multiSigners:c},data:l}},t.decodeFreezeAccountInstructionUnchecked=d},266112:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(751717),t),i(n(187193),t),i(n(519013),t),i(n(601186),t),i(n(553289),t),i(n(620124),t),i(n(381268),t),i(n(213938),t),i(n(891441),t),i(n(419256),t),i(n(269930),t),i(n(569872),t),i(n(555321),t),i(n(430930),t),i(n(707170),t),i(n(800860),t),i(n(403465),t),i(n(394205),t),i(n(199463),t),i(n(385897),t),i(n(413794),t),i(n(225367),t),i(n(515188),t),i(n(866410),t),i(n(861871),t),i(n(78614),t),i(n(976072),t),i(n(391580),t),i(n(208992),t),i(n(846986),t),i(n(212417),t),i(n(864527),t)},553289:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInitializeAccountInstructionUnchecked=t.decodeInitializeAccountInstruction=t.createInitializeAccountInstruction=t.initializeAccountInstructionData=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(519013);function u({programId:e,keys:[n,r,i,o],data:s}){return{programId:e,keys:{account:n,mint:r,owner:i,rent:o},data:t.initializeAccountInstructionData.decode(s)}}t.initializeAccountInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),t.createInitializeAccountInstruction=function(e,n,i,a=s.TOKEN_PROGRAM_ID){const u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],d=r.alloc(t.initializeAccountInstructionData.span);return t.initializeAccountInstructionData.encode({instruction:c.TokenInstruction.InitializeAccount},d),new o.TransactionInstruction({keys:u,programId:a,data:d})},t.decodeInitializeAccountInstruction=function(e,n=s.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializeAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,owner:o,rent:d},data:l}=u(e);if(l.instruction!==c.TokenInstruction.InitializeAccount)throw new a.TokenInvalidInstructionTypeError;if(!(r&&i&&o&&d))throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,owner:o,rent:d},data:l}},t.decodeInitializeAccountInstructionUnchecked=u},385897:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInitializeAccount2InstructionUnchecked=t.decodeInitializeAccount2Instruction=t.createInitializeAccount2Instruction=t.initializeAccount2InstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(519013);function d({programId:e,keys:[n,r,i],data:o}){return{programId:e,keys:{account:n,mint:r,rent:i},data:t.initializeAccount2InstructionData.decode(o)}}t.initializeAccount2InstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.publicKey)("owner")]),t.createInitializeAccount2Instruction=function(e,n,i,o=a.TOKEN_PROGRAM_ID){const c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],d=r.alloc(t.initializeAccount2InstructionData.span);return t.initializeAccount2InstructionData.encode({instruction:u.TokenInstruction.InitializeAccount2,owner:i},d),new s.TransactionInstruction({keys:c,programId:o,data:d})},t.decodeInitializeAccount2Instruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializeAccount2InstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,rent:o},data:s}=d(e);if(s.instruction!==u.TokenInstruction.InitializeAccount2)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,rent:o},data:s}},t.decodeInitializeAccount2InstructionUnchecked=d},225367:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInitializeAccount3InstructionUnchecked=t.decodeInitializeAccount3Instruction=t.createInitializeAccount3Instruction=t.initializeAccount3InstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(519013);function d({programId:e,keys:[n,r],data:i}){return{programId:e,keys:{account:n,mint:r},data:t.initializeAccount3InstructionData.decode(i)}}t.initializeAccount3InstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.publicKey)("owner")]),t.createInitializeAccount3Instruction=function(e,n,i,o=a.TOKEN_PROGRAM_ID){const c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],d=r.alloc(t.initializeAccount3InstructionData.span);return t.initializeAccount3InstructionData.encode({instruction:u.TokenInstruction.InitializeAccount3,owner:i},d),new s.TransactionInstruction({keys:c,programId:o,data:d})},t.decodeInitializeAccount3Instruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializeAccount3InstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i},data:o}=d(e);if(o.instruction!==u.TokenInstruction.InitializeAccount3)throw new c.TokenInvalidInstructionTypeError;if(!r||!i)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i},data:o}},t.decodeInitializeAccount3InstructionUnchecked=d},861871:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInitializeImmutableOwnerInstructionUnchecked=t.decodeInitializeImmutableOwnerInstruction=t.createInitializeImmutableOwnerInstruction=t.initializeImmutableOwnerInstructionData=void 0;const i=n(996346),o=n(627158),s=n(443382),a=n(519013);function c({programId:e,keys:[n],data:r}){const{instruction:i}=t.initializeImmutableOwnerInstructionData.decode(r);return{programId:e,keys:{account:n},data:{instruction:i}}}t.initializeImmutableOwnerInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),t.createInitializeImmutableOwnerInstruction=function(e,n){const i=[{pubkey:e,isSigner:!1,isWritable:!0}],s=r.alloc(t.initializeImmutableOwnerInstructionData.span);return t.initializeImmutableOwnerInstructionData.encode({instruction:a.TokenInstruction.InitializeImmutableOwner},s),new o.TransactionInstruction({keys:i,programId:n,data:s})},t.decodeInitializeImmutableOwnerInstruction=function(e,n){if(!e.programId.equals(n))throw new s.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializeImmutableOwnerInstructionData.span)throw new s.TokenInvalidInstructionDataError;const{keys:{account:r},data:i}=c(e);if(i.instruction!==a.TokenInstruction.InitializeImmutableOwner)throw new s.TokenInvalidInstructionTypeError;if(!r)throw new s.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r},data:i}},t.decodeInitializeImmutableOwnerInstructionUnchecked=c},601186:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInitializeMintInstructionUnchecked=t.decodeInitializeMintInstruction=t.createInitializeMintInstruction=t.initializeMintInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(519013);function d({programId:e,keys:[n,r],data:i}){const{instruction:o,decimals:s,mintAuthority:a,freezeAuthorityOption:c,freezeAuthority:u}=t.initializeMintInstructionData.decode(i);return{programId:e,keys:{mint:n,rent:r},data:{instruction:o,decimals:s,mintAuthority:a,freezeAuthority:c?u:null}}}t.initializeMintInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("decimals"),(0,o.publicKey)("mintAuthority"),(0,i.u8)("freezeAuthorityOption"),(0,o.publicKey)("freezeAuthority")]),t.createInitializeMintInstruction=function(e,n,i,o,c=a.TOKEN_PROGRAM_ID){const d=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],l=r.alloc(t.initializeMintInstructionData.span);return t.initializeMintInstructionData.encode({instruction:u.TokenInstruction.InitializeMint,decimals:n,mintAuthority:i,freezeAuthorityOption:o?1:0,freezeAuthority:o||new s.PublicKey(0)},l),new s.TransactionInstruction({keys:d,programId:c,data:l})},t.decodeInitializeMintInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializeMintInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,rent:i},data:o}=d(e);if(o.instruction!==u.TokenInstruction.InitializeMint)throw new c.TokenInvalidInstructionTypeError;if(!r||!i)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,rent:i},data:o}},t.decodeInitializeMintInstructionUnchecked=d},866410:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInitializeMint2InstructionUnchecked=t.decodeInitializeMint2Instruction=t.createInitializeMint2Instruction=t.initializeMint2InstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(519013);function d({programId:e,keys:[n],data:r}){const{instruction:i,decimals:o,mintAuthority:s,freezeAuthorityOption:a,freezeAuthority:c}=t.initializeMint2InstructionData.decode(r);return{programId:e,keys:{mint:n},data:{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a?c:null}}}t.initializeMint2InstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("decimals"),(0,o.publicKey)("mintAuthority"),(0,i.u8)("freezeAuthorityOption"),(0,o.publicKey)("freezeAuthority")]),t.createInitializeMint2Instruction=function(e,n,i,o,c=a.TOKEN_PROGRAM_ID){const d=[{pubkey:e,isSigner:!1,isWritable:!0}],l=r.alloc(t.initializeMint2InstructionData.span);return t.initializeMint2InstructionData.encode({instruction:u.TokenInstruction.InitializeMint2,decimals:n,mintAuthority:i,freezeAuthorityOption:o?1:0,freezeAuthority:o||new s.PublicKey(0)},l),new s.TransactionInstruction({keys:d,programId:c,data:l})},t.decodeInitializeMint2Instruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializeMint2InstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=d(e);if(i.instruction!==u.TokenInstruction.InitializeMint2)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},t.decodeInitializeMint2InstructionUnchecked=d},391580:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInitializeMintCloseAuthorityInstructionUnchecked=t.decodeInitializeMintCloseAuthorityInstruction=t.createInitializeMintCloseAuthorityInstruction=t.initializeMintCloseAuthorityInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(519013);function d({programId:e,keys:[n],data:r}){const{instruction:i,closeAuthorityOption:o,closeAuthority:s}=t.initializeMintCloseAuthorityInstructionData.decode(r);return{programId:e,keys:{mint:n},data:{instruction:i,closeAuthority:o?s:null}}}t.initializeMintCloseAuthorityInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("closeAuthorityOption"),(0,o.publicKey)("closeAuthority")]),t.createInitializeMintCloseAuthorityInstruction=function(e,n,i){if(!(0,a.programSupportsExtensions)(i))throw new c.TokenUnsupportedInstructionError;const o=[{pubkey:e,isSigner:!1,isWritable:!0}],d=r.alloc(t.initializeMintCloseAuthorityInstructionData.span);return t.initializeMintCloseAuthorityInstructionData.encode({instruction:u.TokenInstruction.InitializeMintCloseAuthority,closeAuthorityOption:n?1:0,closeAuthority:n||new s.PublicKey(0)},d),new s.TransactionInstruction({keys:o,programId:i,data:d})},t.decodeInitializeMintCloseAuthorityInstruction=function(e,n){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializeMintCloseAuthorityInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=d(e);if(i.instruction!==u.TokenInstruction.InitializeMintCloseAuthority)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},t.decodeInitializeMintCloseAuthorityInstructionUnchecked=d},620124:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInitializeMultisigInstructionUnchecked=t.decodeInitializeMultisigInstruction=t.createInitializeMultisigInstruction=t.initializeMultisigInstructionData=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(519013);function u({programId:e,keys:[n,r,...i],data:o}){return{programId:e,keys:{account:n,rent:r,signers:i},data:t.initializeMultisigInstructionData.decode(o)}}t.initializeMultisigInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("m")]),t.createInitializeMultisigInstruction=function(e,n,i,a=s.TOKEN_PROGRAM_ID){const u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(const e of n)u.push({pubkey:e instanceof o.PublicKey?e:e.publicKey,isSigner:!1,isWritable:!1});const d=r.alloc(t.initializeMultisigInstructionData.span);return t.initializeMultisigInstructionData.encode({instruction:c.TokenInstruction.InitializeMultisig,m:i},d),new o.TransactionInstruction({keys:u,programId:a,data:d})},t.decodeInitializeMultisigInstruction=function(e,n=s.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializeMultisigInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,rent:i,signers:o},data:d}=u(e);if(d.instruction!==c.TokenInstruction.InitializeMultisig)throw new a.TokenInvalidInstructionTypeError;if(!r||!i||!o.length)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,rent:i,signers:o},data:d}},t.decodeInitializeMultisigInstructionUnchecked=u},515188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},212417:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createInitializeNonTransferableMintInstruction=t.initializeNonTransferableMintInstructionData=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(519013);t.initializeNonTransferableMintInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),t.createInitializeNonTransferableMintInstruction=function(e,n){if(!(0,s.programSupportsExtensions)(n))throw new a.TokenUnsupportedInstructionError;const i=[{pubkey:e,isSigner:!1,isWritable:!0}],u=r.alloc(t.initializeNonTransferableMintInstructionData.span);return t.initializeNonTransferableMintInstructionData.encode({instruction:c.TokenInstruction.InitializeNonTransferableMint},u),new o.TransactionInstruction({keys:i,programId:n,data:u})}},864527:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInitializePermanentDelegateInstructionUnchecked=t.decodeInitializePermanentDelegateInstruction=t.createInitializePermanentDelegateInstruction=t.initializePermanentDelegateInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(627158),c=n(881034),u=n(443382),d=n(519013);function l({programId:e,keys:[n],data:r}){const{instruction:i,delegate:o}=t.initializePermanentDelegateInstructionData.decode(r);return{programId:e,keys:{mint:n},data:{instruction:i,delegate:o}}}t.initializePermanentDelegateInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.publicKey)("delegate")]),t.createInitializePermanentDelegateInstruction=function(e,n,i){if(!(0,c.programSupportsExtensions)(i))throw new u.TokenUnsupportedInstructionError;const o=[{pubkey:e,isSigner:!1,isWritable:!0}],l=r.alloc(t.initializePermanentDelegateInstructionData.span);return t.initializePermanentDelegateInstructionData.encode({instruction:d.TokenInstruction.InitializePermanentDelegate,delegate:n||new s.PublicKey(0)},l),new a.TransactionInstruction({keys:o,programId:i,data:l})},t.decodeInitializePermanentDelegateInstruction=function(e,n){if(!e.programId.equals(n))throw new u.TokenInvalidInstructionProgramError;if(e.data.length!==t.initializePermanentDelegateInstructionData.span)throw new u.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=l(e);if(i.instruction!==d.TokenInstruction.InitializePermanentDelegate)throw new u.TokenInvalidInstructionTypeError;if(!r)throw new u.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},t.decodeInitializePermanentDelegateInstructionUnchecked=l},796272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSigners=void 0;const r=n(627158);t.addSigners=function(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const t of n)e.push({pubkey:t instanceof r.PublicKey?t:t.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}},269930:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeMintToInstructionUnchecked=t.decodeMintToInstruction=t.createMintToInstruction=t.mintToInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);function l({programId:e,keys:[n,r,i,...o],data:s}){return{programId:e,keys:{mint:n,destination:r,authority:i,multiSigners:o},data:t.mintToInstructionData.decode(s)}}t.mintToInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),t.createMintToInstruction=function(e,n,i,o,c=[],l=a.TOKEN_PROGRAM_ID){const f=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,c),h=r.alloc(t.mintToInstructionData.span);return t.mintToInstructionData.encode({instruction:d.TokenInstruction.MintTo,amount:BigInt(o)},h),new s.TransactionInstruction({keys:f,programId:l,data:h})},t.decodeMintToInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.mintToInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,destination:i,authority:o,multiSigners:s},data:u}=l(e);if(u.instruction!==d.TokenInstruction.MintTo)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,destination:i,authority:o,multiSigners:s},data:u}},t.decodeMintToInstructionUnchecked=l},394205:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeMintToCheckedInstructionUnchecked=t.decodeMintToCheckedInstruction=t.createMintToCheckedInstruction=t.mintToCheckedInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);function l({programId:e,keys:[n,r,i,...o],data:s}){return{programId:e,keys:{mint:n,destination:r,authority:i,multiSigners:o},data:t.mintToCheckedInstructionData.decode(s)}}t.mintToCheckedInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount"),(0,i.u8)("decimals")]),t.createMintToCheckedInstruction=function(e,n,i,o,c,l=[],f=a.TOKEN_PROGRAM_ID){const h=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,l),p=r.alloc(t.mintToCheckedInstructionData.span);return t.mintToCheckedInstructionData.encode({instruction:d.TokenInstruction.MintToChecked,amount:BigInt(o),decimals:c},p),new s.TransactionInstruction({keys:h,programId:f,data:p})},t.decodeMintToCheckedInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.mintToCheckedInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,destination:i,authority:o,multiSigners:s},data:u}=l(e);if(u.instruction!==d.TokenInstruction.MintToChecked)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,destination:i,authority:o,multiSigners:s},data:u}},t.decodeMintToCheckedInstructionUnchecked=l},208992:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createReallocateInstruction=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(796272),u=n(519013);t.createReallocateInstruction=function(e,t,n,d,l=[],f=s.TOKEN_2022_PROGRAM_ID){if(!(0,s.programSupportsExtensions)(f))throw new a.TokenUnsupportedInstructionError;const h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1}],p=(0,c.addSigners)(h,d,l),g=(0,i.struct)([(0,i.u8)("instruction"),(0,i.seq)((0,i.u16)(),n.length,"extensionTypes")]),y=r.alloc(g.span);return g.encode({instruction:u.TokenInstruction.Reallocate,extensionTypes:n},y),new o.TransactionInstruction({keys:p,programId:f,data:y})}},891441:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeRevokeInstructionUnchecked=t.decodeRevokeInstruction=t.createRevokeInstruction=t.revokeInstructionData=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(796272),u=n(519013);function d({programId:e,keys:[n,r,...i],data:o}){return{programId:e,keys:{account:n,owner:r,multiSigners:i},data:t.revokeInstructionData.decode(o)}}t.revokeInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),t.createRevokeInstruction=function(e,n,i=[],a=s.TOKEN_PROGRAM_ID){const d=(0,c.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,i),l=r.alloc(t.revokeInstructionData.span);return t.revokeInstructionData.encode({instruction:u.TokenInstruction.Revoke},l),new o.TransactionInstruction({keys:d,programId:a,data:l})},t.decodeRevokeInstruction=function(e,n=s.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(e.data.length!==t.revokeInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,owner:i,multiSigners:o},data:c}=d(e);if(c.instruction!==u.TokenInstruction.Revoke)throw new a.TokenInvalidInstructionTypeError;if(!r||!i)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,owner:i,multiSigners:o},data:c}},t.decodeRevokeInstructionUnchecked=d},419256:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSetAuthorityInstructionUnchecked=t.decodeSetAuthorityInstruction=t.createSetAuthorityInstruction=t.setAuthorityInstructionData=t.AuthorityType=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);var l;function f({programId:e,keys:[n,r,...i],data:o}){const{instruction:s,authorityType:a,newAuthorityOption:c,newAuthority:u}=t.setAuthorityInstructionData.decode(o);return{programId:e,keys:{account:n,currentAuthority:r,multiSigners:i},data:{instruction:s,authorityType:a,newAuthority:c?u:null}}}!function(e){e[e.MintTokens=0]="MintTokens",e[e.FreezeAccount=1]="FreezeAccount",e[e.AccountOwner=2]="AccountOwner",e[e.CloseAccount=3]="CloseAccount",e[e.TransferFeeConfig=4]="TransferFeeConfig",e[e.WithheldWithdraw=5]="WithheldWithdraw",e[e.CloseMint=6]="CloseMint",e[e.InterestRate=7]="InterestRate",e[e.PermanentDelegate=8]="PermanentDelegate",e[e.ConfidentialTransferMint=9]="ConfidentialTransferMint",e[e.TransferHookProgramId=10]="TransferHookProgramId",e[e.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",e[e.MetadataPointer=12]="MetadataPointer"}(l||(t.AuthorityType=l={})),t.setAuthorityInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("authorityType"),(0,i.u8)("newAuthorityOption"),(0,o.publicKey)("newAuthority")]),t.createSetAuthorityInstruction=function(e,n,i,o,c=[],l=a.TOKEN_PROGRAM_ID){const f=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,c),h=r.alloc(t.setAuthorityInstructionData.span);return t.setAuthorityInstructionData.encode({instruction:d.TokenInstruction.SetAuthority,authorityType:i,newAuthorityOption:o?1:0,newAuthority:o||new s.PublicKey(0)},h),new s.TransactionInstruction({keys:f,programId:l,data:h})},t.decodeSetAuthorityInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.setAuthorityInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,currentAuthority:i,multiSigners:o},data:s}=f(e);if(s.instruction!==d.TokenInstruction.SetAuthority)throw new c.TokenInvalidInstructionTypeError;if(!r||!i)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,currentAuthority:i,multiSigners:o},data:s}},t.decodeSetAuthorityInstructionUnchecked=f},413794:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSyncNativeInstructionUnchecked=t.decodeSyncNativeInstruction=t.createSyncNativeInstruction=t.syncNativeInstructionData=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(519013);function u({programId:e,keys:[n],data:r}){return{programId:e,keys:{account:n},data:t.syncNativeInstructionData.decode(r)}}t.syncNativeInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),t.createSyncNativeInstruction=function(e,n=s.TOKEN_PROGRAM_ID){const i=[{pubkey:e,isSigner:!1,isWritable:!0}],a=r.alloc(t.syncNativeInstructionData.span);return t.syncNativeInstructionData.encode({instruction:c.TokenInstruction.SyncNative},a),new o.TransactionInstruction({keys:i,programId:n,data:a})},t.decodeSyncNativeInstruction=function(e,n=s.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(e.data.length!==t.syncNativeInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r},data:i}=u(e);if(i.instruction!==c.TokenInstruction.SyncNative)throw new a.TokenInvalidInstructionTypeError;if(!r)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r},data:i}},t.decodeSyncNativeInstructionUnchecked=u},707170:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeThawAccountInstructionUnchecked=t.decodeThawAccountInstruction=t.createThawAccountInstruction=t.thawAccountInstructionData=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(796272),u=n(519013);function d({programId:e,keys:[n,r,i,...o],data:s}){return{programId:e,keys:{account:n,mint:r,authority:i,multiSigners:o},data:t.thawAccountInstructionData.decode(s)}}t.thawAccountInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),t.createThawAccountInstruction=function(e,n,i,a=[],d=s.TOKEN_PROGRAM_ID){const l=(0,c.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],i,a),f=r.alloc(t.thawAccountInstructionData.span);return t.thawAccountInstructionData.encode({instruction:u.TokenInstruction.ThawAccount},f),new o.TransactionInstruction({keys:l,programId:d,data:f})},t.decodeThawAccountInstruction=function(e,n=s.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(e.data.length!==t.thawAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,authority:o,multiSigners:c},data:l}=d(e);if(l.instruction!==u.TokenInstruction.ThawAccount)throw new a.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,authority:o,multiSigners:c},data:l}},t.decodeThawAccountInstructionUnchecked=d},381268:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeTransferInstructionUnchecked=t.decodeTransferInstruction=t.createTransferInstruction=t.transferInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);function l({programId:e,keys:[n,r,i,...o],data:s}){return{programId:e,keys:{source:n,destination:r,owner:i,multiSigners:o},data:t.transferInstructionData.decode(s)}}t.transferInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),t.createTransferInstruction=function(e,n,i,o,c=[],l=a.TOKEN_PROGRAM_ID){const f=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,c),h=r.alloc(t.transferInstructionData.span);return t.transferInstructionData.encode({instruction:d.TokenInstruction.Transfer,amount:BigInt(o)},h),new s.TransactionInstruction({keys:f,programId:l,data:h})},t.decodeTransferInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.transferInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{source:r,destination:i,owner:o,multiSigners:s},data:u}=l(e);if(u.instruction!==d.TokenInstruction.Transfer)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:r,destination:i,owner:o,multiSigners:s},data:u}},t.decodeTransferInstructionUnchecked=l},800860:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeTransferCheckedInstructionUnchecked=t.decodeTransferCheckedInstruction=t.createTransferCheckedInstruction=t.transferCheckedInstructionData=void 0;const i=n(996346),o=n(528813),s=n(627158),a=n(881034),c=n(443382),u=n(796272),d=n(519013);function l({programId:e,keys:[n,r,i,o,...s],data:a}){return{programId:e,keys:{source:n,mint:r,destination:i,owner:o,multiSigners:s},data:t.transferCheckedInstructionData.decode(a)}}t.transferCheckedInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount"),(0,i.u8)("decimals")]),t.createTransferCheckedInstruction=function(e,n,i,o,c,l,f=[],h=a.TOKEN_PROGRAM_ID){const p=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}],o,f),g=r.alloc(t.transferCheckedInstructionData.span);return t.transferCheckedInstructionData.encode({instruction:d.TokenInstruction.TransferChecked,amount:BigInt(c),decimals:l},g),new s.TransactionInstruction({keys:p,programId:h,data:g})},t.decodeTransferCheckedInstruction=function(e,n=a.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(e.data.length!==t.transferCheckedInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{source:r,mint:i,destination:o,owner:s,multiSigners:u},data:f}=l(e);if(f.instruction!==d.TokenInstruction.TransferChecked)throw new c.TokenInvalidInstructionTypeError;if(!(r&&i&&o&&s))throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:r,mint:i,destination:o,owner:s,multiSigners:u},data:f}},t.decodeTransferCheckedInstructionUnchecked=l},519013:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TokenInstruction=void 0,function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension"}(n||(t.TokenInstruction=n={}))},976072:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUiAmountToAmountInstructionUnchecked=t.decodeUiAmountToAmountInstruction=t.createUiAmountToAmountInstruction=void 0;const i=n(996346),o=n(627158),s=n(881034),a=n(443382),c=n(519013);function u({programId:e,keys:[t],data:n}){return{programId:e,keys:{mint:t},data:(0,i.struct)([(0,i.u8)("instruction"),(0,i.blob)(n.length-1,"amount")]).decode(n)}}t.createUiAmountToAmountInstruction=function(e,t,n=s.TOKEN_PROGRAM_ID){const a=[{pubkey:e,isSigner:!1,isWritable:!1}],u=r.from(t,"utf8"),d=(0,i.struct)([(0,i.u8)("instruction"),(0,i.blob)(u.length,"amount")]),l=r.alloc(d.span);return d.encode({instruction:c.TokenInstruction.UiAmountToAmount,amount:u},l),new o.TransactionInstruction({keys:a,programId:n,data:l})},t.decodeUiAmountToAmountInstruction=function(e,t=s.TOKEN_PROGRAM_ID){if(!e.programId.equals(t))throw new a.TokenInvalidInstructionProgramError;const n=(0,i.struct)([(0,i.u8)("instruction"),(0,i.blob)(e.data.length-1,"amount")]);if(e.data.length!==n.span)throw new a.TokenInvalidInstructionDataError;const{keys:{mint:r},data:o}=u(e);if(o.instruction!==c.TokenInstruction.UiAmountToAmount)throw new a.TokenInvalidInstructionTypeError;if(!r)throw new a.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r},data:o}},t.decodeUiAmountToAmountInstructionUnchecked=u},717498:function(e,t,n){"use strict";var r=n(348834).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.unpackAccount=t.getMinimumBalanceForRentExemptAccountWithExtensions=t.getMinimumBalanceForRentExemptAccount=t.getMultipleAccounts=t.getAccount=t.ACCOUNT_SIZE=t.AccountLayout=t.AccountState=void 0;const o=n(996346),s=n(528813),a=n(881034),c=n(443382),u=n(753400),d=n(429134),l=n(845022);var f;function h(e,t,n){return i(this,void 0,void 0,(function*(){const r=(0,d.getAccountLen)(t);return yield e.getMinimumBalanceForRentExemption(r,n)}))}function p(e,n,i=a.TOKEN_PROGRAM_ID){if(!n)throw new c.TokenAccountNotFoundError;if(!n.owner.equals(i))throw new c.TokenInvalidAccountOwnerError;if(n.data.length<t.ACCOUNT_SIZE)throw new c.TokenInvalidAccountSizeError;const o=t.AccountLayout.decode(n.data.slice(0,t.ACCOUNT_SIZE));let s=r.alloc(0);if(n.data.length>t.ACCOUNT_SIZE){if(n.data.length===l.MULTISIG_SIZE)throw new c.TokenInvalidAccountSizeError;if(n.data[t.ACCOUNT_SIZE]!=u.AccountType.Account)throw new c.TokenInvalidAccountError;s=n.data.slice(t.ACCOUNT_SIZE+u.ACCOUNT_TYPE_SIZE)}return{address:e,mint:o.mint,owner:o.owner,amount:o.amount,delegate:o.delegateOption?o.delegate:null,delegatedAmount:o.delegatedAmount,isInitialized:o.state!==f.Uninitialized,isFrozen:o.state===f.Frozen,isNative:!!o.isNativeOption,rentExemptReserve:o.isNativeOption?o.isNative:null,closeAuthority:o.closeAuthorityOption?o.closeAuthority:null,tlvData:s}}!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"}(f||(t.AccountState=f={})),t.AccountLayout=(0,o.struct)([(0,s.publicKey)("mint"),(0,s.publicKey)("owner"),(0,s.u64)("amount"),(0,o.u32)("delegateOption"),(0,s.publicKey)("delegate"),(0,o.u8)("state"),(0,o.u32)("isNativeOption"),(0,s.u64)("isNative"),(0,s.u64)("delegatedAmount"),(0,o.u32)("closeAuthorityOption"),(0,s.publicKey)("closeAuthority")]),t.ACCOUNT_SIZE=t.AccountLayout.span,t.getAccount=function(e,t,n,r=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield e.getAccountInfo(t,n);return p(t,i,r)}))},t.getMultipleAccounts=function(e,t,n,r=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield e.getMultipleAccountsInfo(t,n);return t.map(((e,t)=>p(e,i[t],r)))}))},t.getMinimumBalanceForRentExemptAccount=function(e,t){return i(this,void 0,void 0,(function*(){return yield h(e,[],t)}))},t.getMinimumBalanceForRentExemptAccountWithExtensions=h,t.unpackAccount=p},710560:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(717498),t),i(n(43868),t),i(n(845022),t)},43868:function(e,t,n){"use strict";var r=n(348834).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAssociatedTokenAddressSync=t.getAssociatedTokenAddress=t.getMinimumBalanceForRentExemptMintWithExtensions=t.getMinimumBalanceForRentExemptMint=t.unpackMint=t.getMint=t.MINT_SIZE=t.MintLayout=void 0;const o=n(996346),s=n(528813),a=n(627158),c=n(881034),u=n(443382),d=n(753400),l=n(429134),f=n(717498),h=n(845022);function p(e,n,i=c.TOKEN_PROGRAM_ID){if(!n)throw new u.TokenAccountNotFoundError;if(!n.owner.equals(i))throw new u.TokenInvalidAccountOwnerError;if(n.data.length<t.MINT_SIZE)throw new u.TokenInvalidAccountSizeError;const o=t.MintLayout.decode(n.data.slice(0,t.MINT_SIZE));let s=r.alloc(0);if(n.data.length>t.MINT_SIZE){if(n.data.length<=f.ACCOUNT_SIZE)throw new u.TokenInvalidAccountSizeError;if(n.data.length===h.MULTISIG_SIZE)throw new u.TokenInvalidAccountSizeError;if(n.data[f.ACCOUNT_SIZE]!=d.AccountType.Mint)throw new u.TokenInvalidMintError;s=n.data.slice(f.ACCOUNT_SIZE+d.ACCOUNT_TYPE_SIZE)}return{address:e,mintAuthority:o.mintAuthorityOption?o.mintAuthority:null,supply:o.supply,decimals:o.decimals,isInitialized:o.isInitialized,freezeAuthority:o.freezeAuthorityOption?o.freezeAuthority:null,tlvData:s}}function g(e,t,n){return i(this,void 0,void 0,(function*(){const r=(0,l.getMintLen)(t);return yield e.getMinimumBalanceForRentExemption(r,n)}))}t.MintLayout=(0,o.struct)([(0,o.u32)("mintAuthorityOption"),(0,s.publicKey)("mintAuthority"),(0,s.u64)("supply"),(0,o.u8)("decimals"),(0,s.bool)("isInitialized"),(0,o.u32)("freezeAuthorityOption"),(0,s.publicKey)("freezeAuthority")]),t.MINT_SIZE=t.MintLayout.span,t.getMint=function(e,t,n,r=c.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield e.getAccountInfo(t,n);return p(t,i,r)}))},t.unpackMint=p,t.getMinimumBalanceForRentExemptMint=function(e,t){return i(this,void 0,void 0,(function*(){return yield g(e,[],t)}))},t.getMinimumBalanceForRentExemptMintWithExtensions=g,t.getAssociatedTokenAddress=function(e,t,n=!1,r=c.TOKEN_PROGRAM_ID,o=c.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){if(!n&&!a.PublicKey.isOnCurve(t.toBuffer()))throw new u.TokenOwnerOffCurveError;const[i]=yield a.PublicKey.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],o);return i}))},t.getAssociatedTokenAddressSync=function(e,t,n=!1,r=c.TOKEN_PROGRAM_ID,i=c.ASSOCIATED_TOKEN_PROGRAM_ID){if(!n&&!a.PublicKey.isOnCurve(t.toBuffer()))throw new u.TokenOwnerOffCurveError;const[o]=a.PublicKey.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return o}},845022:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getMinimumBalanceForRentExemptMultisig=t.unpackMultisig=t.getMultisig=t.MULTISIG_SIZE=t.MultisigLayout=void 0;const i=n(996346),o=n(528813),s=n(881034),a=n(443382);function c(e,n,r=s.TOKEN_PROGRAM_ID){if(!n)throw new a.TokenAccountNotFoundError;if(!n.owner.equals(r))throw new a.TokenInvalidAccountOwnerError;if(n.data.length!=t.MULTISIG_SIZE)throw new a.TokenInvalidAccountSizeError;const i=t.MultisigLayout.decode(n.data);return Object.assign({address:e},i)}t.MultisigLayout=(0,i.struct)([(0,i.u8)("m"),(0,i.u8)("n"),(0,o.bool)("isInitialized"),(0,o.publicKey)("signer1"),(0,o.publicKey)("signer2"),(0,o.publicKey)("signer3"),(0,o.publicKey)("signer4"),(0,o.publicKey)("signer5"),(0,o.publicKey)("signer6"),(0,o.publicKey)("signer7"),(0,o.publicKey)("signer8"),(0,o.publicKey)("signer9"),(0,o.publicKey)("signer10"),(0,o.publicKey)("signer11")]),t.MULTISIG_SIZE=t.MultisigLayout.span,t.getMultisig=function(e,t,n,i=s.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=yield e.getAccountInfo(t,n);return c(t,r,i)}))},t.unpackMultisig=c,t.getMinimumBalanceForRentExemptMultisig=function(e,n){return r(this,void 0,void 0,(function*(){return yield e.getMinimumBalanceForRentExemption(t.MULTISIG_SIZE,n)}))}},480883:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeDecode=void 0,t.encodeDecode=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)})},658287:(e,t,n)=>{"use strict";var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.u256be=t.u256=t.u192be=t.u192=t.u128be=t.u128=t.u64be=t.u64=t.bigIntBE=t.bigInt=void 0;const i=n(996346),o=n(41528),s=n(480883);t.bigInt=e=>t=>{const n=(0,i.blob)(e,t),{encode:a,decode:c}=(0,s.encodeDecode)(n),u=n;return u.decode=(e,t)=>{const n=c(e,t);return(0,o.toBigIntLE)(r.from(n))},u.encode=(t,n,r)=>{const i=(0,o.toBufferLE)(t,e);return a(i,n,r)},u},t.bigIntBE=e=>t=>{const n=(0,i.blob)(e,t),{encode:a,decode:c}=(0,s.encodeDecode)(n),u=n;return u.decode=(e,t)=>{const n=c(e,t);return(0,o.toBigIntBE)(r.from(n))},u.encode=(t,n,r)=>{const i=(0,o.toBufferBE)(t,e);return a(i,n,r)},u},t.u64=(0,t.bigInt)(8),t.u64be=(0,t.bigIntBE)(8),t.u128=(0,t.bigInt)(16),t.u128be=(0,t.bigIntBE)(16),t.u192=(0,t.bigInt)(24),t.u192be=(0,t.bigIntBE)(24),t.u256=(0,t.bigInt)(32),t.u256be=(0,t.bigIntBE)(32)},625281:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decimal=t.WAD=void 0;const i=r(n(206391)),o=n(480883),s=n(658287);t.WAD=new i.default("1e+18"),t.decimal=e=>{const n=(0,s.u128)(e),{encode:r,decode:a}=(0,o.encodeDecode)(n),c=n;return c.decode=(e,n)=>{const r=a(e,n).toString();return new i.default(r).div(t.WAD)},c.encode=(e,n,i)=>{const o=BigInt(e.times(t.WAD).integerValue().toString());return r(o,n,i)},c}},528813:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(480883),t),i(n(658287),t),i(n(625281),t),i(n(804622),t),i(n(286254),t)},804622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bool=void 0;const r=n(996346),i=n(480883);t.bool=e=>{const t=(0,r.u8)(e),{encode:n,decode:o}=(0,i.encodeDecode)(t),s=t;return s.decode=(e,t)=>!!o(e,t),s.encode=(e,t,r)=>{const i=Number(e);return n(i,t,r)},s}},286254:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publicKey=void 0;const r=n(996346),i=n(627158),o=n(480883);t.publicKey=e=>{const t=(0,r.blob)(32,e),{encode:n,decode:s}=(0,o.encodeDecode)(t),a=t;return a.decode=(e,t)=>{const n=s(e,t);return new i.PublicKey(n)},a.encode=(e,t,r)=>{const i=e.toBuffer();return n(i,t,r)},a}},112671:(e,t,n)=>{"use strict";n.d(t,{H_:()=>i,_u:()=>o});var r=n(627158);const i=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),o=(new r.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"));new r.PublicKey("So11111111111111111111111111111111111111112"),new r.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP")},187842:(e,t,n)=>{"use strict";n.d(t,{$O:()=>a,Gl:()=>c,Or:()=>s,We:()=>i,iK:()=>o});class r extends(7042==n.j?Error:null){constructor(e){super(e)}}class i extends(7042==n.j?r:null){constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class o extends(7042==n.j?r:null){constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class s extends(7042==n.j?r:null){constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class a extends(7042==n.j?r:null){constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class c extends(7042==n.j?r:null){constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}},80562:(e,t,n)=>{"use strict";var r;n.d(t,{Q:()=>r,t:()=>i}),function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"}(r||(r={}));const i=1},970467:(e,t,n)=>{"use strict";n.d(t,{D0:()=>h});var r=n(996346),i=n(495242);if(7042==n.j)var o=n(112671);if(7042==n.j)var s=n(187842);if(7042==n.j)var a=n(80562);if(7042==n.j)var c=n(946330);var u,d=n(348834).Buffer;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"}(u||(u={}));const l=(0,r.struct)([(0,i.ZL)("mint"),(0,i.ZL)("owner"),(0,i.AW)("amount"),(0,r.u32)("delegateOption"),(0,i.ZL)("delegate"),(0,r.u8)("state"),(0,r.u32)("isNativeOption"),(0,i.AW)("isNative"),(0,i.AW)("delegatedAmount"),(0,r.u32)("closeAuthorityOption"),(0,i.ZL)("closeAuthority")]),f=l.span;async function h(e,t,n,r=o.H_){return function(e,t,n=o.H_){if(!t)throw new s.We;if(!t.owner.equals(n))throw new s.Or;if(t.data.length<f)throw new s.$O;const r=l.decode(t.data.slice(0,f));let i=d.alloc(0);if(t.data.length>f){if(t.data.length===c.Wx)throw new s.$O;if(t.data[f]!=a.Q.Account)throw new s.iK;i=t.data.slice(f+a.t)}return{address:e,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==u.Uninitialized,isFrozen:r.state===u.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:i}}(t,await e.getAccountInfo(t,n),r)}},312918:(e,t,n)=>{"use strict";n.d(t,{Am:()=>c});var r=n(996346),i=n(495242),o=n(627158);if(7042==n.j)var s=n(112671);if(7042==n.j)var a=n(187842);n(348834).Buffer;async function c(e,t,n=!1,r=s.H_,i=s._u){if(!n&&!o.PublicKey.isOnCurve(t.toBuffer()))throw new a.Gl;const[c]=await o.PublicKey.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return c}(0,r.struct)([(0,r.u32)("mintAuthorityOption"),(0,i.ZL)("mintAuthority"),(0,i.AW)("supply"),(0,r.u8)("decimals"),(0,i.Xg)("isInitialized"),(0,r.u32)("freezeAuthorityOption"),(0,i.ZL)("freezeAuthority")]).span},946330:(e,t,n)=>{"use strict";n.d(t,{Wx:()=>o});var r=n(996346),i=n(495242);const o=(0,r.struct)([(0,r.u8)("m"),(0,r.u8)("n"),(0,i.Xg)("isInitialized"),(0,i.ZL)("signer1"),(0,i.ZL)("signer2"),(0,i.ZL)("signer3"),(0,i.ZL)("signer4"),(0,i.ZL)("signer5"),(0,i.ZL)("signer6"),(0,i.ZL)("signer7"),(0,i.ZL)("signer8"),(0,i.ZL)("signer9"),(0,i.ZL)("signer10"),(0,i.ZL)("signer11")]).span},139809:(e,t,n)=>{"use strict";n.d(t,{Lk:()=>p});var r=28e5,i=2800001;function o(e){return Array.isArray(e)?"%5B"+e.map(o).join("%2C%20")+"%5D":"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function s([e,t]){return`${e}=${o(t)}`}var a=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;t&&Object.entries(Object.getOwnPropertyDescriptors(t)).forEach((([t,i])=>{"cause"===t?r={cause:i.value}:(void 0===n&&(n={__code:e}),Object.defineProperty(n,t,i))})),super(function(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(s).join("&");return btoa(t)}(t)}'`),`${n}\``}}(e,n),r),this.context=Object.freeze(void 0===n?{__code:e}:n),this.name="SolanaError"}};var c=e=>{return t={getSizeFromValue:t=>{const[n,r]=u(t,e[0]);if(!r)return t.length;const i=d(r,e);return n.length+Math.ceil(i.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new a(8078012,{alphabet:e,base:e.length,value:n})}(e,t),""===t)return r;const[i,o]=u(t,e[0]);if(!o)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let s=d(o,e);const c=[];for(;s>0n;)c.unshift(Number(s%256n)),s/=256n;const l=[...Array(i.length).fill(0),...c];return n.set(l,r),r+l.length}},Object.freeze({...t,encode:e=>{const n=new Uint8Array(function(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}(e,t));return t.write(e,n,0),n}});var t};function u(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function d(e,t){const n=BigInt(t.length);let r=0n;for(const i of e)r*=n,r+=BigInt(t.indexOf(i));return r}var l,f=()=>c("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function h(e){if(e.length<32||e.length>44)throw new a(i,{actualLength:e.length});const t=(l||(l=f()),l).encode(e).byteLength;if(32!==t)throw new a(r,{actualLength:t})}function p(e){return h(e),e}globalThis.TextDecoder,globalThis.TextEncoder},495242:(e,t,n)=>{"use strict";n.d(t,{Xg:()=>d,ZL:()=>f,AW:()=>u});var r=n(996346),i=n(41528);const o=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var s=n(348834).Buffer;const a=e=>t=>{const n=(0,r.blob)(e,t),{encode:a,decode:c}=o(n),u=n;return u.decode=(e,t)=>{const n=c(e,t);return(0,i.toBigIntLE)(s.from(n))},u.encode=(t,n,r)=>{const o=(0,i.toBufferLE)(t,e);return a(o,n,r)},u},c=e=>t=>{const n=(0,r.blob)(e,t),{encode:a,decode:c}=o(n),u=n;return u.decode=(e,t)=>{const n=c(e,t);return(0,i.toBigIntBE)(s.from(n))},u.encode=(t,n,r)=>{const o=(0,i.toBufferBE)(t,e);return a(o,n,r)},u},u=a(8);c(8),a(16),c(16),a(24),c(24),a(32),c(32),new(n(372558).Z)("1e+18");const d=e=>{const t=(0,r.u8)(e),{encode:n,decode:i}=o(t),s=t;return s.decode=(e,t)=>!!i(e,t),s.encode=(e,t,r)=>{const i=Number(e);return n(i,t,r)},s};var l=n(627158);const f=e=>{const t=(0,r.blob)(32,e),{encode:n,decode:i}=o(t),s=t;return s.decode=(e,t)=>{const n=i(e,t);return new l.PublicKey(n)},s.encode=(e,t,r)=>{const i=e.toBuffer();return n(i,t,r)},s}},358542:(e,t,n)=>{"use strict";function r(e){return e.toBase58()}n.d(t,{IY:()=>r})},911092:(e,t,n)=>{"use strict";n.d(t,{Aij:()=>E,BjO:()=>q,Dze:()=>_,Gxb:()=>R,HmQ:()=>x,JY_:()=>M,RE:()=>B,XsN:()=>C,YvZ:()=>P,ZVV:()=>S,bvN:()=>L,g1$:()=>K,qXh:()=>O,rjo:()=>W,ybQ:()=>D});var r=10,i=-32700,o=-32603,s=-32602,a=-32601,c=-32600,u=-32015,d=-32014,l=-32012,f=-32010,h=-32009,p=-32007,g=-32006,y=-32004,m=-32002,b=-32001,I=4615e3,k=4615026,w=705e4,A=7050030,v=7050031,T=7050035,_=81e5,S=8100002,E=8100003,P=819e4,O=8190001,x=8190002,M=8190003,R=8190004,C=99e5,D=9900001,B=9900004;function N(e){return Array.isArray(e)?"%5B"+e.map(N).join("%2C%20")+"%5D":"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function z([e,t]){return`${e}=${N(t)}`}function L(e,t){return!!(e instanceof Error&&"SolanaError"===e.name)&&(void 0===t||e.context.__code===t)}var K=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;t&&Object.entries(Object.getOwnPropertyDescriptors(t)).forEach((([e,t])=>{"cause"===e?r={cause:t.value}:(void 0===n&&(n={}),Object.defineProperty(n,e,t))})),super(function(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(z).join("&");return btoa(t)}(t)}'`),`${n}\``}}(e,n),r),this.context=void 0===n?{}:n,this.context.__code=e,this.name="SolanaError"}};function W(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function j({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},i){let o,s;"string"==typeof r?o=r:(o=Object.keys(r)[0],s=r[o]);const a=e+n.indexOf(o),c=t(a,o,s),u=new K(a,c);return W(u,i),u}var U=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function F(e,t){const n=Number(e);return j({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===I?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===k?{code:Number(r),index:n}:{index:n},orderedErrorNames:U,rpcEnumError:t},F)}var G=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function H(e){return"object"==typeof e&&"InstructionError"in e?F(...e.InstructionError):j({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===w?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===A?{index:Number(n)}:e===v||e===T?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:G,rpcEnumError:e},H)}function q(e){let t;if("object"==typeof(n=e)&&null!==n&&"code"in n&&"message"in n&&("number"==typeof n.code||"bigint"==typeof n.code)&&"string"==typeof n.message){const{code:n,data:r,message:I}=e,k=Number(n);if(k===m){const{err:e,...n}=r,i=e?{cause:H(e)}:null;t=new K(m,{...n,...i})}else{let e;switch(k){case o:case s:case c:case a:case i:case l:case b:case y:case d:case f:case h:case p:case g:case u:e={__serverMessage:I};break;default:"object"!=typeof r||Array.isArray(r)||(e=r)}t=new K(k,e)}}else{const n="object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Malformed JSON-RPC error with no message attribute";t=new K(r,{error:e,message:n})}var n;return W(t,q),t}},67841:(e,t,n)=>{"use strict";function r(e,...t){return t.reduce(((e,t)=>t(e)),e)}n.d(t,{z:()=>r})},766195:(e,t,n)=>{"use strict";function r(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let o=!1;if("\\"===e[r]&&(t.push(e[r++]),o=!o),'"'!==e[r]){if(!n){const n=i(e,r);if(n?.length){r+=n.length-1,n.match(/\.|[eE]-/)?t.push(n):t.push(`{"$n":"${n}"}`);continue}}t.push(e[r])}else t.push(e[r]),o||(n=!n)}return t.join("")}(e),((e,t)=>function(e){return!!e&&"object"==typeof e&&"$n"in e&&"string"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t))}function i(e,t){if(!e[t]?.match(/[-\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return n?n[0]:null}n.d(t,{$M:()=>c,A6:()=>a,K9:()=>r});var o=0n;function s(){const e=o;return o++,e.toString()}function a(e){return{id:s(),jsonrpc:"2.0",method:e.methodName,params:e.params}}function c(e,t){return function(e){return e.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}(JSON.stringify(e,((e,t)=>"bigint"==typeof t?function(e){return{$n:`${e}`}}(t):t),t))}},606048:(e,t,n)=>{"use strict";n.d(t,{WZ:()=>L});var r,i=n(911092),o=globalThis.AbortController,s=globalThis.EventTarget;function a(){return Symbol(void 0)}var c=Symbol();function u(e){return{on(t,n,r){function i(e){if(e instanceof CustomEvent){const t=e.detail;n(t)}else n()}return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i)}}}}function d(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function l(e){const t=new Set,n={deferreds:t,settled:!1};return Promise.resolve(e).then((e=>{for(const{resolve:n}of t)n(e);t.clear(),n.settled=!0}),(e=>{for(const{reject:n}of t)n(e);t.clear(),n.settled=!0})),n}var f=new WeakMap;var h=n(766195);var p=globalThis.AbortController,g=new WeakMap;function y(e,t,n){if(void 0===n)return;const r=function(e){let t=g.get(e);return t||g.set(e,t={}),t}(t);!r[n]&&e>0&&(r[n]=0);const i=e+r[n];return i<=0?delete r[n]:r[n]=i,i}var m=new WeakMap;function b(e,t,n){let r=m.get(e);r||m.set(e,r=new WeakMap);const i=n??e;let o=r.get(i);return o||r.set(i,o=function(e,r,i){let o;const a=new s,c=u(a);return{...c,on(r,i,s){if(!o){const r=e.on("message",(e=>{const r=(e=>{const r=e;if(!("method"in r))return;const i=n?n(r.params.result,t):r.params.result;return[`notification:${r.params.subscription}`,i]})(e);if(!r)return;const[i,o]=r;a.dispatchEvent(new CustomEvent(i,{detail:o}))}));o={dispose:r,numSubscribers:0}}o.numSubscribers++;const u=c.on(r,i,s);let d=!0;function l(){d&&(d=!1,s?.signal.removeEventListener("abort",l),o.numSubscribers--,0===o.numSubscribers&&(o.dispose(),o=void 0),u())}return s?.signal.addEventListener("abort",l),l}}}(e)),o}async function I({channel:e,responseTransformer:t,signal:n,subscribeRequest:r,unsubscribeMethodName:o}){let s;e.on("error",(()=>{s=void 0,g.delete(e)}),{signal:n});const a=new Promise(((t,r)=>{function i(){if(0===function(e,t){return y(-1,e,t)}(e,s)){const t=(0,h.A6)({methodName:o,params:[s]});s=void 0,e.send(t).catch((()=>{}))}r(this.reason)}n.aborted?i.call(n):n.addEventListener("abort",i)})),c=(0,h.A6)(r);await e.send(c);const u=new Promise(((t,r)=>{const o=new p;n.addEventListener("abort",o.abort.bind(o));const s={signal:o.signal};e.on("error",(e=>{o.abort(),r(e)}),s),e.on("message",(e=>{e&&"object"==typeof e&&"id"in e&&e.id===c.id&&(o.abort(),"error"in e?r((0,i.BjO)(e.error)):t(e.result))}),s)}));if(s=await async function(e){let t;const n=new Promise(((n,r)=>{t={reject:r,resolve:n};for(const i of e){if(!d(i)){Promise.resolve(i).then(n,r);continue}let e=f.get(i);void 0===e?(e=l(i),e.deferreds.add(t),f.set(i,e)):e.settled?Promise.resolve(i).then(n,r):e.deferreds.add(t)}}));return await n.finally((()=>{for(const n of e)d(n)&&f.get(n).deferreds.delete(t)}))}([a,u]),null==s)throw new i.g1$(i.qXh);!function(e,t){y(1,e,t)}(e,s);const m=b(e,r,t),I=`notification:${s}`;return{on(t,n,r){switch(t){case"notification":return m.on(I,n,r);case"error":return e.on("error",n,r);default:throw new i.g1$(i.RE,{channelName:t,supportedChannelNames:["notification","error"]})}}}}var k,w=n(823885);function A(e){return function(e){const t=(0,w.IS)(e),n=(0,w.RO)({allowedNumericKeyPaths:(k||(k={accountNotifications:w.w2.map((e=>["value",...e])),blockNotifications:[["value","block","transactions",w._H,"meta","preTokenBalances",w._H,"accountIndex"],["value","block","transactions",w._H,"meta","preTokenBalances",w._H,"uiTokenAmount","decimals"],["value","block","transactions",w._H,"meta","postTokenBalances",w._H,"accountIndex"],["value","block","transactions",w._H,"meta","postTokenBalances",w._H,"uiTokenAmount","decimals"],["value","block","transactions",w._H,"meta","rewards",w._H,"commission"],["value","block","transactions",w._H,"meta","innerInstructions",w._H,"index"],["value","block","transactions",w._H,"meta","innerInstructions",w._H,"instructions",w._H,"programIdIndex"],["value","block","transactions",w._H,"meta","innerInstructions",w._H,"instructions",w._H,"accounts",w._H],["value","block","transactions",w._H,"transaction","message","addressTableLookups",w._H,"writableIndexes",w._H],["value","block","transactions",w._H,"transaction","message","addressTableLookups",w._H,"readonlyIndexes",w._H],["value","block","transactions",w._H,"transaction","message","instructions",w._H,"programIdIndex"],["value","block","transactions",w._H,"transaction","message","instructions",w._H,"accounts",w._H],["value","block","transactions",w._H,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",w._H,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",w._H,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",w._H,"commission"]],programNotifications:w.w2.flatMap((e=>[["value",w._H,"account",...e],[w._H,"account",...e]]))}),k)});return function(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,i=r.toString();return function(...t){const n={methodName:i,params:t},r=e.requestTransformer?e.requestTransformer(n):n;return{execute:t=>e.planExecutor({...t,request:r}),request:r}}}})}({planExecutor:({request:e,...t})=>I({...t,responseTransformer:n,subscribeRequest:{...e,methodName:e.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:e.methodName.replace(/Notifications$/,"Unsubscribe")}),requestTransformer:t})}(e)}var v=globalThis.EventTarget,T=globalThis.WebSocket,_=1e3,S=n(67841),E=Object.prototype.toString,P=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function O(e,t){let n,r,i,o,s,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if("toJSON"in e&&"function"==typeof e.toJSON)return O(e.toJSON(),t);if(c=E.call(e),"[object Array]"===c){for(i="[",r=e.length-1,n=0;n<r;n++)i+=O(e[n],!0)+",";return r>-1&&(i+=O(e[n],!0)),i+"]"}if("[object Object]"===c){for(o=P(e).sort(),r=o.length,i="",n=0;n<r;)s=o[n],a=O(e[s],!1),void 0!==a&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"bigint":return`${e.toString()}n`;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}function x(e){const t=O(e,!1);if(void 0!==t)return""+t}function M(e,t,n){let r="";if("number"==typeof t[0]){const e=t[0]+1,n=e%10,i=e%100;r=1==n&&11!=i?e+"st":2==n&&12!=i?e+"nd":3==n&&13!=i?e+"rd":e+"th"}else r=`\`${t[0].toString()}\``;const o=t.length>1?t.slice(1).map((e=>"number"==typeof e?`[${e}]`:e)).join("."):void 0,s=new i.g1$(i.Dze,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:o?` at path \`${o}\``:"",value:n,...void 0!==o?{path:o}:void 0});return(0,i.rjo)(s,M),s}var R={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw M(e.methodName,t,n)}},C=globalThis.AbortController,D={jsonrpc:"2.0",method:"ping"};function B(e){return(0,S.z)(e,(e=>function(e,t){return Object.freeze({...e,on:(n,r,i)=>"message"!==n?e.on(n,r,i):e.on("message",(e=>r(t(e))),i)})}(e,h.K9)),(e=>function(e,t){return Object.freeze({...e,send:n=>e.send(t(n))})}(e,h.$M)))}function N(e){return function(e){if(!1===/^wss?:/i.test(e.url)){const t=e.url.match(/^([^:]+):/);throw new DOMException(t?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${t[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${e.url}' is invalid.`)}const{intervalMs:t,...n}=e;return function(e,{maxSubscriptionsPerChannel:t,minChannels:n}){const r={entries:[],freeChannelIndex:-1};function i(){if(r.entries.length<n)return void(r.freeChannelIndex=-1);let e;for(let n=0;n<r.entries.length;n++){const i=(r.freeChannelIndex+n+2)%r.entries.length,o=r.entries[i];o.subscriptionCount<t&&(!e||e.subscriptionCount>=o.subscriptionCount)&&(e={poolIndex:i,subscriptionCount:o.subscriptionCount})}r.freeChannelIndex=e?.poolIndex??-1}return function({abortSignal:t}){let n;function o(){const e=r.entries.findIndex((e=>e===n));r.entries.splice(e,1),n.dispose(),i()}if(-1===r.freeChannelIndex){const t=new C,i=e({abortSignal:t.signal});i.then((e=>{e.on("error",o,{signal:t.signal})})).catch(o),n={channel:i,dispose(){t.abort()},subscriptionCount:0},r.entries.push(n)}else n=r.entries[r.freeChannelIndex];return n.subscriptionCount++,t.addEventListener("abort",(function(){n.subscriptionCount--,0===n.subscriptionCount?o():-1!==r.freeChannelIndex&&(r.freeChannelIndex--,i())})),i(),n.channel}}((({abortSignal:r})=>function({sendBufferHighWatermark:e,signal:t,url:n}){if(t.aborted)return Promise.reject(t.reason);let r,o=!1;const s=new Set;function a(){s.forEach((e=>{e()})),s.clear()}function c(){a(),o||y(t.reason),g.readyState!==T.CLOSED&&g.readyState!==T.CLOSING&&g.close(_)}function d(e){if(!t.aborted&&!o){const t=new i.g1$(i.Gxb,{errorEvent:e});y(t),f.dispatchEvent(new CustomEvent("error",{detail:t}))}}function l(e){t.aborted||f.dispatchEvent(new CustomEvent("message",{detail:e.data}))}const f=new v,h=u(f);function p(){o=!0,m({...h,async send(t){if(g.readyState!==T.OPEN)throw new i.g1$(i.JY_);if(!r&&g.bufferedAmount>e){let t;const n=new Promise(((n,o)=>{const s=setInterval((()=>{g.readyState===T.OPEN&&g.bufferedAmount>e||(clearInterval(s),r=void 0,n())}),16);t=()=>{r=void 0,clearInterval(s),o(new i.g1$(i.HmQ))}}));r={onCancel:t,promise:n}}r&&(!ArrayBuffer.isView(t)||t instanceof DataView||(t=new(0,t.constructor)(t)),await r.promise),g.send(t)}})}const g=new T(n);let y,m;return t.addEventListener("abort",c),g.addEventListener("close",(function e(n){a(),r?.onCancel(),t.removeEventListener("abort",c),g.removeEventListener("close",e),g.removeEventListener("error",d),g.removeEventListener("message",l),g.removeEventListener("open",p),t.aborted||n.wasClean&&n.code===_||f.dispatchEvent(new CustomEvent("error",{detail:new i.g1$(i.JY_,{cause:n})}))})),g.addEventListener("error",d),g.addEventListener("message",l),g.addEventListener("open",p),new Promise(((e,t)=>{y=t,m=e}))}({...n,sendBufferHighWatermark:e.sendBufferHighWatermark??131072,signal:r}).then(e.jsonSerializer).then((e=>function({abortSignal:e,channel:t,intervalMs:n}){let r;function o(){t.send(D).catch((e=>{(0,i.bvN)(e,i.JY_)&&a.abort()}))}function s(){clearInterval(r),r=setInterval(o,n)}const a=new C;return a.signal.addEventListener("abort",(()=>{clearInterval(r)})),e.addEventListener("abort",(()=>{a.abort()})),t.on("error",(()=>{a.abort()}),{signal:a.signal}),t.on("message",s,{signal:a.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",(function(){clearInterval(r)}),{signal:a.signal}),globalThis.addEventListener("online",(function(){o(),s()}),{signal:a.signal}),{...t,send:(...e)=>(a.signal.aborted||s(),t.send(...e))}}({abortSignal:r,channel:e,intervalMs:t??5e3})))),{maxSubscriptionsPerChannel:e.maxSubscriptionsPerChannel??100,minChannels:e.minChannels??1})}({...e,jsonSerializer:B})}function z(e,t){return n=function({createChannel:e}){return(0,S.z)(function(e){return async({execute:t,signal:n})=>{const r=await e({abortSignal:n});return await t({channel:r,signal:n})}}(e),(e=>function(e){const t=new Map;return function(n){const{request:r,signal:i}=n,o=x([r.methodName,r.params]);let s=t.get(o);if(!s){const r=new C,i=e({...n,signal:r.signal});i.then((e=>{e.on("error",(()=>{t.delete(o),r.abort()}),{signal:r.signal})})).catch((()=>{})),t.set(o,s={abortController:r,dataPublisherPromise:i,numSubscribers:0})}return s.numSubscribers++,i.addEventListener("abort",(()=>{s.numSubscribers--,0===s.numSubscribers&&queueMicrotask((()=>{0===s.numSubscribers&&(t.delete(o),s.abortController.abort())}))}),{signal:s.abortController.signal}),s.dataPublisherPromise}}(e)))}({createChannel:N({...t,url:e})}),s={api:A(R),transport:n},new Proxy(s.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(e,t,n){if("then"!==t)return function(...u){const d=t.toString(),l=Reflect.get(e,d,n);if(!l)throw new i.g1$(i.YvZ,{notificationName:d});const f=l(...u);return h=s.transport,p=f,{subscribe:async({abortSignal:e})=>function({abortSignal:e,dataChannelName:t,dataPublisher:n,errorChannelName:s}){const u=new Map;function d(e){for(const[t,n]of u.entries())n.__hasPolled?(u.delete(t),n.onError(e)):n.publishQueue.push({__type:1,err:e})}const l=new o;e.addEventListener("abort",(()=>{l.abort(),d(r||=a())}));const f={signal:l.signal};let h=c;return n.on(s,(e=>{h===c&&(h=e,l.abort(),d(e))}),f),n.on(t,(e=>{u.forEach(((t,n)=>{if(t.__hasPolled){const{onData:r}=t;u.set(n,{__hasPolled:!1,publishQueue:[]}),r(e)}else t.publishQueue.push({__type:0,data:e})}))}),f),{async*[Symbol.asyncIterator](){if(e.aborted)return;if(h!==c)throw h;const t=Symbol();u.set(t,{__hasPolled:!1,publishQueue:[]});try{for(;;){const e=u.get(t);if(!e)throw new i.g1$(i.XsN);if(e.__hasPolled)throw new i.g1$(i.ybQ);const n=e.publishQueue;try{if(n.length){e.publishQueue=[];for(const e of n){if(0!==e.__type)throw e.err;yield e.data}}else yield await new Promise(((e,n)=>{u.set(t,{__hasPolled:!0,onData:e,onError:n})}))}catch(e){if(e===(r||=a()))return;throw e}}}finally{u.delete(t)}}}}({abortSignal:e,dataChannelName:"notification",dataPublisher:await h({signal:e,...p}),errorChannelName:"error"})};var h,p}}});var n,s}function L(e,t){return z(e,t)}},823885:(e,t,n)=>{"use strict";n.d(t,{H8:()=>I,IS:()=>f,It:()=>k,RO:()=>y,UR:()=>m,_H:()=>s,oD:()=>g,w2:()=>b});var r=n(67841),i=n(911092);function o(e){return"bigint"==typeof e?Number(e):e}var s={};function a(e){return function t(n,r){if(Array.isArray(n))return n.map(((e,n)=>{const i={...r,keyPath:[...r.keyPath,n]};return t(e,i)}));if("object"==typeof n&&null!==n){const e={};for(const i in n){if(!Object.prototype.hasOwnProperty.call(n,i))continue;const o={...r,keyPath:[...r.keyPath,i]};e[i]=t(n[i],o)}return e}return e.reduce(((e,t)=>t(e,r)),n)}}function c(e,t){return n=>{const r=a(e);return Object.freeze({...n,params:r(n.params,t)})}}function u({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=t[n];if(void 0===i||i&&"object"==typeof i&&!Array.isArray(i))if(i&&e in i){if(!i[e]||"finalized"===i[e]){const r=[...t],{[e]:o,...s}=i;return Object.keys(s).length>0?r[n]=s:n===r.length-1?r.length--:r[n]=void 0,r}}else if("finalized"!==r){const o=[...t];return o[n]={...i,[e]:r},o}return t}function d(e){return(t,{keyPath:n})=>("bigint"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var l={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function f(e){const t=e?.onIntegerOverflow;return n=>{return(0,r.z)(n,t?(i=t,e=>c([d(((...t)=>i(e,...t)))],{keyPath:[]})(e)):e=>e,c([o],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const o=t[i];return null==o?n:Object.freeze({methodName:i,params:u({commitmentPropertyName:"sendTransaction"===i?"preflightCommitment":"commitment",optionsObjectPositionInParams:o,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:l}));var i}}function h(e){return function(t,{keyPath:n}){return"number"==typeof t&&Number.isInteger(t)||"bigint"==typeof t?function(e,t){return t.some((t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],i=t[n];if(i!==r&&(i!==s||"number"!=typeof r))return!1}return!0}))}(n,e)?Number(t):BigInt(t):t}}function p(e){return t=[h(e)],n={keyPath:[]},e=>a(t)(e,n);var t,n}function g(e){return(t,n)=>{const o=n.methodName,s=e?.allowedNumericKeyPaths&&o?e.allowedNumericKeyPaths[o]:void 0;return(0,r.z)(t,(e=>(e=>{const t=e;if("error"in t)throw(0,i.BjO)(t.error);return t})(e)),(e=>e.result),(e=>p(s??[])(e,n)))}}function y(e){return(t,n)=>{const i=n.methodName,o=e?.allowedNumericKeyPaths&&i?e.allowedNumericKeyPaths[i]:void 0;return(0,r.z)(t,(e=>p(o??[])(e,n)))}}var m=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",s,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",s,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",s,"state","preUpdateAverageRate"],["data","parsed","info","extensions",s,"state","currentRate"]],b=[...m,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",s,"confirmationCount"]],I=[["index"],["instructions",s,"accounts",s],["instructions",s,"programIdIndex"],["instructions",s,"stackHeight"]],k=[["addressTableLookups",s,"writableIndexes",s],["addressTableLookups",s,"readonlyIndexes",s],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",s,"accounts",s],["instructions",s,"programIdIndex"],["instructions",s,"stackHeight"]]},370558:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(911092);function i(e){const{fromJson:t,headers:n,toJson:i,url:o}=e,s=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const a=i?i(e):JSON.stringify(e),c={body:a,headers:{...s,accept:"application/json","content-length":a.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},u=await fetch(o,c);if(!u.ok)throw new r.g1$(r.ZVV,{headers:u.headers,message:u.statusText,statusCode:u.status});return t?t(await u.text(),e):await u.json()}}},567798:(e,t,n)=>{"use strict";n.d(t,{Ks:()=>u});var r,i=n(766195),o=n(823885);var s=n(911092);function a(e,t,n){let r="";if("number"==typeof t[0]){const e=t[0]+1,n=e%10,i=e%100;r=1==n&&11!=i?e+"st":2==n&&12!=i?e+"nd":3==n&&13!=i?e+"rd":e+"th"}else r=`\`${t[0].toString()}\``;const i=t.length>1?t.slice(1).map((e=>"number"==typeof e?`[${e}]`:e)).join("."):void 0,o=new s.g1$(s.Dze,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...void 0!==i?{path:i}:void 0});return(0,s.rjo)(o,a),o}var c={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw a(e.methodName,t,n)}};function u(e){return t={api:(n=c,function(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,o=r.toString();return function(...t){const n=Object.freeze({methodName:o,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const o=(0,i.A6)(r),s=await n({payload:o,signal:t});return e?.responseTransformer?e.responseTransformer(s,r):s}})}}})}({requestTransformer:(0,o.IS)(n),responseTransformer:(0,o.oD)({allowedNumericKeyPaths:(r||(r={getAccountInfo:o.w2.map((e=>["value",...e])),getBlock:[["transactions",o._H,"meta","preTokenBalances",o._H,"accountIndex"],["transactions",o._H,"meta","preTokenBalances",o._H,"uiTokenAmount","decimals"],["transactions",o._H,"meta","postTokenBalances",o._H,"accountIndex"],["transactions",o._H,"meta","postTokenBalances",o._H,"uiTokenAmount","decimals"],["transactions",o._H,"meta","rewards",o._H,"commission"],...o.H8.map((e=>["transactions",o._H,"meta","innerInstructions",o._H,...e])),...o.It.map((e=>["transactions",o._H,"transaction","message",...e])),["rewards",o._H,"commission"]],getClusterNodes:[[o._H,"featureSet"],[o._H,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[o._H,"commission"]],getMultipleAccounts:o.w2.map((e=>["value",o._H,...e])),getProgramAccounts:o.w2.flatMap((e=>[["value",o._H,"account",...e],[o._H,"account",...e]])),getRecentPerformanceSamples:[[o._H,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:o.UR.map((e=>["value",o._H,"account",...e])),getTokenAccountsByOwner:o.UR.map((e=>["value",o._H,"account",...e])),getTokenLargestAccounts:[["value",o._H,"decimals"],["value",o._H,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",o._H,"accountIndex"],["meta","preTokenBalances",o._H,"uiTokenAmount","decimals"],["meta","postTokenBalances",o._H,"accountIndex"],["meta","postTokenBalances",o._H,"uiTokenAmount","decimals"],["meta","rewards",o._H,"commission"],...o.H8.map((e=>["meta","innerInstructions",o._H,...e])),...o.It.map((e=>["transaction","message",...e]))],getVersion:[["feature-set"]],getVoteAccounts:[["current",o._H,"commission"],["delinquent",o._H,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...o.w2.map((e=>["value","accounts",o._H,...e])),...o.H8.map((e=>["value","innerInstructions",o._H,...e]))]}),r)})})),transport:e},function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(t,n,r){if("then"!==n)return function(...i){const o=n.toString(),a=Reflect.get(t,o,r);if(!a)throw new s.g1$(s.Aij,{method:o,params:i});const c=a(...i);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,c)}}})}(t);var t,n}globalThis.AbortController},330020:(e,t,n)=>{"use strict";n.d(t,{Gd:()=>a,H_:()=>i,_u:()=>s,lP:()=>c,nA:()=>o});var r=n(627158);const i=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),o=new r.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),s=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),a=new r.PublicKey("So11111111111111111111111111111111111111112");function c(e){return!e.equals(i)}new r.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP")},174141:(e,t,n)=>{"use strict";n.d(t,{$8:()=>p,$O:()=>a,BT:()=>d,Gl:()=>u,Ju:()=>f,Or:()=>s,We:()=>i,cs:()=>g,fu:()=>l,iK:()=>o,iT:()=>c,xR:()=>h});class r extends Error{constructor(e){super(e)}}class i extends r{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class o extends r{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class s extends r{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class a extends r{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class c extends r{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class u extends r{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}class d extends r{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}class l extends r{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}}class f extends r{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}}class h extends r{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}class p extends r{constructor(){super(...arguments),this.name="TokenTransferHookInvalidPubkeyData"}}class g extends r{constructor(){super(...arguments),this.name="TokenTransferHookPubkeyDataTooSmall"}}},874776:(e,t,n)=>{"use strict";var r;n.d(t,{Q:()=>r,t:()=>i}),function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"}(r||(r={}));const i=1},504351:(e,t,n)=>{"use strict";n.d(t,{LC:()=>p});var r=n(996346),i=n(495242),o=n(627158),s=n(330020),a=n(174141),c=n(800907),u=n(166636);class d extends r.Layout{constructor(e){super(-1,e),this.publicKeyLayout=(0,i.ZL)()}decode(e,t=0){return 0===e[t]?null:this.publicKeyLayout.decode(e,t+1)}encode(e,t,n=0){return null===e?(t[n]=0,1):(t[n]=1,this.publicKeyLayout.encode(e,t,n+1),33)}getSpan(e,t=0){if(e)return 0===e[t]?1:1+this.publicKeyLayout.span;throw new RangeError("Buffer must be provided")}}var l,f=n(348834).Buffer;!function(e){e[e.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",e[e.TransferCheckedWithFee=1]="TransferCheckedWithFee",e[e.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",e[e.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",e[e.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",e[e.SetTransferFee=5]="SetTransferFee"}(l||(l={})),(0,r.struct)([(0,r.u8)("instruction"),(0,r.u8)("transferFeeInstruction"),new d("transferFeeConfigAuthority"),new d("withdrawWithheldAuthority"),(0,r.u16)("transferFeeBasisPoints"),(0,i.AW)("maximumFee")]);const h=(0,r.struct)([(0,r.u8)("instruction"),(0,r.u8)("transferFeeInstruction"),(0,i.AW)("amount"),(0,r.u8)("decimals"),(0,i.AW)("fee")]);function p(e,t,n,r,i,d,p,g=[],y=s.nA){if(!(0,s.lP)(y))throw new a.BT;const m=f.alloc(h.span);h.encode({instruction:u.c.TransferFeeExtension,transferFeeInstruction:l.TransferCheckedWithFee,amount:i,decimals:d,fee:p},m);const b=(0,c.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}],r,g);return new o.TransactionInstruction({keys:b,programId:y,data:m})}(0,r.struct)([(0,r.u8)("instruction"),(0,r.u8)("transferFeeInstruction")]),(0,r.struct)([(0,r.u8)("instruction"),(0,r.u8)("transferFeeInstruction"),(0,r.u8)("numTokenAccounts")]),(0,r.struct)([(0,r.u8)("instruction"),(0,r.u8)("transferFeeInstruction")]),(0,r.struct)([(0,r.u8)("instruction"),(0,r.u8)("transferFeeInstruction"),(0,r.u16)("transferFeeBasisPoints"),(0,i.AW)("maximumFee")])},295906:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>K,N6:()=>L});var r,i,o=n(996346),s=n(627158),a=n(330020),c=n(495242),u=n(899934),d=n(504351),l=n(135629);(i=r||(r={}))[i.Uninitialized=0]="Uninitialized",i[i.TransferFeeConfig=1]="TransferFeeConfig",i[i.TransferFeeAmount=2]="TransferFeeAmount",i[i.MintCloseAuthority=3]="MintCloseAuthority",i[i.ConfidentialTransferMint=4]="ConfidentialTransferMint",i[i.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",i[i.DefaultAccountState=6]="DefaultAccountState",i[i.ImmutableOwner=7]="ImmutableOwner",i[i.MemoTransfer=8]="MemoTransfer",i[i.NonTransferable=9]="NonTransferable",i[i.InterestBearingConfig=10]="InterestBearingConfig",i[i.CpiGuard=11]="CpiGuard",i[i.PermanentDelegate=12]="PermanentDelegate",i[i.NonTransferableAccount=13]="NonTransferableAccount",i[i.TransferHook=14]="TransferHook",i[i.TransferHookAccount=15]="TransferHookAccount",i[i.MetadataPointer=18]="MetadataPointer",i[i.TokenMetadata=19]="TokenMetadata",i[i.GroupPointer=20]="GroupPointer",i[i.TokenGroup=21]="TokenGroup",i[i.GroupMemberPointer=22]="GroupMemberPointer",i[i.TokenGroupMember=23]="TokenGroupMember",i[i.ScaledUiAmountConfig=25]="ScaledUiAmountConfig",i[i.PausableConfig=26]="PausableConfig",i[i.PausableAccount=27]="PausableAccount";const f=2,h=2;function p(e){return e+f+h}var g=n(174141),y=n(348834).Buffer;const m=1,b=1,I=1,k=1,w=1,A=1,v=1,T=1;async function _(e,t,n,r){const[i,...o]=e,s=new Uint8Array(o);switch(i){case 0:return null;case 1:return function(e){if(e.length<1)throw new g.Ju;const[t,...n]=e;if(n.length<t)throw new g.Ju;return{data:y.from(n.slice(0,t)),packedLength:m+b+t}}(s);case 2:return function(e,t){if(e.length<2)throw new g.Ju;const[n,r]=e;if(t.length<r+n)throw new g.Ju;return{data:t.subarray(n,n+r),packedLength:m+I+k}}(s,n);case 3:return function(e,t){if(e.length<1)throw new g.Ju;const[n]=e;if(t.length<=n)throw new g.Ju;return{data:t[n].pubkey.toBuffer(),packedLength:m+w}}(s,t);case 4:return async function(e,t,n){if(e.length<3)throw new g.Ju;const[r,i,o]=e;if(t.length<=r)throw new g.Ju;const s=await n.getAccountInfo(t[r].pubkey);if(null==s)throw new g.xR;if(s.data.length<i+o)throw new g.Ju;return{data:s.data.subarray(i,i+o),packedLength:m+A+v+T}}(s,t,r);default:throw new g.Ju}}async function S(e,t,n,r){const[i,...o]=e,a=new Uint8Array(o);switch(i){case 1:return function(e,t){if(e.length<1)throw new g.$8;const n=e[0];if(t.length<n+s.PUBLIC_KEY_LENGTH)throw new g.cs;return new s.PublicKey(t.subarray(n,n+s.PUBLIC_KEY_LENGTH))}(a,n);case 2:return async function(e,t,n){if(e.length<2)throw new g.$8;const[r,i]=e;if(t.length<=r)throw new g.xR;const o=await n.getAccountInfo(t[r].pubkey);if(null==o)throw new g.fu;if(o.data.length<i+s.PUBLIC_KEY_LENGTH)throw new g.cs;return new s.PublicKey(o.data.subarray(i,i+s.PUBLIC_KEY_LENGTH))}(a,t,r);default:throw new g.$8}}var E=n(348834).Buffer;const P=(0,o.struct)([(0,c.ZL)("authority"),(0,c.ZL)("programId")]);function O(e){const t=function(e,t){let n=0;for(;p(n)<=t.length;){const r=t.readUInt16LE(n),i=t.readUInt16LE(n+f),o=p(n);if(r==e)return t.slice(o,o+i);n=o+i}return null}(r.TransferHook,e.tlvData);return null!==t?P.decode(t):null}P.span;(0,o.struct)([(0,c.Xg)("transferring")]).span;const x=(0,o.struct)([(0,o.u8)("discriminator"),(0,o.blob)(32,"addressConfig"),(0,c.Xg)("isSigner"),(0,c.Xg)("isWritable")]),M=(0,o.struct)([(0,o.u32)("count"),(0,o.seq)(x,(0,o.greedy)(x.span),"extraAccounts")]),R=(0,o.struct)([(0,c.AW)("instructionDiscriminator"),(0,o.u32)("length"),M.replicate("extraAccountsList")]);async function C(e,t,n,r,i){if(0===t.discriminator)return{pubkey:new s.PublicKey(t.addressConfig),isSigner:t.isSigner,isWritable:t.isWritable};if(2===t.discriminator)return{pubkey:await S(t.addressConfig,n,r,e),isSigner:t.isSigner,isWritable:t.isWritable};let o=s.PublicKey.default;if(1===t.discriminator)o=i;else{const e=t.discriminator-128;if(n.length<=e)throw new g.fu;o=n[e].pubkey}const a=await async function(e,t,n,r){const i=[];let o=0;for(;o<32;){const s=await _(e.slice(o),t,n,r);if(null==s)break;i.push(s.data),o+=s.packedLength}return i}(t.addressConfig,n,r,e);return{pubkey:s.PublicKey.findProgramAddressSync(a,o)[0],isSigner:t.isSigner,isWritable:t.isWritable}}var D,B=n(348834).Buffer;function N(e,t){const n=t.filter((t=>t.pubkey.equals(e.pubkey))).reduce(((e,t)=>e?{isSigner:e.isSigner||t.isSigner,isWritable:e.isWritable||t.isWritable}:{isSigner:t.isSigner,isWritable:t.isWritable}),void 0);if(n){const{isSigner:t,isWritable:r}=n;t||t===e.isSigner||(e.isSigner=!1),r||r===e.isWritable||(e.isWritable=!1)}return e}async function z(e,t,n,r,i,o,a,c,u){const d=function(e,t){const n=[E.from("extra-account-metas"),e.toBuffer()];return s.PublicKey.findProgramAddressSync(n,t)[0]}(i,n),l=await e.getAccountInfo(d,u);if(null==l)return t;const f=function(e){const t=R.decode(e.data).extraAccountsList;return t.extraAccounts.slice(0,t.count)}(l);if(![r,i,o,a].every((e=>t.keys.some((t=>t.pubkey.equals(e))))))throw new Error("Missing required account in instruction");const h=function(e,t,n,r,i,o,a){const c=[t,n,r,i,o].map((e=>({pubkey:e,isSigner:!1,isWritable:!1}))),u=B.alloc(16);return u.set(B.from([105,37,101,197,75,251,102,26]),0),u.writeBigUInt64LE(BigInt(a),8),new s.TransactionInstruction({keys:c,programId:e,data:u})}(n,r,i,o,a,d,BigInt(c));for(const t of f)h.keys.push(N(await C(e,t,h.keys,h.data,h.programId),h.keys));t.keys.push(...h.keys.slice(5)),t.keys.push({pubkey:n,isSigner:!1,isWritable:!1}),t.keys.push({pubkey:d,isSigner:!1,isWritable:!1})}async function L(e,t,n,r,i,o,s,c=[],d,f=a.H_){const h=(0,u.De)(t,n,r,i,o,s,c,f),p=O(await(0,l.ih)(e,n,d,f));return p&&await z(e,h,p.programId,t,n,r,i,o,d),h}async function K(e,t,n,r,i,o,s,c,u=[],f,h=a.H_){const p=(0,d.LC)(t,n,r,i,o,s,c,u,h),g=O(await(0,l.ih)(e,n,f,h));return g&&await z(e,p,g.programId,t,n,r,i,o,f),p}!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(D||(D={})),(0,o.struct)([(0,o.u8)("instruction"),(0,o.u8)("transferHookInstruction"),(0,c.ZL)("authority"),(0,c.ZL)("transferHookProgramId")]),(0,o.struct)([(0,o.u8)("instruction"),(0,o.u8)("transferHookInstruction"),(0,c.ZL)("transferHookProgramId")])},28423:(e,t,n)=>{"use strict";n.d(t,{Ek:()=>s,ji:()=>a});var r=n(627158),i=n(330020),o=n(348834).Buffer;function s(e,t,n,r,s=i.H_,a=i._u){return c(e,t,n,r,o.alloc(0),s,a)}function a(e,t,n,r,s=i.H_,a=i._u){return c(e,t,n,r,o.from([1]),s,a)}function c(e,t,n,o,s,a=i.H_,c=i._u){const u=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:u,programId:c,data:s})}},85166:(e,t,n)=>{"use strict";n.d(t,{Zu:()=>d});var r=n(996346),i=n(627158),o=n(330020),s=n(800907),a=n(166636),c=n(348834).Buffer;const u=(0,r.struct)([(0,r.u8)("instruction")]);function d(e,t,n,r=[],d=o.H_){const l=(0,s.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,r),f=c.alloc(u.span);return u.encode({instruction:a.c.CloseAccount},f),new i.TransactionInstruction({keys:l,programId:d,data:f})}},447530:(e,t,n)=>{"use strict";n.d(t,{FJ:()=>u});var r=n(996346),i=n(627158),o=n(330020),s=n(166636),a=n(348834).Buffer;const c=(0,r.struct)([(0,r.u8)("instruction")]);function u(e,t,n,r=o.H_){const u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],d=a.alloc(c.span);return c.encode({instruction:s.c.InitializeAccount},d),new i.TransactionInstruction({keys:u,programId:r,data:d})}},800907:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(627158);function i(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const t of n)e.push({pubkey:t instanceof r.PublicKey?t:t.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}},548826:(e,t,n)=>{"use strict";n.d(t,{D2:()=>u});var r=n(996346),i=n(627158),o=n(330020),s=n(166636),a=n(348834).Buffer;const c=(0,r.struct)([(0,r.u8)("instruction")]);function u(e,t=o.H_){const n=[{pubkey:e,isSigner:!1,isWritable:!0}],r=a.alloc(c.span);return c.encode({instruction:s.c.SyncNative},r),new i.TransactionInstruction({keys:n,programId:t,data:r})}},652751:(e,t,n)=>{"use strict";n.d(t,{$B:()=>l});var r=n(996346),i=n(495242),o=n(627158),s=n(330020),a=n(800907),c=n(166636),u=n(348834).Buffer;const d=(0,r.struct)([(0,r.u8)("instruction"),(0,i.AW)("amount")]);function l(e,t,n,r,i=[],l=s.H_){const f=(0,a.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,i),h=u.alloc(d.span);return d.encode({instruction:c.c.Transfer,amount:BigInt(r)},h),new o.TransactionInstruction({keys:f,programId:l,data:h})}},899934:(e,t,n)=>{"use strict";n.d(t,{De:()=>l});var r=n(996346),i=n(495242),o=n(627158),s=n(330020),a=n(800907),c=n(166636),u=n(348834).Buffer;const d=(0,r.struct)([(0,r.u8)("instruction"),(0,i.AW)("amount"),(0,r.u8)("decimals")]);function l(e,t,n,r,i,l,f=[],h=s.H_){const p=(0,a.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}],r,f),g=u.alloc(d.span);return d.encode({instruction:c.c.TransferChecked,amount:BigInt(i),decimals:l},g),new o.TransactionInstruction({keys:p,programId:h,data:g})}},166636:(e,t,n)=>{"use strict";var r;n.d(t,{c:()=>r}),function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension",e[e.GroupPointerExtension=40]="GroupPointerExtension",e[e.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",e[e.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",e[e.PausableExtension=44]="PausableExtension"}(r||(r={}))},995037:(e,t,n)=>{"use strict";n.d(t,{lZ:()=>f,nS:()=>h,p0:()=>l});var r,i=n(996346),o=n(495242),s=n(330020),a=n(174141),c=n(874776),u=n(892975),d=n(348834).Buffer;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"}(r||(r={}));const l=(0,i.struct)([(0,o.ZL)("mint"),(0,o.ZL)("owner"),(0,o.AW)("amount"),(0,i.u32)("delegateOption"),(0,o.ZL)("delegate"),(0,i.u8)("state"),(0,i.u32)("isNativeOption"),(0,o.AW)("isNative"),(0,o.AW)("delegatedAmount"),(0,i.u32)("closeAuthorityOption"),(0,o.ZL)("closeAuthority")]),f=l.span;function h(e,t,n=s.H_){if(!t)throw new a.We;if(!t.owner.equals(n))throw new a.Or;if(t.data.length<f)throw new a.$O;const i=l.decode(t.data.slice(0,f));let o=d.alloc(0);if(t.data.length>f){if(t.data.length===u.Wx)throw new a.$O;if(t.data[f]!=c.Q.Account)throw new a.iK;o=t.data.slice(f+c.t)}return{address:e,mint:i.mint,owner:i.owner,amount:i.amount,delegate:i.delegateOption?i.delegate:null,delegatedAmount:i.delegatedAmount,isInitialized:i.state!==r.Uninitialized,isFrozen:i.state===r.Frozen,isNative:!!i.isNativeOption,rentExemptReserve:i.isNativeOption?i.isNative:null,closeAuthority:i.closeAuthorityOption?i.closeAuthority:null,tlvData:o}}},135629:(e,t,n)=>{"use strict";n.d(t,{MO:()=>g,ih:()=>p,qT:()=>f});var r=n(996346),i=n(495242),o=n(627158),s=n(330020),a=n(174141),c=n(874776),u=n(995037),d=n(892975),l=n(348834).Buffer;const f=(0,r.struct)([(0,r.u32)("mintAuthorityOption"),(0,i.ZL)("mintAuthority"),(0,i.AW)("supply"),(0,r.u8)("decimals"),(0,i.Xg)("isInitialized"),(0,r.u32)("freezeAuthorityOption"),(0,i.ZL)("freezeAuthority")]),h=f.span;async function p(e,t,n,r=s.H_){return function(e,t,n=s.H_){if(!t)throw new a.We;if(!t.owner.equals(n))throw new a.Or;if(t.data.length<h)throw new a.$O;const r=f.decode(t.data.slice(0,h));let i=l.alloc(0);if(t.data.length>h){if(t.data.length<=u.lZ)throw new a.$O;if(t.data.length===d.Wx)throw new a.$O;if(t.data[u.lZ]!=c.Q.Mint)throw new a.iT;i=t.data.slice(u.lZ+c.t)}return{address:e,mintAuthority:r.mintAuthorityOption?r.mintAuthority:null,supply:r.supply,decimals:r.decimals,isInitialized:r.isInitialized,freezeAuthority:r.freezeAuthorityOption?r.freezeAuthority:null,tlvData:i}}(t,await e.getAccountInfo(t,n),r)}function g(e,t,n=!1,r=s.H_,i=s._u){if(!n&&!o.PublicKey.isOnCurve(t.toBuffer()))throw new a.Gl;const[c]=o.PublicKey.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return c}},892975:(e,t,n)=>{"use strict";n.d(t,{Wx:()=>o});var r=n(996346),i=n(495242);const o=(0,r.struct)([(0,r.u8)("m"),(0,r.u8)("n"),(0,i.Xg)("isInitialized"),(0,i.ZL)("signer1"),(0,i.ZL)("signer2"),(0,i.ZL)("signer3"),(0,i.ZL)("signer4"),(0,i.ZL)("signer5"),(0,i.ZL)("signer6"),(0,i.ZL)("signer7"),(0,i.ZL)("signer8"),(0,i.ZL)("signer9"),(0,i.ZL)("signer10"),(0,i.ZL)("signer11")]).span},57572:(e,t,n)=>{"use strict";function r(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function i(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(r(t,e));return e.write(t,n,0),n}})}function o(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function s(e,t){return i({...(n=e,o(n)?e:{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}),write:(n,r,i)=>e.write(t(n),r,i)});var n}n.d(t,{oU:()=>_});var a=5663016,c=8078007,u=8078011;function d(e){return Array.isArray(e)?"%5B"+e.map(d).join("%2C%20")+"%5D":"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function l([e,t]){return`${e}=${d(t)}`}var f=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;t&&Object.entries(Object.getOwnPropertyDescriptors(t)).forEach((([t,i])=>{"cause"===t?r={cause:i.value}:(void 0===n&&(n={__code:e}),Object.defineProperty(n,t,i))})),super(function(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(l).join("&");return btoa(t)}(t)}'`),`${n}\``}}(e,n),r),this.context=Object.freeze(void 0===n?{__code:e}:n),this.name="SolanaError"}};function h(e,t,n,r){if(r<t||r>n)throw new f(u,{codecDescription:e,max:n,min:t,value:r})}var p=()=>i({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{h("shortU16",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const i=127&n;r[t]=i,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),g=(e={})=>{return i({fixedSize:(t={config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}).size,write(e,n,r){t.range&&h(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,(o=t.config,1!==o?.endian)),n.set(new Uint8Array(i),r),r+t.size;var o}});var t};function y(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function m(e){return o(e)?e.fixedSize:null}function b(e){return o(e)?e.fixedSize:e.maxSize??null}function I(e,t={}){const n=t.size??g(),o=k(n,m(e)),s=k(n,b(e))??void 0;return i({...null!==o?{fixedSize:o}:{getSizeFromValue:t=>("object"==typeof n?r(t.length,n):0)+[...t].reduce(((t,n)=>t+r(n,e)),0),maxSize:s},write:(t,r,i)=>("number"==typeof n&&function(e,t,n){if(t!==n)throw new f(c,{actual:n,codecDescription:e,expected:t})}("array",n,t.length),"object"==typeof n&&(i=n.write(t.length,r,i)),t.forEach((t=>{i=e.write(t,r,i)})),i)})}function k(e,t){return"number"!=typeof e?null:0===e?0:null===t?null:t*e}function w(){return i({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}var A=()=>{return e={read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}},Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]});var e};function v(e){const t=Object.values(e);if(0===t.length)throw new f(a);return t.map((e=>e||new Uint8Array(64).fill(0)))}function T(){return function(e){const t=e.map((([,e])=>e)),n=y(t.map(m)),o=y(t.map(b))??void 0;return i({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>r(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:o}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,i])=>{r=i.write(t[e],n,r)})),r)})}([["signatures",s(I((e=w(),t=64,i({fixedSize:t,write:(n,r,i)=>{const o=e.encode(n),s=o.length>t?o.slice(0,t):o;return r.set(s,i),i+t}})),{size:p()}),v)],["messageBytes",w()]]);var e,t}function _(e){const t=T().encode(e);return A().decode(t)}globalThis.TextDecoder,globalThis.TextEncoder},154471:(e,t,n)=>{"use strict";n.d(t,{AG:()=>w,G0:()=>P,IM:()=>T,IX:()=>m,O7:()=>b,Rx:()=>A,Ue:()=>f,Yj:()=>y,Z_:()=>_,_4:()=>O,bc:()=>S,dt:()=>E,eE:()=>I,hu:()=>l,i0:()=>k,jt:()=>v,oQ:()=>x});class r extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:s}=e,a=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function i(e){return"object"==typeof e&&null!=e}function o(e){return i(e)&&!Array.isArray(e)}function s(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function a(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:a}=n,{refinement:c,message:u=`Expected a value of type \`${a}\`${c?` with refinement \`${c}\``:""}, but received: \`${s(r)}\``}=e;return{value:r,type:a,refinement:c,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*c(e,t,n,r){var o;i(o=e)&&"function"==typeof o[Symbol.iterator]||(e=[e]);for(const i of e){const e=a(i,t,n,r);e&&(yield e)}}function*u(e,t,n={}){const{path:r=[],branch:o=[e],coerce:s=!1,mask:a=!1}=n,c={path:r,branch:o,mask:a};s&&(e=t.coercer(e,c));let d="valid";for(const r of t.validator(e,c))r.explanation=n.message,d="not_valid",yield[r,void 0];for(let[l,f,h]of t.entries(e,c)){const t=u(f,h,{path:void 0===l?r:[...r,l],branch:void 0===l?o:[...o,f],coerce:s,mask:a,message:n.message});for(const n of t)n[0]?(d=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):s&&(f=n[1],void 0===l?e=f:e instanceof Map?e.set(l,f):e instanceof Set?e.add(f):i(e)&&(void 0!==f||l in e)&&(e[l]=f))}if("not_valid"!==d)for(const r of t.refiner(e,c))r.explanation=n.message,d="not_refined",yield[r,void 0];"valid"===d&&(yield[void 0,e])}class d{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>c(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>c(i(e,t),t,this,e):()=>[]}assert(e,t){return l(e,this,t)}create(e,t){return f(e,this,t)}is(e){return h(e,this)}mask(e,t){return function(e,t,n){const r=p(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return p(e,this,t)}}function l(e,t,n){const r=p(e,t,{message:n});if(r[0])throw r[0]}function f(e,t,n){const r=p(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function h(e,t){return!p(e,t)[0]}function p(e,t,n={}){const i=u(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(i);return o[0]?[new r(o[0],(function*(){for(const e of i)e[0]&&(yield e[0])})),void 0]:[void 0,o[1]]}function g(e,t){return new d({type:e,schema:null,validator:t})}function y(){return g("any",(()=>!0))}function m(e){return new d({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${s(e)}`})}function b(){return g("boolean",(e=>"boolean"==typeof e))}function I(e){return g("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${s(t)}`))}function k(e){const t=s(e),n=typeof e;return new d({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${s(n)}`})}function w(e){return new d({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function A(){return g("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${s(e)}`))}function v(e){return new d({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function T(e,t){return new d({type:"record",schema:null,*entries(n){if(i(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>o(e)||`Expected an object, but received: ${s(e)}`,coercer:e=>o(e)?{...e}:e})}function _(){return g("string",(e=>"string"==typeof e||`Expected a string, but received: ${s(e)}`))}function S(e){const t=g("never",(()=>!1));return new d({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${s(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function E(e){const t=Object.keys(e);return new d({type:"type",schema:e,*entries(n){if(i(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>o(e)||`Expected an object, but received: ${s(e)}`,coercer:e=>o(e)?{...e}:e})}function P(e){const t=e.map((e=>e.type)).join(" | ");return new d({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,i]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return i}return t},validator(n,r){const i=[];for(const t of e){const[...e]=u(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${s(n)}`,...i]}})}function O(){return g("unknown",(()=>!0))}function x(e,t,n){return new d({...e,coercer:(r,i)=>h(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}},28125:(e,t,n)=>{"use strict";n.d(t,{H_:()=>i,_u:()=>o});var r=n(627158);const i=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),o=(new r.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"));new r.PublicKey("So11111111111111111111111111111111111111112"),new r.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP")},623619:(e,t,n)=>{"use strict";n.d(t,{MO:()=>u});var r=n(996346),i=n(495242),o=n(627158),s=n(28125);class a extends Error{constructor(e){super(e)}}class c extends a{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}n(348834).Buffer;function u(e,t,n=!1,r=s.H_,i=s._u){if(!n&&!o.PublicKey.isOnCurve(t.toBuffer()))throw new c;const[a]=o.PublicKey.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return a}(0,r.struct)([(0,r.u32)("mintAuthorityOption"),(0,i.ZL)("mintAuthority"),(0,i.AW)("supply"),(0,r.u8)("decimals"),(0,i.Xg)("isInitialized"),(0,r.u32)("freezeAuthorityOption"),(0,i.ZL)("freezeAuthority")]).span},474813:(e,t,n)=>{"use strict";n.d(t,{H_:()=>i,_u:()=>o});var r=n(627158);const i=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),o=(new r.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"));new r.PublicKey("So11111111111111111111111111111111111111112"),new r.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP")},143088:(e,t,n)=>{"use strict";n.d(t,{ji:()=>s});var r=n(627158),i=n(474813),o=n(348834).Buffer;function s(e,t,n,s,a=i.H_,c=i._u){return function(e,t,n,o,s,a=i.H_,c=i._u){const u=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:u,programId:c,data:s})}(e,t,n,s,o.from([1]),a,c)}},966867:(e,t,n)=>{"use strict";n.d(t,{$B:()=>l});var r,i,o=n(996346),s=n(495242),a=n(627158),c=n(474813);(i=r||(r={}))[i.InitializeMint=0]="InitializeMint",i[i.InitializeAccount=1]="InitializeAccount",i[i.InitializeMultisig=2]="InitializeMultisig",i[i.Transfer=3]="Transfer",i[i.Approve=4]="Approve",i[i.Revoke=5]="Revoke",i[i.SetAuthority=6]="SetAuthority",i[i.MintTo=7]="MintTo",i[i.Burn=8]="Burn",i[i.CloseAccount=9]="CloseAccount",i[i.FreezeAccount=10]="FreezeAccount",i[i.ThawAccount=11]="ThawAccount",i[i.TransferChecked=12]="TransferChecked",i[i.ApproveChecked=13]="ApproveChecked",i[i.MintToChecked=14]="MintToChecked",i[i.BurnChecked=15]="BurnChecked",i[i.InitializeAccount2=16]="InitializeAccount2",i[i.SyncNative=17]="SyncNative",i[i.InitializeAccount3=18]="InitializeAccount3",i[i.InitializeMultisig2=19]="InitializeMultisig2",i[i.InitializeMint2=20]="InitializeMint2",i[i.GetAccountDataSize=21]="GetAccountDataSize",i[i.InitializeImmutableOwner=22]="InitializeImmutableOwner",i[i.AmountToUiAmount=23]="AmountToUiAmount",i[i.UiAmountToAmount=24]="UiAmountToAmount",i[i.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",i[i.TransferFeeExtension=26]="TransferFeeExtension",i[i.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",i[i.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",i[i.Reallocate=29]="Reallocate",i[i.MemoTransferExtension=30]="MemoTransferExtension",i[i.CreateNativeMint=31]="CreateNativeMint",i[i.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",i[i.InterestBearingMintExtension=33]="InterestBearingMintExtension",i[i.CpiGuardExtension=34]="CpiGuardExtension",i[i.InitializePermanentDelegate=35]="InitializePermanentDelegate",i[i.TransferHookExtension=36]="TransferHookExtension",i[i.MetadataPointerExtension=39]="MetadataPointerExtension";var u=n(348834).Buffer;const d=(0,o.struct)([(0,o.u8)("instruction"),(0,s.AW)("amount")]);function l(e,t,n,i,o=[],s=c.H_){const l=function(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const t of n)e.push({pubkey:t instanceof a.PublicKey?t:t.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,o),f=u.alloc(d.span);return d.encode({instruction:r.Transfer,amount:BigInt(i)},f),new a.TransactionInstruction({keys:l,programId:s,data:f})}},635646:(e,t,n)=>{"use strict";n.d(t,{MO:()=>u});var r=n(996346),i=n(495242),o=n(627158),s=n(474813);class a extends Error{constructor(e){super(e)}}class c extends a{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}n(348834).Buffer;function u(e,t,n=!1,r=s.H_,i=s._u){if(!n&&!o.PublicKey.isOnCurve(t.toBuffer()))throw new c;const[a]=o.PublicKey.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return a}(0,r.struct)([(0,r.u32)("mintAuthorityOption"),(0,i.ZL)("mintAuthority"),(0,i.AW)("supply"),(0,r.u8)("decimals"),(0,i.Xg)("isInitialized"),(0,r.u32)("freezeAuthorityOption"),(0,i.ZL)("freezeAuthority")]).span}}]);