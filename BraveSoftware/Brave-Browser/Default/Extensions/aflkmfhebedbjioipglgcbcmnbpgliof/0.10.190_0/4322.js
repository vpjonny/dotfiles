"use strict";(globalThis.webpackChunk_coral_xyz_app_extension=globalThis.webpackChunk_coral_xyz_app_extension||[]).push([[4322],{639974:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(457246),r=n(44171),l=n(181956),i=n(382740),o=n(337288),c=n(202784);function s({props:e}){const{icon:t,title:n,subtitle:a,usdValue:s,balanceChange:u}=e,m=(0,l.$T)(),p=(u??0)>.004?"positive":(u??0)<-.004?"negative":"neutral",g="positive"===p?c.createElement(i.q,{fontWeight:"500",fontSize:"14px",color:"$greenText",lineHeight:"20px",float:"right"},"+",m.format(u)):"negative"===p?c.createElement(i.q,{fontWeight:"500",fontSize:"14px",color:"$redText",lineHeight:"20px",float:"right"},m.format(u)):null;return c.createElement(o.sL,{width:"100%",height:"100%"},t?c.createElement(o.sL,{minWidth:44,paddingTop:"12px",paddingBottom:"12px",marginRight:"12px"},c.createElement(d,{src:t,style:{borderRadius:"22px",width:"44px",height:"44px"},onError:e=>{e.currentTarget.src=r.rI}})):null,c.createElement(o.FA,{flex:1,paddingTop:"10px",paddingBottom:"10px"},c.createElement(o.sL,{display:"flex",justifyContent:"space-between"},c.createElement(i.q,{fontWeight:"500",fontSize:"16px",color:"$baseTextHighEmphasis",lineHeight:"24px",height:"24px",maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},n),c.createElement(i.q,{fontWeight:"500",fontSize:"16px",color:"$baseTextHighEmphasis",lineHeight:"24px"},s?m.format(s):"-")),c.createElement(o.sL,{display:"flex",justifyContent:"space-between"},a?c.createElement(i.q,{fontWeight:"500",fontSize:"14px",color:"$baseTextMedEmphasis",lineHeight:"20px"},a):null,g,s?null:c.createElement(i.q,{fontWeight:"500",fontSize:"14px",color:"$baseTextMedEmphasis",lineHeight:"20px",float:"right"},"-"))))}function d(e){return c.createElement("img",{...e,onError:({currentTarget:t})=>{t.onerror=e.onError||null,t.src=e.src},src:(0,a.fi)(e.src)})}},667525:(e,t,n)=>{n.d(t,{_:()=>L});var a=n(371541),r=n(220026),l=n(527159),i=n(849011),o=n(377172),c=n(496126),s=n(959523),d=n(236789),u=n(541214),m=n(181956),p=n(66046),g=n(337288),h=n(382740),b=n(326951),E=n(59727),f=n(634706),k=n(187254),y=n(654184),v=n(239263),w=n(957903),I=n(730023),T=n(421282),x=n(719006),$=n(371894),S=n(400752),A=n(202784),C=n(202784);const _=(0,A.createContext)(null);function P(e){return C.createElement(_.Provider,{value:{blockchainId:e.blockchainId,onSelect:e.onSelect}},e.children)}function D(){const e=(0,A.useContext)(_);if(!e)throw new Error("context not found");return e}const L=({excludeWallet:e,blockchainId:t,walletTypes:n,onSelect:l,allowCustomAddress:i=!0})=>{const[d,u]=(0,A.useState)(""),[m,b]=(0,A.useState)(""),[E,f]=(0,A.useState)([]);(0,A.useEffect)((()=>{const e=setTimeout((()=>{b(d)}),300);return()=>clearTimeout(e)}),[d]);const w=(0,s.G)((0,p.Ah)({address:m,blockchainId:t})),I="hasData"===w.state?w.data:null,{isValidAddress:T,isFunded:x,isErrorAddress:$,errorMessage:_,isValidationLoading:D,isUnverifiedValidAddress:L}=(0,A.useMemo)((()=>{const e=Boolean(I?.isValid&&!I.isTokenMintAddress),t=Boolean(I?.isValid&&I.rpcFailed),n=!!I?.isValid&&I.funded,a=null!==I,r="loading"===w.state,l=m.length>0&&a&&(!I.isValid||I.isTokenMintAddress);return{isValidAddress:e,isFunded:n,isErrorAddress:l,errorMessage:(()=>{if(i&&l)return I?.isValid?I?.isTokenMintAddress?k.ag._({id:"IlTmXD"}):void 0:k.ag._({id:"IdgoSk"})})(),isValidationLoading:r,isUnverifiedValidAddress:t}}),[m,I,w.state,i]),M=I?.isValid&&I.isWallet&&"publicKey"in I?I.publicKey:d,N=(0,S.Dv)(c.e2)(t).find((e=>e.pubkey===d)),z=!!N,R=N?(0,a.qF)(N.lastSendTime):"";return C.createElement(P,{blockchainId:t,onSelect:l},C.createElement(g.FA,{space:"$DEPRECATED_3",minHeight:"100%"},C.createElement(g.FA,{space:16,flex:1},i?C.createElement(g.FA,{paddingHorizontal:"$DEPRECATED_4"},C.createElement(W,{searchResults:E,inputContent:d,setInputContent:u,setSearchResults:f,error:_})):null,C.createElement(g.FA,{gap:8,flex:1},L&&d.length>0&&m.length>0?C.createElement(g.FA,{bg:"$yellowBackgroundSolid",br:"$medium",mx:16,px:12,py:12,gap:8,alignItems:"center",justifyContent:"center"},C.createElement(y.e,{size:24,color:"$yellowText"}),C.createElement(h.q,{color:"$yellowText",fontSize:"$xs",ta:"center"},k.ag._({id:"MkTxEo"}))):!D&&!x&&!z&&!$&&d.length>0&&m.length>0?C.createElement(g.sL,{bg:"$yellowBackgroundSolid",br:"$medium",mx:16,px:12,py:12},C.createElement(h.q,{color:"$yellowText",fontSize:"$xs",ta:"center"},k.ag._({id:"NABIjv"}))):z&&d?C.createElement(g.sL,{bg:"$greenBackgroundSolid",br:"$medium",mx:16,px:12,py:12,gap:4,alignItems:"center",justifyContent:"center"},C.createElement(v.J,{size:16,color:"$greenText"}),C.createElement(h.q,{color:"$greenText",fontSize:"$xs",ta:"center"},k.ag._({id:"9lbmhi",values:{lastUsedAt:R}}))):null,C.createElement(F,{excludeWallet:e,searchFilter:d,blockchainId:t,walletTypes:n}))),i?C.createElement("div",{style:{display:"flex",paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px",paddingTop:"25px",justifyContent:"space-between"}},C.createElement(o.KM,{disabled:!T&&!L,label:k.ag._({id:"hXzOVo"}),type:"submit","data-testid":T||L?r.Tt:void 0,onClick:()=>{const e=E.find((e=>e.public_keys.find((e=>e.publicKey===d))));l({address:M,username:e?.username,image:e?.image,uuid:e?.id})}})):null))},F=({excludeWallet:e,blockchainId:t,searchFilter:n,walletTypes:r=[]})=>{const l=(0,b.F)(),{uuid:i,username:s}=(0,m.aF)(),p=(0,d.O)(),E=(0,S.Dv)(c.e2)(t),f=(0,u.xE)({excludeWallet:e,blockchainId:t,searchFilter:n,walletTypes:r,uuid:i}),y=E.filter((t=>t.pubkey!==e.publicKey&&(!n||t.pubkey.includes(n)||(t.name||"").toLowerCase().includes(n.toLowerCase())))).slice(0,3).map((e=>({title:e.name||e.pubkey.slice(0,12)+"...",subtitle:(0,a.qF)(e.lastSendTime),address:e.pubkey}))),{groupedActiveWallets:v,groupedViewOnlyWallets:w,hasMultipleUsers:I}=(0,A.useMemo)((()=>{const e=f.map((e=>({username:e.username,walletName:e.info.name,image:p,uuid:e.userId,addresses:[e.publicKey],isViewOnly:"view-only"===e.info.type,blockchainId:e.blockchainId}))),t=e.filter((e=>!e.isViewOnly)),n=e.filter((e=>e.isViewOnly)),a=e=>e.reduce(((e,t)=>{const n=t.uuid;return e[n]||(e[n]={username:t.username,isCurrentUser:t.uuid===i,wallets:[]}),e[n].wallets.push(t),e}),{}),r=a(t),l=a(n),o=e=>Object.keys(e).sort(((t,n)=>{const a=e[t],r=e[n];return a.isCurrentUser?-1:r.isCurrentUser?1:a.username.localeCompare(r.username)})),c=new Set([...Object.keys(r),...Object.keys(l)]);return{groupedActiveWallets:{groups:r,sortedUserIds:o(r)},groupedViewOnlyWallets:{groups:l,sortedUserIds:o(l)},hasMultipleUsers:c.size>1}}),[f,p,i]);return C.createElement(g.FA,{flex:1,gap:4},y.length>0?C.createElement(C.Fragment,null,C.createElement(g.FA,{paddingHorizontal:"$DEPRECATED_4"},C.createElement(h.q,{fontSize:"$xs",color:"$baseTextMedEmphasis"},k.ag._({id:"5dSljW"}))),C.createElement(M,{wallets:y})):null,C.createElement(g.FA,{paddingHorizontal:"$DEPRECATED_4"},C.createElement(h.q,{fontSize:"$xs",color:"$baseTextMedEmphasis"},k.ag._({id:"7RDSeH"}))),v.sortedUserIds.length>=1?C.createElement(R,{groupedWallets:v,hasMultipleUsers:I}):C.createElement(g.FA,{alignItems:"center",justifyContent:"center",backgroundColor:"$baseBackgroundL1",borderRadius:12,gap:"$DEPRECATED_8",paddingVertical:"$DEPRECATED_8",marginHorizontal:"$DEPRECATED_4"},C.createElement(o.JG,{fill:l.baseIcon.val,height:42,width:42}),C.createElement(h.q,{color:"$baseTextHighEmphasis"},k.ag._({id:"NwW+t7"}))),w.sortedUserIds.length>0?C.createElement(O,{groupedWallets:w,hasMultipleUsers:I}):null)};function M({wallets:e}){return C.createElement(g.FA,{marginBottom:"4px"},e.map(((e,t)=>C.createElement(N,{key:e.address,title:e.title,subtitle:e.subtitle,address:e.address}))))}const N=({title:e,subtitle:t,address:n})=>{const{onSelect:r}=D(),l=(0,b.F)();return C.createElement(g.sL,{cursor:"pointer",padding:"0",onPress:()=>{n&&r({address:n,walletName:e})}},C.createElement(g.sL,{height:"48px",padding:"$DEPRECATED_3",width:"100%",hoverStyle:{backgroundColor:"$baseBackgroundL2"}},C.createElement(g.FA,{justifyContent:"center"},C.createElement(E.G7,{borderRadius:32,width:32,height:32,opacity:.55,alignItems:"center",justifyContent:"center",backgroundColor:"$darkBaseBackgroundL3",marginRight:"$3"},C.createElement(w.S,{size:18,color:"$baseIcon"}))),C.createElement(g.sL,{flex:1,justifyContent:"space-between",alignItems:"center"},C.createElement(g.FA,null,C.createElement(h.q,null,e),t?C.createElement(h.q,{color:"$baseTextMedEmphasis",fontSize:"$xs"},t):null),n?C.createElement(h.q,{color:"$baseTextMedEmphasis",fontSize:"$sm"},(0,a.R1)(n)):C.createElement(I.K,{color:l.redIcon.val}))))};function z({userId:e,username:t,walletCount:n}){const r=(0,m.gl)().find((t=>t.uuid===e)),l=r?.themeColor||"#F88484",o=(0,a.Ur)(t);return C.createElement(g.sL,{paddingHorizontal:"$4",paddingTop:12,paddingBottom:4,alignItems:"center",gap:12},C.createElement(i.S,{name:t,size:32,themeColor:l,solid:!0}),C.createElement(g.sL,{flex:1,alignItems:"center",justifyContent:"space-between"},C.createElement(h.q,{color:"$baseTextMedEmphasis"},o),C.createElement(h.q,{color:"$baseTextMedEmphasis",fontSize:"$sm"},n," ",1===n?k.ag._({id:"6XyieG"}):k.ag._({id:"BAGfQO"}))))}function R({groupedWallets:e,hasMultipleUsers:t}){return C.createElement(g.FA,null,e.sortedUserIds.map((n=>{const{username:a,isCurrentUser:r,wallets:l}=e.groups[n],i=l.filter((e=>e.addresses?.[0])),o=t||!r;return C.createElement(g.FA,{key:n},o?C.createElement(z,{userId:n,username:a,walletCount:i.length}):null,i.map(((e,t)=>C.createElement(B,{key:[e.addresses[0],e.uuid].join(":"),isFirst:0===t,isLast:t===i.length-1,user:{walletName:e.walletName,username:e.username,image:e.image,uuid:e.uuid},address:e.addresses?.[0],blockchainId:e.blockchainId}))))})))}const B=({user:e,address:t,blockchainId:n})=>{const{onSelect:i}=D(),o=(0,b.F)();return C.createElement(g.sL,{height:"48px",padding:"$3",width:"100%",cursor:"pointer",testID:`${r.Bh}${t}`,onPress:()=>{t&&i({address:t,walletName:e.walletName})},hoverStyle:{backgroundColor:"$baseBackgroundL2"}},C.createElement(g.FA,{justifyContent:"center",marginRight:"$3"},C.createElement(l._,{size:32,id:n})),C.createElement(g.sL,{flex:1,justifyContent:"space-between",alignItems:"center"},C.createElement(h.q,null,e.walletName||e.username),t?C.createElement(h.q,{color:"$baseTextMedEmphasis",fontSize:"$sm"},(0,a.R1)(t)):C.createElement(I.K,{color:o.redIcon.val})))};function O({groupedWallets:e,hasMultipleUsers:t}){const[n,a]=(0,A.useState)(!0),r=e.sortedUserIds.reduce(((t,n)=>t+e.groups[n].wallets.length),0);return C.createElement(g.FA,{gap:4},C.createElement(q,{isOpen:n,numItems:r,onPress:()=>a(!n)}),n?C.createElement(R,{groupedWallets:e,hasMultipleUsers:t}):null)}function q({isOpen:e,numItems:t,onPress:n}){const a=e?k.ag._({id:"F8DaWi"}):k.ag._({id:"SaZwlP",values:{numItems:t}});return C.createElement(g.sL,{padding:"0",cursor:"pointer",onPress:n},C.createElement(g.sL,{paddingHorizontal:"$4",paddingVertical:"$3",width:"100%",justifyContent:"space-between",alignItems:"center",hoverStyle:{backgroundColor:"$baseBackgroundL2"}},C.createElement(g.sL,{gap:8,alignItems:"center"},C.createElement(T.b,{color:"$baseIcon",size:16}),C.createElement(h.q,{fontSize:"$xs",color:"$baseTextMedEmphasis"},a)),e?C.createElement(x.W,{color:"$baseIcon",size:12}):C.createElement($.v,{color:"$baseIcon",size:12})))}const W=({inputContent:e,setInputContent:t,setSearchResults:n,searchResults:a,error:l})=>((0,A.useEffect)((()=>{!e&&a.length&&n([])}),[a,e,n]),C.createElement(g.FA,{gap:8},C.createElement(f.fP,{autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,spellCheck:!1,hasError:!!l,placeholder:k.ag._({id:"pEEDle"}),value:e,onChangeText:e=>t(e.trim()),testID:r.H0}),l?C.createElement(g.sL,{ai:"center",gap:6,ml:8},C.createElement(y.e,{color:"$redText",size:16}),C.createElement(h.q,{color:"$redText",fontSize:"$sm"},l)):null))},287839:(e,t,n)=>{n.d(t,{R:()=>s});var a=n(337288),r=n(326951),l=n(825629),i=n(943552),o=n(588945),c=n(202784);function s(){const e=(0,o.jG)();return c.createElement(a.sL,{gap:8},"popup"===e?c.createElement(u,null):"sidePanel"===e?c.createElement(d,null):"popout"===e?c.createElement(u,{popout:!0}):null)}function d(){const e=(0,r.F)();return c.createElement(a.sL,{padding:0,height:30,width:28,marginRight:-3,cursor:"pointer",onPress:async()=>{await async function(){try{await(0,o.vr)("popup"),window.close()}catch(e){console.error("Error closing to popup:",e)}}()},hoverStyle:{opacity:l.IPZ}},c.createElement(i.r,{color:e.baseIcon.val}))}function u({popout:e}){const t=(0,r.F)();return c.createElement(a.sL,{padding:0,height:30,width:28,marginRight:-3,cursor:"pointer",onPress:async()=>{await async function(e){try{e?await(0,o.CG)():await(0,o.Ht)()}catch(e){console.error("Error opening Side Panel:",e)}}(e)},className:"side-panel-icon-container",hoverStyle:{opacity:l.IPZ}},c.createElement(m,{color:t.baseIcon.val}))}const m=({color:e})=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},c.createElement("g",{transform:"scale(1.05)"},c.createElement("g",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"default"},c.createElement("path",{d:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM15 14v1M15 19v2M15 3v2M15 9v1"})),c.createElement("g",{className:"hover"},c.createElement("defs",null,c.createElement("clipPath",{id:"clip"},c.createElement("rect",{x:2,y:2,width:20,height:20,rx:3,stroke:e,strokeLinecap:"square",fill:"none"}))),c.createElement("g",{clipPath:"url(#clip)"},c.createElement("path",{className:"filled-rectangle",fill:e,d:"M14 0h8v24h-8z"}),c.createElement("path",{fill:e,fillRule:"evenodd",d:"M5 4a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5ZM2 5a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5Z",clipRule:"evenodd"})))))},328131:(e,t,n)=>{n.d(t,{Z7:()=>z,kS:()=>X,u5:()=>Y});var a=n(220026),r=n(371541),l=n(916885),i=n(813586),o=n(159469),c=n(531518),s=n(837993),d=n(10794),u=n(227443),m=n(181956),p=n(402528),g=n(495320),h=n(636134),b=n(862955),E=n(326951),f=n(337288),k=n(825629),y=n(382740),v=n(393403),w=n(88366),I=n(866548),T=n(482851),x=n(187254),$=n(304235),S=n(371894),A=n(400752),C=n(987809),_=n(202784),P=n(861948),D=n(300643),L=n(646704),F=n(306155),M=n(588945),N=n(202784);function z({buttonStyle:e}){(0,E.F)();const[t,n]=(0,_.useState)(null),r=(0,m.aF)(),{isXs:i}=(0,p.k)(),o=(0,$.HJ)(),c=(0,_.useRef)(null),s=(0,_.useRef)(null);(0,_.useEffect)((()=>{n(null)}),[r.uuid]);const d=(0,_.useCallback)((()=>{n(null),s.current&&s.current.focus()}),[]),u=(0,_.useCallback)((()=>{setTimeout((()=>{const e=document.getElementById("search-input");e&&e.focus()}),100)}),[]),g=(0,_.useCallback)((e=>{e.stopPropagation(),s.current=document.activeElement,c.current&&n(c.current),u()}),[u]),h=(0,_.useCallback)((()=>{c.current&&(s.current=document.activeElement,n(c.current),u())}),[u]);(0,_.useEffect)((()=>{const e=e=>{if(!(0,l.n)(e))return;const n=e.target;n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||"/"!==e.key||t||(e.preventDefault(),h())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[h,t]);const b=(0,_.useCallback)((()=>{d(),o.push(L.p.SettingsNavigator,{screen:D.SettingsNavigatorRoutes.SettingsScreen})}),[o,d]),y=t?.getBoundingClientRect();return N.createElement(N.Fragment,null,N.createElement(f.FA,{justifyContent:"center"},N.createElement(f.sL,{ref:c,testID:a.PX,style:e,padding:0,cursor:"pointer",onPress:e=>g(e),hoverStyle:{opacity:k.IPZ}},N.createElement(Y,{uuid:r.uuid,variant:"md"}))),t&&y?N.createElement(N.Fragment,null,N.createElement(f.FA,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:2},onPress:d}),N.createElement(f.FA,{paddingVertical:4,style:{position:"fixed",left:y.left,transform:i?void 0:"translateY(-100%)",zIndex:3,minWidth:"218px"}},N.createElement(G,{close:d,openSettings:b},N.createElement(R,null)))):null)}function R(){const e=(0,E.F)();return N.createElement(f.FA,{width:"218px",maxHeight:"calc(100vh - 112px)",overflowY:"auto",backgroundColor:e.baseBackgroundL0.val,borderWidth:2,borderColor:e.baseBorderLight.val,borderRadius:"$3"},N.createElement(q,null),N.createElement(f.FA,{borderTopWidth:2,borderTopColor:e.baseBorderLight.val}),N.createElement(W,null),N.createElement(f.FA,{borderTopWidth:2,borderTopColor:e.baseBorderLight.val}),N.createElement(K,null))}function B({children:e}){return N.createElement("div",{style:{paddingTop:"4px",paddingBottom:"4px"}},e)}function O({onClick:e,children:t,isSelected:n,testID:a}){const r=(0,E.F)();return N.createElement(f.sL,{testID:a,paddingVertical:"$2",paddingHorizontal:"$4",width:"100%",cursor:"pointer",backgroundColor:n?r.baseBackgroundL2.val:"transparent",hoverStyle:{backgroundColor:r.baseBackgroundL2.val,opacity:1},onPress:e},t)}function q(){const e=(0,m.gl)(),t=(0,E.F)(),n=(0,A.Dv)(g.s7),{close:a}=Z(),[l,c]=(0,_.useState)(""),[s,d]=(0,_.useState)(0),p=(0,_.useRef)(null),h=(0,A.Dv)((0,C.n7)(g.DU)),b="hasData"===h.state?h.data:[],[k,T]=(0,A.KO)(u.$D),$=(0,_.useMemo)((()=>function(e,t){if(!t||0===t.length)return e;const n=new Map(t.map(((e,t)=>[e,t])));return[...e].sort(((e,t)=>{const a=n.get(e.uuid),r=n.get(t.uuid);return void 0===a&&void 0===r?0:void 0===a?1:void 0===r?-1:a-r}))}(e,k)),[e,k]),[D,L]=(0,_.useState)($);(0,_.useEffect)((()=>{L($)}),[$]);const M=(0,v.Dy)((0,v.VT)(v.we,{activationConstraint:{delay:250,tolerance:5}}),(0,v.VT)(v.Lg,{coordinateGetter:I.is})),z=(0,_.useMemo)((()=>l?Array.from(new Map(b.filter((e=>e.publicKey.toLowerCase().includes(l.toLowerCase())||e.info.name.toLowerCase().includes(l.toLowerCase()))).map((e=>[`${e.userId}-${e.publicKey}`,e]))).values()).slice(0,5):[]),[l,b]);return(0,_.useEffect)((()=>{d(0)}),[l]),N.createElement(B,null,N.createElement("div",{style:{width:"100%"}},N.createElement(o.t,{height:40,fontSize:"$sm",id:"search-input",placeholder:x.ag._({id:"awThqU"}),value:l,onValueChange:c,outlineWidth:0,borderWidth:0,focusStyle:{outlineWidth:0,borderWidth:0},wrapperProps:{borderWidth:0}})),l?z.length>0?N.createElement(N.Fragment,null,z.map(((e,l)=>N.createElement(O,{key:`${e.blockchain}-${e.publicKey}`,onClick:()=>(async e=>{p.current&&p.current.blur(),await n.setActiveUser({uuid:e.userId}),await n.setActiveWallet({uuid:e.userId,blockchain:e.blockchain,blockchainId:e.blockchainId,publicKey:e.publicKey}),c(""),a()})(e),isSelected:l===s},N.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%"}},N.createElement("div",{style:{marginRight:"8px",flexShrink:0}},N.createElement(Y,{uuid:e.userId,variant:"sm"})),N.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1,textAlign:"left"}},N.createElement(y.q,{style:{fontSize:14,color:t.baseTextHighEmphasis.val,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"}},e.info.name.slice(0,10)+(e.info.name.length>10?"...":"")),N.createElement(f.sL,{gap:1,ai:"center"},N.createElement(y.q,{fontSize:"$xs",color:"$baseTextMedEmphasis"},(0,r.R1)(e.publicKey)),N.createElement(P.E,{address:e.publicKey,iconSize:12,height:14,width:14}))),N.createElement(F.N,{publicKey:e.publicKey,blockchainId:e.blockchainId})))))):N.createElement("div",{style:{padding:"8px 16px",color:t.baseTextMedEmphasis.val,fontSize:"14px"}},"No wallets found"):N.createElement(v.LB,{sensors:M,collisionDetection:v.pE,onDragEnd:e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=D.findIndex((e=>e.uuid===t.id)),a=D.findIndex((e=>e.uuid===n.id)),r=(0,I.Rp)(D,e,a);L(r),T(r.map((e=>e.uuid)))}},modifiers:[w.DL]},N.createElement(I.Fo,{items:D.map((e=>e.uuid)),strategy:I.qw},D.map((e=>N.createElement(H,{key:e.uuid,user:e,onClick:async()=>{await n.setActiveUser({uuid:e.uuid}),a()}}))))),N.createElement(O,{onClick:()=>{a(),(0,i.Gn)()}},N.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"row",marginRight:"4px"}},N.createElement(S.v,{width:14,height:14,color:t.baseTextMedEmphasis.val,marginRight:8}),N.createElement(y.q,{color:"$baseTextMedEmphasis",fontSize:"$sm"},x.ag._({id:"5a1gAl"})))))}function W(){(0,E.F)();const{close:e,openSettings:t}=Z(),n="popout"===(0,M.jG)();return N.createElement(B,null,N.createElement(O,{onClick:()=>{t()},testID:a.p7},N.createElement(y.q,{color:"$baseTextHighEmphasis",fontSize:"$sm",display:"flex",flexDirection:"column",justifyContent:"center"},x.ag._({id:"Tz0i8g"}))),N.createElement(O,{onClick:async()=>{await async function(e,t){try{e?await(0,M.Ht)():(await(0,M.j7)(),t())}catch(e){console.error("Error toggling view mode:",e)}}(n,e)}},N.createElement(y.q,{color:"$baseTextHighEmphasis",fontSize:"$sm",display:"flex",flexDirection:"column",justifyContent:"center"},n?x.ag._({id:"CQgxpO"}):x.ag._({id:"f7lsm+"}))))}function K(){const e=(0,A.Dv)(g.s7);return N.createElement(B,null,N.createElement(O,{onClick:async()=>{await e.lockKeyring()},testID:a.kQ},N.createElement(y.q,{color:"$baseTextHighEmphasis",fontSize:"$sm",display:"flex",flexDirection:"column",justifyContent:"center"},x.ag._({id:"HD2Tiz"}))))}function j({userUuid:e}){const t=(0,A.Dv)(u.aI),n=(0,A.Dv)(h.Hl),a=(0,A.Dv)((0,s.Zh)(e)),l=n?.walletCounts?.wallet_count;if(!l||l>=20)return null;const i=t?d.e:r.eO.formatToUSD({amount:a,largeNumberStyle:"TRUNCATED_WITH_LETTER",aggressiveLargeNumberStyle:!0,maximumFractionDigits:a>=10&&a<1e3?0:2,minimumFractionDigits:a<10?2:0});return N.createElement(y.q,{fontSize:"$xs",color:"$baseTextMedEmphasis",style:{maxWidth:"60px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"right"}},i)}function H(e){const{attributes:t,listeners:n,setNodeRef:a,transform:r,transition:l,isDragging:i}=(0,I.nB)({id:e.user.uuid}),o={transform:T.ux.Translate.toString(r),transition:l,zIndex:i?1:0,opacity:i?.5:1,userSelect:"none"};return N.createElement("div",{ref:a,style:o,...t,...n},N.createElement(V,e))}function V({user:e,onClick:t}){const n=(0,m.aF)(),a=e.uuid===n.uuid,r=(0,A.Dv)((0,C.n7)(h.Hl)),l="hasData"===r.state?r.data:null,i=l?.walletCounts?.wallet_count,o=i&&i<20;return N.createElement(O,{onClick:t,isSelected:a},N.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"}},N.createElement("div",{style:{display:"flex",alignItems:"center",flex:1,minWidth:0}},N.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginRight:"8px"}},N.createElement(Y,{uuid:e.uuid,variant:"sm"})),N.createElement(y.q,{color:"$baseTextHighEmphasis",fontSize:"$sm",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,minWidth:0,textAlign:"left"},e.username)),o?N.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",minWidth:"60px",flexShrink:0}},N.createElement(_.Suspense,{fallback:N.createElement(c.m,{width:40,height:16})},N.createElement(j,{userUuid:e.uuid}))):null))}const U=(0,_.createContext)(null),G=(0,_.forwardRef)((function({children:e,close:t,openSettings:n},a){return N.createElement(U.Provider,{value:{close:t,openSettings:n}},N.createElement("div",{ref:a},e))}));function Z(){const e=(0,_.useContext)(U);if(null===e)throw new Error("Context not available");return e}function Y(e){return N.createElement(_.Suspense,{fallback:null},N.createElement(J,e))}function J({uuid:e,variant:t}){const n=(0,m.gl)(),a=n.find((t=>t.uuid===e)),r=n.findIndex((t=>t.uuid===e));return N.createElement(X,{index:r,username:a.username,variant:t})}function X({index:e,username:t,variant:n}){const a=function(e){const t=e.split(" ").filter(Boolean);let n=[...t[0]][0];return t.length>1&&(n+=[...t[1]][0]),n.toUpperCase()}(t),r=(0,b.o)(e),l="sm"===n?20:"md"===n?32:74,i="sm"===n?"10px":"md"===n?"14px":"24px";return N.createElement("div",{style:{position:"relative",justifyContent:"center",display:"flex",flexDirection:"column",width:l,height:l}},N.createElement("div",{style:{backgroundColor:r,opacity:.15,width:l,height:l,borderRadius:l/2,position:"absolute",left:0,top:0,bottom:0,right:0}}),N.createElement(y.q,{color:r,fontSize:i,textAlign:"center"},a))}Y.displayName="IncognitoAvatar"},892082:(e,t,n)=>{n.d(t,{D:()=>g});var a=n(44171),r=n(377172),l=n(893086),i=n(326951),o=n(761321),c=n(337288),s=n(512788),d=n(382740),u=n(642719),m=n(202784);const p=(0,u.x)((e=>({balancesTableCellContainer:{width:"100%",height:"100%",display:"flex"},tokenListItemContent:{color:e.baseTextHighEmphasis.val,flex:1,paddingTop:"10px",paddingBottom:"10px"},tokenListItemRow:{display:"flex",justifyContent:"space-between"},tokenListItemIcon:{paddingTop:"12px",paddingBottom:"12px",marginRight:"12px"},tokenName:{height:"24px",fontWeight:500,fontSize:"16px",maxWidth:"200px",overflow:"hidden",color:e.baseTextHighEmphasis.val,lineHeight:"24px"},tokenAmount:{fontWeight:500,fontSize:"14px",color:e.baseTextMedEmphasis.val,lineHeight:"20px"},tokenBalance:{fontWeight:500,fontSize:"16px",color:e.baseTextHighEmphasis.val,lineHeight:"24px"},tokenListItemIconRoot:{minWidth:"44px"}})));function g({props:e}){const{validator:t,state:n,amount:u,reward:g}=e,h=p(),b=(0,i.F)(),E=(0,o.GS)();return m.createElement("div",{className:h.balancesTableCellContainer},m.createElement(c.sL,{minWidth:44,paddingTop:"12px",paddingBottom:"12px",marginRight:"12px",display:E.sidePanel?"none":"flex"},t?m.createElement(r.e4,{src:t.icon||a.rI,style:{borderRadius:"22px",width:"44px",height:"44px"},onError:e=>{e.currentTarget.src=a.rI}}):m.createElement(s.O,{radius:22,width:44,height:44})),m.createElement("div",{className:h.tokenListItemContent},m.createElement("div",{className:h.tokenListItemRow},m.createElement(d.q,{className:h.tokenName,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},t?.name),m.createElement(d.q,{className:h.tokenBalance,overflow:"hidden",whiteSpace:"nowrap"},u)),m.createElement("div",{className:h.tokenListItemRow},m.createElement(d.q,{color:l.dv[n.toLowerCase()]||"$baseTextMedEmphasis",fontSize:"$sm"},n),g?m.createElement(d.q,{className:h.tokenAmount,style:{color:b.baseTextMedEmphasis.val}},"+",g):null)))}},365109:(e,t,n)=>{n.d(t,{q:()=>s});var a=n(202784),r=n(181956),l=n(326951),i=n(337288),o=n(382740),c=n(202784);function s({value:e,percentage:t,detailsPage:n}){const s=(0,l.F)(),d=(0,r.$T)(2),u=(0,r.$T)(4),m=(0,a.useMemo)((()=>{if(Math.abs(e)<.01)return u.format(e,!0);const t=parseFloat(e.toFixed(2));return d.format(t)}),[e,d,u]),p=0===e||n?s.baseTextMedEmphasis.val:e<0?s.redText.val:s.greenText.val,g=e>0?"+":"",h=parseFloat(t.toFixed(2)),b=Number.isFinite(h)?h.toLocaleString():"0";return c.createElement(i.sL,{gap:"$1",ai:"center"},c.createElement(o.q,{color:p,fontSize:"$sm"},g,m),c.createElement(o.q,{color:p,fontSize:"$sm"},"(",g,b,"%)"))}},598416:(e,t,n)=>{n.d(t,{H:()=>y,e:()=>v});var a=n(202784),r=n(527159),l=n(997246),i=n(66046),o=n(227443),c=n(541214),s=n(468186),d=n(337288),u=n(382740),m=n(326951),p=n(747401),g=n(187254),h=n(371894),b=n(962888),E=n(447033),f=n(400752),k=n(202784);function y({onClick:e,label:t}){return k.createElement(d.FA,{justifyContent:"center",alignItems:"center"},k.createElement(d.sL,{onPress:e,gap:"$2",alignItems:"center",cursor:"pointer",backgroundColor:"$baseBackgroundL0",paddingTop:"$4",paddingHorizontal:"$4",zIndex:1,hoverStyle:{cursor:"pointer",opacity:.8}},k.createElement(h.v,{color:"$accentBlue",size:20}),k.createElement(u.q,{color:"$accentBlue",textAlign:"center",fontWeight:"$semiBold"},t??g.ag._({id:"m16xKo"}))))}function v({filter:e,setFilter:t,blockchainIds:n,useSupportedNetworks:r}){const[u,m]=(0,a.useState)(!1),p=(0,f.Dv)(i.uV),h=(0,f.Dv)(i.x7),y=(0,f.Dv)(o.jp),v=(0,a.useMemo)((()=>{if(r)return Object.fromEntries(Object.entries(p).filter((([,e])=>e&&e.blockchainId&&e.name)));const e=Object.keys(h);return Object.fromEntries(Object.entries(p).filter((([t])=>e.includes(t))))}),[r,p,h]),I=(0,a.useMemo)((()=>Object.keys(v)),[v]),{from:T}=(0,s.iJ)(),x=(0,c.pI)(),$=(0,a.useMemo)((()=>{const e=new Map;return y.forEach(((t,n)=>{const a=t.blockchainId;e.has(a)||e.set(a,y.length-n)})),e}),[y]),S=(0,a.useMemo)((()=>{const e=(e,t)=>[...e].sort(((e,n)=>{if(e===T.blockchainId)return-1;if(n===T.blockchainId)return 1;const a=!!x[e];if(a!==!!x[n])return a?-1:1;const r=$.get(e)||0,l=$.get(n)||0;return r!==l?l-r:t.indexOf(e)-t.indexOf(n)}));if(r&&n)return e(n,n);let t=I.filter((e=>v[e]?.swapUrl))??n;return r||(t=t.filter((e=>{const t=v[e]?.wormholeChainId;return void 0!==t}))),e(t,t)}),[I,n,v,T.blockchainId,r,$,x]),A=S.length>3;return k.createElement(d.FA,{gap:8},k.createElement(d.sL,{display:"flex",paddingHorizontal:16,gap:8,flexWrap:"wrap"},S.map(((n,a)=>k.createElement(w,{key:n,isSelected:e===n,blockchainId:n,onClick:()=>t(n),display:!u&&a>=3?"none":"flex"})))),A&&k.createElement(d.sL,{justifyContent:"center",paddingTop:8},k.createElement(l.x,{onPress:()=>m(!u),label:u?g.ag._({id:"8wM9ab"}):g.ag._({id:"YHc0+l"}),variant:"tertiary",color:"light-gray",size:32,icon:({size:e})=>u?k.createElement(b.M,{size:e,color:"$baseTextMedEmphasis"}):k.createElement(E._,{size:e,color:"$baseTextMedEmphasis"})})))}function w({isSelected:e,blockchainId:t,onClick:n,display:a="flex"}){const r=(0,m.F)(),l=(0,c.pI)(),o=(0,f.Dv)((0,i.I5)(t));if(!(o&&o.blockchainId&&o.name&&o.blockchain))return null;const s=!!l[t],d=s?1:.5;return k.createElement(p.zx,{flex:0,display:a,borderRadius:20,alignItems:"center",paddingLeft:"$DEPRECATED_2",paddingRight:"$DEPRECATED_3",paddingVertical:16,justifyContent:"center",outlineWidth:0,borderWidth:0,gap:6,space:0,opacity:d,backgroundColor:e?r.invertedBaseBackgroundL0:r.baseBackgroundL1,color:e?r.invertedBaseTextHighEmphasis:r.baseTextHighEmphasis,hoverStyle:{outlineWidth:0,opacity:s?.8:.6,backgroundColor:e?r.invertedBaseBackgroundL0:r.baseBackgroundL1},focusStyle:{outlineWidth:0,backgroundColor:e?r.invertedBaseBackgroundL0:r.baseBackgroundL1},pressStyle:{outlineWidth:0,opacity:s?.7:.5,borderColor:e?r.baseBorderFocus:r.baseBorderLight},onPress:n},k.createElement(I,{blockchain:o.blockchain,blockchainId:o.blockchainId}),k.createElement(u.q,{fontSize:"$sm",whiteSpace:"nowrap",color:e?r.invertedBaseTextHighEmphasis:r.baseTextHighEmphasis},o.name))}function I({blockchainId:e}){return k.createElement(r._,{id:e,size:18})}},50868:(e,t,n)=>{n.d(t,{V:()=>i});var a=n(872460),r=n(326951),l=n(202784);function i(e){const t=(0,r.F)();return l.createElement(l.Fragment,null,l.createElement(a.$B,{style:{width:"100%",height:"100%"},renderTrackHorizontal:e=>l.createElement("div",{...e,className:"track-horizontal"}),renderTrackVertical:e=>l.createElement("div",{style:{backgroundColor:t.baseBackgroundL2.val},...e,className:"track-vertical"}),renderThumbHorizontal:e=>l.createElement("div",{...e,className:"thumb-horizontal"}),renderThumbVertical:e=>l.createElement("div",{style:{backgroundColor:t.baseBackgroundL1.val},...e,className:"thumb-vertical"}),renderView:e=>l.createElement("div",{...e,className:"view"}),autoHide:!0,thumbMinSize:30,...e}),l.createElement("style",null,`\n          .view > div, .view > form {\n            min-height:100% !important;\n            height:auto !important;\n          }\n          .track-vertical {\n            background: ${t.baseBackgroundL2.val};\n          }\n          .track-vertical .thumb-vertical {\n            background-color: ${t.baseBackgroundL1.val};\n          }\n\t\t\t\t`))}},861948:(e,t,n)=>{n.d(t,{E:()=>u});var a=n(202784),r=n(371541),l=n(540175),i=n(337288),o=n(382740),c=n(239263),s=n(293247),d=n(202784);function u({address:e,iconSize:t,width:n,height:u}){const[m,p]=(0,a.useState)(!1),g=(0,r.R1)(e);return d.createElement(l.u,{open:m},d.createElement(l.u.Trigger,{position:"static"},d.createElement(i.sL,{height:u,width:n,justifyContent:"center",alignItems:"center",onPress:async t=>{t.preventDefault(),t.stopPropagation(),p(!0),await navigator.clipboard.writeText(e),setTimeout((()=>p(!1)),1e3)}},m?d.createElement(c.J,{color:"$accentBlue",width:t,height:t}):d.createElement(s.C,{color:"$baseIcon",width:t,height:t}))),d.createElement(l.u.Content,{backgroundColor:"$baseBackgroundL1",borderColor:"$baseBorderLight",borderRadius:"$DEPRECATED_4",padding:"$DEPRECATED_2"},d.createElement(o.q,{fontSize:"$sm",color:"$baseTextHighEmphasis"},`${g}`)))}},506597:(e,t,n)=>{n.d(t,{D:()=>b});var a=n(527159),r=n(66046),l=n(541214),i=n(481185),o=n(337288),c=n(382740),s=n(65457),d=n(555150),u=n(187254),m=n(239263),p=n(371894),g=n(400752),h=n(202784);function b({children:e,selectedNetwork:t,onNetworkPress:n,onMoreNetworksPress:b}){const E=(0,l.rT)(),f=(0,g.Dv)(r.jo),k=(0,g.Dv)(r.lm),y=Object.values(k),v=f.activeNetworks.filter((e=>!e.isTestnet)),w=f.activeNetworks.filter((e=>e.isTestnet)),I=t??E.blockchainId,T=e=>{const t=e.blockchainId===I;return h.createElement(i.J2.Close,{key:e.blockchainId},h.createElement(o.sL,{paddingHorizontal:"$DEPRECATED_3",paddingVertical:"$DEPRECATED_2",borderColor:"$baseBorderLight",hoverStyle:{backgroundColor:"$baseBackgroundL2"},borderWidth:0,gap:"$DEPRECATED_3",alignItems:"center",cursor:"pointer",userSelect:"none",onPress:async()=>n(e)},h.createElement(a._,{id:e.blockchainId,size:20}),h.createElement(c.q,{color:"$baseTextHighEmphasis",fontSize:"$sm",flex:1},e.name),t?h.createElement(m.J,{color:"$accentBlue",size:20,marginRight:-4}):null))};return h.createElement(i.J2,{placement:"bottom-start"},h.createElement(i.J2.Trigger,null,e),h.createElement(i.J2.Content,{borderWidth:2,overflow:"hidden",backgroundColor:"$baseBackgroundL0",borderColor:"$baseBorderLight",borderRadius:"$DEPRECATED_4",paddingHorizontal:0,paddingVertical:4,enterStyle:{y:-5,opacity:0},exitStyle:{y:-5,opacity:0}},h.createElement(s.p,{maxHeight:"80vh",showsVerticalScrollIndicator:!0},h.createElement(o.FA,null,v.length>0?v.map(T):null,v.length>0&&w.length>0?h.createElement(d.Z,{key:"separator-1",borderColor:"$baseBorderLight",borderBottomWidth:2,marginVertical:4}):null,w.length>0?w.map(T):null,v.length<y.length?h.createElement(h.Fragment,null,h.createElement(d.Z,{key:"separator-2",borderColor:"$baseBorderLight",borderBottomWidth:2,marginVertical:4}),h.createElement(i.J2.Close,{key:"Add"},h.createElement(o.sL,{paddingHorizontal:"$DEPRECATED_3",paddingVertical:"$DEPRECATED_2",borderColor:"$baseBorderLight",hoverStyle:{backgroundColor:"$baseBackgroundL2"},borderWidth:0,gap:"$DEPRECATED_2",alignItems:"center",cursor:"pointer",userSelect:"none",onPress:b},h.createElement(p.v,{size:12,color:"$baseTextMedEmphasis"}),h.createElement(c.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},u.ag._({id:"LP+1Z7"}))))):null))))}},153844:(e,t,n)=>{n.d(t,{a:()=>b});var a=n(527159),r=n(476265),l=n(495320),i=n(541214),o=n(337288),c=n(382740),s=n(733095),d=n(400752),u=n(300643),m=n(646704),p=n(861948),g=n(506597),h=n(202784);function b({navigation:e}){const t=(0,i.rT)(),n=(0,d.Dv)(l.D5),b=(0,d.Dv)(l.s7);return h.createElement(o.sL,{cursor:"pointer",userSelect:"none",height:36,backgroundColor:"$baseBackgroundL1",borderRadius:32,borderStyle:"solid",borderWidth:"1px",borderColor:"$baseBorderMed",alignItems:"stretch",justifyContent:"center",overflow:"hidden",maxWidth:225},h.createElement(o.sL,{height:36,flexShrink:0,borderWidth:0,borderRightWidth:1,borderStyle:"solid",borderColor:"$baseDivider",hoverStyle:{backgroundColor:"$baseBackgroundL2"}},h.createElement(g.D,{onNetworkPress:async e=>{const t=n.publicKeys.platforms[e.blockchainId].activePublicKey;await b.setActiveWallet({uuid:n.user.uuid,blockchain:e.blockchain,blockchainId:e.blockchainId,publicKey:t})},onMoreNetworksPress:async()=>{e.push(m.p.ImportWalletNavigator,{screen:r.MG.AddNetwork})}},h.createElement(o.sL,{height:34,width:36,justifyContent:"center",alignItems:"center"},h.createElement(a._,{id:t.blockchainId,size:20})))),h.createElement(o.sL,{flex:1,gap:"$DEPRECATED_2",alignItems:"center",justifyContent:"center",paddingRight:"$DEPRECATED_2",paddingLeft:"$DEPRECATED_3",onPress:t=>{t.stopPropagation(),e.navigate(m.p.SettingsNavigator,{screen:u.SettingsNavigatorRoutes.WalletPickerScreen})},overflow:"hidden",hoverStyle:{backgroundColor:"$baseBackgroundL2"}},h.createElement(c.q,{fontSize:"$sm",numberOfLines:1,ellipse:!0},t.info.name),h.createElement(s._,{flexShrink:0,color:"$baseTextMedEmphasis",size:16})),h.createElement(o.sL,{position:"relative",flexShrink:0,height:"100%",borderWidth:0,borderLeftWidth:1,borderStyle:"solid",borderColor:"$baseDivider",alignItems:"center",justifyContent:"center",hoverStyle:{backgroundColor:"$baseBackgroundL2"}},h.createElement(p.E,{address:t.publicKey,iconSize:16,height:36,width:36})))}},245484:(e,t,n)=>{n.d(t,{C:()=>k});var a=n(202784),r=n(44171),l=n(997246),i=n(667135),o=n(35893),c=n(785766),s=n(916736),d=n(220026),u=n(476265),m=n(817967),p=n(489911),g=n(622845),h=n(337288),b=n(187254),E=n(400752),f=n(202784);function k({navigation:e}){const[t,n]=(0,E.KO)(p.Wn),k=t?.isAddingAccount,y=(0,E.b9)(p.ef),v=(0,E.b9)(p.R9),[w,I]=(0,a.useState)(!1);return f.createElement(s.s,{jc:"space-between"},f.createElement(c.u,{icon:()=>f.createElement(g.z7,{height:40}),title:b.ag._({id:"H/WnhD"}),subtitle:b.ag._({id:"kfJVgr"})}),f.createElement(i.p,null,f.createElement(h.FA,{ai:"center",jc:"center",height:48},f.createElement(h.sL,{mx:16},f.createElement(o.O,{value:w,onPress:I,label:b.ag._({id:"J/weem",values:{BACKPACK_TERMS_OF_SERVICE:r.EQ}}),testID:d.sz}))),f.createElement(l.x,{variant:"primary",label:b.ag._({id:"4Z288Q"}),testID:d.OP,disabled:!w,onPress:async()=>{await y({flowEntrypoint:u.g1.ONBOARDING_CREATE,isAddingAccount:k}),await v(m.kD.MNEMONIC),e.push(u.MG.SetUpMultipleNetworks)}}),f.createElement(l.x,{variant:"secondary",testID:d.km,disabled:!w,label:b.ag._({id:"N7zCxQ"}),onPress:async()=>{await y({flowEntrypoint:u.g1.ONBOARDING_IMPORT,isAddingAccount:k}),await n({explicitNextRoute:u.MG.SelectDescriptorType}),e.push(u.MG.SetUpSingleNetwork)}})))}},434242:(e,t,n)=>{n.d(t,{F:()=>N});var a=n(202784),r=n(63955),l=n(997246),i=n(667135),o=n(337288),c=n(382740),s=n(326951),d=n(59727),u=n(187254),m=n(421282),p=n(980786),g=n(202784);function h({message:e}){return g.createElement(c.q,{color:"$redText"},e)}var b=n(825629),E=n(168756),f=n(202784);function k({children:e,style:t,hitSlop:n=8,...a}){const r=(0,s.F)();return f.createElement(E.Z,{hitSlop:n,android_ripple:{color:r.baseBackgroundL1.val,borderless:!1},style:({pressed:e})=>[t,{opacity:e?b.IPZ:1}],...a,accessibilityLabel:"Touchable"},e)}var y=n(886526),v=n(202784);const w=(0,a.forwardRef)((function({hasError:e,hideFocusStyle:t,size:n=48,testID:a,...r},l){const i=e?"$redText":"$baseBackgroundL1";return v.createElement(y.II,{testID:a,ref:l,overflow:"hidden",h:n,br:12,px:16,backgroundColor:"$baseBackgroundL1",outlineStyle:"none",borderWidth:1.5,borderColor:i,autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,color:"$baseTextHighEmphasis",placeholderTextColor:"$baseIcon",maxFontSizeMultiplier:1.1,...r,focusStyle:t?void 0:{outlineStyle:"none",borderWidth:1.5,borderColor:"$accentBlue"}})}));n(47355);var I=n(84442),T=n(202784);function x({title:e,children:t,errors:n,name:a}){return T.createElement(o.FA,{gap:8},e?T.createElement(c.q,{color:"$baseTextMedEmphasis"},e):null,t,a&&n?T.createElement(I.B,{errors:n,name:a,render:({message:e})=>T.createElement(h,{message:e})}):null)}function $({title:e,control:t,errors:n,onSubmitEditing:l,returnKeyType:i,name:c="password",inputRef:g,rules:h,onChangeText:b,editable:E,testID:f}){const[y,v]=(0,a.useState)(!0),I=(0,s.F)();return T.createElement(x,{title:e,name:c,errors:n},T.createElement(r.Qr,{name:c,control:t,rules:{required:u.ag._({id:"chRwq/"}),minLength:{value:8,message:u.ag._({id:"vwGkYB"})},...h},render:({field:{onChange:e,onBlur:t,value:n}})=>T.createElement(o.sL,null,T.createElement(w,{ref:g,testID:f,secureTextEntry:y,autoComplete:"password",onChangeText:t=>{e(t),b?.(t)},onBlur:t,value:n,placeholderTextColor:I.baseTextMedEmphasis.val,selectionColor:I.accentBlue.val,numberOfLines:1,spellCheck:!1,autoCapitalize:"none",autoCorrect:!1,returnKeyType:i,editable:E,onSubmitEditing:()=>{e(n),l?.()},style:{flex:1}}),T.createElement(d.G7,{position:"absolute",right:14,top:14},T.createElement(k,{onPress:()=>v(!y)},y?T.createElement(m.b,{size:20,color:I.baseTextMedEmphasis.val}):T.createElement(p._,{size:20,color:I.baseTextMedEmphasis.val}))))}))}var S=n(916736),A=n(639784),C=n(220026),_=n(476265),P=n(489911),D=n(227883),L=n(400752),F=n(639460),M=n(202784);function N({navigation:e}){const t=(0,L.b9)(P.Wn),n=(0,L.b9)(D.b),{control:c,handleSubmit:s,watch:d,formState:{errors:m,isValid:p}}=(0,r.cI)({mode:"onChange"}),g=d("password"),h=(0,a.useCallback)((async a=>{await t({password:a.password,creationProcessId:(0,F.Z)()}),n(),e.navigate(_.MG.MonitorCreationStatus)}),[t,e]);return M.createElement(S.s,{pt:!1},M.createElement(o.FA,{jc:"center",alignContent:"center",gap:"$4"},M.createElement(A.V,{title:u.ag._({id:"Syz9zw"}),subtitle:u.ag._({id:"nPd+1l"})}),M.createElement($,{control:c,rules:{required:u.ag._({id:"chRwq/"}),minLength:{value:8,message:u.ag._({id:"vwGkYB"})}},title:u.ag._({id:"8ZsakT"}),testID:C.TQ,errors:m,name:"password",returnKeyType:"next"}),M.createElement($,{control:c,rules:{required:u.ag._({id:"PbD69G"}),validate:e=>e===g||u.ag._({id:"lpIMne"})},title:u.ag._({id:"p2/GCq"}),testID:C.fU,errors:m,name:"passwordConfirm",returnKeyType:"done"})),M.createElement(i.p,null,M.createElement(l.x,{variant:"primary",label:u.ag._({id:"hXzOVo"}),testID:p?C.WY:void 0,disabled:!p,onPress:s(h)})))}},917387:(e,t,n)=>{n.d(t,{F:()=>b});var a=n(202784),r=n(448288),l=n(345167),i=n(916736),o=n(476265),c=n(489911),s=n(227883),d=n(457373),u=n(187254),m=n(400752),p=n(954329),g=n(391133),h=n(202784);function b({navigation:e}){const t=(0,m.Dv)(c.Wn),n=(0,m.b9)(c.Px),b=(0,m.Dv)(d.vn),E=(0,m.b9)(d.Z7),f=(0,m.b9)(d.H6),[k,y]=(0,a.useState)(!1),v=(0,a.useRef)(!1),w=t?.creationProcessId||"",I=(0,m.Dv)((0,s.q)(w)),[T,x]=(0,a.useState)(!1),$=(0,a.useMemo)((()=>h.createElement(p.a,{size:"large",message:u.ag._({id:"RMRwF5"})})),[]);return(0,a.useEffect)((()=>{"success"!==I?.status||v.current||b?.reason===d.Dg.NO_WALLET&&(v.current=!0,x(!0),setTimeout((()=>{E().then((()=>{window.close()})).catch((()=>{window.close()}))}),2e3))}),[I?.status,b,E]),(0,a.useEffect)((()=>{if(!b||b.reason!==d.Dg.NO_WALLET)return;const e=()=>{v.current||f("User cancelled wallet creation")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[b,f]),(0,a.useEffect)((()=>{"success"!==I?.status||T||k||(t.flowEntrypoint===o.g1.ADD_WALLET?requestAnimationFrame((()=>{x(!0),y(!0),setTimeout((()=>{e.popToTop(),e.popToTop(),setTimeout((()=>{n()}),1e3)}),100)})):t.isAddingAccount?(window.open("https://backpack.exchange","_blank"),(0,r.l)("popout.html")):e.navigate(o.MG.Finalize))}),[I,T,e,k]),t.flowEntrypoint||"success"===I?.status?"error"===I?.status?h.createElement(l.e,{title:u.ag._({id:"nwtY4N"}),subtitle:I.error?.message||""}):h.createElement(i.s,null,$):h.createElement(g.r,null)}},400981:(e,t,n)=>{n.d(t,{q:()=>T});var a=n(448288),r=n(44171),l=n(220026),i=n(997246),o=n(667135),c=n(916736),s=n(639784),d=n(377172),u=n(337288),m=n(382740),p=n(622845),g=n(326951),h=n(855452),b=n(187254),E=n(928316),f=n(202784);function k({onClose:e}){const t=window.navigator.userAgent.includes("Mac OS")?"Option":"Alt";return f.createElement(f.Fragment,null,f.createElement(w,null),f.createElement(c.s,null,f.createElement(u.FA,{f:1,justifyContent:"center",gap:"$4"},f.createElement(u.FA,{gap:"$4"},f.createElement(s.V,{title:b.ag._({id:"xlM9qg"}),subtitle:""}),f.createElement(m.q,{color:"$baseTextMedEmphasis",textAlign:"center"},f.createElement(h.cC,{id:"8wUaXP",values:{alt:t},components:{0:f.createElement(y,null),1:f.createElement(y,null),2:f.createElement(y,null)}}))),f.createElement(u.sL,{gap:12},f.createElement(v,{icon:f.createElement(p.z7,{height:24,width:17}),title:b.ag._({id:"XYLcNv"}),onClick:()=>{window.open("https://support.backpack.exchange","_blank")}}),f.createElement(v,{icon:f.createElement(d.nv,{style:{height:24}}),title:"@Backpack",onClick:()=>window.open(r.PL,"_blank")}),f.createElement(v,{icon:f.createElement(d.D7,{style:{height:24,marginLeft:4},fill:"#5865F2"}),title:b.ag._({id:"OdPOhy"}),onClick:()=>window.open(r.ul,"_blank")}))),f.createElement(o.p,null,f.createElement(i.x,{label:`${b.ag._({id:"1dKQQ0"})}`,testID:l.fy,variant:"primary",onPress:e}))))}const y=e=>f.createElement(m.q,{...e,color:"$accentBlue"});function v({icon:e,title:t,onClick:n}){return f.createElement(u.FA,{backgroundColor:"$baseBackgroundL1",borderRadius:12,cursor:"pointer",gap:8,hoverStyle:{opacity:.7},onPress:n,padding:16,pointerEvents:"box-only",f:1},e,f.createElement(m.q,{color:"$baseTextMedEmphasis"},t))}function w(){const e=(0,g.F)();return E.createPortal(f.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3,background:e.accentBlue.val,paddingLeft:"24px",paddingRight:"24px",paddingTop:"16px",paddingBottom:"16px",color:e.baseBackgroundL1.val,borderRadius:"12px",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.25)"}},f.createElement(m.q,{style:{fontWeight:700}},b.ag._({id:"iam3+g"})),f.createElement("div",{style:{display:"flex",marginTop:"4px"}},f.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"4px"}},f.createElement(m.q,{style:{fontSize:"16px",fontWeight:500}},"Click")),f.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},f.createElement(d.I,{fill:e.baseBackgroundL1.val})),f.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginLeft:"4px",marginRight:"4px"}},f.createElement(m.q,{style:{fontSize:"16px",fontWeight:500}},"and")),f.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},f.createElement(d.qQ,{fill:e.baseBackgroundL1.val})))),document.body)}var I=n(202784);function T({navigation:e}){return I.createElement(k,{onClose:()=>{e.canGoBack()&&e.goBack(),window.open("https://backpack.exchange","_blank"),(0,a.l)("popout.html")}})}},265691:(e,t,n)=>{n.d(t,{h:()=>B});var a=n(527159),r=n(433285),l=n(785766),i=n(916736),o=n(493425),c=n(220026),s=n(817967),d=n(476265),u=n(665214),m=n(489911),p=n(66046),g=n(632419),h=n(451217),b=n(337288),E=n(382740),f=n(187254),k=n(371894),y=n(56691),v=n(815053),w=n(858614),I=n(676132),T=n(938570),x=n(421282),$=n(964360),S=n(400752),A=n(202784),C=n(371541),_=n(997246),P=n(495320),D=n(343391),L=n(304235),F=n(399585),M=n(202784);const N=(0,A.memo)((function({networkId:e,networkName:t}){const n=(0,L.HJ)(),r=(0,S.Dv)((0,P.rk)(e)),l=(0,S.b9)(m.Wn),i=(0,S.b9)(D.o),c=(0,F.p)(),s=(0,A.useMemo)((()=>{if(!r?.length)return new Map;const e=new Map;return r.forEach((t=>{const n=t.init.sourceBlockchainId,a=t.init.name;e.has(n)||e.set(n,[]),a&&e.get(n)?.push(a)})),e}),[r]),u=(0,A.useMemo)((()=>Array.from(s.keys())),[s]),g=u.length,h=(0,S.Dv)((0,p.Cd)(u[0]||"")),k=(0,S.Dv)((0,p.Cd)(u[1]||"")),v=(0,S.Dv)((0,p.Cd)(u[2]||"")),w=(0,A.useMemo)((()=>{const e=[];return u.length>0&&e.push(h),u.length>1&&e.push(k),u.length>2&&e.push(v),e}),[u.length,h,k,v]),I=(0,A.useMemo)((()=>{const e=w.map((e=>e?.name)).filter(Boolean),t=e[0]??"",n=e[1]??"",a=e[2]??"";if(0===e.length)return"";if(1===e.length)return t;if(2===e.length)return f.ag._({id:"naI1pV",values:{validNames0:t,validNames1:n}});const r=g-2;return r>1?f.ag._({id:"Cz6czA",values:{validNames0:t,validNames1:n,remainingCount:r}}):f.ag._({id:"QofbW+",values:{validNames0:t,validNames1:n,validNames2:a}})}),[w,g]),T=(0,A.useMemo)((()=>{const e=I;return e?f.ag._({id:"TOm94p",values:{names:e}}):""}),[I]),x=(0,A.useCallback)((async()=>{try{await l({walletInits:r.map((e=>e.init))}),await c(n)}catch(e){}}),[r,l,n,c]),$=(0,A.useCallback)((async e=>{try{await l({walletInits:[e.init]}),await c(n)}catch(e){}}),[l,n,c]),N=(0,A.useCallback)((()=>{const e={...r[0],init:{...r[0].init,publicKeyInfo:{publicKey:""}}};i({selectedAddresses:[],preselectedInit:e}),n.navigate(d.MG.SetUpDescriptor_SelectCompatibleAddresses)}),[r,n,i]);if(!r?.length)return null;const z=r.length>1,R=t||"",B=r.length,O=z?f.ag._({id:"fzBHoP",values:{networkNameStr:R}}):f.ag._({id:"KC1FU1",values:{networkNameStr:R}});return z?M.createElement(b.FA,{gap:"$4"},M.createElement(b.sL,{justifyContent:"space-between",alignItems:"center"},M.createElement(b.sL,{flex:1,mr:"$2"},M.createElement(E.q,{color:"$baseTextMedEmphasis"},O)),z?M.createElement(_.x,{variant:"tertiary",size:32,label:f.ag._({id:"yX8Rkw"}),onPress:x}):null),M.createElement(o.L,{label:f.ag._({id:"zDfzMb",values:{walletCount:B}}),description:T,leftIcon:()=>M.createElement(b.sL,null,u.slice(0,3).map(((e,t)=>M.createElement(b.sL,{key:e,ml:t>0?-12:0,zIndex:3-t},M.createElement(a._,{id:e,size:24,showBorder:!0}))))),rightIcon:()=>M.createElement(y._,{color:"$baseTextMedEmphasis",size:24}),onPress:N})):M.createElement(b.FA,{gap:"$4"},M.createElement(E.q,{color:"$baseTextMedEmphasis"},O),M.createElement(o.L,{key:r[0].init.publicKeyInfo.publicKey,label:r[0].init.name||"",description:T,leftIcon:()=>M.createElement(a._,{size:24,id:h?.blockchainId}),rightText:(0,C.R1)(r[0].init.publicKeyInfo.publicKey),rightIcon:()=>M.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:()=>$(r[0])}))}));var z=n(391133),R=n(202784);function B({navigation:e}){const t=(0,S.b9)(u.p5),[n,A]=(0,S.KO)(m.Wn),C=(0,g.y)(),_=(0,S.b9)(m.Yt),P=(0,S.b9)(m.R9),D=n?.blockchainSelections,L=(0,S.Dv)((0,h.O)(D?D[0]?.networkIds[0]:void 0)),M=n.blockchainSelections[0],B=M?.networkIds[0],O=(0,p.Cd)(B),q=(0,S.Dv)(O)?.name,W=(0,F.p)();if(!n.flowEntrypoint)return R.createElement(z.r,null);if(!D.length||!q)return R.createElement(i.s,null,R.createElement(r.p,{title:f.ag._({id:"nwtY4N"}),subtitle:f.ag._({id:"ktp1Pf"}),buttonText:f.ag._({id:"sr0UJD"}),onPress:()=>e.popToTop()}));const K=async()=>{try{await P(s.kD.MNEMONIC),await _(D),await W(e)}catch(e){}};return R.createElement(i.s,{pt:!1,pb:!1,jc:"space-between",scrollable:!0},R.createElement(b.FA,null,R.createElement(b.FA,{gap:"$4",pb:16},R.createElement(l.u,{icon:()=>1===n.blockchainSelections.length&&1===n.blockchainSelections[0]?.networkIds?.length?R.createElement(a._,{id:n.blockchainSelections[0]?.networkIds[0],size:40}):R.createElement(k.v,{color:"$baseTextMedEmphasis",size:40}),title:n.flowEntrypoint===d.g1.ONBOARDING_IMPORT?f.ag._({id:"Ok6SZJ",values:{selectedNetworkName:q}}):f.ag._({id:"KnApi1",values:{selectedNetworkName:q}}),subtitle:f.ag._({id:"yIFwV5"})}),n.flowEntrypoint===d.g1.ADD_WALLET?R.createElement(N,{networkId:B,networkName:q}):null,n.flowEntrypoint===d.g1.ADD_WALLET?R.createElement(b.FA,{gap:"$4"},L.includes(d.p9.CreateNewByUsingAlreadyImportedPhrase)||L.includes(d.p9.FindFundedAddresses)?R.createElement(b.FA,{gap:"$4"},R.createElement(b.FA,null,R.createElement(E.q,{color:"$baseTextMedEmphasis"},f.ag._({id:"JAcV6D"}))),L.includes(d.p9.CreateNewByUsingAlreadyImportedPhrase)?R.createElement(b.FA,{gap:"$4"},R.createElement(o.L,{leftIcon:()=>R.createElement(k.v,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"dPbeyt"}),rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:()=>K()})):null,L.includes(d.p9.FindFundedAddresses)?R.createElement(b.FA,{gap:"$4"},R.createElement(o.L,{leftIcon:()=>R.createElement(v.o,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"1AWUAu"}),onPress:()=>{(async()=>{try{await P(s.kD.MNEMONIC),await A({needDerivationPaths:!0});const a={blockchain:n.blockchainSelections[0].blockchain,blockchainId:n.blockchainSelections[0].networkIds[0]};t({searchParams:a}),e.push(d.MG.SelectFundedAddresses)}catch(e){}})()},rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"})})):null):null,L.includes(d.p9.CreateNewByGeneratingPhraseAddWallet)?R.createElement(b.FA,{gap:"$4"},R.createElement(b.FA,null,R.createElement(E.q,{color:"$baseTextMedEmphasis"},f.ag._({id:"nJhZQQ"}))),L.includes(d.p9.CreateNewByGeneratingPhraseAddWallet)?R.createElement(o.L,{leftIcon:()=>R.createElement(k.v,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"YE3FPu"}),rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:()=>K()}):null,L.includes(d.p9.ImportPhraseAddWallet)?R.createElement(o.L,{leftIcon:()=>R.createElement(w.D,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"DBn7uT"}),rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:async()=>{await P(s.kD.MNEMONIC),await A({needDerivationPaths:!1}),e.push(d.MG.SetUpDescriptor_EnterPhrase)}}):null):null,R.createElement(E.q,{color:"$baseTextMedEmphasis"},f.ag._({id:"32pMyh"}))):null,R.createElement(b.FA,{gap:"$4"},L.includes(d.p9.ImportPhraseOnboarding)?R.createElement(o.L,{leftIcon:()=>R.createElement(w.D,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"KugL2d"}),testID:c.xK,rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:async()=>{await P(s.kD.MNEMONIC),await A({needDerivationPaths:!1}),e.push(d.MG.SetUpDescriptor_EnterPhrase)}}):null,L.includes(d.p9.DerivePrivateKeyFromPhrase)?R.createElement(o.L,{leftIcon:()=>R.createElement(w.D,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"KugL2d"}),testID:c.ow,rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:async()=>{await P(s.kD.MNEMONIC),await A({needDerivationPaths:!0}),e.push(d.MG.SetUpDescriptor_DerivePrivateKeyFromRecoveryPhrase)}}):null,L.includes(d.p9.PrivateKey)?R.createElement(o.L,{leftIcon:()=>R.createElement(I.s,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"jMZnEc"}),testID:c.m$,rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:async()=>{await P(s.kD.PRIVATEKEY),e.push(d.MG.SetUpDescriptor_EnterPrivateKey)}}):null,L.includes(d.p9.Hardware)?R.createElement(o.L,{leftIcon:()=>R.createElement(T.w,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"A27Cj9"}),testID:c.KC,rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:async()=>{await P(s.kD.HARDWARE),await A({needDerivationPaths:!0}),e.navigate(d.MG.SetUpDescriptor_SelectHardwareWallet)}}):null,L.includes(d.p9.ViewOnly)?R.createElement(o.L,{leftIcon:()=>R.createElement(x.b,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"mqhoUH"}),testID:c.dJ,rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:async()=>{await P(s.kD.VIEW_ONLY),e.push(d.MG.SetUpDescriptor_EnterPublicKey)}}):null,C.isBpSafePocEnabled&&L.includes(d.p9.SquadsMultisig)?R.createElement(o.L,{leftIcon:()=>R.createElement($.E,{color:"$baseTextMedEmphasis",size:24}),label:f.ag._({id:"xv83Iu"}),rightIcon:()=>R.createElement(y._,{color:"$baseTextMedEmphasis"}),onPress:async()=>{await P(s.kD.BP_SAFE),e.push(d.MG.SetUpDescriptor_EnterSquadsMultisig)}}):null))))}},180671:(e,t,n)=>{n.d(t,{Y:()=>I});var a=n(202784),r=n(997246),l=n(667135),i=n(35893),o=n(481713),c=n(916736),s=n(476265),d=n(665214),u=n(489911),m=n(625944),p=n(337288),g=n(795092),h=n(187254),b=n(293247),E=n(36832),f=n(400752),k=n(220026),y=n(83512),v=n(391133),w=n(202784);function I({navigation:e}){const[t,n]=(0,f.KO)(u.Wn),[I,T]=(0,a.useState)(Array(12).fill("")),[x,$]=(0,a.useState)(!1),[S,A]=(0,a.useState)(!1),C=(0,f.b9)(d.p5),[_,P]=(0,a.useState)(!1),[D,L]=(0,a.useState)(null),F=(0,a.useCallback)(((e,t)=>{L(e),setTimeout((()=>{L(null)}),t?.duration||3e3)}),[]),M=(0,a.useCallback)((async()=>{try{const e=(await navigator.clipboard.readText()).trim().split(/\s+/);12===e.length||24===e.length?(T(e),$(!0),A(24===e.length)):F(h.ag._({id:"2+W5Te"}))}catch(e){F(h.ag._({id:"B3USTC"}))}}),[F]);(0,a.useEffect)((()=>{const e=e=>{const t=e.clipboardData?.getData("text").trim().split(/\s+/);!t||12!==t.length&&24!==t.length?F(h.ag._({id:"2+W5Te"})):(e.preventDefault(),T(t),$(!0),A(24===t.length))};return window.addEventListener("paste",e),()=>{window.removeEventListener("paste",e)}}),[F]);const N=(0,a.useCallback)((async()=>{if((0,E._I)(I.join(" "))){await n({walletDescriptor:I.join(" ")});const a={blockchain:t.blockchainSelections[0].blockchain,blockchainId:t.blockchainSelections[0].networkIds[0]};C({searchParams:a}),e.push(s.MG.SelectFundedAddresses)}else F(h.ag._({id:"qiyl4X"}))}),[I,t,n,C,e,F]);return t.flowEntrypoint?w.createElement(c.s,{pt:!1,jc:"space-between"},w.createElement(m.LZ,null),w.createElement(m.LZ,null),D?w.createElement(y.N,{message:D,onClose:()=>L(null),options:{duration:3e3}}):null,w.createElement(p.FA,{gap:"$2",width:"100%",px:"$2"},w.createElement(g.N,{leftButton:w.createElement(r.x,{label:S?h.ag._({id:"fpiX2y"}):h.ag._({id:"B18xCW"}),testID:S?k.q3:k.m6,variant:"secondary",onPress:()=>{A(!S),T(Array(S?12:24).fill("")),$(!1)}}),rightButton:w.createElement(r.x,{label:h.ag._({id:"HzVv6g"}),variant:"secondary",color:"blue",icon:()=>w.createElement(b.C,{color:"$accentBlue",size:18}),onPress:M})}),w.createElement(p.FA,{gap:"$2",mt:"$2"},w.createElement(o.L,{mnemonicWords:I,onChange:e=>{T(e),$(e.every((e=>e.length>0)))},onComplete:()=>{}}))),w.createElement(l.p,null,w.createElement(p.FA,{px:"$2",pt:"$4",gap:"$4"},w.createElement(p.sL,null,w.createElement(p.FA,{f:1},w.createElement(i.O,{value:_,testID:k.AG,onPress:P,label:h.ag._({id:"jZfmhp"})}))),w.createElement(r.x,{label:h.ag._({id:"1AWUAu"}),testID:k.U6,disabled:!x||!_,onPress:N})))):w.createElement(v.r,null)}},354366:(e,t,n)=>{n.d(t,{o:()=>T});var a=n(202784),r=n(916885),l=n(997246),i=n(667135),o=n(481713),c=n(916736),s=n(639784),d=n(476265),u=n(220026),m=n(665214),p=n(489911),g=n(625944),h=n(337288),b=n(795092),E=n(187254),f=n(293247),k=n(36832),y=n(400752),v=n(83512),w=n(391133),I=n(202784);function T({navigation:e}){const[t,n]=(0,y.KO)(p.Wn),[T,x]=(0,a.useState)(Array(12).fill("")),[$,S]=(0,a.useState)(!1),[A,C]=(0,a.useState)(!1),_=(0,y.b9)(m.p5),[P,D]=(0,a.useState)(null),L=(0,a.useCallback)(((e,t)=>{D(e),setTimeout((()=>{D(null)}),t?.duration||3e3)}),[]),F=(0,a.useCallback)((async()=>{try{const e=(await navigator.clipboard.readText()).trim().split(/\s+/);12===e.length||24===e.length?(x(e),S(!0),C(24===e.length)):L(E.ag._({id:"2+W5Te"}))}catch(e){L(E.ag._({id:"B3USTC"}))}}),[L]);(0,a.useEffect)((()=>{const e=e=>{if(!(0,r.n)(e))return;const t=e.clipboardData?.getData("text").trim().split(/\s+/);!t||12!==t.length&&24!==t.length?L(E.ag._({id:"2+W5Te"})):(e.preventDefault(),x(t),S(!0),C(24===t.length))};return window.addEventListener("paste",e),()=>{window.removeEventListener("paste",e)}}),[L]);const M=(0,a.useCallback)((async()=>{if((0,k._I)(T.join(" "))){await n({walletDescriptor:T.join(" ")});const a={blockchain:t.blockchainSelections[0].blockchain,blockchainId:t.blockchainSelections[0].networkIds[0]};_({searchParams:a}),e.push(d.MG.SelectFundedAddresses)}else L(E.ag._({id:"qiyl4X"}))}),[T,t,n,_,e,L]);return t.flowEntrypoint?I.createElement(c.s,{pt:!1,scrollable:!0},P?I.createElement(v.N,{message:P,onClose:()=>D(null),options:{duration:3e3}}):null,I.createElement(s.V,{title:E.ag._({id:"ZpImWw"}),subtitle:E.ag._({id:"6Fjvn7"})}),I.createElement(g.LZ,null),I.createElement(g.LZ,null),I.createElement(h.FA,{mx:"$1"},I.createElement(h.FA,{gap:"$2",width:"100%"},I.createElement(b.N,{leftButton:I.createElement(l.x,{label:A?E.ag._({id:"fpiX2y"}):E.ag._({id:"B18xCW"}),testID:A?u.q3:u.m6,variant:"secondary",onPress:()=>{C(!A),x(Array(A?12:24).fill("")),S(!1)}}),rightButton:I.createElement(l.x,{label:E.ag._({id:"HzVv6g"}),variant:"secondary",color:"blue",icon:()=>I.createElement(f.C,{color:"$accentBlue",size:18}),onPress:F})}),I.createElement(h.FA,{gap:"$2",mt:"$2",width:"100%"},I.createElement(o.L,{mnemonicWords:T,onChange:e=>{x(e),S(e.every((e=>e.length>0)))},onComplete:()=>{}})))),I.createElement(i.p,null,I.createElement(l.x,{label:E.ag._({id:"l3s5ri"}),testID:$?u.jF:void 0,disabled:!$,onPress:M}))):I.createElement(w.r,null)}},494299:(e,t,n)=>{n.d(t,{w:()=>S});var a=n(202784),r=n(997246),l=n(667135),i=n(785766),o=n(159469),c=n(916736),s=n(639784),d=n(220026),u=n(66046),m=n(840817),p=n(489911),g=n(101081),h=n(337288),b=n(382740),E=n(187254),f=n(676132),k=n(400752),y=n(391133),v=n(399585),w=n(371541),I=n(493425),T=n(202784);const x=(0,a.memo)((function({compatibleAddressTypeConfigs:e,selectedAddressTypes:t,previewImportStatus:n,onSelectionChange:a,addressToPublicKeyMap:r}){return T.createElement(h.FA,{gap:"$4"},e.map((e=>{const l=e.addressType,i=!!t[l],o=!0===n[l],c=r[l],s=c?(0,w.R1)(c):"";let d;return!0===o?d={text:E.ag._({id:"I5RSmC"})}:e.popular&&(d={color:"#F7931A26",textColor:"#F7931A",text:E.ag._({id:"MXV1ap"})}),T.createElement(I.L,{key:l,label:s||"",description:e.label,isMultiselect:!0,isSelected:i||o,selectionEnabled:!o,onPress:()=>{o||(e=>{a(e)})(l)},tag:d})})))}));var $=n(202784);function S({navigation:e}){const[t,n]=(0,k.KO)(p.Wn),[w,I]=(0,a.useState)(""),T=(0,k.Dv)(g.C),S=(0,k.b9)(g.C),A=(0,k.Dv)(u.SW),C=(0,v.p)(),_=(0,k.b9)(p.Yt),P=t.blockchainSelections[0],D=P?.blockchain,L=D?A[D]?.blockchainConfig:void 0,F=(0,a.useMemo)((()=>{if(P?.walletTypes?.[0]?.walletType)return P.walletTypes[0].walletType;if(L){const e=L.walletTypesLayoutDefault[0];if(e?.walletTypes?.[0])return e.walletTypes[0]}}),[P,L]),M=(0,a.useMemo)((()=>D&&F?{blockchain:D,walletType:F,hardwareDeviceType:t.hardwareDeviceType}:null),[D,F,t.hardwareDeviceType]),N=(0,k.Dv)((0,m.T)(M||{blockchain:D,walletType:F,hardwareDeviceType:t.hardwareDeviceType})),z=N.length>1&&!1===L?.addressTypeSpecificPrivateKeys,[R,B]=(0,a.useState)({}),O=(0,a.useMemo)((()=>"valid"===T.status&&T.previews||[]),[T]),q=(0,a.useMemo)((()=>{const e={};return O.forEach((t=>{const n=t.publicKeyInfo,a=n?.addressType;a&&(e[a]=!!t.imported)})),e}),[O]),W=(0,a.useMemo)((()=>{const e={};return O.forEach((t=>{const n=t.publicKeyInfo,a=n?.addressType,r=n?.publicKey;a&&r&&(e[a]=r)})),e}),[O]);(0,a.useEffect)((()=>{B({})}),[w]),(0,a.useEffect)((()=>{if(!D||!F)return;const e=P?.walletTypes?.[0]?.addressType,t=Object.entries(R).find((([,e])=>e))?.[0],a=t||N[0]?.addressType;(!P?.walletTypes?.length||e!==a&&a)&&n({blockchainSelections:[{...P,walletTypes:[{walletType:F,addressType:a}]}]})}),[D,F,P,n,N,R]),(0,a.useEffect)((()=>{S(w.trim(),!0)}),[w,S]),(0,a.useEffect)((()=>{if(1===O.length&&"valid"===T.status){const e=O[0].publicKeyInfo,t=e?.addressType;t&&!q[t]&&B((e=>({...e,[t]:!0})))}}),[O,T.status,q]);const K=(0,a.useMemo)((()=>{if(!w.trim())return!1;if("checking"===T.status)return!1;if((T.previews||[]).length>0&&"valid"===T.status){const e=T.previews||[];if(1===e.length){const t=e[0].publicKeyInfo;return!q[t.addressType]}const t=Object.values(R).some(Boolean),n=Object.entries(R).filter((([,e])=>e)).some((([e])=>!q[e]));return t&&n}return!1}),[w,T.status,T.previews,q,R]),j=(0,a.useCallback)((e=>{B((t=>({...t,[e]:!t[e]})))}),[]);return t.flowEntrypoint&&L?$.createElement(c.s,{pt:!1,jc:"space-between"},$.createElement(h.FA,{gap:"$4",pb:"$4"},$.createElement(i.u,{icon:()=>$.createElement(f.s,{color:"$baseTextMedEmphasis",size:40}),title:E.ag._({id:"O1sznB"}),subtitle:E.ag._({id:"+guVuI"})}),$.createElement(o.t,{placeholder:E.ag._({id:"sUn8Cf"}),testID:d.Fi,backgroundColor:"$baseBackgroundL1",multiline:!0,onValueChange:I,value:w.trim()}),"error"===T.status&&w.length>0?$.createElement(b.q,{color:"$redText",textAlign:"center"},T.errorMessage||E.ag._({id:"2ePs/6"})):null,z&&w.trim().length>0&&"valid"===T.status?$.createElement(h.FA,{gap:"$4",flex:1},$.createElement(s.V,{subtitle:E.ag._({id:"PoDvJM"})}),$.createElement(x,{compatibleAddressTypeConfigs:N,selectedAddressTypes:R,previewImportStatus:q,onSelectionChange:j,addressToPublicKeyMap:W})):null),$.createElement(l.p,null,$.createElement(r.x,{variant:"primary",label:E.ag._({id:"l3s5ri"}),testID:K?d.Xg:void 0,onPress:async()=>{if(1===O.length){const t=O[0].publicKeyInfo.addressType;if(!q[t]){const a=[{...P,walletTypes:[{walletType:F,addressType:t}]}];return await n({blockchainSelections:a}),void C(e)}}const t=Object.entries(R).filter((([e,t])=>t&&!q[e])).map((([e])=>e));if(z&&0===t.length)return;if("error"===T.status)return;if("checking"===T.status)return;let a=t;if(0===t.length&&!z&&N.length>0){const e=N.find((e=>!q[e.addressType]));e&&(a=[e.addressType])}if(0===a.length)return;const r=[{...P,walletTypes:a.map((e=>({walletType:F,addressType:e})))}];await _(r),C(e)},disabled:!K}))):$.createElement(y.r,null)}},623622:(e,t,n)=>{n.d(t,{F:()=>y});var a=n(202784),r=n(997246),l=n(667135),i=n(785766),o=n(159469),c=n(916736),s=n(220026),d=n(489911),u=n(101081),m=n(337288),p=n(382740),g=n(187254),h=n(421282),b=n(400752),E=n(391133),f=n(399585),k=n(202784);function y({navigation:e}){const[t]=(0,b.KO)(d.Wn),[n,y]=(0,a.useState)(""),[v,w]=(0,b.KO)(u.C),I=(0,f.p)(),T="valid"===v.status;return(0,a.useEffect)((()=>{w(n.trim(),!0)}),[n,w]),t.flowEntrypoint?k.createElement(c.s,{jc:"space-between"},k.createElement(m.FA,{gap:"$4",paddingBottom:"$4"},k.createElement(i.u,{icon:()=>k.createElement(h.b,{color:"$baseTextMedEmphasis",size:40}),title:g.ag._({id:"6gayK/"}),subtitle:g.ag._({id:"ERHt3f"})}),k.createElement(o.t,{placeholder:"Public key",testID:s.w0,backgroundColor:"$baseBackgroundL1",multiline:!0,onValueChange:y,value:n.trim()}),"error"===v.status&&n.length>0?k.createElement(p.q,{color:"$redText",textAlign:"center"},v.errorMessage||g.ag._({id:"XyOToQ"})):null),k.createElement(l.p,null,k.createElement(r.x,{label:g.ag._({id:"l3s5ri"}),testID:T?s.V5:void 0,variant:"primary",disabled:!T,onPress:async()=>{I(e)}}))):k.createElement(E.r,null)}},89405:(e,t,n)=>{n.d(t,{A:()=>x});var a=n(202784),r=n(997246),l=n(667135),i=n(785766),o=n(159469),c=n(916736),s=n(817967),d=n(495320),u=n(489911),m=n(101081),p=n(66046),g=n(861326),h=n(337288),b=n(382740),E=n(187254),f=n(348578),k=n(964360),y=n(853111),v=n(400752),w=n(391133),I=n(399585),T=n(202784);function x({navigation:e}){const[t,n]=(0,v.KO)(u.Wn),x=(0,v.Dv)(d.LE),$=(0,v.b9)(m.C),S=(0,v.Dv)((0,p.Pg)(s.Ek.SOLANA_MAINNET)),[A,C]=(0,a.useState)(""),[_,P]=(0,a.useState)(""),[D,L]=(0,a.useState)(""),[F,M]=(0,a.useState)(""),[N,z]=(0,a.useState)(""),[R,B]=(0,a.useState)({}),[O,q]=(0,a.useState)({multisigPda:void 0,multisigIndex:void 0,signerPublicKey:void 0}),W=(0,y.Nr)(N.trim(),500),K=(0,y.Nr)(A.trim(),500),j=(0,y.Nr)(_.trim(),500),H=(0,y.Nr)(F.trim(),500),V=(0,I.p)();return(0,a.useEffect)((()=>{W&&K&&j&&H&&(async()=>{B(await(async(e,t,n,a)=>{try{const r=(0,g.u)(t),l=await f.MI.Multisig.fromAccountAddress(S.connection,r);let i;for(let t=0;t<=100;t++){const[n]=f.lP({multisigPda:r,index:t});if(n.toBase58()===e){i=t;break}}if(void 0===i)return{vaultPda:E.ag._({id:"SLOsUj"})};let o=!1,c=!1;return l.members.forEach((e=>{e.key.toBase58()===n&&(o=!0),e.key.toBase58()===a&&(c=!0)})),c?o?(q({multisigPda:t,multisigIndex:i,signerPublicKey:n}),{}):{userSignerPublicKey:E.ag._({id:"kPl0KV",values:{userSignerPublicKey:n}})}:{exchangeSignerPublicKey:E.ag._({id:"AJOatV",values:{exchangeSignerPublicKey:a}})}}catch{return{multisigPda:E.ag._({id:"Z8OOgI"})}}})(K,W,H,j))})()}),[W,K,H,x,$,q,B,S.connection,j]),t.flowEntrypoint?T.createElement(c.s,{jc:"space-between"},T.createElement(h.FA,{gap:"$4",paddingBottom:"$4"},T.createElement(i.u,{icon:()=>T.createElement(k.E,{color:"$baseTextMedEmphasis",size:40}),title:E.ag._({id:"QGx/FN"}),subtitle:"(POC) Connect and create transactions with your multisig."}),T.createElement(h.FA,{gap:"$4"},T.createElement(o.t,{placeholder:"Multisig account public key",onValueChange:e=>{z(e.trim())},multiline:!1,value:N}),R.multisigPda&&N.length>0?T.createElement(b.q,{color:"$redText",textAlign:"center"},R.multisigPda):null),T.createElement(h.FA,{gap:"$4"},T.createElement(o.t,{placeholder:"Vault account public key",onValueChange:e=>{C(e.trim())},multiline:!1,value:A}),R.vaultPda&&A.length>0?T.createElement(b.q,{color:"$redText",textAlign:"center"},R.vaultPda||E.ag._({id:"XyOToQ"})):null),T.createElement(h.FA,{gap:"$4"},T.createElement(o.t,{placeholder:"User signer public key",onValueChange:e=>{M(e.trim())},multiline:!1,value:F}),R.userSignerPublicKey&&F.length>0?T.createElement(b.q,{color:"$redText",textAlign:"center"},R.userSignerPublicKey):null),T.createElement(h.FA,{gap:"$4"},T.createElement(o.t,{placeholder:"Backpack signer public key",onValueChange:e=>{P(e.trim())},multiline:!1,value:_}),R.exchangeSignerPublicKey&&_.length>0?T.createElement(b.q,{color:"$redText",textAlign:"center"},R.exchangeSignerPublicKey):null),T.createElement(h.FA,{gap:"$4"},T.createElement(o.t,{placeholder:"Backpack exchange api private key",onValueChange:e=>{L(e.trim())},multiline:!1,value:D,secureTextEntry:!0}),R.exchangeSignerJWT&&D.length>0?T.createElement(b.q,{color:"$redText",textAlign:"center"},R.exchangeSignerJWT):null)),T.createElement(l.p,null,T.createElement(r.x,{label:E.ag._({id:"l3s5ri"}),variant:"primary",disabled:!(A&&O.multisigPda&&"number"==typeof O.multisigIndex&&O.signerPublicKey&&!R.multisigPda&&_&&D),onPress:async()=>{await await n({multisigInfo:{multisigPda:O.multisigPda,multisigIndex:O.multisigIndex,signerPublicKey:O.signerPublicKey},exchangeSignerPrivateInfo:{exchangeSignerPublicKey:_,exchangeSignerJWT:D}});const t=await $(A.trim());"valid"===t.status?await V(e):B({vaultPda:"error"===t.status?t.errorMessage:void 0})}}))):T.createElement(w.r,null)}},277493:(e,t,n)=>{n.d(t,{r:()=>S});var a=n(202784),r=n(527159),l=n(997246),i=n(667135),o=n(785766),c=n(916736),s=n(495320),d=n(66046),u=n(489911),m=n(343391),p=n(227883),g=n(337288),h=n(187254),b=n(400752),E=n(391133),f=n(399585),k=n(382740),y=n(371541),v=n(493425),w=n(202784);function I({compatibleInit:e,onSelect:t,isMultiSelectEnabled:n,isSelected:l}){const i=(0,a.useMemo)((()=>e.blockchainIds.slice(0,3).map((e=>(0,d.Cd)(e)))),[e.blockchainIds]),o=(0,b.Dv)(i[0]||(0,d.Cd)(void 0)),c=(0,b.Dv)(i[1]||(0,d.Cd)(void 0)),s=(0,b.Dv)(i[2]||(0,d.Cd)(void 0)),u=(0,a.useMemo)((()=>[o,c,s].map((e=>e?.name)).filter(Boolean)),[o,c,s]),m=e.blockchainIds.length,p=m-3,E=u.join(", "),f=(0,a.useMemo)((()=>[...new Set(e.blockchainIds)].slice(0,3)),[e.blockchainIds]);if(!u.length)return null;const k=m>3?h.ag._({id:"90WyEY",values:{networkNamesText:E,remainingCount:p}}):h.ag._({id:"W2BHEX",values:{networkNamesText:E}});return w.createElement(v.L,{key:e.init.publicKeyInfo.publicKey,label:e.init.name||"",description:k,leftIcon:()=>1===f.length?w.createElement(r._,{size:24,id:f[0]}):w.createElement(g.sL,null,f.map(((e,t)=>w.createElement(g.sL,{key:e,ml:t>0?-12:0,zIndex:f.length-t},w.createElement(r._,{id:e,size:24,showBorder:!0}))))),rightText:(0,y.R1)(e.init.publicKeyInfo.publicKey),isMultiselect:n,onPress:e=>t?.(),isSelected:l})}var T=n(202784);const x=(0,a.memo)((function({networkId:e,networkName:t,onMultiSelect:n}){const r=(0,b.Dv)((0,s.rk)(e)),[i]=(0,b.KO)(m.o),o=(0,a.useCallback)((e=>{const t=e.init.publicKeyInfo.publicKey;n&&n(t)}),[n]),c=(0,a.useCallback)((()=>{if(!r||!n)return;const e=r.map((e=>e.init.publicKeyInfo.publicKey));e.every((e=>i.selectedAddresses.includes(e)))?i.selectedAddresses.forEach((e=>{n(e)})):e.forEach((e=>{i.selectedAddresses.includes(e)||n(e)}))}),[r,i,n]);if(!r?.length)return null;const d=t??"",u=r.length>1?h.ag._({id:"fzBHoP",values:{networkNameStr:d}}):h.ag._({id:"KC1FU1",values:{networkNameStr:d}}),p=r.every((e=>i.selectedAddresses.includes(e.init.publicKeyInfo.publicKey)));return T.createElement(g.FA,{gap:"$4"},T.createElement(g.sL,{justifyContent:"space-between",alignItems:"center"},T.createElement(g.sL,{flex:1,mr:"$2"},T.createElement(k.q,{color:"$baseTextMedEmphasis"},u)),r.length>1?T.createElement(l.x,{variant:"tertiary",size:32,label:p?h.ag._({id:"vYgeDk"}):h.ag._({id:"mCB6Je"}),onPress:c}):null),r.map((e=>{const t=e.init.publicKeyInfo.publicKey;return T.createElement(I,{key:t,compatibleInit:e,onSelect:()=>o(e),isMultiSelectEnabled:!0,isSelected:i.selectedAddresses.includes(t)})})))}));var $=n(202784);function S({navigation:e}){const[t,n]=(0,b.KO)(m.o),{preselectedInit:k}=t,[y,v]=(0,b.KO)(u.Wn),w=(0,f.p)(),I=(0,b.Dv)((0,s.rk)(k?.init.blockchainId)),T=((0,b.b9)(p.b),(0,d.Cd)(k?.init.blockchainId)),S=(0,b.Dv)(T),A=S?.name??"",C=1===t.selectedAddresses.length?h.ag._({id:"MCIH0c",values:{networkName:A}}):h.ag._({id:"f66wXw",values:{networkName:A}}),_=(0,a.useCallback)((e=>{n((t=>({selectedAddresses:t.selectedAddresses.includes(e)?t.selectedAddresses.filter((t=>t!==e)):[...t.selectedAddresses,e],preselectedInit:t.preselectedInit})))}),[n]);return y.flowEntrypoint?$.createElement(c.s,{pt:!1,jc:"space-between"},$.createElement(o.u,{icon:()=>$.createElement(r._,{id:k?.init.blockchainId,size:40}),title:h.ag._({id:"Njq3zK"})}),$.createElement(g.FA,{pt:"$4",gap:"$4"},$.createElement(x,{networkId:k?.init.blockchainId,networkName:A,onMultiSelect:_})),t.selectedAddresses.length>0?$.createElement(i.p,null,$.createElement(l.x,{label:C,onPress:async()=>{try{if(t.selectedAddresses.length>0){const a=I.filter((e=>t.selectedAddresses.includes(e.init.publicKeyInfo.publicKey))).map((e=>e.init));await v({walletInits:a}),n({selectedAddresses:[]}),await w(e)}}catch(e){}}})):null):$.createElement(E.r,null)}},441655:(e,t,n)=>{n.d(t,{Z:()=>I});var a=n(202784),r=n(433285),l=n(785766),i=n(916736),o=n(493425),c=n(476265),s=n(187254),d=n(565058),u=n(987809);const m=(0,d.cn)((async()=>!1));(0,u.Cv)((async()=>{throw new Error(s.ag._({id:"IdXLqS"}))}));var p=n(665214),g=n(391765),h=n(489911),b=n(337288),E=n(622845),f=n(938570),k=n(400752),y=n(639460),v=n(391133),w=n(202784);function I({navigation:e}){const[t,n]=(0,k.KO)(h.Wn),d=(0,k.b9)(p.p5),u=t?.blockchainSelections||[],I=u[0]?.networkIds[0],T=(0,k.Dv)(m),x=(0,a.useMemo)((()=>({blockchainId:I,seedVaultAvailable:T})),[I,T]),$=(0,k.Dv)((0,g.M)(x));return t.flowEntrypoint?u.length?w.createElement(i.s,{jc:"space-between"},w.createElement(b.FA,{gap:"$4"},w.createElement(l.u,{icon:()=>w.createElement(f.w,{color:"$baseTextMedEmphasis",size:40}),title:s.ag._({id:"y48v5W"}),subtitle:s.ag._({id:"WcwbFm"})}),$.map((({deviceType:t,displayName:a})=>{let r;switch(t){case"keystone":r=E.VO;break;case"ledger":r=E.pN;break;case"trezor":r=E.Ve;break;default:r=E.T2}return w.createElement(o.L,{key:t,label:a,leftIcon:({size:e})=>w.createElement(r,{fill:"$baseIcon",width:e??28,height:e??28}),onPress:()=>(async t=>{const a=(0,y.Z)();await n({hardwareDeviceType:t,hardwareDeviceId:a});const r={blockchain:u[0].blockchain,blockchainId:u[0].networkIds[0],hardwareDeviceType:t,hardwareDeviceId:a};d({searchParams:r}),e.push(c.MG.SelectFundedAddresses)})(t)})})))):w.createElement(i.s,null,w.createElement(r.p,{title:s.ag._({id:"nwtY4N"}),subtitle:s.ag._({id:"ktp1Pf"}),buttonText:s.ag._({id:"sr0UJD"}),onPress:()=>e.pop()})):w.createElement(v.r,null)}},493193:(e,t,n)=>{n.d(t,{e:()=>I});var a=n(202784),r=n(916736),l=n(476265),i=n(391602),o=n(489911),c=n(168547),s=n(337288),d=n(400752),u=n(399585),m=n(6166),p=n(66046),g=n(541214),h=n(187254),b=n(524771),E=n(258507),f=n(202784);function k({hideTag:e=!1,setLocalSelections:t,enforceSingleSelection:n,onNetworkSelection:a,selectedNetworks:r}){const l=(0,d.Dv)(p.jo),i=(0,g.rT)();return l.activeNetworks&&0!==l.activeNetworks.length?f.createElement(E.c,{networks:l.activeNetworks,title:h.ag._({id:"hp8OtS"}),isActivated:!0,isMultiselect:!1,selectedNetworks:[],activeWalletNetworkId:i.blockchainId,hideTag:e,onNetworkPress:async e=>{const l=await(0,b.V)(e.blockchain,e.blockchainId,n,r,t);a(l)}}):null}var y=n(202784);function v({setLocalSelections:e,enforceSingleSelection:t,onNetworkSelection:n,selectedNetworks:a}){const r=(0,d.Dv)(p.ZP),l=(0,d.Dv)(p.QJ),i=(0,d.Dv)(p.jo);if(!(r&&r.length>0||l&&l.length>0||i.inactiveDevNetworks&&i.inactiveDevNetworks.length>0))return null;const o=async(r,l)=>{if(!l){const l=await(0,b.V)(r.blockchain,r.blockchainId,t,a,e);n(l)}};return y.createElement(y.Fragment,null,r&&r.length>0?y.createElement(E.c,{networks:r,title:h.ag._({id:"gL/sdV"}),isActivated:!1,onNetworkPress:o,isMultiselect:!t,selectedNetworks:a,hideTag:!1}):null,l&&l.length>0?y.createElement(E.c,{networks:l,title:h.ag._({id:"2FYpfJ"}),isActivated:!1,onNetworkPress:o,isMultiselect:!t,selectedNetworks:a}):null,i.inactiveDevNetworks&&i.inactiveDevNetworks.length>0?y.createElement(E.c,{networks:i.inactiveDevNetworks,title:h.ag._({id:"GkYVcx"}),isActivated:!1,onNetworkPress:o,isMultiselect:!t,selectedNetworks:a}):null)}var w=n(202784);function I({navigation:e}){const t=(0,d.b9)(o.Wn),n=(0,d.b9)(o.ef),p=(0,d.b9)(o.zY),g=(0,d.b9)(o.Yt),[h,E]=(0,a.useState)([]),f=(0,d.b9)(c.p),y=(0,d.b9)(i.bv),I=(0,u.p)(),T=async a=>{E(a);const r=a.map((e=>(0,m.rH)(e.blockchain,e.networkIds))).flat();await n({flowEntrypoint:l.g1.ADD_WALLET}),await p(r);const i=await t({explicitNextRoute:l.MG.SelectDescriptorType}),o=await f();(0,b.P)({selections:h,onboardingState:i,mergeBlockchainSelections:g,setOnboardingState:t,navigation:e,setAdvancedSearchParams:y,createWalletOrSetUpPassword:I,walletTypesSelectionEval:o})};return w.createElement(r.s,{pt:!1,pb:!1,jc:"space-between",scrollable:!0},w.createElement(s.FA,{justifyContent:"center"},w.createElement(k,{setLocalSelections:E,enforceSingleSelection:!0,onNetworkSelection:T,selectedNetworks:h}),w.createElement(v,{setLocalSelections:E,enforceSingleSelection:!0,onNetworkSelection:T,selectedNetworks:h})))}},626445:(e,t,n)=>{n.d(t,{v:()=>w});var a=n(202784),r=n(997246),l=n(667135),i=n(916736),o=n(639784),c=n(220026),s=n(391602),d=n(489911),u=n(168547),m=n(337288),p=n(625944),g=n(187254),h=n(400752),b=n(391133),E=n(399585),f=n(6166),k=n(128238),y=n(524771),v=n(202784);function w({navigation:e}){const[t,n]=(0,h.KO)(d.Wn),w=(0,h.b9)(d.zY),I=(0,h.b9)(d.Yt),[T,x]=(0,a.useState)([]),$=(0,h.b9)(u.p),S=(0,E.p)(),A=(0,h.b9)(s.bv);return t.flowEntrypoint?v.createElement(i.s,{jc:"space-between"},v.createElement(m.FA,{jc:"center"},v.createElement(o.V,{title:g.ag._({id:"0cTClG"}),subtitle:g.ag._({id:"D3fs1p"})}),v.createElement(p.LZ,null),v.createElement(k._,{enforceSingleSelection:!1,setLocalSelections:x,onNetworkSelection:e=>{x(e)},selectedNetworks:T})),v.createElement(l.p,null,v.createElement(r.x,{disabled:!T.length,label:0===T.length?g.ag._({id:"hNCH8l"}):1===T.length?g.ag._({id:"yT3waX"}):g.ag._({id:"0q0qjU"}),testID:T.length?c.xL:void 0,onPress:async()=>{const t=T.map((e=>(0,f.rH)(e.blockchain,e.networkIds))).flat(),a=await w(t),r=await $();await(0,y.P)({selections:T,onboardingState:a,mergeBlockchainSelections:I,setOnboardingState:n,navigation:e,setAdvancedSearchParams:A,createWalletOrSetUpPassword:S,walletTypesSelectionEval:r})}}))):v.createElement(b.r,null)}},746311:(e,t,n)=>{n.d(t,{d:()=>k});var a=n(202784),r=n(916736),l=n(639784),i=n(391602),o=n(489911),c=n(168547),s=n(337288),d=n(625944),u=n(187254),m=n(400752),p=n(391133),g=n(399585),h=n(6166),b=n(128238),E=n(524771),f=n(202784);function k({navigation:e}){const[t,n]=(0,m.KO)(o.Wn),k=(0,m.b9)(o.zY),y=(0,m.b9)(o.Yt),[v,w]=(0,a.useState)([]),I=(0,m.b9)(c.p),T=(0,m.b9)(i.bv),x=(0,g.p)();return t.flowEntrypoint?f.createElement(r.s,{jc:"space-between"},f.createElement(s.FA,{justifyContent:"center"},f.createElement(l.V,{title:u.ag._({id:"iTzHPu"}),subtitle:u.ag._({id:"8fyaYG"})}),f.createElement(d.LZ,null),f.createElement(b._,{setLocalSelections:w,enforceSingleSelection:!0,onNetworkSelection:async t=>{w(t);const a=t.map((e=>(0,h.rH)(e.blockchain,e.networkIds))).flat(),r=await k(a),l=await I();await(0,E.P)({selections:t,onboardingState:r,mergeBlockchainSelections:y,setOnboardingState:n,navigation:e,setAdvancedSearchParams:T,createWalletOrSetUpPassword:x,walletTypesSelectionEval:l})},selectedNetworks:v}))):f.createElement(p.r,null)}},258507:(e,t,n)=>{n.d(t,{c:()=>c});var a=n(527159),r=n(664642),l=n(337288),i=n(382740),o=n(202784);function c({networks:e,title:t,isActivated:n,onNetworkPress:c,isMultiselect:s,selectedNetworks:d}){if(0===e.length)return null;const u=e.reduce(((e,t,n)=>{const a=Math.floor(n/2);return e[a]||(e[a]=[]),e[a].push(t),e}),[]);return o.createElement(o.Fragment,null,e&&e.length?o.createElement(l.FA,{gap:"$4",paddingTop:"$2",paddingBottom:"$4"},t?o.createElement(l.FA,{gap:"$4"},o.createElement(i.q,{alignSelf:"center",color:"$baseTextMedEmphasis"},t)):null,o.createElement(l.FA,{gap:"$3"},u.map(((e,t)=>{const i=(e=>e.some((e=>{const t=e.name.trim().split(/\s+/).length,n=e.name.trim().length;return t>1&&n>15}))?60:52)(e);return o.createElement(l.sL,{key:t,gap:"$2",justifyContent:"space-between"},e.map((e=>o.createElement(l.FA,{key:e.blockchainId,width:"48%"},o.createElement(r.X,{label:e.name,leftIcon:({size:t})=>o.createElement(a._,{size:t,id:e.blockchainId}),isMultiselect:s?!n:void 0,isSelected:d.some((t=>t.blockchain===e.blockchain&&t.networkIds.includes(e.blockchainId))),onPress:()=>c(e,n),tag:void 0,padding:8,forceHeight:i})))),1===e.length?o.createElement(l.FA,{width:"48%"}):null)})))):null)}c.displayName="NetworkListUI"},128238:(e,t,n)=>{n.d(t,{_:()=>s});var a=n(66046),r=n(187254),l=n(400752),i=n(524771),o=n(258507),c=n(202784);function s({setLocalSelections:e,enforceSingleSelection:t,onNetworkSelection:n,selectedNetworks:s}){const d=(0,l.Dv)(a.Tr),u=(0,l.Dv)(a.Vo),m=(0,l.Dv)(a.Yx),p=async(a,r)=>{if(!r){const r=await(0,i.V)(a.blockchain,a.blockchainId,t,s,e);n(r)}};return c.createElement(c.Fragment,null,d&&d.length>0?c.createElement(o.c,{networks:d,title:r.ag._({id:"gL/sdV"}),isActivated:!1,onNetworkPress:p,isMultiselect:!t,selectedNetworks:s,hideTag:!1}):null,u&&u.length>0?c.createElement(o.c,{networks:u,title:r.ag._({id:"2FYpfJ"}),isActivated:!1,onNetworkPress:p,isMultiselect:!t,selectedNetworks:s}):null,m.DevNetworks&&m.DevNetworks.length>0?c.createElement(o.c,{networks:m.DevNetworks,title:r.ag._({id:"GkYVcx"}),isActivated:!1,onNetworkPress:p,isMultiselect:!t,selectedNetworks:s}):null)}},524771:(e,t,n)=>{n.d(t,{P:()=>l,V:()=>r});var a=n(476265);const r=async(e,t,n,a,r)=>{if(n){const n=[{blockchain:e,networkIds:[t],walletTypes:[]}];return r(n),n}{const n=a.find((t=>t.blockchain===e)),l=n?.networkIds||[],i=l.includes(t),o=(n=>{const a=n.filter((t=>t.blockchain!==e));return i?[...a,{blockchain:e,networkIds:l.filter((e=>e!==t)),walletTypes:[]}].filter((e=>e.networkIds.length>0)):[...a,{blockchain:e,networkIds:[...l,t],walletTypes:[]}]})(a);return r(o),o}},l=async({selections:e,onboardingState:t,mergeBlockchainSelections:n,setOnboardingState:r,navigation:l,setAdvancedSearchParams:i,createWalletOrSetUpPassword:o,walletTypesSelectionEval:c})=>{await n(c.allSelectionsWithAutoselectedWalletTypes);const s=t.explicitNextRoute;c.needManualSelectWalletTypes?(await r({explicitNextRoute:s}),l.push(a.MG.SelectWalletType)):s?await(async({selections:e,walletTypesSelectionEval:t,nextScreenRoute:n,setAdvancedSearchParams:r,onboardingState:l,navigation:i})=>{n===a.MG.AdvancedSearchAddresses&&r({blockchain:e[0].blockchain,blockchainId:e[0].networkIds[0],walletType:t.autoSelectableWalletTypes[0].walletTypes[0].walletType,hardwareDeviceType:l.hardwareDeviceType,selectedDerivationOptionLabel:"Backpack"}),i.push(n)})({selections:e,walletTypesSelectionEval:c,nextScreenRoute:s,setAdvancedSearchParams:i,onboardingState:t,navigation:l}):o(l)}},748501:(e,t,n)=>{n.d(t,{O:()=>w});var a=n(202784),r=n(527159),l=n(345167),i=n(785766),o=n(916736),c=n(493425),s=n(817967),d=n(476265),u=n(66046),m=n(489911),p=n(168547),g=n(337288),h=n(382740),b=n(187254),E=n(400752),f=n(391133),k=n(399585),y=n(6166),v=n(202784);function w({navigation:e}){const[t,n]=(0,E.KO)(m.Wn),w=(0,E.b9)(m.Yt),I=(0,E.Dv)(u.SW),T=(0,k.p)(),x=(0,E.Dv)(p.p),$=(0,E.b9)(m.R9),S=x.manualSelectionNeededFor[0];(0,a.useEffect)((()=>{(async()=>{const e=t.blockchainSelections.map((e=>I[e.blockchain]?.blockchainConfig.walletTypes&&Object.keys(I[e.blockchain]?.blockchainConfig.walletTypes||{}).length>1?{...e,walletTypes:[]}:e));await n({...t,blockchainSelections:e})})()}),[]);const A=(0,E.Dv)((0,u.Cd)(S?.networkIds?.[0]));if(!S)return v.createElement(l.e,{title:b.ag._({id:"nwtY4N"}),subtitle:b.ag._({id:"wafMrb"})});if(!S.networkIds?.[0])return v.createElement(l.e,{title:b.ag._({id:"nwtY4N"}),subtitle:b.ag._({id:"HSe8C2"})});const C=S.blockchain,_=I[C]?.blockchainConfig,P=A?.name??"";if(!_)return v.createElement(l.e,{title:b.ag._({id:"nwtY4N"}),subtitle:b.ag._({id:"TJVygJ"})});const D=C===s.$O.BITCOIN,L=D?b.ag._({id:"VKEr0A"}):void 0;return t.flowEntrypoint?v.createElement(o.s,null,v.createElement(g.FA,{flex:1,gap:"$6"},v.createElement(i.u,{icon:()=>v.createElement(r._,{id:S.networkIds[0],size:40}),title:b.ag._({id:"7sTGFU"}),subtitle:L||b.ag._({id:"X8blAn",values:{networkName:P}})}),v.createElement(g.FA,{gap:"$4"},(()=>{const n=_.walletTypesLayoutDefault;return v.createElement(g.FA,{gap:"$4"},D?v.createElement(c.L,{key:"bitcoin-combined",label:b.ag._({id:"ae07Zz"}),description:b.ag._({id:"qhKVts"}),tag:{color:"#F7931A26",textColor:"#F7931A",text:b.ag._({id:"MXV1ap"})},onPress:()=>{(async()=>{const t=_.walletTypes[s.Sq.BVM_BITCOIN]?.defaultAddressType,n=_.walletTypes[s.Sq.BVM_ORDINALS]?.defaultAddressType;if(!t||!n)return v.createElement(l.e,{title:b.ag._({id:"nwtY4N"}),subtitle:b.ag._({id:"tma88H"})});const a=(0,y.pO)(C,[{walletType:s.Sq.BVM_BITCOIN,addressType:t},{walletType:s.Sq.BVM_ORDINALS,addressType:n}]);await w(a),await $(s.kD.MNEMONIC),T(e)})()},iconSize:24}):null,n.map((n=>v.createElement(g.FA,{gap:"$4",key:n.groupLabel},v.createElement(h.q,{fontSize:"$lg",fontWeight:"$semiBold"},n.groupLabel),n.groupDescription?v.createElement(h.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},n.groupDescription):null,v.createElement(g.FA,{gap:"$4"},n.walletTypes.map((n=>{const a=_.walletTypes[n];return v.createElement(c.L,{key:n,label:a?.label??"",description:a?.description??"",onPress:()=>{(async n=>{const a=_.walletTypes[n]?.defaultAddressType;if(!a)throw new Error("Missing default address type for wallet type");const r=(0,y.pO)(C,[{walletType:n,addressType:a}]);await w(r),t.walletDescriptorType?T(e):e.push(d.MG.SelectDescriptorType)})(n)},iconSize:24})})))))))})()))):v.createElement(f.r,null)}},736e3:(e,t,n)=>{n.d(t,{M:()=>F});var a=n(202784),r=n(371541),l=n(527159),i=n(997246),o=n(667135),c=n(345167),s=n(433285),d=n(916736),u=n(493425),m=n(639784),p=n(220026),g=n(476265),h=n(66046),b=n(665214),E=n(391602),f=n(23767),k=n(516060),y=n(489911),v=n(337288),w=n(65457),I=n(625944),T=n(382740),x=n(187254),$=n(304235),S=n(849494),A=n(400752),C=n(954329),_=n(391133),P=n(399585),D=n(6166),L=n(202784);function F({navigation:e}){const[t,n]=(0,A.KO)(y.Wn),F=(0,A.b9)(y.Yt),M=(0,A.Dv)(b.p5);(0,a.useEffect)((()=>{M.searchParams||e.goBack()}),[M.searchParams,e]);const[N,z]=(0,a.useState)([]),R=(0,A.Dv)(b.Vr),B=(0,A.Dv)(h.SW),O=(0,A.Dv)(k.W),q=(0,P.p)(),W=(0,A.b9)(E.bv),K=(0,A.b9)(b.gH);(0,$.Ym)((0,a.useCallback)((()=>()=>{e.getState().routes.some((e=>e.name===g.MG.AdvancedSearchAddresses))||K()}),[K,e]));const[j,H]=(0,a.useState)(!1),V=(0,a.useMemo)((()=>{const e=[];return Object.entries(R.fundedResults).forEach((([t,n])=>{Object.entries(n).forEach((([t,n])=>{Object.entries(n).forEach((([t,n])=>{const a=Object.values(n.balances).some((e=>e&&BigInt(e.balance)>BigInt(0)));!n.imported&&a&&e.push({publicKey:t,blockchainId:n.blockchainId,blockchain:n.blockchain,derivationPath:n.derivationPath,walletType:n.walletType,addressType:n.addressType,derivationPathPattern:n.derivationPathPattern,derivationPathLabel:n.derivationPathLabel,balances:n.balances,imported:n.imported})}))}))})),e}),[R.fundedResults]);(0,a.useEffect)((()=>{if(V.length>0&&!j)if(0===N.length)z(V);else{const e=V.filter((e=>!N.some((t=>t.publicKey===e.publicKey&&t.blockchainId===e.blockchainId))));e.length>0&&z((t=>[...t,...e]))}}),[V,j]);const U=(0,a.useMemo)((()=>{const{blockchainSelections:e,hardwareDeviceType:n}=t,a=e[0];return{blockchain:a?.blockchain,walletType:a?.walletTypes[0]?.walletType,addressType:a?.walletTypes[0]?.addressType,hardwareDeviceType:n}}),[t.blockchainSelections,t.hardwareDeviceType]),G=(0,A.Dv)((0,f.j)(U)),Z=t.blockchainSelections[0];if((0,a.useEffect)((()=>{const t=R.onboardingError?.code;t===g.e6.APPROVAL_DENIED_POPUP_CLOSED&&e.canGoBack()&&e.goBack()}),[R.onboardingError,e]),!t.flowEntrypoint)return L.createElement(_.r,null);const Y=R.searchParamsKey&&R.fundedResults[R.searchParamsKey]?.[Z.blockchain]||{};if(R?.isLoading&&R?.isInitialSearch&&0===Object.keys(Y).length&&0===Object.keys(R.fundedResults).length)return L.createElement(C.a,{size:"large",message:x.ag._({id:"sghmHk"}),selectedBlockchainNetworksOnly:!0});if(R.onboardingError&&R.onboardingError?.code!==g.e6.APPROVAL_DENIED_POPUP_CLOSED)return L.createElement(c.e,{title:x.ag._({id:"nwtY4N"}),subtitle:R.onboardingError.message});const J=O===g.Wz.HARDWARE_INIT&&R.fallbackDerivationPath||O===g.Wz.MNEMONIC_CREATE_NEW_PHRASE||O===g.Wz.MNEMONIC_INIT_NEXT_WALLET_WITH_EXISTING_PHRASE||O===g.Wz.MNEMONIC_INIT_NEXT_WALLET_WITH_PROVIDED_PHRASE,X=(()=>{switch(O){case g.Wz.HARDWARE_INIT:return x.ag._({id:"iCdehv"});case g.Wz.MNEMONIC_INIT_NEXT_WALLET_WITH_EXISTING_PHRASE:return x.ag._({id:"lxF10j"});case g.Wz.MNEMONIC_INIT_NEXT_WALLET_WITH_PROVIDED_PHRASE:return x.ag._({id:"10MkFE"});case g.Wz.MNEMONIC_CREATE_NEW_PHRASE:case g.Wz.MNEMONIC_INIT_WALLETS_WITH_PROVIDED_PHRASE_AND_DERIVATION_PATHS:case g.Wz.MNEMONIC_INIT_WALLETS_WITH_EXISTING_PHRASE_AND_DERIVATION_PATHS:default:return x.ag._({id:"98y3E9"})}})(),Q=Object.values(R.fundedResults).every((e=>0===Object.keys(e).length)),ee=[];return Q&&!R.isLoading||ee.push(L.createElement(v.FA,{key:"import",pt:16},L.createElement(i.x,{variant:"primary",label:x.ag._({id:"l3s5ri"}),testID:N.length>0?N.length>1?p.li:p.It:void 0,onPress:async()=>{const a=N.map((e=>e.derivationPath)),r=t.blockchainSelections?.[0]?.networkIds?.[0],l=(0,D.hq)(N.map((e=>({blockchain:e.blockchain,networkId:r||e.blockchainId,walletType:e.walletType,addressType:e.addressType}))));await F(l),await n({derivationPaths:a}),K(),q(e)},disabled:0===N.length}))),ee.push(L.createElement(i.x,{key:"advanced",variant:"tertiary",label:x.ag._({id:"sxkWRg"}),testID:p.uv,onPress:()=>{const n={blockchain:Z.blockchain,blockchainId:Z.networkIds[0],walletType:Z.walletTypes[0]?.walletType,selectedAddressType:Z.walletTypes[0]?.addressType,hardwareDeviceType:t.hardwareDeviceType,selectedDerivationOptionLabel:G[0].label};W(n),e.navigate(g.MG.AdvancedSearchAddresses)}})),L.createElement(d.s,{jc:"space-between"},L.createElement(v.FA,{f:1},L.createElement(m.V,{title:x.ag._({id:"UzovYl"}),subtitle:x.ag._({id:"gsPk2/"})}),L.createElement(w.p,{style:{flex:1},contentContainerStyle:{gap:16},showsVerticalScrollIndicator:!1},Q&&!R.isLoading?L.createElement(v.FA,{paddingTop:"$4"},L.createElement(s.p,{title:x.ag._({id:"u0rRST"}),subtitle:X,buttonText:J?x.ag._({id:"dPbeyt"}):void 0,onPress:()=>{(async()=>{t.hardwareDeviceType&&R.fallbackDerivationPath&&await n({derivationPaths:[R.fallbackDerivationPath]}),q(e)})()}})):Object.entries(B).map((([e,t])=>L.createElement(v.FA,{key:e,gap:"$2"},t.blockchainNetworkConfigs.map((e=>{const t=Y?Object.entries(Y).filter((([t,n])=>{const a=n.balances[e.blockchainId];return a&&BigInt(a.balance)>BigInt(0)})):[];if(!t.length)return null;const n=t.filter((([e,t])=>!t.imported)),a=n.length>0&&n.every((([t])=>N.some((n=>n.publicKey===t&&n.blockchainId===e.blockchainId))));return L.createElement(v.FA,{key:e.blockchainId,gap:"$2"},L.createElement(I.LZ,null),L.createElement(v.sL,{justifyContent:"space-between",alignItems:"center"},L.createElement(T.q,{fontSize:"$md"},e.name),n.length>0?L.createElement(i.x,{variant:"tertiary",size:32,label:a?x.ag._({id:"vYgeDk"}):x.ag._({id:"mCB6Je"}),onPress:function(){if(H(!0),a){const t=new Set(n.map((([t])=>`${t}:${e.blockchainId}`)));z((e=>e.filter((e=>!t.has(`${e.publicKey}:${e.blockchainId}`)))))}else z((t=>{const a=n.filter((([n])=>!t.some((t=>t.publicKey===n&&t.blockchainId===e.blockchainId)))).map((([t,n])=>({publicKey:t,blockchainId:e.blockchainId,blockchain:e.blockchain,networkName:e.name,derivationPath:n.derivationPath,walletType:n.walletType,addressType:n.addressType,derivationPathPattern:n.derivationPathPattern,derivationPathLabel:n.derivationPathLabel,balances:n.balances,imported:n.imported})));return[...t,...a]}))}}):null),t.map((([t,n])=>{const a=n.balances[e.blockchainId],i=a&&BigInt(a.balance)>BigInt(0)?`${(+S.bM(a.balance,e.gasCurrencyDecimals)).toFixed(4)} ${a.symbol}`:void 0,o=N.some((n=>n.publicKey===t&&n.blockchainId===e.blockchainId));return L.createElement(u.L,{key:`${t}-${e.blockchainId}`,label:(0,r.R1)(t),rightText:n.imported?void 0:i,tag:n.imported?{text:x.ag._({id:"I5RSmC"})}:void 0,leftIcon:()=>L.createElement(l._,{size:30,id:e.blockchainId}),isSelected:n.imported||o,isMultiselect:!0,selectionEnabled:!n.imported,onPress:()=>((e,t,n,a,r)=>{H(!0),z((l=>{const i=l.some((n=>n.publicKey===e&&n.blockchainId===t&&n.blockchain===a));if(i)return l.filter((n=>!(n.publicKey===e&&n.blockchainId===t&&n.blockchain===a)));const o=Y[e];return[...l,{publicKey:e,blockchainId:t,blockchain:a,networkName:n,derivationPath:r,walletType:o.walletType,addressType:o.addressType,derivationPathPattern:o.derivationPathPattern,derivationPathLabel:o.derivationPathLabel,balances:o.balances,imported:o.imported}]}))})(t,e.blockchainId,e.name,e.blockchain,n.derivationPath)})})))})))))),R?.isLoading?L.createElement(v.FA,{ai:"center",py:"$2"},L.createElement(T.q,{color:"$baseTextMedEmphasis"},x.ag._({id:"ClKedu"}))):null),L.createElement(o.p,null,ee))}},570342:(e,t,n)=>{n.d(t,{q:()=>H});var a=n(202784),r=n(430024),l=n(496075),i=n(371541),o=n(527159),c=n(997246),s=n(667135),d=n(345167),u=n(270254),m=n(916736),p=n(326951),g=n(337288),h=n(815053),b=n(202784);function E({disabled:e,value:t,placeholder:n,onChangeText:r,testID:l}){const i=(0,p.F)(),[o,c]=(0,a.useState)(!1);return b.createElement(g.sL,{h:48,bg:"$baseBackgroundL1",ai:"center",br:12,pl:8,pr:4,bw:2,borderColor:o?"$accentBlue":"$baseBackgroundL1",overflow:"hidden",f:1},b.createElement(h.o,{size:24,color:"$baseIcon"}),b.createElement("input",{disabled:e,placeholder:n,"data-testid":l,value:t,onChange:e=>r?.(e.target.value),onBlur:()=>c(!1),onFocus:()=>c(!0),style:{height:44,flex:1,paddingLeft:8,paddingRight:12,color:i.baseTextHighEmphasis.val,fontSize:16,outline:"none",border:"none",backgroundColor:"transparent"}}))}var f=n(493425),k=n(639784),y=n(476265),v=n(391602),w=n(66046),I=n(665214),T=n(840817),x=n(23767),$=n(489911),S=n(382740),A=n(187254),C=n(849494),_=n(400752),P=n(42568),D=n(83512),L=n(391133),F=n(399585),M=n(6166),N=n(654223),z=n(747401),R=n(239263),B=n(733095),O=n(202784);function q({addressTypeLabel:e,setAddressTypeLabel:t,addressTypeLabels:n}){const a=n.map(((e,t)=>O.createElement(N.Ph.Item,{index:t,key:e.label,value:e.label,backgroundColor:"$baseBackgroundL1",hoverStyle:{backgroundColor:"$baseBackgroundL2"}},O.createElement(N.Ph.ItemText,{color:"$baseTextHighEmphasis"},e.label),O.createElement(N.Ph.ItemIndicator,{marginLeft:"auto"},O.createElement(R.J,{color:"$baseTextHighEmphasis",size:16})))));return O.createElement(g.FA,{gap:"$2"},O.createElement(N.Ph,{defaultValue:e,onValueChange:t},O.createElement(N.Ph.Trigger,{width:"100%",borderRadius:12,borderWidth:0,padding:"0",outlineStyle:"none",display:"flex"},O.createElement(z.zx,{h:48,bg:"$baseBackgroundL1",br:12,jc:"space-between",flex:1},O.createElement(S.q,null,e),O.createElement(B._,{size:22,color:"$baseTextMedEmphasis"}))),O.createElement(N.Ph.Content,{zIndex:1e5},O.createElement(N.Ph.Viewport,{backgroundColor:"$baseBackgroundL1"},O.createElement(N.Ph.Group,{borderWidth:"0",outlineStyle:"none"},a)))))}var W=n(202784);function K({derivationPathLabel:e,setDerivationPathLabel:t,derivationPathOptions:n}){const a=n.map(((e,t)=>W.createElement(N.Ph.Item,{index:t,key:e.label,value:e.label,backgroundColor:"$baseBackgroundL1",hoverStyle:{backgroundColor:"$baseBackgroundL2"}},W.createElement(N.Ph.ItemText,{color:"$baseTextHighEmphasis"},e.label),W.createElement(N.Ph.ItemIndicator,{marginLeft:"auto"},W.createElement(R.J,{color:"$baseTextHighEmphasis",size:16})))));return W.createElement(N.Ph,{defaultValue:e??void 0,onValueChange:t},W.createElement(N.Ph.Trigger,{width:"100%",borderRadius:12,borderWidth:0,padding:"0",outlineStyle:"none",display:"flex"},W.createElement(z.zx,{h:48,bg:"$baseBackgroundL1",br:12,jc:"space-between",flex:1},W.createElement(S.q,null,e),W.createElement(B._,{size:22,color:"$baseTextMedEmphasis"}))),W.createElement(N.Ph.Content,{zIndex:1e5},W.createElement(N.Ph.Viewport,{backgroundColor:"$baseBackgroundL1"},W.createElement(N.Ph.Group,{borderWidth:"0",outlineStyle:"none"},a))))}var j=n(202784);function H({navigation:e}){const[t,n]=(0,_.KO)($.Wn),p=(0,_.b9)($.Yt),h=(0,_.Dv)(v.vW),b=(0,_.Dv)(w.SW),N=(0,_.b9)(v.bv),[z]=(0,_.KO)(v.bv),R=(0,_.Dv)(v.b_),B=(0,_.b9)(v.Kh),O=(0,_.b9)(I.gH);(0,a.useEffect)((()=>()=>{N(null),B()}),[N,B]);const W=t.blockchainSelections?.[0],H=W?.blockchain,V=b[H]?.blockchainConfig,U=(0,a.useMemo)((()=>V?.addressTypes||{}),[V]),G=W?.networkIds?.[0],Z=b[H]?.blockchainNetworkConfigs?.find((e=>e.blockchainId===G)),Y=(0,a.useMemo)((()=>({blockchain:H,walletType:W?.walletTypes?.[0]?.walletType,hardwareDeviceType:t.hardwareDeviceType})),[H,W]),J=(0,_.Dv)((0,T.T)(Y))||[],X=(0,a.useMemo)((()=>J.map((e=>({label:e.label})))),[J]),[Q,ee]=(0,a.useState)(1===J.length?J[0].label:J.find((e=>e.addressType===z?.selectedAddressType))?.label||A.ag._({id:"l3PBnY"})),[te,ne]=(0,a.useState)(z?.selectedDerivationOptionLabel||A.ag._({id:"QYIMS7"})),[ae,re]=(0,a.useState)({}),le=(0,a.useMemo)((()=>J.find((e=>e.label===Q))?.addressType||W?.walletTypes?.[0]?.addressType),[J,Q,W]),ie=(0,a.useMemo)((()=>({blockchain:H,walletType:W?.walletTypes?.[0]?.walletType,addressType:le,hardwareDeviceType:t.hardwareDeviceType})),[H,W,le,t.hardwareDeviceType]),oe=(0,_.Dv)((0,x.j)(ie))||[],ce=(0,_.Dv)((0,x._)(t.hardwareDeviceType)),se=(0,F.p)(),[de,ue]=(0,a.useState)(null),me=(0,a.useCallback)(((e,t)=>{ue(e),setTimeout((()=>{ue(null)}),t?.duration||3e3)}),[]),pe=(0,a.useMemo)((()=>{if(!R)return[];const e=h.results[R]?.[H]||{};return Object.values(e).flat()}),[h.results,H,R]),ge=(0,a.useCallback)((()=>{if(h.isLoading||!h.hasMore||!R)return;const e=(z?.page??0)+1;N((t=>({...t,page:e})))}),[h,z,N,R]),he=(0,a.useCallback)((e=>{re((t=>({...t,[e]:!t[e]})))}),[]),be=(0,a.useCallback)((e=>{if(!V?.addressTypes||!le)return;const t=oe.find((t=>t.label===e)),n=V.addressTypes[le]?.derivationPathPrefix;return t&&n?n+t.pattern:void 0}),[oe,V,le]),[Ee,fe]=(0,a.useState)(be(z?.selectedDerivationOptionLabel)),ke=(0,a.useCallback)((async e=>{const n=e.selectedAddressType||J.find((e=>e.label===Q))?.addressType;if(!n)return void me(A.ag._({id:"t+d/Bq"}));if(!V?.addressTypes)return void me(A.ag._({id:"OZSvJa"}));let a=e.customDerivationPathPattern||be(e.derivationOptionlabel);if(a){const e=V.addressTypes[n]?.derivationPathPrefix;if(!e)return void me(A.ag._({id:"6cn+3h"}));const t=V.addressTypes[n],r=t?.derivationPathRequireHardening,{isValid:l,normalizedPattern:i,error:o}=(0,P.n)(a,e,H,r);if(!l)return void me(o?`${o}`:A.ag._({id:"eKooK2"}));a=i,fe(a)}const r={...z,blockchain:H,blockchainId:G,walletType:W?.walletTypes?.[0]?.walletType,selectedAddressType:n,hardwareDeviceType:t.hardwareDeviceType,selectedDerivationOptionLabel:e.derivationOptionlabel,customDerivationPathPattern:a,page:1};N(r),ne(e.derivationOptionlabel||A.ag._({id:"8Tg/JR"})),re({})}),[z,N,be,J,Q,V,H,G,W,t.hardwareDeviceType]),ye=(0,a.useCallback)((()=>{if(!oe.length||Ee)return;const e=oe.filter((e=>!e.hidden));if(1===e.length){const t=e[0];ne(t.label),ke({selectedAddressType:le,derivationOptionlabel:t.label})}else z?.selectedDerivationOptionLabel||Ee||(ne(A.ag._({id:"QYIMS7"})),ke({selectedAddressType:le}))}),[oe,le,z?.selectedDerivationOptionLabel,Ee,ke,ne]);(0,a.useEffect)((()=>{ye()}),[oe,le,z?.selectedDerivationOptionLabel]);const ve=(0,a.useCallback)((e=>{fe(void 0);const{addressTypeLabel:t}=e,n=J.find((e=>e.label===t))?.addressType;n?(ee(t),re({}),ye()):me(A.ag._({id:"t+d/Bq"}))}),[J,ye]),we=(0,a.useCallback)((async()=>{const a=Object.entries(ae).filter((([,e])=>e)).map((([e])=>e));if(0===a.length)return;const r=a.map((e=>pe.find((t=>t.publicKey===e)))).filter((e=>!!e)),l=t.blockchainSelections?.[0]?.networkIds?.[0],i=(0,M.hq)(r.map((e=>({blockchain:e.blockchain,networkId:l||e.blockchainId,walletType:e.walletType,addressType:e.addressType})))),o=r.map((e=>e.derivationPath||""));await p(i),await n({derivationPaths:o}),N(null),e.popToTop(),se(e),B(),O()}),[ae,pe,n,t,N,e,p,B,O]),Ie=(0,a.useCallback)((({item:e})=>{const t=e.balances[G],n=t&&BigInt(t.balance)>BigInt(0)?`${(+C.bM(t.balance,Z?.gasCurrencyDecimals)).toFixed(4)} ${t.symbol}`:void 0;return j.createElement(g.FA,{paddingBottom:"$2",key:e.publicKey},j.createElement(f.L,{label:(0,i.R1)(e.publicKey),description:e.derivationPath,isMultiselect:!0,isSelected:e.imported||ae[e.publicKey],selectionEnabled:!e.imported,rightText:e.imported?void 0:n,tag:e.imported?{text:A.ag._({id:"I5RSmC"})}:void 0,onPress:()=>he(e.publicKey)}))}),[G,Z,ae,he]);if((0,a.useEffect)((()=>{const t=h.onboardingError?.code;t===y.e6.APPROVAL_DENIED_POPUP_CLOSED&&e.canGoBack()&&(N(null),e.goBack())}),[h.onboardingError,e]),!t.flowEntrypoint)return j.createElement(L.r,null);if(!H||!V)return j.createElement(d.e,{title:A.ag._({id:"nwtY4N"}),subtitle:A.ag._({id:"OZSvJa"})});if(!U||0===Object.keys(U).length)return j.createElement(d.e,{title:A.ag._({id:"nwtY4N"}),subtitle:A.ag._({id:"Acasp7",values:{blockchain:H}})});try{return j.createElement(m.s,{jc:"space-between",scrollable:!1},de?j.createElement(D.N,{message:de,onClose:()=>ue(null),options:{duration:3e3}}):null,j.createElement(g.FA,{flex:1,gap:"$4",paddingBottom:"$4"},j.createElement(k.V,{title:A.ag._({id:"Hkb6OB"}),subtitle:A.ag._({id:"HTx5fl"})}),J.length>1?j.createElement(q,{addressTypeLabel:Q,setAddressTypeLabel:e=>{ee(e),ve({addressTypeLabel:e})},addressTypeLabels:X}):null,oe.length>1?j.createElement(K,{derivationPathLabel:te,setDerivationPathLabel:e=>{ke({derivationOptionlabel:e})},derivationPathOptions:oe}):null,ce?j.createElement(g.sL,{alignItems:"center"},j.createElement(g.FA,{h:48,flex:.7},j.createElement(E,{disabled:!ce,placeholder:ce?A.ag._({id:"cEDMQL"}):A.ag._({id:"4qEwb4"}),value:Ee,onChangeText:e=>{ne(A.ag._({id:"8Tg/JR"})),fe(e||be(te))},onSubmitEditing:()=>{Ee&&ke({customDerivationPathPattern:Ee})}})),j.createElement(g.FA,{marginLeft:"$2",flex:.3,justifyContent:"space-between"},j.createElement(c.x,{variant:"secondary",label:A.ag._({id:"A1taO8"}),onPress:()=>{r.default.dismiss(),Ee&&ke({customDerivationPathPattern:Ee})},disabled:!Ee||0===Ee.length||!ce}))):j.createElement(g.sL,{justifyContent:"center",alignItems:"center",width:"100%"},j.createElement(S.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",textAlign:"center"},A.ag._({id:"LtkIAm"}))),j.createElement(l.default,{key:R,data:pe,renderItem:Ie,keyExtractor:e=>e.publicKey,onEndReached:ge,onEndReachedThreshold:.1,initialNumToRender:20,removeClippedSubviews:!0,contentContainerStyle:{flexGrow:1},ListEmptyComponent:()=>j.createElement(g.FA,{flex:1,justifyContent:"center",alignItems:"center",paddingTop:"$4"},j.createElement(u.s,{size:"large",title:A.ag._({id:"d2ngm8"}),icon:({size:e})=>j.createElement(o._,{key:"logo",size:e,id:G}),colors:Z?.brandColors})),ListFooterComponent:()=>h.hasMore&&pe.length>0?j.createElement(u.s,{size:"small",title:A.ag._({id:"d2ngm8"}),icon:({size:e})=>j.createElement(o._,{key:"footer-logo",size:e,id:G}),colors:Z?.brandColors}):null})),j.createElement(s.p,null,j.createElement(c.x,{variant:"primary",label:A.ag._({id:"l3s5ri"}),onPress:we,disabled:0===Object.values(ae).filter(Boolean).length})))}catch(e){return j.createElement(d.e,{title:A.ag._({id:"nwtY4N"}),subtitle:A.ag._({id:"lxentK"})})}}},954329:(e,t,n)=>{n.d(t,{a:()=>u});var a=n(202784),r=n(527159),l=n(270254),i=n(66046),o=n(489911),c=n(187254),s=n(400752),d=n(202784);const u=({size:e="large",message:t,subMessage:n,selectedBlockchainNetworksOnly:u=!0})=>{const[m]=(0,s.KO)(o.Wn),p=(0,s.Dv)(i.SW),[g,h]=(0,a.useState)(0),b=(0,a.useMemo)((()=>u&&m.blockchainSelections.length?m.blockchainSelections.flatMap((e=>{const t=p[e.blockchain];return e.networkIds.map((e=>{const n=t.blockchainNetworkConfigs.find((t=>t.blockchainId===e));return n?{logo:n.logo,brandColors:n.brandColors,name:n.name,blockchainId:n.blockchainId}:null})).filter(Boolean)})):Object.values(p).flatMap((e=>e.blockchainNetworkConfigs.map((e=>({logo:e.logo,brandColors:e.brandColors,name:e.name,blockchainId:e.blockchainId})))))),[m.blockchainSelections,p,u]);(0,a.useEffect)((()=>{if(0===b.length)return;const e=setInterval((()=>{h((e=>(e+1)%b.length))}),1e3);return()=>clearInterval(e)}),[b.length]);const E=b[g],f="small"===e;return d.createElement(l.s,{size:e,title:t||(f?c.ag._({id:"ClKedu"}):c.ag._({id:"RMRwF5"})),subtitle:n,icon:({size:e})=>d.createElement(r._,{size:e,id:E?.blockchainId}),colors:E?.brandColors})}},83512:(e,t,n)=>{n.d(t,{N:()=>l});var a=n(202784),r=n(202784);function l({message:e,options:t,onClose:n}){return(0,a.useEffect)((()=>{const e=setTimeout((()=>{n()}),t?.duration||3e3);return()=>clearTimeout(e)}),[n,t?.duration]),r.createElement("div",{style:{position:"fixed",top:"20%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#d9534f",color:"#fff",padding:"10px 20px",borderRadius:"5px",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",textAlign:"center",display:"inline-block",wordWrap:"break-word",overflowWrap:"break-word",hyphens:"auto",maxWidth:"400px",minWidth:"200px",width:"auto"}},e)}},391133:(e,t,n)=>{n.d(t,{r:()=>c});var a=n(202784),r=n(778908),l=n(495320),i=n(304235),o=n(400752);function c(){const e=(0,i.HJ)(),t=(0,o.Dv)(l.A)!==r.a.NeedsOnboarding;return(0,a.useEffect)((()=>{requestAnimationFrame((()=>{t?e.reset({index:0,routes:[{name:e.getParent()?.getState().routes[0].name}]}):e.goBack()}))}),[e,t]),null}},399585:(e,t,n)=>{n.d(t,{p:()=>o});var a=n(476265),r=n(489911),l=n(227883),i=n(400752);function o(){const e=(0,i.b9)(l.b),t=(0,i.Dv)(r.Wn);return async n=>{t.flowEntrypoint===a.g1.ADD_WALLET||t.isAddingAccount?(n.navigate(a.MG.MonitorCreationStatus),setTimeout((()=>{e()}),500)):n.navigate(a.MG.SetUpPassword)}}},6166:(e,t,n)=>{function a(e,t){if(!e||!t?.length)throw new Error("Invalid blockchain or networkIds parameters");return[{blockchain:e,networkIds:t,walletTypes:[]}]}function r(e,t){if(!e||!t?.length)throw new Error("Invalid blockchain or walletTypes parameters");return[{blockchain:e,networkIds:[],walletTypes:t.map((({walletType:e,addressType:t})=>({walletType:e,addressType:t})))}]}function l(e){if(!Array.isArray(e))throw new Error("Input must be an array");const t=new Map;return e.forEach((e=>{if(!e.blockchain)throw new Error("Invalid blockchain selection input");const n=t.get(e.blockchain);if(n){if(e.networkId&&!n.networkIds.includes(e.networkId)&&n.networkIds.push(e.networkId),e.walletType&&e.addressType){const t={walletType:e.walletType,addressType:e.addressType};n.walletTypes.some((t=>t.walletType===e.walletType&&t.addressType===e.addressType))||n.walletTypes.push(t)}}else t.set(e.blockchain,{blockchain:e.blockchain,networkIds:e.networkId?[e.networkId]:[],walletTypes:e.walletType&&e.addressType?[{walletType:e.walletType,addressType:e.addressType}]:[]})})),Array.from(t.values())}n.d(t,{hq:()=>l,pO:()=>r,rH:()=>a})},589871:(e,t,n)=>{n.d(t,{F:()=>o});var a=n(541214),r=n(468186),l=n(202784),i=n(202784);function o({route:e,children:t}){const{setFrom:n,setTo:o}=(0,r.Zy)(),c=(0,a.rT)(),s=(0,a.gI)(c.blockchainId),d=(0,l.useRef)(null),u=(0,l.useRef)(null);return(0,l.useEffect)((()=>{const t=e?.params,a=t?.from,r=t?.to,l=`${a||""}:${r||""}`;if(!a&&!r)return void(u.current=t);const i=u.current!==t;d.current===l&&!i||(d.current=l,u.current=t,a&&""!==a.trim()&&n({id:"",mint:a,blockchain:c.blockchain,blockchainId:c.blockchainId,caip2:s,walletPublicKey:c.publicKey}),r&&""!==r.trim()&&o({id:"",mint:r,blockchain:c.blockchain,blockchainId:c.blockchainId,caip2:s,walletPublicKey:c.publicKey}))}),[e?.params?.from,e?.params?.to,c.blockchain,c.blockchainId,c.publicKey,s,n,o]),i.createElement(i.Fragment,null,t)}},835537:(e,t,n)=>{n.d(t,{F:()=>u,g:()=>p});var a=n(817967),r=n(541214),l=n(337288),i=n(512788),o=n(667525),c=n(710224),s=n(222250),d=n(202784);function u(e){return d.createElement(c.X,{loading:d.createElement(p,null)},d.createElement(m,e))}function m({navigation:e,route:{params:{assetId:t,blockchainId:n,btcSpending:l}}}){const i=(0,r.TB)().find((e=>e.blockchainId===n));if(!i)throw new Error("wallet not found");const c=(0,a.tb)(i.info.walletType);return d.createElement(o._,{excludeWallet:i,blockchainId:i.blockchainId,walletTypes:c?a.Iy:[],onSelect:a=>{e.push(s.Routes.SendAmountSelectScreen,{assetId:t,blockchainId:n,btcSpending:l,to:a})}})}function p(){return d.createElement(l.FA,{height:"100%",gap:"$3",style:{paddingLeft:18,paddingRight:18}},d.createElement(l.sL,{jc:"center"},d.createElement(i.O,{height:48,width:"100%",radius:8})),d.createElement(l.FA,{gap:"$1"},d.createElement(i.O,{height:15,width:100,radius:8}),d.createElement(l.FA,{gap:"$1"},d.createElement(i.O,{height:48,width:"100%",radius:8}),d.createElement(i.O,{height:48,width:"100%",radius:8}),d.createElement(i.O,{height:48,width:"100%",radius:8}),d.createElement(i.O,{height:48,width:"100%",radius:8}))))}},306155:(e,t,n)=>{n.d(t,{J:()=>H,N:()=>Y});var a=n(371541),r=n(220026),l=n(527159),i=n(667135),o=n(916736),c=n(377172),s=n(817967),d=n(476265),u=n(66046),m=n(10794),p=n(227443),g=n(495320),h=n(489911),b=n(541214),E=n(181956),f=n(975435),k=n(837993),y=n(168547),v=n(337288),w=n(382740),I=n(326951),T=n(512788),x=n(393403),$=n(88366),S=n(866548),A=n(482851),C=n(187254),_=n(304235),P=n(733095),D=n(825113),L=n(649501),F=n(421282),M=n(400752),N=n(202784),z=n(598416),R=n(710224),B=n(861948),O=n(506597),q=n(6166),W=n(300643),K=n(646704),j=n(202784);function H(e){return j.createElement(R.X,{loading:j.createElement(V,null)},j.createElement(U,e))}function V(){return null}function U({navigation:e}){const t=(0,M.Dv)(g.LE),n=(0,b.rT)(),a=(0,M.Dv)(g.D5),r=(0,M.Dv)(g.s7),l=(0,M.Dv)(u.De),c=(0,M.b9)(y.p),[m,p]=(0,N.useState)(n.blockchainId),E=l[m],f=E.name,k="bitcoin"===E.blockchain,I=(0,N.useMemo)((()=>{const e=t.filter((e=>e.blockchainId===E.blockchainId)),n=a.preferences.walletOrder?.[E.blockchainId];return te(e,n)}),[t,E.blockchainId,a.preferences.walletOrder]),T=I.filter((e=>e.info.walletType===s.Sq.BVM_ORDINALS)),x=I.filter((e=>e.info.walletType===s.Sq.BVM_BITCOIN)),$=I.filter((e=>e.info.walletType!==s.Sq.BVM_ORDINALS&&e.info.walletType!==s.Sq.BVM_BITCOIN)),S=(0,M.b9)(h.ef),A=(0,M.b9)(h.zY),P=(0,M.b9)(h.Yt);(0,N.useEffect)((()=>{p(n.blockchainId)}),[n.blockchainId]);const D=async()=>{await S({flowEntrypoint:d.g1.ADD_WALLET});const t=[{blockchain:E.blockchain,networkIds:[E.blockchainId]}].map((e=>(0,q.rH)(e.blockchain,e.networkIds))).flat();await A(t);const n=await c();await P(n.allSelectionsWithAutoselectedWalletTypes),e.push(K.p.ImportWalletNavigator,{screen:n.needManualSelectWalletTypes?d.MG.SelectWalletType:d.MG.SelectDescriptorType})},L=async t=>{r.setActiveWallet({uuid:a.user.uuid,publicKey:t.publicKey,blockchain:t.blockchain,blockchainId:t.blockchainId}).then((()=>setTimeout((()=>{const t=e.getParent();t&&t.dispatch((e=>{const t=e.routes.findIndex((e=>e.name===K.p.TabsNavigator)),n=structuredClone(e);return n.routes?.[t]?.state?.routes?.forEach((e=>{delete e.state})),_.Hi.reset({...n})})),e.pop()}),100))).catch((e=>console.error(e)))},F=t=>{e.push(W.SettingsNavigatorRoutes.WalletDetailScreen,{blockchainId:t.blockchainId,publicKey:t.publicKey,name:t.info.name})},[R,B]=(0,N.useState)(0),[O,H]=(0,N.useState)(0),[V,U]=(0,N.useState)(0),Z=(0,N.useMemo)((()=>R<=O-V-24-40),[R,O,V]);return j.createElement(o.s,{jc:"space-between"},j.createElement(v.FA,{f:1,onLayout:e=>H(e.nativeEvent.layout.height)},j.createElement(v.FA,{mb:16,als:"center",onLayout:e=>U(e.nativeEvent.layout.height)},j.createElement(G,{navigation:e,blockchainIdFilter:m,setBlockchainIdFilter:p})),j.createElement(v.FA,{onLayout:e=>B(e.nativeEvent.layout.height),gap:"$4"},k?j.createElement(j.Fragment,null,T.length>0?j.createElement(j.Fragment,null,j.createElement(w.q,{fontWeight:"$medium",color:"$baseTextMedEmphasis",paddingHorizontal:"$4"},C.ag._({id:"b1cqeN"})),j.createElement(J,{wallets:T,onClickWalletDetail:F,onClickWallet:L})):null,x.length>0?j.createElement(j.Fragment,null,j.createElement(w.q,{fontWeight:"$medium",color:"$baseTextMedEmphasis",paddingHorizontal:"$4"},C.ag._({id:"QEyCGi"})),j.createElement(J,{wallets:x,onClickWalletDetail:F,onClickWallet:L})):null):j.createElement(j.Fragment,null,$.length>0?j.createElement(J,{wallets:$,onClickWalletDetail:F,onClickWallet:L}):null)),Z?j.createElement(v.FA,{mt:16,als:"center",mb:"auto"},j.createElement(z.H,{label:C.ag._({id:"V62CuV",values:{networkName:f}}),onClick:D})):null),Z?null:j.createElement(i.p,null,j.createElement(z.H,{label:C.ag._({id:"V62CuV",values:{networkName:f}}),onClick:D})))}function G({blockchainIdFilter:e,navigation:t}){const n=(0,M.Dv)(g.D5),a=(0,M.Dv)(g.s7),r=(0,M.Dv)(u.De)[e],i=(0,M.b9)(h.Wn),o=(0,M.b9)(h.ef);return j.createElement(O.D,{selectedNetwork:r.blockchainId,onNetworkPress:async e=>{const t=n.publicKeys.platforms[e.blockchainId].activePublicKey;await a.setActiveWallet({uuid:n.user.uuid,blockchain:e.blockchain,blockchainId:e.blockchainId,publicKey:t})},onMoreNetworksPress:async()=>{await o({flowEntrypoint:d.g1.ADD_WALLET}),await i({explicitNextRoute:d.MG.SelectDescriptorType}),t.push(K.p.ImportWalletNavigator,{screen:d.MG.AddNetwork})}},j.createElement(v.sL,{cursor:"pointer",userSelect:"none",height:"36px",backgroundColor:"$baseBackgroundL1",borderRadius:32,borderStyle:"solid",borderWidth:"1px",borderColor:"$baseBorderMed",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:"$DEPRECATED_2",hoverStyle:{backgroundColor:"$baseBackgroundL2"},gap:"$DEPRECATED_2"},j.createElement(l._,{id:r.blockchainId,size:20}),j.createElement(v.sL,{gap:"$DEPRECATED_2",alignItems:"center",justifyContent:"center"},j.createElement(w.q,{fontSize:"$sm"},r.name),j.createElement(P._,{color:"$baseTextMedEmphasis",size:16}))))}function Z({wallet:e,isSelected:t,onClickWallet:n,onClickWalletDetail:i}){const o=(0,I.F)(),c=(0,M.Dv)(g.LE),[d,u]=(0,N.useState)(!1),m=(0,N.useMemo)((()=>{const t=e.info.defaultBitcoinSpendingWallet;if(!t)return;const n=c.find((e=>e.publicKey===t));return n?.info.name}),[e.info.defaultBitcoinSpendingWallet,c]);return j.createElement(v.FA,{onPress:()=>n(e),testID:`${r.bR}${e.publicKey}`,cursor:"pointer",justifyContent:"center",paddingVertical:12,$sidePanel:{paddingHorizontal:"$DEPRECATED_2"},paddingHorizontal:"$DEPRECATED_3",borderRadius:"$medium",backgroundColor:"$baseBackgroundL1",borderWidth:"2px",borderColor:t?"$accentBlue":"transparent",hoverStyle:{backgroundColor:"$baseBackgroundL2"},onHoverIn:()=>u(!0),onHoverOut:()=>u(!1)},j.createElement(v.sL,{gap:"$DEPRECATED_3",$sidePanel:{gap:"$DEPRECATED_2"}},j.createElement(v.FA,{justifyContent:"center",alignItems:"center",flexShrink:0,$sidePanel:{display:"none"},opacity:d?1:0,style:{position:"absolute",left:-34,top:16},animation:"quick"},j.createElement(D.u,{size:20,color:"$baseIcon"})),j.createElement(v.FA,{justifyContent:"center",alignItems:"center",width:19,flexShrink:0,$sidePanel:{display:"none"}},j.createElement(l._,{id:e.blockchainId,size:20})),j.createElement(v.FA,{flex:1,overflow:"hidden",gap:"$DEPRECATED_1"},j.createElement(w.q,{fontWeight:"$medium",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},e.info.name),j.createElement(v.sL,{alignItems:"center",gap:"$DEPRECATED_1"},j.createElement(Q,{wallet:e,fill:o.baseIcon.val}),j.createElement(w.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},(0,a.R1)(e.publicKey)),j.createElement(B.E,{address:e.publicKey,iconSize:14,height:22,width:22})),e.info.walletType===s.Sq.BVM_ORDINALS?j.createElement(w.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},m?` ${m}`:" No wallet linked"):null),j.createElement(v.sL,{alignItems:"center",gap:"$DEPRECATED_3"},j.createElement(Y,{publicKey:e.publicKey,blockchainId:e.blockchainId}),j.createElement("div",{onClick:t=>{t.stopPropagation(),t.preventDefault(),i(e)},"data-testid":`${r._P}${e.publicKey}`},j.createElement(v.sL,{height:40,width:40,borderRadius:40,justifyContent:"center",alignItems:"center",hoverStyle:{backgroundColor:"$baseBackgroundL0"}},j.createElement(L.h,{size:24,color:"$baseIcon"}))))))}function Y({publicKey:e,blockchainId:t}){const n=(0,M.Dv)(p.aI),a=(0,E.$T)(2),{ref:r,isVisible:l,wasVisible:i}=(0,f.S)({rootMargin:"50px"}),o=(0,N.useMemo)((()=>({address:e,blockchainId:t})),[e,t]),c=(0,M.Dv)((0,k.Tr)(o));if(!c)return j.createElement("div",{ref:r},j.createElement(T.O,{radius:8,width:45,height:20}));const s=n?m.e:c.value>=1e3?a.format(c.value,!1,!0):a.format(c.value);return j.createElement("div",{ref:r},j.createElement(w.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},s))}function J({wallets:e,onClickWallet:t,onClickWalletDetail:n}){const a=(0,b.rT)(),[r,l]=(0,N.useState)(e),i=(0,M.Dv)(g.D5),o=(0,M.Dv)(g.s7),c=(0,M.Dv)(u.De)[e[0]?.blockchainId];(0,N.useEffect)((()=>{l(e)}),[e]);const s=(0,x.Dy)((0,x.VT)(x.we,{activationConstraint:{delay:250,tolerance:5}}),(0,x.VT)(x.Lg,{coordinateGetter:S.is}));return j.createElement(x.LB,{sensors:s,collisionDetection:x.pE,onDragEnd:async e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=r.findIndex((e=>e.publicKey===t.id)),a=r.findIndex((e=>e.publicKey===n.id)),s=(0,S.Rp)(r,e,a);l(s),await o.updateUserPreferences({uuid:i.user.uuid,preferences:{walletOrder:{...i.preferences.walletOrder,[c.blockchainId]:s.map((e=>e.publicKey))}}})}},modifiers:[$.DL]},j.createElement(S.Fo,{items:r.map((e=>e.publicKey)),strategy:S.qw},j.createElement(v.FA,{gap:"$DEPRECATED_2"},r.map((e=>{const r=a.publicKey===e.publicKey&&a.blockchainId===e.blockchainId;return j.createElement(X,{key:e.publicKey,wallet:e,isSelected:r,onClickWallet:t,onClickWalletDetail:n})})))))}function X(e){const{attributes:t,listeners:n,setNodeRef:a,transform:r,transition:l,isDragging:i}=(0,S.nB)({id:e.wallet.publicKey}),o={transform:A.ux.Transform.toString(r),transition:l,zIndex:i?1:0,opacity:i?.5:1};return j.createElement("div",{ref:a,style:o,...t,...n},j.createElement(Z,e))}function Q({wallet:e,fill:t}){const n={paddingRight:"2px",height:"16px",width:"16px"},a=e.info.publicKeyringInfo?.keyringType===s.ZO.HARDWARE?e.info.publicKeyringInfo.device:void 0;switch(e.info.type){case"imported":return j.createElement(c.Dx,{fill:t,style:n});case"hardware":return a===s.$I.KEYSTONE?j.createElement(c.c4,{fill:t,style:n}):a===s.$I.TREZOR?j.createElement(c.uN,{fill:t,style:n}):j.createElement(c.T2,{fill:t,style:n});case"derived":return j.createElement(c.bD,{fill:t,style:n});case"view-only":return j.createElement(F.b,{color:t,size:"$sm"});default:return null}}const ee=(e,t)=>{const n=e.info.name||"",a=t.info.name||"";return n.localeCompare(a,void 0,{numeric:!0,sensitivity:"base",ignorePunctuation:!0})},te=(e,t)=>{if(!t||0===t.length)return[...e].sort(ee);const n=new Map(t.map(((e,t)=>[e,t])));return[...e].sort(((e,t)=>{const a=n.get(e.publicKey),r=n.get(t.publicKey);return void 0===a&&void 0===r?ee(e,t):void 0===a?1:void 0===r?-1:a-r}))}},999372:(e,t,n)=>{n.d(t,{E:()=>b});var a=n(377172),r=n(196390),l=n(893086),i=n(541214),o=n(337288),c=n(187254),s=n(212600),d=n(927751),u=n(598416),m=n(892082),p=n(710224),g=n(947976),h=n(202784);function b(e){return h.createElement(p.X,{loading:h.createElement(E,null)},h.createElement(f,e))}function E(){return null}function f(e){const{route:t}=e,{forceRefreshKey:n}=t.params??{forceRefreshKey:"container"};return h.createElement(k,{key:n,...e})}function k({navigation:e}){const{publicKey:t,info:n}=(0,i.rT)(),a=(0,r.bA)(t),l=(0,r.kP)(),s=()=>{e.push(g.Routes.NewStakeScreen)};return a.hasLoadedSomeData&&0===a.data.length?h.createElement(o.FA,{jc:"center",height:"100%",pl:16,pr:16},h.createElement(v,{navigation:e})):h.createElement(o.FA,{height:"100%"},h.createElement(d.Ci,{itemCount:a.hasLoadedSomeData?a.data.length+1:8,itemData:{sortedAccounts:a.data,validators:l.data,onClickRow:t=>{t&&e.push(g.Routes.StakeDetailScreen,{stake:t})}},renderer:e=>{const{index:t,style:r}=e;return a.hasLoadedSomeData&&t===a.data.length&&"view-only"!==n.type?h.createElement("div",{key:"add",style:r},h.createElement(u.H,{onClick:s,label:c.ag._({id:"9BmlIB"})})):h.createElement(y,e)}}))}const y=({index:e,data:t,style:n})=>{const a=t.sortedAccounts?.[e],r=(t.validators||[])?.find((e=>a?.stakeAccount?.stake.delegation.voter===e.info.votePubkey));return h.createElement(o.FA,{key:a?.pubkey,hoverStyle:r?{cursor:"pointer",backgroundColor:"$baseBackgroundL2"}:void 0,paddingHorizontal:"$DEPRECATED_4",style:n,onPress:r?()=>t.onClickRow({...a,validator:r}):void 0},a?h.createElement(m.D,{props:{validator:r,state:a.stakeActivation?.state?a.stakeActivation.state.charAt(0).toUpperCase()+a.stakeActivation.state.slice(1):"",amount:a.stakeAccount?.stake.delegation.stake?(0,l.bv)(a.stakeAccount.stake.delegation.stake):"",reward:a.rewards?.amount?(0,l.bv)(a.rewards.amount):void 0}}):h.createElement(d.dR,null))};function v({navigation:e}){const{info:t}=(0,i.rT)();return h.createElement(a.ub,{icon:e=>h.createElement(s.G,e),title:c.ag._({id:"P6uCVE"}),subtitle:c.ag._({id:"cIAMz/"}),buttonText:"view-only"!==t.type?c.ag._({id:"9BmlIB"}):void 0,onClick:"view-only"!==t.type?()=>e.push(g.Routes.NewStakeScreen):void 0})}},983589:(e,t,n)=>{n.d(t,{o:()=>E});var a=n(377172),r=n(196390),l=n(893086),i=n(66046),o=n(541214),c=n(382740),s=n(337288),d=n(312397),u=n(187254),m=n(400752),p=n(202784),g=n(710224),h=n(947976),b=n(202784);function E(e){return b.createElement(g.X,{loading:b.createElement(f,null)},b.createElement(k,e))}function f(){return null}const k=({navigation:e,route:{params:{pubkey:t}}})=>{const[n,d]=(0,p.useState)(),{publicKey:g,blockchainId:E}=(0,o.rT)(),f=(0,m.Dv)((0,i.Pg)(E)),k=(0,r.HC)(),v=(0,r.bA)(g),w=(0,r.tm)(),I=v.data.find((e=>e.pubkey===t)),T=v.data.filter((0,l.ql)(g,k.data?.epoch,I));return b.createElement("div",{style:{display:"flex",flexDirection:"column",padding:16,textAlign:"center",flex:1}},b.createElement(c.q,{fontSize:"$md",color:"$baseTextHighEmphasis"},"Choose an account to merge"),b.createElement(s.FA,{marginVertical:16,flex:1},b.createElement(s.sL,{jc:"space-between",space:"$DEPRECATED_1",paddingHorizontal:"$DEPRECATED_2",marginBottom:"$DEPRECATED_2"},b.createElement(c.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",paddingLeft:24},u.ag._({id:"B8lM8K"}).concat(" (SOL)")),b.createElement(c.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",textAlign:"right"},u.ag._({id:"BVbS7G"}).concat(" (SOL)"))),b.createElement(s.FA,{space:"$DEPRECATED_4"},T.map((e=>b.createElement(s.sL,{key:e.pubkey,ai:"center",jc:"space-between",onPress:()=>d(e.pubkey),cursor:"pointer",userSelect:"none",hoverStyle:{opacity:.9}},b.createElement(y,{onPress:()=>{},checked:e.pubkey===n,label:b.createElement(s.FA,{space:"$DEPRECATED_1",paddingHorizontal:"$DEPRECATED_2"},b.createElement(c.q,{fontSize:"$md"},e.lamports?(0,l.bv)(e.lamports):""))}),b.createElement(s.FA,{space:"$DEPRECATED_1",paddingHorizontal:"$DEPRECATED_2"},b.createElement(c.q,{textAlign:"right",color:"$greenText",fontSize:"$sm"},e.stakeAccount?(0,l.bv)(e.stakeAccount?.stake.delegation.stake):""))))))),b.createElement(a.KM,{label:u.ag._({id:"UODtG8"}),onClick:async()=>{try{if(!n)return;const a=await f.Stake.merge({authority:g,stakeAccountToClose:n,stakeAccountToMergeInto:t});if(w.current)return e.replace(h.Routes.StakeConfirmationScreen,{signature:a,progressTitle:"Confirming Merge",afterTitle:"Merged"})}catch(e){console.error(e)}},disabled:!n}))},y=({disabled:e,label:t,checked:n,onPress:a})=>b.createElement(s.sL,{disabled:e||!t,onPress:()=>a(!n),accessibilityRole:"checkbox",accessibilityState:{disabled:e,checked:n},ai:"center"},b.createElement(d.C,{justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"$baseTextHighEmphasis",width:24,height:24},n?b.createElement(d.C,{backgroundColor:"$baseTextHighEmphasis",height:12,width:12}):null),"string"==typeof t?b.createElement(c.q,{ml:8,color:"$baseTextMedEmphasis"},t):t)},657859:(e,t,n)=>{n.d(t,{I:()=>$});var a=n(202784),r=n(44171),l=n(531518),i=n(377172),o=n(196390),c=n(797155),s=n(66046),d=n(861326),u=n(541214),m=n(337288),p=n(326951),g=n(382740),h=n(187254),b=n(358542),E=n(627158),f=n(343628),k=n(910528),y=n(590711),v=n(400752),w=n(117312),I=n(710224),T=n(947976),x=n(202784);function $(e){return x.createElement(I.X,{loading:x.createElement(S,null)},x.createElement(A,e))}function S(){return x.createElement(m.FA,{mt:12,w:"100%",py:8,px:12,br:16,ai:"center",gap:8},x.createElement(l.m,{height:40,width:40}),x.createElement(m.FA,{ai:"center",gap:4},x.createElement(l.m,{height:20,width:160}),x.createElement(l.m,{height:16,width:120}),x.createElement(l.m,{height:16,width:200})),x.createElement(m.FA,{mt:8,p:8,br:16,ai:"center"},x.createElement(l.m,{height:16,width:100})))}function A({navigation:e}){const{publicKey:t,blockchainId:n}=(0,u.rT)(),l=(0,v.Dv)((0,s.Pg)(n)),I=(0,p.F)(),[$,A]=(0,a.useState)(""),[C,_]=(0,a.useState)(null),P=(0,v.Dv)(c.x),{data:D}=(0,f.a)({queryKey:["stake","minPossibleLamports"],queryFn:async()=>await l.solanaRpc.getMinimumBalanceForRentExemption(E.StakeProgram.space)+1}),{data:L}=(0,f.a)({queryKey:["balance",t],queryFn:()=>l.solanaRpc.getBalance((0,b.IY)((0,d.u)(t)),"processed")}),F=(0,o.kP)(),M=(0,o.tm)(),N=L?k.O$.from(L):null,z=D?k.O$.from(D):null,R=N&&z?N.sub(z):y._Y,B=F.data?.find((e=>e.info.votePubkey===P));return x.createElement(m.FA,{gap:16,p:16},x.createElement(m.FA,{f:1,ai:"center"},x.createElement(w.Sr,{strAmount:$,setStrAmount:A,setAmount:_}),x.createElement(m.FA,{mt:16},R.gt(y._Y)?x.createElement(w.zq,{decimals:9,ticker:"SOL",maxAmount:R,setStrAmount:A,setAmount:_}):null),B?x.createElement(x.Fragment,null,x.createElement(m.FA,{gap:8,mt:12,cursor:"pointer",w:"100%",py:8,px:12,br:16,ai:"center",pressStyle:{opacity:.7},onPress:()=>e.push(T.Routes.ValidatorSelectorScreen)},x.createElement("img",{src:B.icon||r.rI,style:{width:40,height:40,borderRadius:20}}),x.createElement(m.FA,{ai:"center"},x.createElement(g.q,{fontSize:"$base"},B.name)),B.details?x.createElement(m.FA,{ai:"center"},x.createElement(g.q,{textAlign:"center",fontSize:"$sm",color:"$baseTextMedEmphasis"},B.details)):null,B.url?x.createElement(g.q,{fontSize:"$sm"},x.createElement("a",{href:B.url,target:"_blank",rel:"noreferrer",style:{color:I.accentBlue.val,textDecoration:"none"}},B.url)):null),x.createElement(m.FA,{mt:8,cursor:"pointer",p:8,br:16,ai:"center",pressStyle:{opacity:.7},onPress:()=>e.push(T.Routes.ValidatorSelectorScreen)},x.createElement(g.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},h.ag._({id:"7LarSD"})))):x.createElement(S,null)),x.createElement(i.KM,{onClick:async n=>{n.preventDefault();try{const n=await l.Stake.createAndDelegate({authority:t,lamports:String(C),validatorVoteAccount:P});if(M.current)return e.push(T.Routes.StakeConfirmationScreen,{signature:n,delay:1500,progressTitle:h.ag._({id:"to+Jrh"}),afterTitle:h.ag._({id:"q6lAbz"})})}catch(e){console.error(e)}},type:"submit",label:h.ag._({id:"JYKRJS"}),disabled:!C||!z||C.lte(z)||R.gt(y._Y)&&C.gt(R)}))}},335980:(e,t,n)=>{n.d(t,{u:()=>T});var a=n(202784),r=n(156675),l=n(457246),i=n(997246),o=n(152010),c=n(377172),s=n(127942),d=n(893086),u=n(66046),m=n(541214),p=n(344848),g=n(337288),h=n(382740),b=n(187254),E=n(989425),f=n(400752),k=n(429538),y=n.n(k),v=n(710224),w=n(947976),I=n(202784);function T(e){return I.createElement(v.X,{loading:I.createElement(x,null)},I.createElement($,e))}function x(){return null}const $=({navigation:e,route:{params:{signature:t,delay:n=1e3,afterTitle:k}}})=>{const[v,T]=(0,a.useState)(!1),{publicKey:x,blockchainId:$}=(0,m.rT)(),S=(0,m.gI)($),A=(0,E.NL)(),C=(0,f.Dv)((0,u.Pg)($)),{explorerTxUrl:_}=(0,p.U)($),[P,D]=(0,a.useState)(),L=(0,r.x)();return y()((async a=>{try{await C.confirmTransaction(t),setTimeout((()=>{L.query({query:o.v6,fetchPolicy:"network-only",context:o.cE,variables:{address:x,caip2:S}}),L.query({query:o.AN,fetchPolicy:"network-only",context:o.cE,variables:{address:x,caip2:S,filters:{token:s.VU}}})}),2e3),await Promise.allSettled([(0,d._v)(n),A.invalidateQueries({queryKey:["staking",x]})]),a()&&(T(!0),e.setOptions({title:k}))}catch(e){a()&&(console.error(e),D(e.message||"Error"))}}),[t]),I.createElement(g.FA,{flex:1,padding:16,textAlign:"center"},I.createElement(g.FA,{flex:1,justifyContent:"center",alignItems:"center"},P?I.createElement(h.q,{color:"$redText"},"There was an error confirming this transaction: '",P,"'"):v?I.createElement(I.Fragment,null,I.createElement(c.nQ,null),I.createElement(h.q,{mt:16,textAlign:"center"},b.ag._({id:"w9X5a8"}))):I.createElement(c.gb,{size:48,iconStyle:{display:"flex",marginLeft:"auto",marginRight:"auto"},thickness:6})),P||v?I.createElement(i.x,{onPress:()=>e.navigate(w.Routes.ListStakesScreen,{forceRefreshKey:(0,l.lY)()}),label:b.ag._({id:"Yjz2VQ"})}):null,I.createElement(g.FA,{mt:16},I.createElement(i.x,{label:b.ag._({id:"LWBqW/"}),variant:"secondary",onPress:()=>{window.open(_(t),"_blank")}})))}},62024:(e,t,n)=>{n.d(t,{x:()=>k});var a=n(371541),r=n(377172),l=n(196390),i=n(893086),o=n(66046),c=n(541214),s=n(344848),d=n(337288),u=n(382740),m=n(299105),p=n(566025),g=n(187254),h=n(400752),b=n(710224),E=n(947976),f=n(202784);function k(e){return f.createElement(b.X,{loading:f.createElement(y,null)},f.createElement(v,e))}function y(){return null}const v=({navigation:e,route:{params:{stake:t}}})=>{const{publicKey:n,blockchainId:a,info:s}=(0,c.rT)(),p=(0,h.Dv)((0,o.Pg)(a)),b=(0,l.HC)(),k=I(t.stakeActivation?.state),y=(0,l.tm)(),v=new Date(t.stakeAccount?1e3*t.stakeAccount.meta.lockup.unixTimestamp:0),T=new Date,x=e=>e&&e===n,$=k("inactive")&&t.stakeAccount&&v<=T&&(!b.data?.epoch||!t.stakeAccount.meta.lockup.epoch||t.stakeAccount.meta.lockup.epoch<=b.data.epoch)&&x(t.stakeAccount.meta.authorized.withdrawer);return f.createElement(d.FA,{flex:1,padding:16,alignItems:"center",width:"100%"},f.createElement(u.q,{fontSize:"$2xl",fontWeight:"$bold",color:k("active")?"$baseTextHighEmphasis":"$baseTextMedEmphasis"},t.stakeAccount?(0,i.bv)(t.stakeAccount.stake.delegation.stake,{appendTicker:!0}):null),f.createElement(d.FA,{marginVertical:16,width:"100%"},f.createElement(m.Zl,null,f.createElement(m.Uq,{label:f.createElement(u.q,{color:"$baseTextHighEmphasis",fontSize:"$sm",textAlign:"left",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",marginRight:10},t.validator?.name),valueColor:t.stakeActivation?i.dv[t.stakeActivation.state]:void 0,value:t.stakeActivation?t.stakeActivation.state.charAt(0).toUpperCase()+t.stakeActivation.state.slice(1):void 0}),f.createElement(w,{title:g.ag._({id:"Du6bPw"}),pubkey:t.pubkey}),f.createElement(m.Uq,{label:g.ag._({id:"B8lM8K"}),value:void 0!==t.lamports?(0,i.bv)(t.lamports,{appendTicker:!0}):null}),f.createElement(m.Uq,{label:g.ag._({id:"96+Eqn"}),value:void 0!==t.stakeAccount?(0,i.bv)(t.stakeAccount.meta.rentExemptReserve,{appendTicker:!0}):null}),t.stakeActivation?.active?f.createElement(m.Uq,{label:g.ag._({id:"BVbS7G"}),value:(0,i.bv)(t.stakeActivation.active,{appendTicker:!0}),valueColor:k("active")?"$baseTextHighEmphasis":"$baseTextMedEmphasis"}):null,t.rewards?.amount?f.createElement(m.Uq,{label:g.ag._({id:"ScC+Oy"}),valueColor:k("active")?"$greenText":"$baseTextMedEmphasis",value:`+${(0,i.bv)(t.rewards.amount,{appendTicker:!0})}`}):null,v>T?f.createElement(m.Uq,{label:g.ag._({id:"xX0pjH"}),value:v.toLocaleString()}):null,b.data&&t.stakeAccount&&b.data.epoch<t.stakeAccount.meta.lockup.epoch?f.createElement(m.Uq,{label:g.ag._({id:"ougihe"}),value:`${t.stakeAccount.meta.lockup.epoch} (${t.stakeAccount.meta.lockup.epoch-b.data.epoch} from now)`}):null,x(t.stakeAccount?.meta.lockup.custodian)||"11111111111111111111111111111111"===t.stakeAccount?.meta.lockup.custodian?null:f.createElement(w,{title:g.ag._({id:"UXnf6o"}),pubkey:t.stakeAccount?.meta.lockup.custodian}),x(t.stakeAccount?.meta.authorized.staker)?null:f.createElement(w,{title:g.ag._({id:"NnoIFV"}),pubkey:t.stakeAccount?.meta.authorized.staker}),x(t.stakeAccount?.meta.authorized.withdrawer)?null:f.createElement(w,{title:g.ag._({id:"NYFHgC"}),pubkey:t.stakeAccount?.meta.authorized.withdrawer}))),f.createElement(d.FA,{flex:1}),$?f.createElement(r.KM,{label:g.ag._({id:"LwRtzc"}),onClick:async()=>{try{if(!t.pubkey)return;const a=await p.Stake.withdraw({authority:n,stakeAccount:t.pubkey});if(y.current)return e.replace(E.Routes.StakeConfirmationScreen,{signature:a,progressTitle:g.ag._({id:"D6e+PN"}),afterTitle:g.ag._({id:"SQiR09"})})}catch(e){console.error(e)}}}):k("active","activating")&&"view-only"!==s.type?f.createElement(r.KM,{label:g.ag._({id:"OFjZGo"}),onClick:async()=>{try{if(!t.pubkey)return;const a=await p.Stake.deactivate({authority:n,stakeAccount:t.pubkey});if(y.current)return e.replace(E.Routes.StakeConfirmationScreen,{signature:a,progressTitle:g.ag._({id:"FUzjis"}),afterTitle:g.ag._({id:"a9D+6D"})})}catch(e){console.error(e)}}}):null)},w=({title:e,pubkey:t})=>{const{blockchainId:n}=(0,c.rT)(),{explorerAddressUrl:r}=(0,s.U)(n);return f.createElement(m.Uq,{label:e,value:t?(0,a.R1)(t):"",onPress:t?()=>(0,p.Y)(r(t)):void 0})},I=e=>(...t)=>Boolean(e&&t.includes(e))},418836:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(202784),r=n(579187),l=n(44171),i=n(196390),o=n(797155),c=n(326951),s=n(337288),d=n(634706),u=n(187254),m=n(815053),p=n(400752),g=n(927751),h=n(892082),b=n(710224),E=n(202784);function f(e){return E.createElement(b.X,{loading:E.createElement(k,null)},E.createElement(y,e))}function k(){return null}const y=({navigation:e})=>{const t=(0,p.b9)(o.x),n=(0,c.F)(),[r,l]=(0,a.useState)(""),h=(0,i.kP)(),b=h?.data?.filter((e=>e.name.toLowerCase().includes(r.toLowerCase())||e.info.nodePubkey===r||e.info.votePubkey===r))||[];return E.createElement(s.FA,{space:"$DEPRECATED_3"},E.createElement(s.FA,{paddingHorizontal:"$DEPRECATED_4"},E.createElement(d.fP,{placeholder:u.ag._({id:"A1taO8"}),value:r,onChangeText:e=>l(e),iconStart:E.createElement(m.o,{color:n.baseIcon.val})})),E.createElement(g.Ci,{itemKey:e=>b[e].id,itemCount:b.length,itemData:{validators:b,onClickRow:n=>{t(n.info.votePubkey),e.pop()}},renderer:v}))},v=({index:e,data:t,style:n})=>{const a=t.validators[e];return E.createElement(s.FA,{key:a.id,hoverStyle:{cursor:"pointer",backgroundColor:"$baseBackgroundL2"},paddingHorizontal:"$DEPRECATED_4",style:n,onPress:()=>t.onClickRow(a)},E.createElement(h.D,{props:{validator:{icon:a.icon||l.rI,name:a.name},state:(BigInt(a.info.stake)/BigInt(r.j)).toLocaleString().concat(" SOL"),amount:a.info.apy?`${a.info.apy}% APY`:`${a.info.commission}% Fee`,reward:void 0}}))}},406939:(e,t,n)=>{n.d(t,{z:()=>he});var a=n(71553),r=n(152010),l=n(817967),i=n(66046),o=n(602327),c=n(468186),s=n(541214),d=n(337288),u=n(187254),m=n(304235),p=n(846917),g=n(400752),h=n(202784),b=n(416242),E=n(817),f=n(657435),k=n(329396),y=n(17573),v=n(997246),w=n(371541),I=n(377172),T=n(670489),x=n(495320),$=n(971753),S=n(74126),A=n(382740),C=n(65457),_=n(568850),P=n(355195),D=n(527159),L=n(908236),F=n(747401),M=n(404057),N=n(316431),z=n(283315),R=n(427037),B=n(202784);function O(e){switch(e){case"pending_burn":case"burned":case"pending_attestation":case"attested":case"pending_mint":case"minted":case"pending_transfer":return"$accentBlue";case"completed":return"$greenText";case"failed":return"$redText";default:return"$textPrimary"}}var q=n(202784);function W({estimatedCompletionTime:e}){const[t,n]=(0,h.useState)("");return(0,h.useEffect)((()=>{const t=()=>{const t=Date.now(),a=e-t;if(a<=0)return void n("Processing...");const r=Math.floor(a/6e4),l=Math.floor(a%6e4/1e3);n(r>0?`${r}m ${l}s`:`${l}s`)};t();const a=setInterval(t,1e3);return()=>clearInterval(a)}),[e]),q.createElement(A.q,{fontSize:"$xs",color:"$baseTextMedEmphasis"},t)}var K=n(202784);function j({transaction:e,claimingTxId:t,user:n,onClaim:a,onPress:r}){const l=(0,P.U)({minimumFractionDigits:0,maximumFractionDigits:8}),i=e.message_hash&&("minted"===e.status||"attested"===e.status||"pending_transfer"===e.status);return K.createElement(L._,{key:e.id,backgroundColor:"$baseBackgroundL1",borderRadius:"$3",padding:"$4",hoverTheme:!0,hoverStyle:{backgroundColor:"$baseBackgroundL1"},cursor:"pointer",onPress:r,icon:K.createElement(d.sL,{width:44,height:44,position:"relative",alignItems:"center",justifyContent:"center"},K.createElement(d.FA,{position:"absolute",right:0,width:28,height:28,borderRadius:"$circular",backgroundColor:"$baseBackgroundL2",alignItems:"center",justifyContent:"center"},K.createElement(D._,{id:e.toBlockchainId,size:16})),K.createElement(d.FA,{position:"absolute",left:0,zIndex:10,width:28,height:28,borderRadius:"$circular",backgroundColor:"$baseBackgroundL2",alignItems:"center",justifyContent:"center"},K.createElement(D._,{id:e.fromBlockchainId,size:16})))},K.createElement(d.FA,{flex:1,gap:"$1"},K.createElement(d.sL,{ai:"center",jc:"space-between"},K.createElement(A.q,{fontSize:"$sm",fontWeight:"500",color:"$baseTextHighEmphasis"},n.publicKeys.platforms[e.fromBlockchainId]?.publicKeys[e.fromAddress]?.name??(0,w.R1)(e.fromAddress)," ",""," ",n.publicKeys.platforms[e.toBlockchainId]?.publicKeys[e.toAddress]?.name??(0,w.R1)(e.toAddress)),i?K.createElement(F.zx,{size:"$3",disabled:t===e.id,onPress:t=>{t.stopPropagation(),a(e)},icon:t===e.id?void 0:K.createElement(M.U,{size:12,color:"$greenIcon"}),backgroundColor:"$baseBackgroundL2",color:"$greenText",fontSize:"$xs",paddingHorizontal:"$2.5",paddingVertical:"$3",borderRadius:"$3"},t===e.id?u.ag._({id:"N0tcou"}):u.ag._({id:"hom7qf"})):K.createElement(d.sL,{ai:"center",gap:"$1"},function(e){switch(e){case"completed":return B.createElement(z.f,{size:10,color:"$greenIcon"});case"failed":return B.createElement(R.a,{size:10,color:"$redText"});case"pending_burn":case"burned":case"pending_attestation":case"attested":case"pending_mint":case"minted":case"pending_transfer":return B.createElement(N.S,{size:10,color:"$accentBlue"});default:return B.createElement(N.S,{size:10,color:"$baseTextMedEmphasis"})}}(e.status),K.createElement(A.q,{fontSize:"$xs",color:O(e.status)},function(e){switch(e.status){case"pending_burn":return"Preparing";case"burned":case"pending_attestation":return"Pending";case"attested":return"Ready";case"pending_mint":return"Minting";case"minted":return"Minted";case"pending_transfer":return"Transferring";case"completed":return"Complete";case"failed":return e.error||"Transaction failed";default:return"Unknown status"}}(e)))),K.createElement(d.sL,{gap:"$1",ai:"center",jc:"space-between"},K.createElement(A.q,{fontSize:"$xs",color:"$baseTextMedEmphasis"},l.format(Number(e.amount))," ",e.fromTokenSymbol,e.toAmount?`  ${l.format(Number(e.toAmount))} ${e.toTokenSymbol}`:""),(o=e.status,!["completed","failed"].includes(o)&&e.estimatedCompletionTime?K.createElement(d.sL,{ai:"center",gap:"$1"},K.createElement(N.S,{size:12,color:"$baseTextMedEmphasis"}),K.createElement(W,{estimatedCompletionTime:e.estimatedCompletionTime})):K.createElement(A.q,{textAlign:"right",fontSize:"$xs",color:"$baseTextMedEmphasis"},(0,w.fv)(e.timestamp))))));var o}var H=n(202784);function V(){const e=(0,g.Dv)(o.Cq),t=(0,g.b9)(o.Rp),n=(0,g.Dv)(S.l),a=(0,s.rT)(),r=(0,g.Dv)(x.D5),l=(0,g.Dv)(x.s7),[i,c]=(0,h.useState)(null),[m,p]=(0,h.useState)(null),b=e.filter((e=>e.fromAddress===a.publicKey||e.toAddress===a.publicKey));(0,$.p)();const E=(0,h.useCallback)((async e=>{if(e.quoteId){p(null),c(e.id);try{if(a.publicKey!==e.toAddress){const t=r.publicKeys.platforms[e.toBlockchainId],n=t?.activePublicKey;if(!n||n!==e.toAddress){const t=r.publicKeys.platforms[e.toBlockchainId]?.publicKeys[e.toAddress]?.name??(0,w.R1)(e.toAddress);return p(`Please switch to the destination wallet (${t}) before claiming.`),void c(null)}const a=t?.blockchain;if(!a)return p("Could not determine destination blockchain. Please switch wallets manually."),void c(null);try{await l.setActiveWallet({uuid:r.user.uuid,blockchain:a,blockchainId:e.toBlockchainId,publicKey:e.toAddress}),await new Promise((e=>setTimeout(e,500)))}catch(t){const n=r.publicKeys.platforms[e.toBlockchainId]?.publicKeys[e.toAddress]?.name??(0,w.R1)(e.toAddress);return p(`Failed to switch to destination wallet (${n}). Please switch manually and try again.`),void c(null)}}if(!e.burn_tx_hash||!e.message_hash)return void c(null);const i=e.sourceDomain??0,o=await n.manualClaim(e.burn_tx_hash,i,e.message_hash,e.fromBlockchainId,e.toBlockchainId,e.toAddress,e.quoteId);t({id:e.id,updates:{status:"completed",mint_tx_hash:o,minted_at:Date.now()}})}catch(n){const a=n instanceof Error?n.message:"Unknown error occurred during claim";if(a.includes("Nonce already used"))t({id:e.id,updates:{status:"completed",completed_at:Date.now()}}),p("This transfer has already been claimed. Check your wallet balance.");else{const e=(0,T.J)(a);p(e)}}finally{c(null)}}}),[n,t,a,r,l]),f=(0,h.useRef)(new Map);return(0,h.useEffect)((()=>{const e=b.filter((e=>"attested"===e.status));for(const t of e){const e=f.current.get(t.id);e&&"attested"!==e&&E(t)}const t=new Map;for(const e of b)t.set(e.id,e.status);f.current=t}),[b,E]),H.createElement(d.FA,{gap:"$1",mt:"$2",flex:1},H.createElement(d.sL,{ai:"center",jc:"space-between",mx:"$1"},H.createElement(A.q,{fontSize:"$lg",color:"$baseTextHighEmphasis"},u.ag._({id:"n8gJEC"}))),m?H.createElement(d.sL,{backgroundColor:"$redBackgroundTransparent",borderColor:"$redBorder",borderWidth:1,borderRadius:"$3",padding:"$3",mb:"$2",ai:"center",jc:"space-between",gap:"$2",cursor:"pointer",onPress:()=>p(null)},H.createElement(d.FA,{flex:1},H.createElement(A.q,{fontSize:"$xs",fontWeight:"600",color:"$redText",mb:"$1"},u.ag._({id:"6fKUD6"})),H.createElement(A.q,{fontSize:"$xs",color:"$redText"},m)),H.createElement(A.q,{fontSize:"$xs",color:"$redText"},u.ag._({id:"1QfxQT"}))):null,0===b.length?H.createElement(d.FA,{mt:"$2"},H.createElement(I.ub,{icon:()=>H.createElement(_.Y,{size:32,color:"$baseTextMedEmphasis"}),title:u.ag._({id:"mJVFoV"}),subtitle:u.ag._({id:"1GhsCx"})})):H.createElement(C.p,{flex:1,showsVerticalScrollIndicator:!0,style:{overflow:"hidden"}},H.createElement(d.FA,{gap:"$2",mt:"$2",pb:"$4"},b.map((e=>H.createElement(j,{key:e.id,transaction:e,claimingTxId:i,user:r,onClaim:E,onPress:()=>{e.explorerUrl&&window.open(e.explorerUrl,"_blank")}}))))))}var U=n(924432),G=n(220026),Z=n(457246),Y=n(44171),J=n(883739),X=n(636134),Q=n(83915),ee=n(666337),te=n(228700),ne=n(893190),ae=n(869256),re=n(344848),le=n(758368),ie=n(796961),oe=n(910528),ce=n(849494),se=n(271598),de=n(927809),ue=n(255562),me=n(202784);function pe(){const e=(0,g.Dv)(S.l),t=(0,m.HJ)(),{navigateToTransactionConfirmation:n}=(0,le.t)(t,de.O.TransactionConfirmationScreen),a=(0,g.b9)(o.le),{from:l,to:p}=(0,c.iJ)(),{fromAmount:h}=(0,c.XA)(),{error:b}=(0,c.sn)(),{setFromAmount:E}=(0,c.Zy)(),{explorerTxUrl:f}=(0,re.U)(l.blockchainId),{quoteResponse:k}=(0,c.ir)(),{transaction:y}=(0,c._m)(),{isLoading:w,isError:I,error:T}=(0,c.rx)(),{executeSwap:x}=(0,ne.vz)({from:l,to:p,fromAmount:h,quoteResponse:k}),$=(0,ae.ql)(),C=(0,r.Kx)($?.tokenListEntry),_=C?.symbol,P=(0,ae.pW)(),D=(0,r.Kx)(P?.tokenListEntry),L=D?.symbol,F=(0,c.V3)(),M=(0,X.ar)(),N=(0,g.Dv)(i.uV),z=(0,s.gI)(l.blockchainId),{data:R}=(0,U.aM)(r.lB,{skip:!l.mint||!z,variables:{address:l.mint,caip2:z}}),B=(0,X.W1)();if(!h||!p||h.lte(0))return null;if(I||b)return me.createElement(d.FA,{my:8,animation:"quick",enterStyle:{opacity:0,scale:.95},opacity:1,scale:1},me.createElement(v.x,{color:"red",disabled:!0,label:b??T.message??u.ag._({id:"lrdX8z"}),onPress:()=>{}}));const O=h&&!w&&null!==k;return me.createElement(d.FA,{my:8,animation:"quick",enterStyle:{opacity:0,scale:.95},opacity:1,scale:1},me.createElement(v.x,{variant:"primary",onPress:async t=>{if(t?.preventDefault(),null===k)throw new Error(u.ag._({id:"RzkzGy"}));if(null===p)throw new Error(u.ag._({id:"p+IA3T"}));const r=t=>{if(k.kind===ee.vH.LiFi){const{txid:e}=t.data;return(0,te.G3)(e)}{const{quoteId:n}=k.data,{txid:a}=t.data;return e.transferUrl(n,a)}},i=e=>{window.open(r(e))},o=e=>me.createElement(d.FA,{key:e,gap:"$4",paddingVertical:"$4",justifyContent:"center"},$&&h?me.createElement(d.FA,{gap:"$3"},me.createElement(d.sL,{justifyContent:"center"},me.createElement(se.rp,{amount:(0,Z.Ou)(h,C.decimals),symbol:C?.symbol??"",icon:me.createElement(ie.O,{radius:"$circular",size:30,image:C?.logo||Y.rI})})),me.createElement(A.q,{textAlign:"center"},u.ag._({id:"sQv06Y"})),me.createElement(d.sL,{justifyContent:"center"},me.createElement(ue.FI,{logo:D?.logo??Y.rI,symbol:D?.symbol,decimals:D?.decimals??0,amount:F?.outAmountBigNumber()??oe.O$.from(0)}))):me.createElement(d.FA,{gap:"$3"},me.createElement(A.q,{textAlign:"center"},_?u.ag._({id:"JuOW2z",values:{fromSymbol:_}}):u.ag._({id:"P4Kg8P"})),me.createElement(d.sL,{justifyContent:"center"},me.createElement(ue.FI,{logo:D?.logo??Y.rI,symbol:D?.symbol,decimals:D?.decimals??0,amount:F?.outAmountBigNumber()??oe.O$.from(0)}))));try{n({title:u.ag._({id:"TzarJw"}),sendTransaction:async()=>{const e=Date.now(),t=Math.random().toString(36).substr(2,9),n=await x(y??void 0),i=(n.kind,ee.gZ.LiFi,n.data.txid),o=n.kind===ee.gZ.Wormhole?n.data.messageHash:void 0,c=n.kind===ee.gZ.Wormhole?n.data.sourceDomain:void 0,s=!!o,d=N.find((e=>e.blockchainId===l.blockchainId)),u=N.find((e=>e.blockchainId===p.blockchainId)),m=k.data,g=k.kind===ee.vH.Wormhole?m.quote.eta:void 0,b=g?e+g:void 0,E={id:`bridge-${e}-${t}`,timestamp:e,status:s?"burned":"pending_burn",retry_count:0,quoteId:m.quoteId,fromBlockchain:d?.name||l.blockchainId,toBlockchain:u?.name||p.blockchainId,fromBlockchainId:l.blockchainId,toBlockchainId:p.blockchainId,fromTokenSymbol:_||"",toTokenSymbol:L||_||"",amount:h&&C?.decimals?ce.bM(h,C.decimals):"0",toAmount:P?F?.outAmount(P)??void 0:void 0,fromAddress:l.walletPublicKey,toAddress:p.walletPublicKey,explorerUrl:r(n),estimatedCompletionTime:b,burn_tx_hash:i,txHash:i,...s&&{message_hash:o,sourceDomain:c,burned_at:e}};return a(E),n},prepend:[o],status:(e,t)=>"done"===e?u.ag._({id:"6xV+qx"}):t[e],confirmTransaction:async()=>!0,onConfirmation:async e=>{const t=ce.bM(h??"",C?.decimals);E(null);const n=R?.tokenMarketPrice?parseFloat(t)*R?.tokenMarketPrice:void 0,a=(e.kind,ee.gZ.LiFi,e.data.txid),r=(0,J.qZ)(l.blockchainId);if(a&&!r?.isTestnet)try{const r=F?.outAmountBigNumber(),i=r?parseFloat(ce.bM(r,D?.decimals)):0,o=k.data?.slippageBps;await B({fromAmount:parseFloat(t),fromCaip2:l.caip2,fromMint:l.mint,fromSymbol:_||"",hash:a,success:!0,swapType:e.kind,toAmount:i,toCaip2:p.caip2,toMint:p.mint,toSymbol:L||"",slippage:o?o/100:void 0,usdValue:n})}catch(e){console.error("Failed to insert swap row:",e)}},onClose:e=>{e.popToTop()},onOpenExplorer:i})}catch(t){const e=N.find((e=>e.blockchainId===l.blockchainId))?.name;M(Q.G.SwapError,{blockchainId:l.blockchainId,blockchainName:e,fromMint:l.mint,fromSymbol:_,fromAmount:h?.toString(),toMint:p.mint,error:String(t)})}},label:w?u.ag._({id:"ptjxTJ"}):u.ag._({id:"+e2XZO"}),testID:O?G.b1:void 0,disabled:!O}))}var ge=n(202784);function he(e){const t=(0,s.rT)(),n=(0,s.gI)(t.blockchainId);return(0,a.kJ)(r.v6,{fetchPolicy:"cache-first",returnPartialData:!1,variables:{address:t.publicKey,caip2:n}}),ge.createElement(b.L,null,ge.createElement(c.G_,null,ge.createElement(be,{wallet:t,caip2:n})))}function be({wallet:e,caip2:t}){return ge.createElement(d.FA,{flex:1,style:{overflowX:"hidden"}},ge.createElement(Ee,{wallet:e,caip2:t}),ge.createElement(fe,null),ge.createElement(ve,null))}function Ee({wallet:e,caip2:t}){const{to:n,from:a}=(0,c.iJ)(),{setTo:r,setFrom:s}=(0,c.Zy)(),d=(0,m.rG)(),u=(0,g.Dv)(o.DZ),p=(0,g.b9)(o.zz),b=(0,h.useRef)(a.walletPublicKey),E=(0,h.useRef)(n?.walletPublicKey),f=(0,h.useRef)(n?.blockchainId),k=(0,h.useRef)(null),y=(0,h.useRef)(!1),v=(0,g.Dv)(i.uV);return(0,h.useEffect)((()=>{if(!d)return;const e=b.current!==a.walletPublicKey,t=l.zp[a.blockchainId];if(!t||y.current&&!e||a.mint!==t&&(s({...a,mint:t}),y.current=!0),e){const e=`${a.blockchainId}:${a.walletPublicKey}`,t=u[e];if(t){const e=Object.values(v).find((e=>e.blockchainId===t.blockchainId));e&&r({id:"",walletPublicKey:t.walletPublicKey,mint:e.gasCurrencyAddress,blockchain:e.blockchain,blockchainId:t.blockchainId,caip2:{namespace:e.caip2Namespace,reference:e.caip2Reference}})}b.current=a.walletPublicKey}}),[d,a,a.walletPublicKey,a.blockchainId,a.mint,u,v,r,s]),(0,h.useEffect)((()=>{if(!d)return;const e=n&&E.current!==n.walletPublicKey,t=n&&f.current!==n.blockchainId;if(n&&(e||t)){const e=Object.values(v).find((e=>e.blockchainId===n.blockchainId));!e||n.mint&&""!==n.mint||r({...n,mint:e.gasCurrencyAddress}),E.current=n.walletPublicKey,f.current=n.blockchainId}}),[d,n,n?.walletPublicKey,n?.blockchainId,v,r]),(0,h.useEffect)((()=>{if(n&&n.blockchainId!==a.blockchainId){const e=`${n.blockchainId}:${n.walletPublicKey}`;if(k.current!==e){const t=`${a.blockchainId}:${a.walletPublicKey}`;p({fromWalletKey:t,destination:{blockchainId:n.blockchainId,walletPublicKey:n.walletPublicKey}}),k.current=e}}else k.current=null}),[n,n?.blockchainId,n?.walletPublicKey,a.blockchainId,a.walletPublicKey,p]),(0,m.Ym)((0,h.useCallback)((()=>{if(!a){const n=l.zp[e.blockchainId];s({id:"",walletPublicKey:e.publicKey,mint:n||"",blockchain:e.blockchain,blockchainId:e.blockchainId,caip2:t})}}),[e.blockchainId,e.publicKey,e.blockchain,t,a,s])),null}function fe(){const{to:e,from:t}=(0,c.iJ)(),{fromAmount:n}=(0,c.XA)(),a=!!e&&e.blockchainId!==t.blockchainId,r=n&&e&&n.gt(0)&&e.mint&&""!==e.mint&&a,l=(0,g.Dv)((0,i.I5)(t.blockchainId)),o=l?.name||"Unknown",s=u.ag._({id:"TL0zXo",values:{networkConfigName:o}});return ge.createElement(d.FA,{id:"bridge-screen-container",flex:1,style:{overflowY:"auto"},pb:r?56:0},ge.createElement(d.FA,{position:"relative"},ge.createElement(d.FA,{my:"$2",mx:"$4",animation:"quick",enterStyle:{opacity:0,y:-10},opacity:1,y:0},ge.createElement(y.Z,{label:s})),ge.createElement(ye,null)),ge.createElement(ke,{hasDestination:a}))}function ke({hasDestination:e}){const t=(0,m.HJ)(),{to:n,from:a}=(0,c.iJ)(),r=(0,g.Dv)((0,i.I5)(n?.blockchainId??a.blockchainId)),l=(0,h.useCallback)((()=>{t.push(E.Routes.BridgeToWalletSelectScreen)}),[t]);if(!e||!n)return ge.createElement(d.FA,{position:"relative",pb:"$1",mx:"$4",animation:"quick",enterStyle:{opacity:0,y:10},opacity:1,y:0},ge.createElement(d.FA,{gap:"$2"},ge.createElement(d.FA,{backgroundColor:"$baseBackgroundL1",borderRadius:"$3",height:115,justifyContent:"center",px:"$4"},ge.createElement(d.FA,null,ge.createElement(v.x,{variant:"primary",label:u.ag._({id:"hIvHKj"}),onPress:l}))),ge.createElement(V,null)));const o=r?.name||"Unknown",s=u.ag._({id:"JXVWU2",values:{networkConfigName:o}});return ge.createElement(d.FA,{position:"relative",pb:"$1",mx:"$4",animation:"quick",enterStyle:{opacity:0,y:10},opacity:1,y:0},ge.createElement(d.FA,{gap:"$2"},ge.createElement(k.Z,{label:s}),ge.createElement(f.a,null),ge.createElement(V,null)))}function ye(){return ge.createElement(d.FA,{position:"absolute",left:"51%",bottom:"$1",transform:[{translateX:-25},{translateY:"50%"}],width:"$7",height:"$7",justifyContent:"center",alignItems:"center",backgroundColor:"$baseBackgroundL0",borderRadius:"$7",zIndex:1},ge.createElement(p.K,{size:20,color:"$baseIcon"}))}function ve(){const{to:e,from:t}=(0,c.iJ)(),{fromAmount:n}=(0,c.XA)(),a=!!e&&e.blockchainId!==t.blockchainId,r=n&&n.gt(0)&&a&&""!==e?.mint;return ge.createElement(d.FA,{bottom:0,bg:"$baseBackgroundL0",px:"$4",style:{position:"fixed",visibility:r?"visible":"hidden",width:"100vw"}},ge.createElement(d.FA,{display:r?"flex":"none"},ge.createElement(pe,null)))}},678955:(e,t,n)=>{n.d(t,{y:()=>P});var a=n(371541),r=n(457246),l=n(527159),i=n(817967),o=n(476265),c=n(202784),s=n(496075),d=n(66046),u=n(495320),m=n(242033),p=n(489911),g=n(602327),h=n(168547),b=n(227443),E=n(468186),f=n(959523),k=n(337288),y=n(382740),v=n(908236),w=n(512788),I=n(187254),T=n(400752),x=n(997246),$=n(598416),S=n(710224),A=n(6166),C=n(646704),_=n(202784);function P(e){return _.createElement(S.X,{loading:_.createElement(M,null)},_.createElement(D,e))}function D({navigation:e}){const{from:t,to:n}=(0,E.iJ)(),{setTo:a}=(0,E.Zy)(),r=(0,T.Dv)(u.LE),l=(0,T.Dv)(d.uV),m=(0,T.Dv)(g.DZ),f=(0,T.b9)(p.Wn),y=(0,T.b9)(p.ef),v=(0,T.b9)(p.zY),w=(0,T.b9)(p.Yt),I=(0,T.b9)(h.p),x=(0,T.b9)(b.jp),S=(0,c.useMemo)((()=>{const e=new Set(r.map((e=>e.blockchainId))),n=Object.values(l).filter((e=>!(!e.wormholeChainId&&!e.lifiChainId||e.blockchainId===t.blockchainId||t.blockchainId===i.Ek.SUI_MAINNET&&e.blockchainId===i.Ek.PLASMA_MAINNET||t.blockchainId===i.Ek.PLASMA_MAINNET&&e.blockchainId===i.Ek.SUI_MAINNET))),a=n.filter((t=>e.has(t.blockchainId))),o=n.filter((t=>!e.has(t.blockchainId)));return a.sort(d.GS),o.sort(d.GS),[...a.map((e=>e.blockchainId)),...o.map((e=>e.blockchainId))]}),[l,r,t.blockchainId]),[P,D]=(0,c.useState)((()=>{if(n?.blockchainId&&S.includes(n.blockchainId))return n.blockchainId;const e=`${t.blockchainId}:${t.walletPublicKey}`,a=m[e];return a?.blockchainId&&S.includes(a.blockchainId)?a.blockchainId:S[0]})),M=(0,c.useMemo)((()=>r.filter((e=>e.blockchainId===P&&"view-only"!==e.info.type)).sort(((e,t)=>(e.info.name||"").localeCompare(t.info.name||"",void 0,{numeric:!0,sensitivity:"base",ignorePunctuation:!0})))),[r,P]),N=(0,c.useCallback)((t=>{const r=Object.values(l).find((e=>e.blockchainId===t.blockchainId));r&&(a({...n,id:n?.id??"",blockchain:r.blockchain,blockchainId:t.blockchainId,walletPublicKey:t.publicKey,caip2:{namespace:r.caip2Namespace,reference:r.caip2Reference},mint:""}),x((e=>{const n=e.filter((e=>!(e.publicKey===t.publicKey&&e.blockchainId===t.blockchainId)));return[{publicKey:t.publicKey,blockchainId:t.blockchainId},...n]})),e.goBack())}),[l,e,x,a,n]),z=(0,c.useCallback)((e=>{D(e)}),[]),R=(0,c.useCallback)((async()=>{const t=Object.values(l).find((e=>e.blockchainId===P));if(!t)return;const n=[{blockchain:t.blockchain,networkIds:[P],walletTypes:[]}].map((e=>(0,A.rH)(e.blockchain,e.networkIds))).flat();await y({flowEntrypoint:o.g1.ADD_WALLET,isAddingAccount:!1,skipSettingActivePublicKey:!0}),await v(n),await f({explicitNextRoute:o.MG.SelectDescriptorType});const a=await I();await w(a.allSelectionsWithAutoselectedWalletTypes),a.needManualSelectWalletTypes?(await f({explicitNextRoute:o.MG.SelectDescriptorType}),e.navigate(C.p.ImportWalletNavigator,{screen:o.MG.SelectWalletType})):e.navigate(C.p.ImportWalletNavigator,{screen:o.MG.SelectDescriptorType})}),[l,P,v,w,e,I,f,y]),B=(0,c.useCallback)((e=>`${e.blockchainId}-${e.publicKey}`),[]),O=(0,c.useCallback)((({item:e})=>_.createElement(F,{wallet:e,onClick:()=>N(e)})),[N]);return _.createElement(k.FA,{f:1},_.createElement(k.FA,{gap:16,mb:8},S.length>1?_.createElement($.e,{blockchainIds:S,filter:P,setFilter:z,useSupportedNetworks:!0}):null),0===M.length?_.createElement(L,{blockchainFilter:P,onClickAddWallet:R}):_.createElement(s.default,{contentContainerStyle:{paddingBottom:16},numColumns:1,data:M,keyExtractor:B,renderItem:O,showsVerticalScrollIndicator:!1}))}function L({blockchainFilter:e,onClickAddWallet:t}){const n=(0,T.Dv)((0,d.I5)(e)),a=(0,r.LF)(n.name);return _.createElement(k.FA,{f:1,jc:"space-between"},_.createElement(k.FA,null,_.createElement(k.FA,{backgroundColor:"$baseBackgroundL1",borderRadius:"$4",padding:"$4",margin:"$4",gap:"$4",ai:"center"},_.createElement(l._,{id:e,size:64}),_.createElement(k.FA,{gap:"$2",ai:"center"},_.createElement(y.q,{fontSize:"$lg",fontWeight:"600",color:"$baseTextHighEmphasis",textAlign:"center"},I.ag._({id:"RQeFJW",values:{networkName:a}})),_.createElement(y.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",textAlign:"center",maxWidth:280},I.ag._({id:"L+Bu7S",values:{networkName:a}}))))),_.createElement(k.FA,{px:"$4",pb:"$4"},_.createElement(x.x,{variant:"primary",label:I.ag._({id:"RQeFJW",values:{networkName:a}}),onPress:t})))}function F({wallet:e,onClick:t}){const n=(0,f.G)((0,m.xC)({blockchainId:e.blockchainId,publicKey:e.publicKey})),i=(0,T.Dv)((0,d.I5)(e.blockchainId)),o="hasData"===n.state?n.data.info.name:(0,a.R1)(e.publicKey),c=(0,a.R1)(e.publicKey);return _.createElement(v._,{hoverTheme:!0,backgroundColor:"$colorTransparent",px:16,py:12,pointerEvents:"box-none"},_.createElement(k.sL,{f:1,ai:"center",gap:"$3",onPress:t,cursor:"pointer",pointerEvents:"auto"},_.createElement(k.FA,{width:44,height:44,borderRadius:"$circular",alignItems:"center",justifyContent:"center",backgroundColor:"$baseBackgroundL1"},_.createElement(l._,{id:e.blockchainId,size:28})),_.createElement(k.FA,{f:1},_.createElement(k.sL,{f:1,ai:"center",justifyContent:"space-between",overflow:"hidden"},_.createElement(k.FA,{flex:1,pr:"$4",overflow:"hidden"},_.createElement(y.q,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o),_.createElement(k.sL,{gap:"$2",alignItems:"center"},_.createElement(y.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},c),_.createElement(y.q,{fontSize:"$xs",color:"$baseTextMedEmphasis"},""),_.createElement(y.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},(0,r.LF)(i.name))))))))}function M(){return _.createElement(N,null)}function N(){return _.createElement(k.FA,{f:1,px:16},_.createElement(k.FA,{gap:16,mb:12},_.createElement(w.O,{height:40,radius:8})),_.createElement(k.FA,{gap:4},Array.from({length:6}).map(((e,t)=>_.createElement(z,{key:t})))))}function z(){return _.createElement(k.sL,{ai:"center",gap:"$3",px:16,py:12},_.createElement(w.O,{height:44,width:44,radius:22}),_.createElement(k.FA,{f:1,gap:"$1"},_.createElement(w.O,{height:16,width:120,radius:8}),_.createElement(w.O,{height:12,width:180,radius:8})))}},657435:(e,t,n)=>{n.d(t,{a:()=>$});var a=n(202784),r=n(707876),l=n(531518),i=n(152010),o=n(468186),c=n(869256),s=n(886491),d=n(632419),u=n(337288),m=n(59727),p=n(382740),g=n(540175),h=n(187254),b=n(954782),E=n(623749),f=n(817967),k=n(202784);const y={cursor:"help"},v={cursor:"help"},w="\n  @keyframes shimmer {\n    0% { background-position: -200% center; }\n    100% { background-position: 200% center; }\n  }\n  @keyframes pulse {\n    0%, 100% { transform: scale(1); }\n    50% { transform: scale(1.1); }\n  }\n  .shimmer-text {\n    font-weight: 600;\n    background: linear-gradient(90deg, #22c55e 0%, #4ade80 25%, #86efac 50%, #4ade80 75%, #22c55e 100%);\n    background-size: 200% auto;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n    animation: shimmer 3s linear infinite;\n  }\n  .pulse-sparkle {\n    animation: pulse 2s ease-in-out infinite;\n  }\n";function I(){return k.createElement(k.Fragment,null,k.createElement("style",null,w),k.createElement(u.sL,{ai:"center",gap:5},k.createElement(m.Kq,{className:"pulse-sparkle"},k.createElement(b.D,{size:14,color:"$greenText"})),k.createElement(p.q,{fontSize:"$sm",className:"shimmer-text"},"0%")))}function T({providerId:e,isTitan:t,isLiFi:n,providerLogoURI:a}){const r=(0,s.y)(e);return t||n?t?r?k.createElement(u.sL,{ai:"center",gap:"$2"},k.createElement(g.u,null,k.createElement(g.u.Trigger,null,k.createElement("img",{height:"auto",width:14,alt:e,src:r,style:y})),k.createElement(g.u.Content,{enterStyle:{x:0,y:-5,opacity:0,scale:.9},exitStyle:{x:0,y:-5,opacity:0,scale:.9},scale:1,x:0,y:0,opacity:1,animation:["quick",{opacity:{overshootClamping:!0}}]},k.createElement(g.u.Arrow,null),k.createElement(p.q,{fontSize:"$2",lineHeight:"$1"},e))),k.createElement(p.q,{fontSize:"$sm"},"via Titan")):k.createElement(p.q,{fontSize:"$sm"},e," via Titan"):n?a?k.createElement(u.sL,{ai:"center",gap:"$2"},k.createElement(g.u,null,k.createElement(g.u.Trigger,null,k.createElement("img",{height:"auto",width:18,alt:e,src:a,style:v})),k.createElement(g.u.Content,{enterStyle:{x:0,y:-5,opacity:0,scale:.9},exitStyle:{x:0,y:-5,opacity:0,scale:.9},scale:1,x:0,y:0,opacity:1,animation:["quick",{opacity:{overshootClamping:!0}}]},k.createElement(g.u.Arrow,null),k.createElement(p.q,{fontSize:"$2",lineHeight:"$1"},e))),k.createElement(p.q,{fontSize:"$sm"},"via LI.FI")):k.createElement(p.q,{fontSize:"$sm"},e," via LI.FI"):k.createElement(p.q,{fontSize:"$sm"},e):k.createElement(p.q,{fontSize:"$sm"},e)}function x({type:e,label:t,hasSwapFee:n}){return"rate"===e?k.createElement(u.sL,{ai:"center",gap:"$1"},k.createElement(p.q,{flex:0,fontSize:"$sm",color:"$baseTextMedEmphasis",textAlign:"right",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},t),n?k.createElement(g.u,null,k.createElement(g.u.Trigger,null,k.createElement(E.k,{color:"$baseTextMedEmphasis",height:"14px",width:"14px",cursor:"help"})),k.createElement(g.u.Content,{enterStyle:{x:0,y:-5,opacity:0,scale:.9},exitStyle:{x:0,y:-5,opacity:0,scale:.9},scale:1,x:0,y:0,opacity:1,animation:["quick",{opacity:{overshootClamping:!0}}]},k.createElement(g.u.Arrow,null),k.createElement(p.q,{fontSize:"$2",lineHeight:"$1"},h.ag._({id:"iHw/zN"})))):null):k.createElement(p.q,{flex:0,fontSize:"$sm",color:"$baseTextMedEmphasis",textAlign:"right",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},t)}function $(){const{fromAmount:e}=(0,o.XA)(),{from:t,to:n}=(0,o.iJ)(),s=(0,o.V3)(),{isError:m}=(0,o.rx)(),g=(0,c.ql)(),b=(0,c.pW)(),E=s?.outAmountBigNumber(),y=s?.swapFee(),v=Boolean(y?.feeBps&&y.feeBps>0),{bridgeOptions:w}=(0,o.Ci)(),$=w&&w.length>1,{isBackpackZeroFeeEnabled:S,isBackpackZeroFeeSolanaEnabled:A}=(0,d.y)(),C=t?.blockchainId===f.Ek.SOLANA_MAINNET||n?.blockchainId===f.Ek.SOLANA_MAINNET,_=S||A&&C,P=e?.gt(0)&&b&&!m&&!s,D=(0,a.useMemo)((()=>{const t=[];if(!g||!b||!e||e.eq(0))return t;_&&t.push({label:h.ag._({id:"UdzPV1"}),value:k.createElement(I,null),type:"fee"});const n=s?.exchangeRate({fromAmount:e,toAmount:s.outAmountBigNumber(),fromToken:g,toToken:b});if(t.push({label:h.ag._({id:"fqDzSu"}),value:`1 ${(0,i.Kx)(g.tokenListEntry)?.symbol}  ${n?.substring(0,10)} ${(0,i.Kx)(b.tokenListEntry)?.symbol}`,type:"rate"}),!$){t.push({label:h.ag._({id:"4E5bBq"}),value:(()=>{const e=s?.providerId();if(!e)return"-";const t=s?.isTitan?.()??!1,n=s?.isLiFi?.()??!1,a=s?.providerLogoURI?.();return k.createElement(T,{providerId:e,isTitan:t,isLiFi:n,providerLogoURI:a})})(),type:"router"});const e=s?.estimatedTime();e&&t.push({label:h.ag._({id:"HuMSOR"}),value:e,type:"time"})}return t}),[e,g,s,b,$,_]);return s||E||P?k.createElement(u.FA,{gap:"$2",animation:"quick",enterStyle:{opacity:0,y:-10},opacity:1,y:0},$?k.createElement(r.pu,null):null,k.createElement(u.FA,{backgroundColor:"$baseBackgroundL0",borderRadius:"$3",overflow:"hidden"},D.map((({label:e,value:t,type:n},a)=>k.createElement(u.sL,{minHeight:42,key:e,jc:"space-between",py:"$3",px:"$4",backgroundColor:"$baseBackgroundL1",borderBottomWidth:a<D.length-1?1:0,borderBottomColor:"$baseBackgroundL3"},k.createElement(x,{type:n,label:e,hasSwapFee:v}),P?k.createElement(l.m,{width:90,height:16}):"fee"===n?t:k.createElement(p.q,{flex:0,fontSize:"$sm",color:"time"===n?"$greenText":"$baseTextHighEmphasis",textAlign:"right",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},t)))))):null}},329396:(e,t,n)=>{n.d(t,{Z:()=>L});var a=n(202784),r=n(220026),l=n(817967),i=n(371541),o=n(527159),c=n(152010),s=n(127942),d=n(66046),u=n(242033),m=n(666337),p=n(959523),g=n(893190),h=n(468186),b=n(869256),E=n(326951),f=n(337288),k=n(382740),y=n(886526),v=n(187254),w=n(855452),I=n(304235),T=n(733095),x=n(400752),$=n(817),S=n(302759),A=n(25670);function C({label:e}={}){const t=(0,w.mV)(),n=(0,I.HJ)(),{to:r,from:o}=(0,h.iJ)(),{fromAmount:u}=(0,h.XA)(),{error:p}=(0,h.sn)(),{setError:k}=(0,h.Zy)(),{balances:y}=(0,g.gK)(r??o),T=(0,b.pW)(),A=(0,b.ZL)(),[C,L]=(0,a.useState)(null);(0,a.useEffect)((()=>{r?.mint?T&&L(T):L(null)}),[T,r?.mint]);const F=T??C,{quoteResponse:M}=(0,h.ir)(),N=(0,h.V3)(),{isLoading:z}=(0,h.rx)(),R=(0,E.F)(),B=r?.blockchain===l.$O.SOLANA?6:18,O=(0,c.Kx)(F?.tokenListEntry),[q,W]=(0,a.useState)(O?.decimals??B),K=(0,x.Dv)((0,d.I5)(o.blockchainId)),j=r&&r.blockchainId!==o.blockchainId;(0,a.useEffect)((()=>{M?.kind===m.vH.Ethereum&&!1===M.data.liquidityAvailable&&k(v.ag._({id:"pwMfxE"}))}),[M,p,k]);const H=F?.token===s.e_?K.gasCurrencyAddress:F?.token,V=y.find((e=>e.token===H)),U=Number(V?.displayAmount),G=i.eO.format({amount:U,locale:t.i18n.locale,maximumFractionDigits:Number(V?.displayAmount)>.01?2:4,fractionStyle:"SUBSCRIPT_ZERO_COUNT",largeNumberStyle:"TRUNCATED_WITH_LETTER"}),Z=U>0?G:"0.0",Y=u&&u.gt(0)&&T&&!z&&!A?N?.outAmount(T):"",J=(0,a.useMemo)((()=>{if(!Y||""===Y||"0"===Y)return Y;const e=parseFloat(Y);if(isNaN(e))return Y;const t=Math.min(q,9);return e.toFixed(t).replace(/\.?0+$/,"")}),[Y,q]);(0,a.useEffect)((()=>{const e=O?.decimals;void 0!==e&&W(Math.max(B,e))}),[F?.token,O?.decimals,B]);const X=z||A;return a.createElement(S.K,{hasError:!!p,pt:"$1",pb:"$2",br:"$3",bg:"$baseBackgroundL1",style:{minHeight:115}},a.createElement(_,{displayBalance:Z,label:e}),a.createElement(P,{displayValue:(0,i.Mk)(J??"",q),rawValue:Y??"",isLoading:X,to:r,theme:R,toToken:F}),r?.blockchainId&&r?.blockchainId!==o?.blockchainId?a.createElement(f.sL,{br:"$3",bg:"$baseBackgroundL1",alignSelf:"center",mt:"$3",overflow:"hidden"},a.createElement(D,{onClick:()=>{j?n.push($.Routes.BridgeToWalletSelectScreen):n.push($.Routes.SwapToWalletSelectScreen)},to:r??o})):null)}function _({displayBalance:e,label:t}){return a.createElement(f.FA,{cursor:"default",mt:"$2",jc:"space-between"},a.createElement(f.sL,{gap:"$1",f:1,mb:"$1",ai:"flex-end",jc:"space-between",flexWrap:"nowrap"},a.createElement(k.q,{fontSize:"$sm",color:"$baseTextHighEmphasis"},t??v.ag._({id:"qiOIiY"})),a.createElement(f.sL,{alignSelf:"flex-start",jc:"flex-start",ai:"flex-end",flexWrap:"wrap"},a.createElement(k.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},v.ag._({id:"0QDjxt"})," "),a.createElement(k.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},e??"0"))))}function P({displayValue:e,rawValue:t,isLoading:n,to:l,theme:i,toToken:o}){return a.createElement(f.FA,{opacity:n?.4:1},a.createElement(f.sL,{ai:"center",bc:"$baseBackgroundL1",br:"$3",jc:"space-between",gap:"$2",f:1,minWidth:0},a.createElement(y.II,{cursor:"default",value:e,editable:!1,keyboardType:"numeric",placeholder:"0",backgroundColor:"transparent",borderWidth:0,py:"$3",px:0,borderRadius:0,textOverflow:"clip",whiteSpace:"nowrap",focusStyle:{outlineStyle:"none",outlineColor:"transparent",borderWidth:0,backgroundColor:"transparent"},hoverStyle:{outlineStyle:"none",outlineColor:"transparent",borderWidth:0},style:{fontSize:(e=>{if("0"===e||e.length<=8)return 26;const t=2*(e.length-8);return Math.max(26-t,16)})(e),fontFamily:"inter",fontWeight:"500",color:`${i.baseTextHighEmphasis.val}`,flex:1}}),a.createElement(S.Z,{token:o,input:!1,isFromMint:!1,testID:r.uF})),a.createElement(f.sL,{ai:"flex-end",mt:"$1",justifyContent:"space-between"},a.createElement(A.s,{blockchainId:l?.blockchainId,tokenAmount:t,tokenAddress:o?.token??""})))}function D({onClick:e,to:{blockchainId:t,walletPublicKey:n}}){const r=(0,p.G)((0,u.xC)({blockchainId:t,publicKey:n})),l="hasData"===r.state?r.data.info.name:v.ag._({id:"AuU+lZ"}),c=(0,i.R1)(n);return a.createElement("div",{onClick:e},a.createElement(f.sL,{ai:"center",py:"$1",px:"$2",br:"$4",bc:"$baseBackgroundL0",gap:"$2",hoverStyle:{cursor:"pointer",opacity:.8}},a.createElement(o._,{id:t,size:14}),a.createElement(f.sL,{gap:"$2",f:1,minWidth:0},a.createElement(k.q,{fontSize:"$xs",numberOfLines:1,ellipsizeMode:"middle",style:{maxWidth:120,flexShrink:1}},l),a.createElement(k.q,{fontSize:"$xs",color:"$baseTextMedEmphasis"},`(${c})`)),a.createElement(T._,{size:"$4",color:"$baseIcon"})))}const L=a.memo(C,((e,t)=>e?.label===t?.label))},17573:(e,t,n)=>{n.d(t,{Z:()=>N});var a=n(202784),r=n(152010),l=n(127942),i=n(220026),o=n(371541),c=n(66046),s=n(392278),d=n(636134),u=n(83915),m=n(541214),p=n(893190),g=n(869256),h=n(468186),b=n(326951),E=n(337288),f=n(382740),k=n(59727),y=n(886526),v=n(747401),w=n(187254),I=n(910528),T=n(849494),x=n(400752),$=n(531518),S=n(855452),A=n(202784);const C=({from:e,fromToken:t})=>{const{balances:n,isLoading:a}=(0,p.gK)(e),i=(0,r.Kx)(t?.tokenListEntry)?.symbol,s=(0,x.Dv)((0,c.I5)(e.blockchainId)),d=(0,S.mV)(),u=t?.token===l.e_?s.gasCurrencyAddress:t?.token,m=n.find((e=>e.token===u)),g=Number(m?.displayAmount),h=o.eO.format({amount:g,locale:d.i18n.locale,maximumFractionDigits:Number(m?.displayAmount)>.01?2:4,fractionStyle:"SUBSCRIPT_ZERO_COUNT",largeNumberStyle:"TRUNCATED_WITH_LETTER"}),b=g>0?h:"0.0";return a?A.createElement($.m,{height:20,width:50}):A.createElement(E.sL,{hoverStyle:{cursor:"pointer"}},A.createElement(f.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},w.ag._({id:"0QDjxt"})," "),A.createElement(f.q,{fontSize:"$sm",color:"$accentBlue"},b," ",i))};var _=n(302759),P=n(25670);const D=I.O$.from(35e5);function L({label:e}={}){const t=(0,b.F)(),n=(0,d.ar)(),i=(0,m.rT)(),E=(0,x.b9)(s.g),[f,k]=(0,a.useState)(""),[y,v]=(0,a.useState)(null),[$,S]=(0,a.useState)(null),{from:A}=(0,h.iJ)(),{fromAmount:C}=(0,h.XA)(),{error:P}=(0,h.sn)(),{setFromAmount:L,setError:N,consumePendingSwapAmount:z}=(0,h.Zy)(),R=(0,g.zy)(),B=(0,g.ql)();(0,a.useEffect)((()=>{B&&S(B),A?.mint||S(null)}),[B,A?.mint]);const O=B??$,q=O?.token??null,W=(0,r.Kx)(O?.tokenListEntry),K=(0,x.Dv)((0,c.I5)(A?.blockchainId??"ethereum")),j=O?.token===l.e_?K.gasCurrencyAddress:q,{balances:H}=(0,p.gK)(A),V=H.find((e=>e.token===j));(0,a.useEffect)((()=>{C||(k(""),v(null))}),[q,C]),(0,a.useEffect)((()=>{const e=z();if(null!==e){const t=T.bM(e.amount,e.decimals);return k((0,o.xA)(t,e.decimals)),void v(null)}k(""),L(null),v(null)}),[i,A]);const U=(0,a.useCallback)((e=>O?.token===K.gasCurrencyAddress?e.gt(D)?e.sub(D):I.O$.from(0):e),[O?.token,K.gasCurrencyAddress]);(0,a.useEffect)((()=>{if(!C||C.isZero())return void N(void 0);if(!V)return void N(w.ag._({id:"17/HZg"}));const e=U(I.O$.from(V.amount)),t=C.gt(e);N(t?w.ag._({id:"17/HZg"}):void 0)}),[V,C,U,N]);const G=e=>{if(n(u.G.SwapPercentageClick,{percentage:e}),!V||!W?.decimals)return;const t=U(I.O$.from(V.amount)).mul(e).div(100),a=T.bM(t,W.decimals);k((0,o.xA)(a,W.decimals)),v(e),(!C||!t.eq(C))&&L(t)};return a.createElement(_.K,{hasError:!!P,pt:"$1",pb:"$2",br:"$3",bg:"$baseBackgroundL1",style:{minHeight:115}},a.createElement(F,{from:A,fromToken:O,onMaxClick:()=>G(100),label:e}),a.createElement(M,{displayAmount:f,handleSetFromAmount:(e,t)=>{if(!t)return;const n=e.replace(/,/g,"");if(new RegExp(`^\\d*([.,]?\\d{0,${t}})$`).test(n)){let e=n.replace(",",".");"."===e&&(e="0."),(e=>{try{const n=T.vz(e||"0",t);n.isNegative()?(k(""),L(null)):(L(n),k((0,o.xA)(e,t)),v(null))}catch(e){console.error("Invalid BigNumber input:",e),L(null)}})(e),k((0,o.xA)(e,t))}},handlePercentageClick:G,activePercentage:y,fromMetadata:W,fromToken:O,from:A,error:P,theme:t,isLoadingFromToken:R,tokenAddress:q,onUsdValueChange:E}))}function F({from:e,fromToken:t,onMaxClick:n,label:r}){return a.createElement(E.sL,{ai:"flex-end",mt:"$2",mb:"$1",jc:"space-between"},a.createElement(f.q,{cursor:"default",display:"inline",fontSize:"$sm",f:1,color:"$baseTextHighEmphasis"},r??w.ag._({id:"xNB0TS"})),a.createElement(k.Kq,{onPress:n},a.createElement(C,{from:e,fromToken:t})))}function M({displayAmount:e,handleSetFromAmount:t,handlePercentageClick:n,activePercentage:r,fromMetadata:l,fromToken:o,from:c,error:s,theme:d,isLoadingFromToken:u,tokenAddress:m,onUsdValueChange:p}){return a.createElement(a.Fragment,null,a.createElement(E.sL,{ai:"center",bc:"$baseBackgroundL1",br:"$3",f:1,jc:"space-between",gap:"$2",minWidth:0},a.createElement(y.II,{placeholder:"0",testID:i.te,value:e,onChangeText:e=>t(e,l?.decimals),size:48,py:"$3",px:0,backgroundColor:"transparent",color:s?d.redText.val:d.baseTextHighEmphasis.val,borderWidth:0,borderRadius:0,textOverflow:"clip",whiteSpace:"nowrap",focusStyle:{outlineStyle:"none",outlineColor:"transparent",borderWidth:0,backgroundColor:"transparent"},hoverStyle:{borderWidth:0,outlineColor:"transparent",outlineStyle:"none"},style:{fontSize:(e=>{if("0"===e||e.length<=8)return 26;const t=2*(e.length-8);return Math.max(26-t,16)})(e),fontFamily:"inter",fontWeight:"500",flex:1}}),a.createElement(_.Z,{token:o,testID:i.Ze,input:!0,isFromMint:!0,isLoading:u})),a.createElement(E.sL,{mt:"$1",ai:"center",jc:"space-between"},a.createElement(P.s,{blockchainId:c.blockchainId,tokenAmount:e.replace(/,/g,""),tokenAddress:m??"",onUsdValueChange:p}),a.createElement(E.sL,{gap:"$2"},[25,50].map((e=>a.createElement(v.zx,{key:e,height:"$4",width:"$5",br:"$3",paddingHorizontal:18,paddingVertical:"$2",style:{backgroundColor:r===e?"$backgroundFocus":"#ffffff1a"},onPress:()=>n(e)},a.createElement(f.q,{color:r===e?"$baseTextHighEmphasis":"$baseTextMedEmphasis",fontSize:"$xs"},e,"%")))))))}const N=a.memo(L,((e,t)=>e?.label===t?.label))},230974:(e,t,n)=>{n.d(t,{$:()=>g});var a=n(202784),r=n(468186),l=n(326951),i=n(337288),o=n(382740),c=n(555150),s=n(886526),d=n(747401),u=n(187254),m=n(267831),p=n(644811);function g(){const e=(0,l.F)(),[t,n]=(0,a.useState)(!1),{slippagePercentage:g}=(0,r.KB)(),{setSlippagePercentage:h}=(0,r.Zy)(),[b,E]=(0,a.useState)(""),[f,k]=(0,a.useState)(!1),[y,v]=(0,a.useState)(-1),w=(0,a.useRef)(null),I=(0,a.useMemo)((()=>["0.3%","0.5%","1%"]),[]);(0,a.useEffect)((()=>{const e=I.findIndex((e=>e===`${g}%`));e>=0?(k(!1),v(e),E("")):(k(!0),v(-1),E(g.toString()))}),[g,I,t]),(0,a.useEffect)((()=>{f&&w.current&&w.current.focus()}),[f]);const T=(0,a.useCallback)((()=>{n(!1)}),[]),x=(0,a.useCallback)((()=>{if(!f&&y>=0){const e=I[y].replace("%",""),t=parseFloat(e);isNaN(t)||h(t)}else if(""!==b){const e=parseFloat(b);!isNaN(e)&&e>=0&&e<=20&&h(e)}n(!1)}),[f,y,I,b,h]),$=(0,a.useCallback)((e=>{if(!e)return void E("");if("."===e)return void E("0.");const t=parseFloat(e);isNaN(t)||t<0||t>20||/^\d{1,2}(?:\.\d{0,2})?$/.test(e)&&E(e)}),[E]);return a.createElement(i.FA,null,a.createElement(i.sL,{paddingRight:"$4",ai:"center",cursor:"pointer",onPress:()=>n(!0)},a.createElement(o.q,{fontSize:"$xs",color:"$baseIcon",mr:"$1"},g,"%"),a.createElement(m.j,{size:"$4",mr:"$1",color:"$baseIcon"})),a.createElement(p.G,{openDrawer:t,setOpenDrawer:n},a.createElement(i.FA,{gap:"$6",py:"$5",px:"$4"},a.createElement(i.FA,{gap:"$2"},a.createElement(o.q,{color:"$baseTextHighEmphasis",fontSize:"$lg",textAlign:"center",fontWeight:"bold"},u.ag._({id:"703xFF"})),a.createElement(o.q,{color:"$baseTextMedEmphasis",textAlign:"center",fontSize:"$sm"},u.ag._({id:"lAVqKw"}))),a.createElement(i.FA,{ai:"center",gap:"$2",width:"100%"},a.createElement(i.sL,{width:"100%",ai:"center"},a.createElement(i.sL,{width:"100%",height:48,backgroundColor:"$baseBackgroundL1",borderRadius:8,overflow:"hidden"},I.map(((e,t)=>a.createElement(a.Fragment,{key:e},t>0?a.createElement(c.Z,{vertical:!0,my:"$2",borderColor:"$baseDivider"}):null,a.createElement(i.sL,{width:"25%",height:"100%",backgroundColor:y!==t||f?"transparent":"$invertedBaseBackgroundL0",ai:"center",jc:"center",onPress:()=>{v(t),k(!1)},cursor:"pointer",pressStyle:{opacity:.8}},a.createElement(o.q,{color:y!==t||f?"$baseTextMedEmphasis":"$invertedBaseTextHighEmphasis",textAlign:"center",fontSize:"$sm"},e))))),a.createElement(c.Z,{my:"$2",vertical:!0,borderColor:"$baseDivider"}),a.createElement(i.sL,{width:"25%",height:"100%",backgroundColor:f?"$invertedBaseBackgroundL0":"transparent",ai:"center",jc:"center",cursor:"pointer",onPress:()=>{k(!0),v(-1)}},f?a.createElement(i.sL,{width:"100%",ai:"center",jc:"center",height:"100%",paddingHorizontal:"$2"},a.createElement(s.II,{ref:w,backgroundColor:"transparent",borderRadius:0,color:"$invertedBaseTextHighEmphasis",fontSize:"$sm",height:"100%",numberOfLines:1,onChangeText:$,paddingHorizontal:"$1",paddingVertical:"$0",flex:1,maxWidth:"60%",value:b,borderColor:"transparent",textAlign:"center",focusStyle:{outlineStyle:"none",borderColor:"transparent"},hoverStyle:{outlineStyle:"none",borderColor:"transparent"}}),a.createElement(o.q,{color:"$invertedBaseTextHighEmphasis",fontSize:"$sm",pointerEvents:"none"},"%")):a.createElement(o.q,{color:"$baseTextMedEmphasis",textAlign:"center",fontSize:"$sm"},u.ag._({id:"8Tg/JR"})))))),a.createElement(i.sL,{gap:"$2",width:"100%"},a.createElement(i.sL,{flex:1},a.createElement(d.zx,{fontSize:"$sm",fontWeight:600,borderRadius:"$2",backgroundColor:"$baseBackgroundL1",color:"$baseTextMedEmphasis",height:48,width:"100%",hoverStyle:{backgroundColor:"$baseBackgroundL2",borderColor:"transparent"},onPress:T},u.ag._({id:"dEgA5A"}))),a.createElement(i.sL,{flex:1},a.createElement(d.zx,{fontSize:"$sm",fontWeight:600,borderRadius:"$2",backgroundColor:"$baseTextHighEmphasis",color:"$baseBackgroundL0",height:48,width:"100%",disabled:f?""===b:-1===y,hoverStyle:{backgroundColor:e.baseTextHighEmphasis.val,borderColor:"transparent",opacity:.8},onPress:x},u.ag._({id:"7VpPHA"})))))))}},255562:(e,t,n)=>{n.d(t,{FI:()=>$e,CK:()=>fe,Ex:()=>ve});var a=n(71553),r=n(156675),l=n(924432),i=n(817967),o=n(220026),c=n(457246),s=n(44171),d=n(707876),u=n(152010),m=n(883739),p=n(636134),g=n(83915),h=n(66046),b=n(468186),E=n(666337),f=n(228700),k=n(541214),y=n(893190),v=n(869256),w=n(344848),I=n(758368),T=n(337288),x=n(512788),$=n(796961),S=n(382740),A=n(825629),C=n(187254),_=n(304235),P=n(156907),D=n(910528),L=n(849494),F=n(400752),M=n(202784),N=n(416242),z=n(271598),R=n(927809),B=n(997246),O=n(657435),q=n(329396),W=n(17573),K=n(496075),j=n(371541),H=n(531518),V=n(181956),U=n(59727),G=n(326951),Z=n(485616),Y=n(43969),J=n(584109),X=n(528521),Q=n(212600),ee=n(846917),te=n(216125),ne=n(239263),ae=n(578623),re=n(623749),le=n(644811),ie=n(817),oe=n(202784);const ce=100,se=()=>[{key:"default",label:C.ag._({id:"4/iCqx"}),icon:Z.k},{key:"marketcap",label:C.ag._({id:"5N3b5J"}),icon:Y.u},{key:"change",label:C.ag._({id:"YZSIM3"}),icon:J.g},{key:"price",label:C.ag._({id:"a7u1N9"}),icon:X.X},{key:"volume",label:C.ag._({id:"/cF7Rs"}),icon:Q.G}],de=(e,t)=>`${e.id}-${t}`;function ue({index:e}){return oe.createElement(T.sL,{backgroundColor:"$baseBackgroundL1",borderRadius:"$3",gap:"$2",mx:"$1",py:"$3",px:"$2",alignItems:"center",key:`skeleton-${e}`},oe.createElement(T.FA,{justifyContent:"center",alignItems:"center"},oe.createElement(H.m,{width:32,height:32,br:16})),oe.createElement(T.FA,{flex:1,justifyContent:"center",gap:"$1"},oe.createElement(H.m,{height:16,width:120}),oe.createElement(H.m,{height:12,width:80})),oe.createElement(T.FA,{ml:"auto",alignItems:"flex-end",gap:"$1"},oe.createElement(H.m,{height:16,width:60}),oe.createElement(H.m,{height:12,width:40})),oe.createElement(H.m,{width:20,height:20,br:12}))}function me({onFilterPress:e,onDirectionToggle:t,sortOption:n}){const{label:a,direction:r}=(e=>{if("default"===e||"default_desc"===e)return{label:C.ag._({id:"4/iCqx"}),direction:"desc"};if("default_asc"===e)return{label:C.ag._({id:"4/iCqx"}),direction:"asc"};const t=e.split("_"),n=t[0],a=t[1]||"desc",r=se().find((e=>e.key===n));return{label:r?.label||C.ag._({id:"4/iCqx"}),direction:a}})(n);return oe.createElement(T.sL,{mx:"$1",ai:"center",justifyContent:"space-between"},oe.createElement(T.sL,{gap:"$2",ai:"center"},oe.createElement(S.q,{fontSize:"$lg"},C.ag._({id:"oinqZ4"})),oe.createElement(Z.k,{color:"$baseIcon"})),oe.createElement(T.sL,{ai:"center",gap:"$3"},oe.createElement(U.Kq,{onPress:e,cursor:"pointer",hoverStyle:{opacity:A.IPZ},pressStyle:{opacity:A.IPZ-.1}},oe.createElement(S.q,{fontSize:"$sm",color:"$baseTextMedEmphasis"},a)),oe.createElement(U.Kq,{onPress:t,cursor:"pointer",hoverStyle:{opacity:A.IPZ},pressStyle:{opacity:A.IPZ-.1},borderRadius:"$2",alignItems:"center",justifyContent:"center",minWidth:24,minHeight:24},"desc"===r?oe.createElement(ee.K,{size:18,color:"$baseIcon"}):oe.createElement(te.a,{size:18,color:"$baseIcon"}))))}function pe(){return oe.createElement(T.FA,{gap:"$2"},oe.createElement(S.q,{color:"$baseTextMedEmphasis",fontSize:"$xs",ta:"center"},C.ag._({id:"bpr15V"})))}function ge(){const e=(0,k.rT)(),t=(0,k.gI)(e.blockchainId),[n,a]=(0,M.useState)("default_desc"),[r,l]=(0,M.useState)(!1),{data:i,loading:o,error:c,fetchMore:s}=(0,u.yA)(t),d=(0,M.useMemo)((()=>i?.trendingTokens?.map(u.zN)??[]),[i]),m=(0,M.useMemo)((()=>{if("default"===n||"default_desc"===n)return d;if("default_asc"===n)return[...d].reverse();const e=function(e){switch(e){case"default_asc":return(e,t)=>-1;case"price_desc":return(e,t)=>(t.price||0)-(e.price||0);case"price_asc":return(e,t)=>(e.price||0)-(t.price||0);case"change_desc":return(e,t)=>(t.priceChange||0)-(e.priceChange||0);case"change_asc":return(e,t)=>(e.priceChange||0)-(t.priceChange||0);case"volume_desc":return(e,t)=>(t.volume||0)-(e.volume||0);case"volume_asc":return(e,t)=>(e.volume||0)-(t.volume||0);case"marketcap_desc":return(e,t)=>(t.marketCap||0)-(e.marketCap||0);case"marketcap_asc":return(e,t)=>(e.marketCap||0)-(t.marketCap||0);default:return()=>0}}(n);return[...d].sort(e)}),[d,n]),p=!c&&m.length>0,g=(0,M.useCallback)((()=>{const e=document.querySelector("#swap-screen-container")?.closest(".view");e&&e.scrollTo({top:0,behavior:"smooth"})}),[]),h=(0,M.useCallback)((()=>{l(!0)}),[]),b=(0,M.useCallback)((e=>{a(e),l(!1),g()}),[g]),E=(0,M.useCallback)((()=>{if("default"===n||"default_desc"===n)return void a("default_asc");if("default_asc"===n)return void a("default_desc");const e=n.split("_"),t=e[0],r=e[1]||"desc";a(`${t}_${"desc"===r?"asc":"desc"}`)}),[n]),f=(0,M.useCallback)((({item:e,index:t})=>oe.createElement(be,{token:e,index:t})),[]),y=(0,M.useCallback)((()=>{const e="default"===n||"default_desc"===n;!o&&d.length<ce&&p&&e&&s({variables:{caip2:t,offset:d.length}})}),[o,d.length,s,t,p,n]),v=(0,M.useCallback)((()=>{const e=document.querySelector("#swap-screen-container")?.closest(".view");if(!e)return;const{scrollTop:t,scrollHeight:n,clientHeight:a}=e;n-t-a<200&&!o&&d.length<ce&&p&&y()}),[y,o,d.length,p]);return(0,M.useEffect)((()=>{const e=document.querySelector("#swap-screen-container")?.closest(".view");if(e)return e.addEventListener("scroll",v),()=>e.removeEventListener("scroll",v)}),[v]),o&&0===m.length?oe.createElement(T.FA,{gap:"$3",mb:"$3",mt:"$5",position:"relative"},oe.createElement(T.sL,{mx:"$4",gap:"$2",alignItems:"center"},oe.createElement(H.m,{height:20,width:160})),oe.createElement(T.FA,{gap:"$2",mx:"$3"},Array.from({length:8},((e,t)=>oe.createElement(ue,{key:t,index:t}))))):c?null:oe.createElement(T.FA,{gap:"$2",mt:"$3",mb:"$4",position:"relative"},oe.createElement(K.default,{id:"trending-tokens-list",data:m,renderItem:f,keyExtractor:de,ListHeaderComponent:p?oe.createElement(me,{onFilterPress:h,onDirectionToggle:E,sortOption:n}):null,ListFooterComponent:p?oe.createElement(pe,null):null,contentContainerStyle:{paddingHorizontal:12,gap:8},showsVerticalScrollIndicator:!1}),oe.createElement(le.G,{openDrawer:r,setOpenDrawer:l,size:"md"},oe.createElement(he,{currentSort:n,onSortSelect:b})))}function he({currentSort:e,onSortSelect:t}){const n=se(),a=e.split("_")[0];return oe.createElement(T.FA,{pt:"$5",px:"$4"},oe.createElement(S.q,{color:"$baseTextHighEmphasis",fontSize:"$lg",textAlign:"center",fontWeight:"bold",mb:"$3"},C.ag._({id:"3fEHK5"})),oe.createElement(T.FA,{gap:"$1"},n.map((e=>{const n=a===e.key,r=e.icon;return oe.createElement(T.sL,{key:e.key,onPress:()=>t(`${e.key}_desc`),cursor:"pointer",backgroundColor:n?"$baseBackgroundL1":"transparent",borderRadius:"$3",height:44,px:"$3",ai:"center",gap:"$3",hoverStyle:{backgroundColor:"$baseBackgroundL1"},pressStyle:{backgroundColor:"$baseBackgroundL2"}},oe.createElement(r,{size:20,color:n?"$baseTextHighEmphasis":"$baseIcon"}),oe.createElement(S.q,{flex:1,color:n?"$baseTextHighEmphasis":"$baseTextMedEmphasis"},e.label),n?oe.createElement(ne.J,{size:20,color:"$accentBlue"}):null)}))))}const be=(0,M.memo)((function({token:e,index:t}){const{to:n,from:a}=(0,b.iJ)(),{setTo:r,swapToFrom:l}=(0,b.Zy)(),i=(0,p.ar)(),o=(0,k.rT)(),s=(0,k.gI)(o.blockchainId),d=(0,V.$T)(4),m=(0,u.Kx)(e.metadata),h=(0,_.HJ)(),E=(0,G.F)(),f=(0,M.useCallback)((async()=>{try{const t={id:e.id,mint:m.address,blockchain:a?.blockchain,blockchainId:a?.blockchainId,caip2:s,walletPublicKey:a?.walletPublicKey,tokenListEntry:m};a?.mint===t.mint&&n?l():a?.mint!==t.mint&&r(t);const o=document.querySelector("#swap-screen-container")?.closest(".view");o&&o.scrollTo({top:0,behavior:"smooth"}),i(g.G.TrendingTokenSelected,{mint:m.address,name:m.name,symbol:m.symbol})}catch(e){console.error("Error selecting token: ",e)}}),[s,a,m,r,n,e,l,i]),y=(0,M.useCallback)((()=>{m?.address&&h.navigate(ie.Routes.SwapTokenInfoScreen,{tokenAddress:m.address,caip2:s})}),[h,s,m.address]),v=t<8;return oe.createElement(T.sL,{backgroundColor:"$baseBackgroundL1",borderRadius:"$3",gap:"$3",mx:"$1",py:"$3",px:"$2",alignItems:"center",onPress:()=>f(),pressStyle:{backgroundColor:"$baseBackgroundL1",scale:.98},hoverStyle:{backgroundColor:"$baseBackgroundL2"},...v&&{animation:"quick",enterStyle:{opacity:0,x:-10},opacity:1,x:0},style:{cursor:"pointer",animationDelay:v?50*t+"ms":void 0}},oe.createElement($.O,{radius:16,size:32,image:(0,c.fi)(m.logo??"")}),oe.createElement(T.FA,{gap:"$1",flex:1,justifyContent:"center"},oe.createElement(T.sL,{alignItems:"center",gap:"$1"},oe.createElement(S.q,{color:"$baseTextHighEmphasis",numberOfLines:1,ellipsizeMode:"tail",fontSize:"$sm"},m.name??""),e.verified?oe.createElement(ae.C,{color:"$greenText",size:16,flexShrink:0}):null),oe.createElement(S.q,{color:"$baseTextMedEmphasis",numberOfLines:1,ellipsizeMode:"tail",fontSize:"$xs"},(m.symbol??"").toUpperCase())),oe.createElement(T.FA,{gap:"$1",ml:"auto",alignItems:"flex-end"},oe.createElement(S.q,{numberOfLines:1,ellipsizeMode:"tail",fontSize:"$sm"},e.price?d.format(Math.abs(e.price)>10?e.price.toFixed(2):e.price,!0):"-"),null!==e.priceChange&&void 0!==e.priceChange?oe.createElement(S.q,{fontSize:"$xs",color:e.priceChange>=0?"$greenText":"$redText"},e.priceChange>=0?"+":"",j.eO.format({amount:e.priceChange,maximumFractionDigits:2,fractionStyle:"SUBSCRIPT_ZERO_COUNT",largeNumberStyle:"TRUNCATED_WITH_LETTER"}).replace(/\.$/,""),"%"):null),oe.createElement(U.Kq,{onPress:e=>{e.stopPropagation(),y()},cursor:"pointer",hoverStyle:{opacity:A.IPZ},pressStyle:{opacity:A.IPZ-.1},padding:"$1"},oe.createElement(re.k,{color:E.baseIcon.val,size:20})))}));var Ee=n(202784);function fe({route:e}={}){const t=(0,k.rT)(),n=(0,k.gI)(t.blockchainId);return(0,a.kJ)(u.v6,{fetchPolicy:"cache-first",returnPartialData:!1,variables:{address:t.publicKey,caip2:n}}),Ee.createElement(N.L,null,Ee.createElement(b.G_,null,Ee.createElement(ke,{outputAssetId:e?.params?.outputAssetId,blockchain:t.blockchain})))}function ke({outputAssetId:e,blockchain:t}){return Ee.createElement(T.FA,{flex:1,style:{overflowX:"hidden"}},Ee.createElement(ye,null,Ee.createElement(T.FA,{my:"$2",mx:"$4",animation:"quick",enterStyle:{opacity:0,y:-10},opacity:1,y:0},Ee.createElement(W.Z,null)),Ee.createElement(we,{outputAssetId:e}),Ee.createElement(ge,null)),Ee.createElement(Te,{blockchain:t}))}function ye({children:e}){const{to:t}=(0,b.iJ)(),{fromAmount:n}=(0,b.XA)(),a=n&&t&&n.gt(0);return Ee.createElement(T.FA,{flex:1,style:{overflowY:"auto"},id:"swap-screen-container",pb:a?56:0},e)}function ve(){return Ee.createElement(T.FA,{paddingTop:"$2",flex:1,justifyContent:"space-between"},Ee.createElement(T.FA,{gap:"$2",flex:1,mx:"$4"},Ee.createElement(T.FA,{overflow:"hidden",height:115,borderRadius:"$3"},Ee.createElement(x.O,{height:"100%"})),Ee.createElement(T.FA,{overflow:"hidden",height:115,borderRadius:"$3"},Ee.createElement(x.O,{height:"100%"}))))}function we({outputAssetId:e}){return Ee.createElement(Ie,{outputAssetId:e})}function Ie({outputAssetId:e}){const{setTo:t}=(0,b.Zy)(),n=(0,k.rT)(),a=(0,k.gI)(n.blockchainId),r=(0,_.HJ)();return(0,M.useEffect)((()=>{e&&(t({id:"",walletPublicKey:n.publicKey,mint:e,blockchain:n.blockchain,blockchainId:n.blockchainId,caip2:a}),r.setParams({outputAssetId:void 0}))}),[e,t,n,a,r]),Ee.createElement(T.FA,{position:"relative",pb:"$1",mx:"$4",animation:"quick",enterStyle:{opacity:0,y:10},opacity:1,y:0},Ee.createElement(T.FA,{gap:"$2"},Ee.createElement(Se,null),Ee.createElement(q.Z,null),Ee.createElement(O.a,null)))}function Te({blockchain:e}){const{to:t}=(0,b.iJ)(),{fromAmount:n}=(0,b.XA)(),{error:a}=(0,b.sn)(),{isError:r}=(0,b.rx)(),l=r||a,o=n&&t&&n.gt(0),c=!o&&e===i.$O.SOLANA&&!l,s=o||c;return Ee.createElement(T.FA,{left:0,bottom:0,bg:"$baseBackgroundL0",zIndex:1e3,px:"$4",style:{position:"fixed",visibility:s?"visible":"hidden",width:"100vw"}},Ee.createElement(T.FA,{display:o?"flex":"none"},Ee.createElement(xe,null)),e===i.$O.SOLANA?Ee.createElement(T.FA,{display:c?"flex":"none"},Ee.createElement(d.$y,{transactionConfirmationScreen:R.O.TransactionConfirmationScreen})):null)}const xe=()=>{const e=(0,_.HJ)(),{navigateToTransactionConfirmation:t}=(0,I.t)(e,R.O.TransactionConfirmationScreen),{from:n,to:a}=((0,r.x)(),(0,b.iJ)()),{fromAmount:i}=(0,b.XA)(),{error:d}=(0,b.sn)(),{setFromAmount:x}=(0,b.Zy)(),{explorerTxUrl:A}=(0,w.U)(n.blockchainId),{quoteResponse:P}=(0,b.ir)(),{transaction:M}=(0,b._m)(),{isLoading:N,isError:O,error:q}=(0,b.rx)(),{executeSwap:W}=(0,y.vz)({from:n,to:a,fromAmount:i,quoteResponse:P}),K=(0,v.ql)(),j=(0,v.pW)(),H=(0,u.Kx)(K?.tokenListEntry),V=(0,u.Kx)(j?.tokenListEntry),U=H?.symbol,G=(0,b.V3)(),Z=(0,E.rR)({}),Y=(0,p.ar)(),J=(0,F.Dv)(h.uV),X=(0,k.gI)(n.blockchainId),{data:Q}=(0,l.aM)(u.lB,{skip:!n.mint||!X,variables:{address:n.mint,caip2:X}}),ee=(0,p.W1)(),te=V?.symbol;if(!i||!a||i.lte(0))return null;if(O||d)return Ee.createElement(T.FA,{my:8,animation:"quick",enterStyle:{opacity:0,scale:.95},opacity:1,scale:1},Ee.createElement(B.x,{color:"red",disabled:!0,label:d??q.message??C.ag._({id:"VmgfS3"}),onPress:()=>{}}));const ne=i&&!N&&null!==P;return Ee.createElement(T.FA,{my:8,animation:"quick",enterStyle:{opacity:0,scale:.95},opacity:1,scale:1},Ee.createElement(B.x,{variant:"primary",onPress:async e=>{if(e?.preventDefault(),null===P)throw new Error(C.ag._({id:"RzkzGy"}));if(null===a)throw new Error(C.ag._({id:"p+IA3T"}));const r=e=>{if(e.kind===E.gZ.Solana){const t=A(e.data.signature);window.open(t)}if(e.kind===E.gZ.Ethereum){const t=A(e.data.txid);window.open(t)}if(e.kind===E.gZ.LiFi){const t=(0,f.G3)(e.data.txid);window.open(t)}if(e.kind===E.gZ.Sui){const t=A(e.data.txDigest);window.open(t)}if(e.kind===E.gZ.Aptos){const t=A(e.data.txHash);window.open(t)}},l=e=>Ee.createElement(T.FA,{key:e,gap:"$4",paddingVertical:"$4",justifyContent:"center"},K&&i?Ee.createElement(T.FA,{gap:"$3"},Ee.createElement(T.sL,{justifyContent:"center"},Ee.createElement(z.rp,{amount:(0,c.Ou)(i,H.decimals),symbol:H?.symbol??"",icon:Ee.createElement($.O,{radius:"$circular",size:30,image:H?.logo||s.rI})})),Ee.createElement(S.q,{textAlign:"center"},C.ag._({id:"sQv06Y"})),Ee.createElement(T.sL,{justifyContent:"center"},Ee.createElement($e,{logo:V?.logo??s.rI,symbol:V?.symbol,decimals:V?.decimals??0,amount:G?.outAmountBigNumber()??D.O$.from(0)}))):Ee.createElement(T.FA,{gap:"$3"},Ee.createElement(S.q,{textAlign:"center"},U?C.ag._({id:"JSk4Bu",values:{fromSymbol:U}}):C.ag._({id:"nJTjIr"})),Ee.createElement(T.sL,{justifyContent:"center"},Ee.createElement($e,{logo:V?.logo??s.rI,symbol:V?.symbol,decimals:V?.decimals??0,amount:G?.outAmountBigNumber()??D.O$.from(0)}))));try{t({title:C.ag._({id:"JPHuMW"}),sendTransaction:async()=>await W(M??void 0),prepend:[l],confirmTransaction:async e=>Z(n,a,e),onConfirmation:async e=>{const t=L.bM(i??"",H?.decimals);x(null);const r=Q?.tokenMarketPrice?parseFloat(t)*Q?.tokenMarketPrice:void 0,l=e.kind===E.gZ.Solana?e.data.signature:e.kind===E.gZ.Ethereum||e.kind===E.gZ.LiFi?e.data.txid:e.kind===E.gZ.Aptos?e.data.txHash:e.data.txDigest,o=(0,m.qZ)(n.blockchainId);if(l&&!o?.isTestnet)try{const i=G?.outAmountBigNumber(),o=i?parseFloat(L.bM(i,V?.decimals)):0,c=P.data?.slippageBps;await ee({fromAmount:parseFloat(t),fromCaip2:n.caip2,fromMint:n.mint,fromSymbol:U||"",hash:l,success:!0,swapType:e.kind,toAmount:o,toCaip2:a.caip2,toMint:a.mint,toSymbol:te||"",slippage:c?c/100:void 0,usdValue:r})}catch(e){console.error("Failed to insert swap row:",e)}},onClose:e=>{e.popToTop(),e.popToTop()},onOpenExplorer:r})}catch(e){console.error("Error calling executeSwap",e);const t=J.find((e=>e.blockchainId===n.blockchainId))?.name;Y(g.G.SwapError,{blockchainId:n.blockchainId,blockchainName:t,fromMint:n.mint,fromSymbol:U,fromAmount:i?.toString(),toMint:a.mint,error:String(e)})}},label:N?C.ag._({id:"ptjxTJ"}):C.ag._({id:"K/Ay/d"}),testID:ne?o.Yx:void 0,disabled:!ne}))};function $e({logo:e,symbol:t,decimals:n,amount:a}){const r=(0,c.Ou)(a,n);return Ee.createElement(z.rp,{amount:r,symbol:t||"",icon:Ee.createElement($.O,{radius:"$circular",size:30,image:e||s.rI})})}function Se(){const{swapToFrom:e}=(0,b.Zy)(),t=(0,b.V3)(),n=(0,v.pW)(),a=(0,u.Kx)(n?.tokenListEntry)?.decimals,[r,l]=(0,M.useState)(0),[i,o]=(0,M.useState)(1);return Ee.createElement(T.FA,{position:"absolute",left:"51%",transform:[{translateX:-25},{translateY:"-60%"}],width:"$7",height:"$7",justifyContent:"center",alignItems:"center",backgroundColor:"$baseBackgroundL0",borderRadius:"$7",zIndex:1},Ee.createElement(T.sL,{ai:"center",jc:"center",cursor:"pointer",onPress:()=>{l((e=>e+180*i)),o((e=>-1*e));const n=t?.outAmountBigNumber()??null;e(n,a)},padding:"$3",hoverStyle:{opacity:A.IPZ},style:{transition:"transform 0.3s ease",transform:`rotate(${r}deg)`}},Ee.createElement(P.O,{size:20,color:"$baseIcon"})))}},302759:(e,t,n)=>{n.d(t,{K:()=>k,Z:()=>y});var a=n(371541),r=n(457246),l=n(44171),i=n(531518),o=n(152010),c=n(747401),s=n(337288),d=n(711728),u=n(382740),m=n(59727),p=n(187254),g=n(304235),h=n(733095),b=n(817),E=n(202784);function f({token:e,push:t,isLoading:n,isInput:m=!1,testID:g}){const b=(0,o.Kx)(e?.tokenListEntry);return n?E.createElement(i.m,{height:42,width:100}):E.createElement(c.zx,{onPress:()=>t(),"data-testid":g,br:"$3",bg:"$baseBackgroundL0",w:"auto",jc:"center",color:"$baseTextHighEmphasis",cursor:"pointer",h:42,m:0,borderWidth:0,p:0,px:"$2",animation:"quick",hoverStyle:{scale:1.02,bg:"$baseBackgroundL1"},pressStyle:{scale:.96}},e?E.createElement(s.sL,{ai:"center",jc:"center",gap:"$2"},E.createElement(d.E,{borderRadius:"$2",width:"$5",height:"$5",source:{uri:b?.logo?(0,r.fi)(b.logo):l.rI}}),E.createElement(u.q,{color:"$baseTextHighEmphasis"},(0,a.Rr)(b?.symbol)),E.createElement(h._,{color:"$baseTextMedEmphasis"})):m?E.createElement(s.sL,{ai:"center",jc:"center",gap:"$2"},E.createElement(d.E,{borderRadius:"$2",width:"$5",height:"$5",source:{uri:l.rI}}),E.createElement(h._,{color:"$baseTextMedEmphasis"})):E.createElement(s.sL,{ai:"center",jc:"center",gap:"$2"},E.createElement(u.q,{color:"$baseTextHighEmphasis"},p.ag._({id:"WKj93T"})),E.createElement(h._,{color:"$baseTextMedEmphasis"})))}function k({children:e,hasError:t,...n}){return E.createElement(m.Kq,{jc:"center",p:"$4",...n},e)}const y=function({token:e,input:t,isFromMint:n,isLoading:a,testID:r}){const l=(0,g.HJ)();return E.createElement(f,{isLoading:a,token:e,push:()=>{l.push(b.Routes.SwapTokenSelectScreen,{isFromMint:n,input:t})},isInput:t,testID:r})}},25670:(e,t,n)=>{n.d(t,{s:()=>E});var a=n(202784),r=n(924432),l=n(152010),i=n(392278),o=n(869256),c=n(468186),s=n(541214),d=n(181956),u=n(337288),m=n(382740),p=n(400752),g=n(202784);const h=2e3,b=3e4;function E({blockchainId:e,tokenAmount:t,tokenAddress:n,onUsdValueChange:E}){const f=(0,s.rT)(),k=(0,o.ql)(),y=(0,o.pW)(),v=(0,p.Dv)(i.g),w=E?null:v,I=(0,d.$T)(2),T=e??f.blockchainId,x=(0,s.gI)(T),$=parseFloat(t),{bridgePriceImpact:S}=(0,c.Ci)(),A=!!E,C=!isNaN($)&&$>0,_=!(T&&n&&x&&C),{data:P,loading:D,error:L,refetch:F}=(0,r.aM)(l.lB,{skip:_,variables:{address:n,caip2:x,useLive:!0},fetchPolicy:"no-cache",context:{fetchOptions:{cache:"no-store"},ignoreServerResponseCache:!0}}),M=k?.token,N=y?.token,z=`${M}-${N}-${A?t:""}`,R=(0,a.useRef)(null);(0,a.useEffect)((()=>{if(_)return void(R.current=null);R.current=Date.now();const e=setInterval((()=>{Date.now()-(R.current??Date.now())>=b?clearInterval(e):F()}),h);return()=>clearInterval(e)}),[_,z,F]);const B=P?.tokenMarketPrice??null,O=(0,a.useMemo)((()=>!D&&!L&&T&&n&&null!==B&&$>0?$*B:null),[D,L,T,n,B,$]),q=(0,a.useMemo)((()=>{if(null===O)return I.format(0);const e=Math.min(O,Number.MAX_SAFE_INTEGER);return I.format(e)}),[O,I]);(0,a.useEffect)((()=>{E?.(O)}),[O,E]);const W=(0,a.useMemo)((()=>{if(!A&&S)return S;if(!w||!O||w<=0||O<=0)return null;const e=(O-w)/w*100;return Math.abs(e)<.01?null:`(${e>=0?"+":""}${e.toFixed(2)}%)`}),[A,S,w,O]);return g.createElement(u.sL,{gap:"$1",ai:"center"},g.createElement(m.q,{fontSize:"$xs",cursor:"default",color:"$baseTextMedEmphasis"},q),W?g.createElement(m.q,{fontSize:"$xs",cursor:"default",color:"$baseTextMedEmphasis"},W):null)}},619954:(e,t,n)=>{n.d(t,{W:()=>h});var a=n(202784),r=n(457246),l=n(527159),i=n(66046),o=n(468186),c=n(337288),s=n(382740),d=n(400752),u=n(667525),m=n(710224),p=n(835537),g=n(202784);function h(e){return g.createElement(m.X,{loading:g.createElement(p.g,null)},g.createElement(b,e))}function b({navigation:e}){const{to:t}=(0,o.iJ)(),{setTo:n}=(0,o.Zy)();if(!t)throw new Error("to not found");const r=(0,d.Dv)((0,i.I5)(t.blockchainId));return(0,a.useEffect)((()=>{e.setOptions({headerTitle:()=>g.createElement(E,{blockchain:t.blockchain,name:r.name,blockchainId:t.blockchainId})})}),[e,t.blockchain]),g.createElement(u._,{excludeWallet:{blockchainId:t.blockchainId,publicKey:t.walletPublicKey},blockchainId:t.blockchainId,onSelect:a=>{n({...t,walletPublicKey:a.address}),e.pop()}})}function E({blockchainId:e,name:t}){const n=(0,r.LF)(t);return g.createElement(c.sL,{gap:"$DEPRECATED_2"},g.createElement(c.FA,{jc:"center"},g.createElement(l._,{id:e,size:16})),g.createElement(s.q,null,n))}},931425:(e,t,n)=>{n.d(t,{Z:()=>D});var a=n(924432),r=n(371541),l=n(457246),i=n(707876),o=n(997246),c=n(667135),s=n(152010),d=n(817967),u=n(66046),m=n(541214),p=n(893190),g=n(181956),h=n(468186),b=n(59727),E=n(337288),f=n(382740),k=n(299105),y=n(187254),v=n(534042),w=n(239263),I=n(293247),T=n(400752),x=n(202784),$=n(232955),S=n(416242),A=n(883643),C=n(817),_=n(202784);function P({symbol:e,onBuy:t,onSell:n,sellDisabled:a,hideSell:r}){return _.createElement(E.FA,{position:"absolute",bottom:0,left:0,right:0,paddingHorizontal:16,paddingBottom:8,paddingTop:8,backgroundColor:"$baseBackgroundL0"},_.createElement(c.p,{horizontal:!0,gap:8},_.createElement(o.x,{onPress:t,variant:"secondary",size:40,color:"green",label:`Buy ${e}`}),r?null:_.createElement(o.x,{onPress:n,variant:"secondary",size:40,color:"red",label:`Sell ${e}`,disabled:a})))}const D=function({route:e,navigation:t}){const{tokenAddress:n,caip2:o}=e.params,c=(0,m.rT)(),D=c.publicKey,M=c.blockchain,N=c.blockchainId,z=(0,m.gI)(N),{from:R,to:B,toNetwork:O}=(0,h.iJ)(),{setFrom:q,setTo:W}=(0,h.Zy)(),K=(0,m.pI)(),j=(0,T.Dv)(u.lm),H=B&&R.blockchainId!==B.blockchainId,V=(0,T.Dv)((0,u.I5)(N)),U=(0,l.vq)(n,V?.gasCurrencyAddress),[G,Z]=(0,x.useState)(!1),Y=(0,g.$T)(),[J,X]=(0,x.useState)(null),Q=!U||!o,{data:ee,loading:te}=(0,a.aM)(s.q7,{skip:Q,variables:{addresses:[U],caip2:o}}),ne=(0,x.useMemo)((()=>ee?.tokenList?.[0]??null),[ee]),{data:ae,loading:re}=(0,a.aM)(s.VJ,{variables:{caip2:o,address:U},skip:!U||!o}),le=(0,x.useMemo)((()=>{const e=ae?.trendingToken;return e?(0,s.zN)(e):null}),[ae]),ie=(0,x.useMemo)((()=>{const e=le?.community;return e?(0,s.QG)(e):null}),[le]),oe=(0,x.useMemo)((()=>o.namespace===z.namespace&&o.reference===z.reference),[o,z]),{balances:ce}=(0,p.gK)({walletPublicKey:oe?D:"",caip2:o}),se=(0,x.useMemo)((()=>{if(!(D&&o&&ne?.address&&ce&&oe))return!1;const e=ce.find((e=>(0,s.Kx)(e.tokenListEntry)?.address.toLowerCase()===ne.address.toLowerCase()));return!!e&&BigInt(e.amount||"0")>0n}),[D,o,ce,ne,oe]);(0,x.useEffect)((()=>{if(!J&&ne?.logo)return void X(ne.logo);const e=J??ne?.logo??"";ne?.name&&ne?.symbol&&t.setOptions({headerTitle:()=>_.createElement(L,{name:ne.name,symbol:(0,r.Rr)(ne.symbol),logoUrl:e}),headerShadowVisible:!1})}),[ne,J,t]);const de=(0,x.useMemo)((()=>le?.price?Y.format(le.price,!0):"-"),[Y,le?.price]),ue=e=>{window.open(e,"_blank","noopener,noreferrer")};return te||!ne&&!Q||!ne?null:_.createElement(b.Kq,{f:1,pb:60},_.createElement(S.L,null,_.createElement(E.FA,{style:{padding:"16px",flex:1,overflowY:"auto",overflowX:"hidden",height:"100%"}},_.createElement(b.Kq,{f:1,gap:"$4"},_.createElement(E.FA,{gap:"$4"},_.createElement($.SV,{fallback:null},_.createElement(x.Suspense,{fallback:_.createElement(A.N,null)},_.createElement(A.x,{tokenAddress:ne.address,caip2:o,price:le?.price??0})))),re||le?.verified||N!==d.Ek.SOLANA_MAINNET||O!==d.Ek.SOLANA_MAINNET?null:_.createElement(E.FA,{backgroundColor:"$baseBackgroundL1",borderRadius:"$3",padding:"$3",gap:"$2"},_.createElement(E.sL,{alignItems:"center",gap:"$2"},_.createElement(v.u,{color:"$yellowIcon",size:18}),_.createElement(f.q,{fontWeight:"$bold",color:"$yellowText",fontSize:"$xs"},y.ag._({id:"2gphoV"}))),_.createElement(f.q,{color:"$baseTextMedEmphasis",fontSize:"$xs"},y.ag._({id:"RLcbhK"}))),_.createElement(E.FA,{gap:"$4"},le?_.createElement(E.FA,{gap:"$2"},_.createElement(f.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",ml:8},y.ag._({id:"qDXbja"})),_.createElement(k.Zl,null,_.createElement(k.Uq,{label:y.ag._({id:"6YtxFj"}),value:ne.name}),_.createElement(k.Uq,{label:y.ag._({id:"8Ps70y"}),value:(0,r.Rr)(ne.symbol)}),null!=le.price?_.createElement(k.Uq,{label:y.ag._({id:"a7u1N9"}),value:de}):null,null!=le.priceChange?_.createElement(k.Uq,{label:y.ag._({id:"WQVNP4"}),value:_.createElement(i.lz,{fontSize:"$sm",percentChange:le.priceChange})}):null,_.createElement(k.Uq,{label:y.ag._({id:"e4yrZ/"}),onPress:()=>(async e=>{try{await navigator.clipboard.writeText(e),Z(!0),setTimeout((()=>Z(!1)),2e3)}catch(e){console.error("Failed to copy text: ",e)}})(ne.address),value:_.createElement(E.sL,{gap:"$2",ai:"center",cursor:"pointer"},G?_.createElement(_.Fragment,null,_.createElement(f.q,{fontSize:"$sm",color:"$greenText"},"Copied"),_.createElement(w.J,{size:16,color:"$greenText"})):_.createElement(_.Fragment,null,_.createElement(f.q,{fontSize:"$sm",color:"$accentBlue"},(0,r.R1)(ne.address)),_.createElement(I.C,{size:16,color:"$accentBlue"})))}),null!=le.marketCap?_.createElement(k.Uq,{label:y.ag._({id:"5N3b5J"}),value:_.createElement(F,{fontSize:"$sm",usdBalance:le.marketCap})}):null,null!=le.fdv?_.createElement(k.Uq,{label:y.ag._({id:"QXUwBh"}),value:_.createElement(F,{fontSize:"$sm",usdBalance:le.fdv})}):null,null!=le.liquidity?_.createElement(k.Uq,{label:y.ag._({id:"6y2TB3"}),value:_.createElement(F,{fontSize:"$sm",usdBalance:le.liquidity})}):null,null!=le.volume?_.createElement(k.Uq,{label:y.ag._({id:"Fn9Tvh"}),value:_.createElement(F,{fontSize:"$sm",usdBalance:le.volume})}):null)):null,ie&&(ie.website||ie.twitter||ie.discord||ie.telegram)?_.createElement(E.FA,{gap:"$2"},_.createElement(f.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",ml:8},y.ag._({id:"chL5IG"})),_.createElement(k.Zl,null,ie.website?_.createElement(k.Uq,{label:y.ag._({id:"On0aF2"}),value:_.createElement(k.Zp,{content:ie.website}),onPress:()=>ue(ie.website)}):null,ie.twitter?_.createElement(k.Uq,{label:y.ag._({id:"0F2sI+"}),value:_.createElement(k.Zp,{content:ie.twitter}),onPress:()=>ue(ie.twitter)}):null,ie.discord?_.createElement(k.Uq,{label:y.ag._({id:"OdPOhy"}),value:_.createElement(k.Zp,{content:ie.discord}),onPress:()=>ue(ie.discord)}):null,ie.telegram?_.createElement(k.Uq,{label:y.ag._({id:"SchpMp"}),value:_.createElement(k.Zp,{content:ie.telegram}),onPress:()=>ue(ie.telegram)}):null)):null,ie?.description?.trim()?_.createElement(E.FA,{gap:8},_.createElement(f.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",ml:8},y.ag._({id:"Nu4oKW"})),_.createElement(E.FA,{py:8,px:12,overflow:"hidden",backgroundColor:"$baseBackgroundL1",borderWidth:2,borderColor:"$baseBorderLight",borderRadius:"$container"},_.createElement(f.q,{fontSize:"$sm"},ie.description.length>300?`${ie.description.slice(0,300)}...`:ie.description))):null)))),ne?_.createElement(P,{symbol:(0,r.Rr)(ne.symbol),onBuy:()=>{if(!ne||!o)return;if(H){const e=(()=>{if(!o)return null;const e=Object.values(j).find((e=>e.caip2Namespace===o.namespace&&e.caip2Reference===o.reference));if(!e)return null;const t=e.blockchainId,n=B&&B.blockchainId===t?B.walletPublicKey:K[t];return n?{blockchain:e.blockchain,blockchainId:t,walletPublicKey:n}:null})();if(!e)return;return W({id:ne.address,blockchain:e.blockchain,blockchainId:e.blockchainId,caip2:o,mint:ne.address,walletPublicKey:e.walletPublicKey}),void t.pop(2)}if(!M||!N||!D)return;W({id:ne.address,blockchain:M,blockchainId:N,caip2:o,mint:ne.address,walletPublicKey:D}),t.popTo(C.Routes.SwapTopTabs,{scrollToTop:!0});const e=document.querySelector("#swap-screen-container")?.closest(".view");e&&e.scrollTo({top:0,behavior:"smooth"})},onSell:()=>{if(!(ne&&M&&N&&D&&o))return;q({id:ne.address,blockchain:M,blockchainId:N,caip2:o,mint:ne.address,walletPublicKey:D}),t.popTo(C.Routes.SwapTopTabs,{scrollToTop:!0});const e=document.querySelector("#swap-screen-container")?.closest(".view");e&&e.scrollTo({top:0,behavior:"smooth"})},sellDisabled:!se,hideSell:!!H}):null)},L=({name:e,symbol:t,logoUrl:n})=>{const a=e.length>16?`${e.slice(0,16)}...`:e;return _.createElement(E.sL,{gap:"$2",ai:"center",maxWidth:250,flexWrap:"nowrap"},n?_.createElement("img",{src:n,alt:e,width:24,height:24,style:{borderRadius:"50%"}}):null,_.createElement(f.q,{fontWeight:"bold",numberOfLines:1},a),e!==t?_.createElement(f.q,{color:"$baseTextMedEmphasis"},"(",t,")"):null)},F=({usdBalance:e,fontSize:t})=>{const n=(0,g.$T)(2);return _.createElement(f.q,{fontSize:t||"$sm"},n.format(e,!1,!0))}},517228:(e,t,n)=>{n.d(t,{o:()=>V});var a=n(202784),r=n(496075),l=n(220026),i=n(371541),o=n(44171),c=n(152010),s=n(377172),d=n(127942),u=n(817967),m=n(476265),p=n(66046),g=n(489911),h=n(541214),b=n(893190),E=n(632419),f=n(468186),k=n(666337),y=n(168547),v=n(295211),w=n(337288),I=n(382740),T=n(326951),x=n(908236),$=n(796961),S=n(59727),A=n(825629),C=n(512788),_=n(634706),P=n(187254),D=n(304235),L=n(568850),F=n(815053),M=n(578623),N=n(623749),z=n(400752),R=n(927751),B=n(598416),O=n(445149),q=n(710224),W=n(6166),K=n(817),j=n(646704),H=n(202784);function V(e){return H.createElement(q.X,{loading:H.createElement(Q,null)},H.createElement(U,e))}function U({route:e,navigation:t}){const{input:n,isFromMint:a}=e.params;return H.createElement(G,{input:n,isFromMint:a,navigation:t})}function G({input:e,isFromMint:t,navigation:n}){const{from:a,to:r}=(0,f.iJ)(),{setFrom:l,setTo:i}=(0,f.Zy)(),o=t?l:i,s=(0,h.pI)(),d=(0,z.Dv)(p.lm),u=!t,m=u&&r&&a.blockchainId!==r.blockchainId,g=u,b=(e,l)=>{const i=d[e],u=i.blockchain,m={namespace:i.caip2Namespace,reference:i.caip2Reference},p=(0,c.Kx)(l.tokenListEntry);if(!t&&a.blockchainId!==e){const t=r&&r.blockchainId===e?r.walletPublicKey:s[e];return o({id:p?.id??"",walletPublicKey:t,mint:l.token,blockchain:u,blockchainId:e,caip2:m}),void n.pop()}o({id:p?.id??"",walletPublicKey:a.walletPublicKey,mint:l.token,blockchain:u,blockchainId:e,caip2:m}),n.pop()};return e?H.createElement(J,{onClickRow:b,navigation:n}):H.createElement(Z,{onClickRow:b,lockNetwork:g,isBridgeMode:m??!1})}function Z({onClickRow:e,lockNetwork:t=!1,isBridgeMode:n=!1}){const{isWormholeEnabled:l}=(0,E.y)(),i=(0,z.Dv)(p.lm),{from:o,to:T}=(0,f.iJ)(),{setToNetwork:x}=(0,f.Zy)(),$=(0,z.b9)(g.Wn),S=(0,z.b9)(g.ef),A=(0,z.b9)(g.zY),C=(0,z.b9)(g.Yt),_=(0,z.b9)(y.p),F=(0,h.pI)(),M=(0,D.HJ)(),[N,R]=(0,a.useState)(""),B=(0,v.nj)(N,500),q=n&&T?T.blockchainId:void 0,[K,V]=(0,a.useState)(q??T?.blockchainId??o.blockchainId),U=(0,h.gI)(K),{gasCurrencyAddress:G}=(0,h.iL)(o.blockchainId),Z=o.blockchainId===u.Ek.SUI_MAINNET&&o.mint===G,J=(0,a.useMemo)((()=>Object.values(i).filter((e=>!!e.wormholeChainId)).map((e=>e.blockchainId))),[i]),Q=(0,a.useMemo)((()=>Object.values(i).filter((e=>!!e.lifiChainId)).map((e=>e.blockchainId))),[i]),ee=l&&J.includes(o.blockchainId)&&Q.includes(o.blockchainId)&&!Z,te=!!F[K],{balances:ne}=(0,b.gK)(T??o),ae=(0,h.iL)(K),re=B.length>=32,[le,ie]=(0,k.Me)({from:o,outputBalances:ne,search:B,strict:!1,toNetwork:te?ae:null}),[oe,ce]=(0,k.Me)({from:o,outputBalances:ne,search:re?void 0:B,strict:!0,toNetwork:te?ae:null}),se=le.filter((e=>!oe.some((t=>t.token===e.token)))),de=async e=>{if(!t&&(V(e),x(e),!F[e])){const t=i[e];if(!t)return;const n=[{blockchain:t.blockchain,networkIds:[e],walletTypes:[]}].map((e=>(0,W.rH)(e.blockchain,e.networkIds))).flat();await S({flowEntrypoint:m.g1.ADD_WALLET,isAddingAccount:!1,skipSettingActivePublicKey:!0}),await A(n),await $({explicitNextRoute:m.MG.SelectDescriptorType});const a=await _();await C(a.allSelectionsWithAutoselectedWalletTypes),a.needManualSelectWalletTypes?(await $({explicitNextRoute:m.MG.SelectDescriptorType}),M.push(j.p.ImportWalletNavigator,{screen:m.MG.SelectWalletType})):M.push(j.p.ImportWalletNavigator,{screen:m.MG.SelectDescriptorType})}},ue=o.mint===d.VU?d.e_:o.mint,me=(0,a.useMemo)((()=>{const e=e=>ae?.blockchainId===o.blockchainId&&e===ue;let t;t=N?re?le.filter((t=>!e(t.token))):[...oe,...se].filter((t=>!e(t.token))):oe.filter((t=>!e(t.token)));const n=t.sort(((e,t)=>{const n=(0,c.MY)(e.marketData),a=(0,c.MY)(t.marketData),r=n?.value??0,l=a?.value??0;return r>=.01&&l<.01?-1:r<.01&&l>=.01?1:r>=.01&&l>=.01?l-r:0}));if(T){const e=T.mint===d.VU;return[n.find((t=>t.token===(e?d.e_:T.mint)))||{id:T.mint,token:T.mint,amount:"0",displayAmount:"0",tokenListEntry:T.tokenListEntry??null,marketData:null},...n.filter((t=>t.token!==(e?d.e_:T.mint)))]}return n}),[oe,se,le,ue,ae,o.blockchainId,N,re,T]),pe=i[o.blockchainId],ge=pe?.name||o.blockchain,he=P.ag._({id:"zIb4O0",values:{fromNetworkName:ge}}),be=P.ag._({id:"ZkGOUr",values:{fromNetworkName:ge}}),Ee=(0,a.useCallback)((()=>{const e=i[K],t=e?.name||K;return H.createElement(w.FA,{height:"100%",jc:"center",marginHorizontal:16},H.createElement(s.ub,{title:P.ag._({id:"gEAu3G",values:{networkName:t}}),subtitle:P.ag._({id:"cXpzp7",values:{networkName:t}}),icon:e=>H.createElement(L.Y,e),buttonText:P.ag._({id:"GtJJAj"}),onClick:()=>de(K)}))}),[K,i,de]),fe=(0,a.useCallback)((e=>e.token),[]),ke=(0,a.useCallback)((({item:t,index:n})=>{const a=oe.some((e=>e.token===t.token)),r=K===u.Ek.SUI_MAINNET||K===u.Ek.SUI_TESTNET||K===u.Ek.SUI_DEVNET;if(N.length>0&&!r)if(re){if(0===n)return H.createElement(H.Fragment,null,H.createElement(I.q,{fontWeight:"bold",color:"$baseTextHighEmphasis",padding:"$4"},a?P.ag._({id:"foiYWq"}):P.ag._({id:"9Bnl3Q"})),H.createElement(X,{item:t,onClick:()=>e(K,t),isVerified:a,caip2:U}))}else{if(0===n&&oe.length>0)return H.createElement(H.Fragment,null,H.createElement(I.q,{fontWeight:"bold",color:"$baseTextHighEmphasis",padding:"$4"},P.ag._({id:"foiYWq"})),H.createElement(X,{item:t,onClick:()=>e(K,t),isVerified:a,caip2:U}));if(n===oe.length&&!r)return H.createElement(H.Fragment,null,H.createElement(I.q,{fontWeight:"bold",color:"$baseTextHighEmphasis",padding:"$4"},P.ag._({id:"9Bnl3Q"})),H.createElement(X,{item:t,onClick:()=>e(K,t),isVerified:a,caip2:U}))}return H.createElement(X,{item:t,onClick:()=>e(K,t),isVerified:a,caip2:U})}),[oe,N.length,e,K,U,re]);return H.createElement(w.FA,{f:1},H.createElement(Y,{blockchainId:K,blockchainFilter:ee,onClickBlockchainFilter:de,search:N,setSearch:R,lockNetwork:t}),te?ce?H.createElement(w.FA,{px:16},H.createElement(O.O,null)):H.createElement(r.default,{contentContainerStyle:{paddingBottom:16,flexGrow:1},numColumns:1,data:me,keyExtractor:fe,renderItem:ke,showsVerticalScrollIndicator:!1,ListEmptyComponent:H.createElement(w.FA,{f:1,jc:"center",marginHorizontal:16},H.createElement(s.ub,{title:he,subtitle:be,icon:e=>H.createElement(L.Y,e)}))}):H.createElement(Ee,null))}function Y({blockchainId:e,blockchainFilter:t,disabled:n,onClickBlockchainFilter:r,search:i,setSearch:o,lockNetwork:c=!1}){const s=(0,T.F)(),d=(0,z.Dv)(p.uV),u=(0,a.useMemo)((()=>Object.entries(d).filter((([,e])=>void 0!==e?.wormholeChainId)).map((([,e])=>e.blockchainId))),[d]),m=!c&&t&&u.length>1;return H.createElement(w.FA,{pb:16,bg:"$baseBackgroundL0",position:"sticky",zIndex:1e3,top:0,left:0,right:0,gap:16},H.createElement(w.FA,{px:16},H.createElement(_.fP,{disabled:n,flex:1,placeholder:P.ag._({id:"PkmMtC"}),testID:l.Xs,value:i,onChangeText:o,iconStart:H.createElement(F.o,{color:s.baseIcon.val})})),m?H.createElement(B.e,{blockchainIds:u,filter:e,setFilter:r,useSupportedNetworks:!0}):null)}function J({onClickRow:e}){const{from:t}=(0,f.iJ)(),{balances:n,isLoading:r}=(0,b.gK)(t),l=(0,D.HJ)(),i=(0,h.pI)(),o=(0,z.Dv)(p.uV),[c,s]=(0,a.useState)(t.blockchainId||"ethereum"),d=(0,a.useMemo)((()=>Object.entries(o).filter((([,e])=>void 0!==e?.wormholeChainId)).map((([,e])=>e.blockchainId))),[o]);return r||!t.blockchainId?H.createElement(Q,null):H.createElement(R.lf,{onClickRow:e,tokens:n,blockchainId:c,onClickBlockchainFilter:e=>{i[e]?s(e):l.push(j.p.ImportWalletNavigator,{screen:m.MG.AddNetwork,params:{blockchain:e,onboarding:!0}})},blockchainFilter:d.length>1,blockchainIds:d})}function X({item:e,onClick:t,isVerified:n,caip2:r}){const{token:s}=e,d=(0,T.F)(),u=(0,c.MY)(e.marketData),m=(0,c.Kx)(e.tokenListEntry),p=(0,D.HJ)(),g=m?.symbol?` ${m.symbol}`:void 0,h=void 0!==u?.value?i.eO.formatToUSD({amount:u.value}):"-",b="USDC"===m?.symbol?.toUpperCase(),E=n&&(!b||s.toLowerCase()in o.KK),f=(0,a.useCallback)((()=>{m?.address&&p.navigate(K.Routes.SwapTokenInfoScreen,{tokenAddress:m.address,caip2:r})}),[p,m,r]),k=(0,a.useCallback)((()=>{t()}),[t]);return H.createElement(x._,{hoverTheme:!0,backgroundColor:"$colorTransparent",px:16,py:12,pointerEvents:"box-none"},H.createElement(w.sL,{f:1,ai:"center",gap:"$3",onPress:k,cursor:"pointer",pointerEvents:"auto",testID:`${l.Vn}${e.token}`},H.createElement($.O,{radius:"$circular",image:m?.logo||o.rI,size:44}),H.createElement(w.FA,{f:1},H.createElement(w.sL,{f:1,ai:"center",justifyContent:"space-between",overflow:"hidden"},H.createElement(w.FA,{flex:1,pr:"$4",overflow:"hidden"},H.createElement(w.sL,{alignItems:"center",gap:"$1"},H.createElement(I.q,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},m?.name||(0,i.R1)(s)),E?H.createElement(M.C,{color:"$greenText",size:16,flexShrink:0}):null),E?null:H.createElement(I.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},(0,i.R1)(s,5))),H.createElement(w.FA,{flexShrink:0,ml:"$4",ai:"flex-end"},H.createElement(I.q,{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",textAlign:"right"},h),H.createElement(I.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",textAlign:"right",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},i.eO.format({amount:Number(e.displayAmount),maximumFractionDigits:4,fractionStyle:"SUBSCRIPT_ZERO_COUNT",largeNumberStyle:"TRUNCATED_WITH_LETTER",suffix:g})))))),H.createElement(S.Kq,{onPress:e=>{e.stopPropagation(),f()},cursor:"pointer",hoverStyle:{opacity:A.IPZ},pressStyle:{opacity:A.IPZ-.1},padding:"$1",marginLeft:"$3"},H.createElement(N.k,{color:d.baseIcon.val,size:20})))}function Q(){return H.createElement(ee,null)}function ee(){return H.createElement(w.FA,{f:1,px:16},H.createElement(w.FA,{gap:16,mb:12},H.createElement(C.O,{height:46,radius:8})),H.createElement(w.FA,{gap:4},Array.from({length:8}).map(((e,t)=>H.createElement(te,{key:t})))))}function te(){return H.createElement(w.sL,{ai:"center",gap:"$3",px:16,py:12},H.createElement(C.O,{height:44,width:44,radius:22}),H.createElement(w.FA,{f:1,gap:"$1"},H.createElement(w.sL,{ai:"center",jc:"space-between"},H.createElement(w.FA,{flex:1,pr:"$4",gap:"$1"},H.createElement(C.O,{height:16,width:120,radius:8}),H.createElement(C.O,{height:12,width:80,radius:8})),H.createElement(w.FA,{ai:"flex-end",gap:"$1",flexShrink:0,ml:"$4"},H.createElement(C.O,{height:16,width:60,radius:8}),H.createElement(C.O,{height:12,width:40,radius:8})))))}},56155:(e,t,n)=>{n.d(t,{P:()=>v});var a=n(202784),r=n(562460),l=n(25825),i=n(670489),o=n(344848),c=n(326951),s=n(337288),d=n(312397),u=n(622845),m=n(382740),p=n(187254),g=n(400752),h=n(239263),b=n(293247),E=n(710224),f=n(997246),k=n(220026),y=n(202784);function v(e){return y.createElement(E.X,{loading:y.createElement(w,null)},y.createElement(I,e))}function w(){return null}function I({navigation:e,route:t}){const n=(0,a.useRef)(void 0),E=(0,c.F)(),{blockchainId:v,progressId:w}=t.params,[I,T]=(0,a.useState)(!1),x=(0,g.Dv)((0,i.G)(w)),$=x.progress??"creating",S=x.signature??null,A=(0,i.J)(x.error??null),C=A?A.length>100?A.slice(0,100)+"...":A:null,{explorerTxUrl:_}=(0,o.U)(v),P={creating:p.ag._({id:"tOAWuq"}),sending:p.ag._({id:"iPfRkl"}),confirming:p.ag._({id:"fAPj6l"}),done:p.ag._({id:"taEz6/"}),error:C??p.ag._({id:"WRB75e"})},D=x.status??((e,t)=>t[e]),L=x.cancel,F=x.retry,M=x.loader??((e,t)=>t()),N=(0,a.useMemo)((()=>x.onClose??(e=>{e.popToTop()})),[x.onClose]),z=x.onOpenExplorer??(()=>{const e=_(S);r.Z.openURL(e)}),R=x.prepend,B=x.append??[()=>y.createElement(s.FA,{key:"spacing"})];return(0,a.useEffect)((()=>{(x.error?.includes("Approval Denied")||x.error?.includes("Plugin Closed"))&&N(e)}),[N,e,x.error]),(0,a.useEffect)((()=>{const t=e.addListener("beforeRemove",(()=>L?.()));return()=>t()}),[]),(0,a.useEffect)((()=>()=>{clearTimeout(n.current)}),[]),y.createElement(s.FA,{padding:"$4",gap:"$4",justifyContent:"space-between"},y.createElement(s.FA,{justifyContent:"space-around",f:1},R?.map(((e,t)=>"string"==typeof e?y.createElement(s.FA,{key:t},y.createElement(m.q,{textAlign:"center"},e)):"function"==typeof e?e(t,$,x.signature):e)),M($,(()=>y.createElement(s.FA,{justifyContent:"center",alignItems:"center"},["creating","sending","confirming"].includes($)?y.createElement(d.C,{width:100,height:100,justifyContent:"center",alignItems:"center",borderColor:"$accentBlue",borderWidth:2},y.createElement(l.Z,{size:"large",color:E.accentBlue.get()})):null,"done"===$?y.createElement(u.SW,null):null,"error"===$?y.createElement(u.Jc,null):null)),x.signature),y.createElement(s.FA,{gap:"$4"},y.createElement(m.q,{textAlign:"center"},D($,P,x.signature)),"error"===$&&A?y.createElement(s.sL,{gap:"$2",alignItems:"center",alignSelf:"center",cursor:"pointer",onPress:async()=>{A&&(clearTimeout(n.current),await navigator.clipboard.writeText(A),T(!0),n.current=setTimeout((()=>T(!1)),5e3))},paddingHorizontal:"$3",paddingVertical:"$2",borderRadius:"$2",hoverStyle:{backgroundColor:"$baseBackgroundL1"}},I?y.createElement(h.J,{color:"$accentBlue",size:16}):y.createElement(b.C,{color:"$baseIcon",size:16}),y.createElement(m.q,{color:"$accentBlue",fontSize:"$sm"},I?p.ag._({id:"PiH3UR"}):p.ag._({id:"lzsa2d"}))):null,y.createElement(m.q,{color:"$accentBlue",cursor:"pointer",textAlign:"center",fontSize:"$sm",onPress:()=>z(S)},S?p.ag._({id:"LWBqW/"}):null)),B?.map(((e,t)=>"string"==typeof e?y.createElement(s.FA,{key:t},y.createElement(m.q,{textAlign:"center"},e)):"function"==typeof e?e(t,$,x.signature):e))),y.createElement(s.FA,{gap:"$4"},"error"===$&&A?.includes(p.ag._({id:"T0W3Z8"}))?y.createElement(s.FA,{flex:1},y.createElement(f.x,{variant:"secondary",onPress:()=>{N(e)},label:p.ag._({id:"dEgA5A"})})):"error"===$?y.createElement(s.sL,{gap:"$4"},y.createElement(s.FA,{flex:1},y.createElement(f.x,{variant:"secondary",onPress:()=>{N(e)},label:p.ag._({id:"dEgA5A"})})),y.createElement(s.FA,{flex:1},y.createElement(f.x,{variant:"primary",onPress:()=>{F?.()},label:p.ag._({id:"6gRgw8"})}))):null,"done"===$?y.createElement(s.FA,null,y.createElement(f.x,{variant:"primary",onPress:()=>{N(e)},label:p.ag._({id:"DPfwMq"}),testID:k.hl})):null,"error"!==$&&"done"!==$?y.createElement(s.FA,null,y.createElement(f.x,{variant:"secondary",onPress:()=>{N(e)},label:p.ag._({id:"yz7wBu"})})):null))}},345167:(e,t,n)=>{n.d(t,{e:()=>o});var a=n(337288),r=n(433285),l=n(916736),i=n(202784);function o({Icon:e,title:t,subtitle:n,buttonText:o,onPress:c,minimize:s,...d}){return i.createElement(l.s,null,i.createElement(a.FA,{flex:1,justifyContent:"center",alignItems:"center"},i.createElement(r.p,{Icon:e,title:t,subtitle:n,buttonText:o,onPress:c,minimize:s,...d})))}},433285:(e,t,n)=>{n.d(t,{p:()=>m});var a=n(629179),r=n(326951),l=n(59727),i=n(337288),o=n(382740),c=n(997246),s=n(202784);function d({Icon:e,title:t,subtitle:n,buttonText:a,onPress:d,minimize:u,footerContent:m,...p}){const g=(0,r.F)();return s.createElement(l.G7,{bg:"$baseBackgroundL1",borderRadius:16,padding:16,width:"100%",gap:24,...p},s.createElement(l.G7,{h:70,alignItems:"center",justifyContent:"center"},s.createElement(e,{size:48,style:{color:g.baseIcon.val,alignSelf:"center",width:48,height:48}})),s.createElement(i.FA,{ai:"center",gap:16},s.createElement(o.q,{textAlign:"center",fontSize:24},t),!0!==u?s.createElement(o.q,{color:"$baseTextMedEmphasis",textAlign:"center",fontSize:16},n):null),!0!==u&&d&&a?s.createElement(c.x,{variant:"primary",disabled:!1,label:a,onPress:()=>d()}):null,m)}var u=n(202784);function m({Icon:e=a.I,...t}){return u.createElement(d,{Icon:e,...t})}},270254:(e,t,n)=>{n.d(t,{s:()=>o});var a=n(337288),r=n(382740),l=n(288237),i=n(202784);function o({title:e,subtitle:t,icon:n,spinnerSize:o,iconSize:c,colors:s,size:d="large"}){const u="small"===d,m=o??(u?40:80),p=c??(u?20:40),g=s??["#007AFF"],h=e&&e.trim()?e:null;return i.createElement(a.FA,{flex:u?0:1,ai:"center",jc:"center",padding:"$2",gap:u?4:24},i.createElement(l._,{spinnerSize:m,iconSize:p,icon:n||(()=>null),colors:g}),h&&i.createElement(r.q,{fontSize:u?"$md":"$2xl",color:"$baseTextHighEmphasis",textAlign:"center",fontWeight:"500"},h),t&&i.createElement(r.q,{color:"$baseTextMedEmphasis",fontSize:u?"$sm":"$md",textAlign:"center"},t))}},481713:(e,t,n)=>{n.d(t,{L:()=>h});var a=n(337288),r=n(202784),l=n(886526),i=n(917518),o=n(33229),c=n(202784);const s=e=>c.createElement(l.II,{flex:1,height:42,borderRadius:"$3",backgroundColor:"$baseBackgroundL2",color:"$baseTextHighEmphasis",paddingVertical:0,fontSize:15,fontFamily:"$body",fontWeight:"400",textAlignVertical:"center",...e}),d=e=>c.createElement(i.x,{position:"absolute",left:"$2",color:"$baseTextMedEmphasis",fontSize:15,paddingVertical:0,fontFamily:"$body",fontWeight:"400",textAlignVertical:"center",...e}),u=({ref:e,index:t,value:n,onChangeText:r,onKeyPress:l})=>{const i=`${t+1}`;return c.createElement(a.sL,{flex:1,alignItems:"center"},c.createElement(s,{ref:e,value:n,onChangeText:e=>{const t=e.replace(/\s/g,"").toLowerCase();r(t),e.length>n.length&&" "===e.trim()&&l("next")},onKeyPress:e=>{const t=e.nativeEvent.key;"Backspace"===t&&""===n?l("Backspace"):" "!==t&&"Enter"!==t||(e.preventDefault(),l("next"))},paddingLeft:"web"===o.default.OS?28:32}),c.createElement(d,null,i))};u.displayName="MnemonicInputBox";var m=n(202784);const p=3,g="$2";function h({mnemonicWords:e,onChange:t,onComplete:n}){const l=(0,r.useRef)([]),i=(0,r.useCallback)(((e,t)=>{if("next"===e){const e=l.current[t+1];e?e.focus():n()}else if("previous"===e){const e=l.current[t-1];e&&e.focus()}}),[n]),o=(0,r.useCallback)(((n,a)=>{const r=[...e];r[n]=a,t(r)}),[e,t]),c=(0,r.useCallback)(((t,n)=>{"Backspace"===t&&""===e[n]?i("previous",n):"next"===t&&i("next",n)}),[i,e]);return m.createElement(a.FA,{gap:g},Array.from({length:e.length/p}).map(((t,n)=>m.createElement(a.sL,{key:`row-${n}`,gap:g},Array.from({length:p}).map(((t,a)=>{const r=n*p+a,i=e[r];return m.createElement(u,{key:`input-${r}`,ref:e=>{e&&(l.current[r]=e)},index:r,value:i,onChangeText:e=>o(r,e),onKeyPress:e=>c(e,r)})}))))))}},916736:(e,t,n)=>{n.d(t,{s:()=>o});var a=n(337288),r=n(65457),l=n(202784),i=n(202784);const o=(0,l.forwardRef)((({px:e=!0,pb:t=!0,pt:n=!0,scrollable:l=!0,children:o},c)=>{const s=Array.isArray(o)?o.slice(0,-1):o,d=Array.isArray(o)?o[o.length-1]:null;return i.createElement(a.FA,{ref:c,flex:1,maxHeight:400,padding:e?16:0,paddingTop:n?16:0,paddingBottom:t?16:0},i.createElement(a.FA,{flex:1},l?i.createElement(r.p,{flex:1,contentContainerStyle:{flexGrow:1},showsVerticalScrollIndicator:!1},i.createElement(a.FA,{flex:1},s)):i.createElement(a.FA,{flex:1},s),i.createElement(a.FA,null,d)))}));o.displayName="BpScreen"},42568:(e,t,n)=>{n.d(t,{n:()=>l});var a=n(187254),r=n(742242);function l(e,t,n,l){try{const i=e.trim();let o;if(i.startsWith("m"))o=i;else{const e=i.startsWith("/")?i.slice(1):i,n=t.replace(/^m\//,"").split("/").filter(Boolean),a=e.split("/").filter(Boolean);let r=0;a.length>=n.length&&n.every(((e,t)=>{var n;return e.replace(/'/g,"")===((null===(n=a[t])||void 0===n?void 0:n.replace(/'/g,""))||"")}))&&(r=n.length);const l=a.slice(r).join("/");o=t+(l?`/${l}`:"")}const{derivationPathPattern:c,derivationPathPatternError:s}=(0,r.t)(n,o,t,null!=l&&l);return s||!c?{isValid:!1,error:s||a.ag._({id:"eKooK2"})}:{isValid:!0,normalizedPattern:c}}catch(e){return{isValid:!1,error:a.ag._({id:"6H3ueG"})}}}},328831:(e,t,n)=>{n.d(t,{P:()=>l});var a=n(476265),r=n(187254);class l extends Error{code;constructor(e,t){const n=function(e,t){switch(e){case a.e6.REQUIRED_DATA_UNAVAILABLE:return r.ag._({id:"54L/jq"});case a.e6.KEYRING_UNLOCK_TIMEDOUT:return r.ag._({id:"xPO5u4"});case a.e6.UNSUPPORTED_DESCRIPTOR_TYPE:return r.ag._({id:"SdZZca"});case a.e6.MISSING_MNEMONIC:return r.ag._({id:"4xtvsF"});case a.e6.MISSING_DESCRIPTOR:return r.ag._({id:"vNSPn0"});case a.e6.ALREADY_IMPORTED:return r.ag._({id:"00E8UC"});case a.e6.MISSING_BLOCKCHAIN_ECOSYSTEM:case a.e6.MISSING_BLOCKCHAIN_NETWORK:return r.ag._({id:"XQPdAS"});case a.e6.MISSING_SECURE_USER:return r.ag._({id:"douizP"});case a.e6.MISSING_DERIVATION_PATHS:return r.ag._({id:"N8XR/e"});case a.e6.NEED_PASSWORD_SETUP:return r.ag._({id:"53G8Vm"});case a.e6.INVALID_PRIVATE_KEY:return r.ag._({id:"7cOe1Z"});case a.e6.INVALID_PUBLIC_KEY:return r.ag._({id:"BBTna2"});case a.e6.WALLET_TYPE_NOT_FOUND:return r.ag._({id:"0XI+Q4"});case a.e6.ADDRESS_TYPE_NOT_FOUND:return r.ag._({id:"H5D8Q4"});case a.e6.HARDWARE_WALLET_CONNECTION_FAILED:return r.ag._({id:"7iMrxl"});case a.e6.INVALID_DERIVATION_PATH:return r.ag._({id:"Q1XWaK"});case a.e6.DERIVATION_PATH_NORMALIZATION_FAILED:return r.ag._({id:"GJTHpT"});case a.e6.DERIVATION_PATH_GENERATION_FAILED:return r.ag._({id:"bQGu/d"});case a.e6.PUBLIC_ADDRESS_FETCH_FAILED:return r.ag._({id:"BGncKe"});case a.e6.PREVIEW_WALLETS_FAILED:return r.ag._({id:"cJ5FKh"});case a.e6.EMPTY_DERIVATION_PATHS:return r.ag._({id:"jADYYZ"});case a.e6.MISSING_HARDWARE_DEVICE_TYPE:return r.ag._({id:"ijtazw"});case a.e6.MISSING_GAP_LIMIT:return r.ag._({id:"nwtY4N"});case a.e6.FAILED_TO_FETCH_BALANCE:return r.ag._({id:"/pNnyQ"});case a.e6.APPROVAL_DENIED_POPUP_CLOSED:return r.ag._({id:"Z6SPBy"});case a.e6.GENERIC:default:return t||r.ag._({id:"BKcp+k"})}}(e,t);super(n),this.code=e,Object.defineProperty(this,"message",{enumerable:!0}),Object.setPrototypeOf(this,l.prototype)}}},196390:(e,t,n)=>{n.d(t,{HC:()=>c,Xi:()=>d,bA:()=>u,kP:()=>m,lC:()=>s,tm:()=>p});var a=n(202784),r=n(541214),l=n(830349),i=n(343628),o=n(893086);const c=()=>{const{blockchainId:e}=(0,r.rT)(),t=(0,l.x)(e);return(0,i.a)({queryKey:["epochInfo"],queryFn:()=>t.solanaRpc.getEpochInfo()})},s=e=>{const{blockchainId:t}=(0,r.rT)(),n=(0,l.x)(t),a=d(e);return(0,i.a)({queryKey:["staking",e,"inflationRewards"],enabled:Boolean(a.data),queryFn:async()=>(await n.solanaRpc.getInflationReward(a.data.map((e=>e.pubkey)))).map(((e,t)=>[a.data[t].pubkey,e]))})},d=e=>{const{blockchainId:t}=(0,r.rT)(),n=(0,l.x)(t);return(0,i.a)({queryKey:["staking",e,"getProgramAccounts"],queryFn:async()=>(await n.solanaRpc.getProgramAccounts("Stake11111111111111111111111111111111111111",{commitment:"confirmed",filters:[{memcmp:{offset:44,bytes:e}}]})).map((e=>({pubkey:e.pubkey,lamports:e.account.lamports})))})},u=e=>{const{blockchainId:t}=(0,r.rT)(),n=(0,l.x)(t),u=d(e),m=s(e),p=(0,i.a)({queryKey:["staking",e,"getParsedAccountInfo"],enabled:Boolean(u.data),queryFn:async()=>(await Promise.all(u.data.map((({pubkey:e})=>n.solanaRpc.getParsedAccountInfo(e,"processed"))))).map((({value:e},t)=>({value:e,...u.data[t]}))).filter((e=>e?.pubkey&&e?.value)).sort(((e,t)=>{const n=Number(t.value.data.parsed.info.stake.delegation.stake)-Number(e.value.data.parsed.info.stake.delegation.stake);return 0===n?e.pubkey.localeCompare(t.pubkey):n})).map(((e,t)=>({...e,index:t})))}),h=(0,i.a)({queryKey:["staking",e,"getStakeActivationFromWorker"],enabled:Boolean(u.data),queryFn:async()=>(await Promise.allSettled(u.data.map((({pubkey:e})=>g(`stake-activation/${e}`))))).map(((e,t)=>{if("fulfilled"===e.status)return[u.data[t].pubkey,e.value]})).filter((e=>void 0!==e))}),b=c(),[E,f]=(0,a.useState)({});(0,a.useEffect)((()=>{p.data?.forEach((({pubkey:e,...t})=>{const n=t.value?.data.parsed.info;f((a=>{return{...a,[e]:{...a[e]??{},index:t.index,lamports:t.lamports,stakeAccount:n?(r=n,{meta:{authorized:r.meta.authorized,lockup:{custodian:r.meta.lockup.custodian,epoch:Number(r.meta.lockup.epoch),unixTimestamp:Number(r.meta.lockup.unixTimestamp)},rentExemptReserve:r.meta.rentExemptReserve},stake:{creditsObserved:Number(r.stake.creditsObserved),delegation:{activationEpoch:r.stake.delegation.activationEpoch,deactivationEpoch:r.stake.delegation.deactivationEpoch,stake:r.stake.delegation.stake,voter:r.stake.delegation.voter,warmupCooldownRate:Number(r.stake.delegation.warmupCooldownRate)}}}):void 0}};var r}))}))}),[p.data]),(0,a.useEffect)((()=>{m.data?.forEach((([e,t])=>{f((n=>({...n,[e]:{...n[e]??{},rewards:t}})))}))}),[m.data]),(0,a.useEffect)((()=>{h.data?.forEach((e=>{if(e){const[t,n]=e;f((e=>({...e,[t]:{...e[t]??{},stakeActivation:n}})))}}))}),[h.data]);const k=Object.entries(E).filter((([e])=>u.data?.find((t=>t.pubkey===e))?.lamports)).map((([e,t])=>({pubkey:e,...t}))).sort(((e,t)=>(e.index??0)-(t.index??0))),y={};return k.filter((0,o.ql)(e,b.data?.epoch)).forEach((e=>{y[e.stakeAccount.stake.delegation.voter]??=0,y[e.stakeAccount.stake.delegation.voter]+=1})),{hasLoadedSomeData:p.isFetched||h.isFetched||m.isFetched,data:k.map((e=>{if(e.stakeAccount&&e.stakeActivation&&b.data){const t="active"===e.stakeActivation.state&&e.stakeAccount.stake.delegation.voter&&y[e.stakeAccount.stake.delegation.voter]>1;return{...e,can:{merge:t}}}return e}))}},m=()=>(0,i.a)({queryKey:["staking","validators"],refetchOnMount:!1,queryFn:async()=>(await g("v1/validators")).validators}),p=()=>{const e=(0,a.useRef)(!1);return(0,a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e};async function g(e){const t=["xnfts.dev","bpinfra.xyz"];for(const n of t){const t=new AbortController,a=setTimeout((()=>t.abort()),15e3);try{const a=await fetch(`https://staking.${n}/${e}`,{signal:t.signal});return await a.json()}catch{continue}finally{clearTimeout(a)}}throw new Error(`All staking worker requests failed or timed out (${t})`)}},893086:(e,t,n)=>{n.d(t,{_v:()=>l,bv:()=>r,dv:()=>i,ql:()=>o});var a=n(849494);const r=(e,{approx:t=!0,appendTicker:n=!1,integerIfIsOneOrMore:r=!1}={})=>{let l=t?((e,t=5)=>{const n=a.bM(e,9);if(!n.includes("."))return n;const[r,l]=n.split(".");let i=l.slice(0,t);const o=l.slice(t);if(i.match(/^0*$/)){const e=o.match(/[^0]/);e&&(i+=o.slice(0,o.indexOf(e[0])+1))}return i=i.replace(/0+$/,""),""===i?r:`${r}.${i}`})(e.toString()):a.bM(e,9);return"0.0"===l&&(l="0"),r&&!l.startsWith("0.")&&(l=l.split(".")[0]),n?l.concat(" SOL"):l},l=e=>new Promise((t=>setTimeout(t,e))),i={active:"$greenText",inactive:"$redText",activating:"$yellowText",deactivating:"$yellowText"},o=(e,t,n)=>{const a=Date.now()/1e3;return r=>{let l=Boolean(r.stakeAccount&&r.stakeActivation&&t&&"active"===r.stakeActivation.state&&r.stakeAccount.meta.lockup.unixTimestamp<a&&r.stakeAccount.meta.lockup.epoch<=t&&r.stakeActivation.active>0&&r.stakeAccount.meta.authorized.withdrawer===e);return r.stakeAccount&&n?.stakeAccount&&(l&&=Boolean(r.pubkey!==n.pubkey&&r.stakeAccount.stake.delegation.voter===n.stakeAccount.stake.delegation.voter)),l}}},391602:(e,t,n)=>{n.d(t,{Kh:()=>E,b_:()=>w,bv:()=>f,vW:()=>I});var a=n(476265),r=n(328831),l=n(742242),i=n(565058),o=n(987809),c=n(972160),s=n(780594),d=n.n(s),u=n(779297),m=n(489911),p=n(66046),g=n(23767);const h={results:{},paginationStates:{},isLoading:!1,onboardingError:void 0,isInitialSearch:!0,pageSize:a.YD,hasMore:!1},b=(0,o.O4)("advancedAccountSearchResults",h),E=(0,i.cn)(null,((e,t)=>{t(b,h)})),f=(0,o.rw)(null),k=e=>`${e.blockchain}-${e.blockchainId}-${e.walletType}-${e.selectedAddressType}-${e.selectedDerivationOptionLabel||""}-${e.customDerivationPathPattern||""}`,y=(e,t,n)=>{e(b,(e=>{const a=t(e),r=k(n);return{...a,paginationStates:{...a.paginationStates,[r]:{page:a.paginationStates[r]?.page??1,hasMore:a.hasMore}}}}))},v=(0,c.j)(b,((e,t)=>{const n=e(f);if(!n)return void t(b,h);const l=new AbortController,i=l.signal,o=d()((async()=>{try{const a=await e(w);if(!a)return void y(t,(e=>({...e,isLoading:!1})),n);const r=k(n);y(t,(e=>({...e,isLoading:!0,currentDerivationPathPattern:a,paginationStates:{...e.paginationStates,[r]:e.paginationStates[r]||{page:1,hasMore:!0}}})),n);const l=await e(u.f),o=e(b),c=await e(p.SW),s=l.searchAddresses({...n,blockchainEcosystems:c,fundedOnly:!1,signal:i,page:o.paginationStates[r].page,pageSize:o.pageSize});for await(const e of s){if(i.aborted)return;const l=e.filter((e=>e.derivationPathPattern===a));if(y(t,(t=>{const i={...t.results,[a]:{...t.results[a],[n.blockchain]:{...t.results[a]?.[n.blockchain]||{},...Object.fromEntries(l.map((e=>[e.publicKey,e])))}}},o=e.length===t.pageSize;return{...t,results:i,paginationStates:{...t.paginationStates,[r]:{page:t.paginationStates[r].page+1,hasMore:o}},isInitialSearch:!1,hasMore:o}}),n),!e||0===e.length)break}}catch(e){if(i.aborted)return;const l=e instanceof r.P?e:new r.P(a.e6.GENERIC,e instanceof Error?e.message:void 0);y(t,(e=>({...e,onboardingError:l,isLoading:!1,hasMore:!1})),n)}finally{i.aborted||y(t,(e=>({...e,isLoading:!1})),n)}}),500);return o(),()=>{l.abort(),o.cancel(),n||t(b,h)}})),w=(0,i.cn)((async e=>{const t=e(f);if(t){if(t.customDerivationPathPattern)return t.customDerivationPathPattern;if(t.selectedDerivationOptionLabel){const n=(await e((0,g.j)({blockchain:t.blockchain,walletType:t.walletType,addressType:t.selectedAddressType,hardwareDeviceType:t.hardwareDeviceType}))).find((e=>e.label===t.selectedDerivationOptionLabel)),a=(await e(p.SW))[t.blockchain].blockchainConfig.addressTypes[t.selectedAddressType],r=a?.derivationPathPrefix;if(!n||!r)return;const i=r+n.pattern,o=a?.derivationPathRequireHardening??!1,{derivationPathPattern:c,derivationPathPatternError:s}=(0,l.t)(t.blockchain,i,r,o);if(s||!c)return;return c}}})),I=(0,i.cn)((e=>{const t=e(b),n=e(f),r=t.currentDerivationPathPattern,l=e(m.Wn),i=l.flowEntrypoint===a.g1.ADD_WALLET,o=l.blockchainSelections?.[0]?.blockchain;e(v);const c={};if(r&&t.results[r]){const e=t.results[r];c[r]=i&&o?{[o]:e[o]||{}}:e}const s=!(null===n||0!==Object.keys(c).length||r&&t.results[r]);return{...t,results:c,isLoading:s||t.isLoading,isInitialSearch:!!s||t.isInitialSearch}}))},840817:(e,t,n)=>{n.d(t,{T:()=>m});var a=n(328831),r=n(476265),l=n(769378),i=n.n(l),o=n(565058),c=n(987809),s=n(779297),d=n(66046),u=n(489911);const m=(0,c.xu)((({blockchain:e,walletType:t,hardwareDeviceType:n})=>(0,c.kv)((0,o.cn)((async l=>{const i=l(u.Wn),o=await l(s.f);if(i.blockchainSelections.length<1)return[];const c=l((0,d.RB)(e));try{if(!c.walletTypes[t])throw new a.P(r.e6.WALLET_TYPE_NOT_FOUND);return o.getCompatibleAddressTypeConfigs(c,t,n)}catch{return[]}})),(e=>e),i())),((e,t)=>e.blockchain===t.blockchain&&e.walletType===t.walletType&&e.hardwareDeviceType===t.hardwareDeviceType))},227883:(e,t,n)=>{n.d(t,{b:()=>m,q:()=>u});var a=n(328831),r=n(476265),l=n(778908),i=n(565058),o=n(987809),c=n(779297),s=n(489911),d=n(495320);const u=(0,o.xu)((e=>(0,i.cn)({status:"idle"}))),m=(0,i.cn)(null,(async(e,t)=>{const n=crypto.randomUUID();await t(s.Wn,{creationProcessId:n}),t(u(n),{status:"loading"}),(async(e,t,n)=>{const i=u(n);try{const n=await e(c.f);if(!await e(d.A))return void t(i,{status:"error",error:new a.P(r.e6.REQUIRED_DATA_UNAVAILABLE)});if(await n.createWallets(),await e(d.A)!==l.a.Unlocked&&!await(async(e,t=1e4)=>{const n=Date.now();for(;Date.now()-n<t;)if(await new Promise((e=>setTimeout(e,500))),await e(d.A)===l.a.Unlocked)return!0;return!1})(e))throw new a.P(r.e6.KEYRING_UNLOCK_TIMEDOUT);"success"!==e(i).status&&t(i,{status:"success"})}catch(e){t(i,{status:"error",error:e.code?e:new a.P(r.e6.GENERIC,e instanceof Error?e.message:void 0)})}})(e,t,n)}))},23767:(e,t,n)=>{n.d(t,{_:()=>p,j:()=>m});var a=n(328831),r=n(476265),l=n(769378),i=n.n(l),o=n(565058),c=n(987809),s=n(779297),d=n(66046),u=n(489911);const m=(0,c.xu)((({blockchain:e,walletType:t,addressType:n,hardwareDeviceType:l})=>(0,c.kv)((0,o.cn)((async i=>{if(i(u.Wn).blockchainSelections.length<1)return[];const o=i((0,d.RB)(e)),c=await i(s.f);try{const e=o.walletTypes[t];if(!e)throw new a.P(r.e6.WALLET_TYPE_NOT_FOUND);if((e.incompatibleAddressTypes??[]).includes(n))return[];const i=o.addressTypes[n];if(!i)return[];const s=[],d=c.getDerivationPathOptions(i,l).filter((e=>!e.hidden)).map((e=>({...e,addressType:i.addressType,addressTypeLabel:i.label})));return s.push(...d),s}catch{return[]}})),(e=>e),i())),((e,t)=>e.blockchain===t.blockchain&&e.walletType===t.walletType&&e.addressType===t.addressType&&e.hardwareDeviceType===t.hardwareDeviceType)),p=(0,c.xu)((e=>(0,o.cn)((async t=>(await t(s.f)).isCustomDerivationPatternSupported(e)))))},391765:(e,t,n)=>{n.d(t,{M:()=>o});var a=n(181994),r=n(443801),l=n(817967),i=n(565058);const o=(0,n(987809).xu)((e=>(0,i.cn)((()=>{const t=a.nh?"mobile":"extension";return Object.entries(r.Z).map((([e,t])=>({deviceType:t.device,displayName:t.name}))).filter((({deviceType:n})=>!!e.blockchainId&&!!(n!==l.$I.SAGA_SEED_VAULT||a.nh&&e.seedVaultAvailable)&&!0===r.Z[n]?.supportedNetworks[t][e.blockchainId]))}))),((e,t)=>e.seedVaultAvailable===t.seedVaultAvailable&&e.blockchainId===t.blockchainId))},516060:(e,t,n)=>{n.d(t,{W:()=>c});var a=n(476265),r=n(565058),l=n(972160),i=n(779297);const o=(0,r.cn)(a.Wz.MNEMONIC_CREATE_NEW_PHRASE),c=(0,l.j)(o,((e,t)=>{(async()=>{const n=await e(i.f),a=await n.evaluateInitType();t(o,a)})()}))},665214:(e,t,n)=>{n.d(t,{gH:()=>g,p5:()=>b,Vr:()=>w});var a=n(328831),r=n(476265),l=n(565058),i=n(972160),o=n(987809),c=n(66046),s=n(779297),d=n(489911),u=n(237697);const m={fundedResults:{},isLoading:!1,isInitialSearch:!0,fallbackDerivationPath:void 0},p=(0,o.O4)("fundedSearchResults",m),g=(0,l.cn)(null,((e,t)=>{setTimeout((()=>{t(p,m)}),500)})),h=(e,t)=>{e(p,(e=>{const n=t(e),a=(e,t)=>"bigint"==typeof t?t.toString():t;return JSON.stringify(n,a)!==JSON.stringify(e,a)?n:e}))},b=(0,l.cn)({searchParams:null});let E=null,f=null,k=0;const y=e=>JSON.stringify(e),v=(0,i.j)(p,((e,t)=>{const{searchParams:n}=e(b);if(!n)return;const l=y(n),i=Date.now();if(f===l){const t=e(p),n=i-k;if(t.isLoading)return;if(n<1e3)return;if(E&&!E.signal.aborted)return}k=i;const o=new AbortController,d=n=>{const a=n.some((e=>Object.values(e.balances).some((e=>e&&BigInt(e.balance)>BigInt(0)))));if(((e,t,n)=>{e(p,(e=>{const a={...e.fundedResults},r=t.filter((e=>Object.values(e.balances).some((e=>e&&BigInt(e.balance)>BigInt(0)))));return r.length>0&&(a[n]||(a[n]={solana:{},ethereum:{},bitcoin:{},sui:{},aptos:{},tron:{}}),a[n][r[0].blockchain]||(a[n][r[0].blockchain]={}),r.forEach((e=>{a[n][e.blockchain][e.publicKey]=e}))),{...e,fundedResults:a,isLoading:!0,isInitialSearch:0===r.length&&e.isInitialSearch,searchParamsKey:n}}))})(t,n,l),n.length>0&&!a){const a=e(p),r=function(e,t){return e||t.find((e=>!e.imported))?.derivationPathLabel||t[0]?.derivationPathLabel}(a.fallbackDerivationPathLabel,n);if(!r)return;const l=a.fallbackDerivationPath,i=a.fallbackDerivationPathPattern||n.find((e=>e.derivationPath===l))?.derivationPathPattern,o=l&&i?(0,u.Y4)(l,i):1/0,c=function(e,t){if(t)return e.filter((e=>!e.imported&&e.derivationPathLabel===t)).sort(((e,t)=>(0,u.Y4)(e.derivationPath,e.derivationPathPattern)-(0,u.Y4)(t.derivationPath,t.derivationPathPattern)))[0]}(n,r);c&&(0,u.Y4)(c.derivationPath,c.derivationPathPattern)<o&&h(t,(e=>({...e,fallbackDerivationPath:c.derivationPath,fallbackDerivationPathLabel:c.derivationPathLabel,fallbackDerivationPathPattern:c.derivationPathPattern})))}};return f=l,E&&E.abort("New search started"),E=o,t(p,{...m,fundedResults:{},isLoading:!0,isInitialSearch:!0,onboardingError:void 0,searchParamsKey:l}),setTimeout((()=>{(async()=>{try{const a=await e(c.SW),i=await e(s.f),u=e(p).fundedResults[l];if(u&&Object.keys(u).length>0)return void h(t,(e=>({...e,fundedResults:{...e.fundedResults,[l]:u},isLoading:!1,isInitialSearch:!1})));const m=r.oG,g=Math.min(m,r.Nm),b=i.searchAddresses({...n,blockchainEcosystems:a,fundedSearchGapLimit:m,fundedSearchBatchSize:g,fundedOnly:!0,signal:o?.signal});for await(const e of b){if(o?.signal.aborted)break;Array.isArray(e)&&d(e)}}catch(e){(e=>{e instanceof Error&&"AbortError"===e.name||h(t,(t=>({...t,onboardingError:e.code?e:new a.P(r.e6.GENERIC,e instanceof Error?e.message:String(e)),isLoading:!1})))})(e)}finally{h(t,(e=>({...e,isLoading:!1,isInitialSearch:!1}))),f=null}})()}),0),()=>{E!==o&&o?.abort("Effect cleanup")}})),w=(0,l.cn)((e=>{const t=e(p),{searchParams:n}=e(b),a=t.searchParamsKey,l=e(d.Wn),i=l.flowEntrypoint===r.g1.ADD_WALLET,o=l.blockchainSelections?.[0]?.blockchain;e(v);const c={};if(a&&t.fundedResults[a]){const e=t.fundedResults[a];if(i&&o){const t=e[o];t&&Object.keys(t).length>0&&(c[a]={[o]:t})}else Object.values(e).some((e=>Object.keys(e).length>0))&&(c[a]=e)}const s=null!==n,u=s?y(n):null,m=null!==u&&t.searchParamsKey===u,g=t.isLoading||s&&!m;return{...t,fundedResults:c,isLoading:g,isInitialSearch:!!g||t.isInitialSearch}}))},343391:(e,t,n)=>{n.d(t,{o:()=>a});const a=(0,n(565058).cn)({selectedAddresses:[]})},101081:(e,t,n)=>{n.d(t,{C:()=>p});var a=n(328831),r=n(565058),l=n(780594),i=n.n(l),o=n(840817),c=n(779297),s=n(489911);const d={status:"idle",previews:[]},u=(0,r.cn)(d);let m=null;const p=(0,r.cn)((e=>e(u)),(async(e,t,n,r=!1)=>{if(!n)return d;t(u,d);const l=async n=>{try{t(u,{status:"checking",previews:[]});const a=await e(c.f),r=e(s.Wn),l=r.blockchainSelections[0];if(!l){const e={status:"error",errorMessage:"No blockchain selected",previews:[]};return t(u,e),e}const{blockchain:i,walletTypes:d}=l,m=d[0]?.walletType;if(!i||!m){const e={status:"error",errorMessage:"Invalid blockchain selection",previews:[]};return t(u,e),e}const p=(await e((0,o.T)({blockchain:i,walletType:m,hardwareDeviceType:r.hardwareDeviceType}))).map((e=>e.addressType)),g={status:"valid",errorMessage:void 0,previews:await a.setWalletDescriptor(n,p)};return t(u,g),g}catch(e){const n={status:"error",errorMessage:new a.P(e.code,e.message).message,previews:[]};return t(u,n),n}};return r?(m||(m=i()(((e,t)=>{l(e).then(t)}),500,{leading:!1,trailing:!0})),new Promise((e=>{m(n,e)}))):l(n)}))},451217:(e,t,n)=>{n.d(t,{O:()=>c});var a=n(565058),r=n(987809),l=n(779297),i=n(489911),o=n(66046);const c=(0,r.xu)((e=>(0,a.cn)((async t=>{const n=t(i.Wn),a=await t(l.f),{flowEntrypoint:r}=n,c=e?await t((0,o.Cd)(e)):void 0;return a.getAvailableWalletImportMethods(r,c)}))))},786052:(e,t,n)=>{n.d(t,{l:()=>r});var a=n(565058);const r=(0,a.cn)(null);(0,a.cn)(null)}}]);