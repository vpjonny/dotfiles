"use strict";(globalThis.webpackChunk_coral_xyz_app_extension=globalThis.webpackChunk_coral_xyz_app_extension||[]).push([[3842],{237697:(e,t,a)=>{a.d(t,{BO:()=>h,Tk:()=>y,Y4:()=>p,bn:()=>b,tI:()=>d,xO:()=>u});var n=a(44171),i=a(181994),r=a(476265),s=a(817967),o=a(443801),c=a(742242),l=a(517840);function d(e){const t=function(e){const{addressType:t,blockchainConfig:a,hardwareDeviceType:i,selectedDerivationOptionLabel:o,customDerivationPathPattern:d,includeHidden:u,pageSize:p,page:b}=e,y=a.addressTypes[t];if(!y)throw new l.P(r.e6.ADDRESS_TYPE_NOT_FOUND);const{derivationPathPrefix:g,derivationPathRequireHardening:T}=y;let w=h(y,u,i);if(o&&(w=w.filter((e=>e.label===o)),0===w.length))throw new l.P(r.e6.INVALID_DERIVATION_PATH);const v=(b-1)*p;return w.flatMap((t=>{const a=d||g+t.pattern,{derivationPathPattern:o,derivationPathPatternError:h}=(0,c.t)(e.blockchain,a,g,T);if(h||!o)throw new l.P(r.e6.INVALID_DERIVATION_PATH);let u=o.includes("x")?(0,c.d)(o,p,v).map((e=>({derivationPathPattern:o,derivationPath:e,derivationPathLabel:t.label}))):[{derivationPathPattern:o,derivationPath:o,derivationPathLabel:t.label}];if(i===s.$I.KEYSTONE){if(v>=n.$f)return[];const e=n.$f-v;u=u.slice(0,Math.min(e,p))}return u}))}({...e,pageSize:e.pageSize*e.page,page:1}),a=(e.page-1)*e.pageSize,i=a+e.pageSize;return t.slice(a,i)}function h(e,t,a){let n=e.derivationPathOptions;const r=e.addressType;return a&&r&&(n=function(e,t,a){var n,r,s,c,l;const d=i.nh?"mobile":"extension",h=o.Z[a];return!h||(null===(n=h.incompatibleAddressTypes)||void 0===n?void 0:n.includes(t))||0===Object.entries(null!==(r=h.supportedNetworks[d])&&void 0!==r?r:{}).filter((([e,t])=>t)).map((([e])=>e)).length?[]:null!==(l=null===(c=null===(s=h.addressTypeOverrides)||void 0===s?void 0:s[t])||void 0===c?void 0:c.derivationPathOptions)&&void 0!==l?l:e}(n,r,a)),n=t?n:n.filter((e=>!e.hidden)),n}function u(e){const t=e.blockchainEcosystem.blockchainConfig.addressTypes[e.addressType];if(!t)throw new l.P(r.e6.ADDRESS_TYPE_NOT_FOUND);const a=h(t,e.includeHidden,e.hardwareDeviceType);let n=a;if(e.selectedDerivationOptionLabel&&(n=a.filter((t=>t.label===e.selectedDerivationOptionLabel)),0===n.length))throw console.error("No options found for label:",e.selectedDerivationOptionLabel),new l.P(r.e6.INVALID_DERIVATION_PATH);return n.map((a=>{const n=e.customDerivationPathPattern||t.derivationPathPrefix+a.pattern,{derivationPathPattern:i,derivationPathPatternError:s}=(0,c.t)(e.blockchain,n,t.derivationPathPrefix,t.derivationPathRequireHardening);if(s||!i)throw new l.P(r.e6.INVALID_DERIVATION_PATH);return{derivationPathPattern:i,derivationPathLabel:a.label}}))}function p(e,t){const a=t.split("/"),n=e.split("/"),i=a.findIndex((e=>"x"===e.replace(/'$/,"")));if(-1===i)return 0;if(i>=n.length)return 1/0;const r=n[i].match(/(\d+)/);return r?parseInt(r[1],10):1/0}function b(e,t,a,n){return(0,c.d)(e,n,a).map((a=>({derivationPathPattern:e,derivationPath:a,derivationPathLabel:t})))}function y(e){return e!==s.$I.KEYSTONE||!i.nh}},517840:(e,t,a)=>{a.d(t,{P:()=>r,f:()=>s});var n=a(476265),i=a(187254);class r extends Error{constructor(e,t){const a=function(e,t){switch(e){case n.e6.REQUIRED_DATA_UNAVAILABLE:return i.ag._({id:"54L/jq"});case n.e6.KEYRING_UNLOCK_TIMEDOUT:return i.ag._({id:"xPO5u4"});case n.e6.UNSUPPORTED_DESCRIPTOR_TYPE:return i.ag._({id:"SdZZca"});case n.e6.MISSING_MNEMONIC:return i.ag._({id:"4xtvsF"});case n.e6.MISSING_DESCRIPTOR:return i.ag._({id:"vNSPn0"});case n.e6.ALREADY_IMPORTED:return i.ag._({id:"00E8UC"});case n.e6.MISSING_BLOCKCHAIN_ECOSYSTEM:case n.e6.MISSING_BLOCKCHAIN_NETWORK:return i.ag._({id:"XQPdAS"});case n.e6.MISSING_SECURE_USER:return i.ag._({id:"douizP"});case n.e6.MISSING_DERIVATION_PATHS:return i.ag._({id:"N8XR/e"});case n.e6.NEED_PASSWORD_SETUP:return i.ag._({id:"53G8Vm"});case n.e6.INVALID_PRIVATE_KEY:return i.ag._({id:"7cOe1Z"});case n.e6.INVALID_PUBLIC_KEY:return i.ag._({id:"BBTna2"});case n.e6.WALLET_TYPE_NOT_FOUND:return i.ag._({id:"0XI+Q4"});case n.e6.ADDRESS_TYPE_NOT_FOUND:return i.ag._({id:"H5D8Q4"});case n.e6.HARDWARE_WALLET_CONNECTION_FAILED:return i.ag._({id:"7iMrxl"});case n.e6.INVALID_DERIVATION_PATH:return i.ag._({id:"Q1XWaK"});case n.e6.DERIVATION_PATH_NORMALIZATION_FAILED:return i.ag._({id:"GJTHpT"});case n.e6.DERIVATION_PATH_GENERATION_FAILED:return i.ag._({id:"bQGu/d"});case n.e6.PUBLIC_ADDRESS_FETCH_FAILED:return i.ag._({id:"BGncKe"});case n.e6.PREVIEW_WALLETS_FAILED:return i.ag._({id:"cJ5FKh"});case n.e6.EMPTY_DERIVATION_PATHS:return i.ag._({id:"jADYYZ"});case n.e6.MISSING_HARDWARE_DEVICE_TYPE:return i.ag._({id:"ijtazw"});case n.e6.MISSING_GAP_LIMIT:return i.ag._({id:"nwtY4N"});case n.e6.FAILED_TO_FETCH_BALANCE:return i.ag._({id:"/pNnyQ"});case n.e6.APPROVAL_DENIED_POPUP_CLOSED:return i.ag._({id:"Z6SPBy"});case n.e6.GENERIC:default:return t||i.ag._({id:"BKcp+k"})}}(e,t);super(a),this.code=e,Object.defineProperty(this,"message",{enumerable:!0}),Object.setPrototypeOf(this,r.prototype)}}function s(e){if(e instanceof Error){if("SecureBackgroundOnboardingError"===e.name){const t=e.message;return new r(t)}return new r(n.e6.GENERIC,e.message)}return new r(n.e6.GENERIC)}},742242:(e,t,a)=>{a.d(t,{d:()=>r,t:()=>i});const n=/^m?\/?(([0-9]+|x)'?)(\/([0-9]+|x)'?)*$/;function i(e,t,a,i){if(t.endsWith("/")&&(t=t.slice(0,-1)),t=t.replace(/['`]/g,"'"),!n.test(t))return{derivationPathPatternError:"Error: Invalid derivation path"};const r=t.split("/");if(!t.startsWith("m")){t.startsWith("/")&&r.shift();const e=a.split("/");a.endsWith("/")&&e.pop(),r.unshift(...e)}const s=r.map((e=>"m"===e||e.endsWith("'")?e:e+"'"));return{derivationPathPattern:i?s.join("/"):r.join("/")}}function r(e,t,a=0,n="x"){if(!e.includes(n))return 0===a?[e]:[];const i=new RegExp(n,"g");return[...Array(t).keys()].map((t=>e.replace(i,String(t+a))))}},779297:(e,t,a)=>{a.d(t,{f:()=>R});class n{client;constructor(e){this.client=e}async destroyData(e={}){return await this.client.send({name:"SECURE_ONBOARDING_DESTROY_DATA",request:e})}async getSafeOnboardingState(e={}){return await this.client.send({name:"SECURE_ONBOARDING_GET_STATE",request:e})}async setOnboardingState(e){return await this.client.send({name:"SECURE_ONBOARDING_SET_STATE",request:e})}async createWallets(e={}){return await this.client.send({name:"SECURE_ONBOARDING_CREATE_WALLETS",request:e})}async fetchPublicAddresses(e){return this.client.send({name:"SECURE_ONBOARDING_FETCH_PUBLIC_ADDRESSES",request:e})}async setWalletDescriptor(e){return await this.client.send({name:"SECURE_ONBOARDING_SET_WALLET_DESCRIPTOR",request:e})}async evaluateInitType(e={}){return await this.client.send({name:"SECURE_ONBOARDING_EVALUATE_INIT_TYPE",request:e})}}var i=a(602267),r=a(474417),s=a(778908),o=a(443801);function c(e,t,a){var n,i;if(a){const t=o.Z[a];if(null===(n=null==t?void 0:t.incompatibleAddressTypes)||void 0===n?void 0:n.length){const a=Object.entries(e.addressTypes).filter((([e,a])=>{var n;return a&&!(null===(n=t.incompatibleAddressTypes)||void 0===n?void 0:n.includes(a.addressType))})).map((([e,t])=>t));return a}}const r=Object.entries(e.addressTypes).filter((([e,t])=>t)).map((([e,t])=>t)),s=null===(i=e.walletTypes[t])||void 0===i?void 0:i.incompatibleAddressTypes;if(!(null==s?void 0:s.length))return r;const c=new Set(s);return r.filter((e=>!c.has(e.addressType)))}var l=a(237697),d=a(181994),h=a(476265),u=a(817967);function p(e){const t=d.nh?"mobile":"extension";return Object.values(o.Z).some((a=>!0===a.supportedNetworks[t][e.blockchainId]))}var b=a(517840);async function y(e,t){return(await(0,i.W)(t.setOnboardingState({partialState:e}))).safeOnboardingState}function g(e,t){const a=new Map(e.map((e=>[e.blockchain,{...e}])));return t.forEach((e=>{var t;if(a.has(e.blockchain)){const n=a.get(e.blockchain),i=new Set(e.networkIds&&0!==e.networkIds.length?e.networkIds:n.networkIds);a.set(e.blockchain,{blockchain:n.blockchain,networkIds:Array.from(i),walletTypes:(null===(t=e.walletTypes)||void 0===t?void 0:t.length)?e.walletTypes:n.walletTypes})}else{const t=new Set(e.networkIds),n=new Map;e.walletTypes.forEach((e=>{n.has(e.walletType)?n.get(e.walletType).add(e.addressType):n.set(e.walletType,new Set([e.addressType]))}));const i=Array.from(n.entries()).flatMap((([e,t])=>Array.from(t).map((t=>({walletType:e,addressType:t})))));a.set(e.blockchain,{blockchain:e.blockchain,networkIds:Array.from(t),walletTypes:i})}})),Array.from(a.values())}function T(e){e.hardwareDeviceType=e.hardwareDeviceType||void 0,e.needDerivationPaths=e.needDerivationPaths||!1,e.derivationPaths=void 0,e.walletInits=[],e.password=e.password||void 0}var w=a(883739);async function v(e){try{return(await(0,i.W)(e.onboardingSessionClient.fetchPublicAddresses({blockchain:e.blockchain,blockchainIdForAddresses:e.blockchainIdForAddresses,walletType:e.walletType,addressType:e.addressType,derivationPaths:e.derivationPathInfos.map((e=>e.derivationPath)),hardwareDeviceType:e.hardwareDeviceType,hardwareDeviceId:e.hardwareDeviceId}))).publicWallets.reduce(((t,a)=>{if(!function(e){return"derivationPath"in e&&"string"==typeof e.derivationPath}(a))return t;const n=a.derivationPath,i=e.derivationPathInfos.find((e=>e.derivationPath.replace(/'/g,"")===n.replace(/'/g,"")));if(!(null==i?void 0:i.derivationPathPattern))return t;const r={};r[e.blockchainIdForAddresses]=null;const s={publicKey:a.publicKeyInfo.publicKey,derivationPath:n,derivationPathPattern:i.derivationPathPattern,derivationPathLabel:i.derivationPathLabel,balances:r,imported:a.imported||!1,blockchain:e.blockchain,blockchainId:e.blockchainIdForAddresses,walletType:e.walletType,addressType:e.addressType};return t.push(s),t}),[])}catch(e){throw(0,b.f)(e)}}var I=a(5410);const S=new class{constructor(e=36e5){this.cache=new I.z({max:1e3,ttl:e,allowStale:!1})}set(e,t,a){const n=this.getCacheKey(e,t);this.cache.set(n,a)}get(e,t){const a=this.getCacheKey(e,t);return this.cache.get(a)}getCacheKey(e,t){return`${e}-${t}`}clear(){this.cache.clear()}},f=new class{constructor(){this.MAX_BALANCES_FETCH_PER_SEC=3,this.requestQueue=[],this.isProcessing=!1,this.processQueue=this.processQueue.bind(this)}async processQueue(){if(!this.isProcessing&&0!==this.requestQueue.length){for(this.isProcessing=!0;this.requestQueue.length>0;){const e=this.requestQueue.shift();if(e)try{await e()}catch(e){}await new Promise((e=>setTimeout(e,1e3/this.MAX_BALANCES_FETCH_PER_SEC)))}this.isProcessing=!1}}async executeThrottled(e){return new Promise(((t,a)=>{this.requestQueue.push((()=>e().then(t).catch(a))),this.processQueue()}))}getBatchSize(){return this.MAX_BALANCES_FETCH_PER_SEC}};async function P(e,t,a,n){var i;const r=f.getBatchSize();for(const s of t){if(null==n?void 0:n.aborted)break;const t=null!==(i=(0,w.Iw)(s,null))&&void 0!==i?i:void 0;if(t){const i=a(s);for(let a=0;a<e.length;a+=r){const o=e.slice(a,a+r);if(null==n?void 0:n.aborted)break;const c=[];o.forEach((e=>{const t=S.get(e.publicKey,s);t?e.balances[s]=t:c.push(e.publicKey)})),c.length>0&&await f.executeThrottled((async()=>{try{const e=await(null==i?void 0:i.fetchBalances({publicKeys:c}))||[],a=Object.fromEntries(e.sort(((e,t)=>t.balance<e.balance?-1:t.balance===e.balance?0:1)).map((e=>[e.publicKey,{balance:e.balance.toString(),symbol:t.gasCurrencySymbol,decimals:t.gasCurrencyDecimals,logo:t.logo}])));for(const e of o)if(c.includes(e.publicKey)){const t=a[e.publicKey]||null;e.balances[s]=t,t&&S.set(e.publicKey,s,t)}}catch(e){for(const e of o)c.includes(e.publicKey)&&(e.balances[s]=null)}}))}}}return e}async function*E(e){const t=await v({blockchain:e.blockchain,blockchainIdForAddresses:e.blockchainIdForAddresses,walletType:e.walletType,addressType:e.addressType,derivationPathInfos:e.paginatedDerivationPaths,hardwareDeviceType:e.hardwareDeviceType,onboardingSessionClient:e.onboardingSessionClient}),a=await P(t,e.blockchainIdsForBalances,e.blockchainClient,e.signal);yield a}async function*A(e){var t;const{fundedSearchBatchSize:a=h.Nm,fundedSearchGapLimit:n=h.oG}=e,i=(0,l.xO)(e),r=e.hardwareDeviceType?await async function(e){const t=[...new Set(e.pathPatternWithLabels.flatMap((e=>(0,l.bn)(e.derivationPathPattern,e.derivationPathLabel,0,h.kK))))];return await v({blockchain:e.blockchain,blockchainIdForAddresses:e.blockchainIdForAddresses,walletType:e.walletType,addressType:e.addressType,derivationPathInfos:t,hardwareDeviceType:e.hardwareDeviceType,hardwareDeviceId:e.hardwareDeviceId,onboardingSessionClient:e.onboardingSessionClient})}({blockchain:e.blockchain,blockchainIdForAddresses:e.blockchainIdForAddresses,walletType:e.walletType,addressType:e.addressType,hardwareDeviceType:e.hardwareDeviceType,hardwareDeviceId:e.hardwareDeviceId,pathPatternWithLabels:i,onboardingSessionClient:e.onboardingSessionClient}):[];for(const s of i){let i=0,o=0;for(;i<n;){if(null===(t=e.signal)||void 0===t?void 0:t.aborted)return;let n;if(e.hardwareDeviceType)n=r.filter((e=>e.derivationPathPattern===s.derivationPathPattern)).filter(((e,t,a)=>t===a.findIndex((t=>t.derivationPath===e.derivationPath)))).sort(((e,t)=>(0,l.Y4)(e.derivationPath,e.derivationPathPattern)-(0,l.Y4)(t.derivationPath,t.derivationPathPattern))).slice(o,o+a);else{const t=(0,l.bn)(s.derivationPathPattern,s.derivationPathLabel,o,a);if(0===t.length)break;n=await v({blockchain:e.blockchain,blockchainIdForAddresses:e.blockchainIdForAddresses,walletType:e.walletType,addressType:e.addressType,derivationPathInfos:t,hardwareDeviceType:e.hardwareDeviceType,hardwareDeviceId:e.hardwareDeviceId,onboardingSessionClient:e.onboardingSessionClient})}if(0===n.length)break;const c=(await P(n,e.blockchainIdsForBalances,e.blockchainClient,e.signal)).filter((e=>Object.values(e.balances).some((e=>e&&BigInt(e.balance)>BigInt(0)))));n.filter((e=>e.imported)).length>0||c.length>0?i=0:i+=n.length,yield n,o+=n.length}}}var _=a(553123);function k(e){return t=>{var a;const n=null!==(a=(0,w.Iw)(t,null))&&void 0!==a?a:void 0;if(!n)throw new b.P(h.e6.MISSING_BLOCKCHAIN_NETWORK);return(0,_.G)(e,n)}}async function*D(e){var t,a,n;const i=e.blockchainEcosystem.blockchainConfig,r=null!==(t=e.blockchainId)&&void 0!==t?t:e.blockchainEcosystem.blockchainNetworkConfigs[0].blockchainId,s=e.blockchainId?[e.blockchainId]:e.blockchainEcosystem.blockchainNetworkConfigs.map((e=>e.blockchainId)),o=e.selectedWalletType?[e.selectedWalletType]:Object.keys(i.walletTypes);for(const t of o){if(null===(a=e.signal)||void 0===a?void 0:a.aborted)break;const o=e.selectedAddressType?[e.selectedAddressType]:c(i,t,e.hardwareDeviceType).map((e=>e.addressType));for(const a of o){if(null===(n=e.signal)||void 0===n?void 0:n.aborted)break;if(e.fundedOnly)yield*A({...e,walletType:t,addressType:a,blockchainIdForAddresses:r,blockchainIdsForBalances:s,includeHidden:!0});else{const n=(0,l.tI)({blockchain:e.blockchain,addressType:a,blockchainConfig:i,hardwareDeviceType:e.hardwareDeviceType,selectedDerivationOptionLabel:e.selectedDerivationOptionLabel,customDerivationPathPattern:e.customDerivationPathPattern,includeHidden:!1,page:e.page,pageSize:e.pageSize});n&&n.length>0?yield*E({...e,walletType:t,addressType:a,blockchainIdForAddresses:r,blockchainIdsForBalances:s,paginatedDerivationPaths:n}):yield[]}}}}class O{constructor(e,t){this.secureBackgroundSender=e,this.onboardingSessionClient=t}async destroyData(){return(await(0,i.W)(this.onboardingSessionClient.destroyData())).safeOnboardingState}async getSafeOnboardingState(){return(await(0,i.W)(this.onboardingSessionClient.getSafeOnboardingState())).safeOnboardingState}async setOnboardingState(e){return y(e,this.onboardingSessionClient)}async startOnboardingSession(e){return await async function(e,t){const a={flowEntrypoint:t.flowEntrypoint,isAddingAccount:null==t?void 0:t.isAddingAccount,skipSettingActivePublicKey:null==t?void 0:t.skipSettingActivePublicKey,username:null==t?void 0:t.username,themeColor:null==t?void 0:t.themeColor};return await(0,i.W)(e.destroyData()),await y(a,e)}(this.onboardingSessionClient,e)}async initBlockchainSelections(e){return await async function(e,t){const a={blockchainSelections:e};return T(a),await y(a,t)}(e,this.onboardingSessionClient)}async mergeBlockchainSelections(e){return await async function(e,t){const a=(await(0,i.W)(t.getSafeOnboardingState())).safeOnboardingState,n={...a,derivationPaths:void 0,walletInits:[]};if(a.flowEntrypoint===h.g1.ADD_WALLET){const t=new Set(e.map((e=>e.blockchain))),i=a.blockchainSelections.filter((e=>t.has(e.blockchain)));n.blockchainSelections=g(i,e)}else n.blockchainSelections=g(a.blockchainSelections,e);return T(n),await y(n,t)}(e,this.onboardingSessionClient)}async updateOnboardingMethod(e){return await async function(e,t){const a={walletDescriptorType:e};return function(e){e.hardwareDeviceType=e.hardwareDeviceType||void 0,e.walletDescriptor=e.walletDescriptor||void 0,e.needDerivationPaths=e.needDerivationPaths||!1,e.derivationPaths=e.derivationPaths||[],e.walletInits=e.walletInits||[],e.password=e.password||void 0}(a),await y(a,t)}(e,this.onboardingSessionClient)}async setWalletDescriptor(e,t){try{return(await(0,i.W)(this.onboardingSessionClient.setWalletDescriptor({walletDescriptor:e,compatibleAddressTypes:t}))).previews||[]}catch(e){throw(0,b.f)(e)}}async getAvailableWalletImportMethods(e,t){const a=new r.K(this.secureBackgroundSender),n=await(0,i.W)(a.getUser());return function(e,t,a){let n=[];switch(t){case h.g1.ADD_WALLET:n=e?[h.p9.CreateNewByUsingAlreadyImportedPhrase,h.p9.FindFundedAddresses,h.p9.DerivePrivateKeyFromPhrase]:[h.p9.CreateNewByGeneratingPhraseAddWallet,h.p9.ImportPhraseAddWallet],n.push(h.p9.PrivateKey),a&&!p(a)||n.push(h.p9.Hardware),n.push(h.p9.ViewOnly),(null==a?void 0:a.blockchainId)===u.Ek.SOLANA_MAINNET&&n.push(h.p9.SquadsMultisig);break;case h.g1.ONBOARDING_CREATE:n=[h.p9.CreateNewByGeneratingPhraseOnboarding];break;case h.g1.ONBOARDING_IMPORT:n=[h.p9.ImportPhraseOnboarding,h.p9.PrivateKey],a&&!p(a)||n.push(h.p9.Hardware),n.push(h.p9.ViewOnly)}return n}(n.keyringStoreState!==s.a.NeedsOnboarding&&n.user.hasMnemonic,e,t)}async createWallets(){try{await(0,i.W)(this.onboardingSessionClient.createWallets())}catch(e){throw(0,b.f)(e)}}async evaluateInitType(){try{const{initType:e}=await(0,i.W)(this.onboardingSessionClient.evaluateInitType());return e}catch(e){throw(0,b.f)(e)}}getCompatibleAddressTypeConfigs(e,t,a){return c(e,t,a)}getDerivationPathOptions(e,t){return(0,l.BO)(e,!1,t)}isCustomDerivationPatternSupported(e){return(0,l.Tk)(e)}async*searchAddresses(e){yield*async function*(e){const{fundedOnly:t=!1,page:a=1,pageSize:n=h.YD,secureBackgroundSender:i,blockchainId:r,...s}=e;if(e.blockchainId&&e.blockchain){const r=e.blockchainEcosystems[e.blockchain],o=e.blockchainId;yield*D({...s,blockchain:e.blockchain,blockchainEcosystem:r,fundedOnly:t,page:a,pageSize:n,blockchainId:o,blockchainClient:k(i)})}else{if(!r)throw new b.P(h.e6.MISSING_BLOCKCHAIN_NETWORK);const o=e.blockchainEcosystems;for(const[c,l]of Object.entries(e.blockchainEcosystems)){const e=o[c];yield*D({...s,blockchain:c,blockchainId:r,blockchainEcosystem:e,fundedOnly:t,page:a,pageSize:n,blockchainClient:k(i)})}}}({...e,onboardingSessionClient:this.onboardingSessionClient,secureBackgroundSender:this.secureBackgroundSender})}}class C{constructor(e){this.onboardingUseCasesManager=new O(e,new n(e))}async getSafeOnboardingState(){return await this.onboardingUseCasesManager.getSafeOnboardingState()}async setOnboardingState(e){return await this.onboardingUseCasesManager.setOnboardingState(e)}async startOnboardingSession(e){return await this.onboardingUseCasesManager.startOnboardingSession(e)}async initBlockchainSelections(e){return await this.onboardingUseCasesManager.initBlockchainSelections(e)}async mergeBlockchainSelections(e){return await this.onboardingUseCasesManager.mergeBlockchainSelections(e)}async updateOnboardingMethod(e){return await this.onboardingUseCasesManager.updateOnboardingMethod(e)}async destroyData(){return await this.onboardingUseCasesManager.destroyData()}async setWalletDescriptor(e,t){return await this.onboardingUseCasesManager.setWalletDescriptor(e,t)}async getAvailableWalletImportMethods(e,t){return await this.onboardingUseCasesManager.getAvailableWalletImportMethods(e,t)}async createWallets(){return await this.onboardingUseCasesManager.createWallets()}async evaluateInitType(){return await this.onboardingUseCasesManager.evaluateInitType()}getDerivationPathOptions(e,t){return this.onboardingUseCasesManager.getDerivationPathOptions(e,t)}isCustomDerivationPatternSupported(e){return this.onboardingUseCasesManager.isCustomDerivationPatternSupported(e)}getCompatibleAddressTypeConfigs(e,t,a){return this.onboardingUseCasesManager.getCompatibleAddressTypeConfigs(e,t,a)}async*searchAddresses(e){yield*this.onboardingUseCasesManager.searchAddresses(e)}}var m=a(565058),N=a(957211);const R=(0,m.cn)((async e=>{const t=e(N.C);return new C(t)}))},168547:(e,t,a)=>{a.d(t,{p:()=>o});var n=a(565058),i=a(489911),r=a(66046);const s=(0,n.cn)({needManualSelectWalletTypes:!1,autoSelectableWalletTypes:[],manualSelectionNeededFor:[],allSelectionsWithAutoselectedWalletTypes:[]}),o=(0,n.cn)((e=>e(s)),(async(e,t)=>{const[a,n]=await Promise.all([e(r.SW),e(i.Wn)]),o=n.blockchainSelections.map((e=>{const t=a[e.blockchain]?.blockchainConfig,n=t?.walletTypes||{},i=Object.keys(n).length>1,r=Object.entries(n).map((([e,t])=>({walletType:e,addressType:t.defaultAddressType})));return{blockchain:e.blockchain,networkIds:e.networkIds,walletTypes:r,hasMultipleOptions:i}})),c={needManualSelectWalletTypes:o.some((e=>e.hasMultipleOptions)),autoSelectableWalletTypes:o.filter((e=>!e.hasMultipleOptions)).map((e=>({blockchain:e.blockchain,walletTypes:e.walletTypes}))),manualSelectionNeededFor:o.filter((e=>e.hasMultipleOptions)).map((e=>({blockchain:e.blockchain,networkIds:e.networkIds,walletTypes:[]}))),allSelectionsWithAutoselectedWalletTypes:o.map((e=>({blockchain:e.blockchain,networkIds:e.networkIds,walletTypes:e.hasMultipleOptions?[]:e.walletTypes})))};return t(s,c),c}))},861312:(e,t,a)=>{a.d(t,{d:()=>r});var n=a(400752),i=a(495320);function r(){return(0,n.Dv)(i.oy)}}}]);