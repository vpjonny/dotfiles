"use strict";(globalThis.webpackChunk_coral_xyz_app_extension=globalThis.webpackChunk_coral_xyz_app_extension||[]).push([[1371],{725582:(t,e,n)=>{n.d(e,{d:()=>r});const o=globalThis;function r(){return"app"===a()?"extension-app":"service-worker"===a()?"extension-sw":s()?"mobile-injected-provider":"undefined"==typeof window||void 0===window.document?"mobile-app":"undefined"==typeof window||void 0===window.document||!o._backpack_injected_provider||s()?"unknown":"web-injected-provider"}function a(){return"undefined"!=typeof chrome&&chrome.runtime?"undefined"!=typeof self&&o.clients&&o.clients.matchAll?"service-worker":"app":"not-supported"}function s(){return o.isMobileInjectedProvider}},971186:(t,e,n)=>{n.d(e,{D:()=>o});const o=t=>new Promise((e=>setTimeout(e,1e3*t)))},220026:(t,e,n)=>{n.d(e,{$i:()=>Z,$k:()=>j,AG:()=>b,AR:()=>tt,Ap:()=>ct,Bh:()=>z,CE:()=>ft,El:()=>et,F5:()=>ut,Fi:()=>m,H0:()=>L,It:()=>k,Jp:()=>Q,KC:()=>u,LW:()=>bt,Mv:()=>it,OP:()=>r,PX:()=>R,QT:()=>at,Qx:()=>G,R$:()=>D,TQ:()=>I,Tt:()=>q,U6:()=>h,UG:()=>dt,V5:()=>v,VJ:()=>st,Vn:()=>C,WY:()=>B,Xg:()=>f,Xs:()=>O,Yx:()=>W,ZF:()=>lt,Ze:()=>F,_P:()=>St,_S:()=>H,b1:()=>$,bR:()=>yt,bX:()=>M,dJ:()=>c,dr:()=>ht,fU:()=>T,fy:()=>E,gG:()=>It,hl:()=>Y,jF:()=>w,kG:()=>N,kQ:()=>U,km:()=>a,lS:()=>wt,li:()=>y,m$:()=>i,m6:()=>l,nN:()=>xt,nf:()=>gt,ow:()=>d,p7:()=>_,pg:()=>nt,q3:()=>p,qT:()=>kt,sT:()=>V,sX:()=>pt,so:()=>rt,sz:()=>o,te:()=>A,uF:()=>P,ut:()=>X,uv:()=>S,w$:()=>ot,w0:()=>g,w9:()=>J,wN:()=>mt,xK:()=>s,xL:()=>x,z:()=>K,zQ:()=>vt});const o="terms-of-service-checkbox",r="create-wallet-button",a="import-wallet-button",s="recovery-phrase-importing-button",i="private-key-importing-button",c="view-only-importing-button",u="hardware-importing-button",d="derive-recovery-phrase-importing-button",l="use-24-words-button",p="use-12-words-button",b="derive-agreement-button",h="derive-find-wallets-button",w="import-recovery-phrase-button",m="private-key-input",f="private-key-import-button",g="public-key-input",v="public-key-import-button",x="set-up-networks-button",k="import-funded-address-button",y="import-multiple-funded-addresses-button",S="advanced-import-funded-address-button",I="password-input",T="password-confirm-input",B="password-next-button",E="open-wallet-button",R="avatar-popover-button",_="avatar-settings-button",U="avatar-lock-button",H="swap-tab",N="bridge-tab",F="sell-token-button",P="buy-token-button",A="swap-quantity-input",M="send-search-field",O="receive-search-field",W="swap-review-button",$="bridge-review-button",j="send-",C="receive-",L="send-address-search-field",q="send-address-selector-next-button",z="send-address-",Q="send-amount-input",X="send-review-button",D="transaction-confirm-button",G="transaction-deny-button",V="transaction-warning-ignore-button",Y="transaction-done-button",J="avatar-header",K="wallets-button",Z="my-account-button",tt="preferences-button",et="bug-report-button",nt="lock-button",ot="auto-lock-button",rt="auto-lock-back-button",at="auto-lock-minutes-input",st="auto-lock-cancel-button",it="auto-lock-set-button",ct="account-name-input",ut="account-name-save-button",dt="account-name-back-button",lt="change-password-old-input",pt="change-password-new-input",bt="change-password-confirm-input",ht="change-password-save-button",wt="your-account-back-button",mt="your-account-update-name-button",ft="your-account-change-password-button",gt="your-account-show-recovery-phrase-button",vt="your-account-remove-button",xt="secret-password-input",kt="secret-password-submit-button",yt="wallet-",St="wallet-detail-",It="private-key-view-button"},770522:(t,e,n)=>{n.d(e,{uV:()=>m});var o=n(817967),r=n(887388),a=n(565058),s=n(987809),i=n(182486),c=n(348834);const u=async(t,e)=>{try{const n=await fetch(`https://blockchain.info/rawtx/${t}`);if(!n.ok)throw new Error("Failed to fetch previous transaction details");const o=(await n.json()).out[e];return{value:o.value,address:o.addr}}catch(e){throw console.error(`Error fetching previous transaction details for ${t}:`,e),e}};var d=n(266534),l=n(376314),p=n(199670);const b=t=>({edicts:t.edicts,etching:t.etching.isSome()?t.etching.value():void 0,mint:t.mint.isSome()?t.mint.value():void 0,pointer:t.pointer.isSome()?t.pointer.value():void 0,tokenName:t.toMessage().getRune().isSome()?t.toMessage().getRune().value().name:"NoName"}),h=t=>{let e;const n=c.Buffer.from(t,"hex");try{if(t.startsWith("6a"))return"OP_RETURN";if(t.startsWith("51")){const t=d.bech32m.toWords(n.subarray(2));return d.bech32m.encode("bc",[1,...t])}e=l.address.fromOutputScript(n)}catch(e){console.error("Failed to decode address from script:",t,e)}return e},w=(0,s.xu)((t=>(0,a.cn)((async()=>{try{return await(async t=>{try{const e=await fetch(`https://blockchain.info/rawtx/${t}?format=hex`);if(!e.ok)throw new Error("Failed to fetch transaction hex");return await e.text()}catch(e){throw console.error(`Error fetching transaction details for ${t}:`,e),e}})(t.txHash)}catch(t){return console.error("Error fetching Bitcoin in bitcoinTransactionDetailsAtomInner Transaction Details: ",t),null}}))),((t,e)=>t.txHash===e.txHash)),m=(0,s.xu)((t=>(0,a.cn)((async()=>{if(!t.txHex||t.blockchainId!==o.Ek.BITCOIN_MAINNET)return null;try{const e=((t,e)=>{const n=Uint8Array.from(c.Buffer.from(t,"hex"));let o;return o=e?i.YW.fromPSBT(n,{allowUnknownOutputs:!0,allowUnknownInputs:!0,allowLegacyWitnessUtxo:!0}):i.YW.fromRaw(n,{allowUnknownOutputs:!0,allowUnknownInputs:!0,allowLegacyWitnessUtxo:!0}),{hexTx:o.hex,transaction:o}})(t.txHex,t.isPsbtFormat),n=(t=>{const e=p.Runestone.decipher(t);return e.isSome()?e.value():null})(e.hexTx),o=await(async(t,e)=>{const n=[];for(let o=0;o<t.inputsLength;o++){const r=t.getInput(o),a=c.Buffer.from(r.txid).toString("hex"),s=r.index,{value:i,address:d}=await u(a,s);let l;e&&0===o&&(l=b(e)),n.push({txid:a,index:o,sequence:r.sequence,witnessUtxo:{amount:i.toString(),address:d},runestone:l})}return n})(e.transaction,n??void 0),a=((t,e)=>{const n=[];for(let o=0;o<t.outputsLength;o++){const r=t.getOutput(o),a=r.amount.toString(),s=c.Buffer.from(r.script).toString("hex"),i=h(s);let u;e&&e.edicts.find((t=>t.output===o))&&(u=b(e)),n.push({index:o,amount:a,script:s,address:i,runestone:u})}return n})(e.transaction,n??void 0),s=((t,e)=>{const n=((t,e)=>{const n=new Map;return e.filter((t=>"OP_RETURN"!==t.address)).forEach((t=>{const e=t.address||"",o=BigInt(t.amount),r=t.runestone;if(n.has(e)){const t=n.get(e);t.totalReceived=(BigInt(t.totalReceived||"0")+o).toString(),r&&(t.runestone=r)}else n.set(e,{address:e,totalReceived:o.toString(),totalSent:"0",isSender:!1,runestone:r})})),t.forEach((t=>{const e=t.witnessUtxo?.address||"",o=BigInt(t.witnessUtxo?.amount||"0"),r=t.runestone;if(n.has(e)){const t=n.get(e);t.totalSent=(BigInt(t.totalSent||"0")+o).toString(),r&&(t.runestone=r)}else n.set(e,{address:e,totalReceived:"0",totalSent:o.toString(),isSender:!0,runestone:r})})),console.log("addressMap ",n),n})(t,e);return(t=>{const e=[];return t.forEach(((t,n)=>{const o=BigInt(t.totalSent||"0"),r=BigInt(t.totalReceived||"0"),a=o>r,s=(r-o).toString(),i=(r-o).toString();e.push({...t,totalReceived:r.toString(),totalSent:o.toString(),finalBalance:s,netAmount:i,isSender:a})})),console.log("summaries ",e),e})(n)})(o,a);return{processedTx:e,inputs:o,outputs:a,transactionSummaries:s,formattedFee:(0,r.bM)(1e3,8)}}catch(t){return console.error("Error processing Bitcoin transaction details:",t),null}}))),((t,e)=>t.txHex===e.txHex&&t.blockchainId===e.blockchainId&&t.isPsbtFormat===e.isPsbtFormat));(0,s.xu)((t=>(0,a.cn)((async e=>{if(!t.txHash||t.blockchainId!==o.Ek.BITCOIN_MAINNET)return null;try{const n=await e(w({txHash:t.txHash}));return n?await e(m({txHex:n,blockchainId:t.blockchainId})):null}catch(t){return console.error("Error fetching and processing Bitcoin Transaction Details: ",t),null}}))),((t,e)=>t.txHash===e.txHash&&t.blockchainId===e.blockchainId))}}]);