"use strict";(globalThis.webpackChunk_coral_xyz_app_extension=globalThis.webpackChunk_coral_xyz_app_extension||[]).push([[7462],{77462:(a,t,n)=>{n.r(t),n.d(t,{default:()=>w});var e=n(196390),r=n(893086),s=n(182115),c=n(10794),o=n(227443),i=n(676493),d=n(541214),y=n(187254),u=n(304235),l=n(400752),p=n(947976),h=n(646704),v=n(202784);function w(){const a=(0,u.HJ)(),{publicKey:t}=(0,d.rT)(),n=(0,l.Dv)(o.aI),w=(0,l.Dv)(i.XR),k=(0,e.Xi)(t),{data:g,isError:f,isLoading:_,isSuccess:b}=k,m=f?y.ag._({id:"XGDabB"}):_?y.ag._({id:"Du+zn+"}):g&&g.length>0?`${g.length} account${g.length>1?"s":""}`:void 0,x=w.toFixed(1),S=b&&g&&0===g.length?y.ag._({id:"sGlrjQ",values:{highestApyFixed:x}}):void 0,F=g&&g?.length>0?n?`${c.e} SOL`:`${(0,r.bv)(g.reduce(((a,t)=>a+t.lamports),0),{appendTicker:!0})}`:"",M=(0,e.lC)(t),T=M.data?.reduce(((a,[t,n])=>a+(n?.amount??0)),0),q=void 0!==T?T>0?`+${n?`${c.e} SOL`:(0,r.bv)(T,{appendTicker:!0})}`:"":void 0;return v.createElement(s.g,{title:S,subtitle:m,total:F,totalRewards:q,onPress:f?void 0:()=>{g&&g?.length>0?a.push(h.p.StakeNavigator,{screen:p.Routes.ListStakesScreen,params:void 0}):a.push(h.p.StakingOptionsScreen)}})}},983855:(a,t,n)=>{n.d(t,{y:()=>e});const e=(0,n(565058).cn)(new Promise((()=>{})))},676493:(a,t,n)=>{n.d(t,{Wf:()=>l,XR:()=>d,lT:()=>y,eX:()=>h});var e=n(44171),r=n(565058),s=n(567282);const c=(a,t)=>function(a,t,n){const e=(0,r.cn)((async e=>{const[r,s]=await Promise.all([t(e),n?.(e)]);return a((()=>r),s?()=>s:void 0)}));return(0,r.cn)((async a=>a(await a(e))),(async(a,t,...n)=>t(await a(e),...n)))}(s.Mh,a,t);var o=n(983855);const i=c((async()=>({queryKey:["validator-stats"],queryFn:async()=>{const a=await fetch("https://staking.xnfts.dev/v1/backpack-validators-stats");if(!a.ok)throw new Error("Failed to fetch validator stats");return a.json()}})),(a=>a(o.y))),d=(0,r.cn)((async a=>{const t=await a(l),n=await a(i),e=n.data?.data;return Math.max(t,e?.reduce(((a,t)=>Math.max(a,t.total_apy)),0)??7)})),y=(0,r.cn)((async a=>{const t=await a(i),n=t.data?.data;return n?.reduce(((a,t)=>Math.max(a,t.total_apy)),0)??7})),u=((0,r.cn)((async a=>{const t=await a(i),n=t.data?.data;return n?.find((a=>a.identity===e.dm))?.total_apy??7})),(0,r.cn)((async a=>{const t=await a(i),n=t.data?.data;return n?.find((a=>a.identity===e.M4))?.total_apy??7})),c((async()=>({queryKey:["lst-apy"],queryFn:async()=>{const a=await fetch("https://staking.xnfts.dev/v1/lst-apy");if(!a.ok)throw new Error("Failed to fetch LST APY");return a.json()}})),(a=>a(o.y)))),l=(0,r.cn)((async a=>{try{const t=await a(u);return 100*(t.data?.apys?.bpSOL??0)}catch(a){return 0}})),p=(0,s.Mh)((()=>({queryKey:["monad-apy"],queryFn:async()=>{const a=await fetch("https://monad-staking-proxy.backpack.workers.dev/apy");if(!a.ok)throw new Error("Failed to fetch Monad APY");return a.json()}}))),h=(0,r.cn)((async a=>{try{const t=await a(p);return t.data?.apy??0}catch(a){return 0}}))}}]);