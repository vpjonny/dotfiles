"use strict";(globalThis.webpackChunk_coral_xyz_app_extension=globalThis.webpackChunk_coral_xyz_app_extension||[]).push([[6054],{67324:(e,t,n)=>{n.d(t,{r:()=>o});class o{static sendMessageToBackground(e,t){return o.sendMessageToAnywhere(e,t)}static sendMessageToAppUi(e,t){return o.sendMessageToAnywhere(e,t)}static sendMessageToAnywhere(e,t){try{globalThis.chrome?.runtime?.sendMessage(e,t)}catch(e){console.error(e)}}static addEventListenerFromBackground(e){return o.addEventListenerFromAnywhere(e)}static addEventListenerFromAppUi(e){return o.addEventListenerFromAnywhere(e)}static addEventListenerFromAnywhere(e){return globalThis.chrome?.runtime?.onMessage?.addListener(e)}static async getLocalStorage(e){return new Promise(((t,n)=>globalThis.chrome?.storage?.local?.get(e,(r=>{const a=o.checkForError();a?n(a):t(r[e])}))))}static async getAllLocalStorage(){return new Promise(((e,t)=>globalThis.chrome?.storage?.local?.get((n=>{const r=o.checkForError();r?t(r):e(n)}))))}static async removeLocalStorage(e){return globalThis.chrome?.storage?.local?.remove(e)}static async setLocalStorage(e,t){return new Promise(((n,r)=>{const a={};a[e]=t,globalThis.chrome?.storage?.local?.set(a,(()=>{const e=o.checkForError();e?r(e):n()}))}))}static async setAllLocalStorage(e){return new Promise(((t,n)=>{globalThis.chrome?.storage.local.clear((()=>{globalThis.chrome?.storage?.local?.set(e,(()=>{const e=o.checkForError();e?n(e):t()}))}))}))}static async clearLocalStorage(){return new Promise(((e,t)=>{globalThis.chrome?.storage.local.clear((()=>{const n=o.checkForError();n?t(n):e()}))}))}static async getSessionStorage(e){return new Promise(((t,n)=>globalThis.chrome?.storage?.session?.get(e,(r=>{const a=o.checkForError();a?n(a):t(r[e])}))))}static async getAllSessionStorage(){return new Promise(((e,t)=>globalThis.chrome?.storage?.session?.get((n=>{const r=o.checkForError();r?t(r):e(n)}))))}static async removeSessionStorage(e){return globalThis.chrome?.storage?.session?.remove(e)}static async setSessionStorage(e,t){return new Promise(((n,r)=>{const a={};a[e]=t,globalThis.chrome?.storage?.session?.set(a,(()=>{const e=o.checkForError();e?r(e):n()}))}))}static async setAllSessionStorage(e){return new Promise(((t,n)=>{globalThis.chrome?.storage.session.clear((()=>{globalThis.chrome?.storage?.session?.set(e,(()=>{const e=o.checkForError();e?n(e):t()}))}))}))}static async clearSessionStorage(){return new Promise(((e,t)=>{globalThis.chrome?.storage.session.clear((()=>{const n=o.checkForError();n?t(n):e()}))}))}static checkForError(){const e=globalThis.chrome?.runtime?.lastError;return e?new Error(e.message):void 0}}},916885:(e,t,n)=>{function o(e){return e.isTrusted?e.origin&&"string"==typeof e.origin&&e.origin.includes("__proto__")?(console.debug("isValidEvent: proto pollution in event origin"),!1):"undefined"==typeof window||!e.origin||e.origin===window.location.origin||(console.debug("isValidEvent: origins don't match",e.origin,window.location.origin),!1):(console.debug("isValidEvent: untrusted event"),!1)}n.d(t,{n:()=>o})},579187:(e,t,n)=>{n.d(t,{j:()=>o});const o=1e9},788269:(e,t,n)=>{n.d(t,{e:()=>m});var o=n(552322),r=n(337288),a=n(382740),s=n(711728),i=n(187254),c=n(733095),l=n(887388),u=n(202784),d=n(821179);const m=({transactionDetails:e})=>{if(!e)return(0,o.jsx)(r.FA,{gap:"$DEPRECATED_4",padding:"$DEPRECATED_3",children:(0,o.jsx)(a.q,{children:i.ag._({id:"YW1XsI"})})});const{inputs:t,outputs:n}=e,m=[...t.map((e=>({transaction:e,isInput:!0}))),...n.map((e=>({transaction:e,isInput:!1})))];return(0,o.jsx)(r.FA,{gap:"$DEPRECATED_4",children:m.map((({transaction:e,isInput:n},i)=>{const m=n?e.witnessUtxo.address:e.address,p=n?e.witnessUtxo.amount:e.amount,f=e.runestone,h=n?"Send":"Receive",g=n?"-":"+",b=n?"$redText":"$greenText",w=n?"$baseBackgroundL1":"$baseBackgroundL0",k=e.index;return(0,o.jsxs)(u.Fragment,{children:[(0,o.jsxs)(r.FA,{gap:"$DEPRECATED_3",backgroundColor:w,borderColor:"$baseBorderMed",borderWidth:1,padding:"$DEPRECATED_3",borderRadius:"$DEPRECATED_4",children:[(0,o.jsxs)(r.sL,{alignItems:"center",justifyContent:"space-between",gap:"$DEPRECATED_2",children:[(0,o.jsx)(r.sL,{flex:1,overflow:"hidden",children:m?f&&"OP_RETURN"===m?(0,o.jsxs)(r.sL,{flex:1,alignItems:"center",justifyContent:"flex-start",gap:"$DEPRECATED_2",children:[(0,o.jsx)(a.q,{fontSize:"$sm",color:"$baseTextHighEmphasis",whiteSpace:"nowrap",ellipse:!0,children:"Runestone"}),(0,o.jsx)(a.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",children:m})]}):(0,o.jsx)(d.x,{publicKey:m}):(0,o.jsx)(a.q,{children:m})}),(0,o.jsxs)(a.q,{fontSize:"$sm",color:"$baseTextHighEmphasis",children:["#",k]})]}),(0,o.jsxs)(r.FA,{gap:"$DEPRECATED_2",children:[(0,o.jsxs)(r.sL,{alignItems:"center",gap:"$DEPRECATED_2",flex:1,children:[p&&(0,o.jsxs)(r.sL,{alignItems:"center",justifyContent:"space-between",gap:"$DEPRECATED_2",flex:1,children:[(0,o.jsx)(a.q,{fontSize:"$sm",color:b,textAlign:"center",children:h}),(0,o.jsxs)(a.q,{fontSize:"$sm",color:b,textAlign:"center",children:[g,(0,l.bM)(p,8)]})]}),(0,o.jsx)(r.sL,{flexShrink:0,children:(0,o.jsx)(s.E,{borderRadius:"$DEPRECATED_6",source:{width:22,height:22,uri:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png"}})})]}),f&&f.edicts&&f.edicts.length>0&&(0,o.jsxs)(r.sL,{alignItems:"center",justifyContent:"space-between",gap:"$DEPRECATED_2",flex:1,children:[(0,o.jsx)(a.q,{fontSize:"$sm",color:b,textAlign:"center",children:h}),(0,o.jsx)(a.q,{alignSelf:"flex-end",fontSize:"$sm",color:b,textAlign:"center",children:(0,o.jsx)(r.FA,{alignItems:"flex-end",children:f.edicts.map(((e,t)=>(0,o.jsxs)(a.q,{fontSize:"$sm",color:b,children:[g,(0,l.bM)(e.amount,5)," ",f.tokenName]},t)))})})]})]})]}),n&&i===t.length-1&&(0,o.jsx)(r.FA,{alignItems:"center",paddingVertical:"$DEPRECATED_2",children:(0,o.jsx)(c._,{color:"$baseIcon"})})]},i)}))})}},476453:(e,t,n)=>{n.d(t,{e:()=>o.e,i:()=>l});var o=n(788269),r=n(552322),a=n(371541),s=n(382740),i=n(337288),c=n(887388);const l=({summaries:e,formattedFee:t})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.q,{fontWeight:"$semiBold",color:"$baseTextHighEmphasis",children:"Transaction Summary"}),e.map(((e,t)=>(0,r.jsx)(i.FA,{gap:"$DEPRECATED_3",backgroundColor:e.isSender?"$baseBackgroundL0":"$baseBackgroundL1",borderColor:"$baseBorderMed",borderWidth:1,padding:"$DEPRECATED_3",borderRadius:"$DEPRECATED_4",children:(0,r.jsxs)(i.FA,{gap:"$DEPRECATED_2",children:[(0,r.jsxs)(i.sL,{alignItems:"center",justifyContent:"space-between",gap:"$DEPRECATED_2",children:[(0,r.jsx)(s.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",children:e.isSender?"Sender":"Receiver"}),(0,r.jsx)(s.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",children:(0,a.R1)(e.address,5)})]}),(0,r.jsxs)(i.sL,{alignItems:"center",justifyContent:"space-between",gap:"$DEPRECATED_2",flex:1,children:[(0,r.jsx)(s.q,{fontSize:"$sm",color:"$baseTextHighEmphasis",children:e.isSender?"Sending":"Receiving"}),(0,r.jsxs)(s.q,{fontSize:"$sm",color:e.isSender?"$redText":"$greenText",children:[e.isSender?"":"+",(0,c.bM)(e.netAmount,8)," BTC"]})]}),e.runestone&&(0,r.jsxs)(i.sL,{alignItems:"center",justifyContent:"space-between",gap:"$DEPRECATED_2",flex:1,children:[(0,r.jsx)(s.q,{fontSize:"$sm",color:"$baseTextHighEmphasis",children:e.isSender?"Sending":"Receiving"}),(0,r.jsxs)(s.q,{fontSize:"$sm",color:e.isSender?"$redText":"$greenText",children:[e.isSender?"-":"+",(0,c.bM)(e.runestone.edicts[0].amount,5)," ",e.runestone.tokenName]})]})]})},t))),(0,r.jsx)(i.FA,{gap:"$DEPRECATED_3",backgroundColor:"$baseBackgroundL0",borderColor:"$baseBorderMed",borderWidth:1,padding:"$DEPRECATED_3",borderRadius:"$DEPRECATED_4",children:(0,r.jsxs)(i.sL,{alignItems:"center",justifyContent:"space-between",gap:"$DEPRECATED_2",flex:1,children:[(0,r.jsx)(s.q,{fontSize:"$sm",color:"$baseTextHighEmphasis",children:"Network Fee"}),(0,r.jsxs)(s.q,{fontSize:"$sm",color:"$redText",children:["-",t," BTC"]})]})})]})},973368:(e,t,n)=>{n.d(t,{u:()=>c});var o=n(552322),r=n(862955),a=n(181956),s=n(59727),i=n(382740);function c({size:e=64,fontSize:t="$xl",uuid:n,disabled:c,...l}){var u;const d=(0,a.gl)();if(0===d.length)return null;const m=d.find((e=>e.uuid===n)),p=d.findIndex((e=>e.uuid===n)),f=function(e){const t=e.split(" ").filter(Boolean);let n=[...t[0]][0];return t.length>1&&(n+=[...t[1]][0]),n.toUpperCase()}(null!==(u=null==m?void 0:m.username)&&void 0!==u?u:"?"),h=(0,r.o)(p>=0?p:100);return(0,o.jsxs)(s.Kq,{width:e,height:e,jc:"center",style:{position:"relative"},...l,children:[(0,o.jsx)(s.Kq,{bc:h,opacity:.15,borderRadius:e/2,width:e,height:e,style:{position:"absolute",left:0,right:0,top:0,bottom:0}}),(0,o.jsx)(i.q,{color:h,fontSize:t,fontWeight:"$semiBold",textAlign:"center",children:f})]})}},821179:(e,t,n)=>{n.d(t,{x:()=>d});var o=n(552322),r=n(371541),a=n(495320),s=n(337288),i=n(382740),c=n(400752),l=n(202784),u=n(973368);function d({publicKey:e,walletName:t}){const n=(0,c.Dv)(a.D5),[d,m]=(0,l.useState)(!1);let p;t||Object.values(n.publicKeys.platforms).find((t=>{const n=Object.entries(t.publicKeys).find((([t,n])=>e.toLowerCase()===t.toLowerCase()));return n&&(p=n[1]),!!p}));const f=!(!p&&!t||d);return(0,o.jsxs)(s.sL,{flex:1,alignItems:"center",justifyContent:"flex-start",gap:"$DEPRECATED_2",pr:4,children:[f?(0,o.jsxs)(s.sL,{gap:"$DEPRECATED_2",overflow:"hidden",flexShrink:1,alignItems:"center",children:[(0,o.jsx)(u.u,{size:22,fontSize:"$xs",uuid:n.user.uuid}),(0,o.jsx)(i.q,{fontSize:"$sm",color:"$baseTextHighEmphasis",whiteSpace:"nowrap",ellipse:!0,children:null!=t?t:null==p?void 0:p.name})]}):null,(0,o.jsx)(s.sL,{flexShrink:0,onPress:()=>m(!d),maxWidth:"100%",children:(0,o.jsx)(i.q,{fontSize:"$sm",color:"$baseTextMedEmphasis",cursor:"pointer",maxWidth:"100%",children:d?e:(0,r.R1)(e,f?4:6)})})]})}},642807:(e,t,n)=>{n.d(t,{pu:()=>x,$y:()=>E});var o=n(552322),r=n(579187),a=n(861326),s=n(997246),i=n(127942),c=n(697800),l=n(684135),u=n(541214),d=n(893190),m=n(830349),p=n(758368),f=n(337288),h=(n(631649),n(187254)),g=n(304235),b=n(627158),w=n(400752),k=n(202784),y=n(33229);const E=({transactionConfirmationScreen:e})=>{var t,n;const E=(0,u.rT)(),v=(0,m.x)(E.blockchainId),{tokenInterface:T}=(0,w.Dv)(l.$),A=(0,u.gI)(E.blockchainId),{balances:x}=(0,d.gK)({walletPublicKey:E.publicKey,caip2:A}),S=(0,g.HJ)(),{navigateToTransactionConfirmation:I}=(0,p.t)(S,e),P=Number(null!==(n=null===(t=x.find((e=>e.token===i.e_)))||void 0===t?void 0:t.amount)&&void 0!==n?n:"0"),[C,R]=(0,k.useState)(P);if((0,k.useEffect)((()=>{R(P)}),[P]),C<=1e6)return null;const q=C/r.j,$="ios"===y.default.OS?"$2":"android"===y.default.OS?"$6":"$2";return(0,o.jsx)(o.Fragment,{children:q>0?(0,o.jsxs)(f.FA,{paddingTop:"$2",paddingBottom:$,children:[!1,(0,o.jsx)(s.x,{color:"green",label:h.ag._({id:"8xZGso",values:{wSolAmount:q}}),onPress:async()=>{T&&I({title:h.ag._({id:"FMBb2k"}),sendTransaction:async()=>{const e=await(0,c.tr)({walletPublicKey:(0,a.u)(E.publicKey),solanaClient:v,tokenInterface:T},(0,a.u)(E.publicKey),C),t=b.Transaction.from(e);return v.wallet.signAndSendTransaction({tx:t,publicKey:(0,a.u)(E.publicKey)})},onConfirmation:()=>{R(0)},confirmTransaction:e=>v.confirmTransaction(e.txHash),onClose:e=>e.popToTop()})}})]}):null})};var v=n(468186),T=n(382740),A=n(73705);const x=(0,k.memo)((function(){const{bridgeOptions:e,selectedBridgeRouteId:t,setSelectedBridgeRouteId:n}=(0,v.Ci)();return!e||e.length<2?null:(0,o.jsx)(f.FA,{gap:"$2",children:e.map(((e,r)=>(0,o.jsx)(S,{option:e,isSelected:t===e.id||null===t&&0===r,onSelect:()=>n(e.id)},e.id)))})})),S=(0,k.memo)((function({option:e,isSelected:t,onSelect:n}){return(0,o.jsxs)(f.sL,{padding:"$4",backgroundColor:"$baseBackgroundL1",borderWidth:1,borderColor:t?"$accentBlue":"transparent",borderRadius:"$3",alignItems:"center",gap:"$3",cursor:"pointer",onPress:n,hoverStyle:{opacity:.8},children:[(0,o.jsx)(f.sL,{width:20,height:20,borderRadius:10,borderWidth:2,borderColor:t?"$accentBlue":"$baseTextMedEmphasis",alignItems:"center",justifyContent:"center",children:t?(0,o.jsx)(f.sL,{width:10,height:10,borderRadius:5,backgroundColor:"$accentBlue"}):null}),(0,o.jsxs)(f.FA,{flex:1,gap:"$1",children:[(0,o.jsx)(T.q,{fontSize:"$sm",fontWeight:"600",children:e.label}),(0,o.jsxs)(f.sL,{gap:"$2",alignItems:"center",children:[e.providerLogoURI&&!e.providerLogoURI.endsWith(".svg")?(0,o.jsx)(A.e,{src:e.providerLogoURI,size:16}):null,(0,o.jsxs)(T.q,{fontSize:"$xs",color:"$baseTextMedEmphasis",children:[e.provider," · ",e.priceImpact," price impact ·"," ",e.estimatedTime]})]})]})]})}))},971368:(e,t,n)=>{n.d(t,{l:()=>l});var o=n(552322),r=n(10794),a=n(227443),s=n(382740),i=n(59727),c=n(400752);function l({allowMasking:e,percentChange:t,showBackground:n,fontSize:l}){const u=(0,c.Dv)(a.aI),d=!(!t||0!==t&&"0.00"!==t.toFixed(2)),m=!!(t&&t>0),p=!!(t&&t<0),[f,h]=e&&u||void 0!==t&&d?["$baseTextMedEmphasis","$colorTransparent"]:void 0!==t&&m?["$greenText","$greenBackgroundTransparent"]:void 0!==t&&p?["$redText","$redBackgroundTransparent"]:["$baseTextMedEmphasis","$colorTransparent"],g=(0,o.jsx)(o.Fragment,{children:e&&u?(0,o.jsxs)(s.q,{fontSize:l,fontWeight:"500",color:f,children:[r.e,"%"]}):void 0!==t&&d?(0,o.jsxs)(s.q,{fontSize:l,fontWeight:"500",color:f,children:[t.toFixed(2),"%"]}):void 0!==t&&m?(0,o.jsxs)(s.q,{fontSize:l,fontWeight:"500",color:f,children:["+",t.toFixed(2),"%"]}):void 0!==t&&p?(0,o.jsxs)(s.q,{fontSize:l,fontWeight:"500",color:f,children:[t.toFixed(2),"%"]}):(0,o.jsx)(s.q,{fontSize:l,fontWeight:"500",color:f,children:"-"})});return n?(0,o.jsx)(i.G7,{bg:h,borderRadius:8,px:8,py:4,children:g}):g}},527159:(e,t,n)=>{n.d(t,{_:()=>d});var o=n(66046),r=n(400752),a=n(202784),s=n(33229),i=n(694407),c=n(817967);function l(e){switch(e){case"aptos":return n(847376);case"arbitrum":return n(327743);case"avalanche":return n(151421);case"base":return n(293362);case"berachain":return n(366929);case"bitcoin":return n(738877);case"bsc":return n(937206);case"cosmos":return n(227385);case"eclipse":return n(379821);case"eclipseTestnet":return n(235281);case"ethereum":return n(30668);case"ethereumSepolia":return n(199677);case"fogo":return n(763531);case"gorbaganaTestnet":return n(418636);case"hyperevm":return n(732950);case"monad":return n(995433);case"monadTestnet":return n(619681);case"optimism":return n(95225);case"plasma":return n(572779);case"polygon":return n(606536);case"sei":return n(330541);case"solana":return n(964414);case"solanaDevnet":return n(524271);case"sonic":return n(863491);case"sonicTestnet":return n(862249);case"sui":return n(476327);case"suiTestnet":return n(950775);case"tron":return n(741982);case"tronTestnet":return n(308737);default:return null}}var u=n(202784);function d({id:e,size:t=28,logoUriOverride:n,showBorder:d=!1}){const m=e?function(e){switch(e){case c.Ek.ARBITRUM_ONE:return l("arbitrum");case c.Ek.BASE_MAINNET:return l("base");case c.Ek.BERACHAIN_MAINNET:return l("berachain");case c.Ek.BITCOIN_MAINNET:return l("bitcoin");case c.Ek.BSC_MAINNET:return l("bsc");case c.Ek.ECLIPSE_MAINNET_BETA:return l("eclipse");case c.Ek.ECLIPSE_DEVNET:case c.Ek.ECLIPSE_TESTNET:return l("eclipseTestnet");case c.Ek.ETHEREUM_MAINNET:return l("ethereum");case c.Ek.ETHEREUM_SEPOLIA:return l("ethereumSepolia");case c.Ek.FOGO_MAINNET:return l("fogo");case c.Ek.HYPEREVM_MAINNET:return l("hyperevm");case c.Ek.MONAD_MAINNET:return l("monad");case c.Ek.MONAD_TESTNET:return l("monadTestnet");case c.Ek.OPTIMISM_MAINNET:return l("optimism");case c.Ek.PLASMA_MAINNET:return l("plasma");case c.Ek.POLYGON_MAINNET_POS:return l("polygon");case c.Ek.SEI_MAINNET:return l("sei");case c.Ek.SOLANA_MAINNET:return l("solana");case c.Ek.SOLANA_DEVNET:return l("solanaDevnet");case c.Ek.SONICGAME_MAINNET:return l("sonic");case c.Ek.DEPRECATED_SONICGAME_DEVNET:case c.Ek.SONICGAME_TESTNET_FRONTIER:return l("sonicTestnet");case c.Ek.GORBAGANA_TESTNET:return l("gorbaganaTestnet");case c.Ek.SUI_MAINNET:return l("sui");case c.Ek.SUI_DEVNET:case c.Ek.SUI_TESTNET:return l("suiTestnet");case c.Ek.APTOS_MAINNET:return l("aptos");case c.Ek.TRON_MAINNET:return l("tron");case c.Ek.TRON_SHASTA:return l("tronTestnet");default:return null}}(e):void 0,p=(0,a.useMemo)((()=>({blockchainId:e,logoUriOverride:n,localSource:m})),[e,n,m]),f=(0,r.Dv)((0,o.T6)(p));if(!f)return null;const h="web"===s.default.OS&&"string"==typeof f&&f.endsWith(".png")?f.replace(".png","@4x.png"):f,g={width:t,height:t,aspectRatio:1,borderRadius:Math.ceil(t/2),...d&&{borderWidth:1,borderColor:"rgba(56, 58, 69, 1)"}};return u.createElement(i.default,{resizeMode:"contain",source:h,style:g})}},997246:(e,t,n)=>{n.d(t,{x:()=>d});var o=n(825629),r=n(337288),a=n(326951),s=n(202784),i=n(168756),c=n(71556),l=n(201462),u=n(202784);const d=(0,s.forwardRef)((function({rounded:e,variant:t="primary",color:n="primary",size:s=48,label:d,disabled:m,loading:p,icon:f,rightIcon:h,onPress:g,testID:b},w){const{backgroundColor:k,textColor:y,height:E,fontSize:v,fontSizeToken:T,borderRadius:A,paddingHorizontal:x}=function(e,t,n,o){const r=(0,a.F)();let s,i,c,l,u,d=12;switch(n){case 56:c=18,l="$lg",u=24;break;case 48:c=16,l="$md",u=16;break;case 40:c=14,l="$sm",d=8,u=16;break;case 32:c=13,d=8,u=12,o&&(u=14);break;case 24:c=12,l="$xs",d=6,u=8,o&&(u=12);break;case 20:c=12,l="$xs",d=16,u=8}switch(e){case"primary":switch(i=r.buttonPrimaryText.val,t){case"primary":s=r.buttonPrimaryBackground.val;break;case"green":s=r.greenText.val;break;case"red":s=r.redText.val;break;case"blue":s=r.accentBlue.val;break;case"purple":s=r.purple4.val;break;case"light-gray":s=r.baseBackgroundL2.val}break;case"secondary":switch(t){case"primary":i=r.baseTextHighEmphasis.val,s=r.baseBackgroundL1.val;break;case"green":i=r.greenText.val,s=r.greenBackgroundTransparent.val;break;case"red":i=r.redText.val,s=r.redBackgroundTransparent.val;break;case"blue":i=r.accentBlue.val,s=r.accentBlueBackground.val;break;case"purple":i=r.accentPurple.val,s=r.purple4.val;break;case"light-gray":i=r.baseTextHighEmphasis.val,s=r.baseBackgroundL2.val}break;case"tertiary":switch(s="transparent",t){case"primary":i=r.baseTextHighEmphasis.val;break;case"green":i=r.greenText.val;break;case"red":i=r.redText.val;break;case"blue":i=r.accentBlue.val;break;case"purple":i=r.accentPurple.val;break;case"light-gray":i=r.baseTextMedEmphasis.val}}return{backgroundColor:s,textColor:i,fontSize:c,fontSizeToken:l,height:n,borderRadius:o?100:d,paddingHorizontal:u}}(t,n,s,e);return u.createElement(i.Z,{ref:w,disabled:m,onPress:g,testID:b,android_ripple:"tertiary"!==t?{color:"rgba(0, 0, 0, 0.2)",borderless:!1}:void 0,style:({pressed:e})=>({opacity:p||m?.5:e?o.IPZ:1,height:E,borderRadius:A,backgroundColor:k,paddingHorizontal:x,alignItems:"center",justifyContent:"center",flexDirection:"row"}),accessibilityLabel:"Touchable"},u.createElement(r.sL,{gap:8},u.createElement(r.sL,{ai:"center"},f&&u.createElement(r.FA,{marginRight:"$2",justifyContent:"center"},f({size:18})),u.createElement(l.h,{ellipsizeMode:"tail",numberOfLines:2,fontSize:T||v,fontWeight:"600",color:y},d),h&&u.createElement(r.FA,{marginLeft:"$2",justifyContent:"center"},h({size:18}))),p?u.createElement(c.h,{size:v,colors:[y]}):null))}))},667135:(e,t,n)=>{n.d(t,{p:()=>a});var o=n(59727),r=n(202784);function a({children:e,gap:t=16,horizontal:n=!1}){return r.createElement(o.G7,{gap:t,flexDirection:n?"row":"column"},r.Children.map(e,(e=>e?r.createElement(o.G7,{f:n?1:0},e):null)))}},159469:(e,t,n)=>{n.d(t,{t:()=>m});var o=n(326951),r=n(337288),a=n(382740),s=n(954243),i=n(886526),c=n(202784),l=n(33229),u=n(430024),d=n(202784);const m=(0,c.forwardRef)((({errorMessage:e,hasError:t,onValueChange:n,onChangeText:m,wrapperProps:p,lines:f=3,placeholder:h,multiline:g=!1,label:b,value:w,testID:k,rightAccessory:y,...E},v)=>{const T=(0,o.F)(),[A,x]=(0,c.useState)(!1),S=(0,c.useCallback)((e=>{n?.(e),m?.(e)}),[n,m]),I=e||t?T.redText.val:A?T.accentBlue.val:T.baseBorderMed.val;return d.createElement(r.FA,{gap:"$1"},b&&d.createElement(a.q,{color:"$baseTextMedEmphasis",fontSize:"$sm",mb:"web"===l.default.OS?0:"$1"},b),d.createElement(r.sL,{position:"relative",alignItems:"center",borderWidth:2,borderColor:I,borderRadius:"$3",overflow:"hidden",...p},g?d.createElement(s.K,{ref:v,value:w,testID:k,onChangeText:S,onFocus:()=>x(!0),onBlur:()=>x(!1),placeholderTextColor:"$baseIcon",placeholder:h,height:30*f,minHeight:30*f,maxHeight:30*f,returnKeyLabel:"Done",blurOnSubmit:!0,returnKeyType:"done",onSubmitEditing:()=>u.default.dismiss(),backgroundColor:"$baseBackgroundL0",textAlignVertical:"top",color:"$baseTextHighEmphasis",fontWeight:"500",flex:1,multiline:!0,numberOfLines:f,borderWidth:0,flexWrap:"wrap",br:"web"===l.default.OS?0:"$2",focusStyle:{outlineWidth:0},pr:y?"$4":void 0,...E}):d.createElement(i.II,{ref:v,value:w,testID:k,borderWidth:0,height:48,br:"web"===l.default.OS?0:"$2",backgroundColor:"$baseBackgroundL0",color:"$baseTextHighEmphasis",fontSize:"$base",fontWeight:"500",px:"$3",flex:1,focusStyle:{outlineWidth:0},onChangeText:S,onFocus:()=>x(!0),onBlur:()=>x(!1),placeholderTextColor:"$baseIcon",placeholder:h,pr:y?"$4":void 0,...E}),y&&d.createElement(r.sL,{position:"absolute",right:"$2",alignItems:"center",justifyContent:"center"},y)),e&&d.createElement(a.q,{color:"$redText",fontSize:"$xs",ml:"$0"},e))}));m.displayName="BpInputBox"},71556:(e,t,n)=>{n.d(t,{h:()=>s});var o=n(337288),r=n(202784);const a="\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .spinner-svg {\n    animation: rotate linear infinite;\n  }\n\n  .spinner-circle {\n    fill: none;\n    stroke-linecap: round;\n  }\n\n  .spinner-circle.base {\n    stroke-opacity: 0.1;\n  }\n\n  @keyframes rotate {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n";function s({size:e=80,borderWidth:t=2,durationMs:n=700,colors:s}){const i=(e-t)/2,c=2*Math.PI*i,l=`${.1*c} ${.9*c}`,u=s&&s.length>0?s[0]:"#007AFF",d=s&&s.length>0?s:["#007AFF"];return r.createElement(r.Fragment,null,r.createElement("style",null,a),r.createElement(o.FA,{width:e,height:e},r.createElement("svg",{width:e,height:e,className:"spinner-svg",style:{animationDuration:`${n}ms`}},r.createElement("defs",null,r.createElement("linearGradient",{id:"spinner-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},r.createElement("stop",{offset:"0%",stopColor:d[0],stopOpacity:"1"}),r.createElement("stop",{offset:"100%",stopColor:d[1],stopOpacity:"1"}))),r.createElement("circle",{className:"spinner-circle base",cx:e/2,cy:e/2,r:i,stroke:u,strokeWidth:t}),r.createElement("circle",{className:"spinner-circle animated",cx:e/2,cy:e/2,r:i,stroke:1===d.length?d[0]:"url(#spinner-gradient)",strokeWidth:t,strokeDasharray:l,strokeDashoffset:.9*c,transform:`rotate(-90 ${e/2} ${e/2})`}))))}},645230:(e,t,n)=>{n.d(t,{r:()=>c});var o=n(337288),r=n(382740),a=n(674283),s=n(202784);const i=new RegExp(`${/\*\*(.*?)\*\*/g.source}|${/\[(.*?)\]\((.*?)\)/g.source}|${/&gt;/g.source}|${/&#x27;/g.source}`,"g");function c({text:e,fontSize:t="$xs",color:n="$baseTextHighEmphasis",handlers:r={},...c}){const u=(0,s.useCallback)((e=>()=>{r[e]?r[e]():(0,a.pz)(e)}),[r]),d=(0,s.useCallback)((e=>{if(!e)return[];const o=[];let r=0;return e.replace(i,((a,i,d,m,p)=>(p>r&&o.push(s.createElement(l,{fontSize:t,color:n,key:`text-${p}`,...c},e.slice(r,p))),i&&o.push(s.createElement(l,{fontSize:t,color:n,key:`bold-${p}`,fontWeight:"$bold",...c},i)),d&&m?o.push(s.createElement(l,{key:`link-${p}`,fontSize:t,color:"$accentBlue",onPress:u(m),pressStyle:{opacity:.5},...c},d)):"&gt;"===a?o.push(s.createElement(l,{fontSize:t,color:n,key:`gt-${p}`,...c},">")):"&#x27;"===a&&o.push(s.createElement(l,{fontSize:t,color:n,key:`single-quote-${p}`,...c},"'")),r=p+a.length,a))),r<e.length&&o.push(e.slice(r)),o}),[t,n,c,u]);if((0,s.useMemo)((()=>e&&e.match(/^- /m)),[e])){const r=e.split("\n"),a=[];for(let e=0;e<r.length;e++){const i=r[e],u=i.match(/^- (.+)$/);if(u){const r=d(u[1]);a.push(s.createElement(o.FA,{key:`bullet-${e}`,flexDirection:"row",mb:4},s.createElement(l,{fontSize:t,color:n,...c},"-"),s.createElement(l,{ml:8,flex:1,fontSize:t,color:n,...c},r)))}else if(i.trim()){const o=d(i);a.push(s.createElement(l,{key:`line-${e}`,mb:4,fontSize:t,color:n,...c},o))}}return s.createElement(o.FA,null,a)}return s.createElement(l,{fontSize:t,color:n,...c},d(e))}function l({children:e,...t}){return s.createElement(r.q,{...t,flexShrink:1,textAlign:"left",maxFontSizeMultiplier:1.1},e)}},967264:(e,t,n)=>{n.d(t,{P:()=>s});var o=n(168756),r=n(202784);const a=.98;function s({targetScale:e=a,children:t,style:n,onPressIn:s,onPressOut:i,hapticStyle:c,testID:l,...u}){return r.createElement(o.Z,{accessibilityRole:"button",testID:l,onPressIn:e=>{s?.(e)},onPressOut:e=>{i?.(e)},...u,accessibilityLabel:"Touchable"},t)}},680588:(e,t,n)=>{n.d(t,{y:()=>s});var o=n(326951),r=n(549454),a=n(202784);function s({value:e,onValueChange:t,disabled:n,loading:s,size:i="default",flexShrink:c,warning:l=!1}){const u=(0,o.F)(),d="small"===i?"$5":"$6",m=n||s,p=n?.5:s?.8:1;return a.createElement(r.rs,{pointerEvents:"auto",checked:e,onCheckedChange:t,disabled:m,size:d,padding:2,borderWidth:0,backgroundColor:e?n?u.baseBackgroundL3.val:l?u.yellowText.val:u.accentBlue.val:u.baseToggle.val,opacity:p,scale:"small"===i?.9:1,cursor:"pointer",flexShrink:c},a.createElement(r.rs.Thumb,{animation:"quick",backgroundColor:n?u.baseTextMedEmphasis.val:u.baseTextHighEmphasis.val}))}},201462:(e,t,n)=>{n.d(t,{h:()=>a});var o=n(917518),r=n(202784);function a({size:e,fontWeight:t="500",fontSize:n="$base",lineHeight:a,ta:s,textAlign:i,children:c,color:l,...u}){return r.createElement(o.x,{color:l??"$baseTextHighEmphasis",fontSize:e||n,lineHeight:a||e,fontFamily:"$body",fontWeight:t,ta:s??i,maxFontSizeMultiplier:1.1,...u},c)}},862955:(e,t,n)=>{n.d(t,{o:()=>r});var o=n(825629);function r(e){const t=e%14+1,n=`darkUser${t<10?"0":""}${t}`;return o._5K[n]}},20994:(e,t,n)=>{n.d(t,{C1:()=>r,Qn:()=>a,is:()=>s,yM:()=>i});var o=n(25492);function r(e,t,n,o){return e?.[t]?.[n]?.[o]??0}function a(e,t,n,o,a=!1){return!!a&&r(e,t,n,o)>Date.now()}function s(e,t,n,o){const a=r(e,t,n,o);return{approved:a>Date.now(),approvedUntil:a}}function i(e){return e?Date.now()+o.Zn:0}},102071:(e,t,n)=>{n.d(t,{g:()=>r});var o=n(20994);function r({origin:e,user:t,blockchainId:n,isSigningAutoApprovalFeatureSupported:r=!1,publicKey:a}){if(!r)return{approved:!1,approvedUntil:0};const{approved:s,approvedUntil:i}=(0,o.is)(t.preferences.autoApprovalOrigins,e.address,n,"message");if(a){const o=t.preferences.autoApprovalOrigins?.[e.address]?.[n]?.messageAddress;return{approved:s&&o===a,approvedUntil:i}}return{approved:s,approvedUntil:i}}},448288:(e,t,n)=>{n.d(t,{l:()=>r});var o=n(25492);async function r(e,t){const n=await chrome.windows.getLastFocused(),r=t?.fullscreen;let a=isNaN(t?.width??NaN)?o.lG:t.width,s=isNaN(t?.height??NaN)?o.xl:t.height;r&&(s=screen.availHeight,a=screen.availWidth);const[i,c]="Windows"===navigator.userAgentData.platform?[36,12]:[28,0];if(n.id){const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});await chrome.storage.session.set({LAST_WINDOW_ID:n.id,LAST_TAB_ID:e?.id||void 0})}else await chrome.storage.session.remove(["LAST_WINDOW_ID","LAST_TAB_ID"]);const l=await chrome.windows.create({url:`${e}`,type:"popup",width:a+c,height:s+i,top:r?0:n.top,left:r?0:(n.left??0)+((n.width??0)-a-c),focused:!0});if(!l)throw new Error("Failed to create popup window");return l}},41498:(e,t,n)=>{n.d(t,{F:()=>o});const o=function(){const e="invariant: SecureDB stub has no functionality.";return{async export(){throw new Error(e)},async import(t){throw new Error(e)},async get(t){throw new Error(e)},async set(t,n){throw new Error(e)},async remove(t){throw new Error(e)},async reset(){throw new Error(e)},async isAvailable(){throw new Error(e)}}}()},477851:(e,t,n)=>{n.d(t,{Ai:()=>s,aY:()=>a,tB:()=>i});var o=n(351906),r=n(702212);const a=o.d,s="0x0000000000000000000000000000000000001010";class i{static async transferEthTransaction(e,t){return Object.fromEntries(Object.entries({to:t.to,value:BigInt(t.value),type:t.type??null,nonce:t.nonce??void 0,gasLimit:t.gasLimit??null,gasPrice:t.gasPrice??null,maxFeePerGas:t.maxFeePerGas??null,maxPriorityFeePerGas:t.maxPriorityFeePerGas??null}).filter((([e,t])=>null!=t)))}static async transferErc20Transaction(e,t){const n=new r.CH(t.contractAddress,[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],e.provider);return await n.populateTransaction.transfer(t.to,BigInt(t.amount),{type:t.type??null,nonce:t.nonce??null,gasLimit:t.gasLimit??null,gasPrice:t.gasPrice??null,maxFeePerGas:t.maxFeePerGas??null,maxPriorityFeePerGas:t.maxPriorityFeePerGas??null})}static async transferErc721Transaction(e,t){const n=new r.CH(t.contractAddress,[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],e.provider);return await n.populateTransaction.safeTransferFrom(t.from,t.to,t.tokenId,{type:t.type??null,nonce:t.nonce??null,gasLimit:t.gasLimit??null,gasPrice:t.gasPrice??null,maxFeePerGas:t.maxFeePerGas??null,maxPriorityFeePerGas:t.maxPriorityFeePerGas??null})}static async transferErc1155Transaction(e,t){const n=new r.CH(t.contractAddress,[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],e.provider);return await n.populateTransaction.safeTransferFrom(t.from,t.to,t.tokenId,BigInt(t.amount),[],{type:t.type??null,nonce:t.nonce??null,gasLimit:t.gasLimit??null,gasPrice:t.gasPrice??null,maxFeePerGas:t.maxFeePerGas??null,maxPriorityFeePerGas:t.maxPriorityFeePerGas??null})}}},697800:(e,t,n)=>{n.d(t,{YP:()=>j,tr:()=>W,um:()=>U});var o=n(886266),r=n(401642),a=n(861326),s=n(44171),i=n(358542),c=n(126249),l=n(279042),u=n(487355),d=n(809535),m=n(213418),p=n(601297),f=n(473033),h=n(379286),g=n(248985),b=n(135629),w=n(330020),k=n(995037),y=n(28423),E=n(295906),v=n(504351),T=n(899934),A=n(548826),x=n(85166),S=n(447530),I=n(652751),P=n(627158),C=n(162197),R=n.n(C),q=n(996346),$=n(348834).Buffer;function L({account:e,owner:t}){const n=[{pubkey:e,isSigner:!1,isWritable:!1}];return new P.TransactionInstruction({keys:n,data:B({account:t}),programId:F})}function B(e){const t=$.alloc(M.span),n=M.encode(e,t);return t.slice(0,n)}class D extends q.Blob{constructor(e){super(32,e)}decode(e,t){return new P.PublicKey(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}const F=new P.PublicKey("4MNPdKu9wFMvEeZBMt3Eipfs5ovVWTJb31pEXDJAAxX5"),M=(0,q.struct)([("account",new D("account"))]);var O=n(127942),N=n(277210),_=n(325603),K=n(348834).Buffer;class j{static async burnAndCloseNft(e,t){const{solDestination:n,mint:o,programId:r}=t,{walletPublicKey:a,tokenInterface:s,solanaClient:i}=e,c=t.source??(0,O.f0)(o,a,r),l=new P.Transaction;return l.add(await s.withProgramId(r).methods.burn(new(R())(t.amount??1)).accounts({account:c,mint:o,authority:a}).instruction(),await s.withProgramId(r).methods.closeAccount().accounts({account:c,destination:n,owner:a}).instruction()),l.feePayer=a,l.recentBlockhash=await i.getBlockhash(),await _.Q.signAndSendTransaction(e,l,{uiOptions:{relevantAccounts:[a.toBase58()]}})}static async burnCompressedNft(e,t){const{solanaClient:n}=e,o=t.tree??await g.ConcurrentMerkleTreeAccount.fromAccountAddress(n.connection,t.merkleTree,{commitment:n.connection.commitment}),r=o.getAuthority(),s=o.getCanopyDepth(),i=t.proof.slice(0,t.proof.length-(s||0)).map((e=>({pubkey:(0,a.u)(e),isSigner:!1,isWritable:!1}))),c=(0,l.createBurnInstruction)({anchorRemainingAccounts:i,compressionProgram:g.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,leafDelegate:t.leafDelegate??e.walletPublicKey,leafOwner:e.walletPublicKey,logWrapper:g.SPL_NOOP_PROGRAM_ID,merkleTree:t.merkleTree,treeAuthority:r},{creatorHash:[...(0,a.u)(t.creatorHash.trim()).toBytes()],dataHash:[...(0,a.u)(t.dataHash.trim()).toBytes()],index:t.leafId,nonce:t.leafId,root:[...(0,a.u)(t.root.trim()).toBytes()]},O.LU),u=(new P.Transaction).add(c);return u.feePayer=e.walletPublicKey,u.recentBlockhash=await n.getBlockhash(),await _.Q.signAndSendTransaction(e,u,{uiOptions:{relevantAccounts:[e.walletPublicKey.toBase58()]}})}static async burnMetaplexCoreNft(e,t){const{collection:n,asset:o}=t,r=(0,f.i)(e.solanaClient.networkConfig.rpcUrl).use((0,m.pI)({publicKey:(0,p.ZL)(e.walletPublicKey.toBase58())},!0)).use((0,u.mplCore)()),a=await e.solanaClient.getBlockhash(),s=(0,u.burn)(r,{asset:{owner:r.identity.publicKey,publicKey:(0,p.ZL)(o)},collection:n?{publicKey:(0,p.ZL)(n)}:void 0}).setBlockhash(a).build(r),i=(0,h.wl)(s);return await _.Q.signAndSendTransaction(e,i,{uiOptions:{relevantAccounts:[e.walletPublicKey.toBase58()]}})}static async compressOrDecompressTokenBalance(e,t){const[{CompressedTokenProgram:o,selectMinCompressedTokenAccountsForTransfer:r},{bn:s,createRpc:i}]=await Promise.all([n.e(697).then(n.t.bind(n,978596,19)),n.e(697).then(n.t.bind(n,679176,19))]),{solanaClient:c,walletPublicKey:l}=e,u=(0,a.u)(t.tokenMint),d=(0,a.u)(t.tokenProgram),m=(0,b.MO)(u,l,!0,d),p=i(c.connection,c.connection.rpcEndpoint,c.connection.rpcEndpoint),f=await p.getCompressedTokenAccountsByOwner(l,{mint:u}),h=s(t.amount),[g]=r(f.items,h),w=await p.getValidityProof(g.map((e=>s(e.compressedAccount.hash)))),k=new P.Transaction;return k.add(P.ComputeBudgetProgram.setComputeUnitLimit({units:35e4})),"compress"===t.action?k.add(await o.compress({amount:h,mint:u,owner:l,payer:l,source:m,toAddress:l})):k.add(await o.decompress({amount:h,inputCompressedTokenAccounts:g,payer:l,recentInputStateRootIndices:w.rootIndices,recentValidityProof:w.compressedProof,toAddress:m})),await _.Q.signAndSendTransaction(e,k,{uiOptions:{relevantAccounts:[l.toBase58()]}})}static Stake={async createAndDelegate(e,t){const{walletPublicKey:n,solanaClient:o}=e,{validatorVoteAccount:r,lamports:a}=t,s=P.Keypair.generate(),i=new P.Transaction;return i.add(P.StakeProgram.createAccount({authorized:new P.Authorized(n,n),lockup:new P.Lockup(0,0,n),fromPubkey:n,lamports:a,stakePubkey:s.publicKey})),P.StakeProgram.delegate({stakePubkey:s.publicKey,authorizedPubkey:n,votePubkey:r}).instructions.forEach((e=>{i.add(new P.TransactionInstruction(e))})),i.feePayer=n,i.recentBlockhash=await o.getBlockhash(),i.sign(s),await _.Q.signAndSendTransaction(e,i,{uiOptions:{relevantAccounts:[n.toBase58()]}})},async deactivate(e,t){const{walletPublicKey:n,solanaClient:o}=e,r=P.StakeProgram.deactivate({stakePubkey:t.stakeAccount,authorizedPubkey:n});return r.feePayer=n,r.recentBlockhash=await o.getBlockhash(),await _.Q.signAndSendTransaction(e,r,{uiOptions:{relevantAccounts:[n.toBase58()]}})},async merge(e,t){const{walletPublicKey:n,solanaClient:o}=e,r=P.StakeProgram.merge({stakePubkey:t.stakeAccountToMergeInto,sourceStakePubKey:t.stakeAccountToClose,authorizedPubkey:n});return r.feePayer=n,r.recentBlockhash=await o.getBlockhash(),await _.Q.signAndSendTransaction(e,r,{uiOptions:{relevantAccounts:[n.toBase58()]}})},async withdraw(e,t){const{walletPublicKey:n,solanaClient:o}=e,r=P.StakeProgram.withdraw({stakePubkey:t.stakeAccount,authorizedPubkey:n,toPubkey:n,lamports:await o.solanaRpc.getBalance((0,i.IY)(t.stakeAccount))});return r.feePayer="string"==typeof n?(0,a.u)(n):n,r.recentBlockhash=await o.getBlockhash(),await _.Q.signAndSendTransaction(e,r,{uiOptions:{relevantAccounts:[n.toBase58()]}})}};static async transferToken(e,t,n,o,r,c){if(!t.parsedMint||!t.parsedAta)throw new Error("Account data not available");const l=(0,a.u)(o.publicKey),u=(0,a.u)(t.mint),d=(0,a.u)(t.parsedAta.programId),m=BigInt(r),p=(0,a.u)(n.publicKey),f=(0,O.f0)(u,l,d),h=(0,O.f0)(u,p,d),[g,b,A]=await e.solanaRpc.getMultipleAccountsInfo([(0,i.IY)(l),(0,i.IY)(f),(0,i.IY)(F)]);let x=f;const S=(0,i.IY)(w.H_),I=(0,i.IY)(w.nA),C=g&&(g.owner===S||g.owner===I);if(C)try{if(!(0,k.nS)(l,{...g,owner:(0,a.u)(g.owner)},(0,a.u)(g.owner)).mint.equals(u))throw new Error("Token account mint mismatch: destination is for a different token");x=l}catch(e){throw new Error(`Invalid token account: ${e instanceof Error?e.message:"unknown error"}`)}else if(g&&g.owner!==(0,i.IY)(P.SystemProgram.programId))throw new Error("invalid account");const R=new P.Transaction;if(C||b||(A&&R.add(L({account:l,owner:P.SystemProgram.programId})),R.add((0,y.Ek)(p,f,l,u,d))),c){const e=(0,a.u)("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");R.add(new P.TransactionInstruction({programId:e,keys:[],data:K.from(c,"utf8")}))}if(t.solana?.extensions?.transferFeePercentage&&t.solana?.extensions?.transferHook&&s.ii.includes(t.solana?.extensions?.transferHook)){const n=Math.floor(Math.min(t.solana.extensions.transferFeeMaximum??1/0,parseInt(r)*(t.solana.extensions.transferFeePercentage/100)));R.add(await(0,E.Bk)(e.connection,h,u,x,p,m,t.parsedMint.decimals,BigInt(n),[],void 0,d))}else if(t.solana?.extensions?.transferHook&&s.ii.includes(t.solana?.extensions?.transferHook))R.add(await(0,E.N6)(e.connection,h,u,x,p,m,t.parsedMint.decimals,[],void 0,d));else if(t.solana?.extensions?.transferFeePercentage){const e=Math.floor(Math.min(t.solana.extensions.transferFeeMaximum??1/0,parseInt(r)*(t.solana.extensions.transferFeePercentage/100)));R.add(await(0,v.LC)(h,u,x,p,m,t.parsedMint.decimals,BigInt(e),[],d))}else R.add(await(0,T.De)(h,u,x,p,m,t.parsedMint.decimals,[],d));const q={relevantAccounts:[n.publicKey,o.publicKey]};return(await e.wallet.signAndSendTransaction({publicKey:p,tx:R},{uiOptions:q})).txHash}static async transferCompressedToken(e,t){const[{CompressedTokenProgram:o,selectMinCompressedTokenAccountsForTransfer:r},{bn:a,createRpc:s}]=await Promise.all([n.e(697).then(n.t.bind(n,978596,19)),n.e(697).then(n.t.bind(n,679176,19))]),{walletPublicKey:i,solanaClient:c}=e,{amount:l,recipient:u,mint:d}=t,m=s(c.connection,c.connection.rpcEndpoint,c.connection.rpcEndpoint),p=await m.getCompressedTokenAccountsByOwner(i,{mint:d}),f=a(l),[h]=r(p.items,f),g=await m.getValidityProof(h.map((e=>a(e.compressedAccount.hash)))),b=new P.Transaction;return b.add(P.ComputeBudgetProgram.setComputeUnitLimit({units:3e5}),await o.transfer({amount:f,inputCompressedTokenAccounts:h,payer:i,recentInputStateRootIndices:g.rootIndices,recentValidityProof:g.compressedProof,toAddress:u})),await _.Q.signAndSendTransaction(e,b,{uiOptions:{relevantAccounts:[i.toBase58(),u.toBase58()]}})}static async transferCreatorStandardToken(e,t){const{walletPublicKey:n,solanaClient:r}=e,{mint:a,programId:s,destination:c}=t,l=(0,O.f0)(a,c,s),u=(0,O.f0)(a,n,s),d="recent"===r.connection.commitment?"confirmed":r.connection.commitment,[m,p]=await r.solanaRpc.getMultipleAccountsInfo([(0,i.IY)(c),(0,i.IY)(l)],d);if(m&&m.owner!==(0,i.IY)(P.SystemProgram.programId))throw new Error("invalid account");const f=new P.Transaction,h=(0,o.Kb)(a),g=(0,o.Dw)(a),b=await o.nB.fromAccountAddress(e.solanaClient.connection,h);return p||f.add(L({account:c,owner:P.SystemProgram.programId}),(0,y.Ek)(n,l,c,a,s)),f.add((0,o.$B)({mintManager:h,mint:b.mint,mintMetadata:g,ruleset:b.ruleset,from:u,to:l,authority:n,instructions:P.SYSVAR_INSTRUCTIONS_PUBKEY})),f.feePayer=n,f.recentBlockhash=await r.getBlockhash(),await _.Q.signAndSendTransaction(e,f,{uiOptions:{relevantAccounts:[n.toBase58(),c.toBase58()]}})}static async transferOpenCreatorProtocol(e,t,n){const{walletPublicKey:o,solanaClient:r}=e,{mint:a,destination:s,programId:l}=t,u=(0,O.f0)(a,o,l),d=(0,O.f0)(a,s,l),m=await r.solanaRpc.getAccountInfo((0,i.IY)(d)),p=new P.Transaction;return m||p.add((0,c.createInitAccountInstruction)({policy:n.policy,freezeAuthority:(0,c.findFreezeAuthorityPk)(n.policy),mint:a,metadata:await(0,O.HX)(a),mintState:(0,c.findMintStatePk)(a),from:s,fromAccount:d,cmtProgram:c.CMT_PROGRAM,instructions:P.SYSVAR_INSTRUCTIONS_PUBKEY,payer:o,associatedTokenProgram:O._u})),p.add((0,c.createTransferInstruction)({policy:n.policy,freezeAuthority:(0,c.findFreezeAuthorityPk)(n.policy),mint:a,metadata:await(0,O.HX)(a),mintState:(0,c.findMintStatePk)(a),from:o,fromAccount:u,cmtProgram:c.CMT_PROGRAM,instructions:P.SYSVAR_INSTRUCTIONS_PUBKEY,to:s,toAccount:d})),p.feePayer=o,p.recentBlockhash=await r.getBlockhash(),await _.Q.signAndSendTransaction(e,p,{uiOptions:{relevantAccounts:[o.toBase58(),s.toBase58()]}})}static async transferCardinalManagedToken(e,t){const{walletPublicKey:n,solanaClient:o}=e,{mint:a,destination:s,programId:i}=t,c=(0,O.f0)(a,n,i),l=await(0,r.VL)(new P.Transaction,o.connection,(0,r.IQ)(n),a,c,s);return l.feePayer=n,l.recentBlockhash=await o.getBlockhash(),await _.Q.signAndSendTransaction(e,l,{uiOptions:{relevantAccounts:[n.toBase58(),s.toBase58()]}})}static async transferCompressedNft(e,t){const{solanaClient:n}=e,o=t.tree??await g.ConcurrentMerkleTreeAccount.fromAccountAddress(n.connection,t.merkleTree,{commitment:n.connection.commitment}),r=o.getAuthority(),s=o.getCanopyDepth(),i=t.proof.slice(0,t.proof.length-(s||0)).map((e=>({pubkey:(0,a.u)(e),isSigner:!1,isWritable:!1}))),c=(0,l.createTransferInstruction)({anchorRemainingAccounts:i,compressionProgram:g.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,leafDelegate:t.leafDelegate??e.walletPublicKey,leafOwner:e.walletPublicKey,logWrapper:g.SPL_NOOP_PROGRAM_ID,merkleTree:t.merkleTree,newLeafOwner:t.recipient,treeAuthority:r},{creatorHash:[...(0,a.u)(t.creatorHash.trim()).toBytes()],dataHash:[...(0,a.u)(t.dataHash.trim()).toBytes()],index:t.leafId,nonce:t.leafId,root:[...(0,a.u)(t.root.trim()).toBytes()]},O.LU),u=(new P.Transaction).add(c);return u.feePayer=e.walletPublicKey,u.recentBlockhash=await n.getBlockhash(),await _.Q.signAndSendTransaction(e,u,{uiOptions:{relevantAccounts:[e.walletPublicKey.toBase58(),t.recipient.toBase58()]}})}static async transferMplCoreNft(e,t,n){const{solanaClient:o}=e,{collection:r,destination:a,asset:s}=t,i=(0,f.i)(e.solanaClient.networkConfig.rpcUrl).use((0,m.pI)({publicKey:(0,p.ZL)(e.walletPublicKey.toBase58())},!0)).use((0,u.mplCore)()),c=await o.getBlockhash(),l=(0,u.transfer)(i,{asset:{owner:i.identity.publicKey,publicKey:(0,p.ZL)(s)},collection:r?{publicKey:(0,p.ZL)(r)}:void 0,newOwner:(0,p.ZL)(a)}).setBlockhash(c).build(i),d=(0,h.wl)(l);return await _.Q.signAndSendTransaction(e,d,{uiOptions:{relevantAccounts:[e.walletPublicKey.toBase58(),a.toBase58()]}})}static async transferProgrammableNft(e,t){const{walletPublicKey:n,solanaClient:o}=e,{amount:r,mint:a,programId:s,destination:i}=t,c=t.source??(0,O.f0)(a,n,s),l=(0,O.f0)(a,i,s),u=await(0,O.Zu)(a,c),m=await d.TokenRecord.fromAccountAddress(o.connection,u);if(m.state==d.TokenState.Locked)throw new Error("token account is locked");if(m.state==d.TokenState.Listed)throw new Error("token is listed");const p=await d.Metadata.fromAccountAddress(o.connection,await(0,O.HX)(a));let f;p.programmableConfig&&(f=p.programmableConfig.ruleSet??void 0);const h={authority:n,tokenOwner:n,token:c,metadata:await(0,O.HX)(a),mint:a,edition:await(0,O.Jq)(a),destinationOwner:i,destination:l,payer:n,splTokenProgram:w.H_,splAtaProgram:O._u,sysvarInstructions:P.SYSVAR_INSTRUCTIONS_PUBKEY,authorizationRules:f,authorizationRulesProgram:O.v7,ownerTokenRecord:u,destinationTokenRecord:await(0,O.Zu)(a,l)},g={transferArgs:{__kind:"V1",amount:r,authorizationData:null}},b=(0,d.createTransferInstruction)(h,g),k=(new P.Transaction).add(b);return k.feePayer=n,k.recentBlockhash=await o.getBlockhash(),await _.Q.signAndSendTransaction(e,k,{uiOptions:{relevantAccounts:[e.walletPublicKey.toBase58(),i.toBase58()]}})}static async transferSol(e,t){const{walletPublicKey:n,solanaClient:o}=e,r=new P.Transaction,s=(0,a.u)(t.destination),i=(0,a.u)(t.source),c=t.memo;if(c){const e=(0,a.u)("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");r.add(new P.TransactionInstruction({programId:e,keys:[],data:K.from(c,"utf8")}))}return r.add(P.SystemProgram.transfer({fromPubkey:i,toPubkey:s,lamports:t.amount})),r.feePayer=n,r.recentBlockhash=await o.getBlockhash(),await _.Q.signAndSendTransaction(e,r,{uiOptions:{relevantAccounts:[i.toBase58(),s.toBase58()],isMaxAmount:t.isMaxAmount}})}static async uninstallXnft(e,t,n,o){const r=(0,N.lA)(n.provider),s=(0,a.u)(e),{install:i}=o,c=s,l=s,u=await r.methods.delete_install().accountsStrict({install:i,receiver:c,authority:l}).transaction();u.feePayer=s,u.recentBlockhash=await t.getBlockhash();const d={relevantAccounts:[e]};return(await t.wallet.signAndSendTransaction({publicKey:s,tx:u},{uiOptions:d})).txHash}}const U=async(e,t,n)=>{const{walletPublicKey:o,solanaClient:r}=e,s=(0,O.f0)(w.Gd,t,w.H_),c="recent"===r.connection.commitment?"confirmed":r.connection.commitment,[l,u]=await r.solanaRpc.getMultipleAccountsInfo([(0,i.IY)(t),(0,i.IY)(s)],c);if(l&&l.owner!==(0,i.IY)(P.SystemProgram.programId))throw new Error("invalid account");const d=new P.Transaction;return u||d.instructions.push((0,y.Ek)(o,s,t,w.Gd,w.H_)),d.instructions.push(P.SystemProgram.transfer({fromPubkey:o,toPubkey:(0,a.u)(s),lamports:n})),d.instructions.push((0,A.D2)((0,a.u)(s))),d.feePayer=o,d.recentBlockhash=await r.getBlockhash(),d.serialize({requireAllSignatures:!1})},W=async(e,t,n)=>{const{solanaClient:o}=e,{walletPublicKey:r}=e,a=(0,O.f0)(w.Gd,t,w.H_),c=(0,O.f0)(w.Gd,r,w.H_),l="recent"===o.connection.commitment?"confirmed":o.connection.commitment,[u,d]=await o.solanaRpc.getMultipleAccountsInfo([(0,i.IY)(t),(0,i.IY)(a)],l);if(!d)throw new Error("expected wSOL account to exist");if(u&&u.owner!==(0,i.IY)(P.SystemProgram.programId))throw new Error("invalid account");const m=new P.Transaction;if(m.feePayer=r,m.recentBlockhash=await o.getBlockhash(),d.lamports===n)m.instructions.push((0,x.Zu)(a,t,t));else{const e=P.Keypair.generate();m.instructions.push(P.SystemProgram.createAccount({fromPubkey:r,newAccountPubkey:e.publicKey,lamports:s.n9,space:165,programId:w.H_})),m.instructions.push((0,S.FJ)(e.publicKey,w.Gd,t)),m.instructions.push((0,I.$B)(c,e.publicKey,r,n)),m.instructions.push((0,x.Zu)(e.publicKey,t,t)),m.partialSign(e)}return m.serialize({requireAllSignatures:!1})}},127942:(e,t,n)=>{n.d(t,{HX:()=>A,H_:()=>d,Jq:()=>x,LU:()=>g,VU:()=>w,Zu:()=>S,_u:()=>p,dP:()=>E,e_:()=>b,f0:()=>y,f1:()=>k,nA:()=>m,v7:()=>h});var o=n(338263),r=n(861326),a=n(746691),s=n(809535),i=n(358542),c=n(135629),l=n(627158),u=n(348834).Buffer;const d=new l.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),m=new l.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),p=new l.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),f=new l.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),h=new l.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g=new l.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),b="So11111111111111111111111111111111111111112",w=l.PublicKey.default.toString();class k{get provider(){return this._provider}_provider;withProgramId(e){const t=this._clients.get(e);if(void 0!==t)return t;{const t=(0,a.c)({provider:this.provider,programId:e});return this._clients.set(e,t),t}}_clients;constructor(e){this._provider=e;const t=(0,a.c)({provider:e});this._clients=new Map([[d,t]])}}function y(e,t,n){return l.PublicKey.findProgramAddressSync([t.toBuffer(),n.toBuffer(),e.toBuffer()],p)[0]}async function E(e,t,n){const r=new o.Y7(e,{publicKey:t}),a=new k(r),c=a.withProgramId(d),u=a.withProgramId(m),[p,f,h]=await Promise.all([n.getAccountInfo((0,i.IY)(t)),I(t,c,n),I(t,u,n)]),g=Array.from(function*(...e){for(const t of e)yield*t}(f.values(),h.values())),[b,w]=await Promise.all([v(r,g).then((e=>e.filter((e=>null!==e[1])))),T(a.provider,g)]),{fungibleTokens:y,fungibleTokenMetadata:E,nftTokens:A,nftTokenMetadata:x}=function(e,t,n){const o=[],r=[],a=[],i=[];return e.forEach(((e,c)=>{const l=t[c];if(l&&l.account&&l.account.tokenStandard)l.account.tokenStandard===s.TokenStandard.Fungible?(a.push(e),i.push(l)):(o.push(e),r.push(l));else{const t=n.get(e.mint.toString());t&&0===t.decimals?(o.push(e),r.push(l)):(a.push(e),i.push(l))}})),{nftTokens:o,nftTokenMetadata:r,fungibleTokens:a,fungibleTokenMetadata:i}}(g,w,new Map(b)),S={key:t,programId:d,mint:l.PublicKey.default,owner:t,amount:p?new o.BN(p.lamports.toString()):new o.BN(0),delegate:null,state:1,isNative:null,delegatedAmount:new o.BN(0),closeAuthority:null};return{mintsMap:b,nfts:{nftTokens:A,nftTokenMetadata:x},fts:{fungibleTokens:y.concat([S]),fungibleTokenMetadata:E.concat([null])}}}async function v(e,t){return(await o.P6.rpc.getMultipleAccounts(e.connection,t.map((e=>e.mint)))).map(((e,n)=>[t[n].mint.toString(),e?{...c.qT.decode(e.account.data),programId:t[n].programId}:null]))}async function T(e,t){const n=await Promise.all(t.map((async e=>({token:e,publicKey:e.key,metadataAddress:await A(e.mint)}))));return(await o.P6.rpc.getMultipleAccounts(e.connection,n.map((e=>e.metadataAddress)))).map((e=>e?{publicKey:e.publicKey,account:s.Metadata.deserialize(e.account.data)[0]}:null))}async function A(e){return(await l.PublicKey.findProgramAddress([u.from("metadata"),f.toBuffer(),e.toBuffer()],f))[0]}async function x(e){return(await l.PublicKey.findProgramAddress([u.from("metadata"),f.toBuffer(),e.toBuffer(),u.from("edition")],f))[0]}async function S(e,t){return(await l.PublicKey.findProgramAddress([u.from("metadata"),f.toBuffer(),e.toBuffer(),u.from("token_record"),t.toBuffer()],f))[0]}async function I(e,t,n){const a=(await n.getTokenAccountsByOwner((0,i.IY)(e),{programId:(0,i.IY)(t.programId)})).value.map((({account:e,pubkey:n})=>[n,{...t.coder.accounts.decode("account",e.data),key:(0,r.u)(n),programId:t.programId}])).filter((([,e])=>e.amount.gt(new o.BN(0))));return new Map(a)}},325603:(e,t,n)=>{n.d(t,{Q:()=>o});class o{static async signAndSendTransaction(e,t,n){const{walletPublicKey:o,solanaClient:r,transactionType:a}=e,s={...n,transactionType:n?.transactionType??a},i=await r.wallet.signAndSendTransaction({publicKey:o,tx:t,options:{skipPreflight:!0}},s);return i.jitoBundleId??i.txHash}}},679551:(e,t,n)=>{n.d(t,{O:()=>a});var o=n(565058),r=n(859083);const a=(0,o.cn)((e=>{const t=e(r.v);return t?.isSigningAutoApprovalFeatureSupported??!1}))},817911:(e,t,n)=>{n.d(t,{W4:()=>h,ck:()=>u});var o=n(371541),r=n(533767),a=n(812626),s=n(565058),i=n(987809),c=n(972160),l=n(227443);const u={[l.NT.CNY]:{name:"Chinese Yuan",symbol:"¥"},[l.NT.EUR]:{name:"Euro",symbol:"€"},[l.NT.GBP]:{name:"British Pound",symbol:"£"},[l.NT.USD]:{name:"US Dollar",symbol:"$"},[l.NT.AUD]:{name:"Australian Dollar",symbol:"A$"}},d=(0,i.O4)(r.y4.FIAT_RATES,{},(0,i.FL)((function(){return{getItem:async e=>await a.f.get(e)||JSON.stringify({}),removeItem:async e=>a.f.remove(e),setItem:async(e,t)=>a.f.set(e,t)}}))),m=(0,s.cn)((()=>fetch("https://price-indexer.workers.madlads.com/currency/rates").then((e=>e.json())).catch((e=>(console.error(`failed to fetch fiat conversion rates: ${e.message}`),{}))))),p=(0,c.j)(d,((e,t)=>{e(m).then((e=>{e&&t(d,e)}))})),f=(0,s.cn)((async e=>{const t=await e(p),n=await e(l.K1),o={fiat:l.NT.USD,formatDecimals:u.usd.decimals,name:u.usd.name,rate:1};return n&&void 0!==t?.[n]?{fiat:n,formatDecimals:u[n].decimals,name:u[n].name,rate:t[n]??1}:o})),h=(0,i.xu)((({decimalsOverride:e})=>(0,s.cn)((async t=>{const{fiat:n,formatDecimals:r,rate:a}=await t(f),s=e??r??2,i=new Intl.NumberFormat("en-US",{style:"currency",currency:n.toUpperCase(),maximumFractionDigits:s,currencyDisplay:"symbol"});return{format(e,t,r){const c=("string"==typeof e?Number(e.replace(/,/g,"")):e)*a;let l=i.format(c);const d=i.formatToParts?.(c);let m=d?.find((e=>"currency"===e.type))?.value;if(m||(m=u[n]?.symbol||"$"),t){const e=i.format(0).split(/\d/),t=e[0],r=e[e.length-1],a=o.eO.format({amount:Math.abs(c),currency:n.toUpperCase(),fractionStyle:"SUBSCRIPT_ZERO_COUNT",maximumFractionDigits:6,minimumFractionDigits:2,prefix:t,suffix:r});return c<0?`-${a}`:a}return r&&(l=`${m}${o.eO.format({aggressiveLargeNumberStyle:!0,amount:c,currency:n.toUpperCase(),largeNumberStyle:"TRUNCATED_WITH_LETTER",maximumFractionDigits:s})}`),l.replace(/CN|US/,"")}}}))),((e,t)=>e.decimalsOverride===t.decimalsOverride))},318416:(e,t,n)=>{n.d(t,{H:()=>l,g:()=>c});var o=n(565058),r=n(987809),a=n(495320);const s=(0,r.xu)((e=>(0,o.cn)(1))),i=(0,r.xu)((e=>(0,o.cn)(!1))),c=(0,r.xu)((e=>(0,o.cn)((t=>{const n=t((0,r.n7)(a.D5)),o=t(s(e));return t(i(e))?o:"hasData"===n.state?n.data.preferences?.swapSlippagePercentage?.[e]??o:o})))),l=(0,r.xu)((e=>(0,o.cn)(null,((t,n,o)=>{n(s(e),o),n(i(e),!0)}))))},74126:(e,t,n)=>{n.d(t,{l:()=>s});var o=n(565058),r=n(957211),a=n(495320);const s=(0,o.cn)((async e=>{const t=await e(a.D5),o=e(r.C),{WormholeClient:s}=await Promise.all([n.e(4409),n.e(9299),n.e(5393),n.e(5509),n.e(8534),n.e(2726),n.e(5315),n.e(3748),n.e(9653)]).then(n.bind(n,369653));return new s("Mainnet",o,t)}));(0,o.cn)((async e=>(await e(s)).activeWormholeBlockchainIds))},684135:(e,t,n)=>{n.d(t,{$:()=>l});var o=n(564861),r=n(817967),a=n(127942),s=n(627158),i=n(565058),c=n(66046);const l=(0,i.cn)((async e=>{const t=await e((0,c.Pg)((0,r.b9)(r.$O.SOLANA))),n=t.connection,i=t.solanaRpc,l=t.connection.commitment,u=t.connection.rpcEndpoint,d=s.Keypair.generate(),m=new o.AnchorProvider(n,d,{skipPreflight:!1,commitment:l,preflightCommitment:l});return{connection:n,solanaRpc:i,connectionUrl:u,provider:m,tokenInterface:new a.f1(m)}}))},452990:(e,t,n)=>{n.d(t,{Y:()=>o});const o=(0,n(565058).cn)({})},670489:(e,t,n)=>{n.d(t,{G:()=>c,J:()=>i});var o=n(187254),r=n(565058),a=n(987809);const s=/custom program error: 0x([a-fA-F0-9]+)/;function i(e){if(null===e)return null;if(e.includes("429")&&e.includes("Cloudflare"))return o.ag._({id:"WgUpz+"});if(e.includes("insufficient funds for intrinsic transaction cost")||e.includes("custom program error: 0x1."))return o.ag._({id:"T0W3Z8"});if(e.includes("custom program error: 0x1771."))return o.ag._({id:"Qhe2dF"});if(e.includes("No available quotes")||e.includes("NO_QUOTE")||e.includes("NO_POSSIBLE_ROUTE"))return o.ag._({id:"hPqsdm"});const t={"0x0":o.ag._({id:"GNLgVQ"}),"0x1":o.ag._({id:"4buJ72"}),"0x2":o.ag._({id:"RwGPlA"}),"0x3":o.ag._({id:"5rauWW"}),"0x4":o.ag._({id:"U08HvN"}),"0x5":o.ag._({id:"iUGy5M"}),"0x6":o.ag._({id:"VK/H5j"}),"0x7":o.ag._({id:"yOdXBt"}),"0x8":o.ag._({id:"QasGn9"}),"0x9":o.ag._({id:"3kdQoN"}),"0xa":o.ag._({id:"kpjWWJ"}),"0xb":o.ag._({id:"d0N20d"}),"0xc":o.ag._({id:"jP34QM"}),"0xd":o.ag._({id:"og11T2"}),"0xe":o.ag._({id:"o2YNi5"}),"0xf":o.ag._({id:"j6c2Up"}),"0x10":o.ag._({id:"h+TgwV"}),"0x11":o.ag._({id:"L7b/In"}),"0x12":o.ag._({id:"KdL+qE"}),"0x13":o.ag._({id:"sScg9Y"})},n=e.match(s);return n?t[`0x${n[1].toLowerCase()}`]??o.ag._({id:"2ePs/6"}):e.includes("custom program error")?o.ag._({id:"2ePs/6"}):e}const c=(0,a.xu)((e=>{const t=(0,r.cn)({});return(0,r.cn)((e=>e(t)),((e,n,o)=>{if(!(o.execute||o.sendTransaction&&o.confirmTransaction))throw new Error("TransactionProgress requires execute or sendTransaction method");const r=o.sendTransaction,a=o.confirmTransaction,s=o.onConfirmation,i=o.onOpenExplorer,c=o.execute??function(e,t,n){return({setDone:o,setError:r,setProgress:a,setSignature:s})=>((async()=>{try{a("creating");const r=await e({setProgress:a});a("confirming"),s(r),await t(r);try{a("done"),o(),n?.(r)}catch{}}catch(e){const t=e;r(t?.message?t.message:"Unknown Error")}})(),()=>{})}(r,a,s),l=o.onClose,u=o.loader,d=o.status,m=o.prepend,p=o.append,f=()=>{const e=c({setProgress:e=>{n(t,(t=>({...t,progress:e})))},setError:e=>{n(t,(t=>({...t,error:e,progress:"error"})))},setSignature:e=>{n(t,(t=>({...t,signature:e})))},setDone:()=>{n(t,(e=>({...e,isDone:!0})))}});n(t,{isDone:!1,progress:void 0,error:void 0,signature:void 0,cancel:e,retry:()=>{e(),f()},execute:c,sendTransaction:r,confirmTransaction:a,onConfirmation:s,onOpenExplorer:i,onClose:l,status:d,loader:u,prepend:m,append:p})};f()}))}))},758368:(e,t,n)=>{n.d(t,{t:()=>c});var o=n(400752),r=n(202784),a=n(639460),s=n(670489),i=n(541214);function c(e,t,n=!0,c){const[l,u]=(0,r.useState)((0,a.Z)()),d=(0,o.b9)((0,s.G)(l)),m=(0,i.rT)(),p=(0,r.useCallback)((({title:o,append:r,execute:s,sendTransaction:i,confirmTransaction:p,onConfirmation:f,onOpenExplorer:h,onClose:g,prepend:b,loader:w,status:k})=>{u((0,a.Z)()),d({execute:s,onClose:g,prepend:b,loader:w,status:k,append:r,sendTransaction:i,confirmTransaction:p,onConfirmation:f,onOpenExplorer:h}),e.navigate(t,{progressId:l,title:o,blockchainId:c||m.blockchainId,isModalPresentation:n})}),[d,e,t,n,l,c,m]);return(0,r.useMemo)((()=>({navigateToTransactionConfirmation:p})),[p])}},301685:(e,t,n)=>{n.d(t,{$p:()=>m,ZC:()=>d});var o=n(812626),r=n(533767),a=n(565058),s=n(987809),i=n(495320),c=n(242033);function l(e,t,n){return`${e}:${t}:${n}`}const u=(0,s.O4)(r.y4.WALLET_SKIN,{},(0,s.FL)((function(){return{getItem:async e=>await o.f.get(e)||JSON.stringify({}),removeItem:async e=>o.f.remove(e),setItem:async(e,t)=>o.f.set(e,t)}}))),d=(0,a.cn)((async e=>{const t=await e(i.Ug),n=await e(c.R2);return(await e(u))[l(t,n.blockchainId,n.publicKey)]||null})),m=(0,a.cn)(null,(async(e,t,{uuid:n,blockchainId:o,publicKey:r,skin:a})=>{const s=await e(u),i=l(n,o,r);if(null===a){const{[i]:e,...n}=s;t(u,n)}else t(u,{...s,[i]:a})}))},10794:(e,t,n)=>{n.d(t,{e:()=>o});const o="•••••"},534751:(e,t,n)=>{n.d(t,{P:()=>l});var o=n(44171),r=n(943491),a=n(952301),s=n(817022),i=n.n(s);const c=5e3;class l{ws=null;isConnecting=!1;isWorkerReady=!1;isPreWarming=!1;connectionAttempts=0;heartbeatInterval=null;requestIdCounter=1;pendingRequests=new Map;activeServerStreamIds=new Set;quoteStreamCallback=null;expectedAmount=null;expectedInputMint=null;expectedOutputMint=null;static instance=null;lastActivityTime=Date.now();constructor(){setInterval((()=>{const e=Date.now();e-this.lastActivityTime>6e4&&(this.isWorkerReady=!1,this.ws&&this.disconnect()),this.lastActivityTime=e}),5e3)}static getInstance(){return l.instance||(l.instance=new l),l.instance}connect(){return this.ws?.readyState===WebSocket.OPEN&&this.isWorkerReady?Promise.resolve():this.isConnecting?new Promise(((e,t)=>{const n=()=>{this.ws?.readyState===WebSocket.OPEN&&this.isWorkerReady?e():this.isConnecting?setTimeout(n,100):t(new Error("Connection failed"))};n()})):(this.isConnecting=!0,new Promise(((e,t)=>{this.ws=new WebSocket(o.W_,["v1.api.titan.ag"]);const n=setTimeout((()=>{t(new Error("Connection timeout"))}),c);this.ws.onopen=()=>{if(this.connectionAttempts=0,clearTimeout(n),this.startHeartbeat(),!this.ws)return;const t=this.ws,o=t.onmessage||null;t.onmessage=n=>{try{if("PROXY_READY"===JSON.parse(n.data).type)return this.isWorkerReady=!0,this.isConnecting=!1,e(),void(t.onmessage=o)}catch(e){}o&&o.call(t,n)}},this.ws.onerror=e=>{console.error("WebSocket error: ",e),this.isConnecting=!1,this.isWorkerReady=!1,clearTimeout(n),t(new Error("Failed to connect to Titan API"))},this.ws.onmessage=e=>{this.handleMessage(e.data)},this.ws.onclose=e=>{this.isWorkerReady=!1;const t=1006===e.code;this.cleanup(),1e3!==e.code&&this.connectionAttempts<5&&(this.connectionAttempts++,setTimeout((()=>{this.connect().catch((()=>{}))}),t?c:2e3))}})))}async handleMessage(e){try{let t,n;n=e instanceof Blob?await e.arrayBuffer():e;try{t=(0,r.J)(new Uint8Array(n))}catch(e){try{const e=n instanceof ArrayBuffer?(new TextDecoder).decode(n):n;t=JSON.parse(e)}catch(e){return}}if("Response"in t){const e=t.Response;e.stream?.id&&this.activeServerStreamIds.add(e.stream.id),e.data?.stream?.id&&this.activeServerStreamIds.add(e.data.stream.id);const n=this.pendingRequests.get(e.requestId);n&&(clearTimeout(n.timeout),this.pendingRequests.delete(e.requestId),n.resolve(e))}else if("StreamData"in t&&t.StreamData?.payload?.SwapQuotes){const e=t.StreamData.id;this.activeServerStreamIds.has(e)||this.activeServerStreamIds.add(e);const n=t.StreamData.payload.SwapQuotes;this.resolveQuoteRequest(n),this.quoteStreamCallback&&this.isQuoteForCurrentRequest(n)&&this.quoteStreamCallback(n)}else if("StreamEnd"in t){const e=t.StreamEnd;e.id&&this.activeServerStreamIds.delete(e.id)}else if("Error"in t){const e=t.Error,n=this.pendingRequests.get(e.requestId);if(n){if(clearTimeout(n.timeout),this.pendingRequests.delete(e.requestId),6===e.code&&e.message.includes("Too many concurrent streams"))return console.warn("Too many concurrent streams, forcing clean reconnection"),this.disconnect(),this.activeServerStreamIds.clear(),this.pendingRequests.clear(),void(this.quoteStreamCallback&&setTimeout((()=>{console.log("Attempting to restart quote stream after concurrent streams error"),this.quoteStreamCallback?.(null)}),1e3));n.reject(new Error(`Titan API Error ${e.code}: ${e.message}`))}}}catch(e){}}sendRequest(e){return new Promise(((t,n)=>{if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return void n(new Error("WebSocket not connected"));const o=this.requestIdCounter++,r={id:o,data:e},s=setTimeout((()=>{this.pendingRequests.delete(o),n(new Error("Request timeout"))}),c);this.pendingRequests.set(o,{resolve:t,reject:n,timeout:s});try{const e=(0,a.c)(r);this.ws.send(e)}catch(e){clearTimeout(s),this.pendingRequests.delete(o),n(e)}}))}async requestSwapQuote(e){this.lastActivityTime=Date.now(),await this.cancelAllRequests(),this.expectedAmount=e.amount,this.expectedInputMint=e.inputMint,this.expectedOutputMint=e.outputMint,this.ws&&this.ws.readyState===WebSocket.OPEN&&this.isWorkerReady||await this.connect();const t={swap:{inputMint:i().decode(e.inputMint),outputMint:i().decode(e.outputMint),amount:parseInt(e.amount,10),swapMode:e.swapMode||"ExactIn",slippageBps:e.slippageBps,dexes:e.dexes,excludeDexes:e.excludeDexes,onlyDirectRoutes:e.onlyDirectRoutes,addSizeConstraint:e.addSizeConstraint},transaction:{userPublicKey:i().decode(e.userPublicKey),closeInputTokenAccount:!1,createOutputTokenAccount:!0}};return new Promise(((e,n)=>{const o=this.requestIdCounter++,r=setTimeout((()=>{this.pendingRequests.delete(o),n(new Error("Quote request timeout"))}),c);this.pendingRequests.set(o,{resolve:t=>{this.pendingRequests.delete(o),clearTimeout(r);const n={...t,inputMint:this.uint8ArrayToBase58(t.inputMint),outputMint:this.uint8ArrayToBase58(t.outputMint)};e(n)},reject:e=>{this.pendingRequests.delete(o),clearTimeout(r),n(e)},timeout:r}),this.sendRequest({NewSwapQuoteStream:t}).then((e=>{e?.stream?.id&&this.activeServerStreamIds.add(e.stream.id),e?.data?.stream?.id&&this.activeServerStreamIds.add(e.data.stream.id)})).catch((e=>{this.pendingRequests.delete(o),clearTimeout(r),n(e)}))}))}async listProviders(e=!0){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.isWorkerReady||await this.connect();try{const t=await this.sendRequest({ListProviders:{includeIcons:e}});return t.data?.ListProviders||[]}catch(e){return console.error("Error fetching providers:",e),[]}}resolveQuoteRequest(e){if(this.isQuoteForCurrentRequest(e))for(const[t,n]of this.pendingRequests.entries())clearTimeout(n.timeout),this.pendingRequests.delete(t),n.resolve(e)}uint8ArrayToBase58(e){return"string"==typeof e?e:e instanceof Uint8Array||Array.isArray(e)?i().encode(e):String(e)}startHeartbeat(){this.heartbeatInterval=setInterval((()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN)try{this.ws.send(JSON.stringify({ping:Date.now()}))}catch(e){}}),3e4)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}async cancelAllRequests(){const e=Array.from(this.activeServerStreamIds).map((e=>this.sendRequest({StopStream:{id:e}}).catch((()=>{}))));await Promise.all(e),this.activeServerStreamIds.clear();for(const[e,t]of this.pendingRequests)clearTimeout(t.timeout),t.reject(new Error("Request cancelled by newer request"));this.pendingRequests.clear(),this.clearExpectedValues()}clearExpectedValues(){this.expectedAmount=null,this.expectedInputMint=null,this.expectedOutputMint=null}cleanup(){for(const[,e]of this.pendingRequests)clearTimeout(e.timeout),e.reject(new Error("Connection closed"));this.pendingRequests.clear()}disconnect(){this.stopHeartbeat(),this.ws&&(this.ws.onclose=null,this.ws.close(),this.ws=null),this.isConnecting=!1,this.isWorkerReady=!1,this.cleanup()}static async preWarmConnection(){const e=l.getInstance();if(!e.isPreWarming&&!e.ws){e.isPreWarming=!0;try{await e.connect()}catch(e){console.warn("Pre-warm connection failed:",e)}finally{e.isPreWarming=!1}}}static async pauseConnection(){if(l.instance){const e=l.instance;try{await e.cancelAllRequests()}catch(e){console.warn("Failed to cancel requests during pause:",e)}e.stopHeartbeat()}}static resumeConnection(){if(l.instance){const e=l.instance;e.lastActivityTime=Date.now(),e.ws&&e.ws.readyState===WebSocket.OPEN&&e.isWorkerReady?e.startHeartbeat():l.preWarmConnection()}}setQuoteStreamCallback(e){this.quoteStreamCallback=e,e||this.cancelAllRequests().catch((e=>{console.warn("Failed to cancel requests when clearing callback:",e)}))}updateExpectedTokens(e,t,n){this.expectedInputMint=e,this.expectedOutputMint=t,n?this.expectedAmount=n:(this.expectedAmount=null,this.cancelAllRequests().catch((e=>{console.warn("Failed to cancel requests when clearing amount:",e)})))}isQuoteForCurrentRequest(e){const t=this.uint8ArrayToBase58(e.inputMint),n=this.uint8ArrayToBase58(e.outputMint);return!(this.expectedInputMint&&t!==this.expectedInputMint||this.expectedOutputMint&&n!==this.expectedOutputMint||this.expectedAmount&&e.amount?.toString()!==this.expectedAmount)}}},869256:(e,t,n)=>{n.d(t,{ed:()=>y,Qx:()=>E,ql:()=>g,zy:()=>b,pW:()=>w,ZL:()=>k});var o=n(127942),r=n(400752),a=n(202784),s=n(66046),i=n(541214),c=n(893190),l=n(666337),u=n(817967),d=n(202784);const m=(0,a.createContext)(void 0);m.displayName="FromTokenDataContext";const p=(0,a.createContext)(void 0);p.displayName="FromTokenLoadingContext";const f=(0,a.createContext)(void 0);f.displayName="ToTokenDataContext";const h=(0,a.createContext)(void 0);function g(){const e=(0,a.useContext)(m);if(void 0===e)throw new Error("useFromTokenData must be used within a FromTokenProvider");return e}function b(){const e=(0,a.useContext)(p);if(void 0===e)throw new Error("useFromTokenLoading must be used within a FromTokenProvider");return e}function w(){const e=(0,a.useContext)(f);if(void 0===e)throw new Error("useToTokenData must be used within a ToTokenProvider");return e}function k(){const e=(0,a.useContext)(h);if(void 0===e)throw new Error("useToTokenLoading must be used within a ToTokenProvider");return e}function y({from:e,to:t,children:n}){const r=(0,i.rT)(),s=(0,i.gI)(e?.blockchainId??r.blockchainId),{balances:f,isLoading:h}=(0,c.gK)({walletPublicKey:e?.walletPublicKey??"",caip2:s}),[g,b]=(0,l.QB)({fromBalances:f,from:e,to:t}),w=e?.mint===o.VU?"So11111111111111111111111111111111111111112":e?.mint,k=(0,a.useMemo)((()=>e?f.find((t=>t.token===e.mint)):null),[e,f]),y=(0,a.useMemo)((()=>function({from:e,fromMint:t,fromTokens:n,tokenFromCache:r}){if(null===e||!t)return null;let a=r??null;if(!a){const r=e.blockchain===u.$O.ETHEREUM,s=r?e.mint.toLowerCase():e.mint;a=n.find((e=>t===o.e_&&e.token===o.VU||(r?e.token.toLowerCase()===s:e.token===s)))??null}if(!a&&e.tokenListEntry){const t=e.blockchain===u.$O.ETHEREUM?e.mint.toLowerCase():e.mint;return{id:e.id??"",amount:"0",displayAmount:"0",token:t,tokenListEntry:e.tokenListEntry}}return a}({from:e,fromMint:w,fromTokens:g,tokenFromCache:k})),[e,w,g,k]),E=h||!k&&b;return d.createElement(m.Provider,{value:y},d.createElement(p.Provider,{value:E},n))}function E({from:e,to:t,children:n}){const o=(0,i.rT)(),m=(0,i.gI)(t?.blockchainId??o.blockchainId),p=(0,r.Dv)((0,s.I5)(t?.blockchainId??o.blockchainId)),{balances:g,isLoading:b}=(0,c.gK)({walletPublicKey:t?.walletPublicKey??"",caip2:m}),[w,k]=(0,l.Me)({from:e,outputBalances:g,toNetwork:p,strict:!0}),y=(0,a.useMemo)((()=>function({to:e,toBalances:t,availableTokens:n,isLoadingTokenBalances:o,isLoadingTokens:r}){if(!e)return{toToken:null,isLoading:!1};const a=e.blockchain===u.$O.ETHEREUM,s=a?e.mint.toLowerCase():e.mint,i=t.find((e=>a?e.token.toLowerCase()===s:e.token===s));if(i)return{toToken:i,isLoading:o};const c=n.find((e=>a?e.token.toLowerCase()===s:e.token===s));return c?{toToken:c,isLoading:r}:e.tokenListEntry?{toToken:{id:e.id??"",amount:"0",displayAmount:"0",token:s,tokenListEntry:e.tokenListEntry},isLoading:!1}:{toToken:null,isLoading:o||r}}({to:t,toBalances:g,availableTokens:w,isLoadingTokenBalances:b,isLoadingTokens:k})),[t,g,w,b,k]);return d.createElement(f.Provider,{value:y.toToken},d.createElement(h.Provider,{value:y.isLoading},n))}h.displayName="ToTokenLoadingContext"},492975:(e,t,n)=>{n.d(t,{Y:()=>a,k:()=>r});var o=n(152010);async function r(e,t,n){return e.query({query:o.q7,fetchPolicy:"cache-first",variables:{addresses:t instanceof Array?t:[t],caip2:n}})}async function a(e,t){return e.query({query:o.P_,fetchPolicy:"cache-first",variables:{caip2:t}})}},228700:(e,t,n)=>{n.d(t,{G3:()=>m,OB:()=>l,_5:()=>u,_X:()=>c,_f:()=>i,zb:()=>d});var o=n(883739),r=n(492975),a=n(666337);const s="https://scan.li.fi";async function i({from:e,toFilter:t,lifiClient:n,apollo:a,search:s=""}){const i=e.mint,c=await n.getOutputTokens(e.blockchainId,i,t.blockchainId),l=(0,o.qZ)(t.blockchainId);if(!l)return[];const u=s?c:c.slice(0,50),{data:d}=await(0,r.k)(a,u,{namespace:l.caip2Namespace,reference:l.caip2Reference}),m=d.tokenList.map((e=>{const{address:t}=e??{};return{id:t,amount:"",displayAmount:"",marketData:{},token:t,tokenListEntry:e}}));if(!s)return m;const p=s.toLowerCase();return m.filter((e=>e.tokenListEntry?.symbol?.toLowerCase().includes(p)||e.tokenListEntry?.name?.toLowerCase().includes(p)||e.tokenListEntry?.address?.toLowerCase().includes(p)))}async function c({from:e,to:t,lifiClient:n,fromAmount:o,slippageBps:r,order:s}){const i=e.mint,c=t.mint,l={srcChain:e.blockchainId,srcToken:i,srcAddress:e.walletPublicKey,dstChain:t.blockchainId,dstToken:c,dstAddress:t.walletPublicKey,amount:o.toString(),slippage:r?r/1e4:.01,order:s},u=await n.getQuote(l);return{kind:a.vH.LiFi,data:u}}async function l(){return""}async function u({from:e,to:t,lifiClient:n,quoteResponse:o,slippageBps:r}){if(o.kind!==a.vH.LiFi)throw new Error("invalid quote response kind: expected lifi");const s=o.data,i=s.quote.sourceToken.amount;return await n.executeSwap({srcChain:e.blockchainId,srcToken:e.mint,srcAddress:e.walletPublicKey,dstChain:t.blockchainId,dstToken:t.mint,dstAddress:t.walletPublicKey,amount:i,quoteId:s.quoteId,slippage:r/1e4})}async function d(e){if(e.kind!==a.gZ.LiFi)throw new Error("expected lifi swap receipt kind");return!0}function m(e){return`${s}/tx/${e}`}},666337:(e,t,n)=>{n.d(t,{vH:()=>de,gZ:()=>me,rR:()=>Te,dg:()=>ge,pr:()=>he,pQ:()=>ve,Me:()=>fe,QB:()=>pe});var o=n(156675),r=n(817967),a=n(152010),s=n(883739),i=n(54174),c=n(910528),l=n(849494),u=n(400752),d=n(202784),m=n(429538),p=n.n(m),f=n(859083),h=n(318416),g=n(66046),b=n(565058),w=n(957211),k=n(495320);const y=(0,b.cn)((async e=>{const t=await e(k.D5),o=e(w.C),{LiFiClient:r}=await Promise.all([n.e(3748),n.e(1770)]).then(n.bind(n,831770));return new r(o,t)}));(0,b.cn)((async e=>(await e(y)).activeBlockchainIds));var E=n(74126),v=n(242033),T=n(830349),A=n(801384),x=n(492975);const S=0,I="0x3c91effabc58c2ae583a816b4aa19b35b8638de803e3d7135358bc76dff2db38",P="https://panora-proxy.workers.madlads.com";let C=null,R=null;const q=async()=>{if(C&&Date.now()-C.timestamp<3e5)return C.data;if(R)return R;const e=new URLSearchParams({isInPanoraTokenList:"true",panoraTags:"Verified"});return R=(async()=>{try{const t=`${P}/tokenlist?${e}`,n=await(await fetch(t,{method:"GET"})).json();return C={data:n.data,timestamp:Date.now()},n.data}catch(e){return console.error("Error fetching token list from Panora:",e),C?C.data:[]}finally{R=null}})(),R};async function $({search:e="",apollo:t,blockchainId:n,outputBalances:o=[]}){const r=(0,s.qZ)(n);if(!r)return console.warn("No network config found for blockchain",n),[];const i=await q(),c=new Set;c.add(A.EfF),i.forEach((e=>{e.faAddress?c.add(e.faAddress):e.tokenAddress&&c.add(e.tokenAddress)}));const{data:l}=await(0,x.k)(t,Array.from(c),{namespace:r.caip2Namespace,reference:r.caip2Reference}),u=new Map(o.map((e=>[e.token,e]))),d=new Map(i.map((e=>[e.faAddress||e.tokenAddress,e]))),m=[];l?.tokenList?.forEach((e=>{if(!e)return;const t=d.get(e.address),n=u.get(e.address);if(n){const e={...n,marketData:n.marketData||(t?.usdPrice?{__typename:"MarketData",value:parseFloat(n.displayAmount)*parseFloat(t.usdPrice)}:null)};return void m.push(e)}const o={...e,logo:e.logo||t?.logoUrl};m.push({__typename:"TokenBalance",id:e.id,amount:"0",displayAmount:"0",token:e.address,tokenListEntry:o,marketData:{__typename:"MarketData",value:0}})}));const p=e?.toLowerCase()??"";if(""!==p){const e=m.filter((e=>{const t=(0,a.Kx)(e.tokenListEntry);return!!t&&(t.symbol?.toLowerCase().includes(p)||t.name?.toLowerCase().includes(p)||t.address?.toLowerCase().includes(p))}));return e}return m}const L=async e=>{const t=new URLSearchParams(e),n=`${P}/swap/quote?${t}`;return await(await fetch(n,{method:"GET"})).json()},B=async e=>{const t=new URLSearchParams(e),n=`${P}/swap?${t}`,o=await fetch(n,{method:"POST"});return await o.json()};async function D({from:e,to:t,fromAmount:n,slippageBps:o}){if(!t)return null;try{const r=e.tokenListEntry?.decimals??8,a=l.bM(n,r),s=await L({fromTokenAddress:e.mint,toTokenAddress:t.mint,fromTokenAmount:a,toWalletAddress:e.walletPublicKey,slippagePercentage:(o/100).toString(),integratorFeePercentage:(S/1e4).toString(),integratorFeeAddress:I}),i=s.quotes?.[0];if(!i||!i.toTokenAmount)throw new Error("No valid quote found");const c=parseFloat(i.priceImpact||"0");if(c>100)throw new Error(`Swap amount too small or insufficient liquidity (${c.toFixed(1)}% price impact)`);const u=s.toToken?.decimals??8,d=i.toTokenAmount,m=l.vz(d,u),p={inputTokenAddress:e.mint,outputTokenAddress:t.mint,inputAmount:n.toString(),outputAmount:m.toString(),slippagePercentage:o/100,priceImpact:i.priceImpact||"0",fee:{amount:i.feeAmount||"0",tokenAddress:"string"==typeof i.feeToken?i.feeToken:e.mint}};return{kind:de.Aptos,data:p}}catch(e){throw new Error(e.message||"Failed to fetch swap quote")}}var F=n(759813),M=n(516461),O=n.n(M);const N="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";async function _({search:e,apollo:t,blockchainId:n,outputBalances:o}){const r=(0,s.qZ)(n);if(!r)return console.error("No network config found for blockchain",n),[];const{data:{tokenList:i}}=await(0,x.Y)(t,{namespace:r.caip2Namespace,reference:r.caip2Reference}),c=i.map((e=>{const t=o?o.find((t=>t.token===e?.address)):void 0,n=(0,a.MY)(t?.marketData);return{id:t?.id??"",amount:t?.amount??"0",displayAmount:t?.displayAmount??"0",marketData:{value:n?.value??0,valueChange:n?.valueChange??0},token:e?.address,tokenListEntry:e}})),l=e?.toLowerCase()??"";return e&&""!==e?c.filter((({tokenListEntry:e})=>e?.symbol?.toLowerCase().includes(l)||e?.name?.toLowerCase().includes(l)||e?.address?.toLowerCase().includes(l))):c}async function K({from:e,to:t,fromAmount:n,slippageBps:o}){const r=(0,s.qZ)(e.blockchainId);if(!r)return console.error("No network config found for blockchain",e.blockchainId),null;const a={chainId:Number(r.caip2Reference),buyToken:t?.mint===r.gasCurrencyAddress?N:t?.mint,sellToken:e.mint===r.gasCurrencyAddress?N:e.mint,sellAmount:n.toString(),taker:e.walletPublicKey,slippageBps:o},i=new URLSearchParams(a).toString(),c=`${r.swapUrl}/swap/allowance-holder/quote?${i}`;try{const e=await fetch(c,{headers:{"0x-version":"v2","content-type":"application/json"}});if(!e.ok)return console.error("error fetching swap routes"),null;const t=await e.json();return{kind:de.Ethereum,data:t}}catch(e){return console.error("error fetching swap routes",e),null}}var j=n(228700),U=n(124045),W=n(861326),z=n(358542),H=n(127942),Q=n(627158),G=n(534751),V=n(348834).Buffer;const Z="https://jupiter.xnfts.dev/swap/v1/";async function Y({instructions:e,addressLookupTables:t,userPublicKey:n,solanaClient:o}){const r=[],a=(0,W.u)(n);for(const t of e)if(t?.p)try{const e=(0,W.u)(t.p),n=[];if(t.a?.length)for(const e of t.a)e.p&&n.push({pubkey:(0,W.u)(e.p),isSigner:!!e.s,isWritable:!!e.w});let o=V.alloc(0);if(t.d?.length){const e=[];for(const n of t.d)"number"==typeof n&&Number.isInteger(n)&&n>=0&&n<=255&&e.push(n);o=V.from(new Uint8Array(e))}const a=new Q.TransactionInstruction({programId:e,keys:n,data:o});r.push(a)}catch(e){console.warn("Failed to process Titan instruction:",t,e)}else console.warn("Instruction missing program ID (p):",t);if(0===r.length)throw new Error("No valid instructions to construct transaction");const s=[];if(t?.length)for(const e of t)try{const t=(0,W.u)(e),n=await o.solanaRpc.getAccountInfo((0,z.IY)(t));if(n){const e=new Q.AddressLookupTableAccount({key:t,state:Q.AddressLookupTableAccount.deserialize(n.data)});s.push(e)}}catch(t){console.warn("Failed to load lookup table:",e)}const{blockhash:i}=await o.solanaRpc.getLatestBlockhash(),c=new Q.TransactionMessage({payerKey:a,recentBlockhash:i,instructions:r}).compileToV0Message(s),l=new Q.VersionedTransaction(c).serialize();if(l.length>1232)throw new Error(`Transaction too large: ${l.length} bytes > 1232 bytes`);return V.from(l).toString("base64")}async function J({from:e,to:t,fromAmount:n,slippageBps:o}){const r={inputMint:e.mint===H.VU?H.e_:e.mint,outputMint:t?.mint===H.VU?H.e_:t?.mint,amount:n.toString(),slippageBps:o},a=new URLSearchParams(r).toString();try{const e=await fetch(`${Z}quote?${a}`);if(!e.ok)throw new Error(e.status.toString());const t=await e.json();return{kind:de.Solana,data:t}}catch(e){return console.error("error fetching Jupiter swap routes",e),null}}async function X({from:e,to:t,fromAmount:n,slippageBps:o,isTitanEnabled:r}){if(!r)return await J({from:e,to:t,fromAmount:n,slippageBps:o});{const r=G.P.getInstance();try{await r.connect();const a={inputMint:e.mint===H.VU?H.e_:e.mint,outputMint:t?.mint===H.VU?H.e_:t?.mint??"",amount:n.toString(),userPublicKey:e.walletPublicKey,slippageBps:o,onlyDirectRoutes:!1},s=await r.requestSwapQuote(a);if(s.quotes&&"object"==typeof s.quotes){const e=Object.keys(s.quotes);if(e.length>0){let t=e[0],n=s.quotes[t];for(const o of e){const e=s.quotes[o];e.outAmount>n.outAmount&&(t=o,n=e)}return{kind:de.Solana,data:{...n,provider:"titan",selectedProvider:t,selectedRoute:n,allQuotes:s.quotes}}}}return console.warn("Titan has no routes, falling back to Jupiter."),await J({from:e,to:t,fromAmount:n,slippageBps:o})}catch(r){if(r?.message?.includes("cancelled"))throw console.log("Titan quote request cancelled by newer request"),r;return await J({from:e,to:t,fromAmount:n,slippageBps:o})}}}var ee=n(838609);async function te({from:e,to:t,fromAmount:n,slippageBps:o}){if(!t)return null;try{const r=e.blockchainId.includes("testnet")?"TESTNET":"MAINNET",a=new ee.Aftermath(r);await a.init();const s=await a.Router().getCompleteTradeRouteGivenAmountIn({coinInType:e.mint,coinOutType:t.mint,coinInAmount:n.toBigInt()});return{kind:de.Sui,data:{routes:s.routes,coinIn:{type:s.coinIn.type,amount:s.coinIn.amount.toString(),tradeFee:s.coinIn.tradeFee.toString()},coinOut:{type:s.coinOut.type,amount:s.coinOut.amount.toString(),tradeFee:s.coinOut.tradeFee.toString()},spotPrice:s.spotPrice,netTradeFeePercentage:s.netTradeFeePercentage,slippageBps:o}}}catch(e){throw console.error("Error fetching Sui swap quote:",e),new Error(e.message||"Failed to fetch swap quote")}}var ne=n(477851);async function oe({from:e,toFilter:t,wormholeClient:n,apollo:o,search:a=""}){let i=e.mint;(e.blockchain===r.$O.SOLANA&&e.mint===H.VU||e.blockchain===r.$O.ETHEREUM&&e.mint===ne.aY)&&(i="native");const c=await n.getOutputTokens(e.blockchainId,i,t.blockchainId),l=(0,s.qZ)(t.blockchainId);if(!l)return[];const u=c.map((e=>"native"===e?l?.gasCurrencyAddress:e)),{data:d,loading:m}=await(0,x.k)(o,u,{namespace:l.caip2Namespace,reference:l.caip2Reference}),p=d.tokenList.map((e=>{const{address:t}=e??{};return{id:t,amount:"",displayAmount:"",marketData:{},token:t,tokenListEntry:e}}));if(!a)return p;const f=a.toLowerCase(),h=p.filter((e=>e.tokenListEntry?.symbol?.toLowerCase().includes(f)||e.tokenListEntry?.name?.toLowerCase().includes(f)||e.tokenListEntry?.address?.toLowerCase().includes(f)));return h}async function re({from:e,to:t,wormholeClient:n,fromAmount:o}){const r={srcChain:e.blockchainId,srcToken:e.mint,srcAddress:e.walletPublicKey,dstChain:t.blockchainId,dstToken:t.mint,dstAddress:t.walletPublicKey,amount:o.toString()},a=await n.getQuote(r);return{kind:de.Wormhole,data:a}}async function ae(){return""}async function se({from:e,to:t,wormholeClient:n,fromAmount:o,quoteResponse:a}){if(a.kind!==de.Wormhole)throw new Error("invalid quote response kind: expected wormole");const s=a.data,i=s.quote.sourceToken.amount;!function(e,t,n){const o={[r.$O.SUI]:1,[r.$O.SOLANA]:1,[r.$O.ETHEREUM]:10}[n]||0;if((e=e.substring(0,e.length-o))!==(t=t.substring(0,t.length-o)))throw new Error(`wormhole quoted input amount doesn't match given input amount: ${e} ${t}`)}(o.toString(),i,e.blockchain);const c=e.blockchain===r.$O.SOLANA&&e.mint===H.VU||e.blockchain===r.$O.ETHEREUM&&e.mint===ne.aY?"native":e.mint;return await n.executeSwap({srcChain:e.blockchainId,srcToken:c,srcAddress:e.walletPublicKey,dstChain:t.blockchainId,dstToken:t.mint,dstAddress:t.walletPublicKey,amount:i,quoteId:s.quoteId})}async function ie(e){if(e.kind!==me.Wormhole)throw new Error("expected wormhole swap receipt kind");throw new Error("confirm tx not implemented for wormhole")}var ce=n(468186),le=n(869256);const{Zero:ue}=i;var de=function(e){return e.Solana="jupiter",e.Wormhole="wormhole",e.LiFi="lifi",e.Ethereum="ethereum",e.Sui="aftermath",e.Aptos="panora",e}({}),me=function(e){return e.Solana="solana",e.Wormhole="wormhole",e.LiFi="lifi",e.Ethereum="ethereum",e.Sui="sui",e.Aptos="aptos",e}({});function pe({from:e,to:t,fromBalances:n}){const i=(0,o.x)(),c=(0,u.Dv)(f.v),l=function(e){const t=(0,o.x)();return(0,d.useCallback)((async()=>{const{data:n}=await t.query({query:a.Kh,fetchPolicy:"cache-first",variables:{mints:e.map((e=>e.token))}}),o=(n?.jupiterTradableTokens??[]).map((e=>e.address));return e.filter((e=>o.includes(e.token)||e.token===H.VU))}),[t,e])}(n),[m,h]=(0,d.useState)([[],!0]),g=(0,d.useMemo)((()=>e?Ae({from:e,to:t,isLiFiEnabled:c.isLiFiEnabled}):null),[e,t,c.isLiFiEnabled]);return p()((async t=>{if(!t())return;if(null===e||null===g)return;h([[],!0]),0===g&&h([n,!1]);const o=await(async()=>{switch(g){case 0:return await l();case 1:return await async function(e,t,n){const o=(0,s.qZ)(n);if(!o)return console.error("No network config found for blockchain",n),[];const r=(await _({search:"",apollo:t,blockchainId:n})).map((e=>(0,a.Kx)(e.tokenListEntry)?.address));return e.filter((e=>r.includes(e.token)||e.token===o.gasCurrencyAddress))}(n,i,e.blockchainId);case 2:case 3:return e.blockchain===r.$O.SOLANA?await l():n;case 4:return await async function({from:e,apollo:t}){const{data:n}=await t.query({query:a.lq,fetchPolicy:"cache-first",variables:{address:e.walletPublicKey,caip2:e.caip2}}),o=n?.wallet?.balances?.tokens?.edges?.map((e=>e.node))??[],r=e.blockchainId.includes("testnet")?"TESTNET":"MAINNET",s=new ee.Aftermath(r);await s.init();const i=s.Pools(),c=await i.getAllPools(),l=new Set;c.forEach((e=>{e.pool&&e.pool.coins&&Object.keys(e.pool.coins).forEach((e=>{l.add(e)}))}));const u=o.filter((e=>l.has(e.token)||"0x2::sui::SUI"===e.token)),d=u.find((e=>"0x2::sui::SUI"===e.token)),m=u.filter((e=>"0x2::sui::SUI"!==e.token));return d?[d,...m]:u}({from:e,apollo:i});case 5:return await async function(e,t,n){try{const o=(0,s.qZ)(n);if(!o)throw new Error(`No network config found for blockchain ${n}`);const r=(await $({search:"",apollo:t,blockchainId:n,outputBalances:e})).map((e=>(0,a.Kx)(e.tokenListEntry)?.address)).filter(Boolean);return e.filter((e=>r.includes(e.token)||e.token===o.gasCurrencyAddress))}catch(t){return console.error("Error in swapValidInputTokensAptos:",t),e}}(n,i,e.blockchainId);default:throw new Error("swap not implemented here")}})();t()&&h([o??[],!1])}),[l,e,n,i,g]),m}function fe({from:e,outputBalances:t,search:n,strict:r,toNetwork:i}){const c=(0,o.x)(),l=(0,u.Dv)(E.l),m=(0,u.Dv)(y),h=(0,u.Dv)(f.v),g=function(e){const t=(0,o.x)(),[n]=(0,U.t)(a.q5,{fetchPolicy:"cache-first",nextFetchPolicy:"cache-first",pollInterval:3e5});return(0,d.useCallback)((async(t,o)=>{const r=t&&t.length>0,s=r?50:100;let i;return(o||r)&&(i=(await n({variables:{limit:s,search:t,strict:o}})).data),i?.jupiterTradableTokens?.map((t=>{const n=e.find((e=>e.token===(t.address===H.e_?H.VU:t.address))),o=(0,a.MY)(n?.marketData);return{id:n?.id??"",amount:n?.amount??"0",displayAmount:n?.displayAmount??"0",marketData:{__typename:"MarketData",price:o?.price??0,value:o?.value??0,valueChange:o?.valueChange??0},token:t.address,tokenListEntry:{...t,name:t.address===H.e_?"Solana":t.name}}}))??[]}),[t,n,e])}(t),[b,w]=(0,d.useState)([[],!0]),k=i?{blockchain:i.blockchain,blockchainId:i.blockchainId,caip2:{namespace:i.caip2Namespace,reference:i.caip2Reference}}:null;return p()((async o=>{if(null===e)return;w([[],!0]);const u=await(async()=>{switch(Ae({from:e,to:k,isLiFiEnabled:h.isLiFiEnabled})){case 0:return await g(n,r);case 2:return null===k?[]:await oe({from:e,toFilter:k,wormholeClient:l,apollo:c,search:n});case 3:{if(null===k)return[];const[t,o]=await Promise.all([oe({from:e,toFilter:k,wormholeClient:l,apollo:c,search:n}),(0,j._f)({from:e,toFilter:k,lifiClient:m,apollo:c,search:n})]),r=new Set,a=[];return[...o,...t].forEach((e=>{r.has(e.token)||(r.add(e.token),a.push(e))})),!n&&i?.gasCurrencyAddress&&a.length>0&&a[0].token!==i.gasCurrencyAddress&&a.sort(((e,t)=>{const n=e.token===i.gasCurrencyAddress,o=t.token===i.gasCurrencyAddress;return n&&!o?-1:!n&&o?1:0})),a}case 1:{const o=(0,s.qZ)(e.blockchainId),r=void 0!==o?.swapUrl,a=h.isLiFiEnabled&&void 0!==o?.lifiChainId;if(r&&a){const[r,a]=await Promise.all([_({search:n,apollo:c,blockchainId:e.blockchainId,outputBalances:t}),(0,j._f)({from:e,toFilter:k??{blockchain:e.blockchain,blockchainId:e.blockchainId},lifiClient:m,apollo:c,search:n})]),s=new Set,i=[];return[...a,...r].forEach((e=>{s.has(e.token)||(s.add(e.token),i.push(e))})),!n&&o?.gasCurrencyAddress&&i.length>0&&i[0].token!==o.gasCurrencyAddress&&i.sort(((e,t)=>{const n=e.token===o.gasCurrencyAddress,r=t.token===o.gasCurrencyAddress;return n&&!r?-1:!n&&r?1:0})),i}return a?await(0,j._f)({from:e,toFilter:k??{blockchain:e.blockchain,blockchainId:e.blockchainId},lifiClient:m,apollo:c,search:n}):await _({search:n,apollo:c,blockchainId:e.blockchainId,outputBalances:t})}case 4:return await async function({search:e="",apollo:t,blockchainId:n,outputBalances:o=[]}){const r=n.includes("testnet")?"TESTNET":"MAINNET",i=new ee.Aftermath(r);await i.init();const c=i.Pools(),l=await c.getAllPools(),u=new Set;u.add("0x2::sui::SUI"),l.forEach((e=>{e.pool&&e.pool.coins&&Object.keys(e.pool.coins).forEach((e=>{u.add(e)}))}));const d=(0,s.qZ)(n);if(!d)return console.warn("No network config found for blockchain",n),[];const{data:m}=await(0,x.k)(t,Array.from(u),{namespace:d.caip2Namespace,reference:d.caip2Reference}),p=new Map(o.map((e=>[e.token,e]))),f=[];m?.tokenList?.forEach((e=>{if(!e)return;const t=p.get(e.address);t?f.push(t):f.push({__typename:"TokenBalance",id:e.id,amount:"0",displayAmount:"0",token:e.address,marketData:null,tokenListEntry:e})}));const h=e?.toLowerCase()??"";return""!==h?f.filter((e=>{const t=(0,a.Kx)(e.tokenListEntry);return!!t&&(t.symbol?.toLowerCase().includes(h)||t.name?.toLowerCase().includes(h)||t.address?.toLowerCase().includes(h))})):f}({search:n,apollo:c,blockchainId:e.blockchainId,outputBalances:t});case 5:return await $({search:n,apollo:c,blockchainId:e.blockchainId,outputBalances:t});default:throw new Error("swap output tokens not implemented for non solana blockchains")}})();o()&&w([u??[],!1])}),[n,r,g,e,i?.blockchainId,t]),b}function he({from:e,to:t,quoteResponse:n}){const o=(0,u.Dv)((0,g.Pg)(r.Ek.SOLANA_MAINNET)),a=(0,u.Dv)(f.v);return(0,d.useCallback)((async()=>{if(null===n)throw new Error("quote not found");switch(Ae({from:e,to:t,isLiFiEnabled:a.isLiFiEnabled})){case 0:return await async function({from:e,quoteResponse:t,solanaClient:n}){const o=t.data;if("titan"===o.provider){if(o.transaction){let e;if(o.transaction instanceof Uint8Array)e=o.transaction;else if(Array.isArray(o.transaction))e=new Uint8Array(o.transaction);else{if("object"!=typeof o.transaction)throw new Error("Invalid Titan transaction format");{const t=Object.values(o.transaction);e=new Uint8Array(t)}}return V.from(e).toString("base64")}if(o.instructions&&Array.isArray(o.instructions)){if(!n)throw new Error("solanaClient is required for Titan swap");return await Y({instructions:o.instructions,addressLookupTables:o.addressLookupTables,userPublicKey:e.walletPublicKey,solanaClient:n})}if(o.selectedRoute?.instructions){if(!n)throw new Error("solanaClient is required for Titan swap");return await Y({instructions:o.selectedRoute.instructions,addressLookupTables:o.selectedRoute.addressLookupTables,userPublicKey:e.walletPublicKey,solanaClient:n})}throw console.error("No transaction or instructions found in Titan responseData"),console.error("Available keys:",Object.keys(o)),new Error("No transaction data returned from Titan")}return await async function({from:e,quoteResponse:t}){const n=await fetch(`${Z}swap`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteResponse:t.data,wrapAndUnwrapSol:!0,userPublicKey:e.walletPublicKey})});if(!n.ok){const e=await n.text();throw new Error(`Jupiter swap request failed: ${e}`)}return(await n.json()).swapTransaction}({from:e,quoteResponse:t})}({from:e,quoteResponse:n,solanaClient:o});case 2:return await ae();case 3:if("lifi"===n.kind)return await(0,j.OB)();if("wormhole"===n.kind)return await ae();throw new Error("unexpected quote kind for bridge transaction");case 1:if("lifi"===n.kind)return await(0,j.OB)();if("ethereum"===n.kind)return await async function(){return""}();throw new Error("unexpected quote kind for EVM swap");case 4:return await async function({from:e,quoteResponse:t}){let n=.01;if(t.kind===de.Sui){const e=t.data;n=e.slippageBps?e.slippageBps/1e4:.01}const o=e.blockchainId.includes("testnet")?"TESTNET":"MAINNET",r=new ee.Aftermath(o);await r.init();const a=await r.Router().getTransactionForCompleteTradeRoute({walletAddress:e.walletPublicKey,completeRoute:t.data,slippage:n}),s=await a.build();return btoa(String.fromCharCode(...new Uint8Array(s)))}({from:e,quoteResponse:n});case 5:return await async function({from:e,quoteResponse:t}){const n=t.data,o=e.tokenListEntry?.decimals??8,r=l.bM(n.inputAmount,o);try{const t=await B({fromTokenAddress:n.inputTokenAddress,toTokenAddress:n.outputTokenAddress,fromTokenAmount:r,toWalletAddress:e.walletPublicKey,slippagePercentage:n.slippagePercentage.toString(),integratorFeePercentage:(S/1e4).toString(),integratorFeeAddress:I}),o=t.quotes?.[0]?.transactionPayload||t.quotes?.[0]?.txData;if(!o)throw new Error("No transaction data found in swap result");if(!o.function||!Array.isArray(o.type_arguments)||!Array.isArray(o.arguments))throw new Error("Invalid transaction data format from swap API");const a={function:o.function,typeArguments:o.type_arguments,functionArguments:o.arguments};return JSON.stringify(a)}catch(e){throw new Error(e.message||"Failed to fetch swap transaction")}}({from:e,quoteResponse:n});default:throw new Error("swap not implemented for non solana blockchains")}}),[n,e,t,o,a.isLiFiEnabled])}function ge({from:e,to:t}){const n=(0,u.Dv)(E.l),o=(0,u.Dv)(y),a=(0,u.Dv)(f.v),i=a.isTitanEnabled;return(0,d.useCallback)((async(l,u)=>{if(null===t)throw new Error("to not found");switch(Ae({from:e,to:t,isLiFiEnabled:a.isLiFiEnabled})){case 0:if(void 0===u)throw new Error("no slippage basis points value provided");return{quoteResponse:await X({from:e,to:t,fromAmount:l,slippageBps:u,isTitanEnabled:i}),bridgeOptions:null};case 2:return{quoteResponse:await re({from:e,to:t,wormholeClient:n,fromAmount:l}),bridgeOptions:null};case 3:{const a=(0,r.gO)(e.blockchainId,e.mint,t.blockchainId,t.mint),[s,i]=await Promise.allSettled([re({from:e,to:t,wormholeClient:n,fromAmount:l}),(0,j._X)({from:e,to:t,lifiClient:o,fromAmount:l,slippageBps:u,order:a?"FASTEST":void 0})]),d="fulfilled"===s.status?s.value:null,m="fulfilled"===i.status?i.value:null;if(!d&&!m){if("rejected"===i.status)throw i.reason;if("rejected"===s.status)throw s.reason;return{quoteResponse:null,bridgeOptions:null}}if(!d)return{quoteResponse:m,bridgeOptions:null};if(!m)return{quoteResponse:d,bridgeOptions:null};if(a){const e=function(e,t){const n=e.data,o=t.data,r=(n.quote.eta||0)/1e3,a=ye(o),s=o.quote.estimate?.executionDuration||0,i=0<=a,c=r<=s,l=a<0,u=s<r;let d,m;i&&u?(d="Cheapest",m="Fastest"):l&&c?(d="Fastest",m="Cheapest"):i&&c?(d="Cheapest & Fastest",m="Other"):l&&u?(d="CCTP",m="Cheapest & Fastest"):(d="Cheapest",m="Fastest");const p={id:"CCTP",quote:e,fee:ke(),feeUsd:0,priceImpact:we(n.quote.sourceToken.amount,n.quote.destinationToken.amount),estimatedTime:be(r),timeSeconds:r,provider:"Wormhole CCTP",label:d},f={id:"LIFI",quote:t,fee:Ee(o),feeUsd:a,priceImpact:we(o.quote.sourceToken.amount,o.quote.destinationToken.amount),estimatedTime:be(s),timeSeconds:s,provider:o.quote.toolDetails?.name||"Li.Fi",providerLogoURI:o.quote.toolDetails?.logoURI,label:m};return 0<=a?[p,f]:[f,p]}(d,m);return{quoteResponse:d,bridgeOptions:e}}const p=d.data,f=m.data,h=c.O$.from(p.quote.destinationToken.amount),g=c.O$.from(f.quote.estimate.toAmount);return h.gt(g)?{quoteResponse:d,bridgeOptions:null}:{quoteResponse:m,bridgeOptions:null}}case 1:{if(void 0===u)throw new Error("no slippage basis points value provided");const n=(0,s.qZ)(e.blockchainId),r=void 0!==n?.swapUrl,i=a.isLiFiEnabled&&void 0!==n?.lifiChainId;if(r&&i){const[n,r]=await Promise.allSettled([K({from:e,to:t,fromAmount:l,slippageBps:u}),(0,j._X)({from:e,to:t,lifiClient:o,fromAmount:l,slippageBps:u})]),a="fulfilled"===n.status?n.value:null,s="fulfilled"===r.status?r.value:null,i=!!a&&!1!==a.data.liquidityAvailable;if(!a&&!s){if("rejected"===r.status)throw r.reason;if("rejected"===n.status)throw n.reason;return{quoteResponse:null,bridgeOptions:null}}if(!a||!i){if(!s&&"rejected"===r.status)throw r.reason;return{quoteResponse:s,bridgeOptions:null}}if(!s)return{quoteResponse:a,bridgeOptions:null};const d=a.data,m=s.data,p=c.O$.from(d.buyAmount),f=c.O$.from(m.quote.estimate.toAmount);return p.gt(f)?{quoteResponse:a,bridgeOptions:null}:{quoteResponse:s,bridgeOptions:null}}return i?{quoteResponse:await(0,j._X)({from:e,to:t,lifiClient:o,fromAmount:l,slippageBps:u}),bridgeOptions:null}:{quoteResponse:await K({from:e,to:t,fromAmount:l,slippageBps:u}),bridgeOptions:null}}case 4:return{quoteResponse:await te({from:e,to:t,fromAmount:l,slippageBps:u}),bridgeOptions:null};case 5:if(void 0===u)throw new Error("no slippage basis points value provided");return{quoteResponse:await D({from:e,to:t,fromAmount:l,slippageBps:u}),bridgeOptions:null};default:throw new Error("swap not implemented for non solana blockchains")}}),[e,t,o,n,i,a])}function be(e){return e?e<=60?`~${Math.ceil(e)} sec`:`~${Math.ceil(e/60)} min`:"-"}function we(e,t){const n=parseFloat(l.bM(e,6)),o=parseFloat(l.bM(t,6));if(n<=0||o<=0)return"0%";const r=(o-n)/n*100;return Math.abs(r)<.01?"0%":`${r>=0?"+":""}${r.toFixed(2)}%`}function ke(e){return"$0"}function ye(e){const t=e.quote.estimate;if(!t)return 0;const n=(parseFloat(t.fromAmountUSD||"0")||0)-(parseFloat(t.toAmountUSD||"0")||0),o=(t.gasCosts||[]).reduce(((e,t)=>e+(parseFloat(t.amountUSD||"0")||0)),0);return Math.max(0,n+o)}function Ee(e){const t=ye(e);return t>.01?`$${t.toFixed(2)}`:"$0"}function ve({from:e,to:t,fromAmount:n,quoteResponse:o}){const a=(0,u.Dv)(f.v),s=(0,u.Dv)((0,h.g)(e.blockchainId)),i=(0,r.b9)(r.$O.SOLANA),c=e.blockchain===r.$O.ETHEREUM?e.blockchainId:r.Ek.ETHEREUM_MAINNET,l=e.blockchain===r.$O.SUI?e.blockchainId:r.Ek.SUI_MAINNET,m=e.blockchain===r.$O.APTOS?e.blockchainId:r.Ek.APTOS_MAINNET,p=(0,le.pW)(),b=(0,le.ZL)(),w=(0,le.ql)(),k=(0,le.zy)(),A=(0,u.Dv)(E.l),x=(0,u.Dv)(y),S=(0,u.Dv)((0,v.t_)(i)),I=(0,T.x)(S?.blockchainId??i),P=(0,u.Dv)((0,v.t_)(l)),C=(0,u.Dv)((0,g.lW)(e.blockchain===r.$O.SUI?e.blockchainId:r.Ek.SUI_MAINNET)),R=(0,u.Dv)((0,v.t_)(c)),q=(0,u.Dv)((0,g.WK)(c)),$=(0,u.Dv)((0,v.t_)(m)),L=(0,u.Dv)((0,g.ji)(m));return(0,d.useCallback)((async r=>{if(!t||!w||!p||k||b||!o)throw new Error("tokens not loaded");switch(Ae({from:e,to:t,isLiFiEnabled:a.isLiFiEnabled})){case 0:{const e=await async function({solanaClient:e,publicKey:t,serializedTransaction:n}){const o=V.from(n,"base64"),r=(()=>{try{return Q.VersionedTransaction.deserialize(o)}catch(e){return Q.Transaction.from(o)}})();return(await e.wallet.signAndSendTransaction({publicKey:(0,W.u)(t),tx:r})).txHash}({solanaClient:I,publicKey:S.publicKey,serializedTransaction:r});return{kind:"solana",data:{signature:e}}}case 2:{if(!n)throw new Error("from amount not found");const r=await se({from:e,to:t,wormholeClient:A,fromAmount:n,quoteResponse:o});return{kind:"wormhole",data:{txid:r.txid,messageHash:r.messageHash,sourceDomain:r.sourceDomain,destinationDomain:r.destinationDomain,nonce:r.nonce}}}case 3:if(!n)throw new Error("from amount not found");if("lifi"===o.kind){const n=await(0,j._5)({from:e,to:t,lifiClient:x,quoteResponse:o,slippageBps:Math.round(100*s)});return{kind:"lifi",data:{txid:n.txid,srcChain:n.srcChain,dstChain:n.dstChain,quoteId:n.quoteId}}}if("wormhole"===o.kind){const r=await se({from:e,to:t,wormholeClient:A,fromAmount:n,quoteResponse:o});return{kind:"wormhole",data:{txid:r.txid,messageHash:r.messageHash,sourceDomain:r.sourceDomain,destinationDomain:r.destinationDomain,nonce:r.nonce}}}throw new Error("unexpected quote kind for bridge transaction");case 1:{if("lifi"===o.kind){const n=await(0,j._5)({from:e,to:t,lifiClient:x,quoteResponse:o,slippageBps:Math.round(100*s)});return{kind:"lifi",data:{txid:n.txid,srcChain:n.srcChain,dstChain:n.dstChain,quoteId:n.quoteId}}}await async function({ethereumClient:e,publicKey:t,quoteResponse:n}){const o=n.sellToken;if(o===N)return;const r=e.getSigner(t);if(null!=n.issues.allowance){const t=new F.CH(o,O(),r),a=await t.approve(n.transaction.to,n.sellAmount);return await e.confirmTransaction(a.hash),a.hash}}({ethereumClient:q,quoteResponse:o.data,publicKey:R.publicKey});const n=await async function({ethereumClient:e,publicKey:t,quoteResponse:n}){const o=e.getSigner(t),r={nonce:await e.provider.getTransactionCount(t),gasLimit:Math.floor(3*Number(n.transaction.gas)).toString(),gasPrice:n.transaction.gasPrice,to:n.transaction.to,value:n.transaction.value,data:n.transaction.data};return(await o.sendTransaction(r)).hash}({ethereumClient:q,quoteResponse:o.data,publicKey:R.publicKey});return{kind:"ethereum",data:{txid:n}}}case 4:{const e=await async function({suiClient:e,publicKey:t,quoteResponse:n,transaction:o}){if(n.kind!==de.Sui)throw new Error("Invalid quote response kind");try{const n=await e.simTransaction({tx:o,senderAddress:t});if("success"!==n.simulationStatus.status)throw new Error(`Transaction simulation failed: ${n.simulationStatus.error||"unknown error"}`);const r=await e.signTransaction({tx:o,publicKey:t,blockchainId:e.networkConfig.blockchainId});if(!r.response)throw new Error("Failed to sign transaction");const a=await e.executeTransaction({transactionBlock:r.response.tx,signature:r.response.signature,requestType:"WaitForLocalExecution"});if(!a.digest)throw new Error("Failed to execute transaction");return a.digest}catch(e){throw console.error("Error sending Sui swap transaction:",e),new Error(e.message||"Failed to send swap transaction")}}({suiClient:C,publicKey:P.publicKey,quoteResponse:o,transaction:r});return{kind:"sui",data:{txDigest:e}}}case 5:{const e=await async function({aptosClient:e,publicKey:t,quoteResponse:n,transaction:o}){if(n.kind!==de.Aptos)throw new Error("Invalid quote response kind");return e.executeSwap(t,o)}({aptosClient:L,publicKey:$.publicKey,quoteResponse:o,transaction:r});return{kind:"aptos",data:{txHash:e}}}default:throw new Error("send transaction implemented for non solana blockchains")}}),[t,w,p,k,b,o,e,I,S,n,A,x,q,C,P,R,L,$,a.isLiFiEnabled,s])}function Te({receipt:e}){const{from:t,to:n}=(0,ce.iJ)(),o=(0,u.Dv)(f.v),a=(0,u.Dv)((0,g.Pg)((0,r.b9)(r.$O.SOLANA))),s=(0,u.Dv)((0,g.WK)(t.blockchain===r.$O.ETHEREUM?t.blockchainId:r.Ek.ETHEREUM_MAINNET)),i=(0,u.Dv)((0,g.lW)(t.blockchain===r.$O.SUI?t.blockchainId:r.Ek.SUI_MAINNET)),c=(0,u.Dv)((0,g.ji)(t.blockchain===r.$O.APTOS?t.blockchainId:r.Ek.APTOS_MAINNET));return(0,d.useCallback)((async(r,l,u)=>{const d=e??u,m=n??r,p=t??l;if(!m)throw new Error("to not found");if(!p)throw new Error("from not found");if(!d)throw new Error("no receipt");switch(Ae({from:p,to:m,isLiFiEnabled:o.isLiFiEnabled})){case 0:{const e=d.data;await a.confirmTransaction(e.signature);break}case 2:await ie(d);break;case 3:if("lifi"===d.kind)await(0,j.zb)(d);else{if("wormhole"!==d.kind)throw new Error("unexpected receipt kind for bridge transaction");await ie(d)}break;case 1:if("lifi"===d.kind)await(0,j.zb)(d);else{if("ethereum"!==d.kind)throw new Error("unexpected receipt kind for EVM swap");await s.confirmTransaction(d.data.txid)}break;case 4:await i.confirmTransaction(d.data.txDigest);break;case 5:await c.confirmTransaction(d.data.txHash);break;default:throw new Error("confirm transaction not implemented for non solana blockchains")}return!0}),[e,t,n,a,s,i,c,o.isLiFiEnabled])}function Ae({from:e,to:t,isLiFiEnabled:n}){const o=(0,s.qZ)(e.blockchainId);if(null!==t&&e.blockchainId!==t.blockchainId){const e=(0,s.qZ)(t.blockchainId);return n&&void 0!==o?.lifiChainId&&void 0!==e?.lifiChainId?3:2}switch(e.blockchain){case r.$O.SOLANA:return 0;case r.$O.ETHEREUM:return 1;case r.$O.SUI:return 4;case r.$O.APTOS:return 5;default:throw new Error("blockchain not available for swap!")}}},893190:(e,t,n)=>{n.d(t,{gK:()=>A,iD:()=>v,vz:()=>S,Fu:()=>I,yS:()=>T,Fe:()=>x});var o=n(924432),r=n(156675),a=n(152010),s=n(883739),i=n(817967),c=n(187254),l=n(853111),u=n(54174),d=n(910528),m=n(400752),p=n(202784),f=n(429538);const h=(0,n(565058).cn)(!0);var g=n(534751),b=n(666337),w=n(492975),k=n(541214);const{Zero:y}=u,E=1e4;function v({id:e,blockchainId:t}){const{data:n}=(0,a.iU)(e);if(!e){const e=(0,s.qZ)(t);return e?.defaultToToken??null}return n?.address??null}function T({blockchainId:e,id:t}){const{data:n}=(0,a.ZS)(t);if(!t){const t=(0,s.qZ)(e);return e===i.Ek.SUI_MAINNET?"0x2::sui::SUI":t?.gasCurrencyAddress??null}return n?.token??null}function A({walletPublicKey:e,caip2:t}){const{data:n,loading:r,error:s}=(0,o.aM)(a.lq,{fetchPolicy:"cache-first",returnPartialData:!0,skip:!e,variables:{address:e,caip2:t}});return{balances:(0,p.useMemo)((()=>r?[]:s?(console.error("Error fetching token balances:",s),[]):n?.wallet?.balances?.tokens?.edges?.map((e=>e.node))??[]),[n,r,s]),isLoading:r}}function x({from:e,to:t,fromAmount:n,slippageBps:o}){const r=null===t||null===n||!t?.mint||!e?.mint,a=e?.blockchainId===i.Ek.SOLANA_MAINNET&&t?.blockchainId===i.Ek.SOLANA_MAINNET,s=(0,m.Dv)(h),u=(0,b.dg)({from:e,to:t}),[w,k]=(0,p.useState)(null),[v,T]=(0,p.useState)(null),[A,x]=(0,p.useState)(!1),[S,I]=(0,p.useState)(null),P=(0,p.useRef)(null),C=()=>{P.current&&(clearInterval(P.current),P.current=null)};(0,p.useEffect)((()=>{s||(C(),g.P.getInstance().disconnect())}),[s]);const R=(0,l.Nr)(n,500),q=null!==n&&null!==R&&!n.eq(R);return(0,p.useEffect)((()=>{k(null),T(null),I(null)}),[e?.mint,t?.mint]),(0,p.useEffect)((()=>{if(!a||!n||n.eq(y)||!s)return void g.P.getInstance().setQuoteStreamCallback(null);const o=n.toString();return g.P.getInstance().updateExpectedTokens(e.mint,t.mint,o),g.P.getInstance().setQuoteStreamCallback((e=>{if(null===e)return console.log("WebSocket recovery signal received, triggering new quote request"),void x(!0);if(n?.eq(d.O$.from(e.amount))&&e.quotes&&"object"==typeof e.quotes){const t=Object.keys(e.quotes);if(t.length>0){let n=t[0],o=e.quotes[n];for(const r of t){const t=e.quotes[r];("string"==typeof t.outAmount?parseFloat(t.outAmount):t.outAmount)>("string"==typeof o.outAmount?parseFloat(o.outAmount):o.outAmount)&&(n=r,o=t)}k({kind:b.vH.Solana,data:{...o,provider:"titan",selectedProvider:n,selectedRoute:o,allQuotes:e.quotes}}),I(null),x(!1)}}})),()=>{g.P.getInstance().setQuoteStreamCallback(null)}}),[a,n,e.mint,t?.mint,s]),(0,f.useAsyncEffect)((async e=>{if(!s)return void C();if(q)return void x(!0);if(r||!R||R.eq(y))return I(null),k(null),T(null),void x(!1);const t=async()=>{if(!R||R.eq(y))return I(null),k(null),T(null),void x(!1);if(R){try{const t=await u(R,o);if(!e())return;null===t.quoteResponse?I(new Error(c.ag._({id:"1e9pVf"}))):(I(null),k(t.quoteResponse),null!==t.bridgeOptions&&T(t.bridgeOptions))}catch(t){if(!e())return;if(t?.message?.includes("cancelled"))return;I(t)}C();const n=setTimeout(t,E);P.current=n}else k(null),T(null);x(!1)};k(null),T(null),x(!0),await t().catch((e=>{console.error(e)}))}),(async()=>C()),[e?.mint,t?.mint,R,o,r,a,q,s]),{quoteResponse:null===n||A?null:w,bridgeOptions:null===n||A?null:v,isLoading:A,isError:null!==S,error:S}}function S({from:e,to:t,fromAmount:n,quoteResponse:o}){const r=(0,b.pr)({from:e,to:t,quoteResponse:o}),a=(0,b.pQ)({from:e,to:t,fromAmount:n,quoteResponse:o});return{executeSwap:async e=>{if(!o)throw new Error("quote response not found");if(null===t)throw new Error("to token not found");const n=e??await r();return await a(n)}}}const I=()=>{const e=(0,r.x)(),t=(0,k.rT)(),n=(0,p.useCallback)((async n=>{try{const o=await Promise.all(n.map((async({mint:n,caip2:o,blockchain:r,blockchainId:a})=>{const s=await(0,w.k)(e,[n],o),i=s?.data?.tokenList?.[0];return i?{id:i.id??"",mint:n,blockchain:r,blockchainId:a,caip2:o,walletPublicKey:t.publicKey,tokenListEntry:i}:null})));return o}catch(e){return console.error("Error fetching token metadata for mints: ",e),[]}}),[e,t.publicKey]);return n}},468186:(e,t,n)=>{n.d(t,{sd:()=>F,G_:()=>ae,Ci:()=>oe,ir:()=>X,V3:()=>te,rx:()=>ne,_m:()=>ee,XA:()=>U,Zy:()=>H,sn:()=>z,KB:()=>W,iJ:()=>j});var o=n(817967),r=n(127942),a=n(304235),s=n(853111),i=n(400752),c=n(202784),l=n(429538),u=n.n(l),d=n(66046),m=n(452990),p=n(541214),f=n(181956),h=n(893190),g=n(666337),b=n(152010),w=n(477851),k=n(54174),y=n(910528),E=n(849494),v=n(549222);const{Zero:T}=k;function A(e){return e&&"object"==typeof e&&"titan"===e.provider}function x(e){return e&&"object"==typeof e&&"outAmount"in e}class S{quoteResponse;constructor(e){if(this.quoteResponse=e,e.kind!==g.vH.Solana)throw new Error("invalid kind")}get quoteResponseDataSolana(){return this.quoteResponse.data}get isTitanResponse(){return A(this.quoteResponseDataSolana)}get titanSelectedRoute(){const e=this.quoteResponseDataSolana;return A(e)?e.selectedRoute??null:null}outAmount(e){const t=this.quoteResponseDataSolana,n=(0,b.Kx)(e.tokenListEntry);if(!n?.decimals)return null;if(this.isTitanResponse&&this.titanSelectedRoute){const t=y.O$.from(this.titanSelectedRoute.outAmount.toString());return t&&e?E.bM(t,n.decimals):null}if(x(t)){const o=y.O$.from(t.outAmount||"0");return o&&e?E.bM(o,n.decimals):null}return null}outAmountBigNumber(){const e=this.quoteResponseDataSolana;return this.isTitanResponse&&this.titanSelectedRoute?y.O$.from(this.titanSelectedRoute.outAmount.toString()):x(e)?y.O$.from(e.outAmount||"0"):null}swapFee(){return this.quoteResponseDataSolana.platformFee}networkFee(e,t){return"~0.000005 SOL"}exchangeRate({fromAmount:e,toAmount:t,fromToken:n,toToken:o}){const r=(0,b.Kx)(n.tokenListEntry)?.decimals,a=(0,b.Kx)(o.tokenListEntry)?.decimals;if(void 0===r||void 0===a)return"0";const s=r-a,i=e?.gt(T)?E.Fn(((e,t)=>t>0?e.mulUnsafe(v.xs.from(10**t)):t<0?e.divUnsafe(v.xs.from(10**Math.abs(t))):e)(v.xs.from(t).divUnsafe(v.xs.from(e)),s).toString()):"0";return i}providerId(){const e=this.quoteResponseDataSolana;return A(e)?e.selectedProvider||"Titan":"Metis"}isTitan(){return this.isTitanResponse}estimatedTime(){}}class I{quoteResponse;constructor(e){if(this.quoteResponse=e,e.kind!==g.vH.Wormhole)throw new Error("invalid kind")}get quoteResponseDataWormhole(){return this.quoteResponse.data}outAmount(e){const t=y.O$.from(this.quoteResponseDataWormhole.quote.destinationToken.amount);return E.bM(t,(0,b.Kx)(e.tokenListEntry)?.decimals)}outAmountBigNumber(){return y.O$.from(this.quoteResponseDataWormhole.quote.destinationToken.amount)}swapFee(){return{feeBps:void 0,amount:"-"}}networkFee(e,t){if(!this.quoteResponseDataWormhole.quote.relayFee)return"-";const n=this.quoteResponseDataWormhole.quote.relayFee.token,o=(()=>{if(n===r.e_||n===r.VU)return{decimals:9,symbol:"SOL"};if(n===w.aY)return{decimals:18,symbol:"ETH"};{let o;if(n===r.e_){if(e.token===r.VU){const t=(0,b.Kx)(e.tokenListEntry);t&&(o=t)}else if(t.token===r.VU){const e=(0,b.Kx)(t.tokenListEntry);e&&(o=e)}}else if(n.toLowerCase()===e.token.toLowerCase()){const t=(0,b.Kx)(e.tokenListEntry);t&&(o=t)}else if(n.toLowerCase()===t.token.toLowerCase()){const e=(0,b.Kx)(t.tokenListEntry);e&&(o=e)}return o?{decimals:o.decimals,symbol:o.symbol}:void 0}})();if(!o)return"-";const a=this.quoteResponseDataWormhole.quote.relayFee?.amount;return a?`${E.bM(a,o.decimals)} ${o.symbol}`:"-"}exchangeRate({fromAmount:e,toAmount:t,fromToken:n,toToken:o}){const r=(0,b.Kx)(n.tokenListEntry)?.decimals,a=(0,b.Kx)(o.tokenListEntry)?.decimals;if(void 0===r||void 0===a)return"0";const s=r-a,i=e?.gt(T)?E.Fn(((e,t)=>t>0?e.mulUnsafe(v.xs.from(10**t)):t<0?e.divUnsafe(v.xs.from(10**Math.abs(t))):e)(v.xs.from(t).divUnsafe(v.xs.from(e)),s).toString()):"0";return i}providerId(){return this.quoteResponse.data.quote.isMayan?"Mayan Bridge":"Wormhole Bridge"}estimatedTime(){const e=this.quoteResponse.data.quote.eta;if(!e)return;const t=Math.ceil(e/1e3);return t<=60?`~${t} sec`:`~${Math.ceil(t/60)} min`}}class P{quoteResponse;constructor(e){if(this.quoteResponse=e,e.kind!==g.vH.LiFi)throw new Error("invalid kind")}get quoteResponseDataLiFi(){return this.quoteResponse.data}outAmount(e){const t=y.O$.from(this.quoteResponseDataLiFi.quote.destinationToken.amount);return E.bM(t,(0,b.Kx)(e.tokenListEntry)?.decimals)}outAmountBigNumber(){return y.O$.from(this.quoteResponseDataLiFi.quote.destinationToken.amount)}swapFee(){const e=this.quoteResponseDataLiFi.quote.estimate?.feeCosts;if(!e||0===e.length)return{feeBps:void 0,amount:"-"};const t=e.reduce(((e,t)=>{const n=y.O$.from(e),o=y.O$.from(t.amount||"0");return n.add(o).toString()}),"0");return{feeBps:void 0,amount:"0"===t?"-":t}}networkFee(e,t){const n=this.quoteResponseDataLiFi.quote.estimate?.gasCosts;if(!n||0===n.length)return"-";const o=n[0];if(!o||!o.amount)return"-";const r=o.amount,a=o.token?.decimals||18,s=o.token?.symbol||"";return`${E.bM(r,a)} ${s}`}exchangeRate({fromAmount:e,toAmount:t,fromToken:n,toToken:o}){const r=(0,b.Kx)(n.tokenListEntry)?.decimals,a=(0,b.Kx)(o.tokenListEntry)?.decimals;if(void 0===r||void 0===a)return"0";const s=r-a,i=e?.gt(T)?E.Fn(((e,t)=>t>0?e.mulUnsafe(v.xs.from(10**t)):t<0?e.divUnsafe(v.xs.from(10**Math.abs(t))):e)(v.xs.from(t).divUnsafe(v.xs.from(e)),s).toString()):"0";return i}providerId(){const e=this.quoteResponseDataLiFi.quote.toolDetails;return e?.name?e.name:"LiFi"}providerLogoURI(){const e=this.quoteResponseDataLiFi.quote.toolDetails;return e?.logoURI}isLiFi(){return!0}estimatedTime(){const e=this.quoteResponseDataLiFi.quote.estimate?.executionDuration;if(!e)return;const t=Math.ceil(e);return t<=60?`~${t} sec`:`~${Math.ceil(t/60)} min`}}class C{quoteResponse;constructor(e){if(this.quoteResponse=e,e.kind!==g.vH.Ethereum)throw new Error("invalid kind")}get quoteResponseDataEthereum(){return this.quoteResponse.data}outAmount(e){if(this.quoteResponseDataEthereum.liquidityAvailable){const t=y.O$.from(this.quoteResponseDataEthereum.buyAmount);return E.bM(t,(0,b.Kx)(e.tokenListEntry)?.decimals)}return"0"}outAmountBigNumber(){return this.quoteResponseDataEthereum.liquidityAvailable?y.O$.from(this.quoteResponseDataEthereum.buyAmount):y.O$.from(0)}swapFee(){return{feeBps:void 0,amount:"-"}}networkFee(e,t){const n=(()=>{const n=(()=>{const n=this.quoteResponseDataEthereum.fees?.zeroExFee?.token;return e.token===n?e.token:t.token})();return n?.toLowerCase()===e.token.toLowerCase()?e:n?.toLowerCase()===t.token.toLowerCase()?t:null})();if(n&&this.quoteResponseDataEthereum.fees?.zeroExFee?.amount){const e=(0,b.Kx)(n.tokenListEntry),t=E.bM(this.quoteResponseDataEthereum.fees?.zeroExFee?.amount||"0",e?.decimals),o=e?.symbol;return`${t} ${o}`}return"-"}exchangeRate({fromAmount:e,toAmount:t,fromToken:n,toToken:o}){const r=(0,b.Kx)(n.tokenListEntry)?.decimals,a=(0,b.Kx)(o.tokenListEntry)?.decimals;if(void 0===r||void 0===a)return"0";const s=r-a,i=e?.gt(T)?E.Fn(((e,t)=>t>0?e.mulUnsafe(v.xs.from(10**t)):t<0?e.divUnsafe(v.xs.from(10**Math.abs(t))):e)(v.xs.from(t).divUnsafe(v.xs.from(e)),s).toString()):"0";return i}providerId(){return"0x Protocol"}estimatedTime(){}}class R{quoteResponse;constructor(e){if(this.quoteResponse=e,e.kind!==g.vH.Sui)throw new Error("invalid kind")}get quoteResponseDataSui(){return this.quoteResponse.data}outAmount(e){const t=y.O$.from(this.quoteResponseDataSui.coinOut.amount),n=(0,b.Kx)(e.tokenListEntry)?.decimals??9;return E.bM(t,n)}outAmountBigNumber(){return y.O$.from(this.quoteResponseDataSui.coinOut.amount)}swapFee(){return{feeBps:this.quoteResponseDataSui.externalFee?.feePercentage??0,amount:E.bM(this.quoteResponseDataSui.coinIn.tradeFee,9)}}networkFee(e){const t=y.O$.from(this.quoteResponseDataSui.coinIn.tradeFee),n=(0,b.Kx)(e.tokenListEntry);return`${E.bM(t,n?.decimals??9)} ${n?.symbol??""}`}exchangeRate({fromAmount:e,toAmount:t,fromToken:n,toToken:o}){if(e.eq(0))return"0";const r=(0,b.Kx)(n.tokenListEntry)?.decimals??9,a=(0,b.Kx)(o.tokenListEntry)?.decimals??9,s=parseFloat(E.bM(e,r));return(parseFloat(E.bM(t,a))/s).toPrecision(4).replace(/\.?0+$/,"")}providerId(){return"Aftermath"}estimatedTime(){}}class q{quoteResponse;static BACKPACK_FEE_BPS=0;constructor(e){if(this.quoteResponse=e,e.kind!==g.vH.Aptos)throw new Error("invalid kind")}get quoteResponseDataAptos(){return this.quoteResponse.data}outAmount(e){if(!this.quoteResponseDataAptos.outputAmount||"0"===this.quoteResponseDataAptos.outputAmount)return"0";try{const t=y.O$.from(this.quoteResponseDataAptos.outputAmount),n=(0,b.Kx)(e.tokenListEntry)?.decimals??8;return E.bM(t,n)}catch(e){return"0"}}outAmountBigNumber(){if(!this.quoteResponseDataAptos.outputAmount)return y.O$.from(0);try{return y.O$.from(this.quoteResponseDataAptos.outputAmount)}catch{return y.O$.from(0)}}priceImpact(){try{const e=parseFloat(this.quoteResponseDataAptos.priceImpact);return isNaN(e)||0===e?"0":e>.1?e.toFixed(2):"< 0.1"}catch{return"0"}}swapFee(){return{feeBps:q.BACKPACK_FEE_BPS,amount:this.quoteResponseDataAptos.fee.amount}}networkFee(e){const t=this.quoteResponseDataAptos.fee.amount;if(!t||"0"===t)return"0 APT";const n=(0,b.Kx)(e.tokenListEntry),o=n?.decimals??8,r=n?.symbol??"APT";return`${E.bM(t,o)} ${r}`}exchangeRate({fromAmount:e,toAmount:t,fromToken:n,toToken:o}){if(e.eq(0))return"0";const r=((0,b.Kx)(n.tokenListEntry)?.decimals??8)-((0,b.Kx)(o.tokenListEntry)?.decimals??8),a=E.Fn(((e,t)=>t>0?e.mulUnsafe(v.xs.from(10**t)):t<0?e.divUnsafe(v.xs.from(10**Math.abs(t))):e)(v.xs.from(t).divUnsafe(v.xs.from(e)),r).toString());return a}providerId(){return"Panora"}estimatedTime(){}}var $=n(534751),L=n(869256),B=n(202784);function D(e){return e&&"object"==typeof e&&"titan"===e.provider}function F({defaultFromAssetId:e,defaultToAssetId:t,children:n}){const{publicKey:a,blockchainId:s,blockchain:l}=(0,p.rT)(),{gasCurrencyAddress:u,defaultToToken:m}=(0,i.Dv)((0,d.I5)(s)),g=(0,p.gI)(s),[b,w]=(0,c.useState)(),[k,y]=(0,c.useState)(!1),[E,v]=(0,f.kX)(s),T=a,A=(0,h.Fu)(),x=(0,h.yS)({blockchainId:s,id:e}),S=(0,h.iD)({blockchainId:s,id:t});if(null===x)throw new Error("invariant violation");const I={id:e??"",blockchain:l,blockchainId:s,caip2:g,mint:x??u,walletPublicKey:T},P={id:t??"",blockchain:l,blockchainId:s,caip2:g,mint:x===m?u:S??m??"",walletPublicKey:T},[C,R]=(0,c.useState)(I),[q,$]=(0,c.useState)(null),[L,D]=(0,c.useState)(P),[F,j]=(0,c.useState)(P.blockchainId),U=(0,c.useRef)(C),W=(0,c.useRef)(L),z=(0,c.useRef)(null);(0,c.useEffect)((()=>{U.current=C,W.current=L}),[C,L]);const H=(0,c.useCallback)((()=>{const e=z.current;return null!==e&&(z.current=null),e}),[]),Q=(0,c.useRef)({from:C,to:L,fromAmount:q,toNetwork:F,error:b,slippagePercentage:E,shouldShakeOutput:k});(0,c.useEffect)((()=>{Q.current={from:C,to:L,fromAmount:q,toNetwork:F,error:b,slippagePercentage:E,shouldShakeOutput:k}}),[C,L,q,F,b,E,k]);const G=e=>e===r.VU||e===r.e_,V=(e,t)=>!(!G(e)||!G(t))||e===t,Z=(0,c.useCallback)((()=>{D({id:"",blockchain:l,blockchainId:s,caip2:g,mint:m??"",walletPublicKey:T})}),[l,s,g,m,T]),Y=(0,c.useCallback)((async(e,t)=>{if(!e)return void Z();const n=U.current,o=W.current;if(e.mint===n.mint&&e.blockchainId===n.blockchainId)return D(n),void R(o);try{if(e.tokenListEntry)D(e),j(e.blockchainId),t?.shouldShake&&(y(!0),setTimeout((()=>y(!1)),500));else{const[n]=await A([{mint:e.mint,caip2:e.caip2,blockchain:e.blockchain,blockchainId:e.blockchainId}]),o={...e,tokenListEntry:n?.tokenListEntry};D(o),j(e.blockchainId),t?.shouldShake&&(y(!0),setTimeout((()=>y(!1)),500))}}catch(t){console.error("Error setting the receive token: ",t),D(e)}}),[Z,A]),J=(0,c.useCallback)((async(e,t)=>{const n=W.current,o=U.current;if(null!==n&&null!==o)if(z.current=e&&t?{amount:e,decimals:t}:null,n.id&&o.id){const t=n.mint===r.e_?{...n,mint:u}:n,a=o.mint===r.e_?{...o,mint:u}:o;$(e??null),D(a),R(t)}else{const t=n.mint===r.e_?u:n.mint,a=o.mint===r.e_?u:o.mint;try{const[r,s]=await A([{mint:a,caip2:o.caip2,blockchain:o.blockchain,blockchainId:o.blockchainId},{mint:t,caip2:n.caip2,blockchain:n.blockchain,blockchainId:n.blockchainId}]);s&&r&&($(e??null),D(r),R(s))}catch(e){console.error("Error in swapToFrom: ",e),z.current=null}}}),[$,u,A]);(0,c.useEffect)((()=>{const t={id:e??"",blockchain:l,blockchainId:s,caip2:g,mint:x||u,walletPublicKey:T},n=function({from:e,to:t,blockchainId:n,walletPublicKey:o,defaultFromAssetId:r,newFromToken:a,swapToFrom:s,_setFrom:i,setFromAmount:c,isSameToken:l}){const u=e.blockchainId!==n,d=e.walletPublicKey!==o,m=!!t&&t.blockchainId!==n,p=!!t&&t.walletPublicKey!==o;if(!(u||d||m||p)){const n=r&&r!==e.id,o=!e.id&&r&&a.mint!==e.mint;return(n||o)&&(t&&l(a.mint,t.mint)?s():(i(a),c(null))),null}return{hasFromChainChanged:u,hasFromWalletChanged:d,hasToChainChanged:m,hasToWalletChanged:p}}({from:C,to:L,blockchainId:s,walletPublicKey:T,defaultFromAssetId:e,newFromToken:t,swapToFrom:J,_setFrom:R,setFromAmount:$,isSameToken:V});if(!n)return;const{hasFromChainChanged:o,hasFromWalletChanged:r,hasToChainChanged:a,hasToWalletChanged:i}=n;return o?(R(t),$(null),(a||i)&&Z(),void j(s)):r?(R({...C,walletPublicKey:T,blockchain:l,blockchainId:s,caip2:g}),$(null),void(L?.mint===(x||u)?Z():L&&!a&&D({...L,walletPublicKey:T,blockchain:l,blockchainId:s,caip2:g,tokenListEntry:L.tokenListEntry}))):void(e&&t.mint!==C.mint&&C.blockchainId===s&&C.walletPublicKey===T&&(L&&V(t.mint,L.mint)?J():(R(t),$(null))))}),[T,s,e,x,u,C.blockchainId,C.walletPublicKey,C.id,C.mint,Z,l,g,L?.blockchainId,L?.walletPublicKey,J]);const X=(0,c.useCallback)((async e=>{try{const t=W.current;if(t&&V(e.mint,t.mint))return void J();const[n]=await A([{mint:e.mint,caip2:e.caip2,blockchain:e.blockchain,blockchainId:e.blockchainId}]);n&&(R(n),$(null),n.mint===m&&t?.mint===m&&n.blockchainId===t.blockchainId&&D({id:"",blockchain:l,blockchainId:s,caip2:g,mint:u,walletPublicKey:T}))}catch(e){console.error("Error in setFrom: ",e)}}),[J,A,$,l,s,g,u,T,m]),ee=(0,c.useMemo)((()=>{const e=C.blockchainId===(0,o.b9)(o.$O.SOLANA),t=L?L.blockchainId===(0,o.b9)(o.$O.SOLANA):e,n=C.blockchain===o.$O.ETHEREUM,r=L?L.blockchain===o.$O.ETHEREUM:n;return e&&t||n&&r}),[C,L]),te=(0,c.useMemo)((()=>({from:C,to:L,toNetwork:F})),[C,L,F]),ne=(0,c.useMemo)((()=>({fromAmount:q})),[q]),oe=(0,c.useMemo)((()=>({slippageEnabled:ee,slippagePercentage:E})),[ee,E]),re=(0,c.useMemo)((()=>({error:b,shouldShakeOutput:k})),[b,k]),ae=(0,c.useMemo)((()=>({setError:w,setFrom:X,setTo:Y,setToNetwork:j,setFromAmount:$,swapToFrom:J,setSlippagePercentage:v,setShouldShakeOutput:y,getSwapData:()=>Q.current,consumePendingSwapAmount:H})),[w,X,Y,j,$,J,v,y,H]);return B.createElement(M.Provider,{value:te},B.createElement(O.Provider,{value:ne},B.createElement(N.Provider,{value:oe},B.createElement(_.Provider,{value:re},B.createElement(K.Provider,{value:ae},n)))))}const M=(0,c.createContext)(null);M.displayName="SwapTokensContext";const O=(0,c.createContext)(null);O.displayName="SwapAmountContext";const N=(0,c.createContext)(null);N.displayName="SwapSettingsContext";const _=(0,c.createContext)(null);_.displayName="SwapErrorContext";const K=(0,c.createContext)(null);function j(){const e=(0,c.useContext)(M);if(null===e)throw new Error("useSwapTokens must be used within a SwapProvider");return e}function U(){const e=(0,c.useContext)(O);if(null===e)throw new Error("useSwapAmount must be used within a SwapProvider");return e}function W(){const e=(0,c.useContext)(N);if(null===e)throw new Error("useSwapSettings must be used within a SwapProvider");return e}function z(){const e=(0,c.useContext)(_);if(null===e)throw new Error("useSwapError must be used within a SwapProvider");return e}function H(){const e=(0,c.useContext)(K);if(null===e)throw new Error("useSwapApi must be used within a SwapProvider");return e}function Q({children:e}){const{from:t,to:n}=j(),{fromAmount:o}=U(),{slippagePercentage:r}=W(),{setFromAmount:l}=H(),[d,p]=(0,c.useState)(!0),[f,b]=(0,c.useState)(null),[w,k]=(0,c.useState)(null),y=(0,a.HJ)(),E=d&&o&&o.gt(0)&&t?.mint&&n?.mint,[v,T]=(0,i.KO)(m.Y);(0,c.useEffect)((()=>{!async function(){if(!(Object.keys(v).length>0))try{const e=await $.P.getInstance().listProviders(!0),t={};for(const n of e)n.iconUri48&&(t[n.name.toLowerCase()]=n.iconUri48,t[n.id.toLowerCase()]=n.iconUri48);T(t)}catch(e){console.error("Failed to load provider icons:",e)}}()}),[v,T]);const{quoteResponse:A,bridgeOptions:x,isLoading:S,isError:I,error:P}=(0,h.Fe)({from:t,to:n,fromAmount:o,slippageBps:Math.round(100*r)}),[C,R]=(0,c.useState)(null);(0,c.useEffect)((()=>{R(null)}),[t?.mint,n?.mint,o?.toString()]);const q=(0,c.useMemo)((()=>{if(!x||0===x.length)return A;if(!C)return x[0]?.quote??A;const e=x.find((e=>e.id===C));return e?.quote??x[0]?.quote??A}),[A,x,C]),L=(0,g.pr)({from:t,to:n,quoteResponse:q});(0,c.useEffect)((()=>{A?.kind===g.vH.Solana&&D(A.data)&&A.data.selectedProvider&&!w&&k(A.data.selectedProvider)}),[A,w]);const F=(0,c.useMemo)((()=>A?.data&&A.kind===g.vH.Solana&&D(A.data)&&A.data.allQuotes?Object.entries(A.data.allQuotes).map((([e,t])=>({name:e,outAmount:t.outAmount,slippageBps:t.slippageBps||0,route:t}))):[]),[A]);(0,a.Ym)((0,c.useCallback)((()=>(p(!0),$.P.resumeConnection(),()=>{p(!1),b(null),$.P.pauseConnection(),y.isFocused()||y.canGoBack()||l(null)})),[l,y]));const M=(0,s.Nr)(A,500);u()((async e=>{if(E&&!S&&!I&&M)if(D(M.data))b(null);else try{const t=await L();if(!e())return;b(t)}catch(e){console.error("Error fetching transaction:",e)}else b(null)}),[E,M,t?.mint,n?.mint]);const O=(0,c.useMemo)((()=>({quoteResponse:q})),[q]),N=(0,c.useMemo)((()=>({transaction:f,allProviders:F,selectedProvider:w})),[f,F,w]),_=(0,c.useMemo)((()=>({isLoading:S,isError:I,error:P})),[S,I,P]),K=(0,c.useMemo)((()=>({setSelectedProvider:k})),[k]),z=(0,c.useMemo)((()=>{if(!x||0===x.length)return null;const e=C?x.find((e=>e.id===C)):x[0];return e?`(${e.priceImpact})`:null}),[x,C]),Q=(0,c.useMemo)((()=>({bridgeOptions:x,selectedBridgeRouteId:C,setSelectedBridgeRouteId:R,bridgePriceImpact:z})),[x,C,z]);return B.createElement(J.Provider,{value:Q},B.createElement(G.Provider,{value:O},B.createElement(V.Provider,{value:N},B.createElement(Z.Provider,{value:_},B.createElement(Y.Provider,{value:K},e)))))}K.displayName="SwapApiContext";const G=(0,c.createContext)(null);G.displayName="QuoteDataContext";const V=(0,c.createContext)(null);V.displayName="QuoteTransactionContext";const Z=(0,c.createContext)(null);Z.displayName="QuoteStateContext";const Y=(0,c.createContext)(null);Y.displayName="QuoteApiContext";const J=(0,c.createContext)(null);function X(){const e=(0,c.useContext)(G);if(null===e)throw new Error("useQuoteData must be used within QuoteProvider");return e}function ee(){const e=(0,c.useContext)(V);if(null===e)throw new Error("useQuoteTransaction must be used within QuoteProvider");return e}function te(){const{quoteResponse:e}=X();return(0,c.useMemo)((()=>e?function(e){switch(e.kind){case g.vH.Solana:return new S(e);case g.vH.Wormhole:return new I(e);case g.vH.LiFi:return new P(e);case g.vH.Ethereum:return new C(e);case g.vH.Sui:return new R(e);case g.vH.Aptos:return new q(e);default:throw new Error("formatter not found")}}(e):null),[e])}function ne(){const e=(0,c.useContext)(Z);if(null===e)throw new Error("useQuoteState must be used within QuoteProvider");return e}function oe(){const e=(0,c.useContext)(J);if(null===e)throw new Error("useBridgeRouteSelection must be used within QuoteProvider");return e}function re({children:e}){const{from:t,to:n}=j();return B.createElement(L.ed,{from:t,to:n},B.createElement(L.Qx,{from:t,to:n},B.createElement(Q,null,e)))}function ae({children:e}){return B.createElement(re,null,e)}J.displayName="BridgeRouteContext"},236789:(e,t,n)=>{function o(e,t){return"https://madlads-merch.s3.us-east-2.amazonaws.com/darkAvatar.png"}n.d(t,{O:()=>o})},181956:(e,t,n)=>{n.d(t,{$T:()=>l,Mg:()=>m,aF:()=>u,gl:()=>d,kX:()=>f,o7:()=>p,oo:()=>c});var o=n(400752),r=n(2716),a=n(817911),s=n(318416),i=n(495320);function c(){return(0,o.Dv)(r.u$)}function l(e){return(0,o.Dv)((0,a.W4)({decimalsOverride:e}))}function u(){return(0,o.Dv)(r.EA)}function d(){return(0,o.Dv)(r.XE)}function m(e){return(0,o.Dv)((0,r.yl)(e))}function p(){return(0,o.Dv)(r.q$)}function f(e){const t=(0,o.Dv)((0,s.g)(e)),[,n]=(0,o.KO)((0,s.H)(e)),r=(0,o.Dv)(i.D5),a=(0,o.Dv)(i.s7);return[t,t=>{n(t),a.updateUserPreferences({uuid:r.user.uuid,preferences:{swapSlippagePercentage:{[e]:t}}}).catch((e=>{console.error("Failed to update slippage preference:",e)}))}]}},830349:(e,t,n)=>{n.d(t,{x:()=>a});var o=n(400752),r=n(66046);function a(e){return(0,o.Dv)((0,r.Pg)(e))}},632419:(e,t,n)=>{n.d(t,{y:()=>a});var o=n(400752),r=n(859083);function a(){return(0,o.Dv)(r.v)}},344848:(e,t,n)=>{n.d(t,{U:()=>l});var o=n(25492),r=n(817967),a=n(400752),s=n(202784),i=n(66046);const c="https://explorer.jito.wtf/bundle";function l(e){const t=(0,a.Dv)((0,i.I5)(e)),n=t.blockchain===r.$O.SOLANA?t.settings.explorerUrlSuffix:"",l=t.blockchain===r.$O.SUI||t.blockchain===r.$O.APTOS||t.blockchainId===r.Ek.FOGO_MAINNET?"account":"address",u=t.blockchain===r.$O.SUI?"txblock":t.blockchain===r.$O.APTOS?"txn":t.blockchain===r.$O.TRON?"transaction":"tx",d=(0,s.useCallback)((e=>t.blockchain===r.$O.SUI?`object/${e.split("/")[2]}`:t.blockchainId===r.Ek.MONAD_MAINNET?`nft/${e}`:`address/${e}`),[t.blockchain,t.blockchainId]);return(0,s.useMemo)((()=>({explorerAddressUrl:e=>`${t.settings.explorerUrl}/${l}/${e}${n}`,explorerNftUrl:e=>`${t.settings.explorerUrl}/${d(e)}${n}`,explorerCompressedNftUrl:e=>`https://xray.helius.xyz/token/${e}${n}`,explorerTxUrl:a=>{const s="string"==typeof a?a:a?.data?.signature||a?.data?.txid;return s?e===r.Ek.SOLANA_MAINNET&&s.startsWith(o.SI)?`${c}/${s.replace(o.SI,"")}`:`${t.settings.explorerUrl}/${u}/${s}${n}`:""}})),[t.settings.explorerUrl,l,n,d,e,u])}},613754:(e,t,n)=>{n.d(t,{w:()=>a});var o=n(400752),r=n(202784);function a({children:e,store:t}){return r.createElement(o.zt,{store:t},e)}},473386:(e,t,n)=>{n.d(t,{_:()=>r});var o=n(812626);function r(e){return{getItem:async(t,n)=>{const r=await o.f.get(e);return null!=r?r:n},removeItem:async t=>o.f.remove(e),setItem:async(t,n)=>o.f.set(e,n)}}},190776:(e,t,n)=>{n.d(t,{F:()=>l});var o=n(152010),r=n(883739),a=n(817967),s=n(565058),i=n(495320);const c=(0,s.cn)((async()=>(0,o.aw)())),l=(0,s.cn)((async e=>{const t=await e(c);let n;e(i.sT)||(n=await e(i.D5));const s=n?.publicKeys.activePlatform??(0,a.b9)(a.$O.SOLANA),l=(0,r.Iw)(s,n?.preferences);if(!l)throw new Error("Unknown networkConfig for "+s);const u=(0,r.qZ)(s),d=(0,o.zY)(l,u?.rpcUrl);return(0,o.nl)(t,d)}))},959523:(e,t,n)=>{n.d(t,{G:()=>s});var o=n(400752),r=n(987809);const a=new Map;function s(e){return a.has(e)||a.set(e,(0,r.n7)(e)),(0,o.Dv)(a.get(e))}},631649:(e,t,n)=>{n.d(t,{zJ:()=>k,KM:()=>b,kq:()=>w});var o=n(33229),r=n(168756),a=n(25825),s=n(442248),i=n(917518),c=n(825629),l=n(325686),u=n(552322);function d({bottom:e,top:t,left:n,right:o,horizontal:r,vertical:a,children:s}){const i={};return void 0!==e&&(i.marginBottom=e),void 0!==t&&(i.marginTop=t),void 0!==n&&(i.marginLeft=n),void 0!==o&&(i.marginRight=o),void 0!==r&&(i.marginHorizontal=r),void 0!==a&&(i.marginVertical=a),(0,u.jsx)(l.default,{style:i,children:s})}var m=n(326951);const p={"extra-large":o.default.select({native:56,web:48}),large:o.default.select({native:50,web:50}),medium:o.default.select({native:40,web:40}),small:o.default.select({native:56,web:48})},f={"extra-large":16,large:15,medium:15,small:14};function h({label:e,buttonStyle:t,labelStyle:n,size:o="extra-large",onPress:s,disabled:l,loading:m,icon:h,iconBefore:b,iconAfter:w,...k}){return(0,u.jsxs)(r.Z,{android_ripple:{borderless:!1,color:"rgba(0, 0, 0, 0.2)",foreground:!0},disabled:l,onPress:s,style:({hovered:e,pressed:n})=>[g.button,{height:p[o]},{opacity:e||n?c.IPZ:l?.7:1},t],...k,children:[b?(0,u.jsx)(d,{right:2,children:b}):null,(0,u.jsx)(i.x,{fontSize:n?.fontSize??f[o],fontWeight:"600",fontFamily:"$body",color:n?.color,style:[{opacity:m?.7:l?.5:1}],children:e}),h||w?(0,u.jsx)(d,{left:2,children:h||w}):null,m?(0,u.jsx)(d,{left:8,children:(0,u.jsx)(a.Z,{size:"small"})}):null]})}const g=s.default.create({button:{userSelect:"none",paddingHorizontal:12,borderRadius:12,justifyContent:"center",alignItems:"center",flexDirection:"row",width:"100%"}});function b({label:e,onPress:t,onClick:n,disabled:o,loading:r,icon:a,inverted:s,...i}){const c=(0,m.F)();return(0,u.jsx)(h,{label:e,onPress:n||t,disabled:o||!n&&!t,loading:r,buttonStyle:{backgroundColor:s?c.buttonSecondaryBackground.val:c.buttonPrimaryBackground.val},icon:a,...i,labelStyle:{color:s?c.buttonSecondaryText.val:c.buttonPrimaryText.val,...i.labelStyle}})}function w({label:e,onPress:t,disabled:n,loading:o,icon:r,inverted:a,labelStyle:s,...i}){const c=(0,m.F)();return(0,u.jsx)(h,{label:e,onPress:t,disabled:n||!t,loading:o,buttonStyle:{backgroundColor:a?c.buttonPrimaryBackground.val:c.buttonSecondaryBackground.val},labelStyle:{color:a?c.buttonPrimaryText.val:c.buttonSecondaryText.val,...s},icon:r,...i})}function k({label:e,onPress:t,disabled:n,loading:o,variant:r="light",labelStyle:a,size:s,...i}){const c=(0,m.F)();return(0,u.jsx)(h,{label:e,onPress:t,disabled:n,loading:o,buttonStyle:{backgroundColor:c.redBackgroundSolid.val},labelStyle:{color:c.redText.val,...a},size:s,...i})}},786685:(e,t,n)=>{n.d(t,{a:()=>s});var o=n(326951),r=n(966160),a=n(552322);function s(e){const t=(0,o.F)(),n=e.size??48;return(0,a.jsx)(r.$,{size:48===n?"large":"small",color:e.color??t.accentBlue?.val??"#1890ff",style:{display:"block",marginLeft:"auto",marginRight:"auto",...(e??{}).iconStyle}})}},73705:(e,t,n)=>{n.d(t,{e:()=>s});var o=n(457246),r=n(694407),a=n(552322);const s=({onError:e,src:t,size:n,style:s})=>{const i=(0,o.fi)(t,n);return(0,a.jsx)(r.default,{onError:e,style:s,source:{uri:i}})}},512788:(e,t,n)=>{n.d(t,{O:()=>s});var o=n(874782),r=n(326951),a=n(552322);function s({height:e,radius:t,width:n}){const s=(0,r.F)(),i=e??"100%",c=n??"100%";return(0,a.jsx)(o.ZP,{speed:2,height:i,width:c,backgroundColor:s.baseBackgroundL1.val,foregroundColor:s.baseBackgroundL0.val,children:(0,a.jsx)("rect",{x:"0",y:"0",height:i,width:c,rx:t,ry:t})})}},382740:(e,t,n)=>{n.d(t,{q:()=>a});var o=n(917518),r=n(552322);function a({fontWeight:e="500",fontSize:t="$base",textAlign:n,children:a,color:s,style:i,...c}){return(0,r.jsx)(o.x,{color:s??"$baseTextHighEmphasis",fontSize:t,fontFamily:"$body",fontWeight:e,textAlign:n,style:i,maxFontSizeMultiplier:1.1,...c,children:a})}},299105:(e,t,n)=>{n.d(t,{Uq:()=>m,Zl:()=>u,Zp:()=>p});var o=n(764861),r=n(33229),a=n(337288),s=n(555150),i=n(59727),c=n(382740),l=n(552322);function u({children:e,style:t}){const n=(Array.isArray(e)?e:[e]).filter((e=>null!==e));return(0,l.jsx)(a.FA,{overflow:"hidden",backgroundColor:"$baseBackgroundL1",borderWidth:2,borderColor:"$baseBorderLight",borderRadius:"$container",separator:(0,l.jsx)(s.Z,{borderColor:"$baseDivider"}),...t,children:n})}const d=e=>["string","number"].includes(typeof e);function m({label:e,onPress:t,value:n,valueColor:o,labelProps:s={color:"$baseTextMedEmphasis",fontSize:"$sm"},textAlign:u="left"}){const m=d(e)?(0,l.jsx)(c.q,{...s,children:e}):e,p=d(n)?(0,l.jsx)(c.q,{color:o||(t?"$accentBlue":"$baseTextHighEmphasis"),fontSize:"$sm",textAlign:u,maxWidth:"100%",overflow:"hidden",children:n}):n;return(0,l.jsxs)(a.sL,{backgroundColor:"$baseBackgroundL1",cursor:t?"pointer":void 0,hoverStyle:{backgroundColor:t?"$background":void 0},pressStyle:{backgroundColor:t?"$backgroundPress":void 0},onPress:t,padding:"$1",pointerEvents:"box-only",children:[(0,l.jsx)(i.G7,{padding:r.default.select({web:"$2",native:"$3"}),children:m}),(0,l.jsx)(i.G7,{alignItems:"flex-end",flex:1,overflow:"hidden",padding:r.default.select({web:"$2",native:"$3"}),children:p})]})}const p=({content:e})=>(0,l.jsxs)(a.sL,{ai:"center",gap:4,children:[(0,l.jsx)(c.q,{color:"$accentBlue",flex:1,fontSize:"$sm",maxWidth:"100%",overflow:"hidden",textAlign:"right",children:e}),(0,l.jsx)(o.G,{color:"$accentBlue",size:"$sm"})]})},566025:(e,t,n)=>{n.d(t,{Y:()=>r});var o=n(674283);const r=n(33229).default.select({native:o.pz,web:async(e,t,n)=>(window.open(e,t,n),!0)})},634706:(e,t,n)=>{n.d(t,{J_:()=>u,YP:()=>l,fP:()=>c});var o=n(304235),r=n(202784),a=n(337288),s=n(886526),i=n(202784);function c(e){const t=(0,r.useRef)(null);return u(t,e?.autoFocus??!1),i.createElement(l,{...e,inputRef:t})}function l({hasError:e,iconStart:t,iconEnd:n,wrapperProps:o,inputRef:r,...c}){return i.createElement(a.FA,{position:"relative",justifyContent:"center",...o},i.createElement(s.II,{placeholderTextColor:"$baseIcon",borderRadius:12,paddingVertical:"$DEPRECATED_4.5",paddingLeft:t?"$DEPRECATED_8":"$DEPRECATED_4",paddingRight:n?"$DEPRECATED_8":"$DEPRECATED_4",fontWeight:"$medium",blurOnSubmit:!1,width:"100%",borderWidth:2,outlineWidth:"$DEPRECATED_0",color:"$baseTextHighEmphasis",borderColor:e?"$redBorder":"transparent",focusStyle:{borderWidth:2,outlineWidth:0,borderColor:e?"$redBorder":"$accentBlue"},hoverStyle:{borderWidth:2,outlineWidth:0,borderColor:e?"$redBorder":""},backgroundColor:"$baseBackgroundL1",...c,autoFocus:!1,ref:r}),t?i.createElement(a.FA,{position:"absolute",paddingLeft:"$DEPRECATED_3",top:0,left:0,height:"100%",justifyContent:"center",alignItems:"center"},t):null,n?i.createElement(a.FA,{position:"absolute",paddingRight:"$DEPRECATED_3",top:0,right:0,height:"100%",justifyContent:"center",alignItems:"center"},n):null)}function u(e,t,n){(0,o.Ym)((()=>{setTimeout((()=>{t&&e?.current?.focus()}),n??250)}))}},642719:(e,t,n)=>{n.d(t,{x:()=>E});var o=n(821633);const r="rgba(244, 244, 246, 1)",a="rgba(200, 201, 208, 1)",s="rgba(150, 159, 175, 1)",i="rgba(117, 121, 138, 1)",c="rgba(54, 55, 61, 1)",l="rgba(32, 33, 39, 1)",u="rgba(20, 21, 27, 1)",d="rgba(14, 15, 20, 1)",m="#ffffff",p="rgba(0, 194, 120, 1)",f="rgba(239, 164, 17, 1)",h="rgba(255, 87, 90, 1)",g="rgba(234, 56, 59, 1)",b="#e17aff",w="rgba(250, 148, 118, 1)",k=(e,t)=>{if(e.startsWith("rgba"))return e.replace(/[\d.]+\)$/,`${t})`);if(e.startsWith("rgb("))return e.replace("rgb(","rgba(").replace(")",`, ${t})`);if(e.startsWith("#")){const n=e.slice(1);return`rgba(${parseInt(n.slice(0,2),16)}, ${parseInt(n.slice(2,4),16)}, ${parseInt(n.slice(4,6),16)}, ${t})`}return e},y={blue100:{val:"rgb(214, 237, 255)"},blue800:{val:"rgb(13, 65, 155)"},blue900:{val:"rgb(13, 41, 93)"},modal:{val:d},card:{val:l},baseBackgroundL0:{val:d},baseBackgroundL1:{val:l},baseBackgroundL2:{val:u},baseBackgroundL3:{val:"rgba(56, 58, 69, 1)"},baseBackgroundL4:{val:c},baseBackgroundL5:{val:"rgba(25, 26, 32, 1)"},baseTextHighEmphasis:{val:r},baseTextMedEmphasis:{val:s},baseToggle:{val:c},baseIcon:{val:i},baseIconHover:{val:s},baseIconPress:{val:i},baseBorderLight:{val:l},baseBorderMed:{val:k(m,.15)},baseBorderFocus:{val:a},baseDivider:{val:k(m,.1)},outlineColor:{val:a},buttonPrimaryBackground:{val:m},buttonPrimaryText:{val:u},buttonSecondaryBackground:{val:l},buttonSecondaryText:{val:r},greenText:{val:p},greenIcon:{val:p},greenBorder:{val:k(p,.4)},greenBackgroundSolid:{val:"rgba(18, 35, 34, 1)"},greenBackgroundTransparent:{val:k(p,.08)},greenSecondaryButtonBackground:{val:"rgba(0, 194, 120, 0.08)"},greenSecondaryButtonTextColor:{val:p},yellowText:{val:f},yellowIcon:{val:f},yellowBorder:{val:k(f,.5)},yellowBackgroundSolid:{val:"rgba(38, 32, 26, 1)"},yellowBackgroundTransparent:{val:k(f,.08)},redText:{val:h},redIcon:{val:h},redBorder:{val:k(g,.5)},redBackgroundSolid:{val:"rgba(53, 26, 31, 1)"},redBackgroundTransparent:{val:k(g,.12)},accentBlue:{val:"rgb(76, 148, 255)"},accentBlueBackground:{val:k("rgb(0, 87, 235)",.2)},accentPeach:{val:w},accentPeachBackground:{val:k(w,.15)},accentPurple:{val:b},purpleSecondaryButtonBackground:{val:"rgba(155, 52, 239, 0.2)"},purpleSecondaryButtonText:{val:b},invertedBaseBackgroundL0:{val:r},invertedBaseTextHighEmphasis:{val:u}};function E(e){return()=>Object.entries(e(y)).reduce(((e,[t,n])=>(e[t]=(0,o.iv)(n),e)),{})}},847376:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-aptos.png"},327743:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-arbitrum.png"},151421:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-avalanche.png"},293362:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-base.png"},366929:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-berachain.png"},738877:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-bitcoin.png"},937206:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-bsc.png"},227385:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-cosmos.png"},235281:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-eclipse-testnet.png"},379821:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-eclipse.png"},199677:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-ethereum-sepolia.png"},30668:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-ethereum.png"},763531:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-fogo.png"},418636:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-gorbagana-testnet.png"},732950:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-hyperevm.png"},619681:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-monad-testnet.png"},995433:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-monad.png"},95225:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-optimism.png"},572779:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-plasma.png"},606536:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-polygon.png"},330541:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-sei.png"},524271:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-solana-devnet.png"},964414:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-solana.png"},862249:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-sonic-devnet.png"},863491:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-sonic.png"},950775:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-sui-testnet.png"},476327:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-sui.png"},308737:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-tron-testnet.png"},741982:(e,t,n)=>{e.exports=n.p+"assets/logo-circle-tron.png"}}]);