var injected=function(){"use strict";function Qs(e){return e==null||typeof e=="function"?{main:e}:e}var Js=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ta=function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},_r;function ea(e){const t=({register:r})=>r(e);try{window.dispatchEvent(new ra(t))}catch(r){console.error(`wallet-standard:register-wallet event could not be dispatched
`,r)}try{window.addEventListener("wallet-standard:app-ready",({detail:r})=>t(r))}catch(r){console.error(`wallet-standard:app-ready event listener could not be added
`,r)}}class ra extends Event{get detail(){return Js(this,_r,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),_r.set(this,void 0),ta(this,_r,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_r=new WeakMap;const na=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(e=>[e.name,e]),ia=new Map(na);class xn extends Error{name="NonError";constructor(t){super(xn._prepareSuperMessage(t))}static _prepareSuperMessage(t){try{return JSON.stringify(t)}catch{return String(t)}}}const oa=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],bn=new WeakSet,sa=e=>{bn.add(e);const t=e.toJSON();return bn.delete(e),t},Di=e=>ia.get(e)??Error,En=({from:e,seen:t,to:r,forceEnumerable:n,maxDepth:s,depth:i,useToJSON:f,serialize:p})=>{if(!r)if(Array.isArray(e))r=[];else if(!p&&Ci(e)){const B=Di(e.name);r=new B}else r={};if(t.push(e),i>=s)return r;if(f&&typeof e.toJSON=="function"&&!bn.has(e))return sa(e);const x=B=>En({from:B,seen:[...t],forceEnumerable:n,maxDepth:s,depth:i,useToJSON:f,serialize:p});for(const[B,w]of Object.entries(e)){if(w&&w instanceof Uint8Array&&w.constructor.name==="Buffer"){r[B]="[object Buffer]";continue}if(w!==null&&typeof w=="object"&&typeof w.pipe=="function"){r[B]="[object Stream]";continue}if(typeof w!="function"){if(!w||typeof w!="object"){try{r[B]=w}catch{}continue}if(!t.includes(e[B])){i++,r[B]=x(e[B]);continue}r[B]="[Circular]"}}for(const{property:B,enumerable:w}of oa)typeof e[B]<"u"&&e[B]!==null&&Object.defineProperty(r,B,{value:Ci(e[B])?x(e[B]):e[B],enumerable:n?!0:w,configurable:!0,writable:!0});return r};function aa(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY,useToJSON:n=!0}=t;return typeof e=="object"&&e!==null?En({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0,useToJSON:n,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function ua(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY}=t;if(e instanceof Error)return e;if(ca(e)){const n=Di(e.name);return En({from:e,seen:[],to:new n,maxDepth:r,depth:0,serialize:!1})}return new xn(e)}function Ci(e){return!!e&&typeof e=="object"&&"name"in e&&"message"in e&&"stack"in e}function ca(e){return!!e&&typeof e=="object"&&"message"in e&&!Array.isArray(e)}var fa=Object.defineProperty,ha=Object.defineProperties,la=Object.getOwnPropertyDescriptors,Oi=Object.getOwnPropertySymbols,da=Object.prototype.hasOwnProperty,pa=Object.prototype.propertyIsEnumerable,zi=(e,t,r)=>t in e?fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ji=(e,t)=>{for(var r in t||(t={}))da.call(t,r)&&zi(e,r,t[r]);if(Oi)for(var r of Oi(t))pa.call(t,r)&&zi(e,r,t[r]);return e},Pi=(e,t)=>ha(e,la(t)),qi=(e,t,r)=>new Promise((n,s)=>{var i=x=>{try{p(r.next(x))}catch(B){s(B)}},f=x=>{try{p(r.throw(x))}catch(B){s(B)}},p=x=>x.done?n(x.value):Promise.resolve(x.value).then(i,f);p((r=r.apply(e,t)).next())});function ga(e){let t,r={};function n(){Object.entries(r).length===0&&(t?.(),t=void 0)}let s=Math.floor(Math.random()*1e4);function i(){return s++}return{sendMessage(f,p,...x){return qi(this,null,function*(){var B,w,T,K;const N={id:i(),type:f,data:p,timestamp:Date.now()},$=(w=yield(B=e.verifyMessageData)==null?void 0:B.call(e,N))!=null?w:N;(T=e.logger)==null||T.debug(`[messaging] sendMessage {id=${$.id}} ─ᐅ`,$,...x);const O=yield e.sendMessage($,...x),{res:k,err:Y}=O??{err:new Error("No response")};if((K=e.logger)==null||K.debug(`[messaging] sendMessage {id=${$.id}} ᐊ─`,{res:k,err:Y}),Y!=null)throw ua(Y);return k})},onMessage(f,p){var x,B,w;if(t==null&&((x=e.logger)==null||x.debug(`[messaging] "${f}" initialized the message listener for this context`),t=e.addRootListener(T=>{var K,N;if(typeof T.type!="string"||typeof T.timestamp!="number"){if(e.breakError)return;const k=Error(`[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(T)}`);throw(K=e.logger)==null||K.error(k),k}(N=e?.logger)==null||N.debug("[messaging] Received message",T);const $=r[T.type];if($==null)return;const O=$(T);return Promise.resolve(O).then(k=>{var Y,G;return(G=(Y=e.verifyMessageData)==null?void 0:Y.call(e,k))!=null?G:k}).then(k=>{var Y;return(Y=e?.logger)==null||Y.debug(`[messaging] onMessage {id=${T.id}} ─ᐅ`,{res:k}),{res:k}}).catch(k=>{var Y;return(Y=e?.logger)==null||Y.debug(`[messaging] onMessage {id=${T.id}} ─ᐅ`,{err:k}),{err:aa(k)}})})),r[f]!=null){const T=Error(`[messaging] In this JS context, only one listener can be setup for ${f}`);throw(B=e.logger)==null||B.error(T),T}return r[f]=p,(w=e.logger)==null||w.log(`[messaging] Added listener for ${f}`),()=>{delete r[f],n()}},removeAllListeners(){Object.keys(r).forEach(f=>{delete r[f]}),n()}}}for(var Ke=256,Ki=[],$i=256,Tr;Ke--;)Ki[Ke]=(Ke+256).toString(16).substring(1);function ya(e){var t=0,r=11;if(!Tr||Ke+r>$i*2)for(Tr="",Ke=0;t<$i;t++)Tr+=Ki[Math.random()*256|0];return Tr.substring(Ke,Ke+++r)}var Hi="@webext-core/messaging/window",Zi="@webext-core/messaging/window/response";function wa(e){const t=e.namespace,r=ya();let n=[];const s=(f,p)=>new Promise(x=>{const B=T=>{T.data.type===Zi&&T.data.namespace===t&&T.data.instanceId!==r&&T.data.message.type===f.type&&(x(T.data.response),w())},w=()=>window.removeEventListener("message",B);n.push(w),window.addEventListener("message",B),window.postMessage({type:Hi,message:f,senderOrigin:location.origin,namespace:t,instanceId:r},p??"*")}),i=ga(Pi(ji({},e),{sendMessage(f,p){return s(f,p)},addRootListener(f){const p=x=>qi(this,null,function*(){if(x.data.type!==Hi||x.data.namespace!==t||x.data.instanceId===r)return;const B=yield f(x.data.message);window.postMessage({type:Zi,response:B,instanceId:r,message:x.data.message,namespace:t},x.data.senderOrigin)});return window.addEventListener("message",p),()=>window.removeEventListener("message",p)},verifyMessageData(f){return structuredClone(f)}}));return Pi(ji({},i),{removeAllListeners(){i.removeAllListeners(),n.forEach(f=>f()),n=[]}})}const $e=wa({namespace:"jupiter-wallet-v1.8.0-production"});class De{static#t=null;static init(){$e.onMessage("accountChanged",async({data:t})=>(this.#t?.(t),{}))}static connect(t){return $e.sendMessage("connect",t)}static disconnect(t){return $e.sendMessage("disconnect",t)}static signTransactions(t){return $e.sendMessage("signTransactions",t)}static signMessages(t){return $e.sendMessage("signMessages",t)}static signIn(t){return $e.sendMessage("signIn",t)}static getPhantomCompatSetting(t={}){return $e.sendMessage("getPhantomCompatSetting",t)}static registerAccountChangedListener(t){this.#t=t}}const Wi=["solana:mainnet","solana:devnet","solana:testnet","solana:localnet"],Yi="solana:signAndSendTransaction",ma="solana:signIn",Vi="solana:signMessage",vn="solana:signTransaction",Xe=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function In(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Mn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ie(e,...t){if(!In(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function xa(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Mn(e.outputLen),Mn(e.blockLen)}function Nr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ba(e,t){Ie(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Qe(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Bn(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Me(e,t){return e<<32-t|e>>>t}const Gi=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ea=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Je(e){if(Ie(e),Gi)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=Ea[e[r]];return t}const Te={_0:48,_9:57,A:65,F:70,a:97,f:102};function Xi(e){if(e>=Te._0&&e<=Te._9)return e-Te._0;if(e>=Te.A&&e<=Te.F)return e-(Te.A-10);if(e>=Te.a&&e<=Te.f)return e-(Te.a-10)}function An(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Gi)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const f=Xi(e.charCodeAt(i)),p=Xi(e.charCodeAt(i+1));if(f===void 0||p===void 0){const x=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+x+'" at index '+i)}n[s]=f*16+p}return n}function va(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Sn(e){return typeof e=="string"&&(e=va(e)),Ie(e),e}function Ne(...e){let t=0;for(let n=0;n<e.length;n++){const s=e[n];Ie(s),t+=s.length}const r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){const i=e[n];r.set(i,s),s+=i.length}return r}class Qi{}function Ji(e){const t=n=>e().update(Sn(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function to(e=32){if(Xe&&typeof Xe.getRandomValues=="function")return Xe.getRandomValues(new Uint8Array(e));if(Xe&&typeof Xe.randomBytes=="function")return Uint8Array.from(Xe.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Ia(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const s=BigInt(32),i=BigInt(4294967295),f=Number(r>>s&i),p=Number(r&i),x=n?4:0,B=n?0:4;e.setUint32(t+x,f,n),e.setUint32(t+B,p,n)}function Ma(e,t,r){return e&t^~e&r}function Ba(e,t,r){return e&t^e&r^t&r}class eo extends Qi{constructor(t,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Bn(this.buffer)}update(t){Nr(this),t=Sn(t),Ie(t);const{view:r,buffer:n,blockLen:s}=this,i=t.length;for(let f=0;f<i;){const p=Math.min(s-this.pos,i-f);if(p===s){const x=Bn(t);for(;s<=i-f;f+=s)this.process(x,f);continue}n.set(t.subarray(f,f+p),this.pos),this.pos+=p,f+=p,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Nr(this),ba(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:f}=this;r[f++]=128,Qe(this.buffer.subarray(f)),this.padOffset>s-f&&(this.process(n,0),f=0);for(let T=f;T<s;T++)r[T]=0;Ia(n,s-8,BigInt(this.length*8),i),this.process(n,0);const p=Bn(t),x=this.outputLen;if(x%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const B=x/4,w=this.get();if(B>w.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<B;T++)p.setUint32(4*T,w[T],i)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:f,pos:p}=this;return t.destroyed=f,t.finished=i,t.length=s,t.pos=p,s%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const Ce=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),re=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),kr=BigInt(2**32-1),ro=BigInt(32);function Aa(e,t=!1){return t?{h:Number(e&kr),l:Number(e>>ro&kr)}:{h:Number(e>>ro&kr)|0,l:Number(e&kr)|0}}function Sa(e,t=!1){const r=e.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:f,l:p}=Aa(e[i],t);[n[i],s[i]]=[f,p]}return[n,s]}const no=(e,t,r)=>e>>>r,io=(e,t,r)=>e<<32-r|t>>>r,tr=(e,t,r)=>e>>>r|t<<32-r,er=(e,t,r)=>e<<32-r|t>>>r,Rr=(e,t,r)=>e<<64-r|t>>>r-32,Lr=(e,t,r)=>e>>>r-32|t<<64-r;function ke(e,t,r,n){const s=(t>>>0)+(n>>>0);return{h:e+r+(s/4294967296|0)|0,l:s|0}}const _a=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Ta=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Na=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),ka=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0,Ra=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0),La=(e,t,r,n,s,i)=>t+r+n+s+i+(e/2**32|0)|0,Ua=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Oe=new Uint32Array(64);class Fa extends eo{constructor(t=32){super(64,t,8,!1),this.A=Ce[0]|0,this.B=Ce[1]|0,this.C=Ce[2]|0,this.D=Ce[3]|0,this.E=Ce[4]|0,this.F=Ce[5]|0,this.G=Ce[6]|0,this.H=Ce[7]|0}get(){const{A:t,B:r,C:n,D:s,E:i,F:f,G:p,H:x}=this;return[t,r,n,s,i,f,p,x]}set(t,r,n,s,i,f,p,x){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=f|0,this.G=p|0,this.H=x|0}process(t,r){for(let T=0;T<16;T++,r+=4)Oe[T]=t.getUint32(r,!1);for(let T=16;T<64;T++){const K=Oe[T-15],N=Oe[T-2],$=Me(K,7)^Me(K,18)^K>>>3,O=Me(N,17)^Me(N,19)^N>>>10;Oe[T]=O+Oe[T-7]+$+Oe[T-16]|0}let{A:n,B:s,C:i,D:f,E:p,F:x,G:B,H:w}=this;for(let T=0;T<64;T++){const K=Me(p,6)^Me(p,11)^Me(p,25),N=w+K+Ma(p,x,B)+Ua[T]+Oe[T]|0,O=(Me(n,2)^Me(n,13)^Me(n,22))+Ba(n,s,i)|0;w=B,B=x,x=p,p=f+N|0,f=i,i=s,s=n,n=N+O|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,f=f+this.D|0,p=p+this.E|0,x=x+this.F|0,B=B+this.G|0,w=w+this.H|0,this.set(n,s,i,f,p,x,B,w)}roundClean(){Qe(Oe)}destroy(){this.set(0,0,0,0,0,0,0,0),Qe(this.buffer)}}const oo=Sa(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Da=oo[0],Ca=oo[1],ze=new Uint32Array(80),je=new Uint32Array(80);class Oa extends eo{constructor(t=64){super(128,t,16,!1),this.Ah=re[0]|0,this.Al=re[1]|0,this.Bh=re[2]|0,this.Bl=re[3]|0,this.Ch=re[4]|0,this.Cl=re[5]|0,this.Dh=re[6]|0,this.Dl=re[7]|0,this.Eh=re[8]|0,this.El=re[9]|0,this.Fh=re[10]|0,this.Fl=re[11]|0,this.Gh=re[12]|0,this.Gl=re[13]|0,this.Hh=re[14]|0,this.Hl=re[15]|0}get(){const{Ah:t,Al:r,Bh:n,Bl:s,Ch:i,Cl:f,Dh:p,Dl:x,Eh:B,El:w,Fh:T,Fl:K,Gh:N,Gl:$,Hh:O,Hl:k}=this;return[t,r,n,s,i,f,p,x,B,w,T,K,N,$,O,k]}set(t,r,n,s,i,f,p,x,B,w,T,K,N,$,O,k){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=f|0,this.Dh=p|0,this.Dl=x|0,this.Eh=B|0,this.El=w|0,this.Fh=T|0,this.Fl=K|0,this.Gh=N|0,this.Gl=$|0,this.Hh=O|0,this.Hl=k|0}process(t,r){for(let X=0;X<16;X++,r+=4)ze[X]=t.getUint32(r),je[X]=t.getUint32(r+=4);for(let X=16;X<80;X++){const nt=ze[X-15]|0,V=je[X-15]|0,tt=tr(nt,V,1)^tr(nt,V,8)^no(nt,V,7),st=er(nt,V,1)^er(nt,V,8)^io(nt,V,7),et=ze[X-2]|0,F=je[X-2]|0,U=tr(et,F,19)^Rr(et,F,61)^no(et,F,6),D=er(et,F,19)^Lr(et,F,61)^io(et,F,6),j=Na(st,D,je[X-7],je[X-16]),v=ka(j,tt,U,ze[X-7],ze[X-16]);ze[X]=v|0,je[X]=j|0}let{Ah:n,Al:s,Bh:i,Bl:f,Ch:p,Cl:x,Dh:B,Dl:w,Eh:T,El:K,Fh:N,Fl:$,Gh:O,Gl:k,Hh:Y,Hl:G}=this;for(let X=0;X<80;X++){const nt=tr(T,K,14)^tr(T,K,18)^Rr(T,K,41),V=er(T,K,14)^er(T,K,18)^Lr(T,K,41),tt=T&N^~T&O,st=K&$^~K&k,et=Ra(G,V,st,Ca[X],je[X]),F=La(et,Y,nt,tt,Da[X],ze[X]),U=et|0,D=tr(n,s,28)^Rr(n,s,34)^Rr(n,s,39),j=er(n,s,28)^Lr(n,s,34)^Lr(n,s,39),v=n&i^n&p^i&p,a=s&f^s&x^f&x;Y=O|0,G=k|0,O=N|0,k=$|0,N=T|0,$=K|0,{h:T,l:K}=ke(B|0,w|0,F|0,U|0),B=p|0,w=x|0,p=i|0,x=f|0,i=n|0,f=s|0;const y=_a(U,j,a);n=Ta(y,F,D,v),s=y|0}({h:n,l:s}=ke(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:f}=ke(this.Bh|0,this.Bl|0,i|0,f|0),{h:p,l:x}=ke(this.Ch|0,this.Cl|0,p|0,x|0),{h:B,l:w}=ke(this.Dh|0,this.Dl|0,B|0,w|0),{h:T,l:K}=ke(this.Eh|0,this.El|0,T|0,K|0),{h:N,l:$}=ke(this.Fh|0,this.Fl|0,N|0,$|0),{h:O,l:k}=ke(this.Gh|0,this.Gl|0,O|0,k|0),{h:Y,l:G}=ke(this.Hh|0,this.Hl|0,Y|0,G|0),this.set(n,s,i,f,p,x,B,w,T,K,N,$,O,k,Y,G)}roundClean(){Qe(ze,je)}destroy(){Qe(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const so=Ji(()=>new Fa),za=Ji(()=>new Oa);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _n=BigInt(0),Tn=BigInt(1);function He(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Ur(e){const t=e.toString(16);return t.length&1?"0"+t:t}function ao(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?_n:BigInt("0x"+e)}function Fr(e){return ao(Je(e))}function gr(e){return Ie(e),ao(Je(Uint8Array.from(e).reverse()))}function Nn(e,t){return An(e.toString(16).padStart(t*2,"0"))}function Dr(e,t){return Nn(e,t).reverse()}function Ft(e,t,r){let n;if(typeof t=="string")try{n=An(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(In(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}const kn=e=>typeof e=="bigint"&&_n<=e;function ja(e,t,r){return kn(e)&&kn(t)&&kn(r)&&t<=e&&e<r}function rr(e,t,r,n){if(!ja(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Pa(e){let t;for(t=0;e>_n;e>>=Tn,t+=1);return t}const Cr=e=>(Tn<<BigInt(e))-Tn;function qa(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=N=>new Uint8Array(N),s=N=>Uint8Array.of(N);let i=n(e),f=n(e),p=0;const x=()=>{i.fill(1),f.fill(0),p=0},B=(...N)=>r(f,i,...N),w=(N=n(0))=>{f=B(s(0),N),i=B(),N.length!==0&&(f=B(s(1),N),i=B())},T=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let N=0;const $=[];for(;N<t;){i=B();const O=i.slice();$.push(O),N+=i.length}return Ne(...$)};return(N,$)=>{x(),w(N);let O;for(;!(O=$(T()));)w();return x(),O}}function yr(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(s,i,f){const p=e[s];if(f&&p===void 0)return;const x=typeof p;if(x!==i||p===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${x}`)}Object.entries(t).forEach(([s,i])=>n(s,i,!1)),Object.entries(r).forEach(([s,i])=>n(s,i,!0))}function Or(e){const t=new WeakMap;return(r,...n)=>{const s=t.get(r);if(s!==void 0)return s;const i=e(r,...n);return t.set(r,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const de=BigInt(0),te=BigInt(1),Ze=BigInt(2),Ka=BigInt(3),uo=BigInt(4),co=BigInt(5),fo=BigInt(8);function Dt(e,t){const r=e%t;return r>=de?r:t+r}function Rt(e,t,r){let n=e;for(;t-- >de;)n*=n,n%=r;return n}function ho(e,t){if(e===de)throw new Error("invert: expected non-zero number");if(t<=de)throw new Error("invert: expected positive modulus, got "+t);let r=Dt(e,t),n=t,s=de,i=te;for(;r!==de;){const p=n/r,x=n%r,B=s-i*p;n=r,r=x,s=i,i=B}if(n!==te)throw new Error("invert: does not exist");return Dt(s,t)}function lo(e,t){const r=(e.ORDER+te)/uo,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function $a(e,t){const r=(e.ORDER-co)/fo,n=e.mul(t,Ze),s=e.pow(n,r),i=e.mul(t,s),f=e.mul(e.mul(i,Ze),s),p=e.mul(i,e.sub(f,e.ONE));if(!e.eql(e.sqr(p),t))throw new Error("Cannot find square root");return p}function Ha(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-te,r=0;for(;t%Ze===de;)t/=Ze,r++;let n=Ze;const s=nr(e);for(;go(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return lo;let i=s.pow(n,t);const f=(t+te)/Ze;return function(x,B){if(x.is0(B))return B;if(go(x,B)!==1)throw new Error("Cannot find square root");let w=r,T=x.mul(x.ONE,i),K=x.pow(B,t),N=x.pow(B,f);for(;!x.eql(K,x.ONE);){if(x.is0(K))return x.ZERO;let $=1,O=x.sqr(K);for(;!x.eql(O,x.ONE);)if($++,O=x.sqr(O),$===w)throw new Error("Cannot find square root");const k=te<<BigInt(w-$-1),Y=x.pow(T,k);w=$,T=x.sqr(Y),K=x.mul(K,T),N=x.mul(N,Y)}return N}}function Za(e){return e%uo===Ka?lo:e%fo===co?$a:Ha(e)}const Wa=(e,t)=>(Dt(e,t)&te)===te,Ya=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Va(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Ya.reduce((n,s)=>(n[s]="function",n),t);return yr(e,r),e}function Ga(e,t,r){if(r<de)throw new Error("invalid exponent, negatives unsupported");if(r===de)return e.ONE;if(r===te)return t;let n=e.ONE,s=t;for(;r>de;)r&te&&(n=e.mul(n,s)),s=e.sqr(s),r>>=te;return n}function po(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),s=t.reduce((f,p,x)=>e.is0(p)?f:(n[x]=f,e.mul(f,p)),e.ONE),i=e.inv(s);return t.reduceRight((f,p,x)=>e.is0(p)?f:(n[x]=e.mul(f,n[x]),e.mul(f,p)),i),n}function go(e,t){const r=(e.ORDER-te)/Ze,n=e.pow(t,r),s=e.eql(n,e.ONE),i=e.eql(n,e.ZERO),f=e.eql(n,e.neg(e.ONE));if(!s&&!i&&!f)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Xa(e,t){t!==void 0&&Mn(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function nr(e,t,r=!1,n={}){if(e<=de)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const w=t;w.BITS&&(s=w.BITS),w.sqrt&&(i=w.sqrt),typeof w.isLE=="boolean"&&(r=w.isLE)}else typeof t=="number"&&(s=t),n.sqrt&&(i=n.sqrt);const{nBitLength:f,nByteLength:p}=Xa(e,s);if(p>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let x;const B=Object.freeze({ORDER:e,isLE:r,BITS:f,BYTES:p,MASK:Cr(f),ZERO:de,ONE:te,create:w=>Dt(w,e),isValid:w=>{if(typeof w!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof w);return de<=w&&w<e},is0:w=>w===de,isValidNot0:w=>!B.is0(w)&&B.isValid(w),isOdd:w=>(w&te)===te,neg:w=>Dt(-w,e),eql:(w,T)=>w===T,sqr:w=>Dt(w*w,e),add:(w,T)=>Dt(w+T,e),sub:(w,T)=>Dt(w-T,e),mul:(w,T)=>Dt(w*T,e),pow:(w,T)=>Ga(B,w,T),div:(w,T)=>Dt(w*ho(T,e),e),sqrN:w=>w*w,addN:(w,T)=>w+T,subN:(w,T)=>w-T,mulN:(w,T)=>w*T,inv:w=>ho(w,e),sqrt:i||(w=>(x||(x=Za(e)),x(B,w))),toBytes:w=>r?Dr(w,p):Nn(w,p),fromBytes:w=>{if(w.length!==p)throw new Error("Field.fromBytes: expected "+p+" bytes, got "+w.length);return r?gr(w):Fr(w)},invertBatch:w=>po(B,w),cmov:(w,T,K)=>K?T:w});return Object.freeze(B)}function yo(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function wo(e){const t=yo(e);return t+Math.ceil(t/2)}function Qa(e,t,r=!1){const n=e.length,s=yo(t),i=wo(t);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const f=r?gr(e):Fr(e),p=Dt(f,t-te)+te;return r?Dr(p,s):Nn(p,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ir=BigInt(0),We=BigInt(1);function wr(e,t){const r=t.negate();return e?r:t}function mo(e,t,r){const n=t==="pz"?f=>f.pz:f=>f.ez,s=po(e.Fp,r.map(n));return r.map((f,p)=>f.toAffine(s[p])).map(e.fromAffine)}function xo(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Rn(e,t){xo(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),s=2**e,i=Cr(e),f=BigInt(e);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:f}}function bo(e,t,r){const{windowSize:n,mask:s,maxNumber:i,shiftBy:f}=r;let p=Number(e&s),x=e>>f;p>n&&(p-=i,x+=We);const B=t*n,w=B+Math.abs(p)-1,T=p===0,K=p<0,N=t%2!==0;return{nextN:x,offset:w,isZero:T,isNeg:K,isNegF:N,offsetF:B}}function Ja(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function tu(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const Ln=new WeakMap,Eo=new WeakMap;function Un(e){return Eo.get(e)||1}function vo(e){if(e!==ir)throw new Error("invalid wNAF")}function Io(e,t){return{constTimeNegate:wr,hasPrecomputes(r){return Un(r)!==1},unsafeLadder(r,n,s=e.ZERO){let i=r;for(;n>ir;)n&We&&(s=s.add(i)),i=i.double(),n>>=We;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=Rn(n,t),f=[];let p=r,x=p;for(let B=0;B<s;B++){x=p,f.push(x);for(let w=1;w<i;w++)x=x.add(p),f.push(x);p=x.double()}return f},wNAF(r,n,s){let i=e.ZERO,f=e.BASE;const p=Rn(r,t);for(let x=0;x<p.windows;x++){const{nextN:B,offset:w,isZero:T,isNeg:K,isNegF:N,offsetF:$}=bo(s,x,p);s=B,T?f=f.add(wr(N,n[$])):i=i.add(wr(K,n[w]))}return vo(s),{p:i,f}},wNAFUnsafe(r,n,s,i=e.ZERO){const f=Rn(r,t);for(let p=0;p<f.windows&&s!==ir;p++){const{nextN:x,offset:B,isZero:w,isNeg:T}=bo(s,p,f);if(s=x,!w){const K=n[B];i=i.add(T?K.negate():K)}}return vo(s),i},getPrecomputes(r,n,s){let i=Ln.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&(typeof s=="function"&&(i=s(i)),Ln.set(n,i))),i},wNAFCached(r,n,s){const i=Un(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const f=Un(r);return f===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(f,this.getPrecomputes(f,r,s),n,i)},setWindowSize(r,n){xo(n,t),Eo.set(r,n),Ln.delete(r)}}}function eu(e,t,r,n){let s=t,i=e.ZERO,f=e.ZERO;for(;r>ir||n>ir;)r&We&&(i=i.add(s)),n&We&&(f=f.add(s)),s=s.double(),r>>=We,n>>=We;return{p1:i,p2:f}}function Mo(e,t,r,n){Ja(r,e),tu(n,t);const s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const f=e.ZERO,p=Pa(BigInt(s));let x=1;p>12?x=p-3:p>4?x=p-2:p>0&&(x=2);const B=Cr(x),w=new Array(Number(B)+1).fill(f),T=Math.floor((t.BITS-1)/x)*x;let K=f;for(let N=T;N>=0;N-=x){w.fill(f);for(let O=0;O<i;O++){const k=n[O],Y=Number(k>>BigInt(N)&B);w[Y]=w[Y].add(r[O])}let $=f;for(let O=w.length-1,k=f;O>0;O--)k=k.add(w[O]),$=$.add(k);if(K=K.add($),N!==0)for(let O=0;O<x;O++)K=K.double()}return K}function Bo(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Va(t),t}else return nr(e)}function Ao(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const p of["p","n","h"]){const x=t[p];if(!(typeof x=="bigint"&&x>ir))throw new Error(`CURVE.${p} must be positive bigint`)}const n=Bo(t.p,r.Fp),s=Bo(t.n,r.Fn),f=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const p of f)if(!n.isValid(t[p]))throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Be=BigInt(0),ae=BigInt(1),Fn=BigInt(2),ru=BigInt(8),nu={zip215:!0};function iu(e,t,r,n){const s=e.sqr(r),i=e.sqr(n),f=e.add(e.mul(t.a,s),i),p=e.add(e.ONE,e.mul(t.d,e.mul(s,i)));return e.eql(f,p)}function ou(e,t={}){const{Fp:r,Fn:n}=Ao("edwards",e,t),{h:s,n:i}=e;yr(t,{},{uvRatio:"function"});const f=Fn<<BigInt(n.BYTES*8)-ae,p=O=>r.create(O),x=t.uvRatio||((O,k)=>{try{return{isValid:!0,value:r.sqrt(r.div(O,k))}}catch{return{isValid:!1,value:Be}}});if(!iu(r,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function B(O,k,Y=!1){const G=Y?ae:Be;return rr("coordinate "+O,k,G,f),k}function w(O){if(!(O instanceof N))throw new Error("ExtendedPoint expected")}const T=Or((O,k)=>{const{ex:Y,ey:G,ez:X}=O,nt=O.is0();k==null&&(k=nt?ru:r.inv(X));const V=p(Y*k),tt=p(G*k),st=p(X*k);if(nt)return{x:Be,y:ae};if(st!==ae)throw new Error("invZ was invalid");return{x:V,y:tt}}),K=Or(O=>{const{a:k,d:Y}=e;if(O.is0())throw new Error("bad point: ZERO");const{ex:G,ey:X,ez:nt,et:V}=O,tt=p(G*G),st=p(X*X),et=p(nt*nt),F=p(et*et),U=p(tt*k),D=p(et*p(U+st)),j=p(F+p(Y*p(tt*st)));if(D!==j)throw new Error("bad point: equation left != right (1)");const v=p(G*X),a=p(nt*V);if(v!==a)throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(k,Y,G,X){this.ex=B("x",k),this.ey=B("y",Y),this.ez=B("z",G,!0),this.et=B("t",X),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof N)throw new Error("extended point not allowed");const{x:Y,y:G}=k||{};return B("x",Y),B("y",G),new N(Y,G,ae,p(Y*G))}static normalizeZ(k){return mo(N,"ez",k)}static msm(k,Y){return Mo(N,n,k,Y)}_setWindowSize(k){this.precompute(k)}precompute(k=8,Y=!0){return $.setWindowSize(this,k),Y||this.multiply(Fn),this}assertValidity(){K(this)}equals(k){w(k);const{ex:Y,ey:G,ez:X}=this,{ex:nt,ey:V,ez:tt}=k,st=p(Y*tt),et=p(nt*X),F=p(G*tt),U=p(V*X);return st===et&&F===U}is0(){return this.equals(N.ZERO)}negate(){return new N(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:k}=e,{ex:Y,ey:G,ez:X}=this,nt=p(Y*Y),V=p(G*G),tt=p(Fn*p(X*X)),st=p(k*nt),et=Y+G,F=p(p(et*et)-nt-V),U=st+V,D=U-tt,j=st-V,v=p(F*D),a=p(U*j),y=p(F*j),b=p(D*U);return new N(v,a,b,y)}add(k){w(k);const{a:Y,d:G}=e,{ex:X,ey:nt,ez:V,et:tt}=this,{ex:st,ey:et,ez:F,et:U}=k,D=p(X*st),j=p(nt*et),v=p(tt*G*U),a=p(V*F),y=p((X+nt)*(st+et)-D-j),b=a-v,A=a+v,S=p(j-Y*D),C=p(y*b),z=p(A*S),M=p(y*S),c=p(b*A);return new N(C,z,c,M)}subtract(k){return this.add(k.negate())}multiply(k){const Y=k;rr("scalar",Y,ae,i);const{p:G,f:X}=$.wNAFCached(this,Y,N.normalizeZ);return N.normalizeZ([G,X])[0]}multiplyUnsafe(k,Y=N.ZERO){const G=k;return rr("scalar",G,Be,i),G===Be?N.ZERO:this.is0()||G===ae?this:$.wNAFCachedUnsafe(this,G,N.normalizeZ,Y)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return $.wNAFCachedUnsafe(this,i).is0()}toAffine(k){return T(this,k)}clearCofactor(){return s===ae?this:this.multiplyUnsafe(s)}static fromBytes(k,Y=!1){return Ie(k),this.fromHex(k,Y)}static fromHex(k,Y=!1){const{d:G,a:X}=e,nt=r.BYTES;k=Ft("pointHex",k,nt),He("zip215",Y);const V=k.slice(),tt=k[nt-1];V[nt-1]=tt&-129;const st=gr(V),et=Y?f:r.ORDER;rr("pointHex.y",st,Be,et);const F=p(st*st),U=p(F-ae),D=p(G*F-X);let{isValid:j,value:v}=x(U,D);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const a=(v&ae)===ae,y=(tt&128)!==0;if(!Y&&v===Be&&y)throw new Error("Point.fromHex: x=0 and x_0=1");return y!==a&&(v=p(-v)),N.fromAffine({x:v,y:st})}static fromPrivateScalar(k){return N.BASE.multiply(k)}toBytes(){const{x:k,y:Y}=this.toAffine(),G=Dr(Y,r.BYTES);return G[G.length-1]|=k&ae?128:0,G}toRawBytes(){return this.toBytes()}toHex(){return Je(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}N.BASE=new N(e.Gx,e.Gy,ae,p(e.Gx*e.Gy)),N.ZERO=new N(Be,ae,ae,Be),N.Fp=r,N.Fn=n;const $=Io(N,n.BYTES*8);return N}function su(e,t){yr(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r,hash:n}=t,{BASE:s,Fp:i,Fn:f}=e,p=f.ORDER,x=t.randomBytes||to,B=t.adjustScalarBytes||(V=>V),w=t.domain||((V,tt,st)=>{if(He("phflag",st),tt.length||st)throw new Error("Contexts/pre-hash are not supported");return V});function T(V){return f.create(V)}function K(V){return T(gr(V))}function N(V){const tt=i.BYTES;V=Ft("private key",V,tt);const st=Ft("hashed private key",n(V),2*tt),et=B(st.slice(0,tt)),F=st.slice(tt,2*tt),U=K(et);return{head:et,prefix:F,scalar:U}}function $(V){const{head:tt,prefix:st,scalar:et}=N(V),F=s.multiply(et),U=F.toBytes();return{head:tt,prefix:st,scalar:et,point:F,pointBytes:U}}function O(V){return $(V).pointBytes}function k(V=Uint8Array.of(),...tt){const st=Ne(...tt);return K(n(w(st,Ft("context",V),!!r)))}function Y(V,tt,st={}){V=Ft("message",V),r&&(V=r(V));const{prefix:et,scalar:F,pointBytes:U}=$(tt),D=k(st.context,et,V),j=s.multiply(D).toBytes(),v=k(st.context,j,U,V),a=T(D+v*F);rr("signature.s",a,Be,p);const y=i.BYTES,b=Ne(j,Dr(a,y));return Ft("result",b,y*2)}const G=nu;function X(V,tt,st,et=G){const{context:F,zip215:U}=et,D=i.BYTES;V=Ft("signature",V,2*D),tt=Ft("message",tt),st=Ft("publicKey",st,D),U!==void 0&&He("zip215",U),r&&(tt=r(tt));const j=gr(V.slice(D,2*D));let v,a,y;try{v=e.fromHex(st,U),a=e.fromHex(V.slice(0,D),U),y=s.multiplyUnsafe(j)}catch{return!1}if(!U&&v.isSmallOrder())return!1;const b=k(F,a.toBytes(),v.toBytes(),tt);return a.add(v.multiplyUnsafe(b)).subtract(y).clearCofactor().is0()}return s.precompute(8),{getPublicKey:O,sign:Y,verify:X,utils:{getExtendedPublicKey:$,randomPrivateKey:()=>x(i.BYTES),precompute(V=8,tt=e.BASE){return tt.precompute(V,!1)}},Point:e}}function au(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=nr(t.n,e.nBitLength,!0),s={Fp:r,Fn:n,uvRatio:e.uvRatio},i={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:s,eddsaOpts:i}}function uu(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function cu(e){const{CURVE:t,curveOpts:r,eddsaOpts:n}=au(e),s=ou(t,r),i=su(s,n);return uu(e,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const fu=BigInt(1),So=BigInt(2);BigInt(3);const hu=BigInt(5),lu=BigInt(8),zr={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:lu,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function du(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=zr.p,p=e*e%i*e%i,x=Rt(p,So,i)*p%i,B=Rt(x,fu,i)*e%i,w=Rt(B,hu,i)*B%i,T=Rt(w,t,i)*w%i,K=Rt(T,r,i)*T%i,N=Rt(K,n,i)*K%i,$=Rt(N,s,i)*N%i,O=Rt($,s,i)*N%i,k=Rt(O,t,i)*w%i;return{pow_p_5_8:Rt(k,So,i)*e%i,b2:p}}function pu(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const _o=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function gu(e,t){const r=zr.p,n=Dt(t*t*t,r),s=Dt(n*n*t,r),i=du(e*s).pow_p_5_8;let f=Dt(e*n*i,r);const p=Dt(t*f*f,r),x=f,B=Dt(f*_o,r),w=p===e,T=p===Dt(-e,r),K=p===Dt(-e*_o,r);return w&&(f=x),(T||K)&&(f=B),Wa(f,r)&&(f=Dt(-f,r)),{isValid:w||T,value:f}}const yu=nr(zr.p,void 0,!0),wu={...zr,Fp:yu,hash:za,adjustScalarBytes:pu,uvRatio:gu},mr=cu(wu);function To(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dn(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Cn={exports:{}},No;function mu(){return No||(No=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(x,B,w){this.fn=x,this.context=B,this.once=w||!1}function i(x,B,w,T,K){if(typeof w!="function")throw new TypeError("The listener must be a function");var N=new s(w,T||x,K),$=r?r+B:B;return x._events[$]?x._events[$].fn?x._events[$]=[x._events[$],N]:x._events[$].push(N):(x._events[$]=N,x._eventsCount++),x}function f(x,B){--x._eventsCount===0?x._events=new n:delete x._events[B]}function p(){this._events=new n,this._eventsCount=0}p.prototype.eventNames=function(){var B=[],w,T;if(this._eventsCount===0)return B;for(T in w=this._events)t.call(w,T)&&B.push(r?T.slice(1):T);return Object.getOwnPropertySymbols?B.concat(Object.getOwnPropertySymbols(w)):B},p.prototype.listeners=function(B){var w=r?r+B:B,T=this._events[w];if(!T)return[];if(T.fn)return[T.fn];for(var K=0,N=T.length,$=new Array(N);K<N;K++)$[K]=T[K].fn;return $},p.prototype.listenerCount=function(B){var w=r?r+B:B,T=this._events[w];return T?T.fn?1:T.length:0},p.prototype.emit=function(B,w,T,K,N,$){var O=r?r+B:B;if(!this._events[O])return!1;var k=this._events[O],Y=arguments.length,G,X;if(k.fn){switch(k.once&&this.removeListener(B,k.fn,void 0,!0),Y){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,w),!0;case 3:return k.fn.call(k.context,w,T),!0;case 4:return k.fn.call(k.context,w,T,K),!0;case 5:return k.fn.call(k.context,w,T,K,N),!0;case 6:return k.fn.call(k.context,w,T,K,N,$),!0}for(X=1,G=new Array(Y-1);X<Y;X++)G[X-1]=arguments[X];k.fn.apply(k.context,G)}else{var nt=k.length,V;for(X=0;X<nt;X++)switch(k[X].once&&this.removeListener(B,k[X].fn,void 0,!0),Y){case 1:k[X].fn.call(k[X].context);break;case 2:k[X].fn.call(k[X].context,w);break;case 3:k[X].fn.call(k[X].context,w,T);break;case 4:k[X].fn.call(k[X].context,w,T,K);break;default:if(!G)for(V=1,G=new Array(Y-1);V<Y;V++)G[V-1]=arguments[V];k[X].fn.apply(k[X].context,G)}}return!0},p.prototype.on=function(B,w,T){return i(this,B,w,T,!1)},p.prototype.once=function(B,w,T){return i(this,B,w,T,!0)},p.prototype.removeListener=function(B,w,T,K){var N=r?r+B:B;if(!this._events[N])return this;if(!w)return f(this,N),this;var $=this._events[N];if($.fn)$.fn===w&&(!K||$.once)&&(!T||$.context===T)&&f(this,N);else{for(var O=0,k=[],Y=$.length;O<Y;O++)($[O].fn!==w||K&&!$[O].once||T&&$[O].context!==T)&&k.push($[O]);k.length?this._events[N]=k.length===1?k[0]:k:f(this,N)}return this},p.prototype.removeAllListeners=function(B){var w;return B?(w=r?r+B:B,this._events[w]&&f(this,w)):(this._events=new n,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=r,p.EventEmitter=p,e.exports=p}(Cn)),Cn.exports}mu();const ko="standard:connect",xu="standard:disconnect",bu="standard:events";var On={},xr={},Ro;function Eu(){if(Ro)return xr;Ro=1,xr.byteLength=p,xr.toByteArray=B,xr.fromByteArray=K;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)e[s]=n[s],t[n.charCodeAt(s)]=s;t[45]=62,t[95]=63;function f(N){var $=N.length;if($%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=N.indexOf("=");O===-1&&(O=$);var k=O===$?0:4-O%4;return[O,k]}function p(N){var $=f(N),O=$[0],k=$[1];return(O+k)*3/4-k}function x(N,$,O){return($+O)*3/4-O}function B(N){var $,O=f(N),k=O[0],Y=O[1],G=new r(x(N,k,Y)),X=0,nt=Y>0?k-4:k,V;for(V=0;V<nt;V+=4)$=t[N.charCodeAt(V)]<<18|t[N.charCodeAt(V+1)]<<12|t[N.charCodeAt(V+2)]<<6|t[N.charCodeAt(V+3)],G[X++]=$>>16&255,G[X++]=$>>8&255,G[X++]=$&255;return Y===2&&($=t[N.charCodeAt(V)]<<2|t[N.charCodeAt(V+1)]>>4,G[X++]=$&255),Y===1&&($=t[N.charCodeAt(V)]<<10|t[N.charCodeAt(V+1)]<<4|t[N.charCodeAt(V+2)]>>2,G[X++]=$>>8&255,G[X++]=$&255),G}function w(N){return e[N>>18&63]+e[N>>12&63]+e[N>>6&63]+e[N&63]}function T(N,$,O){for(var k,Y=[],G=$;G<O;G+=3)k=(N[G]<<16&16711680)+(N[G+1]<<8&65280)+(N[G+2]&255),Y.push(w(k));return Y.join("")}function K(N){for(var $,O=N.length,k=O%3,Y=[],G=16383,X=0,nt=O-k;X<nt;X+=G)Y.push(T(N,X,X+G>nt?nt:X+G));return k===1?($=N[O-1],Y.push(e[$>>2]+e[$<<4&63]+"==")):k===2&&($=(N[O-2]<<8)+N[O-1],Y.push(e[$>>10]+e[$>>4&63]+e[$<<2&63]+"=")),Y.join("")}return xr}var jr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Lo;function vu(){return Lo||(Lo=1,jr.read=function(e,t,r,n,s){var i,f,p=s*8-n-1,x=(1<<p)-1,B=x>>1,w=-7,T=r?s-1:0,K=r?-1:1,N=e[t+T];for(T+=K,i=N&(1<<-w)-1,N>>=-w,w+=p;w>0;i=i*256+e[t+T],T+=K,w-=8);for(f=i&(1<<-w)-1,i>>=-w,w+=n;w>0;f=f*256+e[t+T],T+=K,w-=8);if(i===0)i=1-B;else{if(i===x)return f?NaN:(N?-1:1)*(1/0);f=f+Math.pow(2,n),i=i-B}return(N?-1:1)*f*Math.pow(2,i-n)},jr.write=function(e,t,r,n,s,i){var f,p,x,B=i*8-s-1,w=(1<<B)-1,T=w>>1,K=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=n?0:i-1,$=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(p=isNaN(t)?1:0,f=w):(f=Math.floor(Math.log(t)/Math.LN2),t*(x=Math.pow(2,-f))<1&&(f--,x*=2),f+T>=1?t+=K/x:t+=K*Math.pow(2,1-T),t*x>=2&&(f++,x/=2),f+T>=w?(p=0,f=w):f+T>=1?(p=(t*x-1)*Math.pow(2,s),f=f+T):(p=t*Math.pow(2,T-1)*Math.pow(2,s),f=0));s>=8;e[r+N]=p&255,N+=$,p/=256,s-=8);for(f=f<<s|p,B+=s;B>0;e[r+N]=f&255,N+=$,f/=256,B-=8);e[r+N-$]|=O*128}),jr}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Uo;function zn(){return Uo||(Uo=1,function(e){const t=Eu(),r=vu(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=p,e.SlowBuffer=G,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,p.TYPED_ARRAY_SUPPORT=i(),!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const E=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(E,d),E.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function f(E){if(E>s)throw new RangeError('The value "'+E+'" is invalid for option "size"');const d=new Uint8Array(E);return Object.setPrototypeOf(d,p.prototype),d}function p(E,d,g){if(typeof E=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(E)}return x(E,d,g)}p.poolSize=8192;function x(E,d,g){if(typeof E=="string")return K(E,d);if(ArrayBuffer.isView(E))return $(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(le(E,ArrayBuffer)||E&&le(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(le(E,SharedArrayBuffer)||E&&le(E.buffer,SharedArrayBuffer)))return O(E,d,g);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const h=E.valueOf&&E.valueOf();if(h!=null&&h!==E)return p.from(h,d,g);const o=k(E);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return p.from(E[Symbol.toPrimitive]("string"),d,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}p.from=function(E,d,g){return x(E,d,g)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array);function B(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function w(E,d,g){return B(E),E<=0?f(E):d!==void 0?typeof g=="string"?f(E).fill(d,g):f(E).fill(d):f(E)}p.alloc=function(E,d,g){return w(E,d,g)};function T(E){return B(E),f(E<0?0:Y(E)|0)}p.allocUnsafe=function(E){return T(E)},p.allocUnsafeSlow=function(E){return T(E)};function K(E,d){if((typeof d!="string"||d==="")&&(d="utf8"),!p.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const g=X(E,d)|0;let h=f(g);const o=h.write(E,d);return o!==g&&(h=h.slice(0,o)),h}function N(E){const d=E.length<0?0:Y(E.length)|0,g=f(d);for(let h=0;h<d;h+=1)g[h]=E[h]&255;return g}function $(E){if(le(E,Uint8Array)){const d=new Uint8Array(E);return O(d.buffer,d.byteOffset,d.byteLength)}return N(E)}function O(E,d,g){if(d<0||E.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<d+(g||0))throw new RangeError('"length" is outside of buffer bounds');let h;return d===void 0&&g===void 0?h=new Uint8Array(E):g===void 0?h=new Uint8Array(E,d):h=new Uint8Array(E,d,g),Object.setPrototypeOf(h,p.prototype),h}function k(E){if(p.isBuffer(E)){const d=Y(E.length)|0,g=f(d);return g.length===0||E.copy(g,0,0,d),g}if(E.length!==void 0)return typeof E.length!="number"||Mt(E.length)?f(0):N(E);if(E.type==="Buffer"&&Array.isArray(E.data))return N(E.data)}function Y(E){if(E>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return E|0}function G(E){return+E!=E&&(E=0),p.alloc(+E)}p.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==p.prototype},p.compare=function(d,g){if(le(d,Uint8Array)&&(d=p.from(d,d.offset,d.byteLength)),le(g,Uint8Array)&&(g=p.from(g,g.offset,g.byteLength)),!p.isBuffer(d)||!p.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===g)return 0;let h=d.length,o=g.length;for(let u=0,m=Math.min(h,o);u<m;++u)if(d[u]!==g[u]){h=d[u],o=g[u];break}return h<o?-1:o<h?1:0},p.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(d,g){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return p.alloc(0);let h;if(g===void 0)for(g=0,h=0;h<d.length;++h)g+=d[h].length;const o=p.allocUnsafe(g);let u=0;for(h=0;h<d.length;++h){let m=d[h];if(le(m,Uint8Array))u+m.length>o.length?(p.isBuffer(m)||(m=p.from(m)),m.copy(o,u)):Uint8Array.prototype.set.call(o,m,u);else if(p.isBuffer(m))m.copy(o,u);else throw new TypeError('"list" argument must be an Array of Buffers');u+=m.length}return o};function X(E,d){if(p.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||le(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const g=E.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&g===0)return 0;let o=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return mt(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return vt(E).length;default:if(o)return h?-1:mt(E).length;d=(""+d).toLowerCase(),o=!0}}p.byteLength=X;function nt(E,d,g){let h=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,d>>>=0,g<=d))return"";for(E||(E="utf8");;)switch(E){case"hex":return C(this,d,g);case"utf8":case"utf-8":return a(this,d,g);case"ascii":return A(this,d,g);case"latin1":case"binary":return S(this,d,g);case"base64":return v(this,d,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,d,g);default:if(h)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),h=!0}}p.prototype._isBuffer=!0;function V(E,d,g){const h=E[d];E[d]=E[g],E[g]=h}p.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<d;g+=2)V(this,g,g+1);return this},p.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<d;g+=4)V(this,g,g+3),V(this,g+1,g+2);return this},p.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<d;g+=8)V(this,g,g+7),V(this,g+1,g+6),V(this,g+2,g+5),V(this,g+3,g+4);return this},p.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?a(this,0,d):nt.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(d){if(!p.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:p.compare(this,d)===0},p.prototype.inspect=function(){let d="";const g=e.INSPECT_MAX_BYTES;return d=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(d+=" ... "),"<Buffer "+d+">"},n&&(p.prototype[n]=p.prototype.inspect),p.prototype.compare=function(d,g,h,o,u){if(le(d,Uint8Array)&&(d=p.from(d,d.offset,d.byteLength)),!p.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(g===void 0&&(g=0),h===void 0&&(h=d?d.length:0),o===void 0&&(o=0),u===void 0&&(u=this.length),g<0||h>d.length||o<0||u>this.length)throw new RangeError("out of range index");if(o>=u&&g>=h)return 0;if(o>=u)return-1;if(g>=h)return 1;if(g>>>=0,h>>>=0,o>>>=0,u>>>=0,this===d)return 0;let m=u-o,R=h-g;const P=Math.min(m,R),H=this.slice(o,u),ct=d.slice(g,h);for(let ot=0;ot<P;++ot)if(H[ot]!==ct[ot]){m=H[ot],R=ct[ot];break}return m<R?-1:R<m?1:0};function tt(E,d,g,h,o){if(E.length===0)return-1;if(typeof g=="string"?(h=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,Mt(g)&&(g=o?0:E.length-1),g<0&&(g=E.length+g),g>=E.length){if(o)return-1;g=E.length-1}else if(g<0)if(o)g=0;else return-1;if(typeof d=="string"&&(d=p.from(d,h)),p.isBuffer(d))return d.length===0?-1:st(E,d,g,h,o);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(E,d,g):Uint8Array.prototype.lastIndexOf.call(E,d,g):st(E,[d],g,h,o);throw new TypeError("val must be string, number or Buffer")}function st(E,d,g,h,o){let u=1,m=E.length,R=d.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(E.length<2||d.length<2)return-1;u=2,m/=2,R/=2,g/=2}function P(ct,ot){return u===1?ct[ot]:ct.readUInt16BE(ot*u)}let H;if(o){let ct=-1;for(H=g;H<m;H++)if(P(E,H)===P(d,ct===-1?0:H-ct)){if(ct===-1&&(ct=H),H-ct+1===R)return ct*u}else ct!==-1&&(H-=H-ct),ct=-1}else for(g+R>m&&(g=m-R),H=g;H>=0;H--){let ct=!0;for(let ot=0;ot<R;ot++)if(P(E,H+ot)!==P(d,ot)){ct=!1;break}if(ct)return H}return-1}p.prototype.includes=function(d,g,h){return this.indexOf(d,g,h)!==-1},p.prototype.indexOf=function(d,g,h){return tt(this,d,g,h,!0)},p.prototype.lastIndexOf=function(d,g,h){return tt(this,d,g,h,!1)};function et(E,d,g,h){g=Number(g)||0;const o=E.length-g;h?(h=Number(h),h>o&&(h=o)):h=o;const u=d.length;h>u/2&&(h=u/2);let m;for(m=0;m<h;++m){const R=parseInt(d.substr(m*2,2),16);if(Mt(R))return m;E[g+m]=R}return m}function F(E,d,g,h){return It(mt(d,E.length-g),E,g,h)}function U(E,d,g,h){return It(Nt(d),E,g,h)}function D(E,d,g,h){return It(vt(d),E,g,h)}function j(E,d,g,h){return It(pr(d,E.length-g),E,g,h)}p.prototype.write=function(d,g,h,o){if(g===void 0)o="utf8",h=this.length,g=0;else if(h===void 0&&typeof g=="string")o=g,h=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(h)?(h=h>>>0,o===void 0&&(o="utf8")):(o=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const u=this.length-g;if((h===void 0||h>u)&&(h=u),d.length>0&&(h<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let m=!1;for(;;)switch(o){case"hex":return et(this,d,g,h);case"utf8":case"utf-8":return F(this,d,g,h);case"ascii":case"latin1":case"binary":return U(this,d,g,h);case"base64":return D(this,d,g,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,d,g,h);default:if(m)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),m=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function v(E,d,g){return d===0&&g===E.length?t.fromByteArray(E):t.fromByteArray(E.slice(d,g))}function a(E,d,g){g=Math.min(E.length,g);const h=[];let o=d;for(;o<g;){const u=E[o];let m=null,R=u>239?4:u>223?3:u>191?2:1;if(o+R<=g){let P,H,ct,ot;switch(R){case 1:u<128&&(m=u);break;case 2:P=E[o+1],(P&192)===128&&(ot=(u&31)<<6|P&63,ot>127&&(m=ot));break;case 3:P=E[o+1],H=E[o+2],(P&192)===128&&(H&192)===128&&(ot=(u&15)<<12|(P&63)<<6|H&63,ot>2047&&(ot<55296||ot>57343)&&(m=ot));break;case 4:P=E[o+1],H=E[o+2],ct=E[o+3],(P&192)===128&&(H&192)===128&&(ct&192)===128&&(ot=(u&15)<<18|(P&63)<<12|(H&63)<<6|ct&63,ot>65535&&ot<1114112&&(m=ot))}}m===null?(m=65533,R=1):m>65535&&(m-=65536,h.push(m>>>10&1023|55296),m=56320|m&1023),h.push(m),o+=R}return b(h)}const y=4096;function b(E){const d=E.length;if(d<=y)return String.fromCharCode.apply(String,E);let g="",h=0;for(;h<d;)g+=String.fromCharCode.apply(String,E.slice(h,h+=y));return g}function A(E,d,g){let h="";g=Math.min(E.length,g);for(let o=d;o<g;++o)h+=String.fromCharCode(E[o]&127);return h}function S(E,d,g){let h="";g=Math.min(E.length,g);for(let o=d;o<g;++o)h+=String.fromCharCode(E[o]);return h}function C(E,d,g){const h=E.length;(!d||d<0)&&(d=0),(!g||g<0||g>h)&&(g=h);let o="";for(let u=d;u<g;++u)o+=Bt[E[u]];return o}function z(E,d,g){const h=E.slice(d,g);let o="";for(let u=0;u<h.length-1;u+=2)o+=String.fromCharCode(h[u]+h[u+1]*256);return o}p.prototype.slice=function(d,g){const h=this.length;d=~~d,g=g===void 0?h:~~g,d<0?(d+=h,d<0&&(d=0)):d>h&&(d=h),g<0?(g+=h,g<0&&(g=0)):g>h&&(g=h),g<d&&(g=d);const o=this.subarray(d,g);return Object.setPrototypeOf(o,p.prototype),o};function M(E,d,g){if(E%1!==0||E<0)throw new RangeError("offset is not uint");if(E+d>g)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(d,g,h){d=d>>>0,g=g>>>0,h||M(d,g,this.length);let o=this[d],u=1,m=0;for(;++m<g&&(u*=256);)o+=this[d+m]*u;return o},p.prototype.readUintBE=p.prototype.readUIntBE=function(d,g,h){d=d>>>0,g=g>>>0,h||M(d,g,this.length);let o=this[d+--g],u=1;for(;g>0&&(u*=256);)o+=this[d+--g]*u;return o},p.prototype.readUint8=p.prototype.readUInt8=function(d,g){return d=d>>>0,g||M(d,1,this.length),this[d]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(d,g){return d=d>>>0,g||M(d,2,this.length),this[d]|this[d+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(d,g){return d=d>>>0,g||M(d,2,this.length),this[d]<<8|this[d+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(d,g){return d=d>>>0,g||M(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(d,g){return d=d>>>0,g||M(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},p.prototype.readBigUInt64LE=Ut(function(d){d=d>>>0,me(d,"offset");const g=this[d],h=this[d+7];(g===void 0||h===void 0)&&bt(d,this.length-8);const o=g+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,u=this[++d]+this[++d]*2**8+this[++d]*2**16+h*2**24;return BigInt(o)+(BigInt(u)<<BigInt(32))}),p.prototype.readBigUInt64BE=Ut(function(d){d=d>>>0,me(d,"offset");const g=this[d],h=this[d+7];(g===void 0||h===void 0)&&bt(d,this.length-8);const o=g*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],u=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+h;return(BigInt(o)<<BigInt(32))+BigInt(u)}),p.prototype.readIntLE=function(d,g,h){d=d>>>0,g=g>>>0,h||M(d,g,this.length);let o=this[d],u=1,m=0;for(;++m<g&&(u*=256);)o+=this[d+m]*u;return u*=128,o>=u&&(o-=Math.pow(2,8*g)),o},p.prototype.readIntBE=function(d,g,h){d=d>>>0,g=g>>>0,h||M(d,g,this.length);let o=g,u=1,m=this[d+--o];for(;o>0&&(u*=256);)m+=this[d+--o]*u;return u*=128,m>=u&&(m-=Math.pow(2,8*g)),m},p.prototype.readInt8=function(d,g){return d=d>>>0,g||M(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},p.prototype.readInt16LE=function(d,g){d=d>>>0,g||M(d,2,this.length);const h=this[d]|this[d+1]<<8;return h&32768?h|4294901760:h},p.prototype.readInt16BE=function(d,g){d=d>>>0,g||M(d,2,this.length);const h=this[d+1]|this[d]<<8;return h&32768?h|4294901760:h},p.prototype.readInt32LE=function(d,g){return d=d>>>0,g||M(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},p.prototype.readInt32BE=function(d,g){return d=d>>>0,g||M(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},p.prototype.readBigInt64LE=Ut(function(d){d=d>>>0,me(d,"offset");const g=this[d],h=this[d+7];(g===void 0||h===void 0)&&bt(d,this.length-8);const o=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(h<<24);return(BigInt(o)<<BigInt(32))+BigInt(g+this[++d]*256+this[++d]*65536+this[++d]*16777216)}),p.prototype.readBigInt64BE=Ut(function(d){d=d>>>0,me(d,"offset");const g=this[d],h=this[d+7];(g===void 0||h===void 0)&&bt(d,this.length-8);const o=(g<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(o)<<BigInt(32))+BigInt(this[++d]*16777216+this[++d]*65536+this[++d]*256+h)}),p.prototype.readFloatLE=function(d,g){return d=d>>>0,g||M(d,4,this.length),r.read(this,d,!0,23,4)},p.prototype.readFloatBE=function(d,g){return d=d>>>0,g||M(d,4,this.length),r.read(this,d,!1,23,4)},p.prototype.readDoubleLE=function(d,g){return d=d>>>0,g||M(d,8,this.length),r.read(this,d,!0,52,8)},p.prototype.readDoubleBE=function(d,g){return d=d>>>0,g||M(d,8,this.length),r.read(this,d,!1,52,8)};function c(E,d,g,h,o,u){if(!p.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>o||d<u)throw new RangeError('"value" argument is out of bounds');if(g+h>E.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(d,g,h,o){if(d=+d,g=g>>>0,h=h>>>0,!o){const R=Math.pow(2,8*h)-1;c(this,d,g,h,R,0)}let u=1,m=0;for(this[g]=d&255;++m<h&&(u*=256);)this[g+m]=d/u&255;return g+h},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(d,g,h,o){if(d=+d,g=g>>>0,h=h>>>0,!o){const R=Math.pow(2,8*h)-1;c(this,d,g,h,R,0)}let u=h-1,m=1;for(this[g+u]=d&255;--u>=0&&(m*=256);)this[g+u]=d/m&255;return g+h},p.prototype.writeUint8=p.prototype.writeUInt8=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,1,255,0),this[g]=d&255,g+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,2,65535,0),this[g]=d&255,this[g+1]=d>>>8,g+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,2,65535,0),this[g]=d>>>8,this[g+1]=d&255,g+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,4,4294967295,0),this[g+3]=d>>>24,this[g+2]=d>>>16,this[g+1]=d>>>8,this[g]=d&255,g+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,4,4294967295,0),this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255,g+4};function l(E,d,g,h,o){Et(d,h,o,E,g,7);let u=Number(d&BigInt(4294967295));E[g++]=u,u=u>>8,E[g++]=u,u=u>>8,E[g++]=u,u=u>>8,E[g++]=u;let m=Number(d>>BigInt(32)&BigInt(4294967295));return E[g++]=m,m=m>>8,E[g++]=m,m=m>>8,E[g++]=m,m=m>>8,E[g++]=m,g}function I(E,d,g,h,o){Et(d,h,o,E,g,7);let u=Number(d&BigInt(4294967295));E[g+7]=u,u=u>>8,E[g+6]=u,u=u>>8,E[g+5]=u,u=u>>8,E[g+4]=u;let m=Number(d>>BigInt(32)&BigInt(4294967295));return E[g+3]=m,m=m>>8,E[g+2]=m,m=m>>8,E[g+1]=m,m=m>>8,E[g]=m,g+8}p.prototype.writeBigUInt64LE=Ut(function(d,g=0){return l(this,d,g,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Ut(function(d,g=0){return I(this,d,g,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(d,g,h,o){if(d=+d,g=g>>>0,!o){const P=Math.pow(2,8*h-1);c(this,d,g,h,P-1,-P)}let u=0,m=1,R=0;for(this[g]=d&255;++u<h&&(m*=256);)d<0&&R===0&&this[g+u-1]!==0&&(R=1),this[g+u]=(d/m>>0)-R&255;return g+h},p.prototype.writeIntBE=function(d,g,h,o){if(d=+d,g=g>>>0,!o){const P=Math.pow(2,8*h-1);c(this,d,g,h,P-1,-P)}let u=h-1,m=1,R=0;for(this[g+u]=d&255;--u>=0&&(m*=256);)d<0&&R===0&&this[g+u+1]!==0&&(R=1),this[g+u]=(d/m>>0)-R&255;return g+h},p.prototype.writeInt8=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,1,127,-128),d<0&&(d=255+d+1),this[g]=d&255,g+1},p.prototype.writeInt16LE=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,2,32767,-32768),this[g]=d&255,this[g+1]=d>>>8,g+2},p.prototype.writeInt16BE=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,2,32767,-32768),this[g]=d>>>8,this[g+1]=d&255,g+2},p.prototype.writeInt32LE=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,4,2147483647,-2147483648),this[g]=d&255,this[g+1]=d>>>8,this[g+2]=d>>>16,this[g+3]=d>>>24,g+4},p.prototype.writeInt32BE=function(d,g,h){return d=+d,g=g>>>0,h||c(this,d,g,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255,g+4},p.prototype.writeBigInt64LE=Ut(function(d,g=0){return l(this,d,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Ut(function(d,g=0){return I(this,d,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _(E,d,g,h,o,u){if(g+h>E.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function q(E,d,g,h,o){return d=+d,g=g>>>0,o||_(E,d,g,4),r.write(E,d,g,h,23,4),g+4}p.prototype.writeFloatLE=function(d,g,h){return q(this,d,g,!0,h)},p.prototype.writeFloatBE=function(d,g,h){return q(this,d,g,!1,h)};function Q(E,d,g,h,o){return d=+d,g=g>>>0,o||_(E,d,g,8),r.write(E,d,g,h,52,8),g+8}p.prototype.writeDoubleLE=function(d,g,h){return Q(this,d,g,!0,h)},p.prototype.writeDoubleBE=function(d,g,h){return Q(this,d,g,!1,h)},p.prototype.copy=function(d,g,h,o){if(!p.isBuffer(d))throw new TypeError("argument should be a Buffer");if(h||(h=0),!o&&o!==0&&(o=this.length),g>=d.length&&(g=d.length),g||(g=0),o>0&&o<h&&(o=h),o===h||d.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),d.length-g<o-h&&(o=d.length-g+h);const u=o-h;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,h,o):Uint8Array.prototype.set.call(d,this.subarray(h,o),g),u},p.prototype.fill=function(d,g,h,o){if(typeof d=="string"){if(typeof g=="string"?(o=g,g=0,h=this.length):typeof h=="string"&&(o=h,h=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!p.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(d.length===1){const m=d.charCodeAt(0);(o==="utf8"&&m<128||o==="latin1")&&(d=m)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(g<0||this.length<g||this.length<h)throw new RangeError("Out of range index");if(h<=g)return this;g=g>>>0,h=h===void 0?this.length:h>>>0,d||(d=0);let u;if(typeof d=="number")for(u=g;u<h;++u)this[u]=d;else{const m=p.isBuffer(d)?d:p.from(d,o),R=m.length;if(R===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(u=0;u<h-g;++u)this[u+g]=m[u%R]}return this};const it={};function ft(E,d,g){it[E]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}ft("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ft("ERR_INVALID_ARG_TYPE",function(E,d){return`The "${E}" argument must be of type number. Received type ${typeof d}`},TypeError),ft("ERR_OUT_OF_RANGE",function(E,d,g){let h=`The value of "${E}" is out of range.`,o=g;return Number.isInteger(g)&&Math.abs(g)>4294967296?o=Ct(String(g)):typeof g=="bigint"&&(o=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(o=Ct(o)),o+="n"),h+=` It must be ${d}. Received ${o}`,h},RangeError);function Ct(E){let d="",g=E.length;const h=E[0]==="-"?1:0;for(;g>=h+4;g-=3)d=`_${E.slice(g-3,g)}${d}`;return`${E.slice(0,g)}${d}`}function gt(E,d,g){me(d,"offset"),(E[d]===void 0||E[d+g]===void 0)&&bt(d,E.length-(g+1))}function Et(E,d,g,h,o,u){if(E>g||E<d){const m=typeof d=="bigint"?"n":"";let R;throw d===0||d===BigInt(0)?R=`>= 0${m} and < 2${m} ** ${(u+1)*8}${m}`:R=`>= -(2${m} ** ${(u+1)*8-1}${m}) and < 2 ** ${(u+1)*8-1}${m}`,new it.ERR_OUT_OF_RANGE("value",R,E)}gt(h,o,u)}function me(E,d){if(typeof E!="number")throw new it.ERR_INVALID_ARG_TYPE(d,"number",E)}function bt(E,d,g){throw Math.floor(E)!==E?(me(E,g),new it.ERR_OUT_OF_RANGE("offset","an integer",E)):d<0?new it.ERR_BUFFER_OUT_OF_BOUNDS:new it.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${d}`,E)}const _t=/[^+/0-9A-Za-z-_]/g;function ve(E){if(E=E.split("=")[0],E=E.trim().replace(_t,""),E.length<2)return"";for(;E.length%4!==0;)E=E+"=";return E}function mt(E,d){d=d||1/0;let g;const h=E.length;let o=null;const u=[];for(let m=0;m<h;++m){if(g=E.charCodeAt(m),g>55295&&g<57344){if(!o){if(g>56319){(d-=3)>-1&&u.push(239,191,189);continue}else if(m+1===h){(d-=3)>-1&&u.push(239,191,189);continue}o=g;continue}if(g<56320){(d-=3)>-1&&u.push(239,191,189),o=g;continue}g=(o-55296<<10|g-56320)+65536}else o&&(d-=3)>-1&&u.push(239,191,189);if(o=null,g<128){if((d-=1)<0)break;u.push(g)}else if(g<2048){if((d-=2)<0)break;u.push(g>>6|192,g&63|128)}else if(g<65536){if((d-=3)<0)break;u.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((d-=4)<0)break;u.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return u}function Nt(E){const d=[];for(let g=0;g<E.length;++g)d.push(E.charCodeAt(g)&255);return d}function pr(E,d){let g,h,o;const u=[];for(let m=0;m<E.length&&!((d-=2)<0);++m)g=E.charCodeAt(m),h=g>>8,o=g%256,u.push(o),u.push(h);return u}function vt(E){return t.toByteArray(ve(E))}function It(E,d,g,h){let o;for(o=0;o<h&&!(o+g>=d.length||o>=E.length);++o)d[o+g]=E[o];return o}function le(E,d){return E instanceof d||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===d.name}function Mt(E){return E!==E}const Bt=function(){const E="0123456789abcdef",d=new Array(256);for(let g=0;g<16;++g){const h=g*16;for(let o=0;o<16;++o)d[h+o]=E[g]+E[o]}return d}();function Ut(E){return typeof BigInt>"u"?St:E}function St(){throw new Error("BigInt not supported")}}(On)),On}var yt=zn(),Pr={exports:{}};const Iu=Dn(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Mu=Pr.exports,Fo;function Do(){return Fo||(Fo=1,function(e){(function(t,r){function n(v,a){if(!v)throw new Error(a||"Assertion failed")}function s(v,a){v.super_=a;var y=function(){};y.prototype=a.prototype,v.prototype=new y,v.prototype.constructor=v}function i(v,a,y){if(i.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((a==="le"||a==="be")&&(y=a,a=10),this._init(v||0,a||10,y||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=Iu.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,y){return a.cmp(y)>0?a:y},i.min=function(a,y){return a.cmp(y)<0?a:y},i.prototype._init=function(a,y,b){if(typeof a=="number")return this._initNumber(a,y,b);if(typeof a=="object")return this._initArray(a,y,b);y==="hex"&&(y=16),n(y===(y|0)&&y>=2&&y<=36),a=a.toString().replace(/\s+/g,"");var A=0;a[0]==="-"&&(A++,this.negative=1),A<a.length&&(y===16?this._parseHex(a,A,b):(this._parseBase(a,y,A),b==="le"&&this._initArray(this.toArray(),y,b)))},i.prototype._initNumber=function(a,y,b){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),y,b)},i.prototype._initArray=function(a,y,b){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var S,C,z=0;if(b==="be")for(A=a.length-1,S=0;A>=0;A-=3)C=a[A]|a[A-1]<<8|a[A-2]<<16,this.words[S]|=C<<z&67108863,this.words[S+1]=C>>>26-z&67108863,z+=24,z>=26&&(z-=26,S++);else if(b==="le")for(A=0,S=0;A<a.length;A+=3)C=a[A]|a[A+1]<<8|a[A+2]<<16,this.words[S]|=C<<z&67108863,this.words[S+1]=C>>>26-z&67108863,z+=24,z>=26&&(z-=26,S++);return this._strip()};function p(v,a){var y=v.charCodeAt(a);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;n(!1,"Invalid character in "+v)}function x(v,a,y){var b=p(v,y);return y-1>=a&&(b|=p(v,y-1)<<4),b}i.prototype._parseHex=function(a,y,b){this.length=Math.ceil((a.length-y)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var S=0,C=0,z;if(b==="be")for(A=a.length-1;A>=y;A-=2)z=x(a,y,A)<<S,this.words[C]|=z&67108863,S>=18?(S-=18,C+=1,this.words[C]|=z>>>26):S+=8;else{var M=a.length-y;for(A=M%2===0?y+1:y;A<a.length;A+=2)z=x(a,y,A)<<S,this.words[C]|=z&67108863,S>=18?(S-=18,C+=1,this.words[C]|=z>>>26):S+=8}this._strip()};function B(v,a,y,b){for(var A=0,S=0,C=Math.min(v.length,y),z=a;z<C;z++){var M=v.charCodeAt(z)-48;A*=b,M>=49?S=M-49+10:M>=17?S=M-17+10:S=M,n(M>=0&&S<b,"Invalid character"),A+=S}return A}i.prototype._parseBase=function(a,y,b){this.words=[0],this.length=1;for(var A=0,S=1;S<=67108863;S*=y)A++;A--,S=S/y|0;for(var C=a.length-b,z=C%A,M=Math.min(C,C-z)+b,c=0,l=b;l<M;l+=A)c=B(a,l,l+A,y),this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(z!==0){var I=1;for(c=B(a,l,a.length,y),l=0;l<z;l++)I*=y;this.imuln(I),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var y=0;y<this.length;y++)a.words[y]=this.words[y];a.length=this.length,a.negative=this.negative,a.red=this.red};function w(v,a){v.words=a.words,v.length=a.length,v.negative=a.negative,v.red=a.red}if(i.prototype._move=function(a){w(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=T}catch{i.prototype.inspect=T}else i.prototype.inspect=T;function T(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var K=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],$=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,y){a=a||10,y=y|0||1;var b;if(a===16||a==="hex"){b="";for(var A=0,S=0,C=0;C<this.length;C++){var z=this.words[C],M=((z<<A|S)&16777215).toString(16);S=z>>>24-A&16777215,A+=2,A>=26&&(A-=26,C--),S!==0||C!==this.length-1?b=K[6-M.length]+M+b:b=M+b}for(S!==0&&(b=S.toString(16)+b);b.length%y!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(a===(a|0)&&a>=2&&a<=36){var c=N[a],l=$[a];b="";var I=this.clone();for(I.negative=0;!I.isZero();){var _=I.modrn(l).toString(a);I=I.idivn(l),I.isZero()?b=_+b:b=K[c-_.length]+_+b}for(this.isZero()&&(b="0"+b);b.length%y!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},f&&(i.prototype.toBuffer=function(a,y){return this.toArrayLike(f,a,y)}),i.prototype.toArray=function(a,y){return this.toArrayLike(Array,a,y)};var O=function(a,y){return a.allocUnsafe?a.allocUnsafe(y):new a(y)};i.prototype.toArrayLike=function(a,y,b){this._strip();var A=this.byteLength(),S=b||Math.max(1,A);n(A<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var C=O(a,S),z=y==="le"?"LE":"BE";return this["_toArrayLike"+z](C,A),C},i.prototype._toArrayLikeLE=function(a,y){for(var b=0,A=0,S=0,C=0;S<this.length;S++){var z=this.words[S]<<C|A;a[b++]=z&255,b<a.length&&(a[b++]=z>>8&255),b<a.length&&(a[b++]=z>>16&255),C===6?(b<a.length&&(a[b++]=z>>24&255),A=0,C=0):(A=z>>>24,C+=2)}if(b<a.length)for(a[b++]=A;b<a.length;)a[b++]=0},i.prototype._toArrayLikeBE=function(a,y){for(var b=a.length-1,A=0,S=0,C=0;S<this.length;S++){var z=this.words[S]<<C|A;a[b--]=z&255,b>=0&&(a[b--]=z>>8&255),b>=0&&(a[b--]=z>>16&255),C===6?(b>=0&&(a[b--]=z>>24&255),A=0,C=0):(A=z>>>24,C+=2)}if(b>=0)for(a[b--]=A;b>=0;)a[b--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var y=a,b=0;return y>=4096&&(b+=13,y>>>=13),y>=64&&(b+=7,y>>>=7),y>=8&&(b+=4,y>>>=4),y>=2&&(b+=2,y>>>=2),b+y},i.prototype._zeroBits=function(a){if(a===0)return 26;var y=a,b=0;return(y&8191)===0&&(b+=13,y>>>=13),(y&127)===0&&(b+=7,y>>>=7),(y&15)===0&&(b+=4,y>>>=4),(y&3)===0&&(b+=2,y>>>=2),(y&1)===0&&b++,b},i.prototype.bitLength=function(){var a=this.words[this.length-1],y=this._countBits(a);return(this.length-1)*26+y};function k(v){for(var a=new Array(v.bitLength()),y=0;y<a.length;y++){var b=y/26|0,A=y%26;a[y]=v.words[b]>>>A&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,y=0;y<this.length;y++){var b=this._zeroBits(this.words[y]);if(a+=b,b!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var y=0;y<a.length;y++)this.words[y]=this.words[y]|a.words[y];return this._strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var y;this.length>a.length?y=a:y=this;for(var b=0;b<y.length;b++)this.words[b]=this.words[b]&a.words[b];return this.length=y.length,this._strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var y,b;this.length>a.length?(y=this,b=a):(y=a,b=this);for(var A=0;A<b.length;A++)this.words[A]=y.words[A]^b.words[A];if(this!==y)for(;A<y.length;A++)this.words[A]=y.words[A];return this.length=y.length,this._strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var y=Math.ceil(a/26)|0,b=a%26;this._expand(y),b>0&&y--;for(var A=0;A<y;A++)this.words[A]=~this.words[A]&67108863;return b>0&&(this.words[A]=~this.words[A]&67108863>>26-b),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,y){n(typeof a=="number"&&a>=0);var b=a/26|0,A=a%26;return this._expand(b+1),y?this.words[b]=this.words[b]|1<<A:this.words[b]=this.words[b]&~(1<<A),this._strip()},i.prototype.iadd=function(a){var y;if(this.negative!==0&&a.negative===0)return this.negative=0,y=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,y=this.isub(a),a.negative=1,y._normSign();var b,A;this.length>a.length?(b=this,A=a):(b=a,A=this);for(var S=0,C=0;C<A.length;C++)y=(b.words[C]|0)+(A.words[C]|0)+S,this.words[C]=y&67108863,S=y>>>26;for(;S!==0&&C<b.length;C++)y=(b.words[C]|0)+S,this.words[C]=y&67108863,S=y>>>26;if(this.length=b.length,S!==0)this.words[this.length]=S,this.length++;else if(b!==this)for(;C<b.length;C++)this.words[C]=b.words[C];return this},i.prototype.add=function(a){var y;return a.negative!==0&&this.negative===0?(a.negative=0,y=this.sub(a),a.negative^=1,y):a.negative===0&&this.negative!==0?(this.negative=0,y=a.sub(this),this.negative=1,y):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var y=this.iadd(a);return a.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var b=this.cmp(a);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,S;b>0?(A=this,S=a):(A=a,S=this);for(var C=0,z=0;z<S.length;z++)y=(A.words[z]|0)-(S.words[z]|0)+C,C=y>>26,this.words[z]=y&67108863;for(;C!==0&&z<A.length;z++)y=(A.words[z]|0)+C,C=y>>26,this.words[z]=y&67108863;if(C===0&&z<A.length&&A!==this)for(;z<A.length;z++)this.words[z]=A.words[z];return this.length=Math.max(this.length,z),A!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function Y(v,a,y){y.negative=a.negative^v.negative;var b=v.length+a.length|0;y.length=b,b=b-1|0;var A=v.words[0]|0,S=a.words[0]|0,C=A*S,z=C&67108863,M=C/67108864|0;y.words[0]=z;for(var c=1;c<b;c++){for(var l=M>>>26,I=M&67108863,_=Math.min(c,a.length-1),q=Math.max(0,c-v.length+1);q<=_;q++){var Q=c-q|0;A=v.words[Q]|0,S=a.words[q]|0,C=A*S+I,l+=C/67108864|0,I=C&67108863}y.words[c]=I|0,M=l|0}return M!==0?y.words[c]=M|0:y.length--,y._strip()}var G=function(a,y,b){var A=a.words,S=y.words,C=b.words,z=0,M,c,l,I=A[0]|0,_=I&8191,q=I>>>13,Q=A[1]|0,it=Q&8191,ft=Q>>>13,Ct=A[2]|0,gt=Ct&8191,Et=Ct>>>13,me=A[3]|0,bt=me&8191,_t=me>>>13,ve=A[4]|0,mt=ve&8191,Nt=ve>>>13,pr=A[5]|0,vt=pr&8191,It=pr>>>13,le=A[6]|0,Mt=le&8191,Bt=le>>>13,Ut=A[7]|0,St=Ut&8191,E=Ut>>>13,d=A[8]|0,g=d&8191,h=d>>>13,o=A[9]|0,u=o&8191,m=o>>>13,R=S[0]|0,P=R&8191,H=R>>>13,ct=S[1]|0,ot=ct&8191,dt=ct>>>13,Tt=S[2]|0,lt=Tt&8191,Ot=Tt>>>13,Hs=S[3]|0,zt=Hs&8191,jt=Hs>>>13,Zs=S[4]|0,Pt=Zs&8191,qt=Zs>>>13,Ws=S[5]|0,Kt=Ws&8191,$t=Ws>>>13,Ys=S[6]|0,Ht=Ys&8191,Zt=Ys>>>13,Vs=S[7]|0,Wt=Vs&8191,Yt=Vs>>>13,Gs=S[8]|0,Vt=Gs&8191,Gt=Gs>>>13,Xs=S[9]|0,Xt=Xs&8191,Qt=Xs>>>13;b.negative=a.negative^y.negative,b.length=19,M=Math.imul(_,P),c=Math.imul(_,H),c=c+Math.imul(q,P)|0,l=Math.imul(q,H);var wi=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(wi>>>26)|0,wi&=67108863,M=Math.imul(it,P),c=Math.imul(it,H),c=c+Math.imul(ft,P)|0,l=Math.imul(ft,H),M=M+Math.imul(_,ot)|0,c=c+Math.imul(_,dt)|0,c=c+Math.imul(q,ot)|0,l=l+Math.imul(q,dt)|0;var mi=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(mi>>>26)|0,mi&=67108863,M=Math.imul(gt,P),c=Math.imul(gt,H),c=c+Math.imul(Et,P)|0,l=Math.imul(Et,H),M=M+Math.imul(it,ot)|0,c=c+Math.imul(it,dt)|0,c=c+Math.imul(ft,ot)|0,l=l+Math.imul(ft,dt)|0,M=M+Math.imul(_,lt)|0,c=c+Math.imul(_,Ot)|0,c=c+Math.imul(q,lt)|0,l=l+Math.imul(q,Ot)|0;var xi=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(xi>>>26)|0,xi&=67108863,M=Math.imul(bt,P),c=Math.imul(bt,H),c=c+Math.imul(_t,P)|0,l=Math.imul(_t,H),M=M+Math.imul(gt,ot)|0,c=c+Math.imul(gt,dt)|0,c=c+Math.imul(Et,ot)|0,l=l+Math.imul(Et,dt)|0,M=M+Math.imul(it,lt)|0,c=c+Math.imul(it,Ot)|0,c=c+Math.imul(ft,lt)|0,l=l+Math.imul(ft,Ot)|0,M=M+Math.imul(_,zt)|0,c=c+Math.imul(_,jt)|0,c=c+Math.imul(q,zt)|0,l=l+Math.imul(q,jt)|0;var bi=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(bi>>>26)|0,bi&=67108863,M=Math.imul(mt,P),c=Math.imul(mt,H),c=c+Math.imul(Nt,P)|0,l=Math.imul(Nt,H),M=M+Math.imul(bt,ot)|0,c=c+Math.imul(bt,dt)|0,c=c+Math.imul(_t,ot)|0,l=l+Math.imul(_t,dt)|0,M=M+Math.imul(gt,lt)|0,c=c+Math.imul(gt,Ot)|0,c=c+Math.imul(Et,lt)|0,l=l+Math.imul(Et,Ot)|0,M=M+Math.imul(it,zt)|0,c=c+Math.imul(it,jt)|0,c=c+Math.imul(ft,zt)|0,l=l+Math.imul(ft,jt)|0,M=M+Math.imul(_,Pt)|0,c=c+Math.imul(_,qt)|0,c=c+Math.imul(q,Pt)|0,l=l+Math.imul(q,qt)|0;var Ei=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,M=Math.imul(vt,P),c=Math.imul(vt,H),c=c+Math.imul(It,P)|0,l=Math.imul(It,H),M=M+Math.imul(mt,ot)|0,c=c+Math.imul(mt,dt)|0,c=c+Math.imul(Nt,ot)|0,l=l+Math.imul(Nt,dt)|0,M=M+Math.imul(bt,lt)|0,c=c+Math.imul(bt,Ot)|0,c=c+Math.imul(_t,lt)|0,l=l+Math.imul(_t,Ot)|0,M=M+Math.imul(gt,zt)|0,c=c+Math.imul(gt,jt)|0,c=c+Math.imul(Et,zt)|0,l=l+Math.imul(Et,jt)|0,M=M+Math.imul(it,Pt)|0,c=c+Math.imul(it,qt)|0,c=c+Math.imul(ft,Pt)|0,l=l+Math.imul(ft,qt)|0,M=M+Math.imul(_,Kt)|0,c=c+Math.imul(_,$t)|0,c=c+Math.imul(q,Kt)|0,l=l+Math.imul(q,$t)|0;var vi=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(vi>>>26)|0,vi&=67108863,M=Math.imul(Mt,P),c=Math.imul(Mt,H),c=c+Math.imul(Bt,P)|0,l=Math.imul(Bt,H),M=M+Math.imul(vt,ot)|0,c=c+Math.imul(vt,dt)|0,c=c+Math.imul(It,ot)|0,l=l+Math.imul(It,dt)|0,M=M+Math.imul(mt,lt)|0,c=c+Math.imul(mt,Ot)|0,c=c+Math.imul(Nt,lt)|0,l=l+Math.imul(Nt,Ot)|0,M=M+Math.imul(bt,zt)|0,c=c+Math.imul(bt,jt)|0,c=c+Math.imul(_t,zt)|0,l=l+Math.imul(_t,jt)|0,M=M+Math.imul(gt,Pt)|0,c=c+Math.imul(gt,qt)|0,c=c+Math.imul(Et,Pt)|0,l=l+Math.imul(Et,qt)|0,M=M+Math.imul(it,Kt)|0,c=c+Math.imul(it,$t)|0,c=c+Math.imul(ft,Kt)|0,l=l+Math.imul(ft,$t)|0,M=M+Math.imul(_,Ht)|0,c=c+Math.imul(_,Zt)|0,c=c+Math.imul(q,Ht)|0,l=l+Math.imul(q,Zt)|0;var Ii=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,M=Math.imul(St,P),c=Math.imul(St,H),c=c+Math.imul(E,P)|0,l=Math.imul(E,H),M=M+Math.imul(Mt,ot)|0,c=c+Math.imul(Mt,dt)|0,c=c+Math.imul(Bt,ot)|0,l=l+Math.imul(Bt,dt)|0,M=M+Math.imul(vt,lt)|0,c=c+Math.imul(vt,Ot)|0,c=c+Math.imul(It,lt)|0,l=l+Math.imul(It,Ot)|0,M=M+Math.imul(mt,zt)|0,c=c+Math.imul(mt,jt)|0,c=c+Math.imul(Nt,zt)|0,l=l+Math.imul(Nt,jt)|0,M=M+Math.imul(bt,Pt)|0,c=c+Math.imul(bt,qt)|0,c=c+Math.imul(_t,Pt)|0,l=l+Math.imul(_t,qt)|0,M=M+Math.imul(gt,Kt)|0,c=c+Math.imul(gt,$t)|0,c=c+Math.imul(Et,Kt)|0,l=l+Math.imul(Et,$t)|0,M=M+Math.imul(it,Ht)|0,c=c+Math.imul(it,Zt)|0,c=c+Math.imul(ft,Ht)|0,l=l+Math.imul(ft,Zt)|0,M=M+Math.imul(_,Wt)|0,c=c+Math.imul(_,Yt)|0,c=c+Math.imul(q,Wt)|0,l=l+Math.imul(q,Yt)|0;var Mi=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,M=Math.imul(g,P),c=Math.imul(g,H),c=c+Math.imul(h,P)|0,l=Math.imul(h,H),M=M+Math.imul(St,ot)|0,c=c+Math.imul(St,dt)|0,c=c+Math.imul(E,ot)|0,l=l+Math.imul(E,dt)|0,M=M+Math.imul(Mt,lt)|0,c=c+Math.imul(Mt,Ot)|0,c=c+Math.imul(Bt,lt)|0,l=l+Math.imul(Bt,Ot)|0,M=M+Math.imul(vt,zt)|0,c=c+Math.imul(vt,jt)|0,c=c+Math.imul(It,zt)|0,l=l+Math.imul(It,jt)|0,M=M+Math.imul(mt,Pt)|0,c=c+Math.imul(mt,qt)|0,c=c+Math.imul(Nt,Pt)|0,l=l+Math.imul(Nt,qt)|0,M=M+Math.imul(bt,Kt)|0,c=c+Math.imul(bt,$t)|0,c=c+Math.imul(_t,Kt)|0,l=l+Math.imul(_t,$t)|0,M=M+Math.imul(gt,Ht)|0,c=c+Math.imul(gt,Zt)|0,c=c+Math.imul(Et,Ht)|0,l=l+Math.imul(Et,Zt)|0,M=M+Math.imul(it,Wt)|0,c=c+Math.imul(it,Yt)|0,c=c+Math.imul(ft,Wt)|0,l=l+Math.imul(ft,Yt)|0,M=M+Math.imul(_,Vt)|0,c=c+Math.imul(_,Gt)|0,c=c+Math.imul(q,Vt)|0,l=l+Math.imul(q,Gt)|0;var Bi=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,M=Math.imul(u,P),c=Math.imul(u,H),c=c+Math.imul(m,P)|0,l=Math.imul(m,H),M=M+Math.imul(g,ot)|0,c=c+Math.imul(g,dt)|0,c=c+Math.imul(h,ot)|0,l=l+Math.imul(h,dt)|0,M=M+Math.imul(St,lt)|0,c=c+Math.imul(St,Ot)|0,c=c+Math.imul(E,lt)|0,l=l+Math.imul(E,Ot)|0,M=M+Math.imul(Mt,zt)|0,c=c+Math.imul(Mt,jt)|0,c=c+Math.imul(Bt,zt)|0,l=l+Math.imul(Bt,jt)|0,M=M+Math.imul(vt,Pt)|0,c=c+Math.imul(vt,qt)|0,c=c+Math.imul(It,Pt)|0,l=l+Math.imul(It,qt)|0,M=M+Math.imul(mt,Kt)|0,c=c+Math.imul(mt,$t)|0,c=c+Math.imul(Nt,Kt)|0,l=l+Math.imul(Nt,$t)|0,M=M+Math.imul(bt,Ht)|0,c=c+Math.imul(bt,Zt)|0,c=c+Math.imul(_t,Ht)|0,l=l+Math.imul(_t,Zt)|0,M=M+Math.imul(gt,Wt)|0,c=c+Math.imul(gt,Yt)|0,c=c+Math.imul(Et,Wt)|0,l=l+Math.imul(Et,Yt)|0,M=M+Math.imul(it,Vt)|0,c=c+Math.imul(it,Gt)|0,c=c+Math.imul(ft,Vt)|0,l=l+Math.imul(ft,Gt)|0,M=M+Math.imul(_,Xt)|0,c=c+Math.imul(_,Qt)|0,c=c+Math.imul(q,Xt)|0,l=l+Math.imul(q,Qt)|0;var Ai=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,M=Math.imul(u,ot),c=Math.imul(u,dt),c=c+Math.imul(m,ot)|0,l=Math.imul(m,dt),M=M+Math.imul(g,lt)|0,c=c+Math.imul(g,Ot)|0,c=c+Math.imul(h,lt)|0,l=l+Math.imul(h,Ot)|0,M=M+Math.imul(St,zt)|0,c=c+Math.imul(St,jt)|0,c=c+Math.imul(E,zt)|0,l=l+Math.imul(E,jt)|0,M=M+Math.imul(Mt,Pt)|0,c=c+Math.imul(Mt,qt)|0,c=c+Math.imul(Bt,Pt)|0,l=l+Math.imul(Bt,qt)|0,M=M+Math.imul(vt,Kt)|0,c=c+Math.imul(vt,$t)|0,c=c+Math.imul(It,Kt)|0,l=l+Math.imul(It,$t)|0,M=M+Math.imul(mt,Ht)|0,c=c+Math.imul(mt,Zt)|0,c=c+Math.imul(Nt,Ht)|0,l=l+Math.imul(Nt,Zt)|0,M=M+Math.imul(bt,Wt)|0,c=c+Math.imul(bt,Yt)|0,c=c+Math.imul(_t,Wt)|0,l=l+Math.imul(_t,Yt)|0,M=M+Math.imul(gt,Vt)|0,c=c+Math.imul(gt,Gt)|0,c=c+Math.imul(Et,Vt)|0,l=l+Math.imul(Et,Gt)|0,M=M+Math.imul(it,Xt)|0,c=c+Math.imul(it,Qt)|0,c=c+Math.imul(ft,Xt)|0,l=l+Math.imul(ft,Qt)|0;var Si=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Si>>>26)|0,Si&=67108863,M=Math.imul(u,lt),c=Math.imul(u,Ot),c=c+Math.imul(m,lt)|0,l=Math.imul(m,Ot),M=M+Math.imul(g,zt)|0,c=c+Math.imul(g,jt)|0,c=c+Math.imul(h,zt)|0,l=l+Math.imul(h,jt)|0,M=M+Math.imul(St,Pt)|0,c=c+Math.imul(St,qt)|0,c=c+Math.imul(E,Pt)|0,l=l+Math.imul(E,qt)|0,M=M+Math.imul(Mt,Kt)|0,c=c+Math.imul(Mt,$t)|0,c=c+Math.imul(Bt,Kt)|0,l=l+Math.imul(Bt,$t)|0,M=M+Math.imul(vt,Ht)|0,c=c+Math.imul(vt,Zt)|0,c=c+Math.imul(It,Ht)|0,l=l+Math.imul(It,Zt)|0,M=M+Math.imul(mt,Wt)|0,c=c+Math.imul(mt,Yt)|0,c=c+Math.imul(Nt,Wt)|0,l=l+Math.imul(Nt,Yt)|0,M=M+Math.imul(bt,Vt)|0,c=c+Math.imul(bt,Gt)|0,c=c+Math.imul(_t,Vt)|0,l=l+Math.imul(_t,Gt)|0,M=M+Math.imul(gt,Xt)|0,c=c+Math.imul(gt,Qt)|0,c=c+Math.imul(Et,Xt)|0,l=l+Math.imul(Et,Qt)|0;var _i=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(_i>>>26)|0,_i&=67108863,M=Math.imul(u,zt),c=Math.imul(u,jt),c=c+Math.imul(m,zt)|0,l=Math.imul(m,jt),M=M+Math.imul(g,Pt)|0,c=c+Math.imul(g,qt)|0,c=c+Math.imul(h,Pt)|0,l=l+Math.imul(h,qt)|0,M=M+Math.imul(St,Kt)|0,c=c+Math.imul(St,$t)|0,c=c+Math.imul(E,Kt)|0,l=l+Math.imul(E,$t)|0,M=M+Math.imul(Mt,Ht)|0,c=c+Math.imul(Mt,Zt)|0,c=c+Math.imul(Bt,Ht)|0,l=l+Math.imul(Bt,Zt)|0,M=M+Math.imul(vt,Wt)|0,c=c+Math.imul(vt,Yt)|0,c=c+Math.imul(It,Wt)|0,l=l+Math.imul(It,Yt)|0,M=M+Math.imul(mt,Vt)|0,c=c+Math.imul(mt,Gt)|0,c=c+Math.imul(Nt,Vt)|0,l=l+Math.imul(Nt,Gt)|0,M=M+Math.imul(bt,Xt)|0,c=c+Math.imul(bt,Qt)|0,c=c+Math.imul(_t,Xt)|0,l=l+Math.imul(_t,Qt)|0;var Ti=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,M=Math.imul(u,Pt),c=Math.imul(u,qt),c=c+Math.imul(m,Pt)|0,l=Math.imul(m,qt),M=M+Math.imul(g,Kt)|0,c=c+Math.imul(g,$t)|0,c=c+Math.imul(h,Kt)|0,l=l+Math.imul(h,$t)|0,M=M+Math.imul(St,Ht)|0,c=c+Math.imul(St,Zt)|0,c=c+Math.imul(E,Ht)|0,l=l+Math.imul(E,Zt)|0,M=M+Math.imul(Mt,Wt)|0,c=c+Math.imul(Mt,Yt)|0,c=c+Math.imul(Bt,Wt)|0,l=l+Math.imul(Bt,Yt)|0,M=M+Math.imul(vt,Vt)|0,c=c+Math.imul(vt,Gt)|0,c=c+Math.imul(It,Vt)|0,l=l+Math.imul(It,Gt)|0,M=M+Math.imul(mt,Xt)|0,c=c+Math.imul(mt,Qt)|0,c=c+Math.imul(Nt,Xt)|0,l=l+Math.imul(Nt,Qt)|0;var Ni=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,M=Math.imul(u,Kt),c=Math.imul(u,$t),c=c+Math.imul(m,Kt)|0,l=Math.imul(m,$t),M=M+Math.imul(g,Ht)|0,c=c+Math.imul(g,Zt)|0,c=c+Math.imul(h,Ht)|0,l=l+Math.imul(h,Zt)|0,M=M+Math.imul(St,Wt)|0,c=c+Math.imul(St,Yt)|0,c=c+Math.imul(E,Wt)|0,l=l+Math.imul(E,Yt)|0,M=M+Math.imul(Mt,Vt)|0,c=c+Math.imul(Mt,Gt)|0,c=c+Math.imul(Bt,Vt)|0,l=l+Math.imul(Bt,Gt)|0,M=M+Math.imul(vt,Xt)|0,c=c+Math.imul(vt,Qt)|0,c=c+Math.imul(It,Xt)|0,l=l+Math.imul(It,Qt)|0;var ki=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(ki>>>26)|0,ki&=67108863,M=Math.imul(u,Ht),c=Math.imul(u,Zt),c=c+Math.imul(m,Ht)|0,l=Math.imul(m,Zt),M=M+Math.imul(g,Wt)|0,c=c+Math.imul(g,Yt)|0,c=c+Math.imul(h,Wt)|0,l=l+Math.imul(h,Yt)|0,M=M+Math.imul(St,Vt)|0,c=c+Math.imul(St,Gt)|0,c=c+Math.imul(E,Vt)|0,l=l+Math.imul(E,Gt)|0,M=M+Math.imul(Mt,Xt)|0,c=c+Math.imul(Mt,Qt)|0,c=c+Math.imul(Bt,Xt)|0,l=l+Math.imul(Bt,Qt)|0;var Ri=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,M=Math.imul(u,Wt),c=Math.imul(u,Yt),c=c+Math.imul(m,Wt)|0,l=Math.imul(m,Yt),M=M+Math.imul(g,Vt)|0,c=c+Math.imul(g,Gt)|0,c=c+Math.imul(h,Vt)|0,l=l+Math.imul(h,Gt)|0,M=M+Math.imul(St,Xt)|0,c=c+Math.imul(St,Qt)|0,c=c+Math.imul(E,Xt)|0,l=l+Math.imul(E,Qt)|0;var Li=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Li>>>26)|0,Li&=67108863,M=Math.imul(u,Vt),c=Math.imul(u,Gt),c=c+Math.imul(m,Vt)|0,l=Math.imul(m,Gt),M=M+Math.imul(g,Xt)|0,c=c+Math.imul(g,Qt)|0,c=c+Math.imul(h,Xt)|0,l=l+Math.imul(h,Qt)|0;var Ui=(z+M|0)+((c&8191)<<13)|0;z=(l+(c>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,M=Math.imul(u,Xt),c=Math.imul(u,Qt),c=c+Math.imul(m,Xt)|0,l=Math.imul(m,Qt);var Fi=(z+M|0)+((c&8191)<<13)|0;return z=(l+(c>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,C[0]=wi,C[1]=mi,C[2]=xi,C[3]=bi,C[4]=Ei,C[5]=vi,C[6]=Ii,C[7]=Mi,C[8]=Bi,C[9]=Ai,C[10]=Si,C[11]=_i,C[12]=Ti,C[13]=Ni,C[14]=ki,C[15]=Ri,C[16]=Li,C[17]=Ui,C[18]=Fi,z!==0&&(C[19]=z,b.length++),b};Math.imul||(G=Y);function X(v,a,y){y.negative=a.negative^v.negative,y.length=v.length+a.length;for(var b=0,A=0,S=0;S<y.length-1;S++){var C=A;A=0;for(var z=b&67108863,M=Math.min(S,a.length-1),c=Math.max(0,S-v.length+1);c<=M;c++){var l=S-c,I=v.words[l]|0,_=a.words[c]|0,q=I*_,Q=q&67108863;C=C+(q/67108864|0)|0,Q=Q+z|0,z=Q&67108863,C=C+(Q>>>26)|0,A+=C>>>26,C&=67108863}y.words[S]=z,b=C,C=A}return b!==0?y.words[S]=b:y.length--,y._strip()}function nt(v,a,y){return X(v,a,y)}i.prototype.mulTo=function(a,y){var b,A=this.length+a.length;return this.length===10&&a.length===10?b=G(this,a,y):A<63?b=Y(this,a,y):A<1024?b=X(this,a,y):b=nt(this,a,y),b},i.prototype.mul=function(a){var y=new i(null);return y.words=new Array(this.length+a.length),this.mulTo(a,y)},i.prototype.mulf=function(a){var y=new i(null);return y.words=new Array(this.length+a.length),nt(this,a,y)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var y=a<0;y&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var b=0,A=0;A<this.length;A++){var S=(this.words[A]|0)*a,C=(S&67108863)+(b&67108863);b>>=26,b+=S/67108864|0,b+=C>>>26,this.words[A]=C&67108863}return b!==0&&(this.words[A]=b,this.length++),this.length=a===0?1:this.length,y?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var y=k(a);if(y.length===0)return new i(1);for(var b=this,A=0;A<y.length&&y[A]===0;A++,b=b.sqr());if(++A<y.length)for(var S=b.sqr();A<y.length;A++,S=S.sqr())y[A]!==0&&(b=b.mul(S));return b},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var y=a%26,b=(a-y)/26,A=67108863>>>26-y<<26-y,S;if(y!==0){var C=0;for(S=0;S<this.length;S++){var z=this.words[S]&A,M=(this.words[S]|0)-z<<y;this.words[S]=M|C,C=z>>>26-y}C&&(this.words[S]=C,this.length++)}if(b!==0){for(S=this.length-1;S>=0;S--)this.words[S+b]=this.words[S];for(S=0;S<b;S++)this.words[S]=0;this.length+=b}return this._strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,y,b){n(typeof a=="number"&&a>=0);var A;y?A=(y-y%26)/26:A=0;var S=a%26,C=Math.min((a-S)/26,this.length),z=67108863^67108863>>>S<<S,M=b;if(A-=C,A=Math.max(0,A),M){for(var c=0;c<C;c++)M.words[c]=this.words[c];M.length=C}if(C!==0)if(this.length>C)for(this.length-=C,c=0;c<this.length;c++)this.words[c]=this.words[c+C];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(l!==0||c>=A);c--){var I=this.words[c]|0;this.words[c]=l<<26-S|I>>>S,l=I&z}return M&&l!==0&&(M.words[M.length++]=l),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,y,b){return n(this.negative===0),this.iushrn(a,y,b)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var y=a%26,b=(a-y)/26,A=1<<y;if(this.length<=b)return!1;var S=this.words[b];return!!(S&A)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var y=a%26,b=(a-y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(y!==0&&b++,this.length=Math.min(b,this.length),y!==0){var A=67108863^67108863>>>y<<y;this.words[this.length-1]&=A}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,y,b){var A=a.length+b,S;this._expand(A);var C,z=0;for(S=0;S<a.length;S++){C=(this.words[S+b]|0)+z;var M=(a.words[S]|0)*y;C-=M&67108863,z=(C>>26)-(M/67108864|0),this.words[S+b]=C&67108863}for(;S<this.length-b;S++)C=(this.words[S+b]|0)+z,z=C>>26,this.words[S+b]=C&67108863;if(z===0)return this._strip();for(n(z===-1),z=0,S=0;S<this.length;S++)C=-(this.words[S]|0)+z,z=C>>26,this.words[S]=C&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,y){var b=this.length-a.length,A=this.clone(),S=a,C=S.words[S.length-1]|0,z=this._countBits(C);b=26-z,b!==0&&(S=S.ushln(b),A.iushln(b),C=S.words[S.length-1]|0);var M=A.length-S.length,c;if(y!=="mod"){c=new i(null),c.length=M+1,c.words=new Array(c.length);for(var l=0;l<c.length;l++)c.words[l]=0}var I=A.clone()._ishlnsubmul(S,1,M);I.negative===0&&(A=I,c&&(c.words[M]=1));for(var _=M-1;_>=0;_--){var q=(A.words[S.length+_]|0)*67108864+(A.words[S.length+_-1]|0);for(q=Math.min(q/C|0,67108863),A._ishlnsubmul(S,q,_);A.negative!==0;)q--,A.negative=0,A._ishlnsubmul(S,1,_),A.isZero()||(A.negative^=1);c&&(c.words[_]=q)}return c&&c._strip(),A._strip(),y!=="div"&&b!==0&&A.iushrn(b),{div:c||null,mod:A}},i.prototype.divmod=function(a,y,b){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var A,S,C;return this.negative!==0&&a.negative===0?(C=this.neg().divmod(a,y),y!=="mod"&&(A=C.div.neg()),y!=="div"&&(S=C.mod.neg(),b&&S.negative!==0&&S.iadd(a)),{div:A,mod:S}):this.negative===0&&a.negative!==0?(C=this.divmod(a.neg(),y),y!=="mod"&&(A=C.div.neg()),{div:A,mod:C.mod}):(this.negative&a.negative)!==0?(C=this.neg().divmod(a.neg(),y),y!=="div"&&(S=C.mod.neg(),b&&S.negative!==0&&S.isub(a)),{div:C.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?y==="div"?{div:this.divn(a.words[0]),mod:null}:y==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,y)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var y=this.divmod(a);if(y.mod.isZero())return y.div;var b=y.div.negative!==0?y.mod.isub(a):y.mod,A=a.ushrn(1),S=a.andln(1),C=b.cmp(A);return C<0||S===1&&C===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},i.prototype.modrn=function(a){var y=a<0;y&&(a=-a),n(a<=67108863);for(var b=(1<<26)%a,A=0,S=this.length-1;S>=0;S--)A=(b*A+(this.words[S]|0))%a;return y?-A:A},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var y=a<0;y&&(a=-a),n(a<=67108863);for(var b=0,A=this.length-1;A>=0;A--){var S=(this.words[A]|0)+b*67108864;this.words[A]=S/a|0,b=S%a}return this._strip(),y?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var y=this,b=a.clone();y.negative!==0?y=y.umod(a):y=y.clone();for(var A=new i(1),S=new i(0),C=new i(0),z=new i(1),M=0;y.isEven()&&b.isEven();)y.iushrn(1),b.iushrn(1),++M;for(var c=b.clone(),l=y.clone();!y.isZero();){for(var I=0,_=1;(y.words[0]&_)===0&&I<26;++I,_<<=1);if(I>0)for(y.iushrn(I);I-- >0;)(A.isOdd()||S.isOdd())&&(A.iadd(c),S.isub(l)),A.iushrn(1),S.iushrn(1);for(var q=0,Q=1;(b.words[0]&Q)===0&&q<26;++q,Q<<=1);if(q>0)for(b.iushrn(q);q-- >0;)(C.isOdd()||z.isOdd())&&(C.iadd(c),z.isub(l)),C.iushrn(1),z.iushrn(1);y.cmp(b)>=0?(y.isub(b),A.isub(C),S.isub(z)):(b.isub(y),C.isub(A),z.isub(S))}return{a:C,b:z,gcd:b.iushln(M)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var y=this,b=a.clone();y.negative!==0?y=y.umod(a):y=y.clone();for(var A=new i(1),S=new i(0),C=b.clone();y.cmpn(1)>0&&b.cmpn(1)>0;){for(var z=0,M=1;(y.words[0]&M)===0&&z<26;++z,M<<=1);if(z>0)for(y.iushrn(z);z-- >0;)A.isOdd()&&A.iadd(C),A.iushrn(1);for(var c=0,l=1;(b.words[0]&l)===0&&c<26;++c,l<<=1);if(c>0)for(b.iushrn(c);c-- >0;)S.isOdd()&&S.iadd(C),S.iushrn(1);y.cmp(b)>=0?(y.isub(b),A.isub(S)):(b.isub(y),S.isub(A))}var I;return y.cmpn(1)===0?I=A:I=S,I.cmpn(0)<0&&I.iadd(a),I},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var y=this.clone(),b=a.clone();y.negative=0,b.negative=0;for(var A=0;y.isEven()&&b.isEven();A++)y.iushrn(1),b.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;b.isEven();)b.iushrn(1);var S=y.cmp(b);if(S<0){var C=y;y=b,b=C}else if(S===0||b.cmpn(1)===0)break;y.isub(b)}while(!0);return b.iushln(A)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var y=a%26,b=(a-y)/26,A=1<<y;if(this.length<=b)return this._expand(b+1),this.words[b]|=A,this;for(var S=A,C=b;S!==0&&C<this.length;C++){var z=this.words[C]|0;z+=S,S=z>>>26,z&=67108863,this.words[C]=z}return S!==0&&(this.words[C]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var y=a<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var b;if(this.length>1)b=1;else{y&&(a=-a),n(a<=67108863,"Number is too big");var A=this.words[0]|0;b=A===a?0:A<a?-1:1}return this.negative!==0?-b|0:b},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var y=this.ucmp(a);return this.negative!==0?-y|0:y},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var y=0,b=this.length-1;b>=0;b--){var A=this.words[b]|0,S=a.words[b]|0;if(A!==S){A<S?y=-1:A>S&&(y=1);break}}return y},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new D(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var V={k256:null,p224:null,p192:null,p25519:null};function tt(v,a){this.name=v,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}tt.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},tt.prototype.ireduce=function(a){var y=a,b;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),b=y.bitLength();while(b>this.n);var A=b<this.n?-1:y.ucmp(this.p);return A===0?(y.words[0]=0,y.length=1):A>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},tt.prototype.split=function(a,y){a.iushrn(this.n,0,y)},tt.prototype.imulK=function(a){return a.imul(this.k)};function st(){tt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(st,tt),st.prototype.split=function(a,y){for(var b=4194303,A=Math.min(a.length,9),S=0;S<A;S++)y.words[S]=a.words[S];if(y.length=A,a.length<=9){a.words[0]=0,a.length=1;return}var C=a.words[9];for(y.words[y.length++]=C&b,S=10;S<a.length;S++){var z=a.words[S]|0;a.words[S-10]=(z&b)<<4|C>>>22,C=z}C>>>=22,a.words[S-10]=C,C===0&&a.length>10?a.length-=10:a.length-=9},st.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var y=0,b=0;b<a.length;b++){var A=a.words[b]|0;y+=A*977,a.words[b]=y&67108863,y=A*64+(y/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function et(){tt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(et,tt);function F(){tt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(F,tt);function U(){tt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(U,tt),U.prototype.imulK=function(a){for(var y=0,b=0;b<a.length;b++){var A=(a.words[b]|0)*19+y,S=A&67108863;A>>>=26,a.words[b]=S,y=A}return y!==0&&(a.words[a.length++]=y),a},i._prime=function(a){if(V[a])return V[a];var y;if(a==="k256")y=new st;else if(a==="p224")y=new et;else if(a==="p192")y=new F;else if(a==="p25519")y=new U;else throw new Error("Unknown prime "+a);return V[a]=y,y};function D(v){if(typeof v=="string"){var a=i._prime(v);this.m=a.p,this.prime=a}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}D.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},D.prototype._verify2=function(a,y){n((a.negative|y.negative)===0,"red works only with positives"),n(a.red&&a.red===y.red,"red works only with red numbers")},D.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(w(a,a.umod(this.m)._forceRed(this)),a)},D.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},D.prototype.add=function(a,y){this._verify2(a,y);var b=a.add(y);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},D.prototype.iadd=function(a,y){this._verify2(a,y);var b=a.iadd(y);return b.cmp(this.m)>=0&&b.isub(this.m),b},D.prototype.sub=function(a,y){this._verify2(a,y);var b=a.sub(y);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},D.prototype.isub=function(a,y){this._verify2(a,y);var b=a.isub(y);return b.cmpn(0)<0&&b.iadd(this.m),b},D.prototype.shl=function(a,y){return this._verify1(a),this.imod(a.ushln(y))},D.prototype.imul=function(a,y){return this._verify2(a,y),this.imod(a.imul(y))},D.prototype.mul=function(a,y){return this._verify2(a,y),this.imod(a.mul(y))},D.prototype.isqr=function(a){return this.imul(a,a.clone())},D.prototype.sqr=function(a){return this.mul(a,a)},D.prototype.sqrt=function(a){if(a.isZero())return a.clone();var y=this.m.andln(3);if(n(y%2===1),y===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(a,b)}for(var A=this.m.subn(1),S=0;!A.isZero()&&A.andln(1)===0;)S++,A.iushrn(1);n(!A.isZero());var C=new i(1).toRed(this),z=C.redNeg(),M=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,M).cmp(z)!==0;)c.redIAdd(z);for(var l=this.pow(c,A),I=this.pow(a,A.addn(1).iushrn(1)),_=this.pow(a,A),q=S;_.cmp(C)!==0;){for(var Q=_,it=0;Q.cmp(C)!==0;it++)Q=Q.redSqr();n(it<q);var ft=this.pow(l,new i(1).iushln(q-it-1));I=I.redMul(ft),l=ft.redSqr(),_=_.redMul(l),q=it}return I},D.prototype.invm=function(a){var y=a._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},D.prototype.pow=function(a,y){if(y.isZero())return new i(1).toRed(this);if(y.cmpn(1)===0)return a.clone();var b=4,A=new Array(1<<b);A[0]=new i(1).toRed(this),A[1]=a;for(var S=2;S<A.length;S++)A[S]=this.mul(A[S-1],a);var C=A[0],z=0,M=0,c=y.bitLength()%26;for(c===0&&(c=26),S=y.length-1;S>=0;S--){for(var l=y.words[S],I=c-1;I>=0;I--){var _=l>>I&1;if(C!==A[0]&&(C=this.sqr(C)),_===0&&z===0){M=0;continue}z<<=1,z|=_,M++,!(M!==b&&(S!==0||I!==0))&&(C=this.mul(C,A[z]),M=0,z=0)}c=26}return C},D.prototype.convertTo=function(a){var y=a.umod(this.m);return y===a?y.clone():y},D.prototype.convertFrom=function(a){var y=a.clone();return y.red=null,y},i.mont=function(a){return new j(a)};function j(v){D.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(j,D),j.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},j.prototype.convertFrom=function(a){var y=this.imod(a.mul(this.rinv));return y.red=null,y},j.prototype.imul=function(a,y){if(a.isZero()||y.isZero())return a.words[0]=0,a.length=1,a;var b=a.imul(y),A=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(A).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},j.prototype.mul=function(a,y){if(a.isZero()||y.isZero())return new i(0)._forceRed(this);var b=a.mul(y),A=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(A).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},j.prototype.invm=function(a){var y=this.imod(a._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(e,Mu)}(Pr)),Pr.exports}var Bu=Do();const Co=To(Bu);var qr={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Oo;function Au(){return Oo||(Oo=1,function(e,t){var r=zn(),n=r.Buffer;function s(f,p){for(var x in f)p[x]=f[x]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=i);function i(f,p,x){return n(f,p,x)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(f,p,x){if(typeof f=="number")throw new TypeError("Argument must not be a number");return n(f,p,x)},i.alloc=function(f,p,x){if(typeof f!="number")throw new TypeError("Argument must be a number");var B=n(f);return p!==void 0?typeof x=="string"?B.fill(p,x):B.fill(p):B.fill(0),B},i.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return n(f)},i.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(f)}}(qr,qr.exports)),qr.exports}var jn,zo;function Su(){if(zo)return jn;zo=1;var e=Au().Buffer;function t(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<r.length;i++){var f=r.charAt(i),p=f.charCodeAt(0);if(n[p]!==255)throw new TypeError(f+" is ambiguous");n[p]=i}var x=r.length,B=r.charAt(0),w=Math.log(x)/Math.log(256),T=Math.log(256)/Math.log(x);function K(O){if((Array.isArray(O)||O instanceof Uint8Array)&&(O=e.from(O)),!e.isBuffer(O))throw new TypeError("Expected Buffer");if(O.length===0)return"";for(var k=0,Y=0,G=0,X=O.length;G!==X&&O[G]===0;)G++,k++;for(var nt=(X-G)*T+1>>>0,V=new Uint8Array(nt);G!==X;){for(var tt=O[G],st=0,et=nt-1;(tt!==0||st<Y)&&et!==-1;et--,st++)tt+=256*V[et]>>>0,V[et]=tt%x>>>0,tt=tt/x>>>0;if(tt!==0)throw new Error("Non-zero carry");Y=st,G++}for(var F=nt-Y;F!==nt&&V[F]===0;)F++;for(var U=B.repeat(k);F<nt;++F)U+=r.charAt(V[F]);return U}function N(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return e.alloc(0);for(var k=0,Y=0,G=0;O[k]===B;)Y++,k++;for(var X=(O.length-k)*w+1>>>0,nt=new Uint8Array(X);k<O.length;){var V=O.charCodeAt(k);if(V>255)return;var tt=n[V];if(tt===255)return;for(var st=0,et=X-1;(tt!==0||st<G)&&et!==-1;et--,st++)tt+=x*nt[et]>>>0,nt[et]=tt%256>>>0,tt=tt/256>>>0;if(tt!==0)throw new Error("Non-zero carry");G=st,k++}for(var F=X-G;F!==X&&nt[F]===0;)F++;var U=e.allocUnsafe(Y+(X-F));U.fill(0,0,Y);for(var D=Y;F!==X;)U[D++]=nt[F++];return U}function $(O){var k=N(O);if(k)return k;throw new Error("Non-base"+x+" character")}return{encode:K,decodeUnsafe:N,decode:$}}return jn=t,jn}var Pn,jo;function Po(){if(jo)return Pn;jo=1;var e=Su(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Pn=e(t),Pn}var _u=Po();const ue=To(_u),qo=so;var Ko={},Kr={};Kr.byteLength=ku,Kr.toByteArray=Lu,Kr.fromByteArray=Du;for(var Ae=[],we=[],Tu=typeof Uint8Array<"u"?Uint8Array:Array,qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",or=0,Nu=qn.length;or<Nu;++or)Ae[or]=qn[or],we[qn.charCodeAt(or)]=or;we[45]=62,we[95]=63;function $o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function ku(e){var t=$o(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Ru(e,t,r){return(t+r)*3/4-r}function Lu(e){var t,r=$o(e),n=r[0],s=r[1],i=new Tu(Ru(e,n,s)),f=0,p=s>0?n-4:n,x;for(x=0;x<p;x+=4)t=we[e.charCodeAt(x)]<<18|we[e.charCodeAt(x+1)]<<12|we[e.charCodeAt(x+2)]<<6|we[e.charCodeAt(x+3)],i[f++]=t>>16&255,i[f++]=t>>8&255,i[f++]=t&255;return s===2&&(t=we[e.charCodeAt(x)]<<2|we[e.charCodeAt(x+1)]>>4,i[f++]=t&255),s===1&&(t=we[e.charCodeAt(x)]<<10|we[e.charCodeAt(x+1)]<<4|we[e.charCodeAt(x+2)]>>2,i[f++]=t>>8&255,i[f++]=t&255),i}function Uu(e){return Ae[e>>18&63]+Ae[e>>12&63]+Ae[e>>6&63]+Ae[e&63]}function Fu(e,t,r){for(var n,s=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(Uu(n));return s.join("")}function Du(e){for(var t,r=e.length,n=r%3,s=[],i=16383,f=0,p=r-n;f<p;f+=i)s.push(Fu(e,f,f+i>p?p:f+i));return n===1?(t=e[r-1],s.push(Ae[t>>2]+Ae[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],s.push(Ae[t>>10]+Ae[t>>4&63]+Ae[t<<2&63]+"=")),s.join("")}var Kn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Kn.read=function(e,t,r,n,s){var i,f,p=s*8-n-1,x=(1<<p)-1,B=x>>1,w=-7,T=r?s-1:0,K=r?-1:1,N=e[t+T];for(T+=K,i=N&(1<<-w)-1,N>>=-w,w+=p;w>0;i=i*256+e[t+T],T+=K,w-=8);for(f=i&(1<<-w)-1,i>>=-w,w+=n;w>0;f=f*256+e[t+T],T+=K,w-=8);if(i===0)i=1-B;else{if(i===x)return f?NaN:(N?-1:1)*(1/0);f=f+Math.pow(2,n),i=i-B}return(N?-1:1)*f*Math.pow(2,i-n)},Kn.write=function(e,t,r,n,s,i){var f,p,x,B=i*8-s-1,w=(1<<B)-1,T=w>>1,K=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=n?0:i-1,$=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(p=isNaN(t)?1:0,f=w):(f=Math.floor(Math.log(t)/Math.LN2),t*(x=Math.pow(2,-f))<1&&(f--,x*=2),f+T>=1?t+=K/x:t+=K*Math.pow(2,1-T),t*x>=2&&(f++,x/=2),f+T>=w?(p=0,f=w):f+T>=1?(p=(t*x-1)*Math.pow(2,s),f=f+T):(p=t*Math.pow(2,T-1)*Math.pow(2,s),f=0));s>=8;e[r+N]=p&255,N+=$,p/=256,s-=8);for(f=f<<s|p,B+=s;B>0;e[r+N]=f&255,N+=$,f/=256,B-=8);e[r+N-$]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Kr,r=Kn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=w,e.SlowBuffer=V,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s;const{Uint8Array:i,ArrayBuffer:f,SharedArrayBuffer:p}=globalThis;w.TYPED_ARRAY_SUPPORT=x(),!w.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{const h=new i(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,i.prototype),Object.setPrototypeOf(h,o),h.foo()===42}catch{return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}});function B(h){if(h>s)throw new RangeError('The value "'+h+'" is invalid for option "size"');const o=new i(h);return Object.setPrototypeOf(o,w.prototype),o}function w(h,o,u){if(typeof h=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return $(h)}return T(h,o,u)}w.poolSize=8192;function T(h,o,u){if(typeof h=="string")return O(h,o);if(f.isView(h))return Y(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(Ut(h,f)||h&&Ut(h.buffer,f)||typeof p<"u"&&(Ut(h,p)||h&&Ut(h.buffer,p)))return G(h,o,u);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const m=h.valueOf&&h.valueOf();if(m!=null&&m!==h)return w.from(m,o,u);const R=X(h);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return w.from(h[Symbol.toPrimitive]("string"),o,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}w.from=function(h,o,u){return T(h,o,u)},Object.setPrototypeOf(w.prototype,i.prototype),Object.setPrototypeOf(w,i);function K(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function N(h,o,u){return K(h),h<=0?B(h):o!==void 0?typeof u=="string"?B(h).fill(o,u):B(h).fill(o):B(h)}w.alloc=function(h,o,u){return N(h,o,u)};function $(h){return K(h),B(h<0?0:nt(h)|0)}w.allocUnsafe=function(h){return $(h)},w.allocUnsafeSlow=function(h){return $(h)};function O(h,o){if((typeof o!="string"||o==="")&&(o="utf8"),!w.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const u=tt(h,o)|0;let m=B(u);const R=m.write(h,o);return R!==u&&(m=m.slice(0,R)),m}function k(h){const o=h.length<0?0:nt(h.length)|0,u=B(o);for(let m=0;m<o;m+=1)u[m]=h[m]&255;return u}function Y(h){if(Ut(h,i)){const o=new i(h);return G(o.buffer,o.byteOffset,o.byteLength)}return k(h)}function G(h,o,u){if(o<0||h.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<o+(u||0))throw new RangeError('"length" is outside of buffer bounds');let m;return o===void 0&&u===void 0?m=new i(h):u===void 0?m=new i(h,o):m=new i(h,o,u),Object.setPrototypeOf(m,w.prototype),m}function X(h){if(w.isBuffer(h)){const o=nt(h.length)|0,u=B(o);return u.length===0||h.copy(u,0,0,o),u}if(h.length!==void 0)return typeof h.length!="number"||St(h.length)?B(0):k(h);if(h.type==="Buffer"&&Array.isArray(h.data))return k(h.data)}function nt(h){if(h>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return h|0}function V(h){return+h!=h&&(h=0),w.alloc(+h)}w.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==w.prototype},w.compare=function(o,u){if(Ut(o,i)&&(o=w.from(o,o.offset,o.byteLength)),Ut(u,i)&&(u=w.from(u,u.offset,u.byteLength)),!w.isBuffer(o)||!w.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===u)return 0;let m=o.length,R=u.length;for(let P=0,H=Math.min(m,R);P<H;++P)if(o[P]!==u[P]){m=o[P],R=u[P];break}return m<R?-1:R<m?1:0},w.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(o,u){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return w.alloc(0);let m;if(u===void 0)for(u=0,m=0;m<o.length;++m)u+=o[m].length;const R=w.allocUnsafe(u);let P=0;for(m=0;m<o.length;++m){let H=o[m];if(Ut(H,i))P+H.length>R.length?(w.isBuffer(H)||(H=w.from(H)),H.copy(R,P)):i.prototype.set.call(R,H,P);else if(w.isBuffer(H))H.copy(R,P);else throw new TypeError('"list" argument must be an Array of Buffers');P+=H.length}return R};function tt(h,o){if(w.isBuffer(h))return h.length;if(f.isView(h)||Ut(h,f))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);const u=h.length,m=arguments.length>2&&arguments[2]===!0;if(!m&&u===0)return 0;let R=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return vt(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return Mt(h).length;default:if(R)return m?-1:vt(h).length;o=(""+o).toLowerCase(),R=!0}}w.byteLength=tt;function st(h,o,u){let m=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,o>>>=0,u<=o))return"";for(h||(h="utf8");;)switch(h){case"hex":return c(this,o,u);case"utf8":case"utf-8":return A(this,o,u);case"ascii":return z(this,o,u);case"latin1":case"binary":return M(this,o,u);case"base64":return b(this,o,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,o,u);default:if(m)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),m=!0}}w.prototype._isBuffer=!0;function et(h,o,u){const m=h[o];h[o]=h[u],h[u]=m}w.prototype.swap16=function(){const o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<o;u+=2)et(this,u,u+1);return this},w.prototype.swap32=function(){const o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<o;u+=4)et(this,u,u+3),et(this,u+1,u+2);return this},w.prototype.swap64=function(){const o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<o;u+=8)et(this,u,u+7),et(this,u+1,u+6),et(this,u+2,u+5),et(this,u+3,u+4);return this},w.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?A(this,0,o):st.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(o){if(!w.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:w.compare(this,o)===0},w.prototype.inspect=function(){let o="";const u=e.INSPECT_MAX_BYTES;return o=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(o+=" ... "),"<Buffer "+o+">"},n&&(w.prototype[n]=w.prototype.inspect),w.prototype.compare=function(o,u,m,R,P){if(Ut(o,i)&&(o=w.from(o,o.offset,o.byteLength)),!w.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(u===void 0&&(u=0),m===void 0&&(m=o?o.length:0),R===void 0&&(R=0),P===void 0&&(P=this.length),u<0||m>o.length||R<0||P>this.length)throw new RangeError("out of range index");if(R>=P&&u>=m)return 0;if(R>=P)return-1;if(u>=m)return 1;if(u>>>=0,m>>>=0,R>>>=0,P>>>=0,this===o)return 0;let H=P-R,ct=m-u;const ot=Math.min(H,ct),dt=this.slice(R,P),Tt=o.slice(u,m);for(let lt=0;lt<ot;++lt)if(dt[lt]!==Tt[lt]){H=dt[lt],ct=Tt[lt];break}return H<ct?-1:ct<H?1:0};function F(h,o,u,m,R){if(h.length===0)return-1;if(typeof u=="string"?(m=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,St(u)&&(u=R?0:h.length-1),u<0&&(u=h.length+u),u>=h.length){if(R)return-1;u=h.length-1}else if(u<0)if(R)u=0;else return-1;if(typeof o=="string"&&(o=w.from(o,m)),w.isBuffer(o))return o.length===0?-1:U(h,o,u,m,R);if(typeof o=="number")return o=o&255,typeof i.prototype.indexOf=="function"?R?i.prototype.indexOf.call(h,o,u):i.prototype.lastIndexOf.call(h,o,u):U(h,[o],u,m,R);throw new TypeError("val must be string, number or Buffer")}function U(h,o,u,m,R){let P=1,H=h.length,ct=o.length;if(m!==void 0&&(m=String(m).toLowerCase(),m==="ucs2"||m==="ucs-2"||m==="utf16le"||m==="utf-16le")){if(h.length<2||o.length<2)return-1;P=2,H/=2,ct/=2,u/=2}function ot(Tt,lt){return P===1?Tt[lt]:Tt.readUInt16BE(lt*P)}let dt;if(R){let Tt=-1;for(dt=u;dt<H;dt++)if(ot(h,dt)===ot(o,Tt===-1?0:dt-Tt)){if(Tt===-1&&(Tt=dt),dt-Tt+1===ct)return Tt*P}else Tt!==-1&&(dt-=dt-Tt),Tt=-1}else for(u+ct>H&&(u=H-ct),dt=u;dt>=0;dt--){let Tt=!0;for(let lt=0;lt<ct;lt++)if(ot(h,dt+lt)!==ot(o,lt)){Tt=!1;break}if(Tt)return dt}return-1}w.prototype.includes=function(o,u,m){return this.indexOf(o,u,m)!==-1},w.prototype.indexOf=function(o,u,m){return F(this,o,u,m,!0)},w.prototype.lastIndexOf=function(o,u,m){return F(this,o,u,m,!1)};function D(h,o,u,m){u=Number(u)||0;const R=h.length-u;m?(m=Number(m),m>R&&(m=R)):m=R;const P=o.length;m>P/2&&(m=P/2);let H;for(H=0;H<m;++H){const ct=parseInt(o.substr(H*2,2),16);if(St(ct))return H;h[u+H]=ct}return H}function j(h,o,u,m){return Bt(vt(o,h.length-u),h,u,m)}function v(h,o,u,m){return Bt(It(o),h,u,m)}function a(h,o,u,m){return Bt(Mt(o),h,u,m)}function y(h,o,u,m){return Bt(le(o,h.length-u),h,u,m)}w.prototype.write=function(o,u,m,R){if(u===void 0)R="utf8",m=this.length,u=0;else if(m===void 0&&typeof u=="string")R=u,m=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(m)?(m=m>>>0,R===void 0&&(R="utf8")):(R=m,m=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const P=this.length-u;if((m===void 0||m>P)&&(m=P),o.length>0&&(m<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let H=!1;for(;;)switch(R){case"hex":return D(this,o,u,m);case"utf8":case"utf-8":return j(this,o,u,m);case"ascii":case"latin1":case"binary":return v(this,o,u,m);case"base64":return a(this,o,u,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,o,u,m);default:if(H)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),H=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(h,o,u){return o===0&&u===h.length?t.fromByteArray(h):t.fromByteArray(h.slice(o,u))}function A(h,o,u){u=Math.min(h.length,u);const m=[];let R=o;for(;R<u;){const P=h[R];let H=null,ct=P>239?4:P>223?3:P>191?2:1;if(R+ct<=u){let ot,dt,Tt,lt;switch(ct){case 1:P<128&&(H=P);break;case 2:ot=h[R+1],(ot&192)===128&&(lt=(P&31)<<6|ot&63,lt>127&&(H=lt));break;case 3:ot=h[R+1],dt=h[R+2],(ot&192)===128&&(dt&192)===128&&(lt=(P&15)<<12|(ot&63)<<6|dt&63,lt>2047&&(lt<55296||lt>57343)&&(H=lt));break;case 4:ot=h[R+1],dt=h[R+2],Tt=h[R+3],(ot&192)===128&&(dt&192)===128&&(Tt&192)===128&&(lt=(P&15)<<18|(ot&63)<<12|(dt&63)<<6|Tt&63,lt>65535&&lt<1114112&&(H=lt))}}H===null?(H=65533,ct=1):H>65535&&(H-=65536,m.push(H>>>10&1023|55296),H=56320|H&1023),m.push(H),R+=ct}return C(m)}const S=4096;function C(h){const o=h.length;if(o<=S)return String.fromCharCode.apply(String,h);let u="",m=0;for(;m<o;)u+=String.fromCharCode.apply(String,h.slice(m,m+=S));return u}function z(h,o,u){let m="";u=Math.min(h.length,u);for(let R=o;R<u;++R)m+=String.fromCharCode(h[R]&127);return m}function M(h,o,u){let m="";u=Math.min(h.length,u);for(let R=o;R<u;++R)m+=String.fromCharCode(h[R]);return m}function c(h,o,u){const m=h.length;(!o||o<0)&&(o=0),(!u||u<0||u>m)&&(u=m);let R="";for(let P=o;P<u;++P)R+=E[h[P]];return R}function l(h,o,u){const m=h.slice(o,u);let R="";for(let P=0;P<m.length-1;P+=2)R+=String.fromCharCode(m[P]+m[P+1]*256);return R}w.prototype.slice=function(o,u){const m=this.length;o=~~o,u=u===void 0?m:~~u,o<0?(o+=m,o<0&&(o=0)):o>m&&(o=m),u<0?(u+=m,u<0&&(u=0)):u>m&&(u=m),u<o&&(u=o);const R=this.subarray(o,u);return Object.setPrototypeOf(R,w.prototype),R};function I(h,o,u){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+o>u)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUintLE=w.prototype.readUIntLE=function(o,u,m){o=o>>>0,u=u>>>0,m||I(o,u,this.length);let R=this[o],P=1,H=0;for(;++H<u&&(P*=256);)R+=this[o+H]*P;return R},w.prototype.readUintBE=w.prototype.readUIntBE=function(o,u,m){o=o>>>0,u=u>>>0,m||I(o,u,this.length);let R=this[o+--u],P=1;for(;u>0&&(P*=256);)R+=this[o+--u]*P;return R},w.prototype.readUint8=w.prototype.readUInt8=function(o,u){return o=o>>>0,u||I(o,1,this.length),this[o]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(o,u){return o=o>>>0,u||I(o,2,this.length),this[o]|this[o+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(o,u){return o=o>>>0,u||I(o,2,this.length),this[o]<<8|this[o+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(o,u){return o=o>>>0,u||I(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(o,u){return o=o>>>0,u||I(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},w.prototype.readBigUInt64LE=d(function(o){o=o>>>0,ve(o,"offset");const u=this[o],m=this[o+7];(u===void 0||m===void 0)&&mt(o,this.length-8);const R=u+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,P=this[++o]+this[++o]*2**8+this[++o]*2**16+m*2**24;return BigInt(R)+(BigInt(P)<<BigInt(32))}),w.prototype.readBigUInt64BE=d(function(o){o=o>>>0,ve(o,"offset");const u=this[o],m=this[o+7];(u===void 0||m===void 0)&&mt(o,this.length-8);const R=u*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],P=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+m;return(BigInt(R)<<BigInt(32))+BigInt(P)}),w.prototype.readIntLE=function(o,u,m){o=o>>>0,u=u>>>0,m||I(o,u,this.length);let R=this[o],P=1,H=0;for(;++H<u&&(P*=256);)R+=this[o+H]*P;return P*=128,R>=P&&(R-=Math.pow(2,8*u)),R},w.prototype.readIntBE=function(o,u,m){o=o>>>0,u=u>>>0,m||I(o,u,this.length);let R=u,P=1,H=this[o+--R];for(;R>0&&(P*=256);)H+=this[o+--R]*P;return P*=128,H>=P&&(H-=Math.pow(2,8*u)),H},w.prototype.readInt8=function(o,u){return o=o>>>0,u||I(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},w.prototype.readInt16LE=function(o,u){o=o>>>0,u||I(o,2,this.length);const m=this[o]|this[o+1]<<8;return m&32768?m|4294901760:m},w.prototype.readInt16BE=function(o,u){o=o>>>0,u||I(o,2,this.length);const m=this[o+1]|this[o]<<8;return m&32768?m|4294901760:m},w.prototype.readInt32LE=function(o,u){return o=o>>>0,u||I(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},w.prototype.readInt32BE=function(o,u){return o=o>>>0,u||I(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},w.prototype.readBigInt64LE=d(function(o){o=o>>>0,ve(o,"offset");const u=this[o],m=this[o+7];(u===void 0||m===void 0)&&mt(o,this.length-8);const R=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(m<<24);return(BigInt(R)<<BigInt(32))+BigInt(u+this[++o]*256+this[++o]*65536+this[++o]*16777216)}),w.prototype.readBigInt64BE=d(function(o){o=o>>>0,ve(o,"offset");const u=this[o],m=this[o+7];(u===void 0||m===void 0)&&mt(o,this.length-8);const R=(u<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(R)<<BigInt(32))+BigInt(this[++o]*16777216+this[++o]*65536+this[++o]*256+m)}),w.prototype.readFloatLE=function(o,u){return o=o>>>0,u||I(o,4,this.length),r.read(this,o,!0,23,4)},w.prototype.readFloatBE=function(o,u){return o=o>>>0,u||I(o,4,this.length),r.read(this,o,!1,23,4)},w.prototype.readDoubleLE=function(o,u){return o=o>>>0,u||I(o,8,this.length),r.read(this,o,!0,52,8)},w.prototype.readDoubleBE=function(o,u){return o=o>>>0,u||I(o,8,this.length),r.read(this,o,!1,52,8)};function _(h,o,u,m,R,P){if(!w.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>R||o<P)throw new RangeError('"value" argument is out of bounds');if(u+m>h.length)throw new RangeError("Index out of range")}w.prototype.writeUintLE=w.prototype.writeUIntLE=function(o,u,m,R){if(o=+o,u=u>>>0,m=m>>>0,!R){const ct=Math.pow(2,8*m)-1;_(this,o,u,m,ct,0)}let P=1,H=0;for(this[u]=o&255;++H<m&&(P*=256);)this[u+H]=o/P&255;return u+m},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(o,u,m,R){if(o=+o,u=u>>>0,m=m>>>0,!R){const ct=Math.pow(2,8*m)-1;_(this,o,u,m,ct,0)}let P=m-1,H=1;for(this[u+P]=o&255;--P>=0&&(H*=256);)this[u+P]=o/H&255;return u+m},w.prototype.writeUint8=w.prototype.writeUInt8=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,1,255,0),this[u]=o&255,u+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,2,65535,0),this[u]=o&255,this[u+1]=o>>>8,u+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,2,65535,0),this[u]=o>>>8,this[u+1]=o&255,u+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,4,4294967295,0),this[u+3]=o>>>24,this[u+2]=o>>>16,this[u+1]=o>>>8,this[u]=o&255,u+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,4,4294967295,0),this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255,u+4};function q(h,o,u,m,R){_t(o,m,R,h,u,7);let P=Number(o&BigInt(4294967295));h[u++]=P,P=P>>8,h[u++]=P,P=P>>8,h[u++]=P,P=P>>8,h[u++]=P;let H=Number(o>>BigInt(32)&BigInt(4294967295));return h[u++]=H,H=H>>8,h[u++]=H,H=H>>8,h[u++]=H,H=H>>8,h[u++]=H,u}function Q(h,o,u,m,R){_t(o,m,R,h,u,7);let P=Number(o&BigInt(4294967295));h[u+7]=P,P=P>>8,h[u+6]=P,P=P>>8,h[u+5]=P,P=P>>8,h[u+4]=P;let H=Number(o>>BigInt(32)&BigInt(4294967295));return h[u+3]=H,H=H>>8,h[u+2]=H,H=H>>8,h[u+1]=H,H=H>>8,h[u]=H,u+8}w.prototype.writeBigUInt64LE=d(function(o,u=0){return q(this,o,u,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=d(function(o,u=0){return Q(this,o,u,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(o,u,m,R){if(o=+o,u=u>>>0,!R){const ot=Math.pow(2,8*m-1);_(this,o,u,m,ot-1,-ot)}let P=0,H=1,ct=0;for(this[u]=o&255;++P<m&&(H*=256);)o<0&&ct===0&&this[u+P-1]!==0&&(ct=1),this[u+P]=(o/H>>0)-ct&255;return u+m},w.prototype.writeIntBE=function(o,u,m,R){if(o=+o,u=u>>>0,!R){const ot=Math.pow(2,8*m-1);_(this,o,u,m,ot-1,-ot)}let P=m-1,H=1,ct=0;for(this[u+P]=o&255;--P>=0&&(H*=256);)o<0&&ct===0&&this[u+P+1]!==0&&(ct=1),this[u+P]=(o/H>>0)-ct&255;return u+m},w.prototype.writeInt8=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,1,127,-128),o<0&&(o=255+o+1),this[u]=o&255,u+1},w.prototype.writeInt16LE=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,2,32767,-32768),this[u]=o&255,this[u+1]=o>>>8,u+2},w.prototype.writeInt16BE=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,2,32767,-32768),this[u]=o>>>8,this[u+1]=o&255,u+2},w.prototype.writeInt32LE=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,4,2147483647,-2147483648),this[u]=o&255,this[u+1]=o>>>8,this[u+2]=o>>>16,this[u+3]=o>>>24,u+4},w.prototype.writeInt32BE=function(o,u,m){return o=+o,u=u>>>0,m||_(this,o,u,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255,u+4},w.prototype.writeBigInt64LE=d(function(o,u=0){return q(this,o,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=d(function(o,u=0){return Q(this,o,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(h,o,u,m,R,P){if(u+m>h.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function ft(h,o,u,m,R){return o=+o,u=u>>>0,R||it(h,o,u,4),r.write(h,o,u,m,23,4),u+4}w.prototype.writeFloatLE=function(o,u,m){return ft(this,o,u,!0,m)},w.prototype.writeFloatBE=function(o,u,m){return ft(this,o,u,!1,m)};function Ct(h,o,u,m,R){return o=+o,u=u>>>0,R||it(h,o,u,8),r.write(h,o,u,m,52,8),u+8}w.prototype.writeDoubleLE=function(o,u,m){return Ct(this,o,u,!0,m)},w.prototype.writeDoubleBE=function(o,u,m){return Ct(this,o,u,!1,m)},w.prototype.copy=function(o,u,m,R){if(!w.isBuffer(o))throw new TypeError("argument should be a Buffer");if(m||(m=0),!R&&R!==0&&(R=this.length),u>=o.length&&(u=o.length),u||(u=0),R>0&&R<m&&(R=m),R===m||o.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(m<0||m>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),o.length-u<R-m&&(R=o.length-u+m);const P=R-m;return this===o&&typeof i.prototype.copyWithin=="function"?this.copyWithin(u,m,R):i.prototype.set.call(o,this.subarray(m,R),u),P},w.prototype.fill=function(o,u,m,R){if(typeof o=="string"){if(typeof u=="string"?(R=u,u=0,m=this.length):typeof m=="string"&&(R=m,m=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!w.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(o.length===1){const H=o.charCodeAt(0);(R==="utf8"&&H<128||R==="latin1")&&(o=H)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(u<0||this.length<u||this.length<m)throw new RangeError("Out of range index");if(m<=u)return this;u=u>>>0,m=m===void 0?this.length:m>>>0,o||(o=0);let P;if(typeof o=="number")for(P=u;P<m;++P)this[P]=o;else{const H=w.isBuffer(o)?o:w.from(o,R),ct=H.length;if(ct===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(P=0;P<m-u;++P)this[P+u]=H[P%ct]}return this};const gt={};function Et(h,o,u){gt[h]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}Et("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Et("ERR_INVALID_ARG_TYPE",function(h,o){return`The "${h}" argument must be of type number. Received type ${typeof o}`},TypeError),Et("ERR_OUT_OF_RANGE",function(h,o,u){let m=`The value of "${h}" is out of range.`,R=u;return Number.isInteger(u)&&Math.abs(u)>4294967296?R=me(String(u)):typeof u=="bigint"&&(R=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(R=me(R)),R+="n"),m+=` It must be ${o}. Received ${R}`,m},RangeError);function me(h){let o="",u=h.length;const m=h[0]==="-"?1:0;for(;u>=m+4;u-=3)o=`_${h.slice(u-3,u)}${o}`;return`${h.slice(0,u)}${o}`}function bt(h,o,u){ve(o,"offset"),(h[o]===void 0||h[o+u]===void 0)&&mt(o,h.length-(u+1))}function _t(h,o,u,m,R,P){if(h>u||h<o){const H=typeof o=="bigint"?"n":"";let ct;throw o===0||o===BigInt(0)?ct=`>= 0${H} and < 2${H} ** ${(P+1)*8}${H}`:ct=`>= -(2${H} ** ${(P+1)*8-1}${H}) and < 2 ** ${(P+1)*8-1}${H}`,new gt.ERR_OUT_OF_RANGE("value",ct,h)}bt(m,R,P)}function ve(h,o){if(typeof h!="number")throw new gt.ERR_INVALID_ARG_TYPE(o,"number",h)}function mt(h,o,u){throw Math.floor(h)!==h?(ve(h,u),new gt.ERR_OUT_OF_RANGE("offset","an integer",h)):o<0?new gt.ERR_BUFFER_OUT_OF_BOUNDS:new gt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${o}`,h)}const Nt=/[^+/0-9A-Za-z-_]/g;function pr(h){if(h=h.split("=")[0],h=h.trim().replace(Nt,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function vt(h,o){o=o||1/0;let u;const m=h.length;let R=null;const P=[];for(let H=0;H<m;++H){if(u=h.charCodeAt(H),u>55295&&u<57344){if(!R){if(u>56319){(o-=3)>-1&&P.push(239,191,189);continue}else if(H+1===m){(o-=3)>-1&&P.push(239,191,189);continue}R=u;continue}if(u<56320){(o-=3)>-1&&P.push(239,191,189),R=u;continue}u=(R-55296<<10|u-56320)+65536}else R&&(o-=3)>-1&&P.push(239,191,189);if(R=null,u<128){if((o-=1)<0)break;P.push(u)}else if(u<2048){if((o-=2)<0)break;P.push(u>>6|192,u&63|128)}else if(u<65536){if((o-=3)<0)break;P.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((o-=4)<0)break;P.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return P}function It(h){const o=[];for(let u=0;u<h.length;++u)o.push(h.charCodeAt(u)&255);return o}function le(h,o){let u,m,R;const P=[];for(let H=0;H<h.length&&!((o-=2)<0);++H)u=h.charCodeAt(H),m=u>>8,R=u%256,P.push(R),P.push(m);return P}function Mt(h){return t.toByteArray(pr(h))}function Bt(h,o,u,m){let R;for(R=0;R<m&&!(R+u>=o.length||R>=h.length);++R)o[R+u]=h[R];return R}function Ut(h,o){return h instanceof o||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===o.name}function St(h){return h!==h}const E=function(){const h="0123456789abcdef",o=new Array(256);for(let u=0;u<16;++u){const m=u*16;for(let R=0;R<16;++R)o[m+R]=h[u]+h[R]}return o}();function d(h){return typeof BigInt>"u"?g:h}function g(){throw new Error("BigInt not supported")}})(Ko);const ce=Ko.Buffer;var xt={};function Re(e,t,r){return t<=e&&e<=r}function $r(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function Cu(e){for(var t=String(e),r=t.length,n=0,s=[];n<r;){var i=t.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===r-1)s.push(65533);else{var f=e.charCodeAt(n+1);if(56320<=f&&f<=57343){var p=i&1023,x=f&1023;s.push(65536+(p<<10)+x),n+=1}else s.push(65533)}n+=1}return s}function Ou(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Hr=-1;function $n(e){this.tokens=[].slice.call(e)}$n.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Hr},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var sr=-1;function Hn(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Zr="utf-8";function Wr(e,t){if(!(this instanceof Wr))return new Wr(e,t);if(e=e!==void 0?String(e).toLowerCase():Zr,e!==Zr)throw new Error("Encoding not supported. Only utf-8 is supported");t=$r(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Wr.prototype={decode:function(t,r){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),r=$r(r),this._streaming||(this._decoder=new zu({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var s=new $n(n),i=[],f;!s.endOfStream()&&(f=this._decoder.handler(s,s.read()),f!==sr);)f!==null&&(Array.isArray(f)?i.push.apply(i,f):i.push(f));if(!this._streaming){do{if(f=this._decoder.handler(s,s.read()),f===sr)break;f!==null&&(Array.isArray(f)?i.push.apply(i,f):i.push(f))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Ou(i)}};function Yr(e,t){if(!(this instanceof Yr))return new Yr(e,t);if(e=e!==void 0?String(e).toLowerCase():Zr,e!==Zr)throw new Error("Encoding not supported. Only utf-8 is supported");t=$r(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Yr.prototype={encode:function(t,r){t=t?String(t):"",r=$r(r),this._streaming||(this._encoder=new ju(this._options)),this._streaming=!!r.stream;for(var n=[],s=new $n(Cu(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==sr);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==sr;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function zu(e){var t=e.fatal,r=0,n=0,s=0,i=128,f=191;this.handler=function(p,x){if(x===Hr&&s!==0)return s=0,Hn(t);if(x===Hr)return sr;if(s===0){if(Re(x,0,127))return x;if(Re(x,194,223))s=1,r=x-192;else if(Re(x,224,239))x===224&&(i=160),x===237&&(f=159),s=2,r=x-224;else if(Re(x,240,244))x===240&&(i=144),x===244&&(f=143),s=3,r=x-240;else return Hn(t);return r=r<<6*s,null}if(!Re(x,i,f))return r=s=n=0,i=128,f=191,p.prepend(x),Hn(t);if(i=128,f=191,n+=1,r+=x-128<<6*(s-n),n!==s)return null;var B=r;return r=s=n=0,B}}function ju(e){e.fatal,this.handler=function(t,r){if(r===Hr)return sr;if(Re(r,0,127))return r;var n,s;Re(r,128,2047)?(n=1,s=192):Re(r,2048,65535)?(n=2,s=224):Re(r,65536,1114111)&&(n=3,s=240);for(var i=[(r>>6*n)+s];n>0;){var f=r>>6*(n-1);i.push(128|f&63),n-=1}return i}}const Pu=Dn(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Wr,TextEncoder:Yr},Symbol.toStringTag,{value:"Module"})));var Ho;function qu(){if(Ho)return xt;Ho=1;var e=xt&&xt.__createBinding||(Object.create?function(F,U,D,j){j===void 0&&(j=D),Object.defineProperty(F,j,{enumerable:!0,get:function(){return U[D]}})}:function(F,U,D,j){j===void 0&&(j=D),F[j]=U[D]}),t=xt&&xt.__setModuleDefault||(Object.create?function(F,U){Object.defineProperty(F,"default",{enumerable:!0,value:U})}:function(F,U){F.default=U}),r=xt&&xt.__decorate||function(F,U,D,j){var v=arguments.length,a=v<3?U:j===null?j=Object.getOwnPropertyDescriptor(U,D):j,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(F,U,D,j);else for(var b=F.length-1;b>=0;b--)(y=F[b])&&(a=(v<3?y(a):v>3?y(U,D,a):y(U,D))||a);return v>3&&a&&Object.defineProperty(U,D,a),a},n=xt&&xt.__importStar||function(F){if(F&&F.__esModule)return F;var U={};if(F!=null)for(var D in F)D!=="default"&&Object.hasOwnProperty.call(F,D)&&e(U,F,D);return t(U,F),U},s=xt&&xt.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(xt,"__esModule",{value:!0}),xt.deserializeUnchecked=xt.deserialize=xt.serialize=xt.BinaryReader=xt.BinaryWriter=xt.BorshError=xt.baseDecode=xt.baseEncode=void 0;const i=s(Do()),f=s(Po()),p=n(Pu),x=typeof TextDecoder!="function"?p.TextDecoder:TextDecoder,B=new x("utf-8",{fatal:!0});function w(F){return typeof F=="string"&&(F=ce.from(F,"utf8")),f.default.encode(ce.from(F))}xt.baseEncode=w;function T(F){return ce.from(f.default.decode(F))}xt.baseDecode=T;const K=1024;class N extends Error{constructor(U){super(U),this.fieldPath=[],this.originalMessage=U}addToFieldPath(U){this.fieldPath.splice(0,0,U),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}xt.BorshError=N;class ${constructor(){this.buf=ce.alloc(K),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=ce.concat([this.buf,ce.alloc(K)]))}writeU8(U){this.maybeResize(),this.buf.writeUInt8(U,this.length),this.length+=1}writeU16(U){this.maybeResize(),this.buf.writeUInt16LE(U,this.length),this.length+=2}writeU32(U){this.maybeResize(),this.buf.writeUInt32LE(U,this.length),this.length+=4}writeU64(U){this.maybeResize(),this.writeBuffer(ce.from(new i.default(U).toArray("le",8)))}writeU128(U){this.maybeResize(),this.writeBuffer(ce.from(new i.default(U).toArray("le",16)))}writeU256(U){this.maybeResize(),this.writeBuffer(ce.from(new i.default(U).toArray("le",32)))}writeU512(U){this.maybeResize(),this.writeBuffer(ce.from(new i.default(U).toArray("le",64)))}writeBuffer(U){this.buf=ce.concat([ce.from(this.buf.subarray(0,this.length)),U,ce.alloc(K)]),this.length+=U.length}writeString(U){this.maybeResize();const D=ce.from(U,"utf8");this.writeU32(D.length),this.writeBuffer(D)}writeFixedArray(U){this.writeBuffer(ce.from(U))}writeArray(U,D){this.maybeResize(),this.writeU32(U.length);for(const j of U)this.maybeResize(),D(j)}toArray(){return this.buf.subarray(0,this.length)}}xt.BinaryWriter=$;function O(F,U,D){const j=D.value;D.value=function(...v){try{return j.apply(this,v)}catch(a){if(a instanceof RangeError){const y=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(y)>=0)throw new N("Reached the end of buffer when deserializing")}throw a}}}class k{constructor(U){this.buf=U,this.offset=0}readU8(){const U=this.buf.readUInt8(this.offset);return this.offset+=1,U}readU16(){const U=this.buf.readUInt16LE(this.offset);return this.offset+=2,U}readU32(){const U=this.buf.readUInt32LE(this.offset);return this.offset+=4,U}readU64(){const U=this.readBuffer(8);return new i.default(U,"le")}readU128(){const U=this.readBuffer(16);return new i.default(U,"le")}readU256(){const U=this.readBuffer(32);return new i.default(U,"le")}readU512(){const U=this.readBuffer(64);return new i.default(U,"le")}readBuffer(U){if(this.offset+U>this.buf.length)throw new N(`Expected buffer length ${U} isn't within bounds`);const D=this.buf.slice(this.offset,this.offset+U);return this.offset+=U,D}readString(){const U=this.readU32(),D=this.readBuffer(U);try{return B.decode(D)}catch(j){throw new N(`Error decoding UTF-8 string: ${j}`)}}readFixedArray(U){return new Uint8Array(this.readBuffer(U))}readArray(U){const D=this.readU32(),j=Array();for(let v=0;v<D;++v)j.push(U());return j}}r([O],k.prototype,"readU8",null),r([O],k.prototype,"readU16",null),r([O],k.prototype,"readU32",null),r([O],k.prototype,"readU64",null),r([O],k.prototype,"readU128",null),r([O],k.prototype,"readU256",null),r([O],k.prototype,"readU512",null),r([O],k.prototype,"readString",null),r([O],k.prototype,"readFixedArray",null),r([O],k.prototype,"readArray",null),xt.BinaryReader=k;function Y(F){return F.charAt(0).toUpperCase()+F.slice(1)}function G(F,U,D,j,v){try{if(typeof j=="string")v[`write${Y(j)}`](D);else if(j instanceof Array)if(typeof j[0]=="number"){if(D.length!==j[0])throw new N(`Expecting byte array of length ${j[0]}, but got ${D.length} bytes`);v.writeFixedArray(D)}else if(j.length===2&&typeof j[1]=="number"){if(D.length!==j[1])throw new N(`Expecting byte array of length ${j[1]}, but got ${D.length} bytes`);for(let a=0;a<j[1];a++)G(F,null,D[a],j[0],v)}else v.writeArray(D,a=>{G(F,U,a,j[0],v)});else if(j.kind!==void 0)switch(j.kind){case"option":{D==null?v.writeU8(0):(v.writeU8(1),G(F,U,D,j.type,v));break}case"map":{v.writeU32(D.size),D.forEach((a,y)=>{G(F,U,y,j.key,v),G(F,U,a,j.value,v)});break}default:throw new N(`FieldType ${j} unrecognized`)}else X(F,D,v)}catch(a){throw a instanceof N&&a.addToFieldPath(U),a}}function X(F,U,D){if(typeof U.borshSerialize=="function"){U.borshSerialize(D);return}const j=F.get(U.constructor);if(!j)throw new N(`Class ${U.constructor.name} is missing in schema`);if(j.kind==="struct")j.fields.map(([v,a])=>{G(F,v,U[v],a,D)});else if(j.kind==="enum"){const v=U[j.field];for(let a=0;a<j.values.length;++a){const[y,b]=j.values[a];if(y===v){D.writeU8(a),G(F,y,U[y],b,D);break}}}else throw new N(`Unexpected schema kind: ${j.kind} for ${U.constructor.name}`)}function nt(F,U,D=$){const j=new D;return X(F,U,j),j.toArray()}xt.serialize=nt;function V(F,U,D,j){try{if(typeof D=="string")return j[`read${Y(D)}`]();if(D instanceof Array){if(typeof D[0]=="number")return j.readFixedArray(D[0]);if(typeof D[1]=="number"){const v=[];for(let a=0;a<D[1];a++)v.push(V(F,null,D[0],j));return v}else return j.readArray(()=>V(F,U,D[0],j))}if(D.kind==="option")return j.readU8()?V(F,U,D.type,j):void 0;if(D.kind==="map"){let v=new Map;const a=j.readU32();for(let y=0;y<a;y++){const b=V(F,U,D.key,j),A=V(F,U,D.value,j);v.set(b,A)}return v}return tt(F,D,j)}catch(v){throw v instanceof N&&v.addToFieldPath(U),v}}function tt(F,U,D){if(typeof U.borshDeserialize=="function")return U.borshDeserialize(D);const j=F.get(U);if(!j)throw new N(`Class ${U.name} is missing in schema`);if(j.kind==="struct"){const v={};for(const[a,y]of F.get(U).fields)v[a]=V(F,a,y,D);return new U(v)}if(j.kind==="enum"){const v=D.readU8();if(v>=j.values.length)throw new N(`Enum index: ${v} is out of range`);const[a,y]=j.values[v],b=V(F,a,y,D);return new U({[a]:b})}throw new N(`Unexpected schema kind: ${j.kind} for ${U.constructor.name}`)}function st(F,U,D,j=k){const v=new j(D),a=tt(F,U,v);if(v.offset<D.length)throw new N(`Unexpected ${D.length-v.offset} bytes after deserialized data`);return a}xt.deserialize=st;function et(F,U,D,j=k){const v=new j(D);return tt(F,U,v)}return xt.deserializeUnchecked=et,xt}var Zn=qu(),W={},Zo;function Ku(){if(Zo)return W;Zo=1,Object.defineProperty(W,"__esModule",{value:!0}),W.s16=W.s8=W.nu64be=W.u48be=W.u40be=W.u32be=W.u24be=W.u16be=W.nu64=W.u48=W.u40=W.u32=W.u24=W.u16=W.u8=W.offset=W.greedy=W.Constant=W.UTF8=W.CString=W.Blob=W.Boolean=W.BitField=W.BitStructure=W.VariantLayout=W.Union=W.UnionLayoutDiscriminator=W.UnionDiscriminator=W.Structure=W.Sequence=W.DoubleBE=W.Double=W.FloatBE=W.Float=W.NearInt64BE=W.NearInt64=W.NearUInt64BE=W.NearUInt64=W.IntBE=W.Int=W.UIntBE=W.UInt=W.OffsetLayout=W.GreedyCount=W.ExternalLayout=W.bindConstructorLayout=W.nameWithProperty=W.Layout=W.uint8ArrayToBuffer=W.checkUint8Array=void 0,W.constant=W.utf8=W.cstr=W.blob=W.unionLayoutDiscriminator=W.union=W.seq=W.bits=W.struct=W.f64be=W.f64=W.f32be=W.f32=W.ns64be=W.s48be=W.s40be=W.s32be=W.s24be=W.s16be=W.ns64=W.s48=W.s40=W.s32=W.s24=void 0;const e=zn();function t(c){if(!(c instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}W.checkUint8Array=t;function r(c){return t(c),e.Buffer.from(c.buffer,c.byteOffset,c.length)}W.uint8ArrayToBuffer=r;let n=class{constructor(l,I){if(!Number.isInteger(l))throw new TypeError("span must be an integer");this.span=l,this.property=I}makeDestinationObject(){return{}}getSpan(l,I){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(l){const I=Object.create(this.constructor.prototype);return Object.assign(I,this),I.property=l,I}fromArray(l){}};W.Layout=n;function s(c,l){return l.property?c+"["+l.property+"]":c}W.nameWithProperty=s;function i(c,l){if(typeof c!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(c,"layout_"))throw new Error("Class is already bound to a layout");if(!(l&&l instanceof n))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(l,"boundConstructor_"))throw new Error("layout is already bound to a constructor");c.layout_=l,l.boundConstructor_=c,l.makeDestinationObject=()=>new c,Object.defineProperty(c.prototype,"encode",{value(I,_){return l.encode(this,I,_)},writable:!0}),Object.defineProperty(c,"decode",{value(I,_){return l.decode(I,_)},writable:!0})}W.bindConstructorLayout=i;class f extends n{isCount(){throw new Error("ExternalLayout is abstract")}}W.ExternalLayout=f;class p extends f{constructor(l=1,I){if(!Number.isInteger(l)||0>=l)throw new TypeError("elementSpan must be a (positive) integer");super(-1,I),this.elementSpan=l}isCount(){return!0}decode(l,I=0){t(l);const _=l.length-I;return Math.floor(_/this.elementSpan)}encode(l,I,_){return 0}}W.GreedyCount=p;class x extends f{constructor(l,I=0,_){if(!(l instanceof n))throw new TypeError("layout must be a Layout");if(!Number.isInteger(I))throw new TypeError("offset must be integer or undefined");super(l.span,_||l.property),this.layout=l,this.offset=I}isCount(){return this.layout instanceof B||this.layout instanceof w}decode(l,I=0){return this.layout.decode(l,I+this.offset)}encode(l,I,_=0){return this.layout.encode(l,I,_+this.offset)}}W.OffsetLayout=x;class B extends n{constructor(l,I){if(super(l,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(l,I=0){return r(l).readUIntLE(I,this.span)}encode(l,I,_=0){return r(I).writeUIntLE(l,_,this.span),this.span}}W.UInt=B;class w extends n{constructor(l,I){if(super(l,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(l,I=0){return r(l).readUIntBE(I,this.span)}encode(l,I,_=0){return r(I).writeUIntBE(l,_,this.span),this.span}}W.UIntBE=w;class T extends n{constructor(l,I){if(super(l,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(l,I=0){return r(l).readIntLE(I,this.span)}encode(l,I,_=0){return r(I).writeIntLE(l,_,this.span),this.span}}W.Int=T;class K extends n{constructor(l,I){if(super(l,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(l,I=0){return r(l).readIntBE(I,this.span)}encode(l,I,_=0){return r(I).writeIntBE(l,_,this.span),this.span}}W.IntBE=K;const N=Math.pow(2,32);function $(c){const l=Math.floor(c/N),I=c-l*N;return{hi32:l,lo32:I}}function O(c,l){return c*N+l}class k extends n{constructor(l){super(8,l)}decode(l,I=0){const _=r(l),q=_.readUInt32LE(I),Q=_.readUInt32LE(I+4);return O(Q,q)}encode(l,I,_=0){const q=$(l),Q=r(I);return Q.writeUInt32LE(q.lo32,_),Q.writeUInt32LE(q.hi32,_+4),8}}W.NearUInt64=k;class Y extends n{constructor(l){super(8,l)}decode(l,I=0){const _=r(l),q=_.readUInt32BE(I),Q=_.readUInt32BE(I+4);return O(q,Q)}encode(l,I,_=0){const q=$(l),Q=r(I);return Q.writeUInt32BE(q.hi32,_),Q.writeUInt32BE(q.lo32,_+4),8}}W.NearUInt64BE=Y;class G extends n{constructor(l){super(8,l)}decode(l,I=0){const _=r(l),q=_.readUInt32LE(I),Q=_.readInt32LE(I+4);return O(Q,q)}encode(l,I,_=0){const q=$(l),Q=r(I);return Q.writeUInt32LE(q.lo32,_),Q.writeInt32LE(q.hi32,_+4),8}}W.NearInt64=G;class X extends n{constructor(l){super(8,l)}decode(l,I=0){const _=r(l),q=_.readInt32BE(I),Q=_.readUInt32BE(I+4);return O(q,Q)}encode(l,I,_=0){const q=$(l),Q=r(I);return Q.writeInt32BE(q.hi32,_),Q.writeUInt32BE(q.lo32,_+4),8}}W.NearInt64BE=X;class nt extends n{constructor(l){super(4,l)}decode(l,I=0){return r(l).readFloatLE(I)}encode(l,I,_=0){return r(I).writeFloatLE(l,_),4}}W.Float=nt;class V extends n{constructor(l){super(4,l)}decode(l,I=0){return r(l).readFloatBE(I)}encode(l,I,_=0){return r(I).writeFloatBE(l,_),4}}W.FloatBE=V;class tt extends n{constructor(l){super(8,l)}decode(l,I=0){return r(l).readDoubleLE(I)}encode(l,I,_=0){return r(I).writeDoubleLE(l,_),8}}W.Double=tt;class st extends n{constructor(l){super(8,l)}decode(l,I=0){return r(l).readDoubleBE(I)}encode(l,I,_=0){return r(I).writeDoubleBE(l,_),8}}W.DoubleBE=st;class et extends n{constructor(l,I,_){if(!(l instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(I instanceof f&&I.isCount()||Number.isInteger(I)&&0<=I))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let q=-1;!(I instanceof f)&&0<l.span&&(q=I*l.span),super(q,_),this.elementLayout=l,this.count=I}getSpan(l,I=0){if(0<=this.span)return this.span;let _=0,q=this.count;if(q instanceof f&&(q=q.decode(l,I)),0<this.elementLayout.span)_=q*this.elementLayout.span;else{let Q=0;for(;Q<q;)_+=this.elementLayout.getSpan(l,I+_),++Q}return _}decode(l,I=0){const _=[];let q=0,Q=this.count;for(Q instanceof f&&(Q=Q.decode(l,I));q<Q;)_.push(this.elementLayout.decode(l,I)),I+=this.elementLayout.getSpan(l,I),q+=1;return _}encode(l,I,_=0){const q=this.elementLayout,Q=l.reduce((it,ft)=>it+q.encode(ft,I,_+it),0);return this.count instanceof f&&this.count.encode(l.length,I,_),Q}}W.Sequence=et;class F extends n{constructor(l,I,_){if(!(Array.isArray(l)&&l.reduce((Q,it)=>Q&&it instanceof n,!0)))throw new TypeError("fields must be array of Layout instances");typeof I=="boolean"&&_===void 0&&(_=I,I=void 0);for(const Q of l)if(0>Q.span&&Q.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let q=-1;try{q=l.reduce((Q,it)=>Q+it.getSpan(),0)}catch{}super(q,I),this.fields=l,this.decodePrefixes=!!_}getSpan(l,I=0){if(0<=this.span)return this.span;let _=0;try{_=this.fields.reduce((q,Q)=>{const it=Q.getSpan(l,I);return I+=it,q+it},0)}catch{throw new RangeError("indeterminate span")}return _}decode(l,I=0){t(l);const _=this.makeDestinationObject();for(const q of this.fields)if(q.property!==void 0&&(_[q.property]=q.decode(l,I)),I+=q.getSpan(l,I),this.decodePrefixes&&l.length===I)break;return _}encode(l,I,_=0){const q=_;let Q=0,it=0;for(const ft of this.fields){let Ct=ft.span;if(it=0<Ct?Ct:0,ft.property!==void 0){const gt=l[ft.property];gt!==void 0&&(it=ft.encode(gt,I,_),0>Ct&&(Ct=ft.getSpan(I,_)))}Q=_,_+=Ct}return Q+it-q}fromArray(l){const I=this.makeDestinationObject();for(const _ of this.fields)_.property!==void 0&&0<l.length&&(I[_.property]=l.shift());return I}layoutFor(l){if(typeof l!="string")throw new TypeError("property must be string");for(const I of this.fields)if(I.property===l)return I}offsetOf(l){if(typeof l!="string")throw new TypeError("property must be string");let I=0;for(const _ of this.fields){if(_.property===l)return I;0>_.span?I=-1:0<=I&&(I+=_.span)}}}W.Structure=F;class U{constructor(l){this.property=l}decode(l,I){throw new Error("UnionDiscriminator is abstract")}encode(l,I,_){throw new Error("UnionDiscriminator is abstract")}}W.UnionDiscriminator=U;class D extends U{constructor(l,I){if(!(l instanceof f&&l.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(I||l.property||"variant"),this.layout=l}decode(l,I){return this.layout.decode(l,I)}encode(l,I,_){return this.layout.encode(l,I,_)}}W.UnionLayoutDiscriminator=D;class j extends n{constructor(l,I,_){let q;if(l instanceof B||l instanceof w)q=new D(new x(l));else if(l instanceof f&&l.isCount())q=new D(l);else if(l instanceof U)q=l;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(I===void 0&&(I=null),!(I===null||I instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(I!==null){if(0>I.span)throw new Error("defaultLayout must have constant span");I.property===void 0&&(I=I.replicate("content"))}let Q=-1;I&&(Q=I.span,0<=Q&&(l instanceof B||l instanceof w)&&(Q+=q.layout.span)),super(Q,_),this.discriminator=q,this.usesPrefixDiscriminator=l instanceof B||l instanceof w,this.defaultLayout=I,this.registry={};let it=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ft){return it(ft)},this.configGetSourceVariant=function(ft){it=ft.bind(this)}}getSpan(l,I=0){if(0<=this.span)return this.span;const _=this.getVariant(l,I);if(!_)throw new Error("unable to determine span for unrecognized variant");return _.getSpan(l,I)}defaultGetSourceVariant(l){if(Object.prototype.hasOwnProperty.call(l,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(l,this.defaultLayout.property))return;const I=this.registry[l[this.discriminator.property]];if(I&&(!I.layout||I.property&&Object.prototype.hasOwnProperty.call(l,I.property)))return I}else for(const I in this.registry){const _=this.registry[I];if(_.property&&Object.prototype.hasOwnProperty.call(l,_.property))return _}throw new Error("unable to infer src variant")}decode(l,I=0){let _;const q=this.discriminator,Q=q.decode(l,I),it=this.registry[Q];if(it===void 0){const ft=this.defaultLayout;let Ct=0;this.usesPrefixDiscriminator&&(Ct=q.layout.span),_=this.makeDestinationObject(),_[q.property]=Q,_[ft.property]=ft.decode(l,I+Ct)}else _=it.decode(l,I);return _}encode(l,I,_=0){const q=this.getSourceVariant(l);if(q===void 0){const Q=this.discriminator,it=this.defaultLayout;let ft=0;return this.usesPrefixDiscriminator&&(ft=Q.layout.span),Q.encode(l[Q.property],I,_),ft+it.encode(l[it.property],I,_+ft)}return q.encode(l,I,_)}addVariant(l,I,_){const q=new v(this,l,I,_);return this.registry[l]=q,q}getVariant(l,I=0){let _;return l instanceof Uint8Array?_=this.discriminator.decode(l,I):_=l,this.registry[_]}}W.Union=j;class v extends n{constructor(l,I,_,q){if(!(l instanceof j))throw new TypeError("union must be a Union");if(!Number.isInteger(I)||0>I)throw new TypeError("variant must be a (non-negative) integer");if(typeof _=="string"&&q===void 0&&(q=_,_=null),_){if(!(_ instanceof n))throw new TypeError("layout must be a Layout");if(l.defaultLayout!==null&&0<=_.span&&_.span>l.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof q!="string")throw new TypeError("variant must have a String property")}let Q=l.span;0>l.span&&(Q=_?_.span:0,0<=Q&&l.usesPrefixDiscriminator&&(Q+=l.discriminator.layout.span)),super(Q,q),this.union=l,this.variant=I,this.layout=_||null}getSpan(l,I=0){if(0<=this.span)return this.span;let _=0;this.union.usesPrefixDiscriminator&&(_=this.union.discriminator.layout.span);let q=0;return this.layout&&(q=this.layout.getSpan(l,I+_)),_+q}decode(l,I=0){const _=this.makeDestinationObject();if(this!==this.union.getVariant(l,I))throw new Error("variant mismatch");let q=0;return this.union.usesPrefixDiscriminator&&(q=this.union.discriminator.layout.span),this.layout?_[this.property]=this.layout.decode(l,I+q):this.property?_[this.property]=!0:this.union.usesPrefixDiscriminator&&(_[this.union.discriminator.property]=this.variant),_}encode(l,I,_=0){let q=0;if(this.union.usesPrefixDiscriminator&&(q=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(l,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,I,_);let Q=q;if(this.layout&&(this.layout.encode(l[this.property],I,_+q),Q+=this.layout.getSpan(I,_+q),0<=this.union.span&&Q>this.union.span))throw new Error("encoded variant overruns containing union");return Q}fromArray(l){if(this.layout)return this.layout.fromArray(l)}}W.VariantLayout=v;function a(c){return 0>c&&(c+=4294967296),c}class y extends n{constructor(l,I,_){if(!(l instanceof B||l instanceof w))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof I=="string"&&_===void 0&&(_=I,I=!1),4<l.span)throw new RangeError("word cannot exceed 32 bits");super(l.span,_),this.word=l,this.msb=!!I,this.fields=[];let q=0;this._packedSetValue=function(Q){return q=a(Q),this},this._packedGetValue=function(){return q}}decode(l,I=0){const _=this.makeDestinationObject(),q=this.word.decode(l,I);this._packedSetValue(q);for(const Q of this.fields)Q.property!==void 0&&(_[Q.property]=Q.decode(l));return _}encode(l,I,_=0){const q=this.word.decode(I,_);this._packedSetValue(q);for(const Q of this.fields)if(Q.property!==void 0){const it=l[Q.property];it!==void 0&&Q.encode(it)}return this.word.encode(this._packedGetValue(),I,_)}addField(l,I){const _=new b(this,l,I);return this.fields.push(_),_}addBoolean(l){const I=new A(this,l);return this.fields.push(I),I}fieldFor(l){if(typeof l!="string")throw new TypeError("property must be string");for(const I of this.fields)if(I.property===l)return I}}W.BitStructure=y;class b{constructor(l,I,_){if(!(l instanceof y))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(I)||0>=I)throw new TypeError("bits must be positive integer");const q=8*l.span,Q=l.fields.reduce((it,ft)=>it+ft.bits,0);if(I+Q>q)throw new Error("bits too long for span remainder ("+(q-Q)+" of "+q+" remain)");this.container=l,this.bits=I,this.valueMask=(1<<I)-1,I===32&&(this.valueMask=4294967295),this.start=Q,this.container.msb&&(this.start=q-Q-I),this.wordMask=a(this.valueMask<<this.start),this.property=_}decode(l,I){const _=this.container._packedGetValue();return a(_&this.wordMask)>>>this.start}encode(l){if(typeof l!="number"||!Number.isInteger(l)||l!==a(l&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const I=this.container._packedGetValue(),_=a(l<<this.start);this.container._packedSetValue(a(I&~this.wordMask)|_)}}W.BitField=b;class A extends b{constructor(l,I){super(l,1,I)}decode(l,I){return!!super.decode(l,I)}encode(l){typeof l=="boolean"&&(l=+l),super.encode(l)}}W.Boolean=A;class S extends n{constructor(l,I){if(!(l instanceof f&&l.isCount()||Number.isInteger(l)&&0<=l))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let _=-1;l instanceof f||(_=l),super(_,I),this.length=l}getSpan(l,I){let _=this.span;return 0>_&&(_=this.length.decode(l,I)),_}decode(l,I=0){let _=this.span;return 0>_&&(_=this.length.decode(l,I)),r(l).slice(I,I+_)}encode(l,I,_){let q=this.length;if(this.length instanceof f&&(q=l.length),!(l instanceof Uint8Array&&q===l.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+q+") Uint8Array as src");if(_+q>I.length)throw new RangeError("encoding overruns Uint8Array");const Q=r(l);return r(I).write(Q.toString("hex"),_,q,"hex"),this.length instanceof f&&this.length.encode(q,I,_),q}}W.Blob=S;class C extends n{constructor(l){super(-1,l)}getSpan(l,I=0){t(l);let _=I;for(;_<l.length&&l[_]!==0;)_+=1;return 1+_-I}decode(l,I=0){const _=this.getSpan(l,I);return r(l).slice(I,I+_-1).toString("utf-8")}encode(l,I,_=0){typeof l!="string"&&(l=String(l));const q=e.Buffer.from(l,"utf8"),Q=q.length;if(_+Q>I.length)throw new RangeError("encoding overruns Buffer");const it=r(I);return q.copy(it,_),it[_+Q]=0,Q+1}}W.CString=C;class z extends n{constructor(l,I){if(typeof l=="string"&&I===void 0&&(I=l,l=void 0),l===void 0)l=-1;else if(!Number.isInteger(l))throw new TypeError("maxSpan must be an integer");super(-1,I),this.maxSpan=l}getSpan(l,I=0){return t(l),l.length-I}decode(l,I=0){const _=this.getSpan(l,I);if(0<=this.maxSpan&&this.maxSpan<_)throw new RangeError("text length exceeds maxSpan");return r(l).slice(I,I+_).toString("utf-8")}encode(l,I,_=0){typeof l!="string"&&(l=String(l));const q=e.Buffer.from(l,"utf8"),Q=q.length;if(0<=this.maxSpan&&this.maxSpan<Q)throw new RangeError("text length exceeds maxSpan");if(_+Q>I.length)throw new RangeError("encoding overruns Buffer");return q.copy(r(I),_),Q}}W.UTF8=z;class M extends n{constructor(l,I){super(0,I),this.value=l}decode(l,I){return this.value}encode(l,I,_){return 0}}return W.Constant=M,W.greedy=(c,l)=>new p(c,l),W.offset=(c,l,I)=>new x(c,l,I),W.u8=c=>new B(1,c),W.u16=c=>new B(2,c),W.u24=c=>new B(3,c),W.u32=c=>new B(4,c),W.u40=c=>new B(5,c),W.u48=c=>new B(6,c),W.nu64=c=>new k(c),W.u16be=c=>new w(2,c),W.u24be=c=>new w(3,c),W.u32be=c=>new w(4,c),W.u40be=c=>new w(5,c),W.u48be=c=>new w(6,c),W.nu64be=c=>new Y(c),W.s8=c=>new T(1,c),W.s16=c=>new T(2,c),W.s24=c=>new T(3,c),W.s32=c=>new T(4,c),W.s40=c=>new T(5,c),W.s48=c=>new T(6,c),W.ns64=c=>new G(c),W.s16be=c=>new K(2,c),W.s24be=c=>new K(3,c),W.s32be=c=>new K(4,c),W.s40be=c=>new K(5,c),W.s48be=c=>new K(6,c),W.ns64be=c=>new X(c),W.f32=c=>new nt(c),W.f32be=c=>new V(c),W.f64=c=>new tt(c),W.f64be=c=>new st(c),W.struct=(c,l,I)=>new F(c,l,I),W.bits=(c,l,I)=>new y(c,l,I),W.seq=(c,l,I)=>new et(c,l,I),W.union=(c,l,I)=>new j(c,l,I),W.unionLayoutDiscriminator=(c,l)=>new D(c,l),W.blob=(c,l)=>new S(c,l),W.cstr=c=>new C(c),W.utf8=(c,l)=>new z(c,l),W.constant=(c,l)=>new M(c,l),W}var L=Ku(),$u=8078e3,Hu=8078001,Zu=8078004,Wu=8078005,Yu=8078006,Vu=8078011,br=8078012;function Wo(e){return Array.isArray(e)?"%5B"+e.map(Wo).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function Gu([e,t]){return`${e}=${Wo(t)}`}function Xu(e){const t=Object.entries(e).map(Gu).join("&");return btoa(t)}function Qu(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${Xu(t)}'`),`${r}\``}}var xe=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:i,...f}=t;i&&(n={cause:i}),Object.keys(f).length>0&&(r=f)}const s=Qu(e,r);super(s,n),this.context={__code:e,...r},this.name="SolanaError"}};function Ju(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function Vr(e){return Object.freeze({...e,encode:t=>{const r=new Uint8Array(Ju(t,e));return e.write(t,r,0),r}})}function Gr(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function ar(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function tc(e,t){if(ar(e)!==ar(t))throw new xe(Zu);if(ar(e)&&ar(t)&&e.fixedSize!==t.fixedSize)throw new xe(Wu,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ar(e)&&!ar(t)&&e.maxSize!==t.maxSize)throw new xe(Yu,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function ec(e,t,r=0){if(t.length-r<=0)throw new xe($u,{codecDescription:e})}function rc(e,t,r,n=0){const s=r.length-n;if(s<t)throw new xe(Hu,{bytesLength:s,codecDescription:e,expected:t})}function nc(e,t,r,n){if(n<t||n>r)throw new xe(Vu,{codecDescription:e,max:r,min:t,value:n})}function Yo(e){return e?.endian!==1}function ic(e){return Vr({fixedSize:e.size,write(t,r,n){e.range&&nc(e.name,e.range[0],e.range[1],t);const s=new ArrayBuffer(e.size);return e.set(new DataView(s),t,Yo(e.config)),r.set(new Uint8Array(s),n),n+e.size}})}function oc(e){return Gr({fixedSize:e.size,read(t,r=0){ec(e.name,t,r),rc(e.name,e.size,t,r);const n=new DataView(sc(t,r,e.size));return[e.get(n,Yo(e.config)),r+e.size]}})}function sc(e,t,r){const n=e.byteOffset+(t??0),s=r??e.byteLength;return e.buffer.slice(n,n+s)}var ac=(e={})=>ic({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,r,n)=>t.setBigUint64(0,BigInt(r),n),size:8}),uc=(e={})=>oc({config:e,get:(t,r)=>t.getBigUint64(0,r),name:"u64",size:8}),cc=(e={})=>tc(ac(e),uc(e));class fc extends TypeError{constructor(t,r){let n;const{message:s,explanation:i,...f}=t,{path:p}=t,x=p.length===0?s:`At path: ${p.join(".")} -- ${s}`;super(i??x),i!=null&&(this.cause=x),Object.assign(this,f),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function hc(e){return Er(e)&&typeof e[Symbol.iterator]=="function"}function Er(e){return typeof e=="object"&&e!=null}function Xr(e){return Er(e)&&!Array.isArray(e)}function be(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function lc(e){const{done:t,value:r}=e.next();return t?void 0:r}function dc(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:f}=r,{refinement:p,message:x=`Expected a value of type \`${f}\`${p?` with refinement \`${p}\``:""}, but received: \`${be(n)}\``}=e;return{value:n,type:f,refinement:p,key:s[s.length-1],path:s,branch:i,...e,message:x}}function*Vo(e,t,r,n){hc(e)||(e=[e]);for(const s of e){const i=dc(s,t,r,n);i&&(yield i)}}function*Wn(e,t,r={}){const{path:n=[],branch:s=[e],coerce:i=!1,mask:f=!1}=r,p={path:n,branch:s,mask:f};i&&(e=t.coercer(e,p));let x="valid";for(const B of t.validator(e,p))B.explanation=r.message,x="not_valid",yield[B,void 0];for(let[B,w,T]of t.entries(e,p)){const K=Wn(w,T,{path:B===void 0?n:[...n,B],branch:B===void 0?s:[...s,w],coerce:i,mask:f,message:r.message});for(const N of K)N[0]?(x=N[0].refinement!=null?"not_refined":"not_valid",yield[N[0],void 0]):i&&(w=N[1],B===void 0?e=w:e instanceof Map?e.set(B,w):e instanceof Set?e.add(w):Er(e)&&(w!==void 0||B in e)&&(e[B]=w))}if(x!=="not_valid")for(const B of t.refiner(e,p))B.explanation=r.message,x="not_refined",yield[B,void 0];x==="valid"&&(yield[void 0,e])}let Se=class{constructor(t){const{type:r,schema:n,validator:s,refiner:i,coercer:f=x=>x,entries:p=function*(){}}=t;this.type=r,this.schema=n,this.entries=p,this.coercer=f,s?this.validator=(x,B)=>{const w=s(x,B);return Vo(w,B,this,x)}:this.validator=()=>[],i?this.refiner=(x,B)=>{const w=i(x,B);return Vo(w,B,this,x)}:this.refiner=()=>[]}assert(t,r){return pc(t,this,r)}create(t,r){return vr(t,this,r)}is(t){return Go(t,this)}mask(t,r){return gc(t,this,r)}validate(t,r={}){return Ir(t,this,r)}};function pc(e,t,r){const n=Ir(e,t,{message:r});if(n[0])throw n[0]}function vr(e,t,r){const n=Ir(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function gc(e,t,r){const n=Ir(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Go(e,t){return!Ir(e,t)[0]}function Ir(e,t,r={}){const n=Wn(e,t,r),s=lc(n);return s[0]?[new fc(s[0],function*(){for(const f of n)f[0]&&(yield f[0])}),void 0]:[void 0,s[1]]}function Ye(e,t){return new Se({type:e,schema:null,validator:t})}function yc(){return Ye("any",()=>!0)}function at(e){return new Se({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${be(t)}`}})}function _e(){return Ye("boolean",e=>typeof e=="boolean")}function Yn(e){return Ye("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${be(t)}`)}function kt(e){const t=be(e),r=typeof e;return new Se({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${be(n)}`}})}function wc(){return Ye("never",()=>!1)}function ut(e){return new Se({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Z(){return Ye("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${be(e)}`)}function ht(e){return new Se({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Xo(e,t){return new Se({type:"record",schema:null,*entries(r){if(Er(r))for(const n in r){const s=r[n];yield[n,n,e],yield[n,s,t]}},validator(r){return Xr(r)||`Expected an object, but received: ${be(r)}`},coercer(r){return Xr(r)?{...r}:r}})}function rt(){return Ye("string",e=>typeof e=="string"||`Expected a string, but received: ${be(e)}`)}function Vn(e){const t=wc();return new Se({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],e[s]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${be(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function J(e){const t=Object.keys(e);return new Se({type:"type",schema:e,*entries(r){if(Er(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Xr(r)||`Expected an object, but received: ${be(r)}`},coercer(r){return Xr(r)?{...r}:r}})}function fe(e){const t=e.map(r=>r.type).join(" | ");return new Se({type:"union",schema:null,coercer(r,n){for(const s of e){const[i,f]=s.validate(r,{coerce:!0,mask:n.mask});if(!i)return f}return r},validator(r,n){const s=[];for(const i of e){const[...f]=Wn(r,i,n),[p]=f;if(p[0])for(const[x]of f)x&&s.push(x);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${be(r)}`,...s]}})}function ur(){return Ye("unknown",()=>!0)}function Mr(e,t,r){return new Se({...e,coercer:(n,s)=>Go(n,t)?e.coercer(r(n,s),s):e.coercer(n,s)})}var Qr,mc=new Uint8Array(16);function Qo(){if(!Qr&&(Qr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Qr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qr(mc)}const xc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Jr(e){return typeof e=="string"&&xc.test(e)}for(var ee=[],Gn=0;Gn<256;++Gn)ee.push((Gn+256).toString(16).substr(1));function tn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ee[e[t+0]]+ee[e[t+1]]+ee[e[t+2]]+ee[e[t+3]]+"-"+ee[e[t+4]]+ee[e[t+5]]+"-"+ee[e[t+6]]+ee[e[t+7]]+"-"+ee[e[t+8]]+ee[e[t+9]]+"-"+ee[e[t+10]]+ee[e[t+11]]+ee[e[t+12]]+ee[e[t+13]]+ee[e[t+14]]+ee[e[t+15]]).toLowerCase();if(!Jr(r))throw TypeError("Stringified UUID is invalid");return r}var Jo,Xn,Qn=0,Jn=0;function bc(e,t,r){var n=t&&r||0,s=t||new Array(16);e=e||{};var i=e.node||Jo,f=e.clockseq!==void 0?e.clockseq:Xn;if(i==null||f==null){var p=e.random||(e.rng||Qo)();i==null&&(i=Jo=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),f==null&&(f=Xn=(p[6]<<8|p[7])&16383)}var x=e.msecs!==void 0?e.msecs:Date.now(),B=e.nsecs!==void 0?e.nsecs:Jn+1,w=x-Qn+(B-Jn)/1e4;if(w<0&&e.clockseq===void 0&&(f=f+1&16383),(w<0||x>Qn)&&e.nsecs===void 0&&(B=0),B>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Qn=x,Jn=B,Xn=f,x+=122192928e5;var T=((x&268435455)*1e4+B)%4294967296;s[n++]=T>>>24&255,s[n++]=T>>>16&255,s[n++]=T>>>8&255,s[n++]=T&255;var K=x/4294967296*1e4&268435455;s[n++]=K>>>8&255,s[n++]=K&255,s[n++]=K>>>24&15|16,s[n++]=K>>>16&255,s[n++]=f>>>8|128,s[n++]=f&255;for(var N=0;N<6;++N)s[n+N]=i[N];return t||tn(s)}function ts(e){if(!Jr(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function Ec(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var vc="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ic="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function es(e,t,r){function n(s,i,f,p){if(typeof s=="string"&&(s=Ec(s)),typeof i=="string"&&(i=ts(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var x=new Uint8Array(16+s.length);if(x.set(i),x.set(s,i.length),x=r(x),x[6]=x[6]&15|t,x[8]=x[8]&63|128,f){p=p||0;for(var B=0;B<16;++B)f[p+B]=x[B];return f}return tn(x)}try{n.name=e}catch{}return n.DNS=vc,n.URL=Ic,n}function Mc(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return Bc(Ac(Sc(e),e.length*8))}function Bc(e){for(var t=[],r=e.length*32,n="0123456789abcdef",s=0;s<r;s+=8){var i=e[s>>5]>>>s%32&255,f=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(f)}return t}function rs(e){return(e+64>>>9<<4)+14+1}function Ac(e,t){e[t>>5]|=128<<t%32,e[rs(t)-1]=t;for(var r=1732584193,n=-271733879,s=-1732584194,i=271733878,f=0;f<e.length;f+=16){var p=r,x=n,B=s,w=i;r=ne(r,n,s,i,e[f],7,-680876936),i=ne(i,r,n,s,e[f+1],12,-389564586),s=ne(s,i,r,n,e[f+2],17,606105819),n=ne(n,s,i,r,e[f+3],22,-1044525330),r=ne(r,n,s,i,e[f+4],7,-176418897),i=ne(i,r,n,s,e[f+5],12,1200080426),s=ne(s,i,r,n,e[f+6],17,-1473231341),n=ne(n,s,i,r,e[f+7],22,-45705983),r=ne(r,n,s,i,e[f+8],7,1770035416),i=ne(i,r,n,s,e[f+9],12,-1958414417),s=ne(s,i,r,n,e[f+10],17,-42063),n=ne(n,s,i,r,e[f+11],22,-1990404162),r=ne(r,n,s,i,e[f+12],7,1804603682),i=ne(i,r,n,s,e[f+13],12,-40341101),s=ne(s,i,r,n,e[f+14],17,-1502002290),n=ne(n,s,i,r,e[f+15],22,1236535329),r=ie(r,n,s,i,e[f+1],5,-165796510),i=ie(i,r,n,s,e[f+6],9,-1069501632),s=ie(s,i,r,n,e[f+11],14,643717713),n=ie(n,s,i,r,e[f],20,-373897302),r=ie(r,n,s,i,e[f+5],5,-701558691),i=ie(i,r,n,s,e[f+10],9,38016083),s=ie(s,i,r,n,e[f+15],14,-660478335),n=ie(n,s,i,r,e[f+4],20,-405537848),r=ie(r,n,s,i,e[f+9],5,568446438),i=ie(i,r,n,s,e[f+14],9,-1019803690),s=ie(s,i,r,n,e[f+3],14,-187363961),n=ie(n,s,i,r,e[f+8],20,1163531501),r=ie(r,n,s,i,e[f+13],5,-1444681467),i=ie(i,r,n,s,e[f+2],9,-51403784),s=ie(s,i,r,n,e[f+7],14,1735328473),n=ie(n,s,i,r,e[f+12],20,-1926607734),r=oe(r,n,s,i,e[f+5],4,-378558),i=oe(i,r,n,s,e[f+8],11,-2022574463),s=oe(s,i,r,n,e[f+11],16,1839030562),n=oe(n,s,i,r,e[f+14],23,-35309556),r=oe(r,n,s,i,e[f+1],4,-1530992060),i=oe(i,r,n,s,e[f+4],11,1272893353),s=oe(s,i,r,n,e[f+7],16,-155497632),n=oe(n,s,i,r,e[f+10],23,-1094730640),r=oe(r,n,s,i,e[f+13],4,681279174),i=oe(i,r,n,s,e[f],11,-358537222),s=oe(s,i,r,n,e[f+3],16,-722521979),n=oe(n,s,i,r,e[f+6],23,76029189),r=oe(r,n,s,i,e[f+9],4,-640364487),i=oe(i,r,n,s,e[f+12],11,-421815835),s=oe(s,i,r,n,e[f+15],16,530742520),n=oe(n,s,i,r,e[f+2],23,-995338651),r=se(r,n,s,i,e[f],6,-198630844),i=se(i,r,n,s,e[f+7],10,1126891415),s=se(s,i,r,n,e[f+14],15,-1416354905),n=se(n,s,i,r,e[f+5],21,-57434055),r=se(r,n,s,i,e[f+12],6,1700485571),i=se(i,r,n,s,e[f+3],10,-1894986606),s=se(s,i,r,n,e[f+10],15,-1051523),n=se(n,s,i,r,e[f+1],21,-2054922799),r=se(r,n,s,i,e[f+8],6,1873313359),i=se(i,r,n,s,e[f+15],10,-30611744),s=se(s,i,r,n,e[f+6],15,-1560198380),n=se(n,s,i,r,e[f+13],21,1309151649),r=se(r,n,s,i,e[f+4],6,-145523070),i=se(i,r,n,s,e[f+11],10,-1120210379),s=se(s,i,r,n,e[f+2],15,718787259),n=se(n,s,i,r,e[f+9],21,-343485551),r=Pe(r,p),n=Pe(n,x),s=Pe(s,B),i=Pe(i,w)}return[r,n,s,i]}function Sc(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(rs(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Pe(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function _c(e,t){return e<<t|e>>>32-t}function en(e,t,r,n,s,i){return Pe(_c(Pe(Pe(t,e),Pe(n,i)),s),r)}function ne(e,t,r,n,s,i,f){return en(t&r|~t&n,e,t,s,i,f)}function ie(e,t,r,n,s,i,f){return en(t&n|r&~n,e,t,s,i,f)}function oe(e,t,r,n,s,i,f){return en(t^r^n,e,t,s,i,f)}function se(e,t,r,n,s,i,f){return en(r^(t|~n),e,t,s,i,f)}var Tc=es("v3",48,Mc);function Nc(e,t,r){e=e||{};var n=e.random||(e.rng||Qo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=n[s];return t}return tn(n)}function kc(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function ti(e,t){return e<<t|e>>>32-t}function Rc(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var s=0;s<n.length;++s)e.push(n.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,f=Math.ceil(i/16),p=new Array(f),x=0;x<f;++x){for(var B=new Uint32Array(16),w=0;w<16;++w)B[w]=e[x*64+w*4]<<24|e[x*64+w*4+1]<<16|e[x*64+w*4+2]<<8|e[x*64+w*4+3];p[x]=B}p[f-1][14]=(e.length-1)*8/Math.pow(2,32),p[f-1][14]=Math.floor(p[f-1][14]),p[f-1][15]=(e.length-1)*8&4294967295;for(var T=0;T<f;++T){for(var K=new Uint32Array(80),N=0;N<16;++N)K[N]=p[T][N];for(var $=16;$<80;++$)K[$]=ti(K[$-3]^K[$-8]^K[$-14]^K[$-16],1);for(var O=r[0],k=r[1],Y=r[2],G=r[3],X=r[4],nt=0;nt<80;++nt){var V=Math.floor(nt/20),tt=ti(O,5)+kc(V,k,Y,G)+X+t[V]+K[nt]>>>0;X=G,G=Y,Y=ti(k,30)>>>0,k=O,O=tt}r[0]=r[0]+O>>>0,r[1]=r[1]+k>>>0,r[2]=r[2]+Y>>>0,r[3]=r[3]+G>>>0,r[4]=r[4]+X>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var Lc=es("v5",80,Rc);const Uc="00000000-0000-0000-0000-000000000000";function Fc(e){if(!Jr(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const ns=Dn(Object.freeze(Object.defineProperty({__proto__:null,NIL:Uc,parse:ts,stringify:tn,v1:bc,v3:Tc,v4:Nc,v5:Lc,validate:Jr,version:Fc},Symbol.toStringTag,{value:"Module"})));var ei,is;function Dc(){if(is)return ei;is=1;const e=ns.v4;return ei=function(r,n,s,i){if(typeof r!="string")throw new TypeError(r+" must be a string");i=i||{};const f=typeof i.version=="number"?i.version:2;if(f!==1&&f!==2)throw new TypeError(f+" must be 1 or 2");const p={method:r};if(f===2&&(p.jsonrpc="2.0"),n){if(typeof n!="object"&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");p.params=n}if(typeof s>"u"){const x=typeof i.generator=="function"?i.generator:function(){return e()};p.id=x(p,i)}else f===2&&s===null?i.notificationIdNull&&(p.id=null):p.id=s;return p},ei}var ri,os;function Cc(){if(os)return ri;os=1;const e=ns.v4,t=Dc(),r=function(n,s){if(!(this instanceof r))return new r(n,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return e()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=n};return ri=r,r.prototype.request=function(n,s,i,f){const p=this;let x=null;const B=Array.isArray(n)&&typeof s=="function";if(this.options.version===1&&B)throw new TypeError("JSON-RPC 1.0 does not support batching");if(B||!B&&n&&typeof n=="object"&&typeof s=="function")f=s,x=n;else{typeof i=="function"&&(f=i,i=void 0);const K=typeof f=="function";try{x=t(n,s,i,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(N){if(K)return f(N);throw N}if(!K)return x}let T;try{T=JSON.stringify(x,this.options.replacer)}catch(K){return f(K)}return this.callServer(T,function(K,N){p._parseResponse(K,N,f)}),x},r.prototype._parseResponse=function(n,s,i){if(n){i(n);return}if(!s)return i();let f;try{f=JSON.parse(s,this.options.reviver)}catch(p){return i(p)}if(i.length===3)if(Array.isArray(f)){const p=function(B){return typeof B.error<"u"},x=function(B){return!p(B)};return i(null,f.filter(p),f.filter(x))}else return i(null,f.error,f.result);i(null,f)},ri}Cc();class ss extends Qi{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,xa(t);const n=Sn(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let f=0;f<i.length;f++)i[f]^=54;this.iHash.update(i),this.oHash=t.create();for(let f=0;f<i.length;f++)i[f]^=106;this.oHash.update(i),Qe(i)}update(t){return Nr(this),this.iHash.update(t),this}digestInto(t){Nr(this),Ie(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:f,outputLen:p}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=f,t.outputLen=p,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const as=(e,t,r)=>new ss(e,t).update(r).digest();as.create=(e,t)=>new ss(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function us(e){e.lowS!==void 0&&He("lowS",e.lowS),e.prehash!==void 0&&He("prehash",e.prehash)}class Oc extends Error{constructor(t=""){super(t)}}const Le={Err:Oc,_tlv:{encode:(e,t)=>{const{Err:r}=Le;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,s=Ur(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?Ur(s.length/2|128):"";return Ur(e)+i+s+t},decode(e,t){const{Err:r}=Le;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const s=t[n++],i=!!(s&128);let f=0;if(!i)f=s;else{const x=s&127;if(!x)throw new r("tlv.decode(long): indefinite length not supported");if(x>4)throw new r("tlv.decode(long): byte length is too big");const B=t.subarray(n,n+x);if(B.length!==x)throw new r("tlv.decode: length bytes not complete");if(B[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const w of B)f=f<<8|w;if(n+=x,f<128)throw new r("tlv.decode(long): not minimal encoding")}const p=t.subarray(n,n+f);if(p.length!==f)throw new r("tlv.decode: wrong value length");return{v:p,l:t.subarray(n+f)}}},_int:{encode(e){const{Err:t}=Le;if(e<Br)throw new t("integer: negative integers are not allowed");let r=Ur(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=Le;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Fr(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=Le,s=Ft("signature",e),{v:i,l:f}=n.decode(48,s);if(f.length)throw new t("invalid signature: left bytes after parsing");const{v:p,l:x}=n.decode(2,i),{v:B,l:w}=n.decode(2,x);if(w.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(p),s:r.decode(B)}},hexFromSig(e){const{_tlv:t,_int:r}=Le,n=t.encode(2,r.encode(e.r)),s=t.encode(2,r.encode(e.s)),i=n+s;return t.encode(48,i)}},Br=BigInt(0),Ar=BigInt(1),zc=BigInt(2),rn=BigInt(3),jc=BigInt(4);function Pc(e,t,r){function n(s){const i=e.sqr(s),f=e.mul(i,s);return e.add(e.add(f,e.mul(s,t)),r)}return n}function cs(e,t,r){const{BYTES:n}=e;function s(i){let f;if(typeof i=="bigint")f=i;else{let p=Ft("private key",i);if(t){if(!t.includes(p.length*2))throw new Error("invalid private key");const x=new Uint8Array(n);x.set(p,x.length-p.length),p=x}try{f=e.fromBytes(p)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof i}`)}}if(r&&(f=e.create(f)),!e.isValidNot0(f))throw new Error("invalid private key: out of range [1..N-1]");return f}return s}function qc(e,t={}){const{Fp:r,Fn:n}=Ao("weierstrass",e,t),{h:s,n:i}=e;yr(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=t;if(f&&(!r.is0(e.a)||typeof f.beta!="bigint"||typeof f.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function p(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function x(et,F,U){const{x:D,y:j}=F.toAffine(),v=r.toBytes(D);if(He("isCompressed",U),U){p();const a=!r.isOdd(j);return Ne(fs(a),v)}else return Ne(Uint8Array.of(4),v,r.toBytes(j))}function B(et){Ie(et);const F=r.BYTES,U=F+1,D=2*F+1,j=et.length,v=et[0],a=et.subarray(1);if(j===U&&(v===2||v===3)){const y=r.fromBytes(a);if(!r.isValid(y))throw new Error("bad point: is not on curve, wrong x");const b=K(y);let A;try{A=r.sqrt(b)}catch(z){const M=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+M)}p();const S=r.isOdd(A);return(v&1)===1!==S&&(A=r.neg(A)),{x:y,y:A}}else if(j===D&&v===4){const y=r.fromBytes(a.subarray(F*0,F*1)),b=r.fromBytes(a.subarray(F*1,F*2));if(!N(y,b))throw new Error("bad point: is not on curve");return{x:y,y:b}}else throw new Error(`bad point: got length ${j}, expected compressed=${U} or uncompressed=${D}`)}const w=t.toBytes||x,T=t.fromBytes||B,K=Pc(r,e.a,e.b);function N(et,F){const U=r.sqr(F),D=K(et);return r.eql(U,D)}if(!N(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const $=r.mul(r.pow(e.a,rn),jc),O=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add($,O)))throw new Error("bad curve params: a or b");function k(et,F,U=!1){if(!r.isValid(F)||U&&r.is0(F))throw new Error(`bad point coordinate ${et}`);return F}function Y(et){if(!(et instanceof V))throw new Error("ProjectivePoint expected")}const G=Or((et,F)=>{const{px:U,py:D,pz:j}=et;if(r.eql(j,r.ONE))return{x:U,y:D};const v=et.is0();F==null&&(F=v?r.ONE:r.inv(j));const a=r.mul(U,F),y=r.mul(D,F),b=r.mul(j,F);if(v)return{x:r.ZERO,y:r.ZERO};if(!r.eql(b,r.ONE))throw new Error("invZ was invalid");return{x:a,y}}),X=Or(et=>{if(et.is0()){if(t.allowInfinityPoint&&!r.is0(et.py))return;throw new Error("bad point: ZERO")}const{x:F,y:U}=et.toAffine();if(!r.isValid(F)||!r.isValid(U))throw new Error("bad point: x or y not field elements");if(!N(F,U))throw new Error("bad point: equation left != right");if(!et.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function nt(et,F,U,D,j){return U=new V(r.mul(U.px,et),U.py,U.pz),F=wr(D,F),U=wr(j,U),F.add(U)}class V{constructor(F,U,D){this.px=k("x",F),this.py=k("y",U,!0),this.pz=k("z",D),Object.freeze(this)}static fromAffine(F){const{x:U,y:D}=F||{};if(!F||!r.isValid(U)||!r.isValid(D))throw new Error("invalid affine point");if(F instanceof V)throw new Error("projective point not allowed");return r.is0(U)&&r.is0(D)?V.ZERO:new V(U,D,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(F){return mo(V,"pz",F)}static fromBytes(F){return Ie(F),V.fromHex(F)}static fromHex(F){const U=V.fromAffine(T(Ft("pointHex",F)));return U.assertValidity(),U}static fromPrivateKey(F){const U=cs(n,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return V.BASE.multiply(U(F))}static msm(F,U){return Mo(V,n,F,U)}precompute(F=8,U=!0){return st.setWindowSize(this,F),U||this.multiply(rn),this}_setWindowSize(F){this.precompute(F)}assertValidity(){X(this)}hasEvenY(){const{y:F}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(F)}equals(F){Y(F);const{px:U,py:D,pz:j}=this,{px:v,py:a,pz:y}=F,b=r.eql(r.mul(U,y),r.mul(v,j)),A=r.eql(r.mul(D,y),r.mul(a,j));return b&&A}negate(){return new V(this.px,r.neg(this.py),this.pz)}double(){const{a:F,b:U}=e,D=r.mul(U,rn),{px:j,py:v,pz:a}=this;let y=r.ZERO,b=r.ZERO,A=r.ZERO,S=r.mul(j,j),C=r.mul(v,v),z=r.mul(a,a),M=r.mul(j,v);return M=r.add(M,M),A=r.mul(j,a),A=r.add(A,A),y=r.mul(F,A),b=r.mul(D,z),b=r.add(y,b),y=r.sub(C,b),b=r.add(C,b),b=r.mul(y,b),y=r.mul(M,y),A=r.mul(D,A),z=r.mul(F,z),M=r.sub(S,z),M=r.mul(F,M),M=r.add(M,A),A=r.add(S,S),S=r.add(A,S),S=r.add(S,z),S=r.mul(S,M),b=r.add(b,S),z=r.mul(v,a),z=r.add(z,z),S=r.mul(z,M),y=r.sub(y,S),A=r.mul(z,C),A=r.add(A,A),A=r.add(A,A),new V(y,b,A)}add(F){Y(F);const{px:U,py:D,pz:j}=this,{px:v,py:a,pz:y}=F;let b=r.ZERO,A=r.ZERO,S=r.ZERO;const C=e.a,z=r.mul(e.b,rn);let M=r.mul(U,v),c=r.mul(D,a),l=r.mul(j,y),I=r.add(U,D),_=r.add(v,a);I=r.mul(I,_),_=r.add(M,c),I=r.sub(I,_),_=r.add(U,j);let q=r.add(v,y);return _=r.mul(_,q),q=r.add(M,l),_=r.sub(_,q),q=r.add(D,j),b=r.add(a,y),q=r.mul(q,b),b=r.add(c,l),q=r.sub(q,b),S=r.mul(C,_),b=r.mul(z,l),S=r.add(b,S),b=r.sub(c,S),S=r.add(c,S),A=r.mul(b,S),c=r.add(M,M),c=r.add(c,M),l=r.mul(C,l),_=r.mul(z,_),c=r.add(c,l),l=r.sub(M,l),l=r.mul(C,l),_=r.add(_,l),M=r.mul(c,_),A=r.add(A,M),M=r.mul(q,_),b=r.mul(I,b),b=r.sub(b,M),M=r.mul(I,c),S=r.mul(q,S),S=r.add(S,M),new V(b,A,S)}subtract(F){return this.add(F.negate())}is0(){return this.equals(V.ZERO)}multiply(F){const{endo:U}=t;if(!n.isValidNot0(F))throw new Error("invalid scalar: out of range");let D,j;const v=a=>st.wNAFCached(this,a,V.normalizeZ);if(U){const{k1neg:a,k1:y,k2neg:b,k2:A}=U.splitScalar(F),{p:S,f:C}=v(y),{p:z,f:M}=v(A);j=C.add(M),D=nt(U.beta,S,z,a,b)}else{const{p:a,f:y}=v(F);D=a,j=y}return V.normalizeZ([D,j])[0]}multiplyUnsafe(F){const{endo:U}=t,D=this;if(!n.isValid(F))throw new Error("invalid scalar: out of range");if(F===Br||D.is0())return V.ZERO;if(F===Ar)return D;if(st.hasPrecomputes(this))return this.multiply(F);if(U){const{k1neg:j,k1:v,k2neg:a,k2:y}=U.splitScalar(F),{p1:b,p2:A}=eu(V,D,v,y);return nt(U.beta,b,A,j,a)}else return st.wNAFCachedUnsafe(D,F)}multiplyAndAddUnsafe(F,U,D){const j=this.multiplyUnsafe(U).add(F.multiplyUnsafe(D));return j.is0()?void 0:j}toAffine(F){return G(this,F)}isTorsionFree(){const{isTorsionFree:F}=t;return s===Ar?!0:F?F(V,this):st.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:F}=t;return s===Ar?this:F?F(V,this):this.multiplyUnsafe(s)}toBytes(F=!0){return He("isCompressed",F),this.assertValidity(),w(V,this,F)}toRawBytes(F=!0){return this.toBytes(F)}toHex(F=!0){return Je(this.toBytes(F))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}V.BASE=new V(e.Gx,e.Gy,r.ONE),V.ZERO=new V(r.ZERO,r.ONE,r.ZERO),V.Fp=r,V.Fn=n;const tt=n.BITS,st=Io(V,t.endo?Math.ceil(tt/2):tt);return V}function fs(e){return Uint8Array.of(e?2:3)}function Kc(e,t,r={}){yr(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=t.randomBytes||to,s=t.hmac||((D,...j)=>as(t.hash,D,Ne(...j))),{Fp:i,Fn:f}=e,{ORDER:p,BITS:x}=f;function B(D){const j=p>>Ar;return D>j}function w(D){return B(D)?f.neg(D):D}function T(D,j){if(!f.isValidNot0(j))throw new Error(`invalid signature ${D}: out of range 1..CURVE.n`)}class K{constructor(j,v,a){T("r",j),T("s",v),this.r=j,this.s=v,a!=null&&(this.recovery=a),Object.freeze(this)}static fromCompact(j){const v=f.BYTES,a=Ft("compactSignature",j,v*2);return new K(f.fromBytes(a.subarray(0,v)),f.fromBytes(a.subarray(v,v*2)))}static fromDER(j){const{r:v,s:a}=Le.toSig(Ft("DER",j));return new K(v,a)}assertValidity(){}addRecoveryBit(j){return new K(this.r,this.s,j)}recoverPublicKey(j){const v=i.ORDER,{r:a,s:y,recovery:b}=this;if(b==null||![0,1,2,3].includes(b))throw new Error("recovery id invalid");if(p*zc<v&&b>1)throw new Error("recovery id is ambiguous for h>1 curve");const S=b===2||b===3?a+p:a;if(!i.isValid(S))throw new Error("recovery id 2 or 3 invalid");const C=i.toBytes(S),z=e.fromHex(Ne(fs((b&1)===0),C)),M=f.inv(S),c=X(Ft("msgHash",j)),l=f.create(-c*M),I=f.create(y*M),_=e.BASE.multiplyUnsafe(l).add(z.multiplyUnsafe(I));if(_.is0())throw new Error("point at infinify");return _.assertValidity(),_}hasHighS(){return B(this.s)}normalizeS(){return this.hasHighS()?new K(this.r,f.neg(this.s),this.recovery):this}toBytes(j){if(j==="compact")return Ne(f.toBytes(this.r),f.toBytes(this.s));if(j==="der")return An(Le.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Je(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Je(this.toBytes("compact"))}}const N=cs(f,r.allowedPrivateKeyLengths,r.wrapPrivateKey),$={isValidPrivateKey(D){try{return N(D),!0}catch{return!1}},normPrivateKeyToScalar:N,randomPrivateKey:()=>{const D=p;return Qa(n(wo(D)),D)},precompute(D=8,j=e.BASE){return j.precompute(D,!1)}};function O(D,j=!0){return e.fromPrivateKey(D).toBytes(j)}function k(D){if(typeof D=="bigint")return!1;if(D instanceof e)return!0;const v=Ft("key",D).length,a=i.BYTES,y=a+1,b=2*a+1;if(!(r.allowedPrivateKeyLengths||f.BYTES===y))return v===y||v===b}function Y(D,j,v=!0){if(k(D)===!0)throw new Error("first arg must be private key");if(k(j)===!1)throw new Error("second arg must be public key");return e.fromHex(j).multiply(N(D)).toBytes(v)}const G=t.bits2int||function(D){if(D.length>8192)throw new Error("input is too large");const j=Fr(D),v=D.length*8-x;return v>0?j>>BigInt(v):j},X=t.bits2int_modN||function(D){return f.create(G(D))},nt=Cr(x);function V(D){return rr("num < 2^"+x,D,Br,nt),f.toBytes(D)}function tt(D,j,v=st){if(["recovered","canonical"].some(I=>I in v))throw new Error("sign() legacy options not supported");const{hash:a}=t;let{lowS:y,prehash:b,extraEntropy:A}=v;y==null&&(y=!0),D=Ft("msgHash",D),us(v),b&&(D=Ft("prehashed msgHash",a(D)));const S=X(D),C=N(j),z=[V(C),V(S)];if(A!=null&&A!==!1){const I=A===!0?n(i.BYTES):A;z.push(Ft("extraEntropy",I))}const M=Ne(...z),c=S;function l(I){const _=G(I);if(!f.isValidNot0(_))return;const q=f.inv(_),Q=e.BASE.multiply(_).toAffine(),it=f.create(Q.x);if(it===Br)return;const ft=f.create(q*f.create(c+it*C));if(ft===Br)return;let Ct=(Q.x===it?0:2)|Number(Q.y&Ar),gt=ft;return y&&B(ft)&&(gt=w(ft),Ct^=1),new K(it,gt,Ct)}return{seed:M,k2sig:l}}const st={lowS:t.lowS,prehash:!1},et={lowS:t.lowS,prehash:!1};function F(D,j,v=st){const{seed:a,k2sig:y}=tt(D,j,v);return qa(t.hash.outputLen,f.BYTES,s)(a,y)}e.BASE.precompute(8);function U(D,j,v,a=et){const y=D;j=Ft("msgHash",j),v=Ft("publicKey",v),us(a);const{lowS:b,prehash:A,format:S}=a;if("strict"in a)throw new Error("options.strict was renamed to lowS");if(S!==void 0&&!["compact","der","js"].includes(S))throw new Error('format must be "compact", "der" or "js"');const C=typeof y=="string"||In(y),z=!C&&!S&&typeof y=="object"&&y!==null&&typeof y.r=="bigint"&&typeof y.s=="bigint";if(!C&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let M,c;try{if(z)if(S===void 0||S==="js")M=new K(y.r,y.s);else throw new Error("invalid format");if(C){try{S!=="compact"&&(M=K.fromDER(y))}catch(gt){if(!(gt instanceof Le.Err))throw gt}!M&&S!=="der"&&(M=K.fromCompact(y))}c=e.fromHex(v)}catch{return!1}if(!M||b&&M.hasHighS())return!1;A&&(j=t.hash(j));const{r:l,s:I}=M,_=X(j),q=f.inv(I),Q=f.create(_*q),it=f.create(l*q),ft=e.BASE.multiplyUnsafe(Q).add(c.multiplyUnsafe(it));return ft.is0()?!1:f.create(ft.x)===l}return Object.freeze({getPublicKey:O,getSharedSecret:Y,sign:F,verify:U,utils:$,Point:e,Signature:K})}function $c(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=nr(t.n,e.nBitLength),s={Fp:r,Fn:n,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function Hc(e){const{CURVE:t,curveOpts:r}=$c(e),n={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,ecdsaOpts:n}}function Zc(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function Wc(e){const{CURVE:t,curveOpts:r,ecdsaOpts:n}=Hc(e),s=qc(t,r),i=Kc(s,n,r);return Zc(e,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Yc(e,t){const r=n=>Wc({...e,hash:n});return{...r(t),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nn={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const Vc=BigInt(1),ni=BigInt(2),hs=(e,t)=>(e+t/ni)/t;function Gc(e){const t=nn.p,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),f=BigInt(23),p=BigInt(44),x=BigInt(88),B=e*e*e%t,w=B*B*e%t,T=Rt(w,r,t)*w%t,K=Rt(T,r,t)*w%t,N=Rt(K,ni,t)*B%t,$=Rt(N,s,t)*N%t,O=Rt($,i,t)*$%t,k=Rt(O,p,t)*O%t,Y=Rt(k,x,t)*k%t,G=Rt(Y,p,t)*O%t,X=Rt(G,r,t)*w%t,nt=Rt(X,f,t)*$%t,V=Rt(nt,n,t)*B%t,tt=Rt(V,ni,t);if(!ii.eql(ii.sqr(tt),e))throw new Error("Cannot find square root");return tt}const ii=nr(nn.p,void 0,void 0,{sqrt:Gc}),Xc=Yc({...nn,Fp:ii,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=nn.n,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Vc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,f=BigInt("0x100000000000000000000000000000000"),p=hs(i*e,t),x=hs(-n*e,t);let B=Dt(e-p*r-x*s,t),w=Dt(-p*n-x*i,t);const T=B>f,K=w>f;if(T&&(B=t-B),K&&(w=t-w),B>f||w>f)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:T,k1:B,k2neg:K,k2:w}}}},so);mr.utils.randomPrivateKey,mr.getPublicKey;function ls(e){try{return mr.ExtendedPoint.fromHex(e),!0}catch{return!1}}const ds=(e,t)=>mr.sign(e,t.slice(0,32)),Qc=mr.verify,oi=e=>yt.Buffer.isBuffer(e)?e:e instanceof Uint8Array?yt.Buffer.from(e.buffer,e.byteOffset,e.byteLength):yt.Buffer.from(e);class Jc{constructor(t){Object.assign(this,t)}encode(){return yt.Buffer.from(Zn.serialize(on,this))}static decode(t){return Zn.deserialize(on,this,t)}static decodeUnchecked(t){return Zn.deserializeUnchecked(on,this,t)}}const on=new Map;var ps;const tf=32,qe=32;function ef(e){return e._bn!==void 0}let gs=1;class pt extends Jc{constructor(t){if(super({}),this._bn=void 0,ef(t))this._bn=t._bn;else{if(typeof t=="string"){const r=ue.decode(t);if(r.length!=qe)throw new Error("Invalid public key input");this._bn=new Co(r)}else this._bn=new Co(t);if(this._bn.byteLength()>qe)throw new Error("Invalid public key input")}}static unique(){const t=new pt(gs);return gs+=1,new pt(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ue.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(yt.Buffer);if(t.length===qe)return t;const r=yt.Buffer.alloc(32);return t.copy(r,32-t.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,r,n){const s=yt.Buffer.concat([t.toBuffer(),yt.Buffer.from(r),n.toBuffer()]),i=qo(s);return new pt(i)}static createProgramAddressSync(t,r){let n=yt.Buffer.alloc(0);t.forEach(function(i){if(i.length>tf)throw new TypeError("Max seed length exceeded");n=yt.Buffer.concat([n,oi(i)])}),n=yt.Buffer.concat([n,r.toBuffer(),yt.Buffer.from("ProgramDerivedAddress")]);const s=qo(n);if(ls(s))throw new Error("Invalid seeds, address must fall off the curve");return new pt(s)}static async createProgramAddress(t,r){return this.createProgramAddressSync(t,r)}static findProgramAddressSync(t,r){let n=255,s;for(;n!=0;){try{const i=t.concat(yt.Buffer.from([n]));s=this.createProgramAddressSync(i,r)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,r){return this.findProgramAddressSync(t,r)}static isOnCurve(t){const r=new pt(t);return ls(r.toBytes())}}ps=pt,pt.default=new ps("11111111111111111111111111111111"),on.set(pt,{kind:"struct",fields:[["_bn","u256"]]}),new pt("BPFLoader1111111111111111111111111111111111");const cr=1232,si=127,sn=64;class an{constructor(t,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const r of this.keySegments()){if(t<r.length)return r[t];t-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,f)=>{n.set(i.toBase58(),f)});const s=i=>{const f=n.get(i.toBase58());if(f===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return f};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(f=>s(f.pubkey)),data:i.data}))}}const wt=(e="publicKey")=>L.blob(32,e),rf=(e="signature")=>L.blob(64,e),fr=(e="string")=>{const t=L.struct([L.u32("length"),L.u32("lengthPadding"),L.blob(L.offset(L.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),s=t;return s.decode=(i,f)=>r(i,f).chars.toString(),s.encode=(i,f,p)=>{const x={chars:yt.Buffer.from(i,"utf8")};return n(x,f,p)},s.alloc=i=>L.u32().span+L.u32().span+yt.Buffer.from(i,"utf8").length,s},nf=(e="authorized")=>L.struct([wt("staker"),wt("withdrawer")],e),of=(e="lockup")=>L.struct([L.ns64("unixTimestamp"),L.ns64("epoch"),wt("custodian")],e),sf=(e="voteInit")=>L.struct([wt("nodePubkey"),wt("authorizedVoter"),wt("authorizedWithdrawer"),L.u8("commission")],e),af=(e="voteAuthorizeWithSeedArgs")=>L.struct([L.u32("voteAuthorizationType"),wt("currentAuthorityDerivedKeyOwnerPubkey"),fr("currentAuthorityDerivedKeySeed"),wt("newAuthorized")],e);function pe(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(n&127)<<r*7,r+=1,(n&128)===0)break}return t}function ge(e,t){let r=t;for(;;){let n=r&127;if(r>>=7,r==0){e.push(n);break}else n|=128,e.push(n)}}function Jt(e,t){if(!e)throw new Error(t||"Assertion failed")}class un{constructor(t,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}static compile(t,r){const n=new Map,s=f=>{const p=f.toBase58();let x=n.get(p);return x===void 0&&(x={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(p,x)),x},i=s(r);i.isSigner=!0,i.isWritable=!0;for(const f of t){s(f.programId).isInvoked=!0;for(const p of f.keys){const x=s(p.pubkey);x.isSigner||=p.isSigner,x.isWritable||=p.isWritable}}return new un(r,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Jt(t.length<=256,"Max static account keys length exceeded");const r=t.filter(([,x])=>x.isSigner&&x.isWritable),n=t.filter(([,x])=>x.isSigner&&!x.isWritable),s=t.filter(([,x])=>!x.isSigner&&x.isWritable),i=t.filter(([,x])=>!x.isSigner&&!x.isWritable),f={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Jt(r.length>0,"Expected at least one writable signer key");const[x]=r[0];Jt(x===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const p=[...r.map(([x])=>new pt(x)),...n.map(([x])=>new pt(x)),...s.map(([x])=>new pt(x)),...i.map(([x])=>new pt(x))];return[f,p]}extractTableLookup(t){const[r,n]=this.drainKeysFoundInLookupTable(t.state.addresses,f=>!f.isSigner&&!f.isInvoked&&f.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,f=>!f.isSigner&&!f.isInvoked&&!f.isWritable);if(!(r.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,r){const n=new Array,s=new Array;for(const[i,f]of this.keyMetaMap.entries())if(r(f)){const p=new pt(i),x=t.findIndex(B=>B.equals(p));x>=0&&(Jt(x<256,"Max lookup table index exceeded"),n.push(x),s.push(p),this.keyMetaMap.delete(i))}return[n,s]}}const ys="Reached end of buffer unexpectedly";function Ue(e){if(e.length===0)throw new Error(ys);return e.shift()}function ye(e,...t){const[r]=t;if(t.length===2?r+(t[1]??0)>e.length:r>=e.length)throw new Error(ys);return e.splice(...t)}class hr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(r=>new pt(r)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ue.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new an(this.staticAccountKeys)}static compile(t){const r=un.compile(t.instructions,t.payerKey),[n,s]=r.getMessageComponents(),f=new an(s).compileInstructions(t.instructions).map(p=>({programIdIndex:p.programIdIndex,accounts:p.accountKeyIndexes,data:ue.encode(p.data)}));return new hr({header:n,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:f})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-r,i=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=r-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,r)=>!this.isProgramId(r))}serialize(){const t=this.accountKeys.length;let r=[];ge(r,t);const n=this.instructions.map(T=>{const{accounts:K,programIdIndex:N}=T,$=Array.from(ue.decode(T.data));let O=[];ge(O,K.length);let k=[];return ge(k,$.length),{programIdIndex:N,keyIndicesCount:yt.Buffer.from(O),keyIndices:K,dataLength:yt.Buffer.from(k),data:$}});let s=[];ge(s,n.length);let i=yt.Buffer.alloc(cr);yt.Buffer.from(s).copy(i);let f=s.length;n.forEach(T=>{const N=L.struct([L.u8("programIdIndex"),L.blob(T.keyIndicesCount.length,"keyIndicesCount"),L.seq(L.u8("keyIndex"),T.keyIndices.length,"keyIndices"),L.blob(T.dataLength.length,"dataLength"),L.seq(L.u8("userdatum"),T.data.length,"data")]).encode(T,i,f);f+=N}),i=i.slice(0,f);const p=L.struct([L.blob(1,"numRequiredSignatures"),L.blob(1,"numReadonlySignedAccounts"),L.blob(1,"numReadonlyUnsignedAccounts"),L.blob(r.length,"keyCount"),L.seq(wt("key"),t,"keys"),wt("recentBlockhash")]),x={numRequiredSignatures:yt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:yt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:yt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:yt.Buffer.from(r),keys:this.accountKeys.map(T=>oi(T.toBytes())),recentBlockhash:ue.decode(this.recentBlockhash)};let B=yt.Buffer.alloc(2048);const w=p.encode(x,B);return i.copy(B,w),B.slice(0,w+i.length)}static from(t){let r=[...t];const n=Ue(r);if(n!==(n&si))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Ue(r),i=Ue(r),f=pe(r);let p=[];for(let K=0;K<f;K++){const N=ye(r,0,qe);p.push(new pt(yt.Buffer.from(N)))}const x=ye(r,0,qe),B=pe(r);let w=[];for(let K=0;K<B;K++){const N=Ue(r),$=pe(r),O=ye(r,0,$),k=pe(r),Y=ye(r,0,k),G=ue.encode(yt.Buffer.from(Y));w.push({programIdIndex:N,accounts:O,data:G})}const T={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:ue.encode(yt.Buffer.from(x)),accountKeys:p,instructions:w};return new hr(T)}}class cn{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const r of this.addressTableLookups)t+=r.readonlyIndexes.length+r.writableIndexes.length;return t}getAccountKeys(t){let r;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)r=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new an(this.staticAccountKeys,r)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const s=t-n,i=this.addressTableLookups.reduce((f,p)=>f+p.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-r,f=n-r-this.header.numReadonlyUnsignedAccounts;return s<f}else{const s=r-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=t.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<s.state.addresses.length)r.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<s.state.addresses.length)r.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(t){const r=un.compile(t.instructions,t.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const w of i){const T=r.extractTableLookup(w);if(T!==void 0){const[K,{writable:N,readonly:$}]=T;n.push(K),s.writable.push(...N),s.readonly.push(...$)}}const[f,p]=r.getMessageComponents(),B=new an(p,s).compileInstructions(t.instructions);return new cn({header:f,staticAccountKeys:p,recentBlockhash:t.recentBlockhash,compiledInstructions:B,addressTableLookups:n})}serialize(){const t=Array();ge(t,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();ge(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();ge(i,this.addressTableLookups.length);const f=L.struct([L.u8("prefix"),L.struct([L.u8("numRequiredSignatures"),L.u8("numReadonlySignedAccounts"),L.u8("numReadonlyUnsignedAccounts")],"header"),L.blob(t.length,"staticAccountKeysLength"),L.seq(wt(),this.staticAccountKeys.length,"staticAccountKeys"),wt("recentBlockhash"),L.blob(n.length,"instructionsLength"),L.blob(r.length,"serializedInstructions"),L.blob(i.length,"addressTableLookupsLength"),L.blob(s.length,"serializedAddressTableLookups")]),p=new Uint8Array(cr),B=f.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(w=>w.toBytes()),recentBlockhash:ue.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},p);return p.slice(0,B)}serializeInstructions(){let t=0;const r=new Uint8Array(cr);for(const n of this.compiledInstructions){const s=Array();ge(s,n.accountKeyIndexes.length);const i=Array();ge(i,n.data.length);const f=L.struct([L.u8("programIdIndex"),L.blob(s.length,"encodedAccountKeyIndexesLength"),L.seq(L.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),L.blob(i.length,"encodedDataLength"),L.blob(n.data.length,"data")]);t+=f.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},r,t)}return r.slice(0,t)}serializeAddressTableLookups(){let t=0;const r=new Uint8Array(cr);for(const n of this.addressTableLookups){const s=Array();ge(s,n.writableIndexes.length);const i=Array();ge(i,n.readonlyIndexes.length);const f=L.struct([wt("accountKey"),L.blob(s.length,"encodedWritableIndexesLength"),L.seq(L.u8(),n.writableIndexes.length,"writableIndexes"),L.blob(i.length,"encodedReadonlyIndexesLength"),L.seq(L.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=f.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},r,t)}return r.slice(0,t)}static deserialize(t){let r=[...t];const n=Ue(r),s=n&si;Jt(n!==s,"Expected versioned message but received legacy message");const i=s;Jt(i===0,`Expected versioned message with version 0 but found version ${i}`);const f={numRequiredSignatures:Ue(r),numReadonlySignedAccounts:Ue(r),numReadonlyUnsignedAccounts:Ue(r)},p=[],x=pe(r);for(let $=0;$<x;$++)p.push(new pt(ye(r,0,qe)));const B=ue.encode(ye(r,0,qe)),w=pe(r),T=[];for(let $=0;$<w;$++){const O=Ue(r),k=pe(r),Y=ye(r,0,k),G=pe(r),X=new Uint8Array(ye(r,0,G));T.push({programIdIndex:O,accountKeyIndexes:Y,data:X})}const K=pe(r),N=[];for(let $=0;$<K;$++){const O=new pt(ye(r,0,qe)),k=pe(r),Y=ye(r,0,k),G=pe(r),X=ye(r,0,G);N.push({accountKey:O,writableIndexes:Y,readonlyIndexes:X})}return new cn({header:f,staticAccountKeys:p,recentBlockhash:B,compiledInstructions:T,addressTableLookups:N})}}const ws={deserializeMessageVersion(e){const t=e[0],r=t&si;return r===t?"legacy":r},deserialize:e=>{const t=ws.deserializeMessageVersion(e);if(t==="legacy")return hr.from(e);if(t===0)return cn.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},uf=yt.Buffer.alloc(sn).fill(0);class ms{constructor(t){this.keys=void 0,this.programId=void 0,this.data=yt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:r,isWritable:n})=>({pubkey:t.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class fn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=t;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=t;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new ms(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(t=this.recentBlockhash,r=this.instructions),!t)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let O=0;O<r.length;O++)if(r[O].programId===void 0)throw new Error(`Transaction instruction index ${O} has undefined program id`);const s=[],i=[];r.forEach(O=>{O.keys.forEach(Y=>{i.push({...Y})});const k=O.programId.toString();s.includes(k)||s.push(k)}),s.forEach(O=>{i.push({pubkey:new pt(O),isSigner:!1,isWritable:!1})});const f=[];i.forEach(O=>{const k=O.pubkey.toString(),Y=f.findIndex(G=>G.pubkey.toString()===k);Y>-1?(f[Y].isWritable=f[Y].isWritable||O.isWritable,f[Y].isSigner=f[Y].isSigner||O.isSigner):f.push(O)}),f.sort(function(O,k){if(O.isSigner!==k.isSigner)return O.isSigner?-1:1;if(O.isWritable!==k.isWritable)return O.isWritable?-1:1;const Y={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return O.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",Y)});const p=f.findIndex(O=>O.pubkey.equals(n));if(p>-1){const[O]=f.splice(p,1);O.isSigner=!0,O.isWritable=!0,f.unshift(O)}else f.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const O of this.signatures){const k=f.findIndex(Y=>Y.pubkey.equals(O.publicKey));if(k>-1)f[k].isSigner||(f[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${O.publicKey.toString()}`)}let x=0,B=0,w=0;const T=[],K=[];f.forEach(({pubkey:O,isSigner:k,isWritable:Y})=>{k?(T.push(O.toString()),x+=1,Y||(B+=1)):(K.push(O.toString()),Y||(w+=1))});const N=T.concat(K),$=r.map(O=>{const{data:k,programId:Y}=O;return{programIdIndex:N.indexOf(Y.toString()),accounts:O.keys.map(G=>N.indexOf(G.pubkey.toString())),data:ue.encode(k)}});return $.forEach(O=>{Jt(O.programIdIndex>=0),O.accounts.forEach(k=>Jt(k>=0))}),new hr({header:{numRequiredSignatures:x,numReadonlySignedAccounts:B,numReadonlyUnsignedAccounts:w},accountKeys:N,recentBlockhash:t,instructions:$})}_compile(){const t=this.compileMessage(),r=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((s,i)=>r[i].equals(s.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const r=new Set;this.signatures=t.filter(n=>{const s=n.toString();return r.has(s)?!1:(r.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const i of t){const f=i.publicKey.toString();r.has(f)||(r.add(f),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const i of t){const f=i.publicKey.toString();r.has(f)||(r.add(f),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(t,...r){const n=t.serialize();r.forEach(s=>{const i=ds(n,s.secretKey);this._addSignature(s.publicKey,oi(i))})}addSignature(t,r){this._compile(),this._addSignature(t,r)}_addSignature(t,r){Jt(r.length===64);const n=this.signatures.findIndex(s=>t.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=yt.Buffer.from(r)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,r){const n={};for(const{signature:s,publicKey:i}of this.signatures)s===null?r&&(n.missing||=[]).push(i):Qc(s,t,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(n){const i=this._getMessageSignednessErrors(s,r);if(i){let f="Signature verification failed.";throw i.invalid&&(f+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(p=>p.toBase58()).join("`, `")}\`].`),i.missing&&(f+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(p=>p.toBase58()).join("`, `")}\`].`),new Error(f)}}return this._serialize(s)}_serialize(t){const{signatures:r}=this,n=[];ge(n,r.length);const s=n.length+r.length*64+t.length,i=yt.Buffer.alloc(s);return Jt(r.length<256),yt.Buffer.from(n).copy(i,0),r.forEach(({signature:f},p)=>{f!==null&&(Jt(f.length===64,"signature has invalid length"),yt.Buffer.from(f).copy(i,n.length+p*64))}),t.copy(i,n.length+r.length*64),Jt(i.length<=cr,`Transaction too large: ${i.length} > ${cr}`),i}get keys(){return Jt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Jt(this.instructions.length===1),this.instructions[0].programId}get data(){return Jt(this.instructions.length===1),this.instructions[0].data}static from(t){let r=[...t];const n=pe(r);let s=[];for(let i=0;i<n;i++){const f=ye(r,0,sn);s.push(ue.encode(yt.Buffer.from(f)))}return fn.populate(hr.from(r),s)}static populate(t,r=[]){const n=new fn;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((s,i)=>{const f={signature:s==ue.encode(uf)?null:ue.decode(s),publicKey:t.accountKeys[i]};n.signatures.push(f)}),t.instructions.forEach(s=>{const i=s.accounts.map(f=>{const p=t.accountKeys[f];return{pubkey:p,isSigner:n.signatures.some(x=>x.publicKey.toString()===p.toString())||t.isAccountSigner(f),isWritable:t.isAccountWritable(f)}});n.instructions.push(new ms({keys:i,programId:t.accountKeys[s.programIdIndex],data:ue.decode(s.data)}))}),n._message=t,n._json=n.toJSON(),n}}class ai{get version(){return this.message.version}constructor(t,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Jt(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let s=0;s<t.header.numRequiredSignatures;s++)n.push(new Uint8Array(sn));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),r=Array();ge(r,this.signatures.length);const n=L.struct([L.blob(r.length,"encodedSignaturesLength"),L.seq(rf(),this.signatures.length,"signatures"),L.blob(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let r=[...t];const n=[],s=pe(r);for(let f=0;f<s;f++)n.push(new Uint8Array(ye(r,0,sn)));const i=ws.deserialize(new Uint8Array(r));return new ai(i,n)}sign(t){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=n.findIndex(f=>f.equals(s.publicKey));Jt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=ds(r,s.secretKey)}}addSignature(t,r){Jt(r.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));Jt(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=r}}new pt("SysvarC1ock11111111111111111111111111111111"),new pt("SysvarEpochSchedu1e111111111111111111111111"),new pt("Sysvar1nstructions1111111111111111111111111"),new pt("SysvarRecentB1ockHashes11111111111111111111"),new pt("SysvarRent111111111111111111111111111111111"),new pt("SysvarRewards111111111111111111111111111111"),new pt("SysvarS1otHashes111111111111111111111111111"),new pt("SysvarS1otHistory11111111111111111111111111"),new pt("SysvarStakeHistory1111111111111111111111111");const cf=L.nu64("lamportsPerSignature");L.struct([L.u32("version"),L.u32("state"),wt("authorizedPubkey"),wt("nonce"),L.struct([cf],"feeCalculator")]).span;function lr(e){const t=L.blob(8,e),r=t.decode.bind(t),n=t.encode.bind(t),s=t,i=cc();return s.decode=(f,p)=>{const x=r(f,p);return i.decode(x)},s.encode=(f,p,x)=>{const B=i.encode(f);return n(B,p,x)},s}Object.freeze({Create:{index:0,layout:L.struct([L.u32("instruction"),L.ns64("lamports"),L.ns64("space"),wt("programId")])},Assign:{index:1,layout:L.struct([L.u32("instruction"),wt("programId")])},Transfer:{index:2,layout:L.struct([L.u32("instruction"),lr("lamports")])},CreateWithSeed:{index:3,layout:L.struct([L.u32("instruction"),wt("base"),fr("seed"),L.ns64("lamports"),L.ns64("space"),wt("programId")])},AdvanceNonceAccount:{index:4,layout:L.struct([L.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:L.struct([L.u32("instruction"),wt("authorized")])},AuthorizeNonceAccount:{index:7,layout:L.struct([L.u32("instruction"),wt("authorized")])},Allocate:{index:8,layout:L.struct([L.u32("instruction"),L.ns64("space")])},AllocateWithSeed:{index:9,layout:L.struct([L.u32("instruction"),wt("base"),fr("seed"),L.ns64("space"),wt("programId")])},AssignWithSeed:{index:10,layout:L.struct([L.u32("instruction"),wt("base"),fr("seed"),wt("programId")])},TransferWithSeed:{index:11,layout:L.struct([L.u32("instruction"),lr("lamports"),fr("seed"),wt("programId")])},UpgradeNonceAccount:{index:12,layout:L.struct([L.u32("instruction")])}}),new pt("11111111111111111111111111111111"),new pt("BPFLoader2111111111111111111111111111111111"),L.struct([L.u32("typeIndex"),lr("deactivationSlot"),L.nu64("lastExtendedSlot"),L.u8("lastExtendedStartIndex"),L.u8(),L.seq(wt(),L.offset(L.u8(),-1),"authority")]);const Lt=Mr(Yn(pt),rt(),e=>new pt(e)),xs=Vn([rt(),kt("base64")]),ui=Mr(Yn(yt.Buffer),xs,e=>yt.Buffer.from(e[0],"base64"));function bs(e){return fe([J({jsonrpc:kt("2.0"),id:rt(),result:e}),J({jsonrpc:kt("2.0"),id:rt(),error:J({code:ur(),message:rt(),data:ht(yc())})})])}const ff=bs(ur());function At(e){return Mr(bs(e),ff,t=>"error"in t?t:{...t,result:vr(t.result,e)})}function Ee(e){return At(J({context:J({slot:Z()}),value:e}))}function hn(e){return J({context:J({slot:Z()}),value:e})}const hf=J({foundation:Z(),foundationTerm:Z(),initial:Z(),taper:Z(),terminal:Z()});At(at(ut(J({epoch:Z(),effectiveSlot:Z(),amount:Z(),postBalance:Z(),commission:ht(ut(Z()))}))));const lf=at(J({slot:Z(),prioritizationFee:Z()})),df=J({total:Z(),validator:Z(),foundation:Z(),epoch:Z()}),pf=J({epoch:Z(),slotIndex:Z(),slotsInEpoch:Z(),absoluteSlot:Z(),blockHeight:ht(Z()),transactionCount:ht(Z())}),gf=J({slotsPerEpoch:Z(),leaderScheduleSlotOffset:Z(),warmup:_e(),firstNormalEpoch:Z(),firstNormalSlot:Z()}),yf=Xo(rt(),at(Z())),Ve=ut(fe([J({}),rt()])),wf=J({err:Ve}),mf=kt("receivedSignature");J({"solana-core":rt(),"feature-set":ht(Z())});const xf=J({program:rt(),programId:Lt,parsed:ur()}),bf=J({programId:Lt,accounts:at(Lt),data:rt()});Ee(J({err:ut(fe([J({}),rt()])),logs:ut(at(rt())),accounts:ht(ut(at(ut(J({executable:_e(),owner:rt(),lamports:Z(),data:at(rt()),rentEpoch:ht(Z())}))))),unitsConsumed:ht(Z()),returnData:ht(ut(J({programId:rt(),data:Vn([rt(),kt("base64")])}))),innerInstructions:ht(ut(at(J({index:Z(),instructions:at(fe([xf,bf]))}))))})),Ee(J({byIdentity:Xo(rt(),at(Z())),range:J({firstSlot:Z(),lastSlot:Z()})})),At(hf),At(df),At(lf),At(pf),At(gf),At(yf),At(Z()),Ee(J({total:Z(),circulating:Z(),nonCirculating:Z(),nonCirculatingAccounts:at(Lt)}));const Ef=J({amount:rt(),uiAmount:ut(Z()),decimals:Z(),uiAmountString:ht(rt())});Ee(at(J({address:Lt,amount:rt(),uiAmount:ut(Z()),decimals:Z(),uiAmountString:ht(rt())}))),Ee(at(J({pubkey:Lt,account:J({executable:_e(),owner:Lt,lamports:Z(),data:ui,rentEpoch:Z()})})));const ci=J({program:rt(),parsed:ur(),space:Z()});Ee(at(J({pubkey:Lt,account:J({executable:_e(),owner:Lt,lamports:Z(),data:ci,rentEpoch:Z()})}))),Ee(at(J({lamports:Z(),address:Lt})));const fi=J({executable:_e(),owner:Lt,lamports:Z(),data:ui,rentEpoch:Z()});J({pubkey:Lt,account:fi});const vf=Mr(fe([Yn(yt.Buffer),ci]),fe([xs,ci]),e=>Array.isArray(e)?vr(e,ui):e),If=J({executable:_e(),owner:Lt,lamports:Z(),data:vf,rentEpoch:Z()});J({pubkey:Lt,account:If}),J({state:fe([kt("active"),kt("inactive"),kt("activating"),kt("deactivating")]),active:Z(),inactive:Z()}),At(at(J({signature:rt(),slot:Z(),err:Ve,memo:ut(rt()),blockTime:ht(ut(Z()))}))),At(at(J({signature:rt(),slot:Z(),err:Ve,memo:ut(rt()),blockTime:ht(ut(Z()))}))),J({subscription:Z(),result:hn(fi)});const Mf=J({pubkey:Lt,account:fi});J({subscription:Z(),result:hn(Mf)});const Bf=J({parent:Z(),slot:Z(),root:Z()});J({subscription:Z(),result:Bf});const Af=fe([J({type:fe([kt("firstShredReceived"),kt("completed"),kt("optimisticConfirmation"),kt("root")]),slot:Z(),timestamp:Z()}),J({type:kt("createdBank"),parent:Z(),slot:Z(),timestamp:Z()}),J({type:kt("frozen"),slot:Z(),timestamp:Z(),stats:J({numTransactionEntries:Z(),numSuccessfulTransactions:Z(),numFailedTransactions:Z(),maxTransactionsPerEntry:Z()})}),J({type:kt("dead"),slot:Z(),timestamp:Z(),err:rt()})]);J({subscription:Z(),result:Af}),J({subscription:Z(),result:hn(fe([wf,mf]))}),J({subscription:Z(),result:Z()}),J({pubkey:rt(),gossip:ut(rt()),tpu:ut(rt()),rpc:ut(rt()),version:ut(rt())});const Es=J({votePubkey:rt(),nodePubkey:rt(),activatedStake:Z(),epochVoteAccount:_e(),epochCredits:at(Vn([Z(),Z(),Z()])),commission:Z(),lastVote:Z(),rootSlot:ut(Z())});At(J({current:at(Es),delinquent:at(Es)}));const Sf=fe([kt("processed"),kt("confirmed"),kt("finalized")]),_f=J({slot:Z(),confirmations:ut(Z()),err:Ve,confirmationStatus:ht(Sf)});Ee(at(ut(_f))),At(Z());const vs=J({accountKey:Lt,writableIndexes:at(Z()),readonlyIndexes:at(Z())}),hi=J({signatures:at(rt()),message:J({accountKeys:at(rt()),header:J({numRequiredSignatures:Z(),numReadonlySignedAccounts:Z(),numReadonlyUnsignedAccounts:Z()}),instructions:at(J({accounts:at(Z()),data:rt(),programIdIndex:Z()})),recentBlockhash:rt(),addressTableLookups:ht(at(vs))})}),Is=J({pubkey:Lt,signer:_e(),writable:_e(),source:ht(fe([kt("transaction"),kt("lookupTable")]))}),Ms=J({accountKeys:at(Is),signatures:at(rt())}),Bs=J({parsed:ur(),program:rt(),programId:Lt}),As=J({accounts:at(Lt),data:rt(),programId:Lt}),Tf=fe([As,Bs]),Nf=fe([J({parsed:ur(),program:rt(),programId:rt()}),J({accounts:at(rt()),data:rt(),programId:rt()})]),Ss=Mr(Tf,Nf,e=>"accounts"in e?vr(e,As):vr(e,Bs)),_s=J({signatures:at(rt()),message:J({accountKeys:at(Is),instructions:at(Ss),recentBlockhash:rt(),addressTableLookups:ht(ut(at(vs)))})}),ln=J({accountIndex:Z(),mint:rt(),owner:ht(rt()),programId:ht(rt()),uiTokenAmount:Ef}),Ts=J({writable:at(Lt),readonly:at(Lt)}),dn=J({err:Ve,fee:Z(),innerInstructions:ht(ut(at(J({index:Z(),instructions:at(J({accounts:at(Z()),data:rt(),programIdIndex:Z()}))})))),preBalances:at(Z()),postBalances:at(Z()),logMessages:ht(ut(at(rt()))),preTokenBalances:ht(ut(at(ln))),postTokenBalances:ht(ut(at(ln))),loadedAddresses:ht(Ts),computeUnitsConsumed:ht(Z()),costUnits:ht(Z())}),li=J({err:Ve,fee:Z(),innerInstructions:ht(ut(at(J({index:Z(),instructions:at(Ss)})))),preBalances:at(Z()),postBalances:at(Z()),logMessages:ht(ut(at(rt()))),preTokenBalances:ht(ut(at(ln))),postTokenBalances:ht(ut(at(ln))),loadedAddresses:ht(Ts),computeUnitsConsumed:ht(Z()),costUnits:ht(Z())}),dr=fe([kt(0),kt("legacy")]),Ge=J({pubkey:rt(),lamports:Z(),postBalance:ut(Z()),rewardType:ut(rt()),commission:ht(ut(Z()))});At(ut(J({blockhash:rt(),previousBlockhash:rt(),parentSlot:Z(),transactions:at(J({transaction:hi,meta:ut(dn),version:ht(dr)})),rewards:ht(at(Ge)),blockTime:ut(Z()),blockHeight:ut(Z())}))),At(ut(J({blockhash:rt(),previousBlockhash:rt(),parentSlot:Z(),rewards:ht(at(Ge)),blockTime:ut(Z()),blockHeight:ut(Z())}))),At(ut(J({blockhash:rt(),previousBlockhash:rt(),parentSlot:Z(),transactions:at(J({transaction:Ms,meta:ut(dn),version:ht(dr)})),rewards:ht(at(Ge)),blockTime:ut(Z()),blockHeight:ut(Z())}))),At(ut(J({blockhash:rt(),previousBlockhash:rt(),parentSlot:Z(),transactions:at(J({transaction:_s,meta:ut(li),version:ht(dr)})),rewards:ht(at(Ge)),blockTime:ut(Z()),blockHeight:ut(Z())}))),At(ut(J({blockhash:rt(),previousBlockhash:rt(),parentSlot:Z(),transactions:at(J({transaction:Ms,meta:ut(li),version:ht(dr)})),rewards:ht(at(Ge)),blockTime:ut(Z()),blockHeight:ut(Z())}))),At(ut(J({blockhash:rt(),previousBlockhash:rt(),parentSlot:Z(),rewards:ht(at(Ge)),blockTime:ut(Z()),blockHeight:ut(Z())}))),At(ut(J({blockhash:rt(),previousBlockhash:rt(),parentSlot:Z(),transactions:at(J({transaction:hi,meta:ut(dn)})),rewards:ht(at(Ge)),blockTime:ut(Z())}))),At(ut(J({blockhash:rt(),previousBlockhash:rt(),parentSlot:Z(),signatures:at(rt()),blockTime:ut(Z())}))),At(ut(J({slot:Z(),meta:ut(dn),blockTime:ht(ut(Z())),transaction:hi,version:ht(dr)}))),At(ut(J({slot:Z(),transaction:_s,meta:ut(li),blockTime:ht(ut(Z())),version:ht(dr)}))),Ee(J({blockhash:rt(),lastValidBlockHeight:Z()})),Ee(_e());const kf=J({slot:Z(),numTransactions:Z(),numSlots:Z(),samplePeriodSecs:Z()});At(at(kf)),Ee(ut(J({feeCalculator:J({lamportsPerSignature:Z()})}))),At(rt()),At(rt());const Rf=J({err:Ve,logs:at(rt()),signature:rt()});J({result:hn(Rf),subscription:Z()}),Object.freeze({CreateLookupTable:{index:0,layout:L.struct([L.u32("instruction"),lr("recentSlot"),L.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:L.struct([L.u32("instruction")])},ExtendLookupTable:{index:2,layout:L.struct([L.u32("instruction"),lr(),L.seq(wt(),L.offset(L.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:L.struct([L.u32("instruction")])},CloseLookupTable:{index:4,layout:L.struct([L.u32("instruction")])}}),new pt("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:L.struct([L.u8("instruction"),L.u32("units"),L.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:L.struct([L.u8("instruction"),L.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:L.struct([L.u8("instruction"),L.u32("units")])},SetComputeUnitPrice:{index:3,layout:L.struct([L.u8("instruction"),lr("microLamports")])}}),new pt("ComputeBudget111111111111111111111111111111"),L.struct([L.u8("numSignatures"),L.u8("padding"),L.u16("signatureOffset"),L.u16("signatureInstructionIndex"),L.u16("publicKeyOffset"),L.u16("publicKeyInstructionIndex"),L.u16("messageDataOffset"),L.u16("messageDataSize"),L.u16("messageInstructionIndex")]),new pt("Ed25519SigVerify111111111111111111111111111"),Xc.utils.isValidPrivateKey,L.struct([L.u8("numSignatures"),L.u16("signatureOffset"),L.u8("signatureInstructionIndex"),L.u16("ethAddressOffset"),L.u8("ethAddressInstructionIndex"),L.u16("messageDataOffset"),L.u16("messageDataSize"),L.u8("messageInstructionIndex"),L.blob(20,"ethAddress"),L.blob(64,"signature"),L.u8("recoveryId")]),new pt("KeccakSecp256k11111111111111111111111111111");var Ns;new pt("StakeConfig11111111111111111111111111111111");class ks{constructor(t,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}}Ns=ks,ks.default=new Ns(0,0,pt.default),Object.freeze({Initialize:{index:0,layout:L.struct([L.u32("instruction"),nf(),of()])},Authorize:{index:1,layout:L.struct([L.u32("instruction"),wt("newAuthorized"),L.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:L.struct([L.u32("instruction")])},Split:{index:3,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},Withdraw:{index:4,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},Deactivate:{index:5,layout:L.struct([L.u32("instruction")])},Merge:{index:7,layout:L.struct([L.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:L.struct([L.u32("instruction"),wt("newAuthorized"),L.u32("stakeAuthorizationType"),fr("authoritySeed"),wt("authorityOwner")])}}),new pt("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:L.struct([L.u32("instruction"),sf()])},Authorize:{index:1,layout:L.struct([L.u32("instruction"),wt("newAuthorized"),L.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:L.struct([L.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:L.struct([L.u32("instruction"),af()])}}),new pt("Vote111111111111111111111111111111111111111"),new pt("Va1idator1nfo111111111111111111111111111111"),J({name:rt(),website:ht(rt()),details:ht(rt()),iconUrl:ht(rt()),keybaseUsername:ht(rt())}),new pt("Vote111111111111111111111111111111111111111"),L.struct([wt("nodePubkey"),wt("authorizedWithdrawer"),L.u8("commission"),L.nu64(),L.seq(L.struct([L.nu64("slot"),L.u32("confirmationCount")]),L.offset(L.u32(),-8),"votes"),L.u8("rootSlotValid"),L.nu64("rootSlot"),L.nu64(),L.seq(L.struct([L.nu64("epoch"),wt("authorizedVoter")]),L.offset(L.u32(),-8),"authorizedVoters"),L.struct([L.seq(L.struct([wt("authorizedPubkey"),L.nu64("epochOfLastAuthorizedSwitch"),L.nu64("targetEpoch")]),32,"buf"),L.nu64("idx"),L.u8("isEmpty")],"priorVoters"),L.nu64(),L.seq(L.struct([L.nu64("epoch"),L.nu64("credits"),L.nu64("prevCredits")]),L.offset(L.u32(),-8),"epochCredits"),L.struct([L.nu64("slot"),L.nu64("timestamp")],"lastTimestamp")]);class Rs extends Error{response;request;options;constructor(t,r,n){const s=t.status||t.status===0?t.status:"",i=t.statusText||"",f=`${s} ${i}`.trim(),p=f?`status code ${f}`:"an unknown error";super(`Request failed with ${p}: ${r.method} ${r.url}`),this.name="HTTPError",this.response=t,this.request=r,this.options=n}}class Ls extends Error{request;constructor(t){super(`Request timed out: ${t.method} ${t.url}`),this.name="TimeoutError",this.request=t}}const Us=(()=>{let e=!1,t=!1;const r=typeof globalThis.ReadableStream=="function",n=typeof globalThis.Request=="function";if(r&&n)try{t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")}catch(s){if(s instanceof Error&&s.message==="unsupported BodyInit type")return!1;throw s}return e&&!t})(),Lf=typeof globalThis.AbortController=="function",Uf=typeof globalThis.ReadableStream=="function",Ff=typeof globalThis.FormData=="function",Fs=["get","post","put","patch","head","delete"],Df={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},di=2147483647,Cf=new TextEncoder().encode("------WebKitFormBoundaryaxpyiPgbbPti10Rw").length,Ds=Symbol("stop"),Of={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,onUploadProgress:!0,fetch:!0},zf={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},jf=e=>{if(!e)return 0;if(e instanceof FormData){let t=0;for(const[r,n]of e)t+=Cf,t+=new TextEncoder().encode(`Content-Disposition: form-data; name="${r}"`).length,t+=typeof n=="string"?new TextEncoder().encode(n).length:n.size;return t}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength;if(typeof e=="string")return new TextEncoder().encode(e).length;if(e instanceof URLSearchParams)return new TextEncoder().encode(e.toString()).length;if("byteLength"in e)return e.byteLength;if(typeof e=="object"&&e!==null)try{const t=JSON.stringify(e);return new TextEncoder().encode(t).length}catch{return 0}return 0},Pf=(e,t)=>{const r=Number(e.headers.get("content-length"))||0;let n=0;return e.status===204?(t&&t({percent:1,totalBytes:r,transferredBytes:n},new Uint8Array),new Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new Response(new ReadableStream({async start(s){const i=e.body.getReader();t&&t({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array);async function f(){const{done:p,value:x}=await i.read();if(p){s.close();return}if(t){n+=x.byteLength;const B=r===0?0:n/r;t({percent:B,transferredBytes:n,totalBytes:r},x)}s.enqueue(x),await f()}await f()}}),{status:e.status,statusText:e.statusText,headers:e.headers})},qf=(e,t)=>{const r=jf(e.body);let n=0;return new Request(e,{duplex:"half",body:new ReadableStream({async start(s){const i=e.body instanceof ReadableStream?e.body.getReader():new Response("").body.getReader();async function f(){const{done:p,value:x}=await i.read();if(p){t&&t({percent:1,transferredBytes:n,totalBytes:Math.max(r,n)},new Uint8Array),s.close();return}n+=x.byteLength;let B=r===0?0:n/r;(r<n||B===1)&&(B=.99),t&&t({percent:Number(B.toFixed(2)),transferredBytes:n,totalBytes:r},x),s.enqueue(x),await f()}await f()}})})},Sr=e=>e!==null&&typeof e=="object",pn=(...e)=>{for(const t of e)if((!Sr(t)||Array.isArray(t))&&t!==void 0)throw new TypeError("The `options` argument must be an object");return pi({},...e)},Cs=(e={},t={})=>{const r=new globalThis.Headers(e),n=t instanceof globalThis.Headers,s=new globalThis.Headers(t);for(const[i,f]of s.entries())n&&f==="undefined"||f===void 0?r.delete(i):r.set(i,f);return r};function gn(e,t,r){return Object.hasOwn(t,r)&&t[r]===void 0?[]:pi(e[r]??[],t[r]??[])}const Os=(e={},t={})=>({beforeRequest:gn(e,t,"beforeRequest"),beforeRetry:gn(e,t,"beforeRetry"),afterResponse:gn(e,t,"afterResponse"),beforeError:gn(e,t,"beforeError")}),pi=(...e)=>{let t={},r={},n={};for(const s of e)if(Array.isArray(s))Array.isArray(t)||(t=[]),t=[...t,...s];else if(Sr(s)){for(let[i,f]of Object.entries(s))Sr(f)&&i in t&&(f=pi(t[i],f)),t={...t,[i]:f};Sr(s.hooks)&&(n=Os(n,s.hooks),t.hooks=n),Sr(s.headers)&&(r=Cs(r,s.headers),t.headers=r)}return t},Kf=e=>Fs.includes(e)?e.toUpperCase():e,zs={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:[413,429,503],maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},$f=(e={})=>{if(typeof e=="number")return{...zs,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...zs,...e}};async function Hf(e,t,r,n){return new Promise((s,i)=>{const f=setTimeout(()=>{r&&r.abort(),i(new Ls(e))},n.timeout);n.fetch(e,t).then(s).catch(i).then(()=>{clearTimeout(f)})})}async function Zf(e,{signal:t}){return new Promise((r,n)=>{t&&(t.throwIfAborted(),t.addEventListener("abort",s,{once:!0}));function s(){clearTimeout(i),n(t.reason)}const i=setTimeout(()=>{t?.removeEventListener("abort",s),r()},e)})}const Wf=(e,t)=>{const r={};for(const n in t)!(n in zf)&&!(n in Of)&&!(n in e)&&(r[n]=t[n]);return r};class yn{static create(t,r){const n=new yn(t,r),s=async()=>{if(typeof n._options.timeout=="number"&&n._options.timeout>di)throw new RangeError(`The \`timeout\` option cannot be greater than ${di}`);await Promise.resolve();let p=await n._fetch();for(const x of n._options.hooks.afterResponse){const B=await x(n.request,n._options,n._decorateResponse(p.clone()));B instanceof globalThis.Response&&(p=B)}if(n._decorateResponse(p),!p.ok&&n._options.throwHttpErrors){let x=new Rs(p,n.request,n._options);for(const B of n._options.hooks.beforeError)x=await B(x);throw x}if(n._options.onDownloadProgress){if(typeof n._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!Uf)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return Pf(p.clone(),n._options.onDownloadProgress)}return p},f=(n._options.retry.methods.includes(n.request.method.toLowerCase())?n._retry(s):s()).finally(async()=>{n.request.bodyUsed||await n.request.body?.cancel()});for(const[p,x]of Object.entries(Df))f[p]=async()=>{n.request.headers.set("accept",n.request.headers.get("accept")||x);const B=await f;if(p==="json"){if(B.status===204||(await B.clone().arrayBuffer()).byteLength===0)return"";if(r.parseJson)return r.parseJson(await B.text())}return B[p]()};return f}request;abortController;_retryCount=0;_input;_options;constructor(t,r={}){if(this._input=t,this._options={...r,headers:Cs(this._input.headers,r.headers),hooks:Os({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},r.hooks),method:Kf(r.method??this._input.method??"GET"),prefixUrl:String(r.prefixUrl||""),retry:$f(r.retry),throwHttpErrors:r.throwHttpErrors!==!1,timeout:r.timeout??1e4,fetch:r.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(Lf){const n=this._options.signal??this._input.signal;this.abortController=new globalThis.AbortController,this._options.signal=n?AbortSignal.any([n,this.abortController.signal]):this.abortController.signal}if(Us&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const s="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),i=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,s);(Ff&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(i,{...this.request}),this._options)}if(this._options.onUploadProgress){if(typeof this._options.onUploadProgress!="function")throw new TypeError("The `onUploadProgress` option must be a function");if(!Us)throw new Error("Request streams are not supported in your environment. The `duplex` option for `Request` is not available.");this.request.body&&(this.request=qf(this.request,this._options.onUploadProgress))}}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount>this._options.retry.limit||t instanceof Ls)throw t;if(t instanceof Rs){if(!this._options.retry.statusCodes.includes(t.response.status))throw t;const n=t.response.headers.get("Retry-After")??t.response.headers.get("RateLimit-Reset")??t.response.headers.get("X-RateLimit-Reset")??t.response.headers.get("X-Rate-Limit-Reset");if(n&&this._options.retry.afterStatusCodes.includes(t.response.status)){let s=Number(n)*1e3;Number.isNaN(s)?s=Date.parse(n)-Date.now():s>=Date.parse("2024-01-01")&&(s-=Date.now());const i=this._options.retry.maxRetryAfter??s;return s<i?s:i}if(t.response.status===413)throw t}const r=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,r)}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(r){const n=Math.min(this._calculateRetryDelay(r),di);if(this._retryCount<1)throw r;await Zf(n,{signal:this._options.signal});for(const s of this._options.hooks.beforeRetry)if(await s({request:this.request,options:this._options,error:r,retryCount:this._retryCount})===Ds)return;return this._retry(t)}}async _fetch(){for(const n of this._options.hooks.beforeRequest){const s=await n(this.request,this._options);if(s instanceof Request){this.request=s;break}if(s instanceof Response)return s}const t=Wf(this.request,this._options),r=this.request;return this.request=r.clone(),this._options.timeout===!1?this._options.fetch(r,t):Hf(r,t,this.abortController,this._options)}}/*! MIT License © Sindre Sorhus */const gi=e=>{const t=(r,n)=>yn.create(r,pn(e,n));for(const r of Fs)t[r]=(n,s)=>yn.create(n,pn(e,s,{method:r}));return t.create=r=>gi(pn(r)),t.extend=r=>(typeof r=="function"&&(r=r(e??{})),gi(pn(e,r))),t.stop=Ds,t},he=gi();class Yf{static#t="https://wallet-api.jup.ag";static async simulateTransaction(t){return he.post(`${this.#t}/v1/simulate`,{json:t}).json()}static async getAddressesExistence(t){return he.get(`${this.#t}/v1/existence`,{searchParams:{addresses:t.join(",")}}).json()}static async getHoldings(t){return he.get(`${this.#t}/v2/portfolio/holdings/${t}`,{searchParams:{include:"reclaimableLamports"}}).json()}static async getNfts({address:t,page:r=1,limit:n=30}){return he.get(`${this.#t}/v2/portfolio/nft/${t}`,{searchParams:{page:r,limit:n}}).json()}static async getPositions(t){return he.get(`${this.#t}/v2/portfolio/positions/${t}`).json()}static async getTransactions(t,r){return he.get(`${this.#t}/v1/transactions/${t}`,{searchParams:r?{before:r}:{}}).json()}static async scanSite(t){return he.get(`${this.#t}/v1/scan/site/${encodeURIComponent(t)}`).json()}static async getTransferTx(t){return he.get(`${this.#t}/v3/transfer`,{searchParams:t,throwHttpErrors:!1}).json()}static async postExecuteTransfer(t){return he.post(`${this.#t}/v3/transfer`,{json:t}).json()}static async postMetrics(t,r){return he.post(`${this.#t}/v1/metrics`,{json:r,headers:{"x-user-id":t}}).json()}static async getOverallPnl(t){return he.get(`${this.#t}/v1/pnl/${t}`).json()}static async getPnlPositions(t,r){return he.get(`${this.#t}/v1/pnl/${t}/positions`,{searchParams:r}).json()}static async getPnlPosition(t,r){return he.get(`${this.#t}/v1/pnl/${t}/positions/${r}`).json()}static async getPnlActivity(t,r){return he.get(`${this.#t}/v1/pnl/${t}/activity/${r}`).json()}static async postBroadcast(t,r){return he.post(`${this.#t}/v1/broadcast`,{json:{tx:t,network:r}}).json()}}function Vf(e,t,r=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new xe(br,{alphabet:e,base:e.length,value:r})}var Gf=e=>Vr({getSizeFromValue:t=>{const[r,n]=js(t,e[0]);if(!n)return t.length;const s=Ps(n,e);return r.length+Math.ceil(s.toString(16).length/2)},write(t,r,n){if(Vf(e,t),t==="")return n;const[s,i]=js(t,e[0]);if(!i)return r.set(new Uint8Array(s.length).fill(0),n),n+s.length;let f=Ps(i,e);const p=[];for(;f>0n;)p.unshift(Number(f%256n)),f/=256n;const x=[...Array(s.length).fill(0),...p];return r.set(x,n),n+x.length}}),Xf=e=>Gr({read(t,r){const n=r===0?t:t.slice(r);if(n.length===0)return["",0];let s=n.findIndex(x=>x!==0);s=s===-1?n.length:s;const i=e[0].repeat(s);if(s===n.length)return[i,t.length];const f=n.slice(s).reduce((x,B)=>x*256n+BigInt(B),0n),p=Qf(f,e);return[i+p,t.length]}});function js(e,t){const[r,n]=e.split(new RegExp(`((?!${t}).*)`));return[r,n]}function Ps(e,t){const r=BigInt(t.length);let n=0n;for(const s of e)n*=r,n+=BigInt(t.indexOf(s));return n}function Qf(e,t){const r=BigInt(t.length),n=[];for(;e>0n;)n.unshift(t[Number(e%r)]),e/=r;return n.join("")}var qs={alphabet:"0123456789abcdef",base:16};function yi(e){if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87}var Jf=()=>Vr({getSizeFromValue:e=>Math.ceil(e.length/2),write(e,t,r){const n=e.length,s=n/2;if(n===1){const f=e.charCodeAt(0),p=yi(f);if(p===void 0)throw new xe(br,{...qs,value:e});return t.set([p],r),1+r}const i=new Uint8Array(s);for(let f=0,p=0;f<s;f++){const x=e.charCodeAt(p++),B=e.charCodeAt(p++),w=yi(x),T=yi(B);if(w===void 0||T===void 0&&!Number.isNaN(B))throw new xe(br,{...qs,value:e});i[f]=Number.isNaN(B)?w:w<<4|(T??0)}return t.set(i,r),i.length+r}}),th=()=>Gr({read(e,t){return[e.slice(t).reduce((n,s)=>n+s.toString(16).padStart(2,"0"),""),e.length]}}),Ks="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",eh=()=>Gf(Ks),rh=()=>Xf(Ks),$s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nh=()=>Vr({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new xe(br,{alphabet:$s,base:64,value:e})}},write(e,t,r){try{const n=atob(e).split("").map(s=>s.charCodeAt(0));return t.set(n,r),n.length+r}catch{throw new xe(br,{alphabet:$s,base:64,value:e})}}}),ih=()=>Gr({read(e,t=0){const r=e.slice(t);return[btoa(String.fromCharCode(...r)),e.length]}});class Fe{static unmarshalBase64(t){return nh().encode(t)}static marshalBase64(t){return ih().decode(t)}static unmarshalBase58(t){return eh().encode(t)}static marshalBase58(t){return rh().decode(t)}static unmarshalHex(t){return Jf().encode(t)}static marshalHex(t){return th().decode(t)}}class wn{#t;#e;#r;get address(){return this.#t}get publicKey(){return this.#e.slice()}get label(){return this.#r}get chains(){return Wi.slice()}get features(){return[Yi,vn,Vi]}constructor(t,r){new.target===wn&&Object.freeze(this),this.#t=t,this.#e=Fe.unmarshalBase58(t),this.#r=r}}class oh{#t=[];#e=new Set;get version(){return"1.0.0"}get name(){return"Jupiter"}get icon(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNi4xNDY0IDE5OS42MTRDMzYuNzA4NCAyMTQuMzA1IDUwLjI1NjUgMjI2LjU5OCA2NS45MDIzIDIzNS42ODZDODEuNTQ4MiAyNDQuNzc0IDk4LjkzODMgMjUwLjQ1MiAxMTYuOTMyIDI1Mi4zNDhDMTA3LjY3NSAyMzguNDE3IDk0LjIxOCAyMjUuNiA3Ny40MTgzIDIxNS44NDJDNjAuNjE4NiAyMDYuMDg0IDQyLjgyNzUgMjAwLjc1NCAyNi4xNDY0IDE5OS42MTRaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMTMyNzhfMTQ2OTE1KSIvPgo8cGF0aCBkPSJNOTkuOTkyNSAxNzYuOTg4QzY3LjYyNjEgMTU4LjE4NSAzMi41OTQ3IDE1My4zOTMgNy41Mjg2MSAxNjEuODU4QzkuOTQ4NDMgMTY5Ljg1NiAxMy4xMzk4IDE3Ny41OTkgMTcuMDU3NiAxODQuOTc5QzM4LjgzNTggMTg0LjQ3NSA2Mi42MTM4IDE5MC4zOSA4NC43Mzk0IDIwMy4yNDFDMTA2Ljg2NSAyMTYuMDkyIDEyMy43ODcgMjMzLjgyOCAxMzQuMTQzIDI1M0MxNDIuNDk5IDI1Mi43NDMgMTUwLjgxMSAyNTEuNjc5IDE1OC45NjMgMjQ5LjgyMkMxNTMuODk2IDIyMy44NTggMTMyLjM1IDE5NS43OTYgOTkuOTkyNSAxNzYuOTg4WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzEzMjc4XzE0NjkxNSkiLz4KPHBhdGggZD0iTTI1NC4yMjkgMTAwLjY2M0MyNTAuMTEzIDgzLjkyNSAyNDIuNjY4IDY4LjE4NzcgMjMyLjMzNiA1NC4zOTA5QzIyMi4wMDQgNDAuNTk0MiAyMDguOTk3IDI5LjAyMDkgMTk0LjA5MyAyMC4zNjIxQzE3OS4xODkgMTEuNzAzNCAxNjIuNjkzIDYuMTM2NzUgMTQ1LjU5IDMuOTk0NjFDMTI4LjQ4NyAxLjg1MjQ3IDExMS4xMjggMy4xNzg3NSA5NC41NDg5IDcuODk0MjZDMTIyLjI0NiAxMS4yODM5IDE1Mi45OSAyMS42ODE0IDE4My4xNCAzOS4xOTcyQzIxMy4yOTEgNTYuNzEyOSAyMzcuNTczIDc4LjI2NjUgMjU0LjIyOSAxMDAuNjYzWiIgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzEzMjc4XzE0NjkxNSkiLz4KPHBhdGggZD0iTTIxMy45MyAxNjIuMDQ5QzE5OS43NTMgMTM4LjUwNSAxNzUuNDY3IDExNS45NTkgMTQ1LjU1IDk4LjU3OTNDMTE1LjYzMiA4MS4xOTkyIDg0LjAyNDIgNzEuMjcxOSA1Ni41NzI3IDcwLjYxNTJDMzIuNDIxOSA3MC4wNDMyIDE0LjI5NiA3Ny4wNjM5IDYuODU1ODQgODkuODcyM0M2LjgxMzQ3IDg5Ljk0ODYgNi43NTQxNSA5MC4wMjA2IDYuNzA3NTQgOTAuMDk2OUM2LjAzODEgOTIuNDk5MiA1LjQ2MTg3IDk0LjkwNTggNC45MzY0OCA5Ny4zMjA5QzE1LjMyNTYgOTMuMjE5NSAyNy4zNjI5IDkwLjkzNTggNDAuNzQ3NiA5MC42ODE2QzcwLjUxMjQgOTAuMTIyMyAxMDMuODI0IDk5LjY0MjggMTM0LjU2MyAxMTcuNTAyQzE2NS4zMDIgMTM1LjM2MSAxOTAuMDkzIDE1OS41OTIgMjA0LjM0NiAxODUuNzE3QzIxMC43MzYgMTk3LjQ4OCAyMTQuNzIzIDIwOS4wNzYgMjE2LjMwMyAyMjAuMTQ3QzIxOC4xNDIgMjE4LjUwMyAyMTkuOTQ3IDIxNi44MDQgMjIxLjY5NyAyMTUuMDM3QzIyMS43NDMgMjE0Ljk1NyAyMjEuNzczIDIxNC44NzIgMjIxLjgyIDIxNC43ODdDMjI5LjI2IDIwMS45NjYgMjI2LjM4MyAxODIuNzQ3IDIxMy45MyAxNjIuMDQ5WiIgZmlsbD0idXJsKCNwYWludDNfbGluZWFyXzEzMjc4XzE0NjkxNSkiLz4KPHBhdGggZD0iTTEyMi43ODggMTM3Ljc1NEM3Ni45NzM2IDExMS4xMzcgMjYuMzQ1OCAxMDYuOTY4IDIgMTI1LjU0M0MyLjA0NzgyIDEzMS4zNTcgMi40OTIzMSAxMzcuMTYxIDMuMzMwNCAxNDIuOTE1QzEwLjQ5MjEgMTQwLjc0NCAxNy44NzMyIDEzOS4zNzcgMjUuMzM3MyAxMzguODM5QzUyLjU0MzEgMTM2Ljc5MiA4Mi41MzY4IDE0NC4zNzIgMTA5Ljc1NSAxNjAuMTkzQzEzNi45NzQgMTc2LjAxNCAxNTguNDMgMTk4LjMyNiAxNzAuMTMyIDIyMi45NTZDMTczLjM2NyAyMjkuNzAzIDE3NS44MzQgMjM2Ljc5MiAxNzcuNDg4IDI0NC4wOUMxODIuOTAyIDI0MS45NjcgMTg4LjE2NyAyMzkuNDggMTkzLjI0NSAyMzYuNjQ2QzE5Ny4zMjEgMjA2LjI5MiAxNjguNjE2IDE2NC4zNzUgMTIyLjc4OCAxMzcuNzU0WiIgZmlsbD0idXJsKCNwYWludDRfbGluZWFyXzEzMjc4XzE0NjkxNSkiLz4KPHBhdGggZD0iTTIzNy40OTYgMTIyLjY0MUMyMjMuMTU4IDk5LjEyMTggMTk4LjY1OSA3Ni41MTMyIDE2OC41MyA1OS4wMTg3QzEzOC40MDEgNDEuNTI0MSAxMDYuNjcgMzEuNDQwMSA3OS4xMjk1IDMwLjYzMDhDNTguMTM1MiAzMC4wMjQ5IDQxLjg3MzYgMzUuMTEzNSAzMy40NDE5IDQ0LjcyNzNDNjguNDUyMiAzOC43OTU1IDExNC42MzEgNDguNzY1MSAxNTkuMzkxIDc0Ljc2NzZDMjA0LjE1IDEwMC43NyAyMzUuNjk5IDEzNS45NTQgMjQ3Ljg3NiAxNjkuMzAzQzI1Mi4wNSAxNTcuMjI0IDI0OC40MTkgMTQwLjU3NyAyMzcuNDk2IDEyMi42NDFaIiBmaWxsPSJ1cmwoI3BhaW50NV9saW5lYXJfMTMyNzhfMTQ2OTE1KSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzEzMjc4XzE0NjkxNSIgeDE9IjE2OS45NjkiIHkxPSI1My43ODEzIiB4Mj0iNTQuMDgzNCIgeTI9IjI1MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDAwMSIgc3RvcC1jb2xvcj0iI0E0RDc1NiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMEI2RTciLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzEzMjc4XzE0NjkxNSIgeDE9IjE2OS45NjkiIHkxPSI1My43ODEzIiB4Mj0iNTQuMDgzNCIgeTI9IjI1MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDAwMSIgc3RvcC1jb2xvcj0iI0E0RDc1NiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMEI2RTciLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzEzMjc4XzE0NjkxNSIgeDE9IjE2OS45NjkiIHkxPSI1My43ODEzIiB4Mj0iNTQuMDgzNCIgeTI9IjI1MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDAwMSIgc3RvcC1jb2xvcj0iI0E0RDc1NiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMEI2RTciLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDNfbGluZWFyXzEzMjc4XzE0NjkxNSIgeDE9IjE2OS45NjkiIHkxPSI1My43ODEzIiB4Mj0iNTQuMDgzNCIgeTI9IjI1MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDAwMSIgc3RvcC1jb2xvcj0iI0E0RDc1NiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMEI2RTciLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDRfbGluZWFyXzEzMjc4XzE0NjkxNSIgeDE9IjE2OS45NjkiIHkxPSI1My43ODEzIiB4Mj0iNTQuMDgzNCIgeTI9IjI1MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDAwMSIgc3RvcC1jb2xvcj0iI0E0RDc1NiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMEI2RTciLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDVfbGluZWFyXzEzMjc4XzE0NjkxNSIgeDE9IjE2OS45NjkiIHkxPSI1My43ODEzIiB4Mj0iNTQuMDgzNCIgeTI9IjI1MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDAwMSIgc3RvcC1jb2xvcj0iI0E0RDc1NiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMEI2RTciLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K"}get chains(){return Wi.slice()}get accounts(){return this.#t.slice()}get features(){return{[ko]:{version:"1.0.0",connect:async t=>{const{accounts:r}=await De.connect({origin:window.location.origin,silent:t?.silent});return this.#t=r.map(({address:n,label:s})=>new wn(n,s)),this.#e.forEach(n=>n({accounts:this.accounts})),De.registerAccountChangedListener(({accounts:n})=>{this.#t=n.map(({address:s,label:i})=>new wn(s,i)),this.#e.forEach(s=>s({accounts:this.accounts}))}),{accounts:this.accounts}}},[xu]:{version:"1.0.0",disconnect:async()=>{await De.disconnect({origin:window.location.origin}),this.#t=[],this.#e.forEach(t=>t({accounts:this.accounts}))}},[bu]:{version:"1.0.0",on:(t,r)=>t!=="change"?(console.warn("[Jupiter Wallet] on called with unsupported event:",t),()=>{}):(this.#e.add(r),()=>this.#e.delete(r))},[Yi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:async(...t)=>{const r=await this.features[vn].signTransaction(...t);return(await Promise.all(r.map((s,i)=>Yf.postBroadcast(Fe.marshalBase64(s.signedTransaction),t[i].chain==="solana:mainnet"?"mainnet":"devnet")))).map(({signature:s})=>({signature:Fe.unmarshalBase58(s)}))}},[vn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:async(...t)=>{if(new Set(t.map(({account:s})=>s.address)).size!==1)throw new Error("Signers must be the same for all transactions");const{signedTransactions:n}=await De.signTransactions({origin:window.location.origin,signerAddress:t[0].account.address,transactions:t.map(({transaction:s})=>Fe.marshalBase64(s))});return n.map(s=>({signedTransaction:Fe.unmarshalBase64(s)}))}},[Vi]:{version:"1.0.0",signMessage:async(...t)=>{if(new Set(t.map(({account:s})=>s.address)).size!==1)throw new Error("Signers must be the same for all messages");const{signatures:n}=await De.signMessages({origin:window.location.origin,signerAddress:t[0].account.address,messages:t.map(({message:s})=>Fe.marshalBase64(s))});return n.map((s,i)=>({signature:Fe.unmarshalBase64(s),signedMessage:t[i].message}))}},[ma]:{version:"1.0.0",signIn:async(...t)=>{const r=[];for(const n of t){const{signature:s,signedMessage:i}=await De.signIn({origin:window.location.origin,...n}),{accounts:f}=await this.features[ko].connect();r.push({signature:Fe.unmarshalBase64(s),signedMessage:Fe.unmarshalBase64(i),account:f[0]})}return r}}}}}const sh=500,ah=5;async function uh(e){const{enabled:t}=await De.getPhantomCompatSetting();if(!t)return;const r=new ch(e);try{Object.defineProperty(window,"phantom",{value:{solana:r},writable:!1,configurable:!0,enumerable:!0})}catch{}for(let n=0;n<ah;n++)"phantom"in window&&window.phantom.solana.jupiterWallet!==r.jupiterWallet&&(window.phantom.solana.jupiterWallet=r.jupiterWallet,window.phantom.solana.connect=r.connect,window.phantom.solana.disconnect=r.disconnect,window.phantom.solana.signTransaction=r.signTransaction,window.phantom.solana.signMessage=r.signMessage,window.phantom.solana.on=r.on,window.phantom.solana.off=r.off,Object.defineProperty(window.phantom.solana,"publicKey",{get(){return r.publicKey},configurable:!0,enumerable:!0}),Object.defineProperty(window.phantom.solana,"isConnected",{get(){return r.isConnected},configurable:!0,enumerable:!0})),await new Promise(s=>setTimeout(s,sh))}class ch{jupiterWallet;constructor(t){this.jupiterWallet=t}get isPhantom(){return!0}get publicKey(){const t=this.jupiterWallet.accounts.at(0)?.publicKey;return t?new pt(t):null}get isConnected(){return this.jupiterWallet.accounts.length>0}async connect(){return await this.jupiterWallet.features["standard:connect"].connect(),{publicKey:this.publicKey}}async disconnect(){await this.jupiterWallet.features["standard:disconnect"].disconnect()}async signMessage(t){this.isConnected||await this.connect();const[{signature:r}]=await this.jupiterWallet.features["solana:signMessage"].signMessage({account:this.jupiterWallet.accounts[0],message:t});return{signature:r,publicKey:this.publicKey}}async signTransaction(t){const[r]=await this.signAllTransactions([t]);return r}async signAllTransactions(t){return this.isConnected||await this.connect(),(await this.jupiterWallet.features["solana:signTransaction"].signTransaction(...t.map(n=>({account:this.jupiterWallet.accounts[0],transaction:n.serialize({requireAllSignatures:!1,verifySignatures:!1})})))).map(({signedTransaction:n},s)=>"version"in t[s]?ai.deserialize(n):fn.from(n))}on(...t){}off(...t){}}const fh=Qs(()=>{De.init();const e=new oh;ea(e),uh(e)});function Bh(){}function mn(e,...t){}const hh={debug:(...e)=>mn(console.debug,...e),log:(...e)=>mn(console.log,...e),warn:(...e)=>mn(console.warn,...e),error:(...e)=>mn(console.error,...e)};return(async()=>{try{return await fh.main()}catch(e){throw hh.error('The unlisted script "injected" crashed on startup!',e),e}})()}();
injected;