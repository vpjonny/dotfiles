import{j as s}from"./useTriggerLoadNext.KJIKMCqU.js";import{ac as Q,a as f,a9 as as,r as G,x as R,l as J,ap as is,q as cs,W as rs}from"./windowUtils.Ut7JS-rc.js";import{c as X,u as w,a as Y,W as g,T as os,C as ss,b as H,e as ls,i as ds}from"./useActiveTimeStore.C3Wei7Oz.js";import{c as es,T as p,I,L as B,B as hs,f as ms,d as us}from"./PasswordLevelLabel.rhWNhrqO.js";import{a3 as xs,a4 as U,r as vs,Q as ps,a5 as js,a6 as V,a7 as q,i as _s,u as ys,L as T}from"./PopupLoading.D-LitESe.js";import{t as fs}from"./Newspaper.DTSmZH_z.js";import{R as A,r as ts}from"./index.CxJLds0B.js";import{t as Ss}from"./DefaultNftImg.D-qRFvZ2.js";import{F as Cs,W as gs,o as Ts,a as As,b as Ls}from"./WalletSendIcon.ikkAubmH.js";import{u as Ns,L as bs,a as ns,E as Is,A as ws}from"./LocalActivityWarning.Bm0tREdz.js";import{u as Es}from"./useTempStore.C8dvVNTz.js";import{t as $s}from"./useTxStatus.C8QHcxiJ.js";import{g as Rs}from"./token.DBiNoL3G.js";import{u as Bs}from"./useDebouncedValue.BgjK-DBz.js";import"./tiny-invariant.BHpmfUqq.js";import"./enum.CGJbW6Yf.js";import"./preload-helper.2LWRYvkK.js";import"./useDebouncedEffect.CslCnlPq.js";import"./solana.CGFphaJI.js";import"./openApp._aQ9ORSc.js";import"./useSwapStore.CnKXQn04.js";import"./useSearchErc20Tokens.D0zoSI7L.js";import"./EmptyState.B5_-rwyr.js";import"./useFeatureFlagStore.PL0vfare.js";import"./token.types.DkObBlUj.js";const Ds=X(A.createElement(A.Fragment,null,A.createElement("path",{d:"M224 200h-8V40a8 8 0 0 0-8-8h-56a8 8 0 0 0-8 8v40H96a8 8 0 0 0-8 8v40H48a8 8 0 0 0-8 8v64h-8a8 8 0 0 0 0 16h192a8 8 0 0 0 0-16ZM160 48h40v152h-40Zm-56 48h40v104h-40Zm-48 48h32v56H56Z"})),"ChartBarIcon"),Ms=X(A.createElement(A.Fragment,null,A.createElement("path",{d:"M100 116.43a8 8 0 0 0 4-6.93v-72A8 8 0 0 0 93.34 30a104.06 104.06 0 0 0-67.61 117 8 8 0 0 0 4.52 5.81 7.86 7.86 0 0 0 3.35.74 8 8 0 0 0 4-1.07ZM88 49.62v55.26l-47.88 27.63C40 131 40 129.48 40 128a88.12 88.12 0 0 1 48-78.38Zm130.34 26.9c-.09-.18-.18-.37-.29-.55s-.2-.33-.31-.49A104.05 104.05 0 0 0 128 24a8 8 0 0 0-8 8v91.83l-78.81 45.9a8 8 0 0 0-2.87 11A104 104 0 0 0 232 128a103.34 103.34 0 0 0-13.66-51.48ZM136 40.36a88.05 88.05 0 0 1 63.89 36.94L136 114.51ZM128 216a88.45 88.45 0 0 1-71.49-36.68l75.4-43.91.22-.14 75.77-44.13A88 88 0 0 1 128 216Z"})),"ChartPieSliceIcon"),Hs="_container_12ia5_1",Fs={container:Hs},K=({children:e,className:a})=>s.jsx("div",{className:es(Fs.container,a),children:e}),zs="_container_7lxfc_1",Ws="_label_7lxfc_4",Zs="_content_7lxfc_10",Os="_icon_7lxfc_16",E={container:zs,label:Ws,content:Zs,icon:Os},$=({label:e,children:a,icon:r})=>s.jsxs(K,{className:E.container,children:[s.jsxs(K,{children:[s.jsx(r,{size:20,className:E.icon}),s.jsx(p.Text,{level:"3",className:E.label,children:e})]}),s.jsx(p.Text,{level:"3",className:E.content,children:a})]}),Ps="_container_14k4a_1",ks="_title_14k4a_6",Us="_chain_14k4a_9",D={container:Ps,title:ks,chain:Us},Vs=({chainId:e,contractAddress:a,className:r})=>{var x,v,l,m,S;const{data:t}=xs(e,a),{data:i}=w(),o=(i==null?void 0:i.currency)??Q.USD,c=U({value:(l=(v=(x=t==null?void 0:t.data)==null?void 0:x.quotes)==null?void 0:v.USD)==null?void 0:l.volume24h,currency:o}),u=U({value:(m=t==null?void 0:t.data)==null?void 0:m.marketCapUsd,currency:o}),n=(S=Y(e))==null?void 0:S.chainConfig,h=f.tokenDetails;return s.jsxs("div",{className:es(D.container,r),children:[s.jsx(p.Label,{level:B.Medium,intent:I.Secondary,className:D.title,children:h.stats}),s.jsx(g,{when:!as(a),children:s.jsx($,{label:h.contract,icon:fs,children:s.jsx(os,{address:a,chainId:e,level:"3"})})}),s.jsx($,{label:h.volume,icon:Ds,children:s.jsx(p.Text,{level:"3",children:c??"--"})}),s.jsx($,{label:h.marketCap,icon:Ms,children:s.jsx(p.Text,{level:"3",children:u??"--"})}),s.jsx($,{label:h.chain,icon:Ss,children:s.jsxs("div",{className:D.chain,children:[s.jsx(ss,{chainConfig:n,size:H.Size20}),n==null?void 0:n.displayName]})})]})},qs="_container_nf5us_1",Ks="_header_nf5us_7",Qs="_activityListContainer_nf5us_13",Gs="_txLoading_nf5us_20",Js="_emptyState_nf5us_25",N={container:qs,header:Ks,activityListContainer:Qs,txLoading:Gs,emptyState:Js},M=5,Xs=e=>{var S,L;const{ownerAddress:a,tokenAddress:r,chainId:t}=e,{tempStoreData:i,setActivityChanged:o}=Es(),c=G(),{data:u,isFetching:n,refetch:h}=Ns({address:a,chainId:t,tokenAddress:r??""}),{data:x}=w(),v=x==null?void 0:x.currency,l=((L=(S=u==null?void 0:u.pages)==null?void 0:S.map(C=>C==null?void 0:C.result))==null?void 0:L.flat())??[],m=l==null?void 0:l.slice(0,M);return ts.useEffect(()=>{(async()=>{(i==null?void 0:i.lastActivityChanged)>0&&(await h(),o(0))})()},[h,o,i==null?void 0:i.lastActivityChanged]),s.jsxs("div",{className:N.container,children:[s.jsxs("div",{className:N.header,children:[s.jsx(p.Label,{level:B.Medium,intent:I.Secondary,children:f.tokenDetails.activity.toUpperCase()}),s.jsx(hs,{noPadding:!0,text:f.tokenDetails.viewAll,intent:I.Info,variant:ms.Plain,hidden:n||(l==null?void 0:l.length)<M,onClick:()=>c(`${R.ERC20_DETAIL}/${t}/${r}/tx-list`),customRightIcon:s.jsx(vs,{size:16})})]}),s.jsxs("div",{className:N.activityListContainer,children:[s.jsx(bs,{chainId:t}),s.jsx(g,{when:n,children:s.jsx("div",{className:N.txLoading,children:s.jsx(ns,{numberOfRows:M})})}),s.jsxs(g,{when:!n,children:[s.jsx(g,{when:J.isEmpty(m),children:s.jsx(Is,{className:N.emptyState})}),s.jsx(ws,{txList:m,currency:v})]})]})]})},Ys="_container_1tm1t_1",se="_infoSection_1tm1t_7",ee="_amount_1tm1t_16",b={container:Ys,infoSection:se,amount:ee},te=()=>s.jsxs("div",{className:b.container,children:[s.jsx(us.Skeleton,{width:62,height:62}),s.jsxs("div",{className:b.infoSection,children:[s.jsx(p.Label,{level:B.Medium,intent:I.Secondary,children:f.tokenDetails.balance}),s.jsx(V,{width:200,level:q.Heading4}),s.jsx(V,{width:100,level:q.Text3})]})]}),ne=({token:e})=>{var n;const{chainId:a,computedData:r,symbol:t}=e,i=e==null?void 0:e.tokenLogo,o=(n=Y(a))==null?void 0:n.chainConfig,{data:c}=w(),u=(c==null?void 0:c.currency)??Q.USD;return s.jsxs("div",{className:b.container,children:[s.jsx(ps,{backAvtSrc:i,backAvtPlaceholder:s.jsx($s,{size:32}),frontAvtSrc:s.jsx(ss,{chainConfig:o,size:H.Size28}),size:H.Size64,frontSquared:!0}),s.jsxs("div",{className:b.infoSection,children:[s.jsx(p.Label,{level:B.Medium,intent:I.Secondary,children:f.tokenDetails.balance}),s.jsx(p.Heading,{level:"4",className:b.amount,children:`${is(r==null?void 0:r.amount)} ${t}`}),s.jsx(js,{value:r==null?void 0:r.value,currency:u})]})]})},ae="_container_1cto1_1",ie="_functionShortcuts_1cto1_5",ce="_styledHr_1cto1_8",re="_description_1cto1_13",y={container:ae,functionShortcuts:ie,styledHr:ce,description:re},oe=(e,a)=>{var n,h,x,v,l;const{setTokenAddress:r,setChainId:t,reset:i}=Bs(),{data:o}=w(),c=(h=(n=o==null?void 0:o.chainConfigs)==null?void 0:n.find(m=>m.configId===parseInt(a)))==null?void 0:h.chainConfig,u=async()=>{i(),r(e==null?void 0:e.contractAddress),t(c.chainId)};return[{name:f.common.swap,icon:gs,url:`${R.SWAP}/${Rs({address:e==null?void 0:e.contractAddress,chainId:c==null?void 0:c.chainId})}`,hidden:!(c!=null&&c.isMainnet)||((l=(v=(x=o==null?void 0:o.activeChains)==null?void 0:x[0])==null?void 0:v.chainConfig)==null?void 0:l.isCustom)===!0},{name:f.common.deposit,icon:As,url:"",callBack:()=>Ts({symbol:e==null?void 0:e.symbol,network:c.chainName,address:e==null?void 0:e.contractAddress,chainId:c.chainId})},{name:f.common.send,icon:Ls,url:`${R.TRANSFER_TOKEN}`,callBack:u}]},le=()=>s.jsxs(T,{noBackground:!0,noFooter:!0,children:[s.jsx(T.BackableNavbar,{title:"",noBackground:!0}),s.jsx(T.Content,{noPadding:!0,children:s.jsxs("div",{className:y.container,children:[s.jsx(te,{}),s.jsx("div",{className:y.styledHr}),s.jsx(ns,{})]})})]}),De=()=>{var L,C,F,z,W,Z,O,P;const{chainId:e,address:a}=cs(),r=G(),t=ls(),{data:i}=_s(),o=(t==null?void 0:t.walletType)===rs.ADDRESS,{data:c,isFetching:u}=ys(),{data:n}=w(),h=ds(parseInt(e)),x=(i==null?void 0:i.customTokensList[(C=(L=t==null?void 0:t.chains)==null?void 0:L.evm)==null?void 0:C.address])||[],v=(i==null?void 0:i.customTokensList[(z=(F=t==null?void 0:t.chains)==null?void 0:F.solana)==null?void 0:z.address])||[],l=[...x,...v];ts.useEffect(()=>{var j,_;((_=(j=n==null?void 0:n.chainConfigs)==null?void 0:j.find(k=>k.configId===parseInt(e)||k.chainConfig.chainId===parseInt(e)))==null?void 0:_.chainConfig)||r(R.HOME)},[e,n==null?void 0:n.activeChainIds,n==null?void 0:n.chainConfigs,r]);let m=(Z=(W=c==null?void 0:c.data)==null?void 0:W.filter(d=>{var j,_;return((j=d==null?void 0:d.contractAddress)==null?void 0:j.toLowerCase())===(a==null?void 0:a.toLowerCase())&&((_=d==null?void 0:d.chainId)==null?void 0:_.toString())===e}))==null?void 0:Z[0];!m&&!J.isEmpty(l)&&(m=l.find(d=>{var j,_;return((j=d==null?void 0:d.contractAddress)==null?void 0:j.toLowerCase())===(a==null?void 0:a.toLowerCase())&&((_=d==null?void 0:d.chainId)==null?void 0:_.toString())===e}));const S=oe(m,e);return u?s.jsx(le,{}):s.jsx(g,{when:!!m,children:s.jsxs(T,{noBackground:!0,noFooter:!0,children:[s.jsx(T.BackableNavbar,{title:"",noBackground:!0}),s.jsx(T.Content,{noPadding:!0,children:s.jsxs("div",{className:y.container,children:[s.jsx(ne,{token:m}),s.jsx(g,{when:!o,children:s.jsx(Cs,{shortcuts:S,className:y.functionShortcuts,trackingScreen:"TokenDetail"})}),s.jsx("div",{className:y.styledHr}),s.jsx(Vs,{chainId:parseInt(e),contractAddress:a,className:y.description}),s.jsx("div",{className:y.styledHr}),s.jsx("div",{className:y.activity,children:s.jsx(Xs,{ownerAddress:(P=(O=t==null?void 0:t.chains)==null?void 0:O[h])==null?void 0:P.address,chainId:parseInt(e),tokenAddress:a})})]})})]})})};export{De as default};
