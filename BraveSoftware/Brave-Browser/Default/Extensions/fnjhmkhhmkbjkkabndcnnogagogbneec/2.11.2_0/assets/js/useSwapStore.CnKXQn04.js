var xg=Object.defineProperty;var Dd=n=>{throw TypeError(n)};var vg=(n,e,t)=>e in n?xg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Xe=(n,e,t)=>vg(n,typeof e!="symbol"?e+"":e,t),Tg=(n,e,t)=>e.has(n)||Dd("Cannot "+t);var Cu=(n,e,t)=>(Tg(n,e,"read from private field"),t?t.call(n):e.get(n)),Bd=(n,e,t)=>e.has(n)?Dd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);import{dt as Oe,du as se,dv as Lt,dw as wg,dx as Ce,dy as Bo,dz as Ag,dA as Eg,dB as _g,dC as B0,dD as kg,dE as Pg,dF as Sg,dG as Ig,dH as Cg,dI as Rg,dJ as Og,dK as L0,dL as jt,dM as $e,dN as Nt,dO as ci,dP as Qa,dQ as ua,dR as Ld,dS as U0,dT as q0,dU as $0,dV as Pt,dW as ce,dX as wn,dY as Tn,dZ as ps,d_ as ct,d$ as mt,e0 as It,e1 as H0,e2 as G0,e3 as j0,e4 as W0,e5 as z0,e6 as V0,e7 as K0,e8 as Lo,e9 as _n,ea as X0,eb as Q0,ec as Y0,ed as Uo,ee as Ya,ef as Ng,eg as bn,eh as _i,ei as El,ej as pr,ek as Qt,ah as Mg,el as _t,em as _l,a8 as Ke,en as fa,eo as kl,ep as Za,eq as Pl,er as Rr,es as Sl,c8 as eo,et as Il,eu as tn,ev as pa,ew as Oc,ex as hs,ey as Z0,ez as Fg,eA as Dg,eB as Bg,eC as J0,eD as Lg,eE as Ug,eF as qg,eG as $g,eH as Hg,d2 as Ba,bF as eh,eI as qo,d5 as $i,eJ as Gg,dd as th,eK as nh,eL as rh,eM as jg,de as ih,eN as Cl,eO as ah,eP as Wg,dl as zg,dc as Vg,dk as Kg,eQ as Xg,d4 as Qg,dj as Yg,eR as Zg,eS as Rl,eT as Jg,eU as sh,eV as eb,dh as tb,eW as Ol,d7 as ot,d9 as hr,B as ri,eX as to,eY as nb,eZ as Me,e_ as rb,E as sn,e$ as Nc,f0 as no,aj as ib,f1 as ab,f2 as sb,a5 as ro,f3 as ob,f4 as Ud,f5 as ub,f6 as cb,f7 as lb,f8 as Nl,aN as $o,am as Ho,f9 as qd,aO as db,fa as fb,aG as Gn,aI as Es,aJ as Ru,bV as $d,bZ as Hd,cB as Gd,W as pb,fb as hb,cV as yb}from"./windowUtils.Ut7JS-rc.js";import{_ as oh}from"./preload-helper.2LWRYvkK.js";import{g as li,i as Ae,a as yt,t as mb,c as gi}from"./tiny-invariant.BHpmfUqq.js";const pn=new se(Ag),La={},uh=Oe.from(0),ch=Oe.from(-1);function lh(n,e,t,r){const i={fault:e,operation:t};return r!==void 0&&(i.value=r),pn.throwError(n,se.errors.NUMERIC_FAULT,i)}let Ua="0";for(;Ua.length<256;)Ua+=Ua;function Ml(n){if(typeof n!="number")try{n=Oe.from(n).toNumber()}catch{}return typeof n=="number"&&n>=0&&n<=256&&!(n%1)?"1"+Ua.substring(0,n):pn.throwArgumentError("invalid decimal size","decimals",n)}function qa(n,e){e==null&&(e=0);const t=Ml(e);n=Oe.from(n);const r=n.lt(uh);r&&(n=n.mul(ch));let i=n.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=n.div(t).toString();return t.length===1?n=a:n=a+"."+i,r&&(n="-"+n),n}function Zn(n,e){e==null&&(e=0);const t=Ml(e);(typeof n!="string"||!n.match(/^-?[0-9.]+$/))&&pn.throwArgumentError("invalid decimal value","value",n);const r=n.substring(0,1)==="-";r&&(n=n.substring(1)),n==="."&&pn.throwArgumentError("missing value","value",n);const i=n.split(".");i.length>2&&pn.throwArgumentError("too many decimal points","value",n);let a=i[0],s=i[1];for(a||(a="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>t.length-1&&lh("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<t.length-1;)s+="0";const o=Oe.from(a),u=Oe.from(s);let c=o.mul(t).add(u);return r&&(c=c.mul(ch)),c}class ki{constructor(e,t,r,i){e!==La&&pn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=Ml(i),Object.freeze(this)}static from(e){if(e instanceof ki)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||pn.throwArgumentError("invalid fixed format","format",e),t=a[1]!=="u",r=parseInt(a[2]),i=parseInt(a[3])}}else if(e){const a=(s,o,u)=>e[s]==null?u:(typeof e[s]!==o&&pn.throwArgumentError("invalid fixed format ("+s+" not "+o+")","format."+s,e[s]),e[s]);t=a("signed","boolean",t),r=a("width","number",r),i=a("decimals","number",i)}return r%8&&pn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&pn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new ki(La,t,r,i)}}class Ht{constructor(e,t,r,i){e!==La&&pn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&pn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Zn(this._value,this.format.decimals),r=Zn(e._value,e.format.decimals);return Ht.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Zn(this._value,this.format.decimals),r=Zn(e._value,e.format.decimals);return Ht.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Zn(this._value,this.format.decimals),r=Zn(e._value,e.format.decimals);return Ht.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Zn(this._value,this.format.decimals),r=Zn(e._value,e.format.decimals);return Ht.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Ht.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(jd.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Ht.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(jd.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&pn.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=Ht.from("1"+Ua.substring(0,e),this.format),i=gb.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&pn.throwArgumentError("invalid byte width","width",e);const t=Oe.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Lt(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ht.fromString(this._value,e)}static fromValue(e,t,r){return r==null&&t!=null&&!wg(t)&&(r=t,t=null),t==null&&(t=0),r==null&&(r="fixed"),Ht.fromString(qa(e,t),ki.from(r))}static fromString(e,t){t==null&&(t="fixed");const r=ki.from(t),i=Zn(e,r.decimals);!r.signed&&i.lt(uh)&&lh("unsigned value cannot be negative","overflow","value",e);let a=null;r.signed?a=i.toTwos(r.width).toHexString():(a=i.toHexString(),a=Lt(a,r.width/8));const s=qa(i,r.decimals);return new Ht(La,a,s,r)}static fromBytes(e,t){t==null&&(t="fixed");const r=ki.from(t);if(Ce(e).length>r.width/8)throw new Error("overflow");let i=Oe.from(e);r.signed&&(i=i.fromTwos(r.width));const a=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=qa(i,r.decimals);return new Ht(La,a,s,r)}static from(e,t){if(typeof e=="string")return Ht.fromString(e,t);if(Bo(e))return Ht.fromBytes(e,t);try{return Ht.fromValue(e,0,t)}catch(r){if(r.code!==se.errors.INVALID_ARGUMENT)throw r}return pn.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const jd=Ht.from(1),gb=Ht.from("0.5"),bb=Object.freeze(Object.defineProperty({__proto__:null,BigNumber:Oe,FixedFormat:ki,FixedNumber:Ht,_base16To36:Eg,_base36To16:_g,formatFixed:qa,parseFixed:Zn},Symbol.toStringTag,{value:"Module"})),Fl="0x0000000000000000000000000000000000000000000000000000000000000000",xb="Îž",dh=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:B0,EtherSymbol:xb,HashZero:Fl,MaxInt256:kg,MaxUint256:Pg,MinInt256:Sg,NegativeOne:Ig,One:Cg,Two:Rg,WeiPerEther:Og,Zero:L0},Symbol.toStringTag,{value:"Module"}));function fh(n){const e=jt(n);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return $e(Nt([e,Fl]).slice(0,32))}function ph(n){const e=Ce(n);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return ci(e.slice(0,t))}function vb(n){if(n.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<n.length;t+=4)e.push(parseInt(n.substring(t,t+4),16));return e}function Dl(n,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,r={};return n.split(",").forEach(i=>{let a=i.split(":");t+=parseInt(a[0],16),r[t]=e(a[1])}),r}function hh(n){let e=0;return n.split(",").map(t=>{let r=t.split("-");r.length===1?r[1]="0":r[1]===""&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}})}function Bl(n,e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];if(t+=i.l,n>=t&&n<=t+i.h&&(n-t)%(i.d||1)===0){if(i.e&&i.e.indexOf(n-t)!==-1)continue;return i}}return null}const Tb=hh("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),wb="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(n=>parseInt(n,16)),Ab=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Eb=Dl("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),_b=Dl("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),kb=Dl("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",vb),Pb=hh("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Sb(n){return n.reduce((e,t)=>(t.forEach(r=>{e.push(r)}),e),[])}function Ib(n){return!!Bl(n,Tb)}function Cb(n){let e=Bl(n,Ab);if(e)return[n+e.s];let t=Eb[n];if(t)return t;let r=_b[n];if(r)return[n+r[0]];let i=kb[n];return i||null}function Rb(n){return!!Bl(n,Pb)}function yh(n){if(n.match(/^[a-z0-9-]*$/i)&&n.length<=59)return n.toLowerCase();let e=Qa(n);e=Sb(e.map(r=>{if(wb.indexOf(r)>=0)return[];if(r>=65024&&r<=65039)return[];let i=Cb(r);return i||[r]})),e=Qa(Ld(e),ua.NFKC),e.forEach(r=>{if(Rb(r))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(r=>{if(Ib(r))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=Ld(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const Ob=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return ua},Utf8ErrorFuncs:U0,get Utf8ErrorReason(){return q0},_toEscapedUtf8String:$0,formatBytes32String:fh,nameprep:yh,parseBytes32String:ph,toUtf8Bytes:jt,toUtf8CodePoints:Qa,toUtf8String:ci},Symbol.toStringTag,{value:"Module"})),mh="hash/5.8.0";function Ll(n){n=atob(n);const e=[];for(let t=0;t<n.length;t++)e.push(n.charCodeAt(t));return Ce(e)}function Ul(n){n=Ce(n);let e="";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return btoa(e)}const gh=Object.freeze(Object.defineProperty({__proto__:null,decode:Ll,encode:Ul},Symbol.toStringTag,{value:"Module"}));function bh(n,e){e==null&&(e=1);const t=[],r=t.forEach,i=function(a,s){r.call(a,function(o){s>0&&Array.isArray(o)?i(o,s-1):t.push(o)})};return i(n,e),t}function Nb(n){const e={};for(let t=0;t<n.length;t++){const r=n[t];e[r[0]]=r[1]}return e}function Mb(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),i=1,a=[0,1];for(let he=1;he<r;he++)a.push(i+=t());let s=t(),o=e;e+=s;let u=0,c=0;function d(){return u==0&&(c=c<<8|n[e++],u=8),c>>--u&1}const f=31,g=Math.pow(2,f),x=g>>>1,C=x>>1,k=g-1;let R=0;for(let he=0;he<f;he++)R=R<<1|d();let $=[],q=0,ie=g;for(;;){let he=Math.floor(((R-q+1)*i-1)/ie),ue=0,me=r;for(;me-ue>1;){let U=ue+me>>>1;he<a[U]?me=U:ue=U}if(ue==0)break;$.push(ue);let M=q+Math.floor(ie*a[ue]/i),S=q+Math.floor(ie*a[ue+1]/i)-1;for(;!((M^S)&x);)R=R<<1&k|d(),M=M<<1&k,S=S<<1&k|1;for(;M&~S&C;)R=R&x|R<<1&k>>>1|d(),M=M<<1^x,S=(S^x)<<1|x|1;q=M,ie=1+S-M}let te=r-4;return $.map(he=>{switch(he-te){case 3:return te+65792+(n[o++]<<16|n[o++]<<8|n[o++]);case 2:return te+256+(n[o++]<<8|n[o++]);case 1:return te+n[o++];default:return he-1}})}function Fb(n){let e=0;return()=>n[e++]}function Db(n){return Fb(Mb(n))}function Bb(n){return n&1?~n>>1:n>>1}function Lb(n,e){let t=Array(n);for(let r=0;r<n;r++)t[r]=1+e();return t}function Wd(n,e){let t=Array(n);for(let r=0,i=-1;r<n;r++)t[r]=i+=1+e();return t}function Ub(n,e){let t=Array(n);for(let r=0,i=0;r<n;r++)t[r]=i+=Bb(e());return t}function io(n,e){let t=Wd(n(),n),r=n(),i=Wd(r,n),a=Lb(r,n);for(let s=0;s<r;s++)for(let o=0;o<a[s];o++)t.push(i[s]+o);return e?t.map(s=>e[s]):t}function qb(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(Hb(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(Gb(t,n))}return Nb(bh(e))}function $b(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(t)}return e}function xh(n,e,t){let r=Array(n).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Ub(n,t).forEach((a,s)=>r[s].push(a));return r}function Hb(n,e){let t=1+e(),r=e(),i=$b(e),a=xh(i.length,1+n,e);return bh(a.map((s,o)=>{const u=s[0],c=s.slice(1);return Array(i[o]).fill(void 0).map((d,f)=>{let g=f*r;return[u+f*t,c.map(x=>x+g)]})}))}function Gb(n,e){let t=1+e();return xh(t,1+n,e).map(i=>[i[0],i.slice(1)])}function jb(n){let e=io(n).sort((r,i)=>r-i);return t();function t(){let r=[];for(;;){let c=io(n,e);if(c.length==0)break;r.push({set:new Set(c),node:t()})}r.sort((c,d)=>d.set.size-c.set.size);let i=n(),a=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let o=i==1,u=i==2;return{branches:r,valid:a,fe0f:s,save:o,check:u}}}function Wb(){return Db(Ll("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Go=Wb(),zb=new Set(io(Go)),Vb=new Set(io(Go)),Kb=qb(Go),Xb=jb(Go),zd=45,Vd=95;function vh(n){return Qa(n)}function Qb(n){return n.filter(e=>e!=65039)}function Th(n){for(let e of n.split(".")){let t=vh(e);try{for(let r=t.lastIndexOf(Vd)-1;r>=0;r--)if(t[r]!==Vd)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(r=>r<128)&&t[2]===zd&&t[3]===zd)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return n}function Yb(n){return Th(Zb(n,Qb))}function Zb(n,e){let t=vh(n).reverse(),r=[];for(;t.length;){let i=e2(t);if(i){r.push(...e(i));continue}let a=t.pop();if(zb.has(a)){r.push(a);continue}if(Vb.has(a))continue;let s=Kb[a];if(s){r.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${a.toString(16).toUpperCase()}`)}return Th(Jb(String.fromCodePoint(...r)))}function Jb(n){return n.normalize("NFC")}function e2(n,e){var t;let r=Xb,i,a,s=[],o=n.length;for(;o;){let u=n[--o];if(r=(t=r.branches.find(c=>c.set.has(u)))===null||t===void 0?void 0:t.node,!r)break;if(r.save)a=u;else if(r.check&&u===a)break;s.push(u),r.fe0f&&(s.push(65039),o>0&&n[o-1]==65039&&o--),r.valid&&(i=s.slice(),r.valid==2&&i.splice(1,1),n.length=o)}return i}const t2=new se(mh),wh=new Uint8Array(32);wh.fill(0);function Kd(n){if(n.length===0)throw new Error("invalid ENS name; empty component");return n}function jo(n){const e=jt(Yb(n)),t=[];if(n.length===0)return t;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(Kd(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return t.push(Kd(e.slice(r))),t}function n2(n){return jo(n).map(e=>ci(e)).join(".")}function Ah(n){try{return jo(n).length!==0}catch{}return!1}function aa(n){typeof n!="string"&&t2.throwArgumentError("invalid ENS name; not a string","name",n);let e=wh;const t=jo(n);for(;t.length;)e=Pt(Nt([e,Pt(t.pop())]));return $e(e)}function ql(n){return $e(Nt(jo(n).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const Eh=`Ethereum Signed Message:
`;function Wo(n){return typeof n=="string"&&(n=jt(n)),Pt(Nt([jt(Eh),jt(String(n.length)),n]))}var r2=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const Dt=new se(mh),_h=new Uint8Array(32);_h.fill(0);const i2=Oe.from(-1),kh=Oe.from(0),Ph=Oe.from(1),a2=Oe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function s2(n){const e=Ce(n),t=e.length%32;return t?Tn([e,_h.slice(t)]):$e(e)}const o2=Lt(Ph.toHexString(),32),u2=Lt(kh.toHexString(),32),Xd={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ou=["name","version","chainId","verifyingContract","salt"];function Qd(n){return function(e){return typeof e!="string"&&Dt.throwArgumentError(`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const c2={name:Qd("name"),version:Qd("version"),chainId:function(n){try{return Oe.from(n).toString()}catch{}return Dt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",n)},verifyingContract:function(n){try{return It(n).toLowerCase()}catch{}return Dt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){try{const e=Ce(n);if(e.length!==32)throw new Error("bad length");return $e(e)}catch{}return Dt.throwArgumentError('invalid domain value "salt"',"domain.salt",n)}};function Nu(n){{const e=n.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Dt.throwArgumentError("invalid numeric width","type",n);const i=a2.mask(t?r-1:r),a=t?i.add(Ph).mul(i2):kh;return function(s){const o=Oe.from(s);return(o.lt(a)||o.gt(i))&&Dt.throwArgumentError(`value out-of-bounds for ${n}`,"value",s),Lt(o.toTwos(256).toHexString(),32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Dt.throwArgumentError("invalid bytes width","type",n),function(r){return Ce(r).length!==t&&Dt.throwArgumentError(`invalid length for ${n}`,"value",r),s2(r)}}}switch(n){case"address":return function(e){return Lt(It(e),32)};case"bool":return function(e){return e?o2:u2};case"bytes":return function(e){return Pt(e)};case"string":return function(e){return ps(e)}}return null}function Yd(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}let Oi=class Vn{constructor(e){ce(this,"types",Object.freeze(wn(e))),ce(this,"_encoderCache",{}),ce(this,"_types",{});const t={},r={},i={};Object.keys(e).forEach(o=>{t[o]={},r[o]=[],i[o]={}});for(const o in e){const u={};e[o].forEach(c=>{u[c.name]&&Dt.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(o)}`,"types",e),u[c.name]=!0;const d=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];d===o&&Dt.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",e),!Nu(d)&&(r[d]||Dt.throwArgumentError(`unknown type ${JSON.stringify(d)}`,"types",e),r[d].push(o),t[o][d]=!0)})}const a=Object.keys(r).filter(o=>r[o].length===0);a.length===0?Dt.throwArgumentError("missing primary type","types",e):a.length>1&&Dt.throwArgumentError(`ambiguous primary types or unused types: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),ce(this,"primaryType",a[0]);function s(o,u){u[o]&&Dt.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),u[o]=!0,Object.keys(t[o]).forEach(c=>{r[c]&&(s(c,u),Object.keys(u).forEach(d=>{i[d][c]=!0}))}),delete u[o]}s(this.primaryType,{});for(const o in i){const u=Object.keys(i[o]);u.sort(),this._types[o]=Yd(o,e[o])+u.map(c=>Yd(c,e[c])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=Nu(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],a=this.getEncoder(i),s=parseInt(t[3]);return o=>{s>=0&&o.length!==s&&Dt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let u=o.map(a);return this._types[i]&&(u=u.map(Pt)),Pt(Tn(u))}}const r=this.types[e];if(r){const i=ps(this._types[e]);return a=>{const s=r.map(({name:o,type:u})=>{const c=this.getEncoder(u)(a[o]);return this._types[u]?Pt(c):c});return s.unshift(i),Tn(s)}}return Dt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Dt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Pt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Nu(e))return r(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&Dt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(u=>this._visit(s,u,r))}const a=this.types[e];return a?a.reduce((s,{name:o,type:u})=>(s[o]=this._visit(u,t[o],r),s),{}):Dt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Vn(e)}static getPrimaryType(e){return Vn.from(e).primaryType}static hashStruct(e,t,r){return Vn.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const i=Xd[r];i||Dt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>Ou.indexOf(r.name)-Ou.indexOf(i.name)),Vn.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Tn(["0x1901",Vn.hashDomain(e),Vn.from(t).hash(r)])}static hash(e,t,r){return Pt(Vn.encode(e,t,r))}static resolveNames(e,t,r,i){return r2(this,void 0,void 0,function*(){e=ct(e);const a={};e.verifyingContract&&!mt(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=Vn.from(t);s.visit(r,(o,u)=>(o==="address"&&!mt(u,20)&&(a[u]="0x"),u));for(const o in a)a[o]=yield i(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=s.visit(r,(o,u)=>o==="address"&&a[u]?a[u]:u),{domain:e,value:r}})}static getPayload(e,t,r){Vn.hashDomain(e);const i={},a=[];Ou.forEach(u=>{const c=e[u];c!=null&&(i[u]=c2[u](c),a.push({name:u,type:Xd[u]}))});const s=Vn.from(t),o=ct(t);return o.EIP712Domain?Dt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=a,s.encode(r),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(r,(u,c)=>{if(u.match(/^bytes(\d*)/))return $e(Ce(c));if(u.match(/^u?int/))return Oe.from(c).toString();switch(u){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Dt.throwArgumentError("invalid string","value",c),c}return Dt.throwArgumentError("unsupported type","type",u)})}}};const l2=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:Oi,dnsEncode:ql,ensNormalize:n2,hashMessage:Wo,id:ps,isValidName:Ah,messagePrefix:Eh,namehash:aa},Symbol.toStringTag,{value:"Module"})),d2=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:H0,ConstructorFragment:G0,ErrorFragment:j0,EventFragment:W0,FormatTypes:z0,Fragment:V0,FunctionFragment:K0,Indexed:Lo,Interface:_n,LogDescription:X0,ParamType:Q0,TransactionDescription:Y0,checkResultErrors:Uo,defaultAbiCoder:Ya},Symbol.toStringTag,{value:"Module"}));var Mc=(n=>(n.EXACT_IN="exact_in",n.EXACT_OUT="exact_out",n))(Mc||{}),f2=(n=>(n.DEFAULT="default",n.AUTO="auto",n.HIGH="high",n))(f2||{}),Sh={exports:{}};class z extends Array{constructor(e,t){if(super(e),this.sign=t,e>z.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,r=Number.isFinite;if(typeof e=="number"){if(e===0)return z.__zero();if(z.__isOneDigitInt(e))return 0>e?z.__oneDigit(-e,!0):z.__oneDigit(e,!1);if(!r(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return z.__fromDouble(e)}if(typeof e=="string"){const i=z.__fromString(e);if(i===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if(typeof e=="boolean")return e===!0?z.__oneDigit(1,!1):z.__zero();if(typeof e=="object"){if(e.constructor===z)return e;const i=z.__toPrimitive(e);return z.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?z.__toStringGeneric(this,e,!1):z.__toStringBasePowerOfTwo(this,e)}static toNumber(e){const t=e.length;if(t===0)return 0;if(t===1){const R=e.__unsignedDigit(0);return e.sign?-R:R}const r=e.__digit(t-1),i=z.__clz30(r),a=30*t-i;if(1024<a)return e.sign?-1/0:1/0;let s=a-1,o=r,u=t-1;const c=i+3;let d=c===32?0:o<<c;d>>>=12;const f=c-12;let g=12<=c?0:o<<20+c,x=20+c;for(0<f&&0<u&&(u--,o=e.__digit(u),d|=o>>>30-f,g=o<<f+2,x=f+2);0<x&&0<u;)u--,o=e.__digit(u),g|=30<=x?o<<x-30:o>>>30-x,x-=30;const C=z.__decideRounding(e,x,u,o);if((C===1||C===0&&(1&g)==1)&&(g=g+1>>>0,g===0&&(d++,d>>>20!=0&&(d=0,s++,1023<s))))return e.sign?-1/0:1/0;const k=e.sign?-2147483648:0;return s=s+1023<<20,z.__kBitConversionInts[1]=k|s|d,z.__kBitConversionInts[0]=g,z.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?z.__absoluteSubOne(e).__trim():z.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return z.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&t.__digit(0))?z.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(r===1)return e;if(r>=z.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const s=1+(0|r/30),o=e.sign&&(1&r)!=0,u=new z(s,o);u.__initializeDigits();const c=1<<r%30;return u.__setDigit(s-1,c),u}let i=null,a=e;for(1&r&&(i=e),r>>=1;r!==0;r>>=1)a=z.multiply(a,a),1&r&&(i===null?i=a:i=z.multiply(i,a));return i}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;const i=new z(r,e.sign!==t.sign);i.__initializeDigits();for(let a=0;a<e.length;a++)z.__multiplyAccumulate(t,e.__digit(a),i,a);return i.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>z.__absoluteCompare(e,t))return z.__zero();const r=e.sign!==t.sign,i=t.__unsignedDigit(0);let a;if(t.length===1&&32767>=i){if(i===1)return r===e.sign?e:z.unaryMinus(e);a=z.__absoluteDivSmall(e,i,null)}else a=z.__absoluteDivLarge(e,t,!0,!1);return a.sign=r,a.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>z.__absoluteCompare(e,t))return e;const r=t.__unsignedDigit(0);if(t.length===1&&32767>=r){if(r===1)return z.__zero();const a=z.__absoluteModSmall(e,r);return a===0?z.__zero():z.__oneDigit(a,e.sign)}const i=z.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,t){const r=e.sign;return r===t.sign?z.__absoluteAdd(e,t,r):0<=z.__absoluteCompare(e,t)?z.__absoluteSub(e,t,r):z.__absoluteSub(t,e,!r)}static subtract(e,t){const r=e.sign;return r===t.sign?0<=z.__absoluteCompare(e,t)?z.__absoluteSub(e,t,r):z.__absoluteSub(t,e,!r):z.__absoluteAdd(e,t,r)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?z.__rightShiftByAbsolute(e,t):z.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?z.__leftShiftByAbsolute(e,t):z.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>z.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=z.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<z.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=z.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!z.equal(e,t)}static bitwiseAnd(e,t){var r=Math.max;if(!e.sign&&!t.sign)return z.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const i=r(e.length,t.length)+1;let a=z.__absoluteSubOne(e,i);const s=z.__absoluteSubOne(t);return a=z.__absoluteOr(a,s,a),z.__absoluteAddOne(a,!0,a).__trim()}return e.sign&&([e,t]=[t,e]),z.__absoluteAndNot(e,z.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var r=Math.max;if(!e.sign&&!t.sign)return z.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const s=r(e.length,t.length),o=z.__absoluteSubOne(e,s),u=z.__absoluteSubOne(t);return z.__absoluteXor(o,u,o).__trim()}const i=r(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let a=z.__absoluteSubOne(t,i);return a=z.__absoluteXor(a,e,a),z.__absoluteAddOne(a,!0,a).__trim()}static bitwiseOr(e,t){var r=Math.max;const i=r(e.length,t.length);if(!e.sign&&!t.sign)return z.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let s=z.__absoluteSubOne(e,i);const o=z.__absoluteSubOne(t);return s=z.__absoluteAnd(s,o,s),z.__absoluteAddOne(s,!0,s).__trim()}e.sign&&([e,t]=[t,e]);let a=z.__absoluteSubOne(t,i);return a=z.__absoluteAndNot(a,e,a),z.__absoluteAddOne(a,!0,a).__trim()}static asIntN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return z.__zero();if(e>=z.__kMaxLengthBits)return t;const i=0|(e+29)/30;if(t.length<i)return t;const a=t.__unsignedDigit(i-1),s=1<<(e-1)%30;if(t.length===i&&a<s)return t;if((a&s)!==s)return z.__truncateToNBits(e,t);if(!t.sign)return z.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(a&s-1)){for(let o=i-2;0<=o;o--)if(t.__digit(o)!==0)return z.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===i&&a===s?t:z.__truncateToNBits(e,t)}return z.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return z.__zero();if(t.sign){if(e>z.__kMaxLengthBits)throw new RangeError("BigInt too big");return z.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=z.__kMaxLengthBits)return t;const i=0|(e+29)/30;if(t.length<i)return t;const a=e%30;return t.length==i&&(a===0||!(t.__digit(i-1)>>>a))?t:z.__truncateToNBits(e,t)}static ADD(e,t){if(e=z.__toPrimitive(e),t=z.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=z.__toNumeric(e),t=z.__toNumeric(t),z.__isBigInt(e)&&z.__isBigInt(t))return z.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return z.__compare(e,t,0)}static LE(e,t){return z.__compare(e,t,1)}static GT(e,t){return z.__compare(e,t,2)}static GE(e,t){return z.__compare(e,t,3)}static EQ(e,t){for(;;){if(z.__isBigInt(e))return z.__isBigInt(t)?z.equal(e,t):z.EQ(t,e);if(typeof e=="number"){if(z.__isBigInt(t))return z.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=z.__toPrimitive(t)}else if(typeof e=="string"){if(z.__isBigInt(t))return e=z.__fromString(e),e!==null&&z.equal(e,t);if(typeof t!="object")return e==t;t=z.__toPrimitive(t)}else if(typeof e=="boolean"){if(z.__isBigInt(t))return z.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=z.__toPrimitive(t)}else if(typeof e=="symbol"){if(z.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=z.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==z)return e==t;e=z.__toPrimitive(e)}else return e==t}}static NE(e,t){return!z.EQ(e,t)}static __zero(){return new z(0,!1)}static __oneDigit(e,t){const r=new z(1,t);return r.__setDigit(0,e),r}__copy(){const e=new z(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,i){if(0<t)return-1;let a;if(0>t)a=-t-1;else{if(r===0)return-1;r--,i=e.__digit(r),a=29}let s=1<<a;if(!(i&s))return-1;if(s-=1,(i&s)!=0)return 1;for(;0<r;)if(r--,e.__digit(r)!==0)return 1;return 0}static __fromDouble(e){z.__kBitConversionDouble[0]=e;const t=2047&z.__kBitConversionInts[1]>>>20,r=t-1023,i=(0|r/30)+1,a=new z(i,0>e);let s=1048575&z.__kBitConversionInts[1]|1048576,o=z.__kBitConversionInts[0];const u=20,c=r%30;let d,f=0;if(c<20){const g=u-c;f=g+32,d=s>>>g,s=s<<32-g|o>>>g,o<<=32-g}else if(c===20)f=32,d=s,s=o,o=0;else{const g=c-u;f=32-g,d=s<<g|o>>>32-g,s=o<<g,o=0}a.__setDigit(i-1,d);for(let g=i-2;0<=g;g--)0<f?(f-=30,d=s>>>2,s=s<<30|o>>>2,o<<=30):d=0,a.__setDigit(g,d);return a.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let r=0;const i=e.length;let a=0;if(a===i)return z.__zero();let s=e.charCodeAt(a);for(;z.__isWhitespace(s);){if(++a===i)return z.__zero();s=e.charCodeAt(a)}if(s===43){if(++a===i)return null;s=e.charCodeAt(a),r=1}else if(s===45){if(++a===i)return null;s=e.charCodeAt(a),r=-1}if(t===0){if(t=10,s===48){if(++a===i)return z.__zero();if(s=e.charCodeAt(a),s===88||s===120){if(t=16,++a===i)return null;s=e.charCodeAt(a)}else if(s===79||s===111){if(t=8,++a===i)return null;s=e.charCodeAt(a)}else if(s===66||s===98){if(t=2,++a===i)return null;s=e.charCodeAt(a)}}}else if(t===16&&s===48){if(++a===i)return z.__zero();if(s=e.charCodeAt(a),s===88||s===120){if(++a===i)return null;s=e.charCodeAt(a)}}if(r!=0&&t!==10)return null;for(;s===48;){if(++a===i)return z.__zero();s=e.charCodeAt(a)}const o=i-a;let u=z.__kMaxBitsPerChar[t],c=z.__kBitsPerCharTableMultiplier-1;if(o>1073741824/u)return null;const d=u*o+c>>>z.__kBitsPerCharTableShift,f=new z(0|(d+29)/30,!1),g=10>t?t:10,x=10<t?t-10:0;if(t&t-1){f.__initializeDigits();let C=!1,k=0;do{let R=0,$=1;for(;;){let ie;if(s-48>>>0<g)ie=s-48;else if((32|s)-97>>>0<x)ie=(32|s)-87;else{C=!0;break}const te=$*t;if(1073741823<te)break;if($=te,R=R*t+ie,k++,++a===i){C=!0;break}s=e.charCodeAt(a)}c=30*z.__kBitsPerCharTableMultiplier-1;const q=0|(u*k+c>>>z.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd($,R,q)}while(!C)}else{u>>=z.__kBitsPerCharTableShift;const C=[],k=[];let R=!1;do{let $=0,q=0;for(;;){let ie;if(s-48>>>0<g)ie=s-48;else if((32|s)-97>>>0<x)ie=(32|s)-87;else{R=!0;break}if(q+=u,$=$<<u|ie,++a===i){R=!0;break}if(s=e.charCodeAt(a),30<q+u)break}C.push($),k.push(q)}while(!R);z.__fillFromParts(f,C,k)}if(a!==i){if(!z.__isWhitespace(s))return null;for(a++;a<i;a++)if(s=e.charCodeAt(a),!z.__isWhitespace(s))return null}return f.sign=r==-1,f.__trim()}static __fillFromParts(e,t,r){let i=0,a=0,s=0;for(let o=t.length-1;0<=o;o--){const u=t[o],c=r[o];a|=u<<s,s+=c,s===30?(e.__setDigit(i++,a),s=0,a=0):30<s&&(e.__setDigit(i++,1073741823&a),s-=30,a=u>>>c-s)}if(a!==0){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,a)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,t){const r=e.length;let i=t-1;i=(85&i>>>1)+(85&i),i=(51&i>>>2)+(51&i),i=(15&i>>>4)+(15&i);const a=i,s=t-1,o=e.__digit(r-1),u=z.__clz30(o);let c=0|(30*r-u+a-1)/a;if(e.sign&&c++,268435456<c)throw new Error("string too long");const d=Array(c);let f=c-1,g=0,x=0;for(let k=0;k<r-1;k++){const R=e.__digit(k),$=(g|R<<x)&s;d[f--]=z.__kConversionChars[$];const q=a-x;for(g=R>>>q,x=30-q;x>=a;)d[f--]=z.__kConversionChars[g&s],g>>>=a,x-=a}const C=(g|o<<x)&s;for(d[f--]=z.__kConversionChars[C],g=o>>>a-x;g!==0;)d[f--]=z.__kConversionChars[g&s],g>>>=a;if(e.sign&&(d[f--]="-"),f!=-1)throw new Error("implementation bug");return d.join("")}static __toStringGeneric(e,t,r){const i=e.length;if(i===0)return"";if(i===1){let k=e.__unsignedDigit(0).toString(t);return r===!1&&e.sign&&(k="-"+k),k}const a=30*i-z.__clz30(e.__digit(i-1)),s=z.__kMaxBitsPerChar[t],o=s-1;let u=a*z.__kBitsPerCharTableMultiplier;u+=o-1,u=0|u/o;const c=u+1>>1,d=z.exponentiate(z.__oneDigit(t,!1),z.__oneDigit(c,!1));let f,g;const x=d.__unsignedDigit(0);if(d.length===1&&32767>=x){f=new z(e.length,!1),f.__initializeDigits();let k=0;for(let R=2*e.length-1;0<=R;R--){const $=k<<15|e.__halfDigit(R);f.__setHalfDigit(R,0|$/x),k=0|$%x}g=k.toString(t)}else{const k=z.__absoluteDivLarge(e,d,!0,!0);f=k.quotient;const R=k.remainder.__trim();g=z.__toStringGeneric(R,t,!0)}f.__trim();let C=z.__toStringGeneric(f,t,!0);for(;g.length<c;)g="0"+g;return r===!1&&e.sign&&(C="-"+C),C+g}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const r=e.sign;if(r!==t.sign)return z.__unequalSign(r);const i=z.__absoluteCompare(e,t);return 0<i?z.__absoluteGreater(r):0>i?z.__absoluteLess(r):0}static __compareToNumber(e,t){if(z.__isOneDigitInt(t)){const r=e.sign,i=0>t;if(r!==i)return z.__unequalSign(r);if(e.length===0){if(i)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return z.__absoluteGreater(r);const a=Math.abs(t),s=e.__unsignedDigit(0);return s>a?z.__absoluteGreater(r):s<a?z.__absoluteLess(r):0}return z.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const r=e.sign;if(r!==0>t)return z.__unequalSign(r);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;z.__kBitConversionDouble[0]=t;const i=2047&z.__kBitConversionInts[1]>>>20;if(i==2047)throw new Error("implementation bug: handled elsewhere");const a=i-1023;if(0>a)return z.__absoluteGreater(r);const s=e.length;let o=e.__digit(s-1);const u=z.__clz30(o),c=30*s-u,d=a+1;if(c<d)return z.__absoluteLess(r);if(c>d)return z.__absoluteGreater(r);let f=1048576|1048575&z.__kBitConversionInts[1],g=z.__kBitConversionInts[0];const x=20,C=29-u;if(C!==(0|(c-1)%30))throw new Error("implementation bug");let k,R=0;if(20>C){const $=x-C;R=$+32,k=f>>>$,f=f<<32-$|g>>>$,g<<=32-$}else if(C===20)R=32,k=f,f=g,g=0;else{const $=C-x;R=32-$,k=f<<$|g>>>32-$,f=g<<$,g=0}if(o>>>=0,k>>>=0,o>k)return z.__absoluteGreater(r);if(o<k)return z.__absoluteLess(r);for(let $=s-2;0<=$;$--){0<R?(R-=30,k=f>>>2,f=f<<30|g>>>2,g<<=30):k=0;const q=e.__unsignedDigit($);if(q>k)return z.__absoluteGreater(r);if(q<k)return z.__absoluteLess(r)}if(f!==0||g!==0){if(R===0)throw new Error("implementation bug");return z.__absoluteLess(r)}return 0}static __equalToNumber(e,t){var r=Math.abs;return z.__isOneDigitInt(t)?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):z.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){return t===0?0>e:t===1?0>=e:t===2?0<e:t===3?0<=e:void 0}static __compare(e,t,r){if(e=z.__toPrimitive(e),t=z.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(z.__isBigInt(e)&&typeof t=="string")return t=z.__fromString(t),t!==null&&z.__comparisonResultToBool(z.__compareToBigInt(e,t),r);if(typeof e=="string"&&z.__isBigInt(t))return e=z.__fromString(e),e!==null&&z.__comparisonResultToBool(z.__compareToBigInt(e,t),r);if(e=z.__toNumeric(e),t=z.__toNumeric(t),z.__isBigInt(e)){if(z.__isBigInt(t))return z.__comparisonResultToBool(z.__compareToBigInt(e,t),r);if(typeof t!="number")throw new Error("implementation bug");return z.__comparisonResultToBool(z.__compareToNumber(e,t),r)}if(typeof e!="number")throw new Error("implementation bug");if(z.__isBigInt(t))return z.__comparisonResultToBool(z.__compareToNumber(t,e),2^r);if(typeof t!="number")throw new Error("implementation bug");return r===0?e<t:r===1?e<=t:r===2?e>t:r===3?e>=t:void 0}__clzmsd(){return z.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return z.__absoluteAdd(t,e,r);if(e.length===0)return e;if(t.length===0)return e.sign===r?e:z.unaryMinus(e);let i=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&i++;const a=new z(i,r);let s=0,o=0;for(;o<t.length;o++){const u=e.__digit(o)+t.__digit(o)+s;s=u>>>30,a.__setDigit(o,1073741823&u)}for(;o<e.length;o++){const u=e.__digit(o)+s;s=u>>>30,a.__setDigit(o,1073741823&u)}return o<a.length&&a.__setDigit(o,s),a.__trim()}static __absoluteSub(e,t,r){if(e.length===0)return e;if(t.length===0)return e.sign===r?e:z.unaryMinus(e);const i=new z(e.length,r);let a=0,s=0;for(;s<t.length;s++){const o=e.__digit(s)-t.__digit(s)-a;a=1&o>>>30,i.__setDigit(s,1073741823&o)}for(;s<e.length;s++){const o=e.__digit(s)-a;a=1&o>>>30,i.__setDigit(s,1073741823&o)}return i.__trim()}static __absoluteAddOne(e,t,r=null){const i=e.length;r===null?r=new z(i,t):r.sign=t;let a=1;for(let s=0;s<i;s++){const o=e.__digit(s)+a;a=o>>>30,r.__setDigit(s,1073741823&o)}return a!=0&&r.__setDigitGrow(i,1),r}static __absoluteSubOne(e,t){const r=e.length;t=t||r;const i=new z(t,!1);let a=1;for(let s=0;s<r;s++){const o=e.__digit(s)-a;a=1&o>>>30,i.__setDigit(s,1073741823&o)}if(a!=0)throw new Error("implementation bug");for(let s=r;s<t;s++)i.__setDigit(s,0);return i}static __absoluteAnd(e,t,r=null){let i=e.length,a=t.length,s=a;if(i<a){s=i;const c=e,d=i;e=t,i=a,t=c,a=d}let o=s;r===null?r=new z(o,!1):o=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,e.__digit(u)&t.__digit(u));for(;u<o;u++)r.__setDigit(u,0);return r}static __absoluteAndNot(e,t,r=null){const i=e.length,a=t.length;let s=a;i<a&&(s=i);let o=i;r===null?r=new z(o,!1):o=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,e.__digit(u)&~t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<o;u++)r.__setDigit(u,0);return r}static __absoluteOr(e,t,r=null){let i=e.length,a=t.length,s=a;if(i<a){s=i;const c=e,d=i;e=t,i=a,t=c,a=d}let o=i;r===null?r=new z(o,!1):o=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,e.__digit(u)|t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<o;u++)r.__setDigit(u,0);return r}static __absoluteXor(e,t,r=null){let i=e.length,a=t.length,s=a;if(i<a){s=i;const c=e,d=i;e=t,i=a,t=c,a=d}let o=i;r===null?r=new z(o,!1):o=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,e.__digit(u)^t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<o;u++)r.__setDigit(u,0);return r}static __absoluteCompare(e,t){const r=e.length-t.length;if(r!=0)return r;let i=e.length-1;for(;0<=i&&e.__digit(i)===t.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>t.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,t,r,i){if(t===0)return;const a=32767&t,s=t>>>15;let o=0,u=0;for(let c,d=0;d<e.length;d++,i++){c=r.__digit(i);const f=e.__digit(d),g=32767&f,x=f>>>15,C=z.__imul(g,a),k=z.__imul(g,s),R=z.__imul(x,a),$=z.__imul(x,s);c+=u+C+o,o=c>>>30,c&=1073741823,c+=((32767&k)<<15)+((32767&R)<<15),o+=c>>>30,u=$+(k>>>15)+(R>>>15),r.__setDigit(i,1073741823&c)}for(;o!=0||u!==0;i++){let c=r.__digit(i);c+=o+u,u=0,o=c>>>30,r.__setDigit(i,1073741823&c)}}static __internalMultiplyAdd(e,t,r,i,a){let s=r,o=0;for(let u=0;u<i;u++){const c=e.__digit(u),d=z.__imul(32767&c,t),f=z.__imul(c>>>15,t),g=d+((32767&f)<<15)+o+s;s=g>>>30,o=f>>>15,a.__setDigit(u,1073741823&g)}if(a.length>i)for(a.__setDigit(i++,s+o);i<a.length;)a.__setDigit(i++,0);else if(s+o!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);const i=32767&e,a=e>>>15;let s=0,o=t;for(let u=0;u<r;u++){const c=this.__digit(u),d=32767&c,f=c>>>15,g=z.__imul(d,i),x=z.__imul(d,a),C=z.__imul(f,i),k=z.__imul(f,a);let R=o+g+s;s=R>>>30,R&=1073741823,R+=((32767&x)<<15)+((32767&C)<<15),s+=R>>>30,o=k+(x>>>15)+(C>>>15),this.__setDigit(u,1073741823&R)}if(s!=0||o!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){r===null&&(r=new z(e.length,!1));let i=0;for(let a,s=2*e.length-1;0<=s;s-=2){a=(i<<15|e.__halfDigit(s))>>>0;const o=0|a/t;i=0|a%t,a=(i<<15|e.__halfDigit(s-1))>>>0;const u=0|a/t;i=0|a%t,r.__setDigit(s>>>1,o<<15|u)}return r}static __absoluteModSmall(e,t){let r=0;for(let i=2*e.length-1;0<=i;i--)r=0|((r<<15|e.__halfDigit(i))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,i){const a=t.__halfDigitLength(),s=t.length,o=e.__halfDigitLength()-a;let u=null;r&&(u=new z(o+2>>>1,!1),u.__initializeDigits());const c=new z(a+2>>>1,!1);c.__initializeDigits();const d=z.__clz15(t.__halfDigit(a-1));0<d&&(t=z.__specialLeftShift(t,d,0));const f=z.__specialLeftShift(e,d,1),g=t.__halfDigit(a-1);let x=0;for(let C,k=o;0<=k;k--){C=32767;const R=f.__halfDigit(k+a);if(R!==g){const q=(R<<15|f.__halfDigit(k+a-1))>>>0;C=0|q/g;let ie=0|q%g;const te=t.__halfDigit(a-2),he=f.__halfDigit(k+a-2);for(;z.__imul(C,te)>>>0>(ie<<16|he)>>>0&&(C--,ie+=g,!(32767<ie)););}z.__internalMultiplyAdd(t,C,0,s,c);let $=f.__inplaceSub(c,k,a+1);$!==0&&($=f.__inplaceAdd(t,k,a),f.__setHalfDigit(k+a,32767&f.__halfDigit(k+a)+$),C--),r&&(1&k?x=C<<15:u.__setDigit(k>>>1,x|C))}if(i)return f.__inplaceRightShift(d),r?{quotient:u,remainder:f}:f;if(r)return u;throw new Error("unreachable")}static __clz15(e){return z.__clz30(e)-15}__inplaceAdd(e,t,r){let i=0;for(let a=0;a<r;a++){const s=this.__halfDigit(t+a)+e.__halfDigit(a)+i;i=s>>>15,this.__setHalfDigit(t+a,32767&s)}return i}__inplaceSub(e,t,r){let i=0;if(1&t){t>>=1;let a=this.__digit(t),s=32767&a,o=0;for(;o<r-1>>>1;o++){const d=e.__digit(o),f=(a>>>15)-(32767&d)-i;i=1&f>>>15,this.__setDigit(t+o,(32767&f)<<15|32767&s),a=this.__digit(t+o+1),s=(32767&a)-(d>>>15)-i,i=1&s>>>15}const u=e.__digit(o),c=(a>>>15)-(32767&u)-i;if(i=1&c>>>15,this.__setDigit(t+o,(32767&c)<<15|32767&s),t+o+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(a=this.__digit(t+o+1),s=(32767&a)-(u>>>15)-i,i=1&s>>>15,this.__setDigit(t+e.length,1073709056&a|32767&s))}else{t>>=1;let a=0;for(;a<e.length-1;a++){const d=this.__digit(t+a),f=e.__digit(a),g=(32767&d)-(32767&f)-i;i=1&g>>>15;const x=(d>>>15)-(f>>>15)-i;i=1&x>>>15,this.__setDigit(t+a,(32767&x)<<15|32767&g)}const s=this.__digit(t+a),o=e.__digit(a),u=(32767&s)-(32767&o)-i;i=1&u>>>15;let c=0;!(1&r)&&(c=(s>>>15)-(o>>>15)-i,i=1&c>>>15),this.__setDigit(t+a,(32767&c)<<15|32767&u)}return i}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e;const r=this.length-1;for(let i=0;i<r;i++){const a=this.__digit(i+1);this.__setDigit(i,1073741823&a<<30-e|t),t=a>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){const i=e.length,a=new z(i+r,!1);if(t===0){for(let o=0;o<i;o++)a.__setDigit(o,e.__digit(o));return 0<r&&a.__setDigit(i,0),a}let s=0;for(let o=0;o<i;o++){const u=e.__digit(o);a.__setDigit(o,1073741823&u<<t|s),s=u>>>30-t}return 0<r&&a.__setDigit(i,s),a}static __leftShiftByAbsolute(e,t){const r=z.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");const i=0|r/30,a=r%30,s=e.length,o=a!==0&&e.__digit(s-1)>>>30-a!=0,u=s+i+(o?1:0),c=new z(u,e.sign);if(a===0){let d=0;for(;d<i;d++)c.__setDigit(d,0);for(;d<u;d++)c.__setDigit(d,e.__digit(d-i))}else{let d=0;for(let f=0;f<i;f++)c.__setDigit(f,0);for(let f=0;f<s;f++){const g=e.__digit(f);c.__setDigit(f+i,1073741823&g<<a|d),d=g>>>30-a}if(o)c.__setDigit(s+i,d);else if(d!==0)throw new Error("implementation bug")}return c.__trim()}static __rightShiftByAbsolute(e,t){const r=e.length,i=e.sign,a=z.__toShiftAmount(t);if(0>a)return z.__rightShiftByMaximum(i);const s=0|a/30,o=a%30;let u=r-s;if(0>=u)return z.__rightShiftByMaximum(i);let c=!1;if(i){if(e.__digit(s)&(1<<o)-1)c=!0;else for(let f=0;f<s;f++)if(e.__digit(f)!==0){c=!0;break}}c&&o===0&&!~e.__digit(r-1)&&u++;let d=new z(u,i);if(o===0){d.__setDigit(u-1,0);for(let f=s;f<r;f++)d.__setDigit(f-s,e.__digit(f))}else{let f=e.__digit(s)>>>o;const g=r-s-1;for(let x=0;x<g;x++){const C=e.__digit(x+s+1);d.__setDigit(x,1073741823&C<<30-o|f),f=C>>>o}d.__setDigit(g,f)}return c&&(d=z.__absoluteAddOne(d,!0,d)),d.__trim()}static __rightShiftByMaximum(e){return e?z.__oneDigit(1,!0):z.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>z.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===z)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const a=e[Symbol.toPrimitive];if(a){const s=a(t);if(typeof s!="object")return s;throw new TypeError("Cannot convert object to primitive value")}}const r=e.valueOf;if(r){const a=r.call(e);if(typeof a!="object")return a}const i=e.toString;if(i){const a=i.call(e);if(typeof a!="object")return a}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return z.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===z}static __truncateToNBits(e,t){const r=0|(e+29)/30,i=new z(r,t.sign),a=r-1;for(let o=0;o<a;o++)i.__setDigit(o,t.__digit(o));let s=t.__digit(a);if(e%30!=0){const o=32-e%30;s=s<<o>>>o}return i.__setDigit(a,s),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){var i=Math.min;const a=0|(e+29)/30,s=new z(a,r);let o=0;const u=a-1;let c=0;for(const x=i(u,t.length);o<x;o++){const C=0-t.__digit(o)-c;c=1&C>>>30,s.__setDigit(o,1073741823&C)}for(;o<u;o++)s.__setDigit(o,0|1073741823&-c);let d=u<t.length?t.__digit(u):0;const f=e%30;let g;if(f==0)g=0-d-c,g&=1073741823;else{const x=32-f;d=d<<x>>>x;const C=1<<32-x;g=C-d-c,g&=C-1}return s.__setDigit(u,g),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const r=e>>>1,i=this.__digit(r),a=1&e?32767&i|t<<15:1073709056&i|32767&t;this.__setDigit(r,a)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(1073741823&e)===e}}z.__kMaxLength=33554432,z.__kMaxLengthBits=z.__kMaxLength<<5,z.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],z.__kBitsPerCharTableShift=5,z.__kBitsPerCharTableMultiplier=1<<z.__kBitsPerCharTableShift,z.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],z.__kBitConversionBuffer=new ArrayBuffer(8),z.__kBitConversionDouble=new Float64Array(z.__kBitConversionBuffer),z.__kBitConversionInts=new Int32Array(z.__kBitConversionBuffer),z.__clz30=Math.clz32?function(n){return Math.clz32(n)-2}:function(n){return n===0?30:0|29-(0|Math.log(n>>>0)/Math.LN2)},z.__imul=Math.imul||function(n,e){return 0|n*e},Sh.exports=z;var Ih=Sh.exports;const F=li(Ih);var ha=1e9,p2={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hl,Mt=!0,Bn="[DecimalError] ",Pi=Bn+"Invalid argument: ",$l=Bn+"Exponent out of range: ",ya=Math.floor,bi=Math.pow,h2=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sn,Zt=1e7,kt=7,Ch=9007199254740991,ao=ya(Ch/kt),De={};De.absoluteValue=De.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};De.comparedTo=De.cmp=function(n){var e,t,r,i,a=this;if(n=new a.constructor(n),a.s!==n.s)return a.s||-n.s;if(a.e!==n.e)return a.e>n.e^a.s<0?1:-1;for(r=a.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(a.d[e]!==n.d[e])return a.d[e]>n.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};De.decimalPlaces=De.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*kt;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};De.dividedBy=De.div=function(n){return Or(this,new this.constructor(n))};De.dividedToIntegerBy=De.idiv=function(n){var e=this,t=e.constructor;return gt(Or(e,new t(n),0,1),t.precision)};De.equals=De.eq=function(n){return!this.cmp(n)};De.exponent=function(){return Wt(this)};De.greaterThan=De.gt=function(n){return this.cmp(n)>0};De.greaterThanOrEqualTo=De.gte=function(n){return this.cmp(n)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(n){return this.cmp(n)<0};De.lessThanOrEqualTo=De.lte=function(n){return this.cmp(n)<1};De.logarithm=De.log=function(n){var e,t=this,r=t.constructor,i=r.precision,a=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(Sn))throw Error(Bn+"NaN");if(t.s<1)throw Error(Bn+(t.s?"NaN":"-Infinity"));return t.eq(Sn)?new r(0):(Mt=!1,e=Or(Ja(t,a),Ja(n,a),a),Mt=!0,gt(e,i))};De.minus=De.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?Nh(e,n):Rh(e,(n.s=-n.s,n))};De.modulo=De.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(Bn+"NaN");return t.s?(Mt=!1,e=Or(t,n,0,1).times(n),Mt=!0,t.minus(e)):gt(new r(t),i)};De.naturalExponential=De.exp=function(){return Oh(this)};De.naturalLogarithm=De.ln=function(){return Ja(this)};De.negated=De.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};De.plus=De.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?Rh(e,n):Nh(e,(n.s=-n.s,n))};De.precision=De.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Pi+n);if(e=Wt(i)+1,r=i.d.length-1,t=r*kt+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};De.squareRoot=De.sqrt=function(){var n,e,t,r,i,a,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Bn+"NaN")}for(n=Wt(o),Mt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=dr(o.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=ya((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new u(e)):r=new u(i.toString()),t=u.precision,i=s=t+3;;)if(a=r,r=a.plus(Or(o,a,s+2)).times(.5),dr(a.d).slice(0,s)===(e=dr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(a,t+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Mt=!0,gt(r,t)};De.times=De.mul=function(n){var e,t,r,i,a,s,o,u,c,d=this,f=d.constructor,g=d.d,x=(n=new f(n)).d;if(!d.s||!n.s)return new f(0);for(n.s*=d.s,t=d.e+n.e,u=g.length,c=x.length,u<c&&(a=g,g=x,x=a,s=u,u=c,c=s),a=[],s=u+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+x[r]*g[i-r-1]+e,a[i--]=o%Zt|0,e=o/Zt|0;a[i]=(a[i]+e)%Zt|0}for(;!a[--s];)a.pop();return e?++t:a.shift(),n.d=a,n.e=t,Mt?gt(n,f.precision):n};De.toDecimalPlaces=De.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(yr(n,0,ha),e===void 0?e=r.rounding:yr(e,0,8),gt(t,n+Wt(t)+1,e))};De.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=Ni(r,!0):(yr(n,0,ha),e===void 0?e=i.rounding:yr(e,0,8),r=gt(new i(r),n+1,e),t=Ni(r,!0,n+1)),t};De.toFixed=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?Ni(i):(yr(n,0,ha),e===void 0?e=a.rounding:yr(e,0,8),r=gt(new a(i),n+Wt(i)+1,e),t=Ni(r.abs(),!1,n+Wt(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};De.toInteger=De.toint=function(){var n=this,e=n.constructor;return gt(new e(n),Wt(n)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(n){var e,t,r,i,a,s,o=this,u=o.constructor,c=12,d=+(n=new u(n));if(!n.s)return new u(Sn);if(o=new u(o),!o.s){if(n.s<1)throw Error(Bn+"Infinity");return o}if(o.eq(Sn))return o;if(r=u.precision,n.eq(Sn))return gt(o,r);if(e=n.e,t=n.d.length-1,s=e>=t,a=o.s,s){if((t=d<0?-d:d)<=Ch){for(i=new u(Sn),e=Math.ceil(r/kt+4),Mt=!1;t%2&&(i=i.times(o),Jd(i.d,e)),t=ya(t/2),t!==0;)o=o.times(o),Jd(o.d,e);return Mt=!0,n.s<0?new u(Sn).div(i):gt(i,r)}}else if(a<0)throw Error(Bn+"NaN");return a=a<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Mt=!1,i=n.times(Ja(o,r+c)),Mt=!0,i=Oh(i),i.s=a,i};De.toPrecision=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?(t=Wt(i),r=Ni(i,t<=a.toExpNeg||t>=a.toExpPos)):(yr(n,1,ha),e===void 0?e=a.rounding:yr(e,0,8),i=gt(new a(i),n,e),t=Wt(i),r=Ni(i,n<=t||t<=a.toExpNeg,n)),r};De.toSignificantDigits=De.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(yr(n,1,ha),e===void 0?e=r.rounding:yr(e,0,8)),gt(new r(t),n,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Wt(n),t=n.constructor;return Ni(n,e<=t.toExpNeg||e>=t.toExpPos)};function Rh(n,e){var t,r,i,a,s,o,u,c,d=n.constructor,f=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),Mt?gt(e,f):e;if(u=n.d,c=e.d,s=n.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,o=c.length):(r=c,i=s,o=u.length),s=Math.ceil(f/kt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=c.length,o-a<0&&(a=o,r=c,c=u,u=r),t=0;a;)t=(u[--a]=u[a]+c[a]+t)/Zt|0,u[a]%=Zt;for(t&&(u.unshift(t),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,Mt?gt(e,f):e}function yr(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Pi+n)}function dr(n){var e,t,r,i=n.length-1,a="",s=n[0];if(i>0){for(a+=s,e=1;e<i;e++)r=n[e]+"",t=kt-r.length,t&&(a+=Wr(t)),a+=r;s=n[e],r=s+"",t=kt-r.length,t&&(a+=Wr(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Or=function(){function n(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Zt|0,s=a/Zt|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,u;if(a!=s)u=a>s?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function t(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Zt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,u,c,d,f,g,x,C,k,R,$,q,ie,te,he,ue,me,M,S=r.constructor,U=r.s==i.s?1:-1,Y=r.d,W=i.d;if(!r.s)return new S(r);if(!i.s)throw Error(Bn+"Division by zero");for(u=r.e-i.e,me=W.length,he=Y.length,x=new S(U),C=x.d=[],c=0;W[c]==(Y[c]||0);)++c;if(W[c]>(Y[c]||0)&&--u,a==null?q=a=S.precision:s?q=a+(Wt(r)-Wt(i))+1:q=a,q<0)return new S(0);if(q=q/kt+2|0,c=0,me==1)for(d=0,W=W[0],q++;(c<he||d)&&q--;c++)ie=d*Zt+(Y[c]||0),C[c]=ie/W|0,d=ie%W|0;else{for(d=Zt/(W[0]+1)|0,d>1&&(W=n(W,d),Y=n(Y,d),me=W.length,he=Y.length),te=me,k=Y.slice(0,me),R=k.length;R<me;)k[R++]=0;M=W.slice(),M.unshift(0),ue=W[0],W[1]>=Zt/2&&++ue;do d=0,o=e(W,k,me,R),o<0?($=k[0],me!=R&&($=$*Zt+(k[1]||0)),d=$/ue|0,d>1?(d>=Zt&&(d=Zt-1),f=n(W,d),g=f.length,R=k.length,o=e(f,k,g,R),o==1&&(d--,t(f,me<g?M:W,g))):(d==0&&(o=d=1),f=W.slice()),g=f.length,g<R&&f.unshift(0),t(k,f,R),o==-1&&(R=k.length,o=e(W,k,me,R),o<1&&(d++,t(k,me<R?M:W,R))),R=k.length):o===0&&(d++,k=[0]),C[c++]=d,o&&k[0]?k[R++]=Y[te]||0:(k=[Y[te]],R=1);while((te++<he||k[0]!==void 0)&&q--)}return C[0]||C.shift(),x.e=u,gt(x,s?a+Wt(x)+1:a)}}();function Oh(n,e){var t,r,i,a,s,o,u=0,c=0,d=n.constructor,f=d.precision;if(Wt(n)>16)throw Error($l+Wt(n));if(!n.s)return new d(Sn);for(Mt=!1,o=f,s=new d(.03125);n.abs().gte(.1);)n=n.times(s),c+=5;for(r=Math.log(bi(2,c))/Math.LN10*2+5|0,o+=r,t=i=a=new d(Sn),d.precision=o;;){if(i=gt(i.times(n),o),t=t.times(++u),s=a.plus(Or(i,t,o)),dr(s.d).slice(0,o)===dr(a.d).slice(0,o)){for(;c--;)a=gt(a.times(a),o);return d.precision=f,e==null?(Mt=!0,gt(a,f)):a}a=s}}function Wt(n){for(var e=n.e*kt,t=n.d[0];t>=10;t/=10)e++;return e}function Mu(n,e,t){if(e>n.LN10.sd())throw Mt=!0,t&&(n.precision=t),Error(Bn+"LN10 precision limit exceeded");return gt(new n(n.LN10),e)}function Wr(n){for(var e="";n--;)e+="0";return e}function Ja(n,e){var t,r,i,a,s,o,u,c,d,f=1,g=10,x=n,C=x.d,k=x.constructor,R=k.precision;if(x.s<1)throw Error(Bn+(x.s?"NaN":"-Infinity"));if(x.eq(Sn))return new k(0);if(e==null?(Mt=!1,c=R):c=e,x.eq(10))return e==null&&(Mt=!0),Mu(k,c);if(c+=g,k.precision=c,t=dr(C),r=t.charAt(0),a=Wt(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)x=x.times(n),t=dr(x.d),r=t.charAt(0),f++;a=Wt(x),r>1?(x=new k("0."+t),a++):x=new k(r+"."+t.slice(1))}else return u=Mu(k,c+2,R).times(a+""),x=Ja(new k(r+"."+t.slice(1)),c-g).plus(u),k.precision=R,e==null?(Mt=!0,gt(x,R)):x;for(o=s=x=Or(x.minus(Sn),x.plus(Sn),c),d=gt(x.times(x),c),i=3;;){if(s=gt(s.times(d),c),u=o.plus(Or(s,new k(i),c)),dr(u.d).slice(0,c)===dr(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(Mu(k,c+2,R).times(a+""))),o=Or(o,new k(f),c),k.precision=R,e==null?(Mt=!0,gt(o,R)):o;o=u,i+=2}}function Zd(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=ya(t/kt),n.d=[],r=(t+1)%kt,t<0&&(r+=kt),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=kt;r<i;)n.d.push(+e.slice(r,r+=kt));e=e.slice(r),r=kt-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),Mt&&(n.e>ao||n.e<-ao))throw Error($l+t)}else n.s=0,n.e=0,n.d=[0];return n}function gt(n,e,t){var r,i,a,s,o,u,c,d,f=n.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=kt,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/kt),a=f.length,d>=a)return n;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=kt,i=r-kt+s}if(t!==void 0&&(a=bi(10,s-i-1),o=c/a%10|0,u=e<0||f[d+1]!==void 0||c%a,u=t<4?(o||u)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||u||t==6&&(r>0?i>0?c/bi(10,s-i):0:f[d-1])%10&1||t==(n.s<0?8:7))),e<1||!f[0])return u?(a=Wt(n),f.length=1,e=e-a-1,f[0]=bi(10,(kt-e%kt)%kt),n.e=ya(-e/kt)||0):(f.length=1,f[0]=n.e=n.s=0),n;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=bi(10,kt-r),f[d]=i>0?(c/bi(10,s-i)%bi(10,i)|0)*a:0),u)for(;;)if(d==0){(f[0]+=a)==Zt&&(f[0]=1,++n.e);break}else{if(f[d]+=a,f[d]!=Zt)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Mt&&(n.e>ao||n.e<-ao))throw Error($l+Wt(n));return n}function Nh(n,e){var t,r,i,a,s,o,u,c,d,f,g=n.constructor,x=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),Mt?gt(e,x):e;if(u=n.d,f=e.d,r=e.e,c=n.e,u=u.slice(),s=c-r,s){for(d=s<0,d?(t=u,s=-s,o=f.length):(t=f,r=c,o=u.length),i=Math.max(Math.ceil(x/kt),o)+2,s>i&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for(i=u.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(u[i]!=f[i]){d=u[i]<f[i];break}s=0}for(d&&(t=u,u=f,f=t,e.s=-e.s),o=u.length,i=f.length-o;i>0;--i)u[o++]=0;for(i=f.length;i>s;){if(u[--i]<f[i]){for(a=i;a&&u[--a]===0;)u[a]=Zt-1;--u[a],u[i]+=Zt}u[i]-=f[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,Mt?gt(e,x):e):new g(0)}function Ni(n,e,t){var r,i=Wt(n),a=dr(n.d),s=a.length;return e?(t&&(r=t-s)>0?a=a.charAt(0)+"."+a.slice(1)+Wr(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Wr(-i-1)+a,t&&(r=t-s)>0&&(a+=Wr(r))):i>=s?(a+=Wr(i+1-s),t&&(r=t-i-1)>0&&(a=a+"."+Wr(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),t&&(r=t-s)>0&&(i+1===s&&(a+="."),a+=Wr(r))),n.s<0?"-"+a:a}function Jd(n,e){if(n.length>e)return n.length=e,!0}function Mh(n){var e,t,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Pi+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Zd(s,a.toString())}else if(typeof a!="string")throw Error(Pi+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,h2.test(a))Zd(s,a);else throw Error(Pi+a)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Mh,i.config=i.set=y2,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function y2(n){if(!n||typeof n!="object")throw Error(Bn+"Object expected");var e,t,r,i=["precision",1,ha,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(ya(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(Pi+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(Pi+t+": "+r);return this}var Hl=Mh(p2);Sn=new Hl(1);const m2=Hl;var g2=20,b2=1,so=1e6,ef=1e6,x2=-7,v2=21,Gl="[big.js] ",ys=Gl+"Invalid ",jl=ys+"decimal places",tf=ys+"rounding mode",Fh=Gl+"Division by zero",Ct={},Mi=void 0,T2=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Dh(){function n(e){var t=this;if(!(t instanceof n))return e===Mi?Dh():new n(e);e instanceof n?(t.s=e.s,t.e=e.e,t.c=e.c.slice()):w2(t,e),t.constructor=n}return n.prototype=Ct,n.DP=g2,n.RM=b2,n.NE=x2,n.PE=v2,n.version="5.2.2",n}function w2(n,e){var t,r,i;if(e===0&&1/e<0)e="-0";else if(!T2.test(e+=""))throw Error(ys+"number");for(n.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)n.c=[n.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(n.e=t-r-1,n.c=[],t=0;r<=i;)n.c[t++]=+e.charAt(r++)}return n}function zo(n,e,t,r){var i=n.c,a=n.e+e+1;if(a<i.length){if(t===1)r=i[a]>=5;else if(t===2)r=i[a]>5||i[a]==5&&(r||a<0||i[a+1]!==Mi||i[a-1]&1);else if(t===3)r=r||!!i[0];else if(r=!1,t!==0)throw Error(tf);if(a<1)i.length=1,r?(n.e=-e,i[0]=1):i[0]=n.e=0;else{if(i.length=a--,r)for(;++i[a]>9;)i[a]=0,a--||(++n.e,i.unshift(1));for(a=i.length;!i[--a];)i.pop()}}else if(t<0||t>3||t!==~~t)throw Error(tf);return n}function ms(n,e,t,r){var i,a,s=n.constructor,o=!n.c[0];if(t!==Mi){if(t!==~~t||t<(e==3)||t>so)throw Error(e==3?ys+"precision":jl);for(n=new s(n),t=r-n.e,n.c.length>++r&&zo(n,t,s.RM),e==2&&(r=n.e+t+1);n.c.length<r;)n.c.push(0)}if(i=n.e,a=n.c.join(""),t=a.length,e!=2&&(e==1||e==3&&r<=i||i<=s.NE||i>=s.PE))a=a.charAt(0)+(t>1?"."+a.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(i>0)if(++i>t)for(i-=t;i--;)a+="0";else i<t&&(a=a.slice(0,i)+"."+a.slice(i));else t>1&&(a=a.charAt(0)+"."+a.slice(1));return n.s<0&&(!o||e==4)?"-"+a:a}Ct.abs=function(){var n=new this.constructor(this);return n.s=1,n};Ct.cmp=function(n){var e,t=this,r=t.c,i=(n=new t.constructor(n)).c,a=t.s,s=n.s,o=t.e,u=n.e;if(!r[0]||!i[0])return r[0]?a:i[0]?-s:0;if(a!=s)return a;if(e=a<0,o!=u)return o>u^e?1:-1;for(s=(o=r.length)<(u=i.length)?o:u,a=-1;++a<s;)if(r[a]!=i[a])return r[a]>i[a]^e?1:-1;return o==u?0:o>u^e?1:-1};Ct.div=function(n){var e=this,t=e.constructor,r=e.c,i=(n=new t(n)).c,a=e.s==n.s?1:-1,s=t.DP;if(s!==~~s||s<0||s>so)throw Error(jl);if(!i[0])throw Error(Fh);if(!r[0])return new t(a*0);var o,u,c,d,f,g=i.slice(),x=o=i.length,C=r.length,k=r.slice(0,o),R=k.length,$=n,q=$.c=[],ie=0,te=s+($.e=e.e-n.e)+1;for($.s=a,a=te<0?0:te,g.unshift(0);R++<o;)k.push(0);do{for(c=0;c<10;c++){if(o!=(R=k.length))d=o>R?1:-1;else for(f=-1,d=0;++f<o;)if(i[f]!=k[f]){d=i[f]>k[f]?1:-1;break}if(d<0){for(u=R==o?i:g;R;){if(k[--R]<u[R]){for(f=R;f&&!k[--f];)k[f]=9;--k[f],k[R]+=10}k[R]-=u[R]}for(;!k[0];)k.shift()}else break}q[ie++]=d?c:++c,k[0]&&d?k[R]=r[x]||0:k=[r[x]]}while((x++<C||k[0]!==Mi)&&a--);return!q[0]&&ie!=1&&(q.shift(),$.e--),ie>te&&zo($,s,t.RM,k[0]!==Mi),$};Ct.eq=function(n){return!this.cmp(n)};Ct.gt=function(n){return this.cmp(n)>0};Ct.gte=function(n){return this.cmp(n)>-1};Ct.lt=function(n){return this.cmp(n)<0};Ct.lte=function(n){return this.cmp(n)<1};Ct.minus=Ct.sub=function(n){var e,t,r,i,a=this,s=a.constructor,o=a.s,u=(n=new s(n)).s;if(o!=u)return n.s=-u,a.plus(n);var c=a.c.slice(),d=a.e,f=n.c,g=n.e;if(!c[0]||!f[0])return f[0]?(n.s=-u,n):new s(c[0]?a:0);if(o=d-g){for((i=o<0)?(o=-o,r=c):(g=d,r=f),r.reverse(),u=o;u--;)r.push(0);r.reverse()}else for(t=((i=c.length<f.length)?c:f).length,o=u=0;u<t;u++)if(c[u]!=f[u]){i=c[u]<f[u];break}if(i&&(r=c,c=f,f=r,n.s=-n.s),(u=(t=f.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;t>o;){if(c[--t]<f[t]){for(e=t;e&&!c[--e];)c[e]=9;--c[e],c[t]+=10}c[t]-=f[t]}for(;c[--u]===0;)c.pop();for(;c[0]===0;)c.shift(),--g;return c[0]||(n.s=1,c=[g=0]),n.c=c,n.e=g,n};Ct.mod=function(n){var e,t=this,r=t.constructor,i=t.s,a=(n=new r(n)).s;if(!n.c[0])throw Error(Fh);return t.s=n.s=1,e=n.cmp(t)==1,t.s=i,n.s=a,e?new r(t):(i=r.DP,a=r.RM,r.DP=r.RM=0,t=t.div(n),r.DP=i,r.RM=a,this.minus(t.times(n)))};Ct.plus=Ct.add=function(n){var e,t=this,r=t.constructor,i=t.s,a=(n=new r(n)).s;if(i!=a)return n.s=-a,t.minus(n);var s=t.e,o=t.c,u=n.e,c=n.c;if(!o[0]||!c[0])return c[0]?n:new r(o[0]?t:i*0);if(o=o.slice(),i=s-u){for(i>0?(u=s,e=c):(i=-i,e=o),e.reverse();i--;)e.push(0);e.reverse()}for(o.length-c.length<0&&(e=c,c=o,o=e),i=c.length,a=0;i;o[i]%=10)a=(o[--i]=o[i]+c[i]+a)/10|0;for(a&&(o.unshift(a),++u),i=o.length;o[--i]===0;)o.pop();return n.c=o,n.e=u,n};Ct.pow=function(n){var e=this,t=new e.constructor(1),r=t,i=n<0;if(n!==~~n||n<-ef||n>ef)throw Error(ys+"exponent");for(i&&(n=-n);n&1&&(r=r.times(e)),n>>=1,!!n;)e=e.times(e);return i?t.div(r):r};Ct.round=function(n,e){var t=this.constructor;if(n===Mi)n=0;else if(n!==~~n||n<-so||n>so)throw Error(jl);return zo(new t(this),n,e===Mi?t.RM:e)};Ct.sqrt=function(){var n,e,t,r=this,i=r.constructor,a=r.s,s=r.e,o=new i(.5);if(!r.c[0])return new i(r);if(a<0)throw Error(Gl+"No square root");a=Math.sqrt(r+""),a===0||a===1/0?(e=r.c.join(""),e.length+s&1||(e+="0"),a=Math.sqrt(e),s=((s+1)/2|0)-(s<0||s&1),n=new i((a==1/0?"1e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+s)):n=new i(a),s=n.e+(i.DP+=4);do t=n,n=o.times(t.plus(r.div(t)));while(t.c.slice(0,s).join("")!==n.c.slice(0,s).join(""));return zo(n,i.DP-=4,i.RM)};Ct.times=Ct.mul=function(n){var e,t=this,r=t.constructor,i=t.c,a=(n=new r(n)).c,s=i.length,o=a.length,u=t.e,c=n.e;if(n.s=t.s==n.s?1:-1,!i[0]||!a[0])return new r(n.s*0);for(n.e=u+c,s<o&&(e=i,i=a,a=e,c=s,s=o,o=c),e=new Array(c=s+o);c--;)e[c]=0;for(u=o;u--;){for(o=0,c=s+u;c>u;)o=e[c]+a[u]*i[c-u-1]+o,e[c--]=o%10,o=o/10|0;e[c]=(e[c]+o)%10}for(o?++n.e:e.shift(),u=e.length;!e[--u];)e.pop();return n.c=e,n};Ct.toExponential=function(n){return ms(this,1,n,n)};Ct.toFixed=function(n){return ms(this,2,n,this.e+n)};Ct.toPrecision=function(n){return ms(this,3,n,n-1)};Ct.toString=function(){return ms(this)};Ct.valueOf=Ct.toJSON=function(){return ms(this,4)};var Bh=Dh(),Lh={exports:{}};(function(n){function e(t){return t.prototype.toFormat=function(i,a,s){if(!this.e&&this.e!==0)return this.toString();var o,u,c,d,f,g,x,C,k,R,$,q,ie,te,he,ue=this.format||{},me=this.constructor.format||{};if(i!=f?typeof i=="object"?(s=i,i=f):a!=f?typeof a=="object"?(s=a,a=f):typeof s!="object"&&(s={}):s={}:s={},o=this.toFixed(i,a).split("."),C=o[0],k=o[1],x=this.s<0?C.slice(1):C,g=x.length,R=s.decimalSeparator,R==f&&(R=ue.decimalSeparator,R==f&&(R=me.decimalSeparator,R==f&&(R="."))),$=s.groupSeparator,$==f&&($=ue.groupSeparator,$==f&&($=me.groupSeparator)),$&&(q=s.groupSize,q==f&&(q=ue.groupSize,q==f&&(q=me.groupSize,q==f&&(q=0))),ie=s.secondaryGroupSize,ie==f&&(ie=ue.secondaryGroupSize,ie==f&&(ie=me.secondaryGroupSize,ie==f&&(ie=0))),ie?(u=+ie,c=+q,g-=c):(u=+q,c=+ie),u>0&&g>0)){for(d=g%u||u,C=x.substr(0,d);d<g;d+=u)C+=$+x.substr(d,u);c>0&&(C+=$+x.slice(d)),this.s<0&&(C="-"+C)}return k?(te=s.fractionGroupSeparator,te==f&&(te=ue.fractionGroupSeparator,te==f&&(te=me.fractionGroupSeparator)),te&&(he=s.fractionGroupSize,he==f&&(he=ue.fractionGroupSize,he==f&&(he=me.fractionGroupSize,he==f&&(he=0))),he=+he,he&&(k=k.replace(new RegExp("\\d{"+he+"}\\B","g"),"$&"+te))),C+R+k):C},t.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},t}n.exports&&(n.exports=e)})(Lh);var A2=Lh.exports;const Wl=li(A2);function Fu(n){return"0x"+Ng.keccak_256(Ce(n))}const E2="strings/5.7.0",_2=new se(E2);var oo;(function(n){n.current="",n.NFC="NFC",n.NFD="NFD",n.NFKC="NFKC",n.NFKD="NFKD"})(oo||(oo={}));var nf;(function(n){n.UNEXPECTED_CONTINUE="unexpected continuation byte",n.BAD_PREFIX="bad codepoint prefix",n.OVERRUN="string overrun",n.MISSING_CONTINUE="missing continuation byte",n.OUT_OF_RANGE="out of UTF-8 range",n.UTF16_SURROGATE="UTF-16 surrogate",n.OVERLONG="overlong representation"})(nf||(nf={}));function k2(n,e=oo.current){e!=oo.current&&(_2.checkNormalize(),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const a=n.charCodeAt(r);if(r>=n.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(a&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Ce(t)}function P2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function S2(n){var e=P2(n,"string");return typeof e=="symbol"?e:String(e)}function I2(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,S2(r.key),r)}}function gs(n,e,t){return e&&I2(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ln(){return Ln=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ln.apply(this,arguments)}function ma(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Fc(n,e)}function Fc(n,e){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fc(n,e)}var Re;(function(n){n[n.MAINNET=1]="MAINNET",n[n.GOERLI=5]="GOERLI",n[n.SEPOLIA=11155111]="SEPOLIA",n[n.OPTIMISM=10]="OPTIMISM",n[n.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",n[n.OPTIMISM_SEPOLIA=11155420]="OPTIMISM_SEPOLIA",n[n.ARBITRUM_ONE=42161]="ARBITRUM_ONE",n[n.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",n[n.ARBITRUM_SEPOLIA=421614]="ARBITRUM_SEPOLIA",n[n.POLYGON=137]="POLYGON",n[n.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",n[n.CELO=42220]="CELO",n[n.CELO_ALFAJORES=44787]="CELO_ALFAJORES",n[n.GNOSIS=100]="GNOSIS",n[n.MOONBEAM=1284]="MOONBEAM",n[n.BNB=56]="BNB",n[n.AVALANCHE=43114]="AVALANCHE",n[n.BASE_GOERLI=84531]="BASE_GOERLI",n[n.BASE=8453]="BASE",n[n.ZORA=7777777]="ZORA",n[n.ZORA_SEPOLIA=999999999]="ZORA_SEPOLIA",n[n.ROOTSTOCK=30]="ROOTSTOCK",n[n.BLAST=81457]="BLAST",n[n.ZKSYNC=324]="ZKSYNC"})(Re||(Re={}));var Mr=[Re.MAINNET,Re.OPTIMISM,Re.OPTIMISM_GOERLI,Re.OPTIMISM_SEPOLIA,Re.ARBITRUM_ONE,Re.ARBITRUM_GOERLI,Re.ARBITRUM_SEPOLIA,Re.POLYGON,Re.POLYGON_MUMBAI,Re.GOERLI,Re.SEPOLIA,Re.CELO_ALFAJORES,Re.CELO,Re.BNB,Re.AVALANCHE,Re.BASE,Re.BASE_GOERLI,Re.ZORA,Re.ZORA_SEPOLIA,Re.ROOTSTOCK,Re.BLAST,Re.ZKSYNC],Dc;(function(n){n.ETHER="ETH",n.MATIC="MATIC",n.CELO="CELO",n.GNOSIS="XDAI",n.MOONBEAM="GLMR",n.BNB="BNB",n.AVAX="AVAX",n.ROOTSTOCK="RBTC"})(Dc||(Dc={}));var kn,jn,Rt,Du,Bu,Lu,Uu,qu,C2=[Re.MAINNET,Re.GOERLI,Re.SEPOLIA];function Vo(n,e){return e===void 0&&(e=[]),C2.concat(e).reduce(function(t,r){return t[r]=n,t},{})}var R2=Vo("0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",[Re.OPTIMISM,Re.ARBITRUM_ONE,Re.POLYGON,Re.POLYGON_MUMBAI,Re.SEPOLIA]),O2="0x8B799381ac40b838BBA4131ffB26197C432AFe78",N2="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",Uh=(kn={},kn[Re.MAINNET]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",kn[Re.GOERLI]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",kn[Re.SEPOLIA]="0xB7f907f7A9eBC822a80BD25E224be42Ce0A698A0",kn[Re.OPTIMISM]="0x0c3c1c532F1e39EdF36BE9Fe0bE1410313E074Bf",kn[Re.ARBITRUM_ONE]="0xf1D7CC64Fb4452F05c498126312eBE29f30Fbcf9",kn[Re.AVALANCHE]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",kn[Re.BASE]="0x8909dc15e40173ff4699343b6eb8132c65e18ec6",kn[Re.BNB]="0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6",kn[Re.POLYGON]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",kn[Re.CELO]="0x79a530c8e2fA8748B7B40dd3629C0520c2cCf03f",kn[Re.BLAST]="0x5C346464d33F90bABaf70dB6388507CC889C1070",kn),M2="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",F2=(jn={},jn[Re.MAINNET]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",jn[Re.GOERLI]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",jn[Re.ARBITRUM_ONE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",jn[Re.OPTIMISM]="0x4a7b5da61326a6379179b40d00f57e5bbdc962c2",jn[Re.BASE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",jn[Re.AVALANCHE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",jn[Re.BNB]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",jn[Re.POLYGON]="0xedf6066a2b290c185783862c7f4776a2c8077ad1",jn[Re.BLAST]="0xBB66Eb1c5e875933D44DAe661dbD80e5D9B03035",jn),bs={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x1F98415757620B543A52E61c46B32eB19261F984",quoterAddress:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",v3MigratorAddress:"0xA5644E29708357803b5A882D272c41cC0dF92B34",nonfungiblePositionManagerAddress:"0xC36442b4a4522E871399CD717aBDD847Ab11FE88"},D2=Ln({},bs,{mixedRouteQuoterV1Address:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E"}),B2=Ln({},bs,{mixedRouteQuoterV1Address:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"}),L2=bs,U2=Ln({},bs,{multicallAddress:"0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB",tickLensAddress:"0xbfd8137f7d1516D3ea5cA83523914859ec47F573"}),rf=bs,af={v3CoreFactoryAddress:"0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",multicallAddress:"0x633987602DE5C4F337e3DbF265303A1080324204",quoterAddress:"0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",v3MigratorAddress:"0x3cFd4d48EDfDCC53D3f173F596f621064614C582",nonfungiblePositionManagerAddress:"0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A",tickLensAddress:"0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D"},q2={v3CoreFactoryAddress:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7",multicallAddress:"0x963Df249eD09c358A4819E39d9Cd5736c3087184",quoterAddress:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077",v3MigratorAddress:"0x32681814957e0C13117ddc0c2aba232b5c9e760f",nonfungiblePositionManagerAddress:"0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613",tickLensAddress:"0xD9270014D396281579760619CCf4c3af0501A47C",swapRouter02Address:"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2"},$2={v3CoreFactoryAddress:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",multicallAddress:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",quoterAddress:"0x9569CbA925c8ca2248772A9A4976A516743A246F",v3MigratorAddress:"0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8",nonfungiblePositionManagerAddress:"0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6",tickLensAddress:"0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e"},H2={v3CoreFactoryAddress:"0x8CE191193D15ea94e11d327b4c7ad8bbE520f6aF",multicallAddress:"0x80e4e06841bb76AA9735E0448cB8d003C0EF009a",quoterAddress:"0x0FBEa6cf957d95ee9313490050F6A0DA68039404",v3MigratorAddress:"0xE7EcbAAaA54D007A00dbb6c1d2f150066D69dA07",nonfungiblePositionManagerAddress:"0xdA75cEf1C93078e8b736FCA5D5a30adb97C8957d",tickLensAddress:"0xCb7f54747F58F8944973cea5b8f4ac2209BadDC5",swapRouter02Address:"0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4"},G2={v3CoreFactoryAddress:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",multicallAddress:"0x8260CB40247290317a4c062F3542622367F206Ee",quoterAddress:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",v3MigratorAddress:"0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3",nonfungiblePositionManagerAddress:"0x622e4726a167799826d1E1D150b076A7725f5D81",tickLensAddress:"0xb52429333da969a0C79a60930a4Bf0020E5D1DE8"},j2={v3CoreFactoryAddress:"0x248AB79Bbb9bC29bB72f7Cd42F17e054Fc40188e",multicallAddress:"0x2B718b475e385eD29F56775a66aAB1F5cC6B2A0A",quoterAddress:"0x2779a0CC1c3e0E44D2542EC3e79e3864Ae93Ef0B",v3MigratorAddress:"0x398f43ef2c67B941147157DA1c5a868E906E043D",nonfungiblePositionManagerAddress:"0x6b2937Bde17889EDCf8fbD8dE31C3C2a70Bc4d65",tickLensAddress:"0x0fd18587734e5C2dcE2dccDcC7DD1EC89ba557d9",swapRouter02Address:"0x101F443B4d1b059569D643917553c771E1b9663E"},W2={v3CoreFactoryAddress:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",multicallAddress:"0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07",quoterAddress:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",v3MigratorAddress:"0x729004182cF005CEC8Bd85df140094b6aCbe8b15",nonfungiblePositionManagerAddress:"0x1238536071E1c677A632429e3655c799b22cDA52",tickLensAddress:"0xd7f33bcdb21b359c8ee6f0251d30e94832baad07",swapRouter02Address:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E"},z2={v3CoreFactoryAddress:"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD",multicallAddress:"0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2",quoterAddress:"0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F",v3MigratorAddress:"0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97",nonfungiblePositionManagerAddress:"0x655C406EBFa14EE2006250925e54ec43AD184f8B",tickLensAddress:"0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950",swapRouter02Address:"0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE"},V2={v3CoreFactoryAddress:"0x33128a8fC17869897dcE68Ed026d694621f6FDfD",multicallAddress:"0x091e99cb1C49331a94dD62755D168E941AbD0693",quoterAddress:"0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a",v3MigratorAddress:"0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7",nonfungiblePositionManagerAddress:"0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1",tickLensAddress:"0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d",swapRouter02Address:"0x2626664c2603336E57B271c5C0b26F421741e481",mixedRouteQuoterV1Address:"0xe544efae946f0008ae9a8d64493efa7886b73776"},K2={v3CoreFactoryAddress:"0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2",multicallAddress:"0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439",quoterAddress:"0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9",v3MigratorAddress:"0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE",nonfungiblePositionManagerAddress:"0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30",tickLensAddress:"0x1acB873Ee909D0c98adB18e4474943249F931b92",swapRouter02Address:"0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d"},X2={v3CoreFactoryAddress:"0x7145F8aeef1f6510E92164038E1B6F8cB2c42Cbb",multicallAddress:"0xA51c76bEE6746cB487a7e9312E43e2b8f4A37C15",quoterAddress:"0x11867e1b3348F3ce4FcC170BC5af3d23E07E64Df",v3MigratorAddress:"0x048352d8dCF13686982C799da63fA6426a9D0b60",nonfungiblePositionManagerAddress:"0xbC91e8DfA3fF18De43853372A3d7dfe585137D78",tickLensAddress:"0x209AAda09D74Ad3B8D0E92910Eaf85D2357e3044",swapRouter02Address:"0x7De04c96BE5159c3b5CeffC82aa176dc81281557"},Q2={v3CoreFactoryAddress:"0x4324A677D74764f46f33ED447964252441aA8Db6",multicallAddress:"0xA1E7e3A69671C4494EC59Dbd442de930a93F911A",quoterAddress:"0xC195976fEF0985886E37036E2DF62bF371E12Df0",v3MigratorAddress:"0x65ef259b31bf1d977c37e9434658694267674897",nonfungiblePositionManagerAddress:"0xB8458EaAe43292e3c1F7994EFd016bd653d23c20",tickLensAddress:"0x23C0F71877a1Fc4e20A78018f9831365c85f3064"},Y2={v3CoreFactoryAddress:"0xaF37EC98A00FD63689CF3060BF3B6784E00caD82",multicallAddress:"0x996a9858cDfa45Ad68E47c9A30a7201E29c6a386",quoterAddress:"0xb51727c996C68E60F598A923a5006853cd2fEB31",v3MigratorAddress:"0x16678977CA4ec3DAD5efc7b15780295FE5f56162",nonfungiblePositionManagerAddress:"0x9d9386c042F194B460Ec424a1e57ACDE25f5C4b1",tickLensAddress:"0x55B9dF5bF68ADe972191a91980459f48ecA16afC",swapRouter02Address:"0x0B14ff67f0014046b4b99057Aec4509640b3947A"},Z2={v3CoreFactoryAddress:"0x792edAdE80af5fC680d96a2eD80A44247D2Cf6Fd",multicallAddress:"0xdC7f370de7631cE9e2c2e1DCDA6B3B5744Cf4705",quoterAddress:"0x6Cdcd65e03c1CEc3730AeeCd45bc140D57A25C77",v3MigratorAddress:"0x15CA7043CD84C5D21Ae76Ba0A1A967d42c40ecE0",nonfungiblePositionManagerAddress:"0xB218e4f7cF0533d4696fDfC419A0023D33345F28",tickLensAddress:"0x2E95185bCdD928a3e984B7e2D6560Ab1b17d7274",swapRouter02Address:"0x549FEB8c9bd4c12Ad2AB27022dA12492aC452B66"},J2={v3CoreFactoryAddress:"0x8FdA5a7a8dCA67BBcDd10F02Fa0649A937215422",multicallAddress:"0x0c68a7C72f074d1c45C16d41fa74eEbC6D16a65C",quoterAddress:"0x8Cb537fc92E26d8EBBb760E632c95484b6Ea3e28",v3MigratorAddress:"0x611841b24E43C4ACfd290B427a3D6cf1A59dac8E",nonfungiblePositionManagerAddress:"0x0616e5762c1E7Dc3723c50663dF10a162D690a86",tickLensAddress:"0xe10FF11b809f8EE07b056B452c3B2caa7FE24f89",swapRouter02Address:"0x99c56385daBCE3E81d8499d0b8d0257aBC07E8A3"},Fr=(Rt={},Rt[Re.MAINNET]=D2,Rt[Re.OPTIMISM]=L2,Rt[Re.ARBITRUM_ONE]=U2,Rt[Re.POLYGON]=rf,Rt[Re.POLYGON_MUMBAI]=rf,Rt[Re.GOERLI]=B2,Rt[Re.CELO]=af,Rt[Re.CELO_ALFAJORES]=af,Rt[Re.BNB]=q2,Rt[Re.OPTIMISM_GOERLI]=$2,Rt[Re.OPTIMISM_SEPOLIA]=H2,Rt[Re.ARBITRUM_GOERLI]=G2,Rt[Re.ARBITRUM_SEPOLIA]=j2,Rt[Re.SEPOLIA]=W2,Rt[Re.AVALANCHE]=z2,Rt[Re.BASE]=V2,Rt[Re.BASE_GOERLI]=K2,Rt[Re.ZORA]=X2,Rt[Re.ZORA_SEPOLIA]=Q2,Rt[Re.ROOTSTOCK]=Y2,Rt[Re.BLAST]=Z2,Rt[Re.ZKSYNC]=J2,Rt),ex=Ln({},Mr.reduce(function(n,e){return n[e]=Fr[e].v3CoreFactoryAddress,n},{})),tx=Ln({},Mr.reduce(function(n,e){var t=Fr[e].v3MigratorAddress;return t&&(n[e]=t),n},{})),nx=Ln({},Mr.reduce(function(n,e){return n[e]=Fr[e].multicallAddress,n},{})),rx=Vo("0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F"),ix=(Du={},Du[Re.MAINNET]="0xC4e172459f1E7939D522503B81AFAaC1014CE6F6",Du),ax=(Bu={},Bu[Re.MAINNET]="0x408ED6354d4973f66138C91495F2f2FCbd8724C3",Bu),sx=Vo("0x1a9C8182C09F50C8318d769245beA52c32BE35BC"),ox=(Lu={},Lu[Re.MAINNET]="0x090D4613473dEE047c3f2706764f49E0821D256e",Lu),ux=(Uu={},Uu[Re.MAINNET]="0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8",Uu),cx=Ln({},Mr.reduce(function(n,e){return n[e]=Fr[e].quoterAddress,n},{})),lx=Ln({},Mr.reduce(function(n,e){var t=Fr[e].nonfungiblePositionManagerAddress;return t&&(n[e]=t),n},{})),dx=Ln({},Vo("0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e")),fx=(qu={},qu[Re.MAINNET]="0x65770b5283117639760beA3F867b69b3697a91dd",qu),px=Ln({},Mr.reduce(function(n,e){var t=Fr[e].tickLensAddress;return t&&(n[e]=t),n},{})),hx=Mr.reduce(function(n,e){var t=Fr[e].mixedRouteQuoterV1Address;return t&&(n[e]=t),n},{}),yx=function(e){if(Mr.includes(e)){var t,r=e;return(t=Fr[r].swapRouter02Address)!=null?t:"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45"}return""},et;(function(n){n[n.EXACT_INPUT=0]="EXACT_INPUT",n[n.EXACT_OUTPUT=1]="EXACT_OUTPUT"})(et||(et={}));var Cn;(function(n){n[n.ROUND_DOWN=0]="ROUND_DOWN",n[n.ROUND_HALF_UP=1]="ROUND_HALF_UP",n[n.ROUND_UP=2]="ROUND_UP"})(Cn||(Cn={}));var ii=F.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ea,_a,$a=Wl(m2),$u=Wl(Bh),mx=(Ea={},Ea[Cn.ROUND_DOWN]=$a.ROUND_DOWN,Ea[Cn.ROUND_HALF_UP]=$a.ROUND_HALF_UP,Ea[Cn.ROUND_UP]=$a.ROUND_UP,Ea),gx=(_a={},_a[Cn.ROUND_DOWN]=0,_a[Cn.ROUND_HALF_UP]=1,_a[Cn.ROUND_UP]=3,_a),Un=function(){function n(t,r){r===void 0&&(r=F.BigInt(1)),this.numerator=F.BigInt(t),this.denominator=F.BigInt(r)}n.tryParseFraction=function(r){if(r instanceof F||typeof r=="number"||typeof r=="string")return new n(r);if("numerator"in r&&"denominator"in r)return r;throw new Error("Could not parse fraction")};var e=n.prototype;return e.invert=function(){return new n(this.denominator,this.numerator)},e.add=function(r){var i=n.tryParseFraction(r);return F.equal(this.denominator,i.denominator)?new n(F.add(this.numerator,i.numerator),this.denominator):new n(F.add(F.multiply(this.numerator,i.denominator),F.multiply(i.numerator,this.denominator)),F.multiply(this.denominator,i.denominator))},e.subtract=function(r){var i=n.tryParseFraction(r);return F.equal(this.denominator,i.denominator)?new n(F.subtract(this.numerator,i.numerator),this.denominator):new n(F.subtract(F.multiply(this.numerator,i.denominator),F.multiply(i.numerator,this.denominator)),F.multiply(this.denominator,i.denominator))},e.lessThan=function(r){var i=n.tryParseFraction(r);return F.lessThan(F.multiply(this.numerator,i.denominator),F.multiply(i.numerator,this.denominator))},e.equalTo=function(r){var i=n.tryParseFraction(r);return F.equal(F.multiply(this.numerator,i.denominator),F.multiply(i.numerator,this.denominator))},e.greaterThan=function(r){var i=n.tryParseFraction(r);return F.greaterThan(F.multiply(this.numerator,i.denominator),F.multiply(i.numerator,this.denominator))},e.multiply=function(r){var i=n.tryParseFraction(r);return new n(F.multiply(this.numerator,i.numerator),F.multiply(this.denominator,i.denominator))},e.divide=function(r){var i=n.tryParseFraction(r);return new n(F.multiply(this.numerator,i.denominator),F.multiply(this.denominator,i.numerator))},e.toSignificant=function(r,i,a){i===void 0&&(i={groupSeparator:""}),a===void 0&&(a=Cn.ROUND_HALF_UP),Number.isInteger(r)||Ae(!1),r>0||Ae(!1),$a.set({precision:r+1,rounding:mx[a]});var s=new $a(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(r);return s.toFormat(s.decimalPlaces(),i)},e.toFixed=function(r,i,a){return i===void 0&&(i={groupSeparator:""}),a===void 0&&(a=Cn.ROUND_HALF_UP),Number.isInteger(r)||Ae(!1),r>=0||Ae(!1),$u.DP=r,$u.RM=gx[a],new $u(this.numerator.toString()).div(this.denominator.toString()).toFormat(r,i)},gs(n,[{key:"quotient",get:function(){return F.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new n(F.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new n(this.numerator,this.denominator)}}]),n}(),sf=Wl(Bh),Ne=function(n){ma(e,n);function e(r,i,a){var s;return s=n.call(this,i,a)||this,F.lessThanOrEqual(s.quotient,ii)||Ae(!1),s.currency=r,s.decimalScale=F.exponentiate(F.BigInt(10),F.BigInt(r.decimals)),s}e.fromRawAmount=function(i,a){return new e(i,a)},e.fromFractionalAmount=function(i,a,s){return new e(i,a,s)};var t=e.prototype;return t.add=function(i){this.currency.equals(i.currency)||Ae(!1);var a=n.prototype.add.call(this,i);return e.fromFractionalAmount(this.currency,a.numerator,a.denominator)},t.subtract=function(i){this.currency.equals(i.currency)||Ae(!1);var a=n.prototype.subtract.call(this,i);return e.fromFractionalAmount(this.currency,a.numerator,a.denominator)},t.multiply=function(i){var a=n.prototype.multiply.call(this,i);return e.fromFractionalAmount(this.currency,a.numerator,a.denominator)},t.divide=function(i){var a=n.prototype.divide.call(this,i);return e.fromFractionalAmount(this.currency,a.numerator,a.denominator)},t.toSignificant=function(i,a,s){return i===void 0&&(i=6),s===void 0&&(s=Cn.ROUND_DOWN),n.prototype.divide.call(this,this.decimalScale).toSignificant(i,a,s)},t.toFixed=function(i,a,s){return i===void 0&&(i=this.currency.decimals),s===void 0&&(s=Cn.ROUND_DOWN),i<=this.currency.decimals||Ae(!1),n.prototype.divide.call(this,this.decimalScale).toFixed(i,a,s)},t.toExact=function(i){return i===void 0&&(i={groupSeparator:""}),sf.DP=this.currency.decimals,new sf(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(i)},gs(e,[{key:"wrapped",get:function(){return this.currency.isToken?this:e.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),e}(Un),of=new Un(F.BigInt(100));function _s(n){return new ft(n.numerator,n.denominator)}var ft=function(n){ma(e,n);function e(){var r;return r=n.apply(this,arguments)||this,r.isPercent=!0,r}var t=e.prototype;return t.add=function(i){return _s(n.prototype.add.call(this,i))},t.subtract=function(i){return _s(n.prototype.subtract.call(this,i))},t.multiply=function(i){return _s(n.prototype.multiply.call(this,i))},t.divide=function(i){return _s(n.prototype.divide.call(this,i))},t.toSignificant=function(i,a,s){return i===void 0&&(i=5),n.prototype.multiply.call(this,of).toSignificant(i,a,s)},t.toFixed=function(i,a,s){return i===void 0&&(i=2),n.prototype.multiply.call(this,of).toFixed(i,a,s)},e}(Un),Ot=function(n){ma(e,n);function e(){for(var r,i,a,s,o,u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];if(c.length===4)i=c[0],a=c[1],s=c[2],o=c[3];else{var f=c[0].quoteAmount.divide(c[0].baseAmount),g=[c[0].baseAmount.currency,c[0].quoteAmount.currency,f.denominator,f.numerator];i=g[0],a=g[1],s=g[2],o=g[3]}return r=n.call(this,o,s)||this,r.baseCurrency=i,r.quoteCurrency=a,r.scalar=new Un(F.exponentiate(F.BigInt(10),F.BigInt(i.decimals)),F.exponentiate(F.BigInt(10),F.BigInt(a.decimals))),r}var t=e.prototype;return t.invert=function(){return new e(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},t.multiply=function(i){this.quoteCurrency.equals(i.baseCurrency)||Ae(!1);var a=n.prototype.multiply.call(this,i);return new e(this.baseCurrency,i.quoteCurrency,a.denominator,a.numerator)},t.quote=function(i){i.currency.equals(this.baseCurrency)||Ae(!1);var a=n.prototype.multiply.call(this,i);return Ne.fromFractionalAmount(this.quoteCurrency,a.numerator,a.denominator)},t.toSignificant=function(i,a,s){return i===void 0&&(i=6),this.adjustedForDecimals.toSignificant(i,a,s)},t.toFixed=function(i,a,s){return i===void 0&&(i=4),this.adjustedForDecimals.toFixed(i,a,s)},gs(e,[{key:"adjustedForDecimals",get:function(){return n.prototype.multiply.call(this,this.scalar)}}]),e}(Un),qh=function(e,t,r,i){Number.isSafeInteger(e)||Ae(!1),t>=0&&t<255&&Number.isInteger(t)||Ae(!1),this.chainId=e,this.decimals=t,this.symbol=r,this.name=i},Ko=function(n){ma(e,n);function e(){var t;return t=n.apply(this,arguments)||this,t.isNative=!0,t.isToken=!1,t}return e}(qh);function cn(n){try{return It(n)}catch{throw new Error(n+" is not a valid address.")}}var bx=/^0x[0-9a-fA-F]{40}$/;function xx(n){if(bx.test(n))return n;throw new Error(n+" is not a valid address.")}var Je=function(n){ma(e,n);function e(r,i,a,s,o,u,c,d){var f;return f=n.call(this,r,a,s,o)||this,f.isNative=!1,f.isToken=!0,u?f.address=xx(i):f.address=cn(i),c&&(c.gte(Oe.from(0))||Ae(!1)),d&&(d.gte(Oe.from(0))||Ae(!1)),f.buyFeeBps=c,f.sellFeeBps=d,f}var t=e.prototype;return t.equals=function(i){return i.isToken&&this.chainId===i.chainId&&this.address.toLowerCase()===i.address.toLowerCase()},t.sortsBefore=function(i){return this.chainId!==i.chainId&&Ae(!1),this.address.toLowerCase()===i.address.toLowerCase()&&Ae(!1),this.address.toLowerCase()<i.address.toLowerCase()},gs(e,[{key:"wrapped",get:function(){return this}}]),e}(qh),zl={1:new Je(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),3:new Je(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),4:new Je(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),5:new Je(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),42:new Je(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),10:new Je(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),69:new Je(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),11155420:new Je(11155420,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),42161:new Je(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),421611:new Je(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),421614:new Je(421614,"0x980B62Da83eFf3D4576C647993b0c1D7faf17c73",18,"WETH","Wrapped Ether"),8453:new Je(8453,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),56:new Je(56,"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",18,"WBNB","Wrapped BNB"),137:new Je(137,"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",18,"WMATIC","Wrapped MATIC"),43114:new Je(43114,"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",18,"WAVAX","Wrapped AVAX")},$h=function(n){ma(e,n);function e(r){return n.call(this,r,18,"ETH","Ether")||this}e.onChain=function(i){var a;return(a=this._etherCache[i])!=null?a:this._etherCache[i]=new e(i)};var t=e.prototype;return t.equals=function(i){return i.isNative&&i.chainId===this.chainId},gs(e,[{key:"wrapped",get:function(){var i=zl[this.chainId];return i||Ae(!1),i}}]),e}(Ko);$h._etherCache={};function Hh(n,e,t){var r=n.quote(e),i=r.subtract(t).divide(r);return new ft(i.numerator,i.denominator)}function Gh(n,e,t,r){r===void 0&&(r="0x");var i=Fu(k2("zksyncCreate2")),a=Fu(r),s=Fu(Nt([i,Lt(n,32),t,e,a])).slice(26);return It(s)}function es(n,e,t,r){if(t>0||Ae(!1),n.length<=t||Ae(!1),n.length===0)return n.push(e),null;var i=n.length===t;if(i&&r(n[n.length-1],e)<=0)return e;for(var a=0,s=n.length;a<s;){var o=a+s>>>1;r(n[o],e)<=0?a=o+1:s=o}return n.splice(a,0,e),i?n.pop():null}var vx=F.BigInt(Number.MAX_SAFE_INTEGER),Tx=F.BigInt(0),wx=F.BigInt(1),uf=F.BigInt(2);function Ha(n){if(F.greaterThanOrEqual(n,Tx)||Ae(!1),F.lessThan(n,vx))return F.BigInt(Math.floor(Math.sqrt(F.toNumber(n))));var e,t;for(e=n,t=F.add(F.divide(n,uf),wx);F.lessThan(t,e);)e=t,t=F.divide(F.add(F.divide(n,t),t),uf);return e}const Ax=Object.freeze(Object.defineProperty({__proto__:null,ARGENT_WALLET_DETECTOR_ADDRESS:ux,CHAIN_TO_ADDRESSES_MAP:Fr,get ChainId(){return Re},CurrencyAmount:Ne,ENS_REGISTRAR_ADDRESSES:dx,Ether:$h,Fraction:Un,GOVERNANCE_ALPHA_V0_ADDRESSES:rx,GOVERNANCE_ALPHA_V1_ADDRESSES:ix,GOVERNANCE_BRAVO_ADDRESSES:ax,MERKLE_DISTRIBUTOR_ADDRESS:ox,MIXED_ROUTE_QUOTER_V1_ADDRESSES:hx,MULTICALL_ADDRESSES:nx,MaxUint256:ii,NONFUNGIBLE_POSITION_MANAGER_ADDRESSES:lx,NativeCurrency:Ko,get NativeCurrencyName(){return Dc},Percent:ft,Price:Ot,QUOTER_ADDRESSES:cx,get Rounding(){return Cn},SOCKS_CONTROLLER_ADDRESSES:fx,SUPPORTED_CHAINS:Mr,SWAP_ROUTER_02_ADDRESSES:yx,TICK_LENS_ADDRESSES:px,TIMELOCK_ADDRESSES:sx,Token:Je,get TradeType(){return et},UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS:O2,UNI_ADDRESSES:R2,V2_FACTORY_ADDRESS:N2,V2_FACTORY_ADDRESSES:Uh,V2_ROUTER_ADDRESS:M2,V2_ROUTER_ADDRESSES:F2,V3_CORE_FACTORY_ADDRESSES:ex,V3_MIGRATOR_ADDRESSES:tx,WETH9:zl,computePriceImpact:Hh,computeZksyncCreate2Address:Gh,sortedInsert:es,sqrt:Ha,validateAndParseAddress:cn},Symbol.toStringTag,{value:"Module"}));var Ex=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Hu=Math.ceil,cr=Math.floor,gn="[BigNumber Error] ",cf=gn+"Number primitive has more than 15 significant digits: ",Wn=1e14,Ye=14,Gu=9007199254740991,ju=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Hr=1e7,Yt=1e9;function jh(n){var e,t,r,i=q.prototype={constructor:q,toString:null,valueOf:null},a=new q(1),s=20,o=4,u=-7,c=21,d=-1e7,f=1e7,g=!1,x=1,C=0,k={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},R="0123456789abcdefghijklmnopqrstuvwxyz",$=!0;function q(M,S){var U,Y,W,Z,O,l,p,h,m=this;if(!(m instanceof q))return new q(M,S);if(S==null){if(M&&M._isBigNumber===!0){m.s=M.s,!M.c||M.e>f?m.c=m.e=null:M.e<d?m.c=[m.e=0]:(m.e=M.e,m.c=M.c.slice());return}if((l=typeof M=="number")&&M*0==0){if(m.s=1/M<0?(M=-M,-1):1,M===~~M){for(Z=0,O=M;O>=10;O/=10,Z++);Z>f?m.c=m.e=null:(m.e=Z,m.c=[M]);return}h=String(M)}else{if(!Ex.test(h=String(M)))return r(m,h,l);m.s=h.charCodeAt(0)==45?(h=h.slice(1),-1):1}(Z=h.indexOf("."))>-1&&(h=h.replace(".","")),(O=h.search(/e/i))>0?(Z<0&&(Z=O),Z+=+h.slice(O+1),h=h.substring(0,O)):Z<0&&(Z=h.length)}else{if(Ft(S,2,R.length,"Base"),S==10&&$)return m=new q(M),ue(m,s+m.e+1,o);if(h=String(M),l=typeof M=="number"){if(M*0!=0)return r(m,h,l,S);if(m.s=1/M<0?(h=h.slice(1),-1):1,q.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(cf+M)}else m.s=h.charCodeAt(0)===45?(h=h.slice(1),-1):1;for(U=R.slice(0,S),Z=O=0,p=h.length;O<p;O++)if(U.indexOf(Y=h.charAt(O))<0){if(Y=="."){if(O>Z){Z=p;continue}}else if(!W&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){W=!0,O=-1,Z=0;continue}return r(m,String(M),l,S)}l=!1,h=t(h,S,10,m.s),(Z=h.indexOf("."))>-1?h=h.replace(".",""):Z=h.length}for(O=0;h.charCodeAt(O)===48;O++);for(p=h.length;h.charCodeAt(--p)===48;);if(h=h.slice(O,++p)){if(p-=O,l&&q.DEBUG&&p>15&&(M>Gu||M!==cr(M)))throw Error(cf+m.s*M);if((Z=Z-O-1)>f)m.c=m.e=null;else if(Z<d)m.c=[m.e=0];else{if(m.e=Z,m.c=[],O=(Z+1)%Ye,Z<0&&(O+=Ye),O<p){for(O&&m.c.push(+h.slice(0,O)),p-=Ye;O<p;)m.c.push(+h.slice(O,O+=Ye));O=Ye-(h=h.slice(O)).length}else O-=p;for(;O--;h+="0");m.c.push(+h)}}else m.c=[m.e=0]}q.clone=jh,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(M){var S,U;if(M!=null)if(typeof M=="object"){if(M.hasOwnProperty(S="DECIMAL_PLACES")&&(U=M[S],Ft(U,0,Yt,S),s=U),M.hasOwnProperty(S="ROUNDING_MODE")&&(U=M[S],Ft(U,0,8,S),o=U),M.hasOwnProperty(S="EXPONENTIAL_AT")&&(U=M[S],U&&U.pop?(Ft(U[0],-Yt,0,S),Ft(U[1],0,Yt,S),u=U[0],c=U[1]):(Ft(U,-Yt,Yt,S),u=-(c=U<0?-U:U))),M.hasOwnProperty(S="RANGE"))if(U=M[S],U&&U.pop)Ft(U[0],-Yt,-1,S),Ft(U[1],1,Yt,S),d=U[0],f=U[1];else if(Ft(U,-Yt,Yt,S),U)d=-(f=U<0?-U:U);else throw Error(gn+S+" cannot be zero: "+U);if(M.hasOwnProperty(S="CRYPTO"))if(U=M[S],U===!!U)if(U)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))g=U;else throw g=!U,Error(gn+"crypto unavailable");else g=U;else throw Error(gn+S+" not true or false: "+U);if(M.hasOwnProperty(S="MODULO_MODE")&&(U=M[S],Ft(U,0,9,S),x=U),M.hasOwnProperty(S="POW_PRECISION")&&(U=M[S],Ft(U,0,Yt,S),C=U),M.hasOwnProperty(S="FORMAT"))if(U=M[S],typeof U=="object")k=U;else throw Error(gn+S+" not an object: "+U);if(M.hasOwnProperty(S="ALPHABET"))if(U=M[S],typeof U=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(U))$=U.slice(0,10)=="0123456789",R=U;else throw Error(gn+S+" invalid: "+U)}else throw Error(gn+"Object expected: "+M);return{DECIMAL_PLACES:s,ROUNDING_MODE:o,EXPONENTIAL_AT:[u,c],RANGE:[d,f],CRYPTO:g,MODULO_MODE:x,POW_PRECISION:C,FORMAT:k,ALPHABET:R}},q.isBigNumber=function(M){if(!M||M._isBigNumber!==!0)return!1;if(!q.DEBUG)return!0;var S,U,Y=M.c,W=M.e,Z=M.s;e:if({}.toString.call(Y)=="[object Array]"){if((Z===1||Z===-1)&&W>=-Yt&&W<=Yt&&W===cr(W)){if(Y[0]===0){if(W===0&&Y.length===1)return!0;break e}if(S=(W+1)%Ye,S<1&&(S+=Ye),String(Y[0]).length==S){for(S=0;S<Y.length;S++)if(U=Y[S],U<0||U>=Wn||U!==cr(U))break e;if(U!==0)return!0}}}else if(Y===null&&W===null&&(Z===null||Z===1||Z===-1))return!0;throw Error(gn+"Invalid BigNumber: "+M)},q.maximum=q.max=function(){return te(arguments,i.lt)},q.minimum=q.min=function(){return te(arguments,i.gt)},q.random=function(){var M=9007199254740992,S=Math.random()*M&2097151?function(){return cr(Math.random()*M)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(U){var Y,W,Z,O,l,p=0,h=[],m=new q(a);if(U==null?U=s:Ft(U,0,Yt),O=Hu(U/Ye),g)if(crypto.getRandomValues){for(Y=crypto.getRandomValues(new Uint32Array(O*=2));p<O;)l=Y[p]*131072+(Y[p+1]>>>11),l>=9e15?(W=crypto.getRandomValues(new Uint32Array(2)),Y[p]=W[0],Y[p+1]=W[1]):(h.push(l%1e14),p+=2);p=O/2}else if(crypto.randomBytes){for(Y=crypto.randomBytes(O*=7);p<O;)l=(Y[p]&31)*281474976710656+Y[p+1]*1099511627776+Y[p+2]*4294967296+Y[p+3]*16777216+(Y[p+4]<<16)+(Y[p+5]<<8)+Y[p+6],l>=9e15?crypto.randomBytes(7).copy(Y,p):(h.push(l%1e14),p+=7);p=O/7}else throw g=!1,Error(gn+"crypto unavailable");if(!g)for(;p<O;)l=S(),l<9e15&&(h[p++]=l%1e14);for(O=h[--p],U%=Ye,O&&U&&(l=ju[Ye-U],h[p]=cr(O/l)*l);h[p]===0;h.pop(),p--);if(p<0)h=[Z=0];else{for(Z=-1;h[0]===0;h.splice(0,1),Z-=Ye);for(p=1,l=h[0];l>=10;l/=10,p++);p<Ye&&(Z-=Ye-p)}return m.e=Z,m.c=h,m}}(),q.sum=function(){for(var M=1,S=arguments,U=new q(S[0]);M<S.length;)U=U.plus(S[M++]);return U},t=function(){var M="0123456789";function S(U,Y,W,Z){for(var O,l=[0],p,h=0,m=U.length;h<m;){for(p=l.length;p--;l[p]*=Y);for(l[0]+=Z.indexOf(U.charAt(h++)),O=0;O<l.length;O++)l[O]>W-1&&(l[O+1]==null&&(l[O+1]=0),l[O+1]+=l[O]/W|0,l[O]%=W)}return l.reverse()}return function(U,Y,W,Z,O){var l,p,h,m,T,D,_,v,y=U.indexOf("."),b=s,ee=o;for(y>=0&&(m=C,C=0,U=U.replace(".",""),v=new q(Y),D=v.pow(U.length-y),C=m,v.c=S(Tr(On(D.c),D.e,"0"),10,W,M),v.e=v.c.length),_=S(U,Y,W,O?(l=R,M):(l=M,R)),h=m=_.length;_[--m]==0;_.pop());if(!_[0])return l.charAt(0);if(y<0?--h:(D.c=_,D.e=h,D.s=Z,D=e(D,v,b,ee,W),_=D.c,T=D.r,h=D.e),p=h+b+1,y=_[p],m=W/2,T=T||p<0||_[p+1]!=null,T=ee<4?(y!=null||T)&&(ee==0||ee==(D.s<0?3:2)):y>m||y==m&&(ee==4||T||ee==6&&_[p-1]&1||ee==(D.s<0?8:7)),p<1||!_[0])U=T?Tr(l.charAt(1),-b,l.charAt(0)):l.charAt(0);else{if(_.length=p,T)for(--W;++_[--p]>W;)_[p]=0,p||(++h,_=[1].concat(_));for(m=_.length;!_[--m];);for(y=0,U="";y<=m;U+=l.charAt(_[y++]));U=Tr(U,h,l.charAt(0))}return U}}(),e=function(){function M(Y,W,Z){var O,l,p,h,m=0,T=Y.length,D=W%Hr,_=W/Hr|0;for(Y=Y.slice();T--;)p=Y[T]%Hr,h=Y[T]/Hr|0,O=_*p+h*D,l=D*p+O%Hr*Hr+m,m=(l/Z|0)+(O/Hr|0)+_*h,Y[T]=l%Z;return m&&(Y=[m].concat(Y)),Y}function S(Y,W,Z,O){var l,p;if(Z!=O)p=Z>O?1:-1;else for(l=p=0;l<Z;l++)if(Y[l]!=W[l]){p=Y[l]>W[l]?1:-1;break}return p}function U(Y,W,Z,O){for(var l=0;Z--;)Y[Z]-=l,l=Y[Z]<W[Z]?1:0,Y[Z]=l*O+Y[Z]-W[Z];for(;!Y[0]&&Y.length>1;Y.splice(0,1));}return function(Y,W,Z,O,l){var p,h,m,T,D,_,v,y,b,ee,be,w,de,pe,P,L,H,I=Y.s==W.s?1:-1,A=Y.c,E=W.c;if(!A||!A[0]||!E||!E[0])return new q(!Y.s||!W.s||(A?E&&A[0]==E[0]:!E)?NaN:A&&A[0]==0||!E?I*0:I/0);for(y=new q(I),b=y.c=[],h=Y.e-W.e,I=Z+h+1,l||(l=Wn,h=Fn(Y.e/Ye)-Fn(W.e/Ye),I=I/Ye|0),m=0;E[m]==(A[m]||0);m++);if(E[m]>(A[m]||0)&&h--,I<0)b.push(1),T=!0;else{for(pe=A.length,L=E.length,m=0,I+=2,D=cr(l/(E[0]+1)),D>1&&(E=M(E,D,l),A=M(A,D,l),L=E.length,pe=A.length),de=L,ee=A.slice(0,L),be=ee.length;be<L;ee[be++]=0);H=E.slice(),H=[0].concat(H),P=E[0],E[1]>=l/2&&P++;do{if(D=0,p=S(E,ee,L,be),p<0){if(w=ee[0],L!=be&&(w=w*l+(ee[1]||0)),D=cr(w/P),D>1)for(D>=l&&(D=l-1),_=M(E,D,l),v=_.length,be=ee.length;S(_,ee,v,be)==1;)D--,U(_,L<v?H:E,v,l),v=_.length,p=1;else D==0&&(p=D=1),_=E.slice(),v=_.length;if(v<be&&(_=[0].concat(_)),U(ee,_,be,l),be=ee.length,p==-1)for(;S(E,ee,L,be)<1;)D++,U(ee,L<be?H:E,be,l),be=ee.length}else p===0&&(D++,ee=[0]);b[m++]=D,ee[0]?ee[be++]=A[de]||0:(ee=[A[de]],be=1)}while((de++<pe||ee[0]!=null)&&I--);T=ee[0]!=null,b[0]||b.splice(0,1)}if(l==Wn){for(m=1,I=b[0];I>=10;I/=10,m++);ue(y,Z+(y.e=m+h*Ye-1)+1,O,T)}else y.e=h,y.r=+T;return y}}();function ie(M,S,U,Y){var W,Z,O,l,p;if(U==null?U=o:Ft(U,0,8),!M.c)return M.toString();if(W=M.c[0],O=M.e,S==null)p=On(M.c),p=Y==1||Y==2&&(O<=u||O>=c)?Ps(p,O):Tr(p,O,"0");else if(M=ue(new q(M),S,U),Z=M.e,p=On(M.c),l=p.length,Y==1||Y==2&&(S<=Z||Z<=u)){for(;l<S;p+="0",l++);p=Ps(p,Z)}else if(S-=O,p=Tr(p,Z,"0"),Z+1>l){if(--S>0)for(p+=".";S--;p+="0");}else if(S+=Z-l,S>0)for(Z+1==l&&(p+=".");S--;p+="0");return M.s<0&&W?"-"+p:p}function te(M,S){for(var U,Y=1,W=new q(M[0]);Y<M.length;Y++)if(U=new q(M[Y]),U.s)S.call(W,U)&&(W=U);else{W=U;break}return W}function he(M,S,U){for(var Y=1,W=S.length;!S[--W];S.pop());for(W=S[0];W>=10;W/=10,Y++);return(U=Y+U*Ye-1)>f?M.c=M.e=null:U<d?M.c=[M.e=0]:(M.e=U,M.c=S),M}r=function(){var M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,U=/^\.([^.]+)$/,Y=/^-?(Infinity|NaN)$/,W=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Z,O,l,p){var h,m=l?O:O.replace(W,"");if(Y.test(m))Z.s=isNaN(m)?null:m<0?-1:1;else{if(!l&&(m=m.replace(M,function(T,D,_){return h=(_=_.toLowerCase())=="x"?16:_=="b"?2:8,!p||p==h?D:T}),p&&(h=p,m=m.replace(S,"$1").replace(U,"0.$1")),O!=m))return new q(m,h);if(q.DEBUG)throw Error(gn+"Not a"+(p?" base "+p:"")+" number: "+O);Z.s=null}Z.c=Z.e=null}}();function ue(M,S,U,Y){var W,Z,O,l,p,h,m,T=M.c,D=ju;if(T){e:{for(W=1,l=T[0];l>=10;l/=10,W++);if(Z=S-W,Z<0)Z+=Ye,O=S,p=T[h=0],m=p/D[W-O-1]%10|0;else if(h=Hu((Z+1)/Ye),h>=T.length)if(Y){for(;T.length<=h;T.push(0));p=m=0,W=1,Z%=Ye,O=Z-Ye+1}else break e;else{for(p=l=T[h],W=1;l>=10;l/=10,W++);Z%=Ye,O=Z-Ye+W,m=O<0?0:p/D[W-O-1]%10|0}if(Y=Y||S<0||T[h+1]!=null||(O<0?p:p%D[W-O-1]),Y=U<4?(m||Y)&&(U==0||U==(M.s<0?3:2)):m>5||m==5&&(U==4||Y||U==6&&(Z>0?O>0?p/D[W-O]:0:T[h-1])%10&1||U==(M.s<0?8:7)),S<1||!T[0])return T.length=0,Y?(S-=M.e+1,T[0]=D[(Ye-S%Ye)%Ye],M.e=-S||0):T[0]=M.e=0,M;if(Z==0?(T.length=h,l=1,h--):(T.length=h+1,l=D[Ye-Z],T[h]=O>0?cr(p/D[W-O]%D[O])*l:0),Y)for(;;)if(h==0){for(Z=1,O=T[0];O>=10;O/=10,Z++);for(O=T[0]+=l,l=1;O>=10;O/=10,l++);Z!=l&&(M.e++,T[0]==Wn&&(T[0]=1));break}else{if(T[h]+=l,T[h]!=Wn)break;T[h--]=0,l=1}for(Z=T.length;T[--Z]===0;T.pop());}M.e>f?M.c=M.e=null:M.e<d&&(M.c=[M.e=0])}return M}function me(M){var S,U=M.e;return U===null?M.toString():(S=On(M.c),S=U<=u||U>=c?Ps(S,U):Tr(S,U,"0"),M.s<0?"-"+S:S)}return i.absoluteValue=i.abs=function(){var M=new q(this);return M.s<0&&(M.s=1),M},i.comparedTo=function(M,S){return zi(this,new q(M,S))},i.decimalPlaces=i.dp=function(M,S){var U,Y,W,Z=this;if(M!=null)return Ft(M,0,Yt),S==null?S=o:Ft(S,0,8),ue(new q(Z),M+Z.e+1,S);if(!(U=Z.c))return null;if(Y=((W=U.length-1)-Fn(this.e/Ye))*Ye,W=U[W])for(;W%10==0;W/=10,Y--);return Y<0&&(Y=0),Y},i.dividedBy=i.div=function(M,S){return e(this,new q(M,S),s,o)},i.dividedToIntegerBy=i.idiv=function(M,S){return e(this,new q(M,S),0,1)},i.exponentiatedBy=i.pow=function(M,S){var U,Y,W,Z,O,l,p,h,m,T=this;if(M=new q(M),M.c&&!M.isInteger())throw Error(gn+"Exponent not an integer: "+me(M));if(S!=null&&(S=new q(S)),l=M.e>14,!T.c||!T.c[0]||T.c[0]==1&&!T.e&&T.c.length==1||!M.c||!M.c[0])return m=new q(Math.pow(+me(T),l?M.s*(2-ks(M)):+me(M))),S?m.mod(S):m;if(p=M.s<0,S){if(S.c?!S.c[0]:!S.s)return new q(NaN);Y=!p&&T.isInteger()&&S.isInteger(),Y&&(T=T.mod(S))}else{if(M.e>9&&(T.e>0||T.e<-1||(T.e==0?T.c[0]>1||l&&T.c[1]>=24e7:T.c[0]<8e13||l&&T.c[0]<=9999975e7)))return Z=T.s<0&&ks(M)?-0:0,T.e>-1&&(Z=1/Z),new q(p?1/Z:Z);C&&(Z=Hu(C/Ye+2))}for(l?(U=new q(.5),p&&(M.s=1),h=ks(M)):(W=Math.abs(+me(M)),h=W%2),m=new q(a);;){if(h){if(m=m.times(T),!m.c)break;Z?m.c.length>Z&&(m.c.length=Z):Y&&(m=m.mod(S))}if(W){if(W=cr(W/2),W===0)break;h=W%2}else if(M=M.times(U),ue(M,M.e+1,1),M.e>14)h=ks(M);else{if(W=+me(M),W===0)break;h=W%2}T=T.times(T),Z?T.c&&T.c.length>Z&&(T.c.length=Z):Y&&(T=T.mod(S))}return Y?m:(p&&(m=a.div(m)),S?m.mod(S):Z?ue(m,C,o,O):m)},i.integerValue=function(M){var S=new q(this);return M==null?M=o:Ft(M,0,8),ue(S,S.e+1,M)},i.isEqualTo=i.eq=function(M,S){return zi(this,new q(M,S))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(M,S){return zi(this,new q(M,S))>0},i.isGreaterThanOrEqualTo=i.gte=function(M,S){return(S=zi(this,new q(M,S)))===1||S===0},i.isInteger=function(){return!!this.c&&Fn(this.e/Ye)>this.c.length-2},i.isLessThan=i.lt=function(M,S){return zi(this,new q(M,S))<0},i.isLessThanOrEqualTo=i.lte=function(M,S){return(S=zi(this,new q(M,S)))===-1||S===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(M,S){var U,Y,W,Z,O=this,l=O.s;if(M=new q(M,S),S=M.s,!l||!S)return new q(NaN);if(l!=S)return M.s=-S,O.plus(M);var p=O.e/Ye,h=M.e/Ye,m=O.c,T=M.c;if(!p||!h){if(!m||!T)return m?(M.s=-S,M):new q(T?O:NaN);if(!m[0]||!T[0])return T[0]?(M.s=-S,M):new q(m[0]?O:o==3?-0:0)}if(p=Fn(p),h=Fn(h),m=m.slice(),l=p-h){for((Z=l<0)?(l=-l,W=m):(h=p,W=T),W.reverse(),S=l;S--;W.push(0));W.reverse()}else for(Y=(Z=(l=m.length)<(S=T.length))?l:S,l=S=0;S<Y;S++)if(m[S]!=T[S]){Z=m[S]<T[S];break}if(Z&&(W=m,m=T,T=W,M.s=-M.s),S=(Y=T.length)-(U=m.length),S>0)for(;S--;m[U++]=0);for(S=Wn-1;Y>l;){if(m[--Y]<T[Y]){for(U=Y;U&&!m[--U];m[U]=S);--m[U],m[Y]+=Wn}m[Y]-=T[Y]}for(;m[0]==0;m.splice(0,1),--h);return m[0]?he(M,m,h):(M.s=o==3?-1:1,M.c=[M.e=0],M)},i.modulo=i.mod=function(M,S){var U,Y,W=this;return M=new q(M,S),!W.c||!M.s||M.c&&!M.c[0]?new q(NaN):!M.c||W.c&&!W.c[0]?new q(W):(x==9?(Y=M.s,M.s=1,U=e(W,M,0,3),M.s=Y,U.s*=Y):U=e(W,M,0,x),M=W.minus(U.times(M)),!M.c[0]&&x==1&&(M.s=W.s),M)},i.multipliedBy=i.times=function(M,S){var U,Y,W,Z,O,l,p,h,m,T,D,_,v,y,b,ee=this,be=ee.c,w=(M=new q(M,S)).c;if(!be||!w||!be[0]||!w[0])return!ee.s||!M.s||be&&!be[0]&&!w||w&&!w[0]&&!be?M.c=M.e=M.s=null:(M.s*=ee.s,!be||!w?M.c=M.e=null:(M.c=[0],M.e=0)),M;for(Y=Fn(ee.e/Ye)+Fn(M.e/Ye),M.s*=ee.s,p=be.length,T=w.length,p<T&&(v=be,be=w,w=v,W=p,p=T,T=W),W=p+T,v=[];W--;v.push(0));for(y=Wn,b=Hr,W=T;--W>=0;){for(U=0,D=w[W]%b,_=w[W]/b|0,O=p,Z=W+O;Z>W;)h=be[--O]%b,m=be[O]/b|0,l=_*h+m*D,h=D*h+l%b*b+v[Z]+U,U=(h/y|0)+(l/b|0)+_*m,v[Z--]=h%y;v[Z]=U}return U?++Y:v.splice(0,1),he(M,v,Y)},i.negated=function(){var M=new q(this);return M.s=-M.s||null,M},i.plus=function(M,S){var U,Y=this,W=Y.s;if(M=new q(M,S),S=M.s,!W||!S)return new q(NaN);if(W!=S)return M.s=-S,Y.minus(M);var Z=Y.e/Ye,O=M.e/Ye,l=Y.c,p=M.c;if(!Z||!O){if(!l||!p)return new q(W/0);if(!l[0]||!p[0])return p[0]?M:new q(l[0]?Y:W*0)}if(Z=Fn(Z),O=Fn(O),l=l.slice(),W=Z-O){for(W>0?(O=Z,U=p):(W=-W,U=l),U.reverse();W--;U.push(0));U.reverse()}for(W=l.length,S=p.length,W-S<0&&(U=p,p=l,l=U,S=W),W=0;S;)W=(l[--S]=l[S]+p[S]+W)/Wn|0,l[S]=Wn===l[S]?0:l[S]%Wn;return W&&(l=[W].concat(l),++O),he(M,l,O)},i.precision=i.sd=function(M,S){var U,Y,W,Z=this;if(M!=null&&M!==!!M)return Ft(M,1,Yt),S==null?S=o:Ft(S,0,8),ue(new q(Z),M,S);if(!(U=Z.c))return null;if(W=U.length-1,Y=W*Ye+1,W=U[W]){for(;W%10==0;W/=10,Y--);for(W=U[0];W>=10;W/=10,Y++);}return M&&Z.e+1>Y&&(Y=Z.e+1),Y},i.shiftedBy=function(M){return Ft(M,-Gu,Gu),this.times("1e"+M)},i.squareRoot=i.sqrt=function(){var M,S,U,Y,W,Z=this,O=Z.c,l=Z.s,p=Z.e,h=s+4,m=new q("0.5");if(l!==1||!O||!O[0])return new q(!l||l<0&&(!O||O[0])?NaN:O?Z:1/0);if(l=Math.sqrt(+me(Z)),l==0||l==1/0?(S=On(O),(S.length+p)%2==0&&(S+="0"),l=Math.sqrt(+S),p=Fn((p+1)/2)-(p<0||p%2),l==1/0?S="5e"+p:(S=l.toExponential(),S=S.slice(0,S.indexOf("e")+1)+p),U=new q(S)):U=new q(l+""),U.c[0]){for(p=U.e,l=p+h,l<3&&(l=0);;)if(W=U,U=m.times(W.plus(e(Z,W,h,1))),On(W.c).slice(0,l)===(S=On(U.c)).slice(0,l))if(U.e<p&&--l,S=S.slice(l-3,l+1),S=="9999"||!Y&&S=="4999"){if(!Y&&(ue(W,W.e+s+2,0),W.times(W).eq(Z))){U=W;break}h+=4,l+=4,Y=1}else{(!+S||!+S.slice(1)&&S.charAt(0)=="5")&&(ue(U,U.e+s+2,1),M=!U.times(U).eq(Z));break}}return ue(U,U.e+s+1,o,M)},i.toExponential=function(M,S){return M!=null&&(Ft(M,0,Yt),M++),ie(this,M,S,1)},i.toFixed=function(M,S){return M!=null&&(Ft(M,0,Yt),M=M+this.e+1),ie(this,M,S)},i.toFormat=function(M,S,U){var Y,W=this;if(U==null)M!=null&&S&&typeof S=="object"?(U=S,S=null):M&&typeof M=="object"?(U=M,M=S=null):U=k;else if(typeof U!="object")throw Error(gn+"Argument not an object: "+U);if(Y=W.toFixed(M,S),W.c){var Z,O=Y.split("."),l=+U.groupSize,p=+U.secondaryGroupSize,h=U.groupSeparator||"",m=O[0],T=O[1],D=W.s<0,_=D?m.slice(1):m,v=_.length;if(p&&(Z=l,l=p,p=Z,v-=Z),l>0&&v>0){for(Z=v%l||l,m=_.substr(0,Z);Z<v;Z+=l)m+=h+_.substr(Z,l);p>0&&(m+=h+_.slice(Z)),D&&(m="-"+m)}Y=T?m+(U.decimalSeparator||"")+((p=+U.fractionGroupSize)?T.replace(new RegExp("\\d{"+p+"}\\B","g"),"$&"+(U.fractionGroupSeparator||"")):T):m}return(U.prefix||"")+Y+(U.suffix||"")},i.toFraction=function(M){var S,U,Y,W,Z,O,l,p,h,m,T,D,_=this,v=_.c;if(M!=null&&(l=new q(M),!l.isInteger()&&(l.c||l.s!==1)||l.lt(a)))throw Error(gn+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+me(l));if(!v)return new q(_);for(S=new q(a),h=U=new q(a),Y=p=new q(a),D=On(v),Z=S.e=D.length-_.e-1,S.c[0]=ju[(O=Z%Ye)<0?Ye+O:O],M=!M||l.comparedTo(S)>0?Z>0?S:h:l,O=f,f=1/0,l=new q(D),p.c[0]=0;m=e(l,S,0,1),W=U.plus(m.times(Y)),W.comparedTo(M)!=1;)U=Y,Y=W,h=p.plus(m.times(W=h)),p=W,S=l.minus(m.times(W=S)),l=W;return W=e(M.minus(U),Y,0,1),p=p.plus(W.times(h)),U=U.plus(W.times(Y)),p.s=h.s=_.s,Z=Z*2,T=e(h,Y,Z,o).minus(_).abs().comparedTo(e(p,U,Z,o).minus(_).abs())<1?[h,Y]:[p,U],f=O,T},i.toNumber=function(){return+me(this)},i.toPrecision=function(M,S){return M!=null&&Ft(M,1,Yt),ie(this,M,S,2)},i.toString=function(M){var S,U=this,Y=U.s,W=U.e;return W===null?Y?(S="Infinity",Y<0&&(S="-"+S)):S="NaN":(M==null?S=W<=u||W>=c?Ps(On(U.c),W):Tr(On(U.c),W,"0"):M===10&&$?(U=ue(new q(U),s+W+1,o),S=Tr(On(U.c),U.e,"0")):(Ft(M,2,R.length,"Base"),S=t(Tr(On(U.c),W,"0"),10,M,Y,!0)),Y<0&&U.c[0]&&(S="-"+S)),S},i.valueOf=i.toJSON=function(){return me(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,n!=null&&q.set(n),q}function Fn(n){var e=n|0;return n>0||n===e?e:e-1}function On(n){for(var e,t,r=1,i=n.length,a=n[0]+"";r<i;){for(e=n[r++]+"",t=Ye-e.length;t--;e="0"+e);a+=e}for(i=a.length;a.charCodeAt(--i)===48;);return a.slice(0,i+1||1)}function zi(n,e){var t,r,i=n.c,a=e.c,s=n.s,o=e.s,u=n.e,c=e.e;if(!s||!o)return null;if(t=i&&!i[0],r=a&&!a[0],t||r)return t?r?0:-o:s;if(s!=o)return s;if(t=s<0,r=u==c,!i||!a)return r?0:!i^t?1:-1;if(!r)return u>c^t?1:-1;for(o=(u=i.length)<(c=a.length)?u:c,s=0;s<o;s++)if(i[s]!=a[s])return i[s]>a[s]^t?1:-1;return u==c?0:u>c^t?1:-1}function Ft(n,e,t,r){if(n<e||n>t||n!==cr(n))throw Error(gn+(r||"Argument")+(typeof n=="number"?n<e||n>t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function ks(n){var e=n.c.length-1;return Fn(n.e/Ye)==e&&n.c[e]%2!=0}function Ps(n,e){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(e<0?"e":"e+")+e}function Tr(n,e,t){var r,i;if(e<0){for(i=t+".";++e;i+=t);n=i+n}else if(r=n.length,++e>r){for(i=t,e-=r;--e;i+=t);n+=i}else e<r&&(n=n.slice(0,e)+"."+n.slice(e));return n}var on=jh(),He;(function(n){n[n.mainnet=2020]="mainnet",n[n.testnet=2021]="testnet"})(He||(He={}));const _x=[He.mainnet,He.testnet],kx={[He.mainnet]:"0xb255d6a720bb7c39fee173ce22113397119cb930",[He.testnet]:"0x86587380c4c815ba0066c90adb2b45cc9c15e72c"};He.mainnet+"",He.testnet+"";He.mainnet+"",He.testnet+"";He.mainnet+"",He.testnet+"";const Px={v3CoreFactoryAddress:"0x1f0B70d9A137e3cAEF0ceAcD312BC5f81Da0cC0c",multicallAddress:"0x48365CcA8769c926ffbFE5B43f0e360363e8ee70",quoterAddress:"0x84Ab2f9Fdc4Bf66312b0819D879437b8749EfDf2",v3MigratorAddress:"0x0124c9Ce7E77eD166f6d53AF679B491555b5C0F7",nonfungiblePositionManagerAddress:"0x7cF0fb64d72b733695d77d197c664e90D07cF45A",tickLensAddress:"0x05Ad77F1e419Dac0B580a2Ca08CB1e3e33F946Ee",swapRouter02Address:"0xC05AFC8c9353c1dd5f872EcCFaCD60fd5A2a9aC7",mixedRouteQuoterV1Address:"0xebdC1bb4DF7627573A480bBEEB30e8919d21BC90",permit2Address:"0x771CA29e483Df5447E20a89e0F00E1DAF09eF534",universalRouterAddress:"0x5F0aCDD3eC767514fF1BF7e79949640bf94576BD"},Sx={v3CoreFactoryAddress:"0x4E7236ff45d69395DDEFE1445040A8f3C7CD8819",multicallAddress:"0x5938EF96F0C7c75CED7132D083ff08362C7FF70a",quoterAddress:"0x953368BB464010A5E24f8c3da79C3EC5C0073568",v3MigratorAddress:"0x8cF4743642acF849eff54873e24d46D0f3437593",nonfungiblePositionManagerAddress:"0x7C2716803c09cd5eeD78Ba40117084af3c803565",tickLensAddress:"0x812F9B77473D8847767cfFF087B49b628458fc65",swapRouter02Address:"0x3BD36748D17e322cFB63417B059Bcc1059012D83",mixedRouteQuoterV1Address:"0x7eA0900b2F3aA0859BDB826B4009C9195C85A016",permit2Address:"0xCcf4a457E775f317e0Cf306EFDda14Cc8084F82C",universalRouterAddress:"0x2A50959B27387b4452198d7783A3d353858563a4"},Ix={[He.mainnet]:Px,[He.testnet]:Sx},Cx=_x.reduce((n,e)=>{const t=Ix[e].universalRouterAddress;return t&&(n[e]=t),n},{}),Rx={[He.mainnet]:"0xe85772d2fe4ad93037659afaee57751696456eb5dd99987e43f3cf11c6e255a2",[He.testnet]:"0x1cc97ead4d6949b7a6ecb28652b21159b9fd5608ae51a1960224099caab07dca"};He.mainnet+"",He.testnet+"";const Zi=F.BigInt(0),Ox=F.BigInt(1),lf=F.BigInt(997),df=F.BigInt(1e3),Nx=new ft(Zi);var Fi;(function(n){n.sha256="sha256",n.sha512="sha512"})(Fi||(Fi={}));const Mx="sha2/5.8.0",Fx=new se(Mx);function Vl(n){return"0x"+bn.ripemd160().update(Ce(n)).digest("hex")}function mr(n){return"0x"+bn.sha256().update(Ce(n)).digest("hex")}function Wh(n){return"0x"+bn.sha512().update(Ce(n)).digest("hex")}function ca(n,e,t){return Fi[n]||Fx.throwError("unsupported algorithm "+n,se.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:n}),"0x"+bn.hmac(bn[n],Ce(e)).update(Ce(t)).digest("hex")}const Dx=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return Fi},computeHmac:ca,ripemd160:Vl,sha256:mr,sha512:Wh},Symbol.toStringTag,{value:"Module"})),Bx="solidity/5.8.0",Lx=new RegExp("^bytes([0-9]+)$"),Ux=new RegExp("^(u?int)([0-9]*)$"),qx=new RegExp("^(.*)\\[([0-9]*)\\]$"),$x="0000000000000000000000000000000000000000000000000000000000000000",Ji=new se(Bx);function zh(n,e,t){switch(n){case"address":return t?_i(e,32):Ce(e);case"string":return jt(e);case"bytes":return Ce(e);case"bool":return e=e?"0x01":"0x00",t?_i(e,32):Ce(e)}let r=n.match(Ux);if(r){let i=parseInt(r[2]||"256");return(r[2]&&String(i)!==r[2]||i%8!==0||i===0||i>256)&&Ji.throwArgumentError("invalid number type","type",n),t&&(i=256),e=Oe.from(e).toTwos(i),_i(e,i/8)}if(r=n.match(Lx),r){const i=parseInt(r[1]);return(String(i)!==r[1]||i===0||i>32)&&Ji.throwArgumentError("invalid bytes type","type",n),Ce(e).byteLength!==i&&Ji.throwArgumentError(`invalid value for ${n}`,"value",e),t?Ce((e+$x).substring(0,66)):e}if(r=n.match(qx),r&&Array.isArray(e)){const i=r[1];parseInt(r[2]||String(e.length))!=e.length&&Ji.throwArgumentError(`invalid array length for ${n}`,"value",e);const s=[];return e.forEach(function(o){s.push(zh(i,o,!0))}),Nt(s)}return Ji.throwArgumentError("invalid type","type",n)}function Di(n,e){n.length!=e.length&&Ji.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return n.forEach(function(r,i){t.push(zh(r,e[i]))}),$e(Nt(t))}function Xo(n,e){return Pt(Di(n,e))}function Vh(n,e){return mr(Di(n,e))}const Hx=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Xo,pack:Di,sha256:Vh},Symbol.toStringTag,{value:"Module"}));var Gx="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",Kh=Uh,Xh="0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f",Qh=F.BigInt(1e3),an=F.BigInt(0),sa=F.BigInt(1),jx=F.BigInt(5),ff=F.BigInt(997),pf=F.BigInt(1e3),hf=F.BigInt(1e4),sr=new ft(an),yf=new ft(sa);function Wx(n,e,t){if(Yh())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(n.bind.apply(n,r));return t&&ts(i,t.prototype),i}function Yh(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yh=function(){return!!n})()}function zx(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Vx(n){var e=zx(n,"string");return typeof e=="symbol"?e:String(e)}function Kx(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Vx(r.key),r)}}function Zh(n,e,t){return e&&Kx(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Jh(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ts(n,e)}function Bc(n){return Bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bc(n)}function ts(n,e){return ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ts(n,e)}function Xx(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function uo(n){var e=typeof Map=="function"?new Map:void 0;return uo=function(r){if(r===null||!Xx(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Wx(r,arguments,Bc(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ts(i,r)},uo(n)}function ey(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qx(n,e){if(n){if(typeof n=="string")return mf(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mf(n,e)}}function mf(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function gf(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=Qx(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ty="setPrototypeOf"in Object,ns=function(n){Jh(e,n);function e(){var t;return t=n.call(this)||this,t.isInsufficientReservesError=!0,t.name=t.constructor.name,ty&&Object.setPrototypeOf(ey(t),(this instanceof e?this.constructor:void 0).prototype),t}return e}(uo(Error)),Ga=function(n){Jh(e,n);function e(){var t;return t=n.call(this)||this,t.isInsufficientInputAmountError=!0,t.name=t.constructor.name,ty&&Object.setPrototypeOf(ey(t),(this instanceof e?this.constructor:void 0).prototype),t}return e}(uo(Error)),ny=function(e){var t=e.factoryAddress,r=e.tokenA,i=e.tokenB,a=r.sortsBefore(i)?[r,i]:[i,r],s=a[0],o=a[1];return El(t,Xo(["bytes"],[Di(["address","address"],[s.address,o.address])]),Xh)},co=function(){function n(t,r){var i=t.currency.sortsBefore(r.currency)?[t,r]:[r,t];this.liquidityToken=new Je(i[0].currency.chainId,n.getAddress(i[0].currency,i[1].currency),18,"UNI-V2","Uniswap V2"),this.tokenAmounts=i}n.getAddress=function(r,i){var a,s=(a=Kh[r.chainId])!=null?a:Gx;return ny({factoryAddress:s,tokenA:r,tokenB:i})};var e=n.prototype;return e.involvesToken=function(r){return r.equals(this.token0)||r.equals(this.token1)},e.priceOf=function(r){return this.involvesToken(r)||Ae(!1),r.equals(this.token0)?this.token0Price:this.token1Price},e.reserveOf=function(r){return this.involvesToken(r)||Ae(!1),r.equals(this.token0)?this.reserve0:this.reserve1},e.getOutputAmount=function(r,i){if(i===void 0&&(i=!0),this.involvesToken(r.currency)||Ae(!1),F.equal(this.reserve0.quotient,an)||F.equal(this.reserve1.quotient,an))throw new ns;var a=this.reserveOf(r.currency),s=this.reserveOf(r.currency.equals(this.token0)?this.token1:this.token0),o=i?this.derivePercentAfterSellFees(r):sr,u=o.greaterThan(sr)?Ne.fromRawAmount(r.currency,o.multiply(r).quotient):r,c=F.multiply(u.quotient,ff),d=F.multiply(c,s.quotient),f=F.add(F.multiply(a.quotient,pf),c),g=Ne.fromRawAmount(r.currency.equals(this.token0)?this.token1:this.token0,F.divide(d,f));if(F.equal(g.quotient,an))throw new Ga;var x=i?this.derivePercentAfterBuyFees(g):sr,C=x.greaterThan(sr)?Ne.fromRawAmount(g.currency,g.multiply(x).quotient):g;if(F.equal(C.quotient,an))throw new Ga;return[C,new n(a.add(u),s.subtract(C))]},e.getInputAmount=function(r,i){i===void 0&&(i=!0),this.involvesToken(r.currency)||Ae(!1);var a=i?this.derivePercentAfterBuyFees(r):sr,s=a.greaterThan(sr)?Ne.fromRawAmount(r.currency,F.add(r.divide(a).quotient,sa)):r;if(F.equal(this.reserve0.quotient,an)||F.equal(this.reserve1.quotient,an)||F.greaterThanOrEqual(r.quotient,this.reserveOf(r.currency).quotient)||F.greaterThanOrEqual(s.quotient,this.reserveOf(r.currency).quotient))throw new ns;var o=this.reserveOf(r.currency),u=this.reserveOf(r.currency.equals(this.token0)?this.token1:this.token0),c=F.multiply(F.multiply(u.quotient,s.quotient),pf),d=F.multiply(F.subtract(o.quotient,s.quotient),ff),f=Ne.fromRawAmount(r.currency.equals(this.token0)?this.token1:this.token0,F.add(F.divide(c,d),sa)),g=i?this.derivePercentAfterSellFees(f):sr,x=g.greaterThan(sr)?Ne.fromRawAmount(f.currency,F.add(f.divide(g).quotient,sa)):f;return[x,new n(u.add(f),o.subtract(r))]},e.getLiquidityMinted=function(r,i,a){r.currency.equals(this.liquidityToken)||Ae(!1);var s=i.currency.sortsBefore(a.currency)?[i,a]:[a,i];s[0].currency.equals(this.token0)&&s[1].currency.equals(this.token1)||Ae(!1);var o;if(F.equal(r.quotient,an))o=F.subtract(Ha(F.multiply(s[0].quotient,s[1].quotient)),Qh);else{var u=F.divide(F.multiply(s[0].quotient,r.quotient),this.reserve0.quotient),c=F.divide(F.multiply(s[1].quotient,r.quotient),this.reserve1.quotient);o=F.lessThanOrEqual(u,c)?u:c}if(!F.greaterThan(o,an))throw new Ga;return Ne.fromRawAmount(this.liquidityToken,o)},e.getLiquidityValue=function(r,i,a,s,o){s===void 0&&(s=!1),this.involvesToken(r)||Ae(!1),i.currency.equals(this.liquidityToken)||Ae(!1),a.currency.equals(this.liquidityToken)||Ae(!1),F.lessThanOrEqual(a.quotient,i.quotient)||Ae(!1);var u;if(!s)u=i;else{o||Ae(!1);var c=F.BigInt(o);if(F.equal(c,an))u=i;else{var d=Ha(F.multiply(this.reserve0.quotient,this.reserve1.quotient)),f=Ha(c);if(F.greaterThan(d,f)){var g=F.multiply(i.quotient,F.subtract(d,f)),x=F.add(F.multiply(d,jx),f),C=F.divide(g,x);u=i.add(Ne.fromRawAmount(this.liquidityToken,C))}else u=i}}return Ne.fromRawAmount(r,F.divide(F.multiply(a.quotient,this.reserveOf(r).quotient),u.quotient))},e.derivePercentAfterSellFees=function(r){var i=this.token0.wrapped.equals(r.wrapped.currency)?this.token0.wrapped.sellFeeBps:this.token1.wrapped.sellFeeBps;return i!=null&&i.gt(Oe.from(0))?yf.subtract(new ft(F.BigInt(i)).divide(hf)):sr},e.derivePercentAfterBuyFees=function(r){var i=this.token0.wrapped.equals(r.wrapped.currency)?this.token0.wrapped.buyFeeBps:this.token1.wrapped.buyFeeBps;return i!=null&&i.gt(Oe.from(0))?yf.subtract(new ft(F.BigInt(i)).divide(hf)):sr},Zh(n,[{key:"token0Price",get:function(){var r=this.tokenAmounts[1].divide(this.tokenAmounts[0]);return new Ot(this.token0,this.token1,r.denominator,r.numerator)}},{key:"token1Price",get:function(){var r=this.tokenAmounts[0].divide(this.tokenAmounts[1]);return new Ot(this.token1,this.token0,r.denominator,r.numerator)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"token0",get:function(){return this.tokenAmounts[0].currency}},{key:"token1",get:function(){return this.tokenAmounts[1].currency}},{key:"reserve0",get:function(){return this.tokenAmounts[0]}},{key:"reserve1",get:function(){return this.tokenAmounts[1]}}]),n}(),lo=function(){function n(e,t,r){this._midPrice=null,e.length>0||Ae(!1);var i=e[0].chainId;e.every(function(C){return C.chainId===i})||Ae(!1);var a=t.wrapped;e[0].involvesToken(a)||Ae(!1),typeof r>"u"||e[e.length-1].involvesToken(r.wrapped)||Ae(!1);for(var s=[a],o=gf(e.entries()),u;!(u=o()).done;){var c=u.value,d=c[0],f=c[1],g=s[d];g.equals(f.token0)||g.equals(f.token1)||Ae(!1);var x=g.equals(f.token0)?f.token1:f.token0;s.push(x)}this.pairs=e,this.path=s,this.input=t,this.output=r}return Zh(n,[{key:"midPrice",get:function(){if(this._midPrice!==null)return this._midPrice;for(var t=[],r=gf(this.pairs.entries()),i;!(i=r()).done;){var a=i.value,s=a[0],o=a[1];t.push(this.path[s].equals(o.token0)?new Ot(o.reserve0.currency,o.reserve1.currency,o.reserve0.quotient,o.reserve1.quotient):new Ot(o.reserve1.currency,o.reserve0.currency,o.reserve1.quotient,o.reserve0.quotient))}var u=t.slice(1).reduce(function(c,d){return c.multiply(d)},t[0]);return this._midPrice=new Ot(this.input,this.output,u.denominator,u.numerator)}},{key:"chainId",get:function(){return this.pairs[0].chainId}}]),n}();function ry(n,e){return n.inputAmount.currency.equals(e.inputAmount.currency)||Ae(!1),n.outputAmount.currency.equals(e.outputAmount.currency)||Ae(!1),n.outputAmount.equalTo(e.outputAmount)?n.inputAmount.equalTo(e.inputAmount)?0:n.inputAmount.lessThan(e.inputAmount)?-1:1:n.outputAmount.lessThan(e.outputAmount)?1:-1}function Lc(n,e){var t=ry(n,e);return t!==0?t:n.priceImpact.lessThan(e.priceImpact)?-1:n.priceImpact.greaterThan(e.priceImpact)?1:n.route.path.length-e.route.path.length}var Yx=function(){function n(t,r,i){this.route=t,this.tradeType=i;var a=new Array(t.path.length);if(i===et.EXACT_INPUT){r.currency.equals(t.input)||Ae(!1),a[0]=r.wrapped;for(var s=0;s<t.path.length-1;s++){var o=t.pairs[s],u=o.getOutputAmount(a[s]),c=u[0];a[s+1]=c}this.inputAmount=Ne.fromFractionalAmount(t.input,r.numerator,r.denominator),this.outputAmount=Ne.fromFractionalAmount(t.output,a[a.length-1].numerator,a[a.length-1].denominator)}else{r.currency.equals(t.output)||Ae(!1),a[a.length-1]=r.wrapped;for(var d=t.path.length-1;d>0;d--){var f=t.pairs[d-1],g=f.getInputAmount(a[d]),x=g[0];a[d-1]=x}this.inputAmount=Ne.fromFractionalAmount(t.input,a[0].numerator,a[0].denominator),this.outputAmount=Ne.fromFractionalAmount(t.output,r.numerator,r.denominator)}this.executionPrice=new Ot(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient),this.priceImpact=Hh(t.midPrice,this.inputAmount,this.outputAmount)}n.exactIn=function(r,i){return new n(r,i,et.EXACT_INPUT)},n.exactOut=function(r,i){return new n(r,i,et.EXACT_OUTPUT)};var e=n.prototype;return e.minimumAmountOut=function(r){if(r.lessThan(an)&&Ae(!1),this.tradeType===et.EXACT_OUTPUT)return this.outputAmount;var i=new Un(sa).add(r).invert().multiply(this.outputAmount.quotient).quotient;return Ne.fromRawAmount(this.outputAmount.currency,i)},e.maximumAmountIn=function(r){if(r.lessThan(an)&&Ae(!1),this.tradeType===et.EXACT_INPUT)return this.inputAmount;var i=new Un(sa).add(r).multiply(this.inputAmount.quotient).quotient;return Ne.fromRawAmount(this.inputAmount.currency,i)},n.bestTradeExactIn=function(r,i,a,s,o,u,c){var d=s===void 0?{}:s,f=d.maxNumResults,g=f===void 0?3:f,x=d.maxHops,C=x===void 0?3:x;o===void 0&&(o=[]),u===void 0&&(u=i),c===void 0&&(c=[]),r.length>0||Ae(!1),C>0||Ae(!1),i===u||o.length>0||Ae(!1);for(var k=u.wrapped,R=a.wrapped,$=0;$<r.length;$++){var q=r[$];if(!(!q.token0.equals(k.currency)&&!q.token1.equals(k.currency))&&!(q.reserve0.equalTo(an)||q.reserve1.equalTo(an))){var ie=void 0;try{var te=q.getOutputAmount(k);ie=te[0]}catch(ue){if(ue.isInsufficientInputAmountError)continue;throw ue}if(ie.currency.equals(R))es(c,new n(new lo([].concat(o,[q]),i.currency,a),i,et.EXACT_INPUT),g,Lc);else if(C>1&&r.length>1){var he=r.slice(0,$).concat(r.slice($+1,r.length));n.bestTradeExactIn(he,i,a,{maxNumResults:g,maxHops:C-1},[].concat(o,[q]),ie,c)}}}return c},e.worstExecutionPrice=function(r){return new Ot(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(r).quotient,this.minimumAmountOut(r).quotient)},n.bestTradeExactOut=function(r,i,a,s,o,u,c){var d=s===void 0?{}:s,f=d.maxNumResults,g=f===void 0?3:f,x=d.maxHops,C=x===void 0?3:x;o===void 0&&(o=[]),u===void 0&&(u=a),c===void 0&&(c=[]),r.length>0||Ae(!1),C>0||Ae(!1),a===u||o.length>0||Ae(!1);for(var k=u.wrapped,R=i.wrapped,$=0;$<r.length;$++){var q=r[$];if(!(!q.token0.equals(k.currency)&&!q.token1.equals(k.currency))&&!(q.reserve0.equalTo(an)||q.reserve1.equalTo(an))){var ie=void 0;try{var te=q.getInputAmount(k);ie=te[0]}catch(ue){if(ue.isInsufficientReservesError)continue;throw ue}if(ie.currency.equals(R))es(c,new n(new lo([q].concat(o),i,a.currency),a,et.EXACT_OUTPUT),g,Lc);else if(C>1&&r.length>1){var he=r.slice(0,$).concat(r.slice($+1,r.length));n.bestTradeExactOut(he,i,a,{maxNumResults:g,maxHops:C-1},[q].concat(o),ie,c)}}}return c},n}();function bf(n){return"0x"+n.quotient.toString(16)}var Ss="0x0",Zx=function(){function n(){}return n.swapCallParameters=function(t,r){var i=t.inputAmount.currency.isNative,a=t.outputAmount.currency.isNative;i&&a&&Ae(!1),!("ttl"in r)||r.ttl>0||Ae(!1);var s=cn(r.recipient),o=bf(t.maximumAmountIn(r.allowedSlippage)),u=bf(t.minimumAmountOut(r.allowedSlippage)),c=t.route.path.map(function(k){return k.address}),d="ttl"in r?"0x"+(Math.floor(new Date().getTime()/1e3)+r.ttl).toString(16):"0x"+r.deadline.toString(16),f=!!r.feeOnTransfer,g,x,C;switch(t.tradeType){case et.EXACT_INPUT:i?(g=f?"swapExactETHForTokensSupportingFeeOnTransferTokens":"swapExactETHForTokens",x=[u,c,s,d],C=o):a?(g=f?"swapExactTokensForETHSupportingFeeOnTransferTokens":"swapExactTokensForETH",x=[o,u,c,s,d],C=Ss):(g=f?"swapExactTokensForTokensSupportingFeeOnTransferTokens":"swapExactTokensForTokens",x=[o,u,c,s,d],C=Ss);break;case et.EXACT_OUTPUT:f&&Ae(!1),i?(g="swapETHForExactTokens",x=[u,c,s,d],C=o):a?(g="swapTokensForExactETH",x=[u,o,c,s,d],C=Ss):(g="swapTokensForExactTokens",x=[u,o,c,s,d],C=Ss);break}return{methodName:g,args:x,value:C}},n}();const Jx=Object.freeze(Object.defineProperty({__proto__:null,FACTORY_ADDRESS_MAP:Kh,INIT_CODE_HASH:Xh,InsufficientInputAmountError:Ga,InsufficientReservesError:ns,MINIMUM_LIQUIDITY:Qh,Pair:co,Route:lo,Router:Zx,Trade:Yx,computePairAddress:ny,inputOutputComparator:ry,tradeComparator:Lc},Symbol.toStringTag,{value:"Module"}));var ev="Invariant failed";function Uc(n,e){throw new Error(ev)}const tv="address/5.0.2",Ti=new se(tv);function xf(n){mt(n,20)||Ti.throwArgumentError("invalid address","address",n),n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=Ce(Pt(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const nv=9007199254740991;function rv(n){return Math.log10?Math.log10(n):Math.log(n)/Math.LN10}const Kl={};for(let n=0;n<10;n++)Kl[String(n)]=String(n);for(let n=0;n<26;n++)Kl[String.fromCharCode(65+n)]=String(10+n);const vf=Math.floor(rv(nv));function iv(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>Kl[r]).join("");for(;e.length>=vf;){let r=e.substring(0,vf);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Tf(n){let e=null;if(typeof n!="string"&&Ti.throwArgumentError("invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/))n.substring(0,2)!=="0x"&&(n="0x"+n),e=xf(n),n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==n&&Ti.throwArgumentError("bad address checksum","address",n);else if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(n.substring(2,4)!==iv(n)&&Ti.throwArgumentError("bad icap checksum","address",n),e=new Mg.BN(n.substring(4),36).toString(16);e.length<40;)e="0"+e;e=xf("0x"+e)}else Ti.throwArgumentError("invalid address","address",n);return e}function av(n,e,t){return pr(e)!==32&&Ti.throwArgumentError("salt must be 32 bytes","salt",e),pr(t)!==32&&Ti.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Tf(Qt(Pt(Nt(["0xff",Tf(n),e,t])),12))}const sv=new RegExp("^bytes([0-9]+)$"),ov=new RegExp("^(u?int)([0-9]*)$"),uv=new RegExp("^(.*)\\[([0-9]*)\\]$"),cv="0000000000000000000000000000000000000000000000000000000000000000";function iy(n,e,t){switch(n){case"address":return t?_i(e,32):Ce(e);case"string":return jt(e);case"bytes":return Ce(e);case"bool":return e=e?"0x01":"0x00",t?_i(e,32):Ce(e)}let r=n.match(ov);if(r){let i=parseInt(r[2]||"256");if(r[2]&&String(i)!==r[2]||i%8!==0||i===0||i>256)throw new Error("invalid number type - "+n);return t&&(i=256),e=Oe.from(e).toTwos(i),_i(e,i/8)}if(r=n.match(sv),r){const i=parseInt(r[1]);if(String(i)!==r[1]||i===0||i>32)throw new Error("invalid bytes type - "+n);if(Ce(e).byteLength!==i)throw new Error("invalid value for "+n);return t?Ce((e+cv).substring(0,66)):e}if(r=n.match(uv),r&&Array.isArray(e)){const i=r[1];if(parseInt(r[2]||String(e.length))!=e.length)throw new Error("invalid value for "+n);const s=[];return e.forEach(function(o){s.push(iy(i,o,!0))}),Nt(s)}throw new Error("invalid type - "+n)}function ay(n,e){if(n.length!=e.length)throw new Error("type/value count mismatch");const t=[];return n.forEach(function(r,i){t.push(iy(r,e[i]))}),$e(Nt(t))}function lv(n,e){return Pt(ay(n,e))}const dv=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}],fv={abi:dv},pv=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"},{internalType:"address",name:"_tokenDescriptor_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Collect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"DecreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"IncreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Max",type:"uint128"},{internalType:"uint128",name:"amount1Max",type:"uint128"}],internalType:"struct INonfungiblePositionManager.CollectParams",name:"params",type:"tuple"}],name:"collect",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"}],name:"createAndInitializePoolIfNecessary",outputs:[{internalType:"address",name:"pool",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.DecreaseLiquidityParams",name:"params",type:"tuple"}],name:"decreaseLiquidity",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"positions",outputs:[{internalType:"uint96",name:"nonce",type:"uint96"},{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Owed",type:"uint256"},{internalType:"uint256",name:"amount1Owed",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"uniswapV3MintCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],hv={abi:pv},yv=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"}],mv={abi:yv},gv=[{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"}],bv={abi:gv},xv=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"view",type:"function"}],vv={abi:xv},Tv=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactInputSingleParams",name:"params",type:"tuple"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactOutputSingleParams",name:"params",type:"tuple"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"view",type:"function"}],wv={abi:Tv},Av=[{inputs:[{internalType:"contract IUniswapV3Factory",name:"_factory",type:"address"},{internalType:"contract INonfungiblePositionManager",name:"_nonfungiblePositionManager",type:"address"},{internalType:"uint256",name:"_maxIncentiveStartLeadTime",type:"uint256"},{internalType:"uint256",name:"_maxIncentiveDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"DepositTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{indexed:!0,internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"},{indexed:!1,internalType:"address",name:"refundee",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"IncentiveCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"incentiveId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"refund",type:"uint256"}],name:"IncentiveEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"incentiveId",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"}],name:"TokenStaked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"incentiveId",type:"bytes32"}],name:"TokenUnstaked",type:"event"},{inputs:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amountRequested",type:"uint256"}],name:"claimReward",outputs:[{internalType:"uint256",name:"reward",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"reward",type:"uint256"}],name:"createIncentive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"deposits",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint48",name:"numberOfStakes",type:"uint48"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"}],name:"endIncentive",outputs:[{internalType:"uint256",name:"refund",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"contract IUniswapV3Factory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRewardInfo",outputs:[{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"uint160",name:"secondsInsideX128",type:"uint160"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"incentives",outputs:[{internalType:"uint256",name:"totalRewardUnclaimed",type:"uint256"},{internalType:"uint160",name:"totalSecondsClaimedX128",type:"uint160"},{internalType:"uint96",name:"numberOfStakes",type:"uint96"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxIncentiveDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxIncentiveStartLeadTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"nonfungiblePositionManager",outputs:[{internalType:"contract INonfungiblePositionManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20Minimal",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"stakeToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"incentiveId",type:"bytes32"}],name:"stakes",outputs:[{internalType:"uint160",name:"secondsPerLiquidityInsideInitialX128",type:"uint160"},{internalType:"uint128",name:"liquidity",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"transferDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"unstakeToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"withdrawToken",outputs:[],stateMutability:"nonpayable",type:"function"}],Ev={abi:Av},_v=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct ISwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct ISwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],kv={abi:_v};function dt(){dt=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(p,h,m){p[h]=m.value},a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(p,h,m){return Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}),p[h]}try{c({},"")}catch{c=function(h,m,T){return h[m]=T}}function d(p,h,m,T){var D=h&&h.prototype instanceof $?h:$,_=Object.create(D.prototype),v=new O(T||[]);return i(_,"_invoke",{value:U(p,m,v)}),_}function f(p,h,m){try{return{type:"normal",arg:p.call(h,m)}}catch(T){return{type:"throw",arg:T}}}e.wrap=d;var g="suspendedStart",x="suspendedYield",C="executing",k="completed",R={};function $(){}function q(){}function ie(){}var te={};c(te,s,function(){return this});var he=Object.getPrototypeOf,ue=he&&he(he(l([])));ue&&ue!==t&&r.call(ue,s)&&(te=ue);var me=ie.prototype=$.prototype=Object.create(te);function M(p){["next","throw","return"].forEach(function(h){c(p,h,function(m){return this._invoke(h,m)})})}function S(p,h){function m(D,_,v,y){var b=f(p[D],p,_);if(b.type!=="throw"){var ee=b.arg,be=ee.value;return be&&typeof be=="object"&&r.call(be,"__await")?h.resolve(be.__await).then(function(w){m("next",w,v,y)},function(w){m("throw",w,v,y)}):h.resolve(be).then(function(w){ee.value=w,v(ee)},function(w){return m("throw",w,v,y)})}y(b.arg)}var T;i(this,"_invoke",{value:function(D,_){function v(){return new h(function(y,b){m(D,_,y,b)})}return T=T?T.then(v,v):v()}})}function U(p,h,m){var T=g;return function(D,_){if(T===C)throw new Error("Generator is already running");if(T===k){if(D==="throw")throw _;return{value:n,done:!0}}for(m.method=D,m.arg=_;;){var v=m.delegate;if(v){var y=Y(v,m);if(y){if(y===R)continue;return y}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(T===g)throw T=k,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);T=C;var b=f(p,h,m);if(b.type==="normal"){if(T=m.done?k:x,b.arg===R)continue;return{value:b.arg,done:m.done}}b.type==="throw"&&(T=k,m.method="throw",m.arg=b.arg)}}}function Y(p,h){var m=h.method,T=p.iterator[m];if(T===n)return h.delegate=null,m==="throw"&&p.iterator.return&&(h.method="return",h.arg=n,Y(p,h),h.method==="throw")||m!=="return"&&(h.method="throw",h.arg=new TypeError("The iterator does not provide a '"+m+"' method")),R;var D=f(T,p.iterator,h.arg);if(D.type==="throw")return h.method="throw",h.arg=D.arg,h.delegate=null,R;var _=D.arg;return _?_.done?(h[p.resultName]=_.value,h.next=p.nextLoc,h.method!=="return"&&(h.method="next",h.arg=n),h.delegate=null,R):_:(h.method="throw",h.arg=new TypeError("iterator result is not an object"),h.delegate=null,R)}function W(p){var h={tryLoc:p[0]};1 in p&&(h.catchLoc=p[1]),2 in p&&(h.finallyLoc=p[2],h.afterLoc=p[3]),this.tryEntries.push(h)}function Z(p){var h=p.completion||{};h.type="normal",delete h.arg,p.completion=h}function O(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(W,this),this.reset(!0)}function l(p){if(p||p===""){var h=p[s];if(h)return h.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var m=-1,T=function D(){for(;++m<p.length;)if(r.call(p,m))return D.value=p[m],D.done=!1,D;return D.value=n,D.done=!0,D};return T.next=T}}throw new TypeError(typeof p+" is not iterable")}return q.prototype=ie,i(me,"constructor",{value:ie,configurable:!0}),i(ie,"constructor",{value:q,configurable:!0}),q.displayName=c(ie,u,"GeneratorFunction"),e.isGeneratorFunction=function(p){var h=typeof p=="function"&&p.constructor;return!!h&&(h===q||(h.displayName||h.name)==="GeneratorFunction")},e.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,ie):(p.__proto__=ie,c(p,u,"GeneratorFunction")),p.prototype=Object.create(me),p},e.awrap=function(p){return{__await:p}},M(S.prototype),c(S.prototype,o,function(){return this}),e.AsyncIterator=S,e.async=function(p,h,m,T,D){D===void 0&&(D=Promise);var _=new S(d(p,h,m,T),D);return e.isGeneratorFunction(h)?_:_.next().then(function(v){return v.done?v.value:_.next()})},M(me),c(me,u,"Generator"),c(me,s,function(){return this}),c(me,"toString",function(){return"[object Generator]"}),e.keys=function(p){var h=Object(p),m=[];for(var T in h)m.push(T);return m.reverse(),function D(){for(;m.length;){var _=m.pop();if(_ in h)return D.value=_,D.done=!1,D}return D.done=!0,D}},e.values=l,O.prototype={constructor:O,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Z),!p)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=n)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var h=this;function m(b,ee){return _.type="throw",_.arg=p,h.next=b,ee&&(h.method="next",h.arg=n),!!ee}for(var T=this.tryEntries.length-1;T>=0;--T){var D=this.tryEntries[T],_=D.completion;if(D.tryLoc==="root")return m("end");if(D.tryLoc<=this.prev){var v=r.call(D,"catchLoc"),y=r.call(D,"finallyLoc");if(v&&y){if(this.prev<D.catchLoc)return m(D.catchLoc,!0);if(this.prev<D.finallyLoc)return m(D.finallyLoc)}else if(v){if(this.prev<D.catchLoc)return m(D.catchLoc,!0)}else{if(!y)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return m(D.finallyLoc)}}}},abrupt:function(p,h){for(var m=this.tryEntries.length-1;m>=0;--m){var T=this.tryEntries[m];if(T.tryLoc<=this.prev&&r.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var D=T;break}}D&&(p==="break"||p==="continue")&&D.tryLoc<=h&&h<=D.finallyLoc&&(D=null);var _=D?D.completion:{};return _.type=p,_.arg=h,D?(this.method="next",this.next=D.finallyLoc,R):this.complete(_)},complete:function(p,h){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&h&&(this.next=h),R},finish:function(p){for(var h=this.tryEntries.length-1;h>=0;--h){var m=this.tryEntries[h];if(m.finallyLoc===p)return this.complete(m.completion,m.afterLoc),Z(m),R}},catch:function(p){for(var h=this.tryEntries.length-1;h>=0;--h){var m=this.tryEntries[h];if(m.tryLoc===p){var T=m.completion;if(T.type==="throw"){var D=T.arg;Z(m)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(p,h,m){return this.delegate={iterator:l(p),resultName:h,nextLoc:m},this.method==="next"&&(this.arg=n),R}},e}function Pv(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Sv(n){var e=Pv(n,"string");return typeof e=="symbol"?e:String(e)}function wf(n,e,t,r,i,a,s){try{var o=n[a](s),u=o.value}catch(c){t(c);return}o.done?e(u):Promise.resolve(u).then(r,i)}function vn(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function s(u){wf(a,r,i,s,o,"next",u)}function o(u){wf(a,r,i,s,o,"throw",u)}s(void 0)})}}function Iv(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Sv(r.key),r)}}function Qo(n,e,t){return e&&Iv(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function la(){return la=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},la.apply(this,arguments)}function Cv(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Rv(n,e){if(n){if(typeof n=="string")return Af(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Af(n,e)}}function Af(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Kr(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=Rv(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vi,sy="0x1F98431c8aD98523631AE4a59f267346ea31F984",ra="0x0000000000000000000000000000000000000000",oy="0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54";function uy(n){switch(n){case Re.ZKSYNC:return"0x010013f177ea1fcbc4520f9a3ca7cd2d1d77959e05aa66484027cb38e712aeed";default:return oy}}var Xr;(function(n){n[n.LOWEST=100]="LOWEST",n[n.LOW=500]="LOW",n[n.MEDIUM=3e3]="MEDIUM",n[n.HIGH=1e4]="HIGH"})(Xr||(Xr={}));var qc=(Vi={},Vi[Xr.LOWEST]=1,Vi[Xr.LOW]=10,Vi[Xr.MEDIUM]=60,Vi[Xr.HIGH]=200,Vi),Qr=F.BigInt(-1),St=F.BigInt(0),gr=F.BigInt(1),Yr=F.exponentiate(F.BigInt(2),F.BigInt(96)),fo=F.exponentiate(Yr,F.BigInt(2));function cy(n){var e=n.factoryAddress,t=n.tokenA,r=n.tokenB,i=n.fee,a=n.initCodeHashManualOverride,s=n.chainId,o=t.sortsBefore(r)?[t,r]:[r,t],u=o[0],c=o[1],d=Xo(["bytes"],[Ya.encode(["address","address","uint24"],[u.address,c.address,i])]),f=a??uy(s);switch(s){case Re.ZKSYNC:return Gh(e,f,d);default:return El(e,d,f)}}var Ar=function(){function n(){}return n.mulDivRoundingUp=function(t,r,i){var a=F.multiply(t,r),s=F.divide(a,i);return F.notEqual(F.remainder(a,i),St)&&(s=F.add(s,gr)),s},n}(),Ov=F.subtract(F.exponentiate(F.BigInt(2),F.BigInt(160)),gr);function Ef(n,e){var t=F.multiply(n,e);return F.bitwiseAnd(t,ii)}function Nv(n,e){var t=F.add(n,e);return F.bitwiseAnd(t,ii)}var Xt=function(){function n(){}return n.getAmount0Delta=function(t,r,i,a){if(F.greaterThan(t,r)){var s=[r,t];t=s[0],r=s[1]}var o=F.leftShift(i,F.BigInt(96)),u=F.subtract(r,t);return a?Ar.mulDivRoundingUp(Ar.mulDivRoundingUp(o,u,r),gr,t):F.divide(F.divide(F.multiply(o,u),r),t)},n.getAmount1Delta=function(t,r,i,a){if(F.greaterThan(t,r)){var s=[r,t];t=s[0],r=s[1]}return a?Ar.mulDivRoundingUp(i,F.subtract(r,t),Yr):F.divide(F.multiply(i,F.subtract(r,t)),Yr)},n.getNextSqrtPriceFromInput=function(t,r,i,a){return F.greaterThan(t,St)||Ae(!1),F.greaterThan(r,St)||Ae(!1),a?this.getNextSqrtPriceFromAmount0RoundingUp(t,r,i,!0):this.getNextSqrtPriceFromAmount1RoundingDown(t,r,i,!0)},n.getNextSqrtPriceFromOutput=function(t,r,i,a){return F.greaterThan(t,St)||Ae(!1),F.greaterThan(r,St)||Ae(!1),a?this.getNextSqrtPriceFromAmount1RoundingDown(t,r,i,!1):this.getNextSqrtPriceFromAmount0RoundingUp(t,r,i,!1)},n.getNextSqrtPriceFromAmount0RoundingUp=function(t,r,i,a){if(F.equal(i,St))return t;var s=F.leftShift(r,F.BigInt(96));if(a){var o=Ef(i,t);if(F.equal(F.divide(o,i),t)){var u=Nv(s,o);if(F.greaterThanOrEqual(u,s))return Ar.mulDivRoundingUp(s,t,u)}return Ar.mulDivRoundingUp(s,gr,F.add(F.divide(s,t),i))}else{var c=Ef(i,t);F.equal(F.divide(c,i),t)||Ae(!1),F.greaterThan(s,c)||Ae(!1);var d=F.subtract(s,c);return Ar.mulDivRoundingUp(s,t,d)}},n.getNextSqrtPriceFromAmount1RoundingDown=function(t,r,i,a){if(a){var s=F.lessThanOrEqual(i,Ov)?F.divide(F.leftShift(i,F.BigInt(96)),r):F.divide(F.multiply(i,Yr),r);return F.add(t,s)}else{var o=Ar.mulDivRoundingUp(i,Yr,r);return F.greaterThan(t,o)||Ae(!1),F.subtract(t,o)}},n}(),Wu=F.exponentiate(F.BigInt(10),F.BigInt(6)),ly=function(){function n(){}return n.computeSwapStep=function(t,r,i,a,s){var o={};s=F.BigInt(s);var u=F.greaterThanOrEqual(t,r),c=F.greaterThanOrEqual(a,St);if(c){var d=F.divide(F.multiply(a,F.subtract(Wu,s)),Wu);o.amountIn=u?Xt.getAmount0Delta(r,t,i,!0):Xt.getAmount1Delta(t,r,i,!0),F.greaterThanOrEqual(d,o.amountIn)?o.sqrtRatioNextX96=r:o.sqrtRatioNextX96=Xt.getNextSqrtPriceFromInput(t,i,d,u)}else o.amountOut=u?Xt.getAmount1Delta(r,t,i,!1):Xt.getAmount0Delta(t,r,i,!1),F.greaterThanOrEqual(F.multiply(a,Qr),o.amountOut)?o.sqrtRatioNextX96=r:o.sqrtRatioNextX96=Xt.getNextSqrtPriceFromOutput(t,i,F.multiply(a,Qr),u);var f=F.equal(r,o.sqrtRatioNextX96);return u?(o.amountIn=f&&c?o.amountIn:Xt.getAmount0Delta(o.sqrtRatioNextX96,t,i,!0),o.amountOut=f&&!c?o.amountOut:Xt.getAmount1Delta(o.sqrtRatioNextX96,t,i,!1)):(o.amountIn=f&&c?o.amountIn:Xt.getAmount1Delta(t,o.sqrtRatioNextX96,i,!0),o.amountOut=f&&!c?o.amountOut:Xt.getAmount0Delta(t,o.sqrtRatioNextX96,i,!1)),!c&&F.greaterThan(o.amountOut,F.multiply(a,Qr))&&(o.amountOut=F.multiply(a,Qr)),c&&F.notEqual(o.sqrtRatioNextX96,r)?o.feeAmount=F.subtract(a,o.amountIn):o.feeAmount=Ar.mulDivRoundingUp(o.amountIn,s,F.subtract(Wu,s)),[o.sqrtRatioNextX96,o.amountIn,o.amountOut,o.feeAmount]},n}(),dy=function(){function n(){}return n.addDelta=function(t,r){return F.lessThan(r,St)?F.subtract(t,F.multiply(r,Qr)):F.add(t,r)},n}(),Mv=F.BigInt(2),Fv=[128,64,32,16,8,4,2,1].map(function(n){return[n,F.exponentiate(Mv,F.BigInt(n))]});function fy(n){F.greaterThan(n,St)||Ae(!1),F.lessThanOrEqual(n,ii)||Ae(!1);for(var e=0,t=Kr(Fv),r;!(r=t()).done;){var i=r.value,a=i[0],s=i[1];F.greaterThanOrEqual(n,s)&&(n=F.signedRightShift(n,F.BigInt(a)),e+=a)}return e}function zt(n,e){return F.signedRightShift(F.multiply(n,F.BigInt(e)),F.BigInt(128))}var zu=F.exponentiate(F.BigInt(2),F.BigInt(32)),ze=function(){function n(){}return n.getSqrtRatioAtTick=function(t){t>=n.MIN_TICK&&t<=n.MAX_TICK&&Number.isInteger(t)||Ae(!1);var r=t<0?t*-1:t,i=r&1?F.BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):F.BigInt("0x100000000000000000000000000000000");return r&2&&(i=zt(i,"0xfff97272373d413259a46990580e213a")),r&4&&(i=zt(i,"0xfff2e50f5f656932ef12357cf3c7fdcc")),r&8&&(i=zt(i,"0xffe5caca7e10e4e61c3624eaa0941cd0")),r&16&&(i=zt(i,"0xffcb9843d60f6159c9db58835c926644")),r&32&&(i=zt(i,"0xff973b41fa98c081472e6896dfb254c0")),r&64&&(i=zt(i,"0xff2ea16466c96a3843ec78b326b52861")),r&128&&(i=zt(i,"0xfe5dee046a99a2a811c461f1969c3053")),r&256&&(i=zt(i,"0xfcbe86c7900a88aedcffc83b479aa3a4")),r&512&&(i=zt(i,"0xf987a7253ac413176f2b074cf7815e54")),r&1024&&(i=zt(i,"0xf3392b0822b70005940c7a398e4b70f3")),r&2048&&(i=zt(i,"0xe7159475a2c29b7443b29c7fa6e889d9")),r&4096&&(i=zt(i,"0xd097f3bdfd2022b8845ad8f792aa5825")),r&8192&&(i=zt(i,"0xa9f746462d870fdf8a65dc1f90e061e5")),r&16384&&(i=zt(i,"0x70d869a156d2a1b890bb3df62baf32f7")),r&32768&&(i=zt(i,"0x31be135f97d08fd981231505542fcfa6")),r&65536&&(i=zt(i,"0x9aa508b5b7a84e1c677de54f3e99bc9")),r&131072&&(i=zt(i,"0x5d6af8dedb81196699c329225ee604")),r&262144&&(i=zt(i,"0x2216e584f5fa1ea926041bedfe98")),r&524288&&(i=zt(i,"0x48a170391f7dc42444e8fa2")),t>0&&(i=F.divide(ii,i)),F.greaterThan(F.remainder(i,zu),St)?F.add(F.divide(i,zu),gr):F.divide(i,zu)},n.getTickAtSqrtRatio=function(t){F.greaterThanOrEqual(t,n.MIN_SQRT_RATIO)&&F.lessThan(t,n.MAX_SQRT_RATIO)||Ae(!1);var r=F.leftShift(t,F.BigInt(32)),i=fy(r),a;F.greaterThanOrEqual(F.BigInt(i),F.BigInt(128))?a=F.signedRightShift(r,F.BigInt(i-127)):a=F.leftShift(r,F.BigInt(127-i));for(var s=F.leftShift(F.subtract(F.BigInt(i),F.BigInt(128)),F.BigInt(64)),o=0;o<14;o++){a=F.signedRightShift(F.multiply(a,a),F.BigInt(127));var u=F.signedRightShift(a,F.BigInt(128));s=F.bitwiseOr(s,F.leftShift(u,F.BigInt(63-o))),a=F.signedRightShift(a,u)}var c=F.multiply(s,F.BigInt("255738958999603826347141")),d=F.toNumber(F.signedRightShift(F.subtract(c,F.BigInt("3402992956809132418596140100660247210")),F.BigInt(128))),f=F.toNumber(F.signedRightShift(F.add(c,F.BigInt("291339464771989622907027621153398088495")),F.BigInt(128)));return d===f?d:F.lessThanOrEqual(n.getSqrtRatioAtTick(f),t)?f:d},n}();ze.MIN_TICK=-887272;ze.MAX_TICK=-ze.MIN_TICK;ze.MIN_SQRT_RATIO=F.BigInt("4295128739");ze.MAX_SQRT_RATIO=F.BigInt("1461446703485210103287273052203988822378723970342");function py(n,e,t,r,i,a,s,o,u){return $c.apply(this,arguments)}function $c(){return $c=vn(dt().mark(function n(e,t,r,i,a,s,o,u,c){var d,f,g,x,C,k;return dt().wrap(function($){for(;;)switch($.prev=$.next){case 0:c||(c=o?F.add(ze.MIN_SQRT_RATIO,gr):F.subtract(ze.MAX_SQRT_RATIO,gr)),o?(F.greaterThan(c,ze.MIN_SQRT_RATIO)||Ae(!1),F.lessThan(c,t)||Ae(!1)):(F.lessThan(c,ze.MAX_SQRT_RATIO)||Ae(!1),F.greaterThan(c,t)||Ae(!1)),d=F.greaterThanOrEqual(u,St),f={amountSpecifiedRemaining:u,amountCalculated:St,sqrtPriceX96:t,tick:r,liquidity:i};case 4:if(!(F.notEqual(f.amountSpecifiedRemaining,St)&&f.sqrtPriceX96!==c)){$.next=35;break}return g={},g.sqrtPriceStartX96=f.sqrtPriceX96,$.next=9,s.nextInitializedTickWithinOneWord(f.tick,o,a);case 9:if(x=$.sent,g.tickNext=x[0],g.initialized=x[1],g.tickNext<ze.MIN_TICK?g.tickNext=ze.MIN_TICK:g.tickNext>ze.MAX_TICK&&(g.tickNext=ze.MAX_TICK),g.sqrtPriceNextX96=ze.getSqrtRatioAtTick(g.tickNext),C=ly.computeSwapStep(f.sqrtPriceX96,(o?F.lessThan(g.sqrtPriceNextX96,c):F.greaterThan(g.sqrtPriceNextX96,c))?c:g.sqrtPriceNextX96,f.liquidity,f.amountSpecifiedRemaining,e),f.sqrtPriceX96=C[0],g.amountIn=C[1],g.amountOut=C[2],g.feeAmount=C[3],d?(f.amountSpecifiedRemaining=F.subtract(f.amountSpecifiedRemaining,F.add(g.amountIn,g.feeAmount)),f.amountCalculated=F.subtract(f.amountCalculated,g.amountOut)):(f.amountSpecifiedRemaining=F.add(f.amountSpecifiedRemaining,g.amountOut),f.amountCalculated=F.add(f.amountCalculated,F.add(g.amountIn,g.feeAmount))),!F.equal(f.sqrtPriceX96,g.sqrtPriceNextX96)){$.next=32;break}if(!g.initialized){$.next=29;break}return $.t0=F,$.next=25,s.getTick(g.tickNext);case 25:$.t1=$.sent.liquidityNet,k=$.t0.BigInt.call($.t0,$.t1),o&&(k=F.multiply(k,Qr)),f.liquidity=dy.addDelta(f.liquidity,k);case 29:f.tick=o?g.tickNext-1:g.tickNext,$.next=33;break;case 32:F.notEqual(f.sqrtPriceX96,g.sqrtPriceStartX96)&&(f.tick=ze.getTickAtSqrtRatio(f.sqrtPriceX96));case 33:$.next=4;break;case 35:return $.abrupt("return",{amountCalculated:f.amountCalculated,sqrtRatioX96:f.sqrtPriceX96,liquidity:f.liquidity,tickCurrent:f.tick});case 36:case"end":return $.stop()}},n)})),$c.apply(this,arguments)}var Xl=function(){function n(){}var e=n.prototype;return e.getTick=function(){var t=vn(dt().mark(function i(a){return dt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:throw new Error(n.ERROR_MESSAGE);case 1:case"end":return o.stop()}},i)}));function r(i){return t.apply(this,arguments)}return r}(),e.nextInitializedTickWithinOneWord=function(){var t=vn(dt().mark(function i(a,s,o){return dt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:throw new Error(n.ERROR_MESSAGE);case 1:case"end":return c.stop()}},i)}));function r(i,a,s){return t.apply(this,arguments)}return r}(),n}();Xl.ERROR_MESSAGE="No tick data provider was given";function hy(n,e){for(var t=0;t<n.length-1;t++)if(e(n[t],n[t+1])>0)return!1;return!0}function Dv(n,e){return n.index-e.index}var qs=function(){function n(){}return n.validateList=function(t,r){r>0||Ae(!1),t.every(function(i){var a=i.index;return a%r===0})||Ae(!1),F.equal(t.reduce(function(i,a){var s=a.liquidityNet;return F.add(i,s)},St),St)||Ae(!1),hy(t,Dv)||Ae(!1)},n.isBelowSmallest=function(t,r){return t.length>0||Ae(!1),r<t[0].index},n.isAtOrAboveLargest=function(t,r){return t.length>0||Ae(!1),r>=t[t.length-1].index},n.getTick=function(t,r){var i=t[this.binarySearch(t,r)];return i.index!==r&&Ae(!1),i},n.binarySearch=function(t,r){this.isBelowSmallest(t,r)&&Ae(!1);for(var i=0,a=t.length-1,s;;){if(s=Math.floor((i+a)/2),t[s].index<=r&&(s===t.length-1||t[s+1].index>r))return s;t[s].index<r?i=s+1:a=s-1}},n.nextInitializedTick=function(t,r,i){if(i){if(n.isBelowSmallest(t,r)&&Ae(!1),n.isAtOrAboveLargest(t,r))return t[t.length-1];var a=this.binarySearch(t,r);return t[a]}else{if(this.isAtOrAboveLargest(t,r)&&Ae(!1),this.isBelowSmallest(t,r))return t[0];var s=this.binarySearch(t,r);return t[s+1]}},n.nextInitializedTickWithinOneWord=function(t,r,i,a){var s=Math.floor(r/a);if(i){var o=s>>8,u=(o<<8)*a;if(n.isBelowSmallest(t,r))return[u,!1];var c=n.nextInitializedTick(t,r,i).index,d=Math.max(u,c);return[d,d===c]}else{var f=s+1>>8,g=((f+1<<8)-1)*a;if(this.isAtOrAboveLargest(t,r))return[g,!1];var x=this.nextInitializedTick(t,r,i).index,C=Math.min(g,x);return[C,C===x]}},n}();function Ge(n){var e=F.BigInt(n),t=e.toString(16);return t.length%2!==0&&(t="0"+t),"0x"+t}function Ql(n,e){var t=n.input.wrapped,r=n.pools.reduce(function(s,o,u){var c=s.inputToken,d=s.path,f=s.types,g=o.token0.equals(c)?o.token1:o.token0;return u===0?{inputToken:g,types:["address","uint24","address"],path:[c.address,o.fee,g.address]}:{inputToken:g,types:[].concat(f,["uint24","address"]),path:[].concat(d,[o.fee,g.address])}},{inputToken:t,path:[],types:[]}),i=r.path,a=r.types;return e?Di(a.reverse(),i.reverse()):Di(a,i)}function rs(n,e){var t=F.leftShift(F.BigInt(n),F.BigInt(192)),r=F.BigInt(e),i=F.divide(t,r);return Ha(i)}function Bv(n,e,t){if(F.greaterThan(n,e)){var r=[e,n];n=r[0],e=r[1]}var i=F.divide(F.multiply(n,e),Yr);return F.divide(F.multiply(F.BigInt(t),i),F.subtract(e,n))}function Lv(n,e,t){if(F.greaterThan(n,e)){var r=[e,n];n=r[0],e=r[1]}var i=F.multiply(F.multiply(F.BigInt(t),n),e),a=F.multiply(Yr,F.subtract(e,n));return F.divide(i,a)}function _f(n,e,t){if(F.greaterThan(n,e)){var r=[e,n];n=r[0],e=r[1]}return F.divide(F.multiply(F.BigInt(t),Yr),F.subtract(e,n))}function yy(n,e,t,r,i,a){if(F.greaterThan(e,t)){var s=[t,e];e=s[0],t=s[1]}var o=a?Lv:Bv;if(F.lessThanOrEqual(n,e))return o(e,t,r);if(F.lessThan(n,t)){var u=o(n,t,r),c=_f(e,n,i);return F.lessThan(u,c)?u:c}else return _f(e,t,i)}function Uv(n,e){Number.isInteger(n)&&Number.isInteger(e)||Ae(!1),e>0||Ae(!1),n>=ze.MIN_TICK&&n<=ze.MAX_TICK||Ae(!1);var t=Math.round(n/e)*e;return t<ze.MIN_TICK?t+e:t>ze.MAX_TICK?t-e:t}var kf=F.exponentiate(F.BigInt(2),F.BigInt(128)),qv=function(){function n(){}return n.getTokensOwed=function(t,r,i,a,s){var o=F.divide(F.multiply(Jn(a,t),i),kf),u=F.divide(F.multiply(Jn(s,r),i),kf);return[o,u]},n}();function po(n,e,t){var r=ze.getSqrtRatioAtTick(t),i=F.multiply(r,r);return n.sortsBefore(e)?new Ot(n,e,fo,i):new Ot(n,e,i,fo)}function $v(n){var e=n.baseCurrency.sortsBefore(n.quoteCurrency),t=e?rs(n.numerator,n.denominator):rs(n.denominator,n.numerator),r=ze.getTickAtSqrtRatio(t),i=po(n.baseCurrency,n.quoteCurrency,r+1);return e?n.lessThan(i)||r++:n.greaterThan(i)||r++,r}var Hv=F.exponentiate(F.BigInt(2),F.BigInt(256));function Jn(n,e){var t=F.subtract(n,e);return F.lessThan(t,St)?F.add(Hv,t):t}var Gv=function(){function n(){}return n.getFeeGrowthInside=function(t,r,i,a,s,o,u){var c,d;s>=i?(c=t.feeGrowthOutside0X128,d=t.feeGrowthOutside1X128):(c=Jn(o,t.feeGrowthOutside0X128),d=Jn(u,t.feeGrowthOutside1X128));var f,g;return s<a?(f=r.feeGrowthOutside0X128,g=r.feeGrowthOutside1X128):(f=Jn(o,r.feeGrowthOutside0X128),g=Jn(u,r.feeGrowthOutside1X128)),[Jn(Jn(o,c),f),Jn(Jn(u,d),g)]},n}(),Hc=function(e){var t=e.index,r=e.liquidityGross,i=e.liquidityNet;t>=ze.MIN_TICK&&t<=ze.MAX_TICK||Ae(!1),this.index=t,this.liquidityGross=F.BigInt(r),this.liquidityNet=F.BigInt(i)},my=function(){function n(t,r){var i=t.map(function(a){return a instanceof Hc?a:new Hc(a)});qs.validateList(i,r),this.ticks=i}var e=n.prototype;return e.getTick=function(){var t=vn(dt().mark(function i(a){return dt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",qs.getTick(this.ticks,a));case 1:case"end":return o.stop()}},i,this)}));function r(i){return t.apply(this,arguments)}return r}(),e.nextInitializedTickWithinOneWord=function(){var t=vn(dt().mark(function i(a,s,o){return dt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",qs.nextInitializedTickWithinOneWord(this.ticks,a,s,o));case 1:case"end":return c.stop()}},i,this)}));function r(i,a,s){return t.apply(this,arguments)}return r}(),n}(),jv=new Xl,Zr=function(){function n(t,r,i,a,s,o,u){u===void 0&&(u=jv),Number.isInteger(i)&&i<1e6||Ae(!1);var c=ze.getSqrtRatioAtTick(o),d=ze.getSqrtRatioAtTick(o+1);F.greaterThanOrEqual(F.BigInt(a),c)&&F.lessThanOrEqual(F.BigInt(a),d)||Ae(!1);var f=t.sortsBefore(r)?[t,r]:[r,t];this.token0=f[0],this.token1=f[1],this.fee=i,this.sqrtRatioX96=F.BigInt(a),this.liquidity=F.BigInt(s),this.tickCurrent=o,this.tickDataProvider=Array.isArray(u)?new my(u,qc[i]):u}n.getAddress=function(r,i,a,s,o){return cy({factoryAddress:o??sy,fee:a,tokenA:r,tokenB:i,initCodeHashManualOverride:s})};var e=n.prototype;return e.involvesToken=function(r){return r.equals(this.token0)||r.equals(this.token1)},e.priceOf=function(r){return this.involvesToken(r)||Ae(!1),r.equals(this.token0)?this.token0Price:this.token1Price},e.getOutputAmount=function(){var t=vn(dt().mark(function i(a,s){var o,u,c,d,f,g,x;return dt().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.involvesToken(a.currency)||Ae(!1),o=a.currency.equals(this.token0),k.next=4,this.swap(o,a.quotient,s);case 4:return u=k.sent,c=u.amountCalculated,d=u.sqrtRatioX96,f=u.liquidity,g=u.tickCurrent,x=o?this.token1:this.token0,k.abrupt("return",[Ne.fromRawAmount(x,F.multiply(c,Qr)),new n(this.token0,this.token1,this.fee,d,f,g,this.tickDataProvider)]);case 11:case"end":return k.stop()}},i,this)}));function r(i,a){return t.apply(this,arguments)}return r}(),e.getInputAmount=function(){var t=vn(dt().mark(function i(a,s){var o,u,c,d,f,g,x;return dt().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return a.currency.isToken&&this.involvesToken(a.currency)||Ae(!1),o=a.currency.equals(this.token1),k.next=4,this.swap(o,F.multiply(a.quotient,Qr),s);case 4:return u=k.sent,c=u.amountCalculated,d=u.sqrtRatioX96,f=u.liquidity,g=u.tickCurrent,x=o?this.token0:this.token1,k.abrupt("return",[Ne.fromRawAmount(x,c),new n(this.token0,this.token1,this.fee,d,f,g,this.tickDataProvider)]);case 11:case"end":return k.stop()}},i,this)}));function r(i,a){return t.apply(this,arguments)}return r}(),e.swap=function(){var t=vn(dt().mark(function i(a,s,o){return dt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",py(F.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,a,s,o));case 1:case"end":return c.stop()}},i,this)}));function r(i,a,s){return t.apply(this,arguments)}return r}(),Qo(n,[{key:"token0Price",get:function(){var r;return(r=this._token0Price)!=null?r:this._token0Price=new Ot(this.token0,this.token1,fo,F.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var r;return(r=this._token1Price)!=null?r:this._token1Price=new Ot(this.token1,this.token0,F.multiply(this.sqrtRatioX96,this.sqrtRatioX96),fo)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return qc[this.fee]}}]),n}(),gy=function(){function n(t){var r=t.pool,i=t.liquidity,a=t.tickLower,s=t.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,a<s||Ae(!1),a>=ze.MIN_TICK&&a%r.tickSpacing===0||Ae(!1),s<=ze.MAX_TICK&&s%r.tickSpacing===0||Ae(!1),this.pool=r,this.tickLower=a,this.tickUpper=s,this.liquidity=F.BigInt(i)}var e=n.prototype;return e.ratiosAfterSlippage=function(r){var i=this.pool.token0Price.asFraction.multiply(new ft(1).subtract(r)),a=this.pool.token0Price.asFraction.multiply(r.add(1)),s=rs(i.numerator,i.denominator);F.lessThanOrEqual(s,ze.MIN_SQRT_RATIO)&&(s=F.add(ze.MIN_SQRT_RATIO,F.BigInt(1)));var o=rs(a.numerator,a.denominator);return F.greaterThanOrEqual(o,ze.MAX_SQRT_RATIO)&&(o=F.subtract(ze.MAX_SQRT_RATIO,F.BigInt(1))),{sqrtRatioX96Lower:s,sqrtRatioX96Upper:o}},e.mintAmountsWithSlippage=function(r){var i=this.ratiosAfterSlippage(r),a=i.sqrtRatioX96Upper,s=i.sqrtRatioX96Lower,o=new Zr(this.pool.token0,this.pool.token1,this.pool.fee,s,0,ze.getTickAtSqrtRatio(s)),u=new Zr(this.pool.token0,this.pool.token1,this.pool.fee,a,0,ze.getTickAtSqrtRatio(a)),c=n.fromAmounts(la({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1})),d=new n({pool:u,liquidity:c.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,f=new n({pool:o,liquidity:c.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1;return{amount0:d,amount1:f}},e.burnAmountsWithSlippage=function(r){var i=this.ratiosAfterSlippage(r),a=i.sqrtRatioX96Upper,s=i.sqrtRatioX96Lower,o=new Zr(this.pool.token0,this.pool.token1,this.pool.fee,s,0,ze.getTickAtSqrtRatio(s)),u=new Zr(this.pool.token0,this.pool.token1,this.pool.fee,a,0,ze.getTickAtSqrtRatio(a)),c=new n({pool:u,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,d=new n({pool:o,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:c.quotient,amount1:d.quotient}},n.fromAmounts=function(r){var i=r.pool,a=r.tickLower,s=r.tickUpper,o=r.amount0,u=r.amount1,c=r.useFullPrecision,d=ze.getSqrtRatioAtTick(a),f=ze.getSqrtRatioAtTick(s);return new n({pool:i,tickLower:a,tickUpper:s,liquidity:yy(i.sqrtRatioX96,d,f,o,u,c)})},n.fromAmount0=function(r){var i=r.pool,a=r.tickLower,s=r.tickUpper,o=r.amount0,u=r.useFullPrecision;return n.fromAmounts({pool:i,tickLower:a,tickUpper:s,amount0:o,amount1:ii,useFullPrecision:u})},n.fromAmount1=function(r){var i=r.pool,a=r.tickLower,s=r.tickUpper,o=r.amount1;return n.fromAmounts({pool:i,tickLower:a,tickUpper:s,amount0:ii,amount1:o,useFullPrecision:!0})},Qo(n,[{key:"token0PriceLower",get:function(){return po(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return po(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return this._token0Amount===null&&(this.pool.tickCurrent<this.tickLower?this._token0Amount=Ne.fromRawAmount(this.pool.token0,Xt.getAmount0Delta(ze.getSqrtRatioAtTick(this.tickLower),ze.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=Ne.fromRawAmount(this.pool.token0,Xt.getAmount0Delta(this.pool.sqrtRatioX96,ze.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=Ne.fromRawAmount(this.pool.token0,St)),this._token0Amount}},{key:"amount1",get:function(){return this._token1Amount===null&&(this.pool.tickCurrent<this.tickLower?this._token1Amount=Ne.fromRawAmount(this.pool.token1,St):this.pool.tickCurrent<this.tickUpper?this._token1Amount=Ne.fromRawAmount(this.pool.token1,Xt.getAmount1Delta(ze.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=Ne.fromRawAmount(this.pool.token1,Xt.getAmount1Delta(ze.getSqrtRatioAtTick(this.tickLower),ze.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){return this._mintAmounts===null?this.pool.tickCurrent<this.tickLower?{amount0:Xt.getAmount0Delta(ze.getSqrtRatioAtTick(this.tickLower),ze.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:St}:this.pool.tickCurrent<this.tickUpper?{amount0:Xt.getAmount0Delta(this.pool.sqrtRatioX96,ze.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:Xt.getAmount1Delta(ze.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:{amount0:St,amount1:Xt.getAmount1Delta(ze.getSqrtRatioAtTick(this.tickLower),ze.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}}]),n}(),ho=function(){function n(e,t,r){this._midPrice=null,e.length>0||Ae(!1);var i=e[0].chainId,a=e.every(function(k){return k.chainId===i});a||Ae(!1);var s=t.wrapped;e[0].involvesToken(s)||Ae(!1),e[e.length-1].involvesToken(r.wrapped)||Ae(!1);for(var o=[s],u=Kr(e.entries()),c;!(c=u()).done;){var d=c.value,f=d[0],g=d[1],x=o[f];x.equals(g.token0)||x.equals(g.token1)||Ae(!1);var C=x.equals(g.token0)?g.token1:g.token0;o.push(C)}this.pools=e,this.tokenPath=o,this.input=t,this.output=r??o[o.length-1]}return Qo(n,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(this._midPrice!==null)return this._midPrice;var t=this.pools.slice(1).reduce(function(r,i){var a=r.nextInput,s=r.price;return a.equals(i.token0)?{nextInput:i.token1,price:s.multiply(i.token0Price)}:{nextInput:i.token0,price:s.multiply(i.token1Price)}},this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new Ot(this.input,this.output,t.denominator,t.numerator)}}]),n}();function Gc(n,e){if(n.inputAmount.currency.equals(e.inputAmount.currency)||Ae(!1),n.outputAmount.currency.equals(e.outputAmount.currency)||Ae(!1),n.outputAmount.equalTo(e.outputAmount)){if(n.inputAmount.equalTo(e.inputAmount)){var t=n.swaps.reduce(function(i,a){return i+a.route.tokenPath.length},0),r=e.swaps.reduce(function(i,a){return i+a.route.tokenPath.length},0);return t-r}return n.inputAmount.lessThan(e.inputAmount)?-1:1}else return n.outputAmount.lessThan(e.outputAmount)?1:-1}var Wv=function(){function n(t){var r=t.routes,i=t.tradeType,a=r[0].inputAmount.currency,s=r[0].outputAmount.currency;r.every(function(k){var R=k.route;return a.wrapped.equals(R.input.wrapped)})||Ae(!1),r.every(function(k){var R=k.route;return s.wrapped.equals(R.output.wrapped)})||Ae(!1);for(var o=r.map(function(k){var R=k.route;return R.pools.length}).reduce(function(k,R){return k+R},0),u=new Set,c=Kr(r),d;!(d=c()).done;)for(var f=d.value.route,g=Kr(f.pools),x;!(x=g()).done;){var C=x.value;u.add(Zr.getAddress(C.token0,C.token1,C.fee))}o!==u.size&&Ae(!1),this.swaps=r,this.tradeType=i}n.exactIn=function(){var t=vn(dt().mark(function i(a,s){return dt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",n.fromRoute(a,s,et.EXACT_INPUT));case 1:case"end":return u.stop()}},i)}));function r(i,a){return t.apply(this,arguments)}return r}(),n.exactOut=function(){var t=vn(dt().mark(function i(a,s){return dt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",n.fromRoute(a,s,et.EXACT_OUTPUT));case 1:case"end":return u.stop()}},i)}));function r(i,a){return t.apply(this,arguments)}return r}(),n.fromRoute=function(){var t=vn(dt().mark(function i(a,s,o){var u,c,d,f,g,x,C,k,R,$,q;return dt().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(u=new Array(a.tokenPath.length),o!==et.EXACT_INPUT){te.next=19;break}s.currency.equals(a.input)||Ae(!1),u[0]=s.wrapped,f=0;case 5:if(!(f<a.tokenPath.length-1)){te.next=15;break}return g=a.pools[f],te.next=9,g.getOutputAmount(u[f]);case 9:x=te.sent,C=x[0],u[f+1]=C;case 12:f++,te.next=5;break;case 15:c=Ne.fromFractionalAmount(a.input,s.numerator,s.denominator),d=Ne.fromFractionalAmount(a.output,u[u.length-1].numerator,u[u.length-1].denominator),te.next=34;break;case 19:s.currency.equals(a.output)||Ae(!1),u[u.length-1]=s.wrapped,k=a.tokenPath.length-1;case 22:if(!(k>0)){te.next=32;break}return R=a.pools[k-1],te.next=26,R.getInputAmount(u[k]);case 26:$=te.sent,q=$[0],u[k-1]=q;case 29:k--,te.next=22;break;case 32:c=Ne.fromFractionalAmount(a.input,u[0].numerator,u[0].denominator),d=Ne.fromFractionalAmount(a.output,s.numerator,s.denominator);case 34:return te.abrupt("return",new n({routes:[{inputAmount:c,outputAmount:d,route:a}],tradeType:o}));case 35:case"end":return te.stop()}},i)}));function r(i,a,s){return t.apply(this,arguments)}return r}(),n.fromRoutes=function(){var t=vn(dt().mark(function i(a,s){var o,u,c,d,f,g,x,C,k,R,$,q,ie,te,he,ue,me;return dt().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:o=[],u=Kr(a);case 2:if((c=u()).done){S.next=43;break}if(d=c.value,f=d.route,g=d.amount,x=new Array(f.tokenPath.length),C=void 0,k=void 0,s!==et.EXACT_INPUT){S.next=25;break}g.currency.equals(f.input)||Ae(!1),C=Ne.fromFractionalAmount(f.input,g.numerator,g.denominator),x[0]=Ne.fromFractionalAmount(f.input.wrapped,g.numerator,g.denominator),R=0;case 12:if(!(R<f.tokenPath.length-1)){S.next=22;break}return $=f.pools[R],S.next=16,$.getOutputAmount(x[R]);case 16:q=S.sent,ie=q[0],x[R+1]=ie;case 19:R++,S.next=12;break;case 22:k=Ne.fromFractionalAmount(f.output,x[x.length-1].numerator,x[x.length-1].denominator),S.next=40;break;case 25:g.currency.equals(f.output)||Ae(!1),k=Ne.fromFractionalAmount(f.output,g.numerator,g.denominator),x[x.length-1]=Ne.fromFractionalAmount(f.output.wrapped,g.numerator,g.denominator),te=f.tokenPath.length-1;case 29:if(!(te>0)){S.next=39;break}return he=f.pools[te-1],S.next=33,he.getInputAmount(x[te]);case 33:ue=S.sent,me=ue[0],x[te-1]=me;case 36:te--,S.next=29;break;case 39:C=Ne.fromFractionalAmount(f.input,x[0].numerator,x[0].denominator);case 40:o.push({route:f,inputAmount:C,outputAmount:k});case 41:S.next=2;break;case 43:return S.abrupt("return",new n({routes:o,tradeType:s}));case 44:case"end":return S.stop()}},i)}));function r(i,a){return t.apply(this,arguments)}return r}(),n.createUncheckedTrade=function(r){return new n(la({},r,{routes:[{inputAmount:r.inputAmount,outputAmount:r.outputAmount,route:r.route}]}))},n.createUncheckedTradeWithMultipleRoutes=function(r){return new n(r)};var e=n.prototype;return e.minimumAmountOut=function(r,i){if(i===void 0&&(i=this.outputAmount),r.lessThan(St)&&Ae(!1),this.tradeType===et.EXACT_OUTPUT)return i;var a=new Un(gr).add(r).invert().multiply(i.quotient).quotient;return Ne.fromRawAmount(i.currency,a)},e.maximumAmountIn=function(r,i){if(i===void 0&&(i=this.inputAmount),r.lessThan(St)&&Ae(!1),this.tradeType===et.EXACT_INPUT)return i;var a=new Un(gr).add(r).multiply(i.quotient).quotient;return Ne.fromRawAmount(i.currency,a)},e.worstExecutionPrice=function(r){return new Ot(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(r).quotient,this.minimumAmountOut(r).quotient)},n.bestTradeExactIn=function(){var t=vn(dt().mark(function i(a,s,o,u,c,d,f){var g,x,C,k,R,$,q,ie,te,he,ue,me;return dt().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:g=u===void 0?{}:u,x=g.maxNumResults,C=x===void 0?3:x,k=g.maxHops,R=k===void 0?3:k,c===void 0&&(c=[]),d===void 0&&(d=s),f===void 0&&(f=[]),a.length>0||Ae(!1),R>0||Ae(!1),s===d||c.length>0||Ae(!1),$=d.wrapped,q=o.wrapped,ie=0;case 10:if(!(ie<a.length)){S.next=46;break}if(te=a[ie],!(!te.token0.equals($.currency)&&!te.token1.equals($.currency))){S.next=14;break}return S.abrupt("continue",43);case 14:return he=void 0,S.prev=15,S.next=19,te.getOutputAmount($);case 19:ue=S.sent,he=ue[0],S.next=28;break;case 23:if(S.prev=23,S.t0=S.catch(15),!S.t0.isInsufficientInputAmountError){S.next=27;break}return S.abrupt("continue",43);case 27:throw S.t0;case 28:if(!(he.currency.isToken&&he.currency.equals(q))){S.next=39;break}return S.t1=es,S.t2=f,S.next=33,n.fromRoute(new ho([].concat(c,[te]),s.currency,o),s,et.EXACT_INPUT);case 33:S.t3=S.sent,S.t4=C,S.t5=Gc,(0,S.t1)(S.t2,S.t3,S.t4,S.t5),S.next=43;break;case 39:if(!(R>1&&a.length>1)){S.next=43;break}return me=a.slice(0,ie).concat(a.slice(ie+1,a.length)),S.next=43,n.bestTradeExactIn(me,s,o,{maxNumResults:C,maxHops:R-1},[].concat(c,[te]),he,f);case 43:ie++,S.next=10;break;case 46:return S.abrupt("return",f);case 47:case"end":return S.stop()}},i,null,[[15,23]])}));function r(i,a,s,o,u,c,d){return t.apply(this,arguments)}return r}(),n.bestTradeExactOut=function(){var t=vn(dt().mark(function i(a,s,o,u,c,d,f){var g,x,C,k,R,$,q,ie,te,he,ue,me;return dt().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:g=u===void 0?{}:u,x=g.maxNumResults,C=x===void 0?3:x,k=g.maxHops,R=k===void 0?3:k,c===void 0&&(c=[]),d===void 0&&(d=o),f===void 0&&(f=[]),a.length>0||Ae(!1),R>0||Ae(!1),o===d||c.length>0||Ae(!1),$=d.wrapped,q=s.wrapped,ie=0;case 10:if(!(ie<a.length)){S.next=46;break}if(te=a[ie],!(!te.token0.equals($.currency)&&!te.token1.equals($.currency))){S.next=14;break}return S.abrupt("continue",43);case 14:return he=void 0,S.prev=15,S.next=19,te.getInputAmount($);case 19:ue=S.sent,he=ue[0],S.next=28;break;case 23:if(S.prev=23,S.t0=S.catch(15),!S.t0.isInsufficientReservesError){S.next=27;break}return S.abrupt("continue",43);case 27:throw S.t0;case 28:if(!he.currency.equals(q)){S.next=39;break}return S.t1=es,S.t2=f,S.next=33,n.fromRoute(new ho([te].concat(c),s,o.currency),o,et.EXACT_OUTPUT);case 33:S.t3=S.sent,S.t4=C,S.t5=Gc,(0,S.t1)(S.t2,S.t3,S.t4,S.t5),S.next=43;break;case 39:if(!(R>1&&a.length>1)){S.next=43;break}return me=a.slice(0,ie).concat(a.slice(ie+1,a.length)),S.next=43,n.bestTradeExactOut(me,s,o,{maxNumResults:C,maxHops:R-1},[te].concat(c),he,f);case 43:ie++,S.next=10;break;case 46:return S.abrupt("return",f);case 47:case"end":return S.stop()}},i,null,[[15,23]])}));function r(i,a,s,o,u,c,d){return t.apply(this,arguments)}return r}(),Qo(n,[{key:"route",get:function(){return this.swaps.length!==1&&Ae(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var r=this.swaps[0].inputAmount.currency,i=this.swaps.map(function(a){var s=a.inputAmount;return s}).reduce(function(a,s){return a.add(s)},Ne.fromRawAmount(r,0));return this._inputAmount=i,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var r=this.swaps[0].outputAmount.currency,i=this.swaps.map(function(a){var s=a.outputAmount;return s}).reduce(function(a,s){return a.add(s)},Ne.fromRawAmount(r,0));return this._outputAmount=i,this._outputAmount}},{key:"executionPrice",get:function(){var r;return(r=this._executionPrice)!=null?r:this._executionPrice=new Ot(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var r=Ne.fromRawAmount(this.outputAmount.currency,0),i=Kr(this.swaps),a;!(a=i()).done;){var s=a.value,o=s.route,u=s.inputAmount,c=o.midPrice;r=r.add(c.quote(u))}var d=r.subtract(this.outputAmount).divide(r);return this._priceImpact=new ft(d.numerator,d.denominator),this._priceImpact}}]),n}(),ei=function(){function n(){}return n.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),t.length===1?t[0]:n.INTERFACE.encodeFunctionData("multicall",[t])},n}();ei.INTERFACE=new _n(fv.abi);function zv(n){return"nonce"in n}var is=function(){function n(){}return n.encodePermit=function(t,r){return zv(r)?n.INTERFACE.encodeFunctionData("selfPermitAllowed",[t.address,Ge(r.nonce),Ge(r.expiry),r.v,r.r,r.s]):n.INTERFACE.encodeFunctionData("selfPermit",[t.address,Ge(r.amount),Ge(r.deadline),r.v,r.r,r.s])},n}();is.INTERFACE=new _n(mv.abi);var Sr=function(){function n(){}return n.encodeFeeBips=function(t){return Ge(t.multiply(1e4).quotient)},n.encodeUnwrapWETH9=function(t,r,i){if(r=cn(r),i){var a=this.encodeFeeBips(i.fee),s=cn(i.recipient);return n.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[Ge(t),r,a,s])}else return n.INTERFACE.encodeFunctionData("unwrapWETH9",[Ge(t),r])},n.encodeSweepToken=function(t,r,i,a){if(i=cn(i),a){var s=this.encodeFeeBips(a.fee),o=cn(a.recipient);return n.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,Ge(r),i,s,o])}else return n.INTERFACE.encodeFunctionData("sweepToken",[t.address,Ge(r),i])},n.encodeRefundETH=function(){return n.INTERFACE.encodeFunctionData("refundETH")},n}();Sr.INTERFACE=new _n(bv.abi);var Vv=["expectedCurrencyOwed0","expectedCurrencyOwed1"],Pf=Ge(F.subtract(F.exponentiate(F.BigInt(2),F.BigInt(128)),F.BigInt(1)));function Sf(n){return Object.keys(n).some(function(e){return e==="recipient"})}var by=function(){function n(){}return n.encodeCreate=function(t){return n.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,t.fee,Ge(t.sqrtRatioX96)])},n.createCallParameters=function(t){return{calldata:this.encodeCreate(t),value:Ge(0)}},n.addCallParameters=function(t,r){F.greaterThan(t.liquidity,St)||Ae(!1);var i=[],a=t.mintAmounts,s=a.amount0,o=a.amount1,u=t.mintAmountsWithSlippage(r.slippageTolerance),c=Ge(u.amount0),d=Ge(u.amount1),f=Ge(r.deadline);if(Sf(r)&&r.createPool&&i.push(this.encodeCreate(t.pool)),r.token0Permit&&i.push(is.encodePermit(t.pool.token0,r.token0Permit)),r.token1Permit&&i.push(is.encodePermit(t.pool.token1,r.token1Permit)),Sf(r)){var g=cn(r.recipient);i.push(n.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:Ge(s),amount1Desired:Ge(o),amount0Min:c,amount1Min:d,recipient:g,deadline:f}]))}else i.push(n.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:Ge(r.tokenId),amount0Desired:Ge(s),amount1Desired:Ge(o),amount0Min:c,amount1Min:d,deadline:f}]));var x=Ge(0);if(r.useNative){var C=r.useNative.wrapped;t.pool.token0.equals(C)||t.pool.token1.equals(C)||Ae(!1);var k=t.pool.token0.equals(C)?s:o;F.greaterThan(k,St)&&i.push(Sr.encodeRefundETH()),x=Ge(k)}return{calldata:ei.encodeMulticall(i),value:x}},n.encodeCollect=function(t){var r=[],i=Ge(t.tokenId),a=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,s=cn(t.recipient);if(r.push(n.INTERFACE.encodeFunctionData("collect",[{tokenId:i,recipient:a?ra:s,amount0Max:Pf,amount1Max:Pf}])),a){var o=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient,u=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,c=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;r.push(Sr.encodeUnwrapWETH9(o,s)),r.push(Sr.encodeSweepToken(u,c,s))}return r},n.collectCallParameters=function(t){var r=n.encodeCollect(t);return{calldata:ei.encodeMulticall(r),value:Ge(0)}},n.removeCallParameters=function(t,r){var i=[],a=Ge(r.deadline),s=Ge(r.tokenId),o=new gy({pool:t.pool,liquidity:r.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});F.greaterThan(o.liquidity,St)||Ae(!1);var u=o.burnAmountsWithSlippage(r.slippageTolerance),c=u.amount0,d=u.amount1;r.permit&&i.push(n.INTERFACE.encodeFunctionData("permit",[cn(r.permit.spender),s,Ge(r.permit.deadline),r.permit.v,r.permit.r,r.permit.s])),i.push(n.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:s,liquidity:Ge(o.liquidity),amount0Min:Ge(c),amount1Min:Ge(d),deadline:a}]));var f=r.collectOptions,g=f.expectedCurrencyOwed0,x=f.expectedCurrencyOwed1,C=Cv(f,Vv);return i.push.apply(i,n.encodeCollect(la({tokenId:Ge(r.tokenId),expectedCurrencyOwed0:g.add(Ne.fromRawAmount(g.currency,c)),expectedCurrencyOwed1:x.add(Ne.fromRawAmount(x.currency,d))},C))),r.liquidityPercentage.equalTo(gr)?r.burnToken&&i.push(n.INTERFACE.encodeFunctionData("burn",[s])):r.burnToken===!0&&Ae(!1),{calldata:ei.encodeMulticall(i),value:Ge(0)}},n.safeTransferFromParameters=function(t){var r=cn(t.recipient),i=cn(t.sender),a;return t.data?a=n.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[i,r,Ge(t.tokenId),t.data]):a=n.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[i,r,Ge(t.tokenId)]),{calldata:a,value:Ge(0)}},n}();by.INTERFACE=new _n(hv.abi);var Yl=function(){function n(){}return n.quoteCallParameters=function(t,r,i,a){a===void 0&&(a={});var s=t.pools.length===1,o=Ge(r.quotient),u,c=a.useQuoterV2?this.V2INTERFACE:this.V1INTERFACE;if(s){var d,f,g={tokenIn:t.tokenPath[0].address,tokenOut:t.tokenPath[1].address,fee:t.pools[0].fee,sqrtPriceLimitX96:Ge((d=(f=a)==null?void 0:f.sqrtPriceLimitX96)!=null?d:0)},x=la({},g,i===et.EXACT_INPUT?{amountIn:o}:{amount:o}),C=[g.tokenIn,g.tokenOut,g.fee,o,g.sqrtPriceLimitX96],k=i===et.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";u=c.encodeFunctionData(k,a.useQuoterV2?[x]:C)}else{var R;((R=a)==null?void 0:R.sqrtPriceLimitX96)!==void 0&&Ae(!1);var $=Ql(t,i===et.EXACT_OUTPUT),q=i===et.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";u=c.encodeFunctionData(q,[$,o])}return{calldata:u,value:Ge(0)}},n}();Yl.V1INTERFACE=new _n(vv.abi);Yl.V2INTERFACE=new _n(wv.abi);var Zl=function(){function n(){}return n.encodeClaim=function(t,r){var i,a=[];a.push(n.INTERFACE.encodeFunctionData("unstakeToken",[this._encodeIncentiveKey(t),Ge(r.tokenId)]));var s=cn(r.recipient),o=(i=r.amount)!=null?i:0;return a.push(n.INTERFACE.encodeFunctionData("claimReward",[t.rewardToken.address,s,Ge(o)])),a},n.collectRewards=function(t,r){t=Array.isArray(t)?t:[t];for(var i=[],a=0;a<t.length;a++){var s=t[a];i=i.concat(this.encodeClaim(s,r)),i.push(n.INTERFACE.encodeFunctionData("stakeToken",[this._encodeIncentiveKey(s),Ge(r.tokenId)]))}return{calldata:ei.encodeMulticall(i),value:Ge(0)}},n.withdrawToken=function(t,r){var i=[];t=Array.isArray(t)?t:[t];for(var a={tokenId:r.tokenId,recipient:r.recipient,amount:r.amount},s=0;s<t.length;s++){var o=t[s];i=i.concat(this.encodeClaim(o,a))}var u=cn(r.owner);return i.push(n.INTERFACE.encodeFunctionData("withdrawToken",[Ge(r.tokenId),u,r.data?r.data:Ge(0)])),{calldata:ei.encodeMulticall(i),value:Ge(0)}},n.encodeDeposit=function(t){t=Array.isArray(t)?t:[t];var r;if(t.length>1){for(var i=[],a=0;a<t.length;a++){var s=t[a];i.push(this._encodeIncentiveKey(s))}r=Ya.encode([n.INCENTIVE_KEY_ABI+"[]"],[i])}else r=Ya.encode([n.INCENTIVE_KEY_ABI],[this._encodeIncentiveKey(t[0])]);return r},n._encodeIncentiveKey=function(t){var r=t.pool,i=r.token0,a=r.token1,s=r.fee,o=cn(t.refundee);return{rewardToken:t.rewardToken.address,pool:Zr.getAddress(i,a,s),startTime:Ge(t.startTime),endTime:Ge(t.endTime),refundee:o}},n}();Zl.INTERFACE=new _n(Ev.abi);Zl.INCENTIVE_KEY_ABI="tuple(address rewardToken, address pool, uint256 startTime, uint256 endTime, address refundee)";var xy=function(){function n(){}return n.swapCallParameters=function(t,r){Array.isArray(t)||(t=[t]);var i=t[0],a=i.inputAmount.currency.wrapped,s=i.outputAmount.currency.wrapped;t.every(function(_){return _.inputAmount.currency.wrapped.equals(a)})||Ae(!1),t.every(function(_){return _.outputAmount.currency.wrapped.equals(s)})||Ae(!1);var o=[],u=Ne.fromRawAmount(t[0].inputAmount.currency,0),c=Ne.fromRawAmount(t[0].outputAmount.currency,0),d=t.reduce(function(_,v){return _.add(v.minimumAmountOut(r.slippageTolerance))},c),f=i.inputAmount.currency.isNative&&i.tradeType===et.EXACT_OUTPUT,g=i.inputAmount.currency.isNative,x=i.outputAmount.currency.isNative,C=x||!!r.fee,k=g?t.reduce(function(_,v){return _.add(v.maximumAmountIn(r.slippageTolerance))},u):u;r.inputTokenPermit&&(i.inputAmount.currency.isToken||Ae(!1),o.push(is.encodePermit(i.inputAmount.currency,r.inputTokenPermit)));for(var R=cn(r.recipient),$=Ge(r.deadline),q=Kr(t),ie;!(ie=q()).done;)for(var te=ie.value,he=Kr(te.swaps),ue;!(ue=he()).done;){var me=ue.value,M=me.route,S=me.inputAmount,U=me.outputAmount,Y=Ge(te.maximumAmountIn(r.slippageTolerance,S).quotient),W=Ge(te.minimumAmountOut(r.slippageTolerance,U).quotient),Z=M.pools.length===1;if(Z)if(te.tradeType===et.EXACT_INPUT){var O,l={tokenIn:M.tokenPath[0].address,tokenOut:M.tokenPath[1].address,fee:M.pools[0].fee,recipient:C?ra:R,deadline:$,amountIn:Y,amountOutMinimum:W,sqrtPriceLimitX96:Ge((O=r.sqrtPriceLimitX96)!=null?O:0)};o.push(n.INTERFACE.encodeFunctionData("exactInputSingle",[l]))}else{var p,h={tokenIn:M.tokenPath[0].address,tokenOut:M.tokenPath[1].address,fee:M.pools[0].fee,recipient:C?ra:R,deadline:$,amountOut:W,amountInMaximum:Y,sqrtPriceLimitX96:Ge((p=r.sqrtPriceLimitX96)!=null?p:0)};o.push(n.INTERFACE.encodeFunctionData("exactOutputSingle",[h]))}else{r.sqrtPriceLimitX96!==void 0&&Ae(!1);var m=Ql(M,te.tradeType===et.EXACT_OUTPUT);if(te.tradeType===et.EXACT_INPUT){var T={path:m,recipient:C?ra:R,deadline:$,amountIn:Y,amountOutMinimum:W};o.push(n.INTERFACE.encodeFunctionData("exactInput",[T]))}else{var D={path:m,recipient:C?ra:R,deadline:$,amountOut:W,amountInMaximum:Y};o.push(n.INTERFACE.encodeFunctionData("exactOutput",[D]))}}}return C&&(r.fee?x?o.push(Sr.encodeUnwrapWETH9(d.quotient,R,r.fee)):o.push(Sr.encodeSweepToken(i.outputAmount.currency.wrapped,d.quotient,R,r.fee)):o.push(Sr.encodeUnwrapWETH9(d.quotient,R))),f&&o.push(Sr.encodeRefundETH()),{calldata:ei.encodeMulticall(o),value:Ge(k.quotient)}},n}();xy.INTERFACE=new _n(kv.abi);const Kv=Object.freeze(Object.defineProperty({__proto__:null,ADDRESS_ZERO:ra,FACTORY_ADDRESS:sy,get FeeAmount(){return Xr},FullMath:Ar,LiquidityMath:dy,Multicall:ei,NoTickDataProvider:Xl,NonfungiblePositionManager:by,POOL_INIT_CODE_HASH:oy,Payments:Sr,Pool:Zr,Position:gy,PositionLibrary:qv,Route:ho,SelfPermit:is,SqrtPriceMath:Xt,Staker:Zl,SwapMath:ly,SwapQuoter:Yl,SwapRouter:xy,TICK_SPACINGS:qc,Tick:Hc,TickLibrary:Gv,TickList:qs,TickListDataProvider:my,TickMath:ze,Trade:Wv,computePoolAddress:cy,encodeRouteToPath:Ql,encodeSqrtRatioX96:rs,isSorted:hy,maxLiquidityForAmounts:yy,mostSignificantBit:fy,nearestUsableTick:Uv,poolInitCodeHash:uy,priceToClosestTick:$v,subIn256:Jn,tickToPrice:po,toHex:Ge,tradeComparator:Gc,v3Swap:py},Symbol.toStringTag,{value:"Module"})),Xv=({chainId:n,tokenA:e,tokenB:t})=>{const[r,i]=e.sortsBefore(t)?[e,t]:[t,e];return av(kx[n],lv(["bytes"],[ay(["address","address"],[r.address,i.address])]),Rx[n])};class ja extends co{static getAddress(e,t){return Xv({chainId:e.chainId,tokenA:e,tokenB:t})}constructor(e,t){super(e,t);const r=this,i=e.currency.sortsBefore(t.currency)?[e,t]:[t,e],a=["ERC20"," / ","ERC20"],s=["ERC20","/","ERC20"];i[0].currency.name,i[1].currency.name,i[0].currency.name&&(a[0]=i[0].currency.name),i[1].currency.name&&(a[2]=i[1].currency.name),i[0].currency.symbol&&(s[0]=i[0].currency.symbol),i[1].currency.symbol&&(s[2]=i[1].currency.symbol),r.liquidityToken=new Je(i[0].currency.chainId,ja.getAddress(i[0].currency,i[1].currency),18,s.join(""),a.join(""))}getOutputAmount(e,t){if(this.involvesToken(e.currency)||Uc(),F.equal(this.reserve0.quotient,Zi)||F.equal(this.reserve1.quotient,Zi))throw new ns;const r=this.reserveOf(e.currency),i=this.reserveOf(e.currency.equals(this.token0)?this.token1:this.token0),a=F.multiply(e.quotient,lf),s=F.multiply(a,i.quotient),o=F.add(F.multiply(r.quotient,df),a),u=Ne.fromRawAmount(e.currency.equals(this.token0)?this.token1:this.token0,F.divide(s,o));if(F.equal(u.quotient,Zi))throw new Ga;return[u,new ja(r.add(e),i.subtract(u))]}getInputAmount(e,t){if(this.involvesToken(e.currency)||Uc(),F.equal(this.reserve0.quotient,Zi)||F.equal(this.reserve1.quotient,Zi)||F.greaterThanOrEqual(e.quotient,this.reserveOf(e.currency).quotient))throw new ns;const r=this.reserveOf(e.currency),i=this.reserveOf(e.currency.equals(this.token0)?this.token1:this.token0),a=F.multiply(F.multiply(i.quotient,e.quotient),df),s=F.multiply(F.subtract(r.quotient,e.quotient),lf),o=Ne.fromRawAmount(e.currency.equals(this.token0)?this.token1:this.token0,F.add(F.divide(a,s),Ox));return[o,new ja(i.add(o),r.subtract(e))]}}const Qv=new Je(He.mainnet,"0xe514d9deb7966c8be0ca922de8a064264ea6bcd4",18,"WRON","Wrapped RON");He.mainnet;He.mainnet;const Yv=new Je(He.mainnet,"0xc99a6a985ed2cac1ef41640596c5a5f9f4e19ef5",18,"WETH","Ronin Wrapped Ether"),Zv=new Je(He.mainnet,"0x97a9107c1793bc407d6f527b77e7fff4d812bece",18,"AXS","Axie Infinity Shard"),Jv=new Je(He.mainnet,"0xa8754b9fa15fc18bb59458815510e40a12cd2014",0,"SLP","Smooth Love Potion"),eT=new Je(He.mainnet,"0x0b7007c13325c48911f73a2dad5fa5dcbf808adc",6,"USDC","USD Coin"),tT=new Je(He.mainnet,"0x1b918543b518e34902e1e8dd76052bee43c762ff",18,"BERRY","Berry"),nT=new Je(He.mainnet,"0x7eae20d11ef8c779433eb24503def900b9d28ad7",18,"PIXEL","Pixel"),rT=new Je(He.mainnet,"0x1a89ecd466a23e98f07111b0510a2d6c1cd5e400",18,"BANANA","Banana"),iT=new Je(He.testnet,"0xa959726154953bae111746e265e6d754f48570e6",18,"WRON","Wrapped Ronin"),aT=new Je(He.testnet,"0x29c6f8349a028e1bdfc68bfa08bdee7bc5d47e16",18,"WETH","Ronin Wrapped Ether"),sT=new Je(He.testnet,"0x3c4e17b9056272ce1b49f6900d8cfd6171a1869d",18,"AXS","Axie Infinity Shard"),oT=new Je(He.testnet,"0x82f5483623d636bc3deba8ae67e1751b6cf2bad2",0,"SLP","Smooth Love Potion");He.testnet;const uT=new Je(He.testnet,"0x067fbff8990c58ab90bae3c97241c5d736053f77",6,"USDC","USD Coin"),cT=new Je(He.testnet,"0x9280b976ad8a13cdbd8729297c7a08ce1ec90d29",18,"BERRY","Berry"),lT=new Je(He.testnet,"0x253eF7651433ca9cA5dE487e1661a27080E85A83",18,"PIXEL","Pixel"),dT=new Je(He.testnet,"0xe61f92378450772495625d33f4a8daed8e870d83",18,"BANANA","Banana"),yo={[He.mainnet]:{WRON:Qv,AXS:Zv,SLP:Jv,WETH:Yv,USDC:eT,BERRY:tT,PIXEL:nT,BANANA:rT},[He.testnet]:{WRON:iT,AXS:sT,SLP:oT,WETH:aT,USDC:uT,BERRY:cT,PIXEL:lT,BANANA:dT}},If=18;class br extends Ko{constructor(e){super(e,18,"RON","Ronin")}get wrapped(){const e=yo[this.chainId].WRON;return e||Uc(),e}static onChain(e){var t;return(t=this._etherCache[e])!==null&&t!==void 0?t:this._etherCache[e]=new br(e)}equals(e){return e.isNative&&e.chainId===this.chainId}}br._etherCache={};const fT="abstract-provider/5.8.0";var pT=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const hT=new se(fT);class yT extends _l{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class di{constructor(){hT.checkAbstract(new.target,di),ce(this,"_isProvider",!0)}getFeeData(){return pT(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield _t({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let r=null,i=null,a=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,a=Oe.from("1500000000"),i=e.baseFeePerGas.mul(2).add(a)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:a,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const mT="abstract-signer/5.8.0";var zn=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const Dn=new se(mT),gT=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],bT=[se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED];class ir{constructor(){Dn.checkAbstract(new.target,ir),ce(this,"_isSigner",!0)}getBalance(e){return zn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return zn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return zn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield _t(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return zn(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield _t(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return zn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return zn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return zn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return zn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return zn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)gT.indexOf(r)===-1&&Dn.throwArgumentError("invalid transaction key: "+r,"transaction",e);const t=ct(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&Dn.throwArgumentError("from address mismatch","transaction",e),r[0])),t}populateTransaction(e){return zn(this,void 0,void 0,function*(){const t=yield _t(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>zn(this,void 0,void 0,function*(){if(i==null)return null;const a=yield this.resolveName(i);return a==null&&Dn.throwArgumentError("provided ENS name resolves to null","tx.to",i),a})),t.to.catch(i=>{}));const r=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||r)?Dn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&r&&Dn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const a=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=a,t.maxPriorityFeePerGas=a}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&Dn.throwError("network does not support EIP-1559",se.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):Dn.throwError("failed to get consistent fee data",se.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(bT.indexOf(i.code)>=0)throw i;return Dn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Dn.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield _t(t)})}_checkProvider(e){this.provider||Dn.throwError("missing provider",se.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class ga extends ir{constructor(e,t){super(),ce(this,"address",e),ce(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Dn.throwError(e,se.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new ga(this.address,e)}}function ba(n,e,t){return t={path:e,exports:{},require:function(r,i){return xT(r,i??t.path)}},n(t,t.exports),t.exports}function xT(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Jl=vy;function vy(n,e){if(!n)throw new Error(e||"Assertion failed")}vy.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var rr=ba(function(n,e){var t=e;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var u=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)u[c]=s[c]|0;return u}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)u.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var d=s.charCodeAt(c),f=d>>8,g=d&255;f?u.push(f,g):u.push(g)}return u}t.toArray=r;function i(s){return s.length===1?"0"+s:s}t.zero2=i;function a(s){for(var o="",u=0;u<s.length;u++)o+=i(s[u].toString(16));return o}t.toHex=a,t.encode=function(o,u){return u==="hex"?a(o):o}}),Rn=ba(function(n,e){var t=e;t.assert=Jl,t.toArray=rr.toArray,t.zero2=rr.zero2,t.toHex=rr.toHex,t.encode=rr.encode;function r(u,c,d){var f=new Array(Math.max(u.bitLength(),d)+1),g;for(g=0;g<f.length;g+=1)f[g]=0;var x=1<<c+1,C=u.clone();for(g=0;g<f.length;g++){var k,R=C.andln(x-1);C.isOdd()?(R>(x>>1)-1?k=(x>>1)-R:k=R,C.isubn(k)):k=0,f[g]=k,C.iushrn(1)}return f}t.getNAF=r;function i(u,c){var d=[[],[]];u=u.clone(),c=c.clone();for(var f=0,g=0,x;u.cmpn(-f)>0||c.cmpn(-g)>0;){var C=u.andln(3)+f&3,k=c.andln(3)+g&3;C===3&&(C=-1),k===3&&(k=-1);var R;C&1?(x=u.andln(7)+f&7,(x===3||x===5)&&k===2?R=-C:R=C):R=0,d[0].push(R);var $;k&1?(x=c.andln(7)+g&7,(x===3||x===5)&&C===2?$=-k:$=k):$=0,d[1].push($),2*f===R+1&&(f=1-f),2*g===$+1&&(g=1-g),u.iushrn(1),c.iushrn(1)}return d}t.getJSF=i;function a(u,c,d){var f="_"+c;u.prototype[c]=function(){return this[f]!==void 0?this[f]:this[f]=d.call(this)}}t.cachedProperty=a;function s(u){return typeof u=="string"?t.toArray(u,"hex"):u}t.parseBytes=s;function o(u){return new Ke(u,"hex","le")}t.intFromLE=o}),mo=Rn.getNAF,vT=Rn.getJSF,go=Rn.assert;function fi(n,e){this.type=n,this.p=new Ke(e.p,16),this.red=e.prime?Ke.red(e.prime):Ke.mont(this.p),this.zero=new Ke(0).toRed(this.red),this.one=new Ke(1).toRed(this.red),this.two=new Ke(2).toRed(this.red),this.n=e.n&&new Ke(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Hi=fi;fi.prototype.point=function(){throw new Error("Not implemented")};fi.prototype.validate=function(){throw new Error("Not implemented")};fi.prototype._fixedNafMul=function(e,t){go(e.precomputed);var r=e._getDoubles(),i=mo(t,1,this._bitLength),a=(1<<r.step+1)-(r.step%2===0?2:1);a/=3;var s=[],o,u;for(o=0;o<i.length;o+=r.step){u=0;for(var c=o+r.step-1;c>=o;c--)u=(u<<1)+i[c];s.push(u)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),g=a;g>0;g--){for(o=0;o<s.length;o++)u=s[o],u===g?f=f.mixedAdd(r.points[o]):u===-g&&(f=f.mixedAdd(r.points[o].neg()));d=d.add(f)}return d.toP()};fi.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var a=i.points,s=mo(t,r,this._bitLength),o=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var c=0;u>=0&&s[u]===0;u--)c++;if(u>=0&&c++,o=o.dblp(c),u<0)break;var d=s[u];go(d!==0),e.type==="affine"?d>0?o=o.mixedAdd(a[d-1>>1]):o=o.mixedAdd(a[-d-1>>1].neg()):d>0?o=o.add(a[d-1>>1]):o=o.add(a[-d-1>>1].neg())}return e.type==="affine"?o.toP():o};fi.prototype._wnafMulAdd=function(e,t,r,i,a){var s=this._wnafT1,o=this._wnafT2,u=this._wnafT3,c=0,d,f,g;for(d=0;d<i;d++){g=t[d];var x=g._getNAFPoints(e);s[d]=x.wnd,o[d]=x.points}for(d=i-1;d>=1;d-=2){var C=d-1,k=d;if(s[C]!==1||s[k]!==1){u[C]=mo(r[C],s[C],this._bitLength),u[k]=mo(r[k],s[k],this._bitLength),c=Math.max(u[C].length,c),c=Math.max(u[k].length,c);continue}var R=[t[C],null,null,t[k]];t[C].y.cmp(t[k].y)===0?(R[1]=t[C].add(t[k]),R[2]=t[C].toJ().mixedAdd(t[k].neg())):t[C].y.cmp(t[k].y.redNeg())===0?(R[1]=t[C].toJ().mixedAdd(t[k]),R[2]=t[C].add(t[k].neg())):(R[1]=t[C].toJ().mixedAdd(t[k]),R[2]=t[C].toJ().mixedAdd(t[k].neg()));var $=[-3,-1,-5,-7,0,7,5,1,3],q=vT(r[C],r[k]);for(c=Math.max(q[0].length,c),u[C]=new Array(c),u[k]=new Array(c),f=0;f<c;f++){var ie=q[0][f]|0,te=q[1][f]|0;u[C][f]=$[(ie+1)*3+(te+1)],u[k][f]=0,o[C]=R}}var he=this.jpoint(null,null,null),ue=this._wnafT4;for(d=c;d>=0;d--){for(var me=0;d>=0;){var M=!0;for(f=0;f<i;f++)ue[f]=u[f][d]|0,ue[f]!==0&&(M=!1);if(!M)break;me++,d--}if(d>=0&&me++,he=he.dblp(me),d<0)break;for(f=0;f<i;f++){var S=ue[f];S!==0&&(S>0?g=o[f][S-1>>1]:S<0&&(g=o[f][-S-1>>1].neg()),g.type==="affine"?he=he.mixedAdd(g):he=he.add(g))}}for(d=0;d<i;d++)o[d]=null;return a?he:he.toP()};function $n(n,e){this.curve=n,this.type=e,this.precomputed=null}fi.BasePoint=$n;$n.prototype.eq=function(){throw new Error("Not implemented")};$n.prototype.validate=function(){return this.curve.validate(this)};fi.prototype.decodePoint=function(e,t){e=Rn.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?go(e[e.length-1]%2===0):e[0]===7&&go(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};$n.prototype.encodeCompressed=function(e){return this.encode(e,!0)};$n.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))};$n.prototype.encode=function(e,t){return Rn.encode(this._encode(t),e)};$n.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};$n.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};$n.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,a=0;a<t;a+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}};$n.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),a=1;a<r;a++)t[a]=t[a-1].add(i);return{wnd:e,points:t}};$n.prototype._getBeta=function(){return null};$n.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var ed=ba(function(n){typeof Object.create=="function"?n.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),TT=Rn.assert;function Hn(n){Hi.call(this,"short",n),this.a=new Ke(n.a,16).toRed(this.red),this.b=new Ke(n.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(n),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ed(Hn,Hi);var wT=Hn;Hn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Ke(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Ke(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))===0?r=a[0]:(r=a[1],TT(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Ke(o.a,16),b:new Ke(o.b,16)}}):s=this._getEndoBasis(r),{beta:t,lambda:r,basis:s}}};Hn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ke.mont(e),r=new Ke(2).toRed(t).redInvm(),i=r.redNeg(),a=new Ke(3).toRed(t).redNeg().redSqrt().redMul(r),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Hn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),a=new Ke(1),s=new Ke(0),o=new Ke(0),u=new Ke(1),c,d,f,g,x,C,k,R=0,$,q;r.cmpn(0)!==0;){var ie=i.div(r);$=i.sub(ie.mul(r)),q=o.sub(ie.mul(a));var te=u.sub(ie.mul(s));if(!f&&$.cmp(t)<0)c=k.neg(),d=a,f=$.neg(),g=q;else if(f&&++R===2)break;k=$,i=r,r=$,o=a,a=q,u=s,s=te}x=$.neg(),C=q;var he=f.sqr().add(g.sqr()),ue=x.sqr().add(C.sqr());return ue.cmp(he)>=0&&(x=c,C=d),f.negative&&(f=f.neg(),g=g.neg()),x.negative&&(x=x.neg(),C=C.neg()),[{a:f,b:g},{a:x,b:C}]};Hn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],a=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=a.mul(r.a),u=s.mul(i.a),c=a.mul(r.b),d=s.mul(i.b),f=e.sub(o).sub(u),g=c.add(d).neg();return{k1:f,k2:g}};Hn.prototype.pointFromX=function(e,t){e=new Ke(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(t&&!a||!t&&a)&&(i=i.redNeg()),this.point(e,i)};Hn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),a=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(a).cmpn(0)===0};Hn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),u=e[s],c=u._getBeta();o.k1.negative&&(o.k1.ineg(),u=u.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=u,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var d=this._wnafMulAdd(1,i,a,s*2,r),f=0;f<s*2;f++)i[f]=null,a[f]=null;return d};function Jt(n,e,t,r){Hi.BasePoint.call(this,n,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ke(e,16),this.y=new Ke(t,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ed(Jt,Hi.BasePoint);Hn.prototype.point=function(e,t,r){return new Jt(this,e,t,r)};Hn.prototype.pointFromJSON=function(e,t){return Jt.fromJSON(this,e,t)};Jt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(a){return r.point(a.x.redMul(r.endo.beta),a.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};Jt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Jt.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function a(o){return e.point(o[0],o[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Jt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Jt.prototype.isInfinity=function(){return this.inf};Jt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};Jt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),a=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Jt.prototype.getX=function(){return this.x.fromRed()};Jt.prototype.getY=function(){return this.y.fromRed()};Jt.prototype.mul=function(e){return e=new Ke(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Jt.prototype.mulAdd=function(e,t,r){var i=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Jt.prototype.jmulAdd=function(e,t,r){var i=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Jt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Jt.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(a){return a.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t};Jt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function nn(n,e,t,r){Hi.BasePoint.call(this,n,"jacobian"),e===null&&t===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ke(0)):(this.x=new Ke(e,16),this.y=new Ke(t,16),this.z=new Ke(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ed(nn,Hi.BasePoint);Hn.prototype.jpoint=function(e,t,r){return new nn(this,e,t,r)};nn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)};nn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};nn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),a=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),u=i.redSub(a),c=s.redSub(o);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=u.redSqr(),f=d.redMul(u),g=i.redMul(d),x=c.redSqr().redIAdd(f).redISub(g).redISub(g),C=c.redMul(g.redISub(x)).redISub(s.redMul(f)),k=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(x,C,k)};nn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),a=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(i),u=a.redSub(s);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),d=c.redMul(o),f=r.redMul(c),g=u.redSqr().redIAdd(d).redISub(f).redISub(f),x=u.redMul(f.redISub(g)).redISub(a.redMul(d)),C=this.z.redMul(o);return this.curve.jpoint(g,x,C)};nn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,u=this.z,c=u.redSqr().redSqr(),d=o.redAdd(o);for(t=0;t<e;t++){var f=s.redSqr(),g=d.redSqr(),x=g.redSqr(),C=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(c)),k=s.redMul(g),R=C.redSqr().redISub(k.redAdd(k)),$=k.redISub(R),q=C.redMul($);q=q.redIAdd(q).redISub(x);var ie=d.redMul(u);t+1<e&&(c=c.redMul(x)),s=R,u=ie,d=q}return this.curve.jpoint(s,d.redMul(a),u)};nn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};nn.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var u=i.redAdd(i).redIAdd(i),c=u.redSqr().redISub(o).redISub(o),d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),e=c,t=u.redMul(o.redISub(c)).redISub(d),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),g=this.y.redSqr(),x=g.redSqr(),C=this.x.redAdd(g).redSqr().redISub(f).redISub(x);C=C.redIAdd(C);var k=f.redAdd(f).redIAdd(f),R=k.redSqr(),$=x.redIAdd(x);$=$.redIAdd($),$=$.redIAdd($),e=R.redISub(C).redISub(C),t=k.redMul(C.redISub(e)).redISub($),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)};nn.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=u.redSqr().redISub(o).redISub(o);e=c;var d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),t=u.redMul(o.redISub(c)).redISub(d),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),g=this.y.redSqr(),x=this.x.redMul(g),C=this.x.redSub(f).redMul(this.x.redAdd(f));C=C.redAdd(C).redIAdd(C);var k=x.redIAdd(x);k=k.redIAdd(k);var R=k.redAdd(k);e=C.redSqr().redISub(R),r=this.y.redAdd(this.z).redSqr().redISub(g).redISub(f);var $=g.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($),t=C.redMul(k.redISub(e)).redISub($)}return this.curve.jpoint(e,t,r)};nn.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,a=i.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),u=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),c=t.redAdd(t);c=c.redIAdd(c);var d=c.redMul(o),f=u.redSqr().redISub(d.redAdd(d)),g=d.redISub(f),x=o.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var C=u.redMul(g).redISub(x),k=r.redAdd(r).redMul(i);return this.curve.jpoint(f,C,k)};nn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var u=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=a.redIAdd(o).redSqr().redISub(s).redISub(u).redISub(c),f=t.redMul(d);f=f.redIAdd(f),f=f.redIAdd(f);var g=this.x.redMul(u).redISub(f);g=g.redIAdd(g),g=g.redIAdd(g);var x=this.y.redMul(d.redMul(c.redISub(d)).redISub(o.redMul(u)));x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var C=this.z.redAdd(o).redSqr().redISub(r).redISub(u);return this.curve.jpoint(g,x,C)};nn.prototype.mul=function(e,t){return e=new Ke(e,t),this.curve._wnafMul(this,e)};nn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),a=r.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};nn.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}};nn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};nn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var $s=ba(function(n,e){var t=e;t.base=Hi,t.short=wT,t.mont=null,t.edwards=null}),Hs=ba(function(n,e){var t=e,r=Rn.assert;function i(o){o.type==="short"?this.curve=new $s.short(o):o.type==="edwards"?this.curve=new $s.edwards(o):this.curve=new $s.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function a(o,u){Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){var c=new i(u);return Object.defineProperty(t,o,{configurable:!0,enumerable:!0,value:c}),c}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:bn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:bn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:bn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:bn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:bn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bn.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:bn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function ai(n){if(!(this instanceof ai))return new ai(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=rr.toArray(n.entropy,n.entropyEnc||"hex"),t=rr.toArray(n.nonce,n.nonceEnc||"hex"),r=rr.toArray(n.pers,n.persEnc||"hex");Jl(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,r)}var Ty=ai;ai.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ai.prototype._hmac=function(){return new bn.hmac(this.hash,this.K)};ai.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ai.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=rr.toArray(e,t),r=rr.toArray(r,i),Jl(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};ai.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=rr.toArray(r,i||"hex"),this._update(r));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(r),this._reseed++,rr.encode(s,t)};var jc=Rn.assert;function fn(n,e){this.ec=n,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var td=fn;fn.fromPublic=function(e,t,r){return t instanceof fn?t:new fn(e,{pub:t,pubEnc:r})};fn.fromPrivate=function(e,t,r){return t instanceof fn?t:new fn(e,{priv:t,privEnc:r})};fn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};fn.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};fn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};fn.prototype._importPrivate=function(e,t){this.priv=new Ke(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};fn.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?jc(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&jc(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};fn.prototype.derive=function(e){return e.validate()||jc(e.validate(),"public point not validated"),e.mul(this.priv).getX()};fn.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)};fn.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)};fn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var AT=Rn.assert;function Yo(n,e){if(n instanceof Yo)return n;this._importDER(n,e)||(AT(n.r&&n.s,"Signature without r or s"),this.r=new Ke(n.r,16),this.s=new Ke(n.s,16),n.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=n.recoveryParam)}var Zo=Yo;function ET(){this.place=0}function Vu(n,e){var t=n[e.place++];if(!(t&128))return t;var r=t&15;if(r===0||r>4||n[e.place]===0)return!1;for(var i=0,a=0,s=e.place;a<r;a++,s++)i<<=8,i|=n[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Cf(n){for(var e=0,t=n.length-1;!n[e]&&!(n[e+1]&128)&&e<t;)e++;return e===0?n:n.slice(e)}Yo.prototype._importDER=function(e,t){e=Rn.toArray(e,t);var r=new ET;if(e[r.place++]!==48)return!1;var i=Vu(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var a=Vu(e,r);if(a===!1||e[r.place]&128)return!1;var s=e.slice(r.place,a+r.place);if(r.place+=a,e[r.place++]!==2)return!1;var o=Vu(e,r);if(o===!1||e.length!==o+r.place||e[r.place]&128)return!1;var u=e.slice(r.place,o+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new Ke(s),this.s=new Ke(u),this.recoveryParam=null,!0};function Ku(n,e){if(e<128){n.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(n.push(t|128);--t;)n.push(e>>>(t<<3)&255);n.push(e)}Yo.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=Cf(t),r=Cf(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];Ku(i,t.length),i=i.concat(t),i.push(2),Ku(i,r.length);var a=i.concat(r),s=[48];return Ku(s,a.length),s=s.concat(a),Rn.encode(s,e)};var _T=function(){throw new Error("unsupported")},xi=Rn.assert;function qn(n){if(!(this instanceof qn))return new qn(n);typeof n=="string"&&(xi(Object.prototype.hasOwnProperty.call(Hs,n),"Unknown curve "+n),n=Hs[n]),n instanceof Hs.PresetCurve&&(n={curve:n}),this.curve=n.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=n.curve.g,this.g.precompute(n.curve.n.bitLength()+1),this.hash=n.hash||n.curve.hash}var kT=qn;qn.prototype.keyPair=function(e){return new td(this,e)};qn.prototype.keyFromPrivate=function(e,t){return td.fromPrivate(this,e,t)};qn.prototype.keyFromPublic=function(e,t){return td.fromPublic(this,e,t)};qn.prototype.genKeyPair=function(e){e||(e={});for(var t=new Ty({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||_T(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Ke(2));;){var a=new Ke(t.generate(r));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};qn.prototype._truncateToN=function(e,t,r){var i;if(Ke.isBN(e)||typeof e=="number")e=new Ke(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Ke(e,16);else{var a=e.toString();i=a.length+1>>>1,e=new Ke(a,16)}typeof r!="number"&&(r=i*8);var s=r-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};qn.prototype.sign=function(e,t,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Ke.isBN(e)){xi(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),xi(e.length>>>0===e.length);for(var a=0;a<e.length;a++)xi((e[a]&255)===e[a])}t=this.keyFromPrivate(t,r),e=this._truncateToN(e,!1,i.msgBitLength),xi(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),u=e.toArray("be",s);xi(new Ke(u).eq(e),"Can not sign message");for(var c=new Ty({hash:this.hash,entropy:o,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new Ke(1)),f=0;;f++){var g=i.k?i.k(f):new Ke(c.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(d)>=0)){var x=this.g.mul(g);if(!x.isInfinity()){var C=x.getX(),k=C.umod(this.n);if(k.cmpn(0)!==0){var R=g.invm(this.n).mul(k.mul(t.getPrivate()).iadd(e));if(R=R.umod(this.n),R.cmpn(0)!==0){var $=(x.getY().isOdd()?1:0)|(C.cmp(k)!==0?2:0);return i.canonical&&R.cmp(this.nh)>0&&(R=this.n.sub(R),$^=1),new Zo({r:k,s:R,recoveryParam:$})}}}}}};qn.prototype.verify=function(e,t,r,i,a){a||(a={}),e=this._truncateToN(e,!1,a.msgBitLength),r=this.keyFromPublic(r,i),t=new Zo(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var u=o.invm(this.n),c=u.mul(e).umod(this.n),d=u.mul(s).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(c,r.getPublic(),d),f.isInfinity()?!1:f.eqXToP(s)):(f=this.g.mulAdd(c,r.getPublic(),d),f.isInfinity()?!1:f.getX().umod(this.n).cmp(s)===0)};qn.prototype.recoverPubKey=function(n,e,t,r){xi((3&t)===t,"The recovery param is more than two bits"),e=new Zo(e,r);var i=this.n,a=new Ke(n),s=e.r,o=e.s,u=t&1,c=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),u):s=this.curve.pointFromX(s,u);var d=e.r.invm(i),f=i.sub(a).mul(d).umod(i),g=o.mul(d).umod(i);return this.g.mulAdd(f,s,g)};qn.prototype.getKeyRecoveryParam=function(n,e,t,r){if(e=new Zo(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(n,e,i)}catch{continue}if(a.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var PT=ba(function(n,e){var t=e;t.version="6.6.1",t.utils=Rn,t.rand=function(){throw new Error("unsupported")},t.curve=$s,t.curves=Hs,t.ec=kT,t.eddsa=null}),ST=PT.ec;const IT="signing-key/5.8.0",Wc=new se(IT);let Xu=null;function lr(){return Xu||(Xu=new ST("secp256k1")),Xu}class ti{constructor(e){ce(this,"curve","secp256k1"),ce(this,"privateKey",$e(e)),pr(this.privateKey)!==32&&Wc.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=lr().keyFromPrivate(Ce(this.privateKey));ce(this,"publicKey","0x"+t.getPublic(!1,"hex")),ce(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ce(this,"_isSigningKey",!0)}_addPoint(e){const t=lr().keyFromPublic(Ce(this.publicKey)),r=lr().keyFromPublic(Ce(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=lr().keyFromPrivate(Ce(this.privateKey)),r=Ce(e);r.length!==32&&Wc.throwArgumentError("bad digest length","digest",e);const i=t.sign(r,{canonical:!0});return fa({recoveryParam:i.recoveryParam,r:Lt("0x"+i.r.toString(16),32),s:Lt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=lr().keyFromPrivate(Ce(this.privateKey)),r=lr().keyFromPublic(Ce(Jo(e)));return Lt("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function nd(n,e){const t=fa(e),r={r:Ce(t.r),s:Ce(t.s)};return"0x"+lr().recoverPubKey(Ce(n),r,t.recoveryParam).encode("hex",!1)}function Jo(n,e){const t=Ce(n);if(t.length===32){const r=new ti(t);return e?"0x"+lr().keyFromPrivate(t).getPublic(!0,"hex"):r.publicKey}else{if(t.length===33)return e?$e(t):"0x"+lr().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+lr().keyFromPublic(t).getPublic(!0,"hex"):$e(t)}return Wc.throwArgumentError("invalid public or private key","key","[REDACTED]")}const CT=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:ti,computePublicKey:Jo,recoverPublicKey:nd},Symbol.toStringTag,{value:"Module"})),RT="transactions/5.8.0",ln=new se(RT);var bo;(function(n){n[n.legacy=0]="legacy",n[n.eip2930=1]="eip2930",n[n.eip1559=2]="eip1559"})(bo||(bo={}));function rd(n){return n==="0x"?null:It(n)}function un(n){return n==="0x"?L0:Oe.from(n)}const OT=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],NT={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Nr(n){const e=Jo(n);return It(Qt(Pt(Qt(e,1)),12))}function xa(n,e){return Nr(nd(Ce(n),e))}function Pn(n,e){const t=Rr(Oe.from(n).toHexString());return t.length>32&&ln.throwArgumentError("invalid length for "+e,"transaction:"+e,n),t}function Qu(n,e){return{address:It(n),storageKeys:(e||[]).map((t,r)=>(pr(t)!==32&&ln.throwArgumentError("invalid access list storageKey",`accessList[${n}:${r}]`,t),t.toLowerCase()))}}function xr(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(t.length>2&&ln.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,t),Qu(t[0],t[1])):Qu(t.address,t.storageKeys));const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,a)=>(i[a]=!0,i),{});return Qu(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function wy(n){return xr(n).map(e=>[e.address,e.storageKeys])}function Ay(n,e){if(n.gasPrice!=null){const r=Oe.from(n.gasPrice),i=Oe.from(n.maxFeePerGas||0);r.eq(i)||ln.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const t=[Pn(n.chainId||0,"chainId"),Pn(n.nonce||0,"nonce"),Pn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pn(n.maxFeePerGas||0,"maxFeePerGas"),Pn(n.gasLimit||0,"gasLimit"),n.to!=null?It(n.to):"0x",Pn(n.value||0,"value"),n.data||"0x",wy(n.accessList||[])];if(e){const r=fa(e);t.push(Pn(r.recoveryParam,"recoveryParam")),t.push(Rr(r.r)),t.push(Rr(r.s))}return Tn(["0x02",Za(t)])}function Ey(n,e){const t=[Pn(n.chainId||0,"chainId"),Pn(n.nonce||0,"nonce"),Pn(n.gasPrice||0,"gasPrice"),Pn(n.gasLimit||0,"gasLimit"),n.to!=null?It(n.to):"0x",Pn(n.value||0,"value"),n.data||"0x",wy(n.accessList||[])];if(e){const r=fa(e);t.push(Pn(r.recoveryParam,"recoveryParam")),t.push(Rr(r.r)),t.push(Rr(r.s))}return Tn(["0x01",Za(t)])}function MT(n,e){Pl(n,NT);const t=[];OT.forEach(function(s){let o=n[s.name]||[];const u={};s.numeric&&(u.hexPad="left"),o=Ce($e(o,u)),s.length&&o.length!==s.length&&o.length>0&&ln.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o),s.maxLength&&(o=Rr(o),o.length>s.maxLength&&ln.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o)),t.push($e(o))});let r=0;if(n.chainId!=null?(r=n.chainId,typeof r!="number"&&ln.throwArgumentError("invalid transaction.chainId","transaction",n)):e&&!Sl(e)&&e.v>28&&(r=Math.floor((e.v-35)/2)),r!==0&&(t.push($e(r)),t.push("0x"),t.push("0x")),!e)return Za(t);const i=fa(e);let a=27+i.recoveryParam;return r!==0?(t.pop(),t.pop(),t.pop(),a+=r*2+8,i.v>28&&i.v!==a&&ln.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==a&&ln.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push($e(a)),t.push(Rr(Ce(i.r))),t.push(Rr(Ce(i.s))),Za(t)}function xo(n,e){if(n.type==null||n.type===0)return n.accessList!=null&&ln.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",n),MT(n,e);switch(n.type){case 1:return Ey(n,e);case 2:return Ay(n,e)}return ln.throwError(`unsupported transaction type: ${n.type}`,se.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:n.type})}function _y(n,e,t){try{const r=un(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");n.v=r}catch{ln.throwArgumentError("invalid v for transaction type: 1","v",e[0])}n.r=Lt(e[1],32),n.s=Lt(e[2],32);try{const r=Pt(t(n));n.from=xa(r,{r:n.r,s:n.s,recoveryParam:n.v})}catch{}}function FT(n){const e=kl(n.slice(1));e.length!==9&&e.length!==12&&ln.throwArgumentError("invalid component count for transaction type: 2","payload",$e(n));const t=un(e[2]),r=un(e[3]),i={type:2,chainId:un(e[0]).toNumber(),nonce:un(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:r,gasPrice:null,gasLimit:un(e[4]),to:rd(e[5]),value:un(e[6]),data:e[7],accessList:xr(e[8])};return e.length===9||(i.hash=Pt(n),_y(i,e.slice(9),Ay)),i}function DT(n){const e=kl(n.slice(1));e.length!==8&&e.length!==11&&ln.throwArgumentError("invalid component count for transaction type: 1","payload",$e(n));const t={type:1,chainId:un(e[0]).toNumber(),nonce:un(e[1]).toNumber(),gasPrice:un(e[2]),gasLimit:un(e[3]),to:rd(e[4]),value:un(e[5]),data:e[6],accessList:xr(e[7])};return e.length===8||(t.hash=Pt(n),_y(t,e.slice(8),Ey)),t}function BT(n){const e=kl(n);e.length!==9&&e.length!==6&&ln.throwArgumentError("invalid raw transaction","rawTransaction",n);const t={nonce:un(e[0]).toNumber(),gasPrice:un(e[1]),gasLimit:un(e[2]),to:rd(e[3]),value:un(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=Oe.from(e[6]).toNumber()}catch{return t}if(t.r=Lt(e[7],32),t.s=Lt(e[8],32),Oe.from(t.r).isZero()&&Oe.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let r=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push($e(t.chainId)),i.push("0x"),i.push("0x"),r-=t.chainId*2+8);const a=Pt(Za(i));try{t.from=xa(a,{r:$e(t.r),s:$e(t.s),recoveryParam:r})}catch{}t.hash=Pt(n)}return t.type=null,t}function id(n){const e=Ce(n);if(e[0]>127)return BT(e);switch(e[0]){case 1:return DT(e);case 2:return FT(e)}return ln.throwError(`unsupported transaction type: ${e[0]}`,se.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const LT=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return bo},accessListify:xr,computeAddress:Nr,parse:id,recoverAddress:xa,serialize:xo},Symbol.toStringTag,{value:"Module"})),UT="logger/5.8.0";let Rf=!1,Of=!1;const Gs={debug:1,default:2,info:2,warning:3,error:4,off:5};let Nf=Gs.default,Yu=null;function qT(){try{const n=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{n.push(e)}}),n.length)throw new Error("missing "+n.join(", "));if("Ã©".normalize("NFD")!=="eÌ")throw new Error("broken implementation")}catch(n){return n.message}return null}const Mf=qT();var zc;(function(n){n.DEBUG="DEBUG",n.INFO="INFO",n.WARNING="WARNING",n.ERROR="ERROR",n.OFF="OFF"})(zc||(zc={}));var er;(function(n){n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",n.TRANSACTION_REPLACED="TRANSACTION_REPLACED",n.ACTION_REJECTED="ACTION_REJECTED"})(er||(er={}));const Ff="0123456789abcdef";let Ir=class Vt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();Gs[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Nf>Gs[r])&&console.log.apply(console,t)}debug(...e){this._log(Vt.levels.DEBUG,e)}info(...e){this._log(Vt.levels.INFO,e)}warn(...e){this._log(Vt.levels.WARNING,e)}makeError(e,t,r){if(Of)return this.makeError("censored error",t,{});t||(t=Vt.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(u=>{const c=r[u];try{if(c instanceof Uint8Array){let d="";for(let f=0;f<c.length;f++)d+=Ff[c[f]>>4],d+=Ff[c[f]&15];i.push(u+"=Uint8Array(0x"+d+")")}else i.push(u+"="+JSON.stringify(c))}catch{i.push(u+"="+JSON.stringify(r[u].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const a=e;let s="";switch(t){case er.NUMERIC_FAULT:{s="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":s+="-"+u;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case er.CALL_EXCEPTION:case er.INSUFFICIENT_FUNDS:case er.MISSING_NEW:case er.NONCE_EXPIRED:case er.REPLACEMENT_UNDERPRICED:case er.TRANSACTION_REPLACED:case er.UNPREDICTABLE_GAS_LIMIT:s=t;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=a,o.code=t,Object.keys(r).forEach(function(u){o[u]=r[u]}),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Vt.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,i){e||this.throwError(t,r,i)}assertArgument(e,t,r,i){e||this.throwArgumentError(t,r,i)}checkNormalize(e){Mf&&this.throwError("platform missing String.prototype.normalize",Vt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Mf})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Vt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Vt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r?r=": "+r:r="",e<t&&this.throwError("missing argument"+r,Vt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Vt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Vt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Vt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Vt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Yu||(Yu=new Vt(UT)),Yu}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Vt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Rf){if(!e)return;this.globalLogger().throwError("error censorship permanent",Vt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Of=!!e,Rf=!!t}static setLogLevel(e){const t=Gs[e.toLowerCase()];if(t==null){Vt.globalLogger().warn("invalid log level - "+e);return}Nf=t}static from(e){return new Vt(e)}};Ir.errors=er;Ir.levels=zc;const $T="bytes/5.8.0",Zu=new Ir($T);function HT(n){return!!n.toHexString}function Df(n){return typeof n=="number"&&n==n&&n%1===0}function ky(n){if(n==null)return!1;if(n.constructor===Uint8Array)return!0;if(typeof n=="string"||!Df(n.length)||n.length<0)return!1;for(let e=0;e<n.length;e++){const t=n[e];if(!Df(t)||t<0||t>=256)return!1}return!0}function Vc(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/))}const Ju="0123456789abcdef";function GT(n,e){if(e||(e={}),typeof n=="number"){Zu.checkSafeUint53(n,"invalid hexlify value");let t="";for(;n;)t=Ju[n&15]+t,n=Math.floor(n/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof n=="bigint")return n=n.toString(16),n.length%2?"0x0"+n:"0x"+n;if(e.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),HT(n))return n.toHexString();if(Vc(n))return n.length%2&&(e.hexPad==="left"?n="0x0"+n.substring(2):e.hexPad==="right"?n+="0":Zu.throwArgumentError("hex data is odd-length","value",n)),n.toLowerCase();if(ky(n)){let t="0x";for(let r=0;r<n.length;r++){let i=n[r];t+=Ju[(i&240)>>4]+Ju[i&15]}return t}return Zu.throwArgumentError("invalid hexlify value","value",n)}const jT="bignumber/5.7.0";var Kc=Ke.BN;const Er=new Ir(jT),ec={},Bf=9007199254740991;let Lf=!1,vo=class Kn{constructor(e,t){e!==ec&&Er.throwError("cannot call constructor directly; use BigNumber.from",Ir.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return yn(at(this).fromTwos(e))}toTwos(e){return yn(at(this).toTwos(e))}abs(){return this._hex[0]==="-"?Kn.from(this._hex.substring(1)):this}add(e){return yn(at(this).add(at(e)))}sub(e){return yn(at(this).sub(at(e)))}div(e){return Kn.from(e).isZero()&&Nn("division-by-zero","div"),yn(at(this).div(at(e)))}mul(e){return yn(at(this).mul(at(e)))}mod(e){const t=at(e);return t.isNeg()&&Nn("division-by-zero","mod"),yn(at(this).umod(t))}pow(e){const t=at(e);return t.isNeg()&&Nn("negative-power","pow"),yn(at(this).pow(t))}and(e){const t=at(e);return(this.isNegative()||t.isNeg())&&Nn("unbound-bitwise-result","and"),yn(at(this).and(t))}or(e){const t=at(e);return(this.isNegative()||t.isNeg())&&Nn("unbound-bitwise-result","or"),yn(at(this).or(t))}xor(e){const t=at(e);return(this.isNegative()||t.isNeg())&&Nn("unbound-bitwise-result","xor"),yn(at(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Nn("negative-width","mask"),yn(at(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Nn("negative-width","shl"),yn(at(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Nn("negative-width","shr"),yn(at(this).shrn(e))}eq(e){return at(this).eq(at(e))}lt(e){return at(this).lt(at(e))}lte(e){return at(this).lte(at(e))}gt(e){return at(this).gt(at(e))}gte(e){return at(this).gte(at(e))}isNegative(){return this._hex[0]==="-"}isZero(){return at(this).isZero()}toNumber(){try{return at(this).toNumber()}catch{Nn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Er.throwError("this platform does not support BigInt",Ir.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Lf||(Lf=!0,Er.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Er.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ir.errors.UNEXPECTED_ARGUMENT,{}):Er.throwError("BigNumber.toString does not accept parameters",Ir.errors.UNEXPECTED_ARGUMENT,{})),at(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Kn)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Kn(ec,as(e)):e.match(/^-?[0-9]+$/)?new Kn(ec,as(new Kc(e))):Er.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Nn("underflow","BigNumber.from",e),(e>=Bf||e<=-Bf)&&Nn("overflow","BigNumber.from",e),Kn.from(String(e));const t=e;if(typeof t=="bigint")return Kn.from(t.toString());if(ky(t))return Kn.from(GT(t));if(t)if(t.toHexString){const r=t.toHexString();if(typeof r=="string")return Kn.from(r)}else{let r=t._hex;if(r==null&&t.type==="BigNumber"&&(r=t.hex),typeof r=="string"&&(Vc(r)||r[0]==="-"&&Vc(r.substring(1))))return Kn.from(r)}return Er.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function as(n){if(typeof n!="string")return as(n.toString(16));if(n[0]==="-")return n=n.substring(1),n[0]==="-"&&Er.throwArgumentError("invalid hex","value",n),n=as(n),n==="0x00"?n:"-"+n;if(n.substring(0,2)!=="0x"&&(n="0x"+n),n==="0x")return"0x00";for(n.length%2&&(n="0x0"+n.substring(2));n.length>4&&n.substring(0,4)==="0x00";)n="0x"+n.substring(4);return n}function yn(n){return vo.from(as(n))}function at(n){const e=vo.from(n).toHexString();return e[0]==="-"?new Kc("-"+e.substring(3),16):new Kc(e.substring(2),16)}function Nn(n,e,t){const r={fault:n,operation:e};return t!=null&&(r.value=t),Er.throwError(n,Ir.errors.NUMERIC_FAULT,r)}class ad{constructor(e){ce(this,"alphabet",e),ce(this,"base",e.length),ce(this,"_alphabetMap",{}),ce(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Ce(e);if(t.length===0)return"";let r=[0];for(let a=0;a<t.length;++a){let s=t[a];for(let o=0;o<r.length;++o)s+=r[o]<<8,r[o]=s%this.base,s=s/this.base|0;for(;s>0;)r.push(s%this.base),s=s/this.base|0}let i="";for(let a=0;t[a]===0&&a<t.length-1;++a)i+=this._leader;for(let a=r.length-1;a>=0;--a)i+=this.alphabet[r[a]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let a=i;for(let s=0;s<t.length;++s)a+=t[s]*this.base,t[s]=a&255,a>>=8;for(;a>0;)t.push(a&255),a>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return Ce(new Uint8Array(t.reverse()))}}const WT=new ad("abcdefghijklmnopqrstuvwxyz234567"),Bi=new ad("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),zT=Object.freeze(Object.defineProperty({__proto__:null,Base32:WT,Base58:Bi,BaseX:ad},Symbol.toStringTag,{value:"Module"}));function sd(n,e,t,r,i){n=Ce(n),e=Ce(e);let a,s=1;const o=new Uint8Array(r),u=new Uint8Array(e.length+4);u.set(e);let c,d;for(let f=1;f<=s;f++){u[e.length]=f>>24&255,u[e.length+1]=f>>16&255,u[e.length+2]=f>>8&255,u[e.length+3]=f&255;let g=Ce(ca(i,n,u));a||(a=g.length,d=new Uint8Array(a),s=Math.ceil(r/a),c=r-(s-1)*a),d.set(g);for(let k=1;k<t;k++){g=Ce(ca(i,n,g));for(let R=0;R<a;R++)d[R]^=g[R]}const x=(f-1)*a,C=f===s?c:a;o.set(Ce(d).slice(0,C),x)}return $e(o)}const VT="wordlists/5.8.0",KT=new se(VT);class Gi{constructor(e){KT.checkAbstract(new.target,Gi),ce(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const i=e.getWord(r);if(r!==e.getWordIndex(i))return"0x";t.push(i)}return ps(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const XT="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Wa=null;function Uf(n){if(Wa==null&&(Wa=XT.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Gi.check(n)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Wa=null,new Error("BIP39 Wordlist for en (English) FAILED")}class QT extends Gi{constructor(){super("en")}getWord(e){return Uf(this),Wa[e]}getWordIndex(e){return Uf(this),Wa.indexOf(e)}}const Py=new QT;Gi.register(Py);const To={en:Py},YT="hdnode/5.8.0",ss=new se(YT),ZT=Oe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),JT=jt("Bitcoin seed"),ea=2147483648;function Sy(n){return(1<<n)-1<<8-n}function e6(n){return(1<<n)-1}function Is(n){return Lt($e(n),32)}function qf(n){return Bi.encode(Nt([n,Qt(mr(mr(n)),0,4)]))}function od(n){if(n==null)return To.en;if(typeof n=="string"){const e=To[n];return e==null&&ss.throwArgumentError("unknown locale","wordlist",n),e}return n}const Ki={},Li="m/44'/60'/0'/0/0";class xn{constructor(e,t,r,i,a,s,o,u){if(e!==Ki)throw new Error("HDNode constructor cannot be called directly");if(t){const c=new ti(t);ce(this,"privateKey",c.privateKey),ce(this,"publicKey",c.compressedPublicKey)}else ce(this,"privateKey",null),ce(this,"publicKey",$e(r));ce(this,"parentFingerprint",i),ce(this,"fingerprint",Qt(Vl(mr(this.publicKey)),0,4)),ce(this,"address",Nr(this.publicKey)),ce(this,"chainCode",a),ce(this,"index",s),ce(this,"depth",o),u==null?(ce(this,"mnemonic",null),ce(this,"path",null)):typeof u=="string"?(ce(this,"mnemonic",null),ce(this,"path",u)):(ce(this,"mnemonic",u),ce(this,"path",u.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return qf(Nt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",$e(this.depth),this.parentFingerprint,Lt($e(this.index),4),this.chainCode,this.privateKey!=null?Nt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new xn(Ki,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~ea));const r=new Uint8Array(37);if(e&ea){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(Ce(this.privateKey),1),t&&(t+="'")}else r.set(Ce(this.publicKey));for(let f=24;f>=0;f-=8)r[33+(f>>3)]=e>>24-f&255;const i=Ce(ca(Fi.sha512,this.chainCode,r)),a=i.slice(0,32),s=i.slice(32);let o=null,u=null;this.privateKey?o=Is(Oe.from(a).add(this.privateKey).mod(ZT)):u=new ti($e(a))._addPoint(this.publicKey);let c=t;const d=this.mnemonic;return d&&(c=Object.freeze({phrase:d.phrase,path:t,locale:d.locale||"en"})),new xn(Ki,o,u,this.fingerprint,Is(s),e,this.depth+1,c)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let r=this;for(let i=0;i<t.length;i++){const a=t[i];if(a.match(/^[0-9]+'$/)){const s=parseInt(a.substring(0,a.length-1));if(s>=ea)throw new Error("invalid path index - "+a);r=r._derive(ea+s)}else if(a.match(/^[0-9]+$/)){const s=parseInt(a);if(s>=ea)throw new Error("invalid path index - "+a);r=r._derive(s)}else throw new Error("invalid path component - "+a)}return r}static _fromSeed(e,t){const r=Ce(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const i=Ce(ca(Fi.sha512,JT,r));return new xn(Ki,Is(i.slice(0,32)),null,"0x00000000",Is(i.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return r=od(r),e=vs(xs(e,r),r),xn._fromSeed(ud(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return xn._fromSeed(e,null)}static fromExtendedKey(e){const t=Bi.decode(e);(t.length!==82||qf(t.slice(0,78))!==e)&&ss.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],i=$e(t.slice(5,9)),a=parseInt($e(t.slice(9,13)).substring(2),16),s=$e(t.slice(13,45)),o=t.slice(45,78);switch($e(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new xn(Ki,null,$e(o),i,s,a,r,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new xn(Ki,$e(o.slice(1)),null,i,s,a,r,null)}return ss.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function ud(n,e){e||(e="");const t=jt("mnemonic"+e,ua.NFKD);return sd(jt(n,ua.NFKD),t,2048,64,"sha512")}function xs(n,e){e=od(e),ss.checkNormalize();const t=e.split(n);if(t.length%3!==0)throw new Error("invalid mnemonic");const r=Ce(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let c=0;c<t.length;c++){let d=e.getWordIndex(t[c].normalize("NFKD"));if(d===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)d&1<<10-f&&(r[i>>3]|=1<<7-i%8),i++}const a=32*t.length/3,s=t.length/3,o=Sy(s);if((Ce(mr(r.slice(0,a/8)))[0]&o)!==(r[r.length-1]&o))throw new Error("invalid checksum");return $e(r.slice(0,a/8))}function vs(n,e){if(e=od(e),n=Ce(n),n.length%4!==0||n.length<16||n.length>32)throw new Error("invalid entropy");const t=[0];let r=11;for(let s=0;s<n.length;s++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[s],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[s]>>8-r,t.push(n[s]&e6(8-r)),r+=3);const i=n.length/4,a=Ce(mr(n))[0]&Sy(i);return t[t.length-1]<<=i,t[t.length-1]|=a>>8-i,e.join(t.map(s=>e.getWord(s)))}function Iy(n,e){try{return xs(n,e),!0}catch{}return!1}function Cy(n){return(typeof n!="number"||n<0||n>=ea||n%1)&&ss.throwArgumentError("invalid account index","index",n),`m/44'/60'/${n}'/0/0`}const t6=Object.freeze(Object.defineProperty({__proto__:null,HDNode:xn,defaultPath:Li,entropyToMnemonic:vs,getAccountPath:Cy,isValidMnemonic:Iy,mnemonicToEntropy:xs,mnemonicToSeed:ud},Symbol.toStringTag,{value:"Module"})),n6="random/5.8.0",Xc=new se(n6);function r6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof eo<"u")return eo;throw new Error("unable to locate global object")}const $f=r6();let js=$f.crypto||$f.msCrypto;(!js||!js.getRandomValues)&&(Xc.warn("WARNING: Missing strong random number source"),js={getRandomValues:function(n){return Xc.throwError("no secure random source avaialble",se.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function wi(n){(n<=0||n>1024||n%1||n!=n)&&Xc.throwArgumentError("invalid length","length",n);const e=new Uint8Array(n);return js.getRandomValues(e),Ce(e)}function cd(n){n=n.slice();for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),r=n[e];n[e]=n[t],n[t]=r}return n}const i6=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:wi,shuffled:cd},Symbol.toStringTag,{value:"Module"}));var Ry={exports:{}};(function(n,e){(function(t){function r(_){return parseInt(_)===_}function i(_){if(!r(_.length))return!1;for(var v=0;v<_.length;v++)if(!r(_[v])||_[v]<0||_[v]>255)return!1;return!0}function a(_,v){if(_.buffer&&ArrayBuffer.isView(_)&&_.name==="Uint8Array")return v&&(_.slice?_=_.slice():_=Array.prototype.slice.call(_)),_;if(Array.isArray(_)){if(!i(_))throw new Error("Array contains invalid value: "+_);return new Uint8Array(_)}if(r(_.length)&&i(_))return new Uint8Array(_);throw new Error("unsupported array-like object")}function s(_){return new Uint8Array(_)}function o(_,v,y,b,ee){(b!=null||ee!=null)&&(_.slice?_=_.slice(b,ee):_=Array.prototype.slice.call(_,b,ee)),v.set(_,y)}var u=function(){function _(y){var b=[],ee=0;for(y=encodeURI(y);ee<y.length;){var be=y.charCodeAt(ee++);be===37?(b.push(parseInt(y.substr(ee,2),16)),ee+=2):b.push(be)}return a(b)}function v(y){for(var b=[],ee=0;ee<y.length;){var be=y[ee];be<128?(b.push(String.fromCharCode(be)),ee++):be>191&&be<224?(b.push(String.fromCharCode((be&31)<<6|y[ee+1]&63)),ee+=2):(b.push(String.fromCharCode((be&15)<<12|(y[ee+1]&63)<<6|y[ee+2]&63)),ee+=3)}return b.join("")}return{toBytes:_,fromBytes:v}}(),c=function(){function _(b){for(var ee=[],be=0;be<b.length;be+=2)ee.push(parseInt(b.substr(be,2),16));return ee}var v="0123456789abcdef";function y(b){for(var ee=[],be=0;be<b.length;be++){var w=b[be];ee.push(v[(w&240)>>4]+v[w&15])}return ee.join("")}return{toBytes:_,fromBytes:y}}(),d={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],g=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],x=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],C=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],k=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],R=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],$=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],q=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],ie=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],te=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],he=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],ue=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],me=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],M=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function U(_){for(var v=[],y=0;y<_.length;y+=4)v.push(_[y]<<24|_[y+1]<<16|_[y+2]<<8|_[y+3]);return v}var Y=function(_){if(!(this instanceof Y))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:a(_,!0)}),this._prepare()};Y.prototype._prepare=function(){var _=d[this.key.length];if(_==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var v=0;v<=_;v++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var y=(_+1)*4,b=this.key.length/4,ee=U(this.key),be,v=0;v<b;v++)be=v>>2,this._Ke[be][v%4]=ee[v],this._Kd[_-be][v%4]=ee[v];for(var w=0,de=b,pe;de<y;){if(pe=ee[b-1],ee[0]^=g[pe>>16&255]<<24^g[pe>>8&255]<<16^g[pe&255]<<8^g[pe>>24&255]^f[w]<<24,w+=1,b!=8)for(var v=1;v<b;v++)ee[v]^=ee[v-1];else{for(var v=1;v<b/2;v++)ee[v]^=ee[v-1];pe=ee[b/2-1],ee[b/2]^=g[pe&255]^g[pe>>8&255]<<8^g[pe>>16&255]<<16^g[pe>>24&255]<<24;for(var v=b/2+1;v<b;v++)ee[v]^=ee[v-1]}for(var v=0,P,L;v<b&&de<y;)P=de>>2,L=de%4,this._Ke[P][L]=ee[v],this._Kd[_-P][L]=ee[v++],de++}for(var P=1;P<_;P++)for(var L=0;L<4;L++)pe=this._Kd[P][L],this._Kd[P][L]=ue[pe>>24&255]^me[pe>>16&255]^M[pe>>8&255]^S[pe&255]},Y.prototype.encrypt=function(_){if(_.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var v=this._Ke.length-1,y=[0,0,0,0],b=U(_),ee=0;ee<4;ee++)b[ee]^=this._Ke[0][ee];for(var be=1;be<v;be++){for(var ee=0;ee<4;ee++)y[ee]=C[b[ee]>>24&255]^k[b[(ee+1)%4]>>16&255]^R[b[(ee+2)%4]>>8&255]^$[b[(ee+3)%4]&255]^this._Ke[be][ee];b=y.slice()}for(var w=s(16),de,ee=0;ee<4;ee++)de=this._Ke[v][ee],w[4*ee]=(g[b[ee]>>24&255]^de>>24)&255,w[4*ee+1]=(g[b[(ee+1)%4]>>16&255]^de>>16)&255,w[4*ee+2]=(g[b[(ee+2)%4]>>8&255]^de>>8)&255,w[4*ee+3]=(g[b[(ee+3)%4]&255]^de)&255;return w},Y.prototype.decrypt=function(_){if(_.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var v=this._Kd.length-1,y=[0,0,0,0],b=U(_),ee=0;ee<4;ee++)b[ee]^=this._Kd[0][ee];for(var be=1;be<v;be++){for(var ee=0;ee<4;ee++)y[ee]=q[b[ee]>>24&255]^ie[b[(ee+3)%4]>>16&255]^te[b[(ee+2)%4]>>8&255]^he[b[(ee+1)%4]&255]^this._Kd[be][ee];b=y.slice()}for(var w=s(16),de,ee=0;ee<4;ee++)de=this._Kd[v][ee],w[4*ee]=(x[b[ee]>>24&255]^de>>24)&255,w[4*ee+1]=(x[b[(ee+3)%4]>>16&255]^de>>16)&255,w[4*ee+2]=(x[b[(ee+2)%4]>>8&255]^de>>8)&255,w[4*ee+3]=(x[b[(ee+1)%4]&255]^de)&255;return w};var W=function(_){if(!(this instanceof W))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Y(_)};W.prototype.encrypt=function(_){if(_=a(_),_.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=s(_.length),y=s(16),b=0;b<_.length;b+=16)o(_,y,0,b,b+16),y=this._aes.encrypt(y),o(y,v,b);return v},W.prototype.decrypt=function(_){if(_=a(_),_.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=s(_.length),y=s(16),b=0;b<_.length;b+=16)o(_,y,0,b,b+16),y=this._aes.decrypt(y),o(y,v,b);return v};var Z=function(_,v){if(!(this instanceof Z))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!v)v=s(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=a(v,!0),this._aes=new Y(_)};Z.prototype.encrypt=function(_){if(_=a(_),_.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=s(_.length),y=s(16),b=0;b<_.length;b+=16){o(_,y,0,b,b+16);for(var ee=0;ee<16;ee++)y[ee]^=this._lastCipherblock[ee];this._lastCipherblock=this._aes.encrypt(y),o(this._lastCipherblock,v,b)}return v},Z.prototype.decrypt=function(_){if(_=a(_),_.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=s(_.length),y=s(16),b=0;b<_.length;b+=16){o(_,y,0,b,b+16),y=this._aes.decrypt(y);for(var ee=0;ee<16;ee++)v[b+ee]=y[ee]^this._lastCipherblock[ee];o(_,this._lastCipherblock,0,b,b+16)}return v};var O=function(_,v,y){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!v)v=s(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");y||(y=1),this.segmentSize=y,this._shiftRegister=a(v,!0),this._aes=new Y(_)};O.prototype.encrypt=function(_){if(_.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var v=a(_,!0),y,b=0;b<v.length;b+=this.segmentSize){y=this._aes.encrypt(this._shiftRegister);for(var ee=0;ee<this.segmentSize;ee++)v[b+ee]^=y[ee];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(v,this._shiftRegister,16-this.segmentSize,b,b+this.segmentSize)}return v},O.prototype.decrypt=function(_){if(_.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var v=a(_,!0),y,b=0;b<v.length;b+=this.segmentSize){y=this._aes.encrypt(this._shiftRegister);for(var ee=0;ee<this.segmentSize;ee++)v[b+ee]^=y[ee];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(_,this._shiftRegister,16-this.segmentSize,b,b+this.segmentSize)}return v};var l=function(_,v){if(!(this instanceof l))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!v)v=s(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=a(v,!0),this._lastPrecipherIndex=16,this._aes=new Y(_)};l.prototype.encrypt=function(_){for(var v=a(_,!0),y=0;y<v.length;y++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),v[y]^=this._lastPrecipher[this._lastPrecipherIndex++];return v},l.prototype.decrypt=l.prototype.encrypt;var p=function(_){if(!(this instanceof p))throw Error("Counter must be instanitated with `new`");_!==0&&!_&&(_=1),typeof _=="number"?(this._counter=s(16),this.setValue(_)):this.setBytes(_)};p.prototype.setValue=function(_){if(typeof _!="number"||parseInt(_)!=_)throw new Error("invalid counter value (must be an integer)");for(var v=15;v>=0;--v)this._counter[v]=_%256,_=_>>8},p.prototype.setBytes=function(_){if(_=a(_,!0),_.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=_},p.prototype.increment=function(){for(var _=15;_>=0;_--)if(this._counter[_]===255)this._counter[_]=0;else{this._counter[_]++;break}};var h=function(_,v){if(!(this instanceof h))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",v instanceof p||(v=new p(v)),this._counter=v,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Y(_)};h.prototype.encrypt=function(_){for(var v=a(_,!0),y=0;y<v.length;y++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),v[y]^=this._remainingCounter[this._remainingCounterIndex++];return v},h.prototype.decrypt=h.prototype.encrypt;function m(_){_=a(_,!0);var v=16-_.length%16,y=s(_.length+v);o(_,y);for(var b=_.length;b<y.length;b++)y[b]=v;return y}function T(_){if(_=a(_,!0),_.length<16)throw new Error("PKCS#7 invalid length");var v=_[_.length-1];if(v>16)throw new Error("PKCS#7 padding byte out of range");for(var y=_.length-v,b=0;b<v;b++)if(_[y+b]!==v)throw new Error("PKCS#7 invalid padding byte");var ee=s(y);return o(_,ee,0,0,y),ee}var D={AES:Y,Counter:p,ModeOfOperation:{ecb:W,cbc:Z,cfb:O,ofb:l,ctr:h},utils:{hex:c,utf8:u},padding:{pkcs7:{pad:m,strip:T}},_arrayTest:{coerceArray:a,createArray:s,copyArray:o}};n.exports=D})()})(Ry);var a6=Ry.exports;const fr=li(a6),Oy="json-wallets/5.8.0";function Si(n){return typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),Ce(n)}function ka(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function ld(n){return typeof n=="string"?jt(n,ua.NFKC):Ce(n)}function Ut(n,e){let t=n;const r=e.toLowerCase().split("/");for(let i=0;i<r.length;i++){let a=null;for(const s in t)if(s.toLowerCase()===r[i]){a=t[s];break}if(a===null)return null;t=a}return t}function s6(n){const e=Ce(n);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=$e(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const o6=new se(Oy);class u6 extends _l{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function dd(n,e){const t=JSON.parse(n);e=ld(e);const r=It(Ut(t,"ethaddr")),i=Si(Ut(t,"encseed"));(!i||i.length%16!==0)&&o6.throwArgumentError("invalid encseed","json",n);const a=Ce(sd(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),o=i.slice(16),u=new fr.ModeOfOperation.cbc(a,s),c=fr.padding.pkcs7.strip(Ce(u.decrypt(o)));let d="";for(let x=0;x<c.length;x++)d+=String.fromCharCode(c[x]);const f=jt(d),g=Pt(f);return new u6({_isCrowdsaleAccount:!0,address:r,privateKey:g})}function eu(n){let e=null;try{e=JSON.parse(n)}catch{return!1}return e.encseed&&e.ethaddr}function tu(n){let e=null;try{e=JSON.parse(n)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function Ny(n){if(eu(n))try{return It(JSON.parse(n).ethaddr)}catch{return null}if(tu(n))try{return It(JSON.parse(n).address)}catch{return null}return null}var c6=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const Qc=new se(Oy);function Hf(n){return n!=null&&n.mnemonic&&n.mnemonic.phrase}class l6 extends _l{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function d6(n,e,t){if(Ut(n,"crypto/cipher")==="aes-128-ctr"){const i=Si(Ut(n,"crypto/cipherparams/iv")),a=new fr.Counter(i),s=new fr.ModeOfOperation.ctr(e,a);return Ce(s.decrypt(t))}return null}function My(n,e){const t=Si(Ut(n,"crypto/ciphertext"));if($e(Pt(Nt([e.slice(16,32),t]))).substring(2)!==Ut(n,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=d6(n,e.slice(0,16),t);i||Qc.throwError("unsupported cipher",se.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const a=e.slice(32,64),s=Nr(i);if(n.address){let u=n.address.toLowerCase();if(u.substring(0,2)!=="0x"&&(u="0x"+u),It(u)!==s)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:s,privateKey:$e(i)};if(Ut(n,"x-ethers/version")==="0.1"){const u=Si(Ut(n,"x-ethers/mnemonicCiphertext")),c=Si(Ut(n,"x-ethers/mnemonicCounter")),d=new fr.Counter(c),f=new fr.ModeOfOperation.ctr(a,d),g=Ut(n,"x-ethers/path")||Li,x=Ut(n,"x-ethers/locale")||"en",C=Ce(f.decrypt(u));try{const k=vs(C,x),R=xn.fromMnemonic(k,null,x).derivePath(g);if(R.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=R.mnemonic}catch(k){if(k.code!==se.errors.INVALID_ARGUMENT||k.argument!=="wordlist")throw k}}return new l6(o)}function Fy(n,e,t,r,i){return Ce(sd(n,e,t,r,i))}function f6(n,e,t,r,i){return Promise.resolve(Fy(n,e,t,r,i))}function Dy(n,e,t,r,i){const a=ld(e),s=Ut(n,"crypto/kdf");if(s&&typeof s=="string"){const o=function(u,c){return Qc.throwArgumentError("invalid key-derivation function parameters",u,c)};if(s.toLowerCase()==="scrypt"){const u=Si(Ut(n,"crypto/kdfparams/salt")),c=parseInt(Ut(n,"crypto/kdfparams/n")),d=parseInt(Ut(n,"crypto/kdfparams/r")),f=parseInt(Ut(n,"crypto/kdfparams/p"));(!c||!d||!f)&&o("kdf",s),c&c-1&&o("N",c);const g=parseInt(Ut(n,"crypto/kdfparams/dklen"));return g!==32&&o("dklen",g),r(a,u,c,d,f,64,i)}else if(s.toLowerCase()==="pbkdf2"){const u=Si(Ut(n,"crypto/kdfparams/salt"));let c=null;const d=Ut(n,"crypto/kdfparams/prf");d==="hmac-sha256"?c="sha256":d==="hmac-sha512"?c="sha512":o("prf",d);const f=parseInt(Ut(n,"crypto/kdfparams/c")),g=parseInt(Ut(n,"crypto/kdfparams/dklen"));return g!==32&&o("dklen",g),t(a,u,f,g,c)}}return Qc.throwArgumentError("unsupported key-derivation function","kdf",s)}function By(n,e){const t=JSON.parse(n),r=Dy(t,e,Fy,Il.syncScrypt);return My(t,r)}function Ly(n,e,t){return c6(this,void 0,void 0,function*(){const r=JSON.parse(n),i=yield Dy(r,e,f6,Il.scrypt,t);return My(r,i)})}function Uy(n,e,t,r){try{if(It(n.address)!==Nr(n.privateKey))throw new Error("address/privateKey mismatch");if(Hf(n)){const R=n.mnemonic;if(xn.fromMnemonic(R.phrase,null,R.locale).derivePath(R.path||Li).privateKey!=n.privateKey)throw new Error("mnemonic mismatch")}}catch(R){return Promise.reject(R)}typeof t=="function"&&!r&&(r=t,t={}),t||(t={});const i=Ce(n.privateKey),a=ld(e);let s=null,o=null,u=null;if(Hf(n)){const R=n.mnemonic;s=Ce(xs(R.phrase,R.locale||"en")),o=R.path||Li,u=R.locale||"en"}let c=t.client;c||(c="ethers.js");let d=null;t.salt?d=Ce(t.salt):d=wi(32);let f=null;if(t.iv){if(f=Ce(t.iv),f.length!==16)throw new Error("invalid iv")}else f=wi(16);let g=null;if(t.uuid){if(g=Ce(t.uuid),g.length!==16)throw new Error("invalid uuid")}else g=wi(16);let x=1<<17,C=8,k=1;return t.scrypt&&(t.scrypt.N&&(x=t.scrypt.N),t.scrypt.r&&(C=t.scrypt.r),t.scrypt.p&&(k=t.scrypt.p)),Il.scrypt(a,d,x,C,k,64,r).then(R=>{R=Ce(R);const $=R.slice(0,16),q=R.slice(16,32),ie=R.slice(32,64),te=new fr.Counter(f),he=new fr.ModeOfOperation.ctr($,te),ue=Ce(he.encrypt(i)),me=Pt(Nt([q,ue])),M={address:n.address.substring(2).toLowerCase(),id:s6(g),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:$e(f).substring(2)},ciphertext:$e(ue).substring(2),kdf:"scrypt",kdfparams:{salt:$e(d).substring(2),n:x,dklen:32,p:k,r:C},mac:me.substring(2)}};if(s){const S=wi(16),U=new fr.Counter(S),Y=new fr.ModeOfOperation.ctr(ie,U),W=Ce(Y.encrypt(s)),Z=new Date,O=Z.getUTCFullYear()+"-"+ka(Z.getUTCMonth()+1,2)+"-"+ka(Z.getUTCDate(),2)+"T"+ka(Z.getUTCHours(),2)+"-"+ka(Z.getUTCMinutes(),2)+"-"+ka(Z.getUTCSeconds(),2)+".0Z";M["x-ethers"]={client:c,gethFilename:"UTC--"+O+"--"+M.address,mnemonicCounter:$e(S).substring(2),mnemonicCiphertext:$e(W).substring(2),path:o,locale:u,version:"0.1"}}return JSON.stringify(M)})}function qy(n,e,t){if(eu(n)){t&&t(0);const r=dd(n,e);return t&&t(1),Promise.resolve(r)}return tu(n)?Ly(n,e,t):Promise.reject(new Error("invalid JSON wallet"))}function $y(n,e){if(eu(n))return dd(n,e);if(tu(n))return By(n,e);throw new Error("invalid JSON wallet")}const p6=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:dd,decryptJsonWallet:qy,decryptJsonWalletSync:$y,decryptKeystore:Ly,decryptKeystoreSync:By,encryptKeystore:Uy,getJsonWalletAddress:Ny,isCrowdsaleWallet:eu,isKeystoreWallet:tu},Symbol.toStringTag,{value:"Module"})),h6="networks/5.8.0",Gf=new se(h6);function y6(n){return n&&typeof n.renetwork=="function"}function tr(n){const e=function(t,r){r==null&&(r={});const i=[];if(t.InfuraProvider&&r.infura!=="-")try{i.push(new t.InfuraProvider(n,r.infura))}catch{}if(t.EtherscanProvider&&r.etherscan!=="-")try{i.push(new t.EtherscanProvider(n,r.etherscan))}catch{}if(t.AlchemyProvider&&r.alchemy!=="-")try{i.push(new t.AlchemyProvider(n,r.alchemy))}catch{}if(t.PocketProvider&&r.pocket!=="-"){const a=["goerli","ropsten","rinkeby","sepolia"];try{const s=new t.PocketProvider(n,r.pocket);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(t.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new t.CloudflareProvider(n))}catch{}if(t.AnkrProvider&&r.ankr!=="-")try{const a=["ropsten"],s=new t.AnkrProvider(n,r.ankr);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(t.QuickNodeProvider&&r.quicknode!=="-")try{i.push(new t.QuickNodeProvider(n,r.quicknode))}catch{}if(i.length===0)return null;if(t.FallbackProvider){let a=1;return r.quorum!=null?a=r.quorum:n==="homestead"&&(a=2),new t.FallbackProvider(i,a)}return i[0]};return e.renetwork=function(t){return tr(t)},e}function wo(n,e){const t=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(n,e):null};return t.renetwork=function(r){return wo(n,r)},t}const jf={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:tr("homestead")},Wf={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:tr("ropsten")},zf={chainId:63,name:"classicMordor",_defaultProvider:wo("https://www.ethercluster.com/mordor","classicMordor")},Cs={unspecified:{chainId:0,name:"unspecified"},homestead:jf,mainnet:jf,morden:{chainId:2,name:"morden"},ropsten:Wf,testnet:Wf,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:tr("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:tr("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:tr("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:tr("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:tr("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:wo("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:zf,classicTestnet:zf,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:wo("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:tr("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:tr("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:tr("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function fd(n){if(n==null)return null;if(typeof n=="number"){for(const r in Cs){const i=Cs[r];if(i.chainId===n)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:n,name:"unknown"}}if(typeof n=="string"){const r=Cs[n];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=Cs[n.name];if(!e)return typeof n.chainId!="number"&&Gf.throwArgumentError("invalid network chainId","network",n),n;n.chainId!==0&&n.chainId!==e.chainId&&Gf.throwArgumentError("network chainId mismatch","network",n);let t=n._defaultProvider||null;return t==null&&e._defaultProvider&&(y6(e._defaultProvider)?t=e._defaultProvider.renetwork(n):t=e._defaultProvider),{name:n.name,chainId:e.chainId,ensAddress:n.ensAddress||e.ensAddress||null,_defaultProvider:t}}const m6="web/5.8.0";var g6=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};function b6(n,e){return g6(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(t.mode=s.mode),s.cache&&(t.cache=s.cache),s.credentials&&(t.credentials=s.credentials),s.redirect&&(t.redirect=s.redirect),s.referrer&&(t.referrer=s.referrer)}const r=yield fetch(n,t),i=yield r.arrayBuffer(),a={};return r.headers.forEach?r.headers.forEach((s,o)=>{a[o.toLowerCase()]=s}):r.headers.keys().forEach(s=>{a[s.toLowerCase()]=r.headers.get(s)}),{headers:a,statusCode:r.status,statusMessage:r.statusText,body:Ce(new Uint8Array(i))}})}var x6=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const Xn=new se(m6);function Vf(n){return new Promise(e=>{setTimeout(e,n)})}function Gr(n,e){if(n==null)return null;if(typeof n=="string")return n;if(Sl(n)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return ci(n)}catch{}return $e(n)}return n}function v6(n){return jt(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function pd(n,e,t){const r=typeof n=="object"&&n.throttleLimit!=null?n.throttleLimit:12;Xn.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof n=="object"?n.throttleCallback:null,a=typeof n=="object"&&typeof n.throttleSlotInterval=="number"?n.throttleSlotInterval:100;Xn.assertArgument(a>0&&a%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);const s=typeof n=="object"?!!n.errorPassThrough:!1,o={};let u=null;const c={method:"GET"};let d=!1,f=2*60*1e3;if(typeof n=="string")u=n;else if(typeof n=="object"){if((n==null||n.url==null)&&Xn.throwArgumentError("missing URL","connection.url",n),u=n.url,typeof n.timeout=="number"&&n.timeout>0&&(f=n.timeout),n.headers)for(const $ in n.headers)o[$.toLowerCase()]={key:$,value:String(n.headers[$])},["if-none-match","if-modified-since"].indexOf($.toLowerCase())>=0&&(d=!0);if(c.allowGzip=!!n.allowGzip,n.user!=null&&n.password!=null){u.substring(0,6)!=="https:"&&n.allowInsecureAuthentication!==!0&&Xn.throwError("basic authentication requires a secure https url",se.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:n.user,password:"[REDACTED]"});const $=n.user+":"+n.password;o.authorization={key:"Authorization",value:"Basic "+Ul(jt($))}}n.skipFetchSetup!=null&&(c.skipFetchSetup=!!n.skipFetchSetup),n.fetchOptions!=null&&(c.fetchOptions=ct(n.fetchOptions))}const g=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),x=u?u.match(g):null;if(x)try{const $={statusCode:200,statusMessage:"OK",headers:{"content-type":x[1]||"text/plain"},body:x[2]?Ll(x[3]):v6(x[3])};let q=$.body;return t&&(q=t($.body,$)),Promise.resolve(q)}catch($){Xn.throwError("processing response error",se.errors.SERVER_ERROR,{body:Gr(x[1],x[2]),error:$,requestBody:null,requestMethod:"GET",url:u})}e&&(c.method="POST",c.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const C={};Object.keys(o).forEach($=>{const q=o[$];C[q.key]=q.value}),c.headers=C;const k=function(){let $=null;return{promise:new Promise(function(te,he){f&&($=setTimeout(()=>{$!=null&&($=null,he(Xn.makeError("timeout",se.errors.TIMEOUT,{requestBody:Gr(c.body,C["content-type"]),requestMethod:c.method,timeout:f,url:u})))},f))}),cancel:function(){$!=null&&(clearTimeout($),$=null)}}}(),R=function(){return x6(this,void 0,void 0,function*(){for(let $=0;$<r;$++){let q=null;try{if(q=yield b6(u,c),$<r){if(q.statusCode===301||q.statusCode===302){const te=q.headers.location||"";if(c.method==="GET"&&te.match(/^https:/)){u=q.headers.location;continue}}else if(q.statusCode===429){let te=!0;if(i&&(te=yield i($,u)),te){let he=0;const ue=q.headers["retry-after"];typeof ue=="string"&&ue.match(/^[1-9][0-9]*$/)?he=parseInt(ue)*1e3:he=a*parseInt(String(Math.random()*Math.pow(2,$))),yield Vf(he);continue}}}}catch(te){q=te.response,q==null&&(k.cancel(),Xn.throwError("missing response",se.errors.SERVER_ERROR,{requestBody:Gr(c.body,C["content-type"]),requestMethod:c.method,serverError:te,url:u}))}let ie=q.body;if(d&&q.statusCode===304?ie=null:!s&&(q.statusCode<200||q.statusCode>=300)&&(k.cancel(),Xn.throwError("bad response",se.errors.SERVER_ERROR,{status:q.statusCode,headers:q.headers,body:Gr(ie,q.headers?q.headers["content-type"]:null),requestBody:Gr(c.body,C["content-type"]),requestMethod:c.method,url:u})),t)try{const te=yield t(ie,q);return k.cancel(),te}catch(te){if(te.throttleRetry&&$<r){let he=!0;if(i&&(he=yield i($,u)),he){const ue=a*parseInt(String(Math.random()*Math.pow(2,$)));yield Vf(ue);continue}}k.cancel(),Xn.throwError("processing response error",se.errors.SERVER_ERROR,{body:Gr(ie,q.headers?q.headers["content-type"]:null),error:te,requestBody:Gr(c.body,C["content-type"]),requestMethod:c.method,url:u})}return k.cancel(),ie}return Xn.throwError("failed response",se.errors.SERVER_ERROR,{requestBody:Gr(c.body,C["content-type"]),requestMethod:c.method,url:u})})}();return Promise.race([k.promise,R])}function ji(n,e,t){let r=(a,s)=>{let o=null;if(a!=null)try{o=JSON.parse(ci(a))}catch(u){Xn.throwError("invalid JSON",se.errors.SERVER_ERROR,{body:a,error:u})}return t&&(o=t(o,s)),o},i=null;if(e!=null){i=jt(e);const a=typeof n=="string"?{url:n}:ct(n);a.headers?Object.keys(a.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(a.headers=ct(a.headers),a.headers["content-type"]="application/json"):a.headers={"content-type":"application/json"},n=a}return pd(n,i,r)}function Jr(n,e){return e||(e={}),e=ct(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,r){let i=null,a=!1;const s=()=>a?!1:(a=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&r(new Error("timeout"))},e.timeout));const o=e.retryLimit;let u=0;function c(){return n().then(function(d){if(d!==void 0)s()&&t(d);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!a){if(u++,u>o){s()&&r(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(c,f)}return null},function(d){s()&&r(d)})}c()})}const T6=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:pd,fetchJson:ji,poll:Jr},Symbol.toStringTag,{value:"Module"}));var Ao="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Yc={};for(var Rs=0;Rs<Ao.length;Rs++){var tc=Ao.charAt(Rs);if(Yc[tc]!==void 0)throw new TypeError(tc+" is ambiguous");Yc[tc]=Rs}function oa(n){var e=n>>25;return(n&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Hy(n){for(var e=1,t=0;t<n.length;++t){var r=n.charCodeAt(t);if(r<33||r>126)return"Invalid prefix ("+n+")";e=oa(e)^r>>5}for(e=oa(e),t=0;t<n.length;++t){var i=n.charCodeAt(t);e=oa(e)^i&31}return e}function w6(n,e,t){if(t=t||90,n.length+7+e.length>t)throw new TypeError("Exceeds length limit");n=n.toLowerCase();var r=Hy(n);if(typeof r=="string")throw new Error(r);for(var i=n+"1",a=0;a<e.length;++a){var s=e[a];if(s>>5)throw new Error("Non 5-bit word");r=oa(r)^s,i+=Ao.charAt(s)}for(a=0;a<6;++a)r=oa(r);for(r^=1,a=0;a<6;++a){var o=r>>(5-a)*5&31;i+=Ao.charAt(o)}return i}function Gy(n,e){if(e=e||90,n.length<8)return n+" too short";if(n.length>e)return"Exceeds length limit";var t=n.toLowerCase(),r=n.toUpperCase();if(n!==t&&n!==r)return"Mixed-case string "+n;n=t;var i=n.lastIndexOf("1");if(i===-1)return"No separator character for "+n;if(i===0)return"Missing prefix for "+n;var a=n.slice(0,i),s=n.slice(i+1);if(s.length<6)return"Data too short";var o=Hy(a);if(typeof o=="string")return o;for(var u=[],c=0;c<s.length;++c){var d=s.charAt(c),f=Yc[d];if(f===void 0)return"Unknown character "+d;o=oa(o)^f,!(c+6>=s.length)&&u.push(f)}return o!==1?"Invalid checksum for "+n:{prefix:a,words:u}}function A6(){var n=Gy.apply(null,arguments);if(typeof n=="object")return n}function E6(n){var e=Gy.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function nu(n,e,t,r){for(var i=0,a=0,s=(1<<t)-1,o=[],u=0;u<n.length;++u)for(i=i<<e|n[u],a+=e;a>=t;)a-=t,o.push(i>>a&s);if(r)a>0&&o.push(i<<t-a&s);else{if(a>=e)return"Excess padding";if(i<<t-a&s)return"Non-zero padding"}return o}function _6(n){var e=nu(n,8,5,!0);if(Array.isArray(e))return e}function k6(n){var e=nu(n,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function P6(n){var e=nu(n,5,8,!1);if(Array.isArray(e))return e}function S6(n){var e=nu(n,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var I6={decodeUnsafe:A6,decode:E6,encode:w6,toWordsUnsafe:_6,toWords:k6,fromWordsUnsafe:P6,fromWords:S6};const Kf=li(I6);var jy={exports:{}},en={};const hd=yt(mb),Wy=yt(l2),C6=yt(bb),R6="contracts/5.8.0";var si=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const pt=new se(R6),O6={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Eo(n,e){return si(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&pt.throwArgumentError("invalid address or ENS name","name",t);try{return It(t)}catch{}n||pt.throwError("a provider or signer is needed to resolve ENS names",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield n.resolveName(t);return r==null&&pt.throwArgumentError("resolver or addr is not configured for ENS name","name",t),r})}function za(n,e,t){return si(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((r,i)=>za(n,Array.isArray(e)?e[i]:e[r.name],r))):t.type==="address"?yield Eo(n,e):t.type==="tuple"?yield za(n,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>za(n,r,t.arrayChildren))):Promise.reject(pt.makeError("invalid value for array",se.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function ru(n,e,t){return si(this,void 0,void 0,function*(){let r={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(r=ct(t.pop())),pt.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),n.signer?r.from?r.from=_t({override:Eo(n.signer,r.from),signer:n.signer.getAddress()}).then(c=>si(this,void 0,void 0,function*(){return It(c.signer)!==c.override&&pt.throwError("Contract with a Signer cannot override from",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):r.from=n.signer.getAddress():r.from&&(r.from=Eo(n.provider,r.from));const i=yield _t({args:za(n.signer||n.provider,t,e.inputs),address:n.resolvedAddress,overrides:_t(r)||{}}),a=n.interface.encodeFunctionData(e,i.args),s={data:a,to:i.address},o=i.overrides;if(o.nonce!=null&&(s.nonce=Oe.from(o.nonce).toNumber()),o.gasLimit!=null&&(s.gasLimit=Oe.from(o.gasLimit)),o.gasPrice!=null&&(s.gasPrice=Oe.from(o.gasPrice)),o.maxFeePerGas!=null&&(s.maxFeePerGas=Oe.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=Oe.from(o.maxPriorityFeePerGas)),o.from!=null&&(s.from=o.from),o.type!=null&&(s.type=o.type),o.accessList!=null&&(s.accessList=xr(o.accessList)),s.gasLimit==null&&e.gas!=null){let c=21e3;const d=Ce(a);for(let f=0;f<d.length;f++)c+=4,d[f]&&(c+=64);s.gasLimit=Oe.from(e.gas).add(c)}if(o.value){const c=Oe.from(o.value);!c.isZero()&&!e.payable&&pt.throwError("non-payable method cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),s.value=c}o.customData&&(s.customData=ct(o.customData)),o.ccipReadEnabled&&(s.ccipReadEnabled=!!o.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const u=Object.keys(r).filter(c=>r[c]!=null);return u.length&&pt.throwError(`cannot override ${u.map(c=>JSON.stringify(c)).join(",")}`,se.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),s})}function N6(n,e){return function(...t){return ru(n,e,t)}}function M6(n,e){const t=n.signer||n.provider;return function(...r){return si(this,void 0,void 0,function*(){t||pt.throwError("estimate require a provider or signer",se.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield ru(n,e,r);return yield t.estimateGas(i)})}}function zy(n,e){const t=e.wait.bind(e);e.wait=r=>t(r).then(i=>(i.events=i.logs.map(a=>{let s=wn(a),o=null;try{o=n.interface.parseLog(a)}catch{}return o&&(s.args=o.args,s.decode=(u,c)=>n.interface.decodeEventLog(o.eventFragment,u,c),s.event=o.name,s.eventSignature=o.signature),s.removeListener=()=>n.provider,s.getBlock=()=>n.provider.getBlock(i.blockHash),s.getTransaction=()=>n.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function Vy(n,e,t){const r=n.signer||n.provider;return function(...i){return si(this,void 0,void 0,function*(){let a;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const u=ct(i.pop());u.blockTag!=null&&(a=yield u.blockTag),delete u.blockTag,i.push(u)}n.deployTransaction!=null&&(yield n._deployed(a));const s=yield ru(n,e,i),o=yield r.call(s,a);try{let u=n.interface.decodeFunctionResult(e,o);return t&&e.outputs.length===1&&(u=u[0]),u}catch(u){throw u.code===se.errors.CALL_EXCEPTION&&(u.address=n.address,u.args=i,u.transaction=s),u}})}}function F6(n,e){return function(...t){return si(this,void 0,void 0,function*(){n.signer||pt.throwError("sending a transaction requires a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),n.deployTransaction!=null&&(yield n._deployed());const r=yield ru(n,e,t),i=yield n.signer.sendTransaction(r);return zy(n,i),i})}}function Xf(n,e,t){return e.constant?Vy(n,e,t):F6(n,e)}function Ky(n){return n.address&&(n.topics==null||n.topics.length===0)?"*":(n.address||"*")+"@"+(n.topics?n.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}let os=class{constructor(e,t){ce(this,"tag",e),ce(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>t||r.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const i=e.slice();return setTimeout(()=>{r.listener.apply(this,i)},0),!r.once}),t}prepareEvent(e){}getEmit(e){return[e]}},D6=class extends os{constructor(){super("error",null)}},Qf=class extends os{constructor(e,t,r,i){const a={address:e};let s=t.getEventTopic(r);i?(s!==i[0]&&pt.throwArgumentError("topic mismatch","topics",i),a.topics=i.slice()):a.topics=[s],super(Ky(a),a),ce(this,"address",e),ce(this,"interface",t),ce(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,r)=>this.interface.decodeEventLog(this.fragment,t,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=Uo(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}},Yf=class extends os{constructor(e,t){super("*",{address:e}),ce(this,"address",e),ce(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(r,i)=>this.interface.decodeEventLog(t.eventFragment,r,i),e.args=t.args}catch{}}},Xy=class{constructor(e,t,r){ce(this,"interface",tn(new.target,"getInterface")(t)),r==null?(ce(this,"provider",null),ce(this,"signer",null)):ir.isSigner(r)?(ce(this,"provider",r.provider||null),ce(this,"signer",r)):di.isProvider(r)?(ce(this,"provider",r),ce(this,"signer",null)):pt.throwArgumentError("invalid signer or provider","signerOrProvider",r),ce(this,"callStatic",{}),ce(this,"estimateGas",{}),ce(this,"functions",{}),ce(this,"populateTransaction",{}),ce(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(o=>{const u=this.interface.events[o];ce(this.filters,o,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(u,c)})),s[u.name]||(s[u.name]=[]),s[u.name].push(o)}),Object.keys(s).forEach(o=>{const u=s[o];u.length===1?ce(this.filters,o,this.filters[u[0]]):pt.warn(`Duplicate definition of ${o} (${u.join(", ")})`)})}if(ce(this,"_runningEvents",{}),ce(this,"_wrappedEmits",{}),e==null&&pt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ce(this,"address",e),this.provider)ce(this,"resolvedAddress",Eo(this.provider,e));else try{ce(this,"resolvedAddress",Promise.resolve(It(e)))}catch{pt.throwError("provider is required to use ENS name as contract address",se.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},a={};Object.keys(this.interface.functions).forEach(s=>{const o=this.interface.functions[s];if(a[s]){pt.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}a[s]=!0;{const u=o.name;i[`%${u}`]||(i[`%${u}`]=[]),i[`%${u}`].push(s)}this[s]==null&&ce(this,s,Xf(this,o,!0)),this.functions[s]==null&&ce(this.functions,s,Xf(this,o,!1)),this.callStatic[s]==null&&ce(this.callStatic,s,Vy(this,o,!0)),this.populateTransaction[s]==null&&ce(this.populateTransaction,s,N6(this,o)),this.estimateGas[s]==null&&ce(this.estimateGas,s,M6(this,o))}),Object.keys(i).forEach(s=>{const o=i[s];if(o.length>1)return;s=s.substring(1);const u=o[0];try{this[s]==null&&ce(this,s,this[u])}catch{}this.functions[s]==null&&ce(this.functions,s,this.functions[u]),this.callStatic[s]==null&&ce(this.callStatic,s,this.callStatic[u]),this.populateTransaction[s]==null&&ce(this.populateTransaction,s,this.populateTransaction[u]),this.estimateGas[s]==null&&ce(this.estimateGas,s,this.estimateGas[u])})}static getContractAddress(e){return pa(e)}static getInterface(e){return _n.isInterface(e)?e:new _n(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&pt.throwError("contract not deployed",se.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||pt.throwError("sending a transactions require a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=ct(e||{});return["from","to"].forEach(function(r){t[r]!=null&&pt.throwError("cannot override "+r,se.errors.UNSUPPORTED_OPERATION,{operation:r})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new ga(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ce(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Lo.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new D6);if(e==="event")return this._normalizeRunningEvent(new os("event",null));if(e==="*")return this._normalizeRunningEvent(new Yf(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Qf(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const i=this.interface.getEvent(r);return this._normalizeRunningEvent(new Qf(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new os(Ky(t),t))}return this._normalizeRunningEvent(new Yf(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const i=wn(t);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,r){if(this.provider||pt.throwError("events require a provider or a signer with a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=a=>{let s=this._wrapEvent(e,a,t);if(s.decodeError==null)try{const o=e.getEmit(s);this.emit(e.filter,...o)}catch(o){s.decodeError=o.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,r){const i=this._getRunningEvent(e),a=ct(i.filter);return typeof t=="string"&&mt(t,32)?(r!=null&&pt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),a.blockHash=t):(a.fromBlock=t??0,a.toBlock=r??"latest"),this.provider.getLogs(a).then(s=>s.map(o=>this._wrapEvent(i,o,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),i=r.run(t)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,r)=>t+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const i=this._runningEvents[r];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}},Zc=class extends Xy{},B6=class{constructor(e,t,r){let i=null;typeof t=="string"?i=t:Bo(t)?i=$e(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!mt(i)||i.length%2)&&pt.throwArgumentError("invalid bytecode","bytecode",t),r&&!ir.isSigner(r)&&pt.throwArgumentError("invalid signer","signer",r),ce(this,"bytecode",i),ce(this,"interface",tn(new.target,"getInterface")(e)),ce(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=ct(e.pop());for(const r in t)if(!O6[r])throw new Error("unknown transaction override "+r)}return["data","from","to"].forEach(r=>{t[r]!=null&&pt.throwError("cannot override "+r,se.errors.UNSUPPORTED_OPERATION,{operation:r})}),t.value&&!Oe.from(t.value).isZero()&&!this.interface.deploy.payable&&pt.throwError("non-payable constructor cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),pt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=$e(Nt([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return si(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),pt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield za(this.signer,e,this.interface.deploy.inputs);r.push(t);const i=this.getDeployTransaction(...r),a=yield this.signer.sendTransaction(i),s=tn(this.constructor,"getContractAddress")(a),o=tn(this.constructor,"getContract")(s,this.interface,this.signer);return zy(o,a),ce(o,"deployTransaction",a),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&pt.throwError("missing compiler output",se.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}static getInterface(e){return Zc.getInterface(e)}static getContractAddress(e){return pa(e)}static getContract(e,t,r){return new Zc(e,t,r)}};const L6=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:Xy,Contract:Zc,ContractFactory:B6},Symbol.toStringTag,{value:"Module"})),U6=yt(L6);Object.defineProperty(en,"__esModule",{value:!0});var Pa,Ii=(Pa=hd)&&typeof Pa=="object"&&"default"in Pa?Pa.default:Pa,Qy=Wy,iu=C6,q6=U6,yd=iu.BigNumber.from("0xffffffffffff"),Yy=iu.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffff"),au=iu.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Zy=Yy,Jy=yd,em=yd,tm=au,nm=au,md=au,$6=iu.BigNumber.from(0);function rm(n,e){return{name:"Permit2",chainId:e,verifyingContract:n}}var im=[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],H6={PermitSingle:[{name:"details",type:"PermitDetails"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:im},G6={PermitBatch:[{name:"details",type:"PermitDetails[]"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:im},j6=function(){function n(){}return n.getPermitData=function(e,t,r){md.gte(e.sigDeadline)||Ii(!1);var i=rm(t,r);return function(a){return!Array.isArray(a.details)}(e)?(Zf(e.details),{domain:i,types:H6,values:e}):(e.details.forEach(Zf),{domain:i,types:G6,values:e})},n.hash=function(e,t,r){var i=n.getPermitData(e,t,r);return Qy._TypedDataEncoder.hash(i.domain,i.types,i.values)},n}();function Zf(n){em.gte(n.nonce)||Ii(!1),Zy.gte(n.amount)||Ii(!1),Jy.gte(n.expiration)||Ii(!1)}function wr(){wr=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(l,p,h){l[p]=h.value},a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(l,p,h){return Object.defineProperty(l,p,{value:h,enumerable:!0,configurable:!0,writable:!0}),l[p]}try{c({},"")}catch{c=function(p,h,m){return p[h]=m}}function d(l,p,h,m){var T=Object.create((p&&p.prototype instanceof R?p:R).prototype),D=new Z(m||[]);return i(T,"_invoke",{value:S(l,h,D)}),T}function f(l,p,h){try{return{type:"normal",arg:l.call(p,h)}}catch(m){return{type:"throw",arg:m}}}e.wrap=d;var g="suspendedStart",x="executing",C="completed",k={};function R(){}function $(){}function q(){}var ie={};c(ie,s,function(){return this});var te=Object.getPrototypeOf,he=te&&te(te(O([])));he&&he!==t&&r.call(he,s)&&(ie=he);var ue=q.prototype=R.prototype=Object.create(ie);function me(l){["next","throw","return"].forEach(function(p){c(l,p,function(h){return this._invoke(p,h)})})}function M(l,p){function h(T,D,_,v){var y=f(l[T],l,D);if(y.type!=="throw"){var b=y.arg,ee=b.value;return ee&&typeof ee=="object"&&r.call(ee,"__await")?p.resolve(ee.__await).then(function(be){h("next",be,_,v)},function(be){h("throw",be,_,v)}):p.resolve(ee).then(function(be){b.value=be,_(b)},function(be){return h("throw",be,_,v)})}v(y.arg)}var m;i(this,"_invoke",{value:function(T,D){function _(){return new p(function(v,y){h(T,D,v,y)})}return m=m?m.then(_,_):_()}})}function S(l,p,h){var m=g;return function(T,D){if(m===x)throw new Error("Generator is already running");if(m===C){if(T==="throw")throw D;return{value:n,done:!0}}for(h.method=T,h.arg=D;;){var _=h.delegate;if(_){var v=U(_,h);if(v){if(v===k)continue;return v}}if(h.method==="next")h.sent=h._sent=h.arg;else if(h.method==="throw"){if(m===g)throw m=C,h.arg;h.dispatchException(h.arg)}else h.method==="return"&&h.abrupt("return",h.arg);m=x;var y=f(l,p,h);if(y.type==="normal"){if(m=h.done?C:"suspendedYield",y.arg===k)continue;return{value:y.arg,done:h.done}}y.type==="throw"&&(m=C,h.method="throw",h.arg=y.arg)}}}function U(l,p){var h=p.method,m=l.iterator[h];if(m===n)return p.delegate=null,h==="throw"&&l.iterator.return&&(p.method="return",p.arg=n,U(l,p),p.method==="throw")||h!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+h+"' method")),k;var T=f(m,l.iterator,p.arg);if(T.type==="throw")return p.method="throw",p.arg=T.arg,p.delegate=null,k;var D=T.arg;return D?D.done?(p[l.resultName]=D.value,p.next=l.nextLoc,p.method!=="return"&&(p.method="next",p.arg=n),p.delegate=null,k):D:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,k)}function Y(l){var p={tryLoc:l[0]};1 in l&&(p.catchLoc=l[1]),2 in l&&(p.finallyLoc=l[2],p.afterLoc=l[3]),this.tryEntries.push(p)}function W(l){var p=l.completion||{};p.type="normal",delete p.arg,l.completion=p}function Z(l){this.tryEntries=[{tryLoc:"root"}],l.forEach(Y,this),this.reset(!0)}function O(l){if(l||l===""){var p=l[s];if(p)return p.call(l);if(typeof l.next=="function")return l;if(!isNaN(l.length)){var h=-1,m=function T(){for(;++h<l.length;)if(r.call(l,h))return T.value=l[h],T.done=!1,T;return T.value=n,T.done=!0,T};return m.next=m}}throw new TypeError(typeof l+" is not iterable")}return $.prototype=q,i(ue,"constructor",{value:q,configurable:!0}),i(q,"constructor",{value:$,configurable:!0}),$.displayName=c(q,u,"GeneratorFunction"),e.isGeneratorFunction=function(l){var p=typeof l=="function"&&l.constructor;return!!p&&(p===$||(p.displayName||p.name)==="GeneratorFunction")},e.mark=function(l){return Object.setPrototypeOf?Object.setPrototypeOf(l,q):(l.__proto__=q,c(l,u,"GeneratorFunction")),l.prototype=Object.create(ue),l},e.awrap=function(l){return{__await:l}},me(M.prototype),c(M.prototype,o,function(){return this}),e.AsyncIterator=M,e.async=function(l,p,h,m,T){T===void 0&&(T=Promise);var D=new M(d(l,p,h,m),T);return e.isGeneratorFunction(p)?D:D.next().then(function(_){return _.done?_.value:D.next()})},me(ue),c(ue,u,"Generator"),c(ue,s,function(){return this}),c(ue,"toString",function(){return"[object Generator]"}),e.keys=function(l){var p=Object(l),h=[];for(var m in p)h.push(m);return h.reverse(),function T(){for(;h.length;){var D=h.pop();if(D in p)return T.value=D,T.done=!1,T}return T.done=!0,T}},e.values=O,Z.prototype={constructor:Z,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(W),!l)for(var p in this)p.charAt(0)==="t"&&r.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=n)},stop:function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var p=this;function h(y,b){return D.type="throw",D.arg=l,p.next=y,b&&(p.method="next",p.arg=n),!!b}for(var m=this.tryEntries.length-1;m>=0;--m){var T=this.tryEntries[m],D=T.completion;if(T.tryLoc==="root")return h("end");if(T.tryLoc<=this.prev){var _=r.call(T,"catchLoc"),v=r.call(T,"finallyLoc");if(_&&v){if(this.prev<T.catchLoc)return h(T.catchLoc,!0);if(this.prev<T.finallyLoc)return h(T.finallyLoc)}else if(_){if(this.prev<T.catchLoc)return h(T.catchLoc,!0)}else{if(!v)throw new Error("try statement without catch or finally");if(this.prev<T.finallyLoc)return h(T.finallyLoc)}}}},abrupt:function(l,p){for(var h=this.tryEntries.length-1;h>=0;--h){var m=this.tryEntries[h];if(m.tryLoc<=this.prev&&r.call(m,"finallyLoc")&&this.prev<m.finallyLoc){var T=m;break}}T&&(l==="break"||l==="continue")&&T.tryLoc<=p&&p<=T.finallyLoc&&(T=null);var D=T?T.completion:{};return D.type=l,D.arg=p,T?(this.method="next",this.next=T.finallyLoc,k):this.complete(D)},complete:function(l,p){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&p&&(this.next=p),k},finish:function(l){for(var p=this.tryEntries.length-1;p>=0;--p){var h=this.tryEntries[p];if(h.finallyLoc===l)return this.complete(h.completion,h.afterLoc),W(h),k}},catch:function(l){for(var p=this.tryEntries.length-1;p>=0;--p){var h=this.tryEntries[p];if(h.tryLoc===l){var m=h.completion;if(m.type==="throw"){var T=m.arg;W(h)}return T}}throw new Error("illegal catch attempt")},delegateYield:function(l,p,h){return this.delegate={iterator:O(l),resultName:p,nextLoc:h},this.method==="next"&&(this.arg=n),k}},e}function Jf(n,e,t,r,i,a,s){try{var o=n[a](s),u=o.value}catch(c){return void t(c)}o.done?e(u):Promise.resolve(u).then(r,i)}function Os(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function s(u){Jf(a,r,i,s,o,"next",u)}function o(u){Jf(a,r,i,s,o,"throw",u)}s(void 0)})}}function Jc(){return(Jc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var _o=[{name:"token",type:"address"},{name:"amount",type:"uint256"}],W6={PermitTransferFrom:[{name:"permitted",type:"TokenPermissions"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],TokenPermissions:_o},z6={PermitBatchTransferFrom:[{name:"permitted",type:"TokenPermissions[]"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],TokenPermissions:_o},V6=function(){function n(){}return n.getPermitData=function(e,t,r,i){md.gte(e.deadline)||Ii(!1),nm.gte(e.nonce)||Ii(!1);var a=rm(t,r);return function(s){return!Array.isArray(s.permitted)}(e)?(ep(e.permitted),{domain:a,types:i?function(s){return Jc({PermitWitnessTransferFrom:[{name:"permitted",type:"TokenPermissions"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"},{name:"witness",type:s.witnessTypeName}],TokenPermissions:_o},s.witnessType)}(i):W6,values:i?Object.assign(e,{witness:i.witness}):e}):(e.permitted.forEach(ep),{domain:a,types:i?function(s){return Jc({PermitBatchWitnessTransferFrom:[{name:"permitted",type:"TokenPermissions[]"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"},{name:"witness",type:s.witnessTypeName}],TokenPermissions:_o},s.witnessType)}(i):z6,values:i?Object.assign(e,{witness:i.witness}):e})},n.hash=function(e,t,r,i){var a=n.getPermitData(e,t,r,i);return Qy._TypedDataEncoder.hash(a.domain,a.types,a.values)},n}();function ep(n){tm.gte(n.amount)||Ii(!1)}var K6=[{inputs:[],name:"AllowanceExpired",type:"error"},{inputs:[],name:"ExcessiveInvalidation",type:"error"},{inputs:[],name:"InsufficientAllowance",type:"error"},{inputs:[],name:"InvalidAmount",type:"error"},{inputs:[],name:"InvalidContractSignature",type:"error"},{inputs:[],name:"InvalidNonce",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"InvalidSigner",type:"error"},{inputs:[],name:"LengthMismatch",type:"error"},{inputs:[],name:"NotSpender",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint160",name:"amount",type:"uint160"},{indexed:!1,internalType:"uint48",name:"expiration",type:"uint48"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"spender",type:"address"}],name:"Lockdown",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint48",name:"newNonce",type:"uint48"},{indexed:!1,internalType:"uint48",name:"oldNonce",type:"uint48"}],name:"NonceInvalidation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"word",type:"uint256"},{indexed:!1,internalType:"uint256",name:"mask",type:"uint256"}],name:"UnorderedNonceInvalidation",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint48",name:"newNonce",type:"uint48"}],name:"invalidateNonces",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"wordPos",type:"uint256"},{internalType:"uint256",name:"mask",type:"uint256"}],name:"invalidateUnorderedNonces",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"}],internalType:"struct IAllowanceTransfer.TokenSpenderPair[]",name:"approvals",type:"tuple[]"}],name:"lockdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"nonceBitmap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],internalType:"struct IAllowanceTransfer.PermitDetails[]",name:"details",type:"tuple[]"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"sigDeadline",type:"uint256"}],internalType:"struct IAllowanceTransfer.PermitBatch",name:"permitBatch",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],internalType:"struct IAllowanceTransfer.PermitDetails",name:"details",type:"tuple"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"sigDeadline",type:"uint256"}],internalType:"struct IAllowanceTransfer.PermitSingle",name:"permitSingle",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions[]",name:"permitted",type:"tuple[]"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitBatchTransferFrom",name:"permit",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"}],internalType:"struct ISignatureTransfer.SignatureTransferDetails[]",name:"transferDetails",type:"tuple[]"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions",name:"permitted",type:"tuple"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitTransferFrom",name:"permit",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions",name:"permitted",type:"tuple"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitTransferFrom",name:"permit",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"},{internalType:"bytes32",name:"witness",type:"bytes32"},{internalType:"string",name:"witnessTypeName",type:"string"},{internalType:"string",name:"witnessType",type:"string"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitWitnessTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions[]",name:"permitted",type:"tuple[]"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitBatchTransferFrom",name:"permit",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"}],internalType:"struct ISignatureTransfer.SignatureTransferDetails[]",name:"transferDetails",type:"tuple[]"},{internalType:"bytes32",name:"witness",type:"bytes32"},{internalType:"string",name:"witnessTypeName",type:"string"},{internalType:"string",name:"witnessType",type:"string"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitWitnessTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"address",name:"to",type:"address"}],internalType:"struct IAllowanceTransfer.AllowanceTransferDetails[]",name:"transferDetails",type:"tuple[]"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];en.AllowanceProvider=function(){function n(t,r){this.provider=t,this.permit2Address=r,this.permit2=new q6.Contract(this.permit2Address,K6,this.provider)}var e=n.prototype;return e.getAllowanceData=function(){var t=Os(wr().mark(function r(i,a,s){return wr().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.permit2.allowance(a,i,s);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));return function(r,i,a){return t.apply(this,arguments)}}(),e.getAllowance=function(){var t=Os(wr().mark(function r(i,a,s){return wr().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getAllowanceData(i,a,s);case 2:return o.abrupt("return",o.sent.amount);case 3:case"end":return o.stop()}},r,this)}));return function(r,i,a){return t.apply(this,arguments)}}(),e.getNonce=function(){var t=Os(wr().mark(function r(i,a,s){return wr().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getAllowanceData(i,a,s);case 2:return o.abrupt("return",o.sent.nonce);case 3:case"end":return o.stop()}},r,this)}));return function(r,i,a){return t.apply(this,arguments)}}(),e.getExpiration=function(){var t=Os(wr().mark(function r(i,a,s){return wr().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getAllowanceData(i,a,s);case 2:return o.abrupt("return",o.sent.expiration);case 3:case"end":return o.stop()}},r,this)}));return function(r,i,a){return t.apply(this,arguments)}}(),n}(),en.AllowanceTransfer=j6,en.InstantExpiration=$6,en.MaxAllowanceExpiration=Jy,en.MaxAllowanceTransferAmount=Zy,en.MaxOrderedNonce=em,en.MaxSigDeadline=md,en.MaxSignatureTransferAmount=tm,en.MaxUint160=Yy,en.MaxUint256=au,en.MaxUint48=yd,en.MaxUnorderedNonce=nm,en.PERMIT2_ADDRESS="0x000000000022D473030F116dDEE9F6B43aC78BA3",en.SignatureTransfer=V6,en.permit2Address=function(n){switch(n){case 324:return"0x0000000000225e31D15943971F47aD3022F714Fa";default:return"0x000000000022D473030F116dDEE9F6B43aC78BA3"}};jy.exports=en;var am=jy.exports,sm={exports:{}},om={};const X6=[{inputs:[{components:[{internalType:"address",name:"permit2",type:"address"},{internalType:"address",name:"weth9",type:"address"},{internalType:"address",name:"seaportV1_5",type:"address"},{internalType:"address",name:"seaportV1_4",type:"address"},{internalType:"address",name:"openseaConduit",type:"address"},{internalType:"address",name:"nftxZap",type:"address"},{internalType:"address",name:"x2y2",type:"address"},{internalType:"address",name:"foundation",type:"address"},{internalType:"address",name:"sudoswap",type:"address"},{internalType:"address",name:"elementMarket",type:"address"},{internalType:"address",name:"nft20Zap",type:"address"},{internalType:"address",name:"cryptopunks",type:"address"},{internalType:"address",name:"looksRareV2",type:"address"},{internalType:"address",name:"routerRewardsDistributor",type:"address"},{internalType:"address",name:"looksRareRewardsDistributor",type:"address"},{internalType:"address",name:"looksRareToken",type:"address"},{internalType:"address",name:"v2Factory",type:"address"},{internalType:"address",name:"v3Factory",type:"address"},{internalType:"bytes32",name:"pairInitCodeHash",type:"bytes32"},{internalType:"bytes32",name:"poolInitCodeHash",type:"bytes32"}],internalType:"struct RouterParameters",name:"params",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BalanceTooLow",type:"error"},{inputs:[],name:"BuyPunkFailed",type:"error"},{inputs:[],name:"ContractLocked",type:"error"},{inputs:[],name:"ETHNotAccepted",type:"error"},{inputs:[{internalType:"uint256",name:"commandIndex",type:"uint256"},{internalType:"bytes",name:"message",type:"bytes"}],name:"ExecutionFailed",type:"error"},{inputs:[],name:"FromAddressIsNotOwner",type:"error"},{inputs:[],name:"InsufficientETH",type:"error"},{inputs:[],name:"InsufficientToken",type:"error"},{inputs:[],name:"InvalidBips",type:"error"},{inputs:[{internalType:"uint256",name:"commandType",type:"uint256"}],name:"InvalidCommandType",type:"error"},{inputs:[],name:"InvalidOwnerERC1155",type:"error"},{inputs:[],name:"InvalidOwnerERC721",type:"error"},{inputs:[],name:"InvalidPath",type:"error"},{inputs:[],name:"InvalidReserves",type:"error"},{inputs:[],name:"InvalidSpender",type:"error"},{inputs:[],name:"LengthMismatch",type:"error"},{inputs:[],name:"SliceOutOfBounds",type:"error"},{inputs:[],name:"TransactionDeadlinePassed",type:"error"},{inputs:[],name:"UnableToClaim",type:"error"},{inputs:[],name:"UnsafeCast",type:"error"},{inputs:[],name:"V2InvalidPath",type:"error"},{inputs:[],name:"V2TooLittleReceived",type:"error"},{inputs:[],name:"V2TooMuchRequested",type:"error"},{inputs:[],name:"V3InvalidAmountOut",type:"error"},{inputs:[],name:"V3InvalidCaller",type:"error"},{inputs:[],name:"V3InvalidSwap",type:"error"},{inputs:[],name:"V3TooLittleReceived",type:"error"},{inputs:[],name:"V3TooMuchRequested",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardsSent",type:"event"},{inputs:[{internalType:"bytes",name:"looksRareClaim",type:"bytes"}],name:"collectRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"commands",type:"bytes"},{internalType:"bytes[]",name:"inputs",type:"bytes[]"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"commands",type:"bytes"},{internalType:"bytes[]",name:"inputs",type:"bytes[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],Q6={abi:X6},gd=yt(d2),Y6="contracts/5.8.0";var oi=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const ht=new se(Y6),Z6={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function ko(n,e){return oi(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&ht.throwArgumentError("invalid address or ENS name","name",t);try{return It(t)}catch{}n||ht.throwError("a provider or signer is needed to resolve ENS names",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield n.resolveName(t);return r==null&&ht.throwArgumentError("resolver or addr is not configured for ENS name","name",t),r})}function Va(n,e,t){return oi(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((r,i)=>Va(n,Array.isArray(e)?e[i]:e[r.name],r))):t.type==="address"?yield ko(n,e):t.type==="tuple"?yield Va(n,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>Va(n,r,t.arrayChildren))):Promise.reject(ht.makeError("invalid value for array",se.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function su(n,e,t){return oi(this,void 0,void 0,function*(){let r={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(r=ct(t.pop())),ht.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),n.signer?r.from?r.from=_t({override:ko(n.signer,r.from),signer:n.signer.getAddress()}).then(c=>oi(this,void 0,void 0,function*(){return It(c.signer)!==c.override&&ht.throwError("Contract with a Signer cannot override from",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):r.from=n.signer.getAddress():r.from&&(r.from=ko(n.provider,r.from));const i=yield _t({args:Va(n.signer||n.provider,t,e.inputs),address:n.resolvedAddress,overrides:_t(r)||{}}),a=n.interface.encodeFunctionData(e,i.args),s={data:a,to:i.address},o=i.overrides;if(o.nonce!=null&&(s.nonce=Oe.from(o.nonce).toNumber()),o.gasLimit!=null&&(s.gasLimit=Oe.from(o.gasLimit)),o.gasPrice!=null&&(s.gasPrice=Oe.from(o.gasPrice)),o.maxFeePerGas!=null&&(s.maxFeePerGas=Oe.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=Oe.from(o.maxPriorityFeePerGas)),o.from!=null&&(s.from=o.from),o.type!=null&&(s.type=o.type),o.accessList!=null&&(s.accessList=xr(o.accessList)),s.gasLimit==null&&e.gas!=null){let c=21e3;const d=Ce(a);for(let f=0;f<d.length;f++)c+=4,d[f]&&(c+=64);s.gasLimit=Oe.from(e.gas).add(c)}if(o.value){const c=Oe.from(o.value);!c.isZero()&&!e.payable&&ht.throwError("non-payable method cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),s.value=c}o.customData&&(s.customData=ct(o.customData)),o.ccipReadEnabled&&(s.ccipReadEnabled=!!o.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const u=Object.keys(r).filter(c=>r[c]!=null);return u.length&&ht.throwError(`cannot override ${u.map(c=>JSON.stringify(c)).join(",")}`,se.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),s})}function J6(n,e){return function(...t){return su(n,e,t)}}function ew(n,e){const t=n.signer||n.provider;return function(...r){return oi(this,void 0,void 0,function*(){t||ht.throwError("estimate require a provider or signer",se.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield su(n,e,r);return yield t.estimateGas(i)})}}function um(n,e){const t=e.wait.bind(e);e.wait=r=>t(r).then(i=>(i.events=i.logs.map(a=>{let s=wn(a),o=null;try{o=n.interface.parseLog(a)}catch{}return o&&(s.args=o.args,s.decode=(u,c)=>n.interface.decodeEventLog(o.eventFragment,u,c),s.event=o.name,s.eventSignature=o.signature),s.removeListener=()=>n.provider,s.getBlock=()=>n.provider.getBlock(i.blockHash),s.getTransaction=()=>n.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function cm(n,e,t){const r=n.signer||n.provider;return function(...i){return oi(this,void 0,void 0,function*(){let a;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const u=ct(i.pop());u.blockTag!=null&&(a=yield u.blockTag),delete u.blockTag,i.push(u)}n.deployTransaction!=null&&(yield n._deployed(a));const s=yield su(n,e,i),o=yield r.call(s,a);try{let u=n.interface.decodeFunctionResult(e,o);return t&&e.outputs.length===1&&(u=u[0]),u}catch(u){throw u.code===se.errors.CALL_EXCEPTION&&(u.address=n.address,u.args=i,u.transaction=s),u}})}}function tw(n,e){return function(...t){return oi(this,void 0,void 0,function*(){n.signer||ht.throwError("sending a transaction requires a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),n.deployTransaction!=null&&(yield n._deployed());const r=yield su(n,e,t),i=yield n.signer.sendTransaction(r);return um(n,i),i})}}function tp(n,e,t){return e.constant?cm(n,e,t):tw(n,e)}function lm(n){return n.address&&(n.topics==null||n.topics.length===0)?"*":(n.address||"*")+"@"+(n.topics?n.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class us{constructor(e,t){ce(this,"tag",e),ce(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>t||r.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const i=e.slice();return setTimeout(()=>{r.listener.apply(this,i)},0),!r.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class nw extends us{constructor(){super("error",null)}}class np extends us{constructor(e,t,r,i){const a={address:e};let s=t.getEventTopic(r);i?(s!==i[0]&&ht.throwArgumentError("topic mismatch","topics",i),a.topics=i.slice()):a.topics=[s],super(lm(a),a),ce(this,"address",e),ce(this,"interface",t),ce(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,r)=>this.interface.decodeEventLog(this.fragment,t,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=Uo(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class rp extends us{constructor(e,t){super("*",{address:e}),ce(this,"address",e),ce(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(r,i)=>this.interface.decodeEventLog(t.eventFragment,r,i),e.args=t.args}catch{}}}class bd{constructor(e,t,r){ce(this,"interface",tn(new.target,"getInterface")(t)),r==null?(ce(this,"provider",null),ce(this,"signer",null)):ir.isSigner(r)?(ce(this,"provider",r.provider||null),ce(this,"signer",r)):di.isProvider(r)?(ce(this,"provider",r),ce(this,"signer",null)):ht.throwArgumentError("invalid signer or provider","signerOrProvider",r),ce(this,"callStatic",{}),ce(this,"estimateGas",{}),ce(this,"functions",{}),ce(this,"populateTransaction",{}),ce(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(o=>{const u=this.interface.events[o];ce(this.filters,o,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(u,c)})),s[u.name]||(s[u.name]=[]),s[u.name].push(o)}),Object.keys(s).forEach(o=>{const u=s[o];u.length===1?ce(this.filters,o,this.filters[u[0]]):ht.warn(`Duplicate definition of ${o} (${u.join(", ")})`)})}if(ce(this,"_runningEvents",{}),ce(this,"_wrappedEmits",{}),e==null&&ht.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ce(this,"address",e),this.provider)ce(this,"resolvedAddress",ko(this.provider,e));else try{ce(this,"resolvedAddress",Promise.resolve(It(e)))}catch{ht.throwError("provider is required to use ENS name as contract address",se.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},a={};Object.keys(this.interface.functions).forEach(s=>{const o=this.interface.functions[s];if(a[s]){ht.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}a[s]=!0;{const u=o.name;i[`%${u}`]||(i[`%${u}`]=[]),i[`%${u}`].push(s)}this[s]==null&&ce(this,s,tp(this,o,!0)),this.functions[s]==null&&ce(this.functions,s,tp(this,o,!1)),this.callStatic[s]==null&&ce(this.callStatic,s,cm(this,o,!0)),this.populateTransaction[s]==null&&ce(this.populateTransaction,s,J6(this,o)),this.estimateGas[s]==null&&ce(this.estimateGas,s,ew(this,o))}),Object.keys(i).forEach(s=>{const o=i[s];if(o.length>1)return;s=s.substring(1);const u=o[0];try{this[s]==null&&ce(this,s,this[u])}catch{}this.functions[s]==null&&ce(this.functions,s,this.functions[u]),this.callStatic[s]==null&&ce(this.callStatic,s,this.callStatic[u]),this.populateTransaction[s]==null&&ce(this.populateTransaction,s,this.populateTransaction[u]),this.estimateGas[s]==null&&ce(this.estimateGas,s,this.estimateGas[u])})}static getContractAddress(e){return pa(e)}static getInterface(e){return _n.isInterface(e)?e:new _n(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&ht.throwError("contract not deployed",se.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||ht.throwError("sending a transactions require a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=ct(e||{});return["from","to"].forEach(function(r){t[r]!=null&&ht.throwError("cannot override "+r,se.errors.UNSUPPORTED_OPERATION,{operation:r})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new ga(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ce(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Lo.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new nw);if(e==="event")return this._normalizeRunningEvent(new us("event",null));if(e==="*")return this._normalizeRunningEvent(new rp(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new np(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const i=this.interface.getEvent(r);return this._normalizeRunningEvent(new np(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new us(lm(t),t))}return this._normalizeRunningEvent(new rp(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const i=wn(t);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,r){if(this.provider||ht.throwError("events require a provider or a signer with a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=a=>{let s=this._wrapEvent(e,a,t);if(s.decodeError==null)try{const o=e.getEmit(s);this.emit(e.filter,...o)}catch(o){s.decodeError=o.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,r){const i=this._getRunningEvent(e),a=ct(i.filter);return typeof t=="string"&&mt(t,32)?(r!=null&&ht.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),a.blockHash=t):(a.fromBlock=t??0,a.toBlock=r??"latest"),this.provider.getLogs(a).then(s=>s.map(o=>this._wrapEvent(i,o,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),i=r.run(t)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,r)=>t+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const i=this._runningEvents[r];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class Po extends bd{}class dm{constructor(e,t,r){let i=null;typeof t=="string"?i=t:Bo(t)?i=$e(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!mt(i)||i.length%2)&&ht.throwArgumentError("invalid bytecode","bytecode",t),r&&!ir.isSigner(r)&&ht.throwArgumentError("invalid signer","signer",r),ce(this,"bytecode",i),ce(this,"interface",tn(new.target,"getInterface")(e)),ce(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=ct(e.pop());for(const r in t)if(!Z6[r])throw new Error("unknown transaction override "+r)}return["data","from","to"].forEach(r=>{t[r]!=null&&ht.throwError("cannot override "+r,se.errors.UNSUPPORTED_OPERATION,{operation:r})}),t.value&&!Oe.from(t.value).isZero()&&!this.interface.deploy.payable&&ht.throwError("non-payable constructor cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),ht.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=$e(Nt([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return oi(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),ht.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield Va(this.signer,e,this.interface.deploy.inputs);r.push(t);const i=this.getDeployTransaction(...r),a=yield this.signer.sendTransaction(i),s=tn(this.constructor,"getContractAddress")(a),o=tn(this.constructor,"getContract")(s,this.interface,this.signer);return um(o,a),ce(o,"deployTransaction",a),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&ht.throwError("missing compiler output",se.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}static getInterface(e){return Po.getInterface(e)}static getContractAddress(e){return pa(e)}static getContract(e,t,r){return new Po(e,t,r)}}const rw="wallet/5.8.0";var ip=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const Xi=new se(rw);function iw(n){return n!=null&&mt(n.privateKey,32)&&n.address!=null}function aw(n){const e=n.mnemonic;return e&&e.phrase}class Pr extends ir{constructor(e,t){if(super(),iw(e)){const r=new ti(e.privateKey);if(ce(this,"_signingKey",()=>r),ce(this,"address",Nr(this.publicKey)),this.address!==It(e.address)&&Xi.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),aw(e)){const i=e.mnemonic;ce(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Li,locale:i.locale||"en"}));const a=this.mnemonic,s=xn.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path);Nr(s.privateKey)!==this.address&&Xi.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ce(this,"_mnemonic",()=>null)}else{if(ti.isSigningKey(e))e.curve!=="secp256k1"&&Xi.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ce(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const r=new ti(e);ce(this,"_signingKey",()=>r)}ce(this,"_mnemonic",()=>null),ce(this,"address",Nr(this.publicKey))}t&&!di.isProvider(t)&&Xi.throwArgumentError("invalid provider","provider",t),ce(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Pr(this,e)}signTransaction(e){return _t(e).then(t=>{t.from!=null&&(It(t.from)!==this.address&&Xi.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(Pt(xo(t)));return xo(t,r)})}signMessage(e){return ip(this,void 0,void 0,function*(){return Oc(this._signingKey().signDigest(Wo(e)))})}_signTypedData(e,t,r){return ip(this,void 0,void 0,function*(){const i=yield Oi.resolveNames(e,t,r,a=>(this.provider==null&&Xi.throwError("cannot resolve ENS names without a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:a}),this.provider.resolveName(a)));return Oc(this._signingKey().signDigest(Oi.hash(i.domain,t,i.value)))})}encrypt(e,t,r){if(typeof t=="function"&&!r&&(r=t,t={}),r&&typeof r!="function")throw new Error("invalid callback");return t||(t={}),Uy(this,e,t,r)}static createRandom(e){let t=wi(16);e||(e={}),e.extraEntropy&&(t=Ce(Qt(Pt(Nt([t,e.extraEntropy])),0,16)));const r=vs(t,e.locale);return Pr.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return qy(e,t,r).then(i=>new Pr(i))}static fromEncryptedJsonSync(e,t){return new Pr($y(e,t))}static fromMnemonic(e,t,r){return t||(t=Li),new Pr(xn.fromMnemonic(e,null,r).derivePath(t))}}function fm(n,e){return xa(Wo(n),e)}function pm(n,e,t,r){return xa(Oi.hash(n,e,t),r)}const sw=Object.freeze(Object.defineProperty({__proto__:null,Wallet:Pr,verifyMessage:fm,verifyTypedData:pm},Symbol.toStringTag,{value:"Module"})),rn="providers/5.8.0",Sa=new se(rn);class Be{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),a=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),u=this.number.bind(this),c=this.type.bind(this),d=f=>this.data(f,!0);return e.transaction={hash:s,type:c,accessList:Be.allowNull(this.accessList.bind(this),null),blockHash:Be.allowNull(s,null),blockNumber:Be.allowNull(u,null),transactionIndex:Be.allowNull(u,null),confirmations:Be.allowNull(u,null),from:t,gasPrice:Be.allowNull(r),maxPriorityFeePerGas:Be.allowNull(r),maxFeePerGas:Be.allowNull(r),gasLimit:r,to:Be.allowNull(t,null),value:r,nonce:u,data:a,r:Be.allowNull(this.uint256),s:Be.allowNull(this.uint256),v:Be.allowNull(u),creates:Be.allowNull(t,null),raw:Be.allowNull(a)},e.transactionRequest={from:Be.allowNull(t),nonce:Be.allowNull(u),gasLimit:Be.allowNull(r),gasPrice:Be.allowNull(r),maxPriorityFeePerGas:Be.allowNull(r),maxFeePerGas:Be.allowNull(r),to:Be.allowNull(t),value:Be.allowNull(r),data:Be.allowNull(d),type:Be.allowNull(u),accessList:Be.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:u,blockNumber:u,transactionHash:s,address:t,topics:Be.arrayOf(s),data:a,logIndex:u,blockHash:s},e.receipt={to:Be.allowNull(this.address,null),from:Be.allowNull(this.address,null),contractAddress:Be.allowNull(t,null),transactionIndex:u,root:Be.allowNull(o),gasUsed:r,logsBloom:Be.allowNull(a),blockHash:s,transactionHash:s,logs:Be.arrayOf(this.receiptLog.bind(this)),blockNumber:u,confirmations:Be.allowNull(u,null),cumulativeGasUsed:r,effectiveGasPrice:Be.allowNull(r),status:Be.allowNull(u),type:c},e.block={hash:Be.allowNull(s),parentHash:s,number:u,timestamp:u,nonce:Be.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Be.allowNull(t),extraData:a,transactions:Be.allowNull(Be.arrayOf(s)),baseFeePerGas:Be.allowNull(r)},e.blockWithTransactions=ct(e.block),e.blockWithTransactions.transactions=Be.allowNull(Be.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Be.allowNull(i,void 0),toBlock:Be.allowNull(i,void 0),blockHash:Be.allowNull(s,void 0),address:Be.allowNull(t,void 0),topics:Be.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Be.allowNull(u),blockHash:Be.allowNull(s),transactionIndex:u,removed:Be.allowNull(this.boolean.bind(this)),address:t,data:Be.allowFalsish(a,"0x"),topics:Be.arrayOf(s),transactionHash:s,logIndex:u},e}accessList(e){return xr(e||[])}number(e){return e==="0x"?0:Oe.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Oe.from(e).toNumber()}bigNumber(e){return Oe.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),mt(e))?e.toLowerCase():Sa.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return It(e)}callAddress(e){if(!mt(e,32))return null;const t=It(Qt(e,12));return t===B0?null:t}contractAddress(e){return pa(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||mt(e))return hs(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return pr(r)!==32?Sa.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const t=Oe.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!mt(e))throw new Error("invalid uint256");return Lt(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=Be.check(t,e);return i._difficulty=r==null?null:Oe.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Be.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Oe.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=Be.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;mt(r)&&(r=Oe.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;r==null&&t.v==null&&(r=e.chainId),mt(r)&&(r=Oe.from(r).toNumber()),typeof r!="number"&&t.v!=null&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),t.chainId=r}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return id(e)}receiptLog(e){return Be.check(this.formats.receiptLog,e)}receipt(e){const t=Be.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const r=Oe.from(t.root).toNumber();r===0||r===1?(t.status!=null&&t.status!==r&&Sa.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=r,delete t.root):Sa.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&Sa.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return Be.check(this.formats.filter,e)}filterLog(e){return Be.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const i in e)try{const a=e[i](t[i]);a!==void 0&&(r[i]=a)}catch(a){throw a.checkKey=i,a.checkValue=t[i],a}return r}static allowNull(e,t){return function(r){return r==null?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach(function(i){r.push(e(i))}),r}}}function hm(n){return n&&typeof n.isCommunityResource=="function"}function el(n){return hm(n)&&n.isCommunityResource()}let ap=!1;function Ts(){ap||(ap=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Qe=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const rt=new se(rn),ow=10;function sp(n){return n==null?"null":(pr(n)!==32&&rt.throwArgumentError("invalid topic","topic",n),n.toLowerCase())}function op(n){for(n=n.slice();n.length>0&&n[n.length-1]==null;)n.pop();return n.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[sp(i)]=!0});const r=Object.keys(t);return r.sort(),r.join("|")}else return sp(e)}).join("&")}function uw(n){return n===""?[]:n.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(r=>r==="null"?null:r);return t.length===1?t[0]:t})}function Qi(n){if(typeof n=="string"){if(n=n.toLowerCase(),pr(n)===32)return"tx:"+n;if(n.indexOf(":")===-1)return n}else{if(Array.isArray(n))return"filter:*:"+op(n);if(yT.isForkEvent(n))throw rt.warn("not implemented"),new Error("not implemented");if(n&&typeof n=="object")return"filter:"+(n.address||"*")+":"+op(n.topics||[])}throw new Error("invalid event - "+n)}function Ia(){return new Date().getTime()}function up(n){return new Promise(e=>{setTimeout(e,n)})}const cw=["block","network","pending","poll"];class lw{constructor(e,t,r){ce(this,"tag",e),ce(this,"listener",t),ce(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],r=uw(e[2]),i={};return r.length>0&&(i.topics=r),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||cw.indexOf(this.tag)>=0}}const dw={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function nc(n){return Lt(Oe.from(n).toHexString(),32)}function cp(n){return Bi.encode(Nt([n,Qt(mr(mr(n)),0,4)]))}const ym=new RegExp("^(ipfs)://(.*)$","i"),lp=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ym,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Ws(n,e){try{return ci(cs(n,e))}catch{}return null}function cs(n,e){if(n==="0x")return null;const t=Oe.from(Qt(n,e,e+32)).toNumber(),r=Oe.from(Qt(n,t,t+32)).toNumber();return Qt(n,t+32,t+32+r)}function rc(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):rt.throwArgumentError("unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}function dp(n){const e=Ce(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function fw(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}function mm(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(null),t+=32;for(let r=0;r<n.length;r++){const i=Ce(n[r]);e[r]=dp(t),e.push(dp(i.length)),e.push(fw(i)),t+=32+Math.ceil(i.length/32)*32}return Tn(e)}class tl{constructor(e,t,r,i){ce(this,"provider",e),ce(this,"name",r),ce(this,"address",e.formatter.address(t)),ce(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Oe.from(e).eq(1)).catch(e=>{if(e.code===se.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return Qe(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:Tn([e,aa(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=Tn(["0x9061b923",mm([ql(this.name),r.data])]));try{let a=yield this.provider.call(r);return Ce(a).length%32===4&&rt.throwError("resolver threw error",se.errors.CALL_EXCEPTION,{transaction:r,data:a}),i&&(a=cs(a,0)),a}catch(a){if(a.code===se.errors.CALL_EXCEPTION)return null;throw a}})}_fetchBytes(e,t){return Qe(this,void 0,void 0,function*(){const r=yield this._fetch(e,t);return r!=null?cs(r,0):null})}_getAddress(e,t){const r=dw[String(e)];if(r==null&&rt.throwError(`unsupported coin type: ${e}`,se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(t);const i=Ce(t);if(r.p2pkh!=null){const a=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return cp(Nt([[r.p2pkh],"0x"+a[2]]))}}if(r.p2sh!=null){const a=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return cp(Nt([[r.p2sh],"0x"+a[2]]))}}if(r.prefix!=null){const a=i[1];let s=i[0];if(s===0?a!==20&&a!==32&&(s=-1):s=-1,s>=0&&i.length===2+a&&a>=1&&a<=75){const o=Kf.toWords(i.slice(2));return o.unshift(s),Kf.encode(r.prefix,o)}}return null}getAddress(e){return Qe(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===Fl?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===se.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",nc(e));if(t==null||t==="0x")return null;const r=this._getAddress(e,t);return r==null&&rt.throwError("invalid or unsupported coin data",se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return Qe(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let r=0;r<lp.length;r++){const i=t.match(lp[r]);if(i==null)continue;const a=i[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:rc(t)};case"erc721":case"erc1155":{const s=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:t});const o=this._resolvedAddress||(yield this.getAddress()),u=(i[2]||"").split("/");if(u.length!==2)return null;const c=yield this.provider.formatter.address(u[0]),d=Lt(Oe.from(u[1]).toHexString(),32);if(a==="erc721"){const k=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:Tn(["0x6352211e",d])}));if(o!==k)return null;e.push({type:"owner",content:k})}else if(a==="erc1155"){const k=Oe.from(yield this.provider.call({to:c,data:Tn(["0x00fdd58e",Lt(o,32),d])}));if(k.isZero())return null;e.push({type:"balance",content:k.toString()})}const f={to:this.provider.formatter.address(u[0]),data:Tn([s,d])};let g=Ws(yield this.provider.call(f),0);if(g==null)return null;e.push({type:"metadata-url-base",content:g}),a==="erc1155"&&(g=g.replace("{id}",d.substring(2)),e.push({type:"metadata-url-expanded",content:g})),g.match(/^ipfs:/i)&&(g=rc(g)),e.push({type:"metadata-url",content:g});const x=yield ji(g);if(!x)return null;e.push({type:"metadata",content:JSON.stringify(x)});let C=x.image;if(typeof C!="string")return null;if(!C.match(/^(https:\/\/|data:)/i)){if(C.match(ym)==null)return null;e.push({type:"url-ipfs",content:C}),C=rc(C)}return e.push({type:"url",content:C}),{linkage:e,url:C}}}}}catch{}return null})}getContentHash(){return Qe(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=parseInt(t[3],16);if(t[4].length===s*2)return"ipfs://"+Bi.encode("0x"+t[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipns://"+Bi.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const a=e.match(/^0x90b2c605([0-9a-f]*)$/);if(a&&a[1].length===34*2){const s={"=":"","+":"-","/":"_"};return"sia://"+Ul("0x"+a[1]).replace(/[=+\/]/g,u=>s[u])}return rt.throwError("invalid or unsupported content hash data",se.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Qe(this,void 0,void 0,function*(){let t=jt(e);t=Nt([nc(64),nc(t.length),t]),t.length%32!==0&&(t=Nt([t,Lt("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",$e(t));return r==null||r==="0x"?null:ci(r)})}}let ic=null,pw=1;class ou extends di{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ce(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=tn(new.target,"getNetwork")(e);t?(ce(this,"_network",t),this.emit("network",t,null)):rt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Qe(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||rt.throwError("no network detected",se.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ce(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Jr(()=>this._ready().then(e=>e,e=>{if(!(e.code===se.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return ic==null&&(ic=new Be),ic}static getNetwork(e){return fd(e??"homestead")}ccipReadFetch(e,t,r){return Qe(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),a=t.toLowerCase(),s=[];for(let o=0;o<r.length;o++){const u=r[o],c=u.replace("{sender}",i).replace("{data}",a),d=u.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),f=yield ji({url:c,errorPassThrough:!0},d,(x,C)=>(x.status=C.statusCode,x));if(f.data)return f.data;const g=f.message||"unknown error";if(f.status>=400&&f.status<500)return rt.throwError(`response not found during CCIP fetch: ${g}`,se.errors.SERVER_ERROR,{url:u,errorMessage:g});s.push(g)}return rt.throwError(`error encountered during CCIP fetch: ${s.map(o=>JSON.stringify(o)).join(", ")}`,se.errors.SERVER_ERROR,{urls:r,errorMessages:s})})}_getInternalBlockNumber(e){return Qe(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const a=yield i;if(Ia()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=Ia(),r=_t({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:a})=>{if(a)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),a;const s=Ia();return i=Oe.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:s}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Qe(this,void 0,void 0,function*(){const e=pw++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)rt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",rt.makeError("network block skew detected",se.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const a=this._emitted[i];a!=="pending"&&r-a>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const a=i.hash;let s=this.getTransactionReceipt(a).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+a]=o.blockNumber,this.emit(a,o)),null)).catch(o=>{this.emit("error",o)});t.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const a=i.filter;a.fromBlock=i._lastBlockNumber+1,a.toBlock=r;const s=a.toBlock-this._maxFilterBlockRange;s>a.fromBlock&&(a.fromBlock=s),a.fromBlock<0&&(a.fromBlock=0);const o=this.getLogs(a).then(u=>{i._inflight=!1,u.length!==0&&u.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(a,c)})}).catch(u=>{this.emit("error",u),i._inflight=!1});t.push(o)}break}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Qe(this,void 0,void 0,function*(){return rt.throwError("provider does not support network detection",se.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Qe(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield up(0),this._network;const r=rt.makeError("underlying network changed",se.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Ia();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Ia(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return Qe(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,r||0,null)})}_waitForTransaction(e,t,r,i){return Qe(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=t?a:new Promise((s,o)=>{const u=[];let c=!1;const d=function(){return c?!0:(c=!0,u.forEach(g=>{g()}),!1)},f=g=>{g.confirmations<t||d()||s(g)};if(this.on(e,f),u.push(()=>{this.removeListener(e,f)}),i){let g=i.startBlock,x=null;const C=k=>Qe(this,void 0,void 0,function*(){c||(yield up(1e3),this.getTransactionCount(i.from).then(R=>Qe(this,void 0,void 0,function*(){if(!c){if(R<=i.nonce)g=k;else{{const $=yield this.getTransaction(e);if($&&$.blockNumber!=null)return}for(x==null&&(x=g-3,x<i.startBlock&&(x=i.startBlock));x<=k;){if(c)return;const $=yield this.getBlockWithTransactions(x);for(let q=0;q<$.transactions.length;q++){const ie=$.transactions[q];if(ie.hash===e)return;if(ie.from===i.from&&ie.nonce===i.nonce){if(c)return;const te=yield this.waitForTransaction(ie.hash,t);if(d())return;let he="replaced";ie.data===i.data&&ie.to===i.to&&ie.value.eq(i.value)?he="repriced":ie.data==="0x"&&ie.from===ie.to&&ie.value.isZero()&&(he="cancelled"),o(rt.makeError("transaction was replaced",se.errors.TRANSACTION_REPLACED,{cancelled:he==="replaced"||he==="cancelled",reason:he,replacement:this._wrapTransaction(ie),hash:e,receipt:te}));return}}x++}}c||this.once("block",C)}}),R=>{c||this.once("block",C)}))});if(c)return;this.once("block",C),u.push(()=>{this.removeListener("block",C)})}if(typeof r=="number"&&r>0){const g=setTimeout(()=>{d()||o(rt.makeError("timeout exceeded",se.errors.TIMEOUT,{timeout:r}))},r);g.unref&&g.unref(),u.push(()=>{clearTimeout(g)})}})})}getBlockNumber(){return Qe(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Qe(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Oe.from(e)}catch(t){return rt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return Qe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield _t({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",r);try{return Oe.from(i)}catch(a){return rt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:a})}})}getTransactionCount(e,t){return Qe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield _t({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",r);try{return Oe.from(i).toNumber()}catch(a){return rt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:a})}})}getCode(e,t){return Qe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield _t({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",r);try{return $e(i)}catch(a){return rt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:a})}})}getStorageAt(e,t,r){return Qe(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield _t({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(s=>hs(s))}),a=yield this.perform("getStorageAt",i);try{return $e(a)}catch(s){return rt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:s})}})}_wrapTransaction(e,t,r){if(t!=null&&pr(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&rt.throwError("Transaction hash mismatch from Provider.sendTransaction.",se.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(a,s)=>Qe(this,void 0,void 0,function*(){a==null&&(a=1),s==null&&(s=0);let o;a!==0&&r!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const u=yield this._waitForTransaction(e.hash,a,s,o);return u==null&&a===0?null:(this._emitted["t:"+e.hash]=u.blockNumber,u.status===0&&rt.throwError("transaction failed",se.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:u}),u)}),i}sendTransaction(e){return Qe(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(a=>$e(a)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,a,i)}catch(a){throw a.transaction=r,a.transactionHash=r.hash,a}})}_getTransactionRequest(e){return Qe(this,void 0,void 0,function*(){const t=yield e,r={};return["from","to"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(a=>a?Oe.from(a):null))}),["type"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(a=>a??null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(a=>a?$e(a):null))}),this.formatter.transactionRequest(yield _t(r))})}_getFilter(e){return Qe(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield _t(t))})}_call(e,t,r){return Qe(this,void 0,void 0,function*(){r>=ow&&rt.throwError("CCIP read exceeded maximum redirections",se.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,a=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&t==="latest"&&i!=null&&a.substring(0,10)==="0x556f1830"&&pr(a)%32===4)try{const s=Qt(a,4),o=Qt(s,0,32);Oe.from(o).eq(i)||rt.throwError("CCIP Read sender did not match",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const u=[],c=Oe.from(Qt(s,32,64)).toNumber(),d=Oe.from(Qt(s,c,c+32)).toNumber(),f=Qt(s,c+32);for(let $=0;$<d;$++){const q=Ws(f,$*32);q==null&&rt.throwError("CCIP Read contained corrupt URL string",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),u.push(q)}const g=cs(s,64);Oe.from(Qt(s,100,128)).isZero()||rt.throwError("CCIP Read callback selector included junk",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const x=Qt(s,96,100),C=cs(s,128),k=yield this.ccipReadFetch(e,g,u);k==null&&rt.throwError("CCIP Read disabled or provided no URLs",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const R={to:i,data:Tn([x,mm([k,C])])};return this._call(R,t,r+1)}catch(s){if(s.code===se.errors.SERVER_ERROR)throw s}try{return $e(a)}catch(s){return rt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:a,error:s})}})}call(e,t){return Qe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield _t({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Qe(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield _t({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return Oe.from(r)}catch(i){return rt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:i})}})}_getAddress(e){return Qe(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&rt.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&rt.throwError("ENS name not configured",se.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return Qe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!t};if(mt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),mt(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{rt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Jr(()=>Qe(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",i);if(a==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(t){let s=null;for(let u=0;u<a.transactions.length;u++){const c=a.transactions[u];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let d=s-c.blockNumber+1;d<=0&&(d=1),c.confirmations=d}}const o=this.formatter.blockWithTransactions(a);return o.transactions=o.transactions.map(u=>this._wrapTransaction(u)),o}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Qe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Jr(()=>Qe(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Qe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Jr(()=>Qe(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return Qe(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield _t({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),Be.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Qe(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Qe(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&rt.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return Qe(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const r=yield this._getResolver(t,"getResolver");if(r!=null){const i=new tl(this,r,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return Qe(this,void 0,void 0,function*(){t==null&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||rt.throwError("network does not support ENS",se.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+aa(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Qe(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(mt(e))throw r}typeof e!="string"&&rt.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return Qe(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(r==null)return null;const i=Ws(yield this.call({to:r,data:"0x691f3431"+aa(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Qe(this,void 0,void 0,function*(){let t=null;if(mt(e)){const a=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(a,"getAvatar");if(!s)return null;t=new tl(this,s,a);try{const o=yield t.getAvatar();if(o)return o.url}catch(o){if(o.code!==se.errors.CALL_EXCEPTION)throw o}try{const o=Ws(yield this.call({to:s,data:"0x691f3431"+aa(a).substring(2)}),0);t=yield this.getResolver(o)}catch(o){if(o.code!==se.errors.CALL_EXCEPTION)throw o;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return r==null?null:r.url})}perform(e,t){return rt.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,r){const i=new lw(Qi(e),t,r);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,i=[],a=Qi(e);return this._events=this._events.filter(s=>s.tag!==a?!0:(setTimeout(()=>{s.listener.apply(this,t)},0),r=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),r}listenerCount(e){if(!e)return this._events.length;let t=Qi(e);return this._events.filter(r=>r.tag===t).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let t=Qi(e);return this._events.filter(r=>r.tag===t).map(r=>r.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const r=[];let i=!1,a=Qi(e);return this._events=this._events.filter(s=>s.tag!==a||s.listener!=t||i?!0:(i=!0,r.push(s),!1)),r.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const r=Qi(e);this._events=this._events.filter(i=>i.tag!==r?!0:(t.push(i),!1))}return t.forEach(r=>{this._stopEvent(r)}),this}}var _r=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const Gt=new se(rn),hw=["call","estimateGas"];function Ka(n,e){if(n==null)return null;if(typeof n.message=="string"&&n.message.match("reverted")){const t=mt(n.data)?n.data:null;if(!e||t)return{message:n.message,data:t}}if(typeof n=="object"){for(const t in n){const r=Ka(n[t],e);if(r)return r}return null}if(typeof n=="string")try{return Ka(JSON.parse(n),e)}catch{}return null}function gm(n,e,t){const r=t.transaction||t.signedTransaction;if(n==="call"){const a=Ka(e,!0);if(a)return a.data;Gt.throwError("missing revert data in call exception; Transaction reverted without a reason string",se.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(n==="estimateGas"){let a=Ka(e.body,!1);a==null&&(a=Ka(e,!1)),a&&Gt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:n,transaction:r,error:e})}let i=e.message;throw e.code===se.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Gt.throwError("insufficient funds for intrinsic transaction cost",se.errors.INSUFFICIENT_FUNDS,{error:e,method:n,transaction:r}),i.match(/nonce (is )?too low/i)&&Gt.throwError("nonce has already been used",se.errors.NONCE_EXPIRED,{error:e,method:n,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Gt.throwError("replacement fee too low",se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:n,transaction:r}),i.match(/only replay-protected/i)&&Gt.throwError("legacy pre-eip-155 transactions not supported",se.errors.UNSUPPORTED_OPERATION,{error:e,method:n,transaction:r}),hw.indexOf(n)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Gt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:n,transaction:r}),e}function fp(n){return new Promise(function(e){setTimeout(e,n)})}function yw(n){if(n.error){const e=new Error(n.error.message);throw e.code=n.error.code,e.data=n.error.data,e}return n.result}function Ca(n){return n&&n.toLowerCase()}const nl={};class xd extends ir{constructor(e,t,r){if(super(),e!==nl)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ce(this,"provider",t),r==null&&(r=0),typeof r=="string"?(ce(this,"_address",this.provider.formatter.address(r)),ce(this,"_index",null)):typeof r=="number"?(ce(this,"_index",r),ce(this,"_address",null)):Gt.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Gt.throwError("cannot alter JSON-RPC Signer connection",se.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new mw(nl,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Gt.throwError("unknown account #"+this._index,se.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=ct(e);const t=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=ct(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>_r(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&Gt.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),_t({tx:_t(e),sender:t}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&Gt.throwArgumentError("from address mismatch","transaction",e):r.from=i;const a=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Gt.throwError("user rejected transaction",se.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),gm("sendTransaction",s,a)))})}signTransaction(e){return Gt.throwError("signing transactions is unsupported",se.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return _r(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield Jr(()=>_r(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return _r(this,void 0,void 0,function*(){const t=typeof e=="string"?jt(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[$e(t),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Gt.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return _r(this,void 0,void 0,function*(){const t=typeof e=="string"?jt(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),$e(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Gt.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,t,r){return _r(this,void 0,void 0,function*(){const i=yield Oi.resolveNames(e,t,r,s=>this.provider.resolveName(s)),a=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(Oi.getPayload(i.domain,t,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Gt.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:i.domain,types:t,value:i.value}}),s}})}unlock(e){return _r(this,void 0,void 0,function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class mw extends xd{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(t,r)}))}}const gw={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ui extends ou{constructor(e,t){let r=t;r==null&&(r=new Promise((i,a)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{a(s)})},0)})),super(r),e||(e=tn(this.constructor,"defaultUrl")()),typeof e=="string"?ce(this,"connection",Object.freeze({url:e})):ce(this,"connection",Object.freeze(ct(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return _r(this,void 0,void 0,function*(){yield fp(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=tn(this.constructor,"getNetwork");try{return t(Oe.from(e).toNumber())}catch(r){return Gt.throwError("could not detect network",se.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return Gt.throwError("could not detect network",se.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new xd(nl,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:wn(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const a=ji(this.connection,JSON.stringify(r),yw).then(s=>(this.emit("debug",{action:"response",request:r,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:r,provider:this}),s});return i&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Ca(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Ca(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Ca(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Ca(t.address),Lt(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[tn(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[tn(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Ca(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return _r(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&Oe.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(t=ct(t),t.transaction=ct(i),delete t.transaction.type)}}const r=this.prepareRequest(e,t);r==null&&Gt.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return gm(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(a){if(e._pendingFilter!=t)return null;let s=Promise.resolve();return a.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(o).then(function(u){return e.emit("pending",u),null})})}),s.then(function(){return fp(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(a=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=ct(gw);if(t)for(const a in t)t[a]&&(r[a]=!0);Pl(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const s=hs(Oe.from(e[a]));a==="gasLimit"&&(a="gas"),i[a]=s}),["from","to","data"].forEach(function(a){e[a]!=null&&(i[a]=$e(e[a]))}),e.accessList&&(i.accessList=xr(e.accessList)),i}}let Xa=null;try{if(Xa=WebSocket,Xa==null)throw new Error("inject please")}catch{const e=new se(rn);Xa=function(){e.throwError("WebSockets not supported in this environment",se.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var ac=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const Ns=new se(rn);let bw=1;class uu extends Ui{constructor(e,t){t==="any"&&Ns.throwError("WebSocketProvider does not support 'any' network yet",se.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ce(this,"_websocket",new Xa(this.connection.url)):ce(this,"_websocket",e),ce(this,"_requests",{}),ce(this,"_subs",{}),ce(this,"_subIds",{}),ce(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const a=i.data,s=JSON.parse(a);if(s.id!=null){const o=String(s.id),u=this._requests[o];if(delete this._requests[o],s.result!==void 0)u.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(u.payload),response:s.result,provider:this});else{let c=null;s.error?(c=new Error(s.error.message||"unknown error"),ce(c,"code",s.error.code||null),ce(c,"response",a)):c=new Error("unknown error"),u.callback(c,void 0),this.emit("debug",{action:"response",error:c,request:JSON.parse(u.payload),provider:this})}}else if(s.method==="eth_subscription"){const o=this._subs[s.params.subscription];o&&o.processFunc(s.params.result)}else console.warn("this should not happen")};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Ns.throwError("cannot reset events block on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Ns.throwError("cannot set polling interval on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return ac(this,void 0,void 0,function*(){return null})}set polling(e){e&&Ns.throwError("cannot set polling on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=bw++;return new Promise((i,a)=>{function s(u,c){return u?a(u):i(c)}const o=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:s,payload:o},this._wsReady&&this.websocket.send(o)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return ac(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=i);const a=yield i;this._subs[a]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const r=Oe.from(t.number).toNumber();this._emitted.block=r,this.emit("block",r)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=r=>{const i=r.hash;this.getTransactionReceipt(i).then(a=>{a&&this.emit(i,a)})};t(e),this._subscribe("tx",["newHeads"],r=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return ac(this,void 0,void 0,function*(){this.websocket.readyState===Xa.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var xw=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const Na=new se(rn);class bm extends Ui{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return xw(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||Na.throwError("no network detected",se.errors.UNKNOWN_ERROR,{}),this._network==null&&(ce(this,"_network",t),this.emit("network",t,null))),t})}}class vr extends bm{constructor(e,t){Na.checkAbstract(new.target,vr),e=tn(new.target,"getNetwork")(e),t=tn(new.target,"getApiKey")(t);const r=tn(new.target,"getUrl")(e,t);super(r,e),typeof t=="string"?ce(this,"apiKey",t):t!=null&&Object.keys(t).forEach(i=>{ce(this,i,t[i])})}_startPending(){Na.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Na.throwError("API provider does not support signing",se.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Na.throwError("not implemented; sub-classes must override getUrl",se.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const pp=new se(rn),zs="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class xm extends uu{constructor(e,t){const r=new vd(e,t),i=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,r.network),ce(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===zs}}class vd extends vr{static getWebSocketProvider(e,t){return new xm(e,t)}static getApiKey(e){return e==null?zs:(e&&typeof e!="string"&&pp.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":r="eth-sepolia.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":r="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":r="opt-sepolia.g.alchemy.com/v2/";break;default:pp.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(i,a)=>(t===zs&&Ts(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===zs}}const vw=new se(rn),Ms="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Tw(n){switch(n){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return vw.throwArgumentError("unsupported network","name",n)}class vm extends vr{isCommunityResource(){return this.apiKey===Ms}static getApiKey(e){return e??Ms}static getUrl(e,t){t==null&&(t=Ms);const r={allowGzip:!0,url:"https://"+Tw(e.name)+t,throttleCallback:(i,a)=>(t.apiKey===Ms&&Ts(),Promise.resolve(!0))};return t.projectSecret!=null&&(r.user="",r.password=t.projectSecret),r}}var ww=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const hp=new se(rn);class Tm extends vr{static getApiKey(e){return e!=null&&hp.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:hp.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return ww(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number:r.perform.call(this,e,t)})}}var Fs=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const zr=new se(rn);function yp(n){const e={};for(let t in n){if(n[t]==null)continue;let r=n[t];t==="type"&&r===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?r=hs($e(r)):t==="accessList"?r="["+xr(r).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":r=$e(r),e[t]=r)}return e}function Aw(n){if(n.status==0&&(n.message==="No records found"||n.message==="No transactions found"))return n.result;if(n.status!=1||typeof n.message!="string"||!n.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(n),(n.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return n.result}function mp(n){if(n&&n.status==0&&n.message=="NOTOK"&&(n.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(n),e.throttleRetry=!0,e}if(n.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(n),e}if(n.error){const e=new Error(n.error.message||"unknown error");throw n.error.code&&(e.code=n.error.code),n.error.data&&(e.data=n.error.data),e}return n.result}function gp(n){if(n==="pending")throw new Error("pending not supported");return n==="latest"?n:parseInt(n.substring(2),16)}function sc(n,e,t){if(n==="call"&&e.code===se.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let a=i.data;if(a&&(a="0x"+a.replace(/^.*0x/i,"")),mt(a))return a;zr.throwError("missing revert data in call exception",se.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let r=e.message;throw e.code===se.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?r=e.error.message:typeof e.body=="string"?r=e.body:typeof e.responseText=="string"&&(r=e.responseText)),r=(r||"").toLowerCase(),r.match(/insufficient funds/)&&zr.throwError("insufficient funds for intrinsic transaction cost",se.errors.INSUFFICIENT_FUNDS,{error:e,method:n,transaction:t}),r.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&zr.throwError("nonce has already been used",se.errors.NONCE_EXPIRED,{error:e,method:n,transaction:t}),r.match(/another transaction with same nonce/)&&zr.throwError("replacement fee too low",se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:n,transaction:t}),r.match(/execution failed due to an exception|execution reverted/)&&zr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:n,transaction:t}),e}class wm extends ou{constructor(e,t){super(e),ce(this,"baseUrl",this.getBaseUrl()),ce(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return zr.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const r=Object.keys(t).reduce((a,s)=>{const o=t[s];return o!=null&&(a+=`&${s}=${o}`),a},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return Fs(this,void 0,void 0,function*(){const i=r?this.getPostUrl():this.getUrl(e,t),a=r?this.getPostData(e,t):null,s=e==="proxy"?mp:Aw;this.emit("debug",{action:"request",request:i,provider:this});const o={url:i,throttleSlotInterval:1e3,throttleCallback:(d,f)=>(this.isCommunityResource()&&Ts(),Promise.resolve(!0))};let u=null;a&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},u=Object.keys(a).map(d=>`${d}=${a[d]}`).join("&"));const c=yield ji(o,u,s||mp);return this.emit("debug",{action:"response",request:i,response:wn(c),provider:this}),c})}detectNetwork(){return Fs(this,void 0,void 0,function*(){return this.network})}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return Fs(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(i=>sc("sendTransaction",i,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=yp(t.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(a){return sc("call",a,t.transaction)}}case"estimateGas":{const i=yp(t.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(a){return sc("estimateGas",a,t.transaction)}}case"getLogs":{const i={action:"getLogs"};if(t.filter.fromBlock&&(i.fromBlock=gp(t.filter.fromBlock)),t.filter.toBlock&&(i.toBlock=gp(t.filter.toBlock)),t.filter.address&&(i.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&zr.throwError("unsupported topic count",se.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const o=t.filter.topics[0];(typeof o!="string"||o.length!==66)&&zr.throwError("unsupported topic format",se.errors.UNSUPPORTED_OPERATION,{topic0:o}),i.topic0=o}const a=yield this.fetch("logs",i);let s={};for(let o=0;o<a.length;o++){const u=a[o];if(u.blockHash==null){if(s[u.blockNumber]==null){const c=yield this.getBlock(u.blockNumber);c&&(s[u.blockNumber]=c.hash)}u.blockHash=s[u.blockNumber]}}return a}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)})}getHistory(e,t,r){return Fs(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:r??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(s=>{["contractAddress","to"].forEach(function(u){s[u]==""&&delete s[u]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const o=this.formatter.transactionResponse(s);return s.timeStamp&&(o.timestamp=parseInt(s.timeStamp)),o})})}isCommunityResource(){return this.apiKey==null}}var So=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,e||[])).next())})};const vi=new se(rn);function Ds(){return new Date().getTime()}function bp(n){let e=null;for(let t=0;t<n.length;t++){const r=n[t];if(r==null)return null;e?e.name===r.name&&e.chainId===r.chainId&&(e.ensAddress===r.ensAddress||e.ensAddress==null&&r.ensAddress==null)||vi.throwArgumentError("provider mismatch","networks",n):e=r}return e}function xp(n,e){n=n.slice().sort();const t=Math.floor(n.length/2);if(n.length%2)return n[t];const r=n[t-1],i=n[t];return e!=null&&Math.abs(r-i)>e?null:(r+i)/2}function ia(n){if(n===null)return"null";if(typeof n=="number"||typeof n=="boolean")return JSON.stringify(n);if(typeof n=="string")return n;if(Oe.isBigNumber(n))return n.toString();if(Array.isArray(n))return JSON.stringify(n.map(e=>ia(e)));if(typeof n=="object"){const e=Object.keys(n);return e.sort(),"{"+e.map(t=>{let r=n[t];return typeof r=="function"?r="[function]":r=ia(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw new Error("unknown value type: "+typeof n)}let Ew=1;function vp(n){let e=null,t=null,r=new Promise(s=>{e=function(){t&&(clearTimeout(t),t=null),s()},t=setTimeout(e,n)});const i=s=>(r=r.then(s),r);function a(){return r}return{cancel:e,getPromise:a,wait:i}}const _w=[se.errors.CALL_EXCEPTION,se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED,se.errors.UNPREDICTABLE_GAS_LIMIT],kw=["address","args","errorArgs","errorSignature","method","transaction"];function Bs(n,e){const t={weight:n.weight};return Object.defineProperty(t,"provider",{get:()=>n.provider}),n.start&&(t.start=n.start),e&&(t.duration=e-n.start),n.done&&(n.error?t.error=n.error:t.result=n.result||null),t}function Pw(n,e){return function(t){const r={};t.forEach(a=>{const s=n(a.result);r[s]||(r[s]={count:0,result:a.result}),r[s].count++});const i=Object.keys(r);for(let a=0;a<i.length;a++){const s=r[i[a]];if(s.count>=e)return s.result}}}function Sw(n,e,t){let r=ia;switch(e){case"getBlockNumber":return function(i){const a=i.map(o=>o.result);let s=xp(i.map(o=>o.result),2);if(s!=null)return s=Math.ceil(s),a.indexOf(s+1)>=0&&s++,s>=n._highestBlockNumber&&(n._highestBlockNumber=s),n._highestBlockNumber};case"getGasPrice":return function(i){const a=i.map(s=>s.result);return a.sort(),a[Math.floor(a.length/2)]};case"getEtherPrice":return function(i){return xp(i.map(a=>a.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(i){return i==null?null:(i=ct(i),i.confirmations=-1,ia(i))};break;case"getBlock":t.includeTransactions?r=function(i){return i==null?null:(i=ct(i),i.transactions=i.transactions.map(a=>(a=ct(a),a.confirmations=-1,a)),ia(i))}:r=function(i){return i==null?null:ia(i)};break;default:throw new Error("unknown method: "+e)}return Pw(r,n.quorum)}function Ra(n,e){return So(this,void 0,void 0,function*(){const t=n.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:Jr(()=>new Promise((r,i)=>{setTimeout(function(){return t.blockNumber>=e?r(t):n.cancelled?r(null):r(void 0)},0)}),{oncePoll:t})})}function Iw(n,e,t,r){return So(this,void 0,void 0,function*(){let i=n.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return r.blockTag&&mt(r.blockTag)&&(i=yield Ra(n,e)),i[t](r.address,r.blockTag||"latest");case"getStorageAt":return r.blockTag&&mt(r.blockTag)&&(i=yield Ra(n,e)),i.getStorageAt(r.address,r.position,r.blockTag||"latest");case"getBlock":return r.blockTag&&mt(r.blockTag)&&(i=yield Ra(n,e)),i[r.includeTransactions?"getBlockWithTransactions":"getBlock"](r.blockTag||r.blockHash);case"call":case"estimateGas":return r.blockTag&&mt(r.blockTag)&&(i=yield Ra(n,e)),t==="call"&&r.blockTag?i[t](r.transaction,r.blockTag):i[t](r.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](r.transactionHash);case"getLogs":{let a=r.filter;return(a.fromBlock&&mt(a.fromBlock)||a.toBlock&&mt(a.toBlock))&&(i=yield Ra(n,e)),i.getLogs(a)}}return vi.throwError("unknown method error",se.errors.UNKNOWN_ERROR,{method:t,params:r})})}class Am extends ou{constructor(e,t){e.length===0&&vi.throwArgumentError("missing providers","providers",e);const r=e.map((s,o)=>{if(di.isProvider(s)){const d=el(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:d,priority:1})}const u=ct(s);u.priority==null&&(u.priority=1),u.stallTimeout==null&&(u.stallTimeout=el(s)?2e3:750),u.weight==null&&(u.weight=1);const c=u.weight;return(c%1||c>512||c<1)&&vi.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${o}].weight`,c),Object.freeze(u)}),i=r.reduce((s,o)=>s+o.weight,0);t==null?t=i/2:t>i&&vi.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let a=bp(r.map(s=>s.provider.network));a==null&&(a=new Promise((s,o)=>{setTimeout(()=>{this.detectNetwork().then(s,o)},0)})),super(a),ce(this,"providerConfigs",Object.freeze(r)),ce(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return So(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return bp(e)})}perform(e,t){return So(this,void 0,void 0,function*(){if(e==="sendTransaction"){const u=yield Promise.all(this.providerConfigs.map(c=>c.provider.sendTransaction(t.signedTransaction).then(d=>d.hash,d=>d)));for(let c=0;c<u.length;c++){const d=u[c];if(typeof d=="string")return d}throw u[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const r=Sw(this,e,t),i=cd(this.providerConfigs.map(ct));i.sort((u,c)=>u.priority-c.priority);const a=this._highestBlockNumber;let s=0,o=!0;for(;;){const u=Ds();let c=i.filter(x=>x.runner&&u-x.start<x.stallTimeout).reduce((x,C)=>x+C.weight,0);for(;c<this.quorum&&s<i.length;){const x=i[s++],C=Ew++;x.start=Ds(),x.staller=vp(x.stallTimeout),x.staller.wait(()=>{x.staller=null}),x.runner=Iw(x,a,e,t).then(k=>{x.done=!0,x.result=k,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:C,backend:Bs(x,Ds()),request:{method:e,params:wn(t)},provider:this})},k=>{x.done=!0,x.error=k,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:C,backend:Bs(x,Ds()),request:{method:e,params:wn(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:C,backend:Bs(x,null),request:{method:e,params:wn(t)},provider:this}),c+=x.weight}const d=[];i.forEach(x=>{x.done||!x.runner||(d.push(x.runner),x.staller&&d.push(x.staller.getPromise()))}),d.length&&(yield Promise.race(d));const f=i.filter(x=>x.done&&x.error==null);if(f.length>=this.quorum){const x=r(f);if(x!==void 0)return i.forEach(C=>{C.staller&&C.staller.cancel(),C.cancelled=!0}),x;o||(yield vp(100).getPromise()),o=!1}const g=i.reduce((x,C)=>{if(!C.done||C.error==null)return x;const k=C.error.code;return _w.indexOf(k)>=0&&(x[k]||(x[k]={error:C.error,weight:0}),x[k].weight+=C.weight),x},{});if(Object.keys(g).forEach(x=>{const C=g[x];if(C.weight<this.quorum)return;i.forEach($=>{$.staller&&$.staller.cancel(),$.cancelled=!0});const k=C.error,R={};kw.forEach($=>{k[$]!=null&&(R[$]=k[$])}),vi.throwError(k.reason||k.message,x,R)}),i.filter(x=>!x.done).length===0)break}return i.forEach(u=>{u.staller&&u.staller.cancel(),u.cancelled=!0}),vi.throwError("failed to meet quorum",se.errors.SERVER_ERROR,{method:e,params:t,results:i.map(u=>Bs(u)),provider:this})})}}const Em=null,Vs=new se(rn),Ma="84842078b09946638c03157f83405213";class _m extends uu{constructor(e,t){const r=new Td(e,t),i=r.connection;i.password&&Vs.throwError("INFURA WebSocket project secrets unsupported",se.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const a=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(a,e),ce(this,"apiKey",r.projectId),ce(this,"projectId",r.projectId),ce(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===Ma}}class Td extends vr{static getWebSocketProvider(e,t){return new _m(e,t)}static getApiKey(e){const t={apiKey:Ma,projectId:Ma,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(Vs.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),Vs.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"optimism-sepolia":r="optimism-sepolia.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":r="arbitrum-sepolia.infura.io";break;default:Vs.throwError("unsupported network",se.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(a,s)=>(t.projectId===Ma&&Ts(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===Ma}}class Cw extends Ui{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:r,resolve:null,reject:null},a=new Promise((s,o)=>{i.resolve=s,i.reject=o});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const o=s.map(u=>u.request);return this.emit("debug",{action:"requestBatch",request:wn(o),provider:this}),ji(this.connection,JSON.stringify(o)).then(u=>{this.emit("debug",{action:"response",request:o,response:u,provider:this}),s.forEach((c,d)=>{const f=u[d];if(f.error){const g=new Error(f.error.message);g.code=f.error.code,g.data=f.error.data,c.reject(g)}else c.resolve(f.result)})},u=>{this.emit("debug",{action:"response",error:u,request:o,provider:this}),s.forEach(c=>{c.reject(u)})})},10)),a}}const oc=new se(rn),Rw="ETHERS_JS_SHARED";class km extends vr{static getApiKey(e){return e&&typeof e!="string"&&oc.throwArgumentError("invalid apiKey","apiKey",e),e||Rw}static getUrl(e,t){oc.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:oc.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const Tp=new se(rn),wp="62e1ad51b37b8e00394bda3b";class Pm extends vr{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=wp:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:Tp.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:Tp.throwError("unsupported network",se.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${r}/v1/lb/${t.applicationId}`,a={headers:{},url:i};return t.applicationSecretKey!=null&&(a.user="",a.password=t.applicationSecretKey),a}isCommunityResource(){return this.applicationId===wp}}const Ap=new se(rn),Ow="919b412a057b5e9c9b6dce193c5a60242d6efadb";class Sm extends vr{static getApiKey(e){return e&&typeof e!="string"&&Ap.throwArgumentError("invalid apiKey","apiKey",e),e||Ow}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="ethers.quiknode.pro";break;case"goerli":r="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":r="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":r="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":r="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":r="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":r="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":r="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":r="ethers.base-goerli.quiknode.pro";break;case"base-spolia":r="ethers.base-sepolia.quiknode.pro";break;case"bnb":r="ethers.bsc.quiknode.pro";break;case"bnbt":r="ethers.bsc-testnet.quiknode.pro";break;case"matic":r="ethers.matic.quiknode.pro";break;case"maticmum":r="ethers.matic-testnet.quiknode.pro";break;case"optimism":r="ethers.optimism.quiknode.pro";break;case"optimism-goerli":r="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":r="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":r="ethers.xdai.quiknode.pro";break;default:Ap.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+r+"/"+t}}const Ep=new se(rn);let Nw=1;function _p(n,e){const t="Web3LegacyFetcher";return function(r,i){const a={method:r,params:i,id:Nw++,jsonrpc:"2.0"};return new Promise((s,o)=>{this.emit("debug",{action:"request",fetcher:t,request:wn(a),provider:this}),e(a,(u,c)=>{if(u)return this.emit("debug",{action:"response",fetcher:t,error:u,request:a,provider:this}),o(u);if(this.emit("debug",{action:"response",fetcher:t,request:a,response:c,provider:this}),c.error){const d=new Error(c.error.message);return d.code=c.error.code,d.data=c.error.data,o(d)}s(c.result)})})}}function Mw(n){return function(e,t){t==null&&(t=[]);const r={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:wn(r),provider:this}),n.request(r).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:i,provider:this}),i})}}class Im extends Ui{constructor(e,t){e==null&&Ep.throwArgumentError("missing provider","provider",e);let r=null,i=null,a=null;typeof e=="function"?(r="unknown:",i=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),a=e,e.request?(r===""&&(r="eip-1193:"),i=Mw(e)):e.sendAsync?i=_p(e,e.sendAsync.bind(e)):e.send?i=_p(e,e.send.bind(e)):Ep.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),ce(this,"jsonRpcFetchFunc",i),ce(this,"provider",a)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const kp=new se(rn);function wd(n,e){if(n==null&&(n="homestead"),typeof n=="string"){const r=n.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new Ui(n);case"ws":case"wss":return new uu(n);default:kp.throwArgumentError("unsupported URL scheme","network",n)}}const t=fd(n);return(!t||!t._defaultProvider)&&kp.throwError("unsupported getDefaultProvider network",se.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:n}),t._defaultProvider({FallbackProvider:Am,AlchemyProvider:vd,AnkrProvider:vm,CloudflareProvider:Tm,EtherscanProvider:wm,InfuraProvider:Td,JsonRpcProvider:Ui,NodesmithProvider:km,PocketProvider:Pm,QuickNodeProvider:Sm,Web3Provider:Im,IpcProvider:Em},e)}const Cm=Object.freeze(Object.defineProperty({__proto__:null,AlchemyProvider:vd,AlchemyWebSocketProvider:xm,AnkrProvider:vm,BaseProvider:ou,CloudflareProvider:Tm,EtherscanProvider:wm,FallbackProvider:Am,Formatter:Be,InfuraProvider:Td,InfuraWebSocketProvider:_m,IpcProvider:Em,JsonRpcBatchProvider:Cw,JsonRpcProvider:Ui,JsonRpcSigner:xd,NodesmithProvider:km,PocketProvider:Pm,Provider:di,QuickNodeProvider:Sm,Resolver:tl,StaticJsonRpcProvider:bm,UrlJsonRpcProvider:vr,Web3Provider:Im,WebSocketProvider:uu,getDefaultProvider:wd,getNetwork:fd,isCommunityResourcable:hm,isCommunityResource:el,showThrottleMessage:Ts},Symbol.toStringTag,{value:"Module"})),Fw="units/5.8.0",Rm=new se(Fw),Om=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Nm(n){const e=String(n).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||n==="."||n==="-.")&&Rm.throwArgumentError("invalid value","value",n);let t=e[0],r="";for(t.substring(0,1)==="-"&&(r="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const a=[];for(;t.length;)if(t.length<=3){a.unshift(t);break}else{const s=t.length-3;a.unshift(t.substring(s)),t=t.substring(0,s)}return r+a.join(",")+i}function Ad(n,e){if(typeof e=="string"){const t=Om.indexOf(e);t!==-1&&(e=3*t)}return qa(n,e??18)}function Ed(n,e){if(typeof n!="string"&&Rm.throwArgumentError("value must be a string","value",n),typeof e=="string"){const t=Om.indexOf(e);t!==-1&&(e=3*t)}return Zn(n,e??18)}function Mm(n){return Ad(n,18)}function Fm(n){return Ed(n,18)}const Dw=Object.freeze(Object.defineProperty({__proto__:null,commify:Nm,formatEther:Mm,formatUnits:Ad,parseEther:Fm,parseUnits:Ed},Symbol.toStringTag,{value:"Module"})),Dm=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:H0,ConstructorFragment:G0,ErrorFragment:j0,EventFragment:W0,FormatTypes:z0,Fragment:V0,FunctionFragment:K0,HDNode:xn,Indexed:Lo,Interface:_n,LogDescription:X0,Logger:se,ParamType:Q0,RLP:Z0,SigningKey:ti,get SupportedAlgorithm(){return Fi},TransactionDescription:Y0,get TransactionTypes(){return bo},get UnicodeNormalizationForm(){return ua},Utf8ErrorFuncs:U0,get Utf8ErrorReason(){return q0},_TypedDataEncoder:Oi,_fetchData:pd,_toEscapedUtf8String:$0,accessListify:xr,arrayify:Ce,base58:Bi,base64:gh,checkProperties:Pl,checkResultErrors:Uo,commify:Nm,computeAddress:Nr,computeHmac:ca,computePublicKey:Jo,concat:Nt,deepCopy:wn,defaultAbiCoder:Ya,defaultPath:Li,defineReadOnly:ce,dnsEncode:ql,entropyToMnemonic:vs,fetchJson:ji,formatBytes32String:fh,formatEther:Mm,formatUnits:Ad,getAccountPath:Cy,getAddress:It,getContractAddress:pa,getCreate2Address:El,getIcapAddress:Fg,getJsonWalletAddress:Ny,getStatic:tn,hashMessage:Wo,hexConcat:Tn,hexDataLength:pr,hexDataSlice:Qt,hexStripZeros:Dg,hexValue:hs,hexZeroPad:Lt,hexlify:$e,id:ps,isAddress:Bg,isBytes:Bo,isBytesLike:Sl,isHexString:mt,isValidMnemonic:Iy,isValidName:Ah,joinSignature:Oc,keccak256:Pt,mnemonicToEntropy:xs,mnemonicToSeed:ud,namehash:aa,nameprep:yh,parseBytes32String:ph,parseEther:Fm,parseTransaction:id,parseUnits:Ed,poll:Jr,randomBytes:wi,recoverAddress:xa,recoverPublicKey:nd,resolveProperties:_t,ripemd160:Vl,serializeTransaction:xo,sha256:mr,sha512:Wh,shallowCopy:ct,shuffled:cd,solidityKeccak256:Xo,solidityPack:Di,soliditySha256:Vh,splitSignature:fa,stripZeros:Rr,toUtf8Bytes:jt,toUtf8CodePoints:Qa,toUtf8String:ci,verifyMessage:fm,verifyTypedData:pm,zeroPad:_i},Symbol.toStringTag,{value:"Module"})),_d="ethers/5.8.0",Bm=new se(_d),Lm=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:bd,BigNumber:Oe,Contract:Po,ContractFactory:dm,FixedNumber:Ht,Signer:ir,VoidSigner:ga,Wallet:Pr,Wordlist:Gi,constants:dh,get errors(){return J0},getDefaultProvider:wd,logger:Bm,providers:Cm,utils:Dm,version:_d,wordlists:To},Symbol.toStringTag,{value:"Module"}));try{const n=window;n._ethers==null&&(n._ethers=Lm)}catch{}const Bw=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:bd,BigNumber:Oe,Contract:Po,ContractFactory:dm,FixedNumber:Ht,Signer:ir,VoidSigner:ga,Wallet:Pr,Wordlist:Gi,constants:dh,get errors(){return J0},ethers:Lm,getDefaultProvider:wd,logger:Bm,providers:Cm,utils:Dm,version:_d,wordlists:To},Symbol.toStringTag,{value:"Module"})),Lw=yt(Bw);var Um={};const Uw=yt(Lg),qw=yt(gh),$w=yt(zT),Hw=yt(Ug),Gw=yt(t6),jw=yt(p6),Ww=yt(qg),zw=yt($g),Pp=yt(Dx),qm=yt(Hx),Vw=yt(i6),Kw=yt(Hg),Xw=yt(Z0),Qw=yt(CT),Sp=yt(Ob),Yw=yt(LT),Zw=yt(Dw),Jw=yt(sw),e5=yt(T6);(function(n){var e=gi&&gi.__createBinding||(Object.create?function(Y,W,Z,O){O===void 0&&(O=Z),Object.defineProperty(Y,O,{enumerable:!0,get:function(){return W[Z]}})}:function(Y,W,Z,O){O===void 0&&(O=Z),Y[O]=W[Z]}),t=gi&&gi.__setModuleDefault||(Object.create?function(Y,W){Object.defineProperty(Y,"default",{enumerable:!0,value:W})}:function(Y,W){Y.default=W}),r=gi&&gi.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var W={};if(Y!=null)for(var Z in Y)Z!=="default"&&Object.prototype.hasOwnProperty.call(Y,Z)&&e(W,Y,Z);return t(W,Y),W};Object.defineProperty(n,"__esModule",{value:!0}),n.formatBytes32String=n.Utf8ErrorFuncs=n.toUtf8String=n.toUtf8CodePoints=n.toUtf8Bytes=n._toEscapedUtf8String=n.nameprep=n.hexDataSlice=n.hexDataLength=n.hexZeroPad=n.hexValue=n.hexStripZeros=n.hexConcat=n.isHexString=n.hexlify=n.base64=n.base58=n.TransactionDescription=n.LogDescription=n.Interface=n.SigningKey=n.HDNode=n.defaultPath=n.isBytesLike=n.isBytes=n.zeroPad=n.stripZeros=n.concat=n.arrayify=n.shallowCopy=n.resolveProperties=n.getStatic=n.defineReadOnly=n.deepCopy=n.checkProperties=n.poll=n.fetchJson=n._fetchData=n.RLP=n.Logger=n.checkResultErrors=n.FormatTypes=n.ParamType=n.FunctionFragment=n.EventFragment=n.ErrorFragment=n.ConstructorFragment=n.Fragment=n.defaultAbiCoder=n.AbiCoder=void 0,n.Indexed=n.Utf8ErrorReason=n.UnicodeNormalizationForm=n.SupportedAlgorithm=n.mnemonicToSeed=n.isValidMnemonic=n.entropyToMnemonic=n.mnemonicToEntropy=n.getAccountPath=n.verifyTypedData=n.verifyMessage=n.recoverPublicKey=n.computePublicKey=n.recoverAddress=n.computeAddress=n.getJsonWalletAddress=n.TransactionTypes=n.serializeTransaction=n.parseTransaction=n.accessListify=n.joinSignature=n.splitSignature=n.soliditySha256=n.solidityKeccak256=n.solidityPack=n.shuffled=n.randomBytes=n.sha512=n.sha256=n.ripemd160=n.keccak256=n.computeHmac=n.commify=n.parseUnits=n.formatUnits=n.parseEther=n.formatEther=n.isAddress=n.getCreate2Address=n.getContractAddress=n.getIcapAddress=n.getAddress=n._TypedDataEncoder=n.id=n.isValidName=n.namehash=n.hashMessage=n.dnsEncode=n.parseBytes32String=void 0;var i=gd;Object.defineProperty(n,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(n,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(n,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(n,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(n,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(n,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(n,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(n,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(n,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(n,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(n,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(n,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(n,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(n,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var a=Uw;Object.defineProperty(n,"getAddress",{enumerable:!0,get:function(){return a.getAddress}}),Object.defineProperty(n,"getCreate2Address",{enumerable:!0,get:function(){return a.getCreate2Address}}),Object.defineProperty(n,"getContractAddress",{enumerable:!0,get:function(){return a.getContractAddress}}),Object.defineProperty(n,"getIcapAddress",{enumerable:!0,get:function(){return a.getIcapAddress}}),Object.defineProperty(n,"isAddress",{enumerable:!0,get:function(){return a.isAddress}});var s=r(qw);n.base64=s;var o=$w;Object.defineProperty(n,"base58",{enumerable:!0,get:function(){return o.Base58}});var u=Hw;Object.defineProperty(n,"arrayify",{enumerable:!0,get:function(){return u.arrayify}}),Object.defineProperty(n,"concat",{enumerable:!0,get:function(){return u.concat}}),Object.defineProperty(n,"hexConcat",{enumerable:!0,get:function(){return u.hexConcat}}),Object.defineProperty(n,"hexDataSlice",{enumerable:!0,get:function(){return u.hexDataSlice}}),Object.defineProperty(n,"hexDataLength",{enumerable:!0,get:function(){return u.hexDataLength}}),Object.defineProperty(n,"hexlify",{enumerable:!0,get:function(){return u.hexlify}}),Object.defineProperty(n,"hexStripZeros",{enumerable:!0,get:function(){return u.hexStripZeros}}),Object.defineProperty(n,"hexValue",{enumerable:!0,get:function(){return u.hexValue}}),Object.defineProperty(n,"hexZeroPad",{enumerable:!0,get:function(){return u.hexZeroPad}}),Object.defineProperty(n,"isBytes",{enumerable:!0,get:function(){return u.isBytes}}),Object.defineProperty(n,"isBytesLike",{enumerable:!0,get:function(){return u.isBytesLike}}),Object.defineProperty(n,"isHexString",{enumerable:!0,get:function(){return u.isHexString}}),Object.defineProperty(n,"joinSignature",{enumerable:!0,get:function(){return u.joinSignature}}),Object.defineProperty(n,"zeroPad",{enumerable:!0,get:function(){return u.zeroPad}}),Object.defineProperty(n,"splitSignature",{enumerable:!0,get:function(){return u.splitSignature}}),Object.defineProperty(n,"stripZeros",{enumerable:!0,get:function(){return u.stripZeros}});var c=Wy;Object.defineProperty(n,"_TypedDataEncoder",{enumerable:!0,get:function(){return c._TypedDataEncoder}}),Object.defineProperty(n,"dnsEncode",{enumerable:!0,get:function(){return c.dnsEncode}}),Object.defineProperty(n,"hashMessage",{enumerable:!0,get:function(){return c.hashMessage}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return c.id}}),Object.defineProperty(n,"isValidName",{enumerable:!0,get:function(){return c.isValidName}}),Object.defineProperty(n,"namehash",{enumerable:!0,get:function(){return c.namehash}});var d=Gw;Object.defineProperty(n,"defaultPath",{enumerable:!0,get:function(){return d.defaultPath}}),Object.defineProperty(n,"entropyToMnemonic",{enumerable:!0,get:function(){return d.entropyToMnemonic}}),Object.defineProperty(n,"getAccountPath",{enumerable:!0,get:function(){return d.getAccountPath}}),Object.defineProperty(n,"HDNode",{enumerable:!0,get:function(){return d.HDNode}}),Object.defineProperty(n,"isValidMnemonic",{enumerable:!0,get:function(){return d.isValidMnemonic}}),Object.defineProperty(n,"mnemonicToEntropy",{enumerable:!0,get:function(){return d.mnemonicToEntropy}}),Object.defineProperty(n,"mnemonicToSeed",{enumerable:!0,get:function(){return d.mnemonicToSeed}});var f=jw;Object.defineProperty(n,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var g=Ww;Object.defineProperty(n,"keccak256",{enumerable:!0,get:function(){return g.keccak256}});var x=zw;Object.defineProperty(n,"Logger",{enumerable:!0,get:function(){return x.Logger}});var C=Pp;Object.defineProperty(n,"computeHmac",{enumerable:!0,get:function(){return C.computeHmac}}),Object.defineProperty(n,"ripemd160",{enumerable:!0,get:function(){return C.ripemd160}}),Object.defineProperty(n,"sha256",{enumerable:!0,get:function(){return C.sha256}}),Object.defineProperty(n,"sha512",{enumerable:!0,get:function(){return C.sha512}});var k=qm;Object.defineProperty(n,"solidityKeccak256",{enumerable:!0,get:function(){return k.keccak256}}),Object.defineProperty(n,"solidityPack",{enumerable:!0,get:function(){return k.pack}}),Object.defineProperty(n,"soliditySha256",{enumerable:!0,get:function(){return k.sha256}});var R=Vw;Object.defineProperty(n,"randomBytes",{enumerable:!0,get:function(){return R.randomBytes}}),Object.defineProperty(n,"shuffled",{enumerable:!0,get:function(){return R.shuffled}});var $=Kw;Object.defineProperty(n,"checkProperties",{enumerable:!0,get:function(){return $.checkProperties}}),Object.defineProperty(n,"deepCopy",{enumerable:!0,get:function(){return $.deepCopy}}),Object.defineProperty(n,"defineReadOnly",{enumerable:!0,get:function(){return $.defineReadOnly}}),Object.defineProperty(n,"getStatic",{enumerable:!0,get:function(){return $.getStatic}}),Object.defineProperty(n,"resolveProperties",{enumerable:!0,get:function(){return $.resolveProperties}}),Object.defineProperty(n,"shallowCopy",{enumerable:!0,get:function(){return $.shallowCopy}});var q=r(Xw);n.RLP=q;var ie=Qw;Object.defineProperty(n,"computePublicKey",{enumerable:!0,get:function(){return ie.computePublicKey}}),Object.defineProperty(n,"recoverPublicKey",{enumerable:!0,get:function(){return ie.recoverPublicKey}}),Object.defineProperty(n,"SigningKey",{enumerable:!0,get:function(){return ie.SigningKey}});var te=Sp;Object.defineProperty(n,"formatBytes32String",{enumerable:!0,get:function(){return te.formatBytes32String}}),Object.defineProperty(n,"nameprep",{enumerable:!0,get:function(){return te.nameprep}}),Object.defineProperty(n,"parseBytes32String",{enumerable:!0,get:function(){return te.parseBytes32String}}),Object.defineProperty(n,"_toEscapedUtf8String",{enumerable:!0,get:function(){return te._toEscapedUtf8String}}),Object.defineProperty(n,"toUtf8Bytes",{enumerable:!0,get:function(){return te.toUtf8Bytes}}),Object.defineProperty(n,"toUtf8CodePoints",{enumerable:!0,get:function(){return te.toUtf8CodePoints}}),Object.defineProperty(n,"toUtf8String",{enumerable:!0,get:function(){return te.toUtf8String}}),Object.defineProperty(n,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return te.Utf8ErrorFuncs}});var he=Yw;Object.defineProperty(n,"accessListify",{enumerable:!0,get:function(){return he.accessListify}}),Object.defineProperty(n,"computeAddress",{enumerable:!0,get:function(){return he.computeAddress}}),Object.defineProperty(n,"parseTransaction",{enumerable:!0,get:function(){return he.parse}}),Object.defineProperty(n,"recoverAddress",{enumerable:!0,get:function(){return he.recoverAddress}}),Object.defineProperty(n,"serializeTransaction",{enumerable:!0,get:function(){return he.serialize}}),Object.defineProperty(n,"TransactionTypes",{enumerable:!0,get:function(){return he.TransactionTypes}});var ue=Zw;Object.defineProperty(n,"commify",{enumerable:!0,get:function(){return ue.commify}}),Object.defineProperty(n,"formatEther",{enumerable:!0,get:function(){return ue.formatEther}}),Object.defineProperty(n,"parseEther",{enumerable:!0,get:function(){return ue.parseEther}}),Object.defineProperty(n,"formatUnits",{enumerable:!0,get:function(){return ue.formatUnits}}),Object.defineProperty(n,"parseUnits",{enumerable:!0,get:function(){return ue.parseUnits}});var me=Jw;Object.defineProperty(n,"verifyMessage",{enumerable:!0,get:function(){return me.verifyMessage}}),Object.defineProperty(n,"verifyTypedData",{enumerable:!0,get:function(){return me.verifyTypedData}});var M=e5;Object.defineProperty(n,"_fetchData",{enumerable:!0,get:function(){return M._fetchData}}),Object.defineProperty(n,"fetchJson",{enumerable:!0,get:function(){return M.fetchJson}}),Object.defineProperty(n,"poll",{enumerable:!0,get:function(){return M.poll}});var S=Pp;Object.defineProperty(n,"SupportedAlgorithm",{enumerable:!0,get:function(){return S.SupportedAlgorithm}});var U=Sp;Object.defineProperty(n,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return U.UnicodeNormalizationForm}}),Object.defineProperty(n,"Utf8ErrorReason",{enumerable:!0,get:function(){return U.Utf8ErrorReason}})})(Um);const $m=yt(Jx),Hm=yt(Kv);var Gm={exports:{}},jm={};const Wm=yt(Ax),t5=[{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"}],n5={abi:t5},r5=[{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}],i5={abi:r5},a5=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"pull",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"wrapETH",outputs:[],stateMutability:"payable",type:"function"}],s5={abi:a5},o5=[{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapExactTokensForTokens",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapTokensForExactTokens",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"}],u5={abi:o5};(function(n){function e(I){return I&&typeof I=="object"&&"default"in I?I.default:I}Object.defineProperty(n,"__esModule",{value:!0});var t,r=Wm,i=e(Ih),a=gd,s=e(hd),o=n5,u=Hm,c=i5,d=s5,f=u5,g=$m,x=qm,C="0x0000000000000000000000000000000000000001",k="0x0000000000000000000000000000000000000002",R=i.BigInt(0),$=i.BigInt(1),q=new r.Percent(R),ie=new r.Percent(100,100);function te(I){return Object.keys(I).some(function(A){return A==="recipient"})}(t=n.ApprovalTypes||(n.ApprovalTypes={}))[t.NOT_REQUIRED=0]="NOT_REQUIRED",t[t.MAX=1]="MAX",t[t.MAX_MINUS_ONE=2]="MAX_MINUS_ONE",t[t.ZERO_THEN_MAX=3]="ZERO_THEN_MAX",t[t.ZERO_THEN_MAX_MINUS_ONE=4]="ZERO_THEN_MAX_MINUS_ONE";var he=function(){function I(){}return I.encodeApproveMax=function(A){return I.INTERFACE.encodeFunctionData("approveMax",[A.address])},I.encodeApproveMaxMinusOne=function(A){return I.INTERFACE.encodeFunctionData("approveMaxMinusOne",[A.address])},I.encodeApproveZeroThenMax=function(A){return I.INTERFACE.encodeFunctionData("approveZeroThenMax",[A.address])},I.encodeApproveZeroThenMaxMinusOne=function(A){return I.INTERFACE.encodeFunctionData("approveZeroThenMaxMinusOne",[A.address])},I.encodeCallPositionManager=function(A){if(A.length>0||s(!1),A.length===1)return I.INTERFACE.encodeFunctionData("callPositionManager",A);var E=u.NonfungiblePositionManager.INTERFACE.encodeFunctionData("multicall",[A]);return I.INTERFACE.encodeFunctionData("callPositionManager",[E])},I.encodeAddLiquidity=function(A,E,N,B){var G=A.mintAmountsWithSlippage(B),V=G.amount0,Q=G.amount1;return i.lessThan(E.amount0.quotient,V)&&(V=E.amount0.quotient),i.lessThan(E.amount1.quotient,Q)&&(Q=E.amount1.quotient),te(N)?I.INTERFACE.encodeFunctionData("mint",[{token0:A.pool.token0.address,token1:A.pool.token1.address,fee:A.pool.fee,tickLower:A.tickLower,tickUpper:A.tickUpper,amount0Min:u.toHex(V),amount1Min:u.toHex(Q),recipient:N.recipient}]):I.INTERFACE.encodeFunctionData("increaseLiquidity",[{token0:A.pool.token0.address,token1:A.pool.token1.address,amount0Min:u.toHex(V),amount1Min:u.toHex(Q),tokenId:u.toHex(N.tokenId)}])},I.encodeApprove=function(A,E){switch(E){case n.ApprovalTypes.MAX:return I.encodeApproveMax(A.wrapped);case n.ApprovalTypes.MAX_MINUS_ONE:return I.encodeApproveMaxMinusOne(A.wrapped);case n.ApprovalTypes.ZERO_THEN_MAX:return I.encodeApproveZeroThenMax(A.wrapped);case n.ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:return I.encodeApproveZeroThenMaxMinusOne(A.wrapped);default:throw new Error("Error: invalid ApprovalType")}},I}();he.INTERFACE=new a.Interface(o.abi);var ue=function(){function I(){}return I.encodeMulticall=function(A,E){if(E===void 0)return u.Multicall.encodeMulticall(A);if(Array.isArray(A)||(A=[A]),typeof E=="string"&&E.startsWith("0x")){var N=function(G){if(!G.match(/^0x[0-9a-fA-F]{64}$/))throw new Error(G+" is not valid bytes32.");return G.toLowerCase()}(E);return I.INTERFACE.encodeFunctionData("multicall(bytes32,bytes[])",[N,A])}var B=u.toHex(E);return I.INTERFACE.encodeFunctionData("multicall(uint256,bytes[])",[B,A])},I}();function me(I){return u.toHex(I.multiply(1e4).quotient)}ue.INTERFACE=new a.Interface(c.abi);var M=function(){function I(){}return I.encodeUnwrapWETH9=function(A,E,N){if(typeof E=="string")return u.Payments.encodeUnwrapWETH9(A,E,N);if(N){var B=me(N.fee),G=r.validateAndParseAddress(N.recipient);return I.INTERFACE.encodeFunctionData("unwrapWETH9WithFee(uint256,uint256,address)",[u.toHex(A),B,G])}return I.INTERFACE.encodeFunctionData("unwrapWETH9(uint256)",[u.toHex(A)])},I.encodeSweepToken=function(A,E,N,B){if(typeof N=="string")return u.Payments.encodeSweepToken(A,E,N,B);if(B){var G=me(B.fee),V=r.validateAndParseAddress(B.recipient);return I.INTERFACE.encodeFunctionData("sweepTokenWithFee(address,uint256,uint256,address)",[A.address,u.toHex(E),G,V])}return I.INTERFACE.encodeFunctionData("sweepToken(address,uint256)",[A.address,u.toHex(E)])},I.encodePull=function(A,E){return I.INTERFACE.encodeFunctionData("pull",[A.address,u.toHex(E)])},I.encodeWrapETH=function(A){return I.INTERFACE.encodeFunctionData("wrapETH",[u.toHex(A)])},I}();function S(){S=function(){return A};var I,A={},E=Object.prototype,N=E.hasOwnProperty,B=Object.defineProperty||function(we,Te,_e){we[Te]=_e.value},G=typeof Symbol=="function"?Symbol:{},V=G.iterator||"@@iterator",Q=G.asyncIterator||"@@asyncIterator",ne=G.toStringTag||"@@toStringTag";function fe(we,Te,_e){return Object.defineProperty(we,Te,{value:_e,enumerable:!0,configurable:!0,writable:!0}),we[Te]}try{fe({},"")}catch{fe=function(Te,_e,Le){return Te[_e]=Le}}function xe(we,Te,_e,Le){var Ie=Object.create((Te&&Te.prototype instanceof re?Te:re).prototype),je=new Fe(Le||[]);return B(Ie,"_invoke",{value:it(we,_e,je)}),Ie}function ke(we,Te,_e){try{return{type:"normal",arg:we.call(Te,_e)}}catch(Le){return{type:"throw",arg:Le}}}A.wrap=xe;var X="suspendedStart",K="executing",J="completed",j={};function re(){}function ae(){}function oe(){}var le={};fe(le,V,function(){return this});var ye=Object.getPrototypeOf,Pe=ye&&ye(ye(qe([])));Pe&&Pe!==E&&N.call(Pe,V)&&(le=Pe);var ve=oe.prototype=re.prototype=Object.create(le);function Ee(we){["next","throw","return"].forEach(function(Te){fe(we,Te,function(_e){return this._invoke(Te,_e)})})}function Se(we,Te){function _e(Ie,je,bt,tt){var nt=ke(we[Ie],we,je);if(nt.type!=="throw"){var hn=nt.arg,lt=hn.value;return lt&&typeof lt=="object"&&N.call(lt,"__await")?Te.resolve(lt.__await).then(function(ut){_e("next",ut,bt,tt)},function(ut){_e("throw",ut,bt,tt)}):Te.resolve(lt).then(function(ut){hn.value=ut,bt(hn)},function(ut){return _e("throw",ut,bt,tt)})}tt(nt.arg)}var Le;B(this,"_invoke",{value:function(Ie,je){function bt(){return new Te(function(tt,nt){_e(Ie,je,tt,nt)})}return Le=Le?Le.then(bt,bt):bt()}})}function it(we,Te,_e){var Le=X;return function(Ie,je){if(Le===K)throw new Error("Generator is already running");if(Le===J){if(Ie==="throw")throw je;return{value:I,done:!0}}for(_e.method=Ie,_e.arg=je;;){var bt=_e.delegate;if(bt){var tt=Ue(bt,_e);if(tt){if(tt===j)continue;return tt}}if(_e.method==="next")_e.sent=_e._sent=_e.arg;else if(_e.method==="throw"){if(Le===X)throw Le=J,_e.arg;_e.dispatchException(_e.arg)}else _e.method==="return"&&_e.abrupt("return",_e.arg);Le=K;var nt=ke(we,Te,_e);if(nt.type==="normal"){if(Le=_e.done?J:"suspendedYield",nt.arg===j)continue;return{value:nt.arg,done:_e.done}}nt.type==="throw"&&(Le=J,_e.method="throw",_e.arg=nt.arg)}}}function Ue(we,Te){var _e=Te.method,Le=we.iterator[_e];if(Le===I)return Te.delegate=null,_e==="throw"&&we.iterator.return&&(Te.method="return",Te.arg=I,Ue(we,Te),Te.method==="throw")||_e!=="return"&&(Te.method="throw",Te.arg=new TypeError("The iterator does not provide a '"+_e+"' method")),j;var Ie=ke(Le,we.iterator,Te.arg);if(Ie.type==="throw")return Te.method="throw",Te.arg=Ie.arg,Te.delegate=null,j;var je=Ie.arg;return je?je.done?(Te[we.resultName]=je.value,Te.next=we.nextLoc,Te.method!=="return"&&(Te.method="next",Te.arg=I),Te.delegate=null,j):je:(Te.method="throw",Te.arg=new TypeError("iterator result is not an object"),Te.delegate=null,j)}function We(we){var Te={tryLoc:we[0]};1 in we&&(Te.catchLoc=we[1]),2 in we&&(Te.finallyLoc=we[2],Te.afterLoc=we[3]),this.tryEntries.push(Te)}function Ve(we){var Te=we.completion||{};Te.type="normal",delete Te.arg,we.completion=Te}function Fe(we){this.tryEntries=[{tryLoc:"root"}],we.forEach(We,this),this.reset(!0)}function qe(we){if(we||we===""){var Te=we[V];if(Te)return Te.call(we);if(typeof we.next=="function")return we;if(!isNaN(we.length)){var _e=-1,Le=function Ie(){for(;++_e<we.length;)if(N.call(we,_e))return Ie.value=we[_e],Ie.done=!1,Ie;return Ie.value=I,Ie.done=!0,Ie};return Le.next=Le}}throw new TypeError(typeof we+" is not iterable")}return ae.prototype=oe,B(ve,"constructor",{value:oe,configurable:!0}),B(oe,"constructor",{value:ae,configurable:!0}),ae.displayName=fe(oe,ne,"GeneratorFunction"),A.isGeneratorFunction=function(we){var Te=typeof we=="function"&&we.constructor;return!!Te&&(Te===ae||(Te.displayName||Te.name)==="GeneratorFunction")},A.mark=function(we){return Object.setPrototypeOf?Object.setPrototypeOf(we,oe):(we.__proto__=oe,fe(we,ne,"GeneratorFunction")),we.prototype=Object.create(ve),we},A.awrap=function(we){return{__await:we}},Ee(Se.prototype),fe(Se.prototype,Q,function(){return this}),A.AsyncIterator=Se,A.async=function(we,Te,_e,Le,Ie){Ie===void 0&&(Ie=Promise);var je=new Se(xe(we,Te,_e,Le),Ie);return A.isGeneratorFunction(Te)?je:je.next().then(function(bt){return bt.done?bt.value:je.next()})},Ee(ve),fe(ve,ne,"Generator"),fe(ve,V,function(){return this}),fe(ve,"toString",function(){return"[object Generator]"}),A.keys=function(we){var Te=Object(we),_e=[];for(var Le in Te)_e.push(Le);return _e.reverse(),function Ie(){for(;_e.length;){var je=_e.pop();if(je in Te)return Ie.value=je,Ie.done=!1,Ie}return Ie.done=!0,Ie}},A.values=qe,Fe.prototype={constructor:Fe,reset:function(we){if(this.prev=0,this.next=0,this.sent=this._sent=I,this.done=!1,this.delegate=null,this.method="next",this.arg=I,this.tryEntries.forEach(Ve),!we)for(var Te in this)Te.charAt(0)==="t"&&N.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=I)},stop:function(){this.done=!0;var we=this.tryEntries[0].completion;if(we.type==="throw")throw we.arg;return this.rval},dispatchException:function(we){if(this.done)throw we;var Te=this;function _e(nt,hn){return je.type="throw",je.arg=we,Te.next=nt,hn&&(Te.method="next",Te.arg=I),!!hn}for(var Le=this.tryEntries.length-1;Le>=0;--Le){var Ie=this.tryEntries[Le],je=Ie.completion;if(Ie.tryLoc==="root")return _e("end");if(Ie.tryLoc<=this.prev){var bt=N.call(Ie,"catchLoc"),tt=N.call(Ie,"finallyLoc");if(bt&&tt){if(this.prev<Ie.catchLoc)return _e(Ie.catchLoc,!0);if(this.prev<Ie.finallyLoc)return _e(Ie.finallyLoc)}else if(bt){if(this.prev<Ie.catchLoc)return _e(Ie.catchLoc,!0)}else{if(!tt)throw new Error("try statement without catch or finally");if(this.prev<Ie.finallyLoc)return _e(Ie.finallyLoc)}}}},abrupt:function(we,Te){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Le=this.tryEntries[_e];if(Le.tryLoc<=this.prev&&N.call(Le,"finallyLoc")&&this.prev<Le.finallyLoc){var Ie=Le;break}}Ie&&(we==="break"||we==="continue")&&Ie.tryLoc<=Te&&Te<=Ie.finallyLoc&&(Ie=null);var je=Ie?Ie.completion:{};return je.type=we,je.arg=Te,Ie?(this.method="next",this.next=Ie.finallyLoc,j):this.complete(je)},complete:function(we,Te){if(we.type==="throw")throw we.arg;return we.type==="break"||we.type==="continue"?this.next=we.arg:we.type==="return"?(this.rval=this.arg=we.arg,this.method="return",this.next="end"):we.type==="normal"&&Te&&(this.next=Te),j},finish:function(we){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var _e=this.tryEntries[Te];if(_e.finallyLoc===we)return this.complete(_e.completion,_e.afterLoc),Ve(_e),j}},catch:function(we){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var _e=this.tryEntries[Te];if(_e.tryLoc===we){var Le=_e.completion;if(Le.type==="throw"){var Ie=Le.arg;Ve(_e)}return Ie}}throw new Error("illegal catch attempt")},delegateYield:function(we,Te,_e){return this.delegate={iterator:qe(we),resultName:Te,nextLoc:_e},this.method==="next"&&(this.arg=I),j}},A}function U(I){var A=function(E,N){if(typeof E!="object"||!E)return E;var B=E[Symbol.toPrimitive];if(B!==void 0){var G=B.call(E,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(I);return typeof A=="symbol"?A:String(A)}function Y(I,A,E,N,B,G,V){try{var Q=I[G](V),ne=Q.value}catch(fe){return void E(fe)}Q.done?A(ne):Promise.resolve(ne).then(N,B)}function W(I){return function(){var A=this,E=arguments;return new Promise(function(N,B){var G=I.apply(A,E);function V(ne){Y(G,N,B,V,Q,"next",ne)}function Q(ne){Y(G,N,B,V,Q,"throw",ne)}V(void 0)})}}function Z(I,A){for(var E=0;E<A.length;E++){var N=A[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,U(N.key),N)}}function O(I,A,E){return A&&Z(I.prototype,A),Object.defineProperty(I,"prototype",{writable:!1}),I}function l(){return(l=Object.assign?Object.assign.bind():function(I){for(var A=1;A<arguments.length;A++){var E=arguments[A];for(var N in E)Object.prototype.hasOwnProperty.call(E,N)&&(I[N]=E[N])}return I}).apply(this,arguments)}function p(I,A){var E,N;I.prototype=Object.create(A.prototype),I.prototype.constructor=I,E=I,N=A,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,G){return B.__proto__=G,B})(E,N)}function h(I,A){(A==null||A>I.length)&&(A=I.length);for(var E=0,N=new Array(A);E<A;E++)N[E]=I[E];return N}function m(I,A){var E=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(E)return(E=E.call(I)).next.bind(E);if(Array.isArray(I)||(E=function(B,G){if(B){if(typeof B=="string")return h(B,void 0);var V=Object.prototype.toString.call(B).slice(8,-1);return V==="Object"&&B.constructor&&(V=B.constructor.name),V==="Map"||V==="Set"?Array.from(B):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?h(B,void 0):void 0}}(I))||A){E&&(I=E);var N=0;return function(){return N>=I.length?{done:!0}:{done:!1,value:I[N++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}M.INTERFACE=new a.Interface(d.abi);var T=function(){function I(A,E,N){this._midPrice=null,A.length>0||s(!1);var B=A[0].chainId;A.every(function(K){return K.chainId===B})||s(!1);var G=E.wrapped;A[0].involvesToken(G)||s(!1),A[A.length-1].involvesToken(N.wrapped)||s(!1);for(var V,Q=[G],ne=m(A.entries());!(V=ne()).done;){var fe=V.value,xe=fe[1],ke=Q[fe[0]];ke.equals(xe.token0)||ke.equals(xe.token1)||s(!1);var X=ke.equals(xe.token0)?xe.token1:xe.token0;Q.push(X)}this.pools=A,this.path=Q,this.input=E,this.output=N??Q[Q.length-1]}return O(I,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(this._midPrice!==null)return this._midPrice;var A=this.pools.slice(1).reduce(function(E,N){var B=E.price;return E.nextInput.equals(N.token0)?{nextInput:N.token1,price:B.multiply(N.token0Price)}:{nextInput:N.token0,price:B.multiply(N.token1Price)}},this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new r.Price(this.input,this.output,A.denominator,A.numerator)}}]),I}();function D(I,A){return I.inputAmount.currency.equals(A.inputAmount.currency)||s(!1),I.outputAmount.currency.equals(A.outputAmount.currency)||s(!1),I.outputAmount.equalTo(A.outputAmount)?I.inputAmount.equalTo(A.inputAmount)?I.swaps.reduce(function(E,N){return E+N.route.path.length},0)-A.swaps.reduce(function(E,N){return E+N.route.path.length},0):I.inputAmount.lessThan(A.inputAmount)?-1:1:I.outputAmount.lessThan(A.outputAmount)?1:-1}var _,v=function(){function I(E){var N=E.routes,B=E.tradeType,G=N[0].inputAmount.currency,V=N[0].outputAmount.currency;N.every(function(J){return G.wrapped.equals(J.route.input.wrapped)})||s(!1),N.every(function(J){return V.wrapped.equals(J.route.output.wrapped)})||s(!1);for(var Q,ne=N.map(function(J){return J.route.pools.length}).reduce(function(J,j){return J+j},0),fe=new Set,xe=m(N);!(Q=xe()).done;)for(var ke,X=m(Q.value.route.pools);!(ke=X()).done;){var K=ke.value;fe.add(K instanceof u.Pool?u.Pool.getAddress(K.token0,K.token1,K.fee):g.Pair.getAddress(K.token0,K.token1))}ne!==fe.size&&s(!1),B!==r.TradeType.EXACT_INPUT&&s(!1),this.swaps=N,this.tradeType=B}I.fromRoute=function(){var E=W(S().mark(function N(B,G,V){var Q,ne,fe,xe,ke;return S().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:Q=new Array(B.path.length),V!==r.TradeType.EXACT_INPUT&&s(!1),G.currency.equals(B.input)||s(!1),Q[0]=G.wrapped,xe=0;case 5:if(!(xe<B.path.length-1)){X.next=15;break}return ke=B.pools[xe],X.next=9,ke.getOutputAmount(Q[xe]);case 9:Q[xe+1]=X.sent[0];case 12:xe++,X.next=5;break;case 15:return ne=r.CurrencyAmount.fromFractionalAmount(B.input,G.numerator,G.denominator),fe=r.CurrencyAmount.fromFractionalAmount(B.output,Q[Q.length-1].numerator,Q[Q.length-1].denominator),X.abrupt("return",new I({routes:[{inputAmount:ne,outputAmount:fe,route:B}],tradeType:V}));case 18:case"end":return X.stop()}},N)}));return function(N,B,G){return E.apply(this,arguments)}}(),I.fromRoutes=function(){var E=W(S().mark(function N(B,G){var V,Q,ne,fe,xe,ke,X,K,J,j,re;return S().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:V=[],G!==r.TradeType.EXACT_INPUT&&s(!1),Q=m(B);case 3:if((ne=Q()).done){ae.next=26;break}xe=(fe=ne.value).route,ke=fe.amount,X=new Array(xe.path.length),K=void 0,J=void 0,ke.currency.equals(xe.input)||s(!1),K=r.CurrencyAmount.fromFractionalAmount(xe.input,ke.numerator,ke.denominator),X[0]=r.CurrencyAmount.fromFractionalAmount(xe.input.wrapped,ke.numerator,ke.denominator),j=0;case 12:if(!(j<xe.path.length-1)){ae.next=22;break}return re=xe.pools[j],ae.next=16,re.getOutputAmount(X[j]);case 16:X[j+1]=ae.sent[0];case 19:j++,ae.next=12;break;case 22:J=r.CurrencyAmount.fromFractionalAmount(xe.output,X[X.length-1].numerator,X[X.length-1].denominator),V.push({route:xe,inputAmount:K,outputAmount:J});case 24:ae.next=3;break;case 26:return ae.abrupt("return",new I({routes:V,tradeType:G}));case 27:case"end":return ae.stop()}},N)}));return function(N,B){return E.apply(this,arguments)}}(),I.createUncheckedTrade=function(E){return new I(l({},E,{routes:[{inputAmount:E.inputAmount,outputAmount:E.outputAmount,route:E.route}]}))},I.createUncheckedTradeWithMultipleRoutes=function(E){return new I(E)};var A=I.prototype;return A.minimumAmountOut=function(E,N){N===void 0&&(N=this.outputAmount),E.lessThan(R)&&s(!1);var B=new r.Fraction($).add(E).invert().multiply(N.quotient).quotient;return r.CurrencyAmount.fromRawAmount(N.currency,B)},A.maximumAmountIn=function(E,N){return N===void 0&&(N=this.inputAmount),E.lessThan(R)&&s(!1),N},A.worstExecutionPrice=function(E){return new r.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(E).quotient,this.minimumAmountOut(E).quotient)},I.bestTradeExactIn=function(){var E=W(S().mark(function N(B,G,V,Q,ne,fe,xe){var ke,X,K,J,j,re,ae,oe,le,ye,Pe;return S().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:K=(X=(ke=Q===void 0?{}:Q).maxNumResults)===void 0?3:X,j=(J=ke.maxHops)===void 0?3:J,ne===void 0&&(ne=[]),fe===void 0&&(fe=G),xe===void 0&&(xe=[]),B.length>0||s(!1),j>0||s(!1),G===fe||ne.length>0||s(!1),re=fe.wrapped,ae=V.wrapped,oe=0;case 10:if(!(oe<B.length)){ve.next=49;break}if((le=B[oe]).token0.equals(re.currency)||le.token1.equals(re.currency)){ve.next=14;break}return ve.abrupt("continue",46);case 14:if(!(le instanceof g.Pair)){ve.next=17;break}if(!le.reserve0.equalTo(R)&&!le.reserve1.equalTo(R)){ve.next=17;break}return ve.abrupt("continue",46);case 17:return ye=void 0,ve.prev=18,ve.next=22,le.getOutputAmount(re);case 22:ye=ve.sent[0],ve.next=31;break;case 26:if(ve.prev=26,ve.t0=ve.catch(18),!ve.t0.isInsufficientInputAmountError){ve.next=30;break}return ve.abrupt("continue",46);case 30:throw ve.t0;case 31:if(!ye.currency.isToken||!ye.currency.equals(ae)){ve.next=42;break}return ve.t1=r.sortedInsert,ve.t2=xe,ve.next=36,I.fromRoute(new T([].concat(ne,[le]),G.currency,V),G,r.TradeType.EXACT_INPUT);case 36:ve.t3=ve.sent,ve.t4=K,ve.t5=D,(0,ve.t1)(ve.t2,ve.t3,ve.t4,ve.t5),ve.next=46;break;case 42:if(!(j>1&&B.length>1)){ve.next=46;break}return Pe=B.slice(0,oe).concat(B.slice(oe+1,B.length)),ve.next=46,I.bestTradeExactIn(Pe,G,V,{maxNumResults:K,maxHops:j-1},[].concat(ne,[le]),ye,xe);case 46:oe++,ve.next=10;break;case 49:return ve.abrupt("return",xe);case 50:case"end":return ve.stop()}},N,null,[[18,26]])}));return function(N,B,G,V,Q,ne,fe){return E.apply(this,arguments)}}(),O(I,[{key:"route",get:function(){return this.swaps.length!==1&&s(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var E=this.swaps[0].inputAmount.currency,N=this.swaps.map(function(B){return B.inputAmount}).reduce(function(B,G){return B.add(G)},r.CurrencyAmount.fromRawAmount(E,0));return this._inputAmount=N,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var E=this.swaps[0].outputAmount.currency,N=this.swaps.map(function(B){return B.outputAmount}).reduce(function(B,G){return B.add(G)},r.CurrencyAmount.fromRawAmount(E,0));return this._outputAmount=N,this._outputAmount}},{key:"executionPrice",get:function(){var E;return(E=this._executionPrice)!=null?E:this._executionPrice=new r.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var E,N=r.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),B=m(this.swaps);!(E=B()).done;){var G=E.value;N=N.add(G.route.midPrice.quote(G.inputAmount))}var V=N.subtract(this.outputAmount).divide(N);return this._priceImpact=new r.Percent(V.numerator,V.denominator),this._priceImpact}}]),I}();(_=n.Protocol||(n.Protocol={})).V2="V2",_.V3="V3",_.MIXED="MIXED";var y=function(I){function A(E){var N;return(N=I.call(this,E.pairs,E.input,E.output)||this).protocol=n.Protocol.V2,N.pools=N.pairs,N}return p(A,I),A}(g.Route),b=function(I){function A(E){var N;return(N=I.call(this,E.pools,E.input,E.output)||this).protocol=n.Protocol.V3,N.path=E.tokenPath,N}return p(A,I),A}(u.Route),ee=function(I){function A(E){var N;return(N=I.call(this,E.pools,E.input,E.output)||this).protocol=n.Protocol.MIXED,N}return p(A,I),A}(T),be=function(){function I(E){var N=E.v2Routes,B=E.v3Routes,G=E.tradeType,V=E.mixedRoutes;this.swaps=[],this.routes=[];for(var Q,ne=m(N);!(Q=ne()).done;){var fe=Q.value,xe=fe.inputAmount,ke=fe.outputAmount,X=new y(fe.routev2);this.routes.push(X),this.swaps.push({route:X,inputAmount:xe,outputAmount:ke})}for(var K,J=m(B);!(K=J()).done;){var j=K.value,re=j.inputAmount,ae=j.outputAmount,oe=new b(j.routev3);this.routes.push(oe),this.swaps.push({route:oe,inputAmount:re,outputAmount:ae})}if(V)for(var le,ye=m(V);!(le=ye()).done;){var Pe=le.value,ve=Pe.inputAmount,Ee=Pe.outputAmount,Se=new ee(Pe.mixedRoute);this.routes.push(Se),this.swaps.push({route:Se,inputAmount:ve,outputAmount:Ee})}if(this.swaps.length===0)throw new Error("No routes provided when calling Trade constructor");this.tradeType=G;var it=this.swaps[0].inputAmount.currency,Ue=this.swaps[0].outputAmount.currency;this.swaps.every(function(Le){return it.wrapped.equals(Le.route.input.wrapped)})||s(!1),this.swaps.every(function(Le){return Ue.wrapped.equals(Le.route.output.wrapped)})||s(!1);for(var We,Ve=this.swaps.map(function(Le){return Le.route.pools.length}).reduce(function(Le,Ie){return Le+Ie},0),Fe=new Set,qe=m(this.swaps);!(We=qe()).done;)for(var we,Te=m(We.value.route.pools);!(we=Te()).done;){var _e=we.value;if(_e instanceof u.Pool)Fe.add(u.Pool.getAddress(_e.token0,_e.token1,_e.fee));else{if(!(_e instanceof g.Pair))throw new Error("Unexpected pool type in route when constructing trade object");Fe.add(g.Pair.getAddress(_e.token0,_e.token1))}}Ve!==Fe.size&&s(!1)}var A=I.prototype;return A.minimumAmountOut=function(E,N){if(N===void 0&&(N=this.outputAmount),E.lessThan(R)&&s(!1),this.tradeType===r.TradeType.EXACT_OUTPUT)return N;var B=new r.Fraction($).add(E).invert().multiply(N.quotient).quotient;return r.CurrencyAmount.fromRawAmount(N.currency,B)},A.maximumAmountIn=function(E,N){if(N===void 0&&(N=this.inputAmount),E.lessThan(R)&&s(!1),this.tradeType===r.TradeType.EXACT_INPUT)return N;var B=new r.Fraction($).add(E).multiply(N.quotient).quotient;return r.CurrencyAmount.fromRawAmount(N.currency,B)},A.worstExecutionPrice=function(E){return new r.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(E).quotient,this.minimumAmountOut(E).quotient)},I.fromRoutes=function(){var E=W(S().mark(function N(B,G,V,Q){var ne,fe,xe,ke,X,K,J,j,re,ae,oe,le,ye,Pe,ve,Ee,Se,it,Ue,We;return S().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:for(ne=[],fe=[],xe=[],ke=m(B);!(X=ke()).done;)j=new g.Trade(J=(K=X.value).routev2,K.amount,V),ne.push({routev2:J,inputAmount:j.inputAmount,outputAmount:j.outputAmount});re=m(G);case 5:if((ae=re()).done){Ve.next=14;break}return le=(oe=ae.value).routev3,ye=oe.amount,Ve.next=9,u.Trade.fromRoute(le,ye,V);case 9:fe.push({routev3:le,inputAmount:(Pe=Ve.sent).inputAmount,outputAmount:Pe.outputAmount});case 12:Ve.next=5;break;case 14:if(!Q){Ve.next=25;break}ve=m(Q);case 16:if((Ee=ve()).done){Ve.next=25;break}return it=(Se=Ee.value).mixedRoute,Ue=Se.amount,Ve.next=20,v.fromRoute(it,Ue,V);case 20:xe.push({mixedRoute:it,inputAmount:(We=Ve.sent).inputAmount,outputAmount:We.outputAmount});case 23:Ve.next=16;break;case 25:return Ve.abrupt("return",new I({v2Routes:ne,v3Routes:fe,mixedRoutes:xe,tradeType:V}));case 26:case"end":return Ve.stop()}},N)}));return function(N,B,G,V){return E.apply(this,arguments)}}(),I.fromRoute=function(){var E=W(S().mark(function N(B,G,V){var Q,ne,fe,xe,ke,X;return S().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(Q=[],ne=[],fe=[],!(B instanceof g.Route)){K.next=9;break}xe=new g.Trade(B,G,V),Q=[{routev2:B,inputAmount:xe.inputAmount,outputAmount:xe.outputAmount}],K.next=26;break;case 9:if(!(B instanceof u.Route)){K.next=17;break}return K.next=12,u.Trade.fromRoute(B,G,V);case 12:ne=[{routev3:B,inputAmount:(ke=K.sent).inputAmount,outputAmount:ke.outputAmount}],K.next=26;break;case 17:if(!(B instanceof T)){K.next=25;break}return K.next=20,v.fromRoute(B,G,V);case 20:fe=[{mixedRoute:B,inputAmount:(X=K.sent).inputAmount,outputAmount:X.outputAmount}],K.next=26;break;case 25:throw new Error("Invalid route type");case 26:return K.abrupt("return",new I({v2Routes:Q,v3Routes:ne,mixedRoutes:fe,tradeType:V}));case 27:case"end":return K.stop()}},N)}));return function(N,B,G){return E.apply(this,arguments)}}(),O(I,[{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var E=this.swaps[0].inputAmount.currency,N=this.swaps.map(function(B){return B.inputAmount}).reduce(function(B,G){return B.add(G)},r.CurrencyAmount.fromRawAmount(E,0));return this._inputAmount=N,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var E=this.swaps[0].outputAmount.currency,N=this.swaps.map(function(B){return B.outputAmount}).reduce(function(B,G){return B.add(G)},r.CurrencyAmount.fromRawAmount(E,0));return this._outputAmount=N,this._outputAmount}},{key:"executionPrice",get:function(){var E;return(E=this._executionPrice)!=null?E:this._executionPrice=new r.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"inputTax",get:function(){var E=this.inputAmount.currency;return E.isNative||!E.wrapped.sellFeeBps?q:new r.Percent(E.wrapped.sellFeeBps.toNumber(),1e4)}},{key:"outputTax",get:function(){var E=this.outputAmount.currency;return E.isNative||!E.wrapped.buyFeeBps?q:new r.Percent(E.wrapped.buyFeeBps.toNumber(),1e4)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;if(this.outputTax.equalTo(ie))return q;for(var E,N=r.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),B=m(this.swaps);!(E=B()).done;){var G=E.value,V=G.route.midPrice,Q=G.inputAmount.multiply(new r.Fraction($).subtract(this.inputTax));N=N.add(V.quote(Q))}if(N.equalTo(R))return q;var ne=this.outputAmount.divide(new r.Fraction($).subtract(this.outputTax)),fe=N.subtract(ne).divide(N);return this._priceImpact=new r.Percent(fe.numerator,fe.denominator),this._priceImpact}}]),I}();function w(I){var A=I.pools.reduce(function(E,N,B){var G=E.inputToken,V=E.path,Q=E.types,ne=N.token0.equals(G)?N.token1:N.token0;return B===0?{inputToken:ne,types:["address","uint24","address"],path:[G.address,N instanceof u.Pool?N.fee:8388608,ne.address]}:{inputToken:ne,types:[].concat(Q,["uint24","address"]),path:[].concat(V,[N instanceof u.Pool?N.fee:8388608,ne.address])}},{inputToken:I.input.wrapped,path:[],types:[]});return x.pack(A.types,A.path)}var de=function(I){for(var A=[],E=0,N=0;N<I.pools.length;)(I.pools[E]instanceof u.Pool&&I.pools[N]instanceof g.Pair||I.pools[E]instanceof g.Pair&&I.pools[N]instanceof u.Pool)&&(A.push(I.pools.slice(E,N)),E=N),++N===I.pools.length&&A.push(I.pools.slice(E,N));return A},pe=function(I,A){return I.reduce(function(E,N){var B=E.inputToken;if(!N.involvesToken(B))throw new Error("PATH");return{inputToken:N.token0.equals(B)?N.token1:N.token0}},{inputToken:A}).inputToken},P=i.BigInt(0),L=new r.Percent(i.BigInt(50),i.BigInt(100)),H=function(){function I(){}return I.encodeV2Swap=function(A,E,N,B){var G=u.toHex(A.maximumAmountIn(E.slippageTolerance).quotient),V=u.toHex(A.minimumAmountOut(E.slippageTolerance).quotient),Q=A.route.path.map(function(fe){return fe.address}),ne=N?k:E.recipient===void 0?C:r.validateAndParseAddress(E.recipient);return A.tradeType===r.TradeType.EXACT_INPUT?I.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[G,B?0:V,Q,ne]):I.INTERFACE.encodeFunctionData("swapTokensForExactTokens",[V,G,Q,ne])},I.encodeV3Swap=function(A,E,N,B){for(var G,V=[],Q=m(A.swaps);!(G=Q()).done;){var ne=G.value,fe=ne.route,xe=ne.outputAmount,ke=u.toHex(A.maximumAmountIn(E.slippageTolerance,ne.inputAmount).quotient),X=u.toHex(A.minimumAmountOut(E.slippageTolerance,xe).quotient),K=fe.pools.length===1,J=N?k:E.recipient===void 0?C:r.validateAndParseAddress(E.recipient);if(K)V.push(A.tradeType===r.TradeType.EXACT_INPUT?I.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:fe.tokenPath[0].address,tokenOut:fe.tokenPath[1].address,fee:fe.pools[0].fee,recipient:J,amountIn:ke,amountOutMinimum:B?0:X,sqrtPriceLimitX96:0}]):I.INTERFACE.encodeFunctionData("exactOutputSingle",[{tokenIn:fe.tokenPath[0].address,tokenOut:fe.tokenPath[1].address,fee:fe.pools[0].fee,recipient:J,amountOut:X,amountInMaximum:ke,sqrtPriceLimitX96:0}]));else{var j=u.encodeRouteToPath(fe,A.tradeType===r.TradeType.EXACT_OUTPUT);V.push(A.tradeType===r.TradeType.EXACT_INPUT?I.INTERFACE.encodeFunctionData("exactInput",[{path:j,recipient:J,amountIn:ke,amountOutMinimum:B?0:X}]):I.INTERFACE.encodeFunctionData("exactOutput",[{path:j,recipient:J,amountOut:X,amountInMaximum:ke}]))}}return V},I.encodeMixedRouteSwap=function(A,E,N,B){var G=[];A.tradeType!==r.TradeType.EXACT_INPUT&&s(!1);for(var V,Q=function(){var fe=V.value,xe=fe.route,ke=fe.outputAmount,X=u.toHex(A.maximumAmountIn(E.slippageTolerance,fe.inputAmount).quotient),K=u.toHex(A.minimumAmountOut(E.slippageTolerance,ke).quotient),J=xe.pools.length===1,j=N?k:E.recipient===void 0?C:r.validateAndParseAddress(E.recipient),re=function(Ve){return Ve.pools.every(function(Fe){return Fe instanceof u.Pool})};if(J)if(re(xe))G.push(I.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:xe.path[0].address,tokenOut:xe.path[1].address,fee:xe.pools[0].fee,recipient:j,amountIn:X,amountOutMinimum:B?0:K,sqrtPriceLimitX96:0}]));else{var ae=xe.path.map(function(Ve){return Ve.address});G.push(I.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[X,B?0:K,ae,j]))}else for(var oe,le=de(xe),ye=function(Ve){return Ve===le.length-1},Pe=xe.input.wrapped,ve=0;ve<le.length;ve++){var Ee=le[ve];oe=pe(Ee,Pe);var Se=new T([].concat(Ee),Ee[0].token0.equals(Pe)?Ee[0].token0:Ee[0].token1,oe),it=new ee(Se);if(Pe=oe,re(it)){var Ue={path:w(it),recipient:ye(ve)?j:k,amountIn:ve===0?X:0,amountOutMinimum:ye(ve)?K:0};G.push(I.INTERFACE.encodeFunctionData("exactInput",[Ue]))}else{var We=[ve===0?X:0,ye(ve)?K:0,it.path.map(function(Ve){return Ve.address}),ye(ve)?j:k];G.push(I.INTERFACE.encodeFunctionData("swapExactTokensForTokens",We))}}},ne=m(A.swaps);!(V=ne()).done;)Q();return G},I.encodeSwaps=function(A,E,N){if(A instanceof be){A.swaps.every(function(qe){return qe.route.protocol===n.Protocol.V3||qe.route.protocol===n.Protocol.V2||qe.route.protocol===n.Protocol.MIXED})||s(!1);for(var B,G=[],V=m(A.swaps);!(B=V()).done;){var Q=B.value,ne=Q.route,fe=Q.inputAmount,xe=Q.outputAmount;if(ne.protocol===n.Protocol.V2)G.push(new g.Trade(ne,A.tradeType===r.TradeType.EXACT_INPUT?fe:xe,A.tradeType));else if(ne.protocol===n.Protocol.V3)G.push(u.Trade.createUncheckedTrade({route:ne,inputAmount:fe,outputAmount:xe,tradeType:A.tradeType}));else{if(ne.protocol!==n.Protocol.MIXED)throw new Error("UNSUPPORTED_TRADE_PROTOCOL");G.push(v.createUncheckedTrade({route:ne,inputAmount:fe,outputAmount:xe,tradeType:A.tradeType}))}}A=G}Array.isArray(A)||(A=[A]);var ke=A.reduce(function(qe,we){return qe+(we instanceof u.Trade||we instanceof v?we.swaps.length:1)},0),X=A[0];A.every(function(qe){return qe.inputAmount.currency.equals(X.inputAmount.currency)})||s(!1),A.every(function(qe){return qe.outputAmount.currency.equals(X.outputAmount.currency)})||s(!1),A.every(function(qe){return qe.tradeType===X.tradeType})||s(!1);var K=[],J=X.inputAmount.currency.isNative,j=X.outputAmount.currency.isNative,re=X.tradeType===r.TradeType.EXACT_INPUT&&ke>2,ae=j||!!E.fee||!!N||re;E.inputTokenPermit&&(X.inputAmount.currency.isToken||s(!1),K.push(u.SelfPermit.encodePermit(X.inputAmount.currency,E.inputTokenPermit)));for(var oe,le=m(A);!(oe=le()).done;){var ye=oe.value;if(ye instanceof g.Trade)K.push(I.encodeV2Swap(ye,E,ae,re));else if(ye instanceof u.Trade)for(var Pe,ve=m(I.encodeV3Swap(ye,E,ae,re));!(Pe=ve()).done;)K.push(Pe.value);else{if(!(ye instanceof v))throw new Error("Unsupported trade object");for(var Ee,Se=m(I.encodeMixedRouteSwap(ye,E,ae,re));!(Ee=Se()).done;)K.push(Ee.value)}}var it=r.CurrencyAmount.fromRawAmount(X.inputAmount.currency,0),Ue=r.CurrencyAmount.fromRawAmount(X.outputAmount.currency,0),We=A.reduce(function(qe,we){return qe.add(we.minimumAmountOut(E.slippageTolerance))},Ue),Ve=A.reduce(function(qe,we){return qe.add(we.outputAmount)},Ue),Fe=A.reduce(function(qe,we){return qe.add(we.maximumAmountIn(E.slippageTolerance))},it);return{calldatas:K,sampleTrade:X,routerMustCustody:ae,inputIsNative:J,outputIsNative:j,totalAmountIn:Fe,minimumAmountOut:We,quoteAmountOut:Ve}},I.swapCallParameters=function(A,E){var N=I.encodeSwaps(A,E),B=N.calldatas,G=N.sampleTrade,V=N.inputIsNative,Q=N.totalAmountIn,ne=N.minimumAmountOut;return N.routerMustCustody&&B.push(N.outputIsNative?M.encodeUnwrapWETH9(ne.quotient,E.recipient,E.fee):M.encodeSweepToken(G.outputAmount.currency.wrapped,ne.quotient,E.recipient,E.fee)),V&&(G.tradeType===r.TradeType.EXACT_OUTPUT||I.riskOfPartialFill(A))&&B.push(u.Payments.encodeRefundETH()),{calldata:ue.encodeMulticall(B,E.deadlineOrPreviousBlockhash),value:u.toHex(V?Q.quotient:P)}},I.swapAndAddCallParameters=function(A,E,N,B,G,V){var Q=I.encodeSwaps(A,E,!0),ne=Q.calldatas,fe=Q.inputIsNative,xe=Q.outputIsNative,ke=Q.sampleTrade,X=Q.totalAmountIn,K=Q.quoteAmountOut,J=Q.minimumAmountOut;E.outputTokenPermit&&(K.currency.isToken||s(!1),ne.push(u.SelfPermit.encodePermit(K.currency,E.outputTokenPermit)));var j=ke.route.chainId,re=N.pool.token0.wrapped.address===X.currency.wrapped.address,ae=I.getPositionAmounts(N,re),oe=ae.positionAmountIn,le=ae.positionAmountOut,ye=fe?r.WETH9[j]:oe.currency.wrapped,Pe=xe?r.WETH9[j]:le.currency.wrapped,ve=le.subtract(K.wrapped);ve.greaterThan(r.CurrencyAmount.fromRawAmount(le.currency,0))&&ne.push(xe?M.encodeWrapETH(ve.quotient):M.encodePull(Pe,ve.quotient)),ne.push(fe?M.encodeWrapETH(oe.quotient):M.encodePull(ye,oe.quotient)),G!==n.ApprovalTypes.NOT_REQUIRED&&ne.push(he.encodeApprove(ye,G)),V!==n.ApprovalTypes.NOT_REQUIRED&&ne.push(he.encodeApprove(Pe,V));var Ee,Se=u.Position.fromAmounts({pool:N.pool,tickLower:N.tickLower,tickUpper:N.tickUpper,amount0:re?N.amount0.quotient.toString():J.quotient.toString(),amount1:re?J.quotient.toString():N.amount1.quotient.toString(),useFullPrecision:!1});return ne.push(he.encodeAddLiquidity(N,Se,B,E.slippageTolerance)),ne.push(fe?M.encodeUnwrapWETH9(P):M.encodeSweepToken(ye,P)),ne.push(xe?M.encodeUnwrapWETH9(P):M.encodeSweepToken(Pe,P)),Ee=fe?X.wrapped.add(oe.wrapped).quotient:xe?ve.quotient:P,{calldata:ue.encodeMulticall(ne,E.deadlineOrPreviousBlockhash),value:Ee.toString()}},I.riskOfPartialFill=function(A){return Array.isArray(A)?A.some(function(E){return I.v3TradeWithHighPriceImpact(E)}):I.v3TradeWithHighPriceImpact(A)},I.v3TradeWithHighPriceImpact=function(A){return!(A instanceof g.Trade)&&A.priceImpact.greaterThan(L)},I.getPositionAmounts=function(A,E){var N=A.mintAmounts,B=N.amount1,G=r.CurrencyAmount.fromRawAmount(A.pool.token0,N.amount0),V=r.CurrencyAmount.fromRawAmount(A.pool.token1,B),Q=E?[G,V]:[V,G];return{positionAmountIn:Q[0],positionAmountOut:Q[1]}},I}();H.INTERFACE=new a.Interface(f.abi),n.ADDRESS_THIS=k,n.ApproveAndCall=he,n.MSG_SENDER=C,n.MixedRoute=ee,n.MixedRouteSDK=T,n.MixedRouteTrade=v,n.MulticallExtended=ue,n.ONE=$,n.ONE_HUNDRED_PERCENT=ie,n.PaymentsExtended=M,n.RouteV2=y,n.RouteV3=b,n.SwapRouter=H,n.Trade=be,n.V2_FEE_PATH_PLACEHOLDER=8388608,n.ZERO=R,n.ZERO_PERCENT=q,n.encodeMixedRouteToPath=w,n.getOutputOfPools=pe,n.isMint=te,n.partitionMixedRouteByProtocol=de,n.tradeComparator=D})(jm);Gm.exports=jm;var kd=Gm.exports,c5={exports:{}};(function(n){(function(e){var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,a=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,x=1e9;function C(ue){var me,M,S,U=b.prototype={constructor:b,toString:null,valueOf:null},Y=new b(1),W=20,Z=4,O=-7,l=21,p=-1e7,h=1e7,m=!1,T=1,D=0,_={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},v="0123456789abcdefghijklmnopqrstuvwxyz",y=!0;function b(P,L){var H,I,A,E,N,B,G,V,Q=this;if(!(Q instanceof b))return new b(P,L);if(L==null){if(P&&P._isBigNumber===!0){Q.s=P.s,!P.c||P.e>h?Q.c=Q.e=null:P.e<p?Q.c=[Q.e=0]:(Q.e=P.e,Q.c=P.c.slice());return}if((B=typeof P=="number")&&P*0==0){if(Q.s=1/P<0?(P=-P,-1):1,P===~~P){for(E=0,N=P;N>=10;N/=10,E++);E>h?Q.c=Q.e=null:(Q.e=E,Q.c=[P]);return}V=String(P)}else{if(!r.test(V=String(P)))return S(Q,V,B);Q.s=V.charCodeAt(0)==45?(V=V.slice(1),-1):1}(E=V.indexOf("."))>-1&&(V=V.replace(".","")),(N=V.search(/e/i))>0?(E<0&&(E=N),E+=+V.slice(N+1),V=V.substring(0,N)):E<0&&(E=V.length)}else{if(q(L,2,v.length,"Base"),L==10&&y)return Q=new b(P),de(Q,W+Q.e+1,Z);if(V=String(P),B=typeof P=="number"){if(P*0!=0)return S(Q,V,B,L);if(Q.s=1/P<0?(V=V.slice(1),-1):1,b.DEBUG&&V.replace(/^0\.0*|\./,"").length>15)throw Error(o+P)}else Q.s=V.charCodeAt(0)===45?(V=V.slice(1),-1):1;for(H=v.slice(0,L),E=N=0,G=V.length;N<G;N++)if(H.indexOf(I=V.charAt(N))<0){if(I=="."){if(N>E){E=G;continue}}else if(!A&&(V==V.toUpperCase()&&(V=V.toLowerCase())||V==V.toLowerCase()&&(V=V.toUpperCase()))){A=!0,N=-1,E=0;continue}return S(Q,String(P),B,L)}B=!1,V=M(V,L,10,Q.s),(E=V.indexOf("."))>-1?V=V.replace(".",""):E=V.length}for(N=0;V.charCodeAt(N)===48;N++);for(G=V.length;V.charCodeAt(--G)===48;);if(V=V.slice(N,++G)){if(G-=N,B&&b.DEBUG&&G>15&&(P>d||P!==a(P)))throw Error(o+Q.s*P);if((E=E-N-1)>h)Q.c=Q.e=null;else if(E<p)Q.c=[Q.e=0];else{if(Q.e=E,Q.c=[],N=(E+1)%c,E<0&&(N+=c),N<G){for(N&&Q.c.push(+V.slice(0,N)),G-=c;N<G;)Q.c.push(+V.slice(N,N+=c));N=c-(V=V.slice(N)).length}else N-=G;for(;N--;V+="0");Q.c.push(+V)}}else Q.c=[Q.e=0]}b.clone=C,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=b.set=function(P){var L,H;if(P!=null)if(typeof P=="object"){if(P.hasOwnProperty(L="DECIMAL_PLACES")&&(H=P[L],q(H,0,x,L),W=H),P.hasOwnProperty(L="ROUNDING_MODE")&&(H=P[L],q(H,0,8,L),Z=H),P.hasOwnProperty(L="EXPONENTIAL_AT")&&(H=P[L],H&&H.pop?(q(H[0],-x,0,L),q(H[1],0,x,L),O=H[0],l=H[1]):(q(H,-x,x,L),O=-(l=H<0?-H:H))),P.hasOwnProperty(L="RANGE"))if(H=P[L],H&&H.pop)q(H[0],-x,-1,L),q(H[1],1,x,L),p=H[0],h=H[1];else if(q(H,-x,x,L),H)p=-(h=H<0?-H:H);else throw Error(s+L+" cannot be zero: "+H);if(P.hasOwnProperty(L="CRYPTO"))if(H=P[L],H===!!H)if(H)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))m=H;else throw m=!H,Error(s+"crypto unavailable");else m=H;else throw Error(s+L+" not true or false: "+H);if(P.hasOwnProperty(L="MODULO_MODE")&&(H=P[L],q(H,0,9,L),T=H),P.hasOwnProperty(L="POW_PRECISION")&&(H=P[L],q(H,0,x,L),D=H),P.hasOwnProperty(L="FORMAT"))if(H=P[L],typeof H=="object")_=H;else throw Error(s+L+" not an object: "+H);if(P.hasOwnProperty(L="ALPHABET"))if(H=P[L],typeof H=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(H))y=H.slice(0,10)=="0123456789",v=H;else throw Error(s+L+" invalid: "+H)}else throw Error(s+"Object expected: "+P);return{DECIMAL_PLACES:W,ROUNDING_MODE:Z,EXPONENTIAL_AT:[O,l],RANGE:[p,h],CRYPTO:m,MODULO_MODE:T,POW_PRECISION:D,FORMAT:_,ALPHABET:v}},b.isBigNumber=function(P){if(!P||P._isBigNumber!==!0)return!1;if(!b.DEBUG)return!0;var L,H,I=P.c,A=P.e,E=P.s;e:if({}.toString.call(I)=="[object Array]"){if((E===1||E===-1)&&A>=-x&&A<=x&&A===a(A)){if(I[0]===0){if(A===0&&I.length===1)return!0;break e}if(L=(A+1)%c,L<1&&(L+=c),String(I[0]).length==L){for(L=0;L<I.length;L++)if(H=I[L],H<0||H>=u||H!==a(H))break e;if(H!==0)return!0}}}else if(I===null&&A===null&&(E===null||E===1||E===-1))return!0;throw Error(s+"Invalid BigNumber: "+P)},b.maximum=b.max=function(){return be(arguments,U.lt)},b.minimum=b.min=function(){return be(arguments,U.gt)},b.random=function(){var P=9007199254740992,L=Math.random()*P&2097151?function(){return a(Math.random()*P)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(H){var I,A,E,N,B,G=0,V=[],Q=new b(Y);if(H==null?H=W:q(H,0,x),N=i(H/c),m)if(crypto.getRandomValues){for(I=crypto.getRandomValues(new Uint32Array(N*=2));G<N;)B=I[G]*131072+(I[G+1]>>>11),B>=9e15?(A=crypto.getRandomValues(new Uint32Array(2)),I[G]=A[0],I[G+1]=A[1]):(V.push(B%1e14),G+=2);G=N/2}else if(crypto.randomBytes){for(I=crypto.randomBytes(N*=7);G<N;)B=(I[G]&31)*281474976710656+I[G+1]*1099511627776+I[G+2]*4294967296+I[G+3]*16777216+(I[G+4]<<16)+(I[G+5]<<8)+I[G+6],B>=9e15?crypto.randomBytes(7).copy(I,G):(V.push(B%1e14),G+=7);G=N/7}else throw m=!1,Error(s+"crypto unavailable");if(!m)for(;G<N;)B=L(),B<9e15&&(V[G++]=B%1e14);for(N=V[--G],H%=c,N&&H&&(B=f[c-H],V[G]=a(N/B)*B);V[G]===0;V.pop(),G--);if(G<0)V=[E=0];else{for(E=-1;V[0]===0;V.splice(0,1),E-=c);for(G=1,B=V[0];B>=10;B/=10,G++);G<c&&(E-=c-G)}return Q.e=E,Q.c=V,Q}}(),b.sum=function(){for(var P=1,L=arguments,H=new b(L[0]);P<L.length;)H=H.plus(L[P++]);return H},M=function(){var P="0123456789";function L(H,I,A,E){for(var N,B=[0],G,V=0,Q=H.length;V<Q;){for(G=B.length;G--;B[G]*=I);for(B[0]+=E.indexOf(H.charAt(V++)),N=0;N<B.length;N++)B[N]>A-1&&(B[N+1]==null&&(B[N+1]=0),B[N+1]+=B[N]/A|0,B[N]%=A)}return B.reverse()}return function(H,I,A,E,N){var B,G,V,Q,ne,fe,xe,ke,X=H.indexOf("."),K=W,J=Z;for(X>=0&&(Q=D,D=0,H=H.replace(".",""),ke=new b(I),fe=ke.pow(H.length-X),D=Q,ke.c=L(he(R(fe.c),fe.e,"0"),10,A,P),ke.e=ke.c.length),xe=L(H,I,A,N?(B=v,P):(B=P,v)),V=Q=xe.length;xe[--Q]==0;xe.pop());if(!xe[0])return B.charAt(0);if(X<0?--V:(fe.c=xe,fe.e=V,fe.s=E,fe=me(fe,ke,K,J,A),xe=fe.c,ne=fe.r,V=fe.e),G=V+K+1,X=xe[G],Q=A/2,ne=ne||G<0||xe[G+1]!=null,ne=J<4?(X!=null||ne)&&(J==0||J==(fe.s<0?3:2)):X>Q||X==Q&&(J==4||ne||J==6&&xe[G-1]&1||J==(fe.s<0?8:7)),G<1||!xe[0])H=ne?he(B.charAt(1),-K,B.charAt(0)):B.charAt(0);else{if(xe.length=G,ne)for(--A;++xe[--G]>A;)xe[G]=0,G||(++V,xe=[1].concat(xe));for(Q=xe.length;!xe[--Q];);for(X=0,H="";X<=Q;H+=B.charAt(xe[X++]));H=he(H,V,B.charAt(0))}return H}}(),me=function(){function P(I,A,E){var N,B,G,V,Q=0,ne=I.length,fe=A%g,xe=A/g|0;for(I=I.slice();ne--;)G=I[ne]%g,V=I[ne]/g|0,N=xe*G+V*fe,B=fe*G+N%g*g+Q,Q=(B/E|0)+(N/g|0)+xe*V,I[ne]=B%E;return Q&&(I=[Q].concat(I)),I}function L(I,A,E,N){var B,G;if(E!=N)G=E>N?1:-1;else for(B=G=0;B<E;B++)if(I[B]!=A[B]){G=I[B]>A[B]?1:-1;break}return G}function H(I,A,E,N){for(var B=0;E--;)I[E]-=B,B=I[E]<A[E]?1:0,I[E]=B*N+I[E]-A[E];for(;!I[0]&&I.length>1;I.splice(0,1));}return function(I,A,E,N,B){var G,V,Q,ne,fe,xe,ke,X,K,J,j,re,ae,oe,le,ye,Pe,ve=I.s==A.s?1:-1,Ee=I.c,Se=A.c;if(!Ee||!Ee[0]||!Se||!Se[0])return new b(!I.s||!A.s||(Ee?Se&&Ee[0]==Se[0]:!Se)?NaN:Ee&&Ee[0]==0||!Se?ve*0:ve/0);for(X=new b(ve),K=X.c=[],V=I.e-A.e,ve=E+V+1,B||(B=u,V=k(I.e/c)-k(A.e/c),ve=ve/c|0),Q=0;Se[Q]==(Ee[Q]||0);Q++);if(Se[Q]>(Ee[Q]||0)&&V--,ve<0)K.push(1),ne=!0;else{for(oe=Ee.length,ye=Se.length,Q=0,ve+=2,fe=a(B/(Se[0]+1)),fe>1&&(Se=P(Se,fe,B),Ee=P(Ee,fe,B),ye=Se.length,oe=Ee.length),ae=ye,J=Ee.slice(0,ye),j=J.length;j<ye;J[j++]=0);Pe=Se.slice(),Pe=[0].concat(Pe),le=Se[0],Se[1]>=B/2&&le++;do{if(fe=0,G=L(Se,J,ye,j),G<0){if(re=J[0],ye!=j&&(re=re*B+(J[1]||0)),fe=a(re/le),fe>1)for(fe>=B&&(fe=B-1),xe=P(Se,fe,B),ke=xe.length,j=J.length;L(xe,J,ke,j)==1;)fe--,H(xe,ye<ke?Pe:Se,ke,B),ke=xe.length,G=1;else fe==0&&(G=fe=1),xe=Se.slice(),ke=xe.length;if(ke<j&&(xe=[0].concat(xe)),H(J,xe,j,B),j=J.length,G==-1)for(;L(Se,J,ye,j)<1;)fe++,H(J,ye<j?Pe:Se,j,B),j=J.length}else G===0&&(fe++,J=[0]);K[Q++]=fe,J[0]?J[j++]=Ee[ae]||0:(J=[Ee[ae]],j=1)}while((ae++<oe||J[0]!=null)&&ve--);ne=J[0]!=null,K[0]||K.splice(0,1)}if(B==u){for(Q=1,ve=K[0];ve>=10;ve/=10,Q++);de(X,E+(X.e=Q+V*c-1)+1,N,ne)}else X.e=V,X.r=+ne;return X}}();function ee(P,L,H,I){var A,E,N,B,G;if(H==null?H=Z:q(H,0,8),!P.c)return P.toString();if(A=P.c[0],N=P.e,L==null)G=R(P.c),G=I==1||I==2&&(N<=O||N>=l)?te(G,N):he(G,N,"0");else if(P=de(new b(P),L,H),E=P.e,G=R(P.c),B=G.length,I==1||I==2&&(L<=E||E<=O)){for(;B<L;G+="0",B++);G=te(G,E)}else if(L-=N,G=he(G,E,"0"),E+1>B){if(--L>0)for(G+=".";L--;G+="0");}else if(L+=E-B,L>0)for(E+1==B&&(G+=".");L--;G+="0");return P.s<0&&A?"-"+G:G}function be(P,L){for(var H,I=1,A=new b(P[0]);I<P.length;I++)if(H=new b(P[I]),H.s)L.call(A,H)&&(A=H);else{A=H;break}return A}function w(P,L,H){for(var I=1,A=L.length;!L[--A];L.pop());for(A=L[0];A>=10;A/=10,I++);return(H=I+H*c-1)>h?P.c=P.e=null:H<p?P.c=[P.e=0]:(P.e=H,P.c=L),P}S=function(){var P=/^(-?)0([xbo])(?=\w[\w.]*$)/i,L=/^([^.]+)\.$/,H=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(E,N,B,G){var V,Q=B?N:N.replace(A,"");if(I.test(Q))E.s=isNaN(Q)?null:Q<0?-1:1;else{if(!B&&(Q=Q.replace(P,function(ne,fe,xe){return V=(xe=xe.toLowerCase())=="x"?16:xe=="b"?2:8,!G||G==V?fe:ne}),G&&(V=G,Q=Q.replace(L,"$1").replace(H,"0.$1")),N!=Q))return new b(Q,V);if(b.DEBUG)throw Error(s+"Not a"+(G?" base "+G:"")+" number: "+N);E.s=null}E.c=E.e=null}}();function de(P,L,H,I){var A,E,N,B,G,V,Q,ne=P.c,fe=f;if(ne){e:{for(A=1,B=ne[0];B>=10;B/=10,A++);if(E=L-A,E<0)E+=c,N=L,G=ne[V=0],Q=G/fe[A-N-1]%10|0;else if(V=i((E+1)/c),V>=ne.length)if(I){for(;ne.length<=V;ne.push(0));G=Q=0,A=1,E%=c,N=E-c+1}else break e;else{for(G=B=ne[V],A=1;B>=10;B/=10,A++);E%=c,N=E-c+A,Q=N<0?0:G/fe[A-N-1]%10|0}if(I=I||L<0||ne[V+1]!=null||(N<0?G:G%fe[A-N-1]),I=H<4?(Q||I)&&(H==0||H==(P.s<0?3:2)):Q>5||Q==5&&(H==4||I||H==6&&(E>0?N>0?G/fe[A-N]:0:ne[V-1])%10&1||H==(P.s<0?8:7)),L<1||!ne[0])return ne.length=0,I?(L-=P.e+1,ne[0]=fe[(c-L%c)%c],P.e=-L||0):ne[0]=P.e=0,P;if(E==0?(ne.length=V,B=1,V--):(ne.length=V+1,B=fe[c-E],ne[V]=N>0?a(G/fe[A-N]%fe[N])*B:0),I)for(;;)if(V==0){for(E=1,N=ne[0];N>=10;N/=10,E++);for(N=ne[0]+=B,B=1;N>=10;N/=10,B++);E!=B&&(P.e++,ne[0]==u&&(ne[0]=1));break}else{if(ne[V]+=B,ne[V]!=u)break;ne[V--]=0,B=1}for(E=ne.length;ne[--E]===0;ne.pop());}P.e>h?P.c=P.e=null:P.e<p&&(P.c=[P.e=0])}return P}function pe(P){var L,H=P.e;return H===null?P.toString():(L=R(P.c),L=H<=O||H>=l?te(L,H):he(L,H,"0"),P.s<0?"-"+L:L)}return U.absoluteValue=U.abs=function(){var P=new b(this);return P.s<0&&(P.s=1),P},U.comparedTo=function(P,L){return $(this,new b(P,L))},U.decimalPlaces=U.dp=function(P,L){var H,I,A,E=this;if(P!=null)return q(P,0,x),L==null?L=Z:q(L,0,8),de(new b(E),P+E.e+1,L);if(!(H=E.c))return null;if(I=((A=H.length-1)-k(this.e/c))*c,A=H[A])for(;A%10==0;A/=10,I--);return I<0&&(I=0),I},U.dividedBy=U.div=function(P,L){return me(this,new b(P,L),W,Z)},U.dividedToIntegerBy=U.idiv=function(P,L){return me(this,new b(P,L),0,1)},U.exponentiatedBy=U.pow=function(P,L){var H,I,A,E,N,B,G,V,Q,ne=this;if(P=new b(P),P.c&&!P.isInteger())throw Error(s+"Exponent not an integer: "+pe(P));if(L!=null&&(L=new b(L)),B=P.e>14,!ne.c||!ne.c[0]||ne.c[0]==1&&!ne.e&&ne.c.length==1||!P.c||!P.c[0])return Q=new b(Math.pow(+pe(ne),B?P.s*(2-ie(P)):+pe(P))),L?Q.mod(L):Q;if(G=P.s<0,L){if(L.c?!L.c[0]:!L.s)return new b(NaN);I=!G&&ne.isInteger()&&L.isInteger(),I&&(ne=ne.mod(L))}else{if(P.e>9&&(ne.e>0||ne.e<-1||(ne.e==0?ne.c[0]>1||B&&ne.c[1]>=24e7:ne.c[0]<8e13||B&&ne.c[0]<=9999975e7)))return E=ne.s<0&&ie(P)?-0:0,ne.e>-1&&(E=1/E),new b(G?1/E:E);D&&(E=i(D/c+2))}for(B?(H=new b(.5),G&&(P.s=1),V=ie(P)):(A=Math.abs(+pe(P)),V=A%2),Q=new b(Y);;){if(V){if(Q=Q.times(ne),!Q.c)break;E?Q.c.length>E&&(Q.c.length=E):I&&(Q=Q.mod(L))}if(A){if(A=a(A/2),A===0)break;V=A%2}else if(P=P.times(H),de(P,P.e+1,1),P.e>14)V=ie(P);else{if(A=+pe(P),A===0)break;V=A%2}ne=ne.times(ne),E?ne.c&&ne.c.length>E&&(ne.c.length=E):I&&(ne=ne.mod(L))}return I?Q:(G&&(Q=Y.div(Q)),L?Q.mod(L):E?de(Q,D,Z,N):Q)},U.integerValue=function(P){var L=new b(this);return P==null?P=Z:q(P,0,8),de(L,L.e+1,P)},U.isEqualTo=U.eq=function(P,L){return $(this,new b(P,L))===0},U.isFinite=function(){return!!this.c},U.isGreaterThan=U.gt=function(P,L){return $(this,new b(P,L))>0},U.isGreaterThanOrEqualTo=U.gte=function(P,L){return(L=$(this,new b(P,L)))===1||L===0},U.isInteger=function(){return!!this.c&&k(this.e/c)>this.c.length-2},U.isLessThan=U.lt=function(P,L){return $(this,new b(P,L))<0},U.isLessThanOrEqualTo=U.lte=function(P,L){return(L=$(this,new b(P,L)))===-1||L===0},U.isNaN=function(){return!this.s},U.isNegative=function(){return this.s<0},U.isPositive=function(){return this.s>0},U.isZero=function(){return!!this.c&&this.c[0]==0},U.minus=function(P,L){var H,I,A,E,N=this,B=N.s;if(P=new b(P,L),L=P.s,!B||!L)return new b(NaN);if(B!=L)return P.s=-L,N.plus(P);var G=N.e/c,V=P.e/c,Q=N.c,ne=P.c;if(!G||!V){if(!Q||!ne)return Q?(P.s=-L,P):new b(ne?N:NaN);if(!Q[0]||!ne[0])return ne[0]?(P.s=-L,P):new b(Q[0]?N:Z==3?-0:0)}if(G=k(G),V=k(V),Q=Q.slice(),B=G-V){for((E=B<0)?(B=-B,A=Q):(V=G,A=ne),A.reverse(),L=B;L--;A.push(0));A.reverse()}else for(I=(E=(B=Q.length)<(L=ne.length))?B:L,B=L=0;L<I;L++)if(Q[L]!=ne[L]){E=Q[L]<ne[L];break}if(E&&(A=Q,Q=ne,ne=A,P.s=-P.s),L=(I=ne.length)-(H=Q.length),L>0)for(;L--;Q[H++]=0);for(L=u-1;I>B;){if(Q[--I]<ne[I]){for(H=I;H&&!Q[--H];Q[H]=L);--Q[H],Q[I]+=u}Q[I]-=ne[I]}for(;Q[0]==0;Q.splice(0,1),--V);return Q[0]?w(P,Q,V):(P.s=Z==3?-1:1,P.c=[P.e=0],P)},U.modulo=U.mod=function(P,L){var H,I,A=this;return P=new b(P,L),!A.c||!P.s||P.c&&!P.c[0]?new b(NaN):!P.c||A.c&&!A.c[0]?new b(A):(T==9?(I=P.s,P.s=1,H=me(A,P,0,3),P.s=I,H.s*=I):H=me(A,P,0,T),P=A.minus(H.times(P)),!P.c[0]&&T==1&&(P.s=A.s),P)},U.multipliedBy=U.times=function(P,L){var H,I,A,E,N,B,G,V,Q,ne,fe,xe,ke,X,K,J=this,j=J.c,re=(P=new b(P,L)).c;if(!j||!re||!j[0]||!re[0])return!J.s||!P.s||j&&!j[0]&&!re||re&&!re[0]&&!j?P.c=P.e=P.s=null:(P.s*=J.s,!j||!re?P.c=P.e=null:(P.c=[0],P.e=0)),P;for(I=k(J.e/c)+k(P.e/c),P.s*=J.s,G=j.length,ne=re.length,G<ne&&(ke=j,j=re,re=ke,A=G,G=ne,ne=A),A=G+ne,ke=[];A--;ke.push(0));for(X=u,K=g,A=ne;--A>=0;){for(H=0,fe=re[A]%K,xe=re[A]/K|0,N=G,E=A+N;E>A;)V=j[--N]%K,Q=j[N]/K|0,B=xe*V+Q*fe,V=fe*V+B%K*K+ke[E]+H,H=(V/X|0)+(B/K|0)+xe*Q,ke[E--]=V%X;ke[E]=H}return H?++I:ke.splice(0,1),w(P,ke,I)},U.negated=function(){var P=new b(this);return P.s=-P.s||null,P},U.plus=function(P,L){var H,I=this,A=I.s;if(P=new b(P,L),L=P.s,!A||!L)return new b(NaN);if(A!=L)return P.s=-L,I.minus(P);var E=I.e/c,N=P.e/c,B=I.c,G=P.c;if(!E||!N){if(!B||!G)return new b(A/0);if(!B[0]||!G[0])return G[0]?P:new b(B[0]?I:A*0)}if(E=k(E),N=k(N),B=B.slice(),A=E-N){for(A>0?(N=E,H=G):(A=-A,H=B),H.reverse();A--;H.push(0));H.reverse()}for(A=B.length,L=G.length,A-L<0&&(H=G,G=B,B=H,L=A),A=0;L;)A=(B[--L]=B[L]+G[L]+A)/u|0,B[L]=u===B[L]?0:B[L]%u;return A&&(B=[A].concat(B),++N),w(P,B,N)},U.precision=U.sd=function(P,L){var H,I,A,E=this;if(P!=null&&P!==!!P)return q(P,1,x),L==null?L=Z:q(L,0,8),de(new b(E),P,L);if(!(H=E.c))return null;if(A=H.length-1,I=A*c+1,A=H[A]){for(;A%10==0;A/=10,I--);for(A=H[0];A>=10;A/=10,I++);}return P&&E.e+1>I&&(I=E.e+1),I},U.shiftedBy=function(P){return q(P,-d,d),this.times("1e"+P)},U.squareRoot=U.sqrt=function(){var P,L,H,I,A,E=this,N=E.c,B=E.s,G=E.e,V=W+4,Q=new b("0.5");if(B!==1||!N||!N[0])return new b(!B||B<0&&(!N||N[0])?NaN:N?E:1/0);if(B=Math.sqrt(+pe(E)),B==0||B==1/0?(L=R(N),(L.length+G)%2==0&&(L+="0"),B=Math.sqrt(+L),G=k((G+1)/2)-(G<0||G%2),B==1/0?L="5e"+G:(L=B.toExponential(),L=L.slice(0,L.indexOf("e")+1)+G),H=new b(L)):H=new b(B+""),H.c[0]){for(G=H.e,B=G+V,B<3&&(B=0);;)if(A=H,H=Q.times(A.plus(me(E,A,V,1))),R(A.c).slice(0,B)===(L=R(H.c)).slice(0,B))if(H.e<G&&--B,L=L.slice(B-3,B+1),L=="9999"||!I&&L=="4999"){if(!I&&(de(A,A.e+W+2,0),A.times(A).eq(E))){H=A;break}V+=4,B+=4,I=1}else{(!+L||!+L.slice(1)&&L.charAt(0)=="5")&&(de(H,H.e+W+2,1),P=!H.times(H).eq(E));break}}return de(H,H.e+W+1,Z,P)},U.toExponential=function(P,L){return P!=null&&(q(P,0,x),P++),ee(this,P,L,1)},U.toFixed=function(P,L){return P!=null&&(q(P,0,x),P=P+this.e+1),ee(this,P,L)},U.toFormat=function(P,L,H){var I,A=this;if(H==null)P!=null&&L&&typeof L=="object"?(H=L,L=null):P&&typeof P=="object"?(H=P,P=L=null):H=_;else if(typeof H!="object")throw Error(s+"Argument not an object: "+H);if(I=A.toFixed(P,L),A.c){var E,N=I.split("."),B=+H.groupSize,G=+H.secondaryGroupSize,V=H.groupSeparator||"",Q=N[0],ne=N[1],fe=A.s<0,xe=fe?Q.slice(1):Q,ke=xe.length;if(G&&(E=B,B=G,G=E,ke-=E),B>0&&ke>0){for(E=ke%B||B,Q=xe.substr(0,E);E<ke;E+=B)Q+=V+xe.substr(E,B);G>0&&(Q+=V+xe.slice(E)),fe&&(Q="-"+Q)}I=ne?Q+(H.decimalSeparator||"")+((G=+H.fractionGroupSize)?ne.replace(new RegExp("\\d{"+G+"}\\B","g"),"$&"+(H.fractionGroupSeparator||"")):ne):Q}return(H.prefix||"")+I+(H.suffix||"")},U.toFraction=function(P){var L,H,I,A,E,N,B,G,V,Q,ne,fe,xe=this,ke=xe.c;if(P!=null&&(B=new b(P),!B.isInteger()&&(B.c||B.s!==1)||B.lt(Y)))throw Error(s+"Argument "+(B.isInteger()?"out of range: ":"not an integer: ")+pe(B));if(!ke)return new b(xe);for(L=new b(Y),V=H=new b(Y),I=G=new b(Y),fe=R(ke),E=L.e=fe.length-xe.e-1,L.c[0]=f[(N=E%c)<0?c+N:N],P=!P||B.comparedTo(L)>0?E>0?L:V:B,N=h,h=1/0,B=new b(fe),G.c[0]=0;Q=me(B,L,0,1),A=H.plus(Q.times(I)),A.comparedTo(P)!=1;)H=I,I=A,V=G.plus(Q.times(A=V)),G=A,L=B.minus(Q.times(A=L)),B=A;return A=me(P.minus(H),I,0,1),G=G.plus(A.times(V)),H=H.plus(A.times(I)),G.s=V.s=xe.s,E=E*2,ne=me(V,I,E,Z).minus(xe).abs().comparedTo(me(G,H,E,Z).minus(xe).abs())<1?[V,I]:[G,H],h=N,ne},U.toNumber=function(){return+pe(this)},U.toPrecision=function(P,L){return P!=null&&q(P,1,x),ee(this,P,L,2)},U.toString=function(P){var L,H=this,I=H.s,A=H.e;return A===null?I?(L="Infinity",I<0&&(L="-"+L)):L="NaN":(P==null?L=A<=O||A>=l?te(R(H.c),A):he(R(H.c),A,"0"):P===10&&y?(H=de(new b(H),W+A+1,Z),L=he(R(H.c),H.e,"0")):(q(P,2,v.length,"Base"),L=M(he(R(H.c),A,"0"),10,P,I,!0)),I<0&&H.c[0]&&(L="-"+L)),L},U.valueOf=U.toJSON=function(){return pe(this)},U._isBigNumber=!0,ue!=null&&b.set(ue),b}function k(ue){var me=ue|0;return ue>0||ue===me?me:me-1}function R(ue){for(var me,M,S=1,U=ue.length,Y=ue[0]+"";S<U;){for(me=ue[S++]+"",M=c-me.length;M--;me="0"+me);Y+=me}for(U=Y.length;Y.charCodeAt(--U)===48;);return Y.slice(0,U+1||1)}function $(ue,me){var M,S,U=ue.c,Y=me.c,W=ue.s,Z=me.s,O=ue.e,l=me.e;if(!W||!Z)return null;if(M=U&&!U[0],S=Y&&!Y[0],M||S)return M?S?0:-Z:W;if(W!=Z)return W;if(M=W<0,S=O==l,!U||!Y)return S?0:!U^M?1:-1;if(!S)return O>l^M?1:-1;for(Z=(O=U.length)<(l=Y.length)?O:l,W=0;W<Z;W++)if(U[W]!=Y[W])return U[W]>Y[W]^M?1:-1;return O==l?0:O>l^M?1:-1}function q(ue,me,M,S){if(ue<me||ue>M||ue!==a(ue))throw Error(s+(S||"Argument")+(typeof ue=="number"?ue<me||ue>M?" out of range: ":" not an integer: ":" not a primitive number: ")+String(ue))}function ie(ue){var me=ue.c.length-1;return k(ue.e/c)==me&&ue.c[me]%2!=0}function te(ue,me){return(ue.length>1?ue.charAt(0)+"."+ue.slice(1):ue)+(me<0?"e":"e+")+me}function he(ue,me,M){var S,U;if(me<0){for(U=M+".";++me;U+=M);ue=U+ue}else if(S=ue.length,++me>S){for(U=M,me-=S;--me;U+=M);ue+=U}else me<S&&(ue=ue.slice(0,me)+"."+ue.slice(me));return ue}t=C(),t.default=t.BigNumber=t,n.exports?n.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(gi)})(c5);(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e,t,r=(e=hd)&&typeof e=="object"&&"default"in e?e.default:e,i=Q6,a=gd,s=Lw,o=Um,u=$m,c=Hm,d=kd,f=Wm;function g(X){var K=function(J,j){if(typeof J!="object"||!J)return J;var re=J[Symbol.toPrimitive];if(re!==void 0){var ae=re.call(J,"string");if(typeof ae!="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(X);return typeof K=="symbol"?K:String(K)}function x(){return(x=Object.assign?Object.assign.bind():function(X){for(var K=1;K<arguments.length;K++){var J=arguments[K];for(var j in J)Object.prototype.hasOwnProperty.call(J,j)&&(X[j]=J[j])}return X}).apply(this,arguments)}function C(X,K){var J,j;X.prototype=Object.create(K.prototype),X.prototype.constructor=X,J=X,j=K,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,ae){return re.__proto__=ae,re})(J,j)}function k(X,K){(K==null||K>X.length)&&(K=X.length);for(var J=0,j=new Array(K);J<K;J++)j[J]=X[J];return j}function R(X,K){var J=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(J)return(J=J.call(X)).next.bind(J);if(Array.isArray(X)||(J=function(re,ae){if(re){if(typeof re=="string")return k(re,void 0);var oe=Object.prototype.toString.call(re).slice(8,-1);return oe==="Object"&&re.constructor&&(oe=re.constructor.name),oe==="Map"||oe==="Set"?Array.from(re):oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe)?k(re,void 0):void 0}}(X))||K){J&&(X=J);var j=0;return function(){return j>=X.length?{done:!0}:{done:!1,value:X[j++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(t=n.RouterTradeType||(n.RouterTradeType={})).UniswapTrade="UniswapTrade",t.NFTTrade="NFTTrade",t.UnwrapWETH="UnwrapWETH";var $,q,ie,te,he=function(X,K){this.tradeType=n.RouterTradeType.NFTTrade,K.length>0||r(!1),this.market=X,this.orders=K};($=n.Market||(n.Market={})).Foundation="foundation",$.LooksRareV2="looksrareV2",$.NFT20="nft20",$.NFTX="nftx",$.Seaport="seaport",$.Sudoswap="Sudoswap",$.Cryptopunks="cryptopunks",$.X2Y2="x2y2",$.Element="element",(q=n.TokenType||(n.TokenType={})).ERC721="ERC721",q.ERC1155="ERC1155",q.Cryptopunk="Cryptopunk",(te=n.CommandType||(n.CommandType={}))[te.V3_SWAP_EXACT_IN=0]="V3_SWAP_EXACT_IN",te[te.V3_SWAP_EXACT_OUT=1]="V3_SWAP_EXACT_OUT",te[te.PERMIT2_TRANSFER_FROM=2]="PERMIT2_TRANSFER_FROM",te[te.PERMIT2_PERMIT_BATCH=3]="PERMIT2_PERMIT_BATCH",te[te.SWEEP=4]="SWEEP",te[te.TRANSFER=5]="TRANSFER",te[te.PAY_PORTION=6]="PAY_PORTION",te[te.V2_SWAP_EXACT_IN=8]="V2_SWAP_EXACT_IN",te[te.V2_SWAP_EXACT_OUT=9]="V2_SWAP_EXACT_OUT",te[te.PERMIT2_PERMIT=10]="PERMIT2_PERMIT",te[te.WRAP_ETH=11]="WRAP_ETH",te[te.UNWRAP_WETH=12]="UNWRAP_WETH",te[te.PERMIT2_TRANSFER_FROM_BATCH=13]="PERMIT2_TRANSFER_FROM_BATCH",te[te.BALANCE_CHECK_ERC20=14]="BALANCE_CHECK_ERC20",te[te.SEAPORT_V1_5=16]="SEAPORT_V1_5",te[te.LOOKS_RARE_V2=17]="LOOKS_RARE_V2",te[te.NFTX=18]="NFTX",te[te.CRYPTOPUNKS=19]="CRYPTOPUNKS",te[te.OWNER_CHECK_721=21]="OWNER_CHECK_721",te[te.OWNER_CHECK_1155=22]="OWNER_CHECK_1155",te[te.SWEEP_ERC721=23]="SWEEP_ERC721",te[te.X2Y2_721=24]="X2Y2_721",te[te.SUDOSWAP=25]="SUDOSWAP",te[te.NFT20=26]="NFT20",te[te.X2Y2_1155=27]="X2Y2_1155",te[te.FOUNDATION=28]="FOUNDATION",te[te.SWEEP_ERC1155=29]="SWEEP_ERC1155",te[te.ELEMENT_MARKET=30]="ELEMENT_MARKET",te[te.SEAPORT_V1_4=32]="SEAPORT_V1_4",te[te.EXECUTE_SUB_PLAN=33]="EXECUTE_SUB_PLAN",te[te.APPROVE_ERC20=34]="APPROVE_ERC20";var ue,me=new Set([n.CommandType.SEAPORT_V1_5,n.CommandType.SEAPORT_V1_4,n.CommandType.NFTX,n.CommandType.LOOKS_RARE_V2,n.CommandType.X2Y2_721,n.CommandType.X2Y2_1155,n.CommandType.FOUNDATION,n.CommandType.SUDOSWAP,n.CommandType.NFT20,n.CommandType.EXECUTE_SUB_PLAN,n.CommandType.CRYPTOPUNKS,n.CommandType.ELEMENT_MARKET]),M=((ie={})[n.CommandType.EXECUTE_SUB_PLAN]=["bytes","bytes[]"],ie[n.CommandType.PERMIT2_PERMIT]=["((address token,uint160 amount,uint48 expiration,uint48 nonce) details,address spender,uint256 sigDeadline)","bytes"],ie[n.CommandType.PERMIT2_PERMIT_BATCH]=["((address token,uint160 amount,uint48 expiration,uint48 nonce)[] details,address spender,uint256 sigDeadline)","bytes"],ie[n.CommandType.PERMIT2_TRANSFER_FROM]=["address","address","uint160"],ie[n.CommandType.PERMIT2_TRANSFER_FROM_BATCH]=["(address from,address to,uint160 amount,address token)[]"],ie[n.CommandType.V3_SWAP_EXACT_IN]=["address","uint256","uint256","bytes","bool"],ie[n.CommandType.V3_SWAP_EXACT_OUT]=["address","uint256","uint256","bytes","bool"],ie[n.CommandType.V2_SWAP_EXACT_IN]=["address","uint256","uint256","address[]","bool"],ie[n.CommandType.V2_SWAP_EXACT_OUT]=["address","uint256","uint256","address[]","bool"],ie[n.CommandType.WRAP_ETH]=["address","uint256"],ie[n.CommandType.UNWRAP_WETH]=["address","uint256"],ie[n.CommandType.SWEEP]=["address","address","uint256"],ie[n.CommandType.SWEEP_ERC721]=["address","address","uint256"],ie[n.CommandType.SWEEP_ERC1155]=["address","address","uint256","uint256"],ie[n.CommandType.TRANSFER]=["address","address","uint256"],ie[n.CommandType.PAY_PORTION]=["address","address","uint256"],ie[n.CommandType.BALANCE_CHECK_ERC20]=["address","address","uint256"],ie[n.CommandType.OWNER_CHECK_721]=["address","address","uint256"],ie[n.CommandType.OWNER_CHECK_1155]=["address","address","uint256","uint256"],ie[n.CommandType.APPROVE_ERC20]=["address","uint256"],ie[n.CommandType.SEAPORT_V1_5]=["uint256","bytes"],ie[n.CommandType.SEAPORT_V1_4]=["uint256","bytes"],ie[n.CommandType.NFTX]=["uint256","bytes"],ie[n.CommandType.LOOKS_RARE_V2]=["uint256","bytes"],ie[n.CommandType.X2Y2_721]=["uint256","bytes","address","address","uint256"],ie[n.CommandType.X2Y2_1155]=["uint256","bytes","address","address","uint256","uint256"],ie[n.CommandType.FOUNDATION]=["uint256","bytes","address","address","uint256"],ie[n.CommandType.SUDOSWAP]=["uint256","bytes"],ie[n.CommandType.NFT20]=["uint256","bytes"],ie[n.CommandType.CRYPTOPUNKS]=["uint256","address","uint256"],ie[n.CommandType.ELEMENT_MARKET]=["uint256","bytes"],ie),S=function(){function X(){this.commands="0x",this.inputs=[]}var K=X.prototype;return K.addSubPlan=function(J){this.addCommand(n.CommandType.EXECUTE_SUB_PLAN,[J.commands,J.inputs],!0)},K.addCommand=function(J,j,re){re===void 0&&(re=!1);var ae=function(oe,le){return{type:oe,encodedInput:o.defaultAbiCoder.encode(M[oe],le)}}(J,j);if(this.inputs.push(ae.encodedInput),re){if(!me.has(ae.type))throw new Error("command type: "+ae.type+" cannot be allowed to revert");ae.type=128|ae.type}this.commands=this.commands.concat(ae.type.toString(16).padStart(2,"0"))},X}(),U=((ue={})[1]={router:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",weth:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",creationBlock:17143817},ue[5]={router:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",weth:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",creationBlock:8940568},ue[11155111]={router:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",weth:"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",creationBlock:3543575},ue[137]={router:"0xec7BE89e9d109e7e3Fec59c222CF297125FEFda2",weth:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",creationBlock:52210153},ue[80001]={router:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",weth:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",creationBlock:35176052},ue[10]={router:"0xCb1355ff08Ab38bBCE60111F1bb2B784bE25D7e8",weth:"0x4200000000000000000000000000000000000006",creationBlock:114702266},ue[420]={router:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",weth:"0x4200000000000000000000000000000000000006",creationBlock:8887728},ue[42161]={router:"0x5E325eDA8064b456f4781070C0738d849c824258",weth:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",creationBlock:169472836},ue[421613]={router:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",weth:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",creationBlock:18815277},ue[42220]={router:"0x643770e279d5d0733f21d6dc03a8efbabf3255b4",weth:"0x0000000000000000000000000000000000000000",creationBlock:21407637},ue[44787]={router:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",weth:"0x0000000000000000000000000000000000000000",creationBlock:17566658},ue[56]={router:"0x4Dae2f939ACf50408e13d58534Ff8c2776d45265",weth:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",creationBlock:35160263},ue[43114]={router:"0x4Dae2f939ACf50408e13d58534Ff8c2776d45265",weth:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",creationBlock:40237257},ue[84531]={router:"0xd0872d928672ae2ff74bdb2f5130ac12229cafaf",weth:"0x4200000000000000000000000000000000000006",creationBlock:6915289},ue[8453]={router:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",weth:"0x4200000000000000000000000000000000000006",creationBlock:9107268},ue[81457]={router:"0x643770E279d5D0733F21d6DC03A8efbABf3255B4",weth:"0x4300000000000000000000000000000000000004",creationBlock:1116444},ue[7777777]={router:"0x2986d9721A49838ab4297b695858aF7F17f38014",weth:"0x4200000000000000000000000000000000000006",creationBlock:11832155},ue[324]={router:"0x28731BCC616B5f51dD52CF2e4dF0E78dD1136C06",weth:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91",creationBlock:12640979},ue),Y=function(X){if(!(X in U))throw new Error("Universal Router not deployed on chain "+X);if(U[X].weth=="0x0000000000000000000000000000000000000000")throw new Error("Chain "+X+" does not have WETH");return U[X].weth},W=s.BigNumber.from(2).pow(255),Z="0x0000000000000000000000000000000000000000",O="0x0000000000000000000000000000000000000000",l="0x0000000000000000000000000000000000000001",p="0x0000000000000000000000000000000000000002",h=new f.Percent(50,100),m=function(){function X(j,re){if(this.trade=j,this.options=re,this.tradeType=n.RouterTradeType.UniswapTrade,re.fee&&re.flatFee)throw new Error("Only one fee option permitted");this.payerIsUser=!this.inputRequiresWrap&&!this.options.useRouterBalance}var K,J;return X.prototype.encode=function(j,re){var ae;this.inputRequiresWrap&&j.addCommand(n.CommandType.WRAP_ETH,[p,this.trade.maximumAmountIn(this.options.slippageTolerance).quotient.toString()]),this.options.recipient=(ae=this.options.recipient)!=null?ae:l;for(var oe,le,ye=this.trade.outputAmount.currency.isNative,Pe=this.trade.tradeType===f.TradeType.EXACT_INPUT&&this.trade.routes.length>2||ye||!!(oe=this.options).fee||!!oe.flatFee,ve=R(this.trade.swaps);!(le=ve()).done;){var Ee=le.value;switch(Ee.route.protocol){case d.Protocol.V2:T(j,Ee,this.trade.tradeType,this.options,this.payerIsUser,Pe);break;case d.Protocol.V3:D(j,Ee,this.trade.tradeType,this.options,this.payerIsUser,Pe);break;case d.Protocol.MIXED:_(j,Ee,this.trade.tradeType,this.options,this.payerIsUser,Pe);break;default:throw new Error("UNSUPPORTED_TRADE_PROTOCOL")}}var Se=s.BigNumber.from(this.trade.minimumAmountOut(this.options.slippageTolerance).quotient.toString());if(Pe){if(this.options.fee){var it=c.toHex(this.options.fee.fee.multiply(1e4).quotient);j.addCommand(n.CommandType.PAY_PORTION,[this.trade.outputAmount.currency.wrapped.address,this.options.fee.recipient,it]),this.trade.tradeType===f.TradeType.EXACT_OUTPUT&&(Se=Se.sub(Se.mul(it).div(1e4)))}if(this.options.flatFee){var Ue=this.options.flatFee.amount;if(Se.lt(Ue))throw new Error("Flat fee amount greater than minimumAmountOut");j.addCommand(n.CommandType.TRANSFER,[this.trade.outputAmount.currency.wrapped.address,this.options.flatFee.recipient,Ue]),this.trade.tradeType===f.TradeType.EXACT_OUTPUT&&(Se=Se.sub(Ue))}ye?j.addCommand(n.CommandType.UNWRAP_WETH,[this.options.recipient,Se]):j.addCommand(n.CommandType.SWEEP,[this.trade.outputAmount.currency.wrapped.address,this.options.recipient,Se])}this.inputRequiresWrap&&(this.trade.tradeType===f.TradeType.EXACT_OUTPUT||this.trade.priceImpact.greaterThan(h))&&j.addCommand(n.CommandType.UNWRAP_WETH,[this.options.recipient,0]),this.options.safeMode&&j.addCommand(n.CommandType.SWEEP,[Z,this.options.recipient,0])},K=X,(J=[{key:"inputRequiresWrap",get:function(){return this.trade.inputAmount.currency.isNative}}])&&function(j,re){for(var ae=0;ae<re.length;ae++){var oe=re[ae];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(j,g(oe.key),oe)}}(K.prototype,J),Object.defineProperty(K,"prototype",{writable:!1}),X}();function T(X,K,J,j,re,ae){var oe=K.route,le=new u.Trade(oe,J==f.TradeType.EXACT_INPUT?K.inputAmount:K.outputAmount,J);J==f.TradeType.EXACT_INPUT?X.addCommand(n.CommandType.V2_SWAP_EXACT_IN,[ae?p:j.recipient,le.maximumAmountIn(j.slippageTolerance).quotient.toString(),le.minimumAmountOut(j.slippageTolerance).quotient.toString(),oe.path.map(function(ye){return ye.address}),re]):J==f.TradeType.EXACT_OUTPUT&&X.addCommand(n.CommandType.V2_SWAP_EXACT_OUT,[ae?p:j.recipient,le.minimumAmountOut(j.slippageTolerance).quotient.toString(),le.maximumAmountIn(j.slippageTolerance).quotient.toString(),oe.path.map(function(ye){return ye.address}),re])}function D(X,K,J,j,re,ae){var oe=K.route,le=c.Trade.createUncheckedTrade({route:oe,inputAmount:K.inputAmount,outputAmount:K.outputAmount,tradeType:J}),ye=c.encodeRouteToPath(oe,le.tradeType===f.TradeType.EXACT_OUTPUT);J==f.TradeType.EXACT_INPUT?X.addCommand(n.CommandType.V3_SWAP_EXACT_IN,[ae?p:j.recipient,le.maximumAmountIn(j.slippageTolerance).quotient.toString(),le.minimumAmountOut(j.slippageTolerance).quotient.toString(),ye,re]):J==f.TradeType.EXACT_OUTPUT&&X.addCommand(n.CommandType.V3_SWAP_EXACT_OUT,[ae?p:j.recipient,le.minimumAmountOut(j.slippageTolerance).quotient.toString(),le.maximumAmountIn(j.slippageTolerance).quotient.toString(),ye,re])}function _(X,K,J,j,re,ae){var oe=K.route,le=K.inputAmount,ye=K.outputAmount,Pe=ae?p:j.recipient;if(oe.pools.length===1){if(oe.pools[0]instanceof c.Pool)return D(X,K,J,j,re,ae);if(oe.pools[0]instanceof u.Pair)return T(X,K,J,j,re,ae);throw new Error("Invalid route type")}for(var ve,Ee=d.MixedRouteTrade.createUncheckedTrade({route:oe,inputAmount:le,outputAmount:ye,tradeType:J}),Se=Ee.maximumAmountIn(j.slippageTolerance,le).quotient.toString(),it=Ee.minimumAmountOut(j.slippageTolerance,ye).quotient.toString(),Ue=d.partitionMixedRouteByProtocol(oe),We=function(Le){return Le===Ue.length-1},Ve=oe.input.wrapped,Fe=0;Fe<Ue.length;Fe++){var qe=Ue[Fe];ve=d.getOutputOfPools(qe,Ve);var we=new d.MixedRouteSDK([].concat(qe),qe[0].token0.equals(Ve)?qe[0].token0:qe[0].token1,ve),Te=new d.MixedRoute(we);if(Ve=ve,function(Le){return Le.pools.every(function(Ie){return Ie instanceof c.Pool})}(Te)){var _e=d.encodeMixedRouteToPath(Te);X.addCommand(n.CommandType.V3_SWAP_EXACT_IN,[We(Fe)?Pe:Ue[Fe+1][0].liquidityToken.address,Fe==0?Se:W,We(Fe)?it:0,_e,re&&Fe===0])}else X.addCommand(n.CommandType.V2_SWAP_EXACT_IN,[We(Fe)?Pe:p,Fe===0?Se:W,We(Fe)?it:0,Te.path.map(function(Le){return Le.address}),re&&Fe===0])}}function v(X,K){var J=K.signature,j=s.ethers.utils.arrayify(K.signature).length;j!==65&&j!==64||(J=s.ethers.utils.joinSignature(s.ethers.utils.splitSignature(K.signature))),X.addCommand(n.CommandType.PERMIT2_PERMIT,[K,J])}function y(X,K){K.approval&&K.permit2Permit&&K.approval.token!==K.permit2Permit.details.token&&r(!1),K.approval&&K.permit2TransferFrom&&K.approval.token!==K.permit2TransferFrom.token&&r(!1),K.permit2TransferFrom&&K.permit2Permit&&K.permit2TransferFrom.token!==K.permit2Permit.details.token&&r(!1),K.approval&&X.addCommand(n.CommandType.APPROVE_ERC20,[K.approval.token,b(K.approval.protocol)]),K.permit2Permit&&v(X,K.permit2Permit),K.permit2TransferFrom&&X.addCommand(n.CommandType.PERMIT2_TRANSFER_FROM,[K.permit2TransferFrom.token,K.permit2TransferFrom.recipient?K.permit2TransferFrom.recipient:p,K.permit2TransferFrom.amount])}function b(X){switch(X.toLowerCase()){case"0x00000000000000adc04c56bf30ac9d3c0aaf14dc":case"0x00000000000001ad428e4906ae43d8f9852d0dd6":return 0;case"0x2b2e8cda09bba9660dca5cb6233787738ad68329":return 1;default:throw new Error("unsupported protocol address")}}var ee=function(){function X(){}return X.swapCallParameters=function(K,J){J===void 0&&(J={}),Array.isArray(K)||(K=[K]);for(var j,re=K.filter(function(we,Te,_e){return we.hasOwnProperty("market")}),ae=re.length!=1||re[0].orders.length!=1,oe=new S,le=s.BigNumber.from(0),ye=s.BigNumber.from(0),Pe=new Set,ve=R(K);!(j=ve()).done;){var Ee=j.value;if(Ee.tradeType==n.RouterTradeType.NFTTrade){var Se=Ee;Se.encode(oe,{allowRevert:ae});var it=Se.getTotalPrice();Se.market==n.Market.Seaport?Se.getInputTokens().forEach(function(we){Pe.add(we)}):Pe.add(Z),le.lt(it)?(ye=ye.add(it.sub(le)),le=s.BigNumber.from(0)):le=le.sub(it)}else if(Ee.tradeType==n.RouterTradeType.UniswapTrade){var Ue=Ee,We=Ue.trade.inputAmount.currency.isNative,Ve=Ue.trade.outputAmount.currency.isNative,Fe=Ue.options;We&&Fe.inputTokenPermit&&r(!1),Fe.inputTokenPermit&&v(oe,Fe.inputTokenPermit),We&&(ye=ye.add(s.BigNumber.from(Ue.trade.maximumAmountIn(Fe.slippageTolerance).quotient.toString()))),Ve&&Fe.recipient==p&&(le=le.add(s.BigNumber.from(Ue.trade.minimumAmountOut(Fe.slippageTolerance).quotient.toString()))),Ue.encode(oe,{allowRevert:!1})}else{if(Ee.tradeType!=n.RouterTradeType.UnwrapWETH)throw"trade must be of instance: UniswapTrade or NFTTrade";var qe=Ee;Ee.encode(oe,{allowRevert:!1}),le=le.add(qe.amount)}}return Pe.forEach(function(we){oe.addCommand(n.CommandType.SWEEP,[we,l,0])}),X.encodePlan(oe,ye,J)},X.swapNFTCallParameters=function(K,J){J===void 0&&(J={});for(var j,re=new S,ae=s.BigNumber.from(0),oe=K.length!=1||K[0].orders.length!=1,le=R(K);!(j=le()).done;){var ye=j.value;ye.encode(re,{allowRevert:oe}),ae=ae.add(ye.getTotalPrice())}return re.addCommand(n.CommandType.SWEEP,[Z,l,0]),X.encodePlan(re,ae,J)},X.swapERC20CallParameters=function(K,J){var j=new S,re=new m(K,J),ae=re.trade.inputAmount.currency;ae.isNative&&J.inputTokenPermit&&r(!1),J.inputTokenPermit&&v(j,J.inputTokenPermit);var oe=s.BigNumber.from(ae.isNative?re.trade.maximumAmountIn(J.slippageTolerance).quotient.toString():0);return re.encode(j,{allowRevert:!1}),X.encodePlan(j,oe,{deadline:J.deadlineOrPreviousBlockhash?s.BigNumber.from(J.deadlineOrPreviousBlockhash):void 0})},X.encodePlan=function(K,J,j){j===void 0&&(j={});var re=K.commands,ae=K.inputs;return{calldata:X.INTERFACE.encodeFunctionData(j.deadline?"execute(bytes,bytes[],uint256)":"execute(bytes,bytes[])",j.deadline?[re,ae,j.deadline]:[re,ae]),value:J.toHexString()}},X}();ee.INTERFACE=new a.Interface(i.abi);var be=function(X){function K(j){return X.call(this,n.Market.Cryptopunks,j)||this}C(K,X);var J=K.prototype;return J.encode=function(j,re){for(var ae,oe=R(this.orders);!(ae=oe()).done;){var le=ae.value;j.addCommand(n.CommandType.CRYPTOPUNKS,[le.tokenId,le.recipient,le.value],re.allowRevert)}},J.getBuyItems=function(){for(var j,re=[],ae=R(this.orders);!(j=ae()).done;)re.push({tokenAddress:K.CRYPTOPUNK_ADDRESS,tokenId:j.value.tokenId,tokenType:n.TokenType.Cryptopunk});return re},J.getTotalPrice=function(){for(var j,re=s.BigNumber.from(0),ae=R(this.orders);!(j=ae()).done;)re=re.add(j.value.value);return re},K}(he);be.CRYPTOPUNK_ADDRESS="0xb47e3cd837ddf8e4c57f05d70ab865de6e193bbb";var w=[{inputs:[{internalType:"address payable",name:"treasury",type:"address"},{internalType:"address",name:"feth",type:"address"},{internalType:"address",name:"royaltyRegistry",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"FoundationTreasuryNode_Address_Is_Not_A_Contract",type:"error"},{inputs:[],name:"FoundationTreasuryNode_Caller_Not_Admin",type:"error"},{inputs:[{internalType:"uint256",name:"buyPrice",type:"uint256"}],name:"NFTMarketBuyPrice_Cannot_Buy_At_Lower_Price",type:"error"},{inputs:[],name:"NFTMarketBuyPrice_Cannot_Buy_Unset_Price",type:"error"},{inputs:[],name:"NFTMarketBuyPrice_Cannot_Cancel_Unset_Price",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"NFTMarketBuyPrice_Only_Owner_Can_Cancel_Price",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"NFTMarketBuyPrice_Only_Owner_Can_Set_Price",type:"error"},{inputs:[],name:"NFTMarketBuyPrice_Price_Already_Set",type:"error"},{inputs:[],name:"NFTMarketBuyPrice_Price_Too_High",type:"error"},{inputs:[{internalType:"address",name:"seller",type:"address"}],name:"NFTMarketBuyPrice_Seller_Mismatch",type:"error"},{inputs:[],name:"NFTMarketCore_FETH_Address_Is_Not_A_Contract",type:"error"},{inputs:[],name:"NFTMarketCore_Only_FETH_Can_Transfer_ETH",type:"error"},{inputs:[],name:"NFTMarketCore_Seller_Not_Found",type:"error"},{inputs:[],name:"NFTMarketFees_Address_Does_Not_Support_IRoyaltyRegistry",type:"error"},{inputs:[],name:"NFTMarketOffer_Cannot_Be_Made_While_In_Auction",type:"error"},{inputs:[{internalType:"uint256",name:"currentOfferAmount",type:"uint256"}],name:"NFTMarketOffer_Offer_Below_Min_Amount",type:"error"},{inputs:[{internalType:"uint256",name:"expiry",type:"uint256"}],name:"NFTMarketOffer_Offer_Expired",type:"error"},{inputs:[{internalType:"address",name:"currentOfferFrom",type:"address"}],name:"NFTMarketOffer_Offer_From_Does_Not_Match",type:"error"},{inputs:[{internalType:"uint256",name:"minOfferAmount",type:"uint256"}],name:"NFTMarketOffer_Offer_Must_Be_At_Least_Min_Amount",type:"error"},{inputs:[],name:"NFTMarketOffer_Provided_Contract_And_TokenId_Count_Must_Match",type:"error"},{inputs:[],name:"NFTMarketOffer_Reason_Required",type:"error"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],name:"NFTMarketReserveAuction_Already_Listed",type:"error"},{inputs:[{internalType:"uint256",name:"minAmount",type:"uint256"}],name:"NFTMarketReserveAuction_Bid_Must_Be_At_Least_Min_Amount",type:"error"},{inputs:[],name:"NFTMarketReserveAuction_Cannot_Admin_Cancel_Without_Reason",type:"error"},{inputs:[{internalType:"uint256",name:"reservePrice",type:"uint256"}],name:"NFTMarketReserveAuction_Cannot_Bid_Lower_Than_Reserve_Price",type:"error"},{inputs:[{internalType:"uint256",name:"endTime",type:"uint256"}],name:"NFTMarketReserveAuction_Cannot_Bid_On_Ended_Auction",type:"error"},{inputs:[],name:"NFTMarketReserveAuction_Cannot_Bid_On_Nonexistent_Auction",type:"error"},{inputs:[],name:"NFTMarketReserveAuction_Cannot_Cancel_Nonexistent_Auction",type:"error"},{inputs:[],name:"NFTMarketReserveAuction_Cannot_Finalize_Already_Settled_Auction",type:"error"},{inputs:[{internalType:"uint256",name:"endTime",type:"uint256"}],name:"NFTMarketReserveAuction_Cannot_Finalize_Auction_In_Progress",type:"error"},{inputs:[],name:"NFTMarketReserveAuction_Cannot_Rebid_Over_Outstanding_Bid",type:"error"},{inputs:[],name:"NFTMarketReserveAuction_Cannot_Update_Auction_In_Progress",type:"error"},{inputs:[{internalType:"uint256",name:"maxDuration",type:"uint256"}],name:"NFTMarketReserveAuction_Exceeds_Max_Duration",type:"error"},{inputs:[{internalType:"uint256",name:"extensionDuration",type:"uint256"}],name:"NFTMarketReserveAuction_Less_Than_Extension_Duration",type:"error"},{inputs:[],name:"NFTMarketReserveAuction_Must_Set_Non_Zero_Reserve_Price",type:"error"},{inputs:[{internalType:"address",name:"seller",type:"address"}],name:"NFTMarketReserveAuction_Not_Matching_Seller",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"NFTMarketReserveAuction_Only_Owner_Can_Update_Auction",type:"error"},{inputs:[],name:"NFTMarketReserveAuction_Price_Already_Set",type:"error"},{inputs:[],name:"NFTMarketReserveAuction_Too_Much_Value_Provided",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"protocolFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"creatorFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"sellerRev",type:"uint256"}],name:"BuyPriceAccepted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"BuyPriceCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"BuyPriceInvalidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"BuyPriceSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"buyReferrer",type:"address"},{indexed:!1,internalType:"uint256",name:"buyReferrerProtocolFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"buyReferrerSellerFee",type:"uint256"}],name:"BuyReferralPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"protocolFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"creatorFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"sellerRev",type:"uint256"}],name:"OfferAccepted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"OfferCanceledByAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"OfferInvalidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"expiration",type:"uint256"}],name:"OfferMade",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"bidder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"}],name:"ReserveAuctionBidPlaced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"}],name:"ReserveAuctionCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"ReserveAuctionCanceledByAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"duration",type:"uint256"},{indexed:!1,internalType:"uint256",name:"extensionDuration",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reservePrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"auctionId",type:"uint256"}],name:"ReserveAuctionCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!0,internalType:"address",name:"bidder",type:"address"},{indexed:!1,internalType:"uint256",name:"protocolFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"creatorFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"sellerRev",type:"uint256"}],name:"ReserveAuctionFinalized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"}],name:"ReserveAuctionInvalidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reservePrice",type:"uint256"}],name:"ReserveAuctionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"WithdrawalToFETH",type:"event"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"offerFrom",type:"address"},{internalType:"uint256",name:"minAmount",type:"uint256"}],name:"acceptOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"nftContracts",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"string",name:"reason",type:"string"}],name:"adminCancelOffers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"string",name:"reason",type:"string"}],name:"adminCancelReserveAuction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"maxPrice",type:"uint256"}],name:"buy",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"maxPrice",type:"uint256"},{internalType:"address payable",name:"referrer",type:"address"}],name:"buyV2",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"cancelBuyPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],name:"cancelReserveAuction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"reservePrice",type:"uint256"}],name:"createReserveAuction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],name:"finalizeReserveAuction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getBuyPrice",outputs:[{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"getFeesAndRecipients",outputs:[{internalType:"uint256",name:"protocolFee",type:"uint256"},{internalType:"uint256",name:"creatorRev",type:"uint256"},{internalType:"address payable[]",name:"creatorRecipients",type:"address[]"},{internalType:"uint256[]",name:"creatorShares",type:"uint256[]"},{internalType:"uint256",name:"sellerRev",type:"uint256"},{internalType:"address payable",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFethAddress",outputs:[{internalType:"address",name:"fethAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFoundationTreasury",outputs:[{internalType:"address payable",name:"treasuryAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getImmutableRoyalties",outputs:[{internalType:"address payable[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"splitPerRecipientInBasisPoints",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],name:"getMinBidAmount",outputs:[{internalType:"uint256",name:"minimum",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getMinOfferAmount",outputs:[{internalType:"uint256",name:"minimum",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address payable",name:"creator",type:"address"}],name:"getMutableRoyalties",outputs:[{internalType:"address payable[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"splitPerRecipientInBasisPoints",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getOffer",outputs:[{internalType:"address",name:"buyer",type:"address"},{internalType:"uint256",name:"expiration",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getOfferReferrer",outputs:[{internalType:"address payable",name:"referrer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],name:"getReserveAuction",outputs:[{components:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address payable",name:"seller",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"extensionDuration",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address payable",name:"bidder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct NFTMarketReserveAuction.ReserveAuction",name:"auction",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],name:"getReserveAuctionBidReferrer",outputs:[{internalType:"address payable",name:"referrer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getReserveAuctionIdFor",outputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRoyaltyRegistry",outputs:[{internalType:"address",name:"registry",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenCreator",outputs:[{internalType:"address payable",name:"creator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"makeOffer",outputs:[{internalType:"uint256",name:"expiration",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"referrer",type:"address"}],name:"makeOfferV2",outputs:[{internalType:"uint256",name:"expiration",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],name:"placeBid",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"referrer",type:"address"}],name:"placeBidV2",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"setBuyPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"uint256",name:"reservePrice",type:"uint256"}],name:"updateReserveAuction",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],de=function(X){function K(j){return X.call(this,n.Market.Foundation,j)||this}C(K,X);var J=K.prototype;return J.encode=function(j,re){for(var ae,oe=R(this.orders);!(ae=oe()).done;){var le=ae.value,ye=K.INTERFACE.encodeFunctionData("buyV2",[le.tokenAddress,le.tokenId,le.price,le.referrer]);j.addCommand(n.CommandType.FOUNDATION,[le.price,ye,le.recipient,le.tokenAddress,le.tokenId],re.allowRevert)}},J.getBuyItems=function(){for(var j,re=[],ae=R(this.orders);!(j=ae()).done;){var oe=j.value;re.push({tokenAddress:oe.tokenAddress,tokenId:oe.tokenId,tokenType:n.TokenType.ERC721})}return re},J.getTotalPrice=function(){for(var j,re=s.BigNumber.from(0),ae=R(this.orders);!(j=ae()).done;)re=re.add(j.value.price);return re},K}(he);de.INTERFACE=new a.Interface(w);var pe=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_protocolFeeRecipient",type:"address"},{internalType:"address",name:"_transferManager",type:"address"},{internalType:"address",name:"_weth",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CallerInvalid",type:"error"},{inputs:[],name:"ChainIdInvalid",type:"error"},{inputs:[],name:"CreatorFeeBpTooHigh",type:"error"},{inputs:[],name:"CurrencyInvalid",type:"error"},{inputs:[],name:"ERC20TransferFromFail",type:"error"},{inputs:[],name:"LengthsInvalid",type:"error"},{inputs:[],name:"MerkleProofInvalid",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"}],name:"MerkleProofTooLarge",type:"error"},{inputs:[],name:"NewGasLimitETHTransferTooLow",type:"error"},{inputs:[],name:"NewProtocolFeeRecipientCannotBeNullAddress",type:"error"},{inputs:[],name:"NoOngoingTransferInProgress",type:"error"},{inputs:[],name:"NoSelectorForStrategy",type:"error"},{inputs:[],name:"NoncesInvalid",type:"error"},{inputs:[],name:"NotAContract",type:"error"},{inputs:[],name:"NotAffiliateController",type:"error"},{inputs:[],name:"NotOwner",type:"error"},{inputs:[],name:"NotV2Strategy",type:"error"},{inputs:[],name:"NullSignerAddress",type:"error"},{inputs:[],name:"OutsideOfTimeRange",type:"error"},{inputs:[],name:"PercentageTooHigh",type:"error"},{inputs:[],name:"QuoteTypeInvalid",type:"error"},{inputs:[],name:"ReentrancyFail",type:"error"},{inputs:[],name:"RenouncementNotInProgress",type:"error"},{inputs:[],name:"SameDomainSeparator",type:"error"},{inputs:[],name:"SignatureEOAInvalid",type:"error"},{inputs:[],name:"SignatureERC1271Invalid",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"}],name:"SignatureLengthInvalid",type:"error"},{inputs:[],name:"SignatureParameterSInvalid",type:"error"},{inputs:[{internalType:"uint8",name:"v",type:"uint8"}],name:"SignatureParameterVInvalid",type:"error"},{inputs:[],name:"StrategyHasNoSelector",type:"error"},{inputs:[{internalType:"uint256",name:"strategyId",type:"uint256"}],name:"StrategyNotAvailable",type:"error"},{inputs:[],name:"StrategyNotUsed",type:"error"},{inputs:[],name:"StrategyProtocolFeeTooHigh",type:"error"},{inputs:[],name:"TransferAlreadyInProgress",type:"error"},{inputs:[],name:"TransferNotInProgress",type:"error"},{inputs:[],name:"WrongPotentialOwner",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"affiliate",type:"address"},{indexed:!1,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"uint256",name:"affiliateFee",type:"uint256"}],name:"AffiliatePayment",type:"event"},{anonymous:!1,inputs:[],name:"CancelOwnershipTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"bool",name:"isAllowed",type:"bool"}],name:"CurrencyStatusUpdated",type:"event"},{anonymous:!1,inputs:[],name:"InitiateOwnershipRenouncement",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"potentialOwner",type:"address"}],name:"InitiateOwnershipTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"affiliateController",type:"address"}],name:"NewAffiliateController",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isActive",type:"bool"}],name:"NewAffiliateProgramStatus",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"affiliate",type:"address"},{indexed:!1,internalType:"uint256",name:"rate",type:"uint256"}],name:"NewAffiliateRate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"bidNonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"askNonce",type:"uint256"}],name:"NewBidAskNonces",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"creatorFeeManager",type:"address"}],name:"NewCreatorFeeManager",type:"event"},{anonymous:!1,inputs:[],name:"NewDomainSeparator",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"gasLimitETHTransfer",type:"uint256"}],name:"NewGasLimitETHTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxCreatorFeeBp",type:"uint256"}],name:"NewMaxCreatorFeeBp",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"protocolFeeRecipient",type:"address"}],name:"NewProtocolFeeRecipient",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"strategyId",type:"uint256"},{indexed:!1,internalType:"uint16",name:"standardProtocolFeeBp",type:"uint16"},{indexed:!1,internalType:"uint16",name:"minTotalFeeBp",type:"uint16"},{indexed:!1,internalType:"uint16",name:"maxProtocolFeeBp",type:"uint16"},{indexed:!1,internalType:"bytes4",name:"selector",type:"bytes4"},{indexed:!1,internalType:"bool",name:"isMakerBid",type:"bool"},{indexed:!1,internalType:"address",name:"implementation",type:"address"}],name:"NewStrategy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256[]",name:"orderNonces",type:"uint256[]"}],name:"OrderNoncesCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"strategyId",type:"uint256"},{indexed:!1,internalType:"bool",name:"isActive",type:"bool"},{indexed:!1,internalType:"uint16",name:"standardProtocolFeeBp",type:"uint16"},{indexed:!1,internalType:"uint16",name:"minTotalFeeBp",type:"uint16"}],name:"StrategyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256[]",name:"subsetNonces",type:"uint256[]"}],name:"SubsetNoncesCancelled",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"bytes32",name:"orderHash",type:"bytes32"},{internalType:"uint256",name:"orderNonce",type:"uint256"},{internalType:"bool",name:"isNonceInvalidated",type:"bool"}],indexed:!1,internalType:"struct ILooksRareProtocol.NonceInvalidationParameters",name:"nonceInvalidationParameters",type:"tuple"},{indexed:!1,internalType:"address",name:"askUser",type:"address"},{indexed:!1,internalType:"address",name:"bidUser",type:"address"},{indexed:!1,internalType:"uint256",name:"strategyId",type:"uint256"},{indexed:!1,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"address",name:"collection",type:"address"},{indexed:!1,internalType:"uint256[]",name:"itemIds",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"amounts",type:"uint256[]"},{indexed:!1,internalType:"address[2]",name:"feeRecipients",type:"address[2]"},{indexed:!1,internalType:"uint256[3]",name:"feeAmounts",type:"uint256[3]"}],name:"TakerAsk",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"bytes32",name:"orderHash",type:"bytes32"},{internalType:"uint256",name:"orderNonce",type:"uint256"},{internalType:"bool",name:"isNonceInvalidated",type:"bool"}],indexed:!1,internalType:"struct ILooksRareProtocol.NonceInvalidationParameters",name:"nonceInvalidationParameters",type:"tuple"},{indexed:!1,internalType:"address",name:"bidUser",type:"address"},{indexed:!1,internalType:"address",name:"bidRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"strategyId",type:"uint256"},{indexed:!1,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"address",name:"collection",type:"address"},{indexed:!1,internalType:"uint256[]",name:"itemIds",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"amounts",type:"uint256[]"},{indexed:!1,internalType:"address[2]",name:"feeRecipients",type:"address[2]"},{indexed:!1,internalType:"uint256[3]",name:"feeAmounts",type:"uint256[3]"}],name:"TakerBid",type:"event"},{inputs:[],name:"MAGIC_VALUE_ORDER_NONCE_EXECUTED",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"standardProtocolFeeBp",type:"uint16"},{internalType:"uint16",name:"minTotalFeeBp",type:"uint16"},{internalType:"uint16",name:"maxProtocolFeeBp",type:"uint16"},{internalType:"bytes4",name:"selector",type:"bytes4"},{internalType:"bool",name:"isMakerBid",type:"bool"},{internalType:"address",name:"implementation",type:"address"}],name:"addStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"affiliateController",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"affiliateRates",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"orderNonces",type:"uint256[]"}],name:"cancelOrderNonces",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cancelOwnershipTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"subsetNonces",type:"uint256[]"}],name:"cancelSubsetNonces",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"confirmOwnershipRenouncement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"confirmOwnershipTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"creatorFeeManager",outputs:[{internalType:"contract ICreatorFeeManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"bytes",name:"additionalParameters",type:"bytes"}],internalType:"struct OrderStructs.Taker[]",name:"takerBids",type:"tuple[]"},{components:[{internalType:"enum QuoteType",name:"quoteType",type:"uint8"},{internalType:"uint256",name:"globalNonce",type:"uint256"},{internalType:"uint256",name:"subsetNonce",type:"uint256"},{internalType:"uint256",name:"orderNonce",type:"uint256"},{internalType:"uint256",name:"strategyId",type:"uint256"},{internalType:"enum CollectionType",name:"collectionType",type:"uint8"},{internalType:"address",name:"collection",type:"address"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"signer",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256[]",name:"itemIds",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"additionalParameters",type:"bytes"}],internalType:"struct OrderStructs.Maker[]",name:"makerAsks",type:"tuple[]"},{internalType:"bytes[]",name:"makerSignatures",type:"bytes[]"},{components:[{internalType:"bytes32",name:"root",type:"bytes32"},{components:[{internalType:"bytes32",name:"value",type:"bytes32"},{internalType:"enum OrderStructs.MerkleTreeNodePosition",name:"position",type:"uint8"}],internalType:"struct OrderStructs.MerkleTreeNode[]",name:"proof",type:"tuple[]"}],internalType:"struct OrderStructs.MerkleTree[]",name:"merkleTrees",type:"tuple[]"},{internalType:"address",name:"affiliate",type:"address"},{internalType:"bool",name:"isAtomic",type:"bool"}],name:"executeMultipleTakerBids",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"bytes",name:"additionalParameters",type:"bytes"}],internalType:"struct OrderStructs.Taker",name:"takerAsk",type:"tuple"},{components:[{internalType:"enum QuoteType",name:"quoteType",type:"uint8"},{internalType:"uint256",name:"globalNonce",type:"uint256"},{internalType:"uint256",name:"subsetNonce",type:"uint256"},{internalType:"uint256",name:"orderNonce",type:"uint256"},{internalType:"uint256",name:"strategyId",type:"uint256"},{internalType:"enum CollectionType",name:"collectionType",type:"uint8"},{internalType:"address",name:"collection",type:"address"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"signer",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256[]",name:"itemIds",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"additionalParameters",type:"bytes"}],internalType:"struct OrderStructs.Maker",name:"makerBid",type:"tuple"},{internalType:"bytes",name:"makerSignature",type:"bytes"},{components:[{internalType:"bytes32",name:"root",type:"bytes32"},{components:[{internalType:"bytes32",name:"value",type:"bytes32"},{internalType:"enum OrderStructs.MerkleTreeNodePosition",name:"position",type:"uint8"}],internalType:"struct OrderStructs.MerkleTreeNode[]",name:"proof",type:"tuple[]"}],internalType:"struct OrderStructs.MerkleTree",name:"merkleTree",type:"tuple"},{internalType:"address",name:"affiliate",type:"address"}],name:"executeTakerAsk",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"bytes",name:"additionalParameters",type:"bytes"}],internalType:"struct OrderStructs.Taker",name:"takerBid",type:"tuple"},{components:[{internalType:"enum QuoteType",name:"quoteType",type:"uint8"},{internalType:"uint256",name:"globalNonce",type:"uint256"},{internalType:"uint256",name:"subsetNonce",type:"uint256"},{internalType:"uint256",name:"orderNonce",type:"uint256"},{internalType:"uint256",name:"strategyId",type:"uint256"},{internalType:"enum CollectionType",name:"collectionType",type:"uint8"},{internalType:"address",name:"collection",type:"address"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"signer",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256[]",name:"itemIds",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"additionalParameters",type:"bytes"}],internalType:"struct OrderStructs.Maker",name:"makerAsk",type:"tuple"},{internalType:"bytes",name:"makerSignature",type:"bytes"},{components:[{internalType:"bytes32",name:"root",type:"bytes32"},{components:[{internalType:"bytes32",name:"value",type:"bytes32"},{internalType:"enum OrderStructs.MerkleTreeNodePosition",name:"position",type:"uint8"}],internalType:"struct OrderStructs.MerkleTreeNode[]",name:"proof",type:"tuple[]"}],internalType:"struct OrderStructs.MerkleTree",name:"merkleTree",type:"tuple"},{internalType:"address",name:"affiliate",type:"address"}],name:"executeTakerBid",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"root",type:"bytes32"},{internalType:"uint256",name:"proofLength",type:"uint256"}],name:"hashBatchOrder",outputs:[{internalType:"bytes32",name:"batchOrderHash",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bool",name:"bid",type:"bool"},{internalType:"bool",name:"ask",type:"bool"}],name:"incrementBidAskNonces",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initiateOwnershipRenouncement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPotentialOwner",type:"address"}],name:"initiateOwnershipTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isAffiliateProgramActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isCurrencyAllowed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxCreatorFeeBp",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownershipStatus",outputs:[{internalType:"enum IOwnableTwoSteps.Status",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"potentialOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolFeeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"bytes",name:"additionalParameters",type:"bytes"}],internalType:"struct OrderStructs.Taker",name:"takerBid",type:"tuple"},{components:[{internalType:"enum QuoteType",name:"quoteType",type:"uint8"},{internalType:"uint256",name:"globalNonce",type:"uint256"},{internalType:"uint256",name:"subsetNonce",type:"uint256"},{internalType:"uint256",name:"orderNonce",type:"uint256"},{internalType:"uint256",name:"strategyId",type:"uint256"},{internalType:"enum CollectionType",name:"collectionType",type:"uint8"},{internalType:"address",name:"collection",type:"address"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"signer",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256[]",name:"itemIds",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"additionalParameters",type:"bytes"}],internalType:"struct OrderStructs.Maker",name:"makerAsk",type:"tuple"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"restrictedExecuteTakerBid",outputs:[{internalType:"uint256",name:"protocolFeeAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"strategyInfo",outputs:[{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint16",name:"standardProtocolFeeBp",type:"uint16"},{internalType:"uint16",name:"minTotalFeeBp",type:"uint16"},{internalType:"uint16",name:"maxProtocolFeeBp",type:"uint16"},{internalType:"bytes4",name:"selector",type:"bytes4"},{internalType:"bool",name:"isMakerBid",type:"bool"},{internalType:"address",name:"implementation",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"transferManager",outputs:[{internalType:"contract TransferManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newAffiliateController",type:"address"}],name:"updateAffiliateController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"isActive",type:"bool"}],name:"updateAffiliateProgramStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"affiliate",type:"address"},{internalType:"uint256",name:"bp",type:"uint256"}],name:"updateAffiliateRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newCreatorFeeManager",type:"address"}],name:"updateCreatorFeeManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"currency",type:"address"},{internalType:"bool",name:"isAllowed",type:"bool"}],name:"updateCurrencyStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateDomainSeparator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newGasLimitETHTransfer",type:"uint256"}],name:"updateETHGasLimitForTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"newMaxCreatorFeeBp",type:"uint16"}],name:"updateMaxCreatorFeeBp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newProtocolFeeRecipient",type:"address"}],name:"updateProtocolFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"strategyId",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint16",name:"newStandardProtocolFee",type:"uint16"},{internalType:"uint16",name:"newMinTotalFee",type:"uint16"}],name:"updateStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userBidAskNonces",outputs:[{internalType:"uint256",name:"bidNonce",type:"uint256"},{internalType:"uint256",name:"askNonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userOrderNonce",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userSubsetNonce",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],P=function(X){function K(j){return X.call(this,n.Market.LooksRareV2,j)||this}C(K,X);var J=K.prototype;return J.encode=function(j,re){var ae,oe=this.refactorAPIData(this.orders),le=oe.takerBids,ye=oe.makerOrders,Pe=oe.makerSignatures,ve=oe.totalValue,Ee=oe.merkleTrees;ae=this.orders.length==1?K.INTERFACE.encodeFunctionData("executeTakerBid",[le[0],ye[0],Pe[0],Ee[0],O]):K.INTERFACE.encodeFunctionData("executeMultipleTakerBids",[le,ye,Pe,Ee,O,!1]),j.addCommand(n.CommandType.LOOKS_RARE_V2,[ve,ae],re.allowRevert)},J.getBuyItems=function(){for(var j,re=[],ae=R(this.orders);!(j=ae()).done;)for(var oe,le=j.value,ye=le.apiOrder.collection,Pe=le.apiOrder.collectionType==K.ERC721_ORDER?n.TokenType.ERC721:n.TokenType.ERC1155,ve=R(le.apiOrder.itemIds);!(oe=ve()).done;)re.push({tokenAddress:ye,tokenId:oe.value,tokenType:Pe});return re},J.getTotalPrice=function(){for(var j,re=s.BigNumber.from(0),ae=R(this.orders);!(j=ae()).done;)re=re.add(j.value.apiOrder.price);return re},J.refactorAPIData=function(j){var re=[],ae=[],oe=[],le=s.BigNumber.from(0),ye=[];return j.forEach(function(Pe){var ve,Ee;ae.push(x({},Pe.apiOrder)),oe.push(Pe.apiOrder.signature),re.push({recipient:Pe.taker,additionalParameters:"0x"}),le=le.add(s.BigNumber.from(Pe.apiOrder.price)),ye.push({root:(ve=Pe.apiOrder.merkleRoot)!=null?ve:"0x0000000000000000000000000000000000000000000000000000000000000000",proof:(Ee=Pe.apiOrder.merkleProof)!=null?Ee:[]})}),{takerBids:re,makerOrders:ae,makerSignatures:oe,totalValue:le,merkleTrees:ye}},K}(he);P.INTERFACE=new a.Interface(pe),P.ERC721_ORDER=0;var L=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"ETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"NFT20",outputs:[{internalType:"contract INFT20Factory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNIV2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNIV3",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_nft",type:"address"},{internalType:"uint256[]",name:"_toIds",type:"uint256[]"},{internalType:"uint256[]",name:"_toAmounts",type:"uint256[]"},{internalType:"address",name:"_receipient",type:"address"},{internalType:"uint24",name:"_fee",type:"uint24"},{internalType:"bool",name:"isV3",type:"bool"}],name:"ethForNft",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_nft",type:"address"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"},{internalType:"bool",name:"isErc721",type:"bool"},{internalType:"uint24",name:"_fee",type:"uint24"},{internalType:"bool",name:"isV3",type:"bool"}],name:"nftForEth",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"},{internalType:"address",name:"sendTo",type:"address"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_registry",type:"address"}],name:"setNFT20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawEth",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],H=function(X){function K(j){return X.call(this,n.Market.NFT20,j)||this}C(K,X);var J=K.prototype;return J.encode=function(j,re){for(var ae,oe=R(this.orders);!(ae=oe()).done;){var le=ae.value,ye=K.INTERFACE.encodeFunctionData("ethForNft",[le.tokenAddress,le.tokenIds,le.tokenAmounts,le.recipient,le.fee,le.isV3]);j.addCommand(n.CommandType.NFT20,[le.value,ye],re.allowRevert)}},J.getBuyItems=function(){for(var j,re=[],ae=R(this.orders);!(j=ae()).done;)for(var oe,le=j.value,ye=R(le.tokenIds);!(oe=ye()).done;)re.push({tokenAddress:le.tokenAddress,tokenId:oe.value,tokenType:n.TokenType.ERC721});return re},J.getTotalPrice=function(){for(var j,re=s.BigNumber.from(0),ae=R(this.orders);!(j=ae()).done;)re=re.add(j.value.value);return re},K}(he);H.INTERFACE=new a.Interface(L);var I=[{inputs:[{internalType:"address",name:"_nftxFactory",type:"address"},{internalType:"address",name:"_WETH",type:"address"},{internalType:"address payable",name:"_swapTarget",type:"address"},{internalType:"uint256",name:"_dustThreshold",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ethSpent",type:"uint256"},{indexed:!1,internalType:"address",name:"to",type:"address"}],name:"Buy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"ethAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vTokenAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"to",type:"address"}],name:"DustReturned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ethReceived",type:"uint256"},{indexed:!1,internalType:"address",name:"to",type:"address"}],name:"Sell",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ethSpent",type:"uint256"},{indexed:!1,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{inputs:[],name:"WETH",outputs:[{internalType:"contract IWETH",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256[]",name:"specificIds",type:"uint256[]"},{internalType:"bytes",name:"swapCallData",type:"bytes"},{internalType:"address payable",name:"to",type:"address"}],name:"buyAndRedeem",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256[]",name:"idsIn",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"specificIds",type:"uint256[]"},{internalType:"bytes",name:"swapCallData",type:"bytes"},{internalType:"address payable",name:"to",type:"address"}],name:"buyAndSwap1155",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256[]",name:"idsIn",type:"uint256[]"},{internalType:"uint256[]",name:"specificIds",type:"uint256[]"},{internalType:"bytes",name:"swapCallData",type:"bytes"},{internalType:"address payable",name:"to",type:"address"}],name:"buyAndSwap721",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"dustThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeDistributor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"swapCallData",type:"bytes"},{internalType:"address payable",name:"to",type:"address"}],name:"mintAndSell1155",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"bytes",name:"swapCallData",type:"bytes"},{internalType:"address payable",name:"to",type:"address"}],name:"mintAndSell721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nftxFactory",outputs:[{internalType:"contract INFTXVaultFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"nftxVaultAddresses",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"rescue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_dustThreshold",type:"uint256"}],name:"setDustThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],A=function(X){function K(j){return X.call(this,n.Market.NFTX,j)||this}C(K,X);var J=K.prototype;return J.encode=function(j,re){for(var ae,oe=R(this.orders);!(ae=oe()).done;){var le=ae.value,ye=K.INTERFACE.encodeFunctionData("buyAndRedeem",[le.vaultId,le.tokenIds.length,le.tokenIds,le.swapCalldata,le.recipient]);j.addCommand(n.CommandType.NFTX,[le.value,ye],re.allowRevert)}},J.getBuyItems=function(){for(var j,re=[],ae=R(this.orders);!(j=ae()).done;)for(var oe,le=j.value,ye=R(le.tokenIds);!(oe=ye()).done;)re.push({tokenAddress:le.tokenAddress,tokenId:oe.value,tokenType:n.TokenType.ERC721});return re},J.getTotalPrice=function(){for(var j,re=s.BigNumber.from(0),ae=R(this.orders);!(j=ae()).done;)re=re.add(j.value.value);return re},K}(he);A.INTERFACE=new a.Interface(I);var E=[{inputs:[{internalType:"address",name:"conduitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BadContractSignature",type:"error"},{inputs:[],name:"BadFraction",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"BadReturnValueFromERC20OnTransfer",type:"error"},{inputs:[{internalType:"uint8",name:"v",type:"uint8"}],name:"BadSignatureV",type:"error"},{inputs:[],name:"ConsiderationCriteriaResolverOutOfRange",type:"error"},{inputs:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"considerationIndex",type:"uint256"},{internalType:"uint256",name:"shortfallAmount",type:"uint256"}],name:"ConsiderationNotMet",type:"error"},{inputs:[],name:"CriteriaNotEnabledForItem",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"identifiers",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"ERC1155BatchTransferGenericFailure",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"EtherTransferGenericFailure",type:"error"},{inputs:[],name:"InexactFraction",type:"error"},{inputs:[],name:"InsufficientEtherSupplied",type:"error"},{inputs:[],name:"Invalid1155BatchTransferEncoding",type:"error"},{inputs:[],name:"InvalidBasicOrderParameterEncoding",type:"error"},{inputs:[{internalType:"address",name:"conduit",type:"address"}],name:"InvalidCallToConduit",type:"error"},{inputs:[],name:"InvalidCanceller",type:"error"},{inputs:[{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"address",name:"conduit",type:"address"}],name:"InvalidConduit",type:"error"},{inputs:[],name:"InvalidERC721TransferAmount",type:"error"},{inputs:[],name:"InvalidFulfillmentComponentData",type:"error"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"InvalidMsgValue",type:"error"},{inputs:[],name:"InvalidNativeOfferItem",type:"error"},{inputs:[],name:"InvalidProof",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"InvalidRestrictedOrder",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"InvalidSigner",type:"error"},{inputs:[],name:"InvalidTime",type:"error"},{inputs:[],name:"MismatchedFulfillmentOfferAndConsiderationComponents",type:"error"},{inputs:[{internalType:"enum Side",name:"side",type:"uint8"}],name:"MissingFulfillmentComponentOnAggregation",type:"error"},{inputs:[],name:"MissingItemAmount",type:"error"},{inputs:[],name:"MissingOriginalConsiderationItems",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"NoContract",type:"error"},{inputs:[],name:"NoReentrantCalls",type:"error"},{inputs:[],name:"NoSpecifiedOrdersAvailable",type:"error"},{inputs:[],name:"OfferAndConsiderationRequiredOnFulfillment",type:"error"},{inputs:[],name:"OfferCriteriaResolverOutOfRange",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderAlreadyFilled",type:"error"},{inputs:[],name:"OrderCriteriaResolverOutOfRange",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderIsCancelled",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderPartiallyFilled",type:"error"},{inputs:[],name:"PartialFillsNotEnabledForOrder",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"TokenTransferGenericFailure",type:"error"},{inputs:[],name:"UnresolvedConsiderationCriteria",type:"error"},{inputs:[],name:"UnresolvedOfferCriteria",type:"error"},{inputs:[],name:"UnusedItemParameters",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newCounter",type:"uint256"},{indexed:!0,internalType:"address",name:"offerer",type:"address"}],name:"CounterIncremented",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"orderHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"offerer",type:"address"},{indexed:!0,internalType:"address",name:"zone",type:"address"}],name:"OrderCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"orderHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"offerer",type:"address"},{indexed:!0,internalType:"address",name:"zone",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],indexed:!1,internalType:"struct SpentItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],indexed:!1,internalType:"struct ReceivedItem[]",name:"consideration",type:"tuple[]"}],name:"OrderFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"orderHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"offerer",type:"address"},{indexed:!0,internalType:"address",name:"zone",type:"address"}],name:"OrderValidated",type:"event"},{inputs:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"counter",type:"uint256"}],internalType:"struct OrderComponents[]",name:"orders",type:"tuple[]"}],name:"cancel",outputs:[{internalType:"bool",name:"cancelled",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"uint120",name:"numerator",type:"uint120"},{internalType:"uint120",name:"denominator",type:"uint120"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],internalType:"struct AdvancedOrder",name:"advancedOrder",type:"tuple"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"enum Side",name:"side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes32[]",name:"criteriaProof",type:"bytes32[]"}],internalType:"struct CriteriaResolver[]",name:"criteriaResolvers",type:"tuple[]"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"}],name:"fulfillAdvancedOrder",outputs:[{internalType:"bool",name:"fulfilled",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"uint120",name:"numerator",type:"uint120"},{internalType:"uint120",name:"denominator",type:"uint120"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],internalType:"struct AdvancedOrder[]",name:"advancedOrders",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"enum Side",name:"side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes32[]",name:"criteriaProof",type:"bytes32[]"}],internalType:"struct CriteriaResolver[]",name:"criteriaResolvers",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"offerFulfillments",type:"tuple[][]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"considerationFulfillments",type:"tuple[][]"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"maximumFulfilled",type:"uint256"}],name:"fulfillAvailableAdvancedOrders",outputs:[{internalType:"bool[]",name:"availableOrders",type:"bool[]"},{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order[]",name:"orders",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"offerFulfillments",type:"tuple[][]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"considerationFulfillments",type:"tuple[][]"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"uint256",name:"maximumFulfilled",type:"uint256"}],name:"fulfillAvailableOrders",outputs:[{internalType:"bool[]",name:"availableOrders",type:"bool[]"},{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"considerationToken",type:"address"},{internalType:"uint256",name:"considerationIdentifier",type:"uint256"},{internalType:"uint256",name:"considerationAmount",type:"uint256"},{internalType:"address payable",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{internalType:"address",name:"offerToken",type:"address"},{internalType:"uint256",name:"offerIdentifier",type:"uint256"},{internalType:"uint256",name:"offerAmount",type:"uint256"},{internalType:"enum BasicOrderType",name:"basicOrderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"offererConduitKey",type:"bytes32"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalAdditionalRecipients",type:"uint256"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct AdditionalRecipient[]",name:"additionalRecipients",type:"tuple[]"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct BasicOrderParameters",name:"parameters",type:"tuple"}],name:"fulfillBasicOrder",outputs:[{internalType:"bool",name:"fulfilled",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order",name:"order",type:"tuple"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"}],name:"fulfillOrder",outputs:[{internalType:"bool",name:"fulfilled",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"offerer",type:"address"}],name:"getCounter",outputs:[{internalType:"uint256",name:"counter",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"counter",type:"uint256"}],internalType:"struct OrderComponents",name:"order",type:"tuple"}],name:"getOrderHash",outputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"getOrderStatus",outputs:[{internalType:"bool",name:"isValidated",type:"bool"},{internalType:"bool",name:"isCancelled",type:"bool"},{internalType:"uint256",name:"totalFilled",type:"uint256"},{internalType:"uint256",name:"totalSize",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"incrementCounter",outputs:[{internalType:"uint256",name:"newCounter",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"information",outputs:[{internalType:"string",name:"version",type:"string"},{internalType:"bytes32",name:"domainSeparator",type:"bytes32"},{internalType:"address",name:"conduitController",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"uint120",name:"numerator",type:"uint120"},{internalType:"uint120",name:"denominator",type:"uint120"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],internalType:"struct AdvancedOrder[]",name:"advancedOrders",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"enum Side",name:"side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes32[]",name:"criteriaProof",type:"bytes32[]"}],internalType:"struct CriteriaResolver[]",name:"criteriaResolvers",type:"tuple[]"},{components:[{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"offerComponents",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"considerationComponents",type:"tuple[]"}],internalType:"struct Fulfillment[]",name:"fulfillments",type:"tuple[]"}],name:"matchAdvancedOrders",outputs:[{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order[]",name:"orders",type:"tuple[]"},{components:[{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"offerComponents",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"considerationComponents",type:"tuple[]"}],internalType:"struct Fulfillment[]",name:"fulfillments",type:"tuple[]"}],name:"matchOrders",outputs:[{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"contractName",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order[]",name:"orders",type:"tuple[]"}],name:"validate",outputs:[{internalType:"bool",name:"validated",type:"bool"}],stateMutability:"nonpayable",type:"function"}],N=function(X){function K(j){return X.call(this,n.Market.Seaport,j)||this}C(K,X);var J=K.prototype;return J.encode=function(j,re){for(var ae,oe=R(this.orders);!(ae=oe()).done;){for(var le,ye=ae.value,Pe=[],ve=ye.items.map(function(qe,we){return[{orderIndex:we,itemIndex:0}]}),Ee=this.getConsiderationFulfillments(ye.items),Se=R(ye.items);!(le=Se()).done;){var it=this.getAdvancedOrderParams(le.value);Pe.push(it.advancedOrder)}var Ue;if(Ue=Pe.length==1?K.INTERFACE.encodeFunctionData("fulfillAdvancedOrder",[Pe[0],[],K.OPENSEA_CONDUIT_KEY,ye.recipient]):K.INTERFACE.encodeFunctionData("fulfillAvailableAdvancedOrders",[Pe,[],ve,Ee,K.OPENSEA_CONDUIT_KEY,ye.recipient,100]),ye.inputTokenProcessing)for(var We,Ve=R(ye.inputTokenProcessing);!(We=Ve()).done;){var Fe=We.value;y(j,{approval:Fe.protocolApproval?{token:Fe.token,protocol:ye.protocolAddress}:void 0,permit2Permit:Fe.permit2Permit,permit2TransferFrom:Fe.permit2TransferFrom?{token:Fe.token,amount:this.getTotalOrderPrice(ye,Fe.token).toString()}:void 0})}j.addCommand(this.commandMap(ye.protocolAddress),[this.getTotalOrderPrice(ye,Z).toString(),Ue],re.allowRevert)}},J.getBuyItems=function(){for(var j,re=[],ae=R(this.orders);!(j=ae()).done;)for(var oe,le=R(j.value.items);!(oe=le()).done;)for(var ye,Pe=R(oe.value.parameters.offer);!(ye=Pe()).done;){var ve=ye.value;re.push({tokenAddress:ve.token,tokenId:ve.identifierOrCriteria,tokenType:n.TokenType.ERC721})}return re},J.getInputTokens=function(){for(var j,re=new Set,ae=R(this.orders);!(j=ae()).done;)for(var oe,le=R(j.value.items);!(oe=le()).done;)for(var ye,Pe=R(oe.value.parameters.consideration);!(ye=Pe()).done;){var ve=ye.value.token.toLowerCase();re.add(ve)}return re},J.getTotalOrderPrice=function(j,re){re===void 0&&(re=Z);for(var ae,oe=s.BigNumber.from(0),le=R(j.items);!(ae=le()).done;)oe=oe.add(this.calculateValue(ae.value.parameters.consideration,re));return oe},J.getTotalPrice=function(j){j===void 0&&(j=Z);for(var re,ae=s.BigNumber.from(0),oe=R(this.orders);!(re=oe()).done;)for(var le,ye=R(re.value.items);!(le=ye()).done;)ae=ae.add(this.calculateValue(le.value.parameters.consideration,j));return ae},J.commandMap=function(j){switch(j.toLowerCase()){case"0x00000000000000adc04c56bf30ac9d3c0aaf14dc":return n.CommandType.SEAPORT_V1_5;case"0x00000000000001ad428e4906ae43d8f9852d0dd6":return n.CommandType.SEAPORT_V1_4;default:throw new Error("unsupported Seaport address")}},J.getConsiderationFulfillments=function(j){var re=[],ae=[];for(var oe in j){var le=j[oe],ye=function(){var ve=le.parameters.consideration[Pe];ae.findIndex(function(Se){return Se===ve.recipient})===-1&&ae.push(ve.recipient);var Ee=ae.findIndex(function(Se){return Se===ve.recipient});re[Ee]?re[Ee].push({orderIndex:oe,itemIndex:Pe}):re.push([{orderIndex:oe,itemIndex:Pe}])};for(var Pe in le.parameters.consideration)ye()}return re},J.getAdvancedOrderParams=function(j){return{advancedOrder:{parameters:j.parameters,numerator:s.BigNumber.from("1"),denominator:s.BigNumber.from("1"),signature:j.signature,extraData:"0x00"}}},J.calculateValue=function(j,re){return j.reduce(function(ae,oe){return oe.token.toLowerCase()==re.toLowerCase()?ae.add(oe.startAmount):ae},s.BigNumber.from(0))},K}(he);N.INTERFACE=new a.Interface(E),N.OPENSEA_CONDUIT_KEY="0x0000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000";var B=[{inputs:[{internalType:"contract ILSSVMPairFactoryLike",name:"_factory",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"factory",outputs:[{internalType:"contract ILSSVMPairFactoryLike",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ERC20",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"enum ILSSVMPairFactoryLike.PairVariant",name:"variant",type:"uint8"}],name:"pairTransferERC20From",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721",name:"nft",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"enum ILSSVMPairFactoryLike.PairVariant",name:"variant",type:"uint8"}],name:"pairTransferNFTFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256",name:"numItems",type:"uint256"}],internalType:"struct LSSVMRouter.PairSwapAny",name:"swapInfo",type:"tuple"},{internalType:"uint256",name:"maxCost",type:"uint256"}],internalType:"struct LSSVMRouter.RobustPairSwapAny[]",name:"swapList",type:"tuple[]"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"robustSwapERC20ForAnyNFTs",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific",name:"swapInfo",type:"tuple"},{internalType:"uint256",name:"maxCost",type:"uint256"}],internalType:"struct LSSVMRouter.RobustPairSwapSpecific[]",name:"swapList",type:"tuple[]"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"robustSwapERC20ForSpecificNFTs",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific",name:"swapInfo",type:"tuple"},{internalType:"uint256",name:"maxCost",type:"uint256"}],internalType:"struct LSSVMRouter.RobustPairSwapSpecific[]",name:"tokenToNFTTrades",type:"tuple[]"},{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific",name:"swapInfo",type:"tuple"},{internalType:"uint256",name:"minOutput",type:"uint256"}],internalType:"struct LSSVMRouter.RobustPairSwapSpecificForToken[]",name:"nftToTokenTrades",type:"tuple[]"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"address payable",name:"tokenRecipient",type:"address"},{internalType:"address",name:"nftRecipient",type:"address"}],internalType:"struct LSSVMRouter.RobustPairNFTsFoTokenAndTokenforNFTsTrade",name:"params",type:"tuple"}],name:"robustSwapERC20ForSpecificNFTsAndNFTsToToken",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"},{internalType:"uint256",name:"outputAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256",name:"numItems",type:"uint256"}],internalType:"struct LSSVMRouter.PairSwapAny",name:"swapInfo",type:"tuple"},{internalType:"uint256",name:"maxCost",type:"uint256"}],internalType:"struct LSSVMRouter.RobustPairSwapAny[]",name:"swapList",type:"tuple[]"},{internalType:"address payable",name:"ethRecipient",type:"address"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"robustSwapETHForAnyNFTs",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific",name:"swapInfo",type:"tuple"},{internalType:"uint256",name:"maxCost",type:"uint256"}],internalType:"struct LSSVMRouter.RobustPairSwapSpecific[]",name:"swapList",type:"tuple[]"},{internalType:"address payable",name:"ethRecipient",type:"address"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"robustSwapETHForSpecificNFTs",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific",name:"swapInfo",type:"tuple"},{internalType:"uint256",name:"maxCost",type:"uint256"}],internalType:"struct LSSVMRouter.RobustPairSwapSpecific[]",name:"tokenToNFTTrades",type:"tuple[]"},{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific",name:"swapInfo",type:"tuple"},{internalType:"uint256",name:"minOutput",type:"uint256"}],internalType:"struct LSSVMRouter.RobustPairSwapSpecificForToken[]",name:"nftToTokenTrades",type:"tuple[]"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"address payable",name:"tokenRecipient",type:"address"},{internalType:"address",name:"nftRecipient",type:"address"}],internalType:"struct LSSVMRouter.RobustPairNFTsFoTokenAndTokenforNFTsTrade",name:"params",type:"tuple"}],name:"robustSwapETHForSpecificNFTsAndNFTsToToken",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"},{internalType:"uint256",name:"outputAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific",name:"swapInfo",type:"tuple"},{internalType:"uint256",name:"minOutput",type:"uint256"}],internalType:"struct LSSVMRouter.RobustPairSwapSpecificForToken[]",name:"swapList",type:"tuple[]"},{internalType:"address payable",name:"tokenRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"robustSwapNFTsForToken",outputs:[{internalType:"uint256",name:"outputAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256",name:"numItems",type:"uint256"}],internalType:"struct LSSVMRouter.PairSwapAny[]",name:"swapList",type:"tuple[]"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapERC20ForAnyNFTs",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific[]",name:"swapList",type:"tuple[]"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapERC20ForSpecificNFTs",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256",name:"numItems",type:"uint256"}],internalType:"struct LSSVMRouter.PairSwapAny[]",name:"swapList",type:"tuple[]"},{internalType:"address payable",name:"ethRecipient",type:"address"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapETHForAnyNFTs",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific[]",name:"swapList",type:"tuple[]"},{internalType:"address payable",name:"ethRecipient",type:"address"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapETHForSpecificNFTs",outputs:[{internalType:"uint256",name:"remainingValue",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific[]",name:"nftToTokenTrades",type:"tuple[]"},{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256",name:"numItems",type:"uint256"}],internalType:"struct LSSVMRouter.PairSwapAny[]",name:"tokenToNFTTrades",type:"tuple[]"}],internalType:"struct LSSVMRouter.NFTsForAnyNFTsTrade",name:"trade",type:"tuple"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"minOutput",type:"uint256"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapNFTsForAnyNFTsThroughERC20",outputs:[{internalType:"uint256",name:"outputAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific[]",name:"nftToTokenTrades",type:"tuple[]"},{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256",name:"numItems",type:"uint256"}],internalType:"struct LSSVMRouter.PairSwapAny[]",name:"tokenToNFTTrades",type:"tuple[]"}],internalType:"struct LSSVMRouter.NFTsForAnyNFTsTrade",name:"trade",type:"tuple"},{internalType:"uint256",name:"minOutput",type:"uint256"},{internalType:"address payable",name:"ethRecipient",type:"address"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapNFTsForAnyNFTsThroughETH",outputs:[{internalType:"uint256",name:"outputAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific[]",name:"nftToTokenTrades",type:"tuple[]"},{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific[]",name:"tokenToNFTTrades",type:"tuple[]"}],internalType:"struct LSSVMRouter.NFTsForSpecificNFTsTrade",name:"trade",type:"tuple"},{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"minOutput",type:"uint256"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapNFTsForSpecificNFTsThroughERC20",outputs:[{internalType:"uint256",name:"outputAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific[]",name:"nftToTokenTrades",type:"tuple[]"},{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific[]",name:"tokenToNFTTrades",type:"tuple[]"}],internalType:"struct LSSVMRouter.NFTsForSpecificNFTsTrade",name:"trade",type:"tuple"},{internalType:"uint256",name:"minOutput",type:"uint256"},{internalType:"address payable",name:"ethRecipient",type:"address"},{internalType:"address",name:"nftRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapNFTsForSpecificNFTsThroughETH",outputs:[{internalType:"uint256",name:"outputAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"contract LSSVMPair",name:"pair",type:"address"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],internalType:"struct LSSVMRouter.PairSwapSpecific[]",name:"swapList",type:"tuple[]"},{internalType:"uint256",name:"minOutput",type:"uint256"},{internalType:"address",name:"tokenRecipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapNFTsForToken",outputs:[{internalType:"uint256",name:"outputAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],G=function(X){function K(j){return X.call(this,n.Market.Sudoswap,j)||this}C(K,X);var J=K.prototype;return J.encode=function(j,re){for(var ae,oe=R(this.orders);!(ae=oe()).done;){var le=ae.value,ye=K.INTERFACE.encodeFunctionData("robustSwapETHForSpecificNFTs",[le.swaps.map(function(ve){return{swapInfo:ve.swapInfo,maxCost:ve.maxCost}}),le.ethRecipient,le.nftRecipient,le.deadline]),Pe=le.swaps.reduce(function(ve,Ee){return ve.add(Ee.maxCost)},s.BigNumber.from(0));j.addCommand(n.CommandType.SUDOSWAP,[Pe,ye],re.allowRevert)}},J.getBuyItems=function(){for(var j,re=[],ae=R(this.orders);!(j=ae()).done;)for(var oe,le=R(j.value.swaps);!(oe=le()).done;)for(var ye,Pe=oe.value,ve=R(Pe.swapInfo.nftIds);!(ye=ve()).done;)re.push({tokenAddress:Pe.tokenAddress,tokenId:ye.value,tokenType:n.TokenType.ERC721});return re},J.getTotalPrice=function(){for(var j,re=s.BigNumber.from(0),ae=R(this.orders);!(j=ae()).done;)for(var oe,le=R(j.value.swaps);!(oe=le()).done;)re=re.add(oe.value.maxCost);return re},K}(he);G.INTERFACE=new a.Interface(B);var V=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"itemHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"incentive",type:"uint256"}],name:"EvAuctionRefund",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"itemHash",type:"bytes32"}],name:"EvCancel",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"bool",name:"isRemoval",type:"bool"}],name:"EvDelegate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"bytes",name:"error",type:"bytes"}],name:"EvFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newValue",type:"uint256"}],name:"EvFeeCapUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"itemHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"maker",type:"address"},{indexed:!1,internalType:"address",name:"taker",type:"address"},{indexed:!1,internalType:"uint256",name:"orderSalt",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settleSalt",type:"uint256"},{indexed:!1,internalType:"uint256",name:"intent",type:"uint256"},{indexed:!1,internalType:"uint256",name:"delegateType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deadline",type:"uint256"},{indexed:!1,internalType:"contract IERC20Upgradeable",name:"currency",type:"address"},{indexed:!1,internalType:"bytes",name:"dataMask",type:"bytes"},{components:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],indexed:!1,internalType:"struct Market.OrderItem",name:"item",type:"tuple"},{components:[{internalType:"enum Market.Op",name:"op",type:"uint8"},{internalType:"uint256",name:"orderIdx",type:"uint256"},{internalType:"uint256",name:"itemIdx",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bytes32",name:"itemHash",type:"bytes32"},{internalType:"contract IDelegate",name:"executionDelegate",type:"address"},{internalType:"bytes",name:"dataReplacement",type:"bytes"},{internalType:"uint256",name:"bidIncentivePct",type:"uint256"},{internalType:"uint256",name:"aucMinIncrementPct",type:"uint256"},{internalType:"uint256",name:"aucIncDurationSecs",type:"uint256"},{components:[{internalType:"uint256",name:"percentage",type:"uint256"},{internalType:"address",name:"to",type:"address"}],internalType:"struct Market.Fee[]",name:"fees",type:"tuple[]"}],indexed:!1,internalType:"struct Market.SettleDetail",name:"detail",type:"tuple"}],name:"EvInventory",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"itemHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EvProfit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"signer",type:"address"},{indexed:!1,internalType:"bool",name:"isRemoval",type:"bool"}],name:"EvSigner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"RATE_BASE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32[]",name:"itemHashes",type:"bytes32[]"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"delegates",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeCapPct",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"feeCapPct_",type:"uint256"},{internalType:"address",name:"weth_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"inventoryStatus",outputs:[{internalType:"enum Market.InvStatus",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"ongoingAuctions",outputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"netPrice",type:"uint256"},{internalType:"uint256",name:"endAt",type:"uint256"},{internalType:"address",name:"bidder",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"network",type:"uint256"},{internalType:"uint256",name:"intent",type:"uint256"},{internalType:"uint256",name:"delegateType",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"contract IERC20Upgradeable",name:"currency",type:"address"},{internalType:"bytes",name:"dataMask",type:"bytes"},{components:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Market.OrderItem[]",name:"items",type:"tuple[]"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"uint8",name:"signVersion",type:"uint8"}],internalType:"struct Market.Order[]",name:"orders",type:"tuple[]"},{components:[{internalType:"enum Market.Op",name:"op",type:"uint8"},{internalType:"uint256",name:"orderIdx",type:"uint256"},{internalType:"uint256",name:"itemIdx",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bytes32",name:"itemHash",type:"bytes32"},{internalType:"contract IDelegate",name:"executionDelegate",type:"address"},{internalType:"bytes",name:"dataReplacement",type:"bytes"},{internalType:"uint256",name:"bidIncentivePct",type:"uint256"},{internalType:"uint256",name:"aucMinIncrementPct",type:"uint256"},{internalType:"uint256",name:"aucIncDurationSecs",type:"uint256"},{components:[{internalType:"uint256",name:"percentage",type:"uint256"},{internalType:"address",name:"to",type:"address"}],internalType:"struct Market.Fee[]",name:"fees",type:"tuple[]"}],internalType:"struct Market.SettleDetail[]",name:"details",type:"tuple[]"},{components:[{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountToEth",type:"uint256"},{internalType:"uint256",name:"amountToWeth",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"bool",name:"canFail",type:"bool"}],internalType:"struct Market.SettleShared",name:"shared",type:"tuple"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"}],internalType:"struct Market.RunInput",name:"input",type:"tuple"}],name:"run",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"network",type:"uint256"},{internalType:"uint256",name:"intent",type:"uint256"},{internalType:"uint256",name:"delegateType",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"contract IERC20Upgradeable",name:"currency",type:"address"},{internalType:"bytes",name:"dataMask",type:"bytes"},{components:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Market.OrderItem[]",name:"items",type:"tuple[]"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"uint8",name:"signVersion",type:"uint8"}],internalType:"struct Market.Order",name:"order",type:"tuple"},{components:[{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountToEth",type:"uint256"},{internalType:"uint256",name:"amountToWeth",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"bool",name:"canFail",type:"bool"}],internalType:"struct Market.SettleShared",name:"shared",type:"tuple"},{components:[{internalType:"enum Market.Op",name:"op",type:"uint8"},{internalType:"uint256",name:"orderIdx",type:"uint256"},{internalType:"uint256",name:"itemIdx",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bytes32",name:"itemHash",type:"bytes32"},{internalType:"contract IDelegate",name:"executionDelegate",type:"address"},{internalType:"bytes",name:"dataReplacement",type:"bytes"},{internalType:"uint256",name:"bidIncentivePct",type:"uint256"},{internalType:"uint256",name:"aucMinIncrementPct",type:"uint256"},{internalType:"uint256",name:"aucIncDurationSecs",type:"uint256"},{components:[{internalType:"uint256",name:"percentage",type:"uint256"},{internalType:"address",name:"to",type:"address"}],internalType:"struct Market.Fee[]",name:"fees",type:"tuple[]"}],internalType:"struct Market.SettleDetail",name:"detail",type:"tuple"}],name:"run1",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"signers",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"toAdd",type:"address[]"},{internalType:"address[]",name:"toRemove",type:"address[]"}],name:"updateDelegates",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"val",type:"uint256"}],name:"updateFeeCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"toAdd",type:"address[]"},{internalType:"address[]",name:"toRemove",type:"address[]"}],name:"updateSigners",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"weth",outputs:[{internalType:"contract IWETHUpgradable",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Q=function(X){function K(j){return X.call(this,n.Market.X2Y2,j)||this}C(K,X);var J=K.prototype;return J.encode=function(j,re){for(var ae,oe=R(this.orders);!(ae=oe()).done;){var le=ae.value,ye=K.INTERFACE.getSighash(K.INTERFACE.getFunction("run"))+le.signedInput.slice(2);le.tokenType==n.TokenType.ERC721?j.addCommand(n.CommandType.X2Y2_721,[le.price,ye,le.recipient,le.tokenAddress,le.tokenId],re.allowRevert):le.tokenType==n.TokenType.ERC1155&&j.addCommand(n.CommandType.X2Y2_1155,[le.price,ye,le.recipient,le.tokenAddress,le.tokenId,le.tokenAmount],re.allowRevert)}},J.getBuyItems=function(){for(var j,re=[],ae=R(this.orders);!(j=ae()).done;){var oe=j.value;re.push({tokenAddress:oe.tokenAddress,tokenId:oe.tokenId,tokenType:oe.tokenType})}return re},J.getTotalPrice=function(){for(var j,re=s.BigNumber.from(0),ae=R(this.orders);!(j=ae()).done;)re=re.add(j.value.price);return re},K}(he);Q.INTERFACE=new a.Interface(V);var ne,fe=function(){function X(K,J,j){this.tradeType=n.RouterTradeType.UnwrapWETH,this.wethAddress=Y(J),this.amount=K,j&&(j.details.token.toLowerCase()!==this.wethAddress.toLowerCase()&&r(!1),j.details.amount>=K||r(!1),this.permit2Data=j)}return X.prototype.encode=function(K,J){y(K,{permit2Permit:this.permit2Data,permit2TransferFrom:{token:this.wethAddress,amount:this.amount.toString()}}),K.addCommand(n.CommandType.UNWRAP_WETH,[p,this.amount])},X}();(ne=n.PoolType||(n.PoolType={})).V2Pool="v2-pool",ne.V3Pool="v3-pool";var xe=function(X){return X.toLowerCase()===Z.toLowerCase()||X.toLowerCase()==="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee".toLowerCase()},ke=function(){function X(){}return X.fromClassicQuote=function(K){var J=K.route,j=K.tokenIn,re=K.tokenOut;if(!J)throw new Error("Expected route to be present");if(!J.length)throw new Error("Expected there to be at least one route");if(J.some(function(Ee){return!Ee.length}))throw new Error("Expected all routes to have at least one pool");var ae=J[0],oe=ae[0].tokenIn,le=ae[ae.length-1].tokenOut;if(!oe||!le)throw new Error("Expected both tokenIn and tokenOut to be present");if(oe.chainId!==le.chainId)throw new Error("Expected tokenIn and tokenOut to be have same chainId");var ye=X.toCurrency(xe(j),oe),Pe=X.toCurrency(xe(re),le),ve=J.map(function(Ee){var Se=Ee[0].amountIn,it=Ee[Ee.length-1].amountOut;if(!Se||!it)throw new Error("Expected both raw amountIn and raw amountOut to be present");var Ue=f.CurrencyAmount.fromRawAmount(ye,Se),We=f.CurrencyAmount.fromRawAmount(Pe,it),Ve=X.isVersionedRoute(n.PoolType.V2Pool,Ee),Fe=X.isVersionedRoute(n.PoolType.V3Pool,Ee);return{routev3:Fe?new c.Route(Ee.map(X.toPool),ye,Pe):null,routev2:Ve?new u.Route(Ee.map(X.toPair),ye,Pe):null,mixedRoute:Fe||Ve?null:new d.MixedRouteSDK(Ee.map(X.toPoolOrPair),ye,Pe),inputAmount:Ue,outputAmount:We}});return new d.Trade({v2Routes:ve.filter(function(Ee){return Ee.routev2}).map(function(Ee){return{routev2:Ee.routev2,inputAmount:Ee.inputAmount,outputAmount:Ee.outputAmount}}),v3Routes:ve.filter(function(Ee){return Ee.routev3}).map(function(Ee){return{routev3:Ee.routev3,inputAmount:Ee.inputAmount,outputAmount:Ee.outputAmount}}),mixedRoutes:ve.filter(function(Ee){return Ee.mixedRoute}).map(function(Ee){return{mixedRoute:Ee.mixedRoute,inputAmount:Ee.inputAmount,outputAmount:Ee.outputAmount}}),tradeType:K.tradeType})},X.toCurrency=function(K,J){return K?f.Ether.onChain(J.chainId):this.toToken(J)},X.toToken=function(K){var J=K.symbol,j=K.buyFeeBps,re=K.sellFeeBps;return new f.Token(K.chainId,K.address,parseInt(K.decimals.toString()),J,void 0,!1,j?s.BigNumber.from(j):void 0,re?s.BigNumber.from(re):void 0)},X.toPool=function(K){var J=K.fee,j=K.sqrtRatioX96,re=K.liquidity,ae=K.tickCurrent,oe=K.tokenOut;return new c.Pool(X.toToken(K.tokenIn),X.toToken(oe),parseInt(J),j,re,parseInt(ae))},X.isVersionedRoute=function(K,J){return J.every(function(j){return j.type===K})},X}();ke.toPoolOrPair=function(X){return X.type===n.PoolType.V3Pool?ke.toPool(X):ke.toPair(X)},ke.toPair=function(X){var K=X.reserve0,J=X.reserve1;return new u.Pair(f.CurrencyAmount.fromRawAmount(ke.toToken(K.token),K.quotient),f.CurrencyAmount.fromRawAmount(ke.toToken(J.token),J.quotient))},n.CryptopunkTrade=be,n.FoundationTrade=de,n.LooksRareV2Trade=P,n.NFT20Trade=H,n.NFTTrade=he,n.NFTXTrade=A,n.PERMIT2_ADDRESS="0x000000000022D473030F116dDEE9F6B43aC78BA3",n.ROUTER_AS_RECIPIENT=p,n.RoutePlanner=S,n.RouterTradeAdapter=ke,n.SeaportTrade=N,n.SudoswapTrade=G,n.SwapRouter=ee,n.UNIVERSAL_ROUTER_ADDRESS=function(X){if(!(X in U))throw new Error("Universal Router not deployed on chain "+X);return U[X].router},n.UNIVERSAL_ROUTER_CREATION_BLOCK=function(X){if(!(X in U))throw new Error("Universal Router not deployed on chain "+X);return U[X].creationBlock},n.UniswapTrade=m,n.UnwrapWETH=fe,n.WETH_ADDRESS=Y,n.X2Y2Trade=Q,n.isNativeCurrency=xe})(om);sm.exports=om;var Io=sm.exports;function zm(n,e){return function(){return n.apply(e,arguments)}}const{toString:l5}=Object.prototype,{getPrototypeOf:Pd}=Object,{iterator:cu,toStringTag:Vm}=Symbol,lu=(n=>e=>{const t=l5.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ar=n=>(n=n.toLowerCase(),e=>lu(e)===n),du=n=>e=>typeof e===n,{isArray:va}=Array,ls=du("undefined");function d5(n){return n!==null&&!ls(n)&&n.constructor!==null&&!ls(n.constructor)&&An(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Km=ar("ArrayBuffer");function f5(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Km(n.buffer),e}const p5=du("string"),An=du("function"),Xm=du("number"),fu=n=>n!==null&&typeof n=="object",h5=n=>n===!0||n===!1,Ks=n=>{if(lu(n)!=="object")return!1;const e=Pd(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Vm in n)&&!(cu in n)},y5=ar("Date"),m5=ar("File"),g5=ar("Blob"),b5=ar("FileList"),x5=n=>fu(n)&&An(n.pipe),v5=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||An(n.append)&&((e=lu(n))==="formdata"||e==="object"&&An(n.toString)&&n.toString()==="[object FormData]"))},T5=ar("URLSearchParams"),[w5,A5,E5,_5]=["ReadableStream","Request","Response","Headers"].map(ar),k5=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ws(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),va(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),s=a.length;let o;for(r=0;r<s;r++)o=a[r],e.call(null,n[o],o,n)}}function Qm(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:eo,Ym=n=>!ls(n)&&n!==Ai;function rl(){const{caseless:n}=Ym(this)&&this||{},e={},t=(r,i)=>{const a=n&&Qm(e,i)||i;Ks(e[a])&&Ks(r)?e[a]=rl(e[a],r):Ks(r)?e[a]=rl({},r):va(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ws(arguments[r],t);return e}const P5=(n,e,t,{allOwnKeys:r}={})=>(ws(e,(i,a)=>{t&&An(i)?n[a]=zm(i,t):n[a]=i},{allOwnKeys:r}),n),S5=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),I5=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},C5=(n,e,t,r)=>{let i,a,s;const o={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),a=i.length;a-- >0;)s=i[a],(!r||r(s,n,e))&&!o[s]&&(e[s]=n[s],o[s]=!0);n=t!==!1&&Pd(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},R5=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},O5=n=>{if(!n)return null;if(va(n))return n;let e=n.length;if(!Xm(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},N5=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Pd(Uint8Array)),M5=(n,e)=>{const r=(n&&n[cu]).call(n);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(n,a[0],a[1])}},F5=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},D5=ar("HTMLFormElement"),B5=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Ip=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),L5=ar("RegExp"),Zm=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ws(t,(i,a)=>{let s;(s=e(i,a,n))!==!1&&(r[a]=s||i)}),Object.defineProperties(n,r)},U5=n=>{Zm(n,(e,t)=>{if(An(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(An(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},q5=(n,e)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return va(n)?r(n):r(String(n).split(e)),t},$5=()=>{},H5=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function G5(n){return!!(n&&An(n.append)&&n[Vm]==="FormData"&&n[cu])}const j5=n=>{const e=new Array(10),t=(r,i)=>{if(fu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=va(r)?[]:{};return ws(r,(s,o)=>{const u=t(s,i+1);!ls(u)&&(a[o]=u)}),e[i]=void 0,a}}return r};return t(n,0)},W5=ar("AsyncFunction"),z5=n=>n&&(fu(n)||An(n))&&An(n.then)&&An(n.catch),Jm=((n,e)=>n?setImmediate:e?((t,r)=>(Ai.addEventListener("message",({source:i,data:a})=>{i===Ai&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Ai.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",An(Ai.postMessage)),V5=typeof queueMicrotask<"u"?queueMicrotask.bind(Ai):typeof Ba<"u"&&Ba.nextTick||Jm,K5=n=>n!=null&&An(n[cu]),ge={isArray:va,isArrayBuffer:Km,isBuffer:d5,isFormData:v5,isArrayBufferView:f5,isString:p5,isNumber:Xm,isBoolean:h5,isObject:fu,isPlainObject:Ks,isReadableStream:w5,isRequest:A5,isResponse:E5,isHeaders:_5,isUndefined:ls,isDate:y5,isFile:m5,isBlob:g5,isRegExp:L5,isFunction:An,isStream:x5,isURLSearchParams:T5,isTypedArray:N5,isFileList:b5,forEach:ws,merge:rl,extend:P5,trim:k5,stripBOM:S5,inherits:I5,toFlatObject:C5,kindOf:lu,kindOfTest:ar,endsWith:R5,toArray:O5,forEachEntry:M5,matchAll:F5,isHTMLForm:D5,hasOwnProperty:Ip,hasOwnProp:Ip,reduceDescriptors:Zm,freezeMethods:U5,toObjectSet:q5,toCamelCase:B5,noop:$5,toFiniteNumber:H5,findKey:Qm,global:Ai,isContextDefined:Ym,isSpecCompliantForm:G5,toJSONObject:j5,isAsyncFn:W5,isThenable:z5,setImmediate:Jm,asap:V5,isIterable:K5};function Ze(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ge.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.status}}});const e1=Ze.prototype,t1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{t1[n]={value:n}});Object.defineProperties(Ze,t1);Object.defineProperty(e1,"isAxiosError",{value:!0});Ze.from=(n,e,t,r,i,a)=>{const s=Object.create(e1);return ge.toFlatObject(n,s,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),Ze.call(s,n.message,e,t,r,i),s.cause=n,s.name=n.name,a&&Object.assign(s,a),s};const X5=null;function il(n){return ge.isPlainObject(n)||ge.isArray(n)}function n1(n){return ge.endsWith(n,"[]")?n.slice(0,-2):n}function Cp(n,e,t){return n?n.concat(e).map(function(i,a){return i=n1(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function Q5(n){return ge.isArray(n)&&!n.some(il)}const Y5=ge.toFlatObject(ge,{},null,function(e){return/^is[A-Z]/.test(e)});function pu(n,e,t){if(!ge.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ge.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,R){return!ge.isUndefined(R[k])});const r=t.metaTokens,i=t.visitor||d,a=t.dots,s=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(e);if(!ge.isFunction(i))throw new TypeError("visitor must be a function");function c(C){if(C===null)return"";if(ge.isDate(C))return C.toISOString();if(!u&&ge.isBlob(C))throw new Ze("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(C)||ge.isTypedArray(C)?u&&typeof Blob=="function"?new Blob([C]):eh.from(C):C}function d(C,k,R){let $=C;if(C&&!R&&typeof C=="object"){if(ge.endsWith(k,"{}"))k=r?k:k.slice(0,-2),C=JSON.stringify(C);else if(ge.isArray(C)&&Q5(C)||(ge.isFileList(C)||ge.endsWith(k,"[]"))&&($=ge.toArray(C)))return k=n1(k),$.forEach(function(ie,te){!(ge.isUndefined(ie)||ie===null)&&e.append(s===!0?Cp([k],te,a):s===null?k:k+"[]",c(ie))}),!1}return il(C)?!0:(e.append(Cp(R,k,a),c(C)),!1)}const f=[],g=Object.assign(Y5,{defaultVisitor:d,convertValue:c,isVisitable:il});function x(C,k){if(!ge.isUndefined(C)){if(f.indexOf(C)!==-1)throw Error("Circular reference detected in "+k.join("."));f.push(C),ge.forEach(C,function($,q){(!(ge.isUndefined($)||$===null)&&i.call(e,$,ge.isString(q)?q.trim():q,k,g))===!0&&x($,k?k.concat(q):[q])}),f.pop()}}if(!ge.isObject(n))throw new TypeError("data must be an object");return x(n),e}function Rp(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Sd(n,e){this._pairs=[],n&&pu(n,this,e)}const r1=Sd.prototype;r1.append=function(e,t){this._pairs.push([e,t])};r1.toString=function(e){const t=e?function(r){return e.call(this,r,Rp)}:Rp;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Z5(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function i1(n,e,t){if(!e)return n;const r=t&&t.encode||Z5;ge.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=ge.isURLSearchParams(e)?e.toString():new Sd(e,t).toString(r),a){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Op{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ge.forEach(this.handlers,function(r){r!==null&&e(r)})}}const a1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J5=typeof URLSearchParams<"u"?URLSearchParams:Sd,eA=typeof FormData<"u"?FormData:null,tA=typeof Blob<"u"?Blob:null,nA={isBrowser:!0,classes:{URLSearchParams:J5,FormData:eA,Blob:tA},protocols:["http","https","file","blob","url","data"]},Id=typeof window<"u"&&typeof document<"u",al=typeof navigator=="object"&&navigator||void 0,rA=Id&&(!al||["ReactNative","NativeScript","NS"].indexOf(al.product)<0),iA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aA=Id&&window.location.href||"http://localhost",sA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Id,hasStandardBrowserEnv:rA,hasStandardBrowserWebWorkerEnv:iA,navigator:al,origin:aA},Symbol.toStringTag,{value:"Module"})),dn={...sA,...nA};function oA(n,e){return pu(n,new dn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return dn.isNode&&ge.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function uA(n){return ge.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cA(n){const e={},t=Object.keys(n);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],e[a]=n[a];return e}function s1(n){function e(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),u=a>=t.length;return s=!s&&ge.isArray(i)?i.length:s,u?(ge.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!o):((!i[s]||!ge.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],a)&&ge.isArray(i[s])&&(i[s]=cA(i[s])),!o)}if(ge.isFormData(n)&&ge.isFunction(n.entries)){const t={};return ge.forEachEntry(n,(r,i)=>{e(uA(r),i,t,0)}),t}return null}function lA(n,e,t){if(ge.isString(n))try{return(e||JSON.parse)(n),ge.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const As={transitional:a1,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=ge.isObject(e);if(a&&ge.isHTMLForm(e)&&(e=new FormData(e)),ge.isFormData(e))return i?JSON.stringify(s1(e)):e;if(ge.isArrayBuffer(e)||ge.isBuffer(e)||ge.isStream(e)||ge.isFile(e)||ge.isBlob(e)||ge.isReadableStream(e))return e;if(ge.isArrayBufferView(e))return e.buffer;if(ge.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return oA(e,this.formSerializer).toString();if((o=ge.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return pu(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),lA(e)):e}],transformResponse:[function(e){const t=this.transitional||As.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ge.isResponse(e)||ge.isReadableStream(e))return e;if(e&&ge.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Ze.from(o,Ze.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dn.classes.FormData,Blob:dn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],n=>{As.headers[n]={}});const dA=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fA=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&dA[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Np=Symbol("internals");function Oa(n){return n&&String(n).trim().toLowerCase()}function Xs(n){return n===!1||n==null?n:ge.isArray(n)?n.map(Xs):String(n)}function pA(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const hA=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function uc(n,e,t,r,i){if(ge.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ge.isString(e)){if(ge.isString(r))return e.indexOf(r)!==-1;if(ge.isRegExp(r))return r.test(e)}}function yA(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function mA(n,e){const t=ge.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let En=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function a(o,u,c){const d=Oa(u);if(!d)throw new Error("header name must be a non-empty string");const f=ge.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||u]=Xs(o))}const s=(o,u)=>ge.forEach(o,(c,d)=>a(c,d,u));if(ge.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ge.isString(e)&&(e=e.trim())&&!hA(e))s(fA(e),t);else if(ge.isObject(e)&&ge.isIterable(e)){let o={},u,c;for(const d of e){if(!ge.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(u=o[c])?ge.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}s(o,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=Oa(e),e){const r=ge.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return pA(i);if(ge.isFunction(t))return t.call(this,i,r);if(ge.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Oa(e),e){const r=ge.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||uc(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function a(s){if(s=Oa(s),s){const o=ge.findKey(r,s);o&&(!t||uc(r,r[o],o,t))&&(delete r[o],i=!0)}}return ge.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!e||uc(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,r={};return ge.forEach(this,(i,a)=>{const s=ge.findKey(r,a);if(s){t[s]=Xs(i),delete t[a];return}const o=e?yA(a):String(a).trim();o!==a&&delete t[a],t[o]=Xs(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ge.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ge.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Np]=this[Np]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=Oa(s);r[o]||(mA(i,s),r[o]=!0)}return ge.isArray(e)?e.forEach(a):a(e),this}};En.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(En.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ge.freezeMethods(En);function cc(n,e){const t=this||As,r=e||t,i=En.from(r.headers);let a=r.data;return ge.forEach(n,function(o){a=o.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function o1(n){return!!(n&&n.__CANCEL__)}function Ta(n,e,t){Ze.call(this,n??"canceled",Ze.ERR_CANCELED,e,t),this.name="CanceledError"}ge.inherits(Ta,Ze,{__CANCEL__:!0});function u1(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ze("Request failed with status code "+t.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function gA(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function bA(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=r[a];s||(s=c),t[i]=u,r[i]=c;let f=a,g=0;for(;f!==i;)g+=t[f++],f=f%n;if(i=(i+1)%n,i===a&&(a=(a+1)%n),c-s<e)return;const x=d&&c-d;return x?Math.round(g*1e3/x):void 0}}function xA(n,e){let t=0,r=1e3/e,i,a;const s=(c,d=Date.now())=>{t=d,i=null,a&&(clearTimeout(a),a=null),n.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-t;f>=r?s(c,d):(i=c,a||(a=setTimeout(()=>{a=null,s(i)},r-f)))},()=>i&&s(i)]}const Co=(n,e,t=3)=>{let r=0;const i=bA(50,250);return xA(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,u=s-r,c=i(u),d=s<=o;r=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:u,rate:c||void 0,estimated:c&&o&&d?(o-s)/c:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};n(f)},t)},Mp=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Fp=n=>(...e)=>ge.asap(()=>n(...e)),vA=dn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,dn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(dn.origin),dn.navigator&&/(msie|trident)/i.test(dn.navigator.userAgent)):()=>!0,TA=dn.hasStandardBrowserEnv?{write(n,e,t,r,i,a){const s=[n+"="+encodeURIComponent(e)];ge.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ge.isString(r)&&s.push("path="+r),ge.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wA(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function AA(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function c1(n,e,t){let r=!wA(e);return n&&(r||t==!1)?AA(n,e):e}const Dp=n=>n instanceof En?{...n}:n;function qi(n,e){e=e||{};const t={};function r(c,d,f,g){return ge.isPlainObject(c)&&ge.isPlainObject(d)?ge.merge.call({caseless:g},c,d):ge.isPlainObject(d)?ge.merge({},d):ge.isArray(d)?d.slice():d}function i(c,d,f,g){if(ge.isUndefined(d)){if(!ge.isUndefined(c))return r(void 0,c,f,g)}else return r(c,d,f,g)}function a(c,d){if(!ge.isUndefined(d))return r(void 0,d)}function s(c,d){if(ge.isUndefined(d)){if(!ge.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function o(c,d,f){if(f in e)return r(c,d);if(f in n)return r(void 0,c)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(c,d,f)=>i(Dp(c),Dp(d),f,!0)};return ge.forEach(Object.keys(Object.assign({},n,e)),function(d){const f=u[d]||i,g=f(n[d],e[d],d);ge.isUndefined(g)&&f!==o||(t[d]=g)}),t}const l1=n=>{const e=qi({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=e;e.headers=s=En.from(s),e.url=i1(c1(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let u;if(ge.isFormData(t)){if(dn.hasStandardBrowserEnv||dn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[c,...d]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...d].join("; "))}}if(dn.hasStandardBrowserEnv&&(r&&ge.isFunction(r)&&(r=r(e)),r||r!==!1&&vA(e.url))){const c=i&&a&&TA.read(a);c&&s.set(i,c)}return e},EA=typeof XMLHttpRequest<"u",_A=EA&&function(n){return new Promise(function(t,r){const i=l1(n);let a=i.data;const s=En.from(i.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:c}=i,d,f,g,x,C;function k(){x&&x(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let R=new XMLHttpRequest;R.open(i.method.toUpperCase(),i.url,!0),R.timeout=i.timeout;function $(){if(!R)return;const ie=En.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),he={data:!o||o==="text"||o==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:ie,config:n,request:R};u1(function(me){t(me),k()},function(me){r(me),k()},he),R=null}"onloadend"in R?R.onloadend=$:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout($)},R.onabort=function(){R&&(r(new Ze("Request aborted",Ze.ECONNABORTED,n,R)),R=null)},R.onerror=function(){r(new Ze("Network Error",Ze.ERR_NETWORK,n,R)),R=null},R.ontimeout=function(){let te=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const he=i.transitional||a1;i.timeoutErrorMessage&&(te=i.timeoutErrorMessage),r(new Ze(te,he.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,n,R)),R=null},a===void 0&&s.setContentType(null),"setRequestHeader"in R&&ge.forEach(s.toJSON(),function(te,he){R.setRequestHeader(he,te)}),ge.isUndefined(i.withCredentials)||(R.withCredentials=!!i.withCredentials),o&&o!=="json"&&(R.responseType=i.responseType),c&&([g,C]=Co(c,!0),R.addEventListener("progress",g)),u&&R.upload&&([f,x]=Co(u),R.upload.addEventListener("progress",f),R.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(d=ie=>{R&&(r(!ie||ie.type?new Ta(null,n,R):ie),R.abort(),R=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const q=gA(i.url);if(q&&dn.protocols.indexOf(q)===-1){r(new Ze("Unsupported protocol "+q+":",Ze.ERR_BAD_REQUEST,n));return}R.send(a||null)})},kA=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const a=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;r.abort(d instanceof Ze?d:new Ta(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,a(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const o=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),n=null)};n.forEach(c=>c.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>ge.asap(o),u}},PA=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},SA=async function*(n,e){for await(const t of IA(n))yield*PA(t,e)},IA=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Bp=(n,e,t,r)=>{const i=SA(n,e);let a=0,s,o=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await i.next();if(c){o(),u.close();return}let f=d.byteLength;if(t){let g=a+=f;t(g)}u.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(u){return o(u),i.return()}},{highWaterMark:2})},hu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",d1=hu&&typeof ReadableStream=="function",CA=hu&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),f1=(n,...e)=>{try{return!!n(...e)}catch{return!1}},RA=d1&&f1(()=>{let n=!1;const e=new Request(dn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Lp=64*1024,sl=d1&&f1(()=>ge.isReadableStream(new Response("").body)),Ro={stream:sl&&(n=>n.body)};hu&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ro[e]&&(Ro[e]=ge.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ze(`Response type '${e}' is not supported`,Ze.ERR_NOT_SUPPORT,r)})})})(new Response);const OA=async n=>{if(n==null)return 0;if(ge.isBlob(n))return n.size;if(ge.isSpecCompliantForm(n))return(await new Request(dn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ge.isArrayBufferView(n)||ge.isArrayBuffer(n))return n.byteLength;if(ge.isURLSearchParams(n)&&(n=n+""),ge.isString(n))return(await CA(n)).byteLength},NA=async(n,e)=>{const t=ge.toFiniteNumber(n.getContentLength());return t??OA(e)},MA=hu&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:u,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:g}=l1(n);c=c?(c+"").toLowerCase():"text";let x=kA([i,a&&a.toAbortSignal()],s),C;const k=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let R;try{if(u&&RA&&t!=="get"&&t!=="head"&&(R=await NA(d,r))!==0){let he=new Request(e,{method:"POST",body:r,duplex:"half"}),ue;if(ge.isFormData(r)&&(ue=he.headers.get("content-type"))&&d.setContentType(ue),he.body){const[me,M]=Mp(R,Co(Fp(u)));r=Bp(he.body,Lp,me,M)}}ge.isString(f)||(f=f?"include":"omit");const $="credentials"in Request.prototype;C=new Request(e,{...g,signal:x,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:$?f:void 0});let q=await fetch(C);const ie=sl&&(c==="stream"||c==="response");if(sl&&(o||ie&&k)){const he={};["status","statusText","headers"].forEach(S=>{he[S]=q[S]});const ue=ge.toFiniteNumber(q.headers.get("content-length")),[me,M]=o&&Mp(ue,Co(Fp(o),!0))||[];q=new Response(Bp(q.body,Lp,me,()=>{M&&M(),k&&k()}),he)}c=c||"text";let te=await Ro[ge.findKey(Ro,c)||"text"](q,n);return!ie&&k&&k(),await new Promise((he,ue)=>{u1(he,ue,{data:te,headers:En.from(q.headers),status:q.status,statusText:q.statusText,config:n,request:C})})}catch($){throw k&&k(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,n,C),{cause:$.cause||$}):Ze.from($,$&&$.code,n,C)}}),ol={http:X5,xhr:_A,fetch:MA};ge.forEach(ol,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Up=n=>`- ${n}`,FA=n=>ge.isFunction(n)||n===null||n===!1,p1={getAdapter:n=>{n=ge.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let a=0;a<e;a++){t=n[a];let s;if(r=t,!FA(t)&&(r=ol[(s=String(t)).toLowerCase()],r===void 0))throw new Ze(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(Up).join(`
`):" "+Up(a[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:ol};function lc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ta(null,n)}function qp(n){return lc(n),n.headers=En.from(n.headers),n.data=cc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),p1.getAdapter(n.adapter||As.adapter)(n).then(function(r){return lc(n),r.data=cc.call(n,n.transformResponse,r),r.headers=En.from(r.headers),r},function(r){return o1(r)||(lc(n),r&&r.response&&(r.response.data=cc.call(n,n.transformResponse,r.response),r.response.headers=En.from(r.response.headers))),Promise.reject(r)})}const h1="1.9.0",yu={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{yu[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const $p={};yu.transitional=function(e,t,r){function i(a,s){return"[Axios v"+h1+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,o)=>{if(e===!1)throw new Ze(i(s," has been removed"+(t?" in "+t:"")),Ze.ERR_DEPRECATED);return t&&!$p[s]&&($p[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,s,o):!0}};yu.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function DA(n,e,t){if(typeof n!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const o=n[a],u=o===void 0||s(o,a,n);if(u!==!0)throw new Ze("option "+a+" must be "+u,Ze.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ze("Unknown option "+a,Ze.ERR_BAD_OPTION)}}const Qs={assertOptions:DA,validators:yu},or=Qs.validators;let Ci=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Op,response:new Op}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=qi(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&Qs.assertOptions(r,{silentJSONParsing:or.transitional(or.boolean),forcedJSONParsing:or.transitional(or.boolean),clarifyTimeoutError:or.transitional(or.boolean)},!1),i!=null&&(ge.isFunction(i)?t.paramsSerializer={serialize:i}:Qs.assertOptions(i,{encode:or.function,serialize:or.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Qs.assertOptions(t,{baseUrl:or.spelling("baseURL"),withXsrfToken:or.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ge.merge(a.common,a[t.method]);a&&ge.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),t.headers=En.concat(s,a);const o=[];let u=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(u=u&&k.synchronous,o.unshift(k.fulfilled,k.rejected))});const c=[];this.interceptors.response.forEach(function(k){c.push(k.fulfilled,k.rejected)});let d,f=0,g;if(!u){const C=[qp.bind(this),void 0];for(C.unshift.apply(C,o),C.push.apply(C,c),g=C.length,d=Promise.resolve(t);f<g;)d=d.then(C[f++],C[f++]);return d}g=o.length;let x=t;for(f=0;f<g;){const C=o[f++],k=o[f++];try{x=C(x)}catch(R){k.call(this,R);break}}try{d=qp.call(this,x)}catch(C){return Promise.reject(C)}for(f=0,g=c.length;f<g;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=qi(this.defaults,e);const t=c1(e.baseURL,e.url,e.allowAbsoluteUrls);return i1(t,e.params,e.paramsSerializer)}};ge.forEach(["delete","get","head","options"],function(e){Ci.prototype[e]=function(t,r){return this.request(qi(r||{},{method:e,url:t,data:(r||{}).data}))}});ge.forEach(["post","put","patch"],function(e){function t(r){return function(a,s,o){return this.request(qi(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Ci.prototype[e]=t(),Ci.prototype[e+"Form"]=t(!0)});let BA=class y1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{r.subscribe(o),a=o}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,o){r.reason||(r.reason=new Ta(a,s,o),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new y1(function(i){e=i}),cancel:e}}};function LA(n){return function(t){return n.apply(null,t)}}function UA(n){return ge.isObject(n)&&n.isAxiosError===!0}const ul={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ul).forEach(([n,e])=>{ul[e]=n});function m1(n){const e=new Ci(n),t=zm(Ci.prototype.request,e);return ge.extend(t,Ci.prototype,e,{allOwnKeys:!0}),ge.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return m1(qi(n,i))},t}const $t=m1(As);$t.Axios=Ci;$t.CanceledError=Ta;$t.CancelToken=BA;$t.isCancel=o1;$t.VERSION=h1;$t.toFormData=pu;$t.AxiosError=Ze;$t.Cancel=$t.CanceledError;$t.all=function(e){return Promise.all(e)};$t.spread=LA;$t.isAxiosError=UA;$t.mergeConfig=qi;$t.AxiosHeaders=En;$t.formToJSON=n=>s1(ge.isHTMLForm(n)?new FormData(n):n);$t.getAdapter=p1.getAdapter;$t.HttpStatusCode=ul;$t.default=$t;const{Axios:wP,AxiosError:AP,CanceledError:EP,isCancel:_P,CancelToken:kP,VERSION:PP,all:SP,Cancel:IP,isAxiosError:CP,spread:RP,toFormData:OP,AxiosHeaders:NP,HttpStatusCode:MP,formToJSON:FP,getAdapter:DP,mergeConfig:BP}=$t;var cl=(n=>(n.Pricing="pricing",n.Quote="quote",n))(cl||{}),ll=(n=>(n.RON="RON",n))(ll||{}),qA=new ft(50,1e4),$A=1e4;He.testnet+"",He.mainnet+"";He.testnet+"",He.mainnet+"";He.mainnet+"",He.testnet+"";var HA="https://api.roninchain.com/routing-api/prod";He.testnet+"",He.mainnet+"";He.mainnet+"",Ne.fromRawAmount(yo[He.mainnet].USDC,1e10),He.testnet+"",Ne.fromRawAmount(yo[He.testnet].USDC,1e10);He.mainnet+"",Ne.fromRawAmount(br.onChain(He.mainnet),3e21),He.testnet+"",Ne.fromRawAmount(br.onChain(He.testnet),6e20);He.mainnet+"",He.testnet+"";var dl=class extends kd.Trade{constructor({blockNumber:e,requestId:t,swapFee:r,gasUseEstimate:i,gasUseEstimateUSD:a,...s}){super(s);Xe(this,"blockNumber");Xe(this,"requestId");Xe(this,"swapFee");Xe(this,"gasUseEstimate");Xe(this,"gasUseEstimateUSD");this.blockNumber=e,this.requestId=t,this.swapFee=r,this.gasUseEstimate=i,this.gasUseEstimate=a}get executionPrice(){return this.tradeType===et.EXACT_INPUT||!this.swapFee?super.executionPrice:new Ot({baseAmount:this.inputAmount,quoteAmount:this.postSwapFeeOutputAmount})}get postSwapFeeOutputAmount(){var t;if(this.tradeType===et.EXACT_INPUT)return this.outputAmount;let e=Ne.fromRawAmount(this.outputAmount.currency,((t=this.swapFee)==null?void 0:t.amount)??0);return this.outputAmount.subtract(e)}},da=({address:n,chainId:e,decimals:t,symbol:r,buyFeeBps:i,sellFeeBps:a})=>{let s=i?vo.from(i):void 0,o=a?vo.from(a):void 0;return new Je(e,n,parseInt(t.toString()),r,void 0,!1,s,o)},g1=({fee:n,sqrtRatioX96:e,liquidity:t,tickCurrent:r,tokenIn:i,tokenOut:a})=>new Zr(da(i),da(a),parseInt(n),e,t,parseInt(r)),b1=({reserve0:n,reserve1:e})=>new ja(Ne.fromRawAmount(da(n.token),n.quotient),Ne.fromRawAmount(da(e.token),e.quotient)),GA=n=>n.type===Io.PoolType.V3Pool?g1(n):b1(n),Hp=(n,e)=>e.every(t=>t.type===n),jA=(n,e)=>{var f,g,x,C,k;let{tokenInAddress:t,tokenOutAddress:r,chainId:i}=n,a=Object.values(ll).includes(t),s=Object.values(ll).includes(r),o=(g=(f=e==null?void 0:e[0])==null?void 0:f[0])==null?void 0:g.tokenIn,u=(k=(C=e==null?void 0:e[0])==null?void 0:C[((x=e[0])==null?void 0:x.length)-1])==null?void 0:k.tokenOut,c=a?br.onChain(i):da({address:t,chainId:i,decimals:(o==null?void 0:o.decimals)||If,symbol:o==null?void 0:o.symbol,buyFeeBps:o==null?void 0:o.buyFeeBps,sellFeeBps:o==null?void 0:o.sellFeeBps}),d=s?br.onChain(i):da({address:r,chainId:i,decimals:(u==null?void 0:u.decimals)||If,symbol:u==null?void 0:u.symbol,buyFeeBps:u==null?void 0:u.buyFeeBps,sellFeeBps:u==null?void 0:u.sellFeeBps});return[c,d]},WA=(n,e)=>{if(e.length===0)return[];let[t,r]=jA(n,e);try{return e.map(i=>{if(i.length===0)throw new Error("Expected route to have at least one pair or pool");let a=i[0].amountIn,s=i[i.length-1].amountOut;if(!a||!s)throw new Error("Expected both amountIn and amountOut to be present");let o=Hp(Io.PoolType.V2Pool,i),u=Hp(Io.PoolType.V3Pool,i);return{routev3:u?new ho(i.map(g1),t,r):null,routev2:o?new lo(i.map(b1),t,r):null,mixedRoute:!u&&!o?new kd.MixedRouteSDK(i.map(GA),t,r):null,inputAmount:Ne.fromRawAmount(t,a),outputAmount:Ne.fromRawAmount(r,s)}})}catch(i){console.error("Error computing routes",i);return}},zA=n=>{let e={v2Routes:[],v3Routes:[],mixedRoutes:[]};return n==null||n.map(({inputAmount:t,outputAmount:r,mixedRoute:i,routev2:a,routev3:s})=>{a&&e.v2Routes.push({inputAmount:t,outputAmount:r,routev2:a}),s&&e.v3Routes.push({inputAmount:t,outputAmount:r,routev3:s}),i&&e.mixedRoutes.push({inputAmount:t,outputAmount:r,mixedRoute:i})}),e},VA=(n,e)=>{let t=WA(n,e);return zA(t)},KA=n=>{let{portionAmount:e,portionBips:t,portionRecipient:r}=n;if(!(!e||!t||!r))return{recipient:r,percent:new ft(t,$A),amount:e}},XA=(n,e)=>({gasUseEstimate:e.gasUseEstimate?parseFloat(e.gasUseEstimate):void 0,gasUseEstimateUSD:e.gasUseEstimateUSD?parseFloat(e.gasUseEstimateUSD):void 0,blockNumber:e.blockNumber,routes:VA(n,e.route),swapFee:KA(e)}),x1=(n,e)=>{let{tradeType:t}=n,{gasUseEstimateUSD:r,blockNumber:i,routes:a,gasUseEstimate:s,swapFee:o}=XA(n,e);return new dl({v2Routes:a.v2Routes,v3Routes:a.v3Routes,mixedRoutes:a.mixedRoutes,tradeType:t,gasUseEstimateUSD:r,gasUseEstimate:s,blockNumber:i,requestId:"",swapFee:o})},QA=n=>n===et.EXACT_INPUT,YA=({chainId:n,tradeType:e,intent:t="quote",...r})=>({tokenInChainId:n,tokenOutChainId:n,type:QA(e)?"exactIn":"exactOut",intent:t,enableUniversalRouter:!0,enableFeeOnTransferFeeFetching:!0,protocols:["v2","v3","mixed"],slippageTolerance:qA.toSignificant(),...r}),ZA=async n=>{try{let e=YA(n),t=(await $t.get(`${HA}/quote?${new URLSearchParams(Object.entries(e)).toString()}`)).data;return x1(n,t)}catch(e){if(e.response){let t=e.response.data;if(typeof t=="object"&&((t==null?void 0:t.errorCode)==="NO_ROUTE"||(t==null?void 0:t.detail)==="No quotes available"))return null}throw console.error(`GetQuote failed on Routing API: ${(e==null?void 0:e.message)??(e==null?void 0:e.detail)??e}`),e}},JA=n=>ZA(n),e3=2592e6,t3=18e5,Gp=n=>Math.floor((Date.now()+n)/1e3),n3=({chainId:n,token:e,nonce:t,spender:r,amount:i,expiration:a=e3,sigDeadline:s=t3})=>({details:{token:e,amount:i??am.MaxAllowanceTransferAmount,expiration:Gp(a),nonce:t},spender:r??Cx[n],sigDeadline:Gp(s)});function r3(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=n[r+e];return a}var i3=r3,a3=i3;function s3(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:a3(n,e,t)}var o3=s3,u3="\\ud800-\\udfff",c3="\\u0300-\\u036f",l3="\\ufe20-\\ufe2f",d3="\\u20d0-\\u20ff",f3=c3+l3+d3,p3="\\ufe0e\\ufe0f",h3="\\u200d",y3=RegExp("["+h3+u3+f3+p3+"]");function m3(n){return y3.test(n)}var v1=m3;function g3(n){return n.split("")}var b3=g3,T1="\\ud800-\\udfff",x3="\\u0300-\\u036f",v3="\\ufe20-\\ufe2f",T3="\\u20d0-\\u20ff",w3=x3+v3+T3,A3="\\ufe0e\\ufe0f",E3="["+T1+"]",fl="["+w3+"]",pl="\\ud83c[\\udffb-\\udfff]",_3="(?:"+fl+"|"+pl+")",w1="[^"+T1+"]",A1="(?:\\ud83c[\\udde6-\\uddff]){2}",E1="[\\ud800-\\udbff][\\udc00-\\udfff]",k3="\\u200d",_1=_3+"?",k1="["+A3+"]?",P3="(?:"+k3+"(?:"+[w1,A1,E1].join("|")+")"+k1+_1+")*",S3=k1+_1+P3,I3="(?:"+[w1+fl+"?",fl,A1,E1,E3].join("|")+")",C3=RegExp(pl+"(?="+pl+")|"+I3+S3,"g");function R3(n){return n.match(C3)||[]}var O3=R3,N3=b3,M3=v1,F3=O3;function D3(n){return M3(n)?F3(n):N3(n)}var B3=D3,L3=o3,U3=v1,q3=B3,$3=qo;function H3(n){return function(e){e=$3(e);var t=U3(e)?q3(e):void 0,r=t?t[0]:e.charAt(0),i=t?L3(t,1).join(""):e.slice(1);return r[n]()+i}}var G3=H3,j3=G3,W3=j3("toUpperCase"),P1=W3;const LP=li(P1);var z3=qo,V3=P1;function K3(n){return V3(z3(n).toLowerCase())}var X3=K3;function Q3(n,e,t,r){var i=-1,a=n==null?0:n.length;for(r&&a&&(t=n[++i]);++i<a;)t=e(t,n[i],i,n);return t}var Y3=Q3;function Z3(n){return function(e){return n==null?void 0:n[e]}}var J3=Z3,eE=J3,tE={Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"},nE=eE(tE),rE=nE,iE=rE,aE=qo,sE=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oE="\\u0300-\\u036f",uE="\\ufe20-\\ufe2f",cE="\\u20d0-\\u20ff",lE=oE+uE+cE,dE="["+lE+"]",fE=RegExp(dE,"g");function pE(n){return n=aE(n),n&&n.replace(sE,iE).replace(fE,"")}var hE=pE,yE=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function mE(n){return n.match(yE)||[]}var gE=mE,bE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function xE(n){return bE.test(n)}var vE=xE,S1="\\ud800-\\udfff",TE="\\u0300-\\u036f",wE="\\ufe20-\\ufe2f",AE="\\u20d0-\\u20ff",EE=TE+wE+AE,I1="\\u2700-\\u27bf",C1="a-z\\xdf-\\xf6\\xf8-\\xff",_E="\\xac\\xb1\\xd7\\xf7",kE="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",PE="\\u2000-\\u206f",SE=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",R1="A-Z\\xc0-\\xd6\\xd8-\\xde",IE="\\ufe0e\\ufe0f",O1=_E+kE+PE+SE,N1="['â€™]",jp="["+O1+"]",CE="["+EE+"]",M1="\\d+",RE="["+I1+"]",F1="["+C1+"]",D1="[^"+S1+O1+M1+I1+C1+R1+"]",OE="\\ud83c[\\udffb-\\udfff]",NE="(?:"+CE+"|"+OE+")",ME="[^"+S1+"]",B1="(?:\\ud83c[\\udde6-\\uddff]){2}",L1="[\\ud800-\\udbff][\\udc00-\\udfff]",ta="["+R1+"]",FE="\\u200d",Wp="(?:"+F1+"|"+D1+")",DE="(?:"+ta+"|"+D1+")",zp="(?:"+N1+"(?:d|ll|m|re|s|t|ve))?",Vp="(?:"+N1+"(?:D|LL|M|RE|S|T|VE))?",U1=NE+"?",q1="["+IE+"]?",BE="(?:"+FE+"(?:"+[ME,B1,L1].join("|")+")"+q1+U1+")*",LE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",UE="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qE=q1+U1+BE,$E="(?:"+[RE,B1,L1].join("|")+")"+qE,HE=RegExp([ta+"?"+F1+"+"+zp+"(?="+[jp,ta,"$"].join("|")+")",DE+"+"+Vp+"(?="+[jp,ta+Wp,"$"].join("|")+")",ta+"?"+Wp+"+"+zp,ta+"+"+Vp,UE,LE,M1,$E].join("|"),"g");function GE(n){return n.match(HE)||[]}var jE=GE,WE=gE,zE=vE,VE=qo,KE=jE;function XE(n,e,t){return n=VE(n),e=t?void 0:e,e===void 0?zE(n)?KE(n):WE(n):n.match(e)||[]}var QE=XE,YE=Y3,ZE=hE,JE=QE,e8="['â€™]",t8=RegExp(e8,"g");function n8(n){return function(e){return YE(JE(ZE(e).replace(t8,"")),n,"")}}var r8=n8,i8=X3,a8=r8,s8=a8(function(n,e,t){return e=e.toLowerCase(),n+(t?i8(e):e)}),o8=s8;const u8=li(o8);var c8=$i;function l8(){if(!arguments.length)return[];var n=arguments[0];return c8(n)?n:[n]}var d8=l8;const $1=li(d8);var f8=Gg,p8=function(){try{var n=f8(Object,"defineProperty");return n({},"",{}),n}catch{}}(),h8=p8,Kp=h8;function y8(n,e,t){e=="__proto__"&&Kp?Kp(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var m8=y8;function g8(n,e,t,r){for(var i=-1,a=n==null?0:n.length;++i<a;){var s=n[i];e(r,s,t(s),n)}return r}var b8=g8;function x8(n){return function(e,t,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var u=s[n?o:++i];if(t(a[u],u,a)===!1)break}return e}}var v8=x8,T8=v8,w8=T8(),A8=w8;function E8(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var _8=E8,k8=9007199254740991,P8=/^(?:0|[1-9]\d*)$/;function S8(n,e){var t=typeof n;return e=e??k8,!!e&&(t=="number"||t!="symbol"&&P8.test(n))&&n>-1&&n%1==0&&n<e}var H1=S8,I8=_8,C8=th,R8=$i,O8=nh,N8=H1,M8=rh,F8=Object.prototype,D8=F8.hasOwnProperty;function B8(n,e){var t=R8(n),r=!t&&C8(n),i=!t&&!r&&O8(n),a=!t&&!r&&!i&&M8(n),s=t||r||i||a,o=s?I8(n.length,String):[],u=o.length;for(var c in n)(e||D8.call(n,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||N8(c,u)))&&o.push(c);return o}var L8=B8,U8=L8,q8=jg,$8=ih;function H8(n){return $8(n)?U8(n):q8(n)}var Cd=H8,G8=A8,j8=Cd;function W8(n,e){return n&&G8(n,e,j8)}var z8=W8,V8=ih;function K8(n,e){return function(t,r){if(t==null)return t;if(!V8(t))return n(t,r);for(var i=t.length,a=e?i:-1,s=Object(t);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return t}}var X8=K8,Q8=z8,Y8=X8,Z8=Y8(Q8),J8=Z8,e4=J8;function t4(n,e,t,r){return e4(n,function(i,a,s){e(r,i,t(i),s)}),r}var n4=t4,r4=Cl;function i4(){this.__data__=new r4,this.size=0}var a4=i4;function s4(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var o4=s4;function u4(n){return this.__data__.get(n)}var c4=u4;function l4(n){return this.__data__.has(n)}var d4=l4,f4=Cl,p4=Wg,h4=ah,y4=200;function m4(n,e){var t=this.__data__;if(t instanceof f4){var r=t.__data__;if(!p4||r.length<y4-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new h4(r)}return t.set(n,e),this.size=t.size,this}var g4=m4,b4=Cl,x4=a4,v4=o4,T4=c4,w4=d4,A4=g4;function wa(n){var e=this.__data__=new b4(n);this.size=e.size}wa.prototype.clear=x4;wa.prototype.delete=v4;wa.prototype.get=T4;wa.prototype.has=w4;wa.prototype.set=A4;var G1=wa,E4="__lodash_hash_undefined__";function _4(n){return this.__data__.set(n,E4),this}var k4=_4;function P4(n){return this.__data__.has(n)}var S4=P4,I4=ah,C4=k4,R4=S4;function Oo(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new I4;++e<t;)this.add(n[e])}Oo.prototype.add=Oo.prototype.push=C4;Oo.prototype.has=R4;var O4=Oo;function N4(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var M4=N4;function F4(n,e){return n.has(e)}var D4=F4,B4=O4,L4=M4,U4=D4,q4=1,$4=2;function H4(n,e,t,r,i,a){var s=t&q4,o=n.length,u=e.length;if(o!=u&&!(s&&u>o))return!1;var c=a.get(n),d=a.get(e);if(c&&d)return c==e&&d==n;var f=-1,g=!0,x=t&$4?new B4:void 0;for(a.set(n,e),a.set(e,n);++f<o;){var C=n[f],k=e[f];if(r)var R=s?r(k,C,f,e,n,a):r(C,k,f,n,e,a);if(R!==void 0){if(R)continue;g=!1;break}if(x){if(!L4(e,function($,q){if(!U4(x,q)&&(C===$||i(C,$,t,r,a)))return x.push(q)})){g=!1;break}}else if(!(C===k||i(C,k,t,r,a))){g=!1;break}}return a.delete(n),a.delete(e),g}var j1=H4,G4=zg,j4=G4.Uint8Array,W4=j4;function z4(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var V4=z4;function K4(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var X4=K4,Xp=Vg,Qp=W4,Q4=Kg,Y4=j1,Z4=V4,J4=X4,e_=1,t_=2,n_="[object Boolean]",r_="[object Date]",i_="[object Error]",a_="[object Map]",s_="[object Number]",o_="[object RegExp]",u_="[object Set]",c_="[object String]",l_="[object Symbol]",d_="[object ArrayBuffer]",f_="[object DataView]",Yp=Xp?Xp.prototype:void 0,dc=Yp?Yp.valueOf:void 0;function p_(n,e,t,r,i,a,s){switch(t){case f_:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case d_:return!(n.byteLength!=e.byteLength||!a(new Qp(n),new Qp(e)));case n_:case r_:case s_:return Q4(+n,+e);case i_:return n.name==e.name&&n.message==e.message;case o_:case c_:return n==e+"";case a_:var o=Z4;case u_:var u=r&e_;if(o||(o=J4),n.size!=e.size&&!u)return!1;var c=s.get(n);if(c)return c==e;r|=t_,s.set(n,e);var d=Y4(o(n),o(e),r,i,a,s);return s.delete(n),d;case l_:if(dc)return dc.call(n)==dc.call(e)}return!1}var h_=p_;function y_(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var m_=y_,g_=m_,b_=$i;function x_(n,e,t){var r=e(n);return b_(n)?r:g_(r,t(n))}var v_=x_;function T_(n,e){for(var t=-1,r=n==null?0:n.length,i=0,a=[];++t<r;){var s=n[t];e(s,t,n)&&(a[i++]=s)}return a}var w_=T_;function A_(){return[]}var E_=A_,__=w_,k_=E_,P_=Object.prototype,S_=P_.propertyIsEnumerable,Zp=Object.getOwnPropertySymbols,I_=Zp?function(n){return n==null?[]:(n=Object(n),__(Zp(n),function(e){return S_.call(n,e)}))}:k_,C_=I_,R_=v_,O_=C_,N_=Cd;function M_(n){return R_(n,N_,O_)}var F_=M_,Jp=F_,D_=1,B_=Object.prototype,L_=B_.hasOwnProperty;function U_(n,e,t,r,i,a){var s=t&D_,o=Jp(n),u=o.length,c=Jp(e),d=c.length;if(u!=d&&!s)return!1;for(var f=u;f--;){var g=o[f];if(!(s?g in e:L_.call(e,g)))return!1}var x=a.get(n),C=a.get(e);if(x&&C)return x==e&&C==n;var k=!0;a.set(n,e),a.set(e,n);for(var R=s;++f<u;){g=o[f];var $=n[g],q=e[g];if(r)var ie=s?r(q,$,g,e,n,a):r($,q,g,n,e,a);if(!(ie===void 0?$===q||i($,q,t,r,a):ie)){k=!1;break}R||(R=g=="constructor")}if(k&&!R){var te=n.constructor,he=e.constructor;te!=he&&"constructor"in n&&"constructor"in e&&!(typeof te=="function"&&te instanceof te&&typeof he=="function"&&he instanceof he)&&(k=!1)}return a.delete(n),a.delete(e),k}var q_=U_,fc=G1,$_=j1,H_=h_,G_=q_,e0=Xg,t0=$i,n0=nh,j_=rh,W_=1,r0="[object Arguments]",i0="[object Array]",Ls="[object Object]",z_=Object.prototype,a0=z_.hasOwnProperty;function V_(n,e,t,r,i,a){var s=t0(n),o=t0(e),u=s?i0:e0(n),c=o?i0:e0(e);u=u==r0?Ls:u,c=c==r0?Ls:c;var d=u==Ls,f=c==Ls,g=u==c;if(g&&n0(n)){if(!n0(e))return!1;s=!0,d=!1}if(g&&!d)return a||(a=new fc),s||j_(n)?$_(n,e,t,r,i,a):H_(n,e,u,t,r,i,a);if(!(t&W_)){var x=d&&a0.call(n,"__wrapped__"),C=f&&a0.call(e,"__wrapped__");if(x||C){var k=x?n.value():n,R=C?e.value():e;return a||(a=new fc),i(k,R,t,r,a)}}return g?(a||(a=new fc),G_(n,e,t,r,i,a)):!1}var K_=V_,X_=K_,s0=Qg;function W1(n,e,t,r,i){return n===e?!0:n==null||e==null||!s0(n)&&!s0(e)?n!==n&&e!==e:X_(n,e,t,r,W1,i)}var z1=W1,Q_=G1,Y_=z1,Z_=1,J_=2;function e7(n,e,t,r){var i=t.length,a=i,s=!r;if(n==null)return!a;for(n=Object(n);i--;){var o=t[i];if(s&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++i<a;){o=t[i];var u=o[0],c=n[u],d=o[1];if(s&&o[2]){if(c===void 0&&!(u in n))return!1}else{var f=new Q_;if(r)var g=r(c,d,u,n,e,f);if(!(g===void 0?Y_(d,c,Z_|J_,r,f):g))return!1}}return!0}var t7=e7,n7=Yg;function r7(n){return n===n&&!n7(n)}var V1=r7,i7=V1,a7=Cd;function s7(n){for(var e=a7(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,i7(i)]}return e}var o7=s7;function u7(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var K1=u7,c7=t7,l7=o7,d7=K1;function f7(n){var e=l7(n);return e.length==1&&e[0][2]?d7(e[0][0],e[0][1]):function(t){return t===n||c7(t,n,e)}}var p7=f7;function h7(n,e){return n!=null&&e in Object(n)}var y7=h7,m7=Zg,g7=th,b7=$i,x7=H1,v7=Jg,T7=Rl;function w7(n,e,t){e=m7(e,n);for(var r=-1,i=e.length,a=!1;++r<i;){var s=T7(e[r]);if(!(a=n!=null&&t(n,s)))break;n=n[s]}return a||++r!=i?a:(i=n==null?0:n.length,!!i&&v7(i)&&x7(s,i)&&(b7(n)||g7(n)))}var A7=w7,E7=y7,_7=A7;function k7(n,e){return n!=null&&_7(n,e,E7)}var P7=k7,S7=z1,I7=eb,C7=P7,R7=sh,O7=V1,N7=K1,M7=Rl,F7=1,D7=2;function B7(n,e){return R7(n)&&O7(e)?N7(M7(n),e):function(t){var r=I7(t,n);return r===void 0&&r===e?C7(t,n):S7(e,r,F7|D7)}}var L7=B7;function U7(n){return n}var q7=U7;function $7(n){return function(e){return e==null?void 0:e[n]}}var H7=$7,G7=tb;function j7(n){return function(e){return G7(e,n)}}var W7=j7,z7=H7,V7=W7,K7=sh,X7=Rl;function Q7(n){return K7(n)?z7(X7(n)):V7(n)}var Y7=Q7,Z7=p7,J7=L7,e9=q7,t9=$i,n9=Y7;function r9(n){return typeof n=="function"?n:n==null?e9:typeof n=="object"?t9(n)?J7(n[0],n[1]):Z7(n):n9(n)}var i9=r9,a9=b8,s9=n4,o9=i9,u9=$i;function c9(n,e){return function(t,r){var i=u9(t)?a9:s9,a=e?e():{};return i(t,n,o9(r),a)}}var l9=c9,d9=m8,f9=l9,p9=Object.prototype,h9=p9.hasOwnProperty,y9=f9(function(n,e,t){h9.call(n,t)?n[t].push(e):d9(n,t,[e])}),m9=y9;const X1=li(m9);var g9=Object.create,Q1=Object.defineProperty,b9=Object.getOwnPropertyDescriptor,Y1=Object.getOwnPropertyNames,x9=Object.getPrototypeOf,v9=Object.prototype.hasOwnProperty,T9=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')}),Z1=(n,e)=>function(){return e||(0,n[Y1(n)[0]])((e={exports:{}}).exports,e),e.exports},w9=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Y1(e))!v9.call(n,i)&&i!==t&&Q1(n,i,{get:()=>e[i],enumerable:!(r=b9(e,i))||r.enumerable});return n},J1=(n,e,t)=>(t=n!=null?g9(x9(n)):{},w9(!n||!n.__esModule?Q1(t,"default",{value:n,enumerable:!0}):t,n)),A9=Z1({"../../node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js"(n,e){(function(t,r){function i(O,l){if(!O)throw new Error(l||"Assertion failed")}function a(O,l){O.super_=l;var p=function(){};p.prototype=l.prototype,O.prototype=new p,O.prototype.constructor=O}function s(O,l,p){if(s.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((l==="le"||l==="be")&&(p=l,l=10),this._init(O||0,l||10,p||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=T9("buffer").Buffer}catch{}s.isBN=function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},s.max=function(l,p){return l.cmp(p)>0?l:p},s.min=function(l,p){return l.cmp(p)<0?l:p},s.prototype._init=function(l,p,h){if(typeof l=="number")return this._initNumber(l,p,h);if(typeof l=="object")return this._initArray(l,p,h);p==="hex"&&(p=16),i(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var m=0;l[0]==="-"&&(m++,this.negative=1),m<l.length&&(p===16?this._parseHex(l,m,h):(this._parseBase(l,p,m),h==="le"&&this._initArray(this.toArray(),p,h)))},s.prototype._initNumber=function(l,p,h){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(i(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),p,h)},s.prototype._initArray=function(l,p,h){if(i(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var T,D,_=0;if(h==="be")for(m=l.length-1,T=0;m>=0;m-=3)D=l[m]|l[m-1]<<8|l[m-2]<<16,this.words[T]|=D<<_&67108863,this.words[T+1]=D>>>26-_&67108863,_+=24,_>=26&&(_-=26,T++);else if(h==="le")for(m=0,T=0;m<l.length;m+=3)D=l[m]|l[m+1]<<8|l[m+2]<<16,this.words[T]|=D<<_&67108863,this.words[T+1]=D>>>26-_&67108863,_+=24,_>=26&&(_-=26,T++);return this._strip()};function u(O,l){var p=O.charCodeAt(l);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;i(!1,"Invalid character in "+O)}function c(O,l,p){var h=u(O,p);return p-1>=l&&(h|=u(O,p-1)<<4),h}s.prototype._parseHex=function(l,p,h){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var T=0,D=0,_;if(h==="be")for(m=l.length-1;m>=p;m-=2)_=c(l,p,m)<<T,this.words[D]|=_&67108863,T>=18?(T-=18,D+=1,this.words[D]|=_>>>26):T+=8;else{var v=l.length-p;for(m=v%2===0?p+1:p;m<l.length;m+=2)_=c(l,p,m)<<T,this.words[D]|=_&67108863,T>=18?(T-=18,D+=1,this.words[D]|=_>>>26):T+=8}this._strip()};function d(O,l,p,h){for(var m=0,T=0,D=Math.min(O.length,p),_=l;_<D;_++){var v=O.charCodeAt(_)-48;m*=h,v>=49?T=v-49+10:v>=17?T=v-17+10:T=v,i(v>=0&&T<h,"Invalid character"),m+=T}return m}s.prototype._parseBase=function(l,p,h){this.words=[0],this.length=1;for(var m=0,T=1;T<=67108863;T*=p)m++;m--,T=T/p|0;for(var D=l.length-h,_=D%m,v=Math.min(D,D-_)+h,y=0,b=h;b<v;b+=m)y=d(l,b,b+m,p),this.imuln(T),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(_!==0){var ee=1;for(y=d(l,b,l.length,p),b=0;b<_;b++)ee*=p;this.imuln(ee),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},s.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red};function f(O,l){O.words=l.words,O.length=l.length,O.negative=l.negative,O.red=l.red}if(s.prototype._move=function(l){f(l,this)},s.prototype.clone=function(){var l=new s(null);return this.copy(l),l},s.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(l,p){l=l||10,p=p|0||1;var h;if(l===16||l==="hex"){h="";for(var m=0,T=0,D=0;D<this.length;D++){var _=this.words[D],v=((_<<m|T)&16777215).toString(16);T=_>>>24-m&16777215,m+=2,m>=26&&(m-=26,D--),T!==0||D!==this.length-1?h=x[6-v.length]+v+h:h=v+h}for(T!==0&&(h=T.toString(16)+h);h.length%p!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(l===(l|0)&&l>=2&&l<=36){var y=C[l],b=k[l];h="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var be=ee.modrn(b).toString(l);ee=ee.idivn(b),ee.isZero()?h=be+h:h=x[y-be.length]+be+h}for(this.isZero()&&(h="0"+h);h.length%p!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(l,p){return this.toArrayLike(o,l,p)}),s.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)};var R=function(l,p){return l.allocUnsafe?l.allocUnsafe(p):new l(p)};s.prototype.toArrayLike=function(l,p,h){this._strip();var m=this.byteLength(),T=h||Math.max(1,m);i(m<=T,"byte array longer than desired length"),i(T>0,"Requested array length <= 0");var D=R(l,T),_=p==="le"?"LE":"BE";return this["_toArrayLike"+_](D,m),D},s.prototype._toArrayLikeLE=function(l,p){for(var h=0,m=0,T=0,D=0;T<this.length;T++){var _=this.words[T]<<D|m;l[h++]=_&255,h<l.length&&(l[h++]=_>>8&255),h<l.length&&(l[h++]=_>>16&255),D===6?(h<l.length&&(l[h++]=_>>24&255),m=0,D=0):(m=_>>>24,D+=2)}if(h<l.length)for(l[h++]=m;h<l.length;)l[h++]=0},s.prototype._toArrayLikeBE=function(l,p){for(var h=l.length-1,m=0,T=0,D=0;T<this.length;T++){var _=this.words[T]<<D|m;l[h--]=_&255,h>=0&&(l[h--]=_>>8&255),h>=0&&(l[h--]=_>>16&255),D===6?(h>=0&&(l[h--]=_>>24&255),m=0,D=0):(m=_>>>24,D+=2)}if(h>=0)for(l[h--]=m;h>=0;)l[h--]=0},Math.clz32?s.prototype._countBits=function(l){return 32-Math.clz32(l)}:s.prototype._countBits=function(l){var p=l,h=0;return p>=4096&&(h+=13,p>>>=13),p>=64&&(h+=7,p>>>=7),p>=8&&(h+=4,p>>>=4),p>=2&&(h+=2,p>>>=2),h+p},s.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,h=0;return p&8191||(h+=13,p>>>=13),p&127||(h+=7,p>>>=7),p&15||(h+=4,p>>>=4),p&3||(h+=2,p>>>=2),p&1||h++,h},s.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function $(O){for(var l=new Array(O.bitLength()),p=0;p<l.length;p++){var h=p/26|0,m=p%26;l[p]=O.words[h]>>>m&1}return l}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var h=this._zeroBits(this.words[p]);if(l+=h,h!==26)break}return l},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},s.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this._strip()},s.prototype.ior=function(l){return i((this.negative|l.negative)===0),this.iuor(l)},s.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},s.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},s.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var h=0;h<p.length;h++)this.words[h]=this.words[h]&l.words[h];return this.length=p.length,this._strip()},s.prototype.iand=function(l){return i((this.negative|l.negative)===0),this.iuand(l)},s.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},s.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},s.prototype.iuxor=function(l){var p,h;this.length>l.length?(p=this,h=l):(p=l,h=this);for(var m=0;m<h.length;m++)this.words[m]=p.words[m]^h.words[m];if(this!==p)for(;m<p.length;m++)this.words[m]=p.words[m];return this.length=p.length,this._strip()},s.prototype.ixor=function(l){return i((this.negative|l.negative)===0),this.iuxor(l)},s.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},s.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},s.prototype.inotn=function(l){i(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,h=l%26;this._expand(p),h>0&&p--;for(var m=0;m<p;m++)this.words[m]=~this.words[m]&67108863;return h>0&&(this.words[m]=~this.words[m]&67108863>>26-h),this._strip()},s.prototype.notn=function(l){return this.clone().inotn(l)},s.prototype.setn=function(l,p){i(typeof l=="number"&&l>=0);var h=l/26|0,m=l%26;return this._expand(h+1),p?this.words[h]=this.words[h]|1<<m:this.words[h]=this.words[h]&~(1<<m),this._strip()},s.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var h,m;this.length>l.length?(h=this,m=l):(h=l,m=this);for(var T=0,D=0;D<m.length;D++)p=(h.words[D]|0)+(m.words[D]|0)+T,this.words[D]=p&67108863,T=p>>>26;for(;T!==0&&D<h.length;D++)p=(h.words[D]|0)+T,this.words[D]=p&67108863,T=p>>>26;if(this.length=h.length,T!==0)this.words[this.length]=T,this.length++;else if(h!==this)for(;D<h.length;D++)this.words[D]=h.words[D];return this},s.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},s.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var h=this.cmp(l);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,T;h>0?(m=this,T=l):(m=l,T=this);for(var D=0,_=0;_<T.length;_++)p=(m.words[_]|0)-(T.words[_]|0)+D,D=p>>26,this.words[_]=p&67108863;for(;D!==0&&_<m.length;_++)p=(m.words[_]|0)+D,D=p>>26,this.words[_]=p&67108863;if(D===0&&_<m.length&&m!==this)for(;_<m.length;_++)this.words[_]=m.words[_];return this.length=Math.max(this.length,_),m!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(l){return this.clone().isub(l)};function q(O,l,p){p.negative=l.negative^O.negative;var h=O.length+l.length|0;p.length=h,h=h-1|0;var m=O.words[0]|0,T=l.words[0]|0,D=m*T,_=D&67108863,v=D/67108864|0;p.words[0]=_;for(var y=1;y<h;y++){for(var b=v>>>26,ee=v&67108863,be=Math.min(y,l.length-1),w=Math.max(0,y-O.length+1);w<=be;w++){var de=y-w|0;m=O.words[de]|0,T=l.words[w]|0,D=m*T+ee,b+=D/67108864|0,ee=D&67108863}p.words[y]=ee|0,v=b|0}return v!==0?p.words[y]=v|0:p.length--,p._strip()}var ie=function(l,p,h){var m=l.words,T=p.words,D=h.words,_=0,v,y,b,ee=m[0]|0,be=ee&8191,w=ee>>>13,de=m[1]|0,pe=de&8191,P=de>>>13,L=m[2]|0,H=L&8191,I=L>>>13,A=m[3]|0,E=A&8191,N=A>>>13,B=m[4]|0,G=B&8191,V=B>>>13,Q=m[5]|0,ne=Q&8191,fe=Q>>>13,xe=m[6]|0,ke=xe&8191,X=xe>>>13,K=m[7]|0,J=K&8191,j=K>>>13,re=m[8]|0,ae=re&8191,oe=re>>>13,le=m[9]|0,ye=le&8191,Pe=le>>>13,ve=T[0]|0,Ee=ve&8191,Se=ve>>>13,it=T[1]|0,Ue=it&8191,We=it>>>13,Ve=T[2]|0,Fe=Ve&8191,qe=Ve>>>13,we=T[3]|0,Te=we&8191,_e=we>>>13,Le=T[4]|0,Ie=Le&8191,je=Le>>>13,bt=T[5]|0,tt=bt&8191,nt=bt>>>13,hn=T[6]|0,lt=hn&8191,ut=hn>>>13,hi=T[7]|0,xt=hi&8191,vt=hi>>>13,yi=T[8]|0,Tt=yi&8191,wt=yi>>>13,mi=T[9]|0,At=mi&8191,Et=mi>>>13;h.negative=l.negative^p.negative,h.length=19,v=Math.imul(be,Ee),y=Math.imul(be,Se),y=y+Math.imul(w,Ee)|0,b=Math.imul(w,Se);var Dr=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,v=Math.imul(pe,Ee),y=Math.imul(pe,Se),y=y+Math.imul(P,Ee)|0,b=Math.imul(P,Se),v=v+Math.imul(be,Ue)|0,y=y+Math.imul(be,We)|0,y=y+Math.imul(w,Ue)|0,b=b+Math.imul(w,We)|0;var Br=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Br>>>26)|0,Br&=67108863,v=Math.imul(H,Ee),y=Math.imul(H,Se),y=y+Math.imul(I,Ee)|0,b=Math.imul(I,Se),v=v+Math.imul(pe,Ue)|0,y=y+Math.imul(pe,We)|0,y=y+Math.imul(P,Ue)|0,b=b+Math.imul(P,We)|0,v=v+Math.imul(be,Fe)|0,y=y+Math.imul(be,qe)|0,y=y+Math.imul(w,Fe)|0,b=b+Math.imul(w,qe)|0;var Lr=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,v=Math.imul(E,Ee),y=Math.imul(E,Se),y=y+Math.imul(N,Ee)|0,b=Math.imul(N,Se),v=v+Math.imul(H,Ue)|0,y=y+Math.imul(H,We)|0,y=y+Math.imul(I,Ue)|0,b=b+Math.imul(I,We)|0,v=v+Math.imul(pe,Fe)|0,y=y+Math.imul(pe,qe)|0,y=y+Math.imul(P,Fe)|0,b=b+Math.imul(P,qe)|0,v=v+Math.imul(be,Te)|0,y=y+Math.imul(be,_e)|0,y=y+Math.imul(w,Te)|0,b=b+Math.imul(w,_e)|0;var Ur=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,v=Math.imul(G,Ee),y=Math.imul(G,Se),y=y+Math.imul(V,Ee)|0,b=Math.imul(V,Se),v=v+Math.imul(E,Ue)|0,y=y+Math.imul(E,We)|0,y=y+Math.imul(N,Ue)|0,b=b+Math.imul(N,We)|0,v=v+Math.imul(H,Fe)|0,y=y+Math.imul(H,qe)|0,y=y+Math.imul(I,Fe)|0,b=b+Math.imul(I,qe)|0,v=v+Math.imul(pe,Te)|0,y=y+Math.imul(pe,_e)|0,y=y+Math.imul(P,Te)|0,b=b+Math.imul(P,_e)|0,v=v+Math.imul(be,Ie)|0,y=y+Math.imul(be,je)|0,y=y+Math.imul(w,Ie)|0,b=b+Math.imul(w,je)|0;var qr=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(qr>>>26)|0,qr&=67108863,v=Math.imul(ne,Ee),y=Math.imul(ne,Se),y=y+Math.imul(fe,Ee)|0,b=Math.imul(fe,Se),v=v+Math.imul(G,Ue)|0,y=y+Math.imul(G,We)|0,y=y+Math.imul(V,Ue)|0,b=b+Math.imul(V,We)|0,v=v+Math.imul(E,Fe)|0,y=y+Math.imul(E,qe)|0,y=y+Math.imul(N,Fe)|0,b=b+Math.imul(N,qe)|0,v=v+Math.imul(H,Te)|0,y=y+Math.imul(H,_e)|0,y=y+Math.imul(I,Te)|0,b=b+Math.imul(I,_e)|0,v=v+Math.imul(pe,Ie)|0,y=y+Math.imul(pe,je)|0,y=y+Math.imul(P,Ie)|0,b=b+Math.imul(P,je)|0,v=v+Math.imul(be,tt)|0,y=y+Math.imul(be,nt)|0,y=y+Math.imul(w,tt)|0,b=b+Math.imul(w,nt)|0;var $r=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+($r>>>26)|0,$r&=67108863,v=Math.imul(ke,Ee),y=Math.imul(ke,Se),y=y+Math.imul(X,Ee)|0,b=Math.imul(X,Se),v=v+Math.imul(ne,Ue)|0,y=y+Math.imul(ne,We)|0,y=y+Math.imul(fe,Ue)|0,b=b+Math.imul(fe,We)|0,v=v+Math.imul(G,Fe)|0,y=y+Math.imul(G,qe)|0,y=y+Math.imul(V,Fe)|0,b=b+Math.imul(V,qe)|0,v=v+Math.imul(E,Te)|0,y=y+Math.imul(E,_e)|0,y=y+Math.imul(N,Te)|0,b=b+Math.imul(N,_e)|0,v=v+Math.imul(H,Ie)|0,y=y+Math.imul(H,je)|0,y=y+Math.imul(I,Ie)|0,b=b+Math.imul(I,je)|0,v=v+Math.imul(pe,tt)|0,y=y+Math.imul(pe,nt)|0,y=y+Math.imul(P,tt)|0,b=b+Math.imul(P,nt)|0,v=v+Math.imul(be,lt)|0,y=y+Math.imul(be,ut)|0,y=y+Math.imul(w,lt)|0,b=b+Math.imul(w,ut)|0;var gu=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(gu>>>26)|0,gu&=67108863,v=Math.imul(J,Ee),y=Math.imul(J,Se),y=y+Math.imul(j,Ee)|0,b=Math.imul(j,Se),v=v+Math.imul(ke,Ue)|0,y=y+Math.imul(ke,We)|0,y=y+Math.imul(X,Ue)|0,b=b+Math.imul(X,We)|0,v=v+Math.imul(ne,Fe)|0,y=y+Math.imul(ne,qe)|0,y=y+Math.imul(fe,Fe)|0,b=b+Math.imul(fe,qe)|0,v=v+Math.imul(G,Te)|0,y=y+Math.imul(G,_e)|0,y=y+Math.imul(V,Te)|0,b=b+Math.imul(V,_e)|0,v=v+Math.imul(E,Ie)|0,y=y+Math.imul(E,je)|0,y=y+Math.imul(N,Ie)|0,b=b+Math.imul(N,je)|0,v=v+Math.imul(H,tt)|0,y=y+Math.imul(H,nt)|0,y=y+Math.imul(I,tt)|0,b=b+Math.imul(I,nt)|0,v=v+Math.imul(pe,lt)|0,y=y+Math.imul(pe,ut)|0,y=y+Math.imul(P,lt)|0,b=b+Math.imul(P,ut)|0,v=v+Math.imul(be,xt)|0,y=y+Math.imul(be,vt)|0,y=y+Math.imul(w,xt)|0,b=b+Math.imul(w,vt)|0;var bu=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(bu>>>26)|0,bu&=67108863,v=Math.imul(ae,Ee),y=Math.imul(ae,Se),y=y+Math.imul(oe,Ee)|0,b=Math.imul(oe,Se),v=v+Math.imul(J,Ue)|0,y=y+Math.imul(J,We)|0,y=y+Math.imul(j,Ue)|0,b=b+Math.imul(j,We)|0,v=v+Math.imul(ke,Fe)|0,y=y+Math.imul(ke,qe)|0,y=y+Math.imul(X,Fe)|0,b=b+Math.imul(X,qe)|0,v=v+Math.imul(ne,Te)|0,y=y+Math.imul(ne,_e)|0,y=y+Math.imul(fe,Te)|0,b=b+Math.imul(fe,_e)|0,v=v+Math.imul(G,Ie)|0,y=y+Math.imul(G,je)|0,y=y+Math.imul(V,Ie)|0,b=b+Math.imul(V,je)|0,v=v+Math.imul(E,tt)|0,y=y+Math.imul(E,nt)|0,y=y+Math.imul(N,tt)|0,b=b+Math.imul(N,nt)|0,v=v+Math.imul(H,lt)|0,y=y+Math.imul(H,ut)|0,y=y+Math.imul(I,lt)|0,b=b+Math.imul(I,ut)|0,v=v+Math.imul(pe,xt)|0,y=y+Math.imul(pe,vt)|0,y=y+Math.imul(P,xt)|0,b=b+Math.imul(P,vt)|0,v=v+Math.imul(be,Tt)|0,y=y+Math.imul(be,wt)|0,y=y+Math.imul(w,Tt)|0,b=b+Math.imul(w,wt)|0;var xu=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(xu>>>26)|0,xu&=67108863,v=Math.imul(ye,Ee),y=Math.imul(ye,Se),y=y+Math.imul(Pe,Ee)|0,b=Math.imul(Pe,Se),v=v+Math.imul(ae,Ue)|0,y=y+Math.imul(ae,We)|0,y=y+Math.imul(oe,Ue)|0,b=b+Math.imul(oe,We)|0,v=v+Math.imul(J,Fe)|0,y=y+Math.imul(J,qe)|0,y=y+Math.imul(j,Fe)|0,b=b+Math.imul(j,qe)|0,v=v+Math.imul(ke,Te)|0,y=y+Math.imul(ke,_e)|0,y=y+Math.imul(X,Te)|0,b=b+Math.imul(X,_e)|0,v=v+Math.imul(ne,Ie)|0,y=y+Math.imul(ne,je)|0,y=y+Math.imul(fe,Ie)|0,b=b+Math.imul(fe,je)|0,v=v+Math.imul(G,tt)|0,y=y+Math.imul(G,nt)|0,y=y+Math.imul(V,tt)|0,b=b+Math.imul(V,nt)|0,v=v+Math.imul(E,lt)|0,y=y+Math.imul(E,ut)|0,y=y+Math.imul(N,lt)|0,b=b+Math.imul(N,ut)|0,v=v+Math.imul(H,xt)|0,y=y+Math.imul(H,vt)|0,y=y+Math.imul(I,xt)|0,b=b+Math.imul(I,vt)|0,v=v+Math.imul(pe,Tt)|0,y=y+Math.imul(pe,wt)|0,y=y+Math.imul(P,Tt)|0,b=b+Math.imul(P,wt)|0,v=v+Math.imul(be,At)|0,y=y+Math.imul(be,Et)|0,y=y+Math.imul(w,At)|0,b=b+Math.imul(w,Et)|0;var vu=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(vu>>>26)|0,vu&=67108863,v=Math.imul(ye,Ue),y=Math.imul(ye,We),y=y+Math.imul(Pe,Ue)|0,b=Math.imul(Pe,We),v=v+Math.imul(ae,Fe)|0,y=y+Math.imul(ae,qe)|0,y=y+Math.imul(oe,Fe)|0,b=b+Math.imul(oe,qe)|0,v=v+Math.imul(J,Te)|0,y=y+Math.imul(J,_e)|0,y=y+Math.imul(j,Te)|0,b=b+Math.imul(j,_e)|0,v=v+Math.imul(ke,Ie)|0,y=y+Math.imul(ke,je)|0,y=y+Math.imul(X,Ie)|0,b=b+Math.imul(X,je)|0,v=v+Math.imul(ne,tt)|0,y=y+Math.imul(ne,nt)|0,y=y+Math.imul(fe,tt)|0,b=b+Math.imul(fe,nt)|0,v=v+Math.imul(G,lt)|0,y=y+Math.imul(G,ut)|0,y=y+Math.imul(V,lt)|0,b=b+Math.imul(V,ut)|0,v=v+Math.imul(E,xt)|0,y=y+Math.imul(E,vt)|0,y=y+Math.imul(N,xt)|0,b=b+Math.imul(N,vt)|0,v=v+Math.imul(H,Tt)|0,y=y+Math.imul(H,wt)|0,y=y+Math.imul(I,Tt)|0,b=b+Math.imul(I,wt)|0,v=v+Math.imul(pe,At)|0,y=y+Math.imul(pe,Et)|0,y=y+Math.imul(P,At)|0,b=b+Math.imul(P,Et)|0;var Tu=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Tu>>>26)|0,Tu&=67108863,v=Math.imul(ye,Fe),y=Math.imul(ye,qe),y=y+Math.imul(Pe,Fe)|0,b=Math.imul(Pe,qe),v=v+Math.imul(ae,Te)|0,y=y+Math.imul(ae,_e)|0,y=y+Math.imul(oe,Te)|0,b=b+Math.imul(oe,_e)|0,v=v+Math.imul(J,Ie)|0,y=y+Math.imul(J,je)|0,y=y+Math.imul(j,Ie)|0,b=b+Math.imul(j,je)|0,v=v+Math.imul(ke,tt)|0,y=y+Math.imul(ke,nt)|0,y=y+Math.imul(X,tt)|0,b=b+Math.imul(X,nt)|0,v=v+Math.imul(ne,lt)|0,y=y+Math.imul(ne,ut)|0,y=y+Math.imul(fe,lt)|0,b=b+Math.imul(fe,ut)|0,v=v+Math.imul(G,xt)|0,y=y+Math.imul(G,vt)|0,y=y+Math.imul(V,xt)|0,b=b+Math.imul(V,vt)|0,v=v+Math.imul(E,Tt)|0,y=y+Math.imul(E,wt)|0,y=y+Math.imul(N,Tt)|0,b=b+Math.imul(N,wt)|0,v=v+Math.imul(H,At)|0,y=y+Math.imul(H,Et)|0,y=y+Math.imul(I,At)|0,b=b+Math.imul(I,Et)|0;var wu=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(wu>>>26)|0,wu&=67108863,v=Math.imul(ye,Te),y=Math.imul(ye,_e),y=y+Math.imul(Pe,Te)|0,b=Math.imul(Pe,_e),v=v+Math.imul(ae,Ie)|0,y=y+Math.imul(ae,je)|0,y=y+Math.imul(oe,Ie)|0,b=b+Math.imul(oe,je)|0,v=v+Math.imul(J,tt)|0,y=y+Math.imul(J,nt)|0,y=y+Math.imul(j,tt)|0,b=b+Math.imul(j,nt)|0,v=v+Math.imul(ke,lt)|0,y=y+Math.imul(ke,ut)|0,y=y+Math.imul(X,lt)|0,b=b+Math.imul(X,ut)|0,v=v+Math.imul(ne,xt)|0,y=y+Math.imul(ne,vt)|0,y=y+Math.imul(fe,xt)|0,b=b+Math.imul(fe,vt)|0,v=v+Math.imul(G,Tt)|0,y=y+Math.imul(G,wt)|0,y=y+Math.imul(V,Tt)|0,b=b+Math.imul(V,wt)|0,v=v+Math.imul(E,At)|0,y=y+Math.imul(E,Et)|0,y=y+Math.imul(N,At)|0,b=b+Math.imul(N,Et)|0;var Au=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Au>>>26)|0,Au&=67108863,v=Math.imul(ye,Ie),y=Math.imul(ye,je),y=y+Math.imul(Pe,Ie)|0,b=Math.imul(Pe,je),v=v+Math.imul(ae,tt)|0,y=y+Math.imul(ae,nt)|0,y=y+Math.imul(oe,tt)|0,b=b+Math.imul(oe,nt)|0,v=v+Math.imul(J,lt)|0,y=y+Math.imul(J,ut)|0,y=y+Math.imul(j,lt)|0,b=b+Math.imul(j,ut)|0,v=v+Math.imul(ke,xt)|0,y=y+Math.imul(ke,vt)|0,y=y+Math.imul(X,xt)|0,b=b+Math.imul(X,vt)|0,v=v+Math.imul(ne,Tt)|0,y=y+Math.imul(ne,wt)|0,y=y+Math.imul(fe,Tt)|0,b=b+Math.imul(fe,wt)|0,v=v+Math.imul(G,At)|0,y=y+Math.imul(G,Et)|0,y=y+Math.imul(V,At)|0,b=b+Math.imul(V,Et)|0;var Eu=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Eu>>>26)|0,Eu&=67108863,v=Math.imul(ye,tt),y=Math.imul(ye,nt),y=y+Math.imul(Pe,tt)|0,b=Math.imul(Pe,nt),v=v+Math.imul(ae,lt)|0,y=y+Math.imul(ae,ut)|0,y=y+Math.imul(oe,lt)|0,b=b+Math.imul(oe,ut)|0,v=v+Math.imul(J,xt)|0,y=y+Math.imul(J,vt)|0,y=y+Math.imul(j,xt)|0,b=b+Math.imul(j,vt)|0,v=v+Math.imul(ke,Tt)|0,y=y+Math.imul(ke,wt)|0,y=y+Math.imul(X,Tt)|0,b=b+Math.imul(X,wt)|0,v=v+Math.imul(ne,At)|0,y=y+Math.imul(ne,Et)|0,y=y+Math.imul(fe,At)|0,b=b+Math.imul(fe,Et)|0;var _u=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(_u>>>26)|0,_u&=67108863,v=Math.imul(ye,lt),y=Math.imul(ye,ut),y=y+Math.imul(Pe,lt)|0,b=Math.imul(Pe,ut),v=v+Math.imul(ae,xt)|0,y=y+Math.imul(ae,vt)|0,y=y+Math.imul(oe,xt)|0,b=b+Math.imul(oe,vt)|0,v=v+Math.imul(J,Tt)|0,y=y+Math.imul(J,wt)|0,y=y+Math.imul(j,Tt)|0,b=b+Math.imul(j,wt)|0,v=v+Math.imul(ke,At)|0,y=y+Math.imul(ke,Et)|0,y=y+Math.imul(X,At)|0,b=b+Math.imul(X,Et)|0;var ku=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(ku>>>26)|0,ku&=67108863,v=Math.imul(ye,xt),y=Math.imul(ye,vt),y=y+Math.imul(Pe,xt)|0,b=Math.imul(Pe,vt),v=v+Math.imul(ae,Tt)|0,y=y+Math.imul(ae,wt)|0,y=y+Math.imul(oe,Tt)|0,b=b+Math.imul(oe,wt)|0,v=v+Math.imul(J,At)|0,y=y+Math.imul(J,Et)|0,y=y+Math.imul(j,At)|0,b=b+Math.imul(j,Et)|0;var Pu=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Pu>>>26)|0,Pu&=67108863,v=Math.imul(ye,Tt),y=Math.imul(ye,wt),y=y+Math.imul(Pe,Tt)|0,b=Math.imul(Pe,wt),v=v+Math.imul(ae,At)|0,y=y+Math.imul(ae,Et)|0,y=y+Math.imul(oe,At)|0,b=b+Math.imul(oe,Et)|0;var Su=(_+v|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Su>>>26)|0,Su&=67108863,v=Math.imul(ye,At),y=Math.imul(ye,Et),y=y+Math.imul(Pe,At)|0,b=Math.imul(Pe,Et);var Iu=(_+v|0)+((y&8191)<<13)|0;return _=(b+(y>>>13)|0)+(Iu>>>26)|0,Iu&=67108863,D[0]=Dr,D[1]=Br,D[2]=Lr,D[3]=Ur,D[4]=qr,D[5]=$r,D[6]=gu,D[7]=bu,D[8]=xu,D[9]=vu,D[10]=Tu,D[11]=wu,D[12]=Au,D[13]=Eu,D[14]=_u,D[15]=ku,D[16]=Pu,D[17]=Su,D[18]=Iu,_!==0&&(D[19]=_,h.length++),h};Math.imul||(ie=q);function te(O,l,p){p.negative=l.negative^O.negative,p.length=O.length+l.length;for(var h=0,m=0,T=0;T<p.length-1;T++){var D=m;m=0;for(var _=h&67108863,v=Math.min(T,l.length-1),y=Math.max(0,T-O.length+1);y<=v;y++){var b=T-y,ee=O.words[b]|0,be=l.words[y]|0,w=ee*be,de=w&67108863;D=D+(w/67108864|0)|0,de=de+_|0,_=de&67108863,D=D+(de>>>26)|0,m+=D>>>26,D&=67108863}p.words[T]=_,h=D,D=m}return h!==0?p.words[T]=h:p.length--,p._strip()}function he(O,l,p){return te(O,l,p)}s.prototype.mulTo=function(l,p){var h,m=this.length+l.length;return this.length===10&&l.length===10?h=ie(this,l,p):m<63?h=q(this,l,p):m<1024?h=te(this,l,p):h=he(this,l,p),h},s.prototype.mul=function(l){var p=new s(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},s.prototype.mulf=function(l){var p=new s(null);return p.words=new Array(this.length+l.length),he(this,l,p)},s.prototype.imul=function(l){return this.clone().mulTo(l,this)},s.prototype.imuln=function(l){var p=l<0;p&&(l=-l),i(typeof l=="number"),i(l<67108864);for(var h=0,m=0;m<this.length;m++){var T=(this.words[m]|0)*l,D=(T&67108863)+(h&67108863);h>>=26,h+=T/67108864|0,h+=D>>>26,this.words[m]=D&67108863}return h!==0&&(this.words[m]=h,this.length++),p?this.ineg():this},s.prototype.muln=function(l){return this.clone().imuln(l)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(l){var p=$(l);if(p.length===0)return new s(1);for(var h=this,m=0;m<p.length&&p[m]===0;m++,h=h.sqr());if(++m<p.length)for(var T=h.sqr();m<p.length;m++,T=T.sqr())p[m]!==0&&(h=h.mul(T));return h},s.prototype.iushln=function(l){i(typeof l=="number"&&l>=0);var p=l%26,h=(l-p)/26,m=67108863>>>26-p<<26-p,T;if(p!==0){var D=0;for(T=0;T<this.length;T++){var _=this.words[T]&m,v=(this.words[T]|0)-_<<p;this.words[T]=v|D,D=_>>>26-p}D&&(this.words[T]=D,this.length++)}if(h!==0){for(T=this.length-1;T>=0;T--)this.words[T+h]=this.words[T];for(T=0;T<h;T++)this.words[T]=0;this.length+=h}return this._strip()},s.prototype.ishln=function(l){return i(this.negative===0),this.iushln(l)},s.prototype.iushrn=function(l,p,h){i(typeof l=="number"&&l>=0);var m;p?m=(p-p%26)/26:m=0;var T=l%26,D=Math.min((l-T)/26,this.length),_=67108863^67108863>>>T<<T,v=h;if(m-=D,m=Math.max(0,m),v){for(var y=0;y<D;y++)v.words[y]=this.words[y];v.length=D}if(D!==0)if(this.length>D)for(this.length-=D,y=0;y<this.length;y++)this.words[y]=this.words[y+D];else this.words[0]=0,this.length=1;var b=0;for(y=this.length-1;y>=0&&(b!==0||y>=m);y--){var ee=this.words[y]|0;this.words[y]=b<<26-T|ee>>>T,b=ee&_}return v&&b!==0&&(v.words[v.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(l,p,h){return i(this.negative===0),this.iushrn(l,p,h)},s.prototype.shln=function(l){return this.clone().ishln(l)},s.prototype.ushln=function(l){return this.clone().iushln(l)},s.prototype.shrn=function(l){return this.clone().ishrn(l)},s.prototype.ushrn=function(l){return this.clone().iushrn(l)},s.prototype.testn=function(l){i(typeof l=="number"&&l>=0);var p=l%26,h=(l-p)/26,m=1<<p;if(this.length<=h)return!1;var T=this.words[h];return!!(T&m)},s.prototype.imaskn=function(l){i(typeof l=="number"&&l>=0);var p=l%26,h=(l-p)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(p!==0&&h++,this.length=Math.min(h,this.length),p!==0){var m=67108863^67108863>>>p<<p;this.words[this.length-1]&=m}return this._strip()},s.prototype.maskn=function(l){return this.clone().imaskn(l)},s.prototype.iaddn=function(l){return i(typeof l=="number"),i(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},s.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(l){if(i(typeof l=="number"),i(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(l){return this.clone().iaddn(l)},s.prototype.subn=function(l){return this.clone().isubn(l)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(l,p,h){var m=l.length+h,T;this._expand(m);var D,_=0;for(T=0;T<l.length;T++){D=(this.words[T+h]|0)+_;var v=(l.words[T]|0)*p;D-=v&67108863,_=(D>>26)-(v/67108864|0),this.words[T+h]=D&67108863}for(;T<this.length-h;T++)D=(this.words[T+h]|0)+_,_=D>>26,this.words[T+h]=D&67108863;if(_===0)return this._strip();for(i(_===-1),_=0,T=0;T<this.length;T++)D=-(this.words[T]|0)+_,_=D>>26,this.words[T]=D&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(l,p){var h=this.length-l.length,m=this.clone(),T=l,D=T.words[T.length-1]|0,_=this._countBits(D);h=26-_,h!==0&&(T=T.ushln(h),m.iushln(h),D=T.words[T.length-1]|0);var v=m.length-T.length,y;if(p!=="mod"){y=new s(null),y.length=v+1,y.words=new Array(y.length);for(var b=0;b<y.length;b++)y.words[b]=0}var ee=m.clone()._ishlnsubmul(T,1,v);ee.negative===0&&(m=ee,y&&(y.words[v]=1));for(var be=v-1;be>=0;be--){var w=(m.words[T.length+be]|0)*67108864+(m.words[T.length+be-1]|0);for(w=Math.min(w/D|0,67108863),m._ishlnsubmul(T,w,be);m.negative!==0;)w--,m.negative=0,m._ishlnsubmul(T,1,be),m.isZero()||(m.negative^=1);y&&(y.words[be]=w)}return y&&y._strip(),m._strip(),p!=="div"&&h!==0&&m.iushrn(h),{div:y||null,mod:m}},s.prototype.divmod=function(l,p,h){if(i(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,T,D;return this.negative!==0&&l.negative===0?(D=this.neg().divmod(l,p),p!=="mod"&&(m=D.div.neg()),p!=="div"&&(T=D.mod.neg(),h&&T.negative!==0&&T.iadd(l)),{div:m,mod:T}):this.negative===0&&l.negative!==0?(D=this.divmod(l.neg(),p),p!=="mod"&&(m=D.div.neg()),{div:m,mod:D.mod}):this.negative&l.negative?(D=this.neg().divmod(l.neg(),p),p!=="div"&&(T=D.mod.neg(),h&&T.negative!==0&&T.isub(l)),{div:D.div,mod:T}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,p)},s.prototype.div=function(l){return this.divmod(l,"div",!1).div},s.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},s.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},s.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var h=p.div.negative!==0?p.mod.isub(l):p.mod,m=l.ushrn(1),T=l.andln(1),D=h.cmp(m);return D<0||T===1&&D===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(l){var p=l<0;p&&(l=-l),i(l<=67108863);for(var h=(1<<26)%l,m=0,T=this.length-1;T>=0;T--)m=(h*m+(this.words[T]|0))%l;return p?-m:m},s.prototype.modn=function(l){return this.modrn(l)},s.prototype.idivn=function(l){var p=l<0;p&&(l=-l),i(l<=67108863);for(var h=0,m=this.length-1;m>=0;m--){var T=(this.words[m]|0)+h*67108864;this.words[m]=T/l|0,h=T%l}return this._strip(),p?this.ineg():this},s.prototype.divn=function(l){return this.clone().idivn(l)},s.prototype.egcd=function(l){i(l.negative===0),i(!l.isZero());var p=this,h=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var m=new s(1),T=new s(0),D=new s(0),_=new s(1),v=0;p.isEven()&&h.isEven();)p.iushrn(1),h.iushrn(1),++v;for(var y=h.clone(),b=p.clone();!p.isZero();){for(var ee=0,be=1;!(p.words[0]&be)&&ee<26;++ee,be<<=1);if(ee>0)for(p.iushrn(ee);ee-- >0;)(m.isOdd()||T.isOdd())&&(m.iadd(y),T.isub(b)),m.iushrn(1),T.iushrn(1);for(var w=0,de=1;!(h.words[0]&de)&&w<26;++w,de<<=1);if(w>0)for(h.iushrn(w);w-- >0;)(D.isOdd()||_.isOdd())&&(D.iadd(y),_.isub(b)),D.iushrn(1),_.iushrn(1);p.cmp(h)>=0?(p.isub(h),m.isub(D),T.isub(_)):(h.isub(p),D.isub(m),_.isub(T))}return{a:D,b:_,gcd:h.iushln(v)}},s.prototype._invmp=function(l){i(l.negative===0),i(!l.isZero());var p=this,h=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var m=new s(1),T=new s(0),D=h.clone();p.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,v=1;!(p.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(p.iushrn(_);_-- >0;)m.isOdd()&&m.iadd(D),m.iushrn(1);for(var y=0,b=1;!(h.words[0]&b)&&y<26;++y,b<<=1);if(y>0)for(h.iushrn(y);y-- >0;)T.isOdd()&&T.iadd(D),T.iushrn(1);p.cmp(h)>=0?(p.isub(h),m.isub(T)):(h.isub(p),T.isub(m))}var ee;return p.cmpn(1)===0?ee=m:ee=T,ee.cmpn(0)<0&&ee.iadd(l),ee},s.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),h=l.clone();p.negative=0,h.negative=0;for(var m=0;p.isEven()&&h.isEven();m++)p.iushrn(1),h.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;h.isEven();)h.iushrn(1);var T=p.cmp(h);if(T<0){var D=p;p=h,h=D}else if(T===0||h.cmpn(1)===0)break;p.isub(h)}while(!0);return h.iushln(m)},s.prototype.invm=function(l){return this.egcd(l).a.umod(l)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(l){return this.words[0]&l},s.prototype.bincn=function(l){i(typeof l=="number");var p=l%26,h=(l-p)/26,m=1<<p;if(this.length<=h)return this._expand(h+1),this.words[h]|=m,this;for(var T=m,D=h;T!==0&&D<this.length;D++){var _=this.words[D]|0;_+=T,T=_>>>26,_&=67108863,this.words[D]=_}return T!==0&&(this.words[D]=T,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var h;if(this.length>1)h=1;else{p&&(l=-l),i(l<=67108863,"Number is too big");var m=this.words[0]|0;h=m===l?0:m<l?-1:1}return this.negative!==0?-h|0:h},s.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,h=this.length-1;h>=0;h--){var m=this.words[h]|0,T=l.words[h]|0;if(m!==T){m<T?p=-1:m>T&&(p=1);break}}return p},s.prototype.gtn=function(l){return this.cmpn(l)===1},s.prototype.gt=function(l){return this.cmp(l)===1},s.prototype.gten=function(l){return this.cmpn(l)>=0},s.prototype.gte=function(l){return this.cmp(l)>=0},s.prototype.ltn=function(l){return this.cmpn(l)===-1},s.prototype.lt=function(l){return this.cmp(l)===-1},s.prototype.lten=function(l){return this.cmpn(l)<=0},s.prototype.lte=function(l){return this.cmp(l)<=0},s.prototype.eqn=function(l){return this.cmpn(l)===0},s.prototype.eq=function(l){return this.cmp(l)===0},s.red=function(l){return new W(l)},s.prototype.toRed=function(l){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(l){return this.red=l,this},s.prototype.forceRed=function(l){return i(!this.red,"Already a number in reduction context"),this._forceRed(l)},s.prototype.redAdd=function(l){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},s.prototype.redIAdd=function(l){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},s.prototype.redSub=function(l){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},s.prototype.redISub=function(l){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},s.prototype.redShl=function(l){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},s.prototype.redMul=function(l){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},s.prototype.redIMul=function(l){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(l){return i(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ue={k256:null,p224:null,p192:null,p25519:null};function me(O,l){this.name=O,this.p=new s(l,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}me.prototype._tmp=function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},me.prototype.ireduce=function(l){var p=l,h;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),h=p.bitLength();while(h>this.n);var m=h<this.n?-1:p.ucmp(this.p);return m===0?(p.words[0]=0,p.length=1):m>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},me.prototype.split=function(l,p){l.iushrn(this.n,0,p)},me.prototype.imulK=function(l){return l.imul(this.k)};function M(){me.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(M,me),M.prototype.split=function(l,p){for(var h=4194303,m=Math.min(l.length,9),T=0;T<m;T++)p.words[T]=l.words[T];if(p.length=m,l.length<=9){l.words[0]=0,l.length=1;return}var D=l.words[9];for(p.words[p.length++]=D&h,T=10;T<l.length;T++){var _=l.words[T]|0;l.words[T-10]=(_&h)<<4|D>>>22,D=_}D>>>=22,l.words[T-10]=D,D===0&&l.length>10?l.length-=10:l.length-=9},M.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,h=0;h<l.length;h++){var m=l.words[h]|0;p+=m*977,l.words[h]=p&67108863,p=m*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function S(){me.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(S,me);function U(){me.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(U,me);function Y(){me.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Y,me),Y.prototype.imulK=function(l){for(var p=0,h=0;h<l.length;h++){var m=(l.words[h]|0)*19+p,T=m&67108863;m>>>=26,l.words[h]=T,p=m}return p!==0&&(l.words[l.length++]=p),l},s._prime=function(l){if(ue[l])return ue[l];var p;if(l==="k256")p=new M;else if(l==="p224")p=new S;else if(l==="p192")p=new U;else if(l==="p25519")p=new Y;else throw new Error("Unknown prime "+l);return ue[l]=p,p};function W(O){if(typeof O=="string"){var l=s._prime(O);this.m=l.p,this.prime=l}else i(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}W.prototype._verify1=function(l){i(l.negative===0,"red works only with positives"),i(l.red,"red works only with red numbers")},W.prototype._verify2=function(l,p){i((l.negative|p.negative)===0,"red works only with positives"),i(l.red&&l.red===p.red,"red works only with red numbers")},W.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(f(l,l.umod(this.m)._forceRed(this)),l)},W.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},W.prototype.add=function(l,p){this._verify2(l,p);var h=l.add(p);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},W.prototype.iadd=function(l,p){this._verify2(l,p);var h=l.iadd(p);return h.cmp(this.m)>=0&&h.isub(this.m),h},W.prototype.sub=function(l,p){this._verify2(l,p);var h=l.sub(p);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},W.prototype.isub=function(l,p){this._verify2(l,p);var h=l.isub(p);return h.cmpn(0)<0&&h.iadd(this.m),h},W.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},W.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},W.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},W.prototype.isqr=function(l){return this.imul(l,l.clone())},W.prototype.sqr=function(l){return this.mul(l,l)},W.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(i(p%2===1),p===3){var h=this.m.add(new s(1)).iushrn(2);return this.pow(l,h)}for(var m=this.m.subn(1),T=0;!m.isZero()&&m.andln(1)===0;)T++,m.iushrn(1);i(!m.isZero());var D=new s(1).toRed(this),_=D.redNeg(),v=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new s(2*y*y).toRed(this);this.pow(y,v).cmp(_)!==0;)y.redIAdd(_);for(var b=this.pow(y,m),ee=this.pow(l,m.addn(1).iushrn(1)),be=this.pow(l,m),w=T;be.cmp(D)!==0;){for(var de=be,pe=0;de.cmp(D)!==0;pe++)de=de.redSqr();i(pe<w);var P=this.pow(b,new s(1).iushln(w-pe-1));ee=ee.redMul(P),b=P.redSqr(),be=be.redMul(b),w=pe}return ee},W.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},W.prototype.pow=function(l,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var h=4,m=new Array(1<<h);m[0]=new s(1).toRed(this),m[1]=l;for(var T=2;T<m.length;T++)m[T]=this.mul(m[T-1],l);var D=m[0],_=0,v=0,y=p.bitLength()%26;for(y===0&&(y=26),T=p.length-1;T>=0;T--){for(var b=p.words[T],ee=y-1;ee>=0;ee--){var be=b>>ee&1;if(D!==m[0]&&(D=this.sqr(D)),be===0&&_===0){v=0;continue}_<<=1,_|=be,v++,!(v!==h&&(T!==0||ee!==0))&&(D=this.mul(D,m[_]),v=0,_=0)}y=26}return D},W.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},W.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},s.mont=function(l){return new Z(l)};function Z(O){W.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Z,W),Z.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Z.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},Z.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var h=l.imul(p),m=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=h.isub(m).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},Z.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new s(0)._forceRed(this);var h=l.mul(p),m=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=h.isub(m).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},Z.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof e>"u"||e,n)}}),E9=Z1({"../../node_modules/.pnpm/js-sha3@0.8.0/node_modules/js-sha3/src/sha3.js"(n,e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",a=i?window:{};a.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&typeof self=="object",o=!a.JS_SHA3_NO_NODE_JS&&typeof Ba=="object"&&Ba.versions&&Ba.versions.node;o?a=eo:s&&(a=self);var u=!a.JS_SHA3_NO_COMMON_JS&&typeof e=="object"&&e.exports,c=typeof define=="function"&&define.amd,d=!a.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),g=[31,7936,2031616,520093696],x=[4,1024,262144,67108864],C=[1,256,65536,16777216],k=[6,1536,393216,100663296],R=[0,8,16,24],$=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],q=[224,256,384,512],ie=[128,256],te=["hex","buffer","arrayBuffer","array","digest"],he={128:168,256:136};(a.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(w){return Object.prototype.toString.call(w)==="[object Array]"}),d&&(a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(w){return typeof w=="object"&&w.buffer&&w.buffer.constructor===ArrayBuffer});for(var ue=function(w,de,pe){return function(P){return new b(w,de,w).update(P)[pe]()}},me=function(w,de,pe){return function(P,L){return new b(w,de,L).update(P)[pe]()}},M=function(w,de,pe){return function(P,L,H,I){return p["cshake"+w].update(P,L,H,I)[pe]()}},S=function(w,de,pe){return function(P,L,H,I){return p["kmac"+w].update(P,L,H,I)[pe]()}},U=function(w,de,pe,P){for(var L=0;L<te.length;++L){var H=te[L];w[H]=de(pe,P,H)}return w},Y=function(w,de){var pe=ue(w,de,"hex");return pe.create=function(){return new b(w,de,w)},pe.update=function(P){return pe.create().update(P)},U(pe,ue,w,de)},W=function(w,de){var pe=me(w,de,"hex");return pe.create=function(P){return new b(w,de,P)},pe.update=function(P,L){return pe.create(L).update(P)},U(pe,me,w,de)},Z=function(w,de){var pe=he[w],P=M(w,de,"hex");return P.create=function(L,H,I){return!H&&!I?p["shake"+w].create(L):new b(w,de,L).bytepad([H,I],pe)},P.update=function(L,H,I,A){return P.create(H,I,A).update(L)},U(P,M,w,de)},O=function(w,de){var pe=he[w],P=S(w,de,"hex");return P.create=function(L,H,I){return new ee(w,de,H).bytepad(["KMAC",I],pe).bytepad([L],pe)},P.update=function(L,H,I,A){return P.create(L,I,A).update(H)},U(P,S,w,de)},l=[{name:"keccak",padding:C,bits:q,createMethod:Y},{name:"sha3",padding:k,bits:q,createMethod:Y},{name:"shake",padding:g,bits:ie,createMethod:W},{name:"cshake",padding:x,bits:ie,createMethod:Z},{name:"kmac",padding:x,bits:ie,createMethod:O}],p={},h=[],m=0;m<l.length;++m)for(var T=l[m],D=T.bits,_=0;_<D.length;++_){var v=T.name+"_"+D[_];if(h.push(v),p[v]=T.createMethod(D[_],T.padding),T.name!=="sha3"){var y=T.name+D[_];h.push(y),p[y]=p[v]}}function b(w,de,pe){this.blocks=[],this.s=[],this.padding=de,this.outputBits=pe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(w<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=pe>>5,this.extraBytes=(pe&31)>>3;for(var P=0;P<50;++P)this.s[P]=0}b.prototype.update=function(w){if(this.finalized)throw new Error(r);var de,pe=typeof w;if(pe!=="string"){if(pe==="object"){if(w===null)throw new Error(t);if(d&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!d||!ArrayBuffer.isView(w)))throw new Error(t)}else throw new Error(t);de=!0}for(var P=this.blocks,L=this.byteCount,H=w.length,I=this.blockCount,A=0,E=this.s,N,B;A<H;){if(this.reset)for(this.reset=!1,P[0]=this.block,N=1;N<I+1;++N)P[N]=0;if(de)for(N=this.start;A<H&&N<L;++A)P[N>>2]|=w[A]<<R[N++&3];else for(N=this.start;A<H&&N<L;++A)B=w.charCodeAt(A),B<128?P[N>>2]|=B<<R[N++&3]:B<2048?(P[N>>2]|=(192|B>>6)<<R[N++&3],P[N>>2]|=(128|B&63)<<R[N++&3]):B<55296||B>=57344?(P[N>>2]|=(224|B>>12)<<R[N++&3],P[N>>2]|=(128|B>>6&63)<<R[N++&3],P[N>>2]|=(128|B&63)<<R[N++&3]):(B=65536+((B&1023)<<10|w.charCodeAt(++A)&1023),P[N>>2]|=(240|B>>18)<<R[N++&3],P[N>>2]|=(128|B>>12&63)<<R[N++&3],P[N>>2]|=(128|B>>6&63)<<R[N++&3],P[N>>2]|=(128|B&63)<<R[N++&3]);if(this.lastByteIndex=N,N>=L){for(this.start=N-L,this.block=P[I],N=0;N<I;++N)E[N]^=P[N];be(E),this.reset=!0}else this.start=N}return this},b.prototype.encode=function(w,de){var pe=w&255,P=1,L=[pe];for(w=w>>8,pe=w&255;pe>0;)L.unshift(pe),w=w>>8,pe=w&255,++P;return de?L.push(P):L.unshift(P),this.update(L),L.length},b.prototype.encodeString=function(w){var de,pe=typeof w;if(pe!=="string"){if(pe==="object"){if(w===null)throw new Error(t);if(d&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!d||!ArrayBuffer.isView(w)))throw new Error(t)}else throw new Error(t);de=!0}var P=0,L=w.length;if(de)P=L;else for(var H=0;H<w.length;++H){var I=w.charCodeAt(H);I<128?P+=1:I<2048?P+=2:I<55296||I>=57344?P+=3:(I=65536+((I&1023)<<10|w.charCodeAt(++H)&1023),P+=4)}return P+=this.encode(P*8),this.update(w),P},b.prototype.bytepad=function(w,de){for(var pe=this.encode(de),P=0;P<w.length;++P)pe+=this.encodeString(w[P]);var L=de-pe%de,H=[];return H.length=L,this.update(H),this},b.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,de=this.lastByteIndex,pe=this.blockCount,P=this.s;if(w[de>>2]|=this.padding[de&3],this.lastByteIndex===this.byteCount)for(w[0]=w[pe],de=1;de<pe+1;++de)w[de]=0;for(w[pe-1]|=2147483648,de=0;de<pe;++de)P[de]^=w[de];be(P)}},b.prototype.toString=b.prototype.hex=function(){this.finalize();for(var w=this.blockCount,de=this.s,pe=this.outputBlocks,P=this.extraBytes,L=0,H=0,I="",A;H<pe;){for(L=0;L<w&&H<pe;++L,++H)A=de[L],I+=f[A>>4&15]+f[A&15]+f[A>>12&15]+f[A>>8&15]+f[A>>20&15]+f[A>>16&15]+f[A>>28&15]+f[A>>24&15];H%w===0&&(be(de),L=0)}return P&&(A=de[L],I+=f[A>>4&15]+f[A&15],P>1&&(I+=f[A>>12&15]+f[A>>8&15]),P>2&&(I+=f[A>>20&15]+f[A>>16&15])),I},b.prototype.arrayBuffer=function(){this.finalize();var w=this.blockCount,de=this.s,pe=this.outputBlocks,P=this.extraBytes,L=0,H=0,I=this.outputBits>>3,A;P?A=new ArrayBuffer(pe+1<<2):A=new ArrayBuffer(I);for(var E=new Uint32Array(A);H<pe;){for(L=0;L<w&&H<pe;++L,++H)E[H]=de[L];H%w===0&&be(de)}return P&&(E[L]=de[L],A=A.slice(0,I)),A},b.prototype.buffer=b.prototype.arrayBuffer,b.prototype.digest=b.prototype.array=function(){this.finalize();for(var w=this.blockCount,de=this.s,pe=this.outputBlocks,P=this.extraBytes,L=0,H=0,I=[],A,E;H<pe;){for(L=0;L<w&&H<pe;++L,++H)A=H<<2,E=de[L],I[A]=E&255,I[A+1]=E>>8&255,I[A+2]=E>>16&255,I[A+3]=E>>24&255;H%w===0&&be(de)}return P&&(A=H<<2,E=de[L],I[A]=E&255,P>1&&(I[A+1]=E>>8&255),P>2&&(I[A+2]=E>>16&255)),I};function ee(w,de,pe){b.call(this,w,de,pe)}ee.prototype=new b,ee.prototype.finalize=function(){return this.encode(this.outputBits,!0),b.prototype.finalize.call(this)};var be=function(w){var de,pe,P,L,H,I,A,E,N,B,G,V,Q,ne,fe,xe,ke,X,K,J,j,re,ae,oe,le,ye,Pe,ve,Ee,Se,it,Ue,We,Ve,Fe,qe,we,Te,_e,Le,Ie,je,bt,tt,nt,hn,lt,ut,hi,xt,vt,yi,Tt,wt,mi,At,Et,Dr,Br,Lr,Ur,qr,$r;for(P=0;P<48;P+=2)L=w[0]^w[10]^w[20]^w[30]^w[40],H=w[1]^w[11]^w[21]^w[31]^w[41],I=w[2]^w[12]^w[22]^w[32]^w[42],A=w[3]^w[13]^w[23]^w[33]^w[43],E=w[4]^w[14]^w[24]^w[34]^w[44],N=w[5]^w[15]^w[25]^w[35]^w[45],B=w[6]^w[16]^w[26]^w[36]^w[46],G=w[7]^w[17]^w[27]^w[37]^w[47],V=w[8]^w[18]^w[28]^w[38]^w[48],Q=w[9]^w[19]^w[29]^w[39]^w[49],de=V^(I<<1|A>>>31),pe=Q^(A<<1|I>>>31),w[0]^=de,w[1]^=pe,w[10]^=de,w[11]^=pe,w[20]^=de,w[21]^=pe,w[30]^=de,w[31]^=pe,w[40]^=de,w[41]^=pe,de=L^(E<<1|N>>>31),pe=H^(N<<1|E>>>31),w[2]^=de,w[3]^=pe,w[12]^=de,w[13]^=pe,w[22]^=de,w[23]^=pe,w[32]^=de,w[33]^=pe,w[42]^=de,w[43]^=pe,de=I^(B<<1|G>>>31),pe=A^(G<<1|B>>>31),w[4]^=de,w[5]^=pe,w[14]^=de,w[15]^=pe,w[24]^=de,w[25]^=pe,w[34]^=de,w[35]^=pe,w[44]^=de,w[45]^=pe,de=E^(V<<1|Q>>>31),pe=N^(Q<<1|V>>>31),w[6]^=de,w[7]^=pe,w[16]^=de,w[17]^=pe,w[26]^=de,w[27]^=pe,w[36]^=de,w[37]^=pe,w[46]^=de,w[47]^=pe,de=B^(L<<1|H>>>31),pe=G^(H<<1|L>>>31),w[8]^=de,w[9]^=pe,w[18]^=de,w[19]^=pe,w[28]^=de,w[29]^=pe,w[38]^=de,w[39]^=pe,w[48]^=de,w[49]^=pe,ne=w[0],fe=w[1],hn=w[11]<<4|w[10]>>>28,lt=w[10]<<4|w[11]>>>28,ve=w[20]<<3|w[21]>>>29,Ee=w[21]<<3|w[20]>>>29,Lr=w[31]<<9|w[30]>>>23,Ur=w[30]<<9|w[31]>>>23,je=w[40]<<18|w[41]>>>14,bt=w[41]<<18|w[40]>>>14,Ve=w[2]<<1|w[3]>>>31,Fe=w[3]<<1|w[2]>>>31,xe=w[13]<<12|w[12]>>>20,ke=w[12]<<12|w[13]>>>20,ut=w[22]<<10|w[23]>>>22,hi=w[23]<<10|w[22]>>>22,Se=w[33]<<13|w[32]>>>19,it=w[32]<<13|w[33]>>>19,qr=w[42]<<2|w[43]>>>30,$r=w[43]<<2|w[42]>>>30,wt=w[5]<<30|w[4]>>>2,mi=w[4]<<30|w[5]>>>2,qe=w[14]<<6|w[15]>>>26,we=w[15]<<6|w[14]>>>26,X=w[25]<<11|w[24]>>>21,K=w[24]<<11|w[25]>>>21,xt=w[34]<<15|w[35]>>>17,vt=w[35]<<15|w[34]>>>17,Ue=w[45]<<29|w[44]>>>3,We=w[44]<<29|w[45]>>>3,oe=w[6]<<28|w[7]>>>4,le=w[7]<<28|w[6]>>>4,At=w[17]<<23|w[16]>>>9,Et=w[16]<<23|w[17]>>>9,Te=w[26]<<25|w[27]>>>7,_e=w[27]<<25|w[26]>>>7,J=w[36]<<21|w[37]>>>11,j=w[37]<<21|w[36]>>>11,yi=w[47]<<24|w[46]>>>8,Tt=w[46]<<24|w[47]>>>8,tt=w[8]<<27|w[9]>>>5,nt=w[9]<<27|w[8]>>>5,ye=w[18]<<20|w[19]>>>12,Pe=w[19]<<20|w[18]>>>12,Dr=w[29]<<7|w[28]>>>25,Br=w[28]<<7|w[29]>>>25,Le=w[38]<<8|w[39]>>>24,Ie=w[39]<<8|w[38]>>>24,re=w[48]<<14|w[49]>>>18,ae=w[49]<<14|w[48]>>>18,w[0]=ne^~xe&X,w[1]=fe^~ke&K,w[10]=oe^~ye&ve,w[11]=le^~Pe&Ee,w[20]=Ve^~qe&Te,w[21]=Fe^~we&_e,w[30]=tt^~hn&ut,w[31]=nt^~lt&hi,w[40]=wt^~At&Dr,w[41]=mi^~Et&Br,w[2]=xe^~X&J,w[3]=ke^~K&j,w[12]=ye^~ve&Se,w[13]=Pe^~Ee&it,w[22]=qe^~Te&Le,w[23]=we^~_e&Ie,w[32]=hn^~ut&xt,w[33]=lt^~hi&vt,w[42]=At^~Dr&Lr,w[43]=Et^~Br&Ur,w[4]=X^~J&re,w[5]=K^~j&ae,w[14]=ve^~Se&Ue,w[15]=Ee^~it&We,w[24]=Te^~Le&je,w[25]=_e^~Ie&bt,w[34]=ut^~xt&yi,w[35]=hi^~vt&Tt,w[44]=Dr^~Lr&qr,w[45]=Br^~Ur&$r,w[6]=J^~re&ne,w[7]=j^~ae&fe,w[16]=Se^~Ue&oe,w[17]=it^~We&le,w[26]=Le^~je&Ve,w[27]=Ie^~bt&Fe,w[36]=xt^~yi&tt,w[37]=vt^~Tt&nt,w[46]=Lr^~qr&wt,w[47]=Ur^~$r&mi,w[8]=re^~ne&xe,w[9]=ae^~fe&ke,w[18]=Ue^~oe&ye,w[19]=We^~le&Pe,w[28]=je^~Ve&qe,w[29]=bt^~Fe&we,w[38]=yi^~tt&hn,w[39]=Tt^~nt&lt,w[48]=qr^~wt&At,w[49]=$r^~mi&Et,w[0]^=$[P],w[1]^=$[P+1]};if(u)e.exports=p;else{for(m=0;m<h.length;++m)a[h[m]]=p[h[m]];c&&define(function(){return p})}})()}}),eg=(n=>(n.TokenIn="tokenIn",n.TokenOut="tokenOut",n))(eg||{}),_9=(n=>(n.NOT_APPLICABLE="not-applicable",n.WRAP="wrap",n.UNWRAP="unwrap",n))(_9||{}),k9=(n=>(n.DEVELOPMENT="development",n.PROTOCOL="protocol",n.NETWORK="network",n))(k9||{}),P9=(n=>(n.Authorizing="authorizing",n.Authorized="authorized",n.AuthorizeFailed="authorize-failed",n.ApprovingToken="approving-token",n.ApprovedToken="approved-token",n.ApproveTokenFailed="approve-token-failed",n.SigningPermit="signing-permit",n.SignedPermit="signed-permit",n.SignPermitFailed="sign-permit-failed",n.Wrapping="wrapping",n.Wrapped="wrapped",n.Unwrapping="unwrapping",n.Unwrapped="unwrapped",n.PopulatingTransaction="populating-transaction",n.SigningTransaction="signing-transaction",n.SignedTransaction="signed-transaction",n.TransactionSubmitted="transaction-submitted",n.WaitingForNextTransaction="waiting-for-next-transaction",n.WaitingForReceipt="waiting-for-receipt",n.Computing="computing",n.Success="success",n.Failed="failed",n))(P9||{}),tg=(n=>(n.Low="low",n.Medium="medium",n.High="high",n.Custom="custom",n))(tg||{}),S9=new ft(10,1e4),I9=new ft(50,1e4),C9=new ft(30,100),R9=50,Rd=1e4,ng="21000",o0="300000";new ft(R9,Rd);var O9=60*30,pc={[sn.ETHEREUM]:10**16,[sn.POLYGON]:10**17,[sn.BSC]:10**16,[sn.BASE]:10**14,[sn.RONIN]:2*10**16,[sn.ARBITRUM]:10**14},N9=new ft(1,100),M9=new ft(3,100),F9=new ft(5,100),D9=new ft(15,100),u0=[D9,F9,M9,N9],B9={...zl,[sn.RONIN]:new Je(sn.RONIN,"0xe514d9deb7966c8be0ca922de8a064264ea6bcd4",18,"WRON","Wrapped RON"),[sn.SAIGON]:new Je(sn.SAIGON,"0xa959726154953bae111746e265e6d754f48570e6",18,"WRON","Wrapped Ronin")},L9="0xc76d0d0d3aa608190f78db02bf2f5aef374fc0b9",U9="0xca11bde05977b3631167028862be2a173976ca11",rg={katana:"0x5f0acdd3ec767514ff1bf7e79949640bf94576bd",kyberswap:"0x6131b5fae19ea4f9d964eac0408e4408b66337b5",relay:void 0},Ri=new Map;function q9(n){return/^0x0*$/.test(n)}var c0=F.BigInt(0),$9=5e5;function UP(n){var i,a;if(!n)return;if(n.currency.isToken)return n;let e;if(((i=n.currency)==null?void 0:i.symbol.toLowerCase())==="sol"&&((a=n.currency)==null?void 0:a.decimals)===9?e=$9:e=pc==null?void 0:pc[n.currency.chainId],!e)return;const t=F.subtract(n.quotient,F.BigInt(e)),r=F.greaterThan(t,c0)?t:c0;return Ne.fromRawAmount(n.currency,r)}function ig(n,e){try{if(n.chainId!==e.chainId)return{type:"not-applicable"};const t=n.chainId,r=Ri.get(t);return n.isNative&&(r!=null&&r.equals(e))?{type:"wrap",method:"wrap"}:e.isNative&&(r!=null&&r.equals(n))?{type:"unwrap",method:"unwrap"}:{type:"not-applicable"}}catch(t){return console.error("getting wrap type error:",t),{type:"not-applicable"}}}function ag(n){try{return[n.provider,n.__origin.payload.direction,n.__origin.payload.amount,String(n.chainId),n.currencyIn.address,n.currencyOut.address].filter(Boolean).join("#")}catch{return cb()}}function H9(n){if(n=typeof n=="string"?parseFloat(n):n,isNaN(n))throw new Error(`invalid percent: ${n}`);const e=Math.round(n*100);return new ft(F.BigInt(e),Rd)}function G9(n,e){try{if(e.length===0)throw new Error("No quotes found, skip sorting");return e.sort((t,r)=>{var c,d;const i=n==="exactIn"?"tokenOut":"tokenIn",a=t.amounts[i],s=r.amounts[i];if(a&&s){if(!a.equalTo(s))return n==="exactIn"?s.greaterThan(a)?1:-1:a.lessThan(s)?-1:1}else{if(a&&!s)return-1;if(!a&&s)return 1}const o=(c=t.priceImpact)==null?void 0:c.value,u=(d=r.priceImpact)==null?void 0:d.value;if(o&&u){if(!o.equalTo(u))return o.lessThan(u)?-1:1}else{if(o&&!u)return-1;if(!o&&u)return 1}return 0}),e.length>0&&e[0]&&(e[0].isBestTrade=!0),e}catch{return e.length>0&&e[0]&&(e[0].isBestTrade=!0),e}}function j9(n){try{const e=ot(n,"data");if(hr(e))throw"";const t=JSON.parse(e);return ot(t,"routerAddress")}catch{return ot(rg,"kyberswap")}}function W9(n,e){const t=ot(rg,n);return!t&&n==="kyberswap"?j9(e):t}var z9=J1(A9()),V9="logger/5.8.0",l0=!1,d0=!1,Ys={debug:1,default:2,info:2,warning:3,error:4,off:5},f0=Ys.default,hc=null;function K9(){try{const n=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{n.push(e)}}),n.length)throw new Error("missing "+n.join(", "));if("Ã©".normalize("NFD")!=="eÌ")throw new Error("broken implementation")}catch(n){return n.message}return null}var p0=K9(),hl;(function(n){n.DEBUG="DEBUG",n.INFO="INFO",n.WARNING="WARNING",n.ERROR="ERROR",n.OFF="OFF"})(hl||(hl={}));var nr;(function(n){n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",n.TRANSACTION_REPLACED="TRANSACTION_REPLACED",n.ACTION_REJECTED="ACTION_REJECTED"})(nr||(nr={}));var h0="0123456789abcdef",In=class Kt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();Ys[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(f0>Ys[r])&&console.log.apply(console,t)}debug(...e){this._log(Kt.levels.DEBUG,e)}info(...e){this._log(Kt.levels.INFO,e)}warn(...e){this._log(Kt.levels.WARNING,e)}makeError(e,t,r){if(d0)return this.makeError("censored error",t,{});t||(t=Kt.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(u=>{const c=r[u];try{if(c instanceof Uint8Array){let d="";for(let f=0;f<c.length;f++)d+=h0[c[f]>>4],d+=h0[c[f]&15];i.push(u+"=Uint8Array(0x"+d+")")}else i.push(u+"="+JSON.stringify(c))}catch{i.push(u+"="+JSON.stringify(r[u].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const a=e;let s="";switch(t){case nr.NUMERIC_FAULT:{s="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":s+="-"+u;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case nr.CALL_EXCEPTION:case nr.INSUFFICIENT_FUNDS:case nr.MISSING_NEW:case nr.NONCE_EXPIRED:case nr.REPLACEMENT_UNDERPRICED:case nr.TRANSACTION_REPLACED:case nr.UNPREDICTABLE_GAS_LIMIT:s=t;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=a,o.code=t,Object.keys(r).forEach(function(u){o[u]=r[u]}),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Kt.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,i){e||this.throwError(t,r,i)}assertArgument(e,t,r,i){e||this.throwArgumentError(t,r,i)}checkNormalize(e){p0&&this.throwError("platform missing String.prototype.normalize",Kt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p0})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Kt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Kt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r?r=": "+r:r="",e<t&&this.throwError("missing argument"+r,Kt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Kt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Kt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Kt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Kt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return hc||(hc=new Kt(V9)),hc}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Kt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l0){if(!e)return;this.globalLogger().throwError("error censorship permanent",Kt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}d0=!!e,l0=!!t}static setLogLevel(e){const t=Ys[e.toLowerCase()];if(t==null){Kt.globalLogger().warn("invalid log level - "+e);return}f0=t}static from(e){return new Kt(e)}};In.errors=nr;In.levels=hl;var X9="bytes/5.8.0",ni=new In(X9);function sg(n){return!!n.toHexString}function Zs(n){return n.slice||(n.slice=function(){const e=Array.prototype.slice.call(arguments);return Zs(new Uint8Array(Array.prototype.slice.apply(n,e)))}),n}function y0(n){return typeof n=="number"&&n==n&&n%1===0}function Od(n){if(n==null)return!1;if(n.constructor===Uint8Array)return!0;if(typeof n=="string"||!y0(n.length)||n.length<0)return!1;for(let e=0;e<n.length;e++){const t=n[e];if(!y0(t)||t<0||t>=256)return!1}return!0}function Wi(n,e){if(e||(e={}),typeof n=="number"){ni.checkSafeUint53(n,"invalid arrayify value");const t=[];for(;n;)t.unshift(n&255),n=parseInt(String(n/256));return t.length===0&&t.push(0),Zs(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),sg(n)&&(n=n.toHexString()),ui(n)){let t=n.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":ni.throwArgumentError("hex data is odd-length","value",n));const r=[];for(let i=0;i<t.length;i+=2)r.push(parseInt(t.substring(i,i+2),16));return Zs(new Uint8Array(r))}return Od(n)?Zs(new Uint8Array(n)):ni.throwArgumentError("invalid arrayify value","value",n)}function ui(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||e&&n.length!==2+2*e)}var yc="0123456789abcdef";function Aa(n,e){if(e||(e={}),typeof n=="number"){ni.checkSafeUint53(n,"invalid hexlify value");let t="";for(;n;)t=yc[n&15]+t,n=Math.floor(n/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof n=="bigint")return n=n.toString(16),n.length%2?"0x0"+n:"0x"+n;if(e.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),sg(n))return n.toHexString();if(ui(n))return n.length%2&&(e.hexPad==="left"?n="0x0"+n.substring(2):e.hexPad==="right"?n+="0":ni.throwArgumentError("hex data is odd-length","value",n)),n.toLowerCase();if(Od(n)){let t="0x";for(let r=0;r<n.length;r++){let i=n[r];t+=yc[(i&240)>>4]+yc[i&15]}return t}return ni.throwArgumentError("invalid hexlify value","value",n)}function Js(n){let e="0x";return n.forEach(t=>{e+=Aa(t).substring(2)}),e}function No(n,e){for(typeof n!="string"?n=Aa(n):ui(n)||ni.throwArgumentError("invalid hex string","value",n),n.length>2*e+2&&ni.throwArgumentError("value out of range","value",arguments[1]);n.length<2*e+2;)n="0x0"+n.substring(2);return n}var Q9="bignumber/5.8.0",Mo=z9.default.BN,kr=new In(Q9),mc={},m0=9007199254740991,g0=!1,qt=class Qn{constructor(e,t){e!==mc&&kr.throwError("cannot call constructor directly; use BigNumber.from",In.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return mn(st(this).fromTwos(e))}toTwos(e){return mn(st(this).toTwos(e))}abs(){return this._hex[0]==="-"?Qn.from(this._hex.substring(1)):this}add(e){return mn(st(this).add(st(e)))}sub(e){return mn(st(this).sub(st(e)))}div(e){return Qn.from(e).isZero()&&Mn("division-by-zero","div"),mn(st(this).div(st(e)))}mul(e){return mn(st(this).mul(st(e)))}mod(e){const t=st(e);return t.isNeg()&&Mn("division-by-zero","mod"),mn(st(this).umod(t))}pow(e){const t=st(e);return t.isNeg()&&Mn("negative-power","pow"),mn(st(this).pow(t))}and(e){const t=st(e);return(this.isNegative()||t.isNeg())&&Mn("unbound-bitwise-result","and"),mn(st(this).and(t))}or(e){const t=st(e);return(this.isNegative()||t.isNeg())&&Mn("unbound-bitwise-result","or"),mn(st(this).or(t))}xor(e){const t=st(e);return(this.isNegative()||t.isNeg())&&Mn("unbound-bitwise-result","xor"),mn(st(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Mn("negative-width","mask"),mn(st(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Mn("negative-width","shl"),mn(st(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Mn("negative-width","shr"),mn(st(this).shrn(e))}eq(e){return st(this).eq(st(e))}lt(e){return st(this).lt(st(e))}lte(e){return st(this).lte(st(e))}gt(e){return st(this).gt(st(e))}gte(e){return st(this).gte(st(e))}isNegative(){return this._hex[0]==="-"}isZero(){return st(this).isZero()}toNumber(){try{return st(this).toNumber()}catch{Mn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return kr.throwError("this platform does not support BigInt",In.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?g0||(g0=!0,kr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?kr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",In.errors.UNEXPECTED_ARGUMENT,{}):kr.throwError("BigNumber.toString does not accept parameters",In.errors.UNEXPECTED_ARGUMENT,{})),st(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Qn)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Qn(mc,ds(e)):e.match(/^-?[0-9]+$/)?new Qn(mc,ds(new Mo(e))):kr.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Mn("underflow","BigNumber.from",e),(e>=m0||e<=-m0)&&Mn("overflow","BigNumber.from",e),Qn.from(String(e));const t=e;if(typeof t=="bigint")return Qn.from(t.toString());if(Od(t))return Qn.from(Aa(t));if(t)if(t.toHexString){const r=t.toHexString();if(typeof r=="string")return Qn.from(r)}else{let r=t._hex;if(r==null&&t.type==="BigNumber"&&(r=t.hex),typeof r=="string"&&(ui(r)||r[0]==="-"&&ui(r.substring(1))))return Qn.from(r)}return kr.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function ds(n){if(typeof n!="string")return ds(n.toString(16));if(n[0]==="-")return n=n.substring(1),n[0]==="-"&&kr.throwArgumentError("invalid hex","value",n),n=ds(n),n==="0x00"?n:"-"+n;if(n.substring(0,2)!=="0x"&&(n="0x"+n),n==="0x")return"0x00";for(n.length%2&&(n="0x0"+n.substring(2));n.length>4&&n.substring(0,4)==="0x00";)n="0x"+n.substring(4);return n}function mn(n){return qt.from(ds(n))}function st(n){const e=qt.from(n).toHexString();return e[0]==="-"?new Mo("-"+e.substring(3),16):new Mo(e.substring(2),16)}function Mn(n,e,t){const r={fault:n,operation:e};return t!=null&&(r.value=t),kr.throwError(n,In.errors.NUMERIC_FAULT,r)}function Y9(n){return new Mo(n,36).toString(16)}var jr=hb({max:1e3,ttl:15e3,updateAgeOnGet:!0});function Z9(n){if(!n||n.lessThan(0))return 0;const e=`${n.numerator.toString()}-${n.denominator.toString()}`;if(jr.has(e))return jr.get(e);let t=u0.length;for(const r of u0){if(r.lessThan(n)){if(jr.size>=jr.max){const i=jr.keys().next().value;i!==void 0&&jr.delete(i)}return jr.set(e,t),t}t--}return jr.set(e,0),0}var og=new Un(F.BigInt(1)),J9=(n,e,t=et.EXACT_INPUT)=>{if(t===et.EXACT_INPUT)return n;const r=og.add(e).multiply(n.quotient).quotient;return Ne.fromRawAmount(n.currency,r)},ek=(n,e,t=et.EXACT_INPUT)=>{if(t===et.EXACT_OUTPUT)return n;const r=og.add(e).invert().multiply(n.quotient).quotient;return Ne.fromRawAmount(n.currency,r)},yl=1e4,tk=new ft(F.BigInt(30),yl),na=new ft(yl,yl),nk=na.subtract(tk),rk=n=>{let e;if(n.swaps[0].route.pools instanceof co){let t=na;n.swaps.forEach(()=>t=t.multiply(nk)),e=na.subtract(t)}else{e=Nx;const t=n.inputAmount;for(const r of n.swaps){const{numerator:i,denominator:a}=r.inputAmount.divide(t),s=new ft(i,a);let o=na;for(const c of r.route.pools){const d=c instanceof co?Xr.MEDIUM:c.fee,f=new Un(d,1e6);o=o.multiply(na.subtract(f))}const u=s.multiply(na.subtract(o));e=e.add(u)}}return new ft(e.numerator,e.denominator)};function ik(n){if(!n)return;const e=rk(n);return[Ne.fromRawAmount(n.inputAmount.currency,n.inputAmount.multiply(e).quotient),e]}function ak(n,e){try{let t;if("gasPrice"in n)t=qt.from(ot(n,"gasPrice"));else{const i=qt.from(ot(n,"baseFeePerGas")),a=qt.from(ot(n,"maxFeePerGas")),s=qt.from(ot(n,"maxPriorityFeePerGas"));t=i.add(s).gt(a)?a:i.add(s)}if(!t||Nl(t))throw new Error("invalid multiplier");return qt.from(e).mul(t)}catch(t){console.error("compute network cost failed:",{error:t,origin:{feeData:n,gasLimit:e}});return}}var Ei,fs,ml=(Ei=class extends Ko{constructor(t){super(t.chainId,t.decimals,t.symbol,t.name);Xe(this,"address");Xe(this,"logoUrl");Xe(this,"tags");this.address=ot(t,"address",no),this.logoUrl=ot(t,"logoUrl"),this.tags=ot(t,"tags")}get wrapped(){const t=Ri.get(this.chainId);if(!t)throw new Error(`wrapped token unsupported: ${this.chainId}`);return t}equals(t){return t.isNative&&t.chainId===this.chainId}static onChain(t){const r=ot(Cu(this,fs),t.chainId);if(r)return r;const i=new Ei(t);return Cu(this,fs)[t.chainId]=i,i}},fs=new WeakMap,Bd(Ei,fs,{}),Ei),mu=class extends Je{constructor(e){super(e.chainId,e.address,e.decimals,e.symbol,e.name,e.bypassChecksum,e.buyFeeBps,e.sellFeeBps);Xe(this,"logoUrl");Xe(this,"tags");this.logoUrl=ot(e,"logoUrl"),this.tags=ot(e,"tags")}},gl=class extends mu{constructor(n){const e=n.address;super({...n,address:no}),Object.defineProperty(this,"address",{value:e,writable:!1,enumerable:!0,configurable:!1})}},bl=Me.number().int().positive().refine(n=>n>0&&n<=2147483647,{message:"Invalid chain ID - must be a positive integer within valid range"}),Cr=Me.string(),sk=Me.instanceof(ml),xl=Me.union([Me.instanceof(mu),sk]),vl=Me.object({chain_id:bl,address:Cr,decimal:Me.number().int(),token_standard:Me.enum(["native","erc20"]),name:Me.string().nullish(),symbol:Me.string().nullish(),logo_uri:Me.string().nullish(),tags:Me.array(Me.string()).nullish()}),ok=Me.object({amount:Me.string(),account:Cr,currencyIn:xl,currencyOut:xl,direction:Me.enum(["exactIn","exactOut"]),slippageToleranceBps:Me.instanceof(ft)}),ug=Me.object({strategy:Me.string(),request_id:Me.string().nullish(),data:Me.string()}),uk=Me.object({gas:Me.string().nullish(),gas_price:Me.string().nullish(),gas_usd:Me.string().nullish()}).transform(n=>({gasLimit:n.gas,gasPrice:n.gas_price,gasUsd:n.gas_usd})),ck=Me.object({token:vl,recipient:Cr.nullish(),amount:Me.string().nullish(),amount_usd:Me.string().nullish(),percentage:Me.string().nullish()}).transform(n=>{let e;try{e=H9(n.percentage)}catch(t){console.error("extra fee percentage error:",t)}return{token:n.token,recipient:n.recipient,amount:n.amount,amountUsd:n.amount_usd,percentage:e}}),lk=Me.object({provider:Me.string(),address_in:Cr,address_out:Cr,chain_id:Me.number(),chain_id_out:Me.number().nullish(),amount_in:Me.string(),amount_out:Me.string(),routes:Me.array(Me.unknown()),token_in:vl,token_out:vl,calldata_builder:ug,gas:uk.nullish(),extra_fee:ck.nullish(),amount_in_usd:Me.string().nullish(),amount_out_usd:Me.string().nullish(),price_impact:Me.string().nullish(),permit2_address:Cr.nullish(),universal_router_address:Cr.nullish(),provider_route_id:Me.string().nullish(),__origin:Me.object({payload:ok}),create_dex_currency:Me.function().args(Me.any()).returns(xl)}),dk=lk.transform(n=>{const e=n.create_dex_currency({chainId:n.token_in.chain_id,address:n.token_in.address,symbol:n.token_in.symbol,name:n.token_in.name,decimals:n.token_in.decimal,standard:n.token_in.token_standard,logoUrl:n.token_in.logo_uri,tags:n.token_in.tags}),t=n.create_dex_currency({chainId:n.token_out.chain_id,address:n.token_out.address,symbol:n.token_out.symbol,name:n.token_out.name,decimals:n.token_out.decimal,standard:n.token_out.token_standard,logoUrl:n.token_out.logo_uri,tags:n.token_out.tags}),r=Ne.fromRawAmount(e,F.BigInt(n.amount_in)),i=n.amount_in_usd&&typeof parseFloat(n.amount_in_usd)=="number"?new on(n.amount_in_usd):void 0,a=Ne.fromRawAmount(t,F.BigInt(n.amount_out)),s=n.amount_out_usd&&typeof parseFloat(n.amount_out_usd)=="number"?new on(n.amount_out_usd):void 0,o=n.price_impact?new ft(F.BigInt(Math.round(parseFloat(n.price_impact)*100)),Rd):void 0,u=o?{value:o,severity:Z9(o)}:void 0,c=hr(n.permit2_address)?void 0:qd(n.permit2_address),d=hr(n.universal_router_address)?W9(n.provider,n.calldata_builder):qd(n.universal_router_address),f=n.chain_id!==e.chainId?e.chainId:n.chain_id,g=n.chain_id_out!==t.chainId?t.chainId:n.chain_id_out;return{chainId:f,chainIdOut:g,amountIn:r,amountInUsd:i,amountOut:a,amountOutUsd:s,currencyIn:e,currencyOut:t,permit2Address:c,universalRouterAddress:d,priceImpact:u,provider:n.provider,addressIn:n.address_in,addressOut:n.address_out,calldataBuilder:n.calldata_builder,routes:n.routes,routeNotFound:n.routes.length===0,extraFee:n.extra_fee,gas:n.gas,__origin:n.__origin}});Me.object({chainId:bl,chainIdOut:bl.nullish(),provider:Me.string(),sender:Cr,recipient:Cr,calldataBuilder:ug,slippageToleranceBps:Me.instanceof(ft)});var fk=Me.record(Me.string(),Me.unknown()),pk=fk.transform(n=>Object.entries(n).reduce((e,[t,r])=>({...e,[u8(t)]:r}),{})),b0=class{static validate(n,e,t){if(!n)throw new Error(`${e} is required but was ${n}`);if(t&&!(n instanceof t))throw new Error(`Invalid ${e}. Expected instance of ${t.name}`);return n}static strict(n,e,t){if(!n)throw new Error(`${e} not initialized. Call use(${t}) first.`);return n}},Nd=class{constructor(){Xe(this,"coredex")}use(n){return this.coredex=b0.validate(n,"CoreDex",Jk),this}useCoreDex(){return b0.strict(this.coredex,this.constructor.name,"CoreDex")}},hk=class extends Nd{constructor(){super();Xe(this,"api",new ob({headers:{"Content-Type":"application/json"}}));Xe(this,"getAccount",async(e,t)=>await this.coredex.platform.fromChainId(e).getAccount(t));Xe(this,"createDexCurrency",e=>this.coredex.platform.fromChainId(e.chainId).createDexCurrency(e))}use(e){return super.use(e),this.api.baseUrl(e.dependencies.apiUrl),this}async tokens(e,t){const r=await this.api.get("/proxy/v3/public/swap/tokens",{params:{chainId:e,...t}}),{data:{tokens:i,pagination:a}}=r.unwrap();return{...i.reduce((o,u)=>{try{const c=this.coredex.createSigil(u.chain_id,u.address),d=this.createDexCurrency({chainId:u.chain_id,decimals:u.decimal,symbol:u.symbol,name:u.name,standard:u.token_standard,address:u.address,logoUrl:u.logo_uri,tags:u.tags});return o.ids.push(c),o.data[c]=d,o}catch{return o}},{ids:[],data:{}}),pagination:a}}async handleAddresses(e,t,r){const i=t.chainId,a={chain_id:i,user_address:e};try{const s=r.chainId;if(i!==s){const[u,c]=await Promise.all([this.getAccount(i,e),this.getAccount(s,e)]);Object.assign(a,{chain_id:i,user_address:u.address,chain_id_out:s,dest_user_address:c.address})}else{const u=await this.getAccount(i,e);Object.assign(a,{user_address:u.address})}}catch(s){throw this.coredex.console.error("failed to get account",s),s}return a}async find(e){const r={...await this.handleAddresses(e.account,e.currencyIn,e.currencyOut),token_in:e.currencyIn.address,token_out:e.currencyOut.address,slippage_tolerance_bps:parseFloat(e.slippageToleranceBps.numerator.toString()),...e.direction==="exactIn"?{amount_in:e.amount}:{amount_out:e.amount}};this.coredex.console.info("find quote payload >>>",r);const i=await this.api.post("/proxy/v3/public/swap/routes/find",r),{data:a}=i.unwrap();return this.coredex.console.info("find quote response >>>",a),Ud(a,dk,{modifier:s=>({...s,__origin:{payload:e},create_dex_currency:this.createDexCurrency}),debug:!!this.coredex.dependencies.debug}).filter(s=>!hr(s))}async build(e){const t={chain_id:e.chainId,sender:e.sender,recipient:e.recipient,provider:e.provider,calldata_builder:e.calldataBuilder,slippage_tolerance_bps:parseFloat(e.slippageToleranceBps.numerator.toString())},r=await this.getAccount(e.chainId,e.sender);Object.assign(t,{sender:r.address,recipient:r.address}),this.coredex.console.info("build quote body >>>",t);const i=await this.api.post("/proxy/v3/public/swap/routes/build",t);this.coredex.console.info("build quote response >>>",i);const{data:a}=i.unwrap();return Ud(ot(a,"calldata"),pk,{debug:!!this.coredex.dependencies.debug})}async getPrice(e,t){const r=await this.api.post("/proxy/v3/public/fiat/tokens",{tokens:[{chain_id:e,address:t}]});return parseFloat(ot(r.unwrap(),"data.items.0.usd_price"))}},gc=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_oldAdmin",type:"address"},{indexed:!0,internalType:"address",name:"_newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_oldAdmin",type:"address"}],name:"AdminRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_minter",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_minter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_spender",type:"address"}],name:"SpenderUnwhitelisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_spender",type:"address"}],name:"SpenderWhitelisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[],name:"Unpaused",type:"event"},{constant:!1,inputs:[{internalType:"address[]",name:"_addedMinters",type:"address[]"}],name:"addMinters",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"_value",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"_success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"burn",outputs:[{internalType:"bool",name:"_success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"burnFrom",outputs:[{internalType:"bool",name:"_success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"cappedSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_newAdmin",type:"address"}],name:"changeAdmin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"_success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"minter",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"minters",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"removeAdmin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address[]",name:"_removedMinters",type:"address[]"}],name:"removeMinters",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"_success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"_success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_spender",type:"address"}],name:"unwhitelist",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_spender",type:"address"}],name:"whitelist",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}],Sc,Fo=(Sc=class{static createInterface(){return new $o(gc)}static connect(n,e){return new Ho(n,gc,e)}},Xe(Sc,"abi",gc),Sc),bc=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"blockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockCoinbase",outputs:[{internalType:"address",name:"coinbase",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockDifficulty",outputs:[{internalType:"uint256",name:"difficulty",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockGasLimit",outputs:[{internalType:"uint256",name:"gaslimit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getRonBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"tryAggregate",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"tryBlockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"}],Ic,cg=(Ic=class{static createInterface(){return new $o(bc)}static connect(n,e){return new Ho(n,bc,e)}},Xe(Ic,"abi",bc),Ic),xc=[{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"wordPos",type:"uint256"},{internalType:"uint256",name:"mask",type:"uint256"}],name:"invalidateUnorderedNonces",outputs:[],stateMutability:"nonpayable",type:"function"}],Cc,yk=(Cc=class{static createInterface(){return new $o(xc)}static connect(n,e){return new Ho(n,xc,e)}},Xe(Cc,"abi",xc),Cc),vc=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}],Rc,x0=(Rc=class{static createInterface(){return new $o(vc)}static connect(n,e){return new Ho(n,vc,e)}},Xe(Rc,"abi",vc),Rc),Tl=Fo.createInterface(),v0=()=>Promise.resolve(void 0),mk=class extends Nd{constructor(){super();Xe(this,"tokenFactory",{[ri.EVM]:e=>new mu(e),[ri.SOLANA]:e=>new gl(e)});Xe(this,"isCustom",!1)}use(e){return super.use(e),this}createDexCurrency(e){const t={...e};return e.standard==="native"||this.isNativeAddress(ot(e,"address",""))?(t.address=this.nativeAddress,ml.onChain(t)):this.tokenFactory[this.blockchain](t)}isNativeAddress(e){try{return e===this.nativeAddress}catch(t){return console.error(`failed to check if {${e}/${this.nativeAddress}} is native address`,t),!1}}getNativeCurrency(e){const t=this.coredex.getChainConfig(e);return ml.onChain({chainId:e,address:this.nativeAddress,decimals:t.nativeToken.decimals,symbol:t.nativeToken.symbol,name:t.nativeToken.name,standard:"native"})}async getAccount(e){try{const t=await this.coredex.dependencies.getAccounts(e);if(!Array.isArray(t)||t.length===0)throw new Error("cannot retrieve account list");const r=t.find(a=>Gd(a.address)===Gd(e));if(!r)throw new Error(`missing ${this.blockchain} account (baseAddress: ${e})`);if(r.type===pb.PRIVATE_KEY)return r;const i=t.find(a=>a.index===r.index&&a.blockchain===this.blockchain);if(!i)throw new Error(`missing ${this.blockchain} account (baseAddress: ${e})`);return i}catch(t){throw console.error(`failed to get ${this.blockchain} account (baseAddress: ${e})`),t}}async buildQuote(e,t){const r=e.__origin.payload,i=await this.coredex.aggregator.build({chainId:r.currencyIn.chainId,chainIdOut:r.currencyOut.chainId,provider:e.provider,sender:r.account,recipient:r.account,calldataBuilder:e.calldataBuilder,slippageToleranceBps:r.slippageToleranceBps});if(!Array.isArray(i))throw new Error("invalid built routes response");return i}async computeQuote(e){const t=e.__origin.payload,r=t.direction==="exactIn",i=t.direction==="exactOut",a=Ne.fromRawAmount(r?t.currencyIn:t.currencyOut,t.amount),s={tokenIn:r?a:e.amountIn,tokenOut:i?a:e.amountOut},o=J9(e.amountIn,t.slippageToleranceBps),u=ek(e.amountOut,t.slippageToleranceBps),c=new Ot(e.amountIn.currency,e.amountOut.currency,e.amountIn.quotient,e.amountOut.quotient),d=new Ot(e.amountIn.currency,e.amountOut.currency,o.quotient,u.quotient),f={amounts:s,maximumAmountIn:o,minimumAmountOut:u,executionPrice:c,worstExecutionPrice:d,...this.getDefaultQuote(e)};return Promise.resolve(f)}getDefaultQuote(e){const t={__origin:e.__origin,quoteId:"",chainId:e.chainId,provider:e.provider,addressIn:e.addressIn,addressOut:e.addressOut,currencyIn:e.currencyIn,currencyOut:e.currencyOut,amountIn:e.amountIn,amountOut:e.amountOut,amountInUsd:e.amountInUsd,amountOutUsd:e.amountOutUsd,calldataBuilder:e.calldataBuilder,permit2Address:e.permit2Address,universalRouterAddress:e.universalRouterAddress,routes:e.routes,priceImpact:e.priceImpact,extraFee:e.extraFee,getAllocatedFee:v0,getNetworkFees:v0};return t.quoteId=ag(e),t.getAllocatedFee=()=>this.getAllocatedFee(t),t.getNetworkFees=()=>this.getNetworkFees(t),t}async getAllocatedFee(e){const t=await this.computeDevelopmentFee(e);return{totalFeeUsd:t==null?void 0:t.amountUsd,allocation:[t]}}computeDevelopmentFee(e){try{const t=ot(e,"extraFee");if(!t||Nl(t))throw new Error("invalid extra fee");const r=ot(t,"amount");if(!r||hr(r))throw new Error("invalid amount");const i=ot(t,"amountUsd"),a=hr(i)?void 0:new on(i),s=this.createDexCurrency({chainId:e.chainId,decimals:t.token.decimal,symbol:t.token.symbol,name:t.token.name,standard:t.token.token_standard,address:t.token.address,logoUrl:t.token.logo_uri,tags:t.token.tags});return Promise.resolve({type:"development",percent:ot(t,"percentage"),amountUsd:a,amount:Ne.fromRawAmount(s,r)})}catch(t){return console.error("cannot compute development fee:",t),Promise.resolve(void 0)}}},lg=mk,Tc=Me.object({gas_price:Me.string().nullish()}).transform(n=>({gasPrice:n.gas_price})),wc=Me.object({base_fee_per_gas:Me.string().nullish(),max_fee_per_gas:Me.string().nullish(),max_priority_fee_per_gas:Me.string().nullish()}).transform(n=>({baseFeePerGas:n.base_fee_per_gas,maxFeePerGas:n.max_fee_per_gas,maxPriorityFeePerGas:n.max_priority_fee_per_gas})),T0=Me.object({chain_name:Me.string(),exact_base_fee:Me.string().nullish(),base_fee_per_gas:Me.string().nullish()}),gk=Me.discriminatedUnion("type",[Me.object({type:Me.literal("legacy")}).merge(Me.object({low:Tc.nullish(),medium:Tc.nullish(),high:Tc.nullish()})).merge(T0),Me.object({type:Me.literal("eip-1559")}).merge(Me.object({low:wc.nullish(),medium:wc.nullish(),high:wc.nullish()})).merge(T0)]).transform(({chain_name:n,exact_base_fee:e,base_fee_per_gas:t,...r})=>(r.type==="eip-1559"&&(r.low&&(r.low.baseFeePerGas=t),r.medium&&(r.medium.baseFeePerGas=t),r.high&&(r.high.baseFeePerGas=t)),{chainName:n,exactBaseFee:e,...r})),w0={gasPrice:"2000000000"},bk=class{constructor(n){this.coredex=n}async compute(n,e){try{if(!n.chainId)throw new Error("chainId is required");if(!n.data)throw new Error("data is required");if(!ro(n.from)||!ro(n.to))throw new Error("from/to address is invalid");const t=await this.estimate(n);if(!Nl(e==null?void 0:e.networkFee))return{...n,...e.networkFee,gasLimit:t};const r=await this.getFeeData(Number(n.chainId));return{...n,...r,gasLimit:t}}catch(t){throw console.error("error populating transaction: ",t),t}}async estimate(n,e){try{delete n.gasLimit,delete n.gasPrice,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas;const t=Ol(n.chainId),i=await this.coredex.platform.fromChainId(t).getProvider(t).estimateGas(n);if(!i)throw new Error("invalid gas estimation");return i.toString()}catch(t){return to(t).code==="CALL_EXCEPTION"&&(e==null?void 0:e.bypassApproval)===!0?await this.estimateWithApprovalBypass(n):(console.error("estimating gas limit failed:",t),ng)}}async estimateWithApprovalBypass(n){try{const t=(n.data||"0x").length;let r=1;return t>1e3&&(r=1.2),t>2e3&&(r=1.4),t>4e3&&(r=1.6),new on(o0).multipliedBy(r).multipliedBy(1.1).toFixed(0)}catch(e){return console.error("enhanced estimation failed:",e),o0}}async getFeeData(n,e="medium"){try{const t=await this.suggestion(n);return ot(t,e)}catch(t){return console.error("error getting fee suggestion: ",t),this.getProviderFeeData(n)}}async suggestion(n){const e=this.coredex.dependencies.providerManager.getChainConfigs().find(i=>i.chainId===n);if(!e)throw new Error("chain config not found");const t=await this.coredex.aggregator.api.get(`/proxy/public/v1/${e.chainName}/gas-suggestion`),r=gk.safeParse(t.unwrap());if(!r.success)throw console.error("invalid gas suggestion:",r.error),new Error("invalid gas suggestion");return r.data}async getProviderFeeData(n){var e;try{const r=await this.coredex.platform.fromChainId(n).getProvider(n).getFeeData();if(r.gasPrice&&!r.maxFeePerGas)return{gasPrice:r.gasPrice.toString()};if(r.maxFeePerGas){const i=r.maxFeePerGas.toString(),a=((e=r.maxPriorityFeePerGas)==null?void 0:e.toString())??"0",s=new on(i).minus(new on(a)).toString();return{maxFeePerGas:i,maxPriorityFeePerGas:a,baseFeePerGas:s}}return w0}catch(t){return console.error("provider fee data failed: ",t),w0}}},xk=bk,vk=J1(E9());function Vr(n){return"0x"+vk.default.keccak_256(Wi(n))}var Tk="strings/5.8.0",wk=new In(Tk),Do;(function(n){n.current="",n.NFC="NFC",n.NFD="NFD",n.NFKC="NFKC",n.NFKD="NFKD"})(Do||(Do={}));var A0;(function(n){n.UNEXPECTED_CONTINUE="unexpected continuation byte",n.BAD_PREFIX="bad codepoint prefix",n.OVERRUN="string overrun",n.MISSING_CONTINUE="missing continuation byte",n.OUT_OF_RANGE="out of UTF-8 range",n.UTF16_SURROGATE="UTF-16 surrogate",n.OVERLONG="overlong representation"})(A0||(A0={}));function Ak(n,e=Do.current){e!=Do.current&&(wk.checkNormalize(),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const a=n.charCodeAt(r);if(r>=n.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(a&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Wi(t)}function dg(n){return Vr(Ak(n))}var Ek="hash/5.8.0",_k="address/5.8.0",Fa=new In(_k);function E0(n){ui(n,20)||Fa.throwArgumentError("invalid address","address",n),n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=Wi(Vr(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var kk=9007199254740991;function Pk(n){return Math.log10?Math.log10(n):Math.log(n)/Math.LN10}var Md={};for(let n=0;n<10;n++)Md[String(n)]=String(n);for(let n=0;n<26;n++)Md[String.fromCharCode(65+n)]=String(10+n);var _0=Math.floor(Pk(kk));function Sk(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>Md[r]).join("");for(;e.length>=_0;){let r=e.substring(0,_0);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function fg(n){let e=null;if(typeof n!="string"&&Fa.throwArgumentError("invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/))n.substring(0,2)!=="0x"&&(n="0x"+n),e=E0(n),n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==n&&Fa.throwArgumentError("bad address checksum","address",n);else if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(n.substring(2,4)!==Sk(n)&&Fa.throwArgumentError("bad icap checksum","address",n),e=Y9(n.substring(4));e.length<40;)e="0"+e;e=E0("0x"+e)}else Fa.throwArgumentError("invalid address","address",n);return e}var Ik="properties/5.8.0",pg=new In(Ik);function Da(n,e,t){Object.defineProperty(n,e,{enumerable:!0,value:t,writable:!1})}function k0(n){const e={};for(const t in n)e[t]=n[t];return e}var Ck={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function hg(n){if(n==null||Ck[typeof n])return!0;if(Array.isArray(n)||typeof n=="object"){if(!Object.isFrozen(n))return!1;const e=Object.keys(n);for(let t=0;t<e.length;t++){let r=null;try{r=n[e[t]]}catch{continue}if(!hg(r))return!1}return!0}return pg.throwArgumentError(`Cannot deepCopy ${typeof n}`,"object",n)}function Rk(n){if(hg(n))return n;if(Array.isArray(n))return Object.freeze(n.map(e=>wl(e)));if(typeof n=="object"){const e={};for(const t in n){const r=n[t];r!==void 0&&Da(e,t,wl(r))}return e}return pg.throwArgumentError(`Cannot deepCopy ${typeof n}`,"object",n)}function wl(n){return Rk(n)}var Ok=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function u(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,u)}c((r=r.apply(n,[])).next())})},Bt=new In(Ek),yg=new Uint8Array(32);yg.fill(0);var Nk=qt.from(-1),mg=qt.from(0),gg=qt.from(1),Mk=qt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Fk(n){const e=Wi(n),t=e.length%32;return t?Js([e,yg.slice(t)]):Aa(e)}var Dk=No(gg.toHexString(),32),Bk=No(mg.toHexString(),32),P0={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ac=["name","version","chainId","verifyingContract","salt"];function S0(n){return function(e){return typeof e!="string"&&Bt.throwArgumentError(`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}var Lk={name:S0("name"),version:S0("version"),chainId:function(n){try{return qt.from(n).toString()}catch{}return Bt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",n)},verifyingContract:function(n){try{return fg(n).toLowerCase()}catch{}return Bt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){try{const e=Wi(n);if(e.length!==32)throw new Error("bad length");return Aa(e)}catch{}return Bt.throwArgumentError('invalid domain value "salt"',"domain.salt",n)}};function Ec(n){{const e=n.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Bt.throwArgumentError("invalid numeric width","type",n);const i=Mk.mask(t?r-1:r),a=t?i.add(gg).mul(Nk):mg;return function(s){const o=qt.from(s);return(o.lt(a)||o.gt(i))&&Bt.throwArgumentError(`value out-of-bounds for ${n}`,"value",s),No(o.toTwos(256).toHexString(),32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Bt.throwArgumentError("invalid bytes width","type",n),function(r){return Wi(r).length!==t&&Bt.throwArgumentError(`invalid length for ${n}`,"value",r),Fk(r)}}}switch(n){case"address":return function(e){return No(fg(e),32)};case"bool":return function(e){return e?Dk:Bk};case"bytes":return function(e){return Vr(e)};case"string":return function(e){return dg(e)}}return null}function I0(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}var C0=class Yn{constructor(e){Da(this,"types",Object.freeze(wl(e))),Da(this,"_encoderCache",{}),Da(this,"_types",{});const t={},r={},i={};Object.keys(e).forEach(o=>{t[o]={},r[o]=[],i[o]={}});for(const o in e){const u={};e[o].forEach(c=>{u[c.name]&&Bt.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(o)}`,"types",e),u[c.name]=!0;const d=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];d===o&&Bt.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",e),!Ec(d)&&(r[d]||Bt.throwArgumentError(`unknown type ${JSON.stringify(d)}`,"types",e),r[d].push(o),t[o][d]=!0)})}const a=Object.keys(r).filter(o=>r[o].length===0);a.length===0?Bt.throwArgumentError("missing primary type","types",e):a.length>1&&Bt.throwArgumentError(`ambiguous primary types or unused types: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),Da(this,"primaryType",a[0]);function s(o,u){u[o]&&Bt.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),u[o]=!0,Object.keys(t[o]).forEach(c=>{r[c]&&(s(c,u),Object.keys(u).forEach(d=>{i[d][c]=!0}))}),delete u[o]}s(this.primaryType,{});for(const o in i){const u=Object.keys(i[o]);u.sort(),this._types[o]=I0(o,e[o])+u.map(c=>I0(c,e[c])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=Ec(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],a=this.getEncoder(i),s=parseInt(t[3]);return o=>{s>=0&&o.length!==s&&Bt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let u=o.map(a);return this._types[i]&&(u=u.map(Vr)),Vr(Js(u))}}const r=this.types[e];if(r){const i=dg(this._types[e]);return a=>{const s=r.map(({name:o,type:u})=>{const c=this.getEncoder(u)(a[o]);return this._types[u]?Vr(c):c});return s.unshift(i),Js(s)}}return Bt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Bt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Vr(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Ec(e))return r(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&Bt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(u=>this._visit(s,u,r))}const a=this.types[e];return a?a.reduce((s,{name:o,type:u})=>(s[o]=this._visit(u,t[o],r),s),{}):Bt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Yn(e)}static getPrimaryType(e){return Yn.from(e).primaryType}static hashStruct(e,t,r){return Yn.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const i=P0[r];i||Bt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>Ac.indexOf(r.name)-Ac.indexOf(i.name)),Yn.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Js(["0x1901",Yn.hashDomain(e),Yn.from(t).hash(r)])}static hash(e,t,r){return Vr(Yn.encode(e,t,r))}static resolveNames(e,t,r,i){return Ok(this,void 0,void 0,function*(){e=k0(e);const a={};e.verifyingContract&&!ui(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=Yn.from(t);s.visit(r,(o,u)=>(o==="address"&&!ui(u,20)&&(a[u]="0x"),u));for(const o in a)a[o]=yield i(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=s.visit(r,(o,u)=>o==="address"&&a[u]?a[u]:u),{domain:e,value:r}})}static getPayload(e,t,r){Yn.hashDomain(e);const i={},a=[];Ac.forEach(u=>{const c=e[u];c!=null&&(i[u]=Lk[u](c),a.push({name:u,type:P0[u]}))});const s=Yn.from(t),o=k0(t);return o.EIP712Domain?Bt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=a,s.encode(r),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(r,(u,c)=>{if(u.match(/^bytes(\d*)/))return Aa(Wi(c));if(u.match(/^u?int/))return qt.from(c).toString();switch(u){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Bt.throwArgumentError("invalid string","value",c),c}return Bt.throwArgumentError("unsupported type","type",u)})}}},Uk=class{constructor(n){Xe(this,"signatures",new Map);this.coredex=n}async approve(n,e,t,r,i=lb.toString()){try{const a=Ne.fromRawAmount(r,i);this.coredex.notify(n,{state:"approving-token",data:{amount:a}});const s=a.currency.chainId,o=this.coredex.platform.fromChainId(s),u=await o.invokeSigner(a.currency.chainId,e),c=Fo.connect(a.currency.address,u),d=[t,a.quotient.toString()],f=Tl.encodeFunctionData("approve",d),g=await o.populateTransaction({chainId:s,from:e,to:a.currency.address,data:f}),x=await c.approve(...d,{gasLimit:g.gasLimit,maxFeePerGas:g.maxFeePerGas,maxPriorityFeePerGas:g.maxPriorityFeePerGas});if(x){const C=this.coredex.confirmationBlocks(s),k=await(x==null?void 0:x.wait(C)),R=ot(k,"status",0);this.coredex.notify(n,{state:R===1?"approved-token":"approve-token-failed"})}return x}catch(a){throw this.coredex.notify(n,{state:"approve-token-failed",error:to(a)}),console.error("approve error: ",a),a}}async allowance(n,e,t){try{const r=e.currency.chainId,i=e.currency.address,a=this.coredex.platform.fromChainId(r),o=await Fo.connect(i,a.getProvider(r)).allowance(n,t);return Ne.fromRawAmount(e.currency,o.toString())}catch(r){throw console.error("get allowance error: ",r),r}}async getPermitAllowance(n,e,t,r,i){const a=this.coredex.platform.fromChainId(n),s=yk.connect(r,a.getProvider(n)),[o,u,c]=await s.allowance(e,t.currency.address,i);return[Ne.fromRawAmount(t.currency,o.toString()),qt.from(u).toNumber(),qt.from(c).toNumber()]}async signPermitSignature(n,e,t){try{const r=e.currency.chainId,i=e.currency.address,s=await this.coredex.platform.fromChainId(r).invokeSigner(r,n.__origin.payload.account),o=n3({chainId:r,token:i,nonce:t,spender:n.universalRouterAddress}),u=am.AllowanceTransfer.getPermitData(o,n.permit2Address,r),c=await C0.resolveNames(u.domain,u.types,u.values,x=>s.resolveName(x)),d=JSON.stringify(C0.getPayload(c.domain,u.types,c.value));this.coredex.notify(n.quoteId,{state:"signing-permit",data:{message:d}});const f=await s.signTypedDataV4(d),g={...o,signature:f};return this.signatures.set(this.createPermitSigId(n.__origin.payload),g),this.coredex.notify(n.quoteId,{state:"signed-permit"}),g}catch(r){throw this.coredex.notify(n.quoteId,{state:"sign-permit-failed",error:r}),r}}createPermitSigId(n){return[n.account,n.currencyIn.chainId,n.currencyIn.address].join("#")}getPermitSignature(n){const e=this.createPermitSigId(n.__origin.payload);return this.signatures.get(e)}},qk=Uk,$k=3e3,Hk=class extends lg{constructor(){super();Xe(this,"blockchain",ri.EVM);Xe(this,"name",`abstracted-${this.blockchain}`);Xe(this,"nativeAddress",no);Xe(this,"approval");Xe(this,"gas");Xe(this,"_initiated",!1)}use(e){return super.use(e),this.initiate(),this.approval=new qk(this.coredex),this.gas=new xk(this.coredex),this}initiate(){try{if(this._initiated)return;for(const e of Object.values(B9))Ri.set(e.chainId,new mu({chainId:e.chainId,address:e.address,decimals:e.decimals,symbol:e.symbol,name:e.name,standard:"erc20"}));this._initiated=!0}catch(e){throw console.error(`failed to initiate ${this.blockchain} wrapped tokens`,e),e}}getProvider(e){const t=this.coredex.dependencies.providerManager.getProvider(e);if(!t)throw new Error(`missing provider (chainId: ${e})`);if(!(t instanceof ib))throw new Error(`invalid provider type (chainId: ${e})`);return t}async getSigner(e){const t=await this.coredex.dependencies.getSignerForAddress(e);if(!t)throw new Error(`missing signer (address: ${e})`);if(!(t instanceof ab))throw new Error(`invalid signer type (address: ${e})`);return t}async invokeSigner(e,t){return(await this.getSigner(t)).connect(this.getProvider(e))}async authorize(e){var t,r,i,a;try{const s="maximumAmountIn"in e&&((t=e.maximumAmountIn)!=null&&t.currency.isToken)?e.maximumAmountIn:"amounts"in e&&((i=(r=e.amounts)==null?void 0:r.tokenIn)!=null&&i.currency.isToken)?e.amounts.tokenIn:void 0;if(!s||!e.permit2Address)return Promise.resolve(void 0);const o=s.currency.chainId;if(s.currency.isNative||s.currency.address===no)return this.coredex.notify(e.quoteId,{state:"authorized"}),Promise.resolve(void 0);this.coredex.notify(e.quoteId,{state:"authorizing"});const u=e.__origin.payload.account,c=await this.approval.allowance(u,s,e.permit2Address),d=c.greaterThan(s)||c.equalTo(s);let f=!1,g=!1,x=this.approval.getPermitSignature(e);if(e.provider!=="kyberswap"){const[C,k,R]=await this.approval.getPermitAllowance(o,u,s,e.permit2Address,e.universalRouterAddress),$=Math.floor((Date.now()+$k)/1e3);typeof x=="object"&&(f=x.details.token===s.currency.address&&x.spender===e.universalRouterAddress&&x.sigDeadline>=$),g=(C.greaterThan(s)||C.equalTo(s))&&k>=$,d||await this.approval.approve(e.quoteId,u,e.permit2Address,s.currency),!(g||f)&&(x=await this.approval.signPermitSignature(e,s,R),f=((a=x==null?void 0:x.details)==null?void 0:a.token)===s.currency.address&&(x==null?void 0:x.spender)===e.universalRouterAddress&&(x==null?void 0:x.sigDeadline)>=$)}else d||await this.approval.approve(e.quoteId,u,e.permit2Address,s.currency);return this.coredex.notify(e.quoteId,{state:"authorized"}),!g&&f?x:void 0}catch(s){throw this.coredex.notify(e.quoteId,{state:"authorize-failed",error:s}),console.error(`[${e.provider}] authorize failed:`,s),s}}async balanceOf(e,t,r){try{const i=await this.getAccount(t);return this.isNativeAddress(r)?await this.nativeBalanceOf(e,i.address):await Fo.connect(r,this.getProvider(e)).balanceOf(i.address)}catch(i){throw console.error(`Error getting balance for ${r}:`,i),i}}async batchBalanceOf(e,t,r,i=100){const a={},s=r.filter(u=>this.isNativeAddress(u)),o=r.filter(u=>!this.isNativeAddress(u));if(s.length>0){const u=await this.nativeBalanceOf(e,t);for(const c of s)a[c]=u}if(o.length>0){const u=await this.multicallErc20Balances(e,t,o,i);Object.assign(a,u)}return a}async buildQuote(e){await this.authorize(e);const t=e.__origin.payload;return(await super.buildQuote(e)).map(i=>({chainId:t.currencyIn.chainId,from:t.account,...i}))}async populateTransaction(e){return await this.gas.compute(e)}async getNetworkFees(e,t){try{const r=await this.estimateGasLimit(e,{...t,bypassApproval:!0}),i=this.getNativeCurrency(e.chainId);if(!i)throw new Error("cannot get native currency");const a=[],s=await this.gas.suggestion(e.chainId);for(const[o,u]of Object.entries(s)){if(!["low","medium","high"].includes(o)||hr(u))continue;const c=ak(u,r.toString());if(!c){this.coredex.console.warn("cannot compute network cost:",{origin:{feeData:u,totalGasLimit:r}});continue}const d=new on(sb(c.toString(),i.decimals));a.push({amount:d,feeData:u,level:o,currency:i})}return a}catch(r){console.error(`cannot get network fee (chainId: ${e.chainId}):`,r)}}async sendTransaction(e,t,r,i){var a,s,o,u;try{const d=(await this.getAccount(t)).address;if(!ro(d))throw new Error("invalid from address");const f=await this.gas.compute(r,{networkFee:i==null?void 0:i.networkFee});this.coredex.console.info(`[${this.name}] sending transaction -> `,f);const x=await(await this.invokeSigner(e,d)).sendTransaction(f);if((a=i==null?void 0:i.onSubmitted)==null||a.call(i,x),!(i!=null&&i.waitForReceipt))return x;(s=i==null?void 0:i.onWaitingForReceipt)==null||s.call(i,x);const C=this.coredex.confirmationBlocks(e),k=await x.wait(C);return k.status===1&&((o=i==null?void 0:i.onSuccess)==null||o.call(i,k)),x}catch(c){(u=i==null?void 0:i.onFailure)==null||u.call(i,c);const d=c instanceof Error?c.message:typeof c=="string"?c:String(c),f=new Error(`Transaction failed: ${d}`);throw c instanceof Error&&c.stack&&(f.stack=c.stack),f}}async sendBatchTransaction(e,t,r,{onSuccess:i,onFailure:a,...s}={}){const o=[];for(let u=0;u<r.length;u++)try{const c=r[u],d=u===r.length-1,f=await this.sendTransaction(e,t,c,d?{...s,onSuccess:i,onFailure:a}:s);o.push(f)}catch(c){const d=c instanceof Error?c.message:typeof c=="string"?c:String(c),f=new Error(`Transaction ${u+1}/${r.length} failed: ${d}`);throw c instanceof Error&&c.stack&&(f.stack=c.stack),f}return o}async multicallErc20Balances(e,t,r,i){const a=await this.getAccount(t),s=cg.connect(U9,this.getProvider(e)),o=Math.ceil(r.length/i),u=[];for(let g=0;g<o;g++){const C=r.slice(g*i,(g+1)*i).map(k=>({target:k,callData:Tl.encodeFunctionData("balanceOf",[a.address])}));u.push(s.tryAggregate.staticCall(!1,C))}const c=await Promise.all(u),d={};let f=0;for(const g of c)for(const x of g){const C=r[f];try{if(x.success&&x.returnData&&x.returnData!=="0x"){const k=Tl.decodeFunctionResult("balanceOf",x.returnData);d[C]=k[0]}else d[C]=0n}catch(k){console.error(`Error decoding balance for ${C}:`,k),d[C]=0n}f++}return d}async gasSuggestion(e){return await this.gas.suggestion(e)}async estimateGasLimit(e,t){try{const i=(await this.buildQuote(e)).map(s=>this.gas.estimate(s,t));return(await Promise.all(i)).reduce((s,o)=>s.add(qt.from(o)),qt.from(0))}catch(r){return this.coredex.console.warn("cannot estimate gas limit:",r),qt.from(ng)}}async nativeBalanceOf(e,t){const r=await this.getAccount(t);return await this.getProvider(e).getBalance(r.address)}async wrap(e,t,r){var i,a,s;try{(i=r==null?void 0:r.onHandling)==null||i.call(r);const o=await this.getAccount(e),u=Ri.get(t.currency.chainId),c=await this.invokeSigner(t.currency.chainId,o.address),d=x0.connect(u.address,c),f={chainId:u.chainId,from:o.address,to:u.address,data:d.interface.encodeFunctionData("deposit"),value:`0x${t.quotient.toString(16)}`},g=await this.gas.compute(f),x=await d.deposit({value:`0x${t.quotient.toString(16)}`,gasLimit:g.gasLimit,maxFeePerGas:g.maxFeePerGas,maxPriorityFeePerGas:g.maxPriorityFeePerGas}),C=await x.wait();return C.status===1&&((a=r==null?void 0:r.onSuccess)==null||a.call(r,C)),x}catch(o){throw console.error("wrap error:",o),(s=r==null?void 0:r.onFailure)==null||s.call(r,o),o}}async unwrap(e,t,r){var i,a,s;try{(i=r==null?void 0:r.onHandling)==null||i.call(r);const o=await this.getAccount(e),u=Ri.get(t.currency.chainId),c=await this.invokeSigner(t.currency.chainId,o.address),d=x0.connect(u.address,c),f=`0x${t.quotient.toString(16)}`,g={to:u.address,from:o.address,chainId:u.chainId,data:d.interface.encodeFunctionData("withdraw",[f])},x=await this.gas.compute(g),C=await d.withdraw(f,{gasLimit:x.gasLimit,maxFeePerGas:x.maxFeePerGas,maxPriorityFeePerGas:x.maxPriorityFeePerGas}),k=await C.wait();return k.status===1&&((a=r==null?void 0:r.onSuccess)==null||a.call(r,k)),C}catch(o){throw console.error("unwrap error:",o),(s=r==null?void 0:r.onFailure)==null||s.call(r,o),o}}},Fd=Hk,_c,Al,bg=()=>(_c||(_c=oh(()=>import("./index.BWOEwfNv.js"),[]).then(n=>(Al=n,n)).catch(n=>{throw console.error("failed to import @solana/spl-token",n),n})),_c);bg();var pi=()=>{if(!Al)throw new Error("@solana/spl-token is not loaded yet. Ensure the module is initialized before use.");return Al},Yi=()=>pi().NATIVE_MINT,ur=()=>pi().TOKEN_PROGRAM_ID,R0=()=>pi().TOKEN_2022_PROGRAM_ID,Us=(n,e,t,r,i)=>pi().getAssociatedTokenAddress(n,e,t,r,i),Gk=(n,e)=>pi().createSyncNativeInstruction(n,e),O0=(n,e,t,r,i)=>pi().createCloseAccountInstruction(n,e,t,r,i),N0=(n,e,t,r,i,a)=>pi().createAssociatedTokenAccountInstruction(n,e,t,r,i,a),jk=(n,e,t,r,i,a)=>pi().createTransferInstruction(n,e,t,r,i,a),M0="11111111111111111111111111111111",F0=60,kc=1e3,Wk=class extends lg{constructor(){super();Xe(this,"blockchain",ri.SOLANA);Xe(this,"name",`abstracted-${this.blockchain}`);Xe(this,"nativeAddress",M0);Xe(this,"_initiated",!1)}use(e){return super.use(e),this.initiate(),this}initiate(){var e;try{if(this._initiated)return;const t=this.coredex.getAllChainConfigs().find(r=>r.blockchain===ri.SOLANA);if(!t)throw new Error(`missing chain config (blockchain: ${this.blockchain})`);this.nativeAddress=ot(t,"nativeTokenAddress",M0);try{Ri.set(t.chainId,new gl({chainId:t.chainId,address:Yi().toString(),decimals:t.nativeToken.decimals,symbol:t.nativeToken.symbol,name:t.nativeToken.name,standard:"erc20"}))}catch(r){if((e=r==null?void 0:r.message)!=null&&e.includes("not loaded yet"))bg().then(()=>{try{Ri.set(t.chainId,new gl({chainId:t.chainId,address:Yi().toString(),decimals:t.nativeToken.decimals,symbol:t.nativeToken.symbol,name:t.nativeToken.name,standard:"erc20"}))}catch(i){console.error(`failed to set wrapped token for ${this.blockchain} after module load`,i)}});else throw r}this._initiated=!0}catch(t){throw console.error(`failed to initiate ${this.blockchain} platform`,t),t}}getProvider(e){if(!e){const r=this.coredex.getAllChainConfigs().find(i=>i.blockchain===this.blockchain);if(!r)throw new Error(`missing chain config (blockchain: ${this.blockchain})`);e=r.chainId}const t=this.coredex.dependencies.providerManager.getProvider(e);if(!t)throw new Error(`missing provider (chainId: ${e})`);if(!(t instanceof db))throw new Error(`invalid provider type (chainId: ${e})`);return t}async getSigner(e){const t=await this.getAccount(e),r=await this.coredex.dependencies.getSignerForAddress(t.address);if(!r)throw new Error(`missing signer (address: ${e})`);if(!(r instanceof fb))throw new Error(`invalid signer type (address: ${e})`);return r}async invokeSigner(e,t){const r=this.getProvider(e);return(await this.getSigner(t)).connect(r)}async buildQuote(e){return(await super.buildQuote(e)).map(r=>this.populateTransaction(ot(r,"data")))}async wrap(e,t,r){var i,a,s,o,u;try{(i=r==null?void 0:r.onHandling)==null||i.call(r);const c=await this.getAccount(e),d=await this.invokeSigner(t.currency.chainId,c.address),f=new Gn(c.address),g=await this.wSolAccount(c.address),x=await this.getAccountInfo(g),C=BigInt(t.quotient.toString()),k=new Es;x||k.add(N0(f,g,f,Yi(),ur())),k.add(Ru.transfer({fromPubkey:f,toPubkey:g,lamports:Number(C)})),k.add(Gk(g,ur())),k.feePayer=f,k.recentBlockhash=(await this.getLatestBlockhash(t.currency.chainId)).blockhash;const R=await d.sendTransaction(k);if((a=r==null?void 0:r.onSubmitted)==null||a.call(r,R),!(r!=null&&r.waitForReceipt))return R;(s=r==null?void 0:r.onWaitingForReceipt)==null||s.call(r,R);const $=await this.waitForReceipt(R);if(this.coredex.console.info("receipt",$),$.value.err){const q=JSON.stringify($.value.err);throw new Error(`Transaction confirmation failed: ${q}`)}return(o=r==null?void 0:r.onSuccess)==null||o.call(r,R),R}catch(c){throw console.error(`${this.name} wrap error:`,c),(u=r==null?void 0:r.onFailure)==null||u.call(r,c),c}}async unwrap(e,t,r){var i,a,s,o,u;try{(i=r==null?void 0:r.onHandling)==null||i.call(r);const c=await this.getAccount(e),d=await this.invokeSigner(t.currency.chainId,c.address),f=await this.wSolAccount(c.address);if(!await this.getAccountInfo(f))throw new Error("wSOL account does not exist. Nothing to unwrap.");const x=await this.getWSolBalance(c.address),C=BigInt(x.value.amount);if(BigInt(t.quotient.toString())<C)return await this.handlePartialUnwrap(t.currency.chainId,c,t,r);const R=new Es,$=new Gn(c.address);R.add(O0(f,$,$,[],ur())),R.feePayer=$,R.recentBlockhash=(await this.getLatestBlockhash(t.currency.chainId)).blockhash;const q=await d.sendTransaction(R);if((a=r==null?void 0:r.onSubmitted)==null||a.call(r,q),!(r!=null&&r.waitForReceipt))return q;(s=r==null?void 0:r.onWaitingForReceipt)==null||s.call(r,q);const ie=await this.waitForReceipt(q);if(this.coredex.console.info("receipt",ie),ie.value.err){const te=JSON.stringify(ie.value.err);throw new Error(`Transaction confirmation failed: ${te}`)}return(o=r==null?void 0:r.onSuccess)==null||o.call(r,q),q}catch(c){throw console.error(`${this.name} unwrap error:`,c),(u=r==null?void 0:r.onFailure)==null||u.call(r,c),c}}async sendTransaction(e,t,r,i){var a,s,o,u;try{const d=await(await this.invokeSigner(e,t)).sendTransaction(r);if((a=i==null?void 0:i.onSubmitted)==null||a.call(i,d),!(i!=null&&i.waitForReceipt))return d;(s=i==null?void 0:i.onWaitingForReceipt)==null||s.call(i,d);const f=await this.waitForReceipt(d);if(this.coredex.console.info("receipt",f),f.value.err){const g=JSON.stringify(f.value.err);throw new Error(`Transaction confirmation failed: ${g}`)}return(o=i==null?void 0:i.onSuccess)==null||o.call(i,d),d}catch(c){(u=i==null?void 0:i.onFailure)==null||u.call(i,c);const d=c instanceof Error?c.message:typeof c=="string"?c:String(c),f=new Error(`Transaction failed: ${d}`);throw c instanceof Error&&c.stack&&(f.stack=c.stack),f}}async sendBatchTransaction(e,t,r,{onSuccess:i,onFailure:a,...s}={}){const o=[];for(let u=0;u<r.length;u++)try{const c=r[u],d=u===r.length-1,f=await this.sendTransaction(e,t,c,d?{...s,onSuccess:i,onFailure:a}:s);o.push(f)}catch(c){const d=c instanceof Error?c.message:typeof c=="string"?c:String(c),f=new Error(`Transaction failed: ${d}`);throw c instanceof Error&&c.stack&&(f.stack=c.stack),f}return o}async nativeBalanceOf(e,t){const r=this.getProvider(e),i=new Gn(t),a=await r.getBalance(i);return BigInt(a)}async balanceOf(e,t,r){try{if(this.isNativeAddress(r))return await this.nativeBalanceOf(e,t);const i=this.getProvider(e),a=new Gn(t),s=new Gn(r),o=await this.getTokenProgramId(r),u=await Us(s,a,!1,o);if(!await i.getAccountInfo(u))return 0n;const d=await i.getTokenAccountBalance(u);return BigInt(d.value.amount)}catch(i){throw console.error(`Error getting balance for ${r}:`,i),i}}async batchBalanceOf(e,t,r){const i={},a=r.filter(o=>this.isNativeAddress(o)),s=r.filter(o=>!this.isNativeAddress(o));if(a.length>0){const o=await this.nativeBalanceOf(e,t);for(const u of a)i[u]=o}if(s.length>0){const o=await this.batchSplTokenBalances(e,t,s);Object.assign(i,o)}return i}async getNetworkFees(e){try{const t=await this.buildQuote(e);if(!Array.isArray(t))throw new Error("invalid built routes response");const r=this.getNativeCurrency(e.chainId);if(!r)throw new Error("cannot get native currency");const a=(await Promise.all(t.map(u=>this.computeTxFee(u)))).reduce((u,c)=>u+(c||0),0);return this.coredex.console.info(`Total estimated fee: ${a} lamports (${t.length} transaction(s))`),[{level:"medium",amount:new on(a).dividedBy(new on(10).pow(r.decimals)),currency:r}]}catch(t){console.error(`cannot get network fee (chainId: ${e.chainId}):`,t);return}}async getTransactionFeeFromTxHash(e){try{const r=await this.getProvider().getParsedTransaction(e,{maxSupportedTransactionVersion:0});if(!r||!r.meta){this.coredex.console.warn(`Transaction ${e} not found or has no meta`);return}return r.meta.fee}catch(t){console.error(`Error getting actual fee for tx ${e}:`,t);return}}async verifyNetworkFee(e,t){var r;try{const i=await this.getNetworkFees(e),a=(r=i==null?void 0:i[0])==null?void 0:r.amount;if(!a)throw new Error("Could not get estimated fee");const s=await this.getTransactionFeeFromTxHash(t);if(s===void 0)return{estimated:a,actual:void 0,actualLamports:void 0,difference:void 0,match:!1};const o=this.getNativeCurrency(e.chainId);if(!o)throw new Error("cannot get native currency");const u=new on(s).dividedBy(new on(10).pow(o.decimals)),c=a.minus(u),d=c.abs().isLessThan(new on(1e-6));return this.coredex.console.info("Fee verification:",{estimated:`${a.toString()} SOL (${a.multipliedBy(new on(10).pow(o.decimals)).toString()} lamports)`,actual:`${u.toString()} SOL (${s} lamports)`,difference:`${c.toString()} SOL`,match:d,txHash:t}),{estimated:a,actual:u,actualLamports:s,difference:c,match:d}}catch(i){throw console.error("Error verifying network fee:",i),i}}async getAccountInfo(e,t){return await this.getProvider().getAccountInfo(e,t)}async wSolAccount(e,t=Yi()){return await Us(t,new Gn(e))}async getWSolBalance(e){const t=this.getProvider(),r=await this.wSolAccount(e);return await t.getTokenAccountBalance(r)}async handlePartialUnwrap(e,t,r,i){var R,$,q;const a=$d.generate(),s=await Us(Yi(),a.publicKey),o=new Es,u=this.getProvider(e),c=new Gn(t.address),d=await u.getMinimumBalanceForRentExemption(0);o.add(Ru.createAccount({fromPubkey:c,newAccountPubkey:a.publicKey,lamports:d,programId:Ru.programId,space:0}));const f=await this.wSolAccount(t.address,new Gn(r.currency.address));o.add(N0(c,s,a.publicKey,Yi(),ur())),o.add(jk(f,s,c,BigInt(r.quotient.toString()),[],ur())),o.add(O0(s,c,a.publicKey,[],ur())),o.feePayer=c,o.recentBlockhash=(await this.getLatestBlockhash(e)).blockhash;const g=await oh(()=>import("./index.BnNJTyPc.js").then(ie=>ie.i),[]),x=$d.fromSecretKey(g.default.decode(t.privateKey));o.sign(a,x);const C=await u.sendRawTransaction(o.serialize(),{skipPreflight:!1});if((R=i==null?void 0:i.onSubmitted)==null||R.call(i,C),!(i!=null&&i.waitForReceipt))return C;($=i==null?void 0:i.onWaitingForReceipt)==null||$.call(i,C);const k=await this.waitForReceipt(C);if(this.coredex.console.info("receipt",k),k.value.err){const ie=JSON.stringify(k.value.err);throw new Error(`Transaction confirmation failed: ${ie}`)}return(q=i==null?void 0:i.onSuccess)==null||q.call(i,C),C}async getLatestBlockhash(e){return await this.getProvider(e).getLatestBlockhash()}async getTokenProgramId(e){try{const t=await this.getAccountInfo(new Gn(e));if(!t)throw new Error(`Token account not found for ${e}`);const{owner:r}=t;return r.equals(ur())?ur():r.equals(R0())?R0():r}catch(t){return this.coredex.console.warn(`Error getting token program id for ${e}:`,t),this.coredex.console.warn(`Using default token program id: ${ur().toString()}`),ur()}}populateTransaction(e){if(!e||typeof e!="string")throw new Error("invalid  signature");const t=eh.from(e,"base64"),r=new Uint8Array(t);try{return Hd.deserialize(r)}catch{return Es.from(t)}}async waitForReceipt(e){const t=this.getProvider();for(let r=0;r<F0;r++){const i=await t.getSignatureStatus(e,{searchTransactionHistory:!0}),a=ot(i,"value");if(!a){await Nc(kc);continue}if(a.err)return{value:{err:a.err}};if(a.confirmationStatus==="confirmed"||a.confirmationStatus==="finalized")return{value:{status:a,err:null}};await Nc(kc)}throw new Error(`waitForReceipt timeout: signature ${e} was not confirmed within ${F0*kc}ms`)}async computeTxFee(e){try{const t=this.getProvider();if(e instanceof Hd&&"message"in e)return(await t.getFeeForMessage(e.message)).value||0;const r=e.compileMessage();return(await t.getFeeForMessage(r)).value||0}catch(t){console.error("unable to compute tx fee",t)}}async batchSplTokenBalances(e,t,r){const i=this.getProvider(e),a=new Gn(t),s={};try{const o=await Promise.all(r.map(async c=>{const d=new Gn(c),f=await this.getTokenProgramId(c);return await Us(d,a,!1,f)})),u=await i.getMultipleAccountsInfo(o);for(let c=0;c<r.length;c++){const d=r[c],f=u[c];try{if(!f)s[d]=0n;else{const g=await i.getTokenAccountBalance(o[c]);s[d]=BigInt(g.value.amount)}}catch(g){console.error(`Error decoding balance for ${d}:`,g),s[d]=0n}}}catch(o){console.error("Error in batch SPL token balance fetch:",o);for(const u of r)try{s[u]=await this.balanceOf(e,t,u)}catch(c){console.error(`Error getting balance for ${u}:`,c),s[u]=0n}}return s}},zk=Wk,Pc="price",Vk=Ne.fromRawAmount(yo[sn.RONIN].USDC,1e10),Kk=Ne.fromRawAmount(br.onChain(sn.RONIN),3e21),Xk=class extends Fd{constructor(){super();Xe(this,"name","katana-evm");Xe(this,"isCustom",!0);Xe(this,"getUniversalRouterFee",e=>{if(!(!e||!e.swapFee))return e.tradeType===et.EXACT_INPUT?{fee:{fee:e.swapFee.percent,recipient:e.swapFee.recipient}}:{flatFee:{amount:qt.from(e.swapFee.amount),recipient:e.swapFee.recipient}}})}async computeQuote(e){const t=e.__origin.payload,r=t.direction==="exactIn",i=Ne.fromRawAmount(r?t.currencyIn:t.currencyOut,t.amount),a=this.getRoutingAPIArguments({amount:i,currencyIn:t.currencyIn,currencyOut:t.currencyOut,tradeType:r?et.EXACT_INPUT:et.EXACT_OUTPUT});if(!a)throw new Error("Invalid transformQuoteToTrade args");let s;const o=JSON.parse(ot(e,"calldataBuilder.data"));try{const R={...a},$=ot(e,"extraFee.recipient"),q=ot(e,"extraFee.percentage");ro($)&&q instanceof ft&&(R.portionRecipient=$,R.portionBips=parseFloat(q.toSignificant(2))),s=x1(R,o)}catch(R){console.error("cannot transform quote to trade:",R)}if(!s)throw new Error("No best trade found");const u=t.direction==="exactIn"?i:s.inputAmount,c=t.direction==="exactOut"?i:s.outputAmount,d={tokenIn:u,tokenOut:c},f=s.minimumAmountOut(t.slippageToleranceBps,s.postSwapFeeOutputAmount),g=s.maximumAmountIn(t.slippageToleranceBps),x=s.executionPrice,C=g&&f?new Ot(s.inputAmount.currency,s.outputAmount.currency,g.quotient,f.quotient):void 0,k={amounts:d,maximumAmountIn:g,minimumAmountOut:f,executionPrice:x,worstExecutionPrice:C,clientTrade:s,...this.getDefaultQuote(e)};return k.getAllocatedFee=()=>this.getAllocatedFee(k),k.getNetworkFees=()=>this.getNetworkFees(k),k}async buildQuote(e,t){const r=e.clientTrade;if(!r)throw new Error("Cannot build quote: clientTrade is undefined");const i={slippageTolerance:e.__origin.payload.slippageToleranceBps,...this.getUniversalRouterFee(r)};typeof(t==null?void 0:t.permitSignature)=="object"&&(i.inputTokenPermit=t.permitSignature);const a=e.__origin.payload.currencyIn.chainId,s=await this.getDeadline(a,ot(e,"__origin.payload.txDeadline",O9));i.deadlineOrPreviousBlockhash=s==null?void 0:s.toString();const{calldata:o,value:u}=Io.SwapRouter.swapERC20CallParameters(r,i),c=u&&!q9(u)?{value:Ge(u)}:{};return[{chainId:a,to:e.universalRouterAddress,from:e.__origin.payload.account,data:o,...c}]}async getDeadline(e,t){if(!t)throw new Error("user deadline is required");const i=await cg.connect(L9,this.coredex.dependencies.providerManager.getProvider(e)).getCurrentBlockTimestamp();if(!i)throw new Error("Cannot get block timestamp");return qt.from(i).add(t)}async computeRealizedLPFee(e){try{const t=ik(e);if(!t)return;const[r,i]=t;if(!r)return;const a=await this.getUsdPrice(r);return a!=null&&a.data?{type:"protocol",amountUsd:new on(a.data),amount:r,percent:i}:void 0}catch(t){console.error("cannot compute realized lp fee:",t)}}async getAllocatedFee(e){const t=await super.getAllocatedFee(e),r=await this.computeRealizedLPFee(e.clientTrade);return t&&(r==null?void 0:r.amountUsd)instanceof on&&!r.amountUsd.isNaN()&&(t.allocation.push(r),t.totalFeeUsd=t.allocation.reduce((i,a)=>i.plus(a.amountUsd??0),new on(0))),t}async getUsdPrice(e){try{const t=await this.getPriceByRon(e.currency),r=await this.coredex.aggregator.getPrice(sn.RONIN,br.onChain(sn.RONIN).wrapped.address);if(!hr(t)&&t instanceof Ot&&typeof r=="number")return{data:parseFloat(t.quote(e).toExact())*r,price:t};const i=await this.getStablecoinPrice(e.currency);if(!i)throw new Error("cannot get stablecoin price");return{data:parseFloat(i.quote(e).toSignificant()),price:i}}catch(t){console.error("get usd price failed: ",t);return}}async getPriceByRon(e){const t=e.chainId,r=br.onChain(t);if(e.wrapped.equals(r.wrapped))return new Ot(e,e,"1","1");const i=await this.getQuote(et.EXACT_OUTPUT,Kk,e,Pc);if(i&&i&&i instanceof dl){const{numerator:a,denominator:s}=i.routes[0].midPrice;return new Ot(e,r,s,a)}}async getStablecoinPrice(e){const r=e.chainId?Vk:void 0,i=r==null?void 0:r.currency;if(!i)return;if(e!=null&&e.wrapped.equals(i))return new Ot(i,i,"1","1");const a=await this.getQuote(et.EXACT_OUTPUT,r,e,Pc);if(a&&a instanceof dl){const{numerator:s,denominator:o}=a.routes[0].midPrice;return new Ot(e,i,o,s)}}async getQuote(e,t,r,i,a=!1){const[s,o]=e===et.EXACT_INPUT?[t==null?void 0:t.currency,r]:[r,t==null?void 0:t.currency],u=this.getRoutingAPIArguments({currencyIn:s,currencyOut:o,amount:t,tradeType:e,routerPreference:i,isUSCountry:a});return u?await JA(u):null}getRoutingAPIArguments({amount:e,tradeType:t,currencyIn:r,currencyOut:i,routerPreference:a="api"}){if(!(!r||!i||!e||r.equals(i)||r.wrapped.equals(i.wrapped)))return{chainId:r.chainId,tokenInAddress:this.handleCurrencyAddress(r),tokenOutAddress:this.handleCurrencyAddress(i),amount:e.quotient.toString(),intent:a===Pc?cl.Pricing:cl.Quote,tradeType:t}}handleCurrencyAddress(e){return e.isNative||e.isToken&&this.isNativeAddress(e.address)?this.coredex.getNativeAsset(e.chainId):e.address}},Qk=class extends Nd{constructor(){super();Xe(this,"platform",new Map([[ri.EVM,new Fd],[ri.SOLANA,new zk],["katana",new Xk]]))}use(e){return super.use(e),this.platform.forEach(t=>t.use(this.coredex)),this}fromChainId(e){const t=this.coredex.getChainConfig(e),r=this.platform.get(t.blockchain);if(!r)throw new Error(`missing platform (chainId: ${e})`);return r}fromQuote(e){return["katana"].includes(e.provider)&&e.calldataBuilder.strategy==="uniswap_like"?this.platform.get("katana"):this.fromChainId(e.chainId)}},Yk=Qk,Zk=Me.tuple([Me.string(),Me.string()]),Jk=class{constructor(n){Xe(this,"aggregator",new hk);Xe(this,"platform",new Yk);Xe(this,"updating",!1);Xe(this,"sigil",new nb(Zk,{separator:"_"}));Xe(this,"emitter",new rb);this.dependencies=n,this.install_dependencies(n)}install_dependencies(n){this.dependencies=n,this.aggregator.use(this),this.platform.use(this)}async updateDependencies(n){return this.updating=!0,this.dependencies={...this.dependencies,...n},this.install_dependencies(this.dependencies),Promise.resolve(this.updating=!1)}getNativeAsset(n){return this.getChainConfig(n).nativeToken.symbol.toUpperCase()}getChainConfigId(n){return ot(n,"isCustom",!1)?n.rpcUrl:String(n.chainId)}getAllChainConfigs(){return this.dependencies.providerManager.getChainConfigs()}getChainConfig(n){const e=this.getAllChainConfigs().find(t=>t.chainId===n);if(!e)throw new Error("chain config not found");return e}createSigil(n,e){const t=this.getChainConfig(n);return this.sigil.create(t.rpcUrl,e)}confirmationBlocks(n){if([sn.RONIN,sn.SAIGON].includes(n))return 1}async mixedBalanceOf(n,e){const t=$1(e);if(t.length===1){const s=t[0].chainId,o=t[0].address,u=this.platform.fromChainId(s),c=await u.getAccount(n),d=await u.balanceOf(s,c.address,o);return{[s]:{[o]:d}}}const r=Object.entries(X1(t,"chainId"));if(r.length===0)throw new Error("failed to batch balances (no currencies found)");const i={},a=r.reduce((s,o)=>{try{const u=Ol(ot(o,"0")),c=ot(o,"1",[]).map(d=>d.address);return c.length===0||s.push({chainId:u,getBalances:d=>this.platform.fromChainId(u).batchBalanceOf(u,d,c)}),s}catch{return s}},[]);for await(const{chainId:s,getBalances:o}of a){const u=await this.platform.fromChainId(s).getAccount(n),c=await o(u.address);i[s]=c}return i}notify(n,e){this.emitter.emit(n,e)}get console(){const n={log:(...e)=>{},warn:(...e)=>{},info:(...e)=>{},error:(...e)=>{}};return this.dependencies.debug&&(n.log=(...e)=>console.log(...e),n.warn=(...e)=>console.warn(...e),n.info=(...e)=>console.info(...e),n.error=(...e)=>console.error(...e)),n}},eP=5,tP=1e4,nP=3,rP=8e3,iP=()=>{const n={maxConcurrentQuotes:eP,quoteTimeoutMs:tP,delayBetweenBatches:0};return ub()&&(n.maxConcurrentQuotes=nP,n.quoteTimeoutMs=rP),n},aP=class{constructor(n=iP()){Xe(this,"quoteTimeoutMs");Xe(this,"maxConcurrentQuotes");Xe(this,"delayBetweenBatches");this.quoteTimeoutMs=n.quoteTimeoutMs,this.maxConcurrentQuotes=n.maxConcurrentQuotes,this.delayBetweenBatches=n.delayBetweenBatches}async handle(n,e,t=this.maxConcurrentQuotes){const r=[];for(let i=0;i<n.length;i+=t){const s=n.slice(i,i+t).map((u,c)=>this.raceAsync(e(u,i+c),this.quoteTimeoutMs)),o=await Promise.all(s);r.push(...o),this.delayBetweenBatches>0&&i+t<n.length&&await Nc(this.delayBetweenBatches)}return r}raceAsync(n,e=this.quoteTimeoutMs,t="operation timed out"){return Promise.race([n,new Promise((r,i)=>setTimeout(()=>i(new Error(t)),e))])}},sP=aP;function oP(n){try{const e=Ne.fromRawAmount(n.currencyIn,n.amount),t=Ne.fromRawAmount(n.currencyOut,n.amount),r={tokenIn:e,tokenOut:t},i=ig(n.currencyIn,n.currencyOut),a={__origin:{payload:n},amounts:r,wrapInfo:i,quoteId:"",provider:"wrap",routes:[],chainId:n.currencyIn.chainId,currencyIn:n.currencyIn,currencyOut:n.currencyOut,calldataBuilder:{},permit2Address:"",universalRouterAddress:"",isBestTrade:!0,amountIn:e,amountOut:t,amountInUsd:void 0,amountOutUsd:void 0,priceImpact:void 0,extraFee:void 0,getAllocatedFee:async()=>{},getNetworkFees:async()=>{}};return a.quoteId=ag(a),a}catch(e){throw console.error("simulate wrap quote error: ",e),e}}function uP(n){return!hr(n==null?void 0:n.wrapInfo)&&n.wrapInfo.type!=="not-applicable"}var qP=class{constructor(n){Xe(this,"racer",new sP);this.coredex=n}setLocation(n){this.coredex.aggregator.api.header("x-region-code",n)}async updateDeps(n){await this.coredex.updateDependencies(n)}get sigil(){return this.coredex.sigil}getCurrencySigil(n){return this.coredex.createSigil(n.chainId,n.address)}getNativeCurrency(n){return this.coredex.platform.fromChainId(n).getNativeCurrency(n)}async balanceOf(n,e){const t=$1(e);if(Object.entries(X1(t,"chainId")).length===0)throw new Error("no currencies provided");const i=await this.coredex.mixedBalanceOf(n,t),a=Object.entries(i),s=[],o={};for(const u of t)try{const c=this.coredex.createSigil(u.chainId,u.address);s.push(c);const d=a.find(([f])=>Ol(f)===u.chainId);o[c]=ot(d,`1.${u.address}`,"0").toString()}catch(c){console.error(c);continue}return{ids:s,data:o}}async getDexTokens(n,e){return await this.coredex.aggregator.tokens(n,e)}async getQuotes(n){if(n.slippageToleranceBps.lessThan(S9))throw new Error("Slippage tolerance must be equal to or greater than 0.1%");if(n.slippageToleranceBps.greaterThan(C9))throw new Error("Slippage tolerance must be equal to or less than 30%");const e=ig(n.currencyIn,n.currencyOut);if((e==null?void 0:e.type)!=="not-applicable")return Promise.resolve([oP(n)]);const t=await this.coredex.aggregator.find(n),r=await this.racer.handle(t,async i=>{try{return await this.coredex.platform.fromQuote(i).computeQuote(i)}catch(a){console.error(a)}});return G9(n.direction,r.filter(i=>!hr(i)))}async build(n,e){return await this.coredex.platform.fromQuote(n).buildQuote(n,e)}async handle(n,{waitForReceipt:e=!0,...t}={}){const r=i=>({txHash:typeof i=="string"?i:i.hash,amountIn:n.amounts.tokenIn,amountOut:n.amounts.tokenOut});try{const i=this.coredex.platform.fromQuote(n);this.coredex.console.info(`[${i.name}] handling transaction`);const a={waitForReceipt:e,...t};if(uP(n)){const{method:c}=n.wrapInfo,d=n.amounts.tokenIn,f=await i[c](n.__origin.payload.account,d,{...a,onHandling:()=>{this.coredex.notify(n.quoteId,{state:n.wrapInfo.type==="wrap"?"wrapping":"unwrapping",data:{amount:d}})},onSuccess:()=>{this.coredex.notify(n.quoteId,{state:n.wrapInfo.type==="wrap"?"wrapped":"unwrapped",data:{amount:d}})}});return this.coredex.console.info("tx hash",ot(f,"hash",f)),f}this.coredex.notify(n.quoteId,{state:"computing"});let s;i instanceof Fd&&i.blockchain===ri.EVM&&(s=await i.authorize(n));let o;const u=await this.build(n,{permitSignature:s});return Object.assign(a,{onSubmitted:c=>{this.coredex.notify(n.quoteId,{state:"transaction-submitted",data:r(c)})},onWaitingForReceipt:c=>{this.coredex.notify(n.quoteId,{state:"waiting-for-receipt",data:r(c)})},onSuccess:c=>{this.coredex.notify(n.quoteId,{state:"success",data:r(c)})},onFailure:c=>{this.coredex.notify(n.quoteId,{state:"failed",error:to(c),data:{amountIn:n.amounts.tokenIn,amountOut:n.amounts.tokenOut}})}}),u.length===1?o=await i.sendTransaction(n.chainId,n.__origin.payload.account,u[0],a):o=await i.sendBatchTransaction(n.chainId,n.__origin.payload.account,u,a),this.coredex.console.info("tx hash",ot(o,"hash",o)),o}catch(i){throw this.coredex.notify(n.quoteId,{state:"failed",error:to(i),data:r(i)}),i}finally{this.coredex.emitter.removeAllListeners()}}createDexCurrency(n){return this.coredex.platform.fromChainId(n.chainId).createDexCurrency(n)}subscribe(n,e){return this.coredex.emitter.on(n,e),()=>this.coredex.emitter.off(n,e)}};/*! Bundled license information:

js-sha3/src/sha3.js:
  (**
   * [js-sha3]{@link https://github.com/emn178/js-sha3}
   *
   * @version 0.8.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2015-2018
   * @license MIT
   *)
*/const D0={tokenIn:null,tokenOut:null,slippage:I9,processingQuoteId:null,currentProvider:null,feeLevel:tg.Medium,amount:""},$P=yb(n=>({...D0,setTokenIn:e=>n({tokenIn:e}),setTokenOut:e=>n({tokenOut:e}),setAmount:(e,t)=>{n({amount:e,swapType:t===eg.TokenOut?Mc.EXACT_OUT:Mc.EXACT_IN})},setSlippage:e=>n({slippage:e}),setCurrentProvider:e=>n({currentProvider:e}),setProcessingQuoteId:e=>n({processingQuoteId:e}),setSwapType:e=>n({swapType:e}),setFeeLevel:e=>n({feeLevel:e}),resetSwapStore:()=>n(D0)}));export{k9 as A,Rd as B,Jk as C,qP as D,eg as F,tg as N,ft as P,Mc as S,_9 as W,X4 as _,Ne as a,P9 as b,Ot as c,f2 as d,I9 as e,LP as f,O4 as g,D4 as h,i9 as i,m_ as j,J8 as k,q7 as l,UP as m,h8 as n,H1 as o,z1 as p,m2 as q,M4 as r,z8 as s,m8 as t,$P as u,Cd as v};
