import{j as e}from"./useTriggerLoadNext.KJIKMCqU.js";import{R as x,r as c}from"./index.CxJLds0B.js";import{U as b}from"./Unlock.BESn9bxh.js";import{c as R,aJ as K,U as A,t as W,ao as H,I as D,r as $,a5 as B}from"./useActiveTimeStore.C3Wei7Oz.js";import{a as m,r as F,x as O,b as U,T as z,e as Y,f as M,q as k}from"./windowUtils.Ut7JS-rc.js";import{r as V,s as Z,u as L}from"./solana.CGFphaJI.js";import{I as _,T as v,B as y,f as E,S as j}from"./PasswordLevelLabel.rhWNhrqO.js";import{L as f,B as q,P as G}from"./PopupLoading.D-LitESe.js";import{c as I}from"./EyeFill.nydyW7Qz.js";import{S as J}from"./ShowPasswordToggler.eaRYVsWD.js";const Q=R(x.createElement(x.Fragment,null,x.createElement("path",{d:"M256 120a8 8 0 0 1-8 8H8a8 8 0 0 1 0-16h27.92l47.5-65.41a16 16 0 0 1 25.31-.72l12.85 14.9.2.23a7.95 7.95 0 0 0 12.44 0l.2-.23 12.85-14.9a16 16 0 0 1 25.31.72l47.5 65.41H248a8 8 0 0 1 8 8Zm-76 24a36 36 0 0 0-35.77 32h-32.46a36 36 0 1 0-1.83 16h36.12A36 36 0 1 0 180 144Z"})),"DetectiveFillIcon"),X=R(x.createElement(x.Fragment,null,x.createElement("path",{d:"M160 16a80.07 80.07 0 0 0-76.09 104.78l-57.57 57.56A8 8 0 0 0 24 184v40a8 8 0 0 0 8 8h40a8 8 0 0 0 8-8v-16h16a8 8 0 0 0 8-8v-16h16a8 8 0 0 0 5.66-2.34l9.56-9.57A80 80 0 1 0 160 16Zm20 76a16 16 0 1 1 16-16 16 16 0 0 1-16 16Z"})),"KeyFillIcon"),ee=()=>{const{openToast:s,contextHolder:n}=K({closable:!0,maxCount:2});return{showToast:a=>{s({icon:a.icon??A,title:a.title,duration:a.duration??5,intent:a.intent??_.Default,content:e.jsx(v.Text,{color:"gray",level:"3",children:a.content}),rightElement:a.rightElement,placement:"topRight"})},contextHolder:n}},te="_wrapper_1m9b3_1",ne="_container_1m9b3_10",se="_reveal_1m9b3_19",g={wrapper:te,container:ne,reveal:se},ae=s=>{const{onShow:n,onHide:t,isShow:a,children:o}=s,r=c.useRef(!1);c.useEffect(()=>(r.current=!1,()=>{r.current=!0}),[]);const d=()=>{n&&n(),setTimeout(()=>{r.current||t&&t()},15e3)};return e.jsxs("div",{className:g.wrapper,children:[e.jsx("div",{className:g.container,style:{filter:a?void 0:"blur(6px)"},children:o}),!a&&e.jsx("div",{className:g.reveal,children:e.jsx(y,{text:m.reveal.recoveryPhrase.revealRecoveryPhrase,variant:E.Plain,onClick:d,icon:I})})]})},re="_key_4ts84_1",oe="_word_4ts84_6",ce="_index_4ts84_11",w={key:re,word:oe,index:ce},ie=s=>{const{seedPhrase:n="",onRevealSeed:t}=s,a=c.useRef(!1),[o,r]=c.useState(!1);c.useEffect(()=>(a.current=!1,()=>{a.current=!0}),[]);const d=()=>{r(!0),t&&t()},u=()=>{r(!1)},h=n.split(" ");return e.jsx(ae,{onShow:d,onHide:u,isShow:o,children:h.map((N,C)=>e.jsxs("div",{className:w.key,children:[e.jsx(v.Text,{level:"2",intent:_.Secondary,className:w.index,children:C+1}),e.jsx(v.Text,{level:"2",className:w.word,translate:"no",children:N})]},C))})},le="_wrapper_tjw9k_1",de="_container_tjw9k_9",ue="_icon_tjw9k_17",ve="_reveal_tjw9k_20",pe="_eyeIcon_tjw9k_30",_e="_key_tjw9k_33",he="_divider_tjw9k_37",p={wrapper:le,container:de,icon:ue,reveal:ve,eyeIcon:pe,key:_e,divider:he},xe=s=>{const{privateKey:n}=s,[t,a]=c.useState(!1),o=c.useRef(!1);return c.useEffect(()=>(o.current=!1,()=>{o.current=!0}),[]),e.jsxs("div",{className:p.wrapper,children:[e.jsxs("div",{style:{filter:t?void 0:"blur(12.5px)"},className:p.container,children:[e.jsx("div",{children:e.jsx(X,{className:p.icon,size:48})}),e.jsxs("div",{children:[e.jsx(v.Text,{level:"3",className:p.key,children:n}),e.jsx("div",{className:p.divider})]})]}),!t&&e.jsxs("div",{className:p.reveal,role:"button",tabIndex:0,onClick:()=>{a(!0),setTimeout(()=>{o.current||a(!1)},15e3)},children:[e.jsx(I,{size:20,className:p.eyeIcon}),e.jsx(v.Text,{level:"3",bold:!0,className:p.revealText,children:m.reveal.privateKey.revealPrivateKey})]})]})},me="_body_172al_1",ye="_containerIconWarning_172al_6",je="_title_172al_18",fe="_content_172al_21",ge="_input_172al_63",we="_copyContainer_172al_67",Se="_dialog_172al_71",Pe="_titleContainer_172al_75",Ce="_containerIconWarningDialog_172al_84",be="_iconWarning_172al_94",Re="_dialogContent_172al_97",ke="_button_172al_102",l={body:me,containerIconWarning:ye,title:je,content:fe,input:ge,copyContainer:we,dialog:Se,titleContainer:Pe,containerIconWarningDialog:Ce,iconWarning:be,dialogContent:Re,button:ke};var S=(s=>(s[s.PRIVATE_KEY=0]="PRIVATE_KEY",s[s.SEED_PHRASE=1]="SEED_PHRASE",s[s.BACKUP_PASSWORD=2]="BACKUP_PASSWORD",s))(S||{});const{reveal:i}=m,P=s=>{const{content:n,trackingScreen:t,...a}=s,{showToast:o,contextHolder:r}=ee(),d=u=>{navigator.clipboard.writeText(u),o({icon:$,title:"",intent:_.Success,content:m.common.copiedToClipboard,duration:1}),U.sendEvent(z.Click,Y.App,M.CopyClipboard,{action_properties:{screen:t}})};return e.jsxs(e.Fragment,{children:[r,e.jsx(y,{fullWidth:!0,className:l.copyContainer,variant:E.Plain,onClick:()=>d(n),icon:()=>e.jsx(H,{size:20}),text:e.jsx(v.Text,{level:"3",bold:!0,children:i.copyToClipboard}),...a})]})},Ee=s=>{const{walletId:n}=s,[t,a]=c.useState([]);return c.useEffect(()=>{(async()=>{const r=await V(n);a(r==null?void 0:r.split(" "))})()},[n]),t?e.jsxs(e.Fragment,{children:[e.jsx(ie,{seedPhrase:t==null?void 0:t.join(" ")}),e.jsx(P,{content:t==null?void 0:t.join(" "),trackingScreen:"Seed Phrase"})]}):null},Ie=s=>{const{address:n}=s,[t,a]=c.useState("");return c.useEffect(()=>{(async()=>{const r=await Z(n);a(r)})()},[n]),t?e.jsxs(e.Fragment,{children:[e.jsx(xe,{privateKey:t}),e.jsx(P,{content:t,trackingScreen:"Private Key"})]}):null},Te=s=>{const[n,t]=c.useState(!1),{walletId:a,invalidPassword:o}=s,[r,d]=c.useState("");return c.useEffect(()=>{(async()=>{const h=await L(a);d(h)})()},[a]),r?e.jsxs(e.Fragment,{children:[e.jsx(D,{readOnly:!0,intent:o?_.Danger:void 0,label:i.recoveryPassword.recoveryPassword,type:n?"text":"password",className:l.input,shape:j.Rounded,value:r,suffixIcon:e.jsx(J,{isShow:n,onToggleShow:()=>{t(u=>!u)}}),withBackground:!0}),e.jsx(P,{content:r,trackingScreen:"Recovery Password"})]}):null},T=s=>{const{type:n,walletId:t,address:a,invalidPassword:o}=s,r=F(),[d,u]=c.useState(!1),h=()=>n===1?{title:i.recoveryPhrase.title,content:i.forYourEyesOnly.content.seedPhrase,reveal:i.recoveryPhrase.revealRecoveryPhrase}:n===2?{title:i.recoveryPassword.title,content:i.forYourEyesOnly.content.backupPassword,reveal:i.recoveryPassword.recoveryPassword}:{title:i.privateKey.title,content:i.forYourEyesOnly.content.privateKey,reveal:i.privateKey.revealPrivateKey};return e.jsxs(f,{className:"",noFooter:!0,noBackground:!0,children:[e.jsx(f.BackableNavbar,{noBackground:!0,title:h().title}),e.jsxs(f.Content,{className:l.body,children:[e.jsx("div",{className:l.containerIconWarning,children:e.jsx(Q,{size:48})}),e.jsx(v.Heading,{level:"5",className:l.title,children:i.forYourEyesOnly.title}),e.jsx(v.Text,{level:"3",className:l.content,children:h().content}),n===1&&e.jsx(Ee,{walletId:t}),n===0&&e.jsx(Ie,{address:a}),n===2&&e.jsx(Te,{walletId:t,invalidPassword:o}),n===2&&e.jsx(q,{className:l.footer,children:e.jsx(y,{fullWidth:!0,disabled:o,shape:j.Rounded,intent:_.Primary,text:i.changePassword,onClick:()=>u(!0)})}),e.jsx(G,{className:l.dialog,visible:d,title:e.jsxs("div",{className:l.titleContainer,children:[e.jsx("div",{className:l.containerIconWarningDialog,children:e.jsx(W,{size:48,className:l.iconWarning})}),e.jsx(v.Heading,{level:"5",children:i.confirmChangePassword.title})]}),content:e.jsx(v.Text,{level:"3",className:l.dialogContent,children:i.confirmChangePassword.message}),footer:e.jsxs(e.Fragment,{children:[e.jsx(y,{text:m.common.yes,fullWidth:!0,shape:j.Rounded,intent:_.Primary,className:l.button,onClick:()=>r(O.CHANGE_PASSWORD)}),e.jsx(y,{text:m.common.no,fullWidth:!0,shape:j.Rounded,intent:_.Secondary,onClick:()=>u(!1)})]}),showClose:!1})]})]})},Ne=()=>{var d,u;const{blockchain:s,accountId:n}=k(),[t,a]=c.useState(0),o=B(n),r=(u=(d=o==null?void 0:o.chains)==null?void 0:d[s])==null?void 0:u.address;return e.jsxs(e.Fragment,{children:[t===0&&e.jsx(b,{onSuccess:()=>a(1)}),t===1&&e.jsx(T,{type:S.PRIVATE_KEY,address:r})]})},Ye=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"})),Ke=()=>{const{walletId:s}=k(),[n,t]=c.useState(0);return e.jsxs(e.Fragment,{children:[n===0&&e.jsx(b,{onSuccess:()=>t(1)}),n===1&&e.jsx(T,{type:S.SEED_PHRASE,walletId:s})]})},Me=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));export{P as C,T as R,S as a,Ye as b,Me as c};
