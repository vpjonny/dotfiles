import{j as t}from"./useTriggerLoadNext.KJIKMCqU.js";import{o as G,L as p,S as L,C as O,P as A}from"./PopupLoading.D-LitESe.js";import{r as l}from"./index.CxJLds0B.js";import{n as X,u as $,g as V,K as T,B as v,C as H}from"./useActiveTimeStore.C3Wei7Oz.js";import{r as K,a as g,E as I,x as R}from"./windowUtils.Ut7JS-rc.js";import{G as q}from"./GroupFooterDialog.DIG6SS89.js";import{S as J}from"./index.C702uFBM.js";import{T as a,L as Q,f as P}from"./PasswordLevelLabel.rhWNhrqO.js";import{t as W}from"./ConfirmRemoveToken.jRKaKLZd.js";import{a as Y}from"./SummaryRow.DvX50DLf.js";import"./solana.CGFphaJI.js";import"./enum.CGJbW6Yf.js";import"./tiny-invariant.BHpmfUqq.js";import"./preload-helper.2LWRYvkK.js";import"./useDebouncedEffect.CslCnlPq.js";const Z="_settingList_wn68r_1",tt="_description_wn68r_15",nt="_rpcContainer_wn68r_20",st="_rpcName_wn68r_26",et="_rpcUrl_wn68r_32",ot="_addButton_wn68r_40",it="_rpcList_wn68r_56",at="_rpcListTitle_wn68r_62",ct="_actionButtonContainer_wn68r_68",rt="_iconButton_wn68r_74",lt="_dialogContent_wn68r_78",mt="_dialogFooter_wn68r_83",e={settingList:Z,switch:"_switch_wn68r_7",description:tt,rpcContainer:nt,rpcName:st,rpcUrl:et,addButton:ot,rpcList:it,rpcListTitle:at,actionButtonContainer:ct,iconButton:rt,dialogContent:lt,dialogFooter:mt},Tt=()=>{var j,w,N;const{toggleCustomRPC:_,settingInfo:m}=X(),[c,b]=l.useState(((j=m==null?void 0:m.data)==null?void 0:j.enableCustomRPC)??!1),f=K(),{data:n,deleteCustomRPC:E,toggleSingleChain:x,getChainByConfigId:C}=$(),{setActiveSingleChain:u}=G(),[k,r]=l.useState(!1),d=l.useRef(null),{customRPC:o}=g.settings.developer,{toastInfo:h}=V(),y=l.useCallback(async s=>{var i,B,S;if(b(s),await _(s),!s&&((S=(B=(i=n==null?void 0:n.activeChains)==null?void 0:i[0])==null?void 0:B.chainConfig)!=null&&S.isCustom)){const F=await C(I.RONIN,!1);await u(F),h({content:o.switchMultiChain,title:""})}s&&!(n!=null&&n.isSingleChain)&&await x(!0)},[_,n==null?void 0:n.activeChains,n==null?void 0:n.isSingleChain,C,u,h,o.switchMultiChain,x]),D=[[{title:t.jsxs("div",{children:[t.jsx(a.Text,{level:"3",bold:!0,children:o.enable}),t.jsx(a.Text,{level:"4",className:e.description,children:o.description})]}),noIndicator:!0,extraInfo:t.jsx(J,{checked:c,className:e.switch,onChange:()=>{y(!c)}})}]],M=()=>{f(R.ADD_CUSTOM_RPC)},U=s=>{d.current=s,r(!0)},z=s=>{f(`${R.EDIT_CUSTOM_RPC}/${s.configId}`)};return t.jsxs(p,{noBackground:!0,noFooter:!0,children:[t.jsx(p.BackableNavbar,{title:o.title}),t.jsx(p.Content,{children:t.jsxs("div",{className:e.settingList,children:[D.map((s,i)=>t.jsx(L,{settingList:s},i)),c&&((w=n==null?void 0:n.customChains)==null?void 0:w.length)>0&&t.jsxs("div",{className:e.rpcList,children:[t.jsx(a.Label,{level:Q.Medium,className:e.rpcListTitle,children:o.rpcList}),n.customChains.map((s,i)=>t.jsx(L,{settingList:[{noIndicator:!0,customLeftIcon:t.jsx(H,{chainConfig:s.chainConfig,size:24}),title:t.jsxs("div",{className:e.rpcContainer,children:[t.jsx(a.Text,{level:"3",bold:!0,className:e.rpcName,children:s.chainConfig.displayName}),t.jsx(a.Text,{level:"3",bold:!0,className:e.rpcUrl,children:s.chainConfig.rpcUrl})]}),customRightIcon:t.jsxs("div",{className:e.actionButtonContainer,children:[t.jsx(T,{onClick:()=>z(s),size:v.XXSmall,icon:()=>t.jsx(O,{className:e.iconButton}),variant:P.Plain,className:e.iconButton}),t.jsx(T,{onClick:()=>U(s),size:v.XXSmall,icon:()=>t.jsx(W,{className:e.iconButton}),variant:P.Plain,className:e.iconButton})]})}]},i))]}),c&&t.jsxs(a.Text,{level:"3",bold:!0,className:e.addButton,onClick:M,children:[t.jsx(Y,{size:16}),((N=n==null?void 0:n.customChains)==null?void 0:N.length)>0?o.addMoreButton:o.addButton]})]})}),t.jsx(A,{content:t.jsx(a.Text,{className:e.dialogContent,children:o.deleteRPCMessage}),title:o.deleteRPCTitle,visible:k,onClose:()=>r(!1),footer:t.jsx("div",{className:e.dialogFooter,children:t.jsx(q,{criticalBtn:{title:g.common.remove,handleClick:async()=>{var s;if(await E(d.current),((s=n==null?void 0:n.activeChainIds)==null?void 0:s[0])===d.current.configId){const i=await C(I.RONIN,!1);await u(i),h({content:o.switchToRonin,title:""})}r(!1)}},secondaryBtn:{title:g.common.cancel,handleClick:()=>r(!1)}})})})]})};export{Tt as default};
