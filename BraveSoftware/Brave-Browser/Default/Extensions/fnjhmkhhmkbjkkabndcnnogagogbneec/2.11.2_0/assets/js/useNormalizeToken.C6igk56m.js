import{r as t}from"./index.CxJLds0B.js";import{d as i,e as o}from"./useActiveTimeStore.C3Wei7Oz.js";import{R as m,c as p}from"./windowUtils.Ut7JS-rc.js";import{u as T}from"./useTransferAdapter.DBEESo_0.js";import{u as b}from"./PopupLoading.D-LitESe.js";const h=d=>{const{blockchain:c,token:r,owner:s,enabled:a=!0}=d,e=T(c,r==null?void 0:r.chainId);return i({queryKey:[m.TOKEN_BALANCE,c,r==null?void 0:r.address,s,r==null?void 0:r.chainId],queryFn:async()=>e.getTokenBalance(r,s),enabled:a&&!!r&&!!s,refetchInterval:3e4})},A=(d,c,r)=>{var a;const{data:s}=b(r);return(a=s==null?void 0:s.data)==null?void 0:a.find(e=>p(e==null?void 0:e.contractAddress,d)&&(e==null?void 0:e.chainId)===c)},z=(d,c,r)=>{var n;const s=o(),a=A(d,c),e=t.useMemo(()=>{var l;return a?{logoUrl:a==null?void 0:a.tokenLogo,name:a==null?void 0:a.name,chainId:a==null?void 0:a.chainId,balance:a==null?void 0:a.balance,symbol:a==null?void 0:a.symbol,decimal:(a==null?void 0:a.decimals)||0,usdPrice:(l=a==null?void 0:a.price)==null?void 0:l.toString(),standard:a==null?void 0:a.tokenStandard,address:a==null?void 0:a.contractAddress,tokenInfo:a}:null},[a]),{data:u}=h({blockchain:r,token:e,owner:(n=s==null?void 0:s.chains[r])==null?void 0:n.address,enabled:!!e});return t.useMemo(()=>e?{...e,balance:u??e.balance}:null,[e,u])};export{z as u};
