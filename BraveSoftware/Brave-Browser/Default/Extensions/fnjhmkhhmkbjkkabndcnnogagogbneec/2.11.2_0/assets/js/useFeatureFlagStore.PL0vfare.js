import{d as p}from"./useActiveTimeStore.C3Wei7Oz.js";import{j as m,S as C,k as y,R as g}from"./windowUtils.Ut7JS-rc.js";import{r as s}from"./index.CxJLds0B.js";const c={swap:{crossChainBanner:!0},compliance:{confirmedAt:null},activity:{solanaTxsLocalBanner:!0}},e=m(y.FEATURE_FLAG_STORE,c,{storageType:C.Local}),r={...e,async get(){const a=await e.get();return{swap:{...c.swap,...a.swap},compliance:{...c.compliance,...a.compliance},activity:{...c.activity,...a.activity}}},async setCrossChainBanner(a){const t=await e.get();return e.set({...t,swap:{...t.swap,crossChainBanner:a}})},async setComplianceConfirmed(){const a=await e.get();return e.set({...a,compliance:{confirmedAt:Date.now()}})},async setSolanaTxsLocalBanner(a){const t=await e.get();return e.set({...t,activity:{...t.activity,solanaTxsLocalBanner:a}})}},w=()=>{const{data:a,isLoading:t,refetch:o}=p({queryKey:[g.FEATURE_FLAG_STORE],queryFn:async()=>await r.get()});s.useEffect(()=>{const n=()=>o();return r.subscribe(n),()=>{r.unSubscribe(n)}},[o]);const i=s.useCallback(n=>r.setCrossChainBanner(n),[]),u=s.useCallback(()=>r.setComplianceConfirmed(),[]),l=s.useCallback(n=>r.setSolanaTxsLocalBanner(n),[]);return{data:a,refetch:o,isLoading:t,setCrossChainBanner:i,setComplianceConfirmed:u,setSolanaTxsLocalBanner:l}};export{w as u};
