import{j as e}from"./useTriggerLoadNext.KJIKMCqU.js";import{r as D,aq as O,a as P,ar as N,b as r,T as d,e as h,f as m,x as p,as as Z,X as L,w as R}from"./windowUtils.Ut7JS-rc.js";import{c as f,R as z,u as H,e as W,r as y,A as $,k as F,C as B,b as U,W as G}from"./useActiveTimeStore.C3Wei7Oz.js";import{a8 as q,L as w,g as x,h as s,A as K,a9 as S,aa as X,P as Y,S as J,e as Q}from"./PopupLoading.D-LitESe.js";import{R as a,r as v}from"./index.CxJLds0B.js";import{b as ee}from"./enum.CGJbW6Yf.js";import{t as te,A as ae}from"./ActiveNetworkDialog.BRXTzxl9.js";import{T as i,I as M}from"./PasswordLevelLabel.rhWNhrqO.js";import{t as se}from"./Wallet.DbLc7VEl.js";import{l as ne,t as oe,a as le}from"./LinkSimple.DuM4lBhE.js";import{t as ie}from"./ForgotPassword.Z5hL33dw.js";import{t as ce}from"./DefaultNftImg.D-qRFvZ2.js";import"./tiny-invariant.BHpmfUqq.js";import"./preload-helper.2LWRYvkK.js";import"./useDebouncedEffect.CslCnlPq.js";import"./solana.CGFphaJI.js";import"./BetaTag.D99jAmHR.js";import"./index.C702uFBM.js";const re=f(a.createElement(a.Fragment,null,a.createElement("path",{d:"M216 40H40a16 16 0 0 0-16 16v144a16 16 0 0 0 16 16h176a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16Zm0 160H40V56h176v144ZM80 84a12 12 0 1 1-12-12 12 12 0 0 1 12 12Zm40 0a12 12 0 1 1-12-12 12 12 0 0 1 12 12Z"})),"AppWindowIcon"),de=f(a.createElement(a.Fragment,null,a.createElement("path",{d:"M224 48h-64a40 40 0 0 0-32 16 40 40 0 0 0-32-16H32a16 16 0 0 0-16 16v128a16 16 0 0 0 16 16h64a24 24 0 0 1 24 24 8 8 0 0 0 16 0 24 24 0 0 1 24-24h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16ZM96 192H32V64h64a24 24 0 0 1 24 24v112a39.81 39.81 0 0 0-24-8Zm128 0h-64a39.81 39.81 0 0 0-24 8V88a24 24 0 0 1 24-24h64ZM160 88h40a8 8 0 0 1 0 16h-40a8 8 0 0 1 0-16Zm48 40a8 8 0 0 1-8 8h-40a8 8 0 0 1 0-16h40a8 8 0 0 1 8 8Zm0 32a8 8 0 0 1-8 8h-40a8 8 0 0 1 0-16h40a8 8 0 0 1 8 8Z"})),"BookOpenTextIcon"),he=f(a.createElement(a.Fragment,null,a.createElement("path",{d:"m231.65 194.55-33.19-157.8a16 16 0 0 0-19-12.39l-46.81 10.06a16.08 16.08 0 0 0-12.3 19l33.19 157.8A16 16 0 0 0 169.16 224a16.25 16.25 0 0 0 3.38-.36l46.81-10.06a16.09 16.09 0 0 0 12.3-19.03ZM136 50.15v-.09l46.8-10 3.33 15.87L139.33 66Zm6.62 31.47 46.82-10.05 3.34 15.9L146 97.53Zm6.64 31.57 46.82-10.06 13.3 63.24-46.82 10.06ZM216 197.94l-46.8 10-3.33-15.87 46.8-10.07 3.33 15.85v.09ZM104 32H56a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h48a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16ZM56 48h48v16H56Zm0 32h48v96H56Zm48 128H56v-16h48v16Z"})),"BooksIcon"),me=f(a.createElement(a.Fragment,null,a.createElement("path",{d:"M216 40H40a16 16 0 0 0-16 16v144a16 16 0 0 0 16 16h176a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16Zm0 16v40H40V56ZM40 112h56v88H40Zm176 88H112v-88h104v88Z"})),"LayoutIcon"),xe=f(a.createElement(a.Fragment,null,a.createElement("path",{d:"M208 40H48a16 16 0 0 0-16 16v58.77c0 89.61 75.82 119.34 91 124.39a15.53 15.53 0 0 0 10 0c15.2-5.05 91-34.78 91-124.39V56a16 16 0 0 0-16-16Zm0 74.79c0 78.42-66.35 104.62-80 109.18-13.53-4.51-80-30.69-80-109.18V56h160Z"})),"ShieldIcon"),ue=f(a.createElement(a.Fragment,null,a.createElement("path",{d:"M216 40H40a16 16 0 0 0-16 16v144a16 16 0 0 0 16 16h176a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16ZM40 152h16a8 8 0 0 0 0-16H40v-16h16a8 8 0 0 0 0-16H40V88h16a8 8 0 0 0 0-16H40V56h40v144H40Zm176 48H96V56h120v144Z"})),"SidebarIcon"),pe="_openList_j103i_1",ge="_settingList_j103i_1",je="_networkExtraInfo_j103i_17",ve="_method_j103i_23",fe="_dialog_j103i_32",Se="_suffix_j103i_44",ke="_openMethodDialog_j103i_48",Ee="_content_j103i_54",n={openList:pe,settingList:ge,networkExtraInfo:je,method:ve,dialog:fe,suffix:Se,openMethodDialog:ke,content:Ee},Ie=()=>{var j;const{data:o}=H(),l=o==null?void 0:o.activeChains,[u,g]=v.useState(!1),c=P.settings;return e.jsxs(e.Fragment,{children:[e.jsx(s,{title:c.activeNetwork,icon:ce,callback:()=>g(!0),extraInfo:e.jsxs("div",{className:n.networkExtraInfo,children:[(j=l==null?void 0:l.slice(0,3))==null?void 0:j.map(k=>e.jsx(B,{chainConfig:k.chainConfig,size:U.Size20},k.chainConfig.chainId)),e.jsx(G,{when:(l==null?void 0:l.length)>3,children:e.jsxs(i.Text,{level:"2",bold:!0,intent:M.Secondary,children:["+",(l==null?void 0:l.length)-3]})})]})}),e.jsx(Q,{className:n.dialog,visible:u,title:e.jsx(i.Text,{level:"2",bold:!0,className:n.dialogTitle,children:c.selectActiveNetwork}),onClose:()=>g(!1),footer:null,children:e.jsx(ae,{shouldUpdate:!u})})]})},We=()=>{const o=D(),{sessions:l}=z(),u=l.length,{data:g}=H(),[c,j]=v.useState(!1),[k,E]=v.useState(!1),[T]=v.useState(O()),{clickLink:_}=q(),I=W(),t=P.settings,b=v.useCallback(async()=>{try{T&&((await chrome.sidePanel.getPanelBehavior()).openPanelOnActionClick===!0?j(!0):j(!1))}catch{j(!1)}},[T]);v.useEffect(()=>{b()},[b]);const A=[[{id:"popup",title:e.jsxs("div",{className:n.method,children:[e.jsx(i.Text,{level:"3",bold:!0,children:t.launchMethod.popup}),e.jsx(i.Text,{level:"4",color:"gray",children:t.launchMethod.popupDesc})]}),customLeftIcon:e.jsx(re,{size:24}),customRightIcon:!c&&e.jsx(y,{size:24,color:"rgba(82, 148, 248, 1)"}),noIndicator:!0,callback:async()=>{await N(!1),await b(),E(!1),r.sendEvent(d.Click,h.Settings,m.ModePopup)},isActiveItem:!c},{id:"side-panel",title:e.jsxs("div",{className:n.method,children:[e.jsx(i.Text,{level:"3",bold:!0,children:t.launchMethod.sidePanel}),e.jsx(i.Text,{level:"4",color:"gray",children:t.launchMethod.sidePanelDesc})]}),noIndicator:!0,customLeftIcon:e.jsx(ue,{size:24}),customRightIcon:c&&e.jsx(y,{size:24,color:"rgba(82, 148, 248, 1)"}),callback:async()=>{await N(!0),await b(),E(!1),r.sendEvent(d.Click,h.Settings,m.ModeSidePanel)},isActiveItem:c}]];return e.jsxs(w,{noBackground:!0,children:[e.jsx(w.BackableNavbar,{title:t.title}),e.jsxs(w.Content,{noPadding:!0,children:[e.jsxs("div",{className:n.settingList,children:[e.jsx(x,{children:e.jsx(s,{customLeftIcon:e.jsx($,{size:F.S,seed:I.baseAddress}),title:e.jsx(K,{account:I,nameResolverProps:{fallbackName:I.nickname}}),callback:()=>{o(`${p.ACCOUNT_DETAILS}/${I.id}`),r.sendEvent(d.Click,h.Settings,m.AddressItem)}})}),!(g!=null&&g.isSingleChain)&&e.jsx(x,{children:e.jsx(Ie,{})}),T?e.jsx(x,{children:e.jsx(s,{id:"launch-method",title:t.launchMethod.title,icon:me,extraInfo:c?t.launchMethod.sidePanel:t.launchMethod.popup,callback:()=>{E(!0),r.sendEvent(d.Click,h.Settings,m.OpenMethod)}})}):null,e.jsxs(x,{children:[e.jsx(s,{title:t.manageWallet,icon:se,callback:()=>o(p.MANAGE_WALLET)}),e.jsx(S,{}),e.jsx(s,{title:t.preferences.title,icon:te,callback:()=>o(p.SETTINGS_PREFERENCE)}),e.jsx(S,{}),e.jsx(s,{title:t.security.title,icon:xe,callback:()=>o(p.SETTING_SECURITY)})]}),e.jsx(x,{children:e.jsx(s,{title:t.developer.title,icon:X,callback:()=>{o(p.SETTINGS_DEVELOPER)}})}),e.jsx(x,{children:e.jsx(s,{title:t.connectedDApp.title,icon:ne,callback:()=>{u!==0&&o(p.SETTINGS_CONNECTED_APPS)},className:u===0&&n.suffix,noIndicator:u===0,extraInfo:e.jsx(i.Text,{level:"3",intent:M.Secondary,className:n.content,children:u})})}),e.jsxs(x,{children:[e.jsx(s,{title:t.supportCenter,icon:oe,callback:()=>{_(Z.Support),r.sendEvent(d.Click,h.Settings,m.OpenSupport+" "+L.Webview)}}),e.jsx(S,{}),e.jsx(s,{title:t.termOfUse,icon:he,callback:()=>{_(Z.TermsOfUse),r.sendEvent(d.Click,h.Settings,m.OpenTOS+" "+L.Webview)}}),e.jsx(S,{}),e.jsx(s,{title:t.privacyPolicy,icon:de,callback:()=>{_(Z.PrivacyPolicy),r.sendEvent(d.Click,h.Settings,m.OpenPrivacyPolicy+" "+L.Webview)}}),e.jsx(S,{}),e.jsx(s,{title:t.version,icon:le,callback:()=>null,className:n.suffix,noIndicator:!0,extraInfo:e.jsx(i.Text,{level:"3",intent:M.Secondary,className:n.content,children:ee.runtime.getManifest().version})})]}),e.jsx(x,{children:e.jsx(s,{id:"lock-wallet",title:e.jsx(i.Text,{level:"3",bold:!0,intent:M.Danger,children:t.lockWallet}),noIndicator:!0,customLeftIcon:e.jsx("div",{children:e.jsx(ie,{color:"#F6515E",size:20})}),callback:async()=>{await R.lock(!0),o(p.UNLOCK),r.sendEvent(d.Click,h.Settings,m.LockWallet)}})})]}),e.jsx(Y,{visible:k,className:n.openMethodDialog,title:t.launchMethod.chooseOpenMethod,showClose:!0,onClose:()=>E(!1),content:e.jsx("div",{className:n.openList,children:A==null?void 0:A.map((C,V)=>e.jsx(J,{settingList:C},V))}),footer:e.jsx(i.Text,{level:"3",color:"gray",children:t.launchMethod.note})})]})]})};export{We as default};
