import{j as s}from"./useTriggerLoadNext.KJIKMCqU.js";import{u as M,i as U,L as I,O as F,Q as P}from"./PopupLoading.D-LitESe.js";import{r as S}from"./index.CxJLds0B.js";import{u as q,e as H,p as K,q as W,I as $,K as Q,B as V,W as u,a as Z,b as E,C as G}from"./useActiveTimeStore.C3Wei7Oz.js";import{r as D,B as J,a as p,x as L,l as v,z as X,a9 as w}from"./windowUtils.Ut7JS-rc.js";import{t as Y,U as k,C as ss}from"./ConfirmRemoveToken.jRKaKLZd.js";import{E as as}from"./EmptyState.B5_-rwyr.js";import{T as _,I as y,S as es}from"./PasswordLevelLabel.rhWNhrqO.js";import{a as rs}from"./Erc20SelectTokenOnRampPage.CZiohm3T.js";import{a as cs}from"./SummaryRow.DvX50DLf.js";import{t as is}from"./useTxStatus.C8QHcxiJ.js";import{S as ns}from"./index.C702uFBM.js";import"./solana.CGFphaJI.js";import"./enum.CGJbW6Yf.js";import"./tiny-invariant.BHpmfUqq.js";import"./preload-helper.2LWRYvkK.js";import"./useDebouncedEffect.CslCnlPq.js";import"./useSearchErc20Tokens.D0zoSI7L.js";import"./Network.CvcxyDcT.js";import"./token.types.DkObBlUj.js";import"./useTempStore.C8dvVNTz.js";const ts="_recordContainer_183cg_1",ds="_titleContainer_183cg_8",os="_tokenName_183cg_12",ls="_descriptionContainer_183cg_18",ms="_contractAddress_183cg_27",hs="_tokenRecord_183cg_40",ps="_container_183cg_49",xs="_searchInput_183cg_55",Cs="_tokenList_183cg_72",us="_emptyState_183cg_78",_s="_addTokenContainer_183cg_85",Ts="_addToken_183cg_85",i={recordContainer:ts,titleContainer:ds,tokenName:os,descriptionContainer:ls,contractAddress:ms,tokenRecord:hs,container:ps,searchInput:xs,tokenList:Cs,emptyState:us,addTokenContainer:_s,addToken:Ts},js=({token:a,handleNext:T,checked:m,editing:d,onDelete:r})=>{var l;const n=(l=Z(a==null?void 0:a.chainId))==null?void 0:l.chainConfig,[j,x]=S.useState(!1),[o,e]=S.useState(!1),t=v.isEmpty(a==null?void 0:a.balance)||(a==null?void 0:a.balance)==="0",h=()=>{t?e(!0):x(!0)};return s.jsxs("div",{className:i.tokenRecord,children:[s.jsxs("div",{className:i.recordContainer,children:[s.jsx(P,{backAvtSrc:a.tokenLogo,backAvtPlaceholder:s.jsx(is,{size:16}),frontAvtSrc:s.jsx(G,{chainConfig:n,size:E.Size20,squarePlain:!0}),size:E.Size36,frontSquared:!0}),s.jsxs("div",{className:i.titleContainer,children:[s.jsx(_.Text,{level:"3",intent:y.Secondary,className:i.tokenName,children:a==null?void 0:a.name}),s.jsxs(_.Text,{level:"2",bold:!0,className:i.descriptionContainer,children:[a==null?void 0:a.symbol,s.jsx(u,{when:!w(a==null?void 0:a.contractAddress),children:s.jsxs(_.Text,{level:"3",intent:y.Secondary,className:i.contractAddress,children:["(",X(a==null?void 0:a.contractAddress),")"]})})]})]})]}),s.jsx(u,{when:!d,children:s.jsx(ns,{checked:m,onChange:()=>T(a),disabled:w(a.contractAddress)})}),s.jsx(u,{when:d,children:s.jsx(Y,{color:"#f6515e",opacity:t?1:.35,onClick:h})}),s.jsx(k,{visible:j,onClose:()=>x(!1)}),s.jsx(ss,{visible:o,onClose:C=>{e(!1),C&&r(a)}})]})},gs=({filter:a,handleNext:T,isLoading:m,hiddenTokens:d,tokenList:r,editing:n,onDelete:j})=>{const x=D();if(m)return s.jsx(F,{});const o=r==null?void 0:r.filter(e=>{var t,h,l,C;return((h=(t=e==null?void 0:e.name)==null?void 0:t.toLowerCase())==null?void 0:h.includes(a==null?void 0:a.toLowerCase()))||((C=(l=e==null?void 0:e.symbol)==null?void 0:l.toLowerCase())==null?void 0:C.includes(a==null?void 0:a.toLowerCase()))});return s.jsxs(s.Fragment,{children:[s.jsx(u,{when:!v.isEmpty(o),children:o==null?void 0:o.map(e=>{var t;return s.jsx(js,{token:e,checked:!(d!=null&&d.includes(((t=e==null?void 0:e.name)==null?void 0:t.toLowerCase())+(e==null?void 0:e.chainId))),handleNext:T,editing:n,onDelete:j},(e==null?void 0:e.contractAddress)+(e==null?void 0:e.decimals)+(e==null?void 0:e.price)+(e==null?void 0:e.chainId))})}),s.jsxs(u,{when:v.isEmpty(o),children:[s.jsx(as,{message:p.common.noResultFound,icon:"ðŸ¥²",className:i.emptyState}),s.jsxs(_.Text,{level:"3",className:i.addTokenContainer,children:[p.manageTokens.addTokenHint,s.jsx(_.Text,{level:"3",className:i.addToken,onClick:()=>x(L.ADD_CUSTOM_TOKEN),children:p.manageTokens.addToken})]})]})]})},Hs=()=>{var A;const[a,T]=S.useState(""),{data:m,setHiddenTokens:d}=q(),r=H(),{data:n,isFetching:j,refetch:x,refreshTokenListOnly:o}=M(r==null?void 0:r.addresses),{removeCustomToken:e}=U(),t=(A=r==null?void 0:r.addresses)==null?void 0:A.map(c=>m==null?void 0:m.hiddenTokensList[c]).flat(),h=D(),[l,C]=S.useState(!1),R=K(),O=c=>{var g,f,N,b;(c==null?void 0:c.chainId)===R?d((f=(g=r==null?void 0:r.chains)==null?void 0:g.solana)==null?void 0:f.address,(c==null?void 0:c.name)+(c==null?void 0:c.chainId)):d((b=(N=r==null?void 0:r.chains)==null?void 0:N.evm)==null?void 0:b.address,(c==null?void 0:c.name)+(c==null?void 0:c.chainId))},B=async c=>{var g;(g=r==null?void 0:r.addresses)==null||g.forEach(async f=>{await e(f,c.contractAddress,c.chainId)}),await o()},z=W(J.SOLANA,r);return s.jsxs(I,{noBackground:!0,noFooter:!0,children:[s.jsx(I.BackableNavbar,{title:p.manageTokens.btnManageTokens,suffixComponent:s.jsx("div",{children:s.jsx(_.Text,{level:"2",bold:!0,intent:y.Info,onClick:()=>{C(!l)},children:l?p.common.done:p.common.edit})}),callback:()=>{x(),h(-1)}}),s.jsx(I.Content,{noPadding:!0,children:s.jsxs("div",{className:i.container,children:[s.jsxs("div",{className:i.searchInput,children:[s.jsx($,{placeholder:p.common.search,prefixIcon:s.jsx(rs,{}),onChange:c=>T(c.target.value)}),s.jsx(Q,{icon:cs,size:V.Default,shape:es.Rounded,onClick:()=>h(L.ADD_CUSTOM_TOKEN),hidden:z})]}),s.jsx(u,{when:!v.isEmpty(n==null?void 0:n.data),children:s.jsx("div",{className:i.tokenList,children:s.jsx(gs,{filter:a,isLoading:j,tokenList:(n==null?void 0:n.data)??[],handleNext:O,hiddenTokens:t,editing:l,onDelete:B})})})]})})]})};export{Hs as default};
