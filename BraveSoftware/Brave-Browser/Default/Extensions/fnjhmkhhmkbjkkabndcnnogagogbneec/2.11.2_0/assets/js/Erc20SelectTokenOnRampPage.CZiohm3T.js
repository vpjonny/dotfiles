import{u as A,j as e}from"./useTriggerLoadNext.KJIKMCqU.js";import{E as C,a as x,l as g,z as L,a9 as P,r as M,x as w,f_ as z,b as $,T as F,e as B,f as D}from"./windowUtils.Ut7JS-rc.js";import{c as V,u as K,I as U,W as j,a as W,b as E,C as Y,a6 as R}from"./useActiveTimeStore.C3Wei7Oz.js";import{L as u,ag as Z,z as H,O as Q,Q as q}from"./PopupLoading.D-LitESe.js";import{E as G}from"./EmptyState.B5_-rwyr.js";import{R as h,r as d}from"./index.CxJLds0B.js";import{a as J}from"./useSearchErc20Tokens.D0zoSI7L.js";import{N as X}from"./Network.CvcxyDcT.js";import{T as _,I as b}from"./PasswordLevelLabel.rhWNhrqO.js";const k=V(h.createElement(h.Fragment,null,h.createElement("path",{d:"m229.66 218.34-50.07-50.06a88.11 88.11 0 1 0-11.31 11.31l50.06 50.07a8 8 0 0 0 11.32-11.32ZM40 112a72 72 0 1 1 72 72 72.08 72.08 0 0 1-72-72Z"})),"MagnifyingGlassIcon"),ee="_recordContainer_pj4c8_1",se="_titleContainer_pj4c8_8",te="_tokenName_pj4c8_12",ae="_descriptionContainer_pj4c8_18",ne="_contractAddress_pj4c8_27",re="_container_pj4c8_46",ce="_searchInput_pj4c8_62",ie="_tokenList_pj4c8_66",oe="_loading_pj4c8_74",le="_emptyState_pj4c8_78",i={recordContainer:ee,titleContainer:se,tokenName:te,descriptionContainer:ae,contractAddress:ne,container:re,searchInput:ce,tokenList:ie,loading:oe,emptyState:le};function de(s,c){const[a,t]=d.useState(s);return d.useEffect(()=>{const n=setTimeout(()=>{t(s)},c);return()=>{clearTimeout(n)}},[s,c]),a}const me=({token:s,handleNext:c,chainId:a})=>{var n,r,m,l,p;const t=(n=W(a))==null?void 0:n.chainConfig;return e.jsxs("div",{className:i.recordContainer,role:"button",onClick:()=>c(s),tabIndex:0,children:[e.jsx(q,{backAvtSrc:s==null?void 0:s.logo,frontAvtSrc:e.jsx(Y,{chainConfig:t,size:E.Size20}),size:E.Size36}),e.jsxs("div",{className:i.titleContainer,children:[e.jsx(_.Text,{level:"3",intent:b.Secondary,className:i.tokenName,children:s==null?void 0:s.name}),e.jsxs(_.Text,{level:"2",bold:!0,className:i.descriptionContainer,children:[s==null?void 0:s.symbol,e.jsx(j,{when:!P((m=(r=s==null?void 0:s.platforms)==null?void 0:r[0])==null?void 0:m.address),children:e.jsxs(_.Text,{level:"3",intent:b.Secondary,className:i.contractAddress,children:["(",L((p=(l=s==null?void 0:s.platforms)==null?void 0:l[0])==null?void 0:p.address),")"]})})]})]})]})},pe=({handleNext:s,isFetching:c,tokenList:a,chainId:t,isSearch:n})=>c?e.jsx("div",{className:i.loading,children:e.jsx(Q,{})}):g.isEmpty(a)&&n?e.jsx(G,{icon:"ðŸ¥²",message:x.deposit.onRamp.noTokenMessage,className:i.emptyState}):a.map(r=>e.jsx(me,{token:r,handleNext:s,chainId:t},(r==null?void 0:r.name)+(r==null?void 0:r.id))),ue=({handleNext:s})=>{var T;const[c,a]=d.useState(""),{data:t}=K(),[n,r]=d.useState(t!=null&&t.isSingleChain?((T=t==null?void 0:t.activeChainIds)==null?void 0:T[0])??C.RONIN:C.RONIN),[m,l]=d.useState(!1),p=x.deposit.onRamp,N=de(c,200),{searchTokenList:f,isLoading:v,hasNextPage:S,fetchNextPage:y,isFetchingNextPage:I}=J(n,N),{endOfListRef:O}=A(()=>{S&&y()});return e.jsxs(u,{noBackground:!0,noFooter:!0,children:[e.jsx(u.BackableNavbar,{title:p.selectToken}),e.jsx(u.Content,{noPadding:!0,children:e.jsxs("div",{className:i.container,children:[e.jsxs("div",{children:[e.jsx(X,{chainId:n,callback:()=>l(!0)}),e.jsx("div",{className:i.searchInput,children:e.jsx(U,{placeholder:x.common.search,prefixIcon:e.jsx(k,{}),onChange:o=>a(o.target.value)})})]}),e.jsxs("div",{className:i.tokenList,children:[e.jsx(pe,{handleNext:o=>s(o,n),tokenList:f,isFetching:v,chainId:n,isSearch:!g.isEmpty(N)}),e.jsx(j,{when:S&&!g.isEmpty(f),children:e.jsx("div",{ref:O,children:e.jsx(j,{when:I,children:e.jsx(Z,{})})})})]})]})}),e.jsx(H,{currentConfigId:n,isVisible:m,requestOnClose:()=>l(!1),onSelect:o=>r(o==null?void 0:o.configId)})]})},he=()=>{const s=M(),c=(a,t)=>{s(`${w.ON_RAMP}/${z.BUY_TOKEN}?${R.TOKEN_SYMBOL}=${a==null?void 0:a.symbol}&${R.TOKEN_NETWORK}=${t}`),$.sendEvent(F.Click,B.Deposit,D.SelectAsset,{action_properties:{token:a}})};return e.jsx(ue,{handleNext:c})},Ee=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));export{Ee as E,k as a,de as u};
