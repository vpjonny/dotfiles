import{m as j,A as P,k as T,I as u}from"./useActiveTimeStore.C3Wei7Oz.js";import{j as s}from"./useTriggerLoadNext.KJIKMCqU.js";import{a as C,b as v,T as _,e as R,f as h,X as d}from"./windowUtils.Ut7JS-rc.js";import{P as L}from"./PopupLoading.D-LitESe.js";import{r as k}from"./index.CxJLds0B.js";import{B as x,I as A,S as y}from"./PasswordLevelLabel.rhWNhrqO.js";const q=e=>{const{accountInfo:a}=j(),n=a==null?void 0:a.data,o=n==null?void 0:n.wallets,r=Object.values(o).find(t=>{var i;return((i=t==null?void 0:t.walletId)==null?void 0:i.toLowerCase())===(e==null?void 0:e.toLowerCase())}),l=Object.values(o).length===1;return{walletInfo:r,theOnlyWallet:l}},b="_footerContainer_rt3zu_1",z="_btn_rt3zu_6",f={footerContainer:b,btn:z};var c=(e=>(e[e.DELETE=0]="DELETE",e[e.RENAME=1]="RENAME",e))(c||{});const B=e=>{const{handlePrimary:a,handleSecondary:n,actionType:o}=e,r=t=>{t.stopPropagation(),a()},l=t=>{t.stopPropagation(),n()};return s.jsxs("div",{className:f.footerContainer,children:[s.jsx(x,{className:f.btn,text:C.manageWallet.cancelBtn,shape:y.Rounded,intent:A.Default,onClick:l}),s.jsx(x,{className:f.btn,text:o===0?C.manageWallet.removeBtn:C.common.save,shape:y.Rounded,intent:A.Primary,onClick:r})]})},M="_avatarRename_10myy_1",O="_renameContainer_10myy_7",D="_input_10myy_10",G="_dialog_10myy_15",p={avatarRename:M,renameContainer:O,input:D,dialog:G},H=({account:e,visible:a,handleDialogVisible:n,onChangeNickname:o})=>{const[r,l]=k.useState(e==null?void 0:e.nickname),{addOrUpdateAccount:t,accountInfo:i,setCurrentAccount:N}=j(),W=async()=>{var g,E;const m={...e,nickname:r};await t([m]),(e==null?void 0:e.address)===((E=(g=i==null?void 0:i.data)==null?void 0:g.currentAccount)==null?void 0:E.address)&&await N({...e,nickname:r}),o&&o(r),n(!1),v.sendEvent(_.Click,R.Wallet,h.EditWallet+" - "+d.RenameAddress+" - "+d.Save)},S=()=>{n(!1),v.sendEvent(_.Click,R.Wallet,h.EditWallet+" - "+d.RenameAddress+" - "+d.Cancel)};return k.useEffect(()=>{a&&l(e==null?void 0:e.nickname)},[e==null?void 0:e.nickname,a]),s.jsx(L,{className:p.dialog,visible:a,title:C.manageWallet.renameAddress.title,content:s.jsxs("div",{className:p.renameContainer,children:[s.jsx(P,{className:p.avatarRename,size:T.XL,seed:e==null?void 0:e.address}),s.jsx("div",{className:p.input,children:s.jsx(u,{onChange:m=>{m.target.value.length<=50&&l(m.target.value)},shape:y.Rounded,placeholder:e==null?void 0:e.nickname,value:r,allowClear:!0})})]}),footer:s.jsx(B,{handlePrimary:W,handleSecondary:S,actionType:c.RENAME}),onClose:()=>{n(!1)}})};export{c as A,B as G,H as R,q as u};
