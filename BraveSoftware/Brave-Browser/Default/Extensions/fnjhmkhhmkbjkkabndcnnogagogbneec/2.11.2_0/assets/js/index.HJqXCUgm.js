import{j as t}from"./useTriggerLoadNext.KJIKMCqU.js";import{R as C,r as f}from"./index.CxJLds0B.js";import{Q as M,U as v,L as u,B}from"./PopupLoading.D-LitESe.js";import{c as E,R as S,W as p,p as F,S as j}from"./useActiveTimeStore.C3Wei7Oz.js";import{r as A,a as i,b as T,T as k,e as N,f as D,B as Z}from"./windowUtils.Ut7JS-rc.js";import{T as d,I as L,B as W,S as R,f as P}from"./PasswordLevelLabel.rhWNhrqO.js";import{r as z}from"./DotsThreeVertical.DF4zWZuW.js";import{M as y}from"./index.D5oUFN69.js";import{E as U}from"./EmptyState.B5_-rwyr.js";import"./tiny-invariant.BHpmfUqq.js";import"./solana.CGFphaJI.js";import"./enum.CGJbW6Yf.js";import"./preload-helper.2LWRYvkK.js";import"./useDebouncedEffect.CslCnlPq.js";const $=E(C.createElement(C.Fragment,null,C.createElement("path",{d:"M149.66 138.34a8 8 0 0 0-11.32 0L120 156.69 99.31 136l18.35-18.34a8 8 0 0 0-11.32-11.32L88 124.69l-18.34-18.35a8 8 0 0 0-11.32 11.32l6.35 6.34-23.32 23.31a32 32 0 0 0 0 45.26l5.38 5.37-28.41 28.4a8 8 0 0 0 11.32 11.32l28.4-28.41 5.37 5.38a32 32 0 0 0 45.26 0L132 191.31l6.34 6.35a8 8 0 0 0 11.32-11.32L131.31 168l18.35-18.34a8 8 0 0 0 0-11.32Zm-52.29 65a16 16 0 0 1-22.62 0l-22.06-22.09a16 16 0 0 1 0-22.62L76 135.31 120.69 180Zm140.29-185a8 8 0 0 0-11.32 0l-28.4 28.41-5.37-5.38a32.05 32.05 0 0 0-45.26 0L124 64.69l-6.34-6.35a8 8 0 0 0-11.32 11.32l80 80a8 8 0 0 0 11.32-11.32l-6.35-6.34 23.32-23.31a32 32 0 0 0 0-45.26l-5.38-5.37 28.41-28.4a8 8 0 0 0 0-11.32Zm-34.35 79L180 120.69 135.31 76l23.32-23.31a16 16 0 0 1 22.62 0l22.06 22a16 16 0 0 1 0 22.68Z"})),"PlugsIcon"),q="_container_1dsit_1",O="_topContent_1dsit_9",Q="_title_1dsit_15",G="_appName_1dsit_22",J="_menuTrigger_1dsit_28",K="_menu_1dsit_28",X="_menuItem_1dsit_37",Y="_bottomContent_1dsit_42",s={container:q,topContent:O,title:Q,appName:G,menuTrigger:J,menu:K,menuItem:X,bottomContent:Y},t2=({appName:n,appUrl:l,id:r,activeTimestamp:m,appIcon:o,chainIcon:h,isWhitelisted:c})=>{const[e,a]=f.useState(!1),{deleteSession:g,deleteAllSessions:w,sessions:b}=S(),H=A(),_=i.settings.connectedDApp,V=async()=>{b.length===1?(await w(),H(-1)):await g(r),a(!1),T.sendEvent(k.Click,N.Settings,D.DisconnectDApp,{action_properties:{dApp:l}})};return t.jsxs("div",{className:s.container,children:[t.jsxs("div",{className:s.topContent,children:[t.jsx(M,{backAvtSrc:o,frontAvtSrc:h,frontSquared:!0}),t.jsxs("div",{className:s.title,children:[t.jsx(d.Text,{level:"2",bold:!0,className:s.appName,children:n}),t.jsx(d.Text,{level:"3",intent:L.Secondary,children:l})]}),t.jsx(p,{when:!c,children:t.jsxs("div",{className:s.menuTrigger,children:[t.jsx(z,{size:20,onClick:()=>a(I=>!I)}),e&&t.jsx(y,{className:s.menu,children:t.jsxs(y.Item,{onClick:V,className:s.menuItem,data:{appName:n,key:n},children:[t.jsx($,{size:20}),t.jsx(d.Text,{level:"3",children:_.disconnect})]})})]})})]}),t.jsx("div",{className:s.bottomContent,children:t.jsx(d.Text,{level:"3",intent:L.Secondary,children:i.formatString(_.activeTime,v(m,"MMM DD, yyyy"),v(m,"HH:mm"))})})]})},e2="_container_suvib_1",n2="_dapps_suvib_4",s2="_emptyState_suvib_9",x={container:e2,dapps:n2,emptyState:s2},a2="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.9273%204.375V4.32267H16.875H3.125H3.07267V4.375V11.6695V11.7959L3.162%2011.7065L6.34011%208.52842C6.5647%208.30398%206.86921%208.1779%207.18672%208.1779C7.50423%208.1779%207.80874%208.30398%208.03332%208.52842L11.4708%2011.9659L11.5078%2012.0029L11.5448%2011.9659L13.1073%2010.4034L13.0703%2010.3664L13.1073%2010.4034C13.2185%2010.2922%2013.3506%2010.2039%2013.4959%2010.1437C13.6412%2010.0835%2013.797%2010.0525%2013.9543%2010.0525C14.1116%2010.0525%2014.2674%2010.0835%2014.4127%2010.1437C14.558%2010.2039%2014.6901%2010.2922%2014.8013%2010.4034L14.8013%2010.4034L16.838%2012.4394L16.9273%2012.5286V12.4023V4.375ZM3.088%2013.4005L3.07267%2013.4158V13.4375V15.625V15.6773H3.125H13.4375H13.5638L13.4745%2015.588L7.2245%209.338L7.1875%209.301L7.1505%209.338L3.088%2013.4005ZM16.875%2015.6773H16.9273V15.625V14.1703V14.1486L16.912%2014.1333L13.9925%2011.213L13.9555%2011.176L13.9185%2011.213L12.356%2012.7755L12.319%2012.8125L12.356%2012.8495L15.1685%2015.662L15.1838%2015.6773H15.2055H16.875ZM3.125%203.17733H16.875C17.1926%203.17733%2017.4973%203.30351%2017.7219%203.52812C17.9465%203.75272%2018.0727%204.05736%2018.0727%204.375V15.625C18.0727%2015.9426%2017.9465%2016.2473%2017.7219%2016.4719C17.4973%2016.6965%2017.1926%2016.8227%2016.875%2016.8227H3.125C2.80736%2016.8227%202.50272%2016.6965%202.27812%2016.4719C2.05351%2016.2473%201.92733%2015.9426%201.92733%2015.625V4.375C1.92733%204.05736%202.05351%203.75272%202.27812%203.52812C2.50272%203.30351%202.80736%203.17733%203.125%203.17733ZM11.3023%207.8125C11.3023%207.63743%2011.3542%207.46629%2011.4515%207.32072C11.5488%207.17516%2011.687%207.0617%2011.8488%206.9947C12.0105%206.92771%2012.1885%206.91018%2012.3602%206.94433C12.5319%206.97849%2012.6896%207.06279%2012.8134%207.18659C12.9372%207.31038%2013.0215%207.4681%2013.0557%207.63981C13.0898%207.81152%2013.0723%207.9895%2013.0053%208.15124C12.9383%208.31299%2012.8248%208.45123%2012.6793%208.5485C12.5337%208.64576%2012.3626%208.69767%2012.1875%208.69767C11.9527%208.69767%2011.7276%208.60441%2011.5616%208.43841C11.3956%208.27241%2011.3023%208.04726%2011.3023%207.8125Z'%20fill='%23F1F3F9'%20stroke='%23F1F3F9'%20stroke-width='0.104651'/%3e%3c/svg%3e",_2=()=>{const{sessions:n,deleteAllSessions:l}=S(),r=F(),m=A(),o=n.map(e=>{var a;return{appName:(a=e.metadata)==null?void 0:a.name,appUrl:e.getHostname(),activeTimestamp:e.lastActiveTime||e.createdAt,appIcon:e.metadata.icons[0]??a2,chainIcon:e.blockchain===Z.SOLANA?j(r):j(e.getChainIds().find(g=>g!==r)),isWhitelisted:e.isWhitelisted,id:e.id}}),h=n.filter(e=>e.isWhitelisted).length===n.length,c=n.length===0;return t.jsxs(u,{noBackground:!0,noFooter:!0,children:[t.jsx(u.BackableNavbar,{title:i.settings.connectedDApp.title}),t.jsxs(u.Content,{className:x.container,children:[t.jsx(p,{when:c,children:t.jsx(U,{icon:"ðŸ”—",label:i.settings.connectedDApp.empty.title,message:i.settings.connectedDApp.empty.description,className:x.emptyState})}),t.jsx(p,{when:!c,children:t.jsx("div",{className:x.dapps,children:o==null?void 0:o.sort((e,a)=>a.activeTimestamp-e.activeTimestamp).map(e=>f.createElement(t2,{...e,key:e.appName}))})}),t.jsx(p,{when:!h&&!c,children:t.jsx(B,{children:t.jsx(W,{text:i.settings.connectedDApp.disconnectAll,intent:L.Danger,variant:P.Plain,shape:R.Default,fullWidth:!0,onClick:async()=>{await l(),m(-1),T.sendEvent(k.Click,N.Settings,D.DisconnectAllDApps)}})})})]})]})};export{_2 as default};
