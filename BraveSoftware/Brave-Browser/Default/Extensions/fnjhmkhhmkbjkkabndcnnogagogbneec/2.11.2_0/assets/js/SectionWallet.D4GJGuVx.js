import{j as s}from"./useTriggerLoadNext.KJIKMCqU.js";import{T as N,I as W,f as w,S as b,c as R}from"./PasswordLevelLabel.rhWNhrqO.js";import{R as y,r as S}from"./index.CxJLds0B.js";import{E as G}from"./EmptyState.B5_-rwyr.js";import{c as F,y as $,j as K,C as D,K as E,B,ao as H,N as L,W as j,A as X,k as Z}from"./useActiveTimeStore.C3Wei7Oz.js";import{z as q,fM as U,A as J,b as V,T as z,e as M,B as Q,s as Y,W as ss,l as es,c$ as as}from"./windowUtils.Ut7JS-rc.js";import{ax as O,av as ts,an as ns,ah as os,aG as cs,aw as is,c as rs,a5 as ls,S as ds}from"./PopupLoading.D-LitESe.js";import"./enum.CGJbW6Yf.js";import"./preload-helper.2LWRYvkK.js";import"./useDebouncedEffect.CslCnlPq.js";const us=F(y.createElement(y.Fragment,null,y.createElement("path",{d:"M245 110.64a16 16 0 0 0-13-6.64h-16V88a16 16 0 0 0-16-16h-69.33l-27.73-20.8a16.14 16.14 0 0 0-9.6-3.2H40a16 16 0 0 0-16 16v144a8 8 0 0 0 8 8h179.1a8 8 0 0 0 7.59-5.47l28.49-85.47a16.05 16.05 0 0 0-2.18-14.42ZM93.34 64l27.73 20.8a16.12 16.12 0 0 0 9.6 3.2H200v16H69.77a16 16 0 0 0-15.18 10.94L40 158.7V64Z"})),"FolderOpenFillIcon"),hs="_content_1x8hp_1",ms="_emptyState_1x8hp_5",ps="_headingText_1x8hp_8",fs="_section_1x8hp_17",xs="_data_1x8hp_30",I={content:hs,emptyState:ms,headingText:ps,section:fs,data:xs},_s=c=>{const{children:n,className:l}=c;return s.jsx($.div,{className:l,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.75,ease:"easeOut",type:"tween",x:"100%"},children:n})},gs="_accountGroup_lod4f_1",As="_activeAccount_lod4f_7",Is="_accountItem_lod4f_26",vs="_accountValue_lod4f_40",Cs="_accountInfo_lod4f_43",ys="_title_lod4f_50",js="_addressContainer_lod4f_55",Ns="_addressItem_lod4f_60",Ss="_addressInfo_lod4f_67",ks="_chainIcon_lod4f_75",Ts="_icon_lod4f_78",t={accountGroup:gs,activeAccount:As,accountItem:Is,accountValue:vs,accountInfo:Cs,title:ys,addressContainer:js,addressItem:Ns,addressInfo:Ss,chainIcon:ks,icon:Ts},ws=({blockchain:c,address:n,allowCopyAddress:l,isMultipleAddress:d,isExpanded:e,accountId:x})=>{const{copyToClipboard:_}=K(),[u,i]=y.useState(null),{setExpanded:p}=O(),h=a=>{a.stopPropagation(),_(J(n)),V.sendEvent(z.Click,M.Wallet,"Copy Address")},r=a=>{a.stopPropagation(),p(x,!e),V.sendEvent(z.Click,M.Wallet,"Show Address")};return S.useEffect(()=>{(async()=>{const g=await U(c);i(g.chainConfig)})()},[c]),s.jsxs("div",{"data-interactive-element":"true",className:t.addressItem,children:[s.jsxs("div",{className:t.addressInfo,children:[s.jsx(D,{size:16,squarePlain:!0,chainConfig:u,className:t.chainIcon}),s.jsx(N.Text,{intent:W.Secondary,level:"3",mono:!0,children:q(n,{boldDot:!0})}),s.jsx(E,{customIcon:s.jsx(H,{size:16,className:t.icon}),onClick:h,shape:b.Rounded,size:B.Small,hidden:!l,variant:w.Plain})]}),s.jsx(E,{customIcon:e?s.jsx(ts,{size:16,className:t.icon}):s.jsx(ns,{size:16,className:t.icon}),onClick:r,shape:b.Rounded,size:B.Small,hidden:!d,variant:w.Plain})]})},bs=c=>{const{allowCopyAddress:n=!1,nameResolverProps:l,className:d,account:e,showBalance:x=!0,isActiveAccount:_=!1,showBlockchainAddress:u,isExpanded:i=!1,onClick:p}=c,{status:h}=os(),{ref:r,isInViewport:a}=cs({threshold:.1,rootMargin:"100px",triggerOnce:!0}),{balance:g}=is(e==null?void 0:e.id,e==null?void 0:e.baseAddress,a),v=rs(),m=S.useMemo(()=>{const f=v.reduce((o,T)=>(e.chains[T.chainConfig.blockchain]&&o.add(T.chainConfig.blockchain),o),new Set);let A=Array.from(f);return A.length===0&&A.push(...Object.keys(e.chains)),u&&(A=A.filter(o=>o===u)),A.sort(o=>o===Q.EVM?-1:0).map(o=>({address:e.chains[o].address,blockchain:o}))},[e.chains,v,u]);if(!e)return null;const C=Y(h),k=e.walletType===ss.MPC&&!es.isEmpty(C),P=[{className:t.accountItem,noIndicator:!0,customLeftIcon:s.jsx(X,{size:Z.XXS,seed:e.baseAddress}),customRightIcon:s.jsx("div",{className:t.accountValue,children:s.jsx(ls,{value:g,formatOptions:{minimumFractionDigits:2},hidden:!x||k,textOptions:{color:"gray",level:"3"}})}),title:s.jsxs("div",{className:t.accountInfo,children:[s.jsx(L,{...l,address:(e==null?void 0:e.baseAddress)||"",className:t.title}),s.jsx(j,{when:k,children:s.jsx(N.Text,{level:"4",color:"warning",className:t.address,children:C})})]})},m.length>0?{className:t.accountItem,noIndicator:!0,title:s.jsx("div",{className:t.addressContainer,children:(i?m:[m[0]]).map(f=>s.jsx(ws,{address:f.address,allowCopyAddress:n,blockchain:f.blockchain,isMultipleAddress:f.address===e.baseAddress&&m.length>1,isExpanded:i,accountId:e.id},f.address))})}:null];return s.jsx("div",{ref:r,className:d,onClick:p,children:s.jsx(ds,{settingList:P,className:R(t.accountGroup,_&&t.activeAccount),hideDivider:!0,ignoreNullItem:!0})})},Es="active-account",$s=c=>{const{sections:n,className:l,handleSelectAddress:d,currentAccount:e,allowCopyAddress:x,blockchain:_,showAddress:u}=c,{metadata:i}=O();S.useEffect(()=>{(()=>{const r=document.getElementById(Es);r&&r.scrollIntoView({behavior:"instant",block:"center"})})()},[]);const p=n.length===0;return s.jsxs("div",{className:R(I.content,l),children:[s.jsx(j,{when:p,children:s.jsx(_s,{children:s.jsx(G,{icon:"ðŸ”",message:`No wallets found.
Try searching for something else!`,className:I.emptyState})})}),s.jsx(j,{when:!p,children:n.map((h,r)=>s.jsxs("div",{className:I.section,children:[s.jsxs(N.Text,{level:"3",className:I.headingText,bold:!0,children:[s.jsx(us,{size:16}),h.headingText]}),s.jsx("div",{className:I.data,children:h.data.map(a=>{var m;const g=Object.values(a.chains).some(C=>as(C,e)),v=((m=i==null?void 0:i[a==null?void 0:a.id])==null?void 0:m.isExpanded)??!1;return s.jsx(bs,{isActiveAccount:g,nameResolverProps:{fallbackName:a.nickname},account:a,allowCopyAddress:x,showBalance:!u,onClick:()=>d==null?void 0:d(a),showBlockchainAddress:_,isExpanded:v},`${a.id}-${a.baseAddress}`)})})]},r))})]})};export{_s as A,$s as S,us as t};
