import{j as t}from"./useTriggerLoadNext.KJIKMCqU.js";import{r as L}from"./index.CxJLds0B.js";import{P as D,S,x as I,L as b}from"./PopupLoading.D-LitESe.js";import{T,I as f,c as H}from"./PasswordLevelLabel.rhWNhrqO.js";import{a1 as i,a as E,a2 as w,b as g,T as d,e as m,f as N,r as P,x as y,X as h,t as R}from"./windowUtils.Ut7JS-rc.js";import{n as A,u as q}from"./useActiveTimeStore.C3Wei7Oz.js";import{S as $}from"./index.C702uFBM.js";import"./tiny-invariant.BHpmfUqq.js";import"./solana.CGFphaJI.js";import"./enum.CGJbW6Yf.js";import"./preload-helper.2LWRYvkK.js";import"./useDebouncedEffect.CslCnlPq.js";const B="_settingList_1sdex_1",F="_note_1sdex_7",C={settingList:B,note:F,switch:"_switch_1sdex_11"},O="_settingList_1qfbj_1",W="_icon_1qfbj_8",_={settingList:O,icon:W},z=l=>{var s;const{setLockTime:p,settingInfo:a}=A(),r=((s=a==null?void 0:a.data)==null?void 0:s.lockTime)??i.ThirtyMinutes,n=e=>({title:w[e],noIndicator:!0,customRightIcon:r===e?t.jsx(I,{className:_.icon}):null,isActiveItem:r===e,callback:async()=>{await p(e),l.onClose(),g.sendEvent(d.Click,m.Settings,N.AutoLock,{action_properties:{value:e}})}}),u=[[n(i.FiveMinutes),n(i.TenMinutes),n(i.ThirtyMinutes),n(i.OneHour),n(i.EightHours),n(i.Never)]];return t.jsx(D,{visible:l.visible,title:E.settings.security.autoLock,showClose:!0,onClose:l.onClose,content:t.jsx("div",{className:_.settingList,children:u==null?void 0:u.map((e,v)=>t.jsx(S,{settingList:e},v))}),footer:""})},nt=({className:l})=>{var j;const[p,a]=L.useState(!1),r=P(),[n,u]=L.useState(""),{settingInfo:s}=A(),{data:e,setEnableTracking:v}=q(),o=E.settings.security,M=async c=>{await v(c),g.sendEvent(d.Click,m.Settings,c?h.EnableTracking:h.DisableTracking)};L.useEffect(()=>{var x;const c=((x=s==null?void 0:s.data)==null?void 0:x.lockTime)??i.ThirtyMinutes;u(w[c])},[(j=s==null?void 0:s.data)==null?void 0:j.lockTime]);const k=[[{title:o.autoLock,extraInfo:`${n}`,callback:()=>{a(!0),g.sendEvent(d.Click,m.Settings,N.AutoLock)}}],[{title:t.jsx(T.Text,{level:"3",bold:!0,children:o.changePasscode}),noIndicator:!0,callback:()=>{r(y.CHANGE_PASSCODE),g.sendEvent(d.Click,m.Settings,h.ChangePasscode)}}],[{title:t.jsx(T.Text,{level:"3",bold:!0,intent:f.Danger,children:o.resetWallet}),noIndicator:!0,callback:()=>{r(y.CONFIRM_RESET),g.sendEvent(d.Click,m.Settings,h.ResetWallet)}}]];return R&&k.splice(2,0,[{title:t.jsx(T.Text,{level:"3",bold:!0,children:o.allowTracking}),noIndicator:!0,extraInfo:t.jsx($,{checked:(e==null?void 0:e.enableTracking)??!1,className:C.switch,onChange:()=>{M(!(e!=null&&e.enableTracking))}})}]),t.jsxs(b,{noBackground:!0,className:H(l),children:[t.jsx(b.BackableNavbar,{title:o.title}),t.jsxs(b.Content,{children:[t.jsx("div",{className:C.settingList,children:k==null?void 0:k.map((c,x)=>t.jsx(S,{settingList:c},x))}),t.jsx(T.Text,{className:C.note,level:"3",intent:f.Secondary,children:o.autoLockNote})]}),t.jsx(z,{visible:p,onClose:()=>a(!1)})]})};export{nt as default};
