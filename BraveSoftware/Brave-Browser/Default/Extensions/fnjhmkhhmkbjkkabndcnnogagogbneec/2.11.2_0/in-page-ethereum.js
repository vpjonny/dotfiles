!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";let t;const e=new Uint8Array(16);function n(){if(!t&&(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(e)}const r=[];for(let t=0;t<256;++t)r.push((t+256).toString(16).slice(1));var i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function o(t,e,o){if(i.randomUUID&&!t)return i.randomUUID();const s=(t=t||{}).random||(t.rng||n)();return s[6]=15&s[6]|64,s[8]=63&s[8]|128,function(t,e=0){return r[t[e+0]]+r[t[e+1]]+r[t[e+2]]+r[t[e+3]]+"-"+r[t[e+4]]+r[t[e+5]]+"-"+r[t[e+6]]+r[t[e+7]]+"-"+r[t[e+8]]+r[t[e+9]]+"-"+r[t[e+10]]+r[t[e+11]]+r[t[e+12]]+r[t[e+13]]+r[t[e+14]]+r[t[e+15]]}(s)}const s=()=>o(),a=t=>{const e=t.data;if(!e)return null;let n=e;if("string"==typeof n)try{if(n=JSON.parse(e),null===n)return null}catch(t){return null}return n?.isWalletEvent?n:null};const u=t=>new Promise((e=>setTimeout(e,t))),c=t=>(t.stack=void 0,t);function h(t){return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)}var l;!function(t){t.Announce="eip6963:announceProvider",t.Request="eip6963:requestProvider"}(l||(l={}));const d=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,f=/(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9]\.)+[a-zA-Z]{2,63}$)/u;function p(t){throw new Error(`${t} See https://eips.ethereum.org/EIPS/eip-6963 for requirements.`)}var g,m,y,w,v,b,E;function x(){}function A(){A.init.call(this)}function S(t){return void 0===t._maxListeners?A.defaultMaxListeners:t._maxListeners}function M(t,e,n,r){var i,o,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]):(o=t._events=new x,t._eventsCount=0),s){if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=S(t))&&i>0&&s.length>i){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=o[e]=n,++t._eventsCount;return t}function _(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function I(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function B(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}!function(t){t.EVM="evm",t.SOLANA="solana"}(g||(g={})),function(t){t.CONNECT="connect",t.DISCONNECT="disconnect",t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged"}(m||(m={})),function(t){t.ACCOUNTS_CHANGED="walletAccountsChanged",t.CHAIN_CHANGED="walletChainChanged",t.JSON_RPC_RESPONSE="walletJsonRpcResponse",t.CONTENT_SCRIPT_READY="walletContentScriptReady"}(y||(y={})),function(t){t.USER_REJECTED_REQUEST="User Rejected Request",t.UNSUPPORTED_METHOD="Unsupported Method",t.CHAIN_DISCONNECTED="Chain Disconnected",t.DISCONNECTED="Disconnected",t.UNAUTHORIZED="Unauthorized"}(w||(w={})),function(t){t.JSON_RPC="json-rpc"}(v||(v={})),function(t){t.ACCOUNT_CHANGED="account_changed"}(b||(b={})),x.prototype=Object.create(null),A.EventEmitter=A,A.usingDomains=!1,A.prototype.domain=void 0,A.prototype._events=void 0,A.prototype._maxListeners=void 0,A.defaultMaxListeners=10,A.init=function(){this.domain=null,A.usingDomains&&(!E.active||this instanceof E.Domain||(this.domain=E.active)),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new x,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},A.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},A.prototype.getMaxListeners=function(){return S(this)},A.prototype.emit=function(t){var e,n,r,i,o,s,a,u="error"===t;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(a=this.domain,u){if(e=arguments[1],!a){if(e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var h="function"==typeof n;switch(r=arguments.length){case 1:!function(t,e,n){if(e)t.call(n);else for(var r=t.length,i=B(t,r),o=0;o<r;++o)i[o].call(n)}(n,h,this);break;case 2:!function(t,e,n,r){if(e)t.call(n,r);else for(var i=t.length,o=B(t,i),s=0;s<i;++s)o[s].call(n,r)}(n,h,this,arguments[1]);break;case 3:!function(t,e,n,r,i){if(e)t.call(n,r,i);else for(var o=t.length,s=B(t,o),a=0;a<o;++a)s[a].call(n,r,i)}(n,h,this,arguments[1],arguments[2]);break;case 4:!function(t,e,n,r,i,o){if(e)t.call(n,r,i,o);else for(var s=t.length,a=B(t,s),u=0;u<s;++u)a[u].call(n,r,i,o)}(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];!function(t,e,n,r){if(e)t.apply(n,r);else for(var i=t.length,o=B(t,i),s=0;s<i;++s)o[s].apply(n,r)}(n,h,this,i)}return!0},A.prototype.addListener=function(t,e){return M(this,t,e,!1)},A.prototype.on=A.prototype.addListener,A.prototype.prependListener=function(t,e){return M(this,t,e,!0)},A.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,_(this,t,e)),this},A.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,_(this,t,e)),this},A.prototype.removeListener=function(t,e){var n,r,i,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new x:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new x,this;delete r[t]}else!function(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}(n,i);r.removeListener&&this.emit("removeListener",t,s||e)}return this},A.prototype.off=function(t,e){return this.removeListener(t,e)},A.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new x,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new x:delete n[t]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new x,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},A.prototype.listeners=function(t){var e,n,r=this._events;return n=r&&(e=r[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):[],n},A.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):I.call(t,e)},A.prototype.listenerCount=I,A.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};let k=class extends TypeError{constructor(t,e){let n;const{message:r,explanation:i,...o}=t,{path:s}=t,a=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}};function T(t){return"object"==typeof t&&null!==t}function C(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function O(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:u=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${C(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:u}}function*R(t,e,n,r){(function(t){return T(t)&&"function"==typeof t[Symbol.iterator]})(t)||(t=[t]);for(const i of t){const t=O(i,e,n,r);t&&(yield t)}}function*U(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&T(e.schema)&&T(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let u="valid";for(const r of e.validator(t,a))r.explanation=n.message,u="not_valid",yield[r,void 0];for(let[c,h,l]of e.entries(t,a)){const e=U(h,l,{path:void 0===c?r:[...r,c],branch:void 0===c?i:[...i,h],coerce:o,mask:s,message:n.message});for(const n of e)n[0]?(u=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):o&&(h=n[1],void 0===c?t=h:t instanceof Map?t.set(c,h):t instanceof Set?t.add(h):T(t)&&(void 0!==h||c in t)&&(t[c]=h))}if("not_valid"!==u)for(const r of e.refiner(t,a))r.explanation=n.message,u="not_refined",yield[r,void 0];"valid"===u&&(yield[void 0,t])}let N=class{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:o=t=>t,entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>R(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>R(i(t,e),e,this,t):()=>[]}assert(t,e){return L(t,this,e)}create(t,e){return P(t,this,e)}is(t){return z(t,this)}mask(t,e){return function(t,e,n){const r=$(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(t,this,e)}validate(t,e={}){return $(t,this,e)}};function L(t,e,n){const r=$(t,e,{message:n});if(r[0])throw r[0]}function P(t,e,n){const r=$(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function z(t,e){return!$(t,e)[0]}function $(t,e,n={}){const r=U(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new k(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function D(t,e){return new N({type:t,schema:null,validator:e})}function q(t){const e=t?Object.keys(t):[],n=D("never",(()=>!1));return new N({type:"object",schema:t??null,*entries(r){if(t&&T(r)){const i=new Set(Object.keys(r));for(const n of e)i.delete(n),yield[n,r[n],t[n]];for(const t of i)yield[t,r[t],n]}},validator:t=>T(t)||`Expected an object, but received: ${C(t)}`,coercer:t=>T(t)?{...t}:t})}function j(t){return new N({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function F(){return D("string",(t=>"string"==typeof t||`Expected a string, but received: ${C(t)}`))}function K(t){const e=t.map((t=>t.type)).join(" | ");return new N({type:"union",schema:null,coercer(e){for(const n of t){const[t,r]=n.validate(e,{coerce:!0});if(!t)return r}return e},validator(n,r){const i=[];for(const e of t){const[...t]=U(n,e,r),[o]=t;if(!o?.[0])return[];for(const[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${C(n)}`,...i]}})}function V(t){return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)}const H=(t,e)=>Object.hasOwnProperty.call(t,e);var G;function W(t){return function(t){return function(t){return"object"==typeof t&&null!==t&&"message"in t}(t)&&"string"==typeof t.message?t.message:null==t?"":String(t)}(t).replace(/\.$/u,"")}function Z(t,e){return n=t,Boolean("string"==typeof n?.prototype?.constructor?.name)?new t({message:e}):t({message:e});var n}!function(t){t[t.Null=4]="Null",t[t.Comma=1]="Comma",t[t.Wrapper=1]="Wrapper",t[t.True=4]="True",t[t.False=5]="False",t[t.Quote=1]="Quote",t[t.Colon=1]="Colon",t[t.Date=24]="Date"}(G=G||(G={}));class Y extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}const J=BigInt(2**32-1),X=BigInt(32);function Q(t,e=!1){return e?{h:Number(t&J),l:Number(t>>X&J)}:{h:0|Number(t>>X&J),l:0|Number(t&J)}}const tt=(t,e,n)=>t>>>n,et=(t,e,n)=>t<<32-n|e>>>n,nt=(t,e,n)=>t>>>n|e<<32-n,rt=(t,e,n)=>t<<32-n|e>>>n,it=(t,e,n)=>t<<64-n|e>>>n-32,ot=(t,e,n)=>t>>>n-32|e<<64-n;function st(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}const at=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),ut=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,ct=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),ht=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,lt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),dt=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,ft="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function pt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function gt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function mt(t,...e){if(!pt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function yt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function vt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bt(t,e){return t<<32-e|t>>>e}const Et=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),xt=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function At(t){if(mt(t),Et)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=xt[t[n]];return e}const St=48,Mt=57,_t=65,It=70,Bt=97,kt=102;function Tt(t){return t>=St&&t<=Mt?t-St:t>=_t&&t<=It?t-(_t-10):t>=Bt&&t<=kt?t-(Bt-10):void 0}function Ct(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(Et)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let e=0,i=0;e<n;e++,i+=2){const n=Tt(t.charCodeAt(i)),o=Tt(t.charCodeAt(i+1));if(void 0===n||void 0===o){const e=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+i)}r[e]=16*n+o}return r}function Ot(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}(t)),mt(t),t}function Rt(...t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];mt(r),e+=r.length}const n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const i=t[e];n.set(i,r),r+=i.length}return n}class Ut{}function Nt(t){const e=e=>t().update(Ot(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Lt(t=32){if(ft&&"function"==typeof ft.getRandomValues)return ft.getRandomValues(new Uint8Array(t));if(ft&&"function"==typeof ft.randomBytes)return Uint8Array.from(ft.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Pt=t=>q(t);function zt({path:t,branch:e}){const n=t[t.length-1];return H(e[e.length-2],n)}function $t(t){return new N({...t,type:`optional ${t.type}`,validator:(e,n)=>!zt(n)||t.validator(e,n),refiner:(e,n)=>!zt(n)||t.refiner(e,n)})}function Dt(t){if(null===t||"boolean"==typeof t||"string"==typeof t)return!0;if("number"==typeof t&&Number.isFinite(t))return!0;if("object"==typeof t){let e=!0;if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(!Dt(t[n])){e=!1;break}return e}const n=Object.entries(t);for(let t=0;t<n.length;t++)if("string"!=typeof n[t][0]||!Dt(n[t][1])){e=!1;break}return e}return!1}const qt=D("JSON",(t=>Dt(t))),jt=(Ft=qt,Kt=D("any",(()=>!0)),Vt=t=>(function(t,e,n="Assertion failed",r=Y){try{L(t,e)}catch(t){throw Z(r,`${n}: ${W(t)}.`)}}(t,qt),JSON.parse(JSON.stringify(t,((t,e)=>{if("__proto__"!==t&&"constructor"!==t)return e})))),new N({...Ft,coercer:(t,e)=>z(t,Kt)?Ft.coercer(Vt(t,e),e):Ft.coercer(t,e)}));var Ft,Kt,Vt;function Ht(t){try{return function(t){P(t,jt)}(t),!0}catch{return!1}}const Gt=function(t){const e=C(t);return new N({type:"literal",schema:t,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${C(n)}`})}("2.0"),Wt=function(t){return new N({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}(K([D("number",(t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${C(t)}`)),F()])),Zt=Pt({code:D("integer",(t=>"number"==typeof t&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${C(t)}`)),message:F(),data:$t(jt),stack:$t(F())}),Yt=K([(Xt=F(),Qt=jt,new N({type:"record",schema:null,*entries(t){if(T(t))for(const e in t){const n=t[e];yield[e,e,Xt],yield[e,n,Qt]}},validator:t=>T(t)||`Expected an object, but received: ${C(t)}`})),(Jt=jt,new N({type:"array",schema:Jt,*entries(t){if(Jt&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,Jt]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${C(t)}`}))]);var Jt,Xt,Qt;Pt({id:Wt,jsonrpc:Gt,method:F(),params:$t(Yt)}),Pt({jsonrpc:Gt,method:F(),params:$t(Yt)}),q({id:Wt,jsonrpc:Gt,result:j(D("unknown",(()=>!0))),error:j(Zt)});function te(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ee(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var ne,re;K([Pt({id:Wt,jsonrpc:Gt,result:jt}),Pt({id:Wt,jsonrpc:Gt,error:Zt})]);var ie=function(){if(re)return ne;re=1,ne=o,o.default=o,o.stable=c,o.stableStringify=c;var t="[...]",e="[Circular]",n=[],r=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function o(t,e,o,s){var u;void 0===s&&(s=i()),a(t,"",0,[],void 0,0,s);try{u=0===r.length?JSON.stringify(t,e,o):JSON.stringify(t,l(e),o)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var c=n.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return u}function s(t,e,i,o){var s=Object.getOwnPropertyDescriptor(o,i);void 0!==s.get?s.configurable?(Object.defineProperty(o,i,{value:t}),n.push([o,i,e,s])):r.push([e,i,t]):(o[i]=t,n.push([o,i,e]))}function a(n,r,i,o,u,c,h){var l;if(c+=1,"object"==typeof n&&null!==n){for(l=0;l<o.length;l++)if(o[l]===n)return void s(e,n,r,u);if(void 0!==h.depthLimit&&c>h.depthLimit)return void s(t,n,r,u);if(void 0!==h.edgesLimit&&i+1>h.edgesLimit)return void s(t,n,r,u);if(o.push(n),Array.isArray(n))for(l=0;l<n.length;l++)a(n[l],l,l,o,n,c,h);else{var d=Object.keys(n);for(l=0;l<d.length;l++){var f=d[l];a(n[f],f,l,o,n,c,h)}}o.pop()}}function u(t,e){return t<e?-1:t>e?1:0}function c(t,e,o,s){void 0===s&&(s=i());var a,u=h(t,"",0,[],void 0,0,s)||t;try{a=0===r.length?JSON.stringify(u,e,o):JSON.stringify(u,l(e),o)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var c=n.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return a}function h(r,i,o,a,c,l,d){var f;if(l+=1,"object"==typeof r&&null!==r){for(f=0;f<a.length;f++)if(a[f]===r)return void s(e,r,i,c);try{if("function"==typeof r.toJSON)return}catch(t){return}if(void 0!==d.depthLimit&&l>d.depthLimit)return void s(t,r,i,c);if(void 0!==d.edgesLimit&&o+1>d.edgesLimit)return void s(t,r,i,c);if(a.push(r),Array.isArray(r))for(f=0;f<r.length;f++)h(r[f],f,f,a,r,l,d);else{var p={},g=Object.keys(r).sort(u);for(f=0;f<g.length;f++){var m=g[f];h(r[m],m,f,a,r,l,d),p[m]=r[m]}if(void 0===c)return p;n.push([c,i,r]),c[i]=p}a.pop()}}function l(t){return t=void 0!==t?t:function(t,e){return e},function(e,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===e&&o[0]===n){n=o[2],r.splice(i,1);break}}return t.call(this,e,n)}}return ne}(),oe=te(ie);const se={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},ae={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},ue=se.internal;he(ue);const ce="Unspecified server error.";function he(t,e="Unspecified error message. This is a bug, please report it."){if(function(t){return Number.isInteger(t)}(t)){const e=t.toString();if(H(ae,e))return ae[e].message;if(function(t){return t>=-32099&&t<=-32e3}(t))return ce}return e}function le(t){return Object.getOwnPropertyNames(t).reduce(((e,n)=>{const r=t[n];return Ht(r)&&(e[n]=r),e}),{})}const de=(fe=oe,fe?.__esModule?fe.default:fe);var fe;class pe extends Error{constructor(t,e,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||"string"!=typeof e)throw new Error('"message" must be a non-empty string.');!function(t){return V(t)&&H(t,"cause")&&V(t.cause)}(n)?super(e):(super(e,{cause:n.cause}),H(this,"cause")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=t}serialize(){const t={code:this.code,message:this.message};var e;return void 0!==this.data&&(t.data=this.data,function(t){if("object"!=typeof t||null===t)return!1;try{let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch(t){return!1}}(this.data)&&(t.data.cause=(e=this.data.cause,Array.isArray(e)?e.map((t=>Ht(t)?t:V(t)?le(t):null)):V(e)?le(e):Ht(e)?e:null))),this.stack&&(t.stack=this.stack),t}toString(){return de(this.serialize(),ge,2)}}function ge(t,e){if("[Circular]"!==e)return e}const me=t=>ye(se.invalidRequest,t);function ye(t,e){const[n,r]=function(t){if(t){if("string"==typeof t)return[t];if("object"==typeof t&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&"string"!=typeof e)throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}(e);return new pe(t,n??he(t),r)}const we=t=>"number"==typeof t?`0x${t.toString(16)}`:t,ve=()=>({uuid:s(),name:"Ronin Wallet",icon:"data:image/svg+xml, %3Csvg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='100' height='100' fill='url(%23paint0_linear_8136_55227)'/%3E%3Cpath d='M75.9844 37.9617V21.3206C75.9844 19.1138 75.1081 16.9975 73.5483 15.437C71.9884 13.8766 69.8728 13 67.6669 13H32.3175C30.1116 13 27.996 13.8766 26.4361 15.437C24.8763 16.9975 24 19.1138 24 21.3206V69.6059C24.0008 70.8523 24.2815 72.0827 24.8213 73.206C25.3612 74.3293 26.1464 75.317 27.1191 76.096L39.9904 86.4343C40.1432 86.5583 40.328 86.6364 40.5234 86.6595C40.7188 86.6826 40.9167 86.6497 41.0942 86.5648C41.2717 86.4798 41.4214 86.3462 41.526 86.1795C41.6306 86.0128 41.6858 85.8199 41.6851 85.623V51.4827C41.6851 51.2068 41.7946 50.9423 41.9896 50.7472C42.1846 50.5522 42.449 50.4426 42.7248 50.4426H52.082C53.7364 50.4426 55.3231 51.1001 56.493 52.2704C57.6629 53.4407 58.3201 55.028 58.3201 56.683V85.623C58.3202 85.8189 58.3756 86.0108 58.48 86.1766C58.5843 86.3424 58.7334 86.4753 58.9099 86.56C59.0864 86.6448 59.2833 86.678 59.4779 86.6557C59.6724 86.6335 59.8567 86.5567 60.0096 86.4343L72.8809 76.096C73.8536 75.317 74.6388 74.3293 75.1787 73.206C75.7185 72.0827 75.9992 70.8523 76 69.6059V54.6029C76 52.3961 75.1237 50.2798 73.5639 48.7194C72.004 47.1589 69.8884 46.2823 67.6825 46.2823C69.8857 46.2782 71.9973 45.3997 73.5538 43.8398C75.1102 42.2798 75.9844 40.1658 75.9844 37.9617V37.9617ZM52.0716 42.122H42.7144C42.4386 42.122 42.1742 42.0124 41.9792 41.8174C41.7842 41.6223 41.6747 41.3578 41.6747 41.0819V22.3606C41.6747 22.0848 41.7842 21.8203 41.9792 21.6252C42.1742 21.4302 42.4386 21.3206 42.7144 21.3206H57.27C57.5458 21.3206 57.8102 21.4302 58.0052 21.6252C58.2002 21.8203 58.3097 22.0848 58.3097 22.3606V35.8816C58.3097 37.5367 57.6525 39.1239 56.4826 40.2942C55.3127 41.4646 53.726 42.122 52.0716 42.122V42.122Z' fill='white'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_8136_55227' x1='-3' y1='103' x2='104' y2='5.65126e-08' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%230606B7'/%3E%3Cstop offset='0.625' stop-color='%23137CCA'/%3E%3Cstop offset='1' stop-color='%2318A5D1'/%3E%3Cstop offset='1' stop-color='%2320A8D0'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E%0A",rdns:"com.roninchain.wallet"});class be extends A{isConnected;isReady=!1;shouldWaitForReady=!1;_roninEvent;isRonin=!0;constructor(t,e=!1){super(),this.isConnected=!0,this._roninEvent=t,this.shouldWaitForReady=e,this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this),this.disconnect=this.disconnect.bind(this),this.enable=this.enable.bind(this),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleChainChanged=this.handleChainChanged.bind(this),this.handleAccountsChanged=this.handleAccountsChanged.bind(this),this.initInpageEventListener()}initInpageEventListener(){window.addEventListener("message",(t=>{const e=a(t);e&&e.type===y.ACCOUNTS_CHANGED&&e.blockchain===g.EVM&&this.handleAccountsChanged(e.data)}));window.addEventListener("message",(t=>{const e=a(t);e&&e.type===y.CHAIN_CHANGED&&e.blockchain===g.EVM&&this.handleChainChanged(e.data)}));const t=e=>{const n=a(e);n&&n.type===y.CONTENT_SCRIPT_READY&&(this.isReady=!0,window.removeEventListener("message",t))};window.addEventListener("message",t)}dispatchEvent(t){const e=new CustomEvent(v.JSON_RPC,{detail:{payload:t}});window.dispatchEvent(e)}async waitForReady(){if(!this.shouldWaitForReady)return;let t=0;for(;!this.isReady&&t<2e3;)await u(50),t+=50;this.isReady=!0}async sendAsync(t,e){const n=async t=>{t.id=t.id||s();try{const e=await this.request(t);return{id:t.id,jsonrpc:"2.0",result:e}}catch(e){const n=e;return{id:t.id,jsonrpc:"2.0",result:null,error:{code:n.code,message:n.message,name:n.name}}}};if(Array.isArray(t)){e(null,await Promise.all(t.map(n)))}else{const r=await n(t);e(r.error??null,r)}}request(t){return new Promise((async(e,n)=>{const{method:r}=t;if(!r||!r.length||"string"!=typeof r)return void n(c(me()));await this.waitForReady();const i=s();this.dispatchEvent({...t,id:i,jsonrpc:"2.0"});const o=t=>{const r=a(t);if(!r)return;const{type:s,data:u}=r;s===y.JSON_RPC_RESPONSE&&u.id===i&&(u.error?n(u.error):(window.removeEventListener("message",o),e(u.result)))};window.addEventListener("message",o)}))}handleConnect(t){this.isConnected||(this.isConnected=!0,this.emit(m.CONNECT,{chainId:we(t)}))}handleDisconnect(){this.isConnected&&(this.isConnected=!1,this.emit(m.DISCONNECT))}handleAccountsChanged(t){this.emit(m.ACCOUNTS_CHANGED,t),this._roninEvent.dispatchEvent(new Event(b.ACCOUNT_CHANGED))}handleChainChanged(t){this.handleConnect(t),this.emit(m.CHAIN_CHANGED,we(t))}disconnect(){return this.request({method:"wallet_disconnectSession"})}enable(){return this.request({method:"eth_requestAccounts"})}}class Ee extends Event{_detail;get detail(){return this._detail}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),this._detail=t}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}var xe="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Ae=[],Se=[],Me="undefined"!=typeof Uint8Array?Uint8Array:Array,_e=!1;function Ie(){_e=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)Ae[e]=t[e],Se[t.charCodeAt(e)]=e;Se["-".charCodeAt(0)]=62,Se["_".charCodeAt(0)]=63}function Be(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(Ae[(i=r)>>18&63]+Ae[i>>12&63]+Ae[i>>6&63]+Ae[63&i]);return o.join("")}function ke(t){var e;_e||Ie();for(var n=t.length,r=n%3,i="",o=[],s=16383,a=0,u=n-r;a<u;a+=s)o.push(Be(t,a,a+s>u?u:a+s));return 1===r?(e=t[n-1],i+=Ae[e>>2],i+=Ae[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=Ae[e>>10],i+=Ae[e>>4&63],i+=Ae[e<<2&63],i+="="),o.push(i),o.join("")}function Te(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,h=-7,l=n?i-1:0,d=n?-1:1,f=t[e+l];for(l+=d,o=f&(1<<-h)-1,f>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=d,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)}function Ce(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+f]=255&s,f+=p,s/=256,c-=8);t[n+f-p]|=128*g}var Oe={}.toString,Re=Array.isArray||function(t){return"[object Array]"==Oe.call(t)};Pe.TYPED_ARRAY_SUPPORT=void 0===xe.TYPED_ARRAY_SUPPORT||xe.TYPED_ARRAY_SUPPORT;var Ue=Ne();function Ne(){return Pe.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Le(t,e){if(Ne()<e)throw new RangeError("Invalid typed array length");return Pe.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Pe.prototype:(null===t&&(t=new Pe(e)),t.length=e),t}function Pe(t,e,n){if(!(Pe.TYPED_ARRAY_SUPPORT||this instanceof Pe))return new Pe(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return De(this,t)}return ze(this,t,e,n)}function ze(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);Pe.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Pe.prototype:t=qe(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!Pe.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Ke(e,n);t=Le(t,r);var i=t.write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(Fe(e)){var n=0|je(e.length);return 0===(t=Le(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?Le(t,0):qe(t,e);if("Buffer"===e.type&&Re(e.data))return qe(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function $e(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function De(t,e){if($e(e),t=Le(t,e<0?0:0|je(e)),!Pe.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function qe(t,e){var n=e.length<0?0:0|je(e.length);t=Le(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function je(t){if(t>=Ne())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ne().toString(16)+" bytes");return 0|t}function Fe(t){return!(null==t||!t._isBuffer)}function Ke(t,e){if(Fe(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return wn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return vn(t).length;default:if(r)return wn(t).length;e=(""+e).toLowerCase(),r=!0}}function Ve(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return an(this,e,n);case"utf8":case"utf-8":return nn(this,e,n);case"ascii":return on(this,e,n);case"latin1":case"binary":return sn(this,e,n);case"base64":return en(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return un(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function He(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ge(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=Pe.from(e,r)),Fe(e))return 0===e.length?-1:We(t,e,n,r,i);if("number"==typeof e)return e&=255,Pe.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):We(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function We(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,d=0;d<u;d++)if(c(t,o+d)!==c(e,d)){l=!1;break}if(l)return o}return-1}function Ze(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function Ye(t,e,n,r){return bn(wn(e,t.length-n),t,n,r)}function Je(t,e,n,r){return bn(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function Xe(t,e,n,r){return Je(t,e,n,r)}function Qe(t,e,n,r){return bn(vn(e),t,n,r)}function tn(t,e,n,r){return bn(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function en(t,e,n){return 0===e&&n===t.length?ke(t):ke(t.slice(e,n))}function nn(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],h=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(h=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return function(t){var e=t.length;if(e<=rn)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=rn));return n}(r)}Pe.poolSize=8192,Pe._augment=function(t){return t.__proto__=Pe.prototype,t},Pe.from=function(t,e,n){return ze(null,t,e,n)},Pe.TYPED_ARRAY_SUPPORT&&(Pe.prototype.__proto__=Uint8Array.prototype,Pe.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Pe[Symbol.species]),Pe.alloc=function(t,e,n){return function(t,e,n,r){return $e(e),e<=0?Le(t,e):void 0!==n?"string"==typeof r?Le(t,e).fill(n,r):Le(t,e).fill(n):Le(t,e)}(null,t,e,n)},Pe.allocUnsafe=function(t){return De(null,t)},Pe.allocUnsafeSlow=function(t){return De(null,t)},Pe.isBuffer=En,Pe.compare=function(t,e){if(!Fe(t)||!Fe(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Pe.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Pe.concat=function(t,e){if(!Re(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Pe.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=Pe.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!Fe(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},Pe.byteLength=Ke,Pe.prototype._isBuffer=!0,Pe.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)He(this,e,e+1);return this},Pe.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)He(this,e,e+3),He(this,e+1,e+2);return this},Pe.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)He(this,e,e+7),He(this,e+1,e+6),He(this,e+2,e+5),He(this,e+3,e+4);return this},Pe.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?nn(this,0,t):Ve.apply(this,arguments)},Pe.prototype.equals=function(t){if(!Fe(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Pe.compare(this,t)},Pe.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Pe.prototype.compare=function(t,e,n,r,i){if(!Fe(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(r,i),c=t.slice(e,n),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},Pe.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},Pe.prototype.indexOf=function(t,e,n){return Ge(this,t,e,n,!0)},Pe.prototype.lastIndexOf=function(t,e,n){return Ge(this,t,e,n,!1)},Pe.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return Ze(this,t,e,n);case"utf8":case"utf-8":return Ye(this,t,e,n);case"ascii":return Je(this,t,e,n);case"latin1":case"binary":return Xe(this,t,e,n);case"base64":return Qe(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tn(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Pe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var rn=4096;function on(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function sn(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function an(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=yn(t[o]);return i}function un(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function cn(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function hn(t,e,n,r,i,o){if(!Fe(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function ln(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function dn(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function fn(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function pn(t,e,n,r,i){return i||fn(t,0,n,4),Ce(t,e,n,r,23,4),n+4}function gn(t,e,n,r,i){return i||fn(t,0,n,8),Ce(t,e,n,r,52,8),n+8}Pe.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),Pe.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Pe.prototype;else{var i=e-t;n=new Pe(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},Pe.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||cn(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},Pe.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||cn(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},Pe.prototype.readUInt8=function(t,e){return e||cn(t,1,this.length),this[t]},Pe.prototype.readUInt16LE=function(t,e){return e||cn(t,2,this.length),this[t]|this[t+1]<<8},Pe.prototype.readUInt16BE=function(t,e){return e||cn(t,2,this.length),this[t]<<8|this[t+1]},Pe.prototype.readUInt32LE=function(t,e){return e||cn(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Pe.prototype.readUInt32BE=function(t,e){return e||cn(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Pe.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||cn(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},Pe.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||cn(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Pe.prototype.readInt8=function(t,e){return e||cn(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Pe.prototype.readInt16LE=function(t,e){e||cn(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Pe.prototype.readInt16BE=function(t,e){e||cn(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Pe.prototype.readInt32LE=function(t,e){return e||cn(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Pe.prototype.readInt32BE=function(t,e){return e||cn(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Pe.prototype.readFloatLE=function(t,e){return e||cn(t,4,this.length),Te(this,t,!0,23,4)},Pe.prototype.readFloatBE=function(t,e){return e||cn(t,4,this.length),Te(this,t,!1,23,4)},Pe.prototype.readDoubleLE=function(t,e){return e||cn(t,8,this.length),Te(this,t,!0,52,8)},Pe.prototype.readDoubleBE=function(t,e){return e||cn(t,8,this.length),Te(this,t,!1,52,8)},Pe.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||hn(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},Pe.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||hn(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},Pe.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,1,255,0),Pe.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Pe.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,2,65535,0),Pe.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ln(this,t,e,!0),e+2},Pe.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,2,65535,0),Pe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ln(this,t,e,!1),e+2},Pe.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,4,4294967295,0),Pe.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):dn(this,t,e,!0),e+4},Pe.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,4,4294967295,0),Pe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):dn(this,t,e,!1),e+4},Pe.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);hn(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+n},Pe.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);hn(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+n},Pe.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,1,127,-128),Pe.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Pe.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,2,32767,-32768),Pe.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ln(this,t,e,!0),e+2},Pe.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,2,32767,-32768),Pe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ln(this,t,e,!1),e+2},Pe.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,4,2147483647,-2147483648),Pe.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):dn(this,t,e,!0),e+4},Pe.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||hn(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Pe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):dn(this,t,e,!1),e+4},Pe.prototype.writeFloatLE=function(t,e,n){return pn(this,t,e,!0,n)},Pe.prototype.writeFloatBE=function(t,e,n){return pn(this,t,e,!1,n)},Pe.prototype.writeDoubleLE=function(t,e,n){return gn(this,t,e,!0,n)},Pe.prototype.writeDoubleBE=function(t,e,n){return gn(this,t,e,!1,n)},Pe.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!Pe.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},Pe.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Pe.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=Fe(t)?t:wn(new Pe(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var mn=/[^+\/0-9A-Za-z-_]/g;function yn(t){return t<16?"0"+t.toString(16):t.toString(16)}function wn(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function vn(t){return function(t){var e,n,r,i,o,s;_e||Ie();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,s=new Me(3*a/4-o),r=o>0?a-4:a;var u=0;for(e=0,n=0;e<r;e+=4,n+=3)i=Se[t.charCodeAt(e)]<<18|Se[t.charCodeAt(e+1)]<<12|Se[t.charCodeAt(e+2)]<<6|Se[t.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=Se[t.charCodeAt(e)]<<2|Se[t.charCodeAt(e+1)]>>4,s[u++]=255&i):1===o&&(i=Se[t.charCodeAt(e)]<<10|Se[t.charCodeAt(e+1)]<<4|Se[t.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(mn,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function bn(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function En(t){return null!=t&&(!!t._isBuffer||xn(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&xn(t.slice(0,0))}(t))}function xn(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var An=Object.freeze({__proto__:null,Buffer:Pe,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Pe.alloc(+t)},isBuffer:En,kMaxLength:Ue});function Sn(t,e,n){return t&e^t&n^e&n}class Mn extends Ut{constructor(t,e,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(t),this.view=vt(this.buffer)}update(t){yt(this),mt(t=Ot(t));const{view:e,buffer:n,blockLen:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(e,0),this.pos=0);else{const e=vt(t);for(;r<=i-o;o+=r)this.process(e,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){yt(this),function(t,e){mt(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,wt(this.buffer.subarray(o)),this.padOffset>r-o&&(this.process(n,0),o=0);for(let t=o;t<r;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),u=r?4:0,c=r?0:4;t.setUint32(e+u,s,r),t.setUint32(e+c,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=vt(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<u;t++)s.setUint32(4*t,c[t],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.destroyed=o,t.finished=i,t.length=r,t.pos=s,r%e&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const _n=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),In=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Bn=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kn=new Uint32Array(64);class Tn extends Mn{constructor(t=32){super(64,t,8,!1),this.A=0|_n[0],this.B=0|_n[1],this.C=0|_n[2],this.D=0|_n[3],this.E=0|_n[4],this.F=0|_n[5],this.G=0|_n[6],this.H=0|_n[7]}get(){const{A:t,B:e,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[t,e,n,r,i,o,s,a]}set(t,e,n,r,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)kn[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=kn[t-15],n=kn[t-2],r=bt(e,7)^bt(e,18)^e>>>3,i=bt(n,17)^bt(n,19)^n>>>10;kn[t]=i+kn[t-7]+r+kn[t-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let t=0;t<64;t++){const e=c+(bt(s,6)^bt(s,11)^bt(s,25))+((h=s)&a^~h&u)+Bn[t]+kn[t]|0,l=(bt(n,2)^bt(n,13)^bt(n,22))+Sn(n,r,i)|0;c=u,u=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+l|0}var h;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,r,i,o,s,a,u,c)}roundClean(){wt(kn)}destroy(){this.set(0,0,0,0,0,0,0,0),wt(this.buffer)}}const Cn=(()=>function(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:n,l:s}=Q(t[o],e);[r[o],i[o]]=[n,s]}return[r,i]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),On=(()=>Cn[0])(),Rn=(()=>Cn[1])(),Un=new Uint32Array(80),Nn=new Uint32Array(80);class Ln extends Mn{constructor(t=64){super(128,t,16,!1),this.Ah=0|In[0],this.Al=0|In[1],this.Bh=0|In[2],this.Bl=0|In[3],this.Ch=0|In[4],this.Cl=0|In[5],this.Dh=0|In[6],this.Dl=0|In[7],this.Eh=0|In[8],this.El=0|In[9],this.Fh=0|In[10],this.Fl=0|In[11],this.Gh=0|In[12],this.Gl=0|In[13],this.Hh=0|In[14],this.Hl=0|In[15]}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:h,Fl:l,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[t,e,n,r,i,o,s,a,u,c,h,l,d,f,p,g]}set(t,e,n,r,i,o,s,a,u,c,h,l,d,f,p,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|h,this.Fl=0|l,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(t,e){for(let n=0;n<16;n++,e+=4)Un[n]=t.getUint32(e),Nn[n]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|Un[t-15],n=0|Nn[t-15],r=nt(e,n,1)^nt(e,n,8)^tt(e,0,7),i=rt(e,n,1)^rt(e,n,8)^et(e,n,7),o=0|Un[t-2],s=0|Nn[t-2],a=nt(o,s,19)^it(o,s,61)^tt(o,0,6),u=rt(o,s,19)^ot(o,s,61)^et(o,s,6),c=ct(i,u,Nn[t-7],Nn[t-16]),h=ht(c,r,a,Un[t-7],Un[t-16]);Un[t]=0|h,Nn[t]=0|c}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:c,Eh:h,El:l,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let t=0;t<80;t++){const e=nt(h,l,14)^nt(h,l,18)^it(h,l,41),w=rt(h,l,14)^rt(h,l,18)^ot(h,l,41),v=h&d^~h&p,b=lt(y,w,l&f^~l&g,Rn[t],Nn[t]),E=dt(b,m,e,v,On[t],Un[t]),x=0|b,A=nt(n,r,28)^it(n,r,34)^it(n,r,39),S=rt(n,r,28)^ot(n,r,34)^ot(n,r,39),M=n&i^n&s^i&s,_=r&o^r&a^o&a;m=0|p,y=0|g,p=0|d,g=0|f,d=0|h,f=0|l,({h:h,l:l}=st(0|u,0|c,0|E,0|x)),u=0|s,c=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const I=at(x,S,_);n=ut(I,E,A,M),r=0|I}({h:n,l:r}=st(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=st(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=st(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:c}=st(0|this.Dh,0|this.Dl,0|u,0|c)),({h:h,l:l}=st(0|this.Eh,0|this.El,0|h,0|l)),({h:d,l:f}=st(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=st(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=st(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,o,s,a,u,c,h,l,d,f,p,g,m,y)}roundClean(){wt(Un,Nn)}destroy(){wt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Pn=Nt((()=>new Tn)),zn=Nt((()=>new Ln)),$n=BigInt(0),Dn=BigInt(1);function qn(t,e){if("boolean"!=typeof e)throw new Error(t+" boolean expected, got "+e)}function jn(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function Fn(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?$n:BigInt("0x"+t)}function Kn(t){return Fn(At(t))}function Vn(t){return mt(t),Fn(At(Uint8Array.from(t).reverse()))}function Hn(t,e){return Ct(t.toString(16).padStart(2*e,"0"))}function Gn(t,e){return Hn(t,e).reverse()}function Wn(t,e,n){let r;if("string"==typeof e)try{r=Ct(e)}catch(e){throw new Error(t+" must be hex string or Uint8Array, cause: "+e)}else{if(!pt(e))throw new Error(t+" must be hex string or Uint8Array");r=Uint8Array.from(e)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Zn=t=>"bigint"==typeof t&&$n<=t;function Yn(t,e,n,r){if(!function(t,e,n){return Zn(t)&&Zn(e)&&Zn(n)&&e<=t&&t<n}(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}const Jn=t=>(Dn<<BigInt(t))-Dn;function Xn(t,e,n={}){if(!t||"object"!=typeof t)throw new Error("expected valid options object");function r(e,n,r){const i=t[e];if(r&&void 0===i)return;const o=typeof i;if(o!==n||null===i)throw new Error(`param "${e}" is invalid: expected ${n}, got ${o}`)}Object.entries(e).forEach((([t,e])=>r(t,e,!1))),Object.entries(n).forEach((([t,e])=>r(t,e,!0)))}function Qn(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(void 0!==i)return i;const o=t(n,...r);return e.set(n,o),o}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tr=BigInt(0),er=BigInt(1),nr=BigInt(2),rr=BigInt(3),ir=BigInt(4),or=BigInt(5),sr=BigInt(8);function ar(t,e){const n=t%e;return n>=tr?n:e+n}function ur(t,e,n){let r=t;for(;e-- >tr;)r*=r,r%=n;return r}function cr(t,e){if(t===tr)throw new Error("invert: expected non-zero number");if(e<=tr)throw new Error("invert: expected positive modulus, got "+e);let n=ar(t,e),r=e,i=tr,o=er;for(;n!==tr;){const t=r%n,e=i-o*(r/n);r=n,n=t,i=o,o=e}if(r!==er)throw new Error("invert: does not exist");return ar(i,e)}function hr(t,e){const n=(t.ORDER+er)/ir,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function lr(t,e){const n=(t.ORDER-or)/sr,r=t.mul(e,nr),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,nr),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function dr(t){return t%ir===rr?hr:t%sr===or?lr:function(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-er,n=0;for(;e%nr===tr;)e/=nr,n++;let r=nr;const i=mr(t);for(;1===gr(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return hr;let o=i.pow(r,e);const s=(e+er)/nr;return function(t,r){if(t.is0(r))return r;if(1!==gr(t,r))throw new Error("Cannot find square root");let i=n,a=t.mul(t.ONE,o),u=t.pow(r,e),c=t.pow(r,s);for(;!t.eql(u,t.ONE);){if(t.is0(u))return t.ZERO;let e=1,n=t.sqr(u);for(;!t.eql(n,t.ONE);)if(e++,n=t.sqr(n),e===i)throw new Error("Cannot find square root");const r=er<<BigInt(i-e-1),o=t.pow(a,r);i=e,a=t.sqr(o),u=t.mul(u,a),c=t.mul(c,o)}return c}}(t)}const fr=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pr(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce(((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n))),t.ONE),o=t.inv(i);return e.reduceRight(((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n))),o),r}function gr(t,e){const n=(t.ORDER-er)/nr,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function mr(t,e,n=!1,r={}){if(t<=tr)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o;if("object"==typeof e&&null!=e){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const t=e;t.BITS&&(i=t.BITS),t.sqrt&&(o=t.sqrt),"boolean"==typeof t.isLE&&(n=t.isLE)}else"number"==typeof e&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=function(t,e){void 0!==e&&gt(e);const n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const c=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:Jn(s),ZERO:tr,ONE:er,create:e=>ar(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return tr<=e&&e<t},is0:t=>t===tr,isValidNot0:t=>!c.is0(t)&&c.isValid(t),isOdd:t=>(t&er)===er,neg:e=>ar(-e,t),eql:(t,e)=>t===e,sqr:e=>ar(e*e,t),add:(e,n)=>ar(e+n,t),sub:(e,n)=>ar(e-n,t),mul:(e,n)=>ar(e*n,t),pow:(t,e)=>function(t,e,n){if(n<tr)throw new Error("invalid exponent, negatives unsupported");if(n===tr)return t.ONE;if(n===er)return e;let r=t.ONE,i=e;for(;n>tr;)n&er&&(r=t.mul(r,i)),i=t.sqr(i),n>>=er;return r}(c,t,e),div:(e,n)=>ar(e*cr(n,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>cr(e,t),sqrt:o||(e=>(u||(u=dr(t)),u(c,e))),toBytes:t=>n?Gn(t,a):Hn(t,a),fromBytes:t=>{if(t.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+t.length);return n?Vn(t):Kn(t)},invertBatch:t=>pr(c,t),cmov:(t,e,n)=>n?e:t});return Object.freeze(c)}function yr(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function wr(t){const e=yr(t);return e+Math.ceil(e/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const vr=BigInt(0),br=BigInt(1);function Er(t,e){const n=e.negate();return t?n:e}function xr(t,e,n){const r="pz"===e?t=>t.pz:t=>t.ez,i=pr(t.Fp,n.map(r)),o=n.map(((t,e)=>t.toAffine(i[e])));return o.map(t.fromAffine)}function Ar(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Sr(t,e){Ar(t,e);const n=2**t;return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1),mask:Jn(t),maxNumber:n,shiftBy:BigInt(t)}}function Mr(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),u=t>>s;a>r&&(a-=o,u+=br);const c=e*r;return{nextN:u,offset:c+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:e%2!=0,offsetF:c}}const _r=new WeakMap,Ir=new WeakMap;function Br(t){return Ir.get(t)||1}function kr(t){if(t!==vr)throw new Error("invalid wNAF")}function Tr(t,e){return{constTimeNegate:Er,hasPrecomputes:t=>1!==Br(t),unsafeLadder(e,n,r=t.ZERO){let i=e;for(;n>vr;)n&br&&(r=r.add(i)),i=i.double(),n>>=br;return r},precomputeWindow(t,n){const{windows:r,windowSize:i}=Sr(n,e),o=[];let s=t,a=s;for(let t=0;t<r;t++){a=s,o.push(a);for(let t=1;t<i;t++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(n,r,i){let o=t.ZERO,s=t.BASE;const a=Sr(n,e);for(let t=0;t<a.windows;t++){const{nextN:e,offset:n,isZero:u,isNeg:c,isNegF:h,offsetF:l}=Mr(i,t,a);i=e,u?s=s.add(Er(h,r[l])):o=o.add(Er(c,r[n]))}return kr(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=t.ZERO){const s=Sr(n,e);for(let t=0;t<s.windows&&i!==vr;t++){const{nextN:e,offset:n,isZero:a,isNeg:u}=Mr(i,t,s);if(i=e,!a){const t=r[n];o=o.add(u?t.negate():t)}}return kr(i),o},getPrecomputes(t,e,n){let r=_r.get(e);return r||(r=this.precomputeWindow(e,t),1!==t&&("function"==typeof n&&(r=n(r)),_r.set(e,r))),r},wNAFCached(t,e,n){const r=Br(t);return this.wNAF(r,this.getPrecomputes(r,t,n),e)},wNAFCachedUnsafe(t,e,n,r){const i=Br(t);return 1===i?this.unsafeLadder(t,e,r):this.wNAFUnsafe(i,this.getPrecomputes(i,t,n),e,r)},setWindowSize(t,n){Ar(n,e),Ir.set(t,n),_r.delete(t)}}}function Cr(t,e,n,r){!function(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach(((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)}))}(n,t),function(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach(((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)}))}(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=function(t){let e;for(e=0;t>$n;t>>=Dn,e+=1);return e}(BigInt(i));let u=1;a>12?u=a-3:a>4?u=a-2:a>0&&(u=2);const c=Jn(u),h=new Array(Number(c)+1).fill(s);let l=s;for(let t=Math.floor((e.BITS-1)/u)*u;t>=0;t-=u){h.fill(s);for(let e=0;e<o;e++){const i=r[e],o=Number(i>>BigInt(t)&c);h[o]=h[o].add(n[e])}let e=s;for(let t=h.length-1,n=s;t>0;t--)n=n.add(h[t]),e=e.add(n);if(l=l.add(e),0!==t)for(let t=0;t<u;t++)l=l.double()}return l}function Or(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(t){Xn(t,fr.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(e),e}return mr(t)}function Rr(t,e,n={}){if(!e||"object"!=typeof e)throw new Error(`expected valid ${t} CURVE object`);for(const t of["p","n","h"]){const n=e[t];if(!("bigint"==typeof n&&n>vr))throw new Error(`CURVE.${t} must be positive bigint`)}const r=Or(e.p,n.Fp),i=Or(e.n,n.Fn),o=["Gx","Gy","a","weierstrass"===t?"b":"d"];for(const t of o)if(!r.isValid(e[t]))throw new Error(`CURVE.${t} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ur=BigInt(0),Nr=BigInt(1),Lr=BigInt(2),Pr=BigInt(8),zr={zip215:!0};function $r(t,e){Xn(e,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n,hash:r}=e,{BASE:i,Fp:o,Fn:s}=t,a=s.ORDER,u=e.randomBytes||Lt,c=e.adjustScalarBytes||(t=>t),h=e.domain||((t,e,n)=>{if(qn("phflag",n),e.length||n)throw new Error("Contexts/pre-hash are not supported");return t});function l(t){return s.create(t)}function d(t){return l(Vn(t))}function f(t){const{head:e,prefix:n,scalar:s}=function(t){const e=o.BYTES;t=Wn("private key",t,e);const n=Wn("hashed private key",r(t),2*e),i=c(n.slice(0,e));return{head:i,prefix:n.slice(e,2*e),scalar:d(i)}}(t),a=i.multiply(s),u=a.toBytes();return{head:e,prefix:n,scalar:s,point:a,pointBytes:u}}function p(t=Uint8Array.of(),...e){const i=Rt(...e);return d(r(h(i,Wn("context",t),!!n)))}const g=zr;i.precompute(8);return{getPublicKey:function(t){return f(t).pointBytes},sign:function(t,e,r={}){t=Wn("message",t),n&&(t=n(t));const{prefix:s,scalar:u,pointBytes:c}=f(e),h=p(r.context,s,t),d=i.multiply(h).toBytes(),g=l(h+p(r.context,d,c,t)*u);Yn("signature.s",g,Ur,a);const m=o.BYTES;return Wn("result",Rt(d,Gn(g,m)),2*m)},verify:function(e,r,s,a=g){const{context:u,zip215:c}=a,h=o.BYTES;e=Wn("signature",e,2*h),r=Wn("message",r),s=Wn("publicKey",s,h),void 0!==c&&qn("zip215",c),n&&(r=n(r));const l=Vn(e.slice(h,2*h));let d,f,m;try{d=t.fromHex(s,c),f=t.fromHex(e.slice(0,h),c),m=i.multiplyUnsafe(l)}catch(t){return!1}if(!c&&d.isSmallOrder())return!1;const y=p(u,f.toBytes(),d.toBytes(),r);return f.add(d.multiplyUnsafe(y)).subtract(m).clearCofactor().is0()},utils:{getExtendedPublicKey:f,randomPrivateKey:()=>u(o.BYTES),precompute:(e=8,n=t.BASE)=>n.precompute(e,!1)},Point:t}}function Dr(t){const{CURVE:e,curveOpts:n,eddsaOpts:r}=function(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy};return{CURVE:e,curveOpts:{Fp:t.Fp,Fn:mr(e.n,t.nBitLength,!0),uvRatio:t.uvRatio},eddsaOpts:{hash:t.hash,randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve}}}(t),i=function(t,e={}){const{Fp:n,Fn:r}=Rr("edwards",t,e),{h:i,n:o}=t;Xn(e,{},{uvRatio:"function"});const s=Lr<<BigInt(8*r.BYTES)-Nr,a=t=>n.create(t),u=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:n.sqrt(n.div(t,e))}}catch(t){return{isValid:!1,value:Ur}}});if(!function(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}(n,t,t.Gx,t.Gy))throw new Error("bad curve params: generator point");function c(t,e,n=!1){return Yn("coordinate "+t,e,n?Nr:Ur,s),e}function h(t){if(!(t instanceof f))throw new Error("ExtendedPoint expected")}const l=Qn(((t,e)=>{const{ex:r,ey:i,ez:o}=t,s=t.is0();null==e&&(e=s?Pr:n.inv(o));const u=a(r*e),c=a(i*e),h=a(o*e);if(s)return{x:Ur,y:Nr};if(h!==Nr)throw new Error("invZ was invalid");return{x:u,y:c}})),d=Qn((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:o,ez:s,et:u}=e,c=a(i*i),h=a(o*o),l=a(s*s),d=a(l*l),f=a(c*n);if(a(l*a(f+h))!==a(d+a(r*a(c*h))))throw new Error("bad point: equation left != right (1)");if(a(i*o)!==a(s*u))throw new Error("bad point: equation left != right (2)");return!0}));class f{constructor(t,e,n,r){this.ex=c("x",t),this.ey=c("y",e),this.ez=c("z",n,!0),this.et=c("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof f)throw new Error("extended point not allowed");const{x:e,y:n}=t||{};return c("x",e),c("y",n),new f(e,n,Nr,a(e*n))}static normalizeZ(t){return xr(f,"ez",t)}static msm(t,e){return Cr(f,r,t,e)}_setWindowSize(t){this.precompute(t)}precompute(t=8,e=!0){return p.setWindowSize(this,t),e||this.multiply(Lr),this}assertValidity(){d(this)}equals(t){h(t);const{ex:e,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=t,u=a(e*s),c=a(i*r),l=a(n*s),d=a(o*r);return u===c&&l===d}is0(){return this.equals(f.ZERO)}negate(){return new f(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=a(n*n),s=a(r*r),u=a(Lr*a(i*i)),c=a(e*o),h=n+r,l=a(a(h*h)-o-s),d=c+s,p=d-u,g=c-s,m=a(l*p),y=a(d*g),w=a(l*g),v=a(p*d);return new f(m,y,v,w)}add(e){h(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:s,et:u}=this,{ex:c,ey:l,ez:d,et:p}=e,g=a(i*c),m=a(o*l),y=a(u*r*p),w=a(s*d),v=a((i+o)*(c+l)-g-m),b=w-y,E=w+y,x=a(m-n*g),A=a(v*b),S=a(E*x),M=a(v*x),_=a(b*E);return new f(A,S,_,M)}subtract(t){return this.add(t.negate())}multiply(t){const e=t;Yn("scalar",e,Nr,o);const{p:n,f:r}=p.wNAFCached(this,e,f.normalizeZ);return f.normalizeZ([n,r])[0]}multiplyUnsafe(t,e=f.ZERO){const n=t;return Yn("scalar",n,Ur,o),n===Ur?f.ZERO:this.is0()||n===Nr?this:p.wNAFCachedUnsafe(this,n,f.normalizeZ,e)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return p.wNAFCachedUnsafe(this,o).is0()}toAffine(t){return l(this,t)}clearCofactor(){return i===Nr?this:this.multiplyUnsafe(i)}static fromBytes(t,e=!1){return mt(t),this.fromHex(t,e)}static fromHex(e,r=!1){const{d:i,a:o}=t,c=n.BYTES;e=Wn("pointHex",e,c),qn("zip215",r);const h=e.slice(),l=e[c-1];h[c-1]=-129&l;const d=Vn(h),p=r?s:n.ORDER;Yn("pointHex.y",d,Ur,p);const g=a(d*d),m=a(g-Nr),y=a(i*g-o);let{isValid:w,value:v}=u(m,y);if(!w)throw new Error("Point.fromHex: invalid y coordinate");const b=(v&Nr)===Nr,E=!!(128&l);if(!r&&v===Ur&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==b&&(v=a(-v)),f.fromAffine({x:v,y:d})}static fromPrivateScalar(t){return f.BASE.multiply(t)}toBytes(){const{x:t,y:e}=this.toAffine(),r=Gn(e,n.BYTES);return r[r.length-1]|=t&Nr?128:0,r}toRawBytes(){return this.toBytes()}toHex(){return At(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}f.BASE=new f(t.Gx,t.Gy,Nr,a(t.Gx*t.Gy)),f.ZERO=new f(Ur,Nr,Nr,Ur),f.Fp=n,f.Fn=r;const p=Tr(f,8*r.BYTES);return f}(e,n);return function(t,e){return Object.assign({},e,{ExtendedPoint:e.Point,CURVE:t})}(t,$r(i,r))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const qr=BigInt(1),jr=BigInt(2);BigInt(3);const Fr=BigInt(5),Kr=BigInt(8),Vr={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Kr,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Hr(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Gr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Wr(t,e){const n=Vr.p,r=ar(e*e*e,n),i=function(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Vr.p,s=t*t%o*t%o,a=ur(s,jr,o)*s%o,u=ur(a,qr,o)*t%o,c=ur(u,Fr,o)*u%o,h=ur(c,e,o)*c%o,l=ur(h,n,o)*h%o,d=ur(l,r,o)*l%o,f=ur(d,i,o)*d%o,p=ur(f,i,o)*d%o,g=ur(p,e,o)*c%o;return{pow_p_5_8:ur(g,jr,o)*t%o,b2:s}}(t*ar(r*r*e,n)).pow_p_5_8;let o=ar(t*r*i,n);const s=ar(e*o*o,n),a=o,u=ar(o*Gr,n),c=s===t,h=s===ar(-t,n),l=s===ar(-t*Gr,n);return c&&(o=a),(h||l)&&(o=u),(ar(o,n)&er)===er&&(o=ar(-o,n)),{isValid:c||h,value:o}}const Zr=(()=>mr(Vr.p,void 0,!0))(),Yr=(()=>({...Vr,Fp:Zr,hash:zn,adjustScalarBytes:Hr,uvRatio:Wr}))(),Jr=(()=>Dr(Yr))();var Xr,Qr={exports:{}},ti=ee(An),ei=Qr.exports;function ni(){return Xr||(Xr=1,function(t){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function i(t,e,n){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ti.Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function a(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function u(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},i.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},i.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},i.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=a(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=a(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,c=0,h=n;h<a;h+=r)c=u(t,h,h+r,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(t,h,t.length,e),h=0;h<s;h++)l*=e;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){c(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?l[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],h=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(h).toString(t);r=(p=p.idivn(h)).isZero()?g+r:l[c-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;n.words[0]=a;for(var c=1;c<r;c++){for(var h=u>>>26,l=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[f])+l)/67108864|0,l=67108863&s}n.words[c]=0|l,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}i.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 8191&e||(n+=13,e>>>=13),127&e||(n+=7,e>>>=7),15&e||(n+=4,e>>>=4),3&e||(n+=2,e>>>=2),1&e||n++,n},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,n){var r,i,o,s=t.words,a=e.words,u=n.words,c=0,h=0|s[0],l=8191&h,d=h>>>13,f=0|s[1],p=8191&f,g=f>>>13,m=0|s[2],y=8191&m,w=m>>>13,v=0|s[3],b=8191&v,E=v>>>13,x=0|s[4],A=8191&x,S=x>>>13,M=0|s[5],_=8191&M,I=M>>>13,B=0|s[6],k=8191&B,T=B>>>13,C=0|s[7],O=8191&C,R=C>>>13,U=0|s[8],N=8191&U,L=U>>>13,P=0|s[9],z=8191&P,$=P>>>13,D=0|a[0],q=8191&D,j=D>>>13,F=0|a[1],K=8191&F,V=F>>>13,H=0|a[2],G=8191&H,W=H>>>13,Z=0|a[3],Y=8191&Z,J=Z>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ht=0|a[8],lt=8191&ht,dt=ht>>>13,ft=0|a[9],pt=8191&ft,gt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,j))+Math.imul(d,q)|0))<<13)|0;c=((o=Math.imul(d,j))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,j))+Math.imul(g,q)|0,o=Math.imul(g,j);var yt=(c+(r=r+Math.imul(l,K)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(d,K)|0))<<13)|0;c=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,j))+Math.imul(w,q)|0,o=Math.imul(w,j),r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,V)|0;var wt=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,G)|0))<<13)|0;c=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(b,q),i=(i=Math.imul(b,j))+Math.imul(E,q)|0,o=Math.imul(E,j),r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,W)|0;var vt=(c+(r=r+Math.imul(l,Y)|0)|0)+((8191&(i=(i=i+Math.imul(l,J)|0)+Math.imul(d,Y)|0))<<13)|0;c=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(A,q),i=(i=Math.imul(A,j))+Math.imul(S,q)|0,o=Math.imul(S,j),r=r+Math.imul(b,K)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,J)|0;var bt=(c+(r=r+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(d,Q)|0))<<13)|0;c=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(_,q),i=(i=Math.imul(_,j))+Math.imul(I,q)|0,o=Math.imul(I,j),r=r+Math.imul(A,K)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(b,G)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,W)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,J)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var Et=(c+(r=r+Math.imul(l,nt)|0)|0)+((8191&(i=(i=i+Math.imul(l,rt)|0)+Math.imul(d,nt)|0))<<13)|0;c=((o=o+Math.imul(d,rt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(k,q),i=(i=Math.imul(k,j))+Math.imul(T,q)|0,o=Math.imul(T,j),r=r+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,W)|0,r=r+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var xt=(c+(r=r+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(d,ot)|0))<<13)|0;c=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(O,q),i=(i=Math.imul(O,j))+Math.imul(R,q)|0,o=Math.imul(R,j),r=r+Math.imul(k,K)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(T,K)|0,o=o+Math.imul(T,V)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,J)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var At=(c+(r=r+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((o=o+Math.imul(d,ct)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,j))+Math.imul(L,q)|0,o=Math.imul(L,j),r=r+Math.imul(O,K)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,V)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,J)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0;var St=(c+(r=r+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,dt)|0)+Math.imul(d,lt)|0))<<13)|0;c=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(z,q),i=(i=Math.imul(z,j))+Math.imul($,q)|0,o=Math.imul($,j),r=r+Math.imul(N,K)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,V)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,W)|0,r=r+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,J)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,r=r+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(g,lt)|0,o=o+Math.imul(g,dt)|0;var Mt=(c+(r=r+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,gt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((o=o+Math.imul(d,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(z,K),i=(i=Math.imul(z,V))+Math.imul($,K)|0,o=Math.imul($,V),r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,W)|0,r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,J)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(_,nt)|0,i=(i=i+Math.imul(_,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,r=r+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,r=r+Math.imul(y,lt)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,dt)|0;var _t=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(z,G),i=(i=Math.imul(z,W))+Math.imul($,G)|0,o=Math.imul($,W),r=r+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,r=r+Math.imul(k,nt)|0,i=(i=i+Math.imul(k,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,ct)|0,r=r+Math.imul(b,lt)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(E,lt)|0,o=o+Math.imul(E,dt)|0;var It=(c+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(z,Y),i=(i=Math.imul(z,J))+Math.imul($,Y)|0,o=Math.imul($,J),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,rt)|0)+Math.imul(R,nt)|0,o=o+Math.imul(R,rt)|0,r=r+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,r=r+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,r=r+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(S,lt)|0,o=o+Math.imul(S,dt)|0;var Bt=(c+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,gt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,gt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,r=Math.imul(z,Q),i=(i=Math.imul(z,tt))+Math.imul($,Q)|0,o=Math.imul($,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,r=r+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(_,lt)|0,i=(i=i+Math.imul(_,dt)|0)+Math.imul(I,lt)|0,o=o+Math.imul(I,dt)|0;var kt=(c+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,gt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((o=o+Math.imul(S,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(z,nt),i=(i=Math.imul(z,rt))+Math.imul($,nt)|0,o=Math.imul($,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,r=r+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(R,ut)|0,o=o+Math.imul(R,ct)|0,r=r+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,dt)|0;var Tt=(c+(r=r+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,gt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(z,ot),i=(i=Math.imul(z,st))+Math.imul($,ot)|0,o=Math.imul($,st),r=r+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,ct)|0,r=r+Math.imul(O,lt)|0,i=(i=i+Math.imul(O,dt)|0)+Math.imul(R,lt)|0,o=o+Math.imul(R,dt)|0;var Ct=(c+(r=r+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,gt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(z,ut),i=(i=Math.imul(z,ct))+Math.imul($,ut)|0,o=Math.imul($,ct),r=r+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,dt)|0)+Math.imul(L,lt)|0,o=o+Math.imul(L,dt)|0;var Ot=(c+(r=r+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,gt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((o=o+Math.imul(R,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(z,lt),i=(i=Math.imul(z,dt))+Math.imul($,lt)|0,o=Math.imul($,dt);var Rt=(c+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(L,pt)|0))<<13)|0;c=((o=o+Math.imul(L,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Ut=(c+(r=Math.imul(z,pt))|0)+((8191&(i=(i=Math.imul(z,gt))+Math.imul($,pt)|0))<<13)|0;return c=((o=Math.imul($,gt))+(i>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,u[0]=mt,u[1]=yt,u[2]=wt,u[3]=vt,u[4]=bt,u[5]=Et,u[6]=xt,u[7]=At,u[8]=St,u[9]=Mt,u[10]=_t,u[11]=It,u[12]=Bt,u[13]=kt,u[14]=Tt,u[15]=Ct,u[16]=Ot,u[17]=Rt,u[18]=Ut,0!==c&&(u[19]=c,n.length++),n};function m(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,l=(0|t.words[h])*(0|e.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function y(t,e,n){return m(t,e,n)}Math.imul||(g=p),i.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):n<63?p(this,t,e):n<1024?m(this,t,e):y(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),y(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var o=n.sqr();r<e.length;r++,o=o.sqr())0!==e[r]&&(n=n.mul(o));return n},i.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-o|l>>>o,h=l&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},i.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),o=t,s=0|o.words[o.length-1];0!==(n=26-this._countBits(s))&&(o=o.ushln(n),r.iushln(n),s=0|o.words[o.length-1]);var a,u=r.length-o.length;if("mod"!==e){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=r.clone()._ishlnsubmul(o,1,u);0===h.negative&&(r=h,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|r.words[o.length+l])+(0|r.words[o.length+l-1]);for(d=Math.min(d/s|0,67108863),r._ishlnsubmul(o,d,l);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(o,1,l),r.isZero()||(r.negative^=1);a&&(a.words[l]=d)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},i.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),l=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(h),s.isub(l)),o.iushrn(1),s.iushrn(1);for(var p=0,g=1;!(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a),s.isub(u)):(r.isub(e),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},i.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;!(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new S(t)},i.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},r(b,v),b.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(E,v),r(x,v),r(A,v),A.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new E;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return w[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new i(1)).iushrn(2);return this.pow(t,r)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);n(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,o),d=this.pow(t,o.addn(1).iushrn(1)),f=this.pow(t,o),p=s;0!==f.cmp(a);){for(var g=f,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<p);var y=this.pow(l,new i(1).iushln(p-m-1));d=d.redMul(y),l=y.redSqr(),f=f.redMul(l),p=m}return d},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var o=n[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],h=u-1;h>=0;h--){var l=c>>h&1;o!==n[0]&&(o=this.sqr(o)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===r&&0===h)&&(o=this.mul(o,n[s]),a=0,s=0)):a=0}u=26}return o},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new M(t)},r(M,S),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,ei)}(Qr)),Qr.exports}var ri,ii,oi,si,ai,ui=te(ni()),ci={exports:{}};function hi(){if(oi)return ii;oi=1;var t=(ri||(ri=1,function(t,e){var n=ti,r=n.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o),o.prototype=Object.create(r.prototype),i(r,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}}(ci,ci.exports)),ci.exports).Buffer;return ii=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return t.alloc(0);for(var r=0,i=0,o=0;e[r]===u;)i++,r++;for(var s=(e.length-r)*c+1>>>0,h=new Uint8Array(s);r<e.length;){var l=n[e.charCodeAt(r)];if(255===l)return;for(var d=0,f=s-1;(0!==l||d<o)&&-1!==f;f--,d++)l+=a*h[f]>>>0,h[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=d,r++}for(var p=s-o;p!==s&&0===h[p];)p++;var g=t.allocUnsafe(i+(s-p));g.fill(0,0,i);for(var m=i;p!==s;)g[m++]=h[p++];return g}return{encode:function(n){if((Array.isArray(n)||n instanceof Uint8Array)&&(n=t.from(n)),!t.isBuffer(n))throw new TypeError("Expected Buffer");if(0===n.length)return"";for(var r=0,i=0,o=0,s=n.length;o!==s&&0===n[o];)o++,r++;for(var c=(s-o)*h+1>>>0,l=new Uint8Array(c);o!==s;){for(var d=n[o],f=0,p=c-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*l[p]>>>0,l[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,o++}for(var g=c-i;g!==c&&0===l[g];)g++;for(var m=u.repeat(r);g<c;++g)m+=e.charAt(l[g]);return m},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw new Error("Non-base"+a+" character")}}},ii}function li(){if(ai)return si;ai=1;var t=hi();return si=t("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}var di=te(li());const fi=Pn;var pi={};function gi(t,e,n){return e<=t&&t<=n}function mi(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function yi(t){this.tokens=[].slice.call(t)}yi.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var wi=-1;function vi(t,e){if(t)throw TypeError("Decoder error");return e||65533}var bi="utf-8";function Ei(t,e){if(!(this instanceof Ei))return new Ei(t,e);if((t=void 0!==t?String(t).toLowerCase():bi)!==bi)throw new Error("Encoding not supported. Only utf-8 is supported");e=mi(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function xi(t,e){if(!(this instanceof xi))return new xi(t,e);if((t=void 0!==t?String(t).toLowerCase():bi)!==bi)throw new Error("Encoding not supported. Only utf-8 is supported");e=mi(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function Ai(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(t,a){if(-1===a&&0!==i)return i=0,vi(e);if(-1===a)return wi;if(0===i){if(gi(a,0,127))return a;if(gi(a,194,223))i=1,n=a-192;else if(gi(a,224,239))224===a&&(o=160),237===a&&(s=159),i=2,n=a-224;else{if(!gi(a,240,244))return vi(e);240===a&&(o=144),244===a&&(s=143),i=3,n=a-240}return n<<=6*i,null}if(!gi(a,o,s))return n=i=r=0,o=128,s=191,t.prepend(a),vi(e);if(o=128,s=191,n+=a-128<<6*(i-(r+=1)),r!==i)return null;var u=n;return n=i=r=0,u}}function Si(t){t.fatal,this.handler=function(t,e){if(-1===e)return wi;if(gi(e,0,127))return e;var n,r;gi(e,128,2047)?(n=1,r=192):gi(e,2048,65535)?(n=2,r=224):gi(e,65536,1114111)&&(n=3,r=240);for(var i=[(e>>6*n)+r];n>0;){var o=e>>6*(n-1);i.push(128|63&o),n-=1}return i}}Ei.prototype={decode:function(t,e){var n;n="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=mi(e),this._streaming||(this._decoder=new Ai({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var r,i=new yi(n),o=[];!i.endOfStream()&&(r=this._decoder.handler(i,i.read()))!==wi;)null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));if(!this._streaming){do{if((r=this._decoder.handler(i,i.read()))===wi)break;null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r))}while(!i.endOfStream());this._decoder=null}return o.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(o)}},xi.prototype={encode:function(t,e){t=t?String(t):"",e=mi(e),this._streaming||(this._encoder=new Si(this._options)),this._streaming=Boolean(e.stream);for(var n,r=[],i=new yi(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,u=1023&s;i.push(65536+(a<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(t));!i.endOfStream()&&(n=this._encoder.handler(i,i.read()))!==wi;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(i,i.read()))!==wi;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}};var Mi,_i=ee(Object.freeze({__proto__:null,TextDecoder:Ei,TextEncoder:xi}));var Ii,Bi=function(){if(Mi)return pi;Mi=1;var t=pi&&pi.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),e=pi&&pi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=pi&&pi.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},r=pi&&pi.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var i in n)"default"!==i&&Object.hasOwnProperty.call(n,i)&&t(r,n,i);return e(r,n),r},i=pi&&pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0}),pi.deserializeUnchecked=pi.deserialize=pi.serialize=pi.BinaryReader=pi.BinaryWriter=pi.BorshError=pi.baseDecode=pi.baseEncode=void 0;const o=i(ni()),s=i(li()),a=r(_i),u=new("function"!=typeof TextDecoder?a.TextDecoder:TextDecoder)("utf-8",{fatal:!0});pi.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),s.default.encode(Buffer.from(t))},pi.baseDecode=function(t){return Buffer.from(s.default.decode(t))};const c=1024;class h extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}pi.BorshError=h;class l{constructor(){this.buf=Buffer.alloc(c),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(c)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(c)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function d(t,e,n){const r=n.value;n.value=function(...t){try{return r.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new h("Reached the end of buffer when deserializing")}throw t}}}pi.BinaryWriter=l;class f{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new o.default(t,"le")}readU128(){const t=this.readBuffer(16);return new o.default(t,"le")}readU256(){const t=this.readBuffer(32);return new o.default(t,"le")}readU512(){const t=this.readBuffer(64);return new o.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new h(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return u.decode(e)}catch(t){throw new h(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function p(t){return t.charAt(0).toUpperCase()+t.slice(1)}function g(t,e,n,r,i){try{if("string"==typeof r)i[`write${p(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new h(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new h(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let e=0;e<r[1];e++)g(t,null,n[e],r[0],i)}else i.writeArray(n,(n=>{g(t,e,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),g(t,e,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,o)=>{g(t,e,o,r.key,i),g(t,e,n,r.value,i)}));break;default:throw new h(`FieldType ${r} unrecognized`)}else m(t,n,i)}catch(t){throw t instanceof h&&t.addToFieldPath(e),t}}function m(t,e,n){if("function"==typeof e.borshSerialize)return void e.borshSerialize(n);const r=t.get(e.constructor);if(!r)throw new h(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((([r,i])=>{g(t,r,e[r],i,n)}));else{if("enum"!==r.kind)throw new h(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),g(t,s,e[s],a,n);break}}}}}function y(t,e,n,r){try{if("string"==typeof n)return r[`read${p(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const e=[];for(let i=0;i<n[1];i++)e.push(y(t,null,n[0],r));return e}return r.readArray((()=>y(t,e,n[0],r)))}if("option"===n.kind){return r.readU8()?y(t,e,n.type,r):void 0}if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=y(t,e,n.key,r),s=y(t,e,n.value,r);i.set(o,s)}return i}return w(t,n,r)}catch(t){throw t instanceof h&&t.addToFieldPath(e),t}}function w(t,e,n){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new h(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of t.get(e).fields)r[i]=y(t,i,o,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new h(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=y(t,o,s,n);return new e({[o]:a})}throw new h(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}return n([d],f.prototype,"readU8",null),n([d],f.prototype,"readU16",null),n([d],f.prototype,"readU32",null),n([d],f.prototype,"readU64",null),n([d],f.prototype,"readU128",null),n([d],f.prototype,"readU256",null),n([d],f.prototype,"readU512",null),n([d],f.prototype,"readString",null),n([d],f.prototype,"readFixedArray",null),n([d],f.prototype,"readArray",null),pi.BinaryReader=f,pi.serialize=function(t,e,n=l){const r=new n;return m(t,e,r),r.toArray()},pi.deserialize=function(t,e,n,r=f){const i=new r(n),o=w(t,e,i);if(i.offset<n.length)throw new h(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o},pi.deserializeUnchecked=function(t,e,n,r=f){return w(t,e,new r(n))},pi}(),ki={};var Ti=function(){if(Ii)return ki;Ii=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.s16=ki.s8=ki.nu64be=ki.u48be=ki.u40be=ki.u32be=ki.u24be=ki.u16be=ki.nu64=ki.u48=ki.u40=ki.u32=ki.u24=ki.u16=ki.u8=ki.offset=ki.greedy=ki.Constant=ki.UTF8=ki.CString=ki.Blob=ki.Boolean=ki.BitField=ki.BitStructure=ki.VariantLayout=ki.Union=ki.UnionLayoutDiscriminator=ki.UnionDiscriminator=ki.Structure=ki.Sequence=ki.DoubleBE=ki.Double=ki.FloatBE=ki.Float=ki.NearInt64BE=ki.NearInt64=ki.NearUInt64BE=ki.NearUInt64=ki.IntBE=ki.Int=ki.UIntBE=ki.UInt=ki.OffsetLayout=ki.GreedyCount=ki.ExternalLayout=ki.bindConstructorLayout=ki.nameWithProperty=ki.Layout=ki.uint8ArrayToBuffer=ki.checkUint8Array=void 0,ki.constant=ki.utf8=ki.cstr=ki.blob=ki.unionLayoutDiscriminator=ki.union=ki.seq=ki.bits=ki.struct=ki.f64be=ki.f64=ki.f32be=ki.f32=ki.ns64be=ki.s48be=ki.s40be=ki.s32be=ki.s24be=ki.s16be=ki.ns64=ki.s48=ki.s40=ki.s32=ki.s24=void 0;const t=ti;function e(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function n(n){return e(n),t.Buffer.from(n.buffer,n.byteOffset,n.length)}ki.checkUint8Array=e,ki.uint8ArrayToBuffer=n;let r=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};function i(t,e){return e.property?t+"["+e.property+"]":t}ki.Layout=r,ki.nameWithProperty=i,ki.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:(t,n)=>e.decode(t,n),writable:!0})};class o extends r{isCount(){throw new Error("ExternalLayout is abstract")}}ki.ExternalLayout=o;class s extends o{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,n=0){e(t);const r=t.length-n;return Math.floor(r/this.elementSpan)}encode(t,e,n){return 0}}ki.GreedyCount=s;class a extends o{constructor(t,e=0,n){if(!(t instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof u||this.layout instanceof c}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}ki.OffsetLayout=a;class u extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return n(t).readUIntLE(e,this.span)}encode(t,e,r=0){return n(e).writeUIntLE(t,r,this.span),this.span}}ki.UInt=u;class c extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return n(t).readUIntBE(e,this.span)}encode(t,e,r=0){return n(e).writeUIntBE(t,r,this.span),this.span}}ki.UIntBE=c;class h extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return n(t).readIntLE(e,this.span)}encode(t,e,r=0){return n(e).writeIntLE(t,r,this.span),this.span}}ki.Int=h;class l extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return n(t).readIntBE(e,this.span)}encode(t,e,r=0){return n(e).writeIntBE(t,r,this.span),this.span}}ki.IntBE=l;const d=Math.pow(2,32);function f(t){const e=Math.floor(t/d);return{hi32:e,lo32:t-e*d}}function p(t,e){return t*d+e}class g extends r{constructor(t){super(8,t)}decode(t,e=0){const r=n(t),i=r.readUInt32LE(e);return p(r.readUInt32LE(e+4),i)}encode(t,e,r=0){const i=f(t),o=n(e);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}}ki.NearUInt64=g;class m extends r{constructor(t){super(8,t)}decode(t,e=0){const r=n(t);return p(r.readUInt32BE(e),r.readUInt32BE(e+4))}encode(t,e,r=0){const i=f(t),o=n(e);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}}ki.NearUInt64BE=m;class y extends r{constructor(t){super(8,t)}decode(t,e=0){const r=n(t),i=r.readUInt32LE(e);return p(r.readInt32LE(e+4),i)}encode(t,e,r=0){const i=f(t),o=n(e);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}}ki.NearInt64=y;class w extends r{constructor(t){super(8,t)}decode(t,e=0){const r=n(t);return p(r.readInt32BE(e),r.readUInt32BE(e+4))}encode(t,e,r=0){const i=f(t),o=n(e);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}}ki.NearInt64BE=w;class v extends r{constructor(t){super(4,t)}decode(t,e=0){return n(t).readFloatLE(e)}encode(t,e,r=0){return n(e).writeFloatLE(t,r),4}}ki.Float=v;class b extends r{constructor(t){super(4,t)}decode(t,e=0){return n(t).readFloatBE(e)}encode(t,e,r=0){return n(e).writeFloatBE(t,r),4}}ki.FloatBE=b;class E extends r{constructor(t){super(8,t)}decode(t,e=0){return n(t).readDoubleLE(e)}encode(t,e,r=0){return n(e).writeDoubleLE(t,r),8}}ki.Double=E;class x extends r{constructor(t){super(8,t)}decode(t,e=0){return n(t).readDoubleBE(e)}encode(t,e,r=0){return n(e).writeDoubleBE(t,r),8}}ki.DoubleBE=x;class A extends r{constructor(t,e,n){if(!(t instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof o&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(e instanceof o)&&0<t.span&&(i=e*t.span),super(i,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof o&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let r=0,i=this.count;for(i instanceof o&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n=0){const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof o&&this.count.encode(t.length,e,n),i}}ki.Sequence=A;class S extends r{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof r),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,n=0){e(t);const r=this.makeDestinationObject();for(const e of this.fields)if(void 0!==e.property&&(r[e.property]=e.decode(t,n)),n+=e.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,e,n=0){const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}ki.Structure=S;class M{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}ki.UnionDiscriminator=M;class _ extends M{constructor(t,e){if(!(t instanceof o&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}ki.UnionLayoutDiscriminator=_;class I extends r{constructor(t,e,n){let i;if(t instanceof u||t instanceof c)i=new _(new a(t));else if(t instanceof o&&t.isCount())i=new _(t);else{if(!(t instanceof M))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=t}if(void 0===e&&(e=null),!(null===e||e instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let s=-1;e&&(s=e.span,0<=s&&(t instanceof u||t instanceof c)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof u||t instanceof c,this.defaultLayout=e,this.registry={};let h=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return h(t)},this.configGetSourceVariant=function(t){h=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const r=this.discriminator,i=r.decode(t,e),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=o.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n=0){const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new B(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e=0){let n;return n=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[n]}}ki.Union=I;class B extends r{constructor(t,e,n,i){if(!(t instanceof I))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof r))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(t,e+n)),n+r}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function k(t){return 0>t&&(t+=4294967296),t}ki.VariantLayout=B;class T extends r{constructor(t,e,n){if(!(t instanceof u||t instanceof c))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=k(t),this},this._packedGetValue=function(){return r}}decode(t,e=0){const n=this.makeDestinationObject(),r=this.word.decode(t,e);this._packedSetValue(r);for(const e of this.fields)void 0!==e.property&&(n[e.property]=e.decode(t));return n}encode(t,e,n=0){const r=this.word.decode(e,n);this._packedSetValue(r);for(const e of this.fields)if(void 0!==e.property){const n=t[e.property];void 0!==n&&e.encode(n)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new C(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new O(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}ki.BitStructure=T;class C{constructor(t,e,n){if(!(t instanceof T))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=k(this.valueMask<<this.start),this.property=n}decode(t,e){return k(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==k(t&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=k(t<<this.start);this.container._packedSetValue(k(e&~this.wordMask)|n)}}ki.BitField=C;class O extends C{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}}ki.Boolean=O;class R extends r{constructor(t,e){if(!(t instanceof o&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof o||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),n(t).slice(e,e+r)}encode(t,e,r){let s=this.length;if(this.length instanceof o&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>e.length)throw new RangeError("encoding overruns Uint8Array");const a=n(t);return n(e).write(a.toString("hex"),r,s,"hex"),this.length instanceof o&&this.length.encode(s,e,r),s}}ki.Blob=R;class U extends r{constructor(t){super(-1,t)}getSpan(t,n=0){e(t);let r=n;for(;r<t.length&&0!==t[r];)r+=1;return 1+r-n}decode(t,e=0){const r=this.getSpan(t,e);return n(t).slice(e,e+r-1).toString("utf-8")}encode(e,r,i=0){"string"!=typeof e&&(e=String(e));const o=t.Buffer.from(e,"utf8"),s=o.length;if(i+s>r.length)throw new RangeError("encoding overruns Buffer");const a=n(r);return o.copy(a,i),a[i+s]=0,s+1}}ki.CString=U;class N extends r{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,n=0){return e(t),t.length-n}decode(t,e=0){const r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return n(t).slice(e,e+r).toString("utf-8")}encode(e,r,i=0){"string"!=typeof e&&(e=String(e));const o=t.Buffer.from(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(i+s>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(n(r),i),s}}ki.UTF8=N;class L extends r{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}return ki.Constant=L,ki.greedy=(t,e)=>new s(t,e),ki.offset=(t,e,n)=>new a(t,e,n),ki.u8=t=>new u(1,t),ki.u16=t=>new u(2,t),ki.u24=t=>new u(3,t),ki.u32=t=>new u(4,t),ki.u40=t=>new u(5,t),ki.u48=t=>new u(6,t),ki.nu64=t=>new g(t),ki.u16be=t=>new c(2,t),ki.u24be=t=>new c(3,t),ki.u32be=t=>new c(4,t),ki.u40be=t=>new c(5,t),ki.u48be=t=>new c(6,t),ki.nu64be=t=>new m(t),ki.s8=t=>new h(1,t),ki.s16=t=>new h(2,t),ki.s24=t=>new h(3,t),ki.s32=t=>new h(4,t),ki.s40=t=>new h(5,t),ki.s48=t=>new h(6,t),ki.ns64=t=>new y(t),ki.s16be=t=>new l(2,t),ki.s24be=t=>new l(3,t),ki.s32be=t=>new l(4,t),ki.s40be=t=>new l(5,t),ki.s48be=t=>new l(6,t),ki.ns64be=t=>new w(t),ki.f32=t=>new v(t),ki.f32be=t=>new b(t),ki.f64=t=>new E(t),ki.f64be=t=>new x(t),ki.struct=(t,e,n)=>new S(t,e,n),ki.bits=(t,e,n)=>new T(t,e,n),ki.seq=(t,e,n)=>new A(t,e,n),ki.union=(t,e,n)=>new I(t,e,n),ki.unionLayoutDiscriminator=(t,e)=>new _(t,e),ki.blob=(t,e)=>new R(t,e),ki.cstr=t=>new U(t),ki.utf8=(t,e)=>new N(t,e),ki.constant=(t,e)=>new L(t,e),ki}(),Ci=1,Oi=2,Ri=3,Ui=4,Ni=5,Li=6,Pi=7,zi=8,$i=9,Di=10,qi=-32700,ji=-32603,Fi=-32602,Ki=-32601,Vi=-32600,Hi=-32016,Gi=-32015,Wi=-32014,Zi=-32013,Yi=-32012,Ji=-32011,Xi=-32010,Qi=-32009,to=-32008,eo=-32007,no=-32006,ro=-32005,io=-32004,oo=-32003,so=-32002,ao=-32001,uo=28e5,co=2800001,ho=2800002,lo=2800003,fo=2800004,po=2800005,go=2800006,mo=2800007,yo=2800008,wo=2800009,vo=2800010,bo=2800011,Eo=323e4,xo=32300001,Ao=3230002,So=3230003,Mo=3230004,_o=361e4,Io=3610001,Bo=3610002,ko=3610003,To=3610004,Co=3610005,Oo=3610006,Ro=3610007,Uo=3611e3,No=3704e3,Lo=3704001,Po=3704002,zo=3704003,$o=3704004,Do=4128e3,qo=4128001,jo=4128002,Fo=4615e3,Ko=4615001,Vo=4615002,Ho=4615003,Go=4615004,Wo=4615005,Zo=4615006,Yo=4615007,Jo=4615008,Xo=4615009,Qo=4615010,ts=4615011,es=4615012,ns=4615013,rs=4615014,is=4615015,os=4615016,ss=4615017,as=4615018,us=4615019,cs=4615020,hs=4615021,ls=4615022,ds=4615023,fs=4615024,ps=4615025,gs=4615026,ms=4615027,ys=4615028,ws=4615029,vs=4615030,bs=4615031,Es=4615032,xs=4615033,As=4615034,Ss=4615035,Ms=4615036,_s=4615037,Is=4615038,Bs=4615039,ks=4615040,Ts=4615041,Cs=4615042,Os=4615043,Rs=4615044,Us=4615045,Ns=4615046,Ls=4615047,Ps=4615048,zs=4615049,$s=4615050,Ds=4615051,qs=4615052,js=4615053,Fs=4615054,Ks=5508e3,Vs=5508001,Hs=5508002,Gs=5508003,Ws=5508004,Zs=5508005,Ys=5508006,Js=5508007,Xs=5508008,Qs=5508009,ta=5508010,ea=5508011,na=5663e3,ra=5663001,ia=5663002,oa=5663003,sa=5663004,aa=5663005,ua=5663006,ca=5663007,ha=5663008,la=5663009,da=5663010,fa=5663011,pa=5663012,ga=5663013,ma=5663014,ya=5663015,wa=5663016,va=5663017,ba=5663018,Ea=5663019,xa=5663020,Aa=705e4,Sa=7050001,Ma=7050002,_a=7050003,Ia=7050004,Ba=7050005,ka=7050006,Ta=7050007,Ca=7050008,Oa=7050009,Ra=7050010,Ua=7050011,Na=7050012,La=7050013,Pa=7050014,za=7050015,$a=7050016,Da=7050017,qa=7050018,ja=7050019,Fa=7050020,Ka=7050021,Va=7050022,Ha=7050023,Ga=7050024,Wa=7050025,Za=7050026,Ya=7050027,Ja=7050028,Xa=7050029,Qa=7050030,tu=7050031,eu=7050032,nu=7050033,ru=7050034,iu=7050035,ou=7050036,su=8078e3,au=8078001,uu=8078002,cu=8078003,hu=8078004,lu=8078005,du=8078006,fu=8078007,pu=8078008,gu=8078009,mu=8078010,yu=8078011,wu=8078012,vu=8078013,bu=8078014,Eu=8078015,xu=8078016,Au=8078017,Su=8078018,Mu=8078019,_u=8078020,Iu=8078021,Bu=8078022,ku=81e5,Tu=8100001,Cu=8100002,Ou=8100003,Ru=819e4,Uu=8190001,Nu=8190002,Lu=8190003,Pu=8190004,zu=99e5,$u=9900001,Du=9900002,qu=9900003,ju=9900004;function Fu(t){if(Array.isArray(t)){return"%5B"+t.map(Fu).join("%2C%20")+"%5D"}return"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}function Ku([t,e]){return`${t}=${Fu(e)}`}var Vu={[Eo]:"Account not found at address: $address",[Mo]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[So]:"Expected decoded account at address: $address",[Ao]:"Failed to decode account data at address: $address",[xo]:"Accounts not found at addresses: $addresses",[wo]:"Unable to find a viable program address bump seed.",[ho]:"$putativeAddress is not a base58-encoded address.",[uo]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[lo]:"The `CryptoKey` must be an `Ed25519` public key.",[bo]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[yo]:"Invalid seeds; point must fall off the Ed25519 curve.",[fo]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[go]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[mo]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[po]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[vo]:"Program address cannot end with PDA marker.",[co]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[Ui]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[Ci]:"The network has progressed past the last block for which this transaction could have been committed.",[su]:"Codec [$codecDescription] cannot decode empty byte arrays.",[Bu]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[_u]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[lu]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[du]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[hu]:"Encoder and decoder must either both be fixed-size or variable-size.",[pu]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[uu]:"Expected a fixed-size codec, got a variable-size one.",[vu]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[cu]:"Expected a variable-size codec, got a fixed-size one.",[Mu]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[au]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[Su]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[gu]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[mu]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[Eu]:"Invalid literal union variant. Expected one of [$variants], got $value.",[fu]:"Expected [$codecDescription] to have $expected items, got $actual.",[wu]:"Invalid value $value for base $base with alphabet $alphabet.",[xu]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[yu]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[bu]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[Iu]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[Au]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[Uo]:"No random values implementation could be found.",[Xo]:"instruction requires an uninitialized account",[ds]:"instruction tries to borrow reference for an account which is already borrowed",[fs]:"instruction left account with an outstanding borrowed reference",[hs]:"program other than the account's owner changed the size of the account data",[Wo]:"account data too small for instruction",[ls]:"instruction expected an executable account",[Ns]:"An account does not have enough lamports to be rent-exempt",[Ps]:"Program arithmetic overflowed",[Us]:"Failed to serialize or deserialize account data: $encodedData",[Fs]:"Builtin programs must consume compute units",[Es]:"Cross-program invocation call depth too deep",[Is]:"Computational budget exceeded",[gs]:"custom program error: #$code",[ss]:"instruction contains duplicate accounts",[ps]:"instruction modifications of multiply-passed account differ",[vs]:"executable accounts must be rent exempt",[ys]:"instruction changed executable accounts data",[ws]:"instruction changed the balance of an executable account",[as]:"instruction changed executable bit of an account",[rs]:"instruction modified data of an account it does not own",[ns]:"instruction spent from the balance of an account it does not own",[Ko]:"generic instruction error",[$s]:"Provided owner is not allowed",[Os]:"Account is immutable",[Rs]:"Incorrect authority provided",[Yo]:"incorrect program id for instruction",[Zo]:"insufficient funds for instruction",[Go]:"invalid account data for instruction",[Ls]:"Invalid account owner",[Vo]:"invalid program argument",[ms]:"program returned invalid error code",[Ho]:"invalid instruction data",[_s]:"Failed to reallocate account data",[Ms]:"Provided seeds do not result in a valid address",[Ds]:"Accounts data allocations exceeded the maximum allowed per transaction",[qs]:"Max accounts exceeded",[js]:"Max instruction trace length exceeded",[Ss]:"Length of the seed is too long for address generation",[xs]:"An account required by the instruction is missing",[Jo]:"missing required signature for instruction",[es]:"instruction illegally modified the program id of an account",[cs]:"insufficient account keys for instruction",[Bs]:"Cross-program invocation with unauthorized signer or writable account",[ks]:"Failed to create program execution environment",[Cs]:"Program failed to compile",[Ts]:"Program failed to complete",[os]:"instruction modified data of a read-only account",[is]:"instruction changed the balance of a read-only account",[As]:"Cross-program invocation reentrancy not allowed for this instruction",[us]:"instruction modified rent epoch of an account",[ts]:"sum of account balances before and after instruction do not match",[Qo]:"instruction requires an initialized account",[Fo]:"",[bs]:"Unsupported program id",[zs]:"Unsupported sysvar",[Do]:"The instruction does not have any accounts.",[qo]:"The instruction does not have any data.",[jo]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[Ni]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Oi]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[Du]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[ju]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[$u]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[zu]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[qu]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[ji]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[Fi]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[Vi]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[Ki]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[qi]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[Yi]:"$__serverMessage",[ao]:"$__serverMessage",[io]:"$__serverMessage",[Wi]:"$__serverMessage",[Xi]:"$__serverMessage",[Qi]:"$__serverMessage",[Hi]:"Minimum context slot has not been reached",[ro]:"Node is unhealthy; behind by $numSlotsBehind slots",[to]:"No snapshot",[so]:"Transaction simulation failed",[eo]:"$__serverMessage",[Ji]:"Transaction history is not available from this node",[no]:"$__serverMessage",[Zi]:"Transaction signature length mismatch",[oo]:"Transaction signature verification failure",[Gi]:"$__serverMessage",[No]:"Key pair bytes must be of length 64, got $byteLength.",[Lo]:"Expected private key bytes with length 32. Actual length: $actualLength.",[Po]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[$o]:"The provided private key does not match the provided public key.",[zo]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[Li]:"Lamports value must be in the range [0, 2e64-1]",[Pi]:"`$value` cannot be parsed as a `BigInt`",[Di]:"$message",[zi]:"`$value` cannot be parsed as a `Number`",[Ri]:"No nonce account could be found at address `$nonceAccountAddress`",[Ru]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[Nu]:"WebSocket was closed before payload could be added to the send buffer",[Lu]:"WebSocket connection closed",[Pu]:"WebSocket failed to connect",[Uu]:"Failed to obtain a subscription id from the server",[Ou]:"Could not find an API plan for RPC method: `$method`",[ku]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Cu]:"HTTP error ($statusCode): $message",[Tu]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[Ks]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Vs]:"The provided value does not implement the `KeyPairSigner` interface",[Gs]:"The provided value does not implement the `MessageModifyingSigner` interface",[Ws]:"The provided value does not implement the `MessagePartialSigner` interface",[Hs]:"The provided value does not implement any of the `MessageSigner` interfaces",[Ys]:"The provided value does not implement the `TransactionModifyingSigner` interface",[Js]:"The provided value does not implement the `TransactionPartialSigner` interface",[Xs]:"The provided value does not implement the `TransactionSendingSigner` interface",[Zs]:"The provided value does not implement any of the `TransactionSigner` interfaces",[Qs]:"More than one `TransactionSendingSigner` was identified.",[ta]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[ea]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[Ro]:"Cannot export a non-extractable key.",[Io]:"No digest implementation could be found.",[_o]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[Bo]:"This runtime does not support the generation of Ed25519 key pairs.\n\nInstall @solana/webcrypto-ed25519-polyfill and call its `install` function before generating keys in environments that do not support Ed25519.\n\nFor a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.",[ko]:"No signature verification implementation could be found.",[To]:"No key generation implementation could be found.",[Co]:"No signing implementation could be found.",[Oo]:"No key export implementation could be found.",[$i]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[$a]:"Transaction processing left an account with an outstanding borrowed reference",[Sa]:"Account in use",[Ma]:"Account loaded twice",[_a]:"Attempt to debit an account but found no record of a prior credit.",[Ha]:"Transaction loads an address table account that doesn't exist",[Ta]:"This transaction has already been processed",[Ca]:"Blockhash not found",[Oa]:"Loader call chain is too deep",[za]:"Transactions are currently disabled due to cluster maintenance",[Qa]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Ba]:"Insufficient funds for fee",[tu]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[ka]:"This account may not be used to pay transaction fees",[Ua]:"Transaction contains an invalid account reference",[Wa]:"Transaction loads an address table account with invalid data",[Za]:"Transaction address table lookup uses an invalid index",[Ga]:"Transaction loads an address table account with an invalid owner",[nu]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[La]:"This program may not be used for executing instructions",[Ya]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[ja]:"Transaction loads a writable account that cannot be written",[eu]:"Transaction exceeded max loaded accounts data size cap",[Ra]:"Transaction requires a fee but has no signature present",[Ia]:"Attempt to load a program that does not exist",[iu]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[ru]:"ResanitizationNeeded",[Pa]:"Transaction failed to sanitize accounts offsets correctly",[Na]:"Transaction did not pass signature verification",[Va]:"Transaction locked too many accounts",[ou]:"Sum of account balances before and after transaction do not match",[Aa]:"The transaction failed with the error `$errorName`",[qa]:"Transaction version is unsupported",[Ka]:"Transaction would exceed account data limit within the block",[Xa]:"Transaction would exceed total account data limit",[Fa]:"Transaction would exceed max account limit within the block",[Da]:"Transaction would exceed max Block Cost Limit",[Ja]:"Transaction would exceed max Vote Cost Limit",[ya]:"Attempted to sign a transaction with an address that is not a signer for it",[da]:"Transaction is missing an address at index: $index.",[wa]:"Transaction has no expected signers therefore it cannot be encoded",[xa]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[ia]:"Transaction does not have a blockhash lifetime",[oa]:"Transaction is not a durable nonce transaction",[aa]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[ua]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[ha]:"No fee payer set in CompiledTransaction",[ca]:"Could not find program address at index $index",[ba]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[Ea]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[fa]:"Transaction is missing a fee payer.",[pa]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[ma]:"Transaction first instruction is not advance nonce account instruction.",[ga]:"Transaction with no instructions cannot be durable nonce transaction.",[na]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[ra]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[va]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[la]:"Transaction is missing signatures for addresses: $addresses.",[sa]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},Hu="i",Gu="t";function Wu(t,e={}){if("production"!==process.env.NODE_ENV)return function(t,e={}){const n=Vu[t];if(0===n.length)return"";let r;function i(t){if(2===r[Gu]){const i=n.slice(r[Hu]+1,t);o.push(i in e?`${e[i]}`:`$${i}`)}else 1===r[Gu]&&o.push(n.slice(r[Hu],t))}const o=[];return n.split("").forEach(((t,e)=>{if(0===e)return void(r={[Hu]:0,[Gu]:"\\"===n[0]?0:"$"===n[0]?2:1});let o;switch(r[Gu]){case 0:o={[Hu]:e,[Gu]:1};break;case 1:"\\"===t?o={[Hu]:e,[Gu]:0}:"$"===t&&(o={[Hu]:e,[Gu]:2});break;case 2:"\\"===t?o={[Hu]:e,[Gu]:0}:"$"===t?o={[Hu]:e,[Gu]:2}:t.match(/\w/)||(o={[Hu]:e,[Gu]:1})}o&&(r!==o&&i(e),r=o)})),i(),o.join("")}(t,e);{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${function(t){const e=Object.entries(t).map(Ku).join("&");return btoa(e)}(e)}'`),`${n}\``}}var Zu=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;if(e){const{cause:t,...i}=e;t&&(r={cause:t}),Object.keys(i).length>0&&(n=i)}super(Wu(t,n),r),this.context={__code:t,...n},this.name="SolanaError"}};function Yu(t){return"fixedSize"in t&&"number"==typeof t.fixedSize}function Ju(t){return 1!==t?.endian}function Xu(t){return e={fixedSize:t.size,write(e,n,r){t.range&&function(t,e,n,r){if(r<e||r>n)throw new Zu(yu,{codecDescription:t,max:n,min:e,value:r})}(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,Ju(t.config)),n.set(new Uint8Array(i),r),r+t.size}},Object.freeze({...e,encode:t=>{const n=new Uint8Array(function(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}(t,e));return e.write(t,n,0),n}});var e}function Qu(t){return e={fixedSize:t.size,read(e,n=0){!function(t,e,n=0){if(e.length-n<=0)throw new Zu(su,{codecDescription:t})}(t.name,e,n),function(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Zu(au,{bytesLength:i,codecDescription:t,expected:e})}(t.name,t.size,e,n);const r=new DataView(function(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}(e,n,t.size));return[t.get(r,Ju(t.config)),n+t.size]}},Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]});var e}var tc=(t={})=>function(t,e){if(Yu(t)!==Yu(e))throw new Zu(hu);if(Yu(t)&&Yu(e)&&t.fixedSize!==e.fixedSize)throw new Zu(lu,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Yu(t)&&!Yu(e)&&t.maxSize!==e.maxSize)throw new Zu(du,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}(((t={})=>Xu({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,e,n)=>t.setBigUint64(0,BigInt(e),n),size:8}))(t),((t={})=>Qu({config:t,get:(t,e)=>t.getBigUint64(0,e),name:"u64",size:8}))(t));class ec extends TypeError{constructor(t,e){let n;const{message:r,explanation:i,...o}=t,{path:s}=t,a=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function nc(t){return"object"==typeof t&&null!=t}function rc(t){return nc(t)&&!Array.isArray(t)}function ic(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function oc(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:u=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${ic(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:u}}function*sc(t,e,n,r){var i;nc(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=oc(i,e,n,r);t&&(yield t)}}function*ac(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let u="valid";for(const r of e.validator(t,a))r.explanation=n.message,u="not_valid",yield[r,void 0];for(let[c,h,l]of e.entries(t,a)){const e=ac(h,l,{path:void 0===c?r:[...r,c],branch:void 0===c?i:[...i,h],coerce:o,mask:s,message:n.message});for(const n of e)n[0]?(u=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):o&&(h=n[1],void 0===c?t=h:t instanceof Map?t.set(c,h):t instanceof Set?t.add(h):nc(t)&&(void 0!==h||c in t)&&(t[c]=h))}if("not_valid"!==u)for(const r of e.refiner(t,a))r.explanation=n.message,u="not_refined",yield[r,void 0];"valid"===u&&(yield[void 0,t])}let uc=class{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:o=t=>t,entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>sc(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>sc(i(t,e),e,this,t):()=>[]}assert(t,e){return function(t,e,n){const r=lc(t,e,{message:n});if(r[0])throw r[0]}(t,this,e)}create(t,e){return cc(t,this,e)}is(t){return hc(t,this)}mask(t,e){return function(t,e,n){const r=lc(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(t,this,e)}validate(t,e={}){return lc(t,this,e)}};function cc(t,e,n){const r=lc(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function hc(t,e){return!lc(t,e)[0]}function lc(t,e,n={}){const r=ac(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new ec(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function dc(t,e){return new uc({type:t,schema:null,validator:e})}function fc(t){return new uc({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${ic(t)}`})}function pc(){return dc("boolean",(t=>"boolean"==typeof t))}function gc(t){return dc("instance",(e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ic(e)}`))}function mc(t){const e=ic(t),n=typeof t;return new uc({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${ic(n)}`})}function yc(t){return new uc({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function wc(){return dc("number",(t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${ic(t)}`))}function vc(t){return new uc({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function bc(t,e){return new uc({type:"record",schema:null,*entries(n){if(nc(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>rc(t)||`Expected an object, but received: ${ic(t)}`,coercer:t=>rc(t)?{...t}:t})}function Ec(){return dc("string",(t=>"string"==typeof t||`Expected a string, but received: ${ic(t)}`))}function xc(t){const e=dc("never",(()=>!1));return new uc({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${ic(t)}`,coercer:t=>Array.isArray(t)?t.slice():t})}function Ac(t){const e=Object.keys(t);return new uc({type:"type",schema:t,*entries(n){if(nc(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>rc(t)||`Expected an object, but received: ${ic(t)}`,coercer:t=>rc(t)?{...t}:t})}function Sc(t){const e=t.map((t=>t.type)).join(" | ");return new uc({type:"union",schema:null,coercer(e,n){for(const r of t){const[t,i]=r.validate(e,{coerce:!0,mask:n.mask});if(!t)return i}return e},validator(n,r){const i=[];for(const e of t){const[...t]=ac(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ic(n)}`,...i]}})}function Mc(){return dc("unknown",(()=>!0))}function _c(t,e,n){return new uc({...t,coercer:(r,i)=>hc(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Ic,Bc=new Uint8Array(16);function kc(){if(!Ic&&!(Ic="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ic(Bc)}var Tc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Cc(t){return"string"==typeof t&&Tc.test(t)}for(var Oc,Rc,Uc=[],Nc=0;Nc<256;++Nc)Uc.push((Nc+256).toString(16).substr(1));function Lc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Uc[t[e+0]]+Uc[t[e+1]]+Uc[t[e+2]]+Uc[t[e+3]]+"-"+Uc[t[e+4]]+Uc[t[e+5]]+"-"+Uc[t[e+6]]+Uc[t[e+7]]+"-"+Uc[t[e+8]]+Uc[t[e+9]]+"-"+Uc[t[e+10]]+Uc[t[e+11]]+Uc[t[e+12]]+Uc[t[e+13]]+Uc[t[e+14]]+Uc[t[e+15]]).toLowerCase();if(!Cc(n))throw TypeError("Stringified UUID is invalid");return n}var Pc=0,zc=0;function $c(t){if(!Cc(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}function Dc(t,e,n){function r(t,r,i,o){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof r&&(r=$c(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(r),s.set(t,r.length),(s=n(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return Lc(s)}try{r.name=t}catch(t){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function qc(t){return 14+(t+64>>>9<<4)+1}function jc(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function Fc(t,e,n,r,i,o){return jc((s=jc(jc(e,t),jc(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function Kc(t,e,n,r,i,o,s){return Fc(e&n|~e&r,t,e,i,o,s)}function Vc(t,e,n,r,i,o,s){return Fc(e&r|n&~r,t,e,i,o,s)}function Hc(t,e,n,r,i,o,s){return Fc(e^n^r,t,e,i,o,s)}function Gc(t,e,n,r,i,o,s){return Fc(n^(e|~r),t,e,i,o,s)}var Wc=Dc("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);e.push(s)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[qc(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,u=r,c=i,h=o;n=Kc(n,r,i,o,t[s],7,-680876936),o=Kc(o,n,r,i,t[s+1],12,-389564586),i=Kc(i,o,n,r,t[s+2],17,606105819),r=Kc(r,i,o,n,t[s+3],22,-1044525330),n=Kc(n,r,i,o,t[s+4],7,-176418897),o=Kc(o,n,r,i,t[s+5],12,1200080426),i=Kc(i,o,n,r,t[s+6],17,-1473231341),r=Kc(r,i,o,n,t[s+7],22,-45705983),n=Kc(n,r,i,o,t[s+8],7,1770035416),o=Kc(o,n,r,i,t[s+9],12,-1958414417),i=Kc(i,o,n,r,t[s+10],17,-42063),r=Kc(r,i,o,n,t[s+11],22,-1990404162),n=Kc(n,r,i,o,t[s+12],7,1804603682),o=Kc(o,n,r,i,t[s+13],12,-40341101),i=Kc(i,o,n,r,t[s+14],17,-1502002290),n=Vc(n,r=Kc(r,i,o,n,t[s+15],22,1236535329),i,o,t[s+1],5,-165796510),o=Vc(o,n,r,i,t[s+6],9,-1069501632),i=Vc(i,o,n,r,t[s+11],14,643717713),r=Vc(r,i,o,n,t[s],20,-373897302),n=Vc(n,r,i,o,t[s+5],5,-701558691),o=Vc(o,n,r,i,t[s+10],9,38016083),i=Vc(i,o,n,r,t[s+15],14,-660478335),r=Vc(r,i,o,n,t[s+4],20,-405537848),n=Vc(n,r,i,o,t[s+9],5,568446438),o=Vc(o,n,r,i,t[s+14],9,-1019803690),i=Vc(i,o,n,r,t[s+3],14,-187363961),r=Vc(r,i,o,n,t[s+8],20,1163531501),n=Vc(n,r,i,o,t[s+13],5,-1444681467),o=Vc(o,n,r,i,t[s+2],9,-51403784),i=Vc(i,o,n,r,t[s+7],14,1735328473),n=Hc(n,r=Vc(r,i,o,n,t[s+12],20,-1926607734),i,o,t[s+5],4,-378558),o=Hc(o,n,r,i,t[s+8],11,-2022574463),i=Hc(i,o,n,r,t[s+11],16,1839030562),r=Hc(r,i,o,n,t[s+14],23,-35309556),n=Hc(n,r,i,o,t[s+1],4,-1530992060),o=Hc(o,n,r,i,t[s+4],11,1272893353),i=Hc(i,o,n,r,t[s+7],16,-155497632),r=Hc(r,i,o,n,t[s+10],23,-1094730640),n=Hc(n,r,i,o,t[s+13],4,681279174),o=Hc(o,n,r,i,t[s],11,-358537222),i=Hc(i,o,n,r,t[s+3],16,-722521979),r=Hc(r,i,o,n,t[s+6],23,76029189),n=Hc(n,r,i,o,t[s+9],4,-640364487),o=Hc(o,n,r,i,t[s+12],11,-421815835),i=Hc(i,o,n,r,t[s+15],16,530742520),n=Gc(n,r=Hc(r,i,o,n,t[s+2],23,-995338651),i,o,t[s],6,-198630844),o=Gc(o,n,r,i,t[s+7],10,1126891415),i=Gc(i,o,n,r,t[s+14],15,-1416354905),r=Gc(r,i,o,n,t[s+5],21,-57434055),n=Gc(n,r,i,o,t[s+12],6,1700485571),o=Gc(o,n,r,i,t[s+3],10,-1894986606),i=Gc(i,o,n,r,t[s+10],15,-1051523),r=Gc(r,i,o,n,t[s+1],21,-2054922799),n=Gc(n,r,i,o,t[s+8],6,1873313359),o=Gc(o,n,r,i,t[s+15],10,-30611744),i=Gc(i,o,n,r,t[s+6],15,-1560198380),r=Gc(r,i,o,n,t[s+13],21,1309151649),n=Gc(n,r,i,o,t[s+4],6,-145523070),o=Gc(o,n,r,i,t[s+11],10,-1120210379),i=Gc(i,o,n,r,t[s+2],15,718787259),r=Gc(r,i,o,n,t[s+9],21,-343485551),n=jc(n,a),r=jc(r,u),i=jc(i,c),o=jc(o,h)}return[n,r,i,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(qc(e)),r=0;r<e;r+=8)n[r>>5]|=(255&t[r/8])<<r%32;return n}(t),8*t.length))}));function Zc(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:case 3:return e^n^r;case 2:return e&n^e&r^n&r}}function Yc(t,e){return t<<e|t>>>32-e}var Jc=Dc("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),u=0;u<s;++u){for(var c=new Uint32Array(16),h=0;h<16;++h)c[h]=t[64*u+4*h]<<24|t[64*u+4*h+1]<<16|t[64*u+4*h+2]<<8|t[64*u+4*h+3];a[u]=c}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var l=0;l<s;++l){for(var d=new Uint32Array(80),f=0;f<16;++f)d[f]=a[l][f];for(var p=16;p<80;++p)d[p]=Yc(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var g=n[0],m=n[1],y=n[2],w=n[3],v=n[4],b=0;b<80;++b){var E=Math.floor(b/20),x=Yc(g,5)+Zc(E,m,y,w)+v+e[E]+d[b]>>>0;v=w,w=y,y=Yc(m,30)>>>0,m=g,g=x}n[0]=n[0]+g>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var Xc,Qc,th,eh,nh=Object.freeze({__proto__:null,NIL:"00000000-0000-0000-0000-000000000000",parse:$c,stringify:Lc,v1:function(t,e,n){var r=e&&n||0,i=e||new Array(16),o=(t=t||{}).node||Oc,s=void 0!==t.clockseq?t.clockseq:Rc;if(null==o||null==s){var a=t.random||(t.rng||kc)();null==o&&(o=Oc=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=Rc=16383&(a[6]<<8|a[7]))}var u=void 0!==t.msecs?t.msecs:Date.now(),c=void 0!==t.nsecs?t.nsecs:zc+1,h=u-Pc+(c-zc)/1e4;if(h<0&&void 0===t.clockseq&&(s=s+1&16383),(h<0||u>Pc)&&void 0===t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Pc=u,zc=c,Rc=s;var l=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[r++]=l>>>24&255,i[r++]=l>>>16&255,i[r++]=l>>>8&255,i[r++]=255&l;var d=u/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var f=0;f<6;++f)i[r+f]=o[f];return e||Lc(i)},v3:Wc,v4:function(t,e,n){var r=(t=t||{}).random||(t.rng||kc)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Lc(r)},v5:Jc,validate:Cc,version:function(t){if(!Cc(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}}),rh=ee(nh);!function(){if(eh)return th;eh=1;const t=rh.v4,e=function(){if(Qc)return Xc;Qc=1;const t=rh.v4;return Xc=function(e,n,r,i){if("string"!=typeof e)throw new TypeError(e+" must be a string");const o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:e};if(2===o&&(s.jsonrpc="2.0"),n){if("object"!=typeof n&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");s.params=n}if(void 0===r){const e="function"==typeof i.generator?i.generator:function(){return t()};s.id=e(s,i)}else 2===o&&null===r?i.notificationIdNull&&(s.id=null):s.id=r;return s},Xc}(),n=function(e,r){if(!(this instanceof n))return new n(e,r);r||(r={}),this.options={reviver:void 0!==r.reviver?r.reviver:null,replacer:void 0!==r.replacer?r.replacer:null,generator:void 0!==r.generator?r.generator:function(){return t()},version:void 0!==r.version?r.version:2,notificationIdNull:"boolean"==typeof r.notificationIdNull&&r.notificationIdNull},this.callServer=e};th=n,n.prototype.request=function(t,n,r,i){const o=this;let s=null;const a=Array.isArray(t)&&"function"==typeof n;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof n)i=n,s=t;else{"function"==typeof r&&(i=r,r=void 0);const o="function"==typeof i;try{s=e(t,n,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(o)return i(t);throw t}if(!o)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(t){return i(t)}return this.callServer(u,(function(t,e){o._parseResponse(t,e,i)})),s},n.prototype._parseResponse=function(t,e,n){if(t)return void n(t);if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(t){return n(t)}if(3===n.length){if(Array.isArray(r)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return n(null,r.filter(t),r.filter(e))}return n(null,r.error,r.result)}n(null,r)}}();var ih,oh={exports:{}};ih||(ih=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var u,c,h=this._events[a],l=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,i),!0;case 5:return h.fn.call(h.context,e,r,i,o),!0;case 6:return h.fn.call(h.context,e,r,i,o,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];h.fn.apply(h.context,u)}else{var d,f=h.length;for(c=0;c<f;c++)switch(h[c].once&&this.removeListener(t,h[c].fn,void 0,!0),l){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,e);break;case 3:h[c].fn.call(h[c].context,e,r);break;case 4:h[c].fn.call(h[c].context,e,r,i);break;default:if(!u)for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];h[c].fn.apply(h[c].context,u)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var u=0,c=[],h=a.length;u<h;u++)(a[u].fn!==e||i&&!a[u].once||r&&a[u].context!==r)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(oh));class sh extends Ut{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.createHasher");gt(t.outputLen),gt(t.blockLen)}(t);const n=Ot(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?t.create().update(n).digest():n);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),wt(i)}update(t){return yt(this),this.iHash.update(t),this}digestInto(t){yt(this),mt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ah=(t,e,n)=>new sh(t,e).update(n).digest();
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function uh(t){void 0!==t.lowS&&qn("lowS",t.lowS),void 0!==t.prehash&&qn("prehash",t.prehash)}ah.create=(t,e)=>new sh(t,e);class ch extends Error{constructor(t=""){super(t)}}const hh={Err:ch,_tlv:{encode:(t,e)=>{const{Err:n}=hh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(1&e.length)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=jn(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?jn(i.length/2|128):"";return jn(t)+o+i+e},decode(t,e){const{Err:n}=hh;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++];let o=0;if(!!(128&i)){const t=127&i;if(!t)throw new n("tlv.decode(long): indefinite length not supported");if(t>4)throw new n("tlv.decode(long): byte length is too big");const s=e.subarray(r,r+t);if(s.length!==t)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of s)o=o<<8|t;if(r+=t,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;const s=e.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=hh;if(t<lh)throw new e("integer: negative integers are not allowed");let n=jn(t);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=hh;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return Kn(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=hh,i=Wn("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:u}=r.decode(2,o),{v:c,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=hh,r=e.encode(2,n.encode(t.r))+e.encode(2,n.encode(t.s));return e.encode(48,r)}},lh=BigInt(0),dh=BigInt(1),fh=BigInt(2),ph=BigInt(3),gh=BigInt(4);function mh(t,e,n){const{BYTES:r}=t;return function(i){let o;if("bigint"==typeof i)o=i;else{let n=Wn("private key",i);if(e){if(!e.includes(2*n.length))throw new Error("invalid private key");const t=new Uint8Array(r);t.set(n,t.length-n.length),n=t}try{o=t.fromBytes(n)}catch(t){throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}}function yh(t,e={}){const{Fp:n,Fn:r}=Rr("weierstrass",t,e),{h:i,n:o}=t;Xn(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||"bigint"!=typeof s.beta||"function"!=typeof s.splitScalar))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const u=e.toBytes||function(t,e,r){const{x:i,y:o}=e.toAffine(),s=n.toBytes(i);if(qn("isCompressed",r),r){a();return Rt(wh(!n.isOdd(o)),s)}return Rt(Uint8Array.of(4),s,n.toBytes(o))},c=e.fromBytes||function(t){mt(t);const e=n.BYTES,r=e+1,i=2*e+1,o=t.length,s=t[0],u=t.subarray(1);if(o!==r||2!==s&&3!==s){if(o===i&&4===s){const t=n.fromBytes(u.subarray(0*e,1*e)),r=n.fromBytes(u.subarray(1*e,2*e));if(!l(t,r))throw new Error("bad point: is not on curve");return{x:t,y:r}}throw new Error(`bad point: got length ${o}, expected compressed=${r} or uncompressed=${i}`)}{const t=n.fromBytes(u);if(!n.isValid(t))throw new Error("bad point: is not on curve, wrong x");const e=h(t);let r;try{r=n.sqrt(e)}catch(t){const e=t instanceof Error?": "+t.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}a();return!(1&~s)!==n.isOdd(r)&&(r=n.neg(r)),{x:t,y:r}}},h=function(t,e,n){return function(r){const i=t.sqr(r),o=t.mul(i,r);return t.add(t.add(o,t.mul(r,e)),n)}}(n,t.a,t.b);function l(t,e){const r=n.sqr(e),i=h(t);return n.eql(r,i)}if(!l(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const d=n.mul(n.pow(t.a,ph),gh),f=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(d,f)))throw new Error("bad curve params: a or b");function p(t,e,r=!1){if(!n.isValid(e)||r&&n.is0(e))throw new Error(`bad point coordinate ${t}`);return e}function g(t){if(!(t instanceof v))throw new Error("ProjectivePoint expected")}const m=Qn(((t,e)=>{const{px:r,py:i,pz:o}=t;if(n.eql(o,n.ONE))return{x:r,y:i};const s=t.is0();null==e&&(e=s?n.ONE:n.inv(o));const a=n.mul(r,e),u=n.mul(i,e),c=n.mul(o,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:u}})),y=Qn((t=>{if(t.is0()){if(e.allowInfinityPoint&&!n.is0(t.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=t.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not field elements");if(!l(r,i))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));function w(t,e,r,i,o){return r=new v(n.mul(r.px,t),r.py,r.pz),e=Er(i,e),r=Er(o,r),e.add(r)}class v{constructor(t,e,n){this.px=p("x",t),this.py=p("y",e,!0),this.pz=p("z",n),Object.freeze(this)}static fromAffine(t){const{x:e,y:r}=t||{};if(!t||!n.isValid(e)||!n.isValid(r))throw new Error("invalid affine point");if(t instanceof v)throw new Error("projective point not allowed");return n.is0(e)&&n.is0(r)?v.ZERO:new v(e,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){return xr(v,"pz",t)}static fromBytes(t){return mt(t),v.fromHex(t)}static fromHex(t){const e=v.fromAffine(c(Wn("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){const n=mh(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return v.BASE.multiply(n(t))}static msm(t,e){return Cr(v,r,t,e)}precompute(t=8,e=!0){return E.setWindowSize(this,t),e||this.multiply(ph),this}_setWindowSize(t){this.precompute(t)}assertValidity(){y(this)}hasEvenY(){const{y:t}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(t)}equals(t){g(t);const{px:e,py:r,pz:i}=this,{px:o,py:s,pz:a}=t,u=n.eql(n.mul(e,a),n.mul(o,i)),c=n.eql(n.mul(r,a),n.mul(s,i));return u&&c}negate(){return new v(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,ph),{px:o,py:s,pz:a}=this;let u=n.ZERO,c=n.ZERO,h=n.ZERO,l=n.mul(o,o),d=n.mul(s,s),f=n.mul(a,a),p=n.mul(o,s);return p=n.add(p,p),h=n.mul(o,a),h=n.add(h,h),u=n.mul(e,h),c=n.mul(i,f),c=n.add(u,c),u=n.sub(d,c),c=n.add(d,c),c=n.mul(u,c),u=n.mul(p,u),h=n.mul(i,h),f=n.mul(e,f),p=n.sub(l,f),p=n.mul(e,p),p=n.add(p,h),h=n.add(l,l),l=n.add(h,l),l=n.add(l,f),l=n.mul(l,p),c=n.add(c,l),f=n.mul(s,a),f=n.add(f,f),l=n.mul(f,p),u=n.sub(u,l),h=n.mul(f,d),h=n.add(h,h),h=n.add(h,h),new v(u,c,h)}add(e){g(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:u}=e;let c=n.ZERO,h=n.ZERO,l=n.ZERO;const d=t.a,f=n.mul(t.b,ph);let p=n.mul(r,s),m=n.mul(i,a),y=n.mul(o,u),w=n.add(r,i),b=n.add(s,a);w=n.mul(w,b),b=n.add(p,m),w=n.sub(w,b),b=n.add(r,o);let E=n.add(s,u);return b=n.mul(b,E),E=n.add(p,y),b=n.sub(b,E),E=n.add(i,o),c=n.add(a,u),E=n.mul(E,c),c=n.add(m,y),E=n.sub(E,c),l=n.mul(d,b),c=n.mul(f,y),l=n.add(c,l),c=n.sub(m,l),l=n.add(m,l),h=n.mul(c,l),m=n.add(p,p),m=n.add(m,p),y=n.mul(d,y),b=n.mul(f,b),m=n.add(m,y),y=n.sub(p,y),y=n.mul(d,y),b=n.add(b,y),p=n.mul(m,b),h=n.add(h,p),p=n.mul(E,b),c=n.mul(w,c),c=n.sub(c,p),p=n.mul(w,m),l=n.mul(E,l),l=n.add(l,p),new v(c,h,l)}subtract(t){return this.add(t.negate())}is0(){return this.equals(v.ZERO)}multiply(t){const{endo:n}=e;if(!r.isValidNot0(t))throw new Error("invalid scalar: out of range");let i,o;const s=t=>E.wNAFCached(this,t,v.normalizeZ);if(n){const{k1neg:e,k1:r,k2neg:a,k2:u}=n.splitScalar(t),{p:c,f:h}=s(r),{p:l,f:d}=s(u);o=h.add(d),i=w(n.beta,c,l,e,a)}else{const{p:e,f:n}=s(t);i=e,o=n}return v.normalizeZ([i,o])[0]}multiplyUnsafe(t){const{endo:n}=e,i=this;if(!r.isValid(t))throw new Error("invalid scalar: out of range");if(t===lh||i.is0())return v.ZERO;if(t===dh)return i;if(E.hasPrecomputes(this))return this.multiply(t);if(n){const{k1neg:e,k1:r,k2neg:o,k2:s}=n.splitScalar(t),{p1:a,p2:u}=function(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>vr||r>vr;)n&br&&(o=o.add(i)),r&br&&(s=s.add(i)),i=i.double(),n>>=br,r>>=br;return{p1:o,p2:s}}(v,i,r,s);return w(n.beta,a,u,e,o)}return E.wNAFCachedUnsafe(i,t)}multiplyAndAddUnsafe(t,e,n){const r=this.multiplyUnsafe(e).add(t.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(t){return m(this,t)}isTorsionFree(){const{isTorsionFree:t}=e;return i===dh||(t?t(v,this):E.wNAFCachedUnsafe(this,o).is0())}clearCofactor(){const{clearCofactor:t}=e;return i===dh?this:t?t(v,this):this.multiplyUnsafe(i)}toBytes(t=!0){return qn("isCompressed",t),this.assertValidity(),u(v,this,t)}toRawBytes(t=!0){return this.toBytes(t)}toHex(t=!0){return At(this.toBytes(t))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}v.BASE=new v(t.Gx,t.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO),v.Fp=n,v.Fn=r;const b=r.BITS,E=Tr(v,e.endo?Math.ceil(b/2):b);return v}function wh(t){return Uint8Array.of(t?2:3)}function vh(t,e,n={}){Xn(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Lt,i=e.hmac||((t,...n)=>ah(e.hash,t,Rt(...n))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:u}=s;function c(t){return t>a>>dh}function h(t,e){if(!s.isValidNot0(e))throw new Error(`invalid signature ${t}: out of range 1..CURVE.n`)}class l{constructor(t,e,n){h("r",t),h("s",e),this.r=t,this.s=e,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(t){const e=s.BYTES,n=Wn("compactSignature",t,2*e);return new l(s.fromBytes(n.subarray(0,e)),s.fromBytes(n.subarray(e,2*e)))}static fromDER(t){const{r:e,s:n}=hh.toSig(Wn("DER",t));return new l(e,n)}assertValidity(){}addRecoveryBit(t){return new l(this.r,this.s,t)}recoverPublicKey(e){const n=o.ORDER,{r:r,s:i,recovery:u}=this;if(null==u||![0,1,2,3].includes(u))throw new Error("recovery id invalid");if(a*fh<n&&u>1)throw new Error("recovery id is ambiguous for h>1 curve");const c=2===u||3===u?r+a:r;if(!o.isValid(c))throw new Error("recovery id 2 or 3 invalid");const h=o.toBytes(c),l=t.fromHex(Rt(wh(!(1&u)),h)),d=s.inv(c),f=m(Wn("msgHash",e)),p=s.create(-f*d),g=s.create(i*d),y=t.BASE.multiplyUnsafe(p).add(l.multiplyUnsafe(g));if(y.is0())throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new l(this.r,s.neg(this.s),this.recovery):this}toBytes(t){if("compact"===t)return Rt(s.toBytes(this.r),s.toBytes(this.s));if("der"===t)return Ct(hh.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return At(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return At(this.toBytes("compact"))}}const d=mh(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),f={isValidPrivateKey(t){try{return d(t),!0}catch(t){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const t=a;return function(t,e,n=!1){const r=t.length,i=yr(e),o=wr(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=ar(n?Vn(t):Kn(t),e-er)+er;return n?Gn(s,i):Hn(s,i)}(r(wr(t)),t)},precompute:(e=8,n=t.BASE)=>n.precompute(e,!1)};function p(e){if("bigint"==typeof e)return!1;if(e instanceof t)return!0;const r=Wn("key",e).length,i=o.BYTES,a=i+1,u=2*i+1;return n.allowedPrivateKeyLengths||s.BYTES===a?void 0:r===a||r===u}const g=e.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const e=Kn(t),n=8*t.length-u;return n>0?e>>BigInt(n):e},m=e.bits2int_modN||function(t){return s.create(g(t))},y=Jn(u);function w(t){return Yn("num < 2^"+u,t,lh,y),s.toBytes(t)}function v(n,i,a=b){if(["recovered","canonical"].some((t=>t in a)))throw new Error("sign() legacy options not supported");const{hash:u}=e;let{lowS:h,prehash:f,extraEntropy:p}=a;null==h&&(h=!0),n=Wn("msgHash",n),uh(a),f&&(n=Wn("prehashed msgHash",u(n)));const y=m(n),v=d(i),E=[w(v),w(y)];if(null!=p&&!1!==p){const t=!0===p?r(o.BYTES):p;E.push(Wn("extraEntropy",t))}const x=Rt(...E),A=y;return{seed:x,k2sig:function(e){const n=g(e);if(!s.isValidNot0(n))return;const r=s.inv(n),i=t.BASE.multiply(n).toAffine(),o=s.create(i.x);if(o===lh)return;const a=s.create(r*s.create(A+o*v));if(a===lh)return;let u=(i.x===o?0:2)|Number(i.y&dh),d=a;return h&&c(a)&&(d=function(t){return c(t)?s.neg(t):t}(a),u^=1),new l(o,d,u)}}}const b={lowS:e.lowS,prehash:!1},E={lowS:e.lowS,prehash:!1};return t.BASE.precompute(8),Object.freeze({getPublicKey:function(e,n=!0){return t.fromPrivateKey(e).toBytes(n)},getSharedSecret:function(e,n,r=!0){if(!0===p(e))throw new Error("first arg must be private key");if(!1===p(n))throw new Error("second arg must be public key");return t.fromHex(n).multiply(d(e)).toBytes(r)},sign:function(t,n,r=b){const{seed:o,k2sig:a}=v(t,n,r),u=function(t,e,n){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=t=>new Uint8Array(t),i=t=>Uint8Array.of(t);let o=r(t),s=r(t),a=0;const u=()=>{o.fill(1),s.fill(0),a=0},c=(...t)=>n(s,o,...t),h=(t=r(0))=>{s=c(i(0),t),o=c(),0!==t.length&&(s=c(i(1),t),o=c())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const n=[];for(;t<e;){o=c();const e=o.slice();n.push(e),t+=o.length}return Rt(...n)};return(t,e)=>{let n;for(u(),h(t);!(n=e(l()));)h();return u(),n}}(e.hash.outputLen,s.BYTES,i);return u(o,a)},verify:function(n,r,i,o=E){const a=n;r=Wn("msgHash",r),i=Wn("publicKey",i),uh(o);const{lowS:u,prehash:c,format:h}=o;if("strict"in o)throw new Error("options.strict was renamed to lowS");if(void 0!==h&&!["compact","der","js"].includes(h))throw new Error('format must be "compact", "der" or "js"');const d="string"==typeof a||pt(a),f=!d&&!h&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!d&&!f)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,g;try{if(f){if(void 0!==h&&"js"!==h)throw new Error("invalid format");p=new l(a.r,a.s)}if(d){try{"compact"!==h&&(p=l.fromDER(a))}catch(t){if(!(t instanceof hh.Err))throw t}p||"der"===h||(p=l.fromCompact(a))}g=t.fromHex(i)}catch(t){return!1}if(!p)return!1;if(u&&p.hasHighS())return!1;c&&(r=e.hash(r));const{r:y,s:w}=p,v=m(r),b=s.inv(w),x=s.create(v*b),A=s.create(y*b),S=t.BASE.multiplyUnsafe(x).add(g.multiplyUnsafe(A));return!S.is0()&&s.create(S.x)===y},utils:f,Point:t,Signature:l})}function bh(t){const{CURVE:e,curveOpts:n}=function(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy};return{CURVE:e,curveOpts:{Fp:t.Fp,Fn:mr(e.n,t.nBitLength),allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes}}}(t);return{CURVE:e,curveOpts:n,ecdsaOpts:{hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN}}}function Eh(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=bh(t);return function(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}(t,vh(yh(e,n),r,n))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const xh={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const Ah=BigInt(1),Sh=BigInt(2),Mh=(t,e)=>(t+e/Sh)/e;const _h=mr(xh.p,void 0,void 0,{sqrt:function(t){const e=xh.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,h=c*c*t%e,l=ur(h,n,e)*h%e,d=ur(l,n,e)*h%e,f=ur(d,Sh,e)*c%e,p=ur(f,i,e)*f%e,g=ur(p,o,e)*p%e,m=ur(g,a,e)*g%e,y=ur(m,u,e)*m%e,w=ur(y,a,e)*g%e,v=ur(w,n,e)*h%e,b=ur(v,s,e)*p%e,E=ur(b,r,e)*c%e,x=ur(E,Sh,e);if(!_h.eql(_h.sqr(x),t))throw new Error("Cannot find square root");return x}}),Ih=function(t,e){const n=e=>Eh({...t,hash:e});return{...n(e),create:n}}({...xh,Fp:_h,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=xh.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ah*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Mh(o*t,e),u=Mh(-r*t,e);let c=ar(t-a*n-u*i,e),h=ar(-a*r-u*o,e);const l=c>s,d=h>s;if(l&&(c=e-c),d&&(h=e-h),c>s||h>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:d,k2:h}}}},Pn);function Bh(t){try{return Jr.ExtendedPoint.fromHex(t),!0}catch{return!1}}Jr.utils.randomPrivateKey,Jr.getPublicKey;const kh=(t,e)=>Jr.sign(t,e.slice(0,32)),Th=Jr.verify,Ch=t=>Pe.isBuffer(t)?t:t instanceof Uint8Array?Pe.from(t.buffer,t.byteOffset,t.byteLength):Pe.from(t);class Oh{constructor(t){Object.assign(this,t)}encode(){return Pe.from(Bi.serialize(Rh,this))}static decode(t){return Bi.deserialize(Rh,this,t)}static decodeUnchecked(t){return Bi.deserializeUnchecked(Rh,this,t)}}const Rh=new Map;var Uh;const Nh=32;let Lh=1;class Ph extends Oh{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=di.decode(t);if(e.length!=Nh)throw new Error("Invalid public key input");this._bn=new ui(e)}else this._bn=new ui(t);if(this._bn.byteLength()>Nh)throw new Error("Invalid public key input")}}static unique(){const t=new Ph(Lh);return Lh+=1,new Ph(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return di.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Pe);if(t.length===Nh)return t;const e=Pe.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const r=Pe.concat([t.toBuffer(),Pe.from(e),n.toBuffer()]),i=fi(r);return new Ph(i)}static createProgramAddressSync(t,e){let n=Pe.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=Pe.concat([n,Ch(t)])})),n=Pe.concat([n,e.toBuffer(),Pe.from("ProgramDerivedAddress")]);const r=fi(n);if(Bh(r))throw new Error("Invalid seeds, address must fall off the curve");return new Ph(r)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,r=255;for(;0!=r;){try{const i=t.concat(Pe.from([r]));n=this.createProgramAddressSync(i,e)}catch(t){if(t instanceof TypeError)throw t;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return Bh(new Ph(t).toBytes())}}Uh=Ph,Ph.default=new Uh("11111111111111111111111111111111"),Rh.set(Ph,{kind:"struct",fields:[["_bn","u256"]]}),new Ph("BPFLoader1111111111111111111111111111111111");const zh=1232;class $h{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,n)=>{e.set(t.toBase58(),n)}));const n=t=>{const n=e.get(t.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return t.map((t=>({programIdIndex:n(t.programId),accountKeyIndexes:t.keys.map((t=>n(t.pubkey))),data:t.data})))}}const Dh=(t="publicKey")=>Ti.blob(32,t),qh=(t="signature")=>Ti.blob(64,t),jh=(t="string")=>{const e=Ti.struct([Ti.u32("length"),Ti.u32("lengthPadding"),Ti.blob(Ti.offset(Ti.u32(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(t,e)=>n(t,e).chars.toString(),i.encode=(t,e,n)=>{const i={chars:Pe.from(t,"utf8")};return r(i,e,n)},i.alloc=t=>Ti.u32().span+Ti.u32().span+Pe.from(t,"utf8").length,i};function Fh(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(127&r)<<7*n,n+=1,!(128&r))break}return e}function Kh(t,e){let n=e;for(;;){let e=127&n;if(n>>=7,0==n){t.push(e);break}e|=128,t.push(e)}}function Vh(t,e){if(!t)throw new Error(e||"Assertion failed")}class Hh{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,r=t=>{const e=t.toBase58();let r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},i=r(e);i.isSigner=!0,i.isWritable=!0;for(const e of t){r(e.programId).isInvoked=!0;for(const t of e.keys){const e=r(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new Hh(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Vh(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),n=t.filter((([,t])=>t.isSigner&&!t.isWritable)),r=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Vh(e.length>0,"Expected at least one writable signer key");const[t]=e[0];Vh(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...e.map((([t])=>new Ph(t))),...n.map((([t])=>new Ph(t))),...r.map((([t])=>new Ph(t))),...i.map((([t])=>new Ph(t)))]]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==r.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const e=new Ph(i),o=t.findIndex((t=>t.equals(e)));o>=0&&(Vh(o<256,"Max lookup table index exceeded"),n.push(o),r.push(e),this.keyMetaMap.delete(i))}return[n,r]}}const Gh="Reached end of buffer unexpectedly";function Wh(t){if(0===t.length)throw new Error(Gh);return t.shift()}function Zh(t,...e){const[n]=e;if(2===e.length?n+(e[1]??0)>t.length:n>=t.length)throw new Error(Gh);return t.splice(...e)}class Yh{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new Ph(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:di.decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new $h(this.staticAccountKeys)}static compile(t){const e=Hh.compile(t.instructions,t.payerKey),[n,r]=e.getMessageComponents(),i=new $h(r).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:di.encode(t.data)})));return new Yh({header:n,accountKeys:r,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){return t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];Kh(e,t);const n=this.instructions.map((t=>{const{accounts:e,programIdIndex:n}=t,r=Array.from(di.decode(t.data));let i=[];Kh(i,e.length);let o=[];return Kh(o,r.length),{programIdIndex:n,keyIndicesCount:Pe.from(i),keyIndices:e,dataLength:Pe.from(o),data:r}}));let r=[];Kh(r,n.length);let i=Pe.alloc(zh);Pe.from(r).copy(i);let o=r.length;n.forEach((t=>{const e=Ti.struct([Ti.u8("programIdIndex"),Ti.blob(t.keyIndicesCount.length,"keyIndicesCount"),Ti.seq(Ti.u8("keyIndex"),t.keyIndices.length,"keyIndices"),Ti.blob(t.dataLength.length,"dataLength"),Ti.seq(Ti.u8("userdatum"),t.data.length,"data")]).encode(t,i,o);o+=e})),i=i.slice(0,o);const s=Ti.struct([Ti.blob(1,"numRequiredSignatures"),Ti.blob(1,"numReadonlySignedAccounts"),Ti.blob(1,"numReadonlyUnsignedAccounts"),Ti.blob(e.length,"keyCount"),Ti.seq(Dh("key"),t,"keys"),Dh("recentBlockhash")]),a={numRequiredSignatures:Pe.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Pe.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Pe.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Pe.from(e),keys:this.accountKeys.map((t=>Ch(t.toBytes()))),recentBlockhash:di.decode(this.recentBlockhash)};let u=Pe.alloc(2048);const c=s.encode(a,u);return i.copy(u,c),u.slice(0,c+i.length)}static from(t){let e=[...t];const n=Wh(e);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=Wh(e),i=Wh(e),o=Fh(e);let s=[];for(let t=0;t<o;t++){const t=Zh(e,0,Nh);s.push(new Ph(Pe.from(t)))}const a=Zh(e,0,Nh),u=Fh(e);let c=[];for(let t=0;t<u;t++){const t=Wh(e),n=Zh(e,0,Fh(e)),r=Zh(e,0,Fh(e)),i=di.encode(Pe.from(r));c.push({programIdIndex:t,accounts:n,data:i})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:di.encode(Pe.from(a)),accountKeys:s,instructions:c};return new Yh(h)}}class Jh{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new $h(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const e=t-n,r=this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0);return e<r}if(t>=this.header.numRequiredSignatures){return t-e<n-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=t.find((t=>t.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const t of n.writableIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.writable.push(r.state.addresses[t])}for(const t of n.readonlyIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.readonly.push(r.state.addresses[t])}}return e}static compile(t){const e=Hh.compile(t.instructions,t.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const t of i){const i=e.extractTableLookup(t);if(void 0!==i){const[t,{writable:e,readonly:o}]=i;n.push(t),r.writable.push(...e),r.readonly.push(...o)}}const[o,s]=e.getMessageComponents(),a=new $h(s,r).compileInstructions(t.instructions);return new Jh({header:o,staticAccountKeys:s,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const t=Array();Kh(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();Kh(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();Kh(i,this.addressTableLookups.length);const o=Ti.struct([Ti.u8("prefix"),Ti.struct([Ti.u8("numRequiredSignatures"),Ti.u8("numReadonlySignedAccounts"),Ti.u8("numReadonlyUnsignedAccounts")],"header"),Ti.blob(t.length,"staticAccountKeysLength"),Ti.seq(Dh(),this.staticAccountKeys.length,"staticAccountKeys"),Dh("recentBlockhash"),Ti.blob(n.length,"instructionsLength"),Ti.blob(e.length,"serializedInstructions"),Ti.blob(i.length,"addressTableLookupsLength"),Ti.blob(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(zh),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:di.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(zh);for(const n of this.compiledInstructions){const r=Array();Kh(r,n.accountKeyIndexes.length);const i=Array();Kh(i,n.data.length);t+=Ti.struct([Ti.u8("programIdIndex"),Ti.blob(r.length,"encodedAccountKeyIndexesLength"),Ti.seq(Ti.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Ti.blob(i.length,"encodedDataLength"),Ti.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(zh);for(const n of this.addressTableLookups){const r=Array();Kh(r,n.writableIndexes.length);const i=Array();Kh(i,n.readonlyIndexes.length);t+=Ti.struct([Dh("accountKey"),Ti.blob(r.length,"encodedWritableIndexesLength"),Ti.seq(Ti.u8(),n.writableIndexes.length,"writableIndexes"),Ti.blob(i.length,"encodedReadonlyIndexesLength"),Ti.seq(Ti.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=Wh(e),r=127&n;Vh(n!==r,"Expected versioned message but received legacy message");Vh(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:Wh(e),numReadonlySignedAccounts:Wh(e),numReadonlyUnsignedAccounts:Wh(e)},o=[],s=Fh(e);for(let t=0;t<s;t++)o.push(new Ph(Zh(e,0,Nh)));const a=di.encode(Zh(e,0,Nh)),u=Fh(e),c=[];for(let t=0;t<u;t++){const t=Wh(e),n=Zh(e,0,Fh(e)),r=Fh(e),i=new Uint8Array(Zh(e,0,r));c.push({programIdIndex:t,accountKeyIndexes:n,data:i})}const h=Fh(e),l=[];for(let t=0;t<h;t++){const t=new Ph(Zh(e,0,Nh)),n=Zh(e,0,Fh(e)),r=Zh(e,0,Fh(e));l.push({accountKey:t,writableIndexes:n,readonlyIndexes:r})}return new Jh({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:c,addressTableLookups:l})}}const Xh={deserializeMessageVersion(t){const e=t[0],n=127&e;return n===e?"legacy":n},deserialize:t=>{const e=Xh.deserializeMessageVersion(t);if("legacy"===e)return Yh.from(t);if(0===e)return Jh.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},Qh=Pe.alloc(64).fill(0);class tl{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Pe.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class el{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new tl(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw new Error(`Transaction instruction index ${t} has undefined program id`);const r=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();r.includes(e)||r.push(e)})),r.forEach((t=>{i.push({pubkey:new Ph(t),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((t=>{const e=t.pubkey.toString(),n=o.findIndex((t=>t.pubkey.toString()===e));n>-1?(o[n].isWritable=o[n].isWritable||t.isWritable,o[n].isSigner=o[n].isSigner||t.isSigner):o.push(t)})),o.sort((function(t,e){if(t.isSigner!==e.isSigner)return t.isSigner?-1:1;if(t.isWritable!==e.isWritable)return t.isWritable?-1:1;return t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((t=>t.pubkey.equals(n)));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(t.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const h=[],l=[];o.forEach((({pubkey:t,isSigner:e,isWritable:n})=>{e?(h.push(t.toString()),a+=1,n||(u+=1)):(l.push(t.toString()),n||(c+=1))}));const d=h.concat(l),f=e.map((t=>{const{data:e,programId:n}=t;return{programIdIndex:d.indexOf(n.toString()),accounts:t.keys.map((t=>d.indexOf(t.pubkey.toString()))),data:di.encode(e)}}));return f.forEach((t=>{Vh(t.programIdIndex>=0),t.accounts.forEach((t=>Vh(t>=0)))})),new Yh({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:d,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every(((t,n)=>e[n].equals(t.publicKey))))return t}return this.signatures=e.map((t=>({signature:null,publicKey:t}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const n=t.toString();return!e.has(n)&&(e.add(n),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}this.signatures=n.map((t=>({signature:null,publicKey:t.publicKey})));const r=this._compile();this._partialSign(r,...n)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach((t=>{const e=kh(n,t.secretKey);this._addSignature(t.publicKey,Ch(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Vh(64===e.length);const n=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=Pe.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?e&&(n.missing||=[]).push(i):Th(r,t,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=this.serializeMessage();if(n){const t=this._getMessageSignednessErrors(r,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map((t=>t.toBase58())).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map((t=>t.toBase58())).join("`, `")}\`].`),new Error(e)}}return this._serialize(r)}_serialize(t){const{signatures:e}=this,n=[];Kh(n,e.length);const r=n.length+64*e.length+t.length,i=Pe.alloc(r);return Vh(e.length<256),Pe.from(n).copy(i,0),e.forEach((({signature:t},e)=>{null!==t&&(Vh(64===t.length,"signature has invalid length"),Pe.from(t).copy(i,n.length+64*e))})),t.copy(i,n.length+64*e.length),Vh(i.length<=zh,`Transaction too large: ${i.length} > 1232`),i}get keys(){return Vh(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return Vh(1===this.instructions.length),this.instructions[0].programId}get data(){return Vh(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const n=Fh(e);let r=[];for(let t=0;t<n;t++){const t=Zh(e,0,64);r.push(di.encode(Pe.from(t)))}return el.populate(Yh.from(e),r)}static populate(t,e=[]){const n=new el;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach(((e,r)=>{const i={signature:e==di.encode(Qh)?null:di.decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((e=>{const r=e.accounts.map((e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((t=>t.publicKey.toString()===r.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new tl({keys:r,programId:t.accountKeys[e.programIdIndex],data:di.decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}class nl{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)Vh(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let n=0;n<t.header.numRequiredSignatures;n++)e.push(new Uint8Array(64));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Kh(e,this.signatures.length);const n=Ti.struct([Ti.blob(e.length,"encodedSignaturesLength"),Ti.seq(qh(),this.signatures.length,"signatures"),Ti.blob(t.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},r);return r.slice(0,i)}static deserialize(t){let e=[...t];const n=[],r=Fh(e);for(let t=0;t<r;t++)n.push(new Uint8Array(Zh(e,0,64)));const i=Xh.deserialize(new Uint8Array(e));return new nl(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of t){const t=n.findIndex((t=>t.equals(r.publicKey)));Vh(t>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[t]=kh(e,r.secretKey)}}addSignature(t,e){Vh(64===e.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((e=>e.equals(t)));Vh(n>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=e}}new Ph("SysvarC1ock11111111111111111111111111111111"),new Ph("SysvarEpochSchedu1e111111111111111111111111"),new Ph("Sysvar1nstructions1111111111111111111111111"),new Ph("SysvarRecentB1ockHashes11111111111111111111"),new Ph("SysvarRent111111111111111111111111111111111"),new Ph("SysvarRewards111111111111111111111111111111"),new Ph("SysvarS1otHashes111111111111111111111111111"),new Ph("SysvarS1otHistory11111111111111111111111111"),new Ph("SysvarStakeHistory1111111111111111111111111");const rl=Ti.nu64("lamportsPerSignature");function il(t){const e=Ti.blob(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=tc();return i.decode=(t,e)=>{const r=n(t,e);return o.decode(r)},i.encode=(t,e,n)=>{const i=o.encode(t);return r(i,e,n)},i}Ti.struct([Ti.u32("version"),Ti.u32("state"),Dh("authorizedPubkey"),Dh("nonce"),Ti.struct([rl],"feeCalculator")]).span,Object.freeze({Create:{index:0,layout:Ti.struct([Ti.u32("instruction"),Ti.ns64("lamports"),Ti.ns64("space"),Dh("programId")])},Assign:{index:1,layout:Ti.struct([Ti.u32("instruction"),Dh("programId")])},Transfer:{index:2,layout:Ti.struct([Ti.u32("instruction"),il("lamports")])},CreateWithSeed:{index:3,layout:Ti.struct([Ti.u32("instruction"),Dh("base"),jh("seed"),Ti.ns64("lamports"),Ti.ns64("space"),Dh("programId")])},AdvanceNonceAccount:{index:4,layout:Ti.struct([Ti.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Ti.struct([Ti.u32("instruction"),Ti.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Ti.struct([Ti.u32("instruction"),Dh("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ti.struct([Ti.u32("instruction"),Dh("authorized")])},Allocate:{index:8,layout:Ti.struct([Ti.u32("instruction"),Ti.ns64("space")])},AllocateWithSeed:{index:9,layout:Ti.struct([Ti.u32("instruction"),Dh("base"),jh("seed"),Ti.ns64("space"),Dh("programId")])},AssignWithSeed:{index:10,layout:Ti.struct([Ti.u32("instruction"),Dh("base"),jh("seed"),Dh("programId")])},TransferWithSeed:{index:11,layout:Ti.struct([Ti.u32("instruction"),il("lamports"),jh("seed"),Dh("programId")])},UpgradeNonceAccount:{index:12,layout:Ti.struct([Ti.u32("instruction")])}}),new Ph("11111111111111111111111111111111"),new Ph("BPFLoader2111111111111111111111111111111111"),Ti.struct([Ti.u32("typeIndex"),il("deactivationSlot"),Ti.nu64("lastExtendedSlot"),Ti.u8("lastExtendedStartIndex"),Ti.u8(),Ti.seq(Dh(),Ti.offset(Ti.u8(),-1),"authority")]);const ol=_c(gc(Ph),Ec(),(t=>new Ph(t))),sl=xc([Ec(),mc("base64")]),al=_c(gc(Pe),sl,(t=>Pe.from(t[0],"base64")));function ul(t){return Sc([Ac({jsonrpc:mc("2.0"),id:Ec(),result:t}),Ac({jsonrpc:mc("2.0"),id:Ec(),error:Ac({code:Mc(),message:Ec(),data:vc(dc("any",(()=>!0)))})})])}const cl=ul(Mc());function hl(t){return _c(ul(t),cl,(e=>"error"in e?e:{...e,result:cc(e.result,t)}))}function ll(t){return hl(Ac({context:Ac({slot:wc()}),value:t}))}function dl(t){return Ac({context:Ac({slot:wc()}),value:t})}const fl=Ac({foundation:wc(),foundationTerm:wc(),initial:wc(),taper:wc(),terminal:wc()});hl(fc(yc(Ac({epoch:wc(),effectiveSlot:wc(),amount:wc(),postBalance:wc(),commission:vc(yc(wc()))}))));const pl=fc(Ac({slot:wc(),prioritizationFee:wc()})),gl=Ac({total:wc(),validator:wc(),foundation:wc(),epoch:wc()}),ml=Ac({epoch:wc(),slotIndex:wc(),slotsInEpoch:wc(),absoluteSlot:wc(),blockHeight:vc(wc()),transactionCount:vc(wc())}),yl=Ac({slotsPerEpoch:wc(),leaderScheduleSlotOffset:wc(),warmup:pc(),firstNormalEpoch:wc(),firstNormalSlot:wc()}),wl=bc(Ec(),fc(wc())),vl=yc(Sc([Ac({}),Ec()])),bl=Ac({err:vl}),El=mc("receivedSignature");Ac({"solana-core":Ec(),"feature-set":vc(wc())});const xl=Ac({program:Ec(),programId:ol,parsed:Mc()}),Al=Ac({programId:ol,accounts:fc(ol),data:Ec()});ll(Ac({err:yc(Sc([Ac({}),Ec()])),logs:yc(fc(Ec())),accounts:vc(yc(fc(yc(Ac({executable:pc(),owner:Ec(),lamports:wc(),data:fc(Ec()),rentEpoch:vc(wc())}))))),unitsConsumed:vc(wc()),returnData:vc(yc(Ac({programId:Ec(),data:xc([Ec(),mc("base64")])}))),innerInstructions:vc(yc(fc(Ac({index:wc(),instructions:fc(Sc([xl,Al]))}))))})),ll(Ac({byIdentity:bc(Ec(),fc(wc())),range:Ac({firstSlot:wc(),lastSlot:wc()})})),hl(fl),hl(gl),hl(pl),hl(ml),hl(yl),hl(wl),hl(wc()),ll(Ac({total:wc(),circulating:wc(),nonCirculating:wc(),nonCirculatingAccounts:fc(ol)}));const Sl=Ac({amount:Ec(),uiAmount:yc(wc()),decimals:wc(),uiAmountString:vc(Ec())});ll(fc(Ac({address:ol,amount:Ec(),uiAmount:yc(wc()),decimals:wc(),uiAmountString:vc(Ec())}))),ll(fc(Ac({pubkey:ol,account:Ac({executable:pc(),owner:ol,lamports:wc(),data:al,rentEpoch:wc()})})));const Ml=Ac({program:Ec(),parsed:Mc(),space:wc()});ll(fc(Ac({pubkey:ol,account:Ac({executable:pc(),owner:ol,lamports:wc(),data:Ml,rentEpoch:wc()})}))),ll(fc(Ac({lamports:wc(),address:ol})));const _l=Ac({executable:pc(),owner:ol,lamports:wc(),data:al,rentEpoch:wc()});Ac({pubkey:ol,account:_l});const Il=_c(Sc([gc(Pe),Ml]),Sc([sl,Ml]),(t=>Array.isArray(t)?cc(t,al):t)),Bl=Ac({executable:pc(),owner:ol,lamports:wc(),data:Il,rentEpoch:wc()});Ac({pubkey:ol,account:Bl}),Ac({state:Sc([mc("active"),mc("inactive"),mc("activating"),mc("deactivating")]),active:wc(),inactive:wc()}),hl(fc(Ac({signature:Ec(),slot:wc(),err:vl,memo:yc(Ec()),blockTime:vc(yc(wc()))}))),hl(fc(Ac({signature:Ec(),slot:wc(),err:vl,memo:yc(Ec()),blockTime:vc(yc(wc()))}))),Ac({subscription:wc(),result:dl(_l)});const kl=Ac({pubkey:ol,account:_l});Ac({subscription:wc(),result:dl(kl)});const Tl=Ac({parent:wc(),slot:wc(),root:wc()});Ac({subscription:wc(),result:Tl});const Cl=Sc([Ac({type:Sc([mc("firstShredReceived"),mc("completed"),mc("optimisticConfirmation"),mc("root")]),slot:wc(),timestamp:wc()}),Ac({type:mc("createdBank"),parent:wc(),slot:wc(),timestamp:wc()}),Ac({type:mc("frozen"),slot:wc(),timestamp:wc(),stats:Ac({numTransactionEntries:wc(),numSuccessfulTransactions:wc(),numFailedTransactions:wc(),maxTransactionsPerEntry:wc()})}),Ac({type:mc("dead"),slot:wc(),timestamp:wc(),err:Ec()})]);Ac({subscription:wc(),result:Cl}),Ac({subscription:wc(),result:dl(Sc([bl,El]))}),Ac({subscription:wc(),result:wc()}),Ac({pubkey:Ec(),gossip:yc(Ec()),tpu:yc(Ec()),rpc:yc(Ec()),version:yc(Ec())});const Ol=Ac({votePubkey:Ec(),nodePubkey:Ec(),activatedStake:wc(),epochVoteAccount:pc(),epochCredits:fc(xc([wc(),wc(),wc()])),commission:wc(),lastVote:wc(),rootSlot:yc(wc())});hl(Ac({current:fc(Ol),delinquent:fc(Ol)}));const Rl=Sc([mc("processed"),mc("confirmed"),mc("finalized")]),Ul=Ac({slot:wc(),confirmations:yc(wc()),err:vl,confirmationStatus:vc(Rl)});ll(fc(yc(Ul))),hl(wc());const Nl=Ac({accountKey:ol,writableIndexes:fc(wc()),readonlyIndexes:fc(wc())}),Ll=Ac({signatures:fc(Ec()),message:Ac({accountKeys:fc(Ec()),header:Ac({numRequiredSignatures:wc(),numReadonlySignedAccounts:wc(),numReadonlyUnsignedAccounts:wc()}),instructions:fc(Ac({accounts:fc(wc()),data:Ec(),programIdIndex:wc()})),recentBlockhash:Ec(),addressTableLookups:vc(fc(Nl))})}),Pl=Ac({pubkey:ol,signer:pc(),writable:pc(),source:vc(Sc([mc("transaction"),mc("lookupTable")]))}),zl=Ac({accountKeys:fc(Pl),signatures:fc(Ec())}),$l=Ac({parsed:Mc(),program:Ec(),programId:ol}),Dl=Ac({accounts:fc(ol),data:Ec(),programId:ol}),ql=_c(Sc([Dl,$l]),Sc([Ac({parsed:Mc(),program:Ec(),programId:Ec()}),Ac({accounts:fc(Ec()),data:Ec(),programId:Ec()})]),(t=>cc(t,"accounts"in t?Dl:$l))),jl=Ac({signatures:fc(Ec()),message:Ac({accountKeys:fc(Pl),instructions:fc(ql),recentBlockhash:Ec(),addressTableLookups:vc(yc(fc(Nl)))})}),Fl=Ac({accountIndex:wc(),mint:Ec(),owner:vc(Ec()),programId:vc(Ec()),uiTokenAmount:Sl}),Kl=Ac({writable:fc(ol),readonly:fc(ol)}),Vl=Ac({err:vl,fee:wc(),innerInstructions:vc(yc(fc(Ac({index:wc(),instructions:fc(Ac({accounts:fc(wc()),data:Ec(),programIdIndex:wc()}))})))),preBalances:fc(wc()),postBalances:fc(wc()),logMessages:vc(yc(fc(Ec()))),preTokenBalances:vc(yc(fc(Fl))),postTokenBalances:vc(yc(fc(Fl))),loadedAddresses:vc(Kl),computeUnitsConsumed:vc(wc()),costUnits:vc(wc())}),Hl=Ac({err:vl,fee:wc(),innerInstructions:vc(yc(fc(Ac({index:wc(),instructions:fc(ql)})))),preBalances:fc(wc()),postBalances:fc(wc()),logMessages:vc(yc(fc(Ec()))),preTokenBalances:vc(yc(fc(Fl))),postTokenBalances:vc(yc(fc(Fl))),loadedAddresses:vc(Kl),computeUnitsConsumed:vc(wc()),costUnits:vc(wc())}),Gl=Sc([mc(0),mc("legacy")]),Wl=Ac({pubkey:Ec(),lamports:wc(),postBalance:yc(wc()),rewardType:yc(Ec()),commission:vc(yc(wc()))});hl(yc(Ac({blockhash:Ec(),previousBlockhash:Ec(),parentSlot:wc(),transactions:fc(Ac({transaction:Ll,meta:yc(Vl),version:vc(Gl)})),rewards:vc(fc(Wl)),blockTime:yc(wc()),blockHeight:yc(wc())}))),hl(yc(Ac({blockhash:Ec(),previousBlockhash:Ec(),parentSlot:wc(),rewards:vc(fc(Wl)),blockTime:yc(wc()),blockHeight:yc(wc())}))),hl(yc(Ac({blockhash:Ec(),previousBlockhash:Ec(),parentSlot:wc(),transactions:fc(Ac({transaction:zl,meta:yc(Vl),version:vc(Gl)})),rewards:vc(fc(Wl)),blockTime:yc(wc()),blockHeight:yc(wc())}))),hl(yc(Ac({blockhash:Ec(),previousBlockhash:Ec(),parentSlot:wc(),transactions:fc(Ac({transaction:jl,meta:yc(Hl),version:vc(Gl)})),rewards:vc(fc(Wl)),blockTime:yc(wc()),blockHeight:yc(wc())}))),hl(yc(Ac({blockhash:Ec(),previousBlockhash:Ec(),parentSlot:wc(),transactions:fc(Ac({transaction:zl,meta:yc(Hl),version:vc(Gl)})),rewards:vc(fc(Wl)),blockTime:yc(wc()),blockHeight:yc(wc())}))),hl(yc(Ac({blockhash:Ec(),previousBlockhash:Ec(),parentSlot:wc(),rewards:vc(fc(Wl)),blockTime:yc(wc()),blockHeight:yc(wc())}))),hl(yc(Ac({blockhash:Ec(),previousBlockhash:Ec(),parentSlot:wc(),transactions:fc(Ac({transaction:Ll,meta:yc(Vl)})),rewards:vc(fc(Wl)),blockTime:yc(wc())}))),hl(yc(Ac({blockhash:Ec(),previousBlockhash:Ec(),parentSlot:wc(),signatures:fc(Ec()),blockTime:yc(wc())}))),hl(yc(Ac({slot:wc(),meta:yc(Vl),blockTime:vc(yc(wc())),transaction:Ll,version:vc(Gl)}))),hl(yc(Ac({slot:wc(),transaction:jl,meta:yc(Hl),blockTime:vc(yc(wc())),version:vc(Gl)}))),ll(Ac({blockhash:Ec(),lastValidBlockHeight:wc()})),ll(pc());hl(fc(Ac({slot:wc(),numTransactions:wc(),numSlots:wc(),samplePeriodSecs:wc()}))),ll(yc(Ac({feeCalculator:Ac({lamportsPerSignature:wc()})}))),hl(Ec()),hl(Ec());const Zl=Ac({err:vl,logs:fc(Ec()),signature:Ec()});var Yl,Jl,Xl;Ac({result:dl(Zl),subscription:wc()}),Object.freeze({CreateLookupTable:{index:0,layout:Ti.struct([Ti.u32("instruction"),il("recentSlot"),Ti.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ti.struct([Ti.u32("instruction")])},ExtendLookupTable:{index:2,layout:Ti.struct([Ti.u32("instruction"),il(),Ti.seq(Dh(),Ti.offset(Ti.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ti.struct([Ti.u32("instruction")])},CloseLookupTable:{index:4,layout:Ti.struct([Ti.u32("instruction")])}}),new Ph("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:Ti.struct([Ti.u8("instruction"),Ti.u32("units"),Ti.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Ti.struct([Ti.u8("instruction"),Ti.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Ti.struct([Ti.u8("instruction"),Ti.u32("units")])},SetComputeUnitPrice:{index:3,layout:Ti.struct([Ti.u8("instruction"),il("microLamports")])}}),new Ph("ComputeBudget111111111111111111111111111111"),Ti.struct([Ti.u8("numSignatures"),Ti.u8("padding"),Ti.u16("signatureOffset"),Ti.u16("signatureInstructionIndex"),Ti.u16("publicKeyOffset"),Ti.u16("publicKeyInstructionIndex"),Ti.u16("messageDataOffset"),Ti.u16("messageDataSize"),Ti.u16("messageInstructionIndex")]),new Ph("Ed25519SigVerify111111111111111111111111111"),Ih.utils.isValidPrivateKey,Ti.struct([Ti.u8("numSignatures"),Ti.u16("signatureOffset"),Ti.u8("signatureInstructionIndex"),Ti.u16("ethAddressOffset"),Ti.u8("ethAddressInstructionIndex"),Ti.u16("messageDataOffset"),Ti.u16("messageDataSize"),Ti.u8("messageInstructionIndex"),Ti.blob(20,"ethAddress"),Ti.blob(64,"signature"),Ti.u8("recoveryId")]),new Ph("KeccakSecp256k11111111111111111111111111111"),new Ph("StakeConfig11111111111111111111111111111111");class Ql{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}Yl=Ql,Ql.default=new Yl(0,0,Ph.default),Object.freeze({Initialize:{index:0,layout:Ti.struct([Ti.u32("instruction"),((t="authorized")=>Ti.struct([Dh("staker"),Dh("withdrawer")],t))(),((t="lockup")=>Ti.struct([Ti.ns64("unixTimestamp"),Ti.ns64("epoch"),Dh("custodian")],t))()])},Authorize:{index:1,layout:Ti.struct([Ti.u32("instruction"),Dh("newAuthorized"),Ti.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Ti.struct([Ti.u32("instruction")])},Split:{index:3,layout:Ti.struct([Ti.u32("instruction"),Ti.ns64("lamports")])},Withdraw:{index:4,layout:Ti.struct([Ti.u32("instruction"),Ti.ns64("lamports")])},Deactivate:{index:5,layout:Ti.struct([Ti.u32("instruction")])},Merge:{index:7,layout:Ti.struct([Ti.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Ti.struct([Ti.u32("instruction"),Dh("newAuthorized"),Ti.u32("stakeAuthorizationType"),jh("authoritySeed"),Dh("authorityOwner")])}}),new Ph("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:Ti.struct([Ti.u32("instruction"),((t="voteInit")=>Ti.struct([Dh("nodePubkey"),Dh("authorizedVoter"),Dh("authorizedWithdrawer"),Ti.u8("commission")],t))()])},Authorize:{index:1,layout:Ti.struct([Ti.u32("instruction"),Dh("newAuthorized"),Ti.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Ti.struct([Ti.u32("instruction"),Ti.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ti.struct([Ti.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Ti.struct([Ti.u32("instruction"),((t="voteAuthorizeWithSeedArgs")=>Ti.struct([Ti.u32("voteAuthorizationType"),Dh("currentAuthorityDerivedKeyOwnerPubkey"),jh("currentAuthorityDerivedKeySeed"),Dh("newAuthorized")],t))()])}}),new Ph("Vote111111111111111111111111111111111111111"),new Ph("Va1idator1nfo111111111111111111111111111111"),Ac({name:Ec(),website:vc(Ec()),details:vc(Ec()),iconUrl:vc(Ec()),keybaseUsername:vc(Ec())}),new Ph("Vote111111111111111111111111111111111111111"),Ti.struct([Dh("nodePubkey"),Dh("authorizedWithdrawer"),Ti.u8("commission"),Ti.nu64(),Ti.seq(Ti.struct([Ti.nu64("slot"),Ti.u32("confirmationCount")]),Ti.offset(Ti.u32(),-8),"votes"),Ti.u8("rootSlotValid"),Ti.nu64("rootSlot"),Ti.nu64(),Ti.seq(Ti.struct([Ti.nu64("epoch"),Dh("authorizedVoter")]),Ti.offset(Ti.u32(),-8),"authorizedVoters"),Ti.struct([Ti.seq(Ti.struct([Dh("authorizedPubkey"),Ti.nu64("epochOfLastAuthorizedSwitch"),Ti.nu64("targetEpoch")]),32,"buf"),Ti.nu64("idx"),Ti.u8("isEmpty")],"priorVoters"),Ti.nu64(),Ti.seq(Ti.struct([Ti.nu64("epoch"),Ti.nu64("credits"),Ti.nu64("prevCredits")]),Ti.offset(Ti.u32(),-8),"epochCredits"),Ti.struct([Ti.nu64("slot"),Ti.nu64("timestamp")],"lastTimestamp")]),function(t){t.CONNECT="connect",t.DISCONNECT="disconnect",t.ACCOUNT_CHANGED="accountChanged"}(Jl||(Jl={})),function(t){t.SOL_SIGN_IN="sol_signIn",t.SOL_CONNECT="sol_connect",t.SOL_DISCONNECT="sol_disconnect",t.SOL_GET_ACCOUNT="sol_getAccount",t.SOL_SIGN_MESSAGE="sol_signMessage",t.SOL_SIGN_TRANSACTION="sol_signTransaction",t.SOL_SIGN_AND_SEND_TRANSACTION="sol_signAndSendTransaction",t.SOL_SIGN_ALL_TRANSACTIONS="sol_signAllTransactions"}(Xl||(Xl={}));const td="undefined"!=typeof Buffer;function ed(t){if(0===t.length)return"";if(t.length<=1024)return btoa(String.fromCharCode(...t));let e="";for(let n=0;n<t.length;n+=1024){const r=t.subarray(n,n+1024);e+=String.fromCharCode(...r)}return btoa(e)}function nd(t){if(null==t)throw new Error("Data cannot be null or undefined");try{if(td)return"string"==typeof t?Buffer.from(t,"utf8").toString("base64"):Buffer.from(t).toString("base64");if("string"==typeof t){if("undefined"!=typeof TextEncoder){const e=new TextEncoder;return ed(e.encode(t))}return btoa(unescape(encodeURIComponent(t)))}return ed(t)}catch(t){throw new Error(`Failed to encode data to base64: ${t instanceof Error?t.message:"Unknown error"}`)}}function rd(t){if(!t||"string"!=typeof t)throw new Error("Base64 string cannot be null, undefined, or non-string");if(!/^[A-Za-z0-9+/]*={0,2}$/.test(e=t)||e.length%4!=0)throw new Error("Invalid base64 string format");var e;try{return td?new Uint8Array(Buffer.from(t,"base64")):function(t){const e=atob(t),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(t)}catch(t){throw new Error(`Failed to decode base64 string: ${t instanceof Error?t.message:"Unknown error"}`)}}function id(t){if("function"==typeof t?.serialize){return nd(t.serialize({requireAllSignatures:!1}))}if("string"==typeof t){return nd(rd(t))}throw new Error("Unsupported Solana transaction format")}function od(t){const e=rd(t);try{const t=nl.deserialize(e);return"legacy"!==t?.version?t:el.from(e)}catch(t){return el.from(e)}}class sd extends A{isRonin=!0;isReady=!1;isConnected;publicKey;shouldWaitForReady=!1;constructor(t=!1){super(),this.isConnected=!0,this.shouldWaitForReady=t,this.getAccount().then((t=>{try{this.publicKey=new Ph(t)}catch(t){this.publicKey=null}})),this.request=this.request.bind(this),this.connect=this.connect.bind(this),this.signIn=this.signIn.bind(this),this.disconnect=this.disconnect.bind(this),this.getAccount=this.getAccount.bind(this),this.signMessage=this.signMessage.bind(this),this.signTransaction=this.signTransaction.bind(this),this.signAllTransactions=this.signAllTransactions.bind(this),this.signAndSendTransaction=this.signAndSendTransaction.bind(this),this.initInpageEventListener()}initInpageEventListener(){window.addEventListener("message",(t=>{const e=a(t);switch(e?.type){case y.ACCOUNTS_CHANGED:e.blockchain===g.SOLANA&&this.handleAccountChanged(e.data);break;case y.CONTENT_SCRIPT_READY:this.isReady=!0}}))}async waitForReady(){if(!this.shouldWaitForReady)return;let t=0;for(;!this.isReady&&t<2e3;)await u(50),t+=50;this.isReady=!0}dispatchEvent(t){const e=new CustomEvent(v.JSON_RPC,{detail:{payload:t}});window.dispatchEvent(e)}request(t){return new Promise((async(e,n)=>{const{method:r}=t;if(!r||!r.length||"string"!=typeof r)return void n(c(me()));await this.waitForReady();const i=s();this.dispatchEvent({...t,id:i,jsonrpc:"2.0"});const o=t=>{const r=a(t);if(!r)return;const{type:s,data:u}=r;s===y.JSON_RPC_RESPONSE&&u.id===i&&(u.error?n(u.error):(window.removeEventListener("message",o),e(u.result)))};window.addEventListener("message",o)}))}async connect(t){const e=await this.request({method:Xl.SOL_CONNECT,params:[t]}),n=new Ph(e);return this.publicKey=n,{publicKey:n}}async disconnect(){return this.request({method:Xl.SOL_DISCONNECT})}async getAccount(){return this.request({method:Xl.SOL_GET_ACCOUNT})}async signMessage(t,e){const n=(new TextDecoder).decode(t),r=await this.request({method:Xl.SOL_SIGN_MESSAGE,params:[{message:n,display:e}]});return{signature:rd(r.signature),address:new Ph(r.address)}}async signIn(t){return this.request({method:Xl.SOL_SIGN_IN,params:[t]})}async signAndSendTransaction(t){return this.request({method:Xl.SOL_SIGN_AND_SEND_TRANSACTION,params:[id(t)]})}async signTransaction(t){return od(await this.request({method:Xl.SOL_SIGN_TRANSACTION,params:[id(t)]}))}async signAllTransactions(t){return(await this.request({method:Xl.SOL_SIGN_ALL_TRANSACTIONS,params:[t.map(id)]})).map(od)}handleConnect(){this.isConnected||(this.isConnected=!0,this.emit(Jl.CONNECT))}handleDisconnect(){this.isConnected&&(this.isConnected=!1,this.publicKey=null,this.emit(Jl.DISCONNECT))}handleAccountChanged(t){if(0===t.length)return this.publicKey=null,void this.emit(Jl.ACCOUNT_CHANGED,null);try{this.publicKey=new Ph(t[0]),this.emit(Jl.ACCOUNT_CHANGED,this.publicKey),this.isConnected||this.handleConnect()}catch(t){this.handleDisconnect(),this.emit(Jl.ACCOUNT_CHANGED,null)}}}const ad="solana:signAndSendTransaction",ud="solana:signIn",cd="solana:signMessage",hd="solana:signTransaction",ld="solana:signAndSendAllTransactions",dd=["solana:mainnet","solana:devnet","solana:testnet"],fd=[ad,hd,cd,ud],pd="standard:connect",gd="standard:disconnect",md="standard:events";var yd,wd,vd,bd;var Ed=function(){if(bd)return vd;bd=1;const t=(wd||(wd=1,yd=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,i=0;t[n]===a;)r++,n++;for(var o=(t.length-n)*u+1>>>0,c=new Uint8Array(o);t[n];){var h=t.charCodeAt(n);if(h>255)return;var l=e[h];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=s*c[f]>>>0,c[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===c[p];)p++;for(var g=new Uint8Array(r+(o-p)),m=r;p!==o;)g[m++]=c[p++];return g}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,i=0,o=e.length;i!==o&&0===e[i];)i++,n++;for(var u=(o-i)*c+1>>>0,h=new Uint8Array(u);i!==o;){for(var l=e[i],d=0,f=u-1;(0!==l||d<r)&&-1!==f;f--,d++)l+=256*h[f]>>>0,h[f]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=u-r;p!==u&&0===h[p];)p++;for(var g=a.repeat(n);p<u;++p)g+=t.charAt(h[p]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}),yd);return vd=t("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}(),xd=te(Ed);const Ad=ve();class Sd{version="1.0.0";name=Ad.name;icon=Ad.icon;chains=dd;listeners={};provider;accounts=[];constructor(t){this.provider=t,this.provider.on(Jl.CONNECT,(()=>this._connect({silent:!0}))),this.provider.on(Jl.DISCONNECT,(()=>this._disconnect())),this.provider.on(Jl.ACCOUNT_CHANGED,this._accountChanged)}_emit(t,...e){this.listeners[t]?.forEach((t=>t.apply(null,e)))}_off(t,e){this.listeners[t]=this.listeners[t]?.filter((t=>e!==t))}_on=(t,e)=>(this.listeners[t]?.push(e)||(this.listeners[t]=[e]),()=>this._off(t,e));_connect=async t=>{const{publicKey:e}=await this.provider.connect(t?.silent?{onlyIfTrusted:!0}:void 0);if(e){const t=e.toBase58(),n=this.accounts.findIndex((e=>e.address===t));-1!==n&&this.accounts.splice(n,1);const r={address:t,publicKey:e.toBytes(),features:fd,chains:this.chains,label:this.name,icon:this.icon};this.accounts.unshift(r),this._emit("change",{accounts:this.accounts})}return{accounts:this.accounts}};_accountChanged=t=>{t?this._connect({silent:!0}):(this.accounts=[],this._emit("change",{accounts:this.accounts}))};_disconnect=async()=>{await this.provider.disconnect(),this.accounts=[],this._emit("change",{accounts:this.accounts})};_signAndSendTransaction=async(...t)=>{const e=[];for(const n of t){const{transaction:t}=n,r=od(nd(t)),i=await this.provider.signAndSendTransaction(r);e.push({signature:xd.decode(i.signature)})}return e};_signTransaction=async(...t)=>{const e=[];for(const n of t){const t=od(nd(n?.transaction)),r=await this.provider.signTransaction(t);e.push({signedTransaction:r.serialize()})}return e};_signAndSendAllTransactions=async t=>{const e=[];for(const n of t){const t=od(nd(n.transaction)),r=await this.provider.signAndSendTransaction(t),i=xd.decode(r.signature);e.push({status:"fulfilled",value:{signature:i}})}return e};_signMessage=async(...t)=>{const e=[];for(const n of t){const{message:t}=n,r=await this.provider.signMessage(t);e.push({signedMessage:t,signature:r.signature})}return e};_signIn=async(...t)=>{const e=[];for(const n of t){const t=await this.provider.signIn(n),r=new Ph(t.account.address);e.push({account:{address:r.toBase58(),publicKey:r.toBytes(),features:fd,chains:this.chains,label:this.name,icon:this.icon},signedMessage:t.signedMessage,signature:t.signature})}return e};features={[pd]:{version:"1.0.0",connect:this._connect},[gd]:{version:"1.0.0",disconnect:this._disconnect},[md]:{version:"1.0.0",on:this._on},[ad]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:this._signAndSendTransaction},[hd]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:this._signTransaction},[cd]:{version:"1.0.0",signMessage:this._signMessage},[ud]:{version:"1.0.0",signIn:this._signIn},[ld]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendAllTransactions:this._signAndSendAllTransactions}}}if(function(){const{doctype:t}=window.document;return!t||"html"===t.name}()&&function(){const t=[/\.xml$/u,/\.pdf$/u],e=window.location.pathname;for(let n=0;n<t.length;n++)if(t[n].test(e))return!1;return!0}()&&function(){const t=document.documentElement.nodeName;return!t||"html"===t.toLowerCase()}()&&!function(){const t=["execution.consensys.io","execution.metamask.io","uscourts.gov","dropbox.com","webbyawards.com","adyen.com","gravityforms.com","harbourair.com","ani.gamer.com.tw","blueskybooking.com","sharefile.com","battle.net"],e=["cdn.shopify.com/s/javascripts/tricorder/xtld-read-only-frame.html"],{hostname:n,pathname:r}=window.location,i=t=>t.endsWith("/")?t.slice(0,-1):t;return t.some((t=>t===n||n.endsWith(`.${t}`)))||e.some((t=>i(t)===i(n+r)))}()){const t=new EventTarget,e=new be(t,!0),n=new sd(!0),r=new Sd(n);!function(t){(function(t){if(!h(t)||!h(t.info)||!h(t.provider))return!1;const{info:e}=t;return"string"==typeof e.uuid&&d.test(e.uuid)&&"string"==typeof e.name&&Boolean(e.name)&&"string"==typeof e.icon&&e.icon.startsWith("data:image")&&"string"==typeof e.rdns&&f.test(e.rdns)})(t)||p("Invalid EIP-6963 ProviderDetail object.");const{info:e,provider:n}=t,r=()=>{window.dispatchEvent(new CustomEvent(l.Announce,{detail:Object.freeze({info:{...e},provider:n})}))};window.addEventListener(l.Request,(t=>{(function(t){return t instanceof Event&&t.type===l.Request})(t)||p(`Invalid EIP-6963 RequestProviderEvent object received from ${l.Request} event.`),r()})),r()}({info:ve(),provider:e}),function(t){const e=({register:e})=>e(t);try{window.dispatchEvent(new Ee(e))}catch(t){console.error("wallet-standard:register-wallet event could not be dispatched\n",t)}try{window.addEventListener("wallet-standard:app-ready",(({detail:t})=>e(t)))}catch(t){console.error("wallet-standard:app-ready event listener could not be added\n",t)}}(r);try{Object.defineProperties(window,{ronin:{get:()=>({roninEvent:t,provider:e,ethereum:e,solana:n}),configurable:!1},solana:{get:()=>({...window.ronin.solana,isSolana:!0}),configurable:!1},ethereum:{get:()=>({...window.ronin.provider,isMetaMask:!0}),configurable:!1},web3:{get:()=>({currentProvider:{...window.ronin.provider,isMetaMask:!0}}),configurable:!1}})}catch(t){if(t instanceof TypeError&&!t.message.includes("Cannot redefine property"))throw t}}}));
