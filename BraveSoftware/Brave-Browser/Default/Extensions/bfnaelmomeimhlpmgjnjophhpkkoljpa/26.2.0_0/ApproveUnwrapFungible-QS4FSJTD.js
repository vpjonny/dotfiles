import{a as ce}from"./chunk-IS32WFQV.js";import{a as pe}from"./chunk-KJDLSWJC.js";import"./chunk-Z6STPKGK.js";import{u as se,za as me}from"./chunk-VRODSUQC.js";import"./chunk-27WMCVHA.js";import"./chunk-TRIYFLMU.js";import"./chunk-J4XA5VC7.js";import"./chunk-DQWLAPQA.js";import{s as ie}from"./chunk-IUNAS73H.js";import"./chunk-2LKSWQ7Y.js";import"./chunk-H4HL2VJ5.js";import"./chunk-QKX6QMZS.js";import"./chunk-5ENLJTSW.js";import"./chunk-ZMW27YAP.js";import"./chunk-QW5UCU4W.js";import"./chunk-X6Z5FRDC.js";import"./chunk-X4RRAJ67.js";import"./chunk-FFV6ZRAV.js";import"./chunk-END3S5WW.js";import{a as h}from"./chunk-OABENO2E.js";import{b as ae,g as re}from"./chunk-VQU4JTIB.js";import"./chunk-ZMU6KWZP.js";import"./chunk-YSZRDBUS.js";import"./chunk-UE7TCZBL.js";import"./chunk-PFY5DZIQ.js";import"./chunk-L4NFABLQ.js";import"./chunk-P3JRRYSB.js";import"./chunk-GUZFMB3D.js";import"./chunk-N3C6FBKY.js";import"./chunk-CTKHELYY.js";import"./chunk-2L6X42XL.js";import"./chunk-2P4HZW3J.js";import"./chunk-OR3XQXDJ.js";import{d as oe}from"./chunk-HLSJ3VIL.js";import{c as te,db as ne,m as S}from"./chunk-57EVB5FV.js";import"./chunk-44HH5QGP.js";import"./chunk-WVRYN4MY.js";import"./chunk-2LSP5LV2.js";import"./chunk-HLWWEHZK.js";import{D as W,F as X,G as Y,H as Z,Xa as _,ab as ee,p as Q}from"./chunk-5JGASDWN.js";import"./chunk-ZDPKBPMV.js";import"./chunk-DYQ7BPYX.js";import"./chunk-NMTPXQAP.js";import"./chunk-SIWEHH3L.js";import"./chunk-N6SSDFMX.js";import"./chunk-YJCG6GWC.js";import{mc as j,vb as O}from"./chunk-W7IWPUIQ.js";import{_ as K,g as J}from"./chunk-4SCKDS7G.js";import{dc as k,fc as L,ra as $}from"./chunk-DJGGVTSJ.js";import{u as I}from"./chunk-FATTDLFQ.js";import"./chunk-2RWUL32J.js";import"./chunk-RWWUDPHX.js";import{Ca as c,Z as z,Za as q,a as ke,b as H,l as B}from"./chunk-LQZGQEJ6.js";import"./chunk-FNC6PQ53.js";import"./chunk-5QQLABHI.js";import{a as f,g as E,i as R,n as V}from"./chunk-WKJYWAXG.js";R();V();var n=E(ke(),1);var o=E(H(),1),Ue=S(h).attrs({align:"center"})`
  height: 100%;
`,ve=S(h).attrs({align:"center",justify:"space-between"})`
  height: 100%;
`,xe=S(h).attrs({align:"center",paddingTop:"25px"})`
  border-radius: 6px;
`,De=S(ne).attrs({size:38,weight:500,lineHeight:46})`
  margin-top: 18px;
`,Ae=f((a,e)=>{let{status:p,data:i}=W({networkID:a}),[t,l]=(0,n.useState)(J.standard),{popDetailView:r,pushDetailView:m}=ae(),y;return p!=="error"&&i&&t&&e&&(y=f(()=>{m((0,o.jsx)(pe,{onSelectTransactionSpeed:l,selectedTransactionSpeed:t,networkID:a,transactionUnitAmount:e,closeModal:r}))},"openGasSettings")),{transactionSpeed:t,openGasSettings:y}},"useUnwrapGasSettings"),Ce=f(a=>{let{t:e}=z(),p=te(),{handleHideModalVisibility:i}=me(),{chain:t,tokenAddress:l,balance:r,symbol:m,logoUri:y,walletAddress:de}=a.data,s=t.id,U=k.getNetworkName(s),{data:le}=O(),ue=le?.addresses??[],{data:u}=j({networkID:s,address:de}),g=(0,n.useMemo)(()=>({pageHeaderText:e("unwrapFungibleConfirmSwap"),swapTitle:e("unwrapFungibleConfirmSwapTitle",{fromToken:m,toToken:t.symbol}),networkFeeText:e("sendFungibleSummaryNetworkFee"),networkFeeTextDescription:e("networkFeesTooltipDescription",{chainName:U}),confirmSwap:e("commandSwap"),cancelSwap:e("commandClose")}),[t.symbol,U,m,e]),{data:T,isPending:ge}=Q({amount:r,caip19:{chainId:s,resourceType:L.address,address:l??""},owner:u?.address??""}),d=(0,n.useMemo)(()=>T&&u?I.parse({to:T.to,from:u.address??"",data:T.data}):void 0,[T,u]),v=(0,n.useMemo)(()=>d?{type:$.EVM,networkID:s,unsignedTransaction:d}:void 0,[s,d]),{data:we}=X(v),{transactionSpeed:fe,openGasSettings:x}=Ae(s,we),{data:w,isFetched:D,isError:A,isSuccess:Se}=Y({networkID:s,transactionSpeed:fe,multichainTransaction:v,queryOptions:{refetchInterval:!1}}),{data:C}=Z(s,w),ye=C?.gasEstimationPriceUSD?e("gasUpTo",{amount:C?.gasEstimationPriceUSD}):void 0,Te=K(w),F=ye??Te??"",{hasSufficientFunds:P,nativeTokenSymbol:N}=_({networkID:s,addressType:u?.addressType,gasEstimation:w,transactionValue:new B(r??"0",16)}),G=D&&!Se,b=(0,n.useMemo)(()=>A?e("transactionGasLimitError"):G?e("transactionGasEstimationError"):P==="insufficient"?e("transactionNotEnoughNative",{nativeTokenSymbol:N}):"",[A,G,P,e,N]),be=(0,n.useMemo)(()=>[{label:e("commandSend"),value:`+${r} ${t.symbol}`,color:c.colors.legacy.spotPositive},{label:e("commandReceive"),value:`-${r} ${m}`,color:c.colors.legacy.spotNegative},{label:g.networkFeeText,onClick:x,value:F.length>0?F:(0,o.jsx)(ie,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:c.colors.legacy.borderDiminished}),color:b?c.colors.legacy.spotNegative:c.colors.legacy.textBase,leftSubtext:b,subtextColor:c.colors.legacy.spotNegative,tooltipContent:g.networkFeeTextDescription}],[r,t.symbol,g.networkFeeText,g.networkFeeTextDescription,F,b,x,m,e]),{mutateAsync:M,isPending:he}=ee(ue),Fe=(0,n.useCallback)(()=>{M({fungible:a,unsignedUnwrapTx:d,gasEstimation:w}),i("approveUnwrapFungible"),p("/notifications")},[a,w,i,p,d,M]),Ee=(0,n.useCallback)(()=>{i("approveUnwrapFungible")},[i]);return{isLoading:ge||!D,isSwapDisabled:he||!d||!!b,logoUri:y,summaryRows:be,i18nStrings:g,onConfirmSwap:Fe,onDenySwap:Ee}},"useApproveUnwrapEVMFungibleProps"),Pe=f(({fungible:a})=>{if(k.isEthereumNetworkID(a.data.chain.id)){let e=Ce(a);return(0,o.jsx)(Ne,{...e})}throw new Error(`Unwrap fungible not supported for chain: ${a.data.chain.id}`)},"ApproveUnwrapFungible"),rt=Pe,Ne=n.default.memo(({isLoading:a,isSwapDisabled:e,logoUri:p,summaryRows:i,i18nStrings:t,onConfirmSwap:l,onDenySwap:r})=>(0,o.jsxs)(Ue,{children:[(0,o.jsx)(re,{children:t.pageHeaderText}),(0,o.jsxs)(ve,{children:[(0,o.jsxs)(xe,{children:[(0,o.jsx)(se,{image:{type:"icon",preset:"swap"},size:64,badge:{src:p??""}}),(0,o.jsx)(De,{children:t.swapTitle})]}),(0,o.jsx)(ce,{rows:i,borderRadius:"6px 6px 6px 6px",padding:16,fontSize:16}),(0,o.jsx)(q,{mode:"wait",initial:!1,children:(0,o.jsx)(oe,{primaryText:t.confirmSwap,secondaryText:t.cancelSwap,primaryDisabled:a||e,onPrimaryClicked:l,onSecondaryClicked:r})})]})]}));export{rt as default};
//# sourceMappingURL=ApproveUnwrapFungible-QS4FSJTD.js.map
