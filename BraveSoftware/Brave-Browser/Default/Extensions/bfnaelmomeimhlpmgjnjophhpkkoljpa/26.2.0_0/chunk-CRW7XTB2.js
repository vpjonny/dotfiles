import{b as _e,c as Gt,d as Oe,e as Jt}from"./chunk-VBHMVN5K.js";import{a as Zt,b as eo,c as to}from"./chunk-6SIPGQ4U.js";import{a as $,c as N,d as j,e as Xt,g as Pe}from"./chunk-R5LZKDR7.js";import{d as Dt,e as Et}from"./chunk-5U2TK6YQ.js";import{a as Qt,c as qt}from"./chunk-U3DKAKWZ.js";import{E as fe,F as Nt,k as Te,o as Fe,s as jt}from"./chunk-VRODSUQC.js";import{s as Yt}from"./chunk-IUNAS73H.js";import{a as Q}from"./chunk-QKX6QMZS.js";import{b as Ce,g as Ut}from"./chunk-FFV6ZRAV.js";import{b as E,d as Ot,h as P}from"./chunk-VQU4JTIB.js";import{a as Kt}from"./chunk-ZMU6KWZP.js";import{a as Lt}from"./chunk-YFUUBSYD.js";import{a as oo,b as ro}from"./chunk-XIVHOO7I.js";import{l as zt,q as Vt,r as $t}from"./chunk-PFY5DZIQ.js";import{w as ut}from"./chunk-GUZFMB3D.js";import{h as Tt,i as Ct,j as Pt}from"./chunk-N3C6FBKY.js";import{c as _t,d as V}from"./chunk-HLSJ3VIL.js";import{F as Mt,H as le,K as Ht,P as Ft,db as C,m as y,u as He}from"./chunk-57EVB5FV.js";import{e as Rt,h as It,k as Bt}from"./chunk-3H3VDE2B.js";import{l as vt,m as bt,n as kt}from"./chunk-EAEMLYNM.js";import{_b as Wt}from"./chunk-44HH5QGP.js";import{t as dt}from"./chunk-HLWWEHZK.js";import{a as At,b as X}from"./chunk-NMTPXQAP.js";import{Ja as xt,T as gt,U as St,X as Ae,Y as ht,ca as yt,da as wt,l as ft,n as Me}from"./chunk-N6SSDFMX.js";import{a as Fo}from"./chunk-YJCG6GWC.js";import{Fa as nt,lb as ce,mb as st,n as L,o as M,pc as ct,qb as G,rc as Be,yb as at}from"./chunk-W7IWPUIQ.js";import{$c as Je,H as ye,I as K,Ke as ot,L as Y,de as Ze,ee as et,jf as rt,kf as we,of as We,vd as Xe}from"./chunk-DJGGVTSJ.js";import{b as it}from"./chunk-2RWUL32J.js";import{a as tt}from"./chunk-RWWUDPHX.js";import{$b as O,C as qe,Ca as S,Ga as lt,H as Ge,Na as J,Ta as Le,Ua as xe,Z as x,Za as mt,a as B,b as w,bb as pt}from"./chunk-LQZGQEJ6.js";import{a as s,g as m,i,j as T,m as Buffer,n as a}from"./chunk-WKJYWAXG.js";i();a();var Z=m(w());var ne=m(B());i();a();var no="_15xlg4e0 _48j31au9 _48j31av7 _48j31ax3 _48j31aw5 _48j31ar2 _48j31apw _48j31as8 _48j31aoq _48j31ax8 _48j31ax6 _48j31axa _48j31ax4 _48j31a3np _48j31a37v _48j31a2c7 _48j31a2s1 _48j31axc _48j31a187 _48j31a125 _48j31a1b1 _48j31a1cn _48j31a1kg _48j31a1mb _48j31a1mo _48j31a1t1 _48j31a1xm _48j31a20z _48j31a47p _48j31a43k",so="_15xlg4e1 _48j31axd";var je=ne.default.memo(e=>{let t=(0,ne.useCallback)(o=>Y.captureError(o,K.Account),[]);return(0,Z.jsx)(Le,{...e,onError:t})}),_o=ne.default.memo(({accountName:e,accountIndex:t,accountIcon:o,onPress:r,onClick:n=r})=>{let l=(0,ne.useCallback)(p=>Y.captureError(p,K.Account),[]);return(0,Z.jsxs)("div",{className:so,children:[(0,Z.jsx)(Le,{accountIndex:t,accountName:e,accountIcon:o,size:96,onError:l}),(0,Z.jsx)("button",{type:"button",className:no,"data-testid":"edit-avatar-icon",onClick:n,children:(0,Z.jsx)(lt.Edit,{size:20})})]})}),Oo=ne.default.memo(({children:e,withMargin:t})=>(0,Z.jsx)(J,{direction:"row",alignItems:"center",justifyContent:"center",marginX:"auto",marginY:t?20:"auto",children:e}));i();a();i();a();var ze=m(w(),1),io=s(({value:e,onChange:t})=>{let{t:o}=x();return(0,ze.jsx)(jo,{children:(0,ze.jsx)(Ut,{placeholder:o("assetListSearch"),value:e,onChange:r=>{"value"in r.target&&typeof r.target.value=="string"&&t(r.target.value)},showClearIcon:!!e,onClear:()=>{t("")}})})},"SettingsSearchHeader"),jo=y.div`
  padding: 14px 0 14px;
  background: ${S.colors.legacy.areaBase};
  position: relative;
  border-bottom: none;

  &:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: -20px;
    width: calc(100% + 40px);
    border-bottom: 1px solid ${S.colors.legacy.borderBase};
  }
`;i();a();i();a();var zo=m(B());var ao=Je({minutes:5}),co=s((e,t)=>Xe({enabled:e!==null&&t,gcTime:ao,staleTime:ao,refetchInterval:!1,refetchOnMount:!1,...Jt(e)}),"useFetchShortcuts");i();a();var po=m(B());i();a();function Vo(e,t){let o="type"in e&&e.type==="fungible"?e:null;if(!o)return!1;let r=o.platform==="all"||o.platform===t.platform,n=o.limitToTokenAddresses&&o.limitToTokenAddresses.length>0;return r&&!n?!0:r&&n?o.limitToTokenAddresses.some(l=>l===t.tokenAddress):!1}s(Vo,"filterFungible");function $o(e,t){let o=!("type"in e)||e.type==="collectible"?e:null;if(!o)return!1;let r=o.platform==="all"||o.platform===t.platform,n=o.limitToCollections&&o.limitToCollections.length>0;return r&&!n?!0:r&&n?o.limitToCollections.some(l=>l===t.collectionId):!1}s($o,"filterCollectible");var lo=s((e,t)=>e?e.filter(o=>t.type==="fungible"?Vo(o,t):$o(o,t)).slice(0,20):[],"filter");i();a();var mo=s(({input:e,shortcuts:t})=>{if(t.length===0)return[];let o=JSON.stringify(t);return e.collectionId&&(o=o.replaceAll("{{collectionId}}",e.collectionId)),e.tokenId&&(o=o.replaceAll("{{tokenId}}",e.tokenId)),e.ownerAddress&&(o=o.replaceAll("{{ownerAddress}}",e.ownerAddress)),JSON.parse(o)},"parse");var uo=s((e,t,o)=>(0,po.useMemo)(()=>{let r=mo({input:t,shortcuts:e});return lo(r,o)},[e,t,o]),"useMappedShortcuts");function ge(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="fungible")}s(ge,"isFungible");function No(e){return ge(e)?_e(e.externalUrl):_e(e?.externalUrl)}s(No,"getUrl");function Uo(e){return ge(e)?!1:e?.collection.isSpam??!0}s(Uo,"isSpam");function Ko(e,t){let o=No(e),r=Gt(o)&&!!o&&!Uo(e)&&t,{data:n,isPending:l}=co(r&&o?new URL(o):null,t),p=ge(e)?"":Yo(e)??"",c=ge(e)?e.tokenAddress:e?.id??"",g=Ge?"mobile":"desktop",k=ge(e)?{platform:g,tokenAddress:c,type:"fungible"}:{platform:g,collectionId:p,type:"collectible"},u=uo(n??[],{collectionId:p,tokenId:c,ownerAddress:e?.owner},k);return{isLoading:!e||l&&r,shortcuts:r?u:[]}}s(Ko,"useShortcuts");var Yo=s(e=>{if(e?.chainData){if(bt(e.chainData))return e.chainData.contract;if(vt(e.chainData))return e.collection.id;if(kt(e.chainData))return e.chainData.firstCreatedInscriptionId}},"getCollectionId");i();a();i();a();var Re=m(B()),fo=m(Fo());var Ve=new At,go=s(({beforeReset:e}={})=>{let{mutateAsync:t}=Dt(),{mutateAsync:o}=Et(),[r,n]=(0,Re.useState)("idle"),l=r==="resetting",p=(0,Re.useCallback)(async()=>{await e?.(),n("resetting"),X.capture("resetApp");let c=await Ve.get(Me.ApiEnvironment);await Ve.clear(),ro.clear(),c&&await Ve.set(Me.ApiEnvironment,c),await Bt.logOut(),await zt(),await t(!0),await o(!0),await Rt(),fo.default.runtime.reload()},[e,o,t]);return{isResetting:l,handleResetApp:p}},"useResetApp");i();a();var R=m(B(),1);i();a();i();a();var se=m(w(),1),ve=s(({onSuccess:e,type:t})=>{let{t:o}=x(),r=t===L.PrivateKey,n=o(r?"exportSecretShowPrivateKey":"exportSecretShowSecretRecoveryPhrase");return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(P,{shouldWrap:!0,children:n}),(0,se.jsx)(Fe,{onSuccess:e,type:t})]})},"SettingsExportSecretWarning");i();a();var pe=m(B(),1);i();a();var So=m(B(),1);var ie=m(w(),1),ho=So.default.memo(({indexes:e,wordlist:t})=>(0,ie.jsx)(Go,{children:e.length&&t.length?e.map((o,r)=>(0,ie.jsxs)(Qo,{children:[(0,ie.jsx)(Jo,{children:`${r+1}.`}),(0,ie.jsx)(Xo,{"data-testid":`secret-recovery-phrase-word-input-${r}`,readOnly:!0,autoComplete:"off",autoCorrect:"off",spellCheck:!1,value:t[o],pattern:"[A-Za-z\\s]+"})]},r)):Array.from({length:e?e.length:12},(o,r)=>(0,ie.jsx)(qo,{},r))})),Qo=y(Q).attrs({align:"center",justify:"center"})`
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
  color: ${S.colors.legacy.textBase};
  background: ${S.colors.legacy.areaAccent};
  border: 1px solid ${S.colors.legacy.borderDiminished};
  border-radius: 6px;
  align-self: center;
  height: 41px;
`,qo=y(Yt).attrs({backgroundColor:S.colors.legacy.borderBase,borderRadius:"6px",height:"41px"})``,Go=y.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  row-gap: 10px;
  column-gap: 4.5px;
  width: 100%;
`,Jo=y(C).attrs({size:14,weight:400,color:S.colors.legacy.textDiminished})`
  padding-left: 8px;
  padding-right: 2px;
`,Xo=y.input`
  color: ${S.colors.legacy.textBase};
  background: none;
  border: none;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  padding: 0;
`;i();a();var me=m(w(),1),yo=s(({type:e})=>{let{t}=x(),o=e===L.PrivateKey?t("exportSecretPrivateKey"):t("exportSecretRecoveryPhrase");return(0,me.jsx)(Zo,{"data-testid":`warning-island-${e}`,children:(0,me.jsx)(jt,{color:S.colors.legacy.spotNegative,title:(0,me.jsxs)(dt,{i18nKey:"exportSecretWarningPrimaryInterpolated",values:{secretNameText:o},children:["Do ",(0,me.jsx)("u",{children:"not"})," share your ",o,"!"]}),description:t("exportSecretWarningSecondaryInterpolated",{secretNameText:o})})})},"WarningIsland"),Zo=y.div`
  margin-bottom: 20px;
`;var z=m(w(),1),be=s(({accountIdentifier:e,password:t,onDone:o})=>{let{t:r}=x(),{popDetailView:n}=E(),[{indexes:l,wordlist:p},c]=(0,pe.useState)({indexes:[],wordlist:[]}),{data:g}=st(e),k=(0,pe.useCallback)(()=>{n(),n(),n()},[n]);return(0,pe.useEffect)(()=>{(async()=>{if((g?.type===M.Seed||g?.type===M.Seedless)&&g?.seedIdentifier)try{let u=await t.foldAsync(de=>Wt(Buffer.from(de).toString("utf-8"),g.seedIdentifier));if(!u)throw new Error("Could not get mnemonic");let v=await Lt(),A=u.fold(v.fromEntropy),b=Array.from(await A.getIndexes());c({indexes:b,wordlist:v.wordlist}),Y.addBreadcrumb(K.Account,`\u2705 Exported S*ed for Account: ${e}`,ye.Info),X.capture("exportMnemonic")}catch{throw Y.addBreadcrumb(K.Account,`\u{1F6AB} Failed to Export S*ed for Account: "${e}", account: "${JSON.stringify(g)}"`,ye.Error),new Error("Could not get mnemonic")}else Y.addBreadcrumb(K.Account,`\u{1F6AB} Failed to Export S*ed: Account: "${JSON.stringify(g)}"`,ye.Error)})()},[g,e,t]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(P,{shouldWrap:!0,children:r("exportSecretYourSecretRecoveryPhrase")}),(0,z.jsx)($,{children:(0,z.jsxs)(j,{children:[(0,z.jsx)(yo,{type:L.Mnemonic}),(0,z.jsx)(ho,{indexes:l,wordlist:p})]})}),(0,z.jsx)(_t,{onClick:o||k,children:r("pastParticipleDone")})]})},"SettingsExportSeedPhrase");i();a();var I=m(B(),1);var d=m(w(),1),$e=s(({navigationCallback:e})=>{let{t}=x(),{data:o=[]}=ce(),{data:r=[]}=G("all"),l=!(r?.length>0),p=Be(u=>u.editableAccountMetadata),c=Be(u=>u.setEditableAccountMetadata),g=(0,I.useCallback)(u=>{c&&c({...p,seedIdentifier:u})},[p,c]),k=(0,I.useCallback)(u=>{g(u),e(u)},[g,e]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(P,{icon:(0,d.jsx)(Ht,{fill:S.colors.legacy.textDiminished}),children:t("settingsSelectSecretPhrase")}),(0,d.jsx)($,{children:l?(0,d.jsx)(xe,{children:t("addAccountNoSecretPhrases"),font:"labelBold"}):(0,d.jsx)(J,{gap:8,children:(0,d.jsx)(or,{children:r?.map((u,v)=>(0,d.jsx)(er,{accounts:nt(o,u.identifier),seedIdentifier:u.identifier,onClick:k,index:v},`seed-select-${u.identifier}`))})})})]})},"SettingsSelectSeed"),er=s(({accounts:e,seedIdentifier:t,index:o,onClick:r})=>{let{t:n}=x(),[l,p]=(0,I.useState)(!1),[c,g]=(0,I.useState)(!1),k=(0,I.useCallback)(()=>{p(!l)},[l,p]),u=(0,I.useCallback)(()=>{c||r(t)},[c,r,t]),v=(0,I.useMemo)(()=>e.length>1?n(l?"addAccountHideAccountsForSeed":"addAccountShowAccountsForSeed",{numOfAccounts:e.length}):e.length===1?n(l?"addAccountHideAccountForSeed":"addAccountShowAccountForSeed"):n("addAccountZeroAccountsForSeed"),[e.length,l,n]),A=(0,I.useMemo)(()=>e.length>=1?{onMouseEnter:s(()=>g(!0),"onMouseEnter"),onMouseLeave:s(()=>g(!1),"onMouseLeave"),onClick:k}:null,[e.length,k]);return(0,d.jsx)(rr,{onClick:u,children:(0,d.jsxs)(xo,{children:[(0,d.jsxs)(nr,{children:[(0,d.jsxs)(sr,{children:[(0,d.jsx)(ir,{children:n("addAccountSecretPhraseDefaultLabel",{number:o+1})}),(0,d.jsx)(cr,{...A,children:v})]}),(0,d.jsx)(Q,{width:"fit-content",children:(0,d.jsx)(Ao,{children:(0,d.jsx)(He,{fill:S.colors.legacy.textDiminished,width:10})})})]}),(0,d.jsx)(tr,{accounts:e,expanded:l})]})})},"MultiChainSelectSeedItem"),tr=s(({accounts:e,expanded:t})=>{let[o,{height:r}]=ot(),n=(0,I.useMemo)(()=>({initial:{opacity:0,height:0},animate:{opacity:1,height:r},exit:{opacity:0,height:0},transition:{delay:0,duration:.2}}),[r]);return(0,d.jsx)(mt,{mode:"wait",children:t&&e.length>0&&(0,d.jsx)(wo,{...n,children:(0,d.jsx)(wo,{ref:o,children:(0,d.jsx)(lr,{children:e.map((l,p)=>(0,d.jsxs)(Q,{justify:"flex-start",children:[(0,d.jsx)(je,{size:24,accountIcon:l.icon,accountName:l.name,accountIndex:p}),(0,d.jsx)(ar,{style:{marginLeft:6},children:l.name})]},`account-${l.identifier}`))})})})})},"SelectSeedAssociatedAccounts"),or=y.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 12px;
`,rr=y(Q).attrs({align:"center"})`
  position: relative;
  cursor: pointer;
  background-color: ${S.colors.legacy.elementBase};
  border-radius: 8px;
  &:hover {
    background-color: ${S.colors.legacy.elementAccent};
  }
`,nr=y(Q).attrs({justify:"space-between"})`
  padding: 15px;
`,sr=y.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
`,ir=y(C).attrs({size:16,weight:500,lineHeight:19})``,ar=y(C).attrs({size:15,weight:500,lineHeight:19})``,cr=y(C).attrs({size:13,weight:500,lineHeight:19})`
  color: ${S.colors.legacy.spotBase};
  margin-top: 2px;
`,xo=y.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,lr=y(xo)`
  border-top: 1px solid ${S.colors.legacy.areaBase};
  padding: 15px;
  align-items: flex-start;
  gap: 12px;
`,wo=y(pt.div)`
  overflow: hidden;
`,Ai=s(({accounts:e,seedMetas:t,onClick:o,selectedSeedIdentifier:r})=>{let{t:n}=x(),l=(0,I.useMemo)(()=>{if(!t||!r)return 0;let c=t.find(g=>g.identifier===r);return c?t.indexOf(c):0},[t,r]),p=(0,I.useMemo)(()=>!e||!r?[]:e.filter(c=>(c.type===M.Seed||c.type===M.Seedless)&&c.seedIdentifier===r),[e,r]);return(0,d.jsxs)(mr,{children:[(0,d.jsx)(fr,{children:n("addAccountSecretPhraseLabel")}),(0,d.jsx)(pr,{onClick:o,"data-testid":"select-secret-phrase-button",children:(0,d.jsxs)(Q,{justify:"space-between",children:[(0,d.jsx)(Q,{children:(0,d.jsxs)(dr,{children:[n("addAccountSecretPhraseDefaultLabel",{number:l+1})," ",(0,d.jsxs)(ur,{children:["(",p.length>1?n("addAccountNumAccountsForSeed",{numOfAccounts:p.length}):n("addAccountOneAccountsForSeed"),")"]})]})}),(0,d.jsx)(Ao,{children:(0,d.jsx)(He,{fill:S.colors.legacy.textDiminished,width:10})})]})}),(0,d.jsx)(To,{children:n("addAccountSelectSeedDescription")})]})},"MultiChainSelectSeedDropdown"),mr=y(Qt)`
  width: 100%;
  position: relative;
`,pr=y(qt)`
  padding: 8px 16px 8px 12px;
`,Ao=y.div`
  svg {
    transform: rotate(270deg) translateX(2px);
  }
`,dr=y(C).attrs({size:16,weight:400,lineHeight:19})``,ur=y(C).attrs({size:16,weight:400,lineHeight:19,as:"span"})`
  display: inline-flex;
  padding: 0 8px;
  color: ${S.colors.legacy.textDiminished};
`,To=y(C).attrs({size:14,weight:400,lineHeight:19,textAlign:"left"})`
  margin-top: 8px;
  color: ${S.colors.legacy.textDiminished};
`,fr=y(To)`
  margin-top: 24px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  svg {
    margin-left: 6px;
  }
`;i();a();var ke=m(B(),1);var ee=m(w(),1),Se=[0,1,5,10,15,30,60,240,480,1440],Co=s(()=>{let{t:e}=x(),{popDetailView:t}=E(),{data:o}=Ae(),{mutateAsync:r}=ht(),n=(0,ke.useCallback)(async p=>{try{let c=We(p);await r({lockTimeInMs:c}),X.capture("changeLockTimerDuration",{data:{mins:p}}),t(),o!==c&&Te.success(e("changeLockTimerToast"))}catch(c){console.error(c)}},[o,t,r,e]),l=(0,ke.useMemo)(()=>{if(o===void 0)return[];let p=rt(o);return gr(p),Se.map(c=>({topLeft:{text:we(e,We(c))},active:p===c,type:"radio",onClick:s(()=>n(c),"onClick")}))},[o,n,e]);return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(P,{children:e("changeLockTimerPrimaryText")}),(0,ee.jsx)($,{children:(0,ee.jsx)(O,{rows:l})})]})},"SettingsAutoLockTimer"),gr=s(async e=>{if(!Se.includes(e)){let t=Se.findIndex(o=>o>e);t?Se.splice(t,0,e):Se.push(e)}},"migrateOldTimerValue");i();a();var De=m(B(),1);var H=m(w(),1),Sr={currentPassword:"",password:"",confirmPassword:""},hr={currentPassword:void 0,password:void 0,confirmPassword:void 0},Po=s(()=>{let{t:e}=x(),{popDetailView:t}=E(),[o,r]=(0,De.useState)(Sr),{currentPassword:n,password:l,confirmPassword:p}=o,[c,g]=(0,De.useState)(hr),k=c.password??c.confirmPassword??c.currentPassword,u=!n||!l||!p,[v,A]=(0,De.useState)(!1),b=s(te=>{let U=te.currentTarget.name,oe=te.currentTarget.value;r({...o,[U]:oe})},"handlePasswordChange");return(0,H.jsxs)(Pe,{onSubmit:s(async te=>{te.preventDefault(),A(!0);let U,oe=Zt(l)??to(n,l),ue=eo(l,p);if(oe||ue)return g({...c,password:oe,confirmPassword:ue}),A(!1);try{if(!await Vt(n))throw new Error("Incorrect password");await $t(n,p),A(!1),t(),Te.success(e("changePasswordToast"))}catch(ae){Y.captureError(ae,K.Account),U=ae?.message.includes("Incorrect password")?e("changePasswordErrorIncorrectCurrentPassword"):e("changePasswordErrorGeneric"),g({...c,currentPassword:U}),A(!1)}},"handleSubmit"),children:[(0,H.jsx)(P,{children:e("changePasswordPrimaryText")}),(0,H.jsxs)(N,{size:"large",children:[(0,H.jsxs)(j,{children:[(0,H.jsx)(Mt,{}),(0,H.jsx)(C,{size:26,weight:500,children:e("changePasswordPrimaryText")}),(0,H.jsxs)(Xt,{children:[(0,H.jsx)(Ce,{type:"password",name:"currentPassword",placeholder:e("changePasswordCurrentPassword"),warning:!!c.currentPassword,onChange:b}),(0,H.jsx)(Ce,{type:"password",name:"password",placeholder:e("changePasswordNewPassword"),warning:!!c.password,onChange:b}),(0,H.jsx)(Ce.WithWarning,{type:"password",name:"confirmPassword",placeholder:e("changePasswordConfirmNewPassword"),warning:!!c.confirmPassword,warningMessage:k,onChange:b})]})]}),(0,H.jsx)(V,{primaryText:e("commandSave"),secondaryText:e("commandCancel"),onSecondaryClicked:t,primaryDisabled:u||v,primaryLoading:v})]})]})},"SettingsChangePassword");i();a();var Ne=m(B(),1);i();a();var F=m(w(),1),Ee=s(({beforeReset:e})=>{let{t}=x(),{popDetailView:o}=E(),{isResetting:r,handleResetApp:n}=go({beforeReset:e});return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(P,{children:t("settingsResetApp")}),(0,F.jsxs)(N,{size:"large",children:[(0,F.jsx)("div",{}),(0,F.jsxs)(j,{children:[(0,F.jsx)(le,{}),(0,F.jsx)(C,{size:28,weight:500,lineHeight:34,children:t("resetSeedPrimaryText")}),(0,F.jsx)(C,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px",children:t("resetSeedSecondaryText")})]}),(0,F.jsx)(V,{primaryDisabled:r,primaryLoading:r,primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:n,onSecondaryClicked:o})]})]})},"SettingsResetApp");var D=m(w(),1),Ro=s(({beforeReset:e})=>{let{t}=x(),{popDetailView:o,pushDetailView:r}=E(),{data:n=[]}=ce(),l=n.filter(u=>u.type===M.Seedless),{data:p=[]}=G("recoverable-only"),c=(0,Ne.useCallback)((u,v,A)=>{r((0,D.jsx)(ve,{type:L.Mnemonic,onSuccess:()=>r((0,D.jsx)(be,{accountIdentifier:v,password:u,onDone:A}))}))},[r]),g=(0,Ne.useCallback)((u,v)=>{let A=l.find(b=>b.seedIdentifier===u);A&&r((0,D.jsx)(fe,{type:L.Mnemonic,onSuccess:b=>c(b,A.identifier,v)}))},[l,r,c]),k=s(()=>{g(p[0].identifier,()=>{r((0,D.jsx)(Ee,{beforeReset:e}))})},"handleContinue");return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(P,{children:t("settingsDeleteSeedlessBundle")}),(0,D.jsxs)(N,{size:"large",children:[(0,D.jsx)("div",{}),(0,D.jsxs)(j,{children:[(0,D.jsx)(le,{}),(0,D.jsx)(C,{size:28,weight:500,lineHeight:34,children:t("settingsDeleteSeedlessBundle")}),(0,D.jsx)(C,{size:16,color:"textDiminished",lineHeight:19,maxWidth:"312px",children:t("settingsDeleteSeedlessBundleDescription")})]}),(0,D.jsx)(V,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:k,onSecondaryClicked:o})]})]})},"SettingsDeleteSeedlessBundle");i();a();var vo=m(B(),1);var W=m(w(),1),yr=y.div`
  border: 1px solid ${S.colors.legacy.spotWarning};
  border-radius: 6px;
  padding: 8px 16px;
`,bo=vo.default.memo(()=>{let{t:e}=x(),{downloadLogs:t,goSupportDesk:o,isFetching:r}=oo();return(0,W.jsxs)(Pe,{onSubmit:t,children:[(0,W.jsx)(P,{children:e("settingsDownloadApplicationLogs")}),(0,W.jsxs)(N,{size:"medium",children:[(0,W.jsx)("div",{}),(0,W.jsxs)(j,{children:[(0,W.jsx)(Kt,{diameter:96,color:tt(S.colors.legacy.spotBase,.1),children:(0,W.jsx)(Ft,{})}),(0,W.jsx)(C,{size:28,weight:500,lineHeight:34,margin:"20px 0 0",maxWidth:"280px",children:e("settingsDownloadApplicationLogs")}),(0,W.jsx)(C,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,margin:"0 0 4px",children:e("settingsDownloadApplicationLogsHelper")}),(0,W.jsx)(yr,{children:(0,W.jsx)(C,{size:14,color:S.colors.legacy.spotWarning,lineHeight:20,weight:500,children:e("settingsDownloadApplicationLogsWarning")})})]}),(0,W.jsx)(V,{primaryDisabled:r,primaryText:e("commandDownload"),secondaryText:e("settingsSupportDesk"),onSecondaryClicked:o})]})]})});i();a();var ko=m(B(),1);var _=m(w(),1),Do=s(({seedIdentifier:e})=>{let{t}=x(),{hideSettingsMenu:o}=Ot(),{mutate:r}=at(),{data:n=[]}=G("all"),l=n.findIndex(g=>g.identifier===e)??0,p=(0,ko.useCallback)(()=>{r({seedIdentifier:e}),X.capture("walletSeeds",{data:{numOfSeeds:n?.length}}),o()},[o,r,e,n]),{popDetailView:c}=E();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(P,{children:t("settingsRemoveSecretPhrase")}),(0,_.jsxs)(N,{size:"large",children:[(0,_.jsx)("div",{}),(0,_.jsxs)(j,{children:[(0,_.jsx)(le,{}),(0,_.jsx)(C,{size:28,weight:500,lineHeight:34,children:t("removeSeedPrimaryText",{number:l+1})}),(0,_.jsx)(C,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px",children:t("removeSeedSecondaryText",{number:l+1})})]}),(0,_.jsx)(V,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:p,onSecondaryClicked:c})]})]})},"SettingsRemoveSeed");var h=m(w(),1),zc=s(()=>{let{t:e}=x(),{pushDetailViewCallback:t,pushDetailView:o}=E(),{data:r=[]}=ce(),n=r.filter(f=>f.type===M.Seed||f.type===M.Seedless),l=n.filter(f=>f.type===M.Seed),p=n.filter(f=>f.type===M.Seedless),c=ct(),{data:[g]}=Ze(["enable-delete-seedless-bundle-security-settings"]),k=ut(),{data:u=[]}=G("recoverable-only"),{additionalPermissionRows:v}=wr(),{data:A}=Ae(),{data:b,isPending:de}=gt(),{mutate:te}=St(),{data:U,isPending:oe}=yt(),{mutate:ue}=wt(),ae=(0,R.useCallback)(()=>{te({isAnalyticsOptedOut:!b})},[b,te]),Ue=(0,R.useCallback)(()=>{ue({showWalletShortcuts:!U}),It.invalidateQueries({queryKey:[Oe]})},[U,ue]),Eo=(0,R.useCallback)(f=>{o((0,h.jsx)(Nt,{password:f,isSettings:!0}))},[o]),Ke=t((0,h.jsx)(fe,{type:L.Seedless,onSuccess:Eo})),Io=(0,R.useMemo)(()=>{let f=[{topLeft:{text:e("settingsChangePasswordPrimary")},type:"drawer",onClick:t((0,h.jsx)(Po,{}))},{topLeft:{text:e("settingsAutoLockTimerPrimary")},topRight:{text:we(e,A)},type:"drawer",onClick:t((0,h.jsx)(Co,{}))}];return u.length&&f.splice(1,0,{topLeft:{text:e("seedlessResetPinPrimaryText")},type:"drawer",onClick:Ke}),f},[u.length,A,t,Ke,e]),Wo=(0,R.useMemo)(()=>{let f=[];return f.push({topLeft:{text:e("settingsDownloadApplicationLogs")},type:"drawer",onClick:t((0,h.jsx)(bo,{}))}),f},[t,e]),Bo=(0,R.useMemo)(()=>{let f=[];return oe||f.push({id:"toggleWalletShortcuts",topLeft:{text:e("settingsWalletShortcutsPrimary")},active:U??ft,type:"toggle",onClick:Ue}),f},[U,oe,Ue,e]),Lo=(0,R.useMemo)(()=>{let f=[];return de||f.push({id:"toggleAnalytics",active:!b,type:"toggle",topLeft:{text:e("settingsSecurityAnalyticsPrimary")},onClick:ae}),f},[b,de,ae,e]),Ye=(0,R.useCallback)((f,re,he)=>{o((0,h.jsx)(ve,{type:L.Mnemonic,onSuccess:()=>o((0,h.jsx)(be,{accountIdentifier:re,password:f,onDone:he}))}))},[o]),Qe=(0,R.useCallback)((f,re)=>{let he=n.find(Ie=>Ie.seedIdentifier===f);he&&o((0,h.jsx)(fe,{type:L.Mnemonic,onSuccess:Ie=>Ye(Ie,he.identifier,re)}))},[o,n,Ye]),Mo=(0,R.useMemo)(()=>{let f=[];return(l.length||p.length)&&f.push({topLeft:{text:e("exportSecretShowSecretRecoveryPhrase")},type:"drawer",onClick:t((0,h.jsx)($e,{navigationCallback:re=>Qe(re)}))}),f},[l.length,p.length,e,t,Qe]),Ho=(0,R.useMemo)(()=>{let f=[];return c&&f.push({topLeft:{text:e("settingsRemoveSecretPhrase"),color:"spotNegative"},onClick:t((0,h.jsx)($e,{navigationCallback:re=>o((0,h.jsx)(Do,{seedIdentifier:re}))}))}),g&&u.length&&f.push({topLeft:{text:e("settingsDeleteSeedlessBundle"),color:"spotNegative"},onClick:t((0,h.jsx)(Ro,{beforeReset:k}))}),f.push({topLeft:{text:e("settingsResetApp"),color:"spotNegative"},onClick:t((0,h.jsx)(Ee,{}))}),f},[k,g,o,t,u,c,e]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(P,{children:e("settingsSecurityPrimary")}),(0,h.jsx)($,{children:(0,h.jsxs)(J,{gap:"section",children:[(0,h.jsx)(O,{rows:Io}),(0,h.jsx)(O,{rows:Wo}),v.length>0?(0,h.jsx)(O,{rows:v}):null,(0,h.jsx)(O,{rows:Bo}),(0,h.jsxs)(J,{gap:"list",children:[(0,h.jsx)(O,{rows:Lo}),(0,h.jsx)(J,{paddingX:4,children:(0,h.jsx)(xe,{font:"caption",children:e("settingsSecurityAnalyticsHelper"),color:"textDiminished"})})]}),(0,h.jsx)(O,{rows:Mo}),(0,h.jsx)(O,{rows:Ho})]})})]})},"SecuritySettings");function wr(){let e=it(),{t}=x(),o=qe(T.IS_FIREFOX),r=et.isFeatureEnabled("always-show-all-sites-permissions"),[n,l]=(0,R.useState)(null),[p,c]=(0,R.useState)(!1);(0,R.useEffect)(()=>{let A=!0;return(async()=>{let b=await Tt();A&&l(b)})(),()=>{A=!1}},[l]);let[g,k]=(0,R.useState)(!1),u=(0,R.useCallback)(async()=>{k(!0);try{let A=!!n;if(A)await Pt(),e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:A,newValue:!1}}),l(!1);else{let b=await Ct();e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:A,newValue:b}}),l(b)}}catch(A){A instanceof Error&&A.message.includes("You cannot remove required permissions")?c(!0):(console.error("Failed to set permissions"),console.error(A))}finally{k(!1)}},[n,e]),v=(0,R.useMemo)(()=>o||r?n===null?[]:[{id:"toggleAllSitesPermissions",active:n,disabled:p||g,onClick:u,type:"toggle",topLeft:t("settingsAllSitesPermissionsTitle"),helperText:t(p?"settingsAllSitesPermissionsDisabled":"settingsAllSitesPermissionsSubtitle")}]:[],[o,r,n,p,g,u,t]);return(0,R.useMemo)(()=>({additionalPermissionRows:v}),[v])}s(wr,"useAllSitesPermissions");i();a();var q=m(w(),1),Zc=s(()=>{let{t:e}=x(),{popDetailView:t}=E(),{currencyRows:o,searchQuery:r,setSearchQuery:n}=xt({goBack:t});return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(P,{children:e("settingsCurrency")}),(0,q.jsx)(io,{value:r,onChange:n}),(0,q.jsx)($,{children:(0,q.jsx)(O,{rows:o})})]})},"SettingsCurrencyList");export{je as a,_o as b,Oo as c,$e as d,Ai as e,ho as f,yo as g,ve as h,be as i,io as j,Zc as k,Co as l,Po as m,bo as n,Do as o,Ko as p,go as q,zc as r};
//# sourceMappingURL=chunk-CRW7XTB2.js.map
