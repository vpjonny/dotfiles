import{a as Ne}from"./chunk-NM756CE5.js";import{a as Ve,b as Ie,c as De,e as Me,f as He,i as Le,j as We,k as Oe,l as $e}from"./chunk-6Z7UWBUH.js";import{a as re}from"./chunk-7HKJSCWA.js";import{a as Re}from"./chunk-KJDLSWJC.js";import{u as Pe,za as I}from"./chunk-VRODSUQC.js";import{a as ve}from"./chunk-TRIYFLMU.js";import{b as xe}from"./chunk-2LKSWQ7Y.js";import{a as ke}from"./chunk-QKX6QMZS.js";import{f as Ee}from"./chunk-QW5UCU4W.js";import{e as Ae}from"./chunk-FFV6ZRAV.js";import{a as Be}from"./chunk-END3S5WW.js";import{a as Q}from"./chunk-OABENO2E.js";import{b as V,g as J}from"./chunk-VQU4JTIB.js";import{b as Se}from"./chunk-N3C6FBKY.js";import{a as we,c as Ce,d as j}from"./chunk-HLSJ3VIL.js";import{_ as Te,c as he,db as H,m as h}from"./chunk-57EVB5FV.js";import{b as G}from"./chunk-2LSP5LV2.js";import{_ as ye}from"./chunk-5JGASDWN.js";import{d as Fe}from"./chunk-NMTPXQAP.js";import{lb as le}from"./chunk-W7IWPUIQ.js";import{Nc as be,h as ne}from"./chunk-4SCKDS7G.js";import{dc as ie,yd as ae}from"./chunk-DJGGVTSJ.js";import{a as oe}from"./chunk-RWWUDPHX.js";import{Aa as me,Ca as p,Ga as de,Na as a,Ua as N,Z as se,Za as ce,_b as ge,a as q,b as R,bb as pe,dc as fe,jb as te,qb as ue}from"./chunk-LQZGQEJ6.js";import{a as l,g as y,i as k,n as P}from"./chunk-WKJYWAXG.js";k();P();var D=y(q(),1);k();P();var Y=y(q());var L=l(({children:o})=>{let{popDetailView:t}=V(),{handleHideModalVisibility:n}=I(),s=(0,Y.useCallback)(()=>{t(),n("sendFungibleForm"),n("sendFungibleSelect")},[t,n]);return Y.default.createElement(Ve,{goHome:s},o)},"SendFungibleFlowErrorBoundary");k();P();var B=y(R(),1),_e=l(({networkID:o})=>{let{t}=se();return ie.isBitcoinNetworkID(o)?(0,B.jsx)(to,{children:(0,B.jsx)(fe,{alignment:"rightCenter",index:0,content:(0,B.jsx)(Ze,{children:(0,B.jsxs)(eo,{children:[t("sendFungibleSatProtectionExplainer")," ",(0,B.jsx)("span",{onClick:()=>void Se({url:be}),children:t("commandLearnMore")})]})}),closeOnSecondClick:!1,children:(0,B.jsxs)(oo,{children:[(0,B.jsx)(Te,{width:16}),(0,B.jsxs)(Ue,{children:[" ",t("sendFungibleSatProtectionTitle")]})]})})}):null},"SendAssetInfoWidget"),Ze=h.div`
  padding: 16px;
  width: 256px;
`,eo=h(H).attrs({size:15,lineHeight:20,color:p.colors.legacy.textBase})`
  text-align: left;
  span {
    color: ${p.colors.legacy.spotBase};
    cursor: pointer;
  }
`,oo=h.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
`,Ue=h(H).attrs({size:14,color:p.colors.legacy.textBase,hoverColor:p.colors.legacy.spotBase})`
  display: flex;
  align-items: center;
`,to=h.div`
  padding: 15px;
  background: ${p.colors.legacy.elementBase};
  border-radius: 9px;
  width: 100%;
  cursor: pointer;
  position: relative;

  &:hover {
    ${Ue} {
      color: ${p.colors.legacy.spotBase};
    }
    svg {
      fill: ${p.colors.legacy.spotBase};
      path {
        fill: ${p.colors.legacy.spotBase};
      }
    }
  }
`;k();P();var M=y(q(),1);k();P();var u=y(q(),1);var r=y(R(),1),no=h(Q).attrs({align:"center"})`
  height: 100%;
`,ro=h(Q).attrs({align:"center",justify:"center"})`
  flex: 1;
  flex-grow: 1;
`,io=h(Q).attrs({align:"center",justify:"center",margin:"0 0 15px 0"})`
  position: relative;
  border-radius: 50%;
  background-color: ${oe(p.colors.legacy.spotBase,.2)};
  box-shadow: 0 0 0 20px ${oe(p.colors.legacy.spotBase,.2)};
`,ao=h(H).attrs({size:28,lineHeight:33.89,weight:500,margin:"20px 0 10px 0"})``,so=h(H).attrs({size:16,lineHeight:20.8,weight:500,color:p.colors.legacy.spotBase})`
  margin-top: 12px;
`,lo=l(()=>{let{popDetailView:o}=V(),{handleHideModalVisibility:t}=I(),{closeAllModals:n}=xe(),s=he(),[f,F]=(0,u.useState)(!0),[c,T]=(0,u.useState)(),S=(0,u.useCallback)(E=>{self.open(E)},[]),w=(0,u.useCallback)(()=>{o(),t("sendFungibleForm"),t("sendFungibleSelect")},[o,t]),C=(0,u.useCallback)(E=>{switch(w(),E){case ne.History:s("/notifications");break;case ne.Home:s("/",{state:{defaultTab:"fungibles",nonce:Date.now()}});break}},[s,w]),{handleTokenTransfer:b,isLedger:g,ledgerApp:i,...d}=Le({sendSequenceAnalytics:Fe.send,onTransactionLinkPress:S,onClose:C,onCancel:w,onBack:o,mobileSignWithLedger:!1,ledgerSupported:!0}),v=(0,u.useCallback)(async()=>{g?T((0,r.jsx)(Ee,{ledgerAction:async()=>{await b(),F(!1)},cancel:n,ledgerApp:i})):await b()},[g,b,n,i]);return{...d,isLedger:g,ledgerApp:i,handleTokenTransfer:v,needsLedgerApproval:f,ledgerContent:c}},"useProps"),mo=u.default.memo(({isLedger:o,isError:t,isSuccess:n,MessageElement:s,txReceipt:f,handleTransactionLinkPress:F,i18nStrings:c,handleRetry:T,handleClose:S,handleCancel:w,handleTokenTransfer:C,isLoadingSelectedAccountStatus:b,ledgerContent:g,needsLedgerApproval:i})=>{let d=b,v=(0,u.useRef)(!1);return(0,u.useEffect)(()=>{d||v.current||(!o||i)&&(v.current=!0,C())},[d,o,i,C]),o&&i?(0,r.jsx)(r.Fragment,{children:g??null}):(0,r.jsxs)(no,{children:[(0,r.jsxs)(ro,{children:[(0,r.jsx)(ce,{mode:"wait",initial:!0,children:(0,r.jsx)(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:t?(0,r.jsx)(re,{type:"failure"}):n?(0,r.jsx)(re,{type:"success"}):(0,r.jsx)(io,{children:(0,r.jsx)(we,{diameter:54,color:p.colors.legacy.spotBase,trackColor:p.colors.legacy.areaAccent})})})}),(0,r.jsx)(ao,{children:c.titleText}),s,f&&(0,r.jsx)(so,{onClick:F,children:c.viewTransactionText})]}),t&&(0,r.jsx)(j,{primaryText:c.retryText,onPrimaryClicked:T,secondaryText:c.cancelText,onSecondaryClicked:w}),!t&&!!f&&(0,r.jsx)(ke,{justify:"center",children:(0,r.jsx)(Ce,{onClick:S,children:c.closeText})})]})}),co=l(()=>{let o=lo();return(0,r.jsx)(mo,{...o})},"UnsafeSendFungibleStatusPage"),ze=l(()=>(0,r.jsx)(L,{children:(0,r.jsx)(co,{})}),"SendFungibleStatusPage");var m=y(R(),1),po=l(()=>{let{popDetailView:o,pushDetailView:t}=V(),{handleHideModalVisibility:n,handleShowModalVisibility:s}=I(),f=(0,M.useCallback)(({transactionSpeed:S,transactionUnitAmount:w,networkID:C,sendFormValues:b,setSendFormValues:g})=>{t((0,m.jsx)(Re,{onSelectTransactionSpeed:i=>{g({...b,transactionSpeed:i})},selectedTransactionSpeed:S,networkID:C,transactionUnitAmount:w,closeModal:o}))},[o,t]),F=(0,M.useCallback)(S=>{s("txSubmissionCheckFailure",{...S,onButtonClick:l(()=>{n("txSubmissionCheckFailure")},"onButtonClick")})},[n,s]),c=(0,M.useCallback)(()=>{o(),n("sendFungibleForm"),n("sendFungibleSelect")},[o,n]),T=(0,M.useCallback)(()=>{t((0,m.jsx)(ze,{}))},[t]);return Me({onNext:T,onClose:c,onTransactionSpeedChange:f,onSubmissionCheckFail:F,copyToClipboard:Be})},"useProps"),uo=M.default.memo(({canSend:o,summaryRows:t,i18nStrings:n,handleNext:s,handleClose:f,networkID:F,senderAddress:c})=>(0,m.jsxs)(a,{height:"100%",children:[(0,m.jsx)(J,{children:n.title}),(0,m.jsx)(a,{height:"100%",overflow:"scroll",marginBottom:8,children:(0,m.jsxs)(a,{width:"100%",flex:1,children:[(0,m.jsx)(Oe,{}),(0,m.jsx)($e,{networkId:F,senderAddress:c}),(0,m.jsx)(ge,{rows:t})]})}),(0,m.jsxs)(ue,{direction:"row",children:[(0,m.jsx)(te,{onClick:f,children:n.cancel}),(0,m.jsx)(te,{disabled:!o,onClick:s,background:"spot",children:n.send})]})]})),go=l(()=>{let o=po();return(0,m.jsx)(uo,{...o})},"UnsafeSendFungibleSummaryPage"),Ke=l(()=>(0,m.jsx)(L,{children:(0,m.jsx)(go,{})}),"SendFungibleSummaryPage");var e=y(R(),1),fo={form:me({width:"100%"})},Fo=l(()=>{let{popDetailView:o,pushDetailView:t}=V(),{handleHideModalVisibility:n}=I(),s=(0,D.useCallback)(()=>{o(),n("sendFungibleForm"),n("sendFungibleSelect")},[o,n]),f=(0,D.useCallback)(()=>{t((0,e.jsx)(Ke,{}))},[t]),{canGoNext:F,...c}=He({onClose:s,onNext:f}),[T,S]=(0,D.useState)(ae),{data:w=[]}=le(),{networkID:C,senderAddress:b}=Ie(),g=G(x=>x.sendFormValues.recipient),i=G(x=>x.sendFormValues),d=G(x=>x.setSendFormValues),{addressBookRecipient:v}=i,{recipientError:E,disabledDueToRecipient:W,isStaleRecipient:O,isRecipientLoading:Z}=ye(g,C),{sendAddressWarning:$,sendAddressVariant:_}=De({senderAddress:b.address,senderAccounts:w,networkID:C,recipient:g}),U=g&&!!$&&!E&&!O,ee=(0,D.useCallback)(x=>{S(K=>({...K,recipientError:void 0})),d({...i,recipient:x,addressBookRecipient:x})},[i,d]);return{...c,canGoNext:F&&!W&&_!=="danger",senderAddress:b.address,addressBookRecipient:v,isStaleRecipient:O,recipientError:E,isRecipientLoading:Z,sendAddressWarning:U?$:null,sendAddressVariant:_,sendFormValues:i,sendFormErrors:T,handleAddressSelection:ee,setSendFormValues:d,setSendFormErrors:S}},"useProps"),So=D.default.memo(({networkID:o,handleClose:t,handleInputChange:n,handleNext:s,primaryText:f,primarySymbol:F,toggleDenomination:c,errorText:T,secondaryText:S,formattedMaxAmount:w,symbol:C,decimals:b,logoUri:g,canGoNext:i,i18nStrings:d,handleSetMax:v,showSecondaryText:E,canSendCurrencyAmount:W,isMemoEnabled:O,memo:Z,handleMemoChange:$,senderAddress:_,addressBookRecipient:U,isStaleRecipient:ee,recipientError:z,isRecipientLoading:x,sendAddressWarning:K,sendAddressVariant:qe,sendFormValues:Ge,sendFormErrors:je,handleAddressSelection:Je,setSendFormValues:Qe,setSendFormErrors:Xe})=>{let Ye=E?(0,e.jsxs)(a,{direction:"row",justifyContent:"space-between",width:"100%",children:[(0,e.jsxs)(a,{direction:"row",alignItems:"center",cursor:"pointer",color:{base:"textIncidental",hover:"spotBase"},children:[(0,e.jsx)(N,{font:"caption",onPress:W?c:void 0,children:S}),W?(0,e.jsx)(a,{marginLeft:4,children:(0,e.jsx)(de.Swap2Vertical,{size:12})}):null]}),(0,e.jsx)(N,{font:"caption",color:"textIncidental",children:`${d.available} ${w}`})]}):null;return(0,e.jsxs)(a,{justifyContent:"space-between",height:"100%",children:[(0,e.jsxs)(a,{children:[(0,e.jsx)(J,{children:d.pageTitle}),(0,e.jsx)(a,{marginBottom:20,marginTop:10,marginLeft:"auto",marginRight:"auto",children:(0,e.jsx)(Pe,{image:{type:"fungible",src:g,fallback:C},size:72})}),(0,e.jsxs)("form",{onSubmit:s,className:fo.form,children:[(0,e.jsx)(a,{marginBottom:10,children:(0,e.jsx)(We,{addressBookRecipient:U,networkID:o,senderAddress:_,symbol:F,sendFormValues:Ge,sendFormErrors:je,recipientError:z,handleAddressSelection:Je,setSendFormValues:Qe,setSendFormErrors:Xe,isLoading:x})}),!U&&!ee&&z&&(0,e.jsx)(a,{marginBottom:10,children:(0,e.jsx)(N,{children:z,color:"spotNegative",font:"body"})}),(0,e.jsx)(a,{marginBottom:10,children:(0,e.jsx)(a,{position:"relative",children:(0,e.jsx)(ve,{name:"amount",value:f,symbol:F,alignSymbol:"right",buttonText:d.maxInput,width:47,maxLength:20,decimalLimit:b,warning:!!T,placeholder:d.inputAmountPlaceholder,onSetTarget:v,onKeyPress:A=>i&&A.key==="Enter"&&A.preventDefault(),onUserInput:n})})}),O&&(0,e.jsx)(a,{marginBottom:10,children:(0,e.jsx)(Ae,{name:"memo",placeholder:d.memoPlaceholder,value:Z,maxLength:240,onKeyDown:A=>i&&A.key==="Enter"&&A.preventDefault(),onChange:A=>{A.target.validity.valid?$(A.target.value):A.preventDefault()}})})]}),T?(0,e.jsx)(a,{children:(0,e.jsx)(N,{color:"spotNegative",font:"body",children:T})}):Ye,(0,e.jsx)(a,{marginTop:16,children:(0,e.jsx)(_e,{networkID:o})}),K&&(0,e.jsx)(Ne,{message:K,variant:qe,actions:[]})]}),(0,e.jsx)(j,{primaryText:d.next,secondaryText:d.cancel,onPrimaryClicked:s,onSecondaryClicked:t,primaryTheme:i?"primary":"default",primaryDisabled:!i})]})}),bo=l(()=>{let o=Fo();return(0,e.jsx)(So,{...o})},"UnsafeSendFungibleFormPage"),yo=l(()=>(0,e.jsx)(L,{children:(0,e.jsx)(bo,{})}),"SendFungibleFormPage"),Ut=yo;export{Ut as a};
//# sourceMappingURL=chunk-PUZOWMHL.js.map
