import{za as kt}from"./chunk-VRODSUQC.js";import"./chunk-27WMCVHA.js";import"./chunk-TRIYFLMU.js";import"./chunk-J4XA5VC7.js";import"./chunk-DQWLAPQA.js";import"./chunk-IUNAS73H.js";import"./chunk-2LKSWQ7Y.js";import"./chunk-H4HL2VJ5.js";import"./chunk-QKX6QMZS.js";import"./chunk-5ENLJTSW.js";import"./chunk-ZMW27YAP.js";import"./chunk-QW5UCU4W.js";import"./chunk-X6Z5FRDC.js";import"./chunk-X4RRAJ67.js";import"./chunk-FFV6ZRAV.js";import"./chunk-END3S5WW.js";import"./chunk-OABENO2E.js";import"./chunk-VQU4JTIB.js";import"./chunk-ZMU6KWZP.js";import"./chunk-YSZRDBUS.js";import"./chunk-UE7TCZBL.js";import"./chunk-PFY5DZIQ.js";import"./chunk-L4NFABLQ.js";import"./chunk-P3JRRYSB.js";import"./chunk-GUZFMB3D.js";import"./chunk-N3C6FBKY.js";import"./chunk-CTKHELYY.js";import"./chunk-2L6X42XL.js";import"./chunk-2P4HZW3J.js";import"./chunk-OR3XQXDJ.js";import"./chunk-HLSJ3VIL.js";import"./chunk-57EVB5FV.js";import{Ca as It,Da as Pt,Ea as Ft,Fa as At,Ga as nt,Ha as Rt,Ia as jt,Ja as ot,Ka as Wt,La as Ct,S as E,T as X,U as N,V as $,Y as O,Z as K,fa as Y,ga as vt,ha as Z,ia as Tt,ja as J,ka as _t}from"./chunk-44HH5QGP.js";import"./chunk-WVRYN4MY.js";import"./chunk-2LSP5LV2.js";import"./chunk-HLWWEHZK.js";import"./chunk-5JGASDWN.js";import"./chunk-ZDPKBPMV.js";import"./chunk-DYQ7BPYX.js";import"./chunk-NMTPXQAP.js";import"./chunk-SIWEHH3L.js";import"./chunk-N6SSDFMX.js";import"./chunk-YJCG6GWC.js";import"./chunk-W7IWPUIQ.js";import"./chunk-4SCKDS7G.js";import{We as ht,Xe as St}from"./chunk-DJGGVTSJ.js";import"./chunk-FATTDLFQ.js";import"./chunk-2RWUL32J.js";import"./chunk-RWWUDPHX.js";import{Fb as ce,Ga as gt,Na as m,Ua as x,Vb as wt,Z as b,_b as xt,a as F,b as w,jb as q,nb as yt,ub as bt}from"./chunk-LQZGQEJ6.js";import"./chunk-FNC6PQ53.js";import"./chunk-5QQLABHI.js";import{a as o,d as le,g as c,i as a,n as p}from"./chunk-WKJYWAXG.js";var Gt=le(ut=>{"use strict";a();p();Object.defineProperty(ut,"__esModule",{value:!0});var at=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}return n},Et=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return o(n,"defineProperties"),function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),Bt=F(),L=Dt(Bt),de=ce(),d=Dt(de);function Dt(n){return n&&n.__esModule?n:{default:n}}o(Dt,"_interopRequireDefault");function me(n,e){var i={};for(var t in n)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(n,t)&&(i[t]=n[t]);return i}o(me,"_objectWithoutProperties");function fe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}o(fe,"_classCallCheck");function he(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}o(he,"_possibleConstructorReturn");function Se(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}o(Se,"_inherits");var Nt={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},ge=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],ye=o(function(e){return ge.forEach(function(i){return delete e[i]}),e},"cleanInputProps"),Ot=o(function(e,i){i.style.fontSize=e.fontSize,i.style.fontFamily=e.fontFamily,i.style.fontWeight=e.fontWeight,i.style.fontStyle=e.fontStyle,i.style.letterSpacing=e.letterSpacing,i.style.textTransform=e.textTransform},"copyStyles"),Ht=typeof self<"u"&&self.navigator?/MSIE |Trident\/|Edge\//.test(self.navigator.userAgent):!1,Lt=o(function(){return Ht?"_"+Math.random().toString(36).substr(2,12):void 0},"generateId"),pt=function(n){Se(e,n),Et(e,null,[{key:"getDerivedStateFromProps",value:o(function(t,r){var s=t.id;return s!==r.prevId?{inputId:s||Lt(),prevId:s}:null},"getDerivedStateFromProps")}]);function e(i){fe(this,e);var t=he(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return t.inputRef=function(r){t.input=r,typeof t.props.inputRef=="function"&&t.props.inputRef(r)},t.placeHolderSizerRef=function(r){t.placeHolderSizer=r},t.sizerRef=function(r){t.sizer=r},t.state={inputWidth:i.minWidth,inputId:i.id||Lt(),prevId:i.id},t}return o(e,"AutosizeInput"),Et(e,[{key:"componentDidMount",value:o(function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(t,r){r.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){this.mounted=!1},"componentWillUnmount")},{key:"copyInputStyles",value:o(function(){if(!(!this.mounted||!self.getComputedStyle)){var t=this.input&&self.getComputedStyle(this.input);t&&(Ot(t,this.sizer),this.placeHolderSizer&&Ot(t,this.placeHolderSizer))}},"copyInputStyles")},{key:"updateInputWidth",value:o(function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var t=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?t=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:t=this.sizer.scrollWidth+2;var r=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;t+=r,t<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}},"updateInputWidth")},{key:"getInput",value:o(function(){return this.input},"getInput")},{key:"focus",value:o(function(){this.input.focus()},"focus")},{key:"blur",value:o(function(){this.input.blur()},"blur")},{key:"select",value:o(function(){this.input.select()},"select")},{key:"renderStyles",value:o(function(){var t=this.props.injectStyles;return Ht&&t?L.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null},"renderStyles")},{key:"render",value:o(function(){var t=[this.props.defaultValue,this.props.value,""].reduce(function(h,S){return h??S}),r=at({},this.props.style);r.display||(r.display="inline-block");var s=at({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),l=me(this.props,[]);return ye(l),l.className=this.props.inputClassName,l.id=this.state.inputId,l.style=s,L.default.createElement("div",{className:this.props.className,style:r},this.renderStyles(),L.default.createElement("input",at({},l,{ref:this.inputRef})),L.default.createElement("div",{ref:this.sizerRef,style:Nt},t),this.props.placeholder?L.default.createElement("div",{ref:this.placeHolderSizerRef,style:Nt},this.props.placeholder):null)},"render")}]),e}(Bt.Component);pt.propTypes={className:d.default.string,defaultValue:d.default.any,extraWidth:d.default.oneOfType([d.default.number,d.default.string]),id:d.default.string,injectStyles:d.default.bool,inputClassName:d.default.string,inputRef:d.default.func,inputStyle:d.default.object,minWidth:d.default.oneOfType([d.default.number,d.default.string]),onAutosize:d.default.func,onChange:d.default.func,placeholder:d.default.string,placeholderIsMinWidth:d.default.bool,style:d.default.object,value:d.default.any};pt.defaultProps={minWidth:1,injectStyles:!0};ut.default=pt});a();p();a();p();var st=c(w());var Mt=c(F());a();p();var I=c(w());var Q=o(({title:n,footerChildren:e,children:i,onBack:t,onClose:r})=>(0,I.jsxs)(m,{gap:16,padding:16,justifyContent:"space-between",flex:1,children:[(0,I.jsxs)(m,{gap:16,children:[t?(0,I.jsxs)(m,{onPress:t,direction:"row",alignItems:"center",gap:4,children:[(0,I.jsx)(gt.ChevronLeft,{color:"textBase"}),(0,I.jsx)(x,{font:"title1",children:n})]}):(0,I.jsxs)(m,{direction:"row",alignItems:"center",gap:4,justifyContent:"space-between",children:[(0,I.jsx)(x,{font:"title1",children:n}),(0,I.jsx)(bt,{bounded:!1,onPress:r,icon:"X",label:"Close",color:"textBase"})]}),i]}),e]}),"SwapSettingsScreen");var zt=o(({openSlippage:n,openPriorityFee:e,openTip:i,dismiss:t})=>{let{t:r}=b(),{selectedSetting:s}=X(),{data:l}=Z(),{data:h}=Y(),{selectedSetting:S}=$(),{data:g}=J(),{selectedSetting:T}=K(),y=(0,Mt.useMemo)(()=>[{onPress:n,topLeft:{text:r("swapSlippageSettingsTitle")},topRight:{text:s.type===E.Auto?r("swapSettingsAuto"):`${l}%`},type:"drawer"},{onPress:e,topLeft:{text:r("swapPriorityFeeSettingsTitle")},topRight:{text:S.type===N.Auto?r("swapSettingsAuto"):`${h} SOL`},type:"drawer"},{onPress:i,topLeft:{text:r("swapTipSettingsTitle")},topRight:{text:T.type===O.Auto?r("swapSettingsAuto"):`${g} SOL`},type:"drawer"}],[n,r,s.type,l,e,S.type,h,i,T.type,g]);return(0,st.jsx)(Q,{title:r("settings"),onClose:t,children:(0,st.jsx)(xt,{rows:y})})},"SwapSettings");a();p();var Zt=c(w());var Jt=c(F());a();p();var u=c(w());var f=c(F());a();p();var Vt=c(w()),tt=c(F()),qt=c(Gt());a();p();var Ut={input:"du47p82 du47p80 du47p81 _48j31a1x7 _48j31a46v"};var Xt=tt.default.memo((0,tt.forwardRef)(({value:n,onChange:e},i)=>(0,Vt.jsx)(qt.default,{ref:i,placeholder:"0.00",value:n,inputClassName:Ut.input,onChange:o(t=>e(t.target.value),"onChange")})));a();p();var R=c(w());var $t=c(F());var be=o(({onPress:n,active:e,children:i,placement:t="solo"})=>{let r=(0,$t.useMemo)(()=>{switch(t){case"top":return{borderTopLeftRadius:"base",borderTopRightRadius:"base"};case"middle":return{};case"bottom":return{borderBottomLeftRadius:"base",borderBottomRightRadius:"base"};case"solo":return{borderRadius:16}}},[t]);return(0,R.jsxs)(m,{direction:"row",alignItems:"flex-start",backgroundColor:"elementBase",gap:8,padding:16,onPress:n,flex:1,...r,children:[(0,R.jsx)(m,{flex:1,minWidth:0,justifyContent:"flex-start",children:i}),(0,R.jsx)(m,{flexShrink:0,children:(0,R.jsx)(wt,{active:e})})]})},"SwapSettingsRadioRow"),lt=o(({rows:n})=>(0,R.jsx)(m,{gap:"table",children:n.map((e,i)=>(0,R.jsx)(be,{...e,placement:o(()=>n.length===1?"solo":i===0?"top":i===n.length-1?"bottom":"middle","getPlacement")()},i))}),"SwapSettingsRadioTable");a();p();var j=c(w());var Kt=c(F());var Yt=o(({onClose:n,hasChanged:e,onConfirm:i,isCustomEnabled:t,customRowError:r,customRowValue:s})=>{let{t:l}=b(),h=(0,Kt.useMemo)(()=>!!(r&&r.severity==="critical"||t&&isNaN(parseFloat(s))),[r,t,s]);return(0,j.jsx)(m,{children:e?(0,j.jsxs)(m,{direction:"row",gap:12,children:[(0,j.jsx)(q,{onPress:n,children:l("commandCancel")}),(0,j.jsx)(q,{background:"spot",onPress:o(()=>{i(),n()},"onPress"),disabled:h,children:l("commandApply")})]}):(0,j.jsx)(q,{background:"spot",onPress:n,children:l("commandDone")})})},"SwapSettingsSubMenuActions");var we=o(({value:n,maxLength:e,maxDecimals:i})=>{let t=ht(n.substring(0,e)),r=St(t,i),s=parseFloat(r);return isNaN(s)?"":r},"validateInput"),k=o(({title:n,autoSubtitle:e,label:i,unit:t,storedValue:r,storedType:s,fixedOptions:l=[],confirm:h,getCustomError:S,goBack:g,close:T,maxLength:y,maxDecimals:_})=>{let ct=(0,f.useMemo)(()=>!r||isNaN(parseFloat(r.toString()))?"":r.toString(),[r]),[P,D]=(0,f.useState)(()=>s==="auto"?"auto":r&&l.includes(r)?"fixed":"custom"),[A,oe]=(0,f.useState)(P!=="fixed"?ct:""),dt=(0,f.useCallback)(C=>{oe(we({value:C,maxLength:y,maxDecimals:_}))},[y,_]),[H,se]=(0,f.useState)(P==="fixed"?ct:""),G=(0,f.useMemo)(()=>P==="auto"?"auto":"fixed",[P]),et=(0,f.useMemo)(()=>{let C=parseFloat(P==="fixed"?H:A);return isNaN(C)||C===0?null:C},[P,H,A]),{t:W}=b(),z=(0,f.useMemo)(()=>S(A,W),[A,S,W]),mt=P==="auto",U=P==="custom",ft=P==="fixed",it=(0,f.useRef)(null),V=(0,f.useCallback)(()=>{it.current?.blur()},[]),ae=(0,f.useMemo)(()=>[{active:mt,id:"radio-auto",onPress:o(()=>{D("auto"),V()},"onPress"),children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(m,{direction:"row",alignItems:"center",gap:8,children:[(0,u.jsx)(yt,{icon:"Zap",shape:"circle",size:24,backgroundColor:"brandGreen"}),(0,u.jsx)(x,{children:W("swapSettingsAuto")})]}),(0,u.jsx)(x,{font:"caption",color:"textDiminished",paddingTop:8,align:"left",children:e})]})}],[mt,e,W,V]),pe=(0,f.useMemo)(()=>[...l.map(rt=>({active:ft&&rt===parseFloat(H),onPress:o(()=>{D("fixed"),se(rt.toString()),V()},"onPress"),children:(0,u.jsxs)(x,{align:"left",children:[rt,t==="percentage"?"%":" SOL"]})})),{active:U,onPress:o(()=>{D("custom"),setTimeout(()=>{it.current?.focus()},100)},"onPress"),children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(m,{direction:"row",alignItems:"center",children:[(0,u.jsx)(x,{marginRight:4,children:W("swapSettingsCustom")}),(0,u.jsx)(Xt,{ref:it,onPress:o(()=>D("custom"),"onPress"),value:A,onChange:dt}),(0,u.jsx)(x,{children:t==="percentage"?"%":" SOL"})]}),U&&z&&A!==""&&(0,u.jsx)(x,{font:"caption",color:z.severity==="critical"?"brandRed":"spotWarning",align:"left",children:z.message})]})}],[l,U,W,A,dt,t,z,ft,H,V]),ue=(0,f.useMemo)(()=>G==="fixed"&&s==="fixed"?et!==r:G!==s,[G,s,et,r]);return(0,u.jsx)(Q,{title:n,onBack:g,footerChildren:(0,u.jsx)(Yt,{onClose:T,hasChanged:ue,onConfirm:o(()=>{h({type:G,value:et})},"onConfirm"),isCustomEnabled:U,customRowError:z,customRowValue:A}),children:(0,u.jsxs)(m,{gap:16,children:[(0,u.jsx)(lt,{rows:ae}),(0,u.jsx)(lt,{rows:pe}),i&&(0,u.jsx)(x,{font:"label",color:"textDiminished",children:i})]})})},"SwapSettingsSubMenu");var Qt=o(({onBack:n,onClose:e})=>{let{t:i}=b(),{selectedSetting:t,isFetched:r,setPriorityFeeSetting:s}=$(),{data:l,isFetched:h}=Y(),{mutateAsync:S}=vt(),g=jt(),T=(0,Jt.useCallback)((y,_)=>Rt(y,_,g),[g]);return!h||!r?null:(0,Zt.jsx)(k,{title:i("swapPriorityFeeSettingsTitle"),autoSubtitle:i("swapPriorityFeeSettingsAutoSubtitle"),goBack:n,close:e,storedValue:l,storedType:t.type,unit:"sol",confirm:o(({type:y,value:_})=>{S(_),s({type:y==="auto"?N.Auto:N.Fixed})},"confirm"),getCustomError:T,maxLength:nt.input.maxLength,maxDecimals:nt.input.maxDecimals})},"SwapSettingsPriorityFee");a();p();var te=c(w());var ee=o(({onBack:n,onClose:e})=>{let{t:i}=b(),{selectedSetting:t,isFetched:r,setSlippageSetting:s}=X(),{data:l,isFetched:h}=Z(),{mutateAsync:S}=Tt();return!h||!r?null:(0,te.jsx)(k,{title:i("swapSlippageSettingsTitle"),autoSubtitle:i("swapSlippageSettingsAutoSubtitle"),goBack:n,close:e,storedValue:l??0,storedType:t.type,confirm:o(({type:g,value:T})=>{S(T),s({type:g==="auto"?E.Auto:E.Fixed})},"confirm"),getCustomError:At,fixedOptions:It,label:i("swapSlippageSettingsSubtitle"),unit:"percentage",maxLength:Pt,maxDecimals:Ft})},"SwapSettingsSlippage");a();p();var ie=c(w());var re=c(F());var ne=o(({onBack:n,onClose:e})=>{let{t:i}=b(),{selectedSetting:t,isFetched:r,setTipSetting:s}=K(),{data:l,isFetched:h}=J(),{mutateAsync:S}=_t(),g=Ct(),T=(0,re.useCallback)((y,_)=>Wt(y,_,g),[g]);return!h||!r?null:(0,ie.jsx)(k,{title:i("swapTipSettingsTitle"),autoSubtitle:i("swapTipSettingsAutoSubtitle"),goBack:n,close:e,storedValue:l,storedType:t.type,unit:"sol",confirm:o(({type:y,value:_})=>{S(_),s({type:y==="auto"?O.Auto:O.Fixed})},"confirm"),getCustomError:T,maxLength:ot.input.maxLength,maxDecimals:ot.input.maxDecimals})},"SwapSettingsTip");var B=c(F(),1);var M=c(w(),1),xe=o(()=>{let[n,e]=(0,B.useState)(null),{handleHideModalVisibility:i}=kt(),t=(0,B.useCallback)(()=>{i("swapSettings")},[i]),r=(0,B.useCallback)(()=>{e(null)},[e]);switch(n){case"slippage":return(0,M.jsx)(ee,{onBack:r,onClose:t});case"priorityFee":return(0,M.jsx)(Qt,{onBack:r,onClose:t});case"tip":return(0,M.jsx)(ne,{onBack:r,onClose:t});default:return(0,M.jsx)(zt,{openSlippage:()=>e("slippage"),openPriorityFee:()=>e("priorityFee"),openTip:()=>e("tip"),dismiss:t})}},"SwapSettingsWrapped"),ve=o(()=>(0,M.jsx)(xe,{}),"SwapSettings"),jr=ve;export{ve as SwapSettings,jr as default};
//# sourceMappingURL=SwapSettings-MI6V4SCN.js.map
