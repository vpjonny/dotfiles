import{a as V}from"./chunk-HDY7D6C7.js";import{b as ie,c as Ue}from"./chunk-IS32WFQV.js";import{a as W}from"./chunk-NPN2MG2Z.js";import"./chunk-Z6STPKGK.js";import{qa as Pe,v as g,xa as Be,za as Fe}from"./chunk-VRODSUQC.js";import"./chunk-27WMCVHA.js";import"./chunk-TRIYFLMU.js";import"./chunk-J4XA5VC7.js";import"./chunk-DQWLAPQA.js";import"./chunk-IUNAS73H.js";import"./chunk-2LKSWQ7Y.js";import"./chunk-H4HL2VJ5.js";import"./chunk-QKX6QMZS.js";import"./chunk-5ENLJTSW.js";import"./chunk-ZMW27YAP.js";import"./chunk-QW5UCU4W.js";import"./chunk-X6Z5FRDC.js";import"./chunk-X4RRAJ67.js";import"./chunk-FFV6ZRAV.js";import"./chunk-END3S5WW.js";import"./chunk-OABENO2E.js";import{b as Se}from"./chunk-VQU4JTIB.js";import"./chunk-ZMU6KWZP.js";import{a as Re}from"./chunk-YSZRDBUS.js";import"./chunk-UE7TCZBL.js";import"./chunk-PFY5DZIQ.js";import"./chunk-L4NFABLQ.js";import"./chunk-P3JRRYSB.js";import"./chunk-GUZFMB3D.js";import"./chunk-N3C6FBKY.js";import"./chunk-CTKHELYY.js";import"./chunk-2L6X42XL.js";import"./chunk-2P4HZW3J.js";import"./chunk-OR3XQXDJ.js";import{c as oe}from"./chunk-HLSJ3VIL.js";import"./chunk-57EVB5FV.js";import{n as A,q as ee,r as te,u as _,v as ae,x as Ie}from"./chunk-44HH5QGP.js";import"./chunk-WVRYN4MY.js";import"./chunk-2LSP5LV2.js";import"./chunk-HLWWEHZK.js";import"./chunk-5JGASDWN.js";import"./chunk-ZDPKBPMV.js";import{b as _e}from"./chunk-DYQ7BPYX.js";import{b as Ee}from"./chunk-NMTPXQAP.js";import"./chunk-SIWEHH3L.js";import{aa as Le,f as ge,h as xe,ka as Ne,o as fe}from"./chunk-N6SSDFMX.js";import"./chunk-YJCG6GWC.js";import{A as H,C as be,D as M,vb as we}from"./chunk-W7IWPUIQ.js";import"./chunk-4SCKDS7G.js";import{Qe as f,dc as $,fc as Ce,kc as N,mf as he}from"./chunk-DJGGVTSJ.js";import"./chunk-FATTDLFQ.js";import"./chunk-2RWUL32J.js";import"./chunk-RWWUDPHX.js";import{Ca as E,Na as Z,Ua as Ae,Z as De,a as Ze,b as j}from"./chunk-LQZGQEJ6.js";import"./chunk-FNC6PQ53.js";import"./chunk-5QQLABHI.js";import{a as x,g as O,i as P,n as B}from"./chunk-WKJYWAXG.js";P();B();var Y=O(Ze(),1);P();B();var U={tokenLinkBase:"_1x2x5wy1 _1x2x5wy0 _48j31a1t1 _48j31a42p",tokenLinkTruncate:"_1x2x5wy3 _1x2x5wy2 _48j31a1t1 _48j31a42p",swapArrow:"_1x2x5wy5 _1x2x5wy4 _48j31a1pi",fullWidthDetailView:"_1x2x5wy7 _1x2x5wy6 _48j31a1lg _48j31axc"};P();B();var $e=O(j(),1),h=x(({onClick:d,color:l,truncate:F=!1,children:e})=>{let R=F?U.tokenLinkTruncate:U.tokenLinkBase;return(0,$e.jsx)("span",{className:R,onClick:d,style:l?{color:l}:void 0,role:"button",tabIndex:0,onKeyDown:X=>{X.key==="Enter"&&d?.()},children:e})},"TokenLink");var o=O(j(),1),Me=x(({label:d,url:l})=>(0,o.jsx)(Ae,{href:l,target:"_blank",color:"spotBase",font:"captionSemibold",cursor:"pointer",numberOfLines:1,style:{maxWidth:`${_e/2}px`,lineHeight:"14px"},children:d}),"Link"),et=x(({activityItem:d})=>{let{interactionData:l,chainMeta:F}=d,{t:e}=De(),{transactionType:R}=l,{status:ne,networkFee:X,networkFeePayer:se}=F,D=F.chainId,b=ne==="failed",{pushDetailView:re}=Se(),{getKnownAddressLabel:We}=Ne(),{data:le}=Le(),{handleHideModalVisibility:ce}=Fe(),G=(0,Y.useCallback)(()=>ce("activityItem"),[ce]),{data:K}=we(),pe=K?.isReadOnly,c=(0,Y.useCallback)((a,t)=>{re((0,o.jsx)("div",{className:U.fullWidthDetailView,children:(0,o.jsx)(Be,{caip19:a,title:t,entryPoint:"activityItemDetail"})}))},[re]),Ve=se?K?.addresses.some(a=>a.address.toLowerCase()===se.toLowerCase()):!1,Ke=he(d.timestamp*1e3,e("richTransactionDetailAt")),z=$.getTokenDecimals(D),w=$.getTokenSymbol(D),ze=ae(X,z,w),I=(0,o.jsx)(g,{activityItem:d,size:"medium"}),u={label:e("richTransactionDetailDate"),value:Ke},me=A(d.id),je="dapp"in l?l.dapp?.displayName:void 0,{bridgeUrl:q,isLoading:He}=Ie(me,je),y=[];if(le){let a=F.chainId,t=le.explorers[a]??ge.get(a).defaultExplorer,i=fe({networkID:a,endpoint:"transaction",explorerType:t,param:me});i!==""&&y.push({label:e("richTransactionDetailViewOnExplorer",{explorer:xe[t]}),value:i,type:"link"})}let S=N({chainId:D,slip44:$.getSlip44(D),resourceType:Ce.nativeToken}),k=b?{label:e("richTransactionDetailStatus"),value:e("richTransactionDetailFailed"),color:E.colors.legacy.spotNegative}:{label:e("richTransactionDetailStatus"),value:e("historyStatusSucceeded"),color:E.colors.legacy.spotPositive},v={label:e("richTransactionDetailNetworkFee"),value:Ve?ze:void 0},C={label:e("historyNetwork"),value:$.getNetworkName(D)},de=Pe(),Te=(0,Y.useCallback)((a,t)=>{Ee.capture("activityItemSwapAgainClicked",{data:{from_asset_caip19:t,to_asset_caip19:a}}),de({buyFungibleCaip19:a,sellFungibleCaip19:t}),G()},[de,G]),m;switch(R){case"TOKEN_SEND":{let t=l.balanceChanges[0],i=te(t,K?.addresses??[]),{token:{symbol:n,decimals:r,displayName:s,tokenType:p,isSpam:T},amount:L}=t,ue=ee(p),ye=N(_(t.token,D)),Ye=i?"+":"-",J=r!==void 0?`${f(L,r)} ${n||""}`:e("transactionsUnknownAmount"),Xe=`${Ye}${J}`,Q=A(i?t.from:t.to),ke=be(Q,void 0,We(Q,D)),Ge={label:e(i?"richTransactionDetailFrom":"richTransactionDetailTo"),value:(0,o.jsx)(V,{delayedChildren:(0,o.jsx)(W,{alignment:"topCenter",copyString:Q,children:ke}),children:ke})},ve=x(Qe=>(0,o.jsx)(h,{onClick:()=>c(ye,t.token.symbol),color:i&&!b?E.colors.legacy.spotPositive:void 0,children:Qe}),"TokenLinkDisplay"),qe=b?[{label:e("historyAttemptedAmount"),value:J}]:[],Je=b?e("transactionsSendFailed"):`${e("transactionsSent")}`;m={sections:[{rows:[u,k,Ge,C,v,...qe,...y]}],title:i?e("transactionsReceived"):Je,primaryText:ue?{value:s||e("richTransactionDetailUnknownNFT")}:b||r===void 0?{value:ve(J)}:{value:ve(Xe)},secondaryText:{value:""},image:ue?I:(0,o.jsx)(g,{activityItem:d,size:"medium",onClick:()=>c(ye,t.token.symbol)}),warning:i&&T?e("spamActivityWarning"):""};break}case"TOKEN_BURN":{let{amount:a,token:t}=l,i="";b||(t.displayName?a==="1"?i=t.displayName:i=`${t.displayName} (${a})`:i=e("richTransactionDetailUnknownNFT")),m={sections:[{rows:[u,k,C,v,...y]}],title:e("richTransactionDetailBurned"),primaryText:{value:i},secondaryText:{value:""},image:I};break}case"TOKEN_SWAP":{let{receiveAmount:a,receiveToken:t,sendAmount:i,sendToken:n,dapp:r}=l,s=M(A(n.id)||""),p=M(A(t.id)||""),T=N(_(n,D)),L=N(_(t,D));m={sections:[{rows:[u,k,C,v]},{title:e("richTransactionDetailSwapDetails"),rows:[{label:e("richTransactionDetailProvider"),value:r?.displayName&&r.logoURI?(0,o.jsx)(ie,{name:r.displayName,imageURL:r.logoURI}):r?.displayName||e("historyUnknownDappName")},{label:e("richTransactionDetailYouPaid"),value:ae(i,n.decimals,n.symbol||""),onClick:x(()=>c(T,n.symbol||s),"onClick")},{label:e("richTransactionDetailYouReceived"),value:t.decimals!==void 0?`+${f(a,t.decimals)} ${t.symbol||""}`:e("transactionsUnknownAmount"),color:t.decimals!==void 0&&!b?E.colors.legacy.spotPositive:"",onClick:x(()=>c(L,t.symbol||p),"onClick")},...y]}],title:e("richTransactionDetailTokenSwap"),primaryText:{value:(0,o.jsxs)(Z,{display:"flex",alignItems:"center",direction:"row",children:[(0,o.jsx)(h,{truncate:!0,onClick:()=>c(T,n.symbol||s),children:n.symbol||s}),(0,o.jsx)("span",{className:U.swapArrow,children:"\u2192"}),(0,o.jsx)(h,{truncate:!0,onClick:()=>c(L,t.symbol||p),children:t.symbol||p})]})},secondaryText:{value:""},image:(0,o.jsx)(g,{activityItem:d,size:"medium",onClick:pe?void 0:()=>Te(L,T)}),swapAgain:pe?void 0:{sendToken:T,receiveToken:L}};break}case"BRIDGE_INIT":{let t=l.balanceChanges[0],i=te(t,K?.addresses??[]),{token:{symbol:n,decimals:r},amount:s}=t,p=N(_(t.token,D)),T=r!==void 0?`${f(s,r)} ${n||""}`:e("transactionsUnknownAmount"),L=He||!q?[]:[{label:q.label,value:q.value,type:"link"}];m={sections:[{rows:[u,k,C,v,...L]}],title:b?e("transactionBridgeInitiatedFailed"):`${e("transactionBridgeInitiated")}`,primaryText:{value:(0,o.jsx)(h,{onClick:()=>c(p,n),color:i&&!b?E.colors.legacy.spotPositive:void 0,children:T})},secondaryText:{value:""},image:(0,o.jsx)(g,{activityItem:d,size:"medium",onClick:()=>c(p,n)})};break}case"TOKEN_UNWRAP":{let{token:a,amount:t}=l,i=M(A(a.id)||""),n=N(_(a,D)),r=a.decimals!==void 0?`+${f(t,a.decimals)} ${a.symbol||""}`:e("transactionsUnknownAmount");m={sections:[{rows:[u,k,C,v]},{title:e("richTransactionDetailUnwrapDetails"),rows:[{label:e("richTransactionDetailYouReceived"),value:(0,o.jsx)(h,{onClick:()=>c(n,a.symbol),color:b?void 0:E.colors.legacy.spotPositive,children:r})},...y]}],title:e("richTransactionDetailTokenUnwrap"),primaryText:{value:(0,o.jsx)(h,{onClick:()=>c(n,a.symbol),children:a.symbol||i})},secondaryText:{value:""},image:(0,o.jsx)(g,{activityItem:d,size:"medium",onClick:()=>c(n,a.symbol)})};break}case"WITHDRAW_STAKE":{let{amount:a,stakeAccount:t}=l,i=A(t),n=H(i,4);m={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:(0,o.jsx)(V,{delayedChildren:(0,o.jsx)(W,{alignment:"topCenter",copyString:i,children:n}),children:n})},C,v,...y]}],title:e("richTransactionDetailWithdrawStake"),primaryText:{value:(0,o.jsxs)(h,{onClick:()=>c(S,w),color:b?void 0:E.colors.legacy.spotPositive,children:["+",f(a,z)," ",w]})},secondaryText:{value:""},image:(0,o.jsx)(g,{activityItem:d,size:"medium",onClick:()=>c(S,w)})};break}case"DEACTIVATE_STAKE":{let{amount:a,stakeAccount:t}=l,i=A(t),n=H(i,4);m={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:(0,o.jsx)(V,{delayedChildren:(0,o.jsx)(W,{alignment:"topCenter",copyString:i,children:n}),children:n})},C,v,...y]}],title:e("richTransactionDetailUnstaked"),primaryText:{value:(0,o.jsxs)(h,{onClick:()=>c(S,w),children:[f(a,z)," ",w]})},secondaryText:{value:""},image:(0,o.jsx)(g,{activityItem:d,size:"medium",onClick:()=>c(S,w)})};break}case"STAKE":{let{amount:a,stakeAccount:t,validatorName:i,validatorWebsite:n}=l,r=A(t),s=H(r,4);m={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:(0,o.jsx)(V,{delayedChildren:(0,o.jsx)(W,{alignment:"topCenter",copyString:r,children:s}),children:s})},{label:"Validator",value:i&&n?(0,o.jsx)(Me,{label:i,url:n}):i},C,v,...y]}],title:e("richTransactionDetailStaked"),primaryText:{value:(0,o.jsxs)(h,{onClick:()=>c(S,w),children:["-",f(a,z)," ",w]})},secondaryText:{value:""},image:(0,o.jsx)(g,{activityItem:d,size:"medium",onClick:()=>c(S,w)})};break}case"COLLECTIBLE_LIST":case"COLLECTIBLE_BUY_ITEM":case"COLLECTIBLE_CANCEL_BID":case"COLLECTIBLE_BID_ITEM":case"COLLECTIBLE_UNLIST":case"COLLECTIBLE_SELL_ITEM":{let{dapp:a,item:t,forAmount:i,forAsset:n,listingUrl:r}=l,s=n.decimals!==void 0?`${f(i,n.decimals)} ${n.symbol||""}`:e("transactionsUnknownAmount"),p=t.displayName||e("richTransactionDetailUnknownNFT"),T={COLLECTIBLE_LIST:{priceRow:{label:e("richTransactionDetailListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailListed")},COLLECTIBLE_UNLIST:{priceRow:{label:e("richTransactionDetailOriginalListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailUnlisted")},COLLECTIBLE_BID_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailBid")},COLLECTIBLE_CANCEL_BID:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailCancelBid")},COLLECTIBLE_BUY_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailPurchaseDetails"),detailTitle:e("richTransactionDetailBought")},COLLECTIBLE_SELL_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailSaleDetails"),detailTitle:e("richTransactionDetailSold")}};m={sections:[{rows:[u,k,C,v]},{title:T[R].sectionTitle,rows:[T[R].priceRow,{label:e("richTransactionDetailItem"),value:p&&r?(0,o.jsx)(Me,{label:p,url:r}):p},{label:e("richTransactionDetailMarketplace"),value:a?.displayName&&a?.logoURI?(0,o.jsx)(ie,{name:a.displayName,imageURL:a.logoURI}):a?.displayName||""},...y]}],title:T[R].detailTitle,primaryText:{value:p},secondaryText:{value:""},image:I};break}case"CANCEL_TX":{m={sections:[{rows:[u,k,C,v,...y]}],title:e("transactionCancelled"),primaryText:{value:""},secondaryText:{value:""},image:I};break}case"TOKEN_APPROVAL":{let{dapp:a,token:t,isApproved:i}=l,n=a?.displayName||e("historyUnknownDappName"),r=a?.displayName?[{label:e("transactionApproveAppLabel"),value:a?.displayName}]:[],s=M(A(t.id)||""),p=ee(t.tokenType)?t.displayName:t.symbol,T=N(_(t,D));m={sections:[{rows:[u,k,C,v]},{title:e("transactionApproveDetailsTitle"),rows:[...r,{label:e("transactionApproveTokenLabel"),value:p||s,onClick:x(()=>c(T,p||s),"onClick")},...y]}],title:(0,o.jsx)(h,{onClick:()=>c(T,p||s),children:e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:p||""})}),primaryText:{value:""},secondaryText:{value:n},image:(0,o.jsx)(g,{activityItem:d,size:"medium",onClick:()=>c(T,p||s)})};break}case"COLLECTION_APPROVAL":{let{dapp:a,collection:t,isApproved:i}=l,n=a?.displayName||e("historyUnknownDappName"),r=a?.displayName?[{label:e("transactionApproveAppLabel"),value:a?.displayName}]:[],s=t.displayName;m={sections:[{rows:[u,k,C,v]},{title:e("transactionApproveDetailsTitle"),rows:[...r,{label:e("transactionApproveCollectionLabel"),value:s},...y]}],title:e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:s}),primaryText:{value:""},secondaryText:{value:n},image:I};break}case"CANCEL_ORDER":{let{dapp:a}=l;m={sections:[{rows:[u,k,C,v,...y]}],title:e("transactionCancelOrder"),primaryText:{value:""},secondaryText:{value:a?.displayName||e("historyUnknownDappName")},image:I};break}case"UNCLASSIFIED_APP_INTERACTION":default:{let{dapp:a}=l,t=a?.displayName||e("historyUnknownDappName");m={sections:[{rows:[u,k,C,v,...y]}],title:e("richTransactionDetailAppInteraction"),primaryText:{value:""},secondaryText:{value:t},image:I};break}}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ue,{...m}),(0,o.jsx)(Re,{removeFooterExpansion:!1,children:(0,o.jsxs)(Z,{display:"flex",justifyContent:"space-between",gap:8,children:[(0,o.jsx)(oe,{onClick:G,children:e("commandClose")}),m.swapAgain&&(0,o.jsx)(oe,{onClick:()=>Te(m.swapAgain.receiveToken,m.swapAgain.sendToken),theme:"primary",children:e("commandSwapAgain")})]})})]})},"ActivityItemDetail"),la=et;export{et as ActivityItemDetail,Me as Link,la as default};
//# sourceMappingURL=ActivityItemDetail-K5BOI4UI.js.map
