import{b as lp,d as bn,f as ms,g as hs,h as He,i as fs,j as An,k as fe,l as wr,m as up,n as br,o as Ar,p as mp,q as hp,r as fp,t as gs,u as q,v as wp,w as a}from"../chunk-UPXKAE6L.js";import"../chunk-3POTW42L.js";import{a as ao}from"../chunk-YFUUBSYD.js";import{d as bp}from"../chunk-657ZALHT.js";import"../chunk-UE7TCZBL.js";import{b as xp,c as Ap}from"../chunk-73ZPMDWU.js";import"../chunk-TCAPEBDX.js";import"../chunk-FJWAMDUD.js";import{b as bd}from"../chunk-GUZFMB3D.js";import{a as io,b as rp,c as us,d as np,e as op,g as sp,k as ip}from"../chunk-N3C6FBKY.js";import"../chunk-CTKHELYY.js";import{b as ap}from"../chunk-W5EYARUT.js";import{a as tp,c as cp,d as dp,f as pp,h as kt,j as gp}from"../chunk-3H3VDE2B.js";import{a as tt}from"../chunk-6L5OAXTQ.js";import"../chunk-EAEMLYNM.js";import{Qb as yp,g as Md}from"../chunk-44HH5QGP.js";import{a as gr,b as mn,d as Uc}from"../chunk-WVRYN4MY.js";import"../chunk-2LSP5LV2.js";import"../chunk-HLWWEHZK.js";import"../chunk-5JGASDWN.js";import"../chunk-ZDPKBPMV.js";import{b as Sn,c as ys}from"../chunk-DYQ7BPYX.js";import{a as Be,b as Oe}from"../chunk-NMTPXQAP.js";import{a as Ud}from"../chunk-SIWEHH3L.js";import{Aa as Bd,B as vd,Ba as Ld,I as Td,J as xr,M as kd,N as Id,e as Yt,ea as Rd,m as Sd,n as _d,na as ds,oa as ps,qa as yn,r as Ed,ra as xn,w as Xt,x as Vr,ya as Cd,z as cs}from"../chunk-N6SSDFMX.js";import{a as Dr}from"../chunk-YJCG6GWC.js";import{C as rd,Ca as hd,Ea as fd,G as nd,Ia as gd,K as od,Ka as Ot,Ma as yd,N as sd,Na as eo,P as id,Q as ad,Qa as xd,Ra as wd,V as ud,aa as md,jb as as,p as Jc,v as Qc,vc as Ad,w as ed,x as td,y as Ue}from"../chunk-W7IWPUIQ.js";import{Fb as Wd,Jb as Zd,Kb as Yd,Nb as Xd,Pa as oo,Qb as so,Ua as Jt,ca as ut,d as jr,da as gt,ea as Pd,eb as qd,fa as Ze,fb as Kd,ga as to,ha as ro,hb as Gd,i as Nd,ia as Hd,ja as Dt,jc as Jd,ka as ls,la as yt,lc as Qd,ma as no,mc as ep,na as Fd,oa as $d,ob as xt,pa as zd,qa as Vd,ra as jd,sa as Pt,ta as wn,w as Od,y as Dd}from"../chunk-4SCKDS7G.js";import{Ac as Fr,B as Pc,Bb as zc,Bc as Kc,Cb as Vc,Cc as Wn,Da as fn,Fa as ns,G as de,H as _e,Hd as Zc,I as ee,J as hn,Ja as Kn,L as X,Lb as ot,Le as Xn,Ma as $c,Mb as Pr,Nc as Gc,Pc as $r,Re as dd,Sc as zr,Zd as Yn,_d as Yc,_e as is,b as vf,dc as Qe,ed as Wc,ee as yr,f as Or,fa as Hc,fc as os,ge as Xc,jc as Gn,kc as ss,q as Bc,r as Lc,ra as be,sc as Hr,te as cd,tf as ld,uf as Jn,v as ke,vc as st,vf as Qn,wc as jc,wd as Zn,wf as Nt,xd as gn,ya as Fc,yc as qc}from"../chunk-DJGGVTSJ.js";import{A as Jo,B as Le,C as Ic,G as Qo,H as es,I as Fn,J as $n,K as zn,L as we,M as pn,N as Ce,O as ln,P as Mt,Q as Rc,R as Cc,S as Mr,T as ts,U as un,V as ye,W as Vn,X as fr,Y as pd,d as mr,t as Ur,u as Tc,v as kc}from"../chunk-FATTDLFQ.js";import"../chunk-2RWUL32J.js";import"../chunk-RWWUDPHX.js";import{D as Dc,Rb as kf,U as it,a as Ne,b as Ie,j as hr,k as Nr,m as rs,o as Mc,q as jn,r as qn,t as Nc,v as Oc,za as Tf}from"../chunk-LQZGQEJ6.js";import"../chunk-FNC6PQ53.js";import"../chunk-5QQLABHI.js";import{a as o,b as dn,d as vc,e as De,g as ce,i as d,m as Buffer,n as p}from"../chunk-WKJYWAXG.js";var Ju=vc((sv,Xu)=>{"use strict";d();p();function wy(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var c=e.length,l=e.charAt(0),u=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function x(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var b=0,S=0,w=0,v=E.length;w!==v&&E[w]===0;)w++,b++;for(var C=(v-w)*f+1>>>0,R=new Uint8Array(C);w!==v;){for(var B=E[w],D=0,M=C-1;(B!==0||D<S)&&M!==-1;M--,D++)B+=256*R[M]>>>0,R[M]=B%c>>>0,B=B/c>>>0;if(B!==0)throw new Error("Non-zero carry");S=D,w++}for(var te=C-S;te!==C&&R[te]===0;)te++;for(var W=l.repeat(b);te<C;++te)W+=e.charAt(R[te]);return W}o(x,"encode");function g(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;for(var b=0,S=0,w=0;E[b]===l;)S++,b++;for(var v=(E.length-b)*u+1>>>0,C=new Uint8Array(v);E[b];){var R=t[E.charCodeAt(b)];if(R===255)return;for(var B=0,D=v-1;(R!==0||B<w)&&D!==-1;D--,B++)R+=c*C[D]>>>0,C[D]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");w=B,b++}for(var M=v-w;M!==v&&C[M]===0;)M++;for(var te=new Uint8Array(S+(v-M)),W=S;M!==v;)te[W++]=C[M++];return te}o(g,"decodeUnsafe");function y(E){var b=g(E);if(b)return b;throw new Error("Non-base"+c+" character")}return o(y,"decode"),{encode:x,decodeUnsafe:g,decode:y}}o(wy,"base");Xu.exports=wy});var rn=vc((dv,Qu)=>{d();p();var by=Ju(),Ay="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Qu.exports=by(Ay)});d();p();d();p();d();p();d();p();var Sp=ce(vf(),1),co=ce(Ne(),1),Pf=ce(Ie(),1),ws=ce(Ne(),1),_p=ce(Ne(),1),bs=ce(Ne(),1),As=ce(Ne(),1);var rt={SOLANA_MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",SOLANA_DEVNET:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",SOLANA_TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3",ETHEREUM_MAINNET:"eip155:1",ETHEREUM_SEPOLIA:"eip155:11155111",MONAD_DEVNET:"eip155:20143"},U0={[rt.SOLANA_MAINNET]:"Solana Mainnet",[rt.SOLANA_DEVNET]:"Solana Devnet",[rt.SOLANA_TESTNET]:"Solana Testnet",[rt.ETHEREUM_MAINNET]:"Ethereum Mainnet",[rt.ETHEREUM_SEPOLIA]:"Ethereum Sepolia",[rt.MONAD_DEVNET]:"Monad Devnet"};var M0=Object.freeze({});var If={name:"@dialectlabs/blinks-core",version:"0.18.1",license:"Apache-2.0",private:!1,sideEffects:!0,type:"module",repository:{type:"git",url:"https://github.com/dialectlabs/blinks"},scripts:{build:"tsup-node",dev:"tsup-node --watch"},main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",exports:{".":{import:"./dist/index.js",require:"./dist/index.cjs",types:"./dist/index.d.ts"}},files:["dist"],devDependencies:{"@solana/actions-spec":"~2.4.2","@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^7.16.1","@typescript-eslint/parser":"^7.16.1",autoprefixer:"^10.4.19",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-react":"^7.34.4","eslint-plugin-react-hooks":"^4.6.2",postcss:"^8.4.39","postcss-prefix-selector":"^1.16.1",prettier:"^3.3.3","prettier-plugin-organize-imports":"^4.0.0","prettier-plugin-tailwindcss":"^0.6.5",tailwindcss:"^3.4.3",tsup:"^8.2.0",typescript:"^5.5.3"},peerDependencies:{react:">=18","@solana/web3.js":"^1.95.3"},dependencies:{nanoid:"^5.0.7"},peerDependenciesMeta:{"@solana/web3.js":{optional:!0}}},Rf=If,N0=Rf.devDependencies["@solana/actions-spec"].replace(/[^\d.]/g,"");var Cf=[rt.SOLANA_MAINNET,rt.SOLANA_DEVNET];var O0=[rt.SOLANA_MAINNET];var Bf="(?<domain>[^\\n]+?) wants you to sign a message with your account:\\n",Lf="(?<address>[^\\n]+)(?:\\n|$)",Uf="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))",Mf="(?:\\nChain ID: (?<chainId>[^\\n]+))?",Nf="\\nNonce: (?<nonce>[^\\n]+)",Of="\\nIssued At: (?<issuedAt>[^\\n]+)",Df=`${Mf}${Nf}${Of}`,D0=new RegExp(`^${Bf}${Lf}${Uf}${Df}\\n*$`);var P0=class xs{static{o(this,"_ActionConfig")}constructor(t,r){if(this.adapter=r,!t)throw new Error("rpcUrl or connection is required");this.connection=typeof t=="string"?new Sp.Connection(t,"confirmed"):t}static CONFIRM_TIMEOUT_MS=6e4*1.2;static DEFAULT_METADATA={supportedBlockchainIds:Cf};connection;get metadata(){return this.adapter.metadata??xs.DEFAULT_METADATA}signTransaction(t,r){return this.adapter.signTransaction(t,r)}confirmTransaction(t){return new Promise((r,n)=>{let s=Date.now(),i=o(async()=>{if(Date.now()-s>=xs.CONFIRM_TIMEOUT_MS){n(new Error("Unable to confirm transaction: timeout reached"));return}try{let c=await this.connection.getSignatureStatus(t);if(c.value?.err){n(new Error("Transaction execution failed, check wallet for details"));return}if(c.value&&c.value.confirmations!==null){r();return}}catch(c){console.error("[@dialectlabs/blinks] Error confirming transaction",c)}setTimeout(i,3e3)},"confirm");i()})}async signMessage(t,r){return this.adapter.signMessage(t,r)}async connect(t){try{return await this.adapter.connect(t)}catch{return null}}},H0=10*60*1e3;var qf=ce(Ne(),1);d();p();var Kf=ce(Ne(),1);var vp=ce(Ie(),1);var Gf=ce(Ne(),1),Wf=ce(Ie(),1);var Zf=ce(Ie(),1),Yf=ce(Ie(),1),Tp=ce(Ie(),1),kp=ce(Ie(),1),Ip=ce(Ie(),1),e2=ce(Ne(),1),Xf=ce(Ie(),1),t2=ce(Ne(),1),Jf=ce(Ie(),1),r2=ce(Ne(),1),Rp=ce(Ie(),1),Qf=ce(Ne(),1),Ss=ce(Ie(),1);var Cp=ce(Ie(),1),Bp=ce(Ie(),1);var _s=ce(Ne(),1);var eg=ce(Ne(),1),tg=ce(Ie(),1),Lp=ce(Ie(),1),Up=ce(Ie(),1),_n=ce(Ne(),1),Mp=ce(Ie(),1);var rg=ce(Ne(),1),Np=ce(Ie(),1),ng=ce(Ie(),1),po=ce(Ne(),1),og=ce(Ie(),1),sg=ce(Ie(),1),lo=ce(Ne(),1),ig=ce(Ie(),1),ag=ce(Ie(),1);var uo=ce(Ne(),1);var cg=ce(Ne(),1),Op=ce(Ie(),1),Dp=ce(Ie(),1),mo=ce(Ne(),1),Pp=ce(Ie(),1),Es=ce(Ne(),1),dg=ce(Ie(),1),vs=ce(Ne(),1),pg=ce(Ie(),1),ho=ce(Ne(),1),lg=ce(Ie(),1),Ts=ce(Ie(),1);var ug=ce(Ne(),1);var Hp=ce(Ie(),1),mg=ce(Ie(),1);var hg=ce(Ne(),1),fg=ce(Ie(),1);var gg=ce(Ne(),1);var Fp=ce(Ne(),1);var yg=ce(Ne(),1),$p=ce(Ie(),1),xg=ce(Ie(),1);d();p();d();p();var wg=ce(mr(),1);d();p();function ks(e,t){if(!e)return{hideProvidersArray:!1,dontOverrideWindowEthereum:!1};let r=t.find(n=>n.hostname.toLowerCase().trim()===e.toLowerCase().trim());return r?{hideProvidersArray:r.hideProvidersArray,dontOverrideWindowEthereum:r.dontOverrideWindowEthereum}:{hideProvidersArray:!1,dontOverrideWindowEthereum:!1}}o(ks,"getRemoteProviderConfigurationSettings");d();p();d();p();d();p();function zp(e){return new Promise(t=>setTimeout(t,e))}o(zp,"delayAsync");function bg(e,t){let r=typeof t.interval=="function"?t.interval:()=>t.interval;if(typeof e!="function")throw new Error("Invalid arguments for retryInternal");let n=1;async function s(){try{return await e()}catch(i){if(n++<t.times&&t.errorFilter(i))return await zp(r(n-1)),s();throw i}}return o(s,"retryAttempt"),s()}o(bg,"retryInternal");async function Vp(e,t,r=3,n=2e3,s){return bg(e,{times:r,interval:s?()=>n:i=>n*Math.pow(2,i-1),errorFilter:t})}o(Vp,"withRetry");var Ag="https://sanity-proxy-v2.phantom.app",Sg="production",_g=hr.object({hostname:hr.string(),hideProvidersArray:hr.boolean(),dontOverrideWindowEthereum:hr.boolean()}),Eg=hr.object({dApps:hr.array(_g).optional()}).optional(),vg=`
*[_type == 'dAppsList' && _id == 'dAppsList-singleton']{
 dApps
}[0]`,Is=o(()=>Vp(async()=>{let e=await Pc.noBearer().get(`${Ag}/v1/data/query/${Sg}?query=${encodeURIComponent(vg)}`);if(e.status>=300)throw new Error(`status code: ${e.status}, body: ${e.data}`);let t=e.data;return Eg.parse(t.result)?.dApps??[]},()=>!0,3,50),"fetchDappsList");function Rs(e){try{let t=new URL(e).hostname;if(!t||t==="localhost")return null;let r="www.";return t.startsWith(r)?t.slice(r.length):t}catch{return null}}o(Rs,"getHostname");d();p();d();p();var Ht;(function(e){e.BlinksEnabled="blinksEnabled",e.BlinksLog="blinksLog",e.BlinksV2Config="BlinksV2Config"})(Ht||(Ht={}));var yf=ce(kf(),1),et=ce(Dr(),1);d();p();var Xl=ce(Tf(),1),Jl=ce(Dr(),1);d();p();var fo=[],Cs=o(e=>{fo.push(e)},"addDappNotificationStream"),Bs=o(e=>{fo.splice(fo.findIndex(t=>{let{origin:r,tabId:n,port:s}=t;return e.origin===r&&e.tabId===n&&s===e.port}),1)},"removeDappNotificationStream"),qr=o(()=>fo.map(({origin:e,tabId:t,port:r})=>({origin:e,tabId:t,send:o(n=>r.postMessage(JSON.stringify(n)),"send")})),"getDappTabs");d();p();d();p();var Tg=new Error("There is no currently selected account"),ge=o(async()=>{let e=await Ad();if(!e)throw Tg;return e},"getSelectedAccount");var go=o(async()=>{let e=await ge();return Ls(e)},"getSelectedAccount"),Ls=o(e=>{let t=e.addresses.filter(s=>s.networkID===fn.Mainnet||s.networkID===fn.Testnet);if(t.length===0)throw Qc;if(t.length===1){let[s]=t;if(!s?.publicKey)throw new Error("[btc provider] selected account account does not have a public key");return[{address:s.address,publicKey:Buffer.from(s.publicKey).toString("hex"),addressType:s.addressType,purpose:"payment"},{address:s.address,publicKey:Buffer.from(s.publicKey).toString("hex"),addressType:s.addressType,purpose:"ordinals"}]}let r=t.find(s=>s.addressType===be.BitcoinTaproot);if(!r?.publicKey)throw new Error("[btc provider] ordinalAddress does not have a public key");let n=t.find(s=>s.addressType===be.BitcoinNativeSegwit);if(!n?.publicKey)throw new Error("[btc provider] paymentAddress does not have a public key");return[{address:n.address,publicKey:Buffer.from(n.publicKey).toString("hex"),addressType:n.addressType,purpose:"payment"},{address:r.address,publicKey:Buffer.from(r.publicKey).toString("hex"),addressType:r.addressType,purpose:"ordinals"}]},"getBitcoinAddressWithPurpose");var Ns={};De(Ns,{addChain:()=>jp,autoConfirmValidateMessage:()=>Gp,autoConfirmValidateTransaction:()=>Wp,doesSupportEth:()=>Zp,getAccountNonce:()=>Yp,getAccounts:()=>Xp,getEnabledChains:()=>Jp,getNetworkId:()=>Kr,getRpcURL:()=>Qp,getSelectedAccount:()=>el,getSupportedNetworks:()=>tl,sendTransaction:()=>rl,signAndSendTransaction:()=>nl,signMessage:()=>ol,signTypedData:()=>sl,switchChain:()=>il});d();p();d();p();var jp=o(async e=>{let t=parseInt(e.chainId.substring(2),16);return!!Fr(t)},"addChain");d();p();d();p();var qp=ce(Dr(),1);var kg=new Be,Us=class extends lp{static{o(this,"AutoConfirmService")}constructor(){super(kg)}async isTabFocused(t){this.executedChecksAudit.push(Vn.IsTabFocused);let n=(await qp.default.tabs.query({active:!0,lastFocusedWindow:!0}))[0]?.url;return n?new URL(n).hostname===new URL(t).hostname:!1}async isFeatureEnabled(){return this.executedChecksAudit.push(Vn.IsFeatureFlagEnabled),await yr.isFeatureEnabledAsync("kill-automatic-approval")!==!0}async isWalletUnlocked(){return this.executedChecksAudit.push(Vn.IsWalletUnlocked),!!He()}},Ye=new Us;d();p();d();p();var yo={};d();p();var Ms=[new Be];async function Kp(){for(let e of Ms){let t=await e.get(Ot.DeveloperMode);if(t)return t.isDeveloperMode}return!1}o(Kp,"getIsDeveloperMode");var Kr=o(async e=>{if(await Kp()){let i=(await Ed(Ms)).eip155;if(!i)throw new Error("No evm developer mode chainId set");let c=i.replace("eip155:","");return es(c)}let r=yo[e]??Fc.Mainnet,n=Qe.getEVMNetworkIDValue(r);return es(n.toString())},"getNetworkId");var Gp=o(async(e,t)=>{let r=await Kr(e.origin);if(!r)return{status:ye.UnsupportedNetworkId};let n=Hr(r);if(!Qe.isEVMNetworkID(n))return{status:ye.UnsupportedNetworkId};let s=await ge(),i=await Ue(s,be.EVM),c=Yt(it.language)??"en",l=await Oe.getDeviceId();return await Ye.isEthMessageAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:i,accountIdentifier:s.identifier},{locale:c,deviceId:l})},"autoConfirmValidateMessage");d();p();var Wp=o(async(e,t)=>{let r=t[0]?.chainId;if(!r)return{status:ye.UnsupportedNetworkId};let n=Hr(r);if(!Qe.isEVMNetworkID(n))return{status:ye.UnsupportedNetworkId};let s=await ge(),i=await Ue(s,be.EVM),c=Yt(it.language)??"en",l=await Oe.getDeviceId();return Ye.isEthTransactionAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:i,accountIdentifier:s.identifier},{locale:c,deviceId:l})},"autoConfirmValidateTransaction");d();p();var Zp=o(async()=>(await ge()).addresses.some(t=>t.addressType===be.EVM),"doesSupportEth");d();p();var Ig=new Be,Yp=o(async(e,t)=>{let r=parseInt(e.replace("0x",""),16),n=Fr(r);if(!n)throw new Error(`Unsupported EVM Network ID: ${r}`);return Wd(n,t,Ig)},"getAccountNonce");d();p();var Xp=o(async()=>{let e=await ge();return[Ue(e,be.EVM).toLowerCase()]},"getAccounts");d();p();var Jp=o(async(e=!1)=>{let t=new Be,r=Xc(),n=await t.get(Ot.DeveloperMode);return e?r.enabledNetworkIDs.map(Wn):n?.isDeveloperMode===!0?r.enabledTestnetOnlyNetworkIDs.map(Wn):r.enabledMainnetOnlyNetworkIDs.map(Wn)},"getEnabledChains");d();p();var Qp=o(async e=>{let t=Kn.parse(`eip155:${parseInt(e,16)}`);if(!Qe.isEVMNetworkID(t))throw new Error(`Invalid EVM NetworkID for chainID: ${e}`);let r=Qe.getRpcProxyUrl(t);if(!r)throw new Error(`No RPC URL found for chainID ${e}`);return r},"getRpcURL");d();p();var el=o(async()=>{let e=await ge();return Ue(e,be.EVM).toLowerCase()},"getSelectedAccount");d();p();var tl=o(()=>Kc(),"getSupportedNetworks");d();p();d();p();var Rg=new Be,xo=o(async(e,t)=>{let r=await ge();Ue(r,be.EVM);let n=it.t("transactionsAppInteraction"),s=Kn.parse(`eip155:${e.chainId?parseInt(e.chainId,16):void 0}`),i=rd(e.to??"",void 0,void 0,5),c=dd(e.value??"",Qe.getTokenDecimals(s)),l=Qe.getTokenSymbol(s);if(e.nonce===void 0)throw new Error("nonce missing on unsigned transaction");if(e.maxFeePerGas==null||e.maxPriorityFeePerGas==null){let x=(await Od(s,!0))?.standard;if(x)e.maxFeePerGas==null&&(e.maxFeePerGas=`0x${x.maxFeePerGas.integerValue(Nr.ROUND_CEIL).toString(16)}`),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=`0x${x.maxPriorityFeePerGas.integerValue(Nr.ROUND_CEIL).toString(16)}`);else throw new Error("Standard transaction speed price information is missing.")}let u={accountSigner:fe,accountIdentifier:r.identifier,networkID:s,unsignedTransaction:e,callPayload:void 0,pendingTransactionInput:{ownerAddress:e.from,networkID:s,data:{nonce:e.nonce,hash:"",unsignedTransaction:Tc.parse({from:e.from})},type:jr.DappInteraction,display:{summary:{topLeft:{text:n},topRight:{text:c?`- ${c} ${l}`:""}},detail:{uiRecipient:i}}},storage:Rg};return t?await Zd({...u,signature:t}):await Yd(u)},"sendEthTransaction");var rl=xo;d();p();var nl=xo;d();p();var ol=o(async e=>{let t=fp(e),r=await ge();Ue(r,be.EVM);let n=await fe.sign(r.identifier,{chainType:be.EVM,signingType:"message",message:t});if(n.status==="error")throw new Error(`[${n.type}] ${n.message}`);return n.signature},"signMessage");d();p();var sl=o(async e=>{let t=await ge();Ue(t,be.EVM);let r=await fe.sign(t.identifier,{chainType:be.EVM,signingType:"typedData",...e});if(r.status==="error")throw new Error(`[${r.type}] ${r.message}`);return r.signature},"signTypedData");d();p();var il=o(async(e,t)=>{let r=parseInt(e.substring(2),16),n=Fr(r);return n?(yo[t]=n,!0):!1},"switchChain");d();p();d();p();d();p();d();p();d();p();d();p();function al(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}o(al,"number");function Cg(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}o(Cg,"isBytes");function Gr(e,...t){if(!Cg(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}o(Gr,"bytes");function cl(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");al(e.outputLen),al(e.blockLen)}o(cl,"hash");function Wr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}o(Wr,"exists");function dl(e,t){Gr(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(dl,"output");d();p();d();p();var Sr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var wo=o(e=>new DataView(e.buffer,e.byteOffset,e.byteLength),"createView"),wt=o((e,t)=>e<<32-t|e>>>t,"rotr");var e3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function pl(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}o(pl,"utf8ToBytes");function En(e){return typeof e=="string"&&(e=pl(e)),Gr(e),e}o(En,"toBytes");function Os(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];Gr(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let i=e[n];r.set(i,s),s+=i.length}return r}o(Os,"concatBytes");var Zr=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},t3={}.toString;function bo(e){let t=o(n=>e().update(En(n)).digest(),"hashC"),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}o(bo,"wrapConstructor");function Ao(e=32){if(Sr&&typeof Sr.getRandomValues=="function")return Sr.getRandomValues(new Uint8Array(e));if(Sr&&typeof Sr.randomBytes=="function")return Sr.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}o(Ao,"randomBytes");function Bg(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),i=BigInt(4294967295),c=Number(r>>s&i),l=Number(r&i),u=n?4:0,f=n?0:4;e.setUint32(t+u,c,n),e.setUint32(t+f,l,n)}o(Bg,"setBigUint64");var ll=o((e,t,r)=>e&t^~e&r,"Chi"),ul=o((e,t,r)=>e&t^e&r^t&r,"Maj"),Yr=class extends Zr{static{o(this,"HashMD")}constructor(t,r,n,s){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=wo(this.buffer)}update(t){Wr(this);let{view:r,buffer:n,blockLen:s}=this;t=En(t);let i=t.length;for(let c=0;c<i;){let l=Math.min(s-this.pos,i-c);if(l===s){let u=wo(t);for(;s<=i-c;c+=s)this.process(u,c);continue}n.set(t.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Wr(this),dl(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:i}=this,{pos:c}=this;r[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(n,0),c=0);for(let g=c;g<s;g++)r[g]=0;Bg(n,s-8,BigInt(this.length*8),i),this.process(n,0);let l=wo(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=u/4,x=this.get();if(f>x.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)l.setUint32(4*g,x[g],i)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:i,destroyed:c,pos:l}=this;return t.length=s,t.pos=l,t.finished=i,t.destroyed=c,s%r&&t.buffer.set(n),t}};d();p();var So=BigInt(4294967295),Ds=BigInt(32);function ml(e,t=!1){return t?{h:Number(e&So),l:Number(e>>Ds&So)}:{h:Number(e>>Ds&So)|0,l:Number(e&So)|0}}o(ml,"fromBig");function Lg(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){let{h:i,l:c}=ml(e[s],t);[r[s],n[s]]=[i,c]}return[r,n]}o(Lg,"split");var Ug=o((e,t)=>BigInt(e>>>0)<<Ds|BigInt(t>>>0),"toBig"),Mg=o((e,t,r)=>e>>>r,"shrSH"),Ng=o((e,t,r)=>e<<32-r|t>>>r,"shrSL"),Og=o((e,t,r)=>e>>>r|t<<32-r,"rotrSH"),Dg=o((e,t,r)=>e<<32-r|t>>>r,"rotrSL"),Pg=o((e,t,r)=>e<<64-r|t>>>r-32,"rotrBH"),Hg=o((e,t,r)=>e>>>r-32|t<<64-r,"rotrBL"),Fg=o((e,t)=>t,"rotr32H"),$g=o((e,t)=>e,"rotr32L"),zg=o((e,t,r)=>e<<r|t>>>32-r,"rotlSH"),Vg=o((e,t,r)=>t<<r|e>>>32-r,"rotlSL"),jg=o((e,t,r)=>t<<r-32|e>>>64-r,"rotlBH"),qg=o((e,t,r)=>e<<r-32|t>>>64-r,"rotlBL");function Kg(e,t,r,n){let s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:s|0}}o(Kg,"add");var Gg=o((e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),"add3L"),Wg=o((e,t,r,n)=>t+r+n+(e/2**32|0)|0,"add3H"),Zg=o((e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),"add4L"),Yg=o((e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0,"add4H"),Xg=o((e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0),"add5L"),Jg=o((e,t,r,n,s,i)=>t+r+n+s+i+(e/2**32|0)|0,"add5H");var Qg={fromBig:ml,split:Lg,toBig:Ug,shrSH:Mg,shrSL:Ng,rotrSH:Og,rotrSL:Dg,rotrBH:Pg,rotrBL:Hg,rotr32H:Fg,rotr32L:$g,rotlSH:zg,rotlSL:Vg,rotlBH:jg,rotlBL:qg,add:Kg,add3L:Gg,add3H:Wg,add4L:Zg,add4H:Yg,add5H:Jg,add5L:Xg},ve=Qg;var[e1,t1]=ve.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Qt=new Uint32Array(80),er=new Uint32Array(80),Ps=class extends Yr{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:s,Ch:i,Cl:c,Dh:l,Dl:u,Eh:f,El:x,Fh:g,Fl:y,Gh:E,Gl:b,Hh:S,Hl:w}=this;return[t,r,n,s,i,c,l,u,f,x,g,y,E,b,S,w]}set(t,r,n,s,i,c,l,u,f,x,g,y,E,b,S,w){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=c|0,this.Dh=l|0,this.Dl=u|0,this.Eh=f|0,this.El=x|0,this.Fh=g|0,this.Fl=y|0,this.Gh=E|0,this.Gl=b|0,this.Hh=S|0,this.Hl=w|0}process(t,r){for(let R=0;R<16;R++,r+=4)Qt[R]=t.getUint32(r),er[R]=t.getUint32(r+=4);for(let R=16;R<80;R++){let B=Qt[R-15]|0,D=er[R-15]|0,M=ve.rotrSH(B,D,1)^ve.rotrSH(B,D,8)^ve.shrSH(B,D,7),te=ve.rotrSL(B,D,1)^ve.rotrSL(B,D,8)^ve.shrSL(B,D,7),W=Qt[R-2]|0,J=er[R-2]|0,Se=ve.rotrSH(W,J,19)^ve.rotrBH(W,J,61)^ve.shrSH(W,J,6),oe=ve.rotrSL(W,J,19)^ve.rotrBL(W,J,61)^ve.shrSL(W,J,6),se=ve.add4L(te,oe,er[R-7],er[R-16]),V=ve.add4H(se,M,Se,Qt[R-7],Qt[R-16]);Qt[R]=V|0,er[R]=se|0}let{Ah:n,Al:s,Bh:i,Bl:c,Ch:l,Cl:u,Dh:f,Dl:x,Eh:g,El:y,Fh:E,Fl:b,Gh:S,Gl:w,Hh:v,Hl:C}=this;for(let R=0;R<80;R++){let B=ve.rotrSH(g,y,14)^ve.rotrSH(g,y,18)^ve.rotrBH(g,y,41),D=ve.rotrSL(g,y,14)^ve.rotrSL(g,y,18)^ve.rotrBL(g,y,41),M=g&E^~g&S,te=y&b^~y&w,W=ve.add5L(C,D,te,t1[R],er[R]),J=ve.add5H(W,v,B,M,e1[R],Qt[R]),Se=W|0,oe=ve.rotrSH(n,s,28)^ve.rotrBH(n,s,34)^ve.rotrBH(n,s,39),se=ve.rotrSL(n,s,28)^ve.rotrBL(n,s,34)^ve.rotrBL(n,s,39),V=n&i^n&l^i&l,H=s&c^s&u^c&u;v=S|0,C=w|0,S=E|0,w=b|0,E=g|0,b=y|0,{h:g,l:y}=ve.add(f|0,x|0,J|0,Se|0),f=l|0,x=u|0,l=i|0,u=c|0,i=n|0,c=s|0;let P=ve.add3L(Se,se,H);n=ve.add3H(P,J,oe,V),s=P|0}({h:n,l:s}=ve.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:c}=ve.add(this.Bh|0,this.Bl|0,i|0,c|0),{h:l,l:u}=ve.add(this.Ch|0,this.Cl|0,l|0,u|0),{h:f,l:x}=ve.add(this.Dh|0,this.Dl|0,f|0,x|0),{h:g,l:y}=ve.add(this.Eh|0,this.El|0,g|0,y|0),{h:E,l:b}=ve.add(this.Fh|0,this.Fl|0,E|0,b|0),{h:S,l:w}=ve.add(this.Gh|0,this.Gl|0,S|0,w|0),{h:v,l:C}=ve.add(this.Hh|0,this.Hl|0,v|0,C|0),this.set(n,s,i,c,l,u,f,x,g,y,E,b,S,w,v,C)}roundClean(){Qt.fill(0),er.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var hl=bo(()=>new Ps);d();p();d();p();d();p();var Eo={};De(Eo,{aInRange:()=>at,abool:()=>bt,abytes:()=>Xr,bitGet:()=>a1,bitLen:()=>Vs,bitMask:()=>Tn,bitSet:()=>c1,bytesToHex:()=>$t,bytesToNumberBE:()=>zt,bytesToNumberLE:()=>rr,concatBytes:()=>Vt,createHmacDrbg:()=>js,ensureBytes:()=>Ge,equalBytes:()=>s1,hexToBytes:()=>Er,hexToNumber:()=>zs,inRange:()=>vn,isBytes:()=>tr,memoized:()=>Tr,notImplemented:()=>p1,numberToBytesBE:()=>nr,numberToBytesLE:()=>vr,numberToHexUnpadded:()=>_r,numberToVarBytesBE:()=>o1,utf8ToBytes:()=>i1,validateObject:()=>Rt});d();p();var $s=BigInt(0),_o=BigInt(1),r1=BigInt(2);function tr(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}o(tr,"isBytes");function Xr(e){if(!tr(e))throw new Error("Uint8Array expected")}o(Xr,"abytes");function bt(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}o(bt,"abool");var n1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $t(e){Xr(e);let t="";for(let r=0;r<e.length;r++)t+=n1[e[r]];return t}o($t,"bytesToHex");function _r(e){let t=e.toString(16);return t.length&1?`0${t}`:t}o(_r,"numberToHexUnpadded");function zs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}o(zs,"hexToNumber");var Ft={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function fl(e){if(e>=Ft._0&&e<=Ft._9)return e-Ft._0;if(e>=Ft._A&&e<=Ft._F)return e-(Ft._A-10);if(e>=Ft._a&&e<=Ft._f)return e-(Ft._a-10)}o(fl,"asciiToBase16");function Er(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){let c=fl(e.charCodeAt(i)),l=fl(e.charCodeAt(i+1));if(c===void 0||l===void 0){let u=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}n[s]=c*16+l}return n}o(Er,"hexToBytes");function zt(e){return zs($t(e))}o(zt,"bytesToNumberBE");function rr(e){return Xr(e),zs($t(Uint8Array.from(e).reverse()))}o(rr,"bytesToNumberLE");function nr(e,t){return Er(e.toString(16).padStart(t*2,"0"))}o(nr,"numberToBytesBE");function vr(e,t){return nr(e,t).reverse()}o(vr,"numberToBytesLE");function o1(e){return Er(_r(e))}o(o1,"numberToVarBytesBE");function Ge(e,t,r){let n;if(typeof t=="string")try{n=Er(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(tr(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${e} expected ${r} bytes, got ${s}`);return n}o(Ge,"ensureBytes");function Vt(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];Xr(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let i=e[n];r.set(i,s),s+=i.length}return r}o(Vt,"concatBytes");function s1(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}o(s1,"equalBytes");function i1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}o(i1,"utf8ToBytes");var Hs=o(e=>typeof e=="bigint"&&$s<=e,"isPosBig");function vn(e,t,r){return Hs(e)&&Hs(t)&&Hs(r)&&t<=e&&e<r}o(vn,"inRange");function at(e,t,r,n){if(!vn(t,r,n))throw new Error(`expected valid ${e}: ${r} <= n < ${n}, got ${typeof t} ${t}`)}o(at,"aInRange");function Vs(e){let t;for(t=0;e>$s;e>>=_o,t+=1);return t}o(Vs,"bitLen");function a1(e,t){return e>>BigInt(t)&_o}o(a1,"bitGet");function c1(e,t,r){return e|(r?_o:$s)<<BigInt(t)}o(c1,"bitSet");var Tn=o(e=>(r1<<BigInt(e-1))-_o,"bitMask"),Fs=o(e=>new Uint8Array(e),"u8n"),gl=o(e=>Uint8Array.from(e),"u8fr");function js(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Fs(e),s=Fs(e),i=0,c=o(()=>{n.fill(1),s.fill(0),i=0},"reset"),l=o((...g)=>r(s,n,...g),"h"),u=o((g=Fs())=>{s=l(gl([0]),g),n=l(),g.length!==0&&(s=l(gl([1]),g),n=l())},"reseed"),f=o(()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let g=0,y=[];for(;g<t;){n=l();let E=n.slice();y.push(E),g+=n.length}return Vt(...y)},"gen");return o((g,y)=>{c(),u(g);let E;for(;!(E=y(f()));)u();return c(),E},"genUntil")}o(js,"createHmacDrbg");var d1={bigint:o(e=>typeof e=="bigint","bigint"),function:o(e=>typeof e=="function","function"),boolean:o(e=>typeof e=="boolean","boolean"),string:o(e=>typeof e=="string","string"),stringOrUint8Array:o(e=>typeof e=="string"||tr(e),"stringOrUint8Array"),isSafeInteger:o(e=>Number.isSafeInteger(e),"isSafeInteger"),array:o(e=>Array.isArray(e),"array"),field:o((e,t)=>t.Fp.isValid(e),"field"),hash:o(e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen),"hash")};function Rt(e,t,r={}){let n=o((s,i,c)=>{let l=d1[i];if(typeof l!="function")throw new Error(`Invalid validator "${i}", expected function`);let u=e[s];if(!(c&&u===void 0)&&!l(u,e))throw new Error(`Invalid param ${String(s)}=${u} (${typeof u}), expected ${i}`)},"checkField");for(let[s,i]of Object.entries(t))n(s,i,!1);for(let[s,i]of Object.entries(r))n(s,i,!0);return e}o(Rt,"validateObject");var p1=o(()=>{throw new Error("not implemented")},"notImplemented");function Tr(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let i=e(r,...n);return t.set(r,i),i}}o(Tr,"memoized");var Xe=BigInt(0),je=BigInt(1),kr=BigInt(2),l1=BigInt(3),qs=BigInt(4),yl=BigInt(5),xl=BigInt(8),u1=BigInt(9),m1=BigInt(16);function $e(e,t){let r=e%t;return r>=Xe?r:t+r}o($e,"mod");function h1(e,t,r){if(r<=Xe||t<Xe)throw new Error("Expected power/modulo > 0");if(r===je)return Xe;let n=je;for(;t>Xe;)t&je&&(n=n*e%r),e=e*e%r,t>>=je;return n}o(h1,"pow");function At(e,t,r){let n=e;for(;t-- >Xe;)n*=n,n%=r;return n}o(At,"pow2");function vo(e,t){if(e===Xe||t<=Xe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=$e(e,t),n=t,s=Xe,i=je,c=je,l=Xe;for(;r!==Xe;){let f=n/r,x=n%r,g=s-c*f,y=i-l*f;n=r,r=x,s=c,i=l,c=g,l=y}if(n!==je)throw new Error("invert: does not exist");return $e(s,t)}o(vo,"invert");function f1(e){let t=(e-je)/kr,r,n,s;for(r=e-je,n=0;r%kr===Xe;r/=kr,n++);for(s=kr;s<e&&h1(s,t,e)!==e-je;s++);if(n===1){let c=(e+je)/qs;return o(function(u,f){let x=u.pow(f,c);if(!u.eql(u.sqr(x),f))throw new Error("Cannot find square root");return x},"tonelliFast")}let i=(r+je)/kr;return o(function(l,u){if(l.pow(u,t)===l.neg(l.ONE))throw new Error("Cannot find square root");let f=n,x=l.pow(l.mul(l.ONE,s),r),g=l.pow(u,i),y=l.pow(u,r);for(;!l.eql(y,l.ONE);){if(l.eql(y,l.ZERO))return l.ZERO;let E=1;for(let S=l.sqr(y);E<f&&!l.eql(S,l.ONE);E++)S=l.sqr(S);let b=l.pow(x,je<<BigInt(f-E-1));x=l.sqr(b),g=l.mul(g,b),y=l.mul(y,x),f=E}return g},"tonelliSlow")}o(f1,"tonelliShanks");function g1(e){if(e%qs===l1){let t=(e+je)/qs;return o(function(n,s){let i=n.pow(s,t);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i},"sqrt3mod4")}if(e%xl===yl){let t=(e-yl)/xl;return o(function(n,s){let i=n.mul(s,kr),c=n.pow(i,t),l=n.mul(s,c),u=n.mul(n.mul(l,kr),c),f=n.mul(l,n.sub(u,n.ONE));if(!n.eql(n.sqr(f),s))throw new Error("Cannot find square root");return f},"sqrt5mod8")}return e%m1,f1(e)}o(g1,"FpSqrt");var wl=o((e,t)=>($e(e,t)&je)===je,"isNegativeLE"),y1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ks(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=y1.reduce((n,s)=>(n[s]="function",n),t);return Rt(e,r)}o(Ks,"validateField");function x1(e,t,r){if(r<Xe)throw new Error("Expected power > 0");if(r===Xe)return e.ONE;if(r===je)return t;let n=e.ONE,s=t;for(;r>Xe;)r&je&&(n=e.mul(n,s)),s=e.sqr(s),r>>=je;return n}o(x1,"FpPow");function w1(e,t){let r=new Array(t.length),n=t.reduce((i,c,l)=>e.is0(c)?i:(r[l]=i,e.mul(i,c)),e.ONE),s=e.inv(n);return t.reduceRight((i,c,l)=>e.is0(c)?i:(r[l]=e.mul(i,r[l]),e.mul(i,c)),s),r}o(w1,"FpInvertBatch");function Gs(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(Gs,"nLength");function or(e,t,r=!1,n={}){if(e<=Xe)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:s,nByteLength:i}=Gs(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let c=g1(e),l=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:Tn(s),ZERO:Xe,ONE:je,create:o(u=>$e(u,e),"create"),isValid:o(u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Xe<=u&&u<e},"isValid"),is0:o(u=>u===Xe,"is0"),isOdd:o(u=>(u&je)===je,"isOdd"),neg:o(u=>$e(-u,e),"neg"),eql:o((u,f)=>u===f,"eql"),sqr:o(u=>$e(u*u,e),"sqr"),add:o((u,f)=>$e(u+f,e),"add"),sub:o((u,f)=>$e(u-f,e),"sub"),mul:o((u,f)=>$e(u*f,e),"mul"),pow:o((u,f)=>x1(l,u,f),"pow"),div:o((u,f)=>$e(u*vo(f,e),e),"div"),sqrN:o(u=>u*u,"sqrN"),addN:o((u,f)=>u+f,"addN"),subN:o((u,f)=>u-f,"subN"),mulN:o((u,f)=>u*f,"mulN"),inv:o(u=>vo(u,e),"inv"),sqrt:n.sqrt||(u=>c(l,u)),invertBatch:o(u=>w1(l,u),"invertBatch"),cmov:o((u,f,x)=>x?f:u,"cmov"),toBytes:o(u=>r?vr(u,i):nr(u,i),"toBytes"),fromBytes:o(u=>{if(u.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${u.length}`);return r?rr(u):zt(u)},"fromBytes")});return Object.freeze(l)}o(or,"Field");function bl(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}o(bl,"getFieldBytesLength");function Ws(e){let t=bl(e);return t+Math.ceil(t/2)}o(Ws,"getMinHashLength");function Al(e,t,r=!1){let n=e.length,s=bl(t),i=Ws(t);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let c=r?zt(e):rr(e),l=$e(c,t-je)+je;return r?vr(l,s):nr(l,s)}o(Al,"mapHashToField");var A1=BigInt(0),Zs=BigInt(1),Ys=new WeakMap,Sl=new WeakMap;function To(e,t){let r=o((i,c)=>{let l=c.negate();return i?l:c},"constTimeNegate"),n=o(i=>{if(!Number.isSafeInteger(i)||i<=0||i>t)throw new Error(`Wrong window size=${i}, should be [1..${t}]`)},"validateW"),s=o(i=>{n(i);let c=Math.ceil(t/i)+1,l=2**(i-1);return{windows:c,windowSize:l}},"opts");return{constTimeNegate:r,unsafeLadder(i,c){let l=e.ZERO,u=i;for(;c>A1;)c&Zs&&(l=l.add(u)),u=u.double(),c>>=Zs;return l},precomputeWindow(i,c){let{windows:l,windowSize:u}=s(c),f=[],x=i,g=x;for(let y=0;y<l;y++){g=x,f.push(g);for(let E=1;E<u;E++)g=g.add(x),f.push(g);x=g.double()}return f},wNAF(i,c,l){let{windows:u,windowSize:f}=s(i),x=e.ZERO,g=e.BASE,y=BigInt(2**i-1),E=2**i,b=BigInt(i);for(let S=0;S<u;S++){let w=S*f,v=Number(l&y);l>>=b,v>f&&(v-=E,l+=Zs);let C=w,R=w+Math.abs(v)-1,B=S%2!==0,D=v<0;v===0?g=g.add(r(B,c[C])):x=x.add(r(D,c[R]))}return{p:x,f:g}},wNAFCached(i,c,l){let u=Sl.get(i)||1,f=Ys.get(i);return f||(f=this.precomputeWindow(i,u),u!==1&&Ys.set(i,l(f))),this.wNAF(u,f,c)},setWindowSize(i,c){n(c),Sl.set(i,c),Ys.delete(i)}}}o(To,"wNAF");function ko(e,t,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((x,g)=>{if(!t.isValid(x))throw new Error(`wrong scalar at index ${g}`)}),r.forEach((x,g)=>{if(!(x instanceof e))throw new Error(`wrong point at index ${g}`)});let s=Vs(BigInt(r.length)),i=s>12?s-3:s>4?s-2:s?2:1,c=(1<<i)-1,l=new Array(c+1).fill(e.ZERO),u=Math.floor((t.BITS-1)/i)*i,f=e.ZERO;for(let x=u;x>=0;x-=i){l.fill(e.ZERO);for(let y=0;y<n.length;y++){let E=n[y],b=Number(E>>BigInt(x)&BigInt(c));l[b]=l[b].add(r[y])}let g=e.ZERO;for(let y=l.length-1,E=e.ZERO;y>0;y--)E=E.add(l[y]),g=g.add(E);if(f=f.add(g),x!==0)for(let y=0;y<i;y++)f=f.double()}return f}o(ko,"pippenger");function kn(e){return Ks(e.Fp),Rt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Gs(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}o(kn,"validateBasic");var St=BigInt(0),ct=BigInt(1),Io=BigInt(2),S1=BigInt(8),_1={zip215:!0};function E1(e){let t=kn(e);return Rt(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}o(E1,"validateOpts");function _l(e){let t=E1(e),{Fp:r,n,prehash:s,hash:i,randomBytes:c,nByteLength:l,h:u}=t,f=Io<<BigInt(l*8)-ct,x=r.create,g=or(t.n,t.nBitLength),y=t.uvRatio||((N,U)=>{try{return{isValid:!0,value:r.sqrt(N*r.inv(U))}}catch{return{isValid:!1,value:St}}}),E=t.adjustScalarBytes||(N=>N),b=t.domain||((N,U,O)=>{if(bt("phflag",O),U.length||O)throw new Error("Contexts/pre-hash are not supported");return N});function S(N,U){at("coordinate "+N,U,St,f)}o(S,"aCoordinate");function w(N){if(!(N instanceof R))throw new Error("ExtendedPoint expected")}o(w,"assertPoint");let v=Tr((N,U)=>{let{ex:O,ey:Y,ez:K}=N,me=N.is0();U==null&&(U=me?S1:r.inv(K));let Q=x(O*U),le=x(Y*U),re=x(K*U);if(me)return{x:St,y:ct};if(re!==ct)throw new Error("invZ was invalid");return{x:Q,y:le}}),C=Tr(N=>{let{a:U,d:O}=t;if(N.is0())throw new Error("bad point: ZERO");let{ex:Y,ey:K,ez:me,et:Q}=N,le=x(Y*Y),re=x(K*K),ie=x(me*me),ue=x(ie*ie),$=x(le*U),m=x(ie*x($+re)),h=x(ue+x(O*x(le*re)));if(m!==h)throw new Error("bad point: equation left != right (1)");let A=x(Y*K),k=x(me*Q);if(A!==k)throw new Error("bad point: equation left != right (2)");return!0});class R{static{o(this,"Point")}constructor(U,O,Y,K){this.ex=U,this.ey=O,this.ez=Y,this.et=K,S("x",U),S("y",O),S("z",Y),S("t",K),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(U){if(U instanceof R)throw new Error("extended point not allowed");let{x:O,y:Y}=U||{};return S("x",O),S("y",Y),new R(O,Y,ct,x(O*Y))}static normalizeZ(U){let O=r.invertBatch(U.map(Y=>Y.ez));return U.map((Y,K)=>Y.toAffine(O[K])).map(R.fromAffine)}static msm(U,O){return ko(R,g,U,O)}_setWindowSize(U){M.setWindowSize(this,U)}assertValidity(){C(this)}equals(U){w(U);let{ex:O,ey:Y,ez:K}=this,{ex:me,ey:Q,ez:le}=U,re=x(O*le),ie=x(me*K),ue=x(Y*le),$=x(Q*K);return re===ie&&ue===$}is0(){return this.equals(R.ZERO)}negate(){return new R(x(-this.ex),this.ey,this.ez,x(-this.et))}double(){let{a:U}=t,{ex:O,ey:Y,ez:K}=this,me=x(O*O),Q=x(Y*Y),le=x(Io*x(K*K)),re=x(U*me),ie=O+Y,ue=x(x(ie*ie)-me-Q),$=re+Q,m=$-le,h=re-Q,A=x(ue*m),k=x($*h),L=x(ue*h),I=x(m*$);return new R(A,k,I,L)}add(U){w(U);let{a:O,d:Y}=t,{ex:K,ey:me,ez:Q,et:le}=this,{ex:re,ey:ie,ez:ue,et:$}=U;if(O===BigInt(-1)){let Te=x((me-K)*(ie+re)),Me=x((me+K)*(ie-re)),Fe=x(Me-Te);if(Fe===St)return this.double();let Ve=x(Q*Io*$),Lr=x(le*Io*ue),Sc=Lr+Ve,_c=Me+Te,Ec=Lr-Ve,Af=x(Sc*Fe),Sf=x(_c*Ec),_f=x(Sc*Ec),Ef=x(Fe*_c);return new R(Af,Sf,Ef,_f)}let m=x(K*re),h=x(me*ie),A=x(le*Y*$),k=x(Q*ue),L=x((K+me)*(re+ie)-m-h),I=k-A,T=k+A,F=x(h-O*m),Z=x(L*I),G=x(T*F),ne=x(L*F),Ee=x(I*T);return new R(Z,G,Ee,ne)}subtract(U){return this.add(U.negate())}wNAF(U){return M.wNAFCached(this,U,R.normalizeZ)}multiply(U){let O=U;at("scalar",O,ct,n);let{p:Y,f:K}=this.wNAF(O);return R.normalizeZ([Y,K])[0]}multiplyUnsafe(U){let O=U;return at("scalar",O,St,n),O===St?D:this.equals(D)||O===ct?this:this.equals(B)?this.wNAF(O).p:M.unsafeLadder(this,O)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return M.unsafeLadder(this,n).is0()}toAffine(U){return v(this,U)}clearCofactor(){let{h:U}=t;return U===ct?this:this.multiplyUnsafe(U)}static fromHex(U,O=!1){let{d:Y,a:K}=t,me=r.BYTES;U=Ge("pointHex",U,me),bt("zip215",O);let Q=U.slice(),le=U[me-1];Q[me-1]=le&-129;let re=rr(Q),ie=O?f:r.ORDER;at("pointHex.y",re,St,ie);let ue=x(re*re),$=x(ue-ct),m=x(Y*ue-K),{isValid:h,value:A}=y($,m);if(!h)throw new Error("Point.fromHex: invalid y coordinate");let k=(A&ct)===ct,L=(le&128)!==0;if(!O&&A===St&&L)throw new Error("Point.fromHex: x=0 and x_0=1");return L!==k&&(A=x(-A)),R.fromAffine({x:A,y:re})}static fromPrivateKey(U){return J(U).point}toRawBytes(){let{x:U,y:O}=this.toAffine(),Y=vr(O,r.BYTES);return Y[Y.length-1]|=U&ct?128:0,Y}toHex(){return $t(this.toRawBytes())}}R.BASE=new R(t.Gx,t.Gy,ct,x(t.Gx*t.Gy)),R.ZERO=new R(St,ct,ct,St);let{BASE:B,ZERO:D}=R,M=To(R,l*8);function te(N){return $e(N,n)}o(te,"modN");function W(N){return te(rr(N))}o(W,"modN_LE");function J(N){let U=l;N=Ge("private key",N,U);let O=Ge("hashed private key",i(N),2*U),Y=E(O.slice(0,U)),K=O.slice(U,2*U),me=W(Y),Q=B.multiply(me),le=Q.toRawBytes();return{head:Y,prefix:K,scalar:me,point:Q,pointBytes:le}}o(J,"getExtendedPublicKey");function Se(N){return J(N).pointBytes}o(Se,"getPublicKey");function oe(N=new Uint8Array,...U){let O=Vt(...U);return W(i(b(O,Ge("context",N),!!s)))}o(oe,"hashDomainToScalar");function se(N,U,O={}){N=Ge("message",N),s&&(N=s(N));let{prefix:Y,scalar:K,pointBytes:me}=J(U),Q=oe(O.context,Y,N),le=B.multiply(Q).toRawBytes(),re=oe(O.context,le,me,N),ie=te(Q+re*K);at("signature.s",ie,St,n);let ue=Vt(le,vr(ie,r.BYTES));return Ge("result",ue,l*2)}o(se,"sign");let V=_1;function H(N,U,O,Y=V){let{context:K,zip215:me}=Y,Q=r.BYTES;N=Ge("signature",N,2*Q),U=Ge("message",U),me!==void 0&&bt("zip215",me),s&&(U=s(U));let le=rr(N.slice(Q,2*Q)),re,ie,ue;try{re=R.fromHex(O,me),ie=R.fromHex(N.slice(0,Q),me),ue=B.multiplyUnsafe(le)}catch{return!1}if(!me&&re.isSmallOrder())return!1;let $=oe(K,ie.toRawBytes(),re.toRawBytes(),U);return ie.add(re.multiplyUnsafe($)).subtract(ue).clearCofactor().equals(R.ZERO)}return o(H,"verify"),B._setWindowSize(8),{CURVE:t,getPublicKey:Se,sign:se,verify:H,ExtendedPoint:R,utils:{getExtendedPublicKey:J,randomPrivateKey:o(()=>c(r.BYTES),"randomPrivateKey"),precompute(N=8,U=R.BASE){return U._setWindowSize(N),U.multiply(BigInt(3)),U}}}}o(_l,"twistedEdwards");var Xs=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),El=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),W3=BigInt(0),v1=BigInt(1),vl=BigInt(2),Z3=BigInt(3),T1=BigInt(5),k1=BigInt(8);function I1(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=Xs,l=e*e%i*e%i,u=At(l,vl,i)*l%i,f=At(u,v1,i)*e%i,x=At(f,T1,i)*f%i,g=At(x,t,i)*x%i,y=At(g,r,i)*g%i,E=At(y,n,i)*y%i,b=At(E,s,i)*E%i,S=At(b,s,i)*E%i,w=At(S,t,i)*x%i;return{pow_p_5_8:At(w,vl,i)*e%i,b2:l}}o(I1,"ed25519_pow_2_252_3");function R1(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}o(R1,"adjustScalarBytes");function C1(e,t){let r=Xs,n=$e(t*t*t,r),s=$e(n*n*t,r),i=I1(e*s).pow_p_5_8,c=$e(e*n*i,r),l=$e(t*c*c,r),u=c,f=$e(c*El,r),x=l===e,g=l===$e(-e,r),y=l===$e(-e*El,r);return x&&(c=u),(g||y)&&(c=f),wl(c,r)&&(c=$e(-c,r)),{isValid:x||g,value:c}}o(C1,"uvRatio");var B1=or(Xs,void 0,!0),L1={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:B1,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:k1,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:hl,randomBytes:Ao,adjustScalarBytes:R1,uvRatio:C1},Tl=_l(L1);d();p();function kl(e,t){return Dt.IntentMessage(Dt.fixedArray(t.length,Dt.u8())).serialize({intent:{scope:{[e]:!0},version:{V0:!0},appId:{Sui:!0}},value:t}).toBytes()}o(kl,"messageWithIntent");d();p();var jt={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},Il={ED25519:32,Secp256k1:33,Secp256r1:33},Rl={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};d();p();d();p();d();p();d();p();var U1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ir=new Uint32Array(64),Js=class extends Yr{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=sr[0]|0,this.B=sr[1]|0,this.C=sr[2]|0,this.D=sr[3]|0,this.E=sr[4]|0,this.F=sr[5]|0,this.G=sr[6]|0,this.H=sr[7]|0}get(){let{A:t,B:r,C:n,D:s,E:i,F:c,G:l,H:u}=this;return[t,r,n,s,i,c,l,u]}set(t,r,n,s,i,c,l,u){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=c|0,this.G=l|0,this.H=u|0}process(t,r){for(let g=0;g<16;g++,r+=4)ir[g]=t.getUint32(r,!1);for(let g=16;g<64;g++){let y=ir[g-15],E=ir[g-2],b=wt(y,7)^wt(y,18)^y>>>3,S=wt(E,17)^wt(E,19)^E>>>10;ir[g]=S+ir[g-7]+b+ir[g-16]|0}let{A:n,B:s,C:i,D:c,E:l,F:u,G:f,H:x}=this;for(let g=0;g<64;g++){let y=wt(l,6)^wt(l,11)^wt(l,25),E=x+y+ll(l,u,f)+U1[g]+ir[g]|0,S=(wt(n,2)^wt(n,13)^wt(n,22))+ul(n,s,i)|0;x=f,f=u,u=l,l=c+E|0,c=i,i=s,s=n,n=E+S|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,c=c+this.D|0,l=l+this.E|0,u=u+this.F|0,f=f+this.G|0,x=x+this.H|0,this.set(n,s,i,c,l,u,f,x)}roundClean(){ir.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Cl=bo(()=>new Js);d();p();d();p();var Ro=class extends Zr{static{o(this,"HMAC")}constructor(t,r){super(),this.finished=!1,this.destroyed=!1,cl(t);let n=En(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=t.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(t){return Wr(this),this.iHash.update(t),this}digestInto(t){Wr(this),Gr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:c,outputLen:l}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=c,t.outputLen=l,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Qs=o((e,t,r)=>new Ro(e,t).update(r).digest(),"hmac");Qs.create=(e,t)=>new Ro(e,t);d();p();function Bl(e){e.lowS!==void 0&&bt("lowS",e.lowS),e.prehash!==void 0&&bt("prehash",e.prehash)}o(Bl,"validateSigVerOpts");function M1(e){let t=kn(e);Rt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:s}=t;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}o(M1,"validatePointOpts");var{bytesToNumberBE:N1,hexToBytes:O1}=Eo,qt={Err:class extends Error{static{o(this,"DERErr")}constructor(t=""){super(t)}},_tlv:{encode:o((e,t)=>{let{Err:r}=qt;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=_r(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?_r(s.length/2|128):"";return`${_r(e)}${i}${s}${t}`},"encode"),decode(e,t){let{Err:r}=qt,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],i=!!(s&128),c=0;if(!i)c=s;else{let u=s&127;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");let f=t.subarray(n,n+u);if(f.length!==u)throw new r("tlv.decode: length bytes not complete");if(f[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let x of f)c=c<<8|x;if(n+=u,c<128)throw new r("tlv.decode(long): not minimal encoding")}let l=t.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: wrong value length");return{v:l,l:t.subarray(n+c)}}},_int:{encode(e){let{Err:t}=qt;if(e<Kt)throw new t("integer: negative integers are not allowed");let r=_r(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected assertion");return r},decode(e){let{Err:t}=qt;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return N1(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=qt,s=typeof e=="string"?O1(e):e;Xr(s);let{v:i,l:c}=n.decode(48,s);if(c.length)throw new t("Invalid signature: left bytes after parsing");let{v:l,l:u}=n.decode(2,i),{v:f,l:x}=n.decode(2,u);if(x.length)throw new t("Invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(f)}},hexFromSig(e){let{_tlv:t,_int:r}=qt,n=`${t.encode(2,r.encode(e.r))}${t.encode(2,r.encode(e.s))}`;return t.encode(48,n)}},Kt=BigInt(0),Je=BigInt(1),_5=BigInt(2),Ll=BigInt(3),E5=BigInt(4);function D1(e){let t=M1(e),{Fp:r}=t,n=or(t.n,t.nBitLength),s=t.toBytes||((S,w,v)=>{let C=w.toAffine();return Vt(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=t.fromBytes||(S=>{let w=S.subarray(1),v=r.fromBytes(w.subarray(0,r.BYTES)),C=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:v,y:C}});function c(S){let{a:w,b:v}=t,C=r.sqr(S),R=r.mul(C,S);return r.add(r.add(R,r.mul(S,w)),v)}if(o(c,"weierstrassEquation"),!r.eql(r.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return vn(S,Je,t.n)}o(l,"isWithinCurveOrder");function u(S){let{allowedPrivateKeyLengths:w,nByteLength:v,wrapPrivateKey:C,n:R}=t;if(w&&typeof S!="bigint"){if(tr(S)&&(S=$t(S)),typeof S!="string"||!w.includes(S.length))throw new Error("Invalid key");S=S.padStart(v*2,"0")}let B;try{B=typeof S=="bigint"?S:zt(Ge("private key",S,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof S}`)}return C&&(B=$e(B,R)),at("private key",B,Je,R),B}o(u,"normPrivateKeyToScalar");function f(S){if(!(S instanceof y))throw new Error("ProjectivePoint expected")}o(f,"assertPrjPoint");let x=Tr((S,w)=>{let{px:v,py:C,pz:R}=S;if(r.eql(R,r.ONE))return{x:v,y:C};let B=S.is0();w==null&&(w=B?r.ONE:r.inv(R));let D=r.mul(v,w),M=r.mul(C,w),te=r.mul(R,w);if(B)return{x:r.ZERO,y:r.ZERO};if(!r.eql(te,r.ONE))throw new Error("invZ was invalid");return{x:D,y:M}}),g=Tr(S=>{if(S.is0()){if(t.allowInfinityPoint&&!r.is0(S.py))return;throw new Error("bad point: ZERO")}let{x:w,y:v}=S.toAffine();if(!r.isValid(w)||!r.isValid(v))throw new Error("bad point: x or y not FE");let C=r.sqr(v),R=c(w);if(!r.eql(C,R))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{static{o(this,"Point")}constructor(w,v,C){if(this.px=w,this.py=v,this.pz=C,w==null||!r.isValid(w))throw new Error("x required");if(v==null||!r.isValid(v))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required");Object.freeze(this)}static fromAffine(w){let{x:v,y:C}=w||{};if(!w||!r.isValid(v)||!r.isValid(C))throw new Error("invalid affine point");if(w instanceof y)throw new Error("projective point not allowed");let R=o(B=>r.eql(B,r.ZERO),"is0");return R(v)&&R(C)?y.ZERO:new y(v,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){let v=r.invertBatch(w.map(C=>C.pz));return w.map((C,R)=>C.toAffine(v[R])).map(y.fromAffine)}static fromHex(w){let v=y.fromAffine(i(Ge("pointHex",w)));return v.assertValidity(),v}static fromPrivateKey(w){return y.BASE.multiply(u(w))}static msm(w,v){return ko(y,n,w,v)}_setWindowSize(w){b.setWindowSize(this,w)}assertValidity(){g(this)}hasEvenY(){let{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){f(w);let{px:v,py:C,pz:R}=this,{px:B,py:D,pz:M}=w,te=r.eql(r.mul(v,M),r.mul(B,R)),W=r.eql(r.mul(C,M),r.mul(D,R));return te&&W}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){let{a:w,b:v}=t,C=r.mul(v,Ll),{px:R,py:B,pz:D}=this,M=r.ZERO,te=r.ZERO,W=r.ZERO,J=r.mul(R,R),Se=r.mul(B,B),oe=r.mul(D,D),se=r.mul(R,B);return se=r.add(se,se),W=r.mul(R,D),W=r.add(W,W),M=r.mul(w,W),te=r.mul(C,oe),te=r.add(M,te),M=r.sub(Se,te),te=r.add(Se,te),te=r.mul(M,te),M=r.mul(se,M),W=r.mul(C,W),oe=r.mul(w,oe),se=r.sub(J,oe),se=r.mul(w,se),se=r.add(se,W),W=r.add(J,J),J=r.add(W,J),J=r.add(J,oe),J=r.mul(J,se),te=r.add(te,J),oe=r.mul(B,D),oe=r.add(oe,oe),J=r.mul(oe,se),M=r.sub(M,J),W=r.mul(oe,Se),W=r.add(W,W),W=r.add(W,W),new y(M,te,W)}add(w){f(w);let{px:v,py:C,pz:R}=this,{px:B,py:D,pz:M}=w,te=r.ZERO,W=r.ZERO,J=r.ZERO,Se=t.a,oe=r.mul(t.b,Ll),se=r.mul(v,B),V=r.mul(C,D),H=r.mul(R,M),P=r.add(v,C),N=r.add(B,D);P=r.mul(P,N),N=r.add(se,V),P=r.sub(P,N),N=r.add(v,R);let U=r.add(B,M);return N=r.mul(N,U),U=r.add(se,H),N=r.sub(N,U),U=r.add(C,R),te=r.add(D,M),U=r.mul(U,te),te=r.add(V,H),U=r.sub(U,te),J=r.mul(Se,N),te=r.mul(oe,H),J=r.add(te,J),te=r.sub(V,J),J=r.add(V,J),W=r.mul(te,J),V=r.add(se,se),V=r.add(V,se),H=r.mul(Se,H),N=r.mul(oe,N),V=r.add(V,H),H=r.sub(se,H),H=r.mul(Se,H),N=r.add(N,H),se=r.mul(V,N),W=r.add(W,se),se=r.mul(U,N),te=r.mul(P,te),te=r.sub(te,se),se=r.mul(P,V),J=r.mul(U,J),J=r.add(J,se),new y(te,W,J)}subtract(w){return this.add(w.negate())}is0(){return this.equals(y.ZERO)}wNAF(w){return b.wNAFCached(this,w,y.normalizeZ)}multiplyUnsafe(w){at("scalar",w,Kt,t.n);let v=y.ZERO;if(w===Kt)return v;if(w===Je)return this;let{endo:C}=t;if(!C)return b.unsafeLadder(this,w);let{k1neg:R,k1:B,k2neg:D,k2:M}=C.splitScalar(w),te=v,W=v,J=this;for(;B>Kt||M>Kt;)B&Je&&(te=te.add(J)),M&Je&&(W=W.add(J)),J=J.double(),B>>=Je,M>>=Je;return R&&(te=te.negate()),D&&(W=W.negate()),W=new y(r.mul(W.px,C.beta),W.py,W.pz),te.add(W)}multiply(w){let{endo:v,n:C}=t;at("scalar",w,Je,C);let R,B;if(v){let{k1neg:D,k1:M,k2neg:te,k2:W}=v.splitScalar(w),{p:J,f:Se}=this.wNAF(M),{p:oe,f:se}=this.wNAF(W);J=b.constTimeNegate(D,J),oe=b.constTimeNegate(te,oe),oe=new y(r.mul(oe.px,v.beta),oe.py,oe.pz),R=J.add(oe),B=Se.add(se)}else{let{p:D,f:M}=this.wNAF(w);R=D,B=M}return y.normalizeZ([R,B])[0]}multiplyAndAddUnsafe(w,v,C){let R=y.BASE,B=o((M,te)=>te===Kt||te===Je||!M.equals(R)?M.multiplyUnsafe(te):M.multiply(te),"mul"),D=B(this,v).add(B(w,C));return D.is0()?void 0:D}toAffine(w){return x(this,w)}isTorsionFree(){let{h:w,isTorsionFree:v}=t;if(w===Je)return!0;if(v)return v(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:w,clearCofactor:v}=t;return w===Je?this:v?v(y,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return bt("isCompressed",w),this.assertValidity(),s(y,this,w)}toHex(w=!0){return bt("isCompressed",w),$t(this.toRawBytes(w))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);let E=t.nBitLength,b=To(y,t.endo?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:l}}o(D1,"weierstrassPoints");function P1(e){let t=kn(e);return Rt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}o(P1,"validateOpts");function Ul(e){let t=P1(e),{Fp:r,n}=t,s=r.BYTES+1,i=2*r.BYTES+1;function c(H){return $e(H,n)}o(c,"modN");function l(H){return vo(H,n)}o(l,"invN");let{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:x,isWithinCurveOrder:g}=D1({...t,toBytes(H,P,N){let U=P.toAffine(),O=r.toBytes(U.x),Y=Vt;return bt("isCompressed",N),N?Y(Uint8Array.from([P.hasEvenY()?2:3]),O):Y(Uint8Array.from([4]),O,r.toBytes(U.y))},fromBytes(H){let P=H.length,N=H[0],U=H.subarray(1);if(P===s&&(N===2||N===3)){let O=zt(U);if(!vn(O,Je,r.ORDER))throw new Error("Point is not on curve");let Y=x(O),K;try{K=r.sqrt(Y)}catch(le){let re=le instanceof Error?": "+le.message:"";throw new Error("Point is not on curve"+re)}let me=(K&Je)===Je;return(N&1)===1!==me&&(K=r.neg(K)),{x:O,y:K}}else if(P===i&&N===4){let O=r.fromBytes(U.subarray(0,r.BYTES)),Y=r.fromBytes(U.subarray(r.BYTES,2*r.BYTES));return{x:O,y:Y}}else throw new Error(`Point of length ${P} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=o(H=>$t(nr(H,t.nByteLength)),"numToNByteStr");function E(H){let P=n>>Je;return H>P}o(E,"isBiggerThanHalfOrder");function b(H){return E(H)?c(-H):H}o(b,"normalizeS");let S=o((H,P,N)=>zt(H.slice(P,N)),"slcNum");class w{static{o(this,"Signature")}constructor(P,N,U){this.r=P,this.s=N,this.recovery=U,this.assertValidity()}static fromCompact(P){let N=t.nByteLength;return P=Ge("compactSignature",P,N*2),new w(S(P,0,N),S(P,N,2*N))}static fromDER(P){let{r:N,s:U}=qt.toSig(Ge("DER",P));return new w(N,U)}assertValidity(){at("r",this.r,Je,n),at("s",this.s,Je,n)}addRecoveryBit(P){return new w(this.r,this.s,P)}recoverPublicKey(P){let{r:N,s:U,recovery:O}=this,Y=M(Ge("msgHash",P));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");let K=O===2||O===3?N+t.n:N;if(K>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let me=O&1?"03":"02",Q=u.fromHex(me+y(K)),le=l(K),re=c(-Y*le),ie=c(U*le),ue=u.BASE.multiplyAndAddUnsafe(Q,re,ie);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Er(this.toDERHex())}toDERHex(){return qt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Er(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}let v={isValidPrivateKey(H){try{return f(H),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:o(()=>{let H=Ws(t.n);return Al(t.randomBytes(H),t.n)},"randomPrivateKey"),precompute(H=8,P=u.BASE){return P._setWindowSize(H),P.multiply(BigInt(3)),P}};function C(H,P=!0){return u.fromPrivateKey(H).toRawBytes(P)}o(C,"getPublicKey");function R(H){let P=tr(H),N=typeof H=="string",U=(P||N)&&H.length;return P?U===s||U===i:N?U===2*s||U===2*i:H instanceof u}o(R,"isProbPub");function B(H,P,N=!0){if(R(H))throw new Error("first arg must be private key");if(!R(P))throw new Error("second arg must be public key");return u.fromHex(P).multiply(f(H)).toRawBytes(N)}o(B,"getSharedSecret");let D=t.bits2int||function(H){let P=zt(H),N=H.length*8-t.nBitLength;return N>0?P>>BigInt(N):P},M=t.bits2int_modN||function(H){return c(D(H))},te=Tn(t.nBitLength);function W(H){return at(`num < 2^${t.nBitLength}`,H,Kt,te),nr(H,t.nByteLength)}o(W,"int2octets");function J(H,P,N=Se){if(["recovered","canonical"].some(m=>m in N))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:O}=t,{lowS:Y,prehash:K,extraEntropy:me}=N;Y==null&&(Y=!0),H=Ge("msgHash",H),Bl(N),K&&(H=Ge("prehashed msgHash",U(H)));let Q=M(H),le=f(P),re=[W(le),W(Q)];if(me!=null&&me!==!1){let m=me===!0?O(r.BYTES):me;re.push(Ge("extraEntropy",m))}let ie=Vt(...re),ue=Q;function $(m){let h=D(m);if(!g(h))return;let A=l(h),k=u.BASE.multiply(h).toAffine(),L=c(k.x);if(L===Kt)return;let I=c(A*c(ue+L*le));if(I===Kt)return;let T=(k.x===L?0:2)|Number(k.y&Je),F=I;return Y&&E(I)&&(F=b(I),T^=1),new w(L,F,T)}return o($,"k2sig"),{seed:ie,k2sig:$}}o(J,"prepSig");let Se={lowS:t.lowS,prehash:!1},oe={lowS:t.lowS,prehash:!1};function se(H,P,N=Se){let{seed:U,k2sig:O}=J(H,P,N),Y=t;return js(Y.hash.outputLen,Y.nByteLength,Y.hmac)(U,O)}o(se,"sign"),u.BASE._setWindowSize(8);function V(H,P,N,U=oe){let O=H;if(P=Ge("msgHash",P),N=Ge("publicKey",N),"strict"in U)throw new Error("options.strict was renamed to lowS");Bl(U);let{lowS:Y,prehash:K}=U,me,Q;try{if(typeof O=="string"||tr(O))try{me=w.fromDER(O)}catch(k){if(!(k instanceof qt.Err))throw k;me=w.fromCompact(O)}else if(typeof O=="object"&&typeof O.r=="bigint"&&typeof O.s=="bigint"){let{r:k,s:L}=O;me=new w(k,L)}else throw new Error("PARSE");Q=u.fromHex(N)}catch(k){if(k.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Y&&me.hasHighS())return!1;K&&(P=t.hash(P));let{r:le,s:re}=me,ie=M(P),ue=l(re),$=c(ie*ue),m=c(le*ue),h=u.BASE.multiplyAndAddUnsafe(Q,$,m)?.toAffine();return h?c(h.x)===le:!1}return o(V,"verify"),{CURVE:t,getPublicKey:C,getSharedSecret:B,sign:se,verify:V,ProjectivePoint:u,Signature:w,utils:v}}o(Ul,"weierstrass");function H1(e){return{hash:e,hmac:o((t,...r)=>Qs(e,t,Os(...r)),"hmac"),randomBytes:Ao}}o(H1,"getHash");function Ml(e,t){let r=o(n=>Ul({...e,...H1(n)}),"create");return Object.freeze({...r(t),create:r})}o(Ml,"createCurve");var Nl=or(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),F1=Nl.create(BigInt("-3")),$1=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),z1=Ml({a:F1,b:$1,Fp:Nl,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Cl),Ol=z1;d();p();d();p();var V1=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ar=new Uint32Array(64),Co=class extends jd{static{o(this,"SHA256")}constructor(t=32){super(64,t,8,!1),this.A=Pt[0]|0,this.B=Pt[1]|0,this.C=Pt[2]|0,this.D=Pt[3]|0,this.E=Pt[4]|0,this.F=Pt[5]|0,this.G=Pt[6]|0,this.H=Pt[7]|0}get(){let{A:t,B:r,C:n,D:s,E:i,F:c,G:l,H:u}=this;return[t,r,n,s,i,c,l,u]}set(t,r,n,s,i,c,l,u){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=c|0,this.G=l|0,this.H=u|0}process(t,r){for(let g=0;g<16;g++,r+=4)ar[g]=t.getUint32(r,!1);for(let g=16;g<64;g++){let y=ar[g-15],E=ar[g-2],b=yt(y,7)^yt(y,18)^y>>>3,S=yt(E,17)^yt(E,19)^E>>>10;ar[g]=S+ar[g-7]+b+ar[g-16]|0}let{A:n,B:s,C:i,D:c,E:l,F:u,G:f,H:x}=this;for(let g=0;g<64;g++){let y=yt(l,6)^yt(l,11)^yt(l,25),E=x+y+zd(l,u,f)+V1[g]+ar[g]|0,S=(yt(n,2)^yt(n,13)^yt(n,22))+Vd(n,s,i)|0;x=f,f=u,u=l,l=c+E|0,c=i,i=s,s=n,n=E+S|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,c=c+this.D|0,l=l+this.E|0,u=u+this.F|0,f=f+this.G|0,x=x+this.H|0,this.set(n,s,i,c,l,u,f,x)}roundClean(){ls(ar)}destroy(){this.set(0,0,0,0,0,0,0,0),ls(this.buffer)}};var Dl=$d(()=>new Co);var ei=Dl;d();p();function Jr(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}o(Jr,"bytesEqual");var cr=class{static{o(this,"PublicKey")}equals(t){return Jr(this.toRawBytes(),t.toRawBytes())}toBase64(){return gt(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let t=this.toSuiBytes();return gt(t)}verifyWithIntent(t,r,n){let s=kl(n,t),i=wn(s,{dkLen:32});return this.verify(i,r)}verifyPersonalMessage(t,r){return this.verifyWithIntent(Dt.vector(Dt.u8()).serialize(t).toBytes(),r,"PersonalMessage")}verifyTransaction(t,r){return this.verifyWithIntent(t,r,"TransactionData")}verifyAddress(t){return this.toSuiAddress()===t}toSuiBytes(){let t=this.toRawBytes(),r=new Uint8Array(t.length+1);return r.set([this.flag()]),r.set(t,1),r}toSuiAddress(){return ro(no(wn(this.toSuiBytes(),{dkLen:32})).slice(0,to*2))}};var ti=33;var ri=64,w6=new Uint8Array([48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0]),ni=class extends cr{static{o(this,"PasskeyPublicKey")}constructor(t){if(super(),typeof t=="string"?this.data=ut(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==ti)throw new Error(`Invalid public key input. Expected ${ti} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return jt.Passkey}async verify(t,r){let n=oi(r),s=JSON.parse(n.clientDataJson);if(s.type!=="webauthn.get")return!1;let i=ut(s.challenge.replace(/-/g,"+").replace(/_/g,"/"));if(!Jr(t,i))return!1;let c=n.userSignature.slice(1+ri);if(!Jr(this.toRawBytes(),c))return!1;let l=new Uint8Array([...n.authenticatorData,...ei(n.clientDataJson)]),u=n.userSignature.slice(1,ri+1);return Ol.verify(u,ei(l),c)}};ni.SIZE=ti;function oi(e){let t=typeof e=="string"?ut(e):e;if(t[0]!==jt.Passkey)throw new Error("Invalid signature scheme");let r=Hd.parse(t.slice(1));return{signatureScheme:"Passkey",serializedSignature:gt(t),signature:t,authenticatorData:r.authenticatorData,clientDataJson:r.clientDataJson,userSignature:new Uint8Array(r.userSignature),publicKey:new Uint8Array(r.userSignature.slice(1+ri))}}o(oi,"parseSerializedPasskeySignature");d();p();d();p();var Pl=o(e=>{throw TypeError(e)},"__typeError"),Hl=o((e,t,r)=>t.has(e)||Pl("Cannot "+r),"__accessCheck"),Bo=o((e,t,r)=>(Hl(e,t,"read from private field"),r?r.call(e):t.get(e)),"__privateGet"),Lo=o((e,t,r)=>t.has(e)?Pl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),"__privateAdd"),Uo=o((e,t,r,n)=>(Hl(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),"__privateSet"),Mo,No,Oo,Do,si=class extends Error{static{o(this,"SuiGraphQLRequestError")}},Po=class{static{o(this,"SuiGraphQLClient")}constructor({url:t,fetch:r=fetch,headers:n={},queries:s={}}){Lo(this,Mo),Lo(this,No),Lo(this,Oo),Lo(this,Do),Uo(this,Mo,t),Uo(this,No,s),Uo(this,Oo,n),Uo(this,Do,(...i)=>r(...i))}async query(t){let r=await Bo(this,Do).call(this,Bo(this,Mo),{method:"POST",headers:{"Content-Type":"application/json",...Bo(this,Oo)},body:JSON.stringify({query:typeof t.query=="string"?String(t.query):zc(t.query),variables:t.variables,extensions:t.extensions,operationName:t.operationName})});if(!r.ok)throw new si(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(t,r){return this.query({...r,query:Bo(this,No)[t]})}};Mo=new WeakMap;No=new WeakMap;Oo=new WeakMap;Do=new WeakMap;d();p();var Fl=Vc();d();p();function j1(e){if(e.length!==1)throw new Error("Invalid base64Url character: "+e);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(r===-1)throw new Error("Invalid base64Url character: "+e);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}o(j1,"base64UrlCharTo6Bits");function q1(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charAt(r),s=j1(n);t=t.concat(s)}return t}o(q1,"base64UrlStringToBitVector");function K1(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=q1(e),n=t%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);let s=(t+e.length-1)%4;if(s!==3)if(s===2)r=r.slice(0,r.length-2);else if(s===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let i=new Uint8Array(Math.floor(r.length/8)),c=0;for(let l=0;l<r.length;l+=8){let u=r.slice(l,l+8),f=parseInt(u.join(""),2);i[c++]=f}return new TextDecoder().decode(i)}o(K1,"decodeBase64URL");function G1(e){if(!(e.slice(-1)==="}"||e.slice(-1)===","))throw new Error("Invalid claim");let t=JSON.parse("{"+e.slice(0,-1)+"}");if(Object.keys(t).length!==1)throw new Error("Invalid claim");let r=Object.keys(t)[0];return[r,t[r]]}o(G1,"verifyExtendedClaim");function $l(e,t){let r=K1(e.value,e.indexMod4),[n,s]=G1(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return s}o($l,"extractClaimValue");d();p();d();p();var zl=Ze.struct("ZkLoginSignature",{inputs:Ze.struct("ZkLoginSignatureInputs",{proofPoints:Ze.struct("ZkLoginSignatureInputsProofPoints",{a:Ze.vector(Ze.string()),b:Ze.vector(Ze.vector(Ze.string())),c:Ze.vector(Ze.string())}),issBase64Details:Ze.struct("ZkLoginSignatureInputsClaim",{value:Ze.string(),indexMod4:Ze.u8()}),headerBase64:Ze.string(),addressSeed:Ze.string()}),maxEpoch:Ze.u64(),userSignature:Ze.vector(Ze.u8())});function Vl(e){return zl.parse(typeof e=="string"?ut(e):e)}o(Vl,"parseZkLoginSignature");d();p();function W1(e){for(let t=0;t<e.length;t++)if(e[t]!==0)return t;return-1}o(W1,"findFirstNonZeroIndex");function Ho(e,t){let r=e.toString(16);return Fd(r.padStart(t*2,"0").slice(-t*2))}o(Ho,"toPaddedBigEndianBytes");function ii(e,t){let r=Ho(e,t),n=W1(r);return n===-1?new Uint8Array([0]):r.slice(n)}o(ii,"toBigEndianBytes");var Kl=o(e=>{throw TypeError(e)},"__typeError"),di=o((e,t,r)=>t.has(e)||Kl("Cannot "+r),"__accessCheck"),Gt=o((e,t,r)=>(di(e,t,"read from private field"),r?r.call(e):t.get(e)),"__privateGet"),Fo=o((e,t,r)=>t.has(e)?Kl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),"__privateAdd"),Qr=o((e,t,r,n)=>(di(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),"__privateSet"),jl=o((e,t,r)=>(di(e,t,"access private method"),r),"__privateMethod"),_t,In,Rn,$o,ai,Z1=class ci extends cr{static{o(this,"_ZkLoginPublicIdentifier")}constructor(t,{client:r}={}){super(),Fo(this,$o),Fo(this,_t),Fo(this,In),Fo(this,Rn),Qr(this,In,r),typeof t=="string"?Qr(this,_t,ut(t)):t instanceof Uint8Array?Qr(this,_t,t):Qr(this,_t,Uint8Array.from(t)),Qr(this,Rn,Gt(this,_t).length!==Gt(this,_t)[0]+1+32),Gt(this,Rn)&&Qr(this,_t,Gl(Gt(this,_t)))}equals(t){return super.equals(t)}toSuiAddress(){return Gt(this,Rn)?jl(this,$o,ai).call(this):super.toSuiAddress()}toRawBytes(){return Gt(this,_t)}flag(){return jt.ZkLogin}async verify(t,r){throw Error("does not support")}verifyPersonalMessage(t,r){let n=zo(r),s=new ci(n.publicKey).toSuiAddress();return ql({address:s,bytes:gt(t),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Gt(this,In)})}verifyTransaction(t,r){let n=zo(r),s=new ci(n.publicKey).toSuiAddress();return ql({address:s,bytes:gt(t),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Gt(this,In)})}verifyAddress(t){return t===super.toSuiAddress()||t===jl(this,$o,ai).call(this)}};_t=new WeakMap;In=new WeakMap;Rn=new WeakMap;$o=new WeakSet;ai=o(function(){let e=Gl(Gt(this,_t),!0),t=new Uint8Array(e.length+1);return t[0]=this.flag(),t.set(e,1),ro(no(wn(t,{dkLen:32})).slice(0,to*2))},"toLegacyAddress_fn");var Y1=Z1;function X1(e,t,r){let n=r?.legacyAddress?ii(e,32):Ho(e,32),s=new TextEncoder().encode(t),i=new Uint8Array(1+s.length+n.length);return i.set([s.length],0),i.set(s,1),i.set(n,1+s.length),new Y1(i,r)}o(X1,"toZkLoginPublicIdentifier");var J1=Fl(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function Gl(e,t=!1){let r=e[0]+1,n=BigInt(`0x${Pd(e.slice(r))}`),s=t?ii(n,32):Ho(n,32),i=new Uint8Array(r+s.length);return i.set(e.slice(0,r),0),i.set(s,r),i}o(Gl,"normalizeZkLoginPublicKeyBytes");async function ql({address:e,bytes:t,signature:r,intentScope:n,client:s=new Po({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let i=await s.query({query:J1,variables:{bytes:t,signature:r,intentScope:n,author:e}});return i.data?.verifyZkloginSignature.success===!0&&i.data?.verifyZkloginSignature.errors.length===0}o(ql,"graphqlVerifyZkLoginSignature");function zo(e){let t=typeof e=="string"?ut(e):e;if(t[0]!==jt.ZkLogin)throw new Error("Invalid signature scheme");let r=t.slice(1),{inputs:n,maxEpoch:s,userSignature:i}=Vl(r),{issBase64Details:c,addressSeed:l}=n,u=$l(c,"iss"),f=X1(BigInt(l),u);return{serializedSignature:gt(t),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:s,userSignature:i,iss:u,addressSeed:BigInt(l)},signature:t,publicKey:f.toRawBytes()}}o(zo,"parseSerializedZkLoginSignature");function Wl(e){let t=ut(e),r=Rl[t[0]];switch(r){case"Passkey":return oi(e);case"MultiSig":let n=Dt.MultiSig.parse(t.slice(1));return{serializedSignature:e,signatureScheme:r,multisig:n,bytes:t};case"ZkLogin":return zo(e);case"ED25519":case"Secp256k1":case"Secp256r1":let s=Il[r],i=t.slice(1,t.length-s),c=t.slice(1+i.length);return{serializedSignature:e,signatureScheme:r,signature:i,publicKey:c,bytes:t};default:throw new Error("Unsupported signature scheme")}}o(Wl,"parseSerializedSignature");d();p();var pi=32,en=class extends cr{static{o(this,"Ed25519PublicKey")}constructor(t){if(super(),typeof t=="string"?this.data=ut(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==pi)throw new Error(`Invalid public key input. Expected ${pi} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return jt.ED25519}async verify(t,r){let n;if(typeof r=="string"){let s=Wl(r);if(s.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!Jr(this.toRawBytes(),s.publicKey))throw new Error("Signature does not match public key");n=s.signature}else n=r;return Tl.verify(n,t,this.toRawBytes())}};en.SIZE=pi;var Vo=o(async()=>{let e=await ge();return Cn(e)},"getSelectedAccount"),Cn=o(e=>{let t=e.addresses.filter(r=>r.networkID===ns.Mainnet||r.networkID===ns.Testnet);if(t.length===0)throw ed;if(t.length===1){let[r]=t;if(!r?.publicKey)throw new Error("[sui provider] selected account account does not have a public key");let{publicKey:n,address:s}=r;return{address:s,publicKey:new en(n).toSuiBytes().toString()}}throw new Error("[sui provider] multiple accounts provided")},"getSuiAddressWithPubkey");d();p();var Ct=class{static{o(this,"TrustedAppsStore")}storage;target;numListeners;unsubscribeFromStorageChanges;constructor(t){this.storage=t,this.target=new EventTarget,this.numListeners={revoked:0},this.unsubscribeFromStorageChanges=null}async get(t){return(await Vr(this.storage)).apps[t]??{}}async add(t,r,n){let s=await Vr(this.storage),i=s?.apps?.[t]?.[r]??{},c={...s?.apps[t]??{},[r]:{...i,...n}},l={...s.apps,[t]:c},u={...s,apps:l};return await cs(this.storage,u)}async delete(t,r){let n=await Vr(this.storage),s={...n?.apps[t]??{}};delete s[r];let i={...n.apps,[t]:s},c={...n,apps:i};return await cs(this.storage,c)}dispatchEvent({type:t,data:r}){let n=new Event(t);n.data=r,this.target.dispatchEvent(n)}removeEventListener(t,r){this.target.removeEventListener(t,r),this.numListeners[t]--,Object.values(this.numListeners).reduce((s,i)=>s+i,0)===0&&(this.unsubscribeFromStorageChanges?.(),this.unsubscribeFromStorageChanges=null)}addEventListener(t,r){this.target.addEventListener(t,r),this.numListeners[t]++,Object.values(this.numListeners).reduce((s,i)=>s+i,0)===1&&(this.unsubscribeFromStorageChanges=this.subscribeToStorageChanges())}subscribeToStorageChanges(){let t=null,r=Vr(this.storage);return this.storage.subscribe(async n=>{if(n!==vd)return;let s=await Vr(this.storage);if(t??await r){let i=this.getRevokedApps(t??await r,s);for(let c of i)try{this.dispatchEvent({type:"revoked",data:c})}catch(l){X.captureError(l,ee.TrustedApps)}}t=s})}getRevokedApps(t,r){let n=[],s=Object.entries(t.apps);for(let[i,c]of s){let l=Object.entries(c);for(let[u,f]of l)r.apps[i]?.[u]||n.push({origin:u,accountId:i})}return n}};d();p();var Bn=o(async({enabledChains:e,metamaskOverrideSetting:t})=>{let r=["solana.js","phantom.js"];if(e.includes(be.EVM))switch(t){case"ALWAYS_ASK":{r.push("evmAsk.js");break}case"USE_PHANTOM":{r.push("evmPhantom.js");break}case"USE_METAMASK":{r.push("evmMetamask.js");break}default:Hc(t)}e.some(n=>n===be.BitcoinTaproot||n===be.BitcoinNativeSegwit)&&r.push("btc.js"),e.some(n=>n===be.Sui)&&r.push("sui.js");try{await chrome.scripting.registerContentScripts([{id:"inpageScripts",matches:["file://*/*","http://*/*","https://*/*"],js:r,runAt:"document_start",allFrames:!0,world:"MAIN"},{id:"contentScript",matches:["file://*/*","http://*/*","https://*/*"],js:["contentScript.js","solanaActionsContentScript.js"],runAt:"document_start",allFrames:!0,world:"ISOLATED"}])}catch{}},"registerContentScripts");async function Ln(){try{let t=(await chrome.scripting.getRegisteredContentScripts()).map(r=>r.id);return chrome.scripting.unregisterContentScripts({ids:t})}catch(e){throw console.error("ERROR REGISTERING",e),new Error("An unexpected error occurred while unregistering dynamic content scripts: "+e.message,{cause:e})}}o(Ln,"unregisterAllDynamicContentScripts");var tn=new Be,li=new Ct(tn);async function Q1(){let{isOnboarded:e}=await fe.checkVaultIntegrity();e&&Ql()}o(Q1,"identifyOnboardedSelectedAccount");var ey=(0,Xl.default)(Ql,500);async function Ql(){let e=await ge(),t=await wr(),r=await as();await xp.identifyAccount(r,e,t)}o(Ql,"identifySelectedAccount");var ty=$r(()=>eo(Ot.SelectedAccount)),ry=$r(()=>eo(Ot.DeveloperMode)),ny=$r(()=>eo(Ot.NetworkSetting)),oy=$r(()=>ad(id)),sy=$r(()=>yd(Ot.AccountsMetadata)),iy=zr(()=>ty()),ay=zr(()=>ry()),cy=zr(()=>ny()),dy=zr(()=>oy()),py=zr(()=>sy());async function eu(){Q1(),iy.addListener(()=>{ly()}),ay.addListener(()=>{Yl()}),cy.addListener(()=>{Yl()}),dy.addListener(()=>{Zl()}),py.addListener(()=>{Zl()}),tn.subscribe(e=>{switch(e){case"metaMaskOverride":{my();return}case Zc:{hy();return}}}),li.addEventListener("revoked",e=>{uy(e.data)})}o(eu,"registerStorageListeners");async function Zl(){X.addBreadcrumb(ee.Account,"Vault accounts changed, notifying UI processes",_e.Info);let e="INVALIDATE_ACCOUNTS_MESSAGE",t=await tn.get(e);await tn.set(e,!t)}o(Zl,"onVaultAccountsChanged");async function Yl(){try{let e=await ge(),t=await li.get(e.identifier);for(let r of qr()){let n=r.origin.toLowerCase();if(n in t){let c={jsonrpc:"2.0",method:"phantom_chainChanged",params:{evm:await Kr(n)}};r.send(c)}}}catch(e){X.captureError(e,ee.Provider)}}o(Yl,"onNetworkSettingChange");async function ly(){try{await ey()}catch(i){X.captureError(i,ee.Provider)}let e=await ge(),t;try{t=Ue(e,be.EVM)}catch{}let r;try{r=Ue(e,be.Solana)}catch{}let n;try{n=await go()}catch{}let s;try{s=await Vo()}catch{}if(t||r||n||s){let i=await li.get(e.identifier);for(let c of qr()){let l={btc:[]};t&&(l.evm=t),r&&(l.sol=r),n&&(l.btc=n),s&&(l.sui=s),c.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:c.origin in i?l:null})}}else for(let i of qr())i.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:null})}o(ly,"onAccountChange");async function uy(e){let r=(await as()).find(u=>u.identifier===e.accountId),n=r?.addresses?.find(u=>u.addressType===be.EVM)?.address,s=r?.addresses?.find(u=>u.addressType===be.Solana)?.address,i;try{i=r?Ls(r):void 0}catch{}let c;try{c=r?Cn(r):void 0}catch{}if(!n&&!s&&!i&&!c)return;let l={};n&&(l.evm=n),s&&(l.sol=s),i&&(l.btc=i),c&&(l.sui=c);for(let u of qr())u.origin.toLowerCase()===e.origin.toLowerCase()&&u.send({jsonrpc:"2.0",method:"phantom_trustRevoked",params:l})}o(uy,"onTrustRevoked");function my(){for(let e of qr())(async()=>{try{await Jl.default.tabs.sendMessage(e.tabId,{jsonrpc:"2.0",method:"phantom_metaMaskOverrideSettingsChanged",params:null})}catch{}})();(async()=>{try{let e=await wr(),t=await xr(tn);await Ln(),await Bn({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}o(my,"onMetaMaskOverrideSettingsChanged");function hy(){(async()=>{try{let e=await wr(),t=await xr(tn);await Ln(),await Bn({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}o(hy,"onChainAvailabilityChanged");d();p();var jo=ce(mr(),1);async function tu(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(!Object.values(be).includes(r))return a.invalidInput(e.id,"Invalid or missing chain.");let n=t[1];if(typeof n!="string")return a.invalidInput(e.id,"Missing private key.");let s=t[2];if(typeof n!="string")return a.invalidInput(e.id,"Missing account name.");if(!He())return a.result(e.id,null);let c=await fe.addPrivateKeyAccount(r,ot.from(Buffer.from(n,"base64")),s);return a.result(e.id,JSON.stringify(c))}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(tu,"_importPrivateKeyAccount");async function ru(e){try{let t=e.params;if(Object.values(t).length===0)return a.invalidInput(e.id);let r=Object.keys(t);if(!Object.values(be).includes(...r))return a.invalidInput(e.id);if(Object.values(t).map(i=>typeof i!="string").reduce((i,c)=>i||c,!1))return a.invalidInput(e.id);let s=await fe.addReadonlyAccount(t);return a.result(e.id,JSON.stringify(s))}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(ru,"_importReadOnlyAccount");async function nu(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.length===0)return a.invalidInput(e.id);let s=t[2];if(typeof s!="string")return a.invalidInput(e.id,"Missing account name.");if(!He())return a.result(e.id,null);let l=(await ao()).fromEntropy(jo.default.decode(r)),u=await fe.addSeedWithMultipleAccounts(ot.from(l.getEntropy()),s,n);return a.result(e.id,JSON.stringify(u))}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(nu,"_importSeedAccount");async function ou(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.length===0)return a.invalidInput(e.id);let s=t[2];if(typeof s!="string")return a.invalidInput(e.id,"Missing account name.");if(!He())return a.result(e.id,null);let l=(await ao()).fromEntropy(jo.default.decode(r)),u=await fe.addSeedlessWithMultipleAccounts(ot.from(l.getEntropy()),s,n);return a.result(e.id,JSON.stringify(u))}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(ou,"_importSocialSeedAccount");async function su(e){try{let t=e.params;if(typeof t!="string")return a.invalidInput(e.id);if(!He())return a.result(e.id,null);let s=(await ao()).fromEntropy(jo.default.decode(t)),i=await fe.isExistingSeed(ot.from(s.getEntropy()));return a.result(e.id,i)}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(su,"_isExistingSeed");async function iu(e){try{let r=e.params[0];if(!r)return a.invalidInput(e.id,"Missing se*d identifier.");if(!He())return a.result(e.id,null);let s=await fe.fetchAllSeedMetas();if(!s||s.length===0)return a.invalidInput(e.id,"No available se*d.");if(!s.find(l=>l.identifier===r))return a.invalidInput(e.id,"Invalid se*d identifier.");let c=await fe.addAccountForExistingSeed(r);return a.result(e.id,JSON.stringify(c))}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(iu,"_addAccountForSeed");async function au(e){try{let r=e.params[0];if(!r)return a.invalidInput(e.id,"Missing se*d identifier.");if(!He())return a.result(e.id,null);let s=await fe.fetchAllSeedlessMetas();if(!s||s.length===0)return a.invalidInput(e.id,"No available se*d.");if(!s.find(l=>l.identifier===r))return a.invalidInput(e.id,"Invalid se*d identifier.");let c=await fe.addAccountForExistingSeedless(r);return a.result(e.id,JSON.stringify(c))}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(au,"_addSocialAccountForSocialSeed");async function cu(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.some(c=>!Jc.safeParse(c).success))return a.invalidInput(e.id);if(!He())return a.result(e.id,null);let i=await fe.addLedgerAccounts(r,n);return a.result(e.id,JSON.stringify(i))}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(cu,"_addLedgerAccounts");async function du(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(typeof n!="string")return a.invalidInput(e.id,"Missing account identifier.");let s=t[2];if(!Object.values(be).includes(s))return a.invalidInput(e.id,"Invalid or missing chain.");if(!await Ar(ot.from(Buffer.from(r))))return a.invalidInput(e.id,"Invalid passw*rd.");let c=await fe.exportPrivateKey(n,s);if(!c)return a.result(e.id,null);let l=c.fold(u=>Buffer.from(u.buffer).toString("hex"));return a.result(e.id,l)}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(du,"_exportPrivateKey");async function pu(e){try{let t=e.params,r=t[0];if(typeof r!="string")return a.invalidInput(e.id);if(!await Ar(ot.from(Buffer.from(r))))return a.invalidInput(e.id,"Invalid passw*rd.");let s=t[1];if(!s)return a.invalidInput(e.id,"Missing se*d identifier.");let i=await fe.fetchAllSeedMetas(),c=await fe.fetchAllSeedlessMetas(),l=i.concat(...c);if(!l||l.length===0)return a.result(e.id,null);let u=l.find(g=>g.identifier===s);if(!u)return a.result(e.id,null);let f=await fe.exportEntropy(u.identifier);if(!f)return a.result(e.id,null);let x=f.fold(g=>Buffer.from(g.buffer).toString("hex"));return a.result(e.id,x)}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(pu,"_exportEntropy");async function lu(e){try{let t=e.params;return Array.isArray(t)?typeof t[0]!="string"?a.invalidInput(e.id):typeof t[1]!="string"?a.invalidInput(e.id):He()?a.result(e.id,!0):a.result(e.id,null):a.invalidInput(e.id)}catch(t){return a.internalError(e.id,t.message)}}o(lu,"_setAccountIcon");async function uu(e){try{if(!He())return a.result(e.id,null);let r=await fe.deriveAddresses();return a.result(e.id,r)}catch(t){return X.captureError(Error(`Failed to derive addresses for enabled chains in account.ts due to ${t.message}`),ee.Account),a.internalError(e.id,t.message)}}o(uu,"_deriveAddresses");async function mu(e){try{let t=e.params;return typeof t!="string"?a.invalidInput(e.id):He()?(await fe.removeAccount(t),a.result(e.id,!0)):a.result(e.id,null)}catch(t){return X.captureError(Error(`Failed to remove account in account.ts due to ${t.message}`),ee.Account),a.internalError(e.id,t.message)}}o(mu,"_removeAccount");async function hu(e){try{let{identifier:t,toIndex:r}=e.params;return typeof t!="string"||typeof r!="number"?a.invalidInput(e.id):He()?(await fe.reorderAccount(t,r),a.result(e.id,!0)):a.result(e.id,null)}catch(t){return X.captureMessage("Failed to reorder account in account.ts",ee.Account),a.internalError(e.id,t.message)}}o(hu,"_reorderAccount");async function fu(e){try{if(!He())return a.result(e.id,null);let r=await fe.fetchAllAccounts();if(!r)return a.result(e.id,null);let n=sd({accounts:r}).accounts;return a.result(e.id,JSON.stringify(n))}catch(t){return a.internalError(e.id,t.message)}}o(fu,"_getAllAccounts");async function gu(e){try{if(!He())return a.result(e.id,null);let r=await fe.fetchAllSeedMetas();return r?(Oe.capture("walletSeeds",{data:{numOfSeeds:r.length}}),a.result(e.id,JSON.stringify(r))):a.result(e.id,null)}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(gu,"_getAllSeeds");async function yu(e){try{if(!He())return a.result(e.id,null);let r=await fe.fetchAllSeedlessMetas();return r?a.result(e.id,JSON.stringify(r)):a.result(e.id,null)}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(yu,"_getAllSocialSeeds");async function xu(e){try{let t=e.params;if(typeof t.accountIdentifier!="string")return a.invalidInput(e.id,"Account Identifier needs to be of type string.");if(!hd(t.params))return a.invalidInput(e.id,"Invalid vault signer params.");if(!He())return a.result(e.id,null);let n=await fe.sign(t.accountIdentifier,t.params);return a.result(e.id,gr(n))}catch(t){return X.captureError(t,ee.Transaction),a.internalError(e.id,t.message)}}o(xu,"_sign");async function wu(e){try{let t=e.params;if("secretIdentifier"in t&&typeof t.secretIdentifier!="string")return a.invalidInput(e.id,"Secret Identifier needs to be present and of type string.");if(!He())return a.result(e.id,null);let n=await fe.getAuthenticationPublicKey(t.secretIdentifier);return a.result(e.id,gr(n))}catch(t){return X.captureError(t,ee.Transaction),a.internalError(e.id,t.message)}}o(wu,"_getAuthenticationPublicKey");async function bu(e){try{if(!He())return a.result(e.id,null);let r=await fe.checkVaultIntegrity();return a.result(e.id,r)}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(bu,"_checkVaultIntegrity");async function Au(e){try{if(!He())return a.result(e.id,null);let r=await fe.DO_NOT_USE_diagnoseSeedCacheDigests();return a.result(e.id,JSON.stringify(r))}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(Au,"_DO_NOT_USE_diagnoseSeedCacheDigests");d();p();var Su=1e4,mi=class{static{o(this,"MutexQueue")}queue=[];isLocked=!1;currentTag=null;timeoutId=null;currentReject=null;constructor(){qn()&&(globalThis.__PHANTOM_TEST_MUTEX__={cancelAllRequests:o(()=>this.cancelAllRequests(),"cancelAllRequests")})}_processNextRequest(){if(this.queue.length===0){this.isLocked=!1;return}let t=this.queue.shift();t&&(this.isLocked=!0,this.currentTag=t.tag,this.currentReject=t.reject,t.resolve())}async acquire(t){return this.isLocked?new Promise((r,n)=>{this.queue.push({tag:t,resolve:r,reject:n})}):(this.isLocked=!0,this.currentTag=t,this.timeoutId=setTimeout(()=>{this.currentTag===t&&this.currentReject&&(this.currentReject(new Error(`Mutex request timed out after ${Su}ms for tag: ${t}`)),this.currentTag=null,this.isLocked=!1,this.currentReject=null,this._processNextRequest())},Su),new Promise((r,n)=>{this.currentReject=n,r()}))}release(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentTag=null,this.currentReject=null,this._processNextRequest()}cancelTaggedRequests(t){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentTag===t&&(this.currentTag=null,this.isLocked=!1);let r=this.queue.filter(n=>n.tag===t);if(this.queue=this.queue.filter(n=>n.tag!==t),r.forEach(n=>{n.reject(new Error(`Mutex request cancelled for tag: ${t}`))}),!this.isLocked&&this.queue.length>0){let n=this.queue.shift();n&&(this.isLocked=!0,this.currentTag=n.tag,n.resolve())}}async runExclusive(t,r){await this.acquire(t);try{return await r()}finally{this.release()}}cancelAllRequests(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentReject&&this.currentReject(new Error("Mutex request cancelled")),this.queue.forEach(t=>{t.reject(new Error("Mutex request cancelled"))}),this.currentTag=null,this.currentReject=null,this.isLocked=!1,this.queue=[]}},qo=new mi;async function _u(e,t){return await qo.acquire(t),a.result(e.id,!0)}o(_u,"_serviceWorkerMutexAcquire");async function Eu(e){return qo.release(),a.result(e.id,!0)}o(Eu,"_serviceWorkerMutexRelease");async function vu(e){return qo.runExclusive("default",e)}o(vu,"runExclusiveAsServiceWorker");function hi(e){qo.cancelTaggedRequests(e)}o(hi,"_cancelTaggedMutexRequests");d();p();async function Bt(){if(!He())throw new Error("Wallet is locked - password not available");try{return fe.getKMSInstance()}catch(t){throw t instanceof Error&&t.message.includes("Failed to get the encryption password")?new Error("KMS not ready - JWT keypair cannot be derived. Please try again."):t}}o(Bt,"getKMSInstance");async function Tu(e){try{let r=await(await Bt()).getPhantomOrganization({});return a.result(e.id,r)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get Phantom organization"})}}o(Tu,"_getPhantomOrganization");async function ku(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n]=t;if(!r||!n)throw new Error("organizationId and username are required");let i=await(await Bt()).deleteUserFromOrganization({organizationId:r,username:n});return a.result(e.id,i)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to delete user from organization"})}}o(ku,"_deleteUserFromOrganization");async function Iu(e){try{let r=await(await Bt()).getOrCreatePhantomOrganization();return a.result(e.id,r)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get or create Phantom organization"})}}o(Iu,"_getOrCreatePhantomOrganization");async function Ru(e){try{let t=await Bt(),r=await Ld(t,fe);return Yn("enable-kms-vault-account-ext")?await wd(r,fe):X.addBreadcrumb(ee.Account,"KMS vault account storage skipped: feature flag disabled",_e.Info),a.result(e.id,{...r,isNewAccount:r.isNewlyCreated})}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to retrieve KMS wallet"})}}o(Ru,"_retrieveKMSWallet");async function Cu(e){try{let t=await Bt(),r=await Bd(t,fe);return a.result(e.id,r)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get KMS wallet status"})}}o(Cu,"_getKMSWalletStatus");async function Bu(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n,s,i,c,l]=t;if(!r||!n||!i||!c)throw new Error("userOrganizationId, publicKey, appId, and walletId are required");let u=await Bt(),f=await Cd({kms:u,userOrganizationId:r,publicKey:n,expiresInMs:s,appId:i,walletId:c,usdCentsLimitPerDay:l});return a.result(e.id,f)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to add user to current user organization"})}}o(Bu,"_addUserToCurrentUserOrganization");async function Lu(e){try{if(!He())throw new Error("Wallet is locked - password not available");let r=await ge(),n=await(async()=>fe.getKMSInstance())(),s=null,i=null,c;try{let b=await n.getPhantomOrganization({});if(!b.result)return a.result(e.id,{orgFound:!1});s=b.result.organizationId,i=b.result.organizationName,c=Object.fromEntries((b.result.users??[]).map(S=>[S.username,S.authenticators]))}catch{return a.result(e.id,{orgFound:!1})}let u=(await n.getOrganizationWallets({organizationId:s,limit:50,offset:0})).result.wallets,f=new Be,g=await od(),y={};for(let b of u)try{let S=await n.getAccounts({organizationId:s,walletId:b.walletId,accounts:g});y[b.walletId]=S.result}catch{X.addBreadcrumb(ee.Account,`Failed to fetch KMS accounts for wallet ${b.walletId}`,_e.Debug),y[b.walletId]=[]}let E=await n.getAuthenticatorPublicKey();return a.result(e.id,{orgFound:!0,organizationId:s,organizationName:i??void 0,wallets:u,accountsByWalletId:y,selectedAccountIdentifier:r.identifier,selectedAccountAddresses:r.addresses?.map(b=>b.address),authenticatorsByUser:c,kmsAuthenticatorPublicKey:E})}catch(t){let r=t instanceof Error?t.message:"Failed to get KMS accounts";return a.error(e.id,{code:-1,message:r})}}o(Lu,"_getKmsAccounts");async function Uu(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n]=t,i=await(await Bt()).getWalletWithTag({organizationId:r,tag:n});return a.result(e.id,i)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get wallet with tag"})}}o(Uu,"_getWalletWithTag");async function Mu(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n,s,i,c]=t,u=await(await Bt()).updateUserInOrganization({organizationId:r,username:n,removeTraits:s,addTraits:i,newPolicy:c});return a.result(e.id,u)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to update user in organization"})}}o(Mu,"_updateUserInOrganization");async function Nu(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n,s]=t,c=await(await Bt()).getAccounts({organizationId:r,walletId:n,accounts:s});return a.result(e.id,c)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get accounts"})}}o(Nu,"_getAccounts");async function Ou(e){try{let t=e.params;if(!t||!Array.isArray(t)||!t.every(s=>s.method&&s.params))throw new Error("Missing or invalid params");let n=await(await Bt()).batchRpcCall(t);return a.result(e.id,n)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to batch RPC call"})}}o(Ou,"_batchRpcCall");d();p();d();p();async function Du(){if(!Yn("enable-kms-vault-account-ext")){X.addBreadcrumb(ee.Account,"KMS vault sync skipped: feature flag disabled",_e.Info);return}await xd(fe)}o(Du,"syncKMSVaultAccount");async function Hu(e){try{let t=await br.hasPersistedDeviceEncryptionKey();return a.result(e.id,t)}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(Hu,"_hasOnboarded");async function Fu(e){try{return await br.deletePersistedDeviceEncryptionKey(),a.result(e.id,!0)}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(Fu,"_resetHasOnboarded");var fi=!1;function $u(e){fi=e}o($u,"setShouldLockOnPopupOpen");function gi(){return fi}o(gi,"shouldLockOnPopupOpen");var Pu=!1;async function fy(){if(!Pu)try{await fe.healAccountsWithMissingSecrets(),Pu=!0}catch(e){X.captureError(e,ee.Account)}}o(fy,"healAccountsAfterUnlock");async function zu(e){try{let t=e.params;if(typeof t!="string")return a.invalidInput(e.id);let r=ot.from(Buffer.from(t));return await Ar(r)?(fi=!1,await fy(),await hp(),await mp(),Du().catch(s=>{X.captureError(s,ee.Account)}),gd(fe).catch(s=>{X.captureError(s,ee.Account)}),a.result(e.id,{isUnlocked:!0})):a.result(e.id,{isUnlocked:!1})}catch(t){return a.internalError(e.id,t.message)}}o(zu,"_unlockExtension");function Vu(e){try{let t=!!He();return a.result(e.id,t)}catch(t){return X.captureError(t,ee.Account),a.internalError(e.id,t.message)}}o(Vu,"_isExtensionUnlocked");function ju(e){try{return An(),a.result(e.id,!0)}catch(t){return X.captureError(Error(`Failed to lock extension due to ${t.message}`),ee.Account),a.internalError(e.id,t.message)}}o(ju,"_lockExtension");async function qu(e){try{let t=e.params;return typeof t!="string"?a.invalidInput(e.id):(await fe.clearVault(),await br.deletePersistedDeviceEncryptionKey(),fs(ot.from(Buffer.from(t))),await br.persistDeviceEncryptionKey(),a.result(e.id,!0))}catch(t){return X.captureMessage(`\u{1F6AB} Failed to Set Passw*rd in BackgroundScript: ${t.message}`,ee.Account),a.internalError(e.id,t.message)}}o(qu,"_setPassword");async function Ku(e){try{let t=e.params;if(typeof t!="string")return a.invalidInput(e.id);let r=await Ar(ot.from(Buffer.from(t)));return a.result(e.id,r)}catch(t){return X.captureMessage(`\u{1F6AB} Failed to Verify Passw*rd in BackgroundScript: ${t.message}`,ee.Account),a.internalError(e.id,t.message)}}o(Ku,"_verifyPassword");async function Gu(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id,"Missing current password.");let n=t[1];if(typeof n!="string")return a.invalidInput(e.id,"Missing new password.");if(!await Ar(ot.from(Buffer.from(r))))return a.result(e.id,null);if(!He())return a.result(e.id,null);let c=ot.from(Buffer.from(n)),l=await up.rotateEncryptionKey(c);return l&&(X.addBreadcrumb(ee.Account,"new passw*rd set in memory!",_e.Info),fs(c)),X.addBreadcrumb(ee.Account,`storage key rotation success: ${l}`,_e.Info),a.result(e.id,l)}catch(t){return X.captureMessage(`\u{1F6AB} Failed to Update Passw*rd in BackgroundScript: ${t.message}`,ee.Account),a.internalError(e.id,t.message)}}o(Gu,"_updatePassword");d();p();async function Wu(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];return n.featureTag?(hn.write(r,n.featureTag,n.severity,n.data),a.result(e.id,!0)):a.invalidInput(e.id)}catch(t){return X.captureError(t,ee.BugReporter),a.internalError(e.id,t.message)}}o(Wu,"_logMessage");function Zu(e){try{return hn.downloadLog({noop:!0}),a.result(e.id,!0)}catch(t){return X.captureError(t,ee.BugReporter),a.internalError(e.id,t.message)}}o(Zu,"_downloadLogs");d();p();d();p();d();p();d();p();d();p();d();p();var Yu=o(e=>{try{return new URL(e)}catch{return}},"parseURL");function z(e){let t=he(e);if(t)return t.protocol!=="http:"&&t.protocol!=="https:"?`${t.protocol}//${t.hostname}`:t.origin}o(z,"getSourceOrigin");var gy="8bfda36a-d292-4aa3-b30f-53ef91ab6380",yy="b4285baa-c852-490f-9af2-8459680b1264";function he(e){if(e.type==="BrowserTabRpcRequestSource"||e.type==="InternalRpcRequestSource")return e.url;if(e.type==="DeepLinkRpcRequestSource"){if(e.sdkKey===gy)return new URL("https://app.drift.trade");if(e.sdkKey===yy)return new URL("https://app.lulo.fi");let t=Yu(e.deepLinkUrl)?.searchParams?.get("redirect_uri");if(t){let r=Yu(t);if(r)return r.protocol!=="http:"&&r.protocol!=="https:"?new URL(`${r.protocol}//${r.hostname}`):r}return}}o(he,"getSourceURL");function Ae(e){if(e.type==="BrowserTabRpcRequestSource"||e.type==="InternalRpcRequestSource")return e.icon?.href||null;if(e.type==="DeepLinkRpcRequestSource"){let t=he(e);return t?Xn(t.hostname):null}return null}o(Ae,"getSourceIcon");var xy=new Set(Oc),pe=o(async({source:e,request:t})=>{if(!e)return a.unauthorized(t.id);if(e.type!=="BrowserTabRpcRequestSource"&&e.type!=="InternalRpcRequestSource"&&e.type!=="DeepLinkRpcRequestSource")return a.unauthorized(t.id);let r=he(e);if(!r)return a.unauthorized(t.id);if(e.type!=="DeepLinkRpcRequestSource"&&r.protocol!=="https:")return xy.has(r.hostname)?void 0:a.unauthorized(t.id)},"requireSecureSource");d();p();var ae=o(e=>async({source:t,request:r},{i18n:n})=>{if(!t)return a.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!==e)return a.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource"))},"requireValidSourceType");d();p();var dr=o(async(e,{wallet:t})=>{let{request:r}=e,n="transactions"in r.params?r.params.transactions:[r.params.transaction],s=await Promise.all(n.map(i=>t.sol.addPriorityFee(i)));"transactions"in r.params?r.params.transactions=s:r.params.transaction=s[0]},"addPriorityFeeToSolanaTransaction");d();p();d();p();function pr(e){return/\blocalhost\b|(\d{1,3}\.){3}\d{1,3}/.test(e)}o(pr,"shouldSkipAnalytics");var Un=o(async({request:e,source:t},{analytics:r})=>t?t.type!=="BrowserTabRpcRequestSource"?a.internalError(e.id,"missing source"):async n=>{let{method:s}=e,i=t.url.hostname;if(pr(i))return;let c={method:s,chainType:"bip122",chainId:"000000000019d6689c085ae165831e93",origin:i};if(s==="btc_requestAccounts"){let l={...c};"error"in n?r.declineConnection({...l,errorCode:n.error.code}):r.approveConnection({...l,eager:!1})}if(s==="btc_signPSBT"){let l={...c};"error"in n?r.declineTransaction({...l,errorCode:n.error.code}):r.approveTransaction(l)}if(s==="btc_signMessage"){let l={...c};"error"in n?r.declineSignMessage({...l,errorCode:n.error.code}):r.approveSignMessage(l)}}:a.internalError(e.id,"missing source"),"btcAnalytics");d();p();var We=o(async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return a.internalError(e.id,"missing source");let i=he(t);return i?async c=>{if("error"in c)return;let l=i.toString();switch(e.method){case"eth_blink_sendTransaction":{let u=c.result,f=s.getOrigin(e.params[1].context.blinkUrl);return f?r.eth.submittedTransaction({origin:f,request:{...e,method:"eth_sendTransaction",params:[e.params[0]]},signatures:[u]}):void 0}case"eth_sendTransaction":{let u=c.result,f=await n.eth.getSelectedAccount();return r.eth.submittedTransaction({origin:l,request:e,signatures:[u],walletAddress:f})}case"eth_blink_sign":{let u=s.getOrigin(e.params[2].context.blinkUrl);return u?r.eth.signedMessage({origin:u,request:{...e,method:"eth_sign",params:[e.params[0],e.params[1]]},chainId:await n.eth.getNetworkId(u)}):void 0}case"eth_sign":case"personal_sign":case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":{let u=await n.eth.getSelectedAccount();return r.eth.signedMessage({origin:l,request:e,chainId:await n.eth.getNetworkId(l),walletAddress:u})}case"sol_signAllTransactions":{let u=c.result.map(({signature:x})=>x),f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:u,walletAddress:f})}case"sol_signAndSendTransaction":{let u=c.result.signature,f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:[u],walletAddress:f})}case"sol_blink_signAndSendAllTransactions":{let u=c.result.signatures.filter(Boolean),f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:{...e,method:"sol_signAllTransactions",params:{transactions:e.params.transactions}},chainId:await n.sol.getNetworkId(),signatures:u,walletAddress:f})}case"sol_signAndSendAllTransactions":{let u=c.result.signatures.filter(Boolean),f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:u,walletAddress:f})}case"sol_signTransaction":{let u=c.result.signature,f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:[u],walletAddress:f})}case"sol_signIn":case"sol_signMessage":{let u=await n.sol.getSelectedAccount();return r.sol.signedMessage({origin:l,request:e,chainId:await n.sol.getNetworkId(),walletAddress:u})}case"sol_blink_signMessage":{let u=s.getOrigin(e.params.context.blinkUrl);if(!u)return;let f=await n.sol.getSelectedAccount();return r.sol.signedMessage({origin:u,request:{...e,method:"sol_signMessage",params:{message:e.params.message,display:e.params.display}},chainId:await n.sol.getNetworkId(),walletAddress:f})}}}:a.internalError(e.id,"missing source")},"captureSignatureEventAnalytics");d();p();var Mn=o(async(e,{wallet:t,rpc:r,utils:n})=>{let{request:s,source:i}=e;if(!i)return a.internalError(s.id,"missing source");let c=z(i);if(!c)return a.unauthorized(s.id);let l=await t.eth.getSelectedAccount(),[u]=s.params,f=u.chainId?u.chainId:await t.eth.getNetworkId(c),x=await t.eth.getRpcURL(f);if(u.type=Ur.eip1559,u.chainId||(u.chainId=f),u.nonce||(u.nonce=await t.eth.getAccountNonce(f,l)),!u.gas){let g=await r.eth.eth_estimateGas(x,[u]);if("error"in g)return a.error(s.id,g.error);u.gas=n.eth.getBufferedGasLimit(g.result)}delete u.gasPrice},"convertToEIP1559");d();p();var j=o(async(e,{config:t,logger:r})=>{if(t.env==="production")return;let n=Date.now();return s=>{if(e.source?.type!=="BrowserTabRpcRequestSource"&&e.source?.type!=="InternalRpcRequestSource"&&e.source?.type!=="DeepLinkRpcRequestSource"||!("error"in s&&t.logRequestsOnError||(typeof t.logRequestMethods=="boolean"?t.logRequestMethods:t.logRequestMethods.has(e.request.method))))return;let l=Date.now(),u=he(e.source),f=Ae(e.source);r.debug(`
*-------------------------------------------------------------------------------
| method   | ${e.request.method}
| id       | ${e.request.id}
| params   | ${JSON.stringify(e.request.params).substring(0,67)}
*----------+--------------------------------------------------------------------
| result   | ${JSON.stringify(s.result)}
| error    | ${JSON.stringify(s.error)}
*----------+--------------------------------------------------------------------
| url      | ${JSON.stringify(u)}
| icon     | ${JSON.stringify(f)}
*----------+--------------------------------------------------------------------
| duration | ${l-n}ms
*-------------------------------------------------------------------------------
`)}},"debugLog");d();p();var xe=o(async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return a.internalError(e.id,"missing source");let i=he(t),c=z(t);return!i||!c?a.internalError(e.id):async l=>{let{method:u}=e;if(pr(i.hostname))return;let f=await n.eth.getNetworkId(c),x=s.eth.hexToCAIP2(f),y={method:u,chainType:"eip155",chainId:x,origin:i.hostname};if(u==="eth_requestAccounts"){let E={...y};"error"in l?r.declineConnection({...E,errorCode:l.error.code}):r.approveConnection({...E,eager:!1})}if(u==="eth_sendTransaction"){let[E]=e.params,b={...y,gas:E.gas,maxFeePerGas:E.maxFeePerGas,maxPriorityFeePerGas:E.maxPriorityFeePerGas};"error"in l?r.declineTransaction({...b,errorCode:l.error.code}):r.approveTransaction(b)}if(u==="eth_sign"||u==="personal_sign"||u==="eth_signTypedData"||u==="eth_signTypedData_v3"||u==="eth_signTypedData_v4"){let E={...y};"error"in l?r.declineSignMessage({...E,errorCode:l.error.code}):r.approveSignMessage(E)}if(u==="wallet_selectEthereumProvider"&&!("error"in l)){let E=l.result,b={...y,selection:E};r.metamaskOverrideSelection(b)}}},"ethAnalytics");d();p();var qe=o(e=>async({source:t,request:r},{wallet:n,logger:s})=>{if(!t)return a.unauthorized(r.id);if(t.type==="InternalRpcRequestSource")return;if(t.type!==e)return a.unauthorized(r.id);let i=z(t);if(!i)return a.unauthorized(r.id);if(!await n.isTrustedApp(i))return s.debug("> Dapp not trusted",i),a.unauthorized(r.id)},"requireAuthorizedSource");d();p();var lr=o(async({source:e,request:t},{wallet:r,analytics:n})=>{if(!e)return a.unauthorized(t.id);let s=he(e),i=z(e),c=Ae(e);if(!s||!i)return a.unauthorized(t.id);let l;switch(t.method){case"eth_sendTransaction":{let[E]=t.params;if(!E.chainId)return a.transactionRejected(t.id);l=E.chainId;break}case"eth_signTypedData":{let[E]=t.params,b="";for(let S of E)if(S.name==="chainId"){b=S.value;break}if(!b)return;l="0x"+parseInt(b,10).toString(16);break}case"eth_signTypedData_v3":{let[E,b]=t.params;if(!b.domain.chainId)return;l="0x"+b.domain.chainId.toString(16);break}case"eth_signTypedData_v4":{let[E,b]=t.params;if(typeof b.domain.chainId=="number")l="0x"+b.domain.chainId.toString(16);else return;break}case"wallet_switchEthereumChain":case"wallet_addEthereumChain":{let[E]=t.params;l=E.chainId;break}}let u={url:s.toString(),icon:c};if(!new Set(r.eth.getSupportedNetworks()).has(l))return n.eth.unsupportedChain({origin:i,data:{method:t.method,hexChainId:l}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[u,l]}),a.chainDisconnected(t.id);let x=new Set(await r.eth.getEnabledChains(!0)),g=new Set(await r.eth.getEnabledChains());if(!x.has(l))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmDisabledNetwork",id:0,params:[u,l]}),a.chainDisconnected(t.id);if(!g.has(l))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[u,g.has("0x1")?"mainnet":"testnet"]}),a.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let E=await r.eth.getNetworkId(i);if(E!==l)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[u,{connectedChainId:E,messageChainId:l}]}),a.chainDisconnected(t.id)}},"requireConnectedChain");d();p();var yi=o(async({source:e,request:t},{wallet:r,analytics:n,utils:s})=>{if(!e)return a.unauthorized(t.id);if(e.type!=="BrowserTabRpcRequestSource")return a.unauthorized(t.id);let i="";if(t.method==="eth_blink_sendTransaction"){let[S]=t.params;if(!S.chainId)return a.transactionRejected(t.id);i=S.chainId}let[c,{context:l}]=t.params,u=s.getOrigin(l.blinkUrl);if(!l.blinkUrl||!u)return a.userRejectedRequest(t.id);let f=s.getHostname(l.blinkUrl),x={url:l.blinkUrl,icon:f?s.getFaviconURL(f):null};if(!new Set(r.eth.getSupportedNetworks()).has(i))return n.eth.unsupportedChain({origin:e.url.origin,data:{method:t.method,hexChainId:i}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[x,i]}),a.chainDisconnected(t.id);let y=new Set(await r.eth.getEnabledChains(!0)),E=new Set(await r.eth.getEnabledChains());if(!y.has(i))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmDisabledNetwork",id:0,params:[x,i]}),a.chainDisconnected(t.id);if(!E.has(i))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[x,E.has("0x1")?"mainnet":"testnet"]}),a.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let S=await r.eth.getNetworkId(e.url.origin);if(S!==i)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[x,{connectedChainId:S,messageChainId:i}]}),a.chainDisconnected(t.id)}},"requireBlinksConnectedChain");d();p();var xi=o(async(e,{wallet:t,i18n:r})=>{let{request:n,source:s}=e;try{if(!s)return X.addBreadcrumb(ee.Provider,"eth_requestAccounts: requireEthereumAccount middleware started - missing source",_e.Error,{requestId:n.id}),a.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));if(s.type!=="BrowserTabRpcRequestSource")return X.addBreadcrumb(ee.Provider,"eth_requestAccounts: requireEthereumAccount middleware started - invalid source type",_e.Error,{sourceType:s.type,requestId:n.id}),a.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));X.addBreadcrumb(ee.Provider,"eth_requestAccounts: requireEthereumAccount middleware started",_e.Info,{origin:s.url.origin,requestId:n.id});let i={url:s.url.toString(),icon:s.icon?.href??null};if(X.addBreadcrumb(ee.Provider,"eth_requestAccounts: checking if account supports ETH",_e.Info,{origin:s.url.origin,requestId:n.id}),await t.eth.doesSupportEth()){X.addBreadcrumb(ee.Provider,"eth_requestAccounts: account supports ETH, continuing",_e.Info,{origin:s.url.origin,requestId:n.id});return}return X.addBreadcrumb(ee.Provider,"eth_requestAccounts: account does not support ETH, requesting user confirmation",_e.Info,{origin:s.url.origin,requestId:n.id}),await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[i,"ethereum"],id:de()}),a.resourceUnavailable(n.id)}catch(i){let c=s&&s.type==="BrowserTabRpcRequestSource"?s.url.origin:"unknown";throw X.captureError(i instanceof Error?i:new Error(String(i)),ee.Provider),X.addBreadcrumb(ee.Provider,"eth_requestAccounts: requireEthereumAccount middleware error",_e.Error,{origin:c,requestId:n.id,error:i instanceof Error?i.message:String(i)}),i}},"requireEthereumAccount");d();p();var wi=o(async(e,{wallet:t,i18n:r,utils:n})=>{let{request:s,source:i}=e;if(!i)return a.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));if(i.type!=="BrowserTabRpcRequestSource")return a.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));let c=s.params.context,l=n.getOrigin(c.blinkUrl);if(!c.blinkUrl||!l)return a.userRejectedRequest(s.id);let u=n.getHostname(c.blinkUrl),f={url:c.blinkUrl,icon:u?n.getFaviconURL(u):null};if(!await t.eth.doesSupportEth())return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[f,"ethereum"],id:de()}),a.resourceUnavailable(s.id)},"requireEthereumBlinkAccount");d();p();var em=ce(rn(),1);var bi=o(async({request:e})=>{let t=em.default.decode(e.params.message);if(!Lc(t))return a.invalidInput(e.id,"You cannot sign solana transactions using sign message")},"requireSafeSolanaMessage");d();p();var Ai=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);if(n.type!=="BrowserTabRpcRequestSource")return a.userRejectedRequest(r.id);if(await t.isTrustedApp(n.url.origin))return;let i=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcRequestAccounts",id:de(),params:[{url:n.url.toString(),icon:n.icon?.href??null}]});if("error"in i)return a.error(r.id,i.error)},"requireUserApprovalBtcRequestAccounts");d();p();var Si=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignMessage",id:de(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{message:e.params.message}]});if("error"in s)return a.error(e.id,s.error);switch(s.result.type){case"send":return a.result(e.id,{signature:s.result.signature,signedMessage:s.result.signedMessage});case"signAndSend":return}},"requireUserApprovalBtcSignMessage");d();p();var _i=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignPSBT",id:de(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{psbt:e.params[0],inputsToSign:e.params[1].inputsToSign,finalize:e.params[1].finalize}]});if("error"in s)return a.error(e.id,s.error);switch(s.result.type){case"send":return a.result(e.id,s.result.signature);case"signAndSend":return}},"requireUserApprovalBtcSignPSBT");d();p();var Ei=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;try{if(!n)return X.addBreadcrumb(ee.Provider,"eth_requestAccounts: requireUserApprovalEthRequestAccounts middleware started - missing source",_e.Error,{requestId:r.id}),a.userRejectedRequest(r.id);if(n.type!=="BrowserTabRpcRequestSource")return X.addBreadcrumb(ee.Provider,"eth_requestAccounts: requireUserApprovalEthRequestAccounts middleware started - invalid source type",_e.Error,{sourceType:n.type,requestId:r.id}),a.userRejectedRequest(r.id);if(X.addBreadcrumb(ee.Provider,"eth_requestAccounts: requireUserApprovalEthRequestAccounts middleware started",_e.Info,{origin:n.url.origin,requestId:r.id}),X.addBreadcrumb(ee.Provider,"eth_requestAccounts: checking if app is trusted",_e.Info,{origin:n.url.origin,requestId:r.id}),await t.isTrustedApp(n.url.origin)){X.addBreadcrumb(ee.Provider,"eth_requestAccounts: app is trusted, skipping approval",_e.Info,{origin:n.url.origin,requestId:r.id});return}X.addBreadcrumb(ee.Provider,"eth_requestAccounts: app not trusted, requesting user approval",_e.Info,{origin:n.url.origin,requestId:r.id});let i=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:de(),params:[{url:n.url.toString(),icon:n.icon?.href??null}]});if("error"in i)return X.addBreadcrumb(ee.Provider,"eth_requestAccounts: user approval rejected or error",_e.Info,{origin:n.url.origin,requestId:r.id,errorCode:i.error.code,errorMessage:i.error.message}),a.error(r.id,i.error);X.addBreadcrumb(ee.Provider,"eth_requestAccounts: user approval granted",_e.Info,{origin:n.url.origin,requestId:r.id})}catch(s){let i=n&&n.type==="BrowserTabRpcRequestSource"?n.url.origin:"unknown";throw X.captureError(s instanceof Error?s:new Error(String(s)),ee.Provider),X.addBreadcrumb(ee.Provider,"eth_requestAccounts: requireUserApprovalEthRequestAccounts middleware error",_e.Error,{origin:i,requestId:r.id,error:s instanceof Error?s.message:String(s)}),s}},"requireUserApprovalEthRequestAccounts");d();p();var vi=o(async(e,{wallet:t,utils:r})=>{let{request:n,source:s}=e;if(!s)return a.userRejectedRequest(n.id);if(s.type!=="BrowserTabRpcRequestSource")return a.userRejectedRequest(n.id);let i=n.params.context,c=r.getOrigin(i.blinkUrl);if(!i.blinkUrl||!c)return a.userRejectedRequest(n.id);if(await t.isTrustedApp(c))return;let u=r.getHostname(i.blinkUrl),f=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:de(),params:[{url:i.blinkUrl,icon:u?r.getFaviconURL(u):null}]});if("error"in f)return a.error(n.id,f.error)},"requireUserApprovalEthBlinkRequestAccounts");d();p();var Ti=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);let s=z(n),i=he(n),c=Ae(n);if(!s||!i)return a.unauthorized(r.id);if(await t.isTrustedApp(s))return;let u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveWalletRequestPermissions",id:de(),params:[{url:i.toString(),icon:c}]});if("error"in u)return a.error(r.id,u.error)},"requireUserApprovalWalletRequestPermissions");d();p();d();p();var nt=o(e=>[ye.OK,ye.RateLimitExceeded,ye.SessionExpired,ye.SimulationFailed,ye.Unknown,ye.UnsupportedNetworkId,ye.UnsupportedMethod].includes(e),"isAutoConfirmStatusCodeLoggable");var ki=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=z(t),c=he(t),l=Ae(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[u]=e.params;if(await r.eth.getSelectedAccount()!==u.from.toLowerCase())return a.transactionRejected(e.id);let x=await r.eth.autoConfirmValidateTransaction(c,[u]),g=x.status===ye.OK;if(nt(x.status)){let b=await r.eth.getSelectedAccount();await s.eth.autoConfirmedTransaction({request:e,chainId:await r.eth.getNetworkId(i),origin:i,data:{sessionStartTime:x.sessionStartTime,sessionMaxDuration:x.sessionMaxDuration,lastStatusCode:x.status,dollarValue:x.dollarValue,auditTrail:x.auditTrail},walletAddress:b})}if(g)return;let y={url:c.toString(),icon:l},E=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:de(),params:[y,{transaction:u,autoConfirmStatusCode:x.status}]});if("error"in E)return a.error(e.id,E.error);switch(E.result.maxFeePerGas&&(u.maxFeePerGas=E.result.maxFeePerGas),E.result.maxPriorityFeePerGas&&(u.maxPriorityFeePerGas=E.result.maxPriorityFeePerGas),E.result.type){case"send":{let b=await r.eth.sendTransaction(u,E.result.signature);return a.any(e.id,{result:b})}case"signAndSend":return}},"requireUserApprovalEthSendTransaction");d();p();var Ii=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[i,{context:c}]=e.params;if(await r.eth.getSelectedAccount()!==i.from.toLowerCase())return a.transactionRejected(e.id);let u=s.getOrigin(c.blinkUrl);if(!c.blinkUrl||!u)return a.userRejectedRequest(e.id);let f=s.getHostname(c.blinkUrl),x={url:c.blinkUrl,icon:f?s.getFaviconURL(f):null},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:de(),params:[x,{transaction:i,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.maxFeePerGas&&(i.maxFeePerGas=g.result.maxFeePerGas),g.result.maxPriorityFeePerGas&&(i.maxPriorityFeePerGas=g.result.maxPriorityFeePerGas),g.result.type){case"send":{let y=await r.eth.sendTransaction(i,g.result.signature);return a.any(e.id,{result:y})}case"signAndSend":return}},"requireUserApprovalEthBlinkSendTransaction");d();p();var Ri=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=z(t),i=he(t),c=Ae(t);if(!s||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),u=await r.eth.getNetworkId(s),[f,x]=e.params;if(l!==f.toLowerCase())return a.unauthorized(e.id);let g={url:i.toString(),icon:c},y=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[g,{signer:f,message:x,originalMethod:"eth_sign",chainId:u,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in y)return a.error(e.id,y.error);switch(y.result.approvalType){case"hardware":return a.result(e.id,y.result.signature);case"user":return}},"requireUserApprovalEthSign");d();p();var Ci=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=await r.eth.getSelectedAccount(),c=await r.eth.getNetworkId(t.url.origin),[l,u,{context:f}]=e.params;if(i!==l.toLowerCase())return a.unauthorized(e.id);let x=s.getOrigin(f.blinkUrl);if(!f.blinkUrl||!x)return a.userRejectedRequest(e.id);let g=s.getHostname(f.blinkUrl),y={url:f.blinkUrl,icon:g?s.getFaviconURL(g):null},E=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[y,{signer:l,message:u,originalMethod:"eth_sign",chainId:c,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in E)return a.error(e.id,E.error);switch(E.result.approvalType){case"hardware":return a.result(e.id,E.result.signature);case"user":return}},"requireUserApprovalEthBlinkSign");d();p();var Bi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=z(t),i=he(t),c=Ae(t);if(!s||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),u=await r.eth.getNetworkId(s),[f,x]=e.params;if(l!==x.toLowerCase())return a.unauthorized(e.id);let g="0x"+Buffer.from(JSON.stringify(f)).toString("hex"),y={url:i.toString(),icon:c},E=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[y,{signer:x,message:g,originalMethod:"eth_signTypedData",chainId:u,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in E)return a.error(e.id,E.error)},"requireUserApprovalEthSignTypedData");d();p();var Li=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=z(t),c=he(t),l=Ae(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.eth.getSelectedAccount(),f=await r.eth.getNetworkId(i),[x,g]=e.params;if(u!==x.toLowerCase())return a.unauthorized(e.id);let y=await r.eth.autoConfirmValidateMessage(c,g),E=y.status===ye.OK;if(nt(y.status)){let w=await r.eth.getSelectedAccount();await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(i),origin:i,data:{sessionStartTime:y.sessionStartTime,sessionMaxDuration:y.sessionMaxDuration,lastStatusCode:y.status,auditTrail:y.auditTrail},walletAddress:w})}if(E)return;let b={url:c.toString(),icon:l},S=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[b,{signer:x,message:"0x"+Buffer.from(JSON.stringify(g)).toString("hex"),originalMethod:"eth_signTypedData_v3",chainId:f,autoConfirmStatusCode:y.status}]});if("error"in S)return a.error(e.id,S.error)},"requireUserApprovalEthSignTypedDataV3");d();p();var Ui=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=z(t),c=he(t),l=Ae(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.eth.getSelectedAccount(),f=await r.eth.getNetworkId(i),[x,g]=e.params;if(u!==x.toLowerCase())return a.unauthorized(e.id);let y=await r.eth.autoConfirmValidateMessage(c,g),E=y.status===ye.OK;if(nt(y.status)){let w=await r.eth.getSelectedAccount();await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(i),origin:i,data:{sessionStartTime:y.sessionStartTime,sessionMaxDuration:y.sessionMaxDuration,lastStatusCode:y.status,auditTrail:y.auditTrail},walletAddress:w})}if(E)return;let b={url:c.toString(),icon:l},S=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[b,{signer:x,message:"0x"+Buffer.from(JSON.stringify(g)).toString("hex"),originalMethod:"eth_signTypedData_v4",chainId:f,autoConfirmStatusCode:y.status}]});if("error"in S)return a.error(e.id,S.error)},"requireUserApprovalEthSignTypedDataV4");d();p();var Mi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=z(t),i=he(t),c=Ae(t);if(!s||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),u=await r.eth.getNetworkId(s),[f,x]=e.params;if(l!==x.toLowerCase())return a.unauthorized(e.id);let g={url:i.toString(),icon:c},y=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[g,{signer:x,message:f,originalMethod:"personal_sign",chainId:u,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in y)return a.error(e.id,y.error);switch(y.result.approvalType){case"hardware":return a.result(e.id,y.result.signature);case"user":return}},"requireUserApprovalPersonalSign");d();p();var Ni=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);let s=z(n),i=he(n),c=Ae(n);if(!s||!i)return a.unauthorized(r.id);if(await t.isTrustedApp(s))return;if(r.params?.onlyIfTrusted===!0)return a.userRejectedRequest(r.id);let u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:de(),params:[{url:i.toString(),icon:c}]});if("error"in u)return a.error(r.id,u.error)},"requireUserApprovalSolConnect");d();p();var Oi=o(async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return a.unauthorized(e.id);if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id);let s=e.params.context,i=n.getOrigin(s.blinkUrl);if(!s.blinkUrl||!i)return a.userRejectedRequest(e.id);if(await r.isTrustedApp(i))return;let l=n.getHostname(s.blinkUrl),u=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:de(),params:[{url:s.blinkUrl,icon:l?n.getFaviconURL(l):null}]});if("error"in u)return a.error(e.id,u.error)},"requireUserApprovalSolBlinkConnect");d();p();var Di=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=z(t),c=he(t),l=Ae(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.sol.autoConfirmValidateTransaction(c,e.params.transactions),f=u.status===ye.OK;if(nt(u.status)){let y=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,dollarValue:u.dollarValue,auditTrail:u.auditTrail},walletAddress:y})}if(f)return;let x={url:c.toString(),icon:l},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:de(),params:[x,{transactions:e.params.transactions,autoConfirmStatusCode:u.status}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.type){case"send":return a.result(e.id,g.result.result.map(y=>({transaction:y.signedTransaction,signature:y.signature,version:y.version})));case"signAndSend":{let y=g.result.overwriteTransactions;y&&(e.params.transactions=y);return}}},"requireUserApprovalSolSignAllTransactions");d();p();var Pi=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=z(t),c=he(t),l=Ae(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.sol.autoConfirmValidateTransaction(c,e.params.transactions),f=u.status===ye.OK;if(nt(u.status)){let y=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,dollarValue:u.dollarValue,auditTrail:u.auditTrail},walletAddress:y})}if(f)return;let x={url:c.toString(),icon:l},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:de(),params:[x,{transactions:e.params.transactions,autoConfirmStatusCode:u.status}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.type){case"send":{let y=await r.sol.getSelectedAccount();for(let[b,S]of g.result.result.entries())e.params.transactions[b]=S.signedTransaction;let E=await r.sol.sendAllTransactions(e.params.transactions);return a.result(e.id,{publicKey:y,signatures:E})}case"signAndSend":{let y=g.result.overwriteTransactions;y&&(e.params.transactions=y);return}}},"requireUserApprovalSolSignAndSendAllTransactions");d();p();var Hi=o(async({request:e,source:t,id:r},{wallet:n,utils:s})=>{if(!t)return a.unauthorized(e.id);if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id);let i=s.getHostname(e.params.context.blinkUrl),c={url:e.params.context.blinkUrl,icon:i?s.getFaviconURL(i):null},l=await n.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:de(),params:[c,{transactions:e.params.transactions,autoConfirmStatusCode:ye.UnsupportedMethod,sequenceId:r}]});if("error"in l)return a.error(e.id,l.error);switch(l.result.type){case"send":{let u=await n.sol.getSelectedAccount();for(let[x,g]of l.result.result.entries())e.params.transactions[x]=g.signedTransaction;let f=await n.sol.sendAllTransactions(e.params.transactions);return a.result(e.id,{publicKey:u,signatures:f})}case"signAndSend":return}},"requireUserApprovalSolBlinkSignAndSendAllTransactions");d();p();var Fi=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=z(t),c=he(t),l=Ae(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.sol.autoConfirmValidateTransaction(c,[e.params.transaction]),f=u.status===ye.OK;if(nt(u.status)){let y=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,dollarValue:u.dollarValue,auditTrail:u.auditTrail},walletAddress:y})}if(f)return;let x={url:c.toString(),icon:l},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendTransaction",id:de(),params:[x,{transaction:e.params.transaction,autoConfirmStatusCode:u.status}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.type){case"send":{let y=await r.sol.getSelectedAccount();return await r.sol.sendTransaction(g.result.signedTransaction,e.params.options),a.result(e.id,{publicKey:y,signature:g.result.signature})}case"signAndSend":{let y=g.result.overwriteTransactions;y&&(e.params.transaction=y[0]),g.result.isSharingEligible&&(e.params.isSharingEligible=!0);return}}},"requireUserApprovalSolSignAndSendTransaction");d();p();var $i=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=z(t),c=he(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.sol.autoConfirmValidateMessage(c,e.params.message),u=l.status===ye.OK;if(nt(l.status)){let g=await r.sol.getSelectedAccount();await s.sol.autoConfirmedMessage({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:l.sessionStartTime,sessionMaxDuration:l.sessionMaxDuration,lastStatusCode:l.status,auditTrail:l.auditTrail},walletAddress:g})}if(u)return;let f=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:de(),params:[{url:c.toString(),icon:Ae(t)},{...e.params,autoConfirmStatusCode:l.status}]});if("error"in f)return a.error(e.id,f.error);let x=await r.sol.getSelectedAccount();switch(f.result.type){case"send":return a.result(e.id,{signature:f.result.signature,publicKey:x});case"signAndSend":return}},"requireUserApprovalSolSignMessage");d();p();var zi=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=s.getHostname(e.params.context.blinkUrl),c={url:e.params.context.blinkUrl,icon:i?s.getFaviconURL(i):null},l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:de(),params:[c,{...e.params,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in l)return a.error(e.id,l.error)},"requireUserApprovalSolBlinkSolSignMessage");d();p();var Vi=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=z(t),c=he(t),l=Ae(t);if(!i||!c)return a.unauthorized(e.id);let u=await r.sol.autoConfirmValidateTransaction(c,[e.params.transaction]),f=u.status===ye.OK;if(nt(u.status)){let y=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,dollarValue:u.dollarValue,auditTrail:u.auditTrail},walletAddress:y})}if(f)return;let x={url:c.toString(),icon:l},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:de(),params:[x,{transaction:e.params.transaction,autoConfirmStatusCode:u.status}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.type){case"send":return a.result(e.id,{transaction:g.result.signedTransaction,signature:g.result.signature,version:g.result.version});case"signAndSend":{let y=g.result.overwriteTransactions;y&&(e.params.transaction=y[0]),g.result.isSharingEligible&&(e.params.isSharingEligible=!0),g.result.transactionSharingDelayMs&&(e.params.transactionSharingDelayMs=g.result.transactionSharingDelayMs);return}}},"requireUserApprovalSolSignTransaction");d();p();var dt=o(async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return a.internalError(e.id,"missing source");let i=he(t);if(!i)return a.internalError(e.id,"missing source");let c=i.hostname;return async l=>{let{method:u}=e;if(pr(c))return;let f=await n.sol.getNetworkId();if(f==="localnet")return;let x=s.sol.chainIdToCAIP2(f),y={method:u,chainType:"solana",chainId:x,origin:c};if("error"in l&&(y.errorCode=l.error.code),u==="sol_connect"){if(e.params?.eager){"errorCode"in y||r.approveConnection({...y,eager:!0});return}Sy(y,r)}(u==="sol_signTransaction"||u==="sol_signAndSendTransaction"||u==="sol_signAndSendAllTransactions"||u==="sol_signAllTransactions")&&_y(y,r),(u==="sol_signMessage"||u==="sol_signIn")&&Ey(y,r)}},"solAnalytics"),Sy=o((e,t)=>{"errorCode"in e?t.declineConnection(e):t.approveConnection({...e,eager:!1})},"emitSolConnectAnalytics"),_y=o((e,t)=>{"errorCode"in e?t.declineTransaction(e):t.approveTransaction(e)},"emitSolTransactionAnalytics"),Ey=o((e,t)=>{"errorCode"in e?t.declineSignMessage(e):t.approveSignMessage(e)},"emitSolMessageAnalytics");d();p();var pt=o(async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:i}=e,c=e.params&&typeof e.params=="object"&&"redirect_link"in e.params&&typeof e.params.redirect_link=="string"?e.params.redirect_link:"missing redirect_link from deep link";t.deepLinkDetected({method:i,params:JSON.stringify(e.params)});let l=await r.sol.getNetworkId();if(l==="localnet")return;let u=n.sol.chainIdToCAIP2(l),x={method:i,chainType:"solana",chainId:u,origin:c};if(i==="phantom_deep_link_connect"){let g={...x};"error"in s?t.declineConnection({...g,errorCode:s.error.code}):t.approveConnection({...g,eager:!1})}if(i==="phantom_deep_link_signTransaction"||i==="phantom_deep_link_signAllTransactions"||i==="phantom_deep_link_signAndSendTransaction"){let g={...x};"error"in s?t.declineTransaction({...g,errorCode:s.error.code}):t.approveTransaction(g)}if(i==="phantom_deep_link_signMessage"){let g={...x};"error"in s?t.declineSignMessage({...g,errorCode:s.error.code}):t.approveSignMessage(g)}},"phantomDeepLinkAnalytics");d();p();function ji(e){return!!("result"in e&&typeof e.result=="object"&&e.result&&"type"in e.result&&e.result?.type&&typeof e.result.type=="string"&&e.result.type.toUpperCase().endsWith("_DECLINE"))}o(ji,"isDeclineResponse");var nn=o(async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:i}=e,c="no identity or verifiable identity found on solana mobile wallet adapter request";if(e.params&&typeof e.params=="object"&&"identity"in e.params){let g=Rc.safeParse(e.params.identity);g.success&&(c=g.data.identityUri??c)}else if(e.params&&typeof e.params=="object"&&"signPayloads"in e.params){let g=Cc.safeParse(e.params.signPayloads);g.success&&(c=g.data.verifiableIdentity.identity.identityUri??c)}let l=await r.sol.getNetworkId();if(l==="localnet")return;let u=n.sol.chainIdToCAIP2(l),x={method:i,chainType:"solana",chainId:u,origin:c};if(i==="sol_mwa_authorize"){let g={...x};"error"in s?t.declineConnection({...g,errorCode:s.error.code}):ji(s)?t.declineConnection({...g,errorCode:s.result.type}):t.approveConnection({...g,eager:!1})}if(i==="sol_mwa_sign_transactions"||i==="sol_mwa_sign_and_send_transactions"){let g={...x};"error"in s?t.declineTransaction({...g,errorCode:s.error.code}):ji(s)?t.declineTransaction({...g,errorCode:s.result.type}):t.approveTransaction(g)}if(i==="sol_mwa_sign_messages"){let g={...x};"error"in s?t.declineSignMessage({...g,errorCode:s.error.code}):ji(s)?t.declineSignMessage({...g,errorCode:s.result.type}):t.approveSignMessage(g)}},"solMwaAnalytics");d();p();var Wt=o(async({source:e,request:t},r)=>{if(!e||e.type!=="BrowserTabRpcRequestSource"||!["x.com","twitter.com","pro.x.com","sandbox.phantom.dev","localhost","phantom.com"].includes(e.url.hostname))return a.unauthorized(t.id)},"requireWhitelistedBlinkSource");d();p();var Ir=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let s=null;switch(e.method){case"sol_blink_signAndSendAllTransactions":case"sol_blink_signMessage":s=e.params.context;break;case"eth_blink_sendTransaction":s=e.params[1].context;break;case"eth_blink_sign":s=e.params[2].context;break}if(!s)return a.unauthorized(e.id);let i=n.getOrigin(s.blinkUrl);if(!i)return a.unauthorized(e.id);if(!await t.isTrustedApp(i))return r.debug("> Dapp not trusted",i),a.unauthorized(e.id)},"requireAuthorizedBlinkSource");d();p();var Ko=[],Pe=o(e=>async({source:t,request:r})=>{let n=Date.now(),i=`${t?.type==="DeepLinkRpcRequestSource"?t.deepLinkUrl:t?.url.href}:${r.method}:${JSON.stringify(r.params)}`;if(Ko=Ko.filter(l=>l.timestamp>n-1e3),Ko.filter(l=>l.key===i).length>=e)return a.rateLimited(r.id);Ko.push({timestamp:n,key:i})},"rateLimit");d();p();var ze=o(async({request:e},{wallet:t})=>{if(!await t.isUserOnboarded()){if(e.method==="sol_connect"&&e.params.onlyIfTrusted)return a.userRejectedRequest(e.id);try{await t.requestUserOnboard()}catch{return a.userRejectedRequest(e.id)}}},"requireUserOnboarded");d();p();function vy({params:e,response:t,analytics:r,data:n}){if(e?.eager){"error"in t||r.approveConnection({...n,eager:!0});return}"error"in t?r.declineConnection({...n,errorCode:t.error.code}):r.approveConnection({...n,eager:!1})}o(vy,"handleConnectionAnalytics");function Ty({response:e,analytics:t,data:r}){"error"in e?t.declineTransaction({...r,errorCode:e.error.code}):t.approveTransaction(r)}o(Ty,"handleTransactionAnalytics");function ky({response:e,analytics:t,data:r}){"error"in e?t.declineSignMessage({...r,errorCode:e.error.code}):t.approveSignMessage(r)}o(ky,"handleSignMessageAnalytics");var on=o(async({request:e,source:t},{analytics:r})=>{if(!t)return a.internalError(e.id,"missing source");let n=he(t);if(!n)return a.internalError(e.id);let s=n.hostname;return pr(s)?async()=>{}:async i=>{let{method:c,params:l}=e,u={method:c,chainType:"sui",chainId:"mainnet",origin:s};switch(c){case"sui_requestAccounts":vy({params:l,response:i,analytics:r,data:u});break;case"sui_signTransaction":case"sui_signAndExecuteTransaction":Ty({response:i,analytics:r,data:u});break;case"sui_signMessage":ky({response:i,analytics:r,data:u});break;default:break}}},"suiAnalytics");d();p();var qi=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);let s=z(n),i=he(n),c=Ae(n);if(!s||!i)return a.unauthorized(r.id);if(await t.isTrustedApp(s))return;if(r.params?.onlyIfTrusted===!0)return a.userRejectedRequest(r.id);let u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiRequestAccounts",id:de(),params:[{url:i.toString(),icon:c}]});if("error"in u)return a.error(r.id,u.error)},"requireUserApprovalSuiRequestAccounts");d();p();var Go=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=he(t),i=Ae(t);if(!s)return a.unauthorized(e.id);let c=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignTransaction",id:de(),params:[{url:s.toString(),icon:i},{transaction:e.params.transaction}]});if("error"in c)return a.error(e.id,c.error)},"requireUserApprovalSuiSignTransaction");d();p();var Ki=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=he(t),i=Ae(t);if(!s)return a.unauthorized(e.id);let c=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignMessage",id:de(),params:[{url:s.toString(),icon:i},{message:e.params.message}]});if("error"in c)return a.error(e.id,c.error)},"requireUserApprovalSuiSignMessage");d();p();d();p();d();p();var Gi=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.result(e.id,[]);let n=z(t);if(!n)return a.internalError(e.id,"missing source");if(!await r.isTrustedApp(n))return a.result(e.id,[]);let i=await r.eth.getAccounts();return a.result(e.id,i)},"handler");d();p();var Wi=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_blockNumber(c,e.params);return a.any(e.id,l)},"handler");d();p();var Zi=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_call(c,e.params);return a.any(e.id,l)},"handler");d();p();var Yi=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_cancelPrivateTransaction(c,e.params);return a.any(e.id,l)},"handler");d();p();var Xi=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.internalError(e.id,"missing source");let n=z(t);if(!n)return a.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return a.result(e.id,s)},"handler");d();p();var Ji=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_estimateGas(c,e.params);return a.any(e.id,l)},"handler");d();p();var Qi=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_feeHistory(c,e.params);return a.any(e.id,l)},"handler");d();p();var ea=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_gasPrice(c,e.params);return a.any(e.id,l)},"handler");d();p();var ta=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBalance(c,e.params);return a.any(e.id,l)},"handler");d();p();var ra=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockByHash(c,e.params);return a.any(e.id,l)},"handler");d();p();var na=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockByNumber(c,e.params);return a.any(e.id,l)},"handler");d();p();var oa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockReceipts(c,e.params);return a.any(e.id,l)},"handler");d();p();var sa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockTransactionCountByHash(c,e.params);return a.any(e.id,l)},"handler");d();p();var ia=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockTransactionCountByNumber(c,e.params);return a.any(e.id,l)},"handler");d();p();var aa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getCode(c,e.params);return a.any(e.id,l)},"handler");d();p();var ca=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getFilterChanges(c,e.params);return a.any(e.id,l)},"handler");d();p();var da=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getFilterLogs(c,e.params);return a.any(e.id,l)},"handler");d();p();var pa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getLogs(c,e.params);return a.any(e.id,l)},"handler");d();p();var la=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getProof(c,e.params);return a.any(e.id,l)},"handler");d();p();var ua=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getStorageAt(c,e.params);return a.any(e.id,l)},"handler");d();p();var ma=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionByBlockHashAndIndex(c,e.params);return a.any(e.id,l)},"handler");d();p();var ha=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionByBlockNumberAndIndex(c,e.params);return a.any(e.id,l)},"handler");d();p();var fa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionByHash(c,e.params);return a.any(e.id,l)},"handler");d();p();var ga=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionCount(c,e.params);return a.any(e.id,l)},"handler");d();p();var ya=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionReceipt(c,e.params);return a.any(e.id,l)},"handler");d();p();var xa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getUncleByBlockHashAndIndex(c,e.params);return a.any(e.id,l)},"handler");d();p();var wa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getUncleByBlockNumberAndIndex(c,e.params);return a.any(e.id,l)},"handler");d();p();var ba=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getUncleCountByBlockHash(c,e.params);return a.any(e.id,l)},"handler");d();p();var Aa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getUncleCountByBlockNumber(c,e.params);return a.any(e.id,l)},"handler");d();p();var Sa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_maxPriorityFeePerGas(c,e.params);return a.any(e.id,l)},"handler");d();p();var _a=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_newBlockFilter(c,e.params);return a.any(e.id,l)},"handler");d();p();var Ea=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_newFilter(c,e.params);return a.any(e.id,l)},"handler");d();p();var va=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_newPendingTransactionFilter(c,e.params);return a.any(e.id,l)},"handler");d();p();var Ta=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_protocolVersion(c,e.params);return a.any(e.id,l)},"handler");d();p();var ka=o(async({request:e,source:t},{wallet:r})=>{try{if(!t)return X.addBreadcrumb(ee.Provider,"eth_requestAccounts: handler started - missing source",_e.Error,{requestId:e.id}),a.unauthorized(e.id);let n=z(t),s=he(t);X.addBreadcrumb(ee.Provider,"eth_requestAccounts: handler started",_e.Info,{origin:n??"unknown",url:s?.toString()??"unknown",requestId:e.id});let i=Ae(t);if(!n||!s)return X.addBreadcrumb(ee.Provider,"eth_requestAccounts: missing origin or url",_e.Error,{requestId:e.id}),a.unauthorized(e.id);let c={url:s,icon:i?new URL(i):void 0};X.addBreadcrumb(ee.Provider,"eth_requestAccounts: adding trusted app",_e.Info,{origin:n,requestId:e.id}),await r.addTrustedApp(n,c),X.addBreadcrumb(ee.Provider,"eth_requestAccounts: getting selected account",_e.Info,{origin:n,requestId:e.id});let l=await r.eth.getSelectedAccount();return X.addBreadcrumb(ee.Provider,"eth_requestAccounts: handler completed successfully",_e.Info,{origin:n,address:l,requestId:e.id}),a.result(e.id,[l])}catch(n){let s=t?z(t)??"unknown":"unknown",i=t?he(t):void 0;throw X.captureError(n instanceof Error?n:new Error(String(n)),ee.Provider),X.addBreadcrumb(ee.Provider,"eth_requestAccounts: handler error",_e.Error,{origin:s,url:i?.toString()??"unknown",requestId:e.id,error:n instanceof Error?n.message:String(n)}),n}},"handler");d();p();var Ia=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_sendRawTransaction(c,e.params);return a.any(e.id,l)},"handler");d();p();var Ra=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_sendPrivateTransaction(c,e.params);return a.any(e.id,l)},"handler");d();p();var Ca=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=z(t);if(!s)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(s))return a.unauthorized(e.id);let[c]=e.params,l=await r.eth.getSelectedAccount();if(c.from.toLowerCase()!==l.toLowerCase())return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if(c.type!==Ur.eip1559)return a.transactionRejected(e.id);if(!c.chainId)return a.transactionRejected(e.id);if(!c.nonce)return a.transactionRejected(e.id);let u=await r.eth.signAndSendTransaction(c);return a.any(e.id,{result:u})},"handler");d();p();var Ba=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signMessage(s);return a.result(e.id,c)},"handler");d();p();var La=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(s.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signTypedData({version:1,data:n});return a.result(e.id,c)},"handler");d();p();var Ua=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signTypedData({version:3,data:s});return a.result(e.id,c)},"handler");d();p();var Ma=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signTypedData({version:4,data:s});return a.result(e.id,c)},"handler");d();p();var Na=o(async({request:e},t)=>a.unsupportedMethod(e.id),"handler");d();p();var Oa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id);let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_syncing(c,e.params);return a.any(e.id,l)},"handler");d();p();var Da=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_uninstallFilter(c,e.params);return a.any(e.id,l)},"handler");d();p();var Pa=o(async({request:e},t)=>a.unsupportedMethod(e.id),"handler");d();p();var Ha=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.net_listening(c,e.params);return a.any(e.id,l)},"handler");d();p();var Fa=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.internalError(e.id,"missing source");let n=z(t);if(!n)return a.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return a.result(e.id,parseInt(s,16).toString())},"handler");d();p();var $a=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(s.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signMessage(n);return a.result(e.id,c)},"handler");d();p();var za=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{let[i]=e.params;if(!await r.eth.addChain(i))return a.userRejectedRequest(e.id,n.t("Could not add the requested chain. It is not yet supported."));if(!t)return a.internalError(e.id,"missing source");let l=z(t);return l?await r.eth.switchChain(i.chainId,l)?a.result(e.id,null):(s.eth.unsupportedChain({origin:l,data:{method:e.method,hexChainId:i.chainId,chainName:i.chainName}}),a.internalError(e.id,n.t("Could not switch to the requested chain."))):a.internalError(e.id,"missing source")},"handler");d();p();var Va=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=z(t),s=he(t),i=Ae(t);if(!n||!s)return a.unauthorized(e.id);if(await r.isTrustedApp(n))return a.result(e.id,kc.enum.CONTINUE_WITH_PHANTOM);let l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_selectEthWallet",id:0,params:[{url:s.toString(),icon:i}]});if("error"in l)return a.error(e.id,l.error);switch(l.result){case fr.user_selectEthWallet.result.enum.CONTINUE_WITH_METAMASK:return a.result(e.id,l.result);case fr.user_selectEthWallet.result.enum.CONTINUE_WITH_PHANTOM:return a.result(e.id,l.result);case fr.user_selectEthWallet.result.enum.ALWAYS_USE_PHANTOM:return await r.setMetaMaskOverrideSetting("USE_PHANTOM"),a.result(e.id,l.result);case fr.user_selectEthWallet.result.enum.ALWAYS_USE_METAMASK:return await r.setMetaMaskOverrideSetting("USE_METAMASK"),a.result(e.id,l.result)}},"handler");d();p();var ja=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.internalError(e.id,"missing source");let i=z(t);if(!i)return a.internalError(e.id,"missing source");let[{chainId:c}]=e.params;return await r.eth.switchChain(c,i)?a.result(e.id,null):(s.eth.unsupportedChain({origin:i,data:{method:e.method,hexChainId:c}}),a.chainDisconnected(e.id,n.t("Could not switch to the requested chain. It is not yet supported.")))},"handler");d();p();var qa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.web3_clientVersion(c,e.params);return a.any(e.id,l)},"handler");d();p();var Ka=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=z(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.web3_sha3(c,e.params);return a.any(e.id,l)},"handler");d();p();var Ga=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=z(t),s=he(t),i=Ae(t);if(!n||!s)return a.unauthorized(e.id);let c=e.params[0];if(!Object.keys(c).includes("eth_accounts"))return a.result(e.id,[]);let u={url:s,icon:i?new URL(i):void 0};return await r.addTrustedApp(n,u),a.result(e.id,[{parentCapability:"eth_accounts",date:Date.now()}])},"handler");d();p();var Wa=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.result(e.id,[]);let n=z(t);return n?await r.isTrustedApp(n)?a.result(e.id,[{invoker:n,parentCapability:"eth_accounts",caveats:[]}]):a.result(e.id,[]):a.result(e.id,[])},"handler");var Et={};De(Et,{sol_connect:()=>rm,sol_disconnect:()=>nm,sol_signAllTransactions:()=>om,sol_signAndSendAllTransactions:()=>im,sol_signAndSendTransaction:()=>sm,sol_signIn:()=>cm,sol_signMessage:()=>am,sol_signTransaction:()=>dm});d();p();d();p();var rm=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=z(t),s=he(t),i=Ae(t);if(!n||!s)return a.unauthorized(e.id);let c={url:s,icon:i?new URL(i):void 0};await r.addTrustedApp(n,c);let l=await r.sol.getSelectedAccount();return a.result(e.id,{publicKey:l})},"handler");d();p();var nm=o(async({request:e,source:t})=>t?a.result(e.id,null):a.unauthorized(e.id),"handler");d();p();var om=o(async({request:e},{wallet:t})=>{let r=await t.sol.signAllTransactions(e.params.transactions);return a.result(e.id,r)},"handler");d();p();var sm=o(async({source:e,request:t},{wallet:r,i18n:n})=>{if(!e)return a.unauthorized(t.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=Ae(e),i=he(e);if(!i)return a.unauthorized(t.id);let c=await r.sol.getSelectedAccount(),l=await r.sol.signTransaction(t.params.transaction);t.params.showConfirmation&&r.requestUserApproval({jsonrpc:"2.0",method:"user_solTransactionConfirmation",id:de(),params:[{url:i.toString(),icon:s},{signature:l.signature,postAction:t.params.postAction}]});let u=t.params.isSharingEligible?"signAndSendTransaction":void 0;return await r.sol.sendTransaction(l.transaction,{...t.params.options,method:u}),a.result(t.id,{publicKey:c,signature:l.signature})},"handler");d();p();var im=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(i=>t.sol.signTransaction(i))),s=await t.sol.sendAllTransactions(n.map(i=>i.transaction));return a.result(e.id,{publicKey:r,signatures:s})},"handler");d();p();var am=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return a.result(e.id,{publicKey:r,signature:n})},"handler");d();p();var cm=o(async({request:e,source:t},{wallet:r,utils:n,i18n:s})=>{if(!t)return a.userRejectedRequest(e.id);let i=z(t),c=he(t),l=Ae(t);if(!i||!c)return a.userRejectedRequest(e.id);let u=await r.isTrustedApp(i),f=await r.sol.getNetworkId(),x=await r.sol.getSelectedAccount(),g=new URL(c.toString()),y=n.sol.serializeSolanaSignInMessage(e.params.signInData,{expectedChainId:f,expectedAddress:x,expectedURL:g});if(y.type==="fail"){if(y.error[0].label==="PARSE_ERROR")return a.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(y.error.some(S=>S.label==="chain"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(y.error.some(S=>S.label==="address"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(e.params.signInData.domain||(e.params.signInData.domain=g.host),e.params.signInData.address||(e.params.signInData.address=x),"error"in await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:c.toString(),icon:l},{connect:!u,signInData:e.params.signInData,message:y.data,errorDetails:y.type==="fail"?y.error:void 0}],id:de()}))return y.type==="fail"?a.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):a.userRejectedRequest(e.id);u||await r.isTrustedApp(i)||await r.addTrustedApp(i,{url:c,icon:l?new URL(l):void 0});let b=await r.sol.signMessage(y.data);return a.result(e.id,{address:x,signedMessage:y.data,signature:b})},"handler");d();p();var Iy=500,dm=o(async({request:e},{wallet:t})=>{let r=await t.sol.signTransaction(e.params.transaction);if(e.params.isSharingEligible){let n=Date.now(),s=e.params.transactionSharingDelayMs??Iy;try{await Promise.race([t.sol.sendTransaction(r.transaction,{method:"signTransaction"}),is(s)]);let i=Date.now()-n,c=Math.max(0,s-i);c>0&&await is(c)}catch{}}return a.result(e.id,r)},"handler");var sn={};De(sn,{btc_requestAccounts:()=>pm,btc_signMessage:()=>lm,btc_signPSBT:()=>um});d();p();d();p();var pm=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=z(t),s=he(t),i=Ae(t);if(!n||!s)return a.unauthorized(e.id);let c={url:s,icon:i?new URL(i):void 0};await r.addTrustedApp(n,c);let l=await r.btc.getSelectedAccount();return a.result(e.id,l)},"handler");d();p();var lm=o(async({request:e},{wallet:t})=>{let r=await t.btc.signMessage(e.params.address,e.params.message);return a.result(e.id,{...r})},"handler");d();p();var um=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=await r.btc.signPSBT(...e.params);return a.result(e.id,n)},"handler");var Re={};De(Re,{phantom_deep_link_browse:()=>mm,phantom_deep_link_cash:()=>Om,phantom_deep_link_chat:()=>Dm,phantom_deep_link_competitions:()=>jm,phantom_deep_link_connect:()=>Am,phantom_deep_link_convert_stake_account:()=>Fm,phantom_deep_link_disconnect:()=>Sm,phantom_deep_link_explore:()=>ym,phantom_deep_link_feature_flags:()=>xm,phantom_deep_link_feedback_perps:()=>Hm,phantom_deep_link_fungible:()=>fm,phantom_deep_link_mint_psol_marketing:()=>bm,phantom_deep_link_navigate:()=>Um,phantom_deep_link_notification_center:()=>wm,phantom_deep_link_onboard:()=>Bm,phantom_deep_link_onramp:()=>Lm,phantom_deep_link_perps:()=>Nm,phantom_deep_link_perps_leaderboard:()=>$m,phantom_deep_link_predictions:()=>zm,phantom_deep_link_signAllTransactions:()=>km,phantom_deep_link_signAndSendAllTransactions:()=>Rm,phantom_deep_link_signAndSendTransaction:()=>Im,phantom_deep_link_signIn:()=>vm,phantom_deep_link_signMessage:()=>_m,phantom_deep_link_signTransaction:()=>Tm,phantom_deep_link_social:()=>Mm,phantom_deep_link_swap:()=>hm,phantom_deep_link_terminal:()=>Vm,phantom_deep_link_token_chat:()=>Pm,phantom_deep_link_tokens:()=>Cm,phantom_deep_link_user:()=>gm});d();p();d();p();var mm=o(async({request:e},{wallet:t})=>{let{url:r,ref:n}=e.params;return t.navigate("DetachedBrowser",{url:r,ref:n}),a.result(e.id,null)},"handler");d();p();var hm=o(async({request:e},{wallet:t})=>{let{buy:r,sell:n,amount:s}=e.params,i=r&&r.trim().length>0,c=n&&n.trim().length>0,l,u;return c&&!i?(l={type:"sell",sellCaip19:n,takerCaip19:void 0,takerDestinationCaip19:void 0},u="sell"):(l={type:"buy",buyCaip19:r,...c&&{sellCaip19:n},takerCaip19:void 0,takerDestinationCaip19:void 0},u="buy"),t.navigate("SwapTokenStack",{screen:"SwapToken",params:{swapMode:l,initialSwapAmount:s?{denomination:"fiat",perspective:u,fiatAmount:s}:void 0,comingFrom:"deepLink"}}),a.result(e.id,null)},"handler");d();p();var fm=o(async({request:e},{wallet:t})=>(Gn(e.params.token),t.navigate("FungibleStack",{screen:"FungibleDetail",params:{caip19:e.params.token,entryPoint:"deepLink"}}),a.result(e.id,null)),"handler");d();p();var gm=o(async({request:e},{wallet:t,analytics:r})=>{let{username:n,action:s}=e.params;return r.userDeepLink({username:n,action:s}),t.openUserProfile(n,s),a.result(e.id,null)},"handler");d();p();var ym=o(async({request:e},{wallet:t})=>(t.navigate("ExploreTab",{screen:"Explore"}),e.params.route&&(e.params.route==="ExplorePerps"?t.navigate("ExploreTab",{screen:"PerpsStack",params:{screen:"ExplorePerps"}}):e.params.route==="ExplorePerpsTrending"?t.navigate("ExploreTab",{screen:"PerpsStack",params:{screen:"ExplorePerpsTrending"}}):t.navigate("ExploreTab",{screen:e.params.route})),a.result(e.id,null)),"handler");d();p();var xm=o(async({request:e},{wallet:t})=>{let{action:r,key:n,type:s,value:i}=e.params;return t.navigate("SettingsStack",{screen:"MockFeatureFlags",params:{action:r,key:n,type:s,value:i}}),a.result(e.id,null)},"handler");d();p();var wm=o(async({request:e},{wallet:t})=>(await t.openNotificationCenter({action:e.params.action,id:e.params.id}),a.result(e.id,null)),"handler");d();p();var bm=o(async({request:e},{wallet:t,remoteConfig:r})=>{let n=await r.getValue("psol-popup-copy-test");return!n||n==="control"?t.navigate("MintLiquidStake",{screen:"MintPSOLInfoPage",params:{entryPoint:"deepLink",presentNext:!0}}):t.navigate("MintLiquidStake",{screen:"MintPSOLMarketingPage",params:{entryPoint:"deepLink",copyVariant:n}}),a.result(e.id,null)},"handler");d();p();var Am=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=Qn(e.params.redirect_link,{restrictProtocols:!1}),i=s?.href;if(!i)return a.error(e.id,{code:400,message:"Invalid redirect URL provided."});try{s.username="",s.password="";let c=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:de(),params:[{url:`phantom.app.deep-link-${i}`,icon:n.getFaviconURL(s.href)}]});if("error"in c)return a.error(e.id,c.error);let l=Nt(i)?.origin??"";await t.isTrustedApp(l)&&await t.deleteTrustedApp(l),await t.addTrustedApp(l,{url:new URL(l),icon:new URL(n.getFaviconURL(i))});let u=await t.sol.getSelectedAccount(),{sharedSecret:f,phantomKeySecret:x,phantomKeyPublicKey:g}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new ke.PublicKey(u).toBase58(),e.params.dapp_encryption_public_key,f,x,g);let y=await r.generateSession(new ke.PublicKey(u).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),{nonce:E,encryptedPayload:b}=await r.encryptDeepLinkDappPayload(y,new ke.PublicKey(u).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{phantom_encryption_public_key:g,nonce:E,data:b})}catch(c){return a.error(e.id,{code:500,message:c?.message||"An unexpected error occurred during connect."})}},"handler");d();p();var Sm=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),{payload:c,app_url:l}=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new ke.PublicKey(s),i);if(typeof c.session!="string")return a.error(e.id,{code:Le.InvalidInput,message:"Missing or invalid parameters."});let u=Nt(l).origin??"";return await t.isTrustedApp(u)&&await t.deleteTrustedApp(u),r.deleteSharedSecret(s,e.params.dapp_encryption_public_key),a.result(e.id,null)},"handler");d();p();var _m=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),c=e.params,{payload:l,app_url:u}=await r.decryptDeepLinkDappPayload(c,e.params.dapp_encryption_public_key,new ke.PublicKey(s),i);if(typeof l.session!="string"||typeof l.message!="string"||!(!l.display||["utf8","hex"].includes(l.display)))return a.error(e.id,{code:Le.InvalidInput,message:"Missing or invalid parameters."});let f={message:l.message,display:l.display??"utf8"},x=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:de(),params:[{url:`phantom.app.deep-link-${u}`,icon:n.getFaviconURL(u)},{...f,autoConfirmStatusCode:ye.Disabled}]});if("error"in x)return a.error(e.id,x.error);let y={signature:await t.sol.signMessage(l.message),publicKey:s},{nonce:E,encryptedPayload:b}=await r.encryptDeepLinkDappPayload(y,new ke.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:E,data:b})},"handler");d();p();var Em=ce(rn(),1);var vm=o(async({request:e},{wallet:t,secrets:r,utils:n,i18n:s})=>{let i;try{i=JSON.parse(Buffer.from(Em.default.decode(e.params.payload)).toString())}catch{return a.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting. Please contact the app developer for assistance."))}let c=Nt(e.params.app_url).origin,l=Nt(e.params.redirect_link).origin;if(!c||!l||c!==l)return a.invalidInput(e.id,s.t("Redirect link origin does not match app origin"));let u=await t.isTrustedApp(c),f=await t.sol.getNetworkId(),x=await t.sol.getSelectedAccount(),g=new URL(e.params.app_url),y=n.sol.serializeSolanaSignInMessage(i,{expectedChainId:f,expectedAddress:x,expectedURL:g});if(y.type==="fail"){if(y.error[0].label==="PARSE_ERROR")return a.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(y.error.some(M=>M.label==="chain"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(y.error.some(M=>M.label==="address"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(i.domain||(i.domain=g.host),i.address||(i.address=x),"error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:`phantom.app.deep-link-${e.params.app_url}`,icon:n.getFaviconURL(e.params.app_url)},{connect:!u,signInData:i,message:y.data,errorDetails:y.type==="fail"?y.error:void 0}],id:de()}))return y.type==="fail"?a.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):a.userRejectedRequest(e.id);u||await t.isTrustedApp(c)||await t.addTrustedApp(c,{url:new URL(c),icon:new URL(n.getFaviconURL(c))});let{sharedSecret:b,phantomKeySecret:S,phantomKeyPublicKey:w}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new ke.PublicKey(x).toBase58(),e.params.dapp_encryption_public_key,b,S,w);let v=await r.generateSession(new ke.PublicKey(x).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),C=await t.sol.signMessage(y.data),R={address:v.public_key,signature:C,signedMessage:y.data,session:v.session},{nonce:B,encryptedPayload:D}=await r.encryptDeepLinkDappPayload(R,new ke.PublicKey(x).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{phantom_encryption_public_key:w,nonce:B,data:D})},"handler");d();p();var Tm=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),{payload:c,app_url:l}=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new ke.PublicKey(s),i);if(typeof c.session!="string"||typeof c.transaction!="string")return a.error(e.id,{code:Le.InvalidInput,message:"Missing or invalid parameters."});let u=await t.sol.addPriorityFee(c.transaction),f=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:de(),params:[{url:`phantom.app.deep-link-${l}`,icon:n.getFaviconURL(l)},{transaction:u,autoConfirmStatusCode:ye.Disabled}]});if("error"in f)return a.error(e.id,f.error);let{transaction:x}=await t.sol.signTransaction(u),g={transaction:x},{nonce:y,encryptedPayload:E}=await r.encryptDeepLinkDappPayload(g,new ke.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:y,data:E})},"handler");d();p();var km=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),{payload:c,app_url:l}=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new ke.PublicKey(s),i);if(typeof c.session!="string"||!Array.isArray(c.transactions)||!c.transactions.every(b=>typeof b=="string"))return a.error(e.id,{code:Le.InvalidInput,message:"Missing or invalid parameters."});let u=await Promise.all(c.transactions.map(b=>t.sol.addPriorityFee(b))),f=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:de(),params:[{url:`phantom.app.deep-link-${l}`,icon:n.getFaviconURL(l)},{transactions:u,autoConfirmStatusCode:ye.Disabled}]});if("error"in f)return a.error(e.id,f.error);let g={transactions:(await t.sol.signAllTransactions(u)).map(b=>b.transaction)},{nonce:y,encryptedPayload:E}=await r.encryptDeepLinkDappPayload(g,new ke.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:y,data:E})},"handler");d();p();var Im=o(async({request:e})=>a.error(e.id,{code:Le.MethodNotFound,message:"This method is not supported"}),"handler");d();p();var Rm=o(async({request:e})=>a.error(e.id,{code:Le.MethodNotFound,message:"This method is not supported"}),"handler");d();p();var Ry=Qe.getAllChainIDs(),Cy=o((e,t)=>{let r=e?Ry.find(i=>e===i):void 0;if(!r)throw new Error(`Chain ${e} not supported`);let n=Qe[r],s=n.mainnetID;return typeof t!="string"?ss({chainId:s,resourceType:os.nativeToken,slip44:n.slip44}):ss({chainId:s,address:t,resourceType:os.address})},"getCaip19FromUrlPath"),Cm=o(async({request:e},{wallet:t,analytics:r})=>{let{chain:n,address:s}=e.params,i=Cy(n,s);return r.tokenDeepLink({caip19:i,...e.params}),t.navigate("FungibleStack",{screen:"FungibleDetail",params:{caip19:i,entryPoint:"deepLink"}}),a.result(e.id,null)},"handler");d();p();var Bm=o(async({request:e},{wallet:t})=>{if(!(qn()||Mc()))return a.methodNotFound(e.id);let r=null,n=null,{value:s,accounts:i}=e.params;s&&(r=new Uint8Array(Buffer.from(s,"utf-8")),n=ot.from(r),r.fill(0));let c=i?parseInt(i):1;if(c<1)throw new Error("accounts must be greater than 0");return await t.onboardQuickly(n,c),a.result(e.id,null)},"handler");d();p();var Lm=o(async({request:e},{wallet:t})=>{let r=e.params.buy,n=e.params.amount,s=e.params.redirectURL,i=r?"FiatRampAmount":"FiatRampSelectFungible";return t.navigate("FiatRampStack",{screen:i,params:{buy:r,amount:n,redirectURL:s}}),a.result(e.id,null)},"handler");d();p();var Um=o(async({request:e},{wallet:t})=>(t.navigate(e.params.route,e.params.params),a.result(e.id,null)),"handler");d();p();var Mm=o(async({request:e},{wallet:t})=>(t.navigate("SocialFeedTab",{screen:"SocialFeed"}),a.result(e.id,null)),"handler");d();p();var Nm=o(async({request:e,source:t},{wallet:r})=>{let{marketId:n}=e.params;r.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"Perps"}});let s=n,i=n?.startsWith("hypercore:mainnet/address:")?n.split("hypercore:mainnet/address:")[1]:void 0;if(!s&&t?.type==="DeepLinkRpcRequestSource")try{let l=new URL(t.deepLinkUrl).pathname.split("/").filter(Boolean),u=l.indexOf("perps");u!==-1&&l[u+1]&&(i=l[u+1].split("-")[0]?.toUpperCase(),i&&(s=`hypercore:mainnet/address:${i}`))}catch(c){console.error("Failed to parse deeplink URL:",c)}try{let c=s?Gn(s):void 0;c&&r.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"PerpMarketDetails",params:{data:i?{token:c,name:i}:{token:c}}}})}catch(c){console.error("Failed to decode caip19:",c)}return a.result(e.id,null)},"handler");d();p();var Om=o(async({request:e},{wallet:t})=>(t.openCashTab&&await t.openCashTab(e.params),a.result(e.id,null)),"handler");d();p();var Dm=o(async({request:e},{wallet:t})=>(await t.openChat({chatId:e.params.chatId,chatType:e.params.chatType}),a.result(e.id,null)),"handler");d();p();var Pm=o(async({request:e},{wallet:t})=>(await t.openChat({chatId:e.params.caip19,chatType:"token"}),a.result(e.id,null)),"handler");d();p();var Hm=o(async({request:e},{wallet:t})=>(t.navigate("Tab",{screen:"HomeTab",params:{screen:"Home",params:{showPerpsFeedbackInterstitial:Date.now()}}}),a.result(e.id,null)),"handler");d();p();var Fm=o(async({request:e},{wallet:t})=>(t.navigate("ConvertToLiquidStake",{screen:"ConvertStakeAccountDeepLinkPage",params:{stakeAddress:e.params.stakeAddress}}),a.result(e.id,null)),"handler");d();p();var $m=o(async({request:e},{wallet:t})=>{let{period:r}=e.params;return t.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"TopPerpsTradersPage",params:r?{period:r}:void 0}}),a.result(e.id,null)},"handler");d();p();var Lt={Feed:"PredictionFeed",Detail:"PredictionDetail",Positions:"Positions",RecentActivity:"PredictionRecentActivity",Categories:"PredictionCategories",CategoryList:"PredictionCategoryList",TagList:"PredictionTagList",ScopeList:"PredictionScopeList",Search:"PredictionSearch"},By="deeplink";function Ly(e){if(!e)return[];try{let t=new URL(e),r=t.pathname.split("/").filter(Boolean),n=r.indexOf("predictions");return n!==-1?r.slice(n+1):(t.hostname==="predictions",r)}catch{return[]}}o(Ly,"parsePathSegments");var zm=o(async({request:e,source:t},{wallet:r})=>{let n=e.params,s=t?.type==="DeepLinkRpcRequestSource"?t.deepLinkUrl:void 0,i=Ly(s),c=o(()=>{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.Feed}})},"navigateToPredictionsFeed"),l=o(f=>{c(),r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.Detail,params:{ticker:f,entryPointButton:By}}})},"navigateToEventDetail");switch(i[0]?.toLowerCase()){case"feed":{c();break}case"positions":{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.Positions}});break}case"activity":{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.RecentActivity}});break}case"search":{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.Search}});break}case"categories":{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.Categories}});break}case"event":case"market":{let f=i[1]||n.ticker;f?l(f):c();break}case"category":{let f=i[1]||n.categoryId,x=n.categoryLabel||f||"Category";f?(c(),r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.CategoryList,params:{categoryId:f,categoryLabel:x}}})):r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.Categories}});break}case"tag":{let f=i[1]||n.categoryId,x=i[2]||n.tagId,g=n.tagLabel||x||"Tag",y=n.competitionType;f&&x?(c(),r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.TagList,params:{categoryId:f,tagId:x,tagLabel:g,competitionType:y}}})):c();break}case"scope":{let f=i[1]||n.categoryId,x=i[2]||n.tagId,g=i[3]||n.scopeId,y=n.scopeLabel||g||"Scope",E=n.competitionType;f&&x&&g?(c(),r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Lt.ScopeList,params:{categoryId:f,tagId:x,scopeId:g,scopeLabel:y,competitionType:E}}})):c();break}default:{c();break}}return a.result(e.id,null)},"handler");d();p();var Vm=o(async({request:e},{wallet:t})=>(t.navigate("TerminalInterstitialPage"),a.result(e.id,null)),"handler");d();p();var jm=o(async({request:e},{wallet:t})=>(t.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"CompetitionsStack",params:{screen:"CompetitionDetails",params:{competitionId:e.params.competitionId}}}}),a.result(e.id,null)),"handler");var an={};De(an,{sol_blink_connect:()=>qm,sol_blink_signAndSendAllTransactions:()=>Km,sol_blink_signMessage:()=>Gm});d();p();d();p();var qm=o(async({request:e,source:t},{wallet:r,utils:n})=>{let s=e.params.context,{origin:i,hostname:c}=n.getOriginAndHostname(s.blinkUrl);if(!t||!i||!c)return a.unauthorized(e.id);await r.addTrustedApp(i,{icon:new URL(n.getFaviconURL(c)),url:new URL(i)});let l=await r.sol.getSelectedAccount();return a.result(e.id,{publicKey:l})},"handler");d();p();var Km=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(i=>t.sol.signTransaction(i))),s=await t.sol.sendAllTransactions(n.map(i=>i.transaction));return a.result(e.id,{publicKey:r,signatures:s})},"handler");d();p();var Gm=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return a.result(e.id,{publicKey:r,signature:n})},"handler");var cn={};De(cn,{eth_blink_requestAccounts:()=>Ym,eth_blink_sendTransaction:()=>Wm,eth_blink_sign:()=>Zm});d();p();d();p();var Wm=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{let[i,{context:c}]=e.params,l=s.getOrigin(c.blinkUrl);if(!c.blinkUrl||!l)return a.userRejectedRequest(e.id);if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(l))return a.unauthorized(e.id);let f=await r.eth.getSelectedAccount();if(i.from.toLowerCase()!==f.toLowerCase())return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if(i.type!==Ur.eip1559)return a.transactionRejected(e.id);if(!i.chainId)return a.transactionRejected(e.id);if(!i.nonce)return a.transactionRejected(e.id);let x=await r.eth.signAndSendTransaction(i);return a.any(e.id,{result:x})},"handler");d();p();var Zm=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signMessage(s);return a.result(e.id,c)},"handler");d();p();var Ym=o(async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return a.unauthorized(e.id);let{context:s}=e.params,{origin:i,hostname:c}=n.getOriginAndHostname(s.blinkUrl);if(!t||!i||!c)return a.unauthorized(e.id);await r.addTrustedApp(i,{icon:new URL(n.getFaviconURL(c)),url:new URL(i)});let l=await r.eth.getSelectedAccount();return a.result(e.id,[l])},"handler");var ur={};De(ur,{sol_mwa_authorize:()=>Jm,sol_mwa_reauthorize:()=>Xm,sol_mwa_sign_and_send_transactions:()=>Qm,sol_mwa_sign_messages:()=>th,sol_mwa_sign_transactions:()=>eh});d();p();d();p();var Xm=o(async({request:e},t)=>a.result(e.id,{type:"REAUTHORIZE_SUCCESS"}),"handler");d();p();var Jm=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{cluster:s="mainnet-beta",identity:i}=e.params,{identityUri:c,iconRelativeUri:l}=i;if(!c)return r.error("identityUri is not defined in sol_mwa_authorize rpc request payload"),a.result(e.id,{type:"AUTHORIZE_DECLINE"});let u=s==="mainnet-beta"?"mainnet":"testnet",f=await t.sol.getNetworkId()===Ic.value?"mainnet":"testnet";if(u!==f)return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:de(),params:[{url:`phantom.app.mwa-${c}`,icon:l?`${c}/${l}`:n.getFaviconURL(c)},f]}),a.result(e.id,{type:"AUTHORIZE_DECLINE"});if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:de(),params:[{url:c,icon:l?`${c}/${l}`:n.getFaviconURL(c)}]}))return a.result(e.id,{type:"AUTHORIZE_DECLINE"});let g=await t.sol.getSelectedAccount();return a.result(e.id,{type:"AUTHORIZE_SUCCESS",publicKey:g,accountLabel:"phantom-wallet"})},"handler");d();p();var Za=ce(rn(),1);var Qm=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:i,verifiableIdentity:c}=e.params.signPayloads,{identityUri:l,iconRelativeUri:u}=c.identity,f=await t.sol.getSelectedAccount();if(s!==f)return a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_and_send_transactions rpc request payload"),a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});let x=i.map(E=>Za.default.encode(Buffer.from(E,"base64"))),g=await Promise.all(x.map(E=>t.sol.addPriorityFee(E)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:de(),params:[{url:`phantom.app.mwa-${l}`,icon:u?`${l}/${u}`:n.getFaviconURL(l)},{transactions:g,autoConfirmStatusCode:ye.Disabled}]}))return a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});try{let E=await t.sol.signAllTransactions(g);await t.sol.sendAllTransactions(E.map(S=>S.transaction));let b=E.map(S=>Buffer.from(Za.default.decode(S.signature)).toString("base64"));return a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_SUCCESS",signedPayloads:b})}catch{return a.error(e.id,{code:Le.InternalError,message:"Internal error"})}},"handler");d();p();var Ya=ce(rn(),1);var eh=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:i,verifiableIdentity:c}=e.params.signPayloads,{identityUri:l,iconRelativeUri:u}=c.identity,f=await t.sol.getSelectedAccount();if(s!==f)return a.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_transactions rpc request payload"),a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let x=i.map(E=>Ya.default.encode(Buffer.from(E,"base64"))),g=await Promise.all(x.map(E=>t.sol.addPriorityFee(E)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:de(),params:[{url:`phantom.app.mwa-${l}`,icon:u?`${l}/${u}`:n.getFaviconURL(l)},{transactions:g,autoConfirmStatusCode:ye.Disabled}]}))return a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let b=(await t.sol.signAllTransactions(g)).map(S=>Buffer.from(Ya.default.decode(S.transaction)).toString("base64"));return a.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:b})}catch{return a.error(e.id,{code:Le.InternalError,message:"Internal error"})}},"handler");d();p();var Xa=ce(rn(),1);var th=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:i,verifiableIdentity:c}=e.params.signPayloads,{identityUri:l,iconRelativeUri:u}=c.identity,f=await t.sol.getSelectedAccount();if(s!==f)return a.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_messages rpc request payload"),a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let x=Xa.default.encode(Buffer.from(i[0],"base64")),g={message:x,display:"utf8"};if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:de(),params:[{url:`phantom.app.mwa-${l}`,icon:u?`${l}/${u}`:n.getFaviconURL(l)},{...g,autoConfirmStatusCode:ye.Disabled}]}))return a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let E=await t.sol.signMessage(x),b=Buffer.from(Xa.default.decode(E)).toString("base64");return a.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:[b]})}catch{return a.error(e.id,{code:Le.InternalError,message:"Internal error"})}},"handler");var Nn={};De(Nn,{sol_pay_transaction:()=>nh,sol_pay_transfer:()=>rh});d();p();d();p();var rh=o(async({request:e},{wallet:t})=>await t.sol.handleSolanaPayTransfer(e.params)?a.result(e.id,null):a.error(e.id,{code:Le.InvalidInput,message:"Missing or invalid parameters."}),"handler");d();p();var nh=o(async({request:e},{wallet:t})=>{let r=await t.sol.handleSolanaPayTransaction(e.params);if(!r){let l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmSolPayError",id:de(),params:[{url:e.params.link,icon:null}]});return"error"in l?a.error(e.id,l.error):a.invalidInput(e.id)}let{icon:n,label:s,transaction:i}=r,c=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolPayTransaction",id:de(),params:[{url:e.params.link,icon:n},{label:s,transaction:i}]});if("error"in c)return a.error(e.id,c.error);if(!i)return a.error(e.id,{code:Le.InvalidInput,message:"Missing or invalid parameters."});switch(c.result.type){case"send":{await t.sol.sendTransaction(i);break}case"signAndSend":{let l=await t.sol.signTransaction(i);await t.sol.sendTransaction(l.transaction);break}}return a.result(e.id,null)},"handler");var Rr={};De(Rr,{sui_requestAccounts:()=>oh,sui_signAndExecuteTransaction:()=>ah,sui_signMessage:()=>ih,sui_signTransaction:()=>sh});d();p();d();p();var oh=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=z(t),s=Ae(t),i=he(t);if(!n||!i)return a.unauthorized(e.id);let c={url:i,icon:s?new URL(s):void 0};await r.addTrustedApp(n,c);let l=await r.sui.getSelectedAccount();return a.result(e.id,l)},"handler");d();p();var sh=o(async({request:e},{wallet:t})=>{let r=await t.sui.signTransaction(e.params.address,e.params.transaction,e.params.networkID);return a.result(e.id,r)},"handler");d();p();var ih=o(async({request:e},{wallet:t})=>{let r=await t.sui.signMessage(e.params.address,e.params.message);return a.result(e.id,r)},"handler");d();p();var ah=o(async({request:e},{wallet:t})=>{let r=await t.sui.signAndExecuteTransaction(e.params.address,e.params.transaction,e.params.networkID);return a.result(e.id,r)},"handler");var Cr={};De(Cr,{phantom_getFeatures:()=>ch,phantom_getUser:()=>dh,phantom_login:()=>ph,phantom_logout:()=>lh});d();p();d();p();var ch=o(async({request:e},{featureFlags:t})=>{let r=[];return await t.isEnabled("enable-phantom-login")&&r.push("phantom_login"),a.result(e.id,{features:r})},"handler");d();p();var dh=o(async({request:e},{wallet:t})=>{let r=await t.getUser();return a.result(e.id,r)},"handler");d();p();var ph=o(async({request:e,source:t},{wallet:r,featureFlags:n})=>{if(!t)return a.userRejectedRequest(e.id);if(!await n.isEnabled("enable-phantom-login"))return a.error(e.id,{code:-32601,message:"phantom_login is currently disabled"});let i=z(t),c=he(t),l=Ae(t);if(!i||!c)return a.unauthorized(e.id);let u=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveKmsLogin",params:[{url:c.toString(),icon:l},{appId:e.params.appId,publicKey:e.params.publicKey}],id:de()});return"error"in u?a.userRejectedRequest(e.id):a.result(e.id,u.result)},"handler");d();p();var lh=o(async({request:e})=>{try{return a.result(e.id,null)}catch{return a.internalError(e.id)}},"handler");var Br={};De(Br,{phantom_auto_confirm_disable:()=>hh,phantom_auto_confirm_enable:()=>uh,phantom_auto_confirm_status:()=>mh,phantom_auto_confirm_supported_chains:()=>fh});d();p();d();p();var uh=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=z(t),i=he(t);if(!s||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let{enabled:c,networks:l}=await r.getAutoConfirmStatus(s);if(c)return a.result(e.id,{enabled:!0,chains:l});let u=await r.fetchAutoConfirmSupportedNetworks(s);if(!u||u.length===0)return a.unsupportedMethod(e.id,"No supported networks found for this domain.");let f=e.params.chains||[],x=Ae(t);if("error"in await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEnableAutoconfirm",id:de(),params:[{url:i.toString(),icon:x},{origin:s,requestedChains:f}]}))return a.userRejectedRequest(e.id,"User rejected auto confirm");try{await r.enableAutoConfirm(s,f);let{enabled:y,networks:E}=await r.getAutoConfirmStatus(s);return a.result(e.id,{enabled:y,chains:E})}catch{return a.error(e.id,{code:Le.InternalError,message:"Failed to enable auto confirm"})}},"handler");d();p();var mh=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=z(t);if(!s)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{let{enabled:i,networks:c}=await r.getAutoConfirmStatus(s);return a.result(e.id,{enabled:i,chains:c})}catch{return a.error(e.id,{code:Le.InternalError,message:"Failed to get auto confirm status"})}},"handler");d();p();var hh=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=z(t);if(!s)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{await r.disableAutoConfirm(s);let{enabled:i,networks:c}=await r.getAutoConfirmStatus(s);return a.result(e.id,{enabled:i,chains:c})}catch{return a.error(e.id,{code:Le.InternalError,message:"Failed to disable auto confirm"})}},"handler");d();p();var fh=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=z(t);if(!s)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{let i=await r.fetchAutoConfirmSupportedNetworks(s);return a.result(e.id,{chains:i})}catch{return a.error(e.id,{code:Le.InternalError,message:"Failed to get supported chains for auto confirm"})}},"handler");var Tt={};De(Tt,{btc:()=>ec,eth:()=>Ja,eth_blink:()=>nc,phantom_auto_confirm:()=>cc,phantom_deep_link:()=>tc,phantom_embedded:()=>ac,sol:()=>Qa,sol_blink:()=>rc,sol_mwa:()=>oc,sol_pay:()=>sc,sui:()=>ic});d();p();var Ja={};De(Ja,{initialize:()=>Uy});d();p();var Uy=o((e,t="BrowserTabRpcRequestSource")=>({eth_accounts:q().parse(we.eth_accounts).context(e).use([Pe(100),ae(t),j,xe,pe],Gi),eth_blockNumber:q().parse(we.eth_blockNumber).context(e).use([j,ae(t),xe,pe],Wi),eth_call:q().parse(we.eth_call).context(e).use([j,ae(t),xe,pe],Zi),eth_cancelPrivateTransaction:q().parse(we.eth_cancelPrivateTransaction).context(e).use([j,ae(t),xe,pe],Yi),eth_chainId:q().parse(we.eth_chainId).context(e).use([j,ae(t),xe,pe],Xi),eth_estimateGas:q().parse(we.eth_estimateGas).context(e).use([j,ae(t),xe,pe],Ji),eth_feeHistory:q().parse(we.eth_feeHistory).context(e).use([j,ae(t),xe,pe],Qi),eth_gasPrice:q().parse(we.eth_gasPrice).context(e).use([j,ae(t),xe,pe],ea),eth_getBalance:q().parse(we.eth_getBalance).context(e).use([j,ae(t),xe,pe],ta),eth_getBlockByHash:q().parse(we.eth_getBlockByHash).context(e).use([j,ae(t),xe,pe],ra),eth_getBlockByNumber:q().parse(we.eth_getBlockByNumber).context(e).use([j,ae(t),xe,pe],na),eth_getBlockReceipts:q().parse(we.eth_getBlockReceipts).context(e).use([j,ae(t),xe,pe],oa),eth_getBlockTransactionCountByHash:q().parse(we.eth_getBlockTransactionCountByHash).context(e).use([j,ae(t),xe,pe],sa),eth_getBlockTransactionCountByNumber:q().parse(we.eth_getBlockTransactionCountByNumber).context(e).use([j,ae(t),xe,pe],ia),eth_getCode:q().parse(we.eth_getCode).context(e).use([j,ae(t),xe,pe],aa),eth_getFilterChanges:q().parse(we.eth_getFilterChanges).context(e).use([j,ae(t),xe,pe],ca),eth_getFilterLogs:q().parse(we.eth_getFilterLogs).context(e).use([j,ae(t),xe,pe],da),eth_getLogs:q().parse(we.eth_getLogs).context(e).use([j,ae(t),xe,pe],pa),eth_getProof:q().parse(we.eth_getProof).context(e).use([j,ae(t),xe,pe],la),eth_getStorageAt:q().parse(we.eth_getStorageAt).context(e).use([j,ae(t),xe,pe],ua),eth_getTransactionByBlockHashAndIndex:q().parse(we.eth_getTransactionByBlockHashAndIndex).context(e).use([j,ae(t),xe,pe],ma),eth_getTransactionByBlockNumberAndIndex:q().parse(we.eth_getTransactionByBlockNumberAndIndex).context(e).use([j,ae(t),xe,pe],ha),eth_getTransactionByHash:q().parse(we.eth_getTransactionByHash).context(e).use([j,ae(t),xe,pe],fa),eth_getTransactionCount:q().parse(we.eth_getTransactionCount).context(e).use([j,ae(t),xe,pe],ga),eth_getTransactionReceipt:q().parse(we.eth_getTransactionReceipt).context(e).use([j,ae(t),xe,pe],ya),eth_getUncleByBlockHashAndIndex:q().parse(we.eth_getUncleByBlockHashAndIndex).context(e).use([j,ae(t),xe,pe],xa),eth_getUncleByBlockNumberAndIndex:q().parse(we.eth_getUncleByBlockNumberAndIndex).context(e).use([j,ae(t),xe,pe],wa),eth_getUncleCountByBlockHash:q().parse(we.eth_getUncleCountByBlockHash).context(e).use([j,ae(t),xe,pe],ba),eth_getUncleCountByBlockNumber:q().parse(we.eth_getUncleCountByBlockNumber).context(e).use([j,ae(t),xe,pe],Aa),eth_maxPriorityFeePerGas:q().parse(we.eth_maxPriorityFeePerGas).context(e).use([j,ae(t),xe,pe],Sa),eth_newBlockFilter:q().parse(we.eth_newBlockFilter).context(e).use([j,ae(t),xe,pe],_a),eth_newFilter:q().parse(we.eth_newFilter).context(e).use([j,ae(t),xe,pe],Ea),eth_newPendingTransactionFilter:q().parse(we.eth_newPendingTransactionFilter).context(e).use([j,ae(t),xe,pe],va),eth_protocolVersion:q().parse(we.eth_protocolVersion).context(e).use([j,ae(t),xe,pe],Ta),eth_requestAccounts:q().parse(we.eth_requestAccounts).context(e).use([Pe(100),ae(t),j,xe,pe,xi,Ei],ka),eth_sendRawTransaction:q().parse(we.eth_sendRawTransaction).context(e).use([j,ae(t),xe,pe],Ia),eth_sendPrivateTransaction:q().parse(we.eth_sendPrivateTransaction).context(e).use([j,ae(t),xe,pe],Ra),eth_sendTransaction:q().parse(we.eth_sendTransaction).context(e).use([j,ae(t),We,xe,pe,qe(t),Mn,lr,ki],Ca),eth_sign:q().parse(we.eth_sign).context(e).use([j,ae(t),We,xe,pe,qe(t),Ri],Ba),eth_signTypedData:q().parse(we.eth_signTypedData).context(e).use([j,ae(t),We,xe,pe,qe(t),lr,Bi],La),eth_signTypedData_v3:q().parse(we.eth_signTypedData_v3).context(e).use([j,ae(t),We,xe,pe,qe(t),lr,Li],Ua),eth_signTypedData_v4:q().parse(we.eth_signTypedData_v4).context(e).use([j,ae(t),We,xe,pe,qe(t),lr,Ui],Ma),eth_subscribe:q().parse(we.eth_subscribe).context(e).use([j,ae(t),xe,pe],Na),eth_syncing:q().parse(we.eth_syncing).context(e).use([j,ae(t),xe,pe],Oa),eth_uninstallFilter:q().parse(we.eth_uninstallFilter).context(e).use([j,ae(t),xe,pe],Da),eth_unsubscribe:q().parse(we.eth_unsubscribe).context(e).use([j,ae(t),xe,pe],Pa),net_listening:q().parse(we.net_listening).context(e).use([j,ae(t),xe,pe],Ha),net_version:q().parse(we.net_version).context(e).use([j,ae(t),xe,pe],Fa),personal_sign:q().parse(we.personal_sign).context(e).use([j,ae(t),We,xe,pe,qe(t),Mi],$a),wallet_addEthereumChain:q().parse(we.wallet_addEthereumChain).context(e).use([j,ae(t),xe,pe,lr],za),wallet_selectEthereumProvider:q().parse(we.wallet_selectEthereumProvider).context(e).use([j,ae(t),xe,pe],Va),wallet_switchEthereumChain:q().parse(we.wallet_switchEthereumChain).context(e).use([j,ae(t),xe,pe,qe(t),lr],ja),wallet_requestPermissions:q().parse(we.wallet_requestPermissions).context(e).use([j,ae(t),xe,pe,Ti],Ga),wallet_getPermissions:q().parse(we.wallet_getPermissions).context(e).use([j,ae(t),xe,pe],Wa),web3_clientVersion:q().parse(we.web3_clientVersion).context(e).use([j,ae(t),xe,pe],qa),web3_sha3:q().parse(we.web3_sha3).context(e).use([j,ae(t),xe,pe],Ka)}),"initialize");var Qa={};De(Qa,{initialize:()=>My});d();p();var My=o((e,t="BrowserTabRpcRequestSource")=>({sol_connect:q().parse(Mt.sol_connect).context(e).use([Pe(10),ae(t),j,ze,dt,pe,Ni],Et.sol_connect),sol_disconnect:q().parse(Mt.sol_disconnect).context(e).use([j,ae(t),dt,pe],Et.sol_disconnect),sol_signAllTransactions:q().parse(Mt.sol_signAllTransactions).context(e).use([j,ae(t),We,dt,pe,qe(t),dr,Di],Et.sol_signAllTransactions),sol_signAndSendTransaction:q().parse(Mt.sol_signAndSendTransaction).context(e).use([j,ae(t),We,dt,pe,qe(t),dr,Fi],Et.sol_signAndSendTransaction),sol_signAndSendAllTransactions:q().parse(Mt.sol_signAndSendAllTransactions).context(e).use([j,ae(t),We,dt,pe,qe(t),dr,Pi],Et.sol_signAndSendAllTransactions),sol_signMessage:q().parse(Mt.sol_signMessage).context(e).use([j,ae(t),We,dt,pe,qe(t),bi,$i],Et.sol_signMessage),sol_signTransaction:q().parse(Mt.sol_signTransaction).context(e).use([j,ae(t),We,dt,pe,qe(t),dr,Vi],Et.sol_signTransaction),sol_signIn:q().parse(Mt.sol_signIn).context(e).use([j,ae(t),ze,dt,pe],Et.sol_signIn)}),"initialize");var ec={};De(ec,{initialize:()=>Ny});d();p();var Ny=o((e,t="BrowserTabRpcRequestSource")=>({btc_requestAccounts:q().parse(zn.btc_requestAccounts).context(e).use([Pe(10),ae(t),j,Un,Ai],sn.btc_requestAccounts),btc_signPSBT:q().parse(zn.btc_signPSBT).context(e).use([j,ae(t),Un,_i],sn.btc_signPSBT),btc_signMessage:q().parse(zn.btc_signMessage).context(e).use([j,ae(t),Un,Si],sn.btc_signMessage)}),"initialize");var tc={};De(tc,{initialize:()=>Oy});d();p();var Oy=o(e=>({phantom_deep_link_browse:q().parse(Ce.phantom_deep_link_browse).context(e).use([Pe(10),j,pt],Re.phantom_deep_link_browse),phantom_deep_link_tokens:q().parse(Ce.phantom_deep_link_tokens).context(e).use([j,pt],Re.phantom_deep_link_tokens),phantom_deep_link_swap:q().parse(Ce.phantom_deep_link_swap).context(e).use([j,ze],Re.phantom_deep_link_swap),phantom_deep_link_navigate:q().parse(Ce.phantom_deep_link_navigate).context(e).use([j,ze],Re.phantom_deep_link_navigate),phantom_deep_link_explore:q().parse(Ce.phantom_deep_link_explore).context(e).use([j],Re.phantom_deep_link_explore),phantom_deep_link_terminal:q().parse(Ce.phantom_deep_link_terminal).context(e).use([j,ze],Re.phantom_deep_link_terminal),phantom_deep_link_feature_flags:q().parse(Ce.phantom_deep_link_feature_flags).context(e).use([j,ze],Re.phantom_deep_link_feature_flags),phantom_deep_link_onramp:q().parse(Ce.phantom_deep_link_onramp).context(e).use([j,ze],Re.phantom_deep_link_onramp),phantom_deep_link_fungible:q().parse(Ce.phantom_deep_link_fungible).context(e).use([j],Re.phantom_deep_link_fungible),phantom_deep_link_user:q().parse(Ce.phantom_deep_link_user).context(e).use([j,pt],Re.phantom_deep_link_user),phantom_deep_link_social:q().parse(Ce.phantom_deep_link_social).context(e).use([j,ze],Re.phantom_deep_link_social),phantom_deep_link_notification_center:q().parse(Ce.phantom_deep_link_notification_center).context(e).use([j,ze],Re.phantom_deep_link_notification_center),phantom_deep_link_chat:q().parse(Ce.phantom_deep_link_chat).context(e).use([j,ze],Re.phantom_deep_link_chat),phantom_deep_link_token_chat:q().parse(Ce.phantom_deep_link_token_chat).context(e).use([j,ze],Re.phantom_deep_link_token_chat),phantom_deep_link_mint_psol_marketing:q().parse(Ce.phantom_deep_link_mint_psol_marketing).context(e).use([j,ze],Re.phantom_deep_link_mint_psol_marketing),phantom_deep_link_onboard:q().parse(Ce.phantom_deep_link_onboard).context(e).use([j],Re.phantom_deep_link_onboard),phantom_deep_link_connect:q().parse(Ce.phantom_deep_link_connect).context(e).use([j,pt],Re.phantom_deep_link_connect),phantom_deep_link_disconnect:q().parse(Ce.phantom_deep_link_disconnect).context(e).use([j,pt],Re.phantom_deep_link_disconnect),phantom_deep_link_signMessage:q().parse(Ce.phantom_deep_link_signMessage).context(e).use([j,pt],Re.phantom_deep_link_signMessage),phantom_deep_link_signIn:q().parse(Ce.phantom_deep_link_signIn).context(e).use([j,pt],Re.phantom_deep_link_signIn),phantom_deep_link_signTransaction:q().parse(Ce.phantom_deep_link_signTransaction).context(e).use([j,pt],Re.phantom_deep_link_signTransaction),phantom_deep_link_signAllTransactions:q().parse(Ce.phantom_deep_link_signAllTransactions).context(e).use([j,pt],Re.phantom_deep_link_signAllTransactions),phantom_deep_link_signAndSendTransaction:q().parse(Ce.phantom_deep_link_signAndSendTransaction).context(e).use([j,pt],Re.phantom_deep_link_signAndSendTransaction),phantom_deep_link_signAndSendAllTransactions:q().parse(Ce.phantom_deep_link_signAndSendAllTransactions).context(e).use([j,pt],Re.phantom_deep_link_signAndSendAllTransactions),phantom_deep_link_perps:q().parse(Ce.phantom_deep_link_perps).context(e).use([j,ze],Re.phantom_deep_link_perps),phantom_deep_link_perps_leaderboard:q().parse(Ce.phantom_deep_link_perps_leaderboard).context(e).use([j,ze],Re.phantom_deep_link_perps_leaderboard),phantom_deep_link_cash:q().parse(Ce.phantom_deep_link_cash).context(e).use([j,pt],Re.phantom_deep_link_cash),phantom_deep_link_feedback_perps:q().parse(Ce.phantom_deep_link_feedback_perps).context(e).use([j,ze],Re.phantom_deep_link_feedback_perps),phantom_deep_link_convert_stake_account:q().parse(Ce.phantom_deep_link_convert_stake_account).context(e).use([j,ze],Re.phantom_deep_link_convert_stake_account),phantom_deep_link_predictions:q().parse(Ce.phantom_deep_link_predictions).context(e).use([j,ze],Re.phantom_deep_link_predictions),phantom_deep_link_competitions:q().parse(Ce.phantom_deep_link_competitions).context(e).use([j,ze],Re.phantom_deep_link_competitions)}),"initialize");var rc={};De(rc,{initialize:()=>Dy});d();p();var Dy=o((e,t="BrowserTabRpcRequestSource")=>({sol_blink_connect:q().parse($n.sol_blink_connect).context(e).use([Pe(10),ae(t),j,dt,pe,Wt,Oi],an.sol_blink_connect),sol_blink_signMessage:q().parse($n.sol_blink_signMessage).context(e).use([j,ae(t),We,dt,pe,Wt,Ir,zi],an.sol_blink_signMessage),sol_blink_signAndSendAllTransactions:q().parse($n.sol_blink_signAndSendAllTransactions).context(e).use([j,ae(t),We,dt,pe,Wt,Ir,dr,Hi],an.sol_blink_signAndSendAllTransactions)}),"initialize");var nc={};De(nc,{initialize:()=>Py});d();p();var Py=o((e,t="BrowserTabRpcRequestSource")=>({eth_blink_requestAccounts:q().parse(Fn.eth_blink_requestAccounts).context(e).use([Pe(100),ae(t),j,xe,pe,Wt,wi,vi],cn.eth_blink_requestAccounts),eth_blink_sendTransaction:q().parse(Fn.eth_blink_sendTransaction).context(e).use([ae(t),j,We,pe,Wt,Ir,Mn,yi,Ii],cn.eth_blink_sendTransaction),eth_blink_sign:q().parse(Fn.eth_blink_sign).context(e).use([ae(t),j,We,pe,Wt,Ir,Ci],cn.eth_blink_sign)}),"initialize");var oc={};De(oc,{initialize:()=>Hy});d();p();var Hy=o(e=>({sol_mwa_authorize:q().parse(Mr.sol_mwa_authorize).context(e).use([Pe(10),j,nn],ur.sol_mwa_authorize),sol_mwa_reauthorize:q().parse(Mr.sol_mwa_reauthorize).context(e).use([j],ur.sol_mwa_reauthorize),sol_mwa_sign_messages:q().parse(Mr.sol_mwa_sign_messages).context(e).use([j,nn],ur.sol_mwa_sign_messages),sol_mwa_sign_transactions:q().parse(Mr.sol_mwa_sign_transactions).context(e).use([j,nn],ur.sol_mwa_sign_transactions),sol_mwa_sign_and_send_transactions:q().parse(Mr.sol_mwa_sign_and_send_transactions).context(e).use([j,nn],ur.sol_mwa_sign_and_send_transactions)}),"initialize");var sc={};De(sc,{initialize:()=>Fy});d();p();var Fy=o(e=>({sol_pay_transfer:q().parse(ts.sol_pay_transfer).context(e).use([j],Nn.sol_pay_transfer),sol_pay_transaction:q().parse(ts.sol_pay_transaction).context(e).use([j],Nn.sol_pay_transaction)}),"initialize");var ic={};De(ic,{initialize:()=>$y});d();p();var $y=o((e,t="BrowserTabRpcRequestSource")=>({sui_requestAccounts:q().parse(un.sui_requestAccounts).context(e).use([Pe(100),ae(t),j,ze,on,pe,qi],Rr.sui_requestAccounts),sui_signMessage:q().parse(un.sui_signMessage).context(e).use([j,ae(t),on,pe,qe(t),Ki],Rr.sui_signMessage),sui_signTransaction:q().parse(un.sui_signTransaction).context(e).use([j,ae(t),on,pe,qe(t),Go],Rr.sui_signTransaction),sui_signAndExecuteTransaction:q().parse(un.sui_signAndExecuteTransaction).context(e).use([j,ae(t),on,pe,qe(t),Go],Rr.sui_signAndExecuteTransaction)}),"initialize");var ac={};De(ac,{initialize:()=>zy});d();p();var zy=o(e=>({phantom_getFeatures:q().parse(ln.phantom_getFeatures).context(e).use([Pe(10),j],Cr.phantom_getFeatures),phantom_getUser:q().parse(ln.phantom_getUser).context(e).use([Pe(10),j],Cr.phantom_getUser),phantom_login:q().parse(ln.phantom_login).context(e).use([Pe(10),j,ze],Cr.phantom_login),phantom_logout:q().parse(ln.phantom_logout).context(e).use([Pe(10),j],Cr.phantom_logout)}),"initialize");var cc={};De(cc,{initialize:()=>Vy});d();p();var Vy=o((e,t="BrowserTabRpcRequestSource")=>({phantom_auto_confirm_enable:q().parse(pn.phantom_auto_confirm_enable).context(e).use([Pe(10),j,ae(t),pe,qe(t)],Br.phantom_auto_confirm_enable),phantom_auto_confirm_status:q().parse(pn.phantom_auto_confirm_status).context(e).use([Pe(10),j,ae(t),pe,qe(t)],Br.phantom_auto_confirm_status),phantom_auto_confirm_disable:q().parse(pn.phantom_auto_confirm_disable).context(e).use([Pe(10),j,ae(t),pe,qe(t)],Br.phantom_auto_confirm_disable),phantom_auto_confirm_supported_chains:q().parse(pn.phantom_auto_confirm_supported_chains).context(e).use([Pe(10),j,ae(t),pe,qe(t)],Br.phantom_auto_confirm_supported_chains)}),"initialize");d();p();d();p();var gh={isEnabled:o(async e=>yr.isFeatureEnabledAsync(e),"isEnabled")};d();p();var yh={getValue:o(async e=>Yc(e),"getValue")};d();p();var Ut=o(e=>t=>{Oe.capture(e,{data:t})},"captureEventData"),xh={deepLinkDetected:Ut("deepLinkDetected"),tokenDeepLink:Ut("deepLinkTokens"),userDeepLink:Ut("deepLinkUser"),metamaskOverrideSelection:Ut("notificationMetamaskOverrideSelection"),approveConnection:Ut("connectionConfirm"),declineConnection:Ut("connectionDeny"),approveSignMessage:Ut("signMessageConfirm"),declineSignMessage:Ut("signMessageDeny"),approveTransaction:Ut("transactionConfirm"),declineTransaction:Ut("transactionDeny"),eth:{submittedTransaction:o(async({origin:e,request:t,signatures:r,walletAddress:n})=>{try{let s=await yn(t,{origin:e},r);if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await ds(Oe,{data:{...s.data,ids:s.data.ids??r,walletAddress:n},action:"dapp"})}catch(s){X.captureError(s,ee.Provider)}},"submittedTransaction"),signedMessage:o(async({origin:e,request:t,chainId:r,walletAddress:n})=>{try{let s=await xn(t,{origin:e,chainId:Qo(r)});if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await ps(Oe,{...s.data,walletAddress:n})}catch(s){X.captureError(s,ee.Provider)}},"signedMessage"),autoConfirmedTransaction:o(async({origin:e,request:t,data:r,walletAddress:n})=>{try{let s=new bn(Oe),i=await yn(t,{origin:e});if(!i.success)throw new Error(`Failed to capture signature event analytics: ${i.error}`);await s.transactionAutoConfirmed({...i.data,autoConfirm:r,walletAddress:n})}catch(s){X.captureError(s,ee.Provider)}},"autoConfirmedTransaction"),autoConfirmedMessage:o(async({origin:e,request:t,chainId:r,data:n,walletAddress:s})=>{try{let i=new bn(Oe),c=await xn(t,{origin:e,chainId:Qo(r)});if(!c.success)throw new Error(`Failed to capture signature event analytics: ${c.error}`);await i.messageAutoConfirmed({...c.data,autoConfirm:n,walletAddress:s})}catch(i){X.captureError(i,ee.Provider)}},"autoConfirmedMessage"),unsupportedChain:o(async({origin:e,data:t})=>{try{await Oe.capture("unsupportedChainId",{data:{origin:e,chainType:"eip155",chainId:Hr(t.hexChainId),chainName:t.chainName,method:t.method}})}catch(r){X.captureError(r,ee.Provider)}},"unsupportedChain")},sol:{submittedTransaction:o(async({origin:e,request:t,chainId:r,signatures:n,walletAddress:s})=>{try{let i=await yn(t,{origin:e,chainId:r},n);if(!i.success)throw new Error(`Failed to capture signature event analytics: ${i.error}`);await ds(Oe,{data:{...i.data,ids:i.data.ids??n,walletAddress:s},action:"dapp"})}catch(i){X.captureError(i,ee.Provider)}},"submittedTransaction"),signedMessage:o(async({origin:e,request:t,chainId:r,walletAddress:n})=>{try{let s=await xn(t,{origin:e,chainId:r});if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await ps(Oe,{...s.data,walletAddress:n})}catch(s){X.captureError(s,ee.Provider)}},"signedMessage"),autoConfirmedTransaction:o(async({origin:e,request:t,data:r,chainId:n,walletAddress:s})=>{try{let i=new bn(Oe),c=await yn(t,{origin:e,chainId:n});if(!c.success)throw new Error(`Failed to capture signature event analytics: ${c.error}`);await i.transactionAutoConfirmed({...c.data,autoConfirm:r,walletAddress:s})}catch(i){X.captureError(i,ee.Provider)}},"autoConfirmedTransaction"),autoConfirmedMessage:o(async({origin:e,request:t,chainId:r,data:n,walletAddress:s})=>{try{let i=new bn(Oe),c=await xn(t,{origin:e,chainId:r});if(!c.success)throw new Error(`Failed to capture signature event analytics: ${c.error}`);await i.messageAutoConfirmed({...c.data,autoConfirm:n,walletAddress:s})}catch(i){X.captureError(i,ee.Provider)}},"autoConfirmedMessage")}};d();p();var wh={env:jn()?"production":"development",logRequestMethods:new Set(["eth_requestAccounts","eth_accounts","eth_sendTransaction","eth_sign","personal_sign"]),logRequestsOnError:!0};d();p();var bh={t(e){return e}};d();p();var Ah={debug(...e){console.debug(...e)},warn(...e){console.warn(...e)},error(...e){X.addBreadcrumb(ee.Provider,e.join(", "),_e.Error)}};d();p();var Sh={eth:Nd};d();p();d();p();d();p();d();p();d();p();var On;(function(e){e[e.ALT=1]="ALT",e[e.CAT=2]="CAT",e[e.REP=3]="REP",e[e.RNM=4]="RNM",e[e.TRG=5]="TRG",e[e.TBS=6]="TBS",e[e.TLS=7]="TLS",e[e.UDT=11]="UDT",e[e.AND=12]="AND",e[e.NOT=13]="NOT",e[e.BKR=14]="BKR",e[e.BKA=15]="BKA",e[e.BKN=16]="BKN",e[e.ABG=17]="ABG",e[e.AEN=18]="AEN",e[e.ACTIVE=100]="ACTIVE",e[e.MATCH=101]="MATCH",e[e.EMPTY=102]="EMPTY",e[e.NOMATCH=103]="NOMATCH",e[e.SEM_PRE=200]="SEM_PRE",e[e.SEM_POST=201]="SEM_POST",e[e.SEM_OK=300]="SEM_OK",e[e.SEM_SKIP=301]="SEM_SKIP",e[e.ATTR_N=400]="ATTR_N",e[e.ATTR_R=401]="ATTR_R",e[e.ATTR_MR=402]="ATTR_MR",e[e.LOOKAROUND_NONE=500]="LOOKAROUND_NONE",e[e.LOOKAROUND_AHEAD=501]="LOOKAROUND_AHEAD",e[e.LOOKAROUND_BEHIND=502]="LOOKAROUND_BEHIND",e[e.BKR_MODE_UM=601]="BKR_MODE_UM",e[e.BKR_MODE_PM=602]="BKR_MODE_PM",e[e.BKR_MODE_CS=603]="BKR_MODE_CS",e[e.BKR_MODE_CI=604]="BKR_MODE_CI"})(On||(On={}));var mt;(function(e){e.Ethereum="sign-in-with-ethereum",e.Solana="sign-in-with-solana",e.X="sign-in-with-x"})(mt||(mt={}));var Ke;(function(e){e.ADDRESS_MISMATCH="ADDRESS_MISMATCH",e.DOMAIN_MISMATCH="DOMAIN_MISMATCH",e.URI_MISMATCH="URI_MISMATCH",e.CHAIN_ID_MISMATCH="CHAIN_ID_MISMATCH",e.ISSUED_TOO_FAR_IN_THE_PAST="ISSUED_TOO_FAR_IN_THE_PAST",e.ISSUED_TOO_FAR_IN_THE_FUTURE="ISSUED_TOO_FAR_IN_THE_FUTURE",e.EXPIRED="EXPIRED",e.EXPIRES_BEFORE_ISSUANCE="EXPIRES_BEFORE_ISSUANCE",e.VALID_AFTER_EXPIRATION="VALID_AFTER_EXPIRATION"})(Ke||(Ke={}));function Wo(e,t){let{expectedAddress:r,expectedURL:n,expectedChainId:s,issuedAtThreshold:i}=t,c=[],l=Date.now();if(e.address!==r&&c.push(Ke.ADDRESS_MISMATCH),e.domain!==n.host&&c.push(Ke.DOMAIN_MISMATCH),e.uri&&e.uri.origin!==n.origin&&c.push(Ke.URI_MISMATCH),e.chainId&&(e.type!==mt.Solana&&e.chainId!==s||e.type===mt.Solana&&e.chainId.replace(/solana:/g,"")!==s)&&c.push(Ke.CHAIN_ID_MISMATCH),e.issuedAt){let u=e.issuedAt.getTime();Math.abs(u-l)>i&&(u<l?c.push(Ke.ISSUED_TOO_FAR_IN_THE_PAST):c.push(Ke.ISSUED_TOO_FAR_IN_THE_FUTURE))}if(e.expirationTime){let u=e.expirationTime.getTime();u<=l&&c.push(Ke.EXPIRED),e.issuedAt&&u<e.issuedAt.getTime()&&c.push(Ke.EXPIRES_BEFORE_ISSUANCE),e.notBefore&&e.notBefore.getTime()>u&&c.push(Ke.VALID_AFTER_EXPIRATION)}return c}o(Wo,"verify");d();p();d();p();o(function e(t,r,n){function s(l,u){if(!r[l]){if(!t[l]){var f=typeof dn=="function"&&dn;if(!u&&f)return f(l,!0);if(i)return i(l,!0);var x=new Error("Cannot find module '"+l+"'");throw x.code="MODULE_NOT_FOUND",x}var g=r[l]={exports:{}};t[l][0].call(g.exports,function(y){return s(t[l][1][y]||y)},g,g.exports,e,t,r,n)}return r[l].exports}o(s,"o");for(var i=typeof dn=="function"&&dn,c=0;c<n.length;c++)s(n[c]);return s},"e")({1:[function(e,t,r){"use strict";r.byteLength=function(g){var y=f(g),E=y[0],b=y[1];return 3*(E+b)/4-b},r.toByteArray=function(g){var y,E,b=f(g),S=b[0],w=b[1],v=new i(function(B,D,M){return 3*(D+M)/4-M}(0,S,w)),C=0,R=w>0?S-4:S;for(E=0;E<R;E+=4)y=s[g.charCodeAt(E)]<<18|s[g.charCodeAt(E+1)]<<12|s[g.charCodeAt(E+2)]<<6|s[g.charCodeAt(E+3)],v[C++]=y>>16&255,v[C++]=y>>8&255,v[C++]=255&y;return w===2&&(y=s[g.charCodeAt(E)]<<2|s[g.charCodeAt(E+1)]>>4,v[C++]=255&y),w===1&&(y=s[g.charCodeAt(E)]<<10|s[g.charCodeAt(E+1)]<<4|s[g.charCodeAt(E+2)]>>2,v[C++]=y>>8&255,v[C++]=255&y),v},r.fromByteArray=function(g){for(var y,E=g.length,b=E%3,S=[],w=16383,v=0,C=E-b;v<C;v+=w)S.push(x(g,v,v+w>C?C:v+w));return b===1?(y=g[E-1],S.push(n[y>>2]+n[y<<4&63]+"==")):b===2&&(y=(g[E-2]<<8)+g[E-1],S.push(n[y>>10]+n[y>>4&63]+n[y<<2&63]+"=")),S.join("")};for(var n=[],s=[],i=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=c.length;l<u;++l)n[l]=c[l],s[c.charCodeAt(l)]=l;function f(g){var y=g.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=g.indexOf("=");return E===-1&&(E=y),[E,E===y?0:4-E%4]}o(f,"c");function x(g,y,E){for(var b,S,w=[],v=y;v<E;v+=3)b=(g[v]<<16&16711680)+(g[v+1]<<8&65280)+(255&g[v+2]),w.push(n[(S=b)>>18&63]+n[S>>12&63]+n[S>>6&63]+n[63&S]);return w.join("")}o(x,"l"),s[45]=62,s[95]=63},{}],2:[function(e,t,r){(function(n){(function(){"use strict";var s=e("base64-js"),i=e("ieee754");r.Buffer=u,r.SlowBuffer=function(m){return+m!=m&&(m=0),u.alloc(+m)},r.INSPECT_MAX_BYTES=50;var c=2147483647;function l(m){if(m>c)throw new RangeError('The value "'+m+'" is invalid for option "size"');var h=new Uint8Array(m);return h.__proto__=u.prototype,h}o(l,"a");function u(m,h,A){if(typeof m=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(m)}return f(m,h,A)}o(u,"s");function f(m,h,A){if(typeof m=="string")return function(I,T){if(typeof T=="string"&&T!==""||(T="utf8"),!u.isEncoding(T))throw new TypeError("Unknown encoding: "+T);var F=0|b(I,T),Z=l(F),G=Z.write(I,T);return G!==F&&(Z=Z.slice(0,G)),Z}(m,h);if(ArrayBuffer.isView(m))return y(m);if(m==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(ue(m,ArrayBuffer)||m&&ue(m.buffer,ArrayBuffer))return function(I,T,F){if(T<0||I.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<T+(F||0))throw new RangeError('"length" is outside of buffer bounds');var Z;return Z=T===void 0&&F===void 0?new Uint8Array(I):F===void 0?new Uint8Array(I,T):new Uint8Array(I,T,F),Z.__proto__=u.prototype,Z}(m,h,A);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var k=m.valueOf&&m.valueOf();if(k!=null&&k!==m)return u.from(k,h,A);var L=function(I){if(u.isBuffer(I)){var T=0|E(I.length),F=l(T);return F.length===0||I.copy(F,0,0,T),F}if(I.length!==void 0)return typeof I.length!="number"||$(I.length)?l(0):y(I);if(I.type==="Buffer"&&Array.isArray(I.data))return y(I.data)}(m);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return u.from(m[Symbol.toPrimitive]("string"),h,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}o(f,"i");function x(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}o(x,"h");function g(m){return x(m),l(m<0?0:0|E(m))}o(g,"c");function y(m){for(var h=m.length<0?0:0|E(m.length),A=l(h),k=0;k<h;k+=1)A[k]=255&m[k];return A}o(y,"l");function E(m){if(m>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|m}o(E,"f");function b(m,h){if(u.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||ue(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var A=m.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&A===0)return 0;for(var L=!1;;)switch(h){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return le(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return re(m).length;default:if(L)return k?-1:le(m).length;h=(""+h).toLowerCase(),L=!0}}o(b,"u");function S(m,h,A){var k=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0)<=(h>>>=0))return"";for(m||(m="utf8");;)switch(m){case"hex":return H(this,h,A);case"utf8":case"utf-8":return Se(this,h,A);case"ascii":return se(this,h,A);case"latin1":case"binary":return V(this,h,A);case"base64":return J(this,h,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,h,A);default:if(k)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),k=!0}}o(S,"p");function w(m,h,A){var k=m[h];m[h]=m[A],m[A]=k}o(w,"d");function v(m,h,A,k,L){if(m.length===0)return-1;if(typeof A=="string"?(k=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),$(A=+A)&&(A=L?0:m.length-1),A<0&&(A=m.length+A),A>=m.length){if(L)return-1;A=m.length-1}else if(A<0){if(!L)return-1;A=0}if(typeof h=="string"&&(h=u.from(h,k)),u.isBuffer(h))return h.length===0?-1:C(m,h,A,k,L);if(typeof h=="number")return h&=255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(m,h,A):Uint8Array.prototype.lastIndexOf.call(m,h,A):C(m,[h],A,k,L);throw new TypeError("val must be string, number or Buffer")}o(v,"g");function C(m,h,A,k,L){var I,T=1,F=m.length,Z=h.length;if(k!==void 0&&((k=String(k).toLowerCase())==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(m.length<2||h.length<2)return-1;T=2,F/=2,Z/=2,A/=2}function G(Me,Fe){return T===1?Me[Fe]:Me.readUInt16BE(Fe*T)}if(o(G,"c"),L){var ne=-1;for(I=A;I<F;I++)if(G(m,I)===G(h,ne===-1?0:I-ne)){if(ne===-1&&(ne=I),I-ne+1===Z)return ne*T}else ne!==-1&&(I-=I-ne),ne=-1}else for(A+Z>F&&(A=F-Z),I=A;I>=0;I--){for(var Ee=!0,Te=0;Te<Z;Te++)if(G(m,I+Te)!==G(h,Te)){Ee=!1;break}if(Ee)return I}return-1}o(C,"b");function R(m,h,A,k){A=Number(A)||0;var L=m.length-A;k?(k=Number(k))>L&&(k=L):k=L;var I=h.length;k>I/2&&(k=I/2);for(var T=0;T<k;++T){var F=parseInt(h.substr(2*T,2),16);if($(F))return T;m[A+T]=F}return T}o(R,"A");function B(m,h,A,k){return ie(le(h,m.length-A),m,A,k)}o(B,"T");function D(m,h,A,k){return ie(function(L){for(var I=[],T=0;T<L.length;++T)I.push(255&L.charCodeAt(T));return I}(h),m,A,k)}o(D,"m");function M(m,h,A,k){return D(m,h,A,k)}o(M,"w");function te(m,h,A,k){return ie(re(h),m,A,k)}o(te,"E");function W(m,h,A,k){return ie(function(L,I){for(var T,F,Z,G=[],ne=0;ne<L.length&&!((I-=2)<0);++ne)F=(T=L.charCodeAt(ne))>>8,Z=T%256,G.push(Z),G.push(F);return G}(h,m.length-A),m,A,k)}o(W,"y");function J(m,h,A){return h===0&&A===m.length?s.fromByteArray(m):s.fromByteArray(m.slice(h,A))}o(J,"C");function Se(m,h,A){A=Math.min(m.length,A);for(var k=[],L=h;L<A;){var I,T,F,Z,G=m[L],ne=null,Ee=G>239?4:G>223?3:G>191?2:1;if(L+Ee<=A)switch(Ee){case 1:G<128&&(ne=G);break;case 2:(192&(I=m[L+1]))==128&&(Z=(31&G)<<6|63&I)>127&&(ne=Z);break;case 3:I=m[L+1],T=m[L+2],(192&I)==128&&(192&T)==128&&(Z=(15&G)<<12|(63&I)<<6|63&T)>2047&&(Z<55296||Z>57343)&&(ne=Z);break;case 4:I=m[L+1],T=m[L+2],F=m[L+3],(192&I)==128&&(192&T)==128&&(192&F)==128&&(Z=(15&G)<<18|(63&I)<<12|(63&T)<<6|63&F)>65535&&Z<1114112&&(ne=Z)}ne===null?(ne=65533,Ee=1):ne>65535&&(ne-=65536,k.push(ne>>>10&1023|55296),ne=56320|1023&ne),k.push(ne),L+=Ee}return function(Te){var Me=Te.length;if(Me<=oe)return String.fromCharCode.apply(String,Te);for(var Fe="",Ve=0;Ve<Me;)Fe+=String.fromCharCode.apply(String,Te.slice(Ve,Ve+=oe));return Fe}(k)}o(Se,"S"),r.kMaxLength=c,u.TYPED_ARRAY_SUPPORT=function(){try{var m=new Uint8Array(1);return m.__proto__={__proto__:Uint8Array.prototype,foo:o(function(){return 42},"foo")},m.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:o(function(){if(u.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:o(function(){if(u.isBuffer(this))return this.byteOffset},"get")}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(m,h,A){return f(m,h,A)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(m,h,A){return function(k,L,I){return x(k),k<=0?l(k):L!==void 0?typeof I=="string"?l(k).fill(L,I):l(k).fill(L):l(k)}(m,h,A)},u.allocUnsafe=function(m){return g(m)},u.allocUnsafeSlow=function(m){return g(m)},u.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==u.prototype},u.compare=function(m,h){if(ue(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),ue(h,Uint8Array)&&(h=u.from(h,h.offset,h.byteLength)),!u.isBuffer(m)||!u.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===h)return 0;for(var A=m.length,k=h.length,L=0,I=Math.min(A,k);L<I;++L)if(m[L]!==h[L]){A=m[L],k=h[L];break}return A<k?-1:k<A?1:0},u.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(m,h){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return u.alloc(0);var A;if(h===void 0)for(h=0,A=0;A<m.length;++A)h+=m[A].length;var k=u.allocUnsafe(h),L=0;for(A=0;A<m.length;++A){var I=m[A];if(ue(I,Uint8Array)&&(I=u.from(I)),!u.isBuffer(I))throw new TypeError('"list" argument must be an Array of Buffers');I.copy(k,L),L+=I.length}return k},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var h=0;h<m;h+=2)w(this,h,h+1);return this},u.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var h=0;h<m;h+=4)w(this,h,h+3),w(this,h+1,h+2);return this},u.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var h=0;h<m;h+=8)w(this,h,h+7),w(this,h+1,h+6),w(this,h+2,h+5),w(this,h+3,h+4);return this},u.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?Se(this,0,m):S.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(m){if(!u.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||u.compare(this,m)===0},u.prototype.inspect=function(){var m="",h=r.INSPECT_MAX_BYTES;return m=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(m+=" ... "),"<Buffer "+m+">"},u.prototype.compare=function(m,h,A,k,L){if(ue(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),!u.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(h===void 0&&(h=0),A===void 0&&(A=m?m.length:0),k===void 0&&(k=0),L===void 0&&(L=this.length),h<0||A>m.length||k<0||L>this.length)throw new RangeError("out of range index");if(k>=L&&h>=A)return 0;if(k>=L)return-1;if(h>=A)return 1;if(this===m)return 0;for(var I=(L>>>=0)-(k>>>=0),T=(A>>>=0)-(h>>>=0),F=Math.min(I,T),Z=this.slice(k,L),G=m.slice(h,A),ne=0;ne<F;++ne)if(Z[ne]!==G[ne]){I=Z[ne],T=G[ne];break}return I<T?-1:T<I?1:0},u.prototype.includes=function(m,h,A){return this.indexOf(m,h,A)!==-1},u.prototype.indexOf=function(m,h,A){return v(this,m,h,A,!0)},u.prototype.lastIndexOf=function(m,h,A){return v(this,m,h,A,!1)},u.prototype.write=function(m,h,A,k){if(h===void 0)k="utf8",A=this.length,h=0;else if(A===void 0&&typeof h=="string")k=h,A=this.length,h=0;else{if(!isFinite(h))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");h>>>=0,isFinite(A)?(A>>>=0,k===void 0&&(k="utf8")):(k=A,A=void 0)}var L=this.length-h;if((A===void 0||A>L)&&(A=L),m.length>0&&(A<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");for(var I=!1;;)switch(k){case"hex":return R(this,m,h,A);case"utf8":case"utf-8":return B(this,m,h,A);case"ascii":return D(this,m,h,A);case"latin1":case"binary":return M(this,m,h,A);case"base64":return te(this,m,h,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,m,h,A);default:if(I)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),I=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function se(m,h,A){var k="";A=Math.min(m.length,A);for(var L=h;L<A;++L)k+=String.fromCharCode(127&m[L]);return k}o(se,"M");function V(m,h,A){var k="";A=Math.min(m.length,A);for(var L=h;L<A;++L)k+=String.fromCharCode(m[L]);return k}o(V,"$");function H(m,h,A){var k=m.length;(!h||h<0)&&(h=0),(!A||A<0||A>k)&&(A=k);for(var L="",I=h;I<A;++I)L+=Q(m[I]);return L}o(H,"k");function P(m,h,A){for(var k=m.slice(h,A),L="",I=0;I<k.length;I+=2)L+=String.fromCharCode(k[I]+256*k[I+1]);return L}o(P,"x");function N(m,h,A){if(m%1!=0||m<0)throw new RangeError("offset is not uint");if(m+h>A)throw new RangeError("Trying to access beyond buffer length")}o(N,"B");function U(m,h,A,k,L,I){if(!u.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>L||h<I)throw new RangeError('"value" argument is out of bounds');if(A+k>m.length)throw new RangeError("Index out of range")}o(U,"N");function O(m,h,A,k,L,I){if(A+k>m.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}o(O,"R");function Y(m,h,A,k,L){return h=+h,A>>>=0,L||O(m,0,A,4),i.write(m,h,A,k,23,4),A+4}o(Y,"v");function K(m,h,A,k,L){return h=+h,A>>>=0,L||O(m,0,A,8),i.write(m,h,A,k,52,8),A+8}o(K,"O"),u.prototype.slice=function(m,h){var A=this.length;(m=~~m)<0?(m+=A)<0&&(m=0):m>A&&(m=A),(h=h===void 0?A:~~h)<0?(h+=A)<0&&(h=0):h>A&&(h=A),h<m&&(h=m);var k=this.subarray(m,h);return k.__proto__=u.prototype,k},u.prototype.readUIntLE=function(m,h,A){m>>>=0,h>>>=0,A||N(m,h,this.length);for(var k=this[m],L=1,I=0;++I<h&&(L*=256);)k+=this[m+I]*L;return k},u.prototype.readUIntBE=function(m,h,A){m>>>=0,h>>>=0,A||N(m,h,this.length);for(var k=this[m+--h],L=1;h>0&&(L*=256);)k+=this[m+--h]*L;return k},u.prototype.readUInt8=function(m,h){return m>>>=0,h||N(m,1,this.length),this[m]},u.prototype.readUInt16LE=function(m,h){return m>>>=0,h||N(m,2,this.length),this[m]|this[m+1]<<8},u.prototype.readUInt16BE=function(m,h){return m>>>=0,h||N(m,2,this.length),this[m]<<8|this[m+1]},u.prototype.readUInt32LE=function(m,h){return m>>>=0,h||N(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},u.prototype.readUInt32BE=function(m,h){return m>>>=0,h||N(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},u.prototype.readIntLE=function(m,h,A){m>>>=0,h>>>=0,A||N(m,h,this.length);for(var k=this[m],L=1,I=0;++I<h&&(L*=256);)k+=this[m+I]*L;return k>=(L*=128)&&(k-=Math.pow(2,8*h)),k},u.prototype.readIntBE=function(m,h,A){m>>>=0,h>>>=0,A||N(m,h,this.length);for(var k=h,L=1,I=this[m+--k];k>0&&(L*=256);)I+=this[m+--k]*L;return I>=(L*=128)&&(I-=Math.pow(2,8*h)),I},u.prototype.readInt8=function(m,h){return m>>>=0,h||N(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},u.prototype.readInt16LE=function(m,h){m>>>=0,h||N(m,2,this.length);var A=this[m]|this[m+1]<<8;return 32768&A?4294901760|A:A},u.prototype.readInt16BE=function(m,h){m>>>=0,h||N(m,2,this.length);var A=this[m+1]|this[m]<<8;return 32768&A?4294901760|A:A},u.prototype.readInt32LE=function(m,h){return m>>>=0,h||N(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},u.prototype.readInt32BE=function(m,h){return m>>>=0,h||N(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},u.prototype.readFloatLE=function(m,h){return m>>>=0,h||N(m,4,this.length),i.read(this,m,!0,23,4)},u.prototype.readFloatBE=function(m,h){return m>>>=0,h||N(m,4,this.length),i.read(this,m,!1,23,4)},u.prototype.readDoubleLE=function(m,h){return m>>>=0,h||N(m,8,this.length),i.read(this,m,!0,52,8)},u.prototype.readDoubleBE=function(m,h){return m>>>=0,h||N(m,8,this.length),i.read(this,m,!1,52,8)},u.prototype.writeUIntLE=function(m,h,A,k){m=+m,h>>>=0,A>>>=0,k||U(this,m,h,A,Math.pow(2,8*A)-1,0);var L=1,I=0;for(this[h]=255&m;++I<A&&(L*=256);)this[h+I]=m/L&255;return h+A},u.prototype.writeUIntBE=function(m,h,A,k){m=+m,h>>>=0,A>>>=0,k||U(this,m,h,A,Math.pow(2,8*A)-1,0);var L=A-1,I=1;for(this[h+L]=255&m;--L>=0&&(I*=256);)this[h+L]=m/I&255;return h+A},u.prototype.writeUInt8=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,1,255,0),this[h]=255&m,h+1},u.prototype.writeUInt16LE=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,2,65535,0),this[h]=255&m,this[h+1]=m>>>8,h+2},u.prototype.writeUInt16BE=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,2,65535,0),this[h]=m>>>8,this[h+1]=255&m,h+2},u.prototype.writeUInt32LE=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,4,4294967295,0),this[h+3]=m>>>24,this[h+2]=m>>>16,this[h+1]=m>>>8,this[h]=255&m,h+4},u.prototype.writeUInt32BE=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,4,4294967295,0),this[h]=m>>>24,this[h+1]=m>>>16,this[h+2]=m>>>8,this[h+3]=255&m,h+4},u.prototype.writeIntLE=function(m,h,A,k){if(m=+m,h>>>=0,!k){var L=Math.pow(2,8*A-1);U(this,m,h,A,L-1,-L)}var I=0,T=1,F=0;for(this[h]=255&m;++I<A&&(T*=256);)m<0&&F===0&&this[h+I-1]!==0&&(F=1),this[h+I]=(m/T>>0)-F&255;return h+A},u.prototype.writeIntBE=function(m,h,A,k){if(m=+m,h>>>=0,!k){var L=Math.pow(2,8*A-1);U(this,m,h,A,L-1,-L)}var I=A-1,T=1,F=0;for(this[h+I]=255&m;--I>=0&&(T*=256);)m<0&&F===0&&this[h+I+1]!==0&&(F=1),this[h+I]=(m/T>>0)-F&255;return h+A},u.prototype.writeInt8=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,1,127,-128),m<0&&(m=255+m+1),this[h]=255&m,h+1},u.prototype.writeInt16LE=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,2,32767,-32768),this[h]=255&m,this[h+1]=m>>>8,h+2},u.prototype.writeInt16BE=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,2,32767,-32768),this[h]=m>>>8,this[h+1]=255&m,h+2},u.prototype.writeInt32LE=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,4,2147483647,-2147483648),this[h]=255&m,this[h+1]=m>>>8,this[h+2]=m>>>16,this[h+3]=m>>>24,h+4},u.prototype.writeInt32BE=function(m,h,A){return m=+m,h>>>=0,A||U(this,m,h,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[h]=m>>>24,this[h+1]=m>>>16,this[h+2]=m>>>8,this[h+3]=255&m,h+4},u.prototype.writeFloatLE=function(m,h,A){return Y(this,m,h,!0,A)},u.prototype.writeFloatBE=function(m,h,A){return Y(this,m,h,!1,A)},u.prototype.writeDoubleLE=function(m,h,A){return K(this,m,h,!0,A)},u.prototype.writeDoubleBE=function(m,h,A){return K(this,m,h,!1,A)},u.prototype.copy=function(m,h,A,k){if(!u.isBuffer(m))throw new TypeError("argument should be a Buffer");if(A||(A=0),k||k===0||(k=this.length),h>=m.length&&(h=m.length),h||(h=0),k>0&&k<A&&(k=A),k===A||m.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),m.length-h<k-A&&(k=m.length-h+A);var L=k-A;if(this===m&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(h,A,k);else if(this===m&&A<h&&h<k)for(var I=L-1;I>=0;--I)m[I+h]=this[I+A];else Uint8Array.prototype.set.call(m,this.subarray(A,k),h);return L},u.prototype.fill=function(m,h,A,k){if(typeof m=="string"){if(typeof h=="string"?(k=h,h=0,A=this.length):typeof A=="string"&&(k=A,A=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!u.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(m.length===1){var L=m.charCodeAt(0);(k==="utf8"&&L<128||k==="latin1")&&(m=L)}}else typeof m=="number"&&(m&=255);if(h<0||this.length<h||this.length<A)throw new RangeError("Out of range index");if(A<=h)return this;var I;if(h>>>=0,A=A===void 0?this.length:A>>>0,m||(m=0),typeof m=="number")for(I=h;I<A;++I)this[I]=m;else{var T=u.isBuffer(m)?m:u.from(m,k),F=T.length;if(F===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(I=0;I<A-h;++I)this[I+h]=T[I%F]}return this};var me=/[^+/0-9A-Za-z-_]/g;function Q(m){return m<16?"0"+m.toString(16):m.toString(16)}o(Q,"U");function le(m,h){var A;h=h||1/0;for(var k=m.length,L=null,I=[],T=0;T<k;++T){if((A=m.charCodeAt(T))>55295&&A<57344){if(!L){if(A>56319){(h-=3)>-1&&I.push(239,191,189);continue}if(T+1===k){(h-=3)>-1&&I.push(239,191,189);continue}L=A;continue}if(A<56320){(h-=3)>-1&&I.push(239,191,189),L=A;continue}A=65536+(L-55296<<10|A-56320)}else L&&(h-=3)>-1&&I.push(239,191,189);if(L=null,A<128){if((h-=1)<0)break;I.push(A)}else if(A<2048){if((h-=2)<0)break;I.push(A>>6|192,63&A|128)}else if(A<65536){if((h-=3)<0)break;I.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(A<1114112))throw new Error("Invalid code point");if((h-=4)<0)break;I.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return I}o(le,"_");function re(m){return s.toByteArray(function(h){if((h=(h=h.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;h.length%4!=0;)h+="=";return h}(m))}o(re,"I");function ie(m,h,A,k){for(var L=0;L<k&&!(L+A>=h.length||L>=m.length);++L)h[L+A]=m[L];return L}o(ie,"H");function ue(m,h){return m instanceof h||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===h.name}o(ue,"F");function $(m){return m!=m}o($,"P")}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(e,t,r){r.read=function(n,s,i,c,l){var u,f,x=8*l-c-1,g=(1<<x)-1,y=g>>1,E=-7,b=i?l-1:0,S=i?-1:1,w=n[s+b];for(b+=S,u=w&(1<<-E)-1,w>>=-E,E+=x;E>0;u=256*u+n[s+b],b+=S,E-=8);for(f=u&(1<<-E)-1,u>>=-E,E+=c;E>0;f=256*f+n[s+b],b+=S,E-=8);if(u===0)u=1-y;else{if(u===g)return f?NaN:1/0*(w?-1:1);f+=Math.pow(2,c),u-=y}return(w?-1:1)*f*Math.pow(2,u-c)},r.write=function(n,s,i,c,l,u){var f,x,g,y=8*u-l-1,E=(1<<y)-1,b=E>>1,S=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=c?0:u-1,v=c?1:-1,C=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(x=isNaN(s)?1:0,f=E):(f=Math.floor(Math.log(s)/Math.LN2),s*(g=Math.pow(2,-f))<1&&(f--,g*=2),(s+=f+b>=1?S/g:S*Math.pow(2,1-b))*g>=2&&(f++,g/=2),f+b>=E?(x=0,f=E):f+b>=1?(x=(s*g-1)*Math.pow(2,l),f+=b):(x=s*Math.pow(2,b-1)*Math.pow(2,l),f=0));l>=8;n[i+w]=255&x,w+=v,x/=256,l-=8);for(f=f<<l|x,y+=l;y>0;n[i+w]=255&f,w+=v,f/=256,y-=8);n[i+w-v]|=128*C}},{}],4:[function(e,t,r){(function(n){(function(){let s=this,i=e("./transformers"),c="UTF8",l="UTF16",u="UTF16BE",f="UTF16LE",x="UTF32",g="UTF32BE",y="UTF32LE",E="UINT7",b="ASCII",S="BINARY",w="UINT8",v="UINT16",C="UINT16LE",R="UINT16BE",B="UINT32",D="UINT32LE",M="UINT32BE",te="ESCAPED",W="STRING",J=o(function(oe,se){if(typeof oe!="string"||oe==="")throw new TypeError(`type: "${oe}" not recognized`);let V=function(H){let P={type:"",base64:!1},N=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(H);return N&&(N[2]&&(P.type=N[2].toUpperCase()),N[1]&&(P.base64=!0)),P}(oe.toUpperCase());if(V.base64){if(V.type===W)throw new TypeError(`type: "${oe} "BASE64:" prefix not allowed with type STRING`);if(n.isBuffer(se))V.data=i.base64.decode(se);else{if(typeof se!="string")throw new TypeError(`type: "${oe} unrecognized data type: typeof(data): ${typeof se}`);{let H=n.from(se,"ascii");V.data=i.base64.decode(H)}}}else V.data=se;switch(V.type){case c:(function(H){H.type=c;let P=H.data;H.bom=0,P.length>=3&&P[0]===239&&P[1]===187&&P[2]===191&&(H.bom=3)})(V);break;case l:case u:case f:(function(H){let P=H.data;switch(H.bom=0,H.type){case l:H.type=u,P.length>=2&&(P[0]===254&&P[1]===255?H.bom=2:P[0]===255&&P[1]===254&&(H.type=f,H.bom=2));break;case u:if(H.type=u,P.length>=2){if(P[0]===254&&P[1]===255)H.bom=2;else if(P[0]===255&&P[1]===254)throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"')}break;case f:if(H.type=f,P.length>=0){if(P[0]===254&&P[1]===255)throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');P[0]===255&&P[1]===254&&(H.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${H.type}" unrecognized`)}})(V);break;case x:case g:case y:(function(H){let P=H.data;switch(H.bom=0,H.type){case x:H.type=g,P.length>=4&&(P[0]===0&&P[1]===0&&P[2]===254&&P[3]===255&&(H.bom=4),P[0]===255&&P[1]===254&&P[2]===0&&P[3]===0&&(H.type=y,H.bom=4));break;case g:if(H.type=g,P.length>=4&&(P[0]===0&&P[1]===0&&P[2]===254&&P[3]===255&&(H.bom=4),P[0]===255&&P[1]===254&&P[2]===0&&P[3]===0))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case y:if(H.type=y,P.length>=4){if(P[0]===0&&P[1]===0&&P[2]===254&&P[3]===255)throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');P[0]===255&&P[1]===254&&P[2]===0&&P[3]===0&&(H.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${H.type}" unrecognized`)}})(V);break;case v:V.type=R;break;case B:V.type=M;break;case b:V.type=E;break;case S:V.type=w;break;case E:case w:case C:case R:case D:case M:case W:case te:break;default:throw new TypeError(`type: "${oe}" not recognized`)}if(V.type===W){if(typeof V.data!="string")throw new TypeError(`type: "${oe}" but data is not a string`)}else if(!n.isBuffer(V.data))throw new TypeError(`type: "${oe}" but data is not a Buffer`);return V},"S"),Se=o(function(oe,se){switch(oe){case c:return i.utf8.encode(se);case u:return i.utf16be.encode(se);case f:return i.utf16le.encode(se);case g:return i.utf32be.encode(se);case y:return i.utf32le.encode(se);case E:return i.uint7.encode(se);case w:return i.uint8.encode(se);case R:return i.uint16be.encode(se);case C:return i.uint16le.encode(se);case M:return i.uint32be.encode(se);case D:return i.uint32le.encode(se);case W:return i.string.encode(se);case te:return i.escaped.encode(se);default:throw new TypeError(`encode type "${oe}" not recognized`)}},"L");r.decode=function(oe,se){return function(V){switch(V.type){case c:return i.utf8.decode(V.data,V.bom);case f:return i.utf16le.decode(V.data,V.bom);case u:return i.utf16be.decode(V.data,V.bom);case g:return i.utf32be.decode(V.data,V.bom);case y:return i.utf32le.decode(V.data,V.bom);case E:return i.uint7.decode(V.data);case w:return i.uint8.decode(V.data);case R:return i.uint16be.decode(V.data);case C:return i.uint16le.decode(V.data);case M:return i.uint32be.decode(V.data);case D:return i.uint32le.decode(V.data);case W:return i.string.decode(V.data);case te:return i.escaped.decode(V.data);default:throw new TypeError(`decode type "${V.type}" not recognized`)}}(J(oe,se))},r.encode=function(oe,se){let V,H,P=function(N,U){if(!Array.isArray(U))throw new TypeError('dst chars: not array: "'+typeof U);if(typeof N!="string")throw new TypeError('dst type: not string: "'+typeof N);let O=function(Y){let K,me,Q={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(me=Y,K=Y.slice(0,5),K==="CRLF:"){Q.crlf=!0,me=Y.slice(5);break}if(K=Y.slice(0,3),K==="LF:"){Q.lf=!0,me=Y.slice(3);break}break}return K=me.split(":"),K.length===1?Q.type=K[0]:K.length===2&&K[1]==="BASE64"&&(Q.base64=!0,Q.type=K[0]),Q}(N.toUpperCase());switch(O.type){case c:case u:case f:case g:case y:case E:case w:case C:case R:case D:case M:case te:break;case W:if(O.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case b:O.type=E;break;case S:O.type=w;break;case l:O.type=u;break;case x:O.type=g;break;case v:O.type=R;break;case B:O.type=M;break;default:throw new TypeError(`dst type unrecognized: "${N}" : must have form [crlf:|lf:]type[:base64]`)}return O}(oe,se);return P.crlf?(V=i.lineEnds.crlf(se),H=Se(P.type,V)):P.lf?(V=i.lineEnds.lf(se),H=Se(P.type,V)):H=Se(P.type,se),P.base64&&(H=i.base64.encode(H)),H},r.convert=function(oe,se,V){return s.encode(V,s.decode(oe,se))}}).call(this)}).call(this,e("buffer").Buffer)},{"./transformers":6,buffer:2}],5:[function(e,t,r){t.exports={converter:e("./converter"),transformers:e("./transformers")}},{"./converter":4,"./transformers":6}],6:[function(e,t,r){(function(n){(function(){let s=this,i=4294967292,c=4294967293,l=4294967294,u=4294967295,f=[0,1,3,7,15,31,63,127,255,511,1023],x=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),y=[];g.forEach(b=>{y.push(b.charCodeAt(0))}),r.utf8={encode(b){let S=[];return b.forEach(w=>{if(w>=0&&w<=127)S.push(w);else if(w<=2047)S.push(192+(w>>6&f[5])),S.push(128+(w&f[6]));else if(w<55296||w>57343&&w<=65535)S.push(224+(w>>12&f[4])),S.push(128+(w>>6&f[6])),S.push(128+(w&f[6]));else{if(!(w>=65536&&w<=1114111))throw new RangeError(`utf8.encode: character out of range: char: ${w}`);{let v=w>>16&f[5];S.push(240+(v>>2)),S.push(128+((v&f[2])<<4)+(w>>12&f[4])),S.push(128+(w>>6&f[6])),S.push(128+(w&f[6]))}}}),n.from(S)},decode(b,S){function w(se,V){if((192&V)!=128)return c;let H=((se&f[5])<<6)+(V&f[6]);return H<128?i:H}o(w,"n");function v(se,V,H){if((192&H)!=128||(192&V)!=128)return c;let P=((se&f[4])<<12)+((V&f[6])<<6)+(H&f[6]);return P<2048?i:P>=55296&&P<=57343?l:P}o(v,"h");function C(se,V,H,P){if((192&P)!=128||(192&H)!=128||(192&V)!=128)return c;let N=(((se&f[3])<<2)+(V>>4&f[2])<<16)+((V&f[4])<<12)+((H&f[6])<<6)+(P&f[6]);return N<65536?i:N>1114111?l:N}o(C,"c");let R,B,D,M,te,W,J=b.length,Se=S?3:0,oe=[];for(;Se<J;){B=b[Se],R=u;let se=!0;for(;se;){if(B>=0&&B<=127){R=B,W=1;break}if(D=Se+1,D<J&&B>=194&&B<=223){R=w(B,b[D]),W=2;break}if(M=Se+2,M<J&&B>=224&&B<=239){R=v(B,b[D],b[M]),W=3;break}if(te=Se+3,te<J&&B>=240&&B<=244){R=C(B,b[D],b[M],b[te]),W=4;break}break}if(R>1114111){let V=`byte[${Se}]`;throw R===u?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${V}`):R===c?new RangeError(`utf8.decode: illegal trailing byte found at: ${V}`):R===l?new RangeError(`utf8.decode: code point out of range found at: ${V}`):R===i?new RangeError(`utf8.decode: non-shortest form found at: ${V}`):new RangeError(`utf8.decode: unrecognized error found at: ${V}`)}oe.push(R),Se+=W}return oe}},r.utf16be={encode(b){let S=[],w,v,C;for(let R=0;R<b.length;R+=1)if(w=b[R],w>=0&&w<=55295||w>=57344&&w<=65535)S.push(w>>8&f[8]),S.push(w&f[8]);else{if(!(w>=65536&&w<=1114111))throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${R}]: ${w}`);C=w-65536,v=55296+(C>>10),C=56320+(C&f[10]),S.push(v>>8&f[8]),S.push(v&f[8]),S.push(C>>8&f[8]),S.push(C&f[8])}return n.from(S)},decode(b,S){if(b.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${b.length}`);let w=[],v=b.length,C,R,B,D,M,te,W=S?2:0,J=0;for(;W<v;){for(;;){if(B=W+1,B<v){if(M=(b[W]<<8)+b[B],M<55296||M>57343){C=M,R=2;break}if(D=W+3,D<v&&(te=(b[W+2]<<8)+b[D],M<=56319&&te>=56320&&te<=57343)){C=65536+(M-55296<<10)+(te-56320),R=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${W}]`)}w[J++]=C,W+=R}return w}},r.utf16le={encode(b){let S=[],w,v,C;for(let R=0;R<b.length;R+=1)if(w=b[R],w>=0&&w<=55295||w>=57344&&w<=65535)S.push(w&f[8]),S.push(w>>8&f[8]);else{if(!(w>=65536&&w<=1114111))throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${R}]: ${w}`);C=w-65536,v=55296+(C>>10),C=56320+(C&f[10]),S.push(v&f[8]),S.push(v>>8&f[8]),S.push(C&f[8]),S.push(C>>8&f[8])}return n.from(S)},decode(b,S){if(b.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${b.length}`);let w=[],v=b.length,C,R,B,D,M,te,W=S?2:0,J=0;for(;W<v;){for(;;){if(B=W+1,B<v){if(M=(b[B]<<8)+b[W],M<55296||M>57343){C=M,R=2;break}if(D=W+3,D<v&&(te=(b[D]<<8)+b[W+2],M<=56319&&te>=56320&&te<=57343)){C=65536+(M-55296<<10)+(te-56320),R=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${W}]`)}w[J++]=C,W+=R}return w}},r.utf32be={encode(b){let S=n.alloc(4*b.length),w=0;return b.forEach(v=>{if(v>=55296&&v<=57343||v>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${w/4}]: ${v}`);S[w++]=v>>24&f[8],S[w++]=v>>16&f[8],S[w++]=v>>8&f[8],S[w++]=v&f[8]}),S},decode(b,S){if(b.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${b.length}`);let w=[],v=S?4:0;for(;v<b.length;v+=4){let C=(b[v]<<24)+(b[v+1]<<16)+(b[v+2]<<8)+b[v+3];if(C>=55296&&C<=57343||C>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${v/4}]: ${C}`);w.push(C)}return w}},r.utf32le={encode(b){let S=n.alloc(4*b.length),w=0;return b.forEach(v=>{if(v>=55296&&v<=57343||v>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${w/4}]: ${v}`);S[w++]=v&f[8],S[w++]=v>>8&f[8],S[w++]=v>>16&f[8],S[w++]=v>>24&f[8]}),S},decode(b,S){if(b.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${b.length}`);let w=[],v=S?4:0;for(;v<b.length;v+=4){let C=(b[v+3]<<24)+(b[v+2]<<16)+(b[v+1]<<8)+b[v];if(C>=55296&&C<=57343||C>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${v/4}]: ${C}`);w.push(C)}return w}},r.uint7={encode(b){let S=n.alloc(b.length);for(let w=0;w<b.length;w+=1){if(b[w]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${w}]: ${b[w]}`);S[w]=b[w]}return S},decode(b){let S=[];for(let w=0;w<b.length;w+=1){if(b[w]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${w}]: ${b[w]}`);S[w]=b[w]}return S}},r.uint8={encode(b){let S=n.alloc(b.length);for(let w=0;w<b.length;w+=1){if(b[w]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${w}]: ${b[w]}`);S[w]=b[w]}return S},decode(b){let S=[];for(let w=0;w<b.length;w+=1)S[w]=b[w];return S}},r.uint16be={encode(b){let S=n.alloc(2*b.length),w=0;return b.forEach(v=>{if(v>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${w/2}]: ${v}`);S[w++]=v>>8&f[8],S[w++]=v&f[8]}),S},decode(b){if(b.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${b.length}`);let S=[];for(let w=0;w<b.length;w+=2)S.push((b[w]<<8)+b[w+1]);return S}},r.uint16le={encode(b){let S=n.alloc(2*b.length),w=0;return b.forEach(v=>{if(v>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${w/2}]: ${v}`);S[w++]=v&f[8],S[w++]=v>>8&f[8]}),S},decode(b){if(b.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${b.length}`);let S=[];for(let w=0;w<b.length;w+=2)S.push((b[w+1]<<8)+b[w]);return S}},r.uint32be={encode(b){let S=n.alloc(4*b.length),w=0;return b.forEach(v=>{S[w++]=v>>24&f[8],S[w++]=v>>16&f[8],S[w++]=v>>8&f[8],S[w++]=v&f[8]}),S},decode(b){if(b.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${b.length}`);let S=[];for(let w=0;w<b.length;w+=4)S.push((b[w]<<24)+(b[w+1]<<16)+(b[w+2]<<8)+b[w+3]);return S}},r.uint32le={encode(b){let S=n.alloc(4*b.length),w=0;return b.forEach(v=>{S[w++]=v&f[8],S[w++]=v>>8&f[8],S[w++]=v>>16&f[8],S[w++]=v>>24&f[8]}),S},decode(b){if(b.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${b.length}`);let S=[];for(let w=0;w<b.length;w+=4)S.push((b[w+3]<<24)+(b[w+2]<<16)+(b[w+1]<<8)+b[w]);return S}},r.string={encode:o(b=>s.utf16le.encode(b).toString("utf16le"),"encode"),decode:o(b=>s.utf16le.decode(n.from(b,"utf16le"),0),"decode")},r.escaped={encode(b){let S=[];for(let w=0;w<b.length;w+=1){let v=b[w];if(v===96)S.push(v),S.push(v);else if(v===10)S.push(v);else if(v>=32&&v<=126)S.push(v);else{let C="";if(v>=0&&v<=31)C+=`\`x${x[v]}`;else if(v>=127&&v<=255)C+=`\`x${x[v]}`;else if(v>=256&&v<=65535)C+=`\`u${x[v>>8&f[8]]}${x[v&f[8]]}`;else{if(!(v>=65536&&v<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{C+="`u{";let R=v>>24&f[8];R>0&&(C+=x[R]),C+=`${x[v>>16&f[8]]+x[v>>8&f[8]]+x[v&f[8]]}}`}}n.from(C).forEach(R=>{S.push(R)})}}return n.from(S)},decode(b){function S(J){return J>=48&&J<=57||J>=65&&J<=70||J>=97&&J<=102}o(S,"t");function w(J,Se,oe){let se={char:null,nexti:J+2,error:!0};if(J+1<Se&&S(oe[J])&&S(oe[J+1])){let V=String.fromCodePoint(oe[J],oe[J+1]);se.char=parseInt(V,16),Number.isNaN(se.char)||(se.error=!1)}return se}o(w,"n");function v(J,Se,oe){let se={char:null,nexti:J+4,error:!0};if(J+3<Se&&S(oe[J])&&S(oe[J+1])&&S(oe[J+2])&&S(oe[J+3])){let V=String.fromCodePoint(oe[J],oe[J+1],oe[J+2],oe[J+3]);se.char=parseInt(V,16),Number.isNaN(se.char)||(se.error=!1)}return se}o(v,"r");function C(J,Se,oe){let se={char:null,nexti:J+4,error:!0},V="";for(;J<Se&&S(oe[J]);)V+=String.fromCodePoint(oe[J]),J+=1;return se.char=parseInt(V,16),oe[J]!==125||Number.isNaN(se.char)||(se.error=!1),se.nexti=J+1,se}o(C,"o");let R=[],B=b.length,D,M,te,W=0;for(;W<B;){for(;;){if(te=!0,b[W]!==96){R.push(b[W]),W+=1,te=!1;break}if(D=W+1,D>=B)break;if(b[D]===96){R.push(96),W+=2,te=!1;break}if(b[D]===120){if(M=w(D+1,B,b),M.error)break;R.push(M.char),W=M.nexti,te=!1;break}if(b[D]===117){if(b[D+1]===123){if(M=C(D+2,B,b),M.error)break;R.push(M.char),W=M.nexti,te=!1;break}if(M=v(D+1,B,b),M.error)break;R.push(M.char),W=M.nexti,te=!1;break}break}if(te)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${W}]`)}return R}};let E=10;r.lineEnds={crlf(b){let S=[],w=0;for(;w<b.length;)switch(b[w]){case 13:w+1<b.length&&b[w+1]===E?w+=2:w+=1,S.push(13),S.push(E);break;case E:S.push(13),S.push(E),w+=1;break;default:S.push(b[w]),w+=1}return S.length>0&&S[S.length-1]!==E&&(S.push(13),S.push(E)),S},lf(b){let S=[],w=0;for(;w<b.length;)switch(b[w]){case 13:w+1<b.length&&b[w+1]===E?w+=2:w+=1,S.push(E);break;case E:S.push(E),w+=1;break;default:S.push(b[w]),w+=1}return S.length>0&&S[S.length-1]!==E&&S.push(E),S}},r.base64={encode(b){if(b.length===0)return n.alloc(0);let S,w,v,C=b.length%3;C=C>0?3-C:0;let R=(b.length+C)/3,B=n.alloc(4*R);C>0&&(R-=1),S=0,w=0;for(let D=0;D<R;D+=1)v=b[S++]<<16,v+=b[S++]<<8,v+=b[S++],B[w++]=y[v>>18&f[6]],B[w++]=y[v>>12&f[6]],B[w++]=y[v>>6&f[6]],B[w++]=y[v&f[6]];return C===0?B:C===1?(v=b[S++]<<16,v+=b[S]<<8,B[w++]=y[v>>18&f[6]],B[w++]=y[v>>12&f[6]],B[w++]=y[v>>6&f[6]],B[w]=y[64],B):C===2?(v=b[S]<<16,B[w++]=y[v>>18&f[6]],B[w++]=y[v>>12&f[6]],B[w++]=y[64],B[w]=y[64],B):void 0},decode(b){if(b.length===0)return n.alloc(0);let S=function(te){let W=[],J=0;for(let Se=0;Se<te.length;Se+=1){let oe=te[Se],se=!0;for(;se&&oe!==32&&oe!==9&&oe!==10&&oe!==13;){if(oe>=65&&oe<=90){W.push(oe-65);break}if(oe>=97&&oe<=122){W.push(oe-71);break}if(oe>=48&&oe<=57){W.push(oe+4);break}if(oe===43){W.push(62);break}if(oe===47){W.push(63);break}if(oe===61){W.push(64),J+=1;break}throw new RangeError(`base64.decode: invalid character buf[${Se}]: ${oe}`)}}if(W.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${W.length}`);switch(J){case 0:break;case 1:if(W[W.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(W[W.length-1]!==64||W[W.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${J}`)}return{tail:J,buf:n.from(W)}}(b),{tail:w}=S,v=S.buf,C,R,B,D=v.length/4,M=n.alloc(3*D-w);w>0&&(D-=1),R=0,C=0;for(let te=0;te<D;te+=1)B=v[C++]<<18,B+=v[C++]<<12,B+=v[C++]<<6,B+=v[C++],M[R++]=B>>16&f[8],M[R++]=B>>8&f[8],M[R++]=B&f[8];return w===1&&(B=v[C++]<<18,B+=v[C++]<<12,B+=v[C]<<6,M[R++]=B>>16&f[8],M[R]=B>>8&f[8]),w===2&&(B=v[C++]<<18,B+=v[C++]<<12,M[R]=B>>16&f[8]),M},toString(b){if(b.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${b.length}`);let S="",w=0;function v(R,B,D,M){switch(w){case 76:S+=`\r
${R}${B}${D}${M}`,w=4;break;case 75:S+=`${R}\r
${B}${D}${M}`,w=3;break;case 74:S+=`${R+B}\r
${D}${M}`,w=2;break;case 73:S+=`${R+B+D}\r
${M}`,w=1;break;default:S+=R+B+D+M,w+=4}}o(v,"r");for(let R=0;R<b.length;R+=4){for(let B=R;B<R+4;B+=1)if(!((C=b[B])>=65&&C<=90||C>=97&&C<=122||C>=48&&C<=57||C===43||C===47||C===61))throw new RangeError(`base64.toString: buf[${B}]: ${b[B]} : not valid base64 character code`);v(String.fromCharCode(b[R]),String.fromCharCode(b[R+1]),String.fromCharCode(b[R+2]),String.fromCharCode(b[R+3]))}var C;return S}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:2}],7:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),i=this,c=null,l=null,u=null,f=0,x=[],g=[],y=[],E=[];function b(S){let w="";for(let v=0;v<S;v+=1)w+=" ";return w}o(b,"u"),this.callbacks=[],this.astObject="astObject",this.init=function(S,w,v){let C;y.length=0,E.length=0,x.length=0,f=0,c=S,l=w,u=v;let R=[];for(C=0;C<c.length;C+=1)R.push(c[C].lower);for(C=0;C<l.length;C+=1)R.push(l[C].lower);for(f=c.length+l.length,C=0;C<f;C+=1)x[C]=!1,g[C]=null;for(let B in i.callbacks){let D=B.toLowerCase();if(C=R.indexOf(D),C<0)throw new Error(`ast.js: init: node '${B}' not a rule or udt name`);typeof i.callbacks[B]=="function"&&(x[C]=!0,g[C]=i.callbacks[B]),i.callbacks[B]===!0&&(x[C]=!0)}},this.ruleDefined=function(S){return x[S]!==!1},this.udtDefined=function(S){return x[c.length+S]!==!1},this.down=function(S,w){let v=E.length;return y.push(v),E.push({name:w,thisIndex:v,thatIndex:null,state:n.SEM_PRE,callbackIndex:S,phraseIndex:null,phraseLength:null,stack:y.length}),v},this.up=function(S,w,v,C){let R=E.length,B=y.pop();return E.push({name:w,thisIndex:R,thatIndex:B,state:n.SEM_POST,callbackIndex:S,phraseIndex:v,phraseLength:C,stack:y.length}),E[B].thatIndex=R,E[B].phraseIndex=v,E[B].phraseLength=C,R},this.translate=function(S){let w,v,C;for(let R=0;R<E.length;R+=1)C=E[R],v=g[C.callbackIndex],C.state===n.SEM_PRE?v!==null&&(w=v(n.SEM_PRE,u,C.phraseIndex,C.phraseLength,S),w===n.SEM_SKIP&&(R=C.thatIndex)):v!==null&&v(n.SEM_POST,u,C.phraseIndex,C.phraseLength,S)},this.setLength=function(S){E.length=S,y.length=S>0?E[S-1].stack:0},this.getLength=function(){return E.length},this.toXml=function(S){let w=s.charsToDec,v="decimal integer character codes";if(typeof S=="string"&&S.length>=3){let B=S.slice(0,3).toLowerCase();B==="asc"?(w=s.charsToAscii,v="ASCII for printing characters, hex for non-printing"):B==="hex"?(w=s.charsToHex,v="hexadecimal integer character codes"):B==="uni"&&(w=s.charsToUnicode,v="Unicode UTF-32 integer character codes")}let C="",R=0;return C+=`<?xml version="1.0" encoding="utf-8"?>
`,C+=`<root nodes="${E.length/2}" characters="${u.length}">
`,C+=`<!-- input string, ${v} -->
`,C+=b(R+2),C+=w(u),C+=`
`,E.forEach(B=>{B.state===n.SEM_PRE?(R+=1,C+=b(R),C+=`<node name="${B.name}" index="${B.phraseIndex}" length="${B.phraseLength}">
`,C+=b(R+2),C+=w(u,B.phraseIndex,B.phraseLength),C+=`
`):(C+=b(R),C+=`</node><!-- name="${B.name}" -->
`,R-=1)}),C+=`</root>
`,C},this.phrases=function(){let S={},w,v;for(w=0;w<E.length;w+=1)v=E[w],v.state===n.SEM_PRE&&(Array.isArray(S[v.name])||(S[v.name]=[]),S[v.name].push({index:v.phraseIndex,length:v.phraseLength}));return S}}},{"./identifiers":10,"./utilities":16}],8:[function(e,t,r){t.exports=function(){let n=-1,s=0;this.init=function(i){if(typeof i!="number"||i<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");s=Math.ceil(i),n=-1},this.increment=function(){return n+=1,(n+s)%s},this.maxSize=function(){return s},this.items=function(){return n+1},this.getListIndex=function(i){return n===-1||i<0||i>n||n-i>=s?-1:(i+s)%s},this.forEach=function(i){if(n!==-1)if(n<s)for(let c=0;c<=n;c+=1)i(c,c);else for(let c=n-s+1;c<=n;c+=1)i((c+s)%s,c)}}},{}],9:[function(e,t,r){t.exports=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`}},{}],10:[function(e,t,r){t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],11:[function(e,t,r){t.exports={ast:e("./ast"),circular:e("./circular-buffer"),ids:e("./identifiers"),parser:e("./parser"),stats:e("./stats"),trace:e("./trace"),utils:e("./utilities"),emitcss:e("./emitcss"),style:e("./style")}},{"./ast":7,"./circular-buffer":8,"./emitcss":9,"./identifiers":10,"./parser":12,"./stats":13,"./style":14,"./trace":15,"./utilities":16}],12:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),i=this,c;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let l,u,f,x,g=null,y=null,E=0,b=0,S=0,w=null,v=null,C=null,R=null,B=null,D=0,M=1/0,te=1/0,W=o(function($,m,h){let A="parser.js: evaluateRule(): ";if($>=C.length)throw new Error(`${A}rule index: ${$} out of range`);if(m>=f)throw new Error(`${A}phrase index: ${m} out of range`);let{length:k}=g;g.push({type:n.RNM,index:$}),c(k,m,h),g.pop()},"y"),J=o(function($,m,h){let A="parser.js: evaluateUdt(): ";if($>=R.length)throw new Error(`${A}udt index: ${$} out of range`);if(m>=f)throw new Error(`${A}phrase index: ${m} out of range`);let{length:k}=g;g.push({type:n.UDT,empty:R[$].empty,index:$}),c(k,m,h),g.pop()},"C"),Se=o(function(){E=0,b=0,S=0,D=0,x=[{lookAround:n.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],C=null,R=null,y=null,l=0,u=0,f=0,w=null,v=null,B=null,g=null},"S"),oe=o(function(){let $=[];this.push=function(){$.push(function(){let m=$[$.length-1],h={};for(let A in m)h[A]=m[A];return h}())},this.pop=function(m){let h=m;if(h||(h=$.length-1),h<1||h>$.length)throw new Error(`parser.js: backRef.pop(): bad length: ${h}`);return $.length=h,$[$.length-1]},this.length=function(){return $.length},this.savePhrase=function(m,h,A){$[$.length-1][m]={phraseIndex:h,phraseLength:A}},this.getPhrase=function(m){return $[$.length-1][m]},function(){let m={};C.forEach(h=>{h.isBkr&&(m[h.lower]=null)}),R.length>0&&R.forEach(h=>{h.isBkr&&(m[h.lower]=null)}),$.push(m)}()},"L"),se=o(function(){let $=this;this.state=n.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=x[x.length-1],this.uFrame=new oe,this.pFrame=new oe,this.evaluateRule=W,this.evaluateUdt=J,this.refresh=function(){$.state=n.ACTIVE,$.phraseLength=0,$.lookAround=x[x.length-1]}},"M"),V=o(function(){return x[x.length-1]},"$"),H=o(function(){return x.length>1},"k"),P=o(function($,m,h){let A="parser.js: initializeInputChars(): ",k=$,L=m,I=h;if(k===void 0)throw new Error(`${A}input string is undefined`);if(k===null)throw new Error(`${A}input string is null`);if(typeof k=="string")k=s.stringToChars(k);else if(!Array.isArray(k))throw new Error(`${A}input string is not a string or array`);if(k.length>0&&typeof k[0]!="number")throw new Error(`${A}input string not an array of integers`);if(typeof L!="number")L=0;else if(L=Math.floor(L),L<0||L>k.length)throw new Error(`${A}input beginning index out of range: ${L}`);if(typeof I!="number")I=k.length-L;else if(I=Math.floor(I),I<0||I>k.length-L)throw new Error(`${A}input length out of range: ${I}`);y=k,l=L,u=I,f=l+u},"x");this.setMaxTreeDepth=function($){if(typeof $!="number")throw new Error(`parser: max tree depth must be integer > 0: ${$}`);if(M=Math.floor($),M<=0)throw new Error(`parser: max tree depth must be integer > 0: ${$}`)},this.setMaxNodeHits=function($){if(typeof $!="number")throw new Error(`parser: max node hits must be integer > 0: ${$}`);if(te=Math.floor($),te<=0)throw new Error(`parser: max node hits must be integer > 0: ${$}`)};let N=o(function($,m,h){let A;(function(I){let T="parser.js: initializeGrammar(): ";if(!I)throw new Error(`${T}grammar object undefined`);if(I.grammarObject!=="grammarObject")throw new Error(`${T}bad grammar object`);C=I.rules,R=I.udts})($);let k=function(I){let T="parser.js: initializeStartRule(): ",F=null;if(typeof I=="number"){if(I>=C.length)throw new Error(`${T}start rule index too large: max: ${C.length}: index: ${I}`);F=I}else{if(typeof I!="string")throw new Error(`${T}type of start rule '${typeof I}' not recognized`);{let Z=I.toLowerCase();for(let G=0;G<C.length;G+=1)if(Z===C[G].lower){F=C[G].index;break}if(F===null)throw new Error(`${T}start rule name '${I}' not recognized`)}}return F}(m);(function(){let I="parser.js: initializeCallbacks(): ",T,F;for(w=[],v=[],T=0;T<C.length;T+=1)w[T]=null;for(T=0;T<R.length;T+=1)v[T]=null;let Z=[];for(T=0;T<C.length;T+=1)Z.push(C[T].lower);for(T=0;T<R.length;T+=1)Z.push(R[T].lower);for(let G in i.callbacks){if(T=Z.indexOf(G.toLowerCase()),T<0)throw new Error(`${I}syntax callback '${G}' not a rule or udt name`);if(F=i.callbacks[G],F||(F=null),typeof F!="function"&&F!==null)throw new Error(`${I}syntax callback[${G}] must be function reference or 'false' (false/null/undefined/etc.)`);T<C.length?w[T]=F:v[T-C.length]=F}for(T=0;T<R.length;T+=1)if(v[T]===null)throw new Error(`${I}all UDT callbacks must be defined. UDT callback[${R[T].lower}] not a function reference`)})(),function(){for(;;){if(i.trace===void 0){i.trace=null;break}if(i.trace===null)break;if(i.trace.traceObject!=="traceObject")throw new Error("parser.js: initializeTrace(): trace object not recognized");break}i.trace!==null&&i.trace.init(C,R,y)}(),function(){for(;;){if(i.stats===void 0){i.stats=null;break}if(i.stats===null)break;if(i.stats.statsObject!=="statsObject")throw new Error("parser.js: initializeStats(): stats object not recognized");break}i.stats!==null&&i.stats.init(C,R)}(),function(){for(;;){if(i.ast===void 0){i.ast=null;break}if(i.ast===null)break;if(i.ast.astObject!=="astObject")throw new Error("parser.js: initializeAst(): ast object not recognized");break}i.ast!==null&&i.ast.init(C,R,y)}();let L=new se;switch(h!=null&&(B=h),g=[{type:n.RNM,index:k}],c(0,l,L),g=null,L.state){case n.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case n.NOMATCH:A=!1;break;case n.EMPTY:case n.MATCH:A=L.phraseLength===u;break;default:throw new Error("unrecognized state")}return{success:A,state:L.state,length:u,matched:L.phraseLength,maxMatched:D,maxTreeDepth:b,nodeHits:S,inputLength:y.length,subBegin:l,subEnd:f,subLength:u}},"B");this.parseSubstring=function($,m,h,A,k,L){return Se(),P(h,A,k),N($,m,L)},this.parse=function($,m,h,A){return Se(),P(h,0,h.length),N($,m,A)};let U=o(function($,m,h){let A=g[$];for(let k=0;k<A.children.length&&(c(A.children[k],m,h),h.state===n.NOMATCH);k+=1);},"N"),O=o(function($,m,h,A){if(m.phraseLength>h){let k=`parser.js: opRNM(${$.name}): callback function error: `;throw k+=`sysData.phraseLength: ${m.phraseLength}`,k+=` must be <= remaining chars: ${h}`,new Error(k)}switch(m.state){case n.ACTIVE:if(A!==!0)throw new Error(`parser.js: opRNM(${$.name}): callback function return error. ACTIVE state not allowed.`);break;case n.EMPTY:m.phraseLength=0;break;case n.MATCH:m.phraseLength===0&&(m.state=n.EMPTY);break;case n.NOMATCH:m.phraseLength=0;break;default:throw new Error(`parser.js: opRNM(${$.name}): callback function return error. Unrecognized return state: ${m.state}`)}},"R"),Y=o(function($,m,h){let A,k,L,I,T,F,Z=g[$],G=C[Z.index],ne=w[G.index],Ee=!H();if(Ee&&(k=i.ast&&i.ast.ruleDefined(Z.index),k&&(A=i.ast.getLength(),i.ast.down(Z.index,C[Z.index].name)),I=h.uFrame.length(),T=h.pFrame.length(),h.uFrame.push(),h.pFrame.push(),F=h.pFrame,h.pFrame=new oe),ne===null)L=g,g=G.opcodes,c(0,m,h),g=L;else{let Te=f-m;h.ruleIndex=G.index,ne(h,y,m,B),O(G,h,Te,!0),h.state===n.ACTIVE&&(L=g,g=G.opcodes,c(0,m,h),g=L,h.ruleIndex=G.index,ne(h,y,m,B),O(G,h,Te,!1))}Ee&&(k&&(h.state===n.NOMATCH?i.ast.setLength(A):i.ast.up(Z.index,G.name,m,h.phraseLength)),h.pFrame=F,h.state===n.NOMATCH?(h.uFrame.pop(I),h.pFrame.pop(T)):G.isBkr&&(h.pFrame.savePhrase(G.lower,m,h.phraseLength),h.uFrame.savePhrase(G.lower,m,h.phraseLength)))},"v"),K=o(function($,m,h){let A,k,L,I,T,F,Z=g[$],G=R[Z.index];h.UdtIndex=G.index;let ne=!H();ne&&(L=i.ast&&i.ast.udtDefined(Z.index),L&&(k=C.length+Z.index,A=i.ast.getLength(),i.ast.down(k,G.name)),I=h.uFrame.length(),T=h.pFrame.length(),h.uFrame.push(),h.pFrame.push(),F=h.pFrame,h.pFrame=new oe);let Ee=f-m;v[Z.index](h,y,m,B),function(Te,Me,Fe){if(Me.phraseLength>Fe){let Ve=`parser.js: opUDT(${Te.name}): callback function error: `;throw Ve+=`sysData.phraseLength: ${Me.phraseLength}`,Ve+=` must be <= remaining chars: ${Fe}`,new Error(Ve)}switch(Me.state){case n.ACTIVE:throw new Error(`parser.js: opUDT(${Te.name}): callback function return error. ACTIVE state not allowed.`);case n.EMPTY:if(Te.empty===!1)throw new Error(`parser.js: opUDT(${Te.name}): callback function return error. May not return EMPTY.`);Me.phraseLength=0;break;case n.MATCH:if(Me.phraseLength===0){if(Te.empty===!1)throw new Error(`parser.js: opUDT(${Te.name}): callback function return error. May not return EMPTY.`);Me.state=n.EMPTY}break;case n.NOMATCH:Me.phraseLength=0;break;default:throw new Error(`parser.js: opUDT(${Te.name}): callback function return error. Unrecognized return state: ${Me.state}`)}}(G,h,Ee),ne&&(L&&(h.state===n.NOMATCH?i.ast.setLength(A):i.ast.up(k,G.name,m,h.phraseLength)),h.pFrame=F,h.state===n.NOMATCH?(h.uFrame.pop(I),h.pFrame.pop(T)):G.isBkr&&(h.pFrame.savePhrase(G.lower,m,h.phraseLength),h.uFrame.savePhrase(G.lower,m,h.phraseLength)))},"O"),me=o(function($,m,h){x.push({lookAround:n.LOOKAROUND_AHEAD,anchor:m,charsEnd:f,charsLength:u}),f=y.length,u=y.length-l,c($+1,m,h);let A=x.pop();switch(f=A.charsEnd,u=A.charsLength,h.phraseLength=0,h.state){case n.EMPTY:case n.MATCH:h.state=n.EMPTY;break;case n.NOMATCH:h.state=n.NOMATCH;break;default:throw new Error(`opAND: invalid state ${h.state}`)}},"D"),Q=o(function($,m,h){x.push({lookAround:n.LOOKAROUND_AHEAD,anchor:m,charsEnd:f,charsLength:u}),f=y.length,u=y.length-l,c($+1,m,h);let A=x.pop();switch(f=A.charsEnd,u=A.charsLength,h.phraseLength=0,h.state){case n.EMPTY:case n.MATCH:h.state=n.NOMATCH;break;case n.NOMATCH:h.state=n.EMPTY;break;default:throw new Error(`opNOT: invalid state ${h.state}`)}},"U"),le=o(function($,m,h){h.state=n.NOMATCH,h.phraseLength=0,h.state=m===0?n.EMPTY:n.NOMATCH},"_"),re=o(function($,m,h){h.state=n.NOMATCH,h.phraseLength=0,h.state=m===y.length?n.EMPTY:n.NOMATCH},"I"),ie=o(function($,m,h){switch(x.push({lookAround:n.LOOKAROUND_BEHIND,anchor:m}),c($+1,m,h),x.pop(),h.phraseLength=0,h.state){case n.EMPTY:case n.MATCH:h.state=n.EMPTY;break;case n.NOMATCH:h.state=n.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${h.state}`)}},"H"),ue=o(function($,m,h){switch(x.push({lookAround:n.LOOKAROUND_BEHIND,anchor:m}),c($+1,m,h),x.pop(),h.phraseLength=0,h.state){case n.EMPTY:case n.MATCH:h.state=n.NOMATCH;break;case n.NOMATCH:h.state=n.EMPTY;break;default:throw new Error(`opBKN: invalid state ${h.state}`)}},"F");c=o(function($,m,h){let A=!0,k=g[$];if(S+=1,S>te)throw new Error(`parser: maximum number of node hits exceeded: ${te}`);if(E+=1,E>b&&(b=E,b>M))throw new Error(`parser: maximum parse tree depth exceeded: ${M}`);if(h.refresh(),i.trace!==null){let L=V();i.trace.down(k,h.state,m,h.phraseLength,L.anchor,L.lookAround)}if(x[x.length-1].lookAround===n.LOOKAROUND_BEHIND)switch(k.type){case n.ALT:U($,m,h);break;case n.CAT:(function(L,I,T){let F,Z,G,ne,Ee=g[L],Te=T.uFrame.length(),Me=T.pFrame.length();i.ast&&(Z=i.ast.getLength()),F=!0,G=I,ne=0;for(let Fe=Ee.children.length-1;Fe>=0;Fe-=1)if(c(Ee.children[Fe],G,T),G-=T.phraseLength,ne+=T.phraseLength,T.state===n.NOMATCH){F=!1;break}F?(T.state=ne===0?n.EMPTY:n.MATCH,T.phraseLength=ne):(T.state=n.NOMATCH,T.phraseLength=0,T.uFrame.pop(Te),T.pFrame.pop(Me),i.ast&&i.ast.setLength(Z))})($,m,h);break;case n.REP:(function(L,I,T){let F,Z,G,ne,Ee=g[L];Z=I,G=0,ne=0;let Te=T.uFrame.length(),Me=T.pFrame.length();for(i.ast&&(F=i.ast.getLength());!(Z<=0)&&(c(L+1,Z,T),T.state!==n.NOMATCH)&&T.state!==n.EMPTY&&(ne+=1,G+=T.phraseLength,Z-=T.phraseLength,ne!==Ee.max););T.state===n.EMPTY||ne>=Ee.min?(T.state=G===0?n.EMPTY:n.MATCH,T.phraseLength=G):(T.state=n.NOMATCH,T.phraseLength=0,T.uFrame.pop(Te),T.pFrame.pop(Me),i.ast&&i.ast.setLength(F))})($,m,h);break;case n.RNM:Y($,m,h);break;case n.UDT:K($,m,h);break;case n.AND:me($,m,h);break;case n.NOT:Q($,m,h);break;case n.TRG:(function(L,I,T){let F=g[L];if(T.state=n.NOMATCH,T.phraseLength=0,I>0){let Z=y[I-1];F.min<=Z&&Z<=F.max&&(T.state=n.MATCH,T.phraseLength=1)}})($,m,h);break;case n.TBS:(function(L,I,T){let F,Z=g[L];T.state=n.NOMATCH;let G=Z.string.length,ne=I-G;if(ne>=0){for(F=0;F<G;F+=1)if(y[ne+F]!==Z.string[F])return;T.state=n.MATCH,T.phraseLength=G}})($,m,h);break;case n.TLS:(function(L,I,T){let F,Z=g[L];T.state=n.NOMATCH;let G=Z.string.length;if(G===0)return void(T.state=n.EMPTY);let ne=I-G;if(ne>=0){for(let Ee=0;Ee<G;Ee+=1)if(F=y[ne+Ee],F>=65&&F<=90&&(F+=32),F!==Z.string[Ee])return;T.state=n.MATCH,T.phraseLength=G}})($,m,h);break;case n.BKR:(function(L,I,T){let F,Z,G,ne,Ee=g[L];T.state=n.NOMATCH,T.phraseLength=0,ne=Ee.index<C.length?C[Ee.index].lower:R[Ee.index-C.length].lower;let Te=Ee.bkrMode===n.BKR_MODE_PM?T.pFrame.getPhrase(ne):T.uFrame.getPhrase(ne),Me=Ee.bkrCase===n.BKR_MODE_CI;if(Te===null)return;let Fe=Te.phraseIndex,Ve=Te.phraseLength;if(Ve===0)return T.state=n.EMPTY,void(T.phraseLength=0);let Lr=I-Ve;if(Lr>=0){if(Me){for(F=0;F<Ve;F+=1)if(Z=y[Lr+F],G=y[Fe+F],Z>=65&&Z<=90&&(Z+=32),G>=65&&G<=90&&(G+=32),Z!==G)return;T.state=n.MATCH,T.phraseLength=Ve}else for(F=0;F<Ve;F+=1)if(Z=y[Lr+F],G=y[Fe+F],Z!==G)return;T.state=n.MATCH,T.phraseLength=Ve}})($,m,h);break;case n.BKA:ie($,m,h);break;case n.BKN:ue($,m,h);break;case n.ABG:le(0,m,h);break;case n.AEN:re(0,m,h);break;default:A=!1}else switch(k.type){case n.ALT:U($,m,h);break;case n.CAT:(function(L,I,T){let F,Z,G,ne,Ee=g[L],Te=T.uFrame.length(),Me=T.pFrame.length();i.ast&&(Z=i.ast.getLength()),F=!0,G=I,ne=0;for(let Fe=0;Fe<Ee.children.length;Fe+=1){if(c(Ee.children[Fe],G,T),T.state===n.NOMATCH){F=!1;break}G+=T.phraseLength,ne+=T.phraseLength}F?(T.state=ne===0?n.EMPTY:n.MATCH,T.phraseLength=ne):(T.state=n.NOMATCH,T.phraseLength=0,T.uFrame.pop(Te),T.pFrame.pop(Me),i.ast&&i.ast.setLength(Z))})($,m,h);break;case n.REP:(function(L,I,T){let F,Z,G,ne,Ee=g[L];Z=I,G=0,ne=0;let Te=T.uFrame.length(),Me=T.pFrame.length();for(i.ast&&(F=i.ast.getLength());!(Z>=f)&&(c(L+1,Z,T),T.state!==n.NOMATCH)&&T.state!==n.EMPTY&&(ne+=1,G+=T.phraseLength,Z+=T.phraseLength,ne!==Ee.max););T.state===n.EMPTY||ne>=Ee.min?(T.state=G===0?n.EMPTY:n.MATCH,T.phraseLength=G):(T.state=n.NOMATCH,T.phraseLength=0,T.uFrame.pop(Te),T.pFrame.pop(Me),i.ast&&i.ast.setLength(F))})($,m,h);break;case n.RNM:Y($,m,h);break;case n.UDT:K($,m,h);break;case n.AND:me($,m,h);break;case n.NOT:Q($,m,h);break;case n.TRG:(function(L,I,T){let F=g[L];T.state=n.NOMATCH,I<f&&F.min<=y[I]&&y[I]<=F.max&&(T.state=n.MATCH,T.phraseLength=1)})($,m,h);break;case n.TBS:(function(L,I,T){let F,Z=g[L],G=Z.string.length;if(T.state=n.NOMATCH,I+G<=f){for(F=0;F<G;F+=1)if(y[I+F]!==Z.string[F])return;T.state=n.MATCH,T.phraseLength=G}})($,m,h);break;case n.TLS:(function(L,I,T){let F,Z,G=g[L];T.state=n.NOMATCH;let ne=G.string.length;if(ne!==0){if(I+ne<=f){for(F=0;F<ne;F+=1)if(Z=y[I+F],Z>=65&&Z<=90&&(Z+=32),Z!==G.string[F])return;T.state=n.MATCH,T.phraseLength=ne}}else T.state=n.EMPTY})($,m,h);break;case n.BKR:(function(L,I,T){let F,Z,G,ne,Ee=g[L];T.state=n.NOMATCH,ne=Ee.index<C.length?C[Ee.index].lower:R[Ee.index-C.length].lower;let Te=Ee.bkrMode===n.BKR_MODE_PM?T.pFrame.getPhrase(ne):T.uFrame.getPhrase(ne),Me=Ee.bkrCase===n.BKR_MODE_CI;if(Te===null)return;let Fe=Te.phraseIndex,Ve=Te.phraseLength;if(Ve!==0){if(I+Ve<=f){if(Me){for(F=0;F<Ve;F+=1)if(Z=y[I+F],G=y[Fe+F],Z>=65&&Z<=90&&(Z+=32),G>=65&&G<=90&&(G+=32),Z!==G)return;T.state=n.MATCH,T.phraseLength=Ve}else for(F=0;F<Ve;F+=1)if(Z=y[I+F],G=y[Fe+F],Z!==G)return;T.state=n.MATCH,T.phraseLength=Ve}}else T.state=n.EMPTY})($,m,h);break;case n.BKA:ie($,m,h);break;case n.BKN:ue($,m,h);break;case n.ABG:le(0,m,h);break;case n.AEN:re(0,m,h);break;default:A=!1}if(!H()&&m+h.phraseLength>D&&(D=m+h.phraseLength),i.stats!==null&&i.stats.collect(k,h),i.trace!==null){let L=V();i.trace.up(k,h.state,m,h.phraseLength,L.anchor,L.lookAround)}return E-=1,A},"o")}},{"./identifiers":10,"./utilities":16}],13:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),i=e("./style"),c=[],l=[],u=[],f,x=[],g=[];this.statsObject="statsObject";let y=o(function(B,D){return B.lower<D.lower?-1:B.lower>D.lower?1:0},"l"),E=o(function(B,D){return B.total<D.total?1:B.total>D.total?-1:y(B,D)},"f"),b=o(function(B,D){return B.index<D.index?-1:B.index>D.index?1:0},"u"),S=o(function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},"p"),w=o(function(B,D){switch(B.total+=1,D){case n.EMPTY:B.empty+=1;break;case n.MATCH:B.match+=1;break;case n.NOMATCH:B.nomatch+=1;break;default:throw new Error(`stats.js: collect(): incStat(): unrecognized state: ${D}`)}},"d"),v=o(function(B,D){let M="";return M+="<tr>",M+=`<td class="${i.CLASS_ACTIVE}">${B}</td>`,M+=`<td class="${i.CLASS_EMPTY}">${D.empty}</td>`,M+=`<td class="${i.CLASS_MATCH}">${D.match}</td>`,M+=`<td class="${i.CLASS_NOMATCH}">${D.nomatch}</td>`,M+=`<td class="${i.CLASS_ACTIVE}">${D.total}</td>`,M+=`</tr>
`,M},"g"),C=o(function(){let B="";return B+=v("ALT",u[n.ALT]),B+=v("CAT",u[n.CAT]),B+=v("REP",u[n.REP]),B+=v("RNM",u[n.RNM]),B+=v("TRG",u[n.TRG]),B+=v("TBS",u[n.TBS]),B+=v("TLS",u[n.TLS]),B+=v("UDT",u[n.UDT]),B+=v("AND",u[n.AND]),B+=v("NOT",u[n.NOT]),B+=v("BKR",u[n.BKR]),B+=v("BKA",u[n.BKA]),B+=v("BKN",u[n.BKN]),B+=v("ABG",u[n.ABG]),B+=v("AEN",u[n.AEN]),B+=v("totals",f),B},"b"),R=o(function(){let B="";B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let D=0;D<c.length;D+=1)x[D].total>0&&(B+="<tr>",B+=`<td class="${i.CLASS_ACTIVE}">${x[D].name}</td>`,B+=`<td class="${i.CLASS_EMPTY}">${x[D].empty}</td>`,B+=`<td class="${i.CLASS_MATCH}">${x[D].match}</td>`,B+=`<td class="${i.CLASS_NOMATCH}">${x[D].nomatch}</td>`,B+=`<td class="${i.CLASS_ACTIVE}">${x[D].total}</td>`,B+=`</tr>
`);if(l.length>0){B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let D=0;D<l.length;D+=1)g[D].total>0&&(B+="<tr>",B+=`<td class="${i.CLASS_ACTIVE}">${g[D].name}</td>`,B+=`<td class="${i.CLASS_EMPTY}">${g[D].empty}</td>`,B+=`<td class="${i.CLASS_MATCH}">${g[D].match}</td>`,B+=`<td class="${i.CLASS_NOMATCH}">${g[D].nomatch}</td>`,B+=`<td class="${i.CLASS_ACTIVE}">${g[D].total}</td>`,B+=`</tr>
`)}return B},"A");this.validate=function(B){let D=!1;return typeof B=="string"&&B==="stats"&&(D=!0),D},this.init=function(B,D){c=B,l=D,function(){u.length=0,f=new S,u[n.ALT]=new S,u[n.CAT]=new S,u[n.REP]=new S,u[n.RNM]=new S,u[n.TRG]=new S,u[n.TBS]=new S,u[n.TLS]=new S,u[n.UDT]=new S,u[n.AND]=new S,u[n.NOT]=new S,u[n.BKR]=new S,u[n.BKA]=new S,u[n.BKN]=new S,u[n.ABG]=new S,u[n.AEN]=new S,x.length=0;for(let M=0;M<c.length;M+=1)x.push({empty:0,match:0,nomatch:0,total:0,name:c[M].name,lower:c[M].lower,index:c[M].index});if(l.length>0){g.length=0;for(let M=0;M<l.length;M+=1)g.push({empty:0,match:0,nomatch:0,total:0,name:l[M].name,lower:l[M].lower,index:l[M].index})}}()},this.collect=function(B,D){w(f,D.state,D.phraseLength),w(u[B.type],D.state,D.phraseLength),B.type===n.RNM&&w(x[B.index],D.state,D.phraseLength),B.type===n.UDT&&w(g[B.index],D.state,D.phraseLength)},this.toHtml=function(B,D){let M="";for(M+=`<table class="${i.CLASS_STATS}">
`,typeof D=="string"&&(M+=`<caption>${D}</caption>
`),M+=`<tr><th class="${i.CLASS_ACTIVE}">ops</th>
`,M+=`<th class="${i.CLASS_EMPTY}">EMPTY</th>
`,M+=`<th class="${i.CLASS_MATCH}">MATCH</th>
`,M+=`<th class="${i.CLASS_NOMATCH}">NOMATCH</th>
`,M+=`<th class="${i.CLASS_ACTIVE}">totals</th></tr>
`;;){if(B===void 0){M+=C();break}if(B===null){M+=C();break}if(B==="ops"){M+=C();break}if(B==="index"){x.sort(b),g.length>0&&g.sort(b),M+=C(),M+=R();break}if(B==="hits"){x.sort(E),g.length>0&&g.sort(b),M+=C(),M+=R();break}if(B==="alpha"){x.sort(y),g.length>0&&g.sort(y),M+=C(),M+=R();break}break}return M+=`</table>
`,M},this.toHtmlPage=function(B,D,M){return s.htmlToPage(this.toHtml(B,D),M)}}},{"./identifiers":10,"./style":14,"./utilities":16}],14:[function(e,t,r){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},{}],15:[function(e,t,r){t.exports=function(){let n=e("./utilities"),s=e("./style"),i=new(e("./circular-buffer")),c=e("./identifiers"),l=this,u=16,f=80,x=[],g=5e3,y=-1,E=0,b=0,S=[],w=null,v=null,C=null,R=[],B=[],D=`<span class="${s.CLASS_LINEEND}">&bull;</span>`,M=`<span class="${s.CLASS_LINEEND}">&hellip;</span>`,te=`<span class="${s.CLASS_EMPTY}">&#120634;</span>`;this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(V,H){y=-1,typeof V=="number"&&V>0?(g=Math.ceil(V),typeof H=="number"&&(y=Math.floor(H),y<0&&(y=-1))):g=0},this.getMaxRecords=function(){return g},this.getLastRecord=function(){return y},this.init=function(V,H,P){x.length=0,S.length=0,E=0,b=0,w=P,v=V,C=H,function(){let N=o(function(O){R[c.ALT]=O,R[c.CAT]=O,R[c.REP]=O,R[c.TLS]=O,R[c.TBS]=O,R[c.TRG]=O,R[c.AND]=O,R[c.NOT]=O,R[c.BKR]=O,R[c.BKA]=O,R[c.BKN]=O,R[c.ABG]=O,R[c.AEN]=O},"e"),U=0;for(let O in l.filter.operators)U+=1;if(U!==0){for(let O in l.filter.operators){let Y=O.toUpperCase();if(Y==="<ALL>")return void N(!0);if(Y==="<NONE>")return void N(!1)}N(!1);for(let O in l.filter.operators){let Y=O.toUpperCase();if(Y==="ALT")R[c.ALT]=l.filter.operators[O]===!0;else if(Y==="CAT")R[c.CAT]=l.filter.operators[O]===!0;else if(Y==="REP")R[c.REP]=l.filter.operators[O]===!0;else if(Y==="AND")R[c.AND]=l.filter.operators[O]===!0;else if(Y==="NOT")R[c.NOT]=l.filter.operators[O]===!0;else if(Y==="TLS")R[c.TLS]=l.filter.operators[O]===!0;else if(Y==="TBS")R[c.TBS]=l.filter.operators[O]===!0;else if(Y==="TRG")R[c.TRG]=l.filter.operators[O]===!0;else if(Y==="BKR")R[c.BKR]=l.filter.operators[O]===!0;else if(Y==="BKA")R[c.BKA]=l.filter.operators[O]===!0;else if(Y==="BKN")R[c.BKN]=l.filter.operators[O]===!0;else if(Y==="ABG")R[c.ABG]=l.filter.operators[O]===!0;else{if(Y!=="AEN")throw new Error(`trace.js: initOpratorFilter: '${O}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`);R[c.AEN]=l.filter.operators[O]===!0}}}else N(!1)}(),function(){let N=o(function(K){R[c.RNM]=K,R[c.UDT]=K;let me=v.length+C.length;B.length=0;for(let Q=0;Q<me;Q+=1)B.push(K)},"e"),U,O,Y=[];for(O=0;O<v.length;O+=1)Y.push(v[O].lower);for(O=0;O<C.length;O+=1)Y.push(C[O].lower);B.length=0,U=0;for(let K in l.filter.rules)U+=1;if(U!==0){for(let K in l.filter.rules){let me=K.toLowerCase();if(me==="<all>")return void N(!0);if(me==="<none>")return void N(!1)}N(!1),R[c.RNM]=!0,R[c.UDT]=!0;for(let K in l.filter.rules){let me=K.toLowerCase();if(O=Y.indexOf(me),O<0)throw new Error(`trace.js: initRuleFilter: '${K}' not a valid rule or udt name`);B[O]=l.filter.rules[K]===!0}}else N(!0)}(),i.init(g)};let W=o(function(V){let H=!1;return H=V.type===c.RNM?!(!R[V.type]||!B[V.index]):V.type===c.UDT?!(!R[V.type]||!B[v.length+V.index]):R[V.type],H},"y"),J=o(function(V){return y===-1||V<=y},"C");this.down=function(V,H,P,N,U,O){J(E)&&W(V)&&(S.push(E),x[i.increment()]={dirUp:!1,depth:b,thisLine:E,thatLine:void 0,opcode:V,state:H,phraseIndex:P,phraseLength:N,lookAnchor:U,lookAround:O},E+=1,b+=1)},this.up=function(V,H,P,N,U,O){if(J(E)&&W(V)){let Y=E,K=S.pop(),me=i.getListIndex(K);me!==-1&&(x[me].thatLine=Y),b-=1,x[i.increment()]={dirUp:!0,depth:b,thisLine:Y,thatLine:K,opcode:V,state:H,phraseIndex:P,phraseLength:N,lookAnchor:U,lookAround:O},E+=1}},this.toTree=function(V){let H=function(){function P(I,T){let F,Z,G;if(T)switch(I.op={id:T.type,name:n.opcodeToString(T.type)},I.opData=void 0,T.type){case c.RNM:I.opData=v[T.index].name;break;case c.UDT:I.opData=C[T.index].name;break;case c.BKR:F=T.index<v.length?v[T.index].name:C[T.index-v.length].name,Z=T.bkrCase===c.BKR_MODE_CI?"%i":"%s",G=T.bkrMode===c.BKR_MODE_UM?"%u":"%p",I.opData=`\\\\${Z}${G}${F}`;break;case c.TLS:I.opData=[];for(let ne=0;ne<T.string.length;ne+=1)I.opData.push(T.string[ne]);break;case c.TBS:I.opData=[];for(let ne=0;ne<T.string.length;ne+=1)I.opData.push(T.string[ne]);break;case c.TRG:case c.REP:I.opData=[T.min,T.max];break;default:throw new Error("unrecognized opcode")}else I.op={id:void 0,name:void 0},I.opData=void 0}o(P,"e");function N(I,T,F){return I===c.MATCH?{index:T,length:F}:I===c.NOMATCH||I===c.EMPTY?{index:T,length:0}:null}o(N,"n");let U=-1;function O(I,T,F){let Z={id:U++,branch:-1,parent:I,up:!1,down:!1,depth:F,children:[]};return T?(Z.down=!0,Z.state={id:T.state,name:n.stateToString(T.state)},Z.phrase=null,P(Z,T.opcode)):(Z.state={id:void 0,name:void 0},Z.phrase=N(),P(Z,void 0)),Z}o(O,"s");function Y(I,T){T&&(I.up=!0,I.state={id:T.state,name:n.stateToString(T.state)},I.phrase=N(T.state,T.phraseIndex,T.phraseLength),I.down||P(I,T.opcode))}o(Y,"i");let K=0,me=-1,Q=1,le=[],re,ie,ue,$,m=!0,h=O(null,null,-1);for(le.push(h),ie=h,i.forEach(I=>{if($=x[I],m&&(m=!1,$.depth>0)){let T=$.dirUp?$.depth+1:$.depth;for(let F=0;F<T;F+=1)ue=ie,ie=O(ie,null,F),le.push(ie),ue.children.push(ie)}$.dirUp?(ie=le.pop(),Y(ie,$),ie=le[le.length-1]):(ue=ie,ie=O(ie,$,$.depth),le.push(ie),ue.children.push(ie))});le.length>1;)ie=le.pop(),Y(ie,null);if(h.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(le.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");re=h.children[0];let A=re;for(;re&&!re.down&&!re.up;)A=re,re=re.children[0];re=A,re.leftMost=!0,re.rightMost=!0,o(function I(T){if(me+=1,T.branch=Q,me>b&&(b=me),T.children.length===0)K+=1;else for(let F=0;F<T.children.length;F+=1)F>0&&(Q+=1),T.children[F].leftMost=!1,T.children[F].rightMost=!1,T.leftMost&&(T.children[F].leftMost=F===0),T.rightMost&&(T.children[F].rightMost=F===T.children.length-1),I(T.children[F]);me-=1},"e")(re),re.branch=0;let k={string:[]};for(let I=0;I<w.length;I+=1)k.string[I]=w[I];k.rules=[];for(let I=0;I<v.length;I+=1)k.rules[I]=v[I].name;k.udts=[];for(let I=0;I<C.length;I+=1)k.udts[I]=C[I].name;let L;return k.id={},k.id.ALT={id:c.ALT,name:"ALT"},k.id.CAT={id:c.CAT,name:"CAT"},k.id.REP={id:c.REP,name:"REP"},k.id.RNM={id:c.RNM,name:"RNM"},k.id.TLS={id:c.TLS,name:"TLS"},k.id.TBS={id:c.TBS,name:"TBS"},k.id.TRG={id:c.TRG,name:"TRG"},k.id.UDT={id:c.UDT,name:"UDT"},k.id.AND={id:c.AND,name:"AND"},k.id.NOT={id:c.NOT,name:"NOT"},k.id.BKR={id:c.BKR,name:"BKR"},k.id.BKA={id:c.BKA,name:"BKA"},k.id.BKN={id:c.BKN,name:"BKN"},k.id.ABG={id:c.ABG,name:"ABG"},k.id.AEN={id:c.AEN,name:"AEN"},k.id.ACTIVE={id:c.ACTIVE,name:"ACTIVE"},k.id.MATCH={id:c.MATCH,name:"MATCH"},k.id.EMPTY={id:c.EMPTY,name:"EMPTY"},k.id.NOMATCH={id:c.NOMATCH,name:"NOMATCH"},k.treeDepth=b,k.leafNodes=K,L=re.down?re.up?"none":"right":re.up?"left":"both",k.branchesIncomplete=L,k.tree=o(function I(T,F){let Z,G={};if(G.id=T.id,G.branch=T.branch,G.leftMost=T.leftMost,G.rightMost=T.rightMost,Z=T.state.name?T.state.name:"ACTIVE",G.state={id:T.state.id,name:Z},Z=T.op.name?T.op.name:"?",G.op={id:T.op.id,name:Z},typeof T.opData=="string")G.opData=T.opData;else if(Array.isArray(T.opData)){G.opData=[];for(let ne=0;ne<T.opData.length;ne+=1)G.opData[ne]=T.opData[ne]}else G.opData=void 0;T.phrase?G.phrase={index:T.phrase.index,length:T.phrase.length}:G.phrase=null,G.depth=T.depth,G.children=[];for(let ne=0;ne<T.children.length;ne+=1)T.children.length,G.children[ne]=I(T.children[ne],F);return G},"e")(re,re.depth),k}();return V?JSON.stringify(H):H},this.toHtmlPage=function(V,H,P){return n.htmlToPage(this.toHtml(V,H),P)},this.indent=function(V){let H="";for(let P=0;P<V;P+=1)H+=".";return H};let Se=o(function(V,H,P,N,U){if(N===0)return"";let O="",Y=U?",":"";switch(V){case u:O=Y+n.charsToHex(H,P,N);break;case 10:if(U)return`,${n.charsToDec(H,P,N)}`;O=Y+n.charsToDec(H,P,N);break;case 32:O=n.charsToUnicode(H,P,N);break;case 8:default:O=n.charsToAsciiHtml(H,P,N)}return O},"S"),oe=o(function(V,H,P,N,U,O){let Y,K,me,Q,le="",re=D,ie=`<span class="${s.CLASS_REMAINDER}">`,ue="</span>",$=!1;switch(P){case c.EMPTY:le+=te;case c.NOMATCH:case c.ACTIVE:Y=N,K=0,me=N,Q=H.length-me;break;case c.MATCH:Y=N,K=U,me=N+K,Q=H.length-me;break;default:throw new Error("unrecognized state")}return re=D,K>f?(K=f,re=M,Q=0):K+Q>f&&(re=M,Q=f-K),K>0&&(le+=O,le+=Se(V,H,Y,K,$),le+=ue,$=!0),Q>0&&(le+=ie,le+=Se(V,H,me,Q,$),le+=ue),le+re},"L"),se=o(function(V){if(v===null)return"";let H,P,N,U,O,Y,K="";return K+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",K+=`<th>operator</th><th>phrase</th></tr>
`,i.forEach(me=>{let Q=x[me];switch(H=Q.thisLine,P=Q.thatLine!==void 0?Q.thatLine:"--",N=!1,U=!1,O=!1,Q.lookAround===c.LOOKAROUND_AHEAD&&(N=!0,O=!0,Y=Q.lookAnchor),Q.opcode.type!==c.AND&&Q.opcode.type!==c.NOT||(N=!0,O=!0,Y=Q.phraseIndex),Q.lookAround===c.LOOKAROUND_BEHIND&&(U=!0,O=!0,Y=Q.lookAnchor),Q.opcode.type!==c.BKA&&Q.opcode.type!==c.BKN||(U=!0,O=!0,Y=Q.phraseIndex),K+="<tr>",K+=`<td>${H}</td><td>${P}</td>`,K+=`<td>${Q.phraseIndex}</td>`,K+=`<td>${Q.phraseLength}</td>`,K+=`<td>${Q.depth}</td>`,K+="<td>",Q.state){case c.ACTIVE:K+=`<span class="${s.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case c.MATCH:K+=`<span class="${s.CLASS_MATCH}">&uarr;M</span>`;break;case c.NOMATCH:K+=`<span class="${s.CLASS_NOMATCH}">&uarr;N</span>`;break;case c.EMPTY:K+=`<span class="${s.CLASS_EMPTY}">&uarr;E</span>`;break;default:K+=`<span class="${s.CLASS_ACTIVE}">--</span>`}if(K+="</td>",K+="<td>",K+=l.indent(Q.depth),N?K+=`<span class="${s.CLASS_LOOKAHEAD}">`:U&&(K+=`<span class="${s.CLASS_LOOKBEHIND}">`),K+=n.opcodeToString(Q.opcode.type),Q.opcode.type===c.RNM&&(K+=`(${v[Q.opcode.index].name}) `),Q.opcode.type===c.BKR){let le=Q.opcode.bkrCase===c.BKR_MODE_CI?"%i":"%s",re=Q.opcode.bkrMode===c.BKR_MODE_UM?"%u":"%p";K+=`(\\${le}${re}${v[Q.opcode.index].name}) `}Q.opcode.type===c.UDT&&(K+=`(${C[Q.opcode.index].name}) `),Q.opcode.type===c.TRG&&(K+=`(${function(le,re){let ie="";if(re.type===c.TRG)if(le===u||le===32){let ue=re.min.toString(16).toUpperCase();ue.length%2!=0&&(ue=`0${ue}`),ie+=le===u?"%x":"U+",ie+=ue,ue=re.max.toString(16).toUpperCase(),ue.length%2!=0&&(ue=`0${ue}`),ie+=`&ndash;${ue}`}else ie=`%d${re.min.toString(10)}&ndash;${re.max.toString(10)}`;return ie}(V,Q.opcode)}) `),Q.opcode.type===c.TBS&&(K+=`(${function(le,re){let ie="";if(re.type===c.TBS){let ue=Math.min(re.string.length,10);if(le===u||le===32){ie+=le===u?"%x":"U+";for(let $=0;$<ue;$+=1){let m;$>0&&(ie+="."),m=re.string[$].toString(16).toUpperCase(),m.length%2!=0&&(m=`0${m}`),ie+=m}}else{ie="%d";for(let $=0;$<ue;$+=1)$>0&&(ie+="."),ie+=re.string[$].toString(10)}ue<re.string.length&&(ie+=M)}return ie}(V,Q.opcode)}) `),Q.opcode.type===c.TLS&&(K+=`(${function(le,re){let ie="";if(re.type===c.TLS){let ue=Math.min(re.string.length,5);if(le===u||le===10){let $,m,h;le===u?(ie="%x",h=16):(ie="%d",h=10);for(let A=0;A<ue;A+=1)A>0&&(ie+="."),m=re.string[A],m>=97&&m<=122?($=m-32,ie+=`${$.toString(h)}/${m.toString(h)}`.toUpperCase()):m>=65&&m<=90?($=m,m+=32,ie+=`${$.toString(h)}/${m.toString(h)}`.toUpperCase()):ie+=m.toString(h).toUpperCase();ue<re.string.length&&(ie+=M)}else{ie='"';for(let $=0;$<ue;$+=1)ie+=n.asciiChars[re.string[$]];ue<re.string.length&&(ie+=M),ie+='"'}}return ie}(V,Q.opcode)}) `),Q.opcode.type===c.REP&&(K+=`(${function(le,re){let ie="";if(re.type===c.REP)if(le===u){let ue=re.min.toString(16).toUpperCase();ue.length%2!=0&&(ue=`0${ue}`),ie=`x${ue}`,re.max<1/0?(ue=re.max.toString(16).toUpperCase(),ue.length%2!=0&&(ue=`0${ue}`)):ue="inf",ie+=`&ndash;${ue}`}else ie=re.max<1/0?`${re.min.toString(10)}&ndash;${re.max.toString(10)}`:`${re.min.toString(10)}&ndash;inf`;return ie}(V,Q.opcode)}) `),O&&(K+="</span>"),K+="</td>",K+="<td>",K+=U?function(le,re,ie,ue,$,m){let h,A,k,L,I="",T=D,F=`<span class="${s.CLASS_LOOKBEHIND}">`,Z=`<span class="${s.CLASS_REMAINDER}">`,G="</span>",ne=!1;switch(ie){case c.EMPTY:I+=te;case c.NOMATCH:case c.MATCH:case c.ACTIVE:h=ue-$,A=m-h,k=m,L=re.length-k;break;default:throw new Error("unrecognized state")}return T=D,A>f?(A=f,T=M,L=0):A+L>f&&(T=M,L=f-A),A>0&&(I+=F,I+=Se(le,re,h,A,ne),I+=G,ne=!0),L>0&&(I+=Z,I+=Se(le,re,k,L,ne),I+=G),I+T}(V,w,Q.state,Q.phraseIndex,Q.phraseLength,Y):N?function(le,re,ie,ue,$){let m=`<span class="${s.CLASS_LOOKAHEAD}">`;return oe(le,re,ie,ue,$,m)}(V,w,Q.state,Q.phraseIndex,Q.phraseLength):function(le,re,ie,ue,$){let m=`<span class="${s.CLASS_MATCH}">`;return oe(le,re,ie,ue,$,m)}(V,w,Q.state,Q.phraseIndex,Q.phraseLength),K+=`</td></tr>
`}),K+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",K+=`<th>operator</th><th>phrase</th></tr>
`,K+=`</table>
`,K},"M");this.toHtml=function(V,H){let P=8;if(typeof V=="string"&&V.length>=3){let U=V.toLowerCase().slice(0,3);U==="hex"?P=u:U==="dec"?P=10:U==="uni"&&(P=32)}let N="";return N+=function(U,O){let Y;switch(U){case u:Y="hexadecimal";break;case 10:Y="decimal";break;case 8:Y="ASCII";break;case 32:Y="UNICODE";break;default:throw new Error(`trace.js: htmlHeader: unrecognized mode: ${U}`)}let K="";return K+=`<p>display mode: ${Y}</p>
`,K+=`<table class="${s.CLASS_TRACE}">
`,typeof O=="string"&&(K+=`<caption>${O}</caption>`),K}(P,H),N+=se(P),N+=function(){let U="";return U+=`</table>
`,U+=`<p class="${s.CLASS_MONOSPACE}">legend:<br>
`,U+=`(a)&nbsp;-&nbsp;line number<br>
`,U+=`(b)&nbsp;-&nbsp;matching line number<br>
`,U+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,U+=`(d)&nbsp;-&nbsp;phrase length<br>
`,U+=`(e)&nbsp;-&nbsp;tree depth<br>
`,U+=`(f)&nbsp;-&nbsp;operator state<br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,U+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,U+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_MATCH}">matched characters</span><br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${te} empty string<br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${D} end of input string<br>
`,U+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${M} input string display truncated<br>
`,U+=`</p>
`,U+=`<p class="${s.CLASS_MONOSPACE}">
`,U+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,U+=`ALT - alternation<br>
`,U+=`CAT - concatenation<br>
`,U+=`REP - repetition<br>
`,U+=`RNM - rule name<br>
`,U+=`TRG - terminal range<br>
`,U+=`TLS - terminal literal string (case insensitive)<br>
`,U+=`TBS - terminal binary string (case sensitive)<br>
`,U+=`<br>
`,U+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,U+=`UDT - user-defined terminal<br>
`,U+=`AND - positive look ahead<br>
`,U+=`NOT - negative look ahead<br>
`,U+=`BKA - positive look behind<br>
`,U+=`BKN - negative look behind<br>
`,U+=`BKR - back reference<br>
`,U+=`ABG - anchor - begin of input string<br>
`,U+=`AEN - anchor - end of input string<br>
`,U+=`</p>
`,U}(),N}}},{"./circular-buffer":8,"./identifiers":10,"./style":14,"./utilities":16}],16:[function(e,t,r){let n=e("./style"),s=e("../apg-conv-api/converter"),i=e("./emitcss"),c=e("./identifiers"),l=this,u=o(function(f,x,g){let y,E=x;for(;;){if(f<=0){E=0,y=0;break}if(typeof E!="number"){E=0,y=f;break}if(E>=f){E=f,y=f;break}if(typeof g!="number"){y=f;break}if(y=E+g,y>f){y=f;break}break}return{beg:E,end:y}},"h");r.htmlToPage=function(f,x){let g;if(typeof f!="string")throw new Error("utilities.js: htmlToPage: input HTML is not a string");g=typeof x!="string"?"htmlToPage":x;let y="";return y+=`<!DOCTYPE html>
`,y+=`<html lang="en">
`,y+=`<head>
`,y+=`<meta charset="utf-8">
`,y+=`<title>${g}</title>
`,y+=`<style>
`,y+=i(),y+=`</style>
`,y+=`</head>
<body>
`,y+=`<p>${new Date}</p>
`,y+=f,y+=`</body>
</html>
`,y},r.parserResultToHtml=function(f,x){let g,y,E=null;typeof x=="string"&&x!==""&&(E=x),g=f.success===!0?`<span class="${n.CLASS_MATCH}">true</span>`:`<span class="${n.CLASS_NOMATCH}">false</span>`,y=f.state===c.EMPTY?`<span class="${n.CLASS_EMPTY}">EMPTY</span>`:f.state===c.MATCH?`<span class="${n.CLASS_MATCH}">MATCH</span>`:f.state===c.NOMATCH?`<span class="${n.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${n.CLASS_NOMATCH}">unrecognized</span>`;let b="";return b+=`<table class="${n.CLASS_STATE}">
`,E&&(b+=`<caption>${E}</caption>
`),b+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,b+=`<tr><td>parser success</td><td>${g}</td>
`,b+=`<td><span class="${n.CLASS_MATCH}">true</span> if the parse succeeded,
`,b+=` <span class="${n.CLASS_NOMATCH}">false</span> otherwise`,b+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,b+=`<tr><td>parser state</td><td>${y}</td>
`,b+=`<td><span class="${n.CLASS_EMPTY}">EMPTY</span>, `,b+=`<span class="${n.CLASS_MATCH}">MATCH</span> or 
`,b+=`<span class="${n.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,b+=`<tr><td>string length</td><td>${f.length}</td><td>length of the input (sub)string</td></tr>
`,b+=`<tr><td>matched length</td><td>${f.matched}</td><td>number of input string characters matched</td></tr>
`,b+=`<tr><td>max matched</td><td>${f.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,b+=`<tr><td>max tree depth</td><td>${f.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,b+=`<tr><td>node hits</td><td>${f.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,b+=`<tr><td>input length</td><td>${f.inputLength}</td><td>length of full input string</td></tr>
`,b+=`<tr><td>sub-string begin</td><td>${f.subBegin}</td><td>sub-string first character index</td></tr>
`,b+=`<tr><td>sub-string end</td><td>${f.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,b+=`<tr><td>sub-string length</td><td>${f.subLength}</td><td>sub-string length</td></tr>
`,b+=`</table>
`,b},r.charsToString=function(f,x,g){let y,E;if(typeof x=="number"){if(x>=f.length)return"";y=x<0?0:x}else y=0;if(typeof g=="number"){if(g<=0)return"";E=g>f.length-y?f.length:y+g}else E=f.length;return y<E?s.encode("UTF16LE",f.slice(y,E)).toString("utf16le"):""},r.stringToChars=function(f){return s.decode("STRING",f)},r.opcodeToString=function(f){let x="unknown";switch(f){case c.ALT:x="ALT";break;case c.CAT:x="CAT";break;case c.RNM:x="RNM";break;case c.UDT:x="UDT";break;case c.AND:x="AND";break;case c.NOT:x="NOT";break;case c.REP:x="REP";break;case c.TRG:x="TRG";break;case c.TBS:x="TBS";break;case c.TLS:x="TLS";break;case c.BKR:x="BKR";break;case c.BKA:x="BKA";break;case c.BKN:x="BKN";break;case c.ABG:x="ABG";break;case c.AEN:x="AEN";break;default:throw new Error("unrecognized opcode")}return x},r.stateToString=function(f){let x="unknown";switch(f){case c.ACTIVE:x="ACTIVE";break;case c.MATCH:x="MATCH";break;case c.EMPTY:x="EMPTY";break;case c.NOMATCH:x="NOMATCH";break;default:throw new Error("unrecognized state")}return x},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(f){let x=f.toString(16).toUpperCase();switch(x.length){case 1:case 3:case 7:x=`0${x}`;break;case 2:case 6:x=`00${x}`;break;case 4:break;case 5:x=`000${x}`;break;default:throw new Error("unrecognized option")}return x},r.charsToDec=function(f,x,g){let y="";if(!Array.isArray(f))throw new Error("utilities.js: charsToDec: input must be an array of integers");let E=u(f.length,x,g);if(E.end>E.beg){y+=f[E.beg];for(let b=E.beg+1;b<E.end;b+=1)y+=`,${f[b]}`}return y},r.charsToHex=function(f,x,g){let y="";if(!Array.isArray(f))throw new Error("utilities.js: charsToHex: input must be an array of integers");let E=u(f.length,x,g);if(E.end>E.beg){y+=`\\x${l.charToHex(f[E.beg])}`;for(let b=E.beg+1;b<E.end;b+=1)y+=`,\\x${l.charToHex(f[b])}`}return y},r.charsToHtmlEntities=function(f,x,g){let y="";if(!Array.isArray(f))throw new Error("utilities.js: charsToHex: input must be an array of integers");let E=u(f.length,x,g);if(E.end>E.beg)for(let b=E.beg;b<E.end;b+=1)y+=`&#x${f[b].toString(16)};`;return y},r.charsToUnicode=function(f,x,g){let y="";if(!Array.isArray(f))throw new Error("utilities.js: charsToUnicode: input must be an array of integers");let E=u(f.length,x,g);if(E.end>E.beg)for(let S=E.beg;S<E.end;S+=1)y+=(b=f[S])>=55296&&b<=57343||b>1114111?` U+${l.charToHex(f[S])}`:`&#${f[S]};`;var b;return y},r.charsToJsUnicode=function(f,x,g){let y="";if(!Array.isArray(f))throw new Error("utilities.js: charsToJsUnicode: input must be an array of integers");let E=u(f.length,x,g);if(E.end>E.beg){y+=`\\u${l.charToHex(f[E.beg])}`;for(let b=E.beg+1;b<E.end;b+=1)y+=`,\\u${l.charToHex(f[b])}`}return y},r.charsToAscii=function(f,x,g){let y="";if(!Array.isArray(f))throw new Error("utilities.js: charsToAscii: input must be an array of integers");let E=u(f.length,x,g);for(let b=E.beg;b<E.end;b+=1){let S=f[b];y+=S>=32&&S<=126?String.fromCharCode(S):`\\x${l.charToHex(S)}`}return y},r.charsToAsciiHtml=function(f,x,g){if(!Array.isArray(f))throw new Error("utilities.js: charsToAsciiHtml: input must be an array of integers");let y,E="",b=u(f.length,x,g);for(let S=b.beg;S<b.end;S+=1)y=f[S],E+=y<32||y===127?`<span class="${n.CLASS_CTRLCHAR}">${l.asciiChars[y]}</span>`:y>127?`<span class="${n.CLASS_CTRLCHAR}">U+${l.charToHex(y)}</span>`:l.asciiChars[y];return E},r.stringToAsciiHtml=function(f){let x=s.decode("STRING",f);return this.charsToAsciiHtml(x)}},{"../apg-conv-api/converter":4,"./emitcss":9,"./identifiers":10,"./style":14}],17:[function(e,t,r){globalThis.apgLib=e("./node-exports"),globalThis.apgConvApi=e("../apg-conv-api/node-exports")},{"../apg-conv-api/node-exports":5,"./node-exports":11}]},{},[17]);d();p();function dc(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-ethereum",lower:"sign-in-with-ethereum",index:65,isBkr:!1},e.rules[66]={name:"message-domain",lower:"message-domain",index:66,isBkr:!1},e.rules[67]={name:"message-address",lower:"message-address",index:67,isBkr:!1},e.rules[68]={name:"message-statement",lower:"message-statement",index:68,isBkr:!1},e.rules[69]={name:"message-uri",lower:"message-uri",index:69,isBkr:!1},e.rules[70]={name:"message-version",lower:"message-version",index:70,isBkr:!1},e.rules[71]={name:"message-chain-id",lower:"message-chain-id",index:71,isBkr:!1},e.rules[72]={name:"message-nonce",lower:"message-nonce",index:72,isBkr:!1},e.rules[73]={name:"message-issued-at",lower:"message-issued-at",index:73,isBkr:!1},e.rules[74]={name:"message-expiration-time",lower:"message-expiration-time",index:74,isBkr:!1},e.rules[75]={name:"message-not-before",lower:"message-not-before",index:75,isBkr:!1},e.rules[76]={name:"message-request-id",lower:"message-request-id",index:76,isBkr:!1},e.rules[77]={name:"message-resources",lower:"message-resources",index:77,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[65].opcodes[1]={type:4,index:66},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:67},e.rules[65].opcodes[5]={type:4,index:10},e.rules[65].opcodes[6]={type:4,index:10},e.rules[65].opcodes[7]={type:3,min:0,max:1},e.rules[65].opcodes[8]={type:2,children:[9,10]},e.rules[65].opcodes[9]={type:4,index:68},e.rules[65].opcodes[10]={type:4,index:10},e.rules[65].opcodes[11]={type:4,index:10},e.rules[65].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[65].opcodes[13]={type:4,index:69},e.rules[65].opcodes[14]={type:4,index:10},e.rules[65].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[65].opcodes[16]={type:4,index:70},e.rules[65].opcodes[17]={type:4,index:10},e.rules[65].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[65].opcodes[19]={type:4,index:71},e.rules[65].opcodes[20]={type:4,index:10},e.rules[65].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[65].opcodes[22]={type:4,index:72},e.rules[65].opcodes[23]={type:4,index:10},e.rules[65].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[65].opcodes[25]={type:4,index:73},e.rules[65].opcodes[26]={type:3,min:0,max:1},e.rules[65].opcodes[27]={type:2,children:[28,29,30]},e.rules[65].opcodes[28]={type:4,index:10},e.rules[65].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[65].opcodes[30]={type:4,index:74},e.rules[65].opcodes[31]={type:3,min:0,max:1},e.rules[65].opcodes[32]={type:2,children:[33,34,35]},e.rules[65].opcodes[33]={type:4,index:10},e.rules[65].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[65].opcodes[35]={type:4,index:75},e.rules[65].opcodes[36]={type:3,min:0,max:1},e.rules[65].opcodes[37]={type:2,children:[38,39,40]},e.rules[65].opcodes[38]={type:4,index:10},e.rules[65].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[65].opcodes[40]={type:4,index:76},e.rules[65].opcodes[41]={type:3,min:0,max:1},e.rules[65].opcodes[42]={type:2,children:[43,44,45]},e.rules[65].opcodes[43]={type:4,index:10},e.rules[65].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[65].opcodes[45]={type:4,index:77},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:4,index:36},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:2,children:[1,2]},e.rules[67].opcodes[1]={type:7,string:[48,120]},e.rules[67].opcodes[2]={type:3,min:40,max:40},e.rules[67].opcodes[3]={type:4,index:8},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:1,max:1/0},e.rules[68].opcodes[1]={type:1,children:[2,3,4]},e.rules[68].opcodes[2]={type:4,index:62},e.rules[68].opcodes[3]={type:4,index:61},e.rules[68].opcodes[4]={type:7,string:[32]},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:4,index:29},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:7,string:[49]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:3,min:1,max:1/0},e.rules[71].opcodes[1]={type:4,index:6},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:3,min:8,max:1/0},e.rules[72].opcodes[1]={type:1,children:[2,3]},e.rules[72].opcodes[2]={type:4,index:0},e.rules[72].opcodes[3]={type:4,index:6},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:4,index:28},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:3,min:0,max:1/0},e.rules[76].opcodes[1]={type:4,index:57},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:2,children:[2,3,4]},e.rules[77].opcodes[2]={type:4,index:10},e.rules[77].opcodes[3]={type:7,string:[45,32]},e.rules[77].opcodes[4]={type:4,index:29},e.toString=o(function(){let r="";return r+=`; ==============================================================================
`,r+=`; Core rules for ABNF (RFC 5234)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,r+=`
`,r+=`ALPHA          =  %x41-5A / %x61-7A
`,r+=`               ; A-Z / a-z
`,r+=`
`,r+=`BIT            =  "0" / "1"
`,r+=`
`,r+=`CHAR           =  %x01-7F
`,r+=`               ; any 7-bit US-ASCII character,
`,r+=`               ;  excluding NUL
`,r+=`
`,r+=`CR             =  %x0D
`,r+=`               ; carriage return
`,r+=`
`,r+=`CRLF           =  CR LF
`,r+=`               ; Internet standard newline
`,r+=`
`,r+=`CTL            =  %x00-1F / %x7F
`,r+=`               ; controls
`,r+=`
`,r+=`DIGIT          =  %x30-39
`,r+=`               ; 0-9
`,r+=`
`,r+=`DQUOTE         =  %x22
`,r+=`               ; " (Double Quote)
`,r+=`
`,r+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,r+=`
`,r+=`HTAB           =  %x09
`,r+=`               ; horizontal tab
`,r+=`
`,r+=`LF             =  %x0A
`,r+=`               ; linefeed
`,r+=`
`,r+=`LWSP           =  *(WSP / CRLF WSP)
`,r+=`               ; Use of this linear-white-space rule
`,r+=`               ;  permits lines containing only white
`,r+=`               ;  space that are no longer legal in
`,r+=`               ;  mail headers and have caused
`,r+=`               ;  interoperability problems in other
`,r+=`               ;  contexts.
`,r+=`               ; Do not use when defining mail
`,r+=`               ;  headers and use with caution in
`,r+=`               ;  other contexts.
`,r+=`
`,r+=`OCTET          =  %x00-FF
`,r+=`               ; 8 bits of data
`,r+=`
`,r+=`SP             =  %x20
`,r+=`
`,r+=`VCHAR          =  %x21-7E
`,r+=`               ; visible (printing) characters
`,r+=`
`,r+=`WSP            =  SP / HTAB
`,r+=`               ; white space
`,r+=`; ==============================================================================
`,r+=`; Internet Date/Time Format (RFC 3339)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,r+=`
`,r+=`date-fullyear   = 4DIGIT
`,r+=`
`,r+=`date-month      = 2DIGIT  ; 01-12
`,r+=`
`,r+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,r+=`                          ; month/year
`,r+=`
`,r+=`time-hour       = 2DIGIT  ; 00-23
`,r+=`
`,r+=`time-minute     = 2DIGIT  ; 00-59
`,r+=`
`,r+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,r+=`                          ; rules
`,r+=`
`,r+=`time-secfrac    = "." 1*DIGIT
`,r+=`
`,r+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,r+=`
`,r+=`time-offset     = "Z" / time-numoffset
`,r+=`
`,r+=`partial-time    = time-hour ":" time-minute ":" time-second
`,r+=`                  [time-secfrac]
`,r+=`
`,r+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,r+=`
`,r+=`full-time       = partial-time time-offset
`,r+=`
`,r+=`date-time       = full-date "T" full-time
`,r+=`; ==============================================================================
`,r+=`; Uniform Resource Identifier (RFC 3986)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,r+=`
`,r+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`hier-part     = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-rootless
`,r+=`              / path-empty
`,r+=`
`,r+=`URI-reference = URI / relative-ref
`,r+=`
`,r+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,r+=`
`,r+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`relative-part = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-noscheme
`,r+=`              / path-empty
`,r+=`
`,r+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,r+=`
`,r+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,r+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,r+=`host          = IP-literal / IPv4address / reg-name
`,r+=`port          = *DIGIT
`,r+=`
`,r+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,r+=`
`,r+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,r+=`
`,r+=`IPv6address   =                            6( h16 ":" ) ls32
`,r+=`              /                       "::" 5( h16 ":" ) ls32
`,r+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,r+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,r+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,r+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,r+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,r+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,r+=`              / [ *6( h16 ":" ) h16 ] "::"
`,r+=`
`,r+=`h16           = 1*4HEXDIG
`,r+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,r+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,r+=`dec-octet     = DIGIT                 ; 0-9
`,r+=`              / %x31-39 DIGIT         ; 10-99
`,r+=`              / "1" 2DIGIT            ; 100-199
`,r+=`              / "2" %x30-34 DIGIT     ; 200-249
`,r+=`              / "25" %x30-35          ; 250-255
`,r+=`
`,r+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,r+=`
`,r+=`path          = path-abempty    ; begins with "/" or is empty
`,r+=`              / path-absolute   ; begins with "/" but not "//"
`,r+=`              / path-noscheme   ; begins with a non-colon segment
`,r+=`              / path-rootless   ; begins with a segment
`,r+=`              / path-empty      ; zero characters
`,r+=`
`,r+=`path-abempty  = *( "/" segment )
`,r+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,r+=`path-noscheme = segment-nz-nc *( "/" segment )
`,r+=`path-rootless = segment-nz *( "/" segment )
`,r+=`path-empty    = 0pchar
`,r+=`
`,r+=`segment       = *pchar
`,r+=`segment-nz    = 1*pchar
`,r+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,r+=`; non-zero-length segment without any colon ":"
`,r+=`
`,r+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,r+=`
`,r+=`query         = *( pchar / "/" / "?" )
`,r+=`
`,r+=`fragment      = *( pchar / "/" / "?" )
`,r+=`
`,r+=`pct-encoded   = "%" HEXDIG HEXDIG
`,r+=`
`,r+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,r+=`reserved      = gen-delims / sub-delims
`,r+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,r+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,r+=`              / "*" / "+" / "," / ";" / "="
`,r+=`; ==============================================================================
`,r+=`; Sign in with Ethereum (EIP-4361)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`; - datetime.bnf
`,r+=`; - uri.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://eips.ethereum.org/EIPS/eip-4361
`,r+=`
`,r+=`sign-in-with-ethereum =
`,r+=`  message-domain %s" wants you to sign in with your Ethereum account:" LF
`,r+=`  message-address LF
`,r+=`  LF
`,r+=`  [ message-statement LF ]
`,r+=`  LF
`,r+=`  %s"URI: " message-uri LF
`,r+=`  %s"Version: " message-version LF
`,r+=`  %s"Chain ID: " message-chain-id LF
`,r+=`  %s"Nonce: " message-nonce LF
`,r+=`  %s"Issued At: " message-issued-at
`,r+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,r+=`  [ LF %s"Not Before: " message-not-before ]
`,r+=`  [ LF %s"Request ID: " message-request-id ]
`,r+=`  [ LF %s"Resources:" message-resources ]
`,r+=`
`,r+=`message-domain          = authority
`,r+=`message-address         = "0x" 40*40HEXDIG
`,r+=`message-statement       = 1*( reserved / unreserved / " " )
`,r+=`message-uri             = URI
`,r+=`message-version         = "1"
`,r+=`message-chain-id        = 1*DIGIT
`,r+=`message-nonce           = 8*( ALPHA / DIGIT )
`,r+=`message-issued-at       = date-time
`,r+=`message-expiration-time = date-time
`,r+=`message-not-before      = date-time
`,r+=`message-request-id      = *pchar
`,r+=`message-resources       = *( LF "- " URI )
`,r},"toString"),e}o(dc,"grammar");d();p();function pc(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-solana",lower:"sign-in-with-solana",index:65,isBkr:!1},e.rules[66]={name:"advanced-fields",lower:"advanced-fields",index:66,isBkr:!1},e.rules[67]={name:"message-domain",lower:"message-domain",index:67,isBkr:!1},e.rules[68]={name:"message-address",lower:"message-address",index:68,isBkr:!1},e.rules[69]={name:"message-statement",lower:"message-statement",index:69,isBkr:!1},e.rules[70]={name:"message-uri",lower:"message-uri",index:70,isBkr:!1},e.rules[71]={name:"message-version",lower:"message-version",index:71,isBkr:!1},e.rules[72]={name:"message-chain-id",lower:"message-chain-id",index:72,isBkr:!1},e.rules[73]={name:"message-nonce",lower:"message-nonce",index:73,isBkr:!1},e.rules[74]={name:"message-issued-at",lower:"message-issued-at",index:74,isBkr:!1},e.rules[75]={name:"message-expiration-time",lower:"message-expiration-time",index:75,isBkr:!1},e.rules[76]={name:"message-not-before",lower:"message-not-before",index:76,isBkr:!1},e.rules[77]={name:"message-request-id",lower:"message-request-id",index:77,isBkr:!1},e.rules[78]={name:"message-resources",lower:"message-resources",index:78,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,10]},e.rules[65].opcodes[1]={type:4,index:67},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:68},e.rules[65].opcodes[5]={type:3,min:0,max:1},e.rules[65].opcodes[6]={type:2,children:[7,8,9]},e.rules[65].opcodes[7]={type:4,index:10},e.rules[65].opcodes[8]={type:4,index:10},e.rules[65].opcodes[9]={type:4,index:69},e.rules[65].opcodes[10]={type:3,min:0,max:1},e.rules[65].opcodes[11]={type:2,children:[12,13]},e.rules[65].opcodes[12]={type:4,index:10},e.rules[65].opcodes[13]={type:4,index:66},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,6,11,16,21,26,31,36,41]},e.rules[66].opcodes[1]={type:3,min:0,max:1},e.rules[66].opcodes[2]={type:2,children:[3,4,5]},e.rules[66].opcodes[3]={type:4,index:10},e.rules[66].opcodes[4]={type:6,string:[85,82,73,58,32]},e.rules[66].opcodes[5]={type:4,index:70},e.rules[66].opcodes[6]={type:3,min:0,max:1},e.rules[66].opcodes[7]={type:2,children:[8,9,10]},e.rules[66].opcodes[8]={type:4,index:10},e.rules[66].opcodes[9]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[66].opcodes[10]={type:4,index:71},e.rules[66].opcodes[11]={type:3,min:0,max:1},e.rules[66].opcodes[12]={type:2,children:[13,14,15]},e.rules[66].opcodes[13]={type:4,index:10},e.rules[66].opcodes[14]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[66].opcodes[15]={type:4,index:72},e.rules[66].opcodes[16]={type:3,min:0,max:1},e.rules[66].opcodes[17]={type:2,children:[18,19,20]},e.rules[66].opcodes[18]={type:4,index:10},e.rules[66].opcodes[19]={type:6,string:[78,111,110,99,101,58,32]},e.rules[66].opcodes[20]={type:4,index:73},e.rules[66].opcodes[21]={type:3,min:0,max:1},e.rules[66].opcodes[22]={type:2,children:[23,24,25]},e.rules[66].opcodes[23]={type:4,index:10},e.rules[66].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[66].opcodes[25]={type:4,index:74},e.rules[66].opcodes[26]={type:3,min:0,max:1},e.rules[66].opcodes[27]={type:2,children:[28,29,30]},e.rules[66].opcodes[28]={type:4,index:10},e.rules[66].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[66].opcodes[30]={type:4,index:75},e.rules[66].opcodes[31]={type:3,min:0,max:1},e.rules[66].opcodes[32]={type:2,children:[33,34,35]},e.rules[66].opcodes[33]={type:4,index:10},e.rules[66].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[66].opcodes[35]={type:4,index:76},e.rules[66].opcodes[36]={type:3,min:0,max:1},e.rules[66].opcodes[37]={type:2,children:[38,39,40]},e.rules[66].opcodes[38]={type:4,index:10},e.rules[66].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[66].opcodes[40]={type:4,index:77},e.rules[66].opcodes[41]={type:3,min:0,max:1},e.rules[66].opcodes[42]={type:2,children:[43,44,45]},e.rules[66].opcodes[43]={type:4,index:10},e.rules[66].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[66].opcodes[45]={type:4,index:78},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:4,index:36},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:32,max:44},e.rules[68].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[68].opcodes[2]={type:5,min:49,max:57},e.rules[68].opcodes[3]={type:5,min:65,max:72},e.rules[68].opcodes[4]={type:5,min:74,max:78},e.rules[68].opcodes[5]={type:5,min:80,max:90},e.rules[68].opcodes[6]={type:5,min:97,max:107},e.rules[68].opcodes[7]={type:5,min:109,max:122},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:3,min:1,max:1/0},e.rules[69].opcodes[1]={type:1,children:[2,3,4]},e.rules[69].opcodes[2]={type:4,index:62},e.rules[69].opcodes[3]={type:4,index:61},e.rules[69].opcodes[4]={type:7,string:[32]},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:4,index:29},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:7,string:[49]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[72].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[72].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[72].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[72].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[72].opcodes[5]={type:6,string:[115,111,108,97,110,97,58,109,97,105,110,110,101,116]},e.rules[72].opcodes[6]={type:6,string:[115,111,108,97,110,97,58,116,101,115,116,110,101,116]},e.rules[72].opcodes[7]={type:6,string:[115,111,108,97,110,97,58,100,101,118,110,101,116]},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:3,min:8,max:1/0},e.rules[73].opcodes[1]={type:1,children:[2,3]},e.rules[73].opcodes[2]={type:4,index:0},e.rules[73].opcodes[3]={type:4,index:6},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:4,index:28},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:4,index:57},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:3,min:0,max:1/0},e.rules[78].opcodes[1]={type:2,children:[2,3,4]},e.rules[78].opcodes[2]={type:4,index:10},e.rules[78].opcodes[3]={type:7,string:[45,32]},e.rules[78].opcodes[4]={type:4,index:29},e.toString=o(function(){let r="";return r+=`; ==============================================================================
`,r+=`; Core rules for ABNF (RFC 5234)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,r+=`
`,r+=`ALPHA          =  %x41-5A / %x61-7A
`,r+=`               ; A-Z / a-z
`,r+=`
`,r+=`BIT            =  "0" / "1"
`,r+=`
`,r+=`CHAR           =  %x01-7F
`,r+=`               ; any 7-bit US-ASCII character,
`,r+=`               ;  excluding NUL
`,r+=`
`,r+=`CR             =  %x0D
`,r+=`               ; carriage return
`,r+=`
`,r+=`CRLF           =  CR LF
`,r+=`               ; Internet standard newline
`,r+=`
`,r+=`CTL            =  %x00-1F / %x7F
`,r+=`               ; controls
`,r+=`
`,r+=`DIGIT          =  %x30-39
`,r+=`               ; 0-9
`,r+=`
`,r+=`DQUOTE         =  %x22
`,r+=`               ; " (Double Quote)
`,r+=`
`,r+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,r+=`
`,r+=`HTAB           =  %x09
`,r+=`               ; horizontal tab
`,r+=`
`,r+=`LF             =  %x0A
`,r+=`               ; linefeed
`,r+=`
`,r+=`LWSP           =  *(WSP / CRLF WSP)
`,r+=`               ; Use of this linear-white-space rule
`,r+=`               ;  permits lines containing only white
`,r+=`               ;  space that are no longer legal in
`,r+=`               ;  mail headers and have caused
`,r+=`               ;  interoperability problems in other
`,r+=`               ;  contexts.
`,r+=`               ; Do not use when defining mail
`,r+=`               ;  headers and use with caution in
`,r+=`               ;  other contexts.
`,r+=`
`,r+=`OCTET          =  %x00-FF
`,r+=`               ; 8 bits of data
`,r+=`
`,r+=`SP             =  %x20
`,r+=`
`,r+=`VCHAR          =  %x21-7E
`,r+=`               ; visible (printing) characters
`,r+=`
`,r+=`WSP            =  SP / HTAB
`,r+=`               ; white space
`,r+=`; ==============================================================================
`,r+=`; Internet Date/Time Format (RFC 3339)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,r+=`
`,r+=`date-fullyear   = 4DIGIT
`,r+=`
`,r+=`date-month      = 2DIGIT  ; 01-12
`,r+=`
`,r+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,r+=`                          ; month/year
`,r+=`
`,r+=`time-hour       = 2DIGIT  ; 00-23
`,r+=`
`,r+=`time-minute     = 2DIGIT  ; 00-59
`,r+=`
`,r+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,r+=`                          ; rules
`,r+=`
`,r+=`time-secfrac    = "." 1*DIGIT
`,r+=`
`,r+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,r+=`
`,r+=`time-offset     = "Z" / time-numoffset
`,r+=`
`,r+=`partial-time    = time-hour ":" time-minute ":" time-second
`,r+=`                  [time-secfrac]
`,r+=`
`,r+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,r+=`
`,r+=`full-time       = partial-time time-offset
`,r+=`
`,r+=`date-time       = full-date "T" full-time
`,r+=`; ==============================================================================
`,r+=`; Uniform Resource Identifier (RFC 3986)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,r+=`
`,r+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`hier-part     = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-rootless
`,r+=`              / path-empty
`,r+=`
`,r+=`URI-reference = URI / relative-ref
`,r+=`
`,r+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,r+=`
`,r+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`relative-part = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-noscheme
`,r+=`              / path-empty
`,r+=`
`,r+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,r+=`
`,r+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,r+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,r+=`host          = IP-literal / IPv4address / reg-name
`,r+=`port          = *DIGIT
`,r+=`
`,r+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,r+=`
`,r+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,r+=`
`,r+=`IPv6address   =                            6( h16 ":" ) ls32
`,r+=`              /                       "::" 5( h16 ":" ) ls32
`,r+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,r+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,r+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,r+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,r+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,r+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,r+=`              / [ *6( h16 ":" ) h16 ] "::"
`,r+=`
`,r+=`h16           = 1*4HEXDIG
`,r+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,r+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,r+=`dec-octet     = DIGIT                 ; 0-9
`,r+=`              / %x31-39 DIGIT         ; 10-99
`,r+=`              / "1" 2DIGIT            ; 100-199
`,r+=`              / "2" %x30-34 DIGIT     ; 200-249
`,r+=`              / "25" %x30-35          ; 250-255
`,r+=`
`,r+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,r+=`
`,r+=`path          = path-abempty    ; begins with "/" or is empty
`,r+=`              / path-absolute   ; begins with "/" but not "//"
`,r+=`              / path-noscheme   ; begins with a non-colon segment
`,r+=`              / path-rootless   ; begins with a segment
`,r+=`              / path-empty      ; zero characters
`,r+=`
`,r+=`path-abempty  = *( "/" segment )
`,r+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,r+=`path-noscheme = segment-nz-nc *( "/" segment )
`,r+=`path-rootless = segment-nz *( "/" segment )
`,r+=`path-empty    = 0pchar
`,r+=`
`,r+=`segment       = *pchar
`,r+=`segment-nz    = 1*pchar
`,r+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,r+=`; non-zero-length segment without any colon ":"
`,r+=`
`,r+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,r+=`
`,r+=`query         = *( pchar / "/" / "?" )
`,r+=`
`,r+=`fragment      = *( pchar / "/" / "?" )
`,r+=`
`,r+=`pct-encoded   = "%" HEXDIG HEXDIG
`,r+=`
`,r+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,r+=`reserved      = gen-delims / sub-delims
`,r+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,r+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,r+=`              / "*" / "+" / "," / ";" / "="
`,r+=`; ==============================================================================
`,r+=`; Sign in with Solana
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`; - datetime.bnf
`,r+=`; - uri.bnf
`,r+=`; - dns.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://eips.ethereum.org/EIPS/eip-4361
`,r+=` 
`,r+=`sign-in-with-solana =
`,r+=`  message-domain %s" wants you to sign in with your Solana account:" LF
`,r+=`  message-address
`,r+=`  [ LF LF message-statement ]
`,r+=`  [ LF advanced-fields ]
`,r+=`
`,r+=`advanced-fields =
`,r+=`  [ LF %s"URI: " message-uri ]
`,r+=`  [ LF %s"Version: " message-version ]
`,r+=`  [ LF %s"Chain ID: " message-chain-id ]
`,r+=`  [ LF %s"Nonce: " message-nonce ]
`,r+=`  [ LF %s"Issued At: " message-issued-at ]
`,r+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,r+=`  [ LF %s"Not Before: " message-not-before ]
`,r+=`  [ LF %s"Request ID: " message-request-id ]
`,r+=`  [ LF %s"Resources:" message-resources ]
`,r+=`
`,r+=`message-domain          = authority
`,r+=`message-address         = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )
`,r+=`message-statement       = 1*( reserved / unreserved / " " )
`,r+=`message-uri             = URI
`,r+=`message-version         = "1"
`,r+=`message-chain-id        = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet" / %s"solana:mainnet" / %s"solana:testnet" / %s"solana:devnet"
`,r+=`message-nonce           = 8*( ALPHA / DIGIT )
`,r+=`message-issued-at       = date-time
`,r+=`message-expiration-time = date-time
`,r+=`message-not-before      = date-time
`,r+=`message-request-id      = *pchar
`,r+=`message-resources       = *( LF "- " URI )
`,r},"toString"),e}o(pc,"grammar");d();p();function lc(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"dnsurl",lower:"dnsurl",index:65,isBkr:!1},e.rules[66]={name:"dnsauthority",lower:"dnsauthority",index:66,isBkr:!1},e.rules[67]={name:"dnsname",lower:"dnsname",index:67,isBkr:!1},e.rules[68]={name:"dnsquery",lower:"dnsquery",index:68,isBkr:!1},e.rules[69]={name:"dnsqueryelement",lower:"dnsqueryelement",index:69,isBkr:!1},e.rules[70]={name:"dnsclassval",lower:"dnsclassval",index:70,isBkr:!1},e.rules[71]={name:"dnstypeval",lower:"dnstypeval",index:71,isBkr:!1},e.rules[72]={name:"chain-id",lower:"chain-id",index:72,isBkr:!1},e.rules[73]={name:"eth-namespace",lower:"eth-namespace",index:73,isBkr:!1},e.rules[74]={name:"eth-network-id",lower:"eth-network-id",index:74,isBkr:!1},e.rules[75]={name:"eth-chain-id",lower:"eth-chain-id",index:75,isBkr:!1},e.rules[76]={name:"sol-namespace",lower:"sol-namespace",index:76,isBkr:!1},e.rules[77]={name:"sol-network-id",lower:"sol-network-id",index:77,isBkr:!1},e.rules[78]={name:"sol-chain-id",lower:"sol-chain-id",index:78,isBkr:!1},e.rules[79]={name:"account-id",lower:"account-id",index:79,isBkr:!1},e.rules[80]={name:"eth-address",lower:"eth-address",index:80,isBkr:!1},e.rules[81]={name:"eth-account-id",lower:"eth-account-id",index:81,isBkr:!1},e.rules[82]={name:"sol-address",lower:"sol-address",index:82,isBkr:!1},e.rules[83]={name:"sol-account-id",lower:"sol-account-id",index:83,isBkr:!1},e.rules[84]={name:"sign-in-with-x",lower:"sign-in-with-x",index:84,isBkr:!1},e.rules[85]={name:"sign-in-with-eth",lower:"sign-in-with-eth",index:85,isBkr:!1},e.rules[86]={name:"sign-in-with-sol",lower:"sign-in-with-sol",index:86,isBkr:!1},e.rules[87]={name:"message-domain",lower:"message-domain",index:87,isBkr:!1},e.rules[88]={name:"message-address",lower:"message-address",index:88,isBkr:!1},e.rules[89]={name:"message-statement",lower:"message-statement",index:89,isBkr:!1},e.rules[90]={name:"message-uri",lower:"message-uri",index:90,isBkr:!1},e.rules[91]={name:"message-version",lower:"message-version",index:91,isBkr:!1},e.rules[92]={name:"message-chain-id",lower:"message-chain-id",index:92,isBkr:!1},e.rules[93]={name:"message-nonce",lower:"message-nonce",index:93,isBkr:!1},e.rules[94]={name:"message-issued-at",lower:"message-issued-at",index:94,isBkr:!1},e.rules[95]={name:"message-expiration-time",lower:"message-expiration-time",index:95,isBkr:!1},e.rules[96]={name:"message-not-before",lower:"message-not-before",index:96,isBkr:!1},e.rules[97]={name:"message-request-id",lower:"message-request-id",index:97,isBkr:!1},e.rules[98]={name:"message-resources",lower:"message-resources",index:98,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,7,8]},e.rules[65].opcodes[1]={type:7,string:[100,110,115,58]},e.rules[65].opcodes[2]={type:3,min:0,max:1},e.rules[65].opcodes[3]={type:2,children:[4,5,6]},e.rules[65].opcodes[4]={type:7,string:[47,47]},e.rules[65].opcodes[5]={type:4,index:66},e.rules[65].opcodes[6]={type:7,string:[47]},e.rules[65].opcodes[7]={type:4,index:67},e.rules[65].opcodes[8]={type:3,min:0,max:1},e.rules[65].opcodes[9]={type:2,children:[10,11]},e.rules[65].opcodes[10]={type:7,string:[63]},e.rules[65].opcodes[11]={type:4,index:68},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,2]},e.rules[66].opcodes[1]={type:4,index:38},e.rules[66].opcodes[2]={type:3,min:0,max:1},e.rules[66].opcodes[3]={type:2,children:[4,5]},e.rules[66].opcodes[4]={type:7,string:[58]},e.rules[66].opcodes[5]={type:4,index:39},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:3,min:0,max:1/0},e.rules[67].opcodes[1]={type:4,index:57},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:2,children:[1,2]},e.rules[68].opcodes[1]={type:4,index:69},e.rules[68].opcodes[2]={type:3,min:0,max:1},e.rules[68].opcodes[3]={type:2,children:[4,5]},e.rules[68].opcodes[4]={type:7,string:[59]},e.rules[68].opcodes[5]={type:4,index:68},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:1,children:[1,4]},e.rules[69].opcodes[1]={type:2,children:[2,3]},e.rules[69].opcodes[2]={type:7,string:[99,108,97,115,115,61]},e.rules[69].opcodes[3]={type:4,index:70},e.rules[69].opcodes[4]={type:2,children:[5,6]},e.rules[69].opcodes[5]={type:7,string:[116,121,112,101,61]},e.rules[69].opcodes[6]={type:4,index:71},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:1,children:[1,3,4]},e.rules[70].opcodes[1]={type:3,min:1,max:1/0},e.rules[70].opcodes[2]={type:4,index:6},e.rules[70].opcodes[3]={type:7,string:[105,110]},e.rules[70].opcodes[4]={type:7,string:[99,104]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:1,children:[1,3,4,5]},e.rules[71].opcodes[1]={type:3,min:1,max:1/0},e.rules[71].opcodes[2]={type:4,index:6},e.rules[71].opcodes[3]={type:7,string:[97]},e.rules[71].opcodes[4]={type:7,string:[110,115]},e.rules[71].opcodes[5]={type:7,string:[109,100]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2]},e.rules[72].opcodes[1]={type:4,index:75},e.rules[72].opcodes[2]={type:4,index:78},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:6,string:[101,105,112,49,53,53]},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:3,min:1,max:32},e.rules[74].opcodes[1]={type:4,index:6},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:2,children:[1,2,3]},e.rules[75].opcodes[1]={type:4,index:73},e.rules[75].opcodes[2]={type:7,string:[58]},e.rules[75].opcodes[3]={type:4,index:74},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:6,string:[115,111,108,97,110,97]},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:1,children:[1,2,3,4]},e.rules[77].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[77].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[77].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[77].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:2,children:[1,2,3]},e.rules[78].opcodes[1]={type:4,index:76},e.rules[78].opcodes[2]={type:7,string:[58]},e.rules[78].opcodes[3]={type:4,index:77},e.rules[79].opcodes=[],e.rules[79].opcodes[0]={type:1,children:[1,2]},e.rules[79].opcodes[1]={type:4,index:81},e.rules[79].opcodes[2]={type:4,index:83},e.rules[80].opcodes=[],e.rules[80].opcodes[0]={type:2,children:[1,2]},e.rules[80].opcodes[1]={type:7,string:[48,120]},e.rules[80].opcodes[2]={type:3,min:40,max:40},e.rules[80].opcodes[3]={type:4,index:8},e.rules[81].opcodes=[],e.rules[81].opcodes[0]={type:2,children:[1,2,3]},e.rules[81].opcodes[1]={type:4,index:75},e.rules[81].opcodes[2]={type:7,string:[58]},e.rules[81].opcodes[3]={type:4,index:80},e.rules[82].opcodes=[],e.rules[82].opcodes[0]={type:3,min:32,max:44},e.rules[82].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[82].opcodes[2]={type:5,min:49,max:57},e.rules[82].opcodes[3]={type:5,min:65,max:72},e.rules[82].opcodes[4]={type:5,min:74,max:78},e.rules[82].opcodes[5]={type:5,min:80,max:90},e.rules[82].opcodes[6]={type:5,min:97,max:107},e.rules[82].opcodes[7]={type:5,min:109,max:122},e.rules[83].opcodes=[],e.rules[83].opcodes[0]={type:2,children:[1,2,3]},e.rules[83].opcodes[1]={type:4,index:78},e.rules[83].opcodes[2]={type:7,string:[58]},e.rules[83].opcodes[3]={type:4,index:82},e.rules[84].opcodes=[],e.rules[84].opcodes[0]={type:1,children:[1,2]},e.rules[84].opcodes[1]={type:4,index:85},e.rules[84].opcodes[2]={type:4,index:86},e.rules[85].opcodes=[],e.rules[85].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[85].opcodes[1]={type:4,index:87},e.rules[85].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[85].opcodes[3]={type:4,index:10},e.rules[85].opcodes[4]={type:4,index:81},e.rules[85].opcodes[5]={type:4,index:10},e.rules[85].opcodes[6]={type:4,index:10},e.rules[85].opcodes[7]={type:3,min:0,max:1},e.rules[85].opcodes[8]={type:2,children:[9,10]},e.rules[85].opcodes[9]={type:4,index:89},e.rules[85].opcodes[10]={type:4,index:10},e.rules[85].opcodes[11]={type:4,index:10},e.rules[85].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[85].opcodes[13]={type:4,index:90},e.rules[85].opcodes[14]={type:4,index:10},e.rules[85].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[85].opcodes[16]={type:4,index:91},e.rules[85].opcodes[17]={type:4,index:10},e.rules[85].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[85].opcodes[19]={type:4,index:75},e.rules[85].opcodes[20]={type:4,index:10},e.rules[85].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[85].opcodes[22]={type:4,index:93},e.rules[85].opcodes[23]={type:4,index:10},e.rules[85].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[85].opcodes[25]={type:4,index:94},e.rules[85].opcodes[26]={type:3,min:0,max:1},e.rules[85].opcodes[27]={type:2,children:[28,29,30]},e.rules[85].opcodes[28]={type:4,index:10},e.rules[85].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[85].opcodes[30]={type:4,index:95},e.rules[85].opcodes[31]={type:3,min:0,max:1},e.rules[85].opcodes[32]={type:2,children:[33,34,35]},e.rules[85].opcodes[33]={type:4,index:10},e.rules[85].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[85].opcodes[35]={type:4,index:96},e.rules[85].opcodes[36]={type:3,min:0,max:1},e.rules[85].opcodes[37]={type:2,children:[38,39,40]},e.rules[85].opcodes[38]={type:4,index:10},e.rules[85].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[85].opcodes[40]={type:4,index:97},e.rules[85].opcodes[41]={type:3,min:0,max:1},e.rules[85].opcodes[42]={type:2,children:[43,44,45]},e.rules[85].opcodes[43]={type:4,index:10},e.rules[85].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[85].opcodes[45]={type:4,index:98},e.rules[86].opcodes=[],e.rules[86].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[86].opcodes[1]={type:4,index:87},e.rules[86].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[86].opcodes[3]={type:4,index:10},e.rules[86].opcodes[4]={type:4,index:83},e.rules[86].opcodes[5]={type:4,index:10},e.rules[86].opcodes[6]={type:4,index:10},e.rules[86].opcodes[7]={type:3,min:0,max:1},e.rules[86].opcodes[8]={type:2,children:[9,10]},e.rules[86].opcodes[9]={type:4,index:89},e.rules[86].opcodes[10]={type:4,index:10},e.rules[86].opcodes[11]={type:4,index:10},e.rules[86].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[86].opcodes[13]={type:4,index:90},e.rules[86].opcodes[14]={type:4,index:10},e.rules[86].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[86].opcodes[16]={type:4,index:91},e.rules[86].opcodes[17]={type:4,index:10},e.rules[86].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[86].opcodes[19]={type:4,index:78},e.rules[86].opcodes[20]={type:4,index:10},e.rules[86].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[86].opcodes[22]={type:4,index:93},e.rules[86].opcodes[23]={type:4,index:10},e.rules[86].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[86].opcodes[25]={type:4,index:94},e.rules[86].opcodes[26]={type:3,min:0,max:1},e.rules[86].opcodes[27]={type:2,children:[28,29,30]},e.rules[86].opcodes[28]={type:4,index:10},e.rules[86].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[86].opcodes[30]={type:4,index:95},e.rules[86].opcodes[31]={type:3,min:0,max:1},e.rules[86].opcodes[32]={type:2,children:[33,34,35]},e.rules[86].opcodes[33]={type:4,index:10},e.rules[86].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[86].opcodes[35]={type:4,index:96},e.rules[86].opcodes[36]={type:3,min:0,max:1},e.rules[86].opcodes[37]={type:2,children:[38,39,40]},e.rules[86].opcodes[38]={type:4,index:10},e.rules[86].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[86].opcodes[40]={type:4,index:97},e.rules[86].opcodes[41]={type:3,min:0,max:1},e.rules[86].opcodes[42]={type:2,children:[43,44,45]},e.rules[86].opcodes[43]={type:4,index:10},e.rules[86].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[86].opcodes[45]={type:4,index:98},e.rules[87].opcodes=[],e.rules[87].opcodes[0]={type:4,index:66},e.rules[88].opcodes=[],e.rules[88].opcodes[0]={type:1,children:[1,2]},e.rules[88].opcodes[1]={type:4,index:81},e.rules[88].opcodes[2]={type:4,index:83},e.rules[89].opcodes=[],e.rules[89].opcodes[0]={type:3,min:1,max:1/0},e.rules[89].opcodes[1]={type:1,children:[2,3,4]},e.rules[89].opcodes[2]={type:4,index:62},e.rules[89].opcodes[3]={type:4,index:61},e.rules[89].opcodes[4]={type:7,string:[32]},e.rules[90].opcodes=[],e.rules[90].opcodes[0]={type:4,index:29},e.rules[91].opcodes=[],e.rules[91].opcodes[0]={type:7,string:[49]},e.rules[92].opcodes=[],e.rules[92].opcodes[0]={type:1,children:[1,2]},e.rules[92].opcodes[1]={type:4,index:75},e.rules[92].opcodes[2]={type:4,index:78},e.rules[93].opcodes=[],e.rules[93].opcodes[0]={type:3,min:8,max:1/0},e.rules[93].opcodes[1]={type:1,children:[2,3]},e.rules[93].opcodes[2]={type:4,index:0},e.rules[93].opcodes[3]={type:4,index:6},e.rules[94].opcodes=[],e.rules[94].opcodes[0]={type:4,index:28},e.rules[95].opcodes=[],e.rules[95].opcodes[0]={type:4,index:28},e.rules[96].opcodes=[],e.rules[96].opcodes[0]={type:4,index:28},e.rules[97].opcodes=[],e.rules[97].opcodes[0]={type:3,min:0,max:1/0},e.rules[97].opcodes[1]={type:4,index:57},e.rules[98].opcodes=[],e.rules[98].opcodes[0]={type:3,min:0,max:1/0},e.rules[98].opcodes[1]={type:2,children:[2,3,4]},e.rules[98].opcodes[2]={type:4,index:10},e.rules[98].opcodes[3]={type:7,string:[45,32]},e.rules[98].opcodes[4]={type:4,index:29},e.toString=()=>{let t="";return t+=`; ==============================================================================
`,t+=`; Core rules for ABNF (RFC 5234)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,t+=`
`,t+=`ALPHA          =  %x41-5A / %x61-7A
`,t+=`               ; A-Z / a-z
`,t+=`
`,t+=`BIT            =  "0" / "1"
`,t+=`
`,t+=`CHAR           =  %x01-7F
`,t+=`               ; any 7-bit US-ASCII character,
`,t+=`               ;  excluding NUL
`,t+=`
`,t+=`CR             =  %x0D
`,t+=`               ; carriage return
`,t+=`
`,t+=`CRLF           =  CR LF
`,t+=`               ; Internet standard newline
`,t+=`
`,t+=`CTL            =  %x00-1F / %x7F
`,t+=`               ; controls
`,t+=`
`,t+=`DIGIT          =  %x30-39
`,t+=`               ; 0-9
`,t+=`
`,t+=`DQUOTE         =  %x22
`,t+=`               ; " (Double Quote)
`,t+=`
`,t+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,t+=`
`,t+=`HTAB           =  %x09
`,t+=`               ; horizontal tab
`,t+=`
`,t+=`LF             =  %x0A
`,t+=`               ; linefeed
`,t+=`
`,t+=`LWSP           =  *(WSP / CRLF WSP)
`,t+=`               ; Use of this linear-white-space rule
`,t+=`               ;  permits lines containing only white
`,t+=`               ;  space that are no longer legal in
`,t+=`               ;  mail headers and have caused
`,t+=`               ;  interoperability problems in other
`,t+=`               ;  contexts.
`,t+=`               ; Do not use when defining mail
`,t+=`               ;  headers and use with caution in
`,t+=`               ;  other contexts.
`,t+=`
`,t+=`OCTET          =  %x00-FF
`,t+=`               ; 8 bits of data
`,t+=`
`,t+=`SP             =  %x20
`,t+=`
`,t+=`VCHAR          =  %x21-7E
`,t+=`               ; visible (printing) characters
`,t+=`
`,t+=`WSP            =  SP / HTAB
`,t+=`               ; white space
`,t+=`; ==============================================================================
`,t+=`; Internet Date/Time Format (RFC 3339)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,t+=`
`,t+=`date-fullyear   = 4DIGIT
`,t+=`
`,t+=`date-month      = 2DIGIT  ; 01-12
`,t+=`
`,t+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,t+=`                          ; month/year
`,t+=`
`,t+=`time-hour       = 2DIGIT  ; 00-23
`,t+=`
`,t+=`time-minute     = 2DIGIT  ; 00-59
`,t+=`
`,t+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,t+=`                          ; rules
`,t+=`
`,t+=`time-secfrac    = "." 1*DIGIT
`,t+=`
`,t+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,t+=`
`,t+=`time-offset     = "Z" / time-numoffset
`,t+=`
`,t+=`partial-time    = time-hour ":" time-minute ":" time-second
`,t+=`                  [time-secfrac]
`,t+=`
`,t+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,t+=`
`,t+=`full-time       = partial-time time-offset
`,t+=`
`,t+=`date-time       = full-date "T" full-time
`,t+=`; ==============================================================================
`,t+=`; Uniform Resource Identifier (RFC 3986)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,t+=`
`,t+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,t+=`
`,t+=`hier-part     = "//" authority path-abempty
`,t+=`              / path-absolute
`,t+=`              / path-rootless
`,t+=`              / path-empty
`,t+=`
`,t+=`URI-reference = URI / relative-ref
`,t+=`
`,t+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,t+=`
`,t+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,t+=`
`,t+=`relative-part = "//" authority path-abempty
`,t+=`              / path-absolute
`,t+=`              / path-noscheme
`,t+=`              / path-empty
`,t+=`
`,t+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,t+=`
`,t+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,t+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,t+=`host          = IP-literal / IPv4address / reg-name
`,t+=`port          = *DIGIT
`,t+=`
`,t+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,t+=`
`,t+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,t+=`
`,t+=`IPv6address   =                            6( h16 ":" ) ls32
`,t+=`              /                       "::" 5( h16 ":" ) ls32
`,t+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,t+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,t+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,t+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,t+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,t+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,t+=`              / [ *6( h16 ":" ) h16 ] "::"
`,t+=`
`,t+=`h16           = 1*4HEXDIG
`,t+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,t+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,t+=`dec-octet     = DIGIT                 ; 0-9
`,t+=`              / %x31-39 DIGIT         ; 10-99
`,t+=`              / "1" 2DIGIT            ; 100-199
`,t+=`              / "2" %x30-34 DIGIT     ; 200-249
`,t+=`              / "25" %x30-35          ; 250-255
`,t+=`
`,t+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,t+=`
`,t+=`path          = path-abempty    ; begins with "/" or is empty
`,t+=`              / path-absolute   ; begins with "/" but not "//"
`,t+=`              / path-noscheme   ; begins with a non-colon segment
`,t+=`              / path-rootless   ; begins with a segment
`,t+=`              / path-empty      ; zero characters
`,t+=`
`,t+=`path-abempty  = *( "/" segment )
`,t+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,t+=`path-noscheme = segment-nz-nc *( "/" segment )
`,t+=`path-rootless = segment-nz *( "/" segment )
`,t+=`path-empty    = 0pchar
`,t+=`
`,t+=`segment       = *pchar
`,t+=`segment-nz    = 1*pchar
`,t+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,t+=`; non-zero-length segment without any colon ":"
`,t+=`
`,t+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,t+=`
`,t+=`query         = *( pchar / "/" / "?" )
`,t+=`
`,t+=`fragment      = *( pchar / "/" / "?" )
`,t+=`
`,t+=`pct-encoded   = "%" HEXDIG HEXDIG
`,t+=`
`,t+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,t+=`reserved      = gen-delims / sub-delims
`,t+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,t+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,t+=`              / "*" / "+" / "," / ";" / "="
`,t+=`; ==============================================================================
`,t+=`; DNS URI (RFC 4501)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - uri.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc4501.html#section-3
`,t+=`;
`,t+=`; Note:
`,t+=`; dnsclassval and dnstypeval are not defined exhaustively
`,t+=`; but their definitions are unused in SIW grammars.
`,t+=`
`,t+=`
`,t+=`dnsurl          = "dns:" [ "//" dnsauthority "/" ]
`,t+=`                  dnsname ["?" dnsquery]
`,t+=`
`,t+=`dnsauthority    = host [ ":" port ]
`,t+=`                ; See RFC 3986 for the
`,t+=`                ; definition of "host" and "port".
`,t+=`
`,t+=`dnsname         = *pchar
`,t+=`                ; See RFC 3986 for the
`,t+=`                ; definition of "pchar".
`,t+=`
`,t+=`                ; The "dnsname" field may be a
`,t+=`                ; "relative" or "absolute" name,
`,t+=`                ; as per RFC 1034, section 3.1.
`,t+=`
`,t+=`                ; Note further that an empty
`,t+=`                ; "dnsname" value is to be
`,t+=`                ; interpreted as the root itself.
`,t+=`                ; See below on relative dnsnames.
`,t+=`
`,t+=`dnsquery        = dnsqueryelement [";" dnsquery]
`,t+=`
`,t+=`dnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )
`,t+=`                ; Each clause MUST NOT be used more
`,t+=`                ; than once.
`,t+=`
`,t+=`dnsclassval     = 1*digit / "IN" / "CH"
`,t+=`                ; omitted:
`,t+=`                ; / <Any IANA registered DNS class mnemonic>
`,t+=`
`,t+=`dnstypeval      = 1*digit / "A" / "NS" / "MD"
`,t+=`                ; omitted:
`,t+=`                ; / <Any IANA registered DNS type mnemonic>
`,t+=`; ==============================================================================
`,t+=`; Chain-agnostic IDs (CAIP-2)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`
`,t+=`chain-id        = eth-chain-id
`,t+=`                / sol-chain-id
`,t+=`                ; NOTE: Only Ethereum and Solana are supported at the moment
`,t+=`
`,t+=`
`,t+=`; Ethereum
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`eth-namespace   = %s"eip155"
`,t+=`                ; The chain-id namespace for evm chains
`,t+=`
`,t+=`eth-network-id  = 1*32DIGIT
`,t+=`                ; Accept up to 32 digits. Could probably be lowered
`,t+=`
`,t+=`eth-chain-id    = eth-namespace ":" eth-network-id
`,t+=`                ; Examples:
`,t+=`                ; - eip155:1   (eth mainnet)
`,t+=`                ; - eip155:137 (polygon mainnet)
`,t+=`
`,t+=`; Solana
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`sol-namespace   = %s"solana"
`,t+=`                ; The chain-id namespace for solana
`,t+=`
`,t+=`sol-network-id  = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet"
`,t+=`                ; This enumeration comes from https://github.com/solana-labs/wallet-standard/blob/master/packages/core/chains/src/index.ts
`,t+=`
`,t+=`sol-chain-id    = sol-namespace ":" sol-network-id
`,t+=`                ; Examples:
`,t+=`                ; - solana:mainnet (solana mainnet)
`,t+=`                ; - solana:testnet (solana testnet)
`,t+=`; ==============================================================================
`,t+=`; Chain-agnostic account identifiers (CAIP-10)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - chain-id.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`
`,t+=`account-id      = eth-account-id
`,t+=`                / sol-account-id
`,t+=`                ; NOTE: Only Ethereum and Solana are supported at the moment
`,t+=`
`,t+=`; Ethereum
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`eth-address     = "0x" 40HEXDIG
`,t+=`                ; Must also conform to captilization
`,t+=`                ; checksum encoding specified in EIP-55
`,t+=`                ; where applicable (EOAs).
`,t+=`
`,t+=`eth-account-id  = eth-chain-id ":" eth-address
`,t+=`                ; See CAIP-2 for definition of "eth-chain-id"
`,t+=`                ; Examples:
`,t+=`                ; - eip155:1:0xb9c5714089478a327f09197987f16f9e5d936e8a   (eth mainnet)
`,t+=`                ; - eip155:137:0xb9c5714089478a327f09197987f16f9e5d936e8a (polygon mainnet)
`,t+=`
`,t+=`; Solana
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`sol-address     = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )
`,t+=`                ; Valid Solana addresses are 32-44 base58-encoded chars: 1-9 / A-H / J-N / P-Z / a-k / m-z
`,t+=`                ; Note: this doesn't validate whether the address is "on the curve"
`,t+=`
`,t+=`sol-account-id  = sol-chain-id ":" sol-address
`,t+=`                ; See CAIP-2 for definition of "sol-chain-id"
`,t+=`                ; Examples:
`,t+=`                ; - solana:mainnet:FYpB58cLw5cwiN763ayB2sFT8HLF2MRUBbbyRgHYiRpK (solana mainnet)
`,t+=`                ; - solana:testnet:QhnBSSbjScn9VHBBqwosy99icpeJrW4iuEwkJ3d9Fn9  (solana testnet)
`,t+=`; ==============================================================================
`,t+=`; Sign in with X (CAIP-122)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - datetime.bnf
`,t+=`; - uri.bnf
`,t+=`; - dns.bnf
`,t+=`; - chain-id.bnf
`,t+=`; - account-id.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-122.md
`,t+=`;
`,t+=`; Note:
`,t+=`; Currently, this grammar file only supports the Ethereum and Solana blockchains
`,t+=`
`,t+=`sign-in-with-x = sign-in-with-eth
`,t+=`               / sign-in-with-sol
`,t+=`
`,t+=`; Ethereum
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`sign-in-with-eth =
`,t+=`  message-domain %s" wants you to sign in with your Ethereum account:" LF
`,t+=`  eth-account-id LF
`,t+=`  LF
`,t+=`  [ message-statement LF ]
`,t+=`  LF
`,t+=`  %s"URI: " message-uri LF
`,t+=`  %s"Version: " message-version LF
`,t+=`  %s"Chain ID: " eth-chain-id LF
`,t+=`  %s"Nonce: " message-nonce LF
`,t+=`  %s"Issued At: " message-issued-at
`,t+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,t+=`  [ LF %s"Not Before: " message-not-before ]
`,t+=`  [ LF %s"Request ID: " message-request-id ]
`,t+=`  [ LF %s"Resources:" message-resources ]
`,t+=`
`,t+=`; Solana
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`sign-in-with-sol =
`,t+=`  message-domain %s" wants you to sign in with your Solana account:" LF
`,t+=`  sol-account-id LF
`,t+=`  LF
`,t+=`  [ message-statement LF ]
`,t+=`  LF
`,t+=`  %s"URI: " message-uri LF
`,t+=`  %s"Version: " message-version LF
`,t+=`  %s"Chain ID: " sol-chain-id LF
`,t+=`  %s"Nonce: " message-nonce LF
`,t+=`  %s"Issued At: " message-issued-at
`,t+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,t+=`  [ LF %s"Not Before: " message-not-before ]
`,t+=`  [ LF %s"Request ID: " message-request-id ]
`,t+=`  [ LF %s"Resources:" message-resources ]
`,t+=`
`,t+=`; Common
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`message-domain          = dnsauthority ; CAIP-10 spec defines domain as dnsauthority unlike EIP-4361, which uses authority
`,t+=`message-address         = eth-account-id / sol-account-id ; See CAIP-10 for address identifier definition
`,t+=`message-statement       = 1*( reserved / unreserved / " " )
`,t+=`message-uri             = URI
`,t+=`message-version         = "1"
`,t+=`message-chain-id        = eth-chain-id / sol-chain-id
`,t+=`message-nonce           = 8*( ALPHA / DIGIT )
`,t+=`message-issued-at       = date-time
`,t+=`message-expiration-time = date-time
`,t+=`message-not-before      = date-time
`,t+=`message-request-id      = *pchar
`,t+=`message-resources       = *( LF "- " URI )
`,t},e}o(lc,"grammar");d();p();var ht=o((e,t)=>(r,n,s,i,c)=>(r===On.SEM_PRE&&(c[e]=t(n,s,i,c)),On.SEM_OK),"assign");var{apgLib:Dn}=globalThis;function Zo(e,t){let r=new Dn.parser;r.stats=new Dn.stats,r.trace=new Dn.trace,r.ast=new Dn.ast;let n=Dn.utils.charsToString,s=o((x,g,y)=>new Date(n(x,g,y)),"charsToDate"),i=o((x,g,y)=>new URL(n(x,g,y)),"charsToURL");r.ast.callbacks["message-domain"]=ht("domain",n),r.ast.callbacks["message-address"]=ht("address",n),r.ast.callbacks["message-statement"]=ht("statement",n),r.ast.callbacks["message-uri"]=ht("uri",i),r.ast.callbacks["message-version"]=ht("version",n),r.ast.callbacks["message-chain-id"]=ht("chainId",n),r.ast.callbacks["message-nonce"]=ht("nonce",n),r.ast.callbacks["message-issued-at"]=ht("issuedAt",s),r.ast.callbacks["message-expiration-time"]=ht("expirationTime",s),r.ast.callbacks["message-not-before"]=ht("notBefore",s),r.ast.callbacks["message-request-id"]=ht("requestId",n),r.ast.callbacks["message-resources"]=ht("resources",(x,g,y)=>y?n(x,g,y).slice(3).split(`
- `).map(E=>new URL(E)):[]),e===mt.X&&(r.ast.callbacks["eth-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["eth-chain-id"]=r.ast.callbacks["message-chain-id"],r.ast.callbacks["sol-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["sol-chain-id"]=r.ast.callbacks["message-chain-id"]);let c=null;switch(e){case mt.Ethereum:c=dc;break;case mt.Solana:c=pc;break;case mt.X:c=lc;break}if(!c)throw new Error(`Could not find grammar for ${e}`);let l=c(),u=r.parse(l,e,t);if(!u.success){let g=u.maxMatched+1,y=t.slice(0,g),E=y.split(`
`),b=E[E.length-1].length-1,S=[y,b>-1?" ".repeat(b)+"^":"^"].join(`
`);return{success:!1,error:new Error(S)}}let f={type:e};return r.ast.translate(f),{success:!0,data:f}}o(Zo,"parse");d();p();var uc={[Ke.ADDRESS_MISMATCH]:"address",[Ke.DOMAIN_MISMATCH]:"domain",[Ke.URI_MISMATCH]:"uri",[Ke.CHAIN_ID_MISMATCH]:"chainId",[Ke.ISSUED_TOO_FAR_IN_THE_PAST]:"issuedAt",[Ke.ISSUED_TOO_FAR_IN_THE_FUTURE]:"issuedAt",[Ke.EXPIRED]:"expirationTime",[Ke.EXPIRES_BEFORE_ISSUANCE]:"expirationTime",[Ke.VALID_AFTER_EXPIRATION]:"notBefore"};var Pn=ce(mr(),1);var _h={eth:{hexToCAIP2:o(e=>`eip155:${parseInt(e,16)}`,"hexToCAIP2"),getBufferedGasLimit(e){return"0x"+new Nr(Dd(new Nr(e))).toString(16)}},sol:{chainIdToCAIP2:st,chainIdToCluster:jc,serializeSolanaSignInMessage(e,{expectedChainId:t,expectedAddress:r,expectedURL:n}){let s=e.domain||n.host,i=e.address||r,c=`${s} wants you to sign in with your Solana account:
`;c+=`${i}`,e.statement&&(c+=`

${e.statement}`);let l=[];if(e.uri&&l.push(`URI: ${e.uri}`),e.version&&l.push(`Version: ${e.version}`),e.chainId&&l.push(`Chain ID: ${e.chainId}`),e.nonce&&l.push(`Nonce: ${e.nonce}`),e.issuedAt&&l.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&l.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&l.push(`Not Before: ${e.notBefore}`),e.requestId&&l.push(`Request ID: ${e.requestId}`),e.resources){l.push("Resources:");for(let g of e.resources)l.push(`- ${g}`)}l.length&&(c+=`

${l.join(`
`)}`);let u=Zo(mt.Solana,c);if(!u.success)return{type:"fail",data:Pn.default.encode(Buffer.from(c)),error:[{label:"PARSE_ERROR",message:u.error.message}]};let f=1e3*60*10,x=Wo(u.data,{expectedAddress:r,expectedURL:n,expectedChainId:t,issuedAtThreshold:f});return x.length?{type:"fail",data:Pn.default.encode(Buffer.from(c)),error:x.map(g=>({label:uc[g],message:`siwsErrorMessage_${g}`}))}:{type:"success",data:Pn.default.encode(Buffer.from(c))}},base58Encode:o(e=>Pn.default.encode(e),"base58Encode")},getFaviconURL:Xn,parseURL:Qn,getOrigin:Jn,getHostname:ld,getOriginAndHostname:Nt};var xc={};De(xc,{addTrustedApp:()=>Eh,btc:()=>gc,deleteTrustedApp:()=>vh,disableAutoConfirm:()=>Vh,enableAutoConfirm:()=>zh,eth:()=>Ns,fetchAutoConfirmSupportedNetworks:()=>qh,getAutoConfirmStatus:()=>jh,getMetaMaskOverrideSetting:()=>Th,getUser:()=>$h,isTrustedApp:()=>kh,isUserOnboarded:()=>Hh,navigate:()=>Mh,onboardQuickly:()=>Nh,openChat:()=>Dh,openNotificationCenter:()=>Oh,openUserProfile:()=>Ph,requestUserApproval:()=>Lh,requestUserOnboard:()=>Fh,setMetaMaskOverrideSetting:()=>Uh,sol:()=>fc,sui:()=>yc});d();p();d();p();var jy=new Be,qy=new Ct(jy),Eh=o(async(e,t)=>{let r=(await ge()).identifier;await qy.add(r,e,{dappMeta:{appUrl:t.url.origin,title:t.title,imageUrl:t.icon?.toString()},lastConnectedTimestamp:Date.now()})},"addTrustedApp");d();p();var Ky=new Be,Gy=new Ct(Ky),vh=o(async e=>{let t=(await ge()).identifier;await Gy.delete(t,e)},"deleteTrustedApp");d();p();var Wy=new Be,Th=o(async()=>await xr(Wy),"getMetaMaskOverrideSetting");d();p();var Zy=new Be,Yy=new Ct(Zy),kh=o(async e=>{let t=(await ge()).identifier;return!!(await Yy.get(t))[e]},"isTrustedApp");d();p();var Yo=ce(Dr(),1);d();p();var Rh=ce(Dr(),1);var Ih=30,mc=class{static{o(this,"NotificationManager")}findPopupIfExists=o(async()=>{try{X.addBreadcrumb("NotificationManager","focusPopupIfExists",_e.Debug);let t=await ip();for(let r of t){if(typeof r.id!="number"){X.addBreadcrumb("NotificationManager","popup has no id",_e.Debug);continue}if(r.type!=="popup"){X.addBreadcrumb("NotificationManager","found a non-popup type window",_e.Error);continue}let n=!1;if(r.tabs?.length===1){let[s]=r.tabs;if(s.url){let i=new URL(s.url).hostname,c=Rh.default.runtime.id;n=i===c}}if(!n){X.addBreadcrumb("NotificationManager","popup tab url does not have the extension origin",_e.Debug);continue}return r.id}return}catch(t){X.addBreadcrumb("NotificationManager","failed to get open popups",_e.Error),X.captureError(t instanceof Error?t:new Error("failed to get open popups"),ee.Provider);return}},"findPopupIfExists");showNotificationPopupAsync=o(async()=>{X.addBreadcrumb("NotificationManager","showNotificationPopupAsync",_e.Debug);let t=await this.findPopupIfExists();t&&await sp(t);let r=0,n=0;try{let i=await op();if(i.top!==void 0&&i.left!==void 0&&i.width!==void 0&&i.height!==void 0)n=i.top,r=i.left+i.width-Sn;else throw new Error("Couldn't get last focused window")}catch(i){X.addBreadcrumb("NotificationManager","failed to get last focused window",_e.Error),X.captureError(i instanceof Error?i:new Error("failed to get last focused window"),ee.Provider);let{screenX:c,screenY:l,outerWidth:u}=self;n=Math.max(l,0),r=Math.max(c+(u-Sn),0)}let s;try{s=await us({url:"notification.html",type:"popup",width:Sn,height:ys+Ih,left:r,top:n,focused:!0})}catch{n=0,r=0,s=await us({url:"notification.html",type:"popup",width:Sn,height:ys+Ih,left:r,top:n,focused:!0})}if(!s){let i=new Error("Could not open new popup notification");throw X.captureError(i,ee.Provider),i}try{(s.left!==r||s.top!==n)&&s.id&&s.state!=="fullscreen"&&await np(s.id,r,n)}catch(i){X.addBreadcrumb("NotificationManager","failed to update window position",_e.Error),X.captureError(i instanceof Error?i:new Error("failed to update window position"),ee.Provider)}return s},"showNotificationPopupAsync")},Ch=new mc;var Xy=o((e,t,r)=>{if(typeof r!="string")throw new Error("message must be a string");try{let n=mn(r);console.log("> Received message from popup:",n);let s=fr[t].response.parse(n);if(s.id===e)return s}catch(n){console.error(n)}throw new Error("RPC response ID does not match RPC request ID")},"handleMessage"),Bh=o((e,t,r)=>async n=>await Xy(t,r,n),"onMessage"),Jy=o(async(e,t,r)=>{let n=!1,i=Yo.default.runtime.connect({name:"popup/sidepanel"}),c=Bh(i,e,t);return new Promise((l,u)=>{i.postMessage(r),i.onMessage.addListener(async f=>{i.onMessage.removeListener(c);try{let x=await c(f);return n=!0,i.disconnect(),l(x)}catch(x){return u(x)}}),i.onDisconnect.addListener(()=>{if(!n)return i.onMessage.removeListener(c),a.userRejectedRequest(e)})})},"handleUserApprovalSidebar"),Qy=o(async(e,t,r)=>{let n=await Ch.showNotificationPopupAsync();if(!n)return a.resourceUnavailable(e);let s=n.id;if(typeof s!="number")throw new Error("No notification window id");let i=`notification/${s}`,c=`${io()}/notification.html`;return await new Promise((l,u)=>{let f=!1,x=o(g=>{let y=Bh(g,e,t);g.name===i&&g.sender&&g.sender.tab?.url===c&&(g.onMessage.addListener(async b=>{try{let S=await y(b);return f=!0,g.disconnect(),g.onMessage.removeListener(y),l(S)}catch(S){return u(S)}}),g.onDisconnect.addListener(()=>{f||(g.onMessage.removeListener(y),l(a.userRejectedRequest(e))),Yo.default.runtime.onConnect.removeListener(x)}),g.postMessage(r))},"onConnect");Yo.default.runtime.onConnect.addListener(x)})},"handleRequireUserApprovalNotification"),Lh=o(async e=>{let[t]=e.params,r=t.icon??void 0,n=await bp(),s=pd(t.url),i=gr({url:s,req:e,icon:r});return n?Jy(e.id,e.method,i):Qy(e.id,e.method,i)},"requestUserApproval");d();p();var e0=new Be,Uh=o(async e=>await kd(e0,e),"setMetaMaskOverrideSetting");d();p();var Mh=o(()=>{},"navigate");d();p();var Nh=o(()=>{throw new Error("This method is unsupported on extension.")},"onboardQuickly");d();p();var Oh=o(()=>{throw new Error("This method is unsupported on extension.")},"openNotificationCenter");d();p();var Dh=o(()=>{throw new Error("This method is unsupported on extension.")},"openChat");d();p();var Ph=o(()=>{throw new Error("This method is unsupported on extension.")},"openUserProfile");d();p();var Hh=o(async()=>!0,"isUserOnboarded");d();p();var Fh=o(async()=>{throw new Error("not implemented")},"requestUserOnboard");d();p();d();p();var t0={storage:new Be,signer:{sign:o((e,t)=>nd(fe,e,t),"sign"),getAuthenticationPublicKey:o(e=>fe.getAuthenticationPublicKey(e),"getAuthenticationPublicKey"),getAllSecretIdentifiers:fd},queryClient:kt,authConfig:gp,runExclusive:vu,isLocalTokenValidityCheckEnabled:o(()=>!yr.isFeatureEnabled("kill-frontend-local-check"),"isLocalTokenValidityCheckEnabled"),isServerTimeEnabled:o(()=>!yr.isFeatureEnabled("kill-frontend-server-time"),"isServerTimeEnabled")},Hn=md(t0);Hn.subscribe(ud.UserID,e=>{X.addBreadcrumb(ee.Generic,`Auth userID: ${e}`,_e.Info),Oe.addUserProperties({authUserId:e})});var $h=o(async()=>{let e=await Hn.getUser();if(!e)return null;let t=await ge();return{addresses:Object.values(be).map(n=>({type:n,address:Ue(t,n)})),authUserId:e.userID}},"getUser");d();p();var zh=o(async(e,t)=>{let r=(await ge()).identifier,n=await Ye.fetchAutoConfirmSupportedNetworks(e),{enabled:s}=await Ye.getAutoConfirmStatus({origin:e,accountIdentifier:r});if(s)return;let i=[];t&&t.length>0?i=t.filter(c=>n.includes(c)):i=n,await Ye.enableAutoConfirm({origin:e,accountIdentifier:r,networkIDs:i}),await kt.invalidateQueries({queryKey:Xt.trustedApps()}),await kt.invalidateQueries({queryKey:Xt.allAutoConfirm(r)}),await kt.invalidateQueries({queryKey:Xt.autoConfirm(r,e)})},"enableAutoConfirm");d();p();var Vh=o(async e=>{let t=(await ge()).identifier,{enabled:r}=await Ye.getAutoConfirmStatus({origin:e,accountIdentifier:t});r&&(await Ye.disableAutoConfirm({origin:e,accountIdentifier:t}),await kt.invalidateQueries({queryKey:Xt.trustedApps()}),await kt.invalidateQueries({queryKey:Xt.allAutoConfirm(t)}),await kt.invalidateQueries({queryKey:Xt.autoConfirm(t,e)}))},"disableAutoConfirm");d();p();var jh=o(async e=>{let t=(await ge()).identifier,{enabled:r,networkIDs:n}=await Ye.getAutoConfirmStatus({origin:e,accountIdentifier:t});return{enabled:r,networks:n}},"getAutoConfirmStatus");d();p();var qh=o(async e=>await Ye.fetchAutoConfirmSupportedNetworks(e),"fetchAutoConfirmSupportedNetworks");var fc={};De(fc,{addPriorityFee:()=>Gh,autoConfirmValidateMessage:()=>Wh,autoConfirmValidateTransaction:()=>Zh,getNetworkId:()=>lt,getSelectedAccount:()=>Yh,handleSolanaPayTransaction:()=>of,handleSolanaPayTransfer:()=>sf,sendAllTransactions:()=>ef,sendTransaction:()=>Jh,signAllTransactions:()=>Xo,signMessage:()=>rf,signTransaction:()=>nf});d();p();d();p();d();p();var lt=o(async()=>{let e=await ge(),t=td(e,be.Solana).networkID;return Qe.getSolanaNetworkIDValue(t)},"getNetworkId");var Gh=o(async e=>{let{transaction:t}=xt.deserializeVersionedTransaction(e);t.version==="legacy"&&(t=xt.deserializeWithVersion({transaction:e,type:"legacy"}).transaction);let r=await lt(),n=await Gd(t,{connection:Jt(st(r)),calculators:{cost:Kd,budget:new qd(2e5,2e5)}});return xt.serialize(n).transaction},"addPriorityFee");d();p();var Wh=o(async(e,t)=>{let r=await lt();if(r==="localnet")return{status:ye.UnsupportedNetworkId};let n=await ge(),s=await Ue(n,be.Solana),i=Yt(it.language)??"en",c=await Oe.getDeviceId();return Ye.isSolMessageAutoConfirmable({url:e,data:t,networkID:st(r),account:n,userAccountAddress:s,accountIdentifier:n.identifier??""},{locale:i,deviceId:c})},"autoConfirmValidateMessage");d();p();var Zh=o(async(e,t)=>{let r=await lt();if(r==="localnet")return{status:ye.UnsupportedNetworkId};let n=await ge(),s=await Ue(n,be.Solana),i=Yt(it.language)??"en",c=await Oe.getDeviceId();return Ye.isSolTransactionAutoConfirmable({url:e,networkID:st(r),data:t,account:n,userAccountAddress:s,accountIdentifier:n.identifier??""},{locale:i,deviceId:c})},"autoConfirmValidateTransaction");d();p();var Yh=o(async()=>{let e=await ge();return Ue(e,be.Solana)},"getSelectedAccount");d();p();var Xh=ce(mr(),1);var Jh=o(async(e,t)=>{let r=await lt(),n=ke.VersionedMessage.deserializeMessageVersion(Xh.default.decode(Or(e))),s=xt.deserializeWithVersion({transaction:e,type:n}),i;t?.method&&(i={"x-phantom-method":t.method}),await Jd({connection:Jt(st(r),i),signedTx:s.transaction,opts:t})},"sendTransaction");d();p();var Qh=ce(mr(),1);var ef=o(async(e,t)=>{let r=await lt(),n=Jt(st(r)),s=e.map(i=>{let c=ke.VersionedMessage.deserializeMessageVersion(Qh.default.decode(Or(i)));return xt.deserializeWithVersion({transaction:i,type:c}).transaction});return await Qd({connection:n,signedTxs:s,opts:t})},"sendAllTransactions");d();p();var tf=ce(mr(),1);var rf=o(async e=>{let t=await ge();Ue(t,be.Solana);let r=tf.default.decode(e).toString("utf-8"),n=await fe.sign(t.identifier,{chainType:be.Solana,signingType:"message",message:r});if(n.status!=="success")throw new Error(`[${n.type}] ${n.message}`);return n.signature},"signMessage");d();p();d();p();var hc=ce(mr(),1);var r0=new Be,Xo=o(async e=>{let t=await ge();Ue(t,be.Solana);let r=Ue(t,be.Solana),n=await lt(),s={ownerAddress:r,networkID:st(n),data:{signature:""},type:jr.DappInteraction,display:{summary:{topLeft:{text:it.t("transactionsPendingAppInteraction")}}}};return o(async()=>{let c=[];for(let l=0;l<e.length;l++){let u=e[l],f=ke.VersionedMessage.deserializeMessageVersion(hc.default.decode(Or(u))),x=xt.deserializeWithVersion({transaction:u,type:f}),g=await ep({pendingTransactionInput:s,accountIdentifier:t.identifier,feePayer:new ke.PublicKey(r),connection:Jt(st(n)),accountSigner:fe,transaction:x.transaction,storage:r0}),y=xt.serialize(g);c.push({transaction:y.transaction,signature:hc.default.encode(Bc(g)[0]),version:"version"in g?g.version:"legacy"})}return c},"signTx")()},"signAllTransactions");var nf=o(async e=>(await Xo([e]))[0],"signTransaction");d();p();var of=o(async()=>{},"handleSolanaPayTransaction");d();p();var sf=o(async()=>!1,"handleSolanaPayTransfer");var gc={};De(gc,{getSelectedAccount:()=>go,signMessage:()=>cf,signPSBT:()=>af});d();p();d();p();var af=o(async(e,t)=>{let r=await ge(),n=await fe.sign(r.identifier,{chainType:be.BitcoinTaproot,signingType:"transaction",message:Buffer.from(e).toString("hex"),inputsToSign:t.inputsToSign,finalize:t.finalize});if(n.status==="error")throw new Error(`[${n.type}] ${n.message}`);return Buffer.from(n.signature,"hex")},"signPSBT");d();p();var cf=o(async(e,t)=>{let r=await ge(),n=qc(fn.Mainnet,e),s=await fe.sign(r.identifier,{chainType:n,signingType:"message",message:t});if(s.status==="error")throw new Error(`[btc provider][${s.type}] ${s.message}`);let i=s.message;if(!i)throw new Error("[btc provider] no message on vault response");return{signature:Buffer.from(s.signature,"hex"),signedMessage:i}},"signMessage");var yc={};De(yc,{getSelectedAccount:()=>Vo,getSuiAddressWithPubkey:()=>Cn,signAndExecuteTransaction:()=>lf,signMessage:()=>pf,signTransaction:()=>df});d();p();d();p();var df=o(async(e,t,r)=>{let n=await ge(),s=oo.from(t);s.setSenderIfNotSet(e);let i=await so({transaction:s,networkID:r}),c=await fe.sign(n.identifier,{chainType:be.Sui,signingType:"transaction",transaction:new Uint8Array(i)});if(c.status==="error")throw new Error(`[sui provider][${c.type}] ${c.message}`);let l=c.signature;if(!l)throw new Error("[sui provider] no message on vault response");return{signature:l,transaction:Pr(i)}},"signTransaction");d();p();var pf=o(async(e,t)=>{let r=await ge(),n=await fe.sign(r.identifier,{chainType:be.Sui,signingType:"personalMessage",message:t});if(n.status==="error")throw new Error(`[sui provider][${n.type}] ${n.message}`);if(!n.signature)throw new Error("[sui provider] no message on vault response");return{signature:n.signature,message:Pr(t)}},"signMessage");d();p();var n0=new Be,lf=o(async(e,t,r)=>{let n=await ge(),s=oo.from(t);s.setSenderIfNotSet(e);let i=await so({transaction:s,networkID:r}),c={ownerAddress:e,networkID:r,data:{digest:""},type:jr.DappInteraction,display:{summary:{topLeft:{text:it.t("transactionsPendingAppInteraction")}}}},{signature:l,digest:u,effects:f}=await Xd({accountSigner:fe,accountIdentifier:n.identifier,transaction:i,pendingTransactionInput:c,storage:n0});return{signature:l,transaction:Pr(i),digest:u,effects:f}},"signAndExecuteTransaction");var Zt={analytics:xh,config:wh,i18n:bh,logger:Ah,remoteConfig:yh,rpc:Sh,utils:_h,wallet:xc,featureFlags:gh,secrets:{setSharedSecret:o(()=>{throw new Error("unimplemented")},"setSharedSecret"),encryptDeepLinkDappPayload:o(()=>{throw new Error("unimplemented")},"encryptDeepLinkDappPayload"),deleteSharedSecret:o(()=>{throw new Error("unimplemented")},"deleteSharedSecret"),generateSharedSecret:o(()=>{throw new Error("unimplemented")},"generateSharedSecret"),generateSession:o(()=>{throw new Error("unimplemented")},"generateSession"),decryptDeepLinkDappPayload:o(()=>{throw new Error("unimplemented")},"decryptDeepLinkDappPayload")}};var o0=Tt.eth.initialize(Zt),s0=Tt.sol.initialize(Zt),i0=Tt.sol_blink.initialize(Zt),a0=Tt.eth_blink.initialize(Zt),c0=Tt.btc.initialize(Zt),d0=Tt.sui.initialize(Zt),p0=Tt.phantom_auto_confirm.initialize(Zt),l0=Tt.phantom_embedded.initialize(Zt),uf={...c0,...o0,...a0,...s0,...i0,...d0,...p0,...l0};d();p();var wc=ce(Dr(),1);var mf=o(async e=>{let t=await wc.default.tabs.get(e);if(!t?.url?.startsWith("http"))return{iconUrl:void 0,title:void 0};let r=await u0(e);return{iconUrl:r?.iconUrl??t?.favIconUrl,title:r?.title??t?.title}},"getTabMeta"),u0=o(async e=>{try{let r=(await wc.default.scripting.executeScript({target:{tabId:e},func:o(()=>{let i={},c=document.querySelectorAll("head link[rel^=apple-touch-icon]");c&&(i.iconTuples=Array.from(c).map(u=>[u.href,u.sizes?.[0]??"0x0"]));let l=document.querySelector("meta[property='og:title']");return l&&(i.title=l.content),i},"func")}))[0].result;if(!r)return{iconUrl:void 0,title:void 0};let n,s=0;for(let[i,c]of r.iconTuples??[]){if(n||(n=i),!c)continue;parseInt(c.split("x")[0]??0)>s&&(n=i)}return{title:r.title,iconUrl:n}}catch(t){return console.error("Failed to get tab meta",t),{iconUrl:void 0,title:void 0}}},"getTabMarkupMeta");var hf=o(async e=>{if(!e.sender||!e.sender.tab||!e.sender.url||!e.sender.tab.id)throw new Error("sender information is undefined");let t=e.sender.url,r=e.sender.tab.id;Cs({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{Bs({origin:new URL(t).origin,url:t,tabId:r,port:e})});let n=[],s=o(x=>{if(typeof x=="string")try{let g=Jo.parse(mn(x));n.push(g)}catch{}},"queueRequest");e.onMessage.addListener(s);let i=await mf(r),c={type:"BrowserTabRpcRequestSource",url:new URL(t),icon:i.iconUrl?new URL(i.iconUrl):void 0},l=m0(e,c,n),u=h0(e);Cs({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{Bs({origin:new URL(t).origin,url:t,tabId:r,port:e})});let f=new wp({routes:uf}).init(l,u);return e.onMessage.removeListener(s),f},"createRpcRouterController");function m0(e,t,r=[]){return new ReadableStream({async start(n){for(let s of r)n.enqueue(gs(s,t));e.onMessage.addListener(async s=>{let i=null;try{i=Jo.parse(mn(s))}catch{}if(i)try{n.enqueue(gs(i,t))}catch(c){X.captureError(new Error(`Stream enqueue failure (${c})`),ee.Provider)}}),e.onDisconnect.addListener(()=>{n.close()})},async cancel(){e.disconnect()}},new CountQueuingStrategy({highWaterMark:1/0}))}o(m0,"createRpcRequestStream");function h0(e){return new WritableStream({write([t,r]){e.postMessage(gr(r))}})}o(h0,"createRpcResponseStream");d();p();function ff(e){switch(e){case"solana:101":return rt.SOLANA_MAINNET;case"solana:102":return rt.SOLANA_TESTNET;case"solana:103":return rt.SOLANA_DEVNET;case"eip155:143":case"eip155:10143":case"eip155:1":case"eip155:11155111":case"eip155:8453":case"eip155:84532":case"eip155:137":case"eip155:80002":return e;default:return Object.values(rt).find(t=>t===e)?e:null}}o(ff,"blinksNetworkIdAdapter");var xf=20*1e3;self.addEventListener("install",()=>{self.skipWaiting()});self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(t=>Promise.all(t.map(r=>caches.delete(r)))).then(()=>self.clients.claim()))});self.addEventListener("error",e=>{console.error("SW Error:",e.error,e.filename,e.lineno)});Gc([[Wc,tt]]);var f0=o(async()=>{await Ud(),await y0(),hn.init({provider:ap}),await Id(tt),await pp("background",Hn),eu(),tt.remove("unencryptedSeedAndMnemonic"),g0(),await Ln(),await Bn({enabledChains:(await wr().catch(()=>({enabledAddressTypes:$c.getAll()}))).enabledAddressTypes,metamaskOverrideSetting:await xr(tt).catch(()=>Td.enum.ALWAYS_ASK)}),Ap({isWriter:!0})},"init");f0().catch(e=>{console.error("w error",e)});async function g0(){if((await et.default.tabs.query({url:et.default.runtime.getURL("onboarding.html")})).length>0)return;let r=await br.hasPersistedDeviceEncryptionKey(),n=await tt.get(ms);!r&&!n&&(await tt.set(bd.FirstTimeOnboarding,{isFirstTimeOnboarding:!0}),rp({url:"onboarding.html"}),tt.set(ms,!0))}o(g0,"openOnboardingIfNeeded");function y0(){et.default.runtime.onInstalled.addListener(A0),et.default.runtime.onConnect.addListener(E0),et.default.alarms.onAlarm.addListener(v0),et.default.runtime.onMessage.addListener(Uc(R0)),et.default.tabs.onRemoved.addListener(_0),et.default.webRequest.onBeforeRequest.addListener(w0,{urls:["http://*/*","https://*/*"]}),et.default.storage.onChanged.addListener(x0)}o(y0,"initializeListeners");async function x0(e,t){if(t!=="local"&&t!=="sync")return;let r=e[_d.ApiEnvironment];r&&Nc(r.newValue??(jn()?rs.Production:rs.Staging))}o(x0,"handleStorageChanged");async function w0(e){return e.tabId===et.default.tabs.TAB_ID_NONE?{}:"documentLifecycle"in e&&e.documentLifecycle==="prerender"?{}:((e.type==="main_frame"||e.type==="sub_frame")&&await b0(e.url,e.tabId),{})}o(w0,"handleBeforeRequest");async function b0(e,t){let r=new Be,n=await Md(r,Oe,e);if(!n.result)return;if(n.isSubdomainDomainWhitelisted){let c=await tt.get(Zn.UserWhitelistSubdomains);if(JSON.parse(`${c}`)?.includes(`${n.source}`))return}let s=await tt.get(Zn.UserWhitelistedOrigins);JSON.parse(`${s}`)?.includes(`${n.source}`)||(Oe.capture("phishingBlocklistRedirect",{data:{targetURL:e}}),await et.default.tabs.update(t,{url:`phishing.html?origin=${e}&subdomain=${n.isSubdomainDomainWhitelisted}`}))}o(b0,"detectAndRedirectPhishing");function A0(e){switch(e.reason){case"install":{Oe&&Oe.capture("appInstall");break}case"update":{X.addBreadcrumb(ee.StartUp,`Extension updated from ${e.previousVersion} to ${Dc}`,_e.Debug);break}default:break}}o(A0,"handleInstallAsync");var wf=o(e=>e.sender?.url===et.default.runtime.getURL("popup.html")||e.sender?.url===et.default.runtime.getURL("notification.html"),"isPopUpOrNotification");async function S0(e){if(!gi()&&wf(e)){hi(e.sender.url);let t=await tt.get(Zn.LockTimerMs),r=Date.now()+(t??Sd);X.addBreadcrumb(ee.Account,"Lock alarm created",_e.Debug,{skipFileLogger:!0}),et.default.alarms.create(gn.LockExtension,{when:r})}}o(S0,"handleDisconnect");function _0(e){hi(e)}o(_0,"handleTabRemoved");async function E0(e){if(e.onDisconnect.addListener(S0),wf(e)&&(gi()?(An(),bf(bc),Ac()):await et.default.alarms.clear(gn.LockExtension)),e.name==="contentscript"){if(e.sender&&e.sender.url&&e.sender.tab&&e.sender.tab.id){let r=e.postMessage.bind(e);e.postMessage=s=>{r(s)},(await hf(e)).start()}e.postMessage("phantom#background#initialized"),e.onMessage.addListener(r=>{typeof r=="string"&&r==="phantom#ready_to_setup_streams"&&e.postMessage("phantom#background#initialized")})}}o(E0,"handleConnection");function v0(e){if(e.name.startsWith(gn.DeleteStorageValue)){let[t,r]=e.name.split(":");tt.remove(r)}e.name===gn.LockExtension&&(X.addBreadcrumb(ee.Account,"Locked by alarm",_e.Debug),$u(!0),An(),Ac())}o(v0,"handleAlarm");async function Ac(){await Promise.all([tt.set(hs,!0),dp("idle")])}o(Ac,"notifyExtensionLocked");async function T0(){await tt.set(hs,!1)}o(T0,"notifyExtensionUnlocked");async function k0(e,t){try{let r=await L0.get().catch(()=>[]),n=Rs(t),{hideProvidersArray:s,dontOverrideWindowEthereum:i}=ks(n,r);return a.result(e.id,{hideProvidersArray:s,dontOverrideWindowEthereum:i})}catch(r){return X.captureError(r,ee.Provider),a.internalError(e.id,r?.message)}}o(k0,"handleProviderInjectionOptionsRequest");async function I0(e){try{if(e.method===Ht.BlinksEnabled){let t=await Rd(tt,!1);return a.result(e.id,t)}if(e.method===Ht.BlinksV2Config){let t=await wr();return a.result(e.id,{supportedBlockchains:t.enabledNetworkIDs.map(ff).filter(r=>r!=null)})}return a.methodNotFound(e.id)}catch(t){return X.captureError(t,ee.Provider),a.internalError(e.id)}}o(I0,"handleBlinksRequest");async function R0(e,t){if(e.method?.startsWith(tp)){let c=await cp(e);return a.result(null,c??{success:!1,error:"MMKV handler not registered"})}let r=t.url,n=t.tab?.id;if(r&&e.method==="providerInjectionOptions")return k0(e,r);if(r&&e.method===Ht.BlinksEnabled||e.method===Ht.BlinksV2Config)return I0(e);if(r&&e.method===Ht.BlinksLog){let{event:c,body:l}=e.params;return Oe.capture(c,{data:l}),a.result(e.id,"success")}if(!r||!r.startsWith(io()))return X.captureMessage(`Unauthorized request from origin: ${Jn(r)}`,ee.Generic,_e.Error),a.result(e.id,`${e.method} not permitted`);if(!Object.values(yp).includes(e.method))return X.captureMessage("Unauthorized method",ee.Generic,_e.Error),a.result(e.id,`${e.method} not permitted`);switch(e.method){case"ping":return a.result(e.id,{pong:!0});case"hasOnboarded":return Hu(e);case"resetHasOnboarded":return Fu(e);case"lockExtension":{let c=ju(e);return bf(bc),Ac(),c}case"unlockExtension":{let c=zu(e);return C0().then(l=>{bc=l}),T0(),c}case"IsExtensionUnlocked":return Vu(e);case"setPassword":return qu(e);case"verifyPassword":return Ku(e);case"updatePassword":return Gu(e);case"importPrivateKeyAccount":return tu(e);case"importReadOnlyAccount":return ru(e);case"importSeedAccount":return nu(e);case"importSocialSeedAccount":return ou(e);case"isExistingSeed":return su(e);case"addAccountForSeed":return iu(e);case"addAccountForSeedless":return au(e);case"addLedgerAccounts":return cu(e);case"exportPrivateKey":return du(e);case"exportEntropy":return pu(e);case"setAccountIcon":return lu(e);case"deriveAddresses":return uu(e);case"removeAccount":return mu(e);case"reorderAccount":return hu(e);case"getAllAccounts":return fu(e);case"getAllSeeds":return gu(e);case"getAllSeedlessSeeds":return yu(e);case"sign":return xu(e);case"getAuthenticationPublicKey":return wu(e);case"checkVaultIntegrity":return bu(e);case"doNotUseDiagnoseSeedCacheDigests":return Au(e);case"getPhantomOrganization":return Tu(e);case"getKmsAccounts":return Lu(e);case"getOrCreatePhantomOrganization":return Iu(e);case"RetrieveKMSWallet":return Ru(e);case"GetKMSWalletStatus":return Cu(e);case"addUserToCurrentUserOrganization":return Bu(e);case"deleteUserFromOrganization":return ku(e);case"getWalletWithTag":return Uu(e);case"updateUserInOrganization":return Mu(e);case"getAccounts":return Nu(e);case"batchRpcCall":return Ou(e);case"logMessage":return Wu(e);case"downloadLogs":return Zu(e);case"serviceWorkerMutexAcquire":return _u(e,n??r);case"serviceWorkerMutexRelease":return Eu(e)}return a.methodNotFound(e.id)}o(R0,"handleMessage");var bc,gf=(0,yf.default)(async()=>await et.default.storage.local.set({"last-sw-ping":new Date().getTime()}),xf);async function C0(){return await gf(),setInterval(gf,xf)}o(C0,"startSwPing");async function bf(e){clearInterval(e)}o(bf,"stopSwPing");var B0=60*10*1e3,L0=new cd(tt,B0,()=>Is().catch(e=>(X.captureError(e,ee.Provider),[])),"phantomwallet-dApps-list");export{L0 as dAppsListCache};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

apg-js/dist/apg-lib-bundle.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=serviceWorker.js.map
