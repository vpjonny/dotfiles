import{d as ft,e as gt}from"./chunk-FF7P6NXQ.js";import"./chunk-SOI52WR5.js";import{a as dt}from"./chunk-IS32WFQV.js";import{a as ut}from"./chunk-Z6STPKGK.js";import{H as it,N as st,O as pe,W as pt,ca as lt,d as at,ma as ct,qa as mt,u as be,xa as he,za as oe}from"./chunk-VRODSUQC.js";import"./chunk-27WMCVHA.js";import"./chunk-TRIYFLMU.js";import"./chunk-J4XA5VC7.js";import"./chunk-DQWLAPQA.js";import{o as J,q as Ie}from"./chunk-IUNAS73H.js";import"./chunk-2LKSWQ7Y.js";import"./chunk-H4HL2VJ5.js";import"./chunk-QKX6QMZS.js";import"./chunk-5ENLJTSW.js";import"./chunk-ZMW27YAP.js";import"./chunk-QW5UCU4W.js";import"./chunk-X6Z5FRDC.js";import"./chunk-X4RRAJ67.js";import{h as se}from"./chunk-FFV6ZRAV.js";import"./chunk-END3S5WW.js";import"./chunk-OABENO2E.js";import{b as ye}from"./chunk-VQU4JTIB.js";import"./chunk-ZMU6KWZP.js";import"./chunk-YSZRDBUS.js";import"./chunk-UE7TCZBL.js";import"./chunk-PFY5DZIQ.js";import"./chunk-L4NFABLQ.js";import"./chunk-P3JRRYSB.js";import"./chunk-GUZFMB3D.js";import"./chunk-N3C6FBKY.js";import"./chunk-CTKHELYY.js";import"./chunk-2L6X42XL.js";import"./chunk-2P4HZW3J.js";import"./chunk-OR3XQXDJ.js";import"./chunk-HLSJ3VIL.js";import{db as De,j as nt,m as _}from"./chunk-57EVB5FV.js";import{$ as Ae,Ib as je,Mb as et,Nb as tt,Ob as rt,P as $e,Pb as ot,_ as He,ba as Se,bb as Ye,ma as Ke,nb as Ze,oa as Ge,qb as Je,ya as Xe}from"./chunk-44HH5QGP.js";import"./chunk-WVRYN4MY.js";import"./chunk-2LSP5LV2.js";import"./chunk-HLWWEHZK.js";import{P as Ve}from"./chunk-5JGASDWN.js";import"./chunk-ZDPKBPMV.js";import"./chunk-DYQ7BPYX.js";import"./chunk-NMTPXQAP.js";import"./chunk-SIWEHH3L.js";import"./chunk-N6SSDFMX.js";import"./chunk-YJCG6GWC.js";import{Hb as Oe,ic as We,qc as _e}from"./chunk-W7IWPUIQ.js";import{Kd as Z}from"./chunk-4SCKDS7G.js";import{Ve as L,dc as ue,fa as Qe,fc as Re,jc as Ce,kc as V}from"./chunk-DJGGVTSJ.js";import"./chunk-FATTDLFQ.js";import{b as ze}from"./chunk-2RWUL32J.js";import{a as Te}from"./chunk-RWWUDPHX.js";import{Ca as D,Ga as de,Lb as ve,Na as l,Oa as re,Pa as fe,U as g,Ua as I,Z as A,a as z,b,jb as Ue,nb as ge,tb as we,ub as qe}from"./chunk-LQZGQEJ6.js";import"./chunk-FNC6PQ53.js";import"./chunk-5QQLABHI.js";import{a as n,g as d,i as c,n as m}from"./chunk-WKJYWAXG.js";c();m();c();m();var H=d(z(),1);c();m();var wt="f8uvp90";var St="f8uvp92 f8uvp91 _48j31axc _48j31a13j _48j31ayt",yt="f8uvp93";c();m();var Q=d(z());c();m();var ae=d(z(),1);c();m();var Wt=d(z());var xe=_.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,Xr=_.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var Yr=_.div`
  color: ${D.colors.legacy.spotBase};
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: ${D.colors.legacy.elementAccent};
  }
`;c();m();var B=d(z());var Fe=n(({input:e,isLoading:t,onSelectorPress:o,perspective:a,selectorIcon:r,selectorLabel:s,spamStatus:p,accessories:i,footer:f})=>{let{t:P}=A(),S=P(a==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),x=(0,B.useMemo)(()=>{if(i)return B.default.createElement(l,{display:"flex",direction:"row",alignItems:"center",gap:6,marginTop:6},i)},[i]);(0,B.useEffect)(()=>{a==="buy"?perfalyze.markFrame("buyTokenUpdated"):perfalyze.markFrame("sellTokenUpdated")},[s,a]);let C=B.default.createElement(l,{display:"flex",direction:"column",gap:0,backgroundColor:"elementBase",borderRadius:"base",padding:20},B.default.createElement(I,{font:"labelSemibold",color:"textIncidental",children:S}),B.default.createElement(l,{display:"flex",direction:"row",alignItems:"center",minHeight:48},e,B.default.createElement(l,{flex:1}),t?B.default.createElement(re,{width:112,height:24}):B.default.createElement(l,{onPress:o,display:"flex",gap:8,direction:"row",backgroundColor:{base:"gray",hover:"borderBase"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer",testID:`${a}-token-button`},r,B.default.createElement(at,{spamStatus:p,children:s,font:"captionSemibold"}),B.default.createElement(de.ChevronDown,{size:14}))),x);return _t(C,f)},"SwapperCard"),_t=n((e,t)=>t?B.default.createElement(l,{direction:"column",backgroundColor:"elementBase",borderRadius:"base"},e,t):e,"withFooter");c();m();var bt="_1mhrh80";c();m();var ht=d(z(),1);var U=d(b(),1),xt=n(({warnings:e})=>{let{t}=A(),o=e[0],{backgroundColor:a,textColor:r}=(0,ht.useMemo)(()=>{if(!o)return{backgroundColor:"elementBase",textColor:"textBase"};switch(o.level){case"warn":return{backgroundColor:"spotWarning",textColor:"areaBase"};case"info":return{backgroundColor:"elementBase",textColor:"textBase"}}},[o]);return e.length===0?null:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(l,{width:"100%",height:1,backgroundColor:"areaBase"}),(0,U.jsxs)(l,{gap:8,direction:"row",backgroundColor:a,padding:"screen",borderBottomRadius:"base",children:[(0,U.jsx)(l,{flexShrink:0,children:(0,U.jsx)(de.AlertTriangle,{color:r,size:18})}),(0,U.jsx)(I,{flexShrink:1,font:"caption",color:r,children:t(o.titleKey,o.options)})]})]})},"AssetWarningFooter");c();m();var ne=d(b(),1),Ft=n(({isLoading:e,secondaryAmount:t,supportsCurrencyDenominationSwitching:o,switchCurrencyDenomination:a})=>{if(e)return(0,ne.jsx)(re,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"});let r=t?(0,ne.jsx)(I,{font:"caption",color:"textDiminished",children:t}):null;return o?(0,ne.jsxs)(l,{direction:"row",alignItems:"center",gap:6,cursor:"pointer",onPress:a,children:[r,(0,ne.jsx)(ge,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderBase"},color:"textDiminished"})]}):r},"SecondaryPriceDisplay");var T=d(b(),1),kt=n(({asset:e,perspective:t,currentPercentage:o,onPercentageTap:a,onInputChange:r,onFungibleTap:s,switchCurrencyDenomination:p,onBalanceTap:i})=>{let{amount:f,balance:P,fungible:S,isAmountEditable:x,isAmountLoading:C,isSecondaryAmountLoading:y,hasAmountWarning:w,secondaryAmount:F,amountPrefix:u,percentages:h,supportsCurrencyDenominationSwitching:W,warnings:K}=e,{t:G}=A(),N=(0,T.jsx)(be,{image:{type:"fungible",src:S.data?.logoUri,fallback:S.data?.symbol||S.data?.tokenAddress},size:32,tokenType:S.type,chainMeta:S.data?.chain}),ee=n(Y=>Y.length>16?16:Y.length>14?18:Y.length>12?20:22,"getInputFontSize"),X=(0,ae.useMemo)(()=>{let Y=ee(f);return C?(0,T.jsx)(re,{width:100,height:18,borderRadius:12}):(0,T.jsxs)(xe,{hasWarning:w,fontSize:Y,children:[u&&(0,T.jsx)(I,{font:"heading3",children:u,marginRight:2}),(0,T.jsx)(se,{name:"amount",border:"0",placeholder:"0",warning:w,value:f,decimalLimit:S.data?.decimals,disabled:!x,onUserInput:r})]})},[C,w,u,f,S.data?.decimals,x,r]),me=(0,ae.useMemo)(()=>(0,T.jsx)(Ft,{isLoading:y,secondaryAmount:F,supportsCurrencyDenominationSwitching:W,switchCurrencyDenomination:p}),[y,F,W,p]),Pe=(0,ae.useMemo)(()=>{let Y=n(te=>{switch(te.percentage){case .25:return"25%";case .5:return"50%";case 1:return G("swapAssetCardMaxButton")}},"swapPercentageDisplay");return h.map(te=>(0,T.jsx)(we,{active:te.percentage===o?.percentage,children:Y(te),onChange:()=>a(te),className:bt},te.percentage))},[h,G,o,a]),zt=(0,ae.useMemo)(()=>(0,T.jsxs)(T.Fragment,{children:[me,(0,T.jsx)(l,{flex:1}),P&&(0,T.jsx)(I,{font:"caption",color:{base:"textDiminished",hover:i?"textBase":void 0},children:P,onPress:i}),Pe&&(0,T.jsx)(l,{direction:"row",alignItems:"center",gap:4,marginLeft:2,children:Pe})]}),[P,Pe,i,me]),Ot=(0,ae.useMemo)(()=>{if(K.length!==0)return(0,T.jsx)(xt,{warnings:K})},[K]);return(0,T.jsx)(Fe,{perspective:t,input:X,selectorIcon:N,selectorLabel:S.data?.symbol??"",spamStatus:S.data?.spamStatus,onSelectorPress:s,accessories:zt,footer:Ot})},"AssetSwapperCard");c();m();var le=d(z(),1);var E=d(b(),1),Ut=[.5,1],Pt=n(({perspective:e})=>{let{t}=A(),o=(0,le.useMemo)(()=>{let p=Number(D.typography.font.heading3.fontSize.replace("px",""));return(0,E.jsx)(xe,{fontSize:p,children:(0,E.jsx)(se,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}})})},[e]),a=(0,le.useMemo)(()=>(0,E.jsx)(I,{font:"caption",color:"textDiminished",children:"$0"}),[]),r=(0,le.useMemo)(()=>{let p=n(i=>{switch(i){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}},"swapPercentageDisplay");return Ut.map(i=>(0,E.jsx)(we,{active:!1,children:p(i),onChange:()=>{},className:wt}))},[t]),s=(0,le.useMemo)(()=>(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(l,{direction:"row",alignItems:"center",gap:6,children:[a,e==="sell"?(0,E.jsx)(ge,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textDiminished"}):null]}),(0,E.jsx)(l,{flex:1}),(0,E.jsx)(fe,{font:"caption",width:64}),e==="sell"?(0,E.jsx)(l,{direction:"row",alignItems:"center",gap:4,marginLeft:2,children:r}):null]}),[r,a,e]);return(0,E.jsx)(Fe,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:s})},"LoadingSwapperCard");var qt=32,Ct=n(({isInitializingTokens:e,tokens:t,currentSellPercentage:o,setInputAmount:a,setSellPercentage:r,setInputPerspective:s,switchCurrencyDenomination:p,switchTokens:i,onSelectToken:f})=>{let{t:P}=A(),S=(0,Q.useCallback)(w=>{let F=w.percentages.find(u=>u.percentage===1);F&&r(F,w.fungible)},[r]),x=(0,Q.useCallback)(w=>{f(w)},[f]),C=(0,Q.useCallback)((w,F)=>{r(w,F)},[r]),y=(0,Q.useMemo)(()=>["sell","buy"].map(w=>{let F=t.find(h=>h.perspective===w);if(!F||e)return Q.default.createElement(Pt,{key:`loading-${w}`,perspective:w});let u=Q.default.createElement(kt,{key:w,asset:F,perspective:w,switchCurrencyDenomination:p,currentPercentage:o,onFungibleTap:()=>x(w),onPercentageTap:h=>C(h,F.fungible),onInputChange:h=>{s(w),a(h,w)},onBalanceTap:()=>S(F)});return w==="buy"?Q.default.createElement(l,{position:"relative",key:w+"-swap-button"},u,Q.default.createElement("div",{className:St,style:{pointerEvents:"none"}},Q.default.createElement(qe,{label:P("swapperSwitchTokens"),size:qt,shape:"circle",onClick:i,backgroundColor:{base:"spotBase",hover:"spotAccent"},icon:"SwapVertical"}))):u}),[t,e,p,o,x,C,a,s,S,P,i]);return Q.default.createElement(l,{display:"flex",direction:"column",flex:1,paddingX:"screen",paddingTop:"screen"},Q.default.createElement(l,{display:"flex",direction:"column",gap:12},y))},"SwapperAssets");c();m();var q=d(z());var Tt=n(({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:a,quoteProcessorState:r,currentPerspective:s,sellPercentages:p,onPress:i,resetSwapper:f})=>{let P=We(),S=mt(),{handleShowModalVisibility:x}=oe(),{pushDetailView:C}=ye(),y=(0,q.useCallback)(N=>{let ee=V(Z(N));C(q.default.createElement(he,{caip19:ee,title:N.data.name??void 0,entryPoint:"exploreInSwap"}))},[C]),{openBuy:w}=it({caip19:Vt(o)||"",context:"modal",analyticsEvent:"fiatOnrampFromInsufficientBalance"}),F=(0,q.useCallback)(N=>{S({sellFungible:N.sell,buyFungible:N.buy,sellAmount:N.amount.amount})},[S]),u=(0,q.useCallback)((N,ee)=>{let X=N.networkId,me={balance:N.balance,required:N.required};x("insufficientBalance",{networkId:X,token:me},{event:"showSwapModal",payload:{data:{uiContext:$e.InsufficientBalance}}})},[x]),{buttonState:h,swap:W}=ot({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:a,quoteProcessorState:r,currentPerspective:s,sellPercentages:p,showFungibleDetails:y,showBuyFungibleScreen:w,retryAndNavigateToSwapper:F,resetSwapper:f,goToInsufficientFunds:u}),K=(0,q.useCallback)(()=>{i?.(),P?x("swapLedgerSigning",{executeSwap:W}):W()},[i,W,P,x]),G=(0,q.useMemo)(()=>h.type==="insufficientBalance"?{background:"spot",theme:"negative"}:["untradable"].includes(h.type)?{background:"element"}:{background:"spot"},[h.type]);return r.type==="idle"||r.type==="error"&&!a.includes("insufficientBalance")?null:q.default.createElement(Ue,{...G,disabled:h.type!=="tradable",onPress:K},h.label)},"SwapperButton");function Vt(e){if(!(e.type!=="pair"&&e.type!=="refreshing"))return V(Z(e.sellToken))}n(Vt,"getSellCaip19");c();m();var v=d(z());c();m();var ce=d(z(),1);var O=d(b(),1),$t=ce.default.memo(({rankAlgo:e,limit:t})=>{let{t:o}=A(),a=ze(),r=pe(u=>u.sortBy),s=pe(u=>u.sortDirection),p=pe(u=>u.timeFrame),i=pe(u=>u.network),{data:f,error:P,isLoading:S,refetch:x}=Je({sortBy:r,sortDirection:s,timeFrame:p,limit:t,rankAlgo:e,network:i}),{pushDetailView:C}=ye(),y=(0,ce.useCallback)(({item:u,index:h})=>{let W=V({chainId:u.chainId,address:u.address,resourceType:Re.address});a.capture("onExploreListItemClickedByUser",{data:{explore:{context:"swap",listName:"tokens",itemDetails:{position:h,title:u.name||u.symbol,id:`${u.address}-${u.chainId}`}}}}),C((0,O.jsx)(he,{caip19:W,title:u.name??void 0,entryPoint:"exploreInSwap"}))},[a,C]),w=!!P||f?.items.length===0,F=S||typeof f>"u";return(0,O.jsxs)(l,{paddingTop:24,flex:1,width:"100%",children:[(0,O.jsx)(I,{paddingX:"screen",paddingBottom:10,font:"title2Semibold",children:o("exploreTokens")}),(0,O.jsx)(ct,{isError:w,isLoading:F,refetch:x,filters:(0,O.jsx)(ft,{}),listHeader:(0,O.jsx)(pt,{}),rows:(f?.items??[]).map((u,h)=>({...lt({item:u,sortBy:r,image:(0,O.jsx)(gt,{index:h,displayRank:!0,image:(0,O.jsx)(be,{image:{type:"fungible",src:u.logoUrl,fallback:u.symbol||u.name},size:48,badge:{type:"network",preset:ue.getChainID(u.chainId)}})}),t:o}),onClick:n(()=>y({item:u,index:h}),"onClick")}))})]})});function Ht(){let e=Ze("tokens");return e?(0,O.jsx)(st,{sortByOptions:e.sortBy,sortBy:e.sortByDefault,sortDirection:e.sortDirectionDefault,networkOptions:e.network,network:e.networkDefault,timeFrameOptions:e.timeFrame,timeFrame:e.timeFrameDefault,children:(0,O.jsx)($t,{rankAlgo:e.rankAlgo,limit:10})}):null}n(Ht,"ExploreTokens");var vt=ce.default.memo(Ht);c();m();var Be=d(b(),1),At=n(({phantom:e,gasless:t})=>(0,Be.jsx)(l,{paddingY:16,paddingX:32,children:(0,Be.jsx)(ut,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:500,noWrap:!1,showInfoIcon:!1,info:t?g.t("swapFeesPhantomFeeGaslessDisclaimer",{feePercentage:L(e),gaslessFeePercentage:L(t)}):g.t("swapFeesPhantomFeeRegularDisclaimer",{feePercentage:L(e)}),children:t?g.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:L(e),gaslessFeePercentage:L(t)}):g.t("swapQuoteFeeDisclaimer",{feePercentage:L(e)})})}),"PhantomFee");c();m();c();m();function Ee({amountUsd:e,fromUsd:t,formatLocalizedPrice:o}){let a=Kt(e),r=t(a),s=r>0&&r<.01?{minimumSignificantDigits:1,maximumSignificantDigits:2}:void 0;return o(r,s)}n(Ee,"formatSwapFee");function Kt(e){return typeof e=="number"?e:parseFloat(typeof e=="string"?e:e.toString())}n(Kt,"toNumber");var Dt=d(z(),1);var M=d(b(),1),Gt=n(({entry:e,fromUsd:t,formatLocalizedPrice:o})=>{let a=e.quoteFees.fees,r=a.find(i=>i.type==="phantom"),s=a.find(i=>i.type==="gasless"),p=a.filter(i=>!["gasless","phantom"].includes(i.type)).sort((i,f)=>ke(i)&&!ke(f)?-1:!ke(i)&&ke(f)?1:0).map(i=>{let f=Ee({amountUsd:i.amountUsd,fromUsd:t,formatLocalizedPrice:o});switch(i.type){case"ata":return(0,M.jsxs)(Dt.default.Fragment,{children:[(0,M.jsxs)(Ie,{children:[(0,M.jsx)(J,{children:g.t(i.type)}),(0,M.jsx)(J,{children:f})]}),(0,M.jsx)(J,{style:{color:D.colors.legacy.textIncidental,fontSize:"12px",marginTop:4,textAlign:"left"},children:g.t("accountCreationFeeBody")})]},i.type);default:return(0,M.jsxs)(Ie,{children:[(0,M.jsx)(J,{children:g.t(i.type)}),(0,M.jsx)(J,{children:f})]},i.type)}});return(0,M.jsxs)(M.Fragment,{children:[p,r&&(0,M.jsx)(J,{style:{fontStyle:"italic",color:D.colors.legacy.textIncidental,marginTop:8,textAlign:"left"},children:s?g.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:L(r.percentage.toNumber()),gaslessFeePercentage:L(s.percentage.toNumber())}):g.t("swapQuoteFeeDisclaimer",{feePercentage:L(r.percentage.toNumber())})})]})},"FeeBreakdownTooltip");function Me({entry:e,fromUsd:t,formatLocalizedPrice:o,showSwapSettings:a,showSwapPricing:r}){let s,p,i;switch(e.type){case"pricing":{p=g.t("swapFeesPricing"),s=e.exchangeRate,i=r;break}case"slippage":{p=g.t("swapFeesSlippage"),s=e.slippageType==="auto"?g.t("swapTokenDetailEntryAutoSlippage",{slippage:e.slippage}):g.t("swapTokenDetailEntryFixedSlippage",{slippage:e.slippage}),i=a;break}case"priceImpact":{p=g.t("swapFeesPriceImpact"),s=e.priceImpactPercentage;break}case"fees":{p=g.t("swapFeesFees"),s=Ee({amountUsd:e.quoteFees.totalFees,fromUsd:t,formatLocalizedPrice:o});break}case"transferFees":{p=g.t("swapFeesTransferFees"),s=g.t("swapTransferFeeDisclaimer",{symbol:e.transferTokenSymbol,feePercent:e.transferFees});break}default:throw new Error(`Unsupported entry type: ${e.type}`)}return{title:p,content:Xt(e,s),tooltipContent:Yt(e,t,o),color:Zt(e),onClick:i}}n(Me,"toEntrySpec");function Xt(e,t){return e.type==="transferFees"?t:e.warning?g.t("swapTokenDetailsWarningVeryHigh",{value:t}):e.alert?g.t("swapTokenDetailsAlertHigh",{value:t}):t}n(Xt,"getEntryContent");function Yt(e,t,o){switch(e.type){case"pricing":return g.t("swapFeesRateDisclaimerMultichain");case"slippage":return g.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage});case"priceImpact":return g.t("swapFeesPriceImpactDisclaimer");case"fees":{if(t&&o)return(0,M.jsx)(Gt,{entry:e,fromUsd:t,formatLocalizedPrice:o});let a=e.quoteFees.fees.find(s=>s.type==="phantom"),r=e.quoteFees.fees.find(s=>s.type==="gasless");return a?r?g.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:L(a.percentage.toNumber()),gaslessFeePercentage:L(r.percentage.toNumber())}):g.t("swapQuoteFeeDisclaimer",{feePercentage:L(a.percentage.toNumber())}):void 0}default:return}}n(Yt,"getTooltipForEntry");function Zt(e){return e.warning?D.colors.legacy.spotNegative:e.alert?D.colors.legacy.spotWarning:D.colors.legacy.textDiminished}n(Zt,"getTextColorForEntry");function It(e){switch(e){case"slippage":return{title:g.t("swapFeesSlippage")};case"priceImpact":return{title:g.t("swapFeesPriceImpact")};case"fees":return{title:g.t("swapFeesFees")};case"pricing":return{title:g.t("swapFeesPricing")};case"transferFees":return{title:g.t("swapFeesTransferFees")};default:return Qe(e)}}n(It,"toLoadingEntrySpec");var ke=n(e=>{switch(e.type){case"solanaNetwork":case"evmGas":case"suiNetwork":return!0;default:return!1}},"isNetworkFee");c();m();var ie=d(b(),1),Bt=n(({message:e,errorCode:t,onRetry:o})=>{let{t:a}=A(),r=a("swapQuestionRetry");return t==="InsufficientSellAmount"?(0,ie.jsx)(l,{width:"100%",children:(0,ie.jsx)(ve,{level:"1-critical-alert",children:e})}):(0,ie.jsx)(l,{gap:10,width:"100%",children:(0,ie.jsx)(l,{width:"100%",children:(0,ie.jsx)(ve,{level:"2-alert",actions:[{children:r,onPress:o}],children:e})})})},"SwapperError");var Jt=["pricing","slippage","priceImpact","fees"],Et=n(({quoteProcessorState:e,inputErrors:t=[]})=>{let o=Se();switch(e.type){case"idle":return v.default.createElement(l,{style:{marginTop:-16}},v.default.createElement(vt,null));case"starting":case"firstQuoteReceived":case"quoteProcessed":return v.default.createElement(jt,{quoteProcessorState:e});case"error":return t.includes("insufficientBalance")?null:v.default.createElement(l,{paddingX:"screen"},v.default.createElement(Bt,{message:e.error.message,errorCode:e.error.code,onRetry:()=>o.refreshQuoteProcessor()}))}},"SwapperQuoteDetails"),jt=n(({quoteProcessorState:e})=>{let{fromUsd:t,formatLocalizedPrice:o}=Ve(),{handleShowModalVisibility:a}=oe(),r=er(e),s=r.filter(y=>y.type!=="transferFees"),p=r.find(y=>y.type==="transferFees"),i=r.find(y=>y.type==="fees"),f=i?.quoteFees.fees.find(y=>y.type==="phantom"),P=i?.quoteFees.fees.find(y=>y.type==="gasless"),S=(0,v.useCallback)(()=>{a("swapSettings")},[a]),x=(0,v.useCallback)(()=>{a("swapPricing")},[a]),C=(0,v.useMemo)(()=>Jt.map(y=>{let w=s.find(F=>F.type===y);return w?tr(Me({entry:w,fromUsd:t,formatLocalizedPrice:o,showSwapSettings:S,showSwapPricing:x})):rr(It(y))}),[s,t,o,S,x]);return v.default.createElement(l,{direction:"column",gap:4},v.default.createElement(l,{paddingX:"screen"},v.default.createElement(dt,{rows:C,borderRadius:"8px"})),f&&v.default.createElement(At,{phantom:f.percentage.toNumber(),gasless:P?.percentage.toNumber()}),p&&v.default.createElement(I,{font:"label",color:"spotWarning",paddingX:32},Me({entry:p,fromUsd:t,formatLocalizedPrice:o,showSwapSettings:S,showSwapPricing:x}).content))},"QuoteDetailsContent");function er(e){switch(e.type){case"firstQuoteReceived":case"quoteProcessed":return e.quoteDetails.entries;default:return[]}}n(er,"entriesForQuoteProcessorState");function tr(e){return{label:e.title,value:e.content,tooltipContent:e.tooltipContent,color:e.color,onClick:e.onClick}}n(tr,"toRowSpec");function rr(e){return{label:e.title,value:v.default.createElement(fe,{width:60,font:"caption"})}}n(rr,"toRowLoadingSpec");c();m();var j=d(z());c();m();var R=d(b(),1),or=_.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,nr=_.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,ar=_.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${Te(D.colors.legacy.areaBase,.75)};
`,Mt=_.div`
  background-color: ${Te(D.colors.brand.yellowMoon,.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,Nt=_(De).attrs({size:14,lineHeight:19,weight:500,color:D.colors.legacy.textBase,textAlign:"left"})``,Ne=n(({message:e,swapDisabled:t=!0,children:o})=>t?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(ar,{"data-testid":"disable-overlay",children:(0,R.jsx)(Mt,{children:(0,R.jsx)(Nt,{children:e})})}),(0,R.jsx)(nr,{"data-testid":"disable-wrapper",children:o})]}):(0,R.jsxs)(or,{children:[(0,R.jsx)(Mt,{children:(0,R.jsx)(Nt,{children:e})}),(0,R.jsx)(R.Fragment,{children:o})]}),"SwapNotAvailableWrapper");var Lt=j.default.memo(({children:e})=>{let t=Oe(),o=t.every(i=>ue.isMainnetNetworkID(i)),r=Xe().some(i=>t.includes(i)),{t:s}=A(),p=(0,j.useMemo)(()=>({availableOnlyOnMainnet:s("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:s("swapNotAvailableOnSelectedNetwork")}),[s]);return o?r?j.default.createElement(l,{display:"flex",flex:1,paddingBottom:16,style:{marginBottom:"-16px"}},e):j.default.createElement(Ne,{message:p.notAvailableOnSelectedNetwork,swapDisabled:!0},e):j.default.createElement(Ne,{message:p.availableOnlyOnMainnet,swapDisabled:!0},e)});var $=d(b(),1),ir=[.5,1],Rt=n(()=>{let e=Se(),[t]=nt(),o=Qt(f=>f.setSwapMode),a=(0,H.useCallback)(f=>{e.initializeSwap({swapMode:f,cashAddresses:{}}),o(f)},[e,o]),r=tt(),s=Qt(f=>f.swapMode),p=(0,H.useMemo)(()=>lr({searchParams:t}),[t]),i=(0,H.useMemo)(()=>p||s||r,[p,s,r]);return(0,H.useEffect)(()=>{if(p){if(!s){a(p);return}if(!He(p,s)){a(p);return}}s||a(r)},[p,s,r,a]),(0,$.jsx)(sr,{swapMode:i})},"ClassicSwapperPage"),sr=n(({swapMode:e})=>{let t=Ke(e,ir),{inputPerspective:o,tokens:a,tokenState:r,quotedAmounts:s,quoteProcessorState:p,inputErrors:i,currentSellPercentage:f,sellPercentages:P,setInputAmount:S,setSellPercentage:x,switchCurrencyDenomination:C,switchTokens:y,clearInput:w,setInputPerspective:F}=rt(t),{handleShowModalVisibility:u}=oe(),h=(0,H.useCallback)(X=>{Ae(r)&&u(X==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect",{selectStrategy:{type:"navigateToClassic",sellCaip19:V(Z(r.sellToken)),buyCaip19:V(Z(r.buyToken)),isCashEligible:!1}})},[u,r]),W=je({goToAssetSelect:h}),K=(0,H.useCallback)(X=>{Ae(r)&&W(X)},[r,W]),G=r.type==="pair"?r.buyToken:void 0,N=G?V(Z(G)):void 0;Ye(N,"swapper");let ee=et();return(0,$.jsxs)(Lt,{children:[(0,$.jsxs)(l,{direction:"column",gap:16,paddingBottom:72,children:[(0,$.jsx)(Ct,{isInitializingTokens:ee,tokens:a,currentSellPercentage:f,setInputAmount:S,setSellPercentage:x,setInputPerspective:F,switchCurrencyDenomination:C,switchTokens:y,onSelectToken:K}),(0,$.jsx)(Et,{quoteProcessorState:p,inputErrors:i})]}),pr(p,i)&&(0,$.jsx)(l,{position:"fixed",bottom:72,left:16,right:16,backgroundColor:"areaBase",borderRadius:"base",className:yt,children:(0,$.jsx)(Tt,{swapMode:e,quotedAmounts:s,tokenState:r,inputErrors:i,quoteProcessorState:p,currentPerspective:o,sellPercentages:P,resetSwapper:w})})]})},"ClassicSwapper");function pr(e,t){return!!(["quoteProcessed","firstQuoteReceived","starting"].includes(e.type)||e.type==="error"&&t.includes("insufficientBalance"))}n(pr,"showButton");var lr=n(({searchParams:e})=>{let t=e.get("sellFungible"),o=e.get("buyFungible"),a=e.get("sellFungibleKey"),r=e.get("buyFungibleKey");if(o)return{type:"swap",network:Ce(o).chainId,buyCaip19:o,sellCaip19:void 0,takerCaip19:void 0,takerDestinationCaip19:void 0,sellFungibleKey:a??void 0,buyFungibleKey:r??void 0};if(t)return{type:"swap",network:Ce(t).chainId,buyCaip19:void 0,sellCaip19:t,takerCaip19:void 0,takerDestinationCaip19:void 0,sellFungibleKey:a??void 0,buyFungibleKey:r??void 0}},"parseSearchParamsSwapMode"),Qt=_e(e=>({swapMode:void 0,setSwapMode:n(t=>e({swapMode:t}),"setSwapMode")}));var Le=d(b(),1),cr=n(()=>(0,Le.jsx)(Ge,{children:(0,Le.jsx)(Rt,{})}),"SwapTabPage"),Ri=cr;export{Ri as default};
//# sourceMappingURL=SwapTabPage-UGEKTQY5.js.map
