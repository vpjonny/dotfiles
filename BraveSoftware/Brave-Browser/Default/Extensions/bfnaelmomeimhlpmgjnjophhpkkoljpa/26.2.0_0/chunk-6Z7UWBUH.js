import{a as So}from"./chunk-SL3PEXA5.js";import{a as De,b as yo}from"./chunk-3BVJMUWZ.js";import{a as To}from"./chunk-IPGPQARX.js";import{a as xo,b as Fo,d as ko,e as Co,f as Eo}from"./chunk-U3DKAKWZ.js";import{ia as ho,ja as bo,ka as xt}from"./chunk-VRODSUQC.js";import{r as Ao}from"./chunk-IUNAS73H.js";import{a as _t}from"./chunk-H4HL2VJ5.js";import{a as Vt}from"./chunk-QKX6QMZS.js";import{f as go}from"./chunk-FFV6ZRAV.js";import{o as En}from"./chunk-UE7TCZBL.js";import{a as po,c as fo}from"./chunk-HLSJ3VIL.js";import{A as uo,Q as lo,db as st,m as ae}from"./chunk-57EVB5FV.js";import{Xa as ao,wa as io}from"./chunk-44HH5QGP.js";import{a as qe,b as f}from"./chunk-2LSP5LV2.js";import{s as Cn,t as St}from"./chunk-HLWWEHZK.js";import{$a as so,Ca as to,D as At,F as Wn,G as Je,H as Gn,J as Kn,Na as Tt,P as yt,R as $n,T as jn,V as zn,Va as no,Xa as oo,Y as Zn,_ as Xn,_a as ro,a as Dt,ba as Qn,ea as rt,eb as co,fa as Yn,gb as mo,ka as Jn,la as qn,oa as eo,z as Hn}from"./chunk-5JGASDWN.js";import{$ as Rn,Ka as vn,ka as Le,ta as Ot}from"./chunk-N6SSDFMX.js";import{A as We,Hb as bn,Zb as An,k as an,lb as Ne,mc as ft,o as dn,vb as hn}from"./chunk-W7IWPUIQ.js";import{Ed as Pn,Kd as On,Pd as Vn,Ra as Ke,Sd as ot,Td as _n,Ua as Nn,V as In,Vb as Ln,Wb as Dn,Wd as Ye,X as Bn,Zc as ht,_c as Un,g as wn,id as bt,qd as Qe,yd as Mn}from"./chunk-4SCKDS7G.js";import{$c as nn,Ae as un,Be as ln,Ee as pn,H as _e,I as Ie,L as Be,La as mt,Qd as rn,Re as Ge,We as fn,Xe as gn,Yd as sn,Ye as Pt,dc as I,de as pt,df as Sn,fc as Ut,h as Jt,jc as ut,kc as Mt,ra as He,v as ct,va as tn,vd as on,yc as lt,ye as cn,ze as mn}from"./chunk-DJGGVTSJ.js";import{b as Xe}from"./chunk-2RWUL32J.js";import{Ca as ke,G as qt,Ga as yn,H as en,Lb as kn,Na as J,Oa as Tn,U as l,Ua as Z,Va as xn,Z as Y,a as z,b as ne,jb as Fn,k as Fe,nb as gt}from"./chunk-LQZGQEJ6.js";import{a as i,g as C,i as c,m as Buffer,n as m}from"./chunk-WKJYWAXG.js";c();m();var Ae=C(z());c();m();var Ft=C(ne());var kt=C(z());c();m();var Ce=C(ne());var Ro=i(({goHome:e})=>{let{t}=Y();return(0,Ce.jsxs)(J,{height:"100%",paddingY:36,paddingX:"screen",justifyContent:"center",alignItems:"center",children:[(0,Ce.jsxs)(J,{flex:1,justifyContent:"center",alignItems:"center",children:[(0,Ce.jsx)(J,{marginBottom:24,children:(0,Ce.jsx)(gt,{icon:"X",size:64,shape:"circle",backgroundColor:"spotNegative"})}),(0,Ce.jsx)(Z,{color:"textBase",align:"center",font:"title1Semibold",marginBottom:8,children:t("sendErrorTitle")}),(0,Ce.jsx)(Z,{color:"textDiminished",align:"center",font:"body",children:t("sendErrorFallback")})]}),(0,Ce.jsx)(Fn,{onPress:e,children:t("homeTab")})]})},"SendErrorFallback");var Ht=(0,kt.createContext)(!1),ns=i(({goHome:e,children:t})=>{let n=(0,kt.useCallback)(()=>{f.getState().resetSendSlice(),e()},[e]);return(0,Ft.jsx)(Cn,{fallback:i(o=>{if(o instanceof qe)return(0,Ft.jsx)(Ro,{goHome:n});throw o},"fallback"),children:(0,Ft.jsx)(Ht.Provider,{value:!0,children:t})})},"SendFungibleFlowErrorBoundary");c();m();var Io=C(z());c();m();c();m();var vo=i((e,t)=>{let{getExistingAccount:n,getKnownAddressLabel:o}=Le();if(!e)return null;let r=n(e),s=o(e,t),u=r?r.name:s;return u||null},"useResolveHandleFromAddress");var Ct=i(({recipient:e,recipientHandle:t,networkID:n})=>{let o=vo(e,n),{data:r}=zn(e,n),s=r?.address&&e;return{recipient:r?.address?r.address:e,recipientHandle:t||o||s||""}},"useResolvedRecipient");c();m();var wo=i((e,t)=>{let n=We(e,4);return t?`${t} (${n})`:n},"formatRecipient");var Wt=i(()=>{let e=f(r=>r.sendFormValues.recipient),t=f(r=>r.sendFormValues.recipientHandle),n=f(r=>r.encodedCaip19),o=n?ut(n).chainId:mt.Solana.Mainnet;return Ct({recipient:e,recipientHandle:t,networkID:o})},"useResolvedSendFungibleRecipient"),Bo=i(()=>{let{recipient:e,recipientHandle:t}=Wt();return(0,Io.useMemo)(()=>wo(e,t),[e,t])},"useFormattedSendFungibleRecipient");var ue=i(()=>{if(!(0,Ae.useContext)(Ht))throw new Error("useSendFungibleFlow must be used within a SendFungibleFlowErrorBoundary");let t=bn(),n=f(F=>F.fungibleKey),o=f(F=>F.encodedCaip19),r=f(F=>F.splTokenAccount),s=f(F=>!!F.sendFormValues.solana),u=(0,Ae.useMemo)(()=>{if(o)return o;if(s&&n){let F=t.find(ee=>I.isSolanaNetworkID(ee))??I.solana.mainnetID;return n==="SolanaNative"?Mt({chainId:F,resourceType:Ut.nativeToken,slip44:tn.Solana}):Mt({chainId:F,resourceType:Ut.address,address:n})}},[o,s,n,t]),{data:d}=Tt({legacyKey:n??"",encodedCaip19:u??"",isSplCompressed:!1,queryOptions:{enabled:!!n&&!!u}}),p=(0,Ae.useMemo)(()=>{if(d)return bo(d,{splTokenAccount:r})},[d,r]),[a]=(0,Ae.useState)(p),g=(0,Ae.useMemo)(()=>{let F=a?.data.chain.id;if(F){if(I.isBitcoinNetworkID(F)){let ee=a?.data.walletAddress;return ee?{address:ee,networkID:F}:void 0}return F}},[a]),{data:A}=ft(g);if(!a&&!A)throw new qe("fungible and senderAddress are undefined, send flow is broken");if(!a)throw new qe("fungible is undefined, send flow is broken");if(!A)throw new qe("senderAddress is undefined, send flow is broken");let{data:h,type:y}=a,{chain:R,decimals:L,logoUri:k,symbol:S,balance:N,key:B}=h,V=(0,Ae.useMemo)(()=>{if(d)return xt(d);if(h.tokenAddress)return h.tokenAddress},[d,h.tokenAddress]),G=R.id,U=S||(V?We(V,4):l.t("tokenRowUnknownToken")),$=V??"",v=y===ht.SPL?a.data.programId:null,T=Bo(),x=f(F=>F.sendFormValues),{amountAsset:w}=x,_=Ge(w,L),M=`${Ye(_,L)} ${U}`,re=(0,Ae.useMemo)(()=>On(a),[a]),{data:fe}=Hn({query:re?{data:re}:void 0}),{fromUsd:Ue,formatLocalizedPrice:ce}=yt(),ge=fe?.usd??0,H=rt(_.toNumber(),ge),ye=Ue(H),se=ce(ye),Q=ge?`~${se}`:"-",Me=Mn(a);return{senderAddress:A,networkID:G,tokenAddress:$,symbol:U,balance:N,decimals:L,programId:v,formattedRecipient:T,uiAmount:_,usdPriceOfToken:ge,formattedUiAmount:M,formattedCurrencyAmount:Q,tokenPrice:se,logoUri:k,type:y,key:B,transferFeePercent:Me}},"useSendFungibleFlow");c();m();var Rt=C(z());c();m();c();m();var dr=[Ln.toString(),Dn.toString()],No=i(async(e,t)=>{let n=Nn(t);try{let o=await n.getParsedAccountInfo(new ct.PublicKey(e));if(o&&dr.includes(o.value?.owner.toString()??"")&&"mintAuthority"in(o.value?.data).parsed.info)return!0}catch{}return!1},"isMintAccount");var cr=1*24*60*1e3,mr=1*60*1e3,Lo=i(({address:e,networkID:t})=>on({queryKey:["is-mint-account",e],queryFn:i(async()=>{if(!I.isSolanaNetworkID(t))throw new Error("Attempting to get mint account for non-Solana network");return No(e,t)},"queryFn"),enabled:!!e&&I.isSolanaNetworkID(t),gcTime:cr,staleTime:mr}),"useIsMintAccount");c();m();var Uo=C(z());c();m();var Do=890880,Et=i(()=>{let{senderAddress:e,type:t,networkID:n}=ue(),o=f(d=>d.sendFormValues),r=t===ht.SolanaNative,s=Ct({recipient:o.recipient,recipientHandle:o.recipientHandle,networkID:n}),{data:u}=eo({...e,address:s.recipient},r);return r&&typeof u<"u"&&u<Do?Do:0},"useMinSendableAmount");var Mo=i((e,t,n)=>{let{fungibleKey:o,splTokenAccount:r,encodedCaip19:s}=f(R=>({fungibleKey:R.fungibleKey,splTokenAccount:R.splTokenAccount,encodedCaip19:R.encodedCaip19})),{data:[u]}=pt(["kill-send-simulation"]),d=Et(),p=(0,Uo.useMemo)(()=>{if(!(!e||u))return{sendSessionId:"simulate-send",shouldShowFiatValues:!1,fungibleKey:o,encodedCaip19:s,splTokenAccount:r,confirmedFungibleAndSender:null,sendFormValues:{recipient:t,recipientHandle:"",amountAsset:new Fe(d===0?1:d),solana:{references:[]}},gasEstimation:void 0}},[e,u,o,s,r,t,d]),{data:a,isLoading:g}=De(p),A={type:"transaction",userAccount:e,params:void 0,url:"https://phantom.com",networkID:n};a&&(I.isEVMNetworkID(a.networkID)&&(A.params={transactions:[a.unsignedTransaction]}),I.isSolanaNetworkID(a.networkID)&&(A.params={transactions:a.transaction.map(R=>Jt(R)),method:"signAndSendTransaction"}));let{data:h,isLoading:y}=io(A,{disabled:!a||u,disableRefetch:!0});return{data:h,isLoading:!u&&(g||y)}},"useSimulateSend");c();m();function ur(e,t){return e.transactionHash===t.transactionHash&&e.index===t.index}i(ur,"matchesUtxo");function lr(e){return Buffer.from(e).reverse().toString("hex")}i(lr,"toTxHash");function pr(e){return e.txInputs.map(t=>{if(typeof t.hash=="string")throw new Error("Expected hash to be a Buffer");return{transactionHash:lr(t.hash),index:t.index}})}i(pr,"getUtxoIdsFromPsbt");var Po=i(({senderAddress:e,recipient:t,networkID:n})=>{let o=f(),{data:r}=De(o),{t:s}=Y(),u=e?{address:e,addressType:lt(n,e),networkID:n}:void 0,{data:d,isLoading:p}=jn(u);if(!sn("enable-bypass-utxo-protection")||!r||!In(r))return{utxoWarning:void 0,utxoWarningVariant:"warning",isUtxoWarningLoading:p};let g=pr(r.psbt),A=d?.safeToSendUtxos?.filter(k=>g.some(N=>ur(N,k))&&k.rareSatDetails),h=null,y=null,R=0;A?.forEach(k=>{k.rareSatDetails&&((y===null||k.rareSatDetails.bestRarity<y)&&(y=k.rareSatDetails.bestRarity,h=k.rareSatDetails.mostRareType.replace(/_/g," ")),R+=k.rareSatDetails.totalRareSats)});let L=A&&A.length>0;return{utxoWarning:L&&h?R===1?s("sendRareSatsUtxoWarningWithType",{rareType:h}):s("sendRareSatsUtxoWarningWithTypePlural",{rareType:h,numRareSats:R}):L?s("sendRareSatsUtxoWarning"):void 0,utxoWarningVariant:"warning",isUtxoWarningLoading:p}},"useUtxoWarning");var fr=i((e,t)=>({address:e,addressType:lt(t,e),networkID:t}),"recipientToChainAddress"),gr=i(({senderAddress:e,senderAccounts:t,networkID:n})=>(0,Rt.useMemo)(()=>e?t.reduce((o,r)=>{let s=r.addresses.filter(u=>u.networkID===n&&u.address!==e);if(n)for(let u of s)o.push({label:r.name,address:u.address,chainID:n});return o},[]):[],[e,t,n]),"useCompatibleSenderAddresses");function Sr(e){if(!e)return"";let{warnings:t=[],error:n=""}=e;return n==="UNKNOWN_ERROR"?t[0]?.message:n==="INSUFFICIENT_FUNDS"?l.t(`sendWarning_${n}`):""}i(Sr,"getWarningFromSimulationResult");var hr=i(({senderAddress:e,recipient:t,networkID:n})=>{let{data:o,isLoading:r}=Mo(e??"",t,n);return{simulationWarning:Sr(o),isSimulationLoading:r}},"useSimulationWarnings"),br=i(({recipient:e,networkID:t})=>{let{currentRecipient:n,isStaleRecipient:o,recipientError:r}=Xn(e,t);return!o&&!r&&n.length>0?n:""},"useResolvedRecipient"),Ar=i(({recipient:e,networkID:t})=>{let{data:n=[],isLoading:o}=Pn({chainAddresses:e?[fr(e,t)]:[]});return{recipientHasZeroBalance:(0,Rt.useMemo)(()=>n.length===1&&n[0].data.amount==="0",[n]),recipientTokensIsLoading:o}},"useRecipientHasZeroBalance"),it=i(({senderAddress:e,senderAccounts:t,networkID:n,recipient:o})=>{let{recentAddresses:r,savedAddresses:s}=Le(),u=gr({senderAddress:e,senderAccounts:t,networkID:n}),d=br({recipient:o,networkID:n}),{recipientHasZeroBalance:p,recipientTokensIsLoading:a}=Ar({recipient:d,networkID:n}),{data:g,isLoading:A}=Lo({address:d,networkID:n}),{simulationWarning:h,isSimulationLoading:y}=hr({senderAddress:e??"",recipient:d,networkID:n}),{utxoWarning:R,isUtxoWarningLoading:L}=Po({senderAddress:e??"",recipient:d,networkID:n}),k=!d||a||A&&I.isSolanaNetworkID(n)||y||L;return{sendAddressWarning:(0,Rt.useMemo)(()=>k||!e?null:R||(g?l.t("sendMintAccountWarning"):u.find(B=>B.address===d)?null:h||(r.addresses.find(B=>B.address===o)||s.addresses.find(B=>B.address===o)?null:e===d?l.t("sendSameAddressWarning"):p?l.t("sendRecipientZeroBalanceWarning"):l.t("sendUnknownAddressWarning"))),[r,s,o,d,u,e,p,g,h,k,R]),sendAddressVariant:g?"danger":"warning"}},"useSendWarning");c();m();var W=C(z());c();m();function Oo(e,t){return e.isZero()?new Fe(Ke.get(t).amountForGasEstimation??0):e}i(Oo,"amountForGasEstimation");var yr=nn({seconds:10}),Tr=i(({onClose:e,onNext:t})=>{let{senderAddress:n,networkID:o,decimals:r,programId:s,type:u,balance:d,usdPriceOfToken:p,symbol:a,logoUri:g,formattedUiAmount:A,formattedCurrencyAmount:h}=ue(),y=Et(),R=Ge(y,r).toNumber(),[L,k]=(0,W.useState)(""),S=(0,W.useMemo)(()=>{try{let b=new Fe(L);if(!b.isNaN())return b}catch{}return new Fe(0)},[L]),N=f(b=>b),B=f(b=>b.sendFormValues),V=f(b=>b.resetSendSlice),{amountAsset:G,amountUsd:U,recipient:$}=B,v=f(b=>b.setSendFormValues),T=f(b=>b.shouldShowFiatValues),x=f(b=>b.setShouldShowFiatValues),w=s===rn,_=B.solana.memo,M=(0,W.useMemo)(()=>{let b=N.sendFormValues.recipient;return{...N,sendFormValues:{...B,recipient:b||n.address,amountAsset:Oo(B.amountAsset,o)}}},[B,N,n,o]),{data:re}=De(M),{data:fe}=Je({networkID:o,multichainTransaction:re,transactionSpeed:"fastest",queryOptions:{refetchInterval:yr}}),{currencySymbol:Ue,currencyCode:ce,toUsd:ge,fromUsd:H,formatLocalizedPrice:ye}=yt(),se=qn({chainAddress:n,type:u,balance:d,decimals:r,recipient:$,gasEstimation:fe,clampToZero:!0}),Q=Ge(se??0,r),Me=rt(Q.toNumber(),p),F=H(Me,2),ee=T?Ue:void 0,ie=T?void 0:` ${a}`,Ee=T?ce:a,me=(0,W.useMemo)(()=>{if(S.isZero())return;let b=bt.get(o),K=T?b.minimumSendableCurrencyAmount:R,we=T?F:Q,nt=S.lt(K),Lt=S.gt(we);return nt?l.t("sendFormErrorMinRequiredInterpolated",{minAmount:K,tokenName:Ee}):Lt?l.t("sendFormErrorInsufficientBalance"):void 0},[S,T,o,F,Q,R,Ee]),te=(0,W.useCallback)(b=>{let K=fn(b),we=gn(K,r);k(we)},[r]),Se=(0,W.useCallback)(()=>{let b=Ge(G,r).toString(10),K=H(U??0).toString(10);te(T?b:K),x(!T)},[T,x,G,U,r,te,H]),he=(0,W.useCallback)(()=>{te(T?F.toString(10):Q.toString(10))},[te,T,Q,F]);(0,W.useEffect)(()=>{let b,K,we;T?(we=S.toNumber(),K=ge(we),b=Pt(Yn(K,p,r),r)):(b=Pt(S,r),K=rt(S.toNumber(),p)),v({...f.getState().sendFormValues,amountAsset:b,amountUsd:K})},[v,S,T,p,r,ge]),(0,W.useEffect)(()=>{if(L)return;let b=T?U:Ge(G,r).toNumber();b&&k(b.toString())},[]);let et=(0,W.useMemo)(()=>T?p?`${A}`:`??? ${a}`:`${h}`,[T,p,a,A,h]),Re=(0,W.useMemo)(()=>{let b=ee??"",K=ie??"";return T?`${ye(F)}`:`${b}${Ye(Q)}${K}`},[T,F,Q,ee,ie,ye]),Pe=(0,W.useCallback)(b=>{let K=B.solana;K.memo=b,v({...B,solana:K})},[B,v]),Oe=(0,W.useMemo)(()=>!me&&G.gt(0),[me,G]),ze=(0,W.useCallback)(()=>{Oe&&t()},[Oe,t]),dt=(0,W.useCallback)(()=>{e(),V()},[e,V]),tt=(0,W.useMemo)(()=>({edit:l.t("commandEdit"),next:l.t("commandNext"),send:l.t("commandSend"),cancel:l.t("commandCancel"),maxInput:l.t("maxInputMax"),inputAmountPlaceholder:l.t("maxInputAmount"),recipientAddress:l.t("sendRecipientAddress"),memoPlaceholder:l.t("sendMemoOptional"),availableToSend:l.t("availableToSend"),available:l.t("available"),pageTitle:`${l.t("commandSend")} ${a}`}),[a]),X=I.isMainnetNetworkID(o);return{networkID:o,handleClose:dt,handleInputChange:te,handleMemoChange:Pe,handleNext:ze,primaryTextPrefix:ee,primaryText:L,primaryTextSuffix:ie,toggleDenomination:Se,errorText:me,secondaryText:et,formattedMaxAmount:Re,primarySymbol:Ee,symbol:a,decimals:r,logoUri:g,canGoNext:Oe,i18nStrings:tt,handleSetMax:he,showSecondaryText:X,canSendCurrencyAmount:X&&!!p,isMemoEnabled:w,memo:_}},"useSendFungibleAmountPage");c();m();var le=C(z());var xr=i(({onClose:e,onRecipientNavigation:t,onAmountNavigation:n,networkID:o})=>{let{recipientHandle:r}=f(v=>v.sendFormValues),{data:s,isLoading:u}=ao({usernameOrUserProfileId:r}),d=(0,le.useMemo)(()=>{if(s?.addresses)return Object.keys(s.addresses)},[s]),{isLoading:p,hasNextPage:a,fungibleTokens:g,visibilityOverrides:A}=no(),h=(0,le.useMemo)(()=>{let v=o?g.filter(x=>x.decodedCaip19.chainId===o):g;return(d?v.filter(x=>d.includes(x.decodedCaip19.chainId)):v).filter(x=>!x.extraMetadata?.compression?.compressed)},[o,g,d]),[y,R]=(0,le.useState)(""),L=mn(y)??"",k=ln(h,L,So),S=f(v=>v.resetSendSlice),N=(0,le.useMemo)(()=>({close:l.t("commandClose"),search:l.t("assetListSearch"),unknownToken:l.t("assetDetailUnknownToken"),noTokens:l.t("sendNoTokens")}),[]),B=(0,le.useCallback)(v=>R(v),[R]),V=(0,le.useCallback)(()=>{e(),S()},[e,S]),G=(0,le.useCallback)(v=>{let{key:T,splTokenAccountPubkey:x,networkId:w,encodedCaip19:_}={key:v.legacyKey??v.encodedCaip19,splTokenAccountPubkey:ho(v,{find:"highestQuantity"})?.account,networkId:v.decodedCaip19.chainId,encodedCaip19:v.encodedCaip19},M=f.getState().fungibleKey;M&&M!==T&&f.getState().resetSendSlice(),f.setState({fungibleKey:T,splTokenAccount:x,encodedCaip19:_});let re=f.getState().sendFormValues;if(re.recipientHandle&&!re.recipient){let fe=s?.addresses[w];if(fe){f.setState({sendFormValues:{...re,recipient:fe}}),n();return}}t()},[t,n,s?.addresses]),U=p||u;return{fungibles:(0,le.useMemo)(()=>a?[...k,"loading"]:k,[a,k]),isLoading:U,visibilityOverrides:A,searchQuery:y,handleSearch:B,handleClose:V,handleSelect:G,i18nStrings:N}},"useSendFungibleSelectPage");c();m();c();m();var Gt=C(z());var Vo=i(()=>{let e=f(a=>a.analyticsRecipient),t=f(a=>a.fungibleKey),n=f(a=>a.encodedCaip19),{data:o}=Tt({legacyKey:t??"",encodedCaip19:n??"",isSplCompressed:!1,queryOptions:{enabled:!!t&&!!n}}),r=n?ut(n).chainId:mt.Solana.Mainnet,{data:s=[]}=Ne(),{data:u}=An(),d=(0,Gt.useMemo)(()=>s.some(a=>a.addresses.some(g=>g.address===e?.address)),[s,e]),{data:p}=ft({address:o?.walletAddress,networkID:r});return(0,Gt.useMemo)(()=>({assetType:"token",networkId:r,recipient:e,senderAddress:p?.address??"",senderUsername:u?.username??"",tokenAddress:o?xt(o)??"":"",tokenSymbol:o?.symbol??"",tokenType:o?to(o):void 0,selfSend:d}),[r,e,p?.address,u?.username,o,d])},"useSendTokenAnalyticsParams");c();m();var pe=C(z());c();m();var Wo=C(z(),1),Go=C(z(),1);var Fr=i(e=>typeof e=="function","x"),_o=i((e,t)=>Fr(e)?e(t):e,"p"),kr=(()=>{let e=0;return()=>(++e).toString()})();var Cr=20,vt=new Map,Er=1e3,Ho=i(e=>{if(vt.has(e))return;let t=setTimeout(()=>{vt.delete(e),wt({type:4,toastId:e})},Er);vt.set(e,t)},"b"),Rr=i(e=>{let t=vt.get(e);t&&clearTimeout(t)},"M"),$t=i((e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Cr)};case 1:return t.toast.id&&Rr(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return e.toasts.find(s=>s.id===n.id)?$t(e,{type:1,toast:n}):$t(e,{type:0,toast:n});case 3:let{toastId:o}=t;return o?Ho(o):e.toasts.forEach(s=>{Ho(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===o||o===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+r}))}}},"g"),vr=[],Kt={toasts:[],pausedAt:void 0},wt=i(e=>{Kt=$t(Kt,e),vr.forEach(t=>{t(Kt)})},"T");var wr=i((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||kr()}),"w"),at=i(e=>(t,n)=>{let o=wr(t,e,n);return wt({type:2,toast:o}),o.id},"l"),de=i((e,t)=>at("blank")(e,t),"a");de.error=at("error");de.success=at("success");de.loading=at("loading");de.custom=at("custom");de.dismiss=e=>{wt({type:3,toastId:e})};de.remove=e=>wt({type:4,toastId:e});de.promise=(e,t,n)=>{let o=de.loading(t.loading,{...n,...n?.loading});return e.then(r=>(de.success(_o(t.success,r),{id:o,...n,...n?.success}),r)).catch(r=>{de.error(_o(t.error,r),{id:o,...n,...n?.error})}),e};c();m();var Ko=C(z());var $o=i(({networkID:e,transactionUnitAmount:t,onTransactionSpeedChange:n})=>{let{status:o,data:r}=At({networkID:e}),{transactionSpeed:s}=f(d=>d.sendFormValues),u=(0,Ko.useMemo)(()=>{if(o!=="error"&&r&&s)return()=>n({transactionSpeed:s,transactionUnitAmount:t})},[n,s,t,r,o]);return{transactionSpeed:s,openTransactionSettings:u}},"useSendFungibleGasSettings");c();m();var jt=C(ne());var jo=C(z());var zt=i(({networkID:e,formattedRecipient:t,networkName:n,networkFee:o,networkFeeErrorMsg:r,networkFeeRow:s,displayFeeTooltip:u,transferFeePercent:d,solanaMetadata:p,openTransactionSettings:a,onNetworkFeeDescriptionPress:g,onTransferFeePress:A})=>(0,jo.useMemo)(()=>{let h=[];I.isSolanaNetworkID(e)&&(p.label&&h.push({topLeft:l.t("sendConfirmationLabel"),topRight:p.label}),p.message&&h.push({topLeft:l.t("sendConfirmationMessage"),topRight:p.message}));let y=[{topLeft:l.t("transactionsTo"),topRight:t},{topLeft:l.t("sendFungibleSummaryNetwork"),topRight:n},{...u?{type:"tooltip",tooltipContent:l.t("networkFeesTooltipDescription",{chainName:n}),showTooltip:i(()=>g?.(),"showTooltip"),onClick:a,onPress:a}:{type:"base"},topLeft:l.t("sendFungibleSummaryNetworkFee"),topRight:o.length===0?(0,jt.jsx)(Tn,{width:75,height:8}):{text:o,color:r?"spotNegative":"textDiminished",after:u&&a?(0,jt.jsx)(yn.ChevronRight,{size:xn.icon,color:"textDiminished"}):void 0},bottomLeft:{text:r||s?.leftSubtext,color:r?"spotNegative":s?.leftSubtextColor},bottomRight:s?.rightSubtext,verticalAlign:"baseline"}];return d&&y.push({type:"tooltip",tooltipContent:l.t("sendFungibleTransferFeeToolTip"),showTooltip:i(()=>A?.(),"showTooltip"),topLeft:l.t("sendFungibleTransferFee"),topRight:`${d}%`}),p.memo&&y.push({topLeft:l.t("sendMemo"),bottomLeft:{text:p.memo.replace(/(\r\n|\n|\r)/gm," "),...en?{numberOfLines:void 0}:{}}}),[...h,...y]},[e,t,n,u,o,r,s?.leftSubtext,s?.leftSubtextColor,s?.rightSubtext,p.label,p.message,p.memo,d,g,A,a]),"useSendSummaryRows");var zo;(function(e){e.Link="link"})(zo||(zo={}));var Ir=i(({hasSufficientFunds:e,isTransactionUnitError:t,isTransactionCreationError:n,hasGasEstimationFailed:o,nativeTokenSymbol:r})=>t?l.t("transactionGasLimitError"):o?l.t("transactionGasEstimationError"):e==="insufficient"?l.t("transactionNotEnoughNative",{nativeTokenSymbol:r}):n?l.t("transactionCreationError"):"","getNetworkFeeErrorMessage"),Br=i(({onNext:e,onClose:t,onTransactionSpeedChange:n,onNetworkFeeDescriptionPress:o,onTransferFeePress:r,onSubmissionCheckFail:s,copyToClipboard:u})=>{let d=Xe(),{senderAddress:p,networkID:a,symbol:g,formattedRecipient:A,uiAmount:h,key:y,type:R,transferFeePercent:L}=ue(),k=f(),S=f(X=>X.sendFormValues),N=f(X=>X.setSendFormValues),{amountAsset:B,solana:V}=S,G=I.getNetworkName(a);mo(p,co.SEND_FUNGIBLE);let{data:U,isError:$}=De(k),{data:v,isError:T}=Wn(U),x=(0,pe.useCallback)(({transactionSpeed:X,transactionUnitAmount:ve})=>{n({transactionSpeed:X,transactionUnitAmount:ve,sendFormValues:S,setSendFormValues:N,networkID:a})},[N,S,a,n]),{transactionSpeed:w,openTransactionSettings:_}=$o({networkID:a,transactionUnitAmount:v,onTransactionSpeedChange:x}),{data:M,isFetched:re,isSuccess:fe}=Je({networkID:a,multichainTransaction:U,transactionSpeed:w,queryOptions:{refetchInterval:!1}}),{data:Ue}=Gn(a,M),ce=$n(p),ge=Un(R)?B:new Fe(0),{hasSufficientFunds:H,isLoading:ye,nativeTokenSymbol:se}=oo({networkID:a,addressType:p?.addressType,gasEstimation:M,transactionValue:ge,recipient:S.recipient}),Q=Zn({networkID:a,gasEstimation:M,gasEstimationPrice:Ue}),Me=so(M,l.t),{data:F}=At({networkID:a}),ee=(0,pe.useMemo)(()=>Ke.get(a).supportsNetworkSettings&&Object.keys(F??{}).length>1,[F,a]);(0,pe.useEffect)(()=>{d.capture("sendAssetSummary",{data:{type:"fungible",symbol:g,networkId:a,chainId:I.getChainID(a)}})},[a,g,d]);let{data:ie=[]}=Ne(),{sendAddressVariant:Ee}=it({senderAddress:p?.address,senderAccounts:ie,networkID:a,recipient:S.recipient}),me=re&&!fe,te=!!M&&!ye&&H!=="insufficient"&&!!Q&&Ee!=="danger",Se=Ir({hasSufficientFunds:H,isTransactionUnitError:T,isTransactionCreationError:$,hasGasEstimationFailed:me,nativeTokenSymbol:se}),he=(0,pe.useCallback)(()=>U?ce?(d.capture("showFungibleTxSubmissionFailureModal"),s(ce),!1):(N({...S,multichainTransaction:U}),!0):!1,[U,ce,N,S,d,s]),et=cn((0,pe.useCallback)(()=>{if(!he())return;let ve={chainID:a,amount:h.toString(),symbol:g,address:y};Be.addBreadcrumb(Ie.Fungibles,"approved",_e.Info,ve),e()},[he,g,h,a,e,y]),1e3),Re=zt({networkID:a,formattedRecipient:A,networkName:G,networkFee:Q,networkFeeErrorMsg:Se,networkFeeRow:Me,transferFeePercent:L,solanaMetadata:V,displayFeeTooltip:ee,openTransactionSettings:_,onNetworkFeeDescriptionPress:o,onTransferFeePress:r}),{data:Pe}=vn(),Oe=(0,pe.useMemo)(()=>{let X=U&&Bn(U)?U.transaction.map(ve=>{let Ve=Buffer.from(ve.serialize({verifySignatures:!1,requireAllSignatures:!1})).toString("base64");return{topLeft:l.t("notificationCopyTransactionText"),topRight:Ve.slice(0,8),onClick:i(()=>{u(Ve),de.success(l.t("notificationTransactionCopied"))},"onClick")}}):[];return[...Re,...X]},[Re,U,u]),ze=(0,pe.useCallback)(()=>{t(),k.resetSendSlice()},[t,k]),dt=To(l.language,I.isSolanaNetworkID(a)),tt=(0,pe.useMemo)(()=>({title:l.t("sendConfirmationPrimaryText"),send:l.t("commandSend"),cancel:l.t("commandCancel")}),[]);return{senderAddress:p?.address,networkID:a,handleNext:et,handleClose:ze,canSend:te,txSubmissionCheckFailureModal:ce,summaryRows:Pe&&qt?Oe:Re,i18nStrings:tt,networkHealth:dt}},"useSendFungibleSummaryViewState");c();m();var O=C(ne());var P=C(z());c();m();var Zo=un(Xe,e=>new Zt(e)),Zt=class{static{i(this,"SendAnalytics")}#e;constructor(t){this.#e=t}onSendFlowStart({assetType:t,context:n}){this.#e.capture("sendFlowStart",{data:{assetType:t,context:n}})}onSendAssetAttempt(t){this.#e.capture("sendAssetAttempt",{data:{chainId:I.getChainID(t.networkId),...t}})}onSendAssetSuccess(t){this.#e.capture("sendAssetSuccess",{data:{chainId:I.getChainID(t.networkId),...t}})}onSendAssetFailure(t){this.#e.capture("sendAssetFailure",{data:{chainId:I.getChainID(t.networkId),...t}})}};c();m();var q;(function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR",e.LOADING="LOADING"})(q||(q={}));c();m();var It=C(ne());var Xo=C(z());var Nr=[/Unknown instruction error/i,/Unknown error/i];function Xt({programId:e,customErrorCode:t,customErrorReason:n,errorReason:o}){let{t:r}=Y(),s=Xe(),u=n||o,d=r(u);return(0,Xo.useEffect)(()=>{s.capture("transactionErrorDetails",{data:{programId:e,customErrorCode:t,customErrorReason:n,errorReason:o,hasTranslatedErrorMessage:u!==d}})},[]),(0,It.jsx)(J,{children:(0,It.jsxs)(Z,{align:"center",color:"textDiminished",children:[d,t&&Nr.some(p=>p.test(u))?` (${r("transactionsError")}: ${t})`:""]})})}i(Xt,"TransactionErrorDetails");var Lr=i(({sendSequenceAnalytics:e,onTransactionLinkPress:t,onClose:n,onCancel:o,onBack:r,mobileSignWithLedger:s,ledgerSupported:u})=>{let{t:d}=Y(),{data:[p]}=pt(["kill-base-history"]),{senderAddress:a,networkID:g,symbol:A,formattedRecipient:h,uiAmount:y,logoUri:R,tokenPrice:L,key:k}=ue(),{data:S,status:N}=hn(),B=(0,P.useMemo)(()=>S?.addresses??[],[S]),V=Zo(),G=Vo(),U=f(),$=(0,P.useMemo)(()=>Ot(g),[g]),{transactionSpeed:v,recipient:T}=U.sendFormValues,x=Vn(g,v,a,A,R??"",h,y.toNumber(),L,d),[w,_]=(0,P.useState)(!1),[M,re]=(0,P.useState)(null),[fe,Ue]=(0,P.useState)(null),{addRecentAddress:ce}=Le(),ge=S?.type===dn.Ledger,[H,ye]=(0,P.useState)(void 0),se=Kn("send:fungible",g,!!s);Jn(k,y,H?H.id:"");let Q=ro(B),Me=(0,P.useCallback)(j=>{se(j.id,"confirmed"),V.onSendAssetSuccess({...G,txId:j.id}),Q()},[V,se,Q,G]),{isSuccess:F,isError:ee,error:ie}=Qn(Me,H??void 0),Ee=!!H,me=bt.get(g).sendSuccessCondition,te=(0,P.useMemo)(()=>{switch(me){case Qe.SUBMISSION:return w?q.ERROR:Ee?q.SUCCESS:q.LOADING;case Qe.CONFIRMATION:return w||ee?q.ERROR:F?q.SUCCESS:q.LOADING}},[ee,F,w,Ee,me]),{isError:Se,isSuccess:he}=(0,P.useMemo)(()=>({isError:te===q.ERROR,isSuccess:te===q.SUCCESS}),[te]),et=(0,P.useMemo)(()=>{let j=Ke.get(g).transactionSpeedDescription(v??wn.standard);return j?d(j):""},[g,v,d]),Re=me===Qe.CONFIRMATION?"sendStatusConfirmedSuccessTitle":"sendStatusSubmittedSuccessTitle",Pe=(0,P.useMemo)(()=>{switch(te){case q.LOADING:return d("sendStatusLoadingTitle");case q.ERROR:return d("sendStatusErrorTitle");case q.SUCCESS:return d(Re)}},[te,Re,d]),Oe=(0,P.useMemo)(()=>({titleText:Pe,retryText:d("commandRetry"),cancelText:d("commandCancel"),closeText:d("commandClose"),viewTransactionText:d("sendStatusViewTransaction")}),[Pe,d]);(0,P.useEffect)(()=>{F?(Be.addBreadcrumb(Ie.Fungibles,"transactionStatus",_e.Info,{...$,status:"confirmed"}),H?.id&&e&&e.transactionStatus(H.id,{...$,status:{type:"confirmed"}})):Se&&(Be.addBreadcrumb(Ie.Fungibles,"transactionStatus",_e.Error,{...$,status:"error"}),H?.id&&e&&e.transactionStatus(H.id,{...$,status:{type:"error"}}))},[F,Se,H,$,e]);let{mutateAsync:ze}=yo(),tt=Se?(0,O.jsxs)(O.Fragment,{children:[i(j=>{switch(j){case ot.InsufficientFunds:return(0,O.jsx)(Z,{color:"textDiminished",align:"center",children:d("sendStatusErrorMessageInsufficientBalance")});case ot.UnknownError:default:return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Z,{font:"bodySemibold",color:"textDiminished",align:"center",children:(0,O.jsx)(St,{i18nKey:"sendFungibleErrorMessageInterpolated",values:{uiAmount:y.toString(),assetSymbol:A,uiRecipient:h},components:{2:(0,O.jsx)(Z,{font:"bodySemibold",color:"textBase"})}})}),M?(0,O.jsx)(J,{marginTop:16,justifyContent:"center",children:(0,O.jsx)(Z,{font:"body",color:"textDiminished",children:d("sendFungibleSolanaErrorCode",{code:M})})}):null]})}},"showErrorDetails")(fe??ot.InsufficientFunds),ie&&"data"in ie?(0,O.jsx)(J,{marginY:16,justifyContent:"center",color:"textDiminished",children:(0,O.jsx)(Xt,{errorReason:ie.data.errorReason,programId:ie.data.programId,customErrorReason:ie.data.customErrorReason,customErrorCode:ie.data.customErrorCode})}):null]}):he&&me===Qe.CONFIRMATION?(0,O.jsx)(Z,{font:"bodySemibold",color:"textDiminished",align:"center",children:(0,O.jsx)(St,{i18nKey:"sendFungibleConfirmedSuccessMessageInterpolated",values:{uiAmount:y.toString(),assetSymbol:A,uiRecipient:h},components:{2:(0,O.jsx)(Z,{font:"bodySemibold",color:"textBase"})}})}):he&&me===Qe.SUBMISSION?(0,O.jsx)(Z,{font:"bodySemibold",align:"center",children:d("sendStatusEstimatedTransactionTime",{time:et})}):(0,O.jsx)(Z,{font:"bodySemibold",color:"textDiminished",align:"center",children:(0,O.jsx)(St,{i18nKey:"sendFungibleLoadingMessageInterpolated",values:{uiAmount:y.toString(),assetSymbol:A,uiRecipient:h},components:{2:(0,O.jsx)(Z,{font:"bodySemibold",color:"textBase"})}})}),X=U.sendFormValues.multichainTransaction,{data:ve}=Je({networkID:g,multichainTransaction:X,transactionSpeed:v,queryOptions:{refetchInterval:!1}}),Ve=ve,b=(0,P.useCallback)(async()=>{Be.addBreadcrumb(Ie.Fungibles,"sendButtonClicked",_e.Info,{timestamp:Date.now(),networkID:g,recipient:T,...$});try{if(!X)throw new Error("multichainTransaction is undefined on send status");if(!Ve)throw new Error("gasEstimation is undefined on send status");ce({address:T,chainID:g,timestamp:Date.now()});let j=Date.now();V.onSendAssetAttempt(G);let be=await ze({multichainTransaction:X,pendingTransactionInput:x,senderAddress:a,gasEstimation:Ve}),Ze=be.id;se(Ze,"initiated",j),se(Ze,"received");let Te=Ot(g),xe;Te.chainType===He.Solana&&e?(xe="signAndSendTransaction",e.submittedTransaction(be.id,{...Te,method:xe,walletAddress:a.address})):Te.chainType===He.EVM&&e?(xe="eth_sendRawTransaction",e.submittedTransaction(be.id,{...Te,method:xe,walletAddress:a.address})):Te.chainType===He.Sui&&e?(xe="signAndExecuteTransaction",e.submittedTransaction(be.id,{...Te,method:xe,walletAddress:a.address})):Te.chainName==="bitcoin"&&e&&(xe="sendrawtransaction",e.submittedTransaction(be.id,{...Te,method:xe,walletAddress:a.address})),Be.addBreadcrumb(Ie.Fungibles,"submittedTransaction",_e.Info,{...Te,txReceipt:be.id,method:xe??"UNKNOWN"}),ye(be)}catch(j){let be=_n(j,$.chainType===He.Solana?He.Solana:void 0);if(Ue(be),be===ot.UnknownError&&j instanceof Error&&$.chainType===He.Solana){let[Ze]=j.message.match(/0x\d+/)||[];typeof Ze=="string"&&Ze&&re(Ze)}_(!0),V.onSendAssetFailure(G),Be.captureError(j,Ie.Fungibles)}},[X,T,Ve,ce,$,ze,x,se,g,V,e,a,G,_]),K=f(j=>j.retryArgs),we=(0,P.useCallback)(()=>{K?(ye(void 0),_(!1),b()):r()},[b,r,K]),{data:nt}=Rn(H),Lt=(0,P.useCallback)(()=>{nt&&t(nt)},[t,nt]),or=(0,P.useCallback)(()=>{o()},[o]),rr=(0,P.useCallback)(()=>{let{sendSuccessRedirect:j}=Ke.get(g);n(j(p))},[n,p,g]),sr=En(g),ir=N==="pending",ar=(0,P.useCallback)(()=>{u&&!he&&!Se&&U.resetSendSlice()},[he,Se,U,u]);return pn(ar),{handleClose:rr,handleCancel:or,handleRetry:we,handleTransactionLinkPress:Lt,isSuccess:he,isError:Se,MessageElement:tt,title:Pe,txReceipt:H,handleTokenTransfer:b,i18nStrings:Oe,isLoadingSelectedAccountStatus:ir,isLedger:ge,ledgerApp:sr}},"useSendFungibleStatusPage");c();m();var oe=C(z(),1);c();m();var Bt=C(z(),1);var $e=C(ne(),1),Dr=ae(Fo)`
  width: 100%;
  border-style: none;
  padding: 0;
`,Qo=ae(fo).attrs({width:"28px",borderRadius:"50px"})`
  height: 28px;
`,Yo=Bt.default.memo(({isExpanded:e,addressBookRecipient:t,clearRecipient:n})=>{let{t:o}=Y(),[r,s]=(0,Bt.useState)(!1),u={onMouseEnter:i(()=>s(!0),"onMouseEnter"),onMouseLeave:i(()=>s(!1),"onMouseLeave")},d=r&&!t&&!e;return(0,$e.jsx)(Ao,{color:ke.colors.legacy.areaBase,label:o("sendAddressBookButtonLabel"),ariaLabel:o("sendAddressBookButtonLabel"),alignment:"bottomRight",isVisible:d,triggerParams:u,children:t?(0,$e.jsx)(Qo,{theme:"primary",paddingY:9,onClick:n,children:(0,$e.jsx)(uo,{fill:ke.colors.legacy.areaBase,width:10})}):(0,$e.jsx)(Dr,{children:(0,$e.jsx)(Qo,{paddingY:6,theme:"primary",children:(0,$e.jsx)(lo,{fill:ke.colors.legacy.areaBase})})})})});c();m();var Jo=C(z(),1);var er=C(ne(),1),qo=Jo.default.memo(({symbol:e,chainName:t,recipient:n,recipientError:o,handleRecipientChange:r,onBlur:s})=>{let{t:u}=Y();return(0,er.jsx)(go,{type:"text",name:"recipient",value:n,autoComplete:"off",spellCheck:"false",placeholder:u("sendRecipientTextAreaPlaceholder2",{symbol:t||e}),warning:!!o,onChange:r,onBlur:s,paddingRight:"80px"})});var D=C(ne(),1),tr=ae(st).attrs({size:16,weight:500,color:ke.colors.legacy.textDiminished})`
  font-style: italic;
`,Ur=ae(xo)`
  width: 100%;
  position: relative;
`,Mr=ae(Vt).attrs({align:"center"})`
  position: relative;
  border-radius: 6px;
  border: 1px solid ${ke.colors.legacy.borderDiminished};
  padding: 14px;
  background: ${ke.colors.legacy.areaAccent};
  height: 50px;
  margin-bottom: 2px;
`,Pr=ae(ko)`
  z-index: 2;
  width: 100%;
`,Qt=ae(Eo)`
  padding: 8px 12px;
  min-height: 41px;
`,Or=ae(Vt).attrs({justify:"center"})`
  height: 85px;
`,nr=ae(st).attrs({size:16,color:ke.colors.legacy.textDiminished})``,Vr=ae.div`
  position: absolute;
  right: 12px;
  top: calc(50% - 28px / 2);
  width: auto;
  display: flex;
  gap: 12px;
  align-items: center;
`,_r="__none",Hr=50,Nt=10,Wr=i(e=>{let{addressBookRecipient:t,networkID:n,senderAddress:o,symbol:r,sendFormValues:s,sendFormErrors:u,recipientError:d,handleAddressSelection:p,setSendFormValues:a,setSendFormErrors:g,isLoading:A}=e,{t:h}=Y(),y=(0,oe.useMemo)(()=>({sendAddressBookRecentlyUsed:h("sendAddressBookRecentlyUsed"),sendAddressBookNoAddressesSaved:h("sendAddressBookNoAddressesSaved")}),[h]),{data:R=[]}=Ne(),L=(0,oe.useMemo)(()=>o?R.reduce((x,w)=>{let _=w.addresses.filter(M=>M.networkID===n&&M.address!==o);if(n)for(let M of _)x.push({label:w.name,address:M.address,chainID:n});return x},[]):[],[o,R,n]),{recentAddresses:k,savedAddresses:S}=Le(),N=(0,oe.useMemo)(()=>S.addresses.reduce((x,w)=>(n&&Dt(I.getAddressTypes(w.chainID),I.getAddressTypes(n))&&x.push({...w}),x),[]),[S,n]),B=(0,oe.useMemo)(()=>k.addresses.reduce((x,w)=>(n&&Dt(I.getAddressTypes(w.chainID),I.getAddressTypes(n))&&x.push(w.address),x),[]),[k,n]),V=L.length===0&&N.length===0&&B.length===0,G=(0,oe.useMemo)(()=>{for(let{address:x,label:w}of L)if(x===t)return w;for(let{address:x,label:w}of N)if(x===t)return w},[t,L,N]),{recipient:U}=s,$=(0,oe.useCallback)(x=>{let w=x.currentTarget,_=self.getComputedStyle(w),M=parseInt(_.getPropertyValue("border-top-width"),Nt)+parseInt(_.getPropertyValue("padding-top"),Nt)+w.scrollHeight+parseInt(_.getPropertyValue("padding-bottom"),Nt)+parseInt(_.getPropertyValue("border-bottom-width"),Nt);M=w.value?Math.min(68,M-28):Hr,w.style.height=`${M}px`,a({...s,recipient:Sn(w.value)}),g({...u,recipientError:void 0})},[s,u,g,a]),v=(0,oe.useCallback)(()=>{a({...s,recipient:"",addressBookRecipient:void 0})},[s,a]),T=(0,oe.useMemo)(()=>{if(n)return I.getNetworkName(n)},[n]);return{i18nStrings:y,recipient:U,addressBookRecipient:t,addresses:L,savedAddresses:N,recentAddresses:B,isEmpty:V,selectedName:G,recipientError:d,symbol:r,chainName:T,handleAddressSelection:p,handleRecipientChange:$,clearRecipient:v,isLoading:A}},"useSendAddressBookProps"),km=oe.default.memo(e=>{let t=Wr(e);return(0,D.jsx)(Gr,{...t})}),Gr=oe.default.memo(e=>{let{i18nStrings:t,recipient:n,addressBookRecipient:o,addresses:r,savedAddresses:s,recentAddresses:u,isEmpty:d,selectedName:p,recipientError:a,symbol:g,chainName:A,handleAddressSelection:h,handleRecipientChange:y,clearRecipient:R,isLoading:L=!1}=e;return(0,D.jsx)(Ur,{onChange:h,value:o??_r,children:({isExpanded:k})=>(0,D.jsxs)(D.Fragment,{children:[o?(0,D.jsxs)(Mr,{children:[p?(0,D.jsx)(st,{size:16,weight:500,children:p}):(0,D.jsx)(tr,{children:t.sendAddressBookRecentlyUsed}),(0,D.jsxs)(st,{opacity:.5,size:16,weight:400,margin:"0 0 0 6px",children:["(",o.includes(".")?o:We(o,4),")"]})]}):(0,D.jsx)(qo,{symbol:g??"",chainName:A,recipient:n,recipientError:a,handleRecipientChange:y}),(0,D.jsxs)(Vr,{children:[L?(0,D.jsx)(po,{diameter:20}):null,(0,D.jsx)(Yo,{isExpanded:k,addressBookRecipient:o,clearRecipient:R})]}),(0,D.jsx)(Pr,{portal:!1,children:(0,D.jsxs)(Co,{maxHeight:"150px",children:[r.map(({address:S,label:N,chainID:B},V)=>(0,D.jsx)(Qt,{value:S,children:(0,D.jsx)(_t,{name:N,publicKey:S,publicKeyLabel:an(B,S)})},`${S}-${V}`)),s.map(({address:S,label:N},B)=>(0,D.jsx)(Qt,{value:S,children:(0,D.jsx)(_t,{name:N,publicKey:S})},`${S}-${B}`)),u.map((S,N)=>(0,D.jsxs)(Qt,{value:S,children:[(0,D.jsx)(tr,{children:t.sendAddressBookRecentlyUsed}),(0,D.jsx)(nr,{opacity:.5,children:We(S,4)})]},`${S}-${N}`)),d&&(0,D.jsx)(Or,{children:(0,D.jsx)(nr,{children:t.sendAddressBookNoAddressesSaved})})]})})]})})});c();m();var je=C(ne());var Kr=i(()=>{let{uiAmount:e,symbol:t,formattedCurrencyAmount:n}=ue(),o=Ye(e);return(0,je.jsxs)(J,{direction:"column",alignItems:"center",marginTop:8,marginBottom:32,children:[(0,je.jsx)(J,{marginBottom:16,children:(0,je.jsx)(gt,{icon:"Send2",size:64,color:"spotBase",backgroundColor:"areaBase",shape:"circle"})}),(0,je.jsxs)(Z,{font:"heading1Semibold",align:"center",children:[o," ",t]}),n?(0,je.jsx)(Z,{color:"textDiminished",font:"title2",align:"center",children:n}):null]})},"SendFungibleSummaryHeader");c();m();var Yt=C(ne());var $r=i(({networkId:e,senderAddress:t})=>{let{data:n=[]}=Ne(),{recipient:o}=Wt(),{sendAddressWarning:r,sendAddressVariant:s}=it({senderAddress:t,senderAccounts:n,networkID:e,recipient:o});return r?(0,Yt.jsx)(J,{marginBottom:12,children:(0,Yt.jsx)(kn,{level:s==="danger"?"1-critical-alert":"2-alert",children:r})}):null},"SendFungibleWarningBanner");c();m();export{ns as a,ue as b,it as c,zt as d,Br as e,Tr as f,xr as g,Xt as h,Lr as i,km as j,Kr as k,$r as l};
//# sourceMappingURL=chunk-6Z7UWBUH.js.map
